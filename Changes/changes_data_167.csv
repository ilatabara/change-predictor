id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fneutron~stable%2Ftrain~I1af32e72abb9f101f9729aa6d1354c33a95c98ee,openstack/neutron,stable/train,I1af32e72abb9f101f9729aa6d1354c33a95c98ee,[DHCP] Fix cleanup_deleted_ports method,MERGED,2021-06-11 09:05:28.000000000,2021-06-14 19:19:02.000000000,2021-06-14 19:17:39.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 09:05:28.000000000', 'files': ['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3c4bbe5eafe48459d4c1fbf71845ad623c26b7b9', 'message': '[DHCP] Fix cleanup_deleted_ports method\n\nAssume that only one port is deleted within 24 hours, in method\ncleanup_deleted_ports the port removes from deleted_ports but not\nremoves from deleted_ports_ts\nIn this fix ports older than 1 day will be dropped from\ndeleted_ports and deleted_ports_ts properly\n\nCloses-Bug: #1930838\nChange-Id: I1af32e72abb9f101f9729aa6d1354c33a95c98ee\n(cherry picked from commit 383f209b502493ca6b059394e2644def754b2de1)\n'}]",0,795881,3c4bbe5eafe48459d4c1fbf71845ad623c26b7b9,24,3,1,32667,,,0,"[DHCP] Fix cleanup_deleted_ports method

Assume that only one port is deleted within 24 hours, in method
cleanup_deleted_ports the port removes from deleted_ports but not
removes from deleted_ports_ts
In this fix ports older than 1 day will be dropped from
deleted_ports and deleted_ports_ts properly

Closes-Bug: #1930838
Change-Id: I1af32e72abb9f101f9729aa6d1354c33a95c98ee
(cherry picked from commit 383f209b502493ca6b059394e2644def754b2de1)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/795881/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py']",2,3c4bbe5eafe48459d4c1fbf71845ad623c26b7b9,bug/1930838-stable/train," self.assertEqual([], self.nc._deleted_ports_ts) # check the second iteration is ok too nc.add_to_deleted_ports(fake_port2.id) utils.wait_until_true(lambda: nc._deleted_ports == set(), timeout=7) self.assertEqual([], self.nc._deleted_ports_ts)",,9,2
openstack%2Frequirements~master~I89bd4a75336cee8d00e4041c40ce9f28cca16b9e,openstack/requirements,master,I89bd4a75336cee8d00e4041c40ce9f28cca16b9e,update constraint for os-net-config to new release 15.0.0,MERGED,2021-06-14 15:24:27.000000000,2021-06-14 18:28:46.000000000,2021-06-14 18:27:30.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 15:24:27.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/40a247dc1f3e9c731552653c11867ca3d8a29278', 'message': 'update constraint for os-net-config to new release 15.0.0\n\nmeta: version: 15.0.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: yes\nmeta: release:Author: Marios Andreou <marios@redhat.com>\nmeta: release:Commit: Marios Andreou <marios@redhat.com>\nmeta: release:Change-Id: If80932ebd102d4bcda70256f4cf82cb5267939da\nmeta: release:Code-Review+1: Harald Jensås <hjensas@redhat.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I89bd4a75336cee8d00e4041c40ce9f28cca16b9e\n'}]",0,796290,40a247dc1f3e9c731552653c11867ca3d8a29278,8,2,1,11131,,,0,"update constraint for os-net-config to new release 15.0.0

meta: version: 15.0.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: no
meta: first: yes
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: If80932ebd102d4bcda70256f4cf82cb5267939da
meta: release:Code-Review+1: Harald Jensås <hjensas@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I89bd4a75336cee8d00e4041c40ce9f28cca16b9e
",git fetch https://review.opendev.org/openstack/requirements refs/changes/90/796290/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,40a247dc1f3e9c731552653c11867ca3d8a29278,new-release,os-net-config===15.0.0,os-net-config===14.1.0,1,1
openstack%2Fdevstack~master~I3a5722873f395bc52cc55a0fd6bcea0ebe3b74fc,openstack/devstack,master,I3a5722873f395bc52cc55a0fd6bcea0ebe3b74fc,Temporary add feature pragma,MERGED,2021-06-11 15:01:13.000000000,2021-06-14 18:15:20.000000000,2021-06-14 18:13:21.000000000,"[{'_account_id': 2}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-11 15:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ab733614cd40e909b3f5c7803f4cf4d096d8d2e2', 'message': 'Temporary add feature pragma\n\nOpenStackSDK has a feature branch ""feature/r1"" as a preparation for the\nR1.0 release. Due to different branch naming functional tests with\ndevstack are not running. Add temporarily (for the duration of the\nfeature branch) pragma to the zuul.yaml to allow Zuul run functional\ntests. It will be dropped once SDK gets next major release.\nPrevious attemp didn\'t work well for other projects, therefore\nexplicitly include stable branches down to ocata.\n\nChange-Id: I3a5722873f395bc52cc55a0fd6bcea0ebe3b74fc\n'}, {'number': 2, 'created': '2021-06-11 15:06:39.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/89baa314c1408251abd9f4d61d9cf5e5c945bc4e', 'message': 'Temporary add feature pragma\n\nOpenStackSDK has a feature branch ""feature/r1"" as a preparation for the\nR1.0 release. Due to different branch naming functional tests with\ndevstack are not running. Add temporarily (for the duration of the\nfeature branch) pragma to the zuul.yaml to allow Zuul run functional\ntests. It will be dropped once SDK gets next major release.\nPrevious attemp didn\'t work well for other projects, therefore\nexplicitly include master as well.\n\nChange-Id: I3a5722873f395bc52cc55a0fd6bcea0ebe3b74fc\n'}]",2,796035,89baa314c1408251abd9f4d61d9cf5e5c945bc4e,11,4,2,27900,,,0,"Temporary add feature pragma

OpenStackSDK has a feature branch ""feature/r1"" as a preparation for the
R1.0 release. Due to different branch naming functional tests with
devstack are not running. Add temporarily (for the duration of the
feature branch) pragma to the zuul.yaml to allow Zuul run functional
tests. It will be dropped once SDK gets next major release.
Previous attemp didn't work well for other projects, therefore
explicitly include master as well.

Change-Id: I3a5722873f395bc52cc55a0fd6bcea0ebe3b74fc
",git fetch https://review.opendev.org/openstack/devstack refs/changes/35/796035/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ab733614cd40e909b3f5c7803f4cf4d096d8d2e2,,- pragma: # NOTE(gtema): this is required for the changes in SDK feature/r1 branch to # be using devstack # TODO(gtema): delete this once r1 branch is merged into master implied-branches: - master - stable/wallaby - stable/victoria - stable/ussuri - stable/train - stable/stein - stable/rocky - stable/queens - stable/pike - stable/ocata - feature/r1 ,,17,0
openstack%2Frequirements~stable%2Fussuri~I7c4ac65c4b402291a35665aaf9bc07ea0a646f53,openstack/requirements,stable/ussuri,I7c4ac65c4b402291a35665aaf9bc07ea0a646f53,update constraint for os-collect-config to new release 11.0.4,MERGED,2021-06-14 09:52:16.000000000,2021-06-14 18:13:37.000000000,2021-06-14 18:13:37.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 09:52:16.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a24880ebef185f5c00abd835c63b5a4f21db7234', 'message': 'update constraint for os-collect-config to new release 11.0.4\n\nmeta: version: 11.0.4\nmeta: diff-start: -\nmeta: series: ussuri\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Marios Andreou <marios@redhat.com>\nmeta: release:Commit: Marios Andreou <marios@redhat.com>\nmeta: release:Change-Id: If0eb0b199288555fc58760f74a7afaa4da3d3828\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I7c4ac65c4b402291a35665aaf9bc07ea0a646f53\n'}]",0,796250,a24880ebef185f5c00abd835c63b5a4f21db7234,8,2,1,11131,,,0,"update constraint for os-collect-config to new release 11.0.4

meta: version: 11.0.4
meta: diff-start: -
meta: series: ussuri
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: If0eb0b199288555fc58760f74a7afaa4da3d3828
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I7c4ac65c4b402291a35665aaf9bc07ea0a646f53
",git fetch https://review.opendev.org/openstack/requirements refs/changes/50/796250/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,a24880ebef185f5c00abd835c63b5a4f21db7234,new-release,os-collect-config===11.0.4,os-collect-config===11.0.3,1,1
openstack%2Freleases~master~I588e7daa47b27e98adf28d4242384efd9cc58c07,openstack/releases,master,I588e7daa47b27e98adf28d4242384efd9cc58c07,release oslo's deliverable for victoria,MERGED,2021-06-10 14:31:14.000000000,2021-06-14 18:11:50.000000000,2021-06-14 18:11:50.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-10 14:31:14.000000000', 'files': ['deliverables/victoria/tooz.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4e6885c74266e94b262e785113507e62d21b06a8', 'message': ""release oslo's deliverable for victoria\n\nChange-Id: I588e7daa47b27e98adf28d4242384efd9cc58c07\n""}]",0,795817,4e6885c74266e94b262e785113507e62d21b06a8,8,3,1,28522,,,0,"release oslo's deliverable for victoria

Change-Id: I588e7daa47b27e98adf28d4242384efd9cc58c07
",git fetch https://review.opendev.org/openstack/releases refs/changes/17/795817/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/tooz.yaml'],1,4e6885c74266e94b262e785113507e62d21b06a8,oslo-victoria, - version: 2.7.2 projects: - repo: openstack/tooz hash: 1ddddbba734e5eb4cbba82ae9951a8eb09f94bb9,,4,0
openstack%2Fneutron~stable%2Fwallaby~I2a5e1fe3dbc6f2f342feaec92f4c122cfccce6d1,openstack/neutron,stable/wallaby,I2a5e1fe3dbc6f2f342feaec92f4c122cfccce6d1,Added common config and SR-IOV agent config to sanity check,MERGED,2021-06-11 14:56:35.000000000,2021-06-14 18:06:15.000000000,2021-06-14 18:04:44.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 14:56:35.000000000', 'files': ['neutron/tests/unit/cmd/test_sanity_check.py', 'neutron/cmd/sanity_check.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/79acb98cfa8d34435074b9d47622d6b33811fd5e', 'message': 'Added common config and SR-IOV agent config to sanity check\n\nAdded common config and SR-IOV agent config parameters to the sanity\ncheck script, to add the following missing configuration parameters:\n- default.notify_nova_on_port_status_changes\n- default.notify_nova_on_port_data_changes\n- sriov_nic.physical_device_mappings\n\nChange-Id: I2a5e1fe3dbc6f2f342feaec92f4c122cfccce6d1\nCloses-Bug: #1926170\n(cherry picked from commit 28cd6c82e9a0dbf908eb4ece54085a975c2fe5d4)\n'}]",0,796034,79acb98cfa8d34435074b9d47622d6b33811fd5e,23,3,1,16688,,,0,"Added common config and SR-IOV agent config to sanity check

Added common config and SR-IOV agent config parameters to the sanity
check script, to add the following missing configuration parameters:
- default.notify_nova_on_port_status_changes
- default.notify_nova_on_port_data_changes
- sriov_nic.physical_device_mappings

Change-Id: I2a5e1fe3dbc6f2f342feaec92f4c122cfccce6d1
Closes-Bug: #1926170
(cherry picked from commit 28cd6c82e9a0dbf908eb4ece54085a975c2fe5d4)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/796034/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/cmd/test_sanity_check.py', 'neutron/cmd/sanity_check.py']",2,79acb98cfa8d34435074b9d47622d6b33811fd5e,bug/1926170,from neutron.conf import common as common_configfrom neutron.conf.plugins.ml2.drivers.mech_sriov import agent_common as \ sriov_conf sriov_conf.register_agent_sriov_nic_opts(cfg.CONF) common_config.register_core_common_config_opts(cfg.CONF),,12,4
openstack%2Fnova~master~I7ec4ea68a933d1cb415c4adee97a508cf9611468,openstack/nova,master,I7ec4ea68a933d1cb415c4adee97a508cf9611468,Add debug log for device detach libvirt error,MERGED,2021-06-11 16:13:55.000000000,2021-06-14 17:46:54.000000000,2021-06-14 17:44:30.000000000,"[{'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 16:13:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/42b89462120aa2ecfc502d5b7ff03443f030ed96', 'message': 'Add debug log for device detach libvirt error\n\nWe see a new way of virDomainDetachDeviceFlags() to fail in bug 1931716.\nThis patch logs the libvirt error code and error message.\n\nChange-Id: I7ec4ea68a933d1cb415c4adee97a508cf9611468\nRelated-Bug: #1931716\n'}, {'number': 2, 'created': '2021-06-12 06:24:00.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7c7682149940465acb3d9c5023262af97886055c', 'message': 'Add debug log for device detach libvirt error\n\nWe see a new way of virDomainDetachDeviceFlags() to fail in bug 1931716.\nThis patch logs the libvirt error code and error message.\n\nChange-Id: I7ec4ea68a933d1cb415c4adee97a508cf9611468\nRelated-Bug: #1931716\n'}]",1,796043,7c7682149940465acb3d9c5023262af97886055c,50,3,2,9708,,,0,"Add debug log for device detach libvirt error

We see a new way of virDomainDetachDeviceFlags() to fail in bug 1931716.
This patch logs the libvirt error code and error message.

Change-Id: I7ec4ea68a933d1cb415c4adee97a508cf9611468
Related-Bug: #1931716
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/796043/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,42b89462120aa2ecfc502d5b7ff03443f030ed96,bug/1931716," LOG.debug( ""Libvirt returned error while detaching device %s from "" ""instance %s. Libvirt error code %d, error message: %s."" % (device_name, instance_uuid, code, msg) )",,5,0
openstack%2Fironic~stable%2Fwallaby~I03fdb48e47c9557c207a20ee876eccf3f3459d9f,openstack/ironic,stable/wallaby,I03fdb48e47c9557c207a20ee876eccf3f3459d9f,Refactor iDRAC OEM extension manager calls,MERGED,2021-06-08 10:32:17.000000000,2021-06-14 17:11:01.000000000,2021-06-14 13:02:35.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-08 10:32:17.000000000', 'files': ['ironic/tests/unit/drivers/modules/drac/test_utils.py', 'ironic/tests/unit/drivers/modules/drac/test_raid.py', 'ironic/drivers/modules/drac/boot.py', 'ironic/drivers/modules/drac/management.py', 'ironic/drivers/modules/drac/inspect.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'ironic/tests/unit/drivers/modules/drac/test_inspect.py', 'ironic/tests/unit/drivers/modules/drac/test_boot.py', 'ironic/drivers/modules/drac/raid.py', 'ironic/drivers/modules/drac/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f99d6870712f51cffb4107b9ef6a117a3d86a8c1', 'message': 'Refactor iDRAC OEM extension manager calls\n\n- Re-usable helper created to avoid duplication.\n- Although there is only one manager for system in known iDRAC systems\nstill iterate through collection for future changes.\n- Restructured exception raising and error logging for better feedback.\n- Removed some unit tests to avoid duplication that is covered by\nmethod specific unit tests\n\nChange-Id: I03fdb48e47c9557c207a20ee876eccf3f3459d9f\n(cherry picked from commit 39cd751a9063ae04e1649ccbca5496c3754d706e)\n'}]",0,795275,f99d6870712f51cffb4107b9ef6a117a3d86a8c1,39,3,1,27909,,,0,"Refactor iDRAC OEM extension manager calls

- Re-usable helper created to avoid duplication.
- Although there is only one manager for system in known iDRAC systems
still iterate through collection for future changes.
- Restructured exception raising and error logging for better feedback.
- Removed some unit tests to avoid duplication that is covered by
method specific unit tests

Change-Id: I03fdb48e47c9557c207a20ee876eccf3f3459d9f
(cherry picked from commit 39cd751a9063ae04e1649ccbca5496c3754d706e)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/75/795275/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/drac/test_utils.py', 'ironic/drivers/modules/drac/boot.py', 'ironic/drivers/modules/drac/management.py', 'ironic/tests/unit/drivers/modules/drac/test_raid.py', 'ironic/drivers/modules/drac/inspect.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'ironic/tests/unit/drivers/modules/drac/test_inspect.py', 'ironic/drivers/modules/drac/raid.py', 'ironic/tests/unit/drivers/modules/drac/test_boot.py', 'ironic/drivers/modules/drac/utils.py']",10,f99d6870712f51cffb4107b9ef6a117a3d86a8c1,oem-manager-refactor-fwu-stable/wallaby,"# Copyright (c) 2021 Dell Inc. or its subsidiaries. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_log import log from oslo_utils import importutils from ironic.common import exception from ironic.drivers.modules.redfish import utils as redfish_utils LOG = log.getLogger(__name__) sushy = importutils.try_import('sushy') def execute_oem_manager_method( task, process_name, lambda_oem_func, pass_manager=False): """"""Loads OEM manager and executes passed method on it. Known iDRAC Redfish systems has only one manager, but as Redfish schema allows a list this method iterates through all values in case this changes in future. If there are several managers, this will try starting from the first in the list until the first success. :param task: a TaskManager instance. :param process_name: user friendly name of method to be executed. Used in exception and log messages. :param lambda_oem_func: method to execute as lambda function with input parameter OEM extension manager. Example: lambda m: m.reset_idrac() For older versions also support second input parameter Redfish manager itself when pass_manager set to True. :param pass_manager: whether to pass manager itself to executed OEM extension method. This is for backward compability, new functions must not pass manager, but acquire it internally. Will be removed in future. :returns: Returned value of lambda_oem_func :raises: RedfishError if can't execute OEM function either because there are no managers to the system, failed to load OEM extension or execution of the OEM method failed itself. """""" system = redfish_utils.get_system(task.node) if not system.managers: raise exception.RedfishError( ""System %(system)s has no managers"" % {'system': system.uuid if system.uuid else system.identity}) oem_error_msgs = [] for manager in system.managers: # This call makes Sushy go fishing in the ocean of Sushy # OEM extensions installed on the system. If it finds one # for 'Dell' which implements the 'Manager' resource # extension, it uses it to create an object which # instantiates itself from the OEM JSON. The object is # returned here. # # If the extension could not be found for one manager, it # will not be found for any others until it is installed, so # abruptly exit the for loop. The vendor and resource name, # 'Dell' and 'Manager', respectively, used to search for the # extension are invariant in the loop. try: manager_oem = manager.get_oem_extension('Dell') except sushy.exceptions.OEMExtensionNotFoundError as e: error_msg = (_(""Search for Sushy OEM extension Python package "" ""'sushy-oem-idrac' failed for node %(node)s. "" ""Ensure it is installed. Error: %(error)s"") % {'node': task.node.uuid, 'error': e}) LOG.error(error_msg) raise exception.RedfishError(error=error_msg) try: if pass_manager: result = lambda_oem_func(manager_oem, manager) else: result = lambda_oem_func(manager_oem) LOG.info(""Completed: %(process_name)s with system %(system)s "" ""manager %(manager)s for node %(node)s"", {'process_name': process_name, 'system': system.uuid if system.uuid else system.identity, 'manager': manager.uuid if manager.uuid else manager.identity, 'node': task.node.uuid}) return result except sushy.exceptions.SushyError as e: error_msg = (_(""Manager %(manager)s: %(error)s"" % {'manager': manager.uuid if manager.uuid else manager.identity, 'error': e})) LOG.debug(""Failed: %(process_name)s with system %(system)s "" ""for node %(node)s. Will try next manager, if "" ""available. Error: %(error)s"", {'process_name': process_name, 'system': system.uuid if system.uuid else system.identity, 'node': task.node.uuid, 'error': error_msg}) oem_error_msgs.append(error_msg) else: error_msg = (_('In system %(system)s for node %(node)s all managers ' 'failed: %(process_name)s. Errors: %(oem_error_msgs)s' % {'system': system.uuid if system.uuid else system.identity, 'node': task.node.uuid, 'process_name': process_name, 'oem_error_msgs': oem_error_msgs if oem_error_msgs else 'unknown'})) LOG.error(error_msg) raise exception.RedfishError(error=error_msg) ",,295,564
openstack%2Ftempest~master~I000f81be877c9da678ad0d14bdf933d25169e59a,openstack/tempest,master,I000f81be877c9da678ad0d14bdf933d25169e59a,DNm: testing,ABANDONED,2021-06-11 22:04:44.000000000,2021-06-14 16:36:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-11 22:04:44.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/da514d3ef5e2842eba8fd0d307953a8346b686bf', 'message': 'DNm: testing\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/796035\nChange-Id: I000f81be877c9da678ad0d14bdf933d25169e59a\n'}]",0,796069,da514d3ef5e2842eba8fd0d307953a8346b686bf,3,1,1,8556,,,0,"DNm: testing

Depends-On: https://review.opendev.org/c/openstack/devstack/+/796035
Change-Id: I000f81be877c9da678ad0d14bdf933d25169e59a
",git fetch https://review.opendev.org/openstack/tempest refs/changes/69/796069/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,da514d3ef5e2842eba8fd0d307953a8346b686bf,,#test,,1,0
openstack%2Fnova~stable%2Ftrain~I93a1cf8b7ed1a2dc4a464ecb59ca3275792456af,openstack/nova,stable/train,I93a1cf8b7ed1a2dc4a464ecb59ca3275792456af,DNM: testing,ABANDONED,2021-06-11 22:06:30.000000000,2021-06-14 16:36:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-11 22:06:30.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/20aec6cba5895c115a52f5666d1df16bd0cfafa8', 'message': 'DNM: testing\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/796035\nChange-Id: I93a1cf8b7ed1a2dc4a464ecb59ca3275792456af\n'}]",0,796070,20aec6cba5895c115a52f5666d1df16bd0cfafa8,5,1,1,8556,,,0,"DNM: testing

Depends-On: https://review.opendev.org/c/openstack/devstack/+/796035
Change-Id: I93a1cf8b7ed1a2dc4a464ecb59ca3275792456af
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/796070/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,20aec6cba5895c115a52f5666d1df16bd0cfafa8,,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,1,1
openstack%2Frequirements~stable%2Fussuri~I44cc0265a668d29039819ce015bf4673ad490dfc,openstack/requirements,stable/ussuri,I44cc0265a668d29039819ce015bf4673ad490dfc,update constraint for os-refresh-config to new release 11.0.1,MERGED,2021-06-14 10:00:59.000000000,2021-06-14 16:33:34.000000000,2021-06-14 16:33:34.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 10:00:59.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/43e100f18be34731e17641074d0bd036c10b7d21', 'message': 'update constraint for os-refresh-config to new release 11.0.1\n\nmeta: version: 11.0.1\nmeta: diff-start: -\nmeta: series: ussuri\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Marios Andreou <marios@redhat.com>\nmeta: release:Commit: Marios Andreou <marios@redhat.com>\nmeta: release:Change-Id: If0eb0b199288555fc58760f74a7afaa4da3d3828\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I44cc0265a668d29039819ce015bf4673ad490dfc\n'}]",0,796253,43e100f18be34731e17641074d0bd036c10b7d21,6,2,1,11131,,,0,"update constraint for os-refresh-config to new release 11.0.1

meta: version: 11.0.1
meta: diff-start: -
meta: series: ussuri
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: If0eb0b199288555fc58760f74a7afaa4da3d3828
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I44cc0265a668d29039819ce015bf4673ad490dfc
",git fetch https://review.opendev.org/openstack/requirements refs/changes/53/796253/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,43e100f18be34731e17641074d0bd036c10b7d21,new-release,os-refresh-config===11.0.1,os-refresh-config===11.0.0,1,1
openstack%2Frequirements~stable%2Fussuri~I69d378c04fe55264133b3cc3eb7bd31ddb379ea9,openstack/requirements,stable/ussuri,I69d378c04fe55264133b3cc3eb7bd31ddb379ea9,update constraint for tripleo-common to new release 12.4.5,MERGED,2021-06-14 09:53:53.000000000,2021-06-14 16:33:30.000000000,2021-06-14 16:33:30.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 09:53:53.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d66aaa8fc8891b65fe7840e4866e00ac7ae88133', 'message': 'update constraint for tripleo-common to new release 12.4.5\n\nmeta: version: 12.4.5\nmeta: diff-start: -\nmeta: series: ussuri\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Marios Andreou <marios@redhat.com>\nmeta: release:Commit: Marios Andreou <marios@redhat.com>\nmeta: release:Change-Id: If0eb0b199288555fc58760f74a7afaa4da3d3828\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I69d378c04fe55264133b3cc3eb7bd31ddb379ea9\n'}]",0,796252,d66aaa8fc8891b65fe7840e4866e00ac7ae88133,6,2,1,11131,,,0,"update constraint for tripleo-common to new release 12.4.5

meta: version: 12.4.5
meta: diff-start: -
meta: series: ussuri
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: If0eb0b199288555fc58760f74a7afaa4da3d3828
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I69d378c04fe55264133b3cc3eb7bd31ddb379ea9
",git fetch https://review.opendev.org/openstack/requirements refs/changes/52/796252/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d66aaa8fc8891b65fe7840e4866e00ac7ae88133,new-release,tripleo-common===12.4.5,tripleo-common===12.4.4,1,1
openstack%2Fkayobe-config-dev~stable%2Fvictoria~Ib120e8a3d0fc94271582212ada013e8d8dd63327,openstack/kayobe-config-dev,stable/victoria,Ib120e8a3d0fc94271582212ada013e8d8dd63327,CI: Sync with Kayobe jobs,MERGED,2021-06-09 20:16:02.000000000,2021-06-14 16:32:29.000000000,2021-06-14 16:32:29.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 20:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/8568667a6a9867b44f60a8f52e4f8cfb05589d7d', 'message': 'Sync CI jobs with kayobe\n\nChange-Id: Ib120e8a3d0fc94271582212ada013e8d8dd63327\n'}, {'number': 2, 'created': '2021-06-09 20:18:05.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/54f7633f2a5159327f9e12bd6450bc9ec49ea03e', 'message': 'CI: Sync with Kayobe jobs\n\nChange-Id: Ib120e8a3d0fc94271582212ada013e8d8dd63327\n'}]",0,795691,54f7633f2a5159327f9e12bd6450bc9ec49ea03e,15,2,2,15197,,,0,"CI: Sync with Kayobe jobs

Change-Id: Ib120e8a3d0fc94271582212ada013e8d8dd63327
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/91/795691/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,8568667a6a9867b44f60a8f52e4f8cfb05589d7d,, - kayobe-overcloud-tls-centos8 - kayobe-overcloud-tls-centos8,,2,0
openstack%2Freleases~master~Ifd8fcc669a7c2761b1b6f33a8176241cb2a59c3d,openstack/releases,master,Ifd8fcc669a7c2761b1b6f33a8176241cb2a59c3d,Multiple sushy releases,MERGED,2021-06-11 12:12:30.000000000,2021-06-14 16:30:59.000000000,2021-06-14 16:30:59.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-11 12:12:30.000000000', 'files': ['deliverables/wallaby/sushy.yaml', 'deliverables/victoria/sushy.yaml', 'deliverables/ussuri/sushy.yaml', 'deliverables/xena/sushy.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/cb46553c44cddc61c0b0ebeb52a801c677455961', 'message': 'Multiple sushy releases\n\nThis patch adds sushy releases to the following branches:\n- ussuri 3.2.2\n- victoria 3.4.4\n- wallaby 3.7.2\n- xena 3.9.1\n\nChange-Id: Ifd8fcc669a7c2761b1b6f33a8176241cb2a59c3d\n'}]",0,795991,cb46553c44cddc61c0b0ebeb52a801c677455961,9,6,1,15519,,,0,"Multiple sushy releases

This patch adds sushy releases to the following branches:
- ussuri 3.2.2
- victoria 3.4.4
- wallaby 3.7.2
- xena 3.9.1

Change-Id: Ifd8fcc669a7c2761b1b6f33a8176241cb2a59c3d
",git fetch https://review.opendev.org/openstack/releases refs/changes/91/795991/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/wallaby/sushy.yaml', 'deliverables/victoria/sushy.yaml', 'deliverables/ussuri/sushy.yaml', 'deliverables/xena/sushy.yaml']",4,cb46553c44cddc61c0b0ebeb52a801c677455961,sushy_releases, - version: 3.9.1 projects: - repo: openstack/sushy hash: 5b38ec591e2ea8df8f49fc956a2aecb7776a6656,,16,0
openstack%2Fironic-python-agent~stable%2Fvictoria~If151b3a3be979bd2b3ce01030e5d6242ad74eaa3,openstack/ironic-python-agent,stable/victoria,If151b3a3be979bd2b3ce01030e5d6242ad74eaa3,Reduce logging verbosity when collecting logs,MERGED,2021-06-14 11:52:06.000000000,2021-06-14 15:57:06.000000000,2021-06-14 15:55:41.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 11:52:06.000000000', 'files': ['ironic_python_agent/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/2645240b6eac992014eea39d245545407ae75234', 'message': ""Reduce logging verbosity when collecting logs\n\nIt's not uncommon that some commands fail when collecting logs.\nWe already log all failures in utils.execute, no need to duplicate\nthem with a non-fatal ERROR logging.\n\nChange-Id: If151b3a3be979bd2b3ce01030e5d6242ad74eaa3\n(cherry picked from commit 2fcf35e56d578d98d77ffc97b6441f83548d7704)\n""}]",0,796216,2645240b6eac992014eea39d245545407ae75234,7,2,1,10239,,,0,"Reduce logging verbosity when collecting logs

It's not uncommon that some commands fail when collecting logs.
We already log all failures in utils.execute, no need to duplicate
them with a non-fatal ERROR logging.

Change-Id: If151b3a3be979bd2b3ce01030e5d6242ad74eaa3
(cherry picked from commit 2fcf35e56d578d98d77ffc97b6441f83548d7704)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/16/796216/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/utils.py'],1,2645240b6eac992014eea39d245545407ae75234,system-logs-verbose-stable/victoria," LOG.debug('Collecting logs from command %s has failed', command)", LOG.error(error_msg) pass,1,2
openstack%2Fglance~master~Ia53890bcd1161b66a1b365bb3bcc7fc9fbcf6e40,openstack/glance,master,Ia53890bcd1161b66a1b365bb3bcc7fc9fbcf6e40,Allow member creation when using db.simple api,MERGED,2016-09-06 21:48:18.000000000,2021-06-14 15:43:27.000000000,2021-06-14 15:41:55.000000000,"[{'_account_id': 3}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 15054}, {'_account_id': 17043}, {'_account_id': 21722}, {'_account_id': 22348}, {'_account_id': 22834}, {'_account_id': 26734}]","[{'number': 1, 'created': '2016-09-06 21:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/44d84a4818bd87936458b40c36e2394c8dc962ba', 'message': ""Allow member creation when using db.simple api\n\nWithin simple/db/api.py, DATA['members'] was being statically\ninitialized as a dict.\n\nInspection of the code revealed a reset function that initialized the\nsame as a list. Further code inspection seemed to confirm that it was\nalways intended to be a list.\n\nUpdated static initialization to be a list.\n\nChange-Id: Ia53890bcd1161b66a1b365bb3bcc7fc9fbcf6e40\nCloses-Bug: #1620833\n""}, {'number': 2, 'created': '2021-05-04 21:32:36.000000000', 'files': ['glance/db/simple/api.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/fdc83a8ede44c265a6b30185871674cb763a5ae8', 'message': ""Allow member creation when using db.simple api\n\nWithin simple/db/api.py, DATA['members'] was being statically\ninitialized as a dict.\n\nInspection of the code revealed a reset function that initialized the\nsame as a list. Further code inspection seemed to confirm that it was\nalways intended to be a list.\n\nUpdated static initialization to be a list.\n\nChange-Id: Ia53890bcd1161b66a1b365bb3bcc7fc9fbcf6e40\nCloses-Bug: #1620833\n""}]",1,366354,fdc83a8ede44c265a6b30185871674cb763a5ae8,18,11,2,17043,,,0,"Allow member creation when using db.simple api

Within simple/db/api.py, DATA['members'] was being statically
initialized as a dict.

Inspection of the code revealed a reset function that initialized the
same as a list. Further code inspection seemed to confirm that it was
always intended to be a list.

Updated static initialization to be a list.

Change-Id: Ia53890bcd1161b66a1b365bb3bcc7fc9fbcf6e40
Closes-Bug: #1620833
",git fetch https://review.opendev.org/openstack/glance refs/changes/54/366354/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/db/simple/api.py'],1,44d84a4818bd87936458b40c36e2394c8dc962ba,," 'members': [],"," 'members': {},",1,1
openstack%2Fironic-python-agent~stable%2Fwallaby~If151b3a3be979bd2b3ce01030e5d6242ad74eaa3,openstack/ironic-python-agent,stable/wallaby,If151b3a3be979bd2b3ce01030e5d6242ad74eaa3,Reduce logging verbosity when collecting logs,MERGED,2021-06-14 11:50:56.000000000,2021-06-14 15:06:04.000000000,2021-06-14 14:59:24.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 11:50:56.000000000', 'files': ['ironic_python_agent/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/0756f04b60185a504b07063e8e1b6e2743bb2835', 'message': ""Reduce logging verbosity when collecting logs\n\nIt's not uncommon that some commands fail when collecting logs.\nWe already log all failures in utils.execute, no need to duplicate\nthem with a non-fatal ERROR logging.\n\nChange-Id: If151b3a3be979bd2b3ce01030e5d6242ad74eaa3\n(cherry picked from commit 2fcf35e56d578d98d77ffc97b6441f83548d7704)\n""}]",0,796215,0756f04b60185a504b07063e8e1b6e2743bb2835,7,2,1,10239,,,0,"Reduce logging verbosity when collecting logs

It's not uncommon that some commands fail when collecting logs.
We already log all failures in utils.execute, no need to duplicate
them with a non-fatal ERROR logging.

Change-Id: If151b3a3be979bd2b3ce01030e5d6242ad74eaa3
(cherry picked from commit 2fcf35e56d578d98d77ffc97b6441f83548d7704)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/15/796215/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/utils.py'],1,0756f04b60185a504b07063e8e1b6e2743bb2835,system-logs-verbose-stable/wallaby," LOG.debug('Collecting logs from command %s has failed', command)", LOG.error(error_msg) pass,1,2
openstack%2Freleases~master~If80932ebd102d4bcda70256f4cf82cb5267939da,openstack/releases,master,If80932ebd102d4bcda70256f4cf82cb5267939da,Tag all tripleo-repos for X,MERGED,2021-06-11 07:49:36.000000000,2021-06-14 15:05:25.000000000,2021-06-14 15:05:25.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-11 07:49:36.000000000', 'files': ['deliverables/xena/os-net-config.yaml', 'deliverables/xena/tripleo-image-elements.yaml', 'deliverables/xena/tripleo-common.yaml', 'deliverables/xena/puppet-tripleo.yaml', 'deliverables/xena/tripleo-validations.yaml', 'deliverables/xena/tripleo-puppet-elements.yaml', 'deliverables/xena/tripleo-heat-templates.yaml', 'deliverables/xena/tripleo-ansible.yaml', 'deliverables/xena/python-tripleoclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/cfd15cb328e89e237130f3861de388e27f8f74d9', 'message': 'Tag all tripleo-repos for X\n\nSince we branched and tagged wallaby we have not done it on\nmaster/Xena yet. This is causing a packaging problem for us as\ndescribed in the related-bug. We need the depends-on since that\nis the commit we are tagging here for puppet-tripleo and validation\nwill not pass until that merges.\n\nRelated-Bug: 1931223\nDepends-On: I9f3677fded010fcd659c154e5ec6a6a156e3fec3\nChange-Id: If80932ebd102d4bcda70256f4cf82cb5267939da\n'}]",0,795948,cfd15cb328e89e237130f3861de388e27f8f74d9,14,4,1,8449,,,0,"Tag all tripleo-repos for X

Since we branched and tagged wallaby we have not done it on
master/Xena yet. This is causing a packaging problem for us as
described in the related-bug. We need the depends-on since that
is the commit we are tagging here for puppet-tripleo and validation
will not pass until that merges.

Related-Bug: 1931223
Depends-On: I9f3677fded010fcd659c154e5ec6a6a156e3fec3
Change-Id: If80932ebd102d4bcda70256f4cf82cb5267939da
",git fetch https://review.opendev.org/openstack/releases refs/changes/48/795948/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/xena/os-net-config.yaml', 'deliverables/xena/tripleo-image-elements.yaml', 'deliverables/xena/tripleo-common.yaml', 'deliverables/xena/puppet-tripleo.yaml', 'deliverables/xena/tripleo-validations.yaml', 'deliverables/xena/tripleo-puppet-elements.yaml', 'deliverables/xena/tripleo-heat-templates.yaml', 'deliverables/xena/python-tripleoclient.yaml', 'deliverables/xena/tripleo-ansible.yaml']",9,cfd15cb328e89e237130f3861de388e27f8f74d9,,releases: - version: 4.0.0 projects: - repo: openstack/tripleo-ansible hash: d88945b0e912d921b8b02053b37089740874880e,,44,0
openstack%2Fkolla-ansible~master~Ica3594cdac634b496949a06ed813dccd18090af4,openstack/kolla-ansible,master,Ica3594cdac634b496949a06ed813dccd18090af4,Add ability to use the Neutron packet logging framework,MERGED,2020-01-02 13:49:14.000000000,2021-06-14 14:46:34.000000000,2021-06-14 14:44:53.000000000,"[{'_account_id': 167}, {'_account_id': 10068}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28595}, {'_account_id': 30491}, {'_account_id': 30523}, {'_account_id': 31357}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-01-02 13:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c4ce4122c371fe411751b2c970c4d7699e9b31e2', 'message': 'Add ability to use the log service plugins for Neutron\n\nChange-Id: Ica3594cdac634b496949a06ed813dccd18090af4\n'}, {'number': 2, 'created': '2020-01-02 14:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/df685b8909a2c08b6a0b84ff251bc07e1ef57af4', 'message': 'Add ability to use the log service_plugins for Neutron\n\n* This patch will enable the ability to use the log service plugins for\nthose who want to use the neutron logging framework\n(https://docs.openstack.org/neutron/rocky/admin/config-logging.html).\n* New variable ""enable_neutron_log"" that is used as other service\nplugins variables in roles/neutron/defaults/main.yml\n\nImplements: neutron-log-service-plugin\n\nChange-Id: Ica3594cdac634b496949a06ed813dccd18090af4\n'}, {'number': 3, 'created': '2020-01-03 17:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/655ebc52b64fc3cab8b2659067d0033d1c3e2633', 'message': 'Add ability to use the neutron logging framework\n\n* Enables the use of the ""log"" service plugins for\nthose who want to enable the neutron logging framework\n(https://docs.openstack.org/neutron/rocky/admin/config-logging.html).\n* Add variable ""enable_neutron_log"" that is used as other service\nplugins variables in roles/neutron/defaults/main.yml.\n* Add variable to configure rate_limit, burst_limit for\nthe network openvswitch-agent.ini section.\n\nChange-Id: Ica3594cdac634b496949a06ed813dccd18090af4\nImplements: neutron-log-service-plugin\n'}, {'number': 4, 'created': '2020-01-09 14:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/12075d8c339b1591bb8a893fe07cbf098aa701d0', 'message': 'Add ability to use the neutron logging framework\n\n* Enables the use of the ""log"" service plugins for\nthose who want to enable the neutron logging framework\n(https://docs.openstack.org/neutron/rocky/admin/config-logging.html).\n* Add variable ""enable_neutron_log"" that is used as other service\nplugins variables in roles/neutron/defaults/main.yml.\n* Add variable to configure rate_limit, burst_limit for\nthe network openvswitch-agent.ini section.\n\nChange-Id: Ica3594cdac634b496949a06ed813dccd18090af4\nImplements: neutron-log-service-plugin\n'}, {'number': 5, 'created': '2020-01-13 08:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/03073e6d95d88eecacb8c28e1fa418d9b5d3fb27', 'message': 'Add ability to use the neutron logging framework\n\n* Enables enable the neutron logging framework\n(https://docs.openstack.org/neutron/rocky/admin/config-logging.html).\n* Adds a new var ""enable_neutron_log""\n\nChange-Id: Ica3594cdac634b496949a06ed813dccd18090af4\nImplements: neutron-log-service-plugin\n'}, {'number': 6, 'created': '2020-01-16 10:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0d764285be3c250e16c289c4aae8e5f86ac827bc', 'message': 'Add ability to use the neutron logging framework\n\n* Enables the neutron logging framework for OVS and FWaaS\n(https://docs.openstack.org/neutron/rocky/admin/config-logging.html).\n* Adds a toggle var ""enable_neutron_log""\n\nChange-Id: Ica3594cdac634b496949a06ed813dccd18090af4\nImplements: neutron-log-service-plugin\n'}, {'number': 7, 'created': '2020-01-27 14:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e6fa8e5974170668570405e38cdcfd5ca4f74c7b', 'message': 'Add ability to use the neutron logging framework\n\n* Enables the neutron logging framework for OVS and FWaaS\n(https://docs.openstack.org/neutron/rocky/admin/config-logging.html).\n* Adds a toggle var ""enable_neutron_log""\n\nChange-Id: Ica3594cdac634b496949a06ed813dccd18090af4\nImplements: blueprint neutron-log-service-plugin\n'}, {'number': 8, 'created': '2020-03-05 10:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/354456b561a19764a253da0798690d8ac3e42f0c', 'message': 'Add ability to use the neutron logging framework\n\n* Enables the neutron logging framework for OVS and FWaaS\n(https://docs.openstack.org/neutron/rocky/admin/config-logging.html).\n* Adds a toggle var ""enable_neutron_log""\n\nChange-Id: Ica3594cdac634b496949a06ed813dccd18090af4\nImplements: blueprint neutron-log-service-plugin\n'}, {'number': 9, 'created': '2020-05-18 12:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/12cb6a05df8c4a19a465e59183c84286023cc7a8', 'message': 'Add ability to use the Neutron packet logging framework\n\n* Enables the Neutron paket logging framework for OVS and FWaaS\n(https://docs.openstack.org/neutron/latest/admin/config-logging.html).\n* Adds a toggle variable """"enable_neutron_packet_logging""\n\nChange-Id: Ica3594cdac634b496949a06ed813dccd18090af4\nImplements: blueprint neutron-log-service-plugin\n'}, {'number': 10, 'created': '2020-05-18 13:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/177ceca5d265066b942a1264a880f329ef2a86be', 'message': 'Add ability to use the Neutron packet logging framework\n\n* Enables the Neutron paket logging framework for OVS and FWaaS\n(https://docs.openstack.org/neutron/latest/admin/config-logging.html).\n* Adds a toggle variable """"enable_neutron_packet_logging""\n\nChange-Id: Ica3594cdac634b496949a06ed813dccd18090af4\nImplements: blueprint neutron-log-service-plugin\n'}, {'number': 11, 'created': '2020-06-26 09:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8698a7e2bdbc5d344480e4e79d055ce7cd16b710', 'message': 'Add ability to use the Neutron packet logging framework\n\n* Enables the Neutron paket logging framework for OVS and FWaaS\n(https://docs.openstack.org/neutron/latest/admin/config-logging.html).\n* Adds a toggle variable """"enable_neutron_packet_logging""\n\nChange-Id: Ica3594cdac634b496949a06ed813dccd18090af4\nImplements: blueprint neutron-log-service-plugin\n'}, {'number': 12, 'created': '2020-06-29 09:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/84ef0b6f3410561780e1ebf19be1c4afca36fc25', 'message': 'Add ability to use the Neutron packet logging framework\n\n* Enables the Neutron paket logging framework for OVS and FWaaS\n(https://docs.openstack.org/neutron/latest/admin/config-logging.html).\n* Adds a toggle variable """"enable_neutron_packet_logging""\n\nChange-Id: Ica3594cdac634b496949a06ed813dccd18090af4\nImplements: blueprint neutron-log-service-plugin\n'}, {'number': 13, 'created': '2020-06-29 12:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0fb2ca87b78f6818e5a3d8a9585bef39d28c771f', 'message': 'Add ability to use the Neutron packet logging framework\n\n* Enables the Neutron paket logging framework for OVS and FWaaS\n(https://docs.openstack.org/neutron/latest/admin/config-logging.html).\n* Adds a toggle variable """"enable_neutron_packet_logging""\n\nChange-Id: Ica3594cdac634b496949a06ed813dccd18090af4\nImplements: blueprint neutron-log-service-plugin\n'}, {'number': 14, 'created': '2020-06-29 13:37:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3086f1e702948095be001e6c545b28d7aba1815f', 'message': 'Add ability to use the Neutron packet logging framework\n\n* Enables the Neutron paket logging framework for OVS and FWaaS\n(https://docs.openstack.org/neutron/latest/admin/config-logging.html).\n* Adds a toggle variable """"enable_neutron_packet_logging""\n\nChange-Id: Ica3594cdac634b496949a06ed813dccd18090af4\nImplements: blueprint neutron-log-service-plugin\n'}, {'number': 15, 'created': '2020-06-29 14:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/099cef204fc2fe13706038902c573d9e16a9e800', 'message': 'Add ability to use the Neutron packet logging framework\n\n* Enables the Neutron paket logging framework for OVS and FWaaS\n(https://docs.openstack.org/neutron/latest/admin/config-logging.html).\n* Adds a toggle variable """"enable_neutron_packet_logging""\n\nChange-Id: Ica3594cdac634b496949a06ed813dccd18090af4\nImplements: blueprint neutron-log-service-plugin\n'}, {'number': 16, 'created': '2020-11-06 10:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/eb4d6636aabae48d042f61f0b8a36eb2313fefae', 'message': 'Add ability to use the Neutron packet logging framework\n\n* Enables the Neutron paket logging framework for OVS and FWaaS\n(https://docs.openstack.org/neutron/latest/admin/config-logging.html).\n* Adds a toggle variable """"enable_neutron_packet_logging""\n\nChange-Id: Ica3594cdac634b496949a06ed813dccd18090af4\nImplements: blueprint neutron-log-service-plugin\n'}, {'number': 17, 'created': '2020-11-06 10:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/216bda18d7d90057003ee2d322dd4a9d32f7442b', 'message': 'Add ability to use the Neutron packet logging framework\n\n* Enables the Neutron paket logging framework for OVS and FWaaS\n(https://docs.openstack.org/neutron/latest/admin/config-logging.html).\n* Adds a toggle variable """"enable_neutron_packet_logging""\n\nChange-Id: Ica3594cdac634b496949a06ed813dccd18090af4\nImplements: blueprint neutron-log-service-plugin\n'}, {'number': 18, 'created': '2020-11-27 16:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d80c6e2d6d2db7c46783e7b314633f087cdd6d9e', 'message': 'Add ability to use the Neutron packet logging framework\n\n* Enables the Neutron paket logging framework for OVS\n(https://docs.openstack.org/neutron/latest/admin/config-logging.html).\n* Adds a toggle variable """"enable_neutron_packet_logging""\n\nChange-Id: Ica3594cdac634b496949a06ed813dccd18090af4\nImplements: blueprint neutron-log-service-plugin\n'}, {'number': 19, 'created': '2021-05-10 18:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/efdd56e01a9d9d1820dba5a64fea1535e998659f', 'message': 'Add ability to use the Neutron packet logging framework\n\n* Enables the Neutron packet logging framework for OVS\n(https://docs.openstack.org/neutron/latest/admin/config-logging.html).\n* Adds a toggle variable ""enable_neutron_packet_logging""\n\nChange-Id: Ica3594cdac634b496949a06ed813dccd18090af4\nImplements: blueprint neutron-log-service-plugin\n'}, {'number': 20, 'created': '2021-05-11 11:52:19.000000000', 'files': ['releasenotes/notes/neutron-log-service-plugin-049ce93906386435.yaml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/group_vars/all.yml', 'doc/source/reference/networking/neutron-extensions.rst', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e9232360012012360c5177cac59cca12553faad8', 'message': 'Add ability to use the Neutron packet logging framework\n\n* Enables the Neutron packet logging framework for OVS\n(https://docs.openstack.org/neutron/latest/admin/config-logging.html).\n* Adds a toggle variable ""enable_neutron_packet_logging""\n\nChange-Id: Ica3594cdac634b496949a06ed813dccd18090af4\nImplements: blueprint neutron-log-service-plugin\n'}]",21,700895,e9232360012012360c5177cac59cca12553faad8,82,9,20,31357,,,0,"Add ability to use the Neutron packet logging framework

* Enables the Neutron packet logging framework for OVS
(https://docs.openstack.org/neutron/latest/admin/config-logging.html).
* Adds a toggle variable ""enable_neutron_packet_logging""

Change-Id: Ica3594cdac634b496949a06ed813dccd18090af4
Implements: blueprint neutron-log-service-plugin
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/95/700895/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'ansible/roles/neutron/defaults/main.yml']",2,c4ce4122c371fe411751b2c970c4d7699e9b31e2,bp/neutron-log-service-plugin," - name: ""log"" enabled: ""{{ enable_neutron_log | bool }}""",,3,0
openstack%2Fneutron~stable%2Fwallaby~I29a39108d9fddb30050ec63a1cdf6bba0400e136,openstack/neutron,stable/wallaby,I29a39108d9fddb30050ec63a1cdf6bba0400e136,ovn-migration: Introduce migrate mode to DB sync tool,MERGED,2021-05-14 12:37:37.000000000,2021-06-14 14:19:32.000000000,2021-06-14 14:16:20.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 12:37:37.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/db_migration.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/test_db_migration.py', 'neutron/conf/plugins/ml2/drivers/ovn/ovn_conf.py', 'tools/ovn_migration/tripleo_environment/playbooks/roles/prepare-controllers/defaults/main.yml', 'tools/ovn_migration/tripleo_environment/playbooks/roles/migration/tasks/sync-dbs.yml', 'tools/ovn_migration/tripleo_environment/playbooks/ovn-migration.yml', 'neutron/cmd/ovn/neutron_ovn_db_sync_util.py', 'tools/ovn_migration/tripleo_environment/playbooks/roles/prepare-controllers/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a54ef341b5b94925a39dcb1f1a53f1a88cccb0ef', 'message': 'ovn-migration: Introduce migrate mode to DB sync tool\n\nThe new ""migrate"" mode for the DB sync utility changes DB contents as\nfollows:\n\n - it changes vxlan networks to Geneve, including its allocation in\n   order to avoid future collisions when creating new geneve networks\n - it removes settings from ports\' vif_details that are no longer\n   needed, such as hybrid plugging or bridge_name for the trunk bridges\n - it sets profile for subports - OVN doesn\'t use trunk_details but port\n   profile to store data about trunk. Subports have tag and parent_name\n   fileds.\n\nPreviously, the vxlan to Geneve change was done via ansible role. The\ntasks in the role were replaced by the script therefore the role is\nremoved.\n\nCloses-bug: #1928465\n\nConflicts:\n\ttools/ovn_migration/tripleo_environment/playbooks/roles/prepare-controllers/defaults/main.yml\n\ttools/ovn_migration/tripleo_environment/playbooks/roles/prepare-controllers/tasks/main.yml\n\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\nChange-Id: I29a39108d9fddb30050ec63a1cdf6bba0400e136\n(cherry picked from commit ae78e812d13aa5d0c820397b4b633123b6ff0e34)\n'}]",0,791451,a54ef341b5b94925a39dcb1f1a53f1a88cccb0ef,58,3,1,8655,,,0,"ovn-migration: Introduce migrate mode to DB sync tool

The new ""migrate"" mode for the DB sync utility changes DB contents as
follows:

 - it changes vxlan networks to Geneve, including its allocation in
   order to avoid future collisions when creating new geneve networks
 - it removes settings from ports' vif_details that are no longer
   needed, such as hybrid plugging or bridge_name for the trunk bridges
 - it sets profile for subports - OVN doesn't use trunk_details but port
   profile to store data about trunk. Subports have tag and parent_name
   fileds.

Previously, the vxlan to Geneve change was done via ansible role. The
tasks in the role were replaced by the script therefore the role is
removed.

Closes-bug: #1928465

Conflicts:
	tools/ovn_migration/tripleo_environment/playbooks/roles/prepare-controllers/defaults/main.yml
	tools/ovn_migration/tripleo_environment/playbooks/roles/prepare-controllers/tasks/main.yml

Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
Change-Id: I29a39108d9fddb30050ec63a1cdf6bba0400e136
(cherry picked from commit ae78e812d13aa5d0c820397b4b633123b6ff0e34)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/51/791451/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/db_migration.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/test_db_migration.py', 'neutron/conf/plugins/ml2/drivers/ovn/ovn_conf.py', 'tools/ovn_migration/tripleo_environment/playbooks/roles/migration/tasks/sync-dbs.yml', 'tools/ovn_migration/tripleo_environment/playbooks/roles/prepare-controllers/defaults/main.yml', 'tools/ovn_migration/tripleo_environment/playbooks/ovn-migration.yml', 'neutron/cmd/ovn/neutron_ovn_db_sync_util.py', 'tools/ovn_migration/tripleo_environment/playbooks/roles/prepare-controllers/tasks/main.yml']",9,a54ef341b5b94925a39dcb1f1a53f1a88cccb0ef,bug/1928465,,"--- - name: Get DB connection string command: crudini --get {{ neutron_conf_path }} database connection when: ovn_central is defined register: mysql_url # The shell below is not readable well. The code spawns a sqlalchemy engine # and connects to the Neutron database to run following SQL command: # UPDATE networksegments SET networksegments.network_type='geneve' WHERE networksegments.network_type='vxlan'; # The indented Python code looks as follows: # # from sqlalchemy import create_engine # # engine = create_engine(""{{ mysql_url.stdout }}"") # with engine.connect() as conn: # conn.execute(""SQL COMMAND"") # - name: Change vxlan networks to Geneve shell: podman exec -it neutron_api python3 -c $'from sqlalchemy import create_engine\nengine = create_engine(""{{ mysql_url.stdout }}"")\nwith engine.connect() as conn:\n\tconn.execute(""update networksegments set networksegments.network_type=\'geneve\' where networksegments.network_type=\'vxlan\';"")' when: ovn_central is defined ",266,37
openstack%2Fneutron~master~I883abb5ef122ac7f8fb029d0334fa2d68893f8aa,openstack/neutron,master,I883abb5ef122ac7f8fb029d0334fa2d68893f8aa,Load Linux Bridge Trunk extension if service plugin configured,MERGED,2021-06-11 13:32:11.000000000,2021-06-14 14:01:27.000000000,2021-06-14 13:59:51.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 13:32:11.000000000', 'files': ['neutron/services/trunk/drivers/linuxbridge/agent/driver.py', 'neutron/services/trunk/utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/817d807e9dd6e7b0d1da46342e12f6392d9372ce', 'message': 'Load Linux Bridge Trunk extension if service plugin configured\n\nLoad the Linux Driver Trunk agent extension driver only if the service\nplugin is enabled. If the service plugin is not enabled, the agent\nextension will not subscribe to the port events.\n\nChange-Id: I883abb5ef122ac7f8fb029d0334fa2d68893f8aa\nCloses-Bug: #1930443\n'}]",0,796008,817d807e9dd6e7b0d1da46342e12f6392d9372ce,11,3,1,16688,,,0,"Load Linux Bridge Trunk extension if service plugin configured

Load the Linux Driver Trunk agent extension driver only if the service
plugin is enabled. If the service plugin is not enabled, the agent
extension will not subscribe to the port events.

Change-Id: I883abb5ef122ac7f8fb029d0334fa2d68893f8aa
Closes-Bug: #1930443
",git fetch https://review.opendev.org/openstack/neutron refs/changes/08/796008/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/trunk/drivers/linuxbridge/agent/driver.py', 'neutron/services/trunk/utils.py']",2,817d807e9dd6e7b0d1da46342e12f6392d9372ce,bug/1930443,"from neutron_lib.utils import runtime from oslo_config import cfg def is_trunk_service_loaded(): for service_plugins in cfg.CONF.service_plugins: try: klass = runtime.load_class_by_alias_or_classname( 'neutron.service_plugins', service_plugins) if klass.__name__ == 'TrunkPlugin': return True except ImportError: continue return False",,17,1
openstack%2Fneutron~master~Ie6ae31e40488fd8f3d43e83b25e536a7dd9d938c,openstack/neutron,master,Ie6ae31e40488fd8f3d43e83b25e536a7dd9d938c,Provide the rpc_response_max_timeout parameter to sriov-agent,MERGED,2021-06-06 09:23:06.000000000,2021-06-14 13:43:15.000000000,2021-06-14 13:40:19.000000000,"[{'_account_id': 5948}, {'_account_id': 10366}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-06 09:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ee09610034264dc3128fe75b0f77a9aa2475fde0', 'message': 'Provide the rpc_response_max_timeout parameter to sriov-agent\n\nThe rpc_response_max_timeout parameter is used in comminucation over\nmessaging queue, thus should be available for sriov-agent which\ncommunicate with neutron-server over messaging queue.\n\nChange-Id: Ie6ae31e40488fd8f3d43e83b25e536a7dd9d938c\nCloses-Bug: #1930996\n'}, {'number': 2, 'created': '2021-06-06 14:35:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0294673d64dcc5cf5dea59ee4cc5940ec9195c21', 'message': 'Provide the rpc_response_max_timeout parameter to sriov-agent\n\nThe rpc_response_max_timeout parameter is used in comminucation over\nmessaging queue, thus should be available for sriov-agent which\ncommunicate with neutron-server over messaging queue.\n\nChange-Id: Ie6ae31e40488fd8f3d43e83b25e536a7dd9d938c\nCloses-Bug: #1930996\n'}, {'number': 3, 'created': '2021-06-06 14:56:24.000000000', 'files': ['neutron/opts.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/sriov_nic_agent.py', 'neutron/tests/unit/test_opts.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/be43141a5ff6875a146746cb75f927445328c871', 'message': 'Provide the rpc_response_max_timeout parameter to sriov-agent\n\nThe rpc_response_max_timeout parameter is used in comminucation over\nmessaging queue, thus should be available for sriov-agent which\ncommunicate with neutron-server over messaging queue.\n\nChange-Id: Ie6ae31e40488fd8f3d43e83b25e536a7dd9d938c\nCloses-Bug: #1930996\n'}]",1,794986,be43141a5ff6875a146746cb75f927445328c871,36,5,3,9816,,,0,"Provide the rpc_response_max_timeout parameter to sriov-agent

The rpc_response_max_timeout parameter is used in comminucation over
messaging queue, thus should be available for sriov-agent which
communicate with neutron-server over messaging queue.

Change-Id: Ie6ae31e40488fd8f3d43e83b25e536a7dd9d938c
Closes-Bug: #1930996
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/794986/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/opts.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/sriov_nic_agent.py']",2,ee09610034264dc3128fe75b0f77a9aa2475fde0,bug/1930996,"from neutron.conf import service as service_conf service_conf.register_service_opts(service_conf.RPC_EXTRA_OPTS, cfg.CONF) ",,7,0
openstack%2Fnova~master~Ia095a9ace86694fd431f2a1c8f59516ed1eb0d7e,openstack/nova,master,Ia095a9ace86694fd431f2a1c8f59516ed1eb0d7e,"Revert ""Removing mypy to fix the nova CI""",MERGED,2021-06-11 09:47:49.000000000,2021-06-14 13:43:11.000000000,2021-06-14 13:41:09.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 09:47:49.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/47bedbb77a95308bc585a7d40fcb343257e4ce0b', 'message': 'Revert ""Removing mypy to fix the nova CI""\n\nThis reverts commit 531fa4cd04ca1b8ee869f95d427ea26df0852541.\n\nChange-Id: Ia095a9ace86694fd431f2a1c8f59516ed1eb0d7e\n'}]",0,795973,47bedbb77a95308bc585a7d40fcb343257e4ce0b,19,4,1,7166,,,0,"Revert ""Removing mypy to fix the nova CI""

This reverts commit 531fa4cd04ca1b8ee869f95d427ea26df0852541.

Change-Id: Ia095a9ace86694fd431f2a1c8f59516ed1eb0d7e
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/795973/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,47bedbb77a95308bc585a7d40fcb343257e4ce0b,tox_mypy, {[testenv:mypy]commands}, # {[testenv:mypy]commands},1,1
openstack%2Fneutron~stable%2Fvictoria~Ie0205785cab307c132fbe409588739685cade7c0,openstack/neutron,stable/victoria,Ie0205785cab307c132fbe409588739685cade7c0,Use TCP keepalives for ovsdb connections,MERGED,2021-06-09 17:46:36.000000000,2021-06-14 13:25:57.000000000,2021-06-14 13:24:23.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 17:46:36.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3fb7d0b34aef0d99d06ca86324c76c4e2a793b26', 'message': ""Use TCP keepalives for ovsdb connections\n\nWhen failing over OVN DB servers from one server to another, the\nserver which originally hosted the VIP doesn't notice the connection\nis gone and doesn't reconnect. Ultimately, this is something that\nneeds to be fixed in python-ovs, but setting the SO_KEEPALIVE socket\noption avoids the issue. This also has the benefit that the client\ndoesn't need to send 'echo' requests, which can time out on an\noverloaded ovsdb-server, which causes a disconnection which then\nadds even more load on the ovsdb-server as it has to send the entire\ndb contents over the wire after the connection.\n\nCloses-Bug: #1930926\nChange-Id: Ie0205785cab307c132fbe409588739685cade7c0\n(cherry picked from commit 65cce351d74a9a637fdb2a9d5e0e63445dda9ea9)\n""}]",0,795613,3fb7d0b34aef0d99d06ca86324c76c4e2a793b26,14,3,1,5756,,,0,"Use TCP keepalives for ovsdb connections

When failing over OVN DB servers from one server to another, the
server which originally hosted the VIP doesn't notice the connection
is gone and doesn't reconnect. Ultimately, this is something that
needs to be fixed in python-ovs, but setting the SO_KEEPALIVE socket
option avoids the issue. This also has the benefit that the client
doesn't need to send 'echo' requests, which can time out on an
overloaded ovsdb-server, which causes a disconnection which then
adds even more load on the ovsdb-server as it has to send the entire
db contents over the wire after the connection.

Closes-Bug: #1930926
Change-Id: Ie0205785cab307c132fbe409588739685cade7c0
(cherry picked from commit 65cce351d74a9a637fdb2a9d5e0e63445dda9ea9)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/13/795613/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py'],1,3fb7d0b34aef0d99d06ca86324c76c4e2a793b26,bug/1930926-stable/victoria,"import functools import socketfrom ovs import socket_util from ovs import streamdef add_keepalives(fn): @functools.wraps(fn) def _open(*args, **kwargs): error, sock = fn(*args, **kwargs) try: sock.setsockopt(socket.SOL_SOCKET, socket.SO_KEEPALIVE, 1) except socket.error as e: sock.close() return socket_util.get_exception_errno(e), None return error, sock return _open class NoProbesMixin: @staticmethod def needs_probes(): # If we are using keepalives, we can force probe_interval=0 return False class TCPStream(stream.TCPStream, NoProbesMixin): @classmethod @add_keepalives def _open(cls, suffix, dscp): return super()._open(suffix, dscp) class SSLStream(stream.SSLStream, NoProbesMixin): @classmethod @add_keepalives def _open(cls, suffix, dscp): return super()._open(suffix, dscp) # Overwriting globals in a library is clearly a good idea stream.Stream.register_method(""tcp"", TCPStream) stream.Stream.register_method(""ssl"", SSLStream) ",,43,0
openstack%2Fneutron~stable%2Fwallaby~Ie0205785cab307c132fbe409588739685cade7c0,openstack/neutron,stable/wallaby,Ie0205785cab307c132fbe409588739685cade7c0,Use TCP keepalives for ovsdb connections,MERGED,2021-06-09 17:45:39.000000000,2021-06-14 13:19:02.000000000,2021-06-14 13:17:19.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 17:45:39.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f1cd2a1cb8993fce20464f474c0b9048600e1eac', 'message': ""Use TCP keepalives for ovsdb connections\n\nWhen failing over OVN DB servers from one server to another, the\nserver which originally hosted the VIP doesn't notice the connection\nis gone and doesn't reconnect. Ultimately, this is something that\nneeds to be fixed in python-ovs, but setting the SO_KEEPALIVE socket\noption avoids the issue. This also has the benefit that the client\ndoesn't need to send 'echo' requests, which can time out on an\noverloaded ovsdb-server, which causes a disconnection which then\nadds even more load on the ovsdb-server as it has to send the entire\ndb contents over the wire after the connection.\n\nCloses-Bug: #1930926\nChange-Id: Ie0205785cab307c132fbe409588739685cade7c0\n(cherry picked from commit 65cce351d74a9a637fdb2a9d5e0e63445dda9ea9)\n""}]",0,795472,f1cd2a1cb8993fce20464f474c0b9048600e1eac,12,3,1,5756,,,0,"Use TCP keepalives for ovsdb connections

When failing over OVN DB servers from one server to another, the
server which originally hosted the VIP doesn't notice the connection
is gone and doesn't reconnect. Ultimately, this is something that
needs to be fixed in python-ovs, but setting the SO_KEEPALIVE socket
option avoids the issue. This also has the benefit that the client
doesn't need to send 'echo' requests, which can time out on an
overloaded ovsdb-server, which causes a disconnection which then
adds even more load on the ovsdb-server as it has to send the entire
db contents over the wire after the connection.

Closes-Bug: #1930926
Change-Id: Ie0205785cab307c132fbe409588739685cade7c0
(cherry picked from commit 65cce351d74a9a637fdb2a9d5e0e63445dda9ea9)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/795472/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py'],1,f1cd2a1cb8993fce20464f474c0b9048600e1eac,bug/1930926-stable/wallaby,"import functools import socketfrom ovs import socket_util from ovs import streamdef add_keepalives(fn): @functools.wraps(fn) def _open(*args, **kwargs): error, sock = fn(*args, **kwargs) try: sock.setsockopt(socket.SOL_SOCKET, socket.SO_KEEPALIVE, 1) except socket.error as e: sock.close() return socket_util.get_exception_errno(e), None return error, sock return _open class NoProbesMixin: @staticmethod def needs_probes(): # If we are using keepalives, we can force probe_interval=0 return False class TCPStream(stream.TCPStream, NoProbesMixin): @classmethod @add_keepalives def _open(cls, suffix, dscp): return super()._open(suffix, dscp) class SSLStream(stream.SSLStream, NoProbesMixin): @classmethod @add_keepalives def _open(cls, suffix, dscp): return super()._open(suffix, dscp) # Overwriting globals in a library is clearly a good idea stream.Stream.register_method(""tcp"", TCPStream) stream.Stream.register_method(""ssl"", SSLStream) ",,43,0
openstack%2Fneutron~stable%2Fvictoria~I1af32e72abb9f101f9729aa6d1354c33a95c98ee,openstack/neutron,stable/victoria,I1af32e72abb9f101f9729aa6d1354c33a95c98ee,[DHCP] Fix cleanup_deleted_ports method,MERGED,2021-06-11 09:02:56.000000000,2021-06-14 12:40:23.000000000,2021-06-14 12:34:26.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 09:02:56.000000000', 'files': ['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1750318e558529e3b9364b2a7cf7ef6b948cbb16', 'message': '[DHCP] Fix cleanup_deleted_ports method\n\nAssume that only one port is deleted within 24 hours, in method\ncleanup_deleted_ports the port removes from deleted_ports but not\nremoves from deleted_ports_ts\nIn this fix ports older than 1 day will be dropped from\ndeleted_ports and deleted_ports_ts properly\n\nCloses-Bug: #1930838\nChange-Id: I1af32e72abb9f101f9729aa6d1354c33a95c98ee\n(cherry picked from commit 383f209b502493ca6b059394e2644def754b2de1)\n'}]",0,795879,1750318e558529e3b9364b2a7cf7ef6b948cbb16,9,3,1,32667,,,0,"[DHCP] Fix cleanup_deleted_ports method

Assume that only one port is deleted within 24 hours, in method
cleanup_deleted_ports the port removes from deleted_ports but not
removes from deleted_ports_ts
In this fix ports older than 1 day will be dropped from
deleted_ports and deleted_ports_ts properly

Closes-Bug: #1930838
Change-Id: I1af32e72abb9f101f9729aa6d1354c33a95c98ee
(cherry picked from commit 383f209b502493ca6b059394e2644def754b2de1)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/795879/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py']",2,1750318e558529e3b9364b2a7cf7ef6b948cbb16,bug/1930838-stable/victoria," self.assertEqual([], self.nc._deleted_ports_ts) # check the second iteration is ok too nc.add_to_deleted_ports(fake_port2.id) utils.wait_until_true(lambda: nc._deleted_ports == set(), timeout=7) self.assertEqual([], self.nc._deleted_ports_ts)",,9,2
openstack%2Fneutron~stable%2Fussuri~I1af32e72abb9f101f9729aa6d1354c33a95c98ee,openstack/neutron,stable/ussuri,I1af32e72abb9f101f9729aa6d1354c33a95c98ee,[DHCP] Fix cleanup_deleted_ports method,MERGED,2021-06-11 09:03:48.000000000,2021-06-14 12:38:36.000000000,2021-06-14 12:34:46.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 09:03:48.000000000', 'files': ['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d10ee544b2619c7b23b5fa8f2be35a82a41a3459', 'message': '[DHCP] Fix cleanup_deleted_ports method\n\nAssume that only one port is deleted within 24 hours, in method\ncleanup_deleted_ports the port removes from deleted_ports but not\nremoves from deleted_ports_ts\nIn this fix ports older than 1 day will be dropped from\ndeleted_ports and deleted_ports_ts properly\n\nCloses-Bug: #1930838\nChange-Id: I1af32e72abb9f101f9729aa6d1354c33a95c98ee\n(cherry picked from commit 383f209b502493ca6b059394e2644def754b2de1)\n'}]",0,795880,d10ee544b2619c7b23b5fa8f2be35a82a41a3459,15,3,1,32667,,,0,"[DHCP] Fix cleanup_deleted_ports method

Assume that only one port is deleted within 24 hours, in method
cleanup_deleted_ports the port removes from deleted_ports but not
removes from deleted_ports_ts
In this fix ports older than 1 day will be dropped from
deleted_ports and deleted_ports_ts properly

Closes-Bug: #1930838
Change-Id: I1af32e72abb9f101f9729aa6d1354c33a95c98ee
(cherry picked from commit 383f209b502493ca6b059394e2644def754b2de1)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/795880/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py']",2,d10ee544b2619c7b23b5fa8f2be35a82a41a3459,bug/1930838-stable/ussuri," self.assertEqual([], self.nc._deleted_ports_ts) # check the second iteration is ok too nc.add_to_deleted_ports(fake_port2.id) utils.wait_until_true(lambda: nc._deleted_ports == set(), timeout=7) self.assertEqual([], self.nc._deleted_ports_ts)",,9,2
openstack%2Fneutron~stable%2Fvictoria~Iee323943ac66e566e5a5e92de1861832e86fc7fc,openstack/neutron,stable/victoria,Iee323943ac66e566e5a5e92de1861832e86fc7fc,[OVS] Fix live-migration connection disruption,MERGED,2021-05-11 14:09:01.000000000,2021-06-14 12:38:31.000000000,2021-06-14 12:33:52.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-05-11 14:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/476d90f9f6c5a7736873e123d05e0233d73d8750', 'message': '[OVS] Fix live-migration connection disruption\n\nThe goal of this patch is to avoid the connection disruption during\nthe live-migration using OVS. Since [1], when a port is migrated,\nboth the source and the destination hosts are added to the profile\nbinding information. Initially, the source host binding is activated\nand the destination is deactivated.\n\nWhen the port is created in the destination host (created by Nova),\nthe port was not configured because the binding was not activated.\nThe binding (that means, all the OpenFlow rules) was done when Nova\nsent the port activation. That happend when the VM was already\nrunning in the destination host. If the OVS agent was loaded, the\nport was bound seconds later to the port activation.\n\nInstead, this patch enables the OpenFlow rule creation in the\ndestination host when the port is created.\n\nAnother problem are the ""neutron-vif-plugged"" events sent by Neutron\nto Nova to inform about the port binding. Nova is expecting one single\nevent informing about the destination port binding. At this moment,\nNova considers the port is bound and ready to transmit data.\n\nSeveral triggers were firing expectedly this event:\n- When the port binding was updated, the port is set to down and then\n  up again, forcing this event.\n- When the port binding was updated, first the binding is deleted and\n  then updated with the new information. That triggers in the source\n  host to set the port down and the up again, sending the event.\n\nThis patch removes those events, sending the ""neutron-vif-plugged""\nevent only when the port is bound to the destination host (and as\ncommented before, this is happening now regardless of the binding\nactivation status).\n\nThis feature depends on [2]. If this Nova patch is not in place, Nova\nwill never plug the port in the destination host and Neutron won\'t be\nable to send the vif-plugged event to Nova to finish the\nlive-migration process.\n\nBecause from Neutron cannot query Nova to know if this patch is in\nplace, a new temporary configuration option has been created to enable\nthis feature. The default value will be ""False""; that means Neutron\nwill behave as before.\n\n[1]https://bugs.launchpad.net/neutron/+bug/1580880\n[2]https://review.opendev.org/c/openstack/nova/+/767368\n\nCloses-Bug: #1901707\n\nConflicts:\n      zuul.d/tempest-multinode.yaml\n\nChange-Id: Iee323943ac66e566e5a5e92de1861832e86fc7fc\n'}, {'number': 2, 'created': '2021-06-09 11:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9d424ca27155874b70a86f5ea8f745d764987424', 'message': '[OVS] Fix live-migration connection disruption\n\nThe goal of this patch is to avoid the connection disruption during\nthe live-migration using OVS. Since [1], when a port is migrated,\nboth the source and the destination hosts are added to the profile\nbinding information. Initially, the source host binding is activated\nand the destination is deactivated.\n\nWhen the port is created in the destination host (created by Nova),\nthe port was not configured because the binding was not activated.\nThe binding (that means, all the OpenFlow rules) was done when Nova\nsent the port activation. That happend when the VM was already\nrunning in the destination host. If the OVS agent was loaded, the\nport was bound seconds later to the port activation.\n\nInstead, this patch enables the OpenFlow rule creation in the\ndestination host when the port is created.\n\nAnother problem are the ""neutron-vif-plugged"" events sent by Neutron\nto Nova to inform about the port binding. Nova is expecting one single\nevent informing about the destination port binding. At this moment,\nNova considers the port is bound and ready to transmit data.\n\nSeveral triggers were firing expectedly this event:\n- When the port binding was updated, the port is set to down and then\n  up again, forcing this event.\n- When the port binding was updated, first the binding is deleted and\n  then updated with the new information. That triggers in the source\n  host to set the port down and the up again, sending the event.\n\nThis patch removes those events, sending the ""neutron-vif-plugged""\nevent only when the port is bound to the destination host (and as\ncommented before, this is happening now regardless of the binding\nactivation status).\n\nThis feature depends on [2]. If this Nova patch is not in place, Nova\nwill never plug the port in the destination host and Neutron won\'t be\nable to send the vif-plugged event to Nova to finish the\nlive-migration process.\n\nBecause from Neutron cannot query Nova to know if this patch is in\nplace, a new temporary configuration option has been created to enable\nthis feature. The default value will be ""False""; that means Neutron\nwill behave as before.\n\n[1]https://bugs.launchpad.net/neutron/+bug/1580880\n[2]https://review.opendev.org/c/openstack/nova/+/767368\n\nCloses-Bug: #1901707\n\nConflicts:\n      zuul.d/tempest-multinode.yaml\n\nChange-Id: Iee323943ac66e566e5a5e92de1861832e86fc7fc\n'}, {'number': 3, 'created': '2021-06-11 15:17:33.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/agent/test_rpc.py', 'neutron/conf/common.py', 'neutron/notifiers/nova.py', 'neutron/agent/rpc.py', 'neutron/plugins/ml2/plugin.py', 'neutron/db/provisioning_blocks.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/44847d11ada9f067a0374a349aefefb628df1868', 'message': '[OVS] Fix live-migration connection disruption\n\nThe goal of this patch is to avoid the connection disruption during\nthe live-migration using OVS. Since [1], when a port is migrated,\nboth the source and the destination hosts are added to the profile\nbinding information. Initially, the source host binding is activated\nand the destination is deactivated.\n\nWhen the port is created in the destination host (created by Nova),\nthe port was not configured because the binding was not activated.\nThe binding (that means, all the OpenFlow rules) was done when Nova\nsent the port activation. That happend when the VM was already\nrunning in the destination host. If the OVS agent was loaded, the\nport was bound seconds later to the port activation.\n\nInstead, this patch enables the OpenFlow rule creation in the\ndestination host when the port is created.\n\nAnother problem are the ""neutron-vif-plugged"" events sent by Neutron\nto Nova to inform about the port binding. Nova is expecting one single\nevent informing about the destination port binding. At this moment,\nNova considers the port is bound and ready to transmit data.\n\nSeveral triggers were firing expectedly this event:\n- When the port binding was updated, the port is set to down and then\n  up again, forcing this event.\n- When the port binding was updated, first the binding is deleted and\n  then updated with the new information. That triggers in the source\n  host to set the port down and the up again, sending the event.\n\nThis patch removes those events, sending the ""neutron-vif-plugged""\nevent only when the port is bound to the destination host (and as\ncommented before, this is happening now regardless of the binding\nactivation status).\n\nThis feature depends on [2]. If this Nova patch is not in place, Nova\nwill never plug the port in the destination host and Neutron won\'t be\nable to send the vif-plugged event to Nova to finish the\nlive-migration process.\n\nBecause from Neutron cannot query Nova to know if this patch is in\nplace, a new temporary configuration option has been created to enable\nthis feature. The default value will be ""False""; that means Neutron\nwill behave as before.\n\n[1]https://bugs.launchpad.net/neutron/+bug/1580880\n[2]https://review.opendev.org/c/openstack/nova/+/767368\n\nCloses-Bug: #1901707\n\nConflicts:\n      zuul.d/tempest-multinode.yaml\n\nChange-Id: Iee323943ac66e566e5a5e92de1861832e86fc7fc\n(cherry picked from commit f8a22c7d4aa654eaad3b683073849c873ea3beff)\n'}]",7,790702,44847d11ada9f067a0374a349aefefb628df1868,36,6,3,16688,,,0,"[OVS] Fix live-migration connection disruption

The goal of this patch is to avoid the connection disruption during
the live-migration using OVS. Since [1], when a port is migrated,
both the source and the destination hosts are added to the profile
binding information. Initially, the source host binding is activated
and the destination is deactivated.

When the port is created in the destination host (created by Nova),
the port was not configured because the binding was not activated.
The binding (that means, all the OpenFlow rules) was done when Nova
sent the port activation. That happend when the VM was already
running in the destination host. If the OVS agent was loaded, the
port was bound seconds later to the port activation.

Instead, this patch enables the OpenFlow rule creation in the
destination host when the port is created.

Another problem are the ""neutron-vif-plugged"" events sent by Neutron
to Nova to inform about the port binding. Nova is expecting one single
event informing about the destination port binding. At this moment,
Nova considers the port is bound and ready to transmit data.

Several triggers were firing expectedly this event:
- When the port binding was updated, the port is set to down and then
  up again, forcing this event.
- When the port binding was updated, first the binding is deleted and
  then updated with the new information. That triggers in the source
  host to set the port down and the up again, sending the event.

This patch removes those events, sending the ""neutron-vif-plugged""
event only when the port is bound to the destination host (and as
commented before, this is happening now regardless of the binding
activation status).

This feature depends on [2]. If this Nova patch is not in place, Nova
will never plug the port in the destination host and Neutron won't be
able to send the vif-plugged event to Nova to finish the
live-migration process.

Because from Neutron cannot query Nova to know if this patch is in
place, a new temporary configuration option has been created to enable
this feature. The default value will be ""False""; that means Neutron
will behave as before.

[1]https://bugs.launchpad.net/neutron/+bug/1580880
[2]https://review.opendev.org/c/openstack/nova/+/767368

Closes-Bug: #1901707

Conflicts:
      zuul.d/tempest-multinode.yaml

Change-Id: Iee323943ac66e566e5a5e92de1861832e86fc7fc
(cherry picked from commit f8a22c7d4aa654eaad3b683073849c873ea3beff)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/02/790702/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-multinode.yaml', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/agent/test_rpc.py', 'neutron/conf/common.py', 'neutron/notifiers/nova.py', 'neutron/agent/rpc.py', 'neutron/db/provisioning_blocks.py', 'neutron/plugins/ml2/plugin.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",9,476d90f9f6c5a7736873e123d05e0233d73d8750,bug/1901707," skip_devs, _, need_bound_devices, _, _, _ = ( skip_devs, binding_no_activated_devices, _, _, _, _ = ( self.assertEqual( (['the_skipped_one'], set(), [], set(), set(), set()), skip_devs) (_, _, _, failed_devices['added'], _, _) = ( skip_devs, _, need_bound_devices, _, _, _ = ( set(), set())) as device_added_updated,\"," skip_devs, _, need_bound_devices, _, _ = ( skip_devs, binding_no_activated_devices, _, _, _ = ( self.assertEqual((['the_skipped_one'], set(), [], set(), set()), skip_devs) (_, _, _, failed_devices['added'], _) = ( skip_devs, _, need_bound_devices, _, _ = ( set())) as device_added_updated,\",134,21
openstack%2Ftripleo-ci~master~Ie5f32c77c4353e92477540d0d461bc5aa75d2655,openstack/tripleo-ci,master,Ie5f32c77c4353e92477540d0d461bc5aa75d2655,DNM - Testing os_tempest from release,ABANDONED,2021-05-03 12:39:52.000000000,2021-06-14 11:50:28.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-03 12:39:52.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/feb1b481a163178aeb1d43e38f324eda490cfb2f', 'message': 'DNM - Testing os_tempest from release\n\nChange-Id: Ie5f32c77c4353e92477540d0d461bc5aa75d2655\n'}]",0,789276,feb1b481a163178aeb1d43e38f324eda490cfb2f,4,2,1,8367,,,0,"DNM - Testing os_tempest from release

Change-Id: Ie5f32c77c4353e92477540d0d461bc5aa75d2655
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/76/789276/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,feb1b481a163178aeb1d43e38f324eda490cfb2f,os_tempest-release,, override-checkout: master,0,1
openstack%2Ftripleo-ci-health-queries~master~Icf7cafec8f736f9c39fc9ffd141eb9b680fefbdc,openstack/tripleo-ci-health-queries,master,Icf7cafec8f736f9c39fc9ffd141eb9b680fefbdc,Improved test dependencies management,MERGED,2021-04-15 14:32:55.000000000,2021-06-14 11:22:10.000000000,2021-04-16 10:08:54.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-04-15 14:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/77d03d29b86b9c0fbbd22481e40594df473736af', 'message': 'Improved test dependencies management\n\n- pin test dependencies\n- add tox -e deps command which we can run to update the pinning\n- enabled tox-extra in order to avoid passing when we produce\n  untracked files.\n\nChange-Id: Icf7cafec8f736f9c39fc9ffd141eb9b680fefbdc\n'}, {'number': 2, 'created': '2021-04-15 15:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/1b2fa202cccecbabb2cfa8eb28162151b503b51c', 'message': 'Improved test dependencies management\n\n- pin test dependencies\n- add tox -e deps command which we can run to update the pinning\n- enabled tox-extra in order to avoid passing when we produce\n  untracked files.\n\nChange-Id: Icf7cafec8f736f9c39fc9ffd141eb9b680fefbdc\n'}, {'number': 3, 'created': '2021-04-15 15:13:02.000000000', 'files': ['requirements.txt', '.gitignore', 'requirements.in', 'bindep.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/07a410c9b8709f06f2cd91b6d54800d037b3b58d', 'message': 'Improved test dependencies management\n\n- pin test dependencies\n- add tox -e deps command which we can run to update the pinning\n- enabled tox-extra in order to avoid passing when we produce\n  untracked files.\n\nChange-Id: Icf7cafec8f736f9c39fc9ffd141eb9b680fefbdc\n'}]",4,786452,07a410c9b8709f06f2cd91b6d54800d037b3b58d,14,6,3,24162,,,0,"Improved test dependencies management

- pin test dependencies
- add tox -e deps command which we can run to update the pinning
- enabled tox-extra in order to avoid passing when we produce
  untracked files.

Change-Id: Icf7cafec8f736f9c39fc9ffd141eb9b680fefbdc
",git fetch https://review.opendev.org/openstack/tripleo-ci-health-queries refs/changes/52/786452/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.gitignore', 'requirements.in', 'tox.ini']",4,77d03d29b86b9c0fbbd22481e40594df473736af,bits,"# linters is run last because it may catch if 'py' updates tracked files envlist = py,linters # tox-extra ensures tox fails if there are untacked git or repo is dirty tox-extra -r requirements.txt python3 src/model.py bash -c ""cat src/data/queries.yml | yq | jsonschema -i /dev/stdin output/queries-schema.json"" python3 src/sova-converter.py[testenv:deps] description = Update dependency lock files deps = pip-tools >= 6.1.0 commands = pip-compile -o requirements.txt requirements.in ","envlist = lint,py yq pydantic jsonschema bash -c ""python3 src/model.py && cat src/data/queries.yml | yq | jsonschema -i /dev/stdin output/queries-schema.json""",55,8
openstack%2Fpuppet-senlin~master~I0152271559d45135b96038ac8bc8d3261172b3a7,openstack/puppet-senlin,master,I0152271559d45135b96038ac8bc8d3261172b3a7,Drop Fedora support,MERGED,2021-06-12 15:07:36.000000000,2021-06-14 11:10:29.000000000,2021-06-14 11:10:29.000000000,"[{'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-12 15:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/96bdaccf076575ff19ec80c3ba0aa70c3964e83e', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I0152271559d45135b96038ac8bc8d3261172b3a7\n""}, {'number': 2, 'created': '2021-06-14 10:32:14.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/861513bd05a42c5e45668642489a36d4a64fe69c', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I0152271559d45135b96038ac8bc8d3261172b3a7\n""}]",0,796143,861513bd05a42c5e45668642489a36d4a64fe69c,8,2,2,9816,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I0152271559d45135b96038ac8bc8d3261172b3a7
",git fetch https://review.opendev.org/openstack/puppet-senlin refs/changes/43/796143/2 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,96bdaccf076575ff19ec80c3ba0aa70c3964e83e,drop-fedora,," ""operatingsystem"": ""Fedora"", ""operatingsystemrelease"": [ ""24"" ] }, {",0,6
openstack%2Fpuppet-senlin~master~I2cf505a75ae3c221c724cdf1b3c7f6e50c9f2ed1,openstack/puppet-senlin,master,I2cf505a75ae3c221c724cdf1b3c7f6e50c9f2ed1,Get rid of the $pyvers variable,MERGED,2021-06-14 07:40:24.000000000,2021-06-14 11:10:26.000000000,2021-06-14 11:10:26.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 07:40:24.000000000', 'files': ['spec/classes/senlin_client_spec.rb', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/acc7e79a6e68e5bb7e9991d5467878943432dc32', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: I2cf505a75ae3c221c724cdf1b3c7f6e50c9f2ed1\n""}]",0,796237,acc7e79a6e68e5bb7e9991d5467878943432dc32,7,3,1,6476,,,0,"Get rid of the $pyvers variable

Since everyone has switched to Python3, it's time for the removal of the
$pyvers variable.

Change-Id: I2cf505a75ae3c221c724cdf1b3c7f6e50c9f2ed1
",git fetch https://review.opendev.org/openstack/puppet-senlin refs/changes/37/796237/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/senlin_client_spec.rb', 'manifests/params.pp']",2,acc7e79a6e68e5bb7e9991d5467878943432dc32,pyvers-removal, $client_package_name = 'python3-senlinclient'," $pyvers = $::openstacklib::defaults::pyvers $client_package_name = ""python${pyvers}-senlinclient""",2,11
openstack%2Fsahara~master~If2846d95c65e5870adde75f1a23aecc6966eb8f6,openstack/sahara,master,If2846d95c65e5870adde75f1a23aecc6966eb8f6,docs: Update Freenode to OFTC,MERGED,2021-06-08 14:01:14.000000000,2021-06-14 11:09:04.000000000,2021-06-14 11:07:42.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 14:01:14.000000000', 'files': ['doc/source/contributor/contributing.rst'], 'web_link': 'https://opendev.org/openstack/sahara/commit/622af6949b2f9da0fcd3f8d75ab89b79b50f42d4', 'message': 'docs: Update Freenode to OFTC\n\nsee: http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022718.html\nChange-Id: If2846d95c65e5870adde75f1a23aecc6966eb8f6\n'}]",0,795339,622af6949b2f9da0fcd3f8d75ab89b79b50f42d4,7,2,1,26285,,,0,"docs: Update Freenode to OFTC

see: http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022718.html
Change-Id: If2846d95c65e5870adde75f1a23aecc6966eb8f6
",git fetch https://review.opendev.org/openstack/sahara refs/changes/39/795339/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/contributing.rst'],1,622af6949b2f9da0fcd3f8d75ab89b79b50f42d4,,* Join ``#openstack-sahara`` IRC channel on `OFTC <http://oftc.net>`_,* Join ``#openstack-sahara`` IRC channel on `freenode <http://freenode.net/>`_,1,1
openstack%2Fkolla~stable%2Fvictoria~I721001f877f6ec2f9a2e425c088a2e22177d2e5b,openstack/kolla,stable/victoria,I721001f877f6ec2f9a2e425c088a2e22177d2e5b,gnocchi-base: numpy provides aarch64 binary wheels,MERGED,2021-05-12 11:49:54.000000000,2021-06-14 10:45:07.000000000,2021-06-14 10:43:42.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-12 11:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b985136abe1086897fceccd21d37b2731e72cc24', 'message': 'gnocchi-base: numpy provides aarch64 binary wheels\n\nThere is no need to install libraries to build Numpy as we have binary\nwheel provided by numpy upstream.\n\nChange-Id: I721001f877f6ec2f9a2e425c088a2e22177d2e5b\n(cherry picked from commit 9bad71d7c3fe3cdd1b128925554c4fdec1420a7f)\n(cherry picked from commit 858c2748692d0b0c8fed9613a0c0a2514136190d)\n'}, {'number': 2, 'created': '2021-06-10 17:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6b3b88e3cdbcfb60e76629b656b8aa41eb7089a4', 'message': 'gnocchi-base: numpy provides aarch64 binary wheels\n\nThere is no need to install libraries to build Numpy as we have binary\nwheel provided by numpy upstream.\n\nChange-Id: I721001f877f6ec2f9a2e425c088a2e22177d2e5b\n(cherry picked from commit 9bad71d7c3fe3cdd1b128925554c4fdec1420a7f)\n(cherry picked from commit 858c2748692d0b0c8fed9613a0c0a2514136190d)\n'}, {'number': 3, 'created': '2021-06-10 19:32:53.000000000', 'files': ['docker/gnocchi/gnocchi-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ddea2f482adbb88f3effecff4c5674d0cb5ffa11', 'message': 'gnocchi-base: numpy provides aarch64 binary wheels\n\nThere is no need to install libraries to build Numpy as we have binary\nwheel provided by numpy upstream.\n\nChange-Id: I721001f877f6ec2f9a2e425c088a2e22177d2e5b\n(cherry picked from commit 9bad71d7c3fe3cdd1b128925554c4fdec1420a7f)\n(cherry picked from commit 858c2748692d0b0c8fed9613a0c0a2514136190d)\n'}]",0,790853,ddea2f482adbb88f3effecff4c5674d0cb5ffa11,29,4,3,24072,,,0,"gnocchi-base: numpy provides aarch64 binary wheels

There is no need to install libraries to build Numpy as we have binary
wheel provided by numpy upstream.

Change-Id: I721001f877f6ec2f9a2e425c088a2e22177d2e5b
(cherry picked from commit 9bad71d7c3fe3cdd1b128925554c4fdec1420a7f)
(cherry picked from commit 858c2748692d0b0c8fed9613a0c0a2514136190d)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/53/790853/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/gnocchi/gnocchi-base/Dockerfile.j2'],1,b985136abe1086897fceccd21d37b2731e72cc24,,," # on x86-64 pip grabs precompiled numpy/scipy - on aarch64/ppc64le # it needs to be built {% if base_arch != 'x86_64' %} {% set gnocchi_base_packages = gnocchi_base_packages + [ 'blas-devel', 'lapack-devel' ] %} {% endif %} # on x86-64 pip grabs precompiled numpy/scipy - on aarch64/ppc64le # it needs to be built {% if base_arch != 'x86_64' %} {% set gnocchi_base_packages = gnocchi_base_packages + [ 'libblas-dev', 'liblapack-dev' ] %} {% endif %} ",0,20
openstack%2Fneutron-tempest-plugin~master~Ibc4b8f67bbfc6e830dd3f0ef29c6b4080b62cddd,openstack/neutron-tempest-plugin,master,Ibc4b8f67bbfc6e830dd3f0ef29c6b4080b62cddd,DNM: Configure a neutron tempest plugin job to use secure RBAC,ABANDONED,2021-03-17 18:04:26.000000000,2021-06-14 10:40:18.000000000,,"[{'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-17 18:04:26.000000000', 'files': ['zuul.d/master_jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1db6d545e18b60d454428688aa2b0b605940772c', 'message': ""DNM: Configure a neutron tempest plugin job to use secure RBAC\n\nThis commits adds a neutron tempest job to configure neutron to enforce\nthe new secure RBAC policies, including support for system and project\nusers (system-admin, system-reader, project-member, project-reader).\n\nThis isn't going to perform exhaustive protection testing of neutron\nRBAC policies, but we can use it as a guide for diagnosing issues with\nthe default policies in integrated scenarios (e.g., service-to-service\ncommunication), or deployment issues assuming the old authorization\nmodel.\n\nWe can continue to pursue full protection testing via a devstack/tempest\nplugin, unit tests, or functional tests. This is a parallel effort to\nincrease confidence in a wide change across OpenStack to increase the\nusability and introduce authorization consistency.\n\nChange-Id: Ibc4b8f67bbfc6e830dd3f0ef29c6b4080b62cddd\n""}]",3,781141,1db6d545e18b60d454428688aa2b0b605940772c,4,2,1,5046,,,0,"DNM: Configure a neutron tempest plugin job to use secure RBAC

This commits adds a neutron tempest job to configure neutron to enforce
the new secure RBAC policies, including support for system and project
users (system-admin, system-reader, project-member, project-reader).

This isn't going to perform exhaustive protection testing of neutron
RBAC policies, but we can use it as a guide for diagnosing issues with
the default policies in integrated scenarios (e.g., service-to-service
communication), or deployment issues assuming the old authorization
model.

We can continue to pursue full protection testing via a devstack/tempest
plugin, unit tests, or functional tests. This is a parallel effort to
increase confidence in a wide change across OpenStack to increase the
usability and introduce authorization consistency.

Change-Id: Ibc4b8f67bbfc6e830dd3f0ef29c6b4080b62cddd
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/41/781141/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/master_jobs.yaml', 'zuul.d/project.yaml']",2,1db6d545e18b60d454428688aa2b0b605940772c,secure-rbac, - neutron-tempest-plugin-api-secure-rbac: voting: false,,12,0
openstack%2Fneutron~master~I399ba01cd5411c24fe20750421fc963cf79686af,openstack/neutron,master,I399ba01cd5411c24fe20750421fc963cf79686af,Do not create on the fly segmentation allocations,ABANDONED,2021-03-16 16:49:37.000000000,2021-06-14 10:39:41.000000000,,"[{'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-16 16:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f4465b5335751f531b6ccf4e86ab5bbdcd70c33f', 'message': 'Do not create on the fly segmentation allocations\n\nSince [1], the physical network VLAN ranges parser populates the\nranges for those entries without a defined range, allowing all\nvalid VLAN ranges ([1, 4094]). When the VLAN driver is inititalizated,\nall physical network segments are stored in ""ml2_vlan_allocations"".\n\nIn tunneled drivers (VXLAN, GRE, Geneve), there is only one segment\nrange and, if defined, is mandatory. When the tunneled driver is\ninitializated, the ""ml2_<tunnel_type>_allocations"" table is populated\ntoo.\n\nNow we ensure all segment allocation registers are created during the\ndrivers initialization, this patch prevents from creating any\nallocation register in runtime.\n""SegmentTypeDriver.allocate_fully_specified_segment"" will select and\nreserve the selected allocation register but never create one.\n\n[1]https://review.opendev.org/c/openstack/neutron-lib/+/779515\n\nChange-Id: I399ba01cd5411c24fe20750421fc963cf79686af\nRelated-Bug: #1919280\n'}, {'number': 2, 'created': '2021-03-22 13:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3cb9b39b3f599bad40e5befe08cf762f848daa53', 'message': 'Do not create on the fly segmentation allocations\n\nSince [1], the physical network VLAN ranges parser populates the\nranges for those entries without a defined range, allowing all\nvalid VLAN ranges ([1, 4094]). When the VLAN driver is inititalizated,\nall physical network segments are stored in ""ml2_vlan_allocations"".\n\nIn tunneled drivers (VXLAN, GRE, Geneve), there is only one segment\nrange and, if defined, is mandatory. When the tunneled driver is\ninitializated, the ""ml2_<tunnel_type>_allocations"" table is populated\ntoo.\n\nNow we ensure all segment allocation registers are created during the\ndrivers initialization, this patch prevents from creating any\nallocation register in runtime.\n""SegmentTypeDriver.allocate_fully_specified_segment"" will select and\nreserve the selected allocation register but never create one.\n\n[1]https://review.opendev.org/c/openstack/neutron-lib/+/779515\n\nChange-Id: I399ba01cd5411c24fe20750421fc963cf79686af\nRelated-Bug: #1919280\n'}, {'number': 3, 'created': '2021-03-22 18:05:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/409a510b6952a78837b0b8d755ebbd6931f6d4d8', 'message': 'Do not create on the fly segmentation allocations\n\nSince [1], the physical network VLAN ranges parser populates the\nranges for those entries without a defined range, allowing all\nvalid VLAN ranges ([1, 4094]). When the VLAN driver is inititalizated,\nall physical network segments are stored in ""ml2_vlan_allocations"".\n\nIn tunneled drivers (VXLAN, GRE, Geneve), there is only one segment\nrange and, if defined, is mandatory. When the tunneled driver is\ninitializated, the ""ml2_<tunnel_type>_allocations"" table is populated\ntoo.\n\nNow we ensure all segment allocation registers are created during the\ndrivers initialization, this patch prevents from creating any\nallocation register in runtime.\n""SegmentTypeDriver.allocate_fully_specified_segment"" will select and\nreserve the selected allocation register but never create one.\n\n[1]https://review.opendev.org/c/openstack/neutron-lib/+/779515\n\nChange-Id: I399ba01cd5411c24fe20750421fc963cf79686af\nRelated-Bug: #1919280\n'}, {'number': 4, 'created': '2021-03-23 15:00:19.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/tests/fullstack/test_dhcp_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/l2pop/test_mech_driver.py', 'neutron/plugins/ml2/drivers/helpers.py', 'neutron/tests/fullstack/resources/config.py', 'neutron/tests/fullstack/test_segmentation_id.py', 'neutron/tests/fullstack/test_connectivity.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9961b5c8d3d23a0122f2a96834e0c827695fb9d6', 'message': 'Do not create on the fly segmentation allocations\n\nSince [1], the physical network VLAN ranges parser populates the\nranges for those entries without a defined range, allowing all\nvalid VLAN ranges ([1, 4094]). When the VLAN driver is inititalizated,\nall physical network segments are stored in ""ml2_vlan_allocations"".\n\nIn tunneled drivers (VXLAN, GRE, Geneve), there is only one segment\nrange and, if defined, is mandatory. When the tunneled driver is\ninitializated, the ""ml2_<tunnel_type>_allocations"" table is populated\ntoo.\n\nNow we ensure all segment allocation registers are created during the\ndrivers initialization, this patch prevents from creating any\nallocation register in runtime.\n""SegmentTypeDriver.allocate_fully_specified_segment"" will select and\nreserve the selected allocation register but never create one.\n\n[1]https://review.opendev.org/c/openstack/neutron-lib/+/779515\n\nChange-Id: I399ba01cd5411c24fe20750421fc963cf79686af\nRelated-Bug: #1919280\n'}]",1,780929,9961b5c8d3d23a0122f2a96834e0c827695fb9d6,24,2,4,16688,,,0,"Do not create on the fly segmentation allocations

Since [1], the physical network VLAN ranges parser populates the
ranges for those entries without a defined range, allowing all
valid VLAN ranges ([1, 4094]). When the VLAN driver is inititalizated,
all physical network segments are stored in ""ml2_vlan_allocations"".

In tunneled drivers (VXLAN, GRE, Geneve), there is only one segment
range and, if defined, is mandatory. When the tunneled driver is
initializated, the ""ml2_<tunnel_type>_allocations"" table is populated
too.

Now we ensure all segment allocation registers are created during the
drivers initialization, this patch prevents from creating any
allocation register in runtime.
""SegmentTypeDriver.allocate_fully_specified_segment"" will select and
reserve the selected allocation register but never create one.

[1]https://review.opendev.org/c/openstack/neutron-lib/+/779515

Change-Id: I399ba01cd5411c24fe20750421fc963cf79686af
Related-Bug: #1919280
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/780929/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/l2pop/test_mech_driver.py', 'neutron/plugins/ml2/drivers/helpers.py']",2,f4465b5335751f531b6ccf4e86ab5bbdcd70c33f,bug/1919280," if not alloc: raise db_exc.RetryRequest( exceptions.NoNetworkFoundInMaximumAllowedAttempts()) if alloc.allocated: # Segment already allocated return else: # Segment not allocated LOG.debug(""%(type)s segment %(segment)s allocate "" ""started "", {""type"": network_type, ""segment"": raw_segment}) count = (context.session.query(self.model). filter_by(allocated=False, **raw_segment). update({""allocated"": True})) msg = (' done' if count else ' failed: segment has been allocated or deleted') LOG.debug('%(type)s segment %(segment)s allocate %(res)s.', {'type': network_type, 'segment': raw_segment, 'res': msg})"," if alloc: if alloc.allocated: # Segment already allocated return else: # Segment not allocated LOG.debug(""%(type)s segment %(segment)s allocate "" ""started "", {""type"": network_type, ""segment"": raw_segment}) count = (context.session.query(self.model). filter_by(allocated=False, **raw_segment). update({""allocated"": True})) if count: LOG.debug(""%(type)s segment %(segment)s allocate "" ""done "", {""type"": network_type, ""segment"": raw_segment}) return alloc # Segment allocated or deleted since select LOG.debug(""%(type)s segment %(segment)s allocate "" ""failed: segment has been allocated or "" ""deleted"", {""type"": network_type, ""segment"": raw_segment}) # Segment to create or already allocated LOG.debug(""%(type)s segment %(segment)s create started"", {""type"": network_type, ""segment"": raw_segment}) alloc = self.model(allocated=True, **raw_segment) alloc.save(context.session) LOG.debug(""%(type)s segment %(segment)s create done"", {""type"": network_type, ""segment"": raw_segment})",27,32
openstack%2Fneutron~master~I0813480ac67fbd948f76cc9973eb3e8718a0adca,openstack/neutron,master,I0813480ac67fbd948f76cc9973eb3e8718a0adca,Delete reverse records on FIP deletion without dns_domain.,ABANDONED,2021-01-20 05:05:56.000000000,2021-06-14 10:39:04.000000000,,"[{'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 20104}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-20 05:05:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0cecef10cd59b0377ec29a4f0e4d09ebe761ee01', 'message': 'Delete reverse records on FIP deletion without dns_domain.\n\nWhen floating ip is created without dns_domain and dns_name, ptr record\nis created in designate. On setting this ptr record, new recordset PTR\nentry created. On deletion of floating ip, ptr record gets deleted\nhowever reverse record i.e. recordset entry remains.\nAllowing to delete recordset on floating ip deletion without dns_name\nand dns_domain for admin_client with edit_managed_records set to fix\nabove issue.\n\nCloses-Bug: #1746627\nChange-Id: I0813480ac67fbd948f76cc9973eb3e8718a0adca\n'}, {'number': 2, 'created': '2021-01-22 06:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a7c500684177bbcdb431267f520593525a014b32', 'message': 'Delete reverse records on FIP deletion without dns_domain.\n\nWhen floating ip is created without dns_domain and dns_name, ptr record\nis created in designate. On setting this ptr record, new recordset PTR\nentry created. On deletion of floating ip, ptr record gets deleted\nhowever reverse record i.e. recordset entry remains.\nAllowing to delete recordset on floating ip deletion without dns_name\nand dns_domain for admin_client with edit_managed_records set to fix\nabove issue.\n\nCloses-Bug: #1746627\nChange-Id: I0813480ac67fbd948f76cc9973eb3e8718a0adca\n'}, {'number': 3, 'created': '2021-04-14 04:55:16.000000000', 'files': ['neutron/tests/unit/extensions/test_l3.py', 'neutron/db/dns_db.py', 'neutron/services/externaldns/drivers/designate/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f6a83497675b8ab60a9f01fc8de9f7eedcd875f4', 'message': 'Delete reverse records on FIP deletion without dns_domain.\n\nWhen floating ip is created without dns_domain and dns_name, ptr record\nis created in designate. On setting this ptr record, new recordset PTR\nentry created. On deletion of floating ip, ptr record gets deleted\nhowever reverse record i.e. recordset entry remains.\nAllowing to delete recordset on floating ip deletion without dns_name\nand dns_domain for admin_client with edit_managed_records set to fix\nabove issue.\n\nCloses-Bug: #1746627\nChange-Id: I0813480ac67fbd948f76cc9973eb3e8718a0adca\n'}]",4,771556,f6a83497675b8ab60a9f01fc8de9f7eedcd875f4,29,6,3,32919,,,0,"Delete reverse records on FIP deletion without dns_domain.

When floating ip is created without dns_domain and dns_name, ptr record
is created in designate. On setting this ptr record, new recordset PTR
entry created. On deletion of floating ip, ptr record gets deleted
however reverse record i.e. recordset entry remains.
Allowing to delete recordset on floating ip deletion without dns_name
and dns_domain for admin_client with edit_managed_records set to fix
above issue.

Closes-Bug: #1746627
Change-Id: I0813480ac67fbd948f76cc9973eb3e8718a0adca
",git fetch https://review.opendev.org/openstack/neutron refs/changes/56/771556/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/dns_db.py', 'neutron/services/externaldns/drivers/designate/driver.py']",2,0cecef10cd59b0377ec29a4f0e4d09ebe761ee01,bug/1746627,"from oslo_log import log as loggingLOG = logging.getLogger(__name__) def get_all_projects_client(context, edit_managed=False): global _SESSION if not _SESSION: _SESSION = loading.load_session_from_conf_options( CONF, 'designate') client = d_client.Client(session=_SESSION, auth=auth, all_projects=True, edit_managed=edit_managed) if CONF.designate.auth_type: admin_auth = loading.load_auth_from_conf_options( CONF, 'designate') else: admin_auth = password.Password( auth_url=CONF.designate.admin_auth_url, username=CONF.designate.admin_username, password=CONF.designate.admin_password, tenant_name=CONF.designate.admin_tenant_name, tenant_id=CONF.designate.admin_tenant_id) admin_client = d_client.Client(session=_SESSION, auth=admin_auth, endpoint_override=CONF.designate.url, all_projects=True, edit_managed=edit_managed) return client, admin_client if dns_domain and dns_name: try: ids_to_delete = self._get_ids_ips_to_delete( dns_domain, '%s.%s' % (dns_name, dns_domain), records, client) except dns_exc.DNSDomainNotFound: # Try whether we have admin powers and can see all projects client, admin_client = get_all_projects_client(context) ids_to_delete = self._get_ids_ips_to_delete( dns_domain, '%s.%s' % (dns_name, dns_domain), records, client) for _id in ids_to_delete: client.recordsets.delete(dns_domain, _id) if not dns_domain and not dns_name: client, admin_client = get_all_projects_client(context, True) try: for record in records: in_addr_name = netaddr.IPAddress(record).reverse_dns in_addr_zone_name = self._get_in_addr_zone_name(in_addr_name) admin_client.recordsets.delete(in_addr_zone_name, in_addr_name) except Exception as e: if not dns_domain and not dns_name: LOG.debug(""PTR record not found for floating IP "" ""created without dns_domain and dns_name"") else: raise e","def get_all_projects_client(context): return d_client.Client(session=_SESSION, auth=auth, all_projects=True) try: ids_to_delete = self._get_ids_ips_to_delete( dns_domain, '%s.%s' % (dns_name, dns_domain), records, client) except dns_exc.DNSDomainNotFound: # Try whether we have admin powers and can see all projects client = get_all_projects_client(context) ids_to_delete = self._get_ids_ips_to_delete( dns_domain, '%s.%s' % (dns_name, dns_domain), records, client) for _id in ids_to_delete: client.recordsets.delete(dns_domain, _id) for record in records: in_addr_name = netaddr.IPAddress(record).reverse_dns in_addr_zone_name = self._get_in_addr_zone_name(in_addr_name) admin_client.recordsets.delete(in_addr_zone_name, in_addr_name)",63,16
openstack%2Fneutron~master~Ifda1720df597dc1692fc34ff1e102194d5cbcbdb,openstack/neutron,master,Ifda1720df597dc1692fc34ff1e102194d5cbcbdb,DNM Just test for neutron-lib context change,ABANDONED,2021-04-16 12:48:38.000000000,2021-06-14 10:38:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-16 12:48:38.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b8506d8a94530f066a237a614f6a234f77c6c00a', 'message': 'DNM Just test for neutron-lib context change\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/779720\nChange-Id: Ifda1720df597dc1692fc34ff1e102194d5cbcbdb\n'}]",0,786642,b8506d8a94530f066a237a614f6a234f77c6c00a,6,1,1,11975,,,0,"DNM Just test for neutron-lib context change

Depends-On: https://review.opendev.org/c/openstack/neutron-lib/+/779720
Change-Id: Ifda1720df597dc1692fc34ff1e102194d5cbcbdb
",git fetch https://review.opendev.org/openstack/neutron refs/changes/42/786642/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,b8506d8a94530f066a237a614f6a234f77c6c00a,bp/enginefacade-switch,," templates: - neutron-tempest-plugin-jobs - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python3-xena-jobs - openstack-python3-xena-jobs-arm64 - publish-openstack-docs-pti - periodic-stable-jobs - check-requirements - release-notes-jobs-python3 - neutron-functional-with-uwsgi - neutron-fullstack-with-uwsgi - neutron-rally-task - neutron-grenade-multinode - neutron-grenade-dvr-multinode: # TODO(slaweq): make that job voting when bug # https://bugs.launchpad.net/neutron/+bug/1920778 # will be fixed voting: false - neutron-tempest-multinode-full-py3 - neutron-tempest-dvr-ha-multinode-full - neutron-tempest-slow-py3 - neutron-tempest-ipv6-only - neutron-ovn-tempest-ovs-release - neutron-ovn-tempest-ovs-release-ipv6-only # TODO(slaweq): add this job again to the check queue when it will be # working fine on python 3 #- networking-midonet-tempest-aio-ml2-centos-7: # voting: false - neutron-ovn-rally-task: voting: false # TripleO jobs that deploy OVN. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # In Stein and beyond, fs010 will run using # networking-ovn-tripleo-ci-centos-7-containers-multinode. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. - openstack-tox-py36: # from openstack-python3-xena-jobs template timeout: 3600 - openstack-tox-py38: # from openstack-python3-xena-jobs template timeout: 3600 - openstack-tox-lower-constraints: # from openstack-tox-lower-constraints template timeout: 3600 - openstack-tox-cover: # from openstack-cover-jobs template timeout: 4800 - neutron-ovn-tempest-slow gate: jobs: - neutron-functional-with-uwsgi - neutron-fullstack-with-uwsgi - neutron-tempest-multinode-full-py3 - neutron-grenade-multinode # TODO(slaweq): make that job gating when bug # https://bugs.launchpad.net/neutron/+bug/1920778 # will be fixed # - neutron-grenade-dvr-multinode - neutron-tempest-slow-py3 - neutron-tempest-ipv6-only - neutron-ovn-tempest-ovs-release - neutron-ovn-tempest-ovs-release-ipv6-only - openstack-tox-py36: # from openstack-python3-xena-jobs template timeout: 3600 - openstack-tox-lower-constraints: # from openstack-tox-lower-constraints template timeout: 3600 - neutron-ovn-tempest-slow #- neutron-ovn-rally-task #- neutron-ovn-tripleo-ci-centos-8-containers-multinode experimental: jobs: - neutron-grenade-ovn - neutron-tempest-with-uwsgi-loki - neutron-ovn-tempest-full-multinode-ovs-master - neutron-ovn-tempest-ovs-master periodic: jobs: - neutron-functional - neutron-fullstack - neutron-tempest-postgres-full - neutron-tempest-mariadb-full - neutron-tempest-with-os-ken-master - neutron-ovn-tempest-ovs-master-fedora - devstack-tobiko-faults-centos: voting: true - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa - openstacksdk-functional-devstack-networking - tripleo-ci-centos-8-content-provider - neutron-centos-8-tripleo-standalone: voting: true vars: &consumer_vars consumer_job: true build_container_images: false remove_tags: - build dependencies: &consumer_deps - tripleo-ci-centos-8-content-provider - neutron-ovn-tripleo-ci-centos-8-containers-multinode: vars: *consumer_vars dependencies: *consumer_deps",0,101
openstack%2Fneutron-dynamic-routing~master~I11801adce32380869b3854a39e9069e320adf882,openstack/neutron-dynamic-routing,master,I11801adce32380869b3854a39e9069e320adf882,Override initial network creation,ABANDONED,2018-05-17 11:40:32.000000000,2021-06-14 10:38:01.000000000,,"[{'_account_id': 4187}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 11:40:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/cec87c524925b670ac63bf2de7fb2b909f384d5b', 'message': 'Override initial network creation\n\nDefine a function neutron_plugin_create_initial_networks that will\noverride the default creation of initial networks in DevStack and\nmake sure that the initial networks are created with address scopes\nso that they can be announced via BGP later on.\n\nDepends-On: https://review.openstack.org/568866\nChange-Id: I11801adce32380869b3854a39e9069e320adf882\n'}, {'number': 2, 'created': '2018-11-12 13:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/491a698e7e4f6649e9f8f0cdfa389da4adf42a03', 'message': 'Override initial network creation\n\nDefine a function neutron_plugin_create_initial_networks that will\noverride the default creation of initial networks in DevStack and\nmake sure that the initial networks are created with address scopes\nso that they can be announced via BGP later on.\n\nDepends-On: https://review.openstack.org/568866\nChange-Id: I11801adce32380869b3854a39e9069e320adf882\n'}, {'number': 3, 'created': '2020-01-26 19:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/3fa503b5a5e685545ab008f64a90bb4f311cc39b', 'message': 'Override initial network creation\n\nDefine a function neutron_plugin_create_initial_networks that will\noverride the default creation of initial networks in DevStack and\nmake sure that the initial networks are created with address scopes\nso that they can be announced via BGP later on.\n\nDepends-On: https://review.openstack.org/568866\nChange-Id: I11801adce32380869b3854a39e9069e320adf882\n'}, {'number': 4, 'created': '2020-07-06 15:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/5282358752d10163e0711713a0927a2a278edaad', 'message': 'Override initial network creation\n\nDefine a function neutron_plugin_create_initial_networks that will\noverride the default creation of initial networks in DevStack and\nmake sure that the initial networks are created with address scopes\nso that they can be announced via BGP later on.\n\nDepends-On: https://review.openstack.org/568866\nChange-Id: I11801adce32380869b3854a39e9069e320adf882\n'}, {'number': 5, 'created': '2020-07-13 11:15:25.000000000', 'files': ['devstack/lib/dr'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/0428d6c566d1296bb235b3807cde81182067a172', 'message': 'Override initial network creation\n\nDefine a function neutron_plugin_create_initial_networks that will\noverride the default creation of initial networks in DevStack and\nmake sure that the initial networks are created with address scopes\nso that they can be announced via BGP later on.\n\nDepends-On: https://review.openstack.org/740668\nChange-Id: I11801adce32380869b3854a39e9069e320adf882\n'}]",4,569091,0428d6c566d1296bb235b3807cde81182067a172,44,5,5,13252,,,0,"Override initial network creation

Define a function neutron_plugin_create_initial_networks that will
override the default creation of initial networks in DevStack and
make sure that the initial networks are created with address scopes
so that they can be announced via BGP later on.

Depends-On: https://review.openstack.org/740668
Change-Id: I11801adce32380869b3854a39e9069e320adf882
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/91/569091/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/dr'],1,cec87c524925b670ac63bf2de7fb2b909f384d5b,initial-network-override," # This will be called instead of create_neutron_initial_network from # the neutron l3 library in devstack, so we mimic most of it here, # adding some address scope where needed. function neutron_plugin_create_initial_networks { local project_id project_id=$(openstack project list | grep "" demo "" | get_field 1) die_if_not_set $LINENO project_id ""Failure retrieving project_id for demo"" openstack address scope create --ip-version 4 --share publicv4 openstack address scope create --ip-version 6 --share publicv6 if is_networking_extension_supported ""auto-allocated-topology""; then if [[ ""$USE_SUBNETPOOL"" == ""True"" ]]; then if [[ ""$IP_VERSION"" =~ 4.* ]]; then SUBNETPOOL_V4_ID=$(openstack --os-cloud devstack-admin --os-region ""$REGION_NAME"" subnet pool create $SUBNETPOOL_NAME_V4 --default-prefix-length $SUBNETPOOL_SIZE_V4 --pool-prefix $SUBNETPOOL_PREFIX_V4 --share --default --address-scope publicv4 -f value -c id) fi if [[ ""$IP_VERSION"" =~ .*6 ]]; then SUBNETPOOL_V6_ID=$(openstack --os-cloud devstack-admin --os-region ""$REGION_NAME"" subnet pool create $SUBNETPOOL_NAME_V6 --default-prefix-length $SUBNETPOOL_SIZE_V6 --pool-prefix $SUBNETPOOL_PREFIX_V6 --share --default --address-scope publicv6 -f value -c id) fi fi fi if is_provider_network; then die_if_not_set $LINENO PHYSICAL_NETWORK ""You must specify the PHYSICAL_NETWORK"" die_if_not_set $LINENO PROVIDER_NETWORK_TYPE ""You must specify the PROVIDER_NETWORK_TYPE"" NET_ID=$(openstack --os-cloud devstack-admin --os-region ""$REGION_NAME"" network create $PHYSICAL_NETWORK --project $project_id --provider-network-type $PROVIDER_NETWORK_TYPE --provider-physical-network ""$PHYSICAL_NETWORK"" ${SEGMENTATION_ID:+--provider-segment $SEGMENTATION_ID} --share | grep ' id ' | get_field 2) die_if_not_set $LINENO NET_ID ""Failure creating NET_ID for $PHYSICAL_NETWORK $project_id"" if [[ ""$IP_VERSION"" =~ 4.* ]]; then if [ -z $SUBNETPOOL_V4_ID ]; then fixed_range_v4=$FIXED_RANGE fi SUBNET_ID=$(openstack --os-cloud devstack-admin --os-region ""$REGION_NAME"" subnet create --project $project_id --ip-version 4 ${ALLOCATION_POOL:+--allocation-pool $ALLOCATION_POOL} $PROVIDER_SUBNET_NAME --gateway $NETWORK_GATEWAY ${SUBNETPOOL_V4_ID:+--subnet-pool $SUBNETPOOL_V4_ID} --network $NET_ID ${fixed_range_v4:+--subnet-range $fixed_range_v4} | grep ' id ' | get_field 2) die_if_not_set $LINENO SUBNET_ID ""Failure creating SUBNET_ID for $PROVIDER_SUBNET_NAME $project_id"" fi if [[ ""$IP_VERSION"" =~ .*6 ]]; then die_if_not_set $LINENO IPV6_PROVIDER_FIXED_RANGE ""IPV6_PROVIDER_FIXED_RANGE has not been set, but Q_USE_PROVIDER_NETWORKING is true and IP_VERSION includes 6"" die_if_not_set $LINENO IPV6_PROVIDER_NETWORK_GATEWAY ""IPV6_PROVIDER_NETWORK_GATEWAY has not been set, but Q_USE_PROVIDER_NETWORKING is true and IP_VERSION includes 6"" if [ -z $SUBNETPOOL_V6_ID ]; then fixed_range_v6=$IPV6_PROVIDER_FIXED_RANGE fi IPV6_SUBNET_ID=$(openstack --os-cloud devstack-admin --os-region ""$REGION_NAME"" subnet create --project $project_id --ip-version 6 --gateway $IPV6_PROVIDER_NETWORK_GATEWAY $IPV6_PROVIDER_SUBNET_NAME ${SUBNETPOOL_V6_ID:+--subnet-pool $SUBNETPOOL_V6_ID} --network $NET_ID ${fixed_range_v6:+--subnet-range $fixed_range_v6} | grep ' id ' | get_field 2) die_if_not_set $LINENO IPV6_SUBNET_ID ""Failure creating IPV6_SUBNET_ID for $IPV6_PROVIDER_SUBNET_NAME $project_id"" fi if [[ $Q_AGENT == ""openvswitch"" ]]; then sudo ip link set $OVS_PHYSICAL_BRIDGE up sudo ip link set br-int up sudo ip link set $PUBLIC_INTERFACE up fi else NET_ID=$(openstack --os-cloud devstack-admin --os-region ""$REGION_NAME"" network create --project $project_id ""$PRIVATE_NETWORK_NAME"" | grep ' id ' | get_field 2) die_if_not_set $LINENO NET_ID ""Failure creating NET_ID for $PRIVATE_NETWORK_NAME $project_id"" if [[ ""$IP_VERSION"" =~ 4.* ]]; then # Create IPv4 private subnet SUBNET_ID=$(_neutron_create_private_subnet_v4 $project_id) fi if [[ ""$IP_VERSION"" =~ .*6 ]]; then # Create IPv6 private subnet IPV6_SUBNET_ID=$(_neutron_create_private_subnet_v6 $project_id) fi fi if is_networking_extension_supported ""router"" && is_networking_extension_supported ""external-net""; then # Create a router, and add the private subnet as one of its interfaces if [[ ""$Q_L3_ROUTER_PER_TENANT"" == ""True"" ]]; then # create a tenant-owned router. ROUTER_ID=$(openstack --os-cloud devstack-admin --os-region ""$REGION_NAME"" router create --project $project_id $Q_ROUTER_NAME | grep ' id ' | get_field 2) die_if_not_set $LINENO ROUTER_ID ""Failure creating ROUTER_ID for $project_id $Q_ROUTER_NAME"" else # Plugin only supports creating a single router, which should be admin owned. ROUTER_ID=$(openstack --os-cloud devstack-admin --os-region ""$REGION_NAME"" router create $Q_ROUTER_NAME | grep ' id ' | get_field 2) die_if_not_set $LINENO ROUTER_ID ""Failure creating ROUTER_ID for $Q_ROUTER_NAME"" fi EXTERNAL_NETWORK_FLAGS=""--external"" if is_networking_extension_supported ""auto-allocated-topology""; then EXTERNAL_NETWORK_FLAGS=""$EXTERNAL_NETWORK_FLAGS --default"" fi # Create an external network, and a subnet. Configure the external network as router gw if [ ""$Q_USE_PROVIDERNET_FOR_PUBLIC"" = ""True"" ]; then EXT_NET_ID=$(openstack --os-cloud devstack-admin --os-region ""$REGION_NAME"" network create ""$PUBLIC_NETWORK_NAME"" $EXTERNAL_NETWORK_FLAGS --provider-network-type ${PUBLIC_PROVIDERNET_TYPE:-flat} ${PUBLIC_PROVIDERNET_SEGMENTATION_ID:+--provider-segment $PUBLIC_PROVIDERNET_SEGMENTATION_ID} --provider-physical-network ${PUBLIC_PHYSICAL_NETWORK} | grep ' id ' | get_field 2) else EXT_NET_ID=$(openstack --os-cloud devstack-admin --os-region ""$REGION_NAME"" network create ""$PUBLIC_NETWORK_NAME"" $EXTERNAL_NETWORK_FLAGS | grep ' id ' | get_field 2) fi die_if_not_set $LINENO EXT_NET_ID ""Failure creating EXT_NET_ID for $PUBLIC_NETWORK_NAME"" if [[ ""$IP_VERSION"" =~ 4.* ]]; then # Configure router for IPv4 public access _ndr_configure_router_v4 fi if [[ ""$IP_VERSION"" =~ .*6 ]]; then # Configure router for IPv6 public access _ndr_configure_router_v6 fi fi } # Configure neutron router for IPv4 public access function _ndr_configure_router_v4 { openstack --os-cloud devstack-admin --os-region ""$REGION_NAME"" router add subnet $ROUTER_ID $SUBNET_ID # Create a public subnet on the external network local id_and_ext_gw_ip id_and_ext_gw_ip=$(_ndr_create_public_subnet_v4 $EXT_NET_ID) local ext_gw_ip ext_gw_ip=$(echo $id_and_ext_gw_ip | get_field 2) PUB_SUBNET_ID=$(echo $id_and_ext_gw_ip | get_field 5) # Configure the external network as the default router gateway openstack --os-cloud devstack-admin --os-region ""$REGION_NAME"" router set --external-gateway $EXT_NET_ID $ROUTER_ID # This logic is specific to using the l3-agent for layer 3 if is_service_enabled q-l3 || is_service_enabled neutron-l3; then # Configure and enable public bridge local ext_gw_interface=""none"" if is_neutron_ovs_base_plugin; then ext_gw_interface=$(_neutron_get_ext_gw_interface) elif [[ ""$Q_AGENT"" = ""linuxbridge"" ]]; then # Get the device the neutron router and network for $FIXED_RANGE # will be using. if [ ""$Q_USE_PROVIDERNET_FOR_PUBLIC"" = ""True"" ]; then # in provider nets a bridge mapping uses the public bridge directly ext_gw_interface=$PUBLIC_BRIDGE else # e.x. brq3592e767-da for NET_ID 3592e767-da66-4bcb-9bec-cdb03cd96102 ext_gw_interface=brq${EXT_NET_ID:0:11} fi fi if [[ ""$ext_gw_interface"" != ""none"" ]]; then local cidr_len=${FLOATING_RANGE#*/} local testcmd=""ip -o link | grep -q $ext_gw_interface"" test_with_retry ""$testcmd"" ""$ext_gw_interface creation failed"" if [[ $(ip addr show dev $ext_gw_interface | grep -c $ext_gw_ip) == 0 && ( $Q_USE_PROVIDERNET_FOR_PUBLIC == ""False"" || $Q_USE_PUBLIC_VETH == ""True"" || $Q_ASSIGN_GATEWAY_TO_PUBLIC_BRIDGE == ""True"" ) ]]; then sudo ip addr add $ext_gw_ip/$cidr_len dev $ext_gw_interface sudo ip link set $ext_gw_interface up fi ROUTER_GW_IP=$(openstack --os-cloud devstack-admin --os-region ""$REGION_NAME"" port list -c 'Fixed IP Addresses' --device-owner network:router_gateway | awk -F'ip_address' '{ print $2 }' | cut -f2 -d\' | tr '\n' ' ') die_if_not_set $LINENO ROUTER_GW_IP ""Failure retrieving ROUTER_GW_IP"" fi _neutron_set_router_id fi } # Configure neutron router for IPv6 public access function _ndr_configure_router_v6 { openstack --os-cloud devstack-admin --os-region ""$REGION_NAME"" router add subnet $ROUTER_ID $IPV6_SUBNET_ID # Create a public subnet on the external network local ipv6_id_and_ext_gw_ip ipv6_id_and_ext_gw_ip=$(_ndr_create_public_subnet_v6 $EXT_NET_ID) local ipv6_ext_gw_ip ipv6_ext_gw_ip=$(echo $ipv6_id_and_ext_gw_ip | get_field 2) local ipv6_pub_subnet_id ipv6_pub_subnet_id=$(echo $ipv6_id_and_ext_gw_ip | get_field 5) # If the external network has not already been set as the default router # gateway when configuring an IPv4 public subnet, do so now if [[ ""$IP_VERSION"" == ""6"" ]]; then openstack --os-cloud devstack-admin --os-region ""$REGION_NAME"" router set --external-gateway $EXT_NET_ID $ROUTER_ID fi # This logic is specific to using the l3-agent for layer 3 if is_service_enabled q-l3 || is_service_enabled neutron-l3; then # Ensure IPv6 RAs are accepted on interfaces with a default route. # This is needed for neutron-based devstack clouds to work in # IPv6-only clouds in the gate. Please do not remove this without # talking to folks in Infra. for d in $default_v6_route_devs; do # Slashes must be used in this sysctl command because route devices # can have dots in their names. If dots were used, dots in the # device name would be reinterpreted as a slash, causing an error. sudo sysctl -w net/ipv6/conf/$d/accept_ra=2 done # Ensure IPv6 forwarding is enabled on the host sudo sysctl -w net.ipv6.conf.all.forwarding=1 # Configure and enable public bridge # Override global IPV6_ROUTER_GW_IP with the true value from neutron IPV6_ROUTER_GW_IP=$(openstack --os-cloud devstack-admin --os-region ""$REGION_NAME"" port list -c 'Fixed IP Addresses' | grep $ipv6_pub_subnet_id | awk -F'ip_address' '{ print $2 }' | cut -f2 -d\' | tr '\n' ' ') die_if_not_set $LINENO IPV6_ROUTER_GW_IP ""Failure retrieving IPV6_ROUTER_GW_IP"" if is_neutron_ovs_base_plugin; then local ext_gw_interface ext_gw_interface=$(_neutron_get_ext_gw_interface) local ipv6_cidr_len=${IPV6_PUBLIC_RANGE#*/} # Configure interface for public bridge sudo ip -6 addr replace $ipv6_ext_gw_ip/$ipv6_cidr_len dev $ext_gw_interface local replace_range=${SUBNETPOOL_PREFIX_V6} if [[ -z ""${SUBNETPOOL_V6_ID}"" ]]; then replace_range=${FIXED_RANGE_V6} fi sudo ip -6 route replace $replace_range via $IPV6_ROUTER_GW_IP dev $ext_gw_interface fi _neutron_set_router_id fi } # Create public IPv4 subnet function _ndr_create_public_subnet_v4 { local subnet_params=""--ip-version 4 "" # subnet_params+=""${Q_FLOATING_ALLOCATION_POOL:+--allocation-pool $Q_FLOATING_ALLOCATION_POOL} "" # if [[ -n ""$PUBLIC_NETWORK_GATEWAY"" ]]; then # subnet_params+=""--gateway $PUBLIC_NETWORK_GATEWAY "" # fi subnet_params+=""--network $EXT_NET_ID --no-dhcp "" subnet_params+=""$PUBLIC_SUBNET_NAME"" local public_subnetpool_v4_id public_subnetpool_v4_id=$(openstack --os-cloud devstack-admin --os-region ""$REGION_NAME"" subnet pool create public_v4_pool --pool-prefix $FLOATING_RANGE --address-scope publicv4 --default-prefix-length 24 -f value -c id) subnet_params+="" --subnet-pool $public_subnetpool_v4_id "" local id_and_ext_gw_ip id_and_ext_gw_ip=$(openstack --os-cloud devstack-admin --os-region ""$REGION_NAME"" subnet create $subnet_params | grep -e 'gateway_ip' -e ' id ') die_if_not_set $LINENO id_and_ext_gw_ip ""Failure creating public IPv4 subnet"" echo $id_and_ext_gw_ip } # Create public IPv6 subnet function _ndr_create_public_subnet_v6 { local subnet_params=""--ip-version 6 "" subnet_params+=""--gateway $IPV6_PUBLIC_NETWORK_GATEWAY "" subnet_params+=""--network $EXT_NET_ID --subnet-range $IPV6_PUBLIC_RANGE --no-dhcp "" subnet_params+=""$IPV6_PUBLIC_SUBNET_NAME"" local ipv6_id_and_ext_gw_ip ipv6_id_and_ext_gw_ip=$(openstack --os-cloud devstack-admin --os-region ""$REGION_NAME"" subnet create $subnet_params | grep -e 'gateway_ip' -e ' id ') die_if_not_set $LINENO ipv6_id_and_ext_gw_ip ""Failure creating an IPv6 public subnet"" echo $ipv6_id_and_ext_gw_ip }",,229,0
openstack%2Fneutron~master~I6c9f4b8b9b566fea790657dba0eb7a64c32f6dec,openstack/neutron,master,I6c9f4b8b9b566fea790657dba0eb7a64c32f6dec,Use py3 as the default runtime for tox,ABANDONED,2021-04-20 01:25:39.000000000,2021-06-14 10:37:44.000000000,,"[{'_account_id': 5948}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 01:25:39.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f83240cbc6a4f4f674027b58ab4bdce7c3eab382', 'message': ""Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update this at\neach new cycle.\n\nWallaby support officially the following runtimes [1]:\n- Python 3.6\n- Python 3.8\n\nDuring Victoria Python 3.7 was used as the default runtime [2] however this\nversion isn't longer officially supported.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby\n[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria\n\nChange-Id: I6c9f4b8b9b566fea790657dba0eb7a64c32f6dec\n""}]",0,787005,f83240cbc6a4f4f674027b58ab4bdce7c3eab382,5,2,1,31412,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: I6c9f4b8b9b566fea790657dba0eb7a64c32f6dec
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/787005/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f83240cbc6a4f4f674027b58ab4bdce7c3eab382,,"envlist = docs,py3,pep8","envlist = docs,py38,pep8",1,1
openstack%2Fneutron-tempest-plugin~master~Ic2e9096a7a590f1d3a7c405c34b4baab5357cb94,openstack/neutron-tempest-plugin,master,Ic2e9096a7a590f1d3a7c405c34b4baab5357cb94,Change FIP creation to use the templated domain name,ABANDONED,2021-02-22 11:56:24.000000000,2021-06-14 10:37:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-22 11:56:24.000000000', 'files': ['neutron_tempest_plugin/scenario/test_dns_integration.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/de5df135b4fa1600bede421634d8ee0de3a0e3d4', 'message': ""Change FIP creation to use the templated domain name\n\nThis shows an error in the code, the FIP is created but the API still\nreturns an error 500. The traceback in the log shows:\n\nneutron.api.v2.resource designateclient.exceptions.BadRequest: 'tempest-fip-test-1312680778.<user_id>.<project_id>.tempest-test-domain-771924543.zone.' is not a 'PTR' Record\n\nChange-Id: Ic2e9096a7a590f1d3a7c405c34b4baab5357cb94\n""}]",0,776924,de5df135b4fa1600bede421634d8ee0de3a0e3d4,10,1,1,13252,,,0,"Change FIP creation to use the templated domain name

This shows an error in the code, the FIP is created but the API still
returns an error 500. The traceback in the log shows:

neutron.api.v2.resource designateclient.exceptions.BadRequest: 'tempest-fip-test-1312680778.<user_id>.<project_id>.tempest-test-domain-771924543.zone.' is not a 'PTR' Record

Change-Id: Ic2e9096a7a590f1d3a7c405c34b4baab5357cb94
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/24/776924/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_dns_integration.py'],1,de5df135b4fa1600bede421634d8ee0de3a0e3d4,bug/1875981," cls.dns_domain_template = ""<user_id>.<project_id>.%s.zone."" % name cls.network = cls.create_network(dns_domain=cls.dns_domain_template) fip = self.create_floatingip(client=self.os_primary.network_client, dns_name=name, dns_domain=self.dns_domain_template)"," dns_domain_template = ""<user_id>.<project_id>.%s.zone."" % name cls.network = cls.create_network(dns_domain=dns_domain_template) fip = self._create_floatingip_with_dns(name)",5,3
openstack%2Fnetworking-bagpipe~master~Iaedea657c2ef39923d9d03c290a54f4ca1c3a216,openstack/networking-bagpipe,master,Iaedea657c2ef39923d9d03c290a54f4ca1c3a216,"Turn back to use ""ovs-ofctl"" and ""ovs-vsctl""",ABANDONED,2020-06-16 14:54:15.000000000,2021-06-14 10:37:15.000000000,,"[{'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 14525}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-16 14:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/4018e4b038f9d524bc89021024cc8c6b95049b11', 'message': 'Make ovs evpn driver an os-ken app\n\nTODO: add tests\n\nCloses-Bug: #1883102\nChange-Id: Iaedea657c2ef39923d9d03c290a54f4ca1c3a216\n'}, {'number': 2, 'created': '2020-10-09 18:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/4c8a34514b63686c514aec209d6ebcef20c69dfe', 'message': 'Make ovs evpn driver an os-ken app\n\nCloses-Bug: #1883102\nChange-Id: Iaedea657c2ef39923d9d03c290a54f4ca1c3a216\n'}, {'number': 3, 'created': '2020-10-09 18:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/014a9d028b48a944b14e8ddd07b70e958eb0eac7', 'message': 'Make ovs evpn driver an os-ken app\n\nCloses-Bug: #1883102\nChange-Id: Iaedea657c2ef39923d9d03c290a54f4ca1c3a216\n'}, {'number': 4, 'created': '2021-02-09 13:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/adc20ca56cff6d18921607d9d8bbd8c84666281b', 'message': 'Make ovs evpn driver an os-ken app\n\nCloses-Bug: #1883102\nChange-Id: Iaedea657c2ef39923d9d03c290a54f4ca1c3a216\n'}, {'number': 5, 'created': '2021-02-10 13:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/5cef3826c0a12376e214289956fe0c5678cbbc8e', 'message': 'Make ovs evpn driver an os-ken app\n\nCloses-Bug: #1883102\nChange-Id: Iaedea657c2ef39923d9d03c290a54f4ca1c3a216\n'}, {'number': 6, 'created': '2021-02-12 08:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/74985fe49ffc090805500a376a86e94067081d69', 'message': ""Make ovs evpn driver an os-ken app\n\nUse legacy implementation that uses ovs-vctl tool to setup flows on\nthe br-tun, as with native implementation same bridge can't be managed\nby two controllers.\n\nCo-Authored-By: Anton Arefiev <aarefiev@mirantis.com>\nCloses-Bug: #1883102\nChange-Id: Iaedea657c2ef39923d9d03c290a54f4ca1c3a216\n""}, {'number': 7, 'created': '2021-02-12 12:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/0146eda9d915e53dffb2107dd12c2ffa15e90e7c', 'message': ""Make ovs evpn driver an os-ken app\n\nUse legacy implementation that uses ovs-vctl tool to setup flows on\nthe br-tun, as with native implementation same bridge can't be managed\nby two controllers.\n\nCo-Authored-By: Anton Arefiev <aarefiev@mirantis.com>\nCloses-Bug: #1883102\nChange-Id: Iaedea657c2ef39923d9d03c290a54f4ca1c3a216\n""}, {'number': 8, 'created': '2021-03-02 21:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/3a20f0fb7f47c9e203ef6db8c4a39e90a8299d38', 'message': ""Make ovs evpn driver an os-ken app\n\nUse legacy implementation for managing tunnel bridge rules, as we can't\nuse ovsdb since the same bridge can't be managed by two controllers.\n\nCo-Authored-By: Anton Arefiev <aarefiev@mirantis.com>\nCloses-Bug: #1883102\nChange-Id: Iaedea657c2ef39923d9d03c290a54f4ca1c3a216\n""}, {'number': 9, 'created': '2021-03-02 21:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/4fb14bf629de2acd20e982816167ab12e2c47ee4', 'message': ""Make ovs evpn driver an os-ken app\n\nUse legacy implementation for managing tunnel bridge rules, as we can't\nuse ovsdb since the same bridge can't be managed by two controllers.\n\nCo-Authored-By: Anton Arefiev <aarefiev@mirantis.com>\nCloses-Bug: #1883102\nChange-Id: Iaedea657c2ef39923d9d03c290a54f4ca1c3a216\n""}, {'number': 10, 'created': '2021-03-16 11:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/3ade53fdd6216df72cd17d89b308a5f469906bc7', 'message': ""Make ovs evpn driver an os-ken app\n\nUse legacy implementation for managing tunnel bridge rules, as we can't\nuse ovsdb since the same bridge can't be managed by two controllers.\n\nCo-Authored-By: Anton Arefiev <aarefiev@mirantis.com>\nCo-Authored-By: LIU Yulong <i@liuyulong.me>\nCloses-Bug: #1883102\nChange-Id: Iaedea657c2ef39923d9d03c290a54f4ca1c3a216\n""}, {'number': 11, 'created': '2021-03-16 11:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/c24eec6c3d8cc05f181c61a32b245e7bdfa1f5d7', 'message': 'Turn back to use ""ovs-ofctl"" and ""ovs-vsctl""\n\nUse legacy implementation for managing tunnel bridge rules, as we can\'t\nuse ovsdb since the same bridge can\'t be managed by two controllers.\n\nCo-Authored-By: Anton Arefiev <aarefiev@mirantis.com>\nCo-Authored-By: LIU Yulong <i@liuyulong.me>\nCloses-Bug: #1883102\nChange-Id: Iaedea657c2ef39923d9d03c290a54f4ca1c3a216\n'}, {'number': 12, 'created': '2021-03-16 11:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/d34436133344de530e60669c5cd750010aa5d254', 'message': 'Turn back to use ""ovs-ofctl"" and ""ovs-vsctl""\n\nUse legacy implementation for managing tunnel bridge rules, as we can\'t\nuse ovsdb since the same bridge can\'t be managed by two controllers.\n\nCo-Authored-By: Anton Arefiev <aarefiev@mirantis.com>\nCo-Authored-By: LIU Yulong <i@liuyulong.me>\n\nCloses-Bug: #1883102\nChange-Id: Iaedea657c2ef39923d9d03c290a54f4ca1c3a216\n'}, {'number': 13, 'created': '2021-03-19 08:05:33.000000000', 'files': ['networking_bagpipe/agent/ovsdb/impl_vsctl.py', 'networking_bagpipe/bagpipe_bgp/vpn/evpn/ovs.py', 'networking_bagpipe/bagpipe_bgp/vpn/evpn/ovs_tunnel_bridge.py', 'networking_bagpipe/agent/ovsdb/__init__.py'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/73f60951057bc4113caedae8f7611564d29c22ed', 'message': 'Turn back to use ""ovs-ofctl"" and ""ovs-vsctl""\n\nUse legacy implementation for managing tunnel bridge rules, as we can\'t\nuse ovsdb since the same bridge can\'t be managed by two controllers.\n\nCo-Authored-By: Anton Arefiev <aarefiev@mirantis.com>\nCo-Authored-By: LIU Yulong <i@liuyulong.me>\n\nMove the ovsdb command API [1] back to networking_bagpipe.\n[1] https://review.opendev.org/c/openstack/neutron/+/570259/20/neutron/agent/ovsdb/impl_vsctl.py\n\nCloses-Bug: #1883102\nChange-Id: Iaedea657c2ef39923d9d03c290a54f4ca1c3a216\n'}]",30,735934,73f60951057bc4113caedae8f7611564d29c22ed,54,6,13,8313,,,0,"Turn back to use ""ovs-ofctl"" and ""ovs-vsctl""

Use legacy implementation for managing tunnel bridge rules, as we can't
use ovsdb since the same bridge can't be managed by two controllers.

Co-Authored-By: Anton Arefiev <aarefiev@mirantis.com>
Co-Authored-By: LIU Yulong <i@liuyulong.me>

Move the ovsdb command API [1] back to networking_bagpipe.
[1] https://review.opendev.org/c/openstack/neutron/+/570259/20/neutron/agent/ovsdb/impl_vsctl.py

Closes-Bug: #1883102
Change-Id: Iaedea657c2ef39923d9d03c290a54f4ca1c3a216
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/34/735934/13 && git format-patch -1 --stdout FETCH_HEAD,['networking_bagpipe/bagpipe_bgp/vpn/evpn/ovs.py'],1,4018e4b038f9d524bc89021024cc8c6b95049b11,bug/1883102,"import functools from oslo_utils import excutils from os_ken.base import app_manager from os_ken.lib import hub from networking_bagpipe.bagpipe_bgp import bgp_daemondef bgp_daemon_wrapper(): try: bgp_daemon.daemon_main() except Exception: with excutils.save_and_reraise_exception(): LOG.exception(""Agent main thread died of an exception"") finally: # The following call terminates os-ken's AppManager.run_apps(), # which is needed for clean shutdown of an agent process. # The close() call must be called in another thread, otherwise # it suicides and ends prematurely. hub.spawn(app_manager.AppManager.get_instance().close) class OVSDataplaneDriver(dp_drivers.DataplaneDriver, app_manager.OSKenApp): def start(self): super(OVSDataplaneDriver, self).start() def _make_br_cls(br_cls): return functools.partial(br_cls, self.config.ovs_bridge, os_ken_app=self) bridge_classes = { 'br_tun': _make_br_cls(br_tun.OVSTunnelBridge) } bridge_classes['br_tun'] return hub.spawn(bgp_daemon_wrapper, raise_error=True)",class OVSDataplaneDriver(dp_drivers.DataplaneDriver): br_tun.OVSTunnelBridge(self.config.ovs_bridge),34,2
openstack%2Fpuppet-tacker~master~I4254185684dcc47ab9cc890c2aa9478aeb89b922,openstack/puppet-tacker,master,I4254185684dcc47ab9cc890c2aa9478aeb89b922,Get rid of the $pyvers variable,ABANDONED,2021-06-12 15:04:33.000000000,2021-06-14 10:36:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-12 15:04:33.000000000', 'files': ['manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/3d52bfaf715ad9ecac2c493853227469026f50de', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: I4254185684dcc47ab9cc890c2aa9478aeb89b922\nCo-authored-by: Thomas Goirand <zigo@debian.org>\n""}]",0,796140,3d52bfaf715ad9ecac2c493853227469026f50de,3,1,1,9816,,,0,"Get rid of the $pyvers variable

Since everyone has switched to Python3, it's time for the removal of the
$pyvers variable.

Change-Id: I4254185684dcc47ab9cc890c2aa9478aeb89b922
Co-authored-by: Thomas Goirand <zigo@debian.org>
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/40/796140/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/params.pp'],1,3d52bfaf715ad9ecac2c493853227469026f50de,pyvers-removal, $client_package_name = 'python3-tackerclient'," $pyvers = $::openstacklib::defaults::pyvers $client_package_name = ""python${pyvers}-tackerclient""",1,2
openstack%2Fneutron~master~Iaf02d6ed8bcfef4c9d29583b60c2f4cee48ad833,openstack/neutron,master,Iaf02d6ed8bcfef4c9d29583b60c2f4cee48ad833,DNM Just some extra logs to understand the Haproxy issue,ABANDONED,2021-04-20 06:38:34.000000000,2021-06-14 10:36:27.000000000,,"[{'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 06:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/45640f0871ccc7da3b208b0a0431b2d4bc470185', 'message': 'DNM Just some extra logs to understand the Haproxy issue\n\nChange-Id: Iaf02d6ed8bcfef4c9d29583b60c2f4cee48ad833\n'}, {'number': 2, 'created': '2021-04-20 08:23:29.000000000', 'files': ['neutron/agent/l3/keepalived_state_change.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/80d214ca21af6414ae941101b044a9af43b6870d', 'message': 'DNM Just some extra logs to understand the Haproxy issue\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/786268\n\nRelated-bug: #1923633\n\nChange-Id: Iaf02d6ed8bcfef4c9d29583b60c2f4cee48ad833\n'}]",0,787107,80d214ca21af6414ae941101b044a9af43b6870d,11,2,2,11975,,,0,"DNM Just some extra logs to understand the Haproxy issue

Depends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/786268

Related-bug: #1923633

Change-Id: Iaf02d6ed8bcfef4c9d29583b60c2f4cee48ad833
",git fetch https://review.opendev.org/openstack/neutron refs/changes/07/787107/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/keepalived_state_change.py'],1,45640f0871ccc7da3b208b0a0431b2d4bc470185,bug/1923633," LOG.debug('SK; Notifing agent router %s, state %s', self.router_id, state) LOG.debug('SK; notify resp = %s', resp.__dict__)",,3,0
openstack%2Fneutron~master~I7d208371e0f1ec1ba1ddcd244da6dc3a6f63c495,openstack/neutron,master,I7d208371e0f1ec1ba1ddcd244da6dc3a6f63c495,[WIP][DNM] [HA] Use RPC instead of socket server to communicate HA router state change,ABANDONED,2021-04-20 17:04:18.000000000,2021-06-14 10:35:59.000000000,,"[{'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 17:04:18.000000000', 'files': ['neutron/agent/l3/keepalived_state_change.py', 'neutron/agent/l3/ha.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/80c46975eda412c9f1afd53ef224f19ddd37fbde', 'message': '[WIP][DNM] [HA] Use RPC instead of socket server to communicate HA\nrouter state change\n\nTODO: everything.\n\nChange-Id: I7d208371e0f1ec1ba1ddcd244da6dc3a6f63c495\n'}]",8,787270,80c46975eda412c9f1afd53ef224f19ddd37fbde,7,2,1,16688,,,0,"[WIP][DNM] [HA] Use RPC instead of socket server to communicate HA
router state change

TODO: everything.

Change-Id: I7d208371e0f1ec1ba1ddcd244da6dc3a6f63c495
",git fetch https://review.opendev.org/openstack/neutron refs/changes/70/787270/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/keepalived_state_change.py', 'neutron/agent/l3/ha.py']",2,80c46975eda412c9f1afd53ef224f19ddd37fbde,ha_state_rpc,"import socketfrom neutron_lib.agent import topicsimport oslo_messagingfrom neutron.agent import rpc as agent_rpcclass HaStateChangeRpcCallbacks(object): # Set HA API version to 1.0 by default. # history target = oslo_messaging.Target(version='1.5') def __init__(self, ha_agent): super().__init__() self.ha_agent = ha_agent def update_router(self, context, **kwargs): LOG.debug('update_router received') router_id = kwargs.get('router_id') state = kwargs.get('state') self.ha_agent.enqueue_state_change(router_id, state) # class KeepalivedStateChangeHandler(object): # def __init__(self, agent): # self.agent = agent # # @webob.dec.wsgify(RequestClass=webob.Request) # def __call__(self, req): # router_id = req.headers['X-Neutron-Router-Id'] # state = req.headers['X-Neutron-State'] # self.enqueue(router_id, state) # # def enqueue(self, router_id, state): # LOG.debug('Handling notification for router ' # '%(router_id)s, state %(state)s', {'router_id': router_id, # 'state': state}) # self.agent.enqueue_state_change(router_id, state) # class L3AgentKeepalivedStateChangeServer(object): # def __init__(self, agent, conf): # self.agent = agent # self.conf = conf # # agent_utils.ensure_directory_exists_without_file( # self.get_keepalived_state_change_socket_path(self.conf)) # # @classmethod # def get_keepalived_state_change_socket_path(cls, conf): # return os.path.join(conf.state_path, 'keepalived-state-change') # # def run(self): # server = agent_utils.UnixDomainWSGIServer( # 'neutron-keepalived-state-change', # num_threads=self.conf.ha_keepalived_state_change_server_threads) # server.start(KeepalivedStateChangeHandler(self.agent), # self.get_keepalived_state_change_socket_path(self.conf), # workers=0, # backlog=KEEPALIVED_STATE_CHANGE_SERVER_BACKLOG) # server.wait() #eventlet.spawn(self._start_keepalived_notifications_server) self._setup_rpc() def _setup_rpc(self): topic = 'ha_router_%s' % socket.gethostname() consumers = [['router', topics.UPDATE], ] endpoints = [HaStateChangeRpcCallbacks(self)] self.connection = agent_rpc.create_consumers(endpoints, topic, consumers, start_listening=False) self.connection.consume_in_threads() # def _start_keepalived_notifications_server(self): # state_change_server = ( # L3AgentKeepalivedStateChangeServer(self, self.conf)) # state_change_server.run()","class KeepalivedStateChangeHandler(object): def __init__(self, agent): self.agent = agent @webob.dec.wsgify(RequestClass=webob.Request) def __call__(self, req): router_id = req.headers['X-Neutron-Router-Id'] state = req.headers['X-Neutron-State'] self.enqueue(router_id, state) def enqueue(self, router_id, state): LOG.debug('Handling notification for router ' '%(router_id)s, state %(state)s', {'router_id': router_id, 'state': state}) self.agent.enqueue_state_change(router_id, state) class L3AgentKeepalivedStateChangeServer(object): def __init__(self, agent, conf): self.agent = agent self.conf = conf agent_utils.ensure_directory_exists_without_file( self.get_keepalived_state_change_socket_path(self.conf)) @classmethod def get_keepalived_state_change_socket_path(cls, conf): return os.path.join(conf.state_path, 'keepalived-state-change') def run(self): server = agent_utils.UnixDomainWSGIServer( 'neutron-keepalived-state-change', num_threads=self.conf.ha_keepalived_state_change_server_threads) server.start(KeepalivedStateChangeHandler(self.agent), self.get_keepalived_state_change_socket_path(self.conf), workers=0, backlog=KEEPALIVED_STATE_CHANGE_SERVER_BACKLOG) server.wait() eventlet.spawn(self._start_keepalived_notifications_server) def _start_keepalived_notifications_server(self): state_change_server = ( L3AgentKeepalivedStateChangeServer(self, self.conf)) state_change_server.run()",103,55
openstack%2Fneutron~master~I33f4ca869eccb06ac0316234a11abbb520879846,openstack/neutron,master,I33f4ca869eccb06ac0316234a11abbb520879846,Use jinja template to generate keepalived config,ABANDONED,2020-10-27 15:23:35.000000000,2021-06-14 10:35:35.000000000,,"[{'_account_id': 5792}, {'_account_id': 5948}, {'_account_id': 6737}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-10-27 15:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/31d64de8b0dcf6e94b99c40bc32fe0853916cacf', 'message': 'WIP: Make keepalived configuration more configurable\n\n- TODO: add keepalived conf to neutron conf file\n- Converting keepalived config to jinja template\n\nChange-Id: I33f4ca869eccb06ac0316234a11abbb520879846\nCloses-Bug: #1892200\n'}, {'number': 2, 'created': '2020-10-27 16:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/666bcce55259066488bec077dd02659b2f19e7e3', 'message': 'Converting keepalived config to jinja template\n\nChange-Id: I33f4ca869eccb06ac0316234a11abbb520879846\nPartial-Bug: #1892200\n'}, {'number': 3, 'created': '2020-10-29 13:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9645f5eb28004ed06883d102e40a6f9bd777cad8', 'message': 'Converting keepalived config to jinja template\n\nChange-Id: I33f4ca869eccb06ac0316234a11abbb520879846\nPartial-Bug: #1892200\n'}, {'number': 4, 'created': '2020-11-03 16:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c8f702888775ee77db6affac99a81e0029d8ab80', 'message': 'Converting keepalived config to jinja templating\n\nChange-Id: I33f4ca869eccb06ac0316234a11abbb520879846\nPartial-Bug: #1892200\n'}, {'number': 5, 'created': '2020-11-03 18:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f1857f605b00bae611d184f6e22b8ba954198887', 'message': 'Converting keepalived config to jinja templating\n\nChange-Id: I33f4ca869eccb06ac0316234a11abbb520879846\nPartial-Bug: #1892200\n'}, {'number': 6, 'created': '2020-11-18 15:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c8ecb91dc0429582fac7b3f0233f1fe0723af007', 'message': 'Converting keepalived config to jinja templating\n\nChange-Id: I33f4ca869eccb06ac0316234a11abbb520879846\nPartial-Bug: #1892200\n'}, {'number': 7, 'created': '2020-11-19 16:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/909f3b95553c38ce5b45ad3231bf3ce6310d5296', 'message': 'Converting keepalived config to jinja templating\n\nChange-Id: I33f4ca869eccb06ac0316234a11abbb520879846\nPartial-Bug: #1892200\n'}, {'number': 8, 'created': '2020-11-19 16:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a97f9ff4de437d6c0fffc746d48d3180819486c1', 'message': 'Converting keepalived config to jinja templating\n\nChange-Id: I33f4ca869eccb06ac0316234a11abbb520879846\nPartial-Bug: #1892200\n'}, {'number': 9, 'created': '2020-11-23 15:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/49b5b1f86cdf590ea113051cf6071516c4cdce2a', 'message': 'Converting keepalived config to jinja templating\n\nChange-Id: I33f4ca869eccb06ac0316234a11abbb520879846\nCloses-Bug: #1892200\n'}, {'number': 10, 'created': '2021-02-10 10:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ebe080d008444fe3cb8b2c73331d4ce04fd36ea0', 'message': 'Use jinja template to generate keepalived config\n\nThis patch adds support for generating keepalived\nconfig from a jinja template rather than statically\nfrom code. Also introduces a new config option\nkeepalived_templates_path to allow the path to the\ntemplate to be changed thus allowing operators the\nfreedom to adapt the config as they need.\n\nChange-Id: I33f4ca869eccb06ac0316234a11abbb520879846\nCloses-Bug: #1892200\n'}, {'number': 11, 'created': '2021-03-23 14:02:24.000000000', 'files': ['neutron/tests/unit/agent/linux/test_keepalived.py', 'neutron/agent/linux/keepalived.py', 'etc/neutron/keepalived.conf.j2', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'setup.cfg', 'releasenotes/notes/add-keepalive-templating-5d6b51b9ba04e1c6.yaml', 'neutron/conf/agent/l3/config.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/38d4645127c7b5c467103fb769e03a6eb4cd003f', 'message': 'Use jinja template to generate keepalived config\n\nThis patch adds support for generating keepalived\nconfig from a jinja template rather than statically\nfrom code. Also introduces a new config option\nkeepalived_templates_path to allow the path to the\ntemplate to be changed thus allowing operators the\nfreedom to adapt the config as they need.\n\nChange-Id: I33f4ca869eccb06ac0316234a11abbb520879846\nCloses-Bug: #1892200\n'}]",70,759886,38d4645127c7b5c467103fb769e03a6eb4cd003f,67,12,11,5792,,,0,"Use jinja template to generate keepalived config

This patch adds support for generating keepalived
config from a jinja template rather than statically
from code. Also introduces a new config option
keepalived_templates_path to allow the path to the
template to be changed thus allowing operators the
freedom to adapt the config as they need.

Change-Id: I33f4ca869eccb06ac0316234a11abbb520879846
Closes-Bug: #1892200
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/759886/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_keepalived.py', 'neutron/agent/linux/keepalived.py']",2,31d64de8b0dcf6e94b99c40bc32fe0853916cacf,bug/1892200,"import jinja2CONFIG_TEMPLATE = jinja2.Template(""""""global_defs { notification_email_from {{ email_from }} router_id {{ router_id }} } {% for instance in instances -%} {% if instance.track_script -%} vrrp_script {{ health_check_name }}_{{ instance.track_script.vr_id }} { script ""{{ instance.track_script._get_script_location() }}"" interval {{ instance.track_script.interval }} fall 2 rise 2 } {% endif -%} vrrp_instance {{ instance.name }} { state {{ instance.state }} interface {{ instance.interface }} virtual_router_id {{ instance.vrouter_id }} priority {{ instance.priority }} garp_master_delay {{ instance.garp_primary_delay }} {% if instance.nopreempt -%} nopreempt {% endif -%} {% if instance.advert_int -%} advert_int {{ instance.advert_int }} {% endif -%} {% if instance.authentication -%} authentication { auth_type {{ instance.authentication[0] }} auth_pass {{ instance.authentication[1] }} } {% endif -%} {% if instance.mcast_src_ip -%} mcast_src_ip {{ instance.mcast_src_ip }} {% endif -%} {% if instance.track_interfaces -%} track_interface { {% for interface in instance.track_interfaces -%} {{ interface }}{% endfor %} } {% endif -%} virtual_ipaddress { {{ instance.get_primary_vip_config() }} } {% if instance.vips -%} virtual_ipaddress_excluded { {%- for vip in instance.get_vips_sorted() %} {{ vip.build_config() }}{% endfor %} } {% endif -%} {% if instance.virtual_routes -%} virtual_routes { {%- for route in instance.virtual_routes.routes %} {{ route.build_config() }}{% endfor %} } {% endif -%} {% if instance.track_script and instance.track_script._is_needed() -%} track_script { {{ health_check_name }}_{{ instance.track_script.vr_id }} } {% endif -%} } {% endfor %}"""""") def get_primary_vip_config(self): """"""Return the virtualip_addresses config line for the primary vip for the keepalived config file """""" return primary.build_config() def get_vips_sorted(self): return sorted(self.vips, key=lambda vip: vip.ip_address) for i in self.instances.values(): if i.track_script: i.track_script.routes = i.virtual_routes.gateway_routes i.track_script.vips = i.vips return '%s' % CONFIG_TEMPLATE.render( email_from=KEEPALIVED_EMAIL_FROM, router_id=KEEPALIVED_ROUTER_ID, instances=self.instances.values(), health_check_name=HEALTH_CHECK_NAME)class KeepalivedTrackScript():"," def build_config(self): return itertools.chain([' virtual_routes {'], (' %s' % route.build_config() for route in self.routes), [' }']) def _build_track_interface_config(self): return itertools.chain( [' track_interface {'], (' %s' % i for i in self.track_interfaces), [' }']) def _build_vips_config(self): vips_result = [' virtual_ipaddress {', ' %s' % primary.build_config(), ' }'] if self.vips: vips_result.extend( itertools.chain([' virtual_ipaddress_excluded {'], (' %s' % vip.build_config() for vip in sorted(self.vips, key=lambda vip: vip.ip_address)), [' }'])) return vips_result def _build_virtual_routes_config(self): return itertools.chain([' virtual_routes {'], (' %s' % route.build_config() for route in self.virtual_routes), [' }']) def build_config(self): if self.track_script: config = self.track_script.build_config_preamble() self.track_script.routes = self.virtual_routes.gateway_routes self.track_script.vips = self.vips else: config = [] config.extend(['vrrp_instance %s {' % self.name, ' state %s' % self.state, ' interface %s' % self.interface, ' virtual_router_id %s' % self.vrouter_id, ' priority %s' % self.priority, ' garp_master_delay %s' % self.garp_primary_delay]) if self.nopreempt: config.append(' nopreempt') if self.advert_int: config.append(' advert_int %s' % self.advert_int) if self.authentication: auth_type, password = self.authentication authentication = [' authentication {', ' auth_type %s' % auth_type, ' auth_pass %s' % password, ' }'] config.extend(authentication) if self.mcast_src_ip: config.append(' mcast_src_ip %s' % self.mcast_src_ip) if self.track_interfaces: config.extend(self._build_track_interface_config()) config.extend(self._build_vips_config()) if len(self.virtual_routes): config.extend(self.virtual_routes.build_config()) if self.track_script: config.extend(self.track_script.build_config()) config.append('}') return config def build_config(self): config = ['global_defs {', ' notification_email_from %s' % KEEPALIVED_EMAIL_FROM, ' router_id %s' % KEEPALIVED_ROUTER_ID, '}' ] for instance in self.instances.values(): config.extend(instance.build_config()) return config return '\n'.join(self.build_config())class KeepalivedTrackScript(KeepalivedConf): def build_config_preamble(self): config = ['', 'vrrp_script %s_%s {' % (HEALTH_CHECK_NAME, self.vr_id), ' script ""%s""' % self._get_script_location(), ' interval %s' % self.interval, ' fall 2', ' rise 2', '}', ''] return config def build_config(self): if not self._is_needed(): return '' config = [' track_script {', ' %s_%s' % (HEALTH_CHECK_NAME, self.vr_id), ' }'] return config ",264,353
openstack%2Fneutron~master~I34ad646392e266a69b0c3be31bb1d04220ca5a8b,openstack/neutron,master,I34ad646392e266a69b0c3be31bb1d04220ca5a8b,L3 agent metering extension,ABANDONED,2019-08-09 16:04:26.000000000,2021-06-14 10:34:58.000000000,,"[{'_account_id': 1131}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27430}, {'_account_id': 29963}, {'_account_id': 30609}]","[{'number': 1, 'created': '2019-08-09 16:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/447612a284559183fa1c349a72b267be1cdf9f13', 'message': 'L3 agent metering extension\n\nThis patch will add L3 agent a new metering facility.\n\nAddS L3 agent extension l3_ip_metering, then L3 agent with metering\nextension will periodically gather floating IP and gateway IP traffic\nmetering data.\n\nThe statistics data will be pushed to the message queue via\nRPC notification by default. Then the telemetry service, aka\nceilometer, will be able to collect and store the l3 metering\ndata.\n\nAnd also we can store the merting data to the local file. So\nthe external service like zabbix agent or some TSDB can read\nthe data from the local file.\n\nCloses-Bug: #1817881\nChange-Id: I34ad646392e266a69b0c3be31bb1d04220ca5a8b\n'}, {'number': 2, 'created': '2019-08-12 13:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/97d6ce0c834e569835a2c7503aa9f11ab4e36abd', 'message': 'L3 agent metering extension\n\nThis patch will add L3 agent a new metering facility.\n\nAddS L3 agent extension l3_ip_metering, then L3 agent with metering\nextension will periodically gather floating IP and gateway IP traffic\nmetering data.\n\nThe statistics data will be pushed to the message queue via\nRPC notification by default. Then the telemetry service, aka\nceilometer, will be able to collect and store the l3 metering\ndata.\n\nAnd also we can store the merting data to the local file. So\nthe external service like zabbix agent or some TSDB can read\nthe data from the local file.\n\nCloses-Bug: #1817881\nChange-Id: I34ad646392e266a69b0c3be31bb1d04220ca5a8b\n'}, {'number': 3, 'created': '2019-08-12 14:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/65f0115b023158e7bc0f6d21d7f4ac3ec39658ff', 'message': 'L3 agent metering extension\n\nThis patch will add L3 agent a new metering facility.\n\nAddS L3 agent extension l3_ip_metering, then L3 agent with metering\nextension will periodically gather floating IP and gateway IP traffic\nmetering data.\n\nThe statistics data will be pushed to the message queue via\nRPC notification by default. Then the telemetry service, aka\nceilometer, will be able to collect and store the l3 metering\ndata.\n\nAnd also we can store the merting data to the local file. So\nthe external service like zabbix agent or some TSDB can read\nthe data from the local file.\n\nCloses-Bug: #1817881\nChange-Id: I34ad646392e266a69b0c3be31bb1d04220ca5a8b\n'}, {'number': 4, 'created': '2019-08-14 14:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/81976a7426572d809bfb57cc322a9f6fd798d114', 'message': 'L3 agent metering extension\n\nThis patch will add L3 agent a new metering facility.\n\nAddS L3 agent extension l3_ip_metering, then L3 agent with metering\nextension will periodically gather floating IP and gateway IP traffic\nmetering data.\n\nThe statistics data will be pushed to the message queue via\nRPC notification by default. Then the telemetry service, aka\nceilometer, will be able to collect and store the l3 metering\ndata.\n\nAnd also we can store the merting data to the local file. So\nthe external service like zabbix agent or some TSDB can read\nthe data from the local file.\n\nCloses-Bug: #1817881\nChange-Id: I34ad646392e266a69b0c3be31bb1d04220ca5a8b\n'}, {'number': 5, 'created': '2019-09-16 15:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2ff8baffa753e10ed6802d3d09928fcbeec1aa1d', 'message': 'L3 agent metering extension\n\nThis patch will add L3 agent a new metering facility.\n\nAddS L3 agent extension l3_ip_metering, then L3 agent with metering\nextension will periodically gather floating IP and gateway IP traffic\nmetering data.\n\nThe statistics data will be pushed to the message queue via\nRPC notification by default. Then the telemetry service, aka\nceilometer, will be able to collect and store the l3 metering\ndata.\n\nAnd also we can store the merting data to the local file. So\nthe external service like zabbix agent or some TSDB can read\nthe data from the local file.\n\nCloses-Bug: #1817881\nChange-Id: I34ad646392e266a69b0c3be31bb1d04220ca5a8b\n'}, {'number': 6, 'created': '2020-05-20 15:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d916663a4cb5ebc46c2d8597c4474329c634037', 'message': 'L3 agent metering extension\n\nThis patch will add L3 agent a new metering facility.\n\nAddS L3 agent extension l3_ip_metering, then L3 agent with metering\nextension will periodically gather floating IP and gateway IP traffic\nmetering data.\n\nThe statistics data will be pushed to the message queue via\nRPC notification by default. Then the telemetry service, aka\nceilometer, will be able to collect and store the l3 metering\ndata.\n\nAnd also we can store the merting data to the local file. So\nthe external service like zabbix agent or some TSDB can read\nthe data from the local file.\n\nCloses-Bug: #1817881\nChange-Id: I34ad646392e266a69b0c3be31bb1d04220ca5a8b\n'}, {'number': 7, 'created': '2020-05-29 16:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b08d1f7d7adb7d7edece36180e98485a4ae0d12c', 'message': 'L3 agent metering extension\n\nThis patch will add L3 agent a new metering facility.\n\nAddS L3 agent extension l3_ip_metering, then L3 agent with metering\nextension will periodically gather floating IP and gateway IP traffic\nmetering data.\n\nThe statistics data will be pushed to the message queue via\nRPC notification by default. Then the telemetry service, aka\nceilometer, will be able to collect and store the l3 metering\ndata.\n\nAnd also we can store the merting data to the local file. So\nthe external service like zabbix agent or some TSDB can read\nthe data from the local file.\n\nCloses-Bug: #1817881\nChange-Id: I34ad646392e266a69b0c3be31bb1d04220ca5a8b\n'}, {'number': 8, 'created': '2020-09-12 16:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2e32dca8e54eea82a9303997096b488c9dc6993f', 'message': 'L3 agent metering extension\n\nThis patch will add L3 agent a new metering facility.\n\nAddS L3 agent extension l3_ip_metering, then L3 agent with metering\nextension will periodically gather floating IP and gateway IP traffic\nmetering data.\n\nThe statistics data will be pushed to the message queue via\nRPC notification by default. Then the telemetry service, aka\nceilometer, will be able to collect and store the l3 metering\ndata.\n\nAnd also we can store the merting data to the local file. So\nthe external service like zabbix agent or some TSDB can read\nthe data from the local file.\n\nCloses-Bug: #1817881\nChange-Id: I34ad646392e266a69b0c3be31bb1d04220ca5a8b\n'}, {'number': 9, 'created': '2020-09-14 06:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aaccfa37bc5f887e68ce364171e52c93e7776aa1', 'message': 'L3 agent metering extension\n\nThis patch will add L3 agent a new metering facility.\n\nAddS L3 agent extension l3_ip_metering, then L3 agent with metering\nextension will periodically gather floating IP and gateway IP traffic\nmetering data.\n\nThe statistics data will be pushed to the message queue via\nRPC notification by default. Then the telemetry service, aka\nceilometer, will be able to collect and store the l3 metering\ndata.\n\nAnd also we can store the merting data to the local file. So\nthe external service like zabbix agent or some TSDB can read\nthe data from the local file.\n\nCloses-Bug: #1817881\nChange-Id: I34ad646392e266a69b0c3be31bb1d04220ca5a8b\n'}, {'number': 10, 'created': '2020-12-14 06:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/68479a91065fcf574f61a62045ae72a9de9c73ed', 'message': 'L3 agent metering extension\n\nThis patch will add L3 agent a new metering facility.\n\nAdds L3 agent extension l3_ip_metering, then L3 agent with metering\nextension will periodically gather floating IP and gateway IP traffic\nmetering data.\n\nThe statistics data will be pushed to the message queue via\nRPC notification by default. Then the telemetry service, aka\nceilometer, will be able to collect and store the L3 metering\ndata.\n\nAnd also we can store the merting data to the local file. So\nthe external service like zabbix agent or some TSDB can read\nthe data from the local file.\n\nCloses-Bug: #1817881\nChange-Id: I34ad646392e266a69b0c3be31bb1d04220ca5a8b\n'}, {'number': 11, 'created': '2021-02-03 04:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc4b2334a0a5ace3e3982aec67313cf7789fb134', 'message': 'L3 agent metering extension\n\nThis patch will add L3 agent a new metering facility.\n\nAdds L3 agent extension l3_ip_metering, then L3 agent with metering\nextension will periodically gather floating IP and gateway IP traffic\nmetering data.\n\nThe statistics data will be pushed to the message queue via\nRPC notification by default. Then the telemetry service, aka\nceilometer, will be able to collect and store the L3 metering\ndata.\n\nAnd also we can store the merting data to the local file. So\nthe external service like zabbix agent or some TSDB can read\nthe data from the local file.\n\nCloses-Bug: #1817881\nChange-Id: I34ad646392e266a69b0c3be31bb1d04220ca5a8b\n'}, {'number': 12, 'created': '2021-04-21 00:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d4ef5ea57f98ca80af32576eb93a1460d5b118e', 'message': 'L3 agent metering extension\n\nThis patch will add L3 agent a new metering facility.\n\nAdds L3 agent extension l3_ip_metering, then L3 agent with metering\nextension will periodically gather floating IP and gateway IP traffic\nmetering data.\n\nThe statistics data will be pushed to the message queue via\nRPC notification by default. Then the telemetry service, aka\nceilometer, will be able to collect and store the L3 metering\ndata.\n\nAnd also we can store the merting data to the local file. So\nthe external service like zabbix agent or some TSDB can read\nthe data from the local file.\n\nCloses-Bug: #1817881\nChange-Id: I34ad646392e266a69b0c3be31bb1d04220ca5a8b\n'}, {'number': 13, 'created': '2021-04-21 05:55:58.000000000', 'files': ['neutron/agent/l3/extensions/l3_ip_metering.py', 'neutron/agent/l3/l3_agent_extension_api.py', 'neutron/agent/l3/router_info.py', 'neutron/agent/l3/ha.py', 'neutron/agent/l3/l3_agent_extensions_manager.py', 'neutron/agent/l3/agent.py', 'neutron/agent/l3/extensions/qos/base.py', 'neutron/agent/l3/extensions/qos/gateway_ip.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/tests/unit/agent/l3/extensions/test_l3_ip_metering.py', 'neutron/agent/l3/extensions/qos/fip.py', 'neutron/tests/functional/agent/l3/extensions/test_gateway_ip_qos_extension.py', 'setup.cfg', 'neutron/conf/agent/l3/config.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6c8177a941da085c0aedda7011cbceb24dbdae0d', 'message': 'L3 agent metering extension\n\nThis patch will add L3 agent a new metering facility.\n\nAdds L3 agent extension l3_ip_metering, then L3 agent with metering\nextension will periodically gather floating IP and gateway IP traffic\nmetering data.\n\nThe statistics data will be pushed to the message queue via\nRPC notification by default. Then the telemetry service, aka\nceilometer, will be able to collect and store the L3 metering\ndata.\n\nAnd also we can store the merting data to the local file. So\nthe external service like zabbix agent or some TSDB can read\nthe data from the local file.\n\nCloses-Bug: #1817881\nChange-Id: I34ad646392e266a69b0c3be31bb1d04220ca5a8b\n'}]",38,675654,6c8177a941da085c0aedda7011cbceb24dbdae0d,70,12,13,9531,,,0,"L3 agent metering extension

This patch will add L3 agent a new metering facility.

Adds L3 agent extension l3_ip_metering, then L3 agent with metering
extension will periodically gather floating IP and gateway IP traffic
metering data.

The statistics data will be pushed to the message queue via
RPC notification by default. Then the telemetry service, aka
ceilometer, will be able to collect and store the L3 metering
data.

And also we can store the merting data to the local file. So
the external service like zabbix agent or some TSDB can read
the data from the local file.

Closes-Bug: #1817881
Change-Id: I34ad646392e266a69b0c3be31bb1d04220ca5a8b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/54/675654/12 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_l3_tc_lib.py', 'neutron/agent/l3/extensions/l3_ip_metering.py', 'neutron/agent/l3/l3_agent_extension_api.py', 'neutron/agent/l3/router_info.py', 'neutron/agent/linux/l3_tc_lib.py', 'neutron/tests/functional/agent/linux/test_l3_tc_lib.py', 'neutron/agent/l3/l3_agent_extensions_manager.py', 'neutron/agent/l3/agent.py', 'neutron/agent/l3/extensions/qos/base.py', 'neutron/agent/l3/extensions/qos/gateway_ip.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/tests/unit/agent/l3/extensions/test_l3_ip_metering.py', 'neutron/agent/l3/extensions/qos/fip.py', 'setup.cfg', 'neutron/conf/agent/l3/config.py']",15,447612a284559183fa1c349a72b267be1cdf9f13,bug/1817881," cfg.StrOpt('store_to_file_path', default='', help=(""If set, report the data to local file."")), cfg.IntOpt('max_store_item', default=100, help=(""Max line of the data store file."")), cfg.StrOpt('report_to_file_path', default='', help=(""If set, report the data to local file."")), cfg.IntOpt('max_report_file_line', default=1000, help=(""Max line of the data report file."")), cfg.IntOpt('measure_interval', default=30, help=_(""Interval between two metering measures"")), cfg.IntOpt('metering_report_interval', default=30, help=_('Seconds between metering data reporting; ' 'should be lager than measure_interval.')),",,1036,15
openstack%2Fpuppet-trove~master~I118d45d409b22b34665383ea58fb6f31c0484efc,openstack/puppet-trove,master,I118d45d409b22b34665383ea58fb6f31c0484efc,Get rid of the $pyvers variable,ABANDONED,2021-06-12 14:51:13.000000000,2021-06-14 10:34:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-12 14:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/35191012a0aa1eddcc01e482a13fde9ca85e255b', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nCo-authored-by: Thomas Goirand <zigo@debian.org>\nChange-Id: I118d45d409b22b34665383ea58fb6f31c0484efc\n""}, {'number': 2, 'created': '2021-06-12 14:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/9366a409f4532098b67fc1f7e8f53d5965cdd6ac', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nCo-authored-by: Thomas Goirand <zigo@debian.org>\nChange-Id: I118d45d409b22b34665383ea58fb6f31c0484efc\n""}, {'number': 3, 'created': '2021-06-12 14:57:47.000000000', 'files': ['manifests/params.pp', 'spec/classes/trove_client_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/659fd18cdcf59e6381113703515a94ee7b02b422', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nCo-authored-by: Thomas Goirand <zigo@debian.org>\nChange-Id: I118d45d409b22b34665383ea58fb6f31c0484efc\n""}]",0,796132,659fd18cdcf59e6381113703515a94ee7b02b422,7,1,3,9816,,,0,"Get rid of the $pyvers variable

Since everyone has switched to Python3, it's time for the removal of the
$pyvers variable.

Co-authored-by: Thomas Goirand <zigo@debian.org>
Change-Id: I118d45d409b22b34665383ea58fb6f31c0484efc
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/32/796132/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/params.pp', 'spec/classes/trove_client_spec.rb']",2,35191012a0aa1eddcc01e482a13fde9ca85e255b,pyvers-removal, { :client_package_name => 'python3-troveclient' }, if facts[:operatingsystem] == 'Fedora' { :client_package_name => 'python3-troveclient' } else if facts[:operatingsystemmajrelease] > '7' { :client_package_name => 'python3-troveclient' } else { :client_package_name => 'python-troveclient' } end end,2,11
openstack%2Fneutron~master~I80eb64741afd7949189138d9108ee90c2687bf52,openstack/neutron,master,I80eb64741afd7949189138d9108ee90c2687bf52,Add function get_traffic_counters for L3 IPs,ABANDONED,2020-12-14 03:10:52.000000000,2021-06-14 10:34:37.000000000,,"[{'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-14 03:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ed76cdc6f871af6e7ef3ba44a1317ac81043a348', 'message': 'Add function get_traffic_counters for L3 IPs\n\nThis adds a way to get L3 IPs statistics from L3\nIPs QoS TC filter rules.\n\nChange-Id: I80eb64741afd7949189138d9108ee90c2687bf52\nCloses-Bug: #1817881\n'}, {'number': 2, 'created': '2020-12-14 06:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/133ab9d7f161e1b21cb3de40315195f59194bfd7', 'message': 'Add function get_traffic_counters for L3 IPs\n\nThis adds a way to get L3 IPs statistics from L3\nIPs QoS TC filter rules.\n\nChange-Id: I80eb64741afd7949189138d9108ee90c2687bf52\nCloses-Bug: #1817881\n'}, {'number': 3, 'created': '2021-02-03 04:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/19dc3d5946e3a817c6790be8070ea32027398b56', 'message': 'Add function get_traffic_counters for L3 IPs\n\nThis adds a way to get L3 IPs statistics from L3\nIPs QoS TC filter rules.\n\nChange-Id: I80eb64741afd7949189138d9108ee90c2687bf52\nCloses-Bug: #1817881\n'}, {'number': 4, 'created': '2021-04-21 00:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b7fb7abe20db0b27d8fd077362f83f4d3d53c27', 'message': 'Add function get_traffic_counters for L3 IPs\n\nThis adds a way to get L3 IPs statistics from L3\nIPs QoS TC filter rules.\n\nChange-Id: I80eb64741afd7949189138d9108ee90c2687bf52\nCloses-Bug: #1817881\n'}, {'number': 5, 'created': '2021-04-21 05:55:58.000000000', 'files': ['neutron/tests/unit/agent/linux/test_l3_tc_lib.py', 'neutron/agent/linux/l3_tc_lib.py', 'neutron/tests/functional/agent/linux/test_l3_tc_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a981c6c1060979e4aacbcb1baf7a3cb614760ad0', 'message': 'Add function get_traffic_counters for L3 IPs\n\nThis adds a way to get L3 IPs statistics from L3\nIPs QoS TC filter rules.\n\nRelated-Bug: #1817881\nChange-Id: I80eb64741afd7949189138d9108ee90c2687bf52\n'}]",7,766875,a981c6c1060979e4aacbcb1baf7a3cb614760ad0,30,3,5,9531,,,0,"Add function get_traffic_counters for L3 IPs

This adds a way to get L3 IPs statistics from L3
IPs QoS TC filter rules.

Related-Bug: #1817881
Change-Id: I80eb64741afd7949189138d9108ee90c2687bf52
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/766875/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_l3_tc_lib.py', 'neutron/agent/linux/l3_tc_lib.py', 'neutron/tests/functional/agent/linux/test_l3_tc_lib.py']",3,ed76cdc6f871af6e7ef3ba44a1317ac81043a348,bug/1817881," def test_get_traffic_counters(self): ip_addr = ""1.1.1.1"" l3_tc = self.create_tc_wrapper_with_namespace_and_device() l3_tc.set_ip_rate_limit(common_constants.INGRESS_DIRECTION, ip_addr, RATE_LIMIT, BURST_LIMIT) except_value = {'pkts': 0, 'bytes': 0} ret = l3_tc.get_traffic_counters(common_constants.INGRESS_DIRECTION, ip_addr) self.assertEqual(except_value, ret) l3_tc.set_ip_rate_limit(common_constants.EGRESS_DIRECTION, ip_addr, RATE_LIMIT, BURST_LIMIT) except_value = {'pkts': 0, 'bytes': 0} ret = l3_tc.get_traffic_counters(common_constants.INGRESS_DIRECTION, ip_addr) self.assertEqual(except_value, ret)",,64,0
openstack%2Fneutron~master~I295c6294fcf0e66c49dde120e1df2f860bb877aa,openstack/neutron,master,I295c6294fcf0e66c49dde120e1df2f860bb877aa,Stop compiling ovn and ovs from source in the ovn multinode jobs,ABANDONED,2021-01-07 16:27:29.000000000,2021-06-14 10:34:07.000000000,,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-07 16:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/32efebad4519779aafc0f57ff97ea2fb6d585c9a', 'message': 'Stop compiling ovn and ovs from source in the grenade job\n\nSince [1] Devstack can install ovn using packages from the distro\nand we don\'t need to force installation from source in the ""old""\nDevstack in the grenade job.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/763402\n\nChange-Id: I295c6294fcf0e66c49dde120e1df2f860bb877aa\n'}, {'number': 2, 'created': '2021-01-12 12:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ff00e7be3a551988c4a7db9806b4b19d54abdc5a', 'message': 'Stop compiling ovn and ovs from source in the grenade job\n\nSince [1] Devstack can install ovn using packages from the distro\nand we don\'t need to force installation from source in the ""old""\nDevstack in the grenade job.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/763402\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/770077\n\nChange-Id: I295c6294fcf0e66c49dde120e1df2f860bb877aa\n'}, {'number': 3, 'created': '2021-01-12 12:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b9905ea4b218a6945d7ccbe87e83c743a9d7b56a', 'message': 'Stop compiling ovn and ovs from source in the ovn multinode jobs\n\nSince [1] Devstack can install ovn using packages from the distro\nand we don\'t need to force installation from source in the ""old""\nDevstack in the grenade job.\nWe also don\'t need to build ovs from git anymore so this patch\nexplicitly disables it.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/763402\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/770077\n\nChange-Id: I295c6294fcf0e66c49dde120e1df2f860bb877aa\n'}, {'number': 4, 'created': '2021-01-27 16:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/93e556a89cd93fe3a41f14f53fb314eb30127502', 'message': 'Stop compiling ovn and ovs from source in the ovn multinode jobs\n\nSince [1] Devstack can install ovn using packages from the distro\nand we don\'t need to force installation from source in the ""old""\nDevstack in the grenade job.\nWe also don\'t need to build ovs from git anymore so this patch\nexplicitly disables it.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/763402\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/770077\n\nChange-Id: I295c6294fcf0e66c49dde120e1df2f860bb877aa\n'}, {'number': 5, 'created': '2021-01-28 10:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b33ec91830714cdf47ef54bc441fa42d6ff9ffcd', 'message': 'Stop compiling ovn and ovs from source in the ovn multinode jobs\n\nSince [1] Devstack can install ovn using packages from the distro\nand we don\'t need to force installation from source in the ""old""\nDevstack in the grenade job.\nWe also don\'t need to build ovs from git anymore so this patch\nexplicitly disables it.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/763402\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/770077\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/772846\n\nChange-Id: I295c6294fcf0e66c49dde120e1df2f860bb877aa\n'}, {'number': 6, 'created': '2021-04-08 13:52:56.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/grenade.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/86dafbb38a7e1cc1dc2b3a6841d9feec126eff12', 'message': 'Stop compiling ovn and ovs from source in the ovn multinode jobs\n\nSince [1] Devstack can install ovn using packages from the distro\nand we don\'t need to force installation from source in the ""old""\nDevstack in the grenade job.\nWe also don\'t need to build ovs from git anymore so this patch\nexplicitly disables it.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/763402\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/770077\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/772846\n\nChange-Id: I295c6294fcf0e66c49dde120e1df2f860bb877aa\n'}]",1,769788,86dafbb38a7e1cc1dc2b3a6841d9feec126eff12,36,5,6,11975,,,0,"Stop compiling ovn and ovs from source in the ovn multinode jobs

Since [1] Devstack can install ovn using packages from the distro
and we don't need to force installation from source in the ""old""
Devstack in the grenade job.
We also don't need to build ovs from git anymore so this patch
explicitly disables it.

[1] https://review.opendev.org/c/openstack/devstack/+/763402

Depends-On: https://review.opendev.org/c/openstack/devstack/+/770077
Depends-On: https://review.opendev.org/c/openstack/devstack/+/772846

Change-Id: I295c6294fcf0e66c49dde120e1df2f860bb877aa
",git fetch https://review.opendev.org/openstack/neutron refs/changes/88/769788/6 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/grenade.yaml'],1,32efebad4519779aafc0f57ff97ea2fb6d585c9a,fix-ovn-multinode-jobs,," old: Q_BUILD_OVS_FROM_GIT: true # TODO(jlibosva): v2.13.1 is incompatible with kernel 4.15.0-118, sticking to commit hash until new v2.13 tag is created OVS_BRANCH: 0047ca3a0290f1ef954f2c76b31477cf4b9755f5 # TODO(mjozefcz): Stop compiling OVS modules when meter action in kernel # will be released in Ubuntu Bionic. # More info: https://mail.openvswitch.org/pipermail/ovs-discuss/2018-December/048009.html OVN_BUILD_MODULES: true OVN_BRANCH: v20.06.1 new: Q_BUILD_OVS_FROM_GIT: false OVN_BUILD_MODULES: false old: Q_BUILD_OVS_FROM_GIT: true # TODO(jlibosva): v2.13.1 is incompatible with kernel 4.15.0-118, sticking to commit hash until new v2.13 tag is created OVS_BRANCH: 0047ca3a0290f1ef954f2c76b31477cf4b9755f5 # TODO(mjozefcz): Stop compiling OVS modules when meter action in kernel # will be released in Ubuntu Bionic. # More info: https://mail.openvswitch.org/pipermail/ovs-discuss/2018-December/048009.html OVN_BUILD_MODULES: true OVN_BRANCH: v20.06.1 new: Q_BUILD_OVS_FROM_GIT: false OVN_BUILD_MODULES: false",0,24
openstack%2Fpuppet-vitrage~master~Idb43d9e560dd9c6e8f5cf48cbd0eef09e91717c5,openstack/puppet-vitrage,master,Idb43d9e560dd9c6e8f5cf48cbd0eef09e91717c5,Get rid of the $pyvers variable,ABANDONED,2021-06-12 14:55:52.000000000,2021-06-14 10:33:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-12 14:55:52.000000000', 'files': ['manifests/params.pp', 'spec/classes/vitrage_client_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/4a866603dad88af7619734daef6c75b0f30a993a', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: Idb43d9e560dd9c6e8f5cf48cbd0eef09e91717c5\nCo-authored-by: Thomas Goirand <zigo@debian.org>\n""}]",0,796134,4a866603dad88af7619734daef6c75b0f30a993a,5,1,1,9816,,,0,"Get rid of the $pyvers variable

Since everyone has switched to Python3, it's time for the removal of the
$pyvers variable.

Change-Id: Idb43d9e560dd9c6e8f5cf48cbd0eef09e91717c5
Co-authored-by: Thomas Goirand <zigo@debian.org>
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/34/796134/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/params.pp', 'spec/classes/vitrage_client_spec.rb']",2,4a866603dad88af7619734daef6c75b0f30a993a,pyvers-removal, { :client_package_name => 'python3-vitrageclient' }, if facts[:operatingsystem] == 'Fedora' { :client_package_name => 'python3-vitrageclient' } else if facts[:operatingsystemmajrelease] > '7' { :client_package_name => 'python3-vitrageclient' } else { :client_package_name => 'python-vitrageclient' } end end,2,11
openstack%2Fnetworking-bgpvpn~stable%2Ftrain~Ibb1919e15436608d028d17592e1332b534fcb5c9,openstack/networking-bgpvpn,stable/train,Ibb1919e15436608d028d17592e1332b534fcb5c9,Imported Translations from Zanata,ABANDONED,2020-06-24 07:46:11.000000000,2021-06-14 10:33:47.000000000,,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-24 07:46:11.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'bgpvpn_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'networking_bgpvpn_heat/locale/en_GB/LC_MESSAGES/networking_bgpvpn_heat.po', 'networking_bgpvpn/locale/en_GB/LC_MESSAGES/networking_bgpvpn.po', 'bgpvpn_dashboard/locale/fr/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/300a9baa9516b5e97db7ef11e702503866f3b24e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ibb1919e15436608d028d17592e1332b534fcb5c9\n'}]",0,737698,300a9baa9516b5e97db7ef11e702503866f3b24e,15,4,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ibb1919e15436608d028d17592e1332b534fcb5c9
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/98/737698/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'bgpvpn_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'networking_bgpvpn_heat/locale/en_GB/LC_MESSAGES/networking_bgpvpn_heat.po', 'networking_bgpvpn/locale/en_GB/LC_MESSAGES/networking_bgpvpn.po', 'bgpvpn_dashboard/locale/fr/LC_MESSAGES/django.po']",5,300a9baa9516b5e97db7ef11e702503866f3b24e,zanata/translations,"""POT-Creation-Date: 2020-06-07 13:50+0000\n""""X-Generator: Zanata 4.3.3\n""","""POT-Creation-Date: 2018-02-10 17:47+0000\n""""X-Generator: Zanata 3.9.6\n""msgid ""All Networks"" msgstr ""Tous les réseaux"" msgid ""All Routers"" msgstr ""Tous les routeurs"" msgid ""Associations type is not supported"" msgstr ""Type d'associations non supportés"" msgid ""BGPVPN Details"" msgstr ""Détail du BGPVPN"" msgid ""Edit BGPVPN associations"" msgstr ""Modifier les associations de BGPVPN"" #, python-format msgid ""Modified BGPVPN associations \""%s\""."" msgstr ""Associations BGPVPN modifiées \""%s\""."" msgid ""No network found."" msgstr ""Aucun réseau trouvé."" msgid ""No network selected."" msgstr ""Aucun réseau sélectionné."" msgid ""No router found."" msgstr ""Aucun routeur trouvé."" msgid ""No router selected."" msgstr ""Aucun routeur sélectionné."" #, python-format msgid ""Resource type not supported: %s"" msgstr ""Type de ressource non supporté: %s"" msgid ""Save"" msgstr ""Sauvegarder"" msgid ""Select the networks to be associated."" msgstr ""Sélectionner les réseaux à associer."" msgid ""Select the routers to be associated."" msgstr ""Sélectionner les routeurs à associer."" msgid ""Selected Networks"" msgstr ""Réseaux sélectionnés"" msgid ""Selected Routers"" msgstr ""Routeurs sélectionnés"" msgid ""Something went wrong when retrieving the list of associations"" msgstr ""Il y a eu un problème pour récupérer la liste des associations"" msgid ""Unable to associate network {}: {}"" msgstr ""Impossible d''associer le réseau {}: {}"" #, python-format msgid ""Unable to associate resource %s"" msgstr ""Impossible d'associer la ressource %s"" msgid ""Unable to associate router {}: {}"" msgstr ""Impossible d''associer le routeur {}: {}"" msgid ""Unable to disassociate network"" msgstr ""Impossible de dissocier le réseau"" msgid ""Unable to disassociate router"" msgstr ""Impossible de dissocier le router"" #, python-format msgid ""Unable to modify BGPVPN associations \""%s\""."" msgstr ""Impossible de modifier les associations du BGPVPN \""%s\""."" msgid ""Unable to retrieve list of networks. Please try again later."" msgstr """" ""Impossible de récupérer la liste des réseaux. Veuillez réessayez plus tard."" msgid ""Unable to retrieve list of routers. Please try again later."" msgstr """" ""Impossible de récupérer la liste des routeurs. Veuillez réessayez plus tard."" msgid ""Unable to retrieve network associations"" msgstr ""Impossible de récupérer les associations de réseaux."" msgid ""Unable to retrieve router associations"" msgstr ""Impossible de récupérer les associations de routeurs"" msgid ""Update Network Associations"" msgstr ""Modifier les Associations Réseaux"" msgid ""Update Router Associations"" msgstr ""Modifier les Association Routeurs"" ",49,449
openstack%2Fneutron~master~I987e897f90c114cc0baf2b4e73f0b5e3bd64f40c,openstack/neutron,master,I987e897f90c114cc0baf2b4e73f0b5e3bd64f40c,Ussuri+ is python3 only and update python to python3,ABANDONED,2021-05-06 03:35:35.000000000,2021-06-14 10:33:35.000000000,,"[{'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-06 03:35:35.000000000', 'files': ['neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/tests/common/agents/l3_agent.py', 'neutron/tests/fullstack/agents/l3_agent.py', 'neutron/tests/functional/agent/linux/bin/ip_monitor.py', 'tools/list_moved_globals.py', 'neutron/server/rpc_eventlet.py', 'neutron/server/wsgi_eventlet.py', 'neutron/tests/common/agents/ovs_agent.py', 'neutron/tests/fullstack/agents/dhcp_agent.py', 'neutron/tests/fullstack/servers/placement.py', 'neutron/tests/functional/agent/linux/bin/ipt_binname.py', 'tools/install_venv.py', 'neutron/tests/fullstack/agents/ovs_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d3f3ee76f141f2b11fa7f81706cace3cb8914cca', 'message': 'Ussuri+ is python3 only and update python to python3\n\nChange-Id: I987e897f90c114cc0baf2b4e73f0b5e3bd64f40c\n'}]",0,789996,d3f3ee76f141f2b11fa7f81706cace3cb8914cca,10,2,1,31827,,,0,"Ussuri+ is python3 only and update python to python3

Change-Id: I987e897f90c114cc0baf2b4e73f0b5e3bd64f40c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/789996/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/tests/common/agents/l3_agent.py', 'neutron/tests/fullstack/agents/l3_agent.py', 'neutron/tests/functional/agent/linux/bin/ip_monitor.py', 'tools/list_moved_globals.py', 'neutron/server/rpc_eventlet.py', 'neutron/server/wsgi_eventlet.py', 'neutron/tests/common/agents/ovs_agent.py', 'neutron/tests/fullstack/agents/dhcp_agent.py', 'neutron/tests/fullstack/servers/placement.py', 'neutron/tests/functional/agent/linux/bin/ipt_binname.py', 'tools/install_venv.py', 'neutron/tests/fullstack/agents/ovs_agent.py']",13,d3f3ee76f141f2b11fa7f81706cace3cb8914cca,,#!/usr/bin/env python3,#!/usr/bin/env python,13,13
openstack%2Fneutron-tempest-plugin~master~Iea52119aaeaeae28416b8481fe1a2c14a3b913da,openstack/neutron-tempest-plugin,master,Iea52119aaeaeae28416b8481fe1a2c14a3b913da,Router routes nexthops should have connectivity with gateway,ABANDONED,2021-05-06 08:35:42.000000000,2021-06-14 10:33:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-06 08:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/dda87e512dc09cfc25db6cb7f6cf97055bf0da0d', 'message': 'Router routes nexthops should have connectivity with gateway\n\nAll router routes should have connectivity with any subnet of the\ngateway network. The route nexthop IP address should belong to any\nof the gateway subnets CIDRs.\n\nRelated-Bug: #1925368\n\nChange-Id: Iea52119aaeaeae28416b8481fe1a2c14a3b913da\n'}, {'number': 2, 'created': '2021-05-06 09:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/704dc0add067fa89d46493523a876d96b74228ca', 'message': 'Router routes nexthops should have connectivity with gateway\n\nAll router routes should have connectivity with any subnet of the\ngateway network. The route nexthop IP address should belong to any\nof the gateway subnets CIDRs.\n\nRelated-Bug: #1925368\n\nChange-Id: Iea52119aaeaeae28416b8481fe1a2c14a3b913da\n'}, {'number': 3, 'created': '2021-05-06 13:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ba72f07b9fce77fe809e537a7dc6134419890b43', 'message': 'Router routes nexthops should have connectivity with gateway\n\nAll router routes should have connectivity with any subnet of the\ngateway network. The route nexthop IP address should belong to any\nof the gateway subnets CIDRs.\n\nRelated-Bug: #1925368\n\nChange-Id: Iea52119aaeaeae28416b8481fe1a2c14a3b913da\n'}, {'number': 4, 'created': '2021-05-06 15:24:24.000000000', 'files': ['neutron_tempest_plugin/scenario/test_connectivity.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/349315c8252d232716caf08ee5dff6e6c94fb609', 'message': 'Router routes nexthops should have connectivity with gateway\n\nAll router routes should have connectivity with any subnet of the\ngateway network. The route nexthop IP address should belong to any\nof the gateway subnets CIDRs.\n\nRelated-Bug: #1925368\n\nChange-Id: Iea52119aaeaeae28416b8481fe1a2c14a3b913da\n'}]",0,790015,349315c8252d232716caf08ee5dff6e6c94fb609,7,1,4,16688,,,0,"Router routes nexthops should have connectivity with gateway

All router routes should have connectivity with any subnet of the
gateway network. The route nexthop IP address should belong to any
of the gateway subnets CIDRs.

Related-Bug: #1925368

Change-Id: Iea52119aaeaeae28416b8481fe1a2c14a3b913da
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/15/790015/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_connectivity.py'],1,dda87e512dc09cfc25db6cb7f6cf97055bf0da0d,bug/1925368," public_net = CONF.network.public_network_id subnets = self.admin_client.list_subnets(network_id=public_net) wan_cidr = None for subnet in subnets['subnets']: if subnet['ip_version'] == constants.IP_VERSION_4: wan_cidr = netaddr.IPNetwork(subnet['cidr']) break else: self.fail('External network %s should have an IPv4 subnet' % public_net) nexthop_1 = str(wan_cidr.ip + 11) nexthop_2 = str(wan_cidr.ip + 12) routes=[{""destination"": ap2_subnet['cidr'], ""nexthop"": nexthop_1}]) routes=[{""destination"": ap1_subnet['cidr'], ""nexthop"": nexthop_2}])"," wan_net = self.create_network() self.create_subnet( wan_net, cidr=""10.10.200.0/24"", gateway=""10.10.200.254"") ap1_wan_port = self.create_port(wan_net) ap2_wan_port = self.create_port(wan_net) self.client.add_router_interface_with_port_id( ap1_rt['id'], ap1_wan_port['id']) self.client.add_router_interface_with_port_id( ap2_rt['id'], ap2_wan_port['id']) routes=[{""destination"": ap2_subnet['cidr'], ""nexthop"": ap2_wan_port['fixed_ips'][0]['ip_address']}]) routes=[{""destination"": ap1_subnet['cidr'], ""nexthop"": ap1_wan_port['fixed_ips'][0]['ip_address']}])",16,13
openstack%2Fneutron~stable%2Fstein~I07c70db027f2ae03ffb5a95072e019e8a5fdc411,openstack/neutron,stable/stein,I07c70db027f2ae03ffb5a95072e019e8a5fdc411,Improve Network delete performance,ABANDONED,2021-05-07 08:56:47.000000000,2021-06-14 10:33:06.000000000,,"[{'_account_id': 5948}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-07 08:56:47.000000000', 'files': ['neutron/services/segments/db.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/tests/unit/extensions/test_segment.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f4147779fa618fc6b75a4f6ca3abd02fb505529e', 'message': 'Improve Network delete performance\n\n- pass existing network dict to PRECOMMIT_DELETE ml2 handler;\n- skip MTU and segment update handling in case network is\n  about to be deleted.\n\nAbove gives up to 50% net delete speed-up\n\nConflicts:\n\tneutron/services/segments/db.py\n\nChange-Id: I07c70db027f2ae03ffb5a95072e019e8a5fdc411\n(cherry picked from commit 80eddc40390e63c9c1102b827997054708f2618b)\n(cherry picked from commit 23e160131be16fc21eb789372b864489ef99c576)\n'}]",1,790168,f4147779fa618fc6b75a4f6ca3abd02fb505529e,3,2,1,9373,,,0,"Improve Network delete performance

- pass existing network dict to PRECOMMIT_DELETE ml2 handler;
- skip MTU and segment update handling in case network is
  about to be deleted.

Above gives up to 50% net delete speed-up

Conflicts:
	neutron/services/segments/db.py

Change-Id: I07c70db027f2ae03ffb5a95072e019e8a5fdc411
(cherry picked from commit 80eddc40390e63c9c1102b827997054708f2618b)
(cherry picked from commit 23e160131be16fc21eb789372b864489ef99c576)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/68/790168/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/segments/db.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/tests/unit/extensions/test_segment.py', 'neutron/plugins/ml2/plugin.py']",4,f4147779fa618fc6b75a4f6ca3abd02fb505529e,net_del_opt-stable/train-stable/stein," network = (kwargs.get('network') or self.get_network(context, network_id)) rtype, event, trigger, payload.context, payload.latest_state, for_net_delete=payload.metadata.get('for_net_delete')) def _handle_segment_change(self, rtype, event, trigger, context, segment, for_net_delete=False): if for_net_delete: return "," network = self.get_network(context, network_id) rtype, event, trigger, payload.context, payload.latest_state) def _handle_segment_change(self, rtype, event, trigger, context, segment):",19,8
openstack%2Fos-ken~master~I2ebc3f5ca41043ffdfcf367c2f3837ead0b1f804,openstack/os-ken,master,I2ebc3f5ca41043ffdfcf367c2f3837ead0b1f804,Remove six.PY3,ABANDONED,2020-09-18 06:59:12.000000000,2021-06-14 10:32:54.000000000,,"[{'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 27380}, {'_account_id': 32238}]","[{'number': 1, 'created': '2020-09-18 06:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/3ec11637d81515b53837bac1eeb7f6b823c83ea7', 'message': 'Remove six.PY3\n\nThe Python 2.7 Support has been dropped since Ussuri.\nSo remove hacking rules for compatibility between python 2 and 3\n\nChange-Id: I2ebc3f5ca41043ffdfcf367c2f3837ead0b1f804\n'}, {'number': 2, 'created': '2020-09-18 08:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/f917352bec16d05492fcd72bd60fc517e3f8faa2', 'message': 'Remove six.PY3\n\nThe Python 2.7 Support has been dropped since Ussuri.\nSo remove hacking rules for compatibility between python 2 and 3\n\nChange-Id: I2ebc3f5ca41043ffdfcf367c2f3837ead0b1f804\n'}, {'number': 3, 'created': '2021-05-11 02:05:22.000000000', 'files': ['os_ken/tests/test_lib.py', 'os_ken/services/protocols/bgp/utils/circlist.py', 'os_ken/tests/unit/ofproto/test_parser_ofpstats.py', 'os_ken/ofproto/ofproto_parser.py', 'os_ken/tests/unit/ofproto/test_parser.py', 'os_ken/lib/type_desc.py', 'os_ken/tests/unit/packet/test_packet.py', 'os_ken/lib/stringify.py', 'os_ken/tests/unit/ofproto/test_parser_ofpmatch.py', 'os_ken/tests/unit/ofproto/test_parser_compat.py', 'os_ken/tests/packet_data_generator3/gen.py', 'os_ken/ofproto/oxx_fields.py', 'os_ken/lib/mac.py', 'os_ken/tests/unit/ofproto/test_ofproto_parser.py', 'os_ken/tests/unit/test_utils.py'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/2700ac64e89638da01ca9064ca7d51f0b416a4c1', 'message': 'Remove six.PY3\n\nThe Python 2.7 Support has been dropped since Ussuri.\nSo remove hacking rules for compatibility between python 2 and 3\n\nChange-Id: I2ebc3f5ca41043ffdfcf367c2f3837ead0b1f804\n'}]",3,752632,2700ac64e89638da01ca9064ca7d51f0b416a4c1,13,5,3,32029,,,0,"Remove six.PY3

The Python 2.7 Support has been dropped since Ussuri.
So remove hacking rules for compatibility between python 2 and 3

Change-Id: I2ebc3f5ca41043ffdfcf367c2f3837ead0b1f804
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/32/752632/3 && git format-patch -1 --stdout FETCH_HEAD,"['os_ken/tests/test_lib.py', 'os_ken/services/protocols/bgp/utils/circlist.py', 'os_ken/tests/unit/ofproto/test_parser_ofpstats.py', 'os_ken/ofproto/ofproto_parser.py', 'os_ken/tests/unit/ofproto/test_parser.py', 'os_ken/lib/type_desc.py', 'os_ken/tests/unit/packet/test_packet.py', 'os_ken/lib/stringify.py', 'os_ken/tests/unit/ofproto/test_parser_ofpmatch.py', 'os_ken/tests/unit/ofproto/test_parser_compat.py', 'os_ken/tests/packet_data_generator3/gen.py', 'os_ken/ofproto/oxx_fields.py', 'os_ken/lib/mac.py', 'os_ken/tests/unit/ofproto/test_ofproto_parser.py', 'os_ken/tests/unit/test_utils.py']",15,3ec11637d81515b53837bac1eeb7f6b823c83ea7,six_remove,,import six if six.PY2: return if six.PY2: return,18,61
openstack%2Fpuppet-senlin~master~I943ce862ad9576e5a8fe10f806e9af9aebbdfedf,openstack/puppet-senlin,master,I943ce862ad9576e5a8fe10f806e9af9aebbdfedf,Get rid of the $pyvers variable,ABANDONED,2021-06-12 15:07:09.000000000,2021-06-14 10:32:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-12 15:07:09.000000000', 'files': ['manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/384e2cf0edbe6be7bdbf28ed6194054e6d5ea6d3', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: I943ce862ad9576e5a8fe10f806e9af9aebbdfedf\nCo-authored-by: Thomas Goirand <zigo@debian.org>\n""}]",0,796142,384e2cf0edbe6be7bdbf28ed6194054e6d5ea6d3,3,1,1,9816,,,0,"Get rid of the $pyvers variable

Since everyone has switched to Python3, it's time for the removal of the
$pyvers variable.

Change-Id: I943ce862ad9576e5a8fe10f806e9af9aebbdfedf
Co-authored-by: Thomas Goirand <zigo@debian.org>
",git fetch https://review.opendev.org/openstack/puppet-senlin refs/changes/42/796142/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/params.pp'],1,384e2cf0edbe6be7bdbf28ed6194054e6d5ea6d3,pyvers-removal, $client_package_name = 'python3-senlinclient'," $pyvers = $::openstacklib::defaults::pyvers $client_package_name = ""python${pyvers}-senlinclient""",1,2
openstack%2Fos-ken~master~I9697c8084478b1e27eb2bc4114bb64175268b94f,openstack/os-ken,master,I9697c8084478b1e27eb2bc4114bb64175268b94f,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-14 08:19:03.000000000,2021-06-14 10:17:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-14 08:19:03.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/99fdb2a24d15357f967c450865046602918724e4', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I9697c8084478b1e27eb2bc4114bb64175268b94f\n""}]",0,791410,99fdb2a24d15357f967c450865046602918724e4,5,1,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I9697c8084478b1e27eb2bc4114bb64175268b94f
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/10/791410/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,99fdb2a24d15357f967c450865046602918724e4,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://www.openstack.org/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://www.openstack.org/ python-requires = >=3.6,4,4
openstack%2Fnetworking-ovn~stable%2Ftrain~Ic6606cf3a61a740f50d02f4a891edc0d39ddf6dd,openstack/networking-ovn,stable/train,Ic6606cf3a61a740f50d02f4a891edc0d39ddf6dd,WIP: DNM,ABANDONED,2021-05-14 20:15:18.000000000,2021-06-14 10:16:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-14 20:15:18.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4f7a762fc2fc03711762b25b0f349601ead3de83', 'message': 'WIP: DNM\n\nChange-Id: Ic6606cf3a61a740f50d02f4a891edc0d39ddf6dd\n'}]",1,791545,4f7a762fc2fc03711762b25b0f349601ead3de83,3,1,1,11952,,,0,"WIP: DNM

Change-Id: Ic6606cf3a61a740f50d02f4a891edc0d39ddf6dd
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/45/791545/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/octavia/ovn_driver.py'],1,4f7a762fc2fc03711762b25b0f349601ead3de83,," LOG.debug('XXX router_lbs %(xrouter_lb)s ' 'network_lbs %(xnetwork_lb)s', {'xrouter_lb': network_lb - router_lb, 'xnetwork_lb': router_lb - network_lb}) LOG.debug('XXX1 ovn_lb %(ovn_lb)s network_id %(network_id)s' 'subnet_id %(subnet_id)s associate %(associate)s', {'ovn_lb': ovn_lb.uuid, 'network_id': network_id, 'subnet_id': subnet_id, 'associate': associate}) LOG.warning('XXX1.2 Cannot associate LB %(lb)s to ' LOG.debug('XXX2 ovn_lb %(ovn_lb)s ls_name %(ls_name)s ovn_ls %(ovn_ls)s' ' ls_refs %(ls_refs)s external_ids: %(external_ids)s', {'ovn_lb': ovn_lb.uuid, 'ls_name': ls_name, 'ovn_ls': ovn_ls, 'ls_refs': ls_refs, 'external_ids': ovn_lb.external_ids}) LOG.debug('XXX3 ovn_lb %(ovn_lb)s new ls_refs %(ls_refs)s', {'ovn_lb': ovn_lb.uuid, 'ls_refs': ls_refs, 'external_ids': ovn_lb.external_ids}) LOG.debug('XXX router: %(rtr)s ls: %(ls)s', {'rtr': router.name, 'ls': ls}) ", LOG.warning('Cannot associate LB %(lb)s to ',26,1
openstack%2Fpython-neutronclient~master~I4f1ab8be1c270872cc4976fb48f1b3b11dc22ecc,openstack/python-neutronclient,master,I4f1ab8be1c270872cc4976fb48f1b3b11dc22ecc,Use py3 as the default runtime for tox,ABANDONED,2021-04-20 07:30:21.000000000,2021-06-14 10:16:39.000000000,,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 07:30:21.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/298531ff02ef2c50cf3815b2eae00dfe37add3cd', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: I4f1ab8be1c270872cc4976fb48f1b3b11dc22ecc\n'}]",0,787132,298531ff02ef2c50cf3815b2eae00dfe37add3cd,6,4,1,30384,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I4f1ab8be1c270872cc4976fb48f1b3b11dc22ecc
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/32/787132/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,298531ff02ef2c50cf3815b2eae00dfe37add3cd,,"envlist = py3,pep8","envlist = py38,pep8",1,1
openstack%2Fneutron-specs~master~I430ec25585184a1a0e104dc753289933df77f105,openstack/neutron-specs,master,I430ec25585184a1a0e104dc753289933df77f105,Use py3 as the default runtime for tox,ABANDONED,2021-04-20 07:50:30.000000000,2021-06-14 10:16:31.000000000,,"[{'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 07:50:30.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/0ee9566d76c3abf42b9bd8f068338a416cd16950', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: I430ec25585184a1a0e104dc753289933df77f105\n'}]",0,787139,0ee9566d76c3abf42b9bd8f068338a416cd16950,5,2,1,30384,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I430ec25585184a1a0e104dc753289933df77f105
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/39/787139/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0ee9566d76c3abf42b9bd8f068338a416cd16950,,"envlist = docs,py3","envlist = docs,py36",1,1
openstack%2Fneutron-lib~master~I289f35d615c70904101776729fbe6e20e7c7c19e,openstack/neutron-lib,master,I289f35d615c70904101776729fbe6e20e7c7c19e,Use py3 as the default runtime for tox,ABANDONED,2021-04-20 07:49:02.000000000,2021-06-14 10:16:23.000000000,,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 07:49:02.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/4fffc23c28b43f576e673af13eb56d34e63f461c', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: I289f35d615c70904101776729fbe6e20e7c7c19e\n'}]",0,787138,4fffc23c28b43f576e673af13eb56d34e63f461c,5,3,1,30384,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I289f35d615c70904101776729fbe6e20e7c7c19e
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/38/787138/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4fffc23c28b43f576e673af13eb56d34e63f461c,,"envlist = py3,pep8","envlist = py38,pep8",1,1
openstack%2Fneutron-vpnaas~master~I44c08693eb90c7f1092020f91759426145628eac,openstack/neutron-vpnaas,master,I44c08693eb90c7f1092020f91759426145628eac,Dropping lower constraints testing,ABANDONED,2021-05-02 02:00:37.000000000,2021-06-14 10:16:15.000000000,,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-02 02:00:37.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/d96e1f3c27cbf64cb8aad019dacdc877a7dacec3', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I44c08693eb90c7f1092020f91759426145628eac\n'}]",0,789069,d96e1f3c27cbf64cb8aad019dacdc877a7dacec3,4,2,1,30384,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: I44c08693eb90c7f1092020f91759426145628eac
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/69/789069/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,d96e1f3c27cbf64cb8aad019dacdc877a7dacec3,,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,141
openstack%2Fpython-neutronclient~master~I4f8c8ec8d0835442d6dc5c87302bf6df537a9b64,openstack/python-neutronclient,master,I4f8c8ec8d0835442d6dc5c87302bf6df537a9b64,Dropping lower constraints testing,ABANDONED,2021-05-02 01:51:57.000000000,2021-06-14 10:16:01.000000000,,"[{'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-02 01:51:57.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/1440c776f865412be3bea3c8fc9af87ea20804a6', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I4f8c8ec8d0835442d6dc5c87302bf6df537a9b64\n'}]",0,789067,1440c776f865412be3bea3c8fc9af87ea20804a6,4,2,1,30384,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: I4f8c8ec8d0835442d6dc5c87302bf6df537a9b64
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/67/789067/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,1440c776f865412be3bea3c8fc9af87ea20804a6,,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,117
openstack%2Fnetworking-bagpipe~master~I0063b02fbceb83d17db7d5b508b200e55bc21395,openstack/networking-bagpipe,master,I0063b02fbceb83d17db7d5b508b200e55bc21395,Dropping lower constraints testing,ABANDONED,2021-05-02 02:22:19.000000000,2021-06-14 10:15:43.000000000,,"[{'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-02 02:22:19.000000000', 'files': ['lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/45e69dde12d2a75c159122d3244b9af637959dd0', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I0063b02fbceb83d17db7d5b508b200e55bc21395\n'}]",0,789075,45e69dde12d2a75c159122d3244b9af637959dd0,4,2,1,30384,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: I0063b02fbceb83d17db7d5b508b200e55bc21395
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/75/789075/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'tox.ini']",2,45e69dde12d2a75c159122d3244b9af637959dd0,,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt ,0,148
openstack%2Fneutron-dynamic-routing~master~Id41984278156c9a102cd3955e1a6127a8a72ce1d,openstack/neutron-dynamic-routing,master,Id41984278156c9a102cd3955e1a6127a8a72ce1d,Dropping lower constraints testing,ABANDONED,2021-05-02 02:08:18.000000000,2021-06-14 10:15:17.000000000,,"[{'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-02 02:08:18.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/046d7a9471dcb6f732f2b51d5a158b93e8284f75', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: Id41984278156c9a102cd3955e1a6127a8a72ce1d\n'}]",0,789071,046d7a9471dcb6f732f2b51d5a158b93e8284f75,4,2,1,30384,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Id41984278156c9a102cd3955e1a6127a8a72ce1d
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/71/789071/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,046d7a9471dcb6f732f2b51d5a158b93e8284f75,,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,153
openstack%2Fnetworking-sfc~master~Ia38eb0c753fc1e2dfa37e520d011af84018a6db5,openstack/networking-sfc,master,Ia38eb0c753fc1e2dfa37e520d011af84018a6db5,Dropping lower constraints testing,ABANDONED,2021-05-02 02:13:13.000000000,2021-06-14 10:15:03.000000000,,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-02 02:13:13.000000000', 'files': ['lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/2533279ca6ac17ad767363279691ca706237fcae', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: Ia38eb0c753fc1e2dfa37e520d011af84018a6db5\n'}]",0,789072,2533279ca6ac17ad767363279691ca706237fcae,6,3,1,30384,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Ia38eb0c753fc1e2dfa37e520d011af84018a6db5
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/72/789072/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'tox.ini']",2,2533279ca6ac17ad767363279691ca706237fcae,,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt ,0,155
openstack%2Freleases~master~If0eb0b199288555fc58760f74a7afaa4da3d3828,openstack/releases,master,If0eb0b199288555fc58760f74a7afaa4da3d3828,Make stable/ussuri release for TripleO repos,MERGED,2021-06-10 14:02:55.000000000,2021-06-14 09:38:36.000000000,2021-06-14 09:38:36.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-10 14:02:55.000000000', 'files': ['deliverables/ussuri/tripleo-heat-templates.yaml', 'deliverables/ussuri/tripleo-ansible.yaml', 'deliverables/ussuri/python-tripleoclient.yaml', 'deliverables/ussuri/tripleo-image-elements.yaml', 'deliverables/ussuri/os-collect-config.yaml', 'deliverables/ussuri/os-refresh-config.yaml', 'deliverables/ussuri/tripleo-validations.yaml', 'deliverables/ussuri/puppet-tripleo.yaml', 'deliverables/ussuri/tripleo-common.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/368a7861eaf55e2ba3100c2f6b97a811759aef0b', 'message': 'Make stable/ussuri release for TripleO repos\n\nRelated puppet-tripleo metadata bump merged at [1]. Some of these\nSome of these would warrant a bump to .feature rather than .patch\nhowever we are locked to .patch on some of these for ussuri because\nof an error made in an earlier (victoria) release.\n\n[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/795588\n\nChange-Id: If0eb0b199288555fc58760f74a7afaa4da3d3828\n'}]",9,795784,368a7861eaf55e2ba3100c2f6b97a811759aef0b,9,3,1,8449,,,0,"Make stable/ussuri release for TripleO repos

Related puppet-tripleo metadata bump merged at [1]. Some of these
Some of these would warrant a bump to .feature rather than .patch
however we are locked to .patch on some of these for ussuri because
of an error made in an earlier (victoria) release.

[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/795588

Change-Id: If0eb0b199288555fc58760f74a7afaa4da3d3828
",git fetch https://review.opendev.org/openstack/releases refs/changes/84/795784/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ussuri/tripleo-heat-templates.yaml', 'deliverables/ussuri/tripleo-ansible.yaml', 'deliverables/ussuri/python-tripleoclient.yaml', 'deliverables/ussuri/os-collect-config.yaml', 'deliverables/ussuri/tripleo-image-elements.yaml', 'deliverables/ussuri/os-refresh-config.yaml', 'deliverables/ussuri/puppet-tripleo.yaml', 'deliverables/ussuri/tripleo-validations.yaml', 'deliverables/ussuri/tripleo-common.yaml']",9,368a7861eaf55e2ba3100c2f6b97a811759aef0b,, - version: 12.4.5 projects: - repo: openstack/tripleo-common hash: 833ef486d65a3ffe9886c2a605c68bce3130577c,,36,0
openstack%2Fopenstack-tempest-skiplist~master~Ia02ee0a8b6d1e9363688a0d61cfac0b595a9769b,openstack/openstack-tempest-skiplist,master,Ia02ee0a8b6d1e9363688a0d61cfac0b595a9769b,add skips to master,MERGED,2021-06-10 03:37:54.000000000,2021-06-14 09:32:16.000000000,2021-06-14 09:31:00.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-06-10 03:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/cd4a41bcd614c83805d91c050f5d19c07f55f41e', 'message': 'add master to mtu_sized_frames\n\nSeen on master gate review: 795005\n\nChange-Id: Ia02ee0a8b6d1e9363688a0d61cfac0b595a9769b\n'}, {'number': 2, 'created': '2021-06-10 03:56:33.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/720c82f6fbbfa1d51dc33ccb1a61bb251ece91f5', 'message': 'add skips to master\n\n* mtu_sized_frames\n* test_encrypted_cinder_volumes_luks\n\nSeen on master gate review: 795005\nSeen on master gate review: 795311\n\nRelated-Bug: #1931516\nRelated-Bug: #1921400\nChange-Id: Ia02ee0a8b6d1e9363688a0d61cfac0b595a9769b\n'}]",0,795725,720c82f6fbbfa1d51dc33ccb1a61bb251ece91f5,12,4,2,9592,,,0,"add skips to master

* mtu_sized_frames
* test_encrypted_cinder_volumes_luks

Seen on master gate review: 795005
Seen on master gate review: 795311

Related-Bug: #1931516
Related-Bug: #1921400
Change-Id: Ia02ee0a8b6d1e9363688a0d61cfac0b595a9769b
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/25/795725/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,cd4a41bcd614c83805d91c050f5d19c07f55f41e,, - name: master reason: auth issues lp: https://bugs.launchpad.net/tripleo/+bug/1921400,,3,0
openstack%2Fironic-python-agent-builder~stable%2Fwallaby~I796b24a7ef19c3b0cc459ca1e1dc46d22f6349b5,openstack/ironic-python-agent-builder,stable/wallaby,I796b24a7ef19c3b0cc459ca1e1dc46d22f6349b5,Restrict publishing jobs to master,MERGED,2021-06-11 16:42:56.000000000,2021-06-14 09:28:39.000000000,2021-06-14 09:26:42.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-11 16:42:56.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/4b511e7f792cff2f5c90ea6353bfa5459ba506c5', 'message': ""Restrict publishing jobs to master\n\nWe already build branched versions from IPA itself, let's not increase\nour space usage.\n\nChange-Id: I796b24a7ef19c3b0cc459ca1e1dc46d22f6349b5\n(cherry picked from commit 963b23e0ae703f230815b474f1a2bf32cb4e807f)\n""}]",0,795891,4b511e7f792cff2f5c90ea6353bfa5459ba506c5,8,3,1,10239,,,0,"Restrict publishing jobs to master

We already build branched versions from IPA itself, let's not increase
our space usage.

Change-Id: I796b24a7ef19c3b0cc459ca1e1dc46d22f6349b5
(cherry picked from commit 963b23e0ae703f230815b474f1a2bf32cb4e807f)
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/91/795891/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,4b511e7f792cff2f5c90ea6353bfa5459ba506c5,gate-stable/wallaby, - ironic-python-agent-build-image-tinyipa: branches: master - ironic-python-agent-build-image-dib-centos8: branches: master - ironic-python-agent-build-image-dib-debian: branches: master, - ironic-python-agent-build-image-tinyipa - ironic-python-agent-build-image-dib-centos8 - ironic-python-agent-build-image-dib-debian,6,3
openstack%2Fironic-python-agent~master~If151b3a3be979bd2b3ce01030e5d6242ad74eaa3,openstack/ironic-python-agent,master,If151b3a3be979bd2b3ce01030e5d6242ad74eaa3,Reduce logging verbosity when collecting logs,MERGED,2021-06-11 14:06:14.000000000,2021-06-14 09:24:18.000000000,2021-06-14 09:22:53.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-11 14:06:14.000000000', 'files': ['ironic_python_agent/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/2fcf35e56d578d98d77ffc97b6441f83548d7704', 'message': ""Reduce logging verbosity when collecting logs\n\nIt's not uncommon that some commands fail when collecting logs.\nWe already log all failures in utils.execute, no need to duplicate\nthem with a non-fatal ERROR logging.\n\nChange-Id: If151b3a3be979bd2b3ce01030e5d6242ad74eaa3\n""}]",2,796015,2fcf35e56d578d98d77ffc97b6441f83548d7704,10,3,1,10239,,,0,"Reduce logging verbosity when collecting logs

It's not uncommon that some commands fail when collecting logs.
We already log all failures in utils.execute, no need to duplicate
them with a non-fatal ERROR logging.

Change-Id: If151b3a3be979bd2b3ce01030e5d6242ad74eaa3
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/15/796015/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/utils.py'],1,2fcf35e56d578d98d77ffc97b6441f83548d7704,system-logs-verbose," LOG.debug('Collecting logs from command %s has failed', command)", LOG.error(error_msg) pass,1,2
openstack%2Fkolla-ansible~master~If7aa13723cc22f67bc70bd06f6bf3ad8d069d690,openstack/kolla-ansible,master,If7aa13723cc22f67bc70bd06f6bf3ad8d069d690,Support common ceph.conf,NEW,2021-06-09 17:29:52.000000000,2021-06-14 09:22:28.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 17:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e849c845118737c0007c12fb0fdaf755524e15d7', 'message': 'Support common ceph.conf\n\nThis is to make the common use case of all services using the same ceph\ncluster.\n\nChange-Id: If7aa13723cc22f67bc70bd06f6bf3ad8d069d690\n'}, {'number': 2, 'created': '2021-06-09 17:43:13.000000000', 'files': ['ansible/roles/manila/tasks/external_ceph.yml', 'doc/source/reference/storage/external-ceph-guide.rst', 'ansible/roles/gnocchi/tasks/external_ceph.yml', 'ansible/roles/nova-cell/tasks/external_ceph.yml', 'releasenotes/notes/support-common-ceph-conf-db69daf3072a2f9c.yaml', 'ansible/roles/cinder/tasks/external_ceph.yml', 'ansible/roles/glance/tasks/external_ceph.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/141803bca2e2d9e951a13c86a175ffa3753187dc', 'message': 'Support common ceph.conf\n\nThis is to make the common use case of all services using the same ceph\ncluster.\n\nChange-Id: If7aa13723cc22f67bc70bd06f6bf3ad8d069d690\n'}]",5,795603,141803bca2e2d9e951a13c86a175ffa3753187dc,8,2,2,28048,,,0,"Support common ceph.conf

This is to make the common use case of all services using the same ceph
cluster.

Change-Id: If7aa13723cc22f67bc70bd06f6bf3ad8d069d690
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/03/795603/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/manila/tasks/external_ceph.yml', 'doc/source/reference/storage/external-ceph-guide.rst', 'ansible/roles/gnocchi/tasks/external_ceph.yml', 'ansible/roles/nova-cell/tasks/external_ceph.yml', 'releasenotes/notes/support-common-ceph-conf-db69daf3072a2f9c.yaml', 'ansible/roles/cinder/tasks/external_ceph.yml', 'ansible/roles/glance/tasks/external_ceph.yml']",7,e849c845118737c0007c12fb0fdaf755524e15d7,," merge_configs: sources: - ""{{ node_custom_config }}/glance/ceph.conf"" - ""{{ node_custom_config }}/ceph.conf"""," template: src: ""{{ node_custom_config }}/glance/ceph.conf""",52,16
openstack%2Ftripleo-ci~master~Ib033b8eeb753479461017dd7f09e21fcf91d8115,openstack/tripleo-ci,master,Ib033b8eeb753479461017dd7f09e21fcf91d8115,DNM - Testing new cloud-init-version,ABANDONED,2021-06-03 13:16:43.000000000,2021-06-14 09:20:47.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-03 13:16:43.000000000', 'files': ['roles/oooci-build-images/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/27cd991757558946a22d998ddf6539745264a7ca', 'message': 'DNM - Testing new cloud-init-version\n\nChange-Id: Ib033b8eeb753479461017dd7f09e21fcf91d8115\n'}]",0,794585,27cd991757558946a22d998ddf6539745264a7ca,4,2,1,8367,,,0,"DNM - Testing new cloud-init-version

Change-Id: Ib033b8eeb753479461017dd7f09e21fcf91d8115
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/85/794585/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/oooci-build-images/defaults/main.yaml'],1,27cd991757558946a22d998ddf6539745264a7ca,test-cloud-init,tripleo_image_source: https://images.rdoproject.org/CentOS-Stream-GenericCloud-8-20201217-test.0.x86_64.qcow2,tripleo_image_source: https://images.rdoproject.org/CentOS-8-Stream-x86_64-GenericCloud.qcow2,1,1
openstack%2Fkolla-ansible~master~I4a28fb99e48274dd0dda0dd565aa1fedd81563d2,openstack/kolla-ansible,master,I4a28fb99e48274dd0dda0dd565aa1fedd81563d2,Only template backend section if in cinder_enabled_backends,NEW,2021-06-09 13:56:18.000000000,2021-06-14 09:13:52.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 13:56:18.000000000', 'files': ['ansible/roles/cinder/templates/cinder.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c10048e4ad539a8ee21324c9a36169f9a7c070b4', 'message': ""Only template backend section if in cinder_enabled_backends\n\nBefore this change, if cinder_enabled_backends was overriden,\nwe still template out the configuration sections for that\nbackend if the flag that controlled that templating is still\nset to true. This change makes the templating conditional\non cinder_enabled_backends so in effect we have a single source\nof truth and won't end up with unused configuration in the\noutput file.\n\nTrivialFix\n\nChange-Id: I4a28fb99e48274dd0dda0dd565aa1fedd81563d2\n""}]",4,795545,c10048e4ad539a8ee21324c9a36169f9a7c070b4,5,2,1,28048,,,0,"Only template backend section if in cinder_enabled_backends

Before this change, if cinder_enabled_backends was overriden,
we still template out the configuration sections for that
backend if the flag that controlled that templating is still
set to true. This change makes the templating conditional
on cinder_enabled_backends so in effect we have a single source
of truth and won't end up with unused configuration in the
output file.

TrivialFix

Change-Id: I4a28fb99e48274dd0dda0dd565aa1fedd81563d2
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/45/795545/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/cinder/templates/cinder.conf.j2'],1,c10048e4ad539a8ee21324c9a36169f9a7c070b4,,"{% set cinder_conf_enabled_backends = cinder_enabled_backends|map(attribute='name')|join(',') %}enabled_backends = {{ cinder_conf_enabled_backends }}{% if 'lvm-1' in cinder_conf_enabled_backends %}{% if 'rbd-1' in cinder_conf_enabled_backends %}{% if 'nfs-1' in cinder_conf_enabled_backends %}{% if 'hnas-nfs' in cinder_conf_enabled_backends %}{% if 'vmwarevc-vmdk' in cinder_conf_enabled_backends %}{% if 'zfssa-iscsi' in cinder_conf_enabled_backends %}{% if 'QuobyteHD' in cinder_conf_enabled_backends %}","enabled_backends = {{ cinder_enabled_backends|map(attribute='name')|join(',') }}{% if enable_cinder_backend_lvm | bool %}{% if cinder_backend_ceph | bool %}{% if enable_cinder_backend_nfs | bool %}{% if enable_cinder_backend_hnas_nfs | bool %}{% if cinder_backend_vmwarevc_vmdk | bool %}{% if enable_cinder_backend_zfssa_iscsi | bool %}{% if enable_cinder_backend_quobyte | bool %}",9,8
openstack%2Fkolla-ansible~master~I06f5d9f290e8001545403c301d5ca7a17a35986a,openstack/kolla-ansible,master,I06f5d9f290e8001545403c301d5ca7a17a35986a,Adds support for customizing volume_backend_name,NEW,2021-06-09 13:56:18.000000000,2021-06-14 09:11:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-09 13:56:18.000000000', 'files': ['ansible/roles/cinder/defaults/main.yml', 'doc/source/reference/storage/cinder-guide.rst', 'ansible/roles/cinder/templates/cinder.conf.j2', 'releasenotes/notes/allow-volume-backend-name-customisation-for-all-drivers-0f1027c6e3cb1596.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6ce69975498ced7f3cae2ba704ccb995f7017f49', 'message': 'Adds support for customizing volume_backend_name\n\nThis can be useful when migrating from config that specified a different\nbackend name or if you just want to set a more friendly name.\n\nTrivialFix\n\nChange-Id: I06f5d9f290e8001545403c301d5ca7a17a35986a\n'}]",3,795546,6ce69975498ced7f3cae2ba704ccb995f7017f49,4,1,1,28048,,,0,"Adds support for customizing volume_backend_name

This can be useful when migrating from config that specified a different
backend name or if you just want to set a more friendly name.

TrivialFix

Change-Id: I06f5d9f290e8001545403c301d5ca7a17a35986a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/46/795546/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/cinder/defaults/main.yml', 'doc/source/reference/storage/cinder-guide.rst', 'ansible/roles/cinder/templates/cinder.conf.j2', 'releasenotes/notes/allow-volume-backend-name-customisation-for-all-drivers-0f1027c6e3cb1596.yaml']",4,6ce69975498ced7f3cae2ba704ccb995f7017f49,,"--- features: - | Adds support for customising the cinder ``volume_backend_name`` for all cinder drivers supported by kolla-ansible. Please see the new section, ``Customizing volume backend naming`` in the documentation for more details. ",,69,4
openstack%2Fcharm-mysql-innodb-cluster~master~I16e43c37e1af02fb0e23a9c460d70bf5e1dd0fb1,openstack/charm-mysql-innodb-cluster,master,I16e43c37e1af02fb0e23a9c460d70bf5e1dd0fb1,clustering: tweak allowlist generation,MERGED,2021-06-11 11:17:48.000000000,2021-06-14 08:29:17.000000000,2021-06-14 08:29:17.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 11:17:48.000000000', 'files': ['unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/737179482c2bfb209a7d322793b4ac925181b639', 'message': 'clustering: tweak allowlist generation\n\nInstead of trying to resolve the network CIDR from the local unit\nfor all units in the cluster just use the actual IP addresses of\nthe cluster unit when generating the IP allowlist for cluster\nconnectivity.\n\nAlso add the network CIDR for the local units cluster address\nwhich is the only one that will be guaranteed to be resolvable.\n\nFor deployments where all units are on the same Layer 2 network\naddition of units with complete automatically - in Layer 3\nrouted network topologies new units will be blocked until the\nupdate-unit-acls action is executed which is a service\ndisruption operation.\n\nCloses-Bug: 1926460\nChange-Id: I16e43c37e1af02fb0e23a9c460d70bf5e1dd0fb1\n'}]",0,795989,737179482c2bfb209a7d322793b4ac925181b639,11,4,1,935,,,0,"clustering: tweak allowlist generation

Instead of trying to resolve the network CIDR from the local unit
for all units in the cluster just use the actual IP addresses of
the cluster unit when generating the IP allowlist for cluster
connectivity.

Also add the network CIDR for the local units cluster address
which is the only one that will be guaranteed to be resolvable.

For deployments where all units are on the same Layer 2 network
addition of units with complete automatically - in Layer 3
routed network topologies new units will be blocked until the
update-unit-acls action is executed which is a service
disruption operation.

Closes-Bug: 1926460
Change-Id: I16e43c37e1af02fb0e23a9c460d70bf5e1dd0fb1
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/89/795989/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py']",2,737179482c2bfb209a7d322793b4ac925181b639,bug/1926460," def get_cluster_addresses(self): """"""Return a sorted list of addresses covering all units. :returns: List of addresses ips.append(ch_net_ip.resolve_network_cidr(self.cluster_address)) return sorted(ips) "","".join(self.get_cluster_addresses()))"," def get_cluster_subnets(self): """"""Return a list of subnets covering all units. :returns: List of subnets return list(set([ch_net_ip.resolve_network_cidr(ip) for ip in ips])) "","".join(sorted(self.get_cluster_subnets())))",12,10
openstack%2Fironic-ui~master~If578f12a642f5ee50593c0c5f8ccc501719bb5d4,openstack/ironic-ui,master,If578f12a642f5ee50593c0c5f8ccc501719bb5d4,Changed minversion in tox to 3.18.0,MERGED,2021-06-11 07:31:13.000000000,2021-06-14 08:26:50.000000000,2021-06-14 08:23:58.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-11 07:31:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/accb839758e1c3e0411118e03bb33e839eb8ffd3', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: If578f12a642f5ee50593c0c5f8ccc501719bb5d4\n""}]",0,795939,accb839758e1c3e0411118e03bb33e839eb8ffd3,8,3,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: If578f12a642f5ee50593c0c5f8ccc501719bb5d4
",git fetch https://review.opendev.org/openstack/ironic-ui refs/changes/39/795939/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,accb839758e1c3e0411118e03bb33e839eb8ffd3,update-min-tox,minversion = 3.18.0allowlist_externals = make,minversion = 3.1.0whitelist_externals = make,2,2
openstack%2Fceilometer~master~I4735f20d75d329ccafc797fe285d9fef579f593e,openstack/ceilometer,master,I4735f20d75d329ccafc797fe285d9fef579f593e,Introduce `timeout` in dynamic pollsters sub-system,MERGED,2021-05-07 17:37:59.000000000,2021-06-14 08:25:44.000000000,2021-06-14 08:24:21.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-07 17:37:59.000000000', 'files': ['doc/source/admin/telemetry-dynamic-pollster.rst', 'ceilometer/polling/dynamic_pollster.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/30ada660f0d5e4bcbddb2b13aa6af834ab295444', 'message': ""Introduce `timeout` in dynamic pollsters sub-system\n\nThis patch introduces a new option for the dynamic pollsters'\nsub-system to define the request timeout for requests executed\nby the dynamic pollsters. The default timeout value will be 30\nseconds. If it (the timeout option) is set to `None`, this means\nthat the request never times out on the client-side. Therefore,\none might have problems if the server never closes the connection.\nThe pollsters are executed serially, one after the other; if the\nrequest hangs, all pollsters (including the non-dynamic ones) will\nstop executing.\n\nThis option is being introduced after a failure that we had when\nusing the dynamic pollsters; one of the APIs did not respond, and the\nserver did not close the connection of the request, which made\nCeilometer dynamic pollsters stop gathering data. To avoid such a\nsituation, we recommend the community review and merge this patch.\n\nChange-Id: I4735f20d75d329ccafc797fe285d9fef579f593e\n""}]",0,790289,30ada660f0d5e4bcbddb2b13aa6af834ab295444,8,2,1,28356,,,0,"Introduce `timeout` in dynamic pollsters sub-system

This patch introduces a new option for the dynamic pollsters'
sub-system to define the request timeout for requests executed
by the dynamic pollsters. The default timeout value will be 30
seconds. If it (the timeout option) is set to `None`, this means
that the request never times out on the client-side. Therefore,
one might have problems if the server never closes the connection.
The pollsters are executed serially, one after the other; if the
request hangs, all pollsters (including the non-dynamic ones) will
stop executing.

This option is being introduced after a failure that we had when
using the dynamic pollsters; one of the APIs did not respond, and the
server did not close the connection of the request, which made
Ceilometer dynamic pollsters stop gathering data. To avoid such a
situation, we recommend the community review and merge this patch.

Change-Id: I4735f20d75d329ccafc797fe285d9fef579f593e
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/89/790289/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/telemetry-dynamic-pollster.rst', 'ceilometer/polling/dynamic_pollster.py']",2,30ada660f0d5e4bcbddb2b13aa6af834ab295444,enable_timeout_set_dynamic_pollsters-upstream," PollsterDefinition(name='headers'), PollsterDefinition(name='timeout', default=30)] request_args['timeout'] = self.definitions.configurations['timeout']", PollsterDefinition(name='headers')],11,1
openstack%2Fironic-ui~master~I1522305144a7ed11e79372bc710dcfbc9589b9b7,openstack/ironic-ui,master,I1522305144a7ed11e79372bc710dcfbc9589b9b7,setup.cfg: Replace dashes with underscores,MERGED,2021-06-11 07:30:12.000000000,2021-06-14 08:25:12.000000000,2021-06-14 08:23:20.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-11 07:30:12.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/c4292aa2094d3dbd7662d099bcf214d7770f86f0', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I1522305144a7ed11e79372bc710dcfbc9589b9b7\n""}]",0,795937,c4292aa2094d3dbd7662d099bcf214d7770f86f0,8,3,1,32029,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I1522305144a7ed11e79372bc710dcfbc9589b9b7
",git fetch https://review.opendev.org/openstack/ironic-ui refs/changes/37/795937/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,c4292aa2094d3dbd7662d099bcf214d7770f86f0,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/ironic-ui/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/ironic-ui/latest/ python-requires = >=3.6,4,4
openstack%2Fironic-ui~master~I924b59583764584822f09557261985d8bcd6be06,openstack/ironic-ui,master,I924b59583764584822f09557261985d8bcd6be06,Remove lower-constraints job,MERGED,2021-06-11 07:32:53.000000000,2021-06-14 08:19:00.000000000,2021-06-14 08:17:34.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-11 07:32:53.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/8459072fca66968b5a3d3296529944e4ddcd24d1', 'message': 'Remove lower-constraints job\n\nAs discussed during the upstream ironic community meeting on\nMonday Dec 14 2020, the lower-constraints job is being removed.\n\nChange-Id: I924b59583764584822f09557261985d8bcd6be06\n'}]",0,795940,8459072fca66968b5a3d3296529944e4ddcd24d1,8,3,1,32029,,,0,"Remove lower-constraints job

As discussed during the upstream ironic community meeting on
Monday Dec 14 2020, the lower-constraints job is being removed.

Change-Id: I924b59583764584822f09557261985d8bcd6be06
",git fetch https://review.opendev.org/openstack/ironic-ui refs/changes/40/795940/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8459072fca66968b5a3d3296529944e4ddcd24d1,remove-l-c-job,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,7
openstack%2Fkolla-ansible~stable%2Ftrain~Ie54513150d5b3bd94866a260bb1233e729dfd538,openstack/kolla-ansible,stable/train,Ie54513150d5b3bd94866a260bb1233e729dfd538,[DNM] Update systemd before bootstraping bifrost,ABANDONED,2021-06-10 07:11:38.000000000,2021-06-14 07:19:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-10 07:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e9945e674eb92b21496a70385e172d7ed807365b', 'message': '[DNM] Update systemd before bootstraping bifrost\n\nChange-Id: Ie54513150d5b3bd94866a260bb1233e729dfd538\n'}, {'number': 2, 'created': '2021-06-10 08:01:46.000000000', 'files': ['ansible/roles/bifrost/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a1c33bbb57e7647921a024d96cd116815eed917e', 'message': '[DNM] Update systemd before bootstraping bifrost\n\nChange-Id: Ie54513150d5b3bd94866a260bb1233e729dfd538\n'}]",0,795733,a1c33bbb57e7647921a024d96cd116815eed917e,5,1,2,15197,,,0,"[DNM] Update systemd before bootstraping bifrost

Change-Id: Ie54513150d5b3bd94866a260bb1233e729dfd538
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/33/795733/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/bifrost/tasks/bootstrap.yml'],1,e9945e674eb92b21496a70385e172d7ed807365b,bifrost-systemd-train,- name: Ensure latest systemd is installed become: true command: > docker exec -u 0 bifrost_deploy bash -c 'dnf update -y systemd' ,,5,0
openstack%2Fvalidations-libs~master~Idc56bfbea975fc2ba95d2f98c6a7988016ea52c6,openstack/validations-libs,master,Idc56bfbea975fc2ba95d2f98c6a7988016ea52c6,Removed unnecessary check for py27 behavior,ABANDONED,2021-01-26 16:56:44.000000000,2021-06-14 06:18:54.000000000,,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-01-26 16:56:44.000000000', 'files': ['validations_libs/ansible.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/b322e9f128545353f8e0b6867a2673e856d265c5', 'message': 'Removed unnecessary check for py27 behavior\n\nThe master branch no longer supports python 2.7, certain depencies\nlisted in requirements.txt lack support as well.\nWe also use py>3 constructs in our code.\n\nIn fact basic tox with ""-e py27"" fails almost immediatelly.\n\nAs such this check is unnecessary.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Idc56bfbea975fc2ba95d2f98c6a7988016ea52c6\n'}]",0,772574,b322e9f128545353f8e0b6867a2673e856d265c5,4,5,1,32926,,,0,"Removed unnecessary check for py27 behavior

The master branch no longer supports python 2.7, certain depencies
listed in requirements.txt lack support as well.
We also use py>3 constructs in our code.

In fact basic tox with ""-e py27"" fails almost immediatelly.

As such this check is unnecessary.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Idc56bfbea975fc2ba95d2f98c6a7988016ea52c6
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/74/772574/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_libs/ansible.py'],1,b322e9f128545353f8e0b6867a2673e856d265c5,style/py27cleanup,,# NOTE(cloudnull): This is setting the FileExistsError for py2 environments. # When we no longer support py2 (centos7) this should be # removed. try: FileExistsError = FileExistsError except NameError: FileExistsError = OSError ,0,8
openstack%2Ftripleo-ci~master~I92170acf42b9c1850acc060653629cef15b116bf,openstack/tripleo-ci,master,I92170acf42b9c1850acc060653629cef15b116bf,Add jobs for overcloud-hardened-uefi-full-centos-8,MERGED,2021-04-30 04:08:51.000000000,2021-06-14 02:56:50.000000000,2021-06-14 02:56:50.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-04-30 04:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8849f85faa39d1167b2bda065e5a6adc0faf8d90', 'message': 'Add jobs for overcloud-hardened-uefi-full-centos-8\n\nThis change duplicates the\ntripleo-buildimage-overcloud-hardened-full-centos-8* jobs to add\ntripleo-buildimage-overcloud-hardened-uefi-full-centos-8* jobs for\nmaster and wallaby.\n\nThe overcloud-hardened-full and overcloud-hardened-uefi-full images\nare identical except that overcloud-hardened-uefi-full with boot on\nboth legacy BIOS and UEFI systems (overcloud-hardened-full will only\nboot on legacy BIOS). As such there will be a follow-up change to\nremove the tripleo-buildimage-overcloud-hardened-full-centos-8 from\nrunning on master and wallaby.\n\nChange-Id: I92170acf42b9c1850acc060653629cef15b116bf\nBlueprint: whole-disk-default\n'}, {'number': 2, 'created': '2021-05-02 22:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b4036f298107bef3765298f986a8408f84a812a3', 'message': 'Add jobs for overcloud-hardened-uefi-full-centos-8\n\nThis change duplicates the\ntripleo-buildimage-overcloud-hardened-full-centos-8* jobs to add\ntripleo-buildimage-overcloud-hardened-uefi-full-centos-8* jobs for\nmaster and wallaby.\n\nThe overcloud-hardened-full and overcloud-hardened-uefi-full images\nare identical except that overcloud-hardened-uefi-full with boot on\nboth legacy BIOS and UEFI systems (overcloud-hardened-full will only\nboot on legacy BIOS). As such there will be a follow-up change to\nremove the tripleo-buildimage-overcloud-hardened-full-centos-8 from\nrunning on master and wallaby.\n\nChange-Id: I92170acf42b9c1850acc060653629cef15b116bf\nBlueprint: whole-disk-default\n'}, {'number': 3, 'created': '2021-05-05 22:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d1193e87790b1a04a75fab0a05c4176e49cffe5f', 'message': 'Add jobs for overcloud-hardened-uefi-full-centos-8\n\nThis change duplicates the\ntripleo-buildimage-overcloud-hardened-full-centos-8* jobs to add\ntripleo-buildimage-overcloud-hardened-uefi-full-centos-8* jobs for\nmaster and wallaby.\n\nThe overcloud-hardened-full and overcloud-hardened-uefi-full images\nare identical except that overcloud-hardened-uefi-full with boot on\nboth legacy BIOS and UEFI systems (overcloud-hardened-full will only\nboot on legacy BIOS). As such there will be a follow-up change to\nremove the tripleo-buildimage-overcloud-hardened-full-centos-8 from\nrunning on master and wallaby.\n\nChange-Id: I92170acf42b9c1850acc060653629cef15b116bf\nBlueprint: whole-disk-default\n'}, {'number': 4, 'created': '2021-05-06 21:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7ecd4f7af1b802fdfd58ed10482100eb5c68a208', 'message': 'Add jobs for overcloud-hardened-uefi-full-centos-8\n\nThis change duplicates the\ntripleo-buildimage-overcloud-hardened-full-centos-8* jobs to add\ntripleo-buildimage-overcloud-hardened-uefi-full-centos-8* jobs for\nmaster and wallaby.\n\nThe overcloud-hardened-full and overcloud-hardened-uefi-full images\nare identical except that overcloud-hardened-uefi-full with boot on\nboth legacy BIOS and UEFI systems (overcloud-hardened-full will only\nboot on legacy BIOS). As such there will be a follow-up change to\nremove the tripleo-buildimage-overcloud-hardened-full-centos-8 from\nrunning on master and wallaby.\n\nChange-Id: I92170acf42b9c1850acc060653629cef15b116bf\nBlueprint: whole-disk-default\n'}, {'number': 5, 'created': '2021-05-24 22:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ce429154c18a504eef6f89470318853975b9c812', 'message': 'Add jobs for overcloud-hardened-uefi-full-centos-8\n\nThis change duplicates the\ntripleo-buildimage-overcloud-hardened-full-centos-8* jobs to add\ntripleo-buildimage-overcloud-hardened-uefi-full-centos-8* jobs for\nmaster and wallaby.\n\nThe overcloud-hardened-full and overcloud-hardened-uefi-full images\nare identical except that overcloud-hardened-uefi-full with boot on\nboth legacy BIOS and UEFI systems (overcloud-hardened-full will only\nboot on legacy BIOS). As such there will be a follow-up change to\nremove the tripleo-buildimage-overcloud-hardened-full-centos-8 from\nrunning on master and wallaby.\n\nChange-Id: I92170acf42b9c1850acc060653629cef15b116bf\nBlueprint: whole-disk-default\n'}, {'number': 6, 'created': '2021-05-24 22:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/75c8a6e4bba7ac0aec901d668894bb0d79489e51', 'message': 'Add jobs for overcloud-hardened-uefi-full-centos-8\n\nThis change duplicates the\ntripleo-buildimage-overcloud-hardened-full-centos-8* jobs to add\ntripleo-buildimage-overcloud-hardened-uefi-full-centos-8* jobs for\nmaster and wallaby.\n\nThe overcloud-hardened-full and overcloud-hardened-uefi-full images\nare identical except that overcloud-hardened-uefi-full with boot on\nboth legacy BIOS and UEFI systems (overcloud-hardened-full will only\nboot on legacy BIOS). As such there will be a follow-up change to\nremove the tripleo-buildimage-overcloud-hardened-full-centos-8 from\nrunning on master and wallaby.\n\nChange-Id: I92170acf42b9c1850acc060653629cef15b116bf\nBlueprint: whole-disk-default\n'}, {'number': 7, 'created': '2021-05-31 22:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/dc74e329f8e3bbfa65c713056a947cc5757d4876', 'message': 'Add jobs for overcloud-hardened-uefi-full-centos-8\n\nThis change duplicates the\ntripleo-buildimage-overcloud-hardened-full-centos-8* jobs to add\ntripleo-buildimage-overcloud-hardened-uefi-full-centos-8* jobs for\nmaster and wallaby.\n\nThe overcloud-hardened-full and overcloud-hardened-uefi-full images\nare identical except that overcloud-hardened-uefi-full with boot on\nboth legacy BIOS and UEFI systems (overcloud-hardened-full will only\nboot on legacy BIOS). As such there will be a follow-up change to\nremove the tripleo-buildimage-overcloud-hardened-full-centos-8 from\nrunning on master and wallaby.\n\nChange-Id: I92170acf42b9c1850acc060653629cef15b116bf\nBlueprint: whole-disk-default\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/789103\n'}, {'number': 8, 'created': '2021-06-09 01:18:14.000000000', 'files': ['roles/oooci-build-images/templates/build-images.sh.j2', 'zuul.d/build-image.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/156e2bb3898ac9787235e3695159e346b1e691e7', 'message': 'Add jobs for overcloud-hardened-uefi-full-centos-8\n\nThis change duplicates the\ntripleo-buildimage-overcloud-hardened-full-centos-8* jobs to add\ntripleo-buildimage-overcloud-hardened-uefi-full-centos-8* jobs for\nmaster and wallaby.\n\nThe overcloud-hardened-full and overcloud-hardened-uefi-full images\nare identical except that overcloud-hardened-uefi-full with boot on\nboth legacy BIOS and UEFI systems (overcloud-hardened-full will only\nboot on legacy BIOS). As such there will be a follow-up change to\nremove the tripleo-buildimage-overcloud-hardened-full-centos-8 from\nrunning on master and wallaby.\n\nChange-Id: I92170acf42b9c1850acc060653629cef15b116bf\nBlueprint: whole-disk-default\nDepends-On: Id5c8ba02762ab87fab5f8121dda37b463466c050\n'}]",21,788878,156e2bb3898ac9787235e3695159e346b1e691e7,53,7,8,4571,,,0,"Add jobs for overcloud-hardened-uefi-full-centos-8

This change duplicates the
tripleo-buildimage-overcloud-hardened-full-centos-8* jobs to add
tripleo-buildimage-overcloud-hardened-uefi-full-centos-8* jobs for
master and wallaby.

The overcloud-hardened-full and overcloud-hardened-uefi-full images
are identical except that overcloud-hardened-uefi-full with boot on
both legacy BIOS and UEFI systems (overcloud-hardened-full will only
boot on legacy BIOS). As such there will be a follow-up change to
remove the tripleo-buildimage-overcloud-hardened-full-centos-8 from
running on master and wallaby.

Change-Id: I92170acf42b9c1850acc060653629cef15b116bf
Blueprint: whole-disk-default
Depends-On: Id5c8ba02762ab87fab5f8121dda37b463466c050
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/78/788878/5 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/build-image.yaml'],1,8849f85faa39d1167b2bda065e5a6adc0faf8d90,bp/whole-disk-default, - tripleo-buildimage-overcloud-hardened-uefi-full-centos-8: files: &build_images_hardened_uefi_files - ^image-yaml/.*hardened-images-uefi.* - ^elements/overcloud-secure - ^elements/overcloud-partition-uefi - ^diskimage_builder/elements/modprobe - ^diskimage_builder/elements/bootloader - tripleo-buildimage-overcloud-hardened-uefi-full-centos-8-wallaby: files: *build_images_hardened_uefi_files - tripleo-buildimage-overcloud-hardened-uefi-full-centos-8: files: *build_images_hardened_uefi_files - tripleo-buildimage-overcloud-hardened-uefi-full-centos-8-wallaby: files: *build_images_hardened_uefi_files - tripleo-buildimage-overcloud-hardened-uefi-full-centos-8: files: *build_images_hardened_uefi_files - tripleo-buildimage-overcloud-hardened-uefi-full-centos-8: files: *build_images_hardened_uefi_files - tripleo-buildimage-overcloud-hardened-uefi-full-centos-8: files: *build_images_hardened_uefi_files - tripleo-buildimage-overcloud-hardened-uefi-full-centos-8: files: *build_images_hardened_uefi_files branches: master name: tripleo-buildimage-overcloud-hardened-uefi-full-centos-8 parent: tripleo-build-images-base-centos-8 branches: master vars: tripleo_image_type: overcloud-hardened-uefi-full irrelevant-files: - ^.*\.rst$ - ^releasenotes/.*$ - job: name: tripleo-buildimage-overcloud-hardened-uefi-full-centos-8-wallaby parent: tripleo-buildimage-overcloud-hardened-uefi-full-centos-8 branches: master override-checkout: stable/wallaby vars: branch_override: stable/wallaby - job:, branches: ^(?!stable/(queens|stein)).*$,40,1
openstack%2Fdesignate-tempest-plugin~master~Ic2008ca2e2a1c407fd183088a2c77a66ddecfa28,openstack/designate-tempest-plugin,master,Ic2008ca2e2a1c407fd183088a2c77a66ddecfa28,Headers are case-sensative,ABANDONED,2021-06-13 23:51:56.000000000,2021-06-14 02:46:14.000000000,,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-13 23:51:56.000000000', 'files': ['designate_tempest_plugin/tests/api/v2/test_zones_exports.py', 'designate_tempest_plugin/tests/api/v2/test_transfer_accepts.py', 'designate_tempest_plugin/tests/api/v2/test_zones_imports.py', 'designate_tempest_plugin/tests/api/v2/test_zone_tasks.py', 'designate_tempest_plugin/tests/api/v2/test_zones.py', 'designate_tempest_plugin/tests/api/v2/test_recordset.py', 'designate_tempest_plugin/tests/api/v2/test_transfer_request.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/4ececb62a2af37f8a60e7abe57e74a76306a84a2', 'message': 'Headers are case-sensative\n\nDepends-On: https://review.opendev.org/c/openstack/designate/+/795906\nChange-Id: Ic2008ca2e2a1c407fd183088a2c77a66ddecfa28\n'}]",0,796168,4ececb62a2af37f8a60e7abe57e74a76306a84a2,5,2,1,22623,,,0,"Headers are case-sensative

Depends-On: https://review.opendev.org/c/openstack/designate/+/795906
Change-Id: Ic2008ca2e2a1c407fd183088a2c77a66ddecfa28
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/68/796168/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate_tempest_plugin/tests/api/v2/test_zones_exports.py', 'designate_tempest_plugin/tests/api/v2/test_transfer_accepts.py', 'designate_tempest_plugin/tests/api/v2/test_zones_imports.py', 'designate_tempest_plugin/tests/api/v2/test_zone_tasks.py', 'designate_tempest_plugin/tests/api/v2/test_zones.py', 'designate_tempest_plugin/tests/api/v2/test_recordset.py', 'designate_tempest_plugin/tests/api/v2/test_transfer_request.py']",7,4ececb62a2af37f8a60e7abe57e74a76306a84a2,fix_headers," '""X-Auth-Sudo-Project-ID"" HTTP header. Expected: 404') '""X-Auth-Sudo-Project-ID"" HTTP header.') headers={'X-Auth-Sudo-Project-ID': zone['project_id']})[1] 'without ""X-Auth-All-Projects"" HTTP header. ' 'and ""X-Auth-All-Projects"" HTTP header.') headers={'X-Auth-All-Projects': True})[1]['transfer_requests']]"," '""x-auth-sudo-project-id"" HTTP header. Expected: 404') '""x-auth-sudo-project-id"" HTTP header.') headers={'x-auth-sudo-project-id': zone['project_id']})[1] 'without ""x-auth-all-projects"" HTTP header. ' 'and ""x-auth-all-projects"" HTTP header.') headers={'x-auth-all-projects': True})[1]['transfer_requests']]",43,43
openstack%2Fironic~master~Ifa9da65dc8df5bf9a369d6faeab310386dfd944a,openstack/ironic,master,Ifa9da65dc8df5bf9a369d6faeab310386dfd944a,Fix ironic-status db index check,MERGED,2021-06-08 14:58:04.000000000,2021-06-14 02:12:48.000000000,2021-06-14 02:11:08.000000000,"[{'_account_id': 4571}, {'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 14:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c32ca4de74e68e3760e1e3873b89bd90dab46834', 'message': 'Fix ironic-status db index check\n\nChange-Id: Ifa9da65dc8df5bf9a369d6faeab310386dfd944a\n'}, {'number': 2, 'created': '2021-06-10 14:06:31.000000000', 'files': ['ironic/cmd/status.py', 'devstack/upgrade/upgrade.sh'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f58cbf1514035af24e37d0d5dcf9e3b5cf88a6d3', 'message': ""Fix ironic-status db index check\n\nWhen I merged the db status check in for database indexes, I missed\nthe most improtant line, which is where the object is populated with\nthe method name to be executed by the upgrade checks framework.\n\nIn the rush to try and clean-up after the impact of the Secure RBAC\nwork, I just didn't manually test the final file I uploaded into\nreview. I assumed it just worked because the job passed, but didn't\nthink about the resulting return codes which we *should* experience\non an upgrade from a prior version. Later on, I noticed that because\nof the way the status checks are invoked, I also added the code to\ndo the index check in the wrong order, so I had to restructure things\nso the method definition was known by the object on the class which\nholds the method names list.\n\nI guess I copied/pasted this over from another file I was testing\nin just didn't run the final file. :( Funny enough, the index check\nworks like a charm now.\n\nAlso updates the status check invocation check in the upgrade script\nfor grenade, *as* warnings *are* permissible and not fatal.\n\nChange-Id: Ifa9da65dc8df5bf9a369d6faeab310386dfd944a\n""}]",2,795357,f58cbf1514035af24e37d0d5dcf9e3b5cf88a6d3,19,3,2,11655,,,0,"Fix ironic-status db index check

When I merged the db status check in for database indexes, I missed
the most improtant line, which is where the object is populated with
the method name to be executed by the upgrade checks framework.

In the rush to try and clean-up after the impact of the Secure RBAC
work, I just didn't manually test the final file I uploaded into
review. I assumed it just worked because the job passed, but didn't
think about the resulting return codes which we *should* experience
on an upgrade from a prior version. Later on, I noticed that because
of the way the status checks are invoked, I also added the code to
do the index check in the wrong order, so I had to restructure things
so the method definition was known by the object on the class which
holds the method names list.

I guess I copied/pasted this over from another file I was testing
in just didn't run the final file. :( Funny enough, the index check
works like a charm now.

Also updates the status check invocation check in the upgrade script
for grenade, *as* warnings *are* permissible and not fatal.

Change-Id: Ifa9da65dc8df5bf9a369d6faeab310386dfd944a
",git fetch https://review.opendev.org/openstack/ironic refs/changes/57/795357/2 && git format-patch -1 --stdout FETCH_HEAD,['ironic/cmd/status.py'],1,c32ca4de74e68e3760e1e3873b89bd90dab46834,," # A tuple of check tuples of (<name of check>, <check function>). # The name of the check will be used in the output of this command. # The check function takes no arguments and returns an # oslo_upgradecheck.upgradecheck.Result object with the appropriate # oslo_upgradecheck.upgradecheck.Code and details set. If the # check function hits warnings or failures then those should be stored # in the returned Result's ""details"" attribute. The # summary will be rolled up at the end of the check() method. _upgrade_checks = ( (_('Object versions'), _check_obj_versions), (_('Database Index Status'), _check_db_indexes), # Victoria -> Wallaby migration (_('Policy File JSON to YAML Migration'), (common_checks.check_policy_json, {'conf': CONF})), ) "," # A tuple of check tuples of (<name of check>, <check function>). # The name of the check will be used in the output of this command. # The check function takes no arguments and returns an # oslo_upgradecheck.upgradecheck.Result object with the appropriate # oslo_upgradecheck.upgradecheck.Code and details set. If the # check function hits warnings or failures then those should be stored # in the returned Result's ""details"" attribute. The # summary will be rolled up at the end of the check() method. _upgrade_checks = ( (_('Object versions'), _check_obj_versions), # Victoria -> Wallaby migration (_('Policy File JSON to YAML Migration'), (common_checks.check_policy_json, {'conf': CONF})), ) ",16,15
openstack%2Fironic-python-agent~stable%2Ftrain~Ibf1ef4fe0764c0a6f1a39cb7eebc23ecc0ee177d,openstack/ironic-python-agent,stable/train,Ibf1ef4fe0764c0a6f1a39cb7eebc23ecc0ee177d,Utilize CSV file for EFI loader selection,MERGED,2021-06-11 14:53:42.000000000,2021-06-14 00:07:26.000000000,2021-06-14 00:05:17.000000000,"[{'_account_id': 4571}, {'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 14:53:42.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/support-bootloader-csv-file-use-c815b520c600cd98.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/b6f02de4b62b087b9555c040f971c4e20f8d0242', 'message': 'Utilize CSV file for EFI loader selection\n\nAdds support to identify and utilize a CSV file to signal which\nbootloader to utilize, and set it when the OS is running as opposed\nto when EFI is running. This works around EFI loader potentially\ncrashing some vendors hardware types when entry stored in the\nimage does not match the EFI loader record which was utilzied to\nboot.\n\nGrub2+shim specifically specifically needs the CSV file name\nand entry label to match what the system was booted with in order\nto prevent the machine from potentially crashing.\n\nSee https://storyboard.openstack.org/#!/story/2008962\nand https://bugzilla.redhat.com/show_bug.cgi?id=1966129#c37\nfor more information.\n\nBackport note: This change does include minor changes for python2\ncompatability, mainly the different pattern to mock a file open\noperation.\n\nChange-Id: Ibf1ef4fe0764c0a6f1a39cb7eebc23ecc0ee177d\nStory: 2008962\nTask: 42598\nCo-Authored-By: Bob Fournier <bfournie@redhat.com>\n(cherry picked from commit 2fab70c36ba40a345a9dd01aeb5019681e567aa5)\n(cherry picked from commit bfa97cbbc2040d56bd0db14d1e1b83bb14f1a74c)\n(cherry picked from commit 474d2a91b06942a72c59d0f25ddd65fc255a3d16)\n(cherry picked from commit 8287b96628afc38a8667b7a38e16d2a715011a36)\n'}]",0,796031,b6f02de4b62b087b9555c040f971c4e20f8d0242,8,3,1,11655,,,0,"Utilize CSV file for EFI loader selection

Adds support to identify and utilize a CSV file to signal which
bootloader to utilize, and set it when the OS is running as opposed
to when EFI is running. This works around EFI loader potentially
crashing some vendors hardware types when entry stored in the
image does not match the EFI loader record which was utilzied to
boot.

Grub2+shim specifically specifically needs the CSV file name
and entry label to match what the system was booted with in order
to prevent the machine from potentially crashing.

See https://storyboard.openstack.org/#!/story/2008962
and https://bugzilla.redhat.com/show_bug.cgi?id=1966129#c37
for more information.

Backport note: This change does include minor changes for python2
compatability, mainly the different pattern to mock a file open
operation.

Change-Id: Ibf1ef4fe0764c0a6f1a39cb7eebc23ecc0ee177d
Story: 2008962
Task: 42598
Co-Authored-By: Bob Fournier <bfournie@redhat.com>
(cherry picked from commit 2fab70c36ba40a345a9dd01aeb5019681e567aa5)
(cherry picked from commit bfa97cbbc2040d56bd0db14d1e1b83bb14f1a74c)
(cherry picked from commit 474d2a91b06942a72c59d0f25ddd65fc255a3d16)
(cherry picked from commit 8287b96628afc38a8667b7a38e16d2a715011a36)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/31/796031/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/support-bootloader-csv-file-use-c815b520c600cd98.yaml']",3,b6f02de4b62b087b9555c040f971c4e20f8d0242,,"--- features: - | Adds the capability into the agent to read and act upon bootloader CSV files which serve as authoritative indicators of what bootloader to load instead of leaning towards utilizing the default. fixes: - | Fixes nodes failing after deployment completes due to issues in the Grub2 EFI loader entry addition where a ``BOOT.CSV`` file provides the authoritative pointer to the bootloader to be used for booting the OS. The base issue with Grub2 is that it would update the UEFI bootloader NVRAM entries with whatever is present in a vendor specific ``BOOT.CSV`` or ``BOOTX64.CSV`` file. In some cases, a baremetal machine *can* crash when this occurs. More information can be found at `story 2008962 <https://storyboard.openstack.org/#!/story/2008962>`_. issues: - | If multiple bootloader CSV files are present on the EFI filesystem, the first CSV file discovered will be utilized. The Ironic team considers multiple files to be a defect in the image being deployed. This may be changed in the future. ",,143,14
openstack%2Fironic-python-agent~stable%2Fussuri~Ibf1ef4fe0764c0a6f1a39cb7eebc23ecc0ee177d,openstack/ironic-python-agent,stable/ussuri,Ibf1ef4fe0764c0a6f1a39cb7eebc23ecc0ee177d,Utilize CSV file for EFI loader selection,MERGED,2021-06-11 14:14:39.000000000,2021-06-14 00:06:32.000000000,2021-06-14 00:05:03.000000000,"[{'_account_id': 4571}, {'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 14:14:39.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/support-bootloader-csv-file-use-c815b520c600cd98.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/8287b96628afc38a8667b7a38e16d2a715011a36', 'message': 'Utilize CSV file for EFI loader selection\n\nAdds support to identify and utilize a CSV file to signal which\nbootloader to utilize, and set it when the OS is running as opposed\nto when EFI is running. This works around EFI loader potentially\ncrashing some vendors hardware types when entry stored in the\nimage does not match the EFI loader record which was utilzied to\nboot.\n\nGrub2+shim specifically specifically needs the CSV file name\nand entry label to match what the system was booted with in order\nto prevent the machine from potentially crashing.\n\nSee https://storyboard.openstack.org/#!/story/2008962\nand https://bugzilla.redhat.com/show_bug.cgi?id=1966129#c37\nfor more information.\n\nChange-Id: Ibf1ef4fe0764c0a6f1a39cb7eebc23ecc0ee177d\nStory: 2008962\nTask: 42598\nCo-Authored-By: Bob Fournier <bfournie@redhat.com>\n(cherry picked from commit 2fab70c36ba40a345a9dd01aeb5019681e567aa5)\n(cherry picked from commit bfa97cbbc2040d56bd0db14d1e1b83bb14f1a74c)\n(cherry picked from commit 474d2a91b06942a72c59d0f25ddd65fc255a3d16)\n'}]",0,796022,8287b96628afc38a8667b7a38e16d2a715011a36,8,3,1,11655,,,0,"Utilize CSV file for EFI loader selection

Adds support to identify and utilize a CSV file to signal which
bootloader to utilize, and set it when the OS is running as opposed
to when EFI is running. This works around EFI loader potentially
crashing some vendors hardware types when entry stored in the
image does not match the EFI loader record which was utilzied to
boot.

Grub2+shim specifically specifically needs the CSV file name
and entry label to match what the system was booted with in order
to prevent the machine from potentially crashing.

See https://storyboard.openstack.org/#!/story/2008962
and https://bugzilla.redhat.com/show_bug.cgi?id=1966129#c37
for more information.

Change-Id: Ibf1ef4fe0764c0a6f1a39cb7eebc23ecc0ee177d
Story: 2008962
Task: 42598
Co-Authored-By: Bob Fournier <bfournie@redhat.com>
(cherry picked from commit 2fab70c36ba40a345a9dd01aeb5019681e567aa5)
(cherry picked from commit bfa97cbbc2040d56bd0db14d1e1b83bb14f1a74c)
(cherry picked from commit 474d2a91b06942a72c59d0f25ddd65fc255a3d16)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/22/796022/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/support-bootloader-csv-file-use-c815b520c600cd98.yaml']",3,8287b96628afc38a8667b7a38e16d2a715011a36,,"--- features: - | Adds the capability into the agent to read and act upon bootloader CSV files which serve as authoritative indicators of what bootloader to load instead of leaning towards utilizing the default. fixes: - | Fixes nodes failing after deployment completes due to issues in the Grub2 EFI loader entry addition where a ``BOOT.CSV`` file provides the authoritative pointer to the bootloader to be used for booting the OS. The base issue with Grub2 is that it would update the UEFI bootloader NVRAM entries with whatever is present in a vendor specific ``BOOT.CSV`` or ``BOOTX64.CSV`` file. In some cases, a baremetal machine *can* crash when this occurs. More information can be found at `story 2008962 <https://storyboard.openstack.org/#!/story/2008962>`_. issues: - | If multiple bootloader CSV files are present on the EFI filesystem, the first CSV file discovered will be utilized. The Ironic team considers multiple files to be a defect in the image being deployed. This may be changed in the future. ",,137,14
openstack%2Fironic-python-agent~stable%2Fvictoria~Ibf1ef4fe0764c0a6f1a39cb7eebc23ecc0ee177d,openstack/ironic-python-agent,stable/victoria,Ibf1ef4fe0764c0a6f1a39cb7eebc23ecc0ee177d,Utilize CSV file for EFI loader selection,MERGED,2021-06-11 14:06:24.000000000,2021-06-14 00:06:30.000000000,2021-06-14 00:04:26.000000000,"[{'_account_id': 4571}, {'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 14:06:24.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/support-bootloader-csv-file-use-c815b520c600cd98.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/474d2a91b06942a72c59d0f25ddd65fc255a3d16', 'message': 'Utilize CSV file for EFI loader selection\n\nAdds support to identify and utilize a CSV file to signal which\nbootloader to utilize, and set it when the OS is running as opposed\nto when EFI is running. This works around EFI loader potentially\ncrashing some vendors hardware types when entry stored in the\nimage does not match the EFI loader record which was utilzied to\nboot.\n\nGrub2+shim specifically specifically needs the CSV file name\nand entry label to match what the system was booted with in order\nto prevent the machine from potentially crashing.\n\nSee https://storyboard.openstack.org/#!/story/2008962\nand https://bugzilla.redhat.com/show_bug.cgi?id=1966129#c37\nfor more information.\n\nChange-Id: Ibf1ef4fe0764c0a6f1a39cb7eebc23ecc0ee177d\nStory: 2008962\nTask: 42598\nCo-Authored-By: Bob Fournier <bfournie@redhat.com>\n(cherry picked from commit 2fab70c36ba40a345a9dd01aeb5019681e567aa5)\n(cherry picked from commit bfa97cbbc2040d56bd0db14d1e1b83bb14f1a74c)\n'}]",0,796017,474d2a91b06942a72c59d0f25ddd65fc255a3d16,12,3,1,11655,,,0,"Utilize CSV file for EFI loader selection

Adds support to identify and utilize a CSV file to signal which
bootloader to utilize, and set it when the OS is running as opposed
to when EFI is running. This works around EFI loader potentially
crashing some vendors hardware types when entry stored in the
image does not match the EFI loader record which was utilzied to
boot.

Grub2+shim specifically specifically needs the CSV file name
and entry label to match what the system was booted with in order
to prevent the machine from potentially crashing.

See https://storyboard.openstack.org/#!/story/2008962
and https://bugzilla.redhat.com/show_bug.cgi?id=1966129#c37
for more information.

Change-Id: Ibf1ef4fe0764c0a6f1a39cb7eebc23ecc0ee177d
Story: 2008962
Task: 42598
Co-Authored-By: Bob Fournier <bfournie@redhat.com>
(cherry picked from commit 2fab70c36ba40a345a9dd01aeb5019681e567aa5)
(cherry picked from commit bfa97cbbc2040d56bd0db14d1e1b83bb14f1a74c)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/17/796017/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/support-bootloader-csv-file-use-c815b520c600cd98.yaml']",3,474d2a91b06942a72c59d0f25ddd65fc255a3d16,,"--- features: - | Adds the capability into the agent to read and act upon bootloader CSV files which serve as authoritative indicators of what bootloader to load instead of leaning towards utilizing the default. fixes: - | Fixes nodes failing after deployment completes due to issues in the Grub2 EFI loader entry addition where a ``BOOT.CSV`` file provides the authoritative pointer to the bootloader to be used for booting the OS. The base issue with Grub2 is that it would update the UEFI bootloader NVRAM entries with whatever is present in a vendor specific ``BOOT.CSV`` or ``BOOTX64.CSV`` file. In some cases, a baremetal machine *can* crash when this occurs. More information can be found at `story 2008962 <https://storyboard.openstack.org/#!/story/2008962>`_. issues: - | If multiple bootloader CSV files are present on the EFI filesystem, the first CSV file discovered will be utilized. The Ironic team considers multiple files to be a defect in the image being deployed. This may be changed in the future. ",,137,14
openstack%2Fironic-python-agent~stable%2Ftrain~Ibe02786609aa0de65115897d8f4a9b4f36c8aed2,openstack/ironic-python-agent,stable/train,Ibe02786609aa0de65115897d8f4a9b4f36c8aed2,Make _get_efi_bootloaders return relative paths,MERGED,2021-06-11 14:53:42.000000000,2021-06-14 00:06:29.000000000,2021-06-14 00:05:10.000000000,"[{'_account_id': 4571}, {'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 14:53:42.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/413dc5f5009979b4c4fdedf36c258dbf2971eb7e', 'message': 'Make _get_efi_bootloaders return relative paths\n\nTo make this function useful for purposes other than efibootmgr\nentries, this change moves the path manipulation to _run_efibootmgr.\n\nThis change also adds boot*.efi entries to BOOTLOADERS_EFI so that it\nincludes every entry in the UEFI Spec 2.9[1] Table 3-2 UEFI Image\nTypes.\n\n[1] https://uefi.org/sites/default/files/resources/UEFI_Spec_2_9_2021_03_18.pdf\nStory: 2008923\nTask: 42521\n\nChange-Id: Ibe02786609aa0de65115897d8f4a9b4f36c8aed2\n(cherry picked from commit 10d18c41136cc645ee99d41acfb6031b9158e1fb)\n(cherry picked from commit d61b7bd843fa821ce383b15dcb2085789972c91f)\n(cherry picked from commit 350a67e203f678d66e3ea1b8acc436394fc42f1a)\n(cherry picked from commit a4beb1b97435f2d54823b0ef8682140c7b0ac8fb)\n'}]",0,796030,413dc5f5009979b4c4fdedf36c258dbf2971eb7e,8,3,1,11655,,,0,"Make _get_efi_bootloaders return relative paths

To make this function useful for purposes other than efibootmgr
entries, this change moves the path manipulation to _run_efibootmgr.

This change also adds boot*.efi entries to BOOTLOADERS_EFI so that it
includes every entry in the UEFI Spec 2.9[1] Table 3-2 UEFI Image
Types.

[1] https://uefi.org/sites/default/files/resources/UEFI_Spec_2_9_2021_03_18.pdf
Story: 2008923
Task: 42521

Change-Id: Ibe02786609aa0de65115897d8f4a9b4f36c8aed2
(cherry picked from commit 10d18c41136cc645ee99d41acfb6031b9158e1fb)
(cherry picked from commit d61b7bd843fa821ce383b15dcb2085789972c91f)
(cherry picked from commit 350a67e203f678d66e3ea1b8acc436394fc42f1a)
(cherry picked from commit a4beb1b97435f2d54823b0ef8682140c7b0ac8fb)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/30/796030/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py']",2,413dc5f5009979b4c4fdedf36c258dbf2971eb7e,,"BOOTLOADERS_EFI = [ 'bootia32.efi', 'bootx64.efi', 'bootia64.efi', 'bootarm.efi', 'bootaa64.efi', 'bootriscv32.efi', 'bootriscv64.efi', 'bootriscv128.efi', 'grubaa64.efi', 'winload.efi' ] :return: a list of relative paths to valid efi bootloaders v_bl = efi_f.split(location)[-1][1:] for v_bl in valid_efi_bootloaders: v_efi_bl_path = '\\' + v_bl.replace('/', '\\')","BOOTLOADERS_EFI = ['bootx64.efi', 'grubaa64.efi', 'winload.efi'] :return: a list of valid efi bootloaders v_bl = efi_f.split('/boot/efi')[-1].replace('/', '\\') for v_efi_bl_path in valid_efi_bootloaders:",27,16
openstack%2Fironic-python-agent~stable%2Fussuri~Ibe02786609aa0de65115897d8f4a9b4f36c8aed2,openstack/ironic-python-agent,stable/ussuri,Ibe02786609aa0de65115897d8f4a9b4f36c8aed2,Make _get_efi_bootloaders return relative paths,MERGED,2021-06-11 14:14:39.000000000,2021-06-14 00:05:38.000000000,2021-06-14 00:04:34.000000000,"[{'_account_id': 4571}, {'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 14:14:39.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a4beb1b97435f2d54823b0ef8682140c7b0ac8fb', 'message': 'Make _get_efi_bootloaders return relative paths\n\nTo make this function useful for purposes other than efibootmgr\nentries, this change moves the path manipulation to _run_efibootmgr.\n\nThis change also adds boot*.efi entries to BOOTLOADERS_EFI so that it\nincludes every entry in the UEFI Spec 2.9[1] Table 3-2 UEFI Image\nTypes.\n\n[1] https://uefi.org/sites/default/files/resources/UEFI_Spec_2_9_2021_03_18.pdf\nStory: 2008923\nTask: 42521\n\nChange-Id: Ibe02786609aa0de65115897d8f4a9b4f36c8aed2\n(cherry picked from commit 10d18c41136cc645ee99d41acfb6031b9158e1fb)\n(cherry picked from commit d61b7bd843fa821ce383b15dcb2085789972c91f)\n(cherry picked from commit 350a67e203f678d66e3ea1b8acc436394fc42f1a)\n'}]",0,796021,a4beb1b97435f2d54823b0ef8682140c7b0ac8fb,8,3,1,11655,,,0,"Make _get_efi_bootloaders return relative paths

To make this function useful for purposes other than efibootmgr
entries, this change moves the path manipulation to _run_efibootmgr.

This change also adds boot*.efi entries to BOOTLOADERS_EFI so that it
includes every entry in the UEFI Spec 2.9[1] Table 3-2 UEFI Image
Types.

[1] https://uefi.org/sites/default/files/resources/UEFI_Spec_2_9_2021_03_18.pdf
Story: 2008923
Task: 42521

Change-Id: Ibe02786609aa0de65115897d8f4a9b4f36c8aed2
(cherry picked from commit 10d18c41136cc645ee99d41acfb6031b9158e1fb)
(cherry picked from commit d61b7bd843fa821ce383b15dcb2085789972c91f)
(cherry picked from commit 350a67e203f678d66e3ea1b8acc436394fc42f1a)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/21/796021/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py']",2,a4beb1b97435f2d54823b0ef8682140c7b0ac8fb,,"BOOTLOADERS_EFI = [ 'bootia32.efi', 'bootx64.efi', 'bootia64.efi', 'bootarm.efi', 'bootaa64.efi', 'bootriscv32.efi', 'bootriscv64.efi', 'bootriscv128.efi', 'grubaa64.efi', 'winload.efi' ] :return: a list of relative paths to valid efi bootloaders v_bl = efi_f.split(location)[-1][1:] for v_bl in valid_efi_bootloaders: v_efi_bl_path = '\\' + v_bl.replace('/', '\\')","BOOTLOADERS_EFI = ['bootx64.efi', 'grubaa64.efi', 'winload.efi'] :return: a list of valid efi bootloaders v_bl = efi_f.split('/boot/efi')[-1].replace('/', '\\') for v_efi_bl_path in valid_efi_bootloaders:",27,16
openstack%2Fironic-python-agent~stable%2Fvictoria~Ibe02786609aa0de65115897d8f4a9b4f36c8aed2,openstack/ironic-python-agent,stable/victoria,Ibe02786609aa0de65115897d8f4a9b4f36c8aed2,Make _get_efi_bootloaders return relative paths,MERGED,2021-06-11 14:06:24.000000000,2021-06-14 00:05:36.000000000,2021-06-14 00:04:19.000000000,"[{'_account_id': 4571}, {'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 14:06:24.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/350a67e203f678d66e3ea1b8acc436394fc42f1a', 'message': 'Make _get_efi_bootloaders return relative paths\n\nTo make this function useful for purposes other than efibootmgr\nentries, this change moves the path manipulation to _run_efibootmgr.\n\nThis change also adds boot*.efi entries to BOOTLOADERS_EFI so that it\nincludes every entry in the UEFI Spec 2.9[1] Table 3-2 UEFI Image\nTypes.\n\n[1] https://uefi.org/sites/default/files/resources/UEFI_Spec_2_9_2021_03_18.pdf\nStory: 2008923\nTask: 42521\n\nChange-Id: Ibe02786609aa0de65115897d8f4a9b4f36c8aed2\n(cherry picked from commit 10d18c41136cc645ee99d41acfb6031b9158e1fb)\n(cherry picked from commit d61b7bd843fa821ce383b15dcb2085789972c91f)\n'}]",0,796016,350a67e203f678d66e3ea1b8acc436394fc42f1a,8,3,1,11655,,,0,"Make _get_efi_bootloaders return relative paths

To make this function useful for purposes other than efibootmgr
entries, this change moves the path manipulation to _run_efibootmgr.

This change also adds boot*.efi entries to BOOTLOADERS_EFI so that it
includes every entry in the UEFI Spec 2.9[1] Table 3-2 UEFI Image
Types.

[1] https://uefi.org/sites/default/files/resources/UEFI_Spec_2_9_2021_03_18.pdf
Story: 2008923
Task: 42521

Change-Id: Ibe02786609aa0de65115897d8f4a9b4f36c8aed2
(cherry picked from commit 10d18c41136cc645ee99d41acfb6031b9158e1fb)
(cherry picked from commit d61b7bd843fa821ce383b15dcb2085789972c91f)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/16/796016/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py']",2,350a67e203f678d66e3ea1b8acc436394fc42f1a,,"BOOTLOADERS_EFI = [ 'bootia32.efi', 'bootx64.efi', 'bootia64.efi', 'bootarm.efi', 'bootaa64.efi', 'bootriscv32.efi', 'bootriscv64.efi', 'bootriscv128.efi', 'grubaa64.efi', 'winload.efi' ] :return: a list of relative paths to valid efi bootloaders v_bl = efi_f.split(location)[-1][1:] for v_bl in valid_efi_bootloaders: v_efi_bl_path = '\\' + v_bl.replace('/', '\\')","BOOTLOADERS_EFI = ['bootx64.efi', 'grubaa64.efi', 'winload.efi'] :return: a list of valid efi bootloaders v_bl = efi_f.split('/boot/efi')[-1].replace('/', '\\') for v_efi_bl_path in valid_efi_bootloaders:",27,16
openstack%2Fovn-octavia-provider~master~If991ced3b364126e0ab9cb9fcc6b870946ebc5e7,openstack/ovn-octavia-provider,master,If991ced3b364126e0ab9cb9fcc6b870946ebc5e7,wip,ABANDONED,2021-06-11 22:47:41.000000000,2021-06-13 23:51:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-11 22:47:41.000000000', 'files': ['ovn_octavia_provider/helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/d2395b486206461493f8467137097568d31d65fb', 'message': 'wip\n\nChange-Id: If991ced3b364126e0ab9cb9fcc6b870946ebc5e7\n'}]",0,796094,d2395b486206461493f8467137097568d31d65fb,3,1,1,11952,,,0,"wip

Change-Id: If991ced3b364126e0ab9cb9fcc6b870946ebc5e7
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/94/796094/1 && git format-patch -1 --stdout FETCH_HEAD,['ovn_octavia_provider/helper.py'],1,d2395b486206461493f8467137097568d31d65fb,," def _get_subnet(self, subnet_id): neutron_client = clients.get_neutron_client() try: return neutron_client.show_subnet(subnet_id) except n_exc.NotFound: pass except Exception as e: if 'subnet not found' not in e.message: raise e LOG.warning('Subnet %s not found while trying to ' 'fetch its data.', subnet_id) return None subnet = self._get_subnet(subnet_id) if subnet: else: subnet = self._get_subnet(sid) subnet_id = member[constants.SUBNET_ID] ovn_lb, subnet_id=subnet_id, associate=True)) # Make sure that all logical switches related to logical router # are associated with the load balancer. This is needed to handle # potential race that happens when lrp and lb are created at the # same time. subnet = self._get_subnet(subnet_id) if subnet: ls_name = utils.ovn_name(subnet.network_id) ovn_ls = self.ovn_nbdb_api.ls_get(ls_name).execute( check_error=True) if ovn_ls: ovn_lr = self._find_lr_of_ls(ovn_ls) if ovn_lr: for net in self._find_ls_for_lr(ovn_lr): commands.append(self.ovn_nbdb_api.ls_lb_add( net, ovn_lb.uuid, may_exist=True)) subnet = self._get_subnet(info['subnet_id'])"," neutron_client = clients.get_neutron_client() try: subnet = neutron_client.show_subnet(subnet_id) except n_exc.NotFound: LOG.warning('Subnet %s not found while trying to ' 'fetch its data.', subnet_id) neutron_client = clients.get_neutron_client() subnet = neutron_client.show_subnet(sid) ovn_lb, subnet_id=member[constants.SUBNET_ID], associate=True)) subnet = neutron_client.show_subnet(info['subnet_id'])",37,10
openstack%2Fdesignate~master~Ic8c9c7bbd2ad21e5b7ee111bc0141146b88d0eda,openstack/designate,master,Ic8c9c7bbd2ad21e5b7ee111bc0141146b88d0eda,[DNM] CI stability test,ABANDONED,2021-06-03 07:26:26.000000000,2021-06-13 23:40:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-03 07:26:26.000000000', 'files': ['TEST'], 'web_link': 'https://opendev.org/openstack/designate/commit/82b437e55c2bf170a170af5cd88e67969a47ec18', 'message': '[DNM] CI stability test\n\nChange-Id: Ic8c9c7bbd2ad21e5b7ee111bc0141146b88d0eda\n'}]",0,794412,82b437e55c2bf170a170af5cd88e67969a47ec18,5,1,1,22623,,,0,"[DNM] CI stability test

Change-Id: Ic8c9c7bbd2ad21e5b7ee111bc0141146b88d0eda
",git fetch https://review.opendev.org/openstack/designate refs/changes/12/794412/1 && git format-patch -1 --stdout FETCH_HEAD,['TEST'],1,82b437e55c2bf170a170af5cd88e67969a47ec18,ci_stability_test,,,0,0
openstack%2Fmonasca-agent~stable%2Fussuri~I58882af66979f324cb372696febda65a33eb81b6,openstack/monasca-agent,stable/ussuri,I58882af66979f324cb372696febda65a33eb81b6,Fix Monasca-Setup Keystone detection,MERGED,2021-06-13 18:26:02.000000000,2021-06-13 19:28:45.000000000,2021-06-13 19:28:45.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-06-13 18:26:02.000000000', 'files': ['monasca_setup/detection/plugins/keystone.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/82839d97b2a00a87dbcdfe98b109c0de3b602794', 'message': 'Fix Monasca-Setup Keystone detection\n\n- In RHOSP16.1 (TripleO based) the Keystone process name is\n`keystone`. In previous RHOSP10 the process name was\n`keystone-admin` and `keystone-main`.\n\nChange-Id: I58882af66979f324cb372696febda65a33eb81b6\n(cherry picked from commit ead3e8d90ba8121b03c6ef26364d97aad8ceb56b)\n'}]",0,796212,82839d97b2a00a87dbcdfe98b109c0de3b602794,6,2,1,28062,,,0,"Fix Monasca-Setup Keystone detection

- In RHOSP16.1 (TripleO based) the Keystone process name is
`keystone`. In previous RHOSP10 the process name was
`keystone-admin` and `keystone-main`.

Change-Id: I58882af66979f324cb372696febda65a33eb81b6
(cherry picked from commit ead3e8d90ba8121b03c6ef26364d97aad8ceb56b)
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/12/796212/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_setup/detection/plugins/keystone.py'],1,82839d97b2a00a87dbcdfe98b109c0de3b602794,,"# Copyright 2021 FUJITSU LIMITED # 'keystone-all', 'keystone'],"," 'keystone-all'],",4,1
openstack%2Fmonasca-agent~stable%2Fvictoria~I58882af66979f324cb372696febda65a33eb81b6,openstack/monasca-agent,stable/victoria,I58882af66979f324cb372696febda65a33eb81b6,Fix Monasca-Setup Keystone detection,MERGED,2021-06-13 18:25:36.000000000,2021-06-13 19:28:17.000000000,2021-06-13 19:28:17.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-06-13 18:25:36.000000000', 'files': ['monasca_setup/detection/plugins/keystone.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/91db19f328fdba583a185c4d54ee4061797b9477', 'message': 'Fix Monasca-Setup Keystone detection\n\n- In RHOSP16.1 (TripleO based) the Keystone process name is\n`keystone`. In previous RHOSP10 the process name was\n`keystone-admin` and `keystone-main`.\n\nChange-Id: I58882af66979f324cb372696febda65a33eb81b6\n(cherry picked from commit ead3e8d90ba8121b03c6ef26364d97aad8ceb56b)\n'}]",0,796211,91db19f328fdba583a185c4d54ee4061797b9477,6,2,1,28062,,,0,"Fix Monasca-Setup Keystone detection

- In RHOSP16.1 (TripleO based) the Keystone process name is
`keystone`. In previous RHOSP10 the process name was
`keystone-admin` and `keystone-main`.

Change-Id: I58882af66979f324cb372696febda65a33eb81b6
(cherry picked from commit ead3e8d90ba8121b03c6ef26364d97aad8ceb56b)
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/11/796211/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_setup/detection/plugins/keystone.py'],1,91db19f328fdba583a185c4d54ee4061797b9477,,"# Copyright 2021 FUJITSU LIMITED # 'keystone-all', 'keystone'],"," 'keystone-all'],",4,1
openstack%2Fmonasca-agent~stable%2Fwallaby~I58882af66979f324cb372696febda65a33eb81b6,openstack/monasca-agent,stable/wallaby,I58882af66979f324cb372696febda65a33eb81b6,Fix Monasca-Setup Keystone detection,MERGED,2021-06-13 18:24:10.000000000,2021-06-13 19:28:14.000000000,2021-06-13 19:28:14.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-06-13 18:24:10.000000000', 'files': ['monasca_setup/detection/plugins/keystone.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/9f415449f1b2e99ed2903dc2815314cc0683543d', 'message': 'Fix Monasca-Setup Keystone detection\n\n- In RHOSP16.1 (TripleO based) the Keystone process name is\n`keystone`. In previous RHOSP10 the process name was\n`keystone-admin` and `keystone-main`.\n\nChange-Id: I58882af66979f324cb372696febda65a33eb81b6\n(cherry picked from commit ead3e8d90ba8121b03c6ef26364d97aad8ceb56b)\n'}]",0,796210,9f415449f1b2e99ed2903dc2815314cc0683543d,6,2,1,28062,,,0,"Fix Monasca-Setup Keystone detection

- In RHOSP16.1 (TripleO based) the Keystone process name is
`keystone`. In previous RHOSP10 the process name was
`keystone-admin` and `keystone-main`.

Change-Id: I58882af66979f324cb372696febda65a33eb81b6
(cherry picked from commit ead3e8d90ba8121b03c6ef26364d97aad8ceb56b)
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/10/796210/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_setup/detection/plugins/keystone.py'],1,9f415449f1b2e99ed2903dc2815314cc0683543d,,"# Copyright 2021 FUJITSU LIMITED # 'keystone-all', 'keystone'],"," 'keystone-all'],",4,1
openstack%2Fmonasca-agent~master~I58882af66979f324cb372696febda65a33eb81b6,openstack/monasca-agent,master,I58882af66979f324cb372696febda65a33eb81b6,Fix Monasca-Setup Keystone detection,MERGED,2021-06-13 16:56:10.000000000,2021-06-13 18:23:18.000000000,2021-06-13 18:23:18.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-06-13 16:56:10.000000000', 'files': ['monasca_setup/detection/plugins/keystone.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/ead3e8d90ba8121b03c6ef26364d97aad8ceb56b', 'message': 'Fix Monasca-Setup Keystone detection\n\n- In RHOSP16.1 (TripleO based) the Keystone process name is\n`keystone`. In previous RHOSP10 the process name was\n`keystone-admin` and `keystone-main`.\n\nChange-Id: I58882af66979f324cb372696febda65a33eb81b6\n'}]",0,796165,ead3e8d90ba8121b03c6ef26364d97aad8ceb56b,6,2,1,28062,,,0,"Fix Monasca-Setup Keystone detection

- In RHOSP16.1 (TripleO based) the Keystone process name is
`keystone`. In previous RHOSP10 the process name was
`keystone-admin` and `keystone-main`.

Change-Id: I58882af66979f324cb372696febda65a33eb81b6
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/65/796165/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_setup/detection/plugins/keystone.py'],1,ead3e8d90ba8121b03c6ef26364d97aad8ceb56b,,"# Copyright 2021 FUJITSU LIMITED # 'keystone-all', 'keystone'],"," 'keystone-all'],",4,1
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I2cd08a7b195620e6c93084a6a689bad1d6ace179,openstack/tripleo-heat-templates,stable/ussuri,I2cd08a7b195620e6c93084a6a689bad1d6ace179,Fix broken restart of ovndb_server during minor update,MERGED,2021-06-13 06:20:38.000000000,2021-06-13 16:29:34.000000000,2021-06-13 16:29:34.000000000,"[{'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-13 06:20:38.000000000', 'files': ['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a56ab848c53f2f9c51bd13511f3b5d48094a8a34', 'message': 'Fix broken restart of ovndb_server during minor update\n\nSince [1], the ovn HA resource is mistakenly called\novndbs_servers instead of ovndb_servers, which breaks\nits restart during a minor update. Fix the typo.\n\n[1] I918b6c16db6ed70d9ad612aecd7af7d725520f7b\n\nChange-Id: I2cd08a7b195620e6c93084a6a689bad1d6ace179\nCloses-Bug: #1931502\n(cherry picked from commit 6837633ea4075c1e74281ade7005cb8325b51f5a)\n(cherry picked from commit 1ff7e9be9d9c763acc7cd5ae11b2c7580daa737f)\n(cherry picked from commit 6c5011056ee5ae21e96f0435bf9e24f59922f515)\n'}]",0,796206,a56ab848c53f2f9c51bd13511f3b5d48094a8a34,8,3,1,20172,,,0,"Fix broken restart of ovndb_server during minor update

Since [1], the ovn HA resource is mistakenly called
ovndbs_servers instead of ovndb_servers, which breaks
its restart during a minor update. Fix the typo.

[1] I918b6c16db6ed70d9ad612aecd7af7d725520f7b

Change-Id: I2cd08a7b195620e6c93084a6a689bad1d6ace179
Closes-Bug: #1931502
(cherry picked from commit 6837633ea4075c1e74281ade7005cb8325b51f5a)
(cherry picked from commit 1ff7e9be9d9c763acc7cd5ae11b2c7580daa737f)
(cherry picked from commit 6c5011056ee5ae21e96f0435bf9e24f59922f515)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/06/796206/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'],1,a56ab848c53f2f9c51bd13511f3b5d48094a8a34,bug/1931502-stable/wallaby-stable/victoria-stable/ussuri, tripleo_ha_wrapper_resource_name: ovndb_servers, tripleo_ha_wrapper_resource_name: ovndbs_servers,1,1
openstack%2Fpuppet-openstacklib~stable%2Fussuri~Id2e226593fa9005e8c051bb714e4c341114f640f,openstack/puppet-openstacklib,stable/ussuri,Id2e226593fa9005e8c051bb714e4c341114f640f,Set fixture paths for unit tests,MERGED,2021-06-13 02:51:04.000000000,2021-06-13 14:11:25.000000000,2021-06-13 14:11:25.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-13 02:51:04.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/d98f2050f177c9fcf4420ae19d868d86b6fda8fc', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: Id2e226593fa9005e8c051bb714e4c341114f640f\n(cherry picked from commit 55188f078ae7f7d5944cf6c993727b0201e71eba)\n'}]",0,796194,d98f2050f177c9fcf4420ae19d868d86b6fda8fc,8,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: Id2e226593fa9005e8c051bb714e4c341114f640f
(cherry picked from commit 55188f078ae7f7d5944cf6c993727b0201e71eba)
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/94/796194/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,d98f2050f177c9fcf4420ae19d868d86b6fda8fc,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-placement~stable%2Fussuri~Id3cc02b53f1cfcee025164202d4c535195905d43,openstack/puppet-placement,stable/ussuri,Id3cc02b53f1cfcee025164202d4c535195905d43,Set fixture paths for unit tests,MERGED,2021-06-13 02:47:55.000000000,2021-06-13 13:46:52.000000000,2021-06-13 13:46:52.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-13 02:47:55.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/adcea017330f1be03ad1481c01da9412e8b0212b', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: Id3cc02b53f1cfcee025164202d4c535195905d43\n(cherry picked from commit 9727e686769dbd98d14f0d19bf5d79eed54f95f1)\n'}]",0,796173,adcea017330f1be03ad1481c01da9412e8b0212b,8,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: Id3cc02b53f1cfcee025164202d4c535195905d43
(cherry picked from commit 9727e686769dbd98d14f0d19bf5d79eed54f95f1)
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/73/796173/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,adcea017330f1be03ad1481c01da9412e8b0212b,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) RSpec.configure do |c| c.alias_it_should_behave_like_to :it_configures, 'configures' c.alias_it_should_behave_like_to :it_raises, 'raises' c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests') end ",,10,0
openstack%2Fpuppet-tempest~stable%2Fussuri~If8216b4759dbe210ff174a9f4e240cd61c7365cb,openstack/puppet-tempest,stable/ussuri,If8216b4759dbe210ff174a9f4e240cd61c7365cb,Set fixture paths for unit tests,MERGED,2021-06-13 02:51:06.000000000,2021-06-13 13:36:46.000000000,2021-06-13 13:36:46.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-13 02:51:06.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/be57c1a1b43b9df4fe891df7a4a35998ebdb53ae', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: If8216b4759dbe210ff174a9f4e240cd61c7365cb\n(cherry picked from commit 59731cdc96d1563df9074440fc2d689098f1a34d)\n'}]",0,796195,be57c1a1b43b9df4fe891df7a4a35998ebdb53ae,8,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: If8216b4759dbe210ff174a9f4e240cd61c7365cb
(cherry picked from commit 59731cdc96d1563df9074440fc2d689098f1a34d)
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/95/796195/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,be57c1a1b43b9df4fe891df7a4a35998ebdb53ae,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-murano~stable%2Fussuri~Ia613fcf1baea5d491c3eb10fd8b76fbd143b24ca,openstack/puppet-murano,stable/ussuri,Ia613fcf1baea5d491c3eb10fd8b76fbd143b24ca,Set fixture paths for unit tests,MERGED,2021-06-13 02:48:26.000000000,2021-06-13 13:34:34.000000000,2021-06-13 13:34:34.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-13 02:48:26.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/b2145f9b5e29e37696198eb648436311158d6f40', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: Ia613fcf1baea5d491c3eb10fd8b76fbd143b24ca\n(cherry picked from commit 50bdff40f68db6390a529c406dc1832cb801f351)\n'}]",0,796182,b2145f9b5e29e37696198eb648436311158d6f40,8,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: Ia613fcf1baea5d491c3eb10fd8b76fbd143b24ca
(cherry picked from commit 50bdff40f68db6390a529c406dc1832cb801f351)
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/82/796182/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,b2145f9b5e29e37696198eb648436311158d6f40,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-vswitch~stable%2Fussuri~I549c03eebd718994f39831d24387a928bc109c08,openstack/puppet-vswitch,stable/ussuri,I549c03eebd718994f39831d24387a928bc109c08,Set fixture paths for unit tests,MERGED,2021-06-13 02:47:55.000000000,2021-06-13 13:34:29.000000000,2021-06-13 13:34:29.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-13 02:47:55.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/2938c82ad0439a8e58e3fc482732ff29c0ce78ec', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I549c03eebd718994f39831d24387a928bc109c08\n(cherry picked from commit c6d27c16f956cfec075d478a4c32f989f58ca819)\n'}]",0,796086,2938c82ad0439a8e58e3fc482732ff29c0ce78ec,8,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I549c03eebd718994f39831d24387a928bc109c08
(cherry picked from commit c6d27c16f956cfec075d478a4c32f989f58ca819)
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/86/796086/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,2938c82ad0439a8e58e3fc482732ff29c0ce78ec,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-ovn~stable%2Fussuri~Ic9f46609ad44c4c99fcbaccea8b944c61910f7f9,openstack/puppet-ovn,stable/ussuri,Ic9f46609ad44c4c99fcbaccea8b944c61910f7f9,Set fixture paths for unit tests,MERGED,2021-06-13 02:51:00.000000000,2021-06-13 13:34:20.000000000,2021-06-13 13:34:20.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-13 02:51:00.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/b11f4807a982a8d35426bfeef4f4e566a691ec45', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: Ic9f46609ad44c4c99fcbaccea8b944c61910f7f9\n(cherry picked from commit 88fad1f1573ed29153ccbaa5b186132117800b3b)\n'}]",0,796193,b11f4807a982a8d35426bfeef4f4e566a691ec45,8,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: Ic9f46609ad44c4c99fcbaccea8b944c61910f7f9
(cherry picked from commit 88fad1f1573ed29153ccbaa5b186132117800b3b)
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/93/796193/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,b11f4807a982a8d35426bfeef4f4e566a691ec45,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-monasca~stable%2Fussuri~Ic6af657059b55368897b04e2f537bb0b60298b31,openstack/puppet-monasca,stable/ussuri,Ic6af657059b55368897b04e2f537bb0b60298b31,Set fixture paths for unit tests,MERGED,2021-06-13 02:43:56.000000000,2021-06-13 13:33:32.000000000,2021-06-13 13:33:32.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-13 02:43:56.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-monasca/commit/c62681b5e156d3c3e64892ff2a232216df8cd344', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: Ic6af657059b55368897b04e2f537bb0b60298b31\n(cherry picked from commit a17e3363dda9ad6789f0e5af5ac5fd14a9ac4ca7)\n'}]",0,796085,c62681b5e156d3c3e64892ff2a232216df8cd344,12,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: Ic6af657059b55368897b04e2f537bb0b60298b31
(cherry picked from commit a17e3363dda9ad6789f0e5af5ac5fd14a9ac4ca7)
",git fetch https://review.opendev.org/openstack/puppet-monasca refs/changes/85/796085/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,c62681b5e156d3c3e64892ff2a232216df8cd344,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-rally~stable%2Fussuri~Iefb7707708ed8b89f2e53296077fb3a9712c62cc,openstack/puppet-rally,stable/ussuri,Iefb7707708ed8b89f2e53296077fb3a9712c62cc,Set fixture paths for unit tests,MERGED,2021-06-13 02:43:56.000000000,2021-06-13 13:32:14.000000000,2021-06-13 13:32:14.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-13 02:43:56.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-rally/commit/09265318e4afb2b72cf6134c92706204b6c1c635', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: Iefb7707708ed8b89f2e53296077fb3a9712c62cc\n(cherry picked from commit 9efde790ad7856892ca3bfd93bba69a71cd93c8c)\n'}]",0,796081,09265318e4afb2b72cf6134c92706204b6c1c635,8,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: Iefb7707708ed8b89f2e53296077fb3a9712c62cc
(cherry picked from commit 9efde790ad7856892ca3bfd93bba69a71cd93c8c)
",git fetch https://review.opendev.org/openstack/puppet-rally refs/changes/81/796081/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,09265318e4afb2b72cf6134c92706204b6c1c635,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-openstack_extras~stable%2Fussuri~I553db674fe84522f9d04714925ceec3655b81292,openstack/puppet-openstack_extras,stable/ussuri,I553db674fe84522f9d04714925ceec3655b81292,Set fixture paths for unit tests,MERGED,2021-06-13 02:48:24.000000000,2021-06-13 13:28:25.000000000,2021-06-13 13:28:25.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-13 02:48:24.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/ffe2d9fba9ca401fccd6555feeab492a2e5ba2d9', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I553db674fe84522f9d04714925ceec3655b81292\n(cherry picked from commit c8e5cfb7b325772a02eda220aa77950046d5c11f)\n'}]",0,796178,ffe2d9fba9ca401fccd6555feeab492a2e5ba2d9,8,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I553db674fe84522f9d04714925ceec3655b81292
(cherry picked from commit c8e5cfb7b325772a02eda220aa77950046d5c11f)
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/78/796178/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,ffe2d9fba9ca401fccd6555feeab492a2e5ba2d9,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-senlin~stable%2Fussuri~I971e9c0f3b99c0f8f46807ba38026d78322383aa,openstack/puppet-senlin,stable/ussuri,I971e9c0f3b99c0f8f46807ba38026d78322383aa,Set fixture paths for unit tests,MERGED,2021-06-13 02:43:56.000000000,2021-06-13 13:28:07.000000000,2021-06-13 13:28:07.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-13 02:43:56.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/dd0aa0ea70d1c68261696f8b6ed6b9d7e041f92e', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I971e9c0f3b99c0f8f46807ba38026d78322383aa\n(cherry picked from commit e4734e5ddee66bfc47c7d1b271f6c19b3ec75421)\n'}]",0,796083,dd0aa0ea70d1c68261696f8b6ed6b9d7e041f92e,12,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I971e9c0f3b99c0f8f46807ba38026d78322383aa
(cherry picked from commit e4734e5ddee66bfc47c7d1b271f6c19b3ec75421)
",git fetch https://review.opendev.org/openstack/puppet-senlin refs/changes/83/796083/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,dd0aa0ea70d1c68261696f8b6ed6b9d7e041f92e,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-qdr~stable%2Fussuri~Ib8754c6a53c4fbd984583107c418fbd29c924fc3,openstack/puppet-qdr,stable/ussuri,Ib8754c6a53c4fbd984583107c418fbd29c924fc3,Set fixture paths for unit tests,MERGED,2021-06-13 02:43:56.000000000,2021-06-13 13:25:26.000000000,2021-06-13 13:25:26.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-13 02:43:56.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-qdr/commit/ed57107bc635f428be6d23b89400187fb6ff9e58', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: Ib8754c6a53c4fbd984583107c418fbd29c924fc3\n(cherry picked from commit fc36b7462980d0b6641c2be0230117795898faf5)\n'}]",0,796084,ed57107bc635f428be6d23b89400187fb6ff9e58,12,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: Ib8754c6a53c4fbd984583107c418fbd29c924fc3
(cherry picked from commit fc36b7462980d0b6641c2be0230117795898faf5)
",git fetch https://review.opendev.org/openstack/puppet-qdr refs/changes/84/796084/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,ed57107bc635f428be6d23b89400187fb6ff9e58,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-freezer~stable%2Fussuri~Ic97244e31dbd8f6df843ae91c82369fc17c225d0,openstack/puppet-freezer,stable/ussuri,Ic97244e31dbd8f6df843ae91c82369fc17c225d0,Set fixture paths for unit tests,MERGED,2021-06-13 02:43:56.000000000,2021-06-13 13:24:07.000000000,2021-06-13 13:24:07.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-13 02:43:56.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/c5d291786e60eb5c45ba7fae446180958ee47c0e', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: Ic97244e31dbd8f6df843ae91c82369fc17c225d0\n(cherry picked from commit 2420f2b314a138038b9d4ac2e8a0af5c76a43bde)\n'}]",0,796082,c5d291786e60eb5c45ba7fae446180958ee47c0e,12,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: Ic97244e31dbd8f6df843ae91c82369fc17c225d0
(cherry picked from commit 2420f2b314a138038b9d4ac2e8a0af5c76a43bde)
",git fetch https://review.opendev.org/openstack/puppet-freezer refs/changes/82/796082/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,c5d291786e60eb5c45ba7fae446180958ee47c0e,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fnova~master~I264d6df1809d7283415e69a66a9153829b8df537,openstack/nova,master,I264d6df1809d7283415e69a66a9153829b8df537,Remove (almost) all references to 'instance_type',MERGED,2021-03-03 18:54:57.000000000,2021-06-13 05:59:19.000000000,2021-06-13 05:57:48.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 18:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e8ed5c840543a6e0667fe8d24ac5aa6b3cfb3abb', 'message': ""Remove (almost) all references to 'instance_type'\n\nThis continues on from I81fec10535034f3a81d46713a6eda813f90561cf and\nremoves all other references to 'instance_type' where it's possible to\ndo so. The only things left are DB columns, o.vo fields, some\nunversioned objects, and RPC API methods. If we want to remove these, we\ncan but it's a lot more work.\n\nChange-Id: I264d6df1809d7283415e69a66a9153829b8df537\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-03-29 14:46:44.000000000', 'files': ['nova/tests/unit/compute/test_rpcapi.py', 'nova/tests/unit/db/fakes.py', 'nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/scheduler/utils.py', 'nova/api/openstack/compute/views/servers.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/test_notifications.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/compute/flavors.py', 'nova/tests/unit/compute/test_api.py', 'nova/notifications/base.py', 'nova/tests/unit/compute/test_claims.py', 'nova/tests/unit/conductor/tasks/test_migrate.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_blockinfo.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/compute/manager.py', 'nova/tests/unit/api/openstack/compute/test_disk_config.py', 'nova/compute/utils.py', 'nova/tests/unit/api/openstack/compute/test_flavors.py', 'nova/tests/unit/test_flavor_extra_specs.py', 'nova/tests/unit/api/openstack/compute/test_simple_tenant_usage.py', 'nova/db/sqlalchemy/migrate_repo/versions/402_train.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/virt/libvirt/test_migration.py', 'nova/tests/functional/regressions/test_bug_1845291.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/api/openstack/compute/test_flavor_access.py', 'nova/compute/claims.py', 'nova/scheduler/filters/type_filter.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/regressions/test_bug_1843090.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/virt/hardware.py', 'nova/tests/unit/fake_instance.py', 'nova/scheduler/filters/aggregate_instance_extra_specs.py', 'nova/api/metadata/base.py', 'nova/conductor/manager.py', 'nova/objects/instance.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/tests/functional/regressions/test_bug_1806064.py', 'nova/tests/unit/scheduler/test_scheduler_utils.py', 'nova/compute/resource_tracker.py', 'nova/objects/migration.py', 'nova/scheduler/filters/compute_capabilities_filter.py', 'nova/tests/unit/test_flavors.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1bf45c47205057801129dc20153de0a98d9c4e08', 'message': ""Remove (almost) all references to 'instance_type'\n\nThis continues on from I81fec10535034f3a81d46713a6eda813f90561cf and\nremoves all other references to 'instance_type' where it's possible to\ndo so. The only things left are DB columns, o.vo fields, some\nunversioned objects, and RPC API methods. If we want to remove these, we\ncan but it's a lot more work.\n\nChange-Id: I264d6df1809d7283415e69a66a9153829b8df537\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",16,778547,1bf45c47205057801129dc20153de0a98d9c4e08,51,4,2,15334,,,0,"Remove (almost) all references to 'instance_type'

This continues on from I81fec10535034f3a81d46713a6eda813f90561cf and
removes all other references to 'instance_type' where it's possible to
do so. The only things left are DB columns, o.vo fields, some
unversioned objects, and RPC API methods. If we want to remove these, we
can but it's a lot more work.

Change-Id: I264d6df1809d7283415e69a66a9153829b8df537
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/778547/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/db/fakes.py', 'nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/scheduler/utils.py', 'nova/api/openstack/compute/views/servers.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/test_notifications.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/compute/flavors.py', 'nova/notifications/base.py', 'nova/tests/unit/compute/test_claims.py', 'nova/tests/unit/conductor/tasks/test_migrate.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py', 'nova/tests/unit/api/openstack/compute/test_disk_config.py', 'nova/compute/utils.py', 'nova/tests/unit/api/openstack/compute/test_flavors.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/functional/regressions/test_bug_1845291.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/api/openstack/compute/test_flavor_access.py', 'nova/compute/claims.py', 'nova/scheduler/filters/type_filter.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/regressions/test_bug_1843090.py', 'nova/virt/hardware.py', 'nova/tests/unit/fake_instance.py', 'nova/scheduler/filters/aggregate_instance_extra_specs.py', 'nova/api/metadata/base.py', 'nova/conductor/manager.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/tests/functional/regressions/test_bug_1806064.py', 'nova/tests/unit/scheduler/test_scheduler_utils.py', 'nova/compute/resource_tracker.py', 'nova/scheduler/filters/compute_capabilities_filter.py', 'nova/tests/unit/test_flavors.py']",38,e8ed5c840543a6e0667fe8d24ac5aa6b3cfb3abb,compute_rpc_6.0," default_flavor = objects.Flavor.get_by_name( flavorid = default_flavor.flavorid self.assertEqual(default_flavor.flavorid, fetched.flavorid) flavor = objects.Flavor.get_by_name(self.context, 'm1.small') flavor_p = obj_base.obj_to_primitive(flavor) flavors.save_flavor_info(metadata, flavor, prefix) _flavor = flavors.extract_flavor(instance, prefix) _flavor_p = obj_base.obj_to_primitive(_flavor) for key in list(flavor_p.keys()): if key not in props: del flavor_p[key] self.assertEqual(flavor_p, _flavor_p) flavor = objects.Flavor.get_by_name(self.context, 'm1.small') example['instance_type_%s' % key] = flavor[key] example_prefix['fooinstance_type_%s' % key] = flavor[key] flavors.save_flavor_info(metadata, flavor) flavors.save_flavor_info(metadata, flavor, 'foo') flavor = objects.Flavor.get_by_name(self.context, 'm1.small') flavor['extra_specs'] = { sysmeta = flavors.save_flavor_info({}, flavor) _flavor = flavors.extract_flavor({'system_metadata': sysmeta}) self.assertEqual(expected_extra_specs, _flavor['extra_specs'])"," default_instance_type = objects.Flavor.get_by_name( flavorid = default_instance_type.flavorid self.assertEqual(default_instance_type.flavorid, fetched.flavorid) instance_type = objects.Flavor.get_by_name(self.context, 'm1.small') instance_type_p = obj_base.obj_to_primitive(instance_type) flavors.save_flavor_info(metadata, instance_type, prefix) _instance_type = flavors.extract_flavor(instance, prefix) _instance_type_p = obj_base.obj_to_primitive(_instance_type) for key in list(instance_type_p.keys()): if key not in props: del instance_type_p[key] self.assertEqual(instance_type_p, _instance_type_p) instance_type = objects.Flavor.get_by_name(self.context, 'm1.small') example['instance_type_%s' % key] = instance_type[key] example_prefix['fooinstance_type_%s' % key] = instance_type[key] flavors.save_flavor_info(metadata, instance_type) flavors.save_flavor_info(metadata, instance_type, 'foo') instance_type = objects.Flavor.get_by_name(self.context, 'm1.small') instance_type['extra_specs'] = { sysmeta = flavors.save_flavor_info({}, instance_type) _instance_type = flavors.extract_flavor({'system_metadata': sysmeta}) self.assertEqual(expected_extra_specs, _instance_type['extra_specs'])",557,543
openstack%2Fnova~master~I3d1b21ba6eb3f5eb728693197c24b4b315eef821,openstack/nova,master,I3d1b21ba6eb3f5eb728693197c24b4b315eef821,libvirt: Do not destroy volume secrets during _hard_reboot,MERGED,2021-05-27 15:57:27.000000000,2021-06-13 05:51:04.000000000,2021-06-13 05:49:22.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-27 15:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0dd523bd3880c710165e653c38c034b638cf6d5d', 'message': 'WIP libvirt: Do not destroy volume secrets during resume_state_on_host_boot\n\nChange-Id: I3d1b21ba6eb3f5eb728693197c24b4b315eef821\n'}, {'number': 2, 'created': '2021-05-27 17:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff73d40941e094d475bf4d7e372541c9c34b0276', 'message': ""WIP libvirt: Do not destroy volume secrets during _hard_reboot\n\nIa2007bc63ef09931ea0197cef29d6a5614ed821a unfortunately missed that\nresume_state_on_host_boot calls down into _hard_reboot always removing\nvolume secrets rendering that change useless.\n\nThis change corrects this by avoiding the removal of these secrets\nduring the _hard_reboot flow allowing the previous optimisation to fire\nand no attempt to refetch the secret being made.\n\nBy changing _hard_reboot to default to this behaviour we fix both the\noriginal resume_state_on_host_boot case in bug #1905701 *and* allow\nadmins to now hard reboot instances with encrypted volumes attached that\nwas previously blocked by default due to the secret lookup.\n\nTODO(lyarwood):\n- basic unit tests and a releasenote?\n- fup's sorting formatting, doc text etc out (avoided as this is going to\n  stable/queens)\n- functional tests (as above, skipped as this is going to queens)\n\nCloses-Bug: #1905701\nChange-Id: I3d1b21ba6eb3f5eb728693197c24b4b315eef821\n""}, {'number': 3, 'created': '2021-06-02 13:29:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c94cd786667d9e3e74d1f0228c59db1d6ce24820', 'message': 'libvirt: Do not destroy volume secrets during _hard_reboot\n\nIa2007bc63ef09931ea0197cef29d6a5614ed821a unfortunately missed that\nresume_state_on_host_boot calls down into _hard_reboot always removing\nvolume secrets rendering that change useless.\n\nThis change seeks to correct this by introducing a new optional\ndestroy_secrets kwarg to the public destroy and cleanup methods of the\nvirt drivers that defaults to True. Within the libvirt driver the\n_hard_reboot method then calls destroy with this new destroy_secrets\nkwarg set to False to ensure these persist the reboot.\n\nThis resolves the original issue in bug #1905701 *and* allows admins to\nhard reboot a users instance when that instance has encrypted volumes\nattached with secrets stored in Barbican.\n\nThis change is kept small as it should ideally be backported alongside\nIa2007bc63ef09931ea0197cef29d6a5614ed821a to stable/queens.\n\nFuture changes will improve formatting, doc text and introduce\nfunctional tests to further validate this new behaviour of hard reboot\nwithin the libvirt driver.\n\nCloses-Bug: #1905701\nChange-Id: I3d1b21ba6eb3f5eb728693197c24b4b315eef821\n'}, {'number': 4, 'created': '2021-06-02 15:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c83e69a7722b54000c6040a251d5d58262fcc5c3', 'message': 'libvirt: Do not destroy volume secrets during _hard_reboot\n\nIa2007bc63ef09931ea0197cef29d6a5614ed821a unfortunately missed that\nresume_state_on_host_boot calls down into _hard_reboot always removing\nvolume secrets rendering that change useless.\n\nThis change seeks to address this by using the destroy_secrets kwarg\nintroduced by I856268b371f7ba712b02189db3c927cd762a4dc3 within the\n_hard_reboot method of the libvirt driver to ensure secrets are not\nremoved.\n\nThis resolves the original issue in bug #1905701 *and* allows admins to\nhard reboot a users instance when that instance has encrypted volumes\nattached with secrets stored in Barbican.\n\nThis change is kept small as it should ideally be backported alongside\nIa2007bc63ef09931ea0197cef29d6a5614ed821a to stable/queens.\n\nFollow up changes on master will improve formatting, doc text and\nintroduce functional tests to further validate this new behaviour of\nhard reboot within the libvirt driver.\n\nCloses-Bug: #1905701\nChange-Id: I3d1b21ba6eb3f5eb728693197c24b4b315eef821\n'}, {'number': 5, 'created': '2021-06-07 08:33:04.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/26d65fc882e42b824409dff87ff026dee1debe20', 'message': 'libvirt: Do not destroy volume secrets during _hard_reboot\n\nIa2007bc63ef09931ea0197cef29d6a5614ed821a unfortunately missed that\nresume_state_on_host_boot calls down into _hard_reboot always removing\nvolume secrets rendering that change useless.\n\nThis change seeks to address this by using the destroy_secrets kwarg\nintroduced by I856268b371f7ba712b02189db3c927cd762a4dc3 within the\n_hard_reboot method of the libvirt driver to ensure secrets are not\nremoved during a hard reboot.\n\nThis resolves the original issue in bug #1905701 *and* allows admins to\nhard reboot a users instance when that instance has encrypted volumes\nattached with secrets stored in Barbican. This latter use case being\nsomething we can easily test within tempest unlike the compute reboot in\nbug #1905701.\n\nThis change is kept small as it should ideally be backported alongside\nIa2007bc63ef09931ea0197cef29d6a5614ed821a to stable/queens. Follow up\nchanges on master will improve formatting, doc text and introduce\nfunctional tests to further validate this new behaviour of hard reboot\nwithin the libvirt driver.\n\nCloses-Bug: #1905701\nChange-Id: I3d1b21ba6eb3f5eb728693197c24b4b315eef821\n'}]",10,793463,26d65fc882e42b824409dff87ff026dee1debe20,63,6,5,10135,,,0,"libvirt: Do not destroy volume secrets during _hard_reboot

Ia2007bc63ef09931ea0197cef29d6a5614ed821a unfortunately missed that
resume_state_on_host_boot calls down into _hard_reboot always removing
volume secrets rendering that change useless.

This change seeks to address this by using the destroy_secrets kwarg
introduced by I856268b371f7ba712b02189db3c927cd762a4dc3 within the
_hard_reboot method of the libvirt driver to ensure secrets are not
removed during a hard reboot.

This resolves the original issue in bug #1905701 *and* allows admins to
hard reboot a users instance when that instance has encrypted volumes
attached with secrets stored in Barbican. This latter use case being
something we can easily test within tempest unlike the compute reboot in
bug #1905701.

This change is kept small as it should ideally be backported alongside
Ia2007bc63ef09931ea0197cef29d6a5614ed821a to stable/queens. Follow up
changes on master will improve formatting, doc text and introduce
functional tests to further validate this new behaviour of hard reboot
within the libvirt driver.

Closes-Bug: #1905701
Change-Id: I3d1b21ba6eb3f5eb728693197c24b4b315eef821
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/793463/5 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,0dd523bd3880c710165e653c38c034b638cf6d5d,bug/1905701," destroy_disks=True, destroy_secrets=True): destroy_disks, destroy_secrets=destroy_secrets) destroy_disks=True, migrate_data=None, destroy_vifs=True, destroy_secrets=True): :param destroy_secrets: undefine libvirt secrets cleanup_instance_disks=cleanup_instance_disks, destroy_secrets=destroy_secrets) cleanup_instance_disks=False, destroy_secrets=True): self._disconnect_volume( context, connection_info, instance, destroy_secrets=destroy_secrets) encryption=None, destroy_secrets=True): self._detach_encryptor( context, connection_info, encryption=encryption, destroy_secrets=destroy_secrets) def _detach_encryptor(self, context, connection_info, encryption, destroy_secrets=True): if not destroy_secrets: return block_device_info=None, accel_info=None, destroy_secrets=True): block_device_info=block_device_info, destroy_secrets=destroy_secrets) self._hard_reboot( context, instance, network_info, block_device_info, destroy_secrets=False)"," destroy_disks=True): destroy_disks) destroy_disks=True, migrate_data=None, destroy_vifs=True): cleanup_instance_disks=cleanup_instance_disks) cleanup_instance_disks=False): self._disconnect_volume(context, connection_info, instance) encryption=None): self._detach_encryptor(context, connection_info, encryption=encryption) def _detach_encryptor(self, context, connection_info, encryption): block_device_info=None, accel_info=None): block_device_info=block_device_info) self._hard_reboot(context, instance, network_info, block_device_info)",27,12
openstack%2Fneutron~master~Ie2d5c52ce09b1b366717830f0af53f26366ee4b8,openstack/neutron,master,Ie2d5c52ce09b1b366717830f0af53f26366ee4b8,[OVN] Add 'port-mac-address-regenerate' to the supported extensions,MERGED,2021-05-27 10:06:43.000000000,2021-06-13 03:06:03.000000000,2021-06-13 03:03:52.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-27 10:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/abe1b710176e22b5a566d70a432fd4520eb663e6', 'message': ""[OVN] Add 'port-mac-address-regenerate' to the supported extensions\n\nIn fact this API extension is independent of the mech driver and should\nbe listed as supported by the OVN mech driver to not be filtered out\nfrom the list of actually available extensions.\n\nRelated-Bug: #1929676\nChange-Id: Ie2d5c52ce09b1b366717830f0af53f26366ee4b8\n""}, {'number': 2, 'created': '2021-06-05 11:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/93d9f1b7f790e026bcc79a52e4f639d4cee5b36d', 'message': ""[OVN] Add 'port-mac-address-regenerate' to the supported extensions\n\nIn fact this API extension is independent of the mech driver and should\nbe listed as supported by the OVN mech driver to not be filtered out\nfrom the list of actually available extensions.\n\nRelated-Bug: #1929676\nChange-Id: Ie2d5c52ce09b1b366717830f0af53f26366ee4b8\n""}, {'number': 3, 'created': '2021-06-05 11:04:58.000000000', 'files': ['neutron/common/ovn/extensions.py', 'doc/source/admin/ovn/features.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6fb2f513da3e7f5b258726f187f14fbfec71c427', 'message': ""[OVN] Add 'port-mac-address-regenerate' to the supported extensions\n\nIn fact this API extension is independent of the mech driver and should\nbe listed as supported by the OVN mech driver to not be filtered out\nfrom the list of actually available extensions.\n\nRelated-Bug: #1929676\nChange-Id: Ie2d5c52ce09b1b366717830f0af53f26366ee4b8\n""}]",3,793361,6fb2f513da3e7f5b258726f187f14fbfec71c427,73,5,3,11975,,,0,"[OVN] Add 'port-mac-address-regenerate' to the supported extensions

In fact this API extension is independent of the mech driver and should
be listed as supported by the OVN mech driver to not be filtered out
from the list of actually available extensions.

Related-Bug: #1929676
Change-Id: Ie2d5c52ce09b1b366717830f0af53f26366ee4b8
",git fetch https://review.opendev.org/openstack/neutron refs/changes/61/793361/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ovn/extensions.py', 'doc/source/admin/ovn/features.rst']",2,abe1b710176e22b5a566d70a432fd4520eb663e6,bug/1929676,+----------------------------------+-----------------------------+ | Extension Name | Extension Alias | +==================================+=============================+ | Allowed Address Pairs | allowed-address-pairs | +----------------------------------+-----------------------------+ | Auto Allocated Topology Services | auto-allocated-topology | +----------------------------------+-----------------------------+ | Availability Zone | availability_zone | +----------------------------------+-----------------------------+ | Default Subnetpools | default-subnetpools | +----------------------------------+-----------------------------+ | Domain Name System (DNS) | dns_integration | +----------------------------------+-----------------------------+ | Multi Provider Network | multi-provider | +----------------------------------+-----------------------------+ | Network IP Availability | network-ip-availability | +----------------------------------+-----------------------------+ | Network Segment | segment | +----------------------------------+-----------------------------+ | Neutron external network | external-net | +----------------------------------+-----------------------------+ | Neutron Extra DHCP opts | extra_dhcp_opt | +----------------------------------+-----------------------------+ | Neutron Extra Route | extraroute | +----------------------------------+-----------------------------+ | Neutron L3 external gateway | ext-gw-mode | +----------------------------------+-----------------------------+ | Neutron L3 Router | router | +----------------------------------+-----------------------------+ | Network MTU | net-mtu | +----------------------------------+-----------------------------+ | Packet Logging | logging | +----------------------------------+-----------------------------+ | Port MAC address Regenerate | port-mac-address-regenerate | | +----------------------------------+-----------------------------+ | Port Binding | binding | +----------------------------------+-----------------------------+ | Port Forwarding | port_forwarding | +----------------------------------+-----------------------------+ | Port Security | port-security | +----------------------------------+-----------------------------+ | Provider Network | provider | +----------------------------------+-----------------------------+ | Quality of Service | qos | +----------------------------------+-----------------------------+ | Quota management support | quotas | +----------------------------------+-----------------------------+ | RBAC Policies | rbac-policies | +----------------------------------+-----------------------------+ | Resource revision numbers | standard-attr-revisions | +----------------------------------+-----------------------------+ | security-group | security-group | +----------------------------------+-----------------------------+ | standard-attr-description | standard-attr-description | +----------------------------------+-----------------------------+ | Subnet Allocation | subnet_allocation | +----------------------------------+-----------------------------+ | Tag support | standard-attr-tag | +----------------------------------+-----------------------------+ | Time Stamp Fields | standard-attr-timestamp | +----------------------------------+-----------------------------+,+----------------------------------+---------------------------+ | Extension Name | Extension Alias | +==================================+===========================+ | Allowed Address Pairs | allowed-address-pairs | +----------------------------------+---------------------------+ | Auto Allocated Topology Services | auto-allocated-topology | +----------------------------------+---------------------------+ | Availability Zone | availability_zone | +----------------------------------+---------------------------+ | Default Subnetpools | default-subnetpools | +----------------------------------+---------------------------+ | Domain Name System (DNS) | dns_integration | +----------------------------------+---------------------------+ | Multi Provider Network | multi-provider | +----------------------------------+---------------------------+ | Network IP Availability | network-ip-availability | +----------------------------------+---------------------------+ | Network Segment | segment | +----------------------------------+---------------------------+ | Neutron external network | external-net | +----------------------------------+---------------------------+ | Neutron Extra DHCP opts | extra_dhcp_opt | +----------------------------------+---------------------------+ | Neutron Extra Route | extraroute | +----------------------------------+---------------------------+ | Neutron L3 external gateway | ext-gw-mode | +----------------------------------+---------------------------+ | Neutron L3 Router | router | +----------------------------------+---------------------------+ | Network MTU | net-mtu | +----------------------------------+---------------------------+ | Packet Logging | logging | +----------------------------------+---------------------------+ | Port Binding | binding | +----------------------------------+---------------------------+ | Port Forwarding | port_forwarding | +----------------------------------+---------------------------+ | Port Security | port-security | +----------------------------------+---------------------------+ | Provider Network | provider | +----------------------------------+---------------------------+ | Quality of Service | qos | +----------------------------------+---------------------------+ | Quota management support | quotas | +----------------------------------+---------------------------+ | RBAC Policies | rbac-policies | +----------------------------------+---------------------------+ | Resource revision numbers | standard-attr-revisions | +----------------------------------+---------------------------+ | security-group | security-group | +----------------------------------+---------------------------+ | standard-attr-description | standard-attr-description | +----------------------------------+---------------------------+ | Subnet Allocation | subnet_allocation | +----------------------------------+---------------------------+ | Tag support | standard-attr-tag | +----------------------------------+---------------------------+ | Time Stamp Fields | standard-attr-timestamp | +----------------------------------+---------------------------+,63,59
openstack%2Fpuppet-openstack-integration~master~Ic7b815d4014adbf007dba505e6c99118b693b6a3,openstack/puppet-openstack-integration,master,Ic7b815d4014adbf007dba505e6c99118b693b6a3,Enable panko-expirer,ABANDONED,2021-05-23 13:23:23.000000000,2021-06-13 03:04:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-23 13:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/0bdf5a54edd2afdeee95c7fc177a85692f61fafc', 'message': 'Enable panko-expirer\n\nChange-Id: Ic7b815d4014adbf007dba505e6c99118b693b6a3\n'}, {'number': 2, 'created': '2021-05-23 14:47:33.000000000', 'files': ['manifests/panko.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5dd71c3fb0afb5bf9b371327a5ee513325b0a9b0', 'message': 'Enable panko-expirer\n\nChange-Id: Ic7b815d4014adbf007dba505e6c99118b693b6a3\n'}]",0,792742,5dd71c3fb0afb5bf9b371327a5ee513325b0a9b0,6,1,2,9816,,,0,"Enable panko-expirer

Change-Id: Ic7b815d4014adbf007dba505e6c99118b693b6a3
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/42/792742/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/panko.pp'],1,0bdf5a54edd2afdeee95c7fc177a85692f61fafc,panko-expirer, class { 'panko::expirer': },,1,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I2cd08a7b195620e6c93084a6a689bad1d6ace179,openstack/tripleo-heat-templates,stable/victoria,I2cd08a7b195620e6c93084a6a689bad1d6ace179,Fix broken restart of ovndb_server during minor update,MERGED,2021-06-12 13:42:21.000000000,2021-06-13 01:34:16.000000000,2021-06-13 01:34:16.000000000,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-12 13:42:21.000000000', 'files': ['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6c5011056ee5ae21e96f0435bf9e24f59922f515', 'message': 'Fix broken restart of ovndb_server during minor update\n\nSince [1], the ovn HA resource is mistakenly called\novndbs_servers instead of ovndb_servers, which breaks\nits restart during a minor update. Fix the typo.\n\n[1] I918b6c16db6ed70d9ad612aecd7af7d725520f7b\n\nChange-Id: I2cd08a7b195620e6c93084a6a689bad1d6ace179\nCloses-Bug: #1931502\n(cherry picked from commit 6837633ea4075c1e74281ade7005cb8325b51f5a)\n(cherry picked from commit 1ff7e9be9d9c763acc7cd5ae11b2c7580daa737f)\n'}]",0,796077,6c5011056ee5ae21e96f0435bf9e24f59922f515,9,3,1,20778,,,0,"Fix broken restart of ovndb_server during minor update

Since [1], the ovn HA resource is mistakenly called
ovndbs_servers instead of ovndb_servers, which breaks
its restart during a minor update. Fix the typo.

[1] I918b6c16db6ed70d9ad612aecd7af7d725520f7b

Change-Id: I2cd08a7b195620e6c93084a6a689bad1d6ace179
Closes-Bug: #1931502
(cherry picked from commit 6837633ea4075c1e74281ade7005cb8325b51f5a)
(cherry picked from commit 1ff7e9be9d9c763acc7cd5ae11b2c7580daa737f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/77/796077/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'],1,6c5011056ee5ae21e96f0435bf9e24f59922f515,bug/1931502-stable/wallaby-stable/victoria, tripleo_ha_wrapper_resource_name: ovndb_servers, tripleo_ha_wrapper_resource_name: ovndbs_servers,1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I9bea643511f90167ca7b9f0285c1eaf8211d6e7d,openstack/tripleo-heat-templates,stable/train,I9bea643511f90167ca7b9f0285c1eaf8211d6e7d,[Train-only] Remove redis_tls_proxy if at step2,MERGED,2021-06-07 16:14:50.000000000,2021-06-13 01:25:39.000000000,2021-06-13 01:25:39.000000000,"[{'_account_id': 6926}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-07 16:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/45ec8404377f296805ccb65e1a566a9429030186', 'message': 'WIP [train-only] Remove redis_tls_proxy if at step2\n\nChange-Id: I9bea643511f90167ca7b9f0285c1eaf8211d6e7d\nCloses-Bug: #1931145\n'}, {'number': 2, 'created': '2021-06-07 19:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7d49a7542d06fbe9c56c50dae1111b1c93507659', 'message': 'WIP [train-only] Remove redis_tls_proxy if at step2\n\nChange-Id: I9bea643511f90167ca7b9f0285c1eaf8211d6e7d\nCloses-Bug: #1931145\n'}, {'number': 3, 'created': '2021-06-09 19:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8feae541171ca732147185bb198a261b5facccda', 'message': 'WIP [train-only] Remove redis_tls_proxy if at step2\n\nChange-Id: I9bea643511f90167ca7b9f0285c1eaf8211d6e7d\nCloses-Bug: #1931145\n'}, {'number': 4, 'created': '2021-06-10 11:29:32.000000000', 'files': ['deployment/database/redis-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d580a0880809419e90654dd461a4c66e0640f737', 'message': '[Train-only] Remove redis_tls_proxy if at step2\n\nWhen we move redis_tls_proxy from step2 to step1 (which is the correct\nthing to do) via https://review.opendev.org/c/openstack/tripleo-heat-templates/+/777549:\n""""""\nWe also move the redis_tls_proxy from step_2/start_order: 3 to step_1\nsince it actually makes sense to have it run before we start the\nredis pcmk bundle at step 2 (i.e. so the slave replica can work right\naway from the start).\n""""""\n\nThe problem is that paunch by design does not manage containers moving from stepX to\nstepX-1 and so during a minor update, it will create redis_tls_proxy\nat step1 but since the previous container has tripleo_config=step2 label\nit won\'t detect that it has to remove it and recreate and it will fail\nwith:\npodman create --name redis_tls_proxy --label config_id=tripleo_step1 --label container_name=redis_tls_proxy\n\n....\n\nError: error creating container storage: the container name \\""redis_tls_proxy\\"" is already in use by \\""556f965b47b044fa48ef8194f2cf0adaad46e8145f1e4afdb0af4d70977ad561\\"". You have to remove that container to be able to reuse that name.: that name is already in use\\\n\nTested by running at 16.1 -> 16.2 update and we correctly get past this\nerror and redis is fully up and running.\n\nWe need this only in Train as a fresh deployment or ffu is not affected.\n\nCloses-Bug: #1931145\nChange-Id: I9bea643511f90167ca7b9f0285c1eaf8211d6e7d\n'}]",5,795132,d580a0880809419e90654dd461a4c66e0640f737,26,4,4,20172,,,0,"[Train-only] Remove redis_tls_proxy if at step2

When we move redis_tls_proxy from step2 to step1 (which is the correct
thing to do) via https://review.opendev.org/c/openstack/tripleo-heat-templates/+/777549:
""""""
We also move the redis_tls_proxy from step_2/start_order: 3 to step_1
since it actually makes sense to have it run before we start the
redis pcmk bundle at step 2 (i.e. so the slave replica can work right
away from the start).
""""""

The problem is that paunch by design does not manage containers moving from stepX to
stepX-1 and so during a minor update, it will create redis_tls_proxy
at step1 but since the previous container has tripleo_config=step2 label
it won't detect that it has to remove it and recreate and it will fail
with:
podman create --name redis_tls_proxy --label config_id=tripleo_step1 --label container_name=redis_tls_proxy

....

Error: error creating container storage: the container name \""redis_tls_proxy\"" is already in use by \""556f965b47b044fa48ef8194f2cf0adaad46e8145f1e4afdb0af4d70977ad561\"". You have to remove that container to be able to reuse that name.: that name is already in use\

Tested by running at 16.1 -> 16.2 update and we correctly get past this
error and redis is fully up and running.

We need this only in Train as a fresh deployment or ffu is not affected.

Closes-Bug: #1931145
Change-Id: I9bea643511f90167ca7b9f0285c1eaf8211d6e7d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/32/795132/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/database/redis-pacemaker-puppet.yaml'],1,45ec8404377f296805ccb65e1a566a9429030186,train-redis-tls2," - name: Remove any redis_tls_proxy if present at step2 shell: | set -ex ret=$(podman ps -a -q -f name=redis_tls_proxy -f label=""config_id=tripleo_step1"") if [ -n ""$ret"" ]; then systemctl stop tripleo_redis_tls_proxy podman rm redis_tls_proxy fi",,8,0
openstack%2Fneutron-tempest-plugin~master~I368ca13291055f43896beb905cf19ff933fa797c,openstack/neutron-tempest-plugin,master,I368ca13291055f43896beb905cf19ff933fa797c,"Remove ""active"" attribute from the allowed_address_pairs",MERGED,2021-06-04 12:01:15.000000000,2021-06-12 22:28:22.000000000,2021-06-12 22:28:22.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 12:01:15.000000000', 'files': ['neutron_tempest_plugin/api/test_allowed_address_pair.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1536b57c8f1116ba48fdd72b6edc7202d5870fbf', 'message': 'Remove ""active"" attribute from the allowed_address_pairs\n\nAttribute ""active"" is going to be added to the allowed_address_pairs\nin the patch [1] and will not be available in older branches.\nTo make our existing allowed_address_pairs API tests to be passing in\nboth cases, with and without that ""active"" attribute, this patch\nremoves that field from the allowed_address_pairs which are returned\nby the Neutron server.\n\nWe could make expected results of those tests to be dependend on the\navailable Neutron\'s API extensions but in that case existing tests may\nfail randomly as all tests are always using same IP addresses thus\nallowed_address_pair may be active=True or active=False.\n\nTo properly check active/inactive allowed address pairs there will be\nadditional tests added to the neutron-tempest-plugin in the follow up\npatch.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/601336\n\nRelated-Bug: #1928466\nChange-Id: I368ca13291055f43896beb905cf19ff933fa797c\n'}]",0,794788,1536b57c8f1116ba48fdd72b6edc7202d5870fbf,40,3,1,11975,,,0,"Remove ""active"" attribute from the allowed_address_pairs

Attribute ""active"" is going to be added to the allowed_address_pairs
in the patch [1] and will not be available in older branches.
To make our existing allowed_address_pairs API tests to be passing in
both cases, with and without that ""active"" attribute, this patch
removes that field from the allowed_address_pairs which are returned
by the Neutron server.

We could make expected results of those tests to be dependend on the
available Neutron's API extensions but in that case existing tests may
fail randomly as all tests are always using same IP addresses thus
allowed_address_pair may be active=True or active=False.

To properly check active/inactive allowed address pairs there will be
additional tests added to the neutron-tempest-plugin in the follow up
patch.

[1] https://review.opendev.org/c/openstack/neutron/+/601336

Related-Bug: #1928466
Change-Id: I368ca13291055f43896beb905cf19ff933fa797c
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/88/794788/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/api/test_allowed_address_pair.py'],1,1536b57c8f1116ba48fdd72b6edc7202d5870fbf,bug/1928466," for pair in allowed_address_pair: pair.pop('active', None)",,2,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Iaf85807d067898bbab6d76ab40bc070e845a8b38,openstack/tripleo-heat-templates,stable/victoria,Iaf85807d067898bbab6d76ab40bc070e845a8b38,HA minor update: fix bad pcs invocation,MERGED,2021-06-12 13:42:43.000000000,2021-06-12 21:50:54.000000000,2021-06-12 21:50:54.000000000,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-12 13:42:43.000000000', 'files': ['container_config_scripts/pacemaker_restart_bundle.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f808dac566d342778b88ce2de1fdcdf0853f71e7', 'message': 'HA minor update: fix bad pcs invocation\n\nWhen a HA resource is in failed stated, the minor update\nshould normally try to restart it but the associated\npcs invocation is currently invalid, so the resource never\ngets a chance to be restarted.\n\nUse the right pcs call to fix this minor update use case.\n\nChange-Id: Iaf85807d067898bbab6d76ab40bc070e845a8b38\nCloses-Bug: #1931500\n(cherry picked from commit 1662600e6e6e8fedbf096b279e16eabd7b3c6eea)\n(cherry picked from commit d03517b6144373fea1fc0e7f11bf4a39cecb00b6)\n'}]",0,796078,f808dac566d342778b88ce2de1fdcdf0853f71e7,8,3,1,20778,,,0,"HA minor update: fix bad pcs invocation

When a HA resource is in failed stated, the minor update
should normally try to restart it but the associated
pcs invocation is currently invalid, so the resource never
gets a chance to be restarted.

Use the right pcs call to fix this minor update use case.

Change-Id: Iaf85807d067898bbab6d76ab40bc070e845a8b38
Closes-Bug: #1931500
(cherry picked from commit 1662600e6e6e8fedbf096b279e16eabd7b3c6eea)
(cherry picked from commit d03517b6144373fea1fc0e7f11bf4a39cecb00b6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/78/796078/1 && git format-patch -1 --stdout FETCH_HEAD,['container_config_scripts/pacemaker_restart_bundle.sh'],1,f808dac566d342778b88ce2de1fdcdf0853f71e7,bug/1931500-stable/wallaby-stable/victoria," /sbin/pcs resource cleanup $BUNDLE_NAME node=""${HOST}"""," /sbin/pcs resource cleanup $BUNDLE_NAME --node ""${HOST}""",1,1
openstack%2Fopenstack-helm-images~master~I521da784dcd6feb4962564c7e7c56d0f2800d75c,openstack/openstack-helm-images,master,I521da784dcd6feb4962564c7e7c56d0f2800d75c,Remove old release references,MERGED,2021-04-30 20:00:57.000000000,2021-06-12 21:49:41.000000000,2021-06-12 21:46:05.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}]","[{'number': 1, 'created': '2021-04-30 20:00:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/0b5503fe006cefa169447818f45b04b5476a9173', 'message': 'Remove old release references\n\nWith the latest update to openstack-helm dropping support for releases\nbefore T, this change updates osh-images to reflect this.\n\nChange-Id: I521da784dcd6feb4962564c7e7c56d0f2800d75c\n'}, {'number': 2, 'created': '2021-05-07 00:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/251beb7170d412cb1458060dfaa2ce4fe5d1ee31', 'message': 'Remove old release references\n\nWith the latest update to openstack-helm dropping support for releases\nbefore T, this change updates osh-images to reflect this.\n\nChange-Id: I521da784dcd6feb4962564c7e7c56d0f2800d75c\n'}, {'number': 3, 'created': '2021-05-24 20:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/b02ec1f4e1a5c0d712925222c344dca5b49fa0f0', 'message': 'Remove old release references\n\nWith the latest update to openstack-helm dropping support for releases\nbefore T, this change updates osh-images to reflect this.\n\nChange-Id: I521da784dcd6feb4962564c7e7c56d0f2800d75c\n'}, {'number': 4, 'created': '2021-05-25 14:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/f0717941b29978a7f89015c5add7a6eadcec26c2', 'message': 'Remove old release references\n\nWith the latest update to openstack-helm dropping support for releases\nbefore T, this change updates osh-images to reflect this.\n\nChange-Id: I521da784dcd6feb4962564c7e7c56d0f2800d75c\n'}, {'number': 5, 'created': '2021-06-11 15:28:43.000000000', 'files': ['openstack/loci/build-ocata.sh', 'openstack/loci/build-rocky.sh', 'openstack/loci/build-queens.sh', 'openstack/loci/build-stein.sh', 'openstack/loci/build-newton.sh', 'zuul.d/base.yaml', 'zuul.d/openstack-loci.yaml', 'openstack/loci/build-pike.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/be831151d57e7d3a3d33f9758a820327dc95a417', 'message': 'Remove old release references\n\nWith the latest update to openstack-helm dropping support for releases\nbefore T, this change updates osh-images to reflect this.\n\nChange-Id: I521da784dcd6feb4962564c7e7c56d0f2800d75c\n'}]",0,789024,be831151d57e7d3a3d33f9758a820327dc95a417,23,6,5,21420,,,0,"Remove old release references

With the latest update to openstack-helm dropping support for releases
before T, this change updates osh-images to reflect this.

Change-Id: I521da784dcd6feb4962564c7e7c56d0f2800d75c
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/24/789024/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/loci/build-ocata.sh', 'openstack/loci/build-rocky.sh', 'openstack/loci/build-queens.sh', 'openstack/loci/build-stein.sh', 'openstack/loci/build-newton.sh', 'zuul.d/openstack-loci.yaml', 'openstack/loci/build-pike.sh']",7,0b5503fe006cefa169447818f45b04b5476a9173,old-release-cleanup,,"#!/bin/bash SCRIPT=`realpath $0` SCRIPT_DIR=`dirname ${SCRIPT}` ## Only build from main folder # Replace with Registry URI with your registry like your # dockerhub user. Example: ""docker.io/openstackhelm"" VERSION=${VERSION:-""latest""} OPENSTACK_VERSION=""stable/pike"" source ${SCRIPT_DIR}/build.sh ",0,657
openstack%2Fnova~master~I035d6dc752eaa83105cc12797765b304d843e1f7,openstack/nova,master,I035d6dc752eaa83105cc12797765b304d843e1f7,requirements: Add types-paramiko,MERGED,2021-06-09 12:45:32.000000000,2021-06-12 20:57:23.000000000,2021-06-12 20:55:24.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 12:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e67e3493185f7e0015eac799f402f4c44749e9a', 'message': 'requirements: Add typing-paramiko\n\nThis is required to resolve the following warning:\n\n  error: Library stubs not installed for ""paramiko"" (or incompatible with Python 3.9)\n  note: Hint: ""python3 -m pip install types-paramiko""\n  note: (or run ""mypy --install-types"" to install all missing stub packages)\n  note: See https://mypy.readthedocs.io/en/stable/running_mypy.html#missing-imports\n\nChange-Id: I035d6dc752eaa83105cc12797765b304d843e1f7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/795532/\n'}, {'number': 2, 'created': '2021-06-09 12:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3752591080b44a6bdedb4e833ce2ea7147aba59f', 'message': 'requirements: Add types-paramiko\n\nThis is required to resolve the following warning:\n\n  error: Library stubs not installed for ""paramiko"" (or incompatible with Python 3.9)\n  note: Hint: ""python3 -m pip install types-paramiko""\n  note: (or run ""mypy --install-types"" to install all missing stub packages)\n  note: See https://mypy.readthedocs.io/en/stable/running_mypy.html#missing-imports\n\nChange-Id: I035d6dc752eaa83105cc12797765b304d843e1f7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/795532/\n'}, {'number': 3, 'created': '2021-06-09 13:11:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f83cf41f055106a7eb20c4c68a2a7443ff34394f', 'message': 'requirements: Add types-paramiko\n\nThis is required to resolve the following warning:\n\n  error: Library stubs not installed for ""paramiko"" (or incompatible with Python 3.9)\n  note: Hint: ""python3 -m pip install types-paramiko""\n  note: (or run ""mypy --install-types"" to install all missing stub packages)\n  note: See https://mypy.readthedocs.io/en/stable/running_mypy.html#missing-imports\n\nChange-Id: I035d6dc752eaa83105cc12797765b304d843e1f7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/795532/\n'}, {'number': 4, 'created': '2021-06-09 13:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/451807f5ebd7e9b1efe27193038d2fa69da43a71', 'message': 'requirements: Add types-paramiko\n\nThis is required to resolve the following warning:\n\n  error: Library stubs not installed for ""paramiko"" (or incompatible with Python 3.9)\n  note: Hint: ""python3 -m pip install types-paramiko""\n  note: (or run ""mypy --install-types"" to install all missing stub packages)\n  note: See https://mypy.readthedocs.io/en/stable/running_mypy.html#missing-imports\n\nChange-Id: I035d6dc752eaa83105cc12797765b304d843e1f7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/795532/\n'}, {'number': 5, 'created': '2021-06-09 14:19:16.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/5c02091647f80fb3c818d5d47db2de49763c66cf', 'message': 'requirements: Add types-paramiko\n\nThis is required to resolve the following warning:\n\n  error: Library stubs not installed for ""paramiko"" (or incompatible with Python 3.9)\n  note: Hint: ""python3 -m pip install types-paramiko""\n  note: (or run ""mypy --install-types"" to install all missing stub packages)\n  note: See https://mypy.readthedocs.io/en/stable/running_mypy.html#missing-imports\n\nChange-Id: I035d6dc752eaa83105cc12797765b304d843e1f7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/795532/\n'}]",0,795533,5c02091647f80fb3c818d5d47db2de49763c66cf,145,3,5,15334,,,0,"requirements: Add types-paramiko

This is required to resolve the following warning:

  error: Library stubs not installed for ""paramiko"" (or incompatible with Python 3.9)
  note: Hint: ""python3 -m pip install types-paramiko""
  note: (or run ""mypy --install-types"" to install all missing stub packages)
  note: See https://mypy.readthedocs.io/en/stable/running_mypy.html#missing-imports

Change-Id: I035d6dc752eaa83105cc12797765b304d843e1f7
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Depends-On: https://review.opendev.org/c/openstack/requirements/+/795532/
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/795533/5 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,9e67e3493185f7e0015eac799f402f4c44749e9a,types-paramiko,types-paramiko>=0.1.3 # Apache-2.0,,1,0
openstack%2Fironic~stable%2Fwallaby~If298a98b0807e69a3194e48e42d897e8c8414e7e,openstack/ironic,stable/wallaby,If298a98b0807e69a3194e48e42d897e8c8414e7e,Improve agent_client logging,MERGED,2021-06-07 17:53:31.000000000,2021-06-12 20:43:03.000000000,2021-06-08 10:05:39.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-07 17:53:31.000000000', 'files': ['ironic/drivers/modules/agent_client.py', 'ironic/common/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/fc8e1652b06336f91a268583f6606731e8715509', 'message': 'Improve agent_client logging\n\n* Avoid logging large keys, such as system_logs\n* Log request params when sending a request\n* Sanitizing requests and responses before logging\n\nChange-Id: If298a98b0807e69a3194e48e42d897e8c8414e7e\n(cherry picked from commit 96aae720ad17231da5144b1c43eee97865f2d52d)\n'}]",0,795135,fc8e1652b06336f91a268583f6606731e8715509,10,2,1,10239,,,0,"Improve agent_client logging

* Avoid logging large keys, such as system_logs
* Log request params when sending a request
* Sanitizing requests and responses before logging

Change-Id: If298a98b0807e69a3194e48e42d897e8c8414e7e
(cherry picked from commit 96aae720ad17231da5144b1c43eee97865f2d52d)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/35/795135/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent_client.py', 'ironic/common/utils.py']",2,fc8e1652b06336f91a268583f6606731e8715509,logging-stable/wallaby,"from collections import abc _LARGE_KEYS = frozenset(['system_logs']) def remove_large_keys(var): """"""Remove specific keys from the var, recursing into dicts and lists."""""" if isinstance(var, abc.Mapping): return {key: (remove_large_keys(value) if key not in _LARGE_KEYS else '<...>') for key, value in var.items()} elif isinstance(var, abc.Sequence) and not isinstance(var, str): return var.__class__(map(remove_large_keys, var)) else: return var",,33,4
openstack%2Fmasakari~master~Idcc9cdb61cb4f65b99471dee519dab21ee02c49c,openstack/masakari,master,Idcc9cdb61cb4f65b99471dee519dab21ee02c49c,Fix notification status in notification.inc,MERGED,2021-06-11 01:34:19.000000000,2021-06-12 19:49:32.000000000,2021-06-12 19:47:30.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32304}]","[{'number': 1, 'created': '2021-06-11 01:34:19.000000000', 'files': ['api-ref/source/notifications.inc'], 'web_link': 'https://opendev.org/openstack/masakari/commit/ae23b74b50cdfe127a3e8f5ac50b2350488ee9be', 'message': ""Fix notification status in notification.inc\n\nThe notification 'status' values should be lowercase.\n\nChange-Id: Idcc9cdb61cb4f65b99471dee519dab21ee02c49c\n""}]",0,795913,ae23b74b50cdfe127a3e8f5ac50b2350488ee9be,7,3,1,32435,,,0,"Fix notification status in notification.inc

The notification 'status' values should be lowercase.

Change-Id: Idcc9cdb61cb4f65b99471dee519dab21ee02c49c
",git fetch https://review.opendev.org/openstack/masakari refs/changes/13/795913/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/notifications.inc'],1,ae23b74b50cdfe127a3e8f5ac50b2350488ee9be,fix-notification-status,- ``new``. The notification is in new state and yet to be processed. - ``running``. The notification is in progress. - ``finished``. The notification is completed successfully. - ``error``. The notification is ended up in error. - ``failed``. The notification is not processed successfully after failed once. - ``ignored``. The notification is ignored by masakari engine.,- ``NEW``. The notification is in new state and yet to be processed. - ``RUNNING``. The notification is in progress. - ``FINISHED``. The notification is completed successfully. - ``ERROR``. The notification is ended up in error. - ``FAILED``. The notification is not processed successfully after failed once. - ``IGNORED``. The notification is ignored by masakari engine.,6,6
openstack%2Fmasakari~master~I0f2401fd57c98879d40923ad59d224a531b17bbd,openstack/masakari,master,I0f2401fd57c98879d40923ad59d224a531b17bbd,[train][goal][CI] Define IPv6-only testing job,MERGED,2019-09-17 04:29:02.000000000,2021-06-12 19:48:37.000000000,2021-06-12 19:46:46.000000000,"[{'_account_id': 3085}, {'_account_id': 8716}, {'_account_id': 22348}, {'_account_id': 25267}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-17 04:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/7239a8307eee23744be6ca17629288eb31fbc0f1', 'message': ""[train][goal] Define new 'masakari-functional-devstack-multinode-ipv6-only' job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nDevstack, Tempest has defined the base job 'devstack-ipv6' and\n'devstack-tempest-ipv6' which will deploy services on IPv6.\n\nThis commit adds the new job 'masakari-functional-devstack-multinode-ipv6-only'\nrun on gate and set the required IPv6 setting'.\n\nStory: #2005477\nTask: #35904\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I0f2401fd57c98879d40923ad59d224a531b17bbd\n""}, {'number': 2, 'created': '2019-09-18 15:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/e1ff533b015febce2f6660b5e996d65c83ef0a7b', 'message': ""[train][goal] Define new 'masakari-functional-devstack-multinode-ipv6-only' job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nDevstack, Tempest has defined the base job 'devstack-ipv6' and\n'devstack-tempest-ipv6' which will deploy services on IPv6.\n\nThis commit adds the new job 'masakari-functional-devstack-multinode-ipv6-only'\nrun on gate and set the required IPv6 setting'.\n\nStory: #2005477\nTask: #35904\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I0f2401fd57c98879d40923ad59d224a531b17bbd\n""}, {'number': 3, 'created': '2019-10-29 21:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/51cf633cdf085875a327c8b0c69f2027c2808ac6', 'message': ""[train][goal] Define new 'masakari-functional-devstack-multinode-ipv6-only' job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nDevstack, Tempest has defined the base job 'devstack-ipv6' and\n'devstack-tempest-ipv6' which will deploy services on IPv6.\n\nThis commit adds the new job 'masakari-functional-devstack-multinode-ipv6-only'\nrun on gate and set the required IPv6 setting'.\n\nStory: #2005477\nTask: #35904\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I0f2401fd57c98879d40923ad59d224a531b17bbd\n""}, {'number': 4, 'created': '2021-06-07 11:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/8337c8a307fa83c6c2911a431bb473bd8a278a6e', 'message': ""[train][goal] Define new 'masakari-functional-devstack-multinode-ipv6-only' job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nDevstack, Tempest has defined the base job 'devstack-ipv6' and\n'devstack-tempest-ipv6' which will deploy services on IPv6.\n\nThis commit adds the new job 'masakari-functional-devstack-multinode-ipv6-only'\nrun on gate and set the required IPv6 setting'.\n\nStory: #2005477\nTask: #35904\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I0f2401fd57c98879d40923ad59d224a531b17bbd\n""}, {'number': 5, 'created': '2021-06-07 12:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/fa8dfb928770737bef11df972ce1f0d0f1996922', 'message': ""[train][goal] Define new 'masakari-functional-devstack-multinode-ipv6-only' job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nDevstack, Tempest has defined the base job 'devstack-ipv6' and\n'devstack-tempest-ipv6' which will deploy services on IPv6.\n\nThis commit adds the new job 'masakari-functional-devstack-multinode-ipv6-only'\nrun on gate and set the required IPv6 setting'.\n\nStory: #2005477\nTask: #35904\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I0f2401fd57c98879d40923ad59d224a531b17bbd\n""}, {'number': 6, 'created': '2021-06-07 12:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/41875d1f978caae637dc65f9e3bccc28b4916c6f', 'message': ""[train][goal] Define new 'masakari-functional-devstack-multinode-ipv6-only' job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nDevstack, Tempest has defined the base job 'devstack-ipv6' and\n'devstack-tempest-ipv6' which will deploy services on IPv6.\n\nThis commit adds the new job 'masakari-functional-devstack-multinode-ipv6-only'\nrun on gate and set the required IPv6 setting'.\n\nStory: #2005477\nTask: #35904\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I0f2401fd57c98879d40923ad59d224a531b17bbd\n""}, {'number': 7, 'created': '2021-06-07 15:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/e6297b3aa0da1731577a8eb1913f8c7d78fa15c0', 'message': ""[train][goal] Define new 'masakari-functional-devstack-multinode-ipv6-only' job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nDevstack, Tempest has defined the base job 'devstack-ipv6' and\n'devstack-tempest-ipv6' which will deploy services on IPv6.\n\nThis commit adds the new job 'masakari-functional-devstack-multinode-ipv6-only'\nrun on gate and set the required IPv6 setting'.\n\nStory: #2005477\nTask: #35904\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I0f2401fd57c98879d40923ad59d224a531b17bbd\n""}, {'number': 8, 'created': '2021-06-07 18:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/1ffe2929ed628ab2b5afe3c93ea6109e6ad23580', 'message': ""[train][goal][CI] Define IPv6-only testing job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nDevstack, Tempest has defined the base job 'devstack-ipv6' and\n'devstack-tempest-ipv6' which will deploy services on IPv6.\n\nThis commit adds a new job to run with the required IPv6 setting.\n\nStory: #2005477\nTask: #35904\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I0f2401fd57c98879d40923ad59d224a531b17bbd\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/795161\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 9, 'created': '2021-06-07 18:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/ff1941832479b6980a0206977a9d94b57bc9ba76', 'message': ""[train][goal][CI] Define IPv6-only testing job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nDevstack, Tempest has defined the base job 'devstack-ipv6' and\n'devstack-tempest-ipv6' which will deploy services on IPv6.\n\nThis commit adds a new job to run with the required IPv6 setting.\n\nStory: #2005477\nTask: #35904\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I0f2401fd57c98879d40923ad59d224a531b17bbd\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/795161\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 10, 'created': '2021-06-12 18:38:43.000000000', 'files': ['playbooks/devstack/run-verify-config-is-ipv6-only.yaml', '.zuul.yaml', 'playbooks/devstack/run.yaml', 'playbooks/devstack/run-devstack.yaml', 'playbooks/devstack/run-tox.yaml'], 'web_link': 'https://opendev.org/openstack/masakari/commit/1798a58604be19797314cef0de03908473d4d283', 'message': ""[train][goal][CI] Define IPv6-only testing job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nDevstack, Tempest has defined the base job 'devstack-ipv6' and\n'devstack-tempest-ipv6' which will deploy services on IPv6.\n\nThis commit adds a new job to run with the required IPv6 setting.\n\nStory: #2005477\nTask: #35904\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I0f2401fd57c98879d40923ad59d224a531b17bbd\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/795161\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}]",1,682533,1798a58604be19797314cef0de03908473d4d283,28,5,10,8556,,,0,"[train][goal][CI] Define IPv6-only testing job

As part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],
Devstack, Tempest has defined the base job 'devstack-ipv6' and
'devstack-tempest-ipv6' which will deploy services on IPv6.

This commit adds a new job to run with the required IPv6 setting.

Story: #2005477
Task: #35904

[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html

Change-Id: I0f2401fd57c98879d40923ad59d224a531b17bbd
Depends-On: https://review.opendev.org/c/openstack/devstack/+/795161
Co-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/masakari refs/changes/33/682533/9 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/devstack/run-ipv6.yaml', '.zuul.yaml']",2,7239a8307eee23744be6ca17629288eb31fbc0f1,ipv6-only-deployment-and-testing,"- job: name: masakari-functional-devstack-multinode-ipv6-only parent: masakari-functional-devstack-multinode description: | Masakari multinodes job for devstack-based functional tests with IPv6 env. run: playbooks/devstack-ipv6/run-ipv6.yaml required-projects: - openstack/tempest vars: devstack_localrc: SERVICE_IP_VERSION: 6 SERVICE_HOST: """" USE_PYTHON3: true - masakari-functional-devstack-multinode-ipv6-only: voting: true",,23,0
openstack%2Fpuppet-cinder~master~I7c8c8b465ac47fe4609e9d8daa4848b132d383c7,openstack/puppet-cinder,master,I7c8c8b465ac47fe4609e9d8daa4848b132d383c7,Drop Fedora support,MERGED,2021-05-26 09:53:51.000000000,2021-06-12 19:33:44.000000000,2021-06-12 19:32:36.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-26 09:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/ec9e8e2527b8525bd69a4f980e53ead24d3e5004', 'message': ""Drop support for Fedora\n\nSupport for Fedora is never tested, and has been unmaintained for\na while. Because we don't expect any actual user using OpenStack on\nFedora, this change drops support for Fedora directly.\n\nChange-Id: I7c8c8b465ac47fe4609e9d8daa4848b132d383c7\n""}, {'number': 2, 'created': '2021-05-26 09:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/becca294f2ace928ccfe65d0cb3ef83d0058f371', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I7c8c8b465ac47fe4609e9d8daa4848b132d383c7\n""}, {'number': 3, 'created': '2021-05-28 00:43:02.000000000', 'files': ['metadata.json', 'releasenotes/notes/drop-fedora-797a1e2a02292ab8.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/27c6fe9700d9fa8324dc87008f75141682ceb8d8', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I7c8c8b465ac47fe4609e9d8daa4848b132d383c7\n""}]",0,793133,27c6fe9700d9fa8324dc87008f75141682ceb8d8,12,3,3,9816,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I7c8c8b465ac47fe4609e9d8daa4848b132d383c7
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/33/793133/2 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/drop-fedora-797a1e2a02292ab8.yaml', 'spec/classes/cinder_client_spec.rb']",3,ec9e8e2527b8525bd69a4f980e53ead24d3e5004,drop-fedora, if facts[:operatingsystemmajrelease] > '7' { :client_package_name => 'python-cinderclient' }, if facts[:operatingsystem] == 'Fedora' if facts[:operatingsystemmajrelease] > '7' { :client_package_name => 'python3-cinderclient' } else { :client_package_name => 'python-cinderclient' } end,6,12
openstack%2Fswift~master~I4b6c29c89fa68a35c51d93ea99d251fedd586f97,openstack/swift,master,I4b6c29c89fa68a35c51d93ea99d251fedd586f97,Add unit test for missing whole EC fragments,MERGED,2021-06-01 10:47:03.000000000,2021-06-12 18:42:56.000000000,2021-06-12 18:41:40.000000000,"[{'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-01 10:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cd0af9a39a90af480d69fcfab73851d286c5d804', 'message': 'Add unit test for missing whole EC fragments\n\nTest the case when one object server returns exactly N less\nfragments than others.\n\nChange-Id: I4b6c29c89fa68a35c51d93ea99d251fedd586f97\n'}, {'number': 2, 'created': '2021-06-01 12:28:45.000000000', 'files': ['test/unit/proxy/controllers/test_obj.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/e4c656bc59ddfda94be367053d762cdbbd1021fe', 'message': 'Add unit test for missing whole EC fragments\n\nTest the case when one object server returns exactly N less\nfragments than others.\n\nChange-Id: I4b6c29c89fa68a35c51d93ea99d251fedd586f97\n'}]",0,793945,e4c656bc59ddfda94be367053d762cdbbd1021fe,17,3,2,7847,,,0,"Add unit test for missing whole EC fragments

Test the case when one object server returns exactly N less
fragments than others.

Change-Id: I4b6c29c89fa68a35c51d93ea99d251fedd586f97
",git fetch https://review.opendev.org/openstack/swift refs/changes/45/793945/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/controllers/test_obj.py', 'swift/proxy/controllers/obj.py']",2,cd0af9a39a90af480d69fcfab73851d286c5d804,extra_unrecoverable_ec_logging, print([len(f) for f in fragments if f]),,47,1
openstack%2Fswift~stable%2Fwallaby~Ia5857c70e51d8af3e42ecaced95525be578db127,openstack/swift,stable/wallaby,Ia5857c70e51d8af3e42ecaced95525be578db127,Quote paths before sending them to swob.Request.blank,MERGED,2021-05-27 21:35:56.000000000,2021-06-12 18:29:44.000000000,2021-06-12 18:28:34.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-27 21:35:56.000000000', 'files': ['test/unit/common/middleware/test_tempurl.py', 'test/unit/common/test_swob.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/c966628978ac4ceb1d94ba92879df071b8ca265d', 'message': ""Quote paths before sending them to swob.Request.blank\n\nFollowing the fix for https://bugs.python.org/issue43882, our py39 unit\ntests started failing. This was because swob.Request.blank calls\nstdlib's urlparse, which now strips out newlines. Since Request.blank\n*also* always unquotes, just make sure we always quote the newlines we\nwant to use while testing.\n\nChange-Id: Ia5857c70e51d8af3e42ecaced95525be578db127\n""}]",0,793439,c966628978ac4ceb1d94ba92879df071b8ca265d,11,2,1,15343,,,0,"Quote paths before sending them to swob.Request.blank

Following the fix for https://bugs.python.org/issue43882, our py39 unit
tests started failing. This was because swob.Request.blank calls
stdlib's urlparse, which now strips out newlines. Since Request.blank
*also* always unquotes, just make sure we always quote the newlines we
want to use while testing.

Change-Id: Ia5857c70e51d8af3e42ecaced95525be578db127
",git fetch https://review.opendev.org/openstack/swift refs/changes/39/793439/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/test_tempurl.py', 'test/unit/common/test_swob.py']",2,c966628978ac4ceb1d94ba92879df071b8ca265d,," self.assertIn(hacker, req.environ['PATH_INFO']) # sanity check _test_split_path('o%0an e', 2) _test_split_path('o%0an e', 2, 3, True)"," req = swob.Request.blank('/v1/' + hacker) resp = req.get_response(test_app) self.assertEqual(resp.status_int, 401) self.assertTrue('Www-Authenticate' in resp.headers) self.assertEqual('Swift realm=""%s""' % quoted_hacker, resp.headers['Www-Authenticate']) _test_split_path('o\nn e', 2) _test_split_path('o\nn e', 2, 3, True)",5,10
openstack%2Fnova~master~I856268b371f7ba712b02189db3c927cd762a4dc3,openstack/nova,master,I856268b371f7ba712b02189db3c927cd762a4dc3,virt: Add destroy_secrets kwarg to destroy and cleanup,MERGED,2021-06-02 15:19:34.000000000,2021-06-12 17:28:36.000000000,2021-06-12 17:26:56.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-02 15:19:34.000000000', 'files': ['nova/virt/hyperv/driver.py', 'nova/virt/ironic/driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/fake.py', 'nova/virt/vmwareapi/driver.py', 'nova/virt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1cc52fd2f22ec37194519e473c88260bf90a3c8c', 'message': 'virt: Add destroy_secrets kwarg to destroy and cleanup\n\nThis change adds a simple optional kwarg to the virt driver signature of\ndestroy and cleanup to allow for callers to control when secrets should\nbe removed.\n\nChange-Id: I856268b371f7ba712b02189db3c927cd762a4dc3\n'}]",0,794252,1cc52fd2f22ec37194519e473c88260bf90a3c8c,47,3,1,10135,,,0,"virt: Add destroy_secrets kwarg to destroy and cleanup

This change adds a simple optional kwarg to the virt driver signature of
destroy and cleanup to allow for callers to control when secrets should
be removed.

Change-Id: I856268b371f7ba712b02189db3c927cd762a4dc3
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/794252/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/hyperv/driver.py', 'nova/virt/ironic/driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/fake.py', 'nova/virt/vmwareapi/driver.py', 'nova/virt/driver.py']",6,1cc52fd2f22ec37194519e473c88260bf90a3c8c,bug/1905701," destroy_disks=True, destroy_secrets=True): :param destroy_secrets: Indicates if secrets should be destroyed destroy_disks=True, migrate_data=None, destroy_vifs=True, destroy_secrets=True): :param destroy_vifs: Indicates if vifs should be unplugged :param destroy_secrets: Indicates if secrets should be destroyed"," destroy_disks=True): destroy_disks=True, migrate_data=None, destroy_vifs=True):",23,11
openstack%2Foslo.metrics~master~Ibd1226b0e72ec374d36a90a826b8cc6c6b57d1f2,openstack/oslo.metrics,master,Ibd1226b0e72ec374d36a90a826b8cc6c6b57d1f2,Use py3 as the default runtime for tox,MERGED,2021-04-20 01:47:16.000000000,2021-06-12 17:07:21.000000000,2021-06-12 17:06:16.000000000,"[{'_account_id': 22348}, {'_account_id': 32523}]","[{'number': 1, 'created': '2021-04-20 01:47:16.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.metrics/commit/f03eb56846a8548144d75d0c7743c0ae4a478a48', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update this at\neach new cycle.\n\nChange-Id: Ibd1226b0e72ec374d36a90a826b8cc6c6b57d1f2\n'}]",0,787012,f03eb56846a8548144d75d0c7743c0ae4a478a48,7,2,1,30384,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Change-Id: Ibd1226b0e72ec374d36a90a826b8cc6c6b57d1f2
",git fetch https://review.opendev.org/openstack/oslo.metrics refs/changes/12/787012/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f03eb56846a8548144d75d0c7743c0ae4a478a48,,"envlist = py3,pep8","envlist = py38,pep8",1,1
openstack%2Fpuppet-freezer~master~I6095e9aa5f9c6dcd07e246d78f86ff2ef5660fa4,openstack/puppet-freezer,master,I6095e9aa5f9c6dcd07e246d78f86ff2ef5660fa4,Get rid of the $pyvers variable,MERGED,2021-06-09 14:15:16.000000000,2021-06-12 14:57:46.000000000,2021-06-12 14:57:46.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 14:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/b3ed554122b1a6858131353e3ac4bbea1acac47a', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: I6095e9aa5f9c6dcd07e246d78f86ff2ef5660fa4\n""}, {'number': 2, 'created': '2021-06-09 15:37:07.000000000', 'files': ['manifests/params.pp', 'spec/classes/freezer_client_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/d48492d84a5047d077e3654201ddeba7f7fd0042', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: I6095e9aa5f9c6dcd07e246d78f86ff2ef5660fa4\n""}]",0,795549,d48492d84a5047d077e3654201ddeba7f7fd0042,13,3,2,6476,,,0,"Get rid of the $pyvers variable

Since everyone has switched to Python3, it's time for the removal of the
$pyvers variable.

Change-Id: I6095e9aa5f9c6dcd07e246d78f86ff2ef5660fa4
",git fetch https://review.opendev.org/openstack/puppet-freezer refs/changes/49/795549/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/params.pp', 'spec/classes/freezer_client_spec.rb']",2,b3ed554122b1a6858131353e3ac4bbea1acac47a,pyvers-removal, { :client_package_name => 'python3-freezerclient' }, if facts[:operatingsystem] == 'Fedora' { :client_package_name => 'python3-freezerclient' } else if facts[:operatingsystemmajrelease] > '7' { :client_package_name => 'python3-freezerclient' } else { :client_package_name => 'python-freezerclient' } end end,2,11
openstack%2Fpuppet-zaqar~master~I12be1252789149fd41229151df5028c0871c0094,openstack/puppet-zaqar,master,I12be1252789149fd41229151df5028c0871c0094,Drop Fedora support,ABANDONED,2021-06-12 14:46:59.000000000,2021-06-12 14:48:07.000000000,,[],"[{'number': 1, 'created': '2021-06-12 14:46:59.000000000', 'files': ['spec/classes/zaqar_wsgi_apache_spec.rb', 'releasenotes/notes/drop-fedora-6731e1acc868cd7b.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/5e9492a69243ebd1250c55912e943db64eb57196', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I12be1252789149fd41229151df5028c0871c0094\n""}]",0,796131,5e9492a69243ebd1250c55912e943db64eb57196,2,0,1,9816,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I12be1252789149fd41229151df5028c0871c0094
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/31/796131/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/zaqar_wsgi_apache_spec.rb', 'releasenotes/notes/drop-fedora-6731e1acc868cd7b.yaml']",2,5e9492a69243ebd1250c55912e943db64eb57196,drop-fedora,--- upgrade: - | Fedora is no longer supported. ,,10,24
openstack%2Ftripleo-heat-templates~master~I7395dad4949e04b05f76df5fa9d149e452569a10,openstack/tripleo-heat-templates,master,I7395dad4949e04b05f76df5fa9d149e452569a10,Honor the Debug parameter in Zaqar template,MERGED,2021-06-08 12:24:28.000000000,2021-06-12 14:36:15.000000000,2021-06-12 14:36:15.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-08 12:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4a823cde7c949eda6269e64f4d808f2470a0bf64', 'message': 'Horor the Debug parameter in Zaqar template\n\nThis change fixes an issue implemented by refactoring of debug\nparameters[1], and ensure the Debug parameter is used when determining\nthe debug parameter for Zaqar.\n\n[1] b4203a30eb7d8b2aef908d6ae789fd03b1380893\n\nChange-Id: I7395dad4949e04b05f76df5fa9d149e452569a10\n'}, {'number': 2, 'created': '2021-06-08 13:35:21.000000000', 'files': ['deployment/deprecated/zaqar/zaqar-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d2132dd81f9890e85016756187c0df67f798c83f', 'message': 'Honor the Debug parameter in Zaqar template\n\nThis change fixes an issue implemented by refactoring of debug\nparameters[1], and ensure the Debug parameter is used when determining\nthe debug parameter for Zaqar.\n\n[1] b4203a30eb7d8b2aef908d6ae789fd03b1380893\n\nChange-Id: I7395dad4949e04b05f76df5fa9d149e452569a10\n'}]",2,795311,d2132dd81f9890e85016756187c0df67f798c83f,30,5,2,9816,,,0,"Honor the Debug parameter in Zaqar template

This change fixes an issue implemented by refactoring of debug
parameters[1], and ensure the Debug parameter is used when determining
the debug parameter for Zaqar.

[1] b4203a30eb7d8b2aef908d6ae789fd03b1380893

Change-Id: I7395dad4949e04b05f76df5fa9d149e452569a10
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/11/795311/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/deprecated/zaqar/zaqar-container-puppet.yaml'],1,4a823cde7c949eda6269e64f4d808f2470a0bf64,zaqar-debug, - {get_param: Debug }, - {get_param: ZaqarDebug },1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~If9c68fe2c4b6ea4f6a9d74460415600a70256ec5,openstack/tripleo-heat-templates,stable/train,If9c68fe2c4b6ea4f6a9d74460415600a70256ec5,Update rhsm repo examples for RHEL8 deployments,MERGED,2021-06-10 09:49:13.000000000,2021-06-12 14:36:08.000000000,2021-06-12 14:36:08.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-06-10 09:49:13.000000000', 'files': ['environments/rhsm.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/924319960c8b6ac90a96b017ebe8a315052d2028', 'message': 'Update rhsm repo examples for RHEL8 deployments\n\nThis patch updates the repos used in the rhsm template from the rhel 7\nexamples to rhel8 examples as per Red Hats deployment guide, this\nsimlply makes the examples more accurate.\n\nCloses-Bug: #1931194\nChange-Id: If9c68fe2c4b6ea4f6a9d74460415600a70256ec5\n(cherry picked from commit b7fe787584f36c522f2f35233ca36508a160e779)\n(cherry picked from commit 20840a7a5f2d0210af4c445c1b8ca760a43d16cc)\n(cherry picked from commit c595a9a8309f79195147bdcb755ba694ab1afdc6)\n(cherry picked from commit 90e0ede26eb7aaa64507c655d9ce138b45228583)\n'}]",0,795755,924319960c8b6ac90a96b017ebe8a315052d2028,11,5,1,32114,,,0,"Update rhsm repo examples for RHEL8 deployments

This patch updates the repos used in the rhsm template from the rhel 7
examples to rhel8 examples as per Red Hats deployment guide, this
simlply makes the examples more accurate.

Closes-Bug: #1931194
Change-Id: If9c68fe2c4b6ea4f6a9d74460415600a70256ec5
(cherry picked from commit b7fe787584f36c522f2f35233ca36508a160e779)
(cherry picked from commit 20840a7a5f2d0210af4c445c1b8ca760a43d16cc)
(cherry picked from commit c595a9a8309f79195147bdcb755ba694ab1afdc6)
(cherry picked from commit 90e0ede26eb7aaa64507c655d9ce138b45228583)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/795755/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/rhsm.yaml'],1,924319960c8b6ac90a96b017ebe8a315052d2028,bug/1931194-stable/train,# - rhel-8-for-x86_64-baseos-eus-rpms # - rhel-8-for-x86_64-appstream-eus-rpms # - rhel-8-for-x86_64-highavailability-eus-rpms # - ansible-2.9-for-rhel-8-x86_64-rpms # - advanced-virt-for-rhel-8-x86_64-rpms # - openstack-16.1-for-rhel-8-x86_64-rpms # - fast-datapath-for-rhel-8-x86_64-rpms # - rhceph-4-tools-for-rhel-8-x86_64-rpms # - rhceph-4-mon-for-rhel-8-x86_64-rpms# rhsm_release: '8.2'# - rhel-8-for-x86_64-baseos-eus-rpms # - rhel-8-for-x86_64-appstream-eus-rpms # - rhel-8-for-x86_64-highavailability-eus-rpms # - ansible-2.9-for-rhel-8-x86_64-rpms # - advanced-virt-for-rhel-8-x86_64-rpms # - openstack-16.1-for-rhel-8-x86_64-rpms # - fast-datapath-for-rhel-8-x86_64-rpms # - rhceph-4-tools-for-rhel-8-x86_64-rpms # - rhceph-4-mon-for-rhel-8-x86_64-rpms# rhsm_release: '8.2',# - rhel-7-server-rpms # - rhel-7-server-extras-rpms # - rhel-ha-for-rhel-7-server-rpms # - rhel-7-server-openstack-13-rpms # - rhel-7-server-rhceph-3-mon-rpms # - rhel-7-server-rhceph-3-tools-rpms# rhsm_release: '8.1'# - rhel-7-server-rpms # - rhel-7-server-extras-rpms # - rhel-ha-for-rhel-7-server-rpms # - rhel-7-server-openstack-13-rpms # - rhel-7-server-rhceph-3-osd-rpms # - rhel-7-server-rhceph-3-mon-rpms # - rhel-7-server-rhceph-3-tools-rpms# rhsm_release: '8.1',20,15
openstack%2Fpuppet-tripleo~stable%2Fussuri~I97442478d77d222fdd428eebd270c08df08237f6,openstack/puppet-tripleo,stable/ussuri,I97442478d77d222fdd428eebd270c08df08237f6,Add support for ovn clustered databases,MERGED,2021-06-11 16:27:30.000000000,2021-06-12 14:25:10.000000000,2021-06-12 14:25:10.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-11 16:27:30.000000000', 'files': ['manifests/profile/base/neutron/ovn_metadata.pp', 'manifests/profile/base/neutron/plugins/ml2/ovn.pp', 'manifests/profile/base/neutron/agents/ovn.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3bcfb9deefd16c77608ea4cbedc09dcd6d16a7a6', 'message': 'Add support for ovn clustered databases\n\nThis patch adds support for managing the ovn connection correctly when\novn is handling clustering instead of pacemaker. By default if the\nparameter is not enabled, the pacemaker managed way is assumed.\n\nConflicts:\n  manifests/profile/base/neutron/agents/ovn.pp (Due to missing\n  ""enable_ovn_match_northd => true,"" line)\n\nChange-Id: I97442478d77d222fdd428eebd270c08df08237f6\nRelated-Bug: #1931133\n(cherry picked from commit d1b1f7c675e33f2d7b0f3a5583def776ecc7e87c)\n'}]",0,795890,3bcfb9deefd16c77608ea4cbedc09dcd6d16a7a6,7,3,1,20172,,,0,"Add support for ovn clustered databases

This patch adds support for managing the ovn connection correctly when
ovn is handling clustering instead of pacemaker. By default if the
parameter is not enabled, the pacemaker managed way is assumed.

Conflicts:
  manifests/profile/base/neutron/agents/ovn.pp (Due to missing
  ""enable_ovn_match_northd => true,"" line)

Change-Id: I97442478d77d222fdd428eebd270c08df08237f6
Related-Bug: #1931133
(cherry picked from commit d1b1f7c675e33f2d7b0f3a5583def776ecc7e87c)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/90/795890/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/neutron/ovn_metadata.pp', 'manifests/profile/base/neutron/plugins/ml2/ovn.pp', 'manifests/profile/base/neutron/agents/ovn.pp']",3,3bcfb9deefd16c77608ea4cbedc09dcd6d16a7a6,victoria-stable/ussuri,"# [*ovn_db_node_ips*] # (Optional) The OVN DBs node ip addresses are listening. # Defaults to hiera('ovn_dbs_node_ips') # # [*ovn_db_clustered*] # (Optional) Boolean indicating if we're running with ovn db clustering # or pacemaker. Defaults to false for backwards compatibility # Defaults to hiera('ovn_db_clustered', false) # $ovn_db_host = hiera('ovn_dbs_vip', undef), $ovn_db_node_ips = hiera('ovn_dbs_node_ips', undef), $ovn_db_clustered = hiera('ovn_db_clustered', false), if $ovn_db_clustered { $db_hosts = any2array($ovn_db_node_ips) } else { $db_hosts = any2array($ovn_db_host) } $sb_conn = $db_hosts.map |$h| { join([$protocol, normalize_ip_for_uri($h), ""${ovn_sbdb_port}""], ':') } class { 'ovn::controller': ovn_remote => join(any2array($sb_conn), ','),"," $ovn_db_host = hiera('ovn_dbs_vip'), class { 'ovn::controller': ovn_remote => join([$protocol, normalize_ip_for_uri($ovn_db_host), ""${ovn_sbdb_port}""], ':'),",63,7
openstack%2Fpuppet-glance~master~I17a2971099f12ddd754593aae8b380f01518c8ea,openstack/puppet-glance,master,I17a2971099f12ddd754593aae8b380f01518c8ea,WIP Switch glance_api_config ini management to ruby backend,ABANDONED,2019-11-07 11:22:44.000000000,2021-06-12 13:51:31.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-07 11:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/8a4db81741f650ab0a3a154fb4b100fa370fe8fe', 'message': ""WIP Switch glance_api_config ini management to ruby backend\n\nThis is done so that we can correctly specify multiple notification\ndrivers. Via puppet-oslo change in If65946412b42e0919456ed92fdd8e3788ad67872\nwe want to be able to specify multiple drivers for oslo messaging\nnotification by passing a list.\n\nLet's switch the ini management backend to the ruby backend so we can\ncorrectly have multiple driver= lines.\n\nNB: WIP as I need to do another round of tests (initial tests were fine)\n\nChange-Id: I17a2971099f12ddd754593aae8b380f01518c8ea\nRelated-Bug: #1851629\n""}, {'number': 2, 'created': '2020-05-01 14:45:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/f76efe498353f61ec58e85933d600ac59302d641', 'message': ""WIP Switch glance_api_config ini management to ruby backend\n\nThis is done so that we can correctly specify multiple notification\ndrivers. Via puppet-oslo change in If65946412b42e0919456ed92fdd8e3788ad67872\nwe want to be able to specify multiple drivers for oslo messaging\nnotification by passing a list.\n\nLet's switch the ini management backend to the ruby backend so we can\ncorrectly have multiple driver= lines.\n\nNB: WIP as I need to do another round of tests (initial tests were fine)\n\nChange-Id: I17a2971099f12ddd754593aae8b380f01518c8ea\nRelated-Bug: #1851629\n""}, {'number': 3, 'created': '2020-07-04 07:32:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/7f842b28e2e296c62d5b98dd62576aef781f477b', 'message': ""WIP Switch glance_api_config ini management to ruby backend\n\nThis is done so that we can correctly specify multiple notification\ndrivers. Via puppet-oslo change in If65946412b42e0919456ed92fdd8e3788ad67872\nwe want to be able to specify multiple drivers for oslo messaging\nnotification by passing a list.\n\nLet's switch the ini management backend to the ruby backend so we can\ncorrectly have multiple driver= lines.\n\nNB: WIP as I need to do another round of tests (initial tests were fine)\n\nChange-Id: I17a2971099f12ddd754593aae8b380f01518c8ea\nRelated-Bug: #1851629\n""}, {'number': 4, 'created': '2020-11-22 16:11:57.000000000', 'files': ['lib/puppet/provider/glance_api_config/ini_setting.rb', 'lib/puppet/type/glance_api_config.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/fe370582ed212c53f096a79660d311e0df3f7aad', 'message': ""WIP Switch glance_api_config ini management to ruby backend\n\nThis is done so that we can correctly specify multiple notification\ndrivers. Via puppet-oslo change in If65946412b42e0919456ed92fdd8e3788ad67872\nwe want to be able to specify multiple drivers for oslo messaging\nnotification by passing a list.\n\nLet's switch the ini management backend to the ruby backend so we can\ncorrectly have multiple driver= lines.\n\nNB: WIP as I need to do another round of tests (initial tests were fine)\n\nChange-Id: I17a2971099f12ddd754593aae8b380f01518c8ea\nRelated-Bug: #1851629\n""}]",2,693340,fe370582ed212c53f096a79660d311e0df3f7aad,12,3,4,20172,,,0,"WIP Switch glance_api_config ini management to ruby backend

This is done so that we can correctly specify multiple notification
drivers. Via puppet-oslo change in If65946412b42e0919456ed92fdd8e3788ad67872
we want to be able to specify multiple drivers for oslo messaging
notification by passing a list.

Let's switch the ini management backend to the ruby backend so we can
correctly have multiple driver= lines.

NB: WIP as I need to do another round of tests (initial tests were fine)

Change-Id: I17a2971099f12ddd754593aae8b380f01518c8ea
Related-Bug: #1851629
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/40/693340/4 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/glance_api_config/ini_setting.rb', 'lib/puppet/type/glance_api_config.rb']",2,8a4db81741f650ab0a3a154fb4b100fa370fe8fe,notif," newproperty(:value, :array_matching => :all) do def insync?(is) return true if @should.empty? return false unless is.is_a? Array return false unless is.length == @should.length # we don't care about the order of items in array, hence # it is necessary to override insync return ( is & @should == is or is & @should.map(&:to_s) == is ) end", newproperty(:value) do,13,2
openstack%2Ftripleo-heat-templates~master~I2887249af44ccfdae1592dd9120d3366fa059876,openstack/tripleo-heat-templates,master,I2887249af44ccfdae1592dd9120d3366fa059876,Add support for keystone_authtoken/memcache_use_advanced_pool,MERGED,2021-06-07 01:34:08.000000000,2021-06-12 13:42:03.000000000,2021-06-12 13:40:31.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-07 01:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/86ea058316e8391a30d74eae21484b6f3186c0c6', 'message': 'Add support for keystone_authtoken/memcache_use_advanced_pool\n\nThis change introduces a single parameter, MemcacheUseAdvancedPool,\nto enable usage of advanced connection pool in keystone middleware.\nThis is useful to avoid bursting connection to memcached.\n\nChange-Id: I2887249af44ccfdae1592dd9120d3366fa059876\nCloses-Bug: #1931047\n'}, {'number': 2, 'created': '2021-06-07 01:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/679156d0d115ad8632fd3ef4130343dece1e1249', 'message': 'Add support for keystone_authtoken/memcache_use_advanced_pool\n\nThis change introduces a single parameter, MemcacheUseAdvancedPool,\nto enable usage of advanced connection pool in keystone middleware.\nThis is useful to avoid bursting connection to memcached.\n\nChange-Id: I2887249af44ccfdae1592dd9120d3366fa059876\nCloses-Bug: #1931047\n'}, {'number': 3, 'created': '2021-06-07 11:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9849d0448845cc3bce92a56e1c947fdc4cb88ba0', 'message': 'Add support for keystone_authtoken/memcache_use_advanced_pool\n\nThis change introduces a single parameter, MemcacheUseAdvancedPool,\nto enable usage of advanced connection pool in keystone middleware.\nThis is useful to avoid bursting connection to memcached.\n\nChange-Id: I2887249af44ccfdae1592dd9120d3366fa059876\nCloses-Bug: #1931047\n'}, {'number': 4, 'created': '2021-06-07 12:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a743b181d10a5643cdc4290f2023f6ed60cea8c8', 'message': 'Add support for keystone_authtoken/memcache_use_advanced_pool\n\nThis change introduces a single parameter, MemcacheUseAdvancedPool,\nto enable usage of advanced connection pool in keystone middleware.\nThis is useful to avoid bursting connection to memcached.\n\nNote that the default value of memcached_use_advanced_pool was changed\nfrom false to true during Xena cycle[1]. so this parameter is no longer\nrequired in master. However the change in keystonemiddleware will\nnever be backported so this change is created so that we can backport\nthis change to use advanced pool in older releases.\n\n[1] https://review.opendev.org/c/openstack/keystonemiddleware/+/773939\n\nCloses-Bug: #1931047\nChange-Id: I2887249af44ccfdae1592dd9120d3366fa059876\n'}, {'number': 5, 'created': '2021-06-07 12:09:09.000000000', 'files': ['deployment/deprecated/mistral/mistral-base.yaml', 'deployment/experimental/designate/designate-api-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'releasenotes/notes/memcache_use_advanced_pool-41ca18221e60c05a.yaml', 'deployment/deprecated/novajoin/novajoin-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/deprecated/zaqar/zaqar-container-puppet.yaml', 'deployment/heat/heat-base-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/09bcacd25a7217ce66eec10ccfda4847e6d3d87a', 'message': 'Add support for keystone_authtoken/memcache_use_advanced_pool\n\nThis change introduces a single parameter, MemcacheUseAdvancedPool,\nto enable usage of advanced connection pool in keystone middleware.\nThis is useful to avoid bursting connection to memcached.\n\nNote that the default value of memcached_use_advanced_pool was changed\nfrom false to true during Xena cycle[1], so this parameter is no longer\nrequired in master. However the change in keystonemiddleware will\nnever be backported. This change is created so that we can switch to\nadvanced pool even in older releases.\n\n[1] https://review.opendev.org/c/openstack/keystonemiddleware/+/773939\n\nCloses-Bug: #1931047\nChange-Id: I2887249af44ccfdae1592dd9120d3366fa059876\n'}]",2,795010,09bcacd25a7217ce66eec10ccfda4847e6d3d87a,41,6,5,9816,,,0,"Add support for keystone_authtoken/memcache_use_advanced_pool

This change introduces a single parameter, MemcacheUseAdvancedPool,
to enable usage of advanced connection pool in keystone middleware.
This is useful to avoid bursting connection to memcached.

Note that the default value of memcached_use_advanced_pool was changed
from false to true during Xena cycle[1], so this parameter is no longer
required in master. However the change in keystonemiddleware will
never be backported. This change is created so that we can switch to
advanced pool even in older releases.

[1] https://review.opendev.org/c/openstack/keystonemiddleware/+/773939

Closes-Bug: #1931047
Change-Id: I2887249af44ccfdae1592dd9120d3366fa059876
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/10/795010/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/deprecated/mistral/mistral-base.yaml', 'deployment/experimental/designate/designate-api-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/deprecated/novajoin/novajoin-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/deprecated/zaqar/zaqar-container-puppet.yaml', 'deployment/heat/heat-base-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml']",17,86ea058316e8391a30d74eae21484b6f3186c0c6,bug/1931047, MemcacheUseAdvancedPool: type: boolean description: | Use the advanced (eventlet safe) memcached client pool. default: true aodh::keystone::authtoken::memcache_use_advanced_pool: {get_param: MemcacheUseAdvancedPool},,97,0
openstack%2Fpython-tripleoclient~master~I22b2ec530f8b888a94a88e1726792a8afef227ab,openstack/python-tripleoclient,master,I22b2ec530f8b888a94a88e1726792a8afef227ab,Use ephemeral Heat by default,MERGED,2021-05-05 18:00:01.000000000,2021-06-12 13:41:55.000000000,2021-06-12 13:40:26.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-05-05 18:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/47ae4aa6c60f46064b78eef7201bef95b468845d', 'message': 'Use ephemeral Heat by default\n\nSwitches to use ephemeral Heat by default for all overcloud operations\nand defaults enable_heat to False in undercloud.conf. Stack data will be\nmigrated to the ephemeral Heat model (to use the consistent working\ndirectory) as part of the upgrade with the inclusion of the depends-on.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nDepends-On: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\nChange-Id: I22b2ec530f8b888a94a88e1726792a8afef227ab\n'}, {'number': 2, 'created': '2021-05-06 11:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2bb016610dffa820fa010da227060301cf6cda0a', 'message': 'Use ephemeral Heat by default\n\nSwitches to use ephemeral Heat by default for all overcloud operations\nand defaults enable_heat to False in undercloud.conf. Stack data will be\nmigrated to the ephemeral Heat model (to use the consistent working\ndirectory) as part of the upgrade with the inclusion of the depends-on.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nDepends-On: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\nDepends-On: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\nChange-Id: I22b2ec530f8b888a94a88e1726792a8afef227ab\n'}, {'number': 3, 'created': '2021-05-06 11:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7ccf3c1626d0e24cca35cbbdc0264ae4f953e3a9', 'message': 'Use ephemeral Heat by default\n\nSwitches to use ephemeral Heat by default for all overcloud operations\nand defaults enable_heat to False in undercloud.conf. Stack data will be\nmigrated to the ephemeral Heat model (to use the consistent working\ndirectory) as part of the upgrade with the inclusion of the depends-on.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nDepends-On: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\nDepends-On: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\nDepends-On: Idda53d1b68b97e5bb65314b1e07d507736932531\nChange-Id: I22b2ec530f8b888a94a88e1726792a8afef227ab\n'}, {'number': 4, 'created': '2021-05-07 02:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c1df39af75b4ab99d56dc26811f725b339e1af1c', 'message': 'Use ephemeral Heat by default\n\nSwitches to use ephemeral Heat by default for all overcloud operations\nand defaults enable_heat to False in undercloud.conf. Stack data will be\nmigrated to the ephemeral Heat model (to use the consistent working\ndirectory) as part of the upgrade with the inclusion of the depends-on.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nDepends-On: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\nDepends-On: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\nChange-Id: I22b2ec530f8b888a94a88e1726792a8afef227ab\n'}, {'number': 5, 'created': '2021-05-08 00:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/88f52f7739d3e52ff4c2385efa3878136f13ac14', 'message': 'Use ephemeral Heat by default\n\nSwitches to use ephemeral Heat by default for all overcloud operations\nand defaults enable_heat to False in undercloud.conf. Stack data will be\nmigrated to the ephemeral Heat model (to use the consistent working\ndirectory) as part of the upgrade with the inclusion of the depends-on.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nDepends-On: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\nDepends-On: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\nDepends-On: Ic323fccd4e30ee5a5b490a4a137735426f39ca66\nChange-Id: I22b2ec530f8b888a94a88e1726792a8afef227ab\n'}, {'number': 6, 'created': '2021-05-11 11:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/32f7a0ed20bf40e1f4ec6e682b2da2d3c977b6d4', 'message': 'Use ephemeral Heat by default\n\nSwitches to use ephemeral Heat by default for all overcloud operations\nand defaults enable_heat to False in undercloud.conf. Stack data will be\nmigrated to the ephemeral Heat model (to use the consistent working\ndirectory) as part of the upgrade with the inclusion of the depends-on.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nDepends-On: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\nDepends-On: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\nChange-Id: I22b2ec530f8b888a94a88e1726792a8afef227ab\n'}, {'number': 7, 'created': '2021-05-11 22:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ac1dec51844d9046d3fd2b936cb3ff9c1565f64a', 'message': 'Use ephemeral Heat by default\n\nSwitches to use ephemeral Heat by default for all overcloud operations\nand defaults enable_heat to False in undercloud.conf. Stack data will be\nmigrated to the ephemeral Heat model (to use the consistent working\ndirectory) as part of the upgrade with the inclusion of the depends-on.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nDepends-On: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\nDepends-On: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\nChange-Id: I22b2ec530f8b888a94a88e1726792a8afef227ab\n'}, {'number': 8, 'created': '2021-05-12 11:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/213b2aaca54de897eb185a67cd6a6eb9f48e391a', 'message': 'Use ephemeral Heat by default\n\nSwitches to use ephemeral Heat by default for all overcloud operations\nand defaults enable_heat to False in undercloud.conf. Stack data will be\nmigrated to the ephemeral Heat model (to use the consistent working\ndirectory) as part of the upgrade with the inclusion of the depends-on.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nDepends-On: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\nDepends-On: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\nChange-Id: I22b2ec530f8b888a94a88e1726792a8afef227ab\n'}, {'number': 9, 'created': '2021-05-13 12:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c9c0a5adac08ea2e8465447b4c4a221d8fe4548e', 'message': 'Use ephemeral Heat by default\n\nSwitches to use ephemeral Heat by default for all overcloud operations\nand defaults enable_heat to False in undercloud.conf. Stack data will be\nmigrated to the ephemeral Heat model (to use the consistent working\ndirectory) as part of the upgrade with the inclusion of the depends-on.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nDepends-On: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\nDepends-On: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\nChange-Id: I22b2ec530f8b888a94a88e1726792a8afef227ab\n'}, {'number': 10, 'created': '2021-05-14 11:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0fc3a1c7ba4e6dccb78e06e80b38c261d24e88d7', 'message': 'Use ephemeral Heat by default\n\nSwitches to use ephemeral Heat by default for all overcloud operations\nand defaults enable_heat to False in undercloud.conf. Stack data will be\nmigrated to the ephemeral Heat model (to use the consistent working\ndirectory) as part of the upgrade with the inclusion of the depends-on.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nDepends-On: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\nDepends-On: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\nChange-Id: I22b2ec530f8b888a94a88e1726792a8afef227ab\n'}, {'number': 11, 'created': '2021-05-14 22:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/06eeccee0ac426ddda79485f89a5391a50eb2103', 'message': 'Use ephemeral Heat by default\n\nSwitches to use ephemeral Heat by default for all overcloud operations\nand defaults enable_heat to False in undercloud.conf. Stack data will be\nmigrated to the ephemeral Heat model (to use the consistent working\ndirectory) as part of the upgrade with the inclusion of the depends-on.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nDepends-On: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\nDepends-On: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\nChange-Id: I22b2ec530f8b888a94a88e1726792a8afef227ab\n'}, {'number': 12, 'created': '2021-05-15 00:10:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/36811c4408b97c026c12fcc271c9785c5b0020c6', 'message': 'Use ephemeral Heat by default\n\nSwitches to use ephemeral Heat by default for all overcloud operations\nand defaults enable_heat to False in undercloud.conf. Stack data will be\nmigrated to the ephemeral Heat model (to use the consistent working\ndirectory) as part of the upgrade with the inclusion of the depends-on.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nDepends-On: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\nDepends-On: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\nChange-Id: I22b2ec530f8b888a94a88e1726792a8afef227ab\n'}, {'number': 13, 'created': '2021-05-17 19:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/05727c67cb347cd6de8fbeb834825f8f3d583630', 'message': 'Use ephemeral Heat by default\n\nSwitches to use ephemeral Heat by default for all overcloud operations\nand defaults enable_heat to False in undercloud.conf. Stack data will be\nmigrated to the ephemeral Heat model (to use the consistent working\ndirectory) as part of the upgrade with the inclusion of the depends-on.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nDepends-On: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\nDepends-On: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\nChange-Id: I22b2ec530f8b888a94a88e1726792a8afef227ab\n'}, {'number': 14, 'created': '2021-05-17 22:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0851257ce62e01d475ceaeeaa1ade5dac9b0b8d8', 'message': 'Use ephemeral Heat by default\n\nSwitches to use ephemeral Heat by default for all overcloud operations\nand defaults enable_heat to False in undercloud.conf. Stack data will be\nmigrated to the ephemeral Heat model (to use the consistent working\ndirectory) as part of the upgrade with the inclusion of the depends-on.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nDepends-On: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\nDepends-On: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\nChange-Id: I22b2ec530f8b888a94a88e1726792a8afef227ab\n'}, {'number': 15, 'created': '2021-05-18 11:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2f945bbc4e09a18244c930d6e608fefb44ae378c', 'message': 'Use ephemeral Heat by default\n\nSwitches to use ephemeral Heat by default for all overcloud operations\nand defaults enable_heat to False in undercloud.conf. Stack data will be\nmigrated to the ephemeral Heat model (to use the consistent working\ndirectory) as part of the upgrade with the inclusion of the depends-on.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nDepends-On: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\nDepends-On: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\nChange-Id: I22b2ec530f8b888a94a88e1726792a8afef227ab\n'}, {'number': 16, 'created': '2021-05-18 13:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cd47979f9c2c78ef9a218fd83b1da806ef5c1f45', 'message': 'Use ephemeral Heat by default\n\nSwitches to use ephemeral Heat by default for all overcloud operations\nand defaults enable_heat to False in undercloud.conf. Stack data will be\nmigrated to the ephemeral Heat model (to use the consistent working\ndirectory) as part of the upgrade with the inclusion of the depends-on.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nDepends-On: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\nDepends-On: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\nChange-Id: I22b2ec530f8b888a94a88e1726792a8afef227ab\n'}, {'number': 17, 'created': '2021-05-18 20:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c07d5be53fc5726f6f042c13717a1879e43fa293', 'message': 'Use ephemeral Heat by default\n\nSwitches to use ephemeral Heat by default for all overcloud operations\nand defaults enable_heat to False in undercloud.conf. Stack data will be\nmigrated to the ephemeral Heat model (to use the consistent working\ndirectory) as part of the upgrade with the inclusion of the depends-on.\n\nTo improve the UX when using ephemeral Heat, ""stack resource list"" is\nnow run after ""stack failures list"" automaticaly in the case of Heat\nstack failures.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nDepends-On: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\nDepends-On: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\nDepends-On: I3d8a1282c388a8201ec1ce5c7d64796c0ce6026a\nChange-Id: I22b2ec530f8b888a94a88e1726792a8afef227ab\n'}, {'number': 18, 'created': '2021-05-18 22:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/97caf511ab527920cd5965d2e82b7c8295542fc0', 'message': 'Use ephemeral Heat by default\n\nSwitches to use ephemeral Heat by default for all overcloud operations\nand defaults enable_heat to False in undercloud.conf. Stack data will be\nmigrated to the ephemeral Heat model (to use the consistent working\ndirectory) as part of the upgrade with the inclusion of the depends-on.\n\nTo improve the UX when using ephemeral Heat, ""stack resource list"" is\nnow run after ""stack failures list"" automaticaly in the case of Heat\nstack failures.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nDepends-On: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\nDepends-On: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\nDepends-On: I3d8a1282c388a8201ec1ce5c7d64796c0ce6026a\nChange-Id: I22b2ec530f8b888a94a88e1726792a8afef227ab\n'}, {'number': 19, 'created': '2021-05-19 00:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/eeda9045023cea391d9fe159c9b851ba6a5c9212', 'message': 'Use ephemeral Heat by default\n\nSwitches to use ephemeral Heat by default for all overcloud operations\nand defaults enable_heat to False in undercloud.conf. Stack data will be\nmigrated to the ephemeral Heat model (to use the consistent working\ndirectory) as part of the upgrade with the inclusion of the depends-on.\n\nTo improve the UX when using ephemeral Heat, ""stack resource list"" is\nnow run after ""stack failures list"" automaticaly in the case of Heat\nstack failures.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nDepends-On: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\nDepends-On: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\nDepends-On: I3d8a1282c388a8201ec1ce5c7d64796c0ce6026a\nChange-Id: I22b2ec530f8b888a94a88e1726792a8afef227ab\n'}, {'number': 20, 'created': '2021-05-19 15:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7d7a29f0cdee76755ffe381a3144944de644e733', 'message': 'Use ephemeral Heat by default\n\nSwitches to use ephemeral Heat by default for all overcloud operations\nand defaults enable_heat to False in undercloud.conf. Stack data will be\nmigrated to the ephemeral Heat model (to use the consistent working\ndirectory) as part of the upgrade with the inclusion of the depends-on.\n\nTo improve the UX when using ephemeral Heat, ""stack resource list"" is\nnow run after ""stack failures list"" automaticaly in the case of Heat\nstack failures.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nDepends-On: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\nDepends-On: Ide514b7f2ea94a1a82bd414840a9adb0a79ade98\nDepends-On: I3d8a1282c388a8201ec1ce5c7d64796c0ce6026a\nChange-Id: I22b2ec530f8b888a94a88e1726792a8afef227ab\n'}, {'number': 21, 'created': '2021-05-19 19:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e95e5cdd9080793a1856a6a7e61313081f14dbfe', 'message': 'Use ephemeral Heat by default\n\nSwitches to use ephemeral Heat by default for all overcloud operations\nand defaults enable_heat to False in undercloud.conf. Stack data will be\nmigrated to the ephemeral Heat model (to use the consistent working\ndirectory) as part of the upgrade with the inclusion of the depends-on.\n\nTo improve the UX when using ephemeral Heat, ""stack resource list"" is\nnow run after ""stack failures list"" automaticaly in the case of Heat\nstack failures.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nDepends-On: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\nDepends-On: I3d8a1282c388a8201ec1ce5c7d64796c0ce6026a\nDepends-On: I81d5a8e86b1b2dd03d4ea29dee10b90efe460094\nChange-Id: I22b2ec530f8b888a94a88e1726792a8afef227ab\n'}, {'number': 22, 'created': '2021-05-20 11:37:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0255f76bf1cd9efd00d1b6bc153842b423af743e', 'message': 'Use ephemeral Heat by default\n\nSwitches to use ephemeral Heat by default for all overcloud operations\nand defaults enable_heat to False in undercloud.conf. Stack data will be\nmigrated to the ephemeral Heat model (to use the consistent working\ndirectory) as part of the upgrade with the inclusion of the depends-on.\n\nTo improve the UX when using ephemeral Heat, ""stack resource list"" is\nnow run after ""stack failures list"" automaticaly in the case of Heat\nstack failures.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nDepends-On: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\nDepends-On: I3d8a1282c388a8201ec1ce5c7d64796c0ce6026a\nDepends-On: I81d5a8e86b1b2dd03d4ea29dee10b90efe460094\nChange-Id: I22b2ec530f8b888a94a88e1726792a8afef227ab\n'}, {'number': 23, 'created': '2021-05-21 16:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/587df9dd16b5948e34b69e1e342554bafdb14725', 'message': 'Use ephemeral Heat by default\n\nSwitches to use ephemeral Heat by default for all overcloud operations\nand defaults enable_heat to False in undercloud.conf. Stack data will be\nmigrated to the ephemeral Heat model (to use the consistent working\ndirectory) as part of the upgrade with the inclusion of the depends-on.\n\nTo improve the UX when using ephemeral Heat, ""stack resource list"" is\nnow run after ""stack failures list"" automaticaly in the case of Heat\nstack failures.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nDepends-On: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\nDepends-On: I3d8a1282c388a8201ec1ce5c7d64796c0ce6026a\nDepends-On: I81d5a8e86b1b2dd03d4ea29dee10b90efe460094\nChange-Id: I22b2ec530f8b888a94a88e1726792a8afef227ab\n'}, {'number': 24, 'created': '2021-05-21 16:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b9f4723e4d7ab4914a37837c8c5a1d821e768255', 'message': 'Use ephemeral Heat by default\n\nSwitches to use ephemeral Heat by default for all overcloud operations\nand defaults enable_heat to False in undercloud.conf. Stack data will be\nmigrated to the ephemeral Heat model (to use the consistent working\ndirectory) as part of the upgrade with the inclusion of the depends-on.\n\nTo improve the UX when using ephemeral Heat, ""stack resource list"" is\nnow run after ""stack failures list"" automaticaly in the case of Heat\nstack failures.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nDepends-On: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\nDepends-On: I3d8a1282c388a8201ec1ce5c7d64796c0ce6026a\nDepends-On: I81d5a8e86b1b2dd03d4ea29dee10b90efe460094\nChange-Id: I22b2ec530f8b888a94a88e1726792a8afef227ab\n'}, {'number': 25, 'created': '2021-05-27 15:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3be41e91ec4892c27be4f3cbfaa9714b9ee096df', 'message': 'Use ephemeral Heat by default\n\nSwitches to use ephemeral Heat by default for all overcloud operations\nand defaults enable_heat to False in undercloud.conf. Stack data will be\nmigrated to the ephemeral Heat model (to use the consistent working\ndirectory) as part of the upgrade with the inclusion of the depends-on.\n\nTo improve the UX when using ephemeral Heat, ""stack resource list"" is\nnow run after ""stack failures list"" automaticaly in the case of Heat\nstack failures.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nDepends-On: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85\nDepends-On: I3d8a1282c388a8201ec1ce5c7d64796c0ce6026a\nDepends-On: I81d5a8e86b1b2dd03d4ea29dee10b90efe460094\nChange-Id: I22b2ec530f8b888a94a88e1726792a8afef227ab\n'}, {'number': 26, 'created': '2021-06-01 21:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bb8aa743fc6506ee6ac45f5206ff7f82764b9224', 'message': 'Use ephemeral Heat by default\n\nSwitches to use ephemeral Heat by default for all overcloud operations\nand defaults enable_heat to False in undercloud.conf. Stack data will be\nmigrated to the ephemeral Heat model (to use the consistent working\ndirectory) as part of the upgrade with the inclusion of the depends-on.\n\nTo improve the UX when using ephemeral Heat, ""stack resource list"" is\nnow run after ""stack failures list"" automaticaly in the case of Heat\nstack failures.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I22b2ec530f8b888a94a88e1726792a8afef227ab\n'}, {'number': 27, 'created': '2021-06-02 01:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fd33c42a72d870b4957c6e981a3817232507d74a', 'message': 'Use ephemeral Heat by default\n\nSwitches to use ephemeral Heat by default for all overcloud operations\nand defaults enable_heat to False in undercloud.conf. Stack data will be\nmigrated to the ephemeral Heat model (to use the consistent working\ndirectory) as part of the upgrade with the inclusion of the depends-on.\n\nTo improve the UX when using ephemeral Heat, ""stack resource list"" is\nnow run after ""stack failures list"" automaticaly in the case of Heat\nstack failures.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I22b2ec530f8b888a94a88e1726792a8afef227ab\n'}, {'number': 28, 'created': '2021-06-07 13:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/dcf071e41c2a42098b6b793bbb1406bbb18d19cc', 'message': 'Use ephemeral Heat by default\n\nSwitches to use ephemeral Heat by default for all overcloud operations\nand defaults enable_heat to False in undercloud.conf. Stack data will be\nmigrated to the ephemeral Heat model (to use the consistent working\ndirectory) as part of the upgrade with the inclusion of the depends-on.\n\nTo improve the UX when using ephemeral Heat, ""stack resource list"" is\nnow run after ""stack failures list"" automaticaly in the case of Heat\nstack failures.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I22b2ec530f8b888a94a88e1726792a8afef227ab\n'}, {'number': 29, 'created': '2021-06-09 11:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7d8b2257248f6fab185d458c25e2a012594616a9', 'message': 'Use ephemeral Heat by default\n\nSwitches to use ephemeral Heat by default for all overcloud operations\nand defaults enable_heat to False in undercloud.conf. Stack data will be\nmigrated to the ephemeral Heat model (to use the consistent working\ndirectory) as part of the upgrade with the inclusion of the depends-on.\n\nTo improve the UX when using ephemeral Heat, ""stack resource list"" is\nnow run after ""stack failures list"" automaticaly in the case of Heat\nstack failures.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I22b2ec530f8b888a94a88e1726792a8afef227ab\n'}, {'number': 30, 'created': '2021-06-10 10:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/27f986078fbc3dcaab40580a7c890d8b82d518af', 'message': 'Use ephemeral Heat by default\n\nSwitches to use ephemeral Heat by default for all overcloud operations\nand defaults enable_heat to False in undercloud.conf. Stack data will be\nmigrated to the ephemeral Heat model (to use the consistent working\ndirectory) as part of the upgrade with the inclusion of the depends-on.\n\nTo improve the UX when using ephemeral Heat, ""stack resource list"" is\nnow run after ""stack failures list"" automaticaly in the case of Heat\nstack failures.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I22b2ec530f8b888a94a88e1726792a8afef227ab\n'}, {'number': 31, 'created': '2021-06-11 11:53:41.000000000', 'files': ['tripleoclient/config/undercloud.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/workflows/deployment.py', 'releasenotes/notes/ephemeral-heat-by-default-4ed05e8b82f41c4b.yaml', 'tripleoclient/tests/fixture_data/deployment.py', 'tripleoclient/tests/config/test_config_undercloud.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/030e9f0b570e3ab119c68b7ab7e0220a09dd48a1', 'message': 'Use ephemeral Heat by default\n\nSwitches to use ephemeral Heat by default for all overcloud operations\nand defaults enable_heat to False in undercloud.conf. Stack data will be\nmigrated to the ephemeral Heat model (to use the consistent working\ndirectory) as part of the upgrade with the inclusion of the depends-on.\n\nTo improve the UX when using ephemeral Heat, ""stack resource list"" is\nnow run after ""stack failures list"" automaticaly in the case of Heat\nstack failures.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I22b2ec530f8b888a94a88e1726792a8afef227ab\n'}]",15,789930,030e9f0b570e3ab119c68b7ab7e0220a09dd48a1,170,9,31,7144,,,0,"Use ephemeral Heat by default

Switches to use ephemeral Heat by default for all overcloud operations
and defaults enable_heat to False in undercloud.conf. Stack data will be
migrated to the ephemeral Heat model (to use the consistent working
directory) as part of the upgrade with the inclusion of the depends-on.

To improve the UX when using ephemeral Heat, ""stack resource list"" is
now run after ""stack failures list"" automaticaly in the case of Heat
stack failures.

Signed-off-by: James Slagle <jslagle@redhat.com>
Change-Id: I22b2ec530f8b888a94a88e1726792a8afef227ab
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/30/789930/29 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/config/undercloud.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'releasenotes/notes/ephemeral-heat-by-default-4ed05e8b82f41c4b.yaml', 'tripleoclient/tests/fixture_data/deployment.py', 'tripleoclient/tests/config/test_config_undercloud.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py', 'tripleoclient/v1/overcloud_deploy.py']",7,47ae4aa6c60f46064b78eef7201bef95b468845d,ephemeral-heat," default='pod', choices=['installed', 'pod', 'container', 'native'], if parsed_args.heat_type == 'installed': self.log.warning( (""DEPRECATED: Using --heat-type=installed is deprecated "" ""and will be removed in a future release."")) "," default='installed', choices=['system', 'pod', 'container', 'native'],",152,30
openstack%2Ftripleo-upgrade~stable%2Ftrain~I18bea0f88926f47fe2945bd8c127d6a372efa52f,openstack/tripleo-upgrade,stable/train,I18bea0f88926f47fe2945bd8c127d6a372efa52f,Add validations_result when running validations.,MERGED,2021-06-11 12:43:14.000000000,2021-06-12 13:40:22.000000000,2021-06-12 13:40:22.000000000,"[{'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 32432}]","[{'number': 1, 'created': '2021-06-11 12:43:14.000000000', 'files': ['tasks/common/validation_group_run.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/146e152552958b6194047ccad4c8e43a1c2ffeaf', 'message': 'Add validations_result when running validations.\n\nWhen merging [0], it was missed part of the solution submitted in [1]\nremoving the register: validations_result. As a consequence, if the\nvalidations command fails then Ansible will show an error saying that\nvalidations_result variable does not exist. This patch adds back\nthe parameter.\nAlso, it corrects the case when the validations_filtered parameter\ndoes not contain any validation. In that case, the validation group\nwill be skipped.\n\n[0] - I47c1a2d0a8cc6618444b6301232079f69c5d8d6e\n[1] - I7bac98032b84fadb6e42f8d790db3bba881dbc7b\n\nChange-Id: I18bea0f88926f47fe2945bd8c127d6a372efa52f\n(cherry picked from commit 8fc9978f3f50a88c5bd30f6a3f4a7b862f401dc6)\n'}]",0,796000,146e152552958b6194047ccad4c8e43a1c2ffeaf,6,4,1,31245,,,0,"Add validations_result when running validations.

When merging [0], it was missed part of the solution submitted in [1]
removing the register: validations_result. As a consequence, if the
validations command fails then Ansible will show an error saying that
validations_result variable does not exist. This patch adds back
the parameter.
Also, it corrects the case when the validations_filtered parameter
does not contain any validation. In that case, the validation group
will be skipped.

[0] - I47c1a2d0a8cc6618444b6301232079f69c5d8d6e
[1] - I7bac98032b84fadb6e42f8d790db3bba881dbc7b

Change-Id: I18bea0f88926f47fe2945bd8c127d6a372efa52f
(cherry picked from commit 8fc9978f3f50a88c5bd30f6a3f4a7b862f401dc6)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/00/796000/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/validation_group_run.yaml'],1,146e152552958b6194047ccad4c8e43a1c2ffeaf,," register: validations_result when: - ""validations_filtered|length > 0"" - name: Validation group not executed debug: msg: ""Validation group {{ validation_group }} is skipped."" when: - ""validations_filtered|length == 0""",,8,0
openstack%2Ftripleo-heat-templates~master~Idfab60ea1cbdbe5b6c8c124ae574736a647f022d,openstack/tripleo-heat-templates,master,Idfab60ea1cbdbe5b6c8c124ae574736a647f022d,nova-compute: Replacing yes/no with boolean values,MERGED,2021-06-09 00:52:08.000000000,2021-06-12 13:36:36.000000000,2021-06-12 13:36:36.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-09 00:52:08.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ca732da9c2038c9a5bfe480bcaa86edd4f412311', 'message': 'nova-compute: Replacing yes/no with boolean values\n\nWe should use boolean values whenever possible in our playbooks.\n\nChange-Id: Idfab60ea1cbdbe5b6c8c124ae574736a647f022d\n'}]",0,795429,ca732da9c2038c9a5bfe480bcaa86edd4f412311,12,7,1,27419,,,0,"nova-compute: Replacing yes/no with boolean values

We should use boolean values whenever possible in our playbooks.

Change-Id: Idfab60ea1cbdbe5b6c8c124ae574736a647f022d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/795429/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,ca732da9c2038c9a5bfe480bcaa86edd4f412311,, enabled: true daemon_reload: true enabled: true daemon_reload: true persistent: true state: true enabled: false enabled: true check_mode: false check_mode: false check_mode: false enabled: false check_mode: false, enabled: yes daemon_reload: yes enabled: yes daemon_reload: yes persistent: yes state: yes enabled: no enabled: yes check_mode: no check_mode: no check_mode: no enabled: no check_mode: no,13,13
openstack%2Fopenstack-ansible-os_mistral~master~Iddd575ea7859e496a659a01a454e87d27e85fb1f,openstack/openstack-ansible-os_mistral,master,Iddd575ea7859e496a659a01a454e87d27e85fb1f,Use ansible_facts[] instead of fact variables,MERGED,2021-03-15 18:27:50.000000000,2021-06-12 12:53:58.000000000,2021-06-12 12:52:54.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-03-15 18:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/99ce723f4dc36e67c892064473e03a5f04dd51f8', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: Iddd575ea7859e496a659a01a454e87d27e85fb1f\n'}, {'number': 2, 'created': '2021-03-16 08:12:56.000000000', 'files': ['tasks/main.yml', 'tasks/mistral_install.yml', 'handlers/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/481d5e49d7acf98382d8bc169c2e248b68e89ded', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: Iddd575ea7859e496a659a01a454e87d27e85fb1f\n'}]",0,780651,481d5e49d7acf98382d8bc169c2e248b68e89ded,12,2,2,25023,,,0,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: Iddd575ea7859e496a659a01a454e87d27e85fb1f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/51/780651/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/mistral_install.yml', 'handlers/main.yml', 'defaults/main.yml']",4,99ce723f4dc36e67c892064473e03a5f04dd51f8,osa-cleanup,"mistral_wsgi_processes: ""{{ [[(ansible_facts['processor_vcpus']//ansible_facts['processor_threads_per_core'])|default(1), 1] | max * 2, mistral_wsgi_processes_max] | min }}""","mistral_wsgi_processes: ""{{ [[(ansible_processor_vcpus//ansible_processor_threads_per_core)|default(1), 1] | max * 2, mistral_wsgi_processes_max] | min }}""",11,11
openstack%2Fnova~master~I7c1a647fb840fce98672a8429d554dd399cd13b7,openstack/nova,master,I7c1a647fb840fce98672a8429d554dd399cd13b7,zuul: Skip block migration with attached volumes tests due to bug #1931702,MERGED,2021-06-11 12:17:20.000000000,2021-06-12 11:57:03.000000000,2021-06-12 11:55:03.000000000,"[{'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 12:17:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3351e5cd61253dc695eef665f95c30fa607353d0', 'message': 'zuul: Skip block migration tests until bug #1931702 is resolved\n\nBug #1931702 details soft lockups reported within the guest OS during\nlive migration with block migration and a volume attached. These lockups\nthen causing the request to detach the volume as part of the cleanup to\nfail. For the time being we should skip these tests until the underlying\nissue is resolved.\n\nRelated-Bug: #1931702\nChange-Id: I7c1a647fb840fce98672a8429d554dd399cd13b7\n'}, {'number': 2, 'created': '2021-06-11 12:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be41031859d3a629852a4dc8b4ece7ca604dd3f2', 'message': 'zuul: Skip block migration with attached volumes tests due to #1931702\n\nBug #1931702 details soft lockups reported within the guest OS during\nlive migration with block migration and a volume attached. These lockups\nthen causing the request to detach the volume as part of the cleanup to\nfail. For the time being we should skip these tests until the underlying\nissue is resolved.\n\nRelated-Bug: #1931702\nChange-Id: I7c1a647fb840fce98672a8429d554dd399cd13b7\n'}, {'number': 3, 'created': '2021-06-11 12:33:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/7c478ac0992d9713c0fd7ea0a0498f0b7f92ce0d', 'message': 'zuul: Skip block migration with attached volumes tests due to bug #1931702\n\nBug #1931702 details soft lockups reported within the guest OS during\nlive migration with block migration and a volume attached. These lockups\nthen causing the request to detach the volume as part of the cleanup to\nfail. For the time being we should skip these tests until the underlying\nissue is resolved.\n\nRelated-Bug: #1931702\nChange-Id: I7c1a647fb840fce98672a8429d554dd399cd13b7\n'}]",0,795992,7c478ac0992d9713c0fd7ea0a0498f0b7f92ce0d,30,2,3,10135,,,0,"zuul: Skip block migration with attached volumes tests due to bug #1931702

Bug #1931702 details soft lockups reported within the guest OS during
live migration with block migration and a volume attached. These lockups
then causing the request to detach the volume as part of the cleanup to
fail. For the time being we should skip these tests until the underlying
issue is resolved.

Related-Bug: #1931702
Change-Id: I7c1a647fb840fce98672a8429d554dd399cd13b7
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/795992/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3351e5cd61253dc695eef665f95c30fa607353d0,bug/1931702, # NOTE(lyarwood): Skip until bug #1931702 is resolved. block_migrate_cinder_iscsi: false # NOTE(lyarwood): Skip until bug #1931702 is resolved. block_migrate_cinder_iscsi: false, block_migrate_cinder_iscsi: true block_migrate_cinder_iscsi: true,4,2
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I2cd08a7b195620e6c93084a6a689bad1d6ace179,openstack/tripleo-heat-templates,stable/wallaby,I2cd08a7b195620e6c93084a6a689bad1d6ace179,Fix broken restart of ovndb_server during minor update,MERGED,2021-06-11 11:44:20.000000000,2021-06-12 10:58:37.000000000,2021-06-12 10:58:37.000000000,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-11 11:44:20.000000000', 'files': ['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1ff7e9be9d9c763acc7cd5ae11b2c7580daa737f', 'message': 'Fix broken restart of ovndb_server during minor update\n\nSince [1], the ovn HA resource is mistakenly called\novndbs_servers instead of ovndb_servers, which breaks\nits restart during a minor update. Fix the typo.\n\n[1] I918b6c16db6ed70d9ad612aecd7af7d725520f7b\n\nChange-Id: I2cd08a7b195620e6c93084a6a689bad1d6ace179\nCloses-Bug: #1931502\n(cherry picked from commit 6837633ea4075c1e74281ade7005cb8325b51f5a)\n'}]",0,795886,1ff7e9be9d9c763acc7cd5ae11b2c7580daa737f,8,3,1,20778,,,0,"Fix broken restart of ovndb_server during minor update

Since [1], the ovn HA resource is mistakenly called
ovndbs_servers instead of ovndb_servers, which breaks
its restart during a minor update. Fix the typo.

[1] I918b6c16db6ed70d9ad612aecd7af7d725520f7b

Change-Id: I2cd08a7b195620e6c93084a6a689bad1d6ace179
Closes-Bug: #1931502
(cherry picked from commit 6837633ea4075c1e74281ade7005cb8325b51f5a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/86/795886/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'],1,1ff7e9be9d9c763acc7cd5ae11b2c7580daa737f,bug/1931502-stable/wallaby, tripleo_ha_wrapper_resource_name: ovndb_servers, tripleo_ha_wrapper_resource_name: ovndbs_servers,1,1
openstack%2Fopenstack-ansible-os_nova~master~Ie404c117146c6bbd7eea79300f7c85515fa4e27d,openstack/openstack-ansible-os_nova,master,Ie404c117146c6bbd7eea79300f7c85515fa4e27d,Add galera port to nova config and database template,MERGED,2021-05-17 07:44:10.000000000,2021-06-12 10:14:26.000000000,2021-06-12 10:13:11.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-17 07:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/ceabb23529d95cc28b376bafa2385d6da5511c5a', 'message': 'Add galera port to nova config and database template\n\nThis always existed as a default value but was only used for service\nsetup, never in the runtime db connection url. Update the URL and\ndatabase connection template to include the port.\n\nChange-Id: Ie404c117146c6bbd7eea79300f7c85515fa4e27d\n'}, {'number': 2, 'created': '2021-06-11 10:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/fb9a695da27ae9b2d09978af6d7901e804c57a3a', 'message': 'Add galera port to nova config and database template\n\nThis always existed as a default value but was only used for service\nsetup, never in the runtime db connection url. Update the URL and\ndatabase connection template to include the port.\n\nChange-Id: Ie404c117146c6bbd7eea79300f7c85515fa4e27d\n'}, {'number': 3, 'created': '2021-06-11 10:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/60cfaa8dd25e4495a6db18b47b723119e557cddb', 'message': 'Add galera port to nova config and database template\n\nThis always existed as a default value but was only used for service\nsetup, never in the runtime db connection url. Update the URL and\ndatabase connection template to include the port.\n\nChange-Id: Ie404c117146c6bbd7eea79300f7c85515fa4e27d\n'}, {'number': 4, 'created': '2021-06-11 10:29:51.000000000', 'files': ['tasks/nova_db_setup.yml', 'templates/nova.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/1a358f5dc2c3455ffb987c28f2cb63f3cc1f948c', 'message': 'Add galera port to nova config and database template\n\nThis always existed as a default value but was only used for service\nsetup, never in the runtime db connection url. Update the URL and\ndatabase connection template to include the port.\n\nChange-Id: Ie404c117146c6bbd7eea79300f7c85515fa4e27d\n'}]",1,791675,1a358f5dc2c3455ffb987c28f2cb63f3cc1f948c,18,3,4,25023,,,0,"Add galera port to nova config and database template

This always existed as a default value but was only used for service
setup, never in the runtime db connection url. Update the URL and
database connection template to include the port.

Change-Id: Ie404c117146c6bbd7eea79300f7c85515fa4e27d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/75/791675/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/nova_db_setup.yml', 'templates/nova.conf.j2']",2,ceabb23529d95cc28b376bafa2385d6da5511c5a,,connection = mysql+pymysql://{{ nova_api_galera_user }}:{{ nova_api_container_mysql_password }}@{{ nova_api_galera_address }}:{{ nova_galera_port }}/{{ nova_api_galera_database }}?charset=utf8{% if nova_galera_use_ssl | bool %}&ssl_ca={{ nova_galera_ssl_ca_cert }}{% endif %},connection = mysql+pymysql://{{ nova_api_galera_user }}:{{ nova_api_container_mysql_password }}@{{ nova_api_galera_address }}/{{ nova_api_galera_database }}?charset=utf8{% if nova_galera_use_ssl | bool %}&ssl_ca={{ nova_galera_ssl_ca_cert }}{% endif %},2,2
openstack%2Fnova~stable%2Ftrain~I603212f2d3cbbd482a2a68cd835af0261a85c392,openstack/nova,stable/train,I603212f2d3cbbd482a2a68cd835af0261a85c392,Replace 'fake' with a real project ID,NEW,2021-06-01 20:50:26.000000000,2021-06-12 09:13:55.000000000,,"[{'_account_id': 7634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-01 20:50:26.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_server_metadata.py', 'nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/tests/unit/api/openstack/compute/test_extended_hypervisors.py', 'nova/tests/unit/api/openstack/compute/test_hosts.py', 'nova/tests/unit/api/openstack/compute/test_security_group_default_rules.py', 'nova/tests/unit/api/openstack/compute/test_server_topology.py', 'nova/tests/unit/api/openstack/compute/test_floating_ips.py', 'nova/tests/unit/api/openstack/compute/test_neutron_security_groups.py', 'nova/tests/unit/api/openstack/compute/test_hypervisor_status.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/tests/unit/api/openstack/compute/test_floating_ip_pools.py', 'nova/tests/unit/api/openstack/compute/test_instance_actions.py', 'nova/tests/unit/api/openstack/compute/test_availability_zone.py', 'nova/tests/unit/api/openstack/compute/test_networks.py', 'nova/tests/unit/api/openstack/compute/test_snapshots.py', 'nova/tests/unit/api/openstack/compute/test_shelve.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/tests/unit/api/openstack/test_api_version_request.py', 'nova/tests/unit/api/openstack/compute/test_deferred_delete.py', 'nova/tests/unit/api/openstack/compute/test_security_groups.py', 'nova/tests/unit/api/openstack/compute/test_services.py', 'nova/tests/unit/api/openstack/compute/test_certificates.py', 'nova/tests/unit/api/openstack/compute/test_server_groups.py', 'nova/tests/unit/api/openstack/compute/test_consoles.py', 'nova/tests/unit/api/openstack/compute/test_flavor_manage.py', 'nova/tests/unit/api/openstack/compute/test_flavor_access.py', 'nova/tests/unit/api/openstack/compute/test_quotas.py', 'nova/tests/unit/api/openstack/compute/test_cloudpipe.py', 'nova/tests/unit/api/openstack/compute/test_image_metadata.py', 'nova/tests/unit/api/openstack/compute/test_migrations.py', 'nova/tests/unit/api/openstack/compute/test_flavors_extra_specs.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/26f76afa4ea3e23d4fa6e480aa88f478f071796b', 'message': ""Replace 'fake' with a real project ID\n\nThis patch is a follow-up for I3eac9ac0a2a698a3c72b4e646cdcaf293ec4b057.\nReplace 'fake' with a real project ID in URL paths and related places\nin unit tests.\n\nNOTE(lyarwood): Conflict caused by\nIdd0b741760601aaccca4adfc5101c3539ba9ec09 not being present in\nstable/train.\n\nConflicts:\n    nova/tests/unit/api/openstack/compute/test_neutron_security_groups.py\n\nChange-Id: I603212f2d3cbbd482a2a68cd835af0261a85c392\n(cherry picked from commit 9ce6b3bb762100e8ae03ea5400269db93d0ae040)\n""}]",0,794041,26f76afa4ea3e23d4fa6e480aa88f478f071796b,4,2,1,10135,,,0,"Replace 'fake' with a real project ID

This patch is a follow-up for I3eac9ac0a2a698a3c72b4e646cdcaf293ec4b057.
Replace 'fake' with a real project ID in URL paths and related places
in unit tests.

NOTE(lyarwood): Conflict caused by
Idd0b741760601aaccca4adfc5101c3539ba9ec09 not being present in
stable/train.

Conflicts:
    nova/tests/unit/api/openstack/compute/test_neutron_security_groups.py

Change-Id: I603212f2d3cbbd482a2a68cd835af0261a85c392
(cherry picked from commit 9ce6b3bb762100e8ae03ea5400269db93d0ae040)
",git fetch https://review.opendev.org/openstack/nova refs/changes/41/794041/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_server_metadata.py', 'nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/tests/unit/api/openstack/compute/test_extended_hypervisors.py', 'nova/tests/unit/api/openstack/compute/test_hosts.py', 'nova/tests/unit/api/openstack/compute/test_security_group_default_rules.py', 'nova/tests/unit/api/openstack/compute/test_server_topology.py', 'nova/tests/unit/api/openstack/compute/test_floating_ips.py', 'nova/tests/unit/api/openstack/compute/test_neutron_security_groups.py', 'nova/tests/unit/api/openstack/compute/test_hypervisor_status.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/tests/unit/api/openstack/compute/test_floating_ip_pools.py', 'nova/tests/unit/api/openstack/compute/test_instance_actions.py', 'nova/tests/unit/api/openstack/compute/test_availability_zone.py', 'nova/tests/unit/api/openstack/compute/test_networks.py', 'nova/tests/unit/api/openstack/compute/test_snapshots.py', 'nova/tests/unit/api/openstack/compute/test_shelve.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/tests/unit/api/openstack/test_api_version_request.py', 'nova/tests/unit/api/openstack/compute/test_deferred_delete.py', 'nova/tests/unit/api/openstack/compute/test_security_groups.py', 'nova/tests/unit/api/openstack/compute/test_services.py', 'nova/tests/unit/api/openstack/compute/test_certificates.py', 'nova/tests/unit/api/openstack/compute/test_server_groups.py', 'nova/tests/unit/api/openstack/compute/test_consoles.py', 'nova/tests/unit/api/openstack/compute/test_flavor_manage.py', 'nova/tests/unit/api/openstack/compute/test_flavor_access.py', 'nova/tests/unit/api/openstack/compute/test_quotas.py', 'nova/tests/unit/api/openstack/compute/test_cloudpipe.py', 'nova/tests/unit/api/openstack/compute/test_image_metadata.py', 'nova/tests/unit/api/openstack/compute/test_migrations.py', 'nova/tests/unit/api/openstack/compute/test_flavors_extra_specs.py']",31,26f76afa4ea3e23d4fa6e480aa88f478f071796b,," req_url = '/v2/%s/flavors/%s' % (fakes.FAKE_PROJECT_ID, url)", req_url = '/v2/fake/flavors/' + url,220,155
openstack%2Ffreezer~master~Ib2c9d67f96d37d5f85377dd41ef1e9378df35465,openstack/freezer,master,Ib2c9d67f96d37d5f85377dd41ef1e9378df35465,Add lower-constraints gate CI,MERGED,2021-06-11 07:47:59.000000000,2021-06-12 07:25:24.000000000,2021-06-12 07:23:37.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 07:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/8760eb6294661530f855ba11faa4c4f6551e957e', 'message': 'Update gate CI\n\nChange-Id: Ib2c9d67f96d37d5f85377dd41ef1e9378df35465\n'}, {'number': 2, 'created': '2021-06-11 07:53:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/93cfc259de0bdeea24d0dad6a47d8b9e465e80cc', 'message': 'Add lower-constraints gate CI\n\nAdd lower-constraints gate CI\n\nChange-Id: Ib2c9d67f96d37d5f85377dd41ef1e9378df35465\n'}, {'number': 3, 'created': '2021-06-11 09:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/9f28d12b11f9bbd2055715cadffd1184f2e26f13', 'message': 'Add lower-constraints gate CI\n\nAdd lower-constraints gate CI\n\nChange-Id: Ib2c9d67f96d37d5f85377dd41ef1e9378df35465\n'}, {'number': 4, 'created': '2021-06-12 01:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/8ffed51497fab5cffe3c7b47b0dbbb6eaff15bf7', 'message': 'Add lower-constraints gate CI\n\nAdd lower-constraints gate CI\n\nChange-Id: Ib2c9d67f96d37d5f85377dd41ef1e9378df35465\n'}, {'number': 5, 'created': '2021-06-12 02:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/d09a705de2eba4ea94a8bdb3810a139eecdaa10e', 'message': 'Add lower-constraints gate CI\n\nAdd lower-constraints gate CI\n\nChange-Id: Ib2c9d67f96d37d5f85377dd41ef1e9378df35465\n'}, {'number': 6, 'created': '2021-06-12 02:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/be1c043651dc346ec9b91cb589c018dbc19b7efd', 'message': 'Add lower-constraints gate CI\n\nAdd lower-constraints gate CI\n\nChange-Id: Ib2c9d67f96d37d5f85377dd41ef1e9378df35465\n'}, {'number': 7, 'created': '2021-06-12 03:43:32.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/freezer/commit/a4950238073f38d52db83b2eb2fd470490f3c065', 'message': 'Add lower-constraints gate CI\n\nAdd lower-constraints gate CI\n\nChange-Id: Ib2c9d67f96d37d5f85377dd41ef1e9378df35465\n'}]",1,795947,a4950238073f38d52db83b2eb2fd470490f3c065,21,2,7,21069,,,0,"Add lower-constraints gate CI

Add lower-constraints gate CI

Change-Id: Ib2c9d67f96d37d5f85377dd41ef1e9378df35465
",git fetch https://review.opendev.org/openstack/freezer refs/changes/47/795947/6 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8760eb6294661530f855ba11faa4c4f6551e957e,, - openstack-lower-constraints-jobs, # - openstack-lower-constraints-jobs,1,1
openstack%2Fneutron~master~If815cff18f83962233f3d6a535b18070690ce948,openstack/neutron,master,If815cff18f83962233f3d6a535b18070690ce948,[OVN] Add availability zone to the ML2_SUPPORTED_API_EXTENSIONS list,MERGED,2021-05-27 10:06:43.000000000,2021-06-12 07:08:06.000000000,2021-06-12 07:05:46.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2021-05-27 10:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1c6133ad03a3c470ddd2ea86ce414b62b069361b', 'message': '[OVN] Add availability zone to the ML2_SUPPORTED_API_EXTENSIONS list\n\nCurrently in the ML2_SUPPORTED_API_EXTENSIONS which is list of\nextensions supported by OVN mech driver there was\nnetwork_availability_zone extension. But that extension requires\navailability_zone extension which was added only in\nML2_SUPPORTED_API_EXTENSIONS_OVN_L3 which is list of extensions\nsupported by the OVN L3 plugin.\nTo fix that, this patch adds availability_zone extension to the\nML2_SUPPORTED_API_EXTENSIONS list also.\n\nRelated-Bug: #1929676\nChange-Id: If815cff18f83962233f3d6a535b18070690ce948\n'}, {'number': 2, 'created': '2021-06-05 11:02:29.000000000', 'files': ['neutron/common/ovn/extensions.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7d8a5eb5a76ce5df8688db8b792a6dd4d839d677', 'message': '[OVN] Add availability zone to the ML2_SUPPORTED_API_EXTENSIONS list\n\nCurrently in the ML2_SUPPORTED_API_EXTENSIONS which is list of\nextensions supported by OVN mech driver there was\nnetwork_availability_zone extension. But that extension requires\navailability_zone extension which was added only in\nML2_SUPPORTED_API_EXTENSIONS_OVN_L3 which is list of extensions\nsupported by the OVN L3 plugin.\nTo fix that, this patch adds availability_zone extension to the\nML2_SUPPORTED_API_EXTENSIONS list also.\n\nRelated-Bug: #1929676\nChange-Id: If815cff18f83962233f3d6a535b18070690ce948\n'}]",0,793360,7d8a5eb5a76ce5df8688db8b792a6dd4d839d677,66,5,2,11975,,,0,"[OVN] Add availability zone to the ML2_SUPPORTED_API_EXTENSIONS list

Currently in the ML2_SUPPORTED_API_EXTENSIONS which is list of
extensions supported by OVN mech driver there was
network_availability_zone extension. But that extension requires
availability_zone extension which was added only in
ML2_SUPPORTED_API_EXTENSIONS_OVN_L3 which is list of extensions
supported by the OVN L3 plugin.
To fix that, this patch adds availability_zone extension to the
ML2_SUPPORTED_API_EXTENSIONS list also.

Related-Bug: #1929676
Change-Id: If815cff18f83962233f3d6a535b18070690ce948
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/793360/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/common/ovn/extensions.py'],1,1c6133ad03a3c470ddd2ea86ce414b62b069361b,bug/1929676," az_def.ALIAS,",,1,0
openstack%2Fswift~master~If68e72d613685081a3149aedbfd07a69b8669d7f,openstack/swift,master,If68e72d613685081a3149aedbfd07a69b8669d7f,Add warn level logging if we hit un-recoverable EC rebuild,MERGED,2021-05-26 05:59:21.000000000,2021-06-12 07:07:58.000000000,2021-06-12 07:06:11.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-26 05:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e7dcb5b879dbd039174fccbc2c9ead45ab940d66', 'message': ""Add warn level logging if we hit un-recoverable EC rebuild\n\nCurrently there is an 'all(fragments)' check in the ECAppIter to know\nwhen the iter is done. It assumes that all the fragments will be emtpy\nwhen they are done. But if this is not the case we should log.\n\nWe have no idea if how often this can happen but currently we don't log\nit so have no idea. But it could be a cause of some EC short read 500\nthat clusters get from time to time.\n\nChange-Id: If68e72d613685081a3149aedbfd07a69b8669d7f\n""}, {'number': 2, 'created': '2021-05-26 23:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0840bebf12f5e301027ec14851b5058833bc0677', 'message': ""Add warn level logging if we hit un-recoverable EC rebuild\n\nCurrently there is an 'all(fragments)' check in the ECAppIter to know\nwhen the iter is done. It assumes that all the fragments will be emtpy\nwhen they are done. But if this is not the case we should log.\n\nWe have no idea if how often this can happen but currently we don't log\nit so have no idea. But it could be a cause of some EC short read 500\nthat clusters get from time to time.\n\nTested where I coded a failure and I got:\n\n  May 26 23:42:57 saio proxy-server[7942]: Un-recoverable fragment rebuild. Only received 3/4 fragments for '/a/c/o' (txn: txb43f239d78834bdabcaa6-0060aedd01) (client_ip: 127.0.0.1)\n\nChange-Id: If68e72d613685081a3149aedbfd07a69b8669d7f\n""}, {'number': 3, 'created': '2021-05-27 01:34:28.000000000', 'files': ['test/unit/proxy/controllers/test_obj.py', 'swift/proxy/controllers/obj.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/09ead690968a221e28d75f0e5c190f74172df67f', 'message': ""Add warn level logging if we hit un-recoverable EC rebuild\n\nCurrently there is an 'all(fragments)' check in the ECAppIter to know\nwhen the iter is done. It assumes that all the fragments will be emtpy\nwhen they are done. But if this is not the case we should log.\n\nWe have no idea if how often this can happen but currently we don't log\nit so have no idea. But it could be a cause of some EC short read 500\nthat clusters get from time to time.\n\nHere is an example of the message:\n\n  May 26 23:42:57 saio proxy-server[7942]: Un-recoverable fragment rebuild. Only received 3/4 fragments for '/a/c/o' (txn: txb43f239d78834bdabcaa6-0060aedd01) (client_ip: 127.0.0.1)\n\nChange-Id: If68e72d613685081a3149aedbfd07a69b8669d7f\n""}]",10,793101,09ead690968a221e28d75f0e5c190f74172df67f,34,4,3,7233,,,0,"Add warn level logging if we hit un-recoverable EC rebuild

Currently there is an 'all(fragments)' check in the ECAppIter to know
when the iter is done. It assumes that all the fragments will be emtpy
when they are done. But if this is not the case we should log.

We have no idea if how often this can happen but currently we don't log
it so have no idea. But it could be a cause of some EC short read 500
that clusters get from time to time.

Here is an example of the message:

  May 26 23:42:57 saio proxy-server[7942]: Un-recoverable fragment rebuild. Only received 3/4 fragments for '/a/c/o' (txn: txb43f239d78834bdabcaa6-0060aedd01) (client_ip: 127.0.0.1)

Change-Id: If68e72d613685081a3149aedbfd07a69b8669d7f
",git fetch https://review.opendev.org/openstack/swift refs/changes/01/793101/2 && git format-patch -1 --stdout FETCH_HEAD,['swift/proxy/controllers/obj.py'],1,e7dcb5b879dbd039174fccbc2c9ead45ab940d66,extra_unrecoverable_ec_logging," num_done = sum([1 for f in fragments if f]) if num_done > 0: self.logger.warning( 'Un-recoverable fragment rebuild. Only received ' '%d/%d fragments for %r', num_done, len(fragments) - num_done, quote(self.path))",,6,0
openstack%2Ftripleo-common~master~Idcbe3f248ce631310245e35214b51b38263956b6,openstack/tripleo-common,master,Idcbe3f248ce631310245e35214b51b38263956b6,Cleanup OS_CLOUD env var for ephemeral heat,MERGED,2021-06-08 06:56:16.000000000,2021-06-12 05:33:22.000000000,2021-06-12 05:31:48.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-06-08 06:56:16.000000000', 'files': ['tripleo_common/utils/heat.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1371815d554d6ad85a661f73f211579d9348752b', 'message': 'Cleanup OS_CLOUD env var for ephemeral heat\n\nThis would cleanup OS_CLOUD if already set. Otherwise there\nwould be conflicts.\n\nRelated-Bug: #1931172\nChange-Id: Idcbe3f248ce631310245e35214b51b38263956b6\n'}]",0,795225,1371815d554d6ad85a661f73f211579d9348752b,18,5,1,8833,,,0,"Cleanup OS_CLOUD env var for ephemeral heat

This would cleanup OS_CLOUD if already set. Otherwise there
would be conflicts.

Related-Bug: #1931172
Change-Id: Idcbe3f248ce631310245e35214b51b38263956b6
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/25/795225/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/heat.py'],1,1371815d554d6ad85a661f73f211579d9348752b,bug/1931172," 'OS_PROJECT_NAME', 'OS_CLOUD'):", 'OS_PROJECT_NAME'):,2,1
openstack%2Ftripleo-validations~master~I280cea451114a0c63bec9ae0f4dc2c85e3d3de90,openstack/tripleo-validations,master,I280cea451114a0c63bec9ae0f4dc2c85e3d3de90,Enabling indentation rule for yamllint.,MERGED,2021-06-11 08:30:28.000000000,2021-06-12 05:32:11.000000000,2021-06-12 05:32:11.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-11 08:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6cde623b8b421ed3cc189da920eb1676c7d09a94', 'message': 'Linter rule for indentation\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I280cea451114a0c63bec9ae0f4dc2c85e3d3de90\n'}, {'number': 2, 'created': '2021-06-11 09:11:49.000000000', 'files': ['zuul.d/molecule.yaml', '.yamllint'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c1277a5e5cc6af20cebe432be34d5b82624a3e6c', 'message': 'Enabling indentation rule for yamllint.\n\nWith the exception of release notes, yaml files will\nnow have to be indented with a consistent number of whitespace chars.\n\nAs described:\nhttps://yamllint.readthedocs.io/en/stable/rules.html#module-yamllint.rules.indentation\n\nAlso fixes indentaion for the zuul.d/molecule.yaml.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I280cea451114a0c63bec9ae0f4dc2c85e3d3de90\n'}]",0,795960,c1277a5e5cc6af20cebe432be34d5b82624a3e6c,10,7,2,32926,,,0,"Enabling indentation rule for yamllint.

With the exception of release notes, yaml files will
now have to be indented with a consistent number of whitespace chars.

As described:
https://yamllint.readthedocs.io/en/stable/rules.html#module-yamllint.rules.indentation

Also fixes indentaion for the zuul.d/molecule.yaml.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I280cea451114a0c63bec9ae0f4dc2c85e3d3de90
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/60/795960/2 && git format-patch -1 --stdout FETCH_HEAD,['.yamllint'],1,6cde623b8b421ed3cc189da920eb1676c7d09a94,linters/yaml/indent, indentation: spaces: consistent indent-sequences: true check-multi-line-strings: false,,4,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I3d32857e783a9ef6685896ae9f77494b4c6ed2df,openstack/tripleo-heat-templates,stable/train,I3d32857e783a9ef6685896ae9f77494b4c6ed2df,[train-only] Remove unsupported kernel modules before leapp,MERGED,2021-06-10 06:05:47.000000000,2021-06-12 05:31:43.000000000,2021-06-12 05:31:43.000000000,"[{'_account_id': 6816}, {'_account_id': 8833}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-10 06:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e85b135495c36833579ef757d4a7168a34c6eb7b', 'message': 'WIP: [train-only] Remove unsupported kernel modules before leapp\n\nChange-Id: I3d32857e783a9ef6685896ae9f77494b4c6ed2df\n'}, {'number': 2, 'created': '2021-06-10 08:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3c67e681fa61a9aef85dcb8e83395b4d8686094a', 'message': 'WIP: [train-only] Remove unsupported kernel modules before leapp\n\nChange-Id: I3d32857e783a9ef6685896ae9f77494b4c6ed2df\n'}, {'number': 3, 'created': '2021-06-10 11:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b65a20bc9c13b53c8fa85a854ebe642bdf8dd8d5', 'message': ""[train-only] Remove unsupported kernel modules before leapp\n\nWhen enacting the upgrade from RHEL7 to RHEL8 using leapp,\nit will hard-stop if these modules are loaded. Thus far,\nthese are the ones tripping up CI and some customers.\n\nTo cater to customers who might hit this, and to resolve\nissues in CI, we include a new parameter\nLeappUnloadKernelDrivers which contains a list of the Kernel\ndrivers we are required to unload before running leapp upgrade.\n\nThis parameter defaults to ['floppy', 'pata_acpi'] which are\nthe ones impacting our CI jobs so far, but the existence of\nthis parameter in combination with the RoleParametersValue\nwould allow us to set a different type of drivers per role,\nif needed.\n\nFor all the drivers appearing in that list, an unloading\nwill be executed via modprobe Ansible module right before\nexecuting the leapp upgrade command per overcloud node.\n\nRelated: rhbz#1962365\n\nChange-Id: I3d32857e783a9ef6685896ae9f77494b4c6ed2df\n""}, {'number': 4, 'created': '2021-06-10 11:43:14.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1e39ea9e6504e561acebd5056d4e00aee92d84c0', 'message': ""[train-only] Remove unsupported kernel modules before leapp\n\nWhen enacting the upgrade from RHEL7 to RHEL8 using leapp,\nit will hard-stop if these modules are loaded. Thus far,\nthese are the ones tripping up CI and some customers.\n\nTo cater to customers who might hit this, and to resolve\nissues in CI, we include a new parameter\nLeappUnloadKernelDrivers which contains a list of the Kernel\ndrivers we are required to unload before running leapp upgrade.\n\nThis parameter defaults to ['floppy', 'pata_acpi'] which are\nthe ones impacting our CI jobs so far, but the existence of\nthis parameter in combination with the RoleParametersValue\nwould allow us to set a different type of drivers per role,\nif needed.\n\nFor all the drivers appearing in that list, an unloading\nwill be executed via modprobe Ansible module right before\nexecuting the leapp upgrade command per overcloud node.\n\nRelated: rhbz#1962365\n\nChange-Id: I3d32857e783a9ef6685896ae9f77494b4c6ed2df\n""}]",6,795728,1e39ea9e6504e561acebd5056d4e00aee92d84c0,18,6,4,26343,,,0,"[train-only] Remove unsupported kernel modules before leapp

When enacting the upgrade from RHEL7 to RHEL8 using leapp,
it will hard-stop if these modules are loaded. Thus far,
these are the ones tripping up CI and some customers.

To cater to customers who might hit this, and to resolve
issues in CI, we include a new parameter
LeappUnloadKernelDrivers which contains a list of the Kernel
drivers we are required to unload before running leapp upgrade.

This parameter defaults to ['floppy', 'pata_acpi'] which are
the ones impacting our CI jobs so far, but the existence of
this parameter in combination with the RoleParametersValue
would allow us to set a different type of drivers per role,
if needed.

For all the drivers appearing in that list, an unloading
will be executed via modprobe Ansible module right before
executing the leapp upgrade command per overcloud node.

Related: rhbz#1962365

Change-Id: I3d32857e783a9ef6685896ae9f77494b4c6ed2df
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/28/795728/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,e85b135495c36833579ef757d4a7168a34c6eb7b,," LeappUnloadKernelDrivers: type: comma_delimited_list default: ['floppy', 'pata_acpi'] description: | List of modules to unload from the system due to being incompatible with the next RHEL version. If not being unloaded Leapp will inhibit the upgrade. upgrade_leapp_modules_to_unload: LeappUnloadKernelDrivers LeappUnloadKernelDrivers: {get_param: LeappUnloadKernelDrivers} - name: Disable unsopported Kernel drivers before upgrade via Leapp vars: modules_to_unload: { get_attr: [RoleParametersValue, value, 'upgrade_leapp_modules_to_unload']} modprobe: module: state: absent loop: ""{{ modules_to_unload }}""",,16,0
openstack%2Fpuppet-nova~stable%2Fvictoria~I1df7c3d76fd99f08c01d170f2270d31388ec8604,openstack/puppet-nova,stable/victoria,I1df7c3d76fd99f08c01d170f2270d31388ec8604,Set fixture paths for unit tests,MERGED,2021-06-05 00:35:03.000000000,2021-06-12 04:49:48.000000000,2021-06-12 04:49:48.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:35:03.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/46fc3e34f94a0ff94d8743d5934eb9309644b6be', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I1df7c3d76fd99f08c01d170f2270d31388ec8604\n(cherry picked from commit 53b661e26b5af3b11bcbee6d887c0447f959e41e)\n'}]",0,794914,46fc3e34f94a0ff94d8743d5934eb9309644b6be,13,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I1df7c3d76fd99f08c01d170f2270d31388ec8604
(cherry picked from commit 53b661e26b5af3b11bcbee6d887c0447f959e41e)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/14/794914/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,46fc3e34f94a0ff94d8743d5934eb9309644b6be,bug/1930403-stable/wallaby-stable/victoria,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fkayobe~master~I2637085a1df22e39d64c33b823fc948063d3e06f,openstack/kayobe,master,I2637085a1df22e39d64c33b823fc948063d3e06f,Fix url to ansible site in kolla-ansible.rst,MERGED,2021-06-10 14:48:06.000000000,2021-06-12 02:08:29.000000000,2021-06-12 02:07:19.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30568}]","[{'number': 1, 'created': '2021-06-10 14:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/cd8e682941d2d91d6389f8a7640eff0ef1b15811', 'message': 'Fix url to ansible site in kolla-ansible.rst\n\nStory: 2008942\nTask: 42597\nChange-Id: I2637085a1df22e39d64c33b823fc948063d3e06f\n'}, {'number': 2, 'created': '2021-06-10 14:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2780bb05fee76263154e5d715f26713359a80c46', 'message': 'Fix url to ansible site in kolla-ansible.rst\n\nStory: 2008961\nTask: 42597\nChange-Id: I2637085a1df22e39d64c33b823fc948063d3e06f\n'}, {'number': 3, 'created': '2021-06-10 15:18:06.000000000', 'files': ['doc/source/configuration/reference/kolla-ansible.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/15d20154bc68eb26550f4e33325a4f74a47b6816', 'message': 'Fix url to ansible site in kolla-ansible.rst\n\nStory: 2008961\nTask: 42597\nChange-Id: I2637085a1df22e39d64c33b823fc948063d3e06f\n'}]",1,795823,15d20154bc68eb26550f4e33325a4f74a47b6816,14,4,3,16198,,,0,"Fix url to ansible site in kolla-ansible.rst

Story: 2008961
Task: 42597
Change-Id: I2637085a1df22e39d64c33b823fc948063d3e06f
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/23/795823/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/reference/kolla-ansible.rst'],1,cd8e682941d2d91d6389f8a7640eff0ef1b15811,story2008942,<https://docs.ansible.com/ansible/latest/user_guide/playbooks_variables.html #variable-precedence-where-should-i-put-a-variable>`_.,<http://docs.ansible.com/ansible/playbooks_variables.html#variable-precedence-where-should-i-put-a-variable>`_.,2,1
openstack%2Fkayobe~stable%2Fvictoria~I14289df5e248b5b47fb8e60c6eea1ac845f50fd3,openstack/kayobe,stable/victoria,I14289df5e248b5b47fb8e60c6eea1ac845f50fd3,Fix overcloud post configure Python interpreter issues,MERGED,2021-06-09 18:41:52.000000000,2021-06-12 02:08:18.000000000,2021-06-12 02:07:13.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 18:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/070a8d1c6f76024a2d28c4654d380b2bd4d7f2d3', 'message': ""Fix overcloud post configure Python interpreter issues\n\nSome time ago in Kayobe we switched from using set_fact to override the\nansible_python_interpreter variable to using a task variable. However,\nnot all of the galaxy roles were updated to match. This can lead to an\nissue where a fact set by the os_networks role overrides the task\nvariable set in Kayobe.\n\nNote that we haven't seen this in CI since the code path requires the\nuse of a VLAN provisioning network, and CI uses a flat network.\n\nChange-Id: I14289df5e248b5b47fb8e60c6eea1ac845f50fd3\nStory: 2008284\nTask: 41158\n(cherry picked from commit 4a59ea483bc1baf57a6423812b597147d5e24b2e)\n(cherry picked from commit 2e221681b228bbd3a7e41f6e8e40dcfcf2666355)\n""}, {'number': 2, 'created': '2021-06-09 18:43:26.000000000', 'files': ['requirements.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0c8ab159bc19f73d587d95a0c3d36d3df790f154', 'message': ""Fix overcloud post configure Python interpreter issues\n\nSome time ago in Kayobe we switched from using set_fact to override the\nansible_python_interpreter variable to using a task variable. However,\nnot all of the galaxy roles were updated to match. This can lead to an\nissue where a fact set by the os_networks role overrides the task\nvariable set in Kayobe.\n\nNote that we haven't seen this in CI since the code path requires the\nuse of a VLAN provisioning network, and CI uses a flat network.\n\nChange-Id: I14289df5e248b5b47fb8e60c6eea1ac845f50fd3\nStory: 2008284\nTask: 41158\n(cherry picked from commit 4a59ea483bc1baf57a6423812b597147d5e24b2e)\n(cherry picked from commit 2e221681b228bbd3a7e41f6e8e40dcfcf2666355)\n""}]",0,795616,0c8ab159bc19f73d587d95a0c3d36d3df790f154,12,3,2,14826,,,0,"Fix overcloud post configure Python interpreter issues

Some time ago in Kayobe we switched from using set_fact to override the
ansible_python_interpreter variable to using a task variable. However,
not all of the galaxy roles were updated to match. This can lead to an
issue where a fact set by the os_networks role overrides the task
variable set in Kayobe.

Note that we haven't seen this in CI since the code path requires the
use of a VLAN provisioning network, and CI uses a flat network.

Change-Id: I14289df5e248b5b47fb8e60c6eea1ac845f50fd3
Story: 2008284
Task: 41158
(cherry picked from commit 4a59ea483bc1baf57a6423812b597147d5e24b2e)
(cherry picked from commit 2e221681b228bbd3a7e41f6e8e40dcfcf2666355)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/16/795616/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.yml'],1,070a8d1c6f76024a2d28c4654d380b2bd4d7f2d3,,<<<<<<< HEAD (0a8f1f docs: Update Freenode to OFTC)======= version: v1.10.6 >>>>>>> CHANGE (2e2216 Fix overcloud post configure Python interpreter issues) version: v1.5.1, version: v1.4.0,5,1
openstack%2Ftripleo-heat-templates~master~Id3b2afee89be1fdf3008cfd53906766d94c00549,openstack/tripleo-heat-templates,master,Id3b2afee89be1fdf3008cfd53906766d94c00549,Bump ovs and ovn versions to 2.15 for FFWD.,MERGED,2021-06-09 10:38:27.000000000,2021-06-12 00:38:53.000000000,2021-06-12 00:38:53.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 17823}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-09 10:38:27.000000000', 'files': ['environments/lifecycle/upgrade-prepare.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c214e99b224e85a2059c2849aa5b356c1cb4f3c9', 'message': 'Bump ovs and ovn versions to 2.15 for FFWD.\n\nA new openvswitch and ovn version has been released, 2.15. As during the\nleapp upgrade we tell leapp which version of ovs and ovn to install in order\nto safe some restarts we now need to update the version in the\nUpgradeLeappToInstall Heat parameter.\n\nResolves: rhbz#1966476\nChange-Id: Id3b2afee89be1fdf3008cfd53906766d94c00549\n'}]",0,795514,c214e99b224e85a2059c2849aa5b356c1cb4f3c9,13,6,1,26343,,,0,"Bump ovs and ovn versions to 2.15 for FFWD.

A new openvswitch and ovn version has been released, 2.15. As during the
leapp upgrade we tell leapp which version of ovs and ovn to install in order
to safe some restarts we now need to update the version in the
UpgradeLeappToInstall Heat parameter.

Resolves: rhbz#1966476
Change-Id: Id3b2afee89be1fdf3008cfd53906766d94c00549
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/14/795514/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/lifecycle/upgrade-prepare.yaml'],1,c214e99b224e85a2059c2849aa5b356c1cb4f3c9,," UpgradeLeappToInstall: ['openvswitch2.15','ovn2.15']"," UpgradeLeappToInstall: ['openvswitch2.13','ovn2.13']",1,1
openstack%2Fpuppet-tripleo~master~I9f3677fded010fcd659c154e5ec6a6a156e3fec3,openstack/puppet-tripleo,master,I9f3677fded010fcd659c154e5ec6a6a156e3fec3,Bump major for metadata.json to mark the X cycle,MERGED,2021-06-11 07:30:48.000000000,2021-06-12 00:38:44.000000000,2021-06-12 00:38:44.000000000,"[{'_account_id': 9592}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-11 07:30:48.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/afd848aebd4992df5c6d1dad01ddd60e45634374', 'message': 'Bump major for metadata.json to mark the X cycle\n\nThis is needed to make a new tag on X for related-bug at [1]\n\n[1] If80932ebd102d4bcda70256f4cf82cb5267939da\nRelated-Bug: 1931223\nChange-Id: I9f3677fded010fcd659c154e5ec6a6a156e3fec3\n'}]",2,795938,afd848aebd4992df5c6d1dad01ddd60e45634374,9,5,1,8449,,,0,"Bump major for metadata.json to mark the X cycle

This is needed to make a new tag on X for related-bug at [1]

[1] If80932ebd102d4bcda70256f4cf82cb5267939da
Related-Bug: 1931223
Change-Id: I9f3677fded010fcd659c154e5ec6a6a156e3fec3
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/38/795938/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,afd848aebd4992df5c6d1dad01ddd60e45634374,," ""version"": ""15.0.0"","," ""version"": ""14.1.0"",",1,1
openstack%2Ftripleo-puppet-elements~master~I24b28b2dd0ddcd3f4b6ab4be91f594c85895b021,openstack/tripleo-puppet-elements,master,I24b28b2dd0ddcd3f4b6ab4be91f594c85895b021,Remove puppet modules for Sensu/Uchiwa support,MERGED,2021-06-06 08:07:37.000000000,2021-06-12 00:38:40.000000000,2021-06-12 00:38:40.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-06 08:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/e8a25c13b52a9f3b83d77a5efafbb344872625f6', 'message': 'Remove puppet modules for Sensu/Uchiwa support\n\n... because support for Sensu/Uchiwa was already removed[1].\n\n[1] e3a56f6af20aa27c5df001958cae018c046ad2ab\n\nChange-Id: I24b28b2dd0ddcd3f4b6ab4be91f594c85895b021\n'}, {'number': 2, 'created': '2021-06-06 08:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/4fbeb2cd2cd33ab28efff7490e7538cc8e1c7f81', 'message': 'Remove puppet modules for Sensu/Uchiwa support\n\n... because support for Sensu/Uchiwa was already removed[1].\n\n[1] e3a56f6af20aa27c5df001958cae018c046ad2ab\n\nChange-Id: I24b28b2dd0ddcd3f4b6ab4be91f594c85895b021\n'}, {'number': 3, 'created': '2021-06-06 08:15:54.000000000', 'files': ['elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/07ab035cddcd2df399b023dd988519b7d69cc4be', 'message': 'Remove puppet modules for Sensu/Uchiwa support\n\n... because support for Sensu/Uchiwa was already removed[1].\n\n[1] e3a56f6af20aa27c5df001958cae018c046ad2ab\n\nChange-Id: I24b28b2dd0ddcd3f4b6ab4be91f594c85895b021\n'}]",0,794980,07ab035cddcd2df399b023dd988519b7d69cc4be,11,4,3,9816,,,0,"Remove puppet modules for Sensu/Uchiwa support

... because support for Sensu/Uchiwa was already removed[1].

[1] e3a56f6af20aa27c5df001958cae018c046ad2ab

Change-Id: I24b28b2dd0ddcd3f4b6ab4be91f594c85895b021
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/80/794980/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/puppet-modules/source-repository-puppet-modules'],1,e8a25c13b52a9f3b83d77a5efafbb344872625f6,remove-sensu,,sensu-puppet git /opt/stack/puppet-modules/sensu https://github.com/sensu/sensu-puppet.gitpuppet-uchiwa git /opt/stack/puppet-modules/uchiwa https://github.com/Yelp/puppet-uchiwa.git,0,2
openstack%2Ftripleo-puppet-elements~master~I6fb2243b64ff457a5c338d7e510acfdbf65f5585,openstack/tripleo-puppet-elements,master,I6fb2243b64ff457a5c338d7e510acfdbf65f5585,Remove leftover of pankoclient,MERGED,2021-06-06 07:50:09.000000000,2021-06-12 00:38:25.000000000,2021-06-12 00:38:25.000000000,"[{'_account_id': 4264}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-06 07:50:09.000000000', 'files': ['elements/overcloud-openstack-clients/pkg-map'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/27864d5e2935fe46a3bfed9eea2155cff4c463bc', 'message': 'Remove leftover of pankoclient\n\nThis change removes reference to pankoclient which was left when\nremoving pankoclient[1].\n\n[1] 0d0067a51a13f1e084255851328a872fbc10df3c\n\nChange-Id: I6fb2243b64ff457a5c338d7e510acfdbf65f5585\n'}]",0,794974,27864d5e2935fe46a3bfed9eea2155cff4c463bc,12,5,1,9816,,,0,"Remove leftover of pankoclient

This change removes reference to pankoclient which was left when
removing pankoclient[1].

[1] 0d0067a51a13f1e084255851328a872fbc10df3c

Change-Id: I6fb2243b64ff457a5c338d7e510acfdbf65f5585
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/74/794974/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-openstack-clients/pkg-map'],1,27864d5e2935fe46a3bfed9eea2155cff4c463bc,retire_panko,," ""pankoclient_package"": ""python2-pankoclient"", ""pankoclient_package"": ""python2-pankoclient"", ""pankoclient_package"": ""python3-pankoclient"",",0,3
openstack%2Ftripleo-ansible~master~Ided482f7eaed8d5e1fac60679ef3ba07bda41c0c,openstack/tripleo-ansible,master,Ided482f7eaed8d5e1fac60679ef3ba07bda41c0c,Switch from pacemaker standby to pacemaker stop,MERGED,2021-06-04 08:41:12.000000000,2021-06-12 00:38:19.000000000,2021-06-12 00:38:19.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-06-04 08:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/31992bd34dd423c5c744513e776a1cd500257bd9', 'message': 'Switch from pacemaker standby to pacemaker stop\n\nCurrently, the ""snapshots"" backup is being taken after taking out one\nnode from the cluster using pcs node standby. The consequence of it is\nthat the standby property is also being backuped, so when the node is\nrestored, it appears as standby and it needs to be unstandby manually.\n\nSwitching to pcs cluster stop/pcs cluster start does not make the playbook take any\nlonger, nor it creates an impact on the time the vips take to be\nmigrated to a different node while provides the advantage that when the\nnode is restarted (during restore), pacemaker starts correctly without\nany other manual step.\n\nChange-Id: Ided482f7eaed8d5e1fac60679ef3ba07bda41c0c\n'}, {'number': 2, 'created': '2021-06-04 08:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8fb7b4f63e403c84bd4d5e8b47cc02da30aaf0e3', 'message': 'Switch from pacemaker standby to pacemaker stop\n\nCurrently, the ""snapshots"" backup is being taken after taking out one\nnode from the cluster using pcs node standby. The consequence of it is\nthat the standby property is also being backuped, so when the node is\nrestored, it appears as standby and it needs to be unstandby manually.\n\nSwitching to pcs cluster stop/pcs cluster start does not make the playbook take any\nlonger, nor it creates an impact on the time the vips take to be\nmigrated to a different node while provides the advantage that when the\nnode is restarted (during restore), pacemaker starts correctly without\nany other manual step.\n\nChange-Id: Ided482f7eaed8d5e1fac60679ef3ba07bda41c0c\n'}, {'number': 3, 'created': '2021-06-04 09:13:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b579ea242505e660191352f655559dc7262a29a6', 'message': 'Switch from pacemaker standby to pacemaker stop\n\nCurrently, the ""snapshots"" backup is being taken after taking out one\nnode from the cluster using pcs node standby. The consequence of it is\nthat the standby property is also being backuped, so when the node is\nrestored, it appears as standby and it needs to be unstandby manually.\n\nSwitching to pcs cluster stop/pcs cluster start does not make the playbook take any\nlonger, nor it creates an impact on the time the vips take to be\nmigrated to a different node while provides the advantage that when the\nnode is restarted (during restore), pacemaker starts correctly without\nany other manual step.\n\nChange-Id: Ided482f7eaed8d5e1fac60679ef3ba07bda41c0c\n'}, {'number': 4, 'created': '2021-06-08 13:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d9bc7ae8ef102fdf29442b63c457d2d4ba0eccbd', 'message': 'Switch from pacemaker standby to pacemaker stop\n\nCurrently, the ""snapshots"" backup is being taken after taking out one\nnode from the cluster using pcs node standby. The consequence of it is\nthat the standby property is also being backuped, so when the node is\nrestored, it appears as standby and it needs to be unstandby manually.\n\nSwitching to pcs cluster stop/pcs cluster start does not make the playbook take any\nlonger, nor it creates an impact on the time the vips take to be\nmigrated to a different node while provides the advantage that when the\nnode is restarted (during restore), pacemaker starts correctly without\nany other manual step.\n\nChange-Id: Ided482f7eaed8d5e1fac60679ef3ba07bda41c0c\n'}, {'number': 5, 'created': '2021-06-10 09:56:02.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/pacemaker_start.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0fb4873ca01c76350b162fcf574dafe970f760df', 'message': 'Switch from pacemaker standby to pacemaker stop\n\nCurrently, the ""snapshots"" backup is being taken after taking out one\nnode from the cluster using pcs node standby. The consequence of it is\nthat the standby property is also being backuped, so when the node is\nrestored, it appears as standby and it needs to be unstandby manually.\n\nSwitching to pcs cluster stop/pcs cluster start does not make the playbook take any\nlonger, nor it creates an impact on the time the vips take to be\nmigrated to a different node while provides the advantage that when the\nnode is restarted (during restore), pacemaker starts correctly without\nany other manual step.\n\nChange-Id: Ided482f7eaed8d5e1fac60679ef3ba07bda41c0c\n'}]",5,794746,0fb4873ca01c76350b162fcf574dafe970f760df,25,9,5,32968,,,0,"Switch from pacemaker standby to pacemaker stop

Currently, the ""snapshots"" backup is being taken after taking out one
node from the cluster using pcs node standby. The consequence of it is
that the standby property is also being backuped, so when the node is
restored, it appears as standby and it needs to be unstandby manually.

Switching to pcs cluster stop/pcs cluster start does not make the playbook take any
longer, nor it creates an impact on the time the vips take to be
migrated to a different node while provides the advantage that when the
node is restarted (during restore), pacemaker starts correctly without
any other manual step.

Change-Id: Ided482f7eaed8d5e1fac60679ef3ba07bda41c0c
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/46/794746/5 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/pacemaker_start.yml']",2,31992bd34dd423c5c744513e776a1cd500257bd9,change-794746-4, command: pcs cluster start, command: pcs node unstandby,2,2
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Iaf85807d067898bbab6d76ab40bc070e845a8b38,openstack/tripleo-heat-templates,stable/wallaby,Iaf85807d067898bbab6d76ab40bc070e845a8b38,HA minor update: fix bad pcs invocation,MERGED,2021-06-10 15:12:51.000000000,2021-06-12 00:38:03.000000000,2021-06-12 00:38:03.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-10 15:12:51.000000000', 'files': ['container_config_scripts/pacemaker_restart_bundle.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d03517b6144373fea1fc0e7f11bf4a39cecb00b6', 'message': 'HA minor update: fix bad pcs invocation\n\nWhen a HA resource is in failed stated, the minor update\nshould normally try to restart it but the associated\npcs invocation is currently invalid, so the resource never\ngets a chance to be restarted.\n\nUse the right pcs call to fix this minor update use case.\n\nChange-Id: Iaf85807d067898bbab6d76ab40bc070e845a8b38\nCloses-Bug: #1931500\n(cherry picked from commit 1662600e6e6e8fedbf096b279e16eabd7b3c6eea)\n'}]",0,795802,d03517b6144373fea1fc0e7f11bf4a39cecb00b6,9,4,1,20778,,,0,"HA minor update: fix bad pcs invocation

When a HA resource is in failed stated, the minor update
should normally try to restart it but the associated
pcs invocation is currently invalid, so the resource never
gets a chance to be restarted.

Use the right pcs call to fix this minor update use case.

Change-Id: Iaf85807d067898bbab6d76ab40bc070e845a8b38
Closes-Bug: #1931500
(cherry picked from commit 1662600e6e6e8fedbf096b279e16eabd7b3c6eea)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/795802/1 && git format-patch -1 --stdout FETCH_HEAD,['container_config_scripts/pacemaker_restart_bundle.sh'],1,d03517b6144373fea1fc0e7f11bf4a39cecb00b6,bug/1931500-stable/wallaby," /sbin/pcs resource cleanup $BUNDLE_NAME node=""${HOST}"""," /sbin/pcs resource cleanup $BUNDLE_NAME --node ""${HOST}""",1,1
openstack%2Fpuppet-tripleo~master~Ia9c328a51d7f5dab933b096dd7a0792f2df2210e,openstack/puppet-tripleo,master,Ia9c328a51d7f5dab933b096dd7a0792f2df2210e,Add pcmk_host_list stonith-fence_compute-fence-nova,MERGED,2019-05-31 16:35:05.000000000,2021-06-12 00:37:56.000000000,2021-06-12 00:37:56.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 19138}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-31 16:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4ccd45e4ba382c773467281457276052a2749d9e', 'message': 'WIP DNR fix pcmk_host_list on unfence stonith\n\nChange-Id: Ia9c328a51d7f5dab933b096dd7a0792f2df2210e\n'}, {'number': 2, 'created': '2019-06-04 13:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9a0c2e6cccbb939856e74b2d810e2355609aa709', 'message': 'WIP DNR fix pcmk_host_list on unfence stonith\n\nChange-Id: Ia9c328a51d7f5dab933b096dd7a0792f2df2210e\n'}, {'number': 3, 'created': '2020-05-01 16:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ef6c183d5c0934ca81929430421462867c3f2bfb', 'message': 'WIP Add pcmk_host_list on unfence stonith resource\n\nChange-Id: Ia9c328a51d7f5dab933b096dd7a0792f2df2210e\n'}, {'number': 4, 'created': '2020-05-01 18:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2184ead9a4d63e1e4665f5ff9a753b39f612ae0a', 'message': 'Add pcmk_host_list stonith-fence_compute-fence-nova\n\nWith this change we explicitely tell the stonith-fence_compute-fence-nova\nresource which pacemaker nodes it is allowed to fence.\n\nThis is a good idea in general as it makes things more explicit and\nwe do not rely on other pcmk mechanisms (stonith querying the list\nof nodes returned by the fence agent) to determine which nodes it\nis allowed to fence.\n\nTested with this change and the stonith resource is correctly set:\n[root@controller-0 ~]# pcs stonith config stonith-fence_compute-fence-nova\n Resource: stonith-fence_compute-fence-nova (class=stonith type=fence_compute)\n  Attributes: auth_url=https://overcloud.redhat.local:13000 domain=redhat.local login=admin passwd=foo pcmk_host_list=compute-0,compute-1 project_domain=Default record_only=1 region_name=regionOne tenant_name=admin user_domain=Default\n  Meta Attrs: provides=unfencing\n  Operations: monitor interval=60s (stonith-fence_compute-fence-nova-monitor-interval-60s)\n....\n\nChange-Id: Ia9c328a51d7f5dab933b096dd7a0792f2df2210e\n'}, {'number': 5, 'created': '2020-07-19 08:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6d1d7a0f3fd00188e197fe2c3eaf735176c47f4d', 'message': 'Add pcmk_host_list stonith-fence_compute-fence-nova\n\nWith this change we explicitely tell the stonith-fence_compute-fence-nova\nresource which pacemaker nodes it is allowed to fence.\n\nThis is a good idea in general as it makes things more explicit and\nwe do not rely on other pcmk mechanisms (stonith querying the list\nof nodes returned by the fence agent) to determine which nodes it\nis allowed to fence.\n\nTested with this change and the stonith resource is correctly set:\n[root@controller-0 ~]# pcs stonith config stonith-fence_compute-fence-nova\n Resource: stonith-fence_compute-fence-nova (class=stonith type=fence_compute)\n  Attributes: auth_url=https://overcloud.redhat.local:13000 domain=redhat.local login=admin passwd=foo pcmk_host_list=compute-0,compute-1 project_domain=Default record_only=1 region_name=regionOne tenant_name=admin user_domain=Default\n  Meta Attrs: provides=unfencing\n  Operations: monitor interval=60s (stonith-fence_compute-fence-nova-monitor-interval-60s)\n....\n\nChange-Id: Ia9c328a51d7f5dab933b096dd7a0792f2df2210e\n'}, {'number': 6, 'created': '2021-04-24 18:52:38.000000000', 'files': ['manifests/profile/base/pacemaker/instance_ha.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/781d197a342c6c3ee82f951483930f3d66673b4c', 'message': 'Add pcmk_host_list stonith-fence_compute-fence-nova\n\nWith this change we explicitely tell the stonith-fence_compute-fence-nova\nresource which pacemaker nodes it is allowed to fence.\n\nThis is a good idea in general as it makes things more explicit and\nwe do not rely on other pcmk mechanisms (stonith querying the list\nof nodes returned by the fence agent) to determine which nodes it\nis allowed to fence.\n\nTested with this change and the stonith resource is correctly set:\n[root@controller-0 ~]# pcs stonith config stonith-fence_compute-fence-nova\n Resource: stonith-fence_compute-fence-nova (class=stonith type=fence_compute)\n  Attributes: auth_url=https://overcloud.redhat.local:13000 domain=redhat.local login=admin passwd=foo pcmk_host_list=compute-0,compute-1 project_domain=Default record_only=1 region_name=regionOne tenant_name=admin user_domain=Default\n  Meta Attrs: provides=unfencing\n  Operations: monitor interval=60s (stonith-fence_compute-fence-nova-monitor-interval-60s)\n....\n\nChange-Id: Ia9c328a51d7f5dab933b096dd7a0792f2df2210e\n'}]",0,662517,781d197a342c6c3ee82f951483930f3d66673b4c,27,8,6,20172,,,0,"Add pcmk_host_list stonith-fence_compute-fence-nova

With this change we explicitely tell the stonith-fence_compute-fence-nova
resource which pacemaker nodes it is allowed to fence.

This is a good idea in general as it makes things more explicit and
we do not rely on other pcmk mechanisms (stonith querying the list
of nodes returned by the fence agent) to determine which nodes it
is allowed to fence.

Tested with this change and the stonith resource is correctly set:
[root@controller-0 ~]# pcs stonith config stonith-fence_compute-fence-nova
 Resource: stonith-fence_compute-fence-nova (class=stonith type=fence_compute)
  Attributes: auth_url=https://overcloud.redhat.local:13000 domain=redhat.local login=admin passwd=foo pcmk_host_list=compute-0,compute-1 project_domain=Default record_only=1 region_name=regionOne tenant_name=admin user_domain=Default
  Meta Attrs: provides=unfencing
  Operations: monitor interval=60s (stonith-fence_compute-fence-nova-monitor-interval-60s)
....

Change-Id: Ia9c328a51d7f5dab933b096dd7a0792f2df2210e
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/17/662517/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/pacemaker/instance_ha.pp'],1,4ccd45e4ba382c773467281457276052a2749d9e,iha-hostlist," $compute_list = downcase(join(hiera('compute_instanceha_short_node_names', ''), ',')) pcmk_host_list => $compute_list,"," pcmk_host_list => '',",2,1
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I422e49f0027efbbb25256d8b4718eb0aa78d90a4,openstack/tripleo-heat-templates,stable/ussuri,I422e49f0027efbbb25256d8b4718eb0aa78d90a4,set ganesha idmap.conf file path and overrides,MERGED,2021-06-10 12:31:58.000000000,2021-06-12 00:37:51.000000000,2021-06-12 00:37:51.000000000,"[{'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-06-10 12:31:58.000000000', 'files': ['deployment/ceph-ansible/ceph-nfs.yaml', 'environments/manila-cephfsganesha-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e580b849e6d0cf8f7e8e44031f2c1ce0546e5e21', 'message': 'set ganesha idmap.conf file path and overrides\n\nTraditionally,  Ganesha consumes /etc/idmapd.conf, which controls\nmapping of user/owner identities under NFSv4+.  With containerized service\ndeployment, this file has beenan immutable part of the container image\nand could not be modified.\n\nRecently ceph-ansible was modified to allow the user to set the path\nfor idmapd.conf and to override ini settings in this file by supplying\njson configuration for the overrides in the same way that it can be\nsupplied for ceph.conf overrides [1].  Also, the default path setting\nfor the idmapd.conf file is /etc/ganesha/idmap.conf, which already is\nreflected into containerized ganesha under /etc/ganesha, solving the\nimmutability issue.  If no overrides are supplied, the file put in this\nlocation will match that originally frozen into the container, so there\nis no issue here with backwards compatibility.\n\nThis change exposes parameters for idmap.conf file path and override\ncontents in TripleO and passes them into ceph-ansible.  It also sets up\nthese parameters for cephadm.  Cephadm support for OpenStack Ganesha\nis WIP so there will likely need to be a followup patch to make these\neffective when cephadm replaces ceph ansible.\n\n[1] https://github.com/ceph/ceph-ansible/pull/6422\n\nChange-Id: I422e49f0027efbbb25256d8b4718eb0aa78d90a4\n(cherry picked from commit 9a42686dc7f9181246fdddf87e35a6a669726cea)\n(cherry picked from commit b2a8641a5c16e43c4d23b4ca372fb0e29f6f6ebc)\n(cherry picked from commit 823ec822386976e8150156967f5dafebed248a2e)\n'}]",0,795630,e580b849e6d0cf8f7e8e44031f2c1ce0546e5e21,8,4,1,9003,,,0,"set ganesha idmap.conf file path and overrides

Traditionally,  Ganesha consumes /etc/idmapd.conf, which controls
mapping of user/owner identities under NFSv4+.  With containerized service
deployment, this file has beenan immutable part of the container image
and could not be modified.

Recently ceph-ansible was modified to allow the user to set the path
for idmapd.conf and to override ini settings in this file by supplying
json configuration for the overrides in the same way that it can be
supplied for ceph.conf overrides [1].  Also, the default path setting
for the idmapd.conf file is /etc/ganesha/idmap.conf, which already is
reflected into containerized ganesha under /etc/ganesha, solving the
immutability issue.  If no overrides are supplied, the file put in this
location will match that originally frozen into the container, so there
is no issue here with backwards compatibility.

This change exposes parameters for idmap.conf file path and override
contents in TripleO and passes them into ceph-ansible.  It also sets up
these parameters for cephadm.  Cephadm support for OpenStack Ganesha
is WIP so there will likely need to be a followup patch to make these
effective when cephadm replaces ceph ansible.

[1] https://github.com/ceph/ceph-ansible/pull/6422

Change-Id: I422e49f0027efbbb25256d8b4718eb0aa78d90a4
(cherry picked from commit 9a42686dc7f9181246fdddf87e35a6a669726cea)
(cherry picked from commit b2a8641a5c16e43c4d23b4ca372fb0e29f6f6ebc)
(cherry picked from commit 823ec822386976e8150156967f5dafebed248a2e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/795630/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ceph-ansible/ceph-nfs.yaml', 'environments/manila-cephfsganesha-config.yaml']",2,e580b849e6d0cf8f7e8e44031f2c1ce0546e5e21,centos-storage-sig-stable/wallaby-stable/victoria-stable/ussuri, # Use ManilaCephFSNFSIdmapConf to change the path of the idmap.conf file consumed by ganesha ManilaCephFSNFSIdmapConf: '/etc/ganesha/idmap.conf' # Use ManilaCephFSNFSIdmapOverrides to overide ini configuration in the idmap.conf file ManilaCephFSNFSIdmapOverrides: {},,13,0
openstack%2Fneutron~master~Ief14ef053023a088716fa49e13d832b7e8faef31,openstack/neutron,master,Ief14ef053023a088716fa49e13d832b7e8faef31,Set trunk sub-port when bind profile is created,MERGED,2021-06-08 13:55:30.000000000,2021-06-12 00:03:32.000000000,2021-06-12 00:02:11.000000000,"[{'_account_id': 6773}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2021-06-08 13:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0bf48b53e256794602c9ba7c04023ef7f14277d7', 'message': '[WIP] Set trunk sub-port when bind profile is created\n\nChange-Id: Ief14ef053023a088716fa49e13d832b7e8faef31\n'}, {'number': 2, 'created': '2021-06-10 15:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e880243f3993aa472aba19bea4ac63e7eb5f4e38', 'message': 'Set trunk sub-port when bind profile is created\n\nCloses-Bug: #1931583\nChange-Id: Ief14ef053023a088716fa49e13d832b7e8faef31\n'}, {'number': 3, 'created': '2021-06-11 07:18:56.000000000', 'files': ['neutron/services/trunk/drivers/ovn/trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6ada9124143f42311951a75b5d586bbab4451ce6', 'message': 'Set trunk sub-port when bind profile is created\n\nCloses-Bug: #1931583\nChange-Id: Ief14ef053023a088716fa49e13d832b7e8faef31\n'}]",2,795334,6ada9124143f42311951a75b5d586bbab4451ce6,41,6,3,11082,,,0,"Set trunk sub-port when bind profile is created

Closes-Bug: #1931583
Change-Id: Ief14ef053023a088716fa49e13d832b7e8faef31
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/795334/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/trunk/drivers/ovn/trunk_driver.py'],1,0bf48b53e256794602c9ba7c04023ef7f14277d7,trunk_port_active, # NOTE(ksambor): When sub-port was created and event was process # without binding profile this port will end forever in DOWN # status so we need to switch it here db_port.status = trunk_consts.TRUNK_ACTIVE_STATUS,,4,0
openstack%2Fneutron~stable%2Fwallaby~Ib26296d5a0e3a1f25b14d90f66fd53ad87ffe93c,openstack/neutron,stable/wallaby,Ib26296d5a0e3a1f25b14d90f66fd53ad87ffe93c,"[OVN] Add ""filter-validation"" extension to supported list",MERGED,2021-06-10 08:28:44.000000000,2021-06-11 22:43:13.000000000,2021-06-11 22:41:51.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-10 08:28:44.000000000', 'files': ['neutron/common/ovn/extensions.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4d2889454d9a52f00a3766d84452b19a9e29c24a', 'message': '[OVN] Add ""filter-validation"" extension to supported list\n\nChange-Id: Ib26296d5a0e3a1f25b14d90f66fd53ad87ffe93c\nCloses-Bug: #1926149\n(cherry picked from commit 4d61903bb8bc4917475d35d88c6de3e6ca0b9873)\n'}]",0,795623,4d2889454d9a52f00a3766d84452b19a9e29c24a,26,3,1,16688,,,0,"[OVN] Add ""filter-validation"" extension to supported list

Change-Id: Ib26296d5a0e3a1f25b14d90f66fd53ad87ffe93c
Closes-Bug: #1926149
(cherry picked from commit 4d61903bb8bc4917475d35d88c6de3e6ca0b9873)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/23/795623/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/common/ovn/extensions.py'],1,4d2889454d9a52f00a3766d84452b19a9e29c24a,bug/1926149-stable/wallaby,"from neutron_lib.api.definitions import filter_validation filter_validation.ALIAS,",,2,0
openstack%2Fkolla~master~Ie35f92737ef36531d7bdc6b9245d529be8096c9c,openstack/kolla,master,Ie35f92737ef36531d7bdc6b9245d529be8096c9c,Remove panko,MERGED,2021-06-02 07:44:52.000000000,2021-06-11 22:14:30.000000000,2021-06-11 22:13:09.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-02 07:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/47d00a2c8ce8e2969d3d673c93f3fa722dd66b6f', 'message': 'Remove panko\n\nPanko has been deprecated and removed from OpenStack. Only\nstable branches are maintained.\n\nChange-Id: Ie35f92737ef36531d7bdc6b9245d529be8096c9c\n'}, {'number': 2, 'created': '2021-06-02 08:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e67eeb224f8962e56af5aecae08eadf38b8d278e', 'message': 'Remove panko\n\nPanko has been deprecated and removed from OpenStack. Only\nstable branches are maintained.\n\nChange-Id: Ie35f92737ef36531d7bdc6b9245d529be8096c9c\n'}, {'number': 3, 'created': '2021-06-10 08:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6585f94381adeea923a4aa31692f7fb86ee28086', 'message': 'Remove panko\n\nPanko has been deprecated and removed from OpenStack. Only\nstable branches are maintained.\n\nDepends-on: https://review.opendev.org/c/openstack/kolla-ansible/+/795315\nChange-Id: Ie35f92737ef36531d7bdc6b9245d529be8096c9c\n'}, {'number': 4, 'created': '2021-06-11 15:50:42.000000000', 'files': ['docker/panko/panko-api/extend_start.sh', 'releasenotes/notes/remove-panko-5338b559.yaml', 'doc/source/matrix_x86.csv', 'doc/source/matrix_aarch64.csv', 'README.rst', 'docker/panko/panko-base/extend_start.sh', 'docker/panko/panko-base/Dockerfile.j2', 'roles/kolla-build-config/defaults/main.yml', 'docker/ceilometer/ceilometer-base/Dockerfile.j2', 'kolla/common/config.py', 'docker/panko/panko-api/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e9ec89821e5a5f8ca90aff71ed3683e2dabe1a23', 'message': 'Remove panko\n\nPanko has been deprecated and removed from OpenStack. Only\nstable branches are maintained.\n\nChange-Id: Ie35f92737ef36531d7bdc6b9245d529be8096c9c\n'}]",2,794150,e9ec89821e5a5f8ca90aff71ed3683e2dabe1a23,30,4,4,4264,,,0,"Remove panko

Panko has been deprecated and removed from OpenStack. Only
stable branches are maintained.

Change-Id: Ie35f92737ef36531d7bdc6b9245d529be8096c9c
",git fetch https://review.opendev.org/openstack/kolla refs/changes/50/794150/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/matrix_x86.csv', 'docker/panko/panko-api/extend_start.sh', 'doc/source/matrix_aarch64.csv', 'README.rst', 'docker/panko/panko-base/extend_start.sh', 'docker/panko/panko-base/Dockerfile.j2', 'roles/kolla-build-config/defaults/main.yml', 'docker/ceilometer/ceilometer-base/Dockerfile.j2', 'docker/panko/panko-api/Dockerfile.j2', 'kolla/common/config.py']",10,47d00a2c8ce8e2969d3d673c93f3fa722dd66b6f,retire_panko,," 'panko', 'ceilometer-base-plugin-panko': { 'type': 'url', 'location': ('$tarballs_base/openstack/panko/' 'panko-${openstack_branch}.tar.gz')}, 'panko-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/panko/' 'panko-${openstack_branch}.tar.gz')}, 'panko-user': { 'uid': 42438, 'gid': 42438, },",0,134
openstack%2Fpython-tripleoclient~master~Ieb99a7efcf65dfc96e114d93507ef64b5ef3cb3e,openstack/python-tripleoclient,master,Ieb99a7efcf65dfc96e114d93507ef64b5ef3cb3e,WIP: set nova::dhcp_domain on undercloud,NEW,2021-06-11 15:14:08.000000000,2021-06-11 22:07:44.000000000,,"[{'_account_id': 9816}, {'_account_id': 17216}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 15:14:08.000000000', 'files': ['tripleoclient/v1/undercloud_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0012048ac4f01f52a222139020461d50a46a8050', 'message': 'WIP: set nova::dhcp_domain on undercloud\n\nDepends-On: Iabcf07bd5c43bcc563b139dfd94d927a987389aa\nChange-Id: Ieb99a7efcf65dfc96e114d93507ef64b5ef3cb3e\n'}]",0,796038,0012048ac4f01f52a222139020461d50a46a8050,3,3,1,23811,,,0,"WIP: set nova::dhcp_domain on undercloud

Depends-On: Iabcf07bd5c43bcc563b139dfd94d927a987389aa
Change-Id: Ieb99a7efcf65dfc96e114d93507ef64b5ef3cb3e
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/38/796038/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud_config.py'],1,0012048ac4f01f52a222139020461d50a46a8050,, env_data['NovaDhcpDomain'] = CONF['overcloud_domain_name'],,1,0
openstack%2Ftripleo-common~stable%2Fwallaby~Ibaad817f52930380e659180fd8c52dca131cd4f8,openstack/tripleo-common,stable/wallaby,Ibaad817f52930380e659180fd8c52dca131cd4f8,Move rabbitmq healthcheck to something more modern,MERGED,2021-06-10 18:07:00.000000000,2021-06-11 21:46:51.000000000,2021-06-11 21:45:39.000000000,"[{'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-10 18:07:00.000000000', 'files': ['healthcheck/rabbitmq'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/62344e944ea9ffa082931dac0bcdccd92320da59', 'message': 'Move rabbitmq healthcheck to something more modern\n\nRabbitmq healthcheck when used against newer rabbitmq versions (seen at\nleast with 3.8.16) is using old interface ""rabbitmqctl\nnode_health_check"" which is deprecated and logs the following:\n\n  2021-06-08 18:25:55.014 [warning] <0.5504.0> rabbitmqctl node_health_check and its HTTP API counterpart are\n  DEPRECATED. See https://www.rabbitmq.com/monitoring.html#health-checks for replacement options.\n\nLet\'s switch to ""rabbitmq-diagnostics check_running"" which should be a\nsufficiently solid check without being too complex/heavy on rabbit\nitself.\n\nChange-Id: Ibaad817f52930380e659180fd8c52dca131cd4f8\nCloses-Bug: #1931298\n(cherry picked from commit aaa981c9ebc4d3fb517286317f674427e3235610)\n'}]",0,795808,62344e944ea9ffa082931dac0bcdccd92320da59,9,3,1,20172,,,0,"Move rabbitmq healthcheck to something more modern

Rabbitmq healthcheck when used against newer rabbitmq versions (seen at
least with 3.8.16) is using old interface ""rabbitmqctl
node_health_check"" which is deprecated and logs the following:

  2021-06-08 18:25:55.014 [warning] <0.5504.0> rabbitmqctl node_health_check and its HTTP API counterpart are
  DEPRECATED. See https://www.rabbitmq.com/monitoring.html#health-checks for replacement options.

Let's switch to ""rabbitmq-diagnostics check_running"" which should be a
sufficiently solid check without being too complex/heavy on rabbit
itself.

Change-Id: Ibaad817f52930380e659180fd8c52dca131cd4f8
Closes-Bug: #1931298
(cherry picked from commit aaa981c9ebc4d3fb517286317f674427e3235610)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/08/795808/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/rabbitmq'],1,62344e944ea9ffa082931dac0bcdccd92320da59,rabbitmq-healthcheck-stable/wallaby,rabbitmq-diagnostics check_running || exit 1,rabbitmqctl node_health_check || exit 1,1,1
openstack%2Fpuppet-tripleo~master~Iaecdc0adb8455b2e660624f19a42e6dede5b931d,openstack/puppet-tripleo,master,Iaecdc0adb8455b2e660624f19a42e6dede5b931d,Allow tuning timeouts for rabbitmq pacemaker resource,MERGED,2021-06-08 11:44:48.000000000,2021-06-11 21:45:43.000000000,2021-06-11 21:45:43.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-08 11:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/fc3df3d24f70559d512a6c0c9f68e6cf44058003', 'message': 'Allow tuning timeouts for rabbitmq pacemaker resource\n\nThis change introduces several timeout parameters so that users can\ntune operation timeouts about rabbimtq resource in pacemaker.\n\nChange-Id: Iaecdc0adb8455b2e660624f19a42e6dede5b931d\n'}, {'number': 2, 'created': '2021-06-08 14:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ddb80e4a5590cd822608c49bd0169fa94853a455', 'message': 'Allow tuning timeouts for rabbitmq pacemaker resource\n\nThis change introduces several timeout parameters so that users can\ntune operation timeouts about rabbimtq resource in pacemaker.\n\nChange-Id: Iaecdc0adb8455b2e660624f19a42e6dede5b931d\n'}, {'number': 3, 'created': '2021-06-08 23:26:46.000000000', 'files': ['manifests/profile/pacemaker/rabbitmq_bundle.pp', 'manifests/profile/pacemaker/rabbitmq.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/26ee01a0d960a8ba5852216ea0f4a1cfa9253c2a', 'message': 'Allow tuning timeouts for rabbitmq pacemaker resource\n\nThis change introduces several timeout parameters so that users can\ntune operation timeouts about rabbimtq resource in pacemaker.\n\nChange-Id: Iaecdc0adb8455b2e660624f19a42e6dede5b931d\n'}]",0,795302,26ee01a0d960a8ba5852216ea0f4a1cfa9253c2a,16,4,3,9816,,,0,"Allow tuning timeouts for rabbitmq pacemaker resource

This change introduces several timeout parameters so that users can
tune operation timeouts about rabbimtq resource in pacemaker.

Change-Id: Iaecdc0adb8455b2e660624f19a42e6dede5b931d
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/02/795302/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/pacemaker/rabbitmq_bundle.pp', 'manifests/profile/pacemaker/rabbitmq.pp']",2,fc3df3d24f70559d512a6c0c9f68e6cf44058003,rabbitmq-timeout,"# [*start_timeout*] # (Optional) Maximum time in second for starting up a rabbitmq server # before pacemaker considers the operation timed out. # Defaults to 200 # # [*monitor_timeout*] # (Optional) Maximum time in second for monitoring a rabbitmq server # before pacemaker considers the operation timed out. # Defaults to undef (use the default value in resource agent) # # [*stop_timeout*] # (Optional) Maximum time in second for stopping a rabbitmq server # before pacemaker considers the operation timed out. # Defaults to 200 # $start_timeout = 200, $monitor_timeout = undef $stop_timeout = 200, $op_start_params = $start_timeout ? { undef => undef default => ""start timeout=${start_timeout}s"" } $op_monitor_params = $monitor_timeout ? { undef => undef default => ""monitor timeout=${monitor_timeout}s"" } $op_stop_params = $stop_timeout ? { undef => undef default => ""stop timeout=${stop_timeout}s"" } $op_params = join(delete_undef_values([$op_start_params, $op_monitor_params, $op_stop_params]), ' ') op_params => $op_params,"," op_params => 'start timeout=200s stop timeout=200s',",68,2
openstack%2Fcharm-vault~master~Iabec6088eaaf4f1dd93b16f0f0d99d2ad4c915f6,openstack/charm-vault,master,Iabec6088eaaf4f1dd93b16f0f0d99d2ad4c915f6,Use bionic version of easyrsa and etcd,MERGED,2021-06-09 23:28:55.000000000,2021-06-11 21:43:59.000000000,2021-06-11 21:43:59.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 23:28:55.000000000', 'files': ['src/tests/bundles/xenial-ha-mysql.yaml'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/54d1ec3a3317b0b96a4447bac3d13240405c30d4', 'message': 'Use bionic version of easyrsa and etcd\n\nThe xenial-ha-mysql test has been failing as there are issues with the\nxenial versions of easyrsa and etcd. The charm under test is vault so we\ncan use the bionic versions of those charms to get unstuck.\n\nChange-Id: Iabec6088eaaf4f1dd93b16f0f0d99d2ad4c915f6\n'}]",0,795714,54d1ec3a3317b0b96a4447bac3d13240405c30d4,15,3,1,20805,,,0,"Use bionic version of easyrsa and etcd

The xenial-ha-mysql test has been failing as there are issues with the
xenial versions of easyrsa and etcd. The charm under test is vault so we
can use the bionic versions of those charms to get unstuck.

Change-Id: Iabec6088eaaf4f1dd93b16f0f0d99d2ad4c915f6
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/14/795714/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/bundles/xenial-ha-mysql.yaml'],1,54d1ec3a3317b0b96a4447bac3d13240405c30d4,fix-xenial-tests, series: bionic etcd: charm: cs:etcd series: bionic, etcd: # NOTE(ajkavanagh) using pinned etcd to work around # https://bugs.launchpad.net/charm-etcd/+bug/1861483 #charm: cs:etcd charm: cs:~containers/etcd-474,3,4
openstack%2Fcharm-neutron-gateway~master~Ie0ebb8072fa802dc8c2478a0b3ca38202d49c85f,openstack/charm-neutron-gateway,master,Ie0ebb8072fa802dc8c2478a0b3ca38202d49c85f,Disable vrrp healthchecks by default,MERGED,2021-03-24 22:17:55.000000000,2021-06-11 21:42:06.000000000,2021-06-11 21:42:06.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-24 22:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/0b1f4963f63941230f86d03edb2abf0448eff9fd', 'message': 'Disable vrrp healthchecks by default\n\nVRRP healthchecks were enabled by default starting in the 19.07 charm\nrelease for network deployments which utilize l3ha or dvr+snat. The VRRP\nhealthchecks have specific expectations that may not be satisfied in\nvarious data centers. This leads to problems with networks as failed\nhealthchecks lead to router failovers.\n\nThis change alters the default config option to disable the vrrp\nhealthchecks by default and require users to opt in to using them. The\ndescription around the option has been updated to indicate that doing so\nmay lead to routers failing over if ICMP pings are missed.\n\nCloses-Bug: #192101\nChange-Id: Ie0ebb8072fa802dc8c2478a0b3ca38202d49c85f\n'}, {'number': 2, 'created': '2021-04-10 02:07:21.000000000', 'files': ['unit_tests/test_neutron_contexts.py', 'config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/5e9a7e9087727922d1d6b06439bc72e7767c218d', 'message': 'Disable vrrp healthchecks by default\n\nVRRP healthchecks were enabled by default starting in the 19.07 charm\nrelease for network deployments which utilize l3ha or dvr+snat. The VRRP\nhealthchecks have specific expectations that may not be satisfied in\nvarious data centers. This leads to problems with networks as failed\nhealthchecks lead to router failovers.\n\nThis change alters the default config option to disable the vrrp\nhealthchecks by default and require users to opt in to using them. The\ndescription around the option has been updated to indicate that doing so\nmay lead to routers failing over if ICMP pings are missed.\n\nCloses-Bug: #192101\nChange-Id: Ie0ebb8072fa802dc8c2478a0b3ca38202d49c85f\n'}]",0,782869,5e9a7e9087727922d1d6b06439bc72e7767c218d,19,3,2,8992,,,0,"Disable vrrp healthchecks by default

VRRP healthchecks were enabled by default starting in the 19.07 charm
release for network deployments which utilize l3ha or dvr+snat. The VRRP
healthchecks have specific expectations that may not be satisfied in
various data centers. This leads to problems with networks as failed
healthchecks lead to router failovers.

This change alters the default config option to disable the vrrp
healthchecks by default and require users to opt in to using them. The
description around the option has been updated to indicate that doing so
may lead to routers failing over if ICMP pings are missed.

Closes-Bug: #192101
Change-Id: Ie0ebb8072fa802dc8c2478a0b3ca38202d49c85f
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/69/782869/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_neutron_contexts.py', 'config.yaml']",2,0b1f4963f63941230f86d03edb2abf0448eff9fd,bug/1921010," default: 0 Specifies the frequency (in seconds) at which HA routers will check their external network gateway by performing an ICMP ping between the virtual routers. When the ping check fails, this will trigger the HA routers to failover to another node. A value of 0 will disable this check. This setting only applies when using l3ha and dvr_snat. . WARNING: Enabling the health checks should be done with caution as it may lead to rapid failovers of HA routers. ICMP pings are low priority and may be dropped or take longer than the 1 second afforded by neutron, which leads to routers failing over to other nodes.", default: 30 By default all HA routers will check their external network gateway by sending a ping and if that fails they trigger a vrrp transition. This option defines how frequently this check is performed. Setting this value to 0 will disable the healthchecks.,12,6
openstack%2Fneutron~master~I7779f192b1ed64606c250c9301baef19a4ea08b5,openstack/neutron,master,I7779f192b1ed64606c250c9301baef19a4ea08b5,Don't fail in create_router if router already exists,ABANDONED,2021-03-09 16:38:57.000000000,2021-06-11 21:39:21.000000000,,"[{'_account_id': 5756}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 16:38:57.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/16cb30658074b93cf6a8abb3c8278c39f24dfe76', 'message': ""Don't fail in create_router if router already exists\n\nIf the router already exists, just use it and update its fields.\n\nChange-Id: I7779f192b1ed64606c250c9301baef19a4ea08b5\nCloses-Bug: #1917508\n""}]",0,779534,16cb30658074b93cf6a8abb3c8278c39f24dfe76,8,3,1,5756,,,0,"Don't fail in create_router if router already exists

If the router already exists, just use it and update its fields.

Change-Id: I7779f192b1ed64606c250c9301baef19a4ea08b5
Closes-Bug: #1917508
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/779534/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py']",3,16cb30658074b93cf6a8abb3c8278c39f24dfe76,," enabled=True, options={}, may_exist=True)"," enabled=True, options={})",8,8
openstack%2Fproject-config~master~Id5de5ec46f1c98ca2c64b6e2f61e8ce73dfbf83d,openstack/project-config,master,Id5de5ec46f1c98ca2c64b6e2f61e8ce73dfbf83d,Disable the osuosl arm64 cloud,MERGED,2021-06-11 20:43:10.000000000,2021-06-11 21:10:49.000000000,2021-06-11 21:03:15.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 20:43:10.000000000', 'files': ['nodepool/nl03.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/841ed3f2eee567579080dd5de56ebfb9f83c0bb0', 'message': 'Disable the osuosl arm64 cloud\n\nThis is a temporary measure while we convince the mirror in that region\nto start a working afs client. For some reason (perhaps related to\nvolume slowness, cache corruption, of the local dkms build) we have not\nbeen able to successfully start the openafs client here.\n\nChange-Id: Id5de5ec46f1c98ca2c64b6e2f61e8ce73dfbf83d\n'}]",0,796062,841ed3f2eee567579080dd5de56ebfb9f83c0bb0,7,2,1,4146,,,0,"Disable the osuosl arm64 cloud

This is a temporary measure while we convince the mirror in that region
to start a working afs client. For some reason (perhaps related to
volume slowness, cache corruption, of the local dkms build) we have not
been able to successfully start the openafs client here.

Change-Id: Id5de5ec46f1c98ca2c64b6e2f61e8ce73dfbf83d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/62/796062/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl03.opendev.org.yaml'],1,841ed3f2eee567579080dd5de56ebfb9f83c0bb0,temp-disable-osuosl, max-servers: 0, max-servers: 15,1,1
openstack%2Fdevstack~master~I30e73df3de8b654287d140fd739c3e40830e5d8d,openstack/devstack,master,I30e73df3de8b654287d140fd739c3e40830e5d8d,"Revert ""Add route to IPv6 private subnets in ML2/OVN""",ABANDONED,2021-06-08 14:45:37.000000000,2021-06-11 21:06:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-08 14:45:37.000000000', 'files': ['lib/neutron_plugins/services/l3'], 'web_link': 'https://opendev.org/openstack/devstack/commit/6cdec89a3f05c34169f33063e42d55383641b252', 'message': 'Revert ""Add route to IPv6 private subnets in ML2/OVN""\n\nThis reverts commit 949f5ada608961fd05435e01bd9d06757b6c62c5.\n\nChange-Id: I30e73df3de8b654287d140fd739c3e40830e5d8d\n'}]",0,795355,6cdec89a3f05c34169f33063e42d55383641b252,5,1,1,11952,,,0,"Revert ""Add route to IPv6 private subnets in ML2/OVN""

This reverts commit 949f5ada608961fd05435e01bd9d06757b6c62c5.

Change-Id: I30e73df3de8b654287d140fd739c3e40830e5d8d
",git fetch https://review.opendev.org/openstack/devstack refs/changes/55/795355/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron_plugins/services/l3'],1,6cdec89a3f05c34169f33063e42d55383641b252,, # This logic is specific to using the l3-agent for layer 3 if is_service_enabled q-l3 || is_service_enabled neutron-l3; then," # This logic is specific to using OVN or the l3-agent for layer 3 if ([[ $Q_AGENT == ""ovn"" ]] && is_service_enabled q-svc neutron-server) || is_service_enabled q-l3 neutron-l3; then # Any IPv6 private subnet that uses the default IPV6 subnet pool # and that is plugged into the default router (Q_ROUTER_NAME) will # be reachable from the devstack node (ex: ipv6-private-subnet). # Some scenario tests (such as octavia-tempest-plugin) rely heavily # on this feature.",2,7
openstack%2Fkolla-ansible~master~I9d5ebed293a5fb25f4cd7daa473df152440e8b50,openstack/kolla-ansible,master,I9d5ebed293a5fb25f4cd7daa473df152440e8b50,Remove support for panko,MERGED,2021-06-08 12:49:39.000000000,2021-06-11 20:58:03.000000000,2021-06-11 20:56:40.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30449}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-08 12:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d98115f1acba20ae4d0d7cedec594b1c0611bde4', 'message': 'Remove support for panko\n\nthe project is deprecated and in the process of being removed\nfrom OpenStack upstream.\n\nChange-Id: I9d5ebed293a5fb25f4cd7daa473df152440e8b50\n'}, {'number': 2, 'created': '2021-06-08 14:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/754f89b846673a4b2d1e79e26533dd97d24588d4', 'message': 'Remove support for panko\n\nthe project is deprecated and in the process of being removed\nfrom OpenStack upstream.\n\nChange-Id: I9d5ebed293a5fb25f4cd7daa473df152440e8b50\n'}, {'number': 3, 'created': '2021-06-09 06:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5a7551d8c74ca85b280bdf211add5dde9f17ace5', 'message': 'Remove support for panko\n\nthe project is deprecated and in the process of being removed\nfrom OpenStack upstream.\n\nChange-Id: I9d5ebed293a5fb25f4cd7daa473df152440e8b50\n'}, {'number': 4, 'created': '2021-06-09 09:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f54c8a4c4bf349109617ff406fe875dc1ae9a503', 'message': 'Remove support for panko\n\nthe project is deprecated and in the process of being removed\nfrom OpenStack upstream.\n\nChange-Id: I9d5ebed293a5fb25f4cd7daa473df152440e8b50\n'}, {'number': 5, 'created': '2021-06-09 12:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/67a9995ad1b410cea81508aba5dd1f7cc9e5fbea', 'message': 'Remove support for panko\n\nthe project is deprecated and in the process of being removed\nfrom OpenStack upstream.\n\nChange-Id: I9d5ebed293a5fb25f4cd7daa473df152440e8b50\n'}, {'number': 6, 'created': '2021-06-09 14:34:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5bd020e59dbb2f693e571d2ef864194f95954f0a', 'message': 'Remove support for panko\n\nthe project is deprecated and in the process of being removed\nfrom OpenStack upstream.\n\nChange-Id: I9d5ebed293a5fb25f4cd7daa473df152440e8b50\n'}, {'number': 7, 'created': '2021-06-11 15:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cb059935107b57c579e3fc2fe664eb3e8d3d2c84', 'message': 'Remove support for panko\n\nthe project is deprecated and in the process of being removed\nfrom OpenStack upstream.\n\nChange-Id: I9d5ebed293a5fb25f4cd7daa473df152440e8b50\n'}, {'number': 8, 'created': '2021-06-11 16:00:14.000000000', 'files': ['ansible/inventory/multinode', 'ansible/roles/ceilometer/templates/ceilometer-notification.json.j2', 'ansible/roles/common/templates/conf/filter/01-rewrite-0.14.conf.j2', 'ansible/roles/panko/templates/wsgi-panko.conf.j2', 'ansible/roles/ceilometer/tasks/config.yml', 'ansible/roles/panko/tasks/deploy-containers.yml', 'releasenotes/notes/remove-panko-component-dda787fca995b9b096a1446e2d2cf9dede37f358.yaml', 'README.rst', 'ansible/roles/panko/tasks/pull.yml', 'ansible/roles/ceilometer/templates/event_pipeline.yaml.j2', 'ansible/site.yml', 'ansible/roles/panko/tasks/config.yml', 'ansible/inventory/all-in-one', 'ansible/roles/panko/tasks/stop.yml', 'ansible/roles/panko/templates/panko-api.json.j2', 'ansible/roles/panko/templates/panko.conf.j2', 'etc/kolla/globals.yml', 'ansible/roles/common/templates/conf/filter/01-rewrite-0.12.conf.j2', 'ansible/roles/panko/handlers/main.yml', 'ansible/roles/panko/tasks/bootstrap.yml', 'ansible/roles/panko/tasks/deploy.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/panko/tasks/loadbalancer.yml', 'ansible/roles/panko/tasks/main.yml', 'ansible/roles/panko/tasks/bootstrap_service.yml', 'etc/kolla/passwords.yml', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/panko/tasks/check.yml', 'ansible/roles/common/templates/cron-logrotate-panko.conf.j2', 'ansible/roles/panko/tasks/precheck.yml', 'ansible/roles/panko/tasks/upgrade.yml', 'ansible/roles/haproxy/tasks/precheck.yml', 'ansible/roles/panko/tasks/register.yml', 'ansible/roles/panko/defaults/main.yml', 'ansible/group_vars/all.yml', 'ansible/roles/panko/tasks/check-containers.yml', 'ansible/roles/panko/tasks/copy-certs.yml', 'tests/templates/inventory.j2', 'ansible/roles/panko/tasks/reconfigure.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ccf8cc5dca38d14a177b740aaffd82484d0b9a5b', 'message': 'Remove support for panko\n\nthe project is deprecated and in the process of being removed\nfrom OpenStack upstream.\n\nChange-Id: I9d5ebed293a5fb25f4cd7daa473df152440e8b50\n'}]",2,795315,ccf8cc5dca38d14a177b740aaffd82484d0b9a5b,32,5,8,4264,,,0,"Remove support for panko

the project is deprecated and in the process of being removed
from OpenStack upstream.

Change-Id: I9d5ebed293a5fb25f4cd7daa473df152440e8b50
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/15/795315/5 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/inventory/multinode', 'ansible/roles/ceilometer/templates/ceilometer-notification.json.j2', 'ansible/roles/common/templates/conf/filter/01-rewrite-0.14.conf.j2', 'ansible/roles/panko/templates/wsgi-panko.conf.j2', 'ansible/roles/ceilometer/tasks/config.yml', 'ansible/roles/panko/tasks/deploy-containers.yml', 'releasenotes/notes/remove-panko-component-dda787fca995b9b096a1446e2d2cf9dede37f358.yaml', 'ansible/roles/panko/tasks/pull.yml', 'ansible/roles/ceilometer/templates/event_pipeline.yaml.j2', 'ansible/site.yml', 'ansible/roles/panko/tasks/config.yml', 'ansible/inventory/all-in-one', 'ansible/roles/panko/tasks/stop.yml', 'ansible/roles/panko/templates/panko-api.json.j2', 'ansible/roles/panko/templates/panko.conf.j2', 'ansible/roles/panko/handlers/main.yml', 'ansible/roles/panko/tasks/bootstrap.yml', 'ansible/roles/panko/tasks/deploy.yml', 'ansible/roles/panko/tasks/loadbalancer.yml', 'ansible/roles/panko/tasks/main.yml', 'ansible/roles/panko/tasks/bootstrap_service.yml', 'etc/kolla/passwords.yml', 'ansible/roles/panko/tasks/check.yml', 'ansible/roles/common/templates/cron-logrotate-panko.conf.j2', 'ansible/roles/panko/tasks/precheck.yml', 'ansible/roles/panko/tasks/upgrade.yml', 'ansible/roles/haproxy/tasks/precheck.yml', 'ansible/roles/panko/tasks/register.yml', 'ansible/roles/panko/defaults/main.yml', 'ansible/group_vars/all.yml', 'ansible/roles/panko/tasks/check-containers.yml', 'ansible/roles/panko/tasks/copy-certs.yml', 'ansible/roles/panko/tasks/reconfigure.yml']",33,d98115f1acba20ae4d0d7cedec594b1c0611bde4,retire_panko,,--- - import_tasks: deploy.yml ,6,546
openstack%2Fkayobe-config-dev~master~Ie3eec95ac7dadbfc613e913c09371d61b7e5eb2a,openstack/kayobe-config-dev,master,Ie3eec95ac7dadbfc613e913c09371d61b7e5eb2a,Enable deploying monitoring with default inventory,MERGED,2021-06-11 10:43:13.000000000,2021-06-11 20:37:04.000000000,2021-06-11 20:37:04.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-06-11 10:43:13.000000000', 'files': ['etc/kayobe/inventory/hosts'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/5a286890b83f61c7418c791231933fea2bdc045a', 'message': 'Enable deploying monitoring with default inventory\n\nThis makes enabling monitoring possible without any modification\nto the default inventory.\n\nChange-Id: Ie3eec95ac7dadbfc613e913c09371d61b7e5eb2a\n'}]",0,795983,5a286890b83f61c7418c791231933fea2bdc045a,8,5,1,32657,,,0,"Enable deploying monitoring with default inventory

This makes enabling monitoring possible without any modification
to the default inventory.

Change-Id: Ie3eec95ac7dadbfc613e913c09371d61b7e5eb2a
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/83/795983/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/kayobe/inventory/hosts'],1,5a286890b83f61c7418c791231933fea2bdc045a,,[monitoring:children] controllers ,,3,0
openstack%2Fkayobe~stable%2Fwallaby~Ibe177fe078769204c7e89c04e40870890fe501ba,openstack/kayobe,stable/wallaby,Ibe177fe078769204c7e89c04e40870890fe501ba,"Revert ""CI: Fix libvirt errors caused by latest edk2-ovmf""",MERGED,2021-06-09 08:38:58.000000000,2021-06-11 20:34:13.000000000,2021-06-11 20:33:09.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 08:38:58.000000000', 'files': ['playbooks/kayobe-seed-vm-base/pre.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/36fcec123e9937f39cf8bd0371b0f41f952f40c0', 'message': 'Revert ""CI: Fix libvirt errors caused by latest edk2-ovmf""\n\nlibvirt-6.0.0-36.el8 was built [0] and released for CentOS Stream 8. It\nincludes a backport of a commit [1] from libvirt 7.4.0 to avoid erroring\nout on unknown firmware features, which fixes the issue seen with the\nnewer edk2-ovmf package.\n\nThis reverts commit c5e5d697fed97168772fd8f98f3d780726785a44.\n\n[0] https://koji.mbox.centos.org/koji/buildinfo?buildID=17918\n[1] https://github.com/libvirt/libvirt/commit/61d95a1073833ec4323c1ef28e71e913c55aa7b9\n\nChange-Id: Ibe177fe078769204c7e89c04e40870890fe501ba\n(cherry picked from commit 66e143ada2b9e902cae2c63536f276ac84664f9a)\n'}]",0,795498,36fcec123e9937f39cf8bd0371b0f41f952f40c0,10,2,1,15197,,,0,"Revert ""CI: Fix libvirt errors caused by latest edk2-ovmf""

libvirt-6.0.0-36.el8 was built [0] and released for CentOS Stream 8. It
includes a backport of a commit [1] from libvirt 7.4.0 to avoid erroring
out on unknown firmware features, which fixes the issue seen with the
newer edk2-ovmf package.

This reverts commit c5e5d697fed97168772fd8f98f3d780726785a44.

[0] https://koji.mbox.centos.org/koji/buildinfo?buildID=17918
[1] https://github.com/libvirt/libvirt/commit/61d95a1073833ec4323c1ef28e71e913c55aa7b9

Change-Id: Ibe177fe078769204c7e89c04e40870890fe501ba
(cherry picked from commit 66e143ada2b9e902cae2c63536f276ac84664f9a)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/98/795498/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/kayobe-seed-vm-base/pre.yml'],1,36fcec123e9937f39cf8bd0371b0f41f952f40c0,,, # TODO(priteau): Remove when edk2-ovmf bug is resolved upstream # https://bugzilla.redhat.com/show_bug.cgi?id=1961562 - name: Exclude buggy edk2-ovmf package version lineinfile: path: /etc/yum.repos.d/CentOS-Stream-AppStream.repo line: exclude=edk2-ovmf-20200602gitca407c7246bf-5.el8 become: true when: ansible_os_family == 'RedHat',0,9
openstack%2Fkayobe~master~Ibe177fe078769204c7e89c04e40870890fe501ba,openstack/kayobe,master,Ibe177fe078769204c7e89c04e40870890fe501ba,"Revert ""CI: Fix libvirt errors caused by latest edk2-ovmf""",MERGED,2021-06-09 07:49:09.000000000,2021-06-11 20:25:40.000000000,2021-06-11 20:24:35.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-06-09 07:49:09.000000000', 'files': ['playbooks/kayobe-seed-vm-base/pre.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/66e143ada2b9e902cae2c63536f276ac84664f9a', 'message': 'Revert ""CI: Fix libvirt errors caused by latest edk2-ovmf""\n\nlibvirt-6.0.0-36.el8 was built [0] and released for CentOS Stream 8. It\nincludes a backport of a commit [1] from libvirt 7.4.0 to avoid erroring\nout on unknown firmware features, which fixes the issue seen with the\nnewer edk2-ovmf package.\n\nThis reverts commit 1e14fa3a24fa64b84cc993c985e696a9cba78dea.\n\n[0] https://koji.mbox.centos.org/koji/buildinfo?buildID=17918\n[1] https://github.com/libvirt/libvirt/commit/61d95a1073833ec4323c1ef28e71e913c55aa7b9\n\nChange-Id: Ibe177fe078769204c7e89c04e40870890fe501ba\n'}]",0,795491,66e143ada2b9e902cae2c63536f276ac84664f9a,13,3,1,15197,,,0,"Revert ""CI: Fix libvirt errors caused by latest edk2-ovmf""

libvirt-6.0.0-36.el8 was built [0] and released for CentOS Stream 8. It
includes a backport of a commit [1] from libvirt 7.4.0 to avoid erroring
out on unknown firmware features, which fixes the issue seen with the
newer edk2-ovmf package.

This reverts commit 1e14fa3a24fa64b84cc993c985e696a9cba78dea.

[0] https://koji.mbox.centos.org/koji/buildinfo?buildID=17918
[1] https://github.com/libvirt/libvirt/commit/61d95a1073833ec4323c1ef28e71e913c55aa7b9

Change-Id: Ibe177fe078769204c7e89c04e40870890fe501ba
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/91/795491/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/kayobe-seed-vm-base/pre.yml'],1,66e143ada2b9e902cae2c63536f276ac84664f9a,,, # TODO(priteau): Remove when edk2-ovmf bug is resolved upstream # https://bugzilla.redhat.com/show_bug.cgi?id=1961562 - name: Exclude buggy edk2-ovmf package version lineinfile: path: /etc/yum.repos.d/CentOS-Stream-AppStream.repo line: exclude=edk2-ovmf-20200602gitca407c7246bf-5.el8 become: true when: ansible_os_family == 'RedHat',0,9
openstack%2Fovn-octavia-provider~stable%2Fwallaby~Ied81b55776d5bc004c6a9f156cb3f8724f3a706c,openstack/ovn-octavia-provider,stable/wallaby,Ied81b55776d5bc004c6a9f156cb3f8724f3a706c,Add log for request_handler events,MERGED,2021-05-28 00:38:01.000000000,2021-06-11 19:25:09.000000000,2021-06-11 19:23:57.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-28 00:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/5bb18961505fd3a4cdf6cadfe985de653f5d435c', 'message': 'Add log for request_handler events\n\nTrivialfix\n\nCloses-Bug: #1929863\nChange-Id: Ied81b55776d5bc004c6a9f156cb3f8724f3a706c\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n(cherry picked from commit ad6127c8869fcf625efdb4278649c261f8e88b5c)\n'}, {'number': 2, 'created': '2021-06-02 18:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/4e4b5426eb97e69b8d48b974fd69db6e9393322c', 'message': 'Add log for request_handler events\n\nTrivialfix\n\nCloses-Bug: #1929863\nChange-Id: Ied81b55776d5bc004c6a9f156cb3f8724f3a706c\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n(cherry picked from commit ad6127c8869fcf625efdb4278649c261f8e88b5c)\n'}, {'number': 3, 'created': '2021-06-09 20:01:33.000000000', 'files': ['ovn_octavia_provider/helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/235887536c5c7fe8d121beaa19def34d537113af', 'message': 'Add log for request_handler events\n\nTrivialfix\n\nCloses-Bug: #1929863\nChange-Id: Ied81b55776d5bc004c6a9f156cb3f8724f3a706c\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n(cherry picked from commit 85795f88ef34b19a4065a741d8303dac6a938ea9)\n'}]",2,793440,235887536c5c7fe8d121beaa19def34d537113af,38,3,3,11952,,,0,"Add log for request_handler events

Trivialfix

Closes-Bug: #1929863
Change-Id: Ied81b55776d5bc004c6a9f156cb3f8724f3a706c
Signed-off-by: Flavio Fernandes <flaviof@redhat.com>
(cherry picked from commit 85795f88ef34b19a4065a741d8303dac6a938ea9)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/40/793440/1 && git format-patch -1 --stdout FETCH_HEAD,['ovn_octavia_provider/helper.py'],1,5bb18961505fd3a4cdf6cadfe985de653f5d435c,," LOG.debug(""now handling req %(req)s with info %(info)s"", {'req': request_type, 'info': request['info']})",,2,0
openstack%2Freleases~master~Ib769aaf8d3c134304cf166f9b2a13a586acb228c,openstack/releases,master,Ib769aaf8d3c134304cf166f9b2a13a586acb228c,Release wallaby tripleo-ansible and tht,MERGED,2021-06-11 05:07:43.000000000,2021-06-11 18:36:00.000000000,2021-06-11 18:36:00.000000000,"[{'_account_id': 308}, {'_account_id': 8449}, {'_account_id': 11904}, {'_account_id': 16312}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-11 05:07:43.000000000', 'files': ['deliverables/wallaby/tripleo-ansible.yaml', 'deliverables/wallaby/tripleo-heat-templates.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/96580aafb95de576b47c4273a9759098a9766d4b', 'message': 'Release wallaby tripleo-ansible and tht\n\ntripleo-common and tripleoclient were released for related\nbug with [1], we also need releases of tht and tripleo-ansible\nas per the bug.\n\n[1] https://review.opendev.org/c/openstack/releases/+/795126\n\nRelated-Bug: #1930906\nChange-Id: Ib769aaf8d3c134304cf166f9b2a13a586acb228c\n'}]",4,795924,96580aafb95de576b47c4273a9759098a9766d4b,16,7,1,13861,,,0,"Release wallaby tripleo-ansible and tht

tripleo-common and tripleoclient were released for related
bug with [1], we also need releases of tht and tripleo-ansible
as per the bug.

[1] https://review.opendev.org/c/openstack/releases/+/795126

Related-Bug: #1930906
Change-Id: Ib769aaf8d3c134304cf166f9b2a13a586acb228c
",git fetch https://review.opendev.org/openstack/releases refs/changes/24/795924/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/wallaby/tripleo-ansible.yaml', 'deliverables/wallaby/tripleo-heat-templates.yaml']",2,96580aafb95de576b47c4273a9759098a9766d4b,, - version: 14.1.2 projects: - repo: openstack/tripleo-heat-templates hash: 3ed6009630631e97b1017100c1fb0126b691d593,,8,0
openstack%2Fkuryr-kubernetes~master~I3efb100e8ea47b7eb74e5addf5c2171c4606cad0,openstack/kuryr-kubernetes,master,I3efb100e8ea47b7eb74e5addf5c2171c4606cad0,Add golang dependency for devstack.,MERGED,2021-06-02 08:07:14.000000000,2021-06-11 17:41:43.000000000,2021-06-11 17:40:18.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-06-02 08:07:14.000000000', 'files': ['devstack/files/rpms/kuryr-kubernetes', 'devstack/files/debs/kuryr-kubernetes'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d0e7a68b85a142ddffb8382b8acf5b54d0557a2e', 'message': ""Add golang dependency for devstack.\n\nCurrently, we were relying on our dependencies which pulls golang\npackage, so that we don't need to do that ourselves. Although, as it was\npointed out in mentioned bug, explicit is better than implicit.\n\nEven though, it's worth to mention, that kuryr-kubernetes relies on\nboth: Neutron and Octavia (which brings golang as it binary dep), and\nwithout either of it, it will not work.\n\nChange-Id: I3efb100e8ea47b7eb74e5addf5c2171c4606cad0\nCloses-Bug: #1930368\n""}]",0,794159,d0e7a68b85a142ddffb8382b8acf5b54d0557a2e,9,4,1,13692,,,0,"Add golang dependency for devstack.

Currently, we were relying on our dependencies which pulls golang
package, so that we don't need to do that ourselves. Although, as it was
pointed out in mentioned bug, explicit is better than implicit.

Even though, it's worth to mention, that kuryr-kubernetes relies on
both: Neutron and Octavia (which brings golang as it binary dep), and
without either of it, it will not work.

Change-Id: I3efb100e8ea47b7eb74e5addf5c2171c4606cad0
Closes-Bug: #1930368
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/59/794159/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/files/rpms/kuryr-kubernetes', 'devstack/files/debs/kuryr-kubernetes']",2,d0e7a68b85a142ddffb8382b8acf5b54d0557a2e,bug-1930368,golang ,,2,0
openstack%2Fopenstack-helm-infra~master~I96c8b856fc309381f8d956eaae248bfc3443d900,openstack/openstack-helm-infra,master,I96c8b856fc309381f8d956eaae248bfc3443d900,Add manual mode to the created backup file name,MERGED,2021-05-28 11:01:04.000000000,2021-06-11 17:08:14.000000000,2021-06-11 17:06:25.000000000,"[{'_account_id': 18250}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30495}, {'_account_id': 30746}, {'_account_id': 33282}]","[{'number': 1, 'created': '2021-05-28 11:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/265047e2ced8cd4fdcd0f82512d8430c1adf96f6', 'message': 'Add manual mode to the created backup file name\n\nChange-Id: I96c8b856fc309381f8d956eaae248bfc3443d900\n'}, {'number': 2, 'created': '2021-05-28 11:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ed8b7b06ea713a474c1a984927197039562226c6', 'message': 'Add manual mode to the created backup file name\n\nChange-Id: I96c8b856fc309381f8d956eaae248bfc3443d900\n'}, {'number': 3, 'created': '2021-05-28 11:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8e07bf8609998ff7f57312a999f460614d86de97', 'message': 'Add manual mode to the created backup file name\n\nChange-Id: I96c8b856fc309381f8d956eaae248bfc3443d900\n'}, {'number': 4, 'created': '2021-05-28 11:26:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7ec7b82ca035290ac1611c8b7e16363399f38b39', 'message': 'Add manual mode to the created backup file name\n\nChange-Id: I96c8b856fc309381f8d956eaae248bfc3443d900\n'}, {'number': 5, 'created': '2021-05-28 15:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ebd9bef9838d9bf5cb608596a86ee5141642edac', 'message': '[WIP] Add manual mode to the created backup file name\n\nChange-Id: I96c8b856fc309381f8d956eaae248bfc3443d900\n'}, {'number': 6, 'created': '2021-06-10 14:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/42e5f42b58f4e431a33ac80bc8b68c8a5f1c90f4', 'message': 'Add manual mode to the created backup file name\n\nThis PS helps us understand the mode of backup taken\nfrom the created backup file name.\n\nChange-Id: I96c8b856fc309381f8d956eaae248bfc3443d900\n'}, {'number': 7, 'created': '2021-06-10 17:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a9e7392d43198d060e0faf0fb5a25c98df347100', 'message': 'Add manual mode to the created backup file name\n\nThis PS helps us understand the mode of backup taken\nfrom the created backup file name.\n\nSupporting PS: https://review.opendev.org/c/airship/porthole/+/793591\n\nChange-Id: I96c8b856fc309381f8d956eaae248bfc3443d900\n'}, {'number': 8, 'created': '2021-06-11 14:10:49.000000000', 'files': ['helm-toolkit/templates/scripts/db-backup-restore/_backup_main.sh.tpl', 'helm-toolkit/Chart.yaml', 'releasenotes/notes/helm-toolkit.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6d4dcc247440654c9f7072b6c6bcba338d55692b', 'message': 'Add manual mode to the created backup file name\n\nThis PS helps us understand the mode of backup taken\nfrom the created backup file name.\n\nSupporting PS: https://review.opendev.org/c/airship/porthole/+/793591\n\nChange-Id: I96c8b856fc309381f8d956eaae248bfc3443d900\n'}]",1,793588,6d4dcc247440654c9f7072b6c6bcba338d55692b,27,6,8,31479,,,0,"Add manual mode to the created backup file name

This PS helps us understand the mode of backup taken
from the created backup file name.

Supporting PS: https://review.opendev.org/c/airship/porthole/+/793591

Change-Id: I96c8b856fc309381f8d956eaae248bfc3443d900
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/88/793588/1 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/scripts/db-backup-restore/_backup_main.sh.tpl'],1,265047e2ced8cd4fdcd0f82512d8430c1adf96f6,," if [[ -z ""${DEPLOY_ENV}"" ]]; then TARBALL_FILE=""${DB_NAME}.${DB_NAMESPACE}.${SCOPE}.${NOW}.tar.gz"" else TARBALL_FILE=""${DB_NAME}.${DB_NAMESPACE}.${SCOPE}.${BACK_UP_MODE}.${NOW}.tar.gz"" fi"," TARBALL_FILE=""${DB_NAME}.${DB_NAMESPACE}.${SCOPE}.${NOW}.tar.gz""",5,1
openstack%2Fproject-config~master~Ic0d16cdc0b181888a0688dc32174b7a010871bfb,openstack/project-config,master,Ic0d16cdc0b181888a0688dc32174b7a010871bfb,"Revert ""Revert ""Revert ""Disable limestone due to mirror issues""""""",MERGED,2021-06-03 06:49:21.000000000,2021-06-11 16:53:52.000000000,2021-06-11 16:46:36.000000000,"[{'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 06:49:21.000000000', 'files': ['nodepool/nl02.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/377d797b3fa0e95bb79989b86fde57ea4241190c', 'message': 'Revert ""Revert ""Revert ""Disable limestone due to mirror issues""""""\n\nThis reverts commit 2b76dca4400381589b2cc26951fa9c4ae087df46.\n\nChange-Id: Ic0d16cdc0b181888a0688dc32174b7a010871bfb\n'}]",0,794406,377d797b3fa0e95bb79989b86fde57ea4241190c,9,3,1,7118,,,0,"Revert ""Revert ""Revert ""Disable limestone due to mirror issues""""""

This reverts commit 2b76dca4400381589b2cc26951fa9c4ae087df46.

Change-Id: Ic0d16cdc0b181888a0688dc32174b7a010871bfb
",git fetch https://review.opendev.org/openstack/project-config refs/changes/06/794406/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl02.opendev.org.yaml'],1,377d797b3fa0e95bb79989b86fde57ea4241190c,limestone-disable, max-servers: 50, max-servers: 0,1,1
openstack%2Freleases~master~I91c946a1faae59f179de504758c14a9229d40a9b,openstack/releases,master,I91c946a1faae59f179de504758c14a9229d40a9b,Create new victoria release for puppet-ovn,MERGED,2021-06-11 06:50:15.000000000,2021-06-11 16:45:37.000000000,2021-06-11 16:45:37.000000000,"[{'_account_id': 308}, {'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 11904}, {'_account_id': 14985}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-11 06:50:15.000000000', 'files': ['deliverables/victoria/puppet-ovn.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f5de23812e7c3d1b5832648136b4687efd3927be', 'message': 'Create new victoria release for puppet-ovn\n\nmetadata being bumped in [1].\n\n[1] https://review.opendev.org/c/openstack/puppet-ovn/+/795927\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-ovn/+/795927\nChange-Id: I91c946a1faae59f179de504758c14a9229d40a9b\n'}]",0,795931,f5de23812e7c3d1b5832648136b4687efd3927be,12,9,1,13861,,,0,"Create new victoria release for puppet-ovn

metadata being bumped in [1].

[1] https://review.opendev.org/c/openstack/puppet-ovn/+/795927

Depends-On: https://review.opendev.org/c/openstack/puppet-ovn/+/795927
Change-Id: I91c946a1faae59f179de504758c14a9229d40a9b
",git fetch https://review.opendev.org/openstack/releases refs/changes/31/795931/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/puppet-ovn.yaml'],1,f5de23812e7c3d1b5832648136b4687efd3927be,, - projects: - hash: 406ecb3dcdd5dedb145fe8a238721d92a88b6745 repo: openstack/puppet-ovn version: 17.5.0,,4,0
openstack%2Fpuppet-keystone~stable%2Fvictoria~I8c0589bccbac4776720badfdb009b966ac2f7087,openstack/puppet-keystone,stable/victoria,I8c0589bccbac4776720badfdb009b966ac2f7087,Set fixture paths for unit tests,MERGED,2021-06-05 00:35:04.000000000,2021-06-11 16:43:42.000000000,2021-06-11 16:43:42.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:35:04.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/441cea0b57bd4a8559f174eafad22502b45fac69', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I8c0589bccbac4776720badfdb009b966ac2f7087\n(cherry picked from commit c0f33c2806eefc79fdc82a1eccb67a4c3b9ad68c)\n'}]",0,794919,441cea0b57bd4a8559f174eafad22502b45fac69,9,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I8c0589bccbac4776720badfdb009b966ac2f7087
(cherry picked from commit c0f33c2806eefc79fdc82a1eccb67a4c3b9ad68c)
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/19/794919/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,441cea0b57bd4a8559f174eafad22502b45fac69,bug/1930403-stable/wallaby-stable/victoria,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')", Dir[File.dirname(__FILE__) + '/support/**/*.rb'].each { |f| require f },5,2
openstack%2Fpuppet-designate~stable%2Fvictoria~Ibf9d7008b985a84d2edbaf072c9fce2fab448bc8,openstack/puppet-designate,stable/victoria,Ibf9d7008b985a84d2edbaf072c9fce2fab448bc8,Set fixture paths for unit tests,MERGED,2021-06-05 00:36:45.000000000,2021-06-11 16:42:44.000000000,2021-06-11 16:42:44.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:36:45.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/fcef4bd9b354d94a8a3d7b2291061e1cf890ea0f', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: Ibf9d7008b985a84d2edbaf072c9fce2fab448bc8\n(cherry picked from commit 8fe9a66e28579acd53c8c288d3f5e293016002ff)\n'}]",0,794935,fcef4bd9b354d94a8a3d7b2291061e1cf890ea0f,9,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: Ibf9d7008b985a84d2edbaf072c9fce2fab448bc8
(cherry picked from commit 8fe9a66e28579acd53c8c288d3f5e293016002ff)
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/35/794935/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,fcef4bd9b354d94a8a3d7b2291061e1cf890ea0f,bug/1930403-stable/wallaby-stable/victoria,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpython-ironicclient~master~Ie5b08f682f3cb8fbc5016cb02e689bb1934798f3,openstack/python-ironicclient,master,Ie5b08f682f3cb8fbc5016cb02e689bb1934798f3,Add missing unit tests for provision state commands,MERGED,2016-09-27 10:58:19.000000000,2021-06-11 16:41:39.000000000,2021-06-11 16:39:56.000000000,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 12356}, {'_account_id': 14614}, {'_account_id': 18893}, {'_account_id': 22348}]","[{'number': 1, 'created': '2016-09-27 10:58:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/e4ff6daf0102a812e45486faf7f6e3f48f5f3059', 'message': 'Add unit tests for provision state commands\n\nThere are several missing unit tests for provision state\ncommands. This patch adds and reorder them.\n\nChange-Id: Ie5b08f682f3cb8fbc5016cb02e689bb1934798f3\n'}, {'number': 2, 'created': '2016-09-28 01:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/aa294052bdbe12d960e2bbb49f69014a9e359624', 'message': 'Add missing unit tests for provision state commands\n\nThere are several missing unit tests for provision state\ncommands. This patch adds them.\n\nChange-Id: Ie5b08f682f3cb8fbc5016cb02e689bb1934798f3\n'}, {'number': 3, 'created': '2016-10-11 10:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/b2bcd6ee4a49485ed2a1e0ee8ab983dd6fc228e4', 'message': 'Add missing unit tests for provision state commands\n\nThere are several missing unit tests for provision state\ncommands. This patch adds them.\n\nChange-Id: Ie5b08f682f3cb8fbc5016cb02e689bb1934798f3\n'}, {'number': 4, 'created': '2016-10-17 02:19:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/4d22a69d0731df36cbed97f714813dac75894149', 'message': 'Add missing unit tests for provision state commands\n\nThere are several missing unit tests for provision state\ncommands. This patch adds them.\n\nChange-Id: Ie5b08f682f3cb8fbc5016cb02e689bb1934798f3\n'}, {'number': 5, 'created': '2016-10-17 10:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/f79170eac50ef1270c2296b8df7d744c9d0b23f8', 'message': 'Add missing unit tests for provision state commands\n\nThere are several missing unit tests for provision state\ncommands. This patch adds them.\n\nChange-Id: Ie5b08f682f3cb8fbc5016cb02e689bb1934798f3\n'}, {'number': 6, 'created': '2021-02-12 16:45:47.000000000', 'files': ['ironicclient/tests/unit/osc/v1/test_baremetal_node.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/eac4058d9a582066a818e1a0ccd53f91f0082702', 'message': 'Add missing unit tests for provision state commands\n\nThere are several missing unit tests for provision state\ncommands. This patch adds them.\n\nChange-Id: Ie5b08f682f3cb8fbc5016cb02e689bb1934798f3\n'}]",4,377607,eac4058d9a582066a818e1a0ccd53f91f0082702,24,8,6,14937,,,0,"Add missing unit tests for provision state commands

There are several missing unit tests for provision state
commands. This patch adds them.

Change-Id: Ie5b08f682f3cb8fbc5016cb02e689bb1934798f3
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/07/377607/6 && git format-patch -1 --stdout FETCH_HEAD,['ironicclient/tests/unit/osc/v1/test_baremetal_node.py'],1,e4ff6daf0102a812e45486faf7f6e3f48f5f3059,state-test-20160927,"import jsonclass TestBaremetalAbort(TestBaremetal): def setUp(self): super(TestBaremetalAbort, self).setUp() # Get the command object to test self.cmd = baremetal_node.AbortBaremetalNode(self.app, None) def test_abort(self): arglist = ['node_uuid'] verifylist = [ ('node', 'node_uuid'), ('provision_state', 'abort'), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) self.baremetal_mock.node.set_provision_state.assert_called_once_with( 'node_uuid', 'abort') class TestBaremetalAdopt(TestBaremetal): def setUp(self): super(TestBaremetalAdopt, self).setUp()class TestBaremetalClean(TestBaremetal): def setUp(self): super(TestBaremetalClean, self).setUp() # Get the command object to test self.cmd = baremetal_node.CleanBaremetalNode(self.app, None) def test_clean_without_steps(self): arglist = ['node_uuid'] verifylist = [ ('node', 'node_uuid'), ('provision_state', 'clean'), ] self.assertRaises(oscutils.ParserException, self.check_parser, self.cmd, arglist, verifylist) def test_clean_with_steps(self): steps_dict = { ""clean_steps"": [{ ""interface"": ""raid"", ""step"": ""create_configuration"", ""args"": {""create_nonroot_volumes"": False} }, { ""interface"": ""deploy"", ""step"": ""erase_devices"" }] } steps_json = json.dumps(steps_dict) arglist = ['--clean-steps', steps_json, 'node_uuid'] verifylist = [ ('clean_steps', steps_json), ('provision_state', 'clean'), ('node', 'node_uuid'), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) self.baremetal_mock.node.set_provision_state.assert_called_once_with( 'node_uuid', 'clean', cleansteps=steps_dict) class TestBaremetalDeploy(TestBaremetal): def setUp(self): super(TestBaremetalDeploy, self).setUp() # Get the command object to test self.cmd = baremetal_node.DeployBaremetalNode(self.app, None) def test_deploy_baremetal_provision_state_active_and_configdrive(self): arglist = ['node_uuid', '--config-drive', 'path/to/drive'] verifylist = [ ('node', 'node_uuid'), ('provision_state', 'active'), ('config_drive', 'path/to/drive'), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) self.baremetal_mock.node.set_provision_state.assert_called_once_with( 'node_uuid', 'active', configdrive='path/to/drive') def test_deploy_baremetal_provision_state_mismatch(self): arglist = ['node_uuid', '--provision-state', 'abort'] verifylist = [ ('node', 'node_uuid'), ('provision_state', 'active'), ] self.assertRaises(oscutils.ParserException, self.check_parser, self.cmd, arglist, verifylist) class TestBaremetalInspect(TestBaremetal): def setUp(self): super(TestBaremetalInspect, self).setUp() # Get the command object to test self.cmd = baremetal_node.InspectBaremetalNode(self.app, None) def test_inspect(self): arglist = ['node_uuid'] verifylist = [ ('node', 'node_uuid'), ('provision_state', 'inspect'), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) self.baremetal_mock.node.set_provision_state.assert_called_once_with( 'node_uuid', 'inspect') class TestBaremetalManage(TestBaremetal): def setUp(self): super(TestBaremetalManage, self).setUp() # Get the command object to test self.cmd = baremetal_node.ManageBaremetalNode(self.app, None) def test_manage(self): arglist = ['node_uuid'] verifylist = [ ('node', 'node_uuid'), ('provision_state', 'manage'), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) self.baremetal_mock.node.set_provision_state.assert_called_once_with( 'node_uuid', 'manage') class TestBaremetalProvide(TestBaremetal): def setUp(self): super(TestBaremetalProvide, self).setUp() # Get the command object to test self.cmd = baremetal_node.ProvideBaremetalNode(self.app, None) def test_provide(self): arglist = ['node_uuid'] verifylist = [ ('node', 'node_uuid'), ('provision_state', 'provide'), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) self.baremetal_mock.node.set_provision_state.assert_called_once_with( 'node_uuid', 'provide') class TestBaremetalRebuild(TestBaremetal): def setUp(self): super(TestBaremetalRebuild, self).setUp() # Get the command object to test self.cmd = baremetal_node.RebuildBaremetalNode(self.app, None) def test_rebuild(self): arglist = ['node_uuid'] verifylist = [ ('node', 'node_uuid'), ('provision_state', 'rebuild'), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) self.baremetal_mock.node.set_provision_state.assert_called_once_with( 'node_uuid', 'rebuild') class TestBaremetalUndeploy(TestBaremetal): def setUp(self): super(TestBaremetalUndeploy, self).setUp() # Get the command object to test self.cmd = baremetal_node.UndeployBaremetalNode(self.app, None) def test_undeploy(self): arglist = ['node_uuid'] verifylist = [ ('node', 'node_uuid'), ('provision_state', 'deleted'), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) self.baremetal_mock.node.set_provision_state.assert_called_once_with( 'node_uuid', 'deleted') ","class TestAdopt(TestBaremetal): def setUp(self): super(TestAdopt, self).setUp()class TestDeployBaremetalProvisionState(TestBaremetal): def setUp(self): super(TestDeployBaremetalProvisionState, self).setUp() # Get the command object to test self.cmd = baremetal_node.DeployBaremetalNode(self.app, None) def test_deploy_baremetal_provision_state_active_and_configdrive(self): arglist = ['node_uuid', '--config-drive', 'path/to/drive'] verifylist = [ ('node', 'node_uuid'), ('provision_state', 'active'), ('config_drive', 'path/to/drive'), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) self.baremetal_mock.node.set_provision_state.assert_called_once_with( 'node_uuid', 'active', configdrive='path/to/drive') def test_deploy_baremetal_provision_state_mismatch(self): arglist = ['node_uuid', '--provision-state', 'abort'] verifylist = [ ('node', 'node_uuid'), ('provision_state', 'active'), ] self.assertRaises(oscutils.ParserException, self.check_parser, self.cmd, arglist, verifylist) ",217,38
openstack%2Fpuppet-swift~stable%2Fvictoria~If2601644bbb8eeba3c103b25184e96e3c6f967ac,openstack/puppet-swift,stable/victoria,If2601644bbb8eeba3c103b25184e96e3c6f967ac,Set fixture paths for unit tests,MERGED,2021-06-05 00:35:18.000000000,2021-06-11 16:36:49.000000000,2021-06-11 16:36:49.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:35:18.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/1a6af74e3e74f4c8284ccb385554bde0bf136ac2', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: If2601644bbb8eeba3c103b25184e96e3c6f967ac\n(cherry picked from commit 4eaee6777d27667e31f1ee013971d64a378fb33f)\n'}]",0,794921,1a6af74e3e74f4c8284ccb385554bde0bf136ac2,9,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: If2601644bbb8eeba3c103b25184e96e3c6f967ac
(cherry picked from commit 4eaee6777d27667e31f1ee013971d64a378fb33f)
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/21/794921/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,1a6af74e3e74f4c8284ccb385554bde0bf136ac2,bug/1930403-stable/wallaby-stable/victoria,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-octavia~stable%2Fvictoria~I1645afb89e33cfe03e25b09c446e2d47fc6b9f18,openstack/puppet-octavia,stable/victoria,I1645afb89e33cfe03e25b09c446e2d47fc6b9f18,Set fixture paths for unit tests,MERGED,2021-06-05 00:35:20.000000000,2021-06-11 16:31:20.000000000,2021-06-11 16:31:20.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:35:20.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/e66c5e1789caac3a63ab85a9a42a0c6d868ae7aa', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I1645afb89e33cfe03e25b09c446e2d47fc6b9f18\n(cherry picked from commit 456e7ff27663471a27ff19be44637e6992572891)\n'}]",0,794925,e66c5e1789caac3a63ab85a9a42a0c6d868ae7aa,9,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I1645afb89e33cfe03e25b09c446e2d47fc6b9f18
(cherry picked from commit 456e7ff27663471a27ff19be44637e6992572891)
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/25/794925/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,e66c5e1789caac3a63ab85a9a42a0c6d868ae7aa,bug/1930403-stable/wallaby-stable/victoria,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-watcher~stable%2Fvictoria~I50f23198d4bbcf17d741a589ad6dd2132d0a2e25,openstack/puppet-watcher,stable/victoria,I50f23198d4bbcf17d741a589ad6dd2132d0a2e25,Set fixture paths for unit tests,MERGED,2021-06-05 00:35:03.000000000,2021-06-11 16:29:29.000000000,2021-06-11 16:29:29.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:35:03.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/2ce40738d02d49230dce3efba6679d5edffabd43', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I50f23198d4bbcf17d741a589ad6dd2132d0a2e25\n(cherry picked from commit 8063b23de1a3c835ab2d81864e2661717571ae9b)\n'}]",0,794913,2ce40738d02d49230dce3efba6679d5edffabd43,9,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I50f23198d4bbcf17d741a589ad6dd2132d0a2e25
(cherry picked from commit 8063b23de1a3c835ab2d81864e2661717571ae9b)
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/13/794913/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,2ce40738d02d49230dce3efba6679d5edffabd43,bug/1930403-stable/wallaby-stable/victoria,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-heat~stable%2Fvictoria~Ifd966b0f62cd5f682d5ba70927597d6923f3fa47,openstack/puppet-heat,stable/victoria,Ifd966b0f62cd5f682d5ba70927597d6923f3fa47,Set fixture paths for unit tests,MERGED,2021-06-05 00:35:03.000000000,2021-06-11 16:29:25.000000000,2021-06-11 16:29:25.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:35:03.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/b37eb48da361c2f881d7760f29c5a815e9ed1b1d', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: Ifd966b0f62cd5f682d5ba70927597d6923f3fa47\n(cherry picked from commit bd7d486b522ede2e78367bd18ce7ddf19f3b597c)\n'}]",0,794830,b37eb48da361c2f881d7760f29c5a815e9ed1b1d,9,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: Ifd966b0f62cd5f682d5ba70927597d6923f3fa47
(cherry picked from commit bd7d486b522ede2e78367bd18ce7ddf19f3b597c)
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/30/794830/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,b37eb48da361c2f881d7760f29c5a815e9ed1b1d,bug/1930403-stable/wallaby-stable/victoria,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fironic-python-agent-builder~master~I796b24a7ef19c3b0cc459ca1e1dc46d22f6349b5,openstack/ironic-python-agent-builder,master,I796b24a7ef19c3b0cc459ca1e1dc46d22f6349b5,Restrict publishing jobs to master,MERGED,2021-05-10 11:14:00.000000000,2021-06-11 16:27:47.000000000,2021-06-11 16:25:21.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-05-10 11:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/fab484760f85eec426689c7c19fae0eb18e35839', 'message': ""Restrict publishing jobs to master\n\nWe already build branched versions from IPA itself, let's not increase\nour space usage.\n\nChange-Id: I796b24a7ef19c3b0cc459ca1e1dc46d22f6349b5\n""}, {'number': 2, 'created': '2021-05-10 11:17:15.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/963b23e0ae703f230815b474f1a2bf32cb4e807f', 'message': ""Restrict publishing jobs to master\n\nWe already build branched versions from IPA itself, let's not increase\nour space usage.\n\nChange-Id: I796b24a7ef19c3b0cc459ca1e1dc46d22f6349b5\n""}]",1,790416,963b23e0ae703f230815b474f1a2bf32cb4e807f,13,3,2,10239,,,0,"Restrict publishing jobs to master

We already build branched versions from IPA itself, let's not increase
our space usage.

Change-Id: I796b24a7ef19c3b0cc459ca1e1dc46d22f6349b5
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/16/790416/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,fab484760f85eec426689c7c19fae0eb18e35839,gate, - ironic-python-agent-build-image-tinyipa: branch: master - ironic-python-agent-build-image-dib-centos8: branch: master - ironic-python-agent-build-image-dib-debian: branch: master, - ironic-python-agent-build-image-tinyipa - ironic-python-agent-build-image-dib-centos8 - ironic-python-agent-build-image-dib-debian,6,3
openstack%2Fpuppet-horizon~stable%2Fvictoria~I4563185c85a4b4cde30138c26a0f623616cf768d,openstack/puppet-horizon,stable/victoria,I4563185c85a4b4cde30138c26a0f623616cf768d,Set fixture paths for unit tests,MERGED,2021-06-05 00:38:06.000000000,2021-06-11 16:27:43.000000000,2021-06-11 16:27:43.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:38:06.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/cb53f8d364df71b33e448a46236dd71abbd2b19a', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I4563185c85a4b4cde30138c26a0f623616cf768d\n(cherry picked from commit 36c8f38dfb72677010931cb5869e37059c0167fd)\n'}]",0,794946,cb53f8d364df71b33e448a46236dd71abbd2b19a,9,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I4563185c85a4b4cde30138c26a0f623616cf768d
(cherry picked from commit 36c8f38dfb72677010931cb5869e37059c0167fd)
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/46/794946/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,cb53f8d364df71b33e448a46236dd71abbd2b19a,bug/1930403-stable/wallaby-stable/victoria,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-ironic~stable%2Fvictoria~If66e6478563f9968ce1c25d7739a4feefbe0f8b1,openstack/puppet-ironic,stable/victoria,If66e6478563f9968ce1c25d7739a4feefbe0f8b1,Set fixture paths for unit tests,MERGED,2021-06-05 00:35:03.000000000,2021-06-11 16:27:19.000000000,2021-06-11 16:27:19.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:35:03.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/07ef892ee9d292fef418d40a37d2cef5347350e6', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: If66e6478563f9968ce1c25d7739a4feefbe0f8b1\n(cherry picked from commit cbca433a2c24b581fec944a9389f2c8decd3b30c)\n'}]",0,794831,07ef892ee9d292fef418d40a37d2cef5347350e6,9,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: If66e6478563f9968ce1c25d7739a4feefbe0f8b1
(cherry picked from commit cbca433a2c24b581fec944a9389f2c8decd3b30c)
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/31/794831/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,07ef892ee9d292fef418d40a37d2cef5347350e6,bug/1930403-stable/wallaby-stable/victoria,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-magnum~stable%2Fvictoria~I358b00bc88bfbf570f884d16956a862579dbd18a,openstack/puppet-magnum,stable/victoria,I358b00bc88bfbf570f884d16956a862579dbd18a,Set fixture paths for unit tests,MERGED,2021-06-05 00:38:01.000000000,2021-06-11 16:26:38.000000000,2021-06-11 16:26:38.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:38:01.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/58b2b6e9ac912cfb2fb6360935075caac7cb2acf', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I358b00bc88bfbf570f884d16956a862579dbd18a\n(cherry picked from commit ff99582f942422d851cf1043078fea1d86bd4226)\n'}]",0,794942,58b2b6e9ac912cfb2fb6360935075caac7cb2acf,9,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I358b00bc88bfbf570f884d16956a862579dbd18a
(cherry picked from commit ff99582f942422d851cf1043078fea1d86bd4226)
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/42/794942/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,58b2b6e9ac912cfb2fb6360935075caac7cb2acf,bug/1930403-stable/wallaby-stable/victoria,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-ceilometer~stable%2Fvictoria~I9342ae7e8945cf8a8d05c0d8d2956191605c7ad8,openstack/puppet-ceilometer,stable/victoria,I9342ae7e8945cf8a8d05c0d8d2956191605c7ad8,Set fixture paths for unit tests,MERGED,2021-06-05 00:35:03.000000000,2021-06-11 16:24:55.000000000,2021-06-11 16:24:55.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:35:03.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/192029c78b2c0c79f54a5497abf8756a69458e4b', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I9342ae7e8945cf8a8d05c0d8d2956191605c7ad8\n(cherry picked from commit abb7623404988b1bc0adddc95be204a53b511f69)\n'}]",0,794916,192029c78b2c0c79f54a5497abf8756a69458e4b,9,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I9342ae7e8945cf8a8d05c0d8d2956191605c7ad8
(cherry picked from commit abb7623404988b1bc0adddc95be204a53b511f69)
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/16/794916/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,192029c78b2c0c79f54a5497abf8756a69458e4b,bug/1930403-stable/wallaby-stable/victoria,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-sahara~stable%2Fvictoria~I39f79793af3c6704b2d42347de0f080561a4fd20,openstack/puppet-sahara,stable/victoria,I39f79793af3c6704b2d42347de0f080561a4fd20,Set fixture paths for unit tests,MERGED,2021-06-05 00:36:41.000000000,2021-06-11 16:22:06.000000000,2021-06-11 16:22:06.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:36:41.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/3d04651ab716661c6b533066bb8f45276aa0332e', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I39f79793af3c6704b2d42347de0f080561a4fd20\n(cherry picked from commit a33f3e55f3cf3aeb9540aead8d8d6989ce30651c)\n'}]",0,794933,3d04651ab716661c6b533066bb8f45276aa0332e,9,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I39f79793af3c6704b2d42347de0f080561a4fd20
(cherry picked from commit a33f3e55f3cf3aeb9540aead8d8d6989ce30651c)
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/33/794933/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,3d04651ab716661c6b533066bb8f45276aa0332e,bug/1930403-stable/wallaby-stable/victoria,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-manila~stable%2Fvictoria~I96a74759996de469b0a8d4e1259b6b085501f4ae,openstack/puppet-manila,stable/victoria,I96a74759996de469b0a8d4e1259b6b085501f4ae,Set fixture paths for unit tests,MERGED,2021-06-05 00:37:47.000000000,2021-06-11 16:20:51.000000000,2021-06-11 16:20:51.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:37:47.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/03989fb02c545b16ffdcaf8aee626aeda35b00f9', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I96a74759996de469b0a8d4e1259b6b085501f4ae\n(cherry picked from commit 35657a2331e85d80b14793288beb69f769fb3282)\n'}]",0,794940,03989fb02c545b16ffdcaf8aee626aeda35b00f9,9,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I96a74759996de469b0a8d4e1259b6b085501f4ae
(cherry picked from commit 35657a2331e85d80b14793288beb69f769fb3282)
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/40/794940/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,03989fb02c545b16ffdcaf8aee626aeda35b00f9,bug/1930403-stable/wallaby-stable/victoria,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-neutron~stable%2Fvictoria~I2b398861007c0ffd5f1a038c60d88c5b9490bb01,openstack/puppet-neutron,stable/victoria,I2b398861007c0ffd5f1a038c60d88c5b9490bb01,Set fixture paths for unit tests,MERGED,2021-06-05 00:36:44.000000000,2021-06-11 16:13:00.000000000,2021-06-11 16:13:00.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:36:44.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/3d86c4325e8a2e5dc63a0c8b28abd87e082e3014', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I2b398861007c0ffd5f1a038c60d88c5b9490bb01\n(cherry picked from commit 6c3eecf7b57895b05063bb20ec365152c3897537)\n'}]",0,794934,3d86c4325e8a2e5dc63a0c8b28abd87e082e3014,9,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I2b398861007c0ffd5f1a038c60d88c5b9490bb01
(cherry picked from commit 6c3eecf7b57895b05063bb20ec365152c3897537)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/34/794934/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,3d86c4325e8a2e5dc63a0c8b28abd87e082e3014,bug/1930403-stable/wallaby-stable/victoria,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-openstacklib~stable%2Fvictoria~Id2e226593fa9005e8c051bb714e4c341114f640f,openstack/puppet-openstacklib,stable/victoria,Id2e226593fa9005e8c051bb714e4c341114f640f,Set fixture paths for unit tests,MERGED,2021-06-05 00:35:03.000000000,2021-06-11 16:10:24.000000000,2021-06-11 16:10:24.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:35:03.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/3aeb7400c65b9396bf310f85ebe1d17214a328fc', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: Id2e226593fa9005e8c051bb714e4c341114f640f\n(cherry picked from commit 55188f078ae7f7d5944cf6c993727b0201e71eba)\n'}]",0,794917,3aeb7400c65b9396bf310f85ebe1d17214a328fc,9,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: Id2e226593fa9005e8c051bb714e4c341114f640f
(cherry picked from commit 55188f078ae7f7d5944cf6c993727b0201e71eba)
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/17/794917/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,3aeb7400c65b9396bf310f85ebe1d17214a328fc,bug/1930403-stable/wallaby-stable/victoria,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-tacker~stable%2Fvictoria~I2a4c32c174b61a131d97e4ab811237fa1937f7e9,openstack/puppet-tacker,stable/victoria,I2a4c32c174b61a131d97e4ab811237fa1937f7e9,Set fixture paths for unit tests,MERGED,2021-06-05 00:36:32.000000000,2021-06-11 16:09:34.000000000,2021-06-11 16:09:34.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:36:32.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/2928b5afb2fd8bb53656ad91c75c25de54f75fcf', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I2a4c32c174b61a131d97e4ab811237fa1937f7e9\n(cherry picked from commit ae0ed566f55bfd78286e34daff8e83339aa5a588)\n'}]",0,794930,2928b5afb2fd8bb53656ad91c75c25de54f75fcf,9,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I2a4c32c174b61a131d97e4ab811237fa1937f7e9
(cherry picked from commit ae0ed566f55bfd78286e34daff8e83339aa5a588)
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/30/794930/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,2928b5afb2fd8bb53656ad91c75c25de54f75fcf,bug/1930403-stable/wallaby-stable/victoria,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-mistral~stable%2Fvictoria~I4b78286b2c16d3708e07164bd88d73b72d6d3bb4,openstack/puppet-mistral,stable/victoria,I4b78286b2c16d3708e07164bd88d73b72d6d3bb4,Set fixture paths for unit tests,MERGED,2021-06-05 00:35:23.000000000,2021-06-11 16:09:30.000000000,2021-06-11 16:09:30.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:35:23.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/2bf91c4d19a8bd9e2585d71c07043a718101d71a', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I4b78286b2c16d3708e07164bd88d73b72d6d3bb4\n(cherry picked from commit f4b3c4d78363c3615d3a181e8873a3cebed30c0e)\n'}]",0,794929,2bf91c4d19a8bd9e2585d71c07043a718101d71a,9,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I4b78286b2c16d3708e07164bd88d73b72d6d3bb4
(cherry picked from commit f4b3c4d78363c3615d3a181e8873a3cebed30c0e)
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/29/794929/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,2bf91c4d19a8bd9e2585d71c07043a718101d71a,bug/1930403-stable/wallaby-stable/victoria,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-barbican~stable%2Fvictoria~I63d12a8c8a86b6e67f6958aff10e40f521af14aa,openstack/puppet-barbican,stable/victoria,I63d12a8c8a86b6e67f6958aff10e40f521af14aa,Set fixture paths for unit tests,MERGED,2021-06-05 00:38:03.000000000,2021-06-11 16:09:26.000000000,2021-06-11 16:09:26.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:38:03.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/5d7568ac1e177b463713243fb224e41bbda462d1', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I63d12a8c8a86b6e67f6958aff10e40f521af14aa\n(cherry picked from commit eb4d09752b33b135f75944c1adbad53f4432e4c9)\n'}]",0,794945,5d7568ac1e177b463713243fb224e41bbda462d1,9,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I63d12a8c8a86b6e67f6958aff10e40f521af14aa
(cherry picked from commit eb4d09752b33b135f75944c1adbad53f4432e4c9)
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/45/794945/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,5d7568ac1e177b463713243fb224e41bbda462d1,bug/1930403-stable/wallaby-stable/victoria,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fcastellan~stable%2Fussuri~I242da5c4fcc3096a47f85bd8a265ad8f072b2a30,openstack/castellan,stable/ussuri,I242da5c4fcc3096a47f85bd8a265ad8f072b2a30,Add missing font for PDF doc generation,MERGED,2021-06-04 11:55:57.000000000,2021-06-11 16:09:07.000000000,2021-06-11 16:07:17.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-04 11:55:57.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/castellan/commit/27a139b19bb89db97017be0862bda8f68e6f1b38', 'message': ""Add missing font for PDF doc generation\n\nopenstack-tox-docs job started to fail with the following error:\n\n! LaTeX Error: File `tgtermes.sty' not found.\n\nThis patch adds the required font package to bindep doc profile.\n\nChange-Id: I242da5c4fcc3096a47f85bd8a265ad8f072b2a30\n(cherry picked from commit 0d0c2f2a9ef3e0842dfa5b49467d11e2be00da99)\n(cherry picked from commit 3775cf425396776ae401a5560ae1dfa55a429116)\n(cherry picked from commit 90878d373199ebd0296c37e2d30a34996eac2672)\n""}]",0,794786,27a139b19bb89db97017be0862bda8f68e6f1b38,13,3,1,17685,,,0,"Add missing font for PDF doc generation

openstack-tox-docs job started to fail with the following error:

! LaTeX Error: File `tgtermes.sty' not found.

This patch adds the required font package to bindep doc profile.

Change-Id: I242da5c4fcc3096a47f85bd8a265ad8f072b2a30
(cherry picked from commit 0d0c2f2a9ef3e0842dfa5b49467d11e2be00da99)
(cherry picked from commit 3775cf425396776ae401a5560ae1dfa55a429116)
(cherry picked from commit 90878d373199ebd0296c37e2d30a34996eac2672)
",git fetch https://review.opendev.org/openstack/castellan refs/changes/86/794786/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,27a139b19bb89db97017be0862bda8f68e6f1b38,missing-tgtermes.sty, # PDF Docs package dependencies tex-gyre [doc platform:dpkg],,3,0
openstack%2Fpuppet-glance~stable%2Fvictoria~I83fd4739397ce8c4b4ec3f806b5a91fb10867caf,openstack/puppet-glance,stable/victoria,I83fd4739397ce8c4b4ec3f806b5a91fb10867caf,Set fixture paths for unit tests,MERGED,2021-06-05 00:36:47.000000000,2021-06-11 16:08:49.000000000,2021-06-11 16:08:49.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:36:47.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/8ae2a8d031efc9ca34adbe7914e0150b11af9ecf', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I83fd4739397ce8c4b4ec3f806b5a91fb10867caf\n(cherry picked from commit a556783d37a98c6fe02cfd1357f9ff607b32e263)\n'}]",0,794937,8ae2a8d031efc9ca34adbe7914e0150b11af9ecf,9,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I83fd4739397ce8c4b4ec3f806b5a91fb10867caf
(cherry picked from commit a556783d37a98c6fe02cfd1357f9ff607b32e263)
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/37/794937/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,8ae2a8d031efc9ca34adbe7914e0150b11af9ecf,bug/1930403-stable/wallaby-stable/victoria,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-tempest~stable%2Fvictoria~If8216b4759dbe210ff174a9f4e240cd61c7365cb,openstack/puppet-tempest,stable/victoria,If8216b4759dbe210ff174a9f4e240cd61c7365cb,Set fixture paths for unit tests,MERGED,2021-06-05 00:35:04.000000000,2021-06-11 16:07:07.000000000,2021-06-11 16:07:07.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:35:04.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/7906dc6ced122609669df8f8e50cd2f1d8c3562f', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: If8216b4759dbe210ff174a9f4e240cd61c7365cb\n(cherry picked from commit 59731cdc96d1563df9074440fc2d689098f1a34d)\n'}]",0,794918,7906dc6ced122609669df8f8e50cd2f1d8c3562f,9,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: If8216b4759dbe210ff174a9f4e240cd61c7365cb
(cherry picked from commit 59731cdc96d1563df9074440fc2d689098f1a34d)
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/18/794918/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,7906dc6ced122609669df8f8e50cd2f1d8c3562f,bug/1930403-stable/wallaby-stable/victoria,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-ovn~stable%2Fvictoria~Ic9f46609ad44c4c99fcbaccea8b944c61910f7f9,openstack/puppet-ovn,stable/victoria,Ic9f46609ad44c4c99fcbaccea8b944c61910f7f9,Set fixture paths for unit tests,MERGED,2021-06-05 00:36:36.000000000,2021-06-11 16:07:03.000000000,2021-06-11 16:07:03.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:36:36.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/05b352fd9370291139fe65526c396c300b92050b', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: Ic9f46609ad44c4c99fcbaccea8b944c61910f7f9\n(cherry picked from commit 88fad1f1573ed29153ccbaa5b186132117800b3b)\n'}]",0,794931,05b352fd9370291139fe65526c396c300b92050b,9,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: Ic9f46609ad44c4c99fcbaccea8b944c61910f7f9
(cherry picked from commit 88fad1f1573ed29153ccbaa5b186132117800b3b)
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/31/794931/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,05b352fd9370291139fe65526c396c300b92050b,bug/1930403-stable/wallaby-stable/victoria,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-gnocchi~stable%2Fvictoria~Idc7a8a5b663d1cccb54ff1f62e975582c81d9f82,openstack/puppet-gnocchi,stable/victoria,Idc7a8a5b663d1cccb54ff1f62e975582c81d9f82,Set fixture paths for unit tests,MERGED,2021-06-05 00:36:51.000000000,2021-06-11 16:06:13.000000000,2021-06-11 16:06:13.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:36:51.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/b658b7ac2aaf625af4f8b55cdad8683d50bb60ac', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: Idc7a8a5b663d1cccb54ff1f62e975582c81d9f82\n(cherry picked from commit 05e70d90fd4e37c1cbf43a0fb7bf2453ed3d55ce)\n'}]",0,794939,b658b7ac2aaf625af4f8b55cdad8683d50bb60ac,9,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: Idc7a8a5b663d1cccb54ff1f62e975582c81d9f82
(cherry picked from commit 05e70d90fd4e37c1cbf43a0fb7bf2453ed3d55ce)
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/39/794939/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,b658b7ac2aaf625af4f8b55cdad8683d50bb60ac,bug/1930403-stable/wallaby-stable/victoria,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-vitrage~stable%2Fvictoria~I18dc83d8b96b161d0416bbdd0e789506b60bccf7,openstack/puppet-vitrage,stable/victoria,I18dc83d8b96b161d0416bbdd0e789506b60bccf7,Set fixture paths for unit tests,MERGED,2021-06-05 00:38:02.000000000,2021-06-11 16:05:02.000000000,2021-06-11 16:05:02.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:38:02.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/a7bb967a1fb6c7e4358052a3d44824200246e821', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I18dc83d8b96b161d0416bbdd0e789506b60bccf7\n(cherry picked from commit cb1d03650c6b957794b62e1f21812f5fdc92ca1e)\n'}]",0,794943,a7bb967a1fb6c7e4358052a3d44824200246e821,9,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I18dc83d8b96b161d0416bbdd0e789506b60bccf7
(cherry picked from commit cb1d03650c6b957794b62e1f21812f5fdc92ca1e)
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/43/794943/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,a7bb967a1fb6c7e4358052a3d44824200246e821,bug/1930403-stable/wallaby-stable/victoria,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-cinder~stable%2Fvictoria~I40391cecb877d948a30a480b080a10895b431d0b,openstack/puppet-cinder,stable/victoria,I40391cecb877d948a30a480b080a10895b431d0b,Set fixture paths for unit tests,MERGED,2021-06-05 00:35:03.000000000,2021-06-11 16:03:51.000000000,2021-06-11 16:03:51.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:35:03.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/e76865cc40607963b937d363544d0746d9e969b2', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I40391cecb877d948a30a480b080a10895b431d0b\n(cherry picked from commit 24dbff6a5ded2573b8037d5a172a7027535bb0ea)\n'}]",0,794915,e76865cc40607963b937d363544d0746d9e969b2,9,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I40391cecb877d948a30a480b080a10895b431d0b
(cherry picked from commit 24dbff6a5ded2573b8037d5a172a7027535bb0ea)
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/15/794915/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,e76865cc40607963b937d363544d0746d9e969b2,bug/1930403-stable/wallaby-stable/victoria,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-ec2api~stable%2Fvictoria~I64316e1bb130c9bba96cfa77ee2a2971363dcd97,openstack/puppet-ec2api,stable/victoria,I64316e1bb130c9bba96cfa77ee2a2971363dcd97,Set fixture paths for unit tests,MERGED,2021-06-05 00:35:03.000000000,2021-06-11 16:03:17.000000000,2021-06-11 16:03:17.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:35:03.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/8b8d0fcd2e9b67dafd2ac6ad3c166683ba2affa2', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I64316e1bb130c9bba96cfa77ee2a2971363dcd97\n(cherry picked from commit 0d07da09818b31f4e7babeb7bea44df8f2ba1053)\n'}]",0,794832,8b8d0fcd2e9b67dafd2ac6ad3c166683ba2affa2,9,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I64316e1bb130c9bba96cfa77ee2a2971363dcd97
(cherry picked from commit 0d07da09818b31f4e7babeb7bea44df8f2ba1053)
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/32/794832/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,8b8d0fcd2e9b67dafd2ac6ad3c166683ba2affa2,bug/1930403-stable/wallaby-stable/victoria,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-trove~stable%2Fvictoria~I93c83dfe9b92ef772e1ae3c15f70aeac39ccf449,openstack/puppet-trove,stable/victoria,I93c83dfe9b92ef772e1ae3c15f70aeac39ccf449,Set fixture paths for unit tests,MERGED,2021-06-05 00:38:03.000000000,2021-06-11 16:02:33.000000000,2021-06-11 16:02:33.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:38:03.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/1b9ed551c0823dac3c30544b9eb4397e3a181ad4', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I93c83dfe9b92ef772e1ae3c15f70aeac39ccf449\n(cherry picked from commit fe0f6508c45e0a0f1b6061f3d7b8ed6299691958)\n'}]",0,794944,1b9ed551c0823dac3c30544b9eb4397e3a181ad4,9,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I93c83dfe9b92ef772e1ae3c15f70aeac39ccf449
(cherry picked from commit fe0f6508c45e0a0f1b6061f3d7b8ed6299691958)
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/44/794944/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,1b9ed551c0823dac3c30544b9eb4397e3a181ad4,bug/1930403-stable/wallaby-stable/victoria,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-panko~stable%2Fvictoria~I2c7828b0198f51e8b77b83a0f3a793e747da69c8,openstack/puppet-panko,stable/victoria,I2c7828b0198f51e8b77b83a0f3a793e747da69c8,Set fixture paths for unit tests,MERGED,2021-06-05 00:35:21.000000000,2021-06-11 16:02:15.000000000,2021-06-11 16:02:15.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:35:21.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/37d6792c833e8b5391fd6e1f79d319e7bc5245ac', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I2c7828b0198f51e8b77b83a0f3a793e747da69c8\n(cherry picked from commit bdbc8382d8f58f380ffaa05a6cd4c522366495fc)\n'}]",0,794927,37d6792c833e8b5391fd6e1f79d319e7bc5245ac,10,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I2c7828b0198f51e8b77b83a0f3a793e747da69c8
(cherry picked from commit bdbc8382d8f58f380ffaa05a6cd4c522366495fc)
",git fetch https://review.opendev.org/openstack/puppet-panko refs/changes/27/794927/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,37d6792c833e8b5391fd6e1f79d319e7bc5245ac,bug/1930403-stable/wallaby-stable/victoria,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-murano~stable%2Fvictoria~Ia613fcf1baea5d491c3eb10fd8b76fbd143b24ca,openstack/puppet-murano,stable/victoria,Ia613fcf1baea5d491c3eb10fd8b76fbd143b24ca,Set fixture paths for unit tests,MERGED,2021-06-05 00:36:45.000000000,2021-06-11 16:02:12.000000000,2021-06-11 16:02:12.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:36:45.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/3fd7252dce098bc70289d9ad1d857ce1ae6af226', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: Ia613fcf1baea5d491c3eb10fd8b76fbd143b24ca\n(cherry picked from commit 50bdff40f68db6390a529c406dc1832cb801f351)\n'}]",0,794936,3fd7252dce098bc70289d9ad1d857ce1ae6af226,9,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: Ia613fcf1baea5d491c3eb10fd8b76fbd143b24ca
(cherry picked from commit 50bdff40f68db6390a529c406dc1832cb801f351)
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/36/794936/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,3fd7252dce098bc70289d9ad1d857ce1ae6af226,bug/1930403-stable/wallaby-stable/victoria,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-aodh~stable%2Fvictoria~I960e6e19da4f05cfb07d261f294411bcb4618f68,openstack/puppet-aodh,stable/victoria,I960e6e19da4f05cfb07d261f294411bcb4618f68,Set fixture paths for unit tests,MERGED,2021-06-05 00:36:37.000000000,2021-06-11 16:01:33.000000000,2021-06-11 16:01:33.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:36:37.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/0ee42808a9cdfe7c93d00ab539adef602d40a429', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I960e6e19da4f05cfb07d261f294411bcb4618f68\n(cherry picked from commit 6cd026faf68cbc4768caa707d0019732d376074e)\n'}]",0,794932,0ee42808a9cdfe7c93d00ab539adef602d40a429,9,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I960e6e19da4f05cfb07d261f294411bcb4618f68
(cherry picked from commit 6cd026faf68cbc4768caa707d0019732d376074e)
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/32/794932/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,0ee42808a9cdfe7c93d00ab539adef602d40a429,bug/1930403-stable/wallaby-stable/victoria,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fopenstack-tempest-skiplist~master~I902f46e7ac8febf507885fcfd45e11c8fc88c71d,openstack/openstack-tempest-skiplist,master,I902f46e7ac8febf507885fcfd45e11c8fc88c71d,Remove TestNetworkBasicOps.test_network_basic_ops from skips,MERGED,2021-06-10 08:33:46.000000000,2021-06-11 15:51:42.000000000,2021-06-11 15:49:51.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-06-10 08:33:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/a6f128d3123dcd168052cb460d8cd12251a776f9', 'message': 'Remove TestNetworkBasicOps.test_network_basic_ops from skips\n\nThis removes the TestNetworkBasicOps.test_network_basic_ops from\nmaster and wallaby skips for related-bug\n\nRelated-Bug: 1931545\nChange-Id: I902f46e7ac8febf507885fcfd45e11c8fc88c71d\n'}, {'number': 2, 'created': '2021-06-11 15:25:00.000000000', 'files': ['requirements.txt', 'roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/a120742ac8bae2aa8f0030b91eeb10d83ecf283d', 'message': 'Remove TestNetworkBasicOps.test_network_basic_ops from skips\n\nThis removes the TestNetworkBasicOps.test_network_basic_ops from\nmaster and wallaby skips for related-bug\n\nRelated-Bug: 1931545\nChange-Id: I902f46e7ac8febf507885fcfd45e11c8fc88c71d\n'}]",2,795742,a120742ac8bae2aa8f0030b91eeb10d83ecf283d,21,5,2,8449,,,0,"Remove TestNetworkBasicOps.test_network_basic_ops from skips

This removes the TestNetworkBasicOps.test_network_basic_ops from
master and wallaby skips for related-bug

Related-Bug: 1931545
Change-Id: I902f46e7ac8febf507885fcfd45e11c8fc88c71d
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/42/795742/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,a6f128d3123dcd168052cb460d8cd12251a776f9,,, - test: tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_network_basic_ops deployment: - overcloud releases: - name: master reason: auth issues lp: https://bugs.launchpad.net/tripleo/+bug/1921400 - name: wallaby reason: auth issues lp: https://bugs.launchpad.net/tripleo/+bug/1921400,0,10
openstack%2Fpuppet-openstack_extras~stable%2Fvictoria~I553db674fe84522f9d04714925ceec3655b81292,openstack/puppet-openstack_extras,stable/victoria,I553db674fe84522f9d04714925ceec3655b81292,Set fixture paths for unit tests,MERGED,2021-06-05 00:37:54.000000000,2021-06-11 15:51:39.000000000,2021-06-11 15:51:39.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:37:54.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/a58f49f9ab87cc33aef98155393eef2c9bf6d274', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I553db674fe84522f9d04714925ceec3655b81292\n(cherry picked from commit c8e5cfb7b325772a02eda220aa77950046d5c11f)\n'}]",0,794941,a58f49f9ab87cc33aef98155393eef2c9bf6d274,9,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I553db674fe84522f9d04714925ceec3655b81292
(cherry picked from commit c8e5cfb7b325772a02eda220aa77950046d5c11f)
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/41/794941/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,a58f49f9ab87cc33aef98155393eef2c9bf6d274,bug/1930403-stable/wallaby-stable/victoria,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fironic~master~I823317d3f34f87767f3f43968326b4111ab5c3e8,openstack/ironic,master,I823317d3f34f87767f3f43968326b4111ab5c3e8,Update CI jobs list and description in docs,MERGED,2021-04-22 09:33:28.000000000,2021-06-11 15:48:06.000000000,2021-06-11 15:44:44.000000000,"[{'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-22 09:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1cb050718dddb16bcadc7087ae4aee88472e073c', 'message': '[WIP] Update CI jobs list and description in docs\n\nChange-Id: I823317d3f34f87767f3f43968326b4111ab5c3e8\n'}, {'number': 2, 'created': '2021-04-22 10:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c188f39d638c7d5284b206b999aa9c86f7f24627', 'message': 'Update CI jobs list and description in docs\n\nChange-Id: I823317d3f34f87767f3f43968326b4111ab5c3e8\n'}, {'number': 3, 'created': '2021-04-22 10:35:16.000000000', 'files': ['doc/source/contributor/jobs-description.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/57120615a93702eee19938a7d56117a0f817b308', 'message': 'Update CI jobs list and description in docs\n\nChange-Id: I823317d3f34f87767f3f43968326b4111ab5c3e8\n'}]",0,787512,57120615a93702eee19938a7d56117a0f817b308,14,3,3,23851,,,0,"Update CI jobs list and description in docs

Change-Id: I823317d3f34f87767f3f43968326b4111ab5c3e8
",git fetch https://review.opendev.org/openstack/ironic refs/changes/12/787512/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/jobs-description.rst'],1,1cb050718dddb16bcadc7087ae4aee88472e073c,update-jobs-list-docs," :widths: 53 47 :header-rows: 1 * - Job name - Description * - ironic-tox-unit-with-driver-libs - Runs Ironic unit tests with the driver dependencies installed under Python3 * - ironic-tempest-functional-python3 - Deploys Ironic in standalone mode and runs tempest functional tests that matches the regex `ironic_tempest_plugin.tests.api` under Python3 * - ironic-grenade - Deploys Ironic in a DevStack and runs upgrade for all enabled services. * - ironic-standalone - Deploys Ironic in standalone mode and runs tempest tests that match the regex `ironic_standalone`. * - ironic-standalone-redfish - Deploys Ironic in standalone mode and runs tempest tests that match the regex `ironic_standalone` using the redfish driver. * - ironic-tempest-partition-bios-redfish-pxe - Deploys Ironic in DevStack, configured to use dib ramdisk partition image with `pxe` boot and `redfish` driver. Runs tempest tests that match the regex `ironic_tempest_plugin.tests.scenario`, also deploys 1 virtual baremetal. * - ironic-tempest-partition-uefi-redfish-vmedia - Deploys Ironic in DevStack, configured to use dib ramdisk partition image with `vmedia` boot and `redfish` driver. Runs tempest tests that match the regex `ironic_tempest_plugin.tests.scenario`, also deploys 1 virtual baremetal. * - ironic-tempest-wholedisk-bios-snmp-pxe - Deploys Ironic in DevStack, configured to use a pre-built dib ramdisk wholedisk image that is downloaded from a Swift temporary url, `pxe` boot and `snmp` driver. Runs tempest tests that match the regex `ironic_tempest_plugin.tests.scenario` and deploys 1 virtual baremetal."," :widths: 53 47 :header-rows: 1 * - Job name - Description * - ironic-tox-unit-with-driver-libs-python3 - Runs Ironic unit tests with the driver dependencies installed under Python3 * - ironic-standalone - Deploys Ironic in standalone mode and runs tempest tests that match the regex `ironic_standalone`. * - ironic-tempest-functional-python3 - Deploys Ironic in standalone mode and runs tempest functional tests that matches the regex `ironic_tempest_plugin.tests.api` under Python3 * - ironic-grenade - Deploys Ironic in a DevStack and runs upgrade for all enabled services. * - ironic-grenade-dsvm-multinode-multitenant - Deploys Ironic in a multinode DevStack and runs upgrade for all enabled services. * - ironic-tempest-ipa-partition-pxe_ipmitool - Deploys Ironic in DevStack under Python3, configured to use dib ramdisk partition image with `pxe` boot and `ipmi` driver. Runs tempest tests that match the regex `ironic_tempest_plugin.tests.scenario` and deploy 1 virtual baremetal. * - ironic-tempest-partition-bios-redfish-pxe - Deploys Ironic in DevStack, configured to use dib ramdisk partition image with `pxe` boot and `redfish` driver. Runs tempest tests that match the regex `ironic_tempest_plugin.tests.scenario`, also deploys 1 virtual baremetal. * - ironic-tempest-ipa-partition-uefi-pxe_ipmitool - Deploys Ironic in DevStack, configured to use dib ramdisk partition image with `uefi` boot and `ipmi` driver. Runs tempest tests that match the regex `ironic_tempest_plugin.tests.scenario`, also deploys 1 virtual baremetal. * - ironic-tempest-ipa-wholedisk-direct-tinyipa-multinode - Deploys Ironic in a multinode DevStack, configured to use a pre-build tinyipa ramdisk wholedisk image that is downloaded from a Swift temporary url, `pxe` boot and `ipmi` driver. Runs tempest tests that match the regex `(ironic_tempest_plugin.tests.scenario|test_schedule_to_all_nodes)` and deploys 7 virtual baremetal. * - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa - Deploys Ironic in DevStack, configured to use a pre-build tinyipa ramdisk wholedisk image that is downloaded from a Swift temporary url, `pxe` boot and `ipmi` driver. Runs tempest tests that match the regex `ironic_tempest_plugin.tests.scenario` and deploys 1 virtual baremetal. * - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-indirect - Deploys Ironic in DevStack, configured to use a pre-built dib ramdisk wholedisk image that is downloaded from http url, `pxe` boot and `ipmi` driver. Runs tempest tests that match the regex `ironic_tempest_plugin.tests.scenario` and deploys 1 virtual baremetal. * - ironic-tempest-ipa-partition-bios-agent_ipmitool-indirect - Deploys Ironic in DevStack, configured to use a pre-built dib ramdisk partition image that is downloaded from http url, `pxe` boot and `ipmi` driver. Runs tempest tests that match the regex `ironic_tempest_plugin.tests.scenario` and deploys 1 virtual baremetal. * - ironic-tempest-bfv - Deploys Ironic in DevStack with cinder enabled, so it can deploy baremetal using boot from volume. Runs tempest tests that match the regex `baremetal_boot_from_volume` and deploys 3 virtual baremetal nodes using boot from volume. * - ironic-tempest-ipa-partition-uefi-pxe-grub2 - Deploys Ironic in DevStack, configured to use pxe with uefi and grub2 and `ipmi` driver. Runs tempest tests that match the regex `ironic_tempest_plugin.tests.scenario` and deploys 1 virtual baremetal. * - ironic-tox-bandit - Runs bandit security tests in a tox environment to find known issues in the Ironic code. * - ironic-tempest-ipa-wholedisk-bios-pxe_snmp - Deploys Ironic in DevStack, configured to use a pre-built dib ramdisk wholedisk image that is downloaded from a Swift temporary url, `pxe` boot and `snmp` driver. Runs tempest tests that match the regex `ironic_tempest_plugin.tests.scenario` and deploys 1 virtual baremetal. * - ironic-inspector-tempest - Deploys Ironic and Ironic Inspector in DevStack, configured to use a pre-build tinyipa ramdisk wholedisk image that is downloaded from a Swift temporary url, `pxe` boot and `ipmi` driver. Runs tempest tests that match the regex `InspectorBasicTest` and deploys 1 virtual baremetal. * - bifrost-integration-tinyipa-ubuntu-bionic - Tests the integration between Ironic and Bifrost. * - metalsmith-integration-glance-localboot-centos7 - Tests the integration between Ironic and Metalsmith using Glance as image source and CentOS7 with local boot. * - ironic-tempest-pxe_ipmitool-postgres - Deploys Ironic in DevStack, configured to use tinyipa ramdisk partition image with `pxe` boot and `ipmi` driver and postgres instead of mysql. Runs tempest tests that match the regex `ironic_tempest_plugin.tests.scenario`, also deploys 1 virtual baremetal.",36,96
openstack%2Fgovernance~master~I016186e0c6bc802842007ce2213a2f1b6fd6538c,openstack/governance,master,I016186e0c6bc802842007ce2213a2f1b6fd6538c,Add resolution for ATC renamed to AC,MERGED,2021-06-03 02:14:48.000000000,2021-06-11 15:47:41.000000000,2021-06-11 15:45:29.000000000,"[{'_account_id': 1004}, {'_account_id': 2033}, {'_account_id': 4393}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 15993}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-03 02:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/48995a03c0095b04d72e96c51c78cbcd6e34c827', 'message': 'Add resolution for ATC renamed to AC\n\nChange-Id: I016186e0c6bc802842007ce2213a2f1b6fd6538c\n'}, {'number': 2, 'created': '2021-06-03 16:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/1e5293890935d25f8e3e0e701cc94064129c8b46', 'message': 'Add resolution for ATC renamed to AC\n\nChange-Id: I016186e0c6bc802842007ce2213a2f1b6fd6538c\n'}, {'number': 3, 'created': '2021-06-03 16:22:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/aac61b5dea82a02429f180afd8aa73d521cf95ec', 'message': 'Add resolution for ATC renamed to AC\n\nChange-Id: I016186e0c6bc802842007ce2213a2f1b6fd6538c\n'}, {'number': 4, 'created': '2021-06-04 13:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/ff440782c937926e48ddd2e1fa6dfe3996f3d4f2', 'message': 'Add resolution for ATC renamed to AC\n\nChange-Id: I016186e0c6bc802842007ce2213a2f1b6fd6538c\n'}, {'number': 5, 'created': '2021-06-04 14:20:37.000000000', 'files': ['resolutions/20210602-atc-renamed-to-ac.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/a2003f68f90fe7dd81b3333c07362e309cfb531c', 'message': 'Add resolution for ATC renamed to AC\n\nChange-Id: I016186e0c6bc802842007ce2213a2f1b6fd6538c\n'}]",13,794366,a2003f68f90fe7dd81b3333c07362e309cfb531c,30,9,5,8556,,,0,"Add resolution for ATC renamed to AC

Change-Id: I016186e0c6bc802842007ce2213a2f1b6fd6538c
",git fetch https://review.opendev.org/openstack/governance refs/changes/66/794366/1 && git format-patch -1 --stdout FETCH_HEAD,['resolutions/20210602-atc-renamed-to-ac.rst'],1,48995a03c0095b04d72e96c51c78cbcd6e34c827,formal-vote,"====================================== 2021-06-02 'OpenStack ATC' definition ====================================== The OpenStack Foundation bylaws defines that term ``Active Technical Contributors (“ATC”)`` as the one who does the code contribution in any of the OpenStack official projects and members doing any technical contribution such as bug triage and technical documentation writers). Bylaws require Technical Committee to maintain a list of ATCs and their contact information. In the Technical Committee, the term ``Active Technical Contributors (“ATC”)`` is now renamed to ``Active Contributors (“AC”)``. As required by bylaws, the ``Active Contributors (“AC”)`` list will be maintained by the Technical Committee This TC resolution therefore affirms that the ``Active Technical Contributors (“ATC”)`` and ``Active Contributors (“AC”)`` are the same thing. ",,18,0
openstack%2Fironic~master~I50ff2ac85aa11b7126995a57dbc3c22fa499ff1d,openstack/ironic,master,I50ff2ac85aa11b7126995a57dbc3c22fa499ff1d,Update Redfish RAID disk_type unit test,MERGED,2021-06-09 09:22:52.000000000,2021-06-11 15:42:25.000000000,2021-06-11 15:38:32.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-09 09:22:52.000000000', 'files': ['ironic/tests/unit/drivers/modules/redfish/test_raid.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0a8ebdfc582d9388d4b4761565e8cd73fe940cbe', 'message': 'Update Redfish RAID disk_type unit test\n\nChange-Id: I50ff2ac85aa11b7126995a57dbc3c22fa499ff1d\n'}]",0,795504,0a8ebdfc582d9388d4b4761565e8cd73fe940cbe,10,4,1,27909,,,0,"Update Redfish RAID disk_type unit test

Change-Id: I50ff2ac85aa11b7126995a57dbc3c22fa499ff1d
",git fetch https://review.opendev.org/openstack/ironic refs/changes/04/795504/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/drivers/modules/redfish/test_raid.py'],1,0a8ebdfc582d9388d4b4761565e8cd73fe940cbe,redfish-raid," self.drive_id5 = '5C966D719B0E1770' self.drive_id6 = '778B2A13449B8292' self.drive_id7 = 'E901FB234162E503' for i in [self.drive_id5, self.drive_id6, self.drive_id7]: mock_drives.append(_mock_drive( identity=i, block_size_bytes=512, capacity_bytes=479559942144, media_type='SSD', name='Solid State Drive', protocol='SATA')) task.driver.raid.create_configuration(task) pre = '/redfish/v1/Systems/1/Storage/1/Drives/' expected_payload1 = { 'Encrypted': False, 'VolumeType': 'StripedWithParity', 'RAIDType': 'RAID5', 'CapacityBytes': 107374182400, 'Links': { 'Drives': [ {'@odata.id': pre + self.drive_id5}, {'@odata.id': pre + self.drive_id6}, {'@odata.id': pre + self.drive_id7} ] } } expected_payload2 = { 'Encrypted': False, 'VolumeType': 'Mirrored', 'RAIDType': 'RAID1', 'CapacityBytes': 536870912000, 'Links': { 'Drives': [ {'@odata.id': pre + self.drive_id1}, {'@odata.id': pre + self.drive_id2} ] } } self.assertEqual( self.mock_storage.volumes.create.call_count, 2) self.mock_storage.volumes.create.assert_any_call( expected_payload1, apply_time=None ) self.mock_storage.volumes.create.assert_any_call( expected_payload2, apply_time=None )"," # TODO(bdodd): update mock_storage to allow this to pass w/o Exception self.assertRaisesRegex( exception.RedfishError, 'failed to find matching physical disks for all logical disks', task.driver.raid.create_configuration, task)",43,5
openstack%2Fgovernance~master~I7ad56360efeb34756655642929e795009cfc48a2,openstack/governance,master,I7ad56360efeb34756655642929e795009cfc48a2,Propose vulnerability:managed tag for os-brick,MERGED,2021-06-03 21:46:57.000000000,2021-06-11 15:42:13.000000000,2021-06-11 15:40:13.000000000,"[{'_account_id': 4393}, {'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 12404}, {'_account_id': 15993}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-03 21:46:57.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/3085f29b7afc5113bb8ae3bf0efce2439cd859c6', 'message': ""Propose vulnerability:managed tag for os-brick\n\nThe os-brick library provides the ability to collect host initiator\ninformation as well as the discovery of volumes and removal of volumes\nfrom a host.  It is a deliverable of the Cinder project, which\ncurrently has cinder and the python-cinderclient under vulnerability\nmanagement.  We would appreciate the additional eyes of the VMT on\nprivate security bugs for os-brick.\n\nThe os-brick library meets the VMT's requirements for being a managed\ndeliverable:\n\n1. There is only one repo for os-brick, so all repos meet the\n   qualifying criteria.\n2. The dedicated point of contact will be the current cinder-coresec\n   group: https://launchpad.net/~cinder-coresec/+members\n3. The PTL (me) agrees to act as a vulnerability management liaison\n   for os-brick.\n4. The defect tracker is configured as required.\n5. We have a bandit testenv defined in tox.ini, but otherwise haven't\n   undertaken a threat analysis of os-brick.\n6. os-brick has automated testing covering important features (current\n   code coverage is 86%).\n7. os-brick contains only source code provided by an official\n   OpenStack project team.\n8. The os-brick library tags its releases.\n9. The Cinder project team agrees that embargoes for privately-\n   reported vulnerabilities shall not last more than 90 days, except\n   under unusual circumstances.\n\nChange-Id: I7ad56360efeb34756655642929e795009cfc48a2\n""}]",0,794680,3085f29b7afc5113bb8ae3bf0efce2439cd859c6,16,8,1,5314,,,0,"Propose vulnerability:managed tag for os-brick

The os-brick library provides the ability to collect host initiator
information as well as the discovery of volumes and removal of volumes
from a host.  It is a deliverable of the Cinder project, which
currently has cinder and the python-cinderclient under vulnerability
management.  We would appreciate the additional eyes of the VMT on
private security bugs for os-brick.

The os-brick library meets the VMT's requirements for being a managed
deliverable:

1. There is only one repo for os-brick, so all repos meet the
   qualifying criteria.
2. The dedicated point of contact will be the current cinder-coresec
   group: https://launchpad.net/~cinder-coresec/+members
3. The PTL (me) agrees to act as a vulnerability management liaison
   for os-brick.
4. The defect tracker is configured as required.
5. We have a bandit testenv defined in tox.ini, but otherwise haven't
   undertaken a threat analysis of os-brick.
6. os-brick has automated testing covering important features (current
   code coverage is 86%).
7. os-brick contains only source code provided by an official
   OpenStack project team.
8. The os-brick library tags its releases.
9. The Cinder project team agrees that embargoes for privately-
   reported vulnerabilities shall not last more than 90 days, except
   under unusual circumstances.

Change-Id: I7ad56360efeb34756655642929e795009cfc48a2
",git fetch https://review.opendev.org/openstack/governance refs/changes/80/794680/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,3085f29b7afc5113bb8ae3bf0efce2439cd859c6,formal-vote, - vulnerability:managed,,1,0
openstack%2Fpuppet-zaqar~stable%2Fvictoria~I0b2f0d06e05c0d5ddd02db4275a1f6206e6ef0fb,openstack/puppet-zaqar,stable/victoria,I0b2f0d06e05c0d5ddd02db4275a1f6206e6ef0fb,Set fixture paths for unit tests,MERGED,2021-06-08 01:57:25.000000000,2021-06-11 15:37:43.000000000,2021-06-11 15:37:43.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 01:57:25.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/38939a281aee16293c5596e3b36af0ae4131b93e', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I0b2f0d06e05c0d5ddd02db4275a1f6206e6ef0fb\n(cherry picked from commit 0afad6e6c350a5b4635af375d69c70bcdd4b43bb)\n(cherry picked from commit c06222e1377ce169ee636f40fd42a5c73685b2bf)\n'}]",0,795146,38939a281aee16293c5596e3b36af0ae4131b93e,8,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I0b2f0d06e05c0d5ddd02db4275a1f6206e6ef0fb
(cherry picked from commit 0afad6e6c350a5b4635af375d69c70bcdd4b43bb)
(cherry picked from commit c06222e1377ce169ee636f40fd42a5c73685b2bf)
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/46/795146/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,38939a281aee16293c5596e3b36af0ae4131b93e,bug/1930403-stable/wallaby-stable/victoria,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-placement~stable%2Fvictoria~Id3cc02b53f1cfcee025164202d4c535195905d43,openstack/puppet-placement,stable/victoria,Id3cc02b53f1cfcee025164202d4c535195905d43,Set fixture paths for unit tests,MERGED,2021-06-05 00:36:48.000000000,2021-06-11 15:28:17.000000000,2021-06-11 15:28:17.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:36:48.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/44a035acfd548110afd01d8c1e6eebfb20c6ce13', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: Id3cc02b53f1cfcee025164202d4c535195905d43\n(cherry picked from commit 9727e686769dbd98d14f0d19bf5d79eed54f95f1)\n'}]",0,794938,44a035acfd548110afd01d8c1e6eebfb20c6ce13,10,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: Id3cc02b53f1cfcee025164202d4c535195905d43
(cherry picked from commit 9727e686769dbd98d14f0d19bf5d79eed54f95f1)
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/38/794938/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,44a035acfd548110afd01d8c1e6eebfb20c6ce13,bug/1930403-stable/wallaby-stable/victoria,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) RSpec.configure do |c| c.alias_it_should_behave_like_to :it_configures, 'configures' c.alias_it_should_behave_like_to :it_raises, 'raises' c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests') end ",,10,0
openstack%2Fpuppet-cloudkitty~stable%2Fvictoria~I12dbfcfd4bada8d8578632f47e74e638ec3754a7,openstack/puppet-cloudkitty,stable/victoria,I12dbfcfd4bada8d8578632f47e74e638ec3754a7,Set fixture paths for unit tests,MERGED,2021-06-08 01:56:36.000000000,2021-06-11 15:28:12.000000000,2021-06-11 15:28:12.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 01:56:36.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/0e02be66f389430a0cb8efecc9cdb7001ce466e5', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I12dbfcfd4bada8d8578632f47e74e638ec3754a7\n(cherry picked from commit 217a8ec17c6756a6e989e9c8d4dad73e493fd6b7)\n(cherry picked from commit b325089a99861043b81320a1365bfca8e18b4861)\n'}]",0,795145,0e02be66f389430a0cb8efecc9cdb7001ce466e5,9,3,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I12dbfcfd4bada8d8578632f47e74e638ec3754a7
(cherry picked from commit 217a8ec17c6756a6e989e9c8d4dad73e493fd6b7)
(cherry picked from commit b325089a99861043b81320a1365bfca8e18b4861)
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/45/795145/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,0e02be66f389430a0cb8efecc9cdb7001ce466e5,bug/1930403-stable/wallaby-stable/victoria,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fironic-python-agent~master~I9392117ccdef8fc6ff3d95d667107d752459cb24,openstack/ironic-python-agent,master,I9392117ccdef8fc6ff3d95d667107d752459cb24,Remove lower-constraints job,MERGED,2021-06-11 07:37:04.000000000,2021-06-11 15:21:35.000000000,2021-06-11 15:19:58.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 07:37:04.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/5473700f9ce754076a098c8ed4f5e54b22596a8b', 'message': 'Remove lower-constraints job\n\nAs discussed during the upstream ironic community meeting on\nMonday Dec 14 2020, the lower-constraints job is being removed.\n\nChange-Id: I9392117ccdef8fc6ff3d95d667107d752459cb24\n'}]",0,795942,5473700f9ce754076a098c8ed4f5e54b22596a8b,8,3,1,32029,,,0,"Remove lower-constraints job

As discussed during the upstream ironic community meeting on
Monday Dec 14 2020, the lower-constraints job is being removed.

Change-Id: I9392117ccdef8fc6ff3d95d667107d752459cb24
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/42/795942/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5473700f9ce754076a098c8ed4f5e54b22596a8b,remove-l-c-job,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt ,0,7
openstack%2Fcharm-ceph-proxy~master~I20614430b45cc1919cd21b20c84854a891b4f0ec,openstack/charm-ceph-proxy,master,I20614430b45cc1919cd21b20c84854a891b4f0ec,Add impish to metadata.yaml,MERGED,2021-06-03 09:08:52.000000000,2021-06-11 15:10:40.000000000,2021-06-11 15:10:40.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/16ac25ecfca373418c89a79cb1d7de478c4833bc', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I20614430b45cc1919cd21b20c84854a891b4f0ec\n'}, {'number': 2, 'created': '2021-06-10 12:08:57.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/f5627a80a52c97af281ee9220addeeb1ce2189e6', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I20614430b45cc1919cd21b20c84854a891b4f0ec\n'}]",0,794488,f5627a80a52c97af281ee9220addeeb1ce2189e6,10,3,2,31289,,,0,"Add impish to metadata.yaml

Change-Id: I20614430b45cc1919cd21b20c84854a891b4f0ec
",git fetch https://review.opendev.org/openstack/charm-ceph-proxy refs/changes/88/794488/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,16ac25ecfca373418c89a79cb1d7de478c4833bc,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-nova-compute~master~Ibaa5f45b7fd72fcc936986286939e1285bcdb945,openstack/charm-nova-compute,master,Ibaa5f45b7fd72fcc936986286939e1285bcdb945,apparmor: ensure multipath.conf is accessible,MERGED,2021-06-08 12:31:52.000000000,2021-06-11 15:08:54.000000000,2021-06-11 15:08:54.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 12:31:52.000000000', 'files': ['templates/usr.bin.nova-compute'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/9d9a74ddda83df01ae8cbd34c6d13697b5fe17bc', 'message': 'apparmor: ensure multipath.conf is accessible\n\nAllow access to main multipath configuration file from the\nnova-compute daemon.\n\nChange-Id: Ibaa5f45b7fd72fcc936986286939e1285bcdb945\nCloses-Bug: 1906727\n'}]",0,795313,9d9a74ddda83df01ae8cbd34c6d13697b5fe17bc,11,3,1,935,,,0,"apparmor: ensure multipath.conf is accessible

Allow access to main multipath configuration file from the
nova-compute daemon.

Change-Id: Ibaa5f45b7fd72fcc936986286939e1285bcdb945
Closes-Bug: 1906727
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/13/795313/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/usr.bin.nova-compute'],1,9d9a74ddda83df01ae8cbd34c6d13697b5fe17bc,bug/1906727," /etc/multipath.conf r,",,1,0
openstack%2Fcharm-cinder-backup~master~I3113eced29a15379aeab810fd012475bcfbd115d,openstack/charm-cinder-backup,master,I3113eced29a15379aeab810fd012475bcfbd115d,Add impish to metadata.yaml,MERGED,2021-06-03 09:10:06.000000000,2021-06-11 15:06:41.000000000,2021-06-11 15:06:41.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:10:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/e9c06fc59a22a29c815d5499188b2a4994f3d1bd', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I3113eced29a15379aeab810fd012475bcfbd115d\n'}, {'number': 2, 'created': '2021-06-10 12:07:59.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/7e3885f9b9c322be5c9ccf960741d5c357c70055', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I3113eced29a15379aeab810fd012475bcfbd115d\n'}]",0,794492,7e3885f9b9c322be5c9ccf960741d5c357c70055,10,3,2,31289,,,0,"Add impish to metadata.yaml

Change-Id: I3113eced29a15379aeab810fd012475bcfbd115d
",git fetch https://review.opendev.org/openstack/charm-cinder-backup refs/changes/92/794492/2 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,e9c06fc59a22a29c815d5499188b2a4994f3d1bd,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-ceph-rbd-mirror~master~I12925554fa90c97e8d6bdee46ad953cd7c516b7f,openstack/charm-ceph-rbd-mirror,master,I12925554fa90c97e8d6bdee46ad953cd7c516b7f,Add impish to metadata.yaml,MERGED,2021-06-03 09:09:30.000000000,2021-06-11 15:05:37.000000000,2021-06-11 15:05:37.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/c396a0f0763e3635be5887bb5f234e0a93116d7b', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I12925554fa90c97e8d6bdee46ad953cd7c516b7f\n'}, {'number': 2, 'created': '2021-06-10 12:08:36.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/392c01dc32d78d861818fa4dae443806cf868847', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I12925554fa90c97e8d6bdee46ad953cd7c516b7f\n'}]",0,794490,392c01dc32d78d861818fa4dae443806cf868847,10,3,2,31289,,,0,"Add impish to metadata.yaml

Change-Id: I12925554fa90c97e8d6bdee46ad953cd7c516b7f
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/90/794490/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,c396a0f0763e3635be5887bb5f234e0a93116d7b,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-swift-proxy~master~Ifdf2b96f27f18bc64549c40d8fa47474f8eb59c8,openstack/charm-swift-proxy,master,Ifdf2b96f27f18bc64549c40d8fa47474f8eb59c8,Bump default swift partition power,MERGED,2021-04-05 18:41:11.000000000,2021-06-11 14:58:01.000000000,2021-06-11 14:58:01.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-05 18:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/6c9640706b319aa9cfbf6e60f3d91f7a809af84d', 'message': 'Bump default swift partition power\n\nThe partition power is used to build the swift rings. The total\nnumber of partitions in the cluster will be 2^partition-power.\nThe recommend number of partitions of a cluster is a minimum of 100\nper disk. Given that 2^8 is only 256, this number will lead to a sub-\noptimal configuration even on test deployments, not to say on production\nwhere disks can surpass the hundreds, and this will lead to a very\nunbalanced cluster.\n\nChange-Id: Ifdf2b96f27f18bc64549c40d8fa47474f8eb59c8\n'}, {'number': 2, 'created': '2021-06-08 17:08:26.000000000', 'files': ['config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/54583248b9510ba0d17313dea044b402953f4e94', 'message': 'Bump default swift partition power\n\nThe partition power is used to build the swift rings. The total\nnumber of partitions in the cluster will be 2^partition-power.\nThe recommend number of partitions of a cluster is a minimum of 100\nper disk. Given that 2^8 is only 256, this number will lead to a sub-\noptimal configuration even on test deployments, not to say on production\nwhere disks can surpass the hundreds, and this will lead to a very\nunbalanced cluster.\n\nCloses-bug: #1931286\nChange-Id: Ifdf2b96f27f18bc64549c40d8fa47474f8eb59c8\n'}]",0,784813,54583248b9510ba0d17313dea044b402953f4e94,13,3,2,10058,,,0,"Bump default swift partition power

The partition power is used to build the swift rings. The total
number of partitions in the cluster will be 2^partition-power.
The recommend number of partitions of a cluster is a minimum of 100
per disk. Given that 2^8 is only 256, this number will lead to a sub-
optimal configuration even on test deployments, not to say on production
where disks can surpass the hundreds, and this will lead to a very
unbalanced cluster.

Closes-bug: #1931286
Change-Id: Ifdf2b96f27f18bc64549c40d8fa47474f8eb59c8
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/13/784813/1 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,6c9640706b319aa9cfbf6e60f3d91f7a809af84d,bug/1931286, default: 16, default: 8,1,1
openstack%2Ftripleo-ci-health-queries~master~I8a383778ca514c685d9aa81492e776801df96889,openstack/tripleo-ci-health-queries,master,I8a383778ca514c685d9aa81492e776801df96889,Query to test addition of new query parameters,MERGED,2021-06-11 13:23:27.000000000,2021-06-11 14:53:02.000000000,2021-06-11 14:53:02.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 13:23:27.000000000', 'files': ['src/er-converter.py', 'output/elastic-recheck/1929461.yaml', 'output/sova-pattern-generated.json', 'output/queries-schema.json', 'src/model.py', 'src/data/queries.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/846314ba37fd6a946f78c52e1d52f4da478b17f9', 'message': 'Query to test addition of new query parameters\n\nChange-Id: I8a383778ca514c685d9aa81492e776801df96889\n'}]",0,796005,846314ba37fd6a946f78c52e1d52f4da478b17f9,7,2,1,32458,,,0,"Query to test addition of new query parameters

Change-Id: I8a383778ca514c685d9aa81492e776801df96889
",git fetch https://review.opendev.org/openstack/tripleo-ci-health-queries refs/changes/05/796005/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/er-converter.py', 'output/elastic-recheck/1929461.yaml', 'output/sova-pattern-generated.json', 'output/queries-schema.json', 'src/model.py', 'src/data/queries.yml']",6,846314ba37fd6a946f78c52e1d52f4da478b17f9,moreparam_regex," - build_status: SUCCESS id: Test ReadTimeoutError HTTPConnectionPool not_build_name: ""neutron*"" pattern: ""ReadTimeoutError: HTTPConnectionPool"" tags: console url: https://bugs.launchpad.net/tripleo/+bug/1929461",,40,2
openstack%2Fcharm-nova-compute~master~I7d00b50acbfe05dfd943a3511126b507fc570aeb,openstack/charm-nova-compute,master,I7d00b50acbfe05dfd943a3511126b507fc570aeb,Set cross_az_attach mode from ncc relation configuration,MERGED,2021-04-13 18:45:25.000000000,2021-06-11 14:49:42.000000000,2021-06-11 14:49:42.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-13 18:45:25.000000000', 'files': ['templates/parts/section-cinder', 'hooks/nova_compute_context.py', 'unit_tests/test_nova_compute_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/17e44e12e328922ec9e488ff29212e3e5cc94da6', 'message': 'Set cross_az_attach mode from ncc relation configuration\n\nThe cross_az_attach property needs to be configured on the compute\nnodes. The policy is set on the ncc service and is propigated to the\ncompute nodes on the cloud-compute relation. Update the relevant cinder\nconfig setting based on the value provided.\n\nNote, the default value for cross_az_attach is aligned with the nova\ndefault of True.\n\nCloses-Bug: #1899084\nChange-Id: I7d00b50acbfe05dfd943a3511126b507fc570aeb\n'}]",0,786091,17e44e12e328922ec9e488ff29212e3e5cc94da6,15,3,1,8992,,,0,"Set cross_az_attach mode from ncc relation configuration

The cross_az_attach property needs to be configured on the compute
nodes. The policy is set on the ncc service and is propigated to the
compute nodes on the cloud-compute relation. Update the relevant cinder
config setting based on the value provided.

Note, the default value for cross_az_attach is aligned with the nova
default of True.

Closes-Bug: #1899084
Change-Id: I7d00b50acbfe05dfd943a3511126b507fc570aeb
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/91/786091/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/nova_compute_context.py', 'templates/parts/section-cinder', 'unit_tests/test_nova_compute_contexts.py']",3,17e44e12e328922ec9e488ff29212e3e5cc94da6,bug/1899084," self.assertEqual({'volume_service': 'cinder', 'cross_az_attach': True}, cloud_compute()) @patch.object(context, '_network_manager') def test_cloud_compute_cross_az_context(self, netman): netman.return_value = None self.relation_ids.return_value = 'cloud-compute:1' self.related_units.return_value = 'nova-cloud-controller/0' cloud_compute = context.CloudComputeContext() # Check no cross_az_attach value set, defaults to cross_az_attach=True self.test_relation.set({'volume_service': 'cinder'}) self.assertEqual({'volume_service': 'cinder', 'cross_az_attach': True}, cloud_compute()) # Check that explicit True setting for cross_az_attach self.test_relation.set({'volume_service': 'cinder', 'cross_az_attach': True}) self.assertEqual({'volume_service': 'cinder', 'cross_az_attach': True}, cloud_compute()) # Check false setting for cross_az_attach self.test_relation.set({'volume_service': 'cinder', 'cross_az_attach': False}) self.assertEqual({'volume_service': 'cinder', 'cross_az_attach': False}, cloud_compute())"," self.assertEqual({'volume_service': 'cinder'}, cloud_compute())",39,1
openstack%2Fcharm-ops-interface-tls-certificates~master~Ie5a86393e05a737789c8effd4d801587590f0c2a,openstack/charm-ops-interface-tls-certificates,master,Ie5a86393e05a737789c8effd4d801587590f0c2a,Don't throw CAClientError in_on_relation_changed,MERGED,2021-06-09 14:53:38.000000000,2021-06-11 14:46:35.000000000,2021-06-11 14:46:35.000000000,"[{'_account_id': 20634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 14:53:38.000000000', 'files': ['interface_tls_certificates/ca_client.py'], 'web_link': 'https://opendev.org/openstack/charm-ops-interface-tls-certificates/commit/13abd963b700dad9444d6346fca6bef8831d5bc8', 'message': ""Don't throw CAClientError in_on_relation_changed\n\nDon't throw CAClientError in_on_relation_changed as there is no\nway for the charm to handle it. Also, it is being thrown when a\ncertificate request has been made but vault has not yet responded\nwhich is a perfectly normal state to be in.\n\nChange-Id: Ie5a86393e05a737789c8effd4d801587590f0c2a\n""}]",0,795566,13abd963b700dad9444d6346fca6bef8831d5bc8,6,2,1,12549,,,0,"Don't throw CAClientError in_on_relation_changed

Don't throw CAClientError in_on_relation_changed as there is no
way for the charm to handle it. Also, it is being thrown when a
certificate request has been made but vault has not yet responded
which is a perfectly normal state to be in.

Change-Id: Ie5a86393e05a737789c8effd4d801587590f0c2a
",git fetch https://review.opendev.org/openstack/charm-ops-interface-tls-certificates refs/changes/66/795566/1 && git format-patch -1 --stdout FETCH_HEAD,['interface_tls_certificates/ca_client.py'],1,13abd963b700dad9444d6346fca6bef8831d5bc8,no-exception-for-inflight-request, continue," raise CAClientError( WaitingStatus, message, self._relation_name)",1,4
openstack%2Fcharm-specs~master~I1ee6dce8d50c6957594eb6b418c1b0b945502b75,openstack/charm-specs,master,I1ee6dce8d50c6957594eb6b418c1b0b945502b75,Add Manila NetApp spec,MERGED,2021-03-05 13:29:35.000000000,2021-06-11 14:42:58.000000000,2021-06-11 14:41:16.000000000,"[{'_account_id': 14567}, {'_account_id': 20634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 13:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/c4822372bbbfcacf3c2b6b70480a81ddc6b164f8', 'message': 'Add Manila NetApp spec\n\nAdd spec for the new backend configuration charm to enable\nNetApp Data ONTAP as shares storage in Manila.\n\nChange-Id: I1ee6dce8d50c6957594eb6b418c1b0b945502b75\n'}, {'number': 2, 'created': '2021-06-09 11:01:32.000000000', 'files': ['specs/wallaby/approved/manila-netapp.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/9c59d56b691196890252f9d354ef9ad41348ecea', 'message': 'Add Manila NetApp spec\n\nAdd spec for the new backend configuration charm to enable\nNetApp Data ONTAP as shares storage in Manila.\n\nChange-Id: I1ee6dce8d50c6957594eb6b418c1b0b945502b75\n'}]",6,778913,9c59d56b691196890252f9d354ef9ad41348ecea,12,3,2,13178,,,0,"Add Manila NetApp spec

Add spec for the new backend configuration charm to enable
NetApp Data ONTAP as shares storage in Manila.

Change-Id: I1ee6dce8d50c6957594eb6b418c1b0b945502b75
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/13/778913/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/wallaby/approved/manila-netapp.rst'],1,c4822372bbbfcacf3c2b6b70480a81ddc6b164f8,manila-netapp,".. Copyright 2021 Canonical Ltd. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. This template should be in ReSTructured text. Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: ""None"". For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, see http://www.tele3.cz/jbar/rest/rest.html =========================================== NetApp Data ONTAP as Manila storage backend =========================================== The existing Manila NetApp Clustered Data ONTAP driver should be used to configure the shares storage backend. Problem Description =================== There isn't any backend configuration charm that relates to the principal Manila charm, and configures the NetApp storage backend. Proposed Change =============== A new subordinate charm that relates to the Manila principal charm, and sends the proper NetApp Data ONTAP backend configuration. The new charm is backend configuration charm that allows relevant config options to connect to an already deployed NetApp Data ONTAP cluster. The config options need to suffice the Manila backend configuration. Alternatives ------------ None Implementation ============== Assignee(s) ----------- Primary assignee: ionutbalutoiu Gerrit Topic ------------ Use Gerrit topic ""manila-netapp"" for all the patches related to this spec. .. code-block:: bash git-review -t manila-netapp Work Items ---------- - manila-netapp - Brand new subordinate charm that implements the ``manila-plugin`` interface, and it relates to the principal Manila charm. The charm is responsible to do the appropriate backend configuration to have NetApp Data ONTAP as Manila shares storage. Repositories ------------ - openstack/charm-manila-netapp Documentation ------------- This change will require new documentation to the charm-guide, in addition to new charm documentation. Security -------- The Manila NetApp driver needs the admin credentials to manage the external storage cluster. These credentials will be stored in the charm config, and they will be part of the Manila backend configuration. Testing ------- Unit tests will be added to cover the new charm functionality. New functional tests will be added to validate the new charm, including end-to-end testing of the entire solution. Dependencies ============ The packages that are required for this work are already included in the Ubuntu archives. There are no other new, external dependencies. ",,101,0
openstack%2Fnova~master~Ifb5588126ac571fe7825f551d3a3dae63cdf6f7a,openstack/nova,master,Ifb5588126ac571fe7825f551d3a3dae63cdf6f7a,docs: Add releases to libvirt distro support matrix,MERGED,2021-05-20 16:35:49.000000000,2021-06-11 14:42:29.000000000,2021-06-11 14:40:22.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 16:35:49.000000000', 'files': ['doc/source/reference/libvirt-distro-support-matrix.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/d0b8028b5152875162b399c06a53e5b8eb46a5ee', 'message': 'docs: Add releases to libvirt distro support matrix\n\nThis change adds Fedora 34, RHEL 8.4, SUSE Leap 15.3 and Ubuntu 21.04.\n\nChange-Id: Ifb5588126ac571fe7825f551d3a3dae63cdf6f7a\n'}]",0,792415,d0b8028b5152875162b399c06a53e5b8eb46a5ee,10,3,1,10135,,,0,"docs: Add releases to libvirt distro support matrix

This change adds Fedora 34, RHEL 8.4, SUSE Leap 15.3 and Ubuntu 21.04.

Change-Id: Ifb5588126ac571fe7825f551d3a3dae63cdf6f7a
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/792415/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/libvirt-distro-support-matrix.rst'],1,d0b8028b5152875162b399c06a53e5b8eb46a5ee,, * - 34 - 2021-04-27 - 7.0.0 - 5.2.0 - 1.45.4 - 2020-07-02 * - Leap 15.3 - 2021-06-02 (scheduled) - 7.2.0 - 6.0.0 - 1.44.1 * - 8.4 - 2021-05-18 - 7.0.0-8 - 5.2.0-10 - 1.44.0-2 - 5.4.0 * - 20.04 (Focal Fossa LTS) * - 21.04 (Hirsute Hippo) - 2021-04-22 - 7.0.0 - 5.2 - 1.44.1, - 2020-07-02 (scheduled) - 5.4 * - 20.04 (Focal Fossa),23,3
openstack%2Fcharm-ceph-radosgw~master~I5b42c34882b46e96f4cc92d91ec441a4bdfd76f6,openstack/charm-ceph-radosgw,master,I5b42c34882b46e96f4cc92d91ec441a4bdfd76f6,Enable object versioning for a container,MERGED,2021-01-15 00:21:53.000000000,2021-06-11 14:41:29.000000000,2021-06-11 14:41:29.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-15 00:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/e9aeeda25f594b41914efc49457342f7490aab93', 'message': 'Enable object versioning for a container\n\nThis patch adds the config option rgw-swift-versioning-enabled boolean that enables swift versioning for the ceph-backed storage solution.  This uses X-Versions-Location as it is the only header that radosgw interprets.\n\ncloses-bug: #1910679\nChange-Id: I5b42c34882b46e96f4cc92d91ec441a4bdfd76f6\n'}, {'number': 2, 'created': '2021-01-15 00:36:34.000000000', 'files': ['unit_tests/test_ceph_radosgw_context.py', 'hooks/ceph_radosgw_context.py', 'templates/ceph.conf', 'config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/72a7184dc5b14bd6c1eb6690406ae24a76c809d0', 'message': 'Enable object versioning for a container\n\nThis patch adds the config option rgw-swift-versioning-enabled boolean that enables swift versioning for the ceph-backed storage solution.  This uses X-Versions-Location as it is the only header that radosgw interprets.\n\ncloses-bug: #1910679\nChange-Id: I5b42c34882b46e96f4cc92d91ec441a4bdfd76f6\n'}]",0,770876,72a7184dc5b14bd6c1eb6690406ae24a76c809d0,17,3,2,32643,,,0,"Enable object versioning for a container

This patch adds the config option rgw-swift-versioning-enabled boolean that enables swift versioning for the ceph-backed storage solution.  This uses X-Versions-Location as it is the only header that radosgw interprets.

closes-bug: #1910679
Change-Id: I5b42c34882b46e96f4cc92d91ec441a4bdfd76f6
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/76/770876/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_ceph_radosgw_context.py', 'hooks/ceph_radosgw_context.py', 'templates/ceph.conf', 'config.yaml']",4,e9aeeda25f594b41914efc49457342f7490aab93,bug/1910679," rgw-swift-versioning-enabled: type: boolean default: False description: | If True, swift object versioning will be enabled for radosgw. NOTE: X-Versions-Location is the only versioning-related header that radosgw interprets. X-History-Location, supported by native OpenStack Swift, is currently not supported by radosgw.",,15,0
openstack%2Fcharm-nova-compute~master~I222a119199ada82186e2058402a31a40baf7fd7b,openstack/charm-nova-compute,master,I222a119199ada82186e2058402a31a40baf7fd7b,Add 'virsh-audit' action in nova-compute,MERGED,2020-12-10 08:27:08.000000000,2021-06-11 14:36:41.000000000,2021-06-11 14:36:41.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-10 08:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/ee0d8e5a3b8d8554da86c84d605f9640f03ffef3', 'message': ""  Add 'virsh-audit' action in nova-compute to list instances as virsh sees them on the node (virsh list --all), sometimes this disagrees with what nova thinks\n\n  Closes-Bug: #1907409\n  func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/471\n\nChange-Id: I222a119199ada82186e2058402a31a40baf7fd7b\n""}, {'number': 2, 'created': '2020-12-10 22:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/02ca6d5a6faf444a71421626f0ae3e4a07957ed8', 'message': ""  Add 'virsh-audit' action in nova-compute to list instances as virsh sees them on the node (virsh list --all), sometimes this disagrees with what nova thinks\n  Updated copyright\n\n  Closes-Bug: #1907409\n  func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/471\n\nChange-Id: I222a119199ada82186e2058402a31a40baf7fd7b\n""}, {'number': 3, 'created': '2020-12-10 23:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/8936da7b9ba41bfa6407eb6a4ab8d68482d451ce', 'message': ""  Add 'virsh-audit' action in nova-compute to list instances as virsh sees them on the node (virsh list --all), sometimes this disagrees with what nova thinks\n  Update copyright\n  Add new zaza test class\n\n  Closes-Bug: #1907409\n  func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/472\n\nChange-Id: I222a119199ada82186e2058402a31a40baf7fd7b\n""}, {'number': 4, 'created': '2020-12-14 23:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/95b97294ce970c38f5138de7048976a43b0a41da', 'message': '  Add \'virsh-audit\' action in nova-compute to\n  list instances as virsh sees them on the\n  node (virsh list --all), sometimes this\n  disagrees with what nova thinks\n\n  Add a new zaza functional test class to\n  avoid breaking the older versions\n\n  To run the action, issue command:\n  $ juju run-action nova-compute/0 virsh-audit --wait\n  unit-nova-compute-0:\n  UnitId: nova-compute/0\n  id: ""134""\n  results:\n    virsh-domains: |2+\n       Id   Name                State\n      -----------------------------------\n       1    instance-00000001   running\n       2    instance-00000002   running\n  status: completed\n  timing:\n    completed: 2020-12-08 11:05:02 +0000 UTC\n    enqueued: 2020-12-08 11:04:58 +0000 UTC\n    started: 2020-12-08 11:05:01 +0000 UTC\n\n  Closes-Bug: #1907409\n  func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/472\n\nChange-Id: I222a119199ada82186e2058402a31a40baf7fd7b\n'}, {'number': 5, 'created': '2020-12-16 17:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/92c30fd2d1a19d66f4a4d71d834f68d7fc7b6b16', 'message': '  Add \'virsh-audit\' action in nova-compute to\n  list instances as virsh sees them on the\n  node (virsh list --all), sometimes this\n  disagrees with what nova thinks\n\n  Add a new zaza functional test class to\n  avoid breaking the older versions\n\n  To run the action, issue command:\n  $ juju run-action nova-compute/0 virsh-audit --wait\n  unit-nova-compute-0:\n  UnitId: nova-compute/0\n  id: ""134""\n  results:\n    virsh-domains: |2+\n       Id   Name                State\n      -----------------------------------\n       1    instance-00000001   running\n       2    instance-00000002   running\n  status: completed\n  timing:\n    completed: 2020-12-08 11:05:02 +0000 UTC\n    enqueued: 2020-12-08 11:04:58 +0000 UTC\n    started: 2020-12-08 11:05:01 +0000 UTC\n\n  Closes-Bug: #1907409\n  func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/472\n\nChange-Id: I222a119199ada82186e2058402a31a40baf7fd7b\n'}, {'number': 6, 'created': '2020-12-16 21:38:08.000000000', 'files': ['tests/tests.yaml', 'actions/virsh-audit', 'unit_tests/test_actions_virsh_audit.py', 'actions/virshaudit.py', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/98fba99b34518c92b5a314a2874226d9f8591314', 'message': '  Add \'virsh-audit\' action in nova-compute\n\n  This new action to list instances as\n  virsh sees them on the node (virsh\n  list --all), sometimes this disagrees\n  with what nova thinks\n\n  Add a new zaza functional test class to\n  avoid breaking the older versions\n\n  To run the action, issue command:\n  $ juju run-action nova-compute/0 virsh-audit --wait\n  unit-nova-compute-0:\n  UnitId: nova-compute/0\n  id: ""134""\n  results:\n    virsh-domains: |2+\n       Id   Name                State\n      -----------------------------------\n       1    instance-00000001   running\n       2    instance-00000002   running\n  status: completed\n  timing:\n    completed: 2020-12-08 11:05:02 +0000 UTC\n    enqueued: 2020-12-08 11:04:58 +0000 UTC\n    started: 2020-12-08 11:05:01 +0000 UTC\n\n  Closes-Bug: #1907409\n  func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/472\n\nChange-Id: I222a119199ada82186e2058402a31a40baf7fd7b\n'}]",3,766412,98fba99b34518c92b5a314a2874226d9f8591314,25,4,6,32578,,,0,"  Add 'virsh-audit' action in nova-compute

  This new action to list instances as
  virsh sees them on the node (virsh
  list --all), sometimes this disagrees
  with what nova thinks

  Add a new zaza functional test class to
  avoid breaking the older versions

  To run the action, issue command:
  $ juju run-action nova-compute/0 virsh-audit --wait
  unit-nova-compute-0:
  UnitId: nova-compute/0
  id: ""134""
  results:
    virsh-domains: |2+
       Id   Name                State
      -----------------------------------
       1    instance-00000001   running
       2    instance-00000002   running
  status: completed
  timing:
    completed: 2020-12-08 11:05:02 +0000 UTC
    enqueued: 2020-12-08 11:04:58 +0000 UTC
    started: 2020-12-08 11:05:01 +0000 UTC

  Closes-Bug: #1907409
  func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/472

Change-Id: I222a119199ada82186e2058402a31a40baf7fd7b
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/12/766412/6 && git format-patch -1 --stdout FETCH_HEAD,"['actions/virsh-audit', 'unit_tests/test_actions_virsh_audit.py', 'actions/virshaudit.py', 'actions.yaml']",4,ee0d8e5a3b8d8554da86c84d605f9640f03ffef3,bug/1907409,virsh-audit: description: List all domains as virsh sees on the compute node,,94,0
openstack%2Fcharm-ceph-radosgw~master~I99ee073206c7fad4897bf7b7bb767cf143b40d70,openstack/charm-ceph-radosgw,master,I99ee073206c7fad4897bf7b7bb767cf143b40d70,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-03 20:34:09.000000000,2021-06-11 14:21:17.000000000,2021-06-11 14:21:17.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-03 20:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/4648374363147948a6ac14683eebb61ee7817841', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I99ee073206c7fad4897bf7b7bb767cf143b40d70\n'}, {'number': 2, 'created': '2021-03-06 15:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/18310a9647e0f401566b834c4843419c1d8f4bc7', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I99ee073206c7fad4897bf7b7bb767cf143b40d70\n'}, {'number': 3, 'created': '2021-03-30 11:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/e5d95e576c594cb32a9bbac02cccc32771d099de', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nSync libraries\n\nChange-Id: I99ee073206c7fad4897bf7b7bb767cf143b40d70\n'}, {'number': 4, 'created': '2021-04-07 13:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/e9e4841082e7792f971f9b717e8a49b6a60c39f0', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nSync libraries\n\nChange-Id: I99ee073206c7fad4897bf7b7bb767cf143b40d70\n'}, {'number': 5, 'created': '2021-04-16 09:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/2197d15b2af5569ccee2ef494b8fe65081ad9e78', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nSync libraries\n\nhisute-wallaby test is disabled (moved to dev) due to [1] as bundle may\nreference a reactive charm.\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I99ee073206c7fad4897bf7b7bb767cf143b40d70\n'}, {'number': 6, 'created': '2021-05-06 10:10:37.000000000', 'files': ['tests/tests.yaml', 'osci.yaml', 'tests/bundles/focal-wallaby-namespaced.yaml', 'tests/bundles/hirsute-wallaby-namespaced.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/096b665fecdc5c325b28de9623503a6160eb75ed', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nSync libraries\n\nhisute-wallaby test is disabled (moved to dev) due to [1] as bundle may\nreference a reactive charm.\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I99ee073206c7fad4897bf7b7bb767cf143b40d70\n'}]",0,778574,096b665fecdc5c325b28de9623503a6160eb75ed,35,3,6,20870,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

Sync libraries

hisute-wallaby test is disabled (moved to dev) due to [1] as bundle may
reference a reactive charm.

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I99ee073206c7fad4897bf7b7bb767cf143b40d70
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/74/778574/6 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'tests/bundles/focal-wallaby-namespaced.yaml', 'tests/bundles/hirsute-wallaby-namespaced.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml']",5,4648374363147948a6ac14683eebb61ee7817841,wallaby-bundles,"options: source: &source cloud:focal-wallaby series: focal comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': '5': '6': '7': '8': '9': '10': '11': applications: keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *source to: - '0' - '1' - '2' ceph-radosgw: charm: ceph-radosgw num_units: 1 options: source: *source to: - '3' ceph-osd: charm: cs:~openstack-charmers-next/ceph-osd num_units: 3 constraints: ""mem=2048"" storage: osd-devices: 'cinder,10G' options: source: *source osd-devices: '/srv/ceph /dev/test-non-existent' to: - '4' - '5' - '6' ceph-mon: charm: cs:~openstack-charmers-next/ceph-mon num_units: 3 options: source: *source to: - '7' - '8' - '9' keystone: expose: True charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *source to: - '10' vault-mysql-router: charm: cs:~openstack-charmers-next/mysql-router vault: charm: cs:~openstack-charmers-next/vault num_units: 1 to: - '11' relations: - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'ceph-osd:mon' - 'ceph-mon:osd' - - 'ceph-radosgw:mon' - 'ceph-mon:radosgw' - - 'ceph-radosgw:identity-service' - 'keystone:identity-service' - - 'vault-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'vault:shared-db' - 'vault-mysql-router:shared-db' - - 'keystone:certificates' - 'vault:certificates' - - 'ceph-radosgw:certificates' - 'vault:certificates' ",,473,3
openstack%2Fcharm-neutron-gateway~master~I76232b791b7b4c64e903696dd2903d9196af5eb4,openstack/charm-neutron-gateway,master,I76232b791b7b4c64e903696dd2903d9196af5eb4,setup.cfg: Replace dashes with underscores,MERGED,2021-05-04 07:45:28.000000000,2021-06-11 14:06:50.000000000,2021-06-11 14:06:50.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-04 07:45:28.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/6ed2664d6c8499d3dc5a2a09b28c3b4f8aed4c9b', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I76232b791b7b4c64e903696dd2903d9196af5eb4\n""}]",0,789501,6ed2664d6c8499d3dc5a2a09b28c3b4f8aed4c9b,8,3,1,32326,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I76232b791b7b4c64e903696dd2903d9196af5eb4
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/01/789501/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,6ed2664d6c8499d3dc5a2a09b28c3b4f8aed4c9b,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/charm-guide/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/charm-guide/latest/,3,3
openstack%2Fironic-python-agent~stable%2Fwallaby~Ibf1ef4fe0764c0a6f1a39cb7eebc23ecc0ee177d,openstack/ironic-python-agent,stable/wallaby,Ibf1ef4fe0764c0a6f1a39cb7eebc23ecc0ee177d,Utilize CSV file for EFI loader selection,MERGED,2021-06-11 09:34:05.000000000,2021-06-11 14:06:02.000000000,2021-06-11 14:04:05.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 09:34:05.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/support-bootloader-csv-file-use-c815b520c600cd98.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/bfa97cbbc2040d56bd0db14d1e1b83bb14f1a74c', 'message': 'Utilize CSV file for EFI loader selection\n\nAdds support to identify and utilize a CSV file to signal which\nbootloader to utilize, and set it when the OS is running as opposed\nto when EFI is running. This works around EFI loader potentially\ncrashing some vendors hardware types when entry stored in the\nimage does not match the EFI loader record which was utilzied to\nboot.\n\nGrub2+shim specifically specifically needs the CSV file name\nand entry label to match what the system was booted with in order\nto prevent the machine from potentially crashing.\n\nSee https://storyboard.openstack.org/#!/story/2008962\nand https://bugzilla.redhat.com/show_bug.cgi?id=1966129#c37\nfor more information.\n\nChange-Id: Ibf1ef4fe0764c0a6f1a39cb7eebc23ecc0ee177d\nStory: 2008962\nTask: 42598\nCo-Authored-By: Bob Fournier <bfournie@redhat.com>\n(cherry picked from commit 2fab70c36ba40a345a9dd01aeb5019681e567aa5)\n'}]",0,795965,bfa97cbbc2040d56bd0db14d1e1b83bb14f1a74c,8,4,1,23851,,,0,"Utilize CSV file for EFI loader selection

Adds support to identify and utilize a CSV file to signal which
bootloader to utilize, and set it when the OS is running as opposed
to when EFI is running. This works around EFI loader potentially
crashing some vendors hardware types when entry stored in the
image does not match the EFI loader record which was utilzied to
boot.

Grub2+shim specifically specifically needs the CSV file name
and entry label to match what the system was booted with in order
to prevent the machine from potentially crashing.

See https://storyboard.openstack.org/#!/story/2008962
and https://bugzilla.redhat.com/show_bug.cgi?id=1966129#c37
for more information.

Change-Id: Ibf1ef4fe0764c0a6f1a39cb7eebc23ecc0ee177d
Story: 2008962
Task: 42598
Co-Authored-By: Bob Fournier <bfournie@redhat.com>
(cherry picked from commit 2fab70c36ba40a345a9dd01aeb5019681e567aa5)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/65/795965/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/support-bootloader-csv-file-use-c815b520c600cd98.yaml']",3,bfa97cbbc2040d56bd0db14d1e1b83bb14f1a74c,story/2008923-stable/wallaby,"--- features: - | Adds the capability into the agent to read and act upon bootloader CSV files which serve as authoritative indicators of what bootloader to load instead of leaning towards utilizing the default. fixes: - | Fixes nodes failing after deployment completes due to issues in the Grub2 EFI loader entry addition where a ``BOOT.CSV`` file provides the authoritative pointer to the bootloader to be used for booting the OS. The base issue with Grub2 is that it would update the UEFI bootloader NVRAM entries with whatever is present in a vendor specific ``BOOT.CSV`` or ``BOOTX64.CSV`` file. In some cases, a baremetal machine *can* crash when this occurs. More information can be found at `story 2008962 <https://storyboard.openstack.org/#!/story/2008962>`_. issues: - | If multiple bootloader CSV files are present on the EFI filesystem, the first CSV file discovered will be utilized. The Ironic team considers multiple files to be a defect in the image being deployed. This may be changed in the future. ",,137,14
openstack%2Fironic-python-agent~stable%2Fwallaby~Ibe02786609aa0de65115897d8f4a9b4f36c8aed2,openstack/ironic-python-agent,stable/wallaby,Ibe02786609aa0de65115897d8f4a9b4f36c8aed2,Make _get_efi_bootloaders return relative paths,MERGED,2021-06-11 09:30:29.000000000,2021-06-11 13:59:32.000000000,2021-06-11 13:58:03.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 09:30:29.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d61b7bd843fa821ce383b15dcb2085789972c91f', 'message': 'Make _get_efi_bootloaders return relative paths\n\nTo make this function useful for purposes other than efibootmgr\nentries, this change moves the path manipulation to _run_efibootmgr.\n\nThis change also adds boot*.efi entries to BOOTLOADERS_EFI so that it\nincludes every entry in the UEFI Spec 2.9[1] Table 3-2 UEFI Image\nTypes.\n\n[1] https://uefi.org/sites/default/files/resources/UEFI_Spec_2_9_2021_03_18.pdf\nStory: 2008923\nTask: 42521\n\nChange-Id: Ibe02786609aa0de65115897d8f4a9b4f36c8aed2\n(cherry picked from commit 10d18c41136cc645ee99d41acfb6031b9158e1fb)\n'}]",0,795883,d61b7bd843fa821ce383b15dcb2085789972c91f,8,4,1,23851,,,0,"Make _get_efi_bootloaders return relative paths

To make this function useful for purposes other than efibootmgr
entries, this change moves the path manipulation to _run_efibootmgr.

This change also adds boot*.efi entries to BOOTLOADERS_EFI so that it
includes every entry in the UEFI Spec 2.9[1] Table 3-2 UEFI Image
Types.

[1] https://uefi.org/sites/default/files/resources/UEFI_Spec_2_9_2021_03_18.pdf
Story: 2008923
Task: 42521

Change-Id: Ibe02786609aa0de65115897d8f4a9b4f36c8aed2
(cherry picked from commit 10d18c41136cc645ee99d41acfb6031b9158e1fb)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/83/795883/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py']",2,d61b7bd843fa821ce383b15dcb2085789972c91f,story/2008923-stable/wallaby,"BOOTLOADERS_EFI = [ 'bootia32.efi', 'bootx64.efi', 'bootia64.efi', 'bootarm.efi', 'bootaa64.efi', 'bootriscv32.efi', 'bootriscv64.efi', 'bootriscv128.efi', 'grubaa64.efi', 'winload.efi' ] :return: a list of relative paths to valid efi bootloaders v_bl = efi_f.split(location)[-1][1:] for v_bl in valid_efi_bootloaders: v_efi_bl_path = '\\' + v_bl.replace('/', '\\')","BOOTLOADERS_EFI = ['bootaa64.efi', 'bootx64.efi', 'grubaa64.efi', 'winload.efi'] :return: a list of valid efi bootloaders v_bl = efi_f.split('/boot/efi')[-1].replace('/', '\\') for v_efi_bl_path in valid_efi_bootloaders:",27,17
openstack%2Fneutron~stable%2Fvictoria~If19a6a9b0f2910baefba9d7ea9955b1f0ad7d252,openstack/neutron,stable/victoria,If19a6a9b0f2910baefba9d7ea9955b1f0ad7d252,Make phynet paramter also is optional when network_segment_range enabled,MERGED,2021-06-08 11:25:19.000000000,2021-06-11 13:35:20.000000000,2021-06-11 13:33:48.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 11:25:19.000000000', 'files': ['neutron/tests/unit/objects/test_network_segment_range.py', 'neutron/objects/network_segment_range.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/29857aa6b08359ca76444b601e526c2217c7014a', 'message': 'Make phynet paramter also is optional when network_segment_range enabled\n\nWhen network_segment_range plugin is not enabled, we can create a provider\nnetwork without physical_network parameter. In order to compatibility,\nWe should support to not provide physical_network parameter when create\nprovider network with network_segment_range plugin enabled.\n\nCloses-Bug: #1914842\nChange-Id: If19a6a9b0f2910baefba9d7ea9955b1f0ad7d252\n(cherry picked from commit fa7c7282f019d3e0dd4d492f5ff2c47bd45b0ce7)\n'}]",0,795278,29857aa6b08359ca76444b601e526c2217c7014a,23,4,1,28329,,,0,"Make phynet paramter also is optional when network_segment_range enabled

When network_segment_range plugin is not enabled, we can create a provider
network without physical_network parameter. In order to compatibility,
We should support to not provide physical_network parameter when create
provider network with network_segment_range plugin enabled.

Closes-Bug: #1914842
Change-Id: If19a6a9b0f2910baefba9d7ea9955b1f0ad7d252
(cherry picked from commit fa7c7282f019d3e0dd4d492f5ff2c47bd45b0ce7)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/795278/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/objects/test_network_segment_range.py', 'neutron/objects/network_segment_range.py']",2,29857aa6b08359ca76444b601e526c2217c7014a,bug/1914842-stable/victoria, if (network_type == constants.TYPE_VLAN and 'physical_network' in _filters): if (network_type == constants.TYPE_VLAN and 'physical_network' in _filters):, if network_type == constants.TYPE_VLAN: if network_type == constants.TYPE_VLAN:,80,4
openstack%2Fnetworking-bgpvpn~master~I5e5fb7f73ff4b9812a468d8aa528addd3247f45c,openstack/networking-bgpvpn,master,I5e5fb7f73ff4b9812a468d8aa528addd3247f45c,use payloads for ROUTER_INTERFACE events,MERGED,2019-02-27 21:20:30.000000000,2021-06-11 13:31:14.000000000,2021-06-11 13:29:51.000000000,"[{'_account_id': 841}, {'_account_id': 5367}, {'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 13861}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-27 21:20:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/6d7cffc2303e28f0aa924e9563ef7b01849cb993', 'message': 'use payloads for ROUTER_INTERFACE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor ROUTER_INTERFACE events for those that are not using them yet.\n\nDepends-On: https://review.openstack.org/#/c/639814/\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I5e5fb7f73ff4b9812a468d8aa528addd3247f45c\n'}, {'number': 2, 'created': '2019-03-06 15:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/1c2de9208d980438c9cb200409f8e4995bd3937b', 'message': 'use payloads for ROUTER_INTERFACE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor ROUTER_INTERFACE events for those that are not using them yet.\n\nDepends-On: https://review.openstack.org/#/c/639814/\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I5e5fb7f73ff4b9812a468d8aa528addd3247f45c\n'}, {'number': 3, 'created': '2019-04-24 14:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/d9dc7240c689cf4dd7e1c34c47cd2130301d167a', 'message': 'use payloads for ROUTER_INTERFACE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor ROUTER_INTERFACE events for those that are not using them yet.\n\nDepends-On: https://review.opendev.org/#/c/639814/\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I5e5fb7f73ff4b9812a468d8aa528addd3247f45c\n'}, {'number': 4, 'created': '2019-06-04 19:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/8a1c6349062ac95666552be1d945674755e9118d', 'message': 'use payloads for ROUTER_INTERFACE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor ROUTER_INTERFACE events for those that are not using them yet.\n\nDepends-On: https://review.opendev.org/#/c/639814/\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I5e5fb7f73ff4b9812a468d8aa528addd3247f45c\n'}, {'number': 5, 'created': '2019-07-01 17:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/a3ed716b4c305ae30cb9ff73729e678c8d394173', 'message': 'use payloads for ROUTER_INTERFACE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor ROUTER_INTERFACE events for those that are not using them yet.\n\nDepends-On: https://review.opendev.org/#/c/639814/\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I5e5fb7f73ff4b9812a468d8aa528addd3247f45c\n'}, {'number': 6, 'created': '2021-06-01 09:24:28.000000000', 'files': ['networking_bgpvpn/neutron/services/service_drivers/bagpipe/bagpipe_v2.py', 'networking_bgpvpn/tests/unit/services/bagpipe/test_bagpipe.py', 'networking_bgpvpn/neutron/services/service_drivers/bagpipe/bagpipe.py', 'networking_bgpvpn/neutron/services/plugin.py'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/5f7a129dbb30b5bd9af27653e66749a9d8888c5a', 'message': 'use payloads for ROUTER_INTERFACE events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor ROUTER_INTERFACE events for those that are not using them yet.\n\nDepends-On: https://review.opendev.org/#/c/639814/\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I5e5fb7f73ff4b9812a468d8aa528addd3247f45c\n'}]",3,639834,5f7a129dbb30b5bd9af27653e66749a9d8888c5a,28,8,6,5367,,,0,"use payloads for ROUTER_INTERFACE events

This patch switches the code over to the payload style of callbacks [1]
for ROUTER_INTERFACE events for those that are not using them yet.

Depends-On: https://review.opendev.org/#/c/639814/

[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html

Change-Id: I5e5fb7f73ff4b9812a468d8aa528addd3247f45c
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/34/639834/6 && git format-patch -1 --stdout FETCH_HEAD,"['networking_bgpvpn/neutron/services/service_drivers/bagpipe/bagpipe_v2.py', 'networking_bgpvpn/tests/unit/services/bagpipe/test_bagpipe.py', 'networking_bgpvpn/neutron/services/service_drivers/bagpipe/bagpipe.py', 'networking_bgpvpn/neutron/services/plugin.py']",4,6d7cffc2303e28f0aa924e9563ef7b01849cb993,use-callback-payloads, payload): context = payload.context network_id = payload.metadata.get('network_id') router_id = payload.resource_id, **kwargs): context = kwargs.get('context') network_id = kwargs.get('network_id') router_id = kwargs.get('router_id'),28,22
openstack%2Fpuppet-ovn~stable%2Fvictoria~I6d8850d7dc0a2a36fc36785db5dadafc3073c42b,openstack/puppet-ovn,stable/victoria,I6d8850d7dc0a2a36fc36785db5dadafc3073c42b,Prepare a new release for victoria,MERGED,2021-06-11 06:29:27.000000000,2021-06-11 13:20:37.000000000,2021-06-11 13:20:37.000000000,"[{'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 06:29:27.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/406ecb3dcdd5dedb145fe8a238721d92a88b6745', 'message': 'Prepare a new release for victoria\n\nSince last release there is new param added for\novn::controller which is needed by last puppet-tripleo\nrelease in victoria[1][2].\n\n[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/782770\n[2] https://review.opendev.org/c/openstack/releases/+/794251\n\nChange-Id: I6d8850d7dc0a2a36fc36785db5dadafc3073c42b\n'}]",0,795927,406ecb3dcdd5dedb145fe8a238721d92a88b6745,7,6,1,13861,,,0,"Prepare a new release for victoria

Since last release there is new param added for
ovn::controller which is needed by last puppet-tripleo
release in victoria[1][2].

[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/782770
[2] https://review.opendev.org/c/openstack/releases/+/794251

Change-Id: I6d8850d7dc0a2a36fc36785db5dadafc3073c42b
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/27/795927/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,406ecb3dcdd5dedb145fe8a238721d92a88b6745,," ""version"": ""17.5.0"""," ""version"": ""17.4.0""",1,1
openstack%2Fvalidations-libs~master~Id31a7ce2dfc4d9a132fea7d600e8beb8adc0739b,openstack/validations-libs,master,Id31a7ce2dfc4d9a132fea7d600e8beb8adc0739b,New optional param for log path,MERGED,2021-05-05 09:48:26.000000000,2021-06-11 13:00:19.000000000,2021-06-11 12:58:42.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-05 09:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/0336e45bea5d7184d0c6b94b580707e0767afaf7', 'message': 'New optional param for log path\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id31a7ce2dfc4d9a132fea7d600e8beb8adc0739b\n'}, {'number': 2, 'created': '2021-05-06 09:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/e2d11be6771f9806e731dcd91ca4878d260e8f76', 'message': 'New optional param for log path\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id31a7ce2dfc4d9a132fea7d600e8beb8adc0739b\n'}, {'number': 3, 'created': '2021-05-06 14:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/2e3b5bd6fcae43728736c1566dc530217dac50cd', 'message': 'New optional param for log path\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id31a7ce2dfc4d9a132fea7d600e8beb8adc0739b\n'}, {'number': 4, 'created': '2021-05-07 06:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/abdadd075fca6478ae26bc19c18b4d5332ed9ed4', 'message': 'New optional param for log path\n\nAs we now have a mechanism for falling back to\na default directory for logs and artifacts, we can allow\nthe customers to specify their own.\n\nThis patch add the argument to the CLI along with\nminimum necessary information about the usage.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id31a7ce2dfc4d9a132fea7d600e8beb8adc0739b\n'}, {'number': 5, 'created': '2021-05-07 06:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/bbe0bfd058e6264c8038ae8f25f91506d1a6afeb', 'message': 'New optional param for log path\n\nAs we now have a mechanism for falling back to\na default directory for logs and artifacts, we can allow\nthe customers to specify their own.\n\nThis patch add the argument to the CLI along with\nminimum necessary information about the usage.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id31a7ce2dfc4d9a132fea7d600e8beb8adc0739b\n'}, {'number': 6, 'created': '2021-05-10 11:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/15f5943d08eace5e0d69feea7b8184844af7d2d1', 'message': 'New optional param for log path\n\nAs we now have a mechanism for falling back to\na default directory for logs and artifacts, we can allow\nthe customers to specify their own.\n\nThis patch add the argument to the CLI along with\nminimum necessary information about the usage.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id31a7ce2dfc4d9a132fea7d600e8beb8adc0739b\n'}, {'number': 7, 'created': '2021-05-10 14:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/394b19211bfd2b9d2c55d0b7858f33a2da3a0971', 'message': 'New optional param for log path\n\nAs we now have a mechanism for falling back to\na default directory for logs and artifacts, we can allow\nthe customers to specify their own.\n\nThis patch add the argument to the CLI along with\nminimum necessary information about the usage.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id31a7ce2dfc4d9a132fea7d600e8beb8adc0739b\n'}, {'number': 8, 'created': '2021-05-17 05:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/cf7cf888fe8e7b3ad91502d98fe0e42433225e53', 'message': 'New optional param for log path\n\nAs we now have a mechanism for falling back to\na default directory for logs and artifacts, we can allow\nthe customers to specify their own.\n\nThis patch add the argument to the CLI along with\nminimum necessary information about the usage.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id31a7ce2dfc4d9a132fea7d600e8beb8adc0739b\n'}, {'number': 9, 'created': '2021-05-20 05:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/a2f4b54cea0ec3bd34e607be9a7a404ab3471540', 'message': 'New optional param for log path\n\nAs we now have a mechanism for falling back to\na default directory for logs and artifacts, we can allow\nthe customers to specify their own.\n\nThis patch add the argument to the CLI along with\nminimum necessary information about the usage.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id31a7ce2dfc4d9a132fea7d600e8beb8adc0739b\n'}, {'number': 10, 'created': '2021-05-20 06:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/2ad5cf3fb3c1fb3722a5cf2651d078c656b7dc0b', 'message': 'New optional param for log path\n\nAs we now have a mechanism for falling back to\na default directory for logs and artifacts, we can allow\nthe customers to specify their own.\n\nThis patch add the argument to the CLI along with\nminimum necessary information about the usage.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id31a7ce2dfc4d9a132fea7d600e8beb8adc0739b\n'}, {'number': 11, 'created': '2021-05-31 08:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/0af7465f0404146cd365f739c29b43a697defab9', 'message': 'New optional param for log path\n\nAs we now have a mechanism for falling back to\na default directory for logs and artifacts, we can allow\nthe customers to specify their own.\n\nThis patch add the argument to the CLI along with\nminimum necessary information about the usage.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id31a7ce2dfc4d9a132fea7d600e8beb8adc0739b\n'}, {'number': 12, 'created': '2021-06-03 12:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/7876cab41586157a1b5e8fd426deb16d79567a52', 'message': 'New optional param for log path\n\nAs we now have a mechanism for falling back to\na default directory for logs and artifacts, we can allow\nthe customers to specify their own.\n\nThis patch add the argument to the CLI along with\nminimum necessary information about the usage.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id31a7ce2dfc4d9a132fea7d600e8beb8adc0739b\n'}, {'number': 13, 'created': '2021-06-03 12:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/697845783f5d89d884ce790a1c937ca57eb9c0a7', 'message': 'New optional param for log path\n\nAs we now have a mechanism for falling back to\na default directory for logs and artifacts, we can allow\nthe customers to specify their own.\n\nThis patch add the argument to the CLI along with\nminimum necessary information about the usage.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id31a7ce2dfc4d9a132fea7d600e8beb8adc0739b\n(cherry picked from commit 7876cab41586157a1b5e8fd426deb16d79567a52)\n'}, {'number': 14, 'created': '2021-06-03 12:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/91ce4a064eb52a54d86ba2f1d728060a964f26ce', 'message': 'New optional param for log path\n\nAs we now have a mechanism for falling back to\na default directory for logs and artifacts, we can allow\nthe customers to specify their own.\n\nThis patch add the argument to the CLI along with\nminimum necessary information about the usage.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id31a7ce2dfc4d9a132fea7d600e8beb8adc0739b\n(cherry picked from commit 7876cab41586157a1b5e8fd426deb16d79567a52)\n'}, {'number': 15, 'created': '2021-06-03 12:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/19dd003bb3f157b5d015b9c2d55f072b8634d9ae', 'message': 'New optional param for log path\n\nAs we now have a mechanism for falling back to\na default directory for logs and artifacts, we can allow\nthe customers to specify their own.\n\nThis patch add the argument to the CLI along with\nminimum necessary information about the usage.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id31a7ce2dfc4d9a132fea7d600e8beb8adc0739b\n(cherry picked from commit 7876cab41586157a1b5e8fd426deb16d79567a52)\n'}, {'number': 16, 'created': '2021-06-03 13:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/f5ca81e8c3ab5319931addb7d84d4ba8be33507d', 'message': 'New optional param for log path\n\nAs we now have a mechanism for falling back to\na default directory for logs and artifacts, we can allow\nthe customers to specify their own.\n\nThis patch add the argument to the CLI along with\nminimum necessary information about the usage.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id31a7ce2dfc4d9a132fea7d600e8beb8adc0739b\n(cherry picked from commit 7876cab41586157a1b5e8fd426deb16d79567a52)\n'}, {'number': 17, 'created': '2021-06-04 12:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/6314a829be4632874e6f103353c38aa11b017feb', 'message': 'New optional param for log path\n\nAs we now have a mechanism for falling back to\na default directory for logs and artifacts, we can allow\nthe customers to specify their own.\n\nThis patch add the argument to the CLI along with\nminimum necessary information about the usage.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id31a7ce2dfc4d9a132fea7d600e8beb8adc0739b\n(cherry picked from commit 7876cab41586157a1b5e8fd426deb16d79567a52)\n'}, {'number': 18, 'created': '2021-06-09 09:15:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/683d9f00bd6c0faff106d0279c5fb485df285122', 'message': 'New optional param for log path\n\nAs we now have a mechanism for falling back to\na default directory for logs and artifacts, we can allow\nthe customers to specify their own.\n\nThis patch add the argument to the CLI along with\nminimum necessary information about the usage.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id31a7ce2dfc4d9a132fea7d600e8beb8adc0739b\n(cherry picked from commit 7876cab41586157a1b5e8fd426deb16d79567a52)\n'}, {'number': 19, 'created': '2021-06-09 10:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/cf02e464ba2cddbcb176b34938bd5f7e4a743850', 'message': 'New optional param for log path\n\nAs we now have a mechanism for falling back to\na default directory for logs and artifacts, we can allow\nthe customers to specify their own.\n\nThis patch add the argument to the CLI along with\nminimum necessary information about the usage.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id31a7ce2dfc4d9a132fea7d600e8beb8adc0739b\n(cherry picked from commit 7876cab41586157a1b5e8fd426deb16d79567a52)\n'}, {'number': 20, 'created': '2021-06-10 06:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/2c6f5b4f32addeb0adb770a09772c1d0314deeb8', 'message': 'New optional param for log path\n\nAs we now have a mechanism for falling back to\na default directory for logs and artifacts, we can allow\nthe customers to specify their own.\n\nThis patch add the argument to the CLI along with\nminimum necessary information about the usage.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id31a7ce2dfc4d9a132fea7d600e8beb8adc0739b\n(cherry picked from commit 7876cab41586157a1b5e8fd426deb16d79567a52)\n'}, {'number': 21, 'created': '2021-06-10 09:26:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/a24fb5dc2ecb086c5ed3642f1d6ea24763e1cc1d', 'message': 'New optional param for log path\n\nAs we now have a mechanism for falling back to\na default directory for logs and artifacts, we can allow\nthe customers to specify their own.\n\nThis patch add the argument to the CLI along with\nminimum necessary information about the usage.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id31a7ce2dfc4d9a132fea7d600e8beb8adc0739b\n(cherry picked from commit 7876cab41586157a1b5e8fd426deb16d79567a52)\n'}, {'number': 22, 'created': '2021-06-10 10:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/2758042556aaef1231471072abcf3e604fec360f', 'message': 'New optional param for log path\n\nAs we now have a mechanism for falling back to\na default directory for logs and artifacts, we can allow\nthe customers to specify their own.\n\nThis patch add the argument to the CLI along with\nminimum necessary information about the usage.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id31a7ce2dfc4d9a132fea7d600e8beb8adc0739b\n(cherry picked from commit 7876cab41586157a1b5e8fd426deb16d79567a52)\n'}, {'number': 23, 'created': '2021-06-10 12:07:40.000000000', 'files': ['validations_libs/cli/run.py', 'validations_libs/tests/cli/test_run.py', 'validations_libs/utils.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/4d1df7b0e75260c96164fd5a21347f5ce18c7a8b', 'message': 'New optional param for log path\n\nAs we now have a mechanism for falling back to\na default directory for logs and artifacts, we can allow\nthe customers to specify their own.\n\nThis patch add the argument to the CLI along with\nminimum necessary information about the usage.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id31a7ce2dfc4d9a132fea7d600e8beb8adc0739b\n(cherry picked from commit 7876cab41586157a1b5e8fd426deb16d79567a52)\n'}]",9,789770,4d1df7b0e75260c96164fd5a21347f5ce18c7a8b,68,8,23,32926,,,0,"New optional param for log path

As we now have a mechanism for falling back to
a default directory for logs and artifacts, we can allow
the customers to specify their own.

This patch add the argument to the CLI along with
minimum necessary information about the usage.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Id31a7ce2dfc4d9a132fea7d600e8beb8adc0739b
(cherry picked from commit 7876cab41586157a1b5e8fd426deb16d79567a52)
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/70/789770/7 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/cli/run.py', 'validations_libs/tests/cli/test_run.py']",2,0336e45bea5d7184d0c6b94b580707e0767afaf7,logpath/cli," @mock.patch('validations_libs.constants.VALIDATIONS_LOG_BASEDIR') def test_run_command_extra_vars(self, mock_run, mock_user, mock_print, mock_log_dir): 'ssh_user': 'doe', 'log_path': mock_log_dir} @mock.patch('validations_libs.constants.VALIDATIONS_LOG_BASEDIR') mock_print, mock_log_dir): 'ssh_user': 'doe', 'log_path': mock_log_dir} @mock.patch('validations_libs.constants.VALIDATIONS_LOG_BASEDIR') mock_yaml, mock_log_dir): 'ssh_user': 'doe', 'log_path': mock_log_dir} @mock.patch('validations_libs.constants.VALIDATIONS_LOG_BASEDIR') def test_run_command_extra_env_vars(self, mock_run, mock_user, mock_log_dir): 'ssh_user': 'doe', 'log_path': mock_log_dir} @mock.patch('validations_libs.constants.VALIDATIONS_LOG_BASEDIR') def test_run_command_extra_env_vars_twice(self, mock_run, mock_user, mock_log_dir): 'ssh_user': 'doe', 'log_path': mock_log_dir} @mock.patch('validations_libs.constants.VALIDATIONS_LOG_BASEDIR') def test_run_command_extra_env_vars_and_extra_vars(self, mock_run, mock_user, mock_log_dir): 'ssh_user': 'doe', 'log_path': mock_log_dir}"," def test_run_command_extra_vars(self, mock_run, mock_user, mock_print): 'ssh_user': 'doe'} mock_print): 'ssh_user': 'doe'} mock_yaml): 'ssh_user': 'doe'} def test_run_command_extra_env_vars(self, mock_run, mock_user): 'ssh_user': 'doe'} def test_run_command_extra_env_vars_twice(self, mock_run, mock_user): 'ssh_user': 'doe'} def test_run_command_extra_env_vars_and_extra_vars(self, mock_run, mock_user): 'ssh_user': 'doe'}",40,14
openstack%2Ftripleo-heat-templates~master~I6ceccf4d70c52a31598deea6fb9faabd3f4a5ee5,openstack/tripleo-heat-templates,master,I6ceccf4d70c52a31598deea6fb9faabd3f4a5ee5,Clean up leftovers of Midonet support,MERGED,2021-03-30 12:37:47.000000000,2021-06-11 12:58:46.000000000,2021-06-11 12:58:46.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-03-30 12:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/16cbbf9f9ef37dad9611fa6b27dd3a0d3f8a8aed', 'message': 'Clean up left over of Midonet support\n\nThis change drops some left items about  Midonet support, which was\nalready removed[1].\n\n[1] 91d28753936dad5f7740a75e293796b94440c660\n\nChange-Id: I6ceccf4d70c52a31598deea6fb9faabd3f4a5ee5\n'}, {'number': 2, 'created': '2021-03-30 12:38:58.000000000', 'files': ['ci/environments/scenario000-standalone.yaml', 'sample-env-generator/undercloud-minion.yaml', 'environments/undercloud/undercloud-minion.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/67d188f513c863da87d2c9c5cdd7c2143b5343be', 'message': 'Clean up leftovers of Midonet support\n\nThis change drops some leftovers of Midonet support, which was already\nremoved[1].\n\n[1] 91d28753936dad5f7740a75e293796b94440c660\n\nChange-Id: I6ceccf4d70c52a31598deea6fb9faabd3f4a5ee5\n'}]",0,783847,67d188f513c863da87d2c9c5cdd7c2143b5343be,16,8,2,9816,,,0,"Clean up leftovers of Midonet support

This change drops some leftovers of Midonet support, which was already
removed[1].

[1] 91d28753936dad5f7740a75e293796b94440c660

Change-Id: I6ceccf4d70c52a31598deea6fb9faabd3f4a5ee5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/47/783847/2 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario000-standalone.yaml', 'sample-env-generator/undercloud-minion.yaml', 'environments/undercloud/undercloud-minion.yaml']",3,16cbbf9f9ef37dad9611fa6b27dd3a0d3f8a8aed,,, OS::TripleO::Services::NeutronCorePluginMidonet: OS::Heat::None,0,3
openstack%2Fnova~master~I478c4c4af5c75de1bd832e895f39d1a010192ec9,openstack/nova,master,I478c4c4af5c75de1bd832e895f39d1a010192ec9,DNM testing tempest volume detach failure capture of console,ABANDONED,2021-06-04 09:56:42.000000000,2021-06-11 12:30:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-04 09:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f1aeb6bb6ac1472a033f7477667ce8b19d825caa', 'message': 'DNM testing tempest volume detach failure capture of console\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/794757\nChange-Id: I478c4c4af5c75de1bd832e895f39d1a010192ec9\n'}, {'number': 2, 'created': '2021-06-10 18:35:30.000000000', 'files': ['.DNM'], 'web_link': 'https://opendev.org/openstack/nova/commit/de64976ce95e66d1c0ee7e4f2a32bd91578fbfb4', 'message': 'DNM testing tempest volume detach failure capture of console\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/794757\nChange-Id: I478c4c4af5c75de1bd832e895f39d1a010192ec9\n'}]",0,794766,de64976ce95e66d1c0ee7e4f2a32bd91578fbfb4,23,1,2,10135,,,0,"DNM testing tempest volume detach failure capture of console

Depends-On: https://review.opendev.org/c/openstack/tempest/+/794757
Change-Id: I478c4c4af5c75de1bd832e895f39d1a010192ec9
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/794766/1 && git format-patch -1 --stdout FETCH_HEAD,['.DNM'],1,f1aeb6bb6ac1472a033f7477667ce8b19d825caa,,,,0,0
openstack%2Fnetworking-ovn~stable%2Ftrain~Ied81b55776d5bc004c6a9f156cb3f8724f3a706c,openstack/networking-ovn,stable/train,Ied81b55776d5bc004c6a9f156cb3f8724f3a706c,Add log for request_handler events,MERGED,2021-05-28 01:25:22.000000000,2021-06-11 12:11:55.000000000,2021-06-11 12:10:39.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-28 01:25:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a6809175fa60a6b5a0b351fe77fd5064e80c1d5a', 'message': 'Add log for request_handler events\n\nTrivialfix\n\nConflicts:\nnetworking_ovn/octavia/ovn_driver.py\n\nCloses-Bug: #1929863\nChange-Id: Ied81b55776d5bc004c6a9f156cb3f8724f3a706c\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n(cherry picked from ovn-octavia-provider commit ad6127c8869fcf625efdb4278649c261f8e88b5c)\n'}, {'number': 2, 'created': '2021-06-02 18:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a2a202c8d81293ae16c09e26d39f36b5194ee5c3', 'message': 'Add log for request_handler events\n\nTrivialfix\n\nConflicts:\nnetworking_ovn/octavia/ovn_driver.py\n\nCloses-Bug: #1929863\nChange-Id: Ied81b55776d5bc004c6a9f156cb3f8724f3a706c\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n(cherry picked from ovn-octavia-provider commit ad6127c8869fcf625efdb4278649c261f8e88b5c)\n'}, {'number': 3, 'created': '2021-06-09 20:05:02.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/aeb4e63527e2c3f5f18e5afbc45f76595a3e2dd3', 'message': 'Add log for request_handler events\n\nTrivialfix\n\nConflicts:\nnetworking_ovn/octavia/ovn_driver.py\n\nCloses-Bug: #1929863\nChange-Id: Ied81b55776d5bc004c6a9f156cb3f8724f3a706c\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n(cherry picked from ovn-octavia-provider commit 85795f88ef34b19a4065a741d8303dac6a938ea9)\n'}]",0,793524,aeb4e63527e2c3f5f18e5afbc45f76595a3e2dd3,23,6,3,11952,,,0,"Add log for request_handler events

Trivialfix

Conflicts:
networking_ovn/octavia/ovn_driver.py

Closes-Bug: #1929863
Change-Id: Ied81b55776d5bc004c6a9f156cb3f8724f3a706c
Signed-off-by: Flavio Fernandes <flaviof@redhat.com>
(cherry picked from ovn-octavia-provider commit 85795f88ef34b19a4065a741d8303dac6a938ea9)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/24/793524/3 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/octavia/ovn_driver.py'],1,a6809175fa60a6b5a0b351fe77fd5064e80c1d5a,," LOG.debug(""now handling req %(req)s with info %(info)s"", {'req': request_type, 'info': request['info']})",,2,0
openstack%2Fbifrost~bugfix%2F11.0~I96b7af2472addb879df545818a67f58ace8b2572,openstack/bifrost,bugfix/11.0,I96b7af2472addb879df545818a67f58ace8b2572,Reasonable error message if network_interface is not found,ABANDONED,2021-06-08 08:37:27.000000000,2021-06-11 12:08:00.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 08:37:27.000000000', 'files': ['playbooks/roles/bifrost-keystone-install/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/60c18bea0a11f0148c504c99f44650339a06edbc', 'message': 'Reasonable error message if network_interface is not found\n\nChange-Id: I96b7af2472addb879df545818a67f58ace8b2572\n(cherry picked from commit 7f2d0eb91db63632d7839a6b33327fd49af908e4)\n'}]",0,795152,60c18bea0a11f0148c504c99f44650339a06edbc,7,2,1,23851,,,0,"Reasonable error message if network_interface is not found

Change-Id: I96b7af2472addb879df545818a67f58ace8b2572
(cherry picked from commit 7f2d0eb91db63632d7839a6b33327fd49af908e4)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/52/795152/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-keystone-install/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml']",2,60c18bea0a11f0148c504c99f44650339a06edbc,wrong-interface-bugfix/11.0,"- name: ""Check that the provided interface is defined"" fail: msg: > Network interface {{ network_interface }} is not known to Ansible. If you're testing Bifrost on virtual machines, do not forget to invoke ""bifrost-cli testenv"" or use the ""bifrost-create-vm-nodes"" role first. If you're using Bifrost on real bare metal, you have to provide the network interface via the ""network_interface"" variable or the --network-interface argument to ""bifrost-cli install"". when: ('ansible_' + ans_network_interface) not in hostvars[inventory_hostname] ",,22,0
openstack%2Fneutron~master~I6d04df180cd9b2d593bb99c8d22a60a3534f22a0,openstack/neutron,master,I6d04df180cd9b2d593bb99c8d22a60a3534f22a0,"Use ""multiprocessing.Queue"" for ""TestNeutronServer"" related tests",MERGED,2021-06-01 07:52:30.000000000,2021-06-11 11:42:51.000000000,2021-06-11 11:38:54.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-06-01 07:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab00ea3aa27c660266a3a4cb330389ca514ad100', 'message': 'Use ""multiprocessing.Queue"" for ""TestNeutronServer"" related tests\n\nInstead of using a file to log the processes status and actions,\n""TestNeutronServer"" now uses a ""multiprocessing.Queue"" that is\nsafer than writting a single file accross multiple processes.\n\nChange-Id: I6d04df180cd9b2d593bb99c8d22a60a3534f22a0\nCloses-Bug: #1930367\n'}, {'number': 2, 'created': '2021-06-03 15:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/93a5dad85c296033ebff24ec4cb0a2dad9f1df19', 'message': 'Use ""multiprocessing.Queue"" for ""TestNeutronServer"" related tests\n\nInstead of using a file to log the processes status and actions,\n""TestNeutronServer"" now uses a ""multiprocessing.Queue"" that is\nsafer than writting a single file accross multiple processes.\n\nChange-Id: I6d04df180cd9b2d593bb99c8d22a60a3534f22a0\nCloses-Bug: #1930367\n'}, {'number': 3, 'created': '2021-06-10 08:54:52.000000000', 'files': ['neutron/tests/functional/test_server.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/da760973be09a98a1fc07c519e74a11899cb4aa5', 'message': 'Use ""multiprocessing.Queue"" for ""TestNeutronServer"" related tests\n\nInstead of using a file to log the processes status and actions,\n""TestNeutronServer"" now uses a ""multiprocessing.Queue"" that is\nsafer than writting a single file accross multiple processes.\n\nChange-Id: I6d04df180cd9b2d593bb99c8d22a60a3534f22a0\nCloses-Bug: #1930367\n'}]",3,793899,da760973be09a98a1fc07c519e74a11899cb4aa5,31,6,3,16688,,,0,"Use ""multiprocessing.Queue"" for ""TestNeutronServer"" related tests

Instead of using a file to log the processes status and actions,
""TestNeutronServer"" now uses a ""multiprocessing.Queue"" that is
safer than writting a single file accross multiple processes.

Change-Id: I6d04df180cd9b2d593bb99c8d22a60a3534f22a0
Closes-Bug: #1930367
",git fetch https://review.opendev.org/openstack/neutron refs/changes/99/793899/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/test_server.py'],1,ab00ea3aa27c660266a3a4cb330389ca514ad100,bug/1930367,"import multiprocessing ##self.temp_file = self.get_temp_file_path(""test_server.tmp"") self._mp_queue = multiprocessing.Queue() self._mp_queue.put(FAKE_START_MSG) self._mp_queue.put(FAKE_RESET_MSG) ret_msg = '' def is_ret_buffer_ok(): nonlocal ret_msg LOG.debug('Checking returned buffer size') while not self._mp_queue.empty(): ret_msg += self._mp_queue.get() LOG.debug('Size of buffer is %s. Expected size: %s', len(ret_msg), expected_size) return len(ret_msg) == expected_size utils.wait_until_true(is_ret_buffer_ok, timeout=5, sleep=1) except utils.WaitTimeout: raise RuntimeError('Expected buffer size: %s, current size: %s' % (len(ret_msg), expected_size)) self.assertEqual(expected_msg, ret_msg)"," self.temp_file = self.get_temp_file_path(""test_server.tmp"") with open(self.temp_file, 'ab') as f: f.write(FAKE_START_MSG) with open(self.temp_file, 'ab') as f: f.write(FAKE_RESET_MSG) def is_temp_file_ok(): LOG.debug(""Checking file %s"", self.temp_file) if not os.path.isfile(self.temp_file): LOG.debug(""File %s not exists."", self.temp_file) return False temp_file_size = os.stat(self.temp_file).st_size LOG.debug(""Size of file %s is %s. Expected size: %s"", self.temp_file, temp_file_size, expected_size) return temp_file_size == expected_size utils.wait_until_true(is_temp_file_ok, timeout=5, sleep=1) except utils.WaitTimeout: if not os.path.isfile(self.temp_file): raise RuntimeError( ""Timed out waiting for file %(filename)s to be created"" % {'filename': self.temp_file}) else: raise RuntimeError( ""Expected size for file %(filename)s: %(size)s, current "" ""size: %(current_size)s"" % {'filename': self.temp_file, 'size': expected_size, 'current_size': os.stat(self.temp_file).st_size}) with open(self.temp_file, 'rb') as f: res = f.readline() self.assertEqual(expected_msg, res)",18,29
openstack%2Fnova~master~Iaa02e9d35419bf7100cef1014217210c1d5b6855,openstack/nova,master,Iaa02e9d35419bf7100cef1014217210c1d5b6855,Removing mypy to fix the nova CI,MERGED,2021-06-10 09:01:53.000000000,2021-06-11 11:41:40.000000000,2021-06-11 11:39:15.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-10 09:01:53.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/531fa4cd04ca1b8ee869f95d427ea26df0852541', 'message': 'Removing mypy to fix the nova CI\n\nJust removing mypy and then we will revert this patch once\nI035d6dc752eaa83105cc12797765b304d843e1f7 is merged.\n\nChange-Id: Iaa02e9d35419bf7100cef1014217210c1d5b6855\n'}]",0,795744,531fa4cd04ca1b8ee869f95d427ea26df0852541,16,4,1,7166,,,0,"Removing mypy to fix the nova CI

Just removing mypy and then we will revert this patch once
I035d6dc752eaa83105cc12797765b304d843e1f7 is merged.

Change-Id: Iaa02e9d35419bf7100cef1014217210c1d5b6855
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/795744/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,531fa4cd04ca1b8ee869f95d427ea26df0852541,types-paramiko, # {[testenv:mypy]commands}, {[testenv:mypy]commands},1,1
openstack%2Fneutron~master~Ifd1c7b99421768dfa9462237e2b1b14af0e68f41,openstack/neutron,master,Ifd1c7b99421768dfa9462237e2b1b14af0e68f41,"Add CONTEXT_READER to ""get_reservations_for_resources""",MERGED,2021-06-04 11:20:48.000000000,2021-06-11 11:41:35.000000000,2021-06-11 11:38:44.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 11:20:48.000000000', 'files': ['neutron/db/quota/api.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/96b2926671d66e7a1b32cdfec645aa9dd143aa48', 'message': 'Add CONTEXT_READER to ""get_reservations_for_resources""\n\nThe method executes DB operations outside a DB context and with an\ninactive session.\n\nChange-Id: Ifd1c7b99421768dfa9462237e2b1b14af0e68f41\nCloses-Bug: #1930876\n'}]",0,794777,96b2926671d66e7a1b32cdfec645aa9dd143aa48,32,3,1,16688,,,0,"Add CONTEXT_READER to ""get_reservations_for_resources""

The method executes DB operations outside a DB context and with an
inactive session.

Change-Id: Ifd1c7b99421768dfa9462237e2b1b14af0e68f41
Closes-Bug: #1930876
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/794777/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/quota/api.py'],1,96b2926671d66e7a1b32cdfec645aa9dd143aa48,bug/1930876,@db_api.CONTEXT_READER,,1,0
openstack%2Fneutron~stable%2Fqueens~I94415a0da5367e2d98d792a5eb4ba3919b838326,openstack/neutron,stable/queens,I94415a0da5367e2d98d792a5eb4ba3919b838326,Exclude fallback tunnel devices from netns cleanup,MERGED,2021-06-10 09:33:21.000000000,2021-06-11 11:39:58.000000000,2021-06-11 11:39:58.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2021-06-10 09:33:21.000000000', 'files': ['neutron/agent/linux/ip_lib.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2cf477df1758a1cb92483c5f2ed139fcfce55048', 'message': 'Exclude fallback tunnel devices from netns cleanup\n\nWhen a namespace gets created, if the fb_tunnels_only_for_init_net\nsysctl configuration is set to 0, the fallback tunnels will be\nautomatically created if the corresponding tunnel is present\nin the initial network namespace. Source [0].\n\nThis is being observed in some systems where namespaces are not\ngetting cleaned up due to the presence of such devices as\nip_lib.namespace_is_empty() is returning False.\n\nThis patch is adding such devices as per the kernel documentation\nto the list of excluded devices by default.\n\n[0] https://www.kernel.org/doc/Documentation/sysctl/net.txt\n\nCloses-Bug: #1797084\nChange-Id: I94415a0da5367e2d98d792a5eb4ba3919b838326\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit 8e60531d11401c2c509a1255b49f89bc2bf81a74)\n'}]",0,795625,2cf477df1758a1cb92483c5f2ed139fcfce55048,7,4,1,11975,,,0,"Exclude fallback tunnel devices from netns cleanup

When a namespace gets created, if the fb_tunnels_only_for_init_net
sysctl configuration is set to 0, the fallback tunnels will be
automatically created if the corresponding tunnel is present
in the initial network namespace. Source [0].

This is being observed in some systems where namespaces are not
getting cleaned up due to the presence of such devices as
ip_lib.namespace_is_empty() is returning False.

This patch is adding such devices as per the kernel documentation
to the list of excluded devices by default.

[0] https://www.kernel.org/doc/Documentation/sysctl/net.txt

Closes-Bug: #1797084
Change-Id: I94415a0da5367e2d98d792a5eb4ba3919b838326
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
(cherry picked from commit 8e60531d11401c2c509a1255b49f89bc2bf81a74)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/795625/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/ip_lib.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py']",2,2cf477df1758a1cb92483c5f2ed139fcfce55048,bug/1797084-stable/rocky-stable/queens," mocked_execute.return_value = 'lo gre0 sit0 ip6gre0 ' + device_name exclude_loopback=True, exclude_fb_tun_devices=True)"," mocked_execute.return_value = 'lo gre0 gretap0 ' + device_name exclude_loopback=True, exclude_gre_devices=True)",6,5
openstack%2Fneutron~stable%2Frocky~I94415a0da5367e2d98d792a5eb4ba3919b838326,openstack/neutron,stable/rocky,I94415a0da5367e2d98d792a5eb4ba3919b838326,Exclude fallback tunnel devices from netns cleanup,MERGED,2021-06-10 09:33:00.000000000,2021-06-11 11:39:39.000000000,2021-06-11 11:39:39.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2021-06-10 09:33:00.000000000', 'files': ['neutron/agent/linux/ip_lib.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8b1ddc5083e7033702eee9051860ced4d2b6a721', 'message': 'Exclude fallback tunnel devices from netns cleanup\n\nWhen a namespace gets created, if the fb_tunnels_only_for_init_net\nsysctl configuration is set to 0, the fallback tunnels will be\nautomatically created if the corresponding tunnel is present\nin the initial network namespace. Source [0].\n\nThis is being observed in some systems where namespaces are not\ngetting cleaned up due to the presence of such devices as\nip_lib.namespace_is_empty() is returning False.\n\nThis patch is adding such devices as per the kernel documentation\nto the list of excluded devices by default.\n\n[0] https://www.kernel.org/doc/Documentation/sysctl/net.txt\n\nCloses-Bug: #1797084\nChange-Id: I94415a0da5367e2d98d792a5eb4ba3919b838326\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit 8e60531d11401c2c509a1255b49f89bc2bf81a74)\n'}]",0,795624,8b1ddc5083e7033702eee9051860ced4d2b6a721,7,4,1,11975,,,0,"Exclude fallback tunnel devices from netns cleanup

When a namespace gets created, if the fb_tunnels_only_for_init_net
sysctl configuration is set to 0, the fallback tunnels will be
automatically created if the corresponding tunnel is present
in the initial network namespace. Source [0].

This is being observed in some systems where namespaces are not
getting cleaned up due to the presence of such devices as
ip_lib.namespace_is_empty() is returning False.

This patch is adding such devices as per the kernel documentation
to the list of excluded devices by default.

[0] https://www.kernel.org/doc/Documentation/sysctl/net.txt

Closes-Bug: #1797084
Change-Id: I94415a0da5367e2d98d792a5eb4ba3919b838326
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
(cherry picked from commit 8e60531d11401c2c509a1255b49f89bc2bf81a74)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/795624/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/ip_lib.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py']",2,8b1ddc5083e7033702eee9051860ced4d2b6a721,bug/1797084-stable/rocky," mocked_execute.return_value = 'lo gre0 sit0 ip6gre0 ' + device_name exclude_loopback=True, exclude_fb_tun_devices=True)"," mocked_execute.return_value = 'lo gre0 gretap0 ' + device_name exclude_loopback=True, exclude_gre_devices=True)",6,5
openstack%2Ftripleo-heat-templates~master~I2cd08a7b195620e6c93084a6a689bad1d6ace179,openstack/tripleo-heat-templates,master,I2cd08a7b195620e6c93084a6a689bad1d6ace179,Fix broken restart of ovndb_server during minor update,MERGED,2021-06-09 21:54:46.000000000,2021-06-11 11:29:56.000000000,2021-06-11 11:29:56.000000000,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-09 21:54:46.000000000', 'files': ['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6837633ea4075c1e74281ade7005cb8325b51f5a', 'message': 'Fix broken restart of ovndb_server during minor update\n\nSince [1], the ovn HA resource is mistakenly called\novndbs_servers instead of ovndb_servers, which breaks\nits restart during a minor update. Fix the typo.\n\n[1] I918b6c16db6ed70d9ad612aecd7af7d725520f7b\n\nChange-Id: I2cd08a7b195620e6c93084a6a689bad1d6ace179\nCloses-Bug: #1931502\n'}]",0,795706,6837633ea4075c1e74281ade7005cb8325b51f5a,13,4,1,20778,,,0,"Fix broken restart of ovndb_server during minor update

Since [1], the ovn HA resource is mistakenly called
ovndbs_servers instead of ovndb_servers, which breaks
its restart during a minor update. Fix the typo.

[1] I918b6c16db6ed70d9ad612aecd7af7d725520f7b

Change-Id: I2cd08a7b195620e6c93084a6a689bad1d6ace179
Closes-Bug: #1931502
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/06/795706/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'],1,6837633ea4075c1e74281ade7005cb8325b51f5a,bug/1931502, tripleo_ha_wrapper_resource_name: ovndb_servers, tripleo_ha_wrapper_resource_name: ovndbs_servers,1,1
openstack%2Fpuppet-tripleo~stable%2Fvictoria~I97442478d77d222fdd428eebd270c08df08237f6,openstack/puppet-tripleo,stable/victoria,I97442478d77d222fdd428eebd270c08df08237f6,Add support for ovn clustered databases,MERGED,2021-06-10 11:41:58.000000000,2021-06-11 11:29:51.000000000,2021-06-11 11:29:51.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-10 11:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0191edea317e1ff0e9057cd4aa0a5299d5cee1a2', 'message': 'Add support for ovn clustered databases\n\nThis patch adds support for managing the ovn connection correctly when\novn is handling clustering instead of pacemaker. By default if the\nparameter is not enabled, the pacemaker managed way is assumed.\n\nConflicts:\n  manifests/profile/base/neutron/agents/ovn.pp (Due to missing\n  ""enable_ovn_match_northd => true,"" line)\n\nChange-Id: I97442478d77d222fdd428eebd270c08df08237f6\nRelated-Bug: #1931133\n'}, {'number': 2, 'created': '2021-06-10 15:41:21.000000000', 'files': ['manifests/profile/base/neutron/ovn_metadata.pp', 'manifests/profile/base/neutron/plugins/ml2/ovn.pp', 'manifests/profile/base/neutron/agents/ovn.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d1b1f7c675e33f2d7b0f3a5583def776ecc7e87c', 'message': 'Add support for ovn clustered databases\n\nThis patch adds support for managing the ovn connection correctly when\novn is handling clustering instead of pacemaker. By default if the\nparameter is not enabled, the pacemaker managed way is assumed.\n\nConflicts:\n  manifests/profile/base/neutron/agents/ovn.pp (Due to missing\n  ""enable_ovn_match_northd => true,"" line)\n\nChange-Id: I97442478d77d222fdd428eebd270c08df08237f6\nRelated-Bug: #1931133\n'}]",0,795763,d1b1f7c675e33f2d7b0f3a5583def776ecc7e87c,11,4,2,20172,,,0,"Add support for ovn clustered databases

This patch adds support for managing the ovn connection correctly when
ovn is handling clustering instead of pacemaker. By default if the
parameter is not enabled, the pacemaker managed way is assumed.

Conflicts:
  manifests/profile/base/neutron/agents/ovn.pp (Due to missing
  ""enable_ovn_match_northd => true,"" line)

Change-Id: I97442478d77d222fdd428eebd270c08df08237f6
Related-Bug: #1931133
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/63/795763/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/neutron/ovn_metadata.pp', 'manifests/profile/base/neutron/plugins/ml2/ovn.pp', 'manifests/profile/base/neutron/agents/ovn.pp']",3,0191edea317e1ff0e9057cd4aa0a5299d5cee1a2,victoria,"# [*ovn_db_node_ips*] # (Optional) The OVN DBs node ip addresses are listening. # Defaults to hiera('ovn_dbs_node_ips') # # [*ovn_db_clustered*] # (Optional) Boolean indicating if we're running with ovn db clustering # or pacemaker. Defaults to false for backwards compatibility # Defaults to hiera('ovn_db_clustered', false) # $ovn_db_host = hiera('ovn_dbs_vip', undef), $ovn_db_node_ips = hiera('ovn_dbs_node_ips', undef), $ovn_db_clustered = hiera('ovn_db_clustered', false), if $ovn_db_clustered { $db_hosts = any2array($ovn_db_node_ips) } else { $db_hosts = any2array($ovn_db_host) } $sb_conn = $db_hosts.map |$h| { join([$protocol, normalize_ip_for_uri($h), ""${ovn_sbdb_port}""], ':') } class { 'ovn::controller': ovn_remote => join(any2array($sb_conn), ','), ovn_chassis_mac_map => $ovn_chassis_mac_map,"," $ovn_db_host = hiera('ovn_dbs_vip'), class { 'ovn::controller': ovn_remote => join([$protocol, normalize_ip_for_uri($ovn_db_host), ""${ovn_sbdb_port}""], ':'), ovn_chassis_mac_map => $ovn_chassis_mac_map,",64,8
openstack%2Fkolla~stable%2Fussuri~I8460a4159c8da8ae0b856867e068d30fbffb4d34,openstack/kolla,stable/ussuri,I8460a4159c8da8ae0b856867e068d30fbffb4d34,Enable Debian updates repo,MERGED,2021-06-10 19:31:22.000000000,2021-06-11 11:19:21.000000000,2021-06-11 11:18:03.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-10 19:31:22.000000000', 'files': ['releasenotes/notes/bug-1931544-5a091735efb6d6dd.yaml', 'docker/base/sources.list.debian'], 'web_link': 'https://opendev.org/openstack/kolla/commit/7cfb5b4bbefa949a25edab48406a3fb789abd0b5', 'message': 'Enable Debian updates repo\n\nBackport below Wallaby switching bullseye to buster.\n\nCloses-Bug: #1931544\nChange-Id: I8460a4159c8da8ae0b856867e068d30fbffb4d34\n(cherry picked from commit 789c9c3b84e84796ac8211112fa29f415f560c88)\n'}]",0,795873,7cfb5b4bbefa949a25edab48406a3fb789abd0b5,12,3,1,30491,,,0,"Enable Debian updates repo

Backport below Wallaby switching bullseye to buster.

Closes-Bug: #1931544
Change-Id: I8460a4159c8da8ae0b856867e068d30fbffb4d34
(cherry picked from commit 789c9c3b84e84796ac8211112fa29f415f560c88)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/73/795873/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1931544-5a091735efb6d6dd.yaml', 'docker/base/sources.list.debian']",2,7cfb5b4bbefa949a25edab48406a3fb789abd0b5,bug/1931544-stable/wallaby-stable/victoria-stable/ussuri,# debian updates deb http://deb.debian.org/debian buster-updates main ,,12,0
openstack%2Fkolla~stable%2Fvictoria~I8460a4159c8da8ae0b856867e068d30fbffb4d34,openstack/kolla,stable/victoria,I8460a4159c8da8ae0b856867e068d30fbffb4d34,Enable Debian updates repo,MERGED,2021-06-10 19:27:32.000000000,2021-06-11 11:19:16.000000000,2021-06-11 11:17:53.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-10 19:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/96890da3a2911c857278f23da7b604edf44c684c', 'message': 'Enable Debian updates repo\n\nBackport below Wallaby switching bullseye to buster.\n\nCloses-Bug: #1931544\nChange-Id: I8460a4159c8da8ae0b856867e068d30fbffb4d34\n(cherry picked from commit 789c9c3b84e84796ac8211112fa29f415f560c88)\n'}, {'number': 2, 'created': '2021-06-10 19:29:57.000000000', 'files': ['releasenotes/notes/bug-1931544-5a091735efb6d6dd.yaml', 'docker/base/sources.list.debian'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2c8ea03a7954f37c6503f2cade49c8a53926647e', 'message': 'Enable Debian updates repo\n\nBackport below Wallaby switching bullseye to buster.\n\nCloses-Bug: #1931544\nChange-Id: I8460a4159c8da8ae0b856867e068d30fbffb4d34\n(cherry picked from commit 789c9c3b84e84796ac8211112fa29f415f560c88)\n'}]",0,795812,2c8ea03a7954f37c6503f2cade49c8a53926647e,10,3,2,30491,,,0,"Enable Debian updates repo

Backport below Wallaby switching bullseye to buster.

Closes-Bug: #1931544
Change-Id: I8460a4159c8da8ae0b856867e068d30fbffb4d34
(cherry picked from commit 789c9c3b84e84796ac8211112fa29f415f560c88)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/12/795812/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1931544-5a091735efb6d6dd.yaml', 'docker/base/sources.list.debian']",2,96890da3a2911c857278f23da7b604edf44c684c,bug/1931544-stable/wallaby-stable/victoria,# debian updates deb http://deb.debian.org/debian bullseye-updates main ,,12,0
openstack%2Fovn-octavia-provider~stable%2Fvictoria~Ied81b55776d5bc004c6a9f156cb3f8724f3a706c,openstack/ovn-octavia-provider,stable/victoria,Ied81b55776d5bc004c6a9f156cb3f8724f3a706c,Add log for request_handler events,MERGED,2021-05-28 00:38:32.000000000,2021-06-11 10:48:54.000000000,2021-06-11 10:47:29.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-28 00:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/ee060b92be42cc424b8c5bd76834797facf4e0f2', 'message': 'Add log for request_handler events\n\nTrivialfix\n\nCloses-Bug: #1929863\nChange-Id: Ied81b55776d5bc004c6a9f156cb3f8724f3a706c\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n(cherry picked from commit ad6127c8869fcf625efdb4278649c261f8e88b5c)\n'}, {'number': 2, 'created': '2021-06-02 18:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/e00609f919f778020bc0509daf683519879cadae', 'message': 'Add log for request_handler events\n\nTrivialfix\n\nCloses-Bug: #1929863\nChange-Id: Ied81b55776d5bc004c6a9f156cb3f8724f3a706c\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n(cherry picked from commit ad6127c8869fcf625efdb4278649c261f8e88b5c)\n'}, {'number': 3, 'created': '2021-06-09 20:02:32.000000000', 'files': ['ovn_octavia_provider/helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/f11eb74313239e75c06331bcf5ad5962416974ff', 'message': 'Add log for request_handler events\n\nTrivialfix\n\nCloses-Bug: #1929863\nChange-Id: Ied81b55776d5bc004c6a9f156cb3f8724f3a706c\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n(cherry picked from commit 85795f88ef34b19a4065a741d8303dac6a938ea9)\n'}]",0,793441,f11eb74313239e75c06331bcf5ad5962416974ff,13,3,3,11952,,,0,"Add log for request_handler events

Trivialfix

Closes-Bug: #1929863
Change-Id: Ied81b55776d5bc004c6a9f156cb3f8724f3a706c
Signed-off-by: Flavio Fernandes <flaviof@redhat.com>
(cherry picked from commit 85795f88ef34b19a4065a741d8303dac6a938ea9)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/41/793441/2 && git format-patch -1 --stdout FETCH_HEAD,['ovn_octavia_provider/helper.py'],1,ee060b92be42cc424b8c5bd76834797facf4e0f2,," LOG.debug(""now handling req %(req)s with info %(info)s"", {'req': request_type, 'info': request['info']})",,2,0
openstack%2Fovn-octavia-provider~stable%2Fussuri~Ied81b55776d5bc004c6a9f156cb3f8724f3a706c,openstack/ovn-octavia-provider,stable/ussuri,Ied81b55776d5bc004c6a9f156cb3f8724f3a706c,Add log for request_handler events,MERGED,2021-05-28 00:38:53.000000000,2021-06-11 10:46:51.000000000,2021-06-11 10:45:34.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-28 00:38:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/e293815b8ee24d032275ff06c7272a13cc672569', 'message': 'Add log for request_handler events\n\nTrivialfix\n\nCloses-Bug: #1929863\nChange-Id: Ied81b55776d5bc004c6a9f156cb3f8724f3a706c\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n(cherry picked from commit ad6127c8869fcf625efdb4278649c261f8e88b5c)\n'}, {'number': 2, 'created': '2021-05-28 00:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/692bc8d401af897b9a53aac497aa06559bbe8c7b', 'message': 'Add log for request_handler events\n\nTrivialfix\n\nConflicts:\novn_octavia_provider/driver.py\n\nCloses-Bug: #1929863\nChange-Id: Ied81b55776d5bc004c6a9f156cb3f8724f3a706c\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n(cherry picked from commit ad6127c8869fcf625efdb4278649c261f8e88b5c)\n'}, {'number': 3, 'created': '2021-06-02 18:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/4583e29bbf3b33b24253d50d705a17f7ea952078', 'message': 'Add log for request_handler events\n\nTrivialfix\n\nConflicts:\novn_octavia_provider/driver.py\n\nCloses-Bug: #1929863\nChange-Id: Ied81b55776d5bc004c6a9f156cb3f8724f3a706c\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n(cherry picked from commit ad6127c8869fcf625efdb4278649c261f8e88b5c)\n'}, {'number': 4, 'created': '2021-06-03 18:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/86f915605f52ec048f290e088b2cfeec06ee14da', 'message': 'Add log for request_handler events\n\nTrivialfix\n\nConflicts:\novn_octavia_provider/driver.py\n\nCloses-Bug: #1929863\nChange-Id: Ied81b55776d5bc004c6a9f156cb3f8724f3a706c\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n(cherry picked from commit ad6127c8869fcf625efdb4278649c261f8e88b5c)\n'}, {'number': 5, 'created': '2021-06-09 20:03:02.000000000', 'files': ['ovn_octavia_provider/driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/e749ac32e4e42af8021de7d2722454b701dc1635', 'message': 'Add log for request_handler events\n\nTrivialfix\n\nConflicts:\novn_octavia_provider/driver.py\n\nCloses-Bug: #1929863\nChange-Id: Ied81b55776d5bc004c6a9f156cb3f8724f3a706c\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n(cherry picked from commit 85795f88ef34b19a4065a741d8303dac6a938ea9)\n'}]",0,793442,e749ac32e4e42af8021de7d2722454b701dc1635,18,3,5,11952,,,0,"Add log for request_handler events

Trivialfix

Conflicts:
ovn_octavia_provider/driver.py

Closes-Bug: #1929863
Change-Id: Ied81b55776d5bc004c6a9f156cb3f8724f3a706c
Signed-off-by: Flavio Fernandes <flaviof@redhat.com>
(cherry picked from commit 85795f88ef34b19a4065a741d8303dac6a938ea9)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/42/793442/4 && git format-patch -1 --stdout FETCH_HEAD,['ovn_octavia_provider/helper.py'],1,e293815b8ee24d032275ff06c7272a13cc672569,,"<<<<<<< HEAD (de7c63 Check if no members in pool better in batch update) ======= # Copyright 2020 Red Hat, Inc. All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import copy import queue import re import threading import netaddr from neutronclient.common import exceptions as n_exc from octavia_lib.api.drivers import data_models as o_datamodels from octavia_lib.api.drivers import driver_lib as o_driver_lib from octavia_lib.api.drivers import exceptions as driver_exceptions from octavia_lib.common import constants from oslo_config import cfg from oslo_log import log as logging from oslo_serialization import jsonutils from ovs.stream import Stream from ovsdbapp.backend.ovs_idl import idlutils import tenacity from ovn_octavia_provider.common import clients from ovn_octavia_provider.common import config as ovn_conf # TODO(mjozefcz): Start consuming const and utils # from neutron-lib once released. from ovn_octavia_provider.common import constants as ovn_const from ovn_octavia_provider.common import utils from ovn_octavia_provider.i18n import _ from ovn_octavia_provider.ovsdb import impl_idl_ovn CONF = cfg.CONF # Gets Octavia Conf as it runs under o-api domain ovn_conf.register_opts() LOG = logging.getLogger(__name__) class OvnProviderHelper(object): def __init__(self): self.requests = queue.Queue() self.helper_thread = threading.Thread(target=self.request_handler) self.helper_thread.daemon = True self._octavia_driver_lib = o_driver_lib.DriverLibrary() self._check_and_set_ssl_files() self._init_lb_actions() # NOTE(mjozefcz): This API is only for handling octavia API requests. self.ovn_nbdb = impl_idl_ovn.OvnNbIdlForLb() self.ovn_nbdb_api = self.ovn_nbdb.start() self.helper_thread.start() def _init_lb_actions(self): self._lb_request_func_maps = { ovn_const.REQ_TYPE_LB_CREATE: self.lb_create, ovn_const.REQ_TYPE_LB_DELETE: self.lb_delete, ovn_const.REQ_TYPE_LB_UPDATE: self.lb_update, ovn_const.REQ_TYPE_LB_FAILOVER: self.lb_failover, ovn_const.REQ_TYPE_LISTENER_CREATE: self.listener_create, ovn_const.REQ_TYPE_LISTENER_DELETE: self.listener_delete, ovn_const.REQ_TYPE_LISTENER_UPDATE: self.listener_update, ovn_const.REQ_TYPE_POOL_CREATE: self.pool_create, ovn_const.REQ_TYPE_POOL_DELETE: self.pool_delete, ovn_const.REQ_TYPE_POOL_UPDATE: self.pool_update, ovn_const.REQ_TYPE_MEMBER_CREATE: self.member_create, ovn_const.REQ_TYPE_MEMBER_DELETE: self.member_delete, ovn_const.REQ_TYPE_MEMBER_UPDATE: self.member_update, ovn_const.REQ_TYPE_LB_CREATE_LRP_ASSOC: self.lb_create_lrp_assoc, ovn_const.REQ_TYPE_LB_DELETE_LRP_ASSOC: self.lb_delete_lrp_assoc, ovn_const.REQ_TYPE_HANDLE_VIP_FIP: self.handle_vip_fip, ovn_const.REQ_TYPE_HANDLE_MEMBER_DVR: self.handle_member_dvr, } @staticmethod def _is_lb_empty(external_ids): """"""Check if there is no pool or listener defined."""""" return not any(k.startswith('listener') or k.startswith('pool') for k in external_ids) @staticmethod def _delete_disabled_from_status(status): # pylint: disable=multiple-statements d_regex = ':%s$' % ovn_const.DISABLED_RESOURCE_SUFFIX return { k: [{c: re.sub(d_regex, '', d) for c, d in i.items()} for i in v] for k, v in status.items()} def _check_and_set_ssl_files(self): # TODO(reedip): Make ovsdb_monitor's _check_and_set_ssl_files() public # This is a copy of ovsdb_monitor._check_and_set_ssl_files priv_key_file = ovn_conf.get_ovn_nb_private_key() cert_file = ovn_conf.get_ovn_nb_certificate() ca_cert_file = ovn_conf.get_ovn_nb_ca_cert() if priv_key_file: Stream.ssl_set_private_key_file(priv_key_file) if cert_file: Stream.ssl_set_certificate_file(cert_file) if ca_cert_file: Stream.ssl_set_ca_cert_file(ca_cert_file) def shutdown(self): self.requests.put({'type': ovn_const.REQ_TYPE_EXIT}) self.helper_thread.join() self.ovn_nbdb.stop() del self.ovn_nbdb_api @staticmethod def _map_val(row, col, key): # If the row doesnt exist, RowNotFound is raised by the _map_val # and is expected to be caught by the caller. try: return getattr(row, col)[key] except KeyError as e: raise idlutils.RowNotFound(table=row._table.name, col=col, match=key) from e def _get_nw_router_info_on_interface_event(self, lrp): """"""Get the Router and Network information on an interface event This function is called when a new interface between a router and a network is added or deleted. Input: Logical Router Port row which is coming from LogicalRouterPortEvent. Output: A row from router table and network table matching the router and network for which the event was generated. Exception: RowNotFound exception can be generated. """""" router = self.ovn_nbdb_api.lookup( 'Logical_Router', utils.ovn_name(self._map_val( lrp, 'external_ids', ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY))) network = self.ovn_nbdb_api.lookup( 'Logical_Switch', self._map_val(lrp, 'external_ids', ovn_const.OVN_NETWORK_NAME_EXT_ID_KEY)) return router, network def _clean_lb_if_empty(self, ovn_lb, lb_id, external_ids): commands = [] lb_to_delete = False if OvnProviderHelper._is_lb_empty(external_ids): # Verify if its only OVN LB defined. If so - leave with # undefined protocol. If there is different for other protocol # remove this one. try: defined_ovn_lbs = self._find_ovn_lbs(lb_id) except idlutils.RowNotFound: defined_ovn_lbs = [] if len(defined_ovn_lbs) == 1: commands.append( self.ovn_nbdb_api.db_set( 'Load_Balancer', ovn_lb.uuid, ('protocol', []))) elif len(defined_ovn_lbs) > 1: # Delete the lb. commands.append(self.ovn_nbdb_api.lb_del(ovn_lb.uuid)) lb_to_delete = True return (commands, lb_to_delete) def lb_delete_lrp_assoc_handler(self, row): try: router, network = self._get_nw_router_info_on_interface_event(row) except idlutils.RowNotFound: LOG.debug(""Router or network information not found"") return request_info = {'network': network, 'router': router} self.add_request({'type': ovn_const.REQ_TYPE_LB_DELETE_LRP_ASSOC, 'info': request_info}) def lb_delete_lrp_assoc(self, info): # TODO(reedip): When OVS>=2.12, LB can be deleted without removing # Network and Router references as pushed in the patch # https://github.com/openvswitch/ovs/commit # /612f80fa8ebf88dad2e204364c6c02b451dca36c commands = [] network = info['network'] router = info['router'] # Find all loadbalancers which have a reference with the network nw_lb = self._find_lb_in_ls(network=network) # Find all loadbalancers which have a reference with the router r_lb = set(router.load_balancer) - nw_lb # Delete all LB on N/W from Router for nlb in nw_lb: commands.extend(self._update_lb_to_lr_association(nlb, router, delete=True)) # Delete all LB on Router from N/W for rlb in r_lb: commands.append(self.ovn_nbdb_api.ls_lb_del( network.uuid, rlb.uuid)) if commands: self._execute_commands(commands) def lb_create_lrp_assoc_handler(self, row): try: router, network = self._get_nw_router_info_on_interface_event(row) except idlutils.RowNotFound: LOG.debug(""Router or network information not found"") return request_info = {'network': network, 'router': router} self.add_request({'type': ovn_const.REQ_TYPE_LB_CREATE_LRP_ASSOC, 'info': request_info}) def lb_create_lrp_assoc(self, info): commands = [] router_lb = set(info['router'].load_balancer) network_lb = set(info['network'].load_balancer) # Add only those lb to routers which are unique to the network for lb in (network_lb - router_lb): commands.extend(self._update_lb_to_lr_association( lb, info['router'])) # Add those lb to the network which are unique to the router for lb in (router_lb - network_lb): commands.append(self.ovn_nbdb_api.ls_lb_add( info['network'].uuid, lb.uuid, may_exist=True)) if commands: self._execute_commands(commands) def vip_port_update_handler(self, vip_lp): """"""Handler for VirtualIP port updates. If a floating ip is associated to a vip port, then networking-ovn sets the fip in the external_ids column of the logical port as: Logical_Switch_Port.external_ids:port_fip = <FIP>. Then, in the Load_Balancer table for the vip, networking-ovn creates another vip entry for the FIP. If a floating ip is disassociated from the vip, then it deletes the vip entry for the FIP. """""" port_name = vip_lp.external_ids.get(ovn_const.OVN_PORT_NAME_EXT_ID_KEY) lb_id = port_name[len(ovn_const.LB_VIP_PORT_PREFIX):] try: ovn_lbs = self._find_ovn_lbs_with_retry(lb_id) except idlutils.RowNotFound: LOG.debug(""Loadbalancer %s not found!"", lb_id) return # Loop over all defined LBs with given ID, because it is possible # than there is more than one (for more than 1 L4 protocol). for lb in ovn_lbs: fip = vip_lp.external_ids.get(ovn_const.OVN_PORT_FIP_EXT_ID_KEY) lb_vip_fip = lb.external_ids.get(ovn_const.LB_EXT_IDS_VIP_FIP_KEY) request_info = {'ovn_lb': lb, 'vip_fip': fip} if fip and fip != lb_vip_fip: request_info['action'] = ovn_const.REQ_INFO_ACTION_ASSOCIATE elif fip is None and fip != lb_vip_fip: request_info['action'] = ovn_const.REQ_INFO_ACTION_DISASSOCIATE else: continue self.add_request({'type': ovn_const.REQ_TYPE_HANDLE_VIP_FIP, 'info': request_info}) def _find_lb_in_ls(self, network): """"""Find LB associated to a Network using Network information This function retrieves those loadbalancers whose ls_ref column in the OVN northbound database's load_balancer table has the network's name. Though different networks can be associated with a loadbalancer, but ls_ref of a loadbalancer points to the network where it was actually created, and this function tries to retrieve all those loadbalancers created on this network. Input : row of type Logical_Switch Output: set of rows of type Load_Balancer or empty set """""" return {lb for lb in network.load_balancer if network.name in lb.external_ids.get( ovn_const.LB_EXT_IDS_LS_REFS_KEY, [])} def _find_lb_in_table(self, lb, table): return [item for item in self.ovn_nbdb_api.tables[table].rows.values() if lb in item.load_balancer] def request_handler(self): while True: request = self.requests.get() request_type = request['type'] if request_type == ovn_const.REQ_TYPE_EXIT: break request_handler = self._lb_request_func_maps.get(request_type) try: if request_handler: LOG.debug(""now handling req %(req)s with info %(info)s"", {'req': request_type, 'info': request['info']}) status = request_handler(request['info']) if status: self._update_status_to_octavia(status) self.requests.task_done() except driver_exceptions.UpdateStatusError as e: msg = (""Error while updating the load balancer "" ""status: %s"") % e.fault_string LOG.error(msg) # TODO(haleyb): The resource(s) we were updating status for # should be cleaned-up except Exception: # If any unexpected exception happens we don't want the # notify_loop to exit. LOG.exception('Unexpected exception in request_handler') def add_request(self, req): self.requests.put(req) @tenacity.retry( retry=tenacity.retry_if_exception_type( driver_exceptions.UpdateStatusError), wait=tenacity.wait_exponential(), stop=tenacity.stop_after_delay(10), reraise=True) def _update_status_to_octavia(self, status): status = OvnProviderHelper._delete_disabled_from_status(status) LOG.debug('Updating status to octavia: %s', status) self._octavia_driver_lib.update_loadbalancer_status(status) @tenacity.retry( retry=tenacity.retry_if_exception_type(idlutils.RowNotFound), wait=tenacity.wait_exponential(), stop=tenacity.stop_after_delay(10), reraise=True) def _find_ovn_lbs_with_retry(self, lb_id, protocol=None): return self._find_ovn_lbs(lb_id, protocol=protocol) def _find_ovn_lbs(self, lb_id, protocol=None): """"""Find the Loadbalancers in OVN with the given lb_id as its name This function searches for the LoadBalancers whose Name has the pattern passed in lb_id. @param lb_id: LoadBalancer ID provided by Octavia in its API request. Note that OVN saves the above ID in the 'name' column. @type lb_id: str @param protocol: Loadbalancer protocol. @type protocol: str or None if not defined. :returns: LoadBalancer row if protocol specified or list of rows matching the lb_id. :raises: RowNotFound can be generated if the LoadBalancer is not found. """""" lbs = self.ovn_nbdb_api.db_find_rows( 'Load_Balancer', ('name', '=', lb_id)).execute() if not protocol: if lbs: return lbs raise idlutils.RowNotFound(table='Load_Balancer', col='name', match=lb_id) # If there is only one LB without protocol defined, so # it is 'clean' LB record without any listener. if len(lbs) == 1 and not lbs[0].protocol: return lbs[0] # Search for other lbs. for lb in lbs: if lb.protocol[0].upper() == protocol.upper(): return lb raise idlutils.RowNotFound(table='Load_Balancer', col='name', match=lb_id) def _get_or_create_ovn_lb( self, lb_id, protocol, admin_state_up, lb_algorithm=constants.LB_ALGORITHM_SOURCE_IP_PORT): """"""Find or create ovn lb with given protocol Find the loadbalancer configured with given protocol or create required if not found """""" # TODO(mjozefcz): For now we support only one LB algorithm. # As we may extend that in the future we would need to # look here also for lb_algorithm, along with protocol. # Make sure that its lowercase - OVN NBDB stores lowercases # for this field. protocol = protocol.lower() ovn_lbs = self._find_ovn_lbs(lb_id) lbs_with_required_protocol = [ ovn_lb for ovn_lb in ovn_lbs if protocol in ovn_lb.protocol] lbs_with_no_protocol = [ovn_lb for ovn_lb in ovn_lbs if not ovn_lb.protocol] if lbs_with_required_protocol: # We found existing LB with required # protocol, just return it. return lbs_with_required_protocol[0] elif lbs_with_no_protocol: ovn_lb = lbs_with_no_protocol[0] # Set required protocol here. self.ovn_nbdb_api.db_set( 'Load_Balancer', ovn_lb.uuid, ('protocol', protocol)).execute(check_error=True) else: # NOTE(mjozefcz): Looks like loadbalancer with given protocol # doesn't exist. Try to add it with required protocol # by copy the existing one data. lb_info = { 'id': lb_id, 'protocol': protocol, constants.LB_ALGORITHM: lb_algorithm, 'vip_address': ovn_lbs[0].external_ids.get( ovn_const.LB_EXT_IDS_VIP_KEY), 'vip_port_id': ovn_lbs[0].external_ids.get( ovn_const.LB_EXT_IDS_VIP_PORT_ID_KEY), ovn_const.LB_EXT_IDS_LR_REF_KEY: ovn_lbs[0].external_ids.get( ovn_const.LB_EXT_IDS_LR_REF_KEY), ovn_const.LB_EXT_IDS_LS_REFS_KEY: ovn_lbs[0].external_ids.get( ovn_const.LB_EXT_IDS_LS_REFS_KEY), 'admin_state_up': admin_state_up} # NOTE(mjozefcz): Handle vip_fip info if exists. vip_fip = ovn_lbs[0].external_ids.get( ovn_const.LB_EXT_IDS_VIP_FIP_KEY) if vip_fip: lb_info.update({ovn_const.LB_EXT_IDS_VIP_FIP_KEY: vip_fip}) self.lb_create(lb_info, protocol=protocol) # Looks like we've just added new LB # or updated exising, empty one. return self._find_ovn_lbs(lb_id, protocol=protocol) def _find_ovn_lb_with_pool_key(self, pool_key): lbs = self.ovn_nbdb_api.db_list_rows( 'Load_Balancer').execute(check_error=True) for lb in lbs: # Skip load balancers used by port forwarding plugin if lb.external_ids.get(ovn_const.OVN_DEVICE_OWNER_EXT_ID_KEY) == ( ovn_const.PORT_FORWARDING_PLUGIN): continue if pool_key in lb.external_ids: return lb def _find_ovn_lb_by_pool_id(self, pool_id): pool_key = self._get_pool_key(pool_id) ovn_lb = self._find_ovn_lb_with_pool_key(pool_key) if not ovn_lb: pool_key = self._get_pool_key(pool_id, is_enabled=False) ovn_lb = self._find_ovn_lb_with_pool_key(pool_key) return pool_key, ovn_lb def _execute_commands(self, commands): with self.ovn_nbdb_api.transaction(check_error=True) as txn: for command in commands: txn.add(command) def _update_lb_to_ls_association(self, ovn_lb, network_id=None, subnet_id=None, associate=True): """"""Update LB association with Logical Switch This function deals with updating the References of Logical Switch in LB and addition of LB to LS. """""" commands = [] if not network_id and not subnet_id: return commands if network_id: ls_name = utils.ovn_name(network_id) else: neutron_client = clients.get_neutron_client() try: subnet = neutron_client.show_subnet(subnet_id) ls_name = utils.ovn_name(subnet['subnet']['network_id']) except n_exc.NotFound: LOG.warning('Subnet %s not found while trying to ' 'fetch its data.', subnet_id) ls_name = None ovn_ls = None if ls_name: try: ovn_ls = self.ovn_nbdb_api.ls_get(ls_name).execute( check_error=True) except idlutils.RowNotFound: LOG.warning(""LogicalSwitch %s could not be found."", ls_name) if associate: LOG.warning('Cannot associate LB %(lb)s to ' 'LS %(ls)s because LS row ' 'not found in OVN NBDB. Exiting.', {'ls': ls_name, 'lb': ovn_lb.name}) return commands ovn_ls = None ls_refs = ovn_lb.external_ids.get(ovn_const.LB_EXT_IDS_LS_REFS_KEY) if ls_refs: try: ls_refs = jsonutils.loads(ls_refs) except ValueError: ls_refs = {} else: ls_refs = {} if associate and ls_name: if ls_name in ls_refs: ref_ct = ls_refs[ls_name] ls_refs[ls_name] = ref_ct + 1 else: ls_refs[ls_name] = 1 if ovn_ls: commands.append(self.ovn_nbdb_api.ls_lb_add( ovn_ls.uuid, ovn_lb.uuid, may_exist=True)) else: if ls_name not in ls_refs: # Nothing to be done. return commands ref_ct = ls_refs[ls_name] if ref_ct == 1: del ls_refs[ls_name] if ovn_ls: commands.append(self.ovn_nbdb_api.ls_lb_del( ovn_ls.uuid, ovn_lb.uuid, if_exists=True)) else: ls_refs[ls_name] = ref_ct - 1 ls_refs = {ovn_const.LB_EXT_IDS_LS_REFS_KEY: jsonutils.dumps(ls_refs)} commands.append(self.ovn_nbdb_api.db_set( 'Load_Balancer', ovn_lb.uuid, ('external_ids', ls_refs))) return commands def _del_lb_to_lr_association(self, ovn_lb, ovn_lr, lr_ref): commands = [] if lr_ref: try: lr_ref = [r for r in [lr.strip() for lr in lr_ref.split(',')] if r != ovn_lr.name] except ValueError: msg = ('The loadbalancer %(lb)s is not associated with ' 'the router %(router)s' % {'lb': ovn_lb.name, 'router': ovn_lr.name}) LOG.warning(msg) if lr_ref: commands.append( self.ovn_nbdb_api.db_set( 'Load_Balancer', ovn_lb.uuid, ('external_ids', {ovn_const.LB_EXT_IDS_LR_REF_KEY: ','.join(lr_ref)}))) else: commands.append( self.ovn_nbdb_api.db_remove( 'Load_Balancer', ovn_lb.uuid, 'external_ids', (ovn_const.LB_EXT_IDS_LR_REF_KEY))) commands.append( self.ovn_nbdb_api.lr_lb_del(ovn_lr.uuid, ovn_lb.uuid, if_exists=True)) for net in self._find_ls_for_lr(ovn_lr): commands.append(self.ovn_nbdb_api.ls_lb_del( net, ovn_lb.uuid, if_exists=True)) return commands def _add_lb_to_lr_association(self, ovn_lb, ovn_lr, lr_rf): commands = [] commands.append( self.ovn_nbdb_api.lr_lb_add(ovn_lr.uuid, ovn_lb.uuid, may_exist=True)) for net in self._find_ls_for_lr(ovn_lr): commands.append(self.ovn_nbdb_api.ls_lb_add( net, ovn_lb.uuid, may_exist=True)) if ovn_lr.name not in str(lr_rf): # Multiple routers in lr_rf are separated with ',' if lr_rf: lr_rf = {ovn_const.LB_EXT_IDS_LR_REF_KEY: ""%s,%s"" % (lr_rf, ovn_lr.name)} else: lr_rf = {ovn_const.LB_EXT_IDS_LR_REF_KEY: ovn_lr.name} commands.append( self.ovn_nbdb_api.db_set('Load_Balancer', ovn_lb.uuid, ('external_ids', lr_rf))) return commands def _update_lb_to_lr_association(self, ovn_lb, ovn_lr, delete=False): lr_ref = ovn_lb.external_ids.get(ovn_const.LB_EXT_IDS_LR_REF_KEY) if delete: return self._del_lb_to_lr_association(ovn_lb, ovn_lr, lr_ref) else: return self._add_lb_to_lr_association(ovn_lb, ovn_lr, lr_ref) def _find_ls_for_lr(self, router): neutron_client = clients.get_neutron_client() ls = [] for port in router.ports: if port.gateway_chassis: continue sids = port.external_ids.get( ovn_const.OVN_SUBNET_EXT_IDS_KEY, '').split(' ') for sid in sids: try: subnet = neutron_client.show_subnet(sid) ls.append(utils.ovn_name(subnet['subnet']['network_id'])) except n_exc.NotFound: LOG.exception('Subnet %s not found while trying to ' 'fetch its data.', sid) return ls def _find_lr_of_ls(self, ovn_ls): lsp_router_port = None for port in ovn_ls.ports or []: if port.type == 'router': lsp_router_port = port break else: return lrp_name = lsp_router_port.options.get('router-port') if not lrp_name: return for lr in self.ovn_nbdb_api.tables['Logical_Router'].rows.values(): for lrp in lr.ports: if lrp.name == lrp_name: return lr # Handles networks with only gateway port in the router if (utils.ovn_lrouter_port_name( lr.external_ids.get(ovn_const.OVN_GW_PORT_EXT_ID_KEY)) == lrp_name): return lr def _get_listener_key(self, listener_id, is_enabled=True): listener_key = ovn_const.LB_EXT_IDS_LISTENER_PREFIX + str(listener_id) if not is_enabled: listener_key += ':' + ovn_const.DISABLED_RESOURCE_SUFFIX return listener_key def _get_pool_key(self, pool_id, is_enabled=True): pool_key = ovn_const.LB_EXT_IDS_POOL_PREFIX + str(pool_id) if not is_enabled: pool_key += ':' + ovn_const.DISABLED_RESOURCE_SUFFIX return pool_key def _extract_member_info(self, member): mem_info = [] if member: for mem in member.split(','): mem_ip_port = mem.split('_')[2] mem_info.append(tuple(mem_ip_port.rsplit(':', 1))) return mem_info def _get_member_key(self, member, old_convention=False): member_info = '' if isinstance(member, dict): member_info = '%s%s_%s:%s' % ( ovn_const.LB_EXT_IDS_MEMBER_PREFIX, member[constants.ID], member[constants.ADDRESS], member[constants.PROTOCOL_PORT]) if not old_convention and member.get(constants.SUBNET_ID): member_info += ""_"" + member[constants.SUBNET_ID] elif isinstance(member, o_datamodels.Member): member_info = '%s%s_%s:%s' % ( ovn_const.LB_EXT_IDS_MEMBER_PREFIX, member.member_id, member.address, member.protocol_port) if not old_convention and member.subnet_id: member_info += ""_"" + member.subnet_id return member_info def _make_listener_key_value(self, listener_port, pool_id): return str(listener_port) + ':' + pool_id def _extract_listener_key_value(self, listener_value): v = listener_value.split(':') if len(v) == 2: return (v[0], v[1]) else: return (None, None) def _is_listener_disabled(self, listener_key): v = listener_key.split(':') if len(v) == 2 and v[1] == ovn_const.DISABLED_RESOURCE_SUFFIX: return True return False def _get_pool_listeners(self, ovn_lb, pool_key): pool_listeners = [] for k, v in ovn_lb.external_ids.items(): if ovn_const.LB_EXT_IDS_LISTENER_PREFIX not in k: continue vip_port, p_key = self._extract_listener_key_value(v) if pool_key == p_key: pool_listeners.append( k[len(ovn_const.LB_EXT_IDS_LISTENER_PREFIX):]) return pool_listeners def _frame_vip_ips(self, lb_external_ids): vip_ips = {} # If load balancer is disabled, return if lb_external_ids.get('enabled') == 'False': return vip_ips lb_vip = lb_external_ids[ovn_const.LB_EXT_IDS_VIP_KEY] vip_fip = lb_external_ids.get(ovn_const.LB_EXT_IDS_VIP_FIP_KEY) for k, v in lb_external_ids.items(): if (ovn_const.LB_EXT_IDS_LISTENER_PREFIX not in k or self._is_listener_disabled(k)): continue vip_port, pool_id = self._extract_listener_key_value(v) if not vip_port or not pool_id: continue if pool_id not in lb_external_ids or not lb_external_ids[pool_id]: continue ips = [] for member_ip, member_port in self._extract_member_info( lb_external_ids[pool_id]): if netaddr.IPNetwork(member_ip).version == 6: ips.append('[%s]:%s' % (member_ip, member_port)) else: ips.append('%s:%s' % (member_ip, member_port)) if netaddr.IPNetwork(lb_vip).version == 6: lb_vip = '[%s]' % lb_vip vip_ips[lb_vip + ':' + vip_port] = ','.join(ips) if vip_fip: if netaddr.IPNetwork(vip_fip).version == 6: vip_fip = '[%s]' % vip_fip vip_ips[vip_fip + ':' + vip_port] = ','.join(ips) return vip_ips def _refresh_lb_vips(self, ovn_lb_uuid, lb_external_ids): vip_ips = self._frame_vip_ips(lb_external_ids) return [self.ovn_nbdb_api.db_clear('Load_Balancer', ovn_lb_uuid, 'vips'), self.ovn_nbdb_api.db_set('Load_Balancer', ovn_lb_uuid, ('vips', vip_ips))] def _is_listener_in_lb(self, lb): for key in list(lb.external_ids): if key.startswith(ovn_const.LB_EXT_IDS_LISTENER_PREFIX): return True return False def _are_selection_fields_supported(self): return self.ovn_nbdb_api.is_col_present( 'Load_Balancer', 'selection_fields') @staticmethod def _get_selection_keys(lb_algorithm): # pylint: disable=multiple-statements return ovn_const.LB_SELECTION_FIELDS_MAP[lb_algorithm] def check_lb_protocol(self, lb_id, listener_protocol): ovn_lb = self._find_ovn_lbs(lb_id, protocol=listener_protocol) if not ovn_lb: return False elif not self._is_listener_in_lb(ovn_lb): return True else: return str(listener_protocol).lower() in ovn_lb.protocol def lb_create(self, loadbalancer, protocol=None): port = None neutron_client = clients.get_neutron_client() if loadbalancer.get(constants.VIP_PORT_ID): # In case we don't have vip_network_id port = neutron_client.show_port( loadbalancer[constants.VIP_PORT_ID])['port'] elif (loadbalancer.get(constants.VIP_NETWORK_ID) and loadbalancer.get(constants.VIP_ADDRESS)): ports = neutron_client.list_ports( network_id=loadbalancer[constants.VIP_NETWORK_ID]) for p in ports['ports']: for ip in p['fixed_ips']: if ip['ip_address'] == loadbalancer[constants.VIP_ADDRESS]: port = p break # If protocol set make sure its lowercase protocol = protocol.lower() if protocol else [] # In case port is not found for the vip_address we will see an # exception when port['id'] is accessed. external_ids = { ovn_const.LB_EXT_IDS_VIP_KEY: loadbalancer[constants.VIP_ADDRESS], ovn_const.LB_EXT_IDS_VIP_PORT_ID_KEY: loadbalancer.get(constants.VIP_PORT_ID) or port['id'], 'enabled': str(loadbalancer[constants.ADMIN_STATE_UP])} # In case vip_fip was passed - use it. vip_fip = loadbalancer.get(ovn_const.LB_EXT_IDS_VIP_FIP_KEY) if vip_fip: external_ids[ovn_const.LB_EXT_IDS_VIP_FIP_KEY] = vip_fip # In case of lr_ref passed - use it. lr_ref = loadbalancer.get(ovn_const.LB_EXT_IDS_LR_REF_KEY) if lr_ref: external_ids[ovn_const.LB_EXT_IDS_LR_REF_KEY] = lr_ref # In case we have LB algoritm set lb_algorithm = loadbalancer.get(constants.LB_ALGORITHM) kwargs = { 'name': loadbalancer[constants.ID], 'protocol': protocol, 'external_ids': external_ids} if self._are_selection_fields_supported(): kwargs['selection_fields'] = self._get_selection_keys(lb_algorithm) try: self.ovn_nbdb_api.db_create( 'Load_Balancer', **kwargs).execute(check_error=True) ovn_lb = self._find_ovn_lbs( loadbalancer[constants.ID], protocol=protocol) ovn_lb = ovn_lb if protocol else ovn_lb[0] commands = self._update_lb_to_ls_association( ovn_lb, network_id=port['network_id'], associate=True) ls_name = utils.ovn_name(port['network_id']) ovn_ls = self.ovn_nbdb_api.ls_get(ls_name).execute( check_error=True) ovn_lr = self._find_lr_of_ls(ovn_ls) if ovn_lr: commands.extend(self._update_lb_to_lr_association( ovn_lb, ovn_lr)) # NOTE(mjozefcz): In case of LS references where passed - # apply LS to the new LB. That could happend in case we # need another loadbalancer for other L4 protocol. ls_refs = loadbalancer.get(ovn_const.LB_EXT_IDS_LS_REFS_KEY) if ls_refs: try: ls_refs = jsonutils.loads(ls_refs) except ValueError: ls_refs = {} for ls in ls_refs: # Skip previously added LS because we don't want # to duplicate. if ls == ovn_ls.name: continue commands.extend(self._update_lb_to_ls_association( ovn_lb, network_id=ls.replace('neutron-', ''), associate=True)) self._execute_commands(commands) operating_status = constants.ONLINE # The issue is that since OVN doesnt support any HMs, # we ideally should never put the status as 'ONLINE' if not loadbalancer.get(constants.ADMIN_STATE_UP, True): operating_status = constants.OFFLINE status = { constants.LOADBALANCERS: [ {constants.ID: loadbalancer[constants.ID], constants.PROVISIONING_STATUS: constants.ACTIVE, constants.OPERATING_STATUS: operating_status}]} # If the connection with the OVN NB db server is broken, then # ovsdbapp will throw either TimeOutException or RunTimeError. # May be we can catch these specific exceptions. # It is important to report the status to octavia. We can report # immediately or reschedule the lb_create request later. # For now lets report immediately. except Exception: LOG.exception(ovn_const.EXCEPTION_MSG, ""creation of loadbalancer"") # Any Exception set the status to ERROR if isinstance(port, dict): self.delete_vip_port(port.get('id')) LOG.warning(""Deleting the VIP port %s since LB went into "" ""ERROR state"", str(port.get('id'))) status = { constants.LOADBALANCERS: [ {constants.ID: loadbalancer[constants.ID], constants.PROVISIONING_STATUS: constants.ERROR, constants.OPERATING_STATUS: constants.ERROR}]} return status def lb_delete(self, loadbalancer): port_id = None lbalancer_status = { constants.ID: loadbalancer[constants.ID], constants.PROVISIONING_STATUS: constants.DELETED, constants.OPERATING_STATUS: constants.OFFLINE} status = { constants.LOADBALANCERS: [lbalancer_status], constants.LISTENERS: [], constants.POOLS: [], constants.MEMBERS: []} ovn_lbs = None try: ovn_lbs = self._find_ovn_lbs(loadbalancer[constants.ID]) except idlutils.RowNotFound: LOG.warning(""Loadbalancer %s not found in OVN Northbound DB. "" ""Setting the Loadbalancer status to DELETED "" ""in Octavia"", str(loadbalancer[constants.ID])) return status try: port_id = ovn_lbs[0].external_ids[ ovn_const.LB_EXT_IDS_VIP_PORT_ID_KEY] for ovn_lb in ovn_lbs: status = self._lb_delete(loadbalancer, ovn_lb, status) # Clear the status dict of any key having [] value # Python 3.6 doesnt allow deleting an element in a # dict while iterating over it. So first get a list of keys. # https://cito.github.io/blog/never-iterate-a-changing-dict/ status = {key: value for key, value in status.items() if value} except Exception: LOG.exception(ovn_const.EXCEPTION_MSG, ""deletion of loadbalancer"") lbalancer_status[constants.PROVISIONING_STATUS] = constants.ERROR lbalancer_status[constants.OPERATING_STATUS] = constants.ERROR # Delete VIP port from neutron. self.delete_vip_port(port_id) return status def _lb_delete(self, loadbalancer, ovn_lb, status): commands = [] if loadbalancer['cascade']: # Delete all pools for key, value in ovn_lb.external_ids.items(): if key.startswith(ovn_const.LB_EXT_IDS_POOL_PREFIX): pool_id = key.split('_')[1] # Delete all members in the pool if value and len(value.split(',')) > 0: for mem_info in value.split(','): status[constants.MEMBERS].append({ constants.ID: mem_info.split('_')[1], constants.PROVISIONING_STATUS: constants.DELETED}) status[constants.POOLS].append( {constants.ID: pool_id, constants.PROVISIONING_STATUS: constants.DELETED}) if key.startswith(ovn_const.LB_EXT_IDS_LISTENER_PREFIX): status[constants.LISTENERS].append({ constants.ID: key.split('_')[1], constants.PROVISIONING_STATUS: constants.DELETED, constants.OPERATING_STATUS: constants.OFFLINE}) ls_refs = ovn_lb.external_ids.get(ovn_const.LB_EXT_IDS_LS_REFS_KEY, {}) if ls_refs: try: ls_refs = jsonutils.loads(ls_refs) except ValueError: ls_refs = {} for ls_name in ls_refs.keys(): try: ovn_ls = self.ovn_nbdb_api.ls_get(ls_name).execute( check_error=True) commands.append( self.ovn_nbdb_api.ls_lb_del(ovn_ls.uuid, ovn_lb.uuid)) except idlutils.RowNotFound: LOG.warning(""LogicalSwitch %s could not be found. Cannot "" ""delete Load Balancer from it"", ls_name) # Delete LB from all Networks the LB is indirectly associated for ls in self._find_lb_in_table(ovn_lb, 'Logical_Switch'): commands.append( self.ovn_nbdb_api.ls_lb_del(ls.uuid, ovn_lb.uuid, if_exists=True)) lr_ref = ovn_lb.external_ids.get(ovn_const.LB_EXT_IDS_LR_REF_KEY, {}) if lr_ref: for lr in self.ovn_nbdb_api.tables[ 'Logical_Router'].rows.values(): if lr.name == lr_ref: commands.append(self.ovn_nbdb_api.lr_lb_del( lr.uuid, ovn_lb.uuid)) break # Delete LB from all Routers the LB is indirectly associated for lr in self._find_lb_in_table(ovn_lb, 'Logical_Router'): commands.append( self.ovn_nbdb_api.lr_lb_del(lr.uuid, ovn_lb.uuid, if_exists=True)) commands.append(self.ovn_nbdb_api.lb_del(ovn_lb.uuid)) self._execute_commands(commands) return status def lb_failover(self, loadbalancer): status = { constants.LOADBALANCERS: [ {constants.ID: loadbalancer[constants.ID], constants.PROVISIONING_STATUS: constants.ACTIVE}]} return status def lb_update(self, loadbalancer): lb_status = {constants.ID: loadbalancer[constants.ID], constants.PROVISIONING_STATUS: constants.ACTIVE} status = {constants.LOADBALANCERS: [lb_status]} if constants.ADMIN_STATE_UP not in loadbalancer: return status lb_enabled = loadbalancer[constants.ADMIN_STATE_UP] try: ovn_lbs = self._find_ovn_lbs(loadbalancer[constants.ID]) # It should be unique for all the LBS for all protocols, # so we could just easly loop over all defined for given # Octavia LB. for ovn_lb in ovn_lbs: if str(ovn_lb.external_ids['enabled']) != str(lb_enabled): commands = [] enable_info = {'enabled': str(lb_enabled)} ovn_lb.external_ids['enabled'] = str(lb_enabled) commands.append( self.ovn_nbdb_api.db_set('Load_Balancer', ovn_lb.uuid, ('external_ids', enable_info)) ) commands.extend( self._refresh_lb_vips(ovn_lb.uuid, ovn_lb.external_ids)) self._execute_commands(commands) if lb_enabled: operating_status = constants.ONLINE else: operating_status = constants.OFFLINE lb_status[constants.OPERATING_STATUS] = operating_status except Exception: LOG.exception(ovn_const.EXCEPTION_MSG, ""update of loadbalancer"") lb_status[constants.PROVISIONING_STATUS] = constants.ERROR lb_status[constants.OPERATING_STATUS] = constants.ERROR return status def listener_create(self, listener): ovn_lb = self._get_or_create_ovn_lb( listener[constants.LOADBALANCER_ID], listener[constants.PROTOCOL], listener[constants.ADMIN_STATE_UP]) external_ids = copy.deepcopy(ovn_lb.external_ids) listener_key = self._get_listener_key( listener[constants.ID], is_enabled=listener[constants.ADMIN_STATE_UP]) if listener.get(constants.DEFAULT_POOL_ID): pool_key = self._get_pool_key(listener[constants.DEFAULT_POOL_ID]) else: pool_key = '' external_ids[listener_key] = self._make_listener_key_value( listener[constants.PROTOCOL_PORT], pool_key) listener_info = {listener_key: external_ids[listener_key]} try: commands = [] commands.append( self.ovn_nbdb_api.db_set('Load_Balancer', ovn_lb.uuid, ('external_ids', listener_info))) if not self._is_listener_in_lb(ovn_lb): commands.append( self.ovn_nbdb_api.db_set( 'Load_Balancer', ovn_lb.uuid, ('protocol', str(listener[constants.PROTOCOL]).lower()))) commands.extend(self._refresh_lb_vips(ovn_lb.uuid, external_ids)) self._execute_commands(commands) operating_status = constants.ONLINE if not listener.get(constants.ADMIN_STATE_UP, True): operating_status = constants.OFFLINE status = { constants.LISTENERS: [ {constants.ID: listener[constants.ID], constants.PROVISIONING_STATUS: constants.ACTIVE, constants.OPERATING_STATUS: operating_status}], constants.LOADBALANCERS: [ {constants.ID: listener[constants.LOADBALANCER_ID], constants.PROVISIONING_STATUS: constants.ACTIVE}]} except Exception: LOG.exception(ovn_const.EXCEPTION_MSG, ""creation of listener"") status = { constants.LISTENERS: [ {constants.ID: listener[constants.ID], constants.PROVISIONING_STATUS: constants.ERROR, constants.OPERATING_STATUS: constants.ERROR}], constants.LOADBALANCERS: [ {constants.ID: listener[constants.LOADBALANCER_ID], constants.PROVISIONING_STATUS: constants.ACTIVE}]} return status def listener_delete(self, listener): status = { constants.LISTENERS: [ {constants.ID: listener[constants.ID], constants.PROVISIONING_STATUS: constants.DELETED, constants.OPERATING_STATUS: constants.OFFLINE}], constants.LOADBALANCERS: [ {constants.ID: listener[constants.LOADBALANCER_ID], constants.PROVISIONING_STATUS: constants.ACTIVE}]} try: ovn_lb = self._find_ovn_lbs( listener[constants.LOADBALANCER_ID], protocol=listener[constants.PROTOCOL]) except idlutils.RowNotFound: # Listener already deleted. return status external_ids = copy.deepcopy(ovn_lb.external_ids) listener_key = self._get_listener_key(listener[constants.ID]) if listener_key in external_ids: try: commands = [] commands.append( self.ovn_nbdb_api.db_remove( 'Load_Balancer', ovn_lb.uuid, 'external_ids', (listener_key))) # Drop current listener from LB. del external_ids[listener_key] # Set LB protocol to undefined only if there are no more # listeners and pools defined in the LB. cmds, lb_to_delete = self._clean_lb_if_empty( ovn_lb, listener[constants.LOADBALANCER_ID], external_ids) commands.extend(cmds) # Do not refresh vips if OVN LB for given protocol # has pending delete operation. if not lb_to_delete: commands.extend( self._refresh_lb_vips(ovn_lb.uuid, external_ids)) self._execute_commands(commands) except Exception: LOG.exception(ovn_const.EXCEPTION_MSG, ""deletion of listener"") status = { constants.LISTENERS: [ {constants.ID: listener[constants.ID], constants.PROVISIONING_STATUS: constants.ERROR, constants.OPERATING_STATUS: constants.ERROR}], constants.LOADBALANCERS: [ {constants.ID: listener[constants.LOADBALANCER_ID], constants.PROVISIONING_STATUS: constants.ACTIVE}]} return status def listener_update(self, listener): # NOTE(mjozefcz): Based on # https://docs.openstack.org/api-ref/load-balancer/v2/?expanded=update-a-listener-detail # there is no possibility to update listener protocol or port. listener_status = {constants.ID: listener[constants.ID], constants.PROVISIONING_STATUS: constants.ACTIVE} lbalancer_status = { constants.ID: listener[constants.LOADBALANCER_ID], constants.PROVISIONING_STATUS: constants.ACTIVE} pool_status = [] status = { constants.LISTENERS: [listener_status], constants.LOADBALANCERS: [lbalancer_status], constants.POOLS: pool_status} try: ovn_lb = self._find_ovn_lbs( listener[constants.LOADBALANCER_ID], protocol=listener[constants.PROTOCOL]) except idlutils.RowNotFound: LOG.exception(ovn_const.EXCEPTION_MSG, ""update of listener"") # LB row not found during update of a listener. That is a problem. listener_status[constants.PROVISIONING_STATUS] = constants.ERROR lbalancer_status[constants.PROVISIONING_STATUS] = constants.ERROR return status l_key_when_enabled = self._get_listener_key(listener[constants.ID]) l_key_when_disabled = self._get_listener_key( listener[constants.ID], is_enabled=False) external_ids = copy.deepcopy(ovn_lb.external_ids) if constants.ADMIN_STATE_UP not in listener and ( constants.DEFAULT_POOL_ID not in listener): return status l_key_to_add = {} if l_key_when_enabled in external_ids: present_l_key = l_key_when_enabled elif l_key_when_disabled in external_ids: present_l_key = l_key_when_disabled else: # Something is terribly wrong. This cannot happen. return status try: commands = [] new_l_key = None l_key_to_remove = None if constants.ADMIN_STATE_UP in listener: if listener[constants.ADMIN_STATE_UP]: # We need to enable the listener new_l_key = l_key_when_enabled listener_status[constants.OPERATING_STATUS] = ( constants.ONLINE) else: # We need to disable the listener new_l_key = l_key_when_disabled listener_status[constants.OPERATING_STATUS] = ( constants.OFFLINE) if present_l_key != new_l_key: external_ids[new_l_key] = external_ids[present_l_key] l_key_to_add[new_l_key] = external_ids[present_l_key] del external_ids[present_l_key] l_key_to_remove = present_l_key if l_key_to_remove: commands.append( self.ovn_nbdb_api.db_remove( 'Load_Balancer', ovn_lb.uuid, 'external_ids', (l_key_to_remove))) else: new_l_key = present_l_key if constants.DEFAULT_POOL_ID in listener: pool_key = self._get_pool_key( listener[constants.DEFAULT_POOL_ID]) l_key_value = self._make_listener_key_value( listener[constants.PROTOCOL_PORT], pool_key) l_key_to_add[new_l_key] = l_key_value external_ids[new_l_key] = l_key_value pool_status.append( {constants.ID: listener[constants.DEFAULT_POOL_ID], constants.PROVISIONING_STATUS: constants.ACTIVE}) if l_key_to_add: commands.append( self.ovn_nbdb_api.db_set( 'Load_Balancer', ovn_lb.uuid, ('external_ids', l_key_to_add))) commands.extend( self._refresh_lb_vips(ovn_lb.uuid, external_ids)) self._execute_commands(commands) except Exception: LOG.exception(ovn_const.EXCEPTION_MSG, ""update of listener"") status = { constants.LISTENERS: [ {constants.ID: listener[constants.ID], constants.PROVISIONING_STATUS: constants.ERROR}], constants.LOADBALANCERS: [ {constants.ID: listener[constants.LOADBALANCER_ID], constants.PROVISIONING_STATUS: constants.ACTIVE}]} return status def pool_create(self, pool): ovn_lb = self._get_or_create_ovn_lb( pool[constants.LOADBALANCER_ID], pool[constants.PROTOCOL], pool[constants.ADMIN_STATE_UP], lb_algorithm=pool[constants.LB_ALGORITHM]) external_ids = copy.deepcopy(ovn_lb.external_ids) pool_key = self._get_pool_key( pool[constants.ID], is_enabled=pool[constants.ADMIN_STATE_UP]) external_ids[pool_key] = '' if pool[constants.LISTENER_ID]: listener_key = self._get_listener_key(pool[constants.LISTENER_ID]) if listener_key in ovn_lb.external_ids: external_ids[listener_key] = str( external_ids[listener_key]) + str(pool_key) try: self.ovn_nbdb_api.db_set( 'Load_Balancer', ovn_lb.uuid, ('external_ids', external_ids)).execute(check_error=True) # Pool status will be set to Online after a member is added to it # or when it is created with listener. operating_status = constants.OFFLINE if pool[constants.LISTENER_ID]: operating_status = constants.ONLINE status = { constants.POOLS: [ {constants.ID: pool[constants.ID], constants.PROVISIONING_STATUS: constants.ACTIVE, constants.OPERATING_STATUS: operating_status}], constants.LOADBALANCERS: [ {constants.ID: pool[constants.LOADBALANCER_ID], constants.PROVISIONING_STATUS: constants.ACTIVE}]} if pool[constants.LISTENER_ID]: listener_status = [ {constants.ID: pool[constants.LISTENER_ID], constants.PROVISIONING_STATUS: constants.ACTIVE}] status[constants.LISTENERS] = listener_status except Exception: LOG.exception(ovn_const.EXCEPTION_MSG, ""creation of pool"") status = { constants.POOLS: [ {constants.ID: pool[constants.ID], constants.PROVISIONING_STATUS: constants.ERROR}], constants.LOADBALANCERS: [ {constants.ID: pool[constants.LOADBALANCER_ID], constants.PROVISIONING_STATUS: constants.ACTIVE}]} if pool[constants.LISTENER_ID]: listener_status = [ {constants.ID: pool[constants.LISTENER_ID], constants.PROVISIONING_STATUS: constants.ACTIVE}] status[constants.LISTENERS] = listener_status return status def pool_delete(self, pool): status = { constants.POOLS: [ {constants.ID: pool[constants.ID], constants.PROVISIONING_STATUS: constants.DELETED}], constants.LOADBALANCERS: [ {constants.ID: pool[constants.LOADBALANCER_ID], constants.PROVISIONING_STATUS: constants.ACTIVE}]} try: ovn_lb = self._find_ovn_lbs( pool[constants.LOADBALANCER_ID], pool[constants.PROTOCOL]) except idlutils.RowNotFound: # LB row not found that means pool is deleted. return status pool_key = self._get_pool_key(pool[constants.ID]) commands = [] external_ids = copy.deepcopy(ovn_lb.external_ids) try: if pool_key in ovn_lb.external_ids: commands.append( self.ovn_nbdb_api.db_remove('Load_Balancer', ovn_lb.uuid, 'external_ids', (pool_key))) del external_ids[pool_key] commands.extend( self._refresh_lb_vips(ovn_lb.uuid, external_ids)) # Remove Pool from Listener if it is associated listener_id = None for key, value in ovn_lb.external_ids.items(): if (key.startswith(ovn_const.LB_EXT_IDS_LISTENER_PREFIX) and pool_key in value): external_ids[key] = value.split(':')[0] + ':' commands.append( self.ovn_nbdb_api.db_set( 'Load_Balancer', ovn_lb.uuid, ('external_ids', external_ids))) listener_id = key.split('_')[1] pool_key_when_disabled = self._get_pool_key(pool[constants.ID], is_enabled=False) if pool_key_when_disabled in ovn_lb.external_ids: commands.append( self.ovn_nbdb_api.db_remove( 'Load_Balancer', ovn_lb.uuid, 'external_ids', (pool_key_when_disabled))) commands.extend( self._clean_lb_if_empty( ovn_lb, pool[constants.LOADBALANCER_ID], external_ids)[0]) self._execute_commands(commands) if listener_id: status[constants.LISTENERS] = [ {constants.ID: listener_id, constants.PROVISIONING_STATUS: constants.ACTIVE}] except Exception: LOG.exception(ovn_const.EXCEPTION_MSG, ""deletion of pool"") status = { constants.POOLS: [ {constants.ID: pool[constants.ID], constants.PROVISIONING_STATUS: constants.ERROR}], constants.LOADBALANCERS: [ {constants.ID: pool[constants.LOADBALANCER_ID], constants.PROVISIONING_STATUS: constants.ACTIVE}]} return status def pool_update(self, pool): pool_status = {constants.ID: pool[constants.ID], constants.PROVISIONING_STATUS: constants.ACTIVE} lbalancer_status = {constants.ID: pool[constants.LOADBALANCER_ID], constants.PROVISIONING_STATUS: constants.ACTIVE} status = { constants.POOLS: [pool_status], constants.LOADBALANCERS: [lbalancer_status]} if constants.ADMIN_STATE_UP not in pool: return status try: ovn_lb = self._find_ovn_lbs( pool[constants.LOADBALANCER_ID], protocol=pool[constants.PROTOCOL]) except idlutils.RowNotFound: LOG.exception(ovn_const.EXCEPTION_MSG, ""update of pool"") # LB row not found during update of a listener. That is a problem. pool_status[constants.PROVISIONING_STATUS] = constants.ERROR lbalancer_status[constants.PROVISIONING_STATUS] = constants.ERROR return status pool_key = self._get_pool_key(pool[constants.ID]) p_key_when_disabled = self._get_pool_key(pool[constants.ID], is_enabled=False) external_ids = copy.deepcopy(ovn_lb.external_ids) p_key_to_remove = None p_key_to_add = {} try: if pool[constants.ADMIN_STATE_UP]: if p_key_when_disabled in external_ids: p_key_to_add[pool_key] = external_ids[p_key_when_disabled] external_ids[pool_key] = external_ids[p_key_when_disabled] del external_ids[p_key_when_disabled] p_key_to_remove = p_key_when_disabled else: if pool_key in external_ids: p_key_to_add[p_key_when_disabled] = external_ids[pool_key] external_ids[p_key_when_disabled] = external_ids[pool_key] del external_ids[pool_key] p_key_to_remove = pool_key if p_key_to_remove: commands = [] commands.append( self.ovn_nbdb_api.db_remove( 'Load_Balancer', ovn_lb.uuid, 'external_ids', (p_key_to_remove))) commands.append( self.ovn_nbdb_api.db_set( 'Load_Balancer', ovn_lb.uuid, ('external_ids', p_key_to_add))) commands.extend( self._refresh_lb_vips(ovn_lb.uuid, external_ids)) self._execute_commands(commands) if pool[constants.ADMIN_STATE_UP]: operating_status = constants.ONLINE else: operating_status = constants.OFFLINE pool_status[constants.OPERATING_STATUS] = operating_status pool_listeners = self._get_pool_listeners(ovn_lb, pool_key) listener_status = [] for listener in pool_listeners: listener_status.append( {constants.ID: listener, constants.PROVISIONING_STATUS: constants.ACTIVE}) status[constants.LISTENERS] = listener_status except Exception: LOG.exception(ovn_const.EXCEPTION_MSG, ""update of pool"") status = { constants.POOLS: [ {constants.ID: pool[constants.ID], constants.PROVISIONING_STATUS: constants.ERROR}], constants.LOADBALANCERS: [ {constants.ID: pool[constants.LOADBALANCER_ID], constants.PROVISIONING_STATUS: constants.ACTIVE}]} return status def _add_member(self, member, ovn_lb, pool_key): external_ids = copy.deepcopy(ovn_lb.external_ids) existing_members = external_ids[pool_key] if existing_members: existing_members = existing_members.split("","") member_info = self._get_member_key(member) # TODO(mjozefcz): Remove this workaround in W release. member_info_old = self._get_member_key(member, old_convention=True) member_found = [x for x in existing_members if re.match(member_info_old, x)] if member_found: # Member already present return if existing_members: existing_members.append(member_info) pool_data = {pool_key: "","".join(existing_members)} else: pool_data = {pool_key: member_info} commands = [] commands.append( self.ovn_nbdb_api.db_set('Load_Balancer', ovn_lb.uuid, ('external_ids', pool_data))) external_ids[pool_key] = pool_data[pool_key] commands.extend(self._refresh_lb_vips(ovn_lb.uuid, external_ids)) commands.extend( self._update_lb_to_ls_association( ovn_lb, subnet_id=member[constants.SUBNET_ID], associate=True)) self._execute_commands(commands) def member_create(self, member): try: pool_key, ovn_lb = self._find_ovn_lb_by_pool_id( member[constants.POOL_ID]) self._add_member(member, ovn_lb, pool_key) pool = {constants.ID: member[constants.POOL_ID], constants.PROVISIONING_STATUS: constants.ACTIVE, constants.OPERATING_STATUS: constants.ONLINE} member_status = {constants.ID: member[constants.ID], constants.PROVISIONING_STATUS: constants.ACTIVE} if not member[constants.ADMIN_STATE_UP]: member_status[constants.OPERATING_STATUS] = constants.OFFLINE status = { constants.POOLS: [pool], constants.MEMBERS: [member_status], constants.LOADBALANCERS: [ {constants.ID: ovn_lb.name, constants.PROVISIONING_STATUS: constants.ACTIVE}]} pool_listeners = self._get_pool_listeners(ovn_lb, pool_key) listener_status = [] for listener in pool_listeners: listener_status.append( {constants.ID: listener, constants.PROVISIONING_STATUS: constants.ACTIVE}) status[constants.LISTENERS] = listener_status except Exception: LOG.exception(ovn_const.EXCEPTION_MSG, ""creation of member"") status = { constants.POOLS: [ {constants.ID: member[constants.POOL_ID], constants.PROVISIONING_STATUS: constants.ERROR}], constants.MEMBERS: [ {constants.ID: member[constants.ID], constants.PROVISIONING_STATUS: constants.ACTIVE}], constants.LOADBALANCERS: [ {constants.ID: ovn_lb.name, constants.PROVISIONING_STATUS: constants.ACTIVE}]} return status def _remove_member(self, member, ovn_lb, pool_key): external_ids = copy.deepcopy(ovn_lb.external_ids) existing_members = external_ids[pool_key].split("","") # TODO(mjozefcz): Delete this workaround in W release. # To support backward compatibility member # could be defined as `member`_`id`_`ip`:`port`_`subnet_id` # or defined as `member`_`id`_`ip`:`port member_info_old = self._get_member_key(member, old_convention=True) member_found = [x for x in existing_members if re.match(member_info_old, x)] if member_found: commands = [] existing_members.remove(member_found[0]) if not existing_members: pool_status = constants.OFFLINE else: pool_status = constants.ONLINE pool_data = {pool_key: "","".join(existing_members)} commands.append( self.ovn_nbdb_api.db_set('Load_Balancer', ovn_lb.uuid, ('external_ids', pool_data))) external_ids[pool_key] = "","".join(existing_members) commands.extend( self._refresh_lb_vips(ovn_lb.uuid, external_ids)) commands.extend( self._update_lb_to_ls_association( ovn_lb, subnet_id=member.get(constants.SUBNET_ID), associate=False)) self._execute_commands(commands) return pool_status else: msg = ""Member %s not found in the pool"" % member[constants.ID] raise driver_exceptions.DriverError( user_fault_string=msg, operator_fault_string=msg) def member_delete(self, member): try: pool_key, ovn_lb = self._find_ovn_lb_by_pool_id( member[constants.POOL_ID]) pool_status = self._remove_member(member, ovn_lb, pool_key) pool = {constants.ID: member[constants.POOL_ID], constants.PROVISIONING_STATUS: constants.ACTIVE, constants.OPERATING_STATUS: pool_status} status = { constants.POOLS: [pool], constants.MEMBERS: [ {constants.ID: member[constants.ID], constants.PROVISIONING_STATUS: constants.DELETED}], constants.LOADBALANCERS: [ {constants.ID: ovn_lb.name, constants.PROVISIONING_STATUS: constants.ACTIVE}]} pool_listeners = self._get_pool_listeners(ovn_lb, pool_key) listener_status = [] for listener in pool_listeners: listener_status.append( {constants.ID: listener, constants.PROVISIONING_STATUS: constants.ACTIVE}) status[constants.LISTENERS] = listener_status except Exception: LOG.exception(ovn_const.EXCEPTION_MSG, ""deletion of member"") status = { constants.POOLS: [ {constants.ID: member[constants.POOL_ID], constants.PROVISIONING_STATUS: constants.ACTIVE}], constants.MEMBERS: [ {constants.ID: member[constants.ID], constants.PROVISIONING_STATUS: constants.ERROR}], constants.LOADBALANCERS: [ {constants.ID: ovn_lb.name, constants.PROVISIONING_STATUS: constants.ACTIVE}]} return status def _update_member(self, member, ovn_lb, pool_key): commands = [] external_ids = copy.deepcopy(ovn_lb.external_ids) existing_members = external_ids[pool_key].split("","") member_info = self._get_member_key(member) for mem in existing_members: if (member_info.split('_')[1] == mem.split('_')[1] and mem != member_info): existing_members.remove(mem) existing_members.append(member_info) pool_data = {pool_key: "","".join(existing_members)} commands.append( self.ovn_nbdb_api.db_set('Load_Balancer', ovn_lb.uuid, ('external_ids', pool_data))) external_ids[pool_key] = "","".join(existing_members) commands.extend( self._refresh_lb_vips(ovn_lb.uuid, external_ids)) self._execute_commands(commands) def member_update(self, member): try: pool_key, ovn_lb = self._find_ovn_lb_by_pool_id( member[constants.POOL_ID]) member_status = {constants.ID: member[constants.ID], constants.PROVISIONING_STATUS: constants.ACTIVE} status = { constants.POOLS: [ {constants.ID: member[constants.POOL_ID], constants.PROVISIONING_STATUS: constants.ACTIVE}], constants.MEMBERS: [member_status], constants.LOADBALANCERS: [ {constants.ID: ovn_lb.name, constants.PROVISIONING_STATUS: constants.ACTIVE}]} self._update_member(member, ovn_lb, pool_key) if constants.ADMIN_STATE_UP in member: if member[constants.ADMIN_STATE_UP]: old_admin_state_up = member.get('old_admin_state_up') if old_admin_state_up is None: exist_member = self._octavia_driver_lib.get_member( member[constants.ID]) if exist_member: old_admin_state_up = exist_member.admin_state_up if old_admin_state_up: member_status[constants.OPERATING_STATUS] = ( constants.ONLINE) else: # going from down to up should reflect NO_MONITOR state member_status[constants.OPERATING_STATUS] = ( constants.NO_MONITOR) else: member_status[constants.OPERATING_STATUS] = ( constants.OFFLINE) pool_listeners = self._get_pool_listeners(ovn_lb, pool_key) listener_status = [] for listener in pool_listeners: listener_status.append( {constants.ID: listener, constants.PROVISIONING_STATUS: constants.ACTIVE}) status[constants.LISTENERS] = listener_status except Exception: LOG.exception(ovn_const.EXCEPTION_MSG, ""update of member"") status = { constants.POOLS: [ {constants.ID: member[constants.POOL_ID], constants.PROVISIONING_STATUS: constants.ACTIVE}], constants.MEMBERS: [ {constants.ID: member[constants.ID], constants.PROVISIONING_STATUS: constants.ERROR}], constants.LOADBALANCERS: [ {constants.ID: ovn_lb.name, constants.PROVISIONING_STATUS: constants.ACTIVE}]} return status def _get_existing_pool_members(self, pool_id): pool_key, ovn_lb = self._find_ovn_lb_by_pool_id(pool_id) if not ovn_lb: msg = _(""Loadbalancer with pool %s does not exist"") % pool_key raise driver_exceptions.DriverError(msg) external_ids = dict(ovn_lb.external_ids) return external_ids[pool_key] def get_pool_member_id(self, pool_id, mem_addr_port=None): '''Gets Member information :param pool_id: ID of the Pool whose member information is reqd. :param mem_addr_port: Combination of Member Address+Port. Default=None :returns: UUID -- ID of the Member if member exists in pool. :returns: None -- if no member exists in the pool :raises: Exception if Loadbalancer is not found for a Pool ID ''' existing_members = self._get_existing_pool_members(pool_id) # Members are saved in OVN in the form of # member1_UUID_IP:Port, member2_UUID_IP:Port # Match the IP:Port for all members with the mem_addr_port # information and return the UUID. for meminf in existing_members.split(','): if mem_addr_port == meminf.split('_')[2]: return meminf.split('_')[1] def create_vip_port(self, project_id, lb_id, vip_d): port = {'port': {'name': ovn_const.LB_VIP_PORT_PREFIX + str(lb_id), 'network_id': vip_d[constants.VIP_NETWORK_ID], 'fixed_ips': [{'subnet_id': vip_d['vip_subnet_id']}], 'admin_state_up': True, 'project_id': project_id}} try: port['port']['fixed_ips'][0]['ip_address'] = ( vip_d[constants.VIP_ADDRESS]) except KeyError: pass neutron_client = clients.get_neutron_client() try: return neutron_client.create_port(port) except n_exc.IpAddressAlreadyAllocatedClient as e: # Sometimes the VIP is already created (race-conditions) # Lets get the it from Neutron API. ports = neutron_client.list_ports( network_id=vip_d[constants.VIP_NETWORK_ID], name='%s%s' % (ovn_const.LB_VIP_PORT_PREFIX, lb_id)) if not ports['ports']: LOG.error('Cannot create/get LoadBalancer VIP port with ' 'fixed IP: %s', vip_d[constants.VIP_ADDRESS]) raise e # there should only be one port returned port = ports['ports'][0] LOG.debug('VIP Port already exists, uuid: %s', port['id']) return {'port': port} def delete_vip_port(self, port_id): neutron_client = clients.get_neutron_client() try: neutron_client.delete_port(port_id) except n_exc.PortNotFoundClient: LOG.warning(""Port %s could not be found. Please "" ""check Neutron logs. Perhaps port "" ""was already deleted."", port_id) def handle_vip_fip(self, fip_info): ovn_lb = fip_info['ovn_lb'] external_ids = copy.deepcopy(ovn_lb.external_ids) commands = [] if fip_info['action'] == ovn_const.REQ_INFO_ACTION_ASSOCIATE: external_ids[ovn_const.LB_EXT_IDS_VIP_FIP_KEY] = ( fip_info['vip_fip']) vip_fip_info = { ovn_const.LB_EXT_IDS_VIP_FIP_KEY: fip_info['vip_fip']} commands.append( self.ovn_nbdb_api.db_set('Load_Balancer', ovn_lb.uuid, ('external_ids', vip_fip_info))) else: external_ids.pop(ovn_const.LB_EXT_IDS_VIP_FIP_KEY) commands.append( self.ovn_nbdb_api.db_remove( 'Load_Balancer', ovn_lb.uuid, 'external_ids', (ovn_const.LB_EXT_IDS_VIP_FIP_KEY))) commands.extend(self._refresh_lb_vips(ovn_lb.uuid, external_ids)) self._execute_commands(commands) def handle_member_dvr(self, info): pool_key, ovn_lb = self._find_ovn_lb_by_pool_id(info['pool_id']) if not ovn_lb.external_ids.get(ovn_const.LB_EXT_IDS_VIP_FIP_KEY): LOG.debug(""LB %(lb)s has no FIP on VIP configured. "" ""There is no need to centralize member %(member)s "" ""traffic."", {'lb': ovn_lb.uuid, 'member': info['id']}) return # Find out if member has FIP assigned. neutron_client = clients.get_neutron_client() try: subnet = neutron_client.show_subnet(info['subnet_id']) ls_name = utils.ovn_name(subnet['subnet']['network_id']) except n_exc.NotFound: LOG.exception('Subnet %s not found while trying to ' 'fetch its data.', info['subnet_id']) return try: ls = self.ovn_nbdb_api.lookup('Logical_Switch', ls_name) except idlutils.RowNotFound: LOG.warning(""Logical Switch %s not found. "" ""Cannot verify member FIP configuration."", ls_name) return fip = None f = utils.remove_macs_from_lsp_addresses for port in ls.ports: if info['address'] in f(port.addresses): # We found particular port fip = self.ovn_nbdb_api.db_find_rows( 'NAT', ('external_ids', '=', { ovn_const.OVN_FIP_PORT_EXT_ID_KEY: port.name}) ).execute(check_error=True) fip = fip[0] if fip else fip break if not fip: LOG.debug('Member %s has no FIP assigned. ' 'There is no need to modify its NAT.', info['id']) return if info['action'] == ovn_const.REQ_INFO_MEMBER_ADDED: LOG.info('Member %(member)s is added to Load Balancer %(lb)s ' 'and both have FIP assigned. Member FIP %(fip)s ' 'needs to be centralized in those conditions. ' 'Deleting external_mac/logical_port from it.', {'member': info['id'], 'lb': ovn_lb.uuid, 'fip': fip.external_ip}) self.ovn_nbdb_api.db_clear( 'NAT', fip.uuid, 'external_mac').execute(check_error=True) self.ovn_nbdb_api.db_clear( 'NAT', fip.uuid, 'logical_port').execute(check_error=True) else: LOG.info('Member %(member)s is deleted from Load Balancer ' '%(lb)s and both have FIP assigned. Member FIP %(fip)s ' 'can be decentralized now if environment has DVR ' 'enabled. Updating FIP object for recomputation.', {'member': info['id'], 'lb': ovn_lb.uuid, 'fip': fip.external_ip}) # NOTE(mjozefcz): We don't know if this env is DVR or not. # We should call neutron API to do 'empty' update of the FIP. # It will bump revision number and do recomputation of the FIP. try: fip_info = neutron_client.show_floatingip( fip.external_ids[ovn_const.OVN_FIP_EXT_ID_KEY]) empty_update = { ""floatingip"": { 'description': fip_info['floatingip']['description']}} neutron_client.update_floatingip( fip.external_ids[ovn_const.OVN_FIP_EXT_ID_KEY], empty_update) except n_exc.NotFound: LOG.warning('Members %(member)s FIP %(fip)s not found in ' 'Neutron. Cannot update it.', {'member': info['id'], 'fip': fip.external_ip}) >>>>>>> CHANGE (ee060b Add log for request_handler events) ",,1841,0
openstack%2Fpuppet-openstack-integration~stable%2Fvictoria~I892279193c1e29325668803b10dd5c0f7b901efa,openstack/puppet-openstack-integration,stable/victoria,I892279193c1e29325668803b10dd5c0f7b901efa,Victoria and before: Update TripleO job definitions,MERGED,2021-06-03 07:03:17.000000000,2021-06-11 10:42:39.000000000,2021-06-11 10:42:39.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 07:03:17.000000000', 'files': ['zuul.d/tripleo.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9dd0ab57e6336e74c6ff96589ba884671c4f428e', 'message': 'Victoria and before: Update TripleO job definitions\n\nThis change backports the series of patches to update tripleo job\ndefinitions so that it becomes consistent with the job definitions\nin stable/wallaby and later.\n\ne538c69a416ea50a544762c93c38500d241438bc\nRemove all TripleO jobs in CentOS7\n\n1914b7ed1e499d13af4952992d0bf1728ca4db8e\nSkip unnecessary tests for release cut off\nNOTE: only change for tripleo jobs are backported.\n\na12e3c0e063bfd1debc489ca0fa5c17c2d556cfd\nUse low-memory-usage.yaml in tripleo jobs\n\n1176b0bfd4dac40a6bb53834d9d8a2c0735ccf62\nAdd content provider jobs for tripleo based jobs\n\ncabac611610011a70307f8e96e49fc3bd248b823\nSkip content provider job for irrelevant files\n\nChange-Id: I892279193c1e29325668803b10dd5c0f7b901efa\n'}]",0,794410,9dd0ab57e6336e74c6ff96589ba884671c4f428e,8,3,1,9816,,,0,"Victoria and before: Update TripleO job definitions

This change backports the series of patches to update tripleo job
definitions so that it becomes consistent with the job definitions
in stable/wallaby and later.

e538c69a416ea50a544762c93c38500d241438bc
Remove all TripleO jobs in CentOS7

1914b7ed1e499d13af4952992d0bf1728ca4db8e
Skip unnecessary tests for release cut off
NOTE: only change for tripleo jobs are backported.

a12e3c0e063bfd1debc489ca0fa5c17c2d556cfd
Use low-memory-usage.yaml in tripleo jobs

1176b0bfd4dac40a6bb53834d9d8a2c0735ccf62
Add content provider jobs for tripleo based jobs

cabac611610011a70307f8e96e49fc3bd248b823
Skip content provider job for irrelevant files

Change-Id: I892279193c1e29325668803b10dd5c0f7b901efa
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/10/794410/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tripleo.yaml'],1,9dd0ab57e6336e74c6ff96589ba884671c4f428e,centos7-tripleo-stable/victoria, name: tripleo-puppet-ci-centos-8-undercloud-containers parent: tripleo-ci-centos-8-undercloud-containers irrelevant-files: &irrelevant_files - ^requirements.txt$ - ^.gitreview$ - ^tox.ini$ - job: name: tripleo-puppet-ci-centos-8-content-provider parent: tripleo-ci-centos-8-content-provider irrelevant-files: *irrelevant_files - project-template: name: tripleo-puppet-undercloud check: jobs: - tripleo-puppet-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-undercloud-containers: vars: &undercloud_consumer_vars consumer_job: true remove_tags: - build dependencies: - tripleo-puppet-ci-centos-8-content-provider gate: jobs: - tripleo-puppet-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-undercloud-containers: vars: *undercloud_consumer_vars dependencies: - tripleo-puppet-ci-centos-8-content-provider irrelevant-files: *irrelevant_files vars: featureset_override: standalone_environment_files: - 'environments/low-memory-usage.yaml' - tripleo-puppet-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-standalone: vars: &standalone_consumer_vars consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-puppet-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-standalone: vars: *standalone_consumer_vars dependencies: - tripleo-puppet-ci-centos-8-content-provider, name: tripleo-puppet-ci-centos-7-undercloud-containers parent: tripleo-ci-centos-7-undercloud-containers irrelevant-files: - ^.*\.md$ - ^.*\.rst$ - ^doc/.*$ - ^etc/.*$ - ^metadata.json$ - ^releasenotes/.*$ - ^test-requirements.txt$ - ^LICENSE$ - ^.gitignore$ - ^setup.cfg$ - ^setup.py$ - project-template: name: tripleo-puppet-undercloud check: jobs: - tripleo-puppet-ci-centos-7-undercloud-containers gate: jobs: - tripleo-puppet-ci-centos-7-undercloud-containers - job: name: tripleo-puppet-ci-centos-7-standalone parent: tripleo-ci-centos-7-standalone irrelevant-files: &standalone_irrelevant_files irrelevant-files: *standalone_irrelevant_files - tripleo-puppet-ci-centos-7-standalone - tripleo-puppet-ci-centos-8-standalone - tripleo-puppet-ci-centos-7-standalone - tripleo-puppet-ci-centos-8-standalone,50,33
openstack%2Fpuppet-vswitch~master~I84d023ab82c0432eeb762682d0496d6c6bbf2e82,openstack/puppet-vswitch,master,I84d023ab82c0432eeb762682d0496d6c6bbf2e82,Fix default of vswitch::provider in RedHat OS,MERGED,2021-06-09 06:00:40.000000000,2021-06-11 10:32:56.000000000,2021-06-11 10:32:56.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 06:00:40.000000000', 'files': ['manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/961eed828cdc4fb78b28a13fd6b3fbdbfdca474f', 'message': ""Fix default of vswitch::provider in RedHat OS\n\nThe vswitch::provider parameter is set to 'ovs_redhat' but it results\nin including the vwitch::ovs_redhat class which has never existed.\nThe parameter is supposed to take ovs or dpdk thus the default should\nbe ovs even in RedHat OS.\n\nChange-Id: I84d023ab82c0432eeb762682d0496d6c6bbf2e82\n""}]",2,795477,961eed828cdc4fb78b28a13fd6b3fbdbfdca474f,9,4,1,9816,,,0,"Fix default of vswitch::provider in RedHat OS

The vswitch::provider parameter is set to 'ovs_redhat' but it results
in including the vwitch::ovs_redhat class which has never existed.
The parameter is supposed to take ovs or dpdk thus the default should
be ovs even in RedHat OS.

Change-Id: I84d023ab82c0432eeb762682d0496d6c6bbf2e82
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/77/795477/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/params.pp'],1,961eed828cdc4fb78b28a13fd6b3fbdbfdca474f,provider, $provider = 'ovs', $provider = 'ovs_redhat',1,1
openstack%2Ftripleo-validations~stable%2Ftrain~I329d56a266a62327ab3ba88ac726729624d2a766,openstack/tripleo-validations,stable/train,I329d56a266a62327ab3ba88ac726729624d2a766,Remove the post-update groups.,MERGED,2021-06-10 15:34:18.000000000,2021-06-11 10:30:05.000000000,2021-06-11 10:30:05.000000000,"[{'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 32432}]","[{'number': 1, 'created': '2021-06-10 15:34:18.000000000', 'files': ['playbooks/check-uc-hostname.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4ea7b5d9bc2cb31809ef2216543b08747438ea29', 'message': ""Remove the post-update groups.\n\nFor the update it's not required to define the DockerInsecureRegistryAddress parameter.\n\nChange-Id: I329d56a266a62327ab3ba88ac726729624d2a766\n(cherry picked from commit 90858c7db4da25f08e30b5f04c78929f05847770)\n""}]",0,795837,4ea7b5d9bc2cb31809ef2216543b08747438ea29,6,3,1,31245,,,0,"Remove the post-update groups.

For the update it's not required to define the DockerInsecureRegistryAddress parameter.

Change-Id: I329d56a266a62327ab3ba88ac726729624d2a766
(cherry picked from commit 90858c7db4da25f08e30b5f04c78929f05847770)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/37/795837/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/check-uc-hostname.yaml'],1,4ea7b5d9bc2cb31809ef2216543b08747438ea29,,, - post-update,0,1
openstack%2Fpuppet-keystone~stable%2Frocky~If8bc9eb8f27202c661e0e8bde765d8f530923c5d,openstack/puppet-keystone,stable/rocky,If8bc9eb8f27202c661e0e8bde765d8f530923c5d,Rocky only: Remove TripleO Job,MERGED,2021-05-28 01:08:12.000000000,2021-06-11 10:22:09.000000000,2021-06-11 10:22:09.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-28 01:08:12.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/41c95f000d92e75ee9e5f1c1b8436e6505e575af', 'message': 'Rocky only: Remove TripleO Job\n\n... because TripleO has EOLed its Rocky.\n\nChange-Id: If8bc9eb8f27202c661e0e8bde765d8f530923c5d\n'}]",0,793519,41c95f000d92e75ee9e5f1c1b8436e6505e575af,10,3,1,9816,,,0,"Rocky only: Remove TripleO Job

... because TripleO has EOLed its Rocky.

Change-Id: If8bc9eb8f27202c661e0e8bde765d8f530923c5d
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/19/793519/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,41c95f000d92e75ee9e5f1c1b8436e6505e575af,rocky-tripleo,, - tripleo-puppet-undercloud,0,1
openstack%2Fpuppet-neutron~stable%2Frocky~I689437c15d838f5cee634511002f986a0a4e2103,openstack/puppet-neutron,stable/rocky,I689437c15d838f5cee634511002f986a0a4e2103,Rocky only: Remove TripleO Job,MERGED,2021-05-28 01:07:50.000000000,2021-06-11 10:12:17.000000000,2021-06-11 10:12:17.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-28 01:07:50.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/82f7454161d309fd1ff0faa915090b7997de3b87', 'message': 'Rocky only: Remove TripleO Job\n\n... because TripleO has EOLed its Rocky.\n\nChange-Id: I689437c15d838f5cee634511002f986a0a4e2103\n'}]",0,793518,82f7454161d309fd1ff0faa915090b7997de3b87,8,3,1,9816,,,0,"Rocky only: Remove TripleO Job

... because TripleO has EOLed its Rocky.

Change-Id: I689437c15d838f5cee634511002f986a0a4e2103
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/18/793518/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,82f7454161d309fd1ff0faa915090b7997de3b87,rocky-tripleo,, - tripleo-puppet-undercloud,0,1
openstack%2Fpuppet-heat~stable%2Frocky~I4ff93cf4a1f225f88750fd37a392d36cb4dce7bb,openstack/puppet-heat,stable/rocky,I4ff93cf4a1f225f88750fd37a392d36cb4dce7bb,Rocky only: Remove TripleO Job,MERGED,2021-05-28 01:12:57.000000000,2021-06-11 10:10:29.000000000,2021-06-11 10:10:29.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-28 01:12:57.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/41c74eeed59cabf34b5c6ad68b7609b2ddbc6979', 'message': 'Rocky only: Remove TripleO Job\n\n... because TripleO has EOLed its Rocky.\n\nChange-Id: I4ff93cf4a1f225f88750fd37a392d36cb4dce7bb\n'}]",0,793520,41c74eeed59cabf34b5c6ad68b7609b2ddbc6979,10,3,1,9816,,,0,"Rocky only: Remove TripleO Job

... because TripleO has EOLed its Rocky.

Change-Id: I4ff93cf4a1f225f88750fd37a392d36cb4dce7bb
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/20/793520/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,41c74eeed59cabf34b5c6ad68b7609b2ddbc6979,rocky-tripleo,, - tripleo-puppet-undercloud,0,1
openstack%2Fpuppet-mistral~stable%2Frocky~I32a4abff69e91edb1a8a9a7482f2878cc4e9313b,openstack/puppet-mistral,stable/rocky,I32a4abff69e91edb1a8a9a7482f2878cc4e9313b,Rocky only: Remove TripleO Job,MERGED,2021-05-28 01:13:42.000000000,2021-06-11 10:08:44.000000000,2021-06-11 10:08:44.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-28 01:13:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/8dc3b7e4a392f2a06bac0a8500753c32d19511fb', 'message': 'Rocky only: Remove TripleO Job\n\n... because TripleO has EOLed its Rocky.\n\nChange-Id: I32a4abff69e91edb1a8a9a7482f2878cc4e9313b\n'}]",0,793522,8dc3b7e4a392f2a06bac0a8500753c32d19511fb,8,3,1,9816,,,0,"Rocky only: Remove TripleO Job

... because TripleO has EOLed its Rocky.

Change-Id: I32a4abff69e91edb1a8a9a7482f2878cc4e9313b
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/22/793522/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8dc3b7e4a392f2a06bac0a8500753c32d19511fb,rocky-tripleo,, - tripleo-puppet-undercloud,0,1
openstack%2Ftripleo-validations~stable%2Fwallaby~I329d56a266a62327ab3ba88ac726729624d2a766,openstack/tripleo-validations,stable/wallaby,I329d56a266a62327ab3ba88ac726729624d2a766,Remove the post-update groups.,MERGED,2021-06-10 15:26:09.000000000,2021-06-11 10:07:09.000000000,2021-06-11 10:07:09.000000000,"[{'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 32432}]","[{'number': 1, 'created': '2021-06-10 15:26:09.000000000', 'files': ['playbooks/check-uc-hostname.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9923eda9f35ae4fafd4db1141ec687f8be52c686', 'message': ""Remove the post-update groups.\n\nFor the update it's not required to define the\nDockerInsecureRegistryAddress parameter.\n\nChange-Id: I329d56a266a62327ab3ba88ac726729624d2a766\n(cherry picked from commit 9f7dbbf5ccd73141bef49d6faa3b6480104244eb)\n""}]",0,795833,9923eda9f35ae4fafd4db1141ec687f8be52c686,6,3,1,31245,,,0,"Remove the post-update groups.

For the update it's not required to define the
DockerInsecureRegistryAddress parameter.

Change-Id: I329d56a266a62327ab3ba88ac726729624d2a766
(cherry picked from commit 9f7dbbf5ccd73141bef49d6faa3b6480104244eb)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/33/795833/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/check-uc-hostname.yaml'],1,9923eda9f35ae4fafd4db1141ec687f8be52c686,,, - post-update,0,1
openstack%2Fkolla-ansible~master~Iced014acee7e590c10848e73feca166f48b622dc,openstack/kolla-ansible,master,Iced014acee7e590c10848e73feca166f48b622dc,"Reduce RabbitMQ busy waiting, lowering CPU load",MERGED,2020-04-27 10:10:46.000000000,2021-06-11 10:07:01.000000000,2021-06-11 09:35:24.000000000,"[{'_account_id': 782}, {'_account_id': 14826}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-04-27 10:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3a784cdb7060be325b57f81bde668c5cf81162a1', 'message': 'Reduce Rabbit busy waiting, lowering CPU load\n\nOn machines with many cores, we were seeing excessive CPU load on systems\nthat were not very busy. We saw RabbitMQ CPU usage drop from about 150%\nto around 20%, on a system with 40 hyperthreads.\n\n+S 2:2\n\nBy default rabbit starts N schedulers where N is the number of CPU\ncores, including hyper-threaded cores. This is fine when you assume all\nyour CPUs are dedicated to RabbitMQ. Its not a good idea in a\nkolla-ansible setup. Here we go for two scheduler threads.\nMore details can be found here:\nhttps://www.rabbitmq.com/runtime.html#scheduling\nand here:\nhttps://erlang.org/doc/man/erl.html#emulator-flags\n\n+sbwt none\n\nThis stops busy waiting of the scheduler, for more details see:\nhttps://www.rabbitmq.com/runtime.html#busy-waiting\nNewer versions of rabbit may need additional flags:\n""+sbwt none +sbwtdcpu none +sbwtdio none""\nBut this patch should be back portable to older versions of Rabbit\nusing in Train and Stein.\n\nNote that information on this tuning was found by looking at data from:\nrabbitmq-diagnostics runtime_thread_stats\nMore details on that can be found here:\nhttps://www.rabbitmq.com/runtime.html#thread-stats\n\nChange-Id: Iced014acee7e590c10848e73feca166f48b622dc\n'}, {'number': 2, 'created': '2020-04-27 10:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f1ca1a012d1aaf8a106455cd80c01f56c5eefb1e', 'message': 'Reduce Rabbit busy waiting, lowering CPU load\n\nOn machines with many cores, we were seeing excessive CPU load on systems\nthat were not very busy. We saw RabbitMQ CPU usage drop from about 150%\nto around 20%, on a system with 40 hyperthreads.\n\n+S 2:2\n\nBy default rabbit starts N schedulers where N is the number of CPU\ncores, including hyper-threaded cores. This is fine when you assume all\nyour CPUs are dedicated to RabbitMQ. Its not a good idea in a\nkolla-ansible setup. Here we go for two scheduler threads.\nMore details can be found here:\nhttps://www.rabbitmq.com/runtime.html#scheduling\nand here:\nhttps://erlang.org/doc/man/erl.html#emulator-flags\n\n+sbwt none\n\nThis stops busy waiting of the scheduler, for more details see:\nhttps://www.rabbitmq.com/runtime.html#busy-waiting\nNewer versions of rabbit may need additional flags:\n""+sbwt none +sbwtdcpu none +sbwtdio none""\nBut this patch should be back portable to older versions of Rabbit\nusing in Train and Stein.\n\nNote that information on this tuning was found by looking at data from:\nrabbitmq-diagnostics runtime_thread_stats\nMore details on that can be found here:\nhttps://www.rabbitmq.com/runtime.html#thread-stats\n\nChange-Id: Iced014acee7e590c10848e73feca166f48b622dc\n'}, {'number': 3, 'created': '2021-06-04 13:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ad9b1440797aa543201799d77025583ada89e3b9', 'message': 'Reduce Rabbit busy waiting, lowering CPU load\n\nOn machines with many cores, we were seeing excessive CPU load on systems\nthat were not very busy. We saw RabbitMQ CPU usage drop from about 150%\nto around 20%, on a system with 40 hyperthreads.\n\n+S 2:2\n\nBy default rabbit starts N schedulers where N is the number of CPU\ncores, including hyper-threaded cores. This is fine when you assume all\nyour CPUs are dedicated to RabbitMQ. Its not a good idea in a\nkolla-ansible setup. Here we go for two scheduler threads.\nMore details can be found here:\nhttps://www.rabbitmq.com/runtime.html#scheduling\nand here:\nhttps://erlang.org/doc/man/erl.html#emulator-flags\n\n+sbwt none\n\nThis stops busy waiting of the scheduler, for more details see:\nhttps://www.rabbitmq.com/runtime.html#busy-waiting\nNewer versions of rabbit may need additional flags:\n""+sbwt none +sbwtdcpu none +sbwtdio none""\nBut this patch should be back portable to older versions of Rabbit\nusing in Train and Stein.\n\nNote that information on this tuning was found by looking at data from:\nrabbitmq-diagnostics runtime_thread_stats\nMore details on that can be found here:\nhttps://www.rabbitmq.com/runtime.html#thread-stats\n\nRelated-Bug: #1846467\n\nChange-Id: Iced014acee7e590c10848e73feca166f48b622dc\n'}, {'number': 4, 'created': '2021-06-07 08:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bc444ec26ba50a541bd6cfefca1807ca04e2659e', 'message': 'Reduce Rabbit busy waiting, lowering CPU load\n\nOn machines with many cores, we were seeing excessive CPU load on systems\nthat were not very busy. We saw RabbitMQ CPU usage drop from about 150%\nto around 20%, on a system with 40 hyperthreads.\n\n+S 2:2\n\nBy default rabbit starts N schedulers where N is the number of CPU\ncores, including hyper-threaded cores. This is fine when you assume all\nyour CPUs are dedicated to RabbitMQ. Its not a good idea in a\nkolla-ansible setup. Here we go for two scheduler threads.\nMore details can be found here:\nhttps://www.rabbitmq.com/runtime.html#scheduling\nand here:\nhttps://erlang.org/doc/man/erl.html#emulator-flags\n\n+sbwt none\n\nThis stops busy waiting of the scheduler, for more details see:\nhttps://www.rabbitmq.com/runtime.html#busy-waiting\nNewer versions of rabbit may need additional flags:\n""+sbwt none +sbwtdcpu none +sbwtdio none""\nBut this patch should be back portable to older versions of Rabbit\nusing in Train and Stein.\n\nNote that information on this tuning was found by looking at data from:\nrabbitmq-diagnostics runtime_thread_stats\nMore details on that can be found here:\nhttps://www.rabbitmq.com/runtime.html#thread-stats\n\nRelated-Bug: #1846467\n\nChange-Id: Iced014acee7e590c10848e73feca166f48b622dc\n'}, {'number': 5, 'created': '2021-06-07 10:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6b3ff89813c8cd6c7f727d43272391f342940062', 'message': 'Reduce RabbitMQ busy waiting, lowering CPU load\n\nOn machines with many cores, we were seeing excessive CPU load on systems\nthat were not very busy. With the following Erlang VM argument we saw\nRabbitMQ CPU usage drop from about 150% to around 20%, on a system with\n40 hyperthreads.\n\n    +S 2:2\n\nBy default RabbitMQ starts N schedulers where N is the number of CPU\ncores, including hyper-threaded cores. This is fine when you assume all\nyour CPUs are dedicated to RabbitMQ. Its not a good idea in a typical\nKolla Ansible setup. Here we go for two scheduler threads.\nMore details can be found here:\nhttps://www.rabbitmq.com/runtime.html#scheduling\nand here:\nhttps://erlang.org/doc/man/erl.html#emulator-flags\n\n    +sbwt none\n\nThis stops busy waiting of the scheduler, for more details see:\nhttps://www.rabbitmq.com/runtime.html#busy-waiting\nNewer versions of rabbit may need additional flags:\n""+sbwt none +sbwtdcpu none +sbwtdio none""\nBut this patch should be back portable to older versions of RabbitMQ\nused in Train and Stein.\n\nNote that information on this tuning was found by looking at data from:\nrabbitmq-diagnostics runtime_thread_stats\nMore details on that can be found here:\nhttps://www.rabbitmq.com/runtime.html#thread-stats\n\nRelated-Bug: #1846467\n\nChange-Id: Iced014acee7e590c10848e73feca166f48b622dc\n'}, {'number': 6, 'created': '2021-06-07 12:18:50.000000000', 'files': ['releasenotes/notes/reduce-rabbit-busy-waiting-085433c822165eab.yaml', 'doc/source/reference/message-queues/rabbitmq.rst', 'ansible/roles/rabbitmq/defaults/main.yml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/70f6f8e4c02ed6a8687d2bd714d3fe0b9d04d84a', 'message': 'Reduce RabbitMQ busy waiting, lowering CPU load\n\nOn machines with many cores, we were seeing excessive CPU load on systems\nthat were not very busy. With the following Erlang VM argument we saw\nRabbitMQ CPU usage drop from about 150% to around 20%, on a system with\n40 hyperthreads.\n\n    +S 2:2\n\nBy default RabbitMQ starts N schedulers where N is the number of CPU\ncores, including hyper-threaded cores. This is fine when you assume all\nyour CPUs are dedicated to RabbitMQ. Its not a good idea in a typical\nKolla Ansible setup. Here we go for two scheduler threads.\nMore details can be found here:\nhttps://www.rabbitmq.com/runtime.html#scheduling\nand here:\nhttps://erlang.org/doc/man/erl.html#emulator-flags\n\n    +sbwt none\n\nThis stops busy waiting of the scheduler, for more details see:\nhttps://www.rabbitmq.com/runtime.html#busy-waiting\nNewer versions of rabbit may need additional flags:\n""+sbwt none +sbwtdcpu none +sbwtdio none""\nBut this patch should be back portable to older versions of RabbitMQ\nused in Train and Stein.\n\nNote that information on this tuning was found by looking at data from:\nrabbitmq-diagnostics runtime_thread_stats\nMore details on that can be found here:\nhttps://www.rabbitmq.com/runtime.html#thread-stats\n\nRelated-Bug: #1846467\n\nChange-Id: Iced014acee7e590c10848e73feca166f48b622dc\n'}]",2,723374,70f6f8e4c02ed6a8687d2bd714d3fe0b9d04d84a,34,6,6,782,,,0,"Reduce RabbitMQ busy waiting, lowering CPU load

On machines with many cores, we were seeing excessive CPU load on systems
that were not very busy. With the following Erlang VM argument we saw
RabbitMQ CPU usage drop from about 150% to around 20%, on a system with
40 hyperthreads.

    +S 2:2

By default RabbitMQ starts N schedulers where N is the number of CPU
cores, including hyper-threaded cores. This is fine when you assume all
your CPUs are dedicated to RabbitMQ. Its not a good idea in a typical
Kolla Ansible setup. Here we go for two scheduler threads.
More details can be found here:
https://www.rabbitmq.com/runtime.html#scheduling
and here:
https://erlang.org/doc/man/erl.html#emulator-flags

    +sbwt none

This stops busy waiting of the scheduler, for more details see:
https://www.rabbitmq.com/runtime.html#busy-waiting
Newer versions of rabbit may need additional flags:
""+sbwt none +sbwtdcpu none +sbwtdio none""
But this patch should be back portable to older versions of RabbitMQ
used in Train and Stein.

Note that information on this tuning was found by looking at data from:
rabbitmq-diagnostics runtime_thread_stats
More details on that can be found here:
https://www.rabbitmq.com/runtime.html#thread-stats

Related-Bug: #1846467

Change-Id: Iced014acee7e590c10848e73feca166f48b622dc
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/74/723374/6 && git format-patch -1 --stdout FETCH_HEAD,['etc/kolla/globals.yml'],1,3a784cdb7060be325b57f81bde668c5cf81162a1,,"#rabbitmq_server_additional_erl_args: ""+S 2:2 +sbwt none""","#rabbitmq_server_additional_erl_args: """"",1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I025a604ddcb1f76cde3e51a359d720de42c51d91,openstack/tripleo-heat-templates,stable/train,I025a604ddcb1f76cde3e51a359d720de42c51d91,[train-only] Remove unsupported kernel modules before leapp,ABANDONED,2021-06-02 10:17:48.000000000,2021-06-11 10:06:23.000000000,,"[{'_account_id': 6816}, {'_account_id': 8833}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-06-02 10:17:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dcd63fdba8a71b91a04f56799c4385c3c214194e', 'message': '[upgrade] Remove unsupported kernel modules before leapp\n\nWhen enacting the upgrade from RHEL7 to RHEL8 using leapp,\nit will hard-stop if these modules are loaded. Thus far,\nthese are the ones tripping up CI and some customers.\n\nTo cater to customers who might hit this, and to resolve\nissues in CI, we add this script as the default for the\nLeappInitCommand which runs immediately before leapp.\n\nThis ensures that it is there to cover the majority of\ncustomers, but it is also easily overridden with changes\nif further changes are required for the customer environment\nor for the future. It is also perfectly suitable to use\nthe existing parameter instead of adding a new one.\n\nRelated: rhbz#1962365\n\nChange-Id: I025a604ddcb1f76cde3e51a359d720de42c51d91\n'}, {'number': 2, 'created': '2021-06-02 10:22:57.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/db6f0936a5368fcf479f0e2e5bdc81f32aa2541a', 'message': '[train-only] Remove unsupported kernel modules before leapp\n\nWhen enacting the upgrade from RHEL7 to RHEL8 using leapp,\nit will hard-stop if these modules are loaded. Thus far,\nthese are the ones tripping up CI and some customers.\n\nTo cater to customers who might hit this, and to resolve\nissues in CI, we add this script as the default for the\nLeappInitCommand which runs immediately before leapp.\n\nThis ensures that it is there to cover the majority of\ncustomers, but it is also easily overridden with changes\nif further changes are required for the customer environment\nor for the future. It is also perfectly suitable to use\nthe existing parameter instead of adding a new one.\n\nThis is train-only because it is unique to the RHEL7 to\nRHEL8 upgrade process.\n\nRelated: rhbz#1962365\n\nChange-Id: I025a604ddcb1f76cde3e51a359d720de42c51d91\n'}]",7,794197,db6f0936a5368fcf479f0e2e5bdc81f32aa2541a,16,8,2,6816,,,0,"[train-only] Remove unsupported kernel modules before leapp

When enacting the upgrade from RHEL7 to RHEL8 using leapp,
it will hard-stop if these modules are loaded. Thus far,
these are the ones tripping up CI and some customers.

To cater to customers who might hit this, and to resolve
issues in CI, we add this script as the default for the
LeappInitCommand which runs immediately before leapp.

This ensures that it is there to cover the majority of
customers, but it is also easily overridden with changes
if further changes are required for the customer environment
or for the future. It is also perfectly suitable to use
the existing parameter instead of adding a new one.

This is train-only because it is unique to the RHEL7 to
RHEL8 upgrade process.

Related: rhbz#1962365

Change-Id: I025a604ddcb1f76cde3e51a359d720de42c51d91
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/794197/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,dcd63fdba8a71b91a04f56799c4385c3c214194e,," default: | for module in floppy pata_acpi; do sudo lsmod | grep -q $module && { sudo rmmod $module; echo ""$module unloaded""; } || echo ""$module was not loaded"" done", default: '',4,1
openstack%2Fpuppet-swift~stable%2Frocky~I12b79d0cf64a7031ed27bef7726251c341825914,openstack/puppet-swift,stable/rocky,I12b79d0cf64a7031ed27bef7726251c341825914,Rocky only: Remove TripleO Job,MERGED,2021-05-28 01:36:28.000000000,2021-06-11 10:04:24.000000000,2021-06-11 10:04:24.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-28 01:36:28.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/af952f70f17a37fdee345c55e0822cd81a954a2b', 'message': 'Rocky only: Remove TripleO Job\n\n... because TripleO has EOLed its Rocky.\n\nChange-Id: I12b79d0cf64a7031ed27bef7726251c341825914\n'}]",0,793527,af952f70f17a37fdee345c55e0822cd81a954a2b,8,3,1,9816,,,0,"Rocky only: Remove TripleO Job

... because TripleO has EOLed its Rocky.

Change-Id: I12b79d0cf64a7031ed27bef7726251c341825914
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/27/793527/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,af952f70f17a37fdee345c55e0822cd81a954a2b,rocky-tripleo,, - tripleo-puppet-undercloud,0,1
openstack%2Ftripleo-validations~stable%2Fussuri~I329d56a266a62327ab3ba88ac726729624d2a766,openstack/tripleo-validations,stable/ussuri,I329d56a266a62327ab3ba88ac726729624d2a766,Remove the post-update groups.,MERGED,2021-06-10 15:30:52.000000000,2021-06-11 10:02:14.000000000,2021-06-11 10:02:14.000000000,"[{'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 32432}]","[{'number': 1, 'created': '2021-06-10 15:30:52.000000000', 'files': ['playbooks/check-uc-hostname.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/90858c7db4da25f08e30b5f04c78929f05847770', 'message': ""Remove the post-update groups.\n\nFor the update it's not required to define the\nDockerInsecureRegistryAddress parameter.\n\nChange-Id: I329d56a266a62327ab3ba88ac726729624d2a766\n(cherry picked from commit a11a9a3b105cef5a90b6942679ce468c7884b334)\n""}]",0,795835,90858c7db4da25f08e30b5f04c78929f05847770,6,3,1,31245,,,0,"Remove the post-update groups.

For the update it's not required to define the
DockerInsecureRegistryAddress parameter.

Change-Id: I329d56a266a62327ab3ba88ac726729624d2a766
(cherry picked from commit a11a9a3b105cef5a90b6942679ce468c7884b334)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/35/795835/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/check-uc-hostname.yaml'],1,90858c7db4da25f08e30b5f04c78929f05847770,,, - post-update,0,1
openstack%2Fpuppet-zaqar~stable%2Frocky~If5e07ce690de55ca1a0155c8c5649da8b3f66939,openstack/puppet-zaqar,stable/rocky,If5e07ce690de55ca1a0155c8c5649da8b3f66939,Rocky only: Remove TripleO Job,MERGED,2021-05-28 01:14:06.000000000,2021-06-11 10:01:34.000000000,2021-06-11 10:01:34.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-28 01:14:06.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/b2e24e15fabaed0f0f7b627619ab44d9d548ec07', 'message': 'Rocky only: Remove TripleO Job\n\n... because TripleO has EOLed its Rocky.\n\nChange-Id: If5e07ce690de55ca1a0155c8c5649da8b3f66939\n'}]",0,793523,b2e24e15fabaed0f0f7b627619ab44d9d548ec07,8,3,1,9816,,,0,"Rocky only: Remove TripleO Job

... because TripleO has EOLed its Rocky.

Change-Id: If5e07ce690de55ca1a0155c8c5649da8b3f66939
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/23/793523/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b2e24e15fabaed0f0f7b627619ab44d9d548ec07,rocky-tripleo,, - tripleo-puppet-undercloud,0,1
openstack%2Foctavia~master~I98b31be1b1c0f61157831145ef9d19d481e2e0b0,openstack/octavia,master,I98b31be1b1c0f61157831145ef9d19d481e2e0b0,Update amphora status on health update,ABANDONED,2020-10-12 12:13:20.000000000,2021-06-11 09:56:50.000000000,,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-12 12:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/cee20641b6ebe7215c7eb1f636245cf9356ae18c', 'message': ""Update amphora status on health update\n\nWhen update amphora health, if amphora status is not ACTIVE -\nupdate status to ACTIVE to align amphora's state.\n\nChange-Id: I98b31be1b1c0f61157831145ef9d19d481e2e0b0\nStory: 2008248\nTask: 41095\n""}, {'number': 2, 'created': '2020-10-14 10:08:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8b72d0dc70ff83973690ceb9aa10f2442858764b', 'message': ""Update amphora status on health update\n\nWhen update amphora health, if amphora status is not ACTIVE -\nupdate status to ACTIVE to align amphora's state.\n\nChange-Id: I98b31be1b1c0f61157831145ef9d19d481e2e0b0\nStory: 2008248\nTask: 41095\n""}, {'number': 3, 'created': '2020-10-14 12:14:30.000000000', 'files': ['releasenotes/notes/set-amphora-active-on-health-update-f9966e5eff9f4316.yaml', 'octavia/amphorae/drivers/health/heartbeat_udp.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/60abe10e833395fa424988a9af6529f34a1683a1', 'message': ""Update amphora status on health update\n\nWhen update amphora health, if amphora status is not ACTIVE -\nupdate status to ACTIVE to align amphora's state.\n\nChange-Id: I98b31be1b1c0f61157831145ef9d19d481e2e0b0\nStory: 2008248\nTask: 41095\n""}]",0,757548,60abe10e833395fa424988a9af6529f34a1683a1,16,4,3,7249,,,0,"Update amphora status on health update

When update amphora health, if amphora status is not ACTIVE -
update status to ACTIVE to align amphora's state.

Change-Id: I98b31be1b1c0f61157831145ef9d19d481e2e0b0
Story: 2008248
Task: 41095
",git fetch https://review.opendev.org/openstack/octavia refs/changes/48/757548/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/set-amphora-active-on-health-update-f9966e5eff9f4316.yaml', 'octavia/amphorae/drivers/health/heartbeat_udp.py']",2,cee20641b6ebe7215c7eb1f636245cf9356ae18c,," amp = self.amphora_repo.get(lock_session, id=health['id']) if amp.status != constants.ACTIVE: self.amphora_repo.update(lock_session, id=health[constants.ID], status=constants.ACTIVE)",,10,0
openstack%2Fkolla~stable%2Fwallaby~I8460a4159c8da8ae0b856867e068d30fbffb4d34,openstack/kolla,stable/wallaby,I8460a4159c8da8ae0b856867e068d30fbffb4d34,Enable Debian updates repo,MERGED,2021-06-10 19:17:48.000000000,2021-06-11 09:53:22.000000000,2021-06-11 09:51:35.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-10 19:17:48.000000000', 'files': ['releasenotes/notes/bug-1931544-5a091735efb6d6dd.yaml', 'docker/base/sources.list.debian'], 'web_link': 'https://opendev.org/openstack/kolla/commit/746ae194eeaaea7b8ef30311acb424cb95b21da3', 'message': 'Enable Debian updates repo\n\nBackport below Wallaby switching bullseye to buster.\n\nCloses-Bug: #1931544\nChange-Id: I8460a4159c8da8ae0b856867e068d30fbffb4d34\n(cherry picked from commit 789c9c3b84e84796ac8211112fa29f415f560c88)\n'}]",0,795811,746ae194eeaaea7b8ef30311acb424cb95b21da3,9,3,1,30491,,,0,"Enable Debian updates repo

Backport below Wallaby switching bullseye to buster.

Closes-Bug: #1931544
Change-Id: I8460a4159c8da8ae0b856867e068d30fbffb4d34
(cherry picked from commit 789c9c3b84e84796ac8211112fa29f415f560c88)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/11/795811/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1931544-5a091735efb6d6dd.yaml', 'docker/base/sources.list.debian']",2,746ae194eeaaea7b8ef30311acb424cb95b21da3,bug/1931544-stable/wallaby,# debian updates deb http://deb.debian.org/debian bullseye-updates main ,,12,0
openstack%2Fsushy~stable%2Fwallaby~I22d0033691ee0ba34fca14ac14904e33342a584a,openstack/sushy,stable/wallaby,I22d0033691ee0ba34fca14ac14904e33342a584a,Fix incorrect formatting and a Python 3.10 failure,MERGED,2021-06-11 07:40:29.000000000,2021-06-11 09:52:48.000000000,2021-06-11 09:51:17.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 07:40:29.000000000', 'files': ['sushy/resources/registry/message_registry.py', 'sushy/tests/unit/test_connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/1b299c64ab8ea3f5e842c9a9b4d9fcfaf9cbf5ea', 'message': 'Fix incorrect formatting and a Python 3.10 failure\n\nWhile testing on Python 3.10 two issues were spotted:\n1) Missing formatting specifiers in registry logging\n2) Reliance on the exact way HTTP status are converted to string\n\nFedora bug https://bugzilla.redhat.com/show_bug.cgi?id=1969148\n\nChange-Id: I22d0033691ee0ba34fca14ac14904e33342a584a\n(cherry picked from commit 5b38ec591e2ea8df8f49fc956a2aecb7776a6656)\n'}]",0,795877,1b299c64ab8ea3f5e842c9a9b4d9fcfaf9cbf5ea,9,3,1,23851,,,0,"Fix incorrect formatting and a Python 3.10 failure

While testing on Python 3.10 two issues were spotted:
1) Missing formatting specifiers in registry logging
2) Reliance on the exact way HTTP status are converted to string

Fedora bug https://bugzilla.redhat.com/show_bug.cgi?id=1969148

Change-Id: I22d0033691ee0ba34fca14ac14904e33342a584a
(cherry picked from commit 5b38ec591e2ea8df8f49fc956a2aecb7776a6656)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/77/795877/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/resources/registry/message_registry.py', 'sushy/tests/unit/test_connector.py']",2,1b299c64ab8ea3f5e842c9a9b4d9fcfaf9cbf5ea,py310-stable/wallaby, '%s. unknown error Extended information: ' 'none' % http_client.FORBIDDEN), 'HTTPStatus.FORBIDDEN. unknown error Extended information: ' 'none'),4,4
openstack%2Fneutron~master~If01568110ebfa80c46e595fa4818572300baf05b,openstack/neutron,master,If01568110ebfa80c46e595fa4818572300baf05b,[WIP] Remove DB Port backref to DB RouterPort,ABANDONED,2021-03-22 17:04:54.000000000,2021-06-11 09:40:11.000000000,,"[{'_account_id': 5948}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-22 17:04:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/529464052222b2abc00a0a02df8a23fef26382e6', 'message': '[WIP] Remove DB Port backref to DB RouterPort\n\nRemoved back reference from ""Port"" to ""RouterPort"". ""Port"" DB\nobject does not need to retrieve ""RouterPort"" (and ""Router"" and\n""Agent"", from ""RouterPort"") when a port is fetched.\n\nChange-Id: If01568110ebfa80c46e595fa4818572300baf05b\nCloses-Bug: # TBD\n'}, {'number': 2, 'created': '2021-03-22 17:26:28.000000000', 'files': ['neutron/db/models/l3.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/60ec097552e3a2b936b5fc3d9763caeaf5c1f080', 'message': '[WIP] Remove DB Port backref to DB RouterPort\n\n[Change description, more DB models changed]\n\nRemoved back reference from ""Port"" to ""RouterPort"". ""Port"" DB\nobject does not need to retrieve ""RouterPort"" (and ""Router"" and\n""Agent"", from ""RouterPort"") when a port is fetched.\n\nChange-Id: If01568110ebfa80c46e595fa4818572300baf05b\nCloses-Bug: # TBD\n'}]",0,782298,60ec097552e3a2b936b5fc3d9763caeaf5c1f080,8,2,2,16688,,,0,"[WIP] Remove DB Port backref to DB RouterPort

[Change description, more DB models changed]

Removed back reference from ""Port"" to ""RouterPort"". ""Port"" DB
object does not need to retrieve ""RouterPort"" (and ""Router"" and
""Agent"", from ""RouterPort"") when a port is fetched.

Change-Id: If01568110ebfa80c46e595fa4818572300baf05b
Closes-Bug: # TBD
",git fetch https://review.opendev.org/openstack/neutron refs/changes/98/782298/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/models/l3.py'],1,529464052222b2abc00a0a02df8a23fef26382e6,router_port," port = orm.relationship(models_v2.Port, lazy='joined')"," port = orm.relationship( models_v2.Port, backref=orm.backref('routerport', uselist=False, cascade=""all,delete""), lazy='joined')",1,4
openstack%2Fneutron~master~I68123b8e0dcf529078aea4de8cb3610a3202a4d9,openstack/neutron,master,I68123b8e0dcf529078aea4de8cb3610a3202a4d9,Remove creation LBAAS tables during init ops,ABANDONED,2021-04-10 10:04:36.000000000,2021-06-11 09:39:40.000000000,,"[{'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-10 10:04:36.000000000', 'files': ['neutron/db/migration/alembic_migrations/versions/mitaka/contract/1b294093239c_remove_embrane_plugin.py', 'neutron/db/migration/alembic_migrations/external.py', 'neutron/db/migration/alembic_migrations/versions/kilo_initial.py', 'neutron/db/migration/alembic_migrations/loadbalancer_init_ops.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/01dc31bd76e2782a570c6c25f5fd7d0d27b50187', 'message': 'Remove creation LBAAS tables during init ops\n\nLBAAS was retired in Train. The related DB tables created during the\ninitial DB operations are not needed and can be removed. Those tables\nare not referred by any other project.\n\nChange-Id: I68123b8e0dcf529078aea4de8cb3610a3202a4d9\nRelated-Bug: #1833125\n'}]",0,785749,01dc31bd76e2782a570c6c25f5fd7d0d27b50187,23,3,1,16688,,,0,"Remove creation LBAAS tables during init ops

LBAAS was retired in Train. The related DB tables created during the
initial DB operations are not needed and can be removed. Those tables
are not referred by any other project.

Change-Id: I68123b8e0dcf529078aea4de8cb3610a3202a4d9
Related-Bug: #1833125
",git fetch https://review.opendev.org/openstack/neutron refs/changes/49/785749/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/migration/alembic_migrations/versions/mitaka/contract/1b294093239c_remove_embrane_plugin.py', 'neutron/db/migration/alembic_migrations/external.py', 'neutron/db/migration/alembic_migrations/versions/kilo_initial.py', 'neutron/db/migration/alembic_migrations/loadbalancer_init_ops.py']",4,01dc31bd76e2782a570c6c25f5fd7d0d27b50187,bug/1833125,,"# Copyright 2014 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # Initial schema operations for the load balancer service plugin from alembic import op import sqlalchemy as sa protocols = sa.Enum('HTTP', 'HTTPS', 'TCP', name='lb_protocols') session_persistence_type = sa.Enum('SOURCE_IP', 'HTTP_COOKIE', 'APP_COOKIE', name='sesssionpersistences_type') lb_methods = sa.Enum('ROUND_ROBIN', 'LEAST_CONNECTIONS', 'SOURCE_IP', name='pools_lb_method') health_monitor_type = sa.Enum('PING', 'TCP', 'HTTP', 'HTTPS', name='healthmontiors_type') def upgrade(): op.create_table( 'healthmonitors', sa.Column('tenant_id', sa.String(length=255), nullable=True), sa.Column('id', sa.String(length=36), nullable=False), sa.Column('type', health_monitor_type, nullable=False), sa.Column('delay', sa.Integer(), nullable=False), sa.Column('timeout', sa.Integer(), nullable=False), sa.Column('max_retries', sa.Integer(), nullable=False), sa.Column('http_method', sa.String(length=16), nullable=True), sa.Column('url_path', sa.String(length=255), nullable=True), sa.Column('expected_codes', sa.String(length=64), nullable=True), sa.Column('admin_state_up', sa.Boolean(), nullable=False), sa.PrimaryKeyConstraint('id')) op.create_table( 'vips', sa.Column('tenant_id', sa.String(length=255), nullable=True), sa.Column('id', sa.String(length=36), nullable=False), sa.Column('status', sa.String(length=16), nullable=False), sa.Column('status_description', sa.String(length=255), nullable=True), sa.Column('name', sa.String(length=255), nullable=True), sa.Column('description', sa.String(length=255), nullable=True), sa.Column('port_id', sa.String(length=36), nullable=True), sa.Column('protocol_port', sa.Integer(), nullable=False), sa.Column('protocol', protocols, nullable=False), sa.Column('pool_id', sa.String(length=36), nullable=False), sa.Column('admin_state_up', sa.Boolean(), nullable=False), sa.Column('connection_limit', sa.Integer(), nullable=True), sa.ForeignKeyConstraint(['port_id'], ['ports.id'], ), sa.PrimaryKeyConstraint('id'), sa.UniqueConstraint('pool_id')) op.create_table( 'pools', sa.Column('tenant_id', sa.String(length=255), nullable=True), sa.Column('id', sa.String(length=36), nullable=False), sa.Column('status', sa.String(length=16), nullable=False), sa.Column('status_description', sa.String(length=255), nullable=True), sa.Column('vip_id', sa.String(length=36), nullable=True), sa.Column('name', sa.String(length=255), nullable=True), sa.Column('description', sa.String(length=255), nullable=True), sa.Column('subnet_id', sa.String(length=36), nullable=False), sa.Column('protocol', protocols, nullable=False), sa.Column('lb_method', lb_methods, nullable=False), sa.Column('admin_state_up', sa.Boolean(), nullable=False), sa.ForeignKeyConstraint(['vip_id'], ['vips.id'], ), sa.PrimaryKeyConstraint('id')) op.create_table( 'sessionpersistences', sa.Column('vip_id', sa.String(length=36), nullable=False), sa.Column('type', session_persistence_type, nullable=False), sa.Column('cookie_name', sa.String(length=1024), nullable=True), sa.ForeignKeyConstraint(['vip_id'], ['vips.id'], ), sa.PrimaryKeyConstraint('vip_id')) op.create_table( 'poolloadbalanceragentbindings', sa.Column('pool_id', sa.String(length=36), nullable=False), sa.Column('agent_id', sa.String(length=36), nullable=False), sa.ForeignKeyConstraint(['pool_id'], ['pools.id'], ondelete='CASCADE'), sa.ForeignKeyConstraint(['agent_id'], ['agents.id'], ondelete='CASCADE'), sa.PrimaryKeyConstraint('pool_id')) op.create_table( 'members', sa.Column('tenant_id', sa.String(length=255), nullable=True), sa.Column('id', sa.String(length=36), nullable=False), sa.Column('status', sa.String(length=16), nullable=False), sa.Column('status_description', sa.String(length=255), nullable=True), sa.Column('pool_id', sa.String(length=36), nullable=False), sa.Column('address', sa.String(length=64), nullable=False), sa.Column('protocol_port', sa.Integer(), nullable=False), sa.Column('weight', sa.Integer(), nullable=False), sa.Column('admin_state_up', sa.Boolean(), nullable=False), sa.ForeignKeyConstraint(['pool_id'], ['pools.id'], ), sa.PrimaryKeyConstraint('id'), sa.UniqueConstraint('pool_id', 'address', 'protocol_port', name='uniq_member0pool_id0address0port')) op.create_table( 'poolmonitorassociations', sa.Column('status', sa.String(length=16), nullable=False), sa.Column('status_description', sa.String(length=255), nullable=True), sa.Column('pool_id', sa.String(length=36), nullable=False), sa.Column('monitor_id', sa.String(length=36), nullable=False), sa.ForeignKeyConstraint(['pool_id'], ['pools.id'], ), sa.ForeignKeyConstraint(['monitor_id'], ['healthmonitors.id'], ), sa.PrimaryKeyConstraint('pool_id', 'monitor_id')) op.create_table( 'poolstatisticss', sa.Column('pool_id', sa.String(length=36), nullable=False), sa.Column('bytes_in', sa.BigInteger(), nullable=False), sa.Column('bytes_out', sa.BigInteger(), nullable=False), sa.Column('active_connections', sa.BigInteger(), nullable=False), sa.Column('total_connections', sa.BigInteger(), nullable=False), sa.ForeignKeyConstraint(['pool_id'], ['pools.id'], ), sa.PrimaryKeyConstraint('pool_id')) op.create_table( u'embrane_pool_port', sa.Column(u'pool_id', sa.String(length=36), nullable=False), sa.Column(u'port_id', sa.String(length=36), nullable=False), sa.ForeignKeyConstraint(['pool_id'], [u'pools.id'], name=u'embrane_pool_port_ibfk_1'), sa.ForeignKeyConstraint(['port_id'], [u'ports.id'], name=u'embrane_pool_port_ibfk_2'), sa.PrimaryKeyConstraint(u'pool_id')) ",2,155
openstack%2Fneutron~master~Idff60bd14ff1f9eceb269c42e3defec102a0023e,openstack/neutron,master,Idff60bd14ff1f9eceb269c42e3defec102a0023e,Remove creation NEC plugin tables during init ops,ABANDONED,2021-04-10 10:13:39.000000000,2021-06-11 09:39:37.000000000,,"[{'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-10 10:13:39.000000000', 'files': ['neutron/db/migration/alembic_migrations/nec_init_ops.py', 'neutron/db/migration/alembic_migrations/versions/kilo_initial.py', 'neutron/db/migration/alembic_migrations/versions/mitaka/contract/e3278ee65050_drop_nec_plugin_tables.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/21b52f210234f8078877a790db13ed1c29b4a1fa', 'message': 'Remove creation NEC plugin tables during init ops\n\nNEC plugin was deprecated in Liberty. The related tables are not used\nby any project.\n\nChange-Id: Idff60bd14ff1f9eceb269c42e3defec102a0023e\nRelated-Bug: #1545620\n'}]",0,785750,21b52f210234f8078877a790db13ed1c29b4a1fa,18,3,1,16688,,,0,"Remove creation NEC plugin tables during init ops

NEC plugin was deprecated in Liberty. The related tables are not used
by any project.

Change-Id: Idff60bd14ff1f9eceb269c42e3defec102a0023e
Related-Bug: #1545620
",git fetch https://review.opendev.org/openstack/neutron refs/changes/50/785750/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/migration/alembic_migrations/nec_init_ops.py', 'neutron/db/migration/alembic_migrations/versions/kilo_initial.py', 'neutron/db/migration/alembic_migrations/versions/mitaka/contract/e3278ee65050_drop_nec_plugin_tables.py']",3,21b52f210234f8078877a790db13ed1c29b4a1fa,bug/1545620, pass # NEC plugin tables are not crated during the init operation.,from alembic import op op.drop_table('ofcnetworkmappings') op.drop_table('ofcportmappings') op.drop_table('ofcroutermappings') op.drop_table('ofcfiltermappings') op.drop_table('ofctenantmappings') op.drop_table('portinfos') op.drop_table('routerproviders') op.drop_table('packetfilters'),1,113
openstack%2Fneutron~master~Ia2db40601ac3b48bc7b5b629bdf8686884037555,openstack/neutron,master,Ia2db40601ac3b48bc7b5b629bdf8686884037555,"Set a timeout in bash ""kill"" command",ABANDONED,2021-05-13 14:03:41.000000000,2021-06-11 09:39:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-13 14:03:41.000000000', 'files': ['neutron/agent/linux/external_process.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a900aeeb25359e50b5e87d4a5d6ad604325fd606', 'message': 'Set a timeout in bash ""kill"" command\n\nThis patch sets a timeout of one second to the ""kill"" command\nexecution. Regardless of the result of the command, that should\nbe instant, the command is terminated one second after the execution.\n\nChange-Id: Ia2db40601ac3b48bc7b5b629bdf8686884037555\nCloses-Bug: #1921154\n'}]",0,791243,a900aeeb25359e50b5e87d4a5d6ad604325fd606,7,1,1,16688,,,0,"Set a timeout in bash ""kill"" command

This patch sets a timeout of one second to the ""kill"" command
execution. Regardless of the result of the command, that should
be instant, the command is terminated one second after the execution.

Change-Id: Ia2db40601ac3b48bc7b5b629bdf8686884037555
Closes-Bug: #1921154
",git fetch https://review.opendev.org/openstack/neutron refs/changes/43/791243/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/external_process.py'],1,a900aeeb25359e50b5e87d4a5d6ad604325fd606,bug/1921154,"import signal self.disable(sig=int(signal.SIGHUP)) return ['timeout', 1, 'kill', '-%s' % (sig), pid, '&']"," self.disable('HUP') return ['kill', '-%s' % (sig), pid]",3,2
openstack%2Fopenstack-ansible~master~I08fc0855d3b997695a1066822afa5d023722fe8b,openstack/openstack-ansible,master,I08fc0855d3b997695a1066822afa5d023722fe8b,Freeze roles for Wallaby RC1,MERGED,2021-06-10 17:05:06.000000000,2021-06-11 09:34:51.000000000,2021-06-11 09:32:43.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28752}]","[{'number': 1, 'created': '2021-06-10 17:05:06.000000000', 'files': ['releasenotes/notes/cinder_v2_api-fede0d5cb8eff0fd.yaml', 'releasenotes/notes/swift_gnocchi-29eed9b49794f980.yaml', 'releasenotes/notes/gnocchi_project_name-41f74bdb17c219f8.yaml', 'releasenotes/notes/role-cleanup-e709b66675dcda60.yaml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/51a107aba05ebd74a68418fb3f2e1298399964d6', 'message': 'Freeze roles for Wallaby RC1\n\nChange-Id: I08fc0855d3b997695a1066822afa5d023722fe8b\n'}]",0,795849,51a107aba05ebd74a68418fb3f2e1298399964d6,15,4,1,28619,,,0,"Freeze roles for Wallaby RC1

Change-Id: I08fc0855d3b997695a1066822afa5d023722fe8b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/49/795849/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/cinder_v2_api-fede0d5cb8eff0fd.yaml', 'releasenotes/notes/swift_gnocchi-29eed9b49794f980.yaml', 'releasenotes/notes/gnocchi_project_name-41f74bdb17c219f8.yaml', 'releasenotes/notes/role-cleanup-e709b66675dcda60.yaml', 'ansible-role-requirements.yml']",5,51a107aba05ebd74a68418fb3f2e1298399964d6,, version: 6f354a7a4b1e44f5aaa0e4860896e3cb8bbb88e1 version: 434478c28955327e36ac098d2843b90427bf964c version: 57efa55efbc1d16ee1538786c93af27d916d4039 version: 60de69f0ec7c4476fc7455e3a698f8d740cba6be version: 13657acfb26742ea10906c3f5a008f35561174e8 version: 834b2927a70ff0482cc4066f6797ab89240da47c version: b5fe49d98601f62055365645df47ef1bae30ee74 version: e3a82d3a884b262d196e8288787bd34814fafd06 version: 02727291afaaf3920fc11d3018ea088af5e4f1b0 version: 9e943af97604214809ffeb966a5914af4e6f1f2f version: fe04707b0b87c40596335f8506e6a87e429cbf9d version: 713a0576d882ff3f13da7d5ac3cefb9775ce90ed version: af0c55f6832f13242ed04357fe4180b5d8318771 version: 66d3b942ac759b28e9aef92ff8928627de2480c0 version: a38daa515d8dda3120af8d6cf4088bc9ae009d1f version: 9375d4d1d673209c96f85a8863532003f5b82ec5 version: d0323e9bb1dbd5be70d9d8d25a977b3afdb1ba66 version: f9ed9485ccf29d616652c09686d5768abc9ac1e0 version: d120669a7d8f14af3ab1ba1ee3b438ac88225358 version: b67bd60df37d870eb5c1a08b2272a5be5fb3ffc7 version: 2fa394033bf8de6674eb6c97958132f115eb48c4 version: ac545c353ea85aa7410e09a7155fd07f013da146 version: c70c34b85053cf948ccfc3ccf229c6a22e400cad version: f1e08dab1bf3f02d030925514b6b65fc56c0b10e version: 4bcf6aef0e0c575e1d1dd61f5c9ed71921fe62c6 version: fb96a661ffa0e156245824890dd74b1f17a383f9 version: 9f3dfd20b06d324a5b34eadc47651585fd414d73 version: 415b5ad7a88c3a08e367cb5c83ea0cb7a9ece3ba version: 1fe2df61d21a08b85f1ff906a9a5129f299d28ee version: efd06dfaadb8ddafc66aa48fd615617917d6d897 version: 5e0a408fdb89ff2d5a0fe890230e083113e89451 version: c42711e1cf407e7830f6c4263482dc06b432683a version: 4e88bdb7da94a8be4e4eb48c313aff6fadbce685 version: e64e815dd358575539f754a43ac17b0b9fcc4834 version: b2056f6f4daf3ef94d2636f31310f3254e7ec2fd version: 5fab204977a768a0a30a5685b97b1fd817b1f1bf version: 243198ecedd8fcb61b08cffc9e2c28b5dd674ad1 version: eefafc352788ec9ba96a80036c666eeed27b58c0 version: f9300539c59eea82d1597de1e8c56ccb9eba9572 version: b96ce882213d5944fd72f5607b909877fc17c461 version: 906e596a81fd10b4c6275ff622c632b740fbe33d version: 3771143280aa64d2b5d4724626ef38af770d9bf0 version: 9f1416dd12741015f90a597ed0c1fe116cc09999 version: f51699d0e721e1c0fc016e92d09c62abb44a9e45 version: f89b7f0aaf69b9d0877e6380bfc009f24b4e3f84 version: 1c06fe38f0aaa251e50c321bdb2f7cb8c5391d17 version: 840f47f4b9e2874019630fd70a77fe31be6aacd0 version: 3b402db6b1577dee76aa54d5480c0e4cfcafe97d version: 8a80f9785783250a46a0f689d7fe5e8c7c993a09 version: 5340b650e513ed6323602879c0db841681c5bc59 version: ad399343c9568f6f496be6159a6ca4893169a579 version: 9e5a7d7fc8b72ad4aa73280a7638b0554cf20d5c version: ab9861e35c23342fa30c703d29e370da590ea582 version: f8e2d8a89ddb9352d5748332a5f3a33ed33f66ab version: f7f694b3dd4361e364dccb4ce94e6510727fca2f version: 69a80aea9e07a2495d0a5ce67f8305add05ff10f version: 4a9217ed0fe9078152435daaa2d3f45b81021b3a version: 8e3a24a35beb16d717072dc83895c5a1f92689fb version: 70d3c59efea4c3080fa66aeef75eadd0a032a83e version: 9d14e194caa46fb503d1be72c96916cd90b88997 version: 00a542c7fccf56cb6314f04b949c62eede2f6f17 version: e5de91480723fa43de7e0a240d3b0727adf8738a version: 82dcd020fa950d1df3a2a71e263cb0cce3386874 version: 95f74142a397fa94444fae429fea32b184b03e9b version: e5bbd440a7895db946afef8a434e821914183b03, version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: stable-5.0 version: master version: master version: master version: master version: master version: master version: master version: master,97,64
openstack%2Ftripleo-validations~stable%2Fwallaby~I5310db18010c84525a2a5cf172b03fc610b57976,openstack/tripleo-validations,stable/wallaby,I5310db18010c84525a2a5cf172b03fc610b57976,Use and ownership info for the network_environment module,ABANDONED,2021-06-10 13:13:52.000000000,2021-06-11 09:26:19.000000000,,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-10 13:13:52.000000000', 'files': ['library/network_environment.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/445d784af259bc97bbe008883ceef524e48d7d89', 'message': 'Use and ownership info for the network_environment module\n\nAlso reorganized the author list.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n(cherry picked from commit 897ab279ebd41328187760bf500e05da10dfd2ae)\nChange-Id: I5310db18010c84525a2a5cf172b03fc610b57976\n'}]",0,795775,445d784af259bc97bbe008883ceef524e48d7d89,3,6,1,32926,,,0,"Use and ownership info for the network_environment module

Also reorganized the author list.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
(cherry picked from commit 897ab279ebd41328187760bf500e05da10dfd2ae)
Change-Id: I5310db18010c84525a2a5cf172b03fc610b57976
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/75/795775/1 && git format-patch -1 --stdout FETCH_HEAD,['library/network_environment.py'],1,445d784af259bc97bbe008883ceef524e48d7d89,,"""""""network_environment module Used by the network_environment validation. """""" - Used by the network_environment role. - Owned by the DFG Networkingauthor: - ""Tomas Sedovic"" - ""Martin André"" - ""Florian Fuchs""","author: ""Tomas Sedovic, Martin André, Florian Fuchs""",9,2
openstack%2Ftripleo-validations~stable%2Fwallaby~I8b51933a711889e46b40adef131ffb7b3531b5e3,openstack/tripleo-validations,stable/wallaby,I8b51933a711889e46b40adef131ffb7b3531b5e3,Use and ownership info for the verify_profiles module,ABANDONED,2021-06-10 13:21:26.000000000,2021-06-11 09:25:59.000000000,,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-10 13:21:26.000000000', 'files': ['library/verify_profiles.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2b1a64bc9269dff0105f6f61a92ffa5b8d49d207', 'message': 'Use and ownership info for the verify_profiles module\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n(cherry picked from commit 55066def3aed2aacd54c084d125bafe770411743)\nChange-Id: I8b51933a711889e46b40adef131ffb7b3531b5e3\n'}]",0,795777,2b1a64bc9269dff0105f6f61a92ffa5b8d49d207,3,6,1,32926,,,0,"Use and ownership info for the verify_profiles module

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
(cherry picked from commit 55066def3aed2aacd54c084d125bafe770411743)
Change-Id: I8b51933a711889e46b40adef131ffb7b3531b5e3
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/77/795777/1 && git format-patch -1 --stdout FETCH_HEAD,['library/verify_profiles.py'],1,2b1a64bc9269dff0105f6f61a92ffa5b8d49d207,794223,"""""""verify_profiles module Used by the collect_flavors_and_verify_profiles validation. """""" - Used by the collect_flavors_and_verify_profiles - Owned jointly by DFG Compute & DFG Hardware Provisioning",,5,1
openstack%2Fironic-prometheus-exporter~master~Ie64fd6917393c2919112716bbe5b65510553ec25,openstack/ironic-prometheus-exporter,master,Ie64fd6917393c2919112716bbe5b65510553ec25,Changed minversion in tox to 3.18.0,MERGED,2021-06-11 07:18:26.000000000,2021-06-11 09:15:34.000000000,2021-06-11 09:12:59.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-11 07:18:26.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/5feed853482b0ac2e2dda41272619f42bb86a534', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ie64fd6917393c2919112716bbe5b65510553ec25\n""}]",0,795933,5feed853482b0ac2e2dda41272619f42bb86a534,8,3,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Ie64fd6917393c2919112716bbe5b65510553ec25
",git fetch https://review.opendev.org/openstack/ironic-prometheus-exporter refs/changes/33/795933/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5feed853482b0ac2e2dda41272619f42bb86a534,update-min-tox,minversion = 3.18.0allowlist_externals = make,minversion = 3.9.0whitelist_externals = make,2,2
openstack%2Fironic-python-agent~master~Ibf1ef4fe0764c0a6f1a39cb7eebc23ecc0ee177d,openstack/ironic-python-agent,master,Ibf1ef4fe0764c0a6f1a39cb7eebc23ecc0ee177d,Utilize CSV file for EFI loader selection,MERGED,2021-06-10 18:27:32.000000000,2021-06-11 09:14:35.000000000,2021-06-11 09:12:28.000000000,"[{'_account_id': 1926}, {'_account_id': 4571}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-10 18:27:32.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/support-bootloader-csv-file-use-c815b520c600cd98.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/2fab70c36ba40a345a9dd01aeb5019681e567aa5', 'message': 'Utilize CSV file for EFI loader selection\n\nAdds support to identify and utilize a CSV file to signal which\nbootloader to utilize, and set it when the OS is running as opposed\nto when EFI is running. This works around EFI loader potentially\ncrashing some vendors hardware types when entry stored in the\nimage does not match the EFI loader record which was utilzied to\nboot.\n\nGrub2+shim specifically specifically needs the CSV file name\nand entry label to match what the system was booted with in order\nto prevent the machine from potentially crashing.\n\nSee https://storyboard.openstack.org/#!/story/2008962\nand https://bugzilla.redhat.com/show_bug.cgi?id=1966129#c37\nfor more information.\n\nChange-Id: Ibf1ef4fe0764c0a6f1a39cb7eebc23ecc0ee177d\nStory: 2008962\nTask: 42598\nCo-Authored-By: Bob Fournier <bfournie@redhat.com>\n'}]",1,795862,2fab70c36ba40a345a9dd01aeb5019681e567aa5,12,4,1,11655,,,0,"Utilize CSV file for EFI loader selection

Adds support to identify and utilize a CSV file to signal which
bootloader to utilize, and set it when the OS is running as opposed
to when EFI is running. This works around EFI loader potentially
crashing some vendors hardware types when entry stored in the
image does not match the EFI loader record which was utilzied to
boot.

Grub2+shim specifically specifically needs the CSV file name
and entry label to match what the system was booted with in order
to prevent the machine from potentially crashing.

See https://storyboard.openstack.org/#!/story/2008962
and https://bugzilla.redhat.com/show_bug.cgi?id=1966129#c37
for more information.

Change-Id: Ibf1ef4fe0764c0a6f1a39cb7eebc23ecc0ee177d
Story: 2008962
Task: 42598
Co-Authored-By: Bob Fournier <bfournie@redhat.com>
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/62/795862/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/support-bootloader-csv-file-use-c815b520c600cd98.yaml']",3,2fab70c36ba40a345a9dd01aeb5019681e567aa5,,"--- features: - | Adds the capability into the agent to read and act upon bootloader CSV files which serve as authoritative indicators of what bootloader to load instead of leaning towards utilizing the default. fixes: - | Fixes nodes failing after deployment completes due to issues in the Grub2 EFI loader entry addition where a ``BOOT.CSV`` file provides the authoritative pointer to the bootloader to be used for booting the OS. The base issue with Grub2 is that it would update the UEFI bootloader NVRAM entries with whatever is present in a vendor specific ``BOOT.CSV`` or ``BOOTX64.CSV`` file. In some cases, a baremetal machine *can* crash when this occurs. More information can be found at `story 2008962 <https://storyboard.openstack.org/#!/story/2008962>`_. issues: - | If multiple bootloader CSV files are present on the EFI filesystem, the first CSV file discovered will be utilized. The Ironic team considers multiple files to be a defect in the image being deployed. This may be changed in the future. ",,137,14
openstack%2Fironic-prometheus-exporter~master~Ifed884a294fa79d75d7f3ad132a8e9b11a2eb4fb,openstack/ironic-prometheus-exporter,master,Ifed884a294fa79d75d7f3ad132a8e9b11a2eb4fb,Remove lower-constraints job,MERGED,2021-06-11 07:20:40.000000000,2021-06-11 09:14:32.000000000,2021-06-11 09:12:47.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-11 07:20:40.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/02bb604a251683d5f6fabd3fa4195846b2144a33', 'message': 'Remove lower-constraints job\n\nAs discussed during the upstream ironic community meeting on\nMonday Dec 14 2020, the lower-constraints job is being removed.\n\nChange-Id: Ifed884a294fa79d75d7f3ad132a8e9b11a2eb4fb\n'}]",0,795934,02bb604a251683d5f6fabd3fa4195846b2144a33,8,3,1,32029,,,0,"Remove lower-constraints job

As discussed during the upstream ironic community meeting on
Monday Dec 14 2020, the lower-constraints job is being removed.

Change-Id: Ifed884a294fa79d75d7f3ad132a8e9b11a2eb4fb
",git fetch https://review.opendev.org/openstack/ironic-prometheus-exporter refs/changes/34/795934/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,02bb604a251683d5f6fabd3fa4195846b2144a33,remove-l-c-job,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,6
openstack%2Fironic-prometheus-exporter~master~Ie854f0b5de524eabe267eb2529e812e179d69d36,openstack/ironic-prometheus-exporter,master,Ie854f0b5de524eabe267eb2529e812e179d69d36,setup.cfg: Replace dashes with underscores,MERGED,2021-06-11 07:24:59.000000000,2021-06-11 09:12:53.000000000,2021-06-11 09:12:53.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-11 07:24:59.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/a75dcdaf395e12bccd77dd3da4cef7b2fa8417ee', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ie854f0b5de524eabe267eb2529e812e179d69d36\n""}]",0,795935,a75dcdaf395e12bccd77dd3da4cef7b2fa8417ee,7,3,1,32029,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ie854f0b5de524eabe267eb2529e812e179d69d36
",git fetch https://review.opendev.org/openstack/ironic-prometheus-exporter refs/changes/35/795935/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,a75dcdaf395e12bccd77dd3da4cef7b2fa8417ee,setup-cfg,description_file = README.rstauthor_email = openstack-discuss@lists.openstack.org home_page = https://opendev.org/openstack/ironic-prometheus-exporterpython_requires = >=3.6,description-file = README.rstauthor-email = openstack-discuss@lists.openstack.org home-page = https://opendev.org/openstack/ironic-prometheus-exporterpython-requires = >=3.6,4,4
openstack%2Ftripleo-validations~stable%2Fvictoria~I329d56a266a62327ab3ba88ac726729624d2a766,openstack/tripleo-validations,stable/victoria,I329d56a266a62327ab3ba88ac726729624d2a766,Remove the post-update groups.,MERGED,2021-06-10 15:27:40.000000000,2021-06-11 09:10:43.000000000,2021-06-11 09:10:43.000000000,"[{'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 32432}]","[{'number': 1, 'created': '2021-06-10 15:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2337dae4eb80ef2dcda1ce2d14e6c328dc53f8a4', 'message': ""Remove the post-update groups.\n\nFor the update it's not required to define the\nDockerInsecureRegistryAddress parameter.\n\nChange-Id: I329d56a266a62327ab3ba88ac726729624d2a766\n(cherry picked from commit 9f7dbbf5ccd73141bef49d6faa3b6480104244eb)\n(cherry picked from commit 9923eda9f35ae4fafd4db1141ec687f8be52c686)\n""}, {'number': 2, 'created': '2021-06-10 15:29:22.000000000', 'files': ['playbooks/check-uc-hostname.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a11a9a3b105cef5a90b6942679ce468c7884b334', 'message': ""Remove the post-update groups.\n\nFor the update it's not required to define the\nDockerInsecureRegistryAddress parameter.\n\nChange-Id: I329d56a266a62327ab3ba88ac726729624d2a766\n(cherry picked from commit 9923eda9f35ae4fafd4db1141ec687f8be52c686)\n""}]",0,795834,a11a9a3b105cef5a90b6942679ce468c7884b334,8,3,2,31245,,,0,"Remove the post-update groups.

For the update it's not required to define the
DockerInsecureRegistryAddress parameter.

Change-Id: I329d56a266a62327ab3ba88ac726729624d2a766
(cherry picked from commit 9923eda9f35ae4fafd4db1141ec687f8be52c686)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/34/795834/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/check-uc-hostname.yaml'],1,2337dae4eb80ef2dcda1ce2d14e6c328dc53f8a4,,, - post-update,0,1
openstack%2Ftripleo-image-elements~stable%2Fwallaby~I3b8cb5f8c413c109da1228878db9cff4d439273b,openstack/tripleo-image-elements,stable/wallaby,I3b8cb5f8c413c109da1228878db9cff4d439273b,Clean up ifcfg-eth0,MERGED,2021-06-10 17:51:31.000000000,2021-06-11 09:08:13.000000000,2021-06-11 09:08:13.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-10 17:51:31.000000000', 'files': ['elements/interface-names/install.d/71-clean-stale-interface'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/fb4c3621f45ddc1bc83a32a7c9c55455dc63b88a', 'message': ""Clean up ifcfg-eth0\n\nIf ifcfg-eth0 is defined but does not exist, this can cause the nodes to\nfail to get an IP address on initial provisioning. This patch removes it\nwhen the image is built to ensure we don't end up with a bad interface\nnetwork script.\n\nChange-Id: I3b8cb5f8c413c109da1228878db9cff4d439273b\nCloses-Bug: #1931495\n(cherry picked from commit f90a830fbac3b9ac1e501a768eeb7454e4d540f8)\n""}]",0,795806,fb4c3621f45ddc1bc83a32a7c9c55455dc63b88a,9,3,1,14985,,,0,"Clean up ifcfg-eth0

If ifcfg-eth0 is defined but does not exist, this can cause the nodes to
fail to get an IP address on initial provisioning. This patch removes it
when the image is built to ensure we don't end up with a bad interface
network script.

Change-Id: I3b8cb5f8c413c109da1228878db9cff4d439273b
Closes-Bug: #1931495
(cherry picked from commit f90a830fbac3b9ac1e501a768eeb7454e4d540f8)
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/06/795806/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/interface-names/install.d/71-clean-stale-interface'],1,fb4c3621f45ddc1bc83a32a7c9c55455dc63b88a,clean-up-interfaces-stable/wallaby,rm -f /etc/sysconfig/network-scripts/ifcfg-ens* # https://bugs.launchpad.net/tripleo/+bug/1931495 rm -f /etc/sysconfig/network-scripts/ifcfg-eth*,if ls /etc/sysconfig/network-scripts/ifcfg-ens3* &> /dev/null; then rm -f /etc/sysconfig/network-scripts/ifcfg-ens3* fi,3,3
openstack%2Ftripleo-image-elements~stable%2Fvictoria~I3b8cb5f8c413c109da1228878db9cff4d439273b,openstack/tripleo-image-elements,stable/victoria,I3b8cb5f8c413c109da1228878db9cff4d439273b,Clean up ifcfg-eth0,MERGED,2021-06-10 17:52:23.000000000,2021-06-11 09:07:49.000000000,2021-06-11 09:07:49.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-10 17:52:23.000000000', 'files': ['elements/interface-names/install.d/71-clean-stale-interface'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/6fd9757b189732d5e0b6a27eed7f03c1eb2dd71e', 'message': ""Clean up ifcfg-eth0\n\nIf ifcfg-eth0 is defined but does not exist, this can cause the nodes to\nfail to get an IP address on initial provisioning. This patch removes it\nwhen the image is built to ensure we don't end up with a bad interface\nnetwork script.\n\nChange-Id: I3b8cb5f8c413c109da1228878db9cff4d439273b\nCloses-Bug: #1931495\n(cherry picked from commit f90a830fbac3b9ac1e501a768eeb7454e4d540f8)\n""}]",0,795807,6fd9757b189732d5e0b6a27eed7f03c1eb2dd71e,9,3,1,14985,,,0,"Clean up ifcfg-eth0

If ifcfg-eth0 is defined but does not exist, this can cause the nodes to
fail to get an IP address on initial provisioning. This patch removes it
when the image is built to ensure we don't end up with a bad interface
network script.

Change-Id: I3b8cb5f8c413c109da1228878db9cff4d439273b
Closes-Bug: #1931495
(cherry picked from commit f90a830fbac3b9ac1e501a768eeb7454e4d540f8)
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/07/795807/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/interface-names/install.d/71-clean-stale-interface'],1,6fd9757b189732d5e0b6a27eed7f03c1eb2dd71e,clean-up-interfaces-stable/victoria,rm -f /etc/sysconfig/network-scripts/ifcfg-ens* # https://bugs.launchpad.net/tripleo/+bug/1931495 rm -f /etc/sysconfig/network-scripts/ifcfg-eth*,if ls /etc/sysconfig/network-scripts/ifcfg-ens3* &> /dev/null; then rm -f /etc/sysconfig/network-scripts/ifcfg-ens3* fi,3,3
openstack%2Ftripleo-heat-templates~stable%2Fussuri~If9c68fe2c4b6ea4f6a9d74460415600a70256ec5,openstack/tripleo-heat-templates,stable/ussuri,If9c68fe2c4b6ea4f6a9d74460415600a70256ec5,Update rhsm repo examples for RHEL8 deployments,MERGED,2021-06-10 09:47:33.000000000,2021-06-11 09:07:26.000000000,2021-06-11 09:07:26.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-06-10 09:47:33.000000000', 'files': ['environments/rhsm.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/90e0ede26eb7aaa64507c655d9ce138b45228583', 'message': 'Update rhsm repo examples for RHEL8 deployments\n\nThis patch updates the repos used in the rhsm template from the rhel 7\nexamples to rhel8 examples as per Red Hats deployment guide, this\nsimlply makes the examples more accurate.\n\nCloses-Bug: #1931194\nChange-Id: If9c68fe2c4b6ea4f6a9d74460415600a70256ec5\n(cherry picked from commit b7fe787584f36c522f2f35233ca36508a160e779)\n(cherry picked from commit 20840a7a5f2d0210af4c445c1b8ca760a43d16cc)\n(cherry picked from commit c595a9a8309f79195147bdcb755ba694ab1afdc6)\n'}]",0,795754,90e0ede26eb7aaa64507c655d9ce138b45228583,9,5,1,32114,,,0,"Update rhsm repo examples for RHEL8 deployments

This patch updates the repos used in the rhsm template from the rhel 7
examples to rhel8 examples as per Red Hats deployment guide, this
simlply makes the examples more accurate.

Closes-Bug: #1931194
Change-Id: If9c68fe2c4b6ea4f6a9d74460415600a70256ec5
(cherry picked from commit b7fe787584f36c522f2f35233ca36508a160e779)
(cherry picked from commit 20840a7a5f2d0210af4c445c1b8ca760a43d16cc)
(cherry picked from commit c595a9a8309f79195147bdcb755ba694ab1afdc6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/54/795754/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/rhsm.yaml'],1,90e0ede26eb7aaa64507c655d9ce138b45228583,bug/1931194-stable/ussuri,# - rhel-8-for-x86_64-baseos-eus-rpms # - rhel-8-for-x86_64-appstream-eus-rpms # - rhel-8-for-x86_64-highavailability-eus-rpms # - ansible-2.9-for-rhel-8-x86_64-rpms # - advanced-virt-for-rhel-8-x86_64-rpms # - openstack-16.1-for-rhel-8-x86_64-rpms # - fast-datapath-for-rhel-8-x86_64-rpms # - rhceph-4-tools-for-rhel-8-x86_64-rpms # - rhceph-4-mon-for-rhel-8-x86_64-rpms# rhsm_release: '8.2'# - rhel-8-for-x86_64-baseos-eus-rpms # - rhel-8-for-x86_64-appstream-eus-rpms # - rhel-8-for-x86_64-highavailability-eus-rpms # - ansible-2.9-for-rhel-8-x86_64-rpms # - advanced-virt-for-rhel-8-x86_64-rpms # - openstack-16.1-for-rhel-8-x86_64-rpms # - fast-datapath-for-rhel-8-x86_64-rpms # - rhceph-4-tools-for-rhel-8-x86_64-rpms # - rhceph-4-mon-for-rhel-8-x86_64-rpms# rhsm_release: '8.2',# - rhel-7-server-rpms # - rhel-7-server-extras-rpms # - rhel-ha-for-rhel-7-server-rpms # - rhel-7-server-openstack-13-rpms # - rhel-7-server-rhceph-3-mon-rpms # - rhel-7-server-rhceph-3-tools-rpms# rhsm_release: '8.1'# - rhel-7-server-rpms # - rhel-7-server-extras-rpms # - rhel-ha-for-rhel-7-server-rpms # - rhel-7-server-openstack-13-rpms # - rhel-7-server-rhceph-3-osd-rpms # - rhel-7-server-rhceph-3-mon-rpms # - rhel-7-server-rhceph-3-tools-rpms# rhsm_release: '8.1',20,15
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~If9c68fe2c4b6ea4f6a9d74460415600a70256ec5,openstack/tripleo-heat-templates,stable/victoria,If9c68fe2c4b6ea4f6a9d74460415600a70256ec5,Update rhsm repo examples for RHEL8 deployments,MERGED,2021-06-10 08:39:39.000000000,2021-06-11 09:06:53.000000000,2021-06-11 09:06:53.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-06-10 08:39:39.000000000', 'files': ['environments/rhsm.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c595a9a8309f79195147bdcb755ba694ab1afdc6', 'message': 'Update rhsm repo examples for RHEL8 deployments\n\nThis patch updates the repos used in the rhsm template from the rhel 7\nexamples to rhel8 examples as per Red Hats deployment guide, this\nsimlply makes the examples more accurate.\n\nCloses-Bug: #1931194\nChange-Id: If9c68fe2c4b6ea4f6a9d74460415600a70256ec5\n(cherry picked from commit b7fe787584f36c522f2f35233ca36508a160e779)\n(cherry picked from commit 20840a7a5f2d0210af4c445c1b8ca760a43d16cc)\n'}]",0,795743,c595a9a8309f79195147bdcb755ba694ab1afdc6,9,5,1,32114,,,0,"Update rhsm repo examples for RHEL8 deployments

This patch updates the repos used in the rhsm template from the rhel 7
examples to rhel8 examples as per Red Hats deployment guide, this
simlply makes the examples more accurate.

Closes-Bug: #1931194
Change-Id: If9c68fe2c4b6ea4f6a9d74460415600a70256ec5
(cherry picked from commit b7fe787584f36c522f2f35233ca36508a160e779)
(cherry picked from commit 20840a7a5f2d0210af4c445c1b8ca760a43d16cc)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/795743/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/rhsm.yaml'],1,c595a9a8309f79195147bdcb755ba694ab1afdc6,bug/1931194-stable/victoria,# - rhel-8-for-x86_64-baseos-eus-rpms # - rhel-8-for-x86_64-appstream-eus-rpms # - rhel-8-for-x86_64-highavailability-eus-rpms # - ansible-2.9-for-rhel-8-x86_64-rpms # - advanced-virt-for-rhel-8-x86_64-rpms # - openstack-16.1-for-rhel-8-x86_64-rpms # - fast-datapath-for-rhel-8-x86_64-rpms # - rhceph-4-tools-for-rhel-8-x86_64-rpms # - rhceph-4-mon-for-rhel-8-x86_64-rpms# rhsm_release: '8.2'# - rhel-8-for-x86_64-baseos-eus-rpms # - rhel-8-for-x86_64-appstream-eus-rpms # - rhel-8-for-x86_64-highavailability-eus-rpms # - ansible-2.9-for-rhel-8-x86_64-rpms # - advanced-virt-for-rhel-8-x86_64-rpms # - openstack-16.1-for-rhel-8-x86_64-rpms # - fast-datapath-for-rhel-8-x86_64-rpms # - rhceph-4-tools-for-rhel-8-x86_64-rpms # - rhceph-4-mon-for-rhel-8-x86_64-rpms# rhsm_release: '8.2',# - rhel-7-server-rpms # - rhel-7-server-extras-rpms # - rhel-ha-for-rhel-7-server-rpms # - rhel-7-server-openstack-13-rpms # - rhel-7-server-rhceph-3-mon-rpms # - rhel-7-server-rhceph-3-tools-rpms# rhsm_release: '8.1'# - rhel-7-server-rpms # - rhel-7-server-extras-rpms # - rhel-ha-for-rhel-7-server-rpms # - rhel-7-server-openstack-13-rpms # - rhel-7-server-rhceph-3-osd-rpms # - rhel-7-server-rhceph-3-mon-rpms # - rhel-7-server-rhceph-3-tools-rpms# rhsm_release: '8.1',20,15
openstack%2Fpuppet-openstack-guide~master~I50967bc2a5dcf69f6d76ba948c3955d55a4568f0,openstack/puppet-openstack-guide,master,I50967bc2a5dcf69f6d76ba948c3955d55a4568f0,Update github url to opendev url,MERGED,2021-06-06 13:09:11.000000000,2021-06-11 09:00:19.000000000,2021-06-11 08:58:55.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-06 13:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/11c08ac6238eb482881af56e5d5a0c3bfd1d67e4', 'message': 'Update github url to opendev url\n\nCurrently opendev.org is the source and all repos in github.com are\nmirror. Thus we shold point opendev.org instead of github.com .\n\nChange-Id: I50967bc2a5dcf69f6d76ba948c3955d55a4568f0\n'}, {'number': 2, 'created': '2021-06-08 23:34:29.000000000', 'files': ['doc/source/contributor/new-module.rst', 'doc/source/contributor/module-list.rst', 'doc/source/install/deploy.rst', 'doc/source/contributor/ci.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/af5baad683b18c45489991c25da84b85552e96a0', 'message': 'Update github url to opendev url\n\nCurrently opendev.org is the source and all repos in github.com are\nmirror. Thus we should point opendev.org instead of github.com .\n\nChange-Id: I50967bc2a5dcf69f6d76ba948c3955d55a4568f0\n'}]",0,794991,af5baad683b18c45489991c25da84b85552e96a0,13,3,2,9816,,,0,"Update github url to opendev url

Currently opendev.org is the source and all repos in github.com are
mirror. Thus we should point opendev.org instead of github.com .

Change-Id: I50967bc2a5dcf69f6d76ba948c3955d55a4568f0
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/91/794991/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/new-module.rst', 'doc/source/contributor/module-list.rst', 'doc/source/install/deploy.rst', 'doc/source/contributor/ci.rst']",4,11c08ac6238eb482881af56e5d5a0c3bfd1d67e4,git-url, More details `here <https://opendev.org/openstack/puppet-openstack-integration#description>`__ More details `here <https://opendev.org/openstack/puppet-openstack-integration#description>`__, More details `here <https://github.com/openstack/puppet-openstack-integration#description>`__ More details `here <https://github.com/openstack/puppet-openstack-integration#description>`__,9,9
openstack%2Fpython-tripleoclient~master~Ieda25ce82808276461c74944befa96faccd95301,openstack/python-tripleoclient,master,Ieda25ce82808276461c74944befa96faccd95301,Simplify validate_args_environment_dir,MERGED,2021-06-04 19:02:21.000000000,2021-06-11 08:54:43.000000000,2021-06-11 08:49:37.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-04 19:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c41e0a68c549dde37ab8c9538fd05d4a30b0879a', 'message': 'Simplify validate_args_environment_dir\n\nMake the method a function since it does not need\nthe class properties. Use list comprehension, and\na shorter more descriptive variable name.\n\nChange-Id: Ieda25ce82808276461c74944befa96faccd95301\n'}, {'number': 2, 'created': '2021-06-05 00:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/dc833b7b6af05ccb314310a5e5b178d9c869e9a8', 'message': 'Simplify validate_args_environment_dir\n\nMake the method a function since it does not need\nthe class properties. Use list comprehension, and\na shorter more descriptive variable name.\n\nChange-Id: Ieda25ce82808276461c74944befa96faccd95301\n'}, {'number': 3, 'created': '2021-06-09 09:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3e23ab689c52cea3354b72d87747dbd6d1dc751d', 'message': 'Simplify validate_args_environment_dir\n\nMake the method a function since it does not need\nthe class properties. Use list comprehension, and\na shorter more descriptive variable name.\n\nChange-Id: Ieda25ce82808276461c74944befa96faccd95301\n'}, {'number': 4, 'created': '2021-06-09 20:30:48.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bf03fe4a9c3b7229fb73b8c651d8a94e56bbd59d', 'message': 'Simplify validate_args_environment_dir\n\nMake the method a function since it does not need\nthe class properties. Use list comprehension, and\na shorter more descriptive variable name.\n\nChange-Id: Ieda25ce82808276461c74944befa96faccd95301\n'}]",2,794885,bf03fe4a9c3b7229fb73b8c651d8a94e56bbd59d,20,4,4,24245,,,0,"Simplify validate_args_environment_dir

Make the method a function since it does not need
the class properties. Use list comprehension, and
a shorter more descriptive variable name.

Change-Id: Ieda25ce82808276461c74944befa96faccd95301
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/85/794885/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py']",2,c41e0a68c549dde37ab8c9538fd05d4a30b0879a,overcloud_deploy_clean,"def _validate_args_environment_dir(dirs): default = os.path.expanduser(constants.DEFAULT_ENV_DIRECTORY) not_found = [d for d in dirs if not os.path.isdir(d) and d != default] if not_found: raise oscexc.CommandError( ""Error: The following environment directories were not found"" "": {0}"".format("", "".join(not_found))) _validate_args_environment_dir(parsed_args.environment_directories)"," self._validate_args_environment_directory( parsed_args.environment_directories) def _validate_args_environment_directory(self, directories): default = os.path.expanduser(constants.DEFAULT_ENV_DIRECTORY) nonexisting_dirs = [] for d in directories: if not os.path.isdir(d) and d != default: nonexisting_dirs.append(d) if nonexisting_dirs: raise oscexc.CommandError( ""Error: The following environment directories were not found"" "": {0}"".format("", "".join(nonexisting_dirs)))",12,17
openstack%2Fpython-tripleoclient~stable%2Fwallaby~If2740767521453c7adfca56d942db97af13bfaf2,openstack/python-tripleoclient,stable/wallaby,If2740767521453c7adfca56d942db97af13bfaf2,Use explicit order for ironic enabled interfaces,MERGED,2021-06-08 21:42:02.000000000,2021-06-11 08:54:39.000000000,2021-06-11 08:48:48.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 21:42:02.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7f959bfdcddc7c1cd8fdd9fca611c5a610f346bc', 'message': 'Use explicit order for ironic enabled interfaces\n\nIronic uses the order of enabled interfaces to attempt each interface\nin turn, so sorting the list will result in an incorrect order in some\ncases, which will cause deployment failures on some hardware.\n\nThis change sets an explicit order for each interface.\n\nChange-Id: If2740767521453c7adfca56d942db97af13bfaf2\nCloses-Bug: #1931161\n(cherry picked from commit 05500120e07311389d6227d5e513fda422844321)\n'}]",0,795422,7f959bfdcddc7c1cd8fdd9fca611c5a610f346bc,8,2,1,4571,,,0,"Use explicit order for ironic enabled interfaces

Ironic uses the order of enabled interfaces to attempt each interface
in turn, so sorting the list will result in an incorrect order in some
cases, which will cause deployment failures on some hardware.

This change sets an explicit order for each interface.

Change-Id: If2740767521453c7adfca56d942db97af13bfaf2
Closes-Bug: #1931161
(cherry picked from commit 05500120e07311389d6227d5e513fda422844321)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/22/795422/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py']",2,7f959bfdcddc7c1cd8fdd9fca611c5a610f346bc,wallabybug/1931161," 'IronicEnabledHardwareTypes': ['ipmi', 'redfish', 'ilo', 'idrac'], 'IronicEnabledBootInterfaces': ['ipxe', 'pxe', 'ilo-pxe'], 'IronicEnabledBiosInterfaces': ['no-bios', 'ilo', 'redfish'], 'IronicEnabledDeployInterfaces': ['direct', 'iscsi', 'ansible'], 'IronicEnabledInspectInterfaces': ['inspector', 'no-inspect', 'redfish', 'idrac', 'ilo'], 'IronicEnabledManagementInterfaces': ['ipmitool', 'redfish', 'idrac', 'ilo', 'fake', 'noop'], 'IronicEnabledPowerInterfaces': ['ipmitool', 'redfish', 'idrac', 'ilo', 'fake'], 'IronicEnabledRaidInterfaces': ['no-raid', 'idrac'], 'IronicEnabledVendorInterfaces': ['no-vendor', 'ipmitool', 'idrac'] 'IronicEnabledHardwareTypes': ['redfish', 'ipmi'], 'IronicEnabledDeployInterfaces': ['direct', 'iscsi', 'ansible'], 'IronicEnabledManagementInterfaces': ['ipmitool', 'redfish', 'fake', 'noop'], 'IronicEnabledPowerInterfaces': ['ipmitool', 'redfish', 'fake'], 'IronicEnabledVendorInterfaces': ['no-vendor', 'ipmitool'], 'IronicEnabledHardwareTypes': ['ipmi', 'redfish', 'ilo', 'idrac', 'staging-ovirt', 'snmp', 'irmc', 'xclarity', 'fake-hardware'], 'IronicEnabledBootInterfaces': ['ipxe', 'pxe', 'ilo-pxe', 'irmc-pxe', 'fake'], 'IronicEnabledBiosInterfaces': ['no-bios', 'ilo', 'irmc', 'redfish'], 'IronicEnabledDeployInterfaces': ['direct', 'iscsi', 'ansible', 'fake'], 'IronicEnabledInspectInterfaces': ['inspector', 'no-inspect', 'redfish', 'idrac', 'ilo', 'irmc'], 'IronicEnabledManagementInterfaces': ['ipmitool', 'redfish', 'idrac', 'ilo', 'irmc', 'staging-ovirt', 'xclarity', 'fake', 'noop'], 'IronicEnabledPowerInterfaces': ['ipmitool', 'redfish', 'idrac', 'ilo', 'irmc', 'staging-ovirt', 'xclarity', 'fake', 'snmp'], 'IronicEnabledRaidInterfaces': ['no-raid', 'idrac'], 'IronicEnabledVendorInterfaces': ['no-vendor', 'ipmitool', 'idrac']"," 'IronicEnabledHardwareTypes': ['idrac', 'ilo', 'ipmi', 'redfish'], 'IronicEnabledBootInterfaces': ['ilo-pxe', 'ipxe', 'pxe'], 'IronicEnabledBiosInterfaces': ['ilo', 'no-bios', 'redfish'], 'IronicEnabledDeployInterfaces': ['ansible', 'direct', 'iscsi'], 'IronicEnabledInspectInterfaces': ['idrac', 'ilo', 'inspector', 'no-inspect', 'redfish'], 'IronicEnabledManagementInterfaces': ['fake', 'idrac', 'ilo', 'ipmitool', 'noop', 'redfish'], 'IronicEnabledPowerInterfaces': ['fake', 'idrac', 'ilo', 'ipmitool', 'redfish'], 'IronicEnabledRaidInterfaces': ['idrac', 'no-raid'], 'IronicEnabledVendorInterfaces': ['idrac', 'ipmitool', 'no-vendor'] 'IronicEnabledHardwareTypes': ['ipmi', 'redfish'], 'IronicEnabledDeployInterfaces': ['ansible', 'direct', 'iscsi'], 'IronicEnabledManagementInterfaces': ['fake', 'ipmitool', 'noop', 'redfish'], 'IronicEnabledPowerInterfaces': ['fake', 'ipmitool', 'redfish'], 'IronicEnabledVendorInterfaces': ['ipmitool', 'no-vendor'], 'IronicEnabledHardwareTypes': ['fake-hardware', 'idrac', 'ilo', 'ipmi', 'irmc', 'redfish', 'snmp', 'staging-ovirt', 'xclarity'], 'IronicEnabledBootInterfaces': ['fake', 'ilo-pxe', 'ipxe', 'irmc-pxe', 'pxe'], 'IronicEnabledBiosInterfaces': ['ilo', 'irmc', 'no-bios', 'redfish'], 'IronicEnabledDeployInterfaces': ['ansible', 'direct', 'fake', 'iscsi'], 'IronicEnabledInspectInterfaces': ['idrac', 'ilo', 'inspector', 'irmc', 'no-inspect', 'redfish'], 'IronicEnabledManagementInterfaces': ['fake', 'idrac', 'ilo', 'ipmitool', 'irmc', 'noop', 'redfish', 'staging-ovirt', 'xclarity'], 'IronicEnabledPowerInterfaces': ['fake', 'idrac', 'ilo', 'ipmitool', 'irmc', 'redfish', 'snmp', 'staging-ovirt', 'xclarity'], 'IronicEnabledRaidInterfaces': ['idrac', 'no-raid'], 'IronicEnabledVendorInterfaces': ['idrac', 'ipmitool', 'no-vendor']",69,69
openstack%2Ftripleo-common~stable%2Fvictoria~I463eb84a84e37b1a782c06ae74cf5c943e273bcd,openstack/tripleo-common,stable/victoria,I463eb84a84e37b1a782c06ae74cf5c943e273bcd,Add interface-names to overcloud-hardened-images-uefi-rhel8,MERGED,2021-06-04 01:29:52.000000000,2021-06-11 08:53:06.000000000,2021-06-11 08:50:04.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-04 01:29:52.000000000', 'files': ['image-yaml/overcloud-hardened-images-uefi-rhel8.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/eaf32cc3c9b393c7f8ffd13d2b5419bb6256c8f1', 'message': 'Add interface-names to overcloud-hardened-images-uefi-rhel8\n\nThis was missing from change ff9fe2edfb940bf983c880bbfb4d6e95ccdce7c5\nwhich added this element to every other rhel8 image yaml file.\n\nRelated-Bug: 1841441\nChange-Id: I463eb84a84e37b1a782c06ae74cf5c943e273bcd\n(cherry picked from commit 4a2e95d143d26a3f58f5235f3e8f630f0b708c32)\n'}]",0,794693,eaf32cc3c9b393c7f8ffd13d2b5419bb6256c8f1,9,3,1,4571,,,0,"Add interface-names to overcloud-hardened-images-uefi-rhel8

This was missing from change ff9fe2edfb940bf983c880bbfb4d6e95ccdce7c5
which added this element to every other rhel8 image yaml file.

Related-Bug: 1841441
Change-Id: I463eb84a84e37b1a782c06ae74cf5c943e273bcd
(cherry picked from commit 4a2e95d143d26a3f58f5235f3e8f630f0b708c32)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/93/794693/1 && git format-patch -1 --stdout FETCH_HEAD,['image-yaml/overcloud-hardened-images-uefi-rhel8.yaml'],1,eaf32cc3c9b393c7f8ffd13d2b5419bb6256c8f1,victoriabug/786146, elements: - interface-names,,2,0
openstack%2Fpython-tripleoclient~master~Icfbcd400583ec1c24e171c44a3b71fd99f208bef,openstack/python-tripleoclient,master,Icfbcd400583ec1c24e171c44a3b71fd99f208bef,Move get_undercloud_host_entry to utils,MERGED,2021-06-04 19:02:21.000000000,2021-06-11 08:53:04.000000000,2021-06-11 08:48:52.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-04 19:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8bf20d9200f2135f6e36b24660d82e96e499463d', 'message': 'Move get_undercloud_host_entry to utils\n\nAlso move the cleanup_host_entry method.\n\nChange-Id: Icfbcd400583ec1c24e171c44a3b71fd99f208bef\n'}, {'number': 2, 'created': '2021-06-05 00:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ea0dc2009356b28d3d8a73c58105c49553ffe8b4', 'message': 'Move get_undercloud_host_entry to utils\n\nAlso move the cleanup_host_entry method.\n\nChange-Id: Icfbcd400583ec1c24e171c44a3b71fd99f208bef\n'}, {'number': 3, 'created': '2021-06-09 09:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9309f54a3c49603c9f5c5ac53aedba5237f301f1', 'message': 'Move get_undercloud_host_entry to utils\n\nAlso move the cleanup_host_entry method.\n\nChange-Id: Icfbcd400583ec1c24e171c44a3b71fd99f208bef\n'}, {'number': 4, 'created': '2021-06-09 20:30:48.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8ba7a7a808b6aa655612372fd7dbd5cda6768ebf', 'message': 'Move get_undercloud_host_entry to utils\n\nAlso move the cleanup_host_entry method.\n\nChange-Id: Icfbcd400583ec1c24e171c44a3b71fd99f208bef\n'}]",0,794882,8ba7a7a808b6aa655612372fd7dbd5cda6768ebf,23,4,4,24245,,,0,"Move get_undercloud_host_entry to utils

Also move the cleanup_host_entry method.

Change-Id: Icfbcd400583ec1c24e171c44a3b71fd99f208bef
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/82/794882/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py', 'tripleoclient/v1/overcloud_deploy.py']",5,8bf20d9200f2135f6e36b24660d82e96e499463d,overcloud_deploy_clean, 'UndercloudHostsEntries'] = [utils.get_undercloud_host_entry()],"from collections import OrderedDictimport reimport subprocess 'UndercloudHostsEntries'] = [self._get_undercloud_host_entry()] def _cleanup_host_entry(self, entry): # remove any tab or space excess entry_stripped = re.sub('[ \t]+', ' ', str(entry).rstrip()) # removes any duplicate identical lines unique_lines = list(set(entry_stripped.splitlines())) ret = '' for line in unique_lines: # remove any duplicate word hosts_unique = (' '.join( OrderedDict((w, w) for w in line.split()).keys())) if hosts_unique != '': ret += hosts_unique + '\n' return ret.rstrip('\n') def _get_undercloud_host_entry(self): """"""Get hosts entry for undercloud ctlplane network The host entry will be added on overcloud nodes """""" ctlplane_hostname = '.'.join([utils.get_short_hostname(), 'ctlplane']) cmd = ['getent', 'hosts', ctlplane_hostname] process = subprocess.Popen(cmd, stdout=subprocess.PIPE, universal_newlines=True) out, err = process.communicate() if process.returncode != 0: raise exceptions.DeploymentError('No entry for %s in /etc/hosts' % ctlplane_hostname) return self._cleanup_host_entry(out) ",69,83
openstack%2Ftripleo-common~stable%2Fussuri~I463eb84a84e37b1a782c06ae74cf5c943e273bcd,openstack/tripleo-common,stable/ussuri,I463eb84a84e37b1a782c06ae74cf5c943e273bcd,Add interface-names to overcloud-hardened-images-uefi-rhel8,MERGED,2021-06-04 01:30:30.000000000,2021-06-11 08:52:37.000000000,2021-06-11 08:50:18.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-04 01:30:30.000000000', 'files': ['image-yaml/overcloud-hardened-images-uefi-rhel8.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0ae5db6e390ef0d1d95d6c11c4153018b8268d81', 'message': 'Add interface-names to overcloud-hardened-images-uefi-rhel8\n\nThis was missing from change ff9fe2edfb940bf983c880bbfb4d6e95ccdce7c5\nwhich added this element to every other rhel8 image yaml file.\n\nRelated-Bug: 1841441\nChange-Id: I463eb84a84e37b1a782c06ae74cf5c943e273bcd\n(cherry picked from commit 4a2e95d143d26a3f58f5235f3e8f630f0b708c32)\n'}]",0,794694,0ae5db6e390ef0d1d95d6c11c4153018b8268d81,9,3,1,4571,,,0,"Add interface-names to overcloud-hardened-images-uefi-rhel8

This was missing from change ff9fe2edfb940bf983c880bbfb4d6e95ccdce7c5
which added this element to every other rhel8 image yaml file.

Related-Bug: 1841441
Change-Id: I463eb84a84e37b1a782c06ae74cf5c943e273bcd
(cherry picked from commit 4a2e95d143d26a3f58f5235f3e8f630f0b708c32)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/94/794694/1 && git format-patch -1 --stdout FETCH_HEAD,['image-yaml/overcloud-hardened-images-uefi-rhel8.yaml'],1,0ae5db6e390ef0d1d95d6c11c4153018b8268d81,, elements: - interface-names,,2,0
openstack%2Ftripleo-common~stable%2Fwallaby~Ib96e2c0dd789be2be6bdaf66682b985cb864baf8,openstack/tripleo-common,stable/wallaby,Ib96e2c0dd789be2be6bdaf66682b985cb864baf8,Remove references to tripleo-validations legacy directory,MERGED,2021-06-07 06:52:44.000000000,2021-06-11 08:52:35.000000000,2021-06-11 08:49:58.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32029}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-07 06:52:44.000000000', 'files': ['tripleo_common/constants.py', 'tripleo_common/utils/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7ba767305d47687f7fca334ab720f61873179e77', 'message': ""Remove references to tripleo-validations legacy directory\n\n'/usr/share/openstack-tripleo-validations' doesn't exist anymore since\nTrain. Tripleo-validations installs its bits in '/usr/share/ansible/'.\nIt is now quite safe to remove the references to this legacy directory.\n\n**Note**\nThis patch will be applied to master and stable/wallaby only. This logic\nwill be kept as is for stable/train like this directory may still be\npresent during an upgrade.\n\nChange-Id: Ib96e2c0dd789be2be6bdaf66682b985cb864baf8\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit 755cc6095de5894b802e2a9ed709abf82e55d1dd)\n""}]",0,795033,7ba767305d47687f7fca334ab720f61873179e77,15,9,1,11491,,,0,"Remove references to tripleo-validations legacy directory

'/usr/share/openstack-tripleo-validations' doesn't exist anymore since
Train. Tripleo-validations installs its bits in '/usr/share/ansible/'.
It is now quite safe to remove the references to this legacy directory.

**Note**
This patch will be applied to master and stable/wallaby only. This logic
will be kept as is for stable/train like this directory may still be
present during an upgrade.

Change-Id: Ib96e2c0dd789be2be6bdaf66682b985cb864baf8
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
(cherry picked from commit 755cc6095de5894b802e2a9ed709abf82e55d1dd)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/33/795033/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/constants.py', 'tripleo_common/utils/ansible.py']",2,7ba767305d47687f7fca334ab720f61873179e77,remove_tripleo-validations_legacy_dir-stable/wallaby, '{}/library'.format( constants.DEFAULT_VALIDATIONS_BASEDIR)) constants.DEFAULT_VALIDATIONS_BASEDIR)) constants.DEFAULT_VALIDATIONS_BASEDIR)) constants.DEFAULT_VALIDATIONS_BASEDIR)) constants.DEFAULT_VALIDATIONS_BASEDIR)) roles_path = ('{work_dir!s}/roles:' '{work_dir!s}'.format(work_dir=work_dir))," '{}/library:' '{}/library'.format(constants.DEFAULT_VALIDATIONS_BASEDIR, constants.DEFAULT_VALIDATIONS_LEGACY_BASEDIR)) '{}/lookup_plugins:' constants.DEFAULT_VALIDATIONS_BASEDIR, constants.DEFAULT_VALIDATIONS_LEGACY_BASEDIR)) '{}/callback_plugins:' constants.DEFAULT_VALIDATIONS_BASEDIR, constants.DEFAULT_VALIDATIONS_LEGACY_BASEDIR)) '{}/action_plugins:' constants.DEFAULT_VALIDATIONS_BASEDIR, constants.DEFAULT_VALIDATIONS_LEGACY_BASEDIR)) '{}/filter_plugins:' constants.DEFAULT_VALIDATIONS_BASEDIR, constants.DEFAULT_VALIDATIONS_LEGACY_BASEDIR)) roles_path = ('%(work_dir)s/roles:' '%(ooo_val_path)s/roles:' '%(work_dir)s' % { 'work_dir': work_dir, 'ooo_val_path': constants.DEFAULT_VALIDATIONS_LEGACY_BASEDIR })",8,23
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I9668df39ed874949badd2bd169de2eaae0c08a48,openstack/python-tripleoclient,stable/wallaby,I9668df39ed874949badd2bd169de2eaae0c08a48,Use podman interactive mode when restoring db,MERGED,2021-06-09 17:02:56.000000000,2021-06-11 08:52:33.000000000,2021-06-11 08:48:32.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 17:02:56.000000000', 'files': ['tripleoclient/heat_launcher.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ee1ce3224bcff463fed2f3e13a72dc9bcea31c4a', 'message': 'Use podman interactive mode when restoring db\n\ninteractive mode (-i) is required since the db restore makes use of\nstdin redirect.\n\nChange-Id: I9668df39ed874949badd2bd169de2eaae0c08a48\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit 6b5ebca318f7132eb2f22e6702f20331cb0d340a)\n'}]",0,795470,ee1ce3224bcff463fed2f3e13a72dc9bcea31c4a,8,2,1,7144,,,0,"Use podman interactive mode when restoring db

interactive mode (-i) is required since the db restore makes use of
stdin redirect.

Change-Id: I9668df39ed874949badd2bd169de2eaae0c08a48
Signed-off-by: James Slagle <jslagle@redhat.com>
(cherry picked from commit 6b5ebca318f7132eb2f22e6702f20331cb0d340a)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/70/795470/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/heat_launcher.py'],1,ee1ce3224bcff463fed2f3e13a72dc9bcea31c4a,fix_ephemeral-stable/wallaby," 'sudo', 'podman', 'exec', '-i', '-u', 'root',"," 'sudo', 'podman', 'exec', '-u', 'root',",1,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~If9c68fe2c4b6ea4f6a9d74460415600a70256ec5,openstack/tripleo-heat-templates,stable/wallaby,If9c68fe2c4b6ea4f6a9d74460415600a70256ec5,Update rhsm repo examples for RHEL8 deployments,MERGED,2021-06-10 08:17:28.000000000,2021-06-11 08:50:23.000000000,2021-06-11 08:50:23.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-06-10 08:17:28.000000000', 'files': ['environments/rhsm.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/20840a7a5f2d0210af4c445c1b8ca760a43d16cc', 'message': 'Update rhsm repo examples for RHEL8 deployments\n\nThis patch updates the repos used in the rhsm template from the rhel 7\nexamples to rhel8 examples as per Red Hats deployment guide, this\nsimlply makes the examples more accurate.\n\nCloses-Bug: #1931194\nChange-Id: If9c68fe2c4b6ea4f6a9d74460415600a70256ec5\n(cherry picked from commit b7fe787584f36c522f2f35233ca36508a160e779)\n'}]",0,795738,20840a7a5f2d0210af4c445c1b8ca760a43d16cc,9,5,1,32114,,,0,"Update rhsm repo examples for RHEL8 deployments

This patch updates the repos used in the rhsm template from the rhel 7
examples to rhel8 examples as per Red Hats deployment guide, this
simlply makes the examples more accurate.

Closes-Bug: #1931194
Change-Id: If9c68fe2c4b6ea4f6a9d74460415600a70256ec5
(cherry picked from commit b7fe787584f36c522f2f35233ca36508a160e779)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/795738/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/rhsm.yaml'],1,20840a7a5f2d0210af4c445c1b8ca760a43d16cc,bug/1931194-stable/wallaby,# - rhel-8-for-x86_64-baseos-eus-rpms # - rhel-8-for-x86_64-appstream-eus-rpms # - rhel-8-for-x86_64-highavailability-eus-rpms # - ansible-2.9-for-rhel-8-x86_64-rpms # - advanced-virt-for-rhel-8-x86_64-rpms # - openstack-16.1-for-rhel-8-x86_64-rpms # - fast-datapath-for-rhel-8-x86_64-rpms # - rhceph-4-tools-for-rhel-8-x86_64-rpms # - rhceph-4-mon-for-rhel-8-x86_64-rpms# rhsm_release: '8.2'# - rhel-8-for-x86_64-baseos-eus-rpms # - rhel-8-for-x86_64-appstream-eus-rpms # - rhel-8-for-x86_64-highavailability-eus-rpms # - ansible-2.9-for-rhel-8-x86_64-rpms # - advanced-virt-for-rhel-8-x86_64-rpms # - openstack-16.1-for-rhel-8-x86_64-rpms # - fast-datapath-for-rhel-8-x86_64-rpms # - rhceph-4-tools-for-rhel-8-x86_64-rpms # - rhceph-4-mon-for-rhel-8-x86_64-rpms# rhsm_release: '8.2',# - rhel-7-server-rpms # - rhel-7-server-extras-rpms # - rhel-ha-for-rhel-7-server-rpms # - rhel-7-server-openstack-13-rpms # - rhel-7-server-rhceph-3-mon-rpms # - rhel-7-server-rhceph-3-tools-rpms# rhsm_release: '8.1'# - rhel-7-server-rpms # - rhel-7-server-extras-rpms # - rhel-ha-for-rhel-7-server-rpms # - rhel-7-server-openstack-13-rpms # - rhel-7-server-rhceph-3-osd-rpms # - rhel-7-server-rhceph-3-mon-rpms # - rhel-7-server-rhceph-3-tools-rpms# rhsm_release: '8.1',20,15
openstack%2Fpython-tripleoclient~master~I20db5526cb9c805cd65be154caff1eee0c66b3c1,openstack/python-tripleoclient,master,I20db5526cb9c805cd65be154caff1eee0c66b3c1,Move copy_env_files to utils,MERGED,2021-06-04 19:02:21.000000000,2021-06-11 08:49:21.000000000,2021-06-11 08:49:21.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-04 19:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6ad00932ac2df229ae27f78a0392eb5ada4b70d0', 'message': 'Move copy_env_files to utils\n\nUse os.path.join purely to join the path, use of\nformat is not required.\n\nChange-Id: I20db5526cb9c805cd65be154caff1eee0c66b3c1\n'}, {'number': 2, 'created': '2021-06-05 00:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6ba0daf0017e1a08706edd52664b4aa2a3f0bbe9', 'message': 'Move copy_env_files to utils\n\nUse os.path.join purely to join the path, use of\nformat is not required.\n\nChange-Id: I20db5526cb9c805cd65be154caff1eee0c66b3c1\n'}, {'number': 3, 'created': '2021-06-09 09:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/24f3b8f53c0b89eadaa33f29926b5ecf0f69e1e4', 'message': 'Move copy_env_files to utils\n\nUse os.path.join purely to join the path, use of\nformat is not required.\n\nChange-Id: I20db5526cb9c805cd65be154caff1eee0c66b3c1\n'}, {'number': 4, 'created': '2021-06-09 20:30:48.000000000', 'files': ['tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f44c7e25ed29d1217cf95944d29bee7978c7a8a2', 'message': 'Move copy_env_files to utils\n\nUse os.path.join purely to join the path, use of\nformat is not required.\n\nChange-Id: I20db5526cb9c805cd65be154caff1eee0c66b3c1\n'}]",0,794884,f44c7e25ed29d1217cf95944d29bee7978c7a8a2,18,4,4,24245,,,0,"Move copy_env_files to utils

Use os.path.join purely to join the path, use of
format is not required.

Change-Id: I20db5526cb9c805cd65be154caff1eee0c66b3c1
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/84/794884/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py']",2,6ad00932ac2df229ae27f78a0392eb5ada4b70d0,overcloud_deploy_clean," utils.copy_env_files(env_files, new_tht_root)"," self._copy_env_files(env_files, new_tht_root) def _copy_env_files(self, files_dict, tht_root): file_prefix = ""file://"" for fullpath in files_dict.keys(): if not fullpath.startswith(file_prefix): continue path = fullpath[len(file_prefix):] if path.startswith(tht_root): continue reloc_path = os.path.join( tht_root, ""user-environments/{}"".format(os.path.basename(path))) utils.safe_write(reloc_path, files_dict[fullpath]) ",18,19
openstack%2Fpython-tripleoclient~master~I0d5a01cc24d8944987a0f27419fb4661a55b4a19,openstack/python-tripleoclient,master,I0d5a01cc24d8944987a0f27419fb4661a55b4a19,Move build_image_params to utils,MERGED,2021-06-04 19:02:21.000000000,2021-06-11 08:49:06.000000000,2021-06-11 08:49:06.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-04 19:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a9f33bb9c99cd42626e67607fc466dad74957b0f', 'message': 'Move build_image_params to utils\n\nAlso minor code simplification\n\nChange-Id: I0d5a01cc24d8944987a0f27419fb4661a55b4a19\n'}, {'number': 2, 'created': '2021-06-05 00:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4c00cbe8016624baffa0de51305b411565472813', 'message': 'Move build_image_params to utils\n\nAlso minor code simplification\n\nChange-Id: I0d5a01cc24d8944987a0f27419fb4661a55b4a19\n'}, {'number': 3, 'created': '2021-06-09 09:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/18ebcb554aed5a3e5f758d2c0f911e6cd292918b', 'message': 'Move build_image_params to utils\n\nAlso minor code simplification\n\nChange-Id: I0d5a01cc24d8944987a0f27419fb4661a55b4a19\n'}, {'number': 4, 'created': '2021-06-09 20:30:48.000000000', 'files': ['tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/833283573d9a0636b577fcbaeef151e0e479cce6', 'message': 'Move build_image_params to utils\n\nAlso minor code simplification\n\nChange-Id: I0d5a01cc24d8944987a0f27419fb4661a55b4a19\n'}]",0,794883,833283573d9a0636b577fcbaeef151e0e479cce6,18,4,4,24245,,,0,"Move build_image_params to utils

Also minor code simplification

Change-Id: I0d5a01cc24d8944987a0f27419fb4661a55b4a19
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/83/794883/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py']",2,a9f33bb9c99cd42626e67607fc466dad74957b0f,overcloud_deploy_clean, parameters = utils.build_image_params(,"from tripleo_common.image import kolla_builderfrom tripleoclient.workflows import roles def build_image_params(self, env_files, parsed_args, new_tht_root, user_tht_root): image_params = plan_utils.default_image_params() if not parsed_args.disable_container_prepare: if parsed_args.environment_directories: env_files.extend(utils.load_environment_directories( parsed_args.environment_directories)) if parsed_args.environment_files: env_files.extend(parsed_args.environment_files) _, env = utils.process_multiple_environments( env_files, new_tht_root, user_tht_root, cleanup=(not parsed_args.no_cleanup)) updated_params = kolla_builder.container_images_prepare_multi( env, roles.get_roles_data(parsed_args.roles_file, new_tht_root), dry_run=True) if updated_params: image_params.update(updated_params) return image_params parameters = self.build_image_params(",28,26
openstack%2Fpuppet-tripleo~master~Ia42c29d5b082120f5a984cffd97325faf387ca8b,openstack/puppet-tripleo,master,Ia42c29d5b082120f5a984cffd97325faf387ca8b,Remove bind and bind pool generation for designate from puppet,MERGED,2021-01-11 21:33:07.000000000,2021-06-11 08:48:07.000000000,2021-06-11 08:48:07.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-11 21:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8718fed5c3fc24e0b759d6452a723a52831219e0', 'message': 'Remove generation of the pools file from puppet\n\nThis patch removes configuring the bind pools file from puppet at is now\ngenerated in ansible using deployment info.\n\nChange-Id: Ia42c29d5b082120f5a984cffd97325faf387ca8b\n'}, {'number': 2, 'created': '2021-03-03 15:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/44527afcd0f31d2a320598832df11383772ce42d', 'message': 'Remove generation of the pools file from puppet\n\nThis patch removes configuring the bind pools file from puppet at is now\ngenerated in ansible using deployment info.\n\nChange-Id: Ia42c29d5b082120f5a984cffd97325faf387ca8b\n'}, {'number': 3, 'created': '2021-03-04 19:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e0f12fbb30be349b97e3276a1d2ea20bfc08b5ff', 'message': 'Remove generation of the pools file from puppet\n\nThis patch removes configuring the bind pools file from puppet at is now\ngenerated in ansible using deployment info.\n\nChange-Id: Ia42c29d5b082120f5a984cffd97325faf387ca8b\n'}, {'number': 4, 'created': '2021-03-04 19:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5e511f35b9e0727049e37141848fa6a950e82cf2', 'message': 'Remove bind and bind pool generation for designate from puppet\n\nThis patch removes configuring the bind backend and desginate bind pool\nconfiguration from puppet as it is now generated in ansible.\n\nChange-Id: Ia42c29d5b082120f5a984cffd97325faf387ca8b\n'}, {'number': 5, 'created': '2021-03-05 13:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/16052f98db1a399dd26caee4221c866150d7bc6d', 'message': 'Remove bind and bind pool generation for designate from puppet\n\nThis patch removes configuring the bind backend and desginate bind pool\nconfiguration from puppet as it is now generated in ansible.\n\nChange-Id: Ia42c29d5b082120f5a984cffd97325faf387ca8b\n'}, {'number': 6, 'created': '2021-03-05 18:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c5ee10c3699e8abf4c5d6004a1e3d97cf7b2339f', 'message': 'Remove bind and bind pool generation for designate from puppet\n\nThis patch removes configuring the bind backend and desginate bind pool\nconfiguration from puppet as it is now generated in ansible.\n\nChange-Id: Ia42c29d5b082120f5a984cffd97325faf387ca8b\n'}, {'number': 7, 'created': '2021-03-10 13:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2214132a0686ab06d7b8f9767803f3bca9c09e4b', 'message': 'Remove bind and bind pool generation for designate from puppet\n\nThis patch removes configuring the bind backend and desginate bind pool\nconfiguration from puppet as it is now generated in ansible.\n\nChange-Id: Ia42c29d5b082120f5a984cffd97325faf387ca8b\n'}, {'number': 8, 'created': '2021-03-10 14:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a427aaae6b21db2891ea2ac6dd7f8ee4b686926e', 'message': 'Remove bind and bind pool generation for designate from puppet\n\nThis patch removes configuring the bind backend and desginate bind pool\nconfiguration from puppet as it is now generated in ansible.\n\nChange-Id: Ia42c29d5b082120f5a984cffd97325faf387ca8b\n'}, {'number': 9, 'created': '2021-03-12 12:25:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/290fbef90139e15eb1cf5b28590b3ebc1db0b832', 'message': 'Remove bind and bind pool generation for designate from puppet\n\nThis patch removes configuring the bind backend and desginate bind pool\nconfiguration from puppet as it is now generated in ansible.\n\nDepends-On: Ib89bcafe9f65431aee5756a32b2a82adc3d384dc\nChange-Id: Ia42c29d5b082120f5a984cffd97325faf387ca8b\n'}, {'number': 10, 'created': '2021-03-22 19:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c87f38055563ec929b411cd379ae5d940fa77f9f', 'message': 'Remove bind and bind pool generation for designate from puppet\n\nThis patch removes configuring the bind backend and desginate bind pool\nconfiguration from puppet as it is now generated in ansible.\n\nDepends-On: Ib89bcafe9f65431aee5756a32b2a82adc3d384dc\nChange-Id: Ia42c29d5b082120f5a984cffd97325faf387ca8b\n'}, {'number': 11, 'created': '2021-05-20 15:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c3da4ed5e290c3b826266d2504c58604d00d5099', 'message': 'Remove bind and bind pool generation for designate from puppet\n\nThis patch removes configuring the bind backend and desginate bind pool\nconfiguration from puppet as it is now generated in ansible.\n\nDepends-On: Ib89bcafe9f65431aee5756a32b2a82adc3d384dc\nChange-Id: Ia42c29d5b082120f5a984cffd97325faf387ca8b\n'}, {'number': 12, 'created': '2021-05-20 15:26:38.000000000', 'files': ['manifests/profile/base/designate/backend.pp', 'manifests/profile/base/designate.pp', 'spec/classes/tripleo_profile_base_designate_central_spec.rb', 'templates/designate/pools.yaml.erb', 'manifests/profile/base/designate/worker.pp', 'spec/classes/tripleo_profile_base_designate_spec.rb', 'manifests/profile/base/designate/central.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/98a0af7cc9b745ebf4f3964d5c33259edb5e0ea2', 'message': 'Remove bind and bind pool generation for designate from puppet\n\nThis patch removes configuring the bind backend and desginate bind pool\nconfiguration from puppet as it is now generated in ansible.\n\nDepends-On: Ib89bcafe9f65431aee5756a32b2a82adc3d384dc\nChange-Id: Ia42c29d5b082120f5a984cffd97325faf387ca8b\n'}]",7,770208,98a0af7cc9b745ebf4f3964d5c33259edb5e0ea2,45,6,12,6681,,,0,"Remove bind and bind pool generation for designate from puppet

This patch removes configuring the bind backend and desginate bind pool
configuration from puppet as it is now generated in ansible.

Depends-On: Ib89bcafe9f65431aee5756a32b2a82adc3d384dc
Change-Id: Ia42c29d5b082120f5a984cffd97325faf387ca8b
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/08/770208/12 && git format-patch -1 --stdout FETCH_HEAD,"['templates/designate/pools.yaml.erb', 'manifests/profile/base/designate/central.pp']",2,8718fed5c3fc24e0b759d6452a723a52831219e0,designate,# DEPRECATED(Optional) The content of /etc/designate/pools.yaml# DEPRECATED PARAMETERS warning('pool file content is no longer manually configurable'),"# (Optional) The content of /etc/designate/pools.yaml $pools_file_content_real = $pools_file_content } else { $pools_file_content_real = template('tripleo/designate/pools.yaml.erb') } file { 'designate pools': path => '/etc/designate/pools.yaml', content => $pools_file_content_real,",3,51
openstack%2Fpuppet-tripleo~master~I5af64632783bc98002333389f32ed255e5f87acb,openstack/puppet-tripleo,master,I5af64632783bc98002333389f32ed255e5f87acb,Deprecate the swift_store_config_file parameter,MERGED,2020-12-22 01:46:48.000000000,2021-06-11 08:48:02.000000000,2021-06-11 08:48:02.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-22 01:46:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bd401c174572c5c0bdc9911ed52beed1d77ffa02', 'message': ""Deprecate the swift_store_config_file parameter\n\nThis parameter is not really useful because we don't expect that users\nwill override that parameter to use their own file instead of the file\ngenerated by puppet-glance.\n\nRelated-Bug: #1908917\nDepends-on: https://review.opendev.org/768103/\nChange-Id: I5af64632783bc98002333389f32ed255e5f87acb\n""}, {'number': 2, 'created': '2020-12-22 01:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e2b1d9ce551d6b776e65a803d79764b81c3640dd', 'message': ""Deprecate the swift_store_config_file parameter\n\n... because we don't expect that users will override that parameter to\nuse their own configuration file instead of the file generated by\npuppet-glance.\n\nRelated-Bug: #1908917\nDepends-on: https://review.opendev.org/768103/\nChange-Id: I5af64632783bc98002333389f32ed255e5f87acb\n""}, {'number': 3, 'created': '2021-04-09 08:55:23.000000000', 'files': ['manifests/profile/base/glance/backend/swift.pp', 'spec/classes/tripleo_profile_base_glance_backend_swift_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/418536905ef6b8c0b124313f02fc11f8c7cbf881', 'message': ""Deprecate the swift_store_config_file parameter\n\n... because we don't expect that users will override that parameter to\nuse their own configuration file instead of the file generated by\npuppet-glance.\n\nRelated-Bug: #1908917\nDepends-on: https://review.opendev.org/768103/\nChange-Id: I5af64632783bc98002333389f32ed255e5f87acb\n""}]",0,768134,418536905ef6b8c0b124313f02fc11f8c7cbf881,17,3,3,9816,,,0,"Deprecate the swift_store_config_file parameter

... because we don't expect that users will override that parameter to
use their own configuration file instead of the file generated by
puppet-glance.

Related-Bug: #1908917
Depends-on: https://review.opendev.org/768103/
Change-Id: I5af64632783bc98002333389f32ed255e5f87acb
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/34/768134/3 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/glance/backend/swift.pp'],1,bd401c174572c5c0bdc9911ed52beed1d77ffa02,bug/1908917,"# DEPRECATED PARAMETERS # # [*swift_store_config_file*] # (Optional) # Defaults to undef. # # DEPRECATED PARAMETERS $swift_store_config_file = undef, if $swift_store_config_file != undef { warning('The swift_store_config_file parameter has been deprecated and has no effect') } ","# [*swift_store_config_file*] # (Optional) # Defaults to /etc/glance/glance-swift.conf. # $swift_store_config_file = '/etc/glance/glance-swift.conf', swift_store_config_file => $swift_store_config_file,",12,6
openstack%2Fpuppet-tripleo~stable%2Ftrain~I5870c0689434eaca8d114cd83e1164e1454565d7,openstack/puppet-tripleo,stable/train,I5870c0689434eaca8d114cd83e1164e1454565d7,Add option to set rsyslog reopenOnTruncate parameter for all services,MERGED,2021-06-07 13:21:59.000000000,2021-06-11 08:47:58.000000000,2021-06-11 08:47:58.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-07 13:21:59.000000000', 'files': ['manifests/profile/base/logging/rsyslog.pp', 'manifests/profile/base/logging/rsyslog/file_input.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/fce617c48bf59cdade78139f05034df0396f5a17', 'message': 'Add option to set rsyslog reopenOnTruncate parameter for all services\n\nIf defined, set reopenOnTruncate rsyslog imfile option for all services. Paremeter definition set by the services takes precedence\n\nChange-Id: I5870c0689434eaca8d114cd83e1164e1454565d7\n(cherry picked from commit e525aa1583199daea6976016297a6cda6d3b1f5b)\n'}]",0,795108,fce617c48bf59cdade78139f05034df0396f5a17,9,3,1,31510,,,0,"Add option to set rsyslog reopenOnTruncate parameter for all services

If defined, set reopenOnTruncate rsyslog imfile option for all services. Paremeter definition set by the services takes precedence

Change-Id: I5870c0689434eaca8d114cd83e1164e1454565d7
(cherry picked from commit e525aa1583199daea6976016297a6cda6d3b1f5b)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/08/795108/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/logging/rsyslog.pp', 'manifests/profile/base/logging/rsyslog/file_input.pp']",2,fce617c48bf59cdade78139f05034df0396f5a17,rsyslog-reopen-on-truncate-train,"# [*reopen_on_truncate*] # (Optional) String. Set all rsyslog imfile reopenOnTruncate parameters # unless it is already specified in hiera # Defaults to undef # $default_startmsg = '^[0-9]{4}-[0-9]{2}-[0-9]{2} [0-9]{2}:[0-9]{2}:[0-9]{2}(.[0-9]+ [0-9]+)? (DEBUG|INFO|WARNING|ERROR) ', Optional[Enum['on','off']] $reopen_on_truncate = undef if ! $config['reopenOnTruncate'] { if $reopen_on_truncate { $record2 = $record + {'reopenOnTruncate' => $reopen_on_truncate} } else { $record2 = $record } } else { $record2 = $record } $memo + [$record2]", $default_startmsg = '^[0-9]{4}-[0-9]{2}-[0-9]{2} [0-9]{2}:[0-9]{2}:[0-9]{2}(.[0-9]+ [0-9]+)? (DEBUG|INFO|WARNING|ERROR) ' $memo + [$record],29,3
openstack%2Ftripleo-heat-templates~master~I69225a63f98e945d9b9364f0425bdac807bf3f0e,openstack/tripleo-heat-templates,master,I69225a63f98e945d9b9364f0425bdac807bf3f0e,Open tripleo-heat-templates for Xena,ABANDONED,2021-06-10 20:16:04.000000000,2021-06-11 08:41:21.000000000,,"[{'_account_id': 1955}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-06-10 20:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4cbd9f4b404573fa9b5b16eb5165de23671a0ad7', 'message': 'Open tripleo-heat-templates for Xena\n\nTo avoid pushing an artificial alpha tag, following PBR semver keyword\nbumps major version. See http://docs.openstack.org/developer/pbr/#version\n\nChange-Id: I69225a63f98e945d9b9364f0425bdac807bf3f0e\nRelated-Bug: #1931223\nSem-Ver: api-break\n'}]",0,795894,4cbd9f4b404573fa9b5b16eb5165de23671a0ad7,11,9,1,24245,,,0,"Open tripleo-heat-templates for Xena

To avoid pushing an artificial alpha tag, following PBR semver keyword
bumps major version. See http://docs.openstack.org/developer/pbr/#version

Change-Id: I69225a63f98e945d9b9364f0425bdac807bf3f0e
Related-Bug: #1931223
Sem-Ver: api-break
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/94/795894/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,4cbd9f4b404573fa9b5b16eb5165de23671a0ad7,bug/1931223,,,0,0
openstack%2Fpython-tripleoclient~master~I69225a63f98e945d9b9364f0425bdac807bf3f0e,openstack/python-tripleoclient,master,I69225a63f98e945d9b9364f0425bdac807bf3f0e,Open python-tripleoclient for Xena,ABANDONED,2021-06-10 20:14:48.000000000,2021-06-11 08:41:00.000000000,,"[{'_account_id': 1955}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-06-10 20:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cd520ff235405f26d1945e737d7ac06100fc4a2f', 'message': 'Open python-tripleoclient for Xena\n\nTo avoid pushing an artificial alpha tag, following PBR semver keyword\nbumps major version. See http://docs.openstack.org/developer/pbr/#version\n\nChange-Id: I69225a63f98e945d9b9364f0425bdac807bf3f0e\nRelated-Bug: #1931223\nSem-Ver: api-break\n'}]",1,795893,cd520ff235405f26d1945e737d7ac06100fc4a2f,12,7,1,24245,,,0,"Open python-tripleoclient for Xena

To avoid pushing an artificial alpha tag, following PBR semver keyword
bumps major version. See http://docs.openstack.org/developer/pbr/#version

Change-Id: I69225a63f98e945d9b9364f0425bdac807bf3f0e
Related-Bug: #1931223
Sem-Ver: api-break
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/93/795893/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,cd520ff235405f26d1945e737d7ac06100fc4a2f,bug/1931223,,,0,0
openstack%2Fmanila-tempest-plugin~master~I14db6e04d9635229e4554582268ba8c5f745b57a,openstack/manila-tempest-plugin,master,I14db6e04d9635229e4554582268ba8c5f745b57a,Add a validation check that the share has been deleted,MERGED,2021-06-10 12:18:30.000000000,2021-06-11 08:40:16.000000000,2021-06-11 05:37:38.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30025}]","[{'number': 1, 'created': '2021-06-10 12:18:30.000000000', 'files': ['manila_tempest_tests/tests/api/admin/test_admin_actions.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/ac53004eddfa5be7b95b2264cb181dbe2d97ec8c', 'message': 'Add a validation check that the share has been deleted\n\nThis patch validates that share has been deleted after\ndeletion of share instance.\n\nChange-Id: I14db6e04d9635229e4554582268ba8c5f745b57a\n'}]",2,795769,ac53004eddfa5be7b95b2264cb181dbe2d97ec8c,15,5,1,19262,,,0,"Add a validation check that the share has been deleted

This patch validates that share has been deleted after
deletion of share instance.

Change-Id: I14db6e04d9635229e4554582268ba8c5f745b57a
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/69/795769/1 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/tests/api/admin/test_admin_actions.py'],1,ac53004eddfa5be7b95b2264cb181dbe2d97ec8c,verify_share_deletion,"from tempest.lib import exceptions as lib_exc # Verify that the share has been deleted. self.assertRaises(lib_exc.NotFound, self.shares_v2_client.get_share, share['id'])",,5,0
openstack%2Fmanila~master~Iede8a9e59b96d0f21c117ab1464a0a9e3477c24b,openstack/manila,master,Iede8a9e59b96d0f21c117ab1464a0a9e3477c24b,Uses local variable with ipv4 gateway config,MERGED,2021-01-08 14:34:35.000000000,2021-06-11 08:35:55.000000000,2021-01-11 01:31:50.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 26159}]","[{'number': 1, 'created': '2021-01-08 14:34:35.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/manila/commit/d7d83a3f3bf75bdb5943305b857b43a9af536b17', 'message': 'Uses local variable with ipv4 gateway config\n\nWe were using an env var with the IPv4 gateway config\nthat is not always present. This was causing devstack to fail\nin developer environment. Use the local variable instead.\n\nCloses-Bug: #1910760\nChange-Id: Iede8a9e59b96d0f21c117ab1464a0a9e3477c24b\n'}]",0,769930,d7d83a3f3bf75bdb5943305b857b43a9af536b17,35,4,1,6413,,,0,"Uses local variable with ipv4 gateway config

We were using an env var with the IPv4 gateway config
that is not always present. This was causing devstack to fail
in developer environment. Use the local variable instead.

Closes-Bug: #1910760
Change-Id: Iede8a9e59b96d0f21c117ab1464a0a9e3477c24b
",git fetch https://review.opendev.org/openstack/manila refs/changes/30/769930/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,d7d83a3f3bf75bdb5943305b857b43a9af536b17,bug/1910760," sudo ip addr add ""$public_gateway_ipv4""/""$ipv4_cidr_len"" dev $PUBLIC_BRIDGE"," sudo ip addr add $PUBLIC_NETWORK_GATEWAY/""$ipv4_cidr_len"" dev $PUBLIC_BRIDGE",1,1
openstack%2Ffreezer-api~master~I684486e308850c3cefef64314bea01f813d196f6,openstack/freezer-api,master,I684486e308850c3cefef64314bea01f813d196f6,setup.cfg: Replace dashes with underscores,MERGED,2021-05-13 10:13:25.000000000,2021-06-11 07:41:31.000000000,2021-06-11 07:40:18.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 10:13:25.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/e2c135078e1492d05e6bd02df577c0301a93a104', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I684486e308850c3cefef64314bea01f813d196f6\n""}]",0,791128,e2c135078e1492d05e6bd02df577c0301a93a104,14,2,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I684486e308850c3cefef64314bea01f813d196f6
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/28/791128/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,e2c135078e1492d05e6bd02df577c0301a93a104,,description_file = README.rsthome_page = https://docs.openstack.org/freezer/latest/ python_requires = >=3.6,description-file = README.rsthome-page = https://docs.openstack.org/freezer/latest/ python-requires = >=3.6,3,3
openstack%2Fpython-karborclient~master~I04e300e11b277f4e35d6f03e2428ece458e14519,openstack/python-karborclient,master,I04e300e11b277f4e35d6f03e2428ece458e14519,Add shell optional arguments for quota,ABANDONED,2020-08-25 07:40:25.000000000,2021-06-11 07:37:15.000000000,,"[{'_account_id': 2023}, {'_account_id': 13070}, {'_account_id': 17151}, {'_account_id': 19346}, {'_account_id': 20883}, {'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 24328}, {'_account_id': 27621}, {'_account_id': 28522}, {'_account_id': 29272}, {'_account_id': 31245}, {'_account_id': 32245}]","[{'number': 1, 'created': '2020-08-25 07:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-karborclient/commit/da1bec549e41ce2681278c444d2a110016cf4d1e', 'message': 'Add shell optional arguments for quota\n\ncheckpoints resource is supported in this patch:\nhttps://review.opendev.org/#/c/659776/\n\nthe argument ""checkpoints"" can set by ""sdk call"" or ""restful api call"", the ""CLI call"" is not support for this argument, so add support in this patch.\n\nChange-Id: I04e300e11b277f4e35d6f03e2428ece458e14519\n'}, {'number': 2, 'created': '2020-08-25 09:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-karborclient/commit/2934c3e65223a5e81712d26376887982bd980c17', 'message': 'Add shell optional arguments for quota\n\ncheckpoints resource is supported in this patch:\nhttps://review.opendev.org/#/c/659776/\n\nthe argument ""checkpoints"" can set by ""sdk call"" or ""restful api call"", the ""CLI call"" is not support for this argument, so add support in this patch.\n\nChange-Id: I04e300e11b277f4e35d6f03e2428ece458e14519\n'}, {'number': 3, 'created': '2020-08-25 14:08:25.000000000', 'files': ['karborclient/v1/shell.py', 'karborclient/tests/unit/v1/test_quota_classes.py', 'karborclient/v1/quotas.py', 'karborclient/tests/unit/v1/test_quotas.py', 'karborclient/v1/quota_classes.py'], 'web_link': 'https://opendev.org/openstack/python-karborclient/commit/0529c6adfb3e1d3e79d968f66f8635bc83508327', 'message': 'Add shell optional arguments for quota\n\ncheckpoints resource is supported in this patch:\nhttps://review.opendev.org/#/c/659776/\n\nThe argument ""checkpoints"" can set by ""sdk call""\nor ""restful api call"", the ""CLI call"" is not support\nfor this argument, so add support in this patch.\n\nChange-Id: I04e300e11b277f4e35d6f03e2428ece458e14519\n'}]",3,747854,0529c6adfb3e1d3e79d968f66f8635bc83508327,9,13,3,32245,,,0,"Add shell optional arguments for quota

checkpoints resource is supported in this patch:
https://review.opendev.org/#/c/659776/

The argument ""checkpoints"" can set by ""sdk call""
or ""restful api call"", the ""CLI call"" is not support
for this argument, so add support in this patch.

Change-Id: I04e300e11b277f4e35d6f03e2428ece458e14519
",git fetch https://review.opendev.org/openstack/python-karborclient refs/changes/54/747854/2 && git format-patch -1 --stdout FETCH_HEAD,"['karborclient/v1/shell.py', 'karborclient/tests/unit/v1/test_quota_classes.py', 'karborclient/v1/quotas.py', 'karborclient/tests/unit/v1/test_quotas.py', 'karborclient/v1/quota_classes.py']",5,da1bec549e41ce2681278c444d2a110016cf4d1e,," if ""checkpoints"" in data and data[""checkpoints""] is None: data[""checkpoints""] = -1 ",,28,8
openstack%2Fpython-tripleoclient~master~I7d544dc277bd81a0f6f5f9d5ca15b2bdc99c102f,openstack/python-tripleoclient,master,I7d544dc277bd81a0f6f5f9d5ca15b2bdc99c102f,Check for the service queue with ephemeral heat,MERGED,2021-06-09 09:15:14.000000000,2021-06-11 07:32:45.000000000,2021-06-11 07:31:14.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-09 09:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6d08bb773f783a3d1ba7ed30701c99881c7273df', 'message': ""Check for the service queue with ephemeral heat\n\nHeat creates some listener and worker queues before creating\nthe queue that clients publish message to.\n\nLet's check for the service queue to ensure that all queues\nare created before we make any api call.\n\nChange-Id: I7d544dc277bd81a0f6f5f9d5ca15b2bdc99c102f\n""}, {'number': 2, 'created': '2021-06-09 15:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3e43dce14a6739ef75f28924e89770a26b2e64bb', 'message': ""Check for the service queue with ephemeral heat\n\nHeat creates some listener and worker queues before creating\nthe queue that clients publish message to.\n\nLet's check for the service queue to ensure that all queues\nare created before we make any api call.\n\nChange-Id: I7d544dc277bd81a0f6f5f9d5ca15b2bdc99c102f\n""}, {'number': 3, 'created': '2021-06-10 04:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/57b5badc3afba2124feb058cdbca3502d45b2c65', 'message': ""Check for the service queue with ephemeral heat\n\nHeat creates some listener and worker queues before creating\nthe queue that clients publish message to.\n\nLet's check for the service queue to ensure that all queues\nare created before we make any api call.\n\nAlso uses a constant for the pod name which is used by\npodman for the pod hostname[1].\n\n[1] https://github.com/containers/podman/blob/master/libpod/runtime_pod_infra_linux.go#L34\n\nChange-Id: I7d544dc277bd81a0f6f5f9d5ca15b2bdc99c102f\n""}, {'number': 4, 'created': '2021-06-10 04:16:04.000000000', 'files': ['tripleoclient/constants.py', 'tripleoclient/heat_launcher.py', 'tripleoclient/tests/test_heat_launcher.py', 'templates/ephemeral-heat/heat-pod.yaml.j2'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/299276e7e21bfe39bd8784ac923383ca1e494b81', 'message': ""Check for the service queue with ephemeral heat\n\nHeat creates some listener and worker queues before creating\nthe queue that clients publish message to.\n\nLet's check for the service queue to ensure that all queues\nare created before we make any api call.\n\nAlso uses a constant for the pod name which is used by\npodman for the pod hostname[1].\n\n[1] https://github.com/containers/podman/blob/master/libpod/runtime_pod_infra_linux.go#L34\n\nChange-Id: I7d544dc277bd81a0f6f5f9d5ca15b2bdc99c102f\n""}]",1,795502,299276e7e21bfe39bd8784ac923383ca1e494b81,21,7,4,8833,,,0,"Check for the service queue with ephemeral heat

Heat creates some listener and worker queues before creating
the queue that clients publish message to.

Let's check for the service queue to ensure that all queues
are created before we make any api call.

Also uses a constant for the pod name which is used by
podman for the pod hostname[1].

[1] https://github.com/containers/podman/blob/master/libpod/runtime_pod_infra_linux.go#L34

Change-Id: I7d544dc277bd81a0f6f5f9d5ca15b2bdc99c102f
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/02/795502/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/heat_launcher.py', 'tripleoclient/tests/test_heat_launcher.py']",2,6d08bb773f783a3d1ba7ed30701c99881c7273df,, self.check_output.return_value = 1 self.check_output.return_value = 0, self.check_output.return_value = 'heat' self.check_output.return_value = 'test',6,4
openstack%2Fneutron~master~Ib156b330c12f75bdb436e64c777425acaf7a9067,openstack/neutron,master,Ib156b330c12f75bdb436e64c777425acaf7a9067,[Doc] Remove one of the known DVR HA limitations,MERGED,2021-06-09 12:40:27.000000000,2021-06-11 07:28:19.000000000,2021-06-11 07:26:37.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-06-09 12:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e04e4c531d4c8c05b4b0622ee059c4138c021c41', 'message': '[Doc] Remove one of the known DVR HA limitations\n\nMigration to the DVR HA router is now supported from all other\nrouter types. All is tests in the\nneutron_tempest_plugin.scenario.test_migration module.\n\nChange-Id: Ib156b330c12f75bdb436e64c777425acaf7a9067\n'}, {'number': 2, 'created': '2021-06-10 08:04:55.000000000', 'files': ['doc/source/admin/config-dvr-ha-snat.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4173fb6ca32feed0d7feb5b607d34c42cfb51556', 'message': '[Doc] Remove one of the known DVR HA limitations\n\nMigration to/from the DVR HA router is now supported\nfrom/to all other router types. All is tests in the\nneutron_tempest_plugin.scenario.test_migration module.\n\nChange-Id: Ib156b330c12f75bdb436e64c777425acaf7a9067\n'}]",2,795531,4173fb6ca32feed0d7feb5b607d34c42cfb51556,16,4,2,11975,,,0,"[Doc] Remove one of the known DVR HA limitations

Migration to/from the DVR HA router is now supported
from/to all other router types. All is tests in the
neutron_tempest_plugin.scenario.test_migration module.

Change-Id: Ib156b330c12f75bdb436e64c777425acaf7a9067
",git fetch https://review.opendev.org/openstack/neutron refs/changes/31/795531/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/config-dvr-ha-snat.rst'],1,e04e4c531d4c8c05b4b0622ee059c4138c021c41,update-docs,,"* Migrating a router from distributed only, HA only, or legacy to distributed HA is not supported at this time. The router must be created as distributed HA. The reverse direction is also not supported. You cannot reconfigure a distributed HA router to be only distributed, only HA, or legacy. ",0,6
openstack%2Fnova~master~I9b7a4ce56c697e8806b4595dfebbdebe07ec45ce,openstack/nova,master,I9b7a4ce56c697e8806b4595dfebbdebe07ec45ce,Remove unsafe convert of lvm imagebackend,ABANDONED,2019-03-12 07:37:57.000000000,2021-06-11 07:12:26.000000000,,"[{'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 19124}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28706}]","[{'number': 1, 'created': '2019-03-12 07:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/35bc75452ae50e43f6cb684d04fb1d5769404e7a', 'message': ""Remove the unsafe convert of lvm imagebackend\n\nAfter adding REQUIRES_RAW_IMPORT = True for lvm imagebackend, the\ncache images of lvm imagebackend are always raw format. So that, we\nnever need to convert the format here.\nSo we remove the calling function of 'convert_image_unsafe' now.\n\nChange-Id: I9b7a4ce56c697e8806b4595dfebbdebe07ec45ce\n""}, {'number': 2, 'created': '2019-03-12 08:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d18c071008334fb061482e5fe537d9cdf8615ac9', 'message': ""Remove the unsafe convert of lvm imagebackend\n\nAfter adding REQUIRES_RAW_IMPORT = True for lvm imagebackend, the\ncache images of lvm imagebackend are always raw format. So that, we\nnever need to convert the format here.\nSo we remove the calling function of 'convert_image_unsafe' now.\n\nChange-Id: I9b7a4ce56c697e8806b4595dfebbdebe07ec45ce\n""}, {'number': 3, 'created': '2019-03-14 09:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7b209085f80a3ed2276222e111f49a4d61e8161e', 'message': ""Remove unsafe convert of lvm imagebackend\n\nforce_raw_images = False and images_type = lvm is not allowed now.\n\nWe will delete the non-raw cache image files if you set\nforce_raw_images = True and images_type = lvm.\n\nSo we remove the function 'convert_image_unsafe' now.\n\nChange-Id: I9b7a4ce56c697e8806b4595dfebbdebe07ec45ce\n""}, {'number': 4, 'created': '2019-03-14 13:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/09f66e49ea43093564114a1add58772927c357b1', 'message': ""Remove unsafe convert of lvm imagebackend\n\nforce_raw_images = False and images_type = lvm is not allowed now.\n\nWe will delete the non-raw cache image files if you set\nforce_raw_images = True and images_type = lvm.\n\nSo we remove the function 'convert_image_unsafe' now.\n\nChange-Id: I9b7a4ce56c697e8806b4595dfebbdebe07ec45ce\n""}, {'number': 5, 'created': '2019-03-26 07:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df3bcaece1efdad0dd014331f438edc1a8e94c68', 'message': ""Remove unsafe convert of lvm imagebackend\n\nforce_raw_images = False and images_type = lvm is not allowed now.\n\nWe will delete the non-raw cache image files if you set\nforce_raw_images = True and images_type = lvm.\n\nSo we remove the function 'convert_image_unsafe' now.\n\nChange-Id: I9b7a4ce56c697e8806b4595dfebbdebe07ec45ce\n""}, {'number': 6, 'created': '2019-05-05 03:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd2feb269b09c3f1498e02508fd691f108c06ad1', 'message': ""Remove unsafe convert of lvm imagebackend\n\nforce_raw_images = False and images_type = lvm is not allowed now.\n\nWe will delete the non-raw cache image files if you set\nforce_raw_images = True and images_type = lvm.\n\nSo we remove the function 'convert_image_unsafe' now.\n\nChange-Id: I9b7a4ce56c697e8806b4595dfebbdebe07ec45ce\n""}, {'number': 7, 'created': '2019-05-06 07:28:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/810be6fd4a3e117e8b4fba01e6408d84cc7f61b3', 'message': ""Remove unsafe convert of lvm imagebackend\n\nforce_raw_images = False and images_type = lvm is not allowed now.\n\nWe will delete the non-raw cache image files if you set\nforce_raw_images = True and images_type = lvm.\n\nSo we remove the function 'convert_image_unsafe' now.\n\nChange-Id: I9b7a4ce56c697e8806b4595dfebbdebe07ec45ce\n""}, {'number': 8, 'created': '2019-05-30 07:15:12.000000000', 'files': ['nova/conf/compute.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/virt/libvirt/imagebackend.py', 'releasenotes/notes/remove-unsafe-convert-of-lvm-imagebackend-218ffd18e20c832d.yaml', 'nova/virt/images.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4c6f168d96673886acf8b34f8914406a4ae5df2e', 'message': ""Remove unsafe convert of lvm imagebackend\n\nforce_raw_images = False and images_type = lvm is not allowed now.\n\nWe will delete the non-raw cache image files if you set\nforce_raw_images = True and images_type = lvm.\n\nSo we remove the function 'convert_image_unsafe' now.\n\nChange-Id: I9b7a4ce56c697e8806b4595dfebbdebe07ec45ce\n""}]",25,642667,4c6f168d96673886acf8b34f8914406a4ae5df2e,100,18,8,28706,,,0,"Remove unsafe convert of lvm imagebackend

force_raw_images = False and images_type = lvm is not allowed now.

We will delete the non-raw cache image files if you set
force_raw_images = True and images_type = lvm.

So we remove the function 'convert_image_unsafe' now.

Change-Id: I9b7a4ce56c697e8806b4595dfebbdebe07ec45ce
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/642667/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/compute.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/virt/libvirt/imagebackend.py', 'nova/virt/images.py', 'releasenotes/notes/remove-unsafe-convert-of-lvm-imagebackend-218ffd18e20c832d.yaml']",6,35bc75452ae50e43f6cb684d04fb1d5769404e7a,remove-unsafe-convert-of-LVM-imagebackend,"--- upgrade: - The libvirt driver's LVM imagebackend no longer supports setting force_raw_images to False. Setting force_raw_images = False and images_type = lvm in nova.conf will cause the nova compute service to refuse to start. To fix this, set force_raw_images = True. Based on the above conditions, the cache images of LVM imagebackend are always raw format. So we can remove the unsafe convert here. ",,19,56
openstack%2Fnova~master~I136b2a8a38c36ea9717d592c748d8758f15d6d28,openstack/nova,master,I136b2a8a38c36ea9717d592c748d8758f15d6d28,Make evacuation respects anti-affinity rule,ABANDONED,2019-04-04 10:21:37.000000000,2021-06-11 07:11:42.000000000,,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7543}, {'_account_id': 8556}, {'_account_id': 8768}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 19124}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 27614}, {'_account_id': 28706}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-04-04 10:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fa6632d177e48a473f450affc5e3bd3dd04ed8d1', 'message': 'Use the functional test test_parallel_evacuate_with_server_group\n\nThe related bug https://bugs.launchpad.net/nova/+bug/1735407.\nEvacuation does not respect anti-affinity rules.\n\nFixed in related patch https://review.openstack.org/#/c/649953/\n\nChange-Id: I136b2a8a38c36ea9717d592c748d8758f15d6d28\nCloses-Bug: 1763181\n'}, {'number': 2, 'created': '2019-04-08 06:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/37a3cd9de73d9c048d8aa67a58f6ba5d923796f9', 'message': 'Use the functional test test_parallel_evacuate_with_server_group\n\nThe related bug https://bugs.launchpad.net/nova/+bug/1735407.\nEvacuation does not respect anti-affinity rules.\n\nFixed in related patch https://review.openstack.org/#/c/649953/\n\nChange-Id: I136b2a8a38c36ea9717d592c748d8758f15d6d28\nCloses-Bug: 1763181\n'}, {'number': 3, 'created': '2019-04-08 08:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6332d698982f1315b3868a6fceff8daae102b121', 'message': 'Use the functional test test_parallel_evacuate_with_server_group\n\nThe related bug https://bugs.launchpad.net/nova/+bug/1735407.\nEvacuation does not respect anti-affinity rules.\n\nFixed in related patch https://review.openstack.org/#/c/649953/\n\nChange-Id: I136b2a8a38c36ea9717d592c748d8758f15d6d28\nCloses-Bug: 1763181\n'}, {'number': 4, 'created': '2019-04-09 05:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c95fdd81ca4d65f75c944b0cb6f4a4b9f8843db3', 'message': 'Use the functional test test_parallel_evacuate_with_server_group\n\nWe can start using the functional test now.\n\nBefore, parallel evacuation will break the anti-affinity\npolicy of group. It will evacuate instances into the\nsame host.\n\nChange-Id: I136b2a8a38c36ea9717d592c748d8758f15d6d28\nCloses-Bug: 1763181\n'}, {'number': 5, 'created': '2019-04-10 02:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b1ac004174acd0d21b2a80c1d01a7c6d58dd917d', 'message': 'Use the functional test test_parallel_evacuate_with_server_group\n\nWe can start using the functional test now.\n\nBefore, parallel evacuation will break the anti-affinity\npolicy of group. It will evacuate instances into the\nsame host.\n\nChange-Id: I136b2a8a38c36ea9717d592c748d8758f15d6d28\nCloses-Bug: 1763181\n'}, {'number': 6, 'created': '2019-04-10 14:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/15db925dc771892cb8de3d8ce6fa75b1d7459ebb', 'message': 'Make evacuation respects anti-affinity rule\n\nThe change I75261 has added the late group check for evacuation.\nBut the function _validate_instance_group_policy is only to check\nthe instances which are now on host but not to check the instances\nwhich are in-migration will be migrated to the host.\n\nSo that add the instance_uuids from migration table to check whether\nother instances will be migrated to the same host/node.\n\nUse the functional test test_parallel_evacuate_with_server_group now.\n\nBefore, parallel evacuation will break the anti-affinity policy of\ngroup. It will evacuate instances into the same host.\n\nChange-Id: I136b2a8a38c36ea9717d592c748d8758f15d6d28\nCloses-Bug: 1763181\nCloses-Bug: 1823825\n'}, {'number': 7, 'created': '2019-04-11 13:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9d23e7e0633ef045a53d47309a604399d940a83a', 'message': 'Make evacuation respects anti-affinity rule\n\nThe change I75261 has added the late group check for evacuation.\nBut the function _validate_instance_group_policy is only to check\nthe instances which are now on host but not to check the instances\nwhich are in-migration will be migrated to the host.\n\nSo that add the instance_uuids from migration table to check whether\nother instances will be migrated to the same host/node.\n\nUse the functional test test_parallel_evacuate_with_server_group now.\n\nBefore, parallel evacuation will break the anti-affinity policy of\ngroup. It will evacuate instances into the same host.\n\nChange-Id: I136b2a8a38c36ea9717d592c748d8758f15d6d28\nCloses-Bug: 1763181\nCloses-Bug: 1823825\n'}, {'number': 8, 'created': '2019-04-12 05:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/179eb9851763f7669956b8723d60e97b54b28dc3', 'message': 'Make evacuation respects anti-affinity rule\n\nThe change I75261 has added the late group check for evacuation.\nBut the function _validate_instance_group_policy is only to check\nthe instances which are now on host but not to check the instances\nwhich are in-migration will be migrated to the host.\n\nSo that add the instance_uuids from migration table to check whether\nother instances will be migrated to the same host/node.\n\nUse the functional test test_parallel_evacuate_with_server_group now.\n\nBefore, parallel evacuation will break the anti-affinity policy of\ngroup. It will evacuate instances into the same host.\n\nChange-Id: I136b2a8a38c36ea9717d592c748d8758f15d6d28\nCloses-Bug: 1763181\nCloses-Bug: 1823825\n'}, {'number': 9, 'created': '2019-04-12 07:06:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c4429bbaa4947e68158a3364ac70b1d0d831e02', 'message': 'Make evacuation respects anti-affinity rule\n\nThe change I752617066bb2167b49239ab9d17b0c89754a3e12 has added the late\ngroup check for evacuation.\nBut the function _validate_instance_group_policy is only to check\nthe instances which are now on host but not to check the instances\nwhich are in-migration will be migrated to the host.\n\nSo that add the instance_uuids from migration table to check whether\nother instances will be migrated to the same host/node.\n\nUse the functional test test_parallel_evacuate_with_server_group now.\n\nBefore, parallel evacuation will break the anti-affinity policy of\ngroup. It will evacuate instances into the same host.\n\nChange-Id: I136b2a8a38c36ea9717d592c748d8758f15d6d28\nCloses-Bug: 1763181\nCloses-Bug: 1823825\n'}, {'number': 10, 'created': '2019-04-12 08:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/330ef36ed1e892b4ad786d7b9af90a9c8a922b6c', 'message': 'Make evacuation respects anti-affinity rule\n\nThe change I752617066bb2167b49239ab9d17b0c89754a3e12 has added the late\ngroup check for evacuation.\nBut the function _validate_instance_group_policy is only to check\nthe instances which are now on host but not to check the instances\nwhich are in-migration will be migrated to the host.\n\nSo that add the instance_uuids from migration table to check whether\nother instances will be migrated to the same host/node.\n\nUse the functional test test_parallel_evacuate_with_server_group now.\n\nBefore, parallel evacuation will break the anti-affinity policy of\ngroup. It will evacuate instances into the same host.\n\nChange-Id: I136b2a8a38c36ea9717d592c748d8758f15d6d28\nCloses-Bug: 1763181\nCloses-Bug: 1823825\n'}, {'number': 11, 'created': '2019-04-18 09:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58269b378aa3492e960e7e615cafc2b78db4b73e', 'message': 'Make evacuation respects anti-affinity rule\n\nThe change I752617066bb2167b49239ab9d17b0c89754a3e12 has added the late\ngroup check for evacuation.\nBut the function _validate_instance_group_policy is only to check\nthe instances which are now on host but not to check the instances\nwhich are in-migration will be migrated to the host.\n\nSo that add the instance_uuids from migration table to check whether\nother instances will be migrated to the same host/node.\n\nUse the functional test test_parallel_evacuate_with_server_group now.\n\nBefore, parallel evacuation will break the anti-affinity policy of\ngroup. It will evacuate instances into the same host.\n\nChange-Id: I136b2a8a38c36ea9717d592c748d8758f15d6d28\nCloses-Bug: 1763181\nCloses-Bug: 1823825\n'}, {'number': 12, 'created': '2019-04-20 03:46:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a67a0efcff48bb7e9c871ba27deaaa4514f384a5', 'message': 'Make evacuation respects anti-affinity rule\n\nThe change I752617066bb2167b49239ab9d17b0c89754a3e12 has added the late\ngroup check for evacuation.\nBut the function _validate_instance_group_policy is only to check\nthe instances which are now on host but not to check the instances\nwhich are in-migration will be migrated to the host.\n\nSo that add the instance_uuids from migration table to check whether\nother instances will be migrated to the same host/node.\n\nUse the functional test test_parallel_evacuate_with_server_group now.\n\nBefore, parallel evacuation will break the anti-affinity policy of\ngroup. It will evacuate instances into the same host.\n\nChange-Id: I136b2a8a38c36ea9717d592c748d8758f15d6d28\nCloses-Bug: 1763181\nCloses-Bug: 1823825\n'}, {'number': 13, 'created': '2019-06-13 07:31:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d21ccff92b713a8a268f1d41413cc36be3a6aa3', 'message': 'Make evacuation respects anti-affinity rule\n\nThe change I752617066bb2167b49239ab9d17b0c89754a3e12 has added the late\ngroup check for evacuation.\nBut the function _validate_instance_group_policy is only to check\nthe instances which are now on host but not to check the instances\nwhich are in-migration will be migrated to the host.\n\nSo that add the instance_uuids from migration table to check whether\nother instances will be migrated to the same host/node.\n\nUse the functional test test_parallel_evacuate_with_server_group now.\n\nBefore, parallel evacuation will break the anti-affinity policy of\ngroup. It will evacuate instances into the same host.\n\nChange-Id: I136b2a8a38c36ea9717d592c748d8758f15d6d28\nCloses-Bug: 1763181\nCloses-Bug: 1823825\n'}, {'number': 14, 'created': '2019-07-02 08:15:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e906bf3a52bf49d5c76be33d4c8ac2274a57ca03', 'message': 'Make evacuation respects anti-affinity rule\n\nThe change I752617066bb2167b49239ab9d17b0c89754a3e12 has added the late\ngroup check for evacuation.\nBut the function _validate_instance_group_policy only checks\nthe instances which are now on the host but does not check the instances\nwhich are being migrated to the host.\n\nSo this patch adds the instance_uuids from migration table to check whether\nother instances will be migrated to the same host/node.\n\nUse the functional test test_parallel_evacuate_with_server_group now.\n\nBefore, parallel evacuation will break the anti-affinity policy of\ngroup. It will evacuate instances into the same host.\n\nChange-Id: I136b2a8a38c36ea9717d592c748d8758f15d6d28\nCloses-Bug: 1763181\nCloses-Bug: 1823825\n'}, {'number': 15, 'created': '2019-07-03 08:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ffb8774c9798c6d41f0e17727f2b8d0244703770', 'message': 'Make evacuation respects anti-affinity rule\n\nThe change I752617066bb2167b49239ab9d17b0c89754a3e12 has added the late\ngroup check for evacuation.\nBut the function _validate_instance_group_policy only checks\nthe instances which are now on the host but does not check the instances\nwhich are being migrated to the host.\n\nSo this patch adds the instance_uuids from migration table to check whether\nother instances will be migrated to the same host/node.\n\nUse the functional test test_parallel_evacuate_with_server_group now.\n\nBefore, parallel evacuation will break the anti-affinity policy of\ngroup. It will evacuate instances into the same host.\n\nChange-Id: I136b2a8a38c36ea9717d592c748d8758f15d6d28\nCloses-Bug: 1763181\nCloses-Bug: 1823825\n'}, {'number': 16, 'created': '2019-07-04 02:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d90af2d85e98e02d98b2b41414223acbc39ba2cc', 'message': 'Make evacuation respects anti-affinity rule\n\nThe change I752617066bb2167b49239ab9d17b0c89754a3e12 has added the late\ngroup check for evacuation.\nBut the function _validate_instance_group_policy only checks\nthe instances which are now on the host but does not check the instances\nwhich are being migrated to the host.\n\nSo this patch adds the instance_uuids from migration table to check whether\nother instances will be migrated to the same host/node.\n\nUse the functional test test_parallel_evacuate_with_server_group now.\n\nBefore, parallel evacuation will break the anti-affinity policy of\ngroup. It will evacuate instances into the same host.\n\nChange-Id: I136b2a8a38c36ea9717d592c748d8758f15d6d28\nCloses-Bug: 1763181\nCloses-Bug: 1823825\n'}, {'number': 17, 'created': '2019-07-04 09:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1ebb835e9232632a83907be271750a2d93db8cba', 'message': 'Make evacuation respects anti-affinity rule\n\nThe change I752617066bb2167b49239ab9d17b0c89754a3e12 has added the late\ngroup check for evacuation.\nBut the function _validate_instance_group_policy only checks\nthe instances which are now on the host but does not check the instances\nwhich are being migrated to the host.\n\nSo this patch adds the instance_uuids from migration table to check whether\nother instances will be migrated to the same host/node.\n\nUse the functional test test_parallel_evacuate_with_server_group now.\n\nBefore, parallel evacuation will break the anti-affinity policy of\ngroup. It will evacuate instances into the same host.\n\nChange-Id: I136b2a8a38c36ea9717d592c748d8758f15d6d28\nCloses-Bug: 1763181\nCloses-Bug: 1823825\n'}, {'number': 18, 'created': '2019-07-05 02:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ab993aa2d1dd42fb7f98b2f9d5551043d512387', 'message': 'Make evacuation respects anti-affinity rule\n\nThe change I752617066bb2167b49239ab9d17b0c89754a3e12 has added the late\ngroup check for evacuation.\nBut the function _validate_instance_group_policy only checks\nthe instances which are now on the host but does not check the instances\nwhich are being migrated to the host.\n\nSo this patch adds the instance_uuids from migration table to check whether\nother instances will be migrated to the same host/node.\n\nUse the functional test test_parallel_evacuate_with_server_group now.\n\nBefore, parallel evacuation will break the anti-affinity policy of\ngroup. It will evacuate instances into the same host.\n\nChange-Id: I136b2a8a38c36ea9717d592c748d8758f15d6d28\nCloses-Bug: 1763181\nCloses-Bug: 1823825\n'}, {'number': 19, 'created': '2019-07-10 02:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a3f9acf2a7c262fde7100fa82d46ab57f3f8ce8', 'message': 'Make evacuation respects anti-affinity rule\n\nThe change I752617066bb2167b49239ab9d17b0c89754a3e12 has added the late\ngroup check for evacuation.\nBut the function _validate_instance_group_policy only checks\nthe instances which are now on the host but does not check the instances\nwhich are being migrated to the host.\n\nSo this patch adds the instance_uuids from migration table to check whether\nother instances will be migrated to the same host/node.\n\nUse the functional test test_parallel_evacuate_with_server_group now.\n\nBefore, parallel evacuation will break the anti-affinity policy of\ngroup. It will evacuate instances into the same host.\n\nChange-Id: I136b2a8a38c36ea9717d592c748d8758f15d6d28\nCloses-Bug: 1763181\nCloses-Bug: 1823825\n'}, {'number': 20, 'created': '2019-08-06 16:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a2d865afbd303a18f6746d587224b1a38dac8934', 'message': 'Make evacuation respects anti-affinity rule\n\nThe change I752617066bb2167b49239ab9d17b0c89754a3e12 has added the late\ngroup check for evacuation.\nBut the function _validate_instance_group_policy only checks\nthe instances which are now on the host but does not check the instances\nwhich are being migrated to the host.\n\nSo this patch adds the instance_uuids from migration table to check whether\nother instances will be migrated to the same host/node.\n\nUse the functional test test_parallel_evacuate_with_server_group now.\n\nBefore, parallel evacuation will break the anti-affinity policy of\ngroup. It will evacuate instances into the same host.\n\nChange-Id: I136b2a8a38c36ea9717d592c748d8758f15d6d28\nCloses-Bug: 1763181\nCloses-Bug: 1823825\n'}, {'number': 21, 'created': '2019-08-13 11:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/49cba48df643262b52730daad819be5c9e099b7f', 'message': 'Make evacuation respects anti-affinity rule\n\nThe change I752617066bb2167b49239ab9d17b0c89754a3e12 has added the late\ngroup check for evacuation.\nBut the function _validate_instance_group_policy only checks\nthe instances which are now on the host but does not check the instances\nwhich are being migrated to the host.\n\nSo this patch adds the instance_uuids from migration table to check whether\nother instances will be migrated to the same host/node.\n\nUse the functional test test_parallel_evacuate_with_server_group now.\n\nBefore, parallel evacuation will break the anti-affinity policy of\ngroup. It will evacuate instances into the same host.\n\nChange-Id: I136b2a8a38c36ea9717d592c748d8758f15d6d28\nCloses-Bug: 1763181\nCloses-Bug: 1823825\n'}, {'number': 22, 'created': '2019-08-13 11:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d300536d50eac73f382bdf5e7f8fdac1045c18b', 'message': 'Make evacuation respects anti-affinity rule\n\nThe change I752617066bb2167b49239ab9d17b0c89754a3e12 has added the late\ngroup check for evacuation.\nBut the function _validate_instance_group_policy only checks\nthe instances which are now on the host but does not check the instances\nwhich are being migrated to the host.\n\nSo this patch adds the instance_uuids from migration table to check whether\nother instances will be migrated to the same host/node.\n\nUse the functional test test_parallel_evacuate_with_server_group now.\n\nBefore, parallel evacuation will break the anti-affinity policy of\ngroup. It will evacuate instances into the same host.\n\nChange-Id: I136b2a8a38c36ea9717d592c748d8758f15d6d28\nCloses-Bug: 1763181\nCloses-Bug: 1823825\n'}, {'number': 23, 'created': '2019-08-14 03:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c19283d77bacc490646bebbe3f692ed6a8dfb17a', 'message': 'Make evacuation respects anti-affinity rule\n\nThe change I752617066bb2167b49239ab9d17b0c89754a3e12 has added the late\ngroup check for evacuation.\nBut the function _validate_instance_group_policy only checks\nthe instances which are now on the host but does not check the instances\nwhich are being migrated to the host.\n\nSo this patch adds the instance_uuids from migration table to check whether\nother instances will be migrated to the same host/node.\n\nUse the functional test test_parallel_evacuate_with_server_group now.\n\nBefore, parallel evacuation will break the anti-affinity policy of\ngroup. It will evacuate instances into the same host.\n\nChange-Id: I136b2a8a38c36ea9717d592c748d8758f15d6d28\nCloses-Bug: 1763181\nCloses-Bug: 1823825\n'}, {'number': 24, 'created': '2019-09-05 07:57:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b4fb9612b2ec5427f5d558d29660c053b3a3231', 'message': 'Make evacuation respects anti-affinity rule\n\nThe change I752617066bb2167b49239ab9d17b0c89754a3e12 has added the late\ngroup check for evacuation.\nBut the function _validate_instance_group_policy only checks\nthe instances which are now on the host but does not check the instances\nwhich are being migrated to the host.\n\nSo this patch adds the instance_uuids from migration table to check whether\nother instances will be migrated to the same host/node.\n\nUse the functional test test_parallel_evacuate_with_server_group now.\n\nBefore, parallel evacuation will break the anti-affinity policy of\ngroup. It will evacuate instances into the same host.\n\nChange-Id: I136b2a8a38c36ea9717d592c748d8758f15d6d28\nCloses-Bug: 1763181\nCloses-Bug: 1823825\n'}, {'number': 25, 'created': '2019-09-16 03:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9faf41adb99af97da939cad85bac14de1f899894', 'message': 'Make evacuation respects anti-affinity rule\n\nThe change I752617066bb2167b49239ab9d17b0c89754a3e12 has added the late\ngroup check for evacuation.\nBut the function _validate_instance_group_policy only checks\nthe instances which are now on the host but does not check the instances\nwhich are being migrated to the host.\n\nSo this patch adds the instance_uuids from migration table to check whether\nother instances will be migrated to the same host/node.\n\nUse the functional test test_parallel_evacuate_with_server_group now.\n\nBefore, parallel evacuation will break the anti-affinity policy of\ngroup. It will evacuate instances into the same host.\n\nChange-Id: I136b2a8a38c36ea9717d592c748d8758f15d6d28\nCloses-Bug: 1763181\nCloses-Bug: 1823825\n'}, {'number': 26, 'created': '2019-12-03 02:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4cfe43955e15a6a9cc60acef975f7c44a8cfce43', 'message': 'Make evacuation respects anti-affinity rule\n\nThe change I752617066bb2167b49239ab9d17b0c89754a3e12 has added the late\ngroup check for evacuation.\nBut the function _validate_instance_group_policy only checks\nthe instances which are now on the host but does not check the instances\nwhich are being migrated to the host.\n\nSo this patch adds the instance_uuids from migration table to check whether\nother instances will be migrated to the same host/node.\n\nUse the functional test test_parallel_evacuate_with_server_group now.\n\nBefore, parallel evacuation will break the anti-affinity policy of\ngroup. It will evacuate instances into the same host.\n\nChange-Id: I136b2a8a38c36ea9717d592c748d8758f15d6d28\nCloses-Bug: 1763181\nCloses-Bug: 1823825\n'}, {'number': 27, 'created': '2019-12-04 02:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7efafa01bb371aa474bab26fc6750368a2d9cbc1', 'message': 'Make evacuation respects anti-affinity rule\n\nThe change I752617066bb2167b49239ab9d17b0c89754a3e12 has added the late\ngroup check for evacuation.\nBut the function _validate_instance_group_policy only checks\nthe instances which are now on the host but does not check the instances\nwhich are being migrated to the host.\n\nSo this patch adds the instance_uuids from migration table to check whether\nother instances will be migrated to the same host/node.\n\nUse the functional test test_parallel_evacuate_with_server_group now.\n\nBefore, parallel evacuation will break the anti-affinity policy of\ngroup. It will evacuate instances into the same host.\n\nChange-Id: I136b2a8a38c36ea9717d592c748d8758f15d6d28\nCloses-Bug: 1763181\nCloses-Bug: 1823825\n'}, {'number': 28, 'created': '2019-12-16 03:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/69c559ac34cd5fe802f89156badf4722df3fa19e', 'message': 'Make evacuation respects anti-affinity rule\n\nThe change I752617066bb2167b49239ab9d17b0c89754a3e12 has added the late\ngroup check for evacuation.\nBut the function _validate_instance_group_policy only checks\nthe instances which are now on the host but does not check the instances\nwhich are being migrated to the host.\n\nSo this patch adds the instance_uuids from migration table to check whether\nother instances will be migrated to the same host/node.\n\nUse the functional test test_parallel_evacuate_with_server_group now.\n\nBefore, parallel evacuation will break the anti-affinity policy of\ngroup. It will evacuate instances into the same host.\n\nChange-Id: I136b2a8a38c36ea9717d592c748d8758f15d6d28\nCloses-Bug: 1763181\nCloses-Bug: 1823825\n'}, {'number': 29, 'created': '2019-12-16 06:42:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ddfdd5c996f7cd364d4a77e704f8c9037203913d', 'message': 'Make evacuation respects anti-affinity rule\n\nThe change I752617066bb2167b49239ab9d17b0c89754a3e12 has added the late\ngroup check for evacuation.\nBut the function _validate_instance_group_policy only checks\nthe instances which are now on the host but does not check the instances\nwhich are being migrated to the host.\n\nSo this patch adds the instance_uuids from migration table to check whether\nother instances will be migrated to the same host/node.\n\nUse the functional test test_parallel_evacuate_with_server_group now.\n\nBefore, parallel evacuation will break the anti-affinity policy of\ngroup. It will evacuate instances into the same host.\n\nChange-Id: I136b2a8a38c36ea9717d592c748d8758f15d6d28\nCloses-Bug: 1763181\nCloses-Bug: 1823825\n'}, {'number': 30, 'created': '2019-12-17 08:08:59.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1735407.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1dffcf7ba615fd3747e059677a4c9e4f3f856ee7', 'message': 'Make evacuation respects anti-affinity rule\n\nThe change I752617066bb2167b49239ab9d17b0c89754a3e12 has added the late\ngroup check for evacuation.\nBut the function _validate_instance_group_policy only checks\nthe instances which are now on the host but does not check the instances\nwhich are being migrated to the host.\n\nSo this patch adds the instance_uuids from migration table to check whether\nother instances will be migrated to the same host/node.\n\nUse the functional test test_parallel_evacuate_with_server_group now.\n\nBefore, parallel evacuation will break the anti-affinity policy of\ngroup. It will evacuate instances into the same host.\n\nChange-Id: I136b2a8a38c36ea9717d592c748d8758f15d6d28\nCloses-Bug: 1763181\nCloses-Bug: 1823825\n'}]",63,649963,1dffcf7ba615fd3747e059677a4c9e4f3f856ee7,336,31,30,28706,,,0,"Make evacuation respects anti-affinity rule

The change I752617066bb2167b49239ab9d17b0c89754a3e12 has added the late
group check for evacuation.
But the function _validate_instance_group_policy only checks
the instances which are now on the host but does not check the instances
which are being migrated to the host.

So this patch adds the instance_uuids from migration table to check whether
other instances will be migrated to the same host/node.

Use the functional test test_parallel_evacuate_with_server_group now.

Before, parallel evacuation will break the anti-affinity policy of
group. It will evacuate instances into the same host.

Change-Id: I136b2a8a38c36ea9717d592c748d8758f15d6d28
Closes-Bug: 1763181
Closes-Bug: 1823825
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/649963/15 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1735407.py'],1,fa6632d177e48a473f450affc5e3bd3dd04ed8d1,bug/1763181," # self.skipTest('Skipped until bug 1763181 is fixed') self.api, server1, {'OS-EXT-STS:task_state': None}, max_retries=60) self.api, server2, {'OS-EXT-STS:task_state': None}, max_retries=60) # NOTE(zhubx): In the case of concurrent request evacuation, there # are two types of situations: # A: When doing the late check instance group policy, all migrations # data have been saved into table, they will be all set into ERROR. # B: When doing the late check instance group policy, maybe one of # them will get one migration info(itself), so that, one will succeed # to evacuate and another will be set into ERROR. # But all situations are not to breack the server group policy. if server1['status'] == 'ERROR': self.assertEqual('ERROR', server1['status']) self.assertNotEqual('host3', server1['OS-EXT-SRV-ATTR:host']) else: self.assertEqual('ACTIVE', server1['status']) self.assertEqual('host3', server1['OS-EXT-SRV-ATTR:host']) if server2['status'] == 'ERROR': self.assertEqual('ERROR', server2['status']) self.assertNotEqual('host3', server2['OS-EXT-SRV-ATTR:host']) else: self.assertEqual('ACTIVE', server2['status']) self.assertEqual('host3', server2['OS-EXT-SRV-ATTR:host']) if server1['status'] == 'ERROR' and server2['status'] == 'ERROR': fake_notifier.wait_for_versioned_notifications( 'instance.rebuild.start', n_events=0) else: fake_notifier.wait_for_versioned_notifications( 'instance.rebuild.start', n_events=1)"," self.skipTest('Skipped until bug 1763181 is fixed') # make sure that the rebuild is started and then finished # NOTE(mdbooth): We only get 1 rebuild.start notification here because # we validate server group policy (and therefore fail) before emitting # rebuild.start. fake_notifier.wait_for_versioned_notifications( 'instance.rebuild.start', n_events=1) self.api, server1, {'OS-EXT-STS:task_state': None}) self.api, server2, {'OS-EXT-STS:task_state': None}) # assert that one of the evacuation was successful and that server is # moved to another host and the evacuation of the other server is # failed if server1['status'] == 'ERROR': failed_server = server1 evacuated_server = server2 else: failed_server = server2 evacuated_server = server1 self.assertEqual('ERROR', failed_server['status']) self.assertNotEqual('host3', failed_server['OS-EXT-SRV-ATTR:host']) self.assertEqual('ACTIVE', evacuated_server['status']) self.assertEqual('host3', evacuated_server['OS-EXT-SRV-ATTR:host'])",31,21
openstack%2Fnova~master~I505beacb0da11aa2b8738c6fb4e90daf34aa940f,openstack/nova,master,I505beacb0da11aa2b8738c6fb4e90daf34aa940f,Preserve UEFI NVRAM variable store,NEW,2018-12-03 17:22:02.000000000,2021-06-11 07:08:18.000000000,,"[{'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 6962}, {'_account_id': 7166}, {'_account_id': 7543}, {'_account_id': 8768}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 11604}, {'_account_id': 12860}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 21813}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25564}, {'_account_id': 26515}, {'_account_id': 27076}, {'_account_id': 27614}, {'_account_id': 28063}, {'_account_id': 28433}, {'_account_id': 29326}, {'_account_id': 29963}, {'_account_id': 30451}]","[{'number': 1, 'created': '2018-12-03 17:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5754a8bfc9cf13423c62377f2c56fd2bf6e4dc2f', 'message': '[WIP] Preserve UEFI NVRAM variable store\n\nWIP before finishing tests. Please no review yet.\n\nCloses-Bug: #1785123\nChange-Id: I505beacb0da11aa2b8738c6fb4e90daf34aa940f\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}, {'number': 2, 'created': '2018-12-04 16:05:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9de051d976fe069979ff58d77ed017b170faccf', 'message': '[WIP] Preserve UEFI NVRAM variable store\n\nWIP before finishing tests. Please no review yet.\n\nSet NVRAM file for UEFI variable store to the instance folder\nCONF.instances_path/<UUID> instead of the default folder\n/var/lib/libvirt/qemu/nvram/.\n\nPreserve NVRAM variable store during stop/start, hard reboot, cold\nmigration, resize and live migration. The NVRAM storage file is copied\nover to destination host during cold and live migrations.\n\nCloses-Bug: #1785123\nChange-Id: I505beacb0da11aa2b8738c6fb4e90daf34aa940f\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}, {'number': 3, 'created': '2018-12-05 19:32:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4647708bc2d8bedc5e63ff5825732d7cc76d98ad', 'message': 'Preserve UEFI NVRAM variable store\n\nSet NVRAM file for UEFI variable store to the instance folder\nCONF.instances_path/<UUID> instead of the default folder\n/var/lib/libvirt/qemu/nvram/.\n\nPreserve NVRAM variable store during stop/start, hard reboot, cold\nmigration, resize and live migration. The NVRAM storage file is copied\nover to destination host during cold and live migrations.\n\nCloses-Bug: #1785123\nChange-Id: I505beacb0da11aa2b8738c6fb4e90daf34aa940f\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}, {'number': 4, 'created': '2018-12-06 02:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/237a35d1bf1e31e39547dc9353c0b6ed5aeb3f26', 'message': 'Preserve UEFI NVRAM variable store\n\nSet NVRAM file for UEFI variable store to the instance folder\nCONF.instances_path/<UUID> instead of the default folder\n/var/lib/libvirt/qemu/nvram/.\n\nPreserve NVRAM variable store during stop/start, hard reboot, cold\nmigration, resize and live migration. The NVRAM storage file is copied\nover to destination host during cold and live migrations.\n\nCloses-Bug: #1785123\nChange-Id: I505beacb0da11aa2b8738c6fb4e90daf34aa940f\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}, {'number': 5, 'created': '2018-12-06 18:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c32e8ec52506e7b3ced822931e947a5d8c068fa', 'message': '[WIP] Preserve UEFI NVRAM variable store\n\nWIP pending on more tests.\n\nSet NVRAM file for UEFI variable store to the instance folder\nCONF.instances_path/<UUID> instead of the default folder\n/var/lib/libvirt/qemu/nvram/.\n\nPreserve NVRAM variable store during stop/start, hard reboot, cold\nmigration, resize and live migration. The NVRAM storage file is copied\nover to destination host during cold and live migrations.\n\nCloses-Bug: #1785123\nChange-Id: I505beacb0da11aa2b8738c6fb4e90daf34aa940f\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}, {'number': 6, 'created': '2018-12-07 19:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a93dcee920a9ae6751b9b5962db96b6cc1b9fa2d', 'message': 'Preserve UEFI NVRAM variable store\n\nSet NVRAM file for UEFI variable store to the instance folder\nCONF.instances_path/<UUID> instead of the default folder\n/var/lib/libvirt/qemu/nvram/.\n\nPreserve NVRAM variable store during stop/start, hard reboot, cold\nmigration, resize and live migration. The NVRAM storage file is copied\nover to destination host during cold and live migrations.\n\nCloses-Bug: #1785123\nChange-Id: I505beacb0da11aa2b8738c6fb4e90daf34aa940f\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}, {'number': 7, 'created': '2018-12-13 21:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0d44f6baf5dacf7d555b18725d55595e7da8899c', 'message': 'Preserve UEFI NVRAM variable store\n\nSet NVRAM file for UEFI variable store to the instance folder\nCONF.instances_path/<UUID> instead of the default folder\n/var/lib/libvirt/qemu/nvram/.\n\nPreserve NVRAM variable store during stop/start, hard reboot, cold\nmigration, resize and live migration. The NVRAM storage file is copied\nover to destination host during cold and live migrations.\n\nCloses-Bug: #1785123\nCloses-Bug: #1633447\nChange-Id: I505beacb0da11aa2b8738c6fb4e90daf34aa940f\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}, {'number': 8, 'created': '2018-12-17 15:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b4777d9198daa59ff2b064738ad76beeb49194de', 'message': 'Preserve UEFI NVRAM variable store\n\nSet NVRAM file for UEFI variable store to the instance folder\nCONF.instances_path/<UUID> instead of the default folder\n/var/lib/libvirt/qemu/nvram/.\n\nPreserve NVRAM variable store during stop/start, hard reboot, cold\nmigration, resize and live migration. The NVRAM storage file is copied\nover to destination host during cold and live migrations.\n\nCloses-Bug: #1785123\nCloses-Bug: #1633447\nChange-Id: I505beacb0da11aa2b8738c6fb4e90daf34aa940f\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}, {'number': 9, 'created': '2018-12-18 16:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a5aa853f2138a27a4468ff9236d92259fb9065a', 'message': 'Preserve UEFI NVRAM variable store\n\nSet NVRAM file for UEFI variable store to the instance folder\nCONF.instances_path/<UUID> instead of the default folder\n/var/lib/libvirt/qemu/nvram/.\n\nPreserve NVRAM variable store during stop/start, hard reboot, cold\nmigration, resize and live migration. The NVRAM storage file is copied\nover to destination host during cold and live migrations.\n\nCloses-Bug: #1785123\nCloses-Bug: #1633447\nChange-Id: I505beacb0da11aa2b8738c6fb4e90daf34aa940f\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}, {'number': 10, 'created': '2018-12-18 17:03:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2eb80f59306a6daa3a10a31ddef26745d840c588', 'message': 'Preserve UEFI NVRAM variable store\n\nSet NVRAM file for UEFI variable store to the instance folder\nCONF.instances_path/<UUID> instead of the default folder\n/var/lib/libvirt/qemu/nvram/.\n\nPreserve NVRAM variable store during stop/start, hard reboot, cold\nmigration, resize and live migration. The NVRAM storage file is copied\nover to destination host during cold and live migrations.\n\nCloses-Bug: #1785123\nCloses-Bug: #1633447\nChange-Id: I505beacb0da11aa2b8738c6fb4e90daf34aa940f\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}, {'number': 11, 'created': '2018-12-21 17:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca3500ee757e162fdc88e98b2fc4c3bce42dcf6d', 'message': 'Preserve UEFI NVRAM variable store\n\nSet NVRAM file for UEFI variable store to the instance folder\nCONF.instances_path/<UUID> instead of the default folder\n/var/lib/libvirt/qemu/nvram/.\n\nPreserve NVRAM variable store during stop/start, hard reboot, cold\nmigration, resize and live migration. The NVRAM storage file is copied\nover to destination host during cold and live migrations.\n\nCloses-Bug: #1785123\nCloses-Bug: #1633447\nChange-Id: I505beacb0da11aa2b8738c6fb4e90daf34aa940f\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}, {'number': 12, 'created': '2019-01-18 01:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63493a6577dbae2f2311bf65e93f54ea369b6707', 'message': 'Preserve UEFI NVRAM variable store\n\nSet NVRAM file for UEFI variable store to the instance folder\nCONF.instances_path/<UUID> instead of the default folder\n/var/lib/libvirt/qemu/nvram/.\n\nPreserve NVRAM variable store during stop/start, hard reboot, cold\nmigration, resize and live migration. The NVRAM storage file is copied\nover to destination host during cold and live migrations.\n\nCloses-Bug: #1785123\nCloses-Bug: #1633447\nChange-Id: I505beacb0da11aa2b8738c6fb4e90daf34aa940f\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}, {'number': 13, 'created': '2019-01-24 18:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/304a22cbb19c36418f22911f78cc33a84ba9f064', 'message': 'Preserve UEFI NVRAM variable store\n\nSet NVRAM file for UEFI variable store to the instance folder\nCONF.instances_path/<UUID> instead of the default folder\n/var/lib/libvirt/qemu/nvram/.\n\nPreserve NVRAM variable store during stop/start, hard reboot, cold\nmigration, resize and live migration. The NVRAM storage file is copied\nover to destination host during cold and live migrations.\n\nCloses-Bug: #1785123\nCloses-Bug: #1633447\nChange-Id: I505beacb0da11aa2b8738c6fb4e90daf34aa940f\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}, {'number': 14, 'created': '2019-01-24 19:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/135aa7caa385aa8b431b009af1ab4609d5a48065', 'message': 'Preserve UEFI NVRAM variable store\n\nSet NVRAM file for UEFI variable store to the instance folder\nCONF.instances_path/<UUID> instead of the default folder\n/var/lib/libvirt/qemu/nvram/.\n\nPreserve NVRAM variable store during stop/start, hard reboot, cold\nmigration, resize and live migration. The NVRAM storage file is copied\nover to destination host during cold and live migrations.\n\nCloses-Bug: #1785123\nCloses-Bug: #1633447\nChange-Id: I505beacb0da11aa2b8738c6fb4e90daf34aa940f\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}, {'number': 15, 'created': '2019-01-29 18:10:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d5797262c01f2ed25ce243544a6e6090e95fbad', 'message': 'Preserve UEFI NVRAM variable store\n\nSet NVRAM file for UEFI variable store to the instance folder\nCONF.instances_path/<UUID> instead of the default folder\n/var/lib/libvirt/qemu/nvram/.\n\nPreserve NVRAM variable store during stop/start, hard reboot, cold\nmigration, resize and live migration. The NVRAM storage file is copied\nover to destination host during cold and live migrations.\n\nCloses-Bug: #1785123\nCloses-Bug: #1633447\nChange-Id: I505beacb0da11aa2b8738c6fb4e90daf34aa940f\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}, {'number': 16, 'created': '2019-01-29 19:52:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fbe85a72b330dfb585475ac59eff38c4503253d8', 'message': 'Preserve UEFI NVRAM variable store\n\nPreserve NVRAM variable store during stop/start, hard reboot, cold\nmigration, resize and live migration.\n\nFor UEFI guests (hw_firmware_type=uefi), every time the instance is\nstarted, the UEFI variable storage for that instance\n(/var/lib/libvirt/qemu/nvram/instance-xxxxxxxx_VARS.fd) is deleted\nand reinitialized from the default template.\n\nThis commit sets the location of UEFI NVRAM file to the instance folder\nCONF.instances_path/<UUID> instead of the default folder\n/var/lib/libvirt/qemu/nvram/ to avoid the overwrite. During cold and\nlive migrations, the UEFI NVRAM file is copied over to destination host.\n\nCloses-Bug: #1785123\nCloses-Bug: #1633447\nChange-Id: I505beacb0da11aa2b8738c6fb4e90daf34aa940f\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}, {'number': 17, 'created': '2019-01-31 16:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d922365f8efa5e70040a82844df424899400cf61', 'message': 'Preserve UEFI NVRAM variable store\n\nPreserve NVRAM variable store during stop/start, hard reboot, cold\nmigration, resize and live migration.\n\nFor UEFI guests (hw_firmware_type=uefi), every time the instance is\nstarted, the UEFI variable storage for that instance\n(/var/lib/libvirt/qemu/nvram/instance-xxxxxxxx_VARS.fd) is deleted\nand reinitialized from the default template.\n\nThis commit sets the location of UEFI NVRAM file to the instance folder\nCONF.instances_path/<UUID> instead of the default folder\n/var/lib/libvirt/qemu/nvram/ to avoid the overwrite. During cold and\nlive migrations, the UEFI NVRAM file is copied over to destination host.\n\nCloses-Bug: #1785123\nCloses-Bug: #1633447\nChange-Id: I505beacb0da11aa2b8738c6fb4e90daf34aa940f\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}, {'number': 18, 'created': '2019-02-05 17:31:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5fc1c548469ef704f6d0da0727b74967dfedbb2', 'message': 'Preserve UEFI NVRAM variable store\n\nPreserve NVRAM variable store during stop/start, hard reboot, cold\nmigration, resize and live migration.\n\nFor UEFI guests (hw_firmware_type=uefi), every time the instance is\nstarted, the UEFI variable storage for that instance\n(/var/lib/libvirt/qemu/nvram/instance-xxxxxxxx_VARS.fd) is deleted\nand reinitialized from the default template.\n\nThis commit sets the location of UEFI NVRAM file to the instance folder\nCONF.instances_path/<UUID> instead of the default folder\n/var/lib/libvirt/qemu/nvram/ to avoid the overwrite. During cold and\nlive migrations, the UEFI NVRAM file is copied over to destination host.\n\nCloses-Bug: #1785123\nCloses-Bug: #1633447\nChange-Id: I505beacb0da11aa2b8738c6fb4e90daf34aa940f\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}, {'number': 19, 'created': '2019-03-07 19:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f36e1459c1d402ace7e4b9bf1445eb80576a124', 'message': 'Preserve UEFI NVRAM variable store\n\nPreserve NVRAM variable store during stop/start, hard reboot, cold\nmigration, resize and live migration.\n\nFor UEFI guests (hw_firmware_type=uefi), every time the instance is\nstarted, the UEFI variable storage for that instance\n(/var/lib/libvirt/qemu/nvram/instance-xxxxxxxx_VARS.fd) is deleted\nand reinitialized from the default template.\n\nThis commit sets the location of UEFI NVRAM file to the instance folder\nCONF.instances_path/<UUID> instead of the default folder\n/var/lib/libvirt/qemu/nvram/ to avoid the overwrite. During cold and\nlive migrations, the UEFI NVRAM file is copied over to destination host.\n\nCloses-Bug: #1785123\nCloses-Bug: #1633447\nChange-Id: I505beacb0da11aa2b8738c6fb4e90daf34aa940f\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}, {'number': 20, 'created': '2019-03-12 13:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dae487b56f6996e50f2351d2202bb852ada089b4', 'message': 'Preserve UEFI NVRAM variable store\n\nPreserve NVRAM variable store during stop/start, hard reboot, cold\nmigration, resize and live migration.\n\nFor UEFI guests (hw_firmware_type=uefi), every time the instance is\nstarted, the UEFI variable storage for that instance\n(/var/lib/libvirt/qemu/nvram/instance-xxxxxxxx_VARS.fd) is deleted\nand reinitialized from the default template.\n\nThis commit sets the location of UEFI NVRAM file to the instance folder\nCONF.instances_path/<UUID> instead of the default folder\n/var/lib/libvirt/qemu/nvram/ to avoid the overwrite. During cold and\nlive migrations, the UEFI NVRAM file is copied over to destination host.\n\nCloses-Bug: #1785123\nCloses-Bug: #1633447\nChange-Id: I505beacb0da11aa2b8738c6fb4e90daf34aa940f\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}, {'number': 21, 'created': '2019-05-02 19:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce2b71127996f5f01ff8b831a1ceb0917abc0c74', 'message': 'Preserve UEFI NVRAM variable store\n\nPreserve NVRAM variable store during stop/start, hard reboot, cold\nmigration, resize and live migration.\n\nFor UEFI guests (hw_firmware_type=uefi), every time the instance is\nstarted, the UEFI variable storage for that instance\n(/var/lib/libvirt/qemu/nvram/instance-xxxxxxxx_VARS.fd) is deleted\nand reinitialized from the default template.\n\nThis commit sets the location of UEFI NVRAM file to the instance folder\nCONF.instances_path/<UUID> instead of the default folder\n/var/lib/libvirt/qemu/nvram/ to avoid the overwrite. During cold and\nlive migrations, the UEFI NVRAM file is copied over to destination host.\n\nCloses-Bug: #1785123\nCloses-Bug: #1633447\nChange-Id: I505beacb0da11aa2b8738c6fb4e90daf34aa940f\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}, {'number': 22, 'created': '2019-07-25 04:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0339cac119906eee04be7be02ed1c26cd58fd100', 'message': 'Preserve UEFI NVRAM variable store\n\nPreserve NVRAM variable store during stop/start, hard reboot, cold\nmigration, resize and live migration.\n\nFor UEFI guests (hw_firmware_type=uefi), every time the instance is\nstarted, the UEFI variable storage for that instance\n(/var/lib/libvirt/qemu/nvram/instance-xxxxxxxx_VARS.fd) is deleted\nand reinitialized from the default template.\n\nThis commit sets the location of UEFI NVRAM file to the instance folder\nCONF.instances_path/<UUID> instead of the default folder\n/var/lib/libvirt/qemu/nvram/ to avoid the overwrite. During cold and\nlive migrations, the UEFI NVRAM file is copied over to destination host.\n\nCloses-Bug: #1785123\nCloses-Bug: #1633447\nChange-Id: I505beacb0da11aa2b8738c6fb4e90daf34aa940f\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}, {'number': 23, 'created': '2019-07-25 07:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0f75e801a15e860b5278a22496fe42ffb7f530d2', 'message': 'Preserve UEFI NVRAM variable store\n\nPreserve NVRAM variable store during stop/start, hard reboot, cold\nmigration, resize and live migration.\n\nFor UEFI guests (hw_firmware_type=uefi), every time the instance is\nstarted, the UEFI variable storage for that instance\n(/var/lib/libvirt/qemu/nvram/instance-xxxxxxxx_VARS.fd) is deleted\nand reinitialized from the default template.\n\nThis commit sets the location of UEFI NVRAM file to the instance folder\nCONF.instances_path/<UUID> instead of the default folder\n/var/lib/libvirt/qemu/nvram/ to avoid the overwrite. During cold and\nlive migrations, the UEFI NVRAM file is copied over to destination host.\n\nCloses-Bug: #1785123\nCloses-Bug: #1633447\nChange-Id: I505beacb0da11aa2b8738c6fb4e90daf34aa940f\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}, {'number': 24, 'created': '2019-08-14 01:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d11f2cde2b3586bf0123d97cfa35661b54053c0d', 'message': 'Preserve UEFI NVRAM variable store\n\nPreserve NVRAM variable store during stop/start, hard reboot, cold\nmigration, resize and live migration.\n\nFor UEFI guests (hw_firmware_type=uefi), every time the instance is\nstarted, the UEFI variable storage for that instance\n(/var/lib/libvirt/qemu/nvram/instance-xxxxxxxx_VARS.fd) is deleted\nand reinitialized from the default template.\n\nThis commit sets the location of UEFI NVRAM file to the instance folder\nCONF.instances_path/<UUID> instead of the default folder\n/var/lib/libvirt/qemu/nvram/ to avoid the overwrite. During cold and\nlive migrations, the UEFI NVRAM file is copied over to destination host.\n\nCloses-Bug: #1785123\nCloses-Bug: #1633447\nChange-Id: I505beacb0da11aa2b8738c6fb4e90daf34aa940f\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}, {'number': 25, 'created': '2019-08-14 05:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/34d26466141976e0767399c47ef9b94619013a2f', 'message': 'Preserve UEFI NVRAM variable store\n\nPreserve NVRAM variable store during stop/start, hard reboot, cold\nmigration, resize and live migration.\n\nFor UEFI guests (hw_firmware_type=uefi), every time the instance is\nstarted, the UEFI variable storage for that instance\n(/var/lib/libvirt/qemu/nvram/instance-xxxxxxxx_VARS.fd) is deleted\nand reinitialized from the default template.\n\nThis commit sets the location of UEFI NVRAM file to the instance folder\nCONF.instances_path/<UUID> instead of the default folder\n/var/lib/libvirt/qemu/nvram/ to avoid the overwrite. During cold and\nlive migrations, the UEFI NVRAM file is copied over to destination host.\n\nCloses-Bug: #1785123\nCloses-Bug: #1633447\nChange-Id: I505beacb0da11aa2b8738c6fb4e90daf34aa940f\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}, {'number': 26, 'created': '2019-08-19 03:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/54f515afb345c78b8d8b426b80ea7f167188a3eb', 'message': 'Preserve UEFI NVRAM variable store\n\nPreserve NVRAM variable store during stop/start, hard reboot, cold\nmigration, resize and live migration.\n\nFor UEFI guests (hw_firmware_type=uefi), every time the instance is\nstarted, the UEFI variable storage for that instance\n(/var/lib/libvirt/qemu/nvram/instance-xxxxxxxx_VARS.fd) is deleted\nand reinitialized from the default template.\n\nThis commit sets the location of UEFI NVRAM file to the instance folder\nCONF.instances_path/<UUID> instead of the default folder\n/var/lib/libvirt/qemu/nvram/ to avoid the overwrite. During cold and\nlive migrations, the UEFI NVRAM file is copied over to destination host.\n\nCloses-Bug: #1785123\nCloses-Bug: #1633447\nChange-Id: I505beacb0da11aa2b8738c6fb4e90daf34aa940f\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}, {'number': 27, 'created': '2019-09-05 07:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d84139d978c894302e83c40b8124da2233531929', 'message': 'Preserve UEFI NVRAM variable store\n\nPreserve NVRAM variable store during stop/start, hard reboot, cold\nmigration, resize and live migration.\n\nFor UEFI guests (hw_firmware_type=uefi), every time the instance is\nstarted, the UEFI variable storage for that instance\n(/var/lib/libvirt/qemu/nvram/instance-xxxxxxxx_VARS.fd) is deleted\nand reinitialized from the default template.\n\nThis commit sets the location of UEFI NVRAM file to the instance folder\nCONF.instances_path/<UUID> instead of the default folder\n/var/lib/libvirt/qemu/nvram/ to avoid the overwrite. During cold and\nlive migrations, the UEFI NVRAM file is copied over to destination host.\n\nCloses-Bug: #1785123\nCloses-Bug: #1633447\nChange-Id: I505beacb0da11aa2b8738c6fb4e90daf34aa940f\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}, {'number': 28, 'created': '2019-09-19 09:31:33.000000000', 'files': ['nova/virt/fake.py', 'nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py', 'nova/virt/driver.py', 'releasenotes/notes/preserve-uefi-nvram-300dad6f2a63a70d.yaml', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/virt/hyperv/driver.py', 'nova/virt/ironic/driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/xenapi/driver.py', 'nova/virt/zvm/driver.py', 'nova/virt/vmwareapi/driver.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/virt/libvirt/test_guest.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5dc094af4830e842f62f8ff341bf9edf7e59a8af', 'message': 'Preserve UEFI NVRAM variable store\n\nPreserve NVRAM variable store during stop/start, hard reboot, cold\nmigration, resize and live migration.\n\nFor UEFI guests (hw_firmware_type=uefi), every time the instance is\nstarted, the UEFI variable storage for that instance\n(/var/lib/libvirt/qemu/nvram/instance-xxxxxxxx_VARS.fd) is deleted\nand reinitialized from the default template.\n\nThis commit sets the location of UEFI NVRAM file to the instance folder\nCONF.instances_path/<UUID> instead of the default folder\n/var/lib/libvirt/qemu/nvram/ to avoid the overwrite. During cold and\nlive migrations, the UEFI NVRAM file is copied over to destination host.\n\nCloses-Bug: #1785123\nCloses-Bug: #1633447\nChange-Id: I505beacb0da11aa2b8738c6fb4e90daf34aa940f\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}]",47,621646,5dc094af4830e842f62f8ff341bf9edf7e59a8af,362,35,28,28433,,,0,"Preserve UEFI NVRAM variable store

Preserve NVRAM variable store during stop/start, hard reboot, cold
migration, resize and live migration.

For UEFI guests (hw_firmware_type=uefi), every time the instance is
started, the UEFI variable storage for that instance
(/var/lib/libvirt/qemu/nvram/instance-xxxxxxxx_VARS.fd) is deleted
and reinitialized from the default template.

This commit sets the location of UEFI NVRAM file to the instance folder
CONF.instances_path/<UUID> instead of the default folder
/var/lib/libvirt/qemu/nvram/ to avoid the overwrite. During cold and
live migrations, the UEFI NVRAM file is copied over to destination host.

Closes-Bug: #1785123
Closes-Bug: #1633447
Change-Id: I505beacb0da11aa2b8738c6fb4e90daf34aa940f
Signed-off-by: Jack Ding <jack.ding@windriver.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/621646/19 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/hyperv/driver.py', 'nova/virt/ironic/driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/xenapi/driver.py', 'nova/virt/fake.py', 'nova/virt/vmwareapi/driver.py', 'nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py', 'nova/virt/driver.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",11,5754a8bfc9cf13423c62377f2c56fd2bf6e4dc2f,bug/1785123," instance = objects.Instance(**self.test_instance) self.context, instance, target_connection, instance = objects.Instance(**self.test_instance) self.context, instance, target_connection, instance = objects.Instance(**self.test_instance) drvr._live_migration_operation(self.context, instance, instance = objects.Instance(**self.test_instance) self.context, instance, target_connection, instance = objects.Instance(**self.test_instance) self.context, instance, target_connection, network_info, None, False, keep_nvram=False) network_info, None, False, keep_nvram=False) block_device_info=block_device_info, keep_nvram=True)"," instance_ref = self.test_instance self.context, instance_ref, target_connection, instance_ref = self.test_instance self.context, instance_ref, target_connection, instance_ref = self.test_instance drvr._live_migration_operation(self.context, instance_ref, instance_ref = self.test_instance self.context, instance_ref, target_connection, instance_ref = self.test_instance self.context, instance_ref, target_connection, network_info, None, False) network_info, None, False) block_device_info=block_device_info)",83,35
openstack%2Ftripleo-validations~master~If2578fcd069ba60e33b375c04ba2912affce53e0,openstack/tripleo-validations,master,If2578fcd069ba60e33b375c04ba2912affce53e0,Use OS_CLOUD environment variable,MERGED,2021-06-08 10:42:00.000000000,2021-06-11 07:06:40.000000000,2021-06-11 07:06:40.000000000,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-08 10:42:00.000000000', 'files': ['scripts/tripleo-ansible-inventory'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ee6e66649fd14656db1a1f49eb8463821b475393', 'message': 'Use OS_CLOUD environment variable\n\nIf OS_CLOUD env variable is set, that should be used.\n\nChange-Id: If2578fcd069ba60e33b375c04ba2912affce53e0\n'}]",0,795293,ee6e66649fd14656db1a1f49eb8463821b475393,10,5,1,8833,,,0,"Use OS_CLOUD environment variable

If OS_CLOUD env variable is set, that should be used.

Change-Id: If2578fcd069ba60e33b375c04ba2912affce53e0
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/93/795293/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo-ansible-inventory'],1,ee6e66649fd14656db1a1f49eb8463821b475393,bug/1931172," cfg.StrOpt('os-cloud', default=os.environ.get('OS_CLOUD'), help=('Provide authentication with clouds.yaml file.')),"," cfg.StrOpt('os-cloud', default=None, help=('Provide authentication ' 'with clouds.yaml file.')),",2,2
openstack%2Fpython-freezerclient~master~I65a5acd0ed5188c7810200eaeefd55a0030d6eda,openstack/python-freezerclient,master,I65a5acd0ed5188c7810200eaeefd55a0030d6eda,Fix lower-constraints CI error,MERGED,2021-06-10 23:58:30.000000000,2021-06-11 05:58:51.000000000,2021-06-11 05:57:24.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-10 23:58:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/c0151f3615e79ebdc579aa36853b5085df3fad59', 'message': ""Fix lower-constraints CI error\n\nooking in indexes: https://mirror.gra1.ovh.opendev.org/pypi/simple, https://mirror.gra1.ovh.opendev.org/wheel/ubuntu-20.04-x86_64\nCollecting hacking<3.1.0,>=3.0.1\n  Downloading https://mirror.gra1.ovh.opendev.org/pypifiles/packages/d8/1e/87943c48e3bcd6010d2539130f322168e46186429ae4d26128d7cf496d13/hacking-3.0.1-py3-none-any.whl (37 kB)\nCollecting coverage>=4.5.1\n  Downloading https://mirror.gra1.ovh.opendev.org/wheel/ubuntu-20.04-x86_64/coverage/coverage-4.5.1-cp38-cp38-linux_x86_64.whl (214 kB)\nCollecting stestr>=2.0.0\n  Downloading https://mirror.gra1.ovh.opendev.org/wheel/ubuntu-20.04-x86_64/stestr/stestr-2.0.0-py3-none-any.whl (102 kB)\nCollecting testtools>=2.2.0\n  Downloading https://mirror.gra1.ovh.opendev.org/wheel/ubuntu-20.04-x86_64/testtools/testtools-2.2.0-py2.py3-none-any.whl (195 kB)\nERROR: Cannot install astroid==2.1.0 because these package versions have conflicting dependencies.\n\nThe conflict is caused by:\n    The user requested astroid==2.1.0\n    The user requested (constraint) astroid==1.6.5\n\nTo fix this you could try to:\n1. loosen the range of package versions you've specified\n2. remove package versions to allow pip attempt to solve the dependency conflict\n\nERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/user_guide/#fixing-conflicting-dependencies\nChange-Id: I65a5acd0ed5188c7810200eaeefd55a0030d6eda\n""}, {'number': 2, 'created': '2021-06-11 00:48:35.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/a35d808ccbba68013dfa1790920cf14994e860c0', 'message': ""Fix lower-constraints CI error\n\nooking in indexes: https://mirror.gra1.ovh.opendev.org/pypi/simple, https://mirror.gra1.ovh.opendev.org/wheel/ubuntu-20.04-x86_64\nCollecting hacking<3.1.0,>=3.0.1\n  Downloading https://mirror.gra1.ovh.opendev.org/pypifiles/packages/d8/1e/87943c48e3bcd6010d2539130f322168e46186429ae4d26128d7cf496d13/hacking-3.0.1-py3-none-any.whl (37 kB)\nCollecting coverage>=4.5.1\n  Downloading https://mirror.gra1.ovh.opendev.org/wheel/ubuntu-20.04-x86_64/coverage/coverage-4.5.1-cp38-cp38-linux_x86_64.whl (214 kB)\nCollecting stestr>=2.0.0\n  Downloading https://mirror.gra1.ovh.opendev.org/wheel/ubuntu-20.04-x86_64/stestr/stestr-2.0.0-py3-none-any.whl (102 kB)\nCollecting testtools>=2.2.0\n  Downloading https://mirror.gra1.ovh.opendev.org/wheel/ubuntu-20.04-x86_64/testtools/testtools-2.2.0-py2.py3-none-any.whl (195 kB)\nERROR: Cannot install astroid==2.1.0 because these package versions have conflicting dependencies.\n\nThe conflict is caused by:\n    The user requested astroid==2.1.0\n    The user requested (constraint) astroid==1.6.5\n\nTo fix this you could try to:\n1. loosen the range of package versions you've specified\n2. remove package versions to allow pip attempt to solve the dependency conflict\n\nERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/user_guide/#fixing-conflicting-dependencies\nChange-Id: I65a5acd0ed5188c7810200eaeefd55a0030d6eda\n""}]",0,795910,a35d808ccbba68013dfa1790920cf14994e860c0,10,2,2,21069,,,0,"Fix lower-constraints CI error

ooking in indexes: https://mirror.gra1.ovh.opendev.org/pypi/simple, https://mirror.gra1.ovh.opendev.org/wheel/ubuntu-20.04-x86_64
Collecting hacking<3.1.0,>=3.0.1
  Downloading https://mirror.gra1.ovh.opendev.org/pypifiles/packages/d8/1e/87943c48e3bcd6010d2539130f322168e46186429ae4d26128d7cf496d13/hacking-3.0.1-py3-none-any.whl (37 kB)
Collecting coverage>=4.5.1
  Downloading https://mirror.gra1.ovh.opendev.org/wheel/ubuntu-20.04-x86_64/coverage/coverage-4.5.1-cp38-cp38-linux_x86_64.whl (214 kB)
Collecting stestr>=2.0.0
  Downloading https://mirror.gra1.ovh.opendev.org/wheel/ubuntu-20.04-x86_64/stestr/stestr-2.0.0-py3-none-any.whl (102 kB)
Collecting testtools>=2.2.0
  Downloading https://mirror.gra1.ovh.opendev.org/wheel/ubuntu-20.04-x86_64/testtools/testtools-2.2.0-py2.py3-none-any.whl (195 kB)
ERROR: Cannot install astroid==2.1.0 because these package versions have conflicting dependencies.

The conflict is caused by:
    The user requested astroid==2.1.0
    The user requested (constraint) astroid==1.6.5

To fix this you could try to:
1. loosen the range of package versions you've specified
2. remove package versions to allow pip attempt to solve the dependency conflict

ERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/user_guide/#fixing-conflicting-dependencies
Change-Id: I65a5acd0ed5188c7810200eaeefd55a0030d6eda
",git fetch https://review.opendev.org/openstack/python-freezerclient refs/changes/10/795910/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,c0151f3615e79ebdc579aa36853b5085df3fad59,,astroid==2.1.0,astroid==1.6.5,1,1
openstack%2Ftripleo-upgrade~stable%2Ftrain~I8647b36c0edc87e559dad748ced5c5acdeb91472,openstack/tripleo-upgrade,stable/train,I8647b36c0edc87e559dad748ced5c5acdeb91472,[Train-Only] Parametrize ovs version to install in UC via leapp upgrade.,MERGED,2021-06-08 08:25:36.000000000,2021-06-11 05:54:58.000000000,2021-06-11 05:54:58.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 08:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/013017c2e03e0e7129c263dc1778c6ff6489ca44', 'message': 'WIP: [Train-Only] Bum ovs version to 2.15 for 16.2.\n\nA new openvswitch version has been released, 2.15. As during the Undercloud\nleapp upgrade we tell leapp which version of ovs to install in order to\nsave some extra restart, we now need to update the version to install.\n\nChange-Id: I8647b36c0edc87e559dad748ced5c5acdeb91472\nRelated: rhbz#1966476\n'}, {'number': 2, 'created': '2021-06-08 10:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/754b29460f499d3bf6326c49920ac8209d1c4b80', 'message': 'WIP: [Train-Only] Bum ovs version to 2.15 for 16.2.\n\nA new openvswitch version has been released, 2.15. As during the Undercloud\nleapp upgrade we tell leapp which version of ovs to install in order to\nsave some extra restart, we now need to update the version to install.\n\nChange-Id: I8647b36c0edc87e559dad748ced5c5acdeb91472\nRelated: rhbz#1966476\n'}, {'number': 3, 'created': '2021-06-09 10:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8939bc695b160e1bcd173afdfce382520e463324', 'message': '[Train-Only] Parametrize ovs version to install in UC via leapp upgrade.\n\nA new openvswitch version has been released, 2.15. As during the Undercloud\nleapp upgrade we tell leapp which version of ovs to install in order to\nsave some extra restart, we now need to update the version to install.\n\nHowever, the very same upstream branch is being used for two downstream\nreleases 16.1 and 16.2, and the openvswitch package version used on each\nof them is different. For some reason, we need to parametrize it so that\nwe can specify which version to use for each CI job.\n\nThis patch adds a new infrared option undercloud-ffu-ovs-version which\nwill determine the openvswitch version to install while upgrading via\nleapp. By default, it will use 2.13, which is the one used in 16.1.\n\nChange-Id: I8647b36c0edc87e559dad748ced5c5acdeb91472\nRelated: rhbz#1966476\n'}, {'number': 4, 'created': '2021-06-09 13:18:38.000000000', 'files': ['tasks/common/undercloud_os_upgrade.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/492bd0ddab7cbfd7a7b0c5f0aa2ad83c3d65f60e', 'message': '[Train-Only] Parametrize ovs version to install in UC via leapp upgrade.\n\nA new openvswitch version has been released, 2.15. As during the Undercloud\nleapp upgrade we tell leapp which version of ovs to install in order to\nsave some extra restart, we now need to update the version to install.\n\nHowever, the very same upstream branch is being used for two downstream\nreleases 16.1 and 16.2, and the openvswitch package version used on each\nof them is different. For some reason, we need to parametrize it so that\nwe can specify which version to use for each CI job.\n\nThis patch adds a new parameter leapp_ovs_version which will determine\nthe openvswitch version to install while upgrading via leapp. By default,\nit will use 2.13, which is the one used in 16.1.\n\nChange-Id: I8647b36c0edc87e559dad748ced5c5acdeb91472\nRelated: rhbz#1966476\n'}]",2,795255,492bd0ddab7cbfd7a7b0c5f0aa2ad83c3d65f60e,16,3,4,26343,,,0,"[Train-Only] Parametrize ovs version to install in UC via leapp upgrade.

A new openvswitch version has been released, 2.15. As during the Undercloud
leapp upgrade we tell leapp which version of ovs to install in order to
save some extra restart, we now need to update the version to install.

However, the very same upstream branch is being used for two downstream
releases 16.1 and 16.2, and the openvswitch package version used on each
of them is different. For some reason, we need to parametrize it so that
we can specify which version to use for each CI job.

This patch adds a new parameter leapp_ovs_version which will determine
the openvswitch version to install while upgrading via leapp. By default,
it will use 2.13, which is the one used in 16.1.

Change-Id: I8647b36c0edc87e559dad748ced5c5acdeb91472
Related: rhbz#1966476
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/55/795255/4 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_os_upgrade.yaml'],1,013017c2e03e0e7129c263dc1778c6ff6489ca44,, package: 'openvswitch2.15', package: 'openvswitch2.13',1,1
openstack%2Fpuppet-tripleo~stable%2Ftrain~Ib8624f0c2e87de18a990060c3cb939c13ec3a6f2,openstack/puppet-tripleo,stable/train,Ib8624f0c2e87de18a990060c3cb939c13ec3a6f2,Allow ovn_db_host to be of type array,ABANDONED,2021-03-08 20:12:05.000000000,2021-06-11 05:33:07.000000000,,"[{'_account_id': 6469}, {'_account_id': 8655}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-08 20:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0b6dbca80d9fcd3b24fe58a563ec54168f788af5', 'message': 'Allow ovn_db_host to be of type array\n\nOn an OVN clustered database environment, there is no OVN VIP as all\nOVN databases are active. Neutron has to be configured to point to all\nOVN database servers in the cluster.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\nChange-Id: Ib8624f0c2e87de18a990060c3cb939c13ec3a6f2\n'}, {'number': 2, 'created': '2021-03-08 21:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a26b06fb328a25391f728d64f73f5bd86ae427b7', 'message': 'Allow ovn_db_host to be of type array\n\nOn an OVN clustered database environment, there is no OVN VIP as all\nOVN databases are active. Neutron has to be configured to point to all\nOVN database servers in the cluster.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\nChange-Id: Ib8624f0c2e87de18a990060c3cb939c13ec3a6f2\n'}, {'number': 3, 'created': '2021-03-09 07:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/07e3e629e3956e0c89d0a3a35abd37fb301b5ce6', 'message': 'Allow ovn_db_host to be of type array\n\nOn an OVN clustered database environment, there is no OVN VIP as all\nOVN databases are active. Neutron has to be configured to point to all\nOVN database servers in the cluster.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\nChange-Id: Ib8624f0c2e87de18a990060c3cb939c13ec3a6f2\n'}, {'number': 4, 'created': '2021-06-07 15:32:20.000000000', 'files': ['manifests/profile/base/neutron/ovn_metadata.pp', 'manifests/profile/base/neutron/plugins/ml2/ovn.pp', 'manifests/profile/base/neutron/agents/ovn.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f504e66d54fe8187846421297b278897be5600c0', 'message': 'Allow ovn_db_host to be of type array\n\nOn an OVN clustered database environment, there is no OVN VIP as all\nOVN databases are active. Neutron has to be configured to point to all\nOVN database servers in the cluster.\n\nCloses-Bug: #1931133\n\nConflicts:\n\tmanifests/profile/base/neutron/agents/ovn.pp\n\tmanifests/profile/base/neutron/ovn_metadata.pp\n\tmanifests/profile/base/neutron/plugins/ml2/ovn.pp\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\nChange-Id: Ib8624f0c2e87de18a990060c3cb939c13ec3a6f2\n(cherry picked from commit 0b51d8258c4a0618ec6f2abd8f86bfe6943cd51f)\n'}]",0,779356,f504e66d54fe8187846421297b278897be5600c0,19,6,4,20172,,,0,"Allow ovn_db_host to be of type array

On an OVN clustered database environment, there is no OVN VIP as all
OVN databases are active. Neutron has to be configured to point to all
OVN database servers in the cluster.

Closes-Bug: #1931133

Conflicts:
	manifests/profile/base/neutron/agents/ovn.pp
	manifests/profile/base/neutron/ovn_metadata.pp
	manifests/profile/base/neutron/plugins/ml2/ovn.pp

Co-Authored-By: Michele Baldessari <michele@acksyn.org>
Change-Id: Ib8624f0c2e87de18a990060c3cb939c13ec3a6f2
(cherry picked from commit 0b51d8258c4a0618ec6f2abd8f86bfe6943cd51f)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/56/779356/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/neutron/ovn_metadata.pp', 'manifests/profile/base/neutron/plugins/ml2/ovn.pp', 'manifests/profile/base/neutron/agents/ovn.pp']",3,0b6dbca80d9fcd3b24fe58a563ec54168f788af5,ovn-cluster-stable-train,"# (Optional) The IP-Address where OVN DBs are listening. If passed a list it # will construct a comma separated string like # protocol:ip1:port,protocol:ip2:port. if is_string($ovn_db_host) { $ovn_remote_real = join([""${protocol}"", normalize_ip_for_uri($ovn_db_host), ""${ovn_sbdb_port}""], ':') } elsif is_array($ovn_db_host) { $ovn_remote_real = join($ovn_db_host.map |$i| { ""${protocol}:${normalize_ip_for_uri($i)}:${ovn_sbdb_port}"" }, ',') } class { 'ovn::controller': ovn_remote => $ovn_remote_real, enable_ovn_match_northd => true,","# (Optional) The IP-Address where OVN DBs are listening. class { '::ovn::controller': ovn_remote => join([$protocol, normalize_ip_for_uri($ovn_db_host), ""${ovn_sbdb_port}""], ':'),",38,15
openstack%2Fcharm-gnocchi~master~I328be51bc02c6ef8b234b18c57c13fdd759938e7,openstack/charm-gnocchi,master,I328be51bc02c6ef8b234b18c57c13fdd759938e7,Support NFS with the file driver,ABANDONED,2021-06-11 05:01:25.000000000,2021-06-11 05:09:58.000000000,,[],"[{'number': 1, 'created': '2021-06-11 05:01:25.000000000', 'files': ['src/templates/gnocchi.conf', 'src/tests/bundles/focal-ussuri-nfs.yaml', 'src/tests/bundles/focal-ussuri-nfs-maas.yaml', 'src/metadata.yaml', 'src/tests/tests.yaml', 'src/layer.yaml', 'src/config.yaml', 'src/lib/charm/openstack/gnocchi.py', 'unit_tests/test_gnocchi_handlers.py', 'src/templates/queens/gnocchi.conf', 'src/reactive/gnocchi_handlers.py', 'src/exec.d/fixed-uid-gid/charm-pre-install'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/6bf8da351a983a994824240e0f0ff5be9ec6b1f0', 'message': 'Support NFS with the file driver\n\nNFS can be used for redundancy for the file driver in addition to Ceph\nor S3 options already available in the charm. Add ""nfs"" interface\nsupport so the charm can receive information of NFS storage through the\nrelation.\n\nCloses-Bug: 1931672\nChange-Id: I328be51bc02c6ef8b234b18c57c13fdd759938e7\n'}]",0,795923,6bf8da351a983a994824240e0f0ff5be9ec6b1f0,2,0,1,8108,,,0,"Support NFS with the file driver

NFS can be used for redundancy for the file driver in addition to Ceph
or S3 options already available in the charm. Add ""nfs"" interface
support so the charm can receive information of NFS storage through the
relation.

Closes-Bug: 1931672
Change-Id: I328be51bc02c6ef8b234b18c57c13fdd759938e7
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/23/795923/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/templates/gnocchi.conf', 'src/tests/bundles/focal-ussuri-nfs.yaml', 'src/tests/bundles/focal-ussuri-nfs-maas.yaml', 'src/metadata.yaml', 'src/tests/tests.yaml', 'src/layer.yaml', 'src/config.yaml', 'src/lib/charm/openstack/gnocchi.py', 'unit_tests/test_gnocchi_handlers.py', 'src/templates/queens/gnocchi.conf', 'src/reactive/gnocchi_handlers.py', 'src/exec.d/fixed-uid-gid/charm-pre-install']",12,6bf8da351a983a994824240e0f0ff5be9ec6b1f0,bug/1931672,"#!/bin/bash set -e # https://bugs.launchpad.net/ubuntu/+source/gnocchi/+bug/1657202 # https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=983635 UID_GNOCCHI=64065 GID_GNOCCHI=64065 # https://git.launchpad.net/ubuntu/+source/openstack-pkg-tools/tree/pkgos_func?h=ubuntu/focal-proposed#n786 # pkgos_adduser() with reserved UID/GID for Gnocchi pkgos_adduser () { local VAR_UG_PKG_NAME local VAR_UG_SHELL VAR_UG_PKG_NAME=${1} VAR_UG_SHELL=${2} if [ -z ""${VAR_UG_SHELL}"" ] ; then VAR_UG_SHELL='/bin/false' fi # These are reserved UID/GID allocation # See https://bugs.debian.org/884178 case ""${VAR_UG_PKG_NAME}"" in ""nova"") ADDGROUP_PARAM=""--gid 64060"" ADDUSER_PARAM=""--uid 64060"" ;; ""cinder"") ADDGROUP_PARAM=""--gid 64061"" ADDUSER_PARAM=""--uid 64061"" ;; ""glance"") ADDGROUP_PARAM=""--gid 64062"" ADDUSER_PARAM=""--uid 64062"" ;; ""gnocchi"") ADDGROUP_PARAM=""--gid $GID_GNOCCHI"" ADDUSER_PARAM=""--uid $UID_GNOCCHI"" ;; *) ADDGROUP_PARAM="""" ADDUSER_PARAM="""" ;; esac # Create user and groups if they don't exist if ! getent group ${VAR_UG_PKG_NAME} > /dev/null 2>&1 ; then addgroup --quiet --system ${VAR_UG_PKG_NAME} ${ADDGROUP_PARAM} fi if ! getent passwd ${VAR_UG_PKG_NAME} > /dev/null 2>&1 ; then adduser --system \ --home /var/lib/${VAR_UG_PKG_NAME} \ --no-create-home \ --quiet \ --disabled-password \ --shell ${VAR_UG_SHELL} \ --group ${VAR_UG_PKG_NAME} ${ADDUSER_PARAM} else usermod \ --shell ${VAR_UG_SHELL} \ ${VAR_UG_PKG_NAME} >/dev/null 2>&1 fi } pkgos_adduser gnocchi ",,424,7
openstack%2Fglance-specs~master~I05133d61f52b0fa5f39f6a976356789cd1ef5940,openstack/glance-specs,master,I05133d61f52b0fa5f39f6a976356789cd1ef5940,Spec for Glance cache API,MERGED,2019-06-13 22:41:10.000000000,2021-06-11 04:45:18.000000000,2021-06-11 04:44:00.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-13 22:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/a27c3fe358828c40b2645eda9c4f6184458a7902', 'message': 'Spec for Glance cache API\n\nAPIImpact\n\nChange-Id: I05133d61f52b0fa5f39f6a976356789cd1ef5940\n'}, {'number': 2, 'created': '2019-06-26 12:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/4df3e6fe5200eb713dea779ebb06b84a9b1417ff', 'message': 'Spec for Glance cache API\n\nAPIImpact\n\nChange-Id: I05133d61f52b0fa5f39f6a976356789cd1ef5940\n'}, {'number': 3, 'created': '2020-07-15 18:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/5419a614090ce9d205015dcce42817e25fbe360d', 'message': 'Spec for Glance cache API\n\nAPIImpact\n\nChange-Id: I05133d61f52b0fa5f39f6a976356789cd1ef5940\n'}, {'number': 4, 'created': '2020-07-23 03:01:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/1021cd0f1cb16f0ea928c8b71a05d21a5ce7bbb0', 'message': 'Spec for Glance cache API\n\nAPIImpact\n\nChange-Id: I05133d61f52b0fa5f39f6a976356789cd1ef5940\n'}, {'number': 5, 'created': '2021-06-01 05:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/7475c021179897532618f64056df8f3ba7aa0b07', 'message': 'Spec for Glance cache API\n\nAPIImpact\n\nChange-Id: I05133d61f52b0fa5f39f6a976356789cd1ef5940\n'}, {'number': 6, 'created': '2021-06-02 05:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/ef1d1b66354b86e7da3b183805ed334aa6d9395c', 'message': 'Spec for Glance cache API\n\nAPIImpact\n\nChange-Id: I05133d61f52b0fa5f39f6a976356789cd1ef5940\n'}, {'number': 7, 'created': '2021-06-02 14:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/1f464d59980296ec3ea13ca3682866c50d7a36c2', 'message': 'Spec for Glance cache API\n\nAPIImpact\n\nChange-Id: I05133d61f52b0fa5f39f6a976356789cd1ef5940\n'}, {'number': 8, 'created': '2021-06-02 15:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/76f28d6fe29c494a60dbd5707920229becce35f8', 'message': 'Spec for Glance cache API\n\nAPIImpact\n\nChange-Id: I05133d61f52b0fa5f39f6a976356789cd1ef5940\n'}, {'number': 9, 'created': '2021-06-04 05:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/18a1dca149cddd15b46926efcde0f0aae357d493', 'message': 'Spec for Glance cache API\n\nAPIImpact\n\nChange-Id: I05133d61f52b0fa5f39f6a976356789cd1ef5940\n'}, {'number': 10, 'created': '2021-06-09 14:24:20.000000000', 'files': ['specs/xena/approved/glance/cache-api.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/7fc0bd705d1d25ca8be5bed090234658da7670c0', 'message': 'Spec for Glance cache API\n\nAPIImpact\n\nChange-Id: I05133d61f52b0fa5f39f6a976356789cd1ef5940\n'}]",84,665258,7fc0bd705d1d25ca8be5bed090234658da7670c0,61,6,10,8122,,,0,"Spec for Glance cache API

APIImpact

Change-Id: I05133d61f52b0fa5f39f6a976356789cd1ef5940
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/58/665258/10 && git format-patch -1 --stdout FETCH_HEAD,"['specs/train/approved/index.rst', 'specs/train/approved/glance/cache-api.rst']",2,a27c3fe358828c40b2645eda9c4f6184458a7902,bp/cache-api,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========= Cache API ========= https://blueprints.launchpad.net/glance/+spec/cache-api The glance-cache-prefetcher command currently depends on the glance registry. Since the latter has been deprecated, this is an issue. We should instead rely on the v2 API, that we propose to extend in this blueprint. Doing so will also help user with split deployments, in which the glance-api nodes are in different locations. Problem description =================== The glance registry has been deprecated since Queens. However, we cannot remove it from Glance since glance-cache-prefetcher depends on it. Replacing both these tools with a few new API endpoints would prove beneficial: * Users would have to deal with fewer commands (the glance-cache-prefetcher features would be part of the OpenStack client and the Glance client); * Along with the planned work on cluster awareness, this would make it easier to manage split deployments (multiple glance-api nodes on different locations) * Operators could stop deploying glance-registry (some of them already though, and it is an issue) Proposed change =============== The main change this specification describes is the extension of the Glance API to handle cache-related operations. The goal is to have an API that can replace the ""glance-cache-manage"" tool. These are the operations we would like to support: * List cached images * Delete an image from the cache * Delete all images from the cache * Pre-cache an image We would like to get rid of the queuing operation, so no new API endpoints will be added for queue-related operations. Alternatives ------------ If we do nothing about cluster awareness and we do not provide an easy-to-use API for cache management, operators could probably write homemade solutions to aggregate data from multiple nodes, but this would be error-prone and not user-friendly. They would also have to keep deploying glance-registry. Data model impact ----------------- None REST API impact --------------- This spec proposes the following new endpoints: **New API** * List cached images * Delete a cached image * Delete cached images * Pre-cache an image **Common Response Codes** * Create Success: `201 Created` * Delete Success: `204 No Content` * Failure: `400 Bad Request` with details. * Forbidden: `403 Forbidden` **[New API] List cached images** List all images cached on this node:: GET /v2/cache { ""cached_images"": [ { ""id"": ""d75b9181-e1ce-45b4-8147-fb66fc4ea82f"", ""last_accessed"": 1560451015.977297, ""last_modified"": 1560451015.977297, ""size"": 12345, ""hits"": 42, ""checksum"": ""6788146b9d3fddc8dd03d86bfe9239b0"" }, ] } Response codes: * 200 -- Upon authorization and successful request. The response body contains the JSON payload with the cached images. **[New API] Delete an image from the cache** Delete a specific image from the cache:: DELETE /v2/cache/​{image_id}​ Response codes: * 204 -- The image was deleted * 403 -- Permission denied **[New API] Delete all images from the cache** Delete a specific image from the cache:: DELETE /v2/cache Response codes: * 204 -- The cache was purged * 403 -- Permission denied **[New API] Pre-cache an image** Pre-cache an image:: POST /v2/cache/​{image_id}​ Response codes: * 202 -- The request has been accepted, the image will be pre-cached * 403 -- Permission denied Security impact --------------- Permissions should be checked properly before pre-caching or deleting an image. Notifications impact -------------------- When the pre-caching of an image is complete, a notification should be emitted. Other end user impact --------------------- The OpenStack client should have new commands, such as: * openstack image cache list * openstack image cache precache <IMAGE-ID> * openstack image cache delete-cached-image <IMAGE-ID> * openstack image cache delete-cached-images Similarly, the glance client could be updated: * glance cache-list * glance cache-precache <IMAGE-ID> * glance cache-delete <IMAGE-ID> * glance cache-delete-all Performance Impact ------------------ Using this API will induce database queries, but should not result in more queries than the use of ""glance-cache-manage"". Other deployer impact --------------------- * Deployers will be able to drop support for glance-registry Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: abhishek-kekane Other contributors: cyril-roelandt Work Items ---------- * Add new API endpoints * Add python-openstackclient support * Add python-glanceclient support * Deprecate glance-cache-manage * Deprecate glance-cache-prefetcher * Remove glance-registry (currently used by the prefetcher) * glance-cache-cleaner: use the new endpoints * glance-cache-pruner: use the new endpoints Dependencies ============ * ""Cluster awareness with RabbitMQ"": https://review.opendev.org/#/c/664956/ Testing ======= * The new API endpoints should be tested using Tempest tests. Documentation Impact ==================== * The API documentation will need to be updated References ========== None ",,239,1
openstack%2Fkolla~stable%2Fwallaby~I3c6fdcb9b7dd7443a7755599f7e4ee59f67e0a91,openstack/kolla,stable/wallaby,I3c6fdcb9b7dd7443a7755599f7e4ee59f67e0a91,Add missing default policy files for ubuntu-binary-horizon,MERGED,2021-06-07 12:39:04.000000000,2021-06-11 03:55:15.000000000,2021-06-07 16:06:50.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-07 12:39:04.000000000', 'files': ['docker/horizon/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/51802de9614f7c8cf3d8b40b19654b0065fc1a0a', 'message': 'Add missing default policy files for ubuntu-binary-horizon\n\nThe ubuntu-binary-horizon image is missing the default policies files\nwhich should be in /etc/openstack-dashboard/default_policies. By copying\neverything from /usr/share/openstack-dashboard/openstack_dashboard/conf\ninto /etc/openstack-dashboard, we get the default policy files, as well\nas commented out policy files (e.g. cinder_policy.yaml) and the\nnova_policy.d directory containing api-extensions.yaml.\n\nChange-Id: I3c6fdcb9b7dd7443a7755599f7e4ee59f67e0a91\nCloses-Bug: #1930586\n(cherry picked from commit 740448a658f0060b86d56e78915d8b751ade3616)\n'}]",0,795038,51802de9614f7c8cf3d8b40b19654b0065fc1a0a,12,5,1,30491,,,0,"Add missing default policy files for ubuntu-binary-horizon

The ubuntu-binary-horizon image is missing the default policies files
which should be in /etc/openstack-dashboard/default_policies. By copying
everything from /usr/share/openstack-dashboard/openstack_dashboard/conf
into /etc/openstack-dashboard, we get the default policy files, as well
as commented out policy files (e.g. cinder_policy.yaml) and the
nova_policy.d directory containing api-extensions.yaml.

Change-Id: I3c6fdcb9b7dd7443a7755599f7e4ee59f67e0a91
Closes-Bug: #1930586
(cherry picked from commit 740448a658f0060b86d56e78915d8b751ade3616)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/38/795038/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/horizon/Dockerfile.j2'],1,51802de9614f7c8cf3d8b40b19654b0065fc1a0a,bug/1930586-stable/wallaby, && cp -r /usr/share/openstack-dashboard/openstack_dashboard/conf/* /etc/openstack-dashboard \, && cp /usr/share/openstack-dashboard/openstack_dashboard/conf/*.json /etc/openstack-dashboard \,1,1
openstack%2Fcharm-glance~master~Id76a74cc6041b9c3364399254681138475f19935,openstack/charm-glance,master,Id76a74cc6041b9c3364399254681138475f19935,Allow enabling S3 object storage backend,MERGED,2021-03-19 14:47:42.000000000,2021-06-11 02:28:45.000000000,2021-06-11 02:28:45.000000000,"[{'_account_id': 8108}, {'_account_id': 8992}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 28899}, {'_account_id': 31289}, {'_account_id': 33192}]","[{'number': 1, 'created': '2021-03-19 14:47:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/4e868ca2ae45ad726d46ca33389f61245f030301', 'message': 'Implement S3 object storage backend\n\nThis is a feature implementation that enables the use of an external S3\nserver for object storage. Four new configuration options are introduced\nin this change and all four are required to use S3.\n\nCloses-Bug: #1919338\nChange-Id: Id76a74cc6041b9c3364399254681138475f19935\n'}, {'number': 2, 'created': '2021-03-19 17:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/15efc16873ad57806d7d8194831146a7d6cbe411', 'message': 'Implement S3 object storage backend\n\nThis is a feature implementation that enables the use of an external S3\nserver for object storage. Four new configuration options are introduced\nin this change and all four are required to use S3.\n\nCloses-Bug: #1919338\nChange-Id: Id76a74cc6041b9c3364399254681138475f19935\n'}, {'number': 3, 'created': '2021-03-19 18:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/1c8ab9d4cc9034aab0f9d5524f359fbecbab527a', 'message': 'Implement S3 object storage backend\n\nThis is a feature implementation that enables the use of an external S3\nserver for object storage. Four new configuration options are introduced\nin this change and all four are required to use S3.\n\nCloses-Bug: #1919338\nChange-Id: Id76a74cc6041b9c3364399254681138475f19935\n'}, {'number': 4, 'created': '2021-03-19 18:45:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/82b7286cca9d6da883621e6908f5233cf889a8c7', 'message': 'Implement S3 object storage backend\n\nThis is a feature implementation that enables the use of an external S3\nserver for object storage. Four new configuration options are introduced\nin this change and all four are required to use S3.\n\nCloses-Bug: #1919338\nChange-Id: Id76a74cc6041b9c3364399254681138475f19935\n'}, {'number': 5, 'created': '2021-03-19 18:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/7b23e8d822847b9351c67283c8ab5420965d2f4a', 'message': 'Implement S3 object storage backend\n\nThis is a feature implementation that enables the use of an external S3\nserver for object storage. Four new configuration options are introduced\nin this change and all four are required to use S3.\n\nCloses-Bug: #1919338\nChange-Id: Id76a74cc6041b9c3364399254681138475f19935\n'}, {'number': 6, 'created': '2021-03-22 18:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/6c29de967b9daa96797175b054a5b347d5676eeb', 'message': 'Implement S3 object storage backend\n\nThis is a feature implementation that enables the use of an external S3\nserver for object storage. Four new configuration options are introduced\nin this change and all four are required to use S3.\n\nCloses-Bug: #1919338\nChange-Id: Id76a74cc6041b9c3364399254681138475f19935\n'}, {'number': 7, 'created': '2021-03-23 17:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/e54af92d88507ed8ea0bd6f2da1bf3ea13bfdfed', 'message': 'Implement S3 object storage backend\n\nThis is a feature implementation that enables the use of an external S3\nserver for object storage. Four new configuration options are introduced\nin this change and all four are required to use S3.\n\nCloses-Bug: #1919338\nChange-Id: Id76a74cc6041b9c3364399254681138475f19935\n'}, {'number': 8, 'created': '2021-03-24 00:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/6a44ebc86ee88e0770ad6caef9c3763966cfdc54', 'message': 'Implement S3 object storage backend\n\nThis is a feature implementation that enables the use of an external S3\nserver for object storage. Four new configuration options are introduced\nin this change and all four are required to use S3.\n\nCloses-Bug: #1919338\nChange-Id: Id76a74cc6041b9c3364399254681138475f19935\n'}, {'number': 9, 'created': '2021-03-26 13:17:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/f34881c09cbeda2f4db286b83e3aa59850fb24b7', 'message': 'Implement S3 object storage backend\n\nThis is a feature implementation that enables the use of an external S3\nserver for object storage. Four new configuration options are introduced\nin this change and all four are required to use S3.\n\nCloses-Bug: #1919338\nChange-Id: Id76a74cc6041b9c3364399254681138475f19935\n'}, {'number': 10, 'created': '2021-03-26 14:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/da02f63a1a343df7c14effcf3ac16fb8c5e6bde7', 'message': 'Implement S3 object storage backend\n\nThis is a feature implementation that enables the use of an external S3\nserver for object storage. Four new configuration options are introduced\nin this change and all four are required to use S3.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/532\nCloses-Bug: #1919338\nChange-Id: Id76a74cc6041b9c3364399254681138475f19935\n'}, {'number': 11, 'created': '2021-03-26 17:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/56f47f126e9aa82ef90b44bdc045017661115b93', 'message': 'Implement S3 object storage backend\n\nThis is a feature implementation that enables the use of an external S3\nserver for object storage. Four new configuration options are introduced\nin this change and all four are required to use S3.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/532\nCloses-Bug: #1919338\nChange-Id: Id76a74cc6041b9c3364399254681138475f19935\n'}, {'number': 12, 'created': '2021-04-12 13:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/0278e0a8087d8723eb11e08d948d72565f4b828e', 'message': 'Implement S3 object storage backend\n\nThis is a feature implementation that enables the use of an external S3\nserver for object storage. Four new configuration options are introduced\nin this change and all four are required to use S3.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/532\nCloses-Bug: #1919338\nChange-Id: Id76a74cc6041b9c3364399254681138475f19935\n'}, {'number': 13, 'created': '2021-05-24 01:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/9a87b43414f538c12fe8ed19dc0439ba682cd069', 'message': 'Allow enabling S3 object storage backend\n\nS3 backend has been available (again) since Ussuri in the upstream\nGlance. We will enable the backend with config options for an external\nS3 storage information.\n\nCo-authored-by: Connor Chamberlain <connor.chamberlain@canonical.com>\nCo-authored-by: Vladimir Grevtsev <vladimir.grevtsev@canonical.com>\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/574\nCloses-Bug: #1919338\nChange-Id: Id76a74cc6041b9c3364399254681138475f19935\n'}, {'number': 14, 'created': '2021-05-25 01:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/9015294b4095a1bc9685a8c3a4906525332f425b', 'message': 'Allow enabling S3 object storage backend\n\nS3 backend has been available (again) since Ussuri in the upstream\nGlance. We will enable the backend with config options for an external\nS3 storage information.\n\nCo-authored-by: Connor Chamberlain <connor.chamberlain@canonical.com>\nCo-authored-by: Vladimir Grevtsev <vladimir.grevtsev@canonical.com>\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/574\nCloses-Bug: #1919338\nChange-Id: Id76a74cc6041b9c3364399254681138475f19935\n'}, {'number': 15, 'created': '2021-06-07 13:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/d2ac10902260039a7d7c7e3e83445385c3a800dd', 'message': 'Allow enabling S3 object storage backend\n\nS3 backend has been available (again) since Ussuri in the upstream\nGlance. We will enable the backend with config options for an external\nS3 storage information.\n\nCo-authored-by: Connor Chamberlain <connor.chamberlain@canonical.com>\nCo-authored-by: Vladimir Grevtsev <vladimir.grevtsev@canonical.com>\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/574\nCloses-Bug: #1919338\nChange-Id: Id76a74cc6041b9c3364399254681138475f19935\n'}, {'number': 16, 'created': '2021-06-10 12:26:46.000000000', 'files': ['hooks/glance_utils.py', 'tests/tests.yaml', 'hooks/glance_contexts.py', 'unit_tests/test_glance_contexts.py', 'config.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/a6dc972b098587aee1d7b0d6769bb95530ca81e9', 'message': 'Allow enabling S3 object storage backend\n\nS3 backend has been available (again) since Ussuri in the upstream\nGlance. We will enable the backend with config options for an external\nS3 storage information.\n\nCo-authored-by: Connor Chamberlain <connor.chamberlain@canonical.com>\nCo-authored-by: Vladimir Grevtsev <vladimir.grevtsev@canonical.com>\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/574\nCloses-Bug: #1919338\nChange-Id: Id76a74cc6041b9c3364399254681138475f19935\n'}]",30,781748,a6dc972b098587aee1d7b0d6769bb95530ca81e9,123,8,16,33192,,,0,"Allow enabling S3 object storage backend

S3 backend has been available (again) since Ussuri in the upstream
Glance. We will enable the backend with config options for an external
S3 storage information.

Co-authored-by: Connor Chamberlain <connor.chamberlain@canonical.com>
Co-authored-by: Vladimir Grevtsev <vladimir.grevtsev@canonical.com>
func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/574
Closes-Bug: #1919338
Change-Id: Id76a74cc6041b9c3364399254681138475f19935
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/48/781748/15 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/glance_contexts.py', 'templates/queens/glance-api.conf', 'unit_tests/test_glance_contexts.py', 'config.yaml']",4,4e868ca2ae45ad726d46ca33389f61245f030301,bug/1919338, s3-store-host: type: string default: description: | Location where S3 server is listening. Can be a DNS name or an IP address. s3-store-access-key: type: string default: description: | Access key for authenticating the S3 storage server. s3-store-secret-key: type: string default: description: | Secret key for authenticating the S3 storage server. s3-store-bucket: type: string default: description: | Bucket name where the glance images will be stored in the S3 server.,,90,0
openstack%2Fpuppet-horizon~stable%2Fwallaby~I081af1d07baa940fe6b89d8934a95645e205e5ef,openstack/puppet-horizon,stable/wallaby,I081af1d07baa940fe6b89d8934a95645e205e5ef,DNM: Check failing test,ABANDONED,2021-06-10 14:58:49.000000000,2021-06-11 02:01:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-10 14:58:49.000000000', 'files': ['spec/classes/horizon_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/b2243f687260684d9296320e8f8ae0648ebf98d5', 'message': 'DNM: Check failing test\n\nChange-Id: I081af1d07baa940fe6b89d8934a95645e205e5ef\n'}]",0,795827,b2243f687260684d9296320e8f8ae0648ebf98d5,3,1,1,9816,,,0,"DNM: Check failing test

Change-Id: I081af1d07baa940fe6b89d8934a95645e205e5ef
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/27/795827/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/horizon_init_spec.rb'],1,b2243f687260684d9296320e8f8ae0648ebf98d5,puppet-horizon-dashboards," "" 'enable_user_pass': True"","," "" 'enable_user_pass': False"",",1,1
openstack%2Fovn-octavia-provider~master~Ied81b55776d5bc004c6a9f156cb3f8724f3a706c,openstack/ovn-octavia-provider,master,Ied81b55776d5bc004c6a9f156cb3f8724f3a706c,Add log for request_handler events,MERGED,2021-05-27 19:40:49.000000000,2021-06-11 01:58:13.000000000,2021-06-11 01:57:04.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-27 19:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/0906b852f4f9eb49e80f670f26be8e76671d5bde', 'message': 'Add log for request_handler events\n\nTrivialfix\n\nCloses-Bug: #1929863\nChange-Id: Ied81b55776d5bc004c6a9f156cb3f8724f3a706c\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}, {'number': 2, 'created': '2021-05-28 00:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/ad6127c8869fcf625efdb4278649c261f8e88b5c', 'message': 'Add log for request_handler events\n\nTrivialfix\n\nCloses-Bug: #1929863\nChange-Id: Ied81b55776d5bc004c6a9f156cb3f8724f3a706c\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}, {'number': 3, 'created': '2021-06-02 18:22:51.000000000', 'files': ['ovn_octavia_provider/helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/85795f88ef34b19a4065a741d8303dac6a938ea9', 'message': 'Add log for request_handler events\n\nTrivialfix\n\nCloses-Bug: #1929863\nChange-Id: Ied81b55776d5bc004c6a9f156cb3f8724f3a706c\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}]",2,793496,85795f88ef34b19a4065a741d8303dac6a938ea9,34,4,3,11952,,,0,"Add log for request_handler events

Trivialfix

Closes-Bug: #1929863
Change-Id: Ied81b55776d5bc004c6a9f156cb3f8724f3a706c
Signed-off-by: Flavio Fernandes <flaviof@redhat.com>
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/96/793496/1 && git format-patch -1 --stdout FETCH_HEAD,['ovn_octavia_provider/helper.py'],1,0906b852f4f9eb49e80f670f26be8e76671d5bde,," LOG.debug(""now handling req %(req)s with info %(info)s"", {'req': request_type, 'info': request['info']})",,2,0
openstack%2Fmasakari~master~I54523c33039d4e5522df85b51267c5f4136fe783,openstack/masakari,master,I54523c33039d4e5522df85b51267c5f4136fe783,Fix host reserved json examples,ABANDONED,2021-06-02 01:18:19.000000000,2021-06-11 01:37:24.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32304}]","[{'number': 1, 'created': '2021-06-02 01:18:19.000000000', 'files': ['doc/api_samples/hosts/host-update-req.json'], 'web_link': 'https://opendev.org/openstack/masakari/commit/3d6a3dbe6655d08a45b67ae41df6ac215cbca7c0', 'message': 'Fix host reserved json examples\n\nJSON requires lowercase booleans.\n\nChange-Id: I54523c33039d4e5522df85b51267c5f4136fe783\n'}]",0,794073,3d6a3dbe6655d08a45b67ae41df6ac215cbca7c0,6,3,1,32435,,,0,"Fix host reserved json examples

JSON requires lowercase booleans.

Change-Id: I54523c33039d4e5522df85b51267c5f4136fe783
",git fetch https://review.opendev.org/openstack/masakari refs/changes/73/794073/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/api_samples/hosts/host-update-req.json'],1,3d6a3dbe6655d08a45b67ae41df6ac215cbca7c0,fix-hosts-reserved-json-examples," ""reserved"": ""true"""," ""reserved"": ""True""",1,1
openstack%2Fneutron~master~I9a6798a6b0438149af8190dc90c70f79735bb01d,openstack/neutron,master,I9a6798a6b0438149af8190dc90c70f79735bb01d,Bump os-ken to 2.0.0,MERGED,2021-05-31 08:15:07.000000000,2021-06-11 01:19:52.000000000,2021-06-11 01:15:48.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-31 08:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/16058271247390141ab446bad1827c356382c6f0', 'message': 'Bump os-ken to 2.0.0\n\nThat will avoid problems with eventlet 0.31.0 version, as seen during\nthe requirements upgrade.\n\nChange-Id: I9a6798a6b0438149af8190dc90c70f79735bb01d\nCloses-Bug: #1930195\n'}, {'number': 2, 'created': '2021-06-03 15:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/da46389be840ef860547fac5c0ea05c48ccbc938', 'message': 'Bump os-ken to 2.0.0\n\nThat will avoid problems with eventlet 0.31.0 version, as seen during\nthe requirements upgrade.\n\nChange-Id: I9a6798a6b0438149af8190dc90c70f79735bb01d\nCloses-Bug: #1930195\n'}, {'number': 3, 'created': '2021-06-10 14:45:58.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e3bb98c7e7ea0dab4a81dd3dbf50e4d50ddc66ee', 'message': 'Bump os-ken to 2.0.0\n\nThat will avoid problems with eventlet 0.31.0 version, as seen during\nthe requirements upgrade.\n\nChange-Id: I9a6798a6b0438149af8190dc90c70f79735bb01d\nCloses-Bug: #1930195\n'}]",0,793735,e3bb98c7e7ea0dab4a81dd3dbf50e4d50ddc66ee,52,4,3,16688,,,0,"Bump os-ken to 2.0.0

That will avoid problems with eventlet 0.31.0 version, as seen during
the requirements upgrade.

Change-Id: I9a6798a6b0438149af8190dc90c70f79735bb01d
Closes-Bug: #1930195
",git fetch https://review.opendev.org/openstack/neutron refs/changes/35/793735/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,16058271247390141ab446bad1827c356382c6f0,bug/1930195,os-ken==2.0.0,os-ken==0.3.0,2,2
openstack%2Fdevstack~master~I726c532e96ca434520838ae8a35d5b88b6dd337b,openstack/devstack,master,I726c532e96ca434520838ae8a35d5b88b6dd337b,[OVN] Set up routing on public bridge like OVS did,MERGED,2021-06-08 16:28:29.000000000,2021-06-11 01:18:55.000000000,2021-06-11 01:16:03.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8064}, {'_account_id': 8556}, {'_account_id': 9542}, {'_account_id': 11952}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 29244}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-08 16:28:29.000000000', 'files': ['lib/neutron_plugins/services/l3', 'lib/neutron_plugins/ovn_agent'], 'web_link': 'https://opendev.org/openstack/devstack/commit/95298788085de38342e789bf10c35849c7117dfc', 'message': '[OVN] Set up routing on public bridge like OVS did\n\nThis fixes various reported and unreported issues with the new\nbehaviour.\n\nRemoves code repetition as well to pay off some technical debt.\n\nCloses-Bug: #1930360\nChange-Id: I726c532e96ca434520838ae8a35d5b88b6dd337b\n'}]",14,795371,95298788085de38342e789bf10c35849c7117dfc,26,12,1,30491,,,0,"[OVN] Set up routing on public bridge like OVS did

This fixes various reported and unreported issues with the new
behaviour.

Removes code repetition as well to pay off some technical debt.

Closes-Bug: #1930360
Change-Id: I726c532e96ca434520838ae8a35d5b88b6dd337b
",git fetch https://review.opendev.org/openstack/devstack refs/changes/71/795371/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/neutron_plugins/services/l3', 'lib/neutron_plugins/ovn_agent']",2,95298788085de38342e789bf10c35849c7117dfc,bug/1930360," sudo ovs-vsctl --may-exist add-br $PUBLIC_BRIDGE -- set bridge $PUBLIC_BRIDGE protocols=OpenFlow13,OpenFlow15 sudo ovs-vsctl set open . external-ids:ovn-bridge-mappings=$PHYSICAL_NETWORK:$PUBLIC_BRIDGE","function get_ext_gw_interface { # Get ext_gw_interface depending on value of Q_USE_PUBLIC_VETH # This function is copied directly from the devstack neutron-legacy script if [[ ""$Q_USE_PUBLIC_VETH"" == ""True"" ]]; then echo $Q_PUBLIC_VETH_EX else # Disable in-band as we are going to use local port # to communicate with VMs sudo ovs-vsctl set Bridge $PUBLIC_BRIDGE \ other_config:disable-in-band=true echo $PUBLIC_BRIDGE fi } # This logic is based on the devstack neutron-legacy _neutron_configure_router_v4 and _v6 local ext_gw_ifc ext_gw_ifc=$(get_ext_gw_interface) sudo ovs-vsctl --may-exist add-br $ext_gw_ifc -- set bridge $ext_gw_ifc protocols=OpenFlow13,OpenFlow15 sudo ovs-vsctl set open . external-ids:ovn-bridge-mappings=$PHYSICAL_NETWORK:$ext_gw_ifc if [ -n ""$FLOATING_RANGE"" ]; then local cidr_len=${FLOATING_RANGE#*/} sudo ip addr replace $PUBLIC_NETWORK_GATEWAY/$cidr_len dev $ext_gw_ifc fi # Ensure IPv6 RAs are accepted on the interface with the default route. # This is needed for neutron-based devstack clouds to work in # IPv6-only clouds in the gate. Please do not remove this without # talking to folks in Infra. This fix is based on a devstack fix for # neutron L3 agent: https://review.openstack.org/#/c/359490/. default_route_dev=$(ip route | grep ^default | awk '{print $5}') sudo sysctl -w net.ipv6.conf.$default_route_dev.accept_ra=2 sudo sysctl -w net.ipv6.conf.all.forwarding=1 if [ -n ""$IPV6_PUBLIC_RANGE"" ]; then local ipv6_cidr_len=${IPV6_PUBLIC_RANGE#*/} sudo ip -6 addr replace $IPV6_PUBLIC_NETWORK_GATEWAY/$ipv6_cidr_len dev $ext_gw_ifc fi sudo ip link set $ext_gw_ifc up",5,43
openstack%2Fdevstack-gate~master~I5063de76d531d9b017cbee70a17e6ca945848acc,openstack/devstack-gate,master,I5063de76d531d9b017cbee70a17e6ca945848acc,Add deprecation warning in README file,MERGED,2021-06-08 17:28:11.000000000,2021-06-11 01:16:26.000000000,2021-06-11 01:16:26.000000000,"[{'_account_id': 4146}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-06-08 17:28:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/27d4cd89d3883cd41af3d80e000fe8c0f0f17098', 'message': 'Add deprecation warning in README file\n\nWe are officially deprecating the devstack-gate for\nmaster (Xena onwards) but continue supporting the\nold stable branch until stable/wallaby.\n\nChange-Id: I5063de76d531d9b017cbee70a17e6ca945848acc\n'}, {'number': 2, 'created': '2021-06-09 08:09:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/78057b74e05d0a48a902cd2dd9bcd11c6e9282cf', 'message': 'Add deprecation warning in README file\n\nWe are officially deprecating the devstack-gate for\nmaster (Xena onwards) but continue supporting the\nold stable branch until stable/wallaby.\n\nChange-Id: I5063de76d531d9b017cbee70a17e6ca945848acc\n'}, {'number': 3, 'created': '2021-06-10 16:15:26.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/67487fbffaf286a9b29ff628898576bf360bd2fe', 'message': 'Add deprecation warning in README file\n\nWe are officially deprecating the devstack-gate for\nmaster (Xena onwards) but continue supporting the\nold stable branch until stable/wallaby.\n\nChange-Id: I5063de76d531d9b017cbee70a17e6ca945848acc\n'}]",1,795383,67487fbffaf286a9b29ff628898576bf360bd2fe,19,4,3,8556,,,0,"Add deprecation warning in README file

We are officially deprecating the devstack-gate for
master (Xena onwards) but continue supporting the
old stable branch until stable/wallaby.

Change-Id: I5063de76d531d9b017cbee70a17e6ca945848acc
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/83/795383/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,27d4cd89d3883cd41af3d80e000fe8c0f0f17098,deprecate-devstack-gate,".. warning:: For very long, we recommended switching your CI jobs to `Zuulv3 native jobs`__. In the Xena cycle, we are officially deprecating it. Devstack Gate will support only stable branches until stable/wallaby. From the Xena release onwards, we no longer guarantee it to work. If it fails, we strongly recommend to switch your CI jobs to Zuulv3 native or fork this repo to fix it for your CI. .. __: https://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html ",,11,0
openstack%2Fdevstack-gate~master~Ia325732b6ea10d01416121a4e63f6479b8795abc,openstack/devstack-gate,master,Ia325732b6ea10d01416121a4e63f6479b8795abc,Run hooks job in gate,MERGED,2021-06-10 16:15:26.000000000,2021-06-11 01:16:21.000000000,2021-06-11 01:16:21.000000000,"[{'_account_id': 4146}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-10 16:15:26.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/2315ee2e1ca0a12813d21a59968764cfb045a469', 'message': 'Run hooks job in gate\n\nThis will ensure we have a test to run when only rst files update.\n\nChange-Id: Ia325732b6ea10d01416121a4e63f6479b8795abc\n'}]",0,795843,2315ee2e1ca0a12813d21a59968764cfb045a469,7,3,1,4146,,,0,"Run hooks job in gate

This will ensure we have a test to run when only rst files update.

Change-Id: Ia325732b6ea10d01416121a4e63f6479b8795abc
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/43/795843/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2315ee2e1ca0a12813d21a59968764cfb045a469,deprecate-devstack-gate, - devstack-gate-hooks,,1,0
openstack%2Ftripleo-upgrade~master~I18bea0f88926f47fe2945bd8c127d6a372efa52f,openstack/tripleo-upgrade,master,I18bea0f88926f47fe2945bd8c127d6a372efa52f,Add validations_result when running validations.,MERGED,2021-06-08 12:09:00.000000000,2021-06-11 01:14:13.000000000,2021-06-11 01:14:13.000000000,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 31245}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-06-08 12:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/89e5a9dddc698ce34578d4859664e0424a73065d', 'message': 'Add validations_result when running validations.\n\nWhen merging [0], it was missed part of the solution submitted in [1]\nremoving the register: validations_result. As a consequence, if the\nvalidations command fails then Ansible will show an error saying that\nvalidations_result variable does not exist. This patch adds back\nthe parameter.\n\n[0] - I47c1a2d0a8cc6618444b6301232079f69c5d8d6e\n[1] - I7bac98032b84fadb6e42f8d790db3bba881dbc7b\n\nChange-Id: I18bea0f88926f47fe2945bd8c127d6a372efa52f\n'}, {'number': 2, 'created': '2021-06-08 13:53:07.000000000', 'files': ['tasks/common/validation_group_run.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/bcdd0063749b2fbc74b131b389d760d1a630b420', 'message': 'Add validations_result when running validations.\n\nWhen merging [0], it was missed part of the solution submitted in [1]\nremoving the register: validations_result. As a consequence, if the\nvalidations command fails then Ansible will show an error saying that\nvalidations_result variable does not exist. This patch adds back\nthe parameter.\nAlso, it corrects the case when the validations_filtered parameter\ndoes not contain any validation. In that case, the validation group\nwill be skipped.\n\n[0] - I47c1a2d0a8cc6618444b6301232079f69c5d8d6e\n[1] - I7bac98032b84fadb6e42f8d790db3bba881dbc7b\n\nChange-Id: I18bea0f88926f47fe2945bd8c127d6a372efa52f\n'}]",0,795307,bcdd0063749b2fbc74b131b389d760d1a630b420,15,6,2,26343,,,0,"Add validations_result when running validations.

When merging [0], it was missed part of the solution submitted in [1]
removing the register: validations_result. As a consequence, if the
validations command fails then Ansible will show an error saying that
validations_result variable does not exist. This patch adds back
the parameter.
Also, it corrects the case when the validations_filtered parameter
does not contain any validation. In that case, the validation group
will be skipped.

[0] - I47c1a2d0a8cc6618444b6301232079f69c5d8d6e
[1] - I7bac98032b84fadb6e42f8d790db3bba881dbc7b

Change-Id: I18bea0f88926f47fe2945bd8c127d6a372efa52f
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/07/795307/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/validation_group_run.yaml'],1,89e5a9dddc698ce34578d4859664e0424a73065d,, register: validations_result,,1,0
openstack%2Fswift~master~I3cea64a3d01b3a6365054340e165ddfca02df6c4,openstack/swift,master,I3cea64a3d01b3a6365054340e165ddfca02df6c4,Preserve query params in tempurl,NEW,2016-06-23 12:57:17.000000000,2021-06-11 00:55:34.000000000,,"[{'_account_id': 3}, {'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 8871}, {'_account_id': 9625}, {'_account_id': 13052}, {'_account_id': 13852}, {'_account_id': 15343}, {'_account_id': 20764}, {'_account_id': 22348}]","[{'number': 1, 'created': '2016-06-23 12:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7d427a2130b3f7c983ab631c9d6b8fff38ed9ec9', 'message': ""Preserve query params in tempurl\n\nBefore this commit, the tempurl middleware only preserved the\nquery parameters 'temp_url_sig', 'temp_url_expires' and\n'filename'. With this behaviour, it is not possible to PUT\na manifest of an SLO, because this requires the query param\n'multipart-manifest=put'.\n\nWith this commit, we allow the user to specify query params\nin a white-space separated list. These query params are going\nto be preserved through the proxy-server wsgi pipeline.\n\nChange-Id: I3cea64a3d01b3a6365054340e165ddfca02df6c4\n""}, {'number': 2, 'created': '2017-06-01 09:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b4cb7a4baad7492f472c952628ddad28e3d29e03', 'message': ""Preserve query params in tempurl\n\nBefore this commit, the tempurl middleware only preserved the\nquery parameters 'temp_url_sig', 'temp_url_expires' and\n'filename'. With this behaviour, it is not possible to PUT\na manifest of an SLO, because this requires the query param\n'multipart-manifest=put'.\n\nWith this commit, we allow the user to specify query params\nin a white-space separated list. These query params are going\nto be preserved through the proxy-server wsgi pipeline.\n\nChange-Id: I3cea64a3d01b3a6365054340e165ddfca02df6c4\n""}, {'number': 3, 'created': '2019-02-14 21:09:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7877ee55c100d80025052a3cc6e2d2802343cd23', 'message': ""Preserve query params in tempurl\n\nBefore this commit, the tempurl middleware only preserved the\nquery parameters 'temp_url_sig', 'temp_url_expires' and\n'filename'. With this behaviour, it is not possible to PUT\na manifest of an SLO, because this requires the query param\n'multipart-manifest=put'.\n\nWith this commit, we allow the user to specify query params\nin a white-space separated list. These query params are going\nto be preserved through the proxy-server wsgi pipeline.\n\nChange-Id: I3cea64a3d01b3a6365054340e165ddfca02df6c4\n""}, {'number': 4, 'created': '2019-02-16 00:00:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/227af40ade3862054b6bf8f38a2a1ad756777761', 'message': ""Preserve query params in tempurl\n\nBefore this commit, the tempurl middleware only preserved the\nquery parameters 'temp_url_sig', 'temp_url_expires' and\n'filename'. With this behaviour, it is not possible to PUT\na manifest of an SLO, because this requires the query param\n'multipart-manifest=put'.\n\nWith this commit, we allow the user to specify query params\nin a white-space separated list. These query params are going\nto be preserved through the proxy-server wsgi pipeline.\n\nChange-Id: I3cea64a3d01b3a6365054340e165ddfca02df6c4\n""}, {'number': 5, 'created': '2020-02-20 06:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fa5cea0379e38766712aad110fb5cb8b98ee9749', 'message': ""Preserve query params in tempurl\n\nBefore this commit, the tempurl middleware only preserved the\nquery parameters 'temp_url_sig', 'temp_url_expires' and\n'filename'. With this behaviour, it is not possible to PUT\na manifest of an SLO, because this requires the query param\n'multipart-manifest=put'.\n\nWith this commit, we allow the user to specify query params\nin a white-space separated list. These query params are going\nto be preserved through the proxy-server wsgi pipeline.\n\nChange-Id: I3cea64a3d01b3a6365054340e165ddfca02df6c4\nCloses-Bug: #1553714\n""}, {'number': 6, 'created': '2020-02-20 17:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/64f6b68e6eb34c28c326dc79ef742f4bf46abfef', 'message': ""Preserve query params in tempurl\n\nBefore this commit, the tempurl middleware only preserved the\nquery parameters 'temp_url_sig', 'temp_url_expires' and\n'filename'. With this behaviour, it is not possible to PUT\na manifest of an SLO, because this requires the query param\n'multipart-manifest=put'.\n\nWith this commit, we allow the user to specify query params\nin a white-space separated list. These query params are going\nto be preserved through the proxy-server wsgi pipeline.\n\nChange-Id: I3cea64a3d01b3a6365054340e165ddfca02df6c4\nCloses-Bug: #1553714\n""}, {'number': 7, 'created': '2020-03-18 14:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8df328bfa02d421ea70fbaf7da92d6c8949cb7f2', 'message': ""Preserve query params in tempurl\n\nBefore this commit, the tempurl middleware only preserved the\nquery parameters 'temp_url_sig', 'temp_url_expires' and\n'filename'. With this behaviour, it is not possible to PUT\na manifest of an SLO, because this requires the query param\n'multipart-manifest=put'.\n\nWith this commit, we allow the user to specify query params\nin a white-space separated list. These query params are going\nto be preserved through the proxy-server wsgi pipeline.\n\nChange-Id: I3cea64a3d01b3a6365054340e165ddfca02df6c4\nCloses-Bug: #1553714\n""}, {'number': 8, 'created': '2021-06-10 23:57:13.000000000', 'files': ['swift/common/middleware/tempurl.py', 'etc/proxy-server.conf-sample', 'doc/manpages/proxy-server.conf.5', 'test/unit/common/middleware/test_tempurl.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/feaf6563f80149caaf1f978b063999eedf58a0fe', 'message': ""Preserve query params in tempurl\n\nBefore this commit, the tempurl middleware only preserved the\nquery parameters 'temp_url_sig', 'temp_url_expires' and\n'filename'. With this behaviour, it is not possible to PUT\na manifest of an SLO, because this requires the query param\n'multipart-manifest=put'.\n\nWith this commit, we allow the user to specify query params\nin a white-space separated list. These query params are going\nto be preserved through the proxy-server wsgi pipeline.\n\nChange-Id: I3cea64a3d01b3a6365054340e165ddfca02df6c4\nCloses-Bug: #1553714\n""}]",3,333331,feaf6563f80149caaf1f978b063999eedf58a0fe,33,10,8,17245,,,0,"Preserve query params in tempurl

Before this commit, the tempurl middleware only preserved the
query parameters 'temp_url_sig', 'temp_url_expires' and
'filename'. With this behaviour, it is not possible to PUT
a manifest of an SLO, because this requires the query param
'multipart-manifest=put'.

With this commit, we allow the user to specify query params
in a white-space separated list. These query params are going
to be preserved through the proxy-server wsgi pipeline.

Change-Id: I3cea64a3d01b3a6365054340e165ddfca02df6c4
Closes-Bug: #1553714
",git fetch https://review.opendev.org/openstack/swift refs/changes/31/333331/8 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/tempurl.py', 'test/unit/common/middleware/test_tempurl.py']",2,7d427a2130b3f7c983ab631c9d6b8fff38ed9ec9,tempurl-queryparam-conservation,"from six.moves.urllib.parse import parse_qs def test_get_query_params_conservation(self): self.tempurl = tempurl.filter_factory({ 'allowed_query_params': 'p p3'})(self.auth) method = 'GET' expires = int(time() + 86400) path = '/v1/a/c/o' key = 'abc' hmac_body = '%s\n%s\n%s' % (method, expires, path) sig = hmac.new(key, hmac_body, sha1).hexdigest() req = self._make_request( path, keys=[key], environ={'QUERY_STRING': ('temp_url_sig=%s&temp_url_expires=%s&p=v' '&p2=v2&p=v3&p3' % (sig, expires))}) resp = req.get_response(self.tempurl) self.assertEqual(resp.status_int, 404) env = self.app.request.environ qs = parse_qs(env.get('QUERY_STRING', ''), keep_blank_values=True) self.assertIn('p', qs) self.assertEqual(qs['p'], ['v', 'v3']) self.assertNotIn('p2', qs) self.assertIn('p3', qs) self.assertEqual(qs['p3'], ['']) ",,38,1
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I4423fcbd62b09ef323590fc740dd29e1a17777f5,openstack/tripleo-heat-templates,stable/victoria,I4423fcbd62b09ef323590fc740dd29e1a17777f5,Fix cinder's cephx keyring file permissions,MERGED,2021-06-10 01:49:49.000000000,2021-06-11 00:00:47.000000000,2021-06-11 00:00:47.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-06-10 01:49:49.000000000', 'files': ['deployment/cinder/cinder-common-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bc39ac89d2242bfdce9094e9cb22ee63d293ce28', 'message': ""Fix cinder's cephx keyring file permissions\n\nThis patch updates cinder's kolla permissions so that cinder can\naccess any cephx keyring associated with CephExternalMultiConfig\nceph clusters. The new approach parses the cluster names out of the\nCephExternalMultiConfig array, and uses a wildcard to grant access\nto all keys (regardless of the key name) defined for each cluster.\nThere is no risk of the wildcard granting improper access to a\nprivileged key (e.g. the admin key), because CephExternalMultiConfig\ndoesn't include privileged keys.\n\nThis patch replaces similar (but more restrictive) code added in\nI73af5b868de629870a35d38f8436e7025aae791e. That patch allowed cinder\nto access cephx keyrings associated with a new CinderRbdMultiConfig\nparameter, but it didn't cover all potential use cases. For example,\nin a DCN/Edge deployment, cinder services running at the edge need\naccess to the central site's client key in order to perform operations\nlike offline volume migration.\n\nNOTE (pre-Wallaby):\nThe >= Wallaby versions of this patch tweaks code that was introduced\nin Wallaby by I73af5b868de629870a35d38f8436e7025aae791e. Pre-Wallaby\nversions of this patch _adds_ the tweaked code.\n\nCloses-Bug: #1930620\nResolves: rhbz#1962304\nChange-Id: I4423fcbd62b09ef323590fc740dd29e1a17777f5\n(cherry picked from commit f1cd8006fec9f3f68cee21fc2139fb985b0b1fac)\n(cherry picked from commit 74e3884b4a21a27262c48b4df8f0e369a5486f87)\nConflicts:\n\tdeployment/cinder/cinder-common-container-puppet.yaml\n""}]",0,795719,bc39ac89d2242bfdce9094e9cb22ee63d293ce28,8,5,1,21129,,,0,"Fix cinder's cephx keyring file permissions

This patch updates cinder's kolla permissions so that cinder can
access any cephx keyring associated with CephExternalMultiConfig
ceph clusters. The new approach parses the cluster names out of the
CephExternalMultiConfig array, and uses a wildcard to grant access
to all keys (regardless of the key name) defined for each cluster.
There is no risk of the wildcard granting improper access to a
privileged key (e.g. the admin key), because CephExternalMultiConfig
doesn't include privileged keys.

This patch replaces similar (but more restrictive) code added in
I73af5b868de629870a35d38f8436e7025aae791e. That patch allowed cinder
to access cephx keyrings associated with a new CinderRbdMultiConfig
parameter, but it didn't cover all potential use cases. For example,
in a DCN/Edge deployment, cinder services running at the edge need
access to the central site's client key in order to perform operations
like offline volume migration.

NOTE (pre-Wallaby):
The >= Wallaby versions of this patch tweaks code that was introduced
in Wallaby by I73af5b868de629870a35d38f8436e7025aae791e. Pre-Wallaby
versions of this patch _adds_ the tweaked code.

Closes-Bug: #1930620
Resolves: rhbz#1962304
Change-Id: I4423fcbd62b09ef323590fc740dd29e1a17777f5
(cherry picked from commit f1cd8006fec9f3f68cee21fc2139fb985b0b1fac)
(cherry picked from commit 74e3884b4a21a27262c48b4df8f0e369a5486f87)
Conflicts:
	deployment/cinder/cinder-common-container-puppet.yaml
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/19/795719/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cinder/cinder-common-container-puppet.yaml'],1,bc39ac89d2242bfdce9094e9cb22ee63d293ce28,cinder-cephx-perms," CephExternalMultiConfig: type: json hidden: true description: | List of maps describing extra overrides which will be applied when configuring extra external Ceph clusters. If this list is non-empty, ceph-ansible will run an extra count(list) times using the same parameters as the first run except each parameter within each map will override the defaults. If the following were used, the second run would configure the overcloud to also use the ceph2 cluster with all the previous parameters except /etc/ceph/ceph2.conf would have a mon_host entry containing the value of external_cluster_mon_ips below, and not the default CephExternalMonHost. Subsequent ceph-ansible runs are restricted to just ceph clients. CephExternalMultiConfig may not be used to deploy additional internal Ceph clusters within one Heat stack. The map for each list should contain not tripleo-heat-template parameters but ceph-ansible parameters. - cluster: 'ceph2' fsid: 'e2cba068-5f14-4b0f-b047-acf375c0004a' external_cluster_mon_ips: '172.18.0.5,172.18.0.6,172.18.0.7' keys: - name: ""client.openstack"" caps: mgr: ""allow *"" mon: ""profile rbd"" osd: ""osd: profile rbd pool=volumes, profile rbd pool=backups, profile rbd pool=vms, profile rbd pool=images"" key: ""AQCwmeRcAAAAABAA6SQU/bGqFjlfLro5KxrB1Q=="" mode: ""0600"" dashboard_enabled: false default: [] list_concat: - - path: /var/log/cinder owner: cinder:cinder recurse: true - path: str_replace: template: /etc/ceph/CLUSTER.client.USER.keyring params: CLUSTER: {get_param: CephClusterName} USER: {get_param: CephClientUserName} owner: cinder:cinder perm: '0600' - path: /etc/pki/tls/certs/etcd.crt owner: cinder:cinder - path: /etc/pki/tls/private/etcd.key owner: cinder:cinder - repeat: template: path: /etc/ceph/<%cluster%>.client.*.keyring owner: cinder:cinder perm: '0600' for_each: <%cluster%>: yaql: expression: $.data.multiconfig.select($.cluster) data: multiconfig: {get_param: CephExternalMultiConfig}", - path: /var/log/cinder owner: cinder:cinder recurse: true - path: str_replace: template: /etc/ceph/CLUSTER.client.USER.keyring params: CLUSTER: {get_param: CephClusterName} USER: {get_param: CephClientUserName} owner: cinder:cinder perm: '0600' - path: /etc/pki/tls/certs/etcd.crt owner: cinder:cinder - path: /etc/pki/tls/private/etcd.key owner: cinder:cinder,56,15
openstack%2Fvitrage~stable%2Fussuri~I9f376ec964c59def285825b6dae26cdb4b282c83,openstack/vitrage,stable/ussuri,I9f376ec964c59def285825b6dae26cdb4b282c83,DNM: testing depends-on,ABANDONED,2021-06-09 22:41:22.000000000,2021-06-10 23:07:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-09 22:41:22.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/23dafb39009db86a0a2b70ca2c242319ca3328cf', 'message': 'DNM: testing depends-on\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/795162\nChange-Id: I9f376ec964c59def285825b6dae26cdb4b282c83\n'}]",0,795708,23dafb39009db86a0a2b70ca2c242319ca3328cf,8,1,1,8556,,,0,"DNM: testing depends-on

Depends-On: https://review.opendev.org/c/openstack/tempest/+/795162
Change-Id: I9f376ec964c59def285825b6dae26cdb4b282c83
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/08/795708/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,23dafb39009db86a0a2b70ca2c242319ca3328cf,move-verify-ipv6-only-deployments,#testing tempest role moving to devstack,,1,0
openstack%2Ftripleo-ci~master~If2af76104d171082faaf5ff03b156c775bd0f092,openstack/tripleo-ci,master,If2af76104d171082faaf5ff03b156c775bd0f092,Added exclude_ppc_containers_list,MERGED,2021-05-24 07:37:46.000000000,2021-06-10 22:59:54.000000000,2021-06-10 22:59:54.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-05-24 07:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/238ec4579ed9f586def441bda7172b9321a128c0', 'message': '[WIP] Added exclude_ppc_containers_list\n\nChange-Id: If2af76104d171082faaf5ff03b156c775bd0f092\n'}, {'number': 2, 'created': '2021-06-10 11:15:11.000000000', 'files': ['roles/build-containers/vars/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a7a194d37917870f56090939043ac0294fde03d7', 'message': 'Added exclude_ppc_containers_list\n\nChange-Id: If2af76104d171082faaf5ff03b156c775bd0f092\n'}]",0,792782,a7a194d37917870f56090939043ac0294fde03d7,10,8,2,20182,,,0,"Added exclude_ppc_containers_list

Change-Id: If2af76104d171082faaf5ff03b156c775bd0f092
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/82/792782/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-containers/vars/main.yaml'],1,238ec4579ed9f586def441bda7172b9321a128c0,ppc_exclude_containers_list,exclude_ppc_containers: master: &exclude_ppc_master_containers - ironic-pxe - neutron-mlnx-agent,,4,0
openstack%2Fopenstack-helm-infra~master~Ia01fc793d090a7d1cb97e2fd7dacaaa6edbad8d0,openstack/openstack-helm-infra,master,Ia01fc793d090a7d1cb97e2fd7dacaaa6edbad8d0,rabbitmq: Add TLS support to helm test,MERGED,2021-06-10 21:10:15.000000000,2021-06-10 22:57:41.000000000,2021-06-10 22:56:29.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}]","[{'number': 1, 'created': '2021-06-10 21:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/19328a414c9a32a04674ceb64941b8729d5573d6', 'message': 'rabbitmq: Add TLS support to helm test\n\nAdd http and https toggling to helm test for TLS\n\nChange-Id: Ia01fc793d090a7d1cb97e2fd7dacaaa6edbad8d0\n'}, {'number': 2, 'created': '2021-06-10 21:13:12.000000000', 'files': ['releasenotes/notes/rabbitmq.yaml', 'rabbitmq/Chart.yaml', 'rabbitmq/templates/pod-test.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5c8bd68e764b22122d6be4cbda04cfdc76223b23', 'message': 'rabbitmq: Add TLS support to helm test\n\nAdd http and https toggling to helm test for TLS\n\nChange-Id: Ia01fc793d090a7d1cb97e2fd7dacaaa6edbad8d0\n'}]",0,795899,5c8bd68e764b22122d6be4cbda04cfdc76223b23,9,3,2,30495,,,0,"rabbitmq: Add TLS support to helm test

Add http and https toggling to helm test for TLS

Change-Id: Ia01fc793d090a7d1cb97e2fd7dacaaa6edbad8d0
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/99/795899/2 && git format-patch -1 --stdout FETCH_HEAD,['rabbitmq/templates/pod-test.yaml'],1,19328a414c9a32a04674ceb64941b8729d5573d6,," {{- $protocol := ""http"" }} {{- if $envAll.Values.manifests.certificates }} {{- $protocol = ""https"" }} {{- end }} value: {{ tuple ""oslo_messaging"" ""internal"" ""user"" $protocol $envAll | include ""helm-toolkit.endpoints.authenticated_endpoint_uri_lookup"" | quote }}"," value: {{ tuple ""oslo_messaging"" ""internal"" ""user"" ""http"" $envAll | include ""helm-toolkit.endpoints.authenticated_endpoint_uri_lookup"" | quote }}",6,1
openstack%2Frequirements~master~Id4ada56fc8f31f840e3c70ef22fe4ecb51398f13,openstack/requirements,master,Id4ada56fc8f31f840e3c70ef22fe4ecb51398f13,update constraint for oslo.limit to new release 1.4.0,MERGED,2021-06-10 11:57:29.000000000,2021-06-10 22:57:08.000000000,2021-06-10 22:56:00.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-10 11:57:29.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f66bcc2fb50df7d9f93e212fdf6b2e48e8085fb5', 'message': 'update constraint for oslo.limit to new release 1.4.0\n\nmeta: version: 1.4.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I536a8d2dd41f5195aec0434b41d303bc6f6163b6\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: Id4ada56fc8f31f840e3c70ef22fe4ecb51398f13\n'}]",0,795766,f66bcc2fb50df7d9f93e212fdf6b2e48e8085fb5,17,3,1,11131,,,0,"update constraint for oslo.limit to new release 1.4.0

meta: version: 1.4.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I536a8d2dd41f5195aec0434b41d303bc6f6163b6
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Id4ada56fc8f31f840e3c70ef22fe4ecb51398f13
",git fetch https://review.opendev.org/openstack/requirements refs/changes/66/795766/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,f66bcc2fb50df7d9f93e212fdf6b2e48e8085fb5,new-release,oslo.limit===1.4.0,oslo.limit===1.3.0,1,1
openstack%2Fsushy~master~I22d0033691ee0ba34fca14ac14904e33342a584a,openstack/sushy,master,I22d0033691ee0ba34fca14ac14904e33342a584a,Fix incorrect formatting and a Python 3.10 failure,MERGED,2021-06-10 17:33:54.000000000,2021-06-10 22:11:09.000000000,2021-06-10 19:32:59.000000000,"[{'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-10 17:33:54.000000000', 'files': ['sushy/resources/registry/message_registry.py', 'sushy/tests/unit/test_connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/5b38ec591e2ea8df8f49fc956a2aecb7776a6656', 'message': 'Fix incorrect formatting and a Python 3.10 failure\n\nWhile testing on Python 3.10 two issues were spotted:\n1) Missing formatting specifiers in registry logging\n2) Reliance on the exact way HTTP status are converted to string\n\nFedora bug https://bugzilla.redhat.com/show_bug.cgi?id=1969148\n\nChange-Id: I22d0033691ee0ba34fca14ac14904e33342a584a\n'}]",0,795855,5b38ec591e2ea8df8f49fc956a2aecb7776a6656,11,3,1,10239,,,0,"Fix incorrect formatting and a Python 3.10 failure

While testing on Python 3.10 two issues were spotted:
1) Missing formatting specifiers in registry logging
2) Reliance on the exact way HTTP status are converted to string

Fedora bug https://bugzilla.redhat.com/show_bug.cgi?id=1969148

Change-Id: I22d0033691ee0ba34fca14ac14904e33342a584a
",git fetch https://review.opendev.org/openstack/sushy refs/changes/55/795855/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/resources/registry/message_registry.py', 'sushy/tests/unit/test_connector.py']",2,5b38ec591e2ea8df8f49fc956a2aecb7776a6656,py310, '%s. unknown error Extended information: ' 'none' % http_client.FORBIDDEN), 'HTTPStatus.FORBIDDEN. unknown error Extended information: ' 'none'),4,4
openstack%2Ftripleo-validations~master~If29759e8826d1ca97c558dac6204bc7926c056b7,openstack/tripleo-validations,master,If29759e8826d1ca97c558dac6204bc7926c056b7,Use and ownership info for the switch_vlans module,MERGED,2021-06-02 13:25:17.000000000,2021-06-10 21:56:21.000000000,2021-06-10 21:50:51.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-02 13:25:17.000000000', 'files': ['library/switch_vlans.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/746cd0d17de9d7915d47afc040f20e2528e25b42', 'message': 'Use and ownership info for the switch_vlans module\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If29759e8826d1ca97c558dac6204bc7926c056b7\n'}]",0,794222,746cd0d17de9d7915d47afc040f20e2528e25b42,12,6,1,32926,,,0,"Use and ownership info for the switch_vlans module

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: If29759e8826d1ca97c558dac6204bc7926c056b7
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/22/794222/1 && git format-patch -1 --stdout FETCH_HEAD,['library/switch_vlans.py'],1,746cd0d17de9d7915d47afc040f20e2528e25b42,switch_vlans/use,"""""""switch_vlans module Used by the switch_vlans validation. """""" - Used by the switch_vlans validation - Owned by the DF Networking",,5,1
openstack%2Fvalidations-common~master~Id1d39fd907eb154a601da68e9f75756cccfbf91c,openstack/validations-common,master,Id1d39fd907eb154a601da68e9f75756cccfbf91c,New location of the default log directory.,MERGED,2021-05-25 15:03:39.000000000,2021-06-10 21:55:42.000000000,2021-06-10 21:51:39.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-05-25 15:03:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/f19c4d8f527d5252c33043dd9e5f0855fb8c97e8', 'message': 'New location of the default log directory.\n\nJson callback now expects the log directory to\nbe $HOME/validations. Just as defined in the validations libs.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/789174\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id1d39fd907eb154a601da68e9f75756cccfbf91c\n'}, {'number': 2, 'created': '2021-06-09 07:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/d861634fb2cb3c0d4495ef834bc9e74ab2663bd1', 'message': 'New location of the default log directory.\n\nJson callback now expects the log directory to\nbe $HOME/validations. Just as defined in the validations libs.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/795093\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id1d39fd907eb154a601da68e9f75756cccfbf91c\n'}, {'number': 3, 'created': '2021-06-09 12:31:46.000000000', 'files': ['validations_common/callback_plugins/validation_json.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/f07c8e73bbed4411830aedeadca36b0f0f270274', 'message': 'New location of the default log directory.\n\nJson callback now expects the log directory to\nbe $HOME/validations. Just as defined in the validations libs.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/795093\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id1d39fd907eb154a601da68e9f75756cccfbf91c\n'}]",4,792993,f07c8e73bbed4411830aedeadca36b0f0f270274,20,7,3,32926,,,0,"New location of the default log directory.

Json callback now expects the log directory to
be $HOME/validations. Just as defined in the validations libs.

Depends-On: https://review.opendev.org/c/openstack/validations-libs/+/795093

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Id1d39fd907eb154a601da68e9f75756cccfbf91c
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/93/792993/2 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/callback_plugins/validation_json.py'],1,f19c4d8f527d5252c33043dd9e5f0855fb8c97e8,logdirectory," stored in the selected validations logging directory or $HOME/validations by default.VALIDATIONS_LOG_DIR = os.path.join(os.environ.get('HOME'), 'validations')"," stored in /var/log/validationsVALIDATIONS_LOG_DIR = (os.getenv('VALIDATIONS_LOG_DIR') if os.getenv('VALIDATIONS_LOG_DIR') else ('/var/log/validations' if os.path.exists('/var/log/validations') and os.access('/var/log/validations', os.W_OK) else os.environ.get('PWD')))",3,7
openstack%2Fneutron~master~Ida3193acac2fa22bbfd4b18ef3a3bceafe46d3ec,openstack/neutron,master,Ida3193acac2fa22bbfd4b18ef3a3bceafe46d3ec,Mark fullstack test_l2_agent_restart as unstable,MERGED,2021-06-02 13:56:16.000000000,2021-06-10 21:55:40.000000000,2021-06-10 21:53:33.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-02 13:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c197a493c98fe2ec9cdfc7a0a0835c23e6a9b2bb', 'message': 'Mark fullstack test_l2_agent_restart as unstable\n\nWith linuxbridge agent the connectivity test fails often after l2 agent\nrestart, so mark it as unstable until the root cause is found.\n\nChange-Id: Ida3193acac2fa22bbfd4b18ef3a3bceafe46d3ec\nRelated-Bug: #1928764\n'}, {'number': 2, 'created': '2021-06-03 16:07:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bf51393e1b9612329b8c4731e2a9e7b53169e52e', 'message': 'Mark fullstack test_l2_agent_restart as unstable\n\nWith linuxbridge agent the connectivity test fails often after l2 agent\nrestart, so mark it as unstable until the root cause is found.\n\nChange-Id: Ida3193acac2fa22bbfd4b18ef3a3bceafe46d3ec\nRelated-Bug: #1928764\n'}, {'number': 3, 'created': '2021-06-07 10:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/068b1fe152409669619961f8f7007da7f230f849', 'message': 'Mark fullstack test_l2_agent_restart as unstable\n\nWith linuxbridge agent the connectivity test fails often after l2 agent\nrestart, so mark it as unstable until the root cause is found.\n\nChange-Id: Ida3193acac2fa22bbfd4b18ef3a3bceafe46d3ec\nRelated-Bug: #1928764\n'}, {'number': 4, 'created': '2021-06-07 11:43:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/24a4e1522105ba33a37d6e8d082e6a6e24e213f9', 'message': 'Mark fullstack test_l2_agent_restart as unstable\n\nWith linuxbridge agent the connectivity test fails often after l2 agent\nrestart, so mark it as unstable until the root cause is found.\n\nChange-Id: Ida3193acac2fa22bbfd4b18ef3a3bceafe46d3ec\nRelated-Bug: #1928764\n'}, {'number': 5, 'created': '2021-06-07 14:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b2edf6900ca77e895f469d25c33e454cdd2b959d', 'message': 'Mark fullstack test_l2_agent_restart as unstable\n\nWith linuxbridge agent the connectivity test fails often after l2 agent\nrestart, so mark it as unstable until the root cause is found.\n\nChange-Id: Ida3193acac2fa22bbfd4b18ef3a3bceafe46d3ec\nRelated-Bug: #1928764\n'}, {'number': 6, 'created': '2021-06-08 05:01:34.000000000', 'files': ['neutron/tests/fullstack/test_connectivity.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/13994d2327d02977faa638422b579912cf3dda7f', 'message': 'Mark fullstack test_l2_agent_restart as unstable\n\nWith linuxbridge agent the connectivity test fails often after l2 agent\nrestart, so mark it as unstable until the root cause is found.\n\nChange-Id: Ida3193acac2fa22bbfd4b18ef3a3bceafe46d3ec\nRelated-Bug: #1928764\n'}]",10,794228,13994d2327d02977faa638422b579912cf3dda7f,73,4,6,8313,,,0,"Mark fullstack test_l2_agent_restart as unstable

With linuxbridge agent the connectivity test fails often after l2 agent
restart, so mark it as unstable until the root cause is found.

Change-Id: Ida3193acac2fa22bbfd4b18ef3a3bceafe46d3ec
Related-Bug: #1928764
",git fetch https://review.opendev.org/openstack/neutron refs/changes/28/794228/5 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/fullstack/test_connectivity.py'],1,c197a493c98fe2ec9cdfc7a0a0835c23e6a9b2bb,bug/1928764,"from neutron.tests import base as tests_base @tests_base.unstable_test(""bug 1928764"")",,2,0
openstack%2Ftripleo-validations~master~Ia8b78c0e81d716718139aec17f959a1a9955025e,openstack/tripleo-validations,master,Ia8b78c0e81d716718139aec17f959a1a9955025e,Use and ownership info for the check_flavors module,MERGED,2021-06-02 09:53:07.000000000,2021-06-10 21:55:20.000000000,2021-06-10 21:50:05.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-02 09:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3cf0ef998fabb25eba8de9710242cd468551e2bd', 'message': 'Ownership information for the check_flavors module\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ia8b78c0e81d716718139aec17f959a1a9955025e\n'}, {'number': 2, 'created': '2021-06-03 13:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ac03eff494cb7d38f4f07be2d314954c6e0c4ba1', 'message': 'Use and ownership info for the check_flavors module\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ia8b78c0e81d716718139aec17f959a1a9955025e\n'}, {'number': 3, 'created': '2021-06-03 14:16:50.000000000', 'files': ['library/check_flavors.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/81bd49d628c50398c9f001f2b20ae3060d2b7835', 'message': 'Use and ownership info for the check_flavors module\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ia8b78c0e81d716718139aec17f959a1a9955025e\n'}]",2,794193,81bd49d628c50398c9f001f2b20ae3060d2b7835,18,7,3,32926,,,0,"Use and ownership info for the check_flavors module

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ia8b78c0e81d716718139aec17f959a1a9955025e
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/93/794193/1 && git format-patch -1 --stdout FETCH_HEAD,['library/check_flavors.py'],1,3cf0ef998fabb25eba8de9710242cd468551e2bd,check_flavors/ownership, - Used by the 'Collect and check the flavors' - Owned by the 'DFG Compute & DFG Hardware Provisioning',,2,0
openstack%2Fvalidations-libs~master~Ie7471361acf1f4ae197e76b22eb7ba4d3f62fe92,openstack/validations-libs,master,Ie7471361acf1f4ae197e76b22eb7ba4d3f62fe92,Fixing the recursive path handling.,MERGED,2021-06-07 12:20:00.000000000,2021-06-10 21:55:15.000000000,2021-06-10 21:51:32.000000000,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-07 12:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/5b476e81b6e7525529865f9e01b85fe7a4d8d54f', 'message': 'Resolving break with tripleo\n\nMakes sure that the fallback works in a compatible way\nwith existing tripleo behavior.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie7471361acf1f4ae197e76b22eb7ba4d3f62fe92\n'}, {'number': 2, 'created': '2021-06-07 12:46:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/55ff340ef94b3b23efdc48c90065b5f6f70f5bc4', 'message': 'Resolving break with tripleo\n\nMakes sure that the fallback works in a compatible way\nwith existing tripleo behavior.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie7471361acf1f4ae197e76b22eb7ba4d3f62fe92\n'}, {'number': 3, 'created': '2021-06-07 13:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/799768a7f6f6173089d1fda5b302f4fb69a83bdb', 'message': 'Resolving break with tripleo\n\nMakes sure that the fallback works in a compatible way\nwith existing tripleo behavior.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie7471361acf1f4ae197e76b22eb7ba4d3f62fe92\n'}, {'number': 4, 'created': '2021-06-07 13:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/279a9c7c7dc582b89e3f4e06b09778dc9ff1b6ef', 'message': 'Resolving break with tripleo\n\nMakes sure that the fallback works in a compatible way\nwith existing tripleo behavior.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie7471361acf1f4ae197e76b22eb7ba4d3f62fe92\n'}, {'number': 5, 'created': '2021-06-07 13:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/24088b39d9e838012420a8cd6ad6cdf468d7572c', 'message': 'Resolving break with tripleo\n\nMakes sure that the fallback works in a compatible way\nwith existing tripleo behavior.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie7471361acf1f4ae197e76b22eb7ba4d3f62fe92\n'}, {'number': 6, 'created': '2021-06-07 15:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/8bb610d9b6fec4d13dd0f6bdefdc0c07b14df860', 'message': 'Resolving break with tripleo\n\nMakes sure that the fallback works in a compatible way\nwith existing tripleo behavior.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie7471361acf1f4ae197e76b22eb7ba4d3f62fe92\n'}, {'number': 7, 'created': '2021-06-07 15:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/68a93b3e29f331618afa008c5101fbd0a77a566c', 'message': 'Fixing faulty behavior\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie7471361acf1f4ae197e76b22eb7ba4d3f62fe92\n'}, {'number': 8, 'created': '2021-06-08 06:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/a1d6e63e6c8cc1739848c04b100d1de684b9b135', 'message': 'Fixing the recursive path handling.\n\nThe patch f2830c52446b1bd57383e91e6eb3da84cfdab1c7 introduced\nseveral potentially breaking bugs, which have to be fixed.\nNamely, several of the termination conditionals lacked proper\nreturn statements.\n\nIn addition to the fix of the previously describe issues\nthe following changes are included to prevent more arising in\nthe future.\n\nEvery major behavioral branch now has a dedicated log statement.\nTest coverage included.\nExpanded docstrings.\nIncreased expressiveness of var names.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie7471361acf1f4ae197e76b22eb7ba4d3f62fe92\n'}, {'number': 9, 'created': '2021-06-08 12:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/ef8a6d2d4b555978722717169864b95aa9f0cdd8', 'message': 'Fixing the recursive path handling.\n\nThe patch f2830c52446b1bd57383e91e6eb3da84cfdab1c7 introduced\nseveral potentially breaking bugs, which have to be fixed.\nNamely, several of the termination conditionals lacked proper\nreturn statements.\n\nIn addition to the fix of the previously describe issues\nthe following changes are included to prevent more arising in\nthe future.\n\nEvery major behavioral branch now has a dedicated log statement.\nTest coverage included.\nExpanded docstrings.\nIncreased expressiveness of var names.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie7471361acf1f4ae197e76b22eb7ba4d3f62fe92\n'}, {'number': 10, 'created': '2021-06-09 08:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/f76f15dc90c9a85a700cd57b23af6f9a16169802', 'message': 'Fixing the recursive path handling.\n\nThe patch f2830c52446b1bd57383e91e6eb3da84cfdab1c7 introduced\nseveral potentially breaking bugs, which have to be fixed.\nNamely, several of the termination conditionals lacked proper\nreturn statements.\n\nIn addition to the fix of the previously describe issues\nthe following changes are included to prevent more arising in\nthe future.\n\nEvery major behavioral branch now has a dedicated log statement.\nTest coverage included.\nExpanded docstrings.\nIncreased expressiveness of var names.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie7471361acf1f4ae197e76b22eb7ba4d3f62fe92\n'}, {'number': 11, 'created': '2021-06-10 09:25:30.000000000', 'files': ['validations_libs/tests/test_utils.py', 'validations_libs/tests/fakes.py', 'validations_libs/utils.py', 'validations_libs/tests/test_validation_actions.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/48cc737446462370ca896c61743089c897eca539', 'message': 'Fixing the recursive path handling.\n\nThe patch f2830c52446b1bd57383e91e6eb3da84cfdab1c7 introduced\nseveral potentially breaking bugs, which have to be fixed.\nNamely, several of the termination conditionals lacked proper\nreturn statements.\n\nIn addition to the fix of the previously describe issues\nthe following changes are included to prevent more arising in\nthe future.\n\nEvery major behavioral branch now has a dedicated log statement.\nTest coverage included.\nExpanded docstrings.\nIncreased expressiveness of var names.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie7471361acf1f4ae197e76b22eb7ba4d3f62fe92\n'}]",10,795093,48cc737446462370ca896c61743089c897eca539,33,5,11,32926,,,0,"Fixing the recursive path handling.

The patch f2830c52446b1bd57383e91e6eb3da84cfdab1c7 introduced
several potentially breaking bugs, which have to be fixed.
Namely, several of the termination conditionals lacked proper
return statements.

In addition to the fix of the previously describe issues
the following changes are included to prevent more arising in
the future.

Every major behavioral branch now has a dedicated log statement.
Test coverage included.
Expanded docstrings.
Increased expressiveness of var names.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ie7471361acf1f4ae197e76b22eb7ba4d3f62fe92
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/93/795093/11 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/constants.py', 'validations_libs/utils.py', 'validations_libs/tests/test_validation_actions.py']",3,5b476e81b6e7525529865f9e01b85fe7a4d8d54f,logpath/tripleounity," @mock.patch('validations_libs.utils.os.access', return_value=True) @mock.patch('validations_libs.utils.os.path.exists', return_value=True) def test_validation_skip_validation(self, mock_validation_play, mock_exists, mock_access): @mock.patch('validations_libs.utils.os.makedirs') @mock.patch('validations_libs.utils.os.access', return_value=True) @mock.patch('validations_libs.utils.os.path.exists', return_value=True) mock_results, mock_exists, mock_access, mock_makedirs): @mock.patch('validations_libs.utils.os.makedirs') @mock.patch('validations_libs.utils.os.access', return_value=True) @mock.patch('validations_libs.utils.os.path.exists', return_value=True) mock_validation_dir, mock_results, mock_exists, mock_access, mock_makedirs):"," def test_validation_skip_validation(self, mock_validation_play): mock_results): mock_validation_dir, mock_results):",20,5
openstack%2Fkolla~stable%2Fwallaby~I60a76f42708f1746bd2c582ce25867ac34c9e865,openstack/kolla,stable/wallaby,I60a76f42708f1746bd2c582ce25867ac34c9e865,"Revert ""[CI] Add grafana to allowed-to-fail""",MERGED,2021-06-10 18:59:05.000000000,2021-06-10 21:54:55.000000000,2021-06-10 21:27:48.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-10 18:59:05.000000000', 'files': ['tests/playbooks/run.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/01f5ce4860f379b5332519bf28814c6fde746fca', 'message': 'Revert ""[CI] Add grafana to allowed-to-fail""\n\nThis reverts commit a6884085e1a5336f17c2ed64f67d8f885c454207.\n\nReason for revert: Repo is fine again.\n\nChange-Id: I60a76f42708f1746bd2c582ce25867ac34c9e865\n(cherry picked from commit c6fa5d98defbb49cda26545f672d0658a73c7580)\n'}]",0,795810,01f5ce4860f379b5332519bf28814c6fde746fca,8,2,1,30491,,,0,"Revert ""[CI] Add grafana to allowed-to-fail""

This reverts commit a6884085e1a5336f17c2ed64f67d8f885c454207.

Reason for revert: Repo is fine again.

Change-Id: I60a76f42708f1746bd2c582ce25867ac34c9e865
(cherry picked from commit c6fa5d98defbb49cda26545f672d0658a73c7580)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/10/795810/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/playbooks/run.yml'],1,01f5ce4860f379b5332519bf28814c6fde746fca,allow-to-fail-grafana-stable/wallaby,," # FIXME(yoctozepto): The grafana repo is broken for Debuntu. allowed_to_fail: ""grafana""",0,2
openstack%2Ftripleo-heat-templates~master~Ic18f07f01a2b4053d042dc0a1b783b397d985d9e,openstack/tripleo-heat-templates,master,Ic18f07f01a2b4053d042dc0a1b783b397d985d9e,Fix typo that breaks Octavia db sync step,MERGED,2021-06-09 16:20:35.000000000,2021-06-10 21:52:22.000000000,2021-06-10 21:52:22.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-09 16:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1266d6ab8aa74cc0d32cce6588a6037083afe58c', 'message': 'Fix typo that breaks Octavia db sync step\n\nThe filename for the kolla_config octavia json file was incorrect\ncausing there to be no database initialization for octavia deployments.\n\nChange-Id: Ic18f07f01a2b4053d042dc0a1b783b397d985d9e\n'}, {'number': 2, 'created': '2021-06-09 16:21:18.000000000', 'files': ['deployment/octavia/octavia-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6e67e7377e89fd9eb1da73eff6fa8b7c756718bc', 'message': 'Fix typo that breaks Octavia db sync step\n\nThe filename for the kolla_config octavia json file was incorrect\ncausing there to be no database initialization for octavia deployments.\n\nCloses-Bug: #1931428\nChange-Id: Ic18f07f01a2b4053d042dc0a1b783b397d985d9e\n'}]",0,795590,6e67e7377e89fd9eb1da73eff6fa8b7c756718bc,9,7,2,6681,,,0,"Fix typo that breaks Octavia db sync step

The filename for the kolla_config octavia json file was incorrect
causing there to be no database initialization for octavia deployments.

Closes-Bug: #1931428
Change-Id: Ic18f07f01a2b4053d042dc0a1b783b397d985d9e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/90/795590/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-api-container-puppet.yaml'],1,1266d6ab8aa74cc0d32cce6588a6037083afe58c,, /var/lib/kolla/config_files/octavia_api_db_sync.json:, /var/lib/kolla/config_files/octavia_driver_agent_db_sync.json:,1,1
openstack%2Ftripleo-ansible~stable%2Fwallaby~I86b1b75c9d807356e9a1f1901bc7e8856f0c0961,openstack/tripleo-ansible,stable/wallaby,I86b1b75c9d807356e9a1f1901bc7e8856f0c0961,Ensures mount uid/git for Manila keyring are correctly set,MERGED,2021-06-09 10:25:21.000000000,2021-06-10 21:52:14.000000000,2021-06-10 21:52:14.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-06-09 10:25:21.000000000', 'files': ['tripleo_ansible/roles/tripleo_ceph_client/templates/ceph_conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/540b5b946c2d771ed4cf2eba7c0b32854b4fa711', 'message': 'Ensures mount uid/git for Manila keyring are correctly set\n\nLike we used to do when configuring Ganesha via puppet [1] this\nchange is making the new tripleo_ceph_client role set the Manila\nkeyring mount uid/gid so that Ganesha can correctly map root\npermissions from CephFS to NFS.\n\n1. https://github.com/openstack/puppet-tripleo/blob/master/manifests/profile/base/manila/share.pp#L145-L147\n\nCloses-Bug: 1894374\nChange-Id: I86b1b75c9d807356e9a1f1901bc7e8856f0c0961\n(cherry picked from commit 31f4a9153e4e6ba3368114d19f5a11e362ff28aa)\n'}]",0,795460,540b5b946c2d771ed4cf2eba7c0b32854b4fa711,11,3,1,6796,,,0,"Ensures mount uid/git for Manila keyring are correctly set

Like we used to do when configuring Ganesha via puppet [1] this
change is making the new tripleo_ceph_client role set the Manila
keyring mount uid/gid so that Ganesha can correctly map root
permissions from CephFS to NFS.

1. https://github.com/openstack/puppet-tripleo/blob/master/manifests/profile/base/manila/share.pp#L145-L147

Closes-Bug: 1894374
Change-Id: I86b1b75c9d807356e9a1f1901bc7e8856f0c0961
(cherry picked from commit 31f4a9153e4e6ba3368114d19f5a11e362ff28aa)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/60/795460/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_ceph_client/templates/ceph_conf.j2'],1,540b5b946c2d771ed4cf2eba7c0b32854b4fa711,puppet-ceph-removal-stable/wallaby, {% if tripleo_cephadm_ceph_nfs_ceph_user is defined %} [client.{{ tripleo_cephadm_ceph_nfs_ceph_user }}] client mount uid = 0 client mount gid = 0 {% endif %},,6,0
openstack%2Ftripleo-heat-templates~master~Ifa75e8436f60697280f440a24926ed86ef3806c0,openstack/tripleo-heat-templates,master,Ifa75e8436f60697280f440a24926ed86ef3806c0,Add alertmanager port parameter,MERGED,2021-06-08 07:51:56.000000000,2021-06-10 21:51:55.000000000,2021-06-10 21:51:55.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-08 07:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4db3caf6e079f8546e7a70c0b92b493da84853bb', 'message': 'Add alertmanager port parameter\n\nDuring the monitoring stack configuration, cephadm is able to accept\ngrafana/prometheus/alertmanager ports as parameters.\nFor this reason (and to make sure we control ports from TripleO), the\nmissing alertmanager port is explicitly defined, and it will be\nprocessed by [1].\n\n[1] https://github.com/openstack/tripleo-ansible/blob/master/tripleo_ansible/roles/tripleo_cephadm/tasks/monitoring.yaml#L81\n\nChange-Id: Ifa75e8436f60697280f440a24926ed86ef3806c0\n'}, {'number': 2, 'created': '2021-06-08 15:21:13.000000000', 'files': ['deployment/cephadm/ceph-grafana.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0f524641031bc8677f8f93fd6dbc2b9e81f4f721', 'message': 'Add alertmanager port parameter\n\nDuring the monitoring stack configuration, cephadm is able to accept\ngrafana/prometheus/alertmanager ports as parameters.\nFor this reason (and to make sure we control ports from TripleO), the\nmissing alertmanager port is explicitly defined, and it will be\nprocessed by [1].\n\n[1] https://github.com/openstack/tripleo-ansible/blob/master/tripleo_ansible/roles/tripleo_cephadm/tasks/monitoring.yaml#L81\n\nChange-Id: Ifa75e8436f60697280f440a24926ed86ef3806c0\n'}]",0,795231,0f524641031bc8677f8f93fd6dbc2b9e81f4f721,18,4,2,25402,,,0,"Add alertmanager port parameter

During the monitoring stack configuration, cephadm is able to accept
grafana/prometheus/alertmanager ports as parameters.
For this reason (and to make sure we control ports from TripleO), the
missing alertmanager port is explicitly defined, and it will be
processed by [1].

[1] https://github.com/openstack/tripleo-ansible/blob/master/tripleo_ansible/roles/tripleo_cephadm/tasks/monitoring.yaml#L81

Change-Id: Ifa75e8436f60697280f440a24926ed86ef3806c0
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/31/795231/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cephadm/ceph-grafana.yaml'],1,4db3caf6e079f8546e7a70c0b92b493da84853bb,cephadm_monitoring, tripleo_cephadm_alertmanager_port: 9093,,1,0
openstack%2Ftripleo-ci~master~Idafea24696e11aa45838ac391c67111db95e3832,openstack/tripleo-ci,master,Idafea24696e11aa45838ac391c67111db95e3832,Adds upgrades jobs to periodic,MERGED,2021-06-03 11:26:30.000000000,2021-06-10 21:51:05.000000000,2021-06-10 21:51:05.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-06-03 11:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b9f7de31e34f336add9a0ad5852dbfac51f6eb62', 'message': 'WIP: Adds upgrades jobs to periodic\n\nThis patch adds standalone-upgrade and\nundercloud-upgrade jobs for victoria and\nussuri release to periodic.\n\nChange-Id: Idafea24696e11aa45838ac391c67111db95e3832\n'}, {'number': 2, 'created': '2021-06-03 12:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d43d93e9515246ec8bea43d14f7d66ea2ef4c35e', 'message': 'WIP: Adds upgrades jobs to periodic\n\nThis patch adds standalone-upgrade and\nundercloud-upgrade jobs for victoria and\nussuri release to periodic.\n\nChange-Id: Idafea24696e11aa45838ac391c67111db95e3832\n'}, {'number': 3, 'created': '2021-06-03 12:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a78f44cda12fe3ccd3906cdadc295df4d8c1c03c', 'message': 'WIP: Adds upgrades jobs to periodic\n\nThis patch adds standalone-upgrade and\nundercloud-upgrade jobs for victoria and\nussuri release to periodic.\n\nChange-Id: Idafea24696e11aa45838ac391c67111db95e3832\n'}, {'number': 4, 'created': '2021-06-03 15:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4d7eeff8c7cdc0b73eee24a40b420bf56e52594c', 'message': 'WIP: Adds upgrades jobs to periodic\n\nThis patch adds standalone-upgrade and\nundercloud-upgrade jobs for victoria and\nussuri release to periodic.\n\nChange-Id: Idafea24696e11aa45838ac391c67111db95e3832\n'}, {'number': 5, 'created': '2021-06-04 09:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7417dbbc8618ded01eb85b8717c81cf68bbc9aae', 'message': 'WIP: Adds upgrades jobs to periodic\n\nThis patch adds standalone-upgrade and\nundercloud-upgrade jobs for victoria and\nussuri release to periodic.\n\nChange-Id: Idafea24696e11aa45838ac391c67111db95e3832\n'}, {'number': 6, 'created': '2021-06-04 09:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c58fcf7aba5f375fb177841458e7e9ad70cb93e6', 'message': 'WIP: Adds upgrades jobs to periodic\n\nThis patch adds standalone-upgrade and\nundercloud-upgrade jobs for victoria and\nussuri release to periodic.\n\nChange-Id: Idafea24696e11aa45838ac391c67111db95e3832\n'}, {'number': 7, 'created': '2021-06-04 10:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7921dd4ffeb304e27abfbe0c805eb1946bb093eb', 'message': 'WIP: Adds upgrades jobs to periodic\n\nThis patch adds standalone-upgrade and\nundercloud-upgrade jobs for victoria and\nussuri release to periodic.\n\nChange-Id: Idafea24696e11aa45838ac391c67111db95e3832\n'}, {'number': 8, 'created': '2021-06-08 09:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7f8b2d514fa71d91ed2e05a272250dc1ebb69b92', 'message': 'Adds upgrades jobs to periodic\n\nThis patch adds standalone-upgrade and\nundercloud-upgrade jobs for victoria and\nussuri release to periodic.\n\nChange-Id: Idafea24696e11aa45838ac391c67111db95e3832\n'}, {'number': 9, 'created': '2021-06-09 14:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/290ac58c8117cd318e830e20cc8faa5c82e05c2a', 'message': 'Adds upgrades jobs to periodic\n\nThis patch adds standalone-upgrade and\nundercloud-upgrade jobs for victoria and\nussuri release to periodic.\n\nChange-Id: Idafea24696e11aa45838ac391c67111db95e3832\n'}, {'number': 10, 'created': '2021-06-09 14:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d5e1fa42ab48eb1e0c6f5cf2227ee8b04223776f', 'message': 'Adds upgrades jobs to periodic\n\nThis patch adds standalone-upgrade and\nundercloud-upgrade jobs for victoria and\nussuri release to periodic.\n\nChange-Id: Idafea24696e11aa45838ac391c67111db95e3832\n'}, {'number': 11, 'created': '2021-06-09 14:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1011ef6354cd985a0e335ce49af3509aa5aaa054', 'message': 'Adds upgrades jobs to periodic\n\nThis patch adds standalone-upgrade and\nundercloud-upgrade jobs for victoria and\nussuri release to periodic.\n\nChange-Id: Idafea24696e11aa45838ac391c67111db95e3832\n'}, {'number': 12, 'created': '2021-06-09 15:19:45.000000000', 'files': ['zuul.d/periodic.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9f83c1d9fcff54a7332e27f2cefff82244da6588', 'message': 'Adds upgrades jobs to periodic\n\nThis patch adds standalone-upgrade and\nundercloud-upgrade jobs for victoria and\nussuri release to periodic.\n\nChange-Id: Idafea24696e11aa45838ac391c67111db95e3832\n'}]",13,794571,9f83c1d9fcff54a7332e27f2cefff82244da6588,51,9,12,31075,,,0,"Adds upgrades jobs to periodic

This patch adds standalone-upgrade and
undercloud-upgrade jobs for victoria and
ussuri release to periodic.

Change-Id: Idafea24696e11aa45838ac391c67111db95e3832
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/71/794571/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/periodic.yaml'],1,b9f7de31e34f336add9a0ad5852dbfac51f6eb62,upgrade_jobs," - project-template: name: tripleo-upgrades-victoria-pipeline check: jobs: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider-ussuri - tripleo-ci-centos-8-standalone-upgrade-victoria: vars: *consumer_vars dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider-ussuri - tripleo-ci-centos-8-undercloud-upgrade-victoria: vars: *consumer_vars irrelevant-files: &undercloud_ignored - ^.*\.md$ - ^.*\.rst$ - ^doc/.*$ - ^docs/.*$ - ^etc/.*$ - ^metadata.json$ - ^releasenotes/.*$ - ^test-requirements.txt$ - ^spec/.*$ - ^Puppetfile.*$ - tox.ini - ^roles/build-containers/.*$ - ^roles/oooci-build-images/.*$ - ^playbooks/deprecated/.*$ - ^playbooks/tripleo-buildcontainers/.*$ - ^playbooks/tripleo-buildimages/.*$ - ^vars/sova-patterns.yml$ - zuul.d/layout.yaml - zuul.d/build-containers.yaml - zuul.d/build-image.yaml - zuul.d/standalone-jobs.yaml - zuul.d/undercloud-jobs.yaml - zuul.d/multinode-jobs.yaml dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider-ussuri - project-template: name: tripleo-upgrades-ussuri-pipeline check: jobs: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider-train - tripleo-ci-centos-8-standalone-upgrade-ussuri: vars: *consumer_vars dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider-train - tripleo-ci-centos-8-undercloud-upgrade-ussuri: vars: *consumer_vars irrelevant-files: *undercloud_ignored dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider-train # Standalone upgrade jobs # - job: name: tripleo-ci-centos-8-standalone-upgrade-victoria parent: tripleo-ci-base-standalone-upgrade-centos-8 voting: true branches: ^stable/victoria$ vars: featureset: '056' featureset_override: standalone_environment_files: - 'environments/low-memory-usage.yaml' - 'environments/docker-ha.yaml' - 'environments/podman.yaml' irrelevant-files: &upgrade_irrelevant - .*molecule.* - ^.*\.md$ - ^.*\.rst$ - ^Puppetfile.*$ - ^doc/.*$ - ^etc/.*$ - ^lower-constraints.txt$ - ^metadata.json$ - ^releasenotes/.*$ - ^spec/.*$ - ^test-requirements.txt$ - ^vars/sova-patterns.yml$ - tox.ini - zuul.d/ansible.yaml - zuul.d/build-containers.yaml - zuul.d/build-image.yaml - zuul.d/multinode-jobs.yaml - zuul.d/undercloud-jobs.yaml - zuul.d/standalone-jobs.yaml # like parent but with requirements.txt and setup.py removed # docker-ha, podman env files https://bugs.launchpad.net/tripleo/+bug/1887159 - job: name: tripleo-ci-centos-8-standalone-upgrade-ussuri parent: tripleo-ci-base-standalone-upgrade-centos-8 voting: true branches: ^stable/ussuri$ vars: featureset: '056' featureset_override: standalone_environment_files: - 'environments/low-memory-usage.yaml' - 'environments/docker-ha.yaml' - 'environments/podman.yaml' irrelevant-files: *upgrade_irrelevant # # Undercloud upgrade jobs # - job: name: tripleo-ci-centos-8-undercloud-upgrade-ussuri parent: tripleo-ci-base-singlenode-centos-8 branches: ^stable/ussuri$ voting: false vars: featureset: '050' featureset_override: validate_services: false extra_tags: - undercloud-upgrade - job: name: tripleo-ci-centos-8-undercloud-upgrade-victoria parent: tripleo-ci-base-singlenode-centos-8 branches: ^stable/victoria$ voting: true vars: featureset: '050' featureset_override: validate_services: false extra_tags: - undercloud-upgrade",,139,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ib29585696be5d46f88731541a3333851deebd663,openstack/tripleo-heat-templates,stable/wallaby,Ib29585696be5d46f88731541a3333851deebd663,Pass custom CephConfigPath parameter to ceph-nfs role,MERGED,2021-06-08 12:16:08.000000000,2021-06-10 21:50:58.000000000,2021-06-10 21:50:58.000000000,"[{'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-06-08 12:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cb7c62f0f05aa0ecf892fcfcb47c6840b926ee37', 'message': 'Pass custom CephConfigPath parameter to ceph-nfs role\n\nThis is necessary for the systemd service to mount the correct\nlocation on the host\n\nDepends-On: I12155b4a88b811d701f9fb6d1506b5592b58767b\nChange-Id: Ib29585696be5d46f88731541a3333851deebd663\n(cherry picked from commit 7150a747b4c47405e8cedf6127118fa73a7f9090)\n'}, {'number': 2, 'created': '2021-06-10 08:41:13.000000000', 'files': ['deployment/cephadm/ceph-nfs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3ed6009630631e97b1017100c1fb0126b691d593', 'message': 'Pass custom CephConfigPath parameter to ceph-nfs role\n\nThis is necessary for the systemd service to mount the correct\nlocation on the host\n\nDepends-On: I12155b4a88b811d701f9fb6d1506b5592b58767b\nChange-Id: Ib29585696be5d46f88731541a3333851deebd663\n(cherry picked from commit 7150a747b4c47405e8cedf6127118fa73a7f9090)\n'}]",0,795308,3ed6009630631e97b1017100c1fb0126b691d593,11,4,2,6796,,,0,"Pass custom CephConfigPath parameter to ceph-nfs role

This is necessary for the systemd service to mount the correct
location on the host

Depends-On: I12155b4a88b811d701f9fb6d1506b5592b58767b
Change-Id: Ib29585696be5d46f88731541a3333851deebd663
(cherry picked from commit 7150a747b4c47405e8cedf6127118fa73a7f9090)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/08/795308/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cephadm/ceph-nfs.yaml'],1,cb7c62f0f05aa0ecf892fcfcb47c6840b926ee37,ceph-nfs," CephConfigPath: type: string default: ""/var/lib/tripleo-config/ceph"" description: | The path where the Ceph Cluster config files are stored on the host. tripleo_ceph_client_config_home: {get_param: CephConfigPath}",,6,0
openstack%2Ftripleo-validations~master~I05074d04218c8664b9aff79e18caaad6bae04704,openstack/tripleo-validations,master,I05074d04218c8664b9aff79e18caaad6bae04704,Use and ownership info for the pacemaker module,MERGED,2021-06-02 13:02:10.000000000,2021-06-10 21:50:39.000000000,2021-06-10 21:50:39.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-02 13:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ab970d084697685b4125d5aef65cb3041112469d', 'message': 'Use and ownership info about pacemaker module\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I05074d04218c8664b9aff79e18caaad6bae04704\n'}, {'number': 2, 'created': '2021-06-02 14:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4e964aa3572da1395f4f273cc017031a08d42585', 'message': 'Use and ownership info about pacemaker module\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I05074d04218c8664b9aff79e18caaad6bae04704\n'}, {'number': 3, 'created': '2021-06-03 13:30:52.000000000', 'files': ['library/pacemaker.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0dad2560034522deaaa69eba6a6ab6486e056187', 'message': 'Use and ownership info for the pacemaker module\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I05074d04218c8664b9aff79e18caaad6bae04704\n'}]",1,794219,0dad2560034522deaaa69eba6a6ab6486e056187,14,6,3,32926,,,0,"Use and ownership info for the pacemaker module

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I05074d04218c8664b9aff79e18caaad6bae04704
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/19/794219/1 && git format-patch -1 --stdout FETCH_HEAD,['library/pacemaker.py'],1,ab970d084697685b4125d5aef65cb3041112469d,pacemaker/use,"""""""pacemaker module Used by the pacemaker_status validation. """""" - Used by the pacemaker_status validation. - Owned by the DF Pidone",,5,1
openstack%2Ftripleo-validations~master~Id9b52ef30af3e023992b13f7e78ea9df5481b066,openstack/tripleo-validations,master,Id9b52ef30af3e023992b13f7e78ea9df5481b066,Use and ownership info for the node_disk module.,MERGED,2021-06-02 11:54:47.000000000,2021-06-10 21:50:31.000000000,2021-06-10 21:50:31.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-02 11:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0a701611e46f133df11a7cb526be008865e87a19', 'message': 'Usage information for the node_disk module.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id9b52ef30af3e023992b13f7e78ea9df5481b066\n'}, {'number': 2, 'created': '2021-06-03 13:31:22.000000000', 'files': ['library/node_disks.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ba98421b886cd320b41e41d32b0c3f62002f53af', 'message': 'Use and ownership info for the node_disk module.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id9b52ef30af3e023992b13f7e78ea9df5481b066\n'}]",0,794206,ba98421b886cd320b41e41d32b0c3f62002f53af,13,6,2,32926,,,0,"Use and ownership info for the node_disk module.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Id9b52ef30af3e023992b13f7e78ea9df5481b066
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/06/794206/1 && git format-patch -1 --stdout FETCH_HEAD,['library/node_disks.py'],1,0a701611e46f133df11a7cb526be008865e87a19,node_disks/useownership,"""""""node_disks module Used by the 'node_disks' validation. """""" - Used by the 'node_disks' validation.",,4,1
openstack%2Ftripleo-validations~master~Ie936821e3b8055d91bfa3cec992c68a87bf84db2,openstack/tripleo-validations,master,Ie936821e3b8055d91bfa3cec992c68a87bf84db2,Use and ownership info for the ip_range module.,MERGED,2021-06-02 11:17:34.000000000,2021-06-10 21:50:13.000000000,2021-06-10 21:50:13.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-02 11:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/34aab4ba0e2d4c4d0384961c8bc88fcbeb434236', 'message': ""Use and ownership info for the 'ip_range' module.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie936821e3b8055d91bfa3cec992c68a87bf84db2\n""}, {'number': 2, 'created': '2021-06-02 11:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/42bb28cc8ac45ee2c25b56d2636126b33b763e12', 'message': ""Use and ownership info for the 'ip_range' module.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie936821e3b8055d91bfa3cec992c68a87bf84db2\n""}, {'number': 3, 'created': '2021-06-02 12:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b67c5044afcd434b896b8225587368a46de738bc', 'message': ""Use and ownership info for the 'ip_range' module.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie936821e3b8055d91bfa3cec992c68a87bf84db2\n""}, {'number': 4, 'created': '2021-06-03 13:30:25.000000000', 'files': ['library/ip_range.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e7c06ecf047d69b6946f8b308b396f0081f0e7ed', 'message': 'Use and ownership info for the ip_range module.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie936821e3b8055d91bfa3cec992c68a87bf84db2\n'}]",0,794203,e7c06ecf047d69b6946f8b308b396f0081f0e7ed,16,6,4,32926,,,0,"Use and ownership info for the ip_range module.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ie936821e3b8055d91bfa3cec992c68a87bf84db2
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/03/794203/4 && git format-patch -1 --stdout FETCH_HEAD,['library/ip_range.py'],1,34aab4ba0e2d4c4d0384961c8bc88fcbeb434236,ip_range/useownership,"""""""ip_range module Used by the `ctlplane_ip_range` role. Jointly owned and maintained by the DFG Networking/DF. """"""",,4,1
openstack%2Ftripleo-validations~master~I6721d614ffe818e72f3f0e8b5ab74316d0d653cc,openstack/tripleo-validations,master,I6721d614ffe818e72f3f0e8b5ab74316d0d653cc,Use and ownership info for the icmp_ping module.,MERGED,2021-06-02 10:57:47.000000000,2021-06-10 21:50:09.000000000,2021-06-10 21:50:09.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-02 10:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7e5ba487a243831b7b7f99ab84b811f9487d98f1', 'message': 'Filled up use info of the icmp_ping module.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I6721d614ffe818e72f3f0e8b5ab74316d0d653cc\n'}, {'number': 2, 'created': '2021-06-02 11:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4533c7f4681608d3f6caf7b13a8e6f562add418c', 'message': 'Filled up use info of the icmp_ping module.\nInformation about owners included.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I6721d614ffe818e72f3f0e8b5ab74316d0d653cc\n'}, {'number': 3, 'created': '2021-06-03 13:32:32.000000000', 'files': ['library/icmp_ping.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/11cdcb1868563231103559e06d3c8527a1fe2681', 'message': 'Use and ownership info for the icmp_ping module.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I6721d614ffe818e72f3f0e8b5ab74316d0d653cc\n'}]",0,794201,11cdcb1868563231103559e06d3c8527a1fe2681,15,6,3,32926,,,0,"Use and ownership info for the icmp_ping module.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I6721d614ffe818e72f3f0e8b5ab74316d0d653cc
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/01/794201/2 && git format-patch -1 --stdout FETCH_HEAD,['library/icmp_ping.py'],1,7e5ba487a243831b7b7f99ab84b811f9487d98f1,icmp_ping/useownership,"""""""icmp_ping module Used by `node-health` and `check-network-gateway` roles. """"""",,3,1
openstack%2Ftripleo-validations~master~I7a06b82f8fefca699ed4e510d33400fa28c0b5d6,openstack/tripleo-validations,master,I7a06b82f8fefca699ed4e510d33400fa28c0b5d6,Use and ownership info for the ovs_dpdk_pmd_cpus_check module.,MERGED,2021-06-02 12:57:34.000000000,2021-06-10 20:38:59.000000000,2021-06-10 20:37:34.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-02 12:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d1f9d93298e869d1e0011f7ffed0346c4945ebd3', 'message': 'Info about use added to the module.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I7a06b82f8fefca699ed4e510d33400fa28c0b5d6\n'}, {'number': 2, 'created': '2021-06-03 13:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c23ddbcd43ac2acb8f588bba195611a1edfceb19', 'message': 'Use and ownership info for the ovs_dpdk_pmd_cpus_check module.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I7a06b82f8fefca699ed4e510d33400fa28c0b5d6\n'}, {'number': 3, 'created': '2021-06-03 14:13:25.000000000', 'files': ['library/ovs_dpdk_pmd_cpus_check.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/201f545bc1d171baacc8af1853be40795ddfb803', 'message': 'Use and ownership info for the ovs_dpdk_pmd_cpus_check module.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I7a06b82f8fefca699ed4e510d33400fa28c0b5d6\n'}]",1,794218,201f545bc1d171baacc8af1853be40795ddfb803,17,6,3,32926,,,0,"Use and ownership info for the ovs_dpdk_pmd_cpus_check module.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I7a06b82f8fefca699ed4e510d33400fa28c0b5d6
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/18/794218/3 && git format-patch -1 --stdout FETCH_HEAD,['library/ovs_dpdk_pmd_cpus_check.py'],1,d1f9d93298e869d1e0011f7ffed0346c4945ebd3,ovs_dpdk_pmd_cpus_check/use,"""""""ovs_dpdk_pmd_cpus_check module Used by the ovs_dpdk_pmd validation. """""" - Used by ovs_dpdk_pmd validation.",,4,1
openstack%2Ftripleo-validations~master~I09672ce833d2dcb4fac0edbc8149ac44efa12861,openstack/tripleo-validations,master,I09672ce833d2dcb4fac0edbc8149ac44efa12861,Use and ownership info for the ceph_pools_pg_protection module,MERGED,2021-06-02 12:18:40.000000000,2021-06-10 20:28:50.000000000,2021-06-10 20:27:14.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-02 12:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2c957274d6e7014d67d5867b830b312753f885bc', 'message': ""Usage info for the ceph_pools_pg_protection module\n\nAdjusted the module level 'DOCUMENTATION' attribute\nto improve readability/style.\n\nMoved long comment into a new, function level docstring.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I09672ce833d2dcb4fac0edbc8149ac44efa12861\n""}, {'number': 2, 'created': '2021-06-02 14:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e4b9974ac39906b5db5a9a6a41c053e55ce3f1d2', 'message': ""Usage info for the ceph_pools_pg_protection module\n\nAdjusted the module level 'DOCUMENTATION' attribute\nto improve readability/style.\n\nMoved long comment into a new, function level docstring.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I09672ce833d2dcb4fac0edbc8149ac44efa12861\n""}, {'number': 3, 'created': '2021-06-03 13:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4ce7f42ff4a7086c7726f6565362125af0f5c970', 'message': ""Use and ownership info for the ceph_pools_pg_protection module\n\nAdjusted the module level 'DOCUMENTATION' attribute\nto improve readability/style.\n\nMoved long comment into a new, function level docstring.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I09672ce833d2dcb4fac0edbc8149ac44efa12861\n""}, {'number': 4, 'created': '2021-06-03 14:21:02.000000000', 'files': ['library/ceph_pools_pg_protection.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6956d74682338008521cd772ce379baa57417442', 'message': ""Use and ownership info for the ceph_pools_pg_protection module\n\nAdjusted the module level 'DOCUMENTATION' attribute\nto improve readability/style.\n\nMoved long comment into a new, function level docstring.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I09672ce833d2dcb4fac0edbc8149ac44efa12861\n""}]",5,794207,6956d74682338008521cd772ce379baa57417442,23,8,4,32926,,,0,"Use and ownership info for the ceph_pools_pg_protection module

Adjusted the module level 'DOCUMENTATION' attribute
to improve readability/style.

Moved long comment into a new, function level docstring.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I09672ce833d2dcb4fac0edbc8149ac44efa12861
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/07/794207/4 && git format-patch -1 --stdout FETCH_HEAD,['library/ceph_pools_pg_protection.py'],1,2c957274d6e7014d67d5867b830b312753f885bc,ceph/use,"""""""ceph_pools_pg_protection module Used by the ceph-pg validation. """""" - The Ceph PG overdose protection check (https://ceph.com/community/new-luminous-pg-overdose-protection) is executed by Ceph before a pool is created. If the check does not pass, then the pool is not created. - When TripleO deploys Ceph it triggers ceph-ansible which creates the pools that OpenStack needs. - This validation runs the same check that the overdose protection uses to determine if the user should update their CephPools, PG count, or number of OSDs. Without this check a deployer may have to wait until after Ceph is running but before the pools are created to realize the deployment will fail. - Used by the ceph-pg validation. """"""This module never changes state of a target system, it only evaluates if inputs will work when Ceph processes then. There shouldn't be anything like the following result['changed'] = True This module does not currently have fail options. It should only evaluate input and make result of the evaluation available. So it doesn't currently do anything like the following by design. module.fail_json(msg='Failing for invalid input', **result) Exit and pass the key/value results of the simulation """""""," - ""The Ceph PG overdose protection check (https://ceph.com/community/new-luminous-pg-overdose-protection) is executed by Ceph before a pool is created. If the check does not pass, then the pool is not created. When TripleO deploys Ceph it triggers ceph-ansible which creates the pools that OpenStack needs. This validation runs the same check that the overdose protection uses to determine if the user should update their CephPools, PG count, or number of OSDs. Without this check a deployer may have to wait until after Ceph is running but before the pools are created to realize the deployment will fail."" # This module never changes state of a target system, it only # evaluates if inputs will work when Ceph processes then. # There shouldn't be anything like the following # result['changed'] = True # This module does not currently have fail options. It should # only evaluate input and make result of the evaluation available. # So it doesn't currently do anything like the following by design. # module.fail_json(msg='Failing for invalid input', **result) # Exit and pass the key/value results of the simulation",22,13
openstack%2Ftripleo-quickstart-extras~master~I8c163457c24e92a4a98d4796b7dfd8351c0bfe14,openstack/tripleo-quickstart-extras,master,I8c163457c24e92a4a98d4796b7dfd8351c0bfe14,Test container updates when delorean-current does not exist,MERGED,2021-06-03 13:03:55.000000000,2021-06-10 20:27:10.000000000,2021-06-10 20:27:10.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-06-03 13:03:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/28c8cef2166dd686e88411a5233a5b60e0932b26', 'message': 'WIP: Test conatiner updates when delorean-current does not exist\n\ndelorean-current does not exist is downstream jobs.\nThis review set_fact to edit the default value\nbefore adding component repos.\n\nChange-Id: I8c163457c24e92a4a98d4796b7dfd8351c0bfe14\n'}, {'number': 2, 'created': '2021-06-03 13:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1ced55eccd8b806131f3a1fd855a24723734ec4b', 'message': 'WIP: Test container updates when delorean-current does not exist\n\ndelorean-current does not exist is downstream jobs.\nThis review set_fact to edit the default value\nbefore adding component repos.\n\nChange-Id: I8c163457c24e92a4a98d4796b7dfd8351c0bfe14\n'}, {'number': 3, 'created': '2021-06-07 13:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/03574537fe7f61e99db3af04458a001afa7ad0b9', 'message': 'WIP: Test container updates when delorean-current does not exist\n\ndelorean-current does not exist is downstream jobs.\nThis review set_fact to edit the default value\nbefore adding component repos.\n\nChange-Id: I8c163457c24e92a4a98d4796b7dfd8351c0bfe14\n'}, {'number': 4, 'created': '2021-06-08 13:57:51.000000000', 'files': ['roles/undercloud-deploy/tasks/create-scripts.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ef91d725f8d10c60fc78e4dc25e54d21bd7256f0', 'message': 'Test container updates when delorean-current does not exist\n\ndelorean-current does not exist is downstream jobs.\nThis review set_fact to edit the default value\nbefore adding component repos.\n\nChange-Id: I8c163457c24e92a4a98d4796b7dfd8351c0bfe14\n'}]",2,794584,ef91d725f8d10c60fc78e4dc25e54d21bd7256f0,17,6,4,9976,,,0,"Test container updates when delorean-current does not exist

delorean-current does not exist is downstream jobs.
This review set_fact to edit the default value
before adding component repos.

Change-Id: I8c163457c24e92a4a98d4796b7dfd8351c0bfe14
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/84/794584/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/undercloud-deploy/tasks/create-scripts.yml'],1,28c8cef2166dd686e88411a5233a5b60e0932b26,switch-case-update-repos,"- name: Set update_containers_repo if delorean-current is not present stat: path: ""/etc/yum.repos.d/delorean-current.repo"" register: delorean_current_stat - name: Remove delorean-current from repo updates set_fact: update_containers_repo: >- {% if compressed_gating_repo is defined %}{{ gating_repo_name }}{% endif %} {%- if compressed_gating_repo is defined and container_prep_additional_repos -%},{%- endif -%} {%- if container_prep_additional_repos -%}{{ container_prep_additional_repos }}{%- endif -%} when: not delorean_current_stat.stat.exists",,12,0
openstack%2Ftripleo-heat-templates~master~I7aa97142224f040abe6123450ef13ec5959a9c5d,openstack/tripleo-heat-templates,master,I7aa97142224f040abe6123450ef13ec5959a9c5d,Set ganesha idmap.conf file path and overrides,MERGED,2021-06-08 08:02:16.000000000,2021-06-10 20:11:48.000000000,2021-06-10 20:11:48.000000000,"[{'_account_id': 6796}, {'_account_id': 9003}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-08 08:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0f9ca3a921ca740e90f59a087910eeb317d67f87', 'message': 'Set ganesha idmap.conf file path and overrides\n\nThis patch is a follow up of [1], which added two additional\nparameters with the purpose of defining the idmap.conf location\nand some potential overrides that can be applied via [2].\n\n[1] https://review.opendev.org/773999\n[2] https://review.opendev.org/795233\n\nDepends-On: I2b118e6e2184e70d5bccb4ab3cdb7e868ac731e2\nChange-Id: I7aa97142224f040abe6123450ef13ec5959a9c5d\n'}, {'number': 2, 'created': '2021-06-08 12:49:14.000000000', 'files': ['deployment/cephadm/ceph-nfs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/00f9300495f0023d63d0debfd90ae0344eb6498d', 'message': 'Set ganesha idmap.conf file path and overrides\n\nThis patch is a follow up of [1], which added two additional\nparameters with the purpose of defining the idmap.conf location\nand some potential overrides that can be applied via [2].\n\n[1] https://review.opendev.org/773999\n[2] https://review.opendev.org/795233\n\nDepends-On: I2b118e6e2184e70d5bccb4ab3cdb7e868ac731e2\nChange-Id: I7aa97142224f040abe6123450ef13ec5959a9c5d\n'}]",0,795250,00f9300495f0023d63d0debfd90ae0344eb6498d,16,5,2,25402,,,0,"Set ganesha idmap.conf file path and overrides

This patch is a follow up of [1], which added two additional
parameters with the purpose of defining the idmap.conf location
and some potential overrides that can be applied via [2].

[1] https://review.opendev.org/773999
[2] https://review.opendev.org/795233

Depends-On: I2b118e6e2184e70d5bccb4ab3cdb7e868ac731e2
Change-Id: I7aa97142224f040abe6123450ef13ec5959a9c5d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/795250/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cephadm/ceph-nfs.yaml'],1,0f9ca3a921ca740e90f59a087910eeb317d67f87,cephadm_ganesha, tripleo_cephadm_idmap_conf: {get_param: ManilaCephFSNFSIdmapConf} tripleo_cephadm_idmap_overrides: {get_param: ManilaCephFSNFSIdmapOverrides},,2,0
openstack%2Fpython-tripleoclient~master~Icf1189d78ccccac303d42ae9b35a532a7ecf226f,openstack/python-tripleoclient,master,Icf1189d78ccccac303d42ae9b35a532a7ecf226f,Move get_ctlplane_attrs to utils,MERGED,2021-06-04 13:08:55.000000000,2021-06-10 19:29:46.000000000,2021-06-10 19:28:13.000000000,"[{'_account_id': 8833}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-04 13:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/24f9e637a7b346bebf137c1bc2762a9c4dbc3bf2', 'message': 'Move get_ctlplane_attrs to utils\n\nChange-Id: Icf1189d78ccccac303d42ae9b35a532a7ecf226f\n'}, {'number': 2, 'created': '2021-06-04 19:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/73ca783a0f232a50784a2d03da38958cf7d2fe4f', 'message': 'Move get_ctlplane_attrs to utils\n\nChange-Id: Icf1189d78ccccac303d42ae9b35a532a7ecf226f\n'}, {'number': 3, 'created': '2021-06-05 00:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/dd5a8ad8f9fa67f1393779c24a404bea94741bc0', 'message': 'Move get_ctlplane_attrs to utils\n\nChange-Id: Icf1189d78ccccac303d42ae9b35a532a7ecf226f\n'}, {'number': 4, 'created': '2021-06-09 09:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/055f0e767ba90b67d9240ef3f05228c92bb3e0c1', 'message': 'Move get_ctlplane_attrs to utils\n\nChange-Id: Icf1189d78ccccac303d42ae9b35a532a7ecf226f\n'}, {'number': 5, 'created': '2021-06-09 20:30:48.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/tests/v1/overcloud_deploy/fakes.py', 'tripleoclient/utils.py', 'tripleoclient/tests/fakes.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/78190843e35e964e6b7925e9aa3f303a5ce56df2', 'message': 'Move get_ctlplane_attrs to utils\n\nChange-Id: Icf1189d78ccccac303d42ae9b35a532a7ecf226f\n'}]",0,794804,78190843e35e964e6b7925e9aa3f303a5ce56df2,28,5,5,24245,,,0,"Move get_ctlplane_attrs to utils

Change-Id: Icf1189d78ccccac303d42ae9b35a532a7ecf226f
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/04/794804/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/tests/v1/overcloud_deploy/fakes.py', 'tripleoclient/utils.py', 'tripleoclient/tests/fakes.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py', 'tripleoclient/v1/overcloud_deploy.py']",7,24f9e637a7b346bebf137c1bc2762a9c4dbc3bf2,overcloud_deploy_clean, parameters['CtlplaneNetworkAttributes'] = utils.get_ctlplane_attrs(),"import openstack parameters['CtlplaneNetworkAttributes'] = self._get_ctlplane_attrs() def _get_ctlplane_attrs(self): try: conn = openstack.connect('undercloud') except openstack.exceptions.ConfigException: return dict() if not conn.endpoint_for('network'): return dict() network = conn.network.find_network('ctlplane') if network is None: return dict() net_attributes_map = {'network': dict(), 'subnets': dict()} net_attributes_map['network'].update({ 'name': network.name, 'mtu': network.mtu, 'dns_domain': network.dns_domain, 'tags': network.tags, }) for subnet_id in network.subnet_ids: subnet = conn.network.get_subnet(subnet_id) net_attributes_map['subnets'].update({ subnet.name: { 'name': subnet.name, 'cidr': subnet.cidr, 'gateway_ip': subnet.gateway_ip, 'host_routes': subnet.host_routes, 'dns_nameservers': subnet.dns_nameservers, 'ip_version': subnet.ip_version, } }) return net_attributes_map ",234,220
openstack%2Ftripleo-validations~master~I329d56a266a62327ab3ba88ac726729624d2a766,openstack/tripleo-validations,master,I329d56a266a62327ab3ba88ac726729624d2a766,Remove the post-update groups.,MERGED,2021-06-08 16:30:24.000000000,2021-06-10 19:29:43.000000000,2021-06-10 19:28:22.000000000,"[{'_account_id': 8297}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32432}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-08 16:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0187416c24d128c5765b504fcd3bc3949ec5102f', 'message': ""Remove the post-update groups.\n\nFor the update it's not required to define the\nDockerInsecureRegistryAddress parameter.\n\nChange-Id: I329d56a266a62327ab3ba88ac726729624d2a766\n""}, {'number': 2, 'created': '2021-06-08 20:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6b7d0278ca531d48f0dd0431ed102e1dd3d4d2ad', 'message': ""Remove the post-update groups.\n\nFor the update it's not required to define the\nDockerInsecureRegistryAddress parameter.\n\nChange-Id: I329d56a266a62327ab3ba88ac726729624d2a766\n""}, {'number': 3, 'created': '2021-06-09 09:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f8953805c5485186808aa96b5f66fb0e3db3f0d4', 'message': ""Remove the post-update groups.\n\nFor the update it's not required to define the\nDockerInsecureRegistryAddress parameter.\n\nChange-Id: I329d56a266a62327ab3ba88ac726729624d2a766\n""}, {'number': 4, 'created': '2021-06-09 10:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/22f95f70b4fb2f4eafc4a69b75993fadb5de16ec', 'message': ""Remove the post-update groups.\n\nFor the update it's not required to define the\nDockerInsecureRegistryAddress parameter.\n\nChange-Id: I329d56a266a62327ab3ba88ac726729624d2a766\n""}, {'number': 5, 'created': '2021-06-09 15:02:23.000000000', 'files': ['playbooks/check-uc-hostname.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9f7dbbf5ccd73141bef49d6faa3b6480104244eb', 'message': ""Remove the post-update groups.\n\nFor the update it's not required to define the\nDockerInsecureRegistryAddress parameter.\n\nChange-Id: I329d56a266a62327ab3ba88ac726729624d2a766\n""}]",0,795372,9f7dbbf5ccd73141bef49d6faa3b6480104244eb,21,8,5,31245,,,0,"Remove the post-update groups.

For the update it's not required to define the
DockerInsecureRegistryAddress parameter.

Change-Id: I329d56a266a62327ab3ba88ac726729624d2a766
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/72/795372/5 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/check-uc-hostname.yaml'],1,0187416c24d128c5765b504fcd3bc3949ec5102f,fix_README,, - post-update,0,1
openstack%2Fmonasca-agent~stable%2Fussuri~I2ae523ff019ff0a1944dcec905b3ca797bf9b96f,openstack/monasca-agent,stable/ussuri,I2ae523ff019ff0a1944dcec905b3ca797bf9b96f,Fix PY3 issue,MERGED,2021-06-10 18:07:44.000000000,2021-06-10 19:13:53.000000000,2021-06-10 19:13:53.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-06-10 18:07:44.000000000', 'files': ['monasca_agent/collector/checks_d/mysql.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/961cf3b4a2fa1b103f4f26ee01d0f032bbc93dc1', 'message': 'Fix PY3 issue\n\n- In PY3 the output of subprocess.Popen is a type bytes, but\nstrip() method requires a type str.\n\n- Keeping PY2 support with six\n\nChange-Id: I2ae523ff019ff0a1944dcec905b3ca797bf9b96f\n(cherry picked from commit 4fb0ae6bb61c09d7f4e4fc2ba70c137909ec3449)\n'}]",0,795809,961cf3b4a2fa1b103f4f26ee01d0f032bbc93dc1,6,2,1,28062,,,0,"Fix PY3 issue

- In PY3 the output of subprocess.Popen is a type bytes, but
strip() method requires a type str.

- Keeping PY2 support with six

Change-Id: I2ae523ff019ff0a1944dcec905b3ca797bf9b96f
(cherry picked from commit 4fb0ae6bb61c09d7f4e4fc2ba70c137909ec3449)
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/09/795809/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_agent/collector/checks_d/mysql.py'],1,961cf3b4a2fa1b103f4f26ee01d0f032bbc93dc1,,from six import PY2 if PY2: pslines = ps.strip().split('\n') else: pslines = ps.decode('utf-8').strip().split('\n'), pslines = ps.strip().split('\n'),5,1
openstack%2Fmonasca-agent~stable%2Fwallaby~I297c30044df9a94baa645a1a27de10bb49038440,openstack/monasca-agent,stable/wallaby,I297c30044df9a94baa645a1a27de10bb49038440,Fix PY3 issue,MERGED,2021-06-10 17:27:48.000000000,2021-06-10 19:13:46.000000000,2021-06-10 19:13:46.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-06-10 17:27:48.000000000', 'files': ['monasca_agent/collector/checks_d/mysql.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/7cfbf4bf02ca116a313bddadd63417a2076ba5f6', 'message': 'Fix PY3 issue\n\n- In PY3 the output of subprocess.Popen is a type bytes, but\nstrip() method requires a type str.\n\nStory: 2008017\nTask: 40669\n\nChange-Id: I297c30044df9a94baa645a1a27de10bb49038440\n(cherry picked from commit 679f09a3a8f6c89b3b729b60d2174cb4ae3d891c)\n'}]",0,795804,7cfbf4bf02ca116a313bddadd63417a2076ba5f6,8,2,1,28062,,,0,"Fix PY3 issue

- In PY3 the output of subprocess.Popen is a type bytes, but
strip() method requires a type str.

Story: 2008017
Task: 40669

Change-Id: I297c30044df9a94baa645a1a27de10bb49038440
(cherry picked from commit 679f09a3a8f6c89b3b729b60d2174cb4ae3d891c)
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/04/795804/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_agent/collector/checks_d/mysql.py'],1,7cfbf4bf02ca116a313bddadd63417a2076ba5f6,, pslines = ps.decode('utf-8').strip().split('\n'), pslines = ps.strip().split('\n'),1,1
openstack%2Fmanila~master~I4e3abadbde780b54500eb7ce7660f99fcf07b3cc,openstack/manila,master,I4e3abadbde780b54500eb7ce7660f99fcf07b3cc,Add access rules validation for container driver,NEW,2021-03-22 17:37:18.000000000,2021-06-10 19:13:22.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 32411}]","[{'number': 1, 'created': '2021-03-22 17:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/36871eb64d56642a0c492d3237d31ccb9f7609aa', 'message': 'Add access rules validation for container driver\n\nAdds LDAP security service validation when updating access rules in the\ncontainer driver. Before granting access, the driver will search for the\nallowed user to check if a corresponding cn entry exists in the LDAP\ndirectory.\n\nChange-Id: I4e3abadbde780b54500eb7ce7660f99fcf07b3cc\n'}, {'number': 2, 'created': '2021-06-10 14:07:38.000000000', 'files': ['releasenotes/notes/add-sec-srv-access-rules-container-driver-ee0b09eef395ac13.yaml', 'manila/tests/share/drivers/container/test_driver.py', 'manila/share/drivers/container/security_service_helper.py', 'manila/share/drivers/container/driver.py', 'manila/tests/share/drivers/container/test_security_service_helper.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/69653a698d86f3f92e0828c3ae01d8be107980f7', 'message': 'Add access rules validation for container driver\n\nAdds LDAP security service validation when updating access rules in the\ncontainer driver. Before granting access, the driver will search for the\nallowed user to check if a corresponding cn entry exists in the LDAP\ndirectory.\n\nChange-Id: I4e3abadbde780b54500eb7ce7660f99fcf07b3cc\n'}]",8,782305,69653a698d86f3f92e0828c3ae01d8be107980f7,19,3,2,32411,,,0,"Add access rules validation for container driver

Adds LDAP security service validation when updating access rules in the
container driver. Before granting access, the driver will search for the
allowed user to check if a corresponding cn entry exists in the LDAP
directory.

Change-Id: I4e3abadbde780b54500eb7ce7660f99fcf07b3cc
",git fetch https://review.opendev.org/openstack/manila refs/changes/05/782305/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-sec-srv-access-rules-container-driver-ee0b09eef395ac13.yaml', 'manila/tests/share/drivers/container/test_driver.py', 'manila/share/drivers/container/security_service_helper.py', 'manila/share/drivers/container/driver.py', 'manila/tests/share/drivers/container/test_security_service_helper.py']",5,36871eb64d56642a0c492d3237d31ccb9f7609aa,," def test_validate_access_rules(self): (share_server, security_service, add_rules, ldap_search_dicts, ldap_get_info, expected_cmds) = ( self._setup_test_ldap_search_tests()) mock_ldap_search = self.mock_object( self.security_service_helper, 'ldap_search') self.security_service_helper.validate_access_rules( share_server['id'], security_service, add_rules) for ldap_search_dict in ldap_search_dicts: mock_ldap_search.assert_called_once_with( share_server['id'], security_service, ldap_search_dict['ldap_attr'], ldap_search_dict['ldap_filter']) def _setup_test_ldap_search_tests(self): share_server = db_utils.create_share_server() security_service = db_utils.create_security_service(type='ldap') add_rule = db_utils.create_access(access_type='user') add_rules = [] add_rules.append(dict(add_rule)) ldap_attrs = [] [ldap_attrs.append('cn') for add_rule in add_rules] ldap_filters = [] [ldap_filters.append(add_rule['access_to']) for add_rule in add_rules] ldap_search_dicts = [] [ldap_search_dicts.append( {'ldap_attr': ldap_attr, 'ldap_filter': ldap_filter}) for ldap_attr, ldap_filter in zip(ldap_attrs, ldap_filters)] ldap_get_info = { 'ss_password': security_service['password'], 'ss_user': security_service['user'] } expected_cmds = [] [expected_cmds.append( [""docker"", ""exec"", ""%s"" % share_server['id'], ""ldapsearch"", ""-LLL"", ""-x"", ""-H"", ""ldap://localhost:389"", ""-b"", ""dc=example,dc=com"", ""-D"", ""cn=%s,dc=example,dc=com"" % ldap_get_info['ss_user'], ""-w"", ""%s"" % ldap_get_info['ss_password'], ""%s=%s"" % (ldap_search_dict['ldap_attr'], ldap_search_dict['ldap_filter']), ""%s"" % ldap_search_dict['ldap_attr']]) for ldap_search_dict in ldap_search_dicts] return (share_server, security_service, add_rules, ldap_search_dicts, ldap_get_info, expected_cmds) def test_ldap_search(self): (share_server, security_service, add_rules, ldap_search_dicts, ldap_get_info, expected_cmds) = ( self._setup_test_ldap_search_tests()) expected_exit_code = 0 mock_ldap_get_info = self.mock_object( self.security_service_helper, 'ldap_get_info', mock.Mock(return_value=ldap_get_info)) mock_execute = self.mock_object( self.security_service_helper, '_execute', mock.Mock(return_value=('fake', expected_exit_code))) for ldap_search_dict in ldap_search_dicts: self.security_service_helper.ldap_search( share_server['id'], security_service, ldap_search_dict['ldap_attr'], ldap_search_dict['ldap_filter']) mock_ldap_get_info.assert_called_once_with(security_service) for expected_cmd in expected_cmds: mock_execute.assert_called_once_with( *expected_cmd, run_as_root=True) @ddt.data(11, 0) def test_ldap_search_exception(self, expected_exit_code): (share_server, security_service, add_rules, ldap_search_dicts, ldap_get_info, expected_cmds) = ( self._setup_test_ldap_search_tests()) mock_ldap_get_info = self.mock_object( self.security_service_helper, 'ldap_get_info', mock.Mock(return_value=ldap_get_info)) mock_execute = self.mock_object( self.security_service_helper, '_execute', mock.Mock(return_value=('', expected_exit_code))) for ldap_search_dict in ldap_search_dicts: self.assertRaises( exception.ManilaException, self.security_service_helper.ldap_search, share_server['id'], security_service, ldap_search_dict['ldap_attr'], ldap_search_dict['ldap_filter'] ) mock_ldap_get_info.assert_called_once_with(security_service) for expected_cmd in expected_cmds: mock_execute.assert_called_once_with( *expected_cmd, run_as_root=True) ",,174,2
openstack%2Fkolla~master~I8460a4159c8da8ae0b856867e068d30fbffb4d34,openstack/kolla,master,I8460a4159c8da8ae0b856867e068d30fbffb4d34,Enable Debian updates repo,MERGED,2021-06-10 08:25:39.000000000,2021-06-10 19:11:06.000000000,2021-06-10 19:09:52.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-10 08:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d48d763ad01fafd0672e7618f6e88c42067c8d5d', 'message': 'Enable Debian updates repo\n\nBackport below Wallaby switching bullseye to buster.\n\nCloses-Bug: #1931544\nChange-Id: I8460a4159c8da8ae0b856867e068d30fbffb4d34\n'}, {'number': 2, 'created': '2021-06-10 10:56:30.000000000', 'files': ['releasenotes/notes/bug-1931544-5a091735efb6d6dd.yaml', 'docker/base/sources.list.debian'], 'web_link': 'https://opendev.org/openstack/kolla/commit/789c9c3b84e84796ac8211112fa29f415f560c88', 'message': 'Enable Debian updates repo\n\nBackport below Wallaby switching bullseye to buster.\n\nCloses-Bug: #1931544\nChange-Id: I8460a4159c8da8ae0b856867e068d30fbffb4d34\n'}]",0,795741,789c9c3b84e84796ac8211112fa29f415f560c88,13,4,2,30491,,,0,"Enable Debian updates repo

Backport below Wallaby switching bullseye to buster.

Closes-Bug: #1931544
Change-Id: I8460a4159c8da8ae0b856867e068d30fbffb4d34
",git fetch https://review.opendev.org/openstack/kolla refs/changes/41/795741/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1931544-5a091735efb6d6dd.yaml', 'docker/base/sources.list.debian']",2,d48d763ad01fafd0672e7618f6e88c42067c8d5d,bug/1931544,# debian updates deb http://deb.debian.org/debian bullseye-updates main ,,12,0
openstack%2Fpuppet-tempest~master~I4d5cc551d062aaf53b7d07c03baae33385707cea,openstack/puppet-tempest,master,I4d5cc551d062aaf53b7d07c03baae33385707cea,Get rid of the $pyvers variable,MERGED,2021-05-21 12:19:02.000000000,2021-06-10 19:03:45.000000000,2021-06-10 19:03:45.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-21 12:19:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/37a9aedab3ce301ab336d0233a8aeb80d8c5d4b0', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: I4d5cc551d062aaf53b7d07c03baae33385707cea\n""}, {'number': 2, 'created': '2021-05-27 12:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/ab3d11268acd9ea2922c55d0b7b8bd27acf3b3df', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: I4d5cc551d062aaf53b7d07c03baae33385707cea\n""}, {'number': 3, 'created': '2021-06-09 11:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/8198d2462182431f953ebd955df848196f1ed19d', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: I4d5cc551d062aaf53b7d07c03baae33385707cea\n""}, {'number': 4, 'created': '2021-06-09 15:49:17.000000000', 'files': ['manifests/init.pp', 'manifests/params.pp', 'spec/classes/tempest_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/0f9ce49e1109ccfd81a430d7c9b3943eba393a55', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: I4d5cc551d062aaf53b7d07c03baae33385707cea\n""}]",2,792586,0f9ce49e1109ccfd81a430d7c9b3943eba393a55,18,3,4,6476,,,0,"Get rid of the $pyvers variable

Since everyone has switched to Python3, it's time for the removal of the
$pyvers variable.

Change-Id: I4d5cc551d062aaf53b7d07c03baae33385707cea
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/86/792586/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/params.pp', 'spec/classes/tempest_init_spec.rb']",2,37a9aedab3ce301ab336d0233a8aeb80d8c5d4b0,pyvers-removal," { :dev_packages => ['python3-devel', 'libxslt-devel', 'libxml2-devel', 'openssl-devel', 'libffi-devel', 'patch', 'gcc'], :package_name => 'openstack-tempest', :pip_command => 'pip3', :pyvers => '3' }"," if facts[:operatingsystem] == 'Fedora' { :dev_packages => ['python-devel', 'libxslt-devel', 'libxml2-devel', 'openssl-devel', 'libffi-devel', 'patch', 'gcc'], :package_name => 'openstack-tempest', :pip_command => 'pip3', :pyvers => '3' } else if facts[:operatingsystemmajrelease] > '7' { :dev_packages => ['python3-devel', 'libxslt-devel', 'libxml2-devel', 'openssl-devel', 'libffi-devel', 'patch', 'gcc'], :package_name => 'openstack-tempest', :pip_command => 'pip3', :pyvers => '3' } else { :dev_packages => ['python-devel', 'libxslt-devel', 'libxml2-devel', 'openssl-devel', 'libffi-devel', 'patch', 'gcc'], :package_name => 'openstack-tempest', :pip_command => 'pip', :pyvers => '' } end end",39,66
openstack%2Fkolla~master~I60a76f42708f1746bd2c582ce25867ac34c9e865,openstack/kolla,master,I60a76f42708f1746bd2c582ce25867ac34c9e865,"Revert ""[CI] Add grafana to allowed-to-fail""",MERGED,2021-06-10 16:19:45.000000000,2021-06-10 18:58:31.000000000,2021-06-10 18:57:12.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-10 16:19:45.000000000', 'files': ['tests/playbooks/run.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c6fa5d98defbb49cda26545f672d0658a73c7580', 'message': 'Revert ""[CI] Add grafana to allowed-to-fail""\n\nThis reverts commit a6884085e1a5336f17c2ed64f67d8f885c454207.\n\nReason for revert: Repo is fine again.\n\nChange-Id: I60a76f42708f1746bd2c582ce25867ac34c9e865\n'}]",0,795803,c6fa5d98defbb49cda26545f672d0658a73c7580,8,4,1,30491,,,0,"Revert ""[CI] Add grafana to allowed-to-fail""

This reverts commit a6884085e1a5336f17c2ed64f67d8f885c454207.

Reason for revert: Repo is fine again.

Change-Id: I60a76f42708f1746bd2c582ce25867ac34c9e865
",git fetch https://review.opendev.org/openstack/kolla refs/changes/03/795803/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/playbooks/run.yml'],1,c6fa5d98defbb49cda26545f672d0658a73c7580,allow-to-fail-grafana,," # FIXME(yoctozepto): The grafana repo is broken for Debuntu. allowed_to_fail: ""grafana""",0,2
openstack%2Fopenstack-manuals~master~If55ec3d4e0c98e43e985e293f23813794315450d,openstack/openstack-manuals,master,If55ec3d4e0c98e43e985e293f23813794315450d,Always redirect project contributor docs to latest,MERGED,2021-06-04 17:54:52.000000000,2021-06-10 18:56:34.000000000,2021-06-05 07:34:49.000000000,"[{'_account_id': 15993}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-04 17:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/322d21ce9aa42f18f5ad617070bb1e4e12b0b218', 'message': 'Always redirect project contributor docs to latest\n\nIt doesn\'t really make sense to publish multiple versions of\ncontributor documentation, but when contributor documentation is\nincluded in branched projects this is precisely what we end up with.\nLuckily, the recent work to standardize project contributor docs\nputs them under a consistent subtree of the each project\'s\ndocumentation, so we can easily match on them.\n\nIn order to avoid things like web search results and stale bookmarks\nsending unwary users to outdated versions of contributor\ninformation, just always redirect any old series to ""latest""\ninstead.\n\nChange-Id: If55ec3d4e0c98e43e985e293f23813794315450d\n'}, {'number': 2, 'created': '2021-06-04 22:58:16.000000000', 'files': ['www/.htaccess', 'www/redirect-tests.txt'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/4aed59d263f47458bd9e8d49f84b69f1fb611adf', 'message': 'Always redirect project contributor docs to latest\n\nIt doesn\'t really make sense to publish multiple versions of\ncontributor documentation, but when contributor documentation is\nincluded in branched projects this is precisely what we end up with.\nLuckily, the recent work to standardize project contributor docs\nputs them under a consistent subtree of the each project\'s\ndocumentation, so we can easily match on them.\n\nIn order to avoid things like web search results and stale bookmarks\nsending unwary users to outdated versions of contributor\ninformation, just always redirect any old series to ""latest""\ninstead.\n\nChange-Id: If55ec3d4e0c98e43e985e293f23813794315450d\n'}]",0,794874,4aed59d263f47458bd9e8d49f84b69f1fb611adf,12,4,2,5263,,,0,"Always redirect project contributor docs to latest

It doesn't really make sense to publish multiple versions of
contributor documentation, but when contributor documentation is
included in branched projects this is precisely what we end up with.
Luckily, the recent work to standardize project contributor docs
puts them under a consistent subtree of the each project's
documentation, so we can easily match on them.

In order to avoid things like web search results and stale bookmarks
sending unwary users to outdated versions of contributor
information, just always redirect any old series to ""latest""
instead.

Change-Id: If55ec3d4e0c98e43e985e293f23813794315450d
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/74/794874/1 && git format-patch -1 --stdout FETCH_HEAD,"['www/.htaccess', 'www/redirect-tests.txt']",2,322d21ce9aa42f18f5ad617070bb1e4e12b0b218,contrib-redir,# Redirect project contributor docs for stable series to latest /nova/wallaby/contributor 301 /nova/latest/contributor/ /swift/xena/contributor/foo.html 301 /swift/latest/contributor/foo.html ,,9,0
openstack%2Fpython-octaviaclient~master~I6e68113aea9ce27beb6691bd2a398bf276a23ae2,openstack/python-octaviaclient,master,I6e68113aea9ce27beb6691bd2a398bf276a23ae2,Improve the client performance on large clouds,MERGED,2021-05-21 19:02:26.000000000,2021-06-10 18:29:25.000000000,2021-06-10 18:27:56.000000000,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-05-21 19:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/28bb8c00c38f0195a65fccf074fd8dd85b930bf4', 'message': 'Improve the client performance on large clouds\n\nThis patch fixes the client performance when used on large clouds.\nPreviously the client was pulling down a full list of resources when\nmapping names to IDs and filtering on the client side. This is inefficient\nas it is transfering many more records than are necessary.\nThis patch uses the filter capabilities of the OpenStack APIs to target\nthe search for a resource ID.\n\nChange-Id: I6e68113aea9ce27beb6691bd2a398bf276a23ae2\n'}, {'number': 2, 'created': '2021-06-03 20:25:48.000000000', 'files': ['octaviaclient/tests/unit/osc/v2/test_flavorprofile.py', 'releasenotes/notes/Improve-client-performance-when-using-a-name-instead-of-ID-51a6637050386a90.yaml', 'octaviaclient/tests/unit/osc/v2/test_availabilityzone.py', 'octaviaclient/tests/unit/osc/v2/test_health_monitor.py', 'octaviaclient/tests/unit/osc/v2/test_listener.py', 'octaviaclient/tests/unit/osc/v2/test_load_balancer.py', 'octaviaclient/tests/unit/osc/v2/test_flavor.py', 'octaviaclient/tests/unit/osc/v2/test_l7policy.py', 'octaviaclient/osc/v2/utils.py', 'octaviaclient/tests/unit/osc/v2/test_pool.py', 'octaviaclient/tests/unit/osc/v2/test_availabilityzoneprofile.py'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/84e927d4bb3dc38fb3717dfec602e5625e7f882f', 'message': 'Improve the client performance on large clouds\n\nThis patch fixes the client performance when used on large clouds.\nPreviously the client was pulling down a full list of resources when\nmapping names to IDs and filtering on the client side. This is inefficient\nas it is transfering many more records than are necessary.\nThis patch uses the filter capabilities of the OpenStack APIs to target\nthe search for a resource ID.\n\nChange-Id: I6e68113aea9ce27beb6691bd2a398bf276a23ae2\n'}]",0,792688,84e927d4bb3dc38fb3717dfec602e5625e7f882f,12,7,2,11628,,,0,"Improve the client performance on large clouds

This patch fixes the client performance when used on large clouds.
Previously the client was pulling down a full list of resources when
mapping names to IDs and filtering on the client side. This is inefficient
as it is transfering many more records than are necessary.
This patch uses the filter capabilities of the OpenStack APIs to target
the search for a resource ID.

Change-Id: I6e68113aea9ce27beb6691bd2a398bf276a23ae2
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/88/792688/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/Improve-client-performance-when-using-a-name-instead-of-ID-51a6637050386a90.yaml', 'octaviaclient/osc/v2/utils.py']",2,28bb8c00c38f0195a65fccf074fd8dd85b930bf4,fast-name-client,"from oslo_utils import uuidutilsdef _find_resource(list_funct, resource_name, root_tag, name, parent=None): """"""Search for a resource by name and ID. This function will search for a resource by both the name and ID, returning the resource once it finds a match. If no match is found, an exception will be raised. :param list_funct: The resource list method to call during searches. :param resource_name: The name of the resource type we are searching for. :param root_tag: The root tag of the resource returned from the API. :param name: The value we are searching for, a resource name or ID. :param parent: The parent resource ID, when required. :return: The resource found for the name or ID. :raises osc_exc.CommandError: If more than one match or none are found. """""" if parent: parent_args = [parent] else: parent_args = [] # Optimize the API call order if we got a UUID-like name or not if uuidutils.is_uuid_like(name): # Try by ID first resource = list_funct(*parent_args, id=name)[root_tag] if len(resource) == 1: return resource[0] # Try by name next resource = list_funct(*parent_args, name=name)[root_tag] if len(resource) == 1: return resource[0] if len(resource) > 1: msg = (""{0} {1} found with name or ID of {2}. Please try "" ""again with UUID"".format(len(resource), resource_name, name)) raise osc_exc.CommandError(msg) else: # Try by name first resource = list_funct(*parent_args, name=name)[root_tag] if len(resource) == 1: return resource[0] if len(resource) > 1: msg = (""{0} {1} found with name or ID of {2}. Please try "" ""again with UUID"".format(len(resource), resource_name, name)) raise osc_exc.CommandError(msg) # Try by ID next resource = list_funct(*parent_args, id=name)[root_tag] if len(resource) == 1: return resource[0] # We didn't find what we were looking for, raise a consistent error. msg = ""Unable to locate {0} in {1}"".format(name, resource_name) raise osc_exc.CommandError(msg) if resource_name == 'members': member = _find_resource(resource, resource_name, 'members', name['member_id'], parent=name['pool_id']) return member.get('id') if resource_name == 'l7rules': l7rule = _find_resource(resource, resource_name, 'rules', name['l7rule_id'], parent=name['l7policy_id']) return l7rule.get('id') resource = _find_resource(resource, resource_name, resource_name, name) return resource.get(primary_key)"," if resource_name == 'members': names = [re for re in resource(name['pool_id'])['members'] if re.get('id') == name['member_id'] or re.get('name') == name['member_id']] name = name['member_id'] if len(names) > 1: msg = (""{0} {1} found with name or ID of {2}. Please try "" ""again with UUID"".format(len(names), resource_name, name)) raise osc_exc.CommandError(msg) return names[0].get('id') if resource_name == 'l7rules': names = [re for re in resource(name['l7policy_id'])['rules'] if re.get('id') == name['l7rule_id']] name = name['l7rule_id'] return names[0].get('id') names = [re for re in resource()[resource_name] if re.get('name') == name or re.get('id') == name] if len(names) > 1: msg = (""{0} {1} found with name or ID of {2}. Please try "" ""again with UUID"".format(len(names), resource_name, name)) raise osc_exc.CommandError(msg) return names[0].get(primary_key)",74,22
openstack%2Fpython-octaviaclient~master~Ica7c8c953c11af4400b224ad942023f69a72ae02,openstack/python-octaviaclient,master,Ica7c8c953c11af4400b224ad942023f69a72ae02,Support pagination for 'list' API calls,MERGED,2021-05-19 10:48:30.000000000,2021-06-10 18:25:20.000000000,2021-06-10 18:23:50.000000000,"[{'_account_id': 1131}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-19 10:48:30.000000000', 'files': ['octaviaclient/api/v2/octavia.py', 'releasenotes/notes/fix-cli-pagination-792ad8cd386eb0e7.yaml', 'octaviaclient/api/constants.py', 'octaviaclient/tests/unit/api/test_octavia.py'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/cf0c4be37e6f602bf354fb795f370b30841cefa9', 'message': ""Support pagination for 'list' API calls\n\nFix 'list' CLI calls when API calls are paginated.\nFix some UUID or name lookups that failed when the number of resources\nexceeded 'pagination_max_limit'.\n\nStory 2008892\nTask 42489\n\nChange-Id: Ica7c8c953c11af4400b224ad942023f69a72ae02\n""}]",2,792122,cf0c4be37e6f602bf354fb795f370b30841cefa9,8,4,1,29244,,,0,"Support pagination for 'list' API calls

Fix 'list' CLI calls when API calls are paginated.
Fix some UUID or name lookups that failed when the number of resources
exceeded 'pagination_max_limit'.

Story 2008892
Task 42489

Change-Id: Ica7c8c953c11af4400b224ad942023f69a72ae02
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/22/792122/1 && git format-patch -1 --stdout FETCH_HEAD,"['octaviaclient/api/v2/octavia.py', 'releasenotes/notes/fix-cli-pagination-792ad8cd386eb0e7.yaml', 'octaviaclient/api/constants.py', 'octaviaclient/tests/unit/api/test_octavia.py']",4,cf0c4be37e6f602bf354fb795f370b30841cefa9,,"LIST_L7PO_RESP = { 'l7policies': [{'name': 'l71'}, {'name': 'l72'}] }","LIST_L7PO_RESP = [ {'name': 'l71'}, {'name': 'l72'}, ]",121,42
openstack%2Fneutron~master~I627e902e32fe59c6829c3bc92af19abff4b70f9a,openstack/neutron,master,I627e902e32fe59c6829c3bc92af19abff4b70f9a,"Remove ""mitogen"" library installation from ""docs"" job",MERGED,2021-05-27 10:51:29.000000000,2021-06-10 18:17:36.000000000,2021-06-10 18:13:50.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-27 10:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/863e29c74d8e5428c51904755de8113ed71c8fdb', 'message': 'Remove ""mitogen"" library installation from ""docs"" job\n\nSince pyroute 0.6.2, this dependency is not needed anymore. The\npyroute version is bumped both in requirements and doc/requirements.\n\nChange-Id: I627e902e32fe59c6829c3bc92af19abff4b70f9a\nRelated-Bug: #1928913\n'}, {'number': 2, 'created': '2021-06-03 15:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8151dec737d5bf4bc1720eaa45c0b49f8087cc64', 'message': 'Remove ""mitogen"" library installation from ""docs"" job\n\nSince pyroute 0.6.2, this dependency is not needed anymore. The\npyroute version is bumped both in requirements and doc/requirements.\n\nChange-Id: I627e902e32fe59c6829c3bc92af19abff4b70f9a\nRelated-Bug: #1928913\n'}, {'number': 3, 'created': '2021-06-07 10:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f88594ccff4c6f75401d4a9a0176f2a09737940f', 'message': 'Remove ""mitogen"" library installation from ""docs"" job\n\nSince pyroute 0.6.2, this dependency is not needed anymore. The\npyroute version is bumped both in requirements and doc/requirements.\n\nThis patch bumps the pyroute2 version to 0.6.4 (newest version\nprovided in upper-requirements).\n\nChange-Id: I627e902e32fe59c6829c3bc92af19abff4b70f9a\nRelated-Bug: #1928913\n'}, {'number': 4, 'created': '2021-06-07 12:39:28.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a660f77d388682fd464ba3a624c9fe5599dbd938', 'message': 'Remove ""mitogen"" library installation from ""docs"" job\n\nSince pyroute 0.6.2, this dependency is not needed anymore. The\npyroute version is bumped both in requirements and doc/requirements.\n\nThis patch bumps the pyroute2 version to 0.6.4 (newest version\nprovided in upper-requirements).\n\nChange-Id: I627e902e32fe59c6829c3bc92af19abff4b70f9a\nRelated-Bug: #1928913\n'}]",0,793377,a660f77d388682fd464ba3a624c9fe5599dbd938,36,4,4,16688,,,0,"Remove ""mitogen"" library installation from ""docs"" job

Since pyroute 0.6.2, this dependency is not needed anymore. The
pyroute version is bumped both in requirements and doc/requirements.

This patch bumps the pyroute2 version to 0.6.4 (newest version
provided in upper-requirements).

Change-Id: I627e902e32fe59c6829c3bc92af19abff4b70f9a
Related-Bug: #1928913
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/793377/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'doc/requirements.txt', 'tox.ini']",4,863e29c74d8e5428c51904755de8113ed71c8fdb,bug/1928913,,# NOTE(slaweq): mitogen is optional dependency of the pyroute2 and without it # our docs job is failing mitogen>=0.2.9,3,6
openstack%2Fneutron~master~I1af32e72abb9f101f9729aa6d1354c33a95c98ee,openstack/neutron,master,I1af32e72abb9f101f9729aa6d1354c33a95c98ee,[DHCP] Fix cleanup_deleted_ports method,MERGED,2021-06-04 09:07:41.000000000,2021-06-10 18:15:57.000000000,2021-06-10 18:13:02.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 09:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aafeb21327bb4448ff6a0fec3527e82bee9b43db', 'message': '[DHCP] Fix cleanup_deleted_ports method\n\nAssume that only one port is deleted within 24 hours, in method\ncleanup_deleted_ports the port removes from deleted_ports but not\nremoves from deleted_ports_ts\nIn this fix ports older than 1 day will be dropped from\ndeleted_ports and deleted_ports_ts properly\n\nCloses-Bug: # 1930838\nChange-Id: I1af32e72abb9f101f9729aa6d1354c33a95c98ee\n'}, {'number': 2, 'created': '2021-06-04 09:10:53.000000000', 'files': ['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/383f209b502493ca6b059394e2644def754b2de1', 'message': '[DHCP] Fix cleanup_deleted_ports method\n\nAssume that only one port is deleted within 24 hours, in method\ncleanup_deleted_ports the port removes from deleted_ports but not\nremoves from deleted_ports_ts\nIn this fix ports older than 1 day will be dropped from\ndeleted_ports and deleted_ports_ts properly\n\nCloses-Bug: #1930838\nChange-Id: I1af32e72abb9f101f9729aa6d1354c33a95c98ee\n'}]",0,794755,383f209b502493ca6b059394e2644def754b2de1,16,3,2,32667,,,0,"[DHCP] Fix cleanup_deleted_ports method

Assume that only one port is deleted within 24 hours, in method
cleanup_deleted_ports the port removes from deleted_ports but not
removes from deleted_ports_ts
In this fix ports older than 1 day will be dropped from
deleted_ports and deleted_ports_ts properly

Closes-Bug: #1930838
Change-Id: I1af32e72abb9f101f9729aa6d1354c33a95c98ee
",git fetch https://review.opendev.org/openstack/neutron refs/changes/55/794755/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py']",2,aafeb21327bb4448ff6a0fec3527e82bee9b43db,bug/1930838," self.assertEqual([], self.nc._deleted_ports_ts) # check the second iteration is ok too nc.add_to_deleted_ports(fake_port2.id) utils.wait_until_true(lambda: nc._deleted_ports == set(), timeout=7) self.assertEqual([], self.nc._deleted_ports_ts)",,9,2
openstack%2Frequirements~master~I208b00629493953a502f8b95756820ae0d9a9cb6,openstack/requirements,master,I208b00629493953a502f8b95756820ae0d9a9cb6,Add ruamel.yaml to global-requirements.txt,MERGED,2021-06-08 10:17:56.000000000,2021-06-10 18:15:43.000000000,2021-06-10 18:14:07.000000000,"[{'_account_id': 7353}, {'_account_id': 14288}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-08 10:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/90b07f71202de058a6cb596fa97199e3afbf244f', 'message': 'Add ruamel.yaml to global-requirements.txt\n\nThis Python library is now a requirement for building\ndocumentation (ansible-autodoc) for the following project:\n- openstack/tripleo-validations\n- openstack/validations-common\n\nruamel.yaml is a YAML 1.2 loader/dumper package for Python.\n\nThe library is actively maintained, with almost a weekly release. It is\ncompatible with Python 2 and 3 and licensed under the MIT.\n\nhttps://pypi.org/project/ruamel.yaml/\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I208b00629493953a502f8b95756820ae0d9a9cb6\n'}, {'number': 2, 'created': '2021-06-08 17:38:47.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5930f2fbd44667943b9ea20fcaf995f25dde4954', 'message': 'Add ruamel.yaml to global-requirements.txt\n\nThis Python library is now a requirement for building\ndocumentation (ansible-autodoc) for the following project:\n- openstack/tripleo-validations\n- openstack/validations-common\n\nruamel.yaml is a YAML 1.2 loader/dumper package for Python.\n\nThe library is actively maintained, with almost a weekly release. It is\ncompatible with Python 2 and 3 and licensed under the MIT.\n\nhttps://pypi.org/project/ruamel.yaml/\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I208b00629493953a502f8b95756820ae0d9a9cb6\n'}]",0,795270,5930f2fbd44667943b9ea20fcaf995f25dde4954,18,7,2,11491,,,0,"Add ruamel.yaml to global-requirements.txt

This Python library is now a requirement for building
documentation (ansible-autodoc) for the following project:
- openstack/tripleo-validations
- openstack/validations-common

ruamel.yaml is a YAML 1.2 loader/dumper package for Python.

The library is actively maintained, with almost a weekly release. It is
compatible with Python 2 and 3 and licensed under the MIT.

https://pypi.org/project/ruamel.yaml/

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I208b00629493953a502f8b95756820ae0d9a9cb6
",git fetch https://review.opendev.org/openstack/requirements refs/changes/70/795270/2 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,90b07f71202de058a6cb596fa97199e3afbf244f,add_ruamel_yaml,ruamel.yaml==0.17.7,,2,0
openstack%2Fopenstack-ansible-os_magnum~stable%2Fussuri~I8a569f47c0f3100f4c49dde01c58b31338ab1182,openstack/openstack-ansible-os_magnum,stable/ussuri,I8a569f47c0f3100f4c49dde01c58b31338ab1182,Define region for Magnum trust,MERGED,2021-06-07 12:54:14.000000000,2021-06-10 18:11:06.000000000,2021-06-10 18:09:35.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 29865}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-06-07 12:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/a19ac1137fef6ae4e8ac535ee4bb1944f01dc1ea', 'message': 'Define region for Magnum trust\n\nWe were missing region definition for trust section which resulted in\nissues in multiregion deployments\n\nChange-Id: I8a569f47c0f3100f4c49dde01c58b31338ab1182\n(cherry picked from commit 9f3dfd20b06d324a5b34eadc47651585fd414d73)\n'}, {'number': 2, 'created': '2021-06-07 20:03:07.000000000', 'files': ['templates/magnum.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/c63ee55ed266fdfddda9ac1ea27183ea6c35ebad', 'message': 'Define region for Magnum trust\n\nWe were missing region definition for trust section which resulted in\nissues in multiregion deployments\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/795137\n\nChange-Id: I8a569f47c0f3100f4c49dde01c58b31338ab1182\n(cherry picked from commit 9f3dfd20b06d324a5b34eadc47651585fd414d73)\n'}]",0,795044,c63ee55ed266fdfddda9ac1ea27183ea6c35ebad,11,4,2,28619,,,0,"Define region for Magnum trust

We were missing region definition for trust section which resulted in
issues in multiregion deployments

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/795137

Change-Id: I8a569f47c0f3100f4c49dde01c58b31338ab1182
(cherry picked from commit 9f3dfd20b06d324a5b34eadc47651585fd414d73)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/44/795044/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/magnum.conf.j2'],1,a19ac1137fef6ae4e8ac535ee4bb1944f01dc1ea,,trustee_keystone_region_name = {{ magnum_service_region }},,1,0
openstack%2Fpuppet-aodh~master~Ibd5f33715c856aba5a6c34b74d3d49ceb09e5f28,openstack/puppet-aodh,master,Ibd5f33715c856aba5a6c34b74d3d49ceb09e5f28,Debian api_uwsgi_config: Switch to :ini_setting,MERGED,2021-04-20 16:14:40.000000000,2021-06-10 18:03:39.000000000,2021-06-10 18:03:39.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 16:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/410898a089428da132e3dab5a89481fbedab61ea', 'message': ""Debian api_uwsgi_config: Switch to :ini_setting\n\nOn each puppet run, I'm seeing:\nvalue changed ['12'] to '12' (corrective)\n\nTherefore, this patch switches from :openstackconfig to :ini_setting\nto make the 2nd run not changing anything.\n\nChange-Id: Ibd5f33715c856aba5a6c34b74d3d49ceb09e5f28\n""}, {'number': 2, 'created': '2021-04-20 20:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/fee316fc1dd46f3d49eaa016af9f0a8bde984e5b', 'message': ""Debian api_uwsgi_config: Switch to :ini_setting\n\nOn each puppet run, I'm seeing:\nvalue changed ['12'] to '12' (corrective)\n\nTherefore, this patch switches from :openstackconfig to :ini_setting\nto make the 2nd run not changing anything.\n\nChange-Id: Ibd5f33715c856aba5a6c34b74d3d49ceb09e5f28\n""}, {'number': 3, 'created': '2021-04-21 16:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/1c0981aba785afac1ae84b740f7f009bc265873c', 'message': ""Debian api_uwsgi_config: Switch to :ini_setting\n\nOn each puppet run, I'm seeing:\nvalue changed ['12'] to '12' (corrective)\n\nTherefore, this patch switches from :openstackconfig to :ini_setting\nto make the 2nd run not changing anything.\n\nChange-Id: Ibd5f33715c856aba5a6c34b74d3d49ceb09e5f28\n""}, {'number': 4, 'created': '2021-04-21 16:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/874a158c35492792d5ff1054ebd71c71a83cf46c', 'message': ""Debian api_uwsgi_config: Switch to :ini_setting\n\nOn each puppet run, I'm seeing:\nvalue changed ['12'] to '12' (corrective)\n\nTherefore, this patch switches from :openstackconfig to :ini_setting\nto make the 2nd run not changing anything.\n\nChange-Id: Ibd5f33715c856aba5a6c34b74d3d49ceb09e5f28\n""}, {'number': 5, 'created': '2021-06-10 15:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/65fb8cb8ff33a1f1ba30372d1dbe21e9e179aa54', 'message': ""Debian api_uwsgi_config: Switch to :ini_setting\n\nOn each puppet run, I'm seeing:\nvalue changed ['12'] to '12' (corrective)\n\nTherefore, this patch switches from :openstackconfig to :ini_setting\nto make the 2nd run not changing anything.\n\nChange-Id: Ibd5f33715c856aba5a6c34b74d3d49ceb09e5f28\n""}, {'number': 6, 'created': '2021-06-10 15:07:22.000000000', 'files': ['spec/unit/provider/aodh_api_uwsgi_config/ini_setting_spec.rb', 'spec/spec_helper.rb', 'lib/puppet/provider/aodh_api_uwsgi_config/ini_setting.rb'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/ef9d67832a3d363d3d6fd3b4d895713df4c34513', 'message': ""Debian api_uwsgi_config: Switch to :ini_setting\n\nOn each puppet run, I'm seeing:\nvalue changed ['12'] to '12' (corrective)\n\nTherefore, this patch switches from :openstackconfig to :ini_setting\nto make the 2nd run not changing anything.\n\nChange-Id: Ibd5f33715c856aba5a6c34b74d3d49ceb09e5f28\n""}]",4,787258,ef9d67832a3d363d3d6fd3b4d895713df4c34513,24,3,6,6476,,,0,"Debian api_uwsgi_config: Switch to :ini_setting

On each puppet run, I'm seeing:
value changed ['12'] to '12' (corrective)

Therefore, this patch switches from :openstackconfig to :ini_setting
to make the 2nd run not changing anything.

Change-Id: Ibd5f33715c856aba5a6c34b74d3d49ceb09e5f28
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/58/787258/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/provider/aodh_api_uwsgi_config/ini_setting_spec.rb', 'lib/puppet/provider/aodh_api_uwsgi_config/ini_setting.rb']",2,410898a089428da132e3dab5a89481fbedab61ea,init-settings-no-openstack-settings," :ini_setting, :parent => Puppet::Type.type(:openstack_config).provider(:ini_setting)"," :openstackconfig, :parent => Puppet::Type.type(:openstack_config).provider(:ruby)",3,14
openstack%2Fpuppet-mistral~master~I51b3fb2c00faa2a5cbe54109594908a4dbb40e67,openstack/puppet-mistral,master,I51b3fb2c00faa2a5cbe54109594908a4dbb40e67,Get rid of the $pyvers variable,MERGED,2021-06-09 14:17:09.000000000,2021-06-10 17:52:08.000000000,2021-06-10 17:52:08.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 14:17:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/f86b08674512b254e4fc815534b4c767eb65c19b', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: I51b3fb2c00faa2a5cbe54109594908a4dbb40e67\n""}, {'number': 2, 'created': '2021-06-09 15:33:48.000000000', 'files': ['manifests/params.pp', 'spec/classes/mistral_client_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/bcfd47644ff980bdf3e7a7851f7399297bc36580', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: I51b3fb2c00faa2a5cbe54109594908a4dbb40e67\n""}]",0,795550,bcfd47644ff980bdf3e7a7851f7399297bc36580,9,3,2,6476,,,0,"Get rid of the $pyvers variable

Since everyone has switched to Python3, it's time for the removal of the
$pyvers variable.

Change-Id: I51b3fb2c00faa2a5cbe54109594908a4dbb40e67
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/50/795550/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/params.pp', 'spec/classes/mistral_client_spec.rb']",2,f86b08674512b254e4fc815534b4c767eb65c19b,pyvers-removal, { :client_package => 'python3-mistralclient' }, if facts[:operatingsystem] == 'Fedora' { :client_package => 'python3-mistralclient' } else if facts[:operatingsystemmajrelease] > '7' { :client_package => 'python3-mistralclient' } else { :client_package => 'python-mistralclient' } end end,2,11
openstack%2Fmonasca-agent~stable%2Fvictoria~I2ae523ff019ff0a1944dcec905b3ca797bf9b96f,openstack/monasca-agent,stable/victoria,I2ae523ff019ff0a1944dcec905b3ca797bf9b96f,Fix PY3 issue,MERGED,2021-06-10 14:23:19.000000000,2021-06-10 17:37:11.000000000,2021-06-10 17:37:11.000000000,"[{'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-06-10 14:23:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/ec4e8d4e1bd1dc0d302baa51523fda103fdecd70', 'message': 'Fix PY3 issue\n\n- In PY3 the output of subprocess.Popen is a type bytes, but\nstrip() method requires a type str.\n\n- Keeping PY2 support with six\n\nChange-Id: I2ae523ff019ff0a1944dcec905b3ca797bf9b96f\n'}, {'number': 2, 'created': '2021-06-10 16:24:26.000000000', 'files': ['monasca_agent/collector/checks_d/mysql.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/4fb0ae6bb61c09d7f4e4fc2ba70c137909ec3449', 'message': 'Fix PY3 issue\n\n- In PY3 the output of subprocess.Popen is a type bytes, but\nstrip() method requires a type str.\n\n- Keeping PY2 support with six\n\nChange-Id: I2ae523ff019ff0a1944dcec905b3ca797bf9b96f\n'}]",0,795813,4fb0ae6bb61c09d7f4e4fc2ba70c137909ec3449,9,3,2,28062,,,0,"Fix PY3 issue

- In PY3 the output of subprocess.Popen is a type bytes, but
strip() method requires a type str.

- Keeping PY2 support with six

Change-Id: I2ae523ff019ff0a1944dcec905b3ca797bf9b96f
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/13/795813/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_agent/collector/checks_d/mysql.py'],1,ec4e8d4e1bd1dc0d302baa51523fda103fdecd70,,from six import PY2 if PY2: pslines = ps.strip().split('\n') else: pslines = ps.decode('utf-8').strip().split('\n'), pslines = ps.strip().split('\n'),5,1
openstack%2Ftripleo-common~master~Ibaad817f52930380e659180fd8c52dca131cd4f8,openstack/tripleo-common,master,Ibaad817f52930380e659180fd8c52dca131cd4f8,Move rabbitmq healthcheck to something more modern,MERGED,2021-06-08 18:54:17.000000000,2021-06-10 17:32:17.000000000,2021-06-10 17:30:16.000000000,"[{'_account_id': 6926}, {'_account_id': 9257}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-06-08 18:54:17.000000000', 'files': ['healthcheck/rabbitmq'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/aaa981c9ebc4d3fb517286317f674427e3235610', 'message': 'Move rabbitmq healthcheck to something more modern\n\nRabbitmq healthcheck when used against newer rabbitmq versions (seen at\nleast with 3.8.16) is using old interface ""rabbitmqctl\nnode_health_check"" which is deprecated and logs the following:\n\n  2021-06-08 18:25:55.014 [warning] <0.5504.0> rabbitmqctl node_health_check and its HTTP API counterpart are\n  DEPRECATED. See https://www.rabbitmq.com/monitoring.html#health-checks for replacement options.\n\nLet\'s switch to ""rabbitmq-diagnostics check_running"" which should be a\nsufficiently solid check without being too complex/heavy on rabbit\nitself.\n\nChange-Id: Ibaad817f52930380e659180fd8c52dca131cd4f8\nCloses-Bug: #1931298\n'}]",0,795399,aaa981c9ebc4d3fb517286317f674427e3235610,12,7,1,20172,,,0,"Move rabbitmq healthcheck to something more modern

Rabbitmq healthcheck when used against newer rabbitmq versions (seen at
least with 3.8.16) is using old interface ""rabbitmqctl
node_health_check"" which is deprecated and logs the following:

  2021-06-08 18:25:55.014 [warning] <0.5504.0> rabbitmqctl node_health_check and its HTTP API counterpart are
  DEPRECATED. See https://www.rabbitmq.com/monitoring.html#health-checks for replacement options.

Let's switch to ""rabbitmq-diagnostics check_running"" which should be a
sufficiently solid check without being too complex/heavy on rabbit
itself.

Change-Id: Ibaad817f52930380e659180fd8c52dca131cd4f8
Closes-Bug: #1931298
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/99/795399/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/rabbitmq'],1,aaa981c9ebc4d3fb517286317f674427e3235610,rabbitmq-healthcheck,rabbitmq-diagnostics check_running || exit 1,rabbitmqctl node_health_check || exit 1,1,1
openstack%2Ftripleo-ansible~master~I10140c6a587e4df1c91c064c5e899564825949ca,openstack/tripleo-ansible,master,I10140c6a587e4df1c91c064c5e899564825949ca,Fix default_route_network - default to ctlplane,MERGED,2021-06-07 00:07:20.000000000,2021-06-10 17:32:11.000000000,2021-06-10 17:30:20.000000000,"[{'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-07 00:07:20.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_ports.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9ba5d721515af486c9f2ce5cbd907f317900ea6b', 'message': ""Fix default_route_network - default to ctlplane\n\nWhen not using metalsmith to deploy nodes, the default\nfor default_route_network was [], causing nodes to be\nconfigured without a default route.\n\nFix up the default to 'ctlplane' by changeing the default\nvalue when doing the dictonary lookup.\n\nCloses-Bug: #1931046\nChange-Id: I10140c6a587e4df1c91c064c5e899564825949ca\n""}]",0,795005,9ba5d721515af486c9f2ce5cbd907f317900ea6b,17,5,1,24245,,,0,"Fix default_route_network - default to ctlplane

When not using metalsmith to deploy nodes, the default
for default_route_network was [], causing nodes to be
configured without a default route.

Fix up the default to 'ctlplane' by changeing the default
value when doing the dictonary lookup.

Closes-Bug: #1931046
Change-Id: I10140c6a587e4df1c91c064c5e899564825949ca
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/05/795005/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_ports.py'],1,9ba5d721515af486c9f2ce5cbd907f317900ea6b,bug/1931046," default_route_network = network_config.get('default_route_network', ['ctlplane']) if net_name in default_route_network: 'network_config', {}).get( 'default_route_network', ['ctlplane'])"," default_route_network = network_config.get('default_route_network', []) # If default route network is not set, default to true for ctlplane if not default_route_network and net_name == 'ctlplane': tags.update({'tripleo_default_route=true'}) elif net_name in default_route_network: 'network_config', {}).get('default_route_network', [])",5,6
openstack%2Ftripleo-image-elements~master~I3b8cb5f8c413c109da1228878db9cff4d439273b,openstack/tripleo-image-elements,master,I3b8cb5f8c413c109da1228878db9cff4d439273b,Clean up ifcfg-eth0,MERGED,2021-06-09 20:33:23.000000000,2021-06-10 17:30:37.000000000,2021-06-10 17:30:37.000000000,"[{'_account_id': 6469}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-09 20:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/d86877b4556fd01892024f44685d0709c7dd67f4', 'message': ""Clean up ifcfg-eth0\n\nIf ifcfg-eth0 is defined but does not exist, this can cause the nodes to\nfail to get an IP address on initial provisioning. This patch removes it\nwhen the image is built to ensure we don't end up with a bad interface\nnetwork script.\n\nChange-Id: I3b8cb5f8c413c109da1228878db9cff4d439273b\nCloses-Bug: #1931495\n""}, {'number': 2, 'created': '2021-06-09 20:50:42.000000000', 'files': ['elements/interface-names/install.d/71-clean-stale-interface'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/f90a830fbac3b9ac1e501a768eeb7454e4d540f8', 'message': ""Clean up ifcfg-eth0\n\nIf ifcfg-eth0 is defined but does not exist, this can cause the nodes to\nfail to get an IP address on initial provisioning. This patch removes it\nwhen the image is built to ensure we don't end up with a bad interface\nnetwork script.\n\nChange-Id: I3b8cb5f8c413c109da1228878db9cff4d439273b\nCloses-Bug: #1931495\n""}]",2,795696,f90a830fbac3b9ac1e501a768eeb7454e4d540f8,13,5,2,14985,,,0,"Clean up ifcfg-eth0

If ifcfg-eth0 is defined but does not exist, this can cause the nodes to
fail to get an IP address on initial provisioning. This patch removes it
when the image is built to ensure we don't end up with a bad interface
network script.

Change-Id: I3b8cb5f8c413c109da1228878db9cff4d439273b
Closes-Bug: #1931495
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/96/795696/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/interface-names/install.d/71-clean-stale-interface'],1,d86877b4556fd01892024f44685d0709c7dd67f4,clean-up-interfaces,rm -f /etc/sysconfig/network-scripts/ifcfg-ens3* # https://bugs.launchpad.net/tripleo/+bug/1931495 rm -f /etc/sysconfig/network-scripts/ifcfg-eth0*,if ls /etc/sysconfig/network-scripts/ifcfg-ens3* &> /dev/null; then rm -f /etc/sysconfig/network-scripts/ifcfg-ens3* fi,3,3
openstack%2Foslo.privsep~master~I32b70c9d15bc5ced8ae2cc8c252db91c7b246d55,openstack/oslo.privsep,master,I32b70c9d15bc5ced8ae2cc8c252db91c7b246d55,[WIP][DNM] Implement a entry point wrapper with timeout,ABANDONED,2021-03-25 11:59:31.000000000,2021-06-10 17:27:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-25 11:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/90c9bdd2bc68350e929dc2e79ae253093a2d49a2', 'message': '[WIP][DNM] Implement a entry point wrapper with timeout\n\nTODO: testing, documentation and release not\n\nThis new entry point decorator allows to define a maximum execution\ntime for the passed method. If time is exceeded, a ""PrivsepTimeout""\nis raised.\n\nRelated-Bug: #1921154\nChange-Id: I32b70c9d15bc5ced8ae2cc8c252db91c7b246d55\n'}, {'number': 2, 'created': '2021-03-25 14:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/bad44fde424efe8aeeed1e652e6fbfe1a7ec5554', 'message': '[WIP][DNM] Implement a entry point wrapper with timeout\n\nTODO: testing, documentation and release not\n\nThis new entry point decorator allows to define a maximum execution\ntime for the passed method. If time is exceeded, a ""PrivsepTimeout""\nis raised.\n\nRelated-Bug: #1921154\nChange-Id: I32b70c9d15bc5ced8ae2cc8c252db91c7b246d55\n'}, {'number': 3, 'created': '2021-03-25 17:52:21.000000000', 'files': ['oslo_privsep/daemon.py', 'oslo_privsep/common.py', 'oslo_privsep/functional/test_daemon.py', '.zuul.yaml', 'oslo_privsep/priv_context.py', 'oslo_privsep/comm.py'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/d62fb94d5429cb57586d6cce73f2914068029c18', 'message': '[WIP][DNM] Implement a entry point wrapper with timeout\n\nTODO: testing, documentation and release not\n\nThis new entry point decorator allows to define a maximum execution\ntime for the passed method. If time is exceeded, a ""PrivsepTimeout""\nis raised.\n\nRelated-Bug: #1921154\nChange-Id: I32b70c9d15bc5ced8ae2cc8c252db91c7b246d55\n'}]",0,782981,d62fb94d5429cb57586d6cce73f2914068029c18,7,1,3,16688,,,0,"[WIP][DNM] Implement a entry point wrapper with timeout

TODO: testing, documentation and release not

This new entry point decorator allows to define a maximum execution
time for the passed method. If time is exceeded, a ""PrivsepTimeout""
is raised.

Related-Bug: #1921154
Change-Id: I32b70c9d15bc5ced8ae2cc8c252db91c7b246d55
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/81/782981/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_privsep/daemon.py', 'oslo_privsep/common.py', 'oslo_privsep/functional/test_daemon.py', 'oslo_privsep/priv_context.py', 'oslo_privsep/comm.py']",5,90c9bdd2bc68350e929dc2e79ae253093a2d49a2,bug/1921154,"import time import datetime from oslo_privsep import common def __init__(self, lock, timeout=None): self.timeout = timeout if not self.condvar.wait(timeout=self.timeout): #pass return common.Message.ERR, common.PrivsepTimeout.cls_name(), '' self.socket = sock self.writer = Serializer(self.socket) args=(Deserializer(self.socket),), #RAH #time.sleep(1) #raise AssertionError(""msgid should in "" # ""outstanding_msgs."") LOG.warning('Message with msgid %s discarded', msgid) continue def send_recv(self, msg, timeout=None): future = Future(self.lock, timeout)"," def __init__(self, lock): self.condvar.wait() self.writer = Serializer(sock) args=(Deserializer(sock),), raise AssertionError(""msgid should in "" ""outstanding_msgs."") def send_recv(self, msg): future = Future(self.lock)",100,26
openstack%2Fmonasca-agent~master~I297c30044df9a94baa645a1a27de10bb49038440,openstack/monasca-agent,master,I297c30044df9a94baa645a1a27de10bb49038440,Fix PY3 issue,MERGED,2021-06-10 11:49:03.000000000,2021-06-10 17:15:37.000000000,2021-06-10 17:15:37.000000000,"[{'_account_id': 16957}, {'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 32261}]","[{'number': 1, 'created': '2021-06-10 11:49:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/743e2d79c36943a13d9b9682cfadcd0783ee1611', 'message': 'Fix PY3 issue\n\n- In PY3 the output of subprocess.Popen is a type bytes, but\nstrip() method requires a type str.\n\nChange-Id: I297c30044df9a94baa645a1a27de10bb49038440\n'}, {'number': 2, 'created': '2021-06-10 12:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/1a5022d1bd029831af2e9c306c3d373e59c4ff26', 'message': 'Fix PY3 issue\n\n- In PY3 the output of subprocess.Popen is a type bytes, but\nstrip() method requires a type str.\n\nStory: 2008017\nTask: 40669\n\nChange-Id: I297c30044df9a94baa645a1a27de10bb49038440\n'}, {'number': 3, 'created': '2021-06-10 14:25:52.000000000', 'files': ['monasca_agent/collector/checks_d/mysql.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/679f09a3a8f6c89b3b729b60d2174cb4ae3d891c', 'message': 'Fix PY3 issue\n\n- In PY3 the output of subprocess.Popen is a type bytes, but\nstrip() method requires a type str.\n\nStory: 2008017\nTask: 40669\n\nChange-Id: I297c30044df9a94baa645a1a27de10bb49038440\n'}]",0,795764,679f09a3a8f6c89b3b729b60d2174cb4ae3d891c,18,4,3,28062,,,0,"Fix PY3 issue

- In PY3 the output of subprocess.Popen is a type bytes, but
strip() method requires a type str.

Story: 2008017
Task: 40669

Change-Id: I297c30044df9a94baa645a1a27de10bb49038440
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/64/795764/3 && git format-patch -1 --stdout FETCH_HEAD,['monasca_agent/collector/checks_d/mysql.py'],1,743e2d79c36943a13d9b9682cfadcd0783ee1611,, pslines = ps.decode('utf8').strip().split('\n'), pslines = ps.strip().split('\n'),1,1
openstack%2Fironic-python-agent~stable%2Ftrain~I4a441495d078b9c46b8ad443fc0e7862efd12bde,openstack/ironic-python-agent,stable/train,I4a441495d078b9c46b8ad443fc0e7862efd12bde,Fix py27 compatability for train,MERGED,2021-06-08 14:23:59.000000000,2021-06-10 16:59:06.000000000,2021-06-10 16:56:59.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 13294}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-08 14:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/890952adb581ee392632952378eb47124c951ea6', 'message': 'Fix py27 compatability for train\n\nTrain release of OpenStack is intended to support compatability\nwith python2.7 and we inadvertently broke it earlier.\n\nDue to a broken gate, we created a change which removed the py27\njobs, bandit, and lower constraints checking due to multiple\ngates failing all at once. Ide0f6c38a59ae6486fa33cfb19b383d022e57d5a\n\nThe removal of the py27 change was due to Bandit 1.7.0 which\ndropped py2 support. We should have restricted Bandit in our\ntest-requirements.txt at that time.\n\nAs such, this commit addresses that, plus python3 only exception\nnames which slipped in on a backport breaking py27 compatability.\n\nChange-Id: I4a441495d078b9c46b8ad443fc0e7862efd12bde\n'}, {'number': 2, 'created': '2021-06-10 13:36:02.000000000', 'files': ['test-requirements.txt', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'zuul.d/project.yaml', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/928db63156a4ae99b5aa472a0f6193d775abb02f', 'message': 'Fix py27 compatability for train\n\nTrain release of OpenStack is intended to support compatability\nwith python2.7 and we inadvertently broke it earlier.\n\nDue to a broken gate, we created a change which removed the py27\njobs, bandit, and lower constraints checking due to multiple\ngates failing all at once. Ide0f6c38a59ae6486fa33cfb19b383d022e57d5a\n\nThe removal of the py27 change was due to Bandit 1.7.0 which\ndropped py2 support. We should have restricted Bandit in our\ntest-requirements.txt at that time.\n\nAs such, this commit addresses that, plus python3 only exception\nnames which slipped in on a backport breaking py27 compatability.\n\nChange-Id: I4a441495d078b9c46b8ad443fc0e7862efd12bde\n'}]",4,795349,928db63156a4ae99b5aa472a0f6193d775abb02f,12,6,2,11655,,,0,"Fix py27 compatability for train

Train release of OpenStack is intended to support compatability
with python2.7 and we inadvertently broke it earlier.

Due to a broken gate, we created a change which removed the py27
jobs, bandit, and lower constraints checking due to multiple
gates failing all at once. Ide0f6c38a59ae6486fa33cfb19b383d022e57d5a

The removal of the py27 change was due to Bandit 1.7.0 which
dropped py2 support. We should have restricted Bandit in our
test-requirements.txt at that time.

As such, this commit addresses that, plus python3 only exception
names which slipped in on a backport breaking py27 compatability.

Change-Id: I4a441495d078b9c46b8ad443fc0e7862efd12bde
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/49/795349/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'zuul.d/project.yaml', 'ironic_python_agent/extensions/image.py']",4,890952adb581ee392632952378eb47124c951ea6,," except OSError: except (IOError, OSError, shutil.Error) as e: except (IOError, OSError, shutil.Error) as e:"," except FileNotFoundError: except (IOError, OSError, shutil.SameFileError) as e: except (IOError, OSError, shutil.SameFileError) as e:",5,19
openstack%2Fnetworking-ovn~stable%2Ftrain~I3956e71ce4989551a059ba0d450b68f2e87adcc3,openstack/networking-ovn,stable/train,I3956e71ce4989551a059ba0d450b68f2e87adcc3,Make networking-ovn-tripleo-ci-centos-7-containers-multinode non-voting,MERGED,2021-06-09 08:48:25.000000000,2021-06-10 16:53:45.000000000,2021-06-10 16:51:41.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 08:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e2d4eeab836e7e835ad3fe053738d2f16a42de5e', 'message': 'Make networking-ovn-tripleo-ci-centos-7-containers-multinode non-voting\n\nThis job has been failing with an unrelated problem for some time now,\nlet\'s make it non-voting to unblock the gate.\n\nCurrently failure for this job seems to be:\n\n2021-06-08 08:48:17.212827 | LOOP [Check if we have a repo]\n2021-06-08 08:48:17.289292 | primary | ERROR\n2021-06-08 08:48:17.290339 | primary | {\n2021-06-08 08:48:17.290444 | primary |   ""msg"": ""dict2items requires a\ndictionary, got <class \'ansible.template.AnsibleUndefined\'> instead.""\n2021-06-08 08:48:17.290537 | primary | }\n2021-06-08 08:48:17.290641 | primary | ERROR: Ignoring Errors\n2021-06-08 08:48:17.345621 | secondary | ERROR\n2021-06-08 08:48:17.345875 | secondary | {\n2021-06-08 08:48:17.345974 | secondary |   ""msg"": ""dict2items requires a\ndictionary, got <class \'ansible.template.AnsibleUndefined\'> instead.""\n2021-06-08 08:48:17.346063 | secondary | }\n2021-06-08 08:48:17.346160 | secondary | ERROR: Ignoring Errors\n\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I3956e71ce4989551a059ba0d450b68f2e87adcc3\n'}, {'number': 2, 'created': '2021-06-09 08:49:40.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5dc979fc29e84ca4473f4711bef8afb7f096095c', 'message': 'Make networking-ovn-tripleo-ci-centos-7-containers-multinode non-voting\n\nThis job has been failing with an unrelated problem for some time now,\nlet\'s make it non-voting to unblock the gate.\n\nCurrently failure for this job seems to be:\n\n2021-06-08 08:48:17.212827 | LOOP [Check if we have a repo]\n2021-06-08 08:48:17.289292 | primary | ERROR\n2021-06-08 08:48:17.290339 | primary | {\n2021-06-08 08:48:17.290444 | primary |   ""msg"": ""dict2items requires a\ndictionary, got <class \'ansible.template.AnsibleUndefined\'> instead.""\n2021-06-08 08:48:17.290537 | primary | }\n2021-06-08 08:48:17.290641 | primary | ERROR: Ignoring Errors\n2021-06-08 08:48:17.345621 | secondary | ERROR\n2021-06-08 08:48:17.345875 | secondary | {\n2021-06-08 08:48:17.345974 | secondary |   ""msg"": ""dict2items requires a\ndictionary, got <class \'ansible.template.AnsibleUndefined\'> instead.""\n2021-06-08 08:48:17.346063 | secondary | }\n2021-06-08 08:48:17.346160 | secondary | ERROR: Ignoring Errors\n\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I3956e71ce4989551a059ba0d450b68f2e87adcc3\n'}]",0,795500,5dc979fc29e84ca4473f4711bef8afb7f096095c,21,3,2,6773,,,0,"Make networking-ovn-tripleo-ci-centos-7-containers-multinode non-voting

This job has been failing with an unrelated problem for some time now,
let's make it non-voting to unblock the gate.

Currently failure for this job seems to be:

2021-06-08 08:48:17.212827 | LOOP [Check if we have a repo]
2021-06-08 08:48:17.289292 | primary | ERROR
2021-06-08 08:48:17.290339 | primary | {
2021-06-08 08:48:17.290444 | primary |   ""msg"": ""dict2items requires a
dictionary, got <class 'ansible.template.AnsibleUndefined'> instead.""
2021-06-08 08:48:17.290537 | primary | }
2021-06-08 08:48:17.290641 | primary | ERROR: Ignoring Errors
2021-06-08 08:48:17.345621 | secondary | ERROR
2021-06-08 08:48:17.345875 | secondary | {
2021-06-08 08:48:17.345974 | secondary |   ""msg"": ""dict2items requires a
dictionary, got <class 'ansible.template.AnsibleUndefined'> instead.""
2021-06-08 08:48:17.346063 | secondary | }
2021-06-08 08:48:17.346160 | secondary | ERROR: Ignoring Errors

Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: I3956e71ce4989551a059ba0d450b68f2e87adcc3
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/00/795500/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,e2d4eeab836e7e835ad3fe053738d2f16a42de5e,, voting: false, - networking-ovn-tripleo-ci-centos-7-containers-multinode,1,1
openstack%2Fpuppet-vswitch~stable%2Fvictoria~I549c03eebd718994f39831d24387a928bc109c08,openstack/puppet-vswitch,stable/victoria,I549c03eebd718994f39831d24387a928bc109c08,Set fixture paths for unit tests,MERGED,2021-06-05 00:35:19.000000000,2021-06-10 16:41:43.000000000,2021-06-10 16:41:43.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:35:19.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/44d74d84915d0e64cf1f3760fb1ec69301642e57', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I549c03eebd718994f39831d24387a928bc109c08\n(cherry picked from commit c6d27c16f956cfec075d478a4c32f989f58ca819)\n'}]",0,794923,44d74d84915d0e64cf1f3760fb1ec69301642e57,10,3,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I549c03eebd718994f39831d24387a928bc109c08
(cherry picked from commit c6d27c16f956cfec075d478a4c32f989f58ca819)
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/23/794923/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,44d74d84915d0e64cf1f3760fb1ec69301642e57,bug/1930403-stable/wallaby-stable/victoria,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fopenstack-ansible-openstack_hosts~master~I621e6c58a344c0854c8a68183faf928c599c48d5,openstack/openstack-ansible-openstack_hosts,master,I621e6c58a344c0854c8a68183faf928c599c48d5,Update distro mirrors to match release,MERGED,2021-06-09 19:17:34.000000000,2021-06-10 16:40:10.000000000,2021-06-10 16:38:35.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-06-09 19:17:34.000000000', 'files': ['vars/redhat-8.yml', 'vars/ubuntu-20.04.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/117682cad699fcb8966f5a38cd2c5e6e1cc2b8e3', 'message': 'Update distro mirrors to match release\n\nWe also move CentOS repos configuration to vars to align\nplace where release needs to be updated with other distros.\n\nChange-Id: I621e6c58a344c0854c8a68183faf928c599c48d5\n'}]",0,795670,117682cad699fcb8966f5a38cd2c5e6e1cc2b8e3,12,3,1,28619,,,0,"Update distro mirrors to match release

We also move CentOS repos configuration to vars to align
place where release needs to be updated with other distros.

Change-Id: I621e6c58a344c0854c8a68183faf928c599c48d5
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/70/795670/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat-8.yml', 'vars/ubuntu-20.04.yml', 'defaults/main.yml']",3,117682cad699fcb8966f5a38cd2c5e6e1cc2b8e3,,"openstack_hosts_rdo_repo_url: ""{{ _openstack_hosts_rdo_repo_url }}"" openstack_hosts_rdo_deps_url: ""{{ _openstack_hosts_rdo_deps_url }}""","openstack_hosts_rdo_repo_url: ""{{ openstack_hosts_rdo_mirror_url }}/centos{{ ansible_facts['distribution_major_version'] }}-master/current-passed-ci/"" openstack_hosts_rdo_deps_url: ""{{ openstack_hosts_rdo_mirror_url }}/centos{{ ansible_facts['distribution_major_version'] }}-master/deps/latest/""",6,3
openstack%2Fopenstack-helm~master~I9aa272e365f846746f2e06aa7b7010db730e17df,openstack/openstack-helm,master,I9aa272e365f846746f2e06aa7b7010db730e17df,Mount rabbitmq TLS secret,MERGED,2021-06-08 12:48:36.000000000,2021-06-10 16:34:01.000000000,2021-06-10 16:32:08.000000000,"[{'_account_id': 18236}, {'_account_id': 18250}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30495}, {'_account_id': 33282}]","[{'number': 1, 'created': '2021-06-08 12:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f652205b0e612d0aee497e766c98c8f5c6d93eed', 'message': 'Mount rabbitmq TLS secret\n\nMount rabbitmq TLS secrte to openstack services.\n\nChange-Id: I9aa272e365f846746f2e06aa7b7010db730e17df\n'}, {'number': 2, 'created': '2021-06-08 12:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8551b85002a84d372af29d55a21396d8c6a9c044', 'message': 'Mount rabbitmq TLS secret\n\nMount rabbitmq TLS secrte to openstack services.\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/795188\n\nChange-Id: I9aa272e365f846746f2e06aa7b7010db730e17df\n'}, {'number': 3, 'created': '2021-06-08 14:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6d837d760e54b522f11a077101d0da880d3e9c92', 'message': 'Mount rabbitmq TLS secret\n\nMount rabbitmq TLS secrte to openstack services.\n\nChange-Id: I9aa272e365f846746f2e06aa7b7010db730e17df\n'}, {'number': 4, 'created': '2021-06-08 14:58:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8ce6ade97bc64b13165488a8ebaf3cdf995c2494', 'message': 'Mount rabbitmq TLS secret\n\nMount rabbitmq TLS secrte to openstack services.\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/795188\n\nChange-Id: I9aa272e365f846746f2e06aa7b7010db730e17df\n'}, {'number': 5, 'created': '2021-06-10 14:13:02.000000000', 'files': ['cinder/templates/secret_rabbitmq.yaml', 'glance/templates/secret-rabbitmq.yaml', 'releasenotes/notes/heat.yaml', 'heat/Chart.yaml', 'heat/templates/secret-rabbitmq.yaml', 'cinder/values_overrides/tls.yaml', 'releasenotes/notes/neutron.yaml', 'heat/values_overrides/tls.yaml', 'keystone/templates/secret-rabbitmq.yaml', 'neutron/templates/secret_rabbitmq.yaml', 'cinder/Chart.yaml', 'releasenotes/notes/cinder.yaml', 'releasenotes/notes/nova.yaml', 'keystone/values_overrides/tls.yaml', 'nova/values_overrides/tls.yaml', 'releasenotes/notes/glance.yaml', 'releasenotes/notes/keystone.yaml', 'neutron/Chart.yaml', 'neutron/values_overrides/tls.yaml', 'glance/values_overrides/tls.yaml', 'nova/templates/secret_rabbitmq.yaml', 'nova/Chart.yaml', 'glance/Chart.yaml', 'keystone/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5028aa8de11a64fbc01e292853fabc9945b9d184', 'message': 'Mount rabbitmq TLS secret\n\nMount rabbitmq TLS secret to openstack services which support internal\nTLS. Once internal TLS support is added to other service, the TLSed \nrabbitmq support should be added.\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/795188\n\nChange-Id: I9aa272e365f846746f2e06aa7b7010db730e17df\n'}]",0,795314,5028aa8de11a64fbc01e292853fabc9945b9d184,29,6,5,24780,,,0,"Mount rabbitmq TLS secret

Mount rabbitmq TLS secret to openstack services which support internal
TLS. Once internal TLS support is added to other service, the TLSed 
rabbitmq support should be added.

Depends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/795188

Change-Id: I9aa272e365f846746f2e06aa7b7010db730e17df
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/14/795314/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/templates/secret_rabbitmq.yaml', 'glance/templates/secret-rabbitmq.yaml', 'releasenotes/notes/heat.yaml', 'heat/Chart.yaml', 'heat/templates/secret-rabbitmq.yaml', 'releasenotes/notes/glance.yaml', 'releasenotes/notes/keystone.yaml', 'neutron/Chart.yaml', 'releasenotes/notes/neutron.yaml', 'nova/templates/secret_rabbitmq.yaml', 'nova/Chart.yaml', 'glance/Chart.yaml', 'keystone/templates/secret-rabbitmq.yaml', 'neutron/templates/secret_rabbitmq.yaml', 'releasenotes/notes/cinder.yaml', 'releasenotes/notes/nova.yaml', 'keystone/Chart.yaml']",17,f652205b0e612d0aee497e766c98c8f5c6d93eed,,version: 0.2.5,version: 0.2.4,42,12
openstack%2Fneutron~master~Ia6903be1af4de575ab9d82c9cb0c88290d07abb3,openstack/neutron,master,Ia6903be1af4de575ab9d82c9cb0c88290d07abb3,Payloads for PORT: BEFORE_CREATE and PRECOMMIT_CREATE,MERGED,2021-06-03 12:36:58.000000000,2021-06-10 16:33:23.000000000,2021-06-10 16:31:02.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 12:36:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/87ef69d99fb5a78c8e3004ee138da52229077e90', 'message': '[WIP]use payloads for PORT BC and PC events\n\nThis patch switches the code over to the payload style of callbacks\nfor PORT BEFORE_CREATE and PRECOMMIT_CREATE events\n\nChange-Id: Ia6903be1af4de575ab9d82c9cb0c88290d07abb3\n'}, {'number': 2, 'created': '2021-06-04 09:46:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9422b32e166f8d2ae940f5ca5bee2e25694b39ce', 'message': 'Payloads for PORT: BEFORE_CREATE and PRECOMMIT_CREATE\n\nThis patch switches the code over to the payload style of callbacks\nfor PORT BEFORE_CREATE and PRECOMMIT_CREATE events\n\nChange-Id: Ia6903be1af4de575ab9d82c9cb0c88290d07abb3\n'}, {'number': 3, 'created': '2021-06-08 10:09:54.000000000', 'files': ['neutron/services/qos/qos_plugin.py', 'neutron/db/securitygroups_db.py', 'neutron/plugins/ml2/plugin.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/07c64d838498361d5ef81d8dc8566ca0140b735c', 'message': 'Payloads for PORT: BEFORE_CREATE and PRECOMMIT_CREATE\n\nThis patch switches the code over to the payload style of callbacks\nfor PORT BEFORE_CREATE and PRECOMMIT_CREATE events\n\nChange-Id: Ia6903be1af4de575ab9d82c9cb0c88290d07abb3\n'}]",3,794579,07c64d838498361d5ef81d8dc8566ca0140b735c,47,4,3,32667,,,0,"Payloads for PORT: BEFORE_CREATE and PRECOMMIT_CREATE

This patch switches the code over to the payload style of callbacks
for PORT BEFORE_CREATE and PRECOMMIT_CREATE events

Change-Id: Ia6903be1af4de575ab9d82c9cb0c88290d07abb3
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/794579/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/qos/qos_plugin.py', 'neutron/db/securitygroups_db.py', 'neutron/plugins/ml2/plugin.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py']",4,87ef69d99fb5a78c8e3004ee138da52229077e90,port_callback_bc_pc," ""PORT"", ""precommit_create"", ""test_plugin"", payload=events.DBEventPayload( self.context, resource_id=kwargs['port']['id'],))"," 'PORT', 'precommit_create', 'test_plugin', **kwargs)",27,21
openstack%2Fneutron~master~I78673b6a85f1c872e70026da82124d1ba2326562,openstack/neutron,master,I78673b6a85f1c872e70026da82124d1ba2326562,ovn: Don't use dict.remove() for filtering dhcp ports in db-sync,MERGED,2021-05-02 11:41:55.000000000,2021-06-10 16:31:15.000000000,2021-06-10 16:28:53.000000000,"[{'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2021-05-02 11:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b404910d1907c2c7dc1ecc00834f7c726790daf2', 'message': ""ovn: Don't use dict.remove() for filtering dhcp ports in db-sync\n\nThe db-sync script removes ovnmeta ports because sometimes removing\nreserved_dhcp_port in the loop doesn't work.\n\nChange-Id: I78673b6a85f1c872e70026da82124d1ba2326562\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n""}, {'number': 2, 'created': '2021-05-02 14:15:39.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0aab51c9f8be1d42e5b578493cefd384ee07665b', 'message': ""ovn: Don't use dict.remove() for filtering dhcp ports in db-sync\n\nThe db-sync script removes ovnmeta ports because sometimes removing\nreserved_dhcp_port in the loop doesn't work.\n\nChange-Id: I78673b6a85f1c872e70026da82124d1ba2326562\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n""}]",4,789085,0aab51c9f8be1d42e5b578493cefd384ee07665b,33,5,2,8655,,,0,"ovn: Don't use dict.remove() for filtering dhcp ports in db-sync

The db-sync script removes ovnmeta ports because sometimes removing
reserved_dhcp_port in the loop doesn't work.

Change-Id: I78673b6a85f1c872e70026da82124d1ba2326562
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/85/789085/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'],1,b404910d1907c2c7dc1ecc00834f7c726790daf2,wip," # Get only DHCP ports that don't belong to agent, it should return # only OVN metadata ports dhcp_ports = [ p for p in self.core_plugin.get_ports( ctx, filters=dict( network_id=[net['id']], device_owner=[ constants.DEVICE_OWNER_DISTRIBUTED, constants.DEVICE_OWNER_DHCP])) if not utils.is_neutron_dhcp_agent_port(p)]"," dhcp_ports = self.core_plugin.get_ports(ctx, filters=dict( network_id=[net['id']], device_owner=[ constants.DEVICE_OWNER_DISTRIBUTED, constants.DEVICE_OWNER_DHCP])) for port in dhcp_ports: # Do not touch the Neutron DHCP agents ports if utils.is_neutron_dhcp_agent_port(port): dhcp_ports.remove(port)",10,10
openstack%2Fkolla~stable%2Fwallaby~I7430b72f5d8abe59a7151df73e6d59898d942636,openstack/kolla,stable/wallaby,I7430b72f5d8abe59a7151df73e6d59898d942636,Change network_mode default to host,MERGED,2021-06-10 13:51:13.000000000,2021-06-10 16:27:13.000000000,2021-06-10 16:25:44.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-10 13:51:13.000000000', 'files': ['releasenotes/notes/network-mode-host-2aca256e2a1fbf68.yaml', 'kolla/common/config.py', 'kolla/tests/test_build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f9f2f12cc9ab4f3e49f1f3f453f2fc2946cde441', 'message': 'Change network_mode default to host\n\nKolla-Ansible deploys Docker without bridge by default [1].\n\n[1]: https://review.opendev.org/c/openstack/kolla-ansible/+/751795\n\nChange-Id: I7430b72f5d8abe59a7151df73e6d59898d942636\n(cherry picked from commit d7252ba5829f005915ce8e7efc9ec252c06d8bc0)\n'}]",0,795795,f9f2f12cc9ab4f3e49f1f3f453f2fc2946cde441,9,3,1,30491,,,0,"Change network_mode default to host

Kolla-Ansible deploys Docker without bridge by default [1].

[1]: https://review.opendev.org/c/openstack/kolla-ansible/+/751795

Change-Id: I7430b72f5d8abe59a7151df73e6d59898d942636
(cherry picked from commit d7252ba5829f005915ce8e7efc9ec252c06d8bc0)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/95/795795/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/network-mode-host-2aca256e2a1fbf68.yaml', 'kolla/common/config.py', 'kolla/tests/test_build.py']",3,f9f2f12cc9ab4f3e49f1f3f453f2fc2946cde441,," network_mode='host', nocache=False, rm=True, pull=True, forcerm=True, buildargs=None) self.conf.set_override('network_mode', 'bridge') network_mode='bridge', nocache=False, rm=True, pull=True, network_mode='host', nocache=False, rm=True, pull=True, forcerm=True, buildargs=build_args) network_mode='host', nocache=False, rm=True, pull=True, forcerm=True, buildargs=build_args) network_mode='host', nocache=False, rm=True, pull=True, forcerm=True, buildargs=build_args)"," network_mode=None, nocache=False, rm=True, pull=True, forcerm=True, buildargs=None) self.conf.set_override('network_mode', 'host') network_mode='host', nocache=False, rm=True, pull=True, network_mode=None, nocache=False, rm=True, pull=True, forcerm=True, buildargs=build_args) network_mode=None, nocache=False, rm=True, pull=True, forcerm=True, buildargs=build_args) network_mode=None, nocache=False, rm=True, pull=True, forcerm=True, buildargs=build_args)",17,11
openstack%2Fmonasca-agent~stable%2Fvictoria~I70984db7af7ce5f7028077db4debcd2cd9bd7c45,openstack/monasca-agent,stable/victoria,I70984db7af7ce5f7028077db4debcd2cd9bd7c45,Fix Docker builds,MERGED,2021-06-10 14:48:31.000000000,2021-06-10 16:22:16.000000000,2021-06-10 16:22:16.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-06-10 14:48:31.000000000', 'files': ['docker/forwarder/build_image.sh', 'docker/build_image.sh', 'docker/statsd/build_image.sh', 'docker/collector/build_image.sh'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/574a067a1f007d6245ea11a5e0d1e7fe46e76ecf', 'message': ""Fix Docker builds\n\nThe default nodeset was just changed to focal [1], which in the absence\nof the python-is-python3 package doesn't provide a python binary.\n\n[1] https://review.opendev.org/c/opendev/base-jobs/+/789098\n\nChange-Id: I70984db7af7ce5f7028077db4debcd2cd9bd7c45\n(cherry picked from commit 7d21e505e8a8f750e88978c80f7ac47d73d7f2db)\n""}]",0,795799,574a067a1f007d6245ea11a5e0d1e7fe46e76ecf,6,3,1,28062,,,0,"Fix Docker builds

The default nodeset was just changed to focal [1], which in the absence
of the python-is-python3 package doesn't provide a python binary.

[1] https://review.opendev.org/c/opendev/base-jobs/+/789098

Change-Id: I70984db7af7ce5f7028077db4debcd2cd9bd7c45
(cherry picked from commit 7d21e505e8a8f750e88978c80f7ac47d73d7f2db)
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/99/795799/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/forwarder/build_image.sh', 'docker/build_image.sh', 'docker/statsd/build_image.sh', 'docker/collector/build_image.sh']",4,574a067a1f007d6245ea11a5e0d1e7fe46e76ecf,docker-build-fixes-stable/victoria,"REAL_PATH=$(python3 -c ""import os,sys; print(os.path.realpath('$0'))"")","REAL_PATH=$(python -c ""import os,sys; print(os.path.realpath('$0'))"")",4,4
openstack%2Fkolla~master~I7f79aeab53540df9bf84add6df3add300c9e9fa4,openstack/kolla,master,I7f79aeab53540df9bf84add6df3add300c9e9fa4,[CI] Add grafana to allowed-to-fail,MERGED,2021-06-10 10:08:37.000000000,2021-06-10 16:19:45.000000000,2021-06-10 12:56:07.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2021-06-10 10:08:37.000000000', 'files': ['tests/playbooks/run.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a6884085e1a5336f17c2ed64f67d8f885c454207', 'message': '[CI] Add grafana to allowed-to-fail\n\nThe grafana repo is broken for Debuntu.\n\nChange-Id: I7f79aeab53540df9bf84add6df3add300c9e9fa4\n'}]",0,795757,a6884085e1a5336f17c2ed64f67d8f885c454207,10,3,1,30491,,,0,"[CI] Add grafana to allowed-to-fail

The grafana repo is broken for Debuntu.

Change-Id: I7f79aeab53540df9bf84add6df3add300c9e9fa4
",git fetch https://review.opendev.org/openstack/kolla refs/changes/57/795757/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/playbooks/run.yml'],1,a6884085e1a5336f17c2ed64f67d8f885c454207,allow-to-fail-grafana," # FIXME(yoctozepto): The grafana repo is broken for Debuntu. allowed_to_fail: ""grafana""",,2,0
openstack%2Fopenstack-ansible-os_neutron~master~I877df827dbc6909432f56dd69a440639b6787dd3,openstack/openstack-ansible-os_neutron,master,I877df827dbc6909432f56dd69a440639b6787dd3,quicktest,ABANDONED,2021-06-09 12:30:43.000000000,2021-06-10 16:08:12.000000000,,"[{'_account_id': 22348}, {'_account_id': 28752}]","[{'number': 1, 'created': '2021-06-09 12:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/c875264cc8742dfc746aed74420c918d59dbe2c5', 'message': 'quicktest\n\nChange-Id: I877df827dbc6909432f56dd69a440639b6787dd3\n'}, {'number': 2, 'created': '2021-06-09 17:51:50.000000000', 'files': ['tasks/providers/setup_ovs_ovn.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/4bc922d85efe706787fa067827e9d64e7b8e0c6a', 'message': 'quicktest\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/795572\nChange-Id: I877df827dbc6909432f56dd69a440639b6787dd3\n'}]",0,795528,4bc922d85efe706787fa067827e9d64e7b8e0c6a,6,2,2,13095,,,0,"quicktest

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/795572
Change-Id: I877df827dbc6909432f56dd69a440639b6787dd3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/28/795528/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/providers/setup_ovs_ovn.yml'],1,c875264cc8742dfc746aed74420c918d59dbe2c5,quicktest,,"- name: Create ovsdb-server Listener command: ""ovs-vsctl set-manager ptcp:6640"" when: - neutron_services['neutron-ovn-northd']['group'] in group_names ",0,5
openstack%2Fmonasca-agent~stable%2Fwallaby~I70984db7af7ce5f7028077db4debcd2cd9bd7c45,openstack/monasca-agent,stable/wallaby,I70984db7af7ce5f7028077db4debcd2cd9bd7c45,Fix Docker builds,MERGED,2021-06-10 14:47:47.000000000,2021-06-10 16:05:57.000000000,2021-06-10 16:05:57.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-06-10 14:47:47.000000000', 'files': ['docker/forwarder/build_image.sh', 'docker/build_image.sh', 'docker/statsd/build_image.sh', 'docker/collector/build_image.sh'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/e55a4992858c4a62067463aeeb97911bc23035dd', 'message': ""Fix Docker builds\n\nThe default nodeset was just changed to focal [1], which in the absence\nof the python-is-python3 package doesn't provide a python binary.\n\n[1] https://review.opendev.org/c/opendev/base-jobs/+/789098\n\nChange-Id: I70984db7af7ce5f7028077db4debcd2cd9bd7c45\n(cherry picked from commit 7d21e505e8a8f750e88978c80f7ac47d73d7f2db)\n""}]",0,795798,e55a4992858c4a62067463aeeb97911bc23035dd,6,3,1,28062,,,0,"Fix Docker builds

The default nodeset was just changed to focal [1], which in the absence
of the python-is-python3 package doesn't provide a python binary.

[1] https://review.opendev.org/c/opendev/base-jobs/+/789098

Change-Id: I70984db7af7ce5f7028077db4debcd2cd9bd7c45
(cherry picked from commit 7d21e505e8a8f750e88978c80f7ac47d73d7f2db)
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/98/795798/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/forwarder/build_image.sh', 'docker/build_image.sh', 'docker/statsd/build_image.sh', 'docker/collector/build_image.sh']",4,e55a4992858c4a62067463aeeb97911bc23035dd,docker-build-fixes-stable/wallaby,"REAL_PATH=$(python3 -c ""import os,sys; print(os.path.realpath('$0'))"")","REAL_PATH=$(python -c ""import os,sys; print(os.path.realpath('$0'))"")",4,4
openstack%2Fopenstack-ansible-os_panko~stable%2Fvictoria~I9e2e211c966f71dc047cdf92d9774e55c736d505,openstack/openstack-ansible-os_panko,stable/victoria,I9e2e211c966f71dc047cdf92d9774e55c736d505,Fix wsgi_venv path for panko-api,MERGED,2021-06-07 12:51:44.000000000,2021-06-10 16:01:45.000000000,2021-06-10 16:00:09.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-06-07 12:51:44.000000000', 'files': ['defaults/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_panko/commit/dfb635b7f7a82ccbe23c45a281dda12c222ce663', 'message': 'Fix wsgi_venv path for panko-api\n\nPrevious to this change the uwsgi config had virtualenv include /bin,\nleading to $venv/bin/bin in execution\n\nChange-Id: I9e2e211c966f71dc047cdf92d9774e55c736d505\n(cherry picked from commit b2056f6f4daf3ef94d2636f31310f3254e7ec2fd)\n'}]",0,795039,dfb635b7f7a82ccbe23c45a281dda12c222ce663,12,3,1,28619,,,0,"Fix wsgi_venv path for panko-api

Previous to this change the uwsgi config had virtualenv include /bin,
leading to $venv/bin/bin in execution

Change-Id: I9e2e211c966f71dc047cdf92d9774e55c736d505
(cherry picked from commit b2056f6f4daf3ef94d2636f31310f3254e7ec2fd)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_panko refs/changes/39/795039/1 && git format-patch -1 --stdout FETCH_HEAD,"['defaults/main.yml', 'vars/main.yml']",2,dfb635b7f7a82ccbe23c45a281dda12c222ce663,," 'wsgi_venv': panko_bin | dirname,"," 'wsgi_venv': panko_bin,",2,2
openstack%2Fopenstack-ansible-os_panko~stable%2Fussuri~I9e2e211c966f71dc047cdf92d9774e55c736d505,openstack/openstack-ansible-os_panko,stable/ussuri,I9e2e211c966f71dc047cdf92d9774e55c736d505,Fix wsgi_venv path for panko-api,MERGED,2021-06-07 12:52:10.000000000,2021-06-10 16:01:44.000000000,2021-06-10 16:00:02.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-06-07 12:52:10.000000000', 'files': ['defaults/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_panko/commit/ba15680dc4e8a8c2b8db5c24aaa919dd0b4ceed9', 'message': 'Fix wsgi_venv path for panko-api\n\nPrevious to this change the uwsgi config had virtualenv include /bin,\nleading to $venv/bin/bin in execution\n\nChange-Id: I9e2e211c966f71dc047cdf92d9774e55c736d505\n(cherry picked from commit b2056f6f4daf3ef94d2636f31310f3254e7ec2fd)\n'}]",0,795040,ba15680dc4e8a8c2b8db5c24aaa919dd0b4ceed9,8,3,1,28619,,,0,"Fix wsgi_venv path for panko-api

Previous to this change the uwsgi config had virtualenv include /bin,
leading to $venv/bin/bin in execution

Change-Id: I9e2e211c966f71dc047cdf92d9774e55c736d505
(cherry picked from commit b2056f6f4daf3ef94d2636f31310f3254e7ec2fd)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_panko refs/changes/40/795040/1 && git format-patch -1 --stdout FETCH_HEAD,"['defaults/main.yml', 'vars/main.yml']",2,ba15680dc4e8a8c2b8db5c24aaa919dd0b4ceed9,," 'wsgi_venv': panko_bin | dirname,"," 'wsgi_venv': panko_bin,",2,2
openstack%2Fkayobe~stable%2Fwallaby~Id7378dd844aca7cb5634535308eba0f60342c81d,openstack/kayobe,stable/wallaby,Id7378dd844aca7cb5634535308eba0f60342c81d,CI: test base container image build in seed jobs,MERGED,2021-06-09 14:13:47.000000000,2021-06-10 16:00:13.000000000,2021-06-10 15:58:03.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 14:13:47.000000000', 'files': ['playbooks/kayobe-seed-base/run.yml', 'playbooks/kayobe-seed-base/overrides.yml.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e010356e7b4789ae17b770e51fbc5e456411ee62', 'message': 'CI: test base container image build in seed jobs\n\nCurrently we do not have any coverage of building container images. This\nchange adds a basic test of building the base image to the seed jobs.\n\nA potential future enhancement could involve pushing to a local registry\nrunning on the seed.\n\nChange-Id: Id7378dd844aca7cb5634535308eba0f60342c81d\n(cherry picked from commit c6c1cde3f9cf8bb232071b78ab89c79a0c7689b8)\n'}]",0,795465,e010356e7b4789ae17b770e51fbc5e456411ee62,18,3,1,15197,,,0,"CI: test base container image build in seed jobs

Currently we do not have any coverage of building container images. This
change adds a basic test of building the base image to the seed jobs.

A potential future enhancement could involve pushing to a local registry
running on the seed.

Change-Id: Id7378dd844aca7cb5634535308eba0f60342c81d
(cherry picked from commit c6c1cde3f9cf8bb232071b78ab89c79a0c7689b8)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/65/795465/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-seed-base/run.yml', 'playbooks/kayobe-seed-base/overrides.yml.j2']",2,e010356e7b4789ae17b770e51fbc5e456411ee62,,"# NOTE(mgoddard): The kolla repository is copied to /tmp/kolla and made # readable by the stack user. kolla_source_url: ""/tmp/kolla""","kolla_source_url: ""{{ ansible_env.PWD ~ '/' ~ zuul.projects['opendev.org/openstack/kolla'].src_dir }}""",21,1
openstack%2Fmonasca-agent~stable%2Fussuri~I70984db7af7ce5f7028077db4debcd2cd9bd7c45,openstack/monasca-agent,stable/ussuri,I70984db7af7ce5f7028077db4debcd2cd9bd7c45,Fix Docker builds,MERGED,2021-06-10 14:49:33.000000000,2021-06-10 15:57:18.000000000,2021-06-10 15:57:18.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-06-10 14:49:33.000000000', 'files': ['docker/forwarder/build_image.sh', 'docker/build_image.sh', 'docker/statsd/build_image.sh', 'docker/collector/build_image.sh'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/859a46c0cd2c30cb673a3c72a0e5e0c08170c456', 'message': ""Fix Docker builds\n\nThe default nodeset was just changed to focal [1], which in the absence\nof the python-is-python3 package doesn't provide a python binary.\n\n[1] https://review.opendev.org/c/opendev/base-jobs/+/789098\n\nChange-Id: I70984db7af7ce5f7028077db4debcd2cd9bd7c45\n(cherry picked from commit 7d21e505e8a8f750e88978c80f7ac47d73d7f2db)\n""}]",0,795800,859a46c0cd2c30cb673a3c72a0e5e0c08170c456,6,3,1,28062,,,0,"Fix Docker builds

The default nodeset was just changed to focal [1], which in the absence
of the python-is-python3 package doesn't provide a python binary.

[1] https://review.opendev.org/c/opendev/base-jobs/+/789098

Change-Id: I70984db7af7ce5f7028077db4debcd2cd9bd7c45
(cherry picked from commit 7d21e505e8a8f750e88978c80f7ac47d73d7f2db)
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/00/795800/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/forwarder/build_image.sh', 'docker/build_image.sh', 'docker/statsd/build_image.sh', 'docker/collector/build_image.sh']",4,859a46c0cd2c30cb673a3c72a0e5e0c08170c456,docker-build-fixes-stable/ussuri,"REAL_PATH=$(python3 -c ""import os,sys; print(os.path.realpath('$0'))"")","REAL_PATH=$(python -c ""import os,sys; print(os.path.realpath('$0'))"")",4,4
openstack%2Fkolla~stable%2Fwallaby~I7f79aeab53540df9bf84add6df3add300c9e9fa4,openstack/kolla,stable/wallaby,I7f79aeab53540df9bf84add6df3add300c9e9fa4,[CI] Add grafana to allowed-to-fail,MERGED,2021-06-10 12:58:51.000000000,2021-06-10 15:36:33.000000000,2021-06-10 15:35:02.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-10 12:58:51.000000000', 'files': ['tests/playbooks/run.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/5e38030b0cb01f41db4e41ab2d3da5198b0c2fb5', 'message': '[CI] Add grafana to allowed-to-fail\n\nThe grafana repo is broken for Debuntu.\n\nChange-Id: I7f79aeab53540df9bf84add6df3add300c9e9fa4\n(cherry picked from commit a6884085e1a5336f17c2ed64f67d8f885c454207)\n'}]",0,795631,5e38030b0cb01f41db4e41ab2d3da5198b0c2fb5,8,2,1,30491,,,0,"[CI] Add grafana to allowed-to-fail

The grafana repo is broken for Debuntu.

Change-Id: I7f79aeab53540df9bf84add6df3add300c9e9fa4
(cherry picked from commit a6884085e1a5336f17c2ed64f67d8f885c454207)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/31/795631/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/playbooks/run.yml'],1,5e38030b0cb01f41db4e41ab2d3da5198b0c2fb5,allow-to-fail-grafana-stable/wallaby," # FIXME(yoctozepto): The grafana repo is broken for Debuntu. allowed_to_fail: ""grafana""",,2,0
openstack%2Fopenstack-ansible~stable%2Fussuri~Ic31fd78bb5ad9cd484f44e63ba02db7424a500d5,openstack/openstack-ansible,stable/ussuri,Ic31fd78bb5ad9cd484f44e63ba02db7424a500d5,Disable magnum zero nodes test.,MERGED,2021-06-07 20:02:19.000000000,2021-06-10 15:27:54.000000000,2021-06-10 15:25:58.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-06-07 20:02:19.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_magnum.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b8387f1a0b2cf7f0cf2cf8671b850ce942dd9218', 'message': 'Disable magnum zero nodes test.\n\nSee https://github.com/openstack/magnum-tempest-plugin/commit/b68a678f37de0a769e7ee8dbefa9bdfe6cf445cc\n\nChange-Id: Ic31fd78bb5ad9cd484f44e63ba02db7424a500d5\n(cherry picked from commit 09b30f1d5615ee76223189a69dda17925be1f5ba)\n'}]",0,795137,b8387f1a0b2cf7f0cf2cf8671b850ce942dd9218,8,4,1,28619,,,0,"Disable magnum zero nodes test.

See https://github.com/openstack/magnum-tempest-plugin/commit/b68a678f37de0a769e7ee8dbefa9bdfe6cf445cc

Change-Id: Ic31fd78bb5ad9cd484f44e63ba02db7424a500d5
(cherry picked from commit 09b30f1d5615ee76223189a69dda17925be1f5ba)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/37/795137/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables_magnum.yml.j2'],1,b8387f1a0b2cf7f0cf2cf8671b850ce942dd9218,, - magnum_tempest_plugin.tests.api.v1.test_cluster.ClusterTest.test_create_cluster_with_zero_nodes,,1,0
openstack%2Fneutron-lib~master~I01cb252c423cac6a529a785d5dce7f6b3cbe3b5d,openstack/neutron-lib,master,I01cb252c423cac6a529a785d5dce7f6b3cbe3b5d,"Revert ""Add network parameter to some of the ML2 API methods""",MERGED,2021-06-10 06:17:30.000000000,2021-06-10 15:16:25.000000000,2021-06-10 15:15:00.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-10 06:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/67613753a75434241ac48cbdf70f9eaf15dda64a', 'message': 'Revert ""Add network parameter to some of the ML2 API methods""\n\nThis reverts commit 5adf98e857a2ddb923ba0d47a042027122962a5a.\n\nReason for revert: After longer thinking about related bug, we realized that this isn\'t Neutron bug really. So change proposed in the 5adf98e857a2ddb923ba0d47a042027122962a5a isn\'t really needed.\nSee comment [1] for more details.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1906318/comments/5\n\nChange-Id: I01cb252c423cac6a529a785d5dce7f6b3cbe3b5d\nRelated-Bug: #1906318\n'}, {'number': 2, 'created': '2021-06-10 06:18:07.000000000', 'files': ['releasenotes/notes/add-network-to-get_mtu-ml2-plugin-api-d5c57395f1a31845.yaml', 'neutron_lib/plugins/ml2/api.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/0ca21044d3a5e6d5250f4f5d8548580c04c3db85', 'message': 'Revert ""Add network parameter to some of the ML2 API methods""\n\nThis reverts commit 5adf98e857a2ddb923ba0d47a042027122962a5a.\n\nReason for revert: After longer thinking about related bug,\nwe realized that this isn\'t Neutron bug really.\nSo change proposed in the 5adf98e857a2ddb923ba0d47a042027122962a5a\nisn\'t really needed.\nSee comment [1] for more details.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1906318/comments/5\n\nChange-Id: I01cb252c423cac6a529a785d5dce7f6b3cbe3b5d\nRelated-Bug: #1906318\n'}]",0,795617,0ca21044d3a5e6d5250f4f5d8548580c04c3db85,9,7,2,11975,,,0,"Revert ""Add network parameter to some of the ML2 API methods""

This reverts commit 5adf98e857a2ddb923ba0d47a042027122962a5a.

Reason for revert: After longer thinking about related bug,
we realized that this isn't Neutron bug really.
So change proposed in the 5adf98e857a2ddb923ba0d47a042027122962a5a
isn't really needed.
See comment [1] for more details.

[1] https://bugs.launchpad.net/neutron/+bug/1906318/comments/5

Change-Id: I01cb252c423cac6a529a785d5dce7f6b3cbe3b5d
Related-Bug: #1906318
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/17/795617/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-network-to-get_mtu-ml2-plugin-api-d5c57395f1a31845.yaml', 'neutron_lib/plugins/ml2/api.py']",2,67613753a75434241ac48cbdf70f9eaf15dda64a,bug/1906318," def get_mtu(self, physical): Returns the mtu for the network based on the config values and the network type. def reserve_provider_segment(self, session, segment, filters=None): def allocate_tenant_segment(self, session, filters=None): def reserve_provider_segment(self, context, segment, filters=None): def allocate_tenant_segment(self, context, filters=None):"," def get_mtu(self, physical, network=None): :param physical: name of the physical network :param network: network parameters dictionary Returns the mtu for the network based on the config values, the network type and the network attributes. def reserve_provider_segment(self, session, segment, filters=None, network=None): :param network: network parameters dictionary def allocate_tenant_segment(self, session, filters=None, network=None): :param network: network parameters dictionary def reserve_provider_segment(self, context, segment, filters=None, network=None): :param network: network parameters dictionary def allocate_tenant_segment(self, context, filters=None, network=None): :param network: network parameters dictionary",7,21
openstack%2Fpuppet-glance~master~Iee58bf3efa6495f034bae31269a0d9416dc0f5fe,openstack/puppet-glance,master,Iee58bf3efa6495f034bae31269a0d9416dc0f5fe,Remove all glance-registry related changes,ABANDONED,2019-02-28 12:28:18.000000000,2021-06-10 15:05:25.000000000,,"[{'_account_id': 19138}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-28 12:28:18.000000000', 'files': ['lib/puppet/provider/glance_registry_paste_ini/ini_setting.rb', 'manifests/notify/rabbitmq.pp', 'spec/classes/glance_policy_spec.rb', 'manifests/api.pp', 'spec/classes/glance_config_spec.rb', 'spec/classes/glance_registry_spec.rb', 'manifests/registry/db.pp', 'manifests/registry/logging.pp', 'spec/unit/provider/glance_registry_paste_ini/ini_setting_spec.rb', 'lib/puppet/type/glance_image.rb', 'releasenotes/notes/remove-disabled-glance-registry-442b002534a275c1.yaml', 'manifests/params.pp', 'lib/puppet/type/glance_registry_config.rb', 'spec/unit/type/glance_registry_config_spec.rb', 'manifests/deps.pp', 'spec/acceptance/glance_config_spec.rb', 'spec/classes/glance_registry_db_spec.rb', 'lib/puppet/provider/glance_registry_config/ini_setting.rb', 'spec/unit/provider/glance_registry_config/ini_setting_spec.rb', 'spec/unit/type/glance_registry_paste_ini_spec.rb', 'manifests/init.pp', 'manifests/config.pp', 'lib/puppet/type/glance_registry_paste_ini.rb', 'manifests/registry.pp', 'spec/classes/glance_registry_authtoken_spec.rb', 'spec/classes/glance_api_spec.rb', 'manifests/registry/authtoken.pp', 'manifests/policy.pp', 'spec/classes/glance_notify_rabbitmq_spec.rb', 'spec/classes/glance_registry_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/96a6a15f4333a4468db570ec38083108915e025a', 'message': 'Remove all glance-registry related changes\n\nRemoved all glance-registry related changes from puppet-glance, since\nGlance Registry has become redundant & been deprecated from\nglance due to support of Glance V2. The registry code base is\nalso going to be removed from Glance project once all the\ndependencies removed from other projects.\n\nChange-Id: Iee58bf3efa6495f034bae31269a0d9416dc0f5fe\nRelated-Bug: #1808911\n'}]",0,640020,96a6a15f4333a4468db570ec38083108915e025a,8,4,1,19138,,,0,"Remove all glance-registry related changes

Removed all glance-registry related changes from puppet-glance, since
Glance Registry has become redundant & been deprecated from
glance due to support of Glance V2. The registry code base is
also going to be removed from Glance project once all the
dependencies removed from other projects.

Change-Id: Iee58bf3efa6495f034bae31269a0d9416dc0f5fe
Related-Bug: #1808911
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/20/640020/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/glance_registry_paste_ini/ini_setting.rb', 'manifests/notify/rabbitmq.pp', 'spec/classes/glance_policy_spec.rb', 'manifests/api.pp', 'spec/classes/glance_config_spec.rb', 'spec/classes/glance_registry_spec.rb', 'manifests/registry/db.pp', 'manifests/registry/logging.pp', 'spec/unit/provider/glance_registry_paste_ini/ini_setting_spec.rb', 'lib/puppet/type/glance_image.rb', 'releasenotes/notes/remove-disabled-glance-registry-442b002534a275c1.yaml', 'manifests/params.pp', 'lib/puppet/type/glance_registry_config.rb', 'spec/unit/type/glance_registry_config_spec.rb', 'manifests/deps.pp', 'spec/acceptance/glance_config_spec.rb', 'spec/classes/glance_registry_db_spec.rb', 'lib/puppet/provider/glance_registry_config/ini_setting.rb', 'spec/unit/provider/glance_registry_config/ini_setting_spec.rb', 'spec/unit/type/glance_registry_paste_ini_spec.rb', 'manifests/init.pp', 'manifests/config.pp', 'lib/puppet/type/glance_registry_paste_ini.rb', 'manifests/registry.pp', 'spec/classes/glance_registry_authtoken_spec.rb', 'spec/classes/glance_api_spec.rb', 'manifests/registry/authtoken.pp', 'manifests/policy.pp', 'spec/classes/glance_notify_rabbitmq_spec.rb', 'spec/classes/glance_registry_logging_spec.rb']",30,96a6a15f4333a4468db570ec38083108915e025a,bug/1808911,,"require 'spec_helper' describe 'glance::registry::logging' do let :params do { } end let :log_params do { :logging_context_format_string => '%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [%(request_id)s %(user_identity)s] %(instance)s%(message)s', :logging_default_format_string => '%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [-] %(instance)s%(message)s', :logging_debug_format_suffix => '%(funcName)s %(pathname)s:%(lineno)d', :logging_exception_prefix => '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s', :log_config_append => '/etc/glance/logging.conf', :publish_errors => true, :default_log_levels => { 'amqp' => 'WARN', 'amqplib' => 'WARN', 'boto' => 'WARN', 'sqlalchemy' => 'WARN', 'suds' => 'INFO', 'iso8601' => 'WARN', 'requests.packages.urllib3.connectionpool' => 'WARN' }, :fatal_deprecations => true, :instance_format => '[instance: %(uuid)s] ', :instance_uuid_format => '[instance: %(uuid)s] ', :log_date_format => '%Y-%m-%d %H:%M:%S', :use_syslog => true, :use_json => true, :use_journal => true, :use_stderr => false, :log_facility => 'LOG_FOO', :log_dir => '/var/log', :log_file => '/var/tmp/glance_registry_random.log', :debug => true, } end shared_examples_for 'glance-registry-logging' do context 'with basic logging options and default settings' do it_configures 'basic default logging settings' end context 'with basic logging options and non-default settings' do before { params.merge!( log_params ) } it_configures 'basic non-default logging settings' end context 'with extended logging options' do before { params.merge!( log_params ) } it_configures 'logging params set' end context 'without extended logging options' do it_configures 'logging params unset' end end shared_examples 'basic default logging settings' do it 'configures glance logging settings with default values' do is_expected.to contain_oslo__log('glance_registry_config').with( :use_syslog => '<SERVICE DEFAULT>', :use_json => '<SERVICE DEFAULT>', :use_journal => '<SERVICE DEFAULT>', :use_stderr => '<SERVICE DEFAULT>', :log_dir => '/var/log/glance', :log_file => '/var/log/glance/registry.log', :debug => '<SERVICE DEFAULT>', ) end end shared_examples 'basic non-default logging settings' do it 'configures glance logging settings with non-default values' do is_expected.to contain_oslo__log('glance_registry_config').with( :use_syslog => true, :use_json => true, :use_journal => true, :use_stderr => false, :syslog_log_facility => 'LOG_FOO', :log_dir => '/var/log', :log_file => '/var/tmp/glance_registry_random.log', :debug => true, ) end end shared_examples_for 'logging params set' do it 'enables logging params' do is_expected.to contain_oslo__log('glance_registry_config').with( :logging_context_format_string => '%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [%(request_id)s %(user_identity)s] %(instance)s%(message)s', :logging_default_format_string => '%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [-] %(instance)s%(message)s', :logging_debug_format_suffix => '%(funcName)s %(pathname)s:%(lineno)d', :logging_exception_prefix => '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s', :log_config_append => '/etc/glance/logging.conf', :publish_errors => true, :default_log_levels => { 'amqp' => 'WARN', 'amqplib' => 'WARN', 'boto' => 'WARN', 'sqlalchemy' => 'WARN', 'suds' => 'INFO', 'iso8601' => 'WARN', 'requests.packages.urllib3.connectionpool' => 'WARN' }, :fatal_deprecations => true, :instance_format => '[instance: %(uuid)s] ', :instance_uuid_format => '[instance: %(uuid)s] ', :log_date_format => '%Y-%m-%d %H:%M:%S', ) end end shared_examples_for 'logging params unset' do [ :logging_context_format_string, :logging_default_format_string, :logging_debug_format_suffix, :logging_exception_prefix, :log_config_append, :publish_errors, :default_log_levels, :fatal_deprecations, :instance_format, :instance_uuid_format, :log_date_format, ].each { |param| it { is_expected.to contain_oslo__log('glance_registry_config').with(""#{param}"" => '<SERVICE DEFAULT>') } } end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end it_configures 'glance-registry-logging' end end end ",17,1837
openstack%2Fpython-glanceclient~master~Ib85f2fa95b95e95ac5711b1dcd626a9a84ac8b0b,openstack/python-glanceclient,master,Ib85f2fa95b95e95ac5711b1dcd626a9a84ac8b0b,Uncap PrettyTable,MERGED,2021-02-18 06:48:28.000000000,2021-06-10 15:04:17.000000000,2021-06-10 15:02:41.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-18 06:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/ca89eec6340870dd97e792da34ca9e40ded10c6c', 'message': 'Uncap PrettyTable\n\nThis is now maintained as a Jazzband project [1].\n\n[1] https://github.com/jazzband/prettytable\n\nChange-Id: Ib85f2fa95b95e95ac5711b1dcd626a9a84ac8b0b\n'}, {'number': 2, 'created': '2021-05-17 09:15:02.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/de0e9d9510e997c5d49fc28e7175e326f216b038', 'message': 'Uncap PrettyTable\n\nThis is now maintained as a Jazzband project [1].\n\n[1] https://github.com/jazzband/prettytable\n\nChange-Id: Ib85f2fa95b95e95ac5711b1dcd626a9a84ac8b0b\n'}]",0,776325,de0e9d9510e997c5d49fc28e7175e326f216b038,12,4,2,31882,,,0,"Uncap PrettyTable

This is now maintained as a Jazzband project [1].

[1] https://github.com/jazzband/prettytable

Change-Id: Ib85f2fa95b95e95ac5711b1dcd626a9a84ac8b0b
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/25/776325/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,ca89eec6340870dd97e792da34ca9e40ded10c6c,bump_prettytable_version,PrettyTable>=0.7.1 # BSD,"PrettyTable<0.8,>=0.7.1 # BSD",1,1
openstack%2Fpython-tripleoclient~master~I9baefb9b9ab7b21b58b48b29f1f70c8c19005340,openstack/python-tripleoclient,master,I9baefb9b9ab7b21b58b48b29f1f70c8c19005340,Remove existing env vars before scale down,ABANDONED,2021-06-08 02:22:18.000000000,2021-06-10 15:02:15.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-06-08 02:22:18.000000000', 'files': ['tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e9be0d860a542d0f148abcf2bdf4903a9538b2ff', 'message': ""Remove existing env vars before scale down\n\nExisting environment variables cause scale down\nfailures. This is an issue if the user sources\nthe stackrc file instead of just exporting\nOS_CLOUD=undercloud. Since we rely on clouds.yaml\nfor the scale down to work. The env vars set by\nstackrc need to be removed.\n\nI also added a task to reset them after we're\ndone to improve the overall experience.\n\nCloses-Bug: #1931172\nChange-Id: I9baefb9b9ab7b21b58b48b29f1f70c8c19005340\n""}]",3,795198,e9be0d860a542d0f148abcf2bdf4903a9538b2ff,5,3,1,30073,,,0,"Remove existing env vars before scale down

Existing environment variables cause scale down
failures. This is an issue if the user sources
the stackrc file instead of just exporting
OS_CLOUD=undercloud. Since we rely on clouds.yaml
for the scale down to work. The env vars set by
stackrc need to be removed.

I also added a task to reset them after we're
done to improve the overall experience.

Closes-Bug: #1931172
Change-Id: I9baefb9b9ab7b21b58b48b29f1f70c8c19005340
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/98/795198/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py']",2,e9be0d860a542d0f148abcf2bdf4903a9538b2ff,bug/1931172," def _save_clear_envvars(): env_vars = {} for k, v in os.environ.items(): if k.startswith(""OS_""): env_vars[k] = v del os.environ[k] return(env_vars) def _recreate_envvars(env_vars: dict): for k, v in env_vars.items(): os.environ[k] = v",,22,0
openstack%2Fpuppet-horizon~stable%2Fwallaby~If5db2f908d0e63e0cb8556fdb461a372076bc9df,openstack/puppet-horizon,stable/wallaby,If5db2f908d0e63e0cb8556fdb461a372076bc9df,DNM: Test unit tests,ABANDONED,2021-06-10 04:54:45.000000000,2021-06-10 14:59:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-10 04:54:45.000000000', 'files': ['spec/classes/horizon_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/3d308fa01c5444870532d01883d45593d3404244', 'message': 'DNM: Test unit tests\n\nChange-Id: If5db2f908d0e63e0cb8556fdb461a372076bc9df\n'}]",0,795727,3d308fa01c5444870532d01883d45593d3404244,3,1,1,9816,,,0,"DNM: Test unit tests

Change-Id: If5db2f908d0e63e0cb8556fdb461a372076bc9df
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/27/795727/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/horizon_init_spec.rb'],1,3d308fa01c5444870532d01883d45593d3404244,,,,1,0
openstack%2Fpuppet-horizon~stable%2Fwallaby~I5c2fa1e47f20b69e6ba31311b0d3e557d45c6df6,openstack/puppet-horizon,stable/wallaby,I5c2fa1e47f20b69e6ba31311b0d3e557d45c6df6,DNM: Check how enable_user_pass => false behaves,ABANDONED,2021-06-10 03:16:31.000000000,2021-06-10 14:58:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-10 03:16:31.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/c3ac207b3961298218baa6314f73f9fc41339659', 'message': 'DNM: Check how enable_user_pass => false behaves\n\nChange-Id: I5c2fa1e47f20b69e6ba31311b0d3e557d45c6df6\n'}]",0,795724,c3ac207b3961298218baa6314f73f9fc41339659,3,1,1,9816,,,0,"DNM: Check how enable_user_pass => false behaves

Change-Id: I5c2fa1e47f20b69e6ba31311b0d3e557d45c6df6
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/24/795724/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,c3ac207b3961298218baa6314f73f9fc41339659,dnm," $enable_user_pass = false,"," $enable_user_pass = true,",1,1
openstack%2Fopenstack-helm-infra~master~I6b46d2274a57d07c9967321abaa1077a1e8b4da2,openstack/openstack-helm-infra,master,I6b46d2274a57d07c9967321abaa1077a1e8b4da2,rabbitmq: Set separate for HTTPS,MERGED,2021-06-07 22:00:28.000000000,2021-06-10 14:43:06.000000000,2021-06-10 14:41:32.000000000,"[{'_account_id': 18236}, {'_account_id': 18250}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 29585}, {'_account_id': 30495}, {'_account_id': 30746}, {'_account_id': 33282}]","[{'number': 1, 'created': '2021-06-07 22:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/76d55546c1ee9dd814c1103b1f36935721c4df2a', 'message': 'rabbitmq: Set separate for HTTPS\n\nAdditionally, add TLS to prometheus exporter.\n\nChange-Id: I6b46d2274a57d07c9967321abaa1077a1e8b4da2\n'}, {'number': 2, 'created': '2021-06-08 14:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/234f90fbf0c88449787f91f05fcf367e9bb5861e', 'message': 'rabbitmq: Set separate for HTTPS\n\nAdditionally, add TLS to prometheus exporter.\n\nChange-Id: I6b46d2274a57d07c9967321abaa1077a1e8b4da2\n'}, {'number': 3, 'created': '2021-06-09 03:49:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a19e6d581f25f6ba5ad94123fe00e18f41531471', 'message': 'rabbitmq: Set separate for HTTPS\n\nAdditionally, add TLS to prometheus exporter.\n\nChange-Id: I6b46d2274a57d07c9967321abaa1077a1e8b4da2\n'}, {'number': 4, 'created': '2021-06-09 03:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a75bad79c42577f4382bff48e8a31b19fb124dfe', 'message': 'rabbitmq: Set separate for HTTPS\n\nAdditionally, add TLS to prometheus exporter.\n\nChange-Id: I6b46d2274a57d07c9967321abaa1077a1e8b4da2\n'}, {'number': 5, 'created': '2021-06-09 03:50:09.000000000', 'files': ['rabbitmq/values_overrides/tls.yaml', 'rabbitmq/templates/bin/_rabbitmq-test.sh.tpl', 'rabbitmq/templates/monitoring/prometheus/exporter-deployment.yaml', 'releasenotes/notes/rabbitmq.yaml', 'rabbitmq/templates/service.yaml', 'rabbitmq/templates/job-cluster-wait.yaml', 'rabbitmq/templates/bin/_rabbitmq-wait-for-cluster.sh.tpl', 'rabbitmq/Chart.yaml', 'rabbitmq/templates/pod-test.yaml', 'rabbitmq/templates/statefulset.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e1990e399fa904679404b7aac8ad9072d9367035', 'message': 'rabbitmq: Set separate for HTTPS\n\nAdditionally, add TLS to prometheus exporter.\n\nChange-Id: I6b46d2274a57d07c9967321abaa1077a1e8b4da2\n'}]",0,795188,e1990e399fa904679404b7aac8ad9072d9367035,31,8,5,24780,,,0,"rabbitmq: Set separate for HTTPS

Additionally, add TLS to prometheus exporter.

Change-Id: I6b46d2274a57d07c9967321abaa1077a1e8b4da2
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/88/795188/4 && git format-patch -1 --stdout FETCH_HEAD,"['rabbitmq/templates/bin/_rabbitmq-test.sh.tpl', 'rabbitmq/templates/monitoring/prometheus/exporter-deployment.yaml', 'releasenotes/notes/rabbitmq.yaml', 'rabbitmq/templates/service.yaml', 'rabbitmq/templates/job-cluster-wait.yaml', 'rabbitmq/templates/bin/_rabbitmq-wait-for-cluster.sh.tpl', 'rabbitmq/Chart.yaml', 'rabbitmq/templates/pod-test.yaml', 'rabbitmq/templates/statefulset.yaml']",9,76d55546c1ee9dd814c1103b1f36935721c4df2a,," {{- $protocol := ""http"" }} {{- if $envAll.Values.manifests.certificates }} {{- $protocol = ""https"" }} {{- end }} - name: {{ printf ""%s"" $protocol }} containerPort: {{ tuple ""oslo_messaging"" ""internal"" $protocol . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }} value: ""{{ tuple ""oslo_messaging"" ""internal"" $protocol . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }}"""," - name: http containerPort: {{ tuple ""oslo_messaging"" ""internal"" ""http"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }} value: ""{{ tuple ""oslo_messaging"" ""internal"" ""http"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }}""",69,62
openstack%2Fopenstack-ansible-os_neutron~stable%2Ftrain~I6a166b88967a1a56b36ea117295d35e137129cd6,openstack/openstack-ansible-os_neutron,stable/train,I6a166b88967a1a56b36ea117295d35e137129cd6,config: add region_name to nova,MERGED,2021-06-09 15:35:06.000000000,2021-06-10 14:40:22.000000000,2021-06-10 14:38:56.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-06-09 15:35:06.000000000', 'files': ['templates/neutron.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/59c7dc1318d6cee1bdb7b0526586a7e4c7a7582f', 'message': 'config: add region_name to nova\n\nChange-Id: I6a166b88967a1a56b36ea117295d35e137129cd6\n(cherry picked from commit 8f7017c32612e20bfae7f0c9c39b7b439b15def1)\n'}]",0,795468,59c7dc1318d6cee1bdb7b0526586a7e4c7a7582f,9,4,1,28619,,,0,"config: add region_name to nova

Change-Id: I6a166b88967a1a56b36ea117295d35e137129cd6
(cherry picked from commit 8f7017c32612e20bfae7f0c9c39b7b439b15def1)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/68/795468/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/neutron.conf.j2'],1,59c7dc1318d6cee1bdb7b0526586a7e4c7a7582f,fix-region-name-stable/train,region_name = {{ neutron_service_region }}region_name = {{ neutron_service_region }},,2,1
openstack%2Fopenstack-ansible-os_nova~stable%2Ftrain~I58e1dac857b2a9c0474b78220d9d3ae29f2428c0,openstack/openstack-ansible-os_nova,stable/train,I58e1dac857b2a9c0474b78220d9d3ae29f2428c0,config: add region_name to neutron,MERGED,2021-06-09 15:24:08.000000000,2021-06-10 14:39:17.000000000,2021-06-10 14:37:46.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-06-09 15:24:08.000000000', 'files': ['templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/ba6549ced98c44dda089e638f26490f5f4a218ff', 'message': 'config: add region_name to neutron\n\nChange-Id: I58e1dac857b2a9c0474b78220d9d3ae29f2428c0\n(cherry picked from commit 0d7e1ec25c5946b8260bdbff3f4845a5ea55eed7)\n'}]",0,795467,ba6549ced98c44dda089e638f26490f5f4a218ff,8,4,1,28619,,,0,"config: add region_name to neutron

Change-Id: I58e1dac857b2a9c0474b78220d9d3ae29f2428c0
(cherry picked from commit 0d7e1ec25c5946b8260bdbff3f4845a5ea55eed7)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/67/795467/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/nova.conf.j2'],1,ba6549ced98c44dda089e638f26490f5f4a218ff,fix-region-name-stable/train,region_name = {{ nova_service_region }}region_name = {{ nova_service_region }},,2,0
openstack%2Fos-vif~master~I70372bf84951fb39a6bf63e3b16ae8df026f8733,openstack/os-vif,master,I70372bf84951fb39a6bf63e3b16ae8df026f8733,[WIP] mock ovs.poller.Poller,ABANDONED,2021-06-10 12:24:29.000000000,2021-06-10 14:28:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-10 12:24:29.000000000', 'files': ['vif_plug_ovs/ovsdb/impl_idl.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/721d775988cd6109c55ace55f0d489d656858058', 'message': '[WIP] mock ovs.poller.Poller\n\nChange-Id: I70372bf84951fb39a6bf63e3b16ae8df026f8733\n'}]",2,795770,721d775988cd6109c55ace55f0d489d656858058,6,1,1,11604,,,0,"[WIP] mock ovs.poller.Poller

Change-Id: I70372bf84951fb39a6bf63e3b16ae8df026f8733
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/70/795770/1 && git format-patch -1 --stdout FETCH_HEAD,['vif_plug_ovs/ovsdb/impl_idl.py'],1,721d775988cd6109c55ace55f0d489d656858058,bug/1929446,"from unittest import mock# os-vif does not use the connection to monitor the state of the ovs-db # it only uses it to write to the ovs-db. As a result we do not need to # actually poll ovs so mock out the Poller used by ovsdbapp. # TODO(sean-k-mooney): modify ovsdbapp to allow us to disable polling # or kick the polling to a real pthread instead of this hack. @mock.patch(""ovs.poller.Poller"", new=mock.MagicMock())",,7,0
openstack%2Ftripleo-ansible~master~I25b203882b06a9b98541e92c24be52d92858d8c1,openstack/tripleo-ansible,master,I25b203882b06a9b98541e92c24be52d92858d8c1,Add compatibility for 2.10,ABANDONED,2021-01-26 18:13:58.000000000,2021-06-10 14:27:19.000000000,,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-26 18:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/82704e24ff7452f96e4ab4b734f359c9338d588a', 'message': 'Add compatibility for 2.10\n\nIf you pip install ansible (not base) to get ansible 2.10, the\ncollection is available so we need to import that differently than it is\ncurrently imported for 2.9\n\nChange-Id: I25b203882b06a9b98541e92c24be52d92858d8c1\n'}, {'number': 2, 'created': '2021-01-26 20:10:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/72175f29c26b6f7693bc66b748b88f5bb31972fd', 'message': 'Add compatibility for 2.10\n\nIf you pip install ansible (not base) to get ansible 2.10, the\ncollection is available so we need to import that differently than it is\ncurrently imported for 2.9\n\nChange-Id: I25b203882b06a9b98541e92c24be52d92858d8c1\n'}, {'number': 3, 'created': '2021-01-26 22:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a65b6da8c0d958c727d553847390b9190f9fed48', 'message': 'Add compatibility for 2.10\n\nIf you pip install ansible (not base) to get ansible 2.10, the\ncollection is available so we need to import that differently than it is\ncurrently imported for 2.9\n\nChange-Id: I25b203882b06a9b98541e92c24be52d92858d8c1\n'}, {'number': 4, 'created': '2021-01-26 22:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0ef684f010debbd4aead245dde6df00669514c17', 'message': 'Add compatibility for 2.10\n\nIf you pip install ansible (not base) to get ansible 2.10, the\ncollection is available so we need to import that differently than it is\ncurrently imported for 2.9\n\nChange-Id: I25b203882b06a9b98541e92c24be52d92858d8c1\n'}, {'number': 5, 'created': '2021-01-27 00:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/69a2208ed831626fc92292e2f26f9ce8f1c68206', 'message': 'Add compatibility for 2.10\n\nIf you pip install ansible (not base) to get ansible 2.10, the\ncollection is available so we need to import that differently than it is\ncurrently imported for 2.9\n\nChange-Id: I25b203882b06a9b98541e92c24be52d92858d8c1\n'}, {'number': 6, 'created': '2021-01-27 14:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d66c8d4ae9196fb3ffbbed999879ee139cbbcd00', 'message': 'Add compatibility for 2.10\n\nIf you pip install ansible (not base) to get ansible 2.10, the\ncollection is available so we need to import that differently than it is\ncurrently imported for 2.9\n\nChange-Id: I25b203882b06a9b98541e92c24be52d92858d8c1\n'}, {'number': 7, 'created': '2021-01-27 14:59:24.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_container.py', 'tripleo_ansible/ansible_plugins/module_utils/podman/__init__.py', 'tripleo_ansible/ansible_plugins/module_utils/__init__.py', 'tripleo_ansible/ansible_plugins/module_utils/podman/podman_container_lib.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/46123b5050933d4c6442b6a0f6099d44a476efb5', 'message': 'Add compatibility for 2.10\n\nIf you pip install ansible (not base) to get ansible 2.10, the\ncollection is available so we need to import that differently than it is\ncurrently imported for 2.9\n\nChange-Id: I25b203882b06a9b98541e92c24be52d92858d8c1\n'}]",0,772580,46123b5050933d4c6442b6a0f6099d44a476efb5,24,6,7,14985,,,0,"Add compatibility for 2.10

If you pip install ansible (not base) to get ansible 2.10, the
collection is available so we need to import that differently than it is
currently imported for 2.9

Change-Id: I25b203882b06a9b98541e92c24be52d92858d8c1
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/80/772580/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/podman_container.py'],1,82704e24ff7452f96e4ab4b734f359c9338d588a,ansible-2.10, try: from ansible_collections.containers.podman.plugins.module_utils.podman.podman_container_lib import PodmanManager # noqa: F402 from ansible_collections.containers.podman.plugins.module_utils.podman.podman_container_lib import ARGUMENTS_SPEC_CONTAINER # noqa: F402 except ImportError: from tripleo_ansible.ansible_plugins.module_utils.podman.podman_container_lib import PodmanManager # noqa: F402 from tripleo_ansible.ansible_plugins.module_utils.podman.podman_container_lib import ARGUMENTS_SPEC_CONTAINER # noqa: F402, from tripleo_ansible.ansible_plugins.module_utils.podman.podman_container_lib import PodmanManager # noqa: F402 from tripleo_ansible.ansible_plugins.module_utils.podman.podman_container_lib import ARGUMENTS_SPEC_CONTAINER # noqa: F402,6,2
openstack%2Ftripleo-heat-templates~master~Icceeff82eef676881853796b4f7142c254f6818e,openstack/tripleo-heat-templates,master,Icceeff82eef676881853796b4f7142c254f6818e,Move prefetch container to pre deploy,ABANDONED,2021-04-07 16:28:00.000000000,2021-06-10 14:25:10.000000000,,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-07 16:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ae0a46b22ee70282350132d94893121ba694d05f', 'message': ""Move prefetch container to pre deploy\n\nNow that we've added pre deployment steps, we can move the container\nfetching from step 1 to the pre deploy steps.\n\nChange-Id: Icceeff82eef676881853796b4f7142c254f6818e\n""}, {'number': 2, 'created': '2021-04-07 16:29:04.000000000', 'files': ['deployment/podman/podman-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f283b397d09828f52ac2fc36928c1bb5e1affc7f', 'message': ""Move prefetch container to pre deploy\n\nNow that we've added pre deployment steps, we can move the container\nfetching from step 1 to the pre deploy steps.\n\nChange-Id: Icceeff82eef676881853796b4f7142c254f6818e\n""}]",0,785233,f283b397d09828f52ac2fc36928c1bb5e1affc7f,9,4,2,14985,,,0,"Move prefetch container to pre deploy

Now that we've added pre deployment steps, we can move the container
fetching from step 1 to the pre deploy steps.

Change-Id: Icceeff82eef676881853796b4f7142c254f6818e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/33/785233/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/podman/podman-baremetal-ansible.yaml'],1,ae0a46b22ee70282350132d94893121ba694d05f,pre-fetch-containers," pre_deploy_set_tasks: # NOTE(mwhahaha): validate_certs is a misnomer because what it # actually does is enable the --tls-verify flag which forces # registries to only be over HTTPS. By default, podman will only # use HTTPS registries but has a way to configure specific insecure # and non-HTTPS registries. The --tls-verify flag prevents this # fallback from functioning. We rely on this fallback for the # undercloud registry. - name: Pre-fetch all the containers become: true podman_image: name: ""{{ prefetch_image }}"" validate_certs: false force: true retries: 5 delay: 5 loop_control: loop_var: prefetch_image loop: ""{{ lookup('file', tripleo_role_name + '/docker_config.yaml', errors='ignore') | default('{}', True) | from_yaml | recursive_get_key_from_dict(key='image') | unique }}"""," deploy_steps_tasks: - when: - (step|int) == 1 block: # NOTE(mwhahaha): validate_certs is a misnomer because what it # actually does is enable the --tls-verify flag which forces # registries to only be over HTTPS. By default, podman will only # use HTTPS registries but has a way to configure specific insecure # and non-HTTPS registries. The --tls-verify flag prevents this # fallback from functioning. We rely on this fallback for the # undercloud registry. - name: Pre-fetch all the containers become: true podman_image: name: ""{{ prefetch_image }}"" validate_certs: false force: true retries: 5 delay: 5 loop_control: loop_var: prefetch_image loop: ""{{ lookup('file', tripleo_role_name + '/docker_config.yaml', errors='ignore') | default('{}', True) | from_yaml | recursive_get_key_from_dict(key='image') | unique }}""",19,22
openstack%2Fnova-specs~master~Iaa33cc561bcbeca78de9cf5c9f52745b87a32bc2,openstack/nova-specs,master,Iaa33cc561bcbeca78de9cf5c9f52745b87a32bc2,Speed up server details,MERGED,2021-05-16 11:02:54.000000000,2021-06-10 14:24:17.000000000,2021-06-10 14:22:02.000000000,"[{'_account_id': 5754}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-16 11:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/6d9e6de61dd14f25347ccf2f3f1a55ff1fcdfaff', 'message': 'Speed up server details\n\nSpeed up server details by caching security group\nid in info_cache and also add a new microversion.\n\nChange-Id: Iaa33cc561bcbeca78de9cf5c9f52745b87a32bc2\n'}, {'number': 2, 'created': '2021-05-19 02:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/354dd6551c5976067ad4bb95c6f11fe17cfb7fdf', 'message': 'Speed up server details\n\nSpeed up server details by caching security group\nid in info_cache and also add a new microversion.\n\nChange-Id: Iaa33cc561bcbeca78de9cf5c9f52745b87a32bc2\n'}, {'number': 3, 'created': '2021-05-19 03:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/87a505c76bf1f512ec7d9858b3a12517f1c3ca27', 'message': 'Speed up server details\n\nSpeed up server details by caching security group\nid in info_cache and also add a new microversion.\n\nChange-Id: Iaa33cc561bcbeca78de9cf5c9f52745b87a32bc2\n'}, {'number': 4, 'created': '2021-05-19 03:37:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/3fe0713d9afd34921c2d01c5f3d28c7b363915e8', 'message': 'Speed up server details\n\nSpeed up server details by caching security group\nid in info_cache and also add a new microversion.\n\nChange-Id: Iaa33cc561bcbeca78de9cf5c9f52745b87a32bc2\n'}, {'number': 5, 'created': '2021-05-27 00:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/7a568d2e4c29b36798c22525a2c6537c768b4a85', 'message': 'Speed up server details\n\nSpeed up server details by caching security group\nid in info_cache and also add a new microversion.\n\nChange-Id: Iaa33cc561bcbeca78de9cf5c9f52745b87a32bc2\n'}, {'number': 6, 'created': '2021-05-27 01:15:25.000000000', 'files': ['specs/xena/approved/rework-security-group-retrieving.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/631b6902881e1d692e6fa119cc8a5feebfcf998e', 'message': 'Speed up server details\n\nSpeed up server details by caching security group\nname in info_cache and also add a new microversion.\n\nChange-Id: Iaa33cc561bcbeca78de9cf5c9f52745b87a32bc2\n'}]",56,791620,631b6902881e1d692e6fa119cc8a5feebfcf998e,36,5,6,29071,,,0,"Speed up server details

Speed up server details by caching security group
name in info_cache and also add a new microversion.

Change-Id: Iaa33cc561bcbeca78de9cf5c9f52745b87a32bc2
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/20/791620/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/approved/rework-security-group-retrieving.rst'],1,6d9e6de61dd14f25347ccf2f3f1a55ff1fcdfaff,change-791620-1,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================================== Allow including @ and . (dot) characters in keypair name ======================================================== https://blueprints.launchpad.net/nova/+spec/rework-security-group-retrieving Problem description =================== Nova server details could be significantly slowed down if calling neutron plugin is used. The cause could be that retrieving security group id/name requires extra calls to neutron API and number of calls are linear to number of ports associated with instances divided by 100. By removing calling to neutron API, it shows a 30% improvement for server details. Nova already has an `info_cache` which saves port id, so we can take advantage of this and saves security group id as well. By doing this, we should be able to boost API performance. Use Cases --------- Speed up listing of server details and improving API responsiveness. Proposed change =============== Add a new mircoversion and allow user to retrieve server detail list without security group. Cache security group id in `info_cache`, so when directly retrieving security group from database without calling neutron API. Alternatives ------------ None Data model impact ----------------- `info_cache` object will have a new property named `security_group`. REST API impact --------------- Add a miroversion to stop returning security groups when using neutron network plugin. Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Primary assignee: ushen Other contributors: None Feature Liaison --------------- Liaison Needed Work Items ---------- None Dependencies ============ None Testing ======= Adding unit tests should be enough to test these special characters. Documentation Impact ==================== Add a documentation and explain the new microversion as well as server details may return stale data when quering. References ========== Discussion on IRC about the need for a new API microversion: https://etherpad.opendev.org/p/nova-xena-ptg History ======= ",,137,0
openstack%2Fironic~master~I6e1246712ea2ccb13538f040f2cdb1e91b7a3feb,openstack/ironic,master,I6e1246712ea2ccb13538f040f2cdb1e91b7a3feb,Changes made to enrollment documentation,MERGED,2021-06-09 20:32:51.000000000,2021-06-10 14:22:47.000000000,2021-06-10 14:21:06.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-09 20:32:51.000000000', 'files': ['doc/source/install/enrollment.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/728edb6b7d96e8c0d23f6095111bba0a9a85c217', 'message': 'Changes made to enrollment documentation\n\n* Fixed typo\n\nChange-Id: I6e1246712ea2ccb13538f040f2cdb1e91b7a3feb\n'}]",0,795695,728edb6b7d96e8c0d23f6095111bba0a9a85c217,9,3,1,33512,,,0,"Changes made to enrollment documentation

* Fixed typo

Change-Id: I6e1246712ea2ccb13538f040f2cdb1e91b7a3feb
",git fetch https://review.opendev.org/openstack/ironic refs/changes/95/795695/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/enrollment.rst'],1,728edb6b7d96e8c0d23f6095111bba0a9a85c217,document-fix, orphaning Neutron Virtual Interfaces (VIFs) will be overridden., orphaning Neutron Virtual Interfaces (VIFs) will be overriden.,1,1
openstack%2Fironic-prometheus-exporter~master~I7bbf47cfce4b5f75e5dde4646566320583026a17,openstack/ironic-prometheus-exporter,master,I7bbf47cfce4b5f75e5dde4646566320583026a17,Replace deprecated UPPER_CONSTRAINTS_FILE variable,MERGED,2021-06-04 01:48:59.000000000,2021-06-10 14:17:33.000000000,2021-06-10 14:15:49.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-04 01:48:59.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/89578a87d7a351889cf22c2909ca5960c9edb818', 'message': 'Replace deprecated UPPER_CONSTRAINTS_FILE variable\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n\n[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\n\nChange-Id: I7bbf47cfce4b5f75e5dde4646566320583026a17\n'}]",0,794696,89578a87d7a351889cf22c2909ca5960c9edb818,8,3,1,32029,,,0,"Replace deprecated UPPER_CONSTRAINTS_FILE variable

UPPER_CONSTRAINTS_FILE is old name and deprecated

[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file

Change-Id: I7bbf47cfce4b5f75e5dde4646566320583026a17
",git fetch https://review.opendev.org/openstack/ironic-prometheus-exporter refs/changes/96/794696/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,89578a87d7a351889cf22c2909ca5960c9edb818,TOX_CONSTRAINTS_FILE, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},4,4
openstack%2Fopenstack-ansible-os_cloudkitty~master~I0fe96c318273f0016d93cf043bda74feb11c63f8,openstack/openstack-ansible-os_cloudkitty,master,I0fe96c318273f0016d93cf043bda74feb11c63f8,Cloudkitty role cleanup and config updates,MERGED,2021-06-02 10:24:55.000000000,2021-06-10 14:13:40.000000000,2021-06-10 14:11:53.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-06-02 10:24:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/e730b9c6a245fce5c5e86958484c152a7aad1bf3', 'message': 'Cloudkitty role cleanup and config updates\n\nThe Cloudkitty role has been lacking some attention for a while\ncausing some of the configuration and examples outdated.\n\nNow that Cloudkitty playbook and dashboard can be installed using\nOSA without running any additional playbooks from this repository\ni have removed those from here.\n\nChange-Id: I0fe96c318273f0016d93cf043bda74feb11c63f8\n'}, {'number': 2, 'created': '2021-06-02 13:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/5bdc4d67f5a8e6d80bbaa370bfb4d4d781fc3777', 'message': 'Cloudkitty role cleanup and config updates\n\nThe Cloudkitty role has been lacking some attention for a while\ncausing some of the configuration and examples outdated.\n\nNow that Cloudkitty playbook and dashboard can be installed using\nOSA without running any additional playbooks from this repository\ni have removed those from here.\n\nChange-Id: I0fe96c318273f0016d93cf043bda74feb11c63f8\n'}, {'number': 3, 'created': '2021-06-07 10:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/fedc72297bdcc9b958beff3fc929685722c07a5a', 'message': 'Cloudkitty role cleanup and config updates\n\nThe Cloudkitty role has been lacking some attention for a while\ncausing some of the configuration and examples outdated.\n\nNow that Cloudkitty playbook and dashboard can be installed using\nOSA without running any additional playbooks from this repository\ni have removed those from here.\n\nChange-Id: I0fe96c318273f0016d93cf043bda74feb11c63f8\n'}, {'number': 4, 'created': '2021-06-07 10:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/5cdd72625b07b102dee798f94e21b3937bad3787', 'message': 'Cloudkitty role cleanup and config updates\n\nThe Cloudkitty role has been lacking some attention for a while\ncausing some of the configuration and examples outdated.\n\nNow that Cloudkitty playbook and dashboard can be installed using\nOSA without running any additional playbooks from this repository\ni have removed those from here.\n\nChange-Id: I0fe96c318273f0016d93cf043bda74feb11c63f8\n'}, {'number': 5, 'created': '2021-06-09 08:05:25.000000000', 'files': ['extras/horizon/horizon_vars.yml', 'tasks/main.yml', 'extras/os-cloudkitty-install.yml', 'templates/cloudkitty.conf.j2', 'extras/user_secrets_cloudkitty.yml', 'releasenotes/notes/role-cleanup-e709b66675dcda60.yaml', 'defaults/main.yml', 'extras/haproxy_cloudkitty.yml', 'extras/env.d/cloudkitty.yml', 'extras/horizon/horizon_post_install.yml', 'templates/api-paste.ini.j2', 'templates/cloudkitty-metrics.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/b67bd60df37d870eb5c1a08b2272a5be5fb3ffc7', 'message': 'Cloudkitty role cleanup and config updates\n\nThe Cloudkitty role has been lacking some attention for a while\ncausing some of the configuration and examples outdated.\n\nNow that Cloudkitty playbook and dashboard can be installed using\nOSA without running any additional playbooks from this repository\ni have removed those from here.\n\nChange-Id: I0fe96c318273f0016d93cf043bda74feb11c63f8\n'}]",4,794199,b67bd60df37d870eb5c1a08b2272a5be5fb3ffc7,25,4,5,18279,,,0,"Cloudkitty role cleanup and config updates

The Cloudkitty role has been lacking some attention for a while
causing some of the configuration and examples outdated.

Now that Cloudkitty playbook and dashboard can be installed using
OSA without running any additional playbooks from this repository
i have removed those from here.

Change-Id: I0fe96c318273f0016d93cf043bda74feb11c63f8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/99/794199/2 && git format-patch -1 --stdout FETCH_HEAD,"['extras/horizon/horizon_vars.yml', 'extras/haproxy_cloudkitty.yml', 'templates/cloudkitty.conf.j2', 'extras/env.d/cloudkitty.yml', 'extras/horizon/horizon_post_install.yml', 'examples/playbook.yml', 'extras/user_secrets_cloudkitty.yml', 'templates/api-paste.ini.j2', 'releasenotes/notes/role-cleanup-e709b66675dcda60.yaml', 'templates/cloudkitty-metrics.yml.j2', 'defaults/main.yml']",11,e730b9c6a245fce5c5e86958484c152a7aad1bf3,,"cloudkitty_package_state: ""{{ package_state | default('latest') }}""cloudkitty_galera_port: ""{{ galera_port | default('3306') }}""cloudkitty_uwsgi_bind_address: ""{{ openstack_service_bind_address | default('0.0.0.0') }}""cloudkitty_service_region: ""{{ service_region | default('RegionOne') }}""","cloudkitty_package_state: ""latest""cloudkitty_collected_services: computecloudkitty_galera_port: 3306cloudkitty_uwsgi_bind_address: 0.0.0.0cloudkitty_service_region: RegionOne",42,90
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I50cfc8d33efe80b0ac98347f230c68af9a561574,openstack/tripleo-heat-templates,stable/train,I50cfc8d33efe80b0ac98347f230c68af9a561574,Bump ovs and ovn versions to 2.15 for FFWD.,ABANDONED,2021-06-09 10:36:03.000000000,2021-06-10 14:12:42.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-06-09 10:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f43400cce2937cb9061dad5bcf4a2ac90f5a54fa', 'message': 'Bump ovs and ovn versions to 2.15 for FFWD.\n\nA new openvswitch and ovn version has been released, 2.15. As during the\nleapp upgrade we tell leapp which version of ovs and ovn to install in order\nto safe some restarts we now need to update the version in the\nUpgradeLeappToInstall Heat parameter.\n\nResolves: rhbz#1966476\nChange-Id: I50cfc8d33efe80b0ac98347f230c68af9a561574\n'}, {'number': 2, 'created': '2021-06-09 10:43:59.000000000', 'files': ['environments/lifecycle/upgrade-prepare.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/62c4b2fec5d8108afee79eec996c0d9cb098aaf1', 'message': 'Bump ovs and ovn versions to 2.15 for FFWD.\n\nA new openvswitch and ovn version has been released, 2.15. As during the\nleapp upgrade we tell leapp which version of ovs and ovn to install in order\nto safe some restarts we now need to update the version in the\nUpgradeLeappToInstall Heat parameter.\n\n(cherry picked from commit c214e99b224e85a2059c2849aa5b356c1cb4f3c9)\nResolves: rhbz#1966476\nChange-Id: I50cfc8d33efe80b0ac98347f230c68af9a561574\n'}]",0,795513,62c4b2fec5d8108afee79eec996c0d9cb098aaf1,6,3,2,26343,,,0,"Bump ovs and ovn versions to 2.15 for FFWD.

A new openvswitch and ovn version has been released, 2.15. As during the
leapp upgrade we tell leapp which version of ovs and ovn to install in order
to safe some restarts we now need to update the version in the
UpgradeLeappToInstall Heat parameter.

(cherry picked from commit c214e99b224e85a2059c2849aa5b356c1cb4f3c9)
Resolves: rhbz#1966476
Change-Id: I50cfc8d33efe80b0ac98347f230c68af9a561574
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/13/795513/2 && git format-patch -1 --stdout FETCH_HEAD,['environments/lifecycle/upgrade-prepare.yaml'],1,f43400cce2937cb9061dad5bcf4a2ac90f5a54fa,," UpgradeLeappToInstall: ['openvswitch2.15','ovn2.15']"," UpgradeLeappToInstall: ['openvswitch2.13','ovn2.13']",1,1
openstack%2Fironic-inspector-specs~master~Iff3cda953dc52a0950ea2c615df8a67a7069c206,openstack/ironic-inspector-specs,master,Iff3cda953dc52a0950ea2c615df8a67a7069c206,Changed minversion in tox to 3.18.0,MERGED,2021-06-03 08:57:52.000000000,2021-06-10 14:10:06.000000000,2021-06-10 14:07:50.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-03 08:57:52.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-inspector-specs/commit/0ef437e95e818a59b160d2a3a77fa394023a397d', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Iff3cda953dc52a0950ea2c615df8a67a7069c206\n""}]",0,794470,0ef437e95e818a59b160d2a3a77fa394023a397d,8,3,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Iff3cda953dc52a0950ea2c615df8a67a7069c206
",git fetch https://review.opendev.org/openstack/ironic-inspector-specs refs/changes/70/794470/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0ef437e95e818a59b160d2a3a77fa394023a397d,,minversion = 3.18.0allowlist_externals = make,minversion = 3.1.1whitelist_externals = make,2,2
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Id5c8ba02762ab87fab5f8121dda37b463466c050,openstack/python-tripleoclient,stable/wallaby,Id5c8ba02762ab87fab5f8121dda37b463466c050,Add dosfstools to bindep,MERGED,2021-06-09 01:15:44.000000000,2021-06-10 14:00:16.000000000,2021-06-10 13:58:00.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 01:15:44.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ac0edba9f6a6fc55b5de4a1fffb93c98ef9e47dd', 'message': 'Add dosfstools to bindep\n\nThis is required by the new overcloud-hardened-uefi-full-centos-8 jobs\nwhich build images from git cloned projects.\n\nChange-Id: Id5c8ba02762ab87fab5f8121dda37b463466c050\n(cherry picked from commit 05d3a9c978f2798cb1525cce4cc644b1fe12a403)\n'}]",0,795431,ac0edba9f6a6fc55b5de4a1fffb93c98ef9e47dd,7,2,1,4571,,,0,"Add dosfstools to bindep

This is required by the new overcloud-hardened-uefi-full-centos-8 jobs
which build images from git cloned projects.

Change-Id: Id5c8ba02762ab87fab5f8121dda37b463466c050
(cherry picked from commit 05d3a9c978f2798cb1525cce4cc644b1fe12a403)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/31/795431/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,ac0edba9f6a6fc55b5de4a1fffb93c98ef9e47dd,wallabybp/whole-disk-default,dosfstools [platform:rpm test],,1,0
openstack%2Ftripleo-heat-templates~master~Iaf85807d067898bbab6d76ab40bc070e845a8b38,openstack/tripleo-heat-templates,master,Iaf85807d067898bbab6d76ab40bc070e845a8b38,HA minor update: fix bad pcs invocation,MERGED,2021-06-09 21:37:45.000000000,2021-06-10 13:58:21.000000000,2021-06-10 13:58:21.000000000,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-09 21:37:45.000000000', 'files': ['container_config_scripts/pacemaker_restart_bundle.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1662600e6e6e8fedbf096b279e16eabd7b3c6eea', 'message': 'HA minor update: fix bad pcs invocation\n\nWhen a HA resource is in failed stated, the minor update\nshould normally try to restart it but the associated\npcs invocation is currently invalid, so the resource never\ngets a chance to be restarted.\n\nUse the right pcs call to fix this minor update use case.\n\nChange-Id: Iaf85807d067898bbab6d76ab40bc070e845a8b38\nCloses-Bug: #1931500\n'}]",0,795704,1662600e6e6e8fedbf096b279e16eabd7b3c6eea,8,4,1,20778,,,0,"HA minor update: fix bad pcs invocation

When a HA resource is in failed stated, the minor update
should normally try to restart it but the associated
pcs invocation is currently invalid, so the resource never
gets a chance to be restarted.

Use the right pcs call to fix this minor update use case.

Change-Id: Iaf85807d067898bbab6d76ab40bc070e845a8b38
Closes-Bug: #1931500
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/04/795704/1 && git format-patch -1 --stdout FETCH_HEAD,['container_config_scripts/pacemaker_restart_bundle.sh'],1,1662600e6e6e8fedbf096b279e16eabd7b3c6eea,bug/1931500," /sbin/pcs resource cleanup $BUNDLE_NAME node=""${HOST}"""," /sbin/pcs resource cleanup $BUNDLE_NAME --node ""${HOST}""",1,1
openstack%2Ftripleo-ansible~master~Ie0e3f25976464121e27f73765ccd271557d60e96,openstack/tripleo-ansible,master,Ie0e3f25976464121e27f73765ccd271557d60e96,BnR Added a nfs validation when the nfs server is installed,MERGED,2021-05-06 12:39:19.000000000,2021-06-10 13:58:12.000000000,2021-06-10 13:58:12.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 32728}, {'_account_id': 32968}]","[{'number': 1, 'created': '2021-05-06 12:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d92820f14ef79cb521dffb140a0dc36f29af3e89', 'message': 'BnR Added a nfs validation when the nfs server is installed\n\nAdded a simple validation, the Backupnode group needs to be configured. Besides the name\nof the group can be configured by parameter.\n\nChange-Id: Ie0e3f25976464121e27f73765ccd271557d60e96\n'}, {'number': 2, 'created': '2021-05-25 07:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ce0b4f199e5b29c83667df209a29d3b3924019e7', 'message': 'BnR Added a nfs validation when the nfs server is installed\n\nAdded a simple validation, the Backupnode group needs to be configured. Besides the name\nof the group can be configured by parameter.\n\nChange-Id: Ie0e3f25976464121e27f73765ccd271557d60e96\n'}, {'number': 3, 'created': '2021-05-31 12:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a763be64500324f8c88bfee03b353715456bbb84', 'message': 'BnR Added a nfs validation when the nfs server is installed\n\nAdded a simple validation, the Backupnode group needs to be configured. Besides the name\nof the group can be configured by parameter.\n\nChange-Id: Ie0e3f25976464121e27f73765ccd271557d60e96\n'}, {'number': 4, 'created': '2021-06-02 07:53:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f2951c396fe189efb8de6f235000758fbd9c9d88', 'message': 'BnR Added a nfs validation when the nfs server is installed\n\nAdded a simple validation, the Backupnode group needs to be configured. Besides the name\nof the group can be configured by parameter.\n\nChange-Id: Ie0e3f25976464121e27f73765ccd271557d60e96\n'}, {'number': 5, 'created': '2021-06-08 13:59:44.000000000', 'files': ['tripleo_ansible/playbooks/prepare-nfs-backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/994d331095337d9b9c95e8c8b15bb5798c0bc00c', 'message': 'BnR Added a nfs validation when the nfs server is installed\n\nAdded a simple validation, the Backupnode group needs to be configured. Besides the name\nof the group can be configured by parameter.\n\nChange-Id: Ie0e3f25976464121e27f73765ccd271557d60e96\n'}]",6,790057,994d331095337d9b9c95e8c8b15bb5798c0bc00c,34,9,5,22954,,,0,"BnR Added a nfs validation when the nfs server is installed

Added a simple validation, the Backupnode group needs to be configured. Besides the name
of the group can be configured by parameter.

Change-Id: Ie0e3f25976464121e27f73765ccd271557d60e96
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/57/790057/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/prepare-nfs-backup.yaml'],1,d92820f14ef79cb521dffb140a0dc36f29af3e89,BnR_validations,"- name: Check BackupNode group hosts: localhost tasks: - name: Get BackupNode group name set_fact: tripleo_backup_nfs_server_group: '{{ nfs_server_group_name | default(""BackupNode"") }}' tags: bar_setup_nfs_server - name: Fail if {{tripleo_backup_nfs_server_group}} group does not exits or it does not have servers command: /usr/bin/false when: 'not tripleo_backup_nfs_server_group in groups' tags: bar_setup_nfs_server hosts: '{{ nfs_server_group_name | default(""BackupNode"") }}'", hosts: BackupNode,14,1
openstack%2Fironic-python-agent~master~I6dc357659b1c0f9f491d61043ca38878a60e3327,openstack/ironic-python-agent,master,I6dc357659b1c0f9f491d61043ca38878a60e3327,Check the target root device with smartctl,ABANDONED,2021-06-01 11:50:08.000000000,2021-06-10 13:47:11.000000000,,"[{'_account_id': 10342}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-01 11:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/85d278f8d9865c9a1ad10bade33d6dcab8b9a80e', 'message': '[WIP] Check the target root device with smartctl\n\nChange-Id: I6dc357659b1c0f9f491d61043ca38878a60e3327\nStory: #2008937\nTask: #42545\n'}, {'number': 2, 'created': '2021-06-01 13:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/97244553f54a60a52cd1752dbc913272f91d333e', 'message': 'Check the target root device with smartctl\n\nChange-Id: I6dc357659b1c0f9f491d61043ca38878a60e3327\nStory: #2008937\nTask: #42545\n'}, {'number': 3, 'created': '2021-06-01 15:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/7661d7770ba36be40683d9146d410180ad4d164f', 'message': 'Check the target root device with smartctl\n\nChange-Id: I6dc357659b1c0f9f491d61043ca38878a60e3327\nStory: #2008937\nTask: #42545\n'}, {'number': 4, 'created': '2021-06-02 15:24:53.000000000', 'files': ['ironic_python_agent/hardware.py', 'releasenotes/notes/smart-check-3baf5536b1b63efb.yaml', 'ironic_python_agent/tests/unit/extensions/test_standby.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/extensions/standby.py', 'ironic_python_agent/errors.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/2288ced70d7851142b195b9d975e29a98781bf17', 'message': 'Check the target root device with smartctl\n\nChange-Id: I6dc357659b1c0f9f491d61043ca38878a60e3327\nStory: #2008937\nTask: #42545\n'}]",1,793953,2288ced70d7851142b195b9d975e29a98781bf17,34,5,4,10239,,,0,"Check the target root device with smartctl

Change-Id: I6dc357659b1c0f9f491d61043ca38878a60e3327
Story: #2008937
Task: #42545
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/53/793953/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/extensions/standby.py', 'ironic_python_agent/errors.py']",3,85d278f8d9865c9a1ad10bade33d6dcab8b9a80e,smart," class DiskFailure(RESTError): """"""Error raised when a disk is faulty."""""" message = 'Disk reports a failure'",,33,0
openstack%2Fkolla~master~I7430b72f5d8abe59a7151df73e6d59898d942636,openstack/kolla,master,I7430b72f5d8abe59a7151df73e6d59898d942636,Change network_mode default to host,MERGED,2021-06-07 11:58:01.000000000,2021-06-10 13:43:12.000000000,2021-06-10 13:41:19.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-07 11:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/96d1b18d314e8b8f956fe284a53bebc6b35902a5', 'message': 'Change network_mode default to host\n\nKolla-Ansible deploys Docker without bridge by default [1].\n\n[1]: https://review.opendev.org/c/openstack/kolla-ansible/+/751795\n\nChange-Id: I7430b72f5d8abe59a7151df73e6d59898d942636\n'}, {'number': 2, 'created': '2021-06-07 12:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/29edb05eb9fced9a10999616aa03df79469a9379', 'message': 'Change network_mode default to host\n\nKolla-Ansible deploys Docker without bridge by default [1].\n\n[1]: https://review.opendev.org/c/openstack/kolla-ansible/+/751795\n\nChange-Id: I7430b72f5d8abe59a7151df73e6d59898d942636\n'}, {'number': 3, 'created': '2021-06-07 12:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e2c56a1854d9574a59f1d0837be7917a1431066d', 'message': 'Change network_mode default to host\n\nKolla-Ansible deploys Docker without bridge by default [1].\n\n[1]: https://review.opendev.org/c/openstack/kolla-ansible/+/751795\n\nChange-Id: I7430b72f5d8abe59a7151df73e6d59898d942636\n'}, {'number': 4, 'created': '2021-06-10 11:06:33.000000000', 'files': ['releasenotes/notes/network-mode-host-2aca256e2a1fbf68.yaml', 'kolla/common/config.py', 'kolla/tests/test_build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d7252ba5829f005915ce8e7efc9ec252c06d8bc0', 'message': 'Change network_mode default to host\n\nKolla-Ansible deploys Docker without bridge by default [1].\n\n[1]: https://review.opendev.org/c/openstack/kolla-ansible/+/751795\n\nChange-Id: I7430b72f5d8abe59a7151df73e6d59898d942636\n'}]",0,795089,d7252ba5829f005915ce8e7efc9ec252c06d8bc0,27,3,4,22629,,,0,"Change network_mode default to host

Kolla-Ansible deploys Docker without bridge by default [1].

[1]: https://review.opendev.org/c/openstack/kolla-ansible/+/751795

Change-Id: I7430b72f5d8abe59a7151df73e6d59898d942636
",git fetch https://review.opendev.org/openstack/kolla refs/changes/89/795089/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/network-mode-host-2aca256e2a1fbf68.yaml', 'kolla/common/config.py']",2,96d1b18d314e8b8f956fe284a53bebc6b35902a5,," cfg.StrOpt('network_mode', default='host',"," cfg.StrOpt('network_mode', default=None,",7,1
openstack%2Fopenstack-ansible-haproxy_server~master~I7482f55e991bacd9dccd2748c236dcd9d01124f3,openstack/openstack-ansible-haproxy_server,master,I7482f55e991bacd9dccd2748c236dcd9d01124f3,Use external PKI role to manage haproxy self-signed certificates,MERGED,2021-05-06 14:29:29.000000000,2021-06-10 13:40:10.000000000,2021-06-10 13:38:55.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-06 14:29:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/9014bc5c8bd89fa406fb948d0b4b84d6bd2ac378', 'message': 'WIP - Use external PKI role to manage haproxy self-signed certificates\n\nThe external PKI role can generate a self signed CA and Intermediate\ncertificate, and then create a server certificate for haproxy if\nno defaults are overridden.\n\nThe new openstack_pki_* settings allow an external self signed CA\nto be used, but still create valid haproxy server certificates from\nthat external CA in an openstack-ansible deployment.\n\nThe original beheviour providing user supplied certificates in the\nhaproxy_user_ssl_* variables will still work, disabling the generation\nof certificates but using the external PKI role to just install the\nsupplied certs and keys.\n\nChange-Id: I7482f55e991bacd9dccd2748c236dcd9d01124f3\n'}, {'number': 2, 'created': '2021-05-06 14:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/3f1efe79a17e4b12f33f1425d8476be09674fcdd', 'message': 'WIP - Use external PKI role to manage haproxy self-signed certificates\n\nThe external PKI role can generate a self signed CA and Intermediate\ncertificate, and then create a server certificate for haproxy if\nno defaults are overridden.\n\nThe new openstack_pki_* settings allow an external self signed CA\nto be used, but still create valid haproxy server certificates from\nthat external CA in an openstack-ansible deployment.\n\nThe original beheviour providing user supplied certificates in the\nhaproxy_user_ssl_* variables will still work, disabling the generation\nof certificates but using the external PKI role to just install the\nsupplied certs and keys.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/788031\nChange-Id: I7482f55e991bacd9dccd2748c236dcd9d01124f3\n'}, {'number': 3, 'created': '2021-05-06 15:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/801e38bbf3316ace2151dff40170fa47472b67a7', 'message': 'WIP - Use external PKI role to manage haproxy self-signed certificates\n\nThe external PKI role can generate a self signed CA and Intermediate\ncertificate, and then create a server certificate for haproxy if\nno defaults are overridden.\n\nThe new openstack_pki_* settings allow an external self signed CA\nto be used, but still create valid haproxy server certificates from\nthat external CA in an openstack-ansible deployment.\n\nThe original beheviour providing user supplied certificates in the\nhaproxy_user_ssl_* variables will still work, disabling the generation\nof certificates but using the external PKI role to just install the\nsupplied certs and keys.\n\nChange-Id: I7482f55e991bacd9dccd2748c236dcd9d01124f3\n'}, {'number': 4, 'created': '2021-05-06 16:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/17db61db69612d06f0fa0ad3fc8ce14a72d6911b', 'message': 'WIP - Use external PKI role to manage haproxy self-signed certificates\n\nThe external PKI role can generate a self signed CA and Intermediate\ncertificate, and then create a server certificate for haproxy if\nno defaults are overridden.\n\nThe new openstack_pki_* settings allow an external self signed CA\nto be used, but still create valid haproxy server certificates from\nthat external CA in an openstack-ansible deployment.\n\nThe original beheviour providing user supplied certificates in the\nhaproxy_user_ssl_* variables will still work, disabling the generation\nof certificates but using the external PKI role to just install the\nsupplied certs and keys.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/788031\nChange-Id: I7482f55e991bacd9dccd2748c236dcd9d01124f3\n'}, {'number': 5, 'created': '2021-05-11 13:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/1254f8a8eede939dac33e649e0ee7e2762533c61', 'message': 'WIP - Use external PKI role to manage haproxy self-signed certificates\n\nThe external PKI role can generate a self signed CA and Intermediate\ncertificate, and then create a server certificate for haproxy if\nno defaults are overridden.\n\nThe new openstack_pki_* settings allow an external self signed CA\nto be used, but still create valid haproxy server certificates from\nthat external CA in an openstack-ansible deployment.\n\nThe original beheviour providing user supplied certificates in the\nhaproxy_user_ssl_* variables will still work, disabling the generation\nof certificates but using the external PKI role to just install the\nsupplied certs and keys.\n\nChange-Id: I7482f55e991bacd9dccd2748c236dcd9d01124f3\n'}, {'number': 6, 'created': '2021-05-12 06:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/87f893ebca1e7f90425b4eafaf17b9a55faf3fd1', 'message': 'Use external PKI role to manage haproxy self-signed certificates\n\nThe external PKI role can generate a self signed CA and Intermediate\ncertificate, and then create a server certificate for haproxy if\nno defaults are overridden.\n\nThe new openstack_pki_* settings allow an external self signed CA\nto be used, but still create valid haproxy server certificates from\nthat external CA in an openstack-ansible deployment.\n\nThe original beheviour providing user supplied certificates in the\nhaproxy_user_ssl_* variables will still work, disabling the generation\nof certificates but using the external PKI role to just install the\nsupplied certs and keys.\n\nChange-Id: I7482f55e991bacd9dccd2748c236dcd9d01124f3\n'}, {'number': 7, 'created': '2021-06-01 15:37:29.000000000', 'files': ['tasks/haproxy_ssl_key_create.yml', 'tasks/main.yml', 'tasks/haproxy_ssl_key_distribute.yml', 'tasks/haproxy_ssl_key_store.yml', 'handlers/main.yml', 'tasks/haproxy_ssl_user_provided.yml', 'tasks/haproxy_ssl.yml', 'defaults/main.yml', 'tasks/haproxy_ssl_self_signed.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/fd7509cd43da21835cace1e7a28f9109a6382df2', 'message': 'Use external PKI role to manage haproxy self-signed certificates\n\nThe external PKI role can generate a self signed CA and Intermediate\ncertificate, and then create a server certificate for haproxy if\nno defaults are overridden.\n\nThe new openstack_pki_* settings allow an external self signed CA\nto be used, but still create valid haproxy server certificates from\nthat external CA in an openstack-ansible deployment.\n\nThe original beheviour providing user supplied certificates in the\nhaproxy_user_ssl_* variables will still work, disabling the generation\nof certificates but using the external PKI role to just install the\nsupplied certs and keys.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/788031\nChange-Id: I7482f55e991bacd9dccd2748c236dcd9d01124f3\n'}]",0,790078,fd7509cd43da21835cace1e7a28f9109a6382df2,30,3,7,25023,,,0,"Use external PKI role to manage haproxy self-signed certificates

The external PKI role can generate a self signed CA and Intermediate
certificate, and then create a server certificate for haproxy if
no defaults are overridden.

The new openstack_pki_* settings allow an external self signed CA
to be used, but still create valid haproxy server certificates from
that external CA in an openstack-ansible deployment.

The original beheviour providing user supplied certificates in the
haproxy_user_ssl_* variables will still work, disabling the generation
of certificates but using the external PKI role to just install the
supplied certs and keys.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/788031
Change-Id: I7482f55e991bacd9dccd2748c236dcd9d01124f3
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/78/790078/7 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/haproxy_ssl_key_create.yml', 'tasks/main.yml', 'tasks/haproxy_ssl_key_distribute.yml', 'tasks/haproxy_ssl_key_store.yml', 'handlers/main.yml', 'tasks/haproxy_ssl_user_provided.yml', 'tasks/haproxy_ssl.yml', 'defaults/main.yml', 'tasks/haproxy_ssl_self_signed.yml']",9,9014bc5c8bd89fa406fb948d0b4b84d6bd2ac378,osa/pki,,"--- # Copyright 2015, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - include_tasks: haproxy_ssl_key_create.yml when: inventory_hostname == ansible_play_hosts[0] - include_tasks: haproxy_ssl_key_store.yml when: inventory_hostname == ansible_play_hosts[0] - include_tasks: haproxy_ssl_key_distribute.yml when: inventory_hostname != ansible_play_hosts[0] ",107,198
openstack%2Fneutron~stable%2Ftrain~I1185c1ca2556e2aed27051efd98a1d141f5298c9,openstack/neutron,stable/train,I1185c1ca2556e2aed27051efd98a1d141f5298c9,Enable ovsdb debug messages in functional and fullstack,MERGED,2021-06-03 18:54:07.000000000,2021-06-10 13:39:49.000000000,2021-06-10 13:38:12.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 18:54:07.000000000', 'files': ['neutron/common/config.py', 'neutron/tests/functional/base.py', 'neutron/tests/fullstack/resources/config.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9cfa441335c484b499d741723d77121960ce6cf2', 'message': 'Enable ovsdb debug messages in functional and fullstack\n\nEnable the configuration flag ""ovsdb_debug"" for functional and\nfullstack tests. If enable, NeutronOvsdbIdl won\'t define any log\nlevel when setting up the logger; if not ""max_level"" is defined,\nall messages are logged.\n\nChange-Id: I1185c1ca2556e2aed27051efd98a1d141f5298c9\nRelated-Bug: #1802640\n(cherry picked from commit cf36bd4ca52bec4a707c35df261b8a2630850e68)\n'}]",0,794625,9cfa441335c484b499d741723d77121960ce6cf2,12,4,1,5756,,,0,"Enable ovsdb debug messages in functional and fullstack

Enable the configuration flag ""ovsdb_debug"" for functional and
fullstack tests. If enable, NeutronOvsdbIdl won't define any log
level when setting up the logger; if not ""max_level"" is defined,
all messages are logged.

Change-Id: I1185c1ca2556e2aed27051efd98a1d141f5298c9
Related-Bug: #1802640
(cherry picked from commit cf36bd4ca52bec4a707c35df261b8a2630850e68)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/794625/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/config.py', 'neutron/tests/functional/base.py', 'neutron/tests/fullstack/resources/config.py']",3,9cfa441335c484b499d741723d77121960ce6cf2,bug/1802640-stable/train," 'ovsdb_debug': 'True',",,4,2
openstack%2Fopenstack-ansible-rabbitmq_server~master~I4cb7c48a74a307217b645cb8528fdbb0f7b9f596,openstack/openstack-ansible-rabbitmq_server,master,I4cb7c48a74a307217b645cb8528fdbb0f7b9f596,Use ansible-role-pki to generate SSL certificates,MERGED,2021-04-26 15:35:13.000000000,2021-06-10 13:32:42.000000000,2021-06-10 13:30:54.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-04-26 15:35:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/f3fe627673d6f5460b1489f6c698ba3aa53c5232', 'message': 'DNM - Test PKI role\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/788031\nChange-Id: I4cb7c48a74a307217b645cb8528fdbb0f7b9f596\n'}, {'number': 2, 'created': '2021-04-27 08:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/2633374525fcc2029d66b089055464beb14672ae', 'message': 'DNM - Test PKI role\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/788031\nChange-Id: I4cb7c48a74a307217b645cb8528fdbb0f7b9f596\n'}, {'number': 3, 'created': '2021-04-27 09:06:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/530d811a7787f1bd1114e230be85fc65cad5de6f', 'message': 'DNM - Test PKI role\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/788031\nChange-Id: I4cb7c48a74a307217b645cb8528fdbb0f7b9f596\n'}, {'number': 4, 'created': '2021-04-29 14:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/b7c32167854b34cbce0f112a64d97fd93bd4826e', 'message': 'DNM - Test PKI role\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/788031\nChange-Id: I4cb7c48a74a307217b645cb8528fdbb0f7b9f596\n'}, {'number': 5, 'created': '2021-05-05 11:27:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/0d875e2ea264b9f30473c50f88a27edb42325f32', 'message': 'DNM - Test PKI role\n\nSupports two scenarios:\n\n1) variables defined in defaults/main.yml are sufficient to create\na root/intermediate CA certificate for rabbitmq when this role\nis used outside openstack-ansible.\n\n2) when:\n\nopenstack_pki_dir\nopenstack_pki_setup_host\nopenstack_pki_authorities\nopenstack_pki_service_intermediate_cert_name\n\nare defined, an external CA already created on the deploy host\nwith a previous run of ansible-role-pki will be used as the CA.\n\nServer certificates for the rabbitmq instances are created from the\ndata in rabbitmq_pki_certificates in both situations:\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/788031\nChange-Id: I4cb7c48a74a307217b645cb8528fdbb0f7b9f596\n'}, {'number': 6, 'created': '2021-05-12 06:33:15.000000000', 'files': ['tasks/rabbitmq_ssl_self_signed.yml', 'tasks/main.yml', 'tasks/rabbitmq_ssl_key_distribute.yml', 'tasks/rabbitmq_ssl_user_provided.yml', 'tasks/rabbitmq_ssl_key_create.yml', 'tasks/rabbitmq_ssl_key_store.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/df13274e15bced4f6f661ae56f5d3980b1e46914', 'message': 'Use ansible-role-pki to generate SSL certificates\n\nSupports two scenarios:\n\n1) variables defined in defaults/main.yml are sufficient to create\na root/intermediate CA certificate for rabbitmq when this role\nis used outside openstack-ansible.\n\n2) when:\n\nopenstack_pki_dir\nopenstack_pki_setup_host\nopenstack_pki_authorities\nopenstack_pki_service_intermediate_cert_name\n\nare defined, an external CA already created on the deploy host\nwith a previous run of ansible-role-pki will be used as the CA.\n\nServer certificates for the rabbitmq instances are created from the\ndata in rabbitmq_pki_certificates in both situations:\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/788031\nChange-Id: I4cb7c48a74a307217b645cb8528fdbb0f7b9f596\n'}]",0,788032,df13274e15bced4f6f661ae56f5d3980b1e46914,33,4,6,25023,,,0,"Use ansible-role-pki to generate SSL certificates

Supports two scenarios:

1) variables defined in defaults/main.yml are sufficient to create
a root/intermediate CA certificate for rabbitmq when this role
is used outside openstack-ansible.

2) when:

openstack_pki_dir
openstack_pki_setup_host
openstack_pki_authorities
openstack_pki_service_intermediate_cert_name

are defined, an external CA already created on the deploy host
with a previous run of ansible-role-pki will be used as the CA.

Server certificates for the rabbitmq instances are created from the
data in rabbitmq_pki_certificates in both situations:

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/788031
Change-Id: I4cb7c48a74a307217b645cb8528fdbb0f7b9f596
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/32/788032/2 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,f3fe627673d6f5460b1489f6c698ba3aa53c5232,osa/pki,,,0,0
openstack%2Fcharm-ceph-iscsi~master~If57eeb8e0f4eeffdaa4d406395826b92379203c7,openstack/charm-ceph-iscsi,master,If57eeb8e0f4eeffdaa4d406395826b92379203c7,Fix Zaza's expected Ubuntu workload status,MERGED,2021-04-27 11:57:12.000000000,2021-06-10 13:26:28.000000000,2021-06-10 13:26:28.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 11:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/7c43e16165b9fc2e6e9b0461c05bd89f595d3b1c', 'message': ""Fix Zaza's expected Ubuntu workload status\n\nThe Ubuntu charm doesn't show 'Ready' anymore, which\nwas breaking the gate.\n\nChange-Id: If57eeb8e0f4eeffdaa4d406395826b92379203c7\n""}, {'number': 2, 'created': '2021-06-09 12:29:30.000000000', 'files': ['tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/ec3559dd8481f5259906bd2887802ff15efabbf3', 'message': ""Fix Zaza's expected Ubuntu workload status\n\nThe Ubuntu charm doesn't show 'Ready' anymore, which\nwas breaking the gate.\n\nChange-Id: If57eeb8e0f4eeffdaa4d406395826b92379203c7\n""}]",0,788255,ec3559dd8481f5259906bd2887802ff15efabbf3,12,3,2,31289,,,0,"Fix Zaza's expected Ubuntu workload status

The Ubuntu charm doesn't show 'Ready' anymore, which
was breaking the gate.

Change-Id: If57eeb8e0f4eeffdaa4d406395826b92379203c7
",git fetch https://review.opendev.org/openstack/charm-ceph-iscsi refs/changes/55/788255/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests.yaml'],1,7c43e16165b9fc2e6e9b0461c05bd89f595d3b1c,zaza-expected-ubuntu-wl-status, ubuntu: workload-status: active workload-status-message: '',,3,0
openstack%2Fdevstack~master~I80ecc791a573ac56493bbf23f57bebd79a9dd4c5,openstack/devstack,master,I80ecc791a573ac56493bbf23f57bebd79a9dd4c5,DNM: IPv6 testing hack,ABANDONED,2021-06-09 16:44:42.000000000,2021-06-10 13:22:11.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-09 16:44:42.000000000', 'files': ['lib/neutron_plugins/services/l3'], 'web_link': 'https://opendev.org/openstack/devstack/commit/cb7b293a5095b787b9c1ac71ae02348a926786d4', 'message': 'DNM: IPv6 testing hack\n\nMove assignment of default route devices to right before\nusage, trying to track down why accept_ra is not getting\ntriggered.\n\nChange-Id: I80ecc791a573ac56493bbf23f57bebd79a9dd4c5\n'}]",0,795593,cb7b293a5095b787b9c1ac71ae02348a926786d4,4,2,1,1131,,,0,"DNM: IPv6 testing hack

Move assignment of default route devices to right before
usage, trying to track down why accept_ra is not getting
triggered.

Change-Id: I80ecc791a573ac56493bbf23f57bebd79a9dd4c5
",git fetch https://review.opendev.org/openstack/devstack refs/changes/93/795593/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron_plugins/services/l3'],1,cb7b293a5095b787b9c1ac71ae02348a926786d4,bug/1930360-haleyb-hack, default_v4_route_devs=$(ip -4 route | grep ^default | awk '{print $5}') default_v6_route_devs=$(ip -6 route list match default table all | grep via | awk '{print $5}'),default_v4_route_devs=$(ip -4 route | grep ^default | awk '{print $5}') default_v6_route_devs=$(ip -6 route list match default table all | grep via | awk '{print $5}') ,2,4
openstack%2Fneutron-lib~master~Ib8840e5e884100943f6e0cfbee1737a70c0d3874,openstack/neutron-lib,master,Ib8840e5e884100943f6e0cfbee1737a70c0d3874,"API ""subnet-segmentid-writable"" should inherit field definition",MERGED,2021-06-08 14:04:31.000000000,2021-06-10 13:12:37.000000000,2021-06-10 13:11:14.000000000,"[{'_account_id': 8313}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 14:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/aa41f29d9b4860fde3e5168c3c84292509a5a07a', 'message': 'API ""subnet-segmentid-writable"" should inherit field definition\n\nAPI extensions ""subnet-segmentid-writable"" should inherit field\n""segment_id"" definition from the parent API extension, ""segment"".\nThis patch fixes how this field is defined, re-introducing the\nmissing key ""is_filter"", present in the parent API.\n\nChange-Id: Ib8840e5e884100943f6e0cfbee1737a70c0d3874\nCloses-Bug: #1931259\n'}, {'number': 2, 'created': '2021-06-08 15:45:05.000000000', 'files': ['neutron_lib/api/definitions/subnet_segmentid_writable.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/e9b42d44593aabd400a68e3003894aa429b7cdaf', 'message': 'API ""subnet-segmentid-writable"" should inherit field definition\n\nAPI extensions ""subnet-segmentid-writable"" should inherit field\n""segment_id"" definition from the parent API extension, ""segment"".\nThis patch fixes how this field is defined, re-introducing the\nmissing key ""is_filter"", present in the parent API.\n\nChange-Id: Ib8840e5e884100943f6e0cfbee1737a70c0d3874\nCloses-Bug: #1931259\n'}]",0,795340,e9b42d44593aabd400a68e3003894aa429b7cdaf,11,4,2,16688,,,0,"API ""subnet-segmentid-writable"" should inherit field definition

API extensions ""subnet-segmentid-writable"" should inherit field
""segment_id"" definition from the parent API extension, ""segment"".
This patch fixes how this field is defined, re-introducing the
missing key ""is_filter"", present in the parent API.

Change-Id: Ib8840e5e884100943f6e0cfbee1737a70c0d3874
Closes-Bug: #1931259
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/40/795340/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/api/definitions/subnet_segmentid_writable.py'],1,aa41f29d9b4860fde3e5168c3c84292509a5a07a,bug/1931259,import copy segment_id_attr_info = copy.deepcopy( subnet.RESOURCE_ATTRIBUTE_MAP[ subnet.COLLECTION_NAME][segment.SEGMENT_ID]) segment_id_attr_info['allow_put'] = True segment.SEGMENT_ID: segment_id_attr_info } } ," segment.SEGMENT_ID: {'allow_post': True, 'allow_put': True, 'default': None, 'validate': {'type:uuid_or_none': None}, 'is_visible': True} } } ",9,4
openstack%2Fbifrost~bugfix%2F11.0~I950c52b00a5cb9e9ddc71f8b2a76a2089db79c3a,openstack/bifrost,bugfix/11.0,I950c52b00a5cb9e9ddc71f8b2a76a2089db79c3a,"Revert ""libvirt: pin edk2-ovmf for CentOS Stream""",MERGED,2021-06-10 11:09:16.000000000,2021-06-10 13:09:08.000000000,2021-06-10 13:07:47.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-10 11:09:16.000000000', 'files': ['playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_CentOS.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/5173c214f29b7adc590376858caecf2c05c7d901', 'message': 'Revert ""libvirt: pin edk2-ovmf for CentOS Stream""\n\nAn updated version has been released for Stream per\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1961562#c29\n\nThis reverts commit b131c78fc2d8163788131c36d8ad8db77b725cd3.\n\nChange-Id: I950c52b00a5cb9e9ddc71f8b2a76a2089db79c3a\n(cherry picked from commit 231fddbad86eb76e5b72c805e817897a77930239)\n'}]",0,795627,5173c214f29b7adc590376858caecf2c05c7d901,7,2,1,10239,,,0,"Revert ""libvirt: pin edk2-ovmf for CentOS Stream""

An updated version has been released for Stream per
https://bugzilla.redhat.com/show_bug.cgi?id=1961562#c29

This reverts commit b131c78fc2d8163788131c36d8ad8db77b725cd3.

Change-Id: I950c52b00a5cb9e9ddc71f8b2a76a2089db79c3a
(cherry picked from commit 231fddbad86eb76e5b72c805e817897a77930239)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/27/795627/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_CentOS.yml'],1,5173c214f29b7adc590376858caecf2c05c7d901,, - edk2-ovmf, # TODO(mgoddard): Remove pin after # https://bugzilla.redhat.com/show_bug.cgi?id=1961562 is fixed - edk2-ovmf-20200602gitca407c7246bf-4.el8,1,3
openstack%2Fbifrost~stable%2Fwallaby~I950c52b00a5cb9e9ddc71f8b2a76a2089db79c3a,openstack/bifrost,stable/wallaby,I950c52b00a5cb9e9ddc71f8b2a76a2089db79c3a,"Revert ""libvirt: pin edk2-ovmf for CentOS Stream""",MERGED,2021-06-10 11:08:48.000000000,2021-06-10 13:03:31.000000000,2021-06-10 13:02:06.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-10 11:08:48.000000000', 'files': ['playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_CentOS.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d4a262778374175cf494af9af7cbd4e4d415c3ea', 'message': 'Revert ""libvirt: pin edk2-ovmf for CentOS Stream""\n\nAn updated version has been released for Stream per\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1961562#c29\n\nThis reverts commit b131c78fc2d8163788131c36d8ad8db77b725cd3.\n\nChange-Id: I950c52b00a5cb9e9ddc71f8b2a76a2089db79c3a\n(cherry picked from commit 231fddbad86eb76e5b72c805e817897a77930239)\n'}]",0,795626,d4a262778374175cf494af9af7cbd4e4d415c3ea,7,2,1,10239,,,0,"Revert ""libvirt: pin edk2-ovmf for CentOS Stream""

An updated version has been released for Stream per
https://bugzilla.redhat.com/show_bug.cgi?id=1961562#c29

This reverts commit b131c78fc2d8163788131c36d8ad8db77b725cd3.

Change-Id: I950c52b00a5cb9e9ddc71f8b2a76a2089db79c3a
(cherry picked from commit 231fddbad86eb76e5b72c805e817897a77930239)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/26/795626/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_CentOS.yml'],1,d4a262778374175cf494af9af7cbd4e4d415c3ea,, - edk2-ovmf, # TODO(mgoddard): Remove pin after # https://bugzilla.redhat.com/show_bug.cgi?id=1961562 is fixed - edk2-ovmf-20200602gitca407c7246bf-4.el8,1,3
openstack%2Fpython-tripleoclient~master~I645ad173e3f57bf39788bd1566ff014efc9f2e41,openstack/python-tripleoclient,master,I645ad173e3f57bf39788bd1566ff014efc9f2e41,"Revert ""Support using ephemeral Heat""",ABANDONED,2021-04-30 18:46:18.000000000,2021-06-10 12:49:21.000000000,,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-04-30 18:46:18.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/constants.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py', 'tripleoclient/heat_launcher.py', 'releasenotes/notes/add-heat-type-cli-arg-2fa4f47a835aafea.yaml', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/acb1c17018d82e5ad39ac3462464e96c5c4f9da4', 'message': 'Revert ""Support using ephemeral Heat""\n\nThis reverts commit e8f53ae778921f42714881d90d18ef28608bc354.\n\nReason for revert: https://bugs.launchpad.net/tripleo/+bug/1926758\n\nChange-Id: I645ad173e3f57bf39788bd1566ff014efc9f2e41\n'}]",0,788998,acb1c17018d82e5ad39ac3462464e96c5c4f9da4,5,10,1,9592,,,0,"Revert ""Support using ephemeral Heat""

This reverts commit e8f53ae778921f42714881d90d18ef28608bc354.

Reason for revert: https://bugs.launchpad.net/tripleo/+bug/1926758

Change-Id: I645ad173e3f57bf39788bd1566ff014efc9f2e41
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/98/788998/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/constants.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py', 'tripleoclient/heat_launcher.py', 'releasenotes/notes/add-heat-type-cli-arg-2fa4f47a835aafea.yaml', 'tripleoclient/v1/overcloud_deploy.py']",8,acb1c17018d82e5ad39ac3462464e96c5c4f9da4,ephemeral-heat," def _update_parameters(self, args, stack, tht_root, user_tht_root): parameters = {} stack_is_new = stack is None parameters['StackAction'] = 'CREATE' if stack_is_new else 'UPDATE' # We need the processed env for the image parameters atm env_files = [] env_files.append( os.path.join(tht_root, constants.DEFAULT_RESOURCE_REGISTRY)) if args.environment_directories: env_files.extend(utils.load_environment_directories( args.environment_directories)) if args.environment_files: env_files.extend(args.environment_files) _, env = utils.process_multiple_environments( env_files, tht_root, user_tht_root, cleanup=(not args.no_cleanup)) default_image_params = plan_utils.default_image_params() image_params = {} if not args.disable_container_prepare: image_params = kolla_builder.container_images_prepare_multi( env, roles.get_roles_data(args.roles_file, tht_root), dry_run=True) if image_params: default_image_params.update(image_params) parameters.update(default_image_params) None, self.orchestration_client, args.stack) if stack_is_new: new_stack_args = ( ('NovaComputeLibvirtType', 'libvirt_type'), ) param_args = param_args + new_stack_args def _deploy_tripleo_heat_templates_tmpdir(self, stack, parsed_args): self._deploy_tripleo_heat_templates(stack, parsed_args, new_tht_root, tht_root) def _deploy_tripleo_heat_templates(self, stack, parsed_args, tht_root, user_tht_root): os.path.abspath(tht_root))) self.log.debug(""Creating Environment files"") created_env_files = [] created_env_files.append( os.path.join(tht_root, constants.DEFAULT_RESOURCE_REGISTRY)) created_env_files.extend( self._provision_baremetal(parsed_args, tht_root)) if parsed_args.environment_directories: created_env_files.extend(utils.load_environment_directories( parsed_args.environment_directories)) parameters = {} parameters.update(self._update_parameters( parsed_args, stack, tht_root, user_tht_root)) parameters, tht_root, parsed_args.stack) os.path.join(tht_root, constants.DEPLOYED_SERVER_ENVIRONMENT)) tht_root, parsed_args.stack) created_env_files, tht_root, user_tht_root, 'derived_parameters.yaml', tht_root) self.clients, parsed_args.stack, tht_root, env_files, created_env_files, tht_root, user_tht_root, self._copy_env_files(env_files, tht_root) tht_root, stack, stack = utils.get_stack(self.orchestration_client, parsed_args.stack) stack_create = stack is None if stack_create: self.log.info(""No stack found, will be doing a stack create"") else: self.log.info(""Stack found, will be doing a stack update"") if not parsed_args.config_download_only: self._deploy_tripleo_heat_templates_tmpdir(stack, parsed_args) stack=stack.stack_name) verbosity=utils.playbook_verbosity(self=self) config_download_dir = parsed_args.output_dir or \ os.path.join(self.working_dir, ""config-download"") verbosity=utils.playbook_verbosity(self=self)"," def _update_parameters(self, args, parameters, tht_root, user_tht_root): if args.heat_type != 'installed': heat = None else: heat = self.orchestration_client # Check for existing passwords file password_params_path = os.path.join( self.working_dir, constants.PASSWORDS_ENV_FORMAT.format(args.stack)) if os.path.exists(password_params_path): with open(password_params_path, 'r') as f: passwords_env = yaml.safe_load(f.read()) else: passwords_env = None None, heat, args.stack, passwords_env=passwords_env) # Save generated passwords file with open(password_params_path, 'w') as f: f.write(yaml.safe_dump(dict(parameter_defaults=password_params))) os.chmod(password_params_path, 0o600) ('NovaComputeLibvirtType', 'libvirt_type'), def create_template_dirs(self, parsed_args): return new_tht_root, tht_root def create_params_and_env_files(self, new_tht_root, user_tht_root, parsed_args): self.log.debug(""Creating Environment files"") created_env_files = [] created_env_files.append( os.path.join(new_tht_root, constants.DEFAULT_RESOURCE_REGISTRY)) if parsed_args.environment_directories: created_env_files.extend(utils.load_environment_directories( parsed_args.environment_directories)) created_env_files.extend( self._provision_baremetal(parsed_args, new_tht_root)) _, env = utils.process_multiple_environments( created_env_files, new_tht_root, user_tht_root, cleanup=(not parsed_args.no_cleanup)) default_image_params = plan_utils.default_image_params() image_params = {} if not parsed_args.disable_container_prepare: image_params = kolla_builder.container_images_prepare_multi( env, roles.get_roles_data(parsed_args.roles_file, new_tht_root), dry_run=True) parameters = {} if image_params: default_image_params.update(image_params) parameters.update(default_image_params) self._update_parameters( parsed_args, parameters, new_tht_root, user_tht_root) return parameters, created_env_files def deploy_tripleo_heat_templates(self, stack, parsed_args, new_tht_root, user_tht_root, parameters, created_env_files): os.path.abspath(new_tht_root))) stack_is_new = stack is None parameters['StackAction'] = 'CREATE' if stack_is_new else 'UPDATE' parameters, new_tht_root, parsed_args.stack) os.path.join( new_tht_root, constants.DEPLOYED_SERVER_ENVIRONMENT)) new_tht_root, parsed_args.stack) created_env_files, new_tht_root, user_tht_root, 'derived_parameters.yaml', new_tht_root) self.clients, parsed_args.stack, new_tht_root, env_files, created_env_files, new_tht_root, user_tht_root, self._copy_env_files(env_files, new_tht_root) new_tht_root, stack, parser.add_argument( '--heat-type', action='store', default='installed', choices=['system', 'pod', 'container', 'native'], help=_('The type of Heat process to use to execute ' 'the deployment.\n' 'installed (Default): Use the system installed ' 'Heat.\n' 'pod: Use an ephemeral Heat pod.\n' 'container: Use an ephemeral Heat container.\n' 'native: Use an ephemeral Heat process.') ) parser.add_argument( '--rm-heat', action='store_true', default=False, help=_('If specified and --heat-type is container or pod ' 'any existing container or pod of a previous ' 'ephemeral Heat process will be deleted first. ' 'Ignored if --heat-type is native.') ) parser.add_argument( '--skip-heat-pull', action='store_true', default=False, help=_('When --heat-type is pod or container, assume ' 'the container image has already been pulled ') ) self.heat_launcher = None stack = None stack_create = None new_tht_root, user_tht_root = \ self.create_template_dirs(parsed_args) parameters, created_env_files = \ self.create_params_and_env_files( new_tht_root, user_tht_root, parsed_args) if parsed_args.heat_type != 'installed': self.log.info(""Using tripleo-deploy with "" ""ephemeral heat-all for stack operation"") api_container_image = parameters['ContainerHeatApiImage'] engine_container_image = \ parameters['ContainerHeatEngineImage'] self.heat_launcher = utils.get_heat_launcher( parsed_args.heat_type, api_container_image=api_container_image, engine_container_image=engine_container_image, heat_dir=os.path.join(self.working_dir, 'heat-launcher'), use_tmp_dir=False, rm_heat=parsed_args.rm_heat, skip_heat_pull=parsed_args.skip_heat_pull) self.orchestration_client = \ utils.launch_heat(self.heat_launcher) self.clients.orchestration = self.orchestration_client try: if parsed_args.heat_type == 'installed': stack = utils.get_stack(self.orchestration_client, parsed_args.stack) stack_create = stack is None if stack_create: self.log.info(""No stack found, "" ""will be doing a stack create"") else: self.log.info(""Stack found, "" ""will be doing a stack update"") if not (parsed_args.config_download_only or parsed_args.setup_only): self.deploy_tripleo_heat_templates( stack, parsed_args, new_tht_root, user_tht_root, parameters, created_env_files) except Exception: if parsed_args.heat_type != 'installed' and self.heat_launcher: self.log.info(""Stopping ephemeral heat."") utils.kill_heat(self.heat_launcher) utils.rm_heat(self.heat_launcher) raise stack=stack.stack_name, heat_type=parsed_args.heat_type) config_download_dir = parsed_args.output_dir or \ os.path.join(self.working_dir, ""config-download"") verbosity=utils.playbook_verbosity(self=self), heat_type=parsed_args.heat_type verbosity=utils.playbook_verbosity(self=self), heat_type=parsed_args.heat_type if parsed_args.heat_type != 'installed': self.log.info(""Stopping ephemeral heat."") utils.kill_heat(self.heat_launcher) utils.rm_heat(self.heat_launcher) ",194,322
openstack%2Fbifrost~stable%2Fvictoria~I950c52b00a5cb9e9ddc71f8b2a76a2089db79c3a,openstack/bifrost,stable/victoria,I950c52b00a5cb9e9ddc71f8b2a76a2089db79c3a,"Revert ""libvirt: pin edk2-ovmf for CentOS Stream""",MERGED,2021-06-10 11:09:32.000000000,2021-06-10 12:37:30.000000000,2021-06-10 12:35:55.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-10 11:09:32.000000000', 'files': ['playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_CentOS.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1487806eaf6949525f1e75fc648a7a35d896787c', 'message': 'Revert ""libvirt: pin edk2-ovmf for CentOS Stream""\n\nAn updated version has been released for Stream per\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1961562#c29\n\nThis reverts commit b131c78fc2d8163788131c36d8ad8db77b725cd3.\n\nChange-Id: I950c52b00a5cb9e9ddc71f8b2a76a2089db79c3a\n(cherry picked from commit 231fddbad86eb76e5b72c805e817897a77930239)\n'}]",0,795628,1487806eaf6949525f1e75fc648a7a35d896787c,7,2,1,10239,,,0,"Revert ""libvirt: pin edk2-ovmf for CentOS Stream""

An updated version has been released for Stream per
https://bugzilla.redhat.com/show_bug.cgi?id=1961562#c29

This reverts commit b131c78fc2d8163788131c36d8ad8db77b725cd3.

Change-Id: I950c52b00a5cb9e9ddc71f8b2a76a2089db79c3a
(cherry picked from commit 231fddbad86eb76e5b72c805e817897a77930239)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/28/795628/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_CentOS.yml'],1,1487806eaf6949525f1e75fc648a7a35d896787c,, - edk2-ovmf, # TODO(mgoddard): Remove pin after # https://bugzilla.redhat.com/show_bug.cgi?id=1961562 is fixed - edk2-ovmf-20200602gitca407c7246bf-4.el8,1,3
openstack%2Fmonasca-agent~master~I4a70b786ac7e2739a32616dacbc5e44d29d9c922,openstack/monasca-agent,master,I4a70b786ac7e2739a32616dacbc5e44d29d9c922,Python 3: Use byte instead of string.,ABANDONED,2020-08-15 13:45:45.000000000,2021-06-10 12:19:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-15 13:45:45.000000000', 'files': ['monasca_agent/collector/checks_d/mysql.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/543121c4d9f39ecb1d69bc4fd613ec7876f130cf', 'message': 'Python 3: Use byte instead of string.\n\nIn Python 3, output of popen.communicate is byte instead of str.\n\nStory: 2008017\nChange-Id: I4a70b786ac7e2739a32616dacbc5e44d29d9c922\n'}]",0,746371,543121c4d9f39ecb1d69bc4fd613ec7876f130cf,4,1,1,32261,,,0,"Python 3: Use byte instead of string.

In Python 3, output of popen.communicate is byte instead of str.

Story: 2008017
Change-Id: I4a70b786ac7e2739a32616dacbc5e44d29d9c922
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/71/746371/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_agent/collector/checks_d/mysql.py'],1,543121c4d9f39ecb1d69bc4fd613ec7876f130cf,Story/2008017, pslines = ps.strip().split(b'\n'), pslines = ps.strip().split('\n'),1,1
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I422e49f0027efbbb25256d8b4718eb0aa78d90a4,openstack/tripleo-heat-templates,stable/victoria,I422e49f0027efbbb25256d8b4718eb0aa78d90a4,set ganesha idmap.conf file path and overrides,MERGED,2021-06-08 20:26:18.000000000,2021-06-10 12:06:37.000000000,2021-06-10 12:06:37.000000000,"[{'_account_id': 6796}, {'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-06-08 20:26:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/13cf2316834750a941ef9b3e390951a04430cacd', 'message': 'set ganesha idmap.conf file path and overrides\n\nTraditionally,  Ganesha consumes /etc/idmapd.conf, which controls\nmapping of user/owner identities under NFSv4+.  With containerized service\ndeployment, this file has beenan immutable part of the container image\nand could not be modified.\n\nRecently ceph-ansible was modified to allow the user to set the path\nfor idmapd.conf and to override ini settings in this file by supplying\njson configuration for the overrides in the same way that it can be\nsupplied for ceph.conf overrides [1].  Also, the default path setting\nfor the idmapd.conf file is /etc/ganesha/idmap.conf, which already is\nreflected into containerized ganesha under /etc/ganesha, solving the\nimmutability issue.  If no overrides are supplied, the file put in this\nlocation will match that originally frozen into the container, so there\nis no issue here with backwards compatibility.\n\nThis change exposes parameters for idmap.conf file path and override\ncontents in TripleO and passes them into ceph-ansible.  It also sets up\nthese parameters for cephadm.  Cephadm support for OpenStack Ganesha\nis WIP so there will likely need to be a followup patch to make these\neffective when cephadm replaces ceph ansible.\n\n[1] https://github.com/ceph/ceph-ansible/pull/6422\n\nChange-Id: I422e49f0027efbbb25256d8b4718eb0aa78d90a4\n(cherry picked from commit 9a42686dc7f9181246fdddf87e35a6a669726cea)\n(cherry picked from commit b2a8641a5c16e43c4d23b4ca372fb0e29f6f6ebc)\n'}, {'number': 2, 'created': '2021-06-09 12:27:22.000000000', 'files': ['deployment/ceph-ansible/ceph-nfs.yaml', 'environments/manila-cephfsganesha-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/823ec822386976e8150156967f5dafebed248a2e', 'message': 'set ganesha idmap.conf file path and overrides\n\nTraditionally,  Ganesha consumes /etc/idmapd.conf, which controls\nmapping of user/owner identities under NFSv4+.  With containerized service\ndeployment, this file has beenan immutable part of the container image\nand could not be modified.\n\nRecently ceph-ansible was modified to allow the user to set the path\nfor idmapd.conf and to override ini settings in this file by supplying\njson configuration for the overrides in the same way that it can be\nsupplied for ceph.conf overrides [1].  Also, the default path setting\nfor the idmapd.conf file is /etc/ganesha/idmap.conf, which already is\nreflected into containerized ganesha under /etc/ganesha, solving the\nimmutability issue.  If no overrides are supplied, the file put in this\nlocation will match that originally frozen into the container, so there\nis no issue here with backwards compatibility.\n\nThis change exposes parameters for idmap.conf file path and override\ncontents in TripleO and passes them into ceph-ansible.  It also sets up\nthese parameters for cephadm.  Cephadm support for OpenStack Ganesha\nis WIP so there will likely need to be a followup patch to make these\neffective when cephadm replaces ceph ansible.\n\n[1] https://github.com/ceph/ceph-ansible/pull/6422\n\nChange-Id: I422e49f0027efbbb25256d8b4718eb0aa78d90a4\n(cherry picked from commit 9a42686dc7f9181246fdddf87e35a6a669726cea)\n(cherry picked from commit b2a8641a5c16e43c4d23b4ca372fb0e29f6f6ebc)\n'}]",0,795288,823ec822386976e8150156967f5dafebed248a2e,11,5,2,9003,,,0,"set ganesha idmap.conf file path and overrides

Traditionally,  Ganesha consumes /etc/idmapd.conf, which controls
mapping of user/owner identities under NFSv4+.  With containerized service
deployment, this file has beenan immutable part of the container image
and could not be modified.

Recently ceph-ansible was modified to allow the user to set the path
for idmapd.conf and to override ini settings in this file by supplying
json configuration for the overrides in the same way that it can be
supplied for ceph.conf overrides [1].  Also, the default path setting
for the idmapd.conf file is /etc/ganesha/idmap.conf, which already is
reflected into containerized ganesha under /etc/ganesha, solving the
immutability issue.  If no overrides are supplied, the file put in this
location will match that originally frozen into the container, so there
is no issue here with backwards compatibility.

This change exposes parameters for idmap.conf file path and override
contents in TripleO and passes them into ceph-ansible.  It also sets up
these parameters for cephadm.  Cephadm support for OpenStack Ganesha
is WIP so there will likely need to be a followup patch to make these
effective when cephadm replaces ceph ansible.

[1] https://github.com/ceph/ceph-ansible/pull/6422

Change-Id: I422e49f0027efbbb25256d8b4718eb0aa78d90a4
(cherry picked from commit 9a42686dc7f9181246fdddf87e35a6a669726cea)
(cherry picked from commit b2a8641a5c16e43c4d23b4ca372fb0e29f6f6ebc)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/88/795288/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ceph-ansible/ceph-nfs.yaml', 'environments/manila-cephfsganesha-config.yaml', 'deployment/cephadm/ceph-nfs.yaml']",3,13cf2316834750a941ef9b3e390951a04430cacd,centos-storage-sig-stable/wallaby-stable/victoria,"<<<<<<< HEAD (496acc Allow customizing podman's [engine]/events_logger) ======= heat_template_version: wallaby description: > Ceph NFS Ganeshaservice. parameters: ServiceData: default: {} description: Dictionary packing service data type: json ServiceNetMap: default: {} description: Mapping of service_name -> network name. Typically set via parameter_defaults in the resource registry. This mapping overrides those in ServiceNetMapDefaults. type: json DefaultPasswords: default: {} type: json RoleName: default: '' description: Role name on which the service is applied type: string RoleParameters: default: {} description: Parameters specific to the role type: json EndpointMap: default: {} description: Mapping of service endpoint -> protocol. Typically set via parameter_defaults in the resource registry. type: json ManilaCephFSCephFSAuthId: type: string default: 'manila' ManilaCephFSNFSIdmapConf: type: string default: '/etc/ganesha/idmap.conf' ManilaCephFSNFSIdmapOverrides: type: json description: Extra config settings to dump into idmap.conf default: {} resources: CephBase: type: ./ceph-base.yaml properties: ServiceData: {get_param: ServiceData} ServiceNetMap: {get_param: ServiceNetMap} DefaultPasswords: {get_param: DefaultPasswords} EndpointMap: {get_param: EndpointMap} RoleName: {get_param: RoleName} RoleParameters: {get_param: RoleParameters} outputs: role_data: description: Role data for the Ceph NFS Ganesha service. value: service_name: ceph_nfs firewall_rules: '120 ceph_nfs': dport: # We support only NFS 4.1 to start - 2049 upgrade_tasks: - name: Create hiera data to upgrade ceph_nfs in a stepwise manner. when: - step|int == 1 - cluster_recreate|bool block: - name: set ceph_nfs upgrade node facts in a single-node environment set_fact: ceph_nfs_short_node_names_upgraded: ""{{ ceph_nfs_short_node_names }}"" cacheable: no when: groups['ceph_nfs'] | length <= 1 - name: set ceph_nfs upgrade node facts from the limit option set_fact: ceph_nfs_short_node_names_upgraded: ""{{ ceph_nfs_short_node_names_upgraded|default([]) + [item.split('.')[0]] }}"" cacheable: no when: - groups['ceph_nfs'] | length > 1 - item.split('.')[0] in ansible_limit.split(':') loop: ""{{ ceph_nfs_short_node_names | default([]) }}"" - fail: msg: > You can't upgrade ceph_nfs without staged upgrade. You need to use the limit option in order to do so. when: >- ceph_nfs_short_node_names_upgraded is not defined or ceph_nfs_short_node_names_upgraded | length == 0 - debug: msg: ""Prepare ceph_nfs upgrade for {{ ceph_nfs_short_node_names_upgraded }}"" - name: add the ceph_nfs short name to hiera data for the upgrade. include_role: name: tripleo_upgrade_hiera tasks_from: set.yml vars: tripleo_upgrade_key: ceph_nfs_short_node_names_override tripleo_upgrade_value: ""{{ceph_nfs_short_node_names_upgraded}}"" - name: remove the extra hiera data needed for the upgrade. include_role: name: tripleo_upgrade_hiera tasks_from: remove.yml vars: tripleo_upgrade_key: ceph_nfs_short_node_names_override when: ceph_nfs_short_node_names_upgraded | length == ceph_nfs_short_node_names | length step_config: 'include tripleo::profile::pacemaker::ceph_nfs' puppet_config: config_image: '' config_volume: '' step_config: '' # step_config seems to be ignored if docker_config is present #docker_config: {} external_deploy_tasks: list_concat: - {get_attr: [CephBase, role_data, external_deploy_tasks]} - - name: ceph_nfs_external_deploy_init when: step|int == 1 tags: - ceph block: - name: set tripleo-ansible group vars set_fact: ceph_nfs_vars: tripleo_cephadm_ceph_nfs_bind_addr: {get_param: [EndpointMap, GaneshaInternal, host_nobrackets]} tripleo_cephadm_ceph_nfs_enable_service: false tripleo_cephadm_ceph_nfs_use_pacemaker: true tripleo_cephadm_ceph_nfs_dynamic_exports: true tripleo_cephadm_ceph_nfs_service_suffix: pacemaker tripleo_cephadm_nfs_obj_gw: false tripleo_cephadm_ceph_nfs_rados_backend: true tripleo_cephadm_ceph_nfs_disable_caching: true tripleo_cephadm_ceph_nfs_ceph_user: {get_param: ManilaCephFSCephFSAuthId} tripleo_cephadm_ganesha_address_block: list_join: - ',' - get_param: [ServiceData, net_cidr_map, {get_param: [ServiceNetMap, GaneshaNetwork]}] external_update_tasks: [] external_upgrade_tasks: [] >>>>>>> CHANGE (b2a864 set ganesha idmap.conf file path and overrides) ",,169,0
openstack%2Fcharm-manila-netapp~master~I405d6a36a3299943baeaf7c216bda57eb1ec5f21,openstack/charm-manila-netapp,master,I405d6a36a3299943baeaf7c216bda57eb1ec5f21,Pin charmcraft to 0.10.2,MERGED,2021-06-09 15:24:50.000000000,2021-06-10 11:41:12.000000000,2021-06-10 11:41:12.000000000,"[{'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-09 15:24:50.000000000', 'files': ['build-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-manila-netapp/commit/b389284722134f34ca56c10ed895c63a310d2043', 'message': 'Pin charmcraft to 0.10.2\n\nCharmcraft 1.0+ breaks py35 compatibility by introducing f-strings.  As\nthe charms are still being built on a xenial builder, we currently need\nto pin this for the builds.\n\nClose-bug: #1931436\nChange-Id: I405d6a36a3299943baeaf7c216bda57eb1ec5f21\n'}]",0,795574,b389284722134f34ca56c10ed895c63a310d2043,9,2,1,20870,,,0,"Pin charmcraft to 0.10.2

Charmcraft 1.0+ breaks py35 compatibility by introducing f-strings.  As
the charms are still being built on a xenial builder, we currently need
to pin this for the builds.

Close-bug: #1931436
Change-Id: I405d6a36a3299943baeaf7c216bda57eb1ec5f21
",git fetch https://review.opendev.org/openstack/charm-manila-netapp refs/changes/74/795574/1 && git format-patch -1 --stdout FETCH_HEAD,['build-requirements.txt'],1,b389284722134f34ca56c10ed895c63a310d2043,bug/1931436,git+https://github.com/canonical/charmcraft.git@0.10.2#egg=charmcraft,charmcraft,1,1
openstack%2Fcharm-ceph-iscsi~master~I88f1a2ef629db4bd3add8c346b946b66cf3b08ed,openstack/charm-ceph-iscsi,master,I88f1a2ef629db4bd3add8c346b946b66cf3b08ed,Pin charmcraft to 0.10.2,MERGED,2021-06-09 15:14:03.000000000,2021-06-10 11:40:58.000000000,2021-06-10 11:40:58.000000000,"[{'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-09 15:14:03.000000000', 'files': ['build-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/1a234aab38830167efff470dd48d6d5be5e6085f', 'message': 'Pin charmcraft to 0.10.2\n\nCharmcraft 1.0+ breaks py35 compatibility by introducing f-strings.  As\nthe charms are still being built on a xenial builder, we currently need\nto pin this for the builds.\n\nClose-bug: #1931436\nChange-Id: I88f1a2ef629db4bd3add8c346b946b66cf3b08ed\n'}]",0,795569,1a234aab38830167efff470dd48d6d5be5e6085f,9,2,1,20870,,,0,"Pin charmcraft to 0.10.2

Charmcraft 1.0+ breaks py35 compatibility by introducing f-strings.  As
the charms are still being built on a xenial builder, we currently need
to pin this for the builds.

Close-bug: #1931436
Change-Id: I88f1a2ef629db4bd3add8c346b946b66cf3b08ed
",git fetch https://review.opendev.org/openstack/charm-ceph-iscsi refs/changes/69/795569/1 && git format-patch -1 --stdout FETCH_HEAD,['build-requirements.txt'],1,1a234aab38830167efff470dd48d6d5be5e6085f,bug/1931436,git+https://github.com/canonical/charmcraft.git@0.10.2#egg=charmcraft,git+https://github.com/canonical/charmcraft.git#egg=charmcraft,1,1
openstack%2Freleases~master~I536a8d2dd41f5195aec0434b41d303bc6f6163b6,openstack/releases,master,I536a8d2dd41f5195aec0434b41d303bc6f6163b6,Release oslo.limit for Xena,MERGED,2021-06-10 07:46:43.000000000,2021-06-10 11:38:06.000000000,2021-06-10 11:38:06.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-10 07:46:43.000000000', 'files': ['deliverables/xena/oslo.limit.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1641b6865826b2896783c0df8a49c5dd0ec08979', 'message': 'Release oslo.limit for Xena\n\nChange-Id: I536a8d2dd41f5195aec0434b41d303bc6f6163b6\n'}]",0,795736,1641b6865826b2896783c0df8a49c5dd0ec08979,9,4,1,28522,,,0,"Release oslo.limit for Xena

Change-Id: I536a8d2dd41f5195aec0434b41d303bc6f6163b6
",git fetch https://review.opendev.org/openstack/releases refs/changes/36/795736/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/oslo.limit.yaml'],1,1641b6865826b2896783c0df8a49c5dd0ec08979,oslo-limit,releases: - version: 1.4.0 projects: - repo: openstack/oslo.limit hash: caa75c1babf1f06647761c1629b7ab8e055ddb3d,,5,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~I5f15e26332d2b8b1e53539d58fe095997f3151c9,openstack/tripleo-ansible,stable/wallaby,I5f15e26332d2b8b1e53539d58fe095997f3151c9,Bump molecule to fix testing,MERGED,2021-06-07 23:35:12.000000000,2021-06-10 11:28:28.000000000,2021-06-10 11:20:25.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-07 23:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/072c462451cb3a89129b24c59773de5a6ec1ca89', 'message': 'Bump molecule to fix testing\n\nWe need to bump molecule so that we actually test proposed patches in\nCI. Also pull in the podman plugin.\n\nhttps://github.com/ansible-community/molecule/commit/3d3ce253f396ac0117659bf9f2cbc06c7377b508\n\nChange-Id: I5f15e26332d2b8b1e53539d58fe095997f3151c9\n(cherry picked from commit d66f3c80e6593ca9516655970d09d58b1050407e)\n'}, {'number': 2, 'created': '2021-06-07 23:57:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d57cf8743c7a7d4f6fcf63ad98946bb572d33ea3', 'message': 'Bump molecule to fix testing\n\nWe need to bump molecule so that we actually test proposed patches in\nCI. Also pull in the podman plugin.\n\nhttps://github.com/ansible-community/molecule/commit/3d3ce253f396ac0117659bf9f2cbc06c7377b508\n\nChange-Id: I5f15e26332d2b8b1e53539d58fe095997f3151c9\n(cherry picked from commit d66f3c80e6593ca9516655970d09d58b1050407e)\n'}, {'number': 3, 'created': '2021-06-08 16:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6510a07a5c3e794b9c090e418b901359f8eddc65', 'message': 'Bump molecule to fix testing\n\nWe need to bump molecule so that we actually test proposed patches in\nCI. Also pull in the podman plugin.\n\nhttps://github.com/ansible-community/molecule/commit/3d3ce253f396ac0117659bf9f2cbc06c7377b508\n\nChange-Id: I5f15e26332d2b8b1e53539d58fe095997f3151c9\n(cherry picked from commit d66f3c80e6593ca9516655970d09d58b1050407e)\n'}, {'number': 4, 'created': '2021-06-08 16:21:39.000000000', 'files': ['molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d70e4c9dbcc47919d812d25eee0249a63bfc10d4', 'message': 'Bump molecule to fix testing\n\nWe need to bump molecule so that we actually test proposed patches in\nCI. Also pull in the podman plugin.\n\nhttps://github.com/ansible-community/molecule/commit/3d3ce253f396ac0117659bf9f2cbc06c7377b508\n\nChange-Id: I5f15e26332d2b8b1e53539d58fe095997f3151c9\n(cherry picked from commit d66f3c80e6593ca9516655970d09d58b1050407e)\n'}]",0,795139,d70e4c9dbcc47919d812d25eee0249a63bfc10d4,11,2,4,14985,,,0,"Bump molecule to fix testing

We need to bump molecule so that we actually test proposed patches in
CI. Also pull in the podman plugin.

https://github.com/ansible-community/molecule/commit/3d3ce253f396ac0117659bf9f2cbc06c7377b508

Change-Id: I5f15e26332d2b8b1e53539d58fe095997f3151c9
(cherry picked from commit d66f3c80e6593ca9516655970d09d58b1050407e)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/39/795139/4 && git format-patch -1 --stdout FETCH_HEAD,['molecule-requirements.txt'],1,072c462451cb3a89129b24c59773de5a6ec1ca89,bump-molecule-stable/wallaby,"molecule>=3.3.4,<3.4 molecule-podman>=0.3.0","molecule>=3.0,<3.1",2,1
openstack%2Ftripleo-ansible~stable%2Fussuri~I5f15e26332d2b8b1e53539d58fe095997f3151c9,openstack/tripleo-ansible,stable/ussuri,I5f15e26332d2b8b1e53539d58fe095997f3151c9,Bump molecule to fix testing,MERGED,2021-06-07 23:37:30.000000000,2021-06-10 11:27:08.000000000,2021-06-10 11:21:02.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-07 23:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/282ff948fede10151dae46a6e3cb1b0d972ed4a7', 'message': 'Bump molecule to fix testing\n\nWe need to bump molecule so that we actually test proposed patches in\nCI. Also pull in the podman plugin.\n\nhttps://github.com/ansible-community/molecule/commit/3d3ce253f396ac0117659bf9f2cbc06c7377b508\n\nChange-Id: I5f15e26332d2b8b1e53539d58fe095997f3151c9\n(cherry picked from commit d66f3c80e6593ca9516655970d09d58b1050407e)\n'}, {'number': 2, 'created': '2021-06-07 23:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/42e4e16e683884b7907806b74b9f420baedf0520', 'message': 'Bump molecule to fix testing\n\nWe need to bump molecule so that we actually test proposed patches in\nCI. Also pull in the podman plugin.\n\nhttps://github.com/ansible-community/molecule/commit/3d3ce253f396ac0117659bf9f2cbc06c7377b508\n\nChange-Id: I5f15e26332d2b8b1e53539d58fe095997f3151c9\n(cherry picked from commit d66f3c80e6593ca9516655970d09d58b1050407e)\n'}, {'number': 3, 'created': '2021-06-08 17:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b70bf49e9abb180a06d7f43c1a3955d622e6e066', 'message': 'Bump molecule to fix testing\n\nWe need to bump molecule so that we actually test proposed patches in\nCI. Also pull in the podman plugin.\n\nhttps://github.com/ansible-community/molecule/commit/3d3ce253f396ac0117659bf9f2cbc06c7377b508\n\nChange-Id: I5f15e26332d2b8b1e53539d58fe095997f3151c9\n(cherry picked from commit d66f3c80e6593ca9516655970d09d58b1050407e)\n'}, {'number': 4, 'created': '2021-06-08 17:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/286324045876e1df7328dfed26418f63a11883c4', 'message': 'Bump molecule to fix testing\n\nWe need to bump molecule so that we actually test proposed patches in\nCI. Also pull in the podman plugin.\n\nhttps://github.com/ansible-community/molecule/commit/3d3ce253f396ac0117659bf9f2cbc06c7377b508\n\nChange-Id: I5f15e26332d2b8b1e53539d58fe095997f3151c9\n(cherry picked from commit d66f3c80e6593ca9516655970d09d58b1050407e)\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2021-06-08 19:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/15d4248cb9ec9d6f88db0e6851bf538bd44e6a60', 'message': 'Bump molecule to fix testing\n\nWe need to bump molecule so that we actually test proposed patches in\nCI. Also pull in the podman plugin.\n\nhttps://github.com/ansible-community/molecule/commit/3d3ce253f396ac0117659bf9f2cbc06c7377b508\n\nChange-Id: I5f15e26332d2b8b1e53539d58fe095997f3151c9\n(cherry picked from commit d66f3c80e6593ca9516655970d09d58b1050407e)\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 6, 'created': '2021-06-08 21:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f6ca8305ae85a18fda96833acb538ebc8885911e', 'message': 'Bump molecule to fix testing\n\nWe need to bump molecule so that we actually test proposed patches in\nCI. Also pull in the podman plugin.\n\nhttps://github.com/ansible-community/molecule/commit/3d3ce253f396ac0117659bf9f2cbc06c7377b508\n\nChange-Id: I5f15e26332d2b8b1e53539d58fe095997f3151c9\n(cherry picked from commit d66f3c80e6593ca9516655970d09d58b1050407e)\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 7, 'created': '2021-06-08 21:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9765b77762c39006c288361b4fdb4a258f5e292a', 'message': 'Bump molecule to fix testing\n\nWe need to bump molecule so that we actually test proposed patches in\nCI. Also pull in the podman plugin.\n\nhttps://github.com/ansible-community/molecule/commit/3d3ce253f396ac0117659bf9f2cbc06c7377b508\n\nChange-Id: I5f15e26332d2b8b1e53539d58fe095997f3151c9\n(cherry picked from commit d66f3c80e6593ca9516655970d09d58b1050407e)\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 8, 'created': '2021-06-09 11:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9d2075894b140d792f242350110dac84d7dcde3e', 'message': 'Bump molecule to fix testing\n\nWe need to bump molecule so that we actually test proposed patches in\nCI. Also pull in the podman plugin.\n\nhttps://github.com/ansible-community/molecule/commit/3d3ce253f396ac0117659bf9f2cbc06c7377b508\n\nChange-Id: I5f15e26332d2b8b1e53539d58fe095997f3151c9\n(cherry picked from commit d66f3c80e6593ca9516655970d09d58b1050407e)\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 9, 'created': '2021-06-09 12:21:55.000000000', 'files': ['doc/requirements.txt', 'tox.ini', 'molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6c6a79ec4c96ef68217a3208b2a920abea8fbd04', 'message': 'Bump molecule to fix testing\n\nWe need to bump molecule so that we actually test proposed patches in\nCI. Also pull in the podman plugin.\n\nhttps://github.com/ansible-community/molecule/commit/3d3ce253f396ac0117659bf9f2cbc06c7377b508\n\nChange-Id: I5f15e26332d2b8b1e53539d58fe095997f3151c9\n(cherry picked from commit d66f3c80e6593ca9516655970d09d58b1050407e)\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,795141,6c6a79ec4c96ef68217a3208b2a920abea8fbd04,20,2,9,14985,,,0,"Bump molecule to fix testing

We need to bump molecule so that we actually test proposed patches in
CI. Also pull in the podman plugin.

https://github.com/ansible-community/molecule/commit/3d3ce253f396ac0117659bf9f2cbc06c7377b508

Change-Id: I5f15e26332d2b8b1e53539d58fe095997f3151c9
(cherry picked from commit d66f3c80e6593ca9516655970d09d58b1050407e)
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/41/795141/2 && git format-patch -1 --stdout FETCH_HEAD,['molecule-requirements.txt'],1,282ff948fede10151dae46a6e3cb1b0d972ed4a7,bump-molecule-stable/ussuri,"molecule>=3.3.4,<3.4 molecule-podman>=0.3.0","molecule>=3.0,<3.1",2,1
openstack%2Ftripleo-ansible~stable%2Fwallaby~I86c6d1d060885d0a99b0e0c72cade97ee7833313,openstack/tripleo-ansible,stable/wallaby,I86c6d1d060885d0a99b0e0c72cade97ee7833313,Fix failures because of Jinja version limit,MERGED,2021-06-07 23:57:15.000000000,2021-06-10 11:27:01.000000000,2021-06-10 11:20:06.000000000,"[{'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-07 23:57:15.000000000', 'files': ['molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/63494bdf21486e6fce451bfee281f253dbe1f9b5', 'message': 'Fix failures because of Jinja version limit\n\nClose-Bug: #1929573\nChange-Id: I86c6d1d060885d0a99b0e0c72cade97ee7833313\n(cherry picked from commit 57122525820258be35415b2896a1c12188c2c3e9)\n'}]",0,795142,63494bdf21486e6fce451bfee281f253dbe1f9b5,7,3,1,14985,,,0,"Fix failures because of Jinja version limit

Close-Bug: #1929573
Change-Id: I86c6d1d060885d0a99b0e0c72cade97ee7833313
(cherry picked from commit 57122525820258be35415b2896a1c12188c2c3e9)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/42/795142/1 && git format-patch -1 --stdout FETCH_HEAD,['molecule-requirements.txt'],1,63494bdf21486e6fce451bfee281f253dbe1f9b5,ffix-stable/wallaby,jinja2,"jinja2>=2.8.0,<3",1,1
openstack%2Ftripleo-validations~master~Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2,openstack/tripleo-validations,master,Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2,Compute TSX validation,MERGED,2021-05-11 19:05:38.000000000,2021-06-10 11:26:56.000000000,2021-06-10 11:22:40.000000000,"[{'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-11 19:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3ad473e6d9d19f57fc5fa92175ac04463dbbd01d', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel “TSX” (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n'}, {'number': 2, 'created': '2021-05-11 19:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3fbf935cfd5581b1315f9d63e55a12579776c7f0', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel “TSX” (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n'}, {'number': 3, 'created': '2021-05-11 19:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6db6daf71e0ed6f6edf719bbe20b1391e195607e', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel “TSX” (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n'}, {'number': 4, 'created': '2021-05-11 20:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/668d8f68c44b51727dd3f74ec66e695c6f5709e8', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel “TSX” (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n'}, {'number': 5, 'created': '2021-05-11 20:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f36f34f9b67843a8f212d4ffd9d12da5887acacc', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel “TSX” (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n'}, {'number': 6, 'created': '2021-05-11 21:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6bc1483f94e23515e1d415362e4ff948596bff53', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel “TSX” (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n'}, {'number': 7, 'created': '2021-05-11 23:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f69e28a53372b163c333fe3d46f6deeb9219fcd2', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel “TSX” (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n'}, {'number': 8, 'created': '2021-05-12 00:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d1838df6d0481f69b2b02e0c71b8a9e8625c29c4', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n'}, {'number': 9, 'created': '2021-05-12 00:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f9d6085557fb17e5143b1f1c5f14750983701fae', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n'}, {'number': 10, 'created': '2021-05-12 00:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b15bcee2b00f9546bd8184fa5456548f3fd6883a', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n'}, {'number': 11, 'created': '2021-05-12 12:12:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/82268717b44bb7e9d22d687e8693e4906873f381', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n'}, {'number': 12, 'created': '2021-05-19 04:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4caf908aad74e5ddb537d1e1de689b9fe2fc92af', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n'}, {'number': 13, 'created': '2021-05-22 14:18:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/35ca0212c652ed8f869e915c098025f5512a1397', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n'}, {'number': 14, 'created': '2021-05-24 14:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/98311230a7eec8bb2dd62affa0fc7d8de12d9142', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n'}, {'number': 15, 'created': '2021-05-25 06:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/bde3c775e850dfe7452c74a910ea295b4a140152', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n'}, {'number': 16, 'created': '2021-05-26 13:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c53a00b257e5cfc28de6d0c11e1438bd334daea9', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n'}, {'number': 17, 'created': '2021-05-27 09:09:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/996aeb02e1241e0fe2180f1cc5e3463a5c4abeec', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n'}, {'number': 18, 'created': '2021-05-28 02:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/46567181662ac6fe3ef5659ebc4ff90d10f0884b', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n'}, {'number': 19, 'created': '2021-06-01 14:39:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3329fb862b2fe0d0867be2bf0c99150cc8020548', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n'}, {'number': 20, 'created': '2021-06-01 16:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2d72b53c80e258187e86766ab5d1d2f8bb5c9f06', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n'}, {'number': 21, 'created': '2021-06-01 16:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d2dafe2781938e9be7bd6e820d6aaaef05ca01d3', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n'}, {'number': 22, 'created': '2021-06-01 16:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/57f10cc1f170f3c80fb63b2994c92a667ca5c2a1', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n'}, {'number': 23, 'created': '2021-06-01 16:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/312e6d3032e6f68d7349f4261a2884c1d74cf855', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n'}, {'number': 24, 'created': '2021-06-02 08:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/37f62af8f68815844f0f055aa0b36c3c4130c3fa', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n'}, {'number': 25, 'created': '2021-06-02 13:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a921d904dcf9dc288e4b66bfabcacc8dea2e5c45', 'message': 'Compute TSX validation\n\nCENTOS-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from CENTOS-7.9\n(or even CENTOS-8.1 or CENTOS-8.2) to CENTOS-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n'}, {'number': 26, 'created': '2021-06-02 13:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/284b49eb6ae0e612e2d759808813f3e91982f1a0', 'message': 'Compute TSX validation\n\nCENTOS-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from CENTOS-7.9\n(or even CENTOS-8.1 or CENTOS-8.2) to CENTOS-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n'}, {'number': 27, 'created': '2021-06-02 14:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1311d1270fb5febef3d3f4127d5f85c38200c3cb', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nThis also impacts upstream CentOS systems.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n'}, {'number': 28, 'created': '2021-06-02 20:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/065d78b19328735f731b70eb58b15dad7c1064ae', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nThis also impacts upstream CentOS systems.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n'}, {'number': 29, 'created': '2021-06-04 09:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b5a63cde9e20197c516ac21d88433766088798fa', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nThis also impacts upstream CentOS systems.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n'}, {'number': 30, 'created': '2021-06-07 13:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9e120009179db5f308670d1bbd53a14684c09d29', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nThis also impacts upstream CentOS systems.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n'}, {'number': 31, 'created': '2021-06-07 21:34:05.000000000', 'files': ['roles/compute_tsx/README.md', 'zuul.d/molecule.yaml', 'roles/compute_tsx/tasks/main.yml', 'roles/compute_tsx/vars/main.yml', 'releasenotes/notes/compute-tsx-validation-5d976a3fc5166536.yaml', 'playbooks/compute-tsx.yaml', 'doc/source/roles/role-compute_tsx.rst', 'roles/compute_tsx/molecule/default/converge.yml', 'roles/compute_tsx/defaults/main.yml', 'roles/compute_tsx/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ede25c3e36a751daf68ce151521b371bb25f50dc', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nThis also impacts upstream CentOS systems.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n'}]",40,790806,ede25c3e36a751daf68ce151521b371bb25f50dc,98,6,31,27419,,,0,"Compute TSX validation

RHEL-8.3 kernel disabled the Intel TSX (Transactional
Synchronization Extensions) feature by default as a preemptive
security measure, but it breaks live migration from RHEL-7.9
(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.

Operators are expected to explicitly define the TSX flag in
their KernelArgs for the compute role to prevent live-migration
issues during the upgrade process.

This also impacts upstream CentOS systems.

Co-Authored-By: Martin Schuppert <mschuppert@redhat.com>
Related: https://bugzilla.redhat.com/1923165
Closes-Bug: #1916758
Change-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/06/790806/24 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', 'roles/compute_tsx/molecule/default/ansible-errors.json', 'roles/compute_tsx/tasks/main.yml', 'roles/compute_tsx/vars/main.yml', 'playbooks/compute-tsx.yaml', 'roles/compute_tsx/defaults/main.yml', 'roles/compute_tsx/molecule/default/Dockerfile', 'roles/compute_tsx/molecule/default/converge.yml', 'roles/compute_tsx/molecule/default/molecule.yml']",9,3ad473e6d9d19f57fc5fa92175ac04463dbbd01d,tsx_flag_compute,"--- driver: name: podman log: true platforms: - name: ubi8 hostname: ubi8 groups: - nova_libvirt image: ubi8/ubi-init registry: url: registry.access.redhat.com dockerfile: Dockerfile pkg_extras: python*-setuptools privileged: true volumes: - /etc/ci/mirror_info.sh:/etc/ci/mirror_info.sh:ro - /etc/pki/rpm-gpg:/etc/pki/rpm-gpg - /etc/yum.repos.d:/etc/yum.repos.d:rw environment: &env http_proxy: ""{{ lookup('env', 'http_proxy') }}"" https_proxy: ""{{ lookup('env', 'https_proxy') }}"" ulimits: &ulimit - host provisioner: name: ansible inventory: hosts: all: hosts: ubi8: ansible_python_interpreter: /usr/bin/python3 log: true env: ANSIBLE_STDOUT_CALLBACK: yaml ANSIBLE_LIBRARY: ""${ANSIBLE_LIBRARY:-/usr/share/ansible/plugins/modules}"" scenario: test_sequence: - destroy - create - prepare - converge - verify - destroy verifier: name: testinfra ",,330,0
openstack%2Fvalidations-common~master~I981512fa81f0eb2aac0a50a4709c517cce794fa8,openstack/validations-common,master,I981512fa81f0eb2aac0a50a4709c517cce794fa8,functools provide reduce instead of the ansible,MERGED,2021-06-09 11:05:12.000000000,2021-06-10 11:26:50.000000000,2021-06-10 11:22:50.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-09 11:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/85d3ab0e6ef14232cbe43fe4425417420a036f28', 'message': 'functools provide reduce instead of the ansible\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I981512fa81f0eb2aac0a50a4709c517cce794fa8\n'}, {'number': 2, 'created': '2021-06-09 11:16:11.000000000', 'files': ['validations_common/callback_plugins/validation_stdout.py', 'validations_common/callback_plugins/validation_json.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/ecc67950bb30e29b8260be058a9ebb815566a010', 'message': ""functools provide reduce instead of the ansible\n\nThe ansible 'reduce' function is itself imported from the functools:\nhttps://github.com/ansible/ansible/blob/devel/lib/ansible/module_utils/six/__init__.py#L273\n\nAnd thus provides exactly the same functionality.\nFurthermore, the functools is part of python lib since 2.7,\nso the result should be compatible across all of our releases.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I981512fa81f0eb2aac0a50a4709c517cce794fa8\n""}]",0,795517,ecc67950bb30e29b8260be058a9ebb815566a010,9,8,2,32926,,,0,"functools provide reduce instead of the ansible

The ansible 'reduce' function is itself imported from the functools:
https://github.com/ansible/ansible/blob/devel/lib/ansible/module_utils/six/__init__.py#L273

And thus provides exactly the same functionality.
Furthermore, the functools is part of python lib since 2.7,
so the result should be compatible across all of our releases.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I981512fa81f0eb2aac0a50a4709c517cce794fa8
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/17/795517/1 && git format-patch -1 --stdout FETCH_HEAD,"['validations_common/callback_plugins/validation_stdout.py', 'validations_common/callback_plugins/validation_json.py']",2,85d3ab0e6ef14232cbe43fe4425417420a036f28,functoolsreduce,from functools import reduce , from ansible.module_utils.six.moves import reduce,2,2
openstack%2Ftripleo-validations~stable%2Fwallaby~Ia5774787176f67cb45f8dd0536006d37c158f796,openstack/tripleo-validations,stable/wallaby,Ia5774787176f67cb45f8dd0536006d37c158f796,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-05-05 15:39:46.000000000,2021-06-10 11:26:47.000000000,2021-06-10 11:23:23.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-05 15:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/83539eb06d499a26c8113c14554fbac3aa211c71', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ia5774787176f67cb45f8dd0536006d37c158f796\n'}, {'number': 2, 'created': '2021-06-10 04:52:11.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/bdae1d327472bc5e4b16c67119ed75b8788e5bc1', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ia5774787176f67cb45f8dd0536006d37c158f796\n'}]",0,789903,bdae1d327472bc5e4b16c67119ed75b8788e5bc1,14,8,2,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ia5774787176f67cb45f8dd0536006d37c158f796
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/03/789903/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,83539eb06d499a26c8113c14554fbac3aa211c71,create-wallaby, -c {env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c {env:TOX_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},1,1
openstack%2Fpython-tripleoclient~master~If6893492a854956b6b3b19cf5ed36411daf0a1b0,openstack/python-tripleoclient,master,If6893492a854956b6b3b19cf5ed36411daf0a1b0,Remove iscsi from IronicEnabledDeployInterfaces,MERGED,2021-06-09 11:42:35.000000000,2021-06-10 11:26:43.000000000,2021-06-10 11:21:18.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-06-09 11:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1b8843dc4102e251502bc144438c709bafffe2e1', 'message': 'Remove iscsi from IronicEnabledDeployInterfaces\n\nIscsi is deprecated and should no longer be used\n\nRelated-Bug: #1931417\nChange-Id: If6893492a854956b6b3b19cf5ed36411daf0a1b0\n'}, {'number': 2, 'created': '2021-06-09 11:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d648c677815a4a40220c7b02ff018b6f1253bf0a', 'message': 'Remove iscsi from IronicEnabledDeployInterfaces\n\nIscsi is deprecated and should no longer be used\n\nRelated-Bug: #1931417\nChange-Id: If6893492a854956b6b3b19cf5ed36411daf0a1b0\n'}, {'number': 3, 'created': '2021-06-09 12:17:28.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0f0352a5b856c44f589d1ab6adb189142216498a', 'message': 'Remove iscsi from IronicEnabledDeployInterfaces\n\nIscsi is deprecated and should no longer be used\n\nRelated-Bug: #1931417\nChange-Id: If6893492a854956b6b3b19cf5ed36411daf0a1b0\n'}]",1,795520,0f0352a5b856c44f589d1ab6adb189142216498a,15,4,3,8367,,,0,"Remove iscsi from IronicEnabledDeployInterfaces

Iscsi is deprecated and should no longer be used

Related-Bug: #1931417
Change-Id: If6893492a854956b6b3b19cf5ed36411daf0a1b0
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/20/795520/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud_config.py'],1,1b8843dc4102e251502bc144438c709bafffe2e1,remove-iscsi," deploy_interfaces = ['direct', 'ansible']"," deploy_interfaces = ['direct', 'iscsi', 'ansible']",1,1
openstack%2Foslo.db~master~Idb0410a1946acbd7caf6a0bb1dad229bd5c2c346,openstack/oslo.db,master,Idb0410a1946acbd7caf6a0bb1dad229bd5c2c346,"Followup of ""Added handler for mysql 8.0.19 duplicate key error update""",MERGED,2021-06-09 12:32:18.000000000,2021-06-10 11:23:59.000000000,2021-06-10 11:18:58.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 27909}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-09 12:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/382e0e373605651aa40c97d4f10e3a4e1c3fbfd1', 'message': 'Followup of ""Added handler for mysql 8.0.19 duplicate key error update""\n\nFollowup of change: Ic78059b625e73cece355541cb4d89e641abc1103\n\nChange-Id: Idb0410a1946acbd7caf6a0bb1dad229bd5c2c346\n'}, {'number': 2, 'created': '2021-06-09 12:36:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/c60f4e3141dd244e8a034abdbb6d096d9ebb31b8', 'message': 'Followup of ""Added handler for mysql 8.0.19 duplicate key error update""\n\nFollowup of change: Ic78059b625e73cece355541cb4d89e641abc1103\n\nChange-Id: Idb0410a1946acbd7caf6a0bb1dad229bd5c2c346\n'}, {'number': 3, 'created': '2021-06-10 05:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/041e07a200f29e00c59f1135b263e3c82ba9f33e', 'message': 'Followup of ""Added handler for mysql 8.0.19 duplicate key error update""\n\nFollowup of change: Ic78059b625e73cece355541cb4d89e641abc1103\n\nChange-Id: Idb0410a1946acbd7caf6a0bb1dad229bd5c2c346\n'}, {'number': 4, 'created': '2021-06-10 09:24:47.000000000', 'files': ['releasenotes/notes/fix-mysql-duplicate-key-error-information-update-548888bc44b8dbd7.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/be2cc6a2ce40f6666d1e2b0f13054e7be7bc792e', 'message': 'Followup of ""Added handler for mysql 8.0.19 duplicate key error update""\n\nFollowup of change: Ic78059b625e73cece355541cb4d89e641abc1103\n\nChange-Id: Idb0410a1946acbd7caf6a0bb1dad229bd5c2c346\n'}]",2,795529,be2cc6a2ce40f6666d1e2b0f13054e7be7bc792e,16,5,4,33244,,,0,"Followup of ""Added handler for mysql 8.0.19 duplicate key error update""

Followup of change: Ic78059b625e73cece355541cb4d89e641abc1103

Change-Id: Idb0410a1946acbd7caf6a0bb1dad229bd5c2c346
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/29/795529/4 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/fix-mysql-duplicate-key-error-information-update-548888bc44b8dbd7.yaml'],1,382e0e373605651aa40c97d4f10e3a4e1c3fbfd1,releasenote-mysql-duplicate-key-error-update-handler,"--- fixes: - | In mysql 8.0.19, duplicate key error information is extended to include the table name of the key. Previously,duplicate key error information included only the key value and key name. This patch extends capabilities to handle changes in duplicate key error information with newer mysql version since 8.0.19. ",,8,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ieffe2852111c3ec8347343a042dd78bbf691d79a,openstack/tripleo-heat-templates,stable/train,Ieffe2852111c3ec8347343a042dd78bbf691d79a,Allow customizing podman's [engine]/events_logger,MERGED,2021-06-03 15:49:37.000000000,2021-06-10 11:22:28.000000000,2021-06-10 11:22:28.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-03 15:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dc4811ab8956c98ac87badb45349974b6aa1f441', 'message': 'WIP Allow changing events_logger\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/794633\nChange-Id: Ieffe2852111c3ec8347343a042dd78bbf691d79a\n(cherry picked from commit a5f267692c2708ebc57ca029393bda4e3868f2af)\n'}, {'number': 2, 'created': '2021-06-04 12:55:04.000000000', 'files': ['deployment/podman/podman-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6900793477cc70e2df20a54788d1c63b67ac5051', 'message': ""Allow customizing podman's [engine]/events_logger\n\nIn I780103e17f1bb42a0546c30bd6c001c642ad88b3 we introduced the\njournald default for the events_logger key. With this change we\nallow to change this new default, in case we do need to change it\nfor some reason.\n\nRelated-Bug: #1923607\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/794633\nChange-Id: Ieffe2852111c3ec8347343a042dd78bbf691d79a\n(cherry picked from commit 31db48f61d1863a73c04e89d0547848db0661957)\n""}]",0,794634,6900793477cc70e2df20a54788d1c63b67ac5051,22,5,2,20172,,,0,"Allow customizing podman's [engine]/events_logger

In I780103e17f1bb42a0546c30bd6c001c642ad88b3 we introduced the
journald default for the events_logger key. With this change we
allow to change this new default, in case we do need to change it
for some reason.

Related-Bug: #1923607

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/794633
Change-Id: Ieffe2852111c3ec8347343a042dd78bbf691d79a
(cherry picked from commit 31db48f61d1863a73c04e89d0547848db0661957)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/794634/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/podman/podman-baremetal-ansible.yaml'],1,dc4811ab8956c98ac87badb45349974b6aa1f441,events-logger-train2," ContainerDefaultEventsLogger: type: string default: 'journald' description: Setting to configure where podman logs its events. Uses journald by default as that will rotate data stored in tmpfs. constraints: - allowed_values: ['journald', 'file', 'none'] container_events_logger_mechanism: {get_param: ContainerDefaultEventsLogger} tripleo_container_events_logger_mechanism: ""{{ container_events_logger_mechanism }}""",,9,0
openstack%2Ftripleo-ci~master~I87b1770596ef9dcd01fd94707e94d6b117a06bf4,openstack/tripleo-ci,master,I87b1770596ef9dcd01fd94707e94d6b117a06bf4,Remove dns server that has sporadic issues,MERGED,2021-06-09 13:36:08.000000000,2021-06-10 11:21:43.000000000,2021-06-10 11:21:43.000000000,"[{'_account_id': 8449}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-06-09 13:36:08.000000000', 'files': ['toci-quickstart/config/testenv/ovb-vexxhost.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/96b59a5505827d25cd65e2bfad9afa3b2d4b9b67', 'message': 'Remove dns server that has sporadic issues\n\n38.102.83.187 is timing out. This server is not needed.\nThere are two others that are reliable.\n\nChange-Id: I87b1770596ef9dcd01fd94707e94d6b117a06bf4\nCloses-Bug: #1931444\n'}]",0,795541,96b59a5505827d25cd65e2bfad9afa3b2d4b9b67,11,7,1,9976,,,0,"Remove dns server that has sporadic issues

38.102.83.187 is timing out. This server is not needed.
There are two others that are reliable.

Change-Id: I87b1770596ef9dcd01fd94707e94d6b117a06bf4
Closes-Bug: #1931444
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/41/795541/1 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/testenv/ovb-vexxhost.yml'],1,96b59a5505827d25cd65e2bfad9afa3b2d4b9b67,bug1931444,, - 38.102.83.187,0,1
openstack%2Ftripleo-ansible~master~I2b118e6e2184e70d5bccb4ab3cdb7e868ac731e2,openstack/tripleo-ansible,master,I2b118e6e2184e70d5bccb4ab3cdb7e868ac731e2,Build ganesha idmap.conf file path and apply overrides,MERGED,2021-06-08 07:59:16.000000000,2021-06-10 11:21:10.000000000,2021-06-10 11:21:10.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 9003}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-08 07:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fdf8db5283c0cad613c4f821f2dc616ebe391f8f', 'message': 'Build ganesha idmap.conf file path and apply overrides\n\nAs per [1] tripleo-heat-templates now has two parameters that are\nsupposed to define the location of the idmap.conf file and some\noverrides that can be applied via config_template.\nThis change adds the idmap template and the required tasks to make\nit properly rendered in a given location.\n\n[1] https://review.opendev.org/773999\n\nChange-Id: I2b118e6e2184e70d5bccb4ab3cdb7e868ac731e2\n'}, {'number': 2, 'created': '2021-06-08 08:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2b366834ad4370ee4dbd309c3d3f3b75bff84d8d', 'message': 'Build ganesha idmap.conf file path and apply overrides\n\nAs per [1] tripleo-heat-templates now has two parameters that are\nsupposed to define the location of the idmap.conf file and some\noverrides that can be applied via config_template.\nThis change adds the idmap template and the required tasks to make\nit properly rendered in a given location.\n\n[1] https://review.opendev.org/773999\n\nChange-Id: I2b118e6e2184e70d5bccb4ab3cdb7e868ac731e2\n'}, {'number': 3, 'created': '2021-06-08 08:59:25.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml', 'tripleo_ansible/roles/tripleo_cephadm/templates/idmap.conf.j2', 'tripleo_ansible/roles/tripleo_cephadm/tasks/ganesha/start_nfs.yaml', 'tripleo_ansible/roles/tripleo_cephadm/templates/ganesha.conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3ff9aaa6824906fb6b95fd6343da553be87c264c', 'message': 'Build ganesha idmap.conf file path and apply overrides\n\nAs per [1] tripleo-heat-templates now has two parameters that are\nsupposed to define the location of the idmap.conf file and some\noverrides that can be applied via config_template.\nThis change adds the idmap template and the required tasks to make\nit properly rendered in a given location.\n\n[1] https://review.opendev.org/773999\n\nChange-Id: I2b118e6e2184e70d5bccb4ab3cdb7e868ac731e2\n'}]",0,795233,3ff9aaa6824906fb6b95fd6343da553be87c264c,16,6,3,25402,,,0,"Build ganesha idmap.conf file path and apply overrides

As per [1] tripleo-heat-templates now has two parameters that are
supposed to define the location of the idmap.conf file and some
overrides that can be applied via config_template.
This change adds the idmap template and the required tasks to make
it properly rendered in a given location.

[1] https://review.opendev.org/773999

Change-Id: I2b118e6e2184e70d5bccb4ab3cdb7e868ac731e2
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/33/795233/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml', 'tripleo_ansible/roles/tripleo_cephadm/templates/idmap.conf.j2', 'tripleo_ansible/roles/tripleo_cephadm/tasks/ganesha/start_nfs.yaml', 'tripleo_ansible/roles/tripleo_cephadm/templates/ganesha.conf.j2']",4,fdf8db5283c0cad613c4f821f2dc616ebe391f8f,cephadm_ganesha," IdmapConf = ""{{ tripleo_cephadm_idmap_conf }}"";",,150,0
openstack%2Fpuppet-tripleo~stable%2Fussuri~Ie19e99473523bc06fd9fa3689203f27e0f3f8e48,openstack/puppet-tripleo,stable/ussuri,Ie19e99473523bc06fd9fa3689203f27e0f3f8e48,Bump metadata for tripleo ussuri release,MERGED,2021-06-09 16:14:41.000000000,2021-06-10 11:20:55.000000000,2021-06-10 11:20:55.000000000,"[{'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 16:14:41.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d3d1a63cf1802a51c83aaea17d6d1f29126715d0', 'message': 'Bump metadata for tripleo ussuri release\n\nNeeded by to tag new tripleo ussuri release. Diff here like [1]\n\n[1] https://github.com/openstack/puppet-tripleo/compare/12.6.0...926dad702d05da9e9e270d9344a4dc5805007a3a\n\nChange-Id: Ie19e99473523bc06fd9fa3689203f27e0f3f8e48\n'}]",0,795588,d3d1a63cf1802a51c83aaea17d6d1f29126715d0,7,3,1,8449,,,0,"Bump metadata for tripleo ussuri release

Needed by to tag new tripleo ussuri release. Diff here like [1]

[1] https://github.com/openstack/puppet-tripleo/compare/12.6.0...926dad702d05da9e9e270d9344a4dc5805007a3a

Change-Id: Ie19e99473523bc06fd9fa3689203f27e0f3f8e48
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/88/795588/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,d3d1a63cf1802a51c83aaea17d6d1f29126715d0,," ""version"": ""12.6.1"","," ""version"": ""12.6.0"",",1,1
openstack%2Ftripleo-quickstart-extras~master~I23831ed5d3666e4d0a8669f8ee7a714cf83362ec,openstack/tripleo-quickstart-extras,master,I23831ed5d3666e4d0a8669f8ee7a714cf83362ec,Remove old address from validate-tempest config,MERGED,2021-06-08 15:50:21.000000000,2021-06-10 11:20:50.000000000,2021-06-10 11:20:50.000000000,"[{'_account_id': 1955}, {'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-08 15:50:21.000000000', 'files': ['roles/validate-tempest/files/tempestmail/config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b3bb7c51205b2d87c3dd3adf463acf2effaf9b8b', 'message': 'Remove old address from validate-tempest config\n\nThis contact info is no longer needed.\n\nChange-Id: I23831ed5d3666e4d0a8669f8ee7a714cf83362ec\n'}]",0,795364,b3bb7c51205b2d87c3dd3adf463acf2effaf9b8b,11,5,1,9976,,,0,"Remove old address from validate-tempest config

This contact info is no longer needed.

Change-Id: I23831ed5d3666e4d0a8669f8ee7a714cf83362ec
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/64/795364/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/files/tempestmail/config.yaml'],1,b3bb7c51205b2d87c3dd3adf463acf2effaf9b8b,remove-old-mail,, - mail: 'gcerami@redhat.com' name: 'Gabriele' fail_only: true,0,3
openstack%2Ftripleo-heat-templates~master~Id698a88a83e5218eb6254ae2fe4af6accf0a7306,openstack/tripleo-heat-templates,master,Id698a88a83e5218eb6254ae2fe4af6accf0a7306,Remove iscsi deploy interface from minion node,MERGED,2021-06-09 11:57:04.000000000,2021-06-10 11:20:33.000000000,2021-06-10 11:20:33.000000000,"[{'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-09 11:57:04.000000000', 'files': ['sample-env-generator/undercloud-minion.yaml', 'environments/undercloud/undercloud-minion.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/36e680fee003b20cad2f8f7845ef28f1109a5885', 'message': 'Remove iscsi deploy interface from minion node\n\nThis is continuation of patch[1] to remove iscsi deploy interface\nfrom minion node. iscsi deploy interface is removed after a year of\ndeprecation (and a few ML threads)[2]\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/749475\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-September/016952.html\n\nRelated-Bug: #1931417\nChange-Id: Id698a88a83e5218eb6254ae2fe4af6accf0a7306\n'}]",1,795522,36e680fee003b20cad2f8f7845ef28f1109a5885,11,5,1,29775,,,0,"Remove iscsi deploy interface from minion node

This is continuation of patch[1] to remove iscsi deploy interface
from minion node. iscsi deploy interface is removed after a year of
deprecation (and a few ML threads)[2]

[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/749475
[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-September/016952.html

Related-Bug: #1931417
Change-Id: Id698a88a83e5218eb6254ae2fe4af6accf0a7306
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/795522/1 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/undercloud-minion.yaml', 'environments/undercloud/undercloud-minion.yaml']",2,36e680fee003b20cad2f8f7845ef28f1109a5885,bug/1931417," IronicEnabledDeployInterfaces: ['direct', 'ansible']"," IronicEnabledDeployInterfaces: ['iscsi', 'direct', 'ansible']",2,2
openstack%2Ftripleo-ansible~stable%2Fwallaby~I6876fd258e0f3216511f544044ca44a68552dd97,openstack/tripleo-ansible,stable/wallaby,I6876fd258e0f3216511f544044ca44a68552dd97,[STABLE-Only] Change doc requirement file,MERGED,2021-06-08 16:17:36.000000000,2021-06-10 11:20:20.000000000,2021-06-10 11:20:20.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 16:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/362d2901a06c8f4c9e438a2eb6335168ab854077', 'message': ""[STABLE-Only] Change doc requirement file\n\nIn order to address the molecule jobs not properly testing modules, we\nneed to increase molecule to a version that conflicts with\nupper-constraints. Since the molecule-requirements.txt was symlinked to\nthe doc requirements, let's reduce the doc requirements to just be doc\nspecific.\n\nChange-Id: I6876fd258e0f3216511f544044ca44a68552dd97\n""}, {'number': 2, 'created': '2021-06-08 16:21:39.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7721df00f7cc1dae6b87516e5a4daa770995d4aa', 'message': ""[STABLE-Only] Change doc requirement file\n\nIn order to address the molecule jobs not properly testing modules, we\nneed to increase molecule to a version that conflicts with\nupper-constraints. Since the molecule-requirements.txt was symlinked to\nthe doc requirements, let's reduce the doc requirements to just be doc\nspecific.\n\nChange-Id: I6876fd258e0f3216511f544044ca44a68552dd97\n""}]",0,795370,7721df00f7cc1dae6b87516e5a4daa770995d4aa,8,2,2,14985,,,0,"[STABLE-Only] Change doc requirement file

In order to address the molecule jobs not properly testing modules, we
need to increase molecule to a version that conflicts with
upper-constraints. Since the molecule-requirements.txt was symlinked to
the doc requirements, let's reduce the doc requirements to just be doc
specific.

Change-Id: I6876fd258e0f3216511f544044ca44a68552dd97
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/70/795370/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,362d2901a06c8f4c9e438a2eb6335168ab854077,bump-molecule-stable/wallaby,"# this is required for the docs build jobs ansible>=2.8,!=2.8.9,!=2.9.12,<2.10.0 sphinx>=2.0.0,!=2.1.0 # BSD openstackdocstheme>=2.2.1 # Apache-2.0 reno>=3.1.0 # Apache-2.0 doc8>=0.8.1 # Apache-2.0 bashate>=0.6.0 # Apache-2.0 metalsmith>=1.4.0 # Apache-2.0 jsonschema # MIT ",,9,0
openstack%2Ftripleo-quickstart-extras~master~If1105ba23b338f974b4caf47e1b419a35d23c438,openstack/tripleo-quickstart-extras,master,If1105ba23b338f974b4caf47e1b419a35d23c438,"Revert ""Workaround for jdk zstream breaking freeipa install""",MERGED,2021-06-08 09:45:19.000000000,2021-06-10 11:19:58.000000000,2021-06-10 11:19:58.000000000,"[{'_account_id': 5046}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9914}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-06-08 09:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d39783736dd652f22188782fc84c0de67c13f44b', 'message': 'Revert ""Workaround for jdk zstream breaking freeipa install""\n\nThis reverts commit 8ad3c828572d627aa16f4c1c5bb94ccf07caac88.\n\nReason for revert: https://bugzilla.redhat.com/show_bug.cgi?id=1892216 is merged, we don\'t have old rpm anymore to pull from mirror.\n\nChange-Id: If1105ba23b338f974b4caf47e1b419a35d23c438\n'}, {'number': 2, 'created': '2021-06-08 09:59:10.000000000', 'files': ['roles/ipa-multinode/tasks/ipaserver-subnode-install.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/db332148bbd914370e3fd4e3fddeec8d8f0c4389', 'message': 'Revert ""Workaround for jdk zstream breaking freeipa install""\n\nThis reverts commit 8ad3c828572d627aa16f4c1c5bb94ccf07caac88.\n\nReason for revert: https://bugzilla.redhat.com/show_bug.cgi?id=1892216\nis merged, we don\'t have old rpm anymore to pull from mirror.\n\nRelated-Bug: #1931228\nChange-Id: If1105ba23b338f974b4caf47e1b419a35d23c438\n'}]",0,795273,db332148bbd914370e3fd4e3fddeec8d8f0c4389,19,11,2,29775,,,0,"Revert ""Workaround for jdk zstream breaking freeipa install""

This reverts commit 8ad3c828572d627aa16f4c1c5bb94ccf07caac88.

Reason for revert: https://bugzilla.redhat.com/show_bug.cgi?id=1892216
is merged, we don't have old rpm anymore to pull from mirror.

Related-Bug: #1931228
Change-Id: If1105ba23b338f974b4caf47e1b419a35d23c438
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/73/795273/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/ipa-multinode/tasks/ipaserver-subnode-install.yml'],1,d39783736dd652f22188782fc84c0de67c13f44b,workaround_java_issues_with_freeipa,,# This can be removed once rhbz#1892216 is fixed and released # (in launchpad #1902478) # We need to install openjdk beforehand (as it is installed by the freeipa) # script and then downgrade it in case the version is the known broken one - name: Workaround for newer JDK breaking FreeIPA become: true shell: | dnf install -y 'dnf-command(versionlock)' source /etc/ci/mirror_info.sh wget $NODEPOOL_CENTOS_MIRROR/8/AppStream/x86_64/os/Packages/java-1.8.0-openjdk-1.8.0.265.b01-0.el8_2.x86_64.rpm wget $NODEPOOL_CENTOS_MIRROR/8/AppStream/x86_64/os/Packages/java-1.8.0-openjdk-headless-1.8.0.265.b01-0.el8_2.x86_64.rpm wget $NODEPOOL_CENTOS_MIRROR/8/AppStream/x86_64/os/Packages/java-1.8.0-openjdk-devel-1.8.0.265.b01-0.el8_2.x86_64.rpm dnf install -y java-1.8.0-openjdk*rpm dnf versionlock add java-1.8.0-openjdk java-1.8.0-openjdk-headless java-1.8.0-openjdk-devel dnf versionlock list > /var/log/versionlock.log ,0,16
openstack%2Ftripleo-quickstart-extras~master~Ieabc20011e51a181648ce9c899fa10867bbdfcd7,openstack/tripleo-quickstart-extras,master,Ieabc20011e51a181648ce9c899fa10867bbdfcd7,"Revert ""Workaround for jdk zstream breaking freeipa instal""",MERGED,2021-06-08 10:09:43.000000000,2021-06-10 11:19:36.000000000,2021-06-10 11:19:36.000000000,"[{'_account_id': 8449}, {'_account_id': 9914}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-08 10:09:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e2ec8e20cdd0c4f87dc2af8b3895cb2cb1cd2ff5', 'message': 'Revert ""Workaround for jdk zstream breaking freeipa instal""\n\nThis reverts commit 9fef1c0e42b5ee755196e08705f7368c1f2b5e1b.\n\nReason for revert: https://bugzilla.redhat.com/show_bug.cgi?id=1892216\nis merged, we don\'t have old rpm anymore to pull from mirror.\n\nChange-Id: Ieabc20011e51a181648ce9c899fa10867bbdfcd7\nCloses-Bug: #1931228\n'}, {'number': 2, 'created': '2021-06-08 10:19:45.000000000', 'files': ['roles/freeipa-setup/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3a294dc9a335b428a09a376806689523d4be5b14', 'message': 'Revert ""Workaround for jdk zstream breaking freeipa instal""\n\nThis reverts commit 9fef1c0e42b5ee755196e08705f7368c1f2b5e1b.\n\nReason for revert: https://bugzilla.redhat.com/show_bug.cgi?id=1892216\nis merged, we don\'t have old rpm anymore to pull from mirror.\n\nChange-Id: Ieabc20011e51a181648ce9c899fa10867bbdfcd7\nCloses-Bug: #1931228\n'}]",0,795274,3a294dc9a335b428a09a376806689523d4be5b14,19,8,2,29775,,,0,"Revert ""Workaround for jdk zstream breaking freeipa instal""

This reverts commit 9fef1c0e42b5ee755196e08705f7368c1f2b5e1b.

Reason for revert: https://bugzilla.redhat.com/show_bug.cgi?id=1892216
is merged, we don't have old rpm anymore to pull from mirror.

Change-Id: Ieabc20011e51a181648ce9c899fa10867bbdfcd7
Closes-Bug: #1931228
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/74/795274/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/freeipa-setup/tasks/main.yml'],1,e2ec8e20cdd0c4f87dc2af8b3895cb2cb1cd2ff5,workaround_java_issues_with_freeipa,," # This can be removed once rhbz#1892216 is fixed and released # (in launchpad #1902478) # We need to install openjdk beforehand (as it is installed by the freeipa) # script and then downgrade it in case the version is the known broken one - name: Workaround for newer JDK breaking FreeIPA become: true shell: | set -e dnf install -y 'dnf-command(versionlock)' export NODEPOOL_CENTOS_MIRROR={{ lookup('env','NODEPOOL_CENTOS_MIRROR')|default('http://mirror.centos.org/centos', true) }} curl -O $NODEPOOL_CENTOS_MIRROR/8/AppStream/x86_64/os/Packages/java-1.8.0-openjdk-1.8.0.265.b01-0.el8_2.x86_64.rpm curl -O $NODEPOOL_CENTOS_MIRROR/8/AppStream/x86_64/os/Packages/java-1.8.0-openjdk-headless-1.8.0.265.b01-0.el8_2.x86_64.rpm curl -O $NODEPOOL_CENTOS_MIRROR/8/AppStream/x86_64/os/Packages/java-1.8.0-openjdk-devel-1.8.0.265.b01-0.el8_2.x86_64.rpm dnf install -y java-1.8.0-openjdk*rpm dnf versionlock add java-1.8.0-openjdk java-1.8.0-openjdk-headless java-1.8.0-openjdk-devel dnf versionlock list > /var/log/versionlock.log when: ansible_distribution_major_version is version('8', '>=') ",0,18
openstack%2Fneutron~master~I745d358cc369a605565a95f8c5260ee49d8fc190,openstack/neutron,master,I745d358cc369a605565a95f8c5260ee49d8fc190,Added dnsmasq for opensuse installation,MERGED,2021-06-07 18:58:02.000000000,2021-06-10 10:52:42.000000000,2021-06-10 10:49:07.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 33272}]","[{'number': 1, 'created': '2021-06-07 18:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ae32bda959edff3a601a2fb148e7f96f60e1323f', 'message': 'Added dnsmasq for opensuse openstack-neutron-dhcp-agent installation\n\nChange-Id: I745d358cc369a605565a95f8c5260ee49d8fc190\n'}, {'number': 2, 'created': '2021-06-07 19:07:54.000000000', 'files': ['doc/source/install/controller-install-option2-obs.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cfd8232cd377fb5970a7bd298d559dcf815d7f94', 'message': 'Added dnsmasq for opensuse installation\n\nUpdating documentation since opensuse needs dnsmasq to install openstack-neutron-dhcp-agent\n\nChange-Id: I745d358cc369a605565a95f8c5260ee49d8fc190\n'}]",0,795170,cfd8232cd377fb5970a7bd298d559dcf815d7f94,11,4,2,33594,,,0,"Added dnsmasq for opensuse installation

Updating documentation since opensuse needs dnsmasq to install openstack-neutron-dhcp-agent

Change-Id: I745d358cc369a605565a95f8c5260ee49d8fc190
",git fetch https://review.opendev.org/openstack/neutron refs/changes/70/795170/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/controller-install-option2-obs.rst'],1,ae32bda959edff3a601a2fb148e7f96f60e1323f,bug1929012, openstack-neutron-metadata-agent bridge-utils dnsmasq, openstack-neutron-metadata-agent bridge-utils,1,1
openstack%2Fnova~master~I3084a2c503cf8c16d025e789574a3fc4e4b1005a,openstack/nova,master,I3084a2c503cf8c16d025e789574a3fc4e4b1005a,[DNM]Test with sqla 1.4 and try to tease out slow tests,ABANDONED,2021-06-09 09:24:21.000000000,2021-06-10 10:52:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-09 09:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a60bf466fd52088de96d25f68830509a70b5eee4', 'message': '[DNM]Test with sqla 1.4 and try to tease out slow tests\n\nWe see nova unit test timeouts with fresh sqlalchemy. Decrease our per\ntest case timeout to see which one is problematic\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/788339\nChange-Id: I3084a2c503cf8c16d025e789574a3fc4e4b1005a\n'}, {'number': 2, 'created': '2021-06-09 10:13:16.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/426a0cb6ecef4071651e5851e44b858833045d06', 'message': '[DNM]Test with sqla 1.4 and try to tease out slow tests\n\nWe see nova unit test timeouts with fresh sqlalchemy. Decrease our per\ntest case timeout to see which one is problematic\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/788339\nChange-Id: I3084a2c503cf8c16d025e789574a3fc4e4b1005a\n'}]",0,795506,426a0cb6ecef4071651e5851e44b858833045d06,24,1,2,9708,,,0,"[DNM]Test with sqla 1.4 and try to tease out slow tests

We see nova unit test timeouts with fresh sqlalchemy. Decrease our per
test case timeout to see which one is problematic

Depends-On: https://review.opendev.org/c/openstack/requirements/+/788339
Change-Id: I3084a2c503cf8c16d025e789574a3fc4e4b1005a
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/795506/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a60bf466fd52088de96d25f68830509a70b5eee4,sqlalchemy-1.4, OS_TEST_TIMEOUT=60, OS_TEST_TIMEOUT=160,1,1
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I97442478d77d222fdd428eebd270c08df08237f6,openstack/puppet-tripleo,stable/wallaby,I97442478d77d222fdd428eebd270c08df08237f6,Add support for ovn clustered databases,MERGED,2021-06-09 06:10:59.000000000,2021-06-10 10:38:16.000000000,2021-06-10 10:38:16.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-09 06:10:59.000000000', 'files': ['manifests/profile/base/neutron/ovn_metadata.pp', 'manifests/profile/base/neutron/plugins/ml2/ovn.pp', 'manifests/profile/base/neutron/agents/ovn.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/22e79f3c33a08ada21d8e0d3e26f4f9ae185983b', 'message': 'Add support for ovn clustered databases\n\nThis patch adds support for managing the ovn connection correctly when\novn is handling clustering instead of pacemaker. By default if the\nparameter is not enabled, the pacemaker managed way is assumed.\n\nChange-Id: I97442478d77d222fdd428eebd270c08df08237f6\nRelated-Bug: #1931133\n'}]",0,795478,22e79f3c33a08ada21d8e0d3e26f4f9ae185983b,7,3,1,20172,,,0,"Add support for ovn clustered databases

This patch adds support for managing the ovn connection correctly when
ovn is handling clustering instead of pacemaker. By default if the
parameter is not enabled, the pacemaker managed way is assumed.

Change-Id: I97442478d77d222fdd428eebd270c08df08237f6
Related-Bug: #1931133
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/78/795478/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/neutron/ovn_metadata.pp', 'manifests/profile/base/neutron/plugins/ml2/ovn.pp', 'manifests/profile/base/neutron/agents/ovn.pp']",3,22e79f3c33a08ada21d8e0d3e26f4f9ae185983b,bug/1931133-stable/wallaby,"# [*ovn_db_node_ips*] # (Optional) The OVN DBs node ip addresses are listening. # Defaults to hiera('ovn_dbs_node_ips') # # [*ovn_db_clustered*] # (Optional) Boolean indicating if we're running with ovn db clustering # or pacemaker. Defaults to false for backwards compatibility # Defaults to hiera('ovn_db_clustered', false) # $ovn_db_host = hiera('ovn_dbs_vip', undef), $ovn_db_node_ips = hiera('ovn_dbs_node_ips', undef), $ovn_db_clustered = hiera('ovn_db_clustered', false), if $ovn_db_clustered { $db_hosts = any2array($ovn_db_node_ips) } else { $db_hosts = any2array($ovn_db_host) } $sb_conn = $db_hosts.map |$h| { join([$protocol, normalize_ip_for_uri($h), ""${ovn_sbdb_port}""], ':') } class { 'ovn::controller': ovn_remote => join(any2array($sb_conn), ','),"," $ovn_db_host = hiera('ovn_dbs_vip'), class { 'ovn::controller': ovn_remote => join([$protocol, normalize_ip_for_uri($ovn_db_host), ""${ovn_sbdb_port}""], ':'),",63,7
openstack%2Fcharm-mysql-router~master~Ib89d11352635e077f062b3f86a4024802f59419f,openstack/charm-mysql-router,master,Ib89d11352635e077f062b3f86a4024802f59419f,Use an actual instantiation of mysql-router,MERGED,2021-06-09 20:11:08.000000000,2021-06-10 10:23:07.000000000,2021-06-10 10:23:07.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-09 20:11:08.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/b2e1a41e9b25af4f43ae44c6e9b491a72462dc6f', 'message': 'Use an actual instantiation of mysql-router\n\nHaving the zaza test configuration charm_name = mysql-router adds\nmysql-router as an application that is never actually instantiated. This\nleads to zaza failures looking for a unit of that application.\n\nSimply change the charm_name to an instantiation of mysql-router\nresolves this. i.e. keystone-mysql-router which is in each bundle.\n\nChange-Id: Ib89d11352635e077f062b3f86a4024802f59419f\nCloses-Bug: #1931117\n'}]",0,795689,b2e1a41e9b25af4f43ae44c6e9b491a72462dc6f,11,3,1,20805,,,0,"Use an actual instantiation of mysql-router

Having the zaza test configuration charm_name = mysql-router adds
mysql-router as an application that is never actually instantiated. This
leads to zaza failures looking for a unit of that application.

Simply change the charm_name to an instantiation of mysql-router
resolves this. i.e. keystone-mysql-router which is in each bundle.

Change-Id: Ib89d11352635e077f062b3f86a4024802f59419f
Closes-Bug: #1931117
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/89/795689/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,b2e1a41e9b25af4f43ae44c6e9b491a72462dc6f,bug/1931117,# Note: LP Bug#1931117 # Set the charm name to an actual instantiation of mysql-router charm_name: keystone-mysql-router,charm_name: mysql-router,3,1
openstack%2Fpuppet-tripleo~stable%2Fwallaby~Id8df4fe5ce26dbcdeb7ba073ecb2199cf392b03b,openstack/puppet-tripleo,stable/wallaby,Id8df4fe5ce26dbcdeb7ba073ecb2199cf392b03b,"Revert ""Allow ovn_db_host to be of type array""",MERGED,2021-06-09 06:08:36.000000000,2021-06-10 10:04:05.000000000,2021-06-10 10:04:05.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-09 06:08:36.000000000', 'files': ['manifests/profile/base/neutron/ovn_metadata.pp', 'manifests/profile/base/neutron/plugins/ml2/ovn.pp', 'manifests/profile/base/neutron/agents/ovn.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b6f2ff4320616b840ebcf0907b8339decfbedad0', 'message': 'Revert ""Allow ovn_db_host to be of type array""\n\nWe shouldn\'t override the hieradata but rather be explicit about which\nmode we\'re operating in. e.g. pacemaker or not. This will help in\ntroubleshooting and not rely on hieradata overrides to work.\n\nThis reverts commit 0b51d8258c4a0618ec6f2abd8f86bfe6943cd51f.\n\nRelated-Bug: #1931133\nChange-Id: Id8df4fe5ce26dbcdeb7ba073ecb2199cf392b03b\n(cherry picked from commit fad7e3fb90f2f03e011fd245e5b60d510726d9e3)\n'}]",0,795454,b6f2ff4320616b840ebcf0907b8339decfbedad0,9,3,1,20172,,,0,"Revert ""Allow ovn_db_host to be of type array""

We shouldn't override the hieradata but rather be explicit about which
mode we're operating in. e.g. pacemaker or not. This will help in
troubleshooting and not rely on hieradata overrides to work.

This reverts commit 0b51d8258c4a0618ec6f2abd8f86bfe6943cd51f.

Related-Bug: #1931133
Change-Id: Id8df4fe5ce26dbcdeb7ba073ecb2199cf392b03b
(cherry picked from commit fad7e3fb90f2f03e011fd245e5b60d510726d9e3)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/54/795454/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/neutron/ovn_metadata.pp', 'manifests/profile/base/neutron/plugins/ml2/ovn.pp', 'manifests/profile/base/neutron/agents/ovn.pp']",3,b6f2ff4320616b840ebcf0907b8339decfbedad0,bug/1931133-stable/wallaby,"# (Optional) The IP-Address where OVN DBs are listening. class { 'ovn::controller': ovn_remote => join([$protocol, normalize_ip_for_uri($ovn_db_host), ""${ovn_sbdb_port}""], ':'),","# (Optional) The IP-Address where OVN DBs are listening. If passed a list it # will construct a comma separated string like # protocol:ip1:port,protocol:ip2:port. if is_string($ovn_db_host) { $ovn_remote_real = join([""${protocol}"", normalize_ip_for_uri($ovn_db_host), ""${ovn_sbdb_port}""], ':') } elsif is_array($ovn_db_host) { $ovn_remote_real = join($ovn_db_host.map |$i| { ""${protocol}:${normalize_ip_for_uri($i)}:${ovn_sbdb_port}"" }, ',') } class { 'ovn::controller': ovn_remote => $ovn_remote_real,",7,31
openstack%2Fvalidations-libs~master~I02df49532974cd0bcb2df8176b19ffc1cd5a65d1,openstack/validations-libs,master,I02df49532974cd0bcb2df8176b19ffc1cd5a65d1,Improved log path handling,ABANDONED,2021-05-03 09:39:29.000000000,2021-06-10 09:38:23.000000000,,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-03 09:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/b0840eac4638af106223a5d95f5f2e33f8cb0d32', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\ncanstants.py now include constant default path,\nin order to improve readability and provide referece.\n\nutils.py contain new test function to detect and log\nwhen validations logs are stored in volatile /tmp.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 2, 'created': '2021-05-03 09:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/3c5a284a325c60ce2ff0148c3a50da660a524b41', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now include constant default path,\nin order to improve readability and provide referece.\n\nutils.py contain new test function to detect and log\nwhen validations logs are stored in volatile /tmp.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 3, 'created': '2021-05-03 10:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/ced7b5494198dd22deda63c3f7d4ccd381b4bfa4', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now include constant default path,\nin order to improve readability and provide referece.\n\nutils.py contain new test function to detect and log\nwhen validations logs are stored in volatile /tmp.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 4, 'created': '2021-05-03 10:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/c573f41dd48eef27c284e626fe6f2ca11300a1ac', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now include constant default path,\nin order to improve readability and provide referece.\n\nutils.py contain new test function to detect and log\nwhen validations logs are stored in volatile /tmp.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 5, 'created': '2021-05-03 12:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/0b01b6f0552eb4e6df0b2cd8d05b0842bb172121', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now include constant default path,\nin order to improve readability and provide referece.\n\nutils.py contain new test function to detect and log\nwhen validations logs are stored in volatile /tmp.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 6, 'created': '2021-05-03 13:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/f9ad76eccdea195d1c8d3ba2755ca2e46704e759', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now include constant default path,\nin order to improve readability and provide referece.\n\nutils.py contain new test function to detect and log\nwhen validations logs are stored in volatile /tmp.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 7, 'created': '2021-05-03 14:03:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/aba7e94bd202c717bdaf5ee58cb0a987f1f6dab6', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now include constant default path,\nin order to improve readability and provide referece.\n\nutils.py contain new test function to detect and log\nwhen validations logs are stored in volatile /tmp.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 8, 'created': '2021-05-04 07:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/e4dd69ec7cfbd4d55565177e6b926fbb83104f25', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now include constant default path,\nin order to improve readability and provide referece.\n\nutils.py contain new test function to detect and log\nwhen validations logs are stored in volatile /tmp.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/789408\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 9, 'created': '2021-05-04 08:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/5179d0979e3519041c766e8a51f904631f696b30', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now include constant default path,\nin order to improve readability and provide referece.\n\nutils.py contain new test function to detect and log\nwhen validations logs are stored in volatile /tmp.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/789408\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 10, 'created': '2021-05-04 09:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/863862054eadf5627afb694b3d246beb7a2fed89', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now include constant default path,\nin order to improve readability and provide referece.\n\nutils.py contain new test function to detect and log\nwhen validations logs are stored in volatile /tmp.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/789408\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 11, 'created': '2021-05-04 11:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/3e97c8e24cdc127005d1d20f09f9a92e0e5acd57', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now include constant default path,\nin order to improve readability and provide referece.\n\nutils.py contain new test function to detect and log\nwhen validations logs are stored in volatile /tmp.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/789408\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 12, 'created': '2021-05-04 12:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/4a65b694e241e02bc6f07daa25ce1dbf490d8924', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now include constant default path,\nin order to improve readability and provide referece.\n\nutils.py contain new test function to detect and log\nwhen validations logs are stored in volatile /tmp.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/789408\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 13, 'created': '2021-05-04 12:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/ac83b0d0fd40d6a097e96df4788f8a61a672ac29', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now include constant default path,\nin order to improve readability and provide referece.\n\nutils.py contain new test function to detect and log\nwhen validations logs are stored in volatile /tmp.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/789408\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 14, 'created': '2021-05-04 14:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/de8c6aa52acc7eea4bf9d30d3257d764ebea09db', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now include constant default path,\nin order to improve readability and provide referece.\n\nutils.py contain new test function to detect and log\nwhen validations logs are stored in volatile /tmp.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/789408\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 15, 'created': '2021-05-04 15:07:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/6f3c1c6de8edbf8c7451b106abaf8e0ec6dbf37b', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now include constant default path,\nin order to improve readability and provide referece.\n\nutils.py contain new test function to detect and log\nwhen validations logs are stored in volatile /tmp.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/789408\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 16, 'created': '2021-05-04 15:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/1dc224a40ab545b69cd5d62ea4e022a40757024d', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now include constant default path,\nin order to improve readability and provide referece.\n\nutils.py contain new test function to detect and log\nwhen validations logs are stored in volatile /tmp.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/789408\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 17, 'created': '2021-05-04 16:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/dc45a732a58b29ac368f69e1ae04884f08ad6810', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now include constant default path,\nin order to improve readability and provide referece.\n\nutils.py contain new test function to detect and log\nwhen validations logs are stored in volatile /tmp.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/789408\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 18, 'created': '2021-05-04 16:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/d61a32f6ea88da882cf40e1e7db060ad2e4ff02a', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now include constant default path,\nin order to improve readability and provide referece.\n\nutils.py contain new test function to detect and log\nwhen validations logs are stored in volatile /tmp.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/789408\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 19, 'created': '2021-05-04 17:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/67078e4a1b981ca2d669fb8df771921167f2c505', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now include constant default path,\nin order to improve readability and provide referece.\n\nutils.py contain new test function to detect and log\nwhen validations logs are stored in volatile /tmp.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/789408\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 20, 'created': '2021-05-04 18:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/46ee5bbdb8297bc4f56c13ef9ba449dd3cce6b6d', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now include constant default path,\nin order to improve readability and provide referece.\n\nutils.py contain new test function to detect and log\nwhen validations logs are stored in volatile /tmp.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/789408\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 21, 'created': '2021-05-04 18:20:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/2b50ae5bab3fbe573afef6ba9323d235fb76f5b3', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now include constant default path,\nin order to improve readability and provide referece.\n\nutils.py contain new test function to detect and log\nwhen validations logs are stored in volatile /tmp.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/789408\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 22, 'created': '2021-05-05 06:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/2b7fbd1bfb2a4539f76db95fccbcfc824f34224a', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now includes constant default path,\nin order to improve readability and provide reference.\n\nutils.py contains new test function to detect and log\nwhen validations logs are stored in volatile /tmp.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/789408\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 23, 'created': '2021-05-05 09:00:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/5054fdbb6ba9bed5e5513a2e41a5782e8227639e', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now includes constant default path,\nin order to improve readability and provide reference.\n\nutils.py contains new test function to detect and log\nwhen validations logs are stored in volatile /tmp.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/789408\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 24, 'created': '2021-05-05 10:38:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/a8a1533eb6363059eb97cf4fc1c829f2117f7b9c', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now includes constant default path,\nin order to improve readability and provide reference.\n\nutils.py contains new test function to detect and log\nwhen validations logs are stored in volatile /tmp.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/789408\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 25, 'created': '2021-05-05 11:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/2547dd21efd9058575bb461195211e13a3ffd298', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now includes constant default path,\nin order to improve readability and provide reference.\n\nutils.py contains new test function to detect and log\nwhen validations logs are stored in volatile /tmp.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/789782\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 26, 'created': '2021-05-05 12:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/27844cdcea0069a4fee7dcfa828dd011b63d52d1', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now includes constant default path,\nin order to improve readability and provide reference.\n\nutils.py contains new test function to detect and log\nwhen validations logs are stored in volatile /tmp.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/789782\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 27, 'created': '2021-05-05 13:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/55d2382ac7401aebb14fb87f6315866424e10b93', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now includes constant default path,\nin order to improve readability and provide reference.\n\nutils.py contains new test function to detect and log\nwhen validations logs are stored in volatile /tmp.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/789782\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 28, 'created': '2021-05-06 08:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/817accbd4c8415749bb7b386f994a8f168d5b0aa', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now includes constant default path,\nin order to improve readability and provide reference.\n\nutils.py contains new test function to detect and log\nwhen validations logs are stored in volatile /tmp.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/789782\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 29, 'created': '2021-05-06 08:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/867130548e0d7729167a0ee3aff4c51025c311fe', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now includes constant default path,\nin order to improve readability and provide reference.\n\nutils.py contains new test function to detect and log\nwhen validations logs are stored in volatile /tmp.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/789782\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 30, 'created': '2021-05-06 09:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/f831c75f65084e008b2dc61fb30dea2107a594b7', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now includes constant default path,\nin order to improve readability and provide reference.\n\nutils.py contains new test function to detect and log\nwhen validations logs are stored in volatile /tmp.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/789782\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 31, 'created': '2021-05-06 09:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/f525c9f556fce4a1536c89d73e8fe94782de867a', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now includes constant default path,\nin order to improve readability and provide reference.\n\nutils.py contains new test function to detect and log\nwhen validations logs are stored in volatile /tmp.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/789782\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 32, 'created': '2021-05-06 13:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/0dca0036744245e525ad1e1f0d1d55a8e69fbd64', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now includes constant default path,\nin order to improve readability and provide reference.\n\nutils.py contains new test function to detect and log\nwhen validations logs are stored in volatile /tmp.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/789782\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 33, 'created': '2021-05-10 11:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/7d33ae8185a2f95dca6543c7b5c67e97807a9cd2', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now includes constant default path,\nin order to improve readability and provide reference.\n\nutils.py contains new test function to detect and log\nwhen validations logs are stored in volatile /tmp.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/789782\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 34, 'created': '2021-05-10 13:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/5044f94f5c358587c24ffc31d5c6c32d9f2a1f00', 'message': 'Improved log path handling\n\nValidations logging now has a documented fallback,\nin order to improve readability and provide reference.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/789782\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 35, 'created': '2021-05-10 13:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/ebb67c1a1d4f4d1d3a1f9668bafc65869b8b1ef4', 'message': 'Improved log path handling\n\nValidations logging now has a documented fallback,\nin order to improve readability and provide reference.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/789782\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 36, 'created': '2021-05-10 13:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/34fe267f992cc60e573bcdd5f662368390f87977', 'message': 'Improved log path handling\n\nValidations logging now has a documented fallback,\nin order to improve readability and provide reference.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/789782\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 37, 'created': '2021-05-17 05:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/bd098f4617ba09934b9afba98c36dc5e03568f99', 'message': 'Improved log path handling\n\nValidations logging now has a documented fallback,\nin order to improve readability and provide reference.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/789782\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 38, 'created': '2021-05-19 09:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/df0615413d7fd8ab26d7c0d332d78392f0829907', 'message': 'Improved log path handling\n\nValidations logging now has a documented fallback,\nin order to improve readability and provide reference.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/789782\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 39, 'created': '2021-05-20 06:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/98a5f1ecb008912d6e6b1cbcc7d2bcc35f849914', 'message': 'Improved log path handling\n\nValidations logging now has a documented fallback,\nin order to improve readability and provide reference.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/789782\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 40, 'created': '2021-05-31 05:11:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/4ada47b72c96821c4e0f9ae01737e93df6cbd030', 'message': 'Improved log path handling\n\nValidations logging now has a documented fallback,\nin order to improve readability and provide reference.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/789782\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 41, 'created': '2021-05-31 08:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/3e0e780e6f73f8d8d6cfd0dff61239af118ceeb1', 'message': 'Improved log path handling\n\nValidations logging now has a documented fallback,\nin order to improve readability and provide reference.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/789782\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 42, 'created': '2021-05-31 08:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/bcef099a748c6a609f61ae8b4b99289c27755356', 'message': 'Improved log path handling\n\nValidations logging now has a documented fallback,\nin order to improve readability and provide reference.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/789782\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 43, 'created': '2021-06-03 11:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/133e5dc85143565bfd40dd0e8354315cb8e226b8', 'message': 'Improved log path handling\n\nValidations logging now has a documented fallback,\nin order to improve readability and provide reference.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/789782\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 44, 'created': '2021-06-03 11:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/fe186594c748f89de0f55761a7ee2db08b0f982e', 'message': 'Improved log path handling\n\nValidations logging now has a documented fallback,\nin order to improve readability and provide reference.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/789174\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 45, 'created': '2021-06-03 13:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/7fd99aba7729a6cff714fc5b95fa25b9ddc65b62', 'message': 'Improved log path handling\n\nValidations logging now has a documented fallback,\nin order to improve readability and provide reference.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}, {'number': 46, 'created': '2021-06-04 10:33:26.000000000', 'files': ['validations_libs/tests/test_utils.py', 'validations_libs/constants.py', 'validations_libs/validation_actions.py', 'validations_libs/utils.py', 'validations_libs/tests/test_validation_actions.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/b0a4bd71401eed79b74444ccc4f060704927dfed', 'message': 'Improved log path handling\n\nValidations logging now has a documented fallback,\nin order to improve readability and provide reference.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/794638\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1\n'}]",30,789174,b0a4bd71401eed79b74444ccc4f060704927dfed,126,3,46,32926,,,0,"Improved log path handling

Validations logging now has a documented fallback,
in order to improve readability and provide reference.

Tests are included.

Complementary patch for validations_commons callbacks
is optional, as the behavior should stay largely the same.

Depends-On: https://review.opendev.org/c/openstack/validations-libs/+/794638

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/74/789174/33 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/tests/test_utils.py', 'validations_libs/constants.py', 'validations_libs/utils.py']",3,b0840eac4638af106223a5d95f5f2e33f8cb0d32,constants/pathformat,"def temp_log_dir_guard(path): path = os.path.normpath(path) path, directory = os.path.split(path) while path != '/': path, directory = os.path.split(path) path = os.path.join(path, directory) if path == '/tmp': LOG.warning( ( ""Logs are being written into the `/tmp` folder."" ""This is not desirable in most cases as it is a volatile"" "" location and accessible to everyone.\n"" ""Valiations are written to `/tmp` as a last chance fallback."" ""Please check attributes on `{}`"" ).format(constants.VALIDATIONS_LOG_BASEDIR_DEFAULT) ) def create_artifacts_dir(dir_path=None, prefix=''): This function contains additional checks for log directory access as well as possible fallbacks. In order, following locations are considered for artifacts directory: `dir_path` parameter `validations_libs.constants.VALIDATIONS_LOG_BASEDIR` `$HOME` `/tmp` In the last two cases, an error and warning is logged, to notify the user about remediation, and possible complexities it may lead to. constants.VALIDATIONS_LOG_BASEDIR) log_sub_dir = ""{}_{}_{}"".format( validation_uuid, prefix, current_time()) log_dir = ""{}/{}"".format( dir_path, log_sub_dir) except (OSError, PermissionError): LOG.error( ""Please check the access rights for: '{}'"" log_dir = ""{}/{}"".format( os.environ.get('HOME', '/tmp'), log_sub_dir) LOG.warning( ( ""Default log folder unavailable, defaulting to: '{}'"" ).format(log_dir) ) os.makedirs(log_dir) temp_log_dir_guard(log_dir) return validation_uuid, log_dir","def create_artifacts_dir(dir_path=None, prefix=None): constants.VALIDATION_ANSIBLE_ARTIFACT_PATH) log_dir = ""{}/{}_{}_{}"".format(dir_path, validation_uuid, (prefix if prefix else ''), current_time()) return validation_uuid, log_dir except OSError: LOG.exception( ""Please check the access rights for {}""",122,12
openstack%2Fdevstack~master~I2860ea00e67f98f0c09a1f91a1914dc913eb1cfb,openstack/devstack,master,I2860ea00e67f98f0c09a1f91a1914dc913eb1cfb,Pick exactly one default route for ovn agent,ABANDONED,2021-06-10 01:54:05.000000000,2021-06-10 09:22:53.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-10 01:54:05.000000000', 'files': ['lib/neutron_plugins/ovn_agent'], 'web_link': 'https://opendev.org/openstack/devstack/commit/bb397b27d07b128288015cd6bc4e0acbb96f5edf', 'message': 'Pick exactly one default route for ovn agent\n\nIn multiple default route environment we might get result like\ndefault_route_dev=`enp1s0 enp2s0`. We should pick only the first match.\n\nChange-Id: I2860ea00e67f98f0c09a1f91a1914dc913eb1cfb\n'}]",0,795720,bb397b27d07b128288015cd6bc4e0acbb96f5edf,6,2,1,12404,,,0,"Pick exactly one default route for ovn agent

In multiple default route environment we might get result like
default_route_dev=`enp1s0 enp2s0`. We should pick only the first match.

Change-Id: I2860ea00e67f98f0c09a1f91a1914dc913eb1cfb
",git fetch https://review.opendev.org/openstack/devstack refs/changes/20/795720/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron_plugins/ovn_agent'],1,bb397b27d07b128288015cd6bc4e0acbb96f5edf,ovn-specify-default-route, default_route_dev=$(ip route | grep ^default | head -n 1 | awk '{print $5}'), default_route_dev=$(ip route | grep ^default | awk '{print $5}'),1,1
openstack%2Freleases~master~I4b017f490de83e86a580a8fe6803b129c38b61c4,openstack/releases,master,I4b017f490de83e86a580a8fe6803b129c38b61c4,adding new email for keystone's release liaison,MERGED,2021-06-07 12:15:12.000000000,2021-06-10 09:03:43.000000000,2021-06-10 09:03:43.000000000,"[{'_account_id': 308}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-07 12:15:12.000000000', 'files': ['data/release_liaisons.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/911b47c4f8e8685a62ba627832eac0ae78e07224', 'message': ""adding new email for keystone's release liaison\n\nChange-Id: I4b017f490de83e86a580a8fe6803b129c38b61c4\n""}]",0,795092,911b47c4f8e8685a62ba627832eac0ae78e07224,6,2,1,28522,,,0,"adding new email for keystone's release liaison

Change-Id: I4b017f490de83e86a580a8fe6803b129c38b61c4
",git fetch https://review.opendev.org/openstack/releases refs/changes/92/795092/1 && git format-patch -1 --stdout FETCH_HEAD,['data/release_liaisons.yaml'],1,911b47c4f8e8685a62ba627832eac0ae78e07224,liaison, - name: 'Kristi Nikolla' irc: knikolla email: knikolla@bu.edu,,3,0
openstack%2Fopenstack-ansible-openstack_hosts~master~I3b50a8723a58505c03789c6d433601aa43c5c65a,openstack/openstack-ansible-openstack_hosts,master,I3b50a8723a58505c03789c6d433601aa43c5c65a,Use PKI role to install CA certificates,MERGED,2021-05-10 13:01:52.000000000,2021-06-10 08:59:19.000000000,2021-06-10 08:58:03.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-10 13:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/60579c398bd88b92c5e44f91f0ff3a30ef081379', 'message': 'Use PKI role to install CA certificates\n\nThis functionality is now centralised in the PKI role so remove\nthe duplicate function from openstack_hosts.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-pki/+/788021\nChange-Id: I3b50a8723a58505c03789c6d433601aa43c5c65a\n'}, {'number': 2, 'created': '2021-05-10 15:00:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/b791fbcbcf0a915ff2bc1793b17352c337b212bc', 'message': 'Use PKI role to install CA certificates\n\nThis functionality is now centralised in the PKI role so remove\nthe duplicate function from openstack_hosts.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-pki/+/788031\nChange-Id: I3b50a8723a58505c03789c6d433601aa43c5c65a\n'}, {'number': 3, 'created': '2021-05-12 06:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/186a8ac557fe35e59891fdc43582461906ba5cab', 'message': 'Use PKI role to install CA certificates\n\nThis functionality is now centralised in the PKI role so remove\nthe duplicate function from openstack_hosts.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-pki/+/788021\nChange-Id: I3b50a8723a58505c03789c6d433601aa43c5c65a\n'}, {'number': 4, 'created': '2021-06-03 10:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/ac8075c2b51c21b1e6d3bfb09d861ce12e5d796b', 'message': 'Use PKI role to install CA certificates\n\nThis functionality is now centralised in the PKI role so remove\nthe duplicate function from openstack_hosts.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-pki/+/788021\nChange-Id: I3b50a8723a58505c03789c6d433601aa43c5c65a\n'}, {'number': 5, 'created': '2021-06-03 11:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/d58181b85c2d2bd30e56f9e76093dd98b644144e', 'message': 'Use PKI role to install CA certificates\n\nThis functionality is now centralised in the PKI role so remove\nthe duplicate function from openstack_hosts.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/788031\nChange-Id: I3b50a8723a58505c03789c6d433601aa43c5c65a\n'}, {'number': 6, 'created': '2021-06-03 11:06:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/ecf59d9040b7e36e58cd68c2aebeff195cd5de54', 'message': 'Use PKI role to install CA certificates\n\nThis functionality is now centralised in the PKI role so remove\nthe duplicate function from openstack_hosts.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/788031\nChange-Id: I3b50a8723a58505c03789c6d433601aa43c5c65a\n'}, {'number': 7, 'created': '2021-06-04 12:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/4b7c4b77368eb270113d5049a9afe476d227e332', 'message': 'Use PKI role to install CA certificates\n\nThis functionality is now centralised in the PKI role so remove\nthe duplicate function from openstack_hosts.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/788031\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/794795\nChange-Id: I3b50a8723a58505c03789c6d433601aa43c5c65a\n'}, {'number': 8, 'created': '2021-06-09 06:27:58.000000000', 'files': ['tasks/main.yml', 'tasks/openstack_hosts_ca_certificates.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/9d1110a9781f72dadd9365bc2cde735fcdba63f1', 'message': 'Use PKI role to install CA certificates\n\nThis functionality is now centralised in the PKI role so remove\nthe duplicate function from openstack_hosts.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/788031\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/794795\nChange-Id: I3b50a8723a58505c03789c6d433601aa43c5c65a\n'}]",4,790431,9d1110a9781f72dadd9365bc2cde735fcdba63f1,45,3,8,25023,,,0,"Use PKI role to install CA certificates

This functionality is now centralised in the PKI role so remove
the duplicate function from openstack_hosts.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/788031
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/794795
Change-Id: I3b50a8723a58505c03789c6d433601aa43c5c65a
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/31/790431/8 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/openstack_hosts_ca_certificates.yml']",2,60579c398bd88b92c5e44f91f0ff3a30ef081379,osa/pki,,"--- # Copyright 2019, BBC # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Copy CA certificates copy: src: ""{{ item.src }}"" dest: ""{{ openstack_host_ca_location }}/{{ item.name }}"" register: openstack_host_ca_cert_copy loop: ""{{ openstack_host_ca_certificates | flatten(levels=1) }}"" - name: Update CA store - Ubuntu command: update-ca-certificates when: - ansible_facts['pkg_mgr'] == 'apt' - openstack_host_ca_cert_copy is changed - name: Update CA store - Centos command: update-ca-trust when: - ansible_facts['pkg_mgr'] == 'dnf' - openstack_host_ca_cert_copy is changed ",7,41
openstack%2Fbifrost~master~I950c52b00a5cb9e9ddc71f8b2a76a2089db79c3a,openstack/bifrost,master,I950c52b00a5cb9e9ddc71f8b2a76a2089db79c3a,"Revert ""libvirt: pin edk2-ovmf for CentOS Stream""",MERGED,2021-06-09 10:47:47.000000000,2021-06-10 08:59:10.000000000,2021-06-10 08:57:38.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-09 10:47:47.000000000', 'files': ['playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_CentOS.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/231fddbad86eb76e5b72c805e817897a77930239', 'message': 'Revert ""libvirt: pin edk2-ovmf for CentOS Stream""\n\nAn updated version has been released for Stream per\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1961562#c29\n\nThis reverts commit b131c78fc2d8163788131c36d8ad8db77b725cd3.\n\nChange-Id: I950c52b00a5cb9e9ddc71f8b2a76a2089db79c3a\n'}]",0,795515,231fddbad86eb76e5b72c805e817897a77930239,8,3,1,10239,,,0,"Revert ""libvirt: pin edk2-ovmf for CentOS Stream""

An updated version has been released for Stream per
https://bugzilla.redhat.com/show_bug.cgi?id=1961562#c29

This reverts commit b131c78fc2d8163788131c36d8ad8db77b725cd3.

Change-Id: I950c52b00a5cb9e9ddc71f8b2a76a2089db79c3a
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/15/795515/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_CentOS.yml'],1,231fddbad86eb76e5b72c805e817897a77930239,, - edk2-ovmf, # TODO(mgoddard): Remove pin after # https://bugzilla.redhat.com/show_bug.cgi?id=1961562 is fixed - edk2-ovmf-20200602gitca407c7246bf-4.el8,1,3
openstack%2Ffreezer-api~master~I3b77a5a3799f066ef189862e75de24b4c25c0569,openstack/freezer-api,master,I3b77a5a3799f066ef189862e75de24b4c25c0569,Fix the error for the module of falcon,MERGED,2021-06-10 07:00:58.000000000,2021-06-10 08:37:49.000000000,2021-06-10 08:35:29.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-10 07:00:58.000000000', 'files': ['freezer_api/common/exceptions.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/22d20337a83858b9274f5605fc03ad27563861f9', 'message': 'Fix the error for the module of falcon\n\n    File ""/home/zuul/src/opendev.org/openstack/freezer-api/freezer_api/common/exceptions.py"", line 73, in handle\n    status=falcon.status.HTTP_404,\n\n    AttributeError: module \'falcon\' has no attribute \'status\'\n\nChange-Id: I3b77a5a3799f066ef189862e75de24b4c25c0569\n'}]",0,795732,22d20337a83858b9274f5605fc03ad27563861f9,7,2,1,21069,,,0,"Fix the error for the module of falcon

    File ""/home/zuul/src/opendev.org/openstack/freezer-api/freezer_api/common/exceptions.py"", line 73, in handle
    status=falcon.status.HTTP_404,

    AttributeError: module 'falcon' has no attribute 'status'

Change-Id: I3b77a5a3799f066ef189862e75de24b4c25c0569
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/32/795732/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer_api/common/exceptions.py'],1,22d20337a83858b9274f5605fc03ad27563861f9,," status=falcon.HTTP_404,"," status=falcon.status.HTTP_404,",1,1
openstack%2Frequirements~master~I9437e48ad382c6e04a37bfe2448ad1299e72d1af,openstack/requirements,master,I9437e48ad382c6e04a37bfe2448ad1299e72d1af,Add 'types-paramiko' for paramiko type hints,MERGED,2021-06-09 12:41:32.000000000,2021-06-10 08:33:39.000000000,2021-06-09 18:42:32.000000000,"[{'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 12:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/072c25f4c166fbee14a5553579c43f9ac89eae8b', 'message': 'Add \'types-paramiko\' for paramiko type hints\n\nThis is the split out type hints for paramiko from typeshed [1]. It\'s\nnecessary for nova to avoid the following issue:\n\n  error: Library stubs not installed for ""paramiko"" (or incompatible with Python 3.9)\n  note: Hint: ""python3 -m pip install types-paramiko""\n  note: (or run ""mypy --install-types"" to install all missing stub packages)\n  note: See https://mypy.readthedocs.io/en/stable/running_mypy.html#missing-imports\n\nThis can be resolved by installing the hints package, as the error\nsuggests.\n\n* Is the library actively maintained?\n  Yes. It\'s part of typeshed [1].\n\n* Is the library good code?\n  Yes.\n\n* Is the library python 3 compatible?\n  Yes.\n\n* Is the library license compatible?\n  Yes - Apache 2.0.\n\n* Is the library already packaged in the distros we target?\n  No.\n\n* Is the function of this library already covered by other libraries\n  in global-requirements.txt?\n  No.\n\n* Is the library required for OpenStack project or related dev or\n  infrastructure setup?\n  Yes. It\'s required by nova, which uses paramiko and type hints.\n\n[1] https://github.com/python/typeshed\n\nChange-Id: I9437e48ad382c6e04a37bfe2448ad1299e72d1af\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2021-06-09 13:09:28.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/653b9130b3abb70a5a3285250dbb5e7fe1841ef8', 'message': 'Add \'types-paramiko\' for paramiko type hints\n\nThis is the split out type hints for paramiko from typeshed [1]. It\'s\nnecessary for nova to avoid the following issue:\n\n  error: Library stubs not installed for ""paramiko"" (or incompatible with Python 3.9)\n  note: Hint: ""python3 -m pip install types-paramiko""\n  note: (or run ""mypy --install-types"" to install all missing stub packages)\n  note: See https://mypy.readthedocs.io/en/stable/running_mypy.html#missing-imports\n\nThis can be resolved by installing the hints package, as the error\nsuggests.\n\n* Is the library actively maintained?\n  Yes. It\'s part of typeshed [1].\n\n* Is the library good code?\n  Yes.\n\n* Is the library python 3 compatible?\n  Yes.\n\n* Is the library license compatible?\n  Yes - Apache 2.0.\n\n* Is the library already packaged in the distros we target?\n  No.\n\n* Is the function of this library already covered by other libraries\n  in global-requirements.txt?\n  No.\n\n* Is the library required for OpenStack project or related dev or\n  infrastructure setup?\n  Yes. It\'s required by nova, which uses paramiko and type hints.\n\n[1] https://github.com/python/typeshed\n\nChange-Id: I9437e48ad382c6e04a37bfe2448ad1299e72d1af\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,795532,653b9130b3abb70a5a3285250dbb5e7fe1841ef8,18,7,2,15334,,,0,"Add 'types-paramiko' for paramiko type hints

This is the split out type hints for paramiko from typeshed [1]. It's
necessary for nova to avoid the following issue:

  error: Library stubs not installed for ""paramiko"" (or incompatible with Python 3.9)
  note: Hint: ""python3 -m pip install types-paramiko""
  note: (or run ""mypy --install-types"" to install all missing stub packages)
  note: See https://mypy.readthedocs.io/en/stable/running_mypy.html#missing-imports

This can be resolved by installing the hints package, as the error
suggests.

* Is the library actively maintained?
  Yes. It's part of typeshed [1].

* Is the library good code?
  Yes.

* Is the library python 3 compatible?
  Yes.

* Is the library license compatible?
  Yes - Apache 2.0.

* Is the library already packaged in the distros we target?
  No.

* Is the function of this library already covered by other libraries
  in global-requirements.txt?
  No.

* Is the library required for OpenStack project or related dev or
  infrastructure setup?
  Yes. It's required by nova, which uses paramiko and type hints.

[1] https://github.com/python/typeshed

Change-Id: I9437e48ad382c6e04a37bfe2448ad1299e72d1af
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/32/795532/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,072c25f4c166fbee14a5553579c43f9ac89eae8b,types-paramiko,types-paramiko===0.1.3,,1,0
openstack%2Ffreezer~master~I5cfce411d7cc182d3ac50170b2ea6a4bc2598525,openstack/freezer,master,I5cfce411d7cc182d3ac50170b2ea6a4bc2598525,"Update ""if .. if .."" to ""if .. in ..""",MERGED,2021-06-03 08:18:20.000000000,2021-06-10 08:25:15.000000000,2021-06-10 08:23:52.000000000,"[{'_account_id': 11151}, {'_account_id': 13940}, {'_account_id': 14101}, {'_account_id': 14340}, {'_account_id': 14509}, {'_account_id': 21069}, {'_account_id': 21387}, {'_account_id': 22348}, {'_account_id': 22405}, {'_account_id': 22484}, {'_account_id': 27068}]","[{'number': 1, 'created': '2021-06-03 08:18:20.000000000', 'files': ['freezer/scheduler/scheduler_job.py'], 'web_link': 'https://opendev.org/openstack/freezer/commit/c33d8d98bdff982c35b7feba7bc3d8a38fc6f049', 'message': 'Update ""if .. if .."" to ""if .. in ..""\n\nMake the code structure looks more clear and more clean.\n\nChange-Id: I5cfce411d7cc182d3ac50170b2ea6a4bc2598525\n'}]",0,794463,c33d8d98bdff982c35b7feba7bc3d8a38fc6f049,13,11,1,32245,,,0,"Update ""if .. if .."" to ""if .. in ..""

Make the code structure looks more clear and more clean.

Change-Id: I5cfce411d7cc182d3ac50170b2ea6a4bc2598525
",git fetch https://review.opendev.org/openstack/freezer refs/changes/63/794463/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer/scheduler/scheduler_job.py'],1,c33d8d98bdff982c35b7feba7bc3d8a38fc6f049,," if job_action.get('mandatory', False) or \ if action_result in [Job.FAIL_RESULT, Job.ABORTED_RESULT]: result = action_result "," if job_action.get('mandatory', False) or\ if action_result == Job.FAIL_RESULT: result = Job.FAIL_RESULT if action_result == Job.ABORTED_RESULT: result = Job.ABORTED_RESULT",3,5
openstack%2Fkayobe~stable%2Fstein~I33d2b8ea08903d558e2a42231de48edc6567cadf,openstack/kayobe,stable/stein,I33d2b8ea08903d558e2a42231de48edc6567cadf,"Revert ""Performance: skip LVM configuration if no groups configured""",MERGED,2021-03-26 15:37:11.000000000,2021-06-10 08:25:12.000000000,2021-06-10 08:23:25.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 15:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3c205b623d1af1501c094c60e44a031d161724a1', 'message': 'Revert ""Performance: skip LVM configuration if no groups configured""\n\nThe reverted change relies on the apply parameter for the include_role\nplaybook, which was introduced in Ansible 2.7. Requirements for the\nStein release allow Ansible 2.5 and 2.6, which produce the following\nerror:\n\n    ERROR! Invalid options for include_role: apply\n\nThis reverts commit 5eca75c31f4ffe0c875b0bcdcc6245ca174799b3.\n\nChange-Id: I33d2b8ea08903d558e2a42231de48edc6567cadf\nStory: 2008753\nTask: 42114\n'}, {'number': 2, 'created': '2021-04-07 11:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d02ccdce061b07d63c4c4ff5dffbb84822c3484a', 'message': 'Revert ""Performance: skip LVM configuration if no groups configured""\n\nThe reverted change relies on the apply parameter for the include_role\nplaybook, which was introduced in Ansible 2.7. Requirements for the\nStein release allow Ansible 2.5 and 2.6, which produce the following\nerror:\n\n    ERROR! Invalid options for include_role: apply\n\nThis reverts commit 5eca75c31f4ffe0c875b0bcdcc6245ca174799b3.\n\nChange-Id: I33d2b8ea08903d558e2a42231de48edc6567cadf\nStory: 2008753\nTask: 42114\n'}, {'number': 3, 'created': '2021-04-14 07:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/83ff0cd843a51cf775ca1ea1b28b145e3405ca9a', 'message': 'Revert ""Performance: skip LVM configuration if no groups configured""\n\nThe reverted change relies on the apply parameter for the include_role\nplaybook, which was introduced in Ansible 2.7. Requirements for the\nStein release allow Ansible 2.5 and 2.6, which produce the following\nerror:\n\n    ERROR! Invalid options for include_role: apply\n\nThis reverts commit 5eca75c31f4ffe0c875b0bcdcc6245ca174799b3.\n\nChange-Id: I33d2b8ea08903d558e2a42231de48edc6567cadf\nStory: 2008753\nTask: 42114\n'}, {'number': 4, 'created': '2021-06-09 21:15:25.000000000', 'files': ['ansible/lvm.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/836a714508cc494231b88f43fafd017397ece920', 'message': 'Revert ""Performance: skip LVM configuration if no groups configured""\n\nThe reverted change relies on the apply parameter for the include_role\nplaybook, which was introduced in Ansible 2.7. Requirements for the\nStein release allow Ansible 2.5 and 2.6, which produce the following\nerror:\n\n    ERROR! Invalid options for include_role: apply\n\nThis reverts commit 5eca75c31f4ffe0c875b0bcdcc6245ca174799b3.\n\nChange-Id: I33d2b8ea08903d558e2a42231de48edc6567cadf\nStory: 2008753\nTask: 42114\n'}]",0,783337,836a714508cc494231b88f43fafd017397ece920,22,3,4,15197,,,0,"Revert ""Performance: skip LVM configuration if no groups configured""

The reverted change relies on the apply parameter for the include_role
playbook, which was introduced in Ansible 2.7. Requirements for the
Stein release allow Ansible 2.5 and 2.6, which produce the following
error:

    ERROR! Invalid options for include_role: apply

This reverts commit 5eca75c31f4ffe0c875b0bcdcc6245ca174799b3.

Change-Id: I33d2b8ea08903d558e2a42231de48edc6567cadf
Story: 2008753
Task: 42114
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/37/783337/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/lvm.yml'],1,3c205b623d1af1501c094c60e44a031d161724a1,story/2008753, pre_tasks: roles: - role: mrlesmithjr.manage-lvm manage_lvm: True become: True, tasks: - name: Ensure LVM configuration is applied vars: manage_lvm: True include_role: name: mrlesmithjr.manage-lvm apply: become: True,5,10
openstack%2Fkolla-ansible~master~I52f3034a53f3bc78c98fbe6a49efe12de6e44ced,openstack/kolla-ansible,master,I52f3034a53f3bc78c98fbe6a49efe12de6e44ced,WIP: Fix glance/neutron tls proxy fluentd config,ABANDONED,2021-02-23 17:08:32.000000000,2021-06-10 08:24:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-23 17:08:32.000000000', 'files': ['ansible/roles/common/templates/conf/input/00-global.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6e3cfe94223b15086ab3c79aa1ce4c0d4b980694', 'message': 'WIP: Fix glance/neutron tls proxy fluentd config\n\nChange-Id: I52f3034a53f3bc78c98fbe6a49efe12de6e44ced\n'}]",0,777167,6e3cfe94223b15086ab3c79aa1ce4c0d4b980694,4,1,1,22629,,,0,"WIP: Fix glance/neutron tls proxy fluentd config

Change-Id: I52f3034a53f3bc78c98fbe6a49efe12de6e44ced
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/67/777167/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/input/00-global.conf.j2'],1,6e3cfe94223b15086ab3c79aa1ce4c0d4b980694,," exclude_path [""/var/log/kolla/glance-tls-proxy/*.log"", ""/var/log/kolla/neutron-tls-proxy/*.log"", ""/var/log/kolla/monasca/agent*.log"","," exclude_path [""/var/log/kolla/monasca/agent*.log"",",3,1
openstack%2Freleases~master~I7c1af13b77f578805b1208074bdcea0f270ccac4,openstack/releases,master,I7c1af13b77f578805b1208074bdcea0f270ccac4,delete the missing ocata-eol tag,MERGED,2021-05-28 14:40:49.000000000,2021-06-10 08:20:02.000000000,2021-06-10 08:20:02.000000000,"[{'_account_id': 308}, {'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-28 14:40:49.000000000', 'files': ['deliverables/ocata/os-cloud-config.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9dd567d1983644813cd7d7319acfa178c33c5d50', 'message': 'delete the missing ocata-eol tag\n\nChange-Id: I7c1af13b77f578805b1208074bdcea0f270ccac4\n'}]",0,793610,9dd567d1983644813cd7d7319acfa178c33c5d50,8,5,1,28522,,,0,"delete the missing ocata-eol tag

Change-Id: I7c1af13b77f578805b1208074bdcea0f270ccac4
",git fetch https://review.opendev.org/openstack/releases refs/changes/10/793610/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ocata/os-cloud-config.yaml'],1,9dd567d1983644813cd7d7319acfa178c33c5d50,os-cloud-ocata,, - projects: - hash: 185bed9d6ae89e0439d17b4b289dee5d8a6d73a7 repo: openstack/os-cloud-config version: ocata-eol,0,4
openstack%2Fsushy~stable%2Ftrain~I70f7a6ecbbe72cfa7b0a46206de9cebbd5aef23e,openstack/sushy,stable/train,I70f7a6ecbbe72cfa7b0a46206de9cebbd5aef23e,Don't log ERROR if GET of /redfish/v1/SessionService fails,MERGED,2021-06-09 14:31:52.000000000,2021-06-10 08:00:56.000000000,2021-06-10 07:59:39.000000000,"[{'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-09 14:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/874961cf2675e6df756e1b53e84a9a350e06eba1', 'message': ""Don't log ERROR if GET of /redfish/v1/SessionService fails\n\nSimilar to https://review.opendev.org/c/openstack/sushy/+/747960,\nan ERROR is logged when the GET of this Redfish endpoint fails\nprior to authentication, which causes concern for operators. Log\na debug message instead.\n\nChange-Id: I70f7a6ecbbe72cfa7b0a46206de9cebbd5aef23e\n(cherry picked from commit 07ca7f458b38654946f5e2e8c59fad24c24d61c1)\n(cherry picked from commit 234df21124dc787659dc68f8500031ddb5d2d915)\n(cherry picked from commit f4515bfc666d75fb31a7ccd71cddc041203f0a0f)\n""}, {'number': 2, 'created': '2021-06-09 18:21:27.000000000', 'files': ['sushy/connector.py', 'sushy/tests/unit/test_connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/039b44a112b16339a5849f415fad5d01cc2b048d', 'message': ""Don't log ERROR if GET of /redfish/v1/SessionService fails\n\nSimilar to https://review.opendev.org/c/openstack/sushy/+/747960,\nan ERROR is logged when the GET of this Redfish endpoint fails\nprior to authentication, which causes concern for operators. Log\na debug message instead.\n\nNote - backport removed log check in test_connector.py as HTTPStatus\nis not supported in py27.\n\nChange-Id: I70f7a6ecbbe72cfa7b0a46206de9cebbd5aef23e\n(cherry picked from commit 07ca7f458b38654946f5e2e8c59fad24c24d61c1)\n(cherry picked from commit 234df21124dc787659dc68f8500031ddb5d2d915)\n(cherry picked from commit f4515bfc666d75fb31a7ccd71cddc041203f0a0f)\n""}]",0,795559,039b44a112b16339a5849f415fad5d01cc2b048d,13,3,2,11655,,,0,"Don't log ERROR if GET of /redfish/v1/SessionService fails

Similar to https://review.opendev.org/c/openstack/sushy/+/747960,
an ERROR is logged when the GET of this Redfish endpoint fails
prior to authentication, which causes concern for operators. Log
a debug message instead.

Note - backport removed log check in test_connector.py as HTTPStatus
is not supported in py27.

Change-Id: I70f7a6ecbbe72cfa7b0a46206de9cebbd5aef23e
(cherry picked from commit 07ca7f458b38654946f5e2e8c59fad24c24d61c1)
(cherry picked from commit 234df21124dc787659dc68f8500031ddb5d2d915)
(cherry picked from commit f4515bfc666d75fb31a7ccd71cddc041203f0a0f)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/59/795559/2 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/connector.py', 'sushy/tests/unit/test_connector.py']",2,874961cf2675e6df756e1b53e84a9a350e06eba1,," @mock.patch.object(connector.LOG, 'debug', autospec=True) def test_access_error_service_session(self, mock_log): self.conn._auth.can_refresh_session.return_value = False self.request.return_value.status_code = http_client.FORBIDDEN self.request.return_value.json.side_effect = ValueError('no json') with self.assertRaisesRegex(exceptions.AccessError, 'unknown error') as cm: self.conn._op('GET', 'http://redfish/v1/SessionService') exc = cm.exception mock_log.assert_called_with( 'HTTP GET of SessionService failed %s, ' 'this is expected prior to authentication', 'HTTP GET ' 'http://redfish/v1/SessionService returned code ' 'HTTPStatus.FORBIDDEN. unknown error Extended information: ' 'none') self.assertEqual(http_client.FORBIDDEN, exc.status_code) def test_blocking_no_location_header(self): self.request.return_value.status_code = http_client.ACCEPTED self.request.return_value.headers = {'retry-after': 5} with self.assertRaisesRegex(exceptions.ConnectionError, 'status 202, but no Location header'): self.conn._op('POST', 'http://foo.bar', blocking=True)",,33,2
openstack%2Fsushy~stable%2Fussuri~I70f7a6ecbbe72cfa7b0a46206de9cebbd5aef23e,openstack/sushy,stable/ussuri,I70f7a6ecbbe72cfa7b0a46206de9cebbd5aef23e,Don't log ERROR if GET of /redfish/v1/SessionService fails,MERGED,2021-06-09 14:26:35.000000000,2021-06-10 08:00:10.000000000,2021-06-10 07:58:48.000000000,"[{'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-09 14:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/f4515bfc666d75fb31a7ccd71cddc041203f0a0f', 'message': ""Don't log ERROR if GET of /redfish/v1/SessionService fails\n\nSimilar to https://review.opendev.org/c/openstack/sushy/+/747960,\nan ERROR is logged when the GET of this Redfish endpoint fails\nprior to authentication, which causes concern for operators. Log\na debug message instead.\n\nChange-Id: I70f7a6ecbbe72cfa7b0a46206de9cebbd5aef23e\n(cherry picked from commit 07ca7f458b38654946f5e2e8c59fad24c24d61c1)\n(cherry picked from commit 234df21124dc787659dc68f8500031ddb5d2d915)\n""}, {'number': 2, 'created': '2021-06-09 17:55:55.000000000', 'files': ['sushy/connector.py', 'sushy/tests/unit/test_connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/25567472bb45a0e8ff3d45f871033cbbd122bcd5', 'message': 'Don\'t log ERROR if GET of /redfish/v1/SessionService fails\n\nSimilar to https://review.opendev.org/c/openstack/sushy/+/747960,\nan ERROR is logged when the GET of this Redfish endpoint fails\nprior to authentication, which causes concern for operators. Log\na debug message instead.\n\nNote - removed check for ""Extended information"" in log message in\nbackport as https://review.opendev.org/c/openstack/sushy/+/754009\nhas not been backported.\n\nChange-Id: I70f7a6ecbbe72cfa7b0a46206de9cebbd5aef23e\n(cherry picked from commit 07ca7f458b38654946f5e2e8c59fad24c24d61c1)\n(cherry picked from commit 234df21124dc787659dc68f8500031ddb5d2d915)\n'}]",0,795556,25567472bb45a0e8ff3d45f871033cbbd122bcd5,13,3,2,11655,,,0,"Don't log ERROR if GET of /redfish/v1/SessionService fails

Similar to https://review.opendev.org/c/openstack/sushy/+/747960,
an ERROR is logged when the GET of this Redfish endpoint fails
prior to authentication, which causes concern for operators. Log
a debug message instead.

Note - removed check for ""Extended information"" in log message in
backport as https://review.opendev.org/c/openstack/sushy/+/754009
has not been backported.

Change-Id: I70f7a6ecbbe72cfa7b0a46206de9cebbd5aef23e
(cherry picked from commit 07ca7f458b38654946f5e2e8c59fad24c24d61c1)
(cherry picked from commit 234df21124dc787659dc68f8500031ddb5d2d915)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/56/795556/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/connector.py', 'sushy/tests/unit/test_connector.py']",2,f4515bfc666d75fb31a7ccd71cddc041203f0a0f,," @mock.patch.object(connector.LOG, 'debug', autospec=True) def test_access_error_service_session(self, mock_log): self.conn._auth.can_refresh_session.return_value = False self.request.return_value.status_code = http_client.FORBIDDEN self.request.return_value.json.side_effect = ValueError('no json') with self.assertRaisesRegex(exceptions.AccessError, 'unknown error') as cm: self.conn._op('GET', 'http://redfish/v1/SessionService') exc = cm.exception mock_log.assert_called_with( 'HTTP GET of SessionService failed %s, ' 'this is expected prior to authentication', 'HTTP GET ' 'http://redfish/v1/SessionService returned code ' 'HTTPStatus.FORBIDDEN. unknown error Extended information: ' 'none') self.assertEqual(http_client.FORBIDDEN, exc.status_code) ",,26,2
openstack%2Fsushy~stable%2Fvictoria~I70f7a6ecbbe72cfa7b0a46206de9cebbd5aef23e,openstack/sushy,stable/victoria,I70f7a6ecbbe72cfa7b0a46206de9cebbd5aef23e,Don't log ERROR if GET of /redfish/v1/SessionService fails,MERGED,2021-06-09 14:24:54.000000000,2021-06-10 08:00:03.000000000,2021-06-10 07:58:33.000000000,"[{'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-09 14:24:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/234df21124dc787659dc68f8500031ddb5d2d915', 'message': ""Don't log ERROR if GET of /redfish/v1/SessionService fails\n\nSimilar to https://review.opendev.org/c/openstack/sushy/+/747960,\nan ERROR is logged when the GET of this Redfish endpoint fails\nprior to authentication, which causes concern for operators. Log\na debug message instead.\n\nChange-Id: I70f7a6ecbbe72cfa7b0a46206de9cebbd5aef23e\n(cherry picked from commit 07ca7f458b38654946f5e2e8c59fad24c24d61c1)\n""}, {'number': 2, 'created': '2021-06-09 17:19:10.000000000', 'files': ['sushy/connector.py', 'sushy/tests/unit/test_connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/3a60bf84084e565758e048910a09ba4cd5902f52', 'message': 'Don\'t log ERROR if GET of /redfish/v1/SessionService fails\n\nSimilar to https://review.opendev.org/c/openstack/sushy/+/747960,\nan ERROR is logged when the GET of this Redfish endpoint fails\nprior to authentication, which causes concern for operators. Log\na debug message instead.\n\nNote - removed check for ""Extended information"" in log message in\nbackport as https://review.opendev.org/c/openstack/sushy/+/754009\nhas not been backported.\n\nChange-Id: I70f7a6ecbbe72cfa7b0a46206de9cebbd5aef23e\n(cherry picked from commit 07ca7f458b38654946f5e2e8c59fad24c24d61c1)\n'}]",0,795554,3a60bf84084e565758e048910a09ba4cd5902f52,13,3,2,11655,,,0,"Don't log ERROR if GET of /redfish/v1/SessionService fails

Similar to https://review.opendev.org/c/openstack/sushy/+/747960,
an ERROR is logged when the GET of this Redfish endpoint fails
prior to authentication, which causes concern for operators. Log
a debug message instead.

Note - removed check for ""Extended information"" in log message in
backport as https://review.opendev.org/c/openstack/sushy/+/754009
has not been backported.

Change-Id: I70f7a6ecbbe72cfa7b0a46206de9cebbd5aef23e
(cherry picked from commit 07ca7f458b38654946f5e2e8c59fad24c24d61c1)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/54/795554/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/connector.py', 'sushy/tests/unit/test_connector.py']",2,234df21124dc787659dc68f8500031ddb5d2d915,," @mock.patch.object(connector.LOG, 'debug', autospec=True) def test_access_error_service_session(self, mock_log): self.conn._auth.can_refresh_session.return_value = False self.request.return_value.status_code = http_client.FORBIDDEN self.request.return_value.json.side_effect = ValueError('no json') with self.assertRaisesRegex(exceptions.AccessError, 'unknown error') as cm: self.conn._op('GET', 'http://redfish/v1/SessionService') exc = cm.exception mock_log.assert_called_with( 'HTTP GET of SessionService failed %s, ' 'this is expected prior to authentication', 'HTTP GET ' 'http://redfish/v1/SessionService returned code ' 'HTTPStatus.FORBIDDEN. unknown error Extended information: ' 'none') self.assertEqual(http_client.FORBIDDEN, exc.status_code) ",,26,2
openstack%2Ftripleo-quickstart-extras~master~I6a0d98889a2b0c9811bdada98372c7310f814322,openstack/tripleo-quickstart-extras,master,I6a0d98889a2b0c9811bdada98372c7310f814322,Add opendev.org to hosts file for IPA job,MERGED,2021-06-08 12:23:24.000000000,2021-06-10 07:58:24.000000000,2021-06-10 07:58:24.000000000,"[{'_account_id': 7414}, {'_account_id': 9914}, {'_account_id': 9976}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 31661}]","[{'number': 1, 'created': '2021-06-08 12:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/470e5b9d9da0852dbc99c3ebb5fa739df255e2f2', 'message': 'Add opendev.org to hosts file for IPA job\n\nFor cloud providers that do not resolve DNS names,\nadd the host record privided by the public\nname server for opendev.org.\n\nChange-Id: I6a0d98889a2b0c9811bdada98372c7310f814322\n'}, {'number': 2, 'created': '2021-06-08 16:26:51.000000000', 'files': ['roles/ipa-multinode/tasks/ipaserver-undercloud-setup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9e026254e703e59485eae304d2aa44eb05432c7b', 'message': 'Add opendev.org to hosts file for IPA job\n\nFor cloud providers that do not resolve DNS names,\nadd the host record privided by the public\nname server for opendev.org.\n\nChange-Id: I6a0d98889a2b0c9811bdada98372c7310f814322\n'}]",0,795310,9e026254e703e59485eae304d2aa44eb05432c7b,13,7,2,9976,,,0,"Add opendev.org to hosts file for IPA job

For cloud providers that do not resolve DNS names,
add the host record privided by the public
name server for opendev.org.

Change-Id: I6a0d98889a2b0c9811bdada98372c7310f814322
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/10/795310/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/ipa-multinode/tasks/ipaserver-undercloud-setup.yml'],1,470e5b9d9da0852dbc99c3ebb5fa739df255e2f2,ipa-opendev,"- name: Register A record resolved by public nameserver - opendev.org shell: > dig +short @{{ trunk_public_nameserver }} opendev.org register: opendev_record_public - name: Return A record resolved by public nameserver - opendev.org debug: msg: ""{{ opendev_record_public.stdout_lines[0] }}"" - '{{ opendev_record_public.stdout_lines[0] }} opendev.org'",,10,0
openstack%2Fdevstack~master~Ic177ce4f3accb462607084f17e317fee3f94681a,openstack/devstack,master,Ic177ce4f3accb462607084f17e317fee3f94681a,[OVN] PUBLIC_NETWORK_GATEWAY defaults to public IPv4 subnet GW,ABANDONED,2021-06-01 12:36:06.000000000,2021-06-10 07:52:00.000000000,,"[{'_account_id': 6773}, {'_account_id': 9542}, {'_account_id': 11952}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-01 12:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ba1fd5fae25fcf3d549126845cf7cd1f06289812', 'message': '[OVN] PUBLIC_NETWORK_GATEWAY defaults to public IPv4 subnet GW\n\nIf FLOATING_RANGE and OVN_L3_CREATE_PUBLIC_NETWORK are set, a new\nsubnet is created in the external network.\n\nThe external gateway used in this subnet will be set in the public\nbridge external interface. If PUBLIC_NETWORK_GATEWAY is not defined,\na default value will be assigned by Neutron.\n\nIn case of IPv6 networks, IPV6_PUBLIC_NETWORK_GATEWAY must be defined.\n\nCloses-Bug: #1930360\n\nChange-Id: Ic177ce4f3accb462607084f17e317fee3f94681a\n'}, {'number': 2, 'created': '2021-06-02 07:28:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b209bd41aa27753fbac994e64d2278f8b166a151', 'message': '[OVN] PUBLIC_NETWORK_GATEWAY defaults to public IPv4 subnet GW\n\nIf FLOATING_RANGE and OVN_L3_CREATE_PUBLIC_NETWORK are set, a new\nsubnet is created in the external network.\n\nThe external gateway used in this subnet will be set in the public\nbridge external interface. If PUBLIC_NETWORK_GATEWAY is not defined,\na default value will be assigned by Neutron.\n\nIn case of IPv6 networks, IPV6_PUBLIC_NETWORK_GATEWAY must be defined.\n\nCloses-Bug: #1930360\n\nChange-Id: Ic177ce4f3accb462607084f17e317fee3f94681a\n'}, {'number': 3, 'created': '2021-06-02 15:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7656ed26531f2248d30d7bedc8fe1f108ec0443c', 'message': '[OVN] PUBLIC_NETWORK_GATEWAY defaults to public IPv4 subnet GW\n\nIf FLOATING_RANGE and OVN_L3_CREATE_PUBLIC_NETWORK are set, a new\nsubnet is created in the external network.\n\nThe external gateway used in this subnet will be set in the public\nbridge external interface. If PUBLIC_NETWORK_GATEWAY is not defined,\na default value will be assigned by Neutron.\n\nIn case of IPv6 networks, IPV6_PUBLIC_NETWORK_GATEWAY must be defined.\n\nCloses-Bug: #1930360\n\nChange-Id: Ic177ce4f3accb462607084f17e317fee3f94681a\n'}, {'number': 4, 'created': '2021-06-07 11:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/eaba3a5d7e18222013e449eab5c5d2aa7ba62634', 'message': '[OVN] PUBLIC_NETWORK_GATEWAY defaults to public IPv4 subnet GW\n\nIf FLOATING_RANGE and OVN_L3_CREATE_PUBLIC_NETWORK are set, a new\nsubnet is created in the external network.\n\nThe external gateway used in this subnet will be set in the public\nbridge external interface. If PUBLIC_NETWORK_GATEWAY is not defined,\na default value will be assigned by Neutron.\n\nCloses-Bug: #1930360\n\nChange-Id: Ic177ce4f3accb462607084f17e317fee3f94681a\n'}, {'number': 5, 'created': '2021-06-08 12:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b56abcfbe384107390f5935f6c97e56ec7cf49f5', 'message': '[OVN] PUBLIC_NETWORK_GATEWAY defaults to public IPv4 subnet GW\n\nIf FLOATING_RANGE and OVN_L3_CREATE_PUBLIC_NETWORK are set, a new\nsubnet is created in the external network.\n\nThe external gateway used in this subnet will be set in the public\nbridge external interface. If PUBLIC_NETWORK_GATEWAY is not defined,\na default value will be assigned by Neutron.\n\nCloses-Bug: #1930360\n\nChange-Id: Ic177ce4f3accb462607084f17e317fee3f94681a\n'}, {'number': 6, 'created': '2021-06-09 16:57:39.000000000', 'files': ['lib/neutron_plugins/ovn_agent', 'lib/neutron-legacy', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e90d3d07ce8e9536138d75e84e881200697d9855', 'message': '[OVN] PUBLIC_NETWORK_GATEWAY defaults to public IPv4 subnet GW\n\nIf FLOATING_RANGE and OVN_L3_CREATE_PUBLIC_NETWORK are set, a new\nsubnet is created in the external network.\n\nThe external gateway used in this subnet will be set in the public\nbridge external interface. If PUBLIC_NETWORK_GATEWAY is not defined,\na default value will be assigned by Neutron.\n\nCloses-Bug: #1930360\n\nChange-Id: Ic177ce4f3accb462607084f17e317fee3f94681a\n'}]",14,793962,e90d3d07ce8e9536138d75e84e881200697d9855,45,8,6,16688,,,0,"[OVN] PUBLIC_NETWORK_GATEWAY defaults to public IPv4 subnet GW

If FLOATING_RANGE and OVN_L3_CREATE_PUBLIC_NETWORK are set, a new
subnet is created in the external network.

The external gateway used in this subnet will be set in the public
bridge external interface. If PUBLIC_NETWORK_GATEWAY is not defined,
a default value will be assigned by Neutron.

Closes-Bug: #1930360

Change-Id: Ic177ce4f3accb462607084f17e317fee3f94681a
",git fetch https://review.opendev.org/openstack/devstack refs/changes/62/793962/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/neutron', 'lib/neutron_plugins/ovn_agent', 'lib/neutron-legacy', 'stack.sh']",4,ba1fd5fae25fcf3d549126845cf7cd1f06289812,bug/1930360,"if is_service_enabled ovn-controller ovn-controller-vtep; then echo_summary ""Configure OVN services"" configure_ovn_services fi ",,37,5
openstack%2Fneutron-lib~master~I7a674dacab343b89f101f83a78243ec971ce9712,openstack/neutron-lib,master,I7a674dacab343b89f101f83a78243ec971ce9712,Add network parameter to some of the ML2 API methods,MERGED,2021-01-13 13:06:41.000000000,2021-06-10 06:17:30.000000000,2021-04-23 10:33:39.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-13 13:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/2b355abf18c99b243940dbe2ec9700ac88a55c5d', 'message': 'Add network parameter to some of the ML2 API methods\n\nFor networks with enabled vlan transparency, get_mtu() method of the\ntype drivers should return MTU value lowered by 4 bytes from the\nstandard value. Those 4 bytes are needed for potentially additional vlan\nheader which user will add if vlan interface will be configured in such\nnetwork on the instances.\n\nTo be able to include that, get_mtu() method needs to know if network\nhas enabled vlan_transparency.\nThis patch adds optional ""network"" attribute to be passed to the\nget_mtu() method but also to reserve_provider_segment() and\nallocate_tenant_segment() methods of the base type driver classes.\n\nMethods reserve_provider_segment() and allocate_tenant_segment() needs\nto have this network dict passed also as those methods are calling\nget_mtu() method in such type drivers like e.g. vlan or flat.\n\nRelated-bug: #1906318\nChange-Id: I7a674dacab343b89f101f83a78243ec971ce9712\n'}, {'number': 2, 'created': '2021-01-14 11:55:59.000000000', 'files': ['releasenotes/notes/add-network-to-get_mtu-ml2-plugin-api-d5c57395f1a31845.yaml', 'neutron_lib/plugins/ml2/api.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/5adf98e857a2ddb923ba0d47a042027122962a5a', 'message': 'Add network parameter to some of the ML2 API methods\n\nFor networks with enabled vlan transparency, get_mtu() method of the\ntype drivers should return MTU value lowered by 4 bytes from the\nstandard value. Those 4 bytes are needed for potentially additional vlan\nheader which user will add if vlan interface will be configured in such\nnetwork on the instances.\n\nTo be able to include that, get_mtu() method needs to know if network\nhas enabled vlan_transparency.\nThis patch adds optional ""network"" attribute to be passed to the\nget_mtu() method but also to reserve_provider_segment() and\nallocate_tenant_segment() methods of the base type driver classes.\n\nMethods reserve_provider_segment() and allocate_tenant_segment() needs\nto have this network dict passed also as those methods are calling\nget_mtu() method in such type drivers like e.g. vlan or flat.\n\nRelated-bug: #1906318\nChange-Id: I7a674dacab343b89f101f83a78243ec971ce9712\n'}]",3,770612,5adf98e857a2ddb923ba0d47a042027122962a5a,16,8,2,11975,,,0,"Add network parameter to some of the ML2 API methods

For networks with enabled vlan transparency, get_mtu() method of the
type drivers should return MTU value lowered by 4 bytes from the
standard value. Those 4 bytes are needed for potentially additional vlan
header which user will add if vlan interface will be configured in such
network on the instances.

To be able to include that, get_mtu() method needs to know if network
has enabled vlan_transparency.
This patch adds optional ""network"" attribute to be passed to the
get_mtu() method but also to reserve_provider_segment() and
allocate_tenant_segment() methods of the base type driver classes.

Methods reserve_provider_segment() and allocate_tenant_segment() needs
to have this network dict passed also as those methods are calling
get_mtu() method in such type drivers like e.g. vlan or flat.

Related-bug: #1906318
Change-Id: I7a674dacab343b89f101f83a78243ec971ce9712
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/12/770612/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/plugins/ml2/api.py'],1,2b355abf18c99b243940dbe2ec9700ac88a55c5d,bug/1906318," def get_mtu(self, physical, network=None): Returns the mtu for the network based on the config values, the network type and the network attributes. def reserve_provider_segment(self, session, segment, filters=None, network=None): :param network: network parameters dictionary def allocate_tenant_segment(self, session, filters=None, network=None): :param network: network parameters dictionary def reserve_provider_segment(self, context, segment, filters=None, network=None): :param network: network parameters dictionary def allocate_tenant_segment(self, context, filters=None, network=None): :param network: network parameters dictionary"," def get_mtu(self, physical): Returns the mtu for the network based on the config values and the network type. def reserve_provider_segment(self, session, segment, filters=None): def allocate_tenant_segment(self, session, filters=None): def reserve_provider_segment(self, context, segment, filters=None): def allocate_tenant_segment(self, context, filters=None):",13,7
openstack%2Fneutron~master~I3a0e83c1ca273582233fb7788c81e4ba298bc6d0,openstack/neutron,master,I3a0e83c1ca273582233fb7788c81e4ba298bc6d0,"Fix ""config-routed-networks"" document errors",MERGED,2021-06-09 15:46:16.000000000,2021-06-10 06:07:14.000000000,2021-06-10 06:04:51.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32029}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-06-09 15:46:16.000000000', 'files': ['doc/source/admin/config-routed-networks.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c0846c6518811c02435ba32cabd32592cea0018f', 'message': 'Fix ""config-routed-networks"" document errors\n\nFixed ""config-routed-networks"" document errors reported in [1].\n\nRelated-Bug: #1923592\n\n[1]https://review.opendev.org/c/openstack/neutron/+/791178\n\nChange-Id: I3a0e83c1ca273582233fb7788c81e4ba298bc6d0\n'}]",0,795581,c0846c6518811c02435ba32cabd32592cea0018f,11,5,1,16688,,,0,"Fix ""config-routed-networks"" document errors

Fixed ""config-routed-networks"" document errors reported in [1].

Related-Bug: #1923592

[1]https://review.opendev.org/c/openstack/neutron/+/791178

Change-Id: I3a0e83c1ca273582233fb7788c81e4ba298bc6d0
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/795581/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/config-routed-networks.rst'],1,c0846c6518811c02435ba32cabd32592cea0018f,bug/1923592,"a router. To access to the routed provider network, it should be connectedassociated to the segments. In a deployment without routed provided networks,gateway port fixed IP CIDR. For each other subnet not belonging to the port's fixed IP address, an onlink route is created. These routes use the gateway port","a router. To access to the router provider network, it should be connectedassociated to the segments. In a deployment without router provided networks,gateway port fixed IP CIDR. For each other subnet no belonging to the port fixed IP address, a onlink route is created. These routes use the gateway port",4,4
openstack%2Fblazar-tempest-plugin~master~I1db5597ab78d19b7dac5de895745079ea1094666,openstack/blazar-tempest-plugin,master,I1db5597ab78d19b7dac5de895745079ea1094666,Changed minversion in tox to 3.18.0,MERGED,2021-06-10 01:38:04.000000000,2021-06-10 05:52:21.000000000,2021-06-10 05:51:15.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-10 01:38:04.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/blazar-tempest-plugin/commit/362c6c520902baadf54d91ca1e0110ccc98e230d', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I1db5597ab78d19b7dac5de895745079ea1094666\n""}]",0,795718,362c6c520902baadf54d91ca1e0110ccc98e230d,7,2,1,32291,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I1db5597ab78d19b7dac5de895745079ea1094666
",git fetch https://review.opendev.org/openstack/blazar-tempest-plugin refs/changes/18/795718/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,362c6c520902baadf54d91ca1e0110ccc98e230d,,minversion = 3.18.0allowlist_externals = make,minversion = 3.1.1whitelist_externals = make,2,2
openstack%2Ffreezer-tempest-plugin~master~I1538d5c1ec634ba6971bf160c6f066115f108551,openstack/freezer-tempest-plugin,master,I1538d5c1ec634ba6971bf160c6f066115f108551,Update some  test cases for schedule,MERGED,2021-06-10 01:54:06.000000000,2021-06-10 03:23:09.000000000,2021-06-10 03:23:09.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-10 01:54:06.000000000', 'files': ['freezer_tempest_plugin/tests/scheduler/test_freezer_scheduler.py'], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/f6f9250e62b9fa0b62285a666e931ef7ad070e8a', 'message': 'Update some  test cases for schedule\n\nUpdate  some test cases for schedule.\n\nChange-Id: I1538d5c1ec634ba6971bf160c6f066115f108551\n'}]",0,795721,f6f9250e62b9fa0b62285a666e931ef7ad070e8a,6,2,1,21069,,,0,"Update some  test cases for schedule

Update  some test cases for schedule.

Change-Id: I1538d5c1ec634ba6971bf160c6f066115f108551
",git fetch https://review.opendev.org/openstack/freezer-tempest-plugin refs/changes/21/795721/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer_tempest_plugin/tests/scheduler/test_freezer_scheduler.py'],1,f6f9250e62b9fa0b62285a666e931ef7ad070e8a,," @decorators.attr(type=""gate"") def test_freezer_schedulers_restart(self): args = ['freezer-scheduler', 'restart'] self.run_subprocess(args, ""Freezer scheduler restart."") @decorators.attr(type=""gate"") def test_freezer_schedulers_start(self): args = ['freezer-scheduler', 'start'] self.run_subprocess(args, ""Freezer scherduler start"")","# @decorators.attr(type=""gate"") # def test_freezer_schedulers_restart(self): # args = ['freezer-scheduler', 'restart'] # self.run_subprocess(args, ""Freezer scheduler restart."")# @decorators.attr(type=""gate"") # def test_freezer_schedulers_start(self): # args = ['freezer-scheduler', 'start'] # self.run_subprocess(args, ""Freezer scherduler start"")",8,8
openstack%2Ftripleo-heat-templates~master~If9c68fe2c4b6ea4f6a9d74460415600a70256ec5,openstack/tripleo-heat-templates,master,If9c68fe2c4b6ea4f6a9d74460415600a70256ec5,Update rhsm repo examples for RHEL8 deployments,MERGED,2021-06-08 11:06:06.000000000,2021-06-10 03:13:38.000000000,2021-06-10 03:13:38.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-06-08 11:06:06.000000000', 'files': ['environments/rhsm.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b7fe787584f36c522f2f35233ca36508a160e779', 'message': 'Update rhsm repo examples for RHEL8 deployments\n\nThis patch updates the repos used in the rhsm template from the rhel 7\nexamples to rhel8 examples as per Red Hats deployment guide, this\nsimlply makes the examples more accurate.\n\nCloses-Bug: #1931194\nChange-Id: If9c68fe2c4b6ea4f6a9d74460415600a70256ec5\n'}]",0,795296,b7fe787584f36c522f2f35233ca36508a160e779,9,5,1,32114,,,0,"Update rhsm repo examples for RHEL8 deployments

This patch updates the repos used in the rhsm template from the rhel 7
examples to rhel8 examples as per Red Hats deployment guide, this
simlply makes the examples more accurate.

Closes-Bug: #1931194
Change-Id: If9c68fe2c4b6ea4f6a9d74460415600a70256ec5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/96/795296/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/rhsm.yaml'],1,b7fe787584f36c522f2f35233ca36508a160e779,bug/1931194,# - rhel-8-for-x86_64-baseos-eus-rpms # - rhel-8-for-x86_64-appstream-eus-rpms # - rhel-8-for-x86_64-highavailability-eus-rpms # - ansible-2.9-for-rhel-8-x86_64-rpms # - advanced-virt-for-rhel-8-x86_64-rpms # - openstack-16.1-for-rhel-8-x86_64-rpms # - fast-datapath-for-rhel-8-x86_64-rpms # - rhceph-4-tools-for-rhel-8-x86_64-rpms # - rhceph-4-mon-for-rhel-8-x86_64-rpms# rhsm_release: '8.2'# - rhel-8-for-x86_64-baseos-eus-rpms # - rhel-8-for-x86_64-appstream-eus-rpms # - rhel-8-for-x86_64-highavailability-eus-rpms # - ansible-2.9-for-rhel-8-x86_64-rpms # - advanced-virt-for-rhel-8-x86_64-rpms # - openstack-16.1-for-rhel-8-x86_64-rpms # - fast-datapath-for-rhel-8-x86_64-rpms # - rhceph-4-tools-for-rhel-8-x86_64-rpms # - rhceph-4-mon-for-rhel-8-x86_64-rpms# rhsm_release: '8.2',# - rhel-7-server-rpms # - rhel-7-server-extras-rpms # - rhel-ha-for-rhel-7-server-rpms # - rhel-7-server-openstack-13-rpms # - rhel-7-server-rhceph-3-mon-rpms # - rhel-7-server-rhceph-3-tools-rpms# rhsm_release: '8.1'# - rhel-7-server-rpms # - rhel-7-server-extras-rpms # - rhel-ha-for-rhel-7-server-rpms # - rhel-7-server-openstack-13-rpms # - rhel-7-server-rhceph-3-osd-rpms # - rhel-7-server-rhceph-3-mon-rpms # - rhel-7-server-rhceph-3-tools-rpms# rhsm_release: '8.1',20,15
openstack%2Frequirements~master~I1b8df63bfbae5e69263b6a0c26688fdcfbb44049,openstack/requirements,master,I1b8df63bfbae5e69263b6a0c26688fdcfbb44049,update sqlalchemy to 1.4,MERGED,2021-04-27 18:19:19.000000000,2021-06-10 02:50:41.000000000,2021-06-10 02:49:08.000000000,"[{'_account_id': 9708}, {'_account_id': 14288}, {'_account_id': 16643}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-27 18:19:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b3e8ca510799b2a7e9ee25f2f3b976a42d2a37d5', 'message': 'update sqlalchemy to 1.4\n\nChange-Id: I1b8df63bfbae5e69263b6a0c26688fdcfbb44049\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 2, 'created': '2021-04-28 13:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/5ddd714c5f4a32ff8c074199398ee7ee15e0d943', 'message': 'update sqlalchemy to 1.4\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/788488\nChange-Id: I1b8df63bfbae5e69263b6a0c26688fdcfbb44049\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 3, 'created': '2021-04-29 17:46:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/72fe7d0012e08a4edc7ed42175afb4da8052d8c5', 'message': 'update sqlalchemy to 1.4\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/788488\nChange-Id: I1b8df63bfbae5e69263b6a0c26688fdcfbb44049\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 4, 'created': '2021-05-05 08:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/9393aa5167ab3da38c64066f51f47b2619878069', 'message': 'update sqlalchemy to 1.4\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/788488\nChange-Id: I1b8df63bfbae5e69263b6a0c26688fdcfbb44049\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 5, 'created': '2021-05-05 16:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/2501ad22519d7900e9e64293c91ecff81e7c8d2b', 'message': 'update sqlalchemy to 1.4\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/788488\nDepends-On: https://review.opendev.org/c/openstack/nova/+/788471\nChange-Id: I1b8df63bfbae5e69263b6a0c26688fdcfbb44049\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 6, 'created': '2021-05-05 16:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/e041df720dc6bfc16a8d885b75784df0fb643685', 'message': 'update sqlalchemy to 1.4\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/788488\nDepends-On: https://review.opendev.org/c/openstack/nova/+/788471\nDepends-On: https://review.opendev.org/c/openstack/placement/+/789921\nChange-Id: I1b8df63bfbae5e69263b6a0c26688fdcfbb44049\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 7, 'created': '2021-05-07 11:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c8b3c4139299fe55dc2a6417b8a15244be9395b2', 'message': 'update sqlalchemy to 1.4\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/788488\nDepends-On: https://review.opendev.org/c/openstack/nova/+/788471\nDepends-On: https://review.opendev.org/c/openstack/placement/+/789921\nDepends-On: https://review.opendev.org/c/openstack/masakari/+/790216\nChange-Id: I1b8df63bfbae5e69263b6a0c26688fdcfbb44049\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 8, 'created': '2021-05-11 18:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/7662698908e28de1caacec58e88a117f7bbab9ab', 'message': 'update sqlalchemy to 1.4\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/788488\nDepends-On: https://review.opendev.org/c/openstack/nova/+/788471\nDepends-On: https://review.opendev.org/c/openstack/placement/+/789921\nDepends-On: https://review.opendev.org/c/openstack/masakari/+/790216\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/790797\nChange-Id: I1b8df63bfbae5e69263b6a0c26688fdcfbb44049\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 9, 'created': '2021-05-22 19:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/7781649a6844915ebec52012343a1237ef870cdb', 'message': 'update sqlalchemy to 1.4\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/788488\nDepends-On: https://review.opendev.org/c/openstack/nova/+/788471\nDepends-On: https://review.opendev.org/c/openstack/placement/+/789921\nDepends-On: https://review.opendev.org/c/openstack/masakari/+/790216\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/790797\nChange-Id: I1b8df63bfbae5e69263b6a0c26688fdcfbb44049\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 10, 'created': '2021-05-24 15:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/594720881b5a4e5c52dacf8b1a7e3a0d62f42eea', 'message': 'update sqlalchemy to 1.4\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/788488\nDepends-On: https://review.opendev.org/c/openstack/nova/+/788471\nDepends-On: https://review.opendev.org/c/openstack/placement/+/789921\nDepends-On: https://review.opendev.org/c/openstack/masakari/+/790216\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/790797\nChange-Id: I1b8df63bfbae5e69263b6a0c26688fdcfbb44049\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 11, 'created': '2021-06-04 16:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/46e74eb8ecfd1dd0e36c932b5626258151439efb', 'message': 'update sqlalchemy to 1.4\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/788488\nDepends-On: https://review.opendev.org/c/openstack/nova/+/788471\nDepends-On: https://review.opendev.org/c/openstack/placement/+/789921\nDepends-On: https://review.opendev.org/c/openstack/masakari/+/790216\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/790797\nDepends-On: https://review.opendev.org/c/openstack/keystone/+/794862\nChange-Id: I1b8df63bfbae5e69263b6a0c26688fdcfbb44049\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 12, 'created': '2021-06-04 16:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/455901a78e715ea6d2f65129bb3997a5f0923723', 'message': 'update sqlalchemy to 1.4\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/788488\nDepends-On: https://review.opendev.org/c/openstack/nova/+/788471\nDepends-On: https://review.opendev.org/c/openstack/placement/+/789921\nDepends-On: https://review.opendev.org/c/openstack/masakari/+/790216\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/790797\nDepends-On: https://review.opendev.org/c/openstack/keystone/+/794862\nChange-Id: I1b8df63bfbae5e69263b6a0c26688fdcfbb44049\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 13, 'created': '2021-06-09 10:07:40.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/dc86260b283dedc3076d7873f5f031f45e3e3671', 'message': 'update sqlalchemy to 1.4\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/788488\nDepends-On: https://review.opendev.org/c/openstack/nova/+/788471\nDepends-On: https://review.opendev.org/c/openstack/placement/+/789921\nDepends-On: https://review.opendev.org/c/openstack/masakari/+/790216\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/790797\nDepends-On: https://review.opendev.org/c/openstack/keystone/+/794862\nChange-Id: I1b8df63bfbae5e69263b6a0c26688fdcfbb44049\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,788339,dc86260b283dedc3076d7873f5f031f45e3e3671,128,7,13,14288,,,0,"update sqlalchemy to 1.4

Depends-On: https://review.opendev.org/c/openstack/releases/+/788488
Depends-On: https://review.opendev.org/c/openstack/nova/+/788471
Depends-On: https://review.opendev.org/c/openstack/placement/+/789921
Depends-On: https://review.opendev.org/c/openstack/masakari/+/790216
Depends-On: https://review.opendev.org/c/openstack/cinder/+/790797
Depends-On: https://review.opendev.org/c/openstack/keystone/+/794862
Change-Id: I1b8df63bfbae5e69263b6a0c26688fdcfbb44049
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/39/788339/7 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b3e8ca510799b2a7e9ee25f2f3b976a42d2a37d5,sqlalchemy-1.4,SQLAlchemy===1.4.11,SQLAlchemy===1.3.23,1,1
openstack%2Fnova~stable%2Ftrain~I7572b3ce733dc9cff12b30f791c5a001f28ca0ad,openstack/nova,stable/train,I7572b3ce733dc9cff12b30f791c5a001f28ca0ad,Change get console auth token policy to RULE_ADMIN_OR_OWNER,ABANDONED,2021-06-09 08:21:07.000000000,2021-06-10 01:50:51.000000000,,"[{'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 08:21:07.000000000', 'files': ['nova/policies/console_auth_tokens.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b9189595f9a8888541b76cf977dc8fa0d55c7d23', 'message': 'Change get console auth token policy to RULE_ADMIN_OR_OWNER\n\nChange-Id: I7572b3ce733dc9cff12b30f791c5a001f28ca0ad\n'}]",0,795496,b9189595f9a8888541b76cf977dc8fa0d55c7d23,8,2,1,31412,,,0,"Change get console auth token policy to RULE_ADMIN_OR_OWNER

Change-Id: I7572b3ce733dc9cff12b30f791c5a001f28ca0ad
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/795496/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/policies/console_auth_tokens.py'],1,b9189595f9a8888541b76cf977dc8fa0d55c7d23,," base.RULE_ADMIN_OR_OWNER,"," base.RULE_ADMIN_API,",1,1
openstack%2Fpython-tripleoclient~master~Ibee036e59577cc6e2888ff16deec2878f47c9994,openstack/python-tripleoclient,master,Ibee036e59577cc6e2888ff16deec2878f47c9994,Switch to unittest mock,ABANDONED,2020-11-09 03:45:12.000000000,2021-06-10 01:29:07.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-09 03:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/277dd2721f73bc7dbb7765793adb643e7d0a1a73', 'message': ""Switch to unittest mock\n\nPython3 have a standard library for mock in the unittest module,\nlet's drop the mock requirement and switch tests to unittest mock.\n\nChange-Id: Ibee036e59577cc6e2888ff16deec2878f47c9994\n""}, {'number': 2, 'created': '2020-11-09 05:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/45d06a735a1aa543554eb4a9c5a15e2c2327403a', 'message': ""Switch to unittest mock\n\nPython3 have a standard library for mock in the unittest module,\nlet's drop the mock requirement and switch tests to unittest mock.\n\nChange-Id: Ibee036e59577cc6e2888ff16deec2878f47c9994\n""}, {'number': 3, 'created': '2020-11-09 10:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/47e77ea9be4725edfbba8df759b822c71c0f3089', 'message': ""Switch to unittest mock\n\nPython3 have a standard library for mock in the unittest module,\nlet's drop the mock requirement and switch tests to unittest mock.\n\nChange-Id: Ibee036e59577cc6e2888ff16deec2878f47c9994\n""}, {'number': 4, 'created': '2021-05-11 02:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9f840cbcd42cdb622c4c4f8f4ff9895458237c8f', 'message': ""Switch to unittest mock\n\nPython3 have a standard library for mock in the unittest module,\nlet's drop the mock requirement and switch tests to unittest mock.\n\nChange-Id: Ibee036e59577cc6e2888ff16deec2878f47c9994\n""}, {'number': 5, 'created': '2021-05-11 02:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/39f9cfc486a8163b695b31aa4444f010680ab1ee', 'message': ""Switch to unittest mock\n\nPython3 have a standard library for mock in the unittest module,\nlet's drop the mock requirement and switch tests to unittest mock.\n\nChange-Id: Ibee036e59577cc6e2888ff16deec2878f47c9994\n""}, {'number': 6, 'created': '2021-05-11 08:21:14.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/test_overcloud_export.py', 'tripleoclient/tests/v2/overcloud_delete/test_overcloud_delete.py', 'tripleoclient/tests/v2/overcloud_support/test_overcloud_support.py', 'tripleoclient/tests/v1/test_container_image.py', 'tripleoclient/tests/workflows/test_parameters.py', 'tripleoclient/tests/workflows/test_baremetal.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py', 'tripleoclient/tests/v1/baremetal/fakes.py', 'tripleoclient/tests/v1/test_overcloud_profiles.py', 'tripleoclient/tests/v2/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/v1/overcloud_backup/test_backup.py', 'tripleoclient/tests/test_plugin.py', 'tripleoclient/tests/v1/test_overcloud_export_ceph.py', 'tripleoclient/tests/v1/overcloud_external_update/test_overcloud_external_update.py', 'tripleoclient/tests/workflows/test_deployment.py', 'tripleoclient/tests/v1/overcloud_netenv_validate/test_overcloud_netenv_validate.py', 'tripleoclient/tests/v1/test_overcloud_raid.py', 'tripleoclient/tests/v1/overcloud_node/fakes.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/tests/test_export.py', 'tripleoclient/tests/v1/overcloud_config/test_overcloud_config.py', 'tripleoclient/tests/v1/undercloud/minion/test_install.py', 'tripleoclient/tests/v1/undercloud/test_backup.py', 'tripleoclient/tests/v1/test_overcloud_parameters.py', 'tripleoclient/tests/v1/overcloud_external_upgrade/test_overcloud_external_upgrade.py', 'tripleoclient/tests/v1/test_overcloud_admin.py', 'tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py', 'tripleoclient/tests/v1/undercloud/minion/test_config.py', 'tripleoclient/tests/v1/test_plugin.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_upgrade.py', 'tripleoclient/tests/v2/container_image/test_tripleo_container_image.py', 'tripleoclient/tests/v1/overcloud_deploy/fakes.py', 'tripleoclient/tests/v1/test_overcloud_bios.py', 'tripleoclient/tests/v1/test_tripleo_validator.py', 'tripleoclient/tests/v1/undercloud/test_config.py', 'tripleoclient/tests/v1/overcloud_roles/test_overcloud_roles.py', 'tripleoclient/tests/fakes.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py', 'tripleoclient/tests/test_overcloud_credentials.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6496c8adb76ae18fa0c3833f8e9600f42ff19df0', 'message': ""Switch to unittest mock\n\nPython3 have a standard library for mock in the unittest module,\nlet's drop the mock requirement and switch tests to unittest mock.\n\nChange-Id: Ibee036e59577cc6e2888ff16deec2878f47c9994\n""}]",182,761851,6496c8adb76ae18fa0c3833f8e9600f42ff19df0,28,3,6,32029,,,0,"Switch to unittest mock

Python3 have a standard library for mock in the unittest module,
let's drop the mock requirement and switch tests to unittest mock.

Change-Id: Ibee036e59577cc6e2888ff16deec2878f47c9994
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/51/761851/6 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/test_overcloud_export.py', 'tripleoclient/tests/v2/overcloud_delete/test_overcloud_delete.py', 'tripleoclient/tests/v2/overcloud_support/test_overcloud_support.py', 'tripleoclient/tests/v1/test_overcloud_plan.py', 'tripleoclient/tests/v1/test_container_image.py', 'tripleoclient/tests/workflows/test_parameters.py', 'tripleoclient/tests/workflows/test_baremetal.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'tripleoclient/tests/workflows/test_base.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'tripleoclient/tests/v1/baremetal/fakes.py', 'tripleoclient/tests/v1/test_overcloud_profiles.py', 'tripleoclient/tests/v2/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/v1/overcloud_backup/test_backup.py', 'tripleoclient/tests/test_plugin.py', 'tripleoclient/tests/v1/test_overcloud_export_ceph.py', 'tripleoclient/tests/v1/overcloud_external_update/test_overcloud_external_update.py', 'tripleoclient/tests/workflows/test_plan_management.py', 'tripleoclient/tests/workflows/test_deployment.py', 'tripleoclient/tests/v1/overcloud_netenv_validate/test_overcloud_netenv_validate.py', 'tripleoclient/tests/v1/test_overcloud_raid.py', 'tripleoclient/tests/v1/overcloud_node/fakes.py', 'tripleoclient/tests/v1/test_overcloud_plan_roles.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/tests/test_export.py', 'tripleoclient/tests/v1/overcloud_config/test_overcloud_config.py', 'tripleoclient/tests/v1/undercloud/minion/test_install.py', 'tripleoclient/tests/v1/undercloud/test_backup.py', 'tripleoclient/tests/v1/test_overcloud_parameters.py', 'tripleoclient/tests/v1/overcloud_external_upgrade/test_overcloud_external_upgrade.py', 'tripleoclient/tests/v1/test_overcloud_admin.py', 'tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py', 'tripleoclient/tests/v1/undercloud/minion/test_config.py', 'tripleoclient/tests/v1/test_plugin.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_upgrade.py', 'tripleoclient/tests/v2/container_image/test_tripleo_container_image.py', 'tripleoclient/tests/v1/overcloud_deploy/fakes.py', 'tripleoclient/tests/v1/test_overcloud_bios.py', 'tripleoclient/tests/v1/undercloud/test_config.py', 'tripleoclient/tests/v1/overcloud_roles/test_overcloud_roles.py', 'tripleoclient/tests/fakes.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py', 'tripleoclient/tests/test_overcloud_credentials.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py']",47,277dd2721f73bc7dbb7765793adb643e7d0a1a73,mock,from unittest import mock,import mock,47,47
openstack%2Fkeystone~master~I25eae9e6de8534b40493caf23cc49602a44efd26,openstack/keystone,master,I25eae9e6de8534b40493caf23cc49602a44efd26,Make DB queries compatible with SQLAlchemy 1.4.x,MERGED,2021-06-04 16:24:47.000000000,2021-06-10 01:25:10.000000000,2021-06-10 01:23:35.000000000,"[{'_account_id': 9373}, {'_account_id': 14288}, {'_account_id': 16465}, {'_account_id': 16688}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-04 16:24:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/98891d711a1d6948cf64c71ea85077c2e2e040e2', 'message': 'Make DB queries compatible with SQLAlchemy 1.4.x\n\nChange-Id: I25eae9e6de8534b40493caf23cc49602a44efd26\nCloses-Bug: #1930908\n'}, {'number': 2, 'created': '2021-06-04 19:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/86dece1c0c4281051b657ffccd38d64dd35455a7', 'message': 'Make DB queries compatible with SQLAlchemy 1.4.x\n\nChange-Id: I25eae9e6de8534b40493caf23cc49602a44efd26\nCloses-Bug: #1930908\n'}, {'number': 3, 'created': '2021-06-07 13:22:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e2266e8ff37d4b4c29b2fe372f62ee50c2c73dea', 'message': 'Make DB queries compatible with SQLAlchemy 1.4.x\n\nChange-Id: I25eae9e6de8534b40493caf23cc49602a44efd26\nCloses-Bug: #1930908\n'}, {'number': 4, 'created': '2021-06-07 13:23:49.000000000', 'files': ['keystone/common/sql/core.py', 'keystone/identity/shadow_backends/sql.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/2f8625efbdd5ceba2c5d7b5444a8e263547a1f9f', 'message': 'Make DB queries compatible with SQLAlchemy 1.4.x\n\nChange-Id: I25eae9e6de8534b40493caf23cc49602a44efd26\nCloses-Bug: #1930908\n'}]",3,794862,2f8625efbdd5ceba2c5d7b5444a8e263547a1f9f,32,7,4,16688,,,0,"Make DB queries compatible with SQLAlchemy 1.4.x

Change-Id: I25eae9e6de8534b40493caf23cc49602a44efd26
Closes-Bug: #1930908
",git fetch https://review.opendev.org/openstack/keystone refs/changes/62/794862/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/identity/shadow_backends/sql.py'],1,98891d711a1d6948cf64c71ea85077c2e2e040e2,bug/1930908, if statements: query = query.filter(sqlalchemy.and_(*statements)), query = query.filter(sqlalchemy.and_(*statements)),2,1
openstack%2Ffreezer~master~I65bb2b620fcc20c3ee3a38cf95cd4280443f77d4,openstack/freezer,master,I65bb2b620fcc20c3ee3a38cf95cd4280443f77d4,Fix the error of  tempest test cases for schedule.,MERGED,2021-06-09 23:36:16.000000000,2021-06-10 01:11:54.000000000,2021-06-10 01:10:43.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 23:36:16.000000000', 'files': ['freezer/lib/pep3143daemon/daemon.py'], 'web_link': 'https://opendev.org/openstack/freezer/commit/32337c8d5e55c266447b2128f97fd87f9d8852dd', 'message': 'Fix the error of  tempest test cases for schedule.\n\nThe error of  tempest test cases for schedule:\n\nft1.2: freezer_tempest_plugin.tests.scheduler.test_freezer_scheduler.TestFreezerCmdAction.test_freezer_schedulers_restart[gate]testtools.testresult.real._StringException: Traceback (most recent call last):\n  File ""/opt/stack/tempest/.tox/tempest/lib/python3.8/site-packages/freezer_tempest_plugin/tests/scheduler/test_freezer_scheduler.py"", line 33, in test_freezer_schedulers_restart\n    self.run_subprocess(args, ""Freezer scheduler restart."")\n  File ""/opt/stack/tempest/.tox/tempest/lib/python3.8/site-packages/freezer_tempest_plugin/tests/scheduler/base.py"", line 76, in run_subprocess\n    self.assertEqual(0, proc.returncode,\n  File ""/opt/stack/tempest/.tox/tempest/lib/python3.8/site-packages/testtools/testcase.py"", line 415, in assertEqual\n    self.assertThat(observed, matcher, message)\n  File ""/opt/stack/tempest/.tox/tempest/lib/python3.8/site-packages/testtools/testcase.py"", line 502, in assertThat\n    raise mismatch_error\ntesttools.matchers._impl.MismatchError: 0 != 1: Freezer scheduler restart. Output: 2021-06-09 01:05:20.991 116248 CRITICAL freezer-scheduler [-] Unhandled error: OSError: [Errno 88] Socket operation on non-socket\n2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler Traceback (most recent call last):\n2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler   File ""/usr/local/bin/freezer-scheduler"", line 10, in <module>\n2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler     sys.exit(main())\n2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler   File ""/opt/stack/freezer/freezer/scheduler/freezer_scheduler.py"", line 259, in main\n2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler     daemon.restart()\n2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler   File ""/opt/stack/freezer/freezer/scheduler/daemon.py"", line 204, in restart\n2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler     self.start()\n2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler   File ""/opt/stack/freezer/freezer/scheduler/daemon.py"", line 178, in start\n2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler     with DaemonContext(pidfile=pidfile, signal_map=self.signal_map,\n2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler   File ""/opt/stack/freezer/freezer/lib/pep3143daemon/daemon.py"", line 132, in __init__\n2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler     self.detach_process = detach_required()\n2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler   File ""/opt/stack/freezer/freezer/lib/pep3143daemon/daemon.py"", line 416, in detach_required\n2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler     if parent_is_inet() or parent_is_init():\n2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler   File ""/opt/stack/freezer/freezer/lib/pep3143daemon/daemon.py"", line 394, in parent_is_inet\n2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler     sock = socket.fromfd(\n2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler   File ""/usr/lib/python3.8/socket.py"", line 544, in fromfd\n2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler     return socket(family, type, proto, nfd)\n2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler   File ""/usr/lib/python3.8/socket.py"", line 231, in __init__\n2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler     _socket.socket.__init__(self, family, type, proto, fileno)\n2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler OSError: [Errno 88] Socket operation on non-socket\n2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler [00m\n\nChange-Id: I65bb2b620fcc20c3ee3a38cf95cd4280443f77d4\n'}]",0,795715,32337c8d5e55c266447b2128f97fd87f9d8852dd,7,2,1,21069,,,0,"Fix the error of  tempest test cases for schedule.

The error of  tempest test cases for schedule:

ft1.2: freezer_tempest_plugin.tests.scheduler.test_freezer_scheduler.TestFreezerCmdAction.test_freezer_schedulers_restart[gate]testtools.testresult.real._StringException: Traceback (most recent call last):
  File ""/opt/stack/tempest/.tox/tempest/lib/python3.8/site-packages/freezer_tempest_plugin/tests/scheduler/test_freezer_scheduler.py"", line 33, in test_freezer_schedulers_restart
    self.run_subprocess(args, ""Freezer scheduler restart."")
  File ""/opt/stack/tempest/.tox/tempest/lib/python3.8/site-packages/freezer_tempest_plugin/tests/scheduler/base.py"", line 76, in run_subprocess
    self.assertEqual(0, proc.returncode,
  File ""/opt/stack/tempest/.tox/tempest/lib/python3.8/site-packages/testtools/testcase.py"", line 415, in assertEqual
    self.assertThat(observed, matcher, message)
  File ""/opt/stack/tempest/.tox/tempest/lib/python3.8/site-packages/testtools/testcase.py"", line 502, in assertThat
    raise mismatch_error
testtools.matchers._impl.MismatchError: 0 != 1: Freezer scheduler restart. Output: 2021-06-09 01:05:20.991 116248 CRITICAL freezer-scheduler [-] Unhandled error: OSError: [Errno 88] Socket operation on non-socket
2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler Traceback (most recent call last):
2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler   File ""/usr/local/bin/freezer-scheduler"", line 10, in <module>
2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler     sys.exit(main())
2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler   File ""/opt/stack/freezer/freezer/scheduler/freezer_scheduler.py"", line 259, in main
2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler     daemon.restart()
2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler   File ""/opt/stack/freezer/freezer/scheduler/daemon.py"", line 204, in restart
2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler     self.start()
2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler   File ""/opt/stack/freezer/freezer/scheduler/daemon.py"", line 178, in start
2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler     with DaemonContext(pidfile=pidfile, signal_map=self.signal_map,
2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler   File ""/opt/stack/freezer/freezer/lib/pep3143daemon/daemon.py"", line 132, in __init__
2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler     self.detach_process = detach_required()
2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler   File ""/opt/stack/freezer/freezer/lib/pep3143daemon/daemon.py"", line 416, in detach_required
2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler     if parent_is_inet() or parent_is_init():
2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler   File ""/opt/stack/freezer/freezer/lib/pep3143daemon/daemon.py"", line 394, in parent_is_inet
2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler     sock = socket.fromfd(
2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler   File ""/usr/lib/python3.8/socket.py"", line 544, in fromfd
2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler     return socket(family, type, proto, nfd)
2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler   File ""/usr/lib/python3.8/socket.py"", line 231, in __init__
2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler     _socket.socket.__init__(self, family, type, proto, fileno)
2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler OSError: [Errno 88] Socket operation on non-socket
2021-06-09 01:05:20.991 116248 ERROR freezer-scheduler [00m

Change-Id: I65bb2b620fcc20c3ee3a38cf95cd4280443f77d4
",git fetch https://review.opendev.org/openstack/freezer refs/changes/15/795715/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer/lib/pep3143daemon/daemon.py'],1,32337c8d5e55c266447b2128f97fd87f9d8852dd,," try: sock = socket.fromfd( sys.__stdin__.fileno(), socket.AF_INET, socket.SOCK_RAW)"," sock = socket.fromfd( sys.__stdin__.fileno(), socket.AF_INET, socket.SOCK_RAW) try:",4,4
openstack%2Fansible-collections-openstack~master~Ie1211796929d0bc12c7a48764bd8efc7defdd2d7,openstack/ansible-collections-openstack,master,Ie1211796929d0bc12c7a48764bd8efc7defdd2d7,Fix inventory plugin on Ansible 2.11,MERGED,2021-05-19 13:01:04.000000000,2021-06-10 00:46:35.000000000,2021-05-25 19:59:49.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 31679}]","[{'number': 1, 'created': '2021-05-19 13:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f6abd4e89c06491e1feca3dea6f74f04dd23fe61', 'message': 'Fix inventory plugin on Ansible 2.11\n\nThe bug here is that the openstack inventory plugin will no longer work with Ansible 2.11. You can test an inventory file (named openstack.yml) with either of these syntaxes:\n\nplugin: openstack\nplugin: openstack.cloud.openstack\nThe first option errors due to custom validation present in openstack\'s own inventory plugin:\n\n[WARNING]: * Failed to parse /home/alancoding/repos/awx/testing/openstack/openstack.yml with auto plugin: plugin\nconfig file, but not for us: openstack\n\nBecause this was written back before FQCNs (fully-qualified collection names) were a thing. Before it migrated to a collection, ""openstack"" was the expectation, but then self.NAME for the inventory plugin changed to ""openstack.cloud.openstack"", meaning that ""openstack"" by itself would no longer work. That made sense until Ansible core introduced routing where it would recognize ""openstack"" and route it to ""openstack.cloud.openstack"" for purposes of the ""auto"" inventory plugin routing. See the routing entry at:\n\nhttps://github.com/ansible/ansible/blob/2cbfd1e350cbe1ca195d33306b5a9628667ddda8/lib/ansible/config/ansible_builtin_runtime.yml#L9548\n\nThe second option errors with:\n\n[WARNING]: * Failed to parse /home/alancoding/repos/awx/testing/openstack_fqcn/openstack.yml with auto plugin:\nInvalid value ""openstack.cloud.openstack"" for configuration option ""plugin_type: inventory plugin:\nansible_collections.openstack.cloud.plugins.inventory.openstack setting: plugin "", valid values are: [\'openstack\']\n\nThis is due to Ansible core enforcing stricter validation of options. Merged in this PR ansible/ansible#73162\n\nThat broke many inventory plugins because the practice before the migration to collections was to list the name in the choices for the ""plugin"" option. This has been fixed in other collections.\n\nBecause neither of these options work, the inventory plugin is not usable in recent Ansible versions.\n\nSuggested patch here:\n\nhttps://github.com/AlanCoding/ansible-collections-openstack/compare/fqcn_name?expand=1\n\nThis allows the user to use either syntax, because there\'s an argument for the validity of both.\n\ncredit to https://github.com/AlanCoding\n\nChange-Id: Ie1211796929d0bc12c7a48764bd8efc7defdd2d7\n'}, {'number': 2, 'created': '2021-05-25 17:43:33.000000000', 'files': ['plugins/inventory/openstack.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/42a5cb5601187dda6e460099889ac9d74cd628b0', 'message': 'Fix inventory plugin on Ansible 2.11\n\nThe bug here is that the openstack inventory plugin will no longer work with Ansible 2.11. You can test an inventory file (named openstack.yml) with either of these syntaxes:\n\nplugin: openstack\nplugin: openstack.cloud.openstack\nThe first option errors due to custom validation present in openstack\'s own inventory plugin:\n\n[WARNING]: * Failed to parse /home/alancoding/repos/awx/testing/openstack/openstack.yml with auto plugin: plugin\nconfig file, but not for us: openstack\n\nBecause this was written back before FQCNs (fully-qualified collection names) were a thing. Before it migrated to a collection, ""openstack"" was the expectation, but then self.NAME for the inventory plugin changed to ""openstack.cloud.openstack"", meaning that ""openstack"" by itself would no longer work. That made sense until Ansible core introduced routing where it would recognize ""openstack"" and route it to ""openstack.cloud.openstack"" for purposes of the ""auto"" inventory plugin routing. See the routing entry at:\n\nhttps://github.com/ansible/ansible/blob/2cbfd1e350cbe1ca195d33306b5a9628667ddda8/lib/ansible/config/ansible_builtin_runtime.yml#L9548\n\nThe second option errors with:\n\n[WARNING]: * Failed to parse /home/alancoding/repos/awx/testing/openstack_fqcn/openstack.yml with auto plugin:\nInvalid value ""openstack.cloud.openstack"" for configuration option ""plugin_type: inventory plugin:\nansible_collections.openstack.cloud.plugins.inventory.openstack setting: plugin "", valid values are: [\'openstack\']\n\nThis is due to Ansible core enforcing stricter validation of options. Merged in this PR ansible/ansible#73162\n\nThat broke many inventory plugins because the practice before the migration to collections was to list the name in the choices for the ""plugin"" option. This has been fixed in other collections.\n\nBecause neither of these options work, the inventory plugin is not usable in recent Ansible versions.\n\nSuggested patch here:\n\nhttps://github.com/AlanCoding/ansible-collections-openstack/compare/fqcn_name?expand=1\n\nThis allows the user to use either syntax, because there\'s an argument for the validity of both.\n\ncredit to https://github.com/AlanCoding\n\nChange-Id: Ie1211796929d0bc12c7a48764bd8efc7defdd2d7\n'}]",0,792138,42a5cb5601187dda6e460099889ac9d74cd628b0,20,4,2,33476,,,0,"Fix inventory plugin on Ansible 2.11

The bug here is that the openstack inventory plugin will no longer work with Ansible 2.11. You can test an inventory file (named openstack.yml) with either of these syntaxes:

plugin: openstack
plugin: openstack.cloud.openstack
The first option errors due to custom validation present in openstack's own inventory plugin:

[WARNING]: * Failed to parse /home/alancoding/repos/awx/testing/openstack/openstack.yml with auto plugin: plugin
config file, but not for us: openstack

Because this was written back before FQCNs (fully-qualified collection names) were a thing. Before it migrated to a collection, ""openstack"" was the expectation, but then self.NAME for the inventory plugin changed to ""openstack.cloud.openstack"", meaning that ""openstack"" by itself would no longer work. That made sense until Ansible core introduced routing where it would recognize ""openstack"" and route it to ""openstack.cloud.openstack"" for purposes of the ""auto"" inventory plugin routing. See the routing entry at:

https://github.com/ansible/ansible/blob/2cbfd1e350cbe1ca195d33306b5a9628667ddda8/lib/ansible/config/ansible_builtin_runtime.yml#L9548

The second option errors with:

[WARNING]: * Failed to parse /home/alancoding/repos/awx/testing/openstack_fqcn/openstack.yml with auto plugin:
Invalid value ""openstack.cloud.openstack"" for configuration option ""plugin_type: inventory plugin:
ansible_collections.openstack.cloud.plugins.inventory.openstack setting: plugin "", valid values are: ['openstack']

This is due to Ansible core enforcing stricter validation of options. Merged in this PR ansible/ansible#73162

That broke many inventory plugins because the practice before the migration to collections was to list the name in the choices for the ""plugin"" option. This has been fixed in other collections.

Because neither of these options work, the inventory plugin is not usable in recent Ansible versions.

Suggested patch here:

https://github.com/AlanCoding/ansible-collections-openstack/compare/fqcn_name?expand=1

This allows the user to use either syntax, because there's an argument for the validity of both.

credit to https://github.com/AlanCoding

Change-Id: Ie1211796929d0bc12c7a48764bd8efc7defdd2d7
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/38/792138/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/inventory/openstack.py'],1,f6abd4e89c06491e1feca3dea6f74f04dd23fe61,inv-fix-ansible211," choices: ['openstack', 'openstack.cloud.openstack'] elif 'plugin' in self._config_data and self._config_data['plugin'] not in (self.NAME, 'openstack'):", choices: ['openstack'] elif 'plugin' in self._config_data and self._config_data['plugin'] != self.NAME:,2,2
openstack%2Ftripleo-heat-templates~master~I8a4d162310257454995279bdd663ccf308cccfaf,openstack/tripleo-heat-templates,master,I8a4d162310257454995279bdd663ccf308cccfaf,Nova: Remove unused EnableSQLAlchemyCollectd from base template,MERGED,2021-06-08 12:30:20.000000000,2021-06-10 00:43:28.000000000,2021-06-10 00:43:28.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-08 12:30:20.000000000', 'files': ['deployment/nova/nova-base-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/02e50c163b0900f9ed0a8669e1211937ae7ba6be', 'message': 'Nova: Remove unused EnableSQLAlchemyCollectd from base template\n\nThis change cleans up the EnableSQLAlchemyCollectd left but unused\nin nova base template which was migrated to different templates while\nrefactoring database configuration of nova[1].\n\n[1] 9d82364de8d6d1fba083993e085fb8cafcc08268\n\nChange-Id: I8a4d162310257454995279bdd663ccf308cccfaf\n'}]",0,795312,02e50c163b0900f9ed0a8669e1211937ae7ba6be,9,5,1,9816,,,0,"Nova: Remove unused EnableSQLAlchemyCollectd from base template

This change cleans up the EnableSQLAlchemyCollectd left but unused
in nova base template which was migrated to different templates while
refactoring database configuration of nova[1].

[1] 9d82364de8d6d1fba083993e085fb8cafcc08268

Change-Id: I8a4d162310257454995279bdd663ccf308cccfaf
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/12/795312/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-base-puppet.yaml'],1,02e50c163b0900f9ed0a8669e1211937ae7ba6be,,, EnableSQLAlchemyCollectd: type: boolean description: > Set to true to enable the SQLAlchemy-collectd server plugin default: false,0,5
openstack%2Foslo.messaging~master~Idf8cc0e52ced1f697ac4048655eff4c956fd5c79,openstack/oslo.messaging,master,Idf8cc0e52ced1f697ac4048655eff4c956fd5c79,Add Support For oslo.metrics,MERGED,2020-11-09 02:26:46.000000000,2021-06-10 00:38:55.000000000,2021-06-10 00:37:43.000000000,"[{'_account_id': 308}, {'_account_id': 6928}, {'_account_id': 8770}, {'_account_id': 9373}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-09 02:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/92d9fad1a2e38e7f03ba8911c8af4b3d389e0b0c', 'message': 'Add Support For oslo.metrics\n\nThis commit added support to send rpc metrics to oslo.metrics.\n\nChanges includes:\n- Adding client wrapper for oslo.metrics to process metrics information\n  and send to oslo.metrics socket\n- Modify rpc client to send metric when certain rpc events happens\n\nFor more information on oslo.metrics\nhttps://opendev.org/openstack/oslo.metrics\n\nChange-Id: Idf8cc0e52ced1f697ac4048655eff4c956fd5c79\n'}, {'number': 2, 'created': '2020-11-09 03:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/9d055c402d73d7c808a1686758a23b98a4fa40d2', 'message': 'Add Support For oslo.metrics\n\nThis commit added support to send rpc metrics to oslo.metrics.\n\nChanges includes:\n- Adding client wrapper for oslo.metrics to process metrics information\n  and send to oslo.metrics socket\n- Modify rpc client to send metric when certain rpc events happens\n\nFor more information on oslo.metrics\nhttps://opendev.org/openstack/oslo.metrics\n\nChange-Id: Idf8cc0e52ced1f697ac4048655eff4c956fd5c79\n'}, {'number': 3, 'created': '2020-12-06 03:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/19619994793d53b5011123e480ac6b2e862562fe', 'message': 'Add Support For oslo.metrics\n\nThis commit added support to send rpc metrics to oslo.metrics.\n\nChanges includes:\n- Adding client wrapper for oslo.metrics to process metrics information\n  and send to oslo.metrics socket\n- Modify rpc client to send metric when certain rpc events happens\n\nFor more information on oslo.metrics\nhttps://opendev.org/openstack/oslo.metrics\n\nChange-Id: Idf8cc0e52ced1f697ac4048655eff4c956fd5c79\n'}, {'number': 4, 'created': '2020-12-06 06:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/847cc72ab683fb108d50d7dcbf50f9a4ac2c6cd9', 'message': 'Add Support For oslo.metrics\n\nThis commit added support to send rpc metrics to oslo.metrics.\n\nChanges includes:\n- Adding client wrapper for oslo.metrics to process metrics information\n  and send to oslo.metrics socket\n- Modify rpc client to send metric when certain rpc events happens\n\nFor more information on oslo.metrics\nhttps://opendev.org/openstack/oslo.metrics\n\nChange-Id: Idf8cc0e52ced1f697ac4048655eff4c956fd5c79\n'}, {'number': 5, 'created': '2020-12-07 02:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/38dca0b69c805585e4e8b552af00791aba91dd01', 'message': 'Add Support For oslo.metrics\n\nThis commit added support to send rpc metrics to oslo.metrics.\n\nChanges includes:\n- Adding client wrapper for oslo.metrics to process metrics information\n  and send to oslo.metrics socket\n- Modify rpc client to send metric when certain rpc events happens\n\nFor more information on oslo.metrics\nhttps://opendev.org/openstack/oslo.metrics\n\nChange-Id: Idf8cc0e52ced1f697ac4048655eff4c956fd5c79\n'}, {'number': 6, 'created': '2020-12-18 18:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/3c89ff987aaa50293984e9710b97e9493f88ceba', 'message': 'Add Support For oslo.metrics\n\nThis commit added support to send rpc metrics to oslo.metrics.\n\nChanges includes:\n- Adding client wrapper for oslo.metrics to process metrics information\n  and send to oslo.metrics socket\n- Modify rpc client to send metric when certain rpc events happens\n\nFor more information on oslo.metrics\nhttps://opendev.org/openstack/oslo.metrics\n\nChange-Id: Idf8cc0e52ced1f697ac4048655eff4c956fd5c79\n'}, {'number': 7, 'created': '2021-02-12 05:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/0dd9b401a382abcebf6fbf1668555de84f939ad9', 'message': 'Add Support For oslo.metrics\n\nThis commit added support to send rpc metrics to oslo.metrics.\n\nChanges includes:\n- Adding client wrapper for oslo.metrics to process metrics information\n  and send to oslo.metrics socket\n- Modify rpc client to send metric when certain rpc events happens\n\nFor more information on oslo.metrics\nhttps://opendev.org/openstack/oslo.metrics\n\nChange-Id: Idf8cc0e52ced1f697ac4048655eff4c956fd5c79\n'}, {'number': 8, 'created': '2021-02-12 07:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/9777337e24a032805976cc415c6f09bb8ead1388', 'message': 'Add Support For oslo.metrics\n\nThis commit added support to send rpc metrics to oslo.metrics.\n\nChanges includes:\n- Adding client wrapper for oslo.metrics to process metrics information\n  and send to oslo.metrics socket\n- Modify rpc client to send metric when certain rpc events happens\n\nFor more information on oslo.metrics\nhttps://opendev.org/openstack/oslo.metrics\n\nChange-Id: Idf8cc0e52ced1f697ac4048655eff4c956fd5c79\n'}, {'number': 9, 'created': '2021-02-17 08:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/7b2b9f07b73d34161192ca17e37bc64a2d51ade5', 'message': 'Add Support For oslo.metrics\n\nThis commit added support to send rpc metrics to oslo.metrics.\n\nChanges includes:\n- Adding client wrapper for oslo.metrics to process metrics information\n  and send to oslo.metrics socket\n- Modify rpc client to send metric when certain rpc events happens\n\nFor more information on oslo.metrics\nhttps://opendev.org/openstack/oslo.metrics\n\nChange-Id: Idf8cc0e52ced1f697ac4048655eff4c956fd5c79\n'}, {'number': 10, 'created': '2021-02-17 08:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/4bf62ed397b1a566864b64727ed9abdd442c0fb1', 'message': 'Add Support For oslo.metrics\n\nThis commit added support to send rpc metrics to oslo.metrics.\n\nChanges includes:\n- Adding client wrapper for oslo.metrics to process metrics information\n  and send to oslo.metrics socket\n- Modify rpc client to send metric when certain rpc events happens\n\nFor more information on oslo.metrics\nhttps://opendev.org/openstack/oslo.metrics\n\nChange-Id: Idf8cc0e52ced1f697ac4048655eff4c956fd5c79\n'}, {'number': 11, 'created': '2021-05-09 12:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/db2bbdae37dd94f2813bd1c61a603aeeaa008ba3', 'message': 'Add Support For oslo.metrics\n\nThis commit added support to send rpc metrics to oslo.metrics.\n\nChanges includes:\n- Adding client wrapper for oslo.metrics to process metrics information\n  and send to oslo.metrics socket\n- Modify rpc client to send metric when certain rpc events happens\n\nFor more information on oslo.metrics\nhttps://opendev.org/openstack/oslo.metrics\n\nChange-Id: Idf8cc0e52ced1f697ac4048655eff4c956fd5c79\n'}, {'number': 12, 'created': '2021-05-10 08:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/c86492c1b89ffbf1a367bf1403b2b892f73dfc12', 'message': 'Add Support For oslo.metrics\n\nThis commit added support to send rpc metrics to oslo.metrics.\n\nChanges includes:\n- Adding client wrapper for oslo.metrics to process metrics information\n  and send to oslo.metrics socket\n- Modify rpc client to send metric when certain rpc events happens\n\nFor more information on oslo.metrics\nhttps://opendev.org/openstack/oslo.metrics\n\nChange-Id: Idf8cc0e52ced1f697ac4048655eff4c956fd5c79\n'}, {'number': 13, 'created': '2021-05-10 12:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/8beb89a72692e3eeaa8ebd7ba30e1ea4ed3187ac', 'message': 'Add Support For oslo.metrics\n\nThis commit added support to send rpc metrics to oslo.metrics.\n\nChanges includes:\n- Adding client wrapper for oslo.metrics to process metrics information\n  and send to oslo.metrics socket\n- Modify rpc client to send metric when certain rpc events happens\n\nFor more information on oslo.metrics\nhttps://opendev.org/openstack/oslo.metrics\n\nChange-Id: Idf8cc0e52ced1f697ac4048655eff4c956fd5c79\n'}, {'number': 14, 'created': '2021-05-11 12:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/0639c60a4adfde25ede0d86fa512ef832102e6bc', 'message': 'Add Support For oslo.metrics\n\nThis commit added support to send rpc metrics to oslo.metrics.\n\nChanges includes:\n- Adding client wrapper for oslo.metrics to process metrics information\n  and send to oslo.metrics socket\n- Modify rpc client to send metric when certain rpc events happens\n\nFor more information on oslo.metrics\nhttps://opendev.org/openstack/oslo.metrics\n\nChange-Id: Idf8cc0e52ced1f697ac4048655eff4c956fd5c79\n'}, {'number': 15, 'created': '2021-05-13 14:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/23909b76f66301e094b20853ddb8d160c56fab5f', 'message': 'Add Support For oslo.metrics\n\nThis commit added support to send rpc metrics to oslo.metrics.\n\nChanges includes:\n- Adding client wrapper for oslo.metrics to process metrics information\n  and send to oslo.metrics socket\n- Modify rpc client to send metric when certain rpc events happens\n\nFor more information on oslo.metrics\nhttps://opendev.org/openstack/oslo.metrics\n\nChange-Id: Idf8cc0e52ced1f697ac4048655eff4c956fd5c79\n'}, {'number': 16, 'created': '2021-06-08 11:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/3746084bb8c9edb079eb81a089cbbf0e402a66d6', 'message': 'Add Support For oslo.metrics\n\nThis commit added support to send rpc metrics to oslo.metrics.\n\nChanges includes:\n- Adding client wrapper for oslo.metrics to process metrics information\n  and send to oslo.metrics socket\n- Modify rpc client to send metric when certain rpc events happens\n\nFor more information on oslo.metrics\nhttps://opendev.org/openstack/oslo.metrics\n\nChange-Id: Idf8cc0e52ced1f697ac4048655eff4c956fd5c79\n'}, {'number': 17, 'created': '2021-06-08 15:10:51.000000000', 'files': ['oslo_messaging/tests/functional/test_functional.py', 'requirements.txt', 'releasenotes/notes/oslo-metrics-support-fe16343a637cc14b.yaml', 'oslo_messaging/_metrics/__init__.py', 'oslo_messaging/rpc/client.py', 'oslo_messaging/_metrics/client.py', 'oslo_messaging/conffixture.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/bdbb6d62ee20bfd5ffc59f8772a5a0e60614ba90', 'message': 'Add Support For oslo.metrics\n\nThis commit added support to send rpc metrics to oslo.metrics.\n\nChanges includes:\n- Adding client wrapper for oslo.metrics to process metrics information\n  and send to oslo.metrics socket\n- Modify rpc client to send metric when certain rpc events happens\n\nFor more information on oslo.metrics\nhttps://opendev.org/openstack/oslo.metrics\n\nChange-Id: Idf8cc0e52ced1f697ac4048655eff4c956fd5c79\n'}]",13,761848,bdbb6d62ee20bfd5ffc59f8772a5a0e60614ba90,75,6,17,32523,,,0,"Add Support For oslo.metrics

This commit added support to send rpc metrics to oslo.metrics.

Changes includes:
- Adding client wrapper for oslo.metrics to process metrics information
  and send to oslo.metrics socket
- Modify rpc client to send metric when certain rpc events happens

For more information on oslo.metrics
https://opendev.org/openstack/oslo.metrics

Change-Id: Idf8cc0e52ced1f697ac4048655eff4c956fd5c79
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/48/761848/16 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/metrics/__init__.py', 'oslo_messaging/rpc/client.py', 'oslo_messaging/metrics/client.py']",3,92d9fad1a2e38e7f03ba8911c8af4b3d389e0b0c,oslo_metrics_support," # Copyright 2020 LINE Corp. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import socket import threading import queue import time from oslo_config import cfg from oslo_log import log as logging from oslo_metrics import message_type LOG = logging.getLogger(__name__) oslo_messaging_metrics = [ cfg.BoolOpt('metrics_enabled', default=False, help='Boolean to send rpc metrics to oslo.metrics.'), cfg.IntOpt('metrics_buffer_size', default=1000, help='Buffer size to store in oslo.messaging.'), cfg.StrOpt('metrics_socket_file', default='/var/tmp/metrics_collector.sock', help='Unix domain socket file to be used' 'to send rpc related metrics'), cfg.StrOpt('metrics_process_name', default='', help='Process name which is used to idenfity which process' 'produce metrics'), cfg.IntOpt('metrics_thread_stop_timeout', default=10, help='Sending thread stop once metrics_thread_stop_timeout' 'seconds after the last successful metrics send.' 'So that this thread will not be the blocker' 'when process is shutting down.' 'If the process is still running, sending thread will' 'be restarted at the next metrics queueing time') ] cfg.CONF.register_opts(oslo_messaging_metrics, group='oslo_messaging_metrics') class MetricsCollectorClient(object): def __init__(self, unix_socket): self.unix_socket = unix_socket buffer_size = cfg.CONF.oslo_messaging_metrics.metrics_buffer_size self.tx_queue = queue.Queue(buffer_size) self.next_send_metric = None self.send_thread = threading.Thread(target=self.send_loop) self.send_thread.start() def put_into_txqueue(self, metrics_name, action, **labels): if not cfg.CONF.oslo_messaging_metrics.metrics_enabled: return None labels['process'] = \ cfg.CONF.oslo_messaging_metrics.metrics_process_name m = message_type.Metric(""oslo_messaging"", metrics_name, action, **labels) try: self.tx_queue.put_nowait(m) except queue.Full: LOG.warning(""tx queues is already full(%s/%s). Fails to "" ""send the metrics(%s)"" % (self.tx_queue.qsize(), self.tx_queue.maxsize, m)) if not self.send_thread.is_alive(): self.send_thread = threading.Thread(target=self.send_loop) self.send_thread.start() def send_loop(self): timeout = cfg.CONF.oslo_messaging_metrics.metrics_thread_stop_timeout stoptime = time.time() + timeout while stoptime > time.time(): if self.next_send_metric is None: try: self.next_send_metric = self.tx_queue.get(timeout=timeout) except queue.Empty: continue try: self.send_metric(self.next_send_metric) self.next_send_metric = None stoptime = time.time() + timeout except Exception as e: LOG.error(""Failed to send metrics: %s. "" ""Wait 1 seconds for next try."" % e) time.sleep(1) def send_metric(self, metric): s = socket.socket(socket.AF_UNIX, socket.SOCK_DGRAM) s.connect(self.unix_socket) s.send(metric.to_json().encode()) s.close() def put_rpc_client_metrics_to_txqueue(self, metric_name, action, target, method, call_type, timeout, exception=None): kwargs = { 'call_type': call_type, 'exchange': target.exchange, 'topic': target.topic, 'namespace': target.namespace, 'version': target.version, 'server': target.server, 'fanout': target.fanout, 'method': method, 'timeout': timeout, } if exception: kwargs['exception'] = exception self.put_into_txqueue(metric_name, action, **kwargs) def rpc_client_invocation_start_total(self, target, method, call_type, timeout=None): self.put_rpc_client_metrics_to_txqueue( ""rpc_client_invocation_start_total"", message_type.MetricAction(""inc"", None), target, method, call_type, timeout ) def rpc_client_invocation_end_total(self, target, method, call_type, timeout=None): self.put_rpc_client_metrics_to_txqueue( ""rpc_client_invocation_end_total"", message_type.MetricAction(""inc"", None), target, method, call_type, timeout ) def rpc_client_processing_time(self, target, method, call_type, duration, timeout=None): self.put_rpc_client_metrics_to_txqueue( ""rpc_client_processing_time"", message_type.MetricAction(""observe"", duration), target, method, call_type, timeout ) def rpc_client_exception_total(self, target, method, call_type, exception, timeout=None): self.put_rpc_client_metrics_to_txqueue( ""rpc_client_exception_total"", message_type.MetricAction(""inc"", None), target, method, call_type, timeout, exception ) def put_rpc_server_metrics_to_txqueue(self, metric_name, action, target, endpoint, ns, ver, method, exception=None): kwargs = { 'endpoint': endpoint, 'namespace': ns, 'version': ver, 'method': method, 'exchange': None, 'topic': None, 'server': None } if target: kwargs['exchange'] = target.exchange kwargs['topic'] = target.topic kwargs['server'] = target.server if exception: kwargs['exception'] = exception self.put_into_txqueue(metric_name, action, **kwargs) def rpc_server_invocation_start_total(self, target, endpoint, ns, ver, method): self.put_rpc_server_metrics_to_txqueue( ""rpc_server_invocation_start_total"", message_type.MetricAction(""inc"", None), target, endpoint, ns, ver, method ) def rpc_server_invocation_end_total(self, target, endpoint, ns, ver, method): self.put_rpc_server_metrics_to_txqueue( ""rpc_server_invocation_end_total"", message_type.MetricAction(""inc"", None), target, endpoint, ns, ver, method ) def rpc_server_processing_time(self, target, endpoint, ns, ver, method, duration): self.put_rpc_server_metrics_to_txqueue( ""rpc_server_processing_time"", message_type.MetricAction(""observe"", duration), target, endpoint, ns, ver, method ) def rpc_server_exception_total(self, target, endpoint, ns, ver, method, exception): self.put_rpc_server_metrics_to_txqueue( ""rpc_server_exception_total"", message_type.MetricAction(""inc"", None), target, endpoint, ns, ver, method, exception=exception ) METRICS_COLLECTOR = None def get_metrics_collector(): global METRICS_COLLECTOR if METRICS_COLLECTOR is None: METRICS_COLLECTOR = MetricsCollectorClient( cfg.CONF.oslo_messaging_metrics.metrics_socket_file) return METRICS_COLLECTOR ",,273,1
openstack%2Fovsdbapp~master~I8a57c73f20a299b811ee31b55d40a76de9deb1cd,openstack/ovsdbapp,master,I8a57c73f20a299b811ee31b55d40a76de9deb1cd,Actually close the connection in Connection.stop(),MERGED,2021-05-20 18:37:51.000000000,2021-06-09 23:17:03.000000000,2021-06-09 23:15:54.000000000,"[{'_account_id': 1131}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 18:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/8f0ac0c592bae38b798cdd05167f7dafc64cd37f', 'message': 'Actually close the connection in Connection.stop()\n\nAlthough we were stopping the connection thread, we never actually\nclose the Idl\'s connection to ovsdb-server. This is especially\nnoticeable in neutron\'s ""short-lived"" connections for ensuring the\ncreation of the pg_drop Port_Group which happen pre-fork and so\nthe sockets are getting cloned after the fork since they are still\nopen.\n\nCloses-Bug: #1929119\nChange-Id: I8a57c73f20a299b811ee31b55d40a76de9deb1cd\n'}, {'number': 2, 'created': '2021-05-20 20:53:54.000000000', 'files': ['ovsdbapp/backend/ovs_idl/connection.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/cde7c1f7d4e39d2f02c689037a3d373fb67fd278', 'message': 'Actually close the connection in Connection.stop()\n\nAlthough we were stopping the connection thread, we never actually\nclose the Idl\'s connection to ovsdb-server. This is especially\nnoticeable in neutron\'s ""short-lived"" connections for ensuring the\ncreation of the pg_drop Port_Group which happen pre-fork and so\nthe sockets are getting cloned after the fork since they are still\nopen.\n\nCloses-Bug: #1929119\nChange-Id: I8a57c73f20a299b811ee31b55d40a76de9deb1cd\n'}]",0,792471,cde7c1f7d4e39d2f02c689037a3d373fb67fd278,10,4,2,5756,,,0,"Actually close the connection in Connection.stop()

Although we were stopping the connection thread, we never actually
close the Idl's connection to ovsdb-server. This is especially
noticeable in neutron's ""short-lived"" connections for ensuring the
creation of the pg_drop Port_Group which happen pre-fork and so
the sockets are getting cloned after the fork since they are still
open.

Closes-Bug: #1929119
Change-Id: I8a57c73f20a299b811ee31b55d40a76de9deb1cd
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/71/792471/1 && git format-patch -1 --stdout FETCH_HEAD,['ovsdbapp/backend/ovs_idl/connection.py'],1,8f0ac0c592bae38b798cdd05167f7dafc64cd37f,bug/1929119, self.idl.close(),,1,0
openstack%2Fkarbor~master~Ia6aee362f58ab63fb436a0e40152ed608702f231,openstack/karbor,master,Ia6aee362f58ab63fb436a0e40152ed608702f231,Replicate: add a blue print to describe the idea to support replication;,ABANDONED,2016-11-14 09:20:52.000000000,2021-06-09 22:53:28.000000000,,"[{'_account_id': 3}, {'_account_id': 2023}]","[{'number': 1, 'created': '2016-11-14 09:20:52.000000000', 'files': ['doc/source/specs/protection-service/replicate-spec.rst'], 'web_link': 'https://opendev.org/openstack/karbor/commit/4bde249e57668770f8db4adeb0dd501e685cee8b', 'message': 'Replicate: add a blue print to describe the idea to support replication;\n\nChange-Id: Ia6aee362f58ab63fb436a0e40152ed608702f231\n'}]",0,397072,4bde249e57668770f8db4adeb0dd501e685cee8b,4,2,1,19346,,,0,"Replicate: add a blue print to describe the idea to support replication;

Change-Id: Ia6aee362f58ab63fb436a0e40152ed608702f231
",git fetch https://review.opendev.org/openstack/karbor refs/changes/72/397072/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/specs/protection-service/replicate-spec.rst'],1,4bde249e57668770f8db4adeb0dd501e685cee8b,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================== Restore design spec (protection service level) ============================================== https://bugs.launchpad.net/karbor/+bug/1640063 Karbor was designed to support several data protection secnarios, like backup, snasphot, replicate, CDP(continuous data protection),etc. Users can achieve their own data protection scenarios flexibly through customizing protection plugin according to their backend capabilities. In karbor framework, we have an API model named 'Operation Types'to indicate the what command to be executed on the protection plan and its resources. Now we have 5 operation types: 'protect','restore','delete','start', 'suspend'. Until now, we have supported the first 3 operation types , which could be enough for backup/snapshot scenario, while the last two operations were reserved to support cinder replicate 2.0 API. Although cinder itself has evolved its replicate API from cheesecake to tiramisu, replication is still on the wishlist that karbor desires to support. In this spec, we will elaborate which replication API we're going to support and how to integrate replicate with Karbor's protection_plan-trigger-checkpoint model, plus how to ensure crash consistency with replication enabled in Karbor. Why do we support replication (Typical Use Case) ================================================= A typical DR case would be strong enough: When APP is SLA critical, there is requirement to build GEO isolated data replicas to survive in disaster. In this way, IO level RPO is preferred if cross wan bandwidth is not a problem. Typically, storage backends providers will provide a'replication' or 'mirroring' feature to replicate its IO continuously instead of backing up time by time. Specifically, in virtualiztion environment virtualization platform providers or cloud APP providers also provide ways like hosts or GuestVMs IO replication. On DR happens, user/tenant could be able to fail over the IO replication pairs on storage backend/host/GuestVMs and keep business running with near zero data loss. In this way, Karbor should provide corresponding protection operation to adapt to this resource backend capability. What replication operations we will support (Proposed Changes) ============================================================== As in openestack Liberty version, cinder changed its replicate API to v2.1, where it gave admin and tenant different control granularity on replication. While CheeseCake enables admin to control replication on the whole backend (failover, freeze, thaw), Tiramisu gives the fine granularity control on volume group (enable, disable, failover) for each tenant. For Karbor, the service which provides user level full stack data protection, we will support volume group level replication operation equal to cinder. enable_replication operation: ----------------------------- user wants to enable replication on the protection plan, which will take effect on all volume groups in this protection plan if the group is with 'group_replication_enabled' or 'consistent_group_replication_enabled' disable_replication operation: ------------------------------ user wants to disable replication on the protection plan, which will take effect on all volume groups in this protection plan if the group is with 'group_replication_enabled' or 'consistent_group_replication_enabled' failover_replication operation: ------------------------------- user wants to failover the replication primary/slave pair on the protection plan resources, which will take effect on all volume groups in this protection planif the group is with 'group_replication_enabled' or 'consistent_group_replication_enabled'; 'volume_group'protectable plugin: --------------------------------- A 'volume_group'protectable plugin and resource type should be added as well to parse the dependencies of volume and its replication group. volume_group/volume/server protection plugin: ---------------------------------------------- Corresponding protection plugin interface should be added and could be implemented by provider if it's replication supported. As usual, we will give 'volume group protection plugin' and 'cinder volume protection plugin'as a reference implementation. Protection plugin interfaces ---------------------------- Protection plugin interfaces to be added: enable_replication, disable_replication, failover_replication. Since Tiramisu is still WIP, we will keep the possibility to change according with it. How to interact with protection plugin (Tiramisur as cinder volume specific) ============================================================================= When replication related operation is triggered, protection service will scan the resources in protection plan and produce a resource graph at this moment. The resource graph is constructed through analyzing the resource dependencies, which includes not only those explicit ones chosen in protection plan but also those implicit ones involved through dependencies from those explicit ones. Take one volume chosen in protection plan as an example: 1. If the volume is grouped in a volume protection group but the group is not chosen explicitly in the protection plan, Karbor will still take the whole protection group as one node of the resource graph to trigger operation through dependency analyzing. 2. In this resource graph, replication volume group is typically as one node which could be one of the children of servers or projects, while it could be the parent of volumes which are grouped under this volume protection group. 3. On replication related operation triggered, all volume groups in this new generated resource graph will be notified to execute the operation with the ordering of the workflow dependencies. So all volume protection groups who are with valid volume group status (refer to cinder Tiramisu spec) will get notified to all of volumes under this group. And thus those volumes will be triggered to diasble/enable/failover if they are with the expected status. 4. As the way 'volume group' and volumes to be notified with replication operations, other resources in the resource graph will also be notified. If the resource type is replication sensitive, it could implement its related 'protection plugin's replication interfaces, otherwise the protection plugin could ignore this interface; How to create checkpoint with replication ========================================== Once replication is enabled, IO is continuously synchronizing. This procedure is good to ensure minimum RPO. However, sometimes user wants to go back to one or several latest consistent point: the consistent point could involve a volume group, or involves servers and its volume gourps, or involves the servers of the whole protecion plan. The consistent point semantics could be strong or weak, which is customizable through the prtection plugin implementation. For Karbor, the target is to provide a way for user to cooperate with replication, which enables user to roll back to a user defined consistent point under a continuous data replication procedure. Here we recommend user to use snapshot together with replication to create the roll back checkpoint: Protection: ----------- In protection scenario, user first triggers operation 'enable_replication' on protection plan. If a consistent point is desired, user makes a schedule to trigger snapshot on the protection plan with the granularity of consistent point. As told before, the semantic of the consistent point is fully defined by the protection plugin implementation. Once snapshot operation is triggered, a checkpoint will get generated corresponding to this snapshot. Disaster Recovery: ------------------ In DR scenario, as cinder CheeseCake defined, admin could trigger 'fail over'on the storage backend which will take effect on all volumes on this backend. After that, user could choose to restore to one of several consistent points which is the same procedure as Karbor restore to one checkpoint. Rehearsal: ---------- In rehearsal scenario, admin won't actually failover the storage backend (nor host/ Guest VM replication pairs). While user/tenant is flexible to failover several volume groups for rehearsal in cinder Tiramisu, Karbor also enables user to trigger failover on protection plan to check if replication itself works well. User is also free to roll back to one consistent point (restore to checkpoint) to verify data consistency as expected or not. Last but not the least, **Snapshot and Verification** are another topic not included in this replication spec. ",,122,0
openstack%2Fkarbor~master~I1944af8c92581e0827ea77d618307f10783b76cc,openstack/karbor,master,I1944af8c92581e0827ea77d618307f10783b76cc,Generic database Bank: Database tables and modules definition,ABANDONED,2017-02-26 14:30:33.000000000,2021-06-09 22:53:25.000000000,,"[{'_account_id': 3}, {'_account_id': 17151}, {'_account_id': 21648}, {'_account_id': 22056}]","[{'number': 1, 'created': '2017-02-26 14:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/54c9280ce375673db8cfd578869eefa47553e185', 'message': 'Generic database Bank: Database tables and modules definition\n\nAdd a generic database based bank implementation. It\nwill use database tables for checkpoint objects\nstoring data and metadata.\n\nThis patch includes the database tables and modules definition.\n\nChange-Id: I1944af8c92581e0827ea77d618307f10783b76cc\nImplements: blueprint generic-database-bank\n'}, {'number': 2, 'created': '2017-03-20 07:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/68f574e02ef10024a35b9a3dc90f89b58e290f9d', 'message': 'Generic database Bank: Database tables and modules definition\n\nAdd a generic database based bank implementation. It\nwill use database tables for checkpoint objects\nstoring data and metadata.\n\nThis patch includes the database tables and modules definition.\n\nChange-Id: I1944af8c92581e0827ea77d618307f10783b76cc\nImplements: blueprint generic-database-bank\n'}, {'number': 3, 'created': '2017-03-28 07:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/afe8f5ae3987c3fbe512eeebbb78e1690d80abb8', 'message': 'Generic database Bank: Database tables and modules definition\n\nAdd a generic database based bank implementation. It\nwill use database tables for checkpoint objects\nstoring data and metadata.\n\nThis patch includes the database tables and modules definition.\n\nChange-Id: I1944af8c92581e0827ea77d618307f10783b76cc\nImplements: blueprint generic-database-bank\n'}, {'number': 4, 'created': '2017-03-28 16:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/39d5b8965581fa3b8a48c3950ca03d8da528dd20', 'message': 'Generic database Bank: Database tables and modules definition\n\nAdd a generic database based bank implementation. It\nwill use database tables for checkpoint objects\nstoring data and metadata.\n\nThis patch includes the database tables and modules definition.\n\nChange-Id: I1944af8c92581e0827ea77d618307f10783b76cc\nImplements: blueprint generic-database-bank\n'}, {'number': 5, 'created': '2017-03-30 01:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/6ad7715bfc86ef9a654235b0cfa290f7537f61d2', 'message': 'Generic database Bank: Database tables and modules definition\n\nAdd a generic database based bank implementation. It\nwill use database tables for checkpoint objects\nstoring data and metadata.\n\nThis patch includes the database tables and modules definition.\n\nCo-Authored-By: zhangshuai <446077695@qq.com>\nChange-Id: I1944af8c92581e0827ea77d618307f10783b76cc\nImplements: blueprint generic-database-bank\n'}, {'number': 6, 'created': '2017-05-11 02:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/d8afced86031ab609d803421f10a45ef8d85dd72', 'message': 'Generic database Bank: Database tables and modules definition\n\nAdd a generic database based bank implementation. It\nwill use database tables for checkpoint objects\nstoring data and metadata.\n\nThis patch includes the database tables and modules definition.\n\nChange-Id: I1944af8c92581e0827ea77d618307f10783b76cc\nImplements: blueprint generic-database-bank\n'}, {'number': 7, 'created': '2017-05-11 04:44:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/31fba3512a59b3432e0db5ce13a31e5919e462b2', 'message': 'Generic database Bank: Database tables and modules definition\n\nAdd a generic database based bank implementation. It\nwill use database tables for checkpoint objects\nstoring data and metadata.\n\nThis patch includes the database tables and modules definition.\n\nChange-Id: I1944af8c92581e0827ea77d618307f10783b76cc\nImplements: blueprint generic-database-bank\n'}, {'number': 8, 'created': '2017-05-12 06:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/4b234f9d5726856bb6fa56eb8d6670369afb983f', 'message': 'Generic database Bank: Database tables and modules definition\n\nAdd a generic database based bank implementation. It\nwill use database tables for checkpoint objects\nstoring data and metadata.\n\nThis patch includes the database tables and modules definition.\n\nChange-Id: I1944af8c92581e0827ea77d618307f10783b76cc\nImplements: blueprint generic-database-bank\n'}, {'number': 9, 'created': '2017-06-08 02:08:57.000000000', 'files': ['karbor/services/protection/bank_plugins/database_bank_plugin/sqlalchemy/__init__.py', 'karbor/services/protection/bank_plugins/database_bank_plugin/sqlalchemy/migrate_repo/versions/001_bank_init.py', 'karbor/services/protection/bank_plugins/database_bank_plugin/sqlalchemy/migrate_repo/README', 'karbor/services/protection/bank_plugins/database_bank_plugin/__init__.py', 'karbor/services/protection/bank_plugins/database_bank_plugin/sqlalchemy/migrate_repo/versions/__init__.py', 'karbor/services/protection/bank_plugins/database_bank_plugin/sqlalchemy/migrate_repo/migrate.cfg', 'karbor/services/protection/bank_plugins/database_bank_plugin/sqlalchemy/models.py', 'karbor/services/protection/bank_plugins/database_bank_plugin/sqlalchemy/migrate_repo/__init__.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/733b46339821e750ee357a169753235b96b7a5bd', 'message': 'Generic database Bank: Database tables and modules definition\n\nAdd a generic database based bank implementation. It\nwill use database tables for checkpoint objects\nstoring data and metadata.\n\nThis patch includes the database tables and modules definition.\n\nChange-Id: I1944af8c92581e0827ea77d618307f10783b76cc\nImplements: blueprint generic-database-bank\n'}]",4,438259,733b46339821e750ee357a169753235b96b7a5bd,31,4,9,17151,,,0,"Generic database Bank: Database tables and modules definition

Add a generic database based bank implementation. It
will use database tables for checkpoint objects
storing data and metadata.

This patch includes the database tables and modules definition.

Change-Id: I1944af8c92581e0827ea77d618307f10783b76cc
Implements: blueprint generic-database-bank
",git fetch https://review.opendev.org/openstack/karbor refs/changes/59/438259/1 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/services/protection/bank_plugins/database_bank_plugin/sqlalchemy/__init__.py', 'karbor/services/protection/bank_plugins/database_bank_plugin/sqlalchemy/migrate_repo/versions/001_bank_init.py', 'karbor/services/protection/bank_plugins/database_bank_plugin/sqlalchemy/migrate_repo/README', 'karbor/services/protection/bank_plugins/database_bank_plugin/__init__.py', 'karbor/services/protection/bank_plugins/database_bank_plugin/sqlalchemy/migrate_repo/versions/__init__.py', 'karbor/services/protection/bank_plugins/database_bank_plugin/sqlalchemy/migrate_repo/migrate.cfg', 'karbor/services/protection/bank_plugins/database_bank_plugin/sqlalchemy/migrate_repo/__init__.py', 'karbor/services/protection/bank_plugins/database_bank_plugin/sqlalchemy/models.py']",8,54c9280ce375673db8cfd578869eefa47553e185,bp/generic-database-bank,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" SQLAlchemy models for karbor database bank. """""" import uuid from oslo_config import cfg from oslo_db.sqlalchemy import models from oslo_serialization import jsonutils from oslo_utils import timeutils from sqlalchemy import Column, Integer, LargeBinary, String, Text from sqlalchemy.ext.declarative import declarative_base from sqlalchemy import DateTime, Boolean, ForeignKey from sqlalchemy import orm CONF = cfg.CONF BASE = declarative_base() class KarborBase(models.TimestampMixin, models.ModelBase): """"""Base class for karbor Models."""""" __table_args__ = {'mysql_engine': 'InnoDB'} deleted_at = Column(DateTime) deleted = Column(Boolean, default=False) metadata = None def delete(self, session): """"""Delete this object."""""" self.deleted = True self.deleted_at = timeutils.utcnow() self.save(session=session) class Checkpoint(BASE, KarborBase): """"""Represents a checkpoint."""""" __tablename__ = 'checkpoints' id = Column(String(36), primary_key=True, nullable=False) project_id = Column(String(255), nullable=False) provider_id = Column(String(36), nullable=False) plan_id = Column(String(36)) status = Column(String(255), nullable=False) owner_id = Column(String(255)) extra_info = Column(Text) protection_plan = Column(Text) resource_graph = Column(Text) version = Column(String(36)) timestamp = Column(Integer) created_at = Column(String(255)) def to_dict(self): checkpoint_dict = self.__dict__ if ""deleted"" in checkpoint_dict.keys(): del checkpoint_dict['deleted'] if ""deleted_at"" in checkpoint_dict.keys(): del checkpoint_dict['deleted_at'] if ""updated_at"" in checkpoint_dict.keys(): del checkpoint_dict['updated_at'] if ""_sa_instance_state"" in checkpoint_dict.keys(): del checkpoint_dict['_sa_instance_state'] if self.protection_plan and type(self.protection_plan) != dict: checkpoint_dict['protection_plan'] = jsonutils.loads( self.protection_plan) return checkpoint_dict class CheckpointItem(BASE, KarborBase): """"""Represents a checkpoint item."""""" __tablename__ = 'checkpoint_items' id = Column(String(36), primary_key=True, default=lambda: str(uuid.uuid4()), nullable=False) checkpoint_id = Column(String(36), ForeignKey('checkpoints.id'), nullable=False) resource_id = Column(String(36), nullable=False) backup_name = Column(String(255)) status = Column(String(255)) extra_info = Column(Text) checkpoint = orm.relationship( Checkpoint, backref=""checkpoint_items"", foreign_keys=checkpoint_id, primaryjoin='and_(' 'CheckpointItem.checkpoint_id == Checkpoint.id,' 'CheckpointItem.deleted == False)') class CheckpointItemData(BASE, KarborBase): """"""Represents a checkpoint item data."""""" __tablename__ = 'checkpoint_item_datas' id = Column(Integer, primary_key=True, nullable=False, autoincrement=True) checkpoint_item_id = Column(String(36), ForeignKey('checkpoint_items.id'), nullable=False) data_name = Column(String(255)) backup_data = Column(LargeBinary) checkpoint_item = orm.relationship( CheckpointItem, backref=""checkpoint_item_datas"", foreign_keys=checkpoint_item_id, primaryjoin='and_(CheckpointItemData.checkpoint_item_id == ' 'CheckpointItem.id,' 'CheckpointItemData.deleted == False)') ",,271,0
openstack%2Fkarbor~master~I56048fb4006cc7723647f47fc0a380df31129022,openstack/karbor,master,I56048fb4006cc7723647f47fc0a380df31129022,Generic database Bank implementation,ABANDONED,2016-09-06 02:33:22.000000000,2021-06-09 22:53:22.000000000,,"[{'_account_id': 3}, {'_account_id': 2023}, {'_account_id': 15069}, {'_account_id': 17151}, {'_account_id': 18266}, {'_account_id': 19346}, {'_account_id': 22056}, {'_account_id': 23020}, {'_account_id': 23068}]","[{'number': 1, 'created': '2016-09-06 02:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/acde38696a319dabd9574a6f1c20dc74ec941267', 'message': ""The users use karbor in a single site deployment. They\ndon't want to install a extra storage(swift) as back-end\nof bank in their clouds.\n\nAdd a generic database based bank implementation. It\nwill use database tables for checkpoint objects\nstoring data and metadata.\n\nChange-Id: I56048fb4006cc7723647f47fc0a380df31129022\nImplements: blueprint generic-database-bank\n""}, {'number': 2, 'created': '2016-09-06 02:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/38f155fc6bd6a031d3fb2c5c43e49aa7e6d26062', 'message': ""Generic database Bank implementation\n\nThe users use karbor in a single site deployment. They\ndon't want to install a extra storage(swift) as back-end\nof bank in their clouds.\n\nAdd a generic database based bank implementation. It\nwill use database tables for checkpoint objects\nstoring data and metadata.\n\nChange-Id: I56048fb4006cc7723647f47fc0a380df31129022\nImplements: blueprint generic-database-bank\n""}, {'number': 3, 'created': '2016-09-06 06:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/61d8a40e276a9a0382d1127ba46f69625d973286', 'message': ""Generic database Bank implementation\n\nThe users use karbor in a single site deployment. They\ndon't want to install a extra storage(swift) as back-end\nof bank in their clouds.\n\nAdd a generic database based bank implementation. It\nwill use database tables for checkpoint objects\nstoring data and metadata.\n\nChange-Id: I56048fb4006cc7723647f47fc0a380df31129022\nImplements: blueprint generic-database-bank\n""}, {'number': 4, 'created': '2016-09-06 12:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/90f55b443f01957c0d2b856aeb5bbbd01ef52fb3', 'message': ""Generic database Bank implementation\n\nThe users use karbor in a single site deployment. They\ndon't want to install a extra storage(swift) as back-end\nof bank in their clouds.\n\nAdd a generic database based bank implementation. It\nwill use database tables for checkpoint objects\nstoring data and metadata.\n\nChange-Id: I56048fb4006cc7723647f47fc0a380df31129022\nImplements: blueprint generic-database-bank\n""}, {'number': 5, 'created': '2016-12-29 06:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/ce91f0363092fa2e8d2ec1ab07027ad7e7b0bf79', 'message': ""Generic database Bank implementation\n\nThe users use karbor in a single site deployment. They\ndon't want to install a extra storage(swift) as back-end\nof bank in their clouds.\n\nAdd a generic database based bank implementation. It\nwill use database tables for checkpoint objects\nstoring data and metadata.\n\nChange-Id: I56048fb4006cc7723647f47fc0a380df31129022\nImplements: blueprint generic-database-bank\n""}, {'number': 6, 'created': '2017-01-03 08:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/cced24fc4c9b6170e72959ee1078c2e24bb3c0f9', 'message': ""Generic database Bank implementation\n\nThe users use karbor in a single site deployment. They\ndon't want to install a extra storage(swift) as back-end\nof bank in their clouds.\n\nAdd a generic database based bank implementation. It\nwill use database tables for checkpoint objects\nstoring data and metadata.\n\nChange-Id: I56048fb4006cc7723647f47fc0a380df31129022\nImplements: blueprint generic-database-bank\n""}, {'number': 7, 'created': '2017-04-17 10:04:28.000000000', 'files': ['doc/source/specs/generic-database-bank.rst'], 'web_link': 'https://opendev.org/openstack/karbor/commit/a9c8641e92a65519e2d3401d24f842b645f89630', 'message': ""Generic database Bank implementation\n\nThe users use karbor in a single site deployment. They\ndon't want to install a extra storage(swift) as back-end\nof bank in their clouds.\n\nAdd a generic database based bank implementation. It\nwill use database tables for checkpoint objects\nstoring data and metadata.\n\nChange-Id: I56048fb4006cc7723647f47fc0a380df31129022\nImplements: blueprint generic-database-bank\n""}]",39,365823,a9c8641e92a65519e2d3401d24f842b645f89630,34,9,7,17151,,,0,"Generic database Bank implementation

The users use karbor in a single site deployment. They
don't want to install a extra storage(swift) as back-end
of bank in their clouds.

Add a generic database based bank implementation. It
will use database tables for checkpoint objects
storing data and metadata.

Change-Id: I56048fb4006cc7723647f47fc0a380df31129022
Implements: blueprint generic-database-bank
",git fetch https://review.opendev.org/openstack/karbor refs/changes/23/365823/5 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/specs/generic-database-bank.rst'],1,acde38696a319dabd9574a6f1c20dc74ec941267,bp/generic-database-bank,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Generic database Bank implementation ========================================== https://blueprints.launchpad.net/cinder/+spec/generic-database-bank Problem description =================== Currently we only support Swift as a bank implementation. This means that anyone that uses Karbor must also install Swift. The users use Karbor in a single site deployment. They might not want to install a extra storage(swift) in their clouds as the back-end of the bank . Bank is only used for saving checkpoint metadata. They prefer a database based bank. The database is the on premise software in their clouds. Add a generic database based bank implementation. It will use database tables for checkpoint objects storing data and metadata. Use Cases ========= Deployers might not want or will be unable to install a extra storage(swift) in their clouds. Deployers use the vendor's storage device as the back-end of backup software for saving backup copies in their solutions. The bank is not used for saving backup copies. It is only used for saving checkpoint metadata. They want to save checkpoint metadata in the database. The database nearly is same as the database of Karbor api service. Proposed change =============== A generic database based bank implementation, suppose to support the most popular databases as the back-end of the bank. Such as Mysql, Postgresql. The database bank is mainly used for saving the checkpoint metadata. Saving backup copies(image chunks) is not recommended. It is optional. So a check about whether the plugin use bank to save data should be added when the plugin is loading. The BLOB type is supported by Mysql and Postgresql. So we can use BLOB column in the database to save backup copies, binary large objects. A new configuration item about the database instance connection is added to the karbor.conf: [bank_database] connection = mysql+pymysql://root:stackdb@127.0.0.5/karbor_bank?charset=utf8 The bank database instance connection is initialized when the bank is loaded. A database table called **checkpoint** will be created to store the checkpoints metadata. A database table called **checkpoint_item** will be created to store the information and backup copy data of the resource in the checkpoint's plan. **checkpoint**: +--------------------+--------------+------+-----+---------+----------------+ | Field | Type | Null | Key | Default | Extra | +====================+==============+======+=====+=========+================+ | created_at | datetime | YES | | NULL | | +--------------------+--------------+------+-----+---------+----------------+ | updated_at | datetime | YES | | NULL | | +--------------------+--------------+------+-----+---------+----------------+ | deleted_at | datetime | YES | | NULL | | +--------------------+--------------+------+-----+---------+----------------+ | deleted | tinyint(1) | NO | | NULL | | +--------------------+--------------+------+-----+---------+----------------+ | checkpoint_id | uuid | NO | PRI | NULL | | +--------------------+--------------+------+-----+---------+----------------+ | project_id | varchar(36) | NO | | NULL | | +--------------------+--------------+------+-----+---------+----------------+ | checkpoint_status | varchar(36) | NO | | NULL | | +--------------------+--------------+------+-----+---------+----------------+ | provider_id | varchar(36) | NO | | NULL | | +--------------------+--------------+------+-----+---------+----------------+ | plan_id | varchar(36) | NO | | NULL | | +--------------------+--------------+------+-----+---------+----------------+ | operation_id | varchar(36) | YES | | NULL | | +--------------------+--------------+------+-----+---------+----------------+ | create_by | varchar(36) | YES | | NULL | | +--------------------+--------------+------+-----+---------+----------------+ | resource_graph | Text | YES | | NULL | | +--------------------+--------------+------+-----+---------+----------------+ | extend_info | Text | YES | | NULL | detail info | +--------------------+--------------+------+-----+---------+----------------+ **checkpoint_item** +--------------------+--------------+------+-----+---------+----------------+ | Field | Type | Null | Key | Default | Extra | +====================+==============+======+=====+=========+================+ | created_at | datetime | YES | | NULL | | +--------------------+--------------+------+-----+---------+----------------+ | updated_at | datetime | YES | | NULL | | +--------------------+--------------+------+-----+---------+----------------+ | deleted_at | datetime | YES | | NULL | | +--------------------+--------------+------+-----+---------+----------------+ | deleted | tinyint(1) | NO | | NULL | | +--------------------+--------------+------+-----+---------+----------------+ | id | Integer | NO | PRI | NULL | | +--------------------+--------------+------+-----+---------+----------------+ | checkpoint_id | uuid | NO | FOR | NULL | | +--------------------+--------------+------+-----+---------+----------------+ | resource_id | varchar(36) | NO | | NULL | | +--------------------+--------------+------+-----+---------+----------------+ | status | varchar(36) | NO | | NULL | | +--------------------+--------------+------+-----+---------+----------------+ | extend_info | Text | YES | | NULL | detail info | +--------------------+--------------+------+-----+---------+----------------+ | backup_data | LONGBLOB | YES | | NULL | binary data | +--------------------+--------------+------+-----+---------+----------------+ Alternatives ------------ Do nothing, this is not a mission critical feature. Data model impact ----------------- Add two database tables definition to the bank database. REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ This API might be faster\slower than Swift depending on use case. Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Work Items ---------- * Write Bank Plugin * Add documentation Dependencies ============ None Testing ======= Unit tests in Karbor. Documentation Impact ==================== New docs to explain how to use and configure the alternative Bank implementation. References ========== None ",,201,0
openstack%2Fkarbor~stable%2Focata~Icbf2ed2db864803a8ea4d0c78328aabe47f1c4ce,openstack/karbor,stable/ocata,Icbf2ed2db864803a8ea4d0c78328aabe47f1c4ce,Updated from global requirements,ABANDONED,2017-03-09 18:14:50.000000000,2021-06-09 22:53:19.000000000,,"[{'_account_id': 3}, {'_account_id': 17151}, {'_account_id': 21797}, {'_account_id': 22056}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-03-09 18:14:50.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/karbor/commit/5d26c56ef64e054043a2a358c89e65ebed721242', 'message': 'Updated from global requirements\n\nChange-Id: Icbf2ed2db864803a8ea4d0c78328aabe47f1c4ce\n'}]",0,443806,5d26c56ef64e054043a2a358c89e65ebed721242,11,5,1,11131,,,0,"Updated from global requirements

Change-Id: Icbf2ed2db864803a8ea4d0c78328aabe47f1c4ce
",git fetch https://review.opendev.org/openstack/karbor refs/changes/06/443806/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,5d26c56ef64e054043a2a358c89e65ebed721242,openstack/requirements,"pbr<2.0.0,>=1.8 # Apache-2.0",pbr>=1.8 # Apache-2.0,1,1
openstack%2Fkarbor~master~I202f1d8f65bd6d1aac0062ef97b1b7b5502c96a1,openstack/karbor,master,I202f1d8f65bd6d1aac0062ef97b1b7b5502c96a1,Add pylint error checking to tox.ini,ABANDONED,2017-05-24 12:14:19.000000000,2021-06-09 22:53:15.000000000,,"[{'_account_id': 3}, {'_account_id': 18266}, {'_account_id': 21797}, {'_account_id': 22056}]","[{'number': 1, 'created': '2017-05-24 12:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/d90fcb4781d9948aa653752b422e52aa93807515', 'message': 'Add pylint error checking to tox.ini\n\nOpenStack projects (cinder, manila, etc) have introduced pylint\nchecking to tox.ini. So this patch will refer to them, introduce\npylint to tox.ini in karbor.\n\nChange-Id: I202f1d8f65bd6d1aac0062ef97b1b7b5502c96a1\n'}, {'number': 2, 'created': '2017-05-24 12:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/2acfe145bbbc729454a6f5fa53d1a24c8fd05270', 'message': 'Add pylint error checking to tox.ini\n\nOpenStack projects (cinder, manila, etc) have introduced pylint\nchecking to tox.ini. So this patch will refer to them, introduce\npylint to tox.ini in karbor.\n\nChange-Id: I202f1d8f65bd6d1aac0062ef97b1b7b5502c96a1\n'}, {'number': 3, 'created': '2017-05-25 09:08:45.000000000', 'files': ['tools/lintstack.py', 'tools/lintstack.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/karbor/commit/ffd1a54df419db25bbea8fa9ac4ecbd50bac7ff5', 'message': 'Add pylint error checking to tox.ini\n\nOpenStack projects (cinder, manila, etc) have introduced pylint\nchecking to tox.ini. So this patch will refer to them, introduce\npylint to tox.ini in karbor.\n\nChange-Id: I202f1d8f65bd6d1aac0062ef97b1b7b5502c96a1\n'}]",0,467606,ffd1a54df419db25bbea8fa9ac4ecbd50bac7ff5,10,4,3,17151,,,0,"Add pylint error checking to tox.ini

OpenStack projects (cinder, manila, etc) have introduced pylint
checking to tox.ini. So this patch will refer to them, introduce
pylint to tox.ini in karbor.

Change-Id: I202f1d8f65bd6d1aac0062ef97b1b7b5502c96a1
",git fetch https://review.opendev.org/openstack/karbor refs/changes/06/467606/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/lintstack.py', 'tools/lintstack.sh', 'tox.ini']",3,d90fcb4781d9948aa653752b422e52aa93807515,tox_pylint,[testenv:pylint] deps = -r{toxinidir}/requirements.txt pylint==0.26.0 whitelist_externals = bash commands = bash tools/lintstack.sh ,,297,0
openstack%2Fkarbor~master~Ic1b6253648b24a5c070385771efeaf0aa4c83a04,openstack/karbor,master,Ic1b6253648b24a5c070385771efeaf0aa4c83a04,Add .idea pattern to .gitignore,ABANDONED,2017-04-10 10:28:37.000000000,2021-06-09 22:53:11.000000000,,"[{'_account_id': 3}, {'_account_id': 17151}, {'_account_id': 18266}]","[{'number': 1, 'created': '2017-04-10 10:28:37.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/karbor/commit/d674b8f6906704b36e84af53164488fac72d5d6a', 'message': 'Add .idea pattern to .gitignore\n\nThe .idea directoy is used by pycharm and should not be included\nin the change list. The change extends the .gitignore file to\navoid .idea directory to be shown in the change list.\n\nChange-Id: Ic1b6253648b24a5c070385771efeaf0aa4c83a04\n'}]",0,455218,d674b8f6906704b36e84af53164488fac72d5d6a,7,3,1,23733,,,0,"Add .idea pattern to .gitignore

The .idea directoy is used by pycharm and should not be included
in the change list. The change extends the .gitignore file to
avoid .idea directory to be shown in the change list.

Change-Id: Ic1b6253648b24a5c070385771efeaf0aa4c83a04
",git fetch https://review.opendev.org/openstack/karbor refs/changes/18/455218/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,d674b8f6906704b36e84af53164488fac72d5d6a,,.idea,,1,1
openstack%2Fkarbor~master~I41411c9ab55a80de89bdfaaee871b620cf452198,openstack/karbor,master,I41411c9ab55a80de89bdfaaee871b620cf452198,add oracle protectable plugin,ABANDONED,2016-11-29 01:27:27.000000000,2021-06-09 22:53:08.000000000,,"[{'_account_id': 2023}, {'_account_id': 17151}, {'_account_id': 21648}, {'_account_id': 23590}]","[{'number': 1, 'created': '2016-11-29 01:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/0629d6b08b995fd601c815cd34ef587dcacb90be', 'message': 'add oracle protectable plugin\n\nA protectable plugin for oracle database. This plugin allows\nkarbor to call EISOO AnyBackup to list/show oracle database\nprotectable resources.\n\nChange-Id: I41411c9ab55a80de89bdfaaee871b620cf452198\n'}, {'number': 2, 'created': '2016-12-12 03:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/3aadf38ed9c51a97277cd739916bd83b8e0ab764', 'message': 'add oracle protectable plugin\n\nA protectable plugin for oracle database. This plugin allows\nkarbor to call EISOO AnyBackup to list/show oracle database\nprotectable resources.\n\nChange-Id: I41411c9ab55a80de89bdfaaee871b620cf452198\n'}, {'number': 3, 'created': '2017-03-03 06:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/f7481f8d2c482b0f8692315d7b11cb39aa723ddf', 'message': 'add oracle protectable plugin\n\nA protectable plugin for oracle database. This plugin allows\nkarbor to call EISOO AnyBackup to list/show oracle database\nprotectable resources.\n\nChange-Id: I41411c9ab55a80de89bdfaaee871b620cf452198\n'}, {'number': 4, 'created': '2017-03-13 06:25:48.000000000', 'files': ['karbor/services/protection/protectable_plugins/eisoo/oracle.py', 'karbor/tests/unit/plugins/test_oracle_protectable_plugin.py', 'karbor/common/constants.py', 'setup.cfg', 'karbor/services/protection/protectable_plugins/eisoo/__init__.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/d808be142407b0836eb7ac5bef2234faf0683fdc', 'message': 'add oracle protectable plugin\n\nA protectable plugin for oracle database. This plugin allows\nkarbor to call EISOO AnyBackup to list/show oracle database\nprotectable resources.\n\nChange-Id: I41411c9ab55a80de89bdfaaee871b620cf452198\n'}]",16,403965,d808be142407b0836eb7ac5bef2234faf0683fdc,45,4,4,23590,,,0,"add oracle protectable plugin

A protectable plugin for oracle database. This plugin allows
karbor to call EISOO AnyBackup to list/show oracle database
protectable resources.

Change-Id: I41411c9ab55a80de89bdfaaee871b620cf452198
",git fetch https://review.opendev.org/openstack/karbor refs/changes/65/403965/4 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/services/protection/protectable_plugins/eisoo/oracle.py', 'karbor/tests/unit/plugins/test_oracle_protectable_plugin.py', 'karbor/common/constants.py', 'setup.cfg', 'karbor/services/protection/protectable_plugins/eisoo/__init__.py']",5,0629d6b08b995fd601c815cd34ef587dcacb90be,add-esioo-oracle-protectable-resource,,,138,0
openstack%2Fkarbor~master~Ib1a7a143ef902148d8164bf691bd10fb1e925d4e,openstack/karbor,master,Ib1a7a143ef902148d8164bf691bd10fb1e925d4e,EISOO AnyBackup Oracle protection plugin,ABANDONED,2017-03-10 06:05:52.000000000,2021-06-09 22:53:04.000000000,,"[{'_account_id': 17151}, {'_account_id': 25561}]","[{'number': 1, 'created': '2017-03-10 06:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/e88a9f04e87e4c584173839add68b55f9788d45f', 'message': 'EISOO AnyBackup Oracle protection plugin\n\nThis plugin allows karbor to call EISOO AnyBackup to  backup or restore\nthe oracle database.\n\nChange-Id: Ib1a7a143ef902148d8164bf691bd10fb1e925d4e\n'}, {'number': 2, 'created': '2017-03-10 08:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/610a7f9df3cfb2c396850e7c90fc218886870ff9', 'message': 'EISOO AnyBackup Oracle protection plugin\n\nThis plugin allows karbor to call EISOO AnyBackup to  backup or restore\nthe oracle database.\n\nChange-Id: Ib1a7a143ef902148d8164bf691bd10fb1e925d4e\n'}, {'number': 3, 'created': '2017-04-01 02:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/f04bd16723ba5528397b98858ea74dc84725bb0a', 'message': 'EISOO AnyBackup Oracle protection plugin\n\nThis plugin allows karbor to call EISOO AnyBackup to  backup or restore\nthe oracle database.\n\nChange-Id: Ib1a7a143ef902148d8164bf691bd10fb1e925d4e\n'}, {'number': 4, 'created': '2017-04-01 06:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/4578258d8fb50fee65c9b8880556a4d759eb7bb5', 'message': 'EISOO AnyBackup Oracle protection plugin\n\nThis plugin allows karbor to call EISOO AnyBackup to  backup or restore\nthe oracle database.\n\nChange-Id: Ib1a7a143ef902148d8164bf691bd10fb1e925d4e\n'}, {'number': 5, 'created': '2017-04-01 06:51:04.000000000', 'files': ['karbor/services/protection/protection_plugins/eisoo/oracle/oracle_protection_plugin.py', 'karbor/services/protection/protection_plugins/eisoo/oracle/oracle_plugin_schemas.py', 'karbor/services/protection/protection_plugins/eisoo/oracle/__init__.py', 'karbor/services/protection/clients/eisoo.py', 'karbor/tests/unit/protection/test_eisoo_oracle_protection_plugin.py', 'etc/providers.d/eisoo.conf', 'karbor/services/protection/protection_plugins/eisoo/__init__.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/karbor/commit/59e5395e48bbb65f3e10ffbcfc86b5182936bc66', 'message': 'EISOO AnyBackup Oracle protection plugin\n\nThis plugin allows karbor to call EISOO AnyBackup to  backup or restore\nthe oracle database.\n\nChange-Id: Ib1a7a143ef902148d8164bf691bd10fb1e925d4e\n'}]",10,444102,59e5395e48bbb65f3e10ffbcfc86b5182936bc66,13,2,5,23590,,,0,"EISOO AnyBackup Oracle protection plugin

This plugin allows karbor to call EISOO AnyBackup to  backup or restore
the oracle database.

Change-Id: Ib1a7a143ef902148d8164bf691bd10fb1e925d4e
",git fetch https://review.opendev.org/openstack/karbor refs/changes/02/444102/5 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/services/protection/protection_plugins/eisoo/oracle/oracle_protection_plugin.py', 'karbor/services/protection/protection_plugins/eisoo/oracle/oracle_plugin_schemas.py', 'karbor/services/protection/protection_plugins/eisoo/oracle/__init__.py', 'karbor/tests/unit/protection/test_eisoo_oracle_protection_plugin.py', 'etc/providers.d/eisoo.conf', 'karbor/services/protection/protection_plugins/eisoo/__init__.py', 'setup.cfg']",7,e88a9f04e87e4c584173839add68b55f9788d45f,eisoo-oracle-protection-plugin, karbor-eisoo-oracle-protection-plugin = karbor.services.protection.protection_plugins.eisoo.oracle.oracle_protection_plugin:OracleProtectionPlugin,,622,0
openstack%2Fkarbor~master~I7a306a7ed27d11b4c7fddeed981a5cbfac27782d,openstack/karbor,master,I7a306a7ed27d11b4c7fddeed981a5cbfac27782d,Bank indexing interface,ABANDONED,2016-08-16 15:25:06.000000000,2021-06-09 22:53:01.000000000,,"[{'_account_id': 2023}, {'_account_id': 15069}, {'_account_id': 17151}, {'_account_id': 17192}, {'_account_id': 19346}, {'_account_id': 23068}]","[{'number': 1, 'created': '2016-08-16 15:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/84caa6d5e822f3ea82d364c7f268a294a5a35e92', 'message': 'Bank indexing interface\n\nCurrently we can only query the bank on specific indices. This is poblematic\nfor use cases that needs to get subsections of the bank.\n\nWe propose a new indexing componet that will complement the bank component\nand allow advanced queries on the information in the bank.\n\nChange-Id: I7a306a7ed27d11b4c7fddeed981a5cbfac27782d\nImplements: blueprint bank-indexing\n'}, {'number': 2, 'created': '2016-08-16 15:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/d8bd68172c4c3c3e82e40c43efeaa273c2ef3d3f', 'message': 'Bank indexing interface\n\nCurrently we can only query the bank on specific indices. This is poblematic\nfor use cases that needs to get subsections of the bank.\n\nWe propose a new indexing componet that will complement the bank component\nand allow advanced queries on the information in the bank.\n\nChange-Id: I7a306a7ed27d11b4c7fddeed981a5cbfac27782d\nImplements: blueprint bank-indexing\n'}, {'number': 3, 'created': '2016-08-17 07:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/1da8c80b446426175bb6e47193ba6ce99c56b95d', 'message': 'Bank indexing interface\n\nCurrently we can only query the bank on specific indices. This is poblematic\nfor use cases that needs to get subsections of the bank.\n\nWe propose a new indexing componet that will complement the bank component\nand allow advanced queries on the information in the bank.\n\nChange-Id: I7a306a7ed27d11b4c7fddeed981a5cbfac27782d\nImplements: blueprint bank-indexing\n'}, {'number': 4, 'created': '2016-08-31 13:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/8025ef9281bf616a7fee9c09e9d8346a8e953cc8', 'message': 'Bank indexing interface\n\nCurrently we can only query the bank on specific indices. This is poblematic\nfor use cases that needs to get subsections of the bank.\n\nWe propose a new indexing componet that will complement the bank component\nand allow advanced queries on the information in the bank.\n\nChange-Id: I7a306a7ed27d11b4c7fddeed981a5cbfac27782d\nImplements: blueprint bank-indexing\n'}, {'number': 5, 'created': '2016-12-19 15:18:46.000000000', 'files': ['doc/source/specs/bank-indexing.rst', 'doc/source/specs/BankListener.pu', 'doc/source/specs/proactive-bank-indexing.rst'], 'web_link': 'https://opendev.org/openstack/karbor/commit/9d33a439184c93b68c7f8967f18941d567b40c77', 'message': 'Bank indexing interface\n\nCurrently we can only query the bank on specific indices. This is\nproblematic for use cases that needs to get subsections of the bank.\n\nWe propose a new indexing componet that will complement the bank component\nand allow advanced queries on the information in the bank.\n\nChange-Id: I7a306a7ed27d11b4c7fddeed981a5cbfac27782d\nImplements: blueprint bank-indexing\n'}]",28,356011,9d33a439184c93b68c7f8967f18941d567b40c77,24,6,5,2023,,,0,"Bank indexing interface

Currently we can only query the bank on specific indices. This is
problematic for use cases that needs to get subsections of the bank.

We propose a new indexing componet that will complement the bank component
and allow advanced queries on the information in the bank.

Change-Id: I7a306a7ed27d11b4c7fddeed981a5cbfac27782d
Implements: blueprint bank-indexing
",git fetch https://review.opendev.org/openstack/karbor refs/changes/11/356011/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/specs/BankListener.pu', 'doc/source/specs/proactive-bank-indexing.rst']",2,84caa6d5e822f3ea82d364c7f268a294a5a35e92,bp/bank-indexing,========================================== Proactive bank indexing ========================================== Preamble description =================== Since banks might be updated on a different site or the indexing agent might be down an miss notification from the bank the index must be able to rebuild the index proactivly by reading the bank. Abstract procedure ================== Since we can assume that once a checkpoint is finished (successfully or unsuccessfully) they become immutable. It's once we contain information about a finished checkpoint we just need to know if it was deleted. We will use hard coded indexes in the bank to facilitate easy indexing. * `/indices/in_progress/` All checkpoints that are in progress will allways be reread. It is assumed that there are very few 'in progress' checkpoint at any single point in time. * `/indices/created_at/<version>` (advanced every day?[TBD]) * `/indices/deleted_at/<version>` (advanced every day?[TBD]) Any time a proactive update is performed the indexer would remember the last version used. Any update will check all the object after that version and that version aswell for new checkpoint ids. The actual value is unimportant it is just important the the new version will be higher then the previouse (meaning we can use timestamps). Since this can bloat old version will be periodically removed. If the indexer can't find the version it last synced on (or it has none) it will just index the entire object store. For deletions it will have to check it's entire database against the mai index to see if it thinks certain checkpoits exist when they don't. ,,46,0
openstack%2Fkarbor~master~I19467224e2ce0766f90fae5119eca8e8fb72d124,openstack/karbor,master,I19467224e2ce0766f90fae5119eca8e8fb72d124,Add 'rm -f .testrepository/times.dbm' command in testenv,ABANDONED,2017-04-26 07:03:05.000000000,2021-06-09 22:52:57.000000000,,"[{'_account_id': 17151}, {'_account_id': 18266}, {'_account_id': 19930}, {'_account_id': 21797}, {'_account_id': 22056}, {'_account_id': 25254}, {'_account_id': 25553}]","[{'number': 1, 'created': '2017-04-26 07:03:05.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/karbor/commit/ce1b952998871a60e8c283d999ff775751ea6ca6', 'message': ""Add 'rm -f .testrepository/times.dbm' command in testenv\n\nRunning py2* post py3* tests results in error. Add\n'rm -f .testrepository/times.dbm' command in testenv to\nresolve this.\n\nChange-Id: I19467224e2ce0766f90fae5119eca8e8fb72d124\n""}]",0,459969,ce1b952998871a60e8c283d999ff775751ea6ca6,12,7,1,25571,,,0,"Add 'rm -f .testrepository/times.dbm' command in testenv

Running py2* post py3* tests results in error. Add
'rm -f .testrepository/times.dbm' command in testenv to
resolve this.

Change-Id: I19467224e2ce0766f90fae5119eca8e8fb72d124
",git fetch https://review.opendev.org/openstack/karbor refs/changes/69/459969/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ce1b952998871a60e8c283d999ff775751ea6ca6,,commands = rm -f .testrepository/times.dbm python setup.py test --slowest --testr-args='{posargs}',commands = python setup.py test --slowest --testr-args='{posargs}',2,1
openstack%2Fkarbor~master~I962015646e7ac332dc75a9cd4ddc6c576f4f418e,openstack/karbor,master,I962015646e7ac332dc75a9cd4ddc6c576f4f418e,Implement Karbor REST API microversions,ABANDONED,2017-08-31 06:15:18.000000000,2021-06-09 22:52:55.000000000,,"[{'_account_id': 17151}, {'_account_id': 21224}]","[{'number': 1, 'created': '2017-08-31 06:15:18.000000000', 'files': ['karbor/api/v1/router.py', 'test-requirements.txt', 'karbor/api/openstack/wsgi.py', 'karbor/tests/unit/api/openstack/test_wsgi.py', 'karbor/tests/unit/test_utils.py', 'karbor/tests/unit/api/test_versions.py', 'karbor/api/openstack/versioned_method.py', 'etc/api-paste.ini', 'karbor/api/openstack/rest_api_version_history.rst', 'karbor/tests/unit/api/openstack/test_versioned_method.py', 'karbor/api/openstack/api_version_request.py', 'karbor/api/versions.py', 'karbor/tests/unit/api/openstack/test_api_version_request.py', 'karbor/utils.py', 'karbor/exception.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/7a69a4c1ffc08b0658e9ce1a045e4a23d17a2132', 'message': 'Implement Karbor REST API microversions\n\nWe need a way to be able to introduce changes to the REST API\nto both fix bugs and add new features. Some of these changes\nare backwards incompatible and we currently have no way of\ndoing this. This becomes especially important to introduce\nbackwards incompatible changes to the REST API.\n\nMost of projects like nova[1], cinder[2], manial[3] have introduced\nAPI microversions. The API microversions will also be introduced\nto Karbor.\n\nThis commit ports the Cinder[2] microversion code to karbor.\n\nWith this patch, the API version is bumped to 1.1, and the\nversions API is the first API that is versioned.  The 1.1 version\nof the versions API includes the minimum and current API\nversion values.\n\n[1] https://developer.openstack.org/api-guide/compute/microversions.html\n[2] https://review.openstack.org/#/c/224910/\n[3] https://review.openstack.org/#/c/207228/\n\nChange-Id: I962015646e7ac332dc75a9cd4ddc6c576f4f418e\nCloses-Bug:#1713967\n'}]",0,499465,7a69a4c1ffc08b0658e9ce1a045e4a23d17a2132,9,2,1,17151,,,0,"Implement Karbor REST API microversions

We need a way to be able to introduce changes to the REST API
to both fix bugs and add new features. Some of these changes
are backwards incompatible and we currently have no way of
doing this. This becomes especially important to introduce
backwards incompatible changes to the REST API.

Most of projects like nova[1], cinder[2], manial[3] have introduced
API microversions. The API microversions will also be introduced
to Karbor.

This commit ports the Cinder[2] microversion code to karbor.

With this patch, the API version is bumped to 1.1, and the
versions API is the first API that is versioned.  The 1.1 version
of the versions API includes the minimum and current API
version values.

[1] https://developer.openstack.org/api-guide/compute/microversions.html
[2] https://review.openstack.org/#/c/224910/
[3] https://review.openstack.org/#/c/207228/

Change-Id: I962015646e7ac332dc75a9cd4ddc6c576f4f418e
Closes-Bug:#1713967
",git fetch https://review.opendev.org/openstack/karbor refs/changes/65/499465/1 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/api/v1/router.py', 'test-requirements.txt', 'karbor/api/openstack/wsgi.py', 'karbor/tests/unit/api/openstack/test_wsgi.py', 'karbor/tests/unit/test_utils.py', 'karbor/tests/unit/api/test_versions.py', 'karbor/api/openstack/versioned_method.py', 'etc/api-paste.ini', 'karbor/api/openstack/rest_api_version_history.rst', 'karbor/tests/unit/api/openstack/test_versioned_method.py', 'karbor/api/openstack/api_version_request.py', 'karbor/api/versions.py', 'karbor/tests/unit/api/openstack/test_api_version_request.py', 'karbor/utils.py', 'karbor/exception.py']",15,7a69a4c1ffc08b0658e9ce1a045e4a23d17a2132,bug/1713967," class InvalidAPIVersionString(Invalid): message = _(""API Version String %(version)s is of invalid format. Must "" ""be of format MajorNum.MinorNum."") class InvalidGlobalAPIVersion(Invalid): message = _(""Version %(req_ver)s is not supported by the API. Minimum "" ""is %(min_ver)s and maximum is %(max_ver)s."") class VersionNotFoundForAPIMethod(Invalid): message = _(""API version %(version)s is not supported on this method."")",,931,23
openstack%2Fkarbor~master~I9601c604ccb896b6facfd3fe1a5a1a9a388662f7,openstack/karbor,master,I9601c604ccb896b6facfd3fe1a5a1a9a388662f7,Add requirements deps,ABANDONED,2017-03-31 08:53:54.000000000,2021-06-09 22:52:52.000000000,,"[{'_account_id': 18266}, {'_account_id': 21648}, {'_account_id': 22056}]","[{'number': 1, 'created': '2017-03-31 08:53:54.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/karbor/commit/a3c376389a527b20384559df83150ef9b28ae3e1', 'message': 'Add requirements deps\n\nwhen build a new env, and run tox test, it may report some\npackage not found.\n\nChange-Id: I9601c604ccb896b6facfd3fe1a5a1a9a388662f7\n'}]",0,452103,a3c376389a527b20384559df83150ef9b28ae3e1,10,3,1,21648,,,0,"Add requirements deps

when build a new env, and run tox test, it may report some
package not found.

Change-Id: I9601c604ccb896b6facfd3fe1a5a1a9a388662f7
",git fetch https://review.opendev.org/openstack/karbor refs/changes/03/452103/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a3c376389a527b20384559df83150ef9b28ae3e1,add-requirements-deps,deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt,deps = -r{toxinidir}/test-requirements.txt,2,1
openstack%2Fkarbor~master~I7e85b60840702eac8e4d78da363b0817d6295c9b,openstack/karbor,master,I7e85b60840702eac8e4d78da363b0817d6295c9b,Add and delete checkpoint_record of CheckpointRecord db,ABANDONED,2016-11-17 09:57:38.000000000,2021-06-09 22:52:49.000000000,,"[{'_account_id': 2023}, {'_account_id': 17151}, {'_account_id': 17192}, {'_account_id': 17285}, {'_account_id': 18266}, {'_account_id': 18908}, {'_account_id': 21648}, {'_account_id': 23068}]","[{'number': 1, 'created': '2016-11-17 09:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/da718edad554452c40a159f3572992223caba3c5', 'message': ""Add checkpoint record to CheckpointRecord db\n\nCurrently, only general add checkpoint_record records.\nAfter this patch(https://review.openstack.org/#/c/352748) is merged,\nI will classify record based on 'extra-info' field, and update it.\n\nChange-Id: I7e85b60840702eac8e4d78da363b0817d6295c9b\n""}, {'number': 2, 'created': '2016-11-18 06:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/ef542f92b0e54ec7b1bbb71935134904ecfd3dc4', 'message': ""Add checkpoint record to CheckpointRecord db\n\nCurrently, only general add checkpoint_record records.\nAfter this patch(https://review.openstack.org/#/c/352748) is merged,\nI will classify record based on 'extra-info' field, and update it.\n\nChange-Id: I7e85b60840702eac8e4d78da363b0817d6295c9b\n""}, {'number': 3, 'created': '2016-11-18 07:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/3d050c39c56031bdf4d75dce82e9c341cb0f5f10', 'message': ""Add checkpoint record to CheckpointRecord db\n\nCurrently, only general add checkpoint_record records.\nAfter this patch(https://review.openstack.org/#/c/352748) is merged,\nI will classify record based on 'extra-info' field, and update it.\n\nChange-Id: I7e85b60840702eac8e4d78da363b0817d6295c9b\n""}, {'number': 4, 'created': '2016-12-20 05:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/61dd355a4abcf5ab7d7268e279780f9b59914de7', 'message': ""Add checkpoint record to CheckpointRecord db\n\nCurrently, only general add checkpoint_record records.\nAfter this patch(https://review.openstack.org/#/c/352748) is merged,\nI will classify record based on 'extra-info' field, and update it.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I7e85b60840702eac8e4d78da363b0817d6295c9b\nImplements: blueprint checkpoint-scheduled-clean\n""}, {'number': 5, 'created': '2016-12-20 07:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/50878730467533bc98f1b53331e995d0b7b9c9a0', 'message': 'Add and delete checkpoint_record of CheckpointRecord db\n\nAdd records when checkpoint is created and it is created by\nscheduledoperation, and delete records when checkpoint has been deleted.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I7e85b60840702eac8e4d78da363b0817d6295c9b\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 6, 'created': '2016-12-20 07:53:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/9c267930ee46c62cad917aa6d411b8c337df4b58', 'message': 'Add and delete checkpoint_record of CheckpointRecord db\n\nAdd records when checkpoint is created and it is created by\nscheduledoperation, and delete records when checkpoint has been deleted.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I7e85b60840702eac8e4d78da363b0817d6295c9b\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 7, 'created': '2016-12-20 09:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/23ae85f27a45ae0099e42dca4d241be905874d35', 'message': 'Add and delete checkpoint_record of CheckpointRecord db\n\nAdd records when checkpoint is created and it is created by\nscheduledoperation, and delete records when checkpoint has been deleted.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I7e85b60840702eac8e4d78da363b0817d6295c9b\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 8, 'created': '2016-12-21 08:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/84795720e73e0451c118441caf4f862a6cd1b902', 'message': 'Add and delete checkpoint_record of CheckpointRecord db\n\nAdd records when checkpoint is created and it is created by\nscheduledoperation, and delete records when checkpoint has been deleted.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I7e85b60840702eac8e4d78da363b0817d6295c9b\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 9, 'created': '2016-12-21 09:48:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/5a6043f01925fdb1172c859eb5705afe82a7fdd0', 'message': 'Add and delete checkpoint_record of CheckpointRecord db\n\nAdd records when checkpoint is created and it is created by\nscheduledoperation, and delete records when checkpoint has been deleted.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I7e85b60840702eac8e4d78da363b0817d6295c9b\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 10, 'created': '2016-12-22 01:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/e61ecf81530d901fefee605e642520badd13c40d', 'message': 'Add and delete checkpoint_record of CheckpointRecord db\n\nAdd records when checkpoint is created and it is created by\nscheduledoperation, and delete records when checkpoint has been deleted.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I7e85b60840702eac8e4d78da363b0817d6295c9b\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 11, 'created': '2016-12-26 02:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/cbc66647a8e2cd8d1dddfcf4b3b47758c1fa3043', 'message': 'Add and delete checkpoint_record of CheckpointRecord db\n\nAdd records when checkpoint is created and it is created by\nscheduledoperation, and delete records when checkpoint has been deleted.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I7e85b60840702eac8e4d78da363b0817d6295c9b\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 12, 'created': '2016-12-26 07:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/c933c39db5a479d67ad7a10cf757d256785aa0df', 'message': 'Add and delete checkpoint_record of CheckpointRecord db\n\nAdd records when checkpoint is created and it is created by\nscheduledoperation, and delete records when checkpoint has been deleted.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I7e85b60840702eac8e4d78da363b0817d6295c9b\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 13, 'created': '2016-12-26 08:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/df0114ff37081973535df8feece0a9455bf4be7e', 'message': 'Add and delete checkpoint_record of CheckpointRecord db\n\nAdd records when checkpoint is created and it is created by\nscheduledoperation, and delete records when checkpoint has been deleted.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I7e85b60840702eac8e4d78da363b0817d6295c9b\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 14, 'created': '2017-02-10 06:48:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/546d983a120fc0552f73698ebf77b65e5b274e53', 'message': 'Add and delete checkpoint_record of CheckpointRecord db\n\nAdd records when checkpoint is created and it is created by\nscheduledoperation, and delete records when checkpoint has been deleted.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I7e85b60840702eac8e4d78da363b0817d6295c9b\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 15, 'created': '2017-03-07 05:52:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/1755e2898d06aa2dddabac18c552deda2f8217f9', 'message': 'Add and delete checkpoint_record of CheckpointRecord db\n\nAdd records when checkpoint is created and it is created by\nscheduledoperation, and delete records when checkpoint has been deleted.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I7e85b60840702eac8e4d78da363b0817d6295c9b\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 16, 'created': '2017-03-09 07:12:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/25dbebebd9ff0e0ab7528e3610f6385ecb276c59', 'message': 'Add and delete checkpoint_record of CheckpointRecord db\n\nAdd records when checkpoint is created and it is created by\nscheduledoperation, and delete records when checkpoint has been deleted.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I7e85b60840702eac8e4d78da363b0817d6295c9b\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 17, 'created': '2017-03-09 08:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/31e2c21a188a067dfe42325a5d4e5f9e95484f8e', 'message': 'Add and delete checkpoint_record of CheckpointRecord db\n\nAdd records when checkpoint is created and it is created by\nscheduledoperation, and delete records when checkpoint has been deleted.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I7e85b60840702eac8e4d78da363b0817d6295c9b\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 18, 'created': '2017-03-14 01:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/abb32d09a452d4fa3de77fef77910adc59738933', 'message': 'Add and delete checkpoint_record of CheckpointRecord db\n\nAdd records when checkpoint is created and it is created by\nscheduledoperation, and delete records when checkpoint has been deleted.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: I7e85b60840702eac8e4d78da363b0817d6295c9b\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 19, 'created': '2017-03-15 06:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/e5a524ab6e2b78fb52753776bc90e0e0139dab53', 'message': 'Add and delete checkpoint_record of CheckpointRecord db\n\nAdd records when checkpoint is created and it is created by\nscheduledoperation, and delete records when checkpoint has\nbeen deleted.\n\nChange-Id: I7e85b60840702eac8e4d78da363b0817d6295c9b\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 20, 'created': '2017-03-22 02:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/2e9cff53fb76ecb95173c39d1e120fbd0e983575', 'message': 'Add and delete checkpoint_record of CheckpointRecord db\n\nAdd records when checkpoint is created and it is created by\nscheduledoperation, and delete records when checkpoint has\nbeen deleted.\n\nChange-Id: I7e85b60840702eac8e4d78da363b0817d6295c9b\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 21, 'created': '2017-03-22 03:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/c9eec2374ebf7bf89f880d53b6363186ab9f8073', 'message': 'Add and delete checkpoint_record of CheckpointRecord db\n\nAdd records when checkpoint is created and it is created by\nscheduledoperation, and delete records when checkpoint has\nbeen deleted.\n\nChange-Id: I7e85b60840702eac8e4d78da363b0817d6295c9b\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 22, 'created': '2017-03-22 06:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/acb6dfa5c78c9bbc8fa586eeaefc6d571b3f7f8b', 'message': 'Add and delete checkpoint_record of CheckpointRecord db\n\nAdd records when checkpoint is created and it is created by\nscheduledoperation, and delete records when checkpoint has\nbeen deleted.\n\nChange-Id: I7e85b60840702eac8e4d78da363b0817d6295c9b\nImplements: blueprint checkpoint-scheduled-clean\n'}, {'number': 23, 'created': '2017-03-22 06:08:17.000000000', 'files': ['karbor/services/protection/flows/protect.py', 'karbor/services/protection/flows/delete.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/0c857086a7868b71c1ea3e0a3fa95b272467c69d', 'message': 'Add and delete checkpoint_record of CheckpointRecord db\n\nAdd records when checkpoint is created and it is created by\nscheduledoperation, and delete records when checkpoint has\nbeen deleted.\n\nChange-Id: I7e85b60840702eac8e4d78da363b0817d6295c9b\nImplements: blueprint checkpoint-scheduled-clean\n'}]",33,398892,0c857086a7868b71c1ea3e0a3fa95b272467c69d,75,8,23,21648,,,0,"Add and delete checkpoint_record of CheckpointRecord db

Add records when checkpoint is created and it is created by
scheduledoperation, and delete records when checkpoint has
been deleted.

Change-Id: I7e85b60840702eac8e4d78da363b0817d6295c9b
Implements: blueprint checkpoint-scheduled-clean
",git fetch https://review.opendev.org/openstack/karbor refs/changes/92/398892/7 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/services/protection/flows/create_protection.py', 'karbor/services/protection/checkpoint.py']",2,da718edad554452c40a159f3572992223caba3c5,bug/add-and-delete-checkpoint-record,"from karbor.common import constants from karbor import exception from karbor.i18n import _, _LE from karbor import objects from karbor.services.protection import graph def commit_db(self, context): checkpoint_dict = self.to_dict() extend_info = checkpoint_dict.get('extend_info', None) create_by = (extend_info.get('create_by', None) if extend_info else None) checkpoint_properties = { 'project_id': checkpoint_dict['project_id'], 'checkpoint_id': checkpoint_dict['id'], 'checkpoint_status': checkpoint_dict['status'], 'provider_id': checkpoint_dict['protection_plan']['provider_id'], 'plan_id': checkpoint_dict['protection_plan']['id'], 'operation_id': checkpoint_dict.get('operation_id', None), 'create_by': create_by, 'extend_info': extend_info, } checkpoint_ = objects.CheckpointRecord(context=context, **checkpoint_properties) checkpoint_.create() ","from karbor.common import constants from karbor import exception from karbor.i18n import _, _LE from karbor.services.protection import graph",30,6
