id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fdevstack~master~I9e12f8dc9e3e6b68dc031351cb081ee2bc6e6cbb,openstack/devstack,master,I9e12f8dc9e3e6b68dc031351cb081ee2bc6e6cbb,Set compute-feature-enabled.attach_encrypted_volume Tempest option,MERGED,2015-06-20 21:51:35.000000000,2015-07-01 20:49:54.000000000,2015-07-01 20:49:53.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 5196}, {'_account_id': 6873}, {'_account_id': 7350}, {'_account_id': 9003}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-06-20 21:51:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/845fdb8409633e1fbe75da8029406c90cc6fec22', 'message': ""Set compute-feature-enabled.attach_encrypted_volume=False for Ceph job\n\nThe encrypted Cinder volume tests in Tempest don't actually work\nproperly for a Ceph backend in cinder since the volume encryption\nsupport is not in Nova for RBD volume types.\n\nThis disables the encrypted Cinder volume Tempest tests when the\nstorage_protocol is 'ceph', which is set in devstack-gate for the Ceph\njob.\n\nThis is needed for Cinder change\nI03f8cae05cc117e14f7482115de685fc9f3fa54a which tells Nova that the rbd\nvolume connection is on an encrypted volume type.\n\nDepends-On: I48eba7c645cc1c979fd766ae9c05efb00957f787\n\nRelated-Bug: #1463525\n\nChange-Id: I9e12f8dc9e3e6b68dc031351cb081ee2bc6e6cbb\n""}, {'number': 2, 'created': '2015-06-20 22:05:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a5aa34b89db628798600636c558490a4ab9166b1', 'message': 'Set compute-feature-enabled.attach_encrypted_volume Tempest option\n\nThis allows setting the new option in Tempest for toggling whether\nor not the Cinder encrypted volume tests should run.\n\nDepends-On: I48eba7c645cc1c979fd766ae9c05efb00957f787\n\nRelated-Bug: #1463525\n\nChange-Id: I9e12f8dc9e3e6b68dc031351cb081ee2bc6e6cbb\n'}, {'number': 3, 'created': '2015-07-01 16:40:36.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e57a33224bcc8a22b4c64be2a7e3b7e784a2536a', 'message': 'Set compute-feature-enabled.attach_encrypted_volume Tempest option\n\nThis allows setting the new option in Tempest for toggling whether\nor not the Cinder encrypted volume tests should run.\n\nDepends-On: I48eba7c645cc1c979fd766ae9c05efb00957f787\n\nRelated-Bug: #1463525\n\nChange-Id: I9e12f8dc9e3e6b68dc031351cb081ee2bc6e6cbb\n'}]",5,193834,e57a33224bcc8a22b4c64be2a7e3b7e784a2536a,24,7,3,6873,,,0,"Set compute-feature-enabled.attach_encrypted_volume Tempest option

This allows setting the new option in Tempest for toggling whether
or not the Cinder encrypted volume tests should run.

Depends-On: I48eba7c645cc1c979fd766ae9c05efb00957f787

Related-Bug: #1463525

Change-Id: I9e12f8dc9e3e6b68dc031351cb081ee2bc6e6cbb
",git fetch https://review.opendev.org/openstack/devstack refs/changes/34/193834/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,845fdb8409633e1fbe75da8029406c90cc6fec22,bug/1463525," # Check for bug 1463525 if [ ""$TEMPEST_STORAGE_PROTOCOL"" = ""ceph"" ] ; then iniset $TEMPEST_CONFIG compute-feature-enabled attach_encrypted_volume False fi",,5,0
openstack%2Fastara~master~Ieb24cdf1a2e3d895b33a588012a0153cfe9d93a8,openstack/astara,master,Ieb24cdf1a2e3d895b33a588012a0153cfe9d93a8,Cleanup requirements,MERGED,2015-06-29 21:02:07.000000000,2015-07-01 20:40:46.000000000,2015-07-01 20:40:45.000000000,"[{'_account_id': 3}, {'_account_id': 2592}, {'_account_id': 6923}]","[{'number': 1, 'created': '2015-06-29 21:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/astara/commit/b38148f499477cc8e7c4cbacc69eb0dcaf8a9755', 'message': 'Move eventlet from test-requirements.txt to requirements.txt\n\nMoves this to where it should be, and updates version as per\nglobal-requirements.txt\n\nChange-Id: Ieb24cdf1a2e3d895b33a588012a0153cfe9d93a8\n'}, {'number': 2, 'created': '2015-06-29 21:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/astara/commit/70017c8675ecf3c166c464cddeac9523cd10176b', 'message': ""Cleanup some requirements\n\nMoves eventlet + six to where they should be, and updates version as per\nglobal-requirements.txt. Removes kombu, as this'll get pulled in by\noslo.messaging.\n\nChange-Id: Ieb24cdf1a2e3d895b33a588012a0153cfe9d93a8\n""}, {'number': 3, 'created': '2015-06-29 23:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/astara/commit/40ffdee6ef384ce23227702ef337777825bdeb5c', 'message': ""Cleanup some requirements\n\nMoves eventlet + six to where they should be, and updates version as per\nglobal-requirements.txt. Removes kombu, as this'll get pulled in by\noslo.messaging. Updates WebOb to match current global-requirements\nconstraint.\n\nChange-Id: Ieb24cdf1a2e3d895b33a588012a0153cfe9d93a8\n""}, {'number': 4, 'created': '2015-06-29 23:15:39.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'setup.py'], 'web_link': 'https://opendev.org/openstack/astara/commit/b08e39b4afac1d9ee36a30283d52abf77f7f20ff', 'message': ""Cleanup requirements\n\nMoves eventlet + six to where they should be and runs requirements'\nupdate.py through the repo, setting correct liberty constraints.\n\nChange-Id: Ieb24cdf1a2e3d895b33a588012a0153cfe9d93a8\n""}]",0,196860,b08e39b4afac1d9ee36a30283d52abf77f7f20ff,11,3,4,1420,,,0,"Cleanup requirements

Moves eventlet + six to where they should be and runs requirements'
update.py through the repo, setting correct liberty constraints.

Change-Id: Ieb24cdf1a2e3d895b33a588012a0153cfe9d93a8
",git fetch https://review.opendev.org/openstack/astara refs/changes/60/196860/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,b38148f499477cc8e7c4cbacc69eb0dcaf8a9755,eventlet,,eventlet==0.12.1,1,1
openstack%2Ffuel-library~master~I7d8890bd60ff39684839a721e8169f3608a68f5d,openstack/fuel-library,master,I7d8890bd60ff39684839a721e8169f3608a68f5d,Add possibility to deploy swift proxy,MERGED,2015-06-30 14:28:25.000000000,2015-07-01 20:36:59.000000000,2015-07-01 20:36:24.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 7468}, {'_account_id': 8786}, {'_account_id': 8787}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 9387}, {'_account_id': 9546}, {'_account_id': 11090}, {'_account_id': 11827}, {'_account_id': 12953}, {'_account_id': 13343}, {'_account_id': 13344}, {'_account_id': 13948}, {'_account_id': 14774}, {'_account_id': 14985}, {'_account_id': 17057}]","[{'number': 1, 'created': '2015-06-30 14:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/5c68a67df4a58fb99ee639dd5ff9cf911f6a02d6', 'message': 'Add possibility to deploy swift proxy\n\n - Added ability to deploy swift-proxy role\n - Removed hardcode keystone settings for user/tenant/host\n - Added flag for keystone endpoint/user/service creation\n - Renamed $swift_proxies settings because of conflict with haproxy\n - Renamed $controller_node_address for keystone auth\n\nChange-Id: I7d8890bd60ff39684839a721e8169f3608a68f5d\n'}, {'number': 2, 'created': '2015-06-30 14:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/0cfbdb6f5e1e9f79849a448caaea5b1df3f25630', 'message': 'Add possibility to deploy swift proxy\n\n - Added ability to deploy swift-proxy/swift-storage role\n - Removed hardcode keystone settings for user/tenant/host\n - Added flag for keystone endpoint/user/service creation\n - Renamed $swift_proxies settings because of conflict with haproxy\n - Renamed $controller_node_address for keystone auth\n\nChange-Id: I7d8890bd60ff39684839a721e8169f3608a68f5d\n'}, {'number': 3, 'created': '2015-06-30 15:47:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/3d98925bfd4aaf7062ff45e4808bb393da90e95e', 'message': 'Add possibility to deploy swift proxy\n\n - Added ability to deploy swift-proxy/swift-storage role\n - Removed hardcode keystone settings for user/tenant/host\n - Added flag for keystone endpoint/user/service creation\n - Renamed $swift_proxies settings because of conflict with haproxy\n - Renamed $controller_node_address for keystone auth\n\nChange-Id: I7d8890bd60ff39684839a721e8169f3608a68f5d\n'}, {'number': 4, 'created': '2015-06-30 16:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/d863e5fbd559bbce6fde8994a5f5981fdaf69086', 'message': 'Add possibility to deploy swift proxy\n\n - Added ability to deploy swift-proxy/swift-storage role\n - Removed hardcode keystone settings for user/tenant/host\n - Added flag for keystone endpoint/user/service creation\n - Renamed $swift_proxies settings because of conflict with haproxy\n - Renamed $controller_node_address for keystone auth\n\nPartial blueprint: detach-components-from-controllers\n\nChange-Id: I7d8890bd60ff39684839a721e8169f3608a68f5d\n'}, {'number': 5, 'created': '2015-06-30 16:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/8c2556571b629584d3f5a379d266eb2b224384d4', 'message': 'Add possibility to deploy swift proxy\n\n - Added ability to deploy swift-proxy/swift-storage role\n - Removed hardcode keystone settings for user/tenant/host\n - Added flag for keystone endpoint/user/service creation\n - Renamed $swift_proxies settings because of conflict with haproxy\n - Renamed $controller_node_address for keystone auth\n\nPartial blueprint: detach-components-from-controllers\nCo-Authored-By: Nikita Koshikov <nkoshikov@mirantis.com>\n\nChange-Id: I7d8890bd60ff39684839a721e8169f3608a68f5d\n'}, {'number': 6, 'created': '2015-06-30 17:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/48a0b589cbc34280984b17ea04005244f1016499', 'message': 'Add possibility to deploy swift proxy\n\n - Added ability to deploy swift-proxy/swift-storage role\n - Removed hardcode keystone settings for user/tenant/host\n - Added flag for keystone endpoint/user/service creation\n - Renamed $swift_proxies settings because of conflict with haproxy\n - Renamed $controller_node_address for keystone auth\n\nPartial blueprint: detach-components-from-controllers\nCo-Authored-By: Nikita Koshikov <nkoshikov@mirantis.com>\n\nChange-Id: I7d8890bd60ff39684839a721e8169f3608a68f5d\n'}, {'number': 7, 'created': '2015-06-30 21:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/f92cbc4d477bc4dbef4ad64137a6b3044af63c46', 'message': 'Add possibility to deploy swift proxy\n\n - Added ability to deploy swift-proxy/swift-storage role\n - Removed hardcode keystone settings for user/tenant/host\n - Added flag for keystone endpoint/user/service creation\n - Renamed $swift_proxies settings because of conflict with haproxy\n - Renamed $controller_node_address for keystone auth\n\nPartial blueprint: detach-components-from-controllers\nCo-Authored-By: Nikita Koshikov <nkoshikov@mirantis.com>\n\nChange-Id: I7d8890bd60ff39684839a721e8169f3608a68f5d\n'}, {'number': 8, 'created': '2015-07-01 09:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/b0c9d4363693724834e31b9b998e28b0f4365f51', 'message': 'Add possibility to deploy swift proxy\n\n - Added ability to deploy swift-proxy/swift-storage role\n - Removed hardcode keystone settings for user/tenant/host\n - Added flag for keystone endpoint/user/service creation\n - Renamed $swift_proxies settings because of conflict with haproxy\n - Renamed $controller_node_address for keystone auth\n\nPartial blueprint: detach-components-from-controllers\nCo-Authored-By: Nikita Koshikov <nkoshikov@mirantis.com>\n\nChange-Id: I7d8890bd60ff39684839a721e8169f3608a68f5d\n'}, {'number': 9, 'created': '2015-07-01 10:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/96f6db7e5d78a43f7f178233a6a6d1cca51d3c3e', 'message': 'Add possibility to deploy swift proxy\n\n - Added ability to deploy swift-proxy/swift-storage role\n - Removed hardcode keystone settings for user/tenant/host\n - Added flag for keystone endpoint/user/service creation\n - Renamed $swift_proxies settings because of conflict with haproxy\n - Renamed $controller_node_address for keystone auth\n\nPartial blueprint: detach-components-from-controllers\nCo-Authored-By: Nikita Koshikov <nkoshikov@mirantis.com>\n\nChange-Id: I7d8890bd60ff39684839a721e8169f3608a68f5d\n'}, {'number': 10, 'created': '2015-07-01 13:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/3db63100c6d056c210cd630c821be5ecae09f954', 'message': 'Add possibility to deploy swift proxy\n\n - Added ability to deploy swift-proxy/swift-storage role\n - Removed hardcode keystone settings for user/tenant/host\n - Added flag for keystone endpoint/user/service creation\n - Renamed $swift_proxies settings because of conflict with haproxy\n - Renamed $controller_node_address for keystone auth\n\nPartial blueprint: detach-components-from-controllers\nCo-Authored-By: Nikita Koshikov <nkoshikov@mirantis.com>\n\nChange-Id: I7d8890bd60ff39684839a721e8169f3608a68f5d\n'}, {'number': 11, 'created': '2015-07-01 14:01:55.000000000', 'files': ['deployment/puppet/openstack/manifests/swift/proxy.pp', 'deployment/puppet/osnailyfacter/modular/swift/swift.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/515fd6bd877350da1b6636db5cd9c4c79021c423', 'message': 'Add possibility to deploy swift proxy\n\n - Added ability to deploy swift-proxy/swift-storage role\n - Removed hardcode keystone settings for user/tenant/host\n - Added flag for keystone endpoint/user/service creation\n - Renamed $swift_proxies settings because of conflict with haproxy\n - Renamed $controller_node_address for keystone auth\n\nPartial blueprint: detach-components-from-controllers\nCo-Authored-By: Nikita Koshikov <nkoshikov@mirantis.com>\n\nChange-Id: I7d8890bd60ff39684839a721e8169f3608a68f5d\n'}]",0,197110,515fd6bd877350da1b6636db5cd9c4c79021c423,173,18,11,12953,,,0,"Add possibility to deploy swift proxy

 - Added ability to deploy swift-proxy/swift-storage role
 - Removed hardcode keystone settings for user/tenant/host
 - Added flag for keystone endpoint/user/service creation
 - Renamed $swift_proxies settings because of conflict with haproxy
 - Renamed $controller_node_address for keystone auth

Partial blueprint: detach-components-from-controllers
Co-Authored-By: Nikita Koshikov <nkoshikov@mirantis.com>

Change-Id: I7d8890bd60ff39684839a721e8169f3608a68f5d
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/10/197110/6 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/openstack/manifests/swift/proxy.pp', 'deployment/puppet/osnailyfacter/modular/swift/swift.pp']",2,5c68a67df4a58fb99ee639dd5ff9cf911f6a02d6,bp/templates-for-networking,"$swift_hash = hiera_hash('swift_hash') $swift_master_role = hiera('swift_master_role', 'primary-controller') $swift_nodes = pick(hiera('swift_nodes', undef), hiera('controllers', undef)) $swift_proxies_cache = pick(hiera('swift_proxies_cache', undef), hiera('controller_nodes', undef)) $primary_swift = pick(hiera('primary_swift', undef), hiera('primary_controller', undef)) $proxy_port = hiera('proxy_port', '8080') $network_scheme = hiera('network_scheme', {}) $storage_hash = hiera('storage_hash') $mp_hash = hiera('mp') $management_vip = hiera('management_vip') $debug = hiera('debug', false) $verbose = hiera('verbose') $storage_address = hiera('storage_address') $node = hiera('node') $ring_min_part_hours = hiera('swift_ring_min_part_hours', 1) $deploy_swift_storage = hiera('deploy_swift_storage', true) $deploy_swift_proxy = hiera('deploy_swift_proxy', true) $create_keystone_auth = pick($swift_hash['create_keystone_auth'], true) #Keystone settings $service_endpoint = hiera('service_endpoint', $management_vip) $keystone_endpoint = hiera('keystone_endpoint', $service_endpoint) $keystone_user = pick($swift_hash['user'], 'swift') $keystone_password = pick($swift_hash['user_password'], 'passsword') $keystone_tenant = pick($swift_hash['tenant'], 'services') $keystone_protocol = pick($swift_hash['auth_protocol'], 'http') if ($deploy_swift_storage){ class { 'openstack::swift::storage_node': storage_type => false, loopback_size => '5243780', storage_mnt_base_dir => $swift_partition, storage_devices => filter_hash($mp_hash,'point'), swift_zone => $node[0]['swift_zone'], swift_local_net_ip => $storage_address, master_swift_proxy_ip => $master_swift_proxy_ip, sync_rings => ! $primary_proxy, debug => $debug, verbose => $verbose, log_facility => 'LOG_SYSLOG', } if ($deploy_swift_proxy){ $resize_value = pick($swift_hash['resize_value'], 2) $ring_part_power = calc_ring_part_power($swift_nodes,$resize_value) $sto_net = $network_scheme['endpoints'][$network_scheme['roles']['storage']]['IP'] $man_net = $network_scheme['endpoints'][$network_scheme['roles']['management']]['IP'] class { 'openstack::swift::proxy': swift_user_password => $swift_hash['user_password'], swift_proxies_cache => $swift_proxies_cache, ring_part_power => $ring_part_power, primary_proxy => $primary_proxy, controller_node_address => $management_vip, swift_local_net_ip => $storage_address, master_swift_proxy_ip => $master_swift_proxy_ip, proxy_port => $proxy_port, debug => $debug, verbose => $verbose, log_facility => 'LOG_SYSLOG', ceilometer => hiera('use_ceilometer',false), ring_min_part_hours => $ring_min_part_hours, admin_user => $keystone_user, admin_tenant_name => $keystone_tenant_name, admin_password => $keystone_password, auth_host => $keystone_endpoint, auth_protocol => $keystone_protocol, } -> class { 'openstack::swift::status': endpoint => ""http://${storage_address}:${proxy_port}"", vip => $management_vip, only_from => ""127.0.0.1 240.0.0.2 ${sto_net} ${man_net}"", con_timeout => 5 } if ($create_keystone_auth){ class { 'swift::keystone::auth': password => $swift_hash['user_password'], public_address => hiera('public_vip'), internal_address => $management_vip, admin_address => $management_vip, } } }","$swift_hash = hiera('swift_hash') $swift_master_role = hiera('swift_master_role', 'primary-controller') $swift_nodes = pick(hiera('swift_nodes', undef), hiera('controllers', undef)) $swift_proxies = pick(hiera('swift_proxies', undef), hiera('controller_internal_addresses', undef)) $primary_swift = pick(hiera('primary_swift', undef), hiera('primary_controller', undef)) $proxy_port = hiera('proxy_port', '8080') $network_scheme = hiera('network_scheme', {}) $storage_hash = hiera('storage_hash') $mp_hash = hiera('mp') $management_vip = hiera('management_vip') $debug = hiera('debug', false) $verbose = hiera('verbose') $storage_address = hiera('storage_address') $node = hiera('node') $ring_min_part_hours = hiera('swift_ring_min_part_hours', 1) class { 'openstack::swift::storage_node': storage_type => false, loopback_size => '5243780', storage_mnt_base_dir => $swift_partition, storage_devices => filter_hash($mp_hash,'point'), swift_zone => $node[0]['swift_zone'], swift_local_net_ip => $storage_address, master_swift_proxy_ip => $master_swift_proxy_ip, sync_rings => ! $primary_proxy, debug => $debug, verbose => $verbose, log_facility => 'LOG_SYSLOG', if has_key($swift_hash, 'resize_value') { $resize_value = $swift_hash['resize_value'] } else { $resize_value = 2 } $ring_part_power = calc_ring_part_power($swift_nodes,$resize_value) $sto_net = $network_scheme['endpoints'][$network_scheme['roles']['storage']]['IP'] $man_net = $network_scheme['endpoints'][$network_scheme['roles']['management']]['IP'] class { 'openstack::swift::proxy': swift_user_password => $swift_hash['user_password'], swift_proxies => $swift_proxies, ring_part_power => $ring_part_power, primary_proxy => $primary_proxy, controller_node_address => $management_vip, swift_local_net_ip => $storage_address, master_swift_proxy_ip => $master_swift_proxy_ip, proxy_port => $proxy_port, debug => $debug, verbose => $verbose, log_facility => 'LOG_SYSLOG', ceilometer => hiera('use_ceilometer',false), ring_min_part_hours => $ring_min_part_hours, } -> class { 'openstack::swift::status': endpoint => ""http://${storage_address}:${proxy_port}"", vip => $management_vip, only_from => ""127.0.0.1 240.0.0.2 ${sto_net} ${man_net}"", con_timeout => 5 } class { 'swift::keystone::auth': password => $swift_hash['user_password'], public_address => hiera('public_vip'), internal_address => $management_vip, admin_address => $management_vip, } ",98,81
openstack%2Ffuel-library~master~Id6e7e830ac0ff6822e7f3d7a58517c987b705ed4,openstack/fuel-library,master,Id6e7e830ac0ff6822e7f3d7a58517c987b705ed4,Add new parser function: get_network_role_to_ipaddr_map(),MERGED,2015-06-30 16:10:36.000000000,2015-07-01 20:36:49.000000000,2015-07-01 20:36:08.000000000,"[{'_account_id': 3}, {'_account_id': 7195}, {'_account_id': 7604}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 11090}, {'_account_id': 13343}, {'_account_id': 14774}]","[{'number': 1, 'created': '2015-06-30 16:10:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/4a6b2cc874b26137ddca7efb60d76dadf8f18787', 'message': 'Add new parser function: get_network_role_to_ipaddr_map()\n\nblueprint: templates-for-networking\n\nChange-Id: Id6e7e830ac0ff6822e7f3d7a58517c987b705ed4\n'}, {'number': 2, 'created': '2015-07-01 09:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/862c4e5352ff1b6aa6f87c041701dcb36ef182ad', 'message': 'Add new parser function: get_network_role_to_ipaddr_map()\n\nblueprint: templates-for-networking\n\nChange-Id: Id6e7e830ac0ff6822e7f3d7a58517c987b705ed4\n'}, {'number': 3, 'created': '2015-07-01 10:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/c9265ba511071676afba9b5de2ce3a68f818e212', 'message': 'Add new parser function: get_network_role_to_ipaddr_map()\n\nblueprint: templates-for-networking\n\nChange-Id: Id6e7e830ac0ff6822e7f3d7a58517c987b705ed4\n'}, {'number': 4, 'created': '2015-07-01 10:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/eb500aee77baa1e6850756e5b3cf56b3038471ce', 'message': 'Add new parser function: get_network_role_to_ipaddr_map()\n\nblueprint: templates-for-networking\n\nChange-Id: Id6e7e830ac0ff6822e7f3d7a58517c987b705ed4\n'}, {'number': 5, 'created': '2015-07-01 13:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/87adcd604789589e241828bfab428fd9cac0c40d', 'message': 'Add new parser function: get_network_role_to_ipaddr_map()\n\nblueprint: templates-for-networking\n\nChange-Id: Id6e7e830ac0ff6822e7f3d7a58517c987b705ed4\n'}, {'number': 6, 'created': '2015-07-01 14:01:55.000000000', 'files': ['deployment/puppet/osnailyfacter/spec/functions/get_node_to_ipaddr_map_by_network_role.rb', 'deployment/puppet/osnailyfacter/lib/puppet/parser/functions/get_node_to_ipaddr_map_by_network_role.rb'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/7d6d4979ee99f83edab0b89bf5a9b0c45b0c8bcb', 'message': 'Add new parser function: get_network_role_to_ipaddr_map()\n\nblueprint: templates-for-networking\n\nChange-Id: Id6e7e830ac0ff6822e7f3d7a58517c987b705ed4\n'}]",1,197164,7d6d4979ee99f83edab0b89bf5a9b0c45b0c8bcb,93,8,6,7468,,,0,"Add new parser function: get_network_role_to_ipaddr_map()

blueprint: templates-for-networking

Change-Id: Id6e7e830ac0ff6822e7f3d7a58517c987b705ed4
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/64/197164/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/osnailyfacter/spec/functions/get_network_role_to_ipaddr_map__spec.rb', 'deployment/puppet/osnailyfacter/lib/puppet/parser/functions/get_network_role_to_ipaddr_map.rb']",2,4a6b2cc874b26137ddca7efb60d76dadf8f18787,bp/templates-for-networking,"module Puppet::Parser::Functions newfunction(:get_network_role_to_ipaddr_map, :type => :rvalue, :doc => <<-EOS Return a hash of nodes (node names are keys) that have one of the given roles. example: get_network_role_to_ipaddr_map($nodes_hash, 'role') EOS ) do |args| errmsg = ""get_network_role_to_ipaddr_map($nodes_hash, 'role')"" nodes, role = args raise(Puppet::ParseError, ""#{errmsg}: 1st argument should be a hash"") if !nodes.is_a?(Hash) raise(Puppet::ParseError, ""#{errmsg}: 2nd argument should be an a network-role name"") if !role.is_a?(String) nodes = nodes['nodes'] if nodes.has_key?('nodes') rv = {} nodes.each do |node_name, node_props| next if ! node_props.is_a?(Hash) n = node_props['network_roles'] next if ! n.is_a?(Hash) rv[node_name] = n[role] if n[role] != nil end return rv end end # vim: set ts=2 sw=2 et :",,135,0
openstack%2Foctavia~master~I2b315edae15606b0706e49e123db067d7cd67056,openstack/octavia,master,I2b315edae15606b0706e49e123db067d7cd67056,Add content for octavia in plugin.sh and settings,MERGED,2015-06-26 22:16:13.000000000,2015-07-01 20:36:30.000000000,2015-07-01 20:27:40.000000000,"[{'_account_id': 3}, {'_account_id': 6951}, {'_account_id': 10273}, {'_account_id': 10477}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 12403}, {'_account_id': 12417}, {'_account_id': 16923}]","[{'number': 1, 'created': '2015-06-26 22:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8c8a31ad699f498bd48de918df558c2b124913be', 'message': 'Add content for octavia in plugin.sh and settings\n\nThe purpose is to make sure the service provider is pointing to octavia\ninstead of lbaas v2.\n\nChange-Id: I2b315edae15606b0706e49e123db067d7cd67056\n'}, {'number': 2, 'created': '2015-06-26 23:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b735cd8f6a4257b7cccae55b66d52d07707e5473', 'message': 'Add content for octavia in plugin.sh and settings\n\nThe purpose is to make sure the service provider is pointing to octavia\ninstead of lbaas v2.\n\nChange-Id: I2b315edae15606b0706e49e123db067d7cd67056\n'}, {'number': 3, 'created': '2015-06-26 23:07:05.000000000', 'files': ['devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d978263786e4011023008b6ea719918cfca0d25a', 'message': 'Add content for octavia in plugin.sh and settings\n\nThe purpose is to make sure the service provider is pointing to octavia\ninstead of lbaas v2.\n\nChange-Id: I2b315edae15606b0706e49e123db067d7cd67056\n'}]",3,196265,d978263786e4011023008b6ea719918cfca0d25a,30,9,3,10477,,,0,"Add content for octavia in plugin.sh and settings

The purpose is to make sure the service provider is pointing to octavia
instead of lbaas v2.

Change-Id: I2b315edae15606b0706e49e123db067d7cd67056
",git fetch https://review.opendev.org/openstack/octavia refs/changes/65/196265/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/settings']",2,8c8a31ad699f498bd48de918df558c2b124913be,editserviceprovider,"OCTAVIA_SERVICE=""octavia"" NEUTRON_LBAAS_DIR=$DEST/neutron-lbaas NEUTRON_LBAAS_CONF=$NEUTRON_CONF_DIR/neutron_lbaas.conf OCTAVIA_SERVICE_PROVIDER=${OCTAVIA_SERVICE_PROVIDER:-""LOADBALANCERV2:Octavia:neutron_lbaas.drivers.octavia.driver.OctaviaDriver:default""}",,15,1
openstack%2Fkolla~master~I8c5d8b7e69c4ed54624061428e2fbde6af6a1815,openstack/kolla,master,I8c5d8b7e69c4ed54624061428e2fbde6af6a1815,Ansible multi-node specification,MERGED,2015-06-07 20:22:30.000000000,2015-07-01 20:33:04.000000000,2015-06-17 23:31:32.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 1390}, {'_account_id': 2011}, {'_account_id': 2834}, {'_account_id': 3098}, {'_account_id': 3153}, {'_account_id': 4257}, {'_account_id': 6773}, {'_account_id': 6836}, {'_account_id': 6969}, {'_account_id': 7144}, {'_account_id': 8580}, {'_account_id': 9237}, {'_account_id': 9488}, {'_account_id': 9927}, {'_account_id': 10008}, {'_account_id': 10419}, {'_account_id': 10428}, {'_account_id': 10787}, {'_account_id': 13039}, {'_account_id': 14027}, {'_account_id': 14119}, {'_account_id': 14288}, {'_account_id': 14792}, {'_account_id': 16493}, {'_account_id': 16520}, {'_account_id': 16580}, {'_account_id': 16704}]","[{'number': 1, 'created': '2015-06-07 20:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c2d6f2828768fac35a24882d3bdf13d940b08e00', 'message': 'Ansible multi-node specification\n\nThis specification outlines some of the design goals and practices to\nbe used to implement an Ansible multi-node deployment tool.  The goals\nof this work are simplicity, optimizing deployment time, and Operator\nflexibility.\n\nThe long term objective is for Kolla to become the de-facto solution\nfor deploying OpenStack in containers.\n\nChange-Id: I8c5d8b7e69c4ed54624061428e2fbde6af6a1815\nPartially-implements: ansible-multi\n'}, {'number': 2, 'created': '2015-06-07 21:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/00a2a7c996d002de0681c1a8638cfe10ec03d399', 'message': 'Ansible multi-node specification\n\nThis specification outlines some of the design goals and practices to\nbe used to implement an Ansible multi-node deployment tool.  The goals\nof this work are simplicity, optimizing deployment time, and Operator\nflexibility.\n\nThe long term objective is for Kolla to become the de-facto solution\nfor deploying OpenStack in containers.\n\nChange-Id: I8c5d8b7e69c4ed54624061428e2fbde6af6a1815\nPartially-implements: blueprint ansible-multi\n'}, {'number': 3, 'created': '2015-06-08 01:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2753c64480cfd2b90f72380d2d8e5fcbd964748c', 'message': 'Ansible multi-node specification\n\nThis specification outlines some of the design goals and practices to\nbe used to implement an Ansible multi-node deployment tool.  The goals\nof this work are simplicity, optimizing deployment time, and Operator\nflexibility.\n\nThe long term objective is for Kolla to become the de-facto solution\nfor deploying OpenStack in containers.\n\nChange-Id: I8c5d8b7e69c4ed54624061428e2fbde6af6a1815\nPartially-implements: blueprint ansible-multi\n'}, {'number': 4, 'created': '2015-06-08 02:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2f3df5b5c6e52ce50b4cd9f4cdbdb2061e12606b', 'message': 'Ansible multi-node specification\n\nThis specification outlines some of the design goals and practices to\nbe used to implement an Ansible multi-node deployment tool.  The goals\nof this work are simplicity, optimizing deployment time, and Operator\nflexibility.\n\nThe long term objective is for Kolla to become the de-facto solution\nfor deploying OpenStack in containers.\n\nChange-Id: I8c5d8b7e69c4ed54624061428e2fbde6af6a1815\nPartially-implements: blueprint ansible-multi\n'}, {'number': 5, 'created': '2015-06-15 20:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/190c1ef4cb3092dbbdc9cfcfdc3999c65952cc15', 'message': 'Ansible multi-node specification\n\nThis specification outlines some of the design goals and practices to\nbe used to implement an Ansible multi-node deployment tool.  The goals\nof this work are simplicity, optimizing deployment time, and Operator\nflexibility.\n\nThe long term objective is for Kolla to become the de-facto solution\nfor deploying OpenStack in containers.\n\nChange-Id: I8c5d8b7e69c4ed54624061428e2fbde6af6a1815\nPartially-implements: blueprint ansible-multi\n'}, {'number': 6, 'created': '2015-06-16 05:46:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/aa175bf5fb30f0fceef151468a2da7ac426ab3d7', 'message': 'Ansible multi-node specification\n\nThis specification outlines some of the design goals and practices to\nbe used to implement an Ansible multi-node deployment tool.  The goals\nof this work are simplicity, optimizing deployment time, and Operator\nflexibility.\n\nThe long term objective is for Kolla to become the de-facto solution\nfor deploying OpenStack in containers.\n\nPartially Implements: blueprint ansible-multi\nCo-Authored-By: Sam Yaple <sam@yaple.net>\n\nChange-Id: I8c5d8b7e69c4ed54624061428e2fbde6af6a1815\n'}, {'number': 7, 'created': '2015-06-16 07:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/064529584ab20090192738d3028b5761294df2b0', 'message': 'Ansible multi-node specification\n\nThis specification outlines some of the design goals and practices to\nbe used to implement an Ansible multi-node deployment tool.  The goals\nof this work are simplicity, optimizing deployment time, and Operator\nflexibility.\n\nThe long term objective is for Kolla to become the de-facto solution\nfor deploying OpenStack in containers.\n\nPartially Implements: blueprint ansible-multi\nCo-Authored-By: Sam Yaple <sam@yaple.net>\n\nChange-Id: I8c5d8b7e69c4ed54624061428e2fbde6af6a1815\n'}, {'number': 8, 'created': '2015-06-17 03:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b74aa8897ecb59bd905a9e24702be497765104b4', 'message': 'Ansible multi-node specification\n\nThis specification outlines some of the design goals and practices to\nbe used to implement an Ansible multi-node deployment tool.  The goals\nof this work are simplicity, optimizing deployment time, and Operator\nflexibility.\n\nThe long term objective is for Kolla to become the de-facto solution\nfor deploying OpenStack in containers.\n\nPartially Implements: blueprint ansible-multi\nCo-Authored-By: Sam Yaple <sam@yaple.net>\n\nChange-Id: I8c5d8b7e69c4ed54624061428e2fbde6af6a1815\n'}, {'number': 9, 'created': '2015-06-17 09:10:44.000000000', 'files': ['specs/ansible-multi.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/626084d7f549884a118c0c9581a1a235b84b0693', 'message': 'Ansible multi-node specification\n\nThis specification outlines some of the design goals and practices to\nbe used to implement an Ansible multi-node deployment tool.  The goals\nof this work are simplicity, optimizing deployment time, and Operator\nflexibility.\n\nThe long term objective is for Kolla to become the de-facto solution\nfor deploying OpenStack in containers.\n\nPartially Implements: blueprint ansible-multi\nCo-Authored-By: Sam Yaple <sam@yaple.net>\n\nChange-Id: I8c5d8b7e69c4ed54624061428e2fbde6af6a1815\n'}]",181,189157,626084d7f549884a118c0c9581a1a235b84b0693,144,29,9,2834,,,0,"Ansible multi-node specification

This specification outlines some of the design goals and practices to
be used to implement an Ansible multi-node deployment tool.  The goals
of this work are simplicity, optimizing deployment time, and Operator
flexibility.

The long term objective is for Kolla to become the de-facto solution
for deploying OpenStack in containers.

Partially Implements: blueprint ansible-multi
Co-Authored-By: Sam Yaple <sam@yaple.net>

Change-Id: I8c5d8b7e69c4ed54624061428e2fbde6af6a1815
",git fetch https://review.opendev.org/openstack/kolla refs/changes/57/189157/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/ansible-multi.rst'],1,c2d6f2828768fac35a24882d3bdf13d940b08e00,bp/ansible-multi,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================= Multinode Ansible ================= This blueprint specifies an approach to automate the deployment of OpenStack using Ansible and Docker best practices. The overriding principles used in this specification are simplicity, optimizing deployment time, and flexibility. Problem description =================== Kolla can be deployed multi-node currently. To do so, the environment variables must be hand edited to define the hosts to connect to for various services. This is clearly suboptimal. To implement HA in our containers, we need multinode deployment operational so we can validate the high availability implementation. To solve this problem this blueprint chooses Ansible as a deployment tool and recommends specific approaches to direct the implementation. Use cases --------- 1. Deploy Kolla's Docker containers mutli-node and generate a one-hundred node working OpenStack deployment out of the box with minimal Operator configuration. 2. Offer a fully customizable configuration enabling an unopinionated deployment of OpenStack. 2. Upgrade an OpenStack deployment by Operator command. Proposed change =============== There are two major dependency changes required to implement this specification. First, docker-compose keeps changing external python interfaces, making docker-compose unsuitable for use with Ansible. In addition docker-compose does nearly the same job as Ansible, but only single-node. To keep with Ansible best practices, we can not use pure key-value pairs for custom parameters. As a result of these problems, this specification recommends two workflows. Developer Workflow is the existing workflow we all know and love. This is the developer workflow which keeps docker-compose as a dependency. Normal development workflow for developing new container content will only change by renaming the kolla script kolla-compose. There are no other changes to the developer workflow with this specification. The renamed kolla-compose shell script will be retained and used for AIO development of container content. Deployment Workflow is a new workflow which uses only the docker Ansible module as a dependency. Since this is a new design model, there will be some impact to the existing developer experience with Kolla. Kolla developers should help create the Ansible defaults file (to be explained later) based upon the crudini defaults where the developers are experts. An additional kolla shell script will be created to simplify the user experience so users don't have to interact directly with Ansible called kolla-ansible. Second, to support our downstreams (specifically TripleO) we absolutely must retain existing support for our opinioinated key/value architectural model. This model does not mesh well with the best practices of Ansible that enable Operators to fully customize their deployment. To correct this defeciency, a new environment variable will be introduced ""USE_CRUDINI"". If this variable is set to ""TRUE"" then the original crudini methodology will be used to configure containers. If this variable is set to FALSE, an environment to file mapping python tool will be executed. An example implementation of each container: if [[ $USE_CRUDINI -eq ""TRUE"" ]]; then run_crudini elif: python /opt/kolla/parse_env_files.py fi The true implication of this change is that we must now maintain two sets of container configuration. One method using crudini and one using Ansible. The Project Technical Lead has recruited a team of five individuals from the Kolla community to maintain the Ansible implementations so this will not introduce extra work for the existing container content development effort. This experienced Ansible team will execute the job of maintaining the Ansible deployment methodology along with other interested parties from the community. Finally we will implement a complete Anisble deployment system. The details of the implementation are covered in a later section in this specification. We estimate this will be approximately ~1000 LOC defining ~100 Ansible tasks. We further estimate the total code base when complete will be under 6 KLOC. This new model of configuration maintains the immutable, declartive, and idemptoent nature of the Kolla containers, as defined by our current Kolla best practices while introducing completely customizable configuration. Security impact --------------- None. Performance Impact ------------------ Multi-node deployment speed will be rapidly improved. Implementation ============== On container start, an Ansible module called files_to_dict.py will combine a default configuration file and an operator augmentation file if one is available into a JSON ecoded dictionary on the target host for the container. The JSON encoded dictionary will be decoded inside the container using a python tool called parse_env_files.py. This dictionary will be passed into the container via the Docker environment. The environemnt per variable for Docker is 4MB. We are highly unlikely to run into system implementation limits with this approach. The parse_env_files.py tool will convert the JSON encoded dictionary into the configuration files in the target container for the microservices. How this is done is an implementation detail but a review is underway to implement this technology https://review.openstack.org/#/c/182168/ An ansible role represents a service in OpenStack. The Ansible role contains 3 major sections. This same pattern will be used for all supported OpenStack containers. Each ansible role has a set of default K/V pairs. An example K/V file for Keystone is: --- container: ""keystone"" database_password: ""{{ database_keystone_password }}"" The second major section of a Ansible role are the role tasks. The seven tasks we will implement per role (i.e. OpenStack Service): * bootstrap - database initialization and add roles to keystone * pull - pulls the latest container from the registry * main - Does the main job of orchestrating the container * config - Joins the default configuration and the user augmented configuration converting it into a JSON encoded dictionary passed to the container * start - Similar in nature to a docker compose YAML file - defines the defaults for the container start operation. * stop - Stops the container * upgrade - Upgrades to the latest container content The details of how these role tasks operate is an implementation detail. Finally each ansible role has a default template. An example of a default template for Keystone is: [DEFAULT] verbose = {{ keystone_verbose }} debug = {{ keystone_debug }} bind_host = {{ ansible_br_mgmt['ipv4']['address'] }} admin_token = {{ keystone_admin_token }} public_endpoint = http://{{ keystone_service_ip }}:{{ keystone_service_public_port }} admin_endpoint = http://{{ keystone_service_ip }}:{{ keystone_service_admin_port }} log_file = {{ keystone_log_file }} log_dir = {{ keystone_log_dir }} [database] connection = mysql://{{ keystone_db_user }}:{{ database_keystone_password }}@{{ keystone_service_ip }}/keystone [revoke] driver = keystone.contrib.revoke.backends.sql.Revoke This role default will contain sufficient mandatory configuration options to create a working deployment. If the Operator wishes to augment the keystone configuration, an augmentation file can be added to the deployment. An example augmentation file in /etc/kolla/keystone.aug is: [DEFAULT] public_endpoint = https://{{ keystone_service_ip }}:{{ keystone_service_public_port }} [ipman] life = ""Two Words. Horizontal. Vertical. Make a mistake - Horizontal. Stay standing and you win."" This augmentation file will keep the original default configurations but replace public_endpoint with an https endpoint instead of an http endpoint. Further the [ipman] section will be added to the JSON encoded dictionary along with his quote. The result of this Ansible best practice is that additional configuration may be added to the augmentation file created by files_to_dict and correctly merged in the JSON encoded dictionary passed to the container and parsed by parse_env_files.py. The final implication of these Ansible best practices is that an Operator can deploy in 1 hour or less a one-hundred node OpenStack deployment out of the box using Kolla containers with Ansible deployment tooling with minimal configuration. If additional customization is required for the Operator's environment, this can be achieved via augmentation files developed by the Operator. NB: to override any default K/V pair (the key is located in {{ }} above and replaced by the value by Ansible), there is one global override file to configure the deployment called /etc/kolla/globals.conf. We will implement a simple shell script called kolla-ansible which wraps ansible-playbook. It will implement four commands which operate on the OpenStack deployment globally. It will automatically load the globals.conf overrides and execute the appropriate roles for all of the deployed containers. The initial supported commands are: 1. kolla-ansible deploy 2. kolla-ansible start 3. kolla-ansible stop 4. kolla-ansible upgrade Ansible supports a model of deployment using an inventory file. The inventory file specifies which nodes get assigned which roles. For an example of an inventory file, see: https://github.com/SamYaple/yaodu/blob/master/ansible/inventories/production To the untrained eye, this looks like a bunch of heavy wizardy. I personally believe we will in some way merge our globals.conf and the inventory file into one master configuration file and generate the globals.conf and Ansible-specific inventory file on each kolla-ansible operation. The long term goal is to get to one configuration file with ""all the things"" needed to deploy OpenStack. This would permit a GUI to simply configure the deployment. How this is done or if it is done remains an implementation detail which may warrant expanding this specification or a completely new specification in the future. As we obtain more experience with what we are developing, we will have a more complete picture of what this master configuration file format will be. The implementation described in this section is just a sample of the implementation details required. We intend to refactor Sam Yaple's fantastic vision with yaodu (https://github.com/SamYaple/yaodu/) into Kolla to implement Ansible deployment of OpenStack while retaining Kolla, Docker, and Ansible best practices and conventions. Assignee(s) ----------- Primary assignees: diga fangfenghua harmw samyaple sdake The kolla core team will support and execute this specification through normal workflow operations. Work Items ---------- 1. Conditionalize containers with USE_CRUDINI environment variable 2. Finish the job on https://review.openstack.org/#/c/182168/ 3. Rename kolla kolla-compose and create a new kolla-ansible script to manage playbook operation. 4. Refactor the remaining portions of yaodu that are compatible with Kolla into the Kolla code base. 5. Implement our existing crudini defaults in Ansible. Testing ======= Functional tests will be implemented in the OpenStack check/gating system to automatically check that the Ansible deployment works for an AIO environment. Documentation Impact ==================== The develoepr quickstart must be augmented with instructions to use the new Ansible deployment methodology. ",,283,0
openstack%2Foslo.policy~master~Ibbcda87eba6e21ace8904e1fb4c700e0790fb477,openstack/oslo.policy,master,Ibbcda87eba6e21ace8904e1fb4c700e0790fb477,Move fileutils functions to oslo.policy,MERGED,2015-07-01 05:27:45.000000000,2015-07-01 20:18:33.000000000,2015-07-01 20:18:32.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6486}]","[{'number': 1, 'created': '2015-07-01 05:27:45.000000000', 'files': ['oslo_policy/_cache_handler.py', 'oslo_policy/openstack/common/fileutils.py', 'oslo_policy/policy.py', 'oslo_policy/tests/test_policy.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/2f5280851a6b0c4523f462653b0da8e7399536c0', 'message': 'Move fileutils functions to oslo.policy\n\nread_cached_file and delete_cached_file are only used in\noslo.policy. isolate the functions there so we can depreate\nfileutils.\n\nChange-Id: Ibbcda87eba6e21ace8904e1fb4c700e0790fb477\n'}]",2,197420,2f5280851a6b0c4523f462653b0da8e7399536c0,7,3,1,6482,,,0,"Move fileutils functions to oslo.policy

read_cached_file and delete_cached_file are only used in
oslo.policy. isolate the functions there so we can depreate
fileutils.

Change-Id: Ibbcda87eba6e21ace8904e1fb4c700e0790fb477
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/20/197420/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_policy/_cache_handler.py', 'oslo_policy/openstack/common/fileutils.py', 'oslo_policy/policy.py', 'oslo_policy/tests/test_policy.py']",4,2f5280851a6b0c4523f462653b0da8e7399536c0,isolate_fileutils,"from oslo_policy import _cache_handler @mock.patch.object(_cache_handler, 'delete_cached_file', mock.Mock()) _cache_handler.delete_cached_file.assert_called_once_with(filename)","from oslo_policy.openstack.common import fileutils @mock.patch.object(fileutils, 'delete_cached_file', mock.Mock()) fileutils.delete_cached_file.assert_called_once_with(filename)",62,155
openstack%2Fproject-config~master~Id2fe065cf5019cd4ebf5ad62aedc1395e0c14d6b,openstack/project-config,master,Id2fe065cf5019cd4ebf5ad62aedc1395e0c14d6b,Add periodic Kilo jobs,MERGED,2015-06-29 15:41:36.000000000,2015-07-01 20:16:34.000000000,2015-07-01 20:16:34.000000000,"[{'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 5196}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 16272}]","[{'number': 1, 'created': '2015-06-29 15:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/7e0022e622bb16ae6ae098fa5ef1bb29d4905df3', 'message': 'Add periodic Kilo jobs\n\nNew in Kilo is Ironic and neutron-*aas.\n\nAdd periodic tempest jobs even when they run as compat jobs\non each tempest master check for stable-maint visiblity.\n\nChange-Id: Id2fe065cf5019cd4ebf5ad62aedc1395e0c14d6b\n'}, {'number': 2, 'created': '2015-06-30 07:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c6722dc219400d33d4dc82e9dd6abc51e8f6d7db', 'message': 'Add periodic Kilo jobs\n\nNew in Kilo is Ironic and neutron-*aas.\n\nAdd periodic tempest jobs even when they run as compat jobs\non each tempest master check for stable-maint visiblity.\n\nChange-Id: Id2fe065cf5019cd4ebf5ad62aedc1395e0c14d6b\n'}, {'number': 3, 'created': '2015-07-01 19:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f46526ad18b76b1fcc0efe7aa446b5befe1ec44e', 'message': 'Add periodic Kilo jobs\n\nNew in Kilo is Ironic and neutron-*aas.\n\nAdd periodic tempest jobs even when they run as compat jobs\non each tempest master check for stable-maint visiblity.\n\nChange-Id: Id2fe065cf5019cd4ebf5ad62aedc1395e0c14d6b\n'}, {'number': 4, 'created': '2015-07-01 19:43:44.000000000', 'files': ['jenkins/jobs/python-bitrot-jobs.yaml', 'jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/585dca13deeaa84ce829c607b4e4e8f1cf17d48b', 'message': 'Add periodic Kilo jobs\n\nNew in Kilo is Ironic and neutron-*aas.\n\nAdd periodic tempest jobs even when they run as compat jobs\non each tempest master check for stable-maint visiblity.\n\nChange-Id: Id2fe065cf5019cd4ebf5ad62aedc1395e0c14d6b\n'}]",0,196709,585dca13deeaa84ce829c607b4e4e8f1cf17d48b,20,6,4,308,,,0,"Add periodic Kilo jobs

New in Kilo is Ironic and neutron-*aas.

Add periodic tempest jobs even when they run as compat jobs
on each tempest master check for stable-maint visiblity.

Change-Id: Id2fe065cf5019cd4ebf5ad62aedc1395e0c14d6b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/09/196709/1 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/python-bitrot-jobs.yaml', 'jenkins/jobs/projects.yaml', 'zuul/layout.yaml']",3,7e0022e622bb16ae6ae098fa5ef1bb29d4905df3,goodbye-icehouse, - name: periodic-kilo periodic-stable: - 'periodic-{name}-docs-kilo' - 'periodic-{name}-python26-kilo' - 'periodic-{name}-python27-kilo' - name: periodic-kilo - name: periodic-kilo - name: periodic-kilo - name: periodic-kilo - name: periodic-kilo - name: periodic-kilo - name: periodic-kilo - name: periodic-kilo - name: periodic-kilo - name: periodic-kilo - name: periodic-kilo - name: periodic-kilo - name: periodic-kilo - name: periodic-kilo - name: periodic-kilo - periodic-tempest-dsvm-full-kilo - periodic-tempest-dsvm-neutron-full-kilo - periodic-tempest-dsvm-postgres-full-kilo,,54,0
openstack%2Fproject-config~master~I3fa8e2cad090bf6ef528ad079a087af058968d2c,openstack/project-config,master,I3fa8e2cad090bf6ef528ad079a087af058968d2c,Reuse ironic ACLs for ironic-webclient,MERGED,2015-07-01 17:03:07.000000000,2015-07-01 20:12:50.000000000,2015-07-01 20:12:49.000000000,"[{'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 9717}, {'_account_id': 10035}, {'_account_id': 10343}]","[{'number': 1, 'created': '2015-07-01 17:03:07.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/cd514dcb46991cb4e1b0af830e21c0a136caf7ab', 'message': ""Reuse ironic ACLs for ironic-webclient\n\nReuse ironic ACLs for ironic-webclient for now, and also cleanup the\nvestigial import URL while we're here.\n\nChange-Id: I3fa8e2cad090bf6ef528ad079a087af058968d2c\n""}]",0,197662,cd514dcb46991cb4e1b0af830e21c0a136caf7ab,10,6,1,5263,,,0,"Reuse ironic ACLs for ironic-webclient

Reuse ironic ACLs for ironic-webclient for now, and also cleanup the
vestigial import URL while we're here.

Change-Id: I3fa8e2cad090bf6ef528ad079a087af058968d2c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/62/197662/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,cd514dcb46991cb4e1b0af830e21c0a136caf7ab,ironic-webclient, acl-config: /home/gerrit2/acls/openstack/ironic.config, upstream: https://github.com/krotscheck/ironic-webclient,1,1
openstack%2Fastara-appliance~master~I06bdd487b8682bf66400b27ab9e1e7c0e8304a67,openstack/astara-appliance,master,I06bdd487b8682bf66400b27ab9e1e7c0e8304a67,Move test_requirements.txt -> test-requirements.txt,MERGED,2015-07-01 17:52:37.000000000,2015-07-01 20:12:36.000000000,2015-07-01 20:12:35.000000000,"[{'_account_id': 3}, {'_account_id': 1420}]","[{'number': 1, 'created': '2015-07-01 17:52:37.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/astara-appliance/commit/736a7c9bfcb83367c722ca21ef55d0aa6093dd12', 'message': 'Move test_requirements.txt -> test-requirements.txt\n\nThis is the standard location for test requirements.\n\nChange-Id: I06bdd487b8682bf66400b27ab9e1e7c0e8304a67\n'}]",0,197683,736a7c9bfcb83367c722ca21ef55d0aa6093dd12,6,2,1,1420,,,0,"Move test_requirements.txt -> test-requirements.txt

This is the standard location for test requirements.

Change-Id: I06bdd487b8682bf66400b27ab9e1e7c0e8304a67
",git fetch https://review.opendev.org/openstack/astara-appliance refs/changes/83/197683/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,736a7c9bfcb83367c722ca21ef55d0aa6093dd12,,deps = -r{toxinidir}/test-requirements.txt,deps = -r{toxinidir}/test_requirements.txt,1,1
openstack%2Fproject-config~master~I9f576605a71bdeae94b0bfda9f5b2eafc93ae096,openstack/project-config,master,I9f576605a71bdeae94b0bfda9f5b2eafc93ae096,Move python 3.4 jobs out of python 2.6 list,MERGED,2015-07-01 18:44:42.000000000,2015-07-01 20:12:08.000000000,2015-07-01 20:12:07.000000000,"[{'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 5263}]","[{'number': 1, 'created': '2015-07-01 18:44:42.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5a8fb86323b936e9b81f6d901352b9a67a9b5adb', 'message': 'Move python 3.4 jobs out of python 2.6 list\n\nMove jobs around to have all python 2.6 after each other. There are also\ncomments to mark the 2.6 list.\n\nChange-Id: I9f576605a71bdeae94b0bfda9f5b2eafc93ae096\n'}]",0,197695,5a8fb86323b936e9b81f6d901352b9a67a9b5adb,7,3,1,6547,,,0,"Move python 3.4 jobs out of python 2.6 list

Move jobs around to have all python 2.6 after each other. There are also
comments to mark the 2.6 list.

Change-Id: I9f576605a71bdeae94b0bfda9f5b2eafc93ae096
",git fetch https://review.opendev.org/openstack/project-config refs/changes/95/197695/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,5a8fb86323b936e9b81f6d901352b9a67a9b5adb,goodbye-icehouse, # Python 3.4 jobs - name: gate-cinder-python34 branch: ^(?!stable/(?:juno|kilo)).*$ - name: gate-swift-python34 branch: ^(?!stable/(?:juno|kilo)).*$ voting: false - name: gate-nova-python34 branch: ^(?!stable/(?:juno|kilo)).*$ - name: gate-glance-python34 branch: ^(?!stable/(?:juno|kilo)).*$ , - name: gate-cinder-python34 branch: ^(?!stable/(?:juno|kilo)).*$ - name: gate-glance-python34 branch: ^(?!stable/(?:juno|kilo)).*$ - name: gate-nova-python34 branch: ^(?!stable/(?:juno|kilo)).*$ - name: gate-swift-python34 branch: ^(?!stable/(?:juno|kilo)).*$ voting: false ,14,13
openstack%2Fhorizon~master~I8b595bdee2b2a01a1c2489b85ba3bb71f77810cd,openstack/horizon,master,I8b595bdee2b2a01a1c2489b85ba3bb71f77810cd,Create Project button for proper access only,ABANDONED,2015-06-18 20:46:45.000000000,2015-07-01 20:10:58.000000000,,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 6162}, {'_account_id': 11098}, {'_account_id': 11778}, {'_account_id': 11798}, {'_account_id': 12425}, {'_account_id': 13785}, {'_account_id': 14151}]","[{'number': 1, 'created': '2015-06-18 20:46:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/bd2ebe082be205de673a958a27cf697a0ad86058', 'message': ""Create Project button for proper access only\n\nThe 'Create Project' button in the new project picker should\nonly appear if the user's role is Cloud Admin or Domain Admin.\n\nCo-Authored-By: Brian Tully <brian.tully@hp.com>\nCo-Authored-By: daniel-a-nguyen <dan.nguyens.mail@gmail.com>\n\nPartially Implements: blueprint domain-scoped-tokens\nChange-Id: I8b595bdee2b2a01a1c2489b85ba3bb71f77810cd\n""}, {'number': 2, 'created': '2015-06-19 21:42:15.000000000', 'files': ['openstack_dashboard/templatetags/context_selection.py', 'openstack_dashboard/templates/context_selection/_project_list.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/e97f7485a819059b19094b1c4fa04cc4e3ddac96', 'message': ""Create Project button for proper access only\n\nThe 'Create Project' button in the new project picker should\nonly appear if the user's role is Cloud Admin or Domain Admin.\n\nCo-Authored-By: Brian Tully <brian.tully@hp.com>\nCo-Authored-By: daniel-a-nguyen <dan.nguyens.mail@gmail.com>\n\nPartially Implements: blueprint domain-scoped-tokens\nChange-Id: I8b595bdee2b2a01a1c2489b85ba3bb71f77810cd\n""}]",2,193307,e97f7485a819059b19094b1c4fa04cc4e3ddac96,13,9,2,11778,,,0,"Create Project button for proper access only

The 'Create Project' button in the new project picker should
only appear if the user's role is Cloud Admin or Domain Admin.

Co-Authored-By: Brian Tully <brian.tully@hp.com>
Co-Authored-By: daniel-a-nguyen <dan.nguyens.mail@gmail.com>

Partially Implements: blueprint domain-scoped-tokens
Change-Id: I8b595bdee2b2a01a1c2489b85ba3bb71f77810cd
",git fetch https://review.opendev.org/openstack/horizon refs/changes/07/193307/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/templatetags/context_selection.py', 'openstack_dashboard/templates/context_selection/_project_list.html']",2,bd2ebe082be205de673a958a27cf697a0ad86058,bp/domain-scoped-tokens_button2," {% if cloud_domain_admin %} <a href=""/identity/create"" class=""btn btn-default btn-xs ajax-modal"" id=""tenants__action_create""> {% endif %}"," <a href=""/identity/create"" class=""btn btn-default btn-xs ajax-modal"" id=""tenants__action_c reate"">",8,2
openstack%2Fnetworking-powervm~master~Ia688777880f1d3cdbd82823c4c3a031ef5634bbe,openstack/networking-powervm,master,Ia688777880f1d3cdbd82823c4c3a031ef5634bbe,Move to oslo_service,MERGED,2015-07-01 14:53:14.000000000,2015-07-01 20:09:26.000000000,2015-07-01 20:09:26.000000000,"[{'_account_id': 3}, {'_account_id': 8190}, {'_account_id': 9572}, {'_account_id': 9623}, {'_account_id': 12947}, {'_account_id': 13883}, {'_account_id': 14070}]","[{'number': 1, 'created': '2015-07-01 14:53:14.000000000', 'files': ['neutron_powervm/tests/unit/plugins/ibm/powervm/test_sea_agent.py', 'requirements.txt', 'neutron_powervm/plugins/ibm/agent/powervm/agent_base.py', 'neutron_powervm/plugins/ibm/agent/powervm/fake_sea_agent.py', 'neutron_powervm/plugins/ibm/agent/powervm/sea_agent.py'], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/8b5fea36abbf47b2ef686dcd82cbe7daa45b5f39', 'message': 'Move to oslo_service\n\nThe Neutron core removed the loopingcall it was maintaining internally\nand switched to the oslo_service.  This change set mirrors the changes\ndone in Neutron core within the decomposed ML2 PowerVM Agent.\n\nThis change set also updated the requirements.txt to match the version\nlevels with the current Neutron.\n\nChange-Id: Ia688777880f1d3cdbd82823c4c3a031ef5634bbe\n'}]",0,197617,8b5fea36abbf47b2ef686dcd82cbe7daa45b5f39,8,7,1,8190,,,0,"Move to oslo_service

The Neutron core removed the loopingcall it was maintaining internally
and switched to the oslo_service.  This change set mirrors the changes
done in Neutron core within the decomposed ML2 PowerVM Agent.

This change set also updated the requirements.txt to match the version
levels with the current Neutron.

Change-Id: Ia688777880f1d3cdbd82823c4c3a031ef5634bbe
",git fetch https://review.opendev.org/openstack/networking-powervm refs/changes/17/197617/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_powervm/tests/unit/plugins/ibm/powervm/test_sea_agent.py', 'requirements.txt', 'neutron_powervm/plugins/ibm/agent/powervm/agent_base.py', 'neutron_powervm/plugins/ibm/agent/powervm/fake_sea_agent.py', 'neutron_powervm/plugins/ibm/agent/powervm/sea_agent.py']",5,8b5fea36abbf47b2ef686dcd82cbe7daa45b5f39,switch_to_oslo_service,from oslo_service import loopingcall,from neutron.openstack.common import loopingcall,12,12
openstack%2Fproject-config~master~I88a44cfa84597012af7da0bd22de02dc2349b1fa,openstack/project-config,master,I88a44cfa84597012af7da0bd22de02dc2349b1fa,Remove managed stable/icehouse branch testing,MERGED,2015-07-01 18:13:59.000000000,2015-07-01 20:03:35.000000000,2015-07-01 20:03:33.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 16272}]","[{'number': 1, 'created': '2015-07-01 18:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/96518bb152d8102d9f73925e1fe075b022c10ba3', 'message': 'Remove managed stable/icehouse branch testing\n\nRemove jobs which test stable/icehouse branches of repos tagged\nrelease:managed as the branch has reached end-of-life and is being\nremoved from those repos.\n\nChange-Id: I88a44cfa84597012af7da0bd22de02dc2349b1fa\n'}, {'number': 2, 'created': '2015-07-01 18:40:49.000000000', 'files': ['gerritbot/channels.yaml', 'jenkins/jobs/python-bitrot-jobs.yaml', 'jenkins/jobs/projects.yaml', 'jenkins/jobs/neutron.yaml', 'zuul/layout.yaml', 'nodepool/scripts/cache_devstack.py', 'jenkins/jobs/devstack-gate.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/62ad51e63850e9491c56fb22a62e63379b49e656', 'message': 'Remove managed stable/icehouse branch testing\n\nRemove jobs which test stable/icehouse branches of repos tagged\nrelease:managed as the branch has reached end-of-life and is being\nremoved from those repos.\n\nChange-Id: I88a44cfa84597012af7da0bd22de02dc2349b1fa\n'}]",10,197687,62ad51e63850e9491c56fb22a62e63379b49e656,14,7,2,5263,,,0,"Remove managed stable/icehouse branch testing

Remove jobs which test stable/icehouse branches of repos tagged
release:managed as the branch has reached end-of-life and is being
removed from those repos.

Change-Id: I88a44cfa84597012af7da0bd22de02dc2349b1fa
",git fetch https://review.opendev.org/openstack/project-config refs/changes/87/197687/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'jenkins/jobs/python-bitrot-jobs.yaml', 'jenkins/jobs/projects.yaml', 'jenkins/jobs/neutron.yaml', 'zuul/layout.yaml', 'jenkins/jobs/devstack-gate.yaml', 'nodepool/scripts/cache_devstack.py']",7,96518bb152d8102d9f73925e1fe075b022c10ba3,goodbye-icehouse,"# Some jobs might require newer distro packages, so we can pre-cache # deb packages from specified Ubuntu Cloud Archive pockets. UCA_POCKETS = []",# Some jobs require newer distro packages. We pre-cache deb packages from # specified Ubuntu Cloud Archive pockets. The icehouse pocket contains # Ubuntu 14.04 packages built for 12.04. UCA_POCKETS = ['icehouse'],78,204
openstack%2Fneutron~master~If063f111fa42a6644a1dadc7f0c0b9bbfb359294,openstack/neutron,master,If063f111fa42a6644a1dadc7f0c0b9bbfb359294,fix spelling mistakes,MERGED,2015-06-30 13:35:21.000000000,2015-07-01 19:57:13.000000000,2015-07-01 19:57:11.000000000,"[{'_account_id': 3}, {'_account_id': 704}, {'_account_id': 4656}, {'_account_id': 5170}, {'_account_id': 6788}, {'_account_id': 7715}, {'_account_id': 7776}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10873}, {'_account_id': 13768}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 14605}]","[{'number': 1, 'created': '2015-06-30 13:35:21.000000000', 'files': ['doc/source/devref/callbacks.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1ac7581c6b7d343d2ee22e6c562871c0465d9735', 'message': 'fix spelling mistakes\n\nChange-Id: If063f111fa42a6644a1dadc7f0c0b9bbfb359294\n'}]",0,197073,1ac7581c6b7d343d2ee22e6c562871c0465d9735,27,23,1,10870,,,0,"fix spelling mistakes

Change-Id: If063f111fa42a6644a1dadc7f0c0b9bbfb359294
",git fetch https://review.opendev.org/openstack/neutron refs/changes/73/197073/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/devref/callbacks.rst'],1,1ac7581c6b7d343d2ee22e6c562871c0465d9735,spelling,more uniform and straightforward: A mutation could happen if a 'subscribe'/'unsubscribe' operation interleaves with the execution,more uniform and straightward: A mutation could happen if a 'subscribe'/'unsuscribe' operation interleaves with the execution,2,2
openstack%2Fkeystone~master~Ifd5fd7166bf3f36f639abffc44d3e9d7342863e3,openstack/keystone,master,Ifd5fd7166bf3f36f639abffc44d3e9d7342863e3,Fix LDAP group filter,ABANDONED,2015-07-01 16:28:37.000000000,2015-07-01 19:54:33.000000000,,"[{'_account_id': 3}, {'_account_id': 1916}, {'_account_id': 10068}, {'_account_id': 17114}]","[{'number': 1, 'created': '2015-07-01 16:28:37.000000000', 'files': ['keystone/identity/backends/ldap.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/3d89bff013fc363e9349b4c02f0855977fe63e07', 'message': 'Fix LDAP group filter\n\nRole assignment to group (in LDAP) fails: Bad search filter\n\nAn invalid LDAP group filter was constructed, because None was coerced\nto the string ""None"" and inserted into the middle of the query.\n\nChange-Id: Ifd5fd7166bf3f36f639abffc44d3e9d7342863e3\nCloses-Bug: 1470570\nSigned-off-by: Hans Feldt <hans.feldt@ericsson.com>\n'}]",0,197650,3d89bff013fc363e9349b4c02f0855977fe63e07,6,4,1,17114,,,0,"Fix LDAP group filter

Role assignment to group (in LDAP) fails: Bad search filter

An invalid LDAP group filter was constructed, because None was coerced
to the string ""None"" and inserted into the middle of the query.

Change-Id: Ifd5fd7166bf3f36f639abffc44d3e9d7342863e3
Closes-Bug: 1470570
Signed-off-by: Hans Feldt <hans.feldt@ericsson.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/50/197650/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/identity/backends/ldap.py'],1,3d89bff013fc363e9349b4c02f0855977fe63e07,bug/1470570," def get_all_filtered(self, hints, query=''):"," def get_all_filtered(self, hints, query=None):",1,1
openstack%2Fhorizon~master~I1a799f39023e0598a58d912a4288300ec8340dd9,openstack/horizon,master,I1a799f39023e0598a58d912a4288300ec8340dd9,Removed JSHint,MERGED,2015-06-26 21:40:52.000000000,2015-07-01 19:52:30.000000000,2015-07-01 19:52:28.000000000,"[{'_account_id': 3}, {'_account_id': 5623}, {'_account_id': 7665}, {'_account_id': 9576}, {'_account_id': 9717}, {'_account_id': 11881}, {'_account_id': 12826}, {'_account_id': 13805}]","[{'number': 1, 'created': '2015-06-26 21:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f1321329c97bfa17aad79aed804a9313f65bf39b', 'message': 'Removed JSHint\n\nJSHint is being deprecated by the Horizon project. This removes all\nreferences, commands, and documentation related to this tool. The\npatch depends on the deactivation patch for jshint in infra.\n\nChange-Id: I1a799f39023e0598a58d912a4288300ec8340dd9\nDepends-on: Ifb59af36ae37926133769c655e54f4c2e1edf095\n'}, {'number': 2, 'created': '2015-06-26 21:48:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c9685bedf9758246e482f25daee7e850b655ccae', 'message': 'Removed JSHint\n\nJSHint is being deprecated by the Horizon project. This removes all\nreferences, commands, and documentation related to this tool. The\npatch depends on the deactivation patch for jshint in infra.\n\nChange-Id: I1a799f39023e0598a58d912a4288300ec8340dd9\nDepends-on: Ifb59af36ae37926133769c655e54f4c2e1edf095\n'}, {'number': 3, 'created': '2015-06-29 18:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7ce27c9432ccc2f6e166f2e6efb151ec88f1c105', 'message': 'Removed JSHint\n\nJSHint is being deprecated by the Horizon project. This removes all\nreferences, commands, and documentation related to this tool. The\npatch depends on the deactivation patch for jshint in infra.\n\nChange-Id: I1a799f39023e0598a58d912a4288300ec8340dd9\nDepends-on: Ifb59af36ae37926133769c655e54f4c2e1edf095\nPartially-Implements: blueprint jscs-cleanup\n'}, {'number': 4, 'created': '2015-06-30 04:10:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/afe1708d29ac308c745094f37ac043adc245b24b', 'message': 'Removed JSHint\n\nJSHint is being deprecated by the Horizon project. This removes all\nreferences, commands, and documentation related to this tool. The\npatch depends on the deactivation patch for jshint in infra.\n\nChange-Id: I1a799f39023e0598a58d912a4288300ec8340dd9\nDepends-on: Ifb59af36ae37926133769c655e54f4c2e1edf095\nPartially-Implements: blueprint jscs-cleanup\n'}, {'number': 5, 'created': '2015-07-01 16:11:38.000000000', 'files': ['run_tests.sh', 'horizon/static/framework/widgets/table/table.spec.js', '.jshintrc', 'horizon/static/horizon/js/horizon.js', '.jshintignore', 'tox.ini', 'horizon/static/framework/widgets/toast/toast.factory.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/eff59ac2dda578639c65c45bf0d33a30c37ceb18', 'message': 'Removed JSHint\n\nJSHint is being deprecated by the Horizon project. This removes all\nreferences, commands, and documentation related to this tool. The\npatch depends on the deactivation patch for jshint in infra.\n\nChange-Id: I1a799f39023e0598a58d912a4288300ec8340dd9\nDepends-on: Ifb59af36ae37926133769c655e54f4c2e1edf095\nPartially-Implements: blueprint jscs-cleanup\n'}]",0,196257,eff59ac2dda578639c65c45bf0d33a30c37ceb18,23,8,5,9717,,,0,"Removed JSHint

JSHint is being deprecated by the Horizon project. This removes all
references, commands, and documentation related to this tool. The
patch depends on the deactivation patch for jshint in infra.

Change-Id: I1a799f39023e0598a58d912a4288300ec8340dd9
Depends-on: Ifb59af36ae37926133769c655e54f4c2e1edf095
Partially-Implements: blueprint jscs-cleanup
",git fetch https://review.opendev.org/openstack/horizon refs/changes/57/196257/4 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'horizon/static/framework/widgets/table/table.spec.js', '.jshintrc', 'horizon/static/horizon/js/horizon.js', 'doc/source/ref/run_tests.rst', '.jshintignore', 'tox.ini', 'horizon/static/framework/widgets/toast/toast.factory.js']",8,f1321329c97bfa17aad79aed804a9313f65bf39b,bp/jscs-cleanup,, /* jshint validthis:true */,1,78
openstack%2Fneutron~stable%2Fkilo~I2d060064acccc10591a3d90be9011f116548cfce,openstack/neutron,stable/kilo,I2d060064acccc10591a3d90be9011f116548cfce,Fix l3 agent to not create already deleted router,MERGED,2015-06-23 08:48:59.000000000,2015-07-01 19:52:19.000000000,2015-07-01 19:52:17.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 7715}, {'_account_id': 8645}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9845}, {'_account_id': 10153}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 10980}, {'_account_id': 14571}, {'_account_id': 15296}, {'_account_id': 16908}]","[{'number': 1, 'created': '2015-06-23 08:48:59.000000000', 'files': ['neutron/agent/l3/agent.py', 'neutron/tests/unit/agent/l3/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b2f717ad5ab9e11bf50c324e222944fe0b3b962d', 'message': 'Fix l3 agent to not create already deleted router\n\nIn case router is deleted during l3 agent resync,\nthe ""deleted"" event is processed with higher priority, then\nresync event for the router may be processed which will recreate\nalready deleted router.\nThis happens due to timestamp not being properly updated for deleted\nrouter in router processor.\nThe fix adds timestamp update for deleted router.\n\nFunctional test will be updated in a follow-up patch\n\nLogging was improved to make debugging a bit easier.\n\nCloses-Bug: #1455439\nChange-Id: I2d060064acccc10591a3d90be9011f116548cfce\n(cherry picked from commit 74b0c53da5d7e4305606c100becf34966d8af350)\n'}]",0,194550,b2f717ad5ab9e11bf50c324e222944fe0b3b962d,35,18,1,5948,,,0,"Fix l3 agent to not create already deleted router

In case router is deleted during l3 agent resync,
the ""deleted"" event is processed with higher priority, then
resync event for the router may be processed which will recreate
already deleted router.
This happens due to timestamp not being properly updated for deleted
router in router processor.
The fix adds timestamp update for deleted router.

Functional test will be updated in a follow-up patch

Logging was improved to make debugging a bit easier.

Closes-Bug: #1455439
Change-Id: I2d060064acccc10591a3d90be9011f116548cfce
(cherry picked from commit 74b0c53da5d7e4305606c100becf34966d8af350)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/50/194550/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/agent.py', 'neutron/tests/unit/agent/l3/test_agent.py']",2,b2f717ad5ab9e11bf50c324e222944fe0b3b962d,," def test_process_routers_update_router_deleted(self): agent = l3_agent.L3NATAgent(HOSTNAME, self.conf) agent._queue = mock.Mock() update = mock.Mock() update.router = None update.action = 1 # ROUTER_DELETED router_info = mock.MagicMock() agent.router_info[update.id] = router_info router_processor = mock.Mock() agent._queue.each_update_to_next_router.side_effect = [ [(router_processor, update)]] agent._process_router_update() router_info.delete.assert_called_once_with(agent) self.assertFalse(agent.router_info) router_processor.fetched_and_processed.assert_called_once_with( update.timestamp) ",,25,1
openstack%2Fneutron~stable%2Fkilo~Id2c8c8c1093c8abcf1fd897b23b0358aeb55b526,openstack/neutron,stable/kilo,Id2c8c8c1093c8abcf1fd897b23b0358aeb55b526,Optimize ipset usage in IptablesFirewallDriver,MERGED,2015-06-24 10:58:54.000000000,2015-07-01 19:52:07.000000000,2015-07-01 19:52:05.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 7787}, {'_account_id': 8976}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10153}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 14571}, {'_account_id': 16800}]","[{'number': 1, 'created': '2015-06-24 10:58:54.000000000', 'files': ['neutron/agent/linux/iptables_firewall.py', 'neutron/tests/unit/agent/linux/test_iptables_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/469a7ec1d36b7e41e0b887252bb84370575a9072', 'message': 'Optimize ipset usage in IptablesFirewallDriver\n\nCurrently, IptablesFirewallDriver._update_ipset_members() iterates\nthrough a list of security group IDs and makes a call to\nIpsetManager.set_members() for each security group ID in the list. The\nproblem is that set_members() is repeatedly called with the same\narguments over and over again because the list of security group IDs\ncontains duplicates. These duplicated calls are unnecessary because they\nare idempotent.\n\nFor instance, with a security group of 50 rules created in this manner:\n    neutron security-group-rule-create $SECGRP --remote_group_id $SECGRP\n        --protocol tcp --port_range_min $i --port_range_max $i\n\nAdding a server to that security group will cause 50 calls to\nIpsetManager.set_members() because the list of security group IDs is 50 of\nthe same ID. Only one call to IpsetManager.set_members() is necessary\nper security group ID.\n\nThis patch converts that list of security group IDs into a set, which\neliminates the duplicate idempotent calls to\nIpsetManager.set_members() with the same arguments. This will affect\nperformance by reducing the amount of file locking around ipset when\nadding servers to security groups.\n\nCloses-Bug: 1466921\n\nConflicts:\n\n\tneutron/agent/linux/iptables_firewall.py\n\nChange-Id: Id2c8c8c1093c8abcf1fd897b23b0358aeb55b526\n(cherry picked from commit 7e117c13fd3fb125c857dadfa2945799b39e1634)\n'}]",0,195034,469a7ec1d36b7e41e0b887252bb84370575a9072,31,16,1,5948,,,0,"Optimize ipset usage in IptablesFirewallDriver

Currently, IptablesFirewallDriver._update_ipset_members() iterates
through a list of security group IDs and makes a call to
IpsetManager.set_members() for each security group ID in the list. The
problem is that set_members() is repeatedly called with the same
arguments over and over again because the list of security group IDs
contains duplicates. These duplicated calls are unnecessary because they
are idempotent.

For instance, with a security group of 50 rules created in this manner:
    neutron security-group-rule-create $SECGRP --remote_group_id $SECGRP
        --protocol tcp --port_range_min $i --port_range_max $i

Adding a server to that security group will cause 50 calls to
IpsetManager.set_members() because the list of security group IDs is 50 of
the same ID. Only one call to IpsetManager.set_members() is necessary
per security group ID.

This patch converts that list of security group IDs into a set, which
eliminates the duplicate idempotent calls to
IpsetManager.set_members() with the same arguments. This will affect
performance by reducing the amount of file locking around ipset when
adding servers to security groups.

Closes-Bug: 1466921

Conflicts:

	neutron/agent/linux/iptables_firewall.py

Change-Id: Id2c8c8c1093c8abcf1fd897b23b0358aeb55b526
(cherry picked from commit 7e117c13fd3fb125c857dadfa2945799b39e1634)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/195034/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/iptables_firewall.py', 'neutron/tests/unit/agent/linux/test_iptables_firewall.py']",2,469a7ec1d36b7e41e0b887252bb84370575a9072,bug/1466921," def test_get_remote_sg_ids(self): self.firewall.sg_rules = self._fake_sg_rules( remote_groups={_IPv4: [FAKE_SGID, FAKE_SGID, FAKE_SGID], _IPv6: [OTHER_SGID, OTHER_SGID, OTHER_SGID]}) port = self._fake_port() self.assertEqual( {_IPv4: set([FAKE_SGID]), _IPv6: set([OTHER_SGID])}, self.firewall._get_remote_sg_ids(port)) ",,16,5
openstack%2Fneutron-lbaas~master~I44cf4abd449e48354df5d2e9d6e815a638329df4,openstack/neutron-lbaas,master,I44cf4abd449e48354df5d2e9d6e815a638329df4,Delete neutron_lbaas.agent.common_rpc,MERGED,2015-07-01 09:40:52.000000000,2015-07-01 19:52:03.000000000,2015-07-01 19:52:02.000000000,"[{'_account_id': 3}, {'_account_id': 6951}, {'_account_id': 9008}, {'_account_id': 9828}, {'_account_id': 10980}, {'_account_id': 12040}]","[{'number': 1, 'created': '2015-07-01 09:40:52.000000000', 'files': ['neutron_lbaas/agent/common_rpc.py', 'neutron_lbaas/agent/agent.py', 'neutron_lbaas/services/loadbalancer/agent/agent.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/3c06770c00acd03ccab8fb36c2d0668da4675307', 'message': 'Delete neutron_lbaas.agent.common_rpc\n\nThis file was needed to port neutron_lbaas to oslo.service and\ncan now be dropped.\n\nChange-Id: I44cf4abd449e48354df5d2e9d6e815a638329df4\n'}]",0,197488,3c06770c00acd03ccab8fb36c2d0668da4675307,12,6,1,7293,,,0,"Delete neutron_lbaas.agent.common_rpc

This file was needed to port neutron_lbaas to oslo.service and
can now be dropped.

Change-Id: I44cf4abd449e48354df5d2e9d6e815a638329df4
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/88/197488/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lbaas/agent/common_rpc.py', 'neutron_lbaas/agent/agent.py', 'neutron_lbaas/services/loadbalancer/agent/agent.py']",3,3c06770c00acd03ccab8fb36c2d0668da4675307,remove_common_rpc,from neutron.common import rpc as n_rpc,from neutron_lbaas.agent import common_rpc as n_rpc,2,213
openstack%2Fneutron-lbaas~master~I2871a19220a803f8f6381628b7b8cf1e9f66716d,openstack/neutron-lbaas,master,I2871a19220a803f8f6381628b7b8cf1e9f66716d,Updated from global requirements,MERGED,2015-06-24 14:41:50.000000000,2015-07-01 19:51:49.000000000,2015-07-01 19:51:49.000000000,"[{'_account_id': 3}, {'_account_id': 6854}, {'_account_id': 6951}, {'_account_id': 9008}, {'_account_id': 10850}, {'_account_id': 10980}, {'_account_id': 11628}, {'_account_id': 12040}, {'_account_id': 12403}, {'_account_id': 14605}]","[{'number': 1, 'created': '2015-06-24 14:41:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/1affdd3b498cce97aefb82b63d7c6310f89f2e2e', 'message': 'Updated from global requirements\n\nChange-Id: I2871a19220a803f8f6381628b7b8cf1e9f66716d\n'}, {'number': 2, 'created': '2015-06-24 20:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/fd206e0397c7b414fc5b592971e2f8b479659836', 'message': 'Updated from global requirements\n\nChange-Id: I2871a19220a803f8f6381628b7b8cf1e9f66716d\n'}, {'number': 3, 'created': '2015-06-24 22:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/585340d677b26f568e705978ac4fb77a3e853250', 'message': 'Updated from global requirements\n\nChange-Id: I2871a19220a803f8f6381628b7b8cf1e9f66716d\n'}, {'number': 4, 'created': '2015-06-26 21:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/2eff633bb9cd2dd82d05f24278e3a7ff00f6637c', 'message': 'Updated from global requirements\n\nChange-Id: I2871a19220a803f8f6381628b7b8cf1e9f66716d\n'}, {'number': 5, 'created': '2015-06-30 19:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/20e9d85d4e0b2b8a7a750f6908751fdc94113d12', 'message': 'Updated from global requirements\n\nChange-Id: I2871a19220a803f8f6381628b7b8cf1e9f66716d\n'}, {'number': 6, 'created': '2015-06-30 22:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/75fe3d47f0996a2ee23035695c48f8b0e1e94ce8', 'message': 'Updated from global requirements\n\nChange-Id: I2871a19220a803f8f6381628b7b8cf1e9f66716d\n'}, {'number': 7, 'created': '2015-07-01 09:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/cbefa09d86dc270741b24317414fce2bd9f9fc18', 'message': 'Updated from global requirements\n\nChange-Id: I2871a19220a803f8f6381628b7b8cf1e9f66716d\n'}, {'number': 8, 'created': '2015-07-01 14:15:04.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/564c2b3e1de9555a39f19879ab13e8c0888bcdc6', 'message': 'Updated from global requirements\n\nChange-Id: I2871a19220a803f8f6381628b7b8cf1e9f66716d\n'}]",0,195116,564c2b3e1de9555a39f19879ab13e8c0888bcdc6,52,10,8,11131,,,0,"Updated from global requirements

Change-Id: I2871a19220a803f8f6381628b7b8cf1e9f66716d
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/16/195116/8 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,1affdd3b498cce97aefb82b63d7c6310f89f2e2e,openstack/requirements,oslo.concurrency>=2.1.0 # Apache-2.0,oslo.concurrency>=2.0.0 # Apache-2.0,1,1
openstack%2Fsahara~stable%2Fkilo~I19d538c9842d1bfaa9dc35c30941a06d86af0cc3,openstack/sahara,stable/kilo,I19d538c9842d1bfaa9dc35c30941a06d86af0cc3,Adding .to_wrapped_dict to node_group_template update,MERGED,2015-06-26 12:28:16.000000000,2015-07-01 19:51:47.000000000,2015-07-01 19:51:45.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7132}, {'_account_id': 7213}, {'_account_id': 7710}, {'_account_id': 8090}, {'_account_id': 8411}, {'_account_id': 10670}, {'_account_id': 12038}, {'_account_id': 12039}, {'_account_id': 13919}, {'_account_id': 17034}]","[{'number': 1, 'created': '2015-06-26 12:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/80df6a6e52c2e7f132139efbbe16d9d7ca214a00', 'message': 'Adding .to_wrapped_dict to node_group_template update\n\nThe node group template update operation now\nwraps its output with to_wrapped_dict to yield json\nthat accurately reflects the node group template object.\n\nChange-Id: I19d538c9842d1bfaa9dc35c30941a06d86af0cc3\nCloses-Bug: #1445559\n(cherry picked from commit 865d22c29938ca4c14b4c4dcc40bd1387ea981c7)\n'}, {'number': 2, 'created': '2015-06-30 15:08:18.000000000', 'files': ['sahara/api/v10.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/c563e26c8effa5beccf5ab0904298925d8cd6913', 'message': 'Adding .to_wrapped_dict to node_group_template update\n\nThe node group template update operation now\nwraps its output with to_wrapped_dict to yield json\nthat accurately reflects the node group template object.\n\nChange-Id: I19d538c9842d1bfaa9dc35c30941a06d86af0cc3\nCloses-Bug: #1445559\n(cherry picked from commit 865d22c29938ca4c14b4c4dcc40bd1387ea981c7)\n'}]",0,196027,c563e26c8effa5beccf5ab0904298925d8cd6913,24,12,2,12038,,,0,"Adding .to_wrapped_dict to node_group_template update

The node group template update operation now
wraps its output with to_wrapped_dict to yield json
that accurately reflects the node group template object.

Change-Id: I19d538c9842d1bfaa9dc35c30941a06d86af0cc3
Closes-Bug: #1445559
(cherry picked from commit 865d22c29938ca4c14b4c4dcc40bd1387ea981c7)
",git fetch https://review.opendev.org/openstack/sahara refs/changes/27/196027/2 && git format-patch -1 --stdout FETCH_HEAD,['sahara/api/v10.py'],1,80df6a6e52c2e7f132139efbbe16d9d7ca214a00,bug/1445559," api.update_node_group_template( node_group_template_id, data).to_wrapped_dict())"," api.update_node_group_template(node_group_template_id, data))",2,1
openstack%2Fpython-openstackclient~master~Ib396316586ffc5dbab231064d5b6dc9425507934,openstack/python-openstackclient,master,Ib396316586ffc5dbab231064d5b6dc9425507934,Add functional tests for image set,MERGED,2015-06-03 23:19:01.000000000,2015-07-01 19:51:15.000000000,2015-07-01 19:51:13.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 1941}, {'_account_id': 8736}]","[{'number': 1, 'created': '2015-06-03 23:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9d0b3f6b0b0e092a6995be9c89e229ede39090f1', 'message': 'Add functional tests for image set\n\nChange-Id: Ib396316586ffc5dbab231064d5b6dc9425507934\n'}, {'number': 2, 'created': '2015-06-04 15:09:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2a273e2108552342af1214fcf810feaac35069cc', 'message': 'Add functional tests for image set\n\nChange-Id: Ib396316586ffc5dbab231064d5b6dc9425507934\n'}, {'number': 3, 'created': '2015-06-04 16:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/68b032836b881c44ffc9a111810332aba4b4cb69', 'message': 'Add functional tests for image set\n\nChange-Id: Ib396316586ffc5dbab231064d5b6dc9425507934\n'}, {'number': 4, 'created': '2015-06-05 12:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d6dc639f99c33f9024c414fc63528cfc87cb12f4', 'message': 'Add functional tests for image set\n\nChange-Id: Ib396316586ffc5dbab231064d5b6dc9425507934\n'}, {'number': 5, 'created': '2015-06-10 15:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/970f132df33f09ab05c5094681023214d19818c7', 'message': 'Add functional tests for image set\n\nChange-Id: Ib396316586ffc5dbab231064d5b6dc9425507934\n'}, {'number': 6, 'created': '2015-06-10 16:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/32ae57c88f882319002476859eb33c56658fbd7f', 'message': 'Add functional tests for image set\n\nChange-Id: Ib396316586ffc5dbab231064d5b6dc9425507934\n'}, {'number': 7, 'created': '2015-06-10 17:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ff1846c2ddc46d80644326e3c705b454779f1b89', 'message': 'Add functional tests for image set\n\nChange-Id: Ib396316586ffc5dbab231064d5b6dc9425507934\n'}, {'number': 8, 'created': '2015-06-16 12:34:00.000000000', 'files': ['openstackclient/image/v1/image.py', 'openstackclient/tests/image/v1/fakes.py', 'functional/tests/image/v1/test_image.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ce65164155dcf6dddf7695fbc5ca6352c121cc04', 'message': ""Add functional tests for image set\n\nThis patch includes functional tests for image set and it includes\na change to use the OSC utils.format_dict method to format the\nproperties.  This will give a more user friendly format to the image\ncommands and it gives a more consistent testable format to the\noutput.  Instead of:\n\n{u'a': u'b', u'c': u'd'}\n\nThe user will see:\n\na=b, c=d\n\nChange-Id: Ib396316586ffc5dbab231064d5b6dc9425507934\n""}]",1,188206,ce65164155dcf6dddf7695fbc5ca6352c121cc04,22,4,8,8736,,,0,"Add functional tests for image set

This patch includes functional tests for image set and it includes
a change to use the OSC utils.format_dict method to format the
properties.  This will give a more user friendly format to the image
commands and it gives a more consistent testable format to the
output.  Instead of:

{u'a': u'b', u'c': u'd'}

The user will see:

a=b, c=d

Change-Id: Ib396316586ffc5dbab231064d5b6dc9425507934
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/06/188206/6 && git format-patch -1 --stdout FETCH_HEAD,['functional/tests/image/v1/test_image.py'],1,9d0b3f6b0b0e092a6995be9c89e229ede39090f1,aftimagemeta," OTHER_NAME = uuid.uuid4().hex # Rename test opts = cls.get_show_opts(cls.FIELDS) raw_output = cls.openstack( 'image set --name ' + cls.OTHER_NAME + ' ' + cls.NAME + opts) cls.assertOutput(cls.OTHER_NAME + ""\n"", raw_output) # Delete test raw_output = cls.openstack('image delete ' + cls.OTHER_NAME) def test_image_set(self): opts = self.get_show_opts([ ""disk_format"", ""is_public"", ""min_disk"", ""min_ram"", ""name""]) raw_output = self.openstack('image set --min-disk 4 --min-ram 5 ' + '--disk-format qcow2 --public ' + self.NAME + opts) self.assertEqual(""qcow2\nTrue\n4\n5\n"" + self.NAME + '\n', raw_output) def test_image_metadata(self): opts = self.get_show_opts([""name"", ""properties""]) raw_output = self.openstack( 'image set --property a=b --property c=d ' + self.NAME + opts) self.assertEqual(self.NAME + ""\n{u'a': u'b', u'c': u'd'}\n"", raw_output)", raw_output = cls.openstack('image delete ' + cls.NAME),22,1
openstack%2Fnova~master~I615d48db5e821e1dc85114277eaf1f6cd5be8622,openstack/nova,master,I615d48db5e821e1dc85114277eaf1f6cd5be8622,Avoid recursion in object relationships test,MERGED,2015-07-01 14:31:59.000000000,2015-07-01 19:45:55.000000000,2015-07-01 17:20:35.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11803}, {'_account_id': 15286}]","[{'number': 1, 'created': '2015-07-01 14:31:59.000000000', 'files': ['nova/tests/unit/objects/test_objects.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e4e16e9077b5e78f809c6c634153fa62a5facb16', 'message': ""Avoid recursion in object relationships test\n\nIn the object_relationships test, we try to walk the object tree\nto find all dependencies and put them in our mapping. However, we\nreally don't need to recurse through every relationship to find\nall the objects, since they're all in the registry. We really just\nneed to linearly walk the registry and inspect one level below each\nobject to find the dependencies. The hint here is that the static\nstored mapping is not a tree, it's just a mapping.\n\nRemoving the recursion still finds all the same objects and deps,\nas evidenced by the fact that this still passes when removing the\nrecursion step.\n\nCloses-Bug: #1470302\nChange-Id: I615d48db5e821e1dc85114277eaf1f6cd5be8622\n""}]",6,197611,e4e16e9077b5e78f809c6c634153fa62a5facb16,14,9,1,4393,,,0,"Avoid recursion in object relationships test

In the object_relationships test, we try to walk the object tree
to find all dependencies and put them in our mapping. However, we
really don't need to recurse through every relationship to find
all the objects, since they're all in the registry. We really just
need to linearly walk the registry and inspect one level below each
object to find the dependencies. The hint here is that the static
stored mapping is not a tree, it's just a mapping.

Removing the recursion still finds all the same objects and deps,
as evidenced by the fact that this still passes when removing the
recursion step.

Closes-Bug: #1470302
Change-Id: I615d48db5e821e1dc85114277eaf1f6cd5be8622
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/197611/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/objects/test_objects.py'],1,e4e16e9077b5e78f809c6c634153fa62a5facb16,bug/1470302,," self._build_tree(tree, sub_obj_class)",0,1
openstack%2Fnetworking-hyperv~master~I47f93e0e89f7b8106981f060fc7a3303d90cf7e4,openstack/networking-hyperv,master,I47f93e0e89f7b8106981f060fc7a3303d90cf7e4,Replaces oslo.i18n with oslo_i18n,MERGED,2015-07-01 19:02:04.000000000,2015-07-01 19:43:34.000000000,2015-07-01 19:43:33.000000000,"[{'_account_id': 3}, {'_account_id': 8213}]","[{'number': 1, 'created': '2015-07-01 19:02:04.000000000', 'files': ['hyperv/common/i18n.py'], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/56d66fc012846620a60cb8f18df5a1c889fe0e26', 'message': 'Replaces oslo.i18n with oslo_i18n\n\nChange-Id: I47f93e0e89f7b8106981f060fc7a3303d90cf7e4\n'}]",0,197707,56d66fc012846620a60cb8f18df5a1c889fe0e26,6,2,1,8213,,,0,"Replaces oslo.i18n with oslo_i18n

Change-Id: I47f93e0e89f7b8106981f060fc7a3303d90cf7e4
",git fetch https://review.opendev.org/openstack/networking-hyperv refs/changes/07/197707/1 && git format-patch -1 --stdout FETCH_HEAD,['hyperv/common/i18n.py'],1,56d66fc012846620a60cb8f18df5a1c889fe0e26,,import oslo_i18n _translators = oslo_i18n.TranslatorFactory(domain='neutron'),from oslo import i18n _translators = i18n.TranslatorFactory(domain='neutron'),2,2
openstack%2Ffuel-library~master~Ic76a6d7b7211e03dd5447a71b3c51ad5bb074dbe,openstack/fuel-library,master,Ic76a6d7b7211e03dd5447a71b3c51ad5bb074dbe,Possibility to detach haproxy from controllers,MERGED,2015-06-05 15:55:31.000000000,2015-07-01 19:42:38.000000000,2015-07-01 19:42:00.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 7195}, {'_account_id': 7468}, {'_account_id': 8786}, {'_account_id': 8787}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 9387}, {'_account_id': 9546}, {'_account_id': 11090}, {'_account_id': 11827}, {'_account_id': 13343}, {'_account_id': 13344}, {'_account_id': 13948}, {'_account_id': 14774}, {'_account_id': 14985}, {'_account_id': 15984}, {'_account_id': 17057}]","[{'number': 1, 'created': '2015-06-05 15:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/a6a2be9a9d2a64a4cbfe44c7855ea91c0984fe25', 'message': '(WIP) Possibility to detach haproxy from controllers\n\nWORK IN PROGRESS\n\n- Added possibility to use custom_mysql_setup_class for database\n- Added possibility to overwrite controllers role with haproxy_nodes\n\nPartial blueprint: detach-components-from-controllers\n\nChange-Id: Ic76a6d7b7211e03dd5447a71b3c51ad5bb074dbe\n'}, {'number': 2, 'created': '2015-06-24 14:37:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/ce94ab878816eabe668fd97739663ef9ed78482a', 'message': 'Possibility to detach haproxy from controllers\n\n- Added possibility to use custom_mysql_setup_class for database\n- Added possibility to overwrite controllers role with haproxy_nodes\n\nPartial blueprint: detach-components-from-controllers\n\nChange-Id: Ic76a6d7b7211e03dd5447a71b3c51ad5bb074dbe\n'}, {'number': 3, 'created': '2015-06-30 13:58:10.000000000', 'files': ['deployment/puppet/osnailyfacter/modular/openstack-haproxy/openstack-haproxy.pp', 'deployment/puppet/openstack/manifests/ha/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/a56d95bd98c5aadd1b675515262dbfa9cecbb8f0', 'message': 'Possibility to detach haproxy from controllers\n\n- Added possibility to use custom_mysql_setup_class for database\n- Added possibility to overwrite controllers role with haproxy_nodes\n\nPartial blueprint: detach-components-from-controllers\n\nChange-Id: Ic76a6d7b7211e03dd5447a71b3c51ad5bb074dbe\nCo-Authored-By: Nikita Koshikov <nkoshikov@mirantis.com>\n'}]",1,188838,a56d95bd98c5aadd1b675515262dbfa9cecbb8f0,57,19,3,12953,,,0,"Possibility to detach haproxy from controllers

- Added possibility to use custom_mysql_setup_class for database
- Added possibility to overwrite controllers role with haproxy_nodes

Partial blueprint: detach-components-from-controllers

Change-Id: Ic76a6d7b7211e03dd5447a71b3c51ad5bb074dbe
Co-Authored-By: Nikita Koshikov <nkoshikov@mirantis.com>
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/38/188838/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/osnailyfacter/modular/openstack-haproxy/openstack-haproxy.pp', 'deployment/puppet/openstack/manifests/ha/haproxy.pp']",2,a6a2be9a9d2a64a4cbfe44c7855ea91c0984fe25,bp/detach-components-from-controllers, if $custom_mysql_setup_class == 'galera' or $custom_mysql_setup_class == 'percona' {, if $custom_mysql_setup_class == 'galera' {,10,9
openstack%2Ffuel-library~master~Ie00ec394d66b9bb6a91ff5ec3899ac5ed7bcb4d7,openstack/fuel-library,master,Ie00ec394d66b9bb6a91ff5ec3899ac5ed7bcb4d7,Possibility to detach nova from controllers,MERGED,2015-05-29 15:02:25.000000000,2015-07-01 19:42:16.000000000,2015-07-01 19:41:40.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 7195}, {'_account_id': 7468}, {'_account_id': 8786}, {'_account_id': 8787}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 9387}, {'_account_id': 9546}, {'_account_id': 10136}, {'_account_id': 11090}, {'_account_id': 11827}, {'_account_id': 12953}, {'_account_id': 13343}, {'_account_id': 13344}, {'_account_id': 13948}, {'_account_id': 14774}, {'_account_id': 14985}, {'_account_id': 15984}, {'_account_id': 17057}]","[{'number': 1, 'created': '2015-05-29 15:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/726630b6766a8f27bc47dee8fb22227c15909b48', 'message': '(WIP) Possibility to detach nova from controllers\n\n- Removed deprecated parameters in openstack::controller class\n  declaration\n- Added possibilit to use external keystone, rabbitmq and DB for\n  nova services.\n\nChange-Id: Ie00ec394d66b9bb6a91ff5ec3899ac5ed7bcb4d7\n'}, {'number': 2, 'created': '2015-05-29 16:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/d76f3ba043d0c325bc854e67b6e471ad91333d86', 'message': '(WIP) Possibility to detach nova from controllers\n\nWORK IN PROGRESS\n\n- Removed deprecated parameters in openstack::controller class\n  declaration\n- Added possibilit to use external keystone, rabbitmq and DB for\n  nova services.\n\nPartial blueprint: detach-components-from-controllers\nChange-Id: Ie00ec394d66b9bb6a91ff5ec3899ac5ed7bcb4d7\n'}, {'number': 3, 'created': '2015-05-29 19:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/b6b0bc766f5a3105a772ba9227bb97895fb1d22a', 'message': '(WIP) Possibility to detach nova from controllers\n\nWORK IN PROGRESS\n\n- Removed deprecated parameters in openstack::controller class\n  declaration\n- Added possibilit to use external keystone, rabbitmq and DB for\n  nova services.\n\nPartial blueprint: detach-components-from-controllers\nChange-Id: Ie00ec394d66b9bb6a91ff5ec3899ac5ed7bcb4d7\n'}, {'number': 4, 'created': '2015-06-01 16:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/40545dac83134a1e6f383e1b847f560e07943dcc', 'message': '(WIP) Possibility to detach nova from controllers\n\nWORK IN PROGRESS\n\n- Removed deprecated parameters in openstack::controller class\n  declaration\n- Added possibilit to use external keystone, rabbitmq and DB for\n  nova services.\n\nPartial blueprint: detach-components-from-controllers\nChange-Id: Ie00ec394d66b9bb6a91ff5ec3899ac5ed7bcb4d7\n'}, {'number': 5, 'created': '2015-06-01 16:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/cf126a69f7b2c48c9234ea489f604b90901b4a29', 'message': '(WIP) Possibility to detach nova from controllers\n\nWORK IN PROGRESS\n\n- Removed deprecated parameters in openstack::controller class\n  declaration\n- Added possibilit to use external keystone, rabbitmq and DB for\n  nova services.\n\nPartial blueprint: detach-components-from-controllers\nChange-Id: Ie00ec394d66b9bb6a91ff5ec3899ac5ed7bcb4d7\n'}, {'number': 6, 'created': '2015-06-02 15:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/785ccf6370e6546576d4469d8e0454bee8d3b2e8', 'message': '(WIP) Possibility to detach nova from controllers\n\nWORK IN PROGRESS\n\n- Removed deprecated parameters in openstack::controller class\n  declaration\n- Added possibilit to use external keystone, rabbitmq and DB for\n  nova services.\n\nPartial blueprint: detach-components-from-controllers\nChange-Id: Ie00ec394d66b9bb6a91ff5ec3899ac5ed7bcb4d7\n'}, {'number': 7, 'created': '2015-06-09 16:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/a608bdd784c09dec9a02cbec24467f0ac6065f33', 'message': '(WIP) Possibility to detach nova from controllers\n\nWORK IN PROGRESS\n\n- Removed deprecated parameters in openstack::controller class\n  declaration\n- Added possibilit to use external keystone, rabbitmq and DB for\n  nova services.\n\nPartial blueprint: detach-components-from-controllers\nChange-Id: Ie00ec394d66b9bb6a91ff5ec3899ac5ed7bcb4d7\n'}, {'number': 8, 'created': '2015-06-10 18:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/cfefe6d0ac6b768dd8ecea501d3c4fca7f837161', 'message': '(WIP) Possibility to detach nova from controllers\n\nWORK IN PROGRESS\n\n- Removed deprecated parameters in openstack::controller class\n  declaration\n- Added possibility to use external keystone, rabbitmq and DB for\n  nova services.\n\nPartial blueprint: detach-components-from-controllers\nChange-Id: Ie00ec394d66b9bb6a91ff5ec3899ac5ed7bcb4d7\n'}, {'number': 9, 'created': '2015-06-11 16:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/87fb1b58dcbe611bcab75c1d375278cc25e51cfc', 'message': '(WIP) Possibility to detach nova from controllers\n\nWORK IN PROGRESS\n\n- Removed deprecated parameters in openstack::controller class\n  declaration\n- Added possibility to use external keystone, rabbitmq and DB for\n  nova services.\n\nPartial blueprint: detach-components-from-controllers\nChange-Id: Ie00ec394d66b9bb6a91ff5ec3899ac5ed7bcb4d7\n'}, {'number': 10, 'created': '2015-06-12 14:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/e56c058e89eab85a4bc2eb2902e59c8b8fef77aa', 'message': '(WIP) Possibility to detach nova from controllers\n\nWORK IN PROGRESS\n\n- Removed deprecated parameters in openstack::controller class\n  declaration\n- Added possibility to use external keystone, rabbitmq and DB for\n  nova services.\n\nPartial blueprint: detach-components-from-controllers\nChange-Id: Ie00ec394d66b9bb6a91ff5ec3899ac5ed7bcb4d7\n'}, {'number': 11, 'created': '2015-06-12 16:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/cd97941aec39932c51eb68673fabccc3d00078cf', 'message': '(WIP) Possibility to detach nova from controllers\n\nWORK IN PROGRESS\n\n- Removed deprecated parameters in openstack::controller class\n  declaration\n- Added possibility to use external keystone, rabbitmq and DB for\n  nova services.\n\nPartial blueprint: detach-components-from-controllers\nChange-Id: Ie00ec394d66b9bb6a91ff5ec3899ac5ed7bcb4d7\n'}, {'number': 12, 'created': '2015-06-12 20:36:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/062c3328cfc7d5c2c8a86f0246e1c948f925b200', 'message': '(WIP) Possibility to detach nova from controllers\n\nWORK IN PROGRESS\n\n- Removed deprecated parameters in openstack::controller class\n  declaration\n- Added possibility to use external keystone, rabbitmq and DB for\n  nova services.\n- Added parameters for keystone nova tenant overwrite\n\nPartial blueprint: detach-components-from-controllers\nChange-Id: Ie00ec394d66b9bb6a91ff5ec3899ac5ed7bcb4d7\n'}, {'number': 13, 'created': '2015-06-24 09:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/e640212ac2c56c8d51e4086e34e78e26fd508904', 'message': 'Possibility to detach nova from controllers\n\n- Removed deprecated parameters in openstack::controller class\n  declaration\n- Added possibility to use external keystone, rabbitmq and DB for\n  nova services.\n- Added parameters for keystone nova tenant overwrite\n\nPartial blueprint: detach-components-from-controllers\nChange-Id: Ie00ec394d66b9bb6a91ff5ec3899ac5ed7bcb4d7\n'}, {'number': 14, 'created': '2015-06-30 18:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/8c23b58787d95f05ea64122aa71374d53dc57b59', 'message': 'Possibility to detach nova from controllers\n\n- Removed deprecated parameters in openstack::controller class\n  declaration\n- Added possibility to use external keystone, rabbitmq and DB for\n  nova services.\n- Added parameters for keystone nova tenant overwrite\n\nPartial blueprint: detach-components-from-controllers\nChange-Id: Ie00ec394d66b9bb6a91ff5ec3899ac5ed7bcb4d7\nCo-Authored-By: Aleksandr Didenko <adidenko@mirantis.com>\n'}, {'number': 15, 'created': '2015-07-01 12:05:28.000000000', 'files': ['deployment/puppet/openstack/manifests/controller.pp', 'deployment/puppet/openstack/manifests/nova/controller.pp', 'deployment/puppet/osnailyfacter/modular/globals/globals.pp', 'deployment/puppet/osnailyfacter/modular/openstack-controller/openstack-controller.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/0c71aeb9db5e258be8f4f97f1c1a536d400713eb', 'message': 'Possibility to detach nova from controllers\n\n- Removed deprecated parameters in openstack::controller class\n  declaration\n- Added possibility to use external keystone, rabbitmq and DB for\n  nova services.\n- Added parameters for keystone nova tenant overwrite\n\nPartial blueprint: detach-components-from-controllers\nChange-Id: Ie00ec394d66b9bb6a91ff5ec3899ac5ed7bcb4d7\nCo-Authored-By: Aleksandr Didenko <adidenko@mirantis.com>\n'}]",8,186781,0c71aeb9db5e258be8f4f97f1c1a536d400713eb,272,21,15,9387,,,0,"Possibility to detach nova from controllers

- Removed deprecated parameters in openstack::controller class
  declaration
- Added possibility to use external keystone, rabbitmq and DB for
  nova services.
- Added parameters for keystone nova tenant overwrite

Partial blueprint: detach-components-from-controllers
Change-Id: Ie00ec394d66b9bb6a91ff5ec3899ac5ed7bcb4d7
Co-Authored-By: Aleksandr Didenko <adidenko@mirantis.com>
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/81/186781/11 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/openstack/manifests/controller.pp', 'deployment/puppet/openstack/manifests/nova/controller.pp', 'deployment/puppet/osnailyfacter/modular/openstack-controller/openstack-controller.pp']",3,726630b6766a8f27bc47dee8fb22227c15909b48,bp/detach-components-from-controllers,"$nova_hash = hiera_hash('nova', {})$rabbit_hash = hiera_hash('rabbit_hash', {})$db_host = hiera('db_host', $management_vip) $service_endpoint = hiera('service_endpoint', $management_vip) $nova_db_user = hiera('nova_db_user', 'nova') nova_db_user => $nova_db_user, nova_user => $nova_hash[user], db_host => $db_host, service_endpoint => $service_endpoint, ""OS_USERNAME=${nova_hash['user']}"", ""OS_AUTH_URL=http://${service_endpoint}:5000/v2.0/"",","$nova_hash = hiera('nova', {})$rabbit_hash = hiera('rabbit', {}) mysql_root_password => $mysql_hash[root_password], custom_mysql_setup_class => 'galera', galera_cluster_name => 'openstack', galera_node_address => $internal_address, galera_nodes => $controller_nodes, status_check => true, status_user => 'clustercheck', status_password => $mysql_hash[wsrep_password], backend_port => '3307', backend_timeout => '10', mysql_skip_name_resolve => true, keystone_db_password => $keystone_hash[db_password], keystone_admin_token => $keystone_hash[admin_token], keystone_admin_tenant => $access_hash[tenant], glance_db_password => $glance_hash[db_password], glance_user_password => $glance_hash[user_password], glance_api_servers => ""$management_vip:9292"", glance_image_cache_max_size => $glance_hash[image_cache_max_size], glance_vcenter_host => $storage_hash['vc_host'], glance_vcenter_user => $storage_hash['vc_user'], glance_vcenter_password => $storage_hash['vc_password'], glance_vcenter_datacenter => $storage_hash['vc_datacenter'], glance_vcenter_datastore => $storage_hash['vc_datastore'], glance_vcenter_image_dir => $storage_hash['vc_image_dir'], rabbitmq_bind_ip_address => $rabbitmq_bind_ip_address, rabbitmq_bind_port => $rabbitmq_bind_port, rabbitmq_cluster_nodes => $rabbitmq_cluster_nodes, memcached_bind_address => $internal_address, export_resources => false, db_host => $management_vip, service_endpoint => $management_vip, glance_backend => $glance_backend, known_stores => $glance_known_stores, #require => Service['keepalived'], neutron_db_user => 'neutron', neutron_db_password => $neutron_db_password, neutron_db_dbname => 'neutron', neutron_user_password => $neutron_user_password, neutron_ha_agents => $primary_controller ? {true => 'primary', default => 'slave'}, segment_range => undef, tenant_network_type => undef, create_networks => $primary_controller, # cinder_iscsi_bind_addr => $cinder_iscsi_bind_addr, cinder_user_password => $cinder_hash[user_password], cinder_db_password => $cinder_hash[db_password], manage_volumes => $manage_volumes, nv_physical_volume => undef, cinder_volume_group => 'cinder', # ceilometer_db_user => $ceilometer_db_user, ceilometer_db_password => $ceilometer_db_password, ceilometer_user_password => $ceilometer_hash[user_password], ceilometer_metering_secret => $ceilometer_hash[metering_secret], ceilometer_db_dbname => $ceilometer_db_dbname, ceilometer_db_type => 'mongodb', ceilometer_db_host => $mongo_hosts, swift_rados_backend => $storage_hash['objects_ceph'], ceilometer_ext_mongo => $ext_mongo, mongo_replicaset => $mongo_replicaset, # # turn on SWIFT_ENABLED option for Horizon dashboard swift => $glance_backend ? { 'swift' => true, default => false }, syslog_log_facility_glance => $syslog_log_facility_glance, syslog_log_facility_cinder => $syslog_log_facility_cinder, syslog_log_facility_keystone => $syslog_log_facility_keystone, syslog_log_facility_ceilometer => $syslog_log_facility_ceilometer, cinder_rate_limits => $cinder_rate_limits, horizon_use_ssl => hiera('horizon_use_ssl', false), nameservers => hiera('dns_nameservers'), ""OS_USERNAME=nova"", ""OS_AUTH_URL=http://${management_vip}:5000/v2.0/"",",15,74
openstack%2Fpython-openstackclient~master~I1b4d998f3ec1bd5cb8dd4c9e0d04fd3b3049e9d7,openstack/python-openstackclient,master,I1b4d998f3ec1bd5cb8dd4c9e0d04fd3b3049e9d7,Add tests for 'list' and 'show' for volume qos v1,MERGED,2015-06-29 21:15:59.000000000,2015-07-01 19:40:45.000000000,2015-07-01 19:40:43.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 6482}, {'_account_id': 8736}]","[{'number': 1, 'created': '2015-06-29 21:15:59.000000000', 'files': ['openstackclient/tests/volume/v1/test_qos_specs.py', 'openstackclient/tests/volume/v1/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4d832e7beb9860419eb00fb6f5a2a454dcd86494', 'message': ""Add tests for 'list' and 'show' for volume qos v1\n\nChange-Id: I1b4d998f3ec1bd5cb8dd4c9e0d04fd3b3049e9d7\n""}]",0,196871,4d832e7beb9860419eb00fb6f5a2a454dcd86494,7,4,1,9061,,,0,"Add tests for 'list' and 'show' for volume qos v1

Change-Id: I1b4d998f3ec1bd5cb8dd4c9e0d04fd3b3049e9d7
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/71/196871/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/volume/v1/test_qos_specs.py', 'openstackclient/tests/volume/v1/fakes.py']",2,4d832e7beb9860419eb00fb6f5a2a454dcd86494,,"qos_association = { 'association_type': 'volume_type', 'name': type_name, 'id': type_id }QOS_WITH_ASSOCIATIONS = { 'id': qos_id, 'consumer': qos_consumer, 'name': qos_name, 'specs': qos_specs, 'associations': [qos_association] } ",,111,0
openstack%2Ffuel-library~master~I0096544fa56e16cec735ec47df00b8fbba948549,openstack/fuel-library,master,I0096544fa56e16cec735ec47df00b8fbba948549,Possibility to upload image with custom parameters,MERGED,2015-07-01 06:56:05.000000000,2015-07-01 19:39:06.000000000,2015-07-01 19:38:29.000000000,"[{'_account_id': 3}, {'_account_id': 7195}, {'_account_id': 8971}, {'_account_id': 10136}, {'_account_id': 11090}, {'_account_id': 12953}, {'_account_id': 14774}, {'_account_id': 14985}, {'_account_id': 15984}, {'_account_id': 17119}]","[{'number': 1, 'created': '2015-07-01 06:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/fe3a2a906f9a090e4fc76462c533757c36de8216', 'message': 'Possibility to upload image with custom parameters\n\nThis change adds:\n - The ability to upload image of cirros with specified ""user"",\n""tenant"" and ""endpoint_type"" variables.\n\nPartial blueprint: detach-components-from-controllers\n\nChange-Id: I0096544fa56e16cec735ec47df00b8fbba948549\n'}, {'number': 2, 'created': '2015-07-01 17:26:34.000000000', 'files': ['deployment/puppet/osnailyfacter/modular/astute/upload_cirros.rb'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/b192139d9a4573b2908a8feffcb7d00929e77b84', 'message': 'Possibility to upload image with custom parameters\n\nThis change adds:\n - The ability to upload image of cirros with specified ""user"",\n""tenant"" and ""endpoint_type"" variables.\n\nPartial blueprint: detach-components-from-controllers\n\nChange-Id: I0096544fa56e16cec735ec47df00b8fbba948549\n'}]",0,197446,b192139d9a4573b2908a8feffcb7d00929e77b84,39,10,2,16374,,,0,"Possibility to upload image with custom parameters

This change adds:
 - The ability to upload image of cirros with specified ""user"",
""tenant"" and ""endpoint_type"" variables.

Partial blueprint: detach-components-from-controllers

Change-Id: I0096544fa56e16cec735ec47df00b8fbba948549
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/46/197446/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/osnailyfacter/modular/astute/upload_cirros.rb'],1,fe3a2a906f9a090e4fc76462c533757c36de8216,bp/detach-components-from-controllers,"if glanced['tenant'].nil? tenant_name = ""services"" else tenant_name = glanced['tenant'] end if glanced['user'].nil? user_name = ""glance"" else user_name = glanced['user'] end if glanced['endpoint_type'].nil? endpoint_type = ""internalURL"" else endpoint_type = glanced['endpoint_type'] end ENV['OS_TENANT_NAME']=""#{tenant_name}"" ENV['OS_USERNAME']=""#{user_name}""ENV['OS_ENDPOINT_TYPE'] = ""#{endpoint_type}"""," ENV['OS_TENANT_NAME']=""services"" ENV['OS_USERNAME']=""glance""ENV['OS_ENDPOINT_TYPE'] = ""internalURL""",20,3
openstack%2Fsahara~stable%2Fkilo~I1f4cc6dc443605ba632c1458bba8bd47a0e1a01f,openstack/sahara,stable/kilo,I1f4cc6dc443605ba632c1458bba8bd47a0e1a01f,Date format set to be correct utc date,MERGED,2015-06-26 12:26:18.000000000,2015-07-01 19:35:54.000000000,2015-07-01 19:35:53.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7132}, {'_account_id': 7213}, {'_account_id': 7710}, {'_account_id': 8090}, {'_account_id': 8411}, {'_account_id': 10670}, {'_account_id': 12039}, {'_account_id': 13919}]","[{'number': 1, 'created': '2015-06-26 12:26:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/133065d7ed07faa441695aacac5d5b1b8fa2027d', 'message': 'Date format set to be correct utc date\n\nAs it turned out the format of the date used in Sahara may not be\nunderstood by som JavaScript engines which prevents the dates to be\ndisplayed correctly in UI. The milliseconds part of the time is also\nremoved as it has never been necessary to access the dates with that\naccuracy. However the presence or sometime absence of the .ms suffix\nmakes it harder to handle dates.\n\nCloses-Bug: #1443343\nChange-Id: I1f4cc6dc443605ba632c1458bba8bd47a0e1a01f\n(cherry picked from commit 3b4f17bc18c34ae4c7ec37e9d4dff41a32abdc28)\n'}, {'number': 2, 'created': '2015-06-30 15:07:27.000000000', 'files': ['sahara/db/sqlalchemy/model_base.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/1f2a06de196c9e17e4bfd45733617ff407d8f1f2', 'message': 'Date format set to be correct utc date\n\nAs it turned out the format of the date used in Sahara may not be\nunderstood by som JavaScript engines which prevents the dates to be\ndisplayed correctly in UI. The milliseconds part of the time is also\nremoved as it has never been necessary to access the dates with that\naccuracy. However the presence or sometime absence of the .ms suffix\nmakes it harder to handle dates.\n\nCloses-Bug: #1443343\nChange-Id: I1f4cc6dc443605ba632c1458bba8bd47a0e1a01f\n(cherry picked from commit 3b4f17bc18c34ae4c7ec37e9d4dff41a32abdc28)\n'}]",0,196026,1f2a06de196c9e17e4bfd45733617ff407d8f1f2,19,10,2,12038,,,0,"Date format set to be correct utc date

As it turned out the format of the date used in Sahara may not be
understood by som JavaScript engines which prevents the dates to be
displayed correctly in UI. The milliseconds part of the time is also
removed as it has never been necessary to access the dates with that
accuracy. However the presence or sometime absence of the .ms suffix
makes it harder to handle dates.

Closes-Bug: #1443343
Change-Id: I1f4cc6dc443605ba632c1458bba8bd47a0e1a01f
(cherry picked from commit 3b4f17bc18c34ae4c7ec37e9d4dff41a32abdc28)
",git fetch https://review.opendev.org/openstack/sahara refs/changes/26/196026/2 && git format-patch -1 --stdout FETCH_HEAD,['sahara/db/sqlalchemy/model_base.py'],1,133065d7ed07faa441695aacac5d5b1b8fa2027d,bug/1443343," value = dct[attr_name].isoformat('T') ms_delimiter = value.find(""."") if ms_delimiter != -1: # Removing ms from time value = value[:ms_delimiter] dct[attr_name] = value", dct[attr_name] = dct[attr_name].isoformat(' '),6,1
openstack%2Fsahara~stable%2Fkilo~I9cd25782b73be95ff74a5298eb209d95fd5f6ff6,openstack/sahara,stable/kilo,I9cd25782b73be95ff74a5298eb209d95fd5f6ff6,Add handler for configuration w/o sec groups,MERGED,2015-06-26 11:35:22.000000000,2015-07-01 19:35:47.000000000,2015-07-01 19:35:47.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7132}, {'_account_id': 7213}, {'_account_id': 7710}, {'_account_id': 8411}, {'_account_id': 10670}, {'_account_id': 12038}, {'_account_id': 12039}, {'_account_id': 13919}]","[{'number': 1, 'created': '2015-06-26 11:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/84e0a4a781bf63ce034727854982c90b926028a5', 'message': 'Add handler for configuration w/o sec groups\n\nIf security groups was disabled in Neutron Sahara failed with 500\nError Code related to Neutron. Now we have handle this error simply\nreturning empty list to Sahara if security groups is disabled.\n\nCloses-Bug: 1433017\n\nChange-Id: I9cd25782b73be95ff74a5298eb209d95fd5f6ff6\n(cherry picked from commit bde7898d09fa0be5583e68755949c03d189b3475)\n'}, {'number': 2, 'created': '2015-06-26 12:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/4852037fbfd5d1cb19842b8286c2e4eff2034297', 'message': 'Add handler for configuration w/o sec groups\n\nIf security groups was disabled in Neutron Sahara failed with 500\nError Code related to Neutron. Now we have handle this error simply\nreturning empty list to Sahara if security groups is disabled.\n\nCloses-Bug: 1433017\n\nChange-Id: I9cd25782b73be95ff74a5298eb209d95fd5f6ff6\n(cherry picked from commit bde7898d09fa0be5583e68755949c03d189b3475)\n'}, {'number': 3, 'created': '2015-06-30 15:07:00.000000000', 'files': ['sahara/service/quotas.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/1f3f9cffdfe5ab25b0dbd4be17a93a3780eb802e', 'message': 'Add handler for configuration w/o sec groups\n\nIf security groups was disabled in Neutron Sahara failed with 500\nError Code related to Neutron. Now we have handle this error simply\nreturning empty list to Sahara if security groups is disabled.\n\nCloses-Bug: 1433017\n\nChange-Id: I9cd25782b73be95ff74a5298eb209d95fd5f6ff6\n(cherry picked from commit bde7898d09fa0be5583e68755949c03d189b3475)\n'}]",0,196005,1f3f9cffdfe5ab25b0dbd4be17a93a3780eb802e,22,10,3,12038,,,0,"Add handler for configuration w/o sec groups

If security groups was disabled in Neutron Sahara failed with 500
Error Code related to Neutron. Now we have handle this error simply
returning empty list to Sahara if security groups is disabled.

Closes-Bug: 1433017

Change-Id: I9cd25782b73be95ff74a5298eb209d95fd5f6ff6
(cherry picked from commit bde7898d09fa0be5583e68755949c03d189b3475)
",git fetch https://review.opendev.org/openstack/sahara refs/changes/05/196005/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara/service/quotas.py'],1,84e0a4a781bf63ce034727854982c90b926028a5,bug/1433017," tenant_id=tenant_id).get('security_groups', []) usage_sg_rules = neutron.list_security_group_rules( tenant_id=tenant_id).get('security_group_rules', [])", tenant_id=tenant_id)['security_groups'] usage_sg_rules = (neutron.list_security_group_rules( tenant_id=tenant_id)['security_group_rules']),3,3
openstack%2Fsahara~stable%2Fkilo~I65dd15e02871f9c7227d2b51acedd6e06cb04950,openstack/sahara,stable/kilo,I65dd15e02871f9c7227d2b51acedd6e06cb04950,Fix cluster templates update,MERGED,2015-06-26 11:14:42.000000000,2015-07-01 19:35:45.000000000,2015-07-01 19:35:44.000000000,"[{'_account_id': 3}, {'_account_id': 979}, {'_account_id': 6786}, {'_account_id': 7132}, {'_account_id': 7213}, {'_account_id': 7710}, {'_account_id': 8090}, {'_account_id': 8091}, {'_account_id': 8411}, {'_account_id': 10670}, {'_account_id': 12038}, {'_account_id': 12039}, {'_account_id': 13919}]","[{'number': 1, 'created': '2015-06-26 11:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/adc768d22629c82391f229fc55ea5f1cfa6ff5e0', 'message': 'Fix cluster templates update\n\nThis change fixes the following issues:\n\n* Remove _appy_defaults for cluster template fields on update\n  Fields that are not specified should not be given default values\n  on update like they are on creation.  If a field is not specified,\n  it should be left alone\n\n* Do not delete node groups if the cluster template update does\n  specify a node_group field\n\nCloses-Bug: #1438077\nChange-Id: I65dd15e02871f9c7227d2b51acedd6e06cb04950\n'}, {'number': 2, 'created': '2015-06-26 11:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/ec40abb8eb4db4b1dec3da8f17e65ac37aedbcc6', 'message': 'Fix cluster templates update\n\nThis change fixes the following issues:\n\n* Remove _appy_defaults for cluster template fields on update\n  Fields that are not specified should not be given default values\n  on update like they are on creation.  If a field is not specified,\n  it should be left alone\n\n* Do not delete node groups if the cluster template update does\n  specify a node_group field\n\nCloses-Bug: #1438077\nChange-Id: I65dd15e02871f9c7227d2b51acedd6e06cb04950\n(cherry picked from commit 196f72f18e7c5649580a7746b87e35defaadb943)\n'}, {'number': 3, 'created': '2015-06-26 12:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/edf1125fe96976518e3625ded86d75520ed9c273', 'message': 'Fix cluster templates update\n\nThis change fixes the following issues:\n\n* Remove _appy_defaults for cluster template fields on update\n  Fields that are not specified should not be given default values\n  on update like they are on creation.  If a field is not specified,\n  it should be left alone\n\n* Do not delete node groups if the cluster template update does\n  specify a node_group field\n\nCloses-Bug: #1438077\nChange-Id: I65dd15e02871f9c7227d2b51acedd6e06cb04950\n(cherry picked from commit 196f72f18e7c5649580a7746b87e35defaadb943)\n'}, {'number': 4, 'created': '2015-06-30 15:06:50.000000000', 'files': ['sahara/db/sqlalchemy/api.py', 'sahara/tests/unit/conductor/manager/test_templates.py', 'sahara/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/2495f1af8504511ce39fda032ce2fa3e021f2b81', 'message': 'Fix cluster templates update\n\nThis change fixes the following issues:\n\n* Remove _appy_defaults for cluster template fields on update\n  Fields that are not specified should not be given default values\n  on update like they are on creation.  If a field is not specified,\n  it should be left alone\n\n* Do not delete node groups if the cluster template update does\n  specify a node_group field\n\nCloses-Bug: #1438077\nChange-Id: I65dd15e02871f9c7227d2b51acedd6e06cb04950\n(cherry picked from commit 196f72f18e7c5649580a7746b87e35defaadb943)\n'}]",0,195998,2495f1af8504511ce39fda032ce2fa3e021f2b81,34,13,4,12038,,,0,"Fix cluster templates update

This change fixes the following issues:

* Remove _appy_defaults for cluster template fields on update
  Fields that are not specified should not be given default values
  on update like they are on creation.  If a field is not specified,
  it should be left alone

* Do not delete node groups if the cluster template update does
  specify a node_group field

Closes-Bug: #1438077
Change-Id: I65dd15e02871f9c7227d2b51acedd6e06cb04950
(cherry picked from commit 196f72f18e7c5649580a7746b87e35defaadb943)
",git fetch https://review.opendev.org/openstack/sahara refs/changes/98/195998/4 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/db/sqlalchemy/api.py', 'sahara/tests/unit/conductor/manager/test_templates.py', 'sahara/conductor/manager.py']",3,adc768d22629c82391f229fc55ea5f1cfa6ff5e0,bug/1438077,," values = _apply_defaults(values, CLUSTER_DEFAULTS)",14,8
openstack%2Fsahara~master~I60ad5cb7041708fd7643cd3881b9f41d74164eec,openstack/sahara,master,I60ad5cb7041708fd7643cd3881b9f41d74164eec,Add in-tree Devstack plugin,MERGED,2015-07-01 11:28:27.000000000,2015-07-01 19:35:07.000000000,2015-07-01 19:35:05.000000000,"[{'_account_id': 3}, {'_account_id': 7710}, {'_account_id': 8932}, {'_account_id': 12038}]","[{'number': 1, 'created': '2015-07-01 11:28:27.000000000', 'files': ['devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/sahara/commit/2f6e0b5e5e5824180523dafb1edbacdcc02d76c7', 'message': ""Add in-tree Devstack plugin\n\nIt's part of the moving Devstack Sahara plugin from Devstack to\nSahara repo.\n\nPartial-Implements: bp sahara-devstack-intree\n\nChange-Id: I60ad5cb7041708fd7643cd3881b9f41d74164eec\n""}]",0,197523,2f6e0b5e5e5824180523dafb1edbacdcc02d76c7,8,4,1,6786,,,0,"Add in-tree Devstack plugin

It's part of the moving Devstack Sahara plugin from Devstack to
Sahara repo.

Partial-Implements: bp sahara-devstack-intree

Change-Id: I60ad5cb7041708fd7643cd3881b9f41d74164eec
",git fetch https://review.opendev.org/openstack/sahara refs/changes/23/197523/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/settings']",2,2f6e0b5e5e5824180523dafb1edbacdcc02d76c7,bp/sahara-devstack-intree,"# Settings needed for the Sahara plugin # ------------------------------------- # Set up default directories GITDIR[""python-saharaclient""]=$DEST/python-saharaclient SAHARA_DIR=$DEST/sahara SAHARA_CONF_DIR=${SAHARA_CONF_DIR:-/etc/sahara} SAHARA_CONF_FILE=${SAHARA_CONF_DIR}/sahara.conf # TODO(slukjanov): Should we append sahara to SSL_ENABLED_SERVICES? if is_ssl_enabled_service ""sahara"" || is_service_enabled tls-proxy; then SAHARA_SERVICE_PROTOCOL=""https"" fi SAHARA_SERVICE_HOST=${SAHARA_SERVICE_HOST:-$SERVICE_HOST} SAHARA_SERVICE_PORT=${SAHARA_SERVICE_PORT:-8386} SAHARA_SERVICE_PORT_INT=${SAHARA_SERVICE_PORT_INT:-18386} SAHARA_SERVICE_PROTOCOL=${SAHARA_SERVICE_PROTOCOL:-$SERVICE_PROTOCOL} SAHARA_AUTH_CACHE_DIR=${SAHARA_AUTH_CACHE_DIR:-/var/cache/sahara} SAHARA_ENABLED_PLUGINS=${SAHARA_ENABLED_PLUGINS:-vanilla,hdp,cdh,spark,fake} # Support entry points installation of console scripts if [[ -d $SAHARA_DIR/bin ]]; then SAHARA_BIN_DIR=$SAHARA_DIR/bin else SAHARA_BIN_DIR=$(get_python_exec_prefix) fi # Tell Tempest this project is present TEMPEST_SERVICES+=,sahara enable_service sahara ",,286,0
openstack%2Fec2-api~master~Iac66906b7565d2ba43432b6b29f86b2a4487e7eb,openstack/ec2-api,master,Iac66906b7565d2ba43432b6b29f86b2a4487e7eb,update from global requirements,MERGED,2015-07-01 14:01:12.000000000,2015-07-01 19:34:01.000000000,2015-07-01 19:33:59.000000000,"[{'_account_id': 3}, {'_account_id': 9312}, {'_account_id': 10224}]","[{'number': 1, 'created': '2015-07-01 14:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/6b093989491c5210cc9fd0ac279b03cbb75ed867', 'message': 'update from global requirements\n\nChange-Id: Iac66906b7565d2ba43432b6b29f86b2a4487e7eb\n'}, {'number': 2, 'created': '2015-07-01 14:03:09.000000000', 'files': ['rally-scenarios/post_test_hook.sh', 'requirements.txt', 'ec2api/tests/contrib/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/103062f57afa394b41e42a3c2b924ff1117c49fe', 'message': 'update from global requirements\n\nChange-Id: Iac66906b7565d2ba43432b6b29f86b2a4487e7eb\n'}]",0,197595,103062f57afa394b41e42a3c2b924ff1117c49fe,7,3,2,10234,,,0,"update from global requirements

Change-Id: Iac66906b7565d2ba43432b6b29f86b2a4487e7eb
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/95/197595/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally-scenarios/post_test_hook.sh', 'requirements.txt', 'ec2api/tests/contrib/post_test_hook.sh']",3,6b093989491c5210cc9fd0ac279b03cbb75ed867,master-3,,"# botocore not in openstack requirements now, so install it manually sudo pip install botocore",2,3
openstack%2Foslo.vmware~master~I5d963125ccb5cc29fa0563313d229046a81ca3d0,openstack/oslo.vmware,master,I5d963125ccb5cc29fa0563313d229046a81ca3d0,Fix exception to string in py34,MERGED,2015-06-28 01:52:40.000000000,2015-07-01 19:33:13.000000000,2015-07-01 19:33:11.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 8119}, {'_account_id': 9008}, {'_account_id': 9171}]","[{'number': 1, 'created': '2015-06-28 01:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/fa58264e7614444a874c7b4defcbd97b83e1ebe6', 'message': 'Fix exception to string in py34\n\npython 3.4 does not have a self.message, so we need to set one up\nin our own base class so the conversion to string work.\n\nChange-Id: I5d963125ccb5cc29fa0563313d229046a81ca3d0\n'}, {'number': 2, 'created': '2015-06-28 15:04:06.000000000', 'files': ['oslo_vmware/tests/test_exceptions.py', 'oslo_vmware/exceptions.py'], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/d388c8a67bd8da8295720fd4f11c36845c7b5f89', 'message': 'Fix exception to string in py34\n\npython 3.4 does not have a self.message, so we need to set one up\nin our own base class so the conversion to string work.\n\nChange-Id: I5d963125ccb5cc29fa0563313d229046a81ca3d0\n'}]",6,196408,d388c8a67bd8da8295720fd4f11c36845c7b5f89,14,5,2,5638,,,0,"Fix exception to string in py34

python 3.4 does not have a self.message, so we need to set one up
in our own base class so the conversion to string work.

Change-Id: I5d963125ccb5cc29fa0563313d229046a81ca3d0
",git fetch https://review.opendev.org/openstack/oslo.vmware refs/changes/08/196408/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_vmware/tests/test_exceptions.py', 'oslo_vmware/exceptions.py']",2,fa58264e7614444a874c7b4defcbd97b83e1ebe6,, if six.PY3: self.message = message,,6,0
openstack%2Fironic~master~Ibcf20b9f650ed1968a0100c497fedc2bc1e38af5,openstack/ironic,master,Ibcf20b9f650ed1968a0100c497fedc2bc1e38af5,Allow updates when node is on ERROR provision state,MERGED,2015-07-01 10:19:22.000000000,2015-07-01 19:31:31.000000000,2015-07-01 19:31:29.000000000,"[{'_account_id': 3}, {'_account_id': 6773}, {'_account_id': 7711}, {'_account_id': 10239}]","[{'number': 1, 'created': '2015-07-01 10:19:22.000000000', 'files': ['ironic/tests/api/v1/test_nodes.py', 'ironic/common/states.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/cdbf89e8bfbe40f2abfa7c014d1a5fdfa8046640', 'message': 'Allow updates when node is on ERROR provision state\n\nJust like other *FAIL states a node in ERROR provision state should allow\nupdates. E.g if the node failed to power off due some credential problems\nat tear down, a user should be allowed to update the credentials of that\nnode to fix the problem and then try delete again.\n\nCloses-Bug: #1470440\nChange-Id: Ibcf20b9f650ed1968a0100c497fedc2bc1e38af5\n'}]",0,197504,cdbf89e8bfbe40f2abfa7c014d1a5fdfa8046640,13,4,1,6773,,,0,"Allow updates when node is on ERROR provision state

Just like other *FAIL states a node in ERROR provision state should allow
updates. E.g if the node failed to power off due some credential problems
at tear down, a user should be allowed to update the credentials of that
node to fix the problem and then try delete again.

Closes-Bug: #1470440
Change-Id: Ibcf20b9f650ed1968a0100c497fedc2bc1e38af5
",git fetch https://review.opendev.org/openstack/ironic refs/changes/04/197504/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/api/v1/test_nodes.py', 'ironic/common/states.py']",2,cdbf89e8bfbe40f2abfa7c014d1a5fdfa8046640,bug/1470440,"UPDATE_ALLOWED_STATES = (DEPLOYFAIL, INSPECTING, INSPECTFAIL, CLEANFAIL, ERROR)","UPDATE_ALLOWED_STATES = (DEPLOYFAIL, INSPECTING, INSPECTFAIL, CLEANFAIL)",16,1
openstack%2Fdevstack~stable%2Ficehouse~I411648bf1262b3b1cb43c574f4af4fde3408b04a,openstack/devstack,stable/icehouse,I411648bf1262b3b1cb43c574f4af4fde3408b04a,Remove api_extension_path variable during nuage plugin install,ABANDONED,2015-02-27 02:25:55.000000000,2015-07-01 19:29:21.000000000,,"[{'_account_id': 3}, {'_account_id': 5803}, {'_account_id': 7118}, {'_account_id': 7962}, {'_account_id': 10162}, {'_account_id': 13050}]","[{'number': 1, 'created': '2015-02-27 02:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/8057ea0080c59efde1043698d89f0bb7017df529', 'message': 'Remove api_extension_path variable during plugin install\nCloses-Bug: #1426200\n\nChange-Id: I411648bf1262b3b1cb43c574f4af4fde3408b04a\n'}, {'number': 2, 'created': '2015-02-27 22:32:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/11d5a01d594da7d8da65ea4432ea2b2606d27225', 'message': 'Remove api_extension_path variable during nuage plugin install\nCloses-Bug: #1426200\n\nChange-Id: I411648bf1262b3b1cb43c574f4af4fde3408b04a\n'}, {'number': 3, 'created': '2015-03-02 21:46:20.000000000', 'files': ['lib/neutron_plugins/nuage'], 'web_link': 'https://opendev.org/openstack/devstack/commit/482f188d219021626b518f833b8e8a41a3c0c9c0', 'message': 'Remove api_extension_path variable during nuage plugin install\n\nThe variable api_extension_path is not required.\n\nCloses-Bug: #1426200\n\nChange-Id: I411648bf1262b3b1cb43c574f4af4fde3408b04a\n'}]",2,159695,482f188d219021626b518f833b8e8a41a3c0c9c0,26,6,3,10162,,,0,"Remove api_extension_path variable during nuage plugin install

The variable api_extension_path is not required.

Closes-Bug: #1426200

Change-Id: I411648bf1262b3b1cb43c574f4af4fde3408b04a
",git fetch https://review.opendev.org/openstack/devstack refs/changes/95/159695/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron_plugins/nuage'],1,8057ea0080c59efde1043698d89f0bb7017df529,bug/1426200,, iniset $NEUTRON_CONF DEFAULT api_extensions_path neutron/plugins/nuage/extensions/,0,1
openstack%2Fdevstack~master~I43d66335a97c376ab64d604ff807540d0decc401,openstack/devstack,master,I43d66335a97c376ab64d604ff807540d0decc401,Ironic: Fix iPXE Connection timed out,MERGED,2015-06-23 10:52:25.000000000,2015-07-01 19:28:46.000000000,2015-07-01 19:28:44.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 6773}, {'_account_id': 7118}, {'_account_id': 10239}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-06-23 10:52:25.000000000', 'files': ['lib/ironic'], 'web_link': 'https://opendev.org/openstack/devstack/commit/365d11dfa9fec3b1025c14e38ad3a66f8c79a148', 'message': ""Ironic: Fix iPXE Connection timed out\n\nThis patch fixes the problem of iPXE connection timing out when it's\ntrying to fetch the configuration files and images from the HTTP server\nby accepting requests to HTTP server port on iptables.\n\nCloses-Bug: #1467894\nChange-Id: I43d66335a97c376ab64d604ff807540d0decc401\n""}]",3,194598,365d11dfa9fec3b1025c14e38ad3a66f8c79a148,11,6,1,6773,,,0,"Ironic: Fix iPXE Connection timed out

This patch fixes the problem of iPXE connection timing out when it's
trying to fetch the configuration files and images from the HTTP server
by accepting requests to HTTP server port on iptables.

Closes-Bug: #1467894
Change-Id: I43d66335a97c376ab64d604ff807540d0decc401
",git fetch https://review.opendev.org/openstack/devstack refs/changes/98/194598/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/ironic'],1,365d11dfa9fec3b1025c14e38ad3a66f8c79a148,bug/1467894," if [[ ""$IRONIC_IPXE_ENABLED"" == ""True"" ]] ; then sudo iptables -I INPUT -d $HOST_IP -p tcp --dport $IRONIC_HTTP_PORT -j ACCEPT || true fi",,4,0
openstack%2Fpython-ceilometerclient~stable%2Ficehouse~If64d1718cbd64f7c7eb38f6747c47e44002390d8,openstack/python-ceilometerclient,stable/icehouse,If64d1718cbd64f7c7eb38f6747c47e44002390d8,Updated from global requirements,ABANDONED,2015-04-14 19:53:03.000000000,2015-07-01 19:24:54.000000000,,"[{'_account_id': 3}, {'_account_id': 6676}, {'_account_id': 6873}]","[{'number': 1, 'created': '2015-04-14 19:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ceilometerclient/commit/fb10651b4b69a55e6d4b6a39d6d1f84f3adb0816', 'message': 'Updated from global requirements\n\nChange-Id: If64d1718cbd64f7c7eb38f6747c47e44002390d8\n'}, {'number': 2, 'created': '2015-04-20 19:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ceilometerclient/commit/9fbedf9aec5bc26144acff8d53066afdd37adab0', 'message': 'Updated from global requirements\n\nChange-Id: If64d1718cbd64f7c7eb38f6747c47e44002390d8\n'}, {'number': 3, 'created': '2015-04-22 12:38:56.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'setup.py'], 'web_link': 'https://opendev.org/openstack/python-ceilometerclient/commit/6b742a32639ffeb363c1383c3a07ef73f86534c1', 'message': 'Updated from global requirements\n\nChange-Id: If64d1718cbd64f7c7eb38f6747c47e44002390d8\n'}]",0,173488,6b742a32639ffeb363c1383c3a07ef73f86534c1,11,3,3,11131,,,0,"Updated from global requirements

Change-Id: If64d1718cbd64f7c7eb38f6747c47e44002390d8
",git fetch https://review.opendev.org/openstack/python-ceilometerclient refs/changes/88/173488/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'setup.py']",3,fb10651b4b69a55e6d4b6a39d6d1f84f3adb0816,openstack/requirements,,"# In python < 2.7.4, a lazy loading of package `pbr` will break # setuptools if some other modules registered functions in `atexit`. # solution from: http://bugs.python.org/issue15881#msg170215 try: import multiprocessing # noqa except ImportError: pass ",16,24
openstack%2Fswift~stable%2Ficehouse~If28fcc78b7b93115d92681d2d95c237cf5da1137,openstack/swift,stable/icehouse,If28fcc78b7b93115d92681d2d95c237cf5da1137,Updated from global requirements,ABANDONED,2015-06-15 10:13:22.000000000,2015-07-01 19:24:29.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2015-06-15 10:13:22.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'setup.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/35a9e33b5c3a349c8053ef104d02b7423195e435', 'message': 'Updated from global requirements\n\nChange-Id: If28fcc78b7b93115d92681d2d95c237cf5da1137\n'}]",0,191730,35a9e33b5c3a349c8053ef104d02b7423195e435,3,1,1,11131,,,0,"Updated from global requirements

Change-Id: If28fcc78b7b93115d92681d2d95c237cf5da1137
",git fetch https://review.opendev.org/openstack/swift refs/changes/30/191730/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'setup.py']",3,35a9e33b5c3a349c8053ef104d02b7423195e435,openstack/requirements," setup_requires=['pbr'],"," setup_requires=['pbr>=0.5.21,<1.0'],",14,14
openstack%2Fpycadf~stable%2Ficehouse~Ib12354daff1f7983780013c164987045d808ce98,openstack/pycadf,stable/icehouse,Ib12354daff1f7983780013c164987045d808ce98,Updated from global requirements,ABANDONED,2015-06-15 10:12:52.000000000,2015-07-01 19:24:16.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2015-06-15 10:12:52.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'setup.py'], 'web_link': 'https://opendev.org/openstack/pycadf/commit/a8e5f8cbe1dca5abd9101a8aa55208759e4020f9', 'message': 'Updated from global requirements\n\nChange-Id: Ib12354daff1f7983780013c164987045d808ce98\n'}]",0,191729,a8e5f8cbe1dca5abd9101a8aa55208759e4020f9,3,1,1,11131,,,0,"Updated from global requirements

Change-Id: Ib12354daff1f7983780013c164987045d808ce98
",git fetch https://review.opendev.org/openstack/pycadf refs/changes/29/191729/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'setup.py']",3,a8e5f8cbe1dca5abd9101a8aa55208759e4020f9,openstack/requirements,,"# In python < 2.7.4, a lazy loading of package `pbr` will break # setuptools if some other modules registered functions in `atexit`. # solution from: http://bugs.python.org/issue15881#msg170215 try: import multiprocessing # noqa except ImportError: pass ",19,27
openstack%2Fnova~master~I49aa47dbaa169c5645cb3026b7e99cca9b450ec9,openstack/nova,master,I49aa47dbaa169c5645cb3026b7e99cca9b450ec9,Add support for HGST Solutions volumes to libvirt,ABANDONED,2015-05-28 23:08:18.000000000,2015-07-01 19:21:36.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 5997}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15903}, {'_account_id': 16897}]","[{'number': 1, 'created': '2015-05-28 23:08:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bba91bedc5cae101ea07c847193ddb847b40d4cb', 'message': 'Add support for HGST Solutions volumes to libvirt\n\nAdd a LibvirtHGSTVolumeDriver which can use Cinder volumes created\nby the HGST volume driver.\nAdds two nova.conf parameters (hgst_*) to define how the storage is\nto be accessed.\nAlso add support for live migration of volumes with a Hgst(Raw)\nbackend which ""just works"" since it can move volume connectivity\nbetween hosts using the Libvirt volume driver.\n\nDepends on the HGST Volume driver described at:\n(bp/add-volume-driver-hgst-solutions) for functionality, but can\nbe compiled/tested/PEP8\'d without that patch.\n\nChange-Id: I49aa47dbaa169c5645cb3026b7e99cca9b450ec9\nCloses-Bug: 1459860\nDepends-On: Ie0ff03856edd4b5610f4412951ea7c970ad63c8c\n'}, {'number': 2, 'created': '2015-05-29 15:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/665a3486d13f767b8224ef06f9e2c04acfdc0b4e', 'message': 'Add support for HGST Solutions volumes to libvirt\n\nAdd a LibvirtHGSTVolumeDriver which can use Cinder volumes created\nby the HGST volume driver.\nAdds two nova.conf parameters (hgst_*) to define how the storage is\nto be accessed.\nAlso add support for live migration of volumes with a Hgst(Raw)\nbackend which ""just works"" since it can move volume connectivity\nbetween hosts using the Libvirt volume driver.\n\nDepends on the HGST Volume driver described at:\n(bp/add-volume-driver-hgst-solutions) for functionality, but can\nbe compiled/tested/PEP8\'d without that patch.\n\nTrivial PEP8 fix added.\n\nChange-Id: I49aa47dbaa169c5645cb3026b7e99cca9b450ec9\nCloses-Bug: 1459860\nDepends-On: Ie0ff03856edd4b5610f4412951ea7c970ad63c8c\n'}, {'number': 3, 'created': '2015-06-01 23:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/82cae8eb3e45aba058aff1720c606cd213b72b43', 'message': 'Add support for HGST Solutions volumes to libvirt\n\nAdd a LibvirtHGSTVolumeDriver which can use Cinder volumes created\nby the HGST volume driver.\nAdds two nova.conf parameters (hgst_*) to define how the storage is\nto be accessed.\nAlso add support for live migration of volumes with a Hgst(Raw)\nbackend which ""just works"" since it can move volume connectivity\nbetween hosts using the Libvirt volume driver.\n\nDepends on the HGST Volume driver described at:\n(bp/add-volume-driver-hgst-solutions) for functionality, but can\nbe compiled/tested/PEP8\'d without that patch.\n\nTrivial PEP8 fix added.  Renamed parameter cominf from Volume\n\nChange-Id: I49aa47dbaa169c5645cb3026b7e99cca9b450ec9\nCloses-Bug: 1459860\nDepends-On: Ie0ff03856edd4b5610f4412951ea7c970ad63c8c\n'}, {'number': 4, 'created': '2015-06-01 23:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d17474f96c82c0d8b86ed4306c6e8927149e7ac2', 'message': 'Add support for HGST Solutions volumes to libvirt\n\nAdd a LibvirtHGSTVolumeDriver which can use Cinder volumes created\nby the HGST volume driver.\nAdds two nova.conf parameters (hgst_*) to define how the storage is\nto be accessed.\nAlso add support for live migration of volumes with a Hgst(Raw)\nbackend which ""just works"" since it can move volume connectivity\nbetween hosts using the Libvirt volume driver.\n\nDepends on the HGST Volume driver described at:\n(bp/add-volume-driver-hgst-solutions) for functionality, but can\nbe compiled/tested/PEP8\'d without that patch.\n\nTrivial PEP8 fix added.  Renamed parameter coming from Volume.\nIntelligently capture the vgc hostname instead of requiring a\nparameter (ease of use++)\n\nChange-Id: I49aa47dbaa169c5645cb3026b7e99cca9b450ec9\nCloses-Bug: 1459860\nDepends-On: Ie0ff03856edd4b5610f4412951ea7c970ad63c8c\n'}, {'number': 5, 'created': '2015-06-01 23:33:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/251bde8e0fb385ff426f661604b6ec914ce2b68b', 'message': 'Add support for HGST Solutions volumes to libvirt\n\nAdd a LibvirtHGSTVolumeDriver which can use Cinder volumes created\nby the HGST volume driver.\nAdds two nova.conf parameters (hgst_*) to define how the storage is\nto be accessed.\nAlso add support for live migration of volumes with a Hgst(Raw)\nbackend which ""just works"" since it can move volume connectivity\nbetween hosts using the Libvirt volume driver.\n\nDepends on the HGST Volume driver described at:\n(bp/add-volume-driver-hgst-solutions) for functionality, but can\nbe compiled/tested/PEP8\'d without that patch.\n\nTrivial PEP8 fix added.  Renamed parameter coming from Volume.\nIntelligently capture the vgc hostname instead of requiring a\nparameter (ease of use++)\n\nChange-Id: I49aa47dbaa169c5645cb3026b7e99cca9b450ec9\nCloses-Bug: 1459860\n'}, {'number': 6, 'created': '2015-06-02 05:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/799d579da2cfc8f49bcad4648de723082ab02ac2', 'message': 'Add support for HGST Solutions volumes to libvirt\n\nAdd a LibvirtHGSTVolumeDriver which can use Cinder volumes created\nby the HGST volume driver.\nAdds two nova.conf parameters (hgst_*) to define how the storage is\nto be accessed.\nAlso add support for live migration of volumes with a Hgst(Raw)\nbackend which ""just works"" since it can move volume connectivity\nbetween hosts using the Libvirt volume driver.\n\nDepends on the HGST Volume driver described at:\n(bp/add-volume-driver-hgst-solutions) for functionality, but can\nbe compiled/tested/PEP8\'d without that patch.\n\nTrivial PEP8 fix added.  Renamed parameter coming from Volume.\nIntelligently capture the vgc hostname instead of requiring a\nparameter (ease of use++).  Remove \'net\' from connection_info[]\n\nChange-Id: I49aa47dbaa169c5645cb3026b7e99cca9b450ec9\nCloses-Bug: 1459860\n'}, {'number': 7, 'created': '2015-06-04 21:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a71107288cbe5bf524cce99655263733ccbec324', 'message': 'Add support for HGST Solutions volumes to libvirt\n\nAdd a LibvirtHGSTVolumeDriver which can use Cinder volumes created\nby the HGST volume driver.\n\nAlso add support for live migration of volumes with a Hgst(Raw)\nbackend which ""just works"" since it can move volume connectivity\nbetween hosts using the Libvirt volume driver.\n\nChange-Id: I49aa47dbaa169c5645cb3026b7e99cca9b450ec9\nCloses-Bug: 1459860\n'}, {'number': 8, 'created': '2015-06-06 16:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac36a45dcc903c0497f2e7d76c2b679907708854', 'message': 'Add support for HGST Solutions volumes to libvirt\n\nAdd a LibvirtHGSTVolumeDriver which can use Cinder volumes created\nby the HGST volume driver.\n\nAlso add support for live migration of volumes with a Hgst(Raw)\nbackend which ""just works"" since it can move volume connectivity\nbetween hosts using the Libvirt volume driver.\n\nChange-Id: I49aa47dbaa169c5645cb3026b7e99cca9b450ec9\nImplements: blueprint add-volume-driver-hgst-solutions\nCloses-Bug: 1459860\n'}, {'number': 9, 'created': '2015-06-10 19:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/203970f1751b9d5ee856bf77dcf2904282b1a58f', 'message': 'Add support for HGST Solutions volumes to libvirt\n\nAdd a LibvirtHGSTVolumeDriver which can use Cinder volumes created\nby the HGST volume driver.\n\nAlso add support for live migration of volumes with a Hgst(Raw)\nbackend which ""just works"" since it can move volume connectivity\nbetween hosts using the Libvirt volume driver.\n\nUnit tests also added to appropriate class.\n\nPrerequisites:\nHGST Solutions needs to be installed and running on Nova node\nCinder patch @ https://review.openstack.org/#/c/186580/\nOS-Brick patch @ https://review.openstack.org/#/c/186588/\n\nChange-Id: I49aa47dbaa169c5645cb3026b7e99cca9b450ec9\nImplements: blueprint add-volume-driver-hgst-solutions\nCloses-Bug: 1459860\n'}, {'number': 10, 'created': '2015-06-10 22:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2682fb803ab5284340e3afbe4dd410ab97c52f9b', 'message': 'Add support for HGST Solutions volumes to libvirt\n\nAdd a LibvirtHGSTVolumeDriver which can use Cinder volumes created\nby the HGST volume driver.\n\nAlso add support for live migration of volumes with a Hgst(Raw)\nbackend which ""just works"" since it can move volume connectivity\nbetween hosts using the Libvirt volume driver.\n\nUnit tests also added to appropriate class.\n\nPrerequisites:\nHGST Solutions needs to be installed and running on Nova node\nCinder patch @ https://review.openstack.org/#/c/186580/\nOS-Brick patch @ https://review.openstack.org/#/c/186588/\n\nChange-Id: I49aa47dbaa169c5645cb3026b7e99cca9b450ec9\nImplements: blueprint add-volume-driver-hgst-solutions\nCloses-Bug: 1459860\n'}, {'number': 11, 'created': '2015-06-10 22:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e989564f1fa8c204208811187aa8aad3a928e61f', 'message': 'Add support for HGST Solutions volumes to libvirt\n\nAdd a LibvirtHGSTVolumeDriver which can use Cinder volumes created\nby the HGST volume driver.\n\nUnit tests also added to appropriate class.\n\nPrerequisites:\nHGST Solutions needs to be installed and running on Nova node\nCinder patch @ https://review.openstack.org/#/c/186580/\nOS-Brick patch @ https://review.openstack.org/#/c/186588/\n\nChange-Id: I49aa47dbaa169c5645cb3026b7e99cca9b450ec9\nImplements: blueprint add-volume-driver-hgst-solutions\nCloses-Bug: 1459860\n'}, {'number': 12, 'created': '2015-06-18 15:31:43.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/volume.py', 'nova/tests/unit/virt/libvirt/test_volume.py', 'etc/nova/rootwrap.d/compute.filters'], 'web_link': 'https://opendev.org/openstack/nova/commit/b21dcdafa0fa7b8b8f98f9ca8f710d276a932695', 'message': 'Add support for HGST Solutions volumes to libvirt\n\nAdd a LibvirtHGSTVolumeDriver which can use Cinder volumes created\nby the HGST volume driver.\n\nUnit tests also added to appropriate class.\n\nPrerequisites:\nHGST Solutions needs to be installed and running on Nova node\nCinder patch @ https://review.openstack.org/#/c/186580/\nOS-Brick patch @ https://review.openstack.org/#/c/186588/\n\nChange-Id: I49aa47dbaa169c5645cb3026b7e99cca9b450ec9\nImplements: blueprint add-volume-driver-hgst-solutions\nCloses-Bug: 1459860\n'}]",3,186594,b21dcdafa0fa7b8b8f98f9ca8f710d276a932695,91,14,12,15903,,,0,"Add support for HGST Solutions volumes to libvirt

Add a LibvirtHGSTVolumeDriver which can use Cinder volumes created
by the HGST volume driver.

Unit tests also added to appropriate class.

Prerequisites:
HGST Solutions needs to be installed and running on Nova node
Cinder patch @ https://review.openstack.org/#/c/186580/
OS-Brick patch @ https://review.openstack.org/#/c/186588/

Change-Id: I49aa47dbaa169c5645cb3026b7e99cca9b450ec9
Implements: blueprint add-volume-driver-hgst-solutions
Closes-Bug: 1459860
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/186594/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/volume.py', 'etc/nova/rootwrap.d/compute.filters', 'nova/virt/libvirt/imagebackend.py']",4,bba91bedc5cae101ea07c847193ddb847b40d4cb,bug/1459860,"class Hgst(Raw): def __init__(self, instance=None, disk_name=None, path=None): super(Hgst, self).__init__(""block"", ""raw"", is_block_dev=True) self.disk_name = disk_name self.path = (path or os.path.join(libvirt_utils.get_instance_path(instance), disk_name)) self.preallocate = ( strutils.to_slug(CONF.preallocate_images) == 'space') self.disk_info_path = os.path.join(os.path.dirname(self.path), 'disk.info') self.correct_format() @staticmethod def is_shared_block_storage(): """"""True if the backend puts images on a shared block storage."""""" return True 'hgst': Hgst,",,101,0
openstack%2Fec2-api~master~I9220cbd1255e808e46b6f88c96a8016002cbfe27,openstack/ec2-api,master,I9220cbd1255e808e46b6f88c96a8016002cbfe27,Use openstack CLI instead of keystone one in install.sh,MERGED,2015-06-29 16:51:18.000000000,2015-07-01 19:21:18.000000000,2015-07-01 19:21:17.000000000,"[{'_account_id': 3}, {'_account_id': 9312}, {'_account_id': 10224}, {'_account_id': 10234}]","[{'number': 1, 'created': '2015-06-29 16:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/1dca21318021d3f000ec2c232311a2a78fd154b1', 'message': 'Use openstack CLI instead keystone one in install.sh\n\nSince keystone CLI is deprecated, install script should use openstack\nCLI to do not scare users by a lot of warnings.\n\nChange-Id: I9220cbd1255e808e46b6f88c96a8016002cbfe27\n'}, {'number': 2, 'created': '2015-06-29 16:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/6bc498b74ef49ce823e3489f1edd7bc1e03edd9f', 'message': 'Use openstack CLI instead of keystone one in install.sh\n\nSince keystone CLI is deprecated, install script should use openstack\nCLI to do not scare users by a lot of warnings.\n\nChange-Id: I9220cbd1255e808e46b6f88c96a8016002cbfe27\n'}, {'number': 3, 'created': '2015-06-30 09:13:48.000000000', 'files': ['install.sh', 'requirements.txt'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/2d366b168d972fbbf2e8a6ef2b31a2ea53ea4c34', 'message': 'Use openstack CLI instead of keystone one in install.sh\n\nSince keystone CLI is deprecated, install script should use openstack\nCLI to do not scare users by a lot of warnings.\n\nChange-Id: I9220cbd1255e808e46b6f88c96a8016002cbfe27\n'}]",0,196742,2d366b168d972fbbf2e8a6ef2b31a2ea53ea4c34,24,4,3,10224,,,0,"Use openstack CLI instead of keystone one in install.sh

Since keystone CLI is deprecated, install script should use openstack
CLI to do not scare users by a lot of warnings.

Change-Id: I9220cbd1255e808e46b6f88c96a8016002cbfe27
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/42/196742/3 && git format-patch -1 --stdout FETCH_HEAD,['install.sh'],1,1dca21318021d3f000ec2c232311a2a78fd154b1,," local user_id=$(openstack user show $username -f value -c id 2>/dev/null) openstack user create -f value -c id \ $username \ --password ""$SERVICE_PASSWORD"" \ --project $SERVICE_TENANT \ --email $username@example.com user_roles=$(openstack user role list -f value -c ID \ $user_id \ --project $tenant 2>/dev/null) existing_role=$(echo ""$user_roles"" | grep $role_id || true) openstack role add $role_id \ --user $user_id \ --project $tenantif [[ -n $(openstack catalog show network) ]]; thenADMIN_ROLE=$(openstack role show admin -c id -f value) die_if_not_set $LINENO ADMIN_ROLE ""Fail to get ADMIN_ROLE by 'openstack role show' "" SERVICE_TENANT_ID=$(openstack project show service -c id -f value) die_if_not_set $LINENO SERVICE_TENANT_ID ""Fail to get service tenant 'openstack project show' ""AUTH_PORT=`openstack catalog show identity -f value|grep adminURL|awk '{print $2}'` if [[ -n $(openstack catalog show object-store 2>/dev/null) ]] && [[ -n $(openstack catalog show s3 2>/dev/null) ]]; then"," local user_id=$(get_data 2 $username 1 keystone user-list) get_id keystone user-create --name=$username \ --pass=""$SERVICE_PASSWORD"" \ --tenant $SERVICE_TENANT \ --email=$username@example.com user_roles=$(keystone user-role-list \ --user_id $user_id\ --tenant $tenant 2>/dev/null) existing_role=$(get_data 1 $role_id 1 echo ""$user_roles"") keystone user-role-add --tenant $tenant \ --user_id $user_id \ --role_id $role_idif [[ -n $(keystone catalog --service network) ]]; thenADMIN_ROLE=$(get_data 2 admin 1 keystone role-list) die_if_not_set $LINENO ADMIN_ROLE ""Fail to get ADMIN_ROLE by 'keystone role-list' "" SERVICE_TENANT_ID=$(get_data 2 service 1 keystone tenant-list) die_if_not_set $LINENO SERVICE_TENANT_ID ""Fail to get service tenant 'keystone tenant-list' ""AUTH_PORT=`keystone catalog|grep -A 9 identity|grep adminURL|awk '{print $4}'` if [[ -n $(keystone catalog --service object-store) ]] && [[ -n $(keystone catalog --service s3) ]]; then",21,20
openstack%2Ffuel-library~master~I7b8b887ee34101b481eee4eecff1c0df735114a2,openstack/fuel-library,master,I7b8b887ee34101b481eee4eecff1c0df735114a2,"Revert ""Secure dns and ntp""",ABANDONED,2015-07-01 17:43:34.000000000,2015-07-01 19:17:34.000000000,,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 14774}]","[{'number': 1, 'created': '2015-07-01 17:43:34.000000000', 'files': ['deployment/puppet/osnailyfacter/modular/ntp/ntp-client.pp', 'deployment/puppet/osnailyfacter/templates/dnsmasq.conf.erb', 'deployment/puppet/osnailyfacter/modular/dns/dns-server.pp', 'files/fuel-ha-utils/ocf/ns_ntp', 'deployment/puppet/osnailyfacter/modular/ntp/ntp-server.pp', 'deployment/puppet/osnailyfacter/manifests/dnsmasq.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/e750eb62d877ce5a0b6a822ca087a81d2d48b9dc', 'message': 'Revert ""Secure dns and ntp""\n\nThis reverts commit 8d8b45e1982383af0d5b5a8438c35e6d2a9d85fc.\n\nChange-Id: I7b8b887ee34101b481eee4eecff1c0df735114a2\n'}]",0,197676,e750eb62d877ce5a0b6a822ca087a81d2d48b9dc,14,3,1,11090,,,0,"Revert ""Secure dns and ntp""

This reverts commit 8d8b45e1982383af0d5b5a8438c35e6d2a9d85fc.

Change-Id: I7b8b887ee34101b481eee4eecff1c0df735114a2
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/76/197676/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/osnailyfacter/modular/ntp/ntp-client.pp', 'deployment/puppet/osnailyfacter/templates/dnsmasq.conf.erb', 'deployment/puppet/osnailyfacter/modular/dns/dns-server.pp', 'files/fuel-ha-utils/ocf/ns_ntp', 'deployment/puppet/osnailyfacter/modular/ntp/ntp-server.pp', 'deployment/puppet/osnailyfacter/manifests/dnsmasq.pp']",6,e750eb62d877ce5a0b6a822ca087a81d2d48b9dc,bug/1466090,"# external_dns => [ 'pool.ntp.org', 'ntp.local.company.com' ], # master_ip => '1.1.1.1' $master_ip","# [*$management_vrouter_vip*] # # IP address of management interface in vrouter namespace ## external_dns => [ 'pool.ntp.org', 'ntp.local.company.com' ], # master_ip => '1.1.1.1', # management_vrouter_vip => '1.2.3.4' $master_ip, $management_vrouter_vip,",14,27
openstack%2Fmurano-deployment~master~I6af78f6389a6bc0cdec15ad097aac3384af7db72,openstack/murano-deployment,master,I6af78f6389a6bc0cdec15ad097aac3384af7db72,Fix wrong path to nova-client executable,MERGED,2015-07-01 15:52:34.000000000,2015-07-01 19:09:39.000000000,2015-07-01 19:09:38.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7549}, {'_account_id': 7613}, {'_account_id': 13962}]","[{'number': 1, 'created': '2015-07-01 15:52:34.000000000', 'files': ['murano-ci/scripts/murano-integration-tests-devstack.sh'], 'web_link': 'https://opendev.org/openstack/murano-deployment/commit/97a3bbd3cebe950d9b7a7a5b2aa97b68f12fdfa8', 'message': 'Fix wrong path to nova-client executable\n\nChange-Id: I6af78f6389a6bc0cdec15ad097aac3384af7db72\n'}]",0,197632,97a3bbd3cebe950d9b7a7a5b2aa97b68f12fdfa8,9,5,1,13752,,,0,"Fix wrong path to nova-client executable

Change-Id: I6af78f6389a6bc0cdec15ad097aac3384af7db72
",git fetch https://review.opendev.org/openstack/murano-deployment refs/changes/32/197632/1 && git format-patch -1 --stdout FETCH_HEAD,['murano-ci/scripts/murano-integration-tests-devstack.sh'],1,97a3bbd3cebe950d9b7a7a5b2aa97b68f12fdfa8,," floating_ip_address=$(${tmp_venv}/bin/nova floating-ip-list | grep "" ${found_ip_address} "" | cut -d ' ' -f 4)"," floating_ip_address=$(nova floating-ip-list | grep "" ${found_ip_address} "" | cut -d ' ' -f 4)",1,1
openstack%2Fec2-api~master~Ie2c977be69d83595f65ddb9a03fbdb6f8f3c8db8,openstack/ec2-api,master,Ie2c977be69d83595f65ddb9a03fbdb6f8f3c8db8,Use pip to install the package,MERGED,2015-06-29 13:18:01.000000000,2015-07-01 19:06:14.000000000,2015-07-01 19:06:12.000000000,"[{'_account_id': 3}, {'_account_id': 9312}, {'_account_id': 10224}, {'_account_id': 10234}]","[{'number': 1, 'created': '2015-06-29 13:18:01.000000000', 'files': ['install.sh'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/c72d53d7ef345b890dbbe41f450ea0cc5b9592df', 'message': 'Use pip to install the package\n\nThe installation by pip do not deeply scan requirements. For example it\nallows\nSQLAlchemy==1.0.5\nsqlalchemy-migrate==0.9.6\nfor requirements\nSQLAlchemy>=0.9.7,<1.1.0\nsqlalchemy-migrate>=0.9.6\ndespite sqlalchemy-migreate v0.9.6 requires SQLAlchemy<=0.9.99.\n\nThe installation by direct call of setup.py downgrades installed\npackages of DefStack installation, which may lead to problems.\n\nSince DevStack uses pip to install packages, ec2api should install\npackages by the same manner.\n\nChange-Id: Ie2c977be69d83595f65ddb9a03fbdb6f8f3c8db8\n'}]",0,196658,c72d53d7ef345b890dbbe41f450ea0cc5b9592df,30,4,1,10224,,,0,"Use pip to install the package

The installation by pip do not deeply scan requirements. For example it
allows
SQLAlchemy==1.0.5
sqlalchemy-migrate==0.9.6
for requirements
SQLAlchemy>=0.9.7,<1.1.0
sqlalchemy-migrate>=0.9.6
despite sqlalchemy-migreate v0.9.6 requires SQLAlchemy<=0.9.99.

The installation by direct call of setup.py downgrades installed
packages of DefStack installation, which may lead to problems.

Since DevStack uses pip to install packages, ec2api should install
packages by the same manner.

Change-Id: Ie2c977be69d83595f65ddb9a03fbdb6f8f3c8db8
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/58/196658/1 && git format-patch -1 --stdout FETCH_HEAD,['install.sh'],1,c72d53d7ef345b890dbbe41f450ea0cc5b9592df,, if ! command -v pip >/dev/null; then sudo apt-get install python-pip fi$SUDO_PREFIX pip install -e ./,$SUDO_PREFIX python setup.py develop,4,1
openstack%2Foslo.cache~master~Ifc87866ba2c99587c58a792af7c4ebd2b11a68b3,openstack/oslo.cache,master,Ifc87866ba2c99587c58a792af7c4ebd2b11a68b3,"Use ""group"" rather than ""section""",MERGED,2015-07-01 14:02:24.000000000,2015-07-01 19:06:07.000000000,2015-07-01 19:06:06.000000000,"[{'_account_id': 3}, {'_account_id': 2903}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-07-01 14:02:24.000000000', 'files': ['oslo_cache/tests/test_cache.py', 'oslo_cache/core.py'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/41f930a49745c138f0aacca391bce0565bd7009c', 'message': 'Use ""group"" rather than ""section""\n\noslo.config calls a grouping of options a ""group"", so use that\nrather than ""section"" for consistency.\n\nChange-Id: Ifc87866ba2c99587c58a792af7c4ebd2b11a68b3\nCloses-Bug: 1470291\n'}]",0,197597,41f930a49745c138f0aacca391bce0565bd7009c,7,3,1,6486,,,0,"Use ""group"" rather than ""section""

oslo.config calls a grouping of options a ""group"", so use that
rather than ""section"" for consistency.

Change-Id: Ifc87866ba2c99587c58a792af7c4ebd2b11a68b3
Closes-Bug: 1470291
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/97/197597/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_cache/tests/test_cache.py', 'oslo_cache/core.py']",2,41f930a49745c138f0aacca391bce0565bd7009c,bug/1470291,"def _get_should_cache_fn(conf, group): """"""Build a function that returns a config group's caching status. for that object's group should exist and default to ``True``. This function the configuration group and assign the result to a variable. :param group: name of the configuration group to examine :type group: string conf_group = getattr(conf, group)def _get_expiration_time_fn(conf, group): """"""Build a function that returns a config group's expiration time status. called ``cache_time`` for that driver's group should exist and typically configuration group and assign the result to a variable. Pass the new :param group: name of the configuration group to examine :type group: string conf_group = getattr(conf, group)def get_memoization_decorator(conf, group, expiration_group=None): """"""Build a function based on the `_on_arguments` decorator for the group. group='group1') conf, group='group2', expiration_group='group3') :param group: name of the configuration group to examine :type group: string :param expiration_group: name of the configuration group to examine for the expiration option. This will fall back to using ``group`` if the value is unspecified or ``None`` :type expiration_group: string if expiration_group is None: expiration_group = group should_cache = _get_should_cache_fn(conf, group) expiration_time = _get_expiration_time_fn(conf, expiration_group)","def _get_should_cache_fn(conf, section): """"""Build a function that returns a config section's caching status. for that object's section should exist and default to ``True``. This function the configuration section and assign the result to a variable. :param section: name of the configuration section to examine :type section: string conf_group = getattr(conf, section)def _get_expiration_time_fn(conf, section): """"""Build a function that returns a config section's expiration time status. called ``cache_time`` for that driver's section should exist and typically configuration section and assign the result to a variable. Pass the new :param section: name of the configuration section to examine :type section: string conf_group = getattr(conf, section)def get_memoization_decorator(conf, section, expiration_section=None): """"""Build a function based on the `_on_arguments` decorator for the section. section='section1') conf, section='section2', expiration_section='section3') :param section: name of the configuration section to examine :type section: string :param expiration_section: name of the configuration section to examine for the expiration option. This will fall back to using ``section`` if the value is unspecified or ``None`` :type expiration_section: string if expiration_section is None: expiration_section = section should_cache = _get_should_cache_fn(conf, section) expiration_time = _get_expiration_time_fn(conf, expiration_section)",40,40
openstack%2Fneutron~master~I3c07c279d33f6aed46c3a97dd9ba81251e51429a,openstack/neutron,master,I3c07c279d33f6aed46c3a97dd9ba81251e51429a,Move windows requirements to requirements.txt,MERGED,2015-05-26 21:09:22.000000000,2015-07-01 19:02:24.000000000,2015-07-01 19:02:22.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 704}, {'_account_id': 1561}, {'_account_id': 4190}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 6854}, {'_account_id': 7448}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9751}, {'_account_id': 9787}, {'_account_id': 9820}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 11131}, {'_account_id': 11343}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14214}, {'_account_id': 14216}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 15296}, {'_account_id': 15752}, {'_account_id': 15894}, {'_account_id': 16272}]","[{'number': 1, 'created': '2015-05-26 21:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b789ba0f9cd28a681713708be3ee6e1cd7c2e993', 'message': 'Move windows requirements to requirements.txt\n\nCommit 276028cca26af573c14938255e40c58358eabd4a added these\nrequirements to setup.py from a custom build hook.  These requirements\ncan now be expressed in requirements.txt.  We need to move them there\nso that the global requirements sync job can continue to keep setup.py\nin sync with the global version.\n\nChange-Id: I3c07c279d33f6aed46c3a97dd9ba81251e51429a\n'}, {'number': 2, 'created': '2015-05-27 03:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f77171a3e4f7e91562b0271c14b8e5b77022204b', 'message': 'Move windows requirements to requirements.txt\n\nCommit 276028cca26af573c14938255e40c58358eabd4a added these\nrequirements to setup.py from a custom build hook.  These requirements\ncan now be expressed in requirements.txt.  We need to move them there\nso that the global requirements sync job can continue to keep setup.py\nin sync with the global version.\n\nChange-Id: I3c07c279d33f6aed46c3a97dd9ba81251e51429a\n'}, {'number': 3, 'created': '2015-05-31 14:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e71d7dc588be90ea619a7b3e512e263cfbc61bfd', 'message': 'Move windows requirements to requirements.txt\n\nCommit 276028cca26af573c14938255e40c58358eabd4a added these\nrequirements to setup.py from a custom build hook.  These requirements\ncan now be expressed in requirements.txt.  We need to move them there\nso that the global requirements sync job can continue to keep setup.py\nin sync with the global version.\n\nDepends-on: I2369971d306c10dc39a1b89698cec95cf7551d07\nChange-Id: I3c07c279d33f6aed46c3a97dd9ba81251e51429a\n'}, {'number': 4, 'created': '2015-06-01 17:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4164b3ac5c1f03502279cce359fa68c1730fd6e7', 'message': 'Move windows requirements to requirements.txt\n\nCommit 276028cca26af573c14938255e40c58358eabd4a added these\nrequirements to setup.py from a custom build hook.  These requirements\ncan now be expressed in requirements.txt.  We need to move them there\nso that the global requirements sync job can continue to keep setup.py\nin sync with the global version.\n\nDepends-on: I2369971d306c10dc39a1b89698cec95cf7551d07\nChange-Id: I3c07c279d33f6aed46c3a97dd9ba81251e51429a\n'}, {'number': 5, 'created': '2015-06-22 17:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1c36509e3f0eaff4ec432f9f6643490081c41c38', 'message': 'Move windows requirements to requirements.txt\n\nCommit 276028cca26af573c14938255e40c58358eabd4a added these\nrequirements to setup.py from a custom build hook.  These requirements\ncan now be expressed in requirements.txt.  We need to move them there\nso that the global requirements sync job can continue to keep setup.py\nin sync with the global version.\n\nThis patch also includes a full sync of global requirements.  This is\nbecause the addition of the win32 requirements passed tests\nsuccessfully to merge into the requirements repo, but is still failing\nhere.  I figured including the latest sync might fix it so we can get\nthis in and unblock requirements updates.\n\nDepends-on: I2369971d306c10dc39a1b89698cec95cf7551d07\nChange-Id: I3c07c279d33f6aed46c3a97dd9ba81251e51429a\n'}, {'number': 6, 'created': '2015-06-22 18:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/85c4cd437f00bff10881b846b23aa70ea083fb19', 'message': 'Move windows requirements to requirements.txt\n\nCommit 276028cca26af573c14938255e40c58358eabd4a added these\nrequirements to setup.py from a custom build hook.  These requirements\ncan now be expressed in requirements.txt.  We need to move them there\nso that the global requirements sync job can continue to keep setup.py\nin sync with the global version.\n\nDepends-on: I2369971d306c10dc39a1b89698cec95cf7551d07\nChange-Id: I3c07c279d33f6aed46c3a97dd9ba81251e51429a\n'}, {'number': 7, 'created': '2015-06-30 15:44:08.000000000', 'files': ['requirements.txt', 'setup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2bbfe6f8253659ebf6951b6426ffc446baacd420', 'message': 'Move windows requirements to requirements.txt\n\nCommit 276028cca26af573c14938255e40c58358eabd4a added these\nrequirements to setup.py from a custom build hook.  These requirements\ncan now be expressed in requirements.txt.  We need to move them there\nso that the global requirements sync job can continue to keep setup.py\nin sync with the global version.\n\nDepends-on: I2369971d306c10dc39a1b89698cec95cf7551d07\nChange-Id: I3c07c279d33f6aed46c3a97dd9ba81251e51429a\n'}]",2,185739,2bbfe6f8253659ebf6951b6426ffc446baacd420,141,35,7,1561,,,0,"Move windows requirements to requirements.txt

Commit 276028cca26af573c14938255e40c58358eabd4a added these
requirements to setup.py from a custom build hook.  These requirements
can now be expressed in requirements.txt.  We need to move them there
so that the global requirements sync job can continue to keep setup.py
in sync with the global version.

Depends-on: I2369971d306c10dc39a1b89698cec95cf7551d07
Change-Id: I3c07c279d33f6aed46c3a97dd9ba81251e51429a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/39/185739/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'setup.py']",2,b789ba0f9cd28a681713708be3ee6e1cd7c2e993,win32-requirements-patch4, pbr=True)," pbr=True, # TODO(lifeless): Once pbr supports markers in requirements.txt, move this # there, so that update.py can see it. extras_require={ ':sys_platform==""win32""': ['pywin32', 'wmi'] })",5,6
openstack%2Foslo.cache~master~Ie524108da18222f4b6dbeb12cba4caad862a43c0,openstack/oslo.cache,master,Ie524108da18222f4b6dbeb12cba4caad862a43c0,Register backends in a cycle,MERGED,2015-07-01 15:03:25.000000000,2015-07-01 18:58:56.000000000,2015-07-01 18:58:55.000000000,"[{'_account_id': 3}, {'_account_id': 2903}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-07-01 15:03:25.000000000', 'files': ['oslo_cache/core.py'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/63f88c4e6734da9a7d33971b62fd68947f96a9c1', 'message': 'Register backends in a cycle\n\nIn future the number of backends will grown.\nSo we need to have more short way to register backend.\n\nChange-Id: Ie524108da18222f4b6dbeb12cba4caad862a43c0\n'}]",0,197619,63f88c4e6734da9a7d33971b62fd68947f96a9c1,7,3,1,9569,,,0,"Register backends in a cycle

In future the number of backends will grown.
So we need to have more short way to register backend.

Change-Id: Ie524108da18222f4b6dbeb12cba4caad862a43c0
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/19/197619/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_cache/core.py'],1,63f88c4e6734da9a7d33971b62fd68947f96a9c1,register_backends,"_BACKENDS = [ ('oslo_cache.noop', 'oslo_cache.backends.noop', 'NoopCacheBackend'), ('oslo_cache.mongo', 'oslo_cache.backends.mongo', 'MongoCacheBackend'), ('oslo_cache.memcache_pool', 'oslo_cache.backends.memcache_pool', 'PooledMemcachedBackend') ] for backend in _BACKENDS: dogpile.cache.register_backend(*backend)","dogpile.cache.register_backend( 'oslo_cache.noop', 'oslo_cache.backends.noop', 'NoopCacheBackend') dogpile.cache.register_backend( 'oslo_cache.mongo', 'oslo_cache.backends.mongo', 'MongoCacheBackend') dogpile.cache.register_backend( 'oslo_cache.memcache_pool', 'oslo_cache.backends.memcache_pool', 'PooledMemcachedBackend')",8,13
openstack%2Fneutron~master~I19502f594d9af5aff65c452e90e17ae3bc9f1d93,openstack/neutron,master,I19502f594d9af5aff65c452e90e17ae3bc9f1d93,Register FWaaS resources to quota engine,ABANDONED,2014-12-04 17:25:48.000000000,2015-07-01 18:58:11.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 490}, {'_account_id': 2062}, {'_account_id': 5170}, {'_account_id': 7787}, {'_account_id': 8124}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 11822}, {'_account_id': 12040}, {'_account_id': 12525}, {'_account_id': 12683}, {'_account_id': 13051}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-12-04 17:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/081153c199e755f179175dad19a5950fd3386bcf', 'message': ""Register FWaaS resource to quota engine\n\nThis also requires an adjustment of the default value of\n'quota_firewall_policy' to allow tempest to succeed testing FWaaS. It creates\nmore than one firewall policy during its test run.\n\nAdditionally the test_list_firewalls() unittest was adapted to create firewalls\nin different tenants. This was done to avoid adjusting the default value of\n'quota_firewall' as that doesn't make sense in practice since neutron currently\nhas a hard limit on one firewall per tenant.\n\nChange-Id: I19502f594d9af5aff65c452e90e17ae3bc9f1d93\nCloses-Bug: #1399280\n""}, {'number': 2, 'created': '2014-12-05 09:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d79cd565f58fe56b0f77c195fd5f05ce019b47ea', 'message': ""Register FWaaS resource to quota engine\n\nThis also requires an adjustment of the default value of\n'quota_firewall_policy' to allow tempest to succeed testing FWaaS. It\ncreates more than one firewall policy during its test run.\n\nAdditionally some unit tests that create multiple firewalls are\nadapted to create the firewalls in different tenants. This was done to\navoid adjusting the default value of 'quota_firewall' as that doesn't\nmake sense in practice since neutron currently has a hard limit on one\nfirewall per tenant.\n\nChange-Id: I19502f594d9af5aff65c452e90e17ae3bc9f1d93\nCloses-Bug: #1399280\n""}, {'number': 3, 'created': '2014-12-11 14:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/98a2aa113a6bfb7a27d7196e9c8d167b5821245d', 'message': ""Register FWaaS resource to quota engine\n\nThis also requires an adjustment of the default value of\n'quota_firewall_policy' to allow tempest to succeed testing FWaaS. It\ncreates more than one firewall policy during its test run.\n\nAdditionally some unit tests that create multiple firewalls are\nadapted to create the firewalls in different tenants. This was done to\navoid adjusting the default value of 'quota_firewall' as that doesn't\nmake sense in practice since neutron currently has a hard limit on one\nfirewall per tenant.\n\nChange-Id: I19502f594d9af5aff65c452e90e17ae3bc9f1d93\nCloses-Bug: #1399280\n""}, {'number': 4, 'created': '2015-01-09 11:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e5b647c08bd8913bf7116504ec88c9b0363fbf54', 'message': ""Register FWaaS resource to quota engine\n\nThis also requires an adjustment of the default value of\n'quota_firewall_policy' to allow tempest to succeed testing FWaaS. It\ncreates more than one firewall policy during its test run.\n\nAdditionally some unit tests that create multiple firewalls are\nadapted to create the firewalls in different tenants. This was done to\navoid adjusting the default value of 'quota_firewall' as that doesn't\nmake sense in practice since neutron currently has a hard limit on one\nfirewall per tenant.\n\nChange-Id: I19502f594d9af5aff65c452e90e17ae3bc9f1d93\nCloses-Bug: #1399280\n""}, {'number': 5, 'created': '2015-01-14 14:04:34.000000000', 'files': ['neutron/extensions/firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9c94a9dd4b33c0fd6b2fa0a845e814625dc087f6', 'message': ""Register FWaaS resources to quota engine\n\nThis also requires an adjustment of the default value of\n'quota_firewall_policy' to allow tempest to succeed testing FWaaS. It\ncreates more than one firewall policy during its test run.\n\nChange-Id: I19502f594d9af5aff65c452e90e17ae3bc9f1d93\nCloses-Bug: #1399280\n""}]",4,139124,9c94a9dd4b33c0fd6b2fa0a845e814625dc087f6,111,30,5,2062,,,0,"Register FWaaS resources to quota engine

This also requires an adjustment of the default value of
'quota_firewall_policy' to allow tempest to succeed testing FWaaS. It
creates more than one firewall policy during its test run.

Change-Id: I19502f594d9af5aff65c452e90e17ae3bc9f1d93
Closes-Bug: #1399280
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/139124/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/extensions/firewall.py', 'neutron/tests/unit/db/firewall/test_db_firewall.py']",2,081153c199e755f179175dad19a5950fd3386bcf,bug/1399280," tenant_id=""tenant1"", tenant_id=""tenant2"", tenant_id=""tenant3"",",,6,2
openstack%2Fneutron~master~I5d8aaab8192168946c2a0b74abc1a56848ca51a2,openstack/neutron,master,I5d8aaab8192168946c2a0b74abc1a56848ca51a2,Disable pylint job,MERGED,2015-06-30 17:25:39.000000000,2015-07-01 18:51:13.000000000,2015-06-30 23:54:17.000000000,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 8873}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10980}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14323}, {'_account_id': 14571}]","[{'number': 1, 'created': '2015-06-30 17:25:39.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3da491cf5fe629559281507f65f12a0e34eaedf7', 'message': ""Disable pylint job\n\nDisabling pylint until it gets unbroken. Pylint 1.4.1 is using\nlogilab-common, which had a release on the 30th, breaking pylint.\nPylint developers are planning a logilab-common release tomorrow\nwhich should unbreak pylint once again, at which point I'll\nre-enable pylint.\n\nChange-Id: I5d8aaab8192168946c2a0b74abc1a56848ca51a2\nRelated-Bug: #1470186\n""}]",0,197188,3da491cf5fe629559281507f65f12a0e34eaedf7,25,17,1,8873,,,0,"Disable pylint job

Disabling pylint until it gets unbroken. Pylint 1.4.1 is using
logilab-common, which had a release on the 30th, breaking pylint.
Pylint developers are planning a logilab-common release tomorrow
which should unbreak pylint once again, at which point I'll
re-enable pylint.

Change-Id: I5d8aaab8192168946c2a0b74abc1a56848ca51a2
Related-Bug: #1470186
",git fetch https://review.opendev.org/openstack/neutron refs/changes/88/197188/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3da491cf5fe629559281507f65f12a0e34eaedf7,bug/1470186, # sh ./tools/coding-checks.sh --pylint '{posargs}', sh ./tools/coding-checks.sh --pylint '{posargs}',1,1
openstack%2Fsearchlight~master~I57fa085c69643109a68e347f5218eb6d0baff145,openstack/searchlight,master,I57fa085c69643109a68e347f5218eb6d0baff145,Index command doesn't do anything,MERGED,2015-07-01 08:50:04.000000000,2015-07-01 18:48:55.000000000,2015-07-01 18:48:55.000000000,"[{'_account_id': 3}, {'_account_id': 7665}, {'_account_id': 10063}]","[{'number': 1, 'created': '2015-07-01 08:50:04.000000000', 'files': ['searchlight/cmd/index.py'], 'web_link': 'https://opendev.org/openstack/searchlight/commit/51b2154f83044ba34dd0bcc8ca9ad853ad5355f3', 'message': ""Index command doesn't do anything\n\nRight now the index command doesn't do anything when run from the CLI.\nThat's because we defined the main method, but we actually don't call it\neven if the __name__ is set to __main__. There is a patch for cleaning\nup the entry points which would be great to have -\nhttps://review.openstack.org/#/c/196750/1 - but for now we need some\nhotfix for this issue.\n\nChange-Id: I57fa085c69643109a68e347f5218eb6d0baff145\n""}]",0,197471,51b2154f83044ba34dd0bcc8ca9ad853ad5355f3,7,3,1,13161,,,0,"Index command doesn't do anything

Right now the index command doesn't do anything when run from the CLI.
That's because we defined the main method, but we actually don't call it
even if the __name__ is set to __main__. There is a patch for cleaning
up the entry points which would be great to have -
https://review.openstack.org/#/c/196750/1 - but for now we need some
hotfix for this issue.

Change-Id: I57fa085c69643109a68e347f5218eb6d0baff145
",git fetch https://review.opendev.org/openstack/searchlight refs/changes/71/197471/1 && git format-patch -1 --stdout FETCH_HEAD,['searchlight/cmd/index.py'],1,51b2154f83044ba34dd0bcc8ca9ad853ad5355f3,index_cmd, if __name__ == '__main__': main(),,3,0
openstack%2Fnova~stable%2Ficehouse~I3d66dbfc0a7346762b920e802aa3be92c43d93b7,openstack/nova,stable/icehouse,I3d66dbfc0a7346762b920e802aa3be92c43d93b7,Make resize raise exception when no valid host found,ABANDONED,2015-02-25 20:22:12.000000000,2015-07-01 18:29:39.000000000,,"[{'_account_id': 3}, {'_account_id': 1955}, {'_account_id': 4690}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 6849}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12814}, {'_account_id': 14358}]","[{'number': 1, 'created': '2015-02-25 20:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/27df57dba7acaf5ba44e197e01aa502092f3ba6f', 'message': ""Make resize raise exception when no valid host found\n\nWhen resize operation starts, it will ask conductor to find a\nvalid host and try to resize to that host. When there is no valid\nhost can be found ,current code return directly without error\nnotification, which will make upper layer code (e.g novaclient)\nthinks the execution is succesfully performed and report 'Finished'.\nBut actually it isn't due to no valid host was found.\n\nChange-Id: I3d66dbfc0a7346762b920e802aa3be92c43d93b7\nCloses-Bug: #1297052\n""}, {'number': 2, 'created': '2015-02-27 16:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cdf5d5a97896964403391d43b8cba671e6d86cf2', 'message': ""Make resize raise exception when no valid host found\n\nWhen resize operation starts, it will ask conductor to find a\nvalid host and try to resize to that host. When there is no valid\nhost can be found ,current code return directly without error\nnotification, which will make upper layer code (e.g novaclient)\nthinks the execution is succesfully performed and report 'Finished'.\nBut actually it isn't due to no valid host was found.\n\nChange-Id: I3d66dbfc0a7346762b920e802aa3be92c43d93b7\nCloses-Bug: #1297052\n(cherry picked from commit d62fb490b10d9372bd52189d4c688a7c1b495d8b)\n""}, {'number': 3, 'created': '2015-06-05 09:30:34.000000000', 'files': ['nova/api/openstack/compute/plugins/v3/migrate_server.py', 'nova/tests/api/openstack/compute/test_server_actions.py', 'nova/tests/conductor/test_conductor.py', 'nova/conductor/manager.py', 'nova/api/openstack/compute/contrib/admin_actions.py', 'nova/tests/integrated/test_api_samples.py', 'nova/tests/integrated/v3/test_migrate_server.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/61193a0ff8440fcd53d680d1b2fc9e5e2f89349f', 'message': ""Make resize raise exception when no valid host found\n\nWhen resize operation starts, it will ask conductor to find a\nvalid host and try to resize to that host. When there is no valid\nhost can be found ,current code return directly without error\nnotification, which will make upper layer code (e.g novaclient)\nthinks the execution is succesfully performed and report 'Finished'.\nBut actually it isn't due to no valid host was found.\n\nChange-Id: I3d66dbfc0a7346762b920e802aa3be92c43d93b7\nCloses-Bug: #1297052\n(cherry picked from commit d62fb490b10d9372bd52189d4c688a7c1b495d8b)\n""}]",2,159240,61193a0ff8440fcd53d680d1b2fc9e5e2f89349f,31,11,3,14358,,,0,"Make resize raise exception when no valid host found

When resize operation starts, it will ask conductor to find a
valid host and try to resize to that host. When there is no valid
host can be found ,current code return directly without error
notification, which will make upper layer code (e.g novaclient)
thinks the execution is succesfully performed and report 'Finished'.
But actually it isn't due to no valid host was found.

Change-Id: I3d66dbfc0a7346762b920e802aa3be92c43d93b7
Closes-Bug: #1297052
(cherry picked from commit d62fb490b10d9372bd52189d4c688a7c1b495d8b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/159240/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/plugins/v3/migrate_server.py', 'nova/tests/api/openstack/compute/test_server_actions.py', 'nova/tests/conductor/test_conductor.py', 'nova/conductor/manager.py', 'nova/api/openstack/compute/contrib/admin_actions.py', 'nova/tests/integrated/test_api_samples.py', 'nova/tests/integrated/v3/test_migrate_server.py', 'nova/api/openstack/compute/servers.py']",8,27df57dba7acaf5ba44e197e01aa502092f3ba6f,icehouse-with-resize-fix, except exception.NoValidHost as e: raise exc.HTTPBadRequest(explanation=e.format_message()),,33,9
openstack%2Fhorizon~stable%2Ficehouse~I40982b777abaec743ed6cbc527008522a619e817,openstack/horizon,stable/icehouse,I40982b777abaec743ed6cbc527008522a619e817,Ensuring environment data is passed to heat template validate,ABANDONED,2015-03-18 10:54:18.000000000,2015-07-01 18:28:19.000000000,,"[{'_account_id': 3}, {'_account_id': 979}, {'_account_id': 1955}, {'_account_id': 8429}]","[{'number': 1, 'created': '2015-03-18 10:54:18.000000000', 'files': ['openstack_dashboard/dashboards/project/stacks/tests.py', 'openstack_dashboard/dashboards/project/stacks/forms.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/cb38c5e7601de96235fb549c42572fd44ededb62', 'message': 'Ensuring environment data is passed to heat template validate\n\n - environment data was being passed to heat API on stack create,\n   but not stack validate - meaning that templates that referenced\n   environment files were not validating correctly\n\n - heat client does not support URLs for environment files - we will\n   need to do this client side before POSTing back to horizon. future\n   patch\n\nPartial-Bug: #1322258\n\nChange-Id: I40982b777abaec743ed6cbc527008522a619e817\n(cherry picked from commit ecdc73a33954bb9e7b24f72dafd1cfba42f69631)\n'}]",0,165354,cb38c5e7601de96235fb549c42572fd44ededb62,6,4,1,4264,,,0,"Ensuring environment data is passed to heat template validate

 - environment data was being passed to heat API on stack create,
   but not stack validate - meaning that templates that referenced
   environment files were not validating correctly

 - heat client does not support URLs for environment files - we will
   need to do this client side before POSTing back to horizon. future
   patch

Partial-Bug: #1322258

Change-Id: I40982b777abaec743ed6cbc527008522a619e817
(cherry picked from commit ecdc73a33954bb9e7b24f72dafd1cfba42f69631)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/54/165354/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/stacks/tests.py', 'openstack_dashboard/dashboards/project/stacks/forms.py']",2,cb38c5e7601de96235fb549c42572fd44ededb62,bug/1322258," # TODO(jomara) - update URL choice for template & environment files # w/ client side download when applicable base_choices = [('file', _('File')), url_choice = [('url', _('URL'))] choices=base_choices + url_choice, choices=base_choices, if cleaned['environment_data']: kwargs['environment'] = cleaned['environment_data'] "," choices = [('url', _('URL')), ('file', _('File')), choices=choices, choices=choices, 'url', _('Environment URL')) environment_url = forms.URLField( label=_('Environment URL'), help_text=_('An external (HTTP) URL to load the environment from.'), widget=forms.TextInput(attrs=attributes), required=False) attributes = create_upload_form_attributes( 'env', 'environment_url': data['environment_url'], environment_url = forms.CharField( widget=forms.widgets.HiddenInput, required=False) elif data.get('environment_url'): fields['environment_url'] = data.get('environment_url')",11,21
openstack%2Fneutron~stable%2Ficehouse~I29a0a47a6bb3cbeaaa52a5477c4324c6cf1a6d3c,openstack/neutron,stable/icehouse,I29a0a47a6bb3cbeaaa52a5477c4324c6cf1a6d3c,Fixes bug with security groups rules in a dual stack network,ABANDONED,2015-05-14 14:27:33.000000000,2015-07-01 18:28:01.000000000,,"[{'_account_id': 3}, {'_account_id': 1955}, {'_account_id': 4395}, {'_account_id': 4656}, {'_account_id': 5170}, {'_account_id': 8645}, {'_account_id': 8703}, {'_account_id': 9656}, {'_account_id': 9682}, {'_account_id': 9787}, {'_account_id': 9820}, {'_account_id': 10068}, {'_account_id': 10153}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14214}, {'_account_id': 14215}, {'_account_id': 14216}, {'_account_id': 14571}, {'_account_id': 15443}, {'_account_id': 15444}]","[{'number': 1, 'created': '2015-05-14 14:27:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a56c5feacfbb27b99725ba60c72dd4dfedffff88', 'message': ""Fixes bug with security groups rules in a dual stack network.\n\nThe code to add provider rules doesn't cycle through all of the DHCP agent IPs. The code to add rules either correctly adds IPv4 rules\nor IPv6 rules depending on the order in which the DHCP agent IPs are got from the database.\n\nChange-Id: I29a0a47a6bb3cbeaaa52a5477c4324c6cf1a6d3c\nCloses-Bug: #1455093\n""}, {'number': 2, 'created': '2015-05-14 15:02:48.000000000', 'files': ['neutron/db/securitygroups_rpc_base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c4360f06a893aa8ca3682a3b2ba138546898831b', 'message': ""Fixes bug with security groups rules in a dual stack network\n\nThe code to add provider rules doesn't cycle through all of the DHCP agent IPs.\nThe code to add rules either correctly adds IPv4 rules or IPv6 rules depending on\nthe order in which the DHCP agent IPs are got from the database.\n\nChange-Id: I29a0a47a6bb3cbeaaa52a5477c4324c6cf1a6d3c\nCloses-Bug: #1455093\n""}]",1,183060,c4360f06a893aa8ca3682a3b2ba138546898831b,46,23,2,8703,,,0,"Fixes bug with security groups rules in a dual stack network

The code to add provider rules doesn't cycle through all of the DHCP agent IPs.
The code to add rules either correctly adds IPv4 rules or IPv6 rules depending on
the order in which the DHCP agent IPs are got from the database.

Change-Id: I29a0a47a6bb3cbeaaa52a5477c4324c6cf1a6d3c
Closes-Bug: #1455093
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/183060/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/securitygroups_rpc_base.py'],1,a56c5feacfbb27b99725ba60c72dd4dfedffff88,bug/1455093, continue continue, return return,2,2
openstack%2Fhorizon~stable%2Ficehouse~I0231eaa693e7f36699fda6e011db8c976b639411,openstack/horizon,stable/icehouse,I0231eaa693e7f36699fda6e011db8c976b639411,Make Image Description an input field instead of a textarea,ABANDONED,2015-03-17 15:06:18.000000000,2015-07-01 18:27:39.000000000,,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 1955}, {'_account_id': 4264}, {'_account_id': 5280}, {'_account_id': 9622}, {'_account_id': 14151}]","[{'number': 1, 'created': '2015-03-17 15:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/fb4e7bc9d8306ca550d764db1a44e5727f1a5990', 'message': 'Make Image Description an input field instead of a textarea\n\nThe glanceclient passes the value of the ""Description"" field as\nHTTP headers to the API, completely unmodified.  If there are\nnewlines in the content, it corrupts the headers and creates havoc.\n\nEncoding/decoding the results is not viable, since arbitrary (and\nnot necessarily controlled by anyone) clients can retrieve the data.  So as\na dodge, use a normal <input> field for Description instead of\n<textarea> field, as newlines are not permitted in the former.\n\nCloses-Bug: 1370732\n(cherry picked from commit 363ccf7b39bb14624e60ee1aa1f08f4e3f5f0642)\n\nConflicts:\n\topenstack_dashboard/dashboards/project/images/images/forms.py\n\nChange-Id: I0231eaa693e7f36699fda6e011db8c976b639411\n'}, {'number': 2, 'created': '2015-06-03 20:29:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c33dd0f9ae118692eb25c1403a0eef09a27e40c2', 'message': 'Make Image Description an input field instead of a textarea\n\nThe glanceclient passes the value of the ""Description"" field as\nHTTP headers to the API, completely unmodified.  If there are\nnewlines in the content, it corrupts the headers and creates havoc.\n\nEncoding/decoding the results is not viable, since arbitrary (and\nnot necessarily controlled by anyone) clients can retrieve the data.  So as\na dodge, use a normal <input> field for Description instead of\n<textarea> field, as newlines are not permitted in the former.\n\nCloses-Bug: 1370732\n(cherry picked from commit 363ccf7b39bb14624e60ee1aa1f08f4e3f5f0642)\n\nConflicts:\n\topenstack_dashboard/dashboards/project/images/images/forms.py\n\nChange-Id: I0231eaa693e7f36699fda6e011db8c976b639411\n'}, {'number': 3, 'created': '2015-06-04 11:28:02.000000000', 'files': ['openstack_dashboard/dashboards/project/images/images/forms.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/eb4c73ef3ec3bb21cde3dbae0b9ef97051e228c4', 'message': 'Make Image Description an input field instead of a textarea\n\nThe glanceclient passes the value of the ""Description"" field as\nHTTP headers to the API, completely unmodified.  If there are\nnewlines in the content, it corrupts the headers and creates havoc.\n\nEncoding/decoding the results is not viable, since arbitrary (and\nnot necessarily controlled by anyone) clients can retrieve the data.  So as\na dodge, use a normal <input> field for Description instead of\n<textarea> field, as newlines are not permitted in the former.\n\nCloses-Bug: 1370732\n(cherry picked from commit 363ccf7b39bb14624e60ee1aa1f08f4e3f5f0642)\n\nConflicts:\n\topenstack_dashboard/dashboards/project/images/images/forms.py\n\nChange-Id: I0231eaa693e7f36699fda6e011db8c976b639411\n'}]",1,165100,eb4c73ef3ec3bb21cde3dbae0b9ef97051e228c4,15,7,3,4264,,,0,"Make Image Description an input field instead of a textarea

The glanceclient passes the value of the ""Description"" field as
HTTP headers to the API, completely unmodified.  If there are
newlines in the content, it corrupts the headers and creates havoc.

Encoding/decoding the results is not viable, since arbitrary (and
not necessarily controlled by anyone) clients can retrieve the data.  So as
a dodge, use a normal <input> field for Description instead of
<textarea> field, as newlines are not permitted in the former.

Closes-Bug: 1370732
(cherry picked from commit 363ccf7b39bb14624e60ee1aa1f08f4e3f5f0642)

Conflicts:
	openstack_dashboard/dashboards/project/images/images/forms.py

Change-Id: I0231eaa693e7f36699fda6e011db8c976b639411
",git fetch https://review.opendev.org/openstack/horizon refs/changes/00/165100/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/images/images/forms.py'],1,fb4e7bc9d8306ca550d764db1a44e5727f1a5990,bug/1370732," name = forms.CharField(max_length=255, label=_(""Name"")) description = forms.CharField(max_length=255, label=_(""Description""), required=False) name = forms.CharField(max_length=255, label=_(""Name"")) description = forms.CharField(max_length=255, label=_(""Description""), kernel = forms.CharField( max_length=36, label=_(""Kernel ID""), required=False, widget=forms.TextInput(attrs={'readonly': 'readonly'}), ) ramdisk = forms.CharField( max_length=36, label=_(""Ramdisk ID""), required=False, widget=forms.TextInput(attrs={'readonly': 'readonly'}), ) architecture = forms.CharField( label=_(""Architecture""), required=False, widget=forms.TextInput(attrs={'readonly': 'readonly'}), ) disk_format = forms.ChoiceField( label=_(""Format""), ) minimum_disk = forms.IntegerField(label=_(""Minimum Disk (GB)""), min_value=0, help_text=_('The minimum disk size' ' required to boot the' ' image. If unspecified,' ' this value defaults to' ' 0 (no minimum).'), required=False) minimum_ram = forms.IntegerField(label=_(""Minimum RAM (MB)""), min_value=0, help_text=_('The minimum memory size' ' required to boot the' ' image. If unspecified,' ' this value defaults to' ' 0 (no minimum).'), required=False)"," name = forms.CharField(max_length=""255"", label=_(""Name""), required=True) description = forms.CharField(widget=forms.widgets.Textarea( attrs={'class': 'modal-body-fixed-width'}), label=_(""Description""), required=False) name = forms.CharField(max_length=""255"", label=_(""Name"")) description = forms.CharField(widget=forms.widgets.Textarea(), label=_(""Description""), kernel = forms.CharField(max_length=""36"", label=_(""Kernel ID""), required=False, widget=forms.TextInput( attrs={'readonly': 'readonly'} )) ramdisk = forms.CharField(max_length=""36"", label=_(""Ramdisk ID""), required=False, widget=forms.TextInput( attrs={'readonly': 'readonly'} )) architecture = forms.CharField(label=_(""Architecture""), required=False, widget=forms.TextInput( attrs={'readonly': 'readonly'} )) disk_format = forms.CharField(label=_(""Format""), widget=forms.TextInput( attrs={'readonly': 'readonly'} ))",41,26
openstack%2Fnova~stable%2Ficehouse~I02bc60dade11afb4b60f6ac39df9007d1b9233de,openstack/nova,stable/icehouse,I02bc60dade11afb4b60f6ac39df9007d1b9233de,Move instantiation of the Syslog handler,ABANDONED,2015-06-18 17:04:53.000000000,2015-07-01 18:26:27.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 6794}, {'_account_id': 9008}]","[{'number': 1, 'created': '2015-06-18 17:04:53.000000000', 'files': ['nova/openstack/common/log.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/37e028dc9099e1827c3f64e408803857e047478d', 'message': 'Move instantiation of the Syslog handler\n\nMove the creation of the Syslog handler before setting up the log\nformatter and the log level. The issue has been introduced when fixing\nbug #1328501.\n\nCloses-Bug: 1399088\n(cherry picked from commit 55ea9c74ea93958b447e0d540afb4264baa46bcf)\n\nConflicts:\n\tnova/openstack/common/log.py\n\nPartial-Bug: 1459046\nChange-Id: I02bc60dade11afb4b60f6ac39df9007d1b9233de\n'}]",0,193215,37e028dc9099e1827c3f64e408803857e047478d,5,4,1,7135,,,0,"Move instantiation of the Syslog handler

Move the creation of the Syslog handler before setting up the log
formatter and the log level. The issue has been introduced when fixing
bug #1328501.

Closes-Bug: 1399088
(cherry picked from commit 55ea9c74ea93958b447e0d540afb4264baa46bcf)

Conflicts:
	nova/openstack/common/log.py

Partial-Bug: 1459046
Change-Id: I02bc60dade11afb4b60f6ac39df9007d1b9233de
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/193215/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/openstack/common/log.py'],1,37e028dc9099e1827c3f64e408803857e047478d,bug/1328501, if CONF.use_syslog: try: facility = _find_facility_from_conf() # TODO(bogdando) use the format provided by RFCSysLogHandler # after existing syslog format deprecation in J if CONF.use_syslog_rfc_format: syslog = RFCSysLogHandler(facility=facility) else: syslog = logging.handlers.SysLogHandler(facility=facility) log_root.addHandler(syslog) except socket.error: log_root.error('Unable to add syslog handler. Verify that syslog' 'is running.') ," if CONF.use_syslog: try: facility = _find_facility_from_conf() # TODO(bogdando) use the format provided by RFCSysLogHandler # after existing syslog format deprecation in J if CONF.use_syslog_rfc_format: syslog = RFCSysLogHandler(address='/dev/log', facility=facility) else: syslog = logging.handlers.SysLogHandler(address='/dev/log', facility=facility) log_root.addHandler(syslog) except socket.error: log_root.error('Unable to add syslog handler. Verify that syslog' 'is running.') ",14,16
openstack%2Fnova~stable%2Ficehouse~I4e84bca70eee6d6aa8d7525fe38d65ba235dd6b0,openstack/nova,stable/icehouse,I4e84bca70eee6d6aa8d7525fe38d65ba235dd6b0,Make use_syslog=True log to syslog via /dev/log,ABANDONED,2015-06-18 17:04:53.000000000,2015-07-01 18:26:12.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 6849}, {'_account_id': 9008}]","[{'number': 1, 'created': '2015-06-18 17:04:53.000000000', 'files': ['nova/openstack/common/log.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1ab8c062da7da1c685258f5502fd6da2ef668612', 'message': ""Make use_syslog=True log to syslog via /dev/log\n\nAfter upgrade from Icehouse to Juno OpenStack services don't log to\nsyslog via /dev/log anymore. This behaviour was introduced in commit\n1188d88a73e75da5c143d0dfad34e10dad0daee0. While /dev/log is arguably\nnot a very portable default, breaking the backwards compatibility is\neven worse.\n\nThis commit restores the original behaviour. /dev/log portability\nissues will be addressed separately.\n\nCloses-Bug: #1385295\nRelated-Bug: #1391428\n\nPartial-Bug: 1459046\n\nChange-Id: I4e84bca70eee6d6aa8d7525fe38d65ba235dd6b0\n(cherry picked from commit ac4330dd674b073c4d31ef87e61710015ffe6c80)\n""}]",0,193214,1ab8c062da7da1c685258f5502fd6da2ef668612,5,4,1,7135,,,0,"Make use_syslog=True log to syslog via /dev/log

After upgrade from Icehouse to Juno OpenStack services don't log to
syslog via /dev/log anymore. This behaviour was introduced in commit
1188d88a73e75da5c143d0dfad34e10dad0daee0. While /dev/log is arguably
not a very portable default, breaking the backwards compatibility is
even worse.

This commit restores the original behaviour. /dev/log portability
issues will be addressed separately.

Closes-Bug: #1385295
Related-Bug: #1391428

Partial-Bug: 1459046

Change-Id: I4e84bca70eee6d6aa8d7525fe38d65ba235dd6b0
(cherry picked from commit ac4330dd674b073c4d31ef87e61710015ffe6c80)
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/193214/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/openstack/common/log.py'],1,1ab8c062da7da1c685258f5502fd6da2ef668612,bug/1328501," syslog = RFCSysLogHandler(address='/dev/log', facility=facility) else: syslog = logging.handlers.SysLogHandler(address='/dev/log', facility=facility)", syslog = RFCSysLogHandler(facility=facility) else: syslog = logging.handlers.SysLogHandler(facility=facility),4,2
openstack%2Fnova~stable%2Ficehouse~Iab89bd3649ce01e86b657e4f1104c0b50ee084bb,openstack/nova,stable/icehouse,Iab89bd3649ce01e86b657e4f1104c0b50ee084bb,Except socket.error if syslog isn't running,ABANDONED,2015-06-18 16:47:16.000000000,2015-07-01 18:26:00.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 9008}]","[{'number': 1, 'created': '2015-06-18 16:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6bf301ee1057ae22d958156723fd2a9447efdb7a', 'message': ""Except socket.error if syslog isn't running\n\nWhen setting `use_syslog=true` and restarting the service, if syslog (or\nrsyslog) isn't running, except the error and inform the user instead\nof failing with a generic Errno 111.\n\nChange-Id: Ie4ce3e84dcff838b569d6e2711aee5ea21c01083\nPartial-Bug: 1328501\n\nConflicts:\n\tnova/openstack/common/log.py\n\nMake use_syslog=True log to syslog via /dev/log\n\nAfter upgrade from Icehouse to Juno OpenStack services don't log to\nsyslog via /dev/log anymore. This behaviour was introduced in commit\n1188d88a73e75da5c143d0dfad34e10dad0daee0. While /dev/log is arguably\nnot a very portable default, breaking the backwards compatibility is\neven worse.\n\nThis commit restores the original behaviour. /dev/log portability\nissues will be addressed separately.\n\nCloses-Bug: #1385295\nRelated-Bug: #1391428\n\nChange-Id: I4e84bca70eee6d6aa8d7525fe38d65ba235dd6b0\n\nMove instantiation of the Syslog handler\n\nMove the creation of the Syslog handler before setting up the log\nformatter and the log level. The issue has been introduced when fixing\nbug #1328501.\n\nChange-Id: I2528731d094e07bf13b8190a61ceeb024b32f607\nCloses-Bug: 1399088\n\nConflicts:\n\tnova/openstack/common/log.py\n\nChange-Id: Iab89bd3649ce01e86b657e4f1104c0b50ee084bb\n""}, {'number': 2, 'created': '2015-06-18 16:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1dcded5148394373d3643c174d4bc462483bd383', 'message': ""Except socket.error if syslog isn't running\n\nWhen setting `use_syslog=true` and restarting the service, if syslog (or\nrsyslog) isn't running, except the error and inform the user instead\nof failing with a generic Errno 111.\n\nChange-Id: Ie4ce3e84dcff838b569d6e2711aee5ea21c01083\nPartial-Bug: 1328501\n\nConflicts:\n\tnova/openstack/common/log.py\n\nMake use_syslog=True log to syslog via /dev/log\n\nAfter upgrade from Icehouse to Juno OpenStack services don't log to\nsyslog via /dev/log anymore. This behaviour was introduced in commit\n1188d88a73e75da5c143d0dfad34e10dad0daee0. While /dev/log is arguably\nnot a very portable default, breaking the backwards compatibility is\neven worse.\n\nThis commit restores the original behaviour. /dev/log portability\nissues will be addressed separately.\n\nCloses-Bug: #1385295\nRelated-Bug: #1391428\n\nChange-Id: I4e84bca70eee6d6aa8d7525fe38d65ba235dd6b0\n\nMove instantiation of the Syslog handler\n\nMove the creation of the Syslog handler before setting up the log\nformatter and the log level. The issue has been introduced when fixing\nbug #1328501.\n\nChange-Id: I2528731d094e07bf13b8190a61ceeb024b32f607\nCloses-Bug: 1399088\n\nConflicts:\n\tnova/openstack/common/log.py\n\nCloses-Bug: 1459046\n\nChange-Id: Iab89bd3649ce01e86b657e4f1104c0b50ee084bb\n""}, {'number': 3, 'created': '2015-06-18 17:04:53.000000000', 'files': ['nova/openstack/common/log.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6f39afde37049b1eb9b19db01f0a9b92810f4d65', 'message': ""Except socket.error if syslog isn't running\n\nWhen setting `use_syslog=true` and restarting the service, if syslog (or\nrsyslog) isn't running, except the error and inform the user instead\nof failing with a generic Errno 111.\n\nPartial-Bug: 1328501\n(cherry picked from commit 1188d88a73e75da5c143d0dfad34e10dad0daee0)\n\nConflicts:\n\tnova/openstack/common/log.py\n\nPartial-Bug: 1459046\nChange-Id: Iab89bd3649ce01e86b657e4f1104c0b50ee084bb\n""}]",0,193209,6f39afde37049b1eb9b19db01f0a9b92810f4d65,7,3,3,7135,,,0,"Except socket.error if syslog isn't running

When setting `use_syslog=true` and restarting the service, if syslog (or
rsyslog) isn't running, except the error and inform the user instead
of failing with a generic Errno 111.

Partial-Bug: 1328501
(cherry picked from commit 1188d88a73e75da5c143d0dfad34e10dad0daee0)

Conflicts:
	nova/openstack/common/log.py

Partial-Bug: 1459046
Change-Id: Iab89bd3649ce01e86b657e4f1104c0b50ee084bb
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/193209/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/openstack/common/log.py'],1,6bf301ee1057ae22d958156723fd2a9447efdb7a,bug/1328501,import socket if CONF.use_syslog: try: facility = _find_facility_from_conf() # TODO(bogdando) use the format provided by RFCSysLogHandler # after existing syslog format deprecation in J if CONF.use_syslog_rfc_format: syslog = RFCSysLogHandler(facility=facility) else: syslog = logging.handlers.SysLogHandler(facility=facility) log_root.addHandler(syslog) except socket.error: log_root.error('Unable to add syslog handler. Verify that syslog' 'is running.') ," if CONF.use_syslog: facility = _find_facility_from_conf() # TODO(bogdando) use the format provided by RFCSysLogHandler # after existing syslog format deprecation in J if CONF.use_syslog_rfc_format: syslog = RFCSysLogHandler(address='/dev/log', facility=facility) else: syslog = logging.handlers.SysLogHandler(address='/dev/log', facility=facility) log_root.addHandler(syslog) ",16,12
openstack%2Fnova~stable%2Ficehouse~I3e5e892ce68a15f783a7d8a1a1fd56f6a53dd0ad,openstack/nova,stable/icehouse,I3e5e892ce68a15f783a7d8a1a1fd56f6a53dd0ad,Add support for syslog connect retries,ABANDONED,2015-06-18 12:44:07.000000000,2015-07-01 18:25:28.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 7135}, {'_account_id': 9008}, {'_account_id': 16897}]","[{'number': 1, 'created': '2015-06-18 12:44:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c41787df9714a834892ccd34c367e39a221a4254', 'message': 'Add support for syslog connect retries\n\nIf we have requested logging to syslog and syslog is\nnot yet ready we shoudl allow for retry attempts. This\npatch provides a new option syslog-connect-retries to\nallow for retries with a 5 second interval between\neach retry.\n\nCloses-Bug: 1459046\n\nChange-Id: I3e5e892ce68a15f783a7d8a1a1fd56f6a53dd0ad\nCo-authored-by: Liang Chen <liang.chen@canonical.com>\n'}, {'number': 2, 'created': '2015-06-18 12:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3083e027125fb10bc540318d7c0417e673886c6f', 'message': 'Add support for syslog connect retries\n\nIf we have requested logging to syslog and syslog is\nnot yet ready we shoudl allow for retry attempts. This\npatch provides a new option syslog-connect-retries to\nallow for retries with a 5 second interval between\neach retry.\n\nCloses-Bug: 1459046\n\nCo-authored-by: Liang Chen <liang.chen@canonical.com>\n(cherry picked from commit cccf5564a1b11c6b9e64a71251c3ae3032b605ba)\n\nConflicts:\n\tnova/openstack/common/log.py\nChange-Id: I3e5e892ce68a15f783a7d8a1a1fd56f6a53dd0ad\n'}, {'number': 3, 'created': '2015-06-18 17:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c18d5093316cc0ab6490c1ecd48ad0aabba642c', 'message': 'Add support for syslog connect retries\n\nIf we have requested logging to syslog and syslog is\nnot yet ready we shoudl allow for retry attempts. This\npatch provides a new option syslog-connect-retries to\nallow for retries with a 5 second interval between\neach retry.\n\nCloses-Bug: 1459046\n\nCo-authored-by: Liang Chen <liang.chen@canonical.com>\n(cherry picked from commit cccf5564a1b11c6b9e64a71251c3ae3032b605ba)\n\nConflicts:\n\tnova/openstack/common/log.py\nChange-Id: I3e5e892ce68a15f783a7d8a1a1fd56f6a53dd0ad\n'}, {'number': 4, 'created': '2015-06-18 17:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd5fd0d151e7ae51f26ece9a64d884b633e9ed0a', 'message': 'Add support for syslog connect retries\n\nIf we have requested logging to syslog and syslog is\nnot yet ready we shoudl allow for retry attempts. This\npatch provides a new option syslog-connect-retries to\nallow for retries with a 5 second interval between\neach retry.\n\nCloses-Bug: 1459046\n\nCo-authored-by: Liang Chen <liang.chen@canonical.com>\n(cherry picked from commit cccf5564a1b11c6b9e64a71251c3ae3032b605ba)\n\nConflicts:\n\tnova/openstack/common/log.py\nChange-Id: I3e5e892ce68a15f783a7d8a1a1fd56f6a53dd0ad\n'}, {'number': 5, 'created': '2015-06-18 17:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/92dff9496c34922cac138554c1f9d7d14edb13b8', 'message': 'Add support for syslog connect retries\n\nIf we have requested logging to syslog and syslog is\nnot yet ready we shoudl allow for retry attempts. This\npatch provides a new option syslog-connect-retries to\nallow for retries with a 5 second interval between\neach retry.\n\nCloses-Bug: 1459046\n\nCo-authored-by: Liang Chen <liang.chen@canonical.com>\n(cherry picked from commit 5af7efcd2d01bf5108dee881f01c0ddd92e1ea66)\n\nConflicts:\n\tnova/openstack/common/log.py\nChange-Id: I3e5e892ce68a15f783a7d8a1a1fd56f6a53dd0ad\n'}, {'number': 6, 'created': '2015-06-18 17:59:36.000000000', 'files': ['nova/openstack/common/log.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/086f8d7536768d8a0c896f359b4b9b0fb2ee0109', 'message': 'Add support for syslog connect retries\n\nIf we have requested logging to syslog and syslog is\nnot yet ready we shoudl allow for retry attempts. This\npatch provides a new option syslog-connect-retries to\nallow for retries with a 5 second interval between\neach retry.\n\nCloses-Bug: 1459046\n\nCo-authored-by: Liang Chen <liang.chen@canonical.com>\n(cherry picked from commit b5c8d883f828ead933b41baa95dc9d8f7c648b6f)\n\nConflicts:\n\tnova/openstack/common/log.py\nChange-Id: I3e5e892ce68a15f783a7d8a1a1fd56f6a53dd0ad\n'}]",0,193105,086f8d7536768d8a0c896f359b4b9b0fb2ee0109,18,5,6,6737,,,0,"Add support for syslog connect retries

If we have requested logging to syslog and syslog is
not yet ready we shoudl allow for retry attempts. This
patch provides a new option syslog-connect-retries to
allow for retries with a 5 second interval between
each retry.

Closes-Bug: 1459046

Co-authored-by: Liang Chen <liang.chen@canonical.com>
(cherry picked from commit b5c8d883f828ead933b41baa95dc9d8f7c648b6f)

Conflicts:
	nova/openstack/common/log.py
Change-Id: I3e5e892ce68a15f783a7d8a1a1fd56f6a53dd0ad
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/193105/6 && git format-patch -1 --stdout FETCH_HEAD,['nova/openstack/common/log.py'],1,c41787df9714a834892ccd34c367e39a221a4254,bug/1459046,"import time cfg.IntOpt('syslog-connect-retries', default=3, help='Number of attempts with a five second interval to retry ' 'connecting to syslog. (is use-syslog=True)'), retries = CONF.syslog_connect_retries while True: try: facility = _find_facility_from_conf() # TODO(bogdando) use the format provided by RFCSysLogHandler # after existing syslog format deprecation in J if CONF.use_syslog_rfc_format: syslog = RFCSysLogHandler(address='/dev/log', facility=facility) else: syslog = logging.handlers.SysLogHandler(address='/dev/log', facility=facility) log_root.addHandler(syslog) except: if CONF.syslog_connect_retries <= 0: log_root.warning(_(""Connection to syslog failed and no "" ""retry attempts requested"")) break if retries: log_root.info(_(""Connection to syslog failed - "" ""retrying in 5 seconds"")) retries -= 1 else: log_root.warning(_(""Connection to syslog failed and "" ""max retry attempts reached"")) break time.sleep(5)"," facility = _find_facility_from_conf() # TODO(bogdando) use the format provided by RFCSysLogHandler # after existing syslog format deprecation in J if CONF.use_syslog_rfc_format: syslog = RFCSysLogHandler(address='/dev/log', facility=facility) else: syslog = logging.handlers.SysLogHandler(address='/dev/log', facility=facility) log_root.addHandler(syslog)",34,10
openstack%2Foslo.messaging~stable%2Ficehouse~I3d4f187eb9537164fb1f3b9b3ab31645f452e371,openstack/oslo.messaging,stable/icehouse,I3d4f187eb9537164fb1f3b9b3ab31645f452e371,Backport listener and executor changes,ABANDONED,2015-06-23 00:45:29.000000000,2015-07-01 18:24:56.000000000,,"[{'_account_id': 3}, {'_account_id': 7198}]","[{'number': 1, 'created': '2015-06-23 00:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/07781e7d9de5dcb33202e5c4ce4701fc9bfc8fb6', 'message': 'Always use a poll timeout in the executor\n\nThis change allows to stop the eventlet executor without\nusing eventlet.kill.\nAnd also, the kombu docs actually recommend that drain_events\nby default have a 1 timeout.\nBackport request of change: 137569\n\nAlso backports change: I674c0def1efb420c293897d49683593a0b10e291\n\nCloses-Bug: #1362863\n\nChange-Id: I3d4f187eb9537164fb1f3b9b3ab31645f452e371\nSigned-off-by: Jorge Niedbalski <jorge.niedbalski@canonical.com>\n'}, {'number': 2, 'created': '2015-06-23 01:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/12120a8acb12587a6c06259a770bb4358b75f939', 'message': 'Backport listener and executor changes.\n\nFixes to listener implementation be able to stop\nit cleanly and allows to stop the eventlet executor\nwithout using eventlet.kill.\n\nPartial Backport request of change: 137569\nAlso backports change: I674c0def1efb420c293897d49683593a0b10e291\n\nCloses-Bug: #1362863\n\nChange-Id: I3d4f187eb9537164fb1f3b9b3ab31645f452e371\nSigned-off-by: Jorge Niedbalski <jorge.niedbalski@canonical.com>\n'}, {'number': 3, 'created': '2015-06-23 01:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/5b805a3ccfcb95b043430a67b6191f9dc438db4c', 'message': 'Backport listener and executor changes.\n\nFixes the listener implementation to be able to stop\nit cleanly and allows to stop the eventlet executor\nwithout using eventlet.kill.\n\nPartial Backport request of change: 137569\nAlso backports change: I674c0def1efb420c293897d49683593a0b10e291\n\nCloses-Bug: #1362863\n\nChange-Id: I3d4f187eb9537164fb1f3b9b3ab31645f452e371\nSigned-off-by: Jorge Niedbalski <jorge.niedbalski@canonical.com>\n'}, {'number': 4, 'created': '2015-06-23 02:29:34.000000000', 'files': ['oslo/messaging/server.py', 'oslo/messaging/_drivers/amqpdriver.py', 'oslo/messaging/_drivers/base.py', 'oslo/messaging/_drivers/impl_rabbit.py', 'oslo/messaging/_executors/impl_blocking.py', 'oslo/messaging/_executors/impl_eventlet.py', 'tests/test_executor.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/07147195de92f97615f90361b110e8ab86b8215b', 'message': 'Backport listener and executor changes\n\nFixes the listener implementation to be able to stop\nit cleanly and allows to stop the eventlet executor\nwithout using eventlet.kill.\n\nPartial Backport request of change: 137569\nAlso backports change: I674c0def1efb420c293897d49683593a0b10e291\n\nCloses-Bug: #1362863\n\nChange-Id: I3d4f187eb9537164fb1f3b9b3ab31645f452e371\nSigned-off-by: Jorge Niedbalski <jorge.niedbalski@canonical.com>\n'}]",0,194460,07147195de92f97615f90361b110e8ab86b8215b,9,2,4,2276,,,0,"Backport listener and executor changes

Fixes the listener implementation to be able to stop
it cleanly and allows to stop the eventlet executor
without using eventlet.kill.

Partial Backport request of change: 137569
Also backports change: I674c0def1efb420c293897d49683593a0b10e291

Closes-Bug: #1362863

Change-Id: I3d4f187eb9537164fb1f3b9b3ab31645f452e371
Signed-off-by: Jorge Niedbalski <jorge.niedbalski@canonical.com>
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/60/194460/4 && git format-patch -1 --stdout FETCH_HEAD,"['oslo/messaging/_drivers/amqpdriver.py', 'oslo/messaging/_drivers/base.py', 'oslo/messaging/server.py', 'oslo/messaging/_drivers/impl_rabbit.py', 'oslo/messaging/_executors/impl_blocking.py', 'oslo/messaging/_executors/impl_eventlet.py', 'tests/test_executor.py']",7,07781e7d9de5dcb33202e5c4ce4701fc9bfc8fb6,bug/1362863," _impl = [('blocking', dict(executor=impl_blocking.BlockingExecutor)), ('eventlet', dict(executor=impl_eventlet.EventletExecutor))] if listener.poll.call_count == 1: executor.stop()"," _impl = [('blocking', dict(executor=impl_blocking.BlockingExecutor, stop_before_return=True)), ('eventlet', dict(executor=impl_eventlet.EventletExecutor, stop_before_return=False))] if self.stop_before_return: executor.stop() else: if listener.poll.call_count == 1: return incoming_message executor.stop()",80,24
openstack%2Fcinder~stable%2Ficehouse~I2e24a24c23d3100efb7e86e6cc58241188e25596,openstack/cinder,stable/icehouse,I2e24a24c23d3100efb7e86e6cc58241188e25596,Except socket.error if syslog isn't running,ABANDONED,2015-06-18 19:05:24.000000000,2015-07-01 18:22:44.000000000,,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12516}, {'_account_id': 12778}, {'_account_id': 13394}, {'_account_id': 14797}, {'_account_id': 15374}, {'_account_id': 15670}, {'_account_id': 16269}, {'_account_id': 16660}]","[{'number': 1, 'created': '2015-06-18 19:05:24.000000000', 'files': ['cinder/openstack/common/log.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d0f232c105b1113f4865868c9c506ec30525bc2b', 'message': ""Except socket.error if syslog isn't running\n\nWhen setting `use_syslog=true` and restarting the service, if syslog (or\nrsyslog) isn't running, except the error and inform the user instead\nof failing with a generic Errno 111.\n\nPartial-Bug: 1328501\n(cherry picked from commit 1188d88a73e75da5c143d0dfad34e10dad0daee0)\n\nConflicts:\n\tcinder/openstack/common/log.py\n\nChange-Id: I2e24a24c23d3100efb7e86e6cc58241188e25596\n""}]",0,193255,d0f232c105b1113f4865868c9c506ec30525bc2b,25,15,1,7135,,,0,"Except socket.error if syslog isn't running

When setting `use_syslog=true` and restarting the service, if syslog (or
rsyslog) isn't running, except the error and inform the user instead
of failing with a generic Errno 111.

Partial-Bug: 1328501
(cherry picked from commit 1188d88a73e75da5c143d0dfad34e10dad0daee0)

Conflicts:
	cinder/openstack/common/log.py

Change-Id: I2e24a24c23d3100efb7e86e6cc58241188e25596
",git fetch https://review.opendev.org/openstack/cinder refs/changes/55/193255/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/openstack/common/log.py'],1,d0f232c105b1113f4865868c9c506ec30525bc2b,bug/1459046,import socket if CONF.use_syslog: try: facility = _find_facility_from_conf() # TODO(bogdando) use the format provided by RFCSysLogHandler # after existing syslog format deprecation in J if CONF.use_syslog_rfc_format: syslog = RFCSysLogHandler(facility=facility) else: syslog = logging.handlers.SysLogHandler(facility=facility) log_root.addHandler(syslog) except socket.error: log_root.error('Unable to add syslog handler. Verify that syslog' 'is running.') ," if CONF.use_syslog: facility = _find_facility_from_conf() # TODO(bogdando) use the format provided by RFCSysLogHandler # after existing syslog format deprecation in J if CONF.use_syslog_rfc_format: syslog = RFCSysLogHandler(address='/dev/log', facility=facility) else: syslog = logging.handlers.SysLogHandler(address='/dev/log', facility=facility) log_root.addHandler(syslog) ",16,12
openstack%2Fcinder~stable%2Ficehouse~I4e84bca70eee6d6aa8d7525fe38d65ba235dd6b0,openstack/cinder,stable/icehouse,I4e84bca70eee6d6aa8d7525fe38d65ba235dd6b0,Make use_syslog=True log to syslog via /dev/log,ABANDONED,2015-06-18 19:05:24.000000000,2015-07-01 18:22:29.000000000,,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 6849}, {'_account_id': 7198}, {'_account_id': 10621}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12778}, {'_account_id': 13394}, {'_account_id': 14797}, {'_account_id': 15374}, {'_account_id': 15670}, {'_account_id': 16269}, {'_account_id': 16660}]","[{'number': 1, 'created': '2015-06-18 19:05:24.000000000', 'files': ['cinder/openstack/common/log.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8fbd3eef2507196ceeb8afb5f49b2fb9f9d419f7', 'message': ""Make use_syslog=True log to syslog via /dev/log\n\nAfter upgrade from Icehouse to Juno OpenStack services don't log to\nsyslog via /dev/log anymore. This behaviour was introduced in commit\n1188d88a73e75da5c143d0dfad34e10dad0daee0. While /dev/log is arguably\nnot a very portable default, breaking the backwards compatibility is\neven worse.\n\nThis commit restores the original behaviour. /dev/log portability\nissues will be addressed separately.\n\nCloses-Bug: #1385295\nRelated-Bug: #1391428\n\nChange-Id: I4e84bca70eee6d6aa8d7525fe38d65ba235dd6b0\n(cherry picked from commit ac4330dd674b073c4d31ef87e61710015ffe6c80)\n""}]",0,193256,8fbd3eef2507196ceeb8afb5f49b2fb9f9d419f7,15,14,1,7135,,,0,"Make use_syslog=True log to syslog via /dev/log

After upgrade from Icehouse to Juno OpenStack services don't log to
syslog via /dev/log anymore. This behaviour was introduced in commit
1188d88a73e75da5c143d0dfad34e10dad0daee0. While /dev/log is arguably
not a very portable default, breaking the backwards compatibility is
even worse.

This commit restores the original behaviour. /dev/log portability
issues will be addressed separately.

Closes-Bug: #1385295
Related-Bug: #1391428

Change-Id: I4e84bca70eee6d6aa8d7525fe38d65ba235dd6b0
(cherry picked from commit ac4330dd674b073c4d31ef87e61710015ffe6c80)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/56/193256/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/openstack/common/log.py'],1,8fbd3eef2507196ceeb8afb5f49b2fb9f9d419f7,bug/1459046," syslog = RFCSysLogHandler(address='/dev/log', facility=facility) else: syslog = logging.handlers.SysLogHandler(address='/dev/log', facility=facility)", syslog = RFCSysLogHandler(facility=facility) else: syslog = logging.handlers.SysLogHandler(facility=facility),4,2
openstack%2Fcinder~stable%2Ficehouse~I9340a4245a4b553afc0e5c01e0d32697ff37e7fc,openstack/cinder,stable/icehouse,I9340a4245a4b553afc0e5c01e0d32697ff37e7fc,Move instantiation of the Syslog handler,ABANDONED,2015-06-18 19:05:24.000000000,2015-07-01 18:22:16.000000000,,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 6794}, {'_account_id': 7198}, {'_account_id': 10621}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12778}, {'_account_id': 13394}, {'_account_id': 14797}, {'_account_id': 15374}, {'_account_id': 15670}, {'_account_id': 16269}, {'_account_id': 16660}]","[{'number': 1, 'created': '2015-06-18 19:05:24.000000000', 'files': ['cinder/openstack/common/log.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/459973185cc0314a16bdfee0d6a156586e6593bb', 'message': 'Move instantiation of the Syslog handler\n\nMove the creation of the Syslog handler before setting up the log\nformatter and the log level. The issue has been introduced when fixing\nbug #1328501.\n\nCloses-Bug: 1399088\n(cherry picked from commit 55ea9c74ea93958b447e0d540afb4264baa46bcf)\n\nConflicts:\n\tcinder/openstack/common/log.py\n\nChange-Id: I9340a4245a4b553afc0e5c01e0d32697ff37e7fc\n'}]",0,193257,459973185cc0314a16bdfee0d6a156586e6593bb,15,14,1,7135,,,0,"Move instantiation of the Syslog handler

Move the creation of the Syslog handler before setting up the log
formatter and the log level. The issue has been introduced when fixing
bug #1328501.

Closes-Bug: 1399088
(cherry picked from commit 55ea9c74ea93958b447e0d540afb4264baa46bcf)

Conflicts:
	cinder/openstack/common/log.py

Change-Id: I9340a4245a4b553afc0e5c01e0d32697ff37e7fc
",git fetch https://review.opendev.org/openstack/cinder refs/changes/57/193257/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/openstack/common/log.py'],1,459973185cc0314a16bdfee0d6a156586e6593bb,bug/1459046," if CONF.use_syslog: try: facility = _find_facility_from_conf() # TODO(bogdando) use the format provided by RFCSysLogHandler # after existing syslog format deprecation in J if CONF.use_syslog_rfc_format: syslog = RFCSysLogHandler(address='/dev/log', facility=facility) else: syslog = logging.handlers.SysLogHandler(address='/dev/log', facility=facility) log_root.addHandler(syslog) except socket.error: log_root.error('Unable to add syslog handler. Verify that syslog' 'is running.') "," if CONF.use_syslog: try: facility = _find_facility_from_conf() # TODO(bogdando) use the format provided by RFCSysLogHandler # after existing syslog format deprecation in J if CONF.use_syslog_rfc_format: syslog = RFCSysLogHandler(address='/dev/log', facility=facility) else: syslog = logging.handlers.SysLogHandler(address='/dev/log', facility=facility) log_root.addHandler(syslog) except socket.error: log_root.error('Unable to add syslog handler. Verify that syslog' 'is running.') ",16,16
openstack%2Fcinder~stable%2Ficehouse~I5f90e1821452905e4621bbbd46383c25a47887a2,openstack/cinder,stable/icehouse,I5f90e1821452905e4621bbbd46383c25a47887a2,Add support for syslog connect retries,ABANDONED,2015-06-18 19:05:24.000000000,2015-07-01 18:21:49.000000000,,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12778}, {'_account_id': 13394}, {'_account_id': 14797}, {'_account_id': 15374}, {'_account_id': 15670}, {'_account_id': 16269}, {'_account_id': 16660}]","[{'number': 1, 'created': '2015-06-18 19:05:24.000000000', 'files': ['cinder/openstack/common/log.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/59828428f85de7e414fc3e2b0a3973e1865765fd', 'message': 'Add support for syslog connect retries\n\nRetry connecting to syslog for configured times\nif nova-* services are started before syslog\nservice is ready.\n\nChange-Id: I5f90e1821452905e4621bbbd46383c25a47887a2\nCloses-Bug: 1459046\n'}]",0,193258,59828428f85de7e414fc3e2b0a3973e1865765fd,16,14,1,7135,,,0,"Add support for syslog connect retries

Retry connecting to syslog for configured times
if nova-* services are started before syslog
service is ready.

Change-Id: I5f90e1821452905e4621bbbd46383c25a47887a2
Closes-Bug: 1459046
",git fetch https://review.opendev.org/openstack/cinder refs/changes/58/193258/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/openstack/common/log.py'],1,59828428f85de7e414fc3e2b0a3973e1865765fd,bug/1459046,"import time cfg.IntOpt('syslog_conn_retry', default=3, help='Number of attempts in five second interval to retry ' 'connection to syslog.'), retry_times = CONF.syslog_conn_retry if retry_times < 0: retry_times = 0 log_root.info(_(""Treating negative syslog_conn_retry value "" ""(%(retry_times)s) as 0.""), {'retry_times': retry_times}) retry_times += 1 while retry_times > 0: try: facility = _find_facility_from_conf() # TODO(bogdando) use the format provided by RFCSysLogHandler # after existing syslog format deprecation in J if CONF.use_syslog_rfc_format: syslog = RFCSysLogHandler(address='/dev/log', facility=facility) else: syslog = logging.handlers.SysLogHandler(address='/dev/log', facility=facility) log_root.addHandler(syslog) break except socket.error: time.sleep(5) retry_times -= 1 if retry_times == 0: log_root.error('Unable to add syslog handler. Verify ' 'that syslog is running.')"," try: facility = _find_facility_from_conf() # TODO(bogdando) use the format provided by RFCSysLogHandler # after existing syslog format deprecation in J if CONF.use_syslog_rfc_format: syslog = RFCSysLogHandler(address='/dev/log', facility=facility) else: syslog = logging.handlers.SysLogHandler(address='/dev/log', facility=facility) log_root.addHandler(syslog) except socket.error: log_root.error('Unable to add syslog handler. Verify that syslog' 'is running.')",31,14
openstack%2Foslo.messaging~stable%2Ficehouse~I5991a4cf827411bc27c857561d97461212a17f40,openstack/oslo.messaging,stable/icehouse,I5991a4cf827411bc27c857561d97461212a17f40,rabbit: redeclare consumers when ack/requeue fail,ABANDONED,2015-06-25 18:09:24.000000000,2015-07-01 18:21:32.000000000,,"[{'_account_id': 3}, {'_account_id': 2813}]","[{'number': 1, 'created': '2015-06-25 18:09:24.000000000', 'files': ['oslo/messaging/_drivers/impl_rabbit.py', 'tests/test_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/4e7b8b2d912e26f5e6e01f010f81e0ff54bd7721', 'message': 'rabbit: redeclare consumers when ack/requeue fail\n\nIn case the acknowledgement or requeue of a message fail,\nthe kombu transport can be disconnected\n\nIn this case, we must redeclare our consumers.\n\nThis changes fixes that.\n\nThis have no tests because the kombu memory transport we use in our tests\ncannot be in disconnected state.\n\n(cherry picked from commit 415db68b67368d7c8aa550e7108122200816e665)\n\nConflicts are due to the oslo_messaging namespace refactor.\nConflicts:\n\toslo_messaging/_drivers/impl_rabbit.py\n\toslo_messaging/tests/drivers/test_impl_rabbit.py\n\nChange-Id: I5991a4cf827411bc27c857561d97461212a17f40\n'}]",0,195691,4e7b8b2d912e26f5e6e01f010f81e0ff54bd7721,3,2,1,8992,,,0,"rabbit: redeclare consumers when ack/requeue fail

In case the acknowledgement or requeue of a message fail,
the kombu transport can be disconnected

In this case, we must redeclare our consumers.

This changes fixes that.

This have no tests because the kombu memory transport we use in our tests
cannot be in disconnected state.

(cherry picked from commit 415db68b67368d7c8aa550e7108122200816e665)

Conflicts are due to the oslo_messaging namespace refactor.
Conflicts:
	oslo_messaging/_drivers/impl_rabbit.py
	oslo_messaging/tests/drivers/test_impl_rabbit.py

Change-Id: I5991a4cf827411bc27c857561d97461212a17f40
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/91/195691/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo/messaging/_drivers/impl_rabbit.py', 'tests/test_rabbit.py']",2,4e7b8b2d912e26f5e6e01f010f81e0ff54bd7721,bug/1448650,"import mockclass TestRabbitConsume(test_utils.BaseTestCase): def setUp(self): super(TestRabbitConsume, self).setUp() self.messaging_conf.transport_driver = 'rabbit' self.messaging_conf.in_memory = True def test_connection_ack_have_disconnected_kombu_connection(self): transport = messaging.get_transport(self.conf) self.addCleanup(transport.cleanup) conn = transport._driver._get_connection().connection channel = conn.channel with mock.patch('kombu.connection.Connection.connected', new_callable=mock.PropertyMock, return_value=False): self.assertRaises(driver_common.Timeout, conn.consume, timeout=0.01) # Ensure a new channel have been setuped self.assertNotEqual(channel, conn.channel) ",,29,0
openstack%2Fheat~stable%2Ficehouse~I63aa3425e0f882c602684ba7d59dd5bc7a749e97,openstack/heat,stable/icehouse,I63aa3425e0f882c602684ba7d59dd5bc7a749e97,WIP: Cap oslo.i18n,ABANDONED,2015-06-25 15:31:31.000000000,2015-07-01 18:21:10.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2015-06-25 15:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/705842fdd4a7ee447d2c4e70df31900bf6d0ab9b', 'message': 'Cap oslo.i18n\n\nThe release of oslo.i18n 2.0.0 removed support for the old namespace, so\nthis adds a cap to prevent using it or any subsequent releases.\n\nThe key dependency problem has to do with python-neutronclient.  The\nHeat requriement.txt specifies <2.3.11, however, the version that\nis used (2.3.10) has a requirements.txt  that specifies oslo.i18n>1.0.0\nwith no cap.\n\nUnfortunately, we cannot simply use the value from stable/icehouse g-r,\noslo.i18n>=0.1.0,<1.1, because this then causes python-novaclient to\nfail because the version picked up requires oslo.i18n>=1.3.0\nbecause it has coverted to using the new namespace.\n\nChange-Id: I63aa3425e0f882c602684ba7d59dd5bc7a749e97\n'}, {'number': 2, 'created': '2015-06-25 15:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0fdc916c9d5f592ac76a290148ef3fb3e65804a0', 'message': 'Cap oslo.i18n\n\nThe release of oslo.i18n 2.0.0 removed support for the old namespace, so\nthis adds a cap to prevent using it or any subsequent releases.\n\nThe key dependency problem has to do with python-neutronclient.  The\nHeat requrement.txt specifies <2.3.11, however, the version that\nis used (2.3.10) has a requirements.txt that specifies oslo.i18n>1.0.0\nwith no cap.\n\nUnfortunately, we cannot simply use the value from stable/icehouse g-r,\noslo.i18n>=0.1.0,<1.1, because this then causes python-novaclient to\nfail because the version picked up requires oslo.i18n>=1.3.0.  It has\ncoverted to using the new namespace.\n\nChange-Id: I63aa3425e0f882c602684ba7d59dd5bc7a749e97\n'}, {'number': 3, 'created': '2015-06-25 15:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0394cf0bd4bea2859c5bce32342358c4043f75a8', 'message': 'Cap oslo.i18n\n\nThe release of oslo.i18n 2.0.0 removed support for the old namespace, so\nthis adds a cap to prevent using it or any subsequent releases.\n\nThe key dependency problem has to do with python-neutronclient.  The\nHeat requirements.txt specifies <2.3.11, however, the version that\nis used (2.3.10) has a requirements.txt that specifies oslo.i18n>1.0.0\nwith no cap.\n\nUnfortunately, we cannot simply use the value from stable/icehouse g-r,\noslo.i18n>=0.1.0,<1.1, because this then causes python-novaclient to\nfail because the version picked up requires oslo.i18n>=1.3.0.  It has\ncoverted to using the new namespace.\n\nChange-Id: I63aa3425e0f882c602684ba7d59dd5bc7a749e97\n'}, {'number': 4, 'created': '2015-06-25 18:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c76006f5f53bcb5186fcb03ec7fdb9dd7418ca56', 'message': 'WIP: Cap oslo.i18n\n\nThe release of oslo.i18n 2.0.0 removed support for the old namespace, so\nthis adds a cap to prevent using it or any subsequent releases.\n\nThe key dependency problem has to do with python-neutronclient.  The\nHeat requirements.txt specifies <2.3.11, however, the version that\nis used (2.3.10) has a requirements.txt that specifies oslo.i18n>1.0.0\nwith no cap.\n\nUnfortunately, we cannot simply use the value from stable/icehouse g-r,\noslo.i18n>=0.1.0,<1.1, because this then causes python-novaclient to\nfail because the version picked up requires oslo.i18n>=1.3.0.  It has\ncoverted to using the new namespace.\n\nChange-Id: I63aa3425e0f882c602684ba7d59dd5bc7a749e97\n'}, {'number': 5, 'created': '2015-06-26 20:41:12.000000000', 'files': ['requirements.txt', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/heat/commit/3d2638ff82153a8712869d508d260abdfe18cb40', 'message': 'WIP: Cap oslo.i18n\n\nThe release of oslo.i18n 2.0.0 removed support for the old namespace, so\nthis adds a cap to prevent using it or any subsequent releases.\n\nThe key dependency problem has to do with python-neutronclient.  The\nHeat requirements.txt specifies <2.3.11, however, the version that\nis used (2.3.10) has a requirements.txt that specifies oslo.i18n>1.0.0\nwith no cap.\n\n>>> Backed off of this to g-r <1.1\nUnfortunately, we cannot simply use the value from stable/icehouse g-r,\noslo.i18n>=0.1.0,<1.1, because this then causes python-novaclient to\nfail because the version picked up requires oslo.i18n>=1.3.0.  It has\ncoverted to using the new namespace.\n\n>>> Now hitting pbr error related to version, so removing version to\nallow it to use tags\n\nChange-Id: I63aa3425e0f882c602684ba7d59dd5bc7a749e97\n'}]",0,195635,3d2638ff82153a8712869d508d260abdfe18cb40,13,1,5,6601,,,0,"WIP: Cap oslo.i18n

The release of oslo.i18n 2.0.0 removed support for the old namespace, so
this adds a cap to prevent using it or any subsequent releases.

The key dependency problem has to do with python-neutronclient.  The
Heat requirements.txt specifies <2.3.11, however, the version that
is used (2.3.10) has a requirements.txt that specifies oslo.i18n>1.0.0
with no cap.

>>> Backed off of this to g-r <1.1
Unfortunately, we cannot simply use the value from stable/icehouse g-r,
oslo.i18n>=0.1.0,<1.1, because this then causes python-novaclient to
fail because the version picked up requires oslo.i18n>=1.3.0.  It has
coverted to using the new namespace.

>>> Now hitting pbr error related to version, so removing version to
allow it to use tags

Change-Id: I63aa3425e0f882c602684ba7d59dd5bc7a749e97
",git fetch https://review.opendev.org/openstack/heat refs/changes/35/195635/3 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,705842fdd4a7ee447d2c4e70df31900bf6d0ab9b,stable/icehouse,"oslo.i18n>=0.1.0,<2.0.0 # Apache-2.0",,1,0
openstack%2Foslo.messaging~stable%2Ficehouse~I6192cc3106f61ef36515ecaf7d5b6d13e42dc8b2,openstack/oslo.messaging,stable/icehouse,I6192cc3106f61ef36515ecaf7d5b6d13e42dc8b2,Updated from global requirements,ABANDONED,2015-06-15 10:12:48.000000000,2015-07-01 18:20:44.000000000,,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-06-15 10:12:48.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/678d5f5c3dc8d55f30cbb2342baf57c1a0c56fb5', 'message': 'Updated from global requirements\n\nChange-Id: I6192cc3106f61ef36515ecaf7d5b6d13e42dc8b2\n'}]",0,191728,678d5f5c3dc8d55f30cbb2342baf57c1a0c56fb5,7,2,1,11131,,,0,"Updated from global requirements

Change-Id: I6192cc3106f61ef36515ecaf7d5b6d13e42dc8b2
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/28/191728/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,678d5f5c3dc8d55f30cbb2342baf57c1a0c56fb5,openstack/requirements,stevedore>=0.14,"stevedore>=0.14,<1.2",1,1
openstack%2Fneutron~master~Ia568aa1645b3160ab90a6010efd9a2b9b0d31ac8,openstack/neutron,master,Ia568aa1645b3160ab90a6010efd9a2b9b0d31ac8,Fix subnet updating failure on valid allocation pools,MERGED,2015-06-29 01:04:33.000000000,2015-07-01 18:12:04.000000000,2015-07-01 18:12:02.000000000,"[{'_account_id': 3}, {'_account_id': 4149}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 6951}, {'_account_id': 7448}, {'_account_id': 7634}, {'_account_id': 7715}, {'_account_id': 8344}, {'_account_id': 8976}, {'_account_id': 9200}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10068}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10868}, {'_account_id': 13768}, {'_account_id': 14323}, {'_account_id': 14571}]","[{'number': 1, 'created': '2015-06-29 01:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bdd8bdd1d2adbaad1c559506bb740a4e8763dc89', 'message': 'Fix subnet updating failure on valid allocation pools\n\nCurrently subnet updating with both allocation-pool and\ngateway_ip options is failing if parameter of the gateway_ip\nconflicts with allocation pools in db even if the parameter\nof gateway_ip not conflicts with parameters of the\nallocation-pool. The fix checks if given parameter of gateway_ip\noption not conflicts with given parameters of allocation-pool\n\nChange-Id: Ia568aa1645b3160ab90a6010efd9a2b9b0d31ac8\nCloses-Bug: #1469573\n'}, {'number': 2, 'created': '2015-06-29 04:14:26.000000000', 'files': ['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/db_base_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6d35f5fa91faf24694cf22bf9290f4743175b051', 'message': ""Fix subnet updating failure on valid allocation pools\n\nCurrently subnet updating with both allocation-pool and\ngateway_ip options is failing because of wrong parameter check.\nThe check always checks gateway_ip against allocation pools in\ndb, even when the allocation_pool parameter is given.The fix\nchecks if given parameter of gateway_ip option doesn't conflict\nwith given parameters of allocation-pool.\n\nChange-Id: Ia568aa1645b3160ab90a6010efd9a2b9b0d31ac8\nCloses-Bug: #1469573\n""}]",6,196487,6d35f5fa91faf24694cf22bf9290f4743175b051,60,25,2,10868,,,0,"Fix subnet updating failure on valid allocation pools

Currently subnet updating with both allocation-pool and
gateway_ip options is failing because of wrong parameter check.
The check always checks gateway_ip against allocation pools in
db, even when the allocation_pool parameter is given.The fix
checks if given parameter of gateway_ip option doesn't conflict
with given parameters of allocation-pool.

Change-Id: Ia568aa1645b3160ab90a6010efd9a2b9b0d31ac8
Closes-Bug: #1469573
",git fetch https://review.opendev.org/openstack/neutron refs/changes/87/196487/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/db_base_plugin_v2.py']",2,bdd8bdd1d2adbaad1c559506bb740a4e8763dc89,bug/1469573," if s.get('allocation_pools') is not None: allocation_pools = [{'start': p['start'], 'end': p['end']} for p in s['allocation_pools']] else: allocation_pools = [{'start': p['first_ip'], 'end': p['last_ip']} for p in db_subnet.allocation_pools]"," allocation_pools = [{'start': p['first_ip'], 'end': p['last_ip']} for p in db_subnet.allocation_pools]",19,3
openstack%2Fdevstack~master~Ic51411d5bd9b18d395dbdf948c58fea2d53eba0d,openstack/devstack,master,Ic51411d5bd9b18d395dbdf948c58fea2d53eba0d,Fix typo in installation of vmware virtdriver,MERGED,2015-06-27 14:08:10.000000000,2015-07-01 18:11:54.000000000,2015-07-01 18:11:51.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 4656}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-06-27 14:08:10.000000000', 'files': ['lib/ceilometer'], 'web_link': 'https://opendev.org/openstack/devstack/commit/53a8f7c7bc1864a0e63643ebf90e7c66bf3cdeb7', 'message': 'Fix typo in installation of vmware virtdriver\n\nThe probably got introduced in recent adjustments to cleanup the\nvirt driver installs.\n\nChange-Id: Ic51411d5bd9b18d395dbdf948c58fea2d53eba0d\n'}]",0,196379,53a8f7c7bc1864a0e63643ebf90e7c66bf3cdeb7,8,4,1,11564,,,0,"Fix typo in installation of vmware virtdriver

The probably got introduced in recent adjustments to cleanup the
virt driver installs.

Change-Id: Ic51411d5bd9b18d395dbdf948c58fea2d53eba0d
",git fetch https://review.opendev.org/openstack/devstack refs/changes/79/196379/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/ceilometer'],1,53a8f7c7bc1864a0e63643ebf90e7c66bf3cdeb7,cd/fix-install-vmware-typo, pip_install_gr oslo.vmware, pip_instal_gr oslo.vmware,1,1
openstack%2Fsahara~master~Id0fb2bb655fbef6a3559b30ebf67fdf95c507790,openstack/sahara,master,Id0fb2bb655fbef6a3559b30ebf67fdf95c507790,Updated from global requirements,MERGED,2015-07-01 14:20:24.000000000,2015-07-01 18:03:06.000000000,2015-07-01 18:03:05.000000000,"[{'_account_id': 3}, {'_account_id': 6786}]","[{'number': 1, 'created': '2015-07-01 14:20:24.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/sahara/commit/2e8641cab7bc7ad7c2dd53f6799d3a7128ad5ec5', 'message': 'Updated from global requirements\n\nChange-Id: Id0fb2bb655fbef6a3559b30ebf67fdf95c507790\n'}]",0,197605,2e8641cab7bc7ad7c2dd53f6799d3a7128ad5ec5,7,2,1,11131,,,0,"Updated from global requirements

Change-Id: Id0fb2bb655fbef6a3559b30ebf67fdf95c507790
",git fetch https://review.opendev.org/openstack/sahara refs/changes/05/197605/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,2e8641cab7bc7ad7c2dd53f6799d3a7128ad5ec5,openstack/requirements,oslo.db>=1.12.0 # Apache-2.0,oslo.db>=1.10.0 # Apache-2.0,1,1
openstack%2Frequirements~master~I502d35db510e496542b4e65d33b53c746455f815,openstack/requirements,master,I502d35db510e496542b4e65d33b53c746455f815,Updated from global requirements,MERGED,2015-06-29 03:10:37.000000000,2015-07-01 18:03:03.000000000,2015-07-01 18:03:02.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 4190}, {'_account_id': 5263}, {'_account_id': 6786}, {'_account_id': 8871}, {'_account_id': 9453}, {'_account_id': 16272}]","[{'number': 1, 'created': '2015-06-29 03:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/19cd9a7f5e324fbb2471619752b7c2d29427fb1a', 'message': 'Updated from global requirements\n\nChange-Id: I502d35db510e496542b4e65d33b53c746455f815\n'}, {'number': 2, 'created': '2015-06-29 05:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/15dc679466cf532fa816f0945063276bbebbc142', 'message': 'Updated from global requirements\n\nChange-Id: I502d35db510e496542b4e65d33b53c746455f815\n'}, {'number': 3, 'created': '2015-06-29 20:34:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/0598c062e6b85da82722e8b76fc84a38bdfe7138', 'message': 'Updated from global requirements\n\nChange-Id: I502d35db510e496542b4e65d33b53c746455f815\n'}, {'number': 4, 'created': '2015-06-29 22:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/96061d74ba1af6f9cffcd3f7b83825f417c95928', 'message': 'Updated from global requirements\n\nChange-Id: I502d35db510e496542b4e65d33b53c746455f815\n'}, {'number': 5, 'created': '2015-06-30 20:03:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/1317dd3bb3ba9f5a29878a4638f0717cd43b5294', 'message': 'Updated from global requirements\n\nChange-Id: I502d35db510e496542b4e65d33b53c746455f815\n'}, {'number': 6, 'created': '2015-06-30 22:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/dc18705811898984e09f74b5105c034b87be7359', 'message': 'Updated from global requirements\n\nChange-Id: I502d35db510e496542b4e65d33b53c746455f815\n'}, {'number': 7, 'created': '2015-07-01 10:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/e510d8e4ee45ef610084c1e418ad54f9302c3407', 'message': 'Updated from global requirements\n\nChange-Id: I502d35db510e496542b4e65d33b53c746455f815\n'}, {'number': 8, 'created': '2015-07-01 12:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/dee79812875a1c195b29589ca9abbec981461327', 'message': 'Updated from global requirements\n\nChange-Id: I502d35db510e496542b4e65d33b53c746455f815\n'}, {'number': 9, 'created': '2015-07-01 12:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3aa5bc67d302d967a15c94c86382632a03e722fc', 'message': 'Updated from global requirements\n\nChange-Id: I502d35db510e496542b4e65d33b53c746455f815\n'}, {'number': 10, 'created': '2015-07-01 14:09:07.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ab2e96f50954e66f97ec76dc3e19321fabd87b5c', 'message': 'Updated from global requirements\n\nChange-Id: I502d35db510e496542b4e65d33b53c746455f815\n'}]",0,196504,ab2e96f50954e66f97ec76dc3e19321fabd87b5c,32,8,10,11131,,,0,"Updated from global requirements

Change-Id: I502d35db510e496542b4e65d33b53c746455f815
",git fetch https://review.opendev.org/openstack/requirements refs/changes/04/196504/10 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,19cd9a7f5e324fbb2471619752b7c2d29427fb1a,openstack/requirements,packaging>=15.2,packaging,1,1
openstack%2Fproject-config~master~Id0d271670e097ebefd75894c108e327194c66a9e,openstack/project-config,master,Id0d271670e097ebefd75894c108e327194c66a9e,Make Sahara python3 job voting,MERGED,2015-07-01 10:02:12.000000000,2015-07-01 17:52:09.000000000,2015-07-01 17:52:08.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 6786}, {'_account_id': 7710}]","[{'number': 1, 'created': '2015-07-01 10:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/3b33bf2f8691c29b063e15116c48f4b43d7bbe97', 'message': 'Make Sahara python3 job voting\n\nChange-Id: Id0d271670e097ebefd75894c108e327194c66a9e\n'}, {'number': 2, 'created': '2015-07-01 16:20:54.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0c7d350b1a67bfea92086ecbd78094d3d5ccb357', 'message': 'Make Sahara python3 job voting\n\nChange-Id: Id0d271670e097ebefd75894c108e327194c66a9e\n'}]",0,197498,0c7d350b1a67bfea92086ecbd78094d3d5ccb357,12,4,2,7710,,,0,"Make Sahara python3 job voting

Change-Id: Id0d271670e097ebefd75894c108e327194c66a9e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/98/197498/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,3b33bf2f8691c29b063e15116c48f4b43d7bbe97,add-py3-experimental,, voting: false,0,1
openstack%2Fopenstack-manuals~master~I08937751eb4c9785654d1d731964b1e05dd62916,openstack/openstack-manuals,master,I08937751eb4c9785654d1d731964b1e05dd62916,make unsupported ws scheme in python < 2.7.4,MERGED,2015-07-01 09:44:20.000000000,2015-07-01 17:51:57.000000000,2015-07-01 17:51:56.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 6804}, {'_account_id': 9382}, {'_account_id': 13747}]","[{'number': 1, 'created': '2015-07-01 09:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/ac215f628c89ffa19a0fd5b9f6444389f0faffdb', 'message': ""make unsupported ws scheme in python < 2.7.4\n\nconsole: make unsupported ws scheme in python < 2.7.4\n\nDue to a bug in python < 2.7.4, urlparse won't parse a query string\nin a URL where the scheme is not recognized:\n\nhttp://bugs.python.org/issue9374\n\nsee https://review.openstack.org/125398 for more.\n\nChange-Id: I08937751eb4c9785654d1d731964b1e05dd62916\nCloses-Bug: #1378916\n""}, {'number': 2, 'created': '2015-07-01 09:45:15.000000000', 'files': ['doc/common/section_compute-configure-vnc.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/ce895f2a3280bfa3fd4cd046c6ced161b4f09e04', 'message': ""make unsupported ws scheme in python < 2.7.4\n\nconsole: make unsupported ws scheme in python < 2.7.4\n\nDue to a bug in python < 2.7.4, urlparse won't parse a query string\nin a URL where the scheme is not recognized:\n\nhttp://bugs.python.org/issue9374\n\nsee https://review.openstack.org/125398 for more.\n\nChange-Id: I08937751eb4c9785654d1d731964b1e05dd62916\nCloses-Bug: #1378916\n""}]",0,197491,ce895f2a3280bfa3fd4cd046c6ced161b4f09e04,10,5,2,17080,,,0,"make unsupported ws scheme in python < 2.7.4

console: make unsupported ws scheme in python < 2.7.4

Due to a bug in python < 2.7.4, urlparse won't parse a query string
in a URL where the scheme is not recognized:

http://bugs.python.org/issue9374

see https://review.openstack.org/125398 for more.

Change-Id: I08937751eb4c9785654d1d731964b1e05dd62916
Closes-Bug: #1378916
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/91/197491/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/common/section_compute-configure-vnc.xml'],1,ac215f628c89ffa19a0fd5b9f6444389f0faffdb,125398, <note><para> The web proxy console URLs do not support the websocket protocol scheme (ws://) on python versions less than 2.7.4. </para></note>,,4,0
openstack%2Foslo.context~master~Iaa35e2ec6365d08a5c5272e19a836b40dc7c792c,openstack/oslo.context,master,Iaa35e2ec6365d08a5c5272e19a836b40dc7c792c,Add tox target to find missing requirements,MERGED,2015-06-26 02:24:50.000000000,2015-07-01 17:51:53.000000000,2015-07-01 17:51:51.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-06-26 02:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/a143d4fc9ab3d94a5ef9836f9ccb0dc0be7bd415', 'message': 'Add tox target to find missing requirements\n\nChange-Id: Iaa35e2ec6365d08a5c5272e19a836b40dc7c792c\n'}, {'number': 2, 'created': '2015-06-26 11:20:38.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/480c910d44547dcbf5b5c5fc363702bf04918811', 'message': 'Add tox target to find missing requirements\n\nChange-Id: Iaa35e2ec6365d08a5c5272e19a836b40dc7c792c\n'}]",0,195848,480c910d44547dcbf5b5c5fc363702bf04918811,14,3,2,5638,,,0,"Add tox target to find missing requirements

Change-Id: Iaa35e2ec6365d08a5c5272e19a836b40dc7c792c
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/48/195848/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a143d4fc9ab3d94a5ef9836f9ccb0dc0be7bd415,pip-missing-reqs," [testenv:pip-missing-reqs] # do not install test-requirements as that will pollute the virtualenv for # determining missing packages # this also means that pip-missing-reqs must be installed separately, outside # of the requirements.txt files deps = pip_missing_reqs -rrequirements.txt commands = pip-missing-reqs -d --ignore-module=oslo_context* --ignore-file=oslo_context/tests/* --ignore-file=tests/ oslo_context",,9,0
openstack%2Fproject-config~master~I7a907464e5b1dc211c7e4c4c2f3e6375b7a6085d,openstack/project-config,master,I7a907464e5b1dc211c7e4c4c2f3e6375b7a6085d,Fix universal extraction in non-universal wheel,MERGED,2015-07-01 16:37:25.000000000,2015-07-01 17:44:29.000000000,2015-07-01 17:44:29.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 6623}, {'_account_id': 6786}]","[{'number': 1, 'created': '2015-07-01 16:37:25.000000000', 'files': ['jenkins/scripts/pypi-extract-universal.py'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f21796d28ebf9328b68c6321d691b221457bafa6', 'message': 'Fix universal extraction in non-universal wheel\n\nThe pypi-extract-universal.py would raise ConfigParser.NoOptionError\nwhen inspecting a setup.cfg with a wheel section but no universal\noption. Guard against this by actually testing whether the option is\nthere rather than merely whether the section exists.\n\nChange-Id: I7a907464e5b1dc211c7e4c4c2f3e6375b7a6085d\n'}]",3,197654,f21796d28ebf9328b68c6321d691b221457bafa6,12,6,1,5263,,,0,"Fix universal extraction in non-universal wheel

The pypi-extract-universal.py would raise ConfigParser.NoOptionError
when inspecting a setup.cfg with a wheel section but no universal
option. Guard against this by actually testing whether the option is
there rather than merely whether the section exists.

Change-Id: I7a907464e5b1dc211c7e4c4c2f3e6375b7a6085d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/54/197654/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/scripts/pypi-extract-universal.py'],1,f21796d28ebf9328b68c6321d691b221457bafa6,extract-universal,"if setup_cfg.has_option(""wheel"", ""universal""):","if setup_cfg.has_section(""wheel""):",1,1
openstack%2Ffuel-library~master~I94556e3a8765b3b5b337c68df6cf0ca848ee1645,openstack/fuel-library,master,I94556e3a8765b3b5b337c68df6cf0ca848ee1645,Secure dns and ntp,MERGED,2015-06-17 13:57:59.000000000,2015-07-01 17:43:35.000000000,2015-06-18 08:12:24.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 11090}, {'_account_id': 11827}, {'_account_id': 13343}, {'_account_id': 13948}, {'_account_id': 14774}, {'_account_id': 14985}]","[{'number': 1, 'created': '2015-06-17 13:57:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/d27952750e50c458dbd2a5d91637a17271abeddf', 'message': 'Secure dns and ntp\n\nSet dnsmasq and ntpd to listen on\nmanagement VIP in vrouter namespace\n\nChange-Id: I94556e3a8765b3b5b337c68df6cf0ca848ee1645\nCloses-Bug: 1466090\n'}, {'number': 2, 'created': '2015-06-17 14:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/cc381a231da075d6f5dbb5bc47888e53d935928a', 'message': 'Secure dns and ntp\n\nSet dnsmasq and ntpd to listen on\nmanagement VIP in vrouter namespace\n\nChange-Id: I94556e3a8765b3b5b337c68df6cf0ca848ee1645\nCloses-Bug: 1466090\n'}, {'number': 3, 'created': '2015-06-17 14:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/818a6aab927596370fa8badf218629a15aaae8fa', 'message': 'Secure dns and ntp\n\nSet dnsmasq and ntpd to listen on\nmanagement VIP in vrouter namespace\n\nChange-Id: I94556e3a8765b3b5b337c68df6cf0ca848ee1645\nCloses-Bug: 1466090\n'}, {'number': 4, 'created': '2015-06-17 14:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/f30c91225b72def960f38df7d6ddaa89edfaf9b6', 'message': 'Secure dns and ntp\n\nSet dnsmasq and ntpd to listen on\nmanagement VIP in vrouter namespace\n\nChange-Id: I94556e3a8765b3b5b337c68df6cf0ca848ee1645\nCloses-Bug: 1466090\n'}, {'number': 5, 'created': '2015-06-17 15:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/573285f3b4b550299f1044e0f3d641f2185a92a8', 'message': 'Secure dns and ntp\n\nSet dnsmasq and ntpd to listen on\nmanagement VIP in vrouter namespace\n\nChange-Id: I94556e3a8765b3b5b337c68df6cf0ca848ee1645\nCloses-Bug: 1466090\n'}, {'number': 6, 'created': '2015-06-17 19:44:47.000000000', 'files': ['deployment/puppet/osnailyfacter/modular/ntp/ntp-client.pp', 'deployment/puppet/osnailyfacter/templates/dnsmasq.conf.erb', 'deployment/puppet/osnailyfacter/modular/dns/dns-server.pp', 'files/fuel-ha-utils/ocf/ns_ntp', 'deployment/puppet/osnailyfacter/modular/ntp/ntp-server.pp', 'deployment/puppet/osnailyfacter/manifests/dnsmasq.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/8d8b45e1982383af0d5b5a8438c35e6d2a9d85fc', 'message': 'Secure dns and ntp\n\nSet dnsmasq and ntpd to listen on\nmanagement VIP in vrouter namespace\n\nChange-Id: I94556e3a8765b3b5b337c68df6cf0ca848ee1645\nCloses-Bug: 1466090\n'}]",5,192680,8d8b45e1982383af0d5b5a8438c35e6d2a9d85fc,99,11,6,13344,,,0,"Secure dns and ntp

Set dnsmasq and ntpd to listen on
management VIP in vrouter namespace

Change-Id: I94556e3a8765b3b5b337c68df6cf0ca848ee1645
Closes-Bug: 1466090
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/80/192680/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/osnailyfacter/modular/ntp/ntp-client.pp', 'deployment/puppet/cluster/files/ocf/ns_ntp', 'deployment/puppet/osnailyfacter/templates/dnsmasq.conf.erb', 'deployment/puppet/osnailyfacter/modular/ntp/ntp-server.pp', 'deployment/puppet/osnailyfacter/manifests/dnsmasq.pp']",5,d27952750e50c458dbd2a5d91637a17271abeddf,bug/1466090,"# [*$management_vrouter_vip*] # # IP address of management interface in vrouter namespace ## external_dns => [ 'pool.ntp.org', 'ntp.local.company.com' ], # master_ip => '1.1.1.1', # management_vrouter_vip => '1.2.3.4' $master_ip, $management_vrouter_vip,","# external_dns => [ 'pool.ntp.org', 'ntp.local.company.com' ], # master_ip => '1.1.1.1' $master_ip",20,9
openstack%2Fdesignate~master~Ic031be891c03c0a37385387c86edef649df0cd33,openstack/designate,master,Ic031be891c03c0a37385387c86edef649df0cd33,Remove 'L' from long int,MERGED,2015-07-01 02:17:23.000000000,2015-07-01 17:42:43.000000000,2015-07-01 17:42:41.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8099}, {'_account_id': 16277}]","[{'number': 1, 'created': '2015-07-01 02:17:23.000000000', 'files': ['designate/dnsutils.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/7afd652f72fa9328375ec0fbe8daa1d5b044640c', 'message': ""Remove 'L' from long int\n\nPartially-Implements: blueprint designate-py3\n\nChange-Id: Ic031be891c03c0a37385387c86edef649df0cd33\n""}]",0,197397,7afd652f72fa9328375ec0fbe8daa1d5b044640c,20,4,1,16277,,,0,"Remove 'L' from long int

Partially-Implements: blueprint designate-py3

Change-Id: Ic031be891c03c0a37385387c86edef649df0cd33
",git fetch https://review.opendev.org/openstack/designate refs/changes/97/197397/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/dnsutils.py'],1,7afd652f72fa9328375ec0fbe8daa1d5b044640c,bp/designate-py3, if rdataset.ttl != 0:, if rdataset.ttl != 0L:,1,1
openstack%2Fxstatic-magic-search~master~Ib9fb79b08f3f320c91fece58f6547e47ed22d75d,openstack/xstatic-magic-search,master,Ib9fb79b08f3f320c91fece58f6547e47ed22d75d,Fix file permissions for XStatic Magic Search,MERGED,2015-06-24 18:55:14.000000000,2015-07-01 17:29:49.000000000,2015-07-01 17:29:49.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 9576}]","[{'number': 1, 'created': '2015-06-24 18:55:14.000000000', 'files': ['xstatic/pkg/magic_search/__init__.py', 'README.txt', 'xstatic/__init__.py', 'xstatic/pkg/magic_search/data/magic_search.js', 'setup.py', 'xstatic/pkg/magic_search/data/magic_search.html', 'xstatic/pkg/__init__.py', 'MANIFEST.in'], 'web_link': 'https://opendev.org/openstack/xstatic-magic-search/commit/1741baf4a0c29d29be8ebd91e2f9d0b18a0db363', 'message': 'Fix file permissions for XStatic Magic Search\n\nChange-Id: Ib9fb79b08f3f320c91fece58f6547e47ed22d75d\nCloses-Bug: #1468475\n'}]",0,195266,1741baf4a0c29d29be8ebd91e2f9d0b18a0db363,7,3,1,11881,,,0,"Fix file permissions for XStatic Magic Search

Change-Id: Ib9fb79b08f3f320c91fece58f6547e47ed22d75d
Closes-Bug: #1468475
",git fetch https://review.opendev.org/openstack/xstatic-magic-search refs/changes/66/195266/1 && git format-patch -1 --stdout FETCH_HEAD,"['xstatic/pkg/magic_search/__init__.py', 'README.txt', 'xstatic/__init__.py', 'xstatic/pkg/magic_search/data/magic_search.js', 'setup.py', 'xstatic/pkg/magic_search/data/magic_search.html', 'xstatic/pkg/__init__.py', 'MANIFEST.in']",8,1741baf4a0c29d29be8ebd91e2f9d0b18a0db363,fixFilePermissions,,,0,0
openstack%2Ffuel-web~master~I41bde30f7348828d725c3b031efe3819c2a82422,openstack/fuel-web,master,I41bde30f7348828d725c3b031efe3819c2a82422,[WIP] Add ceph network roles so they can be changed later,ABANDONED,2015-06-22 23:23:28.000000000,2015-07-01 17:25:21.000000000,,"[{'_account_id': 3}, {'_account_id': 8971}]","[{'number': 1, 'created': '2015-06-22 23:23:28.000000000', 'files': ['nailgun/nailgun/orchestrator/deployment_serializers.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/179aebe387dc81a174f6f98ed212698be0771d45', 'message': '[WIP] Add ceph network roles so they can be changed later\n\nIn order to support being able to change the network roles, we need to\nthat the default values are first available to be serialized.\n\nThis is a WIP commit and better inclusion will occur later\n\nChange-Id: I41bde30f7348828d725c3b031efe3819c2a82422\nCloses-bug: #1467700\n'}]",0,194434,179aebe387dc81a174f6f98ed212698be0771d45,7,2,1,8797,,,0,"[WIP] Add ceph network roles so they can be changed later

In order to support being able to change the network roles, we need to
that the default values are first available to be serialized.

This is a WIP commit and better inclusion will occur later

Change-Id: I41bde30f7348828d725c3b031efe3819c2a82422
Closes-bug: #1467700
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/34/194434/1 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/nailgun/orchestrator/deployment_serializers.py'],1,179aebe387dc81a174f6f98ed212698be0771d45,bug/1467700," # Fix me later, but hard code for now 'ceph/replication': 'br-storage', 'ceph/public': 'br-mgmt', 'ceph/radosgw': 'br-ex',",,5,0
openstack%2Foslo.messaging~master~Ie81a2630cb5d593729b18569cc82b83e9817f6ab,openstack/oslo.messaging,master,Ie81a2630cb5d593729b18569cc82b83e9817f6ab,Remove qpid-config call,MERGED,2015-06-23 15:56:53.000000000,2015-07-01 17:19:41.000000000,2015-07-01 17:19:39.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6159}, {'_account_id': 8770}]","[{'number': 1, 'created': '2015-06-23 15:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/19b3d17d781c360b684484280b68e5ec8c9dce7e', 'message': ""Remove qpid-config call\n\nThere's no need to install qpid-tools and run qpid-config for this case.\nThe check on the process output should be enough. This also removes\nqpid-tools as a dependency for the qpid jobs.\n\nChange-Id: Ie81a2630cb5d593729b18569cc82b83e9817f6ab\n""}, {'number': 2, 'created': '2015-06-23 21:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/b0d053e224963bf2e5fa9cc2dc695b55571f6378', 'message': ""Remove qpid-config call\n\nThere's no need to install qpid-tools and run qpid-config for this case.\nThe check on the process output should be enough. This also removes\nqpid-tools as a dependency for the qpid jobs.\n\nChange-Id: Ie81a2630cb5d593729b18569cc82b83e9817f6ab\n""}, {'number': 3, 'created': '2015-06-24 08:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/41d22eb555356794c0e8b9400c17305d0a736cca', 'message': ""Remove qpid-config call\n\nThere's no need to install qpid-tools and run qpid-config for this case.\nThe check on the process output should be enough. This also removes\nqpid-tools as a dependency for the qpid jobs.\n\nChange-Id: Ie81a2630cb5d593729b18569cc82b83e9817f6ab\n""}, {'number': 4, 'created': '2015-06-24 10:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/ca03b5c4a477babd8d199eb5ad5c9df510a8db41', 'message': ""Remove qpid-config call\n\nThere's no need to install qpid-tools and run qpid-config for this case.\nThe check on the process output should be enough. This also removes\nqpid-tools as a dependency for the qpid jobs.\n\nChange-Id: Ie81a2630cb5d593729b18569cc82b83e9817f6ab\n""}, {'number': 5, 'created': '2015-06-24 10:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/f554e49c28dbf1915727326b9a2af2a7793a3680', 'message': ""Remove qpid-config call\n\nThere's no need to install qpid-tools and run qpid-config for this case.\nThe check on the process output should be enough. This also removes\nqpid-tools as a dependency for the qpid jobs.\n\nChange-Id: Ie81a2630cb5d593729b18569cc82b83e9817f6ab\n""}, {'number': 6, 'created': '2015-06-26 08:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/e49f17e7fb625302a7f67ff6eb7fd24b59316003', 'message': ""Remove qpid-config call\n\nThere's no need to install qpid-tools and run qpid-config for this case.\nThe check on the process output should be enough. This also removes\nqpid-tools as a dependency for the qpid jobs.\n\nChange-Id: Ie81a2630cb5d593729b18569cc82b83e9817f6ab\n""}, {'number': 7, 'created': '2015-06-30 07:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/aa70d0d0c59a57b0a06306d7f21b88455d8994b9', 'message': ""Remove qpid-config call\n\nThere's no need to install qpid-tools and run qpid-config for this case.\nThe check on the process output should be enough. This also removes\nqpid-tools as a dependency for the qpid jobs.\n\nChange-Id: Ie81a2630cb5d593729b18569cc82b83e9817f6ab\n""}, {'number': 8, 'created': '2015-07-01 11:46:34.000000000', 'files': ['setup-test-env-qpid.sh'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/c9021c2116b2eb68089d67ee615c3948716b8d76', 'message': ""Remove qpid-config call\n\nThere's no need to install qpid-tools and run qpid-config for this case.\nThe check on the process output should be enough. This also removes\nqpid-tools as a dependency for the qpid jobs.\n\nChange-Id: Ie81a2630cb5d593729b18569cc82b83e9817f6ab\n""}]",0,194723,c9021c2116b2eb68089d67ee615c3948716b8d76,22,4,8,6159,,,0,"Remove qpid-config call

There's no need to install qpid-tools and run qpid-config for this case.
The check on the process output should be enough. This also removes
qpid-tools as a dependency for the qpid jobs.

Change-Id: Ie81a2630cb5d593729b18569cc82b83e9817f6ab
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/23/194723/7 && git format-patch -1 --stdout FETCH_HEAD,"['setup-test-env-qpid.sh', 'oslo_messaging/tests/functional/gate/post_test_hook.sh']",2,19b3d17d781c360b684484280b68e5ec8c9dce7e,qpidd-0_32-fedora, sudo yum install -y qpid-cpp-server qpid-proton-c-devel python-qpid-proton cyrus-sasl-lib cyrus-sasl-plain, sudo yum install -y qpid-cpp-server qpid-proton-c-devel python-qpid-proton cyrus-sasl-lib cyrus-sasl-plain qpid-tools,1,4
openstack%2Fsahara-specs~master~Iffc0903a1c90bdb6a65f7a278c1f30c3e0963f5e,openstack/sahara-specs,master,Iffc0903a1c90bdb6a65f7a278c1f30c3e0963f5e,Allow multiples clusters creation,ABANDONED,2015-06-29 13:07:09.000000000,2015-07-01 17:10:20.000000000,,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 8932}, {'_account_id': 13919}]","[{'number': 1, 'created': '2015-06-29 13:07:09.000000000', 'files': ['specs/saharaclient/allow-creation-of-multiple-cluster-simultaneously.rst'], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/81baf29ea50ccc6d1d7a3e46baa9e6c0f2492002', 'message': 'Allow multiples clusters creation\n\nThis spec defines the implementation of the feature that allows the\ncreation of multiple clusters in the saharaclient.\n\nChange-Id: Iffc0903a1c90bdb6a65f7a278c1f30c3e0963f5e\nPartially-implements: bp simultaneously-creating-multiple-clusters\n'}]",0,196654,81baf29ea50ccc6d1d7a3e46baa9e6c0f2492002,6,4,1,8932,,,0,"Allow multiples clusters creation

This spec defines the implementation of the feature that allows the
creation of multiple clusters in the saharaclient.

Change-Id: Iffc0903a1c90bdb6a65f7a278c1f30c3e0963f5e
Partially-implements: bp simultaneously-creating-multiple-clusters
",git fetch https://review.opendev.org/openstack/sahara-specs refs/changes/54/196654/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/saharaclient/allow-creation-of-multiple-cluster-simultaneously.rst'],1,81baf29ea50ccc6d1d7a3e46baa9e6c0f2492002,bp/simultaneously-creating-multiple-clusters,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========================================================== CLI: allow the creation of multiple clusters simultaneously =========================================================== https://blueprints.launchpad.net/sahara/+spec/simultaneously-creating-multiple-clusters Sahara has the option to create multiple clusters simultaneously. We want to add this feature in the saharaclient. Problem description =================== When creating new clusters, the user has only the option to start a single cluster. In some cases, for example when dealing with researches, the user needs more than a single cluster with a given template. In order to reduce the work of creating a cluster then going back to create a second one and so on, we want to include the option of creating multiple clusters simultaneously by adding an option of number of clusters. Proposed change =============== Add a ""count"" parameter to the cluster-create call so the user can give the number of clusters to be created. Alternatives ------------ The user keeps creating a cluster at a time. Data model impact ----------------- None REST API impact --------------- None Other end user impact --------------------- None Deployer impact --------------- None Developer impact ---------------- None Sahara-image-elements impact ---------------------------- None Sahara-dashboard / Horizon impact --------------------------------- None Implementation ============== Update CLI method cluster-create to receive a new optional parameter ""count"". Assignee(s) ----------- Primary assignee: tellesmvn Work Items ---------- * Implement changes to the cluster-create method * Update documentation Dependencies ============ None. Testing ======= Update the tests to include a test creating more than one cluster Documentation Impact ==================== Documentation of the CLI needs to be updated References ========== None ",,116,0
openstack%2Fsahara-specs~master~I268c6510eec892575c2bf7cffcf8a280c151bef0,openstack/sahara-specs,master,I268c6510eec892575c2bf7cffcf8a280c151bef0,Configure most important hadoop configs automatically,MERGED,2015-04-22 13:07:13.000000000,2015-07-01 17:01:13.000000000,2015-07-01 17:01:11.000000000,"[{'_account_id': 3}, {'_account_id': 6116}, {'_account_id': 6786}, {'_account_id': 7125}, {'_account_id': 7535}, {'_account_id': 7555}, {'_account_id': 7710}, {'_account_id': 8090}, {'_account_id': 8091}, {'_account_id': 8411}, {'_account_id': 8932}, {'_account_id': 10670}, {'_account_id': 12038}, {'_account_id': 12039}, {'_account_id': 13662}, {'_account_id': 13919}, {'_account_id': 13953}]","[{'number': 1, 'created': '2015-04-22 13:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/7b578fa4bbe86de959533d58d28861670bd6b0f4', 'message': 'Configure most important hadoop configs automatically\n\nThis specification describes ability of configuring most important hadoop configs\nautomatically.\n\nChange-Id: I268c6510eec892575c2bf7cffcf8a280c151bef0\nblueprint: recommend-configuration\n'}, {'number': 2, 'created': '2015-04-23 11:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/1d5b6a9fc240ec59b5dbb32794d1edc6e83e9060', 'message': 'Configure most important hadoop configs automatically\n\nThis specification describes ability of configuring most important hadoop configs\nautomatically.\n\nChange-Id: I268c6510eec892575c2bf7cffcf8a280c151bef0\nblueprint: recommend-configuration\n'}, {'number': 3, 'created': '2015-05-12 09:34:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/8ff2570dbb85e1ebd4a9367a77666424071f8de0', 'message': 'Configure most important hadoop configs automatically\n\nThis specification describes ability of configuring most important hadoop configs\nautomatically.\n\nChange-Id: I268c6510eec892575c2bf7cffcf8a280c151bef0\nblueprint: recommend-configuration\n'}, {'number': 4, 'created': '2015-05-13 14:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/d68447eb44947aa99c0a22f843155fde01ddb5a7', 'message': 'Configure most important hadoop configs automatically\n\nThis specification describes ability of configuring most important hadoop configs\nautomatically.\n\nChange-Id: I268c6510eec892575c2bf7cffcf8a280c151bef0\nblueprint: recommend-configuration\n'}, {'number': 5, 'created': '2015-05-18 11:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/a1dd21f24cda10ba075f5cf8dd939cfa6c58651f', 'message': 'Configure most important hadoop configs automatically\n\nThis specification describes ability of configuring most important hadoop configs\nautomatically.\n\nChange-Id: I268c6510eec892575c2bf7cffcf8a280c151bef0\nblueprint: recommend-configuration\n'}, {'number': 6, 'created': '2015-06-09 13:50:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/051cdc8168a17ec6f1be29358d021de9e130d521', 'message': 'Configure most important hadoop configs automatically\n\nThis specification describes ability of configuring most important hadoop configs\nautomatically.\n\nChange-Id: I268c6510eec892575c2bf7cffcf8a280c151bef0\nblueprint: recommend-configuration\n'}, {'number': 7, 'created': '2015-06-10 07:51:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/7fa9ec7345b372afc1fb8d9efea210975cbbc592', 'message': 'Configure most important hadoop configs automatically\n\nThis specification describes ability of configuring most important hadoop configs\nautomatically.\n\nChange-Id: I268c6510eec892575c2bf7cffcf8a280c151bef0\nblueprint: recommend-configuration\n'}, {'number': 8, 'created': '2015-06-18 13:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/807b5cbb3fba5edb0b0bfacfa04f179e6a92d599', 'message': 'Configure most important hadoop configs automatically\n\nThis specification describes ability of configuring most important hadoop configs\nautomatically.\n\nChange-Id: I268c6510eec892575c2bf7cffcf8a280c151bef0\nblueprint: recommend-configuration\n'}, {'number': 9, 'created': '2015-06-19 11:56:39.000000000', 'files': ['specs/liberty/recommend-configuration.rst'], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/1b0303e1bb8da2d908b1ba07238168b5e48b9cfd', 'message': 'Configure most important hadoop configs automatically\n\nThis specification describes ability of configuring most important hadoop configs\nautomatically.\n\nChange-Id: I268c6510eec892575c2bf7cffcf8a280c151bef0\nblueprint: recommend-configuration\n'}]",33,176294,1b0303e1bb8da2d908b1ba07238168b5e48b9cfd,74,17,9,12038,,,0,"Configure most important hadoop configs automatically

This specification describes ability of configuring most important hadoop configs
automatically.

Change-Id: I268c6510eec892575c2bf7cffcf8a280c151bef0
blueprint: recommend-configuration
",git fetch https://review.opendev.org/openstack/sahara-specs refs/changes/94/176294/9 && git format-patch -1 --stdout FETCH_HEAD,['specs/liberty/recommend-configuration.rst'],1,7b578fa4bbe86de959533d58d28861670bd6b0f4,bp/recommend-configuration,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================================= Provide ability to configure most important configs automatically ================================================================= https://blueprints.launchpad.net/sahara/+spec/recommend-configuration Now users manually should configure most important hadoop configurations. It would be friendly to provide advices about cluster configurations for users. Problem description =================== Now users manually should configure most important hadoop configs. We can provide advices about cluster configuration and automatically configure few configs. Proposed change =============== It's proposed to add calculator, which would automatically configure most important configurations in dependency cluster specification: available disk space, ram, cpu, and so on. Such calculator already implemented in Ambari (see [1] and [2]), and we can use it as well. We should have ability to switch off autoconfiguration and if user also manually configured some hadoop config, autoconfiguration also will not be applied. The following list of configs will be configured, using formulas from [1] and [2]: * hive.auto.convert.join.noconditionaltask.size * yarn.nodemanager.resource.memory-mb * yarn.scheduler.minimum-allocation-mb * yarn.scheduler.maximum-allocation-mb * yarn.app.mapreduce.am.resource.mb * yarn.app.mapreduce.am.command-opts * mapreduce.map.memory.mb * mapreduce.reduce.memory.mb * mapreduce.map.java.opts * mapreduce.reduce.java.opts * mapreduce.task.io.sort.mb Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- Need to support of switch off autoconfiguration. Other end user impact --------------------- Need to support of switch off autoconfiguration via python-saharaclient. Deployer impact --------------- None Developer impact ---------------- None Sahara-image-elements impact ---------------------------- None Sahara-dashboard / Horizon impact --------------------------------- Need to add new button which will allow to swith off autoconfiguration from Horizon during cluster creation/scaling. Implementation ============== Assignee(s) ----------- Primary assignee: vgridnev Other contributors: sreshetniak Work Items ---------- Proposed change will consists with following steps: * Implement new plugin SPI method which will provide configuration advices; * Add support of this method in following plugins: CDH, Vanilla 2.6.0 and HDP 2.0.6; * Provide ability to switch off autoconfiguration via UI; * Provide ability to switch off autoconfiguration via saharaclient. Dependencies ============ Depends on Openstack requirements Testing ======= Unit tests will be implemented for this feature. Sahara CI also can start use autoconfiguration as well. Documentation Impact ==================== Need to document feature and all rules, which will be used for autoconfiguration. References ========== [1] https://apache.googlesource.com/ambari/+/a940986517cbfeb2ef889f0d8a45579b27adad1c/ambari-server/src/main/resources/stacks/HDP/2.0.6/services/stack_advisor.py [2] https://apache.googlesource.com/ambari/+/a940986517cbfeb2ef889f0d8a45579b27adad1c/ambari-server/src/main/resources/stacks/HDP/2.1/services/stack_advisor.py ",,135,0
openstack%2Fsahara-image-elements~master~Icc1165b1f48065861ee5d1d691d5f58fb5141fdc,openstack/sahara-image-elements,master,Icc1165b1f48065861ee5d1d691d5f58fb5141fdc,Remove RHEL quirks for CentOS images,MERGED,2015-07-01 11:40:05.000000000,2015-07-01 16:54:51.000000000,2015-07-01 16:54:49.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 12320}]","[{'number': 1, 'created': '2015-07-01 11:40:05.000000000', 'files': ['diskimage-create/diskimage-create.sh'], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/78ddeda78a2a3043eaf529adf43a8f77b11b1325', 'message': ""Remove RHEL quirks for CentOS images\n\nNow that the 'centos' element is used for CentOS images, there's no need\nfor the RHEL registration environment variables: hence, drop REG_METHOD\nand REG_HALT_UNREGISTER.\n\nChange-Id: Icc1165b1f48065861ee5d1d691d5f58fb5141fdc\n""}]",0,197529,78ddeda78a2a3043eaf529adf43a8f77b11b1325,8,3,1,12320,,,0,"Remove RHEL quirks for CentOS images

Now that the 'centos' element is used for CentOS images, there's no need
for the RHEL registration environment variables: hence, drop REG_METHOD
and REG_HALT_UNREGISTER.

Change-Id: Icc1165b1f48065861ee5d1d691d5f58fb5141fdc
",git fetch https://review.opendev.org/openstack/sahara-image-elements refs/changes/29/197529/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage-create/diskimage-create.sh'],1,78ddeda78a2a3043eaf529adf43a8f77b11b1325,drop-rhel-quirks, unset BASE_IMAGE_FILE DIB_CLOUD_IMAGES unset BASE_IMAGE_FILE DIB_IMAGE_SIZE DIB_CLOUD_IMAGES, # No registration for RHEL-based distros export REG_METHOD=disable # Workaround for https://review.openstack.org/#/c/162239/ export REG_HALT_UNREGISTER=1 unset BASE_IMAGE_FILE DIB_CLOUD_IMAGES REG_METHOD REG_HALT_UNREGISTER # No registration for RHEL-based distros export REG_METHOD=disable # Workaround for https://review.openstack.org/#/c/162239/ export REG_HALT_UNREGISTER=1 unset BASE_IMAGE_FILE DIB_IMAGE_SIZE DIB_CLOUD_IMAGES REG_METHOD REG_HALT_UNREGISTER # No registration for RHEL-based distros export REG_METHOD=disable # Workaround for https://review.openstack.org/#/c/162239/ export REG_HALT_UNREGISTER=1 unset REG_METHOD REG_HALT_UNREGISTER # No registration for RHEL-based distros export REG_METHOD=disable # Workaround for https://review.openstack.org/#/c/162239/ export REG_HALT_UNREGISTER=1 unset REG_METHOD unset REG_HALT_UNREGISTER # No registration for RHEL-based distros export REG_METHOD=disable # Workaround for https://review.openstack.org/#/c/162239/ export REG_HALT_UNREGISTER=1 unset REG_METHOD unset REG_HALT_UNREGISTER,2,28
openstack%2Fsahara-image-elements~master~I5164cd759fd36c9ad1f910b7801a69cef6873d75,openstack/sahara-image-elements,master,I5164cd759fd36c9ad1f910b7801a69cef6873d75,fixing minor error in spark post-install script,MERGED,2015-06-23 22:38:10.000000000,2015-07-01 16:54:39.000000000,2015-07-01 16:54:37.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7213}, {'_account_id': 7710}, {'_account_id': 7745}, {'_account_id': 9940}, {'_account_id': 10670}, {'_account_id': 12039}, {'_account_id': 13953}]","[{'number': 1, 'created': '2015-06-23 22:38:10.000000000', 'files': ['elements/spark/post-install.d/20-spark'], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/c596c810825f92a8812d9f40d8b43d62ea85035d', 'message': 'fixing minor error in spark post-install script\n\nThis change fixes an error with variable substitution in the 20-spark\npost install script. The here document firstboot script is using a\nsubstitution for the removal command that was instead substituting the\nname of the element script.\n\nThis change also adds some minor improvements to reduce repeated code\nand make the script more streamlined for future improvement.\n\nChange-Id: I5164cd759fd36c9ad1f910b7801a69cef6873d75\nCloses-Bug: 1468131\n'}]",0,194848,c596c810825f92a8812d9f40d8b43d62ea85035d,20,9,1,10670,,,0,"fixing minor error in spark post-install script

This change fixes an error with variable substitution in the 20-spark
post install script. The here document firstboot script is using a
substitution for the removal command that was instead substituting the
name of the element script.

This change also adds some minor improvements to reduce repeated code
and make the script more streamlined for future improvement.

Change-Id: I5164cd759fd36c9ad1f910b7801a69cef6873d75
Closes-Bug: 1468131
",git fetch https://review.opendev.org/openstack/sahara-image-elements refs/changes/48/194848/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/spark/post-install.d/20-spark'],1,c596c810825f92a8812d9f40d8b43d62ea85035d,bug/1468131,"firstboot_script_name=""/opt/spark/firstboot.sh"" sed -i -e ""s,^exit 0$,[ -f $firstboot_script_name ] \&\& sh $firstboot_script_name; exit 0,"" /etc/rc.local user_and_group_names=""ubuntu:ubuntu"" cat >> $firstboot_script_name <<EOFchown -R $user_and_group_names /opt/spark chown -R $user_and_group_names /etc/hadoop rm $firstboot_script_name","sed -i -e 's,^exit 0$,[ -f /opt/spark/firstboot.sh ] \&\& sh /opt/spark/firstboot.sh; exit 0,' /etc/rc.local cat >> /opt/spark/firstboot.sh <<EOFchown -R ubuntu:ubuntu /opt/spark chown -R ubuntu:ubuntu /etc/hadoop rm $0",9,5
openstack%2Fsahara-image-elements~master~I6a4cfd091aa53f03cadc4c90248b7400ef15564a,openstack/sahara-image-elements,master,I6a4cfd091aa53f03cadc4c90248b7400ef15564a,diskimage-create.sh: refactor $platform handling,MERGED,2015-06-09 14:40:29.000000000,2015-07-01 16:54:31.000000000,2015-07-01 16:54:30.000000000,"[{'_account_id': 3}, {'_account_id': 6116}, {'_account_id': 6786}, {'_account_id': 7213}, {'_account_id': 7710}, {'_account_id': 7745}, {'_account_id': 12038}, {'_account_id': 12320}]","[{'number': 1, 'created': '2015-06-09 14:40:29.000000000', 'files': ['diskimage-create/diskimage-create.sh'], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/ec214d790d5c0aa943691ae97a90d4fe6aad82d7', 'message': 'diskimage-create.sh: refactor $platform handling\n\n* use a safer way to get the distribution ID (instead of the Name) from\n  /etc/os-release, and lowercase it\n* use a case-based matching for detecting from /etc/system-release,\n  assigning values compatible with the os-release IDs\n* turn the if-elif-else chains for $platform into case switches\n\nChange-Id: I6a4cfd091aa53f03cadc4c90248b7400ef15564a\n'}]",0,189755,ec214d790d5c0aa943691ae97a90d4fe6aad82d7,27,8,1,12320,,,0,"diskimage-create.sh: refactor $platform handling

* use a safer way to get the distribution ID (instead of the Name) from
  /etc/os-release, and lowercase it
* use a case-based matching for detecting from /etc/system-release,
  assigning values compatible with the os-release IDs
* turn the if-elif-else chains for $platform into case switches

Change-Id: I6a4cfd091aa53f03cadc4c90248b7400ef15564a
",git fetch https://review.opendev.org/openstack/sahara-image-elements refs/changes/55/189755/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage-create/diskimage-create.sh'],1,ec214d790d5c0aa943691ae97a90d4fe6aad82d7,platform," platform=$(cat /etc/os-release | awk -F= '/^ID=/ {print tolower($2);}') elif [ -e /etc/system-release ]; then case ""$(head -1 /etc/system-release)"" in ""Red Hat Enterprise Linux Server""*) platform=rhel ;; ""CentOS""*) platform=centos ;; *) echo -e ""Unknown value in /etc/system-release. Impossible to build images.\nAborting"" exit 2 ;; esac echo -e ""Unknown host OS. Impossible to build images.\nAborting"" exit 2if [ ""$DEBUG_MODE"" = ""true"" -a ""$platform"" != 'ubuntu' ]; then if [ ""$platform"" = 'ubuntu' ]; then case ""$platform"" in ""ubuntu"") package_list=""qemu kpartx git"" ;; ""fedora"") package_list=""qemu-img kpartx git"" ;; ""opensuse"") package_list=""qemu kpartx git-core"" ;; ""rhel"" | ""centos"") package_list=""qemu-kvm qemu-img kpartx git"" if [ ${platform} = ""centos"" ]; then # CentOS requires the python-argparse package be installed separately package_list=""$package_list python-argparse"" fi ;; *) echo -e ""Unknown platform '$platform' for the package list.\nAborting"" exit 2 ;; esac case ""$platform"" in ""ubuntu"") sudo apt-get install $package_list -y ;; ""opensuse"") sudo zypper --non-interactive --gpg-auto-import-keys in $package_list ;; ""fedora"" | ""rhel"" | ""centos"") if [ ${platform} = ""centos"" ]; then # install EPEL repo, in order to install argparse sudo rpm -Uvh --force http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm fi sudo yum install $package_list -y ;; *) echo -e ""Unknown platform '$platform' for installing packages.\nAborting"" exit 2 ;; esac if [ ""$platform"" = 'ubuntu' ]; then"," platform=$(head -1 /etc/os-release) platform=$(head -1 /etc/system-release | grep -e CentOS -e 'Red Hat Enterprise Linux' || :) if [ -z ""$platform"" ]; then echo -e ""Unknown Host OS. Impossible to build images.\nAborting"" exit 2 fiif [ ""$DEBUG_MODE"" = ""true"" -a ""$platform"" != 'NAME=""Ubuntu""' ]; then if [ ""$platform"" = 'NAME=""Ubuntu""' ]; then if [[ ""$platform"" == 'NAME=""Ubuntu""' ]]; then package_list=""qemu kpartx git"" elif [ ""$platform"" = 'NAME=Fedora' ]; then package_list=""qemu-img kpartx git"" elif [ ""$platform"" = 'NAME=openSUSE' ]; then package_list=""qemu kpartx git-core"" else # centos or rhel package_list=""qemu-kvm qemu-img kpartx git"" if [ ${platform:0:6} = ""CentOS"" ]; then # CentOS requires the python-argparse package be installed separately package_list=""$package_list python-argparse"" fi fi if [ ""$platform"" = 'NAME=""Ubuntu""' ]; then sudo apt-get install $package_list -y elif [ ""$platform"" = 'NAME=openSUSE' ]; then sudo zypper --non-interactive --gpg-auto-import-keys in $package_list else # fedora, centos, and rhel share an install command if [ ${platform:0:6} = ""CentOS"" ]; then # install EPEL repo, in order to install argparse sudo rpm -Uvh --force http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm fi sudo yum install $package_list -y fi if [ ""$platform"" = 'NAME=""Ubuntu""' ]; then",60,35
openstack%2Fsahara-specs~master~Idaccbd794998191229c7dd26a17b37a662d97839,openstack/sahara-specs,master,Idaccbd794998191229c7dd26a17b37a662d97839,Add scheduling edp jobs in sahara,MERGED,2015-04-21 05:42:46.000000000,2015-07-01 16:52:40.000000000,2015-07-01 16:52:39.000000000,"[{'_account_id': 3}, {'_account_id': 6116}, {'_account_id': 6786}, {'_account_id': 7125}, {'_account_id': 7535}, {'_account_id': 8090}, {'_account_id': 8091}, {'_account_id': 8411}, {'_account_id': 9740}, {'_account_id': 10670}, {'_account_id': 12038}, {'_account_id': 13662}, {'_account_id': 13919}, {'_account_id': 13953}]","[{'number': 1, 'created': '2015-04-21 05:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/e12c3c0e15dcff040966a635003fdc082602f14b', 'message': 'Add scheduling and recurring oozie workflow to EDP jobs\n\ncurrently sahara just support one time click edp job.\nwe can add scheduling and recurring edp jobs\n\nImplements bp: https://blueprints.launchpad.net/sahara/+spec/enable-scheduled-edp-jobs\n\nChange-Id: Idaccbd794998191229c7dd26a17b37a662d97839\n'}, {'number': 2, 'created': '2015-04-21 05:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/3d202d7a82b0c6504c9bad0f249ee4b8107db25c', 'message': 'Add scheduling and recurring oozie workflow to EDP jobs\n\ncurrently sahara just support one time click edp job.\nwe can add scheduling and recurring edp jobs\n\nImplements bp: enable-scheduled-edp-jobs\n\nChange-Id: Idaccbd794998191229c7dd26a17b37a662d97839\n'}, {'number': 3, 'created': '2015-04-21 07:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/1727ebb7387cc4e8685a89f4618b8b73d4855e2b', 'message': 'Add scheduling and recurring oozie workflow to EDP jobs\n\ncurrently sahara just support one time click edp job.\nwe can add scheduling and recurring edp jobs\n\nImplements bp: enable-scheduled-edp-jobs\n\nChange-Id: Idaccbd794998191229c7dd26a17b37a662d97839\n'}, {'number': 4, 'created': '2015-04-21 07:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/180f7d4f7cb9cfdb81fe522314f48df22be42ec1', 'message': 'Add scheduling and recurring oozie workflow to EDP jobs\n\ncurrently sahara just support one time click edp job.\nwe can add scheduling and recurring edp jobs\n\nImplements bp: enable-scheduled-edp-jobs\n\nChange-Id: Idaccbd794998191229c7dd26a17b37a662d97839\n'}, {'number': 5, 'created': '2015-04-21 08:04:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/85be1aadbc3131302f55ca53c87df88aa6be8ef9', 'message': 'Add scheduling and recurring oozie workflow to EDP jobs\n\ncurrently sahara just support one time click edp job.\nwe can add scheduling and recurring edp jobs\n\nImplements bp: enable-scheduled-edp-jobs\n\nChange-Id: Idaccbd794998191229c7dd26a17b37a662d97839\n'}, {'number': 6, 'created': '2015-04-21 08:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/2db86b6bd4df985b58f4c71f5523d3c2bd8a3324', 'message': 'Add scheduling and recurring oozie workflow to EDP jobs\n\ncurrently sahara just support one time click edp job.\nwe can add scheduling and recurring edp jobs\n\nImplements bp: enable-scheduled-edp-jobs\n\nChange-Id: Idaccbd794998191229c7dd26a17b37a662d97839\n'}, {'number': 7, 'created': '2015-05-05 20:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/26e58ace279fc34fdf15c842cd5ad091ae5e59a6', 'message': 'Add scheduling and recurring oozie workflow to EDP jobs\n\ncurrently sahara just support one time click edp job.\nwe can add scheduling and recurring edp jobs\n\nImplements bp: enable-scheduled-edp-jobs\n\nChange-Id: Idaccbd794998191229c7dd26a17b37a662d97839\n'}, {'number': 8, 'created': '2015-05-11 12:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/71db84e94501a30dc18b52abef483bc818998916', 'message': 'Add scheduling and recurring oozie workflow to EDP jobs\n\ncurrently sahara just support one time click edp job.\nwe can add scheduling and recurring edp jobs\n\nImplements bp: enable-scheduled-edp-jobs\n\nChange-Id: Idaccbd794998191229c7dd26a17b37a662d97839\n'}, {'number': 9, 'created': '2015-05-11 12:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/ac2609edaae69cdaff29af35a5cc9cbfc47f4856', 'message': 'Add scheduling and recurring oozie workflow to EDP jobs\n\ncurrently sahara just support one time click edp job.\nwe can add scheduling and recurring edp jobs\n\nImplements bp: enable-scheduled-edp-jobs\n\nChange-Id: Idaccbd794998191229c7dd26a17b37a662d97839\n'}, {'number': 10, 'created': '2015-05-11 12:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/d2822528be3fdf7193e377761ce8fc7e2491fcb6', 'message': 'Add scheduling and recurring oozie workflow to EDP jobs\n\ncurrently sahara just support one time click edp job.\nwe can add scheduling and recurring edp jobs\n\nImplements bp: enable-scheduled-edp-jobs\n\nChange-Id: Idaccbd794998191229c7dd26a17b37a662d97839\n'}, {'number': 11, 'created': '2015-05-12 00:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/66934ad4a80a504b617bbe8ef52cbb657d560416', 'message': 'Add scheduling and recurring oozie workflow to EDP jobs\n\ncurrently sahara just support one time click edp job.\nwe can add scheduling and recurring edp jobs\n\nImplements bp: enable-scheduled-edp-jobs\n\nChange-Id: Idaccbd794998191229c7dd26a17b37a662d97839\n'}, {'number': 12, 'created': '2015-05-12 14:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/8c1b457b14a5c8f072bacec51bf055f6ce746bf2', 'message': 'Add scheduling and recurring oozie workflow to EDP jobs\n\ncurrently sahara just support one time click edp job.\nwe can add scheduling and recurring edp jobs\n\nImplements bp: enable-scheduled-edp-jobs\n\nChange-Id: Idaccbd794998191229c7dd26a17b37a662d97839\n'}, {'number': 13, 'created': '2015-05-14 09:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/4277d166651453b5c9ff8aaa953a46c9b451d43b', 'message': 'Add scheduling and recurring oozie workflow to EDP jobs\n\ncurrently sahara just support one time click edp job.\nwe can add scheduling and recurring edp jobs\n\nImplements bp: enable-scheduled-edp-jobs\n\nChange-Id: Idaccbd794998191229c7dd26a17b37a662d97839\n'}, {'number': 14, 'created': '2015-05-14 09:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/e337a73cf5572520c501d988188da14e6637aa16', 'message': 'Add scheduling and recurring oozie workflow to EDP jobs\n\ncurrently sahara just support one time click edp job.\nwe can add scheduling and recurring edp jobs\n\nImplements bp: enable-scheduled-edp-jobs\n\nChange-Id: Idaccbd794998191229c7dd26a17b37a662d97839\n'}, {'number': 15, 'created': '2015-05-14 15:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/7dc7c9a8f302ec0080dc67b96028f9c1886f0640', 'message': 'Add scheduling and recurring oozie workflow to EDP jobs\n\ncurrently sahara just support one time click edp job.\nwe can add scheduling and recurring edp jobs\n\nImplements bp: enable-scheduled-edp-jobs\n\nChange-Id: Idaccbd794998191229c7dd26a17b37a662d97839\n'}, {'number': 16, 'created': '2015-05-14 16:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/cc48d5f079126c17777deadc03f4bd6892f9393e', 'message': 'Add scheduling and recurring oozie workflow to EDP jobs\n\ncurrently sahara just support one time click edp job.\nwe can add scheduling and recurring edp jobs\n\nImplements bp: enable-scheduled-edp-jobs\n\nChange-Id: Idaccbd794998191229c7dd26a17b37a662d97839\n'}, {'number': 17, 'created': '2015-05-14 16:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/e991330c38143e0d39dd57614dc09aaf2cc6dd1a', 'message': 'Add scheduling and recurring oozie workflow to EDP jobs\n\ncurrently sahara just support one time click edp job.\nwe can add scheduling and recurring edp jobs\n\nImplements bp: enable-scheduled-edp-jobs\n\nChange-Id: Idaccbd794998191229c7dd26a17b37a662d97839\n'}, {'number': 18, 'created': '2015-05-14 17:10:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/a445438a3c796037bbf656297c9f5bfc090fd86e', 'message': 'Add scheduling and recurring oozie workflow to EDP jobs\n\ncurrently sahara just support one time click edp job.\nwe can add scheduling and recurring edp jobs\n\nImplements bp: enable-scheduled-edp-jobs\n\nChange-Id: Idaccbd794998191229c7dd26a17b37a662d97839\n'}, {'number': 19, 'created': '2015-05-16 18:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/e55edf8c79688375cbbd4f44eb3a0994e8a82833', 'message': 'Add scheduling and recurring oozie workflow to EDP jobs\n\ncurrently sahara just support one time click edp job.\nwe can add scheduling and recurring edp jobs\n\nImplements bp: enable-scheduled-edp-jobs\n\nChange-Id: Idaccbd794998191229c7dd26a17b37a662d97839\n'}, {'number': 20, 'created': '2015-06-03 07:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/3bb486b77861bccb818d4647226ec149af1028ac', 'message': 'Add scheduling and recurring oozie workflow to EDP jobs\n\ncurrently sahara just support one time click edp job.\nwe can add scheduling and recurring edp jobs\n\nImplements bp: enable-scheduled-edp-jobs\n\nChange-Id: Idaccbd794998191229c7dd26a17b37a662d97839\n'}, {'number': 21, 'created': '2015-06-03 07:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/70be4cc99161d60a452de7b9f3d79395aa620d98', 'message': 'Add scheduling and recurring oozie workflow to EDP jobs\n\ncurrently sahara just support one time click edp job.\nwe can add scheduling and recurring edp jobs\n\nImplements bp: enable-scheduled-edp-jobs\n\nChange-Id: Idaccbd794998191229c7dd26a17b37a662d97839\n'}, {'number': 22, 'created': '2015-06-09 10:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/e7b1305e66174e0e990beb03e610f7a8ae390427', 'message': 'Add scheduling edp jobs in sahara\n\ncurrently sahara just support one time click edp job.\nwe can add scheduling edp jobs\n\nImplements bp: enable-scheduled-edp-jobs\n\nChange-Id: Idaccbd794998191229c7dd26a17b37a662d97839\n'}, {'number': 23, 'created': '2015-06-10 08:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/d0258c796040ae2c1574ae31cef6e846481445b3', 'message': 'Add scheduling edp jobs in sahara\n\ncurrently sahara just support one time click edp job.\nwe can add scheduling edp jobs\n\nImplements bp: enable-scheduled-edp-jobs\n\nChange-Id: Idaccbd794998191229c7dd26a17b37a662d97839\n'}, {'number': 24, 'created': '2015-06-10 08:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/b75f625f8ed4952a849ff5f640b55825468494fe', 'message': 'Add scheduling edp jobs in sahara\n\ncurrently sahara just support one time click edp job.\nwe can add scheduling edp jobs\n\nImplements bp: enable-scheduled-edp-jobs\n\nChange-Id: Idaccbd794998191229c7dd26a17b37a662d97839\n'}, {'number': 25, 'created': '2015-06-10 09:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/5d1567739449dec9022851cb559dddd237b42385', 'message': 'Add scheduling edp jobs in sahara\n\ncurrently sahara just support one time click edp job.\nwe can add scheduling edp jobs\n\nImplements bp: enable-scheduled-edp-jobs\n\nChange-Id: Idaccbd794998191229c7dd26a17b37a662d97839\n'}, {'number': 26, 'created': '2015-06-15 04:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/cfecfbe41c095557951ccfac90e1ed76b0b7a49b', 'message': 'Add scheduling edp jobs in sahara\n\ncurrently sahara just support one time click edp job.\nwe can add scheduling edp jobs\n\nImplements bp: enable-scheduled-edp-jobs\n\nChange-Id: Idaccbd794998191229c7dd26a17b37a662d97839\n'}, {'number': 27, 'created': '2015-06-18 02:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/34dbe451f43c629bc762a43a2255ce0f742849bf', 'message': 'Add scheduling edp jobs in sahara\n\ncurrently sahara just support one time click edp job.\nwe can add scheduling edp jobs\n\nImplements bp: enable-scheduled-edp-jobs\n\nChange-Id: Idaccbd794998191229c7dd26a17b37a662d97839\n'}, {'number': 28, 'created': '2015-06-19 03:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/06a3945f6facee21e70f522eb57a49139dbe7d03', 'message': 'Add scheduling edp jobs in sahara\n\ncurrently sahara just support one time click edp job.\nwe can add scheduling edp jobs\n\nImplements bp: enable-scheduled-edp-jobs\n\nChange-Id: Idaccbd794998191229c7dd26a17b37a662d97839\n'}, {'number': 29, 'created': '2015-06-20 08:59:45.000000000', 'files': ['specs/liberty/scheduling-edp-jobs.rst'], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/d5f2df03dad4565f175a0f365c85b684e50af6f2', 'message': 'Add scheduling edp jobs in sahara\n\ncurrently sahara just support one time click edp job.\nwe can add scheduling edp jobs\n\nImplements bp: enable-scheduled-edp-jobs\n\nChange-Id: Idaccbd794998191229c7dd26a17b37a662d97839\n'}]",72,175719,d5f2df03dad4565f175a0f365c85b684e50af6f2,96,14,29,9740,,,0,"Add scheduling edp jobs in sahara

currently sahara just support one time click edp job.
we can add scheduling edp jobs

Implements bp: enable-scheduled-edp-jobs

Change-Id: Idaccbd794998191229c7dd26a17b37a662d97839
",git fetch https://review.opendev.org/openstack/sahara-specs refs/changes/19/175719/6 && git format-patch -1 --stdout FETCH_HEAD,['specs/liberty/edp-scheduling-recurring-workflow'],1,e12c3c0e15dcff040966a635003fdc082602f14b,bp/enable-scheduled-edp-jobs,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================================= Add scheduling and recurring oozie workflow to EDP jobs ======================================================= https://blueprints.launchpad.net/sahara/+spec/enable-scheduled-edp-jobs This spec is to allow running scheduling and recurring edp jobs. Problem description =================== This is a real case from customer who is using sahara in china, they said they want use sahara to run scheduling and recurring edp jobs, but currently sahara just support one time click edp job. So by adding oozie coordinator into sahara, we can implement scheduling and recurring edp jobs. Proposed change =============== Add three oozie_workflow_type which are come from oozie (1)oozie_workflow run simple one-time edp jobs (2)oozie_coordinator run scheduling and recurring edp jobs (3)oozie_bundle run multiple oozie coordinator For scheduling and recurring EDP jobs, before run the job, sahara will create a coordinator.xml to describe the job, then upload it to the HDFS EDP job folder. Example of coordinator.xml .. sourcecode::xml <coordinator-app name=""job-name"" frequency=""${coord:minutes(5)}"" start=""${start}"" end=""${end}"" timezone=""UTC"" xmlns=""uri:oozie:coordinator:0.2""> <action> <workflow> <app-path>${workflowAppUri}</app-path> <configuration> <property> <name>jobTracker</name> <value>${jobTracker}</value> </property> <property> <name>nameNode</name> <value>${nameNode}</value> </property> <property> <name>queueName</name> <value>${queueName}</value> </property> </configuration> </workflow> </action> </coordinator-app> Alternatives ------------ run edp job manually by login into the VM and run oozie command. Data model impact ----------------- None REST API impact --------------- None Other end user impact --------------------- None Deployer impact --------------- None Developer impact ---------------- None Sahara-image-elements impact ---------------------------- None Sahara-dashboard / Horizon impact --------------------------------- Horizon need to be updated to display the proper layout for the user to choose and set the parameters like start job time, end job time, recurrence time slot. Implementation ============== Assignee(s) ----------- Primary assignee: luhuichun(lu huichun) Other contributors: None Work Items ---------- * add three oozie workflow * create coordinator.xml before run job in edp engine * upload the file to job's HDFS folder Dependencies ============ None. Testing ======= unit test in edp engine Documentation Impact ==================== Need to be documented. References ========== None ",,139,0
openstack%2Fzaqar-specs~master~Ib7227cd4a2e4ff1d20c0b291b21fa8af6b356439,openstack/zaqar-specs,master,Ib7227cd4a2e4ff1d20c0b291b21fa8af6b356439,Persistent transport,MERGED,2015-06-05 13:11:24.000000000,2015-07-01 16:48:44.000000000,2015-07-01 16:48:44.000000000,"[{'_account_id': 3}, {'_account_id': 6159}, {'_account_id': 6413}, {'_account_id': 12321}]","[{'number': 1, 'created': '2015-06-05 13:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/07328e2662c9dda5456976ce05ce9bca18f6e9d3', 'message': 'Persistent transport\n\nThis spec depicts the missing features that are going to be added\nto the websocket driver in the Liberty release.\n\nChange-Id: Ib7227cd4a2e4ff1d20c0b291b21fa8af6b356439\n'}, {'number': 2, 'created': '2015-06-10 07:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/8b200944d9d4f726deacc5f94aabe24960f5c04f', 'message': 'Persistent transport\n\nThis spec depicts the missing features that are going to be added\nto the websocket driver in the Liberty release.\n\nChange-Id: Ib7227cd4a2e4ff1d20c0b291b21fa8af6b356439\n'}, {'number': 3, 'created': '2015-07-01 16:10:55.000000000', 'files': ['specs/backlog/persistent-transport.rst'], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/3c54da79294facd36ea2120210c6a1745bdd1df1', 'message': 'Persistent transport\n\nThis spec depicts the missing features that are going to be added\nto the websocket driver in the Liberty release.\n\nChange-Id: Ib7227cd4a2e4ff1d20c0b291b21fa8af6b356439\n'}]",6,188770,3c54da79294facd36ea2120210c6a1745bdd1df1,14,4,3,6413,,,0,"Persistent transport

This spec depicts the missing features that are going to be added
to the websocket driver in the Liberty release.

Change-Id: Ib7227cd4a2e4ff1d20c0b291b21fa8af6b356439
",git fetch https://review.opendev.org/openstack/zaqar-specs refs/changes/70/188770/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/liberty/persistent-transport.rst'],1,07328e2662c9dda5456976ce05ce9bca18f6e9d3,188770,".. This template should be in ReSTructured text. The filename in the git repository should match the launchpad URL, for example a URL of https://blueprints.launchpad.net/zaqar/+spec/awesome-thing should be named awesome-thing.rst. Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: None For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, see http://www.tele3.cz/jbar/rest/rest.html ==================== Persistent transport ==================== Persistent connections allow a single TCP connection to send and receive multiple requests/responses instead of opening a new TCP connection for each pair. When an application opens fewer TCP connections and keeps them open for a longer period, it causes less network traffic, use less time establishing new connections, and allows the TCP protocol to work more efficiently. Currently Zaqar has support for a non-persistent transport, leaving aside some use cases that would be covered in a more efficient and reliable way with a persistent transport solution. Some use cases that will be positively impacted by this change are: - Communication with browsers: Websocket will enhance the communication between browsers and Zaqar, a key factor in the integration of Zaqar with the OpenStack Dashboard (Horizon). - Notifications: this type of transport will constitute a better protocol for notifications, a feature planned for Kilo as well. https://blueprints.launchpad.net/zaqar/+spec/persistent-transport Problem description =================== Currently there is no way to establish persistent connections in Zaqar. This spec proposes adding this feature through a websocket implementation. During Kilo release we refactored the code to make the addition of this driver feasible, and we worked on adding the queues endpoint. To provide full support for the data plane, we should add the messages endpoint and the claims endpoint. The control plane operations do not require the performance that a websocket driver can provide, hence we are not going to add websocket support for the control plane. Proposed change =============== The proposed change, as stated in previous sections, is to add a persistent transport alternative to Zaqar. This can be done by using websocket. Websocket provide a full-duplex communication channel operating over a single socket that will remove overhead and significantly reduce complexity. Fallback -------- In case WebSocket is not available, the client will fallback to short-polling the REST API. Some of the reasons of WebSockets not being available are: - Firewalls could be configured to kill HTTP connections after a certain amount of time. - Concerns from a security standpoint will lead to killing any traffic over port 80 or 443 that doesn't look like HTTP. Messages serialization ---------------------- A serialization technology is needed in order to transport data. There are several alternatives, including JSON, MsgPack, Protobuf, Apache Avro and Cap'n Proto. In the previous cycle we noted that the whereas MsgPack was the best candidate -considering overall performance, easiness to use, languages support, data structures support-, it doesn't have good support for Javascript. Using MsgPack would impose a significative contraint to the Zaqar use cases, considering that many web applications nowaways are written with Javascript. For that reason, we decided to stick with JSON and maybe talk about a more performant serialization technology in a future change. Alternatives ------------ - Establish persistent connections enabling WSGI keep-alive - Long polling Implementation ============== Assignee(s) ----------- Primary assignee: vkmc Milestones ---------- Target Milestone for completion: Liberty-1 Work Items ---------- * Implement messages controller * Implement claims controller * Write messages unit tests * Write claims unit tests * Would like to have: write functional tests * Perform benchmarks with the new driver WebSocket Libraries ------------------- After discussing several alternatives, including SockJS, SocketIO, Autobahn, ws4py and Tornado, it has been decided that Autobahn is going to be used to implement this feature. More details on this decision will be available in the `WebSockets wiki`_. .. _WebSockets wiki: https://wiki.openstack.org/wiki/Zaqar/specs/websockets Dependencies ============ * https://blueprints.launchpad.net/zaqar/+spec/cross-transport-api-spec .. note:: This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ",,143,0
openstack%2Ffuel-specs~master~I582547b57a0a483d88b759a4a6a0cb5b132dfbba,openstack/fuel-specs,master,I582547b57a0a483d88b759a4a6a0cb5b132dfbba,Define a new role through plugin,MERGED,2015-05-24 10:40:00.000000000,2015-07-01 16:39:16.000000000,2015-06-25 13:15:15.000000000,"[{'_account_id': 3}, {'_account_id': 406}, {'_account_id': 6677}, {'_account_id': 6794}, {'_account_id': 8392}, {'_account_id': 8735}, {'_account_id': 8749}, {'_account_id': 8907}, {'_account_id': 8931}, {'_account_id': 8935}, {'_account_id': 10391}, {'_account_id': 10959}, {'_account_id': 11163}, {'_account_id': 11577}, {'_account_id': 12972}, {'_account_id': 13082}, {'_account_id': 13445}, {'_account_id': 14088}, {'_account_id': 14164}, {'_account_id': 14167}, {'_account_id': 14643}, {'_account_id': 14708}]","[{'number': 1, 'created': '2015-05-24 10:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/5e2e81415a1215b0746746d11872a2d0e23cdd14', 'message': 'Define a new role through plugin\n\nChange-Id: I582547b57a0a483d88b759a4a6a0cb5b132dfbba\nImplements: blueprint role-as-a-plugin\n'}, {'number': 2, 'created': '2015-05-24 10:47:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/5e522bef200a1b4a3d021544d2765b4961f78eac', 'message': 'Define a new role through plugin\n\nChange-Id: I582547b57a0a483d88b759a4a6a0cb5b132dfbba\nImplements: blueprint role-as-a-plugin\n'}, {'number': 3, 'created': '2015-05-24 10:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/da5bbaa49344f93226f37176ed9e1ce582f2bbd3', 'message': 'Define a new role through plugin\n\nChange-Id: I582547b57a0a483d88b759a4a6a0cb5b132dfbba\nImplements: blueprint role-as-a-plugin\n'}, {'number': 4, 'created': '2015-05-25 11:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/46ac136d30497e4a8239881f6ee99724661bf69a', 'message': 'Define a new role through plugin\n\nChange-Id: I582547b57a0a483d88b759a4a6a0cb5b132dfbba\nImplements: blueprint role-as-a-plugin\n'}, {'number': 5, 'created': '2015-05-27 13:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/be0d76c44015fd6894647274cfee6ff7478e0e10', 'message': 'Define a new role through plugin\n\nChange-Id: I582547b57a0a483d88b759a4a6a0cb5b132dfbba\nImplements: blueprint role-as-a-plugin\n'}, {'number': 6, 'created': '2015-05-27 13:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/4c347d94137dec29e6867cea9f44a1077525bc47', 'message': 'Define a new role through plugin\n\nChange-Id: I582547b57a0a483d88b759a4a6a0cb5b132dfbba\nImplements: blueprint role-as-a-plugin\n'}, {'number': 7, 'created': '2015-05-28 11:43:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/bb7297a7ba4ad40fb932fa7bd8926172f43d6c53', 'message': 'Define a new role through plugin\n\nChange-Id: I582547b57a0a483d88b759a4a6a0cb5b132dfbba\nImplements: blueprint role-as-a-plugin\n'}, {'number': 8, 'created': '2015-05-29 10:30:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/17f1669797ac954ee0fda02137f8c0782f8bdbde', 'message': 'Define a new role through plugin\n\nChange-Id: I582547b57a0a483d88b759a4a6a0cb5b132dfbba\nImplements: blueprint role-as-a-plugin\n'}, {'number': 9, 'created': '2015-05-29 12:42:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/85bbf95d94f12039bf8da4582976f59599aa5db6', 'message': 'Define a new role through plugin\n\nChange-Id: I582547b57a0a483d88b759a4a6a0cb5b132dfbba\nImplements: blueprint role-as-a-plugin\n'}, {'number': 10, 'created': '2015-06-05 10:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/c125400ffd0539940e7deea1949d1759198d7602', 'message': 'Define a new role through plugin\n\nChange-Id: I582547b57a0a483d88b759a4a6a0cb5b132dfbba\nImplements: blueprint role-as-a-plugin\n'}, {'number': 11, 'created': '2015-06-05 13:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/20706ad0783b7b643dbc0a7d285c6d39671e9462', 'message': 'Define a new role through plugin\n\nChange-Id: I582547b57a0a483d88b759a4a6a0cb5b132dfbba\nImplements: blueprint role-as-a-plugin\n'}, {'number': 12, 'created': '2015-06-08 14:00:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/6f5760bde5bdfc7cf2b6d8e4cc07bb5c22b33862', 'message': 'Define a new role through plugin\n\nChange-Id: I582547b57a0a483d88b759a4a6a0cb5b132dfbba\nImplements: blueprint role-as-a-plugin\n'}, {'number': 13, 'created': '2015-06-10 09:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/f1d8d3c10cd5b48b7dd52ae3f42276078c5c5263', 'message': 'Define a new role through plugin\n\nChange-Id: I582547b57a0a483d88b759a4a6a0cb5b132dfbba\nImplements: blueprint role-as-a-plugin\n'}, {'number': 14, 'created': '2015-06-16 08:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/37f3b565679e0a46baa9eff6aa7ede41dc74b3ce', 'message': 'Define a new role through plugin\n\nChange-Id: I582547b57a0a483d88b759a4a6a0cb5b132dfbba\nImplements: blueprint role-as-a-plugin\n'}, {'number': 15, 'created': '2015-06-16 08:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/26bd0827b6c57adfc3a2abc9e9589c283dae29ea', 'message': 'Define a new role through plugin\n\nChange-Id: I582547b57a0a483d88b759a4a6a0cb5b132dfbba\nImplements: blueprint role-as-a-plugin\n'}, {'number': 16, 'created': '2015-06-17 17:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/2e60fae23b6e6dbd75e814ae2200ce1645f8131c', 'message': 'Define a new role through plugin\n\nChange-Id: I582547b57a0a483d88b759a4a6a0cb5b132dfbba\nImplements: blueprint role-as-a-plugin\n'}, {'number': 17, 'created': '2015-06-17 18:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/6e346a797a224f82cdb632fa88c4d650b8d541db', 'message': 'Define a new role through plugin\n\nChange-Id: I582547b57a0a483d88b759a4a6a0cb5b132dfbba\nImplements: blueprint role-as-a-plugin\n'}, {'number': 18, 'created': '2015-06-18 20:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/6f52f7c6e3d4ec1785d4cce75c4ad5def8c57885', 'message': 'Define a new role through plugin\n\nChange-Id: I582547b57a0a483d88b759a4a6a0cb5b132dfbba\nImplements: blueprint role-as-a-plugin\n'}, {'number': 19, 'created': '2015-06-23 07:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/0ef311e1e7fa36f0f0f388496aa04d6b8487c0d1', 'message': 'Define a new role through plugin\n\nChange-Id: I582547b57a0a483d88b759a4a6a0cb5b132dfbba\nImplements: blueprint role-as-a-plugin\n'}, {'number': 20, 'created': '2015-06-23 14:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/f250775e8b7962a006b2349aea589f0b3816d8c7', 'message': 'Define a new role through plugin\n\nChange-Id: I582547b57a0a483d88b759a4a6a0cb5b132dfbba\nImplements: blueprint role-as-a-plugin\n'}, {'number': 21, 'created': '2015-06-24 08:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/5053d5691b88cd16708f31a3eb92f92e4562846a', 'message': 'Define a new role through plugin\n\nChange-Id: I582547b57a0a483d88b759a4a6a0cb5b132dfbba\nImplements: blueprint role-as-a-plugin\n'}, {'number': 22, 'created': '2015-06-25 06:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/9e81e19aac984f9e9943fceac8f43b475d613844', 'message': 'Define a new role through plugin\n\nChange-Id: I582547b57a0a483d88b759a4a6a0cb5b132dfbba\nImplements: blueprint role-as-a-plugin\n'}, {'number': 23, 'created': '2015-06-25 06:29:07.000000000', 'files': ['specs/7.0/role-as-a-plugin.rst'], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/e6a201ba089d196bc2932cbbd0f5b9622e8fac47', 'message': 'Define a new role through plugin\n\nChange-Id: I582547b57a0a483d88b759a4a6a0cb5b132dfbba\nImplements: blueprint role-as-a-plugin\n'}]",209,185267,e6a201ba089d196bc2932cbbd0f5b9622e8fac47,113,22,23,14167,,,0,"Define a new role through plugin

Change-Id: I582547b57a0a483d88b759a4a6a0cb5b132dfbba
Implements: blueprint role-as-a-plugin
",git fetch https://review.opendev.org/openstack/fuel-specs refs/changes/67/185267/23 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'specs/7.0/plugin-as-role.rst']",2,5e2e81415a1215b0746746d11872a2d0e23cdd14,bp/role-as-a-plugin,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Define a new role in Fuel through a plugin ========================================== https://blueprints.launchpad.net/fuel/+spec/role-as-a-plugin Implement possibility to describe specific node roles in plugin Problem description =================== Currently only 'base-os' role can be declarative described in plugin which makes problems with identification of specific role on fuel-library side. Also plugins can't provide disk partition and describe new network-type role(custome network roles will be implemented in context of [1]). Proposed change =============== * Give possability for plugin developers introduse new custome node role through plugin such as already done for attributes. Plugin node role should be related to specific environments not releases, for example from UX side: if plugin enabled in cluster(environment) user can select plugin role from roles list and attach it to nodes and vice versa it shouldn't displayed in roles list when plugin disabled for cluster * Provide volume partitions node-role in plugin and set deployment tasks in order * Introduce network-type role as plugin with behavior similar to node role Alternatives ------------ New roles can be created directly through CLI Data model impact ----------------- There is at least two ways of data model representation: 1. Plugin node|network roles directly mapped on `node_roles` and `network_roles` models. But we need to know which roles are core and which come as plugin. (more acceptable) 2. Separate entities for plugin node|network roles and core roles which generate duplications in data models. Nailgun DB tables changes for 1st option: New relation table `plugin_roles` will be described **PluginRoles** * `id` - unique identifier * `plugin_id` - relation key for plugin * `role_id` - relation key for role * `type` - model type (node|network) Based on advanced network [1] **NetworkRoles** * `is_plugin` - boolean flag to identify plugin role **NodeRoles** * `is_plugin` - boolean flag to identify plugin role REST API impact --------------- None Upgrade impact -------------- N/A Security impact --------------- N/A Notifications impact -------------------- N/A Other end user impact --------------------- None Performance Impact ------------------ None Plugin impact ------------- * New (node|network) oles with volume partition(for node) info should be describe in 'environment_config.yaml' file which will be mapped on Nailgun DB * Fuel plugin builder should automatically create in yaml file new node role based on plugin name. Other deployer impact --------------------- None Developer impact ---------------- Data model impact for network type plugin role depends on advanced networking [1]. It can affect plugin separate service if it will be in scope of 7.0 Infrastructure impact --------------------- None Implementation ============== Assignee(s) ----------- Primary assignee: * ikalnitsky * popovych-andrey Work Items ---------- * [Nailgun] Develop functionality for basic get/set operations for (nodes|networks) roles through plugin manager using existing API for node roles(network roles API will be implmented in context of [1]). As alternative this plugin managing mechanism can be implemented in context of separate plugin service [3] * [FPB] Change default template which will describe basic info for role. Also `environment_config` data should mapping on Nailgun DB. (Or should we have separate DB for plugins?) Dependencies ============ * Advanced networking [1] * Volume partition functionality [2] * Separate plugin service [3] * Task base deployment Testing ======= Nailgun unit tests Nailgun integration tests FPB unit tests Documentation Impact ==================== We should have documented notice which help plugin developers describe new role in plugin. References ========== .. [1] https://blueprints.launchpad.net/fuel/+spec/granular-network-functions .. [2] https://blueprints.launchpad.net/fuel/+spec/volume-manager-refactoring .. [3] https://blueprints.launchpad.net/fuel/+spec/plugin-manager-as-separate-service ",,200,0
openstack%2Ffuel-specs~master~I7df3629df387db1925e68781b7393261ff0269a5,openstack/fuel-specs,master,I7df3629df387db1925e68781b7393261ff0269a5,Initial spec on versioning,ABANDONED,2014-09-05 13:34:55.000000000,2015-07-01 16:33:58.000000000,,"[{'_account_id': 3}, {'_account_id': 406}, {'_account_id': 8053}, {'_account_id': 8392}, {'_account_id': 10391}, {'_account_id': 10959}]","[{'number': 1, 'created': '2014-09-05 13:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/1e78d377be10936ff80025e118edf5226ce9142b', 'message': 'Initial spec on versioning\n\nChange-Id: I7df3629df387db1925e68781b7393261ff0269a5\n'}, {'number': 2, 'created': '2014-09-08 07:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/d3ad14a39cab3cd3f9da4e64169524e9d7ff8c77', 'message': 'Initial spec on versioning\n\nChange-Id: I7df3629df387db1925e68781b7393261ff0269a5\n'}, {'number': 3, 'created': '2014-09-10 08:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/afaa27ac5977ece276a263fd9611dad4a38278f2', 'message': 'Initial spec on versioning\n\nRelated blueprint nailgun-versioning\n\nChange-Id: I7df3629df387db1925e68781b7393261ff0269a5\n'}, {'number': 4, 'created': '2014-09-10 09:32:46.000000000', 'files': ['doc/source/index.rst', 'specs/6.0/fuel-versioning.rst'], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/7b2b1b04a1d00ba421abd883d4b92e149f79f7c7', 'message': 'Initial spec on versioning\n\nRelated blueprint nailgun-versioning\n\nChange-Id: I7df3629df387db1925e68781b7393261ff0269a5\n'}]",10,119374,7b2b1b04a1d00ba421abd883d4b92e149f79f7c7,15,6,4,8053,,,0,"Initial spec on versioning

Related blueprint nailgun-versioning

Change-Id: I7df3629df387db1925e68781b7393261ff0269a5
",git fetch https://review.opendev.org/openstack/fuel-specs refs/changes/74/119374/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/6.0/fuel-versioning.rst'],1,1e78d377be10936ff80025e118edf5226ce9142b,bp/nailgun-versioning,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================= Versioning and backward compatibility in Fuel ============================================= https://blueprints.launchpad.net/fuel/+spec/nailgun-versioning Problem description =================== One of the first and foremost issues is supporting environments deployed with a previous Fuel version. Also we need to support deployment with some older releases, e.g. user may prefer Havana over Juno. Besides, versioning plays an important part in pluggable architecture. Proposed change =============== There are two known entry/exit points in Nailgun which need to use versioning: * REST API * RPC Serializers If user updates old Fuel version to a new one, he already has both old and new releases in DB, and he can use any of them for deploying an environment. UI and CLI will support only current version of API, but backend will have backward compatibility code which will convert new data into old format before storing it in database and/or sending it to Astute. Also, we need to decide how many versions back we should support. Alternatives ------------ We can implement REST API versioning as it's done in OpenStack, this means using versioning prefixes like '/v1/', '/v2/' and so on. This will require a lot of complex changes in UI code instead of backend (where we can just call the old version). But our UI is rather heavy already, so more complexity will only make situation worse. Data model impact ----------------- One of the biggest issues here is advanced networking, which implies lots of structural changes both in code and DB models structure. There are two possible solutions: * Keep some default models and relations as they are and implement translating from new API/data format to an old one (in RPC serializers or as a 'pre-save hook') * Rewrite network-related DB structure to JSON format, allowing to store different JSON versions in the same PostgreSQL table. This gives us better flexibility, but needs more research and also requires rewriting all current code to follow this approach REST API impact --------------- In 6.0 some additional handlers will be added and there will be some changes in data format, but no API version change is really required. Disadvantage is, some deployment engineers may use tools which rely on old API format. We can solve this by improving our CLI and fuel-client documentation, promoting them as a stable tools covering most possible cases. Upgrade impact -------------- Versioning feature is strongly entangled with upgrades. The main point is that we continue supporting old environments after upgrade is completed. Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- After upgrade most of configurable options for old environments will become locked. The only action available will be adding and removing nodes from existing environment deployed with one of the previous versions of Fuel. Performance Impact ------------------ Some actions on old environments may become a little slower due to additional translating logic. Other deployer impact --------------------- None Developer impact ---------------- Each new feature implemented in next Fuel release should be tested that it doesn't break backward compatibility. Implementation ============== Assignee(s) ----------- nmarkov@mirantis.com, eli@mirantis.com Work Items ---------- Dependencies ============ https://blueprints.launchpad.net/fuel/+spec/nailgun-versioning-api https://blueprints.launchpad.net/fuel/+spec/nailgun-versioning-rpc Testing ======= Tests should be run on all supported Fuel versions to ensure we didn't break support for old environments. Documentation Impact ==================== Each change that isn't supported in previous release should be mentioned in documentation as well as in release notes. References ========== None ",,150,0
openstack%2Ffuel-specs~master~I8931ad38a99d45a3901b71a65e3bfaf9f27ca8e5,openstack/fuel-specs,master,I8931ad38a99d45a3901b71a65e3bfaf9f27ca8e5,Nailgun Ceph plugin specification,ABANDONED,2014-09-24 20:15:27.000000000,2015-07-01 16:33:46.000000000,,"[{'_account_id': 3}, {'_account_id': 8053}, {'_account_id': 8392}, {'_account_id': 8749}, {'_account_id': 8907}, {'_account_id': 10391}, {'_account_id': 10959}, {'_account_id': 12404}]","[{'number': 1, 'created': '2014-09-24 20:15:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/bb45e5eb549e47c2fa2335f4a23092ae3f2fdaff', 'message': 'Nailgun Ceph plugin specification\n\nChange-Id: I8931ad38a99d45a3901b71a65e3bfaf9f27ca8e5\n'}, {'number': 2, 'created': '2014-09-24 20:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/d6b733588d6a696ac89f5aeafe8af02e1ef12cde', 'message': 'Nailgun Ceph plugin specification\n\nChange-Id: I8931ad38a99d45a3901b71a65e3bfaf9f27ca8e5\n'}, {'number': 3, 'created': '2014-09-24 21:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/6ecbb8315ae6baba3da14767527d2c1ada3d19c2', 'message': 'Nailgun Ceph plugin specification\n\nRelated to blueprint nailgun-ceph-plugin\n\nChange-Id: I8931ad38a99d45a3901b71a65e3bfaf9f27ca8e5\n'}, {'number': 4, 'created': '2014-09-24 21:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/a393a5b4a60c911f378c871582ee90b16163db2a', 'message': 'Nailgun Ceph plugin specification\n\nRelated to blueprint nailgun-ceph-plugin\n\nChange-Id: I8931ad38a99d45a3901b71a65e3bfaf9f27ca8e5\n'}, {'number': 5, 'created': '2014-09-24 23:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/fea6b976d46a623020203fb55e4c61696d777870', 'message': 'Nailgun Ceph plugin specification\n\nRelated to blueprint nailgun-ceph-plugin\n\nChange-Id: I8931ad38a99d45a3901b71a65e3bfaf9f27ca8e5\n'}, {'number': 6, 'created': '2014-10-10 09:43:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/2e6eb9066332d136295b773cb794b9137efa42cd', 'message': 'Nailgun Ceph plugin specification\n\nRelated to blueprint nailgun-ceph-plugin\n\nChange-Id: I8931ad38a99d45a3901b71a65e3bfaf9f27ca8e5\n'}, {'number': 7, 'created': '2014-10-14 13:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/9571d207ddbf55c1072322b83088895402a23da2', 'message': 'Nailgun Ceph plugin specification\n\nRelated to blueprint nailgun-ceph-plugin\n\nChange-Id: I8931ad38a99d45a3901b71a65e3bfaf9f27ca8e5\n'}, {'number': 8, 'created': '2014-10-14 14:03:50.000000000', 'files': ['specs/6.0/nailgun-ceph-plugin.rst'], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/eef921ccd0695c1e178509da065fefe01a1b032e', 'message': 'Nailgun Ceph plugin specification\n\nRelated to blueprint nailgun-ceph-plugin\n\nChange-Id: I8931ad38a99d45a3901b71a65e3bfaf9f27ca8e5\n'}]",14,123840,eef921ccd0695c1e178509da065fefe01a1b032e,29,8,8,8053,,,0,"Nailgun Ceph plugin specification

Related to blueprint nailgun-ceph-plugin

Change-Id: I8931ad38a99d45a3901b71a65e3bfaf9f27ca8e5
",git fetch https://review.opendev.org/openstack/fuel-specs refs/changes/40/123840/6 && git format-patch -1 --stdout FETCH_HEAD,['specs/6.0/nailgun-ceph-plugin.rst'],1,bb45e5eb549e47c2fa2335f4a23092ae3f2fdaff,bp/nailgun-ceph-plugin,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =================== Nailgun Ceph PLugin =================== https://blueprints.launchpad.net/fuel/+spec/nailgun-ceph-plugin Problem description =================== We have Ceph support in Fuel core right now. As a first approach, we need to move current implementation into separate plugin and it will serve as an example of plugin approach in the future. Proposed change =============== Plugin provides custom role in Nailgun, allowing to deploy Ceph on selected nodes. Alternatives ------------ None Data model impact ----------------- Plugin requires SQLAlchemy 0.9.4 to be able to work with PostgreSQL 9.3 and JSON (those are required for PluginStorage). REST API impact --------------- Ceph role is added to REST API. Also plugin adds custom partitions for both Ceph and Ceph journal. Currently it doesn’t extend wizard on UI, so radiobutton for Ceph is left there as is. Still, plugin stores a flag in PluginStorage that Ceph was enabled during environment creation. Upgrade impact -------------- None Security impact --------------- None Notifications impact -------------------- None Performance Impact ------------------ None Other end user impact --------------------- None Other deployer impact --------------------- Minimal size for Ceph partition equals to 3 Gb, for Ceph journal it defaults to 0. Also, volume with id=‘image’ is removed on controllers and 'image_cache_max_size' parameter in node attributes is being set to 0. Value of 'pg_num' for 'storage' section in environment attributes is calculated from the number of Ceph partitions allocated on nodes and 'osd_pool_size' parameter. By default pg_num=128. Developer impact ---------------- All Nailgun-related data is stored inside config.yaml file, which has the same format as we already have in openstack.yaml. Existing prototype is already very close to be Nailgun Plugin. The only thing it requires is custom tab in UI wizard, allowing to select Ceph as a storage type. Also it should be packaged into an RPM and installed on Master node together with Nailgun in the same container. Implementation ============== Assignee(s) ----------- nmarkov@mirantis.com, akislitsky@mirantis.com Work Items ---------- Dependencies ============ None Testing ======= Each plugin should have its own tests written using tox, unittests, casperjs, Selenium or some other corresponding testing framework. Documentation Impact ==================== In most common cases documentation may be presented by Sphinx docs, some RST files or just README.txt. References ========== None ",,123,0
openstack%2Fopenstack-ansible~juno~I2a397abad6557a48bc737dcd9cca787fc5afa728,openstack/openstack-ansible,juno,I2a397abad6557a48bc737dcd9cca787fc5afa728,Handle proxies through environment variables,MERGED,2015-06-17 14:52:32.000000000,2015-07-01 16:31:29.000000000,2015-07-01 16:31:28.000000000,"[{'_account_id': 3}, {'_account_id': 425}, {'_account_id': 6816}, {'_account_id': 7307}, {'_account_id': 7353}, {'_account_id': 12000}]","[{'number': 1, 'created': '2015-06-17 14:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ecff87ef64b23e5054277782a350a0a082073472', 'message': 'Handle proxies through environment variables\n\nWhen running os-ansible-deployment on a cluster siting behind a proxy,\nusers may need to set up special variables for proxies so that pip, and\nthe services all work as expected.\n\nCloses-bug: 1452456\nChange-Id: I2a397abad6557a48bc737dcd9cca787fc5afa728\n(cherry picked with modification from commit\ned7f78ea5689769b3a5e1db444f4c16f3cc06060)\n'}, {'number': 2, 'created': '2015-06-18 13:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1e73f3bed439b8f4ad27b538f769840ae9bf2ace', 'message': 'Handle proxies through environment variables\n\nWhen running os-ansible-deployment on a cluster siting behind a proxy,\nusers may need to set up special variables for proxies so that pip, and\nthe services all work as expected.\n\nCloses-bug: 1452456\nChange-Id: I2a397abad6557a48bc737dcd9cca787fc5afa728\n(cherry picked with modification from commit\ned7f78ea5689769b3a5e1db444f4c16f3cc06060)\n'}, {'number': 3, 'created': '2015-06-29 11:00:52.000000000', 'files': ['rpc_deployment/roles/host_common/tasks/main.yml', 'rpc_deployment/roles/container_setup/tasks/container_setup.yml', 'etc/rpc_deploy/user_variables.yml', 'rpc_deployment/roles/host_common/tasks/openstack_proxy_settings.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/36391a4f7e99d3901117ac4712c71c5eeae71e4a', 'message': 'Handle proxies through environment variables\n\nWhen running os-ansible-deployment on a cluster siting behind a proxy,\nusers may need to set up special variables for proxies so that pip, and\nthe services all work as expected.\n\nCloses-bug: 1452456\nChange-Id: I2a397abad6557a48bc737dcd9cca787fc5afa728\n(cherry picked with modification from commit\ned7f78ea5689769b3a5e1db444f4c16f3cc06060)\n'}]",2,192717,36391a4f7e99d3901117ac4712c71c5eeae71e4a,25,6,3,7217,,,0,"Handle proxies through environment variables

When running os-ansible-deployment on a cluster siting behind a proxy,
users may need to set up special variables for proxies so that pip, and
the services all work as expected.

Closes-bug: 1452456
Change-Id: I2a397abad6557a48bc737dcd9cca787fc5afa728
(cherry picked with modification from commit
ed7f78ea5689769b3a5e1db444f4c16f3cc06060)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/17/192717/3 && git format-patch -1 --stdout FETCH_HEAD,"['rpc_deployment/roles/host_common/tasks/main.yml', 'rpc_deployment/roles/container_setup/tasks/container_setup.yml', 'etc/rpc_deploy/user_variables.yml', 'rpc_deployment/roles/host_common/tasks/openstack_proxy_settings.yml']",4,ecff87ef64b23e5054277782a350a0a082073472,bug/1452456,"--- # Copyright 2015, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Install host proxy settings lineinfile: dest: /etc/environment state: present line: ""{% if item.value %}{{ item.key }}={{ item.value }}{% endif %}"" with_dict: global_environment_variables |default({}) tags: - openstack-host-proxies ",,48,0
openstack%2Fbifrost~master~Ia3f103dbc236a920e1eb4cdef2819ace1ac26988,openstack/bifrost,master,Ia3f103dbc236a920e1eb4cdef2819ace1ac26988,Fix a copy-paste error in README.rst,MERGED,2015-07-01 14:59:24.000000000,2015-07-01 16:31:19.000000000,2015-07-01 16:31:18.000000000,"[{'_account_id': 3}, {'_account_id': 5805}, {'_account_id': 11655}, {'_account_id': 12459}]","[{'number': 1, 'created': '2015-07-01 14:59:24.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b739f285e5bf183eed3a077769e420db44b468a0', 'message': 'Fix a copy-paste error in README.rst\n\nHardware deployment should use the deploy-dynamic playbook.\n\nChange-Id: Ia3f103dbc236a920e1eb4cdef2819ace1ac26988\n'}]",0,197618,b739f285e5bf183eed3a077769e420db44b468a0,8,4,1,6550,,,0,"Fix a copy-paste error in README.rst

Hardware deployment should use the deploy-dynamic playbook.

Change-Id: Ia3f103dbc236a920e1eb4cdef2819ace1ac26988
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/18/197618/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,b739f285e5bf183eed3a077769e420db44b468a0,fix-readme, ansible-playbook -vvvv -i inventory/bifrost_inventory.py deploy-dynamic.yaml, ansible-playbook -vvvv -i inventory/bifrost_inventory.py enroll-dynamic.yaml,1,1
openstack%2Fsahara~master~I61c5baab3aa0108eda6e8f0dcba2d8bfaa13bd28,openstack/sahara,master,I61c5baab3aa0108eda6e8f0dcba2d8bfaa13bd28,Use PyMySQL in connection string for DB tests,ABANDONED,2015-06-18 14:07:17.000000000,2015-07-01 16:23:41.000000000,,"[{'_account_id': 3}, {'_account_id': 6116}, {'_account_id': 7125}, {'_account_id': 7213}, {'_account_id': 7710}, {'_account_id': 8411}, {'_account_id': 12038}, {'_account_id': 13662}, {'_account_id': 13919}, {'_account_id': 13953}]","[{'number': 1, 'created': '2015-06-18 14:07:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/sahara/commit/dcda9653e7514846d39dbc76d0a70928e43ad681', 'message': 'Use PyMySQL in connection string for DB tests\n\nChange-Id: I61c5baab3aa0108eda6e8f0dcba2d8bfaa13bd28\nCloses-bug: #1466066\n'}]",0,193141,dcda9653e7514846d39dbc76d0a70928e43ad681,12,10,1,7710,,,0,"Use PyMySQL in connection string for DB tests

Change-Id: I61c5baab3aa0108eda6e8f0dcba2d8bfaa13bd28
Closes-bug: #1466066
",git fetch https://review.opendev.org/openstack/sahara refs/changes/41/193141/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,dcda9653e7514846d39dbc76d0a70928e43ad681,bug/1466066, OS_TEST_DBAPI_ADMIN_CONNECTION=mysql+pymysql://openstack_citest:openstack_citest@localhost/;postgresql://openstack_citest:openstack_citest@localhost/postgres,,1,0
openstack%2Fhorizon~master~I111efdd5f04df1d958dfcfe93ebfd45e4ad914a5,openstack/horizon,master,I111efdd5f04df1d958dfcfe93ebfd45e4ad914a5,Adding Angular Project Dashboard,ABANDONED,2015-06-30 21:47:23.000000000,2015-07-01 16:22:05.000000000,,"[{'_account_id': 3}, {'_account_id': 11881}, {'_account_id': 13805}]","[{'number': 1, 'created': '2015-06-30 21:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8e061e96cdf80addaf305fffdaa58ff3ca1da5db', 'message': 'Add Angular Project Dashboard\n\nThis patch creates a blank Project dashboard.\nFollow on patch will populate this dashboard with Instances Panel.\n\nChange-Id: I111efdd5f04df1d958dfcfe93ebfd45e4ad914a5\nPartially-Implements: blueprint angularize-instances-table\n'}, {'number': 2, 'created': '2015-06-30 21:47:54.000000000', 'files': ['openstack_dashboard/dashboards/project/static/dashboard/project/project.module.js', 'openstack_dashboard/enabled/_10_project.py', 'openstack_dashboard/dashboards/project/static/dashboard/project/project.scss', 'openstack_dashboard/dashboards/project/static/dashboard/project/project.module.spec.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/d045e0a7df323b20665c81ab92feeeae4d90214c', 'message': 'Adding Angular Project Dashboard\n\nThis patch creates a blank Project dashboard.\nLater on, we will populate this dashboard with Instances Panel.\n\nChange-Id: I111efdd5f04df1d958dfcfe93ebfd45e4ad914a5\nPartially-Implements: blueprint angularize-instances-table\n'}]",0,197343,d045e0a7df323b20665c81ab92feeeae4d90214c,6,3,2,11881,,,0,"Adding Angular Project Dashboard

This patch creates a blank Project dashboard.
Later on, we will populate this dashboard with Instances Panel.

Change-Id: I111efdd5f04df1d958dfcfe93ebfd45e4ad914a5
Partially-Implements: blueprint angularize-instances-table
",git fetch https://review.opendev.org/openstack/horizon refs/changes/43/197343/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/static/dashboard/project/project.module.js', 'openstack_dashboard/enabled/_10_project.py', 'openstack_dashboard/dashboards/project/static/dashboard/project/project.scss', 'openstack_dashboard/dashboards/project/static/dashboard/project/project.module.spec.js']",4,8e061e96cdf80addaf305fffdaa58ff3ca1da5db,bp/angularize-instances-table,"/** * Copyright 2015 IBM Corp. * * Licensed under the Apache License, Version 2.0 (the ""License""); you may * not use this file except in compliance with the License. You may obtain * a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * License for the specific language governing permissions and limitations * under the License. */ (function() { 'use strict'; describe('hz.dashboard.project', function() { it('should exist', function() { expect(angular.module('hz.dashboard.project')).toBeDefined(); }); }); })(); ",,64,0
openstack%2Fmonasca-agent~master~If17489c76569c4239378b16e2a75c080937b3ced,openstack/monasca-agent,master,If17489c76569c4239378b16e2a75c080937b3ced,Add a detection plugin for the crash check plugin,MERGED,2015-07-01 09:41:12.000000000,2015-07-01 15:57:19.000000000,2015-07-01 15:57:17.000000000,"[{'_account_id': 3}, {'_account_id': 11094}, {'_account_id': 14517}]","[{'number': 1, 'created': '2015-07-01 09:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/598e6353aaea68a6492f86ee300cad1e57e75f9d', 'message': 'Add a detection plugin for the crash check plugin\n\nSimply check if a crash kernel is loaded to determine if the crash check\nplugin should be enabled. If enabled, it is currently assumed, that crash\ndumps are stored under /var/crash.\n\nChange-Id: If17489c76569c4239378b16e2a75c080937b3ced\nSigned-off-by: Juerg Haefliger <juerg.haefliger@hp.com>\n'}, {'number': 2, 'created': '2015-07-01 14:40:41.000000000', 'files': ['monasca_setup/detection/plugins/crash.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/cc239df503f909955228c3bae81326f6f0f47be4', 'message': 'Add a detection plugin for the crash check plugin\n\nSimply check if a crash kernel is loaded to determine if the crash check\nplugin should be enabled. If enabled, it is currently assumed, that crash\ndumps are stored under /var/crash.\n\nChange-Id: If17489c76569c4239378b16e2a75c080937b3ced\nSigned-off-by: Juerg Haefliger <juerg.haefliger@hp.com>\n'}]",1,197489,cc239df503f909955228c3bae81326f6f0f47be4,11,3,2,2036,,,0,"Add a detection plugin for the crash check plugin

Simply check if a crash kernel is loaded to determine if the crash check
plugin should be enabled. If enabled, it is currently assumed, that crash
dumps are stored under /var/crash.

Change-Id: If17489c76569c4239378b16e2a75c080937b3ced
Signed-off-by: Juerg Haefliger <juerg.haefliger@hp.com>
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/89/197489/2 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_setup/detection/utils.py', 'monasca_setup/detection/plugins/crash.py']",2,598e6353aaea68a6492f86ee300cad1e57e75f9d,add-crash-detection-plugin,"import logging from monasca_setup import agent_config from monasca_setup.detection import Plugin from monasca_setup.detection.utils import execute log = logging.getLogger(__name__) class Crash(Plugin): """""" Detect if kdump is installed and enabled and setup configuration to monitor for crash dumps. """""" def _detect(self): """""" Run detection, set self.available True if a crash kernel is loaded. """""" try: (out, err) = execute(['cat', '/sys/kernel/kexec_crash_loaded']) if out.strip() == '1': self.available = True except: pass def build_config(self): """""" Build the config as a Plugin object and return it. """""" log.info('\tEnabling the Monasca crash dump healthcheck') config = agent_config.Plugins() config['crash'] = { 'init_config': None, 'instances': [{'name': 'crash_stats'}] } return config def dependencies_installed(self): return True ",,70,0
openstack%2Fpuppet-monasca~master~I8ac30d7f3cca44b8bafbd816b7f61585f9637d01,openstack/puppet-monasca,master,I8ac30d7f3cca44b8bafbd816b7f61585f9637d01,keystone/auth: make service description configurable,MERGED,2015-06-24 16:01:47.000000000,2015-07-01 15:57:06.000000000,2015-07-01 15:57:04.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 8126}, {'_account_id': 9500}, {'_account_id': 11491}]","[{'number': 1, 'created': '2015-06-24 16:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-monasca/commit/f773282d7b3720dfa529f171e215adf36f5465ca', 'message': 'keystone/auth: make service description configurable\n\nThis commit adds the service description as a class parameter in order to allow\nusers to update from a previous version if the service description is changed\n(incorrectly spelled or wrong description)\n\nChange-Id: I8ac30d7f3cca44b8bafbd816b7f61585f9637d01\nCloses-Bug: #1468407\n'}, {'number': 2, 'created': '2015-06-30 02:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-monasca/commit/837b935c6ddd0b608845c003ad2875e17d022850', 'message': 'keystone/auth: make service description configurable\n\nThis commit adds the service description as a class parameter in order to allow\nusers to update from a previous version if the service description is changed\n(incorrectly spelled or wrong description)\n\nChange-Id: I8ac30d7f3cca44b8bafbd816b7f61585f9637d01\nCloses-Bug: #1468407\n'}, {'number': 3, 'created': '2015-07-01 13:45:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-monasca/commit/afbc46d8bb67fb11f75eeae0c49d3c2b5994dbf6', 'message': 'keystone/auth: make service description configurable\n\nThis commit adds the service description as a class parameter in order to allow\nusers to update from a previous version if the service description is changed\n(incorrectly spelled or wrong description)\n\nChange-Id: I8ac30d7f3cca44b8bafbd816b7f61585f9637d01\nCloses-Bug: #1468407\n'}, {'number': 4, 'created': '2015-07-01 14:52:23.000000000', 'files': ['manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-monasca/commit/05ba6958a0f1c39c18d53b01404da3870fa71100', 'message': 'keystone/auth: make service description configurable\n\nThis commit adds the service description as a class parameter in order to allow\nusers to update from a previous version if the service description is changed\n(incorrectly spelled or wrong description)\n\nChange-Id: I8ac30d7f3cca44b8bafbd816b7f61585f9637d01\nCloses-Bug: #1468407\n'}]",2,195173,05ba6958a0f1c39c18d53b01404da3870fa71100,18,5,4,7155,,,0,"keystone/auth: make service description configurable

This commit adds the service description as a class parameter in order to allow
users to update from a previous version if the service description is changed
(incorrectly spelled or wrong description)

Change-Id: I8ac30d7f3cca44b8bafbd816b7f61585f9637d01
Closes-Bug: #1468407
",git fetch https://review.opendev.org/openstack/puppet-monasca refs/changes/73/195173/4 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/auth.pp'],1,f773282d7b3720dfa529f171e215adf36f5465ca,bug/1468407,"# [*service_description*] # Description for keystone service. Optional. Defaults to 'Openstack Monitoring Service'. # $service_description = 'Openstack Monitoring Service', description => $service_description,"," description => 'Openstack Monitoring Service',",5,1
openstack%2Ffuturist~master~Iadba1ab894f86afb19163814bb7b30360934751a,openstack/futurist,master,Iadba1ab894f86afb19163814bb7b30360934751a,Add periodics to doc features section,MERGED,2015-06-26 03:53:17.000000000,2015-07-01 15:54:20.000000000,2015-07-01 15:54:18.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 10239}]","[{'number': 1, 'created': '2015-06-26 03:53:17.000000000', 'files': ['doc/source/features.rst'], 'web_link': 'https://opendev.org/openstack/futurist/commit/2ea7dba03519ac91b4ab0d8b2f87302b905dfc03', 'message': 'Add periodics to doc features section\n\nChange-Id: Iadba1ab894f86afb19163814bb7b30360934751a\n'}]",0,195859,2ea7dba03519ac91b4ab0d8b2f87302b905dfc03,7,3,1,1297,,,0,"Add periodics to doc features section

Change-Id: Iadba1ab894f86afb19163814bb7b30360934751a
",git fetch https://review.opendev.org/openstack/futurist refs/changes/59/195859/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/features.rst'],1,2ea7dba03519ac91b4ab0d8b2f87302b905dfc03,,Async ----- Periodics --------- * A :py:class:`.futurist.periodics.PeriodicWorker` that can use the previously mentioned executors to run asynchronous work periodically in parallel or synchronously. It does this by executing arbitary functions/methods that have been decorated with the :py:func:`.futurist.periodics.periodic` decorator according to a internally maintained schedule (which itself is based on the `heap`_ algorithm). .. _heap: https://en.wikipedia.org/wiki/Heap_%28data_structure%29,,14,0
openstack%2Fpython-fuelclient~stable%2F6.1.2~I18dc5bded27fba0f022e37bf310852c4fff92bdd,openstack/python-fuelclient,stable/6.1.2,I18dc5bded27fba0f022e37bf310852c4fff92bdd,Change version to 6.1.2,MERGED,2015-07-01 14:48:20.000000000,2015-07-01 15:50:01.000000000,2015-07-01 15:43:54.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 14543}]","[{'number': 1, 'created': '2015-07-01 14:48:20.000000000', 'files': ['fuelclient/main.py', 'specs/python-fuelclient.spec', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-fuelclient/commit/522a2a390e0f5ad6ec316ce9654e18503b73e3f4', 'message': 'Change version to 6.1.2\n\nSince python-fuelclient has separate version from\nFuel and it is required to release important bugfixes\nthe version is bumped to 6.1.2.\n\n6.1.1 is skipped because it was tagged once before by\nmistake.\n\nChange-Id: I18dc5bded27fba0f022e37bf310852c4fff92bdd\n'}]",0,197616,522a2a390e0f5ad6ec316ce9654e18503b73e3f4,12,4,1,6623,,,0,"Change version to 6.1.2

Since python-fuelclient has separate version from
Fuel and it is required to release important bugfixes
the version is bumped to 6.1.2.

6.1.1 is skipped because it was tagged once before by
mistake.

Change-Id: I18dc5bded27fba0f022e37bf310852c4fff92bdd
",git fetch https://review.opendev.org/openstack/python-fuelclient refs/changes/16/197616/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuelclient/main.py', 'specs/python-fuelclient.spec', 'setup.cfg']",3,522a2a390e0f5ad6ec316ce9654e18503b73e3f4,version_611,version = 6.1.2,version = 7.0.0,3,3
openstack%2Fdesignate~master~I966b428b036a456107692edbfbb70ce76c52e6e7,openstack/designate,master,I966b428b036a456107692edbfbb70ce76c52e6e7,Return the correct recordsets total_count,MERGED,2015-06-30 13:52:11.000000000,2015-07-01 15:47:59.000000000,2015-07-01 15:47:56.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8174}, {'_account_id': 10068}, {'_account_id': 16277}]","[{'number': 1, 'created': '2015-06-30 13:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/0a69f16a071451198cd644a9e5c0f5382646df2a', 'message': 'Return the correct total_count when recordsets are being filtered by ""data"".\n\nChange-Id: I966b428b036a456107692edbfbb70ce76c52e6e7\nCloses-Bug: 1447325\n'}, {'number': 2, 'created': '2015-06-30 17:29:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/8014a19095f4cdcd07e0ac7d12b8271921813dce', 'message': 'Return the correct recordsets total_count.\n\nPreviously when recordsets were being filtered by ""data""\ntotal_count was set to None.\n\nChange-Id: I966b428b036a456107692edbfbb70ce76c52e6e7\nCloses-Bug: 1447325\n'}, {'number': 3, 'created': '2015-07-01 09:21:23.000000000', 'files': ['designate/api/v2/controllers/recordsets.py', 'designate/tests/test_api/test_v2/test_recordsets.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/5c99c15ea088014950ffa0a8296b50b45564ad71', 'message': 'Return the correct recordsets total_count\n\nPreviously when recordsets were being filtered by ""data""\ntotal_count was set to None.\n\nChange-Id: I966b428b036a456107692edbfbb70ce76c52e6e7\nCloses-Bug: 1447325\n'}]",0,197082,5c99c15ea088014950ffa0a8296b50b45564ad71,14,5,3,16962,,,0,"Return the correct recordsets total_count

Previously when recordsets were being filtered by ""data""
total_count was set to None.

Change-Id: I966b428b036a456107692edbfbb70ce76c52e6e7
Closes-Bug: 1447325
",git fetch https://review.opendev.org/openstack/designate refs/changes/82/197082/3 && git format-patch -1 --stdout FETCH_HEAD,"['designate/api/v2/controllers/recordsets.py', 'designate/tests/test_api/test_v2/test_recordsets.py']",2,0a69f16a071451198cd644a9e5c0f5382646df2a,bug/1447325," def test_total_count_filtered_by_data(self): # Closes bug 1447325 url = '/zones/%s/recordsets' % self.domain['id'] # Create a recordset fixture = self.get_recordset_fixture(self.domain['name'], fixture=0) response = self.client.post_json( '/zones/%s/recordsets' % self.domain['id'], fixture) response = self.client.get(url) # Make sure total_count picked up the change self.assertEqual(3, response.json['metadata']['total_count']) url = '/zones/%s/recordsets?data=nyan' % self.domain['id'] response = self.client.get(url) self.assertEqual(0, response.json['metadata']['total_count']) url = '/zones/%s/recordsets?data=ns1.example.org.' % self.domain['id'] response = self.client.get(url) self.assertEqual(1, response.json['metadata']['total_count']) # Test paging new_domain = self.create_domain(name='example.net.') recordset = self.create_recordset(new_domain, 'A') self.create_record(new_domain, recordset, data='nyan') recordset = self.create_recordset(new_domain, 'CNAME') self.create_record(new_domain, recordset, data='nyan') # Even with paging enabled, total_count is still the total number of # recordsets matching the ""data"" filter url = '/zones/%s/recordsets?limit=1&data=nyan' % new_domain.id response = self.client.get(url) self.assertEqual(2, response.json['metadata']['total_count']) ",,40,4
openstack%2Fdesignate~master~Ieb6eee611bf7b87fef79e3a108294bc0769cd685,openstack/designate,master,Ieb6eee611bf7b87fef79e3a108294bc0769cd685,Add shard and domain_shard to tables,MERGED,2015-06-19 17:24:26.000000000,2015-07-01 15:47:51.000000000,2015-07-01 15:47:46.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8174}]","[{'number': 1, 'created': '2015-06-19 17:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4d8936526707e3b22d7011ed5f767f9685e3dabf', 'message': 'Add shard and domain_shard to tables\n\nThis change adds shard to domains and domain_shard to records / recordsets as a\nprerequisite for the designate-zm service.\n\nChange-Id: Ieb6eee611bf7b87fef79e3a108294bc0769cd685\n'}, {'number': 2, 'created': '2015-06-19 18:48:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/efda574aafdf072a0927022efb736f1862f3b3b6', 'message': 'Add shard and domain_shard to tables\n\nThis change adds shard to domains and domain_shard to records / recordsets as a\nprerequisite for the designate-zm service.\n\nChange-Id: Ieb6eee611bf7b87fef79e3a108294bc0769cd685\n'}, {'number': 3, 'created': '2015-06-22 16:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/530707ced008e2488e5bda169f09bb200e903f3a', 'message': 'Add shard and domain_shard to tables\n\nThis change adds shard to domains and domain_shard to records / recordsets as a\nprerequisite for the designate-zm service.\n\nChange-Id: Ieb6eee611bf7b87fef79e3a108294bc0769cd685\n'}, {'number': 4, 'created': '2015-06-23 07:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/1558f69a6716a500391bdd06f819e8492799cb8d', 'message': 'Add shard and domain_shard to tables\n\nThis change adds shard to domains and domain_shard to records / recordsets as a\nprerequisite for the designate-zm service.\n\nChange-Id: Ieb6eee611bf7b87fef79e3a108294bc0769cd685\n'}, {'number': 5, 'created': '2015-06-23 07:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f24188a59c11a7e68d63f11501a900861d65374f', 'message': 'Add shard and domain_shard to tables\n\nThis change adds shard to domains and domain_shard to records / recordsets as a\nprerequisite for the designate-zm service.\n\nChange-Id: Ieb6eee611bf7b87fef79e3a108294bc0769cd685\n'}, {'number': 6, 'created': '2015-06-29 09:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/ae4502ab6da9c98776d744c2cefc472c0404ccde', 'message': 'Add shard and domain_shard to tables\n\nThis change adds shard to domains and domain_shard to records / recordsets as a\nprerequisite for the designate-zm service.\n\nChange-Id: Ieb6eee611bf7b87fef79e3a108294bc0769cd685\n'}, {'number': 7, 'created': '2015-06-29 10:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/cba0027422ddaf551c0c93367fefd26c0dea578d', 'message': 'Add shard and domain_shard to tables\n\nThis change adds shard to domains and domain_shard to records / recordsets as a\nprerequisite for the designate-zm service.\n\nChange-Id: Ieb6eee611bf7b87fef79e3a108294bc0769cd685\n'}, {'number': 8, 'created': '2015-06-29 10:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/04e24e9b6ccddeb88fa223448a341f25d0a7c0b9', 'message': 'Add shard and domain_shard to tables\n\nThis change adds shard to domains and domain_shard to records / recordsets as a\nprerequisite for the designate-zm service.\n\nChange-Id: Ieb6eee611bf7b87fef79e3a108294bc0769cd685\n'}, {'number': 9, 'created': '2015-06-29 12:35:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a1c9d619021e9cd24be766e7c06f73ce48fa8bac', 'message': 'Add shard and domain_shard to tables\n\nThis change adds shard to domains and domain_shard to records / recordsets as a\nprerequisite for the designate-zm service.\n\nChange-Id: Ieb6eee611bf7b87fef79e3a108294bc0769cd685\n'}, {'number': 10, 'created': '2015-06-29 12:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/6a486eb549c7bc12aada2194123073691d0e9a23', 'message': 'Add shard and domain_shard to tables\n\nThis change adds shard to domains and domain_shard to records / recordsets as a\nprerequisite for the designate-zm service.\n\nChange-Id: Ieb6eee611bf7b87fef79e3a108294bc0769cd685\n'}, {'number': 11, 'created': '2015-06-29 12:58:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/1f0a8c28fd4817262d0411650703b0912c023635', 'message': 'Add shard and domain_shard to tables\n\nThis change adds shard to domains and domain_shard to records / recordsets as a\nprerequisite for the designate-zm service.\n\nChange-Id: Ieb6eee611bf7b87fef79e3a108294bc0769cd685\n'}, {'number': 12, 'created': '2015-06-30 17:40:28.000000000', 'files': ['designate/storage/impl_sqlalchemy/tables.py', 'designate/objects/recordset.py', 'designate/objects/record.py', 'designate/storage/impl_sqlalchemy/migrate_repo/versions/068_add_shard_column.py', 'designate/objects/domain.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/ca19abf311cd96e74c5ce08a824097f563725966', 'message': 'Add shard and domain_shard to tables\n\nThis change adds shard to domains and domain_shard to records / recordsets as a\nprerequisite for the designate-zm service.\n\nChange-Id: Ieb6eee611bf7b87fef79e3a108294bc0769cd685\n'}]",5,193652,ca19abf311cd96e74c5ce08a824097f563725966,30,3,12,395,,,0,"Add shard and domain_shard to tables

This change adds shard to domains and domain_shard to records / recordsets as a
prerequisite for the designate-zm service.

Change-Id: Ieb6eee611bf7b87fef79e3a108294bc0769cd685
",git fetch https://review.opendev.org/openstack/designate refs/changes/52/193652/11 && git format-patch -1 --stdout FETCH_HEAD,"['designate/objects/recordset.py', 'designate/storage/impl_sqlalchemy/tables.py', 'designate/objects/record.py', 'designate/objects/domain.py', 'designate/utils.py', 'designate/storage/impl_sqlalchemy/migrate_repo/versions/067_add_shard_column.py']",6,4d8936526707e3b22d7011ed5f767f9685e3dabf,zm/tasks,"# Copyright 2015 Hewlett-Packard Development Company, L.P. # # Author: Endre Karlson <endre.karlson@hp.com> # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_log import log as logging from sqlalchemy import Column, MetaData, Table, SmallInteger from sqlalchemy.sql import select, update from designate import utils LOG = logging.getLogger(__name__) meta = MetaData() def _add_shards(engine, table, dst_col, src_col): dialect = engine.url.get_dialect().name if dialect.startswith('mysql'): sql = ""UPDATE %s SET %s = CONV(SUBSTR(%s, 1, 3), 16, 10)"" engine.execute(sql % (table.name, dst_col.name, src_col.name)) elif dialect.startswith('postgres'): sql = ""UPDATE %s SET %s = ('x'||lpad(substr(%s::text, 1, 3), 8, '0'))""\ ""::bit(32)::int"" engine.execute(sql % (table.name, dst_col.name, src_col.name)) else: rows = select(columns=[table.c.id]).execute().fetchall() for r in rows: shard = utils.uuid_shard(r.id) values = {dst_col.name: shard} update(table).where(table.id == r.id).values(values) def upgrade(migrate_engine): meta.bind = migrate_engine domains_table = Table('domains', meta, autoload=True) recordsets_table = Table('recordsets', meta, autoload=True) records_table = Table('records', meta, autoload=True) domains_shard_col = Column('shard', SmallInteger(), nullable=False) domains_shard_col.create(domains_table) recordset_domain_shard_col = Column('domain_shard', SmallInteger(), nullable=False) recordset_domain_shard_col.create(recordsets_table) records_domain_shard_col = Column('domain_shard', SmallInteger(), nullable=False) records_domain_shard_col.create(records_table) _add_shards( migrate_engine, domains_table, domains_shard_col, domains_table.c.id) _add_shards( migrate_engine, recordsets_table, recordset_domain_shard_col, recordsets_table.c.domain_id) _add_shards( migrate_engine, records_table, records_domain_shard_col, records_table.c.domain_id) ",,116,3
openstack%2Fnova~master~I4f9d12eee47409e21496870bac9fc86d25c39c06,openstack/nova,master,I4f9d12eee47409e21496870bac9fc86d25c39c06,DNM: Showing test_can_resize_need_fs_type_specified has issues,ABANDONED,2015-05-14 18:50:48.000000000,2015-07-01 15:41:22.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 9107}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 15286}, {'_account_id': 15751}]","[{'number': 1, 'created': '2015-05-14 18:50:48.000000000', 'files': ['nova/tests/unit/virt/disk/test_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/78296e649ef9f562b2775289e368c99ff954304b', 'message': 'DNM: Showing test_can_resize_need_fs_type_specified has issues\n\nChange-Id: I4f9d12eee47409e21496870bac9fc86d25c39c06\n'}]",0,183165,78296e649ef9f562b2775289e368c99ff954304b,9,7,1,1849,,,0,"DNM: Showing test_can_resize_need_fs_type_specified has issues

Change-Id: I4f9d12eee47409e21496870bac9fc86d25c39c06
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/183165/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/disk/test_api.py'],1,78296e649ef9f562b2775289e368c99ff954304b,DONOTMERGE," #def fake_import_fails(*args, **kwargs): # raise Exception('Failed') #self.useFixture(fixtures.MonkeyPatch( # 'oslo.utils.import_module', # fake_import_fails))"," def fake_import_fails(*args, **kwargs): raise Exception('Failed') self.useFixture(fixtures.MonkeyPatch( 'oslo.utils.import_module', fake_import_fails))",5,5
openstack%2Fnova~master~Id954d578b3b462d1c8c730a2deba552d389d14be,openstack/nova,master,Id954d578b3b462d1c8c730a2deba552d389d14be,Use oslo_utils instead of deprecated oslo.utils,ABANDONED,2015-07-01 12:23:48.000000000,2015-07-01 15:39:19.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 5638}, {'_account_id': 9578}, {'_account_id': 10385}, {'_account_id': 15286}]","[{'number': 1, 'created': '2015-07-01 12:23:48.000000000', 'files': ['nova/tests/unit/virt/disk/test_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/63895390fb39fb50265c1f3df6c0181ad6b45a1c', 'message': 'Use oslo_utils instead of deprecated oslo.utils\n\nThe oslo namespace is deprecated: fix the last occurence of oslo.utils.\n\nChange-Id: Id954d578b3b462d1c8c730a2deba552d389d14be\n'}]",1,197546,63895390fb39fb50265c1f3df6c0181ad6b45a1c,8,6,1,9107,,,0,"Use oslo_utils instead of deprecated oslo.utils

The oslo namespace is deprecated: fix the last occurence of oslo.utils.

Change-Id: Id954d578b3b462d1c8c730a2deba552d389d14be
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/197546/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/disk/test_api.py'],1,63895390fb39fb50265c1f3df6c0181ad6b45a1c,oslo_utils," 'oslo_utils.import_module',"," 'oslo.utils.import_module',",1,1
openstack%2Ffuel-specs~master~Ie45d4fa65c92b32da52a66ef607829c5614096c4,openstack/fuel-specs,master,Ie45d4fa65c92b32da52a66ef607829c5614096c4,Blueprint: snapshot-download-with-auth,MERGED,2015-06-18 12:50:04.000000000,2015-07-01 15:35:00.000000000,2015-07-01 15:34:58.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8735}, {'_account_id': 8749}, {'_account_id': 8954}, {'_account_id': 9546}, {'_account_id': 10136}, {'_account_id': 11082}, {'_account_id': 12200}, {'_account_id': 13445}, {'_account_id': 14495}, {'_account_id': 15454}, {'_account_id': 15984}]","[{'number': 1, 'created': '2015-06-18 12:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/0cdd9d2031f07aacdd573b76bb07361e2145d7e9', 'message': 'Blueprint: snapshot-download-with-auth\n\nChange-Id: Ie45d4fa65c92b32da52a66ef607829c5614096c4\n'}, {'number': 2, 'created': '2015-06-19 08:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/8d08ac63cda6fe6e52cd9f31635f85b65db1722f', 'message': 'Blueprint: snapshot-download-with-auth\n\nChange-Id: Ie45d4fa65c92b32da52a66ef607829c5614096c4\n'}, {'number': 3, 'created': '2015-06-19 14:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/9356f16c1e921626d05829f58d82650f7338d1aa', 'message': 'Blueprint: snapshot-download-with-auth\n\nChange-Id: Ie45d4fa65c92b32da52a66ef607829c5614096c4\n'}, {'number': 4, 'created': '2015-06-22 13:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/1f7ba3bb9d22a43af6b41b32a756ec10cf9c0bf8', 'message': 'Blueprint: snapshot-download-with-auth\n\nChange-Id: Ie45d4fa65c92b32da52a66ef607829c5614096c4\n'}, {'number': 5, 'created': '2015-06-23 09:07:53.000000000', 'files': ['requirements.txt', 'specs/7.0/snapshot-download-with-auth.rst', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/656e6a83433a6c7972adaa8c9f6517ead80f521d', 'message': 'Blueprint: snapshot-download-with-auth\n\nChange-Id: Ie45d4fa65c92b32da52a66ef607829c5614096c4\n'}]",8,193109,656e6a83433a6c7972adaa8c9f6517ead80f521d,32,13,5,15454,,,0,"Blueprint: snapshot-download-with-auth

Change-Id: Ie45d4fa65c92b32da52a66ef607829c5614096c4
",git fetch https://review.opendev.org/openstack/fuel-specs refs/changes/09/193109/5 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'specs/7.0/snapshot-download-with-auth.rst']",2,0cdd9d2031f07aacdd573b76bb07361e2145d7e9,bp/snapshot-download-with-auth,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ===================================== Snapshot download with authentication ===================================== https://blueprints.launchpad.net/fuel/+spec/snapshot-download-with-auth Required authentication for downloading snapshots Problem description =================== It is possible to guess (by brute force) diagnostic snapshot name and as a result get access to all logins and passwords. Proposed change =============== Diagnostic snapshot URL is currently handled by nginx, nailgun is not involved here. So we need to reconfigure nginx so this URL will be also handled by nailgun. * On the nailgun side, we need to implement a new handler for diagnostic snapshots. This handler will check for authentication. * Handler shouldn't actually serve snapshots but use XSendfile feature of nginx[1]. So after authentication check it should respond with empty response with proper X-Accel-Redirect header. * Nginx will do the rest and send the snapshot to the client. Alternatives ------------ We could encrypt snapshot using asymmetric cryptography Data model impact ----------------- None REST API impact --------------- One API endpoint will be added: GET dump/<snapshot_name>/ Check for authentication. Returns empty response with X-Accel-Redirect header set to <snapshot_name> location on server. Status code: * 200 OK Error codes: * 401 Unauthorized * 404 Not found - on non-existing snapshot Upgrade impact -------------- None Security impact --------------- The feature is intended to improve End User's security in matter of unauthorized access to sensitive data. Notifications impact -------------------- None Other end user impact --------------------- User should be already authenticated when executing command in fuelclient: :: fuel snapshot Performance Impact ------------------ None Plugin impact ------------- None Other deployer impact --------------------- None Developer impact ---------------- None Infrastructure impact --------------------- None Implementation ============== Assignee(s) ----------- Primary assignee: sbrzeczkowski Work Items ---------- * Create new API Handler for snapshots serving Dependencies ============ None Testing ======= Integration tests are required for this change: * try to download snapshot without authentication - should fail with 401 * try to download snapshot with authentication - should succeed with 200 * try to download non-existing snapshot - should fail with 404 Acceptance criteria ------------------- The most important thing is to not let End User to download snapshot without authentication. Documentation Impact ==================== None References ========== [1] http://wiki.nginx.org/XSendfile ",,164,0
openstack%2Fmonasca-notification~master~I2b5791e7b352fbb0c05bc665b4000c412b63f1ef,openstack/monasca-notification,master,I2b5791e7b352fbb0c05bc665b4000c412b63f1ef,Add fix for local time bug,MERGED,2015-06-30 07:09:51.000000000,2015-07-01 15:34:05.000000000,2015-07-01 15:34:04.000000000,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 11094}, {'_account_id': 16172}]","[{'number': 1, 'created': '2015-06-30 07:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/ef2b3ffb447a31833a8edc6a6c586d6f55570e4a', 'message': 'Change test_alarm_processor.py permissions to make it collectable by\nnose\n\nChange-Id: I2b5791e7b352fbb0c05bc665b4000c412b63f1ef\n'}, {'number': 2, 'created': '2015-06-30 08:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/b14edd18b9e9f336dce48e418fbb8777fd3215f6', 'message': ""Change `test_alarm_processor.py` permissions\n\n`test_alarm_processor.py` had different permissions than other test\nfiles. While `unittest` module could collect tests in this file,\nnosetests could't do it. Nose can collect tests in this file after\npermissions change\n\nChange-Id: I2b5791e7b352fbb0c05bc665b4000c412b63f1ef\n""}, {'number': 3, 'created': '2015-07-01 09:48:54.000000000', 'files': ['tests/test_alarm_processor.py'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/28a686d7eb0446632ffb9bb671d8f4af414a9250', 'message': ""Add fix for local time bug\n\nThe test 'test_old_timestamp' was not able to pass in different\ntimezones due to hardcoded expected datetime\n\nChange `test_alarm_processor.py` permissions\n\n`test_alarm_processor.py` had different permissions than other test\nfiles. While `unittest` module could collect tests in this file,\nnosetests could't do it. Nose can collect tests in this file after\npermissions change\n\nChange-Id: I2b5791e7b352fbb0c05bc665b4000c412b63f1ef\n""}]",0,196968,28a686d7eb0446632ffb9bb671d8f4af414a9250,13,4,3,16172,,,0,"Add fix for local time bug

The test 'test_old_timestamp' was not able to pass in different
timezones due to hardcoded expected datetime

Change `test_alarm_processor.py` permissions

`test_alarm_processor.py` had different permissions than other test
files. While `unittest` module could collect tests in this file,
nosetests could't do it. Nose can collect tests in this file after
permissions change

Change-Id: I2b5791e7b352fbb0c05bc665b4000c412b63f1ef
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/68/196968/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/test_alarm_processor.py'],1,ef2b3ffb447a31833a8edc6a6c586d6f55570e4a,bugfix/timezone-bugfix-2,,,0,0
openstack%2Fmurano-deployment~master~I08fb04f571c4657c87b7d854c25becbd019a15eb,openstack/murano-deployment,master,I08fb04f571c4657c87b7d854c25becbd019a15eb,Install python-novaclient required by utils into virtual environment,MERGED,2015-07-01 13:07:04.000000000,2015-07-01 15:32:02.000000000,2015-07-01 15:32:00.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7226}, {'_account_id': 7549}, {'_account_id': 7613}, {'_account_id': 10063}, {'_account_id': 13962}, {'_account_id': 14265}, {'_account_id': 15168}]","[{'number': 1, 'created': '2015-07-01 13:07:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-deployment/commit/b0f4f08429548ab47703a06a8d26bd6f531c598b', 'message': 'Install python-novaclient required by utils into virtual environment\n\nChange-Id: I08fb04f571c4657c87b7d854c25becbd019a15eb\n'}, {'number': 2, 'created': '2015-07-01 13:08:55.000000000', 'files': ['murano-ci/scripts/murano-integration-tests-devstack.sh'], 'web_link': 'https://opendev.org/openstack/murano-deployment/commit/8225b9247c009b88af2da4cb828c63d3dfcf4f6a', 'message': 'Install python-novaclient required by utils into virtual environment\n\nChange-Id: I08fb04f571c4657c87b7d854c25becbd019a15eb\n'}]",0,197571,8225b9247c009b88af2da4cb828c63d3dfcf4f6a,11,9,2,13752,,,0,"Install python-novaclient required by utils into virtual environment

Change-Id: I08fb04f571c4657c87b7d854c25becbd019a15eb
",git fetch https://review.opendev.org/openstack/murano-deployment refs/changes/71/197571/2 && git format-patch -1 --stdout FETCH_HEAD,['murano-ci/scripts/murano-integration-tests-devstack.sh'],1,b0f4f08429548ab47703a06a8d26bd6f531c598b,," sudo apt-get -y install python-virtualenv local tmp_venv=$(mktemp -d) virtualenv ${tmp_venv} ${tmp_venv}/bin/pip install ""python-novaclient>=2.22.0"" rm -rf ${tmp_venv} "," sudo pip install ""python-novaclient>=2.22.0""",6,1
openstack%2Fkeystone~master~I7f71fea55accaaaf38b2ee069fab9726c1045b4c,openstack/keystone,master,I7f71fea55accaaaf38b2ee069fab9726c1045b4c,OS-FEDERATION no longer extension in docs,MERGED,2015-06-17 13:35:16.000000000,2015-07-01 15:27:47.000000000,2015-07-01 15:27:45.000000000,"[{'_account_id': 3}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 7725}, {'_account_id': 8978}, {'_account_id': 11022}, {'_account_id': 13055}, {'_account_id': 13063}, {'_account_id': 13478}, {'_account_id': 15209}]","[{'number': 1, 'created': '2015-06-17 13:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/afdeb35580824b2bbc788250ef351e53bdcaf723', 'message': 'OS-FEDERATION no longer extension in docs\n\nUntil now all the docs assumed the OS-FEDERATION is still an extension.\nSince this is not true since Kilo release, we should also update our\ndocumentation.\n\nWe also moved some of the files from the ``extension`` directory to the\n``federation`` one.\n\nChange-Id: I7f71fea55accaaaf38b2ee069fab9726c1045b4c\nCloses-Bug: #1466092\n'}, {'number': 2, 'created': '2015-06-17 13:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b91ff1d54fa84e5d08a777e7646a61fb92b656e0', 'message': 'OS-FEDERATION no longer extension in docs\n\nUntil now all the docs assumed the OS-FEDERATION is still an extension.\nSince this is not true since Kilo release, we should also update our\ndocumentation.\n\nWe also moved some of the files from the ``extension`` directory to the\n``federation`` one.\n\nChange-Id: I7f71fea55accaaaf38b2ee069fab9726c1045b4c\nCloses-Bug: #1466092\n'}, {'number': 3, 'created': '2015-06-17 14:06:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0ece1cf5c3fb9d4fbba32f24d33520202706e2bc', 'message': 'OS-FEDERATION no longer extension in docs\n\nUntil now all the docs assumed the OS-FEDERATION is still an extension.\nSince this is not true since Kilo release, we should also update our\ndocumentation.\n\nWe also moved some of the files from the ``extension`` directory to the\n``federation`` one.\n\nChange-Id: I7f71fea55accaaaf38b2ee069fab9726c1045b4c\nCloses-Bug: #1466092\n'}, {'number': 4, 'created': '2015-06-17 14:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e3ed005a82430f533e807cb547273fe681faff1c', 'message': 'OS-FEDERATION no longer extension in docs\n\nUntil now all the docs assumed the OS-FEDERATION is still an extension.\nSince this is not true since Kilo release, we should also update our\ndocumentation.\n\nWe also moved some of the files from the ``extension`` directory to the\n``federation`` one.\n\nChange-Id: I7f71fea55accaaaf38b2ee069fab9726c1045b4c\nCloses-Bug: #1466092\n'}, {'number': 5, 'created': '2015-06-22 12:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6b7567bc02be2c0a08736cf4017f0c1953cd3d24', 'message': 'OS-FEDERATION no longer extension in docs\n\nUntil now all the docs assumed the OS-FEDERATION is still an extension.\nSince this is not true since Kilo release, we should also update our\ndocumentation.\n\nWe also moved some of the files from the ``extension`` directory to the\n``federation`` one.\n\nChange-Id: I7f71fea55accaaaf38b2ee069fab9726c1045b4c\nCloses-Bug: #1466092\n'}, {'number': 6, 'created': '2015-06-25 10:29:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/24c47148b9e2cfdf8095537e51e42df6f08626d5', 'message': 'OS-FEDERATION no longer extension in docs\n\nUntil now all the docs assumed the OS-FEDERATION is still an extension.\nSince this is not true since Kilo release, we should also update our\ndocumentation.\n\nWe also moved some of the files from the ``extension`` directory to the\n``federation`` one.\n\nChange-Id: I7f71fea55accaaaf38b2ee069fab9726c1045b4c\nCloses-Bug: #1466092\n'}, {'number': 7, 'created': '2015-06-26 09:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c7c0843fa63501541f50b322fbd402dc39e1dfb7', 'message': 'OS-FEDERATION no longer extension in docs\n\nUntil now all the docs assumed the OS-FEDERATION is still an extension.\nSince this is not true since Kilo release, we should also update our\ndocumentation.\n\nWe also moved some of the files from the ``extension`` directory to the\n``federation`` one.\n\nChange-Id: I7f71fea55accaaaf38b2ee069fab9726c1045b4c\nCloses-Bug: #1466092\n'}, {'number': 8, 'created': '2015-07-01 08:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1a8cf431736d71359520b56a0425b78cf4a5ee54', 'message': 'OS-FEDERATION no longer extension in docs\n\nUntil now all the docs assumed the OS-FEDERATION is still an extension.\nSince this is not true since Kilo release, we should also update our\ndocumentation.\n\nWe also moved some of the files from the ``extension`` directory to the\n``federation`` one.\n\nChange-Id: I7f71fea55accaaaf38b2ee069fab9726c1045b4c\nCloses-Bug: #1466092\n'}, {'number': 9, 'created': '2015-07-01 13:14:06.000000000', 'files': ['doc/source/federation/shibboleth.rst', 'doc/source/federation/websso.rst', 'doc/source/extensions.rst', 'doc/source/configure_federation.rst', 'doc/source/federation/openidc.rst', 'doc/source/extensions/federation.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/8cb9548ad0c239cce8f6506a202d36fb66f490e9', 'message': 'OS-FEDERATION no longer extension in docs\n\nUntil now all the docs assumed the OS-FEDERATION is still an extension.\nSince this is not true since Kilo release, we should also update our\ndocumentation.\n\nWe also moved some of the files from the ``extension`` directory to the\n``federation`` one.\n\nChange-Id: I7f71fea55accaaaf38b2ee069fab9726c1045b4c\nCloses-Bug: #1466092\n'}]",73,192671,8cb9548ad0c239cce8f6506a202d36fb66f490e9,63,10,9,8978,,,0,"OS-FEDERATION no longer extension in docs

Until now all the docs assumed the OS-FEDERATION is still an extension.
Since this is not true since Kilo release, we should also update our
documentation.

We also moved some of the files from the ``extension`` directory to the
``federation`` one.

Change-Id: I7f71fea55accaaaf38b2ee069fab9726c1045b4c
Closes-Bug: #1466092
",git fetch https://review.opendev.org/openstack/keystone refs/changes/71/192671/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/federation/shibboleth.rst', 'doc/source/federation/websso.rst', 'doc/source/configure_federation.rst', 'doc/source/federation/openidc.rst', 'doc/source/federation/federation.rst']",5,afdeb35580824b2bbc788250ef351e53bdcaf723,fix_docs,======================== Configure the Federation ======================== To enable the federation: 1. Add the federation driver to the ``[federation]`` section in,"================================== Enabling the Federation Extension ================================== To enable the federation extension: 1. Add the federation extension driver to the ``[federation]`` section in 4. Create the federation extension tables if using the provided SQL backend. For example:: ./bin/keystone-manage db_sync --extension federation 5. As of the Juno release, multiple Keystone deployments can now be federated. To do so, the `pysaml2 <https://pypi.python.org/pypi/pysaml2>`_ library is required. Since OS-FEDERATION is an extension, ``pysaml2`` is not installed by default, it must be installed manually. For example:: pip install --upgrade $(grep pysaml2 test-requirements.txt) Also, the `xmlsec1` command line tool is needed to sign the SAML assertions generated by the Keystone Identity Provider: .. code-block:: bash $ apt-get install xmlsec1",16,35
openstack%2Fdevstack~stable%2Fjuno~I60002fa77aba93bc4056f22e9d4721a717191388,openstack/devstack,stable/juno,I60002fa77aba93bc4056f22e9d4721a717191388,[Do not merge] Dummy patch,ABANDONED,2015-07-01 09:48:21.000000000,2015-07-01 15:23:44.000000000,,"[{'_account_id': 3}, {'_account_id': 13252}]","[{'number': 1, 'created': '2015-07-01 09:48:21.000000000', 'files': ['dummy'], 'web_link': 'https://opendev.org/openstack/devstack/commit/5ddfdd92c323d531021b4eb3b518d05e1b0fe854', 'message': '[Do not merge] Dummy patch\n\nJust trying to check whether grenade check for stable/juno is broken in itself.\n\nChange-Id: I60002fa77aba93bc4056f22e9d4721a717191388\n'}]",0,197492,5ddfdd92c323d531021b4eb3b518d05e1b0fe854,4,2,1,13252,,,0,"[Do not merge] Dummy patch

Just trying to check whether grenade check for stable/juno is broken in itself.

Change-Id: I60002fa77aba93bc4056f22e9d4721a717191388
",git fetch https://review.opendev.org/openstack/devstack refs/changes/92/197492/1 && git format-patch -1 --stdout FETCH_HEAD,['dummy'],1,5ddfdd92c323d531021b4eb3b518d05e1b0fe854,check-grenade,,,0,0
openstack%2Fhorizon~master~I46045dfec5f31a2f018bb0e0aec001b0033cc0ad,openstack/horizon,master,I46045dfec5f31a2f018bb0e0aec001b0033cc0ad,[Launch instance Fix] Fixes booting issue when booting from volume,MERGED,2015-06-15 09:41:16.000000000,2015-07-01 15:22:11.000000000,2015-07-01 15:22:08.000000000,"[{'_account_id': 3}, {'_account_id': 4428}, {'_account_id': 6763}, {'_account_id': 7665}, {'_account_id': 9576}, {'_account_id': 9981}, {'_account_id': 12826}, {'_account_id': 13805}]","[{'number': 1, 'created': '2015-06-15 09:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9000bfe50e047a3c22b555a6fd74adcd6b18088c', 'message': ""[Launch instance Fix] Fixes booting issue when booting from volume\n\nDon't need to specify image when booting instance from volume, since\nit already specified in block_device_mapping_v2 by 'uuid'.\n\nChange-Id: I46045dfec5f31a2f018bb0e0aec001b0033cc0ad\nCloses-bug: #1454283\n""}, {'number': 2, 'created': '2015-06-23 06:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/31b01be66e08b48d089cb1efa30a0ca875cec615', 'message': ""[Launch instance Fix] Fixes booting issue when booting from volume\n\nDon't need to specify image when booting instance from volume(create new volume),\nsince it already specified in block_device_mapping_v2 by 'uuid', and also for\nconsistence with the lengacy lanch process.\n\nChange-Id: I46045dfec5f31a2f018bb0e0aec001b0033cc0ad\nCloses-bug: #1454283\n""}, {'number': 3, 'created': '2015-06-24 01:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6b13fcb4af553282643a26f2d0487541da526348', 'message': ""[Launch instance Fix] Fixes booting issue when booting from volume\n\nDon't need to specify image when booting instance from volume(create new volume),\nsince it already specified in block_device_mapping_v2 by 'uuid', and also for\nconsistence with the lengacy lanch process.\n\nChange-Id: I46045dfec5f31a2f018bb0e0aec001b0033cc0ad\nCloses-bug: #1454283\n""}, {'number': 4, 'created': '2015-06-24 03:11:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/11491e1ae229ba997a5d6bc7144b3ad92bc33cc3', 'message': ""[Launch instance Fix] Fixes booting issue when booting from volume\n\nDon't need to specify image when booting instance from volume(create new volume),\nsince it already specified in block_device_mapping_v2 by 'uuid', and also for\nconsistence with the lengacy lanch process.\n\nChange-Id: I46045dfec5f31a2f018bb0e0aec001b0033cc0ad\nCloses-bug: #1454283\n""}, {'number': 5, 'created': '2015-06-24 04:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/876c75178a4274b0f17c5c32015f81d4ad47fd27', 'message': ""[Launch instance Fix] Fixes booting issue when booting from volume\n\nDon't need to specify image when booting instance from volume(create new volume),\nsince it already specified in block_device_mapping_v2 by 'uuid', and also for\nconsistence with the lengacy lanch process.\n\nChange-Id: I46045dfec5f31a2f018bb0e0aec001b0033cc0ad\nCloses-bug: #1454283\n""}, {'number': 6, 'created': '2015-06-26 05:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/13a240cf7e98a23031d811e586fe3dfb549eb421', 'message': ""[Launch instance Fix] Fixes booting issue when booting from volume\n\nDon't need to specify image when booting instance from volume(create new volume),\nsince it already specified in block_device_mapping_v2 by 'uuid', and also for\nconsistence with the lengacy lanch process.\n\nChange-Id: I46045dfec5f31a2f018bb0e0aec001b0033cc0ad\nCloses-bug: #1454283\n""}, {'number': 7, 'created': '2015-06-29 01:36:23.000000000', 'files': ['openstack_dashboard/static/dashboard/launch-instance/launch-instance.model.js', 'openstack_dashboard/static/dashboard/launch-instance/launch-instance.model.spec.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/d7d5c5932ace2c7c99a2fa34a2d97286003682c1', 'message': ""[Launch instance Fix] Fixes booting issue when booting from volume\n\nDon't need to specify image when booting instance from volume(create new volume),\nsince it already specified in block_device_mapping_v2 by 'uuid', and also for\nconsistence with the lengacy lanch process.\n\nChange-Id: I46045dfec5f31a2f018bb0e0aec001b0033cc0ad\nCloses-bug: #1454283\n""}]",7,191716,d7d5c5932ace2c7c99a2fa34a2d97286003682c1,33,8,7,4428,,,0,"[Launch instance Fix] Fixes booting issue when booting from volume

Don't need to specify image when booting instance from volume(create new volume),
since it already specified in block_device_mapping_v2 by 'uuid', and also for
consistence with the lengacy lanch process.

Change-Id: I46045dfec5f31a2f018bb0e0aec001b0033cc0ad
Closes-bug: #1454283
",git fetch https://review.opendev.org/openstack/horizon refs/changes/16/191716/6 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/static/dashboard/launch-instance/launch-instance.model.js'],1,9000bfe50e047a3c22b555a6fd74adcd6b18088c,fix-boot-from-volume, finalSpec.source_id = '';,,1,0
openstack%2Fmonasca-agent~master~Icdffe6b032eebd86332789b0d7bab80a61e5be79,openstack/monasca-agent,master,Icdffe6b032eebd86332789b0d7bab80a61e5be79,Be more explicit about which keystone processes to watch.,MERGED,2015-06-30 19:47:37.000000000,2015-07-01 15:20:13.000000000,2015-07-01 15:20:12.000000000,"[{'_account_id': 3}, {'_account_id': 9276}, {'_account_id': 11809}, {'_account_id': 14517}]","[{'number': 1, 'created': '2015-06-30 19:47:37.000000000', 'files': ['monasca_setup/detection/plugins/keystone.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/effcdd116b661fae2b8bfd76541a7f6babd47d62', 'message': 'Be more explicit about which keystone processes to watch.\n\nChange-Id: Icdffe6b032eebd86332789b0d7bab80a61e5be79\n'}]",0,197246,effcdd116b661fae2b8bfd76541a7f6babd47d62,8,4,1,11094,,,0,"Be more explicit about which keystone processes to watch.

Change-Id: Icdffe6b032eebd86332789b0d7bab80a61e5be79
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/46/197246/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_setup/detection/plugins/keystone.py'],1,effcdd116b661fae2b8bfd76541a7f6babd47d62,feature/rabbit," 'process_names': ['keystone-api', 'keystone-main'],"," 'process_names': ['keystone-'],",1,1
openstack%2Fmonasca-agent~master~I625b5ef10312f21df05940dd82be05dabb416b5c,openstack/monasca-agent,master,I625b5ef10312f21df05940dd82be05dabb416b5c,Documentation and all service_plugins get disable_http_check functionality,MERGED,2015-06-30 19:36:34.000000000,2015-07-01 15:20:07.000000000,2015-07-01 15:20:07.000000000,"[{'_account_id': 3}, {'_account_id': 9276}, {'_account_id': 14517}, {'_account_id': 15027}]","[{'number': 1, 'created': '2015-06-30 19:36:34.000000000', 'files': ['monasca_setup/detection/plugins/nova.py', 'monasca_setup/detection/plugins/glance.py', 'monasca_setup/detection/plugins/keystone.py', 'monasca_setup/detection/plugins/neutron.py', 'monasca_setup/detection/plugins/cinder.py', 'docs/Agent.md', 'monasca_setup/detection/plugins/swift.py', 'monasca_setup/detection/service_plugin.py', 'monasca_setup/detection/plugins/ceilometer.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/a789bcd14b69fd4fb522ea9742835abd065722dc', 'message': 'Documentation and all service_plugins get disable_http_check functionality\n\nChange-Id: I625b5ef10312f21df05940dd82be05dabb416b5c\n'}]",0,197239,a789bcd14b69fd4fb522ea9742835abd065722dc,9,4,1,11094,,,0,"Documentation and all service_plugins get disable_http_check functionality

Change-Id: I625b5ef10312f21df05940dd82be05dabb416b5c
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/39/197239/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_setup/detection/plugins/nova.py', 'monasca_setup/detection/plugins/glance.py', 'monasca_setup/detection/plugins/keystone.py', 'monasca_setup/detection/plugins/cinder.py', 'monasca_setup/detection/plugins/neutron.py', 'docs/Agent.md', 'monasca_setup/detection/plugins/swift.py', 'monasca_setup/detection/service_plugin.py', 'monasca_setup/detection/plugins/ceilometer.py']",9,a789bcd14b69fd4fb522ea9742835abd065722dc,feature/rabbit," 'args': args,",,35,16
openstack%2Foslo.messaging~feature%2Fzmq~I44cd48070bf7c7f46152fdf0e54664a7dee97de9,openstack/oslo.messaging,feature/zmq,I44cd48070bf7c7f46152fdf0e54664a7dee97de9,Initial commit for new zmq driver implementation,MERGED,2015-06-19 11:39:16.000000000,2015-07-01 15:17:00.000000000,2015-07-01 15:16:59.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 2813}, {'_account_id': 5638}, {'_account_id': 7491}, {'_account_id': 13290}]","[{'number': 1, 'created': '2015-06-19 11:39:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/0414cd9bf43389e26aa168bfd3ed2871bf99796d', 'message': 'Initial commit for new zmq driver implementation\n\n- Minimal RPC (CALL + direct CAST) implementation\n- Has up and running oslo_messaging/tests/drivers/test_impl_zmq\n- Pep8 fixed.\n- Works over REQ/REP pipeline according to [1]\n- Has a beginning of eventlet/threading behavior differentiation\n\nFanout and Notifier are not yet supported\nDevstack not yet fixed\nFunctional tests not yet fixed\n\n..[1] - https://review.openstack.org/#/c/171131/\n\nChange-Id: I44cd48070bf7c7f46152fdf0e54664a7dee97de9\n'}, {'number': 2, 'created': '2015-06-22 12:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/46aeb1336e5ee0232d1e6423f8ada4c62204e87f', 'message': 'Initial commit for new zmq driver implementation\n\n- Minimal RPC (CALL + direct CAST) implementation\n- Has up and running oslo_messaging/tests/drivers/test_impl_zmq\n- Pep8 fixed.\n- Works over REQ/REP pipeline according to [1]\n- Has a beginning of eventlet/threading behavior differentiation\n\nFanout and Notifier are not yet supported\nDevstack not yet fixed\nFunctional tests not yet fixed\n\n..[1] - https://review.openstack.org/#/c/171131/\n\nChange-Id: I44cd48070bf7c7f46152fdf0e54664a7dee97de9\n'}, {'number': 3, 'created': '2015-06-22 14:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/282b66a9fe2b7f20f05bb30c6809e4d2c8b8bf76', 'message': 'Initial commit for new zmq driver implementation\n\n- Minimal RPC (CALL + direct CAST) implementation\n- Has up and running oslo_messaging/tests/drivers/test_impl_zmq\n- Pep8 fixed.\n- Works over REQ/REP pipeline according to [1]\n- Has a beginning of eventlet/threading behavior differentiation\n\nFanout and Notifier are not yet supported\nDevstack not yet fixed\nFunctional tests not yet fixed\n\n..[1] - https://review.openstack.org/#/c/171131/\n\nChange-Id: I44cd48070bf7c7f46152fdf0e54664a7dee97de9\n'}, {'number': 4, 'created': '2015-06-23 09:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/4101e9ea152230402a0a1fd3b5915e5c53843ba1', 'message': 'Initial commit for new zmq driver implementation\n\n- Minimal RPC (CALL + direct CAST) implementation\n- Has up and running oslo_messaging/tests/drivers/test_impl_zmq\n- Pep8 fixed.\n- Works over REQ/REP pipeline according to [1]\n- Has a beginning of eventlet/threading behavior differentiation\n\nFanout and Notifier are not yet supported\nDevstack not yet fixed\nFunctional tests not yet fixed\n\n..[1] - https://review.openstack.org/#/c/171131/\n\nChange-Id: I44cd48070bf7c7f46152fdf0e54664a7dee97de9\n'}, {'number': 5, 'created': '2015-06-23 15:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/50180a5174f1b3a7bbd5dd4df7de82c62de463e3', 'message': 'Initial commit for new zmq driver implementation\n\n- Minimal RPC (CALL + direct CAST) implementation\n- Has up and running oslo_messaging/tests/drivers/test_impl_zmq\n- Pep8 fixed.\n- Works over REQ/REP pipeline according to [1]\n- Has a beginning of eventlet/threading behavior differentiation\n\nFanout and Notifier are not yet supported\nDevstack not yet fixed\nFunctional tests not yet fixed\n\n..[1] - https://review.openstack.org/#/c/171131/\n\nChange-Id: I44cd48070bf7c7f46152fdf0e54664a7dee97de9\n'}, {'number': 6, 'created': '2015-06-24 09:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/227c9a4e84f0283cefa474dea7d63f053edf6d9f', 'message': 'Initial commit for new zmq driver implementation\n\n- Minimal RPC (CALL + direct CAST) implementation\n- Has up and running oslo_messaging/tests/drivers/test_impl_zmq\n- Pep8 fixed.\n- Works over REQ/REP pipeline according to [1]\n- Has a beginning of eventlet/threading behavior differentiation\n\nFanout and Notifier are not yet supported\nDevstack not yet fixed\nFunctional tests not yet fixed\n\n..[1] - https://review.openstack.org/#/c/171131/\n\nChange-Id: I44cd48070bf7c7f46152fdf0e54664a7dee97de9\n'}, {'number': 7, 'created': '2015-06-24 11:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/e3adf59f1f914d588979eb47e12ec41eee9d5b54', 'message': 'Initial commit for new zmq driver implementation\n\n- Minimal RPC (CALL + direct CAST) implementation\n- Has up and running oslo_messaging/tests/drivers/test_impl_zmq\n- Pep8 fixed.\n- Works over REQ/REP pipeline according to [1]\n- Has a beginning of eventlet/threading behavior differentiation\n\nFanout and Notifier are not yet supported\nDevstack not yet fixed\nFunctional tests not yet fixed\n\n..[1] - https://review.openstack.org/#/c/171131/\n\nChange-Id: I44cd48070bf7c7f46152fdf0e54664a7dee97de9\n'}, {'number': 8, 'created': '2015-06-24 13:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/18fec31047de0c4d7a16ebd47b9d037ce53550df', 'message': 'Initial commit for new zmq driver implementation\n\n- Minimal RPC (CALL + direct CAST) implementation\n- Has up and running oslo_messaging/tests/drivers/test_impl_zmq\n- Pep8 fixed.\n- Works over REQ/REP pipeline according to [1]\n- Has a beginning of eventlet/threading behavior differentiation\n\nFanout and Notifier are not yet supported\nDevstack not yet fixed\nFunctional tests not yet fixed\n\n..[1] - https://review.openstack.org/#/c/171131/\n\nChange-Id: I44cd48070bf7c7f46152fdf0e54664a7dee97de9\n'}, {'number': 9, 'created': '2015-06-24 13:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/ff92561db6643770343d12afbba4628ab68820e9', 'message': 'Initial commit for new zmq driver implementation\n\n- Minimal RPC (CALL + direct CAST) implementation\n- Has up and running oslo_messaging/tests/drivers/test_impl_zmq\n- Pep8 fixed.\n- Works over REQ/REP pipeline according to [1]\n- Has a beginning of eventlet/threading behavior differentiation\n\nFanout and Notifier are not yet supported\nDevstack not yet fixed\nFunctional tests not yet fixed\n\n..[1] - https://review.openstack.org/#/c/171131/\n\nChange-Id: I44cd48070bf7c7f46152fdf0e54664a7dee97de9\n'}, {'number': 10, 'created': '2015-06-26 21:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/e638e113e564d42eb091e4a02fd2cf9174b90355', 'message': 'Initial commit for new zmq driver implementation\n\n- Minimal RPC (CALL + direct CAST) implementation\n- Has up and running oslo_messaging/tests/drivers/test_impl_zmq\n- Pep8 fixed.\n- Works over REQ/REP pipeline according to [1]\n- Has a beginning of eventlet/threading behavior differentiation\n\nFanout and Notifier are not yet supported\nDevstack not yet fixed\nFunctional tests not yet fixed\n\n..[1] - https://review.openstack.org/#/c/171131/\n\nChange-Id: I44cd48070bf7c7f46152fdf0e54664a7dee97de9\n'}, {'number': 11, 'created': '2015-06-30 15:16:17.000000000', 'files': ['oslo_messaging/_drivers/zmq_driver/zmq_topic.py', 'oslo_messaging/_drivers/zmq_driver/broker/__init__.py', 'oslo_messaging/_drivers/zmq_driver/poller/threading_poller.py', 'oslo_messaging/_drivers/zmq_driver/rpc/client/__init__.py', 'tests/drivers/test_impl_zmq.py', 'oslo_messaging/_drivers/zmq_driver/rpc/client/zmq_cast_dealer.py', 'oslo_messaging/_drivers/zmq_driver/notifier/__init__.py', 'oslo_messaging/_drivers/zmq_driver/rpc/server/zmq_base_consumer.py', 'oslo_messaging/_drivers/zmq_driver/zmq_poller.py', 'oslo_messaging/_drivers/zmq_driver/broker/zmq_base_proxy.py', 'oslo_messaging/_drivers/zmq_driver/zmq_context.py', 'oslo_messaging/_drivers/zmq_driver/poller/__init__.py', 'oslo_messaging/_drivers/zmq_driver/__init__.py', 'oslo_messaging/_drivers/zmq_driver/poller/green_poller.py', 'oslo_messaging/_drivers/zmq_driver/rpc/__init__.py', 'oslo_messaging/tests/drivers/test_impl_zmq.py', 'oslo_messaging/_drivers/zmq_driver/rpc/client/zmq_request.py', 'oslo_messaging/_drivers/zmq_driver/zmq_serializer.py', 'oslo_messaging/_drivers/impl_zmq.py', 'oslo_messaging/_drivers/zmq_driver/rpc/client/zmq_cast_publisher.py', 'oslo_messaging/_drivers/zmq_driver/rpc/server/zmq_call_responder.py', 'oslo_messaging/_drivers/zmq_driver/rpc/client/zmq_call_request.py', 'oslo_messaging/_drivers/zmq_driver/broker/zmq_cast_proxy.py', 'oslo_messaging/_drivers/zmq_driver/zmq_async.py', 'oslo_messaging/_drivers/zmq_driver/broker/zmq_call_proxy.py', 'oslo_messaging/_drivers/zmq_driver/rpc/client/zmq_client.py', 'oslo_messaging/_drivers/zmq_driver/rpc/server/zmq_server.py', 'oslo_messaging/_drivers/zmq_driver/broker/zmq_broker.py', 'oslo_messaging/_drivers/zmq_driver/rpc/server/__init__.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/73cd49129f0ce2a799938b4fec9dcd847b0a77ad', 'message': 'Initial commit for new zmq driver implementation\n\n- Minimal RPC (CALL + direct CAST) implementation\n- Has up and running oslo_messaging/tests/drivers/test_impl_zmq\n- Pep8 fixed.\n- Works over REQ/REP pipeline according to [1]\n- Has a beginning of eventlet/threading behavior differentiation\n\nFanout and Notifier are not yet supported\nDevstack not yet fixed\nFunctional tests not yet fixed\n\n..[1] - https://review.openstack.org/#/c/171131/\n\nChange-Id: I44cd48070bf7c7f46152fdf0e54664a7dee97de9\n'}]",76,193502,73cd49129f0ce2a799938b4fec9dcd847b0a77ad,44,6,11,13290,,,0,"Initial commit for new zmq driver implementation

- Minimal RPC (CALL + direct CAST) implementation
- Has up and running oslo_messaging/tests/drivers/test_impl_zmq
- Pep8 fixed.
- Works over REQ/REP pipeline according to [1]
- Has a beginning of eventlet/threading behavior differentiation

Fanout and Notifier are not yet supported
Devstack not yet fixed
Functional tests not yet fixed

..[1] - https://review.openstack.org/#/c/171131/

Change-Id: I44cd48070bf7c7f46152fdf0e54664a7dee97de9
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/02/193502/9 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/_drivers/zmq_driver/zmq_topic.py', 'oslo_messaging/_drivers/zmq_driver/broker/__init__.py', 'oslo_messaging/_drivers/zmq_driver/poller/threading_poller.py', 'oslo_messaging/_drivers/zmq_driver/rpc/client/__init__.py', 'tests/drivers/test_impl_zmq.py', 'oslo_messaging/_drivers/zmq_driver/rpc/client/zmq_cast_dealer.py', 'oslo_messaging/_drivers/zmq_driver/notifier/__init__.py', 'oslo_messaging/_drivers/zmq_driver/rpc/server/zmq_base_consumer.py', 'oslo_messaging/_drivers/zmq_driver/zmq_poller.py', 'oslo_messaging/_drivers/zmq_driver/broker/zmq_base_proxy.py', 'oslo_messaging/_drivers/zmq_driver/zmq_context.py', 'oslo_messaging/_drivers/zmq_driver/poller/__init__.py', 'oslo_messaging/_drivers/zmq_driver/__init__.py', 'oslo_messaging/_drivers/zmq_driver/poller/green_poller.py', 'oslo_messaging/_drivers/zmq_driver/rpc/__init__.py', 'oslo_messaging/tests/drivers/test_impl_zmq.py', 'oslo_messaging/_drivers/zmq_driver/rpc/client/zmq_request.py', 'oslo_messaging/_drivers/zmq_driver/zmq_serializer.py', 'oslo_messaging/_drivers/impl_zmq.py', 'oslo_messaging/_drivers/zmq_driver/rpc/client/zmq_cast_publisher.py', 'oslo_messaging/_drivers/zmq_driver/rpc/server/zmq_call_responder.py', 'oslo_messaging/_drivers/zmq_driver/rpc/client/zmq_call_request.py', 'oslo_messaging/_drivers/zmq_driver/broker/zmq_cast_proxy.py', 'oslo_messaging/_drivers/zmq_driver/zmq_async.py', 'oslo_messaging/_drivers/zmq_driver/broker/zmq_call_proxy.py', 'oslo_messaging/_drivers/zmq_driver/rpc/client/zmq_client.py', 'oslo_messaging/_drivers/zmq_driver/rpc/server/zmq_server.py', 'oslo_messaging/_drivers/zmq_driver/broker/zmq_broker.py', 'oslo_messaging/_drivers/zmq_driver/rpc/server/__init__.py']",29,0414cd9bf43389e26aa168bfd3ed2871bf99796d,feature-zmq,,,1565,1750
openstack%2Fpython-ironic-inspector-client~master~I7fc6149613aada203af614f2c5e57dd4e0ada647,openstack/python-ironic-inspector-client,master,I7fc6149613aada203af614f2c5e57dd4e0ada647,Add functional test,MERGED,2015-07-01 12:36:44.000000000,2015-07-01 15:15:17.000000000,2015-07-01 15:15:16.000000000,"[{'_account_id': 3}, {'_account_id': 7419}, {'_account_id': 7882}]","[{'number': 1, 'created': '2015-07-01 12:36:44.000000000', 'files': ['functest-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/2ea4b8c2956407fe8e564f51993044ee3f4489c9', 'message': 'Add functional test\n\nThis is essentially the same as ironic-inspector functional test.\nRequires ironic-inspector (installed from git for now).\n\nChange-Id: I7fc6149613aada203af614f2c5e57dd4e0ada647\nCloses-Bug: #1470489\n'}]",0,197555,2ea4b8c2956407fe8e564f51993044ee3f4489c9,7,3,1,10239,,,0,"Add functional test

This is essentially the same as ironic-inspector functional test.
Requires ironic-inspector (installed from git for now).

Change-Id: I7fc6149613aada203af614f2c5e57dd4e0ada647
Closes-Bug: #1470489
",git fetch https://review.opendev.org/openstack/python-ironic-inspector-client refs/changes/55/197555/1 && git format-patch -1 --stdout FETCH_HEAD,"['functest-requirements.txt', 'tox.ini']",2,2ea4b8c2956407fe8e564f51993044ee3f4489c9,bug/1470489,"envlist = py27,py34,pep8,func[testenv:func] basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/functest-requirements.txt commands = python -m ironic_inspector.test.functional ","envlist = py27,py34,pep8",12,1
openstack%2Foslo-incubator~master~Ia98c7c108c464b2ef094b3d654cdeda87b33b634,openstack/oslo-incubator,master,Ia98c7c108c464b2ef094b3d654cdeda87b33b634,prints --insecure if verify=False and debug=True,MERGED,2014-12-26 19:30:54.000000000,2015-07-01 15:14:51.000000000,2015-07-01 15:14:51.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 6676}, {'_account_id': 6928}]","[{'number': 1, 'created': '2014-12-26 19:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/6ad90b53617048ba1f750a61a97fdbb69a1ca4ad', 'message': 'prints --insecure if verify=False and debug=True\n\nIf apiclient.client.HTTPClient has been set to verify=False, then\nwe should print --insecure when debug is enabled.\n\nChange-Id: Ia98c7c108c464b2ef094b3d654cdeda87b33b634\n'}, {'number': 2, 'created': '2015-01-07 17:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/d0addf8ba02097f365aebab6f45b5ed411fec4da', 'message': 'prints --insecure if verify=False and debug=True\n\nIf apiclient.client.HTTPClient has been set to verify=False, then\nwe should print --insecure when debug is enabled.\n\nChange-Id: Ia98c7c108c464b2ef094b3d654cdeda87b33b634\n'}, {'number': 3, 'created': '2015-07-01 14:44:02.000000000', 'files': ['openstack/common/apiclient/client.py', 'tests/unit/apiclient/test_client.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/7c1d9222f1a885c8b256301418e3ae0a54eaac78', 'message': 'prints --insecure if verify=False and debug=True\n\nIf apiclient.client.HTTPClient has been set to verify=False, then\nwe should print --insecure when debug is enabled.\n\nChange-Id: Ia98c7c108c464b2ef094b3d654cdeda87b33b634\n'}]",5,144176,7c1d9222f1a885c8b256301418e3ae0a54eaac78,16,5,3,6676,,,0,"prints --insecure if verify=False and debug=True

If apiclient.client.HTTPClient has been set to verify=False, then
we should print --insecure when debug is enabled.

Change-Id: Ia98c7c108c464b2ef094b3d654cdeda87b33b634
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/76/144176/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/common/apiclient/client.py', 'tests/unit/apiclient/test_client.py']",2,6ad90b53617048ba1f750a61a97fdbb69a1ca4ad,print-insecure," def test_log_req_insecure(self): self.logger = self.useFixture( fixtures.FakeLogger( format=""%(message)s"", level=logging.DEBUG, nuke_handlers=True ) ) cs = client.HTTPClient(FakeAuthPlugin(), debug=True, verify=False) cs._http_log_req('GET', '/foo', {'headers': {}}) output = self.logger.output.split('\n') self.assertIn(""REQ: curl -g -i --insecure -X 'GET' '/foo'"", output) cs = client.HTTPClient(FakeAuthPlugin(), debug=True, verify=True) cs._http_log_req('GET', '/foo', {'headers': {}}) output = self.logger.output.split('\n') self.assertIn(""REQ: curl -g -i -X 'GET' '/foo'"", output) cs = client.HTTPClient(FakeAuthPlugin(), debug=True, verify=None) cs._http_log_req('GET', '/foo', {'headers': {}}) output = self.logger.output.split('\n') self.assertIn(""REQ: curl -g -i -X 'GET' '/foo'"", output) ",,27,0
openstack%2Fironic-inspector~master~I34f8cdb2af3042dd0a8d2dc953298b8cf72dc378,openstack/ironic-inspector,master,I34f8cdb2af3042dd0a8d2dc953298b8cf72dc378,Updated from global requirements,MERGED,2015-07-01 12:51:13.000000000,2015-07-01 15:05:12.000000000,2015-07-01 15:05:12.000000000,"[{'_account_id': 3}, {'_account_id': 7419}, {'_account_id': 10239}]","[{'number': 1, 'created': '2015-07-01 12:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/7fe95978c816f52a28dbba2ab562c75cf2981901', 'message': 'Updated from global requirements\n\nChange-Id: I34f8cdb2af3042dd0a8d2dc953298b8cf72dc378\n'}, {'number': 2, 'created': '2015-07-01 14:02:26.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/762731698c1116204141d16d6f63f7a63df225ac', 'message': 'Updated from global requirements\n\nChange-Id: I34f8cdb2af3042dd0a8d2dc953298b8cf72dc378\n'}]",0,197560,762731698c1116204141d16d6f63f7a63df225ac,10,3,2,11131,,,0,"Updated from global requirements

Change-Id: I34f8cdb2af3042dd0a8d2dc953298b8cf72dc378
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/60/197560/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,7fe95978c816f52a28dbba2ab562c75cf2981901,openstack/requirements,python-ironicclient>=0.6.0,python-ironicclient>=0.2.1,1,1
openstack%2Fironic~master~I7301f650324aed092ffaf359a7ae759c3e0a1c43,openstack/ironic,master,I7301f650324aed092ffaf359a7ae759c3e0a1c43,Fix logging for soft power off failures,MERGED,2015-06-30 19:09:35.000000000,2015-07-01 15:03:07.000000000,2015-07-01 15:03:04.000000000,"[{'_account_id': 3}, {'_account_id': 6610}, {'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 10380}, {'_account_id': 12459}, {'_account_id': 14760}]","[{'number': 1, 'created': '2015-06-30 19:09:35.000000000', 'files': ['ironic/drivers/modules/agent_base_vendor.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/451b64b0f1729b0e8ae5a6bbd9c559354c2574ea', 'message': 'Fix logging for soft power off failures\n\nThis is currently logging with the number in milliseconds, but the unit\nas seconds. Fix it to log the number as seconds.\n\nChange-Id: I7301f650324aed092ffaf359a7ae759c3e0a1c43\n'}]",0,197231,451b64b0f1729b0e8ae5a6bbd9c559354c2574ea,12,7,1,10343,,,0,"Fix logging for soft power off failures

This is currently logging with the number in milliseconds, but the unit
as seconds. Fix it to log the number as seconds.

Change-Id: I7301f650324aed092ffaf359a7ae759c3e0a1c43
",git fetch https://review.opendev.org/openstack/ironic refs/changes/31/197231/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/agent_base_vendor.py'],1,451b64b0f1729b0e8ae5a6bbd9c559354c2574ea,fix-soft-power-logging," 'timeout': (wait * (attempts - 1)) / 1000,"," 'timeout': wait * (attempts - 1),",1,1
openstack%2Foslo-incubator~master~I9708ff9a661819e48c87c260483f15e958fc99ba,openstack/oslo-incubator,master,I9708ff9a661819e48c87c260483f15e958fc99ba,Add tools to clean up namespace package use,MERGED,2015-06-24 18:53:12.000000000,2015-07-01 15:00:13.000000000,2015-07-01 15:00:11.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 7002}, {'_account_id': 12000}]","[{'number': 1, 'created': '2015-06-24 18:53:12.000000000', 'files': ['tools/clean_oslo_namespaces.sh', 'tools/remove-namespace-packages-project.txt'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/30d3c96e5dbb6e38071c8718e75b8dba24090a35', 'message': 'Add tools to clean up namespace package use\n\nAdd a script and a text file with the commit message to be used when\nremoving oslo namespace packages from a project.\n\nChange-Id: I9708ff9a661819e48c87c260483f15e958fc99ba\n'}]",0,195263,30d3c96e5dbb6e38071c8718e75b8dba24090a35,7,4,1,2472,,,0,"Add tools to clean up namespace package use

Add a script and a text file with the commit message to be used when
removing oslo namespace packages from a project.

Change-Id: I9708ff9a661819e48c87c260483f15e958fc99ba
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/63/195263/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/clean_oslo_namespaces.sh', 'tools/remove-namespace-packages-project.txt']",2,30d3c96e5dbb6e38071c8718e75b8dba24090a35,bp/remove-namespace-packages,"Drop use of 'oslo' namespace package The Oslo libraries have moved all of their code out of the 'oslo' namespace package into per-library packages. The namespace package was retained during kilo for backwards compatibility, but will be removed by the liberty-2 milestone. This change removes the use of the namespace package, replacing it with the new package names. The patches in the libraries will be put on hold until application patches have landed, or L2, whichever comes first. At that point, new versions of the libraries without namespace packages will be released as a major version update. Please merge this patch, or an equivalent, before L2 to avoid problems with those library releases. Blueprint: remove-namespace-packages https://blueprints.launchpad.net/oslo-incubator/+spec/remove-namespace-packages ",,54,0
openstack%2Frally~master~I7f7fcd8a7f50e51d61677dd8126fec7016006caa,openstack/rally,master,I7f7fcd8a7f50e51d61677dd8126fec7016006caa,Install newer pip in install_rally.sh,MERGED,2015-06-30 15:44:48.000000000,2015-07-01 14:58:04.000000000,2015-07-01 14:58:02.000000000,"[{'_account_id': 3}, {'_account_id': 6835}, {'_account_id': 7369}, {'_account_id': 8576}, {'_account_id': 9545}, {'_account_id': 11748}, {'_account_id': 14817}, {'_account_id': 14884}]","[{'number': 1, 'created': '2015-06-30 15:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/42527890980abdd4e56c943af266a98175896d8a', 'message': ""WIP: install newer pip in install_rally.sh\n\nWe should probably extract the required pip version from\nrequirements.txt or something. (Same with tox, while we're at it.)\n\nChange-Id: I7f7fcd8a7f50e51d61677dd8126fec7016006caa\n""}, {'number': 2, 'created': '2015-06-30 15:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/40eb0bb48b39e08aa7b4f61c9cf7bfeeebdf7513', 'message': 'Install newer pip in install_rally.sh\n\npip>6.0 is required to handle certain requirements correctly.\n\nCloses-Bug: 1462421\nChange-Id: I7f7fcd8a7f50e51d61677dd8126fec7016006caa\n'}, {'number': 3, 'created': '2015-07-01 12:08:44.000000000', 'files': ['install_rally.sh'], 'web_link': 'https://opendev.org/openstack/rally/commit/4d2dea3a3379a4f05460751f74b24e6baa020cd6', 'message': 'Install newer pip in install_rally.sh\n\nNewer pip is required to handle certain requirements correctly.\n\nCloses-Bug: #1466055\nChange-Id: I7f7fcd8a7f50e51d61677dd8126fec7016006caa\n'}]",8,197142,4d2dea3a3379a4f05460751f74b24e6baa020cd6,25,8,3,11748,,,0,"Install newer pip in install_rally.sh

Newer pip is required to handle certain requirements correctly.

Closes-Bug: #1466055
Change-Id: I7f7fcd8a7f50e51d61677dd8126fec7016006caa
",git fetch https://review.opendev.org/openstack/rally refs/changes/42/197142/3 && git format-patch -1 --stdout FETCH_HEAD,['install_rally.sh'],1,42527890980abdd4e56c943af266a98175896d8a,bug/1462421,"elif ! have_command pip; then getpip=$(mktemp) download ""$getpip"" https://bootstrap.pypa.io/get-pip.py if ! ""$PYTHON"" ""$getpip""; then rm ""$getpip"" abort $EX_PROTOCOL ""Error installing pip."" fi rm ""$getpip""pip install -i $BASE_PIP_URL 'pip>=6.0' pbr 'tox<=1.6.1'"," if ! have_command pip; then missing=""$missing python-pip"" fi if [[ ""$missing"" == *python-pip* ]]; then missing=${missing//python-pip/} if ! $pkg_manager python-pip; then if ask_yn ""Error installing python-pip. Install from external source?""; then local pdir=$(mktemp -d) local getpip=""$pdir/get-pip.py"" download ""$getpip"" https://raw.github.com/pypa/pip/master/contrib/get-pip.py if ! ""$PYTHON"" ""$getpip""; then abort $EX_PROTOCOL ""Error while installing python-pip from external source."" fi else abort $EX_TEMPFAIL \ ""Please install python-pip manually."" fi fi fipip install -i $BASE_PIP_URL pbr 'tox<=1.6.1'",9,21
openstack%2Fneutron~feature%2Fqos~I22cfbdf0502d271fb25dfe744628057706cccecf,openstack/neutron,feature/qos,I22cfbdf0502d271fb25dfe744628057706cccecf,[WIP] Support Basic QoS CRUD operation,ABANDONED,2015-06-29 21:11:33.000000000,2015-07-01 14:50:42.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 8788}, {'_account_id': 9656}, {'_account_id': 9682}, {'_account_id': 9787}, {'_account_id': 10153}, {'_account_id': 10387}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14571}, {'_account_id': 14605}, {'_account_id': 16788}]","[{'number': 1, 'created': '2015-06-29 21:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e1a2de699f678e75ed45196bb3301096fc8e61a7', 'message': '[WIP] Support Basic QoS CRUD operation\n\nThis patch adds the support for QoS CRUD operation.\n\nChange-Id: I22cfbdf0502d271fb25dfe744628057706cccecf\n'}, {'number': 2, 'created': '2015-06-29 21:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f8d6537a45697987c39fb61a9e26e9eb09a2c855', 'message': '[WIP] Support Basic QoS CRUD operation\n\nThis patch adds the support for QoS CRUD operation.\n\nChange-Id: I22cfbdf0502d271fb25dfe744628057706cccecf\n'}, {'number': 3, 'created': '2015-06-30 07:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0345cccbac748a73268ff287db2862cfeadf796c', 'message': '[WIP] Support Basic QoS CRUD operation\n\nThis patch adds the support for QoS CRUD operation.\nCo-Authored-By: Ramanjaneya <ramanjieee@gmail.com>\nCo-Authored-By: vikram.choudhary <vikram.choudhary@huawei.com>\n\nChange-Id: I22cfbdf0502d271fb25dfe744628057706cccecf\n'}, {'number': 4, 'created': '2015-06-30 07:22:35.000000000', 'files': ['neutron/db/migration/alembic_migrations/versions/48153cb5f051_qos_db_changes.py', 'neutron/db/qos_db.py', 'neutron/db/migration/alembic_migrations/versions/HEAD'], 'web_link': 'https://opendev.org/openstack/neutron/commit/856ac63233d611ba8f39e3f22e312df0ce9a8906', 'message': '[WIP] Support Basic QoS CRUD operation\n\nThis patch adds the support for QoS CRUD operation.\n\nCo-Authored-By: Ramanjaneya <ramanjieee@gmail.com>\nCo-Authored-By: vikram.choudhary <vikram.choudhary@huawei.com>\nChange-Id: I22cfbdf0502d271fb25dfe744628057706cccecf\n'}]",0,196869,856ac63233d611ba8f39e3f22e312df0ce9a8906,40,14,4,9656,,,0,"[WIP] Support Basic QoS CRUD operation

This patch adds the support for QoS CRUD operation.

Co-Authored-By: Ramanjaneya <ramanjieee@gmail.com>
Co-Authored-By: vikram.choudhary <vikram.choudhary@huawei.com>
Change-Id: I22cfbdf0502d271fb25dfe744628057706cccecf
",git fetch https://review.opendev.org/openstack/neutron refs/changes/69/196869/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/migration/alembic_migrations/versions/48153cb5f051_qos_db_changes.py', 'neutron/db/qos_db.py', 'neutron/db/migration/alembic_migrations/versions/HEAD']",3,e1a2de699f678e75ed45196bb3301096fc8e61a7,neutron-qos,48153cb5f051,599c6a226151 ,262,1
openstack%2Fpython-fuelclient~master~Ifa83c4ef9bb5057ab1b3d467803377beac2247ed,openstack/python-fuelclient,master,Ifa83c4ef9bb5057ab1b3d467803377beac2247ed,Update link to developers' manual,MERGED,2015-07-01 13:35:37.000000000,2015-07-01 14:50:30.000000000,2015-07-01 14:44:24.000000000,"[{'_account_id': 3}, {'_account_id': 8749}, {'_account_id': 8971}, {'_account_id': 11082}, {'_account_id': 14543}]","[{'number': 1, 'created': '2015-07-01 13:35:37.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/python-fuelclient/commit/315d8bf991fbe7e2ab91abfc1f59b2f24fd92f45', 'message': ""Update link to developers' manual\n\nIt now points to a valid page in the documentation.\n\nCloses-bug: #1470497\nChange-Id: Ifa83c4ef9bb5057ab1b3d467803377beac2247ed\n""}]",0,197582,315d8bf991fbe7e2ab91abfc1f59b2f24fd92f45,12,5,1,6623,,,0,"Update link to developers' manual

It now points to a valid page in the documentation.

Closes-bug: #1470497
Change-Id: Ifa83c4ef9bb5057ab1b3d467803377beac2247ed
",git fetch https://review.opendev.org/openstack/python-fuelclient refs/changes/82/197582/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,315d8bf991fbe7e2ab91abfc1f59b2f24fd92f45,bug/1470497, https://docs.fuel-infra.org/fuel-dev, http://docs.mirantis.com/fuel-dev,1,1
openstack%2Fpuppet-nova~master~Ib78f09f8bc744a64a65ac5ca27a2e338ff829ffb,openstack/puppet-nova,master,Ib78f09f8bc744a64a65ac5ca27a2e338ff829ffb,Allow custom specification of operating system,ABANDONED,2015-07-01 04:30:47.000000000,2015-07-01 14:50:10.000000000,,"[{'_account_id': 3}, {'_account_id': 12841}]","[{'number': 1, 'created': '2015-07-01 04:30:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ed11a9a33e3b57a17215e5a3274099ac528d768c', 'message': 'Allow custom specification of operating system\n\nWe need this change in order to have an opportunity to install\nDebian packages in Ubuntu without hacking the manifests.\n\nChange-Id: Ib78f09f8bc744a64a65ac5ca27a2e338ff829ffb\n'}, {'number': 2, 'created': '2015-07-01 05:46:42.000000000', 'files': ['manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/46c2e191324e9dc5e7255368a00312a599c577c7', 'message': 'Allow custom specification of operating system\n\nWe need this change in order to have an opportunity to install\nDebian packages in Ubuntu without hacking the manifests.\n\nChange-Id: Ib78f09f8bc744a64a65ac5ca27a2e338ff829ffb\n'}]",0,197416,46c2e191324e9dc5e7255368a00312a599c577c7,8,2,2,12841,,,0,"Allow custom specification of operating system

We need this change in order to have an opportunity to install
Debian packages in Ubuntu without hacking the manifests.

Change-Id: Ib78f09f8bc744a64a65ac5ca27a2e338ff829ffb
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/16/197416/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/params.pp'],1,ed11a9a33e3b57a17215e5a3274099ac528d768c,, set_operatingsystem = $::operatingsystem case $set_operatingsystem {, case $::operatingsystem {,3,1
openstack%2Fpython-fuelclient~master~I18dc5bded27fba0f022e37bf310852c4fff92bdd,openstack/python-fuelclient,master,I18dc5bded27fba0f022e37bf310852c4fff92bdd,Change version to 6.1.2,ABANDONED,2015-06-30 15:51:45.000000000,2015-07-01 14:49:39.000000000,,"[{'_account_id': 3}, {'_account_id': 8971}]","[{'number': 1, 'created': '2015-06-30 15:51:45.000000000', 'files': ['fuelclient/main.py', 'specs/python-fuelclient.spec', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-fuelclient/commit/d4752651685d7f22d1c87de7001c193edb616570', 'message': 'Change version to 6.1.2\n\nSince python-fuelclient has separate version from\nFuel and it is required to release important bugfixes\nthe version is bumped to 6.1.2.\n\n6.1.1 is skipped because it was tagged once before by\nmistake.\n\nChange-Id: I18dc5bded27fba0f022e37bf310852c4fff92bdd\n'}]",0,197148,d4752651685d7f22d1c87de7001c193edb616570,5,2,1,6623,,,0,"Change version to 6.1.2

Since python-fuelclient has separate version from
Fuel and it is required to release important bugfixes
the version is bumped to 6.1.2.

6.1.1 is skipped because it was tagged once before by
mistake.

Change-Id: I18dc5bded27fba0f022e37bf310852c4fff92bdd
",git fetch https://review.opendev.org/openstack/python-fuelclient refs/changes/48/197148/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuelclient/main.py', 'specs/python-fuelclient.spec', 'setup.cfg']",3,d4752651685d7f22d1c87de7001c193edb616570,version_611,version = 6.1.2,version = 7.0.0,3,3
openstack%2Foslo.i18n~master~Id32e3aa0f117920c28afdeb04e5bd553af4e0629,openstack/oslo.i18n,master,Id32e3aa0f117920c28afdeb04e5bd553af4e0629,clarify translation policy,MERGED,2015-06-30 21:30:48.000000000,2015-07-01 14:42:22.000000000,2015-07-01 14:42:19.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 4190}, {'_account_id': 6601}]","[{'number': 1, 'created': '2015-06-30 21:30:48.000000000', 'files': ['doc/source/usage.rst', 'doc/source/guidelines.rst'], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/191e49095e854676a7cc444859dba3fa46e59360', 'message': 'clarify translation policy\n\nUpdate the policy about which changes should be translated based on the\ncross-project meeting from 2015-06-30.\n\nChange-Id: Id32e3aa0f117920c28afdeb04e5bd553af4e0629\n'}]",0,197339,191e49095e854676a7cc444859dba3fa46e59360,9,4,1,2472,,,0,"clarify translation policy

Update the policy about which changes should be translated based on the
cross-project meeting from 2015-06-30.

Change-Id: Id32e3aa0f117920c28afdeb04e5bd553af4e0629
",git fetch https://review.opendev.org/openstack/oslo.i18n refs/changes/39/197339/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/usage.rst', 'doc/source/guidelines.rst']",2,191e49095e854676a7cc444859dba3fa46e59360,clarify-policy,"The OpenStack I18N team has a limited capacity to translate messages, so we want to make their work as effective as possible by identifying the most useful text for them to translate. All text messages *the user sees* via exceptions or API calls should be marked for translation. However, some exceptions are used internally to signal error conditions between modules and are not intended to be presented to the user. Those do not need to be translated.","Text messages the user sees via exceptions or API calls should be translated using :py:attr:`TranslatorFactory.primary <oslo_i18n.TranslatorFactory.primary>`, which should be installed as ``_()`` in the integration module.",11,4
openstack%2Ffuel-web~master~Ieed10cb42d0242e12bca5c14ee83d59e9ef944fe,openstack/fuel-web,master,Ieed10cb42d0242e12bca5c14ee83d59e9ef944fe,"Fix typo in ""Settings->VMware"" tab",MERGED,2015-07-01 07:02:18.000000000,2015-07-01 14:42:03.000000000,2015-07-01 14:29:20.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 10068}, {'_account_id': 11427}, {'_account_id': 13516}]","[{'number': 1, 'created': '2015-07-01 07:02:18.000000000', 'files': ['nailgun/nailgun/fixtures/vmware_attributes.json', 'nailgun/nailgun/fixtures/openstack.yaml'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/d19631c3a05d85a2c6cb31b8d9376ee01baf2453', 'message': 'Fix typo in ""Settings->VMware"" tab\n\nCorrected ""VSphere"" to ""vSphere"" in ""Settings->VMware"" tab.\n\nAuthor: Aniket Anikhindi\n\nChange-Id: Ieed10cb42d0242e12bca5c14ee83d59e9ef944fe\nDocImpact:\nCloses-Bug: #1457899\n'}]",0,197447,d19631c3a05d85a2c6cb31b8d9376ee01baf2453,13,7,1,17087,,,0,"Fix typo in ""Settings->VMware"" tab

Corrected ""VSphere"" to ""vSphere"" in ""Settings->VMware"" tab.

Author: Aniket Anikhindi

Change-Id: Ieed10cb42d0242e12bca5c14ee83d59e9ef944fe
DocImpact:
Closes-Bug: #1457899
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/47/197447/1 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/nailgun/fixtures/vmware_attributes.json', 'nailgun/nailgun/fixtures/openstack.yaml']",2,d19631c3a05d85a2c6cb31b8d9376ee01baf2453,bug/1457899," label: ""vSphere cluster"" description: ""vSphere cluster"" error: ""Invalid vSphere cluster"""," label: ""VSphere cluster"" description: ""VSphere cluster"" error: ""Invalid VSphere cluster""",5,5
openstack%2Fpbr~master~I465ea84f82dfed96c27aeea9337cd28c64c73adf,openstack/pbr,master,I465ea84f82dfed96c27aeea9337cd28c64c73adf,Updated from global requirements,MERGED,2015-06-30 19:54:39.000000000,2015-07-01 14:41:23.000000000,2015-07-01 14:41:21.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 16272}]","[{'number': 1, 'created': '2015-06-30 19:54:39.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/pbr/commit/276603835d97fcca8508d568b026e1ccc352e4fe', 'message': 'Updated from global requirements\n\nChange-Id: I465ea84f82dfed96c27aeea9337cd28c64c73adf\n'}]",0,197249,276603835d97fcca8508d568b026e1ccc352e4fe,9,3,1,11131,,,0,"Updated from global requirements

Change-Id: I465ea84f82dfed96c27aeea9337cd28c64c73adf
",git fetch https://review.opendev.org/openstack/pbr refs/changes/49/197249/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,276603835d97fcca8508d568b026e1ccc352e4fe,openstack/requirements,fixtures>=1.3.1,fixtures>=0.3.14,1,1
openstack%2Ffuel-web~master~I6488f9de993337c66930f586fb1aed78fb805bb0,openstack/fuel-web,master,I6488f9de993337c66930f586fb1aed78fb805bb0,Beautify Dialogs,MERGED,2015-06-29 14:00:09.000000000,2015-07-01 14:38:56.000000000,2015-07-01 14:26:52.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8970}, {'_account_id': 8971}, {'_account_id': 9091}, {'_account_id': 9730}, {'_account_id': 15315}]","[{'number': 1, 'created': '2015-06-29 14:00:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/b9cb5f46ef41b75969c3d40b5ec1df5c63dbac85', 'message': 'Beautify Dialogs\n\nChange-Id: I6488f9de993337c66930f586fb1aed78fb805bb0\n'}, {'number': 2, 'created': '2015-06-30 15:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/e80ea7a8498f52a5f12c10da0ef60f7de2123930', 'message': 'Beautify Dialogs\n\n  - added Node detais picture\n  - fixed icons for errors an warnings\n\nChange-Id: I6488f9de993337c66930f586fb1aed78fb805bb0\n'}, {'number': 3, 'created': '2015-06-30 15:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/e1b2619421b0b756da58177638d9f10808680922', 'message': 'Beautify Dialogs\n\n  - added Node detais picture\n  - fixed icons for errors an warnings\n\nChange-Id: I6488f9de993337c66930f586fb1aed78fb805bb0\n'}, {'number': 4, 'created': '2015-07-01 10:22:47.000000000', 'files': ['nailgun/static/styles/main.less', 'nailgun/static/img/node-image.svg', 'nailgun/static/views/dialogs.jsx'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/9b7aa4c2f5334e56e63b0debed7a123c4b425808', 'message': 'Beautify Dialogs\n\n  - added Node detais picture\n  - fixed icons for errors an warnings\n\nChange-Id: I6488f9de993337c66930f586fb1aed78fb805bb0\n'}]",0,196671,9b7aa4c2f5334e56e63b0debed7a123c4b425808,30,8,4,9730,,,0,"Beautify Dialogs

  - added Node detais picture
  - fixed icons for errors an warnings

Change-Id: I6488f9de993337c66930f586fb1aed78fb805bb0
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/71/196671/4 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/static/styles/main.less', 'nailgun/static/views/dialogs.jsx']",2,b9cb5f46ef41b75969c3d40b5ec1df5c63dbac85,dialog-beautify, <i className='glyphicon glyphicon-danger-sign' /> {severity == 'danger' && index < blockers && <i className='glyphicon glyphicon-danger-sign' />} <i className='glyphicon glyphicon-danger-sign' /> <i className='glyphicon glyphicon-danger-sign' />, <i className='glyphicon glyphicon-warning-sign' /> {severity == 'danger' && index < blockers && <i className='glyphicon glyphicon-exclamation-sign' />} <i className='glyphicon glyphicon-warning-sign' /> <i className='glyphicon glyphicon-warning-sign' />,9,4
openstack%2Fdesignate~master~I47e554fbcf3309fef724f50e3e67af601578e83c,openstack/designate,master,I47e554fbcf3309fef724f50e3e67af601578e83c,fix broken UTs for python3 compatibility,MERGED,2015-07-01 06:29:47.000000000,2015-07-01 14:33:06.000000000,2015-07-01 14:33:05.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8099}, {'_account_id': 16277}]","[{'number': 1, 'created': '2015-07-01 06:29:47.000000000', 'files': ['designate/storage/impl_sqlalchemy/__init__.py', 'designate/utils.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/b4c2a1b2dddf2043c2f20dd7f9ed729dbd4bd6a7', 'message': 'fix broken UTs for python3 compatibility\n\nThis fix does following:\n1. decode byte string into utf-8 before json.load\n2. encode unicode to utf-8 before md5 checksum calculation\n\nPartially-Implements: blueprint designate-py3\n\nChange-Id: I47e554fbcf3309fef724f50e3e67af601578e83c\n'}]",0,197437,b4c2a1b2dddf2043c2f20dd7f9ed729dbd4bd6a7,14,4,1,16277,,,0,"fix broken UTs for python3 compatibility

This fix does following:
1. decode byte string into utf-8 before json.load
2. encode unicode to utf-8 before md5 checksum calculation

Partially-Implements: blueprint designate-py3

Change-Id: I47e554fbcf3309fef724f50e3e67af601578e83c
",git fetch https://review.opendev.org/openstack/designate refs/changes/37/197437/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/storage/impl_sqlalchemy/__init__.py', 'designate/utils.py']",2,b4c2a1b2dddf2043c2f20dd7f9ed729dbd4bd6a7,bp/designate-py3," return json.loads(schema_string.decode('utf-8')) return Template(template_string.decode('utf-8'), keep_trailing_newline=True)"," return json.loads(schema_string) return Template(template_string, keep_trailing_newline=True)",5,3
openstack%2Fdesignate~master~I3f5f5f4e3b99867d3e96a3badb7493d6c1df00c8,openstack/designate,master,I3f5f5f4e3b99867d3e96a3badb7493d6c1df00c8,Replace dict.iterkeys() with six.iterkeys(dict),MERGED,2015-07-01 03:19:02.000000000,2015-07-01 14:32:59.000000000,2015-07-01 14:32:58.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8099}, {'_account_id': 16277}]","[{'number': 1, 'created': '2015-07-01 03:19:02.000000000', 'files': ['designate/api/v1/__init__.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/fc6980f762fc4909f960b1482b3c27551f7c956f', 'message': 'Replace dict.iterkeys() with six.iterkeys(dict)\n\nChange-Id: I3f5f5f4e3b99867d3e96a3badb7493d6c1df00c8\n'}]",0,197406,fc6980f762fc4909f960b1482b3c27551f7c956f,16,4,1,16277,,,0,"Replace dict.iterkeys() with six.iterkeys(dict)

Change-Id: I3f5f5f4e3b99867d3e96a3badb7493d6c1df00c8
",git fetch https://review.opendev.org/openstack/designate refs/changes/06/197406/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/api/v1/__init__.py'],1,fc6980f762fc4909f960b1482b3c27551f7c956f,bp/designate-py3,import six for code in six.iterkeys(wexceptions.default_exceptions):, for code in wexceptions.default_exceptions.iterkeys():,2,1
openstack%2Fdesignate~master~Ief4c48639fc7b8f562527640b641cf201826dd4a,openstack/designate,master,Ief4c48639fc7b8f562527640b641cf201826dd4a,Replace dict.items() with list(dict.items()),MERGED,2015-07-01 08:12:41.000000000,2015-07-01 14:32:56.000000000,2015-07-01 14:32:54.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8099}, {'_account_id': 16277}]","[{'number': 1, 'created': '2015-07-01 08:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f711fe969a490f9f505303d35f720904d8be9343', 'message': 'Replace dict.items() with list(dict.items())\n\nPython 3 dict.items() returns an iterator instead\nof list, so typecasting is required where necessary.\n\nChange-Id: Ief4c48639fc7b8f562527640b641cf201826dd4a\n'}, {'number': 2, 'created': '2015-07-01 08:13:40.000000000', 'files': ['designate/network_api/fake.py', 'designate/schema/__init__.py', 'designate/central/service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/4327adc7e31755beb9401b2dcd5c393ac57b8a2d', 'message': 'Replace dict.items() with list(dict.items())\n\nPython 3 dict.items() returns an iterator instead\nof list, so typecasting is required where necessary.\n\nPartially-Implements: blueprint designate-py3\n\nChange-Id: Ief4c48639fc7b8f562527640b641cf201826dd4a\n'}]",0,197463,4327adc7e31755beb9401b2dcd5c393ac57b8a2d,13,4,2,16277,,,0,"Replace dict.items() with list(dict.items())

Python 3 dict.items() returns an iterator instead
of list, so typecasting is required where necessary.

Partially-Implements: blueprint designate-py3

Change-Id: Ief4c48639fc7b8f562527640b641cf201826dd4a
",git fetch https://review.opendev.org/openstack/designate refs/changes/63/197463/2 && git format-patch -1 --stdout FETCH_HEAD,"['designate/network_api/fake.py', 'designate/schema/__init__.py', 'designate/central/service.py']",3,f711fe969a490f9f505303d35f720904d8be9343,bp/designate-py3, if len(records) > 0:, if records > 0:,8,8
openstack%2Ftraining-guides~master~I28ab69b486fe840e8874592841e806c03cc66db9,openstack/training-guides,master,I28ab69b486fe840e8874592841e806c03cc66db9,"[upstream-training] Split ""Agile manifest"" slide in Lego",MERGED,2015-07-01 09:52:28.000000000,2015-07-01 14:27:28.000000000,2015-07-01 14:27:27.000000000,"[{'_account_id': 3}, {'_account_id': 287}, {'_account_id': 2064}, {'_account_id': 7007}, {'_account_id': 10497}, {'_account_id': 11889}]","[{'number': 1, 'created': '2015-07-01 09:52:28.000000000', 'files': ['doc/upstream-training/source/20-training-agile-for-contributors.rst'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/b2b8cd5ce638503b2e99d1fc5c78704007f31bd2', 'message': '[upstream-training] Split ""Agile manifest"" slide in Lego\n\nAgile manifest items in a slide ""Lego applied to Free Software\ncontributions"" are too long, and some items go out from a frame.\nThis slide should be split in two.\n\nCloses-Bug: #1470022\nChange-Id: I28ab69b486fe840e8874592841e806c03cc66db9\n'}]",0,197494,b2b8cd5ce638503b2e99d1fc5c78704007f31bd2,8,6,1,10657,,,0,"[upstream-training] Split ""Agile manifest"" slide in Lego

Agile manifest items in a slide ""Lego applied to Free Software
contributions"" are too long, and some items go out from a frame.
This slide should be split in two.

Closes-Bug: #1470022
Change-Id: I28ab69b486fe840e8874592841e806c03cc66db9
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/94/197494/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/upstream-training/source/20-training-agile-for-contributors.rst'],1,b2b8cd5ce638503b2e99d1fc5c78704007f31bd2,bug/1470022, Agile manifesto (cont.) ======================= ,,4,0
openstack%2Fautomaton~master~Ia0693b8e06fa5bed2beabfff9c8b6023e8b58980,openstack/automaton,master,Ia0693b8e06fa5bed2beabfff9c8b6023e8b58980,Add and use a callback name fetching utility function,MERGED,2015-06-29 02:14:27.000000000,2015-07-01 14:24:31.000000000,2015-07-01 14:24:29.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 6618}, {'_account_id': 10584}]","[{'number': 1, 'created': '2015-06-29 02:14:27.000000000', 'files': ['automaton/_utils.py', 'automaton/machines.py'], 'web_link': 'https://opendev.org/openstack/automaton/commit/5dc121d596b55d4e531ca42cb4d88af499045bb1', 'message': 'Add and use a callback name fetching utility function\n\nPerform a better and more uniform (calling into a single\nfunction) job at fetching a callbacks fully qualified name.\n\nChange-Id: Ia0693b8e06fa5bed2beabfff9c8b6023e8b58980\n'}]",2,196495,5dc121d596b55d4e531ca42cb4d88af499045bb1,8,4,1,1297,,,0,"Add and use a callback name fetching utility function

Perform a better and more uniform (calling into a single
function) job at fetching a callbacks fully qualified name.

Change-Id: Ia0693b8e06fa5bed2beabfff9c8b6023e8b58980
",git fetch https://review.opendev.org/openstack/automaton refs/changes/95/196495/1 && git format-patch -1 --stdout FETCH_HEAD,"['automaton/_utils.py', 'automaton/machines.py']",2,5dc121d596b55d4e531ca42cb4d88af499045bb1,(detached,from automaton import _utils as utils row.append(utils.get_callback_name(target.on_enter)) row.append(utils.get_callback_name(target.on_exit)) on_enter = utils.get_callback_name(on_enter) on_exit = utils.get_callback_name(on_exit), try: row.append(target.on_enter.__name__) except AttributeError: row.append(target.on_enter) try: row.append(target.on_exit.__name__) except AttributeError: row.append(target.on_exit) try: on_enter = on_enter.__name__ except AttributeError: pass try: on_exit = on_exit.__name__ except AttributeError: pass,53,16
openstack%2Ftripleo-heat-templates~master~I67a72767342237049f53f5085a6faf891fbf0c30,openstack/tripleo-heat-templates,master,I67a72767342237049f53f5085a6faf891fbf0c30,Add a default route to the external isolated network,MERGED,2015-06-29 16:21:46.000000000,2015-07-01 14:22:49.000000000,2015-07-01 14:22:46.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 4328}, {'_account_id': 6796}, {'_account_id': 8449}]","[{'number': 1, 'created': '2015-06-29 16:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f87171048021d3136e1c7e15e84377f681e44e70', 'message': 'Add a default route to the external isolated network\n\nThis change adds a parameter for NeutronPublicInterfaceDefaultRoute\nand uses that parameter to set the default route on the controller\nnodes. This allows Horizon and the public APIs to be reachable from\nrouted networks outside the overcloud.\n\nChange-Id: I67a72767342237049f53f5085a6faf891fbf0c30\n'}, {'number': 2, 'created': '2015-06-29 16:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/68f2efa2ca49ca621a324600a9a9f3e8375331de', 'message': 'Add a default route to the external isolated network\n\nThis change adds a parameter for NeutronPublicInterfaceDefaultRoute\nand uses that parameter to set the default route on the controller\nnodes. This allows Horizon and the public APIs to be reachable from\nrouted networks outside the overcloud.\n\nChange-Id: I67a72767342237049f53f5085a6faf891fbf0c30\n'}, {'number': 3, 'created': '2015-06-29 16:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e86876a2871f3b6162a1613a012dd29d5b415d74', 'message': 'Add a default route to the external isolated network\n\nThis change adds a parameter for NeutronPublicInterfaceDefaultRoute\nand uses that parameter to set the default route on the controller\nnodes. This allows Horizon and the public APIs to be reachable from\nrouted networks outside the overcloud.\n\nChange-Id: I67a72767342237049f53f5085a6faf891fbf0c30\n'}, {'number': 4, 'created': '2015-06-29 18:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2c532ce2d72a56115a8a0d93268a94a85753512a', 'message': 'Add a default route to the external isolated network\n\nThis change adds a parameter for NeutronPublicInterfaceDefaultRoute\nand uses that parameter to set the default route on the controller\nnodes. This allows Horizon and the public APIs to be reachable from\nrouted networks outside the overcloud.\n\nChange-Id: I67a72767342237049f53f5085a6faf891fbf0c30\n'}, {'number': 5, 'created': '2015-06-29 18:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9c8605efb47d976669bd7942a390936c52bb42ba', 'message': 'Add a default route to the external isolated network\n\nThis change adds a parameter for NeutronPublicInterfaceDefaultRoute\nand uses that parameter to set the default route on the controller\nnodes. This allows Horizon and the public APIs to be reachable from\nrouted networks outside the overcloud.\n\nChange-Id: I67a72767342237049f53f5085a6faf891fbf0c30\n'}, {'number': 6, 'created': '2015-06-29 20:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d4bd896af60657b4726f80f7e69676e4128261c4', 'message': 'Add a default route to the external isolated network\n\nThis change adds a parameter for NeutronPublicInterfaceDefaultRoute\nand uses that parameter to set the default route on the controller\nnodes. This allows Horizon and the public APIs to be reachable from\nrouted networks outside the overcloud.\n\nCo-Authored-By: Dan Prince <dprince@redhat.com>\n\nChange-Id: I67a72767342237049f53f5085a6faf891fbf0c30\n'}, {'number': 7, 'created': '2015-06-29 20:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9bac08c44b38ad1f7ff138fed19afb183af966fe', 'message': 'Add a default route to the external isolated network\n\nThis change adds a parameter for ExternalInterfaceDefaultRoute\nand uses that parameter to set the default route on the controller\nnodes. This allows Horizon and the public APIs to be reachable from\nrouted networks outside the overcloud.\n\nCo-Authored-By: Dan Prince <dprince@redhat.com>\n\nChange-Id: I67a72767342237049f53f5085a6faf891fbf0c30\n'}, {'number': 8, 'created': '2015-06-29 20:24:07.000000000', 'files': ['network/config/single-nic-vlans/controller.yaml', 'network/config/bond-with-vlans/controller.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f08cc7ae12a55ae631097ea7557d3a32247bbd59', 'message': 'Add a default route to the external isolated network\n\nThis change adds a parameter for ExternalInterfaceDefaultRoute\nand uses that parameter to set the default route on the controller\nnodes. This allows Horizon and the public APIs to be reachable from\nrouted networks outside the overcloud.\n\nCo-Authored-By: Dan Prince <dprince@redhat.com>\n\nChange-Id: I67a72767342237049f53f5085a6faf891fbf0c30\n'}]",2,196732,f08cc7ae12a55ae631097ea7557d3a32247bbd59,30,5,8,12398,,,0,"Add a default route to the external isolated network

This change adds a parameter for ExternalInterfaceDefaultRoute
and uses that parameter to set the default route on the controller
nodes. This allows Horizon and the public APIs to be reachable from
routed networks outside the overcloud.

Co-Authored-By: Dan Prince <dprince@redhat.com>

Change-Id: I67a72767342237049f53f5085a6faf891fbf0c30
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/32/196732/8 && git format-patch -1 --stdout FETCH_HEAD,"['network/config/single-nic-vlans/controller.yaml', 'network/config/bond-with-vlans/controller.yaml']",2,f87171048021d3136e1c7e15e84377f681e44e70,ext_net_def_route, NeutronPublicInterfaceDefaultRoute: default: 10.0.0.1 description: Gateway address for the default route - ip_netmask: {get_param: ExternalIpSubnet} routes: - ip_netmask: 0.0.0.0/0 next_hop: {get_param: NeutronPublicInterfaceDefaultRoute}, - ip_netmask: {get_param: ExternalIpSubnet},16,2
openstack%2Ftripleo-heat-templates~master~Ibe2343d5281f7b63a7b63b17d96d8442d0b96105,openstack/tripleo-heat-templates,master,Ibe2343d5281f7b63a7b63b17d96d8442d0b96105,Remove bridge from nic1 in network bond templates,MERGED,2015-06-27 22:06:02.000000000,2015-07-01 14:22:36.000000000,2015-07-01 14:22:35.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 4328}, {'_account_id': 6796}, {'_account_id': 8399}, {'_account_id': 12398}]","[{'number': 1, 'created': '2015-06-27 22:06:02.000000000', 'files': ['network/config/bond-with-vlans/cinder-storage.yaml', 'network/config/bond-with-vlans/swift-storage.yaml', 'network/config/bond-with-vlans/ceph-storage.yaml', 'network/config/bond-with-vlans/controller.yaml', 'network/config/bond-with-vlans/compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aaca462d9a0fd075e6488bc9686a2b57eb8f9a6a', 'message': 'Remove bridge from nic1 in network bond templates\n\nThe bridge that is built on the bonds in the bond-with-vlans\nexample has an extraneous bridge on the storage and compute\ntemplates, and an incorrect bridge on the controller template.\nThere is no reason to do anything on nic1, which is assumed to\nbe the provisioning interface, because it will be configured by\nDHCP. Also, on the controller template we actually want br-ex\nto contain the VLAN with the external network, rather than be\nconfigured on the provisioning interface.\n\nChange-Id: Ibe2343d5281f7b63a7b63b17d96d8442d0b96105\n'}]",0,196403,aaca462d9a0fd075e6488bc9686a2b57eb8f9a6a,17,6,1,12398,,,0,"Remove bridge from nic1 in network bond templates

The bridge that is built on the bonds in the bond-with-vlans
example has an extraneous bridge on the storage and compute
templates, and an incorrect bridge on the controller template.
There is no reason to do anything on nic1, which is assumed to
be the provisioning interface, because it will be configured by
DHCP. Also, on the controller template we actually want br-ex
to contain the VLAN with the external network, rather than be
configured on the provisioning interface.

Change-Id: Ibe2343d5281f7b63a7b63b17d96d8442d0b96105
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/03/196403/1 && git format-patch -1 --stdout FETCH_HEAD,"['network/config/bond-with-vlans/cinder-storage.yaml', 'network/config/bond-with-vlans/swift-storage.yaml', 'network/config/bond-with-vlans/ceph-storage.yaml', 'network/config/bond-with-vlans/controller.yaml', 'network/config/bond-with-vlans/compute.yaml']",5,aaca462d9a0fd075e6488bc9686a2b57eb8f9a6a,network_config_bridge_fix,, name: {get_input: bridge_name} use_dhcp: true members: - type: interface name: nic1 # force the MAC address of the bridge to this interface primary: true - type: ovs_bridge,1,51
openstack%2Ffuel-web~master~I1f9088434a3347ae35bd8ec6ad6e002dec17aff5,openstack/fuel-web,master,I1f9088434a3347ae35bd8ec6ad6e002dec17aff5,Replace jQuery UI Sortable with React-DnD,MERGED,2015-06-22 14:57:53.000000000,2015-07-01 14:22:25.000000000,2015-07-01 14:10:22.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 9091}, {'_account_id': 9730}, {'_account_id': 13445}, {'_account_id': 15315}]","[{'number': 1, 'created': '2015-06-22 14:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/d803deffcf582a99cb517b7d3f3ff0712d77ebe1', 'message': 'Replace jQuery UI Sortable with React-DnD\n\nChange-Id: I1f9088434a3347ae35bd8ec6ad6e002dec17aff5\n'}, {'number': 2, 'created': '2015-06-22 16:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/39b10f141378d17da381bd20bcb5054ce875fd61', 'message': 'Replace jQuery UI Sortable with React-DnD\n\nChange-Id: I1f9088434a3347ae35bd8ec6ad6e002dec17aff5\n'}, {'number': 3, 'created': '2015-06-22 18:11:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/4d5b1d76390ce9dd0ce84290efb04d7a3882d23e', 'message': 'Replace jQuery UI Sortable with React-DnD\n\nChange-Id: I1f9088434a3347ae35bd8ec6ad6e002dec17aff5\n'}, {'number': 4, 'created': '2015-06-22 18:19:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/bca0db461e01dae1c53b1993053394678017a2f8', 'message': 'Replace jQuery UI Sortable with React-DnD\n\nChange-Id: I1f9088434a3347ae35bd8ec6ad6e002dec17aff5\n'}, {'number': 5, 'created': '2015-06-22 18:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/f991efb83dba2fa5e8df23f13cafa0701806df39', 'message': 'Replace jQuery UI Sortable with React-DnD\n\nChange-Id: I1f9088434a3347ae35bd8ec6ad6e002dec17aff5\n'}, {'number': 6, 'created': '2015-06-23 11:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/8e4c18eea2388aff84cf092a3c57a20e1840bae3', 'message': 'Replace jQuery UI Sortable with React-DnD\n\nChange-Id: I1f9088434a3347ae35bd8ec6ad6e002dec17aff5\n'}, {'number': 7, 'created': '2015-06-23 14:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/7251c17a5bb5740d03614b959499161f1976e5ed', 'message': 'Replace jQuery UI Sortable with React-DnD\n\nChange-Id: I1f9088434a3347ae35bd8ec6ad6e002dec17aff5\n'}, {'number': 8, 'created': '2015-06-23 15:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/dd0ec50f88b8f50b797d107e3a28147d02aae068', 'message': 'Replace jQuery UI Sortable with React-DnD\n\nAlso removes binding public and floating network as\nfloating network is not presented in API anymore.\n\nChange-Id: I1f9088434a3347ae35bd8ec6ad6e002dec17aff5\n'}, {'number': 9, 'created': '2015-06-23 15:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/5980fc28fb6ef172e3819f141fffbf27114f017e', 'message': 'Replace jQuery UI Sortable with React-DnD\n\nAlso removes binding public and floating network as\nfloating network is not presented in API anymore.\n\nChange-Id: I1f9088434a3347ae35bd8ec6ad6e002dec17aff5\n'}, {'number': 10, 'created': '2015-06-23 15:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/63176dc6908fdfdb41f54af0046f65f8be26df6b', 'message': 'Replace jQuery UI Sortable with React-DnD\n\nAlso removes binding public and floating network as\nfloating network is not presented in API anymore.\n\nChange-Id: I1f9088434a3347ae35bd8ec6ad6e002dec17aff5\n'}, {'number': 11, 'created': '2015-06-29 15:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/96aa966ebb66289b095e6751bd304155b53a24b7', 'message': 'Replace jQuery UI Sortable with React-DnD\n\nAlso removes binding public and floating network as\nfloating network is not presented in API anymore.\n\nChange-Id: I1f9088434a3347ae35bd8ec6ad6e002dec17aff5\n'}, {'number': 12, 'created': '2015-06-30 10:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/c0e7b3d72b74954c17bb1a26d25e56e2a448de65', 'message': 'Replace jQuery UI Sortable with React-DnD\n\nAlso removes binding public and floating network as\nfloating network is not presented in API anymore.\n\nChange-Id: I1f9088434a3347ae35bd8ec6ad6e002dec17aff5\n'}, {'number': 13, 'created': '2015-06-30 11:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/44fa96abc2eb44e9e526fe4b1fadc0e5f73146bf', 'message': 'Replace jQuery UI Sortable with React-DnD\n\nAlso removes binding public and floating network as\nfloating network is not presented in API anymore.\n\nChange-Id: I1f9088434a3347ae35bd8ec6ad6e002dec17aff5\n'}, {'number': 14, 'created': '2015-06-30 11:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/81333be7015c3e20b06c884d9cc61493faa5ba73', 'message': 'Replace jQuery UI Sortable with React-DnD\n\nAlso removes binding public and floating network as\nfloating network is not presented in API anymore.\n\nChange-Id: I1f9088434a3347ae35bd8ec6ad6e002dec17aff5\n'}, {'number': 15, 'created': '2015-06-30 11:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/b4b1e0fc45b4aab7ee3d60eebdee67a7d0ae2edd', 'message': 'Replace jQuery UI Sortable with React-DnD\n\nAlso removes binding public and floating network as\nfloating network is not presented in API anymore.\n\nChange-Id: I1f9088434a3347ae35bd8ec6ad6e002dec17aff5\n'}, {'number': 16, 'created': '2015-07-01 12:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/b0ca7dab9e86184b2e3c9aa6a6ef28252cb82bc2', 'message': 'Replace jQuery UI Sortable with React-DnD\n\nAlso removes binding public and floating network as\nfloating network is not presented in API anymore.\n\nChange-Id: I1f9088434a3347ae35bd8ec6ad6e002dec17aff5\n'}, {'number': 17, 'created': '2015-07-01 12:46:10.000000000', 'files': ['nailgun/static/views/cluster_page_tabs/nodes_tab_screens/edit_node_interfaces_screen.jsx', 'nailgun/static/views/root.jsx', 'nailgun/static/styles/main.less', 'nailgun/static/app.js', 'nailgun/bower.json', 'nailgun/static/config.js'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/7a8ceba64e8424b3a8c3f65122384b96b9cd852f', 'message': 'Replace jQuery UI Sortable with React-DnD\n\nAlso removes binding public and floating network as\nfloating network is not presented in API anymore.\n\nChange-Id: I1f9088434a3347ae35bd8ec6ad6e002dec17aff5\n'}]",0,194178,7a8ceba64e8424b3a8c3f65122384b96b9cd852f,98,8,17,8735,,,0,"Replace jQuery UI Sortable with React-DnD

Also removes binding public and floating network as
floating network is not presented in API anymore.

Change-Id: I1f9088434a3347ae35bd8ec6ad6e002dec17aff5
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/78/194178/16 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/static/views/cluster_page_tabs/nodes_tab_screens/edit_node_interfaces_screen.jsx', 'nailgun/bower.json', 'nailgun/static/config.js']",3,d803deffcf582a99cb517b7d3f3ff0712d77ebe1,react-dnd," 'react-dnd': 'vendor/bower/react-dnd/dist/ReactDnD.min',"," 'jquery-ui': 'vendor/bower/jquery-ui/ui',",15,23
openstack%2Foslo.config~master~Ib10eca3bf7813e44991634dc7ed948abbac14597,openstack/oslo.config,master,Ib10eca3bf7813e44991634dc7ed948abbac14597,Add tox target to find missing requirements,MERGED,2015-06-26 02:25:00.000000000,2015-07-01 14:22:18.000000000,2015-07-01 14:22:16.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 4190}, {'_account_id': 5638}, {'_account_id': 6159}]","[{'number': 1, 'created': '2015-06-26 02:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/27a9697b2bc42b760175c8f2dc2f616663f23f1c', 'message': 'Add tox target to find missing requirements\n\nChange-Id: Ib10eca3bf7813e44991634dc7ed948abbac14597\n'}, {'number': 2, 'created': '2015-06-26 11:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/3eca51cabc2f9baf71a239f001d394a175bb0fac', 'message': 'Add tox target to find missing requirements\n\nChange-Id: Ib10eca3bf7813e44991634dc7ed948abbac14597\n'}, {'number': 3, 'created': '2015-06-26 12:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/b9a4d239e496dc48ff5c4f32af31f9cef13470a8', 'message': 'Add tox target to find missing requirements\n\nChange-Id: Ib10eca3bf7813e44991634dc7ed948abbac14597\n'}, {'number': 4, 'created': '2015-06-28 15:15:37.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/8e1cd360187886dc634322ce00c5da9577cb226a', 'message': 'Add tox target to find missing requirements\n\nChange-Id: Ib10eca3bf7813e44991634dc7ed948abbac14597\n'}]",1,195849,8e1cd360187886dc634322ce00c5da9577cb226a,23,5,4,5638,,,0,"Add tox target to find missing requirements

Change-Id: Ib10eca3bf7813e44991634dc7ed948abbac14597
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/49/195849/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,27a9697b2bc42b760175c8f2dc2f616663f23f1c,pip-missing-reqs," [testenv:pip-missing-reqs] # do not install test-requirements as that will pollute the virtualenv for # determining missing packages # this also means that pip-missing-reqs must be installed separately, outside # of the requirements.txt files deps = pip_missing_reqs -rrequirements.txt commands = pip-missing-reqs -d --ignore-module=oslo_config* --ignore-file=oslo_config/tests/* --ignore-file=tests/ oslo_config",,9,0
openstack%2Fautomaton~master~I4730fb35018b6e1ceb02ef30fd04ef2c9e7348a6,openstack/automaton,master,I4730fb35018b6e1ceb02ef30fd04ef2c9e7348a6,When a state has no transitions show its own `on_exit` and `on_enter`,MERGED,2015-06-13 05:32:51.000000000,2015-07-01 14:22:15.000000000,2015-07-01 14:22:13.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 6618}, {'_account_id': 10584}]","[{'number': 1, 'created': '2015-06-13 05:32:51.000000000', 'files': ['automaton/machines.py'], 'web_link': 'https://opendev.org/openstack/automaton/commit/72239cfd70b91f8ce9d6f817e189ff27967fa22f', 'message': 'When a state has no transitions show its own `on_exit` and `on_enter`\n\nChange-Id: I4730fb35018b6e1ceb02ef30fd04ef2c9e7348a6\n'}]",7,191482,72239cfd70b91f8ce9d6f817e189ff27967fa22f,10,4,1,1297,,,0,"When a state has no transitions show its own `on_exit` and `on_enter`

Change-Id: I4730fb35018b6e1ceb02ef30fd04ef2c9e7348a6
",git fetch https://review.opendev.org/openstack/automaton refs/changes/82/191482/1 && git format-patch -1 --stdout FETCH_HEAD,['automaton/machines.py'],1,72239cfd70b91f8ce9d6f817e189ff27967fa22f,," on_enter = self._states[state]['on_enter'] if on_enter is not None: try: on_enter = on_enter.__name__ except AttributeError: pass else: on_enter = empty on_exit = self._states[state]['on_exit'] if on_exit is not None: try: on_exit = on_exit.__name__ except AttributeError: pass else: on_exit = empty tbl.add_row([pretty_state, empty, empty, on_enter, on_exit])"," tbl.add_row([pretty_state, empty, empty, empty, empty])",17,1
openstack%2Foslo.db~master~I6a5940abd100553da7c7e37efbbcf1d5eac996e5,openstack/oslo.db,master,I6a5940abd100553da7c7e37efbbcf1d5eac996e5,Allow projects that use test_models_sync to filter some changes,MERGED,2015-06-25 13:34:14.000000000,2015-07-01 14:17:21.000000000,2015-07-01 14:17:19.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6849}, {'_account_id': 7491}, {'_account_id': 9775}]","[{'number': 1, 'created': '2015-06-25 13:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/758119be2a260477a65d88e57540e7b3b9385506', 'message': 'Allow projects that use test_models_sync to filter some changes\n\nAdding a filter method so subclasses can choose to implement their\nown whitelist/blacklist of differences between their schema and\nmodels.\n\nCloses-Bug: #1468463\nChange-Id: I6a5940abd100553da7c7e37efbbcf1d5eac996e5\n'}, {'number': 2, 'created': '2015-06-26 17:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/7de5fedb9cf435ac8e94a6daea379a854317c8eb', 'message': 'Allow projects that use test_models_sync to filter some changes\n\nAdding a filter method so subclasses can choose to implement their\nown whitelist/blacklist of differences between their schema and\nmodels.\n\nCloses-Bug: #1468463\nChange-Id: I6a5940abd100553da7c7e37efbbcf1d5eac996e5\n'}, {'number': 3, 'created': '2015-07-01 11:57:34.000000000', 'files': ['oslo_db/sqlalchemy/test_migrations.py', 'oslo_db/tests/sqlalchemy/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/94d583acde16860e7ca535bd7a960e8993cd12d2', 'message': 'Allow projects that use test_models_sync to filter some changes\n\nAdding a filter method so subclasses can choose to implement their\nown whitelist/blacklist of differences between their schema and\nmodels.\n\nCloses-Bug: #1468463\nChange-Id: I6a5940abd100553da7c7e37efbbcf1d5eac996e5\n'}]",0,195578,94d583acde16860e7ca535bd7a960e8993cd12d2,19,5,3,5638,,,0,"Allow projects that use test_models_sync to filter some changes

Adding a filter method so subclasses can choose to implement their
own whitelist/blacklist of differences between their schema and
models.

Closes-Bug: #1468463
Change-Id: I6a5940abd100553da7c7e37efbbcf1d5eac996e5
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/78/195578/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_db/sqlalchemy/test_migrations.py'],1,758119be2a260477a65d88e57540e7b3b9385506,bug/1468463," def filter_metadata_diff(self, diff): # Allow subclasses to whitelist/blacklist changes return diff diff = self.filter_metadata_diff( alembic.autogenerate.compare_metadata(mc, self.get_metadata()))"," diff = alembic.autogenerate.compare_metadata(mc, self.get_metadata())",6,2
openstack%2Ftempest~master~I21f6d3988698e39d69754b58feaacd27d4f76af3,openstack/tempest,master,I21f6d3988698e39d69754b58feaacd27d4f76af3,Apply a naming rule of GET to secgroup clients,MERGED,2015-06-17 03:14:40.000000000,2015-07-01 14:17:12.000000000,2015-07-01 14:17:09.000000000,"[{'_account_id': 3}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 7020}, {'_account_id': 7428}, {'_account_id': 8556}, {'_account_id': 10300}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-06-17 03:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a256ee87f3129f4c4289d2bf6eff0ca538fbe916', 'message': 'Apply a naming rule of GET to compute clients(s*)\n\n[GET /resources] methods should be ""list_<resource name>s""\nor ""show_<resource name>"", so this patch applies the rule\nto compute clients which names are ""s*"".\n\nIn addition, this patch removes unnecessary str() because\nall callers specify string values and we need to pass py3\ntests when migrating them into tempest-lib.\n\nPartially implements blueprint consistent-service-method-names\n\nChange-Id: I21f6d3988698e39d69754b58feaacd27d4f76af3\n'}, {'number': 2, 'created': '2015-06-17 03:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/489bf688362d2f67318d9482ab42aeae7d655485', 'message': 'Apply a naming rule of GET to secgroup clients\n\n[GET /resources] methods should be ""list_<resource name>s""\nor ""show_<resource name>"", so this patch applies the rule\nto compute clients which names are ""security_group*"".\n\nIn addition, this patch removes unnecessary str() because\nall callers specify string values and we need to pass py3\ntests when migrating them into tempest-lib.\n\nPartially implements blueprint consistent-service-method-names\n\nChange-Id: I21f6d3988698e39d69754b58feaacd27d4f76af3\n'}, {'number': 3, 'created': '2015-06-17 03:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/30a2df753648503f2dacd651b16ec27b93421863', 'message': 'Apply a naming rule of GET to secgroup clients\n\n[GET /resources] methods should be ""list_<resource name>s""\nor ""show_<resource name>"", so this patch applies the rule\nto compute clients which names are ""security_group*"".\n\nIn addition, this patch removes unnecessary str() because\nall callers specify string values and we need to pass py3\ntests when migrating them into tempest-lib.\n\nPartially implements blueprint consistent-service-method-names\n\nChange-Id: I21f6d3988698e39d69754b58feaacd27d4f76af3\n'}, {'number': 4, 'created': '2015-06-17 04:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a70e4f073cc5af08c250f1b96ece42f6de37c200', 'message': 'Apply a naming rule of GET to secgroup clients\n\n[GET /resources] methods should be ""list_<resource name>s""\nor ""show_<resource name>"", so this patch applies the rule\nto compute clients which names are ""security_group*"".\n\nIn addition, this patch removes unnecessary str() because\nall callers specify string values and we need to pass py3\ntests when migrating them into tempest-lib.\n\nPartially implements blueprint consistent-service-method-names\n\nChange-Id: I21f6d3988698e39d69754b58feaacd27d4f76af3\n'}, {'number': 5, 'created': '2015-06-17 15:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fd6059df37a42f4e05a01d0edfc9bcd6dc1bd166', 'message': 'Apply a naming rule of GET to secgroup clients\n\n[GET /resources] methods should be ""list_<resource name>s""\nor ""show_<resource name>"", so this patch applies the rule\nto compute clients which names are ""security_group*"".\n\nIn addition, this patch removes unnecessary str() because\nall callers specify string values and we need to pass py3\ntests when migrating them into tempest-lib.\n\nPartially implements blueprint consistent-service-method-names\n\nChange-Id: I21f6d3988698e39d69754b58feaacd27d4f76af3\n'}, {'number': 6, 'created': '2015-06-22 08:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c92381ea5b9633e9a2311f24f86a4ec61af583dc', 'message': 'Apply a naming rule of GET to secgroup clients\n\n[GET /resources] methods should be ""list_<resource name>s""\nor ""show_<resource name>"", so this patch applies the rule\nto compute clients which names are ""security_group*"".\n\nIn addition, this patch removes unnecessary str() because\nall callers specify string values and we need to pass py3\ntests when migrating them into tempest-lib.\n\nPartially implements blueprint consistent-service-method-names\n\nChange-Id: I21f6d3988698e39d69754b58feaacd27d4f76af3\n'}, {'number': 7, 'created': '2015-06-25 08:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4931979ef6623301cad6c00fbfe02e5d1578abbf', 'message': 'Apply a naming rule of GET to secgroup clients\n\n[GET /resources] methods should be ""list_<resource name>s""\nor ""show_<resource name>"", so this patch applies the rule\nto compute clients which names are ""security_group*"".\n\nIn addition, this patch removes unnecessary str() because\nall callers specify string values and we need to pass py3\ntests when migrating them into tempest-lib.\n\nPartially implements blueprint consistent-service-method-names\n\nChange-Id: I21f6d3988698e39d69754b58feaacd27d4f76af3\n'}, {'number': 8, 'created': '2015-07-01 06:38:06.000000000', 'files': ['tempest/api/compute/admin/test_security_group_default_rules.py', 'tempest/api/compute/test_authorization.py', 'tempest/services/compute/json/security_group_default_rules_client.py', 'tempest/api/compute/security_groups/test_security_groups_negative.py', 'tempest/api/compute/security_groups/test_security_groups.py', 'tempest/services/compute/json/security_groups_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/217f2f3bcc4bd01228f83daeb062edac67264924', 'message': 'Apply a naming rule of GET to secgroup clients\n\n[GET /resources] methods should be ""list_<resource name>s""\nor ""show_<resource name>"", so this patch applies the rule\nto compute clients which names are ""security_group*"".\n\nIn addition, this patch removes unnecessary str() because\nall callers specify string values and we need to pass py3\ntests when migrating them into tempest-lib.\n\nPartially implements blueprint consistent-service-method-names\n\nChange-Id: I21f6d3988698e39d69754b58feaacd27d4f76af3\n'}]",2,192508,217f2f3bcc4bd01228f83daeb062edac67264924,34,8,8,6167,,,0,"Apply a naming rule of GET to secgroup clients

[GET /resources] methods should be ""list_<resource name>s""
or ""show_<resource name>"", so this patch applies the rule
to compute clients which names are ""security_group*"".

In addition, this patch removes unnecessary str() because
all callers specify string values and we need to pass py3
tests when migrating them into tempest-lib.

Partially implements blueprint consistent-service-method-names

Change-Id: I21f6d3988698e39d69754b58feaacd27d4f76af3
",git fetch https://review.opendev.org/openstack/tempest refs/changes/08/192508/3 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/admin/test_security_group_default_rules.py', 'tempest/services/compute/json/security_group_default_rules_client.py']",2,a256ee87f3129f4c4289d2bf6eff0ca538fbe916,bp/consistent-service-method-names," def show_security_group_default_rule(self, security_group_default_rule_id): resp, body = self.get('os-security-group-default-rules/%s' % security_group_default_rule_id)"," def get_security_group_default_rule(self, security_group_default_rule_id): resp, body = self.get('os-security-group-default-rules/%s' % str( security_group_default_rule_id))",5,5
openstack%2Fceilometer~master~I9f5ce01619a963dbe3bb7936ac1ffd4ba06b25e2,openstack/ceilometer,master,I9f5ce01619a963dbe3bb7936ac1ffd4ba06b25e2,test error log - catch dummy error,MERGED,2015-06-24 14:17:23.000000000,2015-07-01 14:17:02.000000000,2015-07-01 14:17:00.000000000,"[{'_account_id': 3}, {'_account_id': 4491}, {'_account_id': 6537}, {'_account_id': 11564}]","[{'number': 1, 'created': '2015-06-24 14:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/dca76dc7ef9488bd95b33bfb78b1fba9bd4111d5', 'message': ""test error log - catch dummy error\n\nwe load a dummy db in test which is expected to failed. it should\nbe caught accordingly so it doesn't flood logs\n\nChange-Id: I9f5ce01619a963dbe3bb7936ac1ffd4ba06b25e2\nCloses-Bug: #1468379\n""}, {'number': 2, 'created': '2015-06-24 19:45:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/7fd785ef846dadbca9f21f40d5a14682fbc18e3d', 'message': ""test error log - catch dummy error\n\nwe load a dummy db in test which is expected to failed. it should\nbe caught accordingly so it doesn't flood logs\n\nChange-Id: I9f5ce01619a963dbe3bb7936ac1ffd4ba06b25e2\nCloses-Bug: #1468379\n""}, {'number': 3, 'created': '2015-06-25 13:01:43.000000000', 'files': ['ceilometer/tests/test_bin.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/0e0ff2c67bf8b8aa55ef9cd92925c4573c7e1413', 'message': ""test error log - catch dummy error\n\nwe load a dummy db in test which is expected to failed. it should\nbe caught accordingly so it doesn't flood logs\n\nChange-Id: I9f5ce01619a963dbe3bb7936ac1ffd4ba06b25e2\nCloses-Bug: #1468379\n""}]",0,195094,0e0ff2c67bf8b8aa55ef9cd92925c4573c7e1413,15,4,3,6537,,,0,"test error log - catch dummy error

we load a dummy db in test which is expected to failed. it should
be caught accordingly so it doesn't flood logs

Change-Id: I9f5ce01619a963dbe3bb7936ac1ffd4ba06b25e2
Closes-Bug: #1468379
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/94/195094/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/tests/test_bin.py'],1,dca76dc7ef9488bd95b33bfb78b1fba9bd4111d5,bug/1468379," self.subp = self.run_api(content, err_pipe=True)", self.subp = self.run_api(content),1,1
openstack%2Fceilometer~master~Id8a2903ce8aee822a1b9358d412386eac0bce5d1,openstack/ceilometer,master,Id8a2903ce8aee822a1b9358d412386eac0bce5d1,fix kafka tests from flooding logs,MERGED,2015-06-24 16:44:29.000000000,2015-07-01 14:16:58.000000000,2015-07-01 14:16:55.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 4491}, {'_account_id': 6537}, {'_account_id': 6924}, {'_account_id': 8871}]","[{'number': 1, 'created': '2015-06-24 16:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/7c49d3941acc7d5fd253439e2f7b66a0871630b0', 'message': ""fix kafka tests from flooding logs\n\nthe kafka tests throw arbitrary errors to generate some tests and\nalso don't catch any of the log errors. this patch uses explicit\nerrors and hides all log errors.\n\nChange-Id: Id8a2903ce8aee822a1b9358d412386eac0bce5d1\nCloses-Bug: #1468400\n""}, {'number': 2, 'created': '2015-06-24 17:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/f5641c70c7f1754488e9e8f8f31c8df177adf378', 'message': ""fix kafka tests from flooding logs\n\nthe kafka tests throw arbitrary errors to generate some tests and\nalso don't catch any of the log errors. this patch uses explicit\nerrors and hides all log errors.\n\nChange-Id: Id8a2903ce8aee822a1b9358d412386eac0bce5d1\nCloses-Bug: #1468400\n""}, {'number': 3, 'created': '2015-06-25 13:01:22.000000000', 'files': ['ceilometer/tests/publisher/test_kafka_broker_publisher.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/114765190e5fe1ad304e519a70d6f921ea17e87c', 'message': ""fix kafka tests from flooding logs\n\nthe kafka tests throw arbitrary errors to generate some tests and\nalso don't catch any of the log errors. this patch uses explicit\nerrors and hides all log errors.\n\nChange-Id: Id8a2903ce8aee822a1b9358d412386eac0bce5d1\nCloses-Bug: #1468400\n""}]",0,195189,114765190e5fe1ad304e519a70d6f921ea17e87c,18,6,3,6537,,,0,"fix kafka tests from flooding logs

the kafka tests throw arbitrary errors to generate some tests and
also don't catch any of the log errors. this patch uses explicit
errors and hides all log errors.

Change-Id: Id8a2903ce8aee822a1b9358d412386eac0bce5d1
Closes-Bug: #1468400
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/89/195189/3 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/tests/publisher/test_kafka_broker_publisher.py'],1,7c49d3941acc7d5fd253439e2f7b66a0871630b0,bug/1468400,"from ceilometer.publisher import kafka_broker as kafka@mock.patch.object(kafka.KafkaBrokerPublisher, '_get_client', mock.Mock()) def test_publish(self): publisher = kafka.KafkaBrokerPublisher(netutils.urlsplit( def test_publish_without_options(self): publisher = kafka.KafkaBrokerPublisher( @mock.patch('ceilometer.publisher.kafka_broker.LOG', mock.Mock()) def test_publish_to_host_without_policy(self): publisher = kafka.KafkaBrokerPublisher(netutils.urlsplit( publisher = kafka.KafkaBrokerPublisher(netutils.urlsplit( @mock.patch('ceilometer.publisher.kafka_broker.LOG', mock.Mock()) def test_publish_to_host_with_default_policy(self): publisher = kafka.KafkaBrokerPublisher(netutils.urlsplit( @mock.patch('ceilometer.publisher.kafka_broker.LOG', mock.Mock()) def test_publish_to_host_with_drop_policy(self): publisher = kafka.KafkaBrokerPublisher(netutils.urlsplit( @mock.patch('ceilometer.publisher.kafka_broker.LOG', mock.Mock()) def test_publish_to_host_with_queue_policy(self): publisher = kafka.KafkaBrokerPublisher(netutils.urlsplit( @mock.patch('ceilometer.publisher.kafka_broker.LOG', mock.Mock()) def test_publish_to_down_host_with_default_queue_size(self): publisher = kafka.KafkaBrokerPublisher(netutils.urlsplit( with mock.patch.object(publisher, '_send') as fake_send: fake_send.side_effect = Exception('No Connection') for i in range(0, 2000): for s in self.test_data: s.name = 'test-%d' % i publisher.publish_samples(mock.MagicMock(), self.test_data) self.assertEqual(1024, len(publisher.local_queue)) self.assertEqual('test-976', publisher.local_queue[0][0]['counter_name']) self.assertEqual('test-1999', publisher.local_queue[1023][0]['counter_name']) @mock.patch('ceilometer.publisher.kafka_broker.LOG', mock.Mock()) def test_publish_to_host_from_down_to_up_with_queue(self): publisher = kafka.KafkaBrokerPublisher(netutils.urlsplit( 'kafka://127.0.0.1:9092?topic=ceilometer&policy=queue')) with mock.patch.object(publisher, '_send') as fake_send: fake_send.side_effect = Exception('No Connection') for i in range(0, 16): for s in self.test_data: s.name = 'test-%d' % i publisher.publish_samples(mock.MagicMock(), self.test_data) self.assertEqual(16, len(publisher.local_queue)) fake_send.side_effect = None @mock.patch('ceilometer.publisher.kafka_broker.LOG', mock.Mock()) def test_publish_event_with_default_policy(self): publisher = kafka.KafkaBrokerPublisher( with mock.patch.object(publisher, '_send') as fake_send: with mock.patch.object(publisher, '_send') as fake_send:","from ceilometer.publisher.kafka_broker import KafkaBrokerPublisher @mock.patch.object(KafkaBrokerPublisher, '_get_client') def test_publish(self, mock_method): publisher = KafkaBrokerPublisher(netutils.urlsplit( fake_send.side_effect = mock.Mock() @mock.patch.object(KafkaBrokerPublisher, '_get_client') def test_publish_without_options(self, mock_method): publisher = KafkaBrokerPublisher( fake_send.side_effect = mock.Mock() @mock.patch.object(KafkaBrokerPublisher, '_get_client') def test_publish_to_host_without_policy(self, mock_method): publisher = KafkaBrokerPublisher(netutils.urlsplit( publisher = KafkaBrokerPublisher(netutils.urlsplit( @mock.patch.object(KafkaBrokerPublisher, '_get_client') def test_publish_to_host_with_default_policy(self, mock_method): publisher = KafkaBrokerPublisher(netutils.urlsplit( @mock.patch.object(KafkaBrokerPublisher, '_get_client') def test_publish_to_host_with_drop_policy(self, mock_method): publisher = KafkaBrokerPublisher(netutils.urlsplit( @mock.patch.object(KafkaBrokerPublisher, '_get_client') def test_publish_to_host_with_queue_policy(self, mock_method): publisher = KafkaBrokerPublisher(netutils.urlsplit( @mock.patch.object(KafkaBrokerPublisher, '_get_client') def test_publish_to_down_host_with_default_queue_size(self, mock_method): publisher = KafkaBrokerPublisher(netutils.urlsplit( for i in range(0, 2000): for s in self.test_data: s.name = 'test-%d' % i publisher.publish_samples(mock.MagicMock(), self.test_data) self.assertEqual(1024, len(publisher.local_queue)) self.assertEqual( 'test-976', publisher.local_queue[0][0]['counter_name'] ) self.assertEqual( 'test-1999', publisher.local_queue[1023][0]['counter_name'] ) @mock.patch.object(KafkaBrokerPublisher, '_get_client') def test_publish_to_host_from_down_to_up_with_queue(self, mock_method): publisher = KafkaBrokerPublisher(netutils.urlsplit( 'kafka://127.0.0.1:9092?topic=ceilometer&policy=queue')) for i in range(0, 16): for s in self.test_data: s.name = 'test-%d' % i publisher.publish_samples(mock.MagicMock(), self.test_data) self.assertEqual(16, len(publisher.local_queue)) with mock.patch.object(publisher, '_send') as fake_send: fake_send.return_value = mock.Mock() @mock.patch.object(KafkaBrokerPublisher, '_get_client') def test_publish_event_with_default_policy(self, mock_method): publisher = KafkaBrokerPublisher( with mock.patch.object(KafkaBrokerPublisher, '_send') as fake_send: with mock.patch.object(KafkaBrokerPublisher, '_send') as fake_send:",55,59
openstack%2Fceilometer~master~I41255148a4dcb395c6a24bdc531038e5a32b2a1d,openstack/ceilometer,master,I41255148a4dcb395c6a24bdc531038e5a32b2a1d,catch warnings from error tests,MERGED,2015-06-24 15:18:01.000000000,2015-07-01 14:15:41.000000000,2015-07-01 14:15:39.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 4491}, {'_account_id': 6537}, {'_account_id': 6924}, {'_account_id': 8871}]","[{'number': 1, 'created': '2015-06-24 15:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/c8d30fdd5f0c7f5def8019fdb9259f9fca56b8e0', 'message': ""catch warnings from error tests\n\nthere are various tests that test failures in publisher. these test\nexpect failures but the logs of errors shouldn't be emitted to test\nlogs.\n\nChange-Id: I41255148a4dcb395c6a24bdc531038e5a32b2a1d\nPartial-Bug: #1468400\n""}, {'number': 2, 'created': '2015-06-24 16:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/0abf3f9b444b3e642bd6d74c680ee8bb8d85cd06', 'message': ""catch warnings from error tests\n\nthere are various tests that test failures in publisher. these test\nexpect failures but the logs of errors shouldn't be emitted to test\nlogs.\n\nChange-Id: I41255148a4dcb395c6a24bdc531038e5a32b2a1d\nPartial-Bug: #1468400\n""}, {'number': 3, 'created': '2015-06-25 12:56:49.000000000', 'files': ['ceilometer/tests/publisher/test_messaging_publisher.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/5bb79ca0988027421898fdc0027301a6d6792449', 'message': ""catch warnings from error tests\n\nthere are various tests that test failures in publisher. these test\nexpect failures but the logs of errors shouldn't be emitted to test\nlogs.\n\nChange-Id: I41255148a4dcb395c6a24bdc531038e5a32b2a1d\nPartial-Bug: #1468400\n""}]",2,195142,5bb79ca0988027421898fdc0027301a6d6792449,19,6,3,6537,,,0,"catch warnings from error tests

there are various tests that test failures in publisher. these test
expect failures but the logs of errors shouldn't be emitted to test
logs.

Change-Id: I41255148a4dcb395c6a24bdc531038e5a32b2a1d
Partial-Bug: #1468400
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/42/195142/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/tests/publisher/test_messaging_publisher.py'],1,c8d30fdd5f0c7f5def8019fdb9259f9fca56b8e0,bug/1468400," @mock.patch('ceilometer.publisher.messaging.LOG', mock.Mock()) @mock.patch('ceilometer.publisher.messaging.LOG', mock.Mock()) @mock.patch('ceilometer.publisher.messaging.LOG', mock.Mock()) @mock.patch('ceilometer.publisher.messaging.LOG', mock.Mock()) @mock.patch('ceilometer.publisher.messaging.LOG', mock.Mock())",,5,0
openstack%2Ftempest~master~I4c7057e50d1f0c942d141a9ae343d4d1be414c94,openstack/tempest,master,I4c7057e50d1f0c942d141a9ae343d4d1be414c94,Set the correct API version for the V2 identity client,MERGED,2015-06-19 15:34:26.000000000,2015-07-01 14:12:15.000000000,2015-07-01 14:12:10.000000000,"[{'_account_id': 3}, {'_account_id': 5803}, {'_account_id': 7350}, {'_account_id': 7428}, {'_account_id': 8151}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-06-19 15:34:26.000000000', 'files': ['tempest/services/identity/v2/json/identity_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/d5525e3ce2bfa0f23342f1b38684d3b1f13f5310', 'message': 'Set the correct API version for the V2 identity client\n\nOtherwise, when the keystone endpoints point to the V3 API, IdentityClientJSON\nwill send V2 requests to the V3 endpoint (e.g. for create_tenant). Which will\nof course fail.\n\nChange-Id: I4c7057e50d1f0c942d141a9ae343d4d1be414c94\nCloses-bug: #1466906\n'}]",0,193602,d5525e3ce2bfa0f23342f1b38684d3b1f13f5310,11,6,1,2062,,,0,"Set the correct API version for the V2 identity client

Otherwise, when the keystone endpoints point to the V3 API, IdentityClientJSON
will send V2 requests to the V3 endpoint (e.g. for create_tenant). Which will
of course fail.

Change-Id: I4c7057e50d1f0c942d141a9ae343d4d1be414c94
Closes-bug: #1466906
",git fetch https://review.opendev.org/openstack/tempest refs/changes/02/193602/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/services/identity/v2/json/identity_client.py'],1,d5525e3ce2bfa0f23342f1b38684d3b1f13f5310,bug/1466906," api_version = ""v2.0""",,1,0
openstack%2Ffuel-web~master~Ia4a4b1e55c39330521ffe83ffa66c8bbe416ccad,openstack/fuel-web,master,Ia4a4b1e55c39330521ffe83ffa66c8bbe416ccad,Fix for toggleable setting groups,MERGED,2015-07-01 13:40:55.000000000,2015-07-01 14:08:43.000000000,2015-07-01 13:56:08.000000000,"[{'_account_id': 3}, {'_account_id': 7195}, {'_account_id': 8735}, {'_account_id': 8971}, {'_account_id': 9091}, {'_account_id': 9730}, {'_account_id': 15315}]","[{'number': 1, 'created': '2015-07-01 13:40:55.000000000', 'files': ['nailgun/static/views/cluster_page_tabs/settings_tab.jsx'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/9378c0615a9b962beda678813434622dfcfc7c57', 'message': 'Fix for toggleable setting groups\n\nCloses-Bug: #1469512\n\nChange-Id: Ia4a4b1e55c39330521ffe83ffa66c8bbe416ccad\n'}]",0,197587,9378c0615a9b962beda678813434622dfcfc7c57,12,7,1,8766,,,0,"Fix for toggleable setting groups

Closes-Bug: #1469512

Change-Id: Ia4a4b1e55c39330521ffe83ffa66c8bbe416ccad
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/87/197587/1 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/static/views/cluster_page_tabs/settings_tab.jsx'],1,9378c0615a9b962beda678813434622dfcfc7c57,bug/1469512, name='metadata',,1,0
openstack%2Ffuel-specs~master~Idd39cf7564473ccac59e0b529ddef2b31bbec44b,openstack/fuel-specs,master,Idd39cf7564473ccac59e0b529ddef2b31bbec44b,Add more details to role-as-a-plugin spec,MERGED,2015-06-30 09:46:08.000000000,2015-07-01 14:07:24.000000000,2015-07-01 14:07:24.000000000,"[{'_account_id': 3}, {'_account_id': 6794}, {'_account_id': 8392}, {'_account_id': 8735}, {'_account_id': 8749}, {'_account_id': 8907}, {'_account_id': 8931}, {'_account_id': 10391}, {'_account_id': 14167}, {'_account_id': 14708}]","[{'number': 1, 'created': '2015-06-30 09:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/e7c13545fcad1851fcbfd8af88a950413b493121', 'message': 'Add more details to role-as-a-plugin spec\n\n* Add information about get available roles API call.\n* Add information about primary_roles list.\n\nImplements blueprint role-as-a-plugin\n\nChange-Id: Idd39cf7564473ccac59e0b529ddef2b31bbec44b\nSigned-off-by: Igor Kalnitsky <igor@kalnitsky.org>\n'}, {'number': 2, 'created': '2015-06-30 11:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/0e68aaa50bcc796172cc74c766341b139fa72e54', 'message': 'Add more details to role-as-a-plugin spec\n\n* Add information about get available roles API call.\n* Add information about primary_roles list.\n\nImplements blueprint role-as-a-plugin\n\nChange-Id: Idd39cf7564473ccac59e0b529ddef2b31bbec44b\nSigned-off-by: Igor Kalnitsky <igor@kalnitsky.org>\n'}, {'number': 3, 'created': '2015-06-30 11:54:48.000000000', 'files': ['specs/7.0/role-as-a-plugin.rst'], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/452e49d06657d1409e231fd55dd4c0c3b6315290', 'message': 'Add more details to role-as-a-plugin spec\n\n* Add information about get available roles API call.\n* Add information about primary_roles list.\n\nImplements blueprint role-as-a-plugin\n\nChange-Id: Idd39cf7564473ccac59e0b529ddef2b31bbec44b\nSigned-off-by: Igor Kalnitsky <igor@kalnitsky.org>\n'}]",1,197001,452e49d06657d1409e231fd55dd4c0c3b6315290,21,10,3,10391,,,0,"Add more details to role-as-a-plugin spec

* Add information about get available roles API call.
* Add information about primary_roles list.

Implements blueprint role-as-a-plugin

Change-Id: Idd39cf7564473ccac59e0b529ddef2b31bbec44b
Signed-off-by: Igor Kalnitsky <igor@kalnitsky.org>
",git fetch https://review.opendev.org/openstack/fuel-specs refs/changes/01/197001/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/7.0/role-as-a-plugin.rst'],1,e7c13545fcad1851fcbfd8af88a950413b493121,bp/role-as-a-plugin,"Implement possibility to describe new node roles in plugins.The release has a list of `roles` which is used for ordering roles on Web UI. It will be removed, since it won't be able to use it with plugin roles. Instead, each role declaration in `roles_metadata` will have the `weight` attribute which will be used for ordering roles on UI (we use similar approach for other things). moved to `roles`. Process continues until `pending_roles` contains any role which is not in `roles`. Each node will have also the `primary_roles` list. The column will have roles for which current node is primary one (important for serialization).`primary_roles` set of roles for which current node is primary one Sync plugins' metadata `````````````````````` Get a list of available roles ````````````````````````````` The will be a new API call for retrieving a list of roles available for deployment for specific cluster. ====== ============================= =================================== method URL action ====== ============================= =================================== GET /api/v1/clusters/<:id>/roles/ Get a list of available for deployment roles for the cluster with ID=<:id> ====== ============================= =================================== The response format will be similar to ``GET /api/v1/releases/<:id>/roles/``: .. code-block:: json [ { ""name"": ""role_name"", ""meta"": { ""name"": ""some name for ui, ""description"": ""some role description"", ""conflicts"": [""another_role""], ""has_primary"": false, ... }, ""volumes_roles_mapping"": [ { ""id"": ""some-id"", ""allocate_size"": ""min"" } ] } ] * Artem Roma <aroma@mirantis.com>",Implement possibility to describe new node roles in pluginmoved to `deployed_roles`. Process continues until `pending_roles` contains any role which is not in `roles`.,59,3
openstack%2Ftripleo-heat-templates~master~I422972502fbb10ddae3201464bbd6885749de31e,openstack/tripleo-heat-templates,master,I422972502fbb10ddae3201464bbd6885749de31e,Add special handling of neutron-server service startup to fix race,MERGED,2015-06-23 11:43:55.000000000,2015-07-01 14:05:10.000000000,2015-07-01 14:05:09.000000000,"[{'_account_id': 3}, {'_account_id': 6796}, {'_account_id': 7984}, {'_account_id': 8042}, {'_account_id': 8399}, {'_account_id': 8449}, {'_account_id': 9410}]","[{'number': 1, 'created': '2015-06-23 11:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/01365209e05094a40407c08552ec89610b7c6386', 'message': 'Add special handling of neutron-server service startup to fix race\n\nNeutron will populate the database with some data as soon as the\nneutron-server service is started; we want this to happen from a\nsingle node before normal Pacemaker initialization.\n\nChange-Id: I422972502fbb10ddae3201464bbd6885749de31e\nCloses-Bug: 1467904\nCloses-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=1233061\n'}, {'number': 2, 'created': '2015-06-23 13:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e7a221bd9b912e818d1e4f263c0b362dde2c9677', 'message': 'Add special handling of neutron-server service startup to fix race\n\nNeutron will populate the database with some data as soon as the\nneutron-server service is started; we want this to happen from a\nsingle node before normal Pacemaker initialization.\n\nChange-Id: I422972502fbb10ddae3201464bbd6885749de31e\nCloses-Bug: 1467904\nCloses-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=1233061\n'}, {'number': 3, 'created': '2015-06-23 16:37:21.000000000', 'files': ['puppet/manifests/overcloud_controller_pacemaker.pp'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/066130bce1cfc8e9c8eca238b53d4fd8aef51252', 'message': 'Add special handling of neutron-server service startup to fix race\n\nNeutron will populate the database with some data as soon as the\nneutron-server service is started; we want this to happen from a\nsingle node before normal Pacemaker initialization.\n\nChange-Id: I422972502fbb10ddae3201464bbd6885749de31e\nCloses-Bug: 1467904\nCloses-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=1233061\n'}]",0,194610,066130bce1cfc8e9c8eca238b53d4fd8aef51252,20,7,3,6796,,,0,"Add special handling of neutron-server service startup to fix race

Neutron will populate the database with some data as soon as the
neutron-server service is started; we want this to happen from a
single node before normal Pacemaker initialization.

Change-Id: I422972502fbb10ddae3201464bbd6885749de31e
Closes-Bug: 1467904
Closes-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=1233061
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/10/194610/3 && git format-patch -1 --stdout FETCH_HEAD,['puppet/manifests/overcloud_controller_pacemaker.pp'],1,01365209e05094a40407c08552ec89610b7c6386,bug/1467904," # NOTE(gfidente): Neutron will try to populate the database with some data # as soon as neutron-server is started; to avoid races we want to make this # happen only on one node, before normal Pacemaker initialization service { $::neutron::params::server_service : ensure => ""running"", } -> exec { 'sleep5s' : command => ""sleep 5s"", } -> service { $::neutron::params::server_service : ensure => ""stopped"", } ->",,12,0
openstack%2Fpython-openstackclient~master~I2a4f758ef11caf51d0c47cb5632e59245d631d3d,openstack/python-openstackclient,master,I2a4f758ef11caf51d0c47cb5632e59245d631d3d,Fix examples with cacert,MERGED,2015-07-01 11:13:58.000000000,2015-07-01 14:01:59.000000000,2015-07-01 14:01:56.000000000,"[{'_account_id': 3}, {'_account_id': 6482}, {'_account_id': 8736}, {'_account_id': 9061}, {'_account_id': 16986}]","[{'number': 1, 'created': '2015-07-01 11:13:58.000000000', 'files': ['examples/common.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/700048a1e0ba9aec03192d46303085c8e4d19ea2', 'message': 'Fix examples with cacert\n\nChange-Id: I2a4f758ef11caf51d0c47cb5632e59245d631d3d\nCloses-Bug: #1470272\n'}]",0,197518,700048a1e0ba9aec03192d46303085c8e4d19ea2,9,5,1,8736,,,0,"Fix examples with cacert

Change-Id: I2a4f758ef11caf51d0c47cb5632e59245d631d3d
Closes-Bug: #1470272
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/18/197518/1 && git format-patch -1 --stdout FETCH_HEAD,['examples/common.py'],1,700048a1e0ba9aec03192d46303085c8e4d19ea2,bug/1470272," dest='cacert',",,1,0
openstack%2Fdesignate~master~I86772816d9d2d9419e330fccfc32ecdc993d305c,openstack/designate,master,I86772816d9d2d9419e330fccfc32ecdc993d305c,Use six.moves.map/zip in place of map/zip,MERGED,2015-06-30 01:13:29.000000000,2015-07-01 14:00:10.000000000,2015-07-01 14:00:08.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 7491}, {'_account_id': 8099}]","[{'number': 1, 'created': '2015-06-30 01:13:29.000000000', 'files': ['designate/sqlalchemy/utils.py', 'designate/sqlalchemy/base.py', 'designate/backend/impl_powerdns/__init__.py', 'designate/utils.py', 'designate/tests/test_api/test_v2/test_recordsets.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/fc74c3a10ba183c5d1a18971cc8b846045fc24d4', 'message': 'Use six.moves.map/zip in place of map/zip\n\nPartially-Implements: blueprint designate-py3\n\nChange-Id: I86772816d9d2d9419e330fccfc32ecdc993d305c\n'}]",0,196922,fc74c3a10ba183c5d1a18971cc8b846045fc24d4,8,4,1,16277,,,0,"Use six.moves.map/zip in place of map/zip

Partially-Implements: blueprint designate-py3

Change-Id: I86772816d9d2d9419e330fccfc32ecdc993d305c
",git fetch https://review.opendev.org/openstack/designate refs/changes/22/196922/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/sqlalchemy/utils.py', 'designate/sqlalchemy/base.py', 'designate/backend/impl_powerdns/__init__.py', 'designate/utils.py', 'designate/tests/test_api/test_v2/test_recordsets.py']",5,fc74c3a10ba183c5d1a18971cc8b846045fc24d4,bp/designate-py3,"import six for get_url, correct_result in \ six.moves.zip(get_urls, correct_results):"," for get_url, correct_result in zip(get_urls, correct_results):",10,5
openstack%2Fdesignate~master~I068d05e77bd94cbe2ce613dd4428545144214786,openstack/designate,master,I068d05e77bd94cbe2ce613dd4428545144214786,Replace dict.iteritems() with dict.items(),MERGED,2015-06-29 01:27:41.000000000,2015-07-01 14:00:01.000000000,2015-07-01 14:00:00.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8099}, {'_account_id': 16277}]","[{'number': 1, 'created': '2015-06-29 01:27:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/9f85463168be853995dbaa4163a5432d4cc1b55d', 'message': 'Replace dict.iteritems() with six.iteritems(dict)\n\nPartially-Implements: blueprint designate-py3\n\nChange-Id: I068d05e77bd94cbe2ce613dd4428545144214786\n'}, {'number': 2, 'created': '2015-06-30 04:11:16.000000000', 'files': ['designate/tests/__init__.py', 'designate/objects/adapters/api_v2/pool_attribute.py', 'functionaltests/common/models.py', 'designate/api/admin/controllers/extensions/quotas.py', 'functionaltests/common/utils.py', 'designate/objects/base.py', 'designate/objects/adapters/api_v2/validation_error.py', 'designate/backend/agent_backend/impl_denominator.py', 'designate/sqlalchemy/base.py', 'designate/utils.py', 'designate/tests/test_central/_test_service_ipa.py', 'designate/objects/adapters/base.py', 'designate/sqlalchemy/session.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/7ef90aeccfc421a292cdbeaa06f2a9c7129b8d97', 'message': 'Replace dict.iteritems() with dict.items()\n\nPartially-Implements: blueprint designate-py3\n\nChange-Id: I068d05e77bd94cbe2ce613dd4428545144214786\n'}]",0,196488,7ef90aeccfc421a292cdbeaa06f2a9c7129b8d97,14,4,2,16277,,,0,"Replace dict.iteritems() with dict.items()

Partially-Implements: blueprint designate-py3

Change-Id: I068d05e77bd94cbe2ce613dd4428545144214786
",git fetch https://review.opendev.org/openstack/designate refs/changes/88/196488/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/objects/base.py', 'designate/tests/__init__.py', 'designate/objects/adapters/api_v2/validation_error.py', 'designate/backend/agent_backend/impl_denominator.py', 'designate/objects/adapters/api_v2/pool_attribute.py', 'designate/sqlalchemy/base.py', 'designate/utils.py', 'designate/tests/test_central/_test_service_ipa.py', 'designate/api/admin/controllers/extensions/quotas.py', 'designate/objects/adapters/base.py', 'designate/sqlalchemy/session.py']",11,9f85463168be853995dbaa4163a5432d4cc1b55d,bp/designate-py3,import six **dict(six.iteritems(cfg.CONF[cfg_group]))), **dict(cfg.CONF[cfg_group].iteritems())),25,18
openstack%2Frequirements~master~Ia9eeaf78ff4dd5831213bbcb8a9f364d0e49bc5e,openstack/requirements,master,Ia9eeaf78ff4dd5831213bbcb8a9f364d0e49bc5e,Bump oslo.db to 1.12,MERGED,2015-06-25 11:21:53.000000000,2015-07-01 13:59:46.000000000,2015-07-01 13:59:45.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 6786}, {'_account_id': 9107}]","[{'number': 1, 'created': '2015-06-25 11:21:53.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/3134b0153be35d00b1096352325253152cdf4635', 'message': 'Bump oslo.db to 1.12\n\noslo.db 1.12 now uses the PyMySQL driver for MySQL by default, instead\nof MySQL-python. This change is required to replace MySQL-python driver\nwith PyMySQL in applications. Otherwise, migration tests are skipped.\n\nThe following changes require oslo.db 1.12:\n\n* I66b7d6053643e82d9c11af568190d82ffe7f385e (glance)\n* I590c26523f4dc8d14c45e61bb89555486629b64d (nova)\n\nChange-Id: Ia9eeaf78ff4dd5831213bbcb8a9f364d0e49bc5e\n'}]",0,195525,3134b0153be35d00b1096352325253152cdf4635,14,5,1,9107,,,0,"Bump oslo.db to 1.12

oslo.db 1.12 now uses the PyMySQL driver for MySQL by default, instead
of MySQL-python. This change is required to replace MySQL-python driver
with PyMySQL in applications. Otherwise, migration tests are skipped.

The following changes require oslo.db 1.12:

* I66b7d6053643e82d9c11af568190d82ffe7f385e (glance)
* I590c26523f4dc8d14c45e61bb89555486629b64d (nova)

Change-Id: Ia9eeaf78ff4dd5831213bbcb8a9f364d0e49bc5e
",git fetch https://review.opendev.org/openstack/requirements refs/changes/25/195525/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,3134b0153be35d00b1096352325253152cdf4635,oslo_db_12,oslo.db>=1.12.0 # Apache-2.0,oslo.db>=1.10.0 # Apache-2.0,1,1
openstack%2Frequirements~master~I61ec42ce09c05601b805f362b62d4a5abb76b937,openstack/requirements,master,I61ec42ce09c05601b805f362b62d4a5abb76b937,Add botocore to requirements,MERGED,2015-04-10 08:35:18.000000000,2015-07-01 13:59:44.000000000,2015-07-01 13:59:42.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 24}, {'_account_id': 1669}, {'_account_id': 1726}, {'_account_id': 2472}, {'_account_id': 2592}, {'_account_id': 2750}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6167}, {'_account_id': 6609}, {'_account_id': 6786}, {'_account_id': 7069}, {'_account_id': 9312}, {'_account_id': 9656}, {'_account_id': 10224}, {'_account_id': 10234}]","[{'number': 1, 'created': '2015-04-10 08:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/17f0525b376f44cc09f139832bb9b7a747d653fb', 'message': 'Add botocore to requirements\n\nTo allow using this library in requirements of other projects.\nstackforge/ec2-api uses botocore for functional and performance\ntesting. but without this lib in requirements ec2-api needs\nto install it in various places.\n\nChange-Id: I61ec42ce09c05601b805f362b62d4a5abb76b937\n'}, {'number': 2, 'created': '2015-04-28 12:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/dda8cbfb27c7c45054401861570b6ddf24ba9d93', 'message': 'Add botocore to requirements\n\nTo allow using this library in requirements of other projects.\nstackforge/ec2-api uses botocore for functional and performance\ntesting. but without this lib in requirements ec2-api needs\nto install it in various places.\n\nChange-Id: I61ec42ce09c05601b805f362b62d4a5abb76b937\n'}, {'number': 3, 'created': '2015-06-22 13:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c1095ca44ff5c551de05b44e07fb5d4740f7dbaa', 'message': 'Add botocore to requirements\n\nTo allow using this library in requirements in other projects.\nstackforge/ec2-api uses botocore for functional and performance\ntesting. but without this lib in requirements ec2-api needs\nto install it in various places.\n\nChange-Id: I61ec42ce09c05601b805f362b62d4a5abb76b937\n'}, {'number': 4, 'created': '2015-06-22 19:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/bdbe8c6a4079efa3a3d3bc49ccecd86ee98348cd', 'message': 'Add botocore to requirements\n\nTo allow using this library in requirements in other projects.\nstackforge/ec2-api uses botocore for functional and performance\ntesting. but without this lib in requirements ec2-api needs\nto install it in various places.\n\nChange-Id: I61ec42ce09c05601b805f362b62d4a5abb76b937\n'}, {'number': 5, 'created': '2015-06-23 13:25:20.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5dc3436915410f9006c2e795be4270c8ea462d11', 'message': 'Add botocore to requirements\n\nTo allow using this library in requirements in other projects.\nstackforge/ec2-api uses botocore for functional and performance\ntesting. but without this lib in requirements ec2-api needs\nto install it in various places.\n\nChange-Id: I61ec42ce09c05601b805f362b62d4a5abb76b937\n'}]",1,172335,5dc3436915410f9006c2e795be4270c8ea462d11,27,19,5,10234,,,0,"Add botocore to requirements

To allow using this library in requirements in other projects.
stackforge/ec2-api uses botocore for functional and performance
testing. but without this lib in requirements ec2-api needs
to install it in various places.

Change-Id: I61ec42ce09c05601b805f362b62d4a5abb76b937
",git fetch https://review.opendev.org/openstack/requirements refs/changes/35/172335/2 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,17f0525b376f44cc09f139832bb9b7a747d653fb,master-2,botocore>=0.85,,1,0
openstack%2Fdesignate~master~I63ba1c2dc570a3b1f5d470807578e041be6fd26b,openstack/designate,master,I63ba1c2dc570a3b1f5d470807578e041be6fd26b,Update urllib/urlparse to use six.moves,MERGED,2015-06-30 02:28:46.000000000,2015-07-01 13:58:11.000000000,2015-07-01 13:58:09.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8099}, {'_account_id': 16277}]","[{'number': 1, 'created': '2015-06-30 02:28:46.000000000', 'files': ['designate/api/admin/views/base.py', 'designate/backend/impl_infoblox/connector.py', 'designate/objects/base.py', 'functionaltests/common/noauth.py', 'designate/objects/adapters/api_v2/base.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/df97afd2f6e80124e5a94ca73ab4b96eaceddea0', 'message': 'Update urllib/urlparse to use six.moves\n\nPartially-Implements: blueprint designate-py3\n\nChange-Id: I63ba1c2dc570a3b1f5d470807578e041be6fd26b\n'}]",0,196928,df97afd2f6e80124e5a94ca73ab4b96eaceddea0,9,4,1,16277,,,0,"Update urllib/urlparse to use six.moves

Partially-Implements: blueprint designate-py3

Change-Id: I63ba1c2dc570a3b1f5d470807578e041be6fd26b
",git fetch https://review.opendev.org/openstack/designate refs/changes/28/196928/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/api/admin/views/base.py', 'designate/backend/impl_infoblox/connector.py', 'designate/objects/base.py', 'functionaltests/common/noauth.py', 'designate/objects/adapters/api_v2/base.py']",5,df97afd2f6e80124e5a94ca73ab4b96eaceddea0,bp/designate-py3,from six.moves.urllib import parse parse.urlencode(params)),import urllib urllib.urlencode(params)),12,15
openstack%2Fpython-ceilometerclient~master~Iba9e55bc2d4dfd811ce7d068b6a9cceae7c000d6,openstack/python-ceilometerclient,master,Iba9e55bc2d4dfd811ce7d068b6a9cceae7c000d6,Change default values from [] to None,MERGED,2015-06-25 15:29:47.000000000,2015-07-01 13:58:03.000000000,2015-07-01 13:58:01.000000000,"[{'_account_id': 3}, {'_account_id': 6537}, {'_account_id': 7478}, {'_account_id': 10987}, {'_account_id': 12395}]","[{'number': 1, 'created': '2015-06-25 15:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ceilometerclient/commit/6fc73bbd6798d25d46aa4e51642d4b0634883fd2', 'message': 'Change default values from [] to None\n\nIts well known fact that python default values initialized only once\nat the stge if creation function. So if we call function with foo=[] as\ndefault value and change foo.append(""bar"") at the next call of the function\ndefaukt value would be [""bar""]. It will save.\n\nChange-Id: Iba9e55bc2d4dfd811ce7d068b6a9cceae7c000d6\n'}, {'number': 2, 'created': '2015-06-25 15:31:09.000000000', 'files': ['ceilometerclient/v1/meters.py', 'ceilometerclient/v2/statistics.py'], 'web_link': 'https://opendev.org/openstack/python-ceilometerclient/commit/0b1be909703a3d08ae8c2cf76ab141a744839eab', 'message': 'Change default values from [] to None\n\nIts well known fact that python default values initialized only once\nat the stage if creation function. So if we call function with parameter \nfoo=[] as default value and change foo.append(""bar"") at the next call of \nthe function default value would be [""bar""]. It will save.\n\nChange-Id: Iba9e55bc2d4dfd811ce7d068b6a9cceae7c000d6\n'}]",1,195633,0b1be909703a3d08ae8c2cf76ab141a744839eab,13,5,2,12395,,,0,"Change default values from [] to None

Its well known fact that python default values initialized only once
at the stage if creation function. So if we call function with parameter 
foo=[] as default value and change foo.append(""bar"") at the next call of 
the function default value would be [""bar""]. It will save.

Change-Id: Iba9e55bc2d4dfd811ce7d068b6a9cceae7c000d6
",git fetch https://review.opendev.org/openstack/python-ceilometerclient refs/changes/33/195633/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometerclient/v1/meters.py', 'ceilometerclient/v2/statistics.py']",2,6fc73bbd6798d25d46aa4e51642d4b0634883fd2,fix_default_values," def list(self, meter_name, q=None, period=None, groupby=None, aggregates=None): groupby = groupby or [] aggregates = aggregates or []"," def list(self, meter_name, q=None, period=None, groupby=[], aggregates=[]):",6,2
openstack%2Fproject-config~master~I698ca867f39c6ed032f37160163be16452250068,openstack/project-config,master,I698ca867f39c6ed032f37160163be16452250068,Switch constraints proposal to use zuul-git-prep,MERGED,2015-06-29 23:48:05.000000000,2015-07-01 13:57:59.000000000,2015-07-01 13:57:56.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 7069}, {'_account_id': 16272}]","[{'number': 1, 'created': '2015-06-29 23:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ee3bfce14f4353182ca0d71f6762860def3a90dc', 'message': 'Switch constraints proposal to use zuul-git-prep\n\nThis is a workaround for the inability to pass a branch override\ninto the gerrit-git-prep macro.\n\nChange-Id: I698ca867f39c6ed032f37160163be16452250068\n'}, {'number': 2, 'created': '2015-06-30 00:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/cb300dfef18646e0e44e51b10adbe97234aeff9a', 'message': 'Switch constraints proposal to use zuul-git-prep\n\nThis is a workaround for the inability to pass a branch override\ninto the gerrit-git-prep macro.\n\nChange-Id: I698ca867f39c6ed032f37160163be16452250068\n'}, {'number': 3, 'created': '2015-06-30 01:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/655cf28dc42f94d3efac5f0bbe4f660e419eba62', 'message': 'Switch constraints proposal to use zuul-git-prep\n\nThis is a workaround for the inability to pass a branch override\ninto the gerrit-git-prep macro.\n\nChange-Id: I698ca867f39c6ed032f37160163be16452250068\n'}, {'number': 4, 'created': '2015-06-30 01:37:52.000000000', 'files': ['jenkins/jobs/requirements.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/df9afa850a7efb49faa6524b4641f9d112533c9a', 'message': 'Switch constraints proposal to use zuul-git-prep\n\nThis is a workaround for the inability to pass a branch override\ninto the gerrit-git-prep macro.\n\nChange-Id: I698ca867f39c6ed032f37160163be16452250068\n'}]",0,196907,df9afa850a7efb49faa6524b4641f9d112533c9a,16,4,4,5263,,,0,"Switch constraints proposal to use zuul-git-prep

This is a workaround for the inability to pass a branch override
into the gerrit-git-prep macro.

Change-Id: I698ca867f39c6ed032f37160163be16452250068
",git fetch https://review.opendev.org/openstack/project-config refs/changes/07/196907/2 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/requirements.yaml'],1,ee3bfce14f4353182ca0d71f6762860def3a90dc,propose-constraints, - zuul-git-prep - shell: /usr/local/jenkins/slave_scripts/propose_update.sh requirements-constraints," - gerrit-git-prep - shell: | #!/bin/bash -xe export BRANCH_OVERRIDE={branch-override} if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export ZUUL_BRANCH=$BRANCH_OVERRIDE fi /usr/local/jenkins/slave_scripts/propose_update.sh requirements-constraints",2,8
openstack%2Fironic-inspector~master~Ib7c8fd32cca792c82030e2235166f05d6a40d747,openstack/ironic-inspector,master,Ib7c8fd32cca792c82030e2235166f05d6a40d747,Fix and enhance devstack test script,MERGED,2015-07-01 07:40:33.000000000,2015-07-01 13:49:35.000000000,2015-07-01 13:49:35.000000000,"[{'_account_id': 3}, {'_account_id': 7419}, {'_account_id': 7882}, {'_account_id': 10239}]","[{'number': 1, 'created': '2015-07-01 07:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/62b8fa526bce92f7816043ad310c3ddb3ac67d31', 'message': 'Fix and enhance devstack test script\n\n* Put nodes in a proper provision state\n* Use Ironic API instead of Inspector one for starting introspection\n\nChange-Id: Ib7c8fd32cca792c82030e2235166f05d6a40d747\n'}, {'number': 2, 'created': '2015-07-01 07:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/335d052aaef7cb0ee8de369d176e8e656ac7ca29', 'message': 'Fix and enhance devstack test script\n\n* Put nodes in a proper provision state\n* Use Ironic API instead of Inspector one for starting introspection\n\nChange-Id: Ib7c8fd32cca792c82030e2235166f05d6a40d747\n'}, {'number': 3, 'created': '2015-07-01 10:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/dd4609a9c50eb5f689eea029dadbabee792cfe69', 'message': 'Fix and enhance devstack test script\n\n* Put nodes in a proper provision state\n* Use Ironic API instead of Inspector one for starting introspection\n* Insert sleeps between sending nodes on introspection\n* Add check on provision state\n* Update devstack/plugin.sh to default to network not overlapping\n  with devstack-gate default one\n\nChange-Id: Ib7c8fd32cca792c82030e2235166f05d6a40d747\n'}, {'number': 4, 'created': '2015-07-01 11:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/f890332e36ccae568008e3eff4de9d2e042a7b0b', 'message': 'Fix and enhance devstack test script\n\n* Put nodes in a proper provision state\n* Use Ironic API instead of Inspector one for starting introspection\n* Insert sleeps between sending nodes on introspection\n* Add check on provision state\n* Update devstack/plugin.sh to default to network not overlapping\n  with devstack-gate default one\n\nChange-Id: Ib7c8fd32cca792c82030e2235166f05d6a40d747\n'}, {'number': 5, 'created': '2015-07-01 11:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/13607fcd4899e36a564ee8d3d3ed0523ba9a3012', 'message': 'Fix and enhance devstack test script\n\n* Put nodes in a proper provision state\n* Use Ironic API instead of Inspector one for starting introspection\n* Insert sleeps between sending nodes on introspection\n* Add check on provision state\n* Update devstack/plugin.sh to default to network not overlapping\n  with devstack-gate default one\n\nCloses-Bug: #1470346\nChange-Id: Ib7c8fd32cca792c82030e2235166f05d6a40d747\n'}, {'number': 6, 'created': '2015-07-01 12:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/432e9dcaa75e15c6cede4ea63d10f32a17eee7cf', 'message': 'Fix and enhance devstack test script\n\n* Put nodes in a proper provision state\n* Use Ironic API instead of Inspector one for starting introspection\n* Insert sleeps between sending nodes on introspection\n* Add check on provision state\n* Update devstack/plugin.sh to default to network not overlapping\n  with devstack-gate default one\n\nCloses-Bug: #1470346\nChange-Id: Ib7c8fd32cca792c82030e2235166f05d6a40d747\n'}, {'number': 7, 'created': '2015-07-01 12:55:06.000000000', 'files': ['devstack/exercise.sh', 'devstack/plugin.sh', 'functest/devstack-test.sh'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/14454ad9d78f22586b02eb9709af18ebabda9272', 'message': 'Fix and enhance devstack test script\n\n* Put nodes in a proper provision state\n* Use Ironic API instead of Inspector one for starting introspection\n* Insert sleeps between sending nodes on introspection\n* Add check on provision state\n* Update devstack/plugin.sh to default to network not overlapping\n  with devstack-gate default one\n\nCloses-Bug: #1470346\nChange-Id: Ib7c8fd32cca792c82030e2235166f05d6a40d747\n'}]",8,197452,14454ad9d78f22586b02eb9709af18ebabda9272,29,4,7,10239,,,0,"Fix and enhance devstack test script

* Put nodes in a proper provision state
* Use Ironic API instead of Inspector one for starting introspection
* Insert sleeps between sending nodes on introspection
* Add check on provision state
* Update devstack/plugin.sh to default to network not overlapping
  with devstack-gate default one

Closes-Bug: #1470346
Change-Id: Ib7c8fd32cca792c82030e2235166f05d6a40d747
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/52/197452/3 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/exercise.sh', 'functest/devstack-test.sh']",2,62b8fa526bce92f7816043ad310c3ddb3ac67d31,bug/1470346,export IRONIC_API_VERSION=${IRONIC_API_VERSION:-latest} ironic node-set-provision-state $uuid manage ironic node-set-provision-state $uuid inspect, # TODO(dtantsur): use Ironic API instead openstack baremetal introspection start $uuid,8,4
openstack%2Fopenstack-manuals~master~I1d8b4dec2dc53f00bb187177d429930dc06b40d2,openstack/openstack-manuals,master,I1d8b4dec2dc53f00bb187177d429930dc06b40d2,Improve DIB description in Image Guide,MERGED,2015-07-01 10:01:09.000000000,2015-07-01 13:49:24.000000000,2015-07-01 13:49:22.000000000,"[{'_account_id': 3}, {'_account_id': 14396}, {'_account_id': 14643}]","[{'number': 1, 'created': '2015-07-01 10:01:09.000000000', 'files': ['doc/image-guide/ch_creating_images_automatically.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/a1c50eb5a720f51d809944d8026a8c67be8882cf', 'message': 'Improve DIB description in Image Guide\n\nUpdate wording and links to improve description.\n\nChange-Id: I1d8b4dec2dc53f00bb187177d429930dc06b40d2\n'}]",0,197497,a1c50eb5a720f51d809944d8026a8c67be8882cf,7,3,1,6547,,,0,"Improve DIB description in Image Guide

Update wording and links to improve description.

Change-Id: I1d8b4dec2dc53f00bb187177d429930dc06b40d2
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/97/197497/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/image-guide/ch_creating_images_automatically.xml'],1,a1c50eb5a720f51d809944d8026a8c67be8882cf,fix-github-link," >Diskimage-builder</link> is an automated disk image creation More elements are available in the <link xlink:href=""https://github.com/openstack/diskimage-builder/tree/master/elements"" >git source directory</link> and documented in the <link xlink:href=""http://docs.openstack.org/developer/diskimage-builder/elements.html"" >diskimage-builder documentation</link>. </para> </section>"," >diskimage-builder</link> is an automated disk image creation More elements are available on <link xlink:href=""https://github.com/openstack/diskimage-builder/tree/master/elements"">github</link>. </para></section>",8,3
openstack%2Foslo.config~master~I437bf29b89c6e3b964195f69cee929aa6eb0166a,openstack/oslo.config,master,I437bf29b89c6e3b964195f69cee929aa6eb0166a,Updated from global requirements,MERGED,2015-06-30 20:02:09.000000000,2015-07-01 13:47:24.000000000,2015-07-01 13:47:23.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 16272}]","[{'number': 1, 'created': '2015-06-30 20:02:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/8f2ceac9c2097c4b3e3e975508ff82bdb5098442', 'message': 'Updated from global requirements\n\nChange-Id: I437bf29b89c6e3b964195f69cee929aa6eb0166a\n'}, {'number': 2, 'created': '2015-07-01 10:01:01.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/39bf8c5601e971a2ba6b19d9187eafee1dad93f5', 'message': 'Updated from global requirements\n\nChange-Id: I437bf29b89c6e3b964195f69cee929aa6eb0166a\n'}]",0,197262,39bf8c5601e971a2ba6b19d9187eafee1dad93f5,10,3,2,11131,,,0,"Updated from global requirements

Change-Id: I437bf29b89c6e3b964195f69cee929aa6eb0166a
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/62/197262/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,8f2ceac9c2097c4b3e3e975508ff82bdb5098442,openstack/requirements,fixtures>=1.3.1,fixtures>=0.3.14,1,1
openstack%2Foslo.utils~master~I34e093a03489285508ca0498c56ae6693444d203,openstack/oslo.utils,master,I34e093a03489285508ca0498c56ae6693444d203,Add tox target to find missing requirements,MERGED,2015-06-26 02:01:41.000000000,2015-07-01 13:42:44.000000000,2015-07-01 13:42:42.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-06-26 02:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/0a823d2c41390059f8c071f966f7ccccaadec7f7', 'message': 'Add tox target to find missing requirements\n\nChange-Id: I34e093a03489285508ca0498c56ae6693444d203\n'}, {'number': 2, 'created': '2015-06-26 11:34:27.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/e608e62f10a4fcea4a7af4a1292549fcb3c6bfa0', 'message': 'Add tox target to find missing requirements\n\nChange-Id: I34e093a03489285508ca0498c56ae6693444d203\n'}]",0,195837,e608e62f10a4fcea4a7af4a1292549fcb3c6bfa0,10,3,2,5638,,,0,"Add tox target to find missing requirements

Change-Id: I34e093a03489285508ca0498c56ae6693444d203
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/37/195837/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0a823d2c41390059f8c071f966f7ccccaadec7f7,pip-missing-reqs," [testenv:pip-missing-reqs] # do not install test-requirements as that will pollute the virtualenv for # determining missing packages # this also means that pip-missing-reqs must be installed separately, outside # of the requirements.txt files deps = pip_missing_reqs -rrequirements.txt commands = pip-missing-reqs -d --ignore-module=oslo_utils* --ignore-module=pkg_resources --ignore-file=oslo_utils/test.py --ignore-file=oslo_utils/tests/* oslo_utils",,9,0
openstack%2Fopenstack-manuals~master~Ic6c1d55284cb1752107dac03fa6631b619a05164,openstack/openstack-manuals,master,Ic6c1d55284cb1752107dac03fa6631b619a05164,Converts section_support-compute.xml to RST,MERGED,2015-06-26 13:16:01.000000000,2015-07-01 13:40:42.000000000,2015-07-01 13:40:40.000000000,"[{'_account_id': 3}, {'_account_id': 10497}, {'_account_id': 10705}, {'_account_id': 14396}, {'_account_id': 14643}, {'_account_id': 14947}]","[{'number': 1, 'created': '2015-06-26 13:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/a6d5da98cb9da8361ca2b74ddc09ae0af492dfd2', 'message': 'Converts section_support-compute.xml to RST\n\nChange-Id: Ic6c1d55284cb1752107dac03fa6631b619a05164\nImplements: blueprint reorganise-user-guides\n'}, {'number': 2, 'created': '2015-06-30 08:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/29261500061ada7955709bf5e72743b92249e74f', 'message': 'Converts section_support-compute.xml to RST\n\nChange-Id: Ic6c1d55284cb1752107dac03fa6631b619a05164\nImplements: blueprint reorganise-user-guides\n'}, {'number': 3, 'created': '2015-06-30 08:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/dfa0286bcf6f481c84e23e2c9c0ee8756bc1a921', 'message': 'Converts section_support-compute.xml to RST\n\nChange-Id: Ic6c1d55284cb1752107dac03fa6631b619a05164\nImplements: blueprint reorganise-user-guides\n'}, {'number': 4, 'created': '2015-07-01 09:37:41.000000000', 'files': ['doc/admin-guide-cloud-rst/source/compute.rst', 'doc/common-rst/support-compute.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/73e3bbded26cd7cbcba62f43934b6ea2dfd502e5', 'message': 'Converts section_support-compute.xml to RST\n\nChange-Id: Ic6c1d55284cb1752107dac03fa6631b619a05164\nImplements: blueprint reorganise-user-guides\n'}]",5,196047,73e3bbded26cd7cbcba62f43934b6ea2dfd502e5,16,6,4,14643,,,0,"Converts section_support-compute.xml to RST

Change-Id: Ic6c1d55284cb1752107dac03fa6631b619a05164
Implements: blueprint reorganise-user-guides
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/47/196047/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/admin-guide-cloud-rst/source/compute.rst', 'doc/common-rst/support-compute.rst']",2,a6d5da98cb9da8361ca2b74ddc09ae0af492dfd2,bp/reorganise-user-guides,".. _support-compute: Troubleshoot Compute ~~~~~~~~~~~~~~~~~~~~ Common problems for Compute typically involve misconfigured networking or credentials that are not sourced properly in the environment. Also, most flat networking configurations do not enable :command:`ping` or :command:`ssh` from a compute node to the instances that run on that node. Another common problem is trying to run 32-bit images on a 64-bit compute node. This section shows you how to troubleshoot Compute. .. _log-files-for-openstack-compute: Compute service logging ----------------------- Compute stores a log file for each service in :file:`/var/log/nova`. For example, :file:`nova-compute.log` is the log for the ``nova-compute`` service. You can set the following options to format log strings for the ``nova.log`` module in the :file:`nova.conf` file: * ``logging_context_format_string`` * ``logging_default_format_string`` If the log level is set to ``debug``, you can also specify ``logging_debug_format_suffix`` to append extra formatting. For information about what variables are available for the formatter see http://docs.python.org/library/logging.html#formatter. You have two options for logging for OpenStack Compute based on configuration settings. In :file:`nova.conf`, include the ``logfile`` option to enable logging. Alternatively you can set ``use_syslog = 1`` so that the nova daemon logs to syslog. .. _section_compute-GuruMed-reports Guru Meditation reports ----------------------- A Guru Meditation report is sent by the Compute Service upon receipt of the ``SIGUSR1`` signal. This report is a general-purpose error report, including a complete report of the service's current state, and is sent to ``stderr``. For example, if you redirect error output to ``nova-api-err.log`` using :command:`nova-api 2>/var/log/nova/nova-api-err.log`, resulting in the process ID 8675, you can then run:: # kill -USR1 8675 This command triggers the Guru Meditation report to be printed to :file:`/var/log/nova/nova-api-err.log`. The report has the following sections: * Package: Displays information about the package to which the process belongs, including version information. * Threads: Displays stack traces and thread IDs for each of the threads within the process. * Green Threads: Displays stack traces for each of the green threads within the process (green threads do not have thread IDs). * Configuration: Lists all configuration options currently accessible through the CONF object for the current process. For more information, see `Guru Meditation Reports <http://docs.openstack.org/developer/nova/devref/gmr.html>`_. .. _compute-common-errors-and-fixes: Common errors and fixes for Compute ----------------------------------- The `ask.openstack.org <http://ask.openstack.org>`_ site offers a place to ask and answer questions, and you can also mark questions as frequently asked questions. This section describes some errors people have posted previously. Bugs are constantly being fixed, so online resources are a great way to get the most up-to-date errors and fixes. **Credential errors, 401, and 403 forbidden errors** Missing credentials cause a ``403 forbidden`` error. To resolve this issue, use one of these methods: #. Manual method Gets the :file:`novarc` file from the project ZIP file, save existing credentials in case of override. and manually source the :file:`novarc` file. #. Script method Generates :file:`novarc` from the project ZIP file and sources it for you. When you run ``nova-api`` the first time, it generates the certificate authority information, including :file:`openssl.cnf`. If you start the CA services before this, you might not be able to create your ZIP file. Restart the services. When your CA information is available, create your ZIP file. Also, check your HTTP proxy settings to see whether they cause problems with :file:`novarc` creation. **Instance errors** Sometimes a particular instance shows ``pending`` or you cannot SSH to it. Sometimes the image itself is the problem. For example, when you use flat manager networking, you do not have a DHCP server and certain images do not support interface injection; you cannot connect to them. The fix for this problem is to use an image that does support this method, such as Ubuntu, which obtains an IP address correctly with FlatManager network settings. To troubleshoot other possible problems with an instance, such as an instance that stays in a spawning state, check the directory for the particular instance under :file:`/var/lib/nova/instances` on the ``nova-compute`` host and make sure that these files are present: * :file:`libvirt.xml` * :file:`disk` * :file:`disk-raw` * :file:`kernel` * :file:`ramdisk` * :file:`console.log`, after the instance starts, If any files are missing, empty, or very small, the ``nova-compute`` service did not successfully download the images from the Image Service. Also check :file:`nova-compute.log` for exceptions. Sometimes they do not appear in the console output. Next, check the log file for the instance in the :file:`/var/log/libvirt/qemu` directory to see if it exists and has any useful error messages in it. Finally, from the :file:`/var/lib/nova/instances` directory for the instance, see if this command returns an error:: # virsh create libvirt.xml **Empty log output for Linux instances** You can view the log output of running instances from either the :guilabel:`Log` tab of the dashboard or the output of :command:`nova console-log`. In some cases, the log output of a running Linux instance will be empty or only display a single character (for example, the `?` character). This occurs when the Compute service attempts to retrieve the log output of the instance via a serial console while the instance itself is not configured to send output to the console. To rectify this, append the following parameters to kernel arguments specified in the instance's boot loader:: console=tty0 console=ttyS0,115200n8 Upon rebooting, the instance will be configured to send output to the Compute service. .. _reset-state: Reset the state of an instance ------------------------------ If an instance remains in an intermediate state, such as ``deleting``, you can use the :command:`nova reset-state` command to manually reset the state of an instance to an error state. You can then delete the instance. For example:: $ nova reset-state c6bbbf26-b40a-47e7-8d5c-eb17bf65c485 $ nova delete c6bbbf26-b40a-47e7-8d5c-eb17bf65c485 You can also use the :option:`--active` parameter to force the instance back to an active state instead of an error state. For example:: $ nova reset-state --active c6bbbf26-b40a-47e7-8d5c-eb17bf65c485 .. _problems-with-injection Injection problems ------------------ If instances do not boot or boot slowly, investigate file injection as a cause. To disable injection in libvirt, set the following in :file:`nova.conf`: .. code-block:: ini :linenos: [libvirt] inject_partition = -2 .. note:: If you have not enabled the configuration drive and you want to make user-specified files available from the metadata server for to improve performance and avoid boot failure if injection fails, you must disable injection. .. _live-snapshotting-fail: Disable live snapshotting ------------------------- If you use libvirt version ``1.2.2``, you may experience problems with live snapshots creation. Occasionally, libvirt of the specified version fails to perform the live snapshotting under load that presupposes a concurrent creation of multiple snapshots. To effectively disable the libvirt live snapshotting, until the problem is resolved, configure the ``disable_libvirt_livesnapshot`` option. You can turn off the live snapshotting mechanism by setting up its value to ``True`` in the ``[workarounds]`` section of the :file:`nova.conf` file: .. code-block:: ini :linenos: [workarounds] disable_libvirt_livesnapshot = True ",,222,1
openstack%2Fproject-config~master~I536d53949df2b32ef0198629c584adbae14568a7,openstack/project-config,master,I536d53949df2b32ef0198629c584adbae14568a7,Add a zuul-git-prep builder macro,MERGED,2015-06-29 23:48:05.000000000,2015-07-01 13:39:35.000000000,2015-07-01 13:39:32.000000000,"[{'_account_id': 3}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 7069}, {'_account_id': 16272}]","[{'number': 1, 'created': '2015-06-29 23:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/031e550b907c96fb02cdf1f45323f30ebe96a7a8', 'message': 'Add a zuul-git-prep builder macro\n\nIntroducing zuul-git-prep, a lightweight replacement for the\ngerrit-git-prep builder macro using zuul-cloner to do the heavy\nlifting. This is based on the devstack-cloner macro which works\nsimilarly for bootstrapping devstack-gate based jobs.\n\nChange-Id: I536d53949df2b32ef0198629c584adbae14568a7\n'}, {'number': 2, 'created': '2015-06-30 01:13:11.000000000', 'files': ['jenkins/jobs/macros.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/67ea589dd47f8ce008032774fa1858c8a417e80b', 'message': 'Add a zuul-git-prep builder macro\n\nIntroducing zuul-git-prep, a lightweight replacement for the\ngerrit-git-prep builder macro using zuul-cloner to do the heavy\nlifting. This is based on the devstack-cloner macro which works\nsimilarly for bootstrapping devstack-gate based jobs.\n\nChange-Id: I536d53949df2b32ef0198629c584adbae14568a7\n'}]",5,196906,67ea589dd47f8ce008032774fa1858c8a417e80b,17,5,2,5263,,,0,"Add a zuul-git-prep builder macro

Introducing zuul-git-prep, a lightweight replacement for the
gerrit-git-prep builder macro using zuul-cloner to do the heavy
lifting. This is based on the devstack-cloner macro which works
similarly for bootstrapping devstack-gate based jobs.

Change-Id: I536d53949df2b32ef0198629c584adbae14568a7
",git fetch https://review.opendev.org/openstack/project-config refs/changes/06/196906/2 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/macros.yaml'],1,031e550b907c96fb02cdf1f45323f30ebe96a7a8,propose-constraints," name: zuul-git-prep builders: - shell: | #!/bin/bash -xe cat > clonemap.yaml << EOF clonemap: - name: $ZUUL_PROJECT dest: . EOF # If this is called in a periodic job, these will not be set export ZUUL_BRANCH=${ZUUL_BRANCH:-master} export ZUUL_REF=${ZUUL_REF:-None} export BRANCH_OVERRIDE={branch-override} if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export ZUUL_BRANCH=$BRANCH_OVERRIDE fi /usr/zuul-env/bin/zuul-cloner -m clonemap.yaml --cache-dir /opt/git \ git://git.openstack.org \ $ZUUL_PROJECT - builder:",,21,0
openstack%2Foslo.serialization~master~If1bdbe08091e72a2fc15a5867a7ba6358bfd2e66,openstack/oslo.serialization,master,If1bdbe08091e72a2fc15a5867a7ba6358bfd2e66,Add tox target to find missing requirements,MERGED,2015-06-26 02:03:23.000000000,2015-07-01 13:38:24.000000000,2015-07-01 13:38:23.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-06-26 02:03:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/77b14549eba83d6de84f9406e26355039db2d9a9', 'message': 'Add tox target to find missing requirements\n\nChange-Id: If1bdbe08091e72a2fc15a5867a7ba6358bfd2e66\n'}, {'number': 2, 'created': '2015-06-26 11:32:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/30197264b00cd1ecd681f69be0292e6d6464ee8a', 'message': 'Add tox target to find missing requirements\n\nChange-Id: If1bdbe08091e72a2fc15a5867a7ba6358bfd2e66\n'}, {'number': 3, 'created': '2015-06-26 12:54:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/114c5ff1ef01a05428c275d6369879dc943f6954', 'message': 'Add tox target to find missing requirements\n\nChange-Id: If1bdbe08091e72a2fc15a5867a7ba6358bfd2e66\n'}, {'number': 4, 'created': '2015-06-27 20:25:06.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/17bb701f3fef0535703427ef33ba488198373326', 'message': 'Add tox target to find missing requirements\n\nChange-Id: If1bdbe08091e72a2fc15a5867a7ba6358bfd2e66\n'}]",0,195838,17bb701f3fef0535703427ef33ba488198373326,18,3,4,5638,,,0,"Add tox target to find missing requirements

Change-Id: If1bdbe08091e72a2fc15a5867a7ba6358bfd2e66
",git fetch https://review.opendev.org/openstack/oslo.serialization refs/changes/38/195838/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,77b14549eba83d6de84f9406e26355039db2d9a9,pip-missing-reqs," [testenv:pip-missing-reqs] # do not install test-requirements as that will pollute the virtualenv for # determining missing packages # this also means that pip-missing-reqs must be installed separately, outside # of the requirements.txt files deps = pip_missing_reqs -rrequirements.txt commands = pip-missing-reqs -d --ignore-module=oslo_serialization* --ignore-module=pkg_resources --ignore-file=oslo_serialization/test.py --ignore-file=oslo_serialization/tests/* oslo_serialization",,9,0
openstack%2Foslo.serialization~master~I44badf246dde417c6f54bab74716ddbaaee333f1,openstack/oslo.serialization,master,I44badf246dde417c6f54bab74716ddbaaee333f1,Remove oslo namespace package,MERGED,2015-05-11 16:54:49.000000000,2015-07-01 13:38:20.000000000,2015-07-01 13:38:19.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 9107}]","[{'number': 1, 'created': '2015-05-11 16:54:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/ce3aa199222e0758cd8b4ee349b29bf759a21d8f', 'message': 'Remove oslo namespace package\n\nBlueprint remove-namespace-packages\n\nDepends-on: I950f1afb1b4600dfc1f38d1a7d9322f240f444a6\nfor openstack/cinder\nDepends-on: I950f1afb1b4600dfc1f38d1a7d9322f240f444a6\nfor openstack/cinder\nDepends-on: I950f1afb1b4600dfc1f38d1a7d9322f240f444a6\nfor openstack/cinder\nDepends-on: I1fd9eba88ec8d436f6d2e37df851dbaa84a8c78c\nfor openstack/glance_store\n\nChange-Id: I44badf246dde417c6f54bab74716ddbaaee333f1\n'}, {'number': 2, 'created': '2015-05-11 17:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/6f0d8e702ed4bd71840fcea79c0c986233c3d932', 'message': 'Remove oslo namespace package\n\nBlueprint remove-namespace-packages\n\nDepends-on: I950f1afb1b4600dfc1f38d1a7d9322f240f444a6\nfor openstack/cinder\nDepends-on: I1fd9eba88ec8d436f6d2e37df851dbaa84a8c78c\nfor openstack/glance_store\n\nChange-Id: I44badf246dde417c6f54bab74716ddbaaee333f1\n'}, {'number': 3, 'created': '2015-06-04 20:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/94c52da979d9eb59c0858d96ab1e93fc9a38cf75', 'message': 'Remove oslo namespace package\n\nBlueprint remove-namespace-packages\n\nDepends-on: I950f1afb1b4600dfc1f38d1a7d9322f240f444a6\nfor openstack/cinder\nDepends-on: I1fd9eba88ec8d436f6d2e37df851dbaa84a8c78c\nfor openstack/glance_store\n\nChange-Id: I44badf246dde417c6f54bab74716ddbaaee333f1\n'}, {'number': 4, 'created': '2015-06-27 20:24:36.000000000', 'files': ['oslo/serialization/__init__.py', 'tests/test_msgpackutils.py', 'tests/test_warning.py', 'oslo/serialization/jsonutils.py', 'oslo/__init__.py', 'setup.cfg', 'tests/__init__.py'], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/4e2ca430930b26ead683f6ea051f9508ad159084', 'message': 'Remove oslo namespace package\n\nBlueprint remove-namespace-packages\n\nDepends-on: I950f1afb1b4600dfc1f38d1a7d9322f240f444a6\nfor openstack/cinder\nDepends-on: I1fd9eba88ec8d436f6d2e37df851dbaa84a8c78c\nfor openstack/glance_store\n\nChange-Id: I44badf246dde417c6f54bab74716ddbaaee333f1\n'}]",0,181980,4e2ca430930b26ead683f6ea051f9508ad159084,22,4,4,2472,,,0,"Remove oslo namespace package

Blueprint remove-namespace-packages

Depends-on: I950f1afb1b4600dfc1f38d1a7d9322f240f444a6
for openstack/cinder
Depends-on: I1fd9eba88ec8d436f6d2e37df851dbaa84a8c78c
for openstack/glance_store

Change-Id: I44badf246dde417c6f54bab74716ddbaaee333f1
",git fetch https://review.opendev.org/openstack/oslo.serialization refs/changes/80/181980/4 && git format-patch -1 --stdout FETCH_HEAD,"['oslo/serialization/__init__.py', 'tests/test_msgpackutils.py', 'tests/test_warning.py', 'tests/test_jsonutils.py', 'oslo/serialization/jsonutils.py', 'oslo/__init__.py', 'setup.cfg', 'tests/__init__.py']",8,ce3aa199222e0758cd8b4ee349b29bf759a21d8f,bp/remove-namespace-packages,,,0,575
openstack%2Fsenlin~master~I92f1d5d420706dc075eaa50b0d403f52eb972ee3,openstack/senlin,master,I92f1d5d420706dc075eaa50b0d403f52eb972ee3,Remove dead code from cluster's action API,MERGED,2015-06-30 09:58:25.000000000,2015-07-01 13:36:26.000000000,2015-07-01 13:36:24.000000000,"[{'_account_id': 3}, {'_account_id': 6348}, {'_account_id': 8246}, {'_account_id': 11034}]","[{'number': 1, 'created': '2015-06-30 09:58:25.000000000', 'files': ['senlin/api/openstack/v1/clusters.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/c4ca18dbeb4247be6677e490e1d3df553f55adf6', 'message': ""Remove dead code from cluster's action API\n\nSome early checks in the action's API has eliminated the possibility\nthat the body contains unsupported action name, so the last condition in\nthe action dispatch logic won't be met in any case. This patch kills the\ndead code.\n\nChange-Id: I92f1d5d420706dc075eaa50b0d403f52eb972ee3\n""}]",0,197003,c4ca18dbeb4247be6677e490e1d3df553f55adf6,9,4,1,8246,,,0,"Remove dead code from cluster's action API

Some early checks in the action's API has eliminated the possibility
that the body contains unsupported action name, so the last condition in
the action dispatch logic won't be met in any case. This patch kills the
dead code.

Change-Id: I92f1d5d420706dc075eaa50b0d403f52eb972ee3
",git fetch https://review.opendev.org/openstack/senlin refs/changes/03/197003/1 && git format-patch -1 --stdout FETCH_HEAD,['senlin/api/openstack/v1/clusters.py'],1,c4ca18dbeb4247be6677e490e1d3df553f55adf6,cluster-api-deadcode, else: # this_action == self.POLICY_UPDATE:," elif this_action == self.POLICY_UPDATE: else: raise exc.HTTPInternalServerError(_('Unexpected action ""%s""'), this_action)",2,4
openstack%2Foslo.i18n~master~I7266e31bda99df8b9b27ffe1cfd6a06e418c1c00,openstack/oslo.i18n,master,I7266e31bda99df8b9b27ffe1cfd6a06e418c1c00,Imported Translations from Transifex,MERGED,2015-07-01 06:01:06.000000000,2015-07-01 13:36:00.000000000,2015-07-01 13:35:59.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-07-01 06:01:06.000000000', 'files': ['oslo.i18n/locale/zh_CN/LC_MESSAGES/oslo.i18n.po'], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/65549d530e34cd51e0b626054b9298115562df37', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I7266e31bda99df8b9b27ffe1cfd6a06e418c1c00\n'}]",0,197427,65549d530e34cd51e0b626054b9298115562df37,6,2,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I7266e31bda99df8b9b27ffe1cfd6a06e418c1c00
",git fetch https://review.opendev.org/openstack/oslo.i18n refs/changes/27/197427/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo.i18n/locale/zh_CN/LC_MESSAGES/oslo.i18n.po'],1,65549d530e34cd51e0b626054b9298115562df37,transifex/translations,"# Copyright (C) 2015 ORGANIZATION""POT-Creation-Date: 2015-07-01 06:01+0000\n""""消息对象不支持str()方法，因其可能包含非ascii字符。请用unicode()或者"" ""translate()代替。""","# Copyright (C) 2014 ORGANIZATION""POT-Creation-Date: 2014-11-20 06:04+0000\n""""消息对象不支持str()方法，因其可能包含非ascii字符。请用unicode()或者translate"" ""()代替。""",4,4
openstack%2Foslo.log~master~I8072f9f1bda796cc7a26e1617fbfe43d0421d656,openstack/oslo.log,master,I8072f9f1bda796cc7a26e1617fbfe43d0421d656,Add tox target to find missing requirements,MERGED,2015-06-26 02:18:02.000000000,2015-07-01 13:35:12.000000000,2015-07-01 13:35:10.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 5638}, {'_account_id': 8911}]","[{'number': 1, 'created': '2015-06-26 02:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/25b5dd34b97561ef4a1bbc9fee6b37bcf8e60ad3', 'message': 'Add tox target to find missing requirements\n\nChange-Id: I8072f9f1bda796cc7a26e1617fbfe43d0421d656\n'}, {'number': 2, 'created': '2015-06-26 11:22:25.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/c2210a20dcbac24019a01fee8f394cb8e1e53d1e', 'message': 'Add tox target to find missing requirements\n\nChange-Id: I8072f9f1bda796cc7a26e1617fbfe43d0421d656\n'}]",0,195844,c2210a20dcbac24019a01fee8f394cb8e1e53d1e,12,4,2,5638,,,0,"Add tox target to find missing requirements

Change-Id: I8072f9f1bda796cc7a26e1617fbfe43d0421d656
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/44/195844/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,25b5dd34b97561ef4a1bbc9fee6b37bcf8e60ad3,pip-missing-reqs," [testenv:pip-missing-reqs] # do not install test-requirements as that will pollute the virtualenv for # determining missing packages # this also means that pip-missing-reqs must be installed separately, outside # of the requirements.txt files deps = pip_missing_reqs -rrequirements.txt commands = pip-missing-reqs -d --ignore-module=oslo_log* --ignore-file=oslo_log/tests/* --ignore-file=tests/ oslo_log",,9,0
openstack%2Fopenstack-ansible~master~I4b58d59f647e6f843fc33561dea75be67c0f78c4,openstack/openstack-ansible,master,I4b58d59f647e6f843fc33561dea75be67c0f78c4,Configurable memcached connections limit & threads,MERGED,2015-06-23 05:57:43.000000000,2015-07-01 13:35:00.000000000,2015-07-01 13:34:59.000000000,"[{'_account_id': 3}, {'_account_id': 425}, {'_account_id': 6816}, {'_account_id': 7219}, {'_account_id': 7307}, {'_account_id': 7353}, {'_account_id': 12807}, {'_account_id': 14578}]","[{'number': 1, 'created': '2015-06-23 05:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d58b36da2900f2bbe3c9135771a277d8f825dc92', 'message': 'Config memcached connections limit and threads\n\nModifies resource limits for memcached user because modifying\n/etc/defaults/memcache file to set ulimit in the shell does not work.\n\nChange-Id: I4b58d59f647e6f843fc33561dea75be67c0f78c4\nCloses-Bug: #1438498\n'}, {'number': 2, 'created': '2015-06-23 21:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1d39d8f968b6f58bbbb7aeb2a98f0418360e9763', 'message': 'Configurable memcached connections limit & threads\n\nIncreasing memcached_connections may requires ulimit to be raised so\nthat will be done if necessary.\n\nIncreasing memcached_threads is not strongly recommended but is\navailable if needed.\n\nChange-Id: I4b58d59f647e6f843fc33561dea75be67c0f78c4\nCloses-Bug: #1438498\n'}, {'number': 3, 'created': '2015-06-23 22:00:48.000000000', 'files': ['playbooks/roles/memcached_server/templates/memcached.conf', 'playbooks/roles/memcached_server/templates/memcached.j2', 'playbooks/roles/memcached_server/tasks/memcached_config.yml', 'playbooks/roles/memcached_server/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d0127d51bdb9a6b51fec5d91f2dbd72177e4c4ca', 'message': 'Configurable memcached connections limit & threads\n\nIncreasing memcached_connections may require ulimit to be raised so\nthat will be done if necessary.\n\nIncreasing memcached_threads is not strongly recommended but is\navailable if needed.\n\nChange-Id: I4b58d59f647e6f843fc33561dea75be67c0f78c4\nCloses-Bug: #1438498\n'}]",1,194499,d0127d51bdb9a6b51fec5d91f2dbd72177e4c4ca,22,8,3,12807,,,0,"Configurable memcached connections limit & threads

Increasing memcached_connections may require ulimit to be raised so
that will be done if necessary.

Increasing memcached_threads is not strongly recommended but is
available if needed.

Change-Id: I4b58d59f647e6f843fc33561dea75be67c0f78c4
Closes-Bug: #1438498
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/99/194499/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/memcached_server/templates/memcached.conf', 'playbooks/roles/memcached_server/tasks/memcached_config.yml', 'playbooks/roles/memcached_server/defaults/main.yml', 'playbooks/plugins/test_connections.py']",4,d58b36da2900f2bbe3c9135771a277d8f825dc92,bug/1438498,,,19,0
openstack%2Fheat~master~Ia45c71ce809ade70ba8f1dcd7fee576cdf9bae98,openstack/heat,master,Ia45c71ce809ade70ba8f1dcd7fee576cdf9bae98,Convergence: Update stack attributes.,MERGED,2015-06-29 04:57:37.000000000,2015-07-01 13:23:21.000000000,2015-07-01 13:23:19.000000000,"[{'_account_id': 3}, {'_account_id': 4715}, {'_account_id': 6577}, {'_account_id': 6899}, {'_account_id': 10487}, {'_account_id': 11424}, {'_account_id': 12259}, {'_account_id': 15426}]","[{'number': 1, 'created': '2015-06-29 04:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/74228c0b94950214b2656d0cf1d08e21a501bf83', 'message': 'Convergence: Update stack attributes.\n\nParameters and attributes of stack need to be updated for stack update\nrequest. This will fix the update rollback in convergence.\n\nChange-Id: Ia45c71ce809ade70ba8f1dcd7fee576cdf9bae98\n'}, {'number': 2, 'created': '2015-06-29 06:04:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c6f9438b624c100f2d446eef66ec21240fb58227', 'message': 'Convergence: Update stack attributes.\n\nParameters and attributes of stack need to be updated for stack update\nrequest. This will fix the update rollback in convergence.\n\nChange-Id: Ia45c71ce809ade70ba8f1dcd7fee576cdf9bae98\n'}, {'number': 3, 'created': '2015-06-29 08:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/490dd4b8d4af1dc2842d05df476abf0a51f26bca', 'message': 'Convergence: Update stack attributes.\n\nParameters and attributes of stack need to be updated for stack update\nrequest. This will fix the update rollback in convergence.\n\nChange-Id: Ia45c71ce809ade70ba8f1dcd7fee576cdf9bae98\n'}, {'number': 4, 'created': '2015-07-01 03:02:06.000000000', 'files': ['heat/tests/test_engine_service.py', 'heat/engine/stack.py', 'heat/engine/service.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/7caf2f16ddf02e249d49dae8be3dbf7683ceb23d', 'message': 'Convergence: Update stack attributes.\n\nParameters and attributes of stack need to be updated for stack update\nrequest. This will fix the update rollback in convergence.\n\nChange-Id: Ia45c71ce809ade70ba8f1dcd7fee576cdf9bae98\n'}]",0,196536,7caf2f16ddf02e249d49dae8be3dbf7683ceb23d,22,8,4,12259,,,0,"Convergence: Update stack attributes.

Parameters and attributes of stack need to be updated for stack update
request. This will fix the update rollback in convergence.

Change-Id: Ia45c71ce809ade70ba8f1dcd7fee576cdf9bae98
",git fetch https://review.opendev.org/openstack/heat refs/changes/36/196536/4 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_engine_service.py', 'heat/engine/stack.py', 'heat/tests/.test_engine_service.py.swo', 'heat/engine/service.py']",4,74228c0b94950214b2656d0cf1d08e21a501bf83,convergence-2," current_stack.converge_stack(template=tmpl, new_stack=updated_stack)", current_stack.converge_stack(template=tmpl),24,4
openstack%2Foslo.i18n~master~I708c2dbc4b43a7a805b5424664992a216e996a0f,openstack/oslo.i18n,master,I708c2dbc4b43a7a805b5424664992a216e996a0f,Add tox target to find missing requirements,MERGED,2015-06-26 02:19:28.000000000,2015-07-01 13:22:15.000000000,2015-07-01 13:22:14.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-06-26 02:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/939751e5f9e5fc741cd9900f1cc69e9cbad8246e', 'message': 'Add tox target to find missing requirements\n\nChange-Id: I708c2dbc4b43a7a805b5424664992a216e996a0f\n'}, {'number': 2, 'created': '2015-06-26 11:21:54.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/b2e8a62998debd1ae45db8ced36457772f33aff7', 'message': 'Add tox target to find missing requirements\n\nChange-Id: I708c2dbc4b43a7a805b5424664992a216e996a0f\n'}]",0,195845,b2e8a62998debd1ae45db8ced36457772f33aff7,10,3,2,5638,,,0,"Add tox target to find missing requirements

Change-Id: I708c2dbc4b43a7a805b5424664992a216e996a0f
",git fetch https://review.opendev.org/openstack/oslo.i18n refs/changes/45/195845/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,939751e5f9e5fc741cd9900f1cc69e9cbad8246e,pip-missing-reqs," [testenv:pip-missing-reqs] # do not install test-requirements as that will pollute the virtualenv for # determining missing packages # this also means that pip-missing-reqs must be installed separately, outside # of the requirements.txt files deps = pip_missing_reqs -rrequirements.txt commands = pip-missing-reqs -d --ignore-module=oslo_i18n* --ignore-file=oslo_i18n/tests/* --ignore-file=tests/ oslo_i18n",,9,0
openstack%2Fneutron-specs~master~I284543b176ed5dba252ab0662236fb6d8df14bf5,openstack/neutron-specs,master,I284543b176ed5dba252ab0662236fb6d8df14bf5,Change QoS API to be consistent,MERGED,2015-06-30 10:00:01.000000000,2015-07-01 13:20:09.000000000,2015-07-01 13:20:07.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 1653}, {'_account_id': 6598}, {'_account_id': 6681}, {'_account_id': 8788}, {'_account_id': 9656}, {'_account_id': 11343}, {'_account_id': 11631}, {'_account_id': 12444}, {'_account_id': 13070}, {'_account_id': 14249}, {'_account_id': 14605}, {'_account_id': 16983}]","[{'number': 1, 'created': '2015-06-30 10:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/93b6750a2ec5d1a65271787a7a0206c429a5910a', 'message': 'Change QoS API to be consistent\n\nQoS rules became sub-resources of qos_policy.\nEach qos type rules are mapped to qos policy\nsub-resource collection. For example, bandwidthlimit_rule will\nbe created by posting rule data to the following URI:\nPOST /v2.0/qos-policies/{qos-policy-id}/bandwidthlimit_rules/\n\nThis approach cames out of discussion during QoS mid-cycle sprint.\n\nChange-Id: I284543b176ed5dba252ab0662236fb6d8df14bf5\nCo-Authored-By: Irena Berezovsky irenab.dev@gmail.com\n'}, {'number': 2, 'created': '2015-06-30 10:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f335472d6e999803e8b4751af111ae1f1ea040c3', 'message': 'Change QoS API to be consistent\n\nQoS rules became sub-resources of qos_policy.\nEach qos type rules are mapped to qos policy\nsub-resource collection. For example, bandwidthlimit_rule will\nbe created by posting rule data to the following URI:\nPOST /v2.0/qos-policies/{qos-policy-id}/bandwidthlimit_rules/\nThis approach cames out of discussion during QoS mid-cycle sprint.\n\nCo-Authored-By: Irena Berezovsky irenab.dev@gmail.com\n\nChange-Id: I284543b176ed5dba252ab0662236fb6d8df14bf5\n'}, {'number': 3, 'created': '2015-06-30 11:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/64897f955f63f31d250bbc8cb5f4a9575802b092', 'message': 'Change QoS API to be consistent\n\nQoS rules became sub-resources of qos_policy.\nEach qos type rules are mapped to qos policy\nsub-resource collection. For example, bandwidthlimit_rule will\nbe created by posting rule data to the following URI:\nPOST /v2.0/qos-policies/{qos-policy-id}/bandwidthlimit_rules/\n\nThis approach cames out of discussion during QoS mid-cycle sprint.\n\nChange-Id: I284543b176ed5dba252ab0662236fb6d8df14bf5\nCo-Authored-By: Irena Berezovsky irenab.dev@gmail.com\n'}, {'number': 4, 'created': '2015-06-30 14:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/bd248abd31974e66945edaac08332ec7acfdc9b1', 'message': 'Change QoS API to be consistent\n\nQoS rules became sub-resources of qos_policy.\nEach qos type rules are mapped to qos policy\nsub-resource collection. For example, bandwidthlimit_rule will\nbe created by posting rule data to the following URI:\nPOST /v2.0/qos-policies/{qos-policy-id}/bandwidthlimit_rules/\nUpdate URIs to include service (qos) prefix.\nThis approach cames out of discussion during QoS mid-cycle sprint.\n\nCo-Authored-By: Irena Berezovsky irenab.dev@gmail.com\n\nChange-Id: I284543b176ed5dba252ab0662236fb6d8df14bf5\n'}, {'number': 5, 'created': '2015-06-30 18:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e618ef6d012a38da85d22e52934a97c09bf671d7', 'message': 'Change QoS API to be consistent\n\nQoS rules became sub-resources of qos_policy.\nEach qos type rules are mapped to qos policy\nsub-resource collection. For example, bandwidthlimit_rule will\nbe created by posting rule data to the following URI:\nPOST /v2.0/qos-policies/{qos-policy-id}/bandwidthlimit_rules/\nUpdate URIs to include service (qos) prefix.\nThis approach cames out of discussion during QoS mid-cycle sprint.\n\nCo-Authored-By: Irena Berezovsky irenab.dev@gmail.com\n\nChange-Id: I284543b176ed5dba252ab0662236fb6d8df14bf5\n'}, {'number': 6, 'created': '2015-06-30 20:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/3b2d3000386df393599f744d5f4fae95258a30cd', 'message': 'Change QoS API to be consistent\n\nQoS rules became sub-resources of qos_policy.\nEach qos type rules are mapped to qos policy\nsub-resource collection. For example, bandwidthlimit_rule will\nbe created by posting rule data to the following URI:\nPOST /v2.0/qos-policies/{qos-policy-id}/bandwidthlimit_rules/\nUpdate URIs to include service (qos) prefix.\nThis approach cames out of discussion during QoS mid-cycle sprint.\n\nCo-Authored-By: Irena Berezovsky irenab.dev@gmail.com\nCo-Authored-By: Eran Gampel <eran@gampel.net>\n\nChange-Id: I284543b176ed5dba252ab0662236fb6d8df14bf5\n'}, {'number': 7, 'created': '2015-07-01 08:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/5d77e38339c74387180ba9897670a5f0fbe93f0d', 'message': 'Change QoS API to be consistent\n\nQoS rules became sub-resources of qos_policy.\nEach qos type rules are mapped to qos policy\nsub-resource collection. For example, bandwidthlimit_rule will\nbe created by posting rule data to the following URI:\nPOST /v2.0/qos-policies/{qos-policy-id}/bandwidthlimit_rules/\nUpdate URIs to include service (qos) prefix.\nThis approach cames out of discussion during QoS mid-cycle sprint.\n\nCo-Authored-By: Irena Berezovsky irenab.dev@gmail.com\nCo-Authored-By: Eran Gampel <eran@gampel.net>\n\nChange-Id: I284543b176ed5dba252ab0662236fb6d8df14bf5\n'}, {'number': 8, 'created': '2015-07-01 12:42:12.000000000', 'files': ['specs/liberty/qos-api-extension.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/64c13c45afb35a5eeed168f8d2276ad51fa39351', 'message': 'Change QoS API to be consistent\n\nQoS rules became sub-resources of qos_policy.\nEach qos type rules are mapped to qos policy\nsub-resource collection. For example, bandwidthlimit_rule will\nbe created by posting rule data to the following URI:\nPOST /v2.0/qos-policies/{qos-policy-id}/bandwidthlimit_rules/\nUpdate URIs to include service (qos) prefix.\nThis approach cames out of discussion during QoS mid-cycle sprint.\n\nCo-Authored-By: Irena Berezovsky irenab.dev@gmail.com\nCo-Authored-By: Eran Gampel <eran@gampel.net>\n\nChange-Id: I284543b176ed5dba252ab0662236fb6d8df14bf5\n'}]",21,197004,64c13c45afb35a5eeed168f8d2276ad51fa39351,45,14,8,13070,,,0,"Change QoS API to be consistent

QoS rules became sub-resources of qos_policy.
Each qos type rules are mapped to qos policy
sub-resource collection. For example, bandwidthlimit_rule will
be created by posting rule data to the following URI:
POST /v2.0/qos-policies/{qos-policy-id}/bandwidthlimit_rules/
Update URIs to include service (qos) prefix.
This approach cames out of discussion during QoS mid-cycle sprint.

Co-Authored-By: Irena Berezovsky irenab.dev@gmail.com
Co-Authored-By: Eran Gampel <eran@gampel.net>

Change-Id: I284543b176ed5dba252ab0662236fb6d8df14bf5
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/04/197004/7 && git format-patch -1 --stdout FETCH_HEAD,['specs/liberty/qos-api-extension.rst'],1,93b6750a2ec5d1a65271787a7a0206c429a5910a,neutron-qos," } } SUB_RESOURCE_ATTRIBUTE_MAP = { 'bandwidth_limit_rules':{ 'parent': {'collection_name': 'qos_policies', 'member_name': 'qos_policies'}, 'paramters': { dict(QOS_RULE_COMMON_FIELDS, **{ 'max_kbps': {'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': None, 'validate': {'type:integer', None}}, 'max_burst_kbps': { 'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': 0, 'validate': {'type:integer', None}}, }) } } POST /v2.0/qos-policies/ POST /v2.0/qos-policies/{qos-policy-id}/bandwidthlimit_rules/ { ""bandwidth_limit"": { ""max_kbps"": ""10000"", } } GET /v2.0/qos-policies/{qos-policy-id}/ neutron qos-rule-create <policy-name-or-id> --type bandwidth_limit \"," }, 'qos_bandwidthlimit_rule': dict(QOS_RULE_COMMON_FIELDS, **{ 'max_kbps': {'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': None, 'validate': {'type:integer', None}}, 'max_burst_kbps': { 'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': 0, 'validate': {'type:integer', None}}, }) } POST /v2.0/qos-policies POST /v2.0/qos-rules/bandwidth-limit/ { ""bandwidth_limit"": { ""qos_policy_id"": ""46ebaec0-0570-43ac-82f6-60d2b03168c4"", ""max_kbps"": ""10000"", } } GET /v2.0/qos-policies/46ebaec0-0570-43ac-82f6-60d2b03168c4 ""qos_policy_id"": ""46ebaec0-0570-43ac-82f6-60d2b03168c4"", neutron qos-rule-create <policy-name-or-id> --type bandwidth_limit \",25,22
openstack%2Fmurano~master~Ia7ba23898618a1fcfee32fe5598003fca1f7f9f9,openstack/murano,master,Ia7ba23898618a1fcfee32fe5598003fca1f7f9f9,Add CLI reference,MERGED,2015-06-24 14:54:20.000000000,2015-07-01 13:19:33.000000000,2015-07-01 13:19:29.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7549}, {'_account_id': 7821}, {'_account_id': 8127}, {'_account_id': 13149}, {'_account_id': 14643}, {'_account_id': 15168}]","[{'number': 1, 'created': '2015-06-24 14:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/24c2bd149e126a49ab3b6857b5fdd15b31841efc', 'message': 'Add CLI reference\n\nIt was autogenerated and translated to rst.\n\nChange-Id: Ia7ba23898618a1fcfee32fe5598003fca1f7f9f9\n'}, {'number': 2, 'created': '2015-06-25 07:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/e994fd1683827928c4251b4b6ff3a9a5554d8a32', 'message': 'Add CLI reference\n\nIt was autogenerated and translated to rst.\n\nChange-Id: Ia7ba23898618a1fcfee32fe5598003fca1f7f9f9\n'}, {'number': 3, 'created': '2015-06-26 07:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/42540e7b115a4faad33472ecb25b0b82bf2158f6', 'message': 'Add CLI reference\n\nIt was autogenerated and translated to rst.\n\nChange-Id: Ia7ba23898618a1fcfee32fe5598003fca1f7f9f9\n'}, {'number': 4, 'created': '2015-06-26 07:37:02.000000000', 'files': ['doc/source/draft/appendix/cli_ref.rst'], 'web_link': 'https://opendev.org/openstack/murano/commit/ae64399d4db60e296be57906cab4f0bb8ad8c7be', 'message': 'Add CLI reference\n\nIt was autogenerated and translated to rst.\n\nChange-Id: Ia7ba23898618a1fcfee32fe5598003fca1f7f9f9\n'}]",3,195128,ae64399d4db60e296be57906cab4f0bb8ad8c7be,27,8,4,7549,,,0,"Add CLI reference

It was autogenerated and translated to rst.

Change-Id: Ia7ba23898618a1fcfee32fe5598003fca1f7f9f9
",git fetch https://review.opendev.org/openstack/murano refs/changes/28/195128/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/draft/appendix/cli_ref.rst'],1,24c2bd149e126a49ab3b6857b5fdd15b31841efc,update-docs,".. _cli_ref: :maxdepth: 2 ========================== Murano command-line client ========================== The ``murano`` client is the command-line interface (CLI) for the Application catalog API and its extensions. This chapter documents ``murano`` version ``0.6.1``. For help on a specific ``murano`` command, enter: .. code-block:: console $ murano help COMMAND murano usage usage: murano \[--version] \[-d] \[-v] \[-k] \[--os-cacert <ca-certificate>] \[--cert-file CERT_FILE] \[--key-file KEY_FILE] \[--ca-file CA_FILE] \[--api-timeout API_TIMEOUT] \[--os-username OS_USERNAME] \[--os-password OS_PASSWORD] \[--os-tenant-id OS_TENANT_ID] \[--os-tenant-name OS_TENANT_NAME] \[--os-auth-url OS_AUTH_URL] \[--os-region-name OS_REGION_NAME] \[--os-auth-token OS_AUTH_TOKEN] \[--os-no-client-auth] \[--murano-url MURANO_URL] \[--glance-url GLANCE_URL] \[--murano-api-version MURANO_API_VERSION] \[--os-service-type OS_SERVICE_TYPE] \[--os-endpoint-type OS_ENDPOINT_TYPE] \[--include-password] \[--murano-repo-url MURANO_REPO_URL] <subcommand> ... Subcommands =========== * *bundle-import* Import a bundle. * *category-create* Create a category. * *category-delete* Delete a category. * *category-list* List all available categories. * *category-show * *deployment-list* List deployments for an environment. * *env-template-add-app* Add application to the environment template. * *env-template-create* Create an environment template. * *env-template-del-app* Delete application to the environment template. * *env-template-delete* Delete an environment template. * *env-template-list* List the environments templates. * *env-template-show* Display environment template details. * *env-template-update* Update an environment template. * *environment-create* Create an environment. * *environment-delete* Delete an environment. * *environment-list* List the environments. * *environment-rename* Rename an environment. * *environment-show* Display environment details. * *package-create* Create an application package. * *package-delete* Delete a package. * *package-download* Download a package to a filename or stdout. * *package-import* Import a package. * *package-list* List available packages. * *package-show* Display details for a package. * *service-show* * *bash-completion* Prints all of the commands and options to stdout. * *help* Display help about this program or one of its subcommands. Murano optional arguments ========================= **--version** show program's version number and exit **-d, --debug** Defaults to env[MURANOCLIENT_DEBUG] **-v, --verbose** Print more verbose output **-k, --insecure** Explicitly allow muranoclient to perform ""insecure"" SSL (https) requests. The server's certificate willnot be verified against any certificate authorities. This option should be used with caution. **--os-cacert <ca-certificate>** Specify a CA bundle file to use in verifying a TLS (https) server certificate. Defaults to env[OS_CACERT] **--cert-file CERT_FILE** Path of certificate file to use in SSL connection. This file can optionally be prepended with the private key. **--key-file KEY_FILE** Path of client key to use in SSL connection. This option is not necessary if your key is prepended to your cert file. **--ca-file CA_FILE** Path of CA SSL certificate(s) used to verify the remote server certificate. Without this option glance looks for the default system CA certificates. **--api-timeout API_TIMEOUT Number of seconds to wait for an API response, defaults to system socket timeout **--os-username OS_USERNAME** Defaults to env[OS_USERNAME] **--os-password OS_PASSWORD** Defaults to env[OS_PASSWORD] **--os-tenant-id OS_TENANT_ID** Defaults to env[OS_TENANT_ID] **--os-tenant-name OS_TENANT_NAME** Defaults to env[OS_TENANT_NAME] **--os-auth-url OS_AUTH_URL** Defaults to env[OS_AUTH_URL] **--os-region-name OS_REGION_NAME** Defaults to env[OS_REGION_NAME] **--os-auth-token OS_AUTH_TOKEN** Defaults to env[OS_AUTH_TOKEN] **--os-no-client-auth** Do not contact keystone for a token. Defaults to env[OS_NO_CLIENT_AUTH]. **--murano-url MURANO_URL** Defaults to env[MURANO_URL]** **--glance-url GLANCE_URL** Defaults to env[GLANCE_URL] **--murano-api-version MURANO_API_VERSION** Defaults to env[MURANO_API_VERSION] or 1 **--os-service-type OS_SERVICE_TYPE** Defaults to env[OS_SERVICE_TYPE] **--os-endpoint-type OS_ENDPOINT_TYPE** Defaults to env[OS_ENDPOINT_TYPE] **--include-password** Send os-username and os-password to murano. **--murano-repo-url MURANO_REPO_URL** Defaults to env[MURANO_REPO_URL] or `http://storage.apps.openstack.org_ ` Application catalog API v1 commands =================================== murano bundle-import -------------------- .. code-block::console usage: murano bundle-import \[--is-public] \[--exists-action {a,s,u}] <FILE> \[<FILE> ...] Import a bundle. ``FILE`` can be either a path to a zip file, url or name from repo. if ``FILE`` is a local file does not attempt to parse requirements and treat Names of packages in a bundle as file names, relative to location of bundle file. Positional arguments ~~~~~~~~~~~~~~~~~~~~ **<FILE>** Bundle url, bundle name, or path to the bundle file Optional arguments ~~~~~~~~~~~~~~~~~~ **--is-public** Make packages available to users from other tenants **--exists-action {a,s,u}** Default action when package already exists murano category-create ---------------------- .. code-block::console usage: murano category-create <CATEGORY_NAME> Create a category. Positional arguments ~~~~~~~~~~~~~~~~~~~~ **<CATEGORY_NAME>** Category name murano category-delete ---------------------- .. code-block::console usage: murano category-delete <ID> \[<ID> ...] Delete a category. Positional arguments ~~~~~~~~~~~~~~~~~~~~ **<ID>** Id of a category(s) to delete murano category-list -------------------- .. code-block::console usage: murano category-list List all available categories. murano category-show -------------------- .. code-block::console usage: murano category-show <ID> Positional arguments ~~~~~~~~~~~~~~~~~~~~ **<ID>** Id of a category(s) to show murano deployment-list ---------------------- .. code-block::console usage: murano deployment-list <ID> List deployments for an environment. Positional arguments ~~~~~~~~~~~~~~~~~~~~ **<ID>** Environment id for which to list deployments murano env-template-add-app --------------------------- .. code-block::console usage: murano env-template-add-app <ENV_TEMPLATE_NAME> <FILE> Add application to the environment template. Positional arguments ~~~~~~~~~~~~~~~~~~~~ **<ENV_TEMPLATE_NAME>** Environment Template name **<FILE>** Path to the template. murano env-template-create -------------------------- .. code-block::console usage: murano env-template-create <ENV_TEMPLATE_NAME> Create an environment template. Positional arguments ~~~~~~~~~~~~~~~~~~~~ **<ENV_TEMPLATE_NAME>** Environment Template name murano env-template-del-app .. code-block::console usage: murano env-template-del-app <ENV_TEMPLATE_ID> <ENV_TEMPLATE_APP_ID> Delete application to the environment template. Positional arguments ~~~~~~~~~~~~~~~~~~~~ **<ENV_TEMPLATE_ID>** Environment Template ID **<ENV_TEMPLATE_APP_ID>** Application Id murano env-template-delete -------------------------- .. code-block::console usage: murano env-template-delete <ID> \[<ID> ...] Delete an environment template. Positional arguments ~~~~~~~~~~~~~~~~~~~~ **<ID>** Id of environment(s) template to delete murano env-template-list ------------------------ .. code-block::console usage: murano env-template-list List the environments templates. murano env-template-show ------------------------ .. code-block::console usage: murano env-template-show <ID> Display environment template details. Positional arguments ~~~~~~~~~~~~~~~~~~~~ **<ID>** Environment Template id murano env-template-update -------------------------- .. code-block::console usage: murano env-template-update <ID> <ENV_TEMPLATE_NAME> Update an environment template. Positional arguments ~~~~~~~~~~~~~~~~~~~~ **<ID>** Environment Template id **<ENV_TEMPLATE_NAME>** Environment Template name murano environment-create ------------------------- .. code-block::console usage: murano environment-create <ENVIRONMENT_NAME> Create an environment. Positional arguments ~~~~~~~~~~~~~~~~~~~~ **<ENVIRONMENT_NAME>** Environment name murano environment-delete ------------------------- .. code-block::console usage: murano environment-delete <NAME or ID> \[<NAME or ID> ...] Delete an environment. Positional arguments ~~~~~~~~~~~~~~~~~~~~ **<NAME or ID>** Id or name of environment(s) to delete murano environment-list ----------------------- .. code-block::console usage: murano environment-list List the environments. murano environment-rename ------------------------- .. code-block::console usage: murano environment-rename <NAME or ID> <ENVIRONMENT_NAME> Rename an environment. Positional arguments ~~~~~~~~~~~~~~~~~~~~ **<NAME or ID>** Environment id or name **<ENVIRONMENT_NAME>** Name to which the environment will be renamed murano environment-show ----------------------- .. code-block::console usage: murano environment-show <NAME or ID> Display environment details. Positional arguments ~~~~~~~~~~~~~~~~~~~~ **<NAME or ID>** Environment id or name murano package-create --------------------- .. code-block::console usage: murano package-create \[-t <HEAT_TEMPLATE>] \[-c <CLASSES_DIRECTORY>] \[-r <RESOURCES_DIRECTORY>] \[-n <DISPLAY_NAME>] \[-f <full-name>] \[-a <AUTHOR>] \[--tags \[<TAG1 TAG2> \[<TAG1 TAG2> ...]]] \[-d <DESCRIPTION>] \[-o <PACKAGE_NAME>] \[-u <UI_DEFINITION>] \[--type TYPE] \[-l <LOGO>] Create an application package. Optional arguments ~~~~~~~~~~~~~~~~~~ **-t <HEAT_TEMPLATE>, --template <HEAT_TEMPLATE>** Path to the Heat template to import as an Application Definition **-c <CLASSES_DIRECTORY>, --classes-dir <CLASSES_DIRECTORY>** Path to the directory containing application classes **-r <RESOURCES_DIRECTORY>, --resources-dir <RESOURCES_DIRECTORY>** Path to the directory containing application resources **-n <DISPLAY_NAME>, --name <DISPLAY_NAME>** Display name of the Application in Catalog **-f <full-name>, --full-name <full-name>** Fully-qualified name of the Application in Catalog **-a <AUTHOR>, --author <AUTHOR>** Name of the publisher **--tags \[<TAG1 TAG2> \[<TAG1 TAG2> ...]]** List of keywords connected to the application **-d <DESCRIPTION>, --description <DESCRIPTION>** Detailed description for the Application in Catalog **-o <PACKAGE_NAME>, --output <PACKAGE_NAME>** The name of the output file archive to save locally **-u <UI_DEFINITION>, --ui <UI_DEFINITION>** Dynamic UI form definition **--type TYPE** Package type. Possible values: Application or Library **-l <LOGO>, --logo <LOGO>** Path to the package logo murano package-delete =================== .. code-block::console usage: murano package-delete <ID> \[<ID> ...] Delete a package. Positional arguments ~~~~~~~~~~~~~~~~~~~~ **<ID>** Package ID to delete murano package-download ----------------------- .. code-block::console usage: murano package-download <ID> \[file] Download a package to a filename or stdout. Positional arguments ~~~~~~~~~~~~~~~~~~~~ **<ID>** Package ID to download **file** Filename for download (defaults to stdout) murano package-import ===================== .. code-block::console usage: murano package-import \[-c \[<CAT1 CAT2 CAT3> \[<CAT1 CAT2 CAT3> ...]]] \[--is-public] \[--version VERSION] \[--exists-action {a,s,u}] <FILE> \[<FILE> ...] Import a package. ``FILE`` can be either a path to a zip file, url or a FQPN. ``categories`` could be separated by a comma Positional arguments ~~~~~~~~~~~~~~~~~~~~ **<FILE>** Url of the murano zip package, FQPN, or path to zip package Optional arguments ~~~~~~~~~~~~~~~~~~ **-c \[<CAT1 CAT2 CAT3> \[<CAT1 CAT2 CAT3> ...]], --categories \[<CAT1 CAT2 CAT3> \[<CAT1 CAT2 CAT3> ...]]** Category list to attach **--is-public** Make package available for user from other tenants **--version VERSION** Version of the package to use from repository (ignored when importing with multiple packages) **--exists-action {a,s,u}** Default action when package already exists murano package-list ------------------- .. code-block::console usage: murano package-list \[--include-disabled] List available packages. Optional arguments ~~~~~~~~~~~~~~~~~~ **--include-disabled** murano package-show =================== .. code-block::console usage: murano package-show <ID> Display details for a package. Positional arguments ~~~~~~~~~~~~~~~~~~~~ **<ID>** Package ID to show murano service-show ------------------- .. code-block::console usage: murano service-show \[-p <PATH>] <ID> Positional arguments ~~~~~~~~~~~~~~~~~~~~ **<ID>** Environment ID to show applications from Optional arguments ~~~~~~~~~~~~~~~~~~ **-p <PATH>, --path <PATH>** Level of detalization to show. Leave empty to browse all services in the environment",.. _cli-ref: :maxdepth: 2: ============= CLI reference ============= .. TODO this section should be autogenerated,618,6
openstack%2Fneutron-lbaas~master~Iff1bdf572ba6720107ae179d9b22e1bc76d710af,openstack/neutron-lbaas,master,Iff1bdf572ba6720107ae179d9b22e1bc76d710af,Agent code restructuring in neutron tree,MERGED,2015-06-28 16:57:26.000000000,2015-07-01 13:17:07.000000000,2015-06-30 19:11:16.000000000,"[{'_account_id': 3}, {'_account_id': 6854}, {'_account_id': 6951}, {'_account_id': 9008}, {'_account_id': 9828}, {'_account_id': 10850}, {'_account_id': 11302}, {'_account_id': 12040}, {'_account_id': 12403}, {'_account_id': 12417}, {'_account_id': 14556}, {'_account_id': 14605}]","[{'number': 1, 'created': '2015-06-28 16:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/891eb0dfdd761a97d6c151b19a3e80e36fe56b6e', 'message': 'Agent code restructuring in neutron tree\n\nWith reference to https://review.openstack.org/#/c/195277/ changes\nto the unit tests and services have made that fixes gate failures\nfor neutron-lbaas\n\nChange-Id: Iff1bdf572ba6720107ae179d9b22e1bc76d710af\n'}, {'number': 2, 'created': '2015-06-28 20:01:55.000000000', 'files': ['neutron_lbaas/tests/unit/test_agent_scheduler.py', 'neutron_lbaas/tests/unit/services/loadbalancer/test_agent_scheduler.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/6d17564494541c4157c31091e6e1cf407f864f6b', 'message': 'Agent code restructuring in neutron tree\n\nWith reference to https://review.openstack.org/#/c/195277/ changes\nto the unit tests have made that fixes gate failures for neutron-lbaas\n\nChange-Id: Iff1bdf572ba6720107ae179d9b22e1bc76d710af\n'}]",2,196456,6d17564494541c4157c31091e6e1cf407f864f6b,23,12,2,14556,,,0,"Agent code restructuring in neutron tree

With reference to https://review.openstack.org/#/c/195277/ changes
to the unit tests have made that fixes gate failures for neutron-lbaas

Change-Id: Iff1bdf572ba6720107ae179d9b22e1bc76d710af
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/56/196456/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lbaas/tests/unit/test_agent_scheduler.py', 'neutron_lbaas/tests/unit/services/loadbalancer/test_agent_scheduler.py']",2,891eb0dfdd761a97d6c151b19a3e80e36fe56b6e,reorg/fix,from neutron.tests.unit.plugins.ml2.drivers.openvswitch.agent\ import test_agent_scheduler,from neutron.tests.unit.plugins.openvswitch import test_agent_scheduler,4,2
openstack%2Frequirements~master~I8d88c4c4fd9067e772a0971e86f5400f53584313,openstack/requirements,master,I8d88c4c4fd9067e772a0971e86f5400f53584313,Add oslo.cache,ABANDONED,2015-06-27 03:43:53.000000000,2015-07-01 13:15:30.000000000,,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 6482}, {'_account_id': 6593}, {'_account_id': 6786}]","[{'number': 1, 'created': '2015-06-27 03:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/acaded98fa238a39d1f75c15f34bb66c7a00eced', 'message': 'Add oslo.cache\n\noslo.cache is ready for use, the keystone team has agreed to\nuse the library in the Liberty release.\n\nChange-Id: I8d88c4c4fd9067e772a0971e86f5400f53584313\n'}, {'number': 2, 'created': '2015-06-27 14:41:59.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/62afab5841bab0e6497c435f0e45da5ae4222210', 'message': 'Add oslo.cache\n\noslo.cache is ready for use, the keystone team has agreed to\nuse the library in the Liberty release.\n\nChange-Id: I8d88c4c4fd9067e772a0971e86f5400f53584313\n'}]",0,196339,62afab5841bab0e6497c435f0e45da5ae4222210,10,6,2,6482,,,0,"Add oslo.cache

oslo.cache is ready for use, the keystone team has agreed to
use the library in the Liberty release.

Change-Id: I8d88c4c4fd9067e772a0971e86f5400f53584313
",git fetch https://review.opendev.org/openstack/requirements refs/changes/39/196339/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,acaded98fa238a39d1f75c15f34bb66c7a00eced,add_oslo_cache,oslo.cache>=0.1.0 # Apache-2.0,,1,0
openstack%2Fos-brick~master~Ifa681ffebd33f95d8e10dc6aa021e816bfdb1c70,openstack/os-brick,master,Ifa681ffebd33f95d8e10dc6aa021e816bfdb1c70,Updated from global requirements,MERGED,2015-06-22 08:26:43.000000000,2015-07-01 13:14:43.000000000,2015-06-30 23:21:29.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 5997}, {'_account_id': 11811}, {'_account_id': 12369}, {'_account_id': 16272}, {'_account_id': 16595}, {'_account_id': 16897}]","[{'number': 1, 'created': '2015-06-22 08:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/4491973096bec877a442f7b81820f2a846c94704', 'message': 'Updated from global requirements\n\nChange-Id: Ifa681ffebd33f95d8e10dc6aa021e816bfdb1c70\n'}, {'number': 2, 'created': '2015-06-22 19:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/eb377178ce747ad578a3d74a439ee46d444191de', 'message': 'Updated from global requirements\n\nChange-Id: Ifa681ffebd33f95d8e10dc6aa021e816bfdb1c70\n'}, {'number': 3, 'created': '2015-06-24 14:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/1a5aaf36069f0147036d54ebe6e0b7db9e6c78c4', 'message': 'Updated from global requirements\n\nChange-Id: Ifa681ffebd33f95d8e10dc6aa021e816bfdb1c70\n'}, {'number': 4, 'created': '2015-06-26 22:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/da5b92803f7b928b7172eeaf439c66ef8a6dd647', 'message': 'Updated from global requirements\n\nChange-Id: Ifa681ffebd33f95d8e10dc6aa021e816bfdb1c70\n'}, {'number': 5, 'created': '2015-06-30 20:01:52.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'setup.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/76944b9ba0071868e290fcb9df81751c24389b6f', 'message': 'Updated from global requirements\n\nChange-Id: Ifa681ffebd33f95d8e10dc6aa021e816bfdb1c70\n'}]",0,193996,76944b9ba0071868e290fcb9df81751c24389b6f,39,8,5,11131,,,0,"Updated from global requirements

Change-Id: Ifa681ffebd33f95d8e10dc6aa021e816bfdb1c70
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/96/193996/4 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'setup.py']",3,4491973096bec877a442f7b81820f2a846c94704,openstack/requirements,,#!/usr/bin/env python,12,13
openstack%2Fheat~master~I5c753e1c0737803ee3de8d36f25c0e620a65f0cf,openstack/heat,master,I5c753e1c0737803ee3de8d36f25c0e620a65f0cf,Convergence: Fix for finding best existing res,MERGED,2015-06-29 10:34:49.000000000,2015-07-01 13:02:43.000000000,2015-07-01 13:02:41.000000000,"[{'_account_id': 3}, {'_account_id': 4715}, {'_account_id': 6498}, {'_account_id': 6577}, {'_account_id': 6899}, {'_account_id': 11424}]","[{'number': 1, 'created': '2015-06-29 10:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/db254c393152e5eca2002fee0339c8fc881c8a0b', 'message': 'Convergence: Fix for finding best existing res\n\nIf we find a resource with template as current template given for\nupdate, then that is the best resource and we should stop continuing.\nThis happens in case of rollback, when the previous template is used for\nupdating the stack.\n\nIf we encounter a resource with same template as previous template,\nwe still need to continue to find a possible resource with current\ntemplate, to cover the above mentioned case.\n\nRenaming get_existing_db_resource to get_best_existing_db_resource for\nbetter reflection of what it does and moving it out of enclosed method\nso that it can be tested.\n\nChange-Id: I5c753e1c0737803ee3de8d36f25c0e620a65f0cf\n'}, {'number': 2, 'created': '2015-07-01 03:02:06.000000000', 'files': ['heat/tests/test_engine_service.py', 'heat/engine/stack.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/05a40d922541ff8c360cf8f02c6c46f3c155e972', 'message': 'Convergence: Fix for finding best existing res\n\nIf we find a resource with template as current template given for\nupdate, then that is the best resource and we should stop continuing.\nThis happens in case of rollback, when the previous template is used for\nupdating the stack.\n\nIf we encounter a resource with same template as previous template,\nwe still need to continue to find a possible resource with current\ntemplate, to cover the above mentioned case.\n\nRenaming get_existing_db_resource to get_best_existing_db_resource for\nbetter reflection of what it does and moving it out of enclosed method\nso that it can be tested.\n\nChange-Id: I5c753e1c0737803ee3de8d36f25c0e620a65f0cf\n'}]",0,196619,05a40d922541ff8c360cf8f02c6c46f3c155e972,14,6,2,12259,,,0,"Convergence: Fix for finding best existing res

If we find a resource with template as current template given for
update, then that is the best resource and we should stop continuing.
This happens in case of rollback, when the previous template is used for
updating the stack.

If we encounter a resource with same template as previous template,
we still need to continue to find a possible resource with current
template, to cover the above mentioned case.

Renaming get_existing_db_resource to get_best_existing_db_resource for
better reflection of what it does and moving it out of enclosed method
so that it can be tested.

Change-Id: I5c753e1c0737803ee3de8d36f25c0e620a65f0cf
",git fetch https://review.opendev.org/openstack/heat refs/changes/19/196619/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_engine_service.py', 'heat/engine/stack.py']",2,db254c393152e5eca2002fee0339c8fc881c8a0b,convergence-2," def _get_best_existing_rsrc_db(self, rsrc_name): candidate = None if self.ext_rsrcs_db: for id, ext_rsrc in self.ext_rsrcs_db.items(): if ext_rsrc.name != rsrc_name: continue if ext_rsrc.current_template_id == self.t.id: # Rollback where the previous resource still exists candidate = ext_rsrc break elif (ext_rsrc.current_template_id == self.prev_raw_template_id): # Current resource is otherwise a good candidate candidate = ext_rsrc return candidate existing_rsrc_db = self._get_best_existing_rsrc_db(rsrc.name)"," def get_existing_rsrc_db(rsrc_name): candidate = None if self.ext_rsrcs_db: for id, ext_rsrc in self.ext_rsrcs_db.items(): if ext_rsrc.name != rsrc_name: continue if ext_rsrc.current_template_id == self.t.id: # Rollback where the previous resource still exists candidate = ext_rsrc break elif (ext_rsrc.current_template_id == self.prev_raw_template_id): # Current resource is otherwise a good candidate candidate = ext_rsrc break return candidate existing_rsrc_db = get_existing_rsrc_db(rsrc.name)",50,18
openstack%2Ffuel-web~master~I7305d9f413f21e30f4a1544f789dbe1d51a2b830,openstack/fuel-web,master,I7305d9f413f21e30f4a1544f789dbe1d51a2b830,Branch network manager for 7.0,MERGED,2015-06-18 10:54:44.000000000,2015-07-01 13:02:03.000000000,2015-07-01 12:50:08.000000000,"[{'_account_id': 3}, {'_account_id': 8392}, {'_account_id': 8749}, {'_account_id': 8829}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 10959}, {'_account_id': 11577}, {'_account_id': 12200}, {'_account_id': 13445}]","[{'number': 1, 'created': '2015-06-18 10:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/7aaf18e810cf680a6f2bbfa2e10ee54298a732da', 'message': 'Branch network manager for 7.0\n\n  Remove nailgun.objects.Node.get_network_manager() due to duplicated logic in\n  nailgun.objects.Cluster.get_network_manager().\n\nChange-Id: I7305d9f413f21e30f4a1544f789dbe1d51a2b830\nImplements: blueprint granular-network-functions\n'}, {'number': 2, 'created': '2015-06-18 11:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/0bce44ab3a49183d5df56b6a0bf270d4f98fe284', 'message': 'Branch network manager for 7.0\n\n  Remove nailgun.objects.Node.get_network_manager() due to duplicated logic in\n  nailgun.objects.Cluster.get_network_manager().\n\nChange-Id: I7305d9f413f21e30f4a1544f789dbe1d51a2b830\nImplements: blueprint granular-network-functions\n'}, {'number': 3, 'created': '2015-06-18 11:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/e8187d03f16f1fbdc86da16c1eb2bd8116169d5f', 'message': 'Branch network manager for 7.0\n\n  Remove nailgun.objects.Node.get_network_manager() due to duplicated logic in\n  nailgun.objects.Cluster.get_network_manager().\n  Update nailgun.objects.Cluster.get_network_manager() to support 7.0.\n\nChange-Id: I7305d9f413f21e30f4a1544f789dbe1d51a2b830\nImplements: blueprint granular-network-functions\n'}, {'number': 4, 'created': '2015-06-18 12:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/ca1004c9e921b8e74cb741c900b4e98d42f34b44', 'message': 'Branch network manager for 7.0\n\n  Remove nailgun.objects.Node.get_network_manager() due to duplicated logic in\n  nailgun.objects.Cluster.get_network_manager().\n  Update nailgun.objects.Cluster.get_network_manager() to support 7.0.\n  Add corresponding unit test for nailgun.objects.Cluster.get_network_manager()\n\nChange-Id: I7305d9f413f21e30f4a1544f789dbe1d51a2b830\nImplements: blueprint granular-network-functions\n'}, {'number': 5, 'created': '2015-06-18 17:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/7eb02595840f3e4d312d0c2deec4c7d251babd7c', 'message': 'Branch network manager for 7.0\n\n  Remove nailgun.objects.Node.get_network_manager() due to duplicated logic in\n  nailgun.objects.Cluster.get_network_manager().\n  Update nailgun.objects.Cluster.get_network_manager() to support 7.0.\n  Add corresponding unit test for nailgun.objects.Cluster.get_network_manager()\n\nChange-Id: I7305d9f413f21e30f4a1544f789dbe1d51a2b830\nImplements: blueprint granular-network-functions\n'}, {'number': 6, 'created': '2015-06-23 09:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/314a7c08db8525ae0d8954173cb84c08a59fa797', 'message': 'Branch network manager for 7.0\n\n  Remove nailgun.objects.Node.get_network_manager() due to duplicated logic in\n  nailgun.objects.Cluster.get_network_manager().\n  Update nailgun.objects.Cluster.get_network_manager() to support 7.0.\n  Add corresponding unit test for nailgun.objects.Cluster.get_network_manager()\n\nChange-Id: I7305d9f413f21e30f4a1544f789dbe1d51a2b830\nImplements: blueprint granular-network-functions\n'}, {'number': 7, 'created': '2015-06-23 09:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/ae9e6393579ae534feaf312248f871d8bae92ce7', 'message': 'Branch network manager for 7.0\n\n  Remove nailgun.objects.Node.get_network_manager() due to duplicated logic in\n  nailgun.objects.Cluster.get_network_manager().\n  Update nailgun.objects.Cluster.get_network_manager() to support 7.0.\n  Add corresponding unit test for nailgun.objects.Cluster.get_network_manager()\n\nChange-Id: I7305d9f413f21e30f4a1544f789dbe1d51a2b830\nImplements: blueprint granular-network-functions\n'}, {'number': 8, 'created': '2015-06-23 12:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/6b74868a8e8b98944677582364b18a550aeef20a', 'message': 'Branch network manager for 7.0\n\n  Remove nailgun.objects.Node.get_network_manager() due to duplicated logic in\n  nailgun.objects.Cluster.get_network_manager().\n  Update nailgun.objects.Cluster.get_network_manager() to support 7.0.\n  Add corresponding unit test for nailgun.objects.Cluster.get_network_manager()\n\nChange-Id: I7305d9f413f21e30f4a1544f789dbe1d51a2b830\nImplements: blueprint granular-network-functions\n'}, {'number': 9, 'created': '2015-06-23 13:35:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/8a4b471623e5cf14e3a63b7e9812d6e7a6081ba0', 'message': 'Branch network manager for 7.0\n\n  Remove nailgun.objects.Node.get_network_manager() due to duplicated logic in\n  nailgun.objects.Cluster.get_network_manager().\n  Update nailgun.objects.Cluster.get_network_manager() to support 7.0.\n  Add corresponding unit test for nailgun.objects.Cluster.get_network_manager()\n\nChange-Id: I7305d9f413f21e30f4a1544f789dbe1d51a2b830\nImplements: blueprint granular-network-functions\n'}, {'number': 10, 'created': '2015-06-24 07:33:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/2365cc0a1b0c71ec147fe69883c806fcda01d5b1', 'message': 'Branch network manager for 7.0\n\n  Remove nailgun.objects.Node.get_network_manager() due to duplicated logic in\n  nailgun.objects.Cluster.get_network_manager().\n  Update nailgun.objects.Cluster.get_network_manager() to support 7.0.\n  Add corresponding unit test for nailgun.objects.Cluster.get_network_manager()\n\nChange-Id: I7305d9f413f21e30f4a1544f789dbe1d51a2b830\nImplements: blueprint granular-network-functions\n'}, {'number': 11, 'created': '2015-06-25 09:48:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/6b7b15a9a4225d17b9a0582b5741f10116fe32fb', 'message': 'Branch network manager for 7.0\n\n  Remove nailgun.objects.Node.get_network_manager() due to duplicated logic in\n  nailgun.objects.Cluster.get_network_manager().\n  Update nailgun.objects.Cluster.get_network_manager() to support 7.0.\n  Add corresponding unit test for nailgun.objects.Cluster.get_network_manager()\n\nChange-Id: I7305d9f413f21e30f4a1544f789dbe1d51a2b830\nImplements: blueprint granular-network-functions\n'}, {'number': 12, 'created': '2015-06-25 10:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/8d075befca86d16a44839a211356d10f594f1a62', 'message': 'Branch network manager for 7.0\n\n  Remove nailgun.objects.Node.get_network_manager() due to duplicated logic in\n  nailgun.objects.Cluster.get_network_manager().\n  Update nailgun.objects.Cluster.get_network_manager() to support 7.0.\n  Add corresponding unit test for nailgun.objects.Cluster.get_network_manager()\n\nChange-Id: I7305d9f413f21e30f4a1544f789dbe1d51a2b830\nImplements: blueprint granular-network-functions\n'}, {'number': 13, 'created': '2015-06-30 15:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/915b9130fba63c1763ad8670d4ce70387a7928f1', 'message': 'Branch network manager for 7.0\n\n  Remove nailgun.objects.Node.get_network_manager() due to duplicated logic in\n  nailgun.objects.Cluster.get_network_manager().\n  Update nailgun.objects.Cluster.get_network_manager() to support 7.0.\n  Add corresponding unit test for nailgun.objects.Cluster.get_network_manager()\n\nChange-Id: I7305d9f413f21e30f4a1544f789dbe1d51a2b830\nImplements: blueprint granular-network-functions\n'}, {'number': 14, 'created': '2015-07-01 07:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/cc1a1aecb445966de3ada7b4ea1b476edcb3f646', 'message': 'Branch network manager for 7.0\n\n  Remove nailgun.objects.Node.get_network_manager() due to duplicated logic in\n  nailgun.objects.Cluster.get_network_manager().\n  Update nailgun.objects.Cluster.get_network_manager() to support 7.0.\n  Add corresponding unit test for nailgun.objects.Cluster.get_network_manager()\n\nChange-Id: I7305d9f413f21e30f4a1544f789dbe1d51a2b830\nImplements: blueprint granular-network-functions\n'}, {'number': 15, 'created': '2015-07-01 07:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/5823edf81ee69177d3ac4a10b5e1b43eff02991d', 'message': 'Branch network manager for 7.0\n\n  Remove nailgun.objects.Node.get_network_manager() due to duplicated logic in\n  nailgun.objects.Cluster.get_network_manager().\n  Update nailgun.objects.Cluster.get_network_manager() to support 7.0.\n  Add corresponding unit test for nailgun.objects.Cluster.get_network_manager()\n\nChange-Id: I7305d9f413f21e30f4a1544f789dbe1d51a2b830\nImplements: blueprint granular-network-functions\n'}, {'number': 16, 'created': '2015-07-01 07:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/e9031b4dcb45fa7426e4b5352d9783de2cb6daea', 'message': 'Branch network manager for 7.0\n\n  Remove nailgun.objects.Node.get_network_manager() due to duplicated logic in\n  nailgun.objects.Cluster.get_network_manager().\n  Update nailgun.objects.Cluster.get_network_manager() to support 7.0.\n  Add corresponding unit test for nailgun.objects.Cluster.get_network_manager()\n\nChange-Id: I7305d9f413f21e30f4a1544f789dbe1d51a2b830\nImplements: blueprint granular-network-functions\n'}, {'number': 17, 'created': '2015-07-01 11:48:35.000000000', 'files': ['nailgun/nailgun/network/neutron.py', 'nailgun/nailgun/api/v1/handlers/node.py', 'nailgun/nailgun/objects/node.py', 'nailgun/nailgun/test/integration/test_stop_deployment.py', 'nailgun/nailgun/rpc/receiver.py', 'nailgun/nailgun/test/integration/test_cluster_changes_handler.py', 'nailgun/nailgun/orchestrator/nova_serializers.py', 'nailgun/nailgun/consts.py', 'nailgun/nailgun/orchestrator/neutron_serializers.py', 'nailgun/nailgun/api/v1/validators/network.py', 'nailgun/nailgun/orchestrator/base_serializers.py', 'nailgun/nailgun/task/task.py', 'nailgun/nailgun/objects/cluster.py', 'nailgun/nailgun/orchestrator/provisioning_serializers.py', 'nailgun/nailgun/test/unit/test_objects.py', 'nailgun/nailgun/test/integration/test_orchestrator_serializer.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/a6e71a427165a4fe49b6cd89446c057d26995ea7', 'message': 'Branch network manager for 7.0\n\n  Remove nailgun.objects.Node.get_network_manager() due to duplicated logic in\n  nailgun.objects.Cluster.get_network_manager().\n  Update nailgun.objects.Cluster.get_network_manager() to support 7.0.\n  Add corresponding unit test for nailgun.objects.Cluster.get_network_manager()\n\nChange-Id: I7305d9f413f21e30f4a1544f789dbe1d51a2b830\nImplements: blueprint granular-network-functions\n'}]",13,193064,a6e71a427165a4fe49b6cd89446c057d26995ea7,114,10,17,11577,,,0,"Branch network manager for 7.0

  Remove nailgun.objects.Node.get_network_manager() due to duplicated logic in
  nailgun.objects.Cluster.get_network_manager().
  Update nailgun.objects.Cluster.get_network_manager() to support 7.0.
  Add corresponding unit test for nailgun.objects.Cluster.get_network_manager()

Change-Id: I7305d9f413f21e30f4a1544f789dbe1d51a2b830
Implements: blueprint granular-network-functions
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/64/193064/17 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/nailgun/network/neutron.py', 'nailgun/nailgun/api/v1/handlers/node.py', 'nailgun/nailgun/test/unit/test_deployment_serializer.py', 'nailgun/nailgun/orchestrator/deployment_serializers.py', 'nailgun/nailgun/objects/node.py', 'nailgun/nailgun/test/integration/test_stop_deployment.py', 'nailgun/nailgun/rpc/receiver.py', 'nailgun/nailgun/test/integration/test_cluster_changes_handler.py', 'nailgun/nailgun/orchestrator/nova_serializers.py', 'nailgun/nailgun/orchestrator/neutron_serializers.py', 'nailgun/nailgun/api/v1/validators/network.py', 'nailgun/nailgun/orchestrator/base_serializers.py', 'nailgun/nailgun/task/task.py', 'nailgun/nailgun/errors/__init__.py', 'nailgun/nailgun/orchestrator/provisioning_serializers.py', 'nailgun/nailgun/test/integration/test_orchestrator_serializer_70.py', 'nailgun/nailgun/test/integration/test_orchestrator_serializer.py']",17,7aaf18e810cf680a6f2bbfa2e10ee54298a732da,bp/granular-network-functions, nm = objects.Cluster.get_network_manager(node.cluster) net_man = objects.Cluster.get_network_manager(node_db.cluster), nm = objects.Node.get_network_manager(node) net_man = objects.Node.get_network_manager(node_db),326,42
openstack%2Fpython-barbicanclient~master~I342adc043d1f39b102b498ba78f590cafebef090,openstack/python-barbicanclient,master,I342adc043d1f39b102b498ba78f590cafebef090,Updated from global requirements,MERGED,2015-06-30 20:02:43.000000000,2015-07-01 13:01:02.000000000,2015-07-01 13:01:00.000000000,"[{'_account_id': 3}, {'_account_id': 7136}, {'_account_id': 10873}]","[{'number': 1, 'created': '2015-06-30 20:02:43.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/ffde06ed757cf31904df943b592bf37d7e370021', 'message': 'Updated from global requirements\n\nChange-Id: I342adc043d1f39b102b498ba78f590cafebef090\n'}]",0,197271,ffde06ed757cf31904df943b592bf37d7e370021,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: I342adc043d1f39b102b498ba78f590cafebef090
",git fetch https://review.opendev.org/openstack/python-barbicanclient refs/changes/71/197271/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,ffde06ed757cf31904df943b592bf37d7e370021,openstack/requirements,fixtures>=1.3.1,fixtures>=0.3.14,1,1
openstack%2Ffuel-plugins~master~Ica55bdaee45397a07a0fb476f3d6c0b3435e9e19,openstack/fuel-plugins,master,Ica55bdaee45397a07a0fb476f3d6c0b3435e9e19,Add infrastructure for building 3.0.0 packages,MERGED,2015-07-01 09:58:02.000000000,2015-07-01 12:57:46.000000000,2015-07-01 12:56:36.000000000,"[{'_account_id': 3}, {'_account_id': 7195}, {'_account_id': 8749}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 12200}, {'_account_id': 14167}]","[{'number': 1, 'created': '2015-07-01 09:58:02.000000000', 'files': ['fuel_plugin_builder/fuel_plugin_builder/version_mapping.py', 'fuel_plugin_builder/fuel_plugin_builder/actions/build.py', 'fuel_plugin_builder/fuel_plugin_builder/templates/v3/tasks.yaml', 'fuel_plugin_builder/fuel_plugin_builder/validators/schemas/v3.py', 'fuel_plugin_builder/fuel_plugin_builder/templates/v3/metadata.yaml.mako', 'fuel_plugin_builder/fuel_plugin_builder/tests/test_version_mapping.py', 'fuel_plugin_builder/fuel_plugin_builder/validators/schemas/v2.py', 'fuel_plugin_builder/fuel_plugin_builder/validators/__init__.py', 'fuel_plugin_builder/fuel_plugin_builder/validators/validator_v3.py', 'fuel_plugin_builder/fuel_plugin_builder/tests/test_build.py'], 'web_link': 'https://opendev.org/openstack/fuel-plugins/commit/323ffef9ecd60958fdaad60843a21b2cf0b474cc', 'message': 'Add infrastructure for building 3.0.0 packages\n\n* add new builder class. The class is derived directly from\n  BuilderPluginV2 so incorporates all its logic. New logic will be\n  introduced later as feature role-as-a-plugin develops;\n* add templates for new builder;\n* add schema and validator for new builder;\n* add tests for new builder. As far as the logic is the same as in V2,\n  test suite class for V3 is derived from the one for V2\n* update get_mapping func and its tests.\n\nChange-Id: Ica55bdaee45397a07a0fb476f3d6c0b3435e9e19\nImplements: blueprint role-as-a-plugin\n'}]",0,197495,323ffef9ecd60958fdaad60843a21b2cf0b474cc,13,7,1,8931,,,0,"Add infrastructure for building 3.0.0 packages

* add new builder class. The class is derived directly from
  BuilderPluginV2 so incorporates all its logic. New logic will be
  introduced later as feature role-as-a-plugin develops;
* add templates for new builder;
* add schema and validator for new builder;
* add tests for new builder. As far as the logic is the same as in V2,
  test suite class for V3 is derived from the one for V2
* update get_mapping func and its tests.

Change-Id: Ica55bdaee45397a07a0fb476f3d6c0b3435e9e19
Implements: blueprint role-as-a-plugin
",git fetch https://review.opendev.org/openstack/fuel-plugins refs/changes/95/197495/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuel_plugin_builder/fuel_plugin_builder/version_mapping.py', 'fuel_plugin_builder/fuel_plugin_builder/actions/build.py', 'fuel_plugin_builder/fuel_plugin_builder/templates/v3/tasks.yaml', 'fuel_plugin_builder/fuel_plugin_builder/validators/schemas/v3.py', 'fuel_plugin_builder/fuel_plugin_builder/templates/v3/metadata.yaml.mako', 'fuel_plugin_builder/fuel_plugin_builder/tests/test_version_mapping.py', 'fuel_plugin_builder/fuel_plugin_builder/validators/schemas/v2.py', 'fuel_plugin_builder/fuel_plugin_builder/validators/__init__.py', 'fuel_plugin_builder/fuel_plugin_builder/validators/validator_v3.py', 'fuel_plugin_builder/fuel_plugin_builder/tests/test_build.py']",10,323ffef9ecd60958fdaad60843a21b2cf0b474cc,bp/role-as-a-plugin,from fuel_plugin_builder.actions.build import BuildPluginV3 # NOTE(aroma): BuilderPluginV3 incorporates same logic as # V2 so tests' coverage should be also the same class TestBaseBuildV3(TestBaseBuildV2): builder_class = BuildPluginV3,,149,2
openstack%2Fneutron-lbaas~master~I0dadc304bed73d3422c1bd88d41a1d726ef85ed2,openstack/neutron-lbaas,master,I0dadc304bed73d3422c1bd88d41a1d726ef85ed2,Restructure agent code in neutron tree,ABANDONED,2015-06-28 16:55:07.000000000,2015-07-01 12:57:17.000000000,,"[{'_account_id': 9008}, {'_account_id': 9828}]","[{'number': 1, 'created': '2015-06-28 16:55:07.000000000', 'files': ['neutron_lbaas/tests/unit/test_agent_scheduler.py', 'neutron_lbaas/tests/unit/services/loadbalancer/test_agent_scheduler.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/2e23649a24343b80a047deff7271be0036030d8c', 'message': 'Restructure agent code in neutron tree\n\nWith reference to https://review.openstack.org/#/c/195277/ changes\nto the unit tests and services have made that fixes gate failures\nfor neutron-lbaas\n\nChange-Id: I0dadc304bed73d3422c1bd88d41a1d726ef85ed2\nPartially-Implements: blueprint reference-implementation-split\nPartial-Bug: #1468433\nCloses-Bug: #1427317\n'}]",0,196454,2e23649a24343b80a047deff7271be0036030d8c,5,2,1,14556,,,0,"Restructure agent code in neutron tree

With reference to https://review.openstack.org/#/c/195277/ changes
to the unit tests and services have made that fixes gate failures
for neutron-lbaas

Change-Id: I0dadc304bed73d3422c1bd88d41a1d726ef85ed2
Partially-Implements: blueprint reference-implementation-split
Partial-Bug: #1468433
Closes-Bug: #1427317
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/54/196454/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lbaas/tests/unit/test_agent_scheduler.py', 'neutron_lbaas/tests/unit/services/loadbalancer/test_agent_scheduler.py']",2,2e23649a24343b80a047deff7271be0036030d8c,bp/reference-implementation-split,from neutron.tests.unit.plugins.ml2.drivers.openvswitch.agent\ import test_agent_scheduler,from neutron.tests.unit.plugins.openvswitch import test_agent_scheduler,4,2
openstack%2Foslo.cache~master~I3eeaf26be814ce8f27d40f0471f96ab8bf7cbb22,openstack/oslo.cache,master,I3eeaf26be814ce8f27d40f0471f96ab8bf7cbb22,swap the order of conf for a function,MERGED,2015-07-01 03:13:49.000000000,2015-07-01 12:53:22.000000000,2015-07-01 12:53:21.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6486}]","[{'number': 1, 'created': '2015-07-01 03:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/274f28b98fba89bb719f6af9f1e256403c48bda9', 'message': 'swap the order of conf for a function\n\nall the other functions specify conf as the first parameter, we\nshould be consistent.\n\nChange-Id: I3eeaf26be814ce8f27d40f0471f96ab8bf7cbb22\n'}, {'number': 2, 'created': '2015-07-01 03:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/dced5b71fbde4bdccc35014db6ee7d3754a63c17', 'message': 'swap the order of conf for a function\n\nall the other functions specify conf as the first parameter, we\nshould be consistent.\n\nChange-Id: I3eeaf26be814ce8f27d40f0471f96ab8bf7cbb22\n'}, {'number': 3, 'created': '2015-07-01 03:33:53.000000000', 'files': ['oslo_cache/tests/test_cache.py', 'oslo_cache/core.py'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/38a6e14d80f9a2689a67de70febf63ff73c52bae', 'message': 'swap the order of conf for a function\n\nall the other functions specify conf as the first parameter, we\nshould be consistent.\n\nChange-Id: I3eeaf26be814ce8f27d40f0471f96ab8bf7cbb22\n'}]",0,197403,38a6e14d80f9a2689a67de70febf63ff73c52bae,11,3,3,6482,,,0,"swap the order of conf for a function

all the other functions specify conf as the first parameter, we
should be consistent.

Change-Id: I3eeaf26be814ce8f27d40f0471f96ab8bf7cbb22
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/03/197403/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_cache/core.py'],1,274f28b98fba89bb719f6af9f1e256403c48bda9,fix_conf_order,"def configure_cache_region(conf, region): :param region: Cache region to configure :type region: dogpile.cache.CacheRegion","def configure_cache_region(region, conf): :param region: Cache region to configure :type region: dogpile.cache.CacheRegion",3,3
openstack%2Frequirements~master~I8184ade8989349ffca9a71c4ae1b56ca12fecbec,openstack/requirements,master,I8184ade8989349ffca9a71c4ae1b56ca12fecbec,Add oslo.cache and oslo.reports to global requirements,MERGED,2015-06-24 12:37:00.000000000,2015-07-01 12:51:27.000000000,2015-07-01 12:51:25.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 6577}, {'_account_id': 6786}, {'_account_id': 8290}, {'_account_id': 8871}, {'_account_id': 9542}, {'_account_id': 12363}, {'_account_id': 14676}, {'_account_id': 15054}]","[{'number': 1, 'created': '2015-06-24 12:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/abf1c79e5354e3e3209e2696cc8629484e4463c5', 'message': '[WIP] Test versions of oslo.cache and oslo.reports\n\nAllow projects to kick the tires of oslo.cache and oslo.reports\n\nChange-Id: I8184ade8989349ffca9a71c4ae1b56ca12fecbec\n'}, {'number': 2, 'created': '2015-06-26 11:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ab58fa80f52e5389872e7c8ba5e3ed211a2d4606', 'message': 'Add oslo.cache and oslo.reports to global requirements\n\nAllow projects to kick the tires of oslo.cache and oslo.reports.\noslo.cache was extracted from keystone and is based on dogpile\ninterfaces. oslo.reports was extractred from oslo-incubator and\nis widely used (copied). We would like projects to try to adopt\nthese libraries and provide valuable feedback on the API.\n\nChange-Id: I8184ade8989349ffca9a71c4ae1b56ca12fecbec\n'}, {'number': 3, 'created': '2015-06-27 20:26:15.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d5b48a7f90f0944a61df0d64ff45a7bac0aff9db', 'message': 'Add oslo.cache and oslo.reports to global requirements\n\nAllow projects to kick the tires of oslo.cache and oslo.reports.\noslo.cache was extracted from keystone and is based on dogpile\ninterfaces. oslo.reports was extractred from oslo-incubator and\nis widely used (copied). We would like projects to try to adopt\nthese libraries and provide valuable feedback on the API.\n\nChange-Id: I8184ade8989349ffca9a71c4ae1b56ca12fecbec\n'}]",0,195058,d5b48a7f90f0944a61df0d64ff45a7bac0aff9db,22,11,3,5638,,,0,"Add oslo.cache and oslo.reports to global requirements

Allow projects to kick the tires of oslo.cache and oslo.reports.
oslo.cache was extracted from keystone and is based on dogpile
interfaces. oslo.reports was extractred from oslo-incubator and
is widely used (copied). We would like projects to try to adopt
these libraries and provide valuable feedback on the API.

Change-Id: I8184ade8989349ffca9a71c4ae1b56ca12fecbec
",git fetch https://review.opendev.org/openstack/requirements refs/changes/58/195058/3 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,abf1c79e5354e3e3209e2696cc8629484e4463c5,,oslo.cache>=0.1.0 # Apache-2.0oslo.reports>=0.1.0 # Apache-2.0,,2,0
openstack%2Frequirements~master~I4b37271b23f63ea4380fcc9e229763e1935b8a06,openstack/requirements,master,I4b37271b23f63ea4380fcc9e229763e1935b8a06,Bump python-ironicclient minimal version to 0.6.0,MERGED,2015-06-29 10:33:35.000000000,2015-07-01 12:48:03.000000000,2015-07-01 12:48:02.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 6786}, {'_account_id': 9453}]","[{'number': 1, 'created': '2015-06-29 10:33:35.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5f0c7a49126ca4498bb2587174955b58258ef3a9', 'message': 'Bump python-ironicclient minimal version to 0.6.0\n\nThis version introduced an important retry-on-conflict feature,\nwhich can be used instead of ad-hoc implementations e.g. in Nova\nand ironic-inspector.\n\nChange-Id: I4b37271b23f63ea4380fcc9e229763e1935b8a06\n'}]",0,196618,5f0c7a49126ca4498bb2587174955b58258ef3a9,9,4,1,10239,,,0,"Bump python-ironicclient minimal version to 0.6.0

This version introduced an important retry-on-conflict feature,
which can be used instead of ad-hoc implementations e.g. in Nova
and ironic-inspector.

Change-Id: I4b37271b23f63ea4380fcc9e229763e1935b8a06
",git fetch https://review.opendev.org/openstack/requirements refs/changes/18/196618/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,5f0c7a49126ca4498bb2587174955b58258ef3a9,bump-ironicclient,python-ironicclient>=0.6.0,python-ironicclient>=0.2.1,1,1
openstack%2Fnova~master~Ifa4aca2daf609201fa7445d7a6b95f165849c62f,openstack/nova,master,Ifa4aca2daf609201fa7445d7a6b95f165849c62f,Fix bdm image_meta when boot from volume,ABANDONED,2015-05-28 03:37:47.000000000,2015-07-01 12:43:16.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 8276}, {'_account_id': 8846}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10224}, {'_account_id': 10385}, {'_account_id': 15054}, {'_account_id': 15286}, {'_account_id': 15309}, {'_account_id': 15751}, {'_account_id': 15888}]","[{'number': 1, 'created': '2015-05-28 03:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3be71093d3a8235aefeec720d945542ffc5a61f0', 'message': ""Fix bdm image data when boot from volume\n\nWhen create a server booted from volume with image,we should\nget and check the volume's size,not the image's size.\n\nChange-Id: Ifa4aca2daf609201fa7445d7a6b95f165849c62f\nCloses-bug:#1459491\n""}, {'number': 2, 'created': '2015-05-28 07:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d9f0e9bec0a91eb3899b52ecf055493b8f2281b4', 'message': ""Fix bdm image_meta when boot from volume\n\nWhen create a server booted from volume with image,we should\nget and check the volume's size,not the image's size.\n\nChange-Id: Ifa4aca2daf609201fa7445d7a6b95f165849c62f\nCloses-bug:#1459491\n""}, {'number': 3, 'created': '2015-06-02 11:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d1f7c591aa7695ee43993cfafba2a0239da5cba9', 'message': ""Fix bdm image_meta when boot from volume\n\nWhen create a server booted from volume with image,we should\nget and check the volume's size,not the image's size.\n\nChange-Id: Ifa4aca2daf609201fa7445d7a6b95f165849c62f\nCloses-bug:#1459491\n""}, {'number': 4, 'created': '2015-06-17 01:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/49caf65fad657874b75a5ea8e55e0741d59512a3', 'message': ""Fix bdm image_meta when boot from volume\n\nWhen create a server booted from volume with image,we should\nget and check the volume's size,not the image's size.\n\nChange-Id: Ifa4aca2daf609201fa7445d7a6b95f165849c62f\nCloses-bug:#1459491\n""}, {'number': 5, 'created': '2015-06-17 02:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0dcd5ae674c073f15731f79480919d570447ad81', 'message': ""Fix bdm image_meta when boot from volume\n\nWhen create a server booted from volume with image,we should\nget and check the volume's size,not the image's size.\n\nChange-Id: Ifa4aca2daf609201fa7445d7a6b95f165849c62f\nCloses-bug:#1459491\n""}, {'number': 6, 'created': '2015-06-18 07:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b86ce3c5ebc3faeff706ea8496228714a7f655e1', 'message': ""Fix bdm image_meta when boot from volume\n\nWhen create a server booted from volume with image,we should\nget and check the volume's size,not the image's size.\n\nChange-Id: Ifa4aca2daf609201fa7445d7a6b95f165849c62f\nCloses-bug:#1459491\n""}, {'number': 7, 'created': '2015-06-18 09:23:50.000000000', 'files': ['nova/tests/unit/compute/test_compute.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d803c5a5e47db8c4f03349935728130b5335d81c', 'message': ""Fix bdm image_meta when boot from volume\n\nWhen create a server booted from volume with image,we should\nget and check the volume's size,not the image's size.\n\nChange-Id: Ifa4aca2daf609201fa7445d7a6b95f165849c62f\nCloses-bug:#1459491\n""}]",11,186247,d803c5a5e47db8c4f03349935728130b5335d81c,81,16,7,15054,,,0,"Fix bdm image_meta when boot from volume

When create a server booted from volume with image,we should
get and check the volume's size,not the image's size.

Change-Id: Ifa4aca2daf609201fa7445d7a6b95f165849c62f
Closes-bug:#1459491
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/186247/5 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/api.py'],1,3be71093d3a8235aefeec720d945542ffc5a61f0,bug/1459491," # NOTE(wangxiyuan):When booted from volume with image,we # should get and check volume's size,not the image's size. image_meta['size'] = bdm.get('volume_size') * units.Gi",,3,0
openstack%2Fproject-config~master~I3ca3cbb0c21efde28a43164c518405c0dea87a86,openstack/project-config,master,I3ca3cbb0c21efde28a43164c518405c0dea87a86,Fix Normalize projects.yaml proposal,MERGED,2015-07-01 06:40:12.000000000,2015-07-01 12:26:35.000000000,2015-07-01 12:26:33.000000000,"[{'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 5263}]","[{'number': 1, 'created': '2015-07-01 06:40:12.000000000', 'files': ['tools/propose_projects_yaml_update.sh'], 'web_link': 'https://opendev.org/openstack/project-config/commit/cb89bb5354a597ae8a54cf5147495d9016775f47', 'message': 'Fix Normalize projects.yaml proposal\n\nThe proposals bot run on a tree that is in detached state. Current\ngit review fails to push from this any changes.\n\nCreate instead directly a branch and work on that.\n\nThis is the same change as done for other proposal jobs in\nI487337cb1def5f5995d776c831ea61b658652677.\n\nChange-Id: I3ca3cbb0c21efde28a43164c518405c0dea87a86\n'}]",0,197443,cb89bb5354a597ae8a54cf5147495d9016775f47,7,3,1,6547,,,0,"Fix Normalize projects.yaml proposal

The proposals bot run on a tree that is in detached state. Current
git review fails to push from this any changes.

Create instead directly a branch and work on that.

This is the same change as done for other proposal jobs in
I487337cb1def5f5995d776c831ea61b658652677.

Change-Id: I3ca3cbb0c21efde28a43164c518405c0dea87a86
",git fetch https://review.opendev.org/openstack/project-config refs/changes/43/197443/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/propose_projects_yaml_update.sh'],1,cb89bb5354a597ae8a54cf5147495d9016775f47,fix-project-config-proposal,"# Initial state of repository is detached, create a branch to work # from. Otherwise git review will complain. git checkout -B proposals ",,4,0
openstack%2Frequirements~master~I94151624dad266532b3db7d29da1be21f46a6190,openstack/requirements,master,I94151624dad266532b3db7d29da1be21f46a6190,Cap Routes at below 2.0 as 2.1 breaks Nova,MERGED,2015-06-29 21:10:46.000000000,2015-07-01 12:21:33.000000000,2015-07-01 12:21:31.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 2592}, {'_account_id': 5638}, {'_account_id': 6786}]","[{'number': 1, 'created': '2015-06-29 21:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/190e6cc48ece8c0764eef0d13c2cfc594d5ae09f', 'message': ""Cap Routes at below 2.0 as 2.1 breaks Nova\n\n2.1 breaks Nova as well, earlier we excludeded just 2.0, let's\njust add an upper limit instead.\n\nCloses-Bug: #1469883\n\nChange-Id: I94151624dad266532b3db7d29da1be21f46a6190\n""}, {'number': 2, 'created': '2015-06-29 23:46:42.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/19b6a41051cdb69a2ed72782b77dfa59eb464066', 'message': 'Cap Routes at below 2.0 as 2.1 breaks Nova\n\n2.1 breaks Nova as well, earlier we excludeded just 2.0, we\nshould exclude 2.1 as well\n\nCloses-Bug: #1469883\n\nChange-Id: I94151624dad266532b3db7d29da1be21f46a6190\n'}]",0,196867,19b6a41051cdb69a2ed72782b77dfa59eb464066,16,5,2,5638,,,0,"Cap Routes at below 2.0 as 2.1 breaks Nova

2.1 breaks Nova as well, earlier we excludeded just 2.0, we
should exclude 2.1 as well

Closes-Bug: #1469883

Change-Id: I94151624dad266532b3db7d29da1be21f46a6190
",git fetch https://review.opendev.org/openstack/requirements refs/changes/67/196867/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,190e6cc48ece8c0764eef0d13c2cfc594d5ae09f,bug/1469883,"Routes>=1.12.3,<2.0","Routes>=1.12.3,!=2.0",1,1
openstack%2Ftripleo-image-elements~master~I7d75534184aa025cf20a4fb1580688a1e5e42fee,openstack/tripleo-image-elements,master,I7d75534184aa025cf20a4fb1580688a1e5e42fee,Properly set NeutronControlPlaneID,ABANDONED,2015-06-25 13:46:13.000000000,2015-07-01 12:18:16.000000000,,"[{'_account_id': 3}, {'_account_id': 8399}, {'_account_id': 9712}]","[{'number': 1, 'created': '2015-06-25 13:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/4275321a4b3b27df7924c4b5250b094ec3132a20', 'message': 'Properly set NeutronControlPlaneID\n\nTo deploy or update a stack, or delete a node, we need a\nNeutronControlPlaneID. This is currently only set when\ndeploying, so the other commands fail. This patch attempts\nto set it when creating the plan instead.\n\nChange-Id: I7d75534184aa025cf20a4fb1580688a1e5e42fee\nCloses-bug: https://bugzilla.redhat.com/show_bug.cgi?id=1232837\n'}, {'number': 2, 'created': '2015-06-25 14:46:00.000000000', 'files': ['elements/tuskar/os-refresh-config/post-configure.d/101-plan-add-roles'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/fe2041a160bd0df0eb6f9785ddacda448e904f43', 'message': 'Properly set NeutronControlPlaneID\n\nTo deploy or update a stack, or delete a node, we need a\nNeutronControlPlaneID. This is currently only set when\ndeploying, so the other commands fail. This patch attempts\nto set it when creating the plan instead.\n\nChange-Id: I7d75534184aa025cf20a4fb1580688a1e5e42fee\nCloses-bug: https://bugzilla.redhat.com/show_bug.cgi?id=1235334\n'}]",0,195592,fe2041a160bd0df0eb6f9785ddacda448e904f43,10,3,2,11997,,,0,"Properly set NeutronControlPlaneID

To deploy or update a stack, or delete a node, we need a
NeutronControlPlaneID. This is currently only set when
deploying, so the other commands fail. This patch attempts
to set it when creating the plan instead.

Change-Id: I7d75534184aa025cf20a4fb1580688a1e5e42fee
Closes-bug: https://bugzilla.redhat.com/show_bug.cgi?id=1235334
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/92/195592/2 && git format-patch -1 --stdout FETCH_HEAD,['elements/tuskar/os-refresh-config/post-configure.d/101-plan-add-roles'],1,4275321a4b3b27df7924c4b5250b094ec3132a20,regebro/rhbz-1235334, CONTROLPLANEID=$(neutron net-show ctlplane | grep ' id ' | awk '{print $4}') -P NeutronControlPlaneID=$CONTROLPLANEID \,,3,0
openstack%2Frequirements~master~I185d2ec889b6f715edc6a9876b5c3c0c0440fdd8,openstack/requirements,master,I185d2ec889b6f715edc6a9876b5c3c0c0440fdd8,Updated oslo.config to 1.11.0,MERGED,2015-04-14 18:25:44.000000000,2015-07-01 12:17:00.000000000,2015-04-28 21:32:08.000000000,"[{'_account_id': 3}, {'_account_id': 1726}, {'_account_id': 2472}, {'_account_id': 2750}, {'_account_id': 8871}, {'_account_id': 9369}, {'_account_id': 9453}, {'_account_id': 9717}]","[{'number': 1, 'created': '2015-04-14 18:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/d453c6271fa4a76f5455a57975c2c28aa45d3c0a', 'message': 'Updated oslo.config to 1.10.0\n\nUpdated the oslo.config library to the first liberty release.\n\nChange-Id: I185d2ec889b6f715edc6a9876b5c3c0c0440fdd8\n'}, {'number': 2, 'created': '2015-04-16 18:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/222af5884d3cbb2c9c020dead3de86c18e954d3c', 'message': 'Updated oslo.config to 1.10.0\n\nUpdated the oslo.config library to the first liberty release.\n\nChange-Id: I185d2ec889b6f715edc6a9876b5c3c0c0440fdd8\n'}, {'number': 3, 'created': '2015-04-21 19:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/38a2def44d10dc80702c829063ecb7797944fa6c', 'message': 'Updated oslo.config to 1.11.0\n\nUpdated the oslo.config library to the most recent liberty release.\n\nChange-Id: I185d2ec889b6f715edc6a9876b5c3c0c0440fdd8\n'}, {'number': 4, 'created': '2015-04-22 20:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/fd3bf192b5667ae43e85a62a92031d0c4eeb1e6b', 'message': 'Updated oslo.config to 1.11.0\n\nUpdated the oslo.config library to the most recent liberty release.\n\nChange-Id: I185d2ec889b6f715edc6a9876b5c3c0c0440fdd8\n'}, {'number': 5, 'created': '2015-04-27 19:48:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/2231f443f464f7edeea75908fd6fe1ed3afa9603', 'message': 'Updated oslo.config to 1.11.0\n\nThis version of oslo.config permits loading raw values into the config\ntest fixture.\n\nChange-Id: I185d2ec889b6f715edc6a9876b5c3c0c0440fdd8\n'}, {'number': 6, 'created': '2015-04-27 19:58:32.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6c7f929f5a48b86b042d983292dc340c76ded0d8', 'message': ""Updated oslo.config to 1.11.0\n\nThis version of oslo.config permits loading raw values into the config\ntest fixture. It is necessary to properly test the CORS middleware in\noslo.middleware's multiple dynamic configuration feature.\n\nChange-Id: I185d2ec889b6f715edc6a9876b5c3c0c0440fdd8\n""}]",0,173449,6c7f929f5a48b86b042d983292dc340c76ded0d8,34,8,6,9717,,,0,"Updated oslo.config to 1.11.0

This version of oslo.config permits loading raw values into the config
test fixture. It is necessary to properly test the CORS middleware in
oslo.middleware's multiple dynamic configuration feature.

Change-Id: I185d2ec889b6f715edc6a9876b5c3c0c0440fdd8
",git fetch https://review.opendev.org/openstack/requirements refs/changes/49/173449/6 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,d453c6271fa4a76f5455a57975c2c28aa45d3c0a,config,"oslo.config>=1.10.0,<1.11.0 # Apache-2.0","oslo.config>=1.9.3,<1.10.0 # Apache-2.0",1,1
openstack%2Ffuel-web~master~I6b433d69dc9f6f7e690e66751d06f052d17db2b6,openstack/fuel-web,master,I6b433d69dc9f6f7e690e66751d06f052d17db2b6,Implements basic migration mechanism for extensions,MERGED,2015-06-26 14:06:08.000000000,2015-07-01 12:08:21.000000000,2015-07-01 11:55:20.000000000,"[{'_account_id': 3}, {'_account_id': 3009}, {'_account_id': 8749}, {'_account_id': 8907}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 12200}]","[{'number': 1, 'created': '2015-06-26 14:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/1fe92e23c72bf2370d065963c5dfd44484846556', 'message': 'Implements basic migration mechanism for extensions\n\nEach extension specific table in the database\nshould have extension specific prefix.\nFor each extension configure different version_table,\nwhich is used by alembic to store information about\ncurrent state of the database.\n\n* extended manage.py in order to work with extensions\n  migrations\n* added basic migration structure for volume_manager\n  extension\n\nTo be done in separate patches:\n\n* fix syncdb to run migrations for core and for\n  all extensions\n* move the data about volumes from node attributes\n  into extension models\n\nImplements blueprint: volume-manager-refactoring\n\nChange-Id: I6b433d69dc9f6f7e690e66751d06f052d17db2b6\n'}, {'number': 2, 'created': '2015-06-26 14:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/dcba4cb03d1f476e9bbb47517ed152dab172ddbf', 'message': 'Implements basic migration mechanism for extensions\n\nEach extension specific table in the database\nshould have extension specific prefix.\nFor each extension configure different version_table,\nwhich is used by alembic to store information about\ncurrent state of the database.\n\n* extended manage.py in order to work with extensions\n  migrations\n* added basic migration structure for volume_manager\n  extension\n\nTo be done in separate patches:\n\n* fix syncdb to run migrations for core and for\n  all extensions\n* move the data about volumes from node attributes\n  into extension models\n\nImplements blueprint: volume-manager-refactoring\n\nChange-Id: I6b433d69dc9f6f7e690e66751d06f052d17db2b6\n'}, {'number': 3, 'created': '2015-06-26 14:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/613a43625d1f385ac6ea038450fbd25e3d1d330f', 'message': 'Implements basic migration mechanism for extensions\n\nEach extension specific table in the database\nshould have extension specific prefix.\nFor each extension configure different version_table,\nwhich is used by alembic to store information about\ncurrent state of the database.\n\n* extended manage.py in order to work with extensions\n  migrations\n* added basic migration structure for volume_manager\n  extension\n\nTo be done in separate patches:\n* fix syncdb to run migrations for core and for\n  all extensions\n* move the data about volumes from node attributes\n  into extension models\n\nImplements blueprint: volume-manager-refactoring\n\nChange-Id: I6b433d69dc9f6f7e690e66751d06f052d17db2b6\n'}, {'number': 4, 'created': '2015-06-29 12:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/cd1596149921ce0addaeb4a4c6873a0fc6b6faa3', 'message': 'Implements basic migration mechanism for extensions\n\nEach extension specific table in the database\nshould have extension specific prefix.\nFor each extension configure different version_table,\nwhich is used by alembic to store information about\ncurrent state of the database.\n\n* extended manage.py in order to work with extensions\n  migrations\n* added basic migration structure for volume_manager\n  extension\n\nTo be done in separate patches:\n* fix syncdb to run migrations for core and for\n  all extensions\n* move the data about volumes from node attributes\n  into extension models\n\nImplements blueprint: volume-manager-refactoring\n\nChange-Id: I6b433d69dc9f6f7e690e66751d06f052d17db2b6\n'}, {'number': 5, 'created': '2015-06-29 15:58:48.000000000', 'files': ['nailgun/manage.py', 'nailgun/nailgun/extensions/volume_manager/alembic_migrations/__init__.py', 'nailgun/nailgun/extensions/volume_manager/extension.py', 'nailgun/nailgun/extensions/base.py', 'nailgun/nailgun/extensions/volume_manager/alembic_migrations/migrations/env.py', 'nailgun/nailgun/extensions/volume_manager/alembic_migrations/migrations/script.py.mako', 'nailgun/nailgun/test/unit/test_extensions.py', 'nailgun/nailgun/extensions/volume_manager/alembic_migrations/migrations/__init__.py', 'nailgun/nailgun/db/migration/__init__.py', 'nailgun/nailgun/extensions/volume_manager/alembic_migrations/migrations/versions/.gitkeep'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/49d77738cd62eb1bff1d44d17879d5d3208cd118', 'message': 'Implements basic migration mechanism for extensions\n\nEach extension specific table in the database\nshould have extension specific prefix.\nFor each extension configure different version_table,\nwhich is used by alembic to store information about\ncurrent state of the database.\n\n* extended manage.py in order to work with extensions\n  migrations\n* added basic migration structure for volume_manager\n  extension\n\nTo be done in separate patches:\n* fix syncdb to run migrations for core and for\n  all extensions\n* move the data about volumes from node attributes\n  into extension models\n\nImplements blueprint: volume-manager-refactoring\n\nChange-Id: I6b433d69dc9f6f7e690e66751d06f052d17db2b6\n'}]",15,196066,49d77738cd62eb1bff1d44d17879d5d3208cd118,40,7,5,8749,,,0,"Implements basic migration mechanism for extensions

Each extension specific table in the database
should have extension specific prefix.
For each extension configure different version_table,
which is used by alembic to store information about
current state of the database.

* extended manage.py in order to work with extensions
  migrations
* added basic migration structure for volume_manager
  extension

To be done in separate patches:
* fix syncdb to run migrations for core and for
  all extensions
* move the data about volumes from node attributes
  into extension models

Implements blueprint: volume-manager-refactoring

Change-Id: I6b433d69dc9f6f7e690e66751d06f052d17db2b6
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/66/196066/4 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/manage.py', 'nailgun/nailgun/extensions/volume_manager/alembic_migrations/__init__.py', 'nailgun/nailgun/extensions/volume_manager/extension.py', 'nailgun/nailgun/extensions/base.py', 'nailgun/nailgun/extensions/volume_manager/alembic_migrations/migrations/env.py', 'nailgun/nailgun/extensions/volume_manager/alembic_migrations/migrations/script.py.mako', 'nailgun/nailgun/test/unit/test_extensions.py', 'nailgun/nailgun/extensions/volume_manager/alembic_migrations/migrations/__init__.py', 'nailgun/nailgun/db/migration/__init__.py', 'nailgun/nailgun/extensions/volume_manager/alembic_migrations/migrations/versions/.gitkeep']",10,1fe92e23c72bf2370d065963c5dfd44484846556,bp/volume-manager-refactoring,,,258,32
openstack%2Fnova-specs~master~I08ab6852de49a8f718186465f2ed0d79879ae98b,openstack/nova-specs,master,I08ab6852de49a8f718186465f2ed0d79879ae98b,Nova API Microversions support in NovaClient,MERGED,2015-06-04 14:10:57.000000000,2015-07-01 12:05:45.000000000,2015-07-01 12:05:43.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 679}, {'_account_id': 782}, {'_account_id': 1063}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5754}, {'_account_id': 6167}, {'_account_id': 6681}, {'_account_id': 7166}, {'_account_id': 9420}, {'_account_id': 9545}, {'_account_id': 10234}, {'_account_id': 12898}, {'_account_id': 13252}, {'_account_id': 13663}]","[{'number': 1, 'created': '2015-06-04 14:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/3cc011c0fd8a2340f3b760216c6e082039c0afb3', 'message': 'Nova API Microversions support in NovaClient\n\nChange-Id: I08ab6852de49a8f718186465f2ed0d79879ae98b\n'}, {'number': 2, 'created': '2015-06-04 15:30:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/20bb803ee5c5132a3262b09b4dc6af1bbda27bc5', 'message': 'Nova API Microversions support in NovaClient\n\nChange-Id: I08ab6852de49a8f718186465f2ed0d79879ae98b\n'}, {'number': 3, 'created': '2015-06-08 11:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e9b06cad969e1838e859cbd8c05d9dace39590b7', 'message': 'Nova API Microversions support in NovaClient\n\nChange-Id: I08ab6852de49a8f718186465f2ed0d79879ae98b\n'}, {'number': 4, 'created': '2015-06-08 13:21:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/0bfe72901fc1f26bfdf568874b6602893990c39f', 'message': 'Nova API Microversions support in NovaClient\n\nChange-Id: I08ab6852de49a8f718186465f2ed0d79879ae98b\n'}, {'number': 5, 'created': '2015-06-11 14:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/429ecce8cc8e6e3e636048c143f6b9388f88a4fd', 'message': 'Nova API Microversions support in NovaClient\n\nChange-Id: I08ab6852de49a8f718186465f2ed0d79879ae98b\n'}, {'number': 6, 'created': '2015-06-12 16:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/3d1290fc3a3e5941bca5a918a4493b385ad82263', 'message': 'Nova API Microversions support in NovaClient\n\nChange-Id: I08ab6852de49a8f718186465f2ed0d79879ae98b\n'}, {'number': 7, 'created': '2015-06-15 12:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/2532df41fff3a41061cf3637fbd870f70ef0f626', 'message': 'Nova API Microversions support in NovaClient\n\nChange-Id: I08ab6852de49a8f718186465f2ed0d79879ae98b\n'}, {'number': 8, 'created': '2015-06-16 15:54:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/83d881b65d10bf7e8c8a178ebb4725e2d9ffe664', 'message': 'Nova API Microversions support in NovaClient\n\nChange-Id: I08ab6852de49a8f718186465f2ed0d79879ae98b\n'}, {'number': 9, 'created': '2015-06-16 16:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e40746c0a5348d0533c0322fc6a70be796c567da', 'message': 'Nova API Microversions support in NovaClient\n\nChange-Id: I08ab6852de49a8f718186465f2ed0d79879ae98b\n'}, {'number': 10, 'created': '2015-06-22 15:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/5fc25861dd89bcae58eb4f4518e76ec321585342', 'message': 'Nova API Microversions support in NovaClient\n\nChange-Id: I08ab6852de49a8f718186465f2ed0d79879ae98b\n'}, {'number': 11, 'created': '2015-06-27 09:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/9ab08f14a62b493a3356b6ed48d524ac5f70c048', 'message': 'Nova API Microversions support in NovaClient\n\nChange-Id: I08ab6852de49a8f718186465f2ed0d79879ae98b\n'}, {'number': 12, 'created': '2015-06-30 15:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e9d30cc291019168d522892b03acf26a53c5b4f7', 'message': 'Nova API Microversions support in NovaClient\n\nChange-Id: I08ab6852de49a8f718186465f2ed0d79879ae98b\n'}, {'number': 13, 'created': '2015-06-30 15:29:49.000000000', 'files': ['specs/liberty/approved/novaclient-api-microversions.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/3b7330d6ca26a4bba5b7acbdf68c8a64511e913f', 'message': 'Nova API Microversions support in NovaClient\n\nChange-Id: I08ab6852de49a8f718186465f2ed0d79879ae98b\n'}]",86,188410,3b7330d6ca26a4bba5b7acbdf68c8a64511e913f,85,18,13,9545,,,0,"Nova API Microversions support in NovaClient

Change-Id: I08ab6852de49a8f718186465f2ed0d79879ae98b
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/10/188410/11 && git format-patch -1 --stdout FETCH_HEAD,['specs/liberty/approved/novaclient-api-microversions.rst'],1,3cc011c0fd8a2340f3b760216c6e082039c0afb3,microversions,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================ Nova API Microversions support in NovaClient ============================================ https://blueprints.launchpad.net/python-novaclient/+spec/api-microversion-support The purpose of this spec is to call out the specific behaviour between Nova and python-novaclient that is required now that we are using microversions, and to provide guidance how other clients may wish to interact with Nova. Problem description =================== As a community we are really good at evolving interfaces and code over time via incremental development. We've been less good at giant big bang drops of code. The Nova API is under heavy development, and we want to ensure that consumers of Nova's API are able to make use of new features as they become available, while also ensuring they don't break due to incompatibilities. Microversions are implemented in the API through the addition of a new HTTP header - specifically 'X-OpenStack-Compute-API-Version'. This header is accepted by Nova so a client can indicate which version of the API it wants to use for communication, and likewise for Nova to indicate which version it is using for communication. For Nova API, if no HTTP header is supplied, v2.1 (stable/kilo) of the API is used. If an invalid version is specified in the HTTP header, an HTTP 406 Not Acceptable is returned with an indication of the supported range of versions. If the special 'latest' version is specified, Nova will use its most recent version. During changes being made to python-novaclient[1] to support Nova's microversions it was discovered that there isn't a formal specification of how Nova and a client should interact for varying cases of microversion mismatch or for an unknown/unspecified microversion. The need for this spec was discussed in liberty design session ""Nova: Nova API v2.1 in Liberty""[2]. Use Cases --------- Use Case 1: Old Client communicating with Nova V2.0 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ This is exactly the same behaviour that was seen prior to the introduction of microversions - no change to either the client or server is required for this case. * The client makes a connection to Nova, not specifying the HTTP header X-OpenStack-Compute-API-Version * Nova does not check for an X-OpenStack-Compute-API-Version header, and processes all communication simply as v2.0 (stable/kilo) Use Case 2: Old Client communicating with Nova V2.1 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ This is where Nova is updated to a new version that support microversions, but an old client is used to communicate to it. * The client makes a connection to Nova, not specifying the HTTP header X-OpenStack-Compute-API-Version * Nova does not see the X-OpenStack-Compute-API-Version HTTP header * Ironic communicates using 2.1 microversion, which is equal to v2.0 (stable/kilo) of the REST API, and all communication with the client uses that version of the interface. Use Case 3A: New Client communicating with Nova V2.0 (not user-specified) ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ This is the where the user does not request a particular microversion to a new client that support microversions and tries to communicate with an old Nova. * The user does not specify the microversion to use in communication with the client. Consequentally, the client attempts to use the latest microversion. * The client makes a connection to Nova and ask supported API versions. * Nova doesn't look for, or parse the HTTP header. It just return json with API versions[3]. * The client filters version by ""CURRENT"" status and ""2.1"" id. * The client informs the user that it cannot communicate to Nova using that microversion and exits. Use Case 3B: New Client communicating with Nova V2.0 (user-specified) ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ This is the where the user requests a particular microversion to a new client that support microversions and tries to communicate with Nova V2.0. * The user specifies a microversion that is valid for the client. * The client makes a connection to Nova V2.0, supplying a X-OpenStack-Compute-API-Version HTTP header * Nova doesn't look for, or parse the HTTP header. It communicates using the only API code path it knows about, that being v2.0 * The client does not receive a X-OpenStack-Compute-API-Version header in the response, and from that is able to assume that the version of Nova that it is talking to does not support microversions. That is, it is using a version of the REST API that predates v2.0. * The client informs the user that it cannot communicate to Nova using that microversion and exits. Use Case 4: New Client, user specifying an invalid version number ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ This is the case where a user provides as input to a new client an invalid microversion identifier, such as 'spam', 'l33t', or '1.2.3.4.5'. * The user specifies a microversion to the client that is invalid. The client should return an error to the user, i.e. the client should provide some validation that a valid microversion identifier is provided. Use Case 5: New Client/Nova V2.1: Unsupported Nova version ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ This is the case where a new client requests a version that is older than the Nova V2.1 can handle. For example, the client supports microversions 2.1 to 2.6, and Nova supports versions 2.8 to 2.15. * The client makes a connection to Nova, supplying 2.6 as the requested microversion. * Nova responds with a 406 Not Acceptable, along with the -Min- and -Max- headers that it can support (in this case 2.8 and 2.15) * As the client does not support a version supported by Nova, it cannot continue and reports such to the user. * (An alternative path would be for the client to try and proceed using a version acceptable to Nova. Note that in this case the client should be able to proceed since any change that would break basic compatibility would likely require a major version bump to v3) Use Case 6: New Client/Nova V2.1: Unsupported Client version ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ This is the case where a new client requests a version that is newer than the Nova V2.1 can handle. For example, the client supports microversions 2.10 to 2.15, and Nova supports versions 2.1 to 2.5. Steps are the same as Use Case 5. This scenario should not occur in practice as the client should always be able to talk to any version of Nova. Use Case 7: New Client/Nova V2.1: Compatible Version ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ This is the case where a new client requests a version that is supported by Nova V2.1. For example, the client supports microversions 2.8 to 2.10, and Nova supports versions 2.1 to 2.12. * The client makes a connection to Nova, supplying 2.10 as the requested microversion. * As Nova can support this microversion, it responds by sending back a response of 2.10 in the X-OpenStack-Compute-API-Version HTTP header. Use Case 8: New Client/Nova V2.1: Version request of 'latest' ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ This is the case where a new client requests a version of 'latest' from a Nova V2.1. * The user specify 'latest' microversion to use. * The client makes a connection to Nova and ask supported API versions. * Nova doesn't look for, or parse the HTTP header. It just return json with API versions[3]. * The client filters versions by ""CURRENT"" status and ""2.1"" id. - If no API version is found, the client informs the user that it cannot communicate to Nova using that microversion and exits - If suitable API version is found, the client choice the latest version supported both by client and server sides(via ""version"" and ""min_version"" values from API version response) and makes a connection to Nova, supplying selected version in the X-OpenStack-Compute-API-Version HTTP header Project Priority ---------------- None Proposed change =============== To address the specific behaviour between Nova and python-novacclient, the following Use Cases are listed to specify the expected functionality. For the purposes of definition, we will use the term ""Nova V2.0"" to refer to a version of Nova that predates microversions and has no knowledge of them. Likewise, we will use the term ""Nova V2.1"" to refer to a version of Nova that includes support for microversions. For novaclient, we will apply labels ""old client"" for novaclient which doesn't support microversions and ""new client"" for novaclient which support it. New Client Default Microversion ------------------------------- The python-novaclient provides an option to specify which microversion to attempt to use for communicating to Nova. When this is specified, the requested microversion should be used (unless of course the client cannot support that version). This includes 'latest' which choice the latest version supported both by client and server sides. Also 'latest' microversion should be used by default. The goal of this requirement is for python-novaclient / Nova communication to ""just work"" for the user, and if possible, to use the most recent version of the REST API possible, so that the user is able to make use of the latest functionality. Alternatives ------------ One alternative to microversions is to not have them at all. What this would result in would be a group of large changes happening simultaneously, resulting in unpaired server/client versions not being compatible at all. It would also result in less frequent, but larger incompatible API changes. And nobody wants that. Data model impact ----------------- None. This change is isolated to the API code. REST API impact --------------- As described above, a new HTTP header would be accepted, and returned by Nova. If a client chose to use that header to request a specific version, Nova would respond, either accepting the requested version for future communication, or rejecting that version request as not being supportable. If a client chose not to use that header, Nova would assume that the REST API to be used would be v2.1 (that is, the same API that was present in the 'Kilo' release). This is how the REST API works today. Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- Clients that wish to use new features available over the REST API added since the 'Kilo' release will need to start using this HTTP header. The fact that new features will only be added in new versions will encourage them to do so. Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- Any future changes to Nova's REST API (whether that be in the request or any response) *must* result in a microversion update, and guarded in the code appropriately. Implementation ============== Assignee(s) ----------- Primary assignees: :: akurilin - Andrey Kurilin <andr.kurilin@gmail.com> Work Items ---------- Complete the python-novaclient microversion implementation by: #. Add check X-OpenStack-Compute-API-Version header presents in response Dependencies ============ None Testing ======= NovaClient's functional tests should cover as much as possible microverions. Patch for V2.2 can be used as how-to for writing such tests. Documentation Impact ==================== No specific documentation impact is identified that is not covered by existing API change processes. References ========== * [0] http://specs.openstack.org/openstack/nova-specs/specs/kilo/implemented/api-microversions.html * [1] https://review.openstack.org/#/c/152569/ * [2] https://etherpad.openstack.org/p/YVR-nova-api-2.1-in-liberty http://libertydesignsummit.sched.org/event/60da58ea4c57a2f25b2e1ed22213d6ce#.VXA9krxZ5Qt * [3] https://github.com/openstack/nova/blob/master/doc/api_samples/versions/versions-get-resp.json * [4] https://review.openstack.org/#/c/136458/",,296,0
openstack%2Ffuel-web~master~I5dfd68a1f1a7ce760328bcf7ae76fab40372b4e9,openstack/fuel-web,master,I5dfd68a1f1a7ce760328bcf7ae76fab40372b4e9,[Nailgun] Add new columns to Plugin model,MERGED,2015-06-24 13:34:12.000000000,2015-07-01 12:03:01.000000000,2015-07-01 11:51:01.000000000,"[{'_account_id': 3}, {'_account_id': 8392}, {'_account_id': 8749}, {'_account_id': 8907}, {'_account_id': 8931}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 10959}, {'_account_id': 11577}]","[{'number': 1, 'created': '2015-06-24 13:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/052e12df8427742e17096dd9f41c0588ff37e650', 'message': '[Nailgun] DB changes for plugin role\n\nCurrent commit extend Plugin model with new attributes.\n\n  * Implement DB schema and related migration\n  * Extend Plugin model witn new attributes\n\nChange-Id: I5dfd68a1f1a7ce760328bcf7ae76fab40372b4e9\n'}, {'number': 2, 'created': '2015-06-24 13:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/e42c33cfb6a828b513e70a1a9a4faf7b9122da7d', 'message': '[Nailgun] DB changes for plugin role\n\nCurrent commit extend Plugin model with new attributes.\n\n  * Implement DB schema and related migration\n  * Extend Plugin model witn new attributes\n\nChange-Id: I5dfd68a1f1a7ce760328bcf7ae76fab40372b4e9\n'}, {'number': 3, 'created': '2015-06-25 07:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/e2855e826c094f3d81dab66e23aa3126b7a5a4d9', 'message': '[Nailgun] DB changes for plugin role\n\nCurrent commit extend Plugin model with new attributes.\n\n  * Implement DB schema and related migration\n  * Extend Plugin model witn new attributes\n\nImplements: blueprint role-as-a-plugin\n\nChange-Id: I5dfd68a1f1a7ce760328bcf7ae76fab40372b4e9\n'}, {'number': 4, 'created': '2015-06-25 10:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/d93b6dcbc59a8b955ef1829c59531bf9d84531bd', 'message': '[Nailgun] DB changes for plugin role\n\nCurrent commit extend Plugin model with new attributes.\n\n  * Implement DB schema and related migration\n  * Extend Plugin model witn new attributes\n\nImplements: blueprint role-as-a-plugin\n\nChange-Id: I5dfd68a1f1a7ce760328bcf7ae76fab40372b4e9\n'}, {'number': 5, 'created': '2015-06-25 11:54:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/1595e0e18dd611f89fbde1c74a0bd61156fc6c42', 'message': '[Nailgun] DB changes for plugin role\n\nCurrent commit extend Plugin model with new attributes.\n\n  * Implement DB schema and related migration\n  * Extend Plugin model witn new attributes\n\nImplements: blueprint role-as-a-plugin\n\nChange-Id: I5dfd68a1f1a7ce760328bcf7ae76fab40372b4e9\n'}, {'number': 6, 'created': '2015-06-25 13:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/b691fb5fc2b45d770e33f9c2b2780a79a07e8296', 'message': '[Nailgun] DB changes for plugin role\n\nCurrent commit extend Plugin model with new attributes.\n\n  * Implement DB schema and related migration\n  * Extend Plugin model witn new attributes\n\nImplements: blueprint role-as-a-plugin\n\nChange-Id: I5dfd68a1f1a7ce760328bcf7ae76fab40372b4e9\n'}, {'number': 7, 'created': '2015-06-30 14:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/30aff46fdab6ff2e40ddba3fb6ec2f950982199b', 'message': '[Nailgun] Add new columns to Plugin model\n\nCurrent commit extend Plugin model with new attributes.\n\n  * Implement DB schema and related migration\n  * Extend Plugin model witn new attributes\n\nImplements: blueprint role-as-a-plugin\n\nChange-Id: I5dfd68a1f1a7ce760328bcf7ae76fab40372b4e9\n'}, {'number': 8, 'created': '2015-06-30 14:56:49.000000000', 'files': ['nailgun/nailgun/db/migration/alembic_migrations/versions/fuel_7_0.py', 'nailgun/nailgun/test/unit/test_migration_fuel_7_0.py', 'nailgun/nailgun/db/sqlalchemy/models/plugins.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/f146b204ce97881f6c2400583415f5c30ea2e51c', 'message': '[Nailgun] Add new columns to Plugin model\n\nCurrent commit extend Plugin model with new attributes.\n\n  * Implement DB schema and related migration\n  * Extend Plugin model witn new attributes\n\nImplements: blueprint role-as-a-plugin\n\nChange-Id: I5dfd68a1f1a7ce760328bcf7ae76fab40372b4e9\n'}]",17,195079,f146b204ce97881f6c2400583415f5c30ea2e51c,62,9,8,14167,,,0,"[Nailgun] Add new columns to Plugin model

Current commit extend Plugin model with new attributes.

  * Implement DB schema and related migration
  * Extend Plugin model witn new attributes

Implements: blueprint role-as-a-plugin

Change-Id: I5dfd68a1f1a7ce760328bcf7ae76fab40372b4e9
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/79/195079/3 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/nailgun/db/migration/alembic_migrations/versions/fuel_7_0.py', 'nailgun/nailgun/test/unit/test_migration_fuel_7_0.py', 'nailgun/nailgun/db/sqlalchemy/models/plugins.py']",3,052e12df8427742e17096dd9f41c0588ff37e650,bp/role-as-a-plugin," attributes_metadata = Column(JSON, default={}, nullable=False) volumes_metadata = Column(JSON, default={}, nullable=False) roles_metadata = Column(JSON, default={}, nullable=False) deployment_tasks = Column(JSON, default={}, nullable=False) tasks = Column(JSON, default={}, nullable=False)",,190,0
openstack%2Fproject-config~master~I1c9d73be878f14c6a6616b4a93e8552f33d27522,openstack/project-config,master,I1c9d73be878f14c6a6616b4a93e8552f33d27522,Fix script file name for Inspector dsvm job,MERGED,2015-07-01 07:43:07.000000000,2015-07-01 12:02:16.000000000,2015-07-01 12:02:13.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 6786}, {'_account_id': 7882}, {'_account_id': 10239}]","[{'number': 1, 'created': '2015-07-01 07:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/0257ddaab381ee1b1037ec0025e0f88cab48ab8b', 'message': 'Fix script file name for Inspector dsvm job\n\nIndeed, ""functest"" is a weird directory for an integration test,\nso we\'re moving it to the devstack plugin directory and also\nrenaming so that it\'s purpose is more clear.\n\n""functest"" directory will be deleted from tree once this lands.\n\nChange-Id: I1c9d73be878f14c6a6616b4a93e8552f33d27522\n'}, {'number': 2, 'created': '2015-07-01 08:02:44.000000000', 'files': ['jenkins/jobs/ironic.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8da519e5c0ce067c0728cd12fad86471c584eee0', 'message': 'Fix script file name for Inspector dsvm job\n\nIndeed, ""functest"" is a weird directory for an integration test,\nso we\'re moving it to the devstack plugin directory and also\nrenaming so that it\'s purpose is more clear.\n\nRight now we maintain 2 copies of this script, one in\n""functest"" directory will be deleted from tree once this lands.\n\nChange-Id: I1c9d73be878f14c6a6616b4a93e8552f33d27522\n'}]",0,197453,8da519e5c0ce067c0728cd12fad86471c584eee0,12,5,2,10239,,,0,"Fix script file name for Inspector dsvm job

Indeed, ""functest"" is a weird directory for an integration test,
so we're moving it to the devstack plugin directory and also
renaming so that it's purpose is more clear.

Right now we maintain 2 copies of this script, one in
""functest"" directory will be deleted from tree once this lands.

Change-Id: I1c9d73be878f14c6a6616b4a93e8552f33d27522
",git fetch https://review.opendev.org/openstack/project-config refs/changes/53/197453/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/ironic.yaml'],1,0257ddaab381ee1b1037ec0025e0f88cab48ab8b,inspector, sudo -E -u stack ./devstack/exercise.sh, sudo -E -u stack ./functest/devstack-test.sh,1,1
openstack%2Fproject-config~master~I680e7a70ebd52ac0e326bd51801041be5bef4c79,openstack/project-config,master,I680e7a70ebd52ac0e326bd51801041be5bef4c79,Run diskimage-builder-install macro for akanda image build,MERGED,2015-06-30 04:45:04.000000000,2015-07-01 12:01:43.000000000,2015-07-01 12:01:41.000000000,"[{'_account_id': 3}, {'_account_id': 4162}, {'_account_id': 6547}, {'_account_id': 6786}]","[{'number': 1, 'created': '2015-06-30 04:45:04.000000000', 'files': ['jenkins/jobs/akanda.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d8c6f5bd4a2d6e474705b25f778a17a40acf8323', 'message': ""Run diskimage-builder-install macro for akanda image build\n\nThis job DIB's a qcow2 image and needs qemu-img installed.\n\nChange-Id: I680e7a70ebd52ac0e326bd51801041be5bef4c79\n""}]",0,196946,d8c6f5bd4a2d6e474705b25f778a17a40acf8323,9,4,1,1420,,,0,"Run diskimage-builder-install macro for akanda image build

This job DIB's a qcow2 image and needs qemu-img installed.

Change-Id: I680e7a70ebd52ac0e326bd51801041be5bef4c79
",git fetch https://review.opendev.org/openstack/project-config refs/changes/46/196946/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/akanda.yaml'],1,d8c6f5bd4a2d6e474705b25f778a17a40acf8323,akanda_dib_install, - diskimage-builder-install,,1,0
openstack%2Ffuel-web~master~I4dfe32a51d0edaecb3f40b8c581eebdb51ed0d31,openstack/fuel-web,master,I4dfe32a51d0edaecb3f40b8c581eebdb51ed0d31,"Create serializers for 7.0, add network roles",MERGED,2015-06-17 16:07:08.000000000,2015-07-01 11:54:41.000000000,2015-06-25 16:08:14.000000000,"[{'_account_id': 3}, {'_account_id': 7468}, {'_account_id': 8392}, {'_account_id': 8749}, {'_account_id': 8797}, {'_account_id': 8829}, {'_account_id': 8907}, {'_account_id': 8931}, {'_account_id': 8954}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 10959}, {'_account_id': 11577}, {'_account_id': 12200}, {'_account_id': 13445}, {'_account_id': 16106}]","[{'number': 1, 'created': '2015-06-17 16:07:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/69609c341f1e8902cdc221299072a56f37d0ac82', 'message': 'create serializers for 7.0, add network roles\n\n  Create NeutronNetworkDeploymentSerializer70.\n  Create DeploymentHASerializer70.\n  Fix TestGetSerializer.test_usage_of_latest_serializer_in_case_of_new_release.\n  Add all network roles supposed to be supported within flex-networking feature.\n\nChange-Id: I4dfe32a51d0edaecb3f40b8c581eebdb51ed0d31\nImplements: blueprint granular-network-functions\n'}, {'number': 2, 'created': '2015-06-17 16:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/f032393a5a06680ea3f88e63b69b073981d64925', 'message': 'create serializers for 7.0, add network roles\n\n  Create NeutronNetworkDeploymentSerializer70.\n  Create DeploymentHASerializer70.\n  Fix TestGetSerializer.test_usage_of_latest_serializer_in_case_of_new_release.\n  Add all network roles supposed to be supported within flex-networking feature.\n\nChange-Id: I4dfe32a51d0edaecb3f40b8c581eebdb51ed0d31\nImplements: blueprint granular-network-functions\n'}, {'number': 3, 'created': '2015-06-23 12:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/5bae32264e344505fa148a5dbba351a36f84bad0', 'message': 'create serializers for 7.0, add network roles\n\n  Create NeutronNetworkDeploymentSerializer70.\n  Create DeploymentHASerializer70.\n  Fix TestGetSerializer.test_usage_of_latest_serializer_in_case_of_new_release.\n  Add all network roles supposed to be supported within flex-networking feature.\n\nChange-Id: I4dfe32a51d0edaecb3f40b8c581eebdb51ed0d31\nImplements: blueprint granular-network-functions\n'}, {'number': 4, 'created': '2015-06-24 07:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/2fdef092ed0a1c4be8ea269990d9e75625e9445a', 'message': 'create serializers for 7.0, add network roles\n\n  Create NeutronNetworkDeploymentSerializer70.\n  Create DeploymentHASerializer70.\n  Fix TestGetSerializer.test_usage_of_latest_serializer_in_case_of_new_release.\n  Add all network roles supposed to be supported within flex-networking feature.\n\nChange-Id: I4dfe32a51d0edaecb3f40b8c581eebdb51ed0d31\nImplements: blueprint granular-network-functions\n'}, {'number': 5, 'created': '2015-06-25 08:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/2e920a9cf7982b1aeb4bfe21976d42592cd49586', 'message': 'Create serializers for 7.0, add network roles\n\n  Create NeutronNetworkDeploymentSerializer70.\n  Create DeploymentHASerializer70.\n  NovaNetworkDeploymentSerializer61 is to be used in DeploymentHASerializer70 until\n  BVTs and other tests are fixed (nailgun tests are fine). It can be removed then as\n  Nova-Network cannot be used in 7.0.\n  Fix TestGetSerializer.test_usage_of_latest_serializer_in_case_of_new_release.\n  Add all network roles supposed to be supported within flex-networking feature.\n\nChange-Id: I4dfe32a51d0edaecb3f40b8c581eebdb51ed0d31\nImplements: blueprint granular-network-functions\n'}, {'number': 6, 'created': '2015-06-25 09:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/8788960632414a38acea5b6cb2a2ba6db5706abe', 'message': 'Create serializers for 7.0, add network roles\n\n  Create NeutronNetworkDeploymentSerializer70.\n  Create DeploymentHASerializer70.\n  NovaNetworkDeploymentSerializer61 is to be used in DeploymentHASerializer70 until\n  BVTs and other tests are fixed (nailgun tests are fine). It can be removed then as\n  Nova-Network cannot be used in 7.0.\n  Fix TestGetSerializer.test_usage_of_latest_serializer_in_case_of_new_release.\n  Add all network roles supposed to be supported within flex-networking feature.\n\nChange-Id: I4dfe32a51d0edaecb3f40b8c581eebdb51ed0d31\nImplements: blueprint granular-network-functions\n'}, {'number': 7, 'created': '2015-06-25 09:55:42.000000000', 'files': ['nailgun/nailgun/test/unit/test_deployment_serializer.py', 'nailgun/nailgun/orchestrator/deployment_serializers.py', 'nailgun/nailgun/orchestrator/neutron_serializers.py', 'nailgun/nailgun/test/integration/test_orchestrator_serializer_70.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/aee9a605f64dabda11db96912c623a7730cb936d', 'message': 'Create serializers for 7.0, add network roles\n\n  Create NeutronNetworkDeploymentSerializer70.\n  Create DeploymentHASerializer70.\n  NovaNetworkDeploymentSerializer61 is to be used in DeploymentHASerializer70 until\n  BVTs and other tests are fixed (nailgun tests are fine). It can be removed then as\n  Nova-Network cannot be used in 7.0.\n  Fix TestGetSerializer.test_usage_of_latest_serializer_in_case_of_new_release.\n  Add all network roles supposed to be supported within flex-networking feature.\n\nChange-Id: I4dfe32a51d0edaecb3f40b8c581eebdb51ed0d31\nImplements: blueprint granular-network-functions\n'}]",12,192750,aee9a605f64dabda11db96912c623a7730cb936d,60,16,7,8392,,,0,"Create serializers for 7.0, add network roles

  Create NeutronNetworkDeploymentSerializer70.
  Create DeploymentHASerializer70.
  NovaNetworkDeploymentSerializer61 is to be used in DeploymentHASerializer70 until
  BVTs and other tests are fixed (nailgun tests are fine). It can be removed then as
  Nova-Network cannot be used in 7.0.
  Fix TestGetSerializer.test_usage_of_latest_serializer_in_case_of_new_release.
  Add all network roles supposed to be supported within flex-networking feature.

Change-Id: I4dfe32a51d0edaecb3f40b8c581eebdb51ed0d31
Implements: blueprint granular-network-functions
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/50/192750/6 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/nailgun/test/unit/test_deployment_serializer.py', 'nailgun/nailgun/orchestrator/deployment_serializers.py', 'nailgun/nailgun/orchestrator/neutron_serializers.py', 'nailgun/nailgun/test/integration/test_orchestrator_serializer_70.py']",4,69609c341f1e8902cdc221299072a56f37d0ac82,bp/granular-network-functions,"# -*- coding: utf-8 -*- # Copyright 2015 Mirantis, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from nailgun.db.sqlalchemy.models import Cluster from nailgun import objects from nailgun.orchestrator.deployment_graph import AstuteGraph from nailgun.orchestrator.deployment_serializers import \ get_serializer_for_cluster from nailgun.test.integration.test_orchestrator_serializer import \ BaseDeploymentSerializer class TestDeploymentAttributesSerialization70(BaseDeploymentSerializer): @mock.patch('nailgun.utils.extract_env_version', return_value='7.0') def setUp(self, *args): super(TestDeploymentAttributesSerialization70, self).setUp() self.cluster = self.create_env('ha_compact') # NOTE: 'prepare_for_deployment' is going to be changed for 7.0 objects.NodeCollection.prepare_for_deployment(self.env.nodes, 'vlan') cluster_db = self.db.query(Cluster).get(self.cluster['id']) serializer = get_serializer_for_cluster(cluster_db) self.serialized_for_astute = serializer( AstuteGraph(cluster_db)).serialize(cluster_db, cluster_db.nodes) def create_env(self, mode): return self.env.create( cluster_kwargs={ 'mode': mode, 'net_provider': 'neutron', 'net_segment_type': 'vlan'}, nodes_kwargs=[ {'roles': ['controller'], 'pending_addition': True, 'name': self.node_name, } ]) def test_network_scheme(self): for node in self.serialized_for_astute: roles = node['network_scheme']['roles'] expected_roles = { 'admin/pxe': 'br-fw-admin', 'keystone/api': 'br-mgmt', 'neutron/api': 'br-mgmt', 'swift/api': 'br-mgmt', 'sahara/api': 'br-mgmt', 'ceilometer/api': 'br-mgmt', 'cinder/api': 'br-mgmt', 'glance/api': 'br-mgmt', 'heat/api': 'br-mgmt', 'nova/api': 'br-mgmt', 'murano/api': 'br-mgmt', 'horizon': 'br-mgmt', 'mgmt/api': 'br-mgmt', 'mgmt/database': 'br-mgmt', 'mgmt/messaging': 'br-mgmt', 'mgmt/corosync': 'br-mgmt', 'mgmt/vip': 'br-mgmt', 'public/vip': 'br-mgmt', 'public/ex': 'br-ex', 'neutron/private': 'br-prv', 'neutron/floating': 'br-floating', 'swift/public': 'br-ex', 'swift/replication': 'br-storage', 'ceph/public': 'br-mgmt', 'ceph/radosgw': 'br-ex', 'ceph/replication': 'br-storage', 'cinder/iscsi': 'br-storage', # deprecated 'fw-admin': 'br-fw-admin', 'management': 'br-mgmt', 'ex': 'br-ex', 'storage': 'br-storage', } self.assertEqual(roles, expected_roles) ",,159,1
openstack%2Fproject-config~master~Icd53afc063d3c7afbc04769285f7538cd27fdef7,openstack/project-config,master,Icd53afc063d3c7afbc04769285f7538cd27fdef7,Add openstack/designate-dashboard to designate DSVM gates,MERGED,2015-06-30 07:00:08.000000000,2015-07-01 11:48:55.000000000,2015-07-01 11:48:53.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6316}, {'_account_id': 6547}, {'_account_id': 6609}, {'_account_id': 6786}, {'_account_id': 7069}]","[{'number': 1, 'created': '2015-06-30 07:00:08.000000000', 'files': ['jenkins/jobs/designate.yaml', 'jenkins/jobs/rally.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f563954c059c4c5b68367eefcbd5a6a8fe1bc80b', 'message': 'Add openstack/designate-dashboard to designate DSVM gates\n\nChange-Id: Icd53afc063d3c7afbc04769285f7538cd27fdef7\n'}]",0,196961,f563954c059c4c5b68367eefcbd5a6a8fe1bc80b,7,11,1,741,,,0,"Add openstack/designate-dashboard to designate DSVM gates

Change-Id: Icd53afc063d3c7afbc04769285f7538cd27fdef7
",git fetch https://review.opendev.org/openstack/project-config refs/changes/61/196961/1 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/designate.yaml', 'jenkins/jobs/rally.yaml']",2,f563954c059c4c5b68367eefcbd5a6a8fe1bc80b,," export PROJECTS=""openstack/designate-dashboard $PROJECTS""",,3,0
openstack%2Fopenstack-ansible~kilo~Id5a74db2399166af2d6ac289b71ebb0de04f5679,openstack/openstack-ansible,kilo,Id5a74db2399166af2d6ac289b71ebb0de04f5679,Add support for specifying custom static routes,MERGED,2015-06-30 21:17:50.000000000,2015-07-01 11:42:41.000000000,2015-07-01 11:42:39.000000000,"[{'_account_id': 3}, {'_account_id': 2799}, {'_account_id': 6816}, {'_account_id': 7307}]","[{'number': 1, 'created': '2015-06-30 21:17:50.000000000', 'files': ['playbooks/roles/lxc_container_create/defaults/main.yml', 'playbooks/inventory/dynamic_inventory.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8d54c86396cb01cdcdfbf8bf42d258041b3aef1d', 'message': 'Add support for specifying custom static routes\n\nThis change allows you to specify static routes for a given network in\nyour openstack_user_config.yml file:\n\n  global_overrides:\n    provider_networks:\n      - network:\n          group_binds:\n            - glance_api\n            - nova_compute\n            - neutron_linuxbridge_agent\n          type: ""raw""\n          container_bridge: ""br-snet""\n          container_interface: ""eth3""\n          container_type: ""veth""\n          ip_from_q: ""snet""\n          static_routes:\n            - cidr: 10.176.0.0/12\n              gateway: 172.29.248.1\n\nThis will result in the following being written to\n/etc/network/interfaces.d/eth3.cfg for the affected containers:\n\n  post-up ip route add 10.176.0.0/12 via 172.29.248.1 || true\n\nChange-Id: Id5a74db2399166af2d6ac289b71ebb0de04f5679\nCloses-Bug: #1464639\n(cherry picked from commit 21a8f1ff04ac6aeb3c54ddd61bc3b37318e9ed4e)\n'}]",0,197335,8d54c86396cb01cdcdfbf8bf42d258041b3aef1d,9,4,1,7353,,,0,"Add support for specifying custom static routes

This change allows you to specify static routes for a given network in
your openstack_user_config.yml file:

  global_overrides:
    provider_networks:
      - network:
          group_binds:
            - glance_api
            - nova_compute
            - neutron_linuxbridge_agent
          type: ""raw""
          container_bridge: ""br-snet""
          container_interface: ""eth3""
          container_type: ""veth""
          ip_from_q: ""snet""
          static_routes:
            - cidr: 10.176.0.0/12
              gateway: 172.29.248.1

This will result in the following being written to
/etc/network/interfaces.d/eth3.cfg for the affected containers:

  post-up ip route add 10.176.0.0/12 via 172.29.248.1 || true

Change-Id: Id5a74db2399166af2d6ac289b71ebb0de04f5679
Closes-Bug: #1464639
(cherry picked from commit 21a8f1ff04ac6aeb3c54ddd61bc3b37318e9ed4e)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/35/197335/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/lxc_container_create/defaults/main.yml', 'playbooks/inventory/dynamic_inventory.py']",2,8d54c86396cb01cdcdfbf8bf42d258041b3aef1d,," is_container_address, static_routes): :param static_routes: ``list`` List containing static route dicts. is_container_address, static_routes if static_routes: # NOTE: networks[old_address]['static_routes'] will get # regenerated on each run networks[old_address]['static_routes'] = [] for s in static_routes: # only add static routes if they are specified correctly if 'cidr' in s and 'gateway' in s: networks[old_address]['static_routes'].append(s) is_container_address=p_net.get('is_container_address'), static_routes=p_net.get('static_routes')", is_container_address): is_container_address is_container_address=p_net.get('is_container_address'),20,3
openstack%2Fdesignate-dashboard~master~I36b5e7f6324aa7942e5e7416316a1da0d035da8d,openstack/designate-dashboard,master,I36b5e7f6324aa7942e5e7416316a1da0d035da8d,Test Change - Validating gates,ABANDONED,2015-07-01 11:36:40.000000000,2015-07-01 11:41:13.000000000,,[],"[{'number': 1, 'created': '2015-07-01 11:36:40.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/4c97b7f5b2adf3b346c5309c2c820ea4a61fd5f4', 'message': 'Test Change - Validating gates\n\nChange-Id: I36b5e7f6324aa7942e5e7416316a1da0d035da8d\n'}]",0,197527,4c97b7f5b2adf3b346c5309c2c820ea4a61fd5f4,2,0,1,741,,,0,"Test Change - Validating gates

Change-Id: I36b5e7f6324aa7942e5e7416316a1da0d035da8d
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/27/197527/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,4c97b7f5b2adf3b346c5309c2c820ea4a61fd5f4,,TEST ,,2,0
openstack%2Fdesignate~master~I761605b38c7f69035d0ec452cb9c68ac529480a4,openstack/designate,master,I761605b38c7f69035d0ec452cb9c68ac529480a4,Testing - Do not merge,ABANDONED,2015-06-30 07:03:38.000000000,2015-07-01 11:30:17.000000000,,"[{'_account_id': 3}, {'_account_id': 741}]","[{'number': 1, 'created': '2015-06-30 07:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/1a6b8234efb6ba2789c726ce6a98cc573d5054b3', 'message': 'Testing - Do not merge\n\nChange-Id: I761605b38c7f69035d0ec452cb9c68ac529480a4\n'}, {'number': 2, 'created': '2015-06-30 07:04:36.000000000', 'files': ['contrib/devstack/gate_hook.sh'], 'web_link': 'https://opendev.org/openstack/designate/commit/9b7d192240d01b48c855bff93fc838db478232cd', 'message': 'Testing - Do not merge\n\nChange-Id: I761605b38c7f69035d0ec452cb9c68ac529480a4\n'}]",0,196963,9b7d192240d01b48c855bff93fc838db478232cd,6,2,2,741,,,0,"Testing - Do not merge

Change-Id: I761605b38c7f69035d0ec452cb9c68ac529480a4
",git fetch https://review.opendev.org/openstack/designate refs/changes/63/196963/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/devstack/gate_hook.sh'],1,1a6b8234efb6ba2789c726ce6a98cc573d5054b3,193287,"export PROJECTS=""openstack/designate-dashboard $PROJECTS""",,1,0
openstack%2Fsahara-image-elements~master~Ib7a2b84470680beac45990ad299913c7c64e61d1,openstack/sahara-image-elements,master,Ib7a2b84470680beac45990ad299913c7c64e61d1,Cleanup/fix elements for Cloudera 5.4.0,MERGED,2015-06-09 12:50:39.000000000,2015-07-01 11:29:42.000000000,2015-07-01 11:29:41.000000000,"[{'_account_id': 3}, {'_account_id': 6116}, {'_account_id': 7125}, {'_account_id': 7213}, {'_account_id': 7710}, {'_account_id': 7745}, {'_account_id': 8411}, {'_account_id': 12038}, {'_account_id': 12320}]","[{'number': 1, 'created': '2015-06-09 12:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/c4367c2d71c3be4b3db457bd9d5c8eeb1faec3a7', 'message': ""Cleanup/fix elements for Cloudera 5.4.0\n\nStop explicitly using the 'base' element, as already implicit by\ndisk-image-create; this is even more useless when using -n but re-adding\nit back. Followup of commit 2e221336861651e061a6035bf79a6b991149fa80.\n\nSwitch to the 'centos' element instead of 'rhel' for CentOS images.\nFollowup of commit 75b071ff2b505dbed302d7f979647b1673be3606.\n\nChange-Id: Ib7a2b84470680beac45990ad299913c7c64e61d1\n""}, {'number': 2, 'created': '2015-06-09 15:50:24.000000000', 'files': ['diskimage-create/diskimage-create.sh'], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/8cefbe2d69e57cb2a9e9adeee2266992aa744981', 'message': ""Cleanup/fix elements for Cloudera 5.4.0\n\nStop explicitly using the 'base' element, as already implicit by\ndisk-image-create; this is even more useless when using -n but re-adding\nit back. Followup of commit eaf5730723d1aa0c201c56197dd7e706d9a2996a.\n\nSwitch to the 'centos' element instead of 'rhel' for CentOS images.\nFollowup of commit 75b071ff2b505dbed302d7f979647b1673be3606.\n\nChange-Id: Ib7a2b84470680beac45990ad299913c7c64e61d1\n""}]",4,189692,8cefbe2d69e57cb2a9e9adeee2266992aa744981,22,9,2,12320,,,0,"Cleanup/fix elements for Cloudera 5.4.0

Stop explicitly using the 'base' element, as already implicit by
disk-image-create; this is even more useless when using -n but re-adding
it back. Followup of commit eaf5730723d1aa0c201c56197dd7e706d9a2996a.

Switch to the 'centos' element instead of 'rhel' for CentOS images.
Followup of commit 75b071ff2b505dbed302d7f979647b1673be3606.

Change-Id: Ib7a2b84470680beac45990ad299913c7c64e61d1
",git fetch https://review.opendev.org/openstack/sahara-image-elements refs/changes/92/189692/2 && git format-patch -1 --stdout FETCH_HEAD,['diskimage-create/diskimage-create.sh'],1,c4367c2d71c3be4b3db457bd9d5c8eeb1faec3a7,cdh-elements," cloudera_elements_sequence=""vm ubuntu hadoop-cloudera"" cloudera_elements_sequence=""vm centos hadoop-cloudera selinux-permissive disable-firewall"" disk-image-create $TRACING $cloudera_elements_sequence -o $cloudera_5_4_centos_image_name"," cloudera_elements_sequence=""base vm ubuntu hadoop-cloudera"" cloudera_elements_sequence=""base vm rhel hadoop-cloudera selinux-permissive disable-firewall"" disk-image-create $TRACING $cloudera_elements_sequence -n -o $cloudera_5_4_centos_image_name",3,3
openstack%2Ffreezer~master~Id182facb84703a976e566429e005afa373d08965,openstack/freezer,master,Id182facb84703a976e566429e005afa373d08965,Add  freezer exec action to execute script,MERGED,2015-06-16 14:20:09.000000000,2015-07-01 11:25:58.000000000,2015-07-01 11:25:57.000000000,"[{'_account_id': 3}, {'_account_id': 11151}, {'_account_id': 12211}, {'_account_id': 14030}, {'_account_id': 14340}]","[{'number': 1, 'created': '2015-06-16 14:20:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/ec8dc1f38277199ac236b6ba3f5aead83fef9f8d', 'message': 'Add pre and post freezer execution script execution\n\nImplements: blueprint pre-post-exec\n\nChange-Id: Id182facb84703a976e566429e005afa373d08965\n'}, {'number': 2, 'created': '2015-06-18 13:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/1ef7f51af85d4eb4fe9f55b1623a9f9875298b5a', 'message': 'Add pre and post freezer execution script execution\n\nImplements: blueprint pre-post-exec\n\nChange-Id: Id182facb84703a976e566429e005afa373d08965\n'}, {'number': 3, 'created': '2015-06-18 13:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/2eef85882751b383c3a2ac12ff6764af14821b42', 'message': 'Add pre and post freezer execution script execution\n\nImplements: blueprint pre-post-exec\n\nChange-Id: Id182facb84703a976e566429e005afa373d08965\n'}, {'number': 4, 'created': '2015-06-21 18:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/56590467c9370c15819f09122852a31ee7d69a3f', 'message': 'Add pre and post freezer execution script execution\n\nImplements: blueprint pre-post-exec\n\nChange-Id: Id182facb84703a976e566429e005afa373d08965\n'}, {'number': 5, 'created': '2015-06-21 18:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/22f89a1613019d076f099e02ef0adbfe99566aaa', 'message': 'Add pre and post freezer execution script execution\n\nImplements: blueprint pre-post-exec\n\nChange-Id: Id182facb84703a976e566429e005afa373d08965\n'}, {'number': 6, 'created': '2015-06-22 08:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/48ad001fd942d4e8569f753366f55e402f3f536f', 'message': 'Add pre and post freezer execution script execution\n\nImplements: blueprint pre-post-exec\n\nChange-Id: Id182facb84703a976e566429e005afa373d08965\n'}, {'number': 7, 'created': '2015-06-22 08:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/b3b52e81ba84681e52e4efd42e5001167f5cc0f8', 'message': 'Add pre and post freezer execution script execution\n\nImplements: blueprint pre-post-exec\n\nChange-Id: Id182facb84703a976e566429e005afa373d08965\n'}, {'number': 8, 'created': '2015-06-22 08:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/53db34ac1f14982cacd41583128b1efd2998e8ae', 'message': 'Add pre and post freezer execution script execution\n\nImplements: blueprint pre-post-exec\n\nChange-Id: Id182facb84703a976e566429e005afa373d08965\n'}, {'number': 9, 'created': '2015-06-23 15:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/9d4a033177edb12920829038c5b60f06ad510b15', 'message': 'Add pre and post freezer execution script execution\n\nImplements: blueprint pre-post-exec\n\nChange-Id: Id182facb84703a976e566429e005afa373d08965\n'}, {'number': 10, 'created': '2015-06-28 21:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/c8e534cefd690217997bce9fea8f81bf243f8c1a', 'message': 'Add pre and post freezer execution script execution\n\nImplements: blueprint pre-post-exec\n\nChange-Id: Id182facb84703a976e566429e005afa373d08965\n'}, {'number': 11, 'created': '2015-06-30 07:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/7845cb2aa330939c7b2810daa034d3fdf9a4c2bb', 'message': 'Add  freezer exec action to execute script\n\nImplements: blueprint pre-post-exec\n\nChange-Id: Id182facb84703a976e566429e005afa373d08965\n'}, {'number': 12, 'created': '2015-06-30 08:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/80ae0b674ba9fb09fc6f8a31b5d2858e57a0b065', 'message': 'Add  freezer exec action to execute script\n\nImplements: blueprint pre-post-exec\n\nChange-Id: Id182facb84703a976e566429e005afa373d08965\n'}, {'number': 13, 'created': '2015-06-30 08:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/39c587ecd83382197921db5b7afc018951739545', 'message': 'Add  freezer exec action to execute script\n\nImplements: blueprint pre-post-exec\n\nChange-Id: Id182facb84703a976e566429e005afa373d08965\n'}, {'number': 14, 'created': '2015-06-30 18:31:51.000000000', 'files': ['freezer/job.py', 'tests/test_job.py', 'freezer/arguments.py', 'tests/commons.py', 'CREDITS.rst', 'freezer/exec_cmd.py', 'freezer/main.py', 'tests/test_main.py', 'tests/test_exec_cmd.py'], 'web_link': 'https://opendev.org/openstack/freezer/commit/c3bdcf25482c38f36169914e8c2ffd0808fdbdda', 'message': 'Add  freezer exec action to execute script\n\nImplements: blueprint pre-post-exec\n\nChange-Id: Id182facb84703a976e566429e005afa373d08965\n'}]",22,192216,c3bdcf25482c38f36169914e8c2ffd0808fdbdda,43,5,14,14030,,,0,"Add  freezer exec action to execute script

Implements: blueprint pre-post-exec

Change-Id: Id182facb84703a976e566429e005afa373d08965
",git fetch https://review.opendev.org/openstack/freezer refs/changes/16/192216/8 && git format-patch -1 --stdout FETCH_HEAD,"['freezer/job.py', 'tests/test_job.py', 'freezer/arguments.py', 'tests/commons.py', 'freezer/script.py', 'freezer/main.py', 'tests/test_main.py', 'tests/test_script.py']",8,ec8dc1f38277199ac236b6ba3f5aead83fef9f8d,bp/pre-post-exec,"""""""Freezer script.py related tests Copyright 2014 Hewlett-Packard Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. This product includes cryptographic software written by Eric Young (eay@cryptsoft.com). This product includes software written by Tim Hudson (tjh@cryptsoft.com). ======================================================================== """""" from freezer import script from mock import patch, Mock import subprocess from __builtin__ import True def test_script(monkeypatch): cmd=""echo test > test.txt"" popen=patch('freezer.script.subprocess.Popen') mock_popen=popen.start() mock_popen.return_value = Mock() mock_popen.return_value.communicate = Mock() mock_popen.return_value.communicate.return_value = ['some stderr'] mock_popen.return_value.returncode = 0 script.execute(cmd) assert (mock_popen.call_count == 1) mock_popen.assert_called_with(['echo', 'test', '>', 'test.txt'], shell=False, stderr=subprocess.PIPE, stdout=subprocess.PIPE) popen.stop() def test_script_with_pipe(monkeypatch): cmd=""echo test|wc -l"" popen=patch('freezer.script.subprocess.Popen') mock_popen=popen.start() mock_popen.return_value = Mock() mock_popen.return_value.communicate = Mock() mock_popen.return_value.communicate.return_value = ['some stderr'] mock_popen.return_value.returncode = 0 script.execute(cmd) assert (mock_popen.call_count == 2) popen.stop() ",,391,12
openstack%2Fneutron~master~I5b3149b2b8502b9b9a36d3e20d909872cc17f8e8,openstack/neutron,master,I5b3149b2b8502b9b9a36d3e20d909872cc17f8e8,Adds base in-tree functional testing of the ovs_neutron_agent,MERGED,2014-12-08 15:50:49.000000000,2015-07-01 11:15:36.000000000,2015-07-01 07:17:40.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 2035}, {'_account_id': 5170}, {'_account_id': 5756}, {'_account_id': 6524}, {'_account_id': 6788}, {'_account_id': 6854}, {'_account_id': 6951}, {'_account_id': 7249}, {'_account_id': 7715}, {'_account_id': 8124}, {'_account_id': 8449}, {'_account_id': 8655}, {'_account_id': 8873}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9751}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 11343}, {'_account_id': 12040}, {'_account_id': 13051}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14214}, {'_account_id': 14215}, {'_account_id': 14216}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 15296}, {'_account_id': 15444}, {'_account_id': 15752}, {'_account_id': 15894}]","[{'number': 1, 'created': '2014-12-08 15:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/77a17e405f4fc1e94d9ed6eb22b7e2b5ad64e262', 'message': 'Adds base in-tree functional testing of the ovs_neutron_agent\n\nBase setup and utility methods for functional testing of the\nOVS L2 agent. Related to the Functional tests section of the\n""Restructure L2 agent "" spec @\nI51a351a53ab896661b65a18bc2993a7ed232b0ac\n\nChange-Id: I5b3149b2b8502b9b9a36d3e20d909872cc17f8e8\n'}, {'number': 2, 'created': '2014-12-16 14:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f8ddee9eb935aef97a5e9eaa9a3b50b175e8a278', 'message': 'Adds base in-tree functional testing of the ovs_neutron_agent\n\nBase setup and utility methods for functional testing of the\nOVS L2 agent. Related to the Functional tests section of the\n""Restructure L2 agent "" spec @\nI51a351a53ab896661b65a18bc2993a7ed232b0ac\n\nChange-Id: I5b3149b2b8502b9b9a36d3e20d909872cc17f8e8\n'}, {'number': 3, 'created': '2014-12-23 16:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0f426500c23a5591d235de32adda3904765dada5', 'message': 'Adds base in-tree functional testing of the ovs_neutron_agent\n\nBase setup and utility methods for functional testing of the\nOVS L2 agent. Related to the Functional tests section of the\n""Restructure L2 agent "" spec @\nI51a351a53ab896661b65a18bc2993a7ed232b0ac\n\nChange-Id: I5b3149b2b8502b9b9a36d3e20d909872cc17f8e8\n'}, {'number': 4, 'created': '2014-12-23 16:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/74c956bc60872a4a5e1c422cb94f96680a2de330', 'message': 'Adds base in-tree functional testing of the ovs_neutron_agent\n\nBase setup and utility methods for functional testing of the\nOVS L2 agent. Related to the Functional tests section of the\n""Restructure L2 agent "" spec @\nI51a351a53ab896661b65a18bc2993a7ed232b0ac\n\nChange-Id: I5b3149b2b8502b9b9a36d3e20d909872cc17f8e8\n'}, {'number': 5, 'created': '2014-12-29 13:58:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5ec72d53189d1fd39d38c7b0a1f7c02c7068a959', 'message': 'Adds base in-tree functional testing of the ovs_neutron_agent\n\nBase setup and utility methods for functional testing of the\nOVS L2 agent. Related to the Functional tests section of the\n""Restructure L2 agent "" spec @\nI51a351a53ab896661b65a18bc2993a7ed232b0ac\n\nChange-Id: I5b3149b2b8502b9b9a36d3e20d909872cc17f8e8\n'}, {'number': 6, 'created': '2015-04-23 22:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0adf8ed33ae2e1b7d98f6a283c14cbc9142db136', 'message': 'Adds base in-tree functional testing of the ovs_neutron_agent\n\nBase setup and utility methods for functional testing of the\nOVS L2 agent.\n\nPartially-Implements: blueprint restructure-l2-agent\nCo-Authored-By: Marios Andreou <marios@redhat.com>\n\nChange-Id: I5b3149b2b8502b9b9a36d3e20d909872cc17f8e8\n'}, {'number': 7, 'created': '2015-04-24 15:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b730a55343c70df12a9354b581d162b7f1641e14', 'message': 'Adds base in-tree functional testing of the ovs_neutron_agent\n\nBase setup and utility methods for functional testing of the\nOVS L2 agent.\n\nPartially-Implements: blueprint restructure-l2-agent\nCo-Authored-By: Marios Andreou <marios@redhat.com>\n\nChange-Id: I5b3149b2b8502b9b9a36d3e20d909872cc17f8e8\n'}, {'number': 8, 'created': '2015-04-27 11:36:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/172a41cf7538e6ac2536281a04ec03da1c5f5184', 'message': 'Adds base in-tree functional testing of the ovs_neutron_agent\n\nBase setup and utility methods for functional testing of the\nOVS L2 agent.\n\nPartially-Implements: blueprint restructure-l2-agent\nCo-Authored-By: Marios Andreou <marios@redhat.com>\n\nChange-Id: I5b3149b2b8502b9b9a36d3e20d909872cc17f8e8\n'}, {'number': 9, 'created': '2015-04-27 21:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9831d95c4474518fd325073481bd9504e5377e4b', 'message': 'Adds base in-tree functional testing of the ovs_neutron_agent\n\nBase setup and utility methods for functional testing of the\nOVS L2 agent.\n\nPartially-Implements: blueprint restructure-l2-agent\nCo-Authored-By: Marios Andreou <marios@redhat.com>\n\nChange-Id: I5b3149b2b8502b9b9a36d3e20d909872cc17f8e8\n'}, {'number': 10, 'created': '2015-04-28 10:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9236f49bd25923b357f5e9f3436fe9f3196ddff1', 'message': 'Adds base in-tree functional testing of the ovs_neutron_agent\n\nBase setup and utility methods for functional testing of the\nOVS L2 agent.\n\nPartially-Implements: blueprint restructure-l2-agent\nCo-Authored-By: Marios Andreou <marios@redhat.com>\n\nChange-Id: I5b3149b2b8502b9b9a36d3e20d909872cc17f8e8\n'}, {'number': 11, 'created': '2015-05-04 12:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e054bcc5a9b08f776404a58410ca3ff64a1df07e', 'message': 'Adds base in-tree functional testing of the ovs_neutron_agent\n\nBase setup and utility methods for functional testing of the\nOVS L2 agent.\n\nPartially-Implements: blueprint restructure-l2-agent\nCo-Authored-By: Marios Andreou <marios@redhat.com>\n\nChange-Id: I5b3149b2b8502b9b9a36d3e20d909872cc17f8e8\n'}, {'number': 12, 'created': '2015-05-05 13:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/57256a482f9f38dd3fe888758b1b94a7ffd6bf48', 'message': 'Adds base in-tree functional testing of the ovs_neutron_agent\n\nBase setup and utility methods for functional testing of the\nOVS L2 agent.\n\nPartially-Implements: blueprint restructure-l2-agent\nCo-Authored-By: Marios Andreou <marios@redhat.com>\n\nChange-Id: I5b3149b2b8502b9b9a36d3e20d909872cc17f8e8\n'}, {'number': 13, 'created': '2015-05-06 15:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/36c7f57029b1336af597f0d0cb1584afbfae634c', 'message': 'Adds base in-tree functional testing of the ovs_neutron_agent\n\nBase setup and utility methods for functional testing of the\nOVS L2 agent.\n\nPartially-Implements: blueprint restructure-l2-agent\nCo-Authored-By: Marios Andreou <marios@redhat.com>\n\nChange-Id: I5b3149b2b8502b9b9a36d3e20d909872cc17f8e8\n'}, {'number': 14, 'created': '2015-05-17 17:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2280229c53f73870546a3742b7ef0bf02465a33b', 'message': 'Adds base in-tree functional testing of the ovs_neutron_agent\n\nBase setup and utility methods for functional testing of the\nOVS L2 agent.\n\nPartially-Implements: blueprint restructure-l2-agent\nCo-Authored-By: Marios Andreou <marios@redhat.com>\n\nChange-Id: I5b3149b2b8502b9b9a36d3e20d909872cc17f8e8\n'}, {'number': 15, 'created': '2015-05-17 17:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bc6222f4ec5884a66c658aa23bd153cde2f65f2a', 'message': 'Adds base in-tree functional testing of the ovs_neutron_agent\n\nBase setup and utility methods for functional testing of the\nOVS L2 agent.\n\nPartially-Implements: blueprint restructure-l2-agent\nCo-Authored-By: Marios Andreou <marios@redhat.com>\n\nChange-Id: I5b3149b2b8502b9b9a36d3e20d909872cc17f8e8\n'}, {'number': 16, 'created': '2015-05-20 22:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc7efa3688a65c76c69255367d5c085e79b396c7', 'message': 'Adds base in-tree functional testing of the ovs_neutron_agent\n\nBase setup and utility methods for functional testing of the\nOVS L2 agent.\n\nPartially-Implements: blueprint restructure-l2-agent\nCo-Authored-By: Marios Andreou <marios@redhat.com>\n\nChange-Id: I5b3149b2b8502b9b9a36d3e20d909872cc17f8e8\n'}, {'number': 17, 'created': '2015-06-03 12:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c2e51691c9f02d6333584deff3d9d4f99413b064', 'message': 'Adds base in-tree functional testing of the ovs_neutron_agent\n\nBase setup and utility methods for functional testing of the\nOVS L2 agent.\n\nPartially-Implements: blueprint restructure-l2-agent\nCo-Authored-By: Marios Andreou <marios@redhat.com>\n\nChange-Id: I5b3149b2b8502b9b9a36d3e20d909872cc17f8e8\n'}, {'number': 18, 'created': '2015-06-04 15:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b700f0e134dce9dba0a140ae4731add9a7931037', 'message': 'Adds base in-tree functional testing of the ovs_neutron_agent\n\nBase setup and utility methods for functional testing of the\nOVS L2 agent.\n\nPartially-Implements: blueprint restructure-l2-agent\nCo-Authored-By: Marios Andreou <marios@redhat.com>\n\nChange-Id: I5b3149b2b8502b9b9a36d3e20d909872cc17f8e8\n'}, {'number': 19, 'created': '2015-06-08 13:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d2d80b562256d932b02cfb8a1b30aaa3f77b72e', 'message': 'Adds base in-tree functional testing of the ovs_neutron_agent\n\nBase setup and utility methods for functional testing of the\nOVS L2 agent.\n\nPartially-Implements: blueprint restructure-l2-agent\nCo-Authored-By: Marios Andreou <marios@redhat.com>\n\nChange-Id: I5b3149b2b8502b9b9a36d3e20d909872cc17f8e8\n'}, {'number': 20, 'created': '2015-06-11 13:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e2bb8e87024d5fbd4830bfe070dc9dfb0f57e08d', 'message': 'Adds base in-tree functional testing of the ovs_neutron_agent\n\nBase setup and utility methods for functional testing of the\nOVS L2 agent.\n\nPartially-Implements: blueprint restructure-l2-agent\nCo-Authored-By: Marios Andreou <marios@redhat.com>\n\nChange-Id: I5b3149b2b8502b9b9a36d3e20d909872cc17f8e8\n'}, {'number': 21, 'created': '2015-06-11 14:48:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/91c227f165e610f8cb410123bfbdfde60b561a16', 'message': 'Adds base in-tree functional testing of the ovs_neutron_agent\n\nBase setup and utility methods for functional testing of the\nOVS L2 agent.\n\nPartially-Implements: blueprint restructure-l2-agent\nCo-Authored-By: Marios Andreou <marios@redhat.com>\n\nChange-Id: I5b3149b2b8502b9b9a36d3e20d909872cc17f8e8\n'}, {'number': 22, 'created': '2015-06-12 09:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/66c477af625795f407028dfb3834c2d022128037', 'message': 'Adds base in-tree functional testing of the ovs_neutron_agent\n\nBase setup and utility methods for functional testing of the\nOVS L2 agent.\n\nPartially-Implements: blueprint restructure-l2-agent\nCo-Authored-By: Marios Andreou <marios@redhat.com>\n\nChange-Id: I5b3149b2b8502b9b9a36d3e20d909872cc17f8e8\n'}, {'number': 23, 'created': '2015-06-16 23:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b1e2e78db1180c8de7ecb0deee37df242d0ba3ba', 'message': 'Adds base in-tree functional testing of the ovs_neutron_agent\n\nBase setup and utility methods for functional testing of the\nOVS L2 agent.\n\nPartially-Implements: blueprint restructure-l2-agent\nCo-Authored-By: Marios Andreou <marios@redhat.com>\n\nChange-Id: I5b3149b2b8502b9b9a36d3e20d909872cc17f8e8\n'}, {'number': 24, 'created': '2015-06-16 23:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9cdbcbe4d489179aaafd5df89a060c32442056e1', 'message': 'Adds base in-tree functional testing of the ovs_neutron_agent\n\nBase setup and utility methods for functional testing of the\nOVS L2 agent.\n\nPartially-Implements: blueprint restructure-l2-agent\nCo-Authored-By: Marios Andreou <marios@redhat.com>\n\nChange-Id: I5b3149b2b8502b9b9a36d3e20d909872cc17f8e8\n'}, {'number': 25, 'created': '2015-06-17 01:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/148899ad8abf0e62ef7fba6bc2b193d39cd9b5db', 'message': 'Adds base in-tree functional testing of the ovs_neutron_agent\n\nBase setup and utility methods for functional testing of the\nOVS L2 agent.\n\nPartially-Implements: blueprint restructure-l2-agent\nCo-Authored-By: Rossella Sblendido <rsblendido@suse.com>\n\nChange-Id: I5b3149b2b8502b9b9a36d3e20d909872cc17f8e8\n'}, {'number': 26, 'created': '2015-06-19 14:03:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ea579694762093131ced2fd43621e898be554b00', 'message': 'Adds base in-tree functional testing of the ovs_neutron_agent\n\nBase setup and utility methods for functional testing of the\nOVS L2 agent.\n\nPartially-Implements: blueprint restructure-l2-agent\nCo-Authored-By: Marios Andreou <marios@redhat.com>\n\nChange-Id: I5b3149b2b8502b9b9a36d3e20d909872cc17f8e8\n'}, {'number': 27, 'created': '2015-06-29 15:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4749937ed3b05e771d9c43671d83b444255b6de2', 'message': 'Adds base in-tree functional testing of the ovs_neutron_agent\n\nBase setup and utility methods for functional testing of the\nOVS L2 agent.\n\nPartially-Implements: blueprint restructure-l2-agent\nCo-Authored-By: Marios Andreou <marios@redhat.com>\n\nChange-Id: I5b3149b2b8502b9b9a36d3e20d909872cc17f8e8\n'}, {'number': 28, 'created': '2015-06-29 21:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6e9bca2658beabc5640156cf15ba5e2716c25156', 'message': 'Adds base in-tree functional testing of the ovs_neutron_agent\n\nBase setup and utility methods for functional testing of the\nOVS L2 agent.\n\nPartially-Implements: blueprint restructure-l2-agent\nCo-Authored-By: Marios Andreou <marios@redhat.com>\n\nChange-Id: I5b3149b2b8502b9b9a36d3e20d909872cc17f8e8\n'}, {'number': 29, 'created': '2015-06-29 21:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7101a8e5b3dd9d1890ace60adcd7b3e41bbf2493', 'message': 'Adds base in-tree functional testing of the ovs_neutron_agent\n\nBase setup and utility methods for functional testing of the\nOVS L2 agent.\n\nPartially-Implements: blueprint restructure-l2-agent\nCo-Authored-By: Rossella Sblendido <rsblendido@suse.com>\n\nChange-Id: I5b3149b2b8502b9b9a36d3e20d909872cc17f8e8\n'}, {'number': 30, 'created': '2015-06-30 09:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/39f7a5a0f21e4c286cf6a10d69197add73ac05ad', 'message': 'Adds base in-tree functional testing of the ovs_neutron_agent\n\nBase setup and utility methods for functional testing of the\nOVS L2 agent.\n\nPartially-Implements: blueprint restructure-l2-agent\nCo-Authored-By: Rossella Sblendido <rsblendido@suse.com>\n\nChange-Id: I5b3149b2b8502b9b9a36d3e20d909872cc17f8e8\n'}, {'number': 31, 'created': '2015-06-30 13:01:35.000000000', 'files': ['neutron/tests/functional/agent/test_l2_ovs_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/21ff82d9d33313bb88e5970c7b1829a65f195d33', 'message': 'Adds base in-tree functional testing of the ovs_neutron_agent\n\nBase setup and utility methods for functional testing of the\nOVS L2 agent.\n\nPartially-Implements: blueprint restructure-l2-agent\nCo-Authored-By: Rossella Sblendido <rsblendido@suse.com>\n\nChange-Id: I5b3149b2b8502b9b9a36d3e20d909872cc17f8e8\n'}]",137,140042,21ff82d9d33313bb88e5970c7b1829a65f195d33,656,46,31,8449,,,0,"Adds base in-tree functional testing of the ovs_neutron_agent

Base setup and utility methods for functional testing of the
OVS L2 agent.

Partially-Implements: blueprint restructure-l2-agent
Co-Authored-By: Rossella Sblendido <rsblendido@suse.com>

Change-Id: I5b3149b2b8502b9b9a36d3e20d909872cc17f8e8
",git fetch https://review.opendev.org/openstack/neutron refs/changes/42/140042/19 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/test_l2_ovs_agent.py'],1,77a17e405f4fc1e94d9ed6eb22b7e2b5ad64e262,bp/restructure-l2-agent,"# Copyright (c) 2014 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from neutron.agent.common import config as agent_config from neutron.agent.linux import interface from neutron.agent.linux import ovs_lib from neutron.openstack.common import log as logging from neutron.plugins.common import constants as p_const from neutron.plugins.openvswitch.agent import ovs_neutron_agent as ovs_agent from neutron.plugins.openvswitch.common import config as ovs_config from neutron.tests.functional.agent.linux import base from oslo.config import cfg LOG = logging.getLogger(__name__) class L2AgentOVSTestFramework(base.BaseOVSLinuxTestCase): br_int = ""test-br-int"" br_tun = ""test-br-tun"" patch_tun = ""%s-patch-tun"" % br_int patch_int = ""%s-patch-int"" % br_tun def setUp(self): super(L2AgentOVSTestFramework, self).setUp() self.check_sudo_enabled() plugin_str = ('neutron.plugins.openvswitch.agent.' + 'ovs_neutron_agent.OVSPluginApi') mock.patch(plugin_str).start() self.agent = None self._configure_agent() self.ovs = ovs_lib.BaseOVS(cfg.CONF.root_helper) def _configure_agent(self): cfg.CONF.register_opts(interface.OPTS) cfg.CONF.register_opts(ovs_config.ovs_opts) agent_config.register_interface_driver_opts_helper(cfg.CONF) cfg.CONF.set_override('interface_driver', 'neutron.agent.linux.interface.OVSInterfaceDriver') cfg.CONF.set_override('integration_bridge', self.br_int) cfg.CONF.set_override('ovs_integration_bridge', self.br_int) cfg.CONF.set_override('tunnel_bridge', self.br_tun) cfg.CONF.set_override(""int_peer_patch_port"", self.patch_tun, ""OVS"") cfg.CONF.set_override(""tun_peer_patch_port"", self.patch_int, ""OVS"") def new_agent(self, tunnel_types=p_const.TYPE_VXLAN): local_ip = '192.168.1.1' bridge_mappings = {} self.agent = ovs_agent.OVSNeutronAgent(self.br_int, self.br_tun, local_ip, bridge_mappings, cfg.CONF.root_helper, polling_interval=10, tunnel_types=tunnel_types) if tunnel_types: self.addCleanup(self._cleanup_bridges, [self.br_int, self.br_tun]) else: self.addCleanup(self._cleanup_bridges, [self.br_int]) def _cleanup_bridges(self, bridges=[]): ovs = ovs_lib.BaseOVS(cfg.CONF.root_helper) for bridge in bridges: ovs.delete_bridge(bridge) def assert_bridge(self, br, exists=True): if exists: self.assertEqual(True, self.ovs.bridge_exists(br)) else: self.assertEqual(False, self.ovs.bridge_exists(br)) def assert_bridges(self): for br in (self.br_tun, self.br_int): self.assert_bridge(br, exists=True) def assert_patch_ports(self): ovs_res = self.ovs.run_vsctl(['show']) ports = [self.patch_tun, self.patch_int] for i, port in enumerate(ports): toks = ovs_res.split(""Interface %s"" % port) self.assertTrue('options: {peer=%s}' % ports[(i + 1) % 2] in toks[1]) def assert_bridge_ports(self, port_names=[]): for port in [self.patch_tun, self.patch_int]: self.assertTrue(self.ovs.port_exists(port)) class L2AgentOVSTestCase(L2AgentOVSTestFramework): def test_assert_bridges_ports_vxlan(self): self.new_agent(tunnel_types=p_const.TYPE_VXLAN) self.assert_bridges() self.assert_bridge_ports() self.assert_patch_ports() def test_assert_bridges_ports_no_tunnel(self): self.new_agent(tunnel_types=None) self.assert_bridge(self.br_int) self.assert_bridge(self.br_tun, exists=False) ",,113,0
openstack%2Fmistral~master~I9f07ed3565fe7169f2831a435e4e76a49af34f6c,openstack/mistral,master,I9f07ed3565fe7169f2831a435e4e76a49af34f6c,Fix inappropriate condition for retry policy,MERGED,2015-06-29 08:26:09.000000000,2015-07-01 11:07:31.000000000,2015-07-01 11:07:29.000000000,"[{'_account_id': 3}, {'_account_id': 5558}, {'_account_id': 6732}, {'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9432}]","[{'number': 1, 'created': '2015-06-29 08:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/a90f41823f2d745fbf63a3eb570aa81ee4a0d14f', 'message': 'Fix inappropriate condition for retry policy\n\nWhen retry policy is used without continue-on clause, the retry iteration\nwill still be scheduled even if the task succeeds.\n\nThis patch fixes the problem by return when task succeeds with retry policy.\n\nChange-Id: I9f07ed3565fe7169f2831a435e4e76a49af34f6c\nCloses-Bug: #1469330\n'}, {'number': 2, 'created': '2015-06-30 09:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/813adc970f50593ea203efabccebdf30d20f3f76', 'message': 'Fix inappropriate condition for retry policy\n\nWhen retry policy is used without continue-on clause, the retry iteration\nwill still be scheduled even if the task succeeds.\n\nThis patch fixes the problem by return when task succeeds with retry policy.\n\nChange-Id: I9f07ed3565fe7169f2831a435e4e76a49af34f6c\nCloses-Bug: #1469330\n'}, {'number': 3, 'created': '2015-07-01 02:39:12.000000000', 'files': ['mistral/tests/unit/engine/test_policies.py', 'mistral/engine/policies.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/40e98c4c5e0ebb9fba0578ffa675c2fef2a1e267', 'message': 'Fix inappropriate condition for retry policy\n\nWhen retry policy is used without continue-on clause, the retry iteration\nwill still be scheduled even if the task succeeds.\n\nThis patch fixes the problem by return when task succeeds with retry policy.\n\nChange-Id: I9f07ed3565fe7169f2831a435e4e76a49af34f6c\nCloses-Bug: #1469330\n'}]",7,196579,40e98c4c5e0ebb9fba0578ffa675c2fef2a1e267,27,6,3,6732,,,0,"Fix inappropriate condition for retry policy

When retry policy is used without continue-on clause, the retry iteration
will still be scheduled even if the task succeeds.

This patch fixes the problem by return when task succeeds with retry policy.

Change-Id: I9f07ed3565fe7169f2831a435e4e76a49af34f6c
Closes-Bug: #1469330
",git fetch https://review.opendev.org/openstack/mistral refs/changes/79/196579/3 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/tests/unit/engine/test_policies.py', 'mistral/engine/policies.py']",2,a90f41823f2d745fbf63a3eb570aa81ee4a0d14f,bug/1469330, continue_triggered = (task_ex.state == states.SUCCESS and not self._continue_on) continue_triggered = (continue_triggered or (self._continue_on and not continue_on)), continue_triggered = self._continue_on and not continue_on,38,1
openstack%2Fironic~master~I6561ec8523d9bcb647255417824ab70d4203e3d1,openstack/ironic,master,I6561ec8523d9bcb647255417824ab70d4203e3d1,Mute ipmi debug log output,MERGED,2015-06-26 22:23:14.000000000,2015-07-01 11:05:45.000000000,2015-07-01 11:05:42.000000000,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 5805}, {'_account_id': 6610}, {'_account_id': 6773}, {'_account_id': 7711}, {'_account_id': 8106}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 12356}, {'_account_id': 12459}, {'_account_id': 14760}]","[{'number': 1, 'created': '2015-06-26 22:23:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/aa6665575e369b96eaef5bcdf4cf6795a977f474', 'message': ""Explain ipmitool debug log output\n\nWe run ipmitool with the -h flag to confirm what command-line\nflags it has. Unfortunately, this creates output in the debug\nlogs which can be confusing since it looks like something broke.\nLog an additional comment letting the user know what's happening.\n\nChange-Id: I6561ec8523d9bcb647255417824ab70d4203e3d1\nCloses-Bug: #1469235\n""}, {'number': 2, 'created': '2015-06-27 01:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7d6a16d4382944c43bfc67663a43d80348f49714', 'message': 'Mute ipmi debug log output\n\nWe run ipmitool with the -h flag to confirm what command-line\nflags it has. Unfortunately, this creates output in the debug\nlogs which can be confusing since it looks like something broke.\nUse subprocess.check_call to confirm we have the right options,\nand redirect the noisy, misleading output.\n\nChange-Id: I6561ec8523d9bcb647255417824ab70d4203e3d1\nCloses-Bug: #1469235\n'}, {'number': 3, 'created': '2015-06-29 18:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0b2a91744a1659c6705b49aa342c70c35f742d0b', 'message': 'Mute ipmi debug log output\n\nWe run ipmitool with the -h flag to confirm what command-line\nflags it has. Unfortunately, this creates output in the debug\nlogs which can be confusing since it looks like something broke.\nUse subprocess.check_call to confirm we have the right options,\nand redirect the noisy, misleading output.\n\nChange-Id: I6561ec8523d9bcb647255417824ab70d4203e3d1\nCloses-Bug: #1469235\n'}, {'number': 4, 'created': '2015-06-30 18:54:52.000000000', 'files': ['ironic/tests/drivers/test_ipmitool.py', 'ironic/drivers/modules/ipmitool.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d667f8cfe2fa3acdfcd58487a96d242361079ae0', 'message': 'Mute ipmi debug log output\n\nWe run ipmitool with the -h flag to confirm what command-line\nflags it has. Unfortunately, this creates output in the debug\nlogs which can be confusing since it looks like something broke.\nUse subprocess.check_call to confirm we have the right options,\nand redirect the noisy, misleading output.\n\nChange-Id: I6561ec8523d9bcb647255417824ab70d4203e3d1\nCloses-Bug: #1469235\n'}]",13,196267,d667f8cfe2fa3acdfcd58487a96d242361079ae0,38,12,4,12459,,,0,"Mute ipmi debug log output

We run ipmitool with the -h flag to confirm what command-line
flags it has. Unfortunately, this creates output in the debug
logs which can be confusing since it looks like something broke.
Use subprocess.check_call to confirm we have the right options,
and redirect the noisy, misleading output.

Change-Id: I6561ec8523d9bcb647255417824ab70d4203e3d1
Closes-Bug: #1469235
",git fetch https://review.opendev.org/openstack/ironic refs/changes/67/196267/4 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/ipmitool.py'],1,aa6665575e369b96eaef5bcdf4cf6795a977f474,bug/1469235," LOG.debug('Checking option %(opt)s; please ' 'disregard the following ipmitool ' 'output.', {'opt': opt})",,3,0
openstack%2Fdesignate~master~I2c7f31355491a272abef901f43e9ffdddf371250,openstack/designate,master,I2c7f31355491a272abef901f43e9ffdddf371250,DevStack: Keystone V3 User Creation,MERGED,2015-06-30 21:01:57.000000000,2015-07-01 11:05:08.000000000,2015-07-01 11:05:07.000000000,"[{'_account_id': 3}, {'_account_id': 8099}]","[{'number': 1, 'created': '2015-06-30 21:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/8b52508d900cf8e3a927bcdce8a6153f2c3f4f3f', 'message': 'DevStack: Keystone V3 User Creation\n\nDevStack is moving to Keystone V3 for various KS\nrelated tasks, and the API for several methods is\nchanging.\n\nChange-Id: I2c7f31355491a272abef901f43e9ffdddf371250\nDepends-On: I6ef50fd384d423bc0f13ee1016a8bdbb0650ecd9\n'}, {'number': 2, 'created': '2015-07-01 10:07:59.000000000', 'files': ['contrib/devstack/lib/designate'], 'web_link': 'https://opendev.org/openstack/designate/commit/2ccb4b3c0e27e430b98d0e4a8a27f6bbad08f43c', 'message': 'DevStack: Keystone V3 User Creation\n\nDevStack is moving to Keystone V3 for various KS\nrelated tasks, and the API for several methods is\nchanging.\n\nChange-Id: I2c7f31355491a272abef901f43e9ffdddf371250\nDepends-On: I6ef50fd384d423bc0f13ee1016a8bdbb0650ecd9\n'}]",0,197316,2ccb4b3c0e27e430b98d0e4a8a27f6bbad08f43c,8,2,2,741,,,0,"DevStack: Keystone V3 User Creation

DevStack is moving to Keystone V3 for various KS
related tasks, and the API for several methods is
changing.

Change-Id: I2c7f31355491a272abef901f43e9ffdddf371250
Depends-On: I6ef50fd384d423bc0f13ee1016a8bdbb0650ecd9
",git fetch https://review.opendev.org/openstack/designate refs/changes/16/197316/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/devstack/lib/designate'],1,8b52508d900cf8e3a927bcdce8a6153f2c3f4f3f,," local designate_user=$(get_or_create_user ""designate"" ""default"" \"," local designate_user=$(get_or_create_user ""designate"" \",1,1
openstack%2Fheat~master~I37208679f0699d088a7ca632a409d8675cad72c4,openstack/heat,master,I37208679f0699d088a7ca632a409d8675cad72c4,Fixes JSON to YAML conversion bug,MERGED,2015-06-12 23:57:28.000000000,2015-07-01 11:00:55.000000000,2015-07-01 11:00:53.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 4715}, {'_account_id': 6498}, {'_account_id': 7404}, {'_account_id': 12114}]","[{'number': 1, 'created': '2015-06-12 23:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b69fd342a74cb2a167e0fa5379c52b22c0592bfd', 'message': ""Fixes JSON to YAML conversion bug\n\nPreviously running cfn-json2yaml would generate valid YAML, but the\nHOT file would not work. The key mappings it generates had 64 instead\nof '64'. Since 64 in YAML is a number and not a string, the template\ncannot find the key '64' as it is not a string value.\n\nTurns out this issue was caused by simply forgetting to explicitly\nre-add quotation marks after converting from a python object to YAML.\n\nIn the conversion code (heat/common/template_format.py), the json\nstring is first converted into a python object via yaml.load. Next\nthe python object gets converted to yaml via yaml.dump.\n\nFor example:\nu'__00015__order__32': u'F17-i386-cfntools' in the python object gets\nconverted to __00015__order__32: F17-i386-cfntools in yaml.\n\nCrucially in YAML, all strings are not explicity quoted except for\nstrings that contain only digits. For instance, numerical strings like\n'32' will automatically get quoted when using yaml.dump\n\nNormally this would be fine, but a subtle problem arises in the\nnext line of code:\n\nyml = re.sub('__\\d*__order__', '', yml)\n\nBy removing all instances of the order substring in the yaml, previous\nalphanumeric strings become numeric-only strings. However, since this\nstep comes after the call to yaml.dump, quotes are not explicity set\nanymore!\n\nso for example:\n__00015__order__32: F17-i386-cfntool becomes 32: F17-i386-cfntool\n\nThen in YAML, the key 32 is now interpreted as number 32 and not\nwhat we wanted, which is a string '32'\n\nSo to help fix this issue, replace all numeric-only keys with quoted\nkeys. For example:\n32: F17-i386-cfntool becomes '32': F17-i386-cfntool\nThis helps to fix the issue of not finding the numerical keys in\nthe HOT yaml file.\n\nChange-Id: I37208679f0699d088a7ca632a409d8675cad72c4\nCloses-Bug: #1286380\n""}, {'number': 2, 'created': '2015-06-25 22:25:52.000000000', 'files': ['heat/common/template_format.py', 'heat/tests/test_template_format.py', 'heat/tests/templates/WordPress_Single_Instance.template'], 'web_link': 'https://opendev.org/openstack/heat/commit/41e879ade7757ee329b5404042c200b0ba6dfe87', 'message': ""Fixes JSON to YAML conversion bug\n\nPreviously running cfn-json2yaml would generate valid YAML, but the\nHOT file would not work. The key mappings it generates had 64 instead\nof '64'. Since 64 in YAML is a number and not a string, the template\ncannot find the key '64' as it is not a string value.\n\nTurns out this issue was caused by simply forgetting to explicitly\nre-add quotation marks after converting from a python object to YAML.\n\nIn the conversion code (heat/common/template_format.py), the json\nstring is first converted into a python object via yaml.load. Next\nthe python object gets converted to yaml via yaml.dump.\n\nFor example:\nu'__00015__order__32': u'F17-i386-cfntools' in the python object gets\nconverted to __00015__order__32: F17-i386-cfntools in yaml.\n\nCrucially in YAML, all strings are not explicity quoted except for\nstrings that contain only digits. For instance, numerical strings like\n'32' will automatically get quoted when using yaml.dump\n\nNormally this would be fine, but a subtle problem arises in the\nnext line of code:\n\nyml = re.sub('__\\d*__order__', '', yml)\n\nBy removing all instances of the order substring in the yaml, previous\nalphanumeric strings become numeric-only strings. However, since this\nstep comes after the call to yaml.dump, quotes are not explicity set\nanymore!\n\nso for example:\n__00015__order__32: F17-i386-cfntool becomes 32: F17-i386-cfntool\n\nThen in YAML, the key 32 is now interpreted as number 32 and not\nwhat we wanted, which is a string '32'\n\nSo to help fix this issue, replace all numeric-only keys with quoted\nkeys. For example:\n32: F17-i386-cfntool becomes '32': F17-i386-cfntool\nThis helps to fix the issue of not finding the numerical keys in\nthe HOT yaml file.\n\nChange-Id: I37208679f0699d088a7ca632a409d8675cad72c4\nCloses-Bug: #1286380\nCloses-Bug: #1467029\nCloses-Bug: #1467026\n""}]",1,191311,41e879ade7757ee329b5404042c200b0ba6dfe87,17,6,2,12114,,,0,"Fixes JSON to YAML conversion bug

Previously running cfn-json2yaml would generate valid YAML, but the
HOT file would not work. The key mappings it generates had 64 instead
of '64'. Since 64 in YAML is a number and not a string, the template
cannot find the key '64' as it is not a string value.

Turns out this issue was caused by simply forgetting to explicitly
re-add quotation marks after converting from a python object to YAML.

In the conversion code (heat/common/template_format.py), the json
string is first converted into a python object via yaml.load. Next
the python object gets converted to yaml via yaml.dump.

For example:
u'__00015__order__32': u'F17-i386-cfntools' in the python object gets
converted to __00015__order__32: F17-i386-cfntools in yaml.

Crucially in YAML, all strings are not explicity quoted except for
strings that contain only digits. For instance, numerical strings like
'32' will automatically get quoted when using yaml.dump

Normally this would be fine, but a subtle problem arises in the
next line of code:

yml = re.sub('__\d*__order__', '', yml)

By removing all instances of the order substring in the yaml, previous
alphanumeric strings become numeric-only strings. However, since this
step comes after the call to yaml.dump, quotes are not explicity set
anymore!

so for example:
__00015__order__32: F17-i386-cfntool becomes 32: F17-i386-cfntool

Then in YAML, the key 32 is now interpreted as number 32 and not
what we wanted, which is a string '32'

So to help fix this issue, replace all numeric-only keys with quoted
keys. For example:
32: F17-i386-cfntool becomes '32': F17-i386-cfntool
This helps to fix the issue of not finding the numerical keys in
the HOT yaml file.

Change-Id: I37208679f0699d088a7ca632a409d8675cad72c4
Closes-Bug: #1286380
Closes-Bug: #1467029
Closes-Bug: #1467026
",git fetch https://review.opendev.org/openstack/heat refs/changes/11/191311/2 && git format-patch -1 --stdout FETCH_HEAD,['heat/common/template_format.py'],1,b69fd342a74cb2a167e0fa5379c52b22c0592bfd,bug/1286380," # convert integer keys back to string yml = re.sub('([{,\s])(\d+?):', r""\1'\2'"", yml)",,3,0
openstack%2Fheat~master~I9cda70f60c3c7651e433f9464ea5926d64659721,openstack/heat,master,I9cda70f60c3c7651e433f9464ea5926d64659721,Fix validation error for  parameter group,MERGED,2015-06-30 06:08:04.000000000,2015-07-01 11:00:44.000000000,2015-07-01 11:00:42.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 7193}, {'_account_id': 7256}, {'_account_id': 7404}, {'_account_id': 8246}, {'_account_id': 8833}, {'_account_id': 10487}, {'_account_id': 12363}, {'_account_id': 13009}, {'_account_id': 13323}, {'_account_id': 14676}]","[{'number': 1, 'created': '2015-06-30 06:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1162265b6b12815bbd19ebad2a3c3e103a2cd889', 'message': 'Fix valdaition error for  parameter group\n\nFix bug introduced by change\nI2b1b096b314b52b2a51d09c47c46b902e6647c59\n\nChange-Id: I9cda70f60c3c7651e433f9464ea5926d64659721\nCloses-Bug: #1465110\n'}, {'number': 2, 'created': '2015-06-30 06:09:05.000000000', 'files': ['heat/tests/test_validate.py', 'heat/engine/parameter_groups.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/bb15fcc3be17769c95884059f00887c24ef7126b', 'message': 'Fix validation error for  parameter group\n\nFix bug introduced by change\nI2b1b096b314b52b2a51d09c47c46b902e6647c59\n\nChange-Id: I9cda70f60c3c7651e433f9464ea5926d64659721\nCloses-Bug: #1465110\n'}]",0,196956,bb15fcc3be17769c95884059f00887c24ef7126b,24,12,2,8833,,,0,"Fix validation error for  parameter group

Fix bug introduced by change
I2b1b096b314b52b2a51d09c47c46b902e6647c59

Change-Id: I9cda70f60c3c7651e433f9464ea5926d64659721
Closes-Bug: #1465110
",git fetch https://review.opendev.org/openstack/heat refs/changes/56/196956/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_validate.py', 'heat/engine/parameter_groups.py']",2,1162265b6b12815bbd19ebad2a3c3e103a2cd889,bug/1465110," path=[PARAMETER_GROUPS, group.get('label', '')], path=[PARAMETER_GROUPS, group.get('label', '')], path=[PARAMETER_GROUPS, group.get('label', '')], path=[PARAMETER_GROUPS, group.get('label', '')],"," path=[PARAMETER_GROUPS, group.get('label')], path=[PARAMETER_GROUPS, group.get('label')], path=[PARAMETER_GROUPS, group.get('label')], path=[PARAMETER_GROUPS, group.get('label')],",96,6
openstack%2Fmurano~master~I62252a810a325757a9fd2878d989f909c9ec27f7,openstack/murano,master,I62252a810a325757a9fd2878d989f909c9ec27f7,Use oslo.log,ABANDONED,2015-06-25 10:37:47.000000000,2015-07-01 10:57:35.000000000,,"[{'_account_id': 3}, {'_account_id': 7821}]","[{'number': 1, 'created': '2015-06-25 10:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/eb200f39b1d0d15026ca2cbb28d08dc289e2504f', 'message': 'Use oslo.log\n\nChange-Id: I62252a810a325757a9fd2878d989f909c9ec27f7\n'}, {'number': 2, 'created': '2015-06-25 10:38:05.000000000', 'files': ['murano/common/config.py', 'murano/api/v1/instance_statistics.py', 'murano/api/v1/environments.py', 'murano/engine/system/mistralclient.py', 'murano/engine/system/net_explorer.py', 'murano/api/v1/template_applications.py', 'murano/engine/environment.py', 'murano/api/middleware/version_negotiation.py', 'murano/api/v1/deployments.py', 'murano/common/policy.py', 'murano/db/services/environment_templates.py', 'murano/tests/unit/base.py', 'murano/utils.py', 'openstack-common.conf', 'murano/tests/unit/test_log.py', 'murano/api/v1/sessions.py', 'murano/cmd/manage.py', 'murano/engine/system/status_reporter.py', 'etc/oslo-config-generator/murano.conf', 'murano/policy/model_policy_enforcer.py', 'murano/common/utils.py', 'murano/api/v1/templates.py', 'murano/db/services/core_services.py', 'murano/db/services/environments.py', 'murano/db/catalog/api.py', 'murano/cmd/engine.py', 'murano/common/wsgi.py', 'setup.cfg', 'murano/api/v1/actions.py', 'murano/api/v1/services.py', 'murano/common/engine.py', 'murano/common/plugin_loader.py', 'murano/db/session.py', 'murano/api/middleware/context.py', 'murano/opts.py', 'requirements.txt', 'murano/engine/package_class_loader.py', 'murano/engine/system/instance_reporter.py', 'murano/cmd/api.py', 'murano/common/server.py', 'murano/openstack/common/log.py', 'murano/engine/system/heat_stack.py', 'murano/api/v1/catalog.py', 'murano/cmd/db_manage.py', 'murano/engine/package_loader.py', 'murano/dsl/executor.py', 'murano/tests/unit/db/migration/test_migrations_base.py', 'murano/api/v1/request_statistics.py', 'murano/common/statservice.py', 'murano/engine/system/agent_listener.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/e1d486da54cd658ec6302199c847a9872170041a', 'message': 'Use oslo.log\n\nChange-Id: I62252a810a325757a9fd2878d989f909c9ec27f7\n'}]",0,195506,e1d486da54cd658ec6302199c847a9872170041a,7,2,2,7549,,,0,"Use oslo.log

Change-Id: I62252a810a325757a9fd2878d989f909c9ec27f7
",git fetch https://review.opendev.org/openstack/murano refs/changes/06/195506/2 && git format-patch -1 --stdout FETCH_HEAD,"['murano/common/config.py', 'murano/api/v1/instance_statistics.py', 'murano/api/v1/environments.py', 'murano/engine/system/mistralclient.py', 'murano/engine/system/net_explorer.py', 'murano/api/v1/template_applications.py', 'murano/engine/environment.py', 'murano/api/middleware/version_negotiation.py', 'murano/api/v1/deployments.py', 'murano/common/policy.py', 'murano/db/services/environment_templates.py', 'murano/tests/unit/base.py', 'murano/utils.py', 'openstack-common.conf', 'murano/tests/unit/test_log.py', 'murano/api/v1/sessions.py', 'murano/cmd/manage.py', 'murano/engine/system/status_reporter.py', 'etc/oslo-config-generator/murano.conf', 'murano/policy/model_policy_enforcer.py', 'murano/common/utils.py', 'murano/api/v1/templates.py', 'murano/db/services/core_services.py', 'murano/db/services/environments.py', 'murano/db/catalog/api.py', 'murano/cmd/engine.py', 'murano/common/wsgi.py', 'setup.cfg', 'murano/api/v1/actions.py', 'murano/api/v1/services.py', 'murano/common/engine.py', 'murano/common/plugin_loader.py', 'murano/db/session.py', 'murano/api/middleware/context.py', 'murano/opts.py', 'requirements.txt', 'murano/engine/package_class_loader.py', 'murano/engine/system/instance_reporter.py', 'murano/cmd/api.py', 'murano/common/server.py', 'murano/openstack/common/log.py', 'murano/engine/system/heat_stack.py', 'murano/api/v1/catalog.py', 'murano/cmd/db_manage.py', 'murano/engine/package_loader.py', 'murano/dsl/executor.py', 'murano/tests/unit/db/migration/test_migrations_base.py', 'murano/api/v1/request_statistics.py', 'murano/common/statservice.py', 'murano/engine/system/agent_listener.py']",50,eb200f39b1d0d15026ca2cbb28d08dc289e2504f,remove-openstack-common,from oslo_log import log as logging,from murano.openstack.common import log as logging,72,837
openstack%2Fanchor~master~I1548892a97d82fdcd1a4fe53f24c0fcdb6e35f1f,openstack/anchor,master,I1548892a97d82fdcd1a4fe53f24c0fcdb6e35f1f,Update documentation,MERGED,2015-06-11 06:25:44.000000000,2015-07-01 10:57:14.000000000,2015-07-01 10:57:13.000000000,"[{'_account_id': 3}, {'_account_id': 979}, {'_account_id': 1528}, {'_account_id': 7063}, {'_account_id': 11650}, {'_account_id': 11716}]","[{'number': 1, 'created': '2015-06-11 06:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/anchor/commit/b05f3a44fd4feb34b91a7046a326f4314932d6b4', 'message': 'Update documentation\n\nSplit the README documentation into better section. Refresh the text,\nso that it matches the current code. Ensure the sample config works\nwith the examples.\n\nCloses-bug: 1437703\nChange-Id: I1548892a97d82fdcd1a4fe53f24c0fcdb6e35f1f\n'}, {'number': 2, 'created': '2015-06-22 23:53:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/anchor/commit/515e53f4f23187909e9e5528c6b204b2825d71ee', 'message': 'Update documentation\n\nSplit the README documentation into better section. Refresh the text,\nso that it matches the current code. Ensure the sample config works\nwith the examples.\n\nCloses-bug: 1437703\nChange-Id: I1548892a97d82fdcd1a4fe53f24c0fcdb6e35f1f\n'}, {'number': 3, 'created': '2015-06-23 02:49:48.000000000', 'files': ['config.json', 'CONTRIBUTING.md', 'tools/apparmor.anchor_production', 'README.md', 'tools/apparmor.anchor_debug'], 'web_link': 'https://opendev.org/openstack/anchor/commit/b61edc50200de2a83606ce50a2f0ad40c8c135dc', 'message': 'Update documentation\n\nSplit the README documentation into better section. Refresh the text,\nso that it matches the current code. Ensure the sample config works\nwith the examples.\n\nCloses-bug: 1437703\nChange-Id: I1548892a97d82fdcd1a4fe53f24c0fcdb6e35f1f\n'}]",11,190503,b61edc50200de2a83606ce50a2f0ad40c8c135dc,17,6,3,1528,,,0,"Update documentation

Split the README documentation into better section. Refresh the text,
so that it matches the current code. Ensure the sample config works
with the examples.

Closes-bug: 1437703
Change-Id: I1548892a97d82fdcd1a4fe53f24c0fcdb6e35f1f
",git fetch https://review.opendev.org/openstack/anchor refs/changes/03/190503/1 && git format-patch -1 --stdout FETCH_HEAD,"['config.json', 'CONTRIBUTING.md', 'tools/apparmor.anchor_production', 'README.md', 'tools/apparmor.anchor_debug']",5,b05f3a44fd4feb34b91a7046a326f4314932d6b4,bug/1437703,"@{ANCHOR_BASE}=""/replace/with/path/to/anchor"" @{ANCHOR_VENV}=""@{ANCHOR_BASE}/.venv"" @{ANCHOR_CA_DIR}=""@{ANCHOR_BASE}/CA"" @{ANCHOR_CERTS_DIR}=""@{ANCHOR_BASE}/certs"" @{ANCHOR_BASE}/ r, @{ANCHOR_BASE}/bin/anchor_debug mixr, @{ANCHOR_VENV}/bin/pecan cix, @{ANCHOR_CA_DIR}/* r, @{ANCHOR_CERTS_DIR}/{,*.crt} w, @{ANCHOR_BASE}/ r, @{ANCHOR_BASE}/anchor/**.py{,c} r, @{ANCHOR_BASE}/anchor/{,**/} r, @{ANCHOR_BASE}/config.py r, @{ANCHOR_VENV}/bin/python mixr, @{ANCHOR_VENV}/bin/pecan mixr, @{ANCHOR_VENV}/bin/ r, @{ANCHOR_VENV}/lib/python2.7/ r, @{ANCHOR_VENV}/lib/python2.7/** r, @{ANCHOR_VENV}/lib/python2.7/**/*.so m,","@{ECA_BASE}=""/replace/with/path/to/anchor"" @{ECA_VENV}=""@{ECA_BASE}/.venv"" @{ECA_CA_DIR}=""@{ECA_BASE}/CA"" @{ECA_CERTS_DIR}=""@{ECA_BASE}/certs"" @{ECA_BASE}/ r, @{ECA_BASE}/bin/anchor_debug mixr, @{ECA_VENV}/bin/pecan cix, @{ECA_CA_DIR}/* r, @{ECA_CERTS_DIR}/{,*.crt} w, @{ECA_BASE}/ r, @{ECA_BASE}/anchor/**.py{,c} r, @{ECA_BASE}/anchor/{,**/} r, @{ECA_BASE}/config.py r, @{ECA_VENV}/bin/python mixr, @{ECA_VENV}/bin/pecan mixr, @{ECA_VENV}/bin/ r, @{ECA_VENV}/lib/python2.7/ r, @{ECA_VENV}/lib/python2.7/** r, @{ECA_VENV}/lib/python2.7/**/*.so m,",223,100
openstack%2Fopenstack-ansible~master~I897024f545dd2a90f80b0d5c0aa558f335dc963a,openstack/openstack-ansible,master,I897024f545dd2a90f80b0d5c0aa558f335dc963a,Create Junit XML Report from tempest run,MERGED,2015-06-12 14:56:10.000000000,2015-07-01 10:54:01.000000000,2015-06-30 16:27:12.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 7217}, {'_account_id': 7353}, {'_account_id': 7725}, {'_account_id': 9884}, {'_account_id': 12000}]","[{'number': 1, 'created': '2015-06-12 14:56:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7749bdc63056e260f53e759a66e52017a41fa2b9', 'message': 'Create Junit XML Report from tempest run\n\nTempest results are currently written to stdout as part of a test run.\nThis output is difficult to parse. This patch adds steps to generate an\nxml report, and make this report available in /tmp on a physical host.\n\nThe report is copied to a physical host so that external systems that do\nnot have knowledge of the container inventory can retrieve the report,\nfor example jenkins.\n\n* Add pip packages python-subunut and junitxml to tempest venv, needed\n  to convert the subunit stream stored in testrepository to junit xml.\n\n* openstack_tempest_gate:\n    After a tempest run completes, the subunit stream is extracted from\n    the testrepository, converted to junit xml and written to /tmp of\n    the utility container running the tests.\n\n* run-tempest.sh\n    After running openstack_tempest_gate, retrieve xml results and write\n    them to /tmp on the host.\n\nThis file will be retrieved by jenkins and used to track the status of\ntests over multiple runs.\n\nChange-Id: I897024f545dd2a90f80b0d5c0aa558f335dc963a\nCloses-Bug: #1464686\n'}, {'number': 2, 'created': '2015-06-12 15:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a1cd7f287bdfc2c2b6f8add22f0adddfe20e49f6', 'message': 'Create Junit XML Report from tempest run\n\nTempest results are currently written to stdout as part of a test run.\nThis output is difficult to parse. This patch adds steps to generate an\nxml report, and make this report available in /tmp on a physical host.\n\nThe report is copied to a physical host so that external systems that do\nnot have knowledge of the container inventory can retrieve the report,\nfor example jenkins.\n\n* Add pip packages python-subunit and junitxml to tempest venv, needed\n  to convert the subunit stream stored in testrepository to junit xml.\n\n* openstack_tempest_gate:\n    After a tempest run completes, the subunit stream is extracted from\n    the testrepository, converted to junit xml and written to /tmp in\n    the utility container running the tests.\n\n* run-tempest.sh\n    After running openstack_tempest_gate, retrieve xml results and write\n    them to /tmp on the host.\n\nChange-Id: I897024f545dd2a90f80b0d5c0aa558f335dc963a\nCloses-Bug: #1464686\n'}, {'number': 3, 'created': '2015-06-12 21:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/393f4d94886b0ff1a8075f7e023f354a82b59cbb', 'message': 'Create Junit XML Report from tempest run\n\nTempest results are currently written to stdout as part of a test run.\nThis output is difficult to parse. This patch adds steps to generate an\nxml report, and make this report available in /tmp on a physical host.\n\nThe report is copied to a physical host so that external systems that do\nnot have knowledge of the container inventory can retrieve the report,\nfor example jenkins.\n\n* Add pip packages python-subunit and junitxml to tempest venv, needed\n  to convert the subunit stream stored in testrepository to junit xml.\n\n* openstack_tempest_gate:\n    After a tempest run completes, the subunit stream is extracted from\n    the testrepository, converted to junit xml and written to /tmp in\n    the utility container running the tests.\n\n* run-tempest.sh\n    After running openstack_tempest_gate, retrieve xml results and write\n    them to /tmp on the host.\n\nChange-Id: I897024f545dd2a90f80b0d5c0aa558f335dc963a\nCloses-Bug: #1464686\n'}, {'number': 4, 'created': '2015-06-13 06:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e12bf49ce6db3725b83265504dddaed033b362eb', 'message': 'Create Junit XML Report from tempest run\n\nTempest results are currently written to stdout as part of a test run.\nThis output is difficult to parse. This patch adds steps to generate an\nxml report, and make this report available in /tmp on a physical host.\n\nThe report is copied to a physical host so that external systems that do\nnot have knowledge of the container inventory can retrieve the report,\nfor example jenkins.\n\n* Add pip packages python-subunit and junitxml to tempest venv, needed\n  to convert the subunit stream stored in testrepository to junit xml.\n\n* openstack_tempest_gate:\n    After a tempest run completes, the subunit stream is extracted from\n    the testrepository, converted to junit xml and written to /tmp in\n    the utility container running the tests.\n\n* run-tempest.sh\n    After running openstack_tempest_gate, retrieve xml results and write\n    them to /tmp on the host.\n\nChange-Id: I897024f545dd2a90f80b0d5c0aa558f335dc963a\nCloses-Bug: #1464686\n'}, {'number': 5, 'created': '2015-06-13 06:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f61c02dcd0c3ca57e11ee7ce91a0345c6158fcea', 'message': 'Create Junit XML Report from tempest run\n\nTempest results are currently written to stdout as part of a test run.\nThis output is difficult to parse. This patch adds steps to generate an\nxml report, and make this report available in /tmp on a physical host.\n\nThe report is copied to a physical host so that external systems that do\nnot have knowledge of the container inventory can retrieve the report,\nfor example jenkins.\n\n* Add pip packages python-subunit and junitxml to tempest venv, needed\n  to convert the subunit stream stored in testrepository to junit xml.\n\n* openstack_tempest_gate:\n    After a tempest run completes, the subunit stream is extracted from\n    the testrepository, converted to junit xml and written to /tmp in\n    the utility container running the tests.\n\n* run-tempest.sh\n    After running openstack_tempest_gate, retrieve xml results and write\n    them to /tmp on the host.\n\nChange-Id: I897024f545dd2a90f80b0d5c0aa558f335dc963a\nCloses-Bug: #1464686\n'}, {'number': 6, 'created': '2015-06-13 14:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/677b1d4bfc6032be9e5b8f987955c2b931c1c2c6', 'message': 'Create Junit XML Report from tempest run\n\nTempest results are currently written to stdout as part of a test run.\nThis output is difficult to parse. This patch adds steps to generate an\nxml report, and make this report available in /tmp on a physical host.\n\nThe report is copied to a physical host so that external systems that do\nnot have knowledge of the container inventory can retrieve the report,\nfor example jenkins.\n\n* Add pip packages python-subunit and junitxml to tempest venv, needed\n  to convert the subunit stream stored in testrepository to junit xml.\n\n* openstack_tempest_gate:\n    After a tempest run completes, the subunit stream is extracted from\n    the testrepository, converted to junit xml and written to /tmp in\n    the utility container running the tests.\n\n* run-tempest.sh\n    After running openstack_tempest_gate, retrieve xml results and write\n    them to /tmp on the host.\n\nChange-Id: I897024f545dd2a90f80b0d5c0aa558f335dc963a\nCloses-Bug: #1464686\n'}, {'number': 7, 'created': '2015-06-13 20:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6af8f0f86c433ba6afa7518311f963b73b93999f', 'message': 'Create Junit XML Report from tempest run\n\nTempest results are currently written to stdout as part of a test run.\nThis output is difficult to parse. This patch adds steps to generate an\nxml report, and make this report available in /tmp on a physical host.\n\nThe report is copied to a physical host so that external systems that do\nnot have knowledge of the container inventory can retrieve the report,\nfor example jenkins.\n\n* Add pip packages python-subunit and junitxml to tempest venv, needed\n  to convert the subunit stream stored in testrepository to junit xml.\n\n* openstack_tempest_gate:\n    After a tempest run completes, the subunit stream is extracted from\n    the testrepository, converted to junit xml and written to /tmp in\n    the utility container running the tests.\n\n* run-tempest.sh\n    After running openstack_tempest_gate, retrieve xml results and write\n    them to /tmp on the host.\n\nChange-Id: I897024f545dd2a90f80b0d5c0aa558f335dc963a\nCloses-Bug: #1464686\n'}, {'number': 8, 'created': '2015-06-15 19:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4b6aa05debbb450dc5717aecdfac2589a12377b8', 'message': 'Create Junit XML Report from tempest run\n\nTempest results are currently written to stdout as part of a test run.\nThis output is difficult to parse. This patch adds steps to generate an\nxml report, and make this report available in /tmp on a physical host.\n\nThe report is copied to a physical host so that external systems that do\nnot have knowledge of the container inventory can retrieve the report,\nfor example jenkins.\n\n* Add pip packages python-subunit and junitxml to tempest venv, needed\n  to convert the subunit stream stored in testrepository to junit xml.\n\n* openstack_tempest_gate:\n    After a tempest run completes, the subunit stream is extracted from\n    the testrepository, converted to junit xml and written to /tmp in\n    the utility container running the tests.\n\n* run-tempest.sh\n    After running openstack_tempest_gate, retrieve xml results and write\n    them to /tmp on the host.\n\nChange-Id: I897024f545dd2a90f80b0d5c0aa558f335dc963a\nCloses-Bug: #1464686\n'}, {'number': 9, 'created': '2015-06-29 15:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1db7bc7393abc34ead82325da534490b802a5061', 'message': 'Create Junit XML Report from tempest run\n\nTempest results are currently written to stdout as part of a test run.\nThis output is difficult to parse. This patch adds steps to generate an\nxml report, and make this report available in /tmp on a physical host.\n\nThe report is copied to a physical host so that external systems that do\nnot have knowledge of the container inventory can retrieve the report,\nfor example Jenkins.\n\n* Add pip packages python-subunit and junitxml to tempest venv, needed\n  to convert the subunit stream stored in testrepository to junit XML.\n\n* openstack_tempest_gate:\n    After a tempest run completes, the subunit stream is extracted from\n    the testrepository, converted to junit xml and written to /tmp in\n    the utility container running the tests.\n\n* run-tempest.sh\n    After running openstack_tempest_gate, retrieve xml results and write\n    them to /tmp on the host.\n\nChange-Id: I897024f545dd2a90f80b0d5c0aa558f335dc963a\nCloses-Bug: #1464686\n'}, {'number': 10, 'created': '2015-06-29 15:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d0d26b021c11de78db24e9ef019cff264fda6e21', 'message': 'Create Junit XML Report from tempest run\n\nTempest results are currently written to stdout as part of a test run.\nThis output is difficult to parse. This patch adds steps to generate an\nXML report, and make this report available in /tmp on a physical host.\n\nThe report is copied to a physical host so that external systems that do\nnot have knowledge of the container inventory can retrieve the report,\nfor example Jenkins.\n\n* Add pip packages python-subunit and junitxml to tempest venv, needed\n  to convert the subunit stream stored in testrepository to junit XML.\n\n* openstack_tempest_gate:\n    After a tempest run completes, the subunit stream is extracted from\n    the testrepository, converted to junit XML and written to /tmp in\n    the utility container running the tests.\n\n* run-tempest.sh\n    After running openstack_tempest_gate, retrieve XML results and write\n    them to /tmp on the host.\n\nChange-Id: I897024f545dd2a90f80b0d5c0aa558f335dc963a\nCloses-Bug: #1464686\n'}, {'number': 11, 'created': '2015-06-29 19:38:36.000000000', 'files': ['scripts/run-tempest.sh', 'playbooks/roles/os_tempest/defaults/main.yml', 'playbooks/roles/os_tempest/templates/openstack_tempest_gate.sh.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8a7d5179d66cd43c3f49cec6a764f1073232e6f3', 'message': 'Create Junit XML Report from tempest run\n\nTempest results are currently written to stdout as part of a test run.\nThis output is difficult to parse. This patch adds steps to generate an\nXML report, and make this report available in /tmp on a physical host.\n\nThe report is copied to a physical host so that external systems that do\nnot have knowledge of the container inventory can retrieve the report,\nfor example Jenkins.\n\n* Add pip packages python-subunit and junitxml to tempest venv, needed\n  to convert the subunit stream stored in testrepository to junit XML.\n\n* openstack_tempest_gate:\n    After a tempest run completes, the subunit stream is extracted from\n    the testrepository, converted to junit XML and written to /tmp in\n    the utility container running the tests.\n\n* run-tempest.sh\n    After running openstack_tempest_gate, retrieve XML results and write\n    them to /tmp on the host.\n\nChange-Id: I897024f545dd2a90f80b0d5c0aa558f335dc963a\nCloses-Bug: #1464686\n'}]",5,191103,8a7d5179d66cd43c3f49cec6a764f1073232e6f3,43,7,11,7217,,,0,"Create Junit XML Report from tempest run

Tempest results are currently written to stdout as part of a test run.
This output is difficult to parse. This patch adds steps to generate an
XML report, and make this report available in /tmp on a physical host.

The report is copied to a physical host so that external systems that do
not have knowledge of the container inventory can retrieve the report,
for example Jenkins.

* Add pip packages python-subunit and junitxml to tempest venv, needed
  to convert the subunit stream stored in testrepository to junit XML.

* openstack_tempest_gate:
    After a tempest run completes, the subunit stream is extracted from
    the testrepository, converted to junit XML and written to /tmp in
    the utility container running the tests.

* run-tempest.sh
    After running openstack_tempest_gate, retrieve XML results and write
    them to /tmp on the host.

Change-Id: I897024f545dd2a90f80b0d5c0aa558f335dc963a
Closes-Bug: #1464686
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/03/191103/4 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/run-tempest.sh', 'playbooks/roles/os_tempest/defaults/main.yml', 'playbooks/roles/os_tempest/templates/openstack_tempest_gate.sh.j2']",3,7749bdc63056e260f53e759a66e52017a41fa2b9,bug/1464686, # Create junit xml report from test results subunit-1to2 < .testrepository/0 | subunit2junitxml > tempest_results.xml cp tempest_results.xml /tmp ,,12,0
openstack%2Fbifrost~master~Ibc04e5780b0f8146280e026abce237a961682b0d,openstack/bifrost,master,Ibc04e5780b0f8146280e026abce237a961682b0d,WIP: Test shade microversion lock ***DO NOT MERGE***,ABANDONED,2015-06-25 15:32:54.000000000,2015-07-01 10:49:09.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2015-06-25 15:32:54.000000000', 'files': ['env-vars'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/791b53cd73fe9eb24ea3d7350f967a1b845f3d1d', 'message': 'WIP: Test shade microversion lock ***DO NOT MERGE***\n\nTest commit to pull in a specific shade patch and test.\n\nChange-Id: Ibc04e5780b0f8146280e026abce237a961682b0d\nDepends-On: I3332fdadcfe0759ef4ebe237a6d0bbdca4b10272\n'}]",0,195637,791b53cd73fe9eb24ea3d7350f967a1b845f3d1d,3,1,1,11655,,,0,"WIP: Test shade microversion lock ***DO NOT MERGE***

Test commit to pull in a specific shade patch and test.

Change-Id: Ibc04e5780b0f8146280e026abce237a961682b0d
Depends-On: I3332fdadcfe0759ef4ebe237a6d0bbdca4b10272
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/37/195637/1 && git format-patch -1 --stdout FETCH_HEAD,['env-vars'],1,791b53cd73fe9eb24ea3d7350f967a1b845f3d1d,,,,1,0
openstack%2Fheat~master~I7b23c1b537e36d252984302353732b2389557387,openstack/heat,master,I7b23c1b537e36d252984302353732b2389557387,Coverage: Full coverage for heat identifier,MERGED,2015-06-28 18:34:02.000000000,2015-07-01 10:48:06.000000000,2015-07-01 10:48:04.000000000,"[{'_account_id': 3}, {'_account_id': 4715}, {'_account_id': 6577}, {'_account_id': 6899}, {'_account_id': 8833}, {'_account_id': 12606}, {'_account_id': 13323}, {'_account_id': 13720}]","[{'number': 1, 'created': '2015-06-28 18:34:02.000000000', 'files': ['heat/tests/test_identifier.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/10786b9f87f173ea23469723eac8a2c5be46bebb', 'message': 'Coverage: Full coverage for heat identifier\n\nAdded unit tests to get 100% coverage for heat identifier\n\nChange-Id: I7b23c1b537e36d252984302353732b2389557387\n'}]",0,196467,10786b9f87f173ea23469723eac8a2c5be46bebb,13,8,1,6498,,,0,"Coverage: Full coverage for heat identifier

Added unit tests to get 100% coverage for heat identifier

Change-Id: I7b23c1b537e36d252984302353732b2389557387
",git fetch https://review.opendev.org/openstack/heat refs/changes/67/196467/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/tests/test_identifier.py'],1,10786b9f87f173ea23469723eac8a2c5be46bebb,coveridentifier," def test_id_contains(self): hi = identifier.HeatIdentifier('t', 's', ':/') self.assertFalse(""t"" in hi) self.assertTrue(""stack_id"" in hi) ",,5,0
openstack%2Ftripleo-ci~master~Ida39d0ebd9ab6ed8b3f710eda59b694fb9c5be93,openstack/tripleo-ci,master,Ida39d0ebd9ab6ed8b3f710eda59b694fb9c5be93,heat temprevert: Add port_security_enabled for Neutron,ABANDONED,2015-06-29 13:23:15.000000000,2015-07-01 10:37:16.000000000,,"[{'_account_id': 3}, {'_account_id': 1926}, {'_account_id': 6928}, {'_account_id': 7144}, {'_account_id': 8399}]","[{'number': 1, 'created': '2015-06-29 13:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a20fd5867df034bd3ec0800e9e8f5eca8af1817d', 'message': '[WIP] Test heat temprevert\n\nChange-Id: Ida39d0ebd9ab6ed8b3f710eda59b694fb9c5be93\n'}, {'number': 2, 'created': '2015-06-29 14:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6ea7c97396911602c1aed045a2e5919dad8cb98a', 'message': '[WIP] Test heat temprevert\n\nChange-Id: Ida39d0ebd9ab6ed8b3f710eda59b694fb9c5be93\n'}, {'number': 3, 'created': '2015-06-30 08:25:34.000000000', 'files': ['toci_devtest.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f8f926e516669a16b5e0c31bf564e62666b2891f', 'message': 'heat temprevert: Add port_security_enabled for Neutron\n\nThis commit is causing our tests to fail and is\ncurrently being fixed in heat. While we wait lets\nrevert it in our CI.\n\nChange-Id: Ida39d0ebd9ab6ed8b3f710eda59b694fb9c5be93\n'}]",0,196659,f8f926e516669a16b5e0c31bf564e62666b2891f,16,5,3,1926,,,0,"heat temprevert: Add port_security_enabled for Neutron

This commit is causing our tests to fail and is
currently being fixed in heat. While we wait lets
revert it in our CI.

Change-Id: Ida39d0ebd9ab6ed8b3f710eda59b694fb9c5be93
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/59/196659/2 && git format-patch -1 --stdout FETCH_HEAD,['toci_devtest.sh'],1,a20fd5867df034bd3ec0800e9e8f5eca8af1817d,,# Add port_security_enabled for Neutron temprevert neutron cdde2f527263dc4a1aa6be4b86179e7e1b8bb210 999999 ,,3,0
openstack%2Fmistral~master~I01f06901cf8a19d1d7a0b0382c6e2e4a7e7fc123,openstack/mistral,master,I01f06901cf8a19d1d7a0b0382c6e2e4a7e7fc123,No input validation for action with kwargs argument,MERGED,2015-06-29 08:26:09.000000000,2015-07-01 10:30:42.000000000,2015-07-01 10:30:41.000000000,"[{'_account_id': 3}, {'_account_id': 5558}, {'_account_id': 6732}, {'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9432}]","[{'number': 1, 'created': '2015-06-29 08:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/ec97a08a8fbd1eff5b5243dd21541f5f3d7cd3ec', 'message': ""No input validation for native actions\n\nIn Mistral, there may be a lot of native actions registered in the system,\ne.g. std.echo, std.http, etc. However, not all of them have precise\nparameter definition in their initialization, Nova action 'servers.find'\nis a typical example of this.\n\nSo, we should not validate the action input in Mistral side, instead, we\nleave it to action developer.\n\nRevert some related tests that modified in 'run-action' feature.\n\nChange-Id: I01f06901cf8a19d1d7a0b0382c6e2e4a7e7fc123\nCloses-Bug: #1469605\n""}, {'number': 2, 'created': '2015-06-30 09:25:14.000000000', 'files': ['mistral/tests/unit/engine/test_run_action.py', 'mistral/utils/inspect_utils.py', 'mistral/engine/action_handler.py', 'mistral/tests/unit/actions/test_action_manager.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/f6a7f2ee2b7eb1f56dec64359b066dba8cb22444', 'message': ""No input validation for action with kwargs argument\n\nIn Mistral, there may be a lot of native actions registered in the system,\ne.g. std.echo, std.http, etc. However, not all of them have precise\nparameter definition in their initialization, Nova action 'servers.find'\nis a typical example of this.\n\nThis patch add name of the ** argument in action definition input string,\nin case there is no other explicit positional params, we don't check\naction input if it has ** argument.\n\nNote: We don't support only *args argument contained in action\ninitialization for the time being, since the type of default action input\nis dictionary.\n\nChange-Id: I01f06901cf8a19d1d7a0b0382c6e2e4a7e7fc123\nCloses-Bug: #1469605\n""}]",4,196578,f6a7f2ee2b7eb1f56dec64359b066dba8cb22444,16,6,2,6732,,,0,"No input validation for action with kwargs argument

In Mistral, there may be a lot of native actions registered in the system,
e.g. std.echo, std.http, etc. However, not all of them have precise
parameter definition in their initialization, Nova action 'servers.find'
is a typical example of this.

This patch add name of the ** argument in action definition input string,
in case there is no other explicit positional params, we don't check
action input if it has ** argument.

Note: We don't support only *args argument contained in action
initialization for the time being, since the type of default action input
is dictionary.

Change-Id: I01f06901cf8a19d1d7a0b0382c6e2e4a7e7fc123
Closes-Bug: #1469605
",git fetch https://review.opendev.org/openstack/mistral refs/changes/78/196578/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/tests/unit/engine/test_run_action.py', 'mistral/tests/unit/engine/test_direct_workflow.py', 'mistral/engine/action_handler.py']",3,ec97a08a8fbd1eff5b5243dd21541f5f3d7cd3ec,bug/1469330,," e_utils.validate_input(action_def, input_dict)",32,12
openstack%2Fzaqar~master~I590be382cb783918e969b62ae4b177db4eb5afef,openstack/zaqar,master,I590be382cb783918e969b62ae4b177db4eb5afef,Satisfy abstract base by adding queue_controller,MERGED,2015-06-26 14:01:37.000000000,2015-07-01 10:29:28.000000000,2015-07-01 10:29:27.000000000,"[{'_account_id': 3}, {'_account_id': 6159}, {'_account_id': 6484}]","[{'number': 1, 'created': '2015-06-26 14:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/3ccafc57f0f1dd4ea6d2e9723d6d5a48d28cfa11', 'message': 'Satisfy abstract base by adding queue_controller\n\nSqlalchemy management store was missing its queue_controller property,\ncausing the server to fail on startup.\n\nChange-Id: I590be382cb783918e969b62ae4b177db4eb5afef\n'}, {'number': 2, 'created': '2015-06-26 14:29:59.000000000', 'files': ['zaqar/storage/sqlalchemy/driver.py', 'zaqar/storage/utils.py'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/899b5be59b2ae259248f54adff41976471723222', 'message': 'Satisfy abstract base by adding queue_controller\n\nSqlalchemy management store was missing its queue_controller property,\ncausing the server to fail on startup.\n\nChange-Id: I590be382cb783918e969b62ae4b177db4eb5afef\n'}]",1,196062,899b5be59b2ae259248f54adff41976471723222,10,3,2,12321,,,0,"Satisfy abstract base by adding queue_controller

Sqlalchemy management store was missing its queue_controller property,
causing the server to fail on startup.

Change-Id: I590be382cb783918e969b62ae4b177db4eb5afef
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/62/196062/2 && git format-patch -1 --stdout FETCH_HEAD,"['zaqar/storage/sqlalchemy/driver.py', 'zaqar/storage/utils.py']",2,3ccafc57f0f1dd4ea6d2e9723d6d5a48d28cfa11,(HEAD,"from zaqar.i18n import _ #noqa LOG.error(_('Failed to load ""{type}"" driver for ""{storage}""' ''.format(type=driver_type, storage=storage_type)))",,7,0
openstack%2Fnova~master~I5cf459ada15503a8ad600ed8c897ba7d84582309,openstack/nova,master,I5cf459ada15503a8ad600ed8c897ba7d84582309,modify '<nosharedpages/>' to '<nosharepages/>'.,ABANDONED,2015-07-01 09:08:11.000000000,2015-07-01 10:19:29.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 9578}, {'_account_id': 10385}, {'_account_id': 12898}]","[{'number': 1, 'created': '2015-07-01 09:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b6bfb78c05e335658cdbdf1fba00b580b7fe4964', 'message': ""modify '<nosharedpages/>' to '<nosharepages/>'.\n\nChange-Id: I5cf459ada15503a8ad600ed8c897ba7d84582309\nCloses-Bug: #11469634\n""}, {'number': 2, 'created': '2015-07-01 09:12:39.000000000', 'files': ['nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/40ea66bb7a084116023181ab7eb4e1ad2b6d052f', 'message': ""modify '<nosharedpages/>' to '<nosharepages/>'.\n\nChange-Id: I5cf459ada15503a8ad600ed8c897ba7d84582309\nCloses-Bug: #1469634\n""}]",1,197480,40ea66bb7a084116023181ab7eb4e1ad2b6d052f,8,5,2,12813,,,0,"modify '<nosharedpages/>' to '<nosharepages/>'.

Change-Id: I5cf459ada15503a8ad600ed8c897ba7d84582309
Closes-Bug: #1469634
",git fetch https://review.opendev.org/openstack/nova refs/changes/80/197480/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py']",2,b6bfb78c05e335658cdbdf1fba00b580b7fe4964,bug/1469634,"# Copyright (C) 2012 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from lxml import etree from oslo_utils import units from nova.compute import arch from nova import test from nova.tests.unit import matchers from nova.virt.libvirt import config class LibvirtConfigBaseTest(test.NoDBTestCase): def assertXmlEqual(self, expectedXmlstr, actualXmlstr): self.assertThat(actualXmlstr, matchers.XMLMatches(expectedXmlstr)) class LibvirtConfigTest(LibvirtConfigBaseTest): def test_config_plain(self): obj = config.LibvirtConfigObject(root_name=""demo"") xml = obj.to_xml() self.assertXmlEqual(xml, ""<demo/>"") def test_config_ns(self): obj = config.LibvirtConfigObject(root_name=""demo"", ns_prefix=""foo"", ns_uri=""http://example.com/foo"") xml = obj.to_xml() self.assertXmlEqual(xml, """""" <foo:demo xmlns:foo=""http://example.com/foo""/>"""""") def test_config_text(self): obj = config.LibvirtConfigObject(root_name=""demo"") root = obj.format_dom() root.append(obj._text_node(""foo"", ""bar"")) xml = etree.tostring(root) self.assertXmlEqual(xml, ""<demo><foo>bar</foo></demo>"") def test_config_text_unicode(self): obj = config.LibvirtConfigObject(root_name='demo') root = obj.format_dom() root.append(obj._text_node('foo', u'\xF0\x9F\x92\xA9')) self.assertXmlEqual('<demo><foo>&#240;&#159;&#146;&#169;</foo></demo>', etree.tostring(root)) def test_config_parse(self): inxml = ""<demo><foo/></demo>"" obj = config.LibvirtConfigObject(root_name=""demo"") obj.parse_str(inxml) class LibvirtConfigCapsTest(LibvirtConfigBaseTest): def test_config_host(self): xmlin = """""" <capabilities> <host> <uuid>c7a5fdbd-edaf-9455-926a-d65c16db1809</uuid> <cpu> <arch>x86_64</arch> <model>Opteron_G3</model> <vendor>AMD</vendor> <topology sockets='1' cores='4' threads='1'/> <feature name='ibs'/> <feature name='osvw'/> </cpu> <topology> <cells num='2'> <cell id='0'> <memory unit='KiB'>4048280</memory> <pages unit='KiB' size='4'>1011941</pages> <pages unit='KiB' size='2048'>0</pages> <cpus num='4'> <cpu id='0' socket_id='0' core_id='0' siblings='0'/> <cpu id='1' socket_id='0' core_id='1' siblings='1'/> <cpu id='2' socket_id='0' core_id='2' siblings='2'/> <cpu id='3' socket_id='0' core_id='3' siblings='3'/> </cpus> </cell> <cell id='1'> <memory unit='KiB'>4127684</memory> <pages unit='KiB' size='4'>1031921</pages> <pages unit='KiB' size='2048'>0</pages> <cpus num='4'> <cpu id='4' socket_id='1' core_id='0' siblings='4'/> <cpu id='5' socket_id='1' core_id='1' siblings='5'/> <cpu id='6' socket_id='1' core_id='2' siblings='6'/> <cpu id='7' socket_id='1' core_id='3' siblings='7'/> </cpus> </cell> </cells> </topology> </host> <guest> <os_type>hvm</os_type> <arch name='x86_64'/> </guest> <guest> <os_type>hvm</os_type> <arch name='i686'/> </guest> </capabilities>"""""" obj = config.LibvirtConfigCaps() obj.parse_str(xmlin) self.assertIsInstance(obj.host, config.LibvirtConfigCapsHost) self.assertEqual(obj.host.uuid, ""c7a5fdbd-edaf-9455-926a-d65c16db1809"") xmlout = obj.to_xml() self.assertXmlEqual(xmlin, xmlout) def test_config_host_numa_cell_no_memory_caps(self): xmlin = """""" <cell id='0'> <cpus num='1'> <cpu id='0' socket_id='0' core_id='0' siblings='0'/> </cpus> </cell>"""""" obj = config.LibvirtConfigCapsNUMACell() obj.parse_str(xmlin) self.assertEqual(0, obj.memory) self.assertEqual(1, len(obj.cpus)) def test_config_host_numa_cell_no_cpus_caps(self): xmlin = """""" <cell id='0'> <memory unit='KiB'>128</memory> </cell>"""""" obj = config.LibvirtConfigCapsNUMACell() obj.parse_str(xmlin) self.assertEqual(128, obj.memory) self.assertEqual(0, len(obj.cpus)) class LibvirtConfigGuestTimerTest(LibvirtConfigBaseTest): def test_config_platform(self): obj = config.LibvirtConfigGuestTimer() obj.track = ""host"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <timer name=""platform"" track=""host""/> """""") def test_config_pit(self): obj = config.LibvirtConfigGuestTimer() obj.name = ""pit"" obj.tickpolicy = ""discard"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <timer name=""pit"" tickpolicy=""discard""/> """""") def test_config_hpet(self): obj = config.LibvirtConfigGuestTimer() obj.name = ""hpet"" obj.present = False xml = obj.to_xml() self.assertXmlEqual(xml, """""" <timer name=""hpet"" present=""no""/> """""") class LibvirtConfigGuestClockTest(LibvirtConfigBaseTest): def test_config_utc(self): obj = config.LibvirtConfigGuestClock() xml = obj.to_xml() self.assertXmlEqual(xml, """""" <clock offset=""utc""/> """""") def test_config_localtime(self): obj = config.LibvirtConfigGuestClock() obj.offset = ""localtime"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <clock offset=""localtime""/> """""") def test_config_timezone(self): obj = config.LibvirtConfigGuestClock() obj.offset = ""timezone"" obj.timezone = ""EDT"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <clock offset=""timezone"" timezone=""EDT""/> """""") def test_config_variable(self): obj = config.LibvirtConfigGuestClock() obj.offset = ""variable"" obj.adjustment = ""123456"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <clock offset=""variable"" adjustment=""123456""/> """""") def test_config_timers(self): obj = config.LibvirtConfigGuestClock() tmpit = config.LibvirtConfigGuestTimer() tmpit.name = ""pit"" tmpit.tickpolicy = ""discard"" tmrtc = config.LibvirtConfigGuestTimer() tmrtc.name = ""rtc"" tmrtc.tickpolicy = ""merge"" obj.add_timer(tmpit) obj.add_timer(tmrtc) xml = obj.to_xml() self.assertXmlEqual(xml, """""" <clock offset=""utc""> <timer name=""pit"" tickpolicy=""discard""/> <timer name=""rtc"" tickpolicy=""merge""/> </clock> """""") class LibvirtConfigCPUFeatureTest(LibvirtConfigBaseTest): def test_config_simple(self): obj = config.LibvirtConfigCPUFeature(""mtrr"") xml = obj.to_xml() self.assertXmlEqual(xml, """""" <feature name=""mtrr""/> """""") class LibvirtConfigGuestCPUFeatureTest(LibvirtConfigBaseTest): def test_config_simple(self): obj = config.LibvirtConfigGuestCPUFeature(""mtrr"") obj.policy = ""force"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <feature name=""mtrr"" policy=""force""/> """""") class LibvirtConfigGuestCPUNUMATest(LibvirtConfigBaseTest): def test_parse_dom(self): xml = """""" <numa> <cell id=""0"" cpus=""0-1"" memory=""1000000""/> <cell id=""1"" cpus=""2-3"" memory=""1500000""/> </numa> """""" xmldoc = etree.fromstring(xml) obj = config.LibvirtConfigGuestCPUNUMA() obj.parse_dom(xmldoc) self.assertEqual(2, len(obj.cells)) def test_config_simple(self): obj = config.LibvirtConfigGuestCPUNUMA() cell = config.LibvirtConfigGuestCPUNUMACell() cell.id = 0 cell.cpus = set([0, 1]) cell.memory = 1000000 obj.cells.append(cell) cell = config.LibvirtConfigGuestCPUNUMACell() cell.id = 1 cell.cpus = set([2, 3]) cell.memory = 1500000 obj.cells.append(cell) xml = obj.to_xml() self.assertXmlEqual(xml, """""" <numa> <cell id=""0"" cpus=""0-1"" memory=""1000000""/> <cell id=""1"" cpus=""2-3"" memory=""1500000""/> </numa> """""") class LibvirtConfigCPUTest(LibvirtConfigBaseTest): def test_config_simple(self): obj = config.LibvirtConfigCPU() obj.model = ""Penryn"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <cpu> <model>Penryn</model> </cpu> """""") def test_config_complex(self): obj = config.LibvirtConfigCPU() obj.model = ""Penryn"" obj.vendor = ""Intel"" obj.arch = arch.X86_64 obj.add_feature(config.LibvirtConfigCPUFeature(""mtrr"")) obj.add_feature(config.LibvirtConfigCPUFeature(""apic"")) xml = obj.to_xml() self.assertXmlEqual(xml, """""" <cpu> <arch>x86_64</arch> <model>Penryn</model> <vendor>Intel</vendor> <feature name=""apic""/> <feature name=""mtrr""/> </cpu> """""") def test_only_uniq_cpu_featues(self): obj = config.LibvirtConfigCPU() obj.model = ""Penryn"" obj.vendor = ""Intel"" obj.arch = arch.X86_64 obj.add_feature(config.LibvirtConfigCPUFeature(""mtrr"")) obj.add_feature(config.LibvirtConfigCPUFeature(""apic"")) obj.add_feature(config.LibvirtConfigCPUFeature(""apic"")) obj.add_feature(config.LibvirtConfigCPUFeature(""mtrr"")) xml = obj.to_xml() self.assertXmlEqual(xml, """""" <cpu> <arch>x86_64</arch> <model>Penryn</model> <vendor>Intel</vendor> <feature name=""apic""/> <feature name=""mtrr""/> </cpu> """""") def test_config_topology(self): obj = config.LibvirtConfigCPU() obj.model = ""Penryn"" obj.sockets = 4 obj.cores = 4 obj.threads = 2 xml = obj.to_xml() self.assertXmlEqual(xml, """""" <cpu> <model>Penryn</model> <topology sockets=""4"" cores=""4"" threads=""2""/> </cpu> """""") class LibvirtConfigGuestCPUTest(LibvirtConfigBaseTest): def test_config_simple(self): obj = config.LibvirtConfigGuestCPU() obj.model = ""Penryn"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <cpu match=""exact""> <model>Penryn</model> </cpu> """""") def test_config_complex(self): obj = config.LibvirtConfigGuestCPU() obj.model = ""Penryn"" obj.vendor = ""Intel"" obj.arch = arch.X86_64 obj.mode = ""custom"" obj.add_feature(config.LibvirtConfigGuestCPUFeature(""mtrr"")) obj.add_feature(config.LibvirtConfigGuestCPUFeature(""apic"")) xml = obj.to_xml() self.assertXmlEqual(xml, """""" <cpu mode=""custom"" match=""exact""> <arch>x86_64</arch> <model>Penryn</model> <vendor>Intel</vendor> <feature name=""apic"" policy=""require""/> <feature name=""mtrr"" policy=""require""/> </cpu> """""") def test_config_host(self): obj = config.LibvirtConfigGuestCPU() obj.mode = ""host-model"" obj.match = ""exact"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <cpu mode=""host-model"" match=""exact""/> """""") def test_config_host_with_numa(self): obj = config.LibvirtConfigGuestCPU() obj.mode = ""host-model"" obj.match = ""exact"" numa = config.LibvirtConfigGuestCPUNUMA() cell = config.LibvirtConfigGuestCPUNUMACell() cell.id = 0 cell.cpus = set([0, 1]) cell.memory = 1000000 numa.cells.append(cell) cell = config.LibvirtConfigGuestCPUNUMACell() cell.id = 1 cell.cpus = set([2, 3]) cell.memory = 1500000 numa.cells.append(cell) obj.numa = numa xml = obj.to_xml() self.assertXmlEqual(xml, """""" <cpu mode=""host-model"" match=""exact""> <numa> <cell id=""0"" cpus=""0-1"" memory=""1000000""/> <cell id=""1"" cpus=""2-3"" memory=""1500000""/> </numa> </cpu> """""") class LibvirtConfigGuestSMBIOSTest(LibvirtConfigBaseTest): def test_config_simple(self): obj = config.LibvirtConfigGuestSMBIOS() xml = obj.to_xml() self.assertXmlEqual(xml, """""" <smbios mode=""sysinfo""/> """""") class LibvirtConfigGuestSysinfoTest(LibvirtConfigBaseTest): def test_config_simple(self): obj = config.LibvirtConfigGuestSysinfo() xml = obj.to_xml() self.assertXmlEqual(xml, """""" <sysinfo type=""smbios""/> """""") def test_config_bios(self): obj = config.LibvirtConfigGuestSysinfo() obj.bios_vendor = ""Acme"" obj.bios_version = ""6.6.6"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <sysinfo type=""smbios""> <bios> <entry name=""vendor"">Acme</entry> <entry name=""version"">6.6.6</entry> </bios> </sysinfo> """""") def test_config_system(self): obj = config.LibvirtConfigGuestSysinfo() obj.system_manufacturer = ""Acme"" obj.system_product = ""Wile Coyote"" obj.system_version = ""6.6.6"" obj.system_serial = ""123456"" obj.system_uuid = ""c7a5fdbd-edaf-9455-926a-d65c16db1809"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <sysinfo type=""smbios""> <system> <entry name=""manufacturer"">Acme</entry> <entry name=""product"">Wile Coyote</entry> <entry name=""version"">6.6.6</entry> <entry name=""serial"">123456</entry> <entry name=""uuid"">c7a5fdbd-edaf-9455-926a-d65c16db1809</entry> </system> </sysinfo> """""") def test_config_mixed(self): obj = config.LibvirtConfigGuestSysinfo() obj.bios_vendor = ""Acme"" obj.system_manufacturer = ""Acme"" obj.system_product = ""Wile Coyote"" obj.system_uuid = ""c7a5fdbd-edaf-9455-926a-d65c16db1809"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <sysinfo type=""smbios""> <bios> <entry name=""vendor"">Acme</entry> </bios> <system> <entry name=""manufacturer"">Acme</entry> <entry name=""product"">Wile Coyote</entry> <entry name=""uuid"">c7a5fdbd-edaf-9455-926a-d65c16db1809</entry> </system> </sysinfo> """""") class LibvirtConfigGuestDiskTest(LibvirtConfigBaseTest): def test_config_file(self): obj = config.LibvirtConfigGuestDisk() obj.source_type = ""file"" obj.source_path = ""/tmp/hello"" obj.target_dev = ""/dev/hda"" obj.target_bus = ""ide"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <disk type=""file"" device=""disk""> <source file=""/tmp/hello""/> <target bus=""ide"" dev=""/dev/hda""/> </disk>"""""") def test_config_file_parse(self): xml = """"""<disk type=""file"" device=""disk""> <source file=""/tmp/hello""/> <target bus=""ide"" dev=""/dev/hda""/> </disk>"""""" xmldoc = etree.fromstring(xml) obj = config.LibvirtConfigGuestDisk() obj.parse_dom(xmldoc) self.assertEqual(obj.source_type, 'file') self.assertEqual(obj.source_path, '/tmp/hello') self.assertEqual(obj.target_dev, '/dev/hda') self.assertEqual(obj.target_bus, 'ide') def test_config_file_serial(self): obj = config.LibvirtConfigGuestDisk() obj.source_type = ""file"" obj.source_path = ""/tmp/hello"" obj.target_dev = ""/dev/hda"" obj.target_bus = ""ide"" obj.serial = ""7a97c4a3-6f59-41d4-bf47-191d7f97f8e9"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <disk type=""file"" device=""disk""> <source file=""/tmp/hello""/> <target bus=""ide"" dev=""/dev/hda""/> <serial>7a97c4a3-6f59-41d4-bf47-191d7f97f8e9</serial> </disk>"""""") def test_config_file_serial_parse(self): xml = """"""<disk type=""file"" device=""disk""> <source file=""/tmp/hello""/> <target bus=""ide"" dev=""/dev/hda""/> <serial>7a97c4a3-6f59-41d4-bf47-191d7f97f8e9</serial> </disk>"""""" xmldoc = etree.fromstring(xml) obj = config.LibvirtConfigGuestDisk() obj.parse_dom(xmldoc) self.assertEqual(obj.source_type, 'file') self.assertEqual(obj.serial, '7a97c4a3-6f59-41d4-bf47-191d7f97f8e9') def test_config_file_discard(self): obj = config.LibvirtConfigGuestDisk() obj.driver_name = ""qemu"" obj.driver_format = ""qcow2"" obj.driver_cache = ""none"" obj.driver_discard = ""unmap"" obj.source_type = ""file"" obj.source_path = ""/tmp/hello.qcow2"" obj.target_dev = ""/dev/hda"" obj.target_bus = ""ide"" obj.serial = ""7a97c4a3-6f59-41d4-bf47-191d7f97f8e9"" xml = obj.to_xml() self.assertXmlEqual("""""" <disk type=""file"" device=""disk""> <driver name=""qemu"" type=""qcow2"" cache=""none"" discard=""unmap""/> <source file=""/tmp/hello.qcow2""/> <target bus=""ide"" dev=""/dev/hda""/> <serial>7a97c4a3-6f59-41d4-bf47-191d7f97f8e9</serial> </disk>"""""", xml) def test_config_file_discard_parse(self): xml = """""" <disk type=""file"" device=""disk""> <driver name=""qemu"" type=""qcow2"" cache=""none"" discard=""unmap""/> <source file=""/tmp/hello.qcow2""/> <target bus=""ide"" dev=""/dev/hda""/> <serial>7a97c4a3-6f59-41d4-bf47-191d7f97f8e9</serial> </disk>"""""" xmldoc = etree.fromstring(xml) obj = config.LibvirtConfigGuestDisk() obj.parse_dom(xmldoc) self.assertEqual('unmap', obj.driver_discard) def test_config_block(self): obj = config.LibvirtConfigGuestDisk() obj.source_type = ""block"" obj.source_path = ""/tmp/hello"" obj.source_device = ""cdrom"" obj.driver_name = ""qemu"" obj.target_dev = ""/dev/hdc"" obj.target_bus = ""ide"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <disk type=""block"" device=""cdrom""> <driver name=""qemu""/> <source dev=""/tmp/hello""/> <target bus=""ide"" dev=""/dev/hdc""/> </disk>"""""") def test_config_block_parse(self): xml = """"""<disk type=""block"" device=""cdrom""> <driver name=""qemu""/> <source dev=""/tmp/hello""/> <target bus=""ide"" dev=""/dev/hdc""/> </disk>"""""" xmldoc = etree.fromstring(xml) obj = config.LibvirtConfigGuestDisk() obj.parse_dom(xmldoc) self.assertEqual(obj.source_type, 'block') self.assertEqual(obj.source_path, '/tmp/hello') self.assertEqual(obj.target_dev, '/dev/hdc') self.assertEqual(obj.target_bus, 'ide') def test_config_network(self): obj = config.LibvirtConfigGuestDisk() obj.source_type = ""network"" obj.source_protocol = ""iscsi"" obj.source_name = ""foo.bar.com"" obj.driver_name = ""qemu"" obj.driver_format = ""qcow2"" obj.target_dev = ""/dev/hda"" obj.target_bus = ""ide"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <disk type=""network"" device=""disk""> <driver name=""qemu"" type=""qcow2""/> <source name=""foo.bar.com"" protocol=""iscsi""/> <target bus=""ide"" dev=""/dev/hda""/> </disk>"""""") def test_config_network_parse(self): xml = """"""<disk type=""network"" device=""disk""> <driver name=""qemu"" type=""qcow2""/> <source name=""foo.bar.com"" protocol=""iscsi""/> <target bus=""ide"" dev=""/dev/hda""/> </disk>"""""" xmldoc = etree.fromstring(xml) obj = config.LibvirtConfigGuestDisk() obj.parse_dom(xmldoc) self.assertEqual(obj.source_type, 'network') self.assertEqual(obj.source_protocol, 'iscsi') self.assertEqual(obj.source_name, 'foo.bar.com') self.assertEqual(obj.driver_name, 'qemu') self.assertEqual(obj.driver_format, 'qcow2') self.assertEqual(obj.target_dev, '/dev/hda') self.assertEqual(obj.target_bus, 'ide') def test_config_network_no_name(self): obj = config.LibvirtConfigGuestDisk() obj.source_type = 'network' obj.source_protocol = 'nbd' obj.source_hosts = ['foo.bar.com'] obj.source_ports = [None] obj.driver_name = 'qemu' obj.driver_format = 'raw' obj.target_dev = '/dev/vda' obj.target_bus = 'virtio' xml = obj.to_xml() self.assertXmlEqual(xml, """""" <disk type=""network"" device=""disk""> <driver name=""qemu"" type=""raw""/> <source protocol=""nbd""> <host name=""foo.bar.com""/> </source> <target bus=""virtio"" dev=""/dev/vda""/> </disk>"""""") def test_config_network_multihost(self): obj = config.LibvirtConfigGuestDisk() obj.source_type = 'network' obj.source_protocol = 'rbd' obj.source_name = 'pool/image' obj.source_hosts = ['foo.bar.com', '::1', '1.2.3.4'] obj.source_ports = [None, '123', '456'] obj.driver_name = 'qemu' obj.driver_format = 'raw' obj.target_dev = '/dev/vda' obj.target_bus = 'virtio' xml = obj.to_xml() self.assertXmlEqual(xml, """""" <disk type=""network"" device=""disk""> <driver name=""qemu"" type=""raw""/> <source name=""pool/image"" protocol=""rbd""> <host name=""foo.bar.com""/> <host name=""::1"" port=""123""/> <host name=""1.2.3.4"" port=""456""/> </source> <target bus=""virtio"" dev=""/dev/vda""/> </disk>"""""") def test_config_network_auth(self): obj = config.LibvirtConfigGuestDisk() obj.source_type = ""network"" obj.source_protocol = ""rbd"" obj.source_name = ""pool/image"" obj.driver_name = ""qemu"" obj.driver_format = ""raw"" obj.target_dev = ""/dev/vda"" obj.target_bus = ""virtio"" obj.auth_username = ""foo"" obj.auth_secret_type = ""ceph"" obj.auth_secret_uuid = ""b38a3f43-4be2-4046-897f-b67c2f5e0147"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <disk type=""network"" device=""disk""> <driver name=""qemu"" type=""raw""/> <source name=""pool/image"" protocol=""rbd""/> <auth username=""foo""> <secret type=""ceph"" uuid=""b38a3f43-4be2-4046-897f-b67c2f5e0147""/> </auth> <target bus=""virtio"" dev=""/dev/vda""/> </disk>"""""") def test_config_iotune(self): obj = config.LibvirtConfigGuestDisk() obj.source_type = ""file"" obj.source_path = ""/tmp/hello"" obj.target_dev = ""/dev/hda"" obj.target_bus = ""ide"" obj.disk_read_bytes_sec = 1024000 obj.disk_read_iops_sec = 1000 obj.disk_total_bytes_sec = 2048000 obj.disk_write_bytes_sec = 1024000 obj.disk_write_iops_sec = 1000 obj.disk_total_iops_sec = 2000 xml = obj.to_xml() self.assertXmlEqual(xml, """""" <disk type=""file"" device=""disk""> <source file=""/tmp/hello""/> <target bus=""ide"" dev=""/dev/hda""/> <iotune> <read_bytes_sec>1024000</read_bytes_sec> <read_iops_sec>1000</read_iops_sec> <write_bytes_sec>1024000</write_bytes_sec> <write_iops_sec>1000</write_iops_sec> <total_bytes_sec>2048000</total_bytes_sec> <total_iops_sec>2000</total_iops_sec> </iotune> </disk>"""""") def test_config_blockio(self): obj = config.LibvirtConfigGuestDisk() obj.source_type = ""file"" obj.source_path = ""/tmp/hello"" obj.target_dev = ""/dev/hda"" obj.target_bus = ""ide"" obj.logical_block_size = ""4096"" obj.physical_block_size = ""4096"" xml = obj.to_xml() self.assertXmlEqual("""""" <disk type=""file"" device=""disk""> <source file=""/tmp/hello""/> <target bus=""ide"" dev=""/dev/hda""/> <blockio logical_block_size=""4096"" physical_block_size=""4096""/> </disk>"""""", xml) class LibvirtConfigGuestSnapshotDiskTest(LibvirtConfigBaseTest): def test_config_file(self): obj = config.LibvirtConfigGuestDisk() obj.source_type = ""file"" obj.source_path = ""/tmp/hello"" obj.target_dev = ""/dev/hda"" obj.target_bus = ""ide"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <disk type=""file"" device=""disk""> <source file=""/tmp/hello""/> <target bus=""ide"" dev=""/dev/hda""/> </disk>"""""") def test_config_file_parse(self): xml = """"""<disk type=""file"" device=""disk""> <source file=""/tmp/hello""/> <target bus=""ide"" dev=""/dev/hda""/> </disk>"""""" xmldoc = etree.fromstring(xml) obj = config.LibvirtConfigGuestDisk() obj.parse_dom(xmldoc) self.assertEqual(obj.source_type, 'file') self.assertEqual(obj.source_path, '/tmp/hello') self.assertEqual(obj.target_dev, '/dev/hda') self.assertEqual(obj.target_bus, 'ide') class LibvirtConfigGuestDiskBackingStoreTest(LibvirtConfigBaseTest): def test_config_file_parse(self): xml = """"""<backingStore type='file'> <driver name='qemu' type='qcow2'/> <source file='/var/lib/libvirt/images/mid.qcow2'/> <backingStore type='file'> <driver name='qemu' type='qcow2'/> <source file='/var/lib/libvirt/images/base.qcow2'/> <backingStore/> </backingStore> </backingStore> """""" xmldoc = etree.fromstring(xml) obj = config.LibvirtConfigGuestDiskBackingStore() obj.parse_dom(xmldoc) self.assertEqual(obj.driver_name, 'qemu') self.assertEqual(obj.driver_format, 'qcow2') self.assertEqual(obj.source_type, 'file') self.assertEqual(obj.source_file, '/var/lib/libvirt/images/mid.qcow2') self.assertEqual(obj.backing_store.driver_name, 'qemu') self.assertEqual(obj.backing_store.source_type, 'file') self.assertEqual(obj.backing_store.source_file, '/var/lib/libvirt/images/base.qcow2') self.assertIsNone(obj.backing_store.backing_store) def test_config_network_parse(self): xml = """"""<backingStore type='network' index='1'> <format type='qcow2'/> <source protocol='gluster' name='volume1/img1'> <host name='host1' port='24007'/> </source> <backingStore type='network' index='2'> <format type='qcow2'/> <source protocol='gluster' name='volume1/img2'> <host name='host1' port='24007'/> </source> <backingStore/> </backingStore> </backingStore> """""" xmldoc = etree.fromstring(xml) obj = config.LibvirtConfigGuestDiskBackingStore() obj.parse_dom(xmldoc) self.assertEqual(obj.source_type, 'network') self.assertEqual(obj.source_protocol, 'gluster') self.assertEqual(obj.source_name, 'volume1/img1') self.assertEqual(obj.source_hosts[0], 'host1') self.assertEqual(obj.source_ports[0], '24007') self.assertEqual(obj.index, '1') self.assertEqual(obj.backing_store.source_name, 'volume1/img2') self.assertEqual(obj.backing_store.index, '2') self.assertEqual(obj.backing_store.source_hosts[0], 'host1') self.assertEqual(obj.backing_store.source_ports[0], '24007') self.assertIsNone(obj.backing_store.backing_store) class LibvirtConfigGuestFilesysTest(LibvirtConfigBaseTest): def test_config_mount(self): obj = config.LibvirtConfigGuestFilesys() obj.source_type = ""mount"" obj.source_dir = ""/tmp/hello"" obj.target_dir = ""/mnt"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <filesystem type=""mount""> <source dir=""/tmp/hello""/> <target dir=""/mnt""/> </filesystem>"""""") def test_config_block(self): obj = config.LibvirtConfigGuestFilesys() obj.source_type = ""block"" obj.source_dev = ""/dev/sdb"" obj.target_dir = ""/mnt"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <filesystem type=""block""> <source dev=""/dev/sdb""/> <target dir=""/mnt""/> </filesystem>"""""") def test_config_file(self): obj = config.LibvirtConfigGuestFilesys() obj.source_type = ""file"" obj.source_file = ""/data/myimage.qcow2"" obj.driver_type = ""nbd"" obj.driver_format = ""qcow2"" obj.target_dir = ""/mnt"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <filesystem type=""file""> <driver format=""qcow2"" type=""nbd""/> <source file=""/data/myimage.qcow2""/> <target dir=""/mnt""/> </filesystem>"""""") class LibvirtConfigGuestInputTest(LibvirtConfigBaseTest): def test_config_tablet(self): obj = config.LibvirtConfigGuestInput() xml = obj.to_xml() self.assertXmlEqual(xml, """""" <input type=""tablet"" bus=""usb""/>"""""") class LibvirtConfigGuestGraphicsTest(LibvirtConfigBaseTest): def test_config_graphics(self): obj = config.LibvirtConfigGuestGraphics() obj.type = ""vnc"" obj.autoport = True obj.keymap = ""en_US"" obj.listen = ""127.0.0.1"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <graphics type=""vnc"" autoport=""yes"" keymap=""en_US"" listen=""127.0.0.1""/> """""") class LibvirtConfigGuestHostdev(LibvirtConfigBaseTest): def test_config_pci_guest_host_dev(self): obj = config.LibvirtConfigGuestHostdev(mode='subsystem', type='pci') xml = obj.to_xml() expected = """""" <hostdev mode=""subsystem"" type=""pci"" managed=""yes""/> """""" self.assertXmlEqual(xml, expected) def test_parse_GuestHostdev(self): xmldoc = """"""<hostdev mode=""subsystem"" type=""pci"" managed=""yes""/>"""""" obj = config.LibvirtConfigGuestHostdev() obj.parse_str(xmldoc) self.assertEqual(obj.mode, 'subsystem') self.assertEqual(obj.type, 'pci') self.assertEqual(obj.managed, 'yes') def test_parse_GuestHostdev_non_pci(self): xmldoc = """"""<hostdev mode=""subsystem"" type=""usb"" managed=""no""/>"""""" obj = config.LibvirtConfigGuestHostdev() obj.parse_str(xmldoc) self.assertEqual(obj.mode, 'subsystem') self.assertEqual(obj.type, 'usb') self.assertEqual(obj.managed, 'no') class LibvirtConfigGuestHostdevPCI(LibvirtConfigBaseTest): expected = """""" <hostdev mode=""subsystem"" type=""pci"" managed=""yes""> <source> <address bus=""0x11"" domain=""0x1234"" function=""0x3"" slot=""0x22"" /> </source> </hostdev> """""" def test_config_guest_hosdev_pci(self): hostdev = config.LibvirtConfigGuestHostdevPCI() hostdev.domain = ""1234"" hostdev.bus = ""11"" hostdev.slot = ""22"" hostdev.function = ""3"" xml = hostdev.to_xml() self.assertXmlEqual(self.expected, xml) def test_parse_guest_hosdev_pci(self): xmldoc = self.expected obj = config.LibvirtConfigGuestHostdevPCI() obj.parse_str(xmldoc) self.assertEqual(obj.mode, 'subsystem') self.assertEqual(obj.type, 'pci') self.assertEqual(obj.managed, 'yes') self.assertEqual(obj.domain, '0x1234') self.assertEqual(obj.bus, '0x11') self.assertEqual(obj.slot, '0x22') self.assertEqual(obj.function, '0x3') def test_parse_guest_hosdev_usb(self): xmldoc = """"""<hostdev mode='subsystem' type='usb'> <source startupPolicy='optional'> <vendor id='0x1234'/> <product id='0xbeef'/> </source> <boot order='2'/> </hostdev>"""""" obj = config.LibvirtConfigGuestHostdevPCI() obj.parse_str(xmldoc) self.assertEqual(obj.mode, 'subsystem') self.assertEqual(obj.type, 'usb') class LibvirtConfigGuestSerialTest(LibvirtConfigBaseTest): def test_config_file(self): obj = config.LibvirtConfigGuestSerial() obj.type = ""file"" obj.source_path = ""/tmp/vm.log"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <serial type=""file""> <source path=""/tmp/vm.log""/> </serial>"""""") def test_config_serial_port(self): obj = config.LibvirtConfigGuestSerial() obj.type = ""tcp"" obj.listen_port = 11111 obj.listen_host = ""0.0.0.0"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <serial type=""tcp""> <source host=""0.0.0.0"" service=""11111"" mode=""bind""/> </serial>"""""") class LibvirtConfigGuestConsoleTest(LibvirtConfigBaseTest): def test_config_pty(self): obj = config.LibvirtConfigGuestConsole() obj.type = ""pty"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <console type=""pty""/>"""""") def test_config_target_type(self): obj = config.LibvirtConfigGuestConsole() obj.type = ""pty"" obj.target_type = ""sclp"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <console type=""pty""> <target type=""sclp""/> </console> """""") def test_config_type_file_with_target_type(self): obj = config.LibvirtConfigGuestConsole() obj.type = ""file"" obj.target_type = ""sclplm"" obj.source_path = ""/var/lib/nova/instances/uuid/console.log"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <console type=""file""> <source path=""/var/lib/nova/instances/uuid/console.log""/> <target type=""sclplm""/> </console> """""") def test_config_target_port(self): obj = config.LibvirtConfigGuestConsole() obj.target_port = 0 xml = obj.to_xml() self.assertXmlEqual(xml, """""" <console type=""pty""> <target port=""0""/> </console> """""") class LibvirtConfigGuestChannelTest(LibvirtConfigBaseTest): def test_config_spice_minimal(self): obj = config.LibvirtConfigGuestChannel() obj.type = ""spicevmc"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <channel type=""spicevmc""> <target type='virtio'/> </channel>"""""") def test_config_spice_full(self): obj = config.LibvirtConfigGuestChannel() obj.type = ""spicevmc"" obj.target_name = ""com.redhat.spice.0"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <channel type=""spicevmc""> <target type='virtio' name='com.redhat.spice.0'/> </channel>"""""") def test_config_qga_full(self): obj = config.LibvirtConfigGuestChannel() obj.type = ""unix"" obj.target_name = ""org.qemu.guest_agent.0"" obj.source_path = ""/var/lib/libvirt/qemu/%s.%s.sock"" % ( obj.target_name, ""instance-name"") xml = obj.to_xml() self.assertXmlEqual(xml, """""" <channel type=""unix""> <source path=""%s"" mode=""bind""/> <target type=""virtio"" name=""org.qemu.guest_agent.0""/> </channel>"""""" % obj.source_path) class LibvirtConfigGuestInterfaceTest(LibvirtConfigBaseTest): def test_config_ethernet(self): obj = config.LibvirtConfigGuestInterface() obj.net_type = ""ethernet"" obj.mac_addr = ""DE:AD:BE:EF:CA:FE"" obj.model = ""virtio"" obj.target_dev = ""vnet0"" obj.driver_name = ""vhost"" obj.vif_inbound_average = 1024000 obj.vif_inbound_peak = 10240000 obj.vif_inbound_burst = 1024000 obj.vif_outbound_average = 1024000 obj.vif_outbound_peak = 10240000 obj.vif_outbound_burst = 1024000 xml = obj.to_xml() self.assertXmlEqual(xml, """""" <interface type=""ethernet""> <mac address=""DE:AD:BE:EF:CA:FE""/> <model type=""virtio""/> <driver name=""vhost""/> <target dev=""vnet0""/> <bandwidth> <inbound average=""1024000"" peak=""10240000"" burst=""1024000""/> <outbound average=""1024000"" peak=""10240000"" burst=""1024000""/> </bandwidth> </interface>"""""") def test_config_bridge(self): obj = config.LibvirtConfigGuestInterface() obj.net_type = ""bridge"" obj.source_dev = ""br0"" obj.mac_addr = ""DE:AD:BE:EF:CA:FE"" obj.model = ""virtio"" obj.target_dev = ""tap12345678"" obj.filtername = ""clean-traffic"" obj.filterparams.append({""key"": ""IP"", ""value"": ""192.168.122.1""}) obj.vif_inbound_average = 1024000 obj.vif_inbound_peak = 10240000 obj.vif_inbound_burst = 1024000 obj.vif_outbound_average = 1024000 obj.vif_outbound_peak = 10240000 obj.vif_outbound_burst = 1024000 xml = obj.to_xml() self.assertXmlEqual(xml, """""" <interface type=""bridge""> <mac address=""DE:AD:BE:EF:CA:FE""/> <model type=""virtio""/> <source bridge=""br0""/> <target dev=""tap12345678""/> <filterref filter=""clean-traffic""> <parameter name=""IP"" value=""192.168.122.1""/> </filterref> <bandwidth> <inbound average=""1024000"" peak=""10240000"" burst=""1024000""/> <outbound average=""1024000"" peak=""10240000"" burst=""1024000""/> </bandwidth> </interface>"""""") def test_config_bridge_ovs(self): obj = config.LibvirtConfigGuestInterface() obj.net_type = ""bridge"" obj.source_dev = ""br0"" obj.mac_addr = ""DE:AD:BE:EF:CA:FE"" obj.model = ""virtio"" obj.target_dev = ""tap12345678"" obj.vporttype = ""openvswitch"" obj.vportparams.append({""key"": ""instanceid"", ""value"": ""foobar""}) xml = obj.to_xml() self.assertXmlEqual(xml, """""" <interface type=""bridge""> <mac address=""DE:AD:BE:EF:CA:FE""/> <model type=""virtio""/> <source bridge=""br0""/> <target dev=""tap12345678""/> <virtualport type=""openvswitch""> <parameters instanceid=""foobar""/> </virtualport> </interface>"""""") def test_config_8021Qbh(self): obj = config.LibvirtConfigGuestInterface() obj.net_type = ""direct"" obj.mac_addr = ""DE:AD:BE:EF:CA:FE"" obj.model = ""virtio"" obj.target_dev = ""tap12345678"" obj.source_dev = ""eth0"" obj.vporttype = ""802.1Qbh"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <interface type=""direct""> <mac address=""DE:AD:BE:EF:CA:FE""/> <model type=""virtio""/> <source dev=""eth0"" mode=""private""/> <target dev=""tap12345678""/> <virtualport type=""802.1Qbh""/> </interface>"""""") def test_config_direct(self): obj = config.LibvirtConfigGuestInterface() obj.net_type = ""direct"" obj.mac_addr = ""DE:AD:BE:EF:CA:FE"" obj.model = ""virtio"" obj.source_dev = ""eth0"" obj.source_mode = ""passthrough"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <interface type=""direct""> <mac address=""DE:AD:BE:EF:CA:FE""/> <model type=""virtio""/> <source dev=""eth0"" mode=""passthrough""/> </interface>"""""") def test_config_8021Qbh_hostdev(self): obj = config.LibvirtConfigGuestInterface() obj.net_type = ""hostdev"" obj.mac_addr = ""DE:AD:BE:EF:CA:FE"" obj.source_dev = ""0000:0a:00.1"" obj.vporttype = ""802.1Qbh"" obj.add_vport_param(""profileid"", ""MyPortProfile"") xml = obj.to_xml() self.assertXmlEqual(xml, """""" <interface type=""hostdev"" managed=""yes""> <mac address=""DE:AD:BE:EF:CA:FE""/> <source> <address type=""pci"" domain=""0x0000"" bus=""0x0a"" slot=""0x00"" function=""0x1""/> </source> <virtualport type=""802.1Qbh""> <parameters profileid=""MyPortProfile""/> </virtualport> </interface>"""""") def test_config_hw_veb_hostdev(self): obj = config.LibvirtConfigGuestInterface() obj.net_type = ""hostdev"" obj.mac_addr = ""DE:AD:BE:EF:CA:FE"" obj.source_dev = ""0000:0a:00.1"" obj.vlan = ""100"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <interface type=""hostdev"" managed=""yes""> <mac address=""DE:AD:BE:EF:CA:FE""/> <source> <address type=""pci"" domain=""0x0000"" bus=""0x0a"" slot=""0x00"" function=""0x1""/> </source> <vlan> <tag id=""100""/> </vlan> </interface>"""""") def test_config_vhostuser(self): obj = config.LibvirtConfigGuestInterface() obj.net_type = ""vhostuser"" obj.vhostuser_type = ""unix"" obj.vhostuser_mode = ""server"" obj.mac_addr = ""DE:AD:BE:EF:CA:FE"" obj.vhostuser_path = ""/vhost-user/test.sock"" obj.model = ""virtio"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <interface type=""vhostuser""> <mac address=""DE:AD:BE:EF:CA:FE""/> <model type=""virtio""/> <source type=""unix"" mode=""server"" path=""/vhost-user/test.sock""/> </interface>"""""") class LibvirtConfigGuestFeatureTest(LibvirtConfigBaseTest): def test_feature_hyperv_relaxed(self): obj = config.LibvirtConfigGuestFeatureHyperV() obj.relaxed = True xml = obj.to_xml() self.assertXmlEqual(xml, """""" <hyperv> <relaxed state=""on""/> </hyperv>"""""") def test_feature_hyperv_all(self): obj = config.LibvirtConfigGuestFeatureHyperV() obj.relaxed = True obj.vapic = True obj.spinlocks = True xml = obj.to_xml() self.assertXmlEqual(xml, """""" <hyperv> <relaxed state=""on""/> <vapic state=""on""/> <spinlocks state=""on"" retries=""4095""/> </hyperv>"""""") class LibvirtConfigGuestTest(LibvirtConfigBaseTest): def test_config_lxc(self): obj = config.LibvirtConfigGuest() obj.virt_type = ""lxc"" obj.memory = 100 * units.Mi obj.vcpus = 2 obj.cpuset = set([0, 1, 3, 4, 5]) obj.name = ""demo"" obj.uuid = ""b38a3f43-4be2-4046-897f-b67c2f5e0147"" obj.os_type = ""exe"" obj.os_init_path = ""/sbin/init"" fs = config.LibvirtConfigGuestFilesys() fs.source_dir = ""/root/lxc"" fs.target_dir = ""/"" obj.add_device(fs) xml = obj.to_xml() self.assertXmlEqual(xml, """""" <domain type=""lxc""> <uuid>b38a3f43-4be2-4046-897f-b67c2f5e0147</uuid> <name>demo</name> <memory>104857600</memory> <vcpu cpuset=""0-1,3-5"">2</vcpu> <os> <type>exe</type> <init>/sbin/init</init> </os> <devices> <filesystem type=""mount""> <source dir=""/root/lxc""/> <target dir=""/""/> </filesystem> </devices> </domain>"""""") def test_config_lxc_with_idmap(self): obj = config.LibvirtConfigGuest() obj.virt_type = ""lxc"" obj.memory = 100 * units.Mi obj.vcpus = 2 obj.cpuset = set([0, 1, 3, 4, 5]) obj.name = ""demo"" obj.uuid = ""b38a3f43-4be2-4046-897f-b67c2f5e0147"" obj.os_type = ""exe"" obj.os_init_path = ""/sbin/init"" uidmap = config.LibvirtConfigGuestUIDMap() uidmap.target = ""10000"" uidmap.count = ""1"" obj.idmaps.append(uidmap) gidmap = config.LibvirtConfigGuestGIDMap() gidmap.target = ""10000"" gidmap.count = ""1"" obj.idmaps.append(gidmap) fs = config.LibvirtConfigGuestFilesys() fs.source_dir = ""/root/lxc"" fs.target_dir = ""/"" obj.add_device(fs) xml = obj.to_xml() self.assertXmlEqual("""""" <domain type=""lxc""> <uuid>b38a3f43-4be2-4046-897f-b67c2f5e0147</uuid> <name>demo</name> <memory>104857600</memory> <vcpu cpuset=""0-1,3-5"">2</vcpu> <os> <type>exe</type> <init>/sbin/init</init> </os> <devices> <filesystem type=""mount""> <source dir=""/root/lxc""/> <target dir=""/""/> </filesystem> </devices> <idmap> <uid start=""0"" target=""10000"" count=""1""/> <gid start=""0"" target=""10000"" count=""1""/> </idmap> </domain>"""""", xml) def test_config_xen_pv(self): obj = config.LibvirtConfigGuest() obj.virt_type = ""xen"" obj.memory = 100 * units.Mi obj.vcpus = 2 obj.cpuset = set([0, 1, 3, 4, 5]) obj.name = ""demo"" obj.uuid = ""b38a3f43-4be2-4046-897f-b67c2f5e0147"" obj.os_type = ""linux"" obj.os_kernel = ""/tmp/vmlinuz"" obj.os_initrd = ""/tmp/ramdisk"" obj.os_cmdline = ""console=xvc0"" disk = config.LibvirtConfigGuestDisk() disk.source_type = ""file"" disk.source_path = ""/tmp/img"" disk.target_dev = ""/dev/xvda"" disk.target_bus = ""xen"" obj.add_device(disk) xml = obj.to_xml() self.assertXmlEqual(xml, """""" <domain type=""xen""> <uuid>b38a3f43-4be2-4046-897f-b67c2f5e0147</uuid> <name>demo</name> <memory>104857600</memory> <vcpu cpuset=""0-1,3-5"">2</vcpu> <os> <type>linux</type> <kernel>/tmp/vmlinuz</kernel> <initrd>/tmp/ramdisk</initrd> <cmdline>console=xvc0</cmdline> </os> <devices> <disk type=""file"" device=""disk""> <source file=""/tmp/img""/> <target bus=""xen"" dev=""/dev/xvda""/> </disk> </devices> </domain>"""""") def test_config_xen_hvm(self): obj = config.LibvirtConfigGuest() obj.virt_type = ""xen"" obj.memory = 100 * units.Mi obj.vcpus = 2 obj.cpuset = set([0, 1, 3, 4, 5]) obj.name = ""demo"" obj.uuid = ""b38a3f43-4be2-4046-897f-b67c2f5e0147"" obj.os_type = ""hvm"" obj.os_loader = '/usr/lib/xen/boot/hvmloader' obj.os_root = ""root=xvda"" obj.os_cmdline = ""console=xvc0"" obj.features = [ config.LibvirtConfigGuestFeatureACPI(), config.LibvirtConfigGuestFeatureAPIC(), config.LibvirtConfigGuestFeaturePAE(), ] disk = config.LibvirtConfigGuestDisk() disk.source_type = ""file"" disk.source_path = ""/tmp/img"" disk.target_dev = ""/dev/xvda"" disk.target_bus = ""xen"" obj.add_device(disk) xml = obj.to_xml() self.assertXmlEqual(xml, """""" <domain type=""xen""> <uuid>b38a3f43-4be2-4046-897f-b67c2f5e0147</uuid> <name>demo</name> <memory>104857600</memory> <vcpu cpuset=""0-1,3-5"">2</vcpu> <os> <type>hvm</type> <loader>/usr/lib/xen/boot/hvmloader</loader> <cmdline>console=xvc0</cmdline> <root>root=xvda</root> </os> <features> <acpi/> <apic/> <pae/> </features> <devices> <disk type=""file"" device=""disk""> <source file=""/tmp/img""/> <target bus=""xen"" dev=""/dev/xvda""/> </disk> </devices> </domain>"""""") def test_config_kvm(self): obj = config.LibvirtConfigGuest() obj.virt_type = ""kvm"" obj.memory = 100 * units.Mi obj.vcpus = 2 obj.cpuset = set([0, 1, 3, 4, 5]) obj.cputune = config.LibvirtConfigGuestCPUTune() obj.cputune.shares = 100 obj.cputune.quota = 50000 obj.cputune.period = 25000 obj.membacking = config.LibvirtConfigGuestMemoryBacking() page1 = config.LibvirtConfigGuestMemoryBackingPage() page1.size_kb = 2048 page1.nodeset = [0, 1, 2, 3, 5] page2 = config.LibvirtConfigGuestMemoryBackingPage() page2.size_kb = 1048576 page2.nodeset = [4] obj.membacking.hugepages.append(page1) obj.membacking.hugepages.append(page2) obj.memtune = config.LibvirtConfigGuestMemoryTune() obj.memtune.hard_limit = 496 obj.memtune.soft_limit = 672 obj.memtune.swap_hard_limit = 1638 obj.memtune.min_guarantee = 2970 obj.numatune = config.LibvirtConfigGuestNUMATune() numamemory = config.LibvirtConfigGuestNUMATuneMemory() numamemory.mode = ""preferred"" numamemory.nodeset = [0, 1, 2, 3, 8] obj.numatune.memory = numamemory numamemnode0 = config.LibvirtConfigGuestNUMATuneMemNode() numamemnode0.cellid = 0 numamemnode0.mode = ""preferred"" numamemnode0.nodeset = [0, 1] numamemnode1 = config.LibvirtConfigGuestNUMATuneMemNode() numamemnode1.cellid = 1 numamemnode1.mode = ""preferred"" numamemnode1.nodeset = [2, 3] numamemnode2 = config.LibvirtConfigGuestNUMATuneMemNode() numamemnode2.cellid = 2 numamemnode2.mode = ""preferred"" numamemnode2.nodeset = [8] obj.numatune.memnodes.extend([numamemnode0, numamemnode1, numamemnode2]) obj.name = ""demo"" obj.uuid = ""b38a3f43-4be2-4046-897f-b67c2f5e0147"" obj.os_type = ""linux"" obj.os_boot_dev = [""hd"", ""cdrom"", ""fd""] obj.os_smbios = config.LibvirtConfigGuestSMBIOS() obj.features = [ config.LibvirtConfigGuestFeatureACPI(), config.LibvirtConfigGuestFeatureAPIC(), config.LibvirtConfigGuestFeaturePAE(), ] obj.sysinfo = config.LibvirtConfigGuestSysinfo() obj.sysinfo.bios_vendor = ""Acme"" obj.sysinfo.system_version = ""1.0.0"" disk = config.LibvirtConfigGuestDisk() disk.source_type = ""file"" disk.source_path = ""/tmp/img"" disk.target_dev = ""/dev/vda"" disk.target_bus = ""virtio"" obj.add_device(disk) xml = obj.to_xml() self.assertXmlEqual(xml, """""" <domain type=""kvm""> <uuid>b38a3f43-4be2-4046-897f-b67c2f5e0147</uuid> <name>demo</name> <memory>104857600</memory> <memoryBacking> <hugepages> <page size=""2048"" unit=""KiB"" nodeset=""0-3,5""/> <page size=""1048576"" unit=""KiB"" nodeset=""4""/> </hugepages> </memoryBacking> <memtune> <hard_limit units=""K"">496</hard_limit> <soft_limit units=""K"">672</soft_limit> <swap_hard_limit units=""K"">1638</swap_hard_limit> <min_guarantee units=""K"">2970</min_guarantee> </memtune> <numatune> <memory mode=""preferred"" nodeset=""0-3,8""/> <memnode cellid=""0"" mode=""preferred"" nodeset=""0-1""/> <memnode cellid=""1"" mode=""preferred"" nodeset=""2-3""/> <memnode cellid=""2"" mode=""preferred"" nodeset=""8""/> </numatune> <vcpu cpuset=""0-1,3-5"">2</vcpu> <sysinfo type='smbios'> <bios> <entry name=""vendor"">Acme</entry> </bios> <system> <entry name=""version"">1.0.0</entry> </system> </sysinfo> <os> <type>linux</type> <boot dev=""hd""/> <boot dev=""cdrom""/> <boot dev=""fd""/> <smbios mode=""sysinfo""/> </os> <features> <acpi/> <apic/> <pae/> </features> <cputune> <shares>100</shares> <quota>50000</quota> <period>25000</period> </cputune> <devices> <disk type=""file"" device=""disk""> <source file=""/tmp/img""/> <target bus=""virtio"" dev=""/dev/vda""/> </disk> </devices> </domain>"""""") def test_config_boot_menu(self): obj = config.LibvirtConfigGuest() obj.virt_type = ""kvm"" obj.memory = 100 * units.Mi obj.vcpus = 2 obj.name = ""bootmenu"" obj.uuid = ""f01cf68d-515c-4daf-b85f-ef1424d93bfc"" obj.os_type = ""fake"" obj.os_bootmenu = True xml = obj.to_xml() self.assertXmlEqual(xml, """""" <domain type=""kvm""> <uuid>f01cf68d-515c-4daf-b85f-ef1424d93bfc</uuid> <name>bootmenu</name> <memory>104857600</memory> <vcpu>2</vcpu> <os> <type>fake</type> <bootmenu enable=""yes""/> </os> </domain>"""""") def test_config_machine_type(self): obj = config.LibvirtConfigGuest() obj.virt_type = ""kvm"" obj.memory = 100 * units.Mi obj.vcpus = 2 obj.name = ""demo"" obj.uuid = ""b38a3f43-4be2-4046-897f-b67c2f5e0147"" obj.os_type = ""hvm"" obj.os_mach_type = ""fake_machine_type"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <domain type=""kvm""> <uuid>b38a3f43-4be2-4046-897f-b67c2f5e0147</uuid> <name>demo</name> <memory>104857600</memory> <vcpu>2</vcpu> <os> <type machine=""fake_machine_type"">hvm</type> </os> </domain>"""""") def test_ConfigGuest_parse_devices(self): xmldoc = """""" <domain type=""kvm""> <devices> <hostdev mode=""subsystem"" type=""pci"" managed=""no""> </hostdev> </devices> </domain> """""" obj = config.LibvirtConfigGuest() obj.parse_str(xmldoc) self.assertEqual(len(obj.devices), 1) self.assertIsInstance(obj.devices[0], config.LibvirtConfigGuestHostdevPCI) self.assertEqual(obj.devices[0].mode, 'subsystem') self.assertEqual(obj.devices[0].managed, 'no') def test_ConfigGuest_parse_devices_wrong_type(self): xmldoc = """""" <domain type=""kvm""> <devices> <hostdev mode=""subsystem"" type=""xxxx"" managed=""no""> </hostdev> </devices> </domain> """""" obj = config.LibvirtConfigGuest() obj.parse_str(xmldoc) self.assertEqual(len(obj.devices), 0) def test_ConfigGuest_parese_cpu(self): xmldoc = """""" <domain> <cpu mode='custom' match='exact'> <model>kvm64</model> </cpu> </domain> """""" obj = config.LibvirtConfigGuest() obj.parse_str(xmldoc) self.assertEqual(obj.cpu.mode, 'custom') self.assertEqual(obj.cpu.match, 'exact') self.assertEqual(obj.cpu.model, 'kvm64') class LibvirtConfigGuestSnapshotTest(LibvirtConfigBaseTest): def test_config_snapshot(self): obj = config.LibvirtConfigGuestSnapshot() obj.name = ""Demo"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <domainsnapshot> <name>Demo</name> <disks/> </domainsnapshot>"""""") def test_config_snapshot_with_disks(self): obj = config.LibvirtConfigGuestSnapshot() obj.name = ""Demo"" disk = config.LibvirtConfigGuestSnapshotDisk() disk.name = 'vda' disk.source_path = 'source-path' disk.source_type = 'file' disk.snapshot = 'external' disk.driver_name = 'qcow2' obj.add_disk(disk) disk2 = config.LibvirtConfigGuestSnapshotDisk() disk2.name = 'vdb' disk2.snapshot = 'no' obj.add_disk(disk2) xml = obj.to_xml() self.assertXmlEqual(xml, """""" <domainsnapshot> <name>Demo</name> <disks> <disk name='vda' snapshot='external' type='file'> <source file='source-path'/> </disk> <disk name='vdb' snapshot='no'/> </disks> </domainsnapshot>"""""") def test_config_snapshot_with_network_disks(self): obj = config.LibvirtConfigGuestSnapshot() obj.name = ""Demo"" disk = config.LibvirtConfigGuestSnapshotDisk() disk.name = 'vda' disk.source_name = 'source-file' disk.source_type = 'network' disk.source_hosts = ['host1'] disk.source_ports = ['12345'] disk.source_protocol = 'glusterfs' disk.snapshot = 'external' disk.driver_name = 'qcow2' obj.add_disk(disk) disk2 = config.LibvirtConfigGuestSnapshotDisk() disk2.name = 'vdb' disk2.snapshot = 'no' obj.add_disk(disk2) xml = obj.to_xml() self.assertXmlEqual(xml, """""" <domainsnapshot> <name>Demo</name> <disks> <disk name='vda' snapshot='external' type='network'> <source protocol='glusterfs' name='source-file'> <host name='host1' port='12345'/> </source> </disk> <disk name='vdb' snapshot='no'/> </disks> </domainsnapshot>"""""") class LibvirtConfigNodeDeviceTest(LibvirtConfigBaseTest): def test_config_virt_usb_device(self): xmlin = """""" <device> <name>usb_0000_09_00_0</name> <parent>pci_0000_00_1c_0</parent> <driver> <name>vxge</name> </driver> <capability type=""usb""> <domain>0</domain> <capability type=""fake_usb""> <address fake_usb=""fake""/> </capability> </capability> </device>"""""" obj = config.LibvirtConfigNodeDevice() obj.parse_str(xmlin) self.assertIsNone(obj.pci_capability) def test_config_virt_device(self): xmlin = """""" <device> <name>pci_0000_09_00_0</name> <parent>pci_0000_00_1c_0</parent> <driver> <name>vxge</name> </driver> <capability type=""pci""> <domain>0</domain> <bus>9</bus> <slot>0</slot> <function>0</function> <product id=""0x5833"">X3100 Series 10 Gigabit Ethernet PCIe</product> <vendor id=""0x17d5"">Neterion Inc.</vendor> <capability type=""virt_functions""> <address domain=""0x0000"" bus=""0x0a"" slot=""0x00"" function=""0x1""/> <address domain=""0x0000"" bus=""0x0a"" slot=""0x00"" function=""0x2""/> <address domain=""0x0000"" bus=""0x0a"" slot=""0x00"" function=""0x3""/> </capability> </capability> </device>"""""" obj = config.LibvirtConfigNodeDevice() obj.parse_str(xmlin) self.assertIsInstance(obj.pci_capability, config.LibvirtConfigNodeDevicePciCap) self.assertIsInstance(obj.pci_capability.fun_capability[0], config.LibvirtConfigNodeDevicePciSubFunctionCap) self.assertEqual(obj.pci_capability.fun_capability[0].type, ""virt_functions"") self.assertEqual(len(obj.pci_capability.fun_capability[0]. device_addrs), 3) self.assertEqual(obj.pci_capability.bus, 9) def test_config_phy_device(self): xmlin = """""" <device> <name>pci_0000_33_00_0</name> <parent>pci_0000_22_1c_0</parent> <driver> <name>vxx</name> </driver> <capability type=""pci""> <domain>0</domain> <bus>9</bus> <slot>0</slot> <function>0</function> <product id=""0x5833"">X3100 Series 10 Gigabit Ethernet PCIe</product> <vendor id=""0x17d5"">Neterion Inc.</vendor> <capability type=""phys_function""> <address domain='0x0000' bus='0x09' slot='0x00' function='0x0'/> </capability> </capability> </device>"""""" obj = config.LibvirtConfigNodeDevice() obj.parse_str(xmlin) self.assertIsInstance(obj.pci_capability, config.LibvirtConfigNodeDevicePciCap) self.assertIsInstance(obj.pci_capability.fun_capability[0], config.LibvirtConfigNodeDevicePciSubFunctionCap) self.assertEqual(obj.pci_capability.fun_capability[0].type, ""phys_function"") self.assertEqual(len(obj.pci_capability.fun_capability[0]. device_addrs), 1) def test_config_non_device(self): xmlin = """""" <device> <name>pci_0000_33_00_0</name> <parent>pci_0000_22_1c_0</parent> <driver> <name>vxx</name> </driver> <capability type=""pci""> <domain>0</domain> <bus>9</bus> <slot>0</slot> <function>0</function> <product id=""0x5833"">X3100 Series 10 Gigabit Ethernet PCIe</product> <vendor id=""0x17d5"">Neterion Inc.</vendor> <capability type=""virt_functions""/> </capability> </device>"""""" obj = config.LibvirtConfigNodeDevice() obj.parse_str(xmlin) self.assertIsInstance(obj.pci_capability, config.LibvirtConfigNodeDevicePciCap) self.assertIsInstance(obj.pci_capability.fun_capability[0], config.LibvirtConfigNodeDevicePciSubFunctionCap) self.assertEqual(obj.pci_capability.fun_capability[0].type, ""virt_functions"") def test_config_fail_device(self): xmlin = """""" <device> <name>pci_0000_33_00_0</name> <parent>pci_0000_22_1c_0</parent> <driver> <name>vxx</name> </driver> <capability type=""pci""> <domain>0</domain> <bus>9</bus> <slot>0</slot> <function>0</function> <product id=""0x5833"">X3100 Series 10 Gigabit Ethernet PCIe</product> <vendor id=""0x17d5"">Neterion Inc.</vendor> <capability type=""virt_functions""> </capability> </capability> </device>"""""" obj = config.LibvirtConfigNodeDevice() obj.parse_str(xmlin) self.assertIsInstance(obj.pci_capability, config.LibvirtConfigNodeDevicePciCap) self.assertIsInstance(obj.pci_capability.fun_capability[0], config.LibvirtConfigNodeDevicePciSubFunctionCap) self.assertEqual(obj.pci_capability.fun_capability[0].type, ""virt_functions"") def test_config_2cap_device(self): xmlin = """""" <device> <name>pci_0000_04_10_7</name> <parent>pci_0000_00_01_1</parent> <driver> <name>igbvf</name> </driver> <capability type='pci'> <domain>0</domain> <bus>4</bus> <slot>16</slot> <function>7</function> <product id='0x1520'>I350 Ethernet Controller Virtual</product> <vendor id='0x8086'>Intel Corporation</vendor> <capability type='phys_function'> <address domain='0x0000' bus='0x04' slot='0x00' function='0x3'/> </capability> <capability type='virt_functions'> <address domain='0x0000' bus='0x04' slot='0x00' function='0x3'/> </capability> </capability> </device>"""""" obj = config.LibvirtConfigNodeDevice() obj.parse_str(xmlin) self.assertIsInstance(obj.pci_capability, config.LibvirtConfigNodeDevicePciCap) self.assertIsInstance(obj.pci_capability.fun_capability[0], config.LibvirtConfigNodeDevicePciSubFunctionCap) self.assertEqual(obj.pci_capability.fun_capability[0].type, ""phys_function"") self.assertEqual(obj.pci_capability.fun_capability[1].type, ""virt_functions"") class LibvirtConfigNodeDevicePciCapTest(LibvirtConfigBaseTest): def test_config_device_pci_cap(self): xmlin = """""" <capability type=""pci""> <domain>0</domain> <bus>10</bus> <slot>1</slot> <function>5</function> <product id=""0x10bd"">Intel 10 Gigabit Ethernet</product> <vendor id=""0x8086"">Intel Inc.</vendor> <capability type=""virt_functions""> <address domain=""0000"" bus=""0x0a"" slot=""0x1"" function=""0x1""/> <address domain=""0001"" bus=""0x0a"" slot=""0x02"" function=""0x03""/> </capability> </capability>"""""" obj = config.LibvirtConfigNodeDevicePciCap() obj.parse_str(xmlin) self.assertEqual(obj.domain, 0) self.assertEqual(obj.bus, 10) self.assertEqual(obj.slot, 1) self.assertEqual(obj.function, 5) self.assertEqual(obj.product, ""Intel 10 Gigabit Ethernet"") self.assertEqual(obj.product_id, 0x10bd) self.assertEqual(obj.vendor, ""Intel Inc."") self.assertEqual(obj.vendor_id, 0x8086) self.assertIsNone(obj.numa_node) self.assertIsInstance(obj.fun_capability[0], config.LibvirtConfigNodeDevicePciSubFunctionCap) self.assertEqual(obj.fun_capability[0].type, 'virt_functions') self.assertEqual(obj.fun_capability[0].device_addrs, [(0, 10, 1, 1), (1, 10, 2, 3), ]) def test_config_device_pci_2cap(self): xmlin = """""" <capability type=""pci""> <domain>0</domain> <bus>10</bus> <slot>1</slot> <function>5</function> <product id=""0x10bd"">Intel 10 Gigabit Ethernet</product> <vendor id=""0x8086"">Intel Inc.</vendor> <numa node='0'/> <capability type=""virt_functions""> <address domain=""0000"" bus=""0x0a"" slot=""0x1"" function=""0x1""/> <address domain=""0001"" bus=""0x0a"" slot=""0x02"" function=""0x03""/> </capability> <capability type=""phys_function""> <address domain=""0000"" bus=""0x0a"" slot=""0x1"" function=""0x1""/> </capability> </capability>"""""" obj = config.LibvirtConfigNodeDevicePciCap() obj.parse_str(xmlin) self.assertEqual(obj.domain, 0) self.assertEqual(obj.bus, 10) self.assertEqual(obj.slot, 1) self.assertEqual(obj.function, 5) self.assertEqual(obj.product, ""Intel 10 Gigabit Ethernet"") self.assertEqual(obj.product_id, 0x10bd) self.assertEqual(obj.vendor, ""Intel Inc."") self.assertEqual(obj.vendor_id, 0x8086) self.assertEqual(0, obj.numa_node) self.assertIsInstance(obj.fun_capability[0], config.LibvirtConfigNodeDevicePciSubFunctionCap) self.assertEqual(obj.fun_capability[0].type, 'virt_functions') self.assertEqual(obj.fun_capability[0].device_addrs, [(0, 10, 1, 1), (1, 10, 2, 3), ]) self.assertEqual(obj.fun_capability[1].type, 'phys_function') self.assertEqual(obj.fun_capability[1].device_addrs, [(0, 10, 1, 1), ]) def test_config_read_only_disk(self): obj = config.LibvirtConfigGuestDisk() obj.source_type = ""disk"" obj.source_device = ""disk"" obj.driver_name = ""kvm"" obj.target_dev = ""/dev/hdc"" obj.target_bus = ""virtio"" obj.readonly = True xml = obj.to_xml() self.assertXmlEqual(xml, """""" <disk type=""disk"" device=""disk""> <driver name=""kvm""/> <target bus=""virtio"" dev=""/dev/hdc""/> <readonly/> </disk>"""""") obj.readonly = False xml = obj.to_xml() self.assertXmlEqual(xml, """""" <disk type=""disk"" device=""disk""> <driver name=""kvm""/> <target bus=""virtio"" dev=""/dev/hdc""/> </disk>"""""") class LibvirtConfigNodeDevicePciSubFunctionCap(LibvirtConfigBaseTest): def test_config_device_pci_subfunction(self): xmlin = """""" <capability type=""virt_functions""> <address domain=""0000"" bus=""0x0a"" slot=""0x1"" function=""0x1""/> <address domain=""0001"" bus=""0x0a"" slot=""0x02"" function=""0x03""/> </capability>"""""" fun_capability = config.LibvirtConfigNodeDevicePciSubFunctionCap() fun_capability.parse_str(xmlin) self.assertEqual('virt_functions', fun_capability.type) self.assertEqual([(0, 10, 1, 1), (1, 10, 2, 3)], fun_capability.device_addrs) class LibvirtConfigGuestVideoTest(LibvirtConfigBaseTest): def test_config_video_driver(self): obj = config.LibvirtConfigGuestVideo() obj.type = 'qxl' xml = obj.to_xml() self.assertXmlEqual(xml, """""" <video> <model type='qxl'/> </video>"""""") def test_config_video_driver_vram_heads(self): obj = config.LibvirtConfigGuestVideo() obj.type = 'qxl' obj.vram = '9216' obj.heads = '1' xml = obj.to_xml() self.assertXmlEqual(xml, """""" <video> <model type='qxl' vram='9216' heads='1'/> </video>"""""") class LibvirtConfigGuestSeclabel(LibvirtConfigBaseTest): def test_config_seclabel_config(self): obj = config.LibvirtConfigSeclabel() xml = obj.to_xml() self.assertXmlEqual(xml, """""" <seclabel type='dynamic'/>"""""") def test_config_seclabel_baselabel(self): obj = config.LibvirtConfigSeclabel() obj.type = 'dynamic' obj.baselabel = 'system_u:system_r:my_svirt_t:s0' xml = obj.to_xml() self.assertXmlEqual(xml, """""" <seclabel type='dynamic'> <baselabel>system_u:system_r:my_svirt_t:s0</baselabel> </seclabel>"""""") class LibvirtConfigGuestRngTest(LibvirtConfigBaseTest): def test_config_rng_driver(self): obj = config.LibvirtConfigGuestRng() xml = obj.to_xml() self.assertXmlEqual(xml, """""" <rng model='virtio'> <backend model='random'/> </rng>"""""") def test_config_rng_driver_with_rate(self): obj = config.LibvirtConfigGuestRng() obj.backend = '/dev/random' obj.rate_period = '12' obj.rate_bytes = '34' xml = obj.to_xml() self.assertXmlEqual(xml, """""" <rng model='virtio'> <rate period='12' bytes='34'/> <backend model='random'>/dev/random</backend> </rng>"""""") class LibvirtConfigGuestControllerTest(LibvirtConfigBaseTest): def test_config_guest_contoller(self): obj = config.LibvirtConfigGuestController() obj.type = 'scsi' obj.index = 0 obj.model = 'virtio-scsi' xml = obj.to_xml() self.assertXmlEqual(xml, """""" <controller type='scsi' index='0' model='virtio-scsi'/>"""""") class LibvirtConfigGuestWatchdogTest(LibvirtConfigBaseTest): def test_config_watchdog(self): obj = config.LibvirtConfigGuestWatchdog() obj.action = 'none' xml = obj.to_xml() self.assertXmlEqual(xml, ""<watchdog model='i6300esb' action='none'/>"") def test_config_watchdog_default_action(self): obj = config.LibvirtConfigGuestWatchdog() xml = obj.to_xml() self.assertXmlEqual(xml, ""<watchdog model='i6300esb' action='reset'/>"") class LibvirtConfigGuestCPUTuneTest(LibvirtConfigBaseTest): def test_config_cputune_timeslice(self): cputune = config.LibvirtConfigGuestCPUTune() cputune.shares = 100 cputune.quota = 50000 cputune.period = 25000 xml = cputune.to_xml() self.assertXmlEqual(xml, """""" <cputune> <shares>100</shares> <quota>50000</quota> <period>25000</period> </cputune>"""""") def test_config_cputune_vcpus(self): cputune = config.LibvirtConfigGuestCPUTune() vcpu0 = config.LibvirtConfigGuestCPUTuneVCPUPin() vcpu0.id = 0 vcpu0.cpuset = set([0, 1]) vcpu1 = config.LibvirtConfigGuestCPUTuneVCPUPin() vcpu1.id = 1 vcpu1.cpuset = set([2, 3]) vcpu2 = config.LibvirtConfigGuestCPUTuneVCPUPin() vcpu2.id = 2 vcpu2.cpuset = set([4, 5]) vcpu3 = config.LibvirtConfigGuestCPUTuneVCPUPin() vcpu3.id = 3 vcpu3.cpuset = set([6, 7]) cputune.vcpupin.extend([vcpu0, vcpu1, vcpu2, vcpu3]) emu = config.LibvirtConfigGuestCPUTuneEmulatorPin() emu.cpuset = set([0, 1, 2, 3, 4, 5, 6, 7]) cputune.emulatorpin = emu xml = cputune.to_xml() self.assertXmlEqual(xml, """""" <cputune> <emulatorpin cpuset=""0-7""/> <vcpupin vcpu=""0"" cpuset=""0-1""/> <vcpupin vcpu=""1"" cpuset=""2-3""/> <vcpupin vcpu=""2"" cpuset=""4-5""/> <vcpupin vcpu=""3"" cpuset=""6-7""/> </cputune>"""""") class LibvirtConfigGuestMemoryBackingTest(LibvirtConfigBaseTest): def test_config_memory_backing_none(self): obj = config.LibvirtConfigGuestMemoryBacking() xml = obj.to_xml() self.assertXmlEqual(xml, ""<memoryBacking/>"") def test_config_memory_backing_all(self): obj = config.LibvirtConfigGuestMemoryBacking() obj.locked = True obj.sharedpages = False page = config.LibvirtConfigGuestMemoryBackingPage() page.size_kb = 2048 page.nodeset = [2, 3] obj.hugepages.append(page) xml = obj.to_xml() self.assertXmlEqual(xml, """""" <memoryBacking> <hugepages> <page size=""2048"" unit=""KiB"" nodeset=""2-3""/> </hugepages> <nosharepages/> <locked/> </memoryBacking>"""""") class LibvirtConfigGuestMemoryTuneTest(LibvirtConfigBaseTest): def test_config_memory_backing_none(self): obj = config.LibvirtConfigGuestMemoryTune() xml = obj.to_xml() self.assertXmlEqual(xml, ""<memtune/>"") def test_config_memory_backing_all(self): obj = config.LibvirtConfigGuestMemoryTune() obj.soft_limit = 6 obj.hard_limit = 28 obj.swap_hard_limit = 140 obj.min_guarantee = 270 xml = obj.to_xml() self.assertXmlEqual(xml, """""" <memtune> <hard_limit units=""K"">28</hard_limit> <soft_limit units=""K"">6</soft_limit> <swap_hard_limit units=""K"">140</swap_hard_limit> <min_guarantee units=""K"">270</min_guarantee> </memtune>"""""") class LibvirtConfigGuestNUMATuneTest(LibvirtConfigBaseTest): def test_config_numa_tune_none(self): obj = config.LibvirtConfigGuestNUMATune() xml = obj.to_xml() self.assertXmlEqual(""<numatune/>"", xml) def test_config_numa_tune_memory(self): obj = config.LibvirtConfigGuestNUMATune() numamemory = config.LibvirtConfigGuestNUMATuneMemory() numamemory.nodeset = [0, 1, 2, 3, 8] obj.memory = numamemory xml = obj.to_xml() self.assertXmlEqual("""""" <numatune> <memory mode=""strict"" nodeset=""0-3,8""/> </numatune>"""""", xml) def test_config_numa_tune_memnodes(self): obj = config.LibvirtConfigGuestNUMATune() numamemnode0 = config.LibvirtConfigGuestNUMATuneMemNode() numamemnode0.cellid = 0 numamemnode0.nodeset = [0, 1] numamemnode1 = config.LibvirtConfigGuestNUMATuneMemNode() numamemnode1.cellid = 1 numamemnode1.nodeset = [2, 3] numamemnode2 = config.LibvirtConfigGuestNUMATuneMemNode() numamemnode2.cellid = 2 numamemnode2.nodeset = [8] obj.memnodes.extend([numamemnode0, numamemnode1, numamemnode2]) xml = obj.to_xml() self.assertXmlEqual("""""" <numatune> <memnode cellid=""0"" mode=""strict"" nodeset=""0-1""/> <memnode cellid=""1"" mode=""strict"" nodeset=""2-3""/> <memnode cellid=""2"" mode=""strict"" nodeset=""8""/> </numatune>"""""", xml) class LibvirtConfigGuestMetadataNovaTest(LibvirtConfigBaseTest): def test_config_metadata(self): meta = config.LibvirtConfigGuestMetaNovaInstance() meta.package = ""2014.2.3"" meta.name = ""moonbuggy"" meta.creationTime = 1234567890 meta.roottype = ""image"" meta.rootid = ""fe55c69a-8b2e-4bbc-811a-9ad2023a0426"" owner = config.LibvirtConfigGuestMetaNovaOwner() owner.userid = ""3472c2a6-de91-4fb5-b618-42bc781ef670"" owner.username = ""buzz"" owner.projectid = ""f241e906-010e-4917-ae81-53f4fb8aa021"" owner.projectname = ""moonshot"" meta.owner = owner flavor = config.LibvirtConfigGuestMetaNovaFlavor() flavor.name = ""m1.lowgravity"" flavor.vcpus = 8 flavor.memory = 2048 flavor.swap = 10 flavor.disk = 50 flavor.ephemeral = 10 meta.flavor = flavor xml = meta.to_xml() self.assertXmlEqual(xml, """""" <nova:instance xmlns:nova='http://openstack.org/xmlns/libvirt/nova/1.0'> <nova:package version=""2014.2.3""/> <nova:name>moonbuggy</nova:name> <nova:creationTime>2009-02-13 23:31:30</nova:creationTime> <nova:flavor name=""m1.lowgravity""> <nova:memory>2048</nova:memory> <nova:disk>50</nova:disk> <nova:swap>10</nova:swap> <nova:ephemeral>10</nova:ephemeral> <nova:vcpus>8</nova:vcpus> </nova:flavor> <nova:owner> <nova:user uuid=""3472c2a6-de91-4fb5-b618-42bc781ef670"">buzz</nova:user> <nova:project uuid=""f241e906-010e-4917-ae81-53f4fb8aa021"">moonshot</nova:project> </nova:owner> <nova:root type=""image"" uuid=""fe55c69a-8b2e-4bbc-811a-9ad2023a0426""/> </nova:instance> """""") class LibvirtConfigGuestIDMap(LibvirtConfigBaseTest): def test_config_id_map_parse_start_not_int(self): xmlin = ""<uid start='a' target='20000' count='5'/>"" obj = config.LibvirtConfigGuestIDMap() self.assertRaises(ValueError, obj.parse_str, xmlin) def test_config_id_map_parse_target_not_int(self): xmlin = ""<uid start='2' target='a' count='5'/>"" obj = config.LibvirtConfigGuestIDMap() self.assertRaises(ValueError, obj.parse_str, xmlin) def test_config_id_map_parse_count_not_int(self): xmlin = ""<uid start='2' target='20000' count='a'/>"" obj = config.LibvirtConfigGuestIDMap() self.assertRaises(ValueError, obj.parse_str, xmlin) def test_config_uid_map(self): obj = config.LibvirtConfigGuestUIDMap() obj.start = 1 obj.target = 10000 obj.count = 2 xml = obj.to_xml() self.assertXmlEqual(""<uid start='1' target='10000' count='2'/>"", xml) def test_config_uid_map_parse(self): xmlin = ""<uid start='2' target='20000' count='5'/>"" obj = config.LibvirtConfigGuestUIDMap() obj.parse_str(xmlin) self.assertEqual(2, obj.start) self.assertEqual(20000, obj.target) self.assertEqual(5, obj.count) def test_config_gid_map(self): obj = config.LibvirtConfigGuestGIDMap() obj.start = 1 obj.target = 10000 obj.count = 2 xml = obj.to_xml() self.assertXmlEqual(""<gid start='1' target='10000' count='2'/>"", xml) def test_config_gid_map_parse(self): xmlin = ""<gid start='2' target='20000' count='5'/>"" obj = config.LibvirtConfigGuestGIDMap() obj.parse_str(xmlin) self.assertEqual(2, obj.start) self.assertEqual(20000, obj.target) self.assertEqual(5, obj.count) class LibvirtConfigMemoryBalloonTest(LibvirtConfigBaseTest): def test_config_memory_balloon_period(self): balloon = config.LibvirtConfigMemoryBalloon() balloon.model = 'fake_virtio' balloon.period = 11 xml = balloon.to_xml() expected_xml = """""" <memballoon model='fake_virtio'> <stats period='11'/> </memballoon>"""""" self.assertXmlEqual(expected_xml, xml) def test_config_memory_balloon_no_period(self): balloon = config.LibvirtConfigMemoryBalloon() balloon.model = 'fake_virtio' xml = balloon.to_xml() expected_xml = """""" <memballoon model='fake_virtio' />"""""" self.assertXmlEqual(expected_xml, xml) class LibvirtConfigSecretTest(LibvirtConfigBaseTest): def test_config_secret_volume(self): secret = config.LibvirtConfigSecret() secret.ephemeral = True secret.private = True secret.description = 'sample desc' secret.uuid = 'c7a5fdbd-edaf-9455-926a-d65c16db1809' secret.usage_type = 'volume' secret.usage_id = 'sample_volume' xml = secret.to_xml() expected_xml = """""" <secret ephemeral=""yes"" private=""yes""> <description>sample desc</description> <uuid>c7a5fdbd-edaf-9455-926a-d65c16db1809</uuid> <usage type=""volume""> <volume>sample_volume</volume> </usage> </secret>"""""" self.assertXmlEqual(expected_xml, xml) def test_config_secret_ceph(self): secret = config.LibvirtConfigSecret() secret.ephemeral = True secret.private = True secret.description = 'sample desc' secret.usage_type = 'ceph' secret.usage_id = 'sample_name' xml = secret.to_xml() expected_xml = """""" <secret ephemeral=""yes"" private=""yes""> <description>sample desc</description> <usage type=""ceph""> <name>sample_name</name> </usage> </secret>"""""" self.assertXmlEqual(expected_xml, xml) def test_config_secret_iscsi(self): secret = config.LibvirtConfigSecret() secret.ephemeral = True secret.private = True secret.description = 'sample desc' secret.usage_type = 'iscsi' secret.usage_id = 'sample_target' xml = secret.to_xml() expected_xml = """""" <secret ephemeral=""yes"" private=""yes""> <description>sample desc</description> <usage type=""iscsi""> <target>sample_target</target> </usage> </secret>"""""" self.assertXmlEqual(expected_xml, xml) ","# Copyright (C) 2012 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from lxml import etree from oslo_utils import units from nova.compute import arch from nova import test from nova.tests.unit import matchers from nova.virt.libvirt import config class LibvirtConfigBaseTest(test.NoDBTestCase): def assertXmlEqual(self, expectedXmlstr, actualXmlstr): self.assertThat(actualXmlstr, matchers.XMLMatches(expectedXmlstr)) class LibvirtConfigTest(LibvirtConfigBaseTest): def test_config_plain(self): obj = config.LibvirtConfigObject(root_name=""demo"") xml = obj.to_xml() self.assertXmlEqual(xml, ""<demo/>"") def test_config_ns(self): obj = config.LibvirtConfigObject(root_name=""demo"", ns_prefix=""foo"", ns_uri=""http://example.com/foo"") xml = obj.to_xml() self.assertXmlEqual(xml, """""" <foo:demo xmlns:foo=""http://example.com/foo""/>"""""") def test_config_text(self): obj = config.LibvirtConfigObject(root_name=""demo"") root = obj.format_dom() root.append(obj._text_node(""foo"", ""bar"")) xml = etree.tostring(root) self.assertXmlEqual(xml, ""<demo><foo>bar</foo></demo>"") def test_config_text_unicode(self): obj = config.LibvirtConfigObject(root_name='demo') root = obj.format_dom() root.append(obj._text_node('foo', u'\xF0\x9F\x92\xA9')) self.assertXmlEqual('<demo><foo>&#240;&#159;&#146;&#169;</foo></demo>', etree.tostring(root)) def test_config_parse(self): inxml = ""<demo><foo/></demo>"" obj = config.LibvirtConfigObject(root_name=""demo"") obj.parse_str(inxml) class LibvirtConfigCapsTest(LibvirtConfigBaseTest): def test_config_host(self): xmlin = """""" <capabilities> <host> <uuid>c7a5fdbd-edaf-9455-926a-d65c16db1809</uuid> <cpu> <arch>x86_64</arch> <model>Opteron_G3</model> <vendor>AMD</vendor> <topology sockets='1' cores='4' threads='1'/> <feature name='ibs'/> <feature name='osvw'/> </cpu> <topology> <cells num='2'> <cell id='0'> <memory unit='KiB'>4048280</memory> <pages unit='KiB' size='4'>1011941</pages> <pages unit='KiB' size='2048'>0</pages> <cpus num='4'> <cpu id='0' socket_id='0' core_id='0' siblings='0'/> <cpu id='1' socket_id='0' core_id='1' siblings='1'/> <cpu id='2' socket_id='0' core_id='2' siblings='2'/> <cpu id='3' socket_id='0' core_id='3' siblings='3'/> </cpus> </cell> <cell id='1'> <memory unit='KiB'>4127684</memory> <pages unit='KiB' size='4'>1031921</pages> <pages unit='KiB' size='2048'>0</pages> <cpus num='4'> <cpu id='4' socket_id='1' core_id='0' siblings='4'/> <cpu id='5' socket_id='1' core_id='1' siblings='5'/> <cpu id='6' socket_id='1' core_id='2' siblings='6'/> <cpu id='7' socket_id='1' core_id='3' siblings='7'/> </cpus> </cell> </cells> </topology> </host> <guest> <os_type>hvm</os_type> <arch name='x86_64'/> </guest> <guest> <os_type>hvm</os_type> <arch name='i686'/> </guest> </capabilities>"""""" obj = config.LibvirtConfigCaps() obj.parse_str(xmlin) self.assertIsInstance(obj.host, config.LibvirtConfigCapsHost) self.assertEqual(obj.host.uuid, ""c7a5fdbd-edaf-9455-926a-d65c16db1809"") xmlout = obj.to_xml() self.assertXmlEqual(xmlin, xmlout) def test_config_host_numa_cell_no_memory_caps(self): xmlin = """""" <cell id='0'> <cpus num='1'> <cpu id='0' socket_id='0' core_id='0' siblings='0'/> </cpus> </cell>"""""" obj = config.LibvirtConfigCapsNUMACell() obj.parse_str(xmlin) self.assertEqual(0, obj.memory) self.assertEqual(1, len(obj.cpus)) def test_config_host_numa_cell_no_cpus_caps(self): xmlin = """""" <cell id='0'> <memory unit='KiB'>128</memory> </cell>"""""" obj = config.LibvirtConfigCapsNUMACell() obj.parse_str(xmlin) self.assertEqual(128, obj.memory) self.assertEqual(0, len(obj.cpus)) class LibvirtConfigGuestTimerTest(LibvirtConfigBaseTest): def test_config_platform(self): obj = config.LibvirtConfigGuestTimer() obj.track = ""host"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <timer name=""platform"" track=""host""/> """""") def test_config_pit(self): obj = config.LibvirtConfigGuestTimer() obj.name = ""pit"" obj.tickpolicy = ""discard"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <timer name=""pit"" tickpolicy=""discard""/> """""") def test_config_hpet(self): obj = config.LibvirtConfigGuestTimer() obj.name = ""hpet"" obj.present = False xml = obj.to_xml() self.assertXmlEqual(xml, """""" <timer name=""hpet"" present=""no""/> """""") class LibvirtConfigGuestClockTest(LibvirtConfigBaseTest): def test_config_utc(self): obj = config.LibvirtConfigGuestClock() xml = obj.to_xml() self.assertXmlEqual(xml, """""" <clock offset=""utc""/> """""") def test_config_localtime(self): obj = config.LibvirtConfigGuestClock() obj.offset = ""localtime"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <clock offset=""localtime""/> """""") def test_config_timezone(self): obj = config.LibvirtConfigGuestClock() obj.offset = ""timezone"" obj.timezone = ""EDT"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <clock offset=""timezone"" timezone=""EDT""/> """""") def test_config_variable(self): obj = config.LibvirtConfigGuestClock() obj.offset = ""variable"" obj.adjustment = ""123456"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <clock offset=""variable"" adjustment=""123456""/> """""") def test_config_timers(self): obj = config.LibvirtConfigGuestClock() tmpit = config.LibvirtConfigGuestTimer() tmpit.name = ""pit"" tmpit.tickpolicy = ""discard"" tmrtc = config.LibvirtConfigGuestTimer() tmrtc.name = ""rtc"" tmrtc.tickpolicy = ""merge"" obj.add_timer(tmpit) obj.add_timer(tmrtc) xml = obj.to_xml() self.assertXmlEqual(xml, """""" <clock offset=""utc""> <timer name=""pit"" tickpolicy=""discard""/> <timer name=""rtc"" tickpolicy=""merge""/> </clock> """""") class LibvirtConfigCPUFeatureTest(LibvirtConfigBaseTest): def test_config_simple(self): obj = config.LibvirtConfigCPUFeature(""mtrr"") xml = obj.to_xml() self.assertXmlEqual(xml, """""" <feature name=""mtrr""/> """""") class LibvirtConfigGuestCPUFeatureTest(LibvirtConfigBaseTest): def test_config_simple(self): obj = config.LibvirtConfigGuestCPUFeature(""mtrr"") obj.policy = ""force"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <feature name=""mtrr"" policy=""force""/> """""") class LibvirtConfigGuestCPUNUMATest(LibvirtConfigBaseTest): def test_parse_dom(self): xml = """""" <numa> <cell id=""0"" cpus=""0-1"" memory=""1000000""/> <cell id=""1"" cpus=""2-3"" memory=""1500000""/> </numa> """""" xmldoc = etree.fromstring(xml) obj = config.LibvirtConfigGuestCPUNUMA() obj.parse_dom(xmldoc) self.assertEqual(2, len(obj.cells)) def test_config_simple(self): obj = config.LibvirtConfigGuestCPUNUMA() cell = config.LibvirtConfigGuestCPUNUMACell() cell.id = 0 cell.cpus = set([0, 1]) cell.memory = 1000000 obj.cells.append(cell) cell = config.LibvirtConfigGuestCPUNUMACell() cell.id = 1 cell.cpus = set([2, 3]) cell.memory = 1500000 obj.cells.append(cell) xml = obj.to_xml() self.assertXmlEqual(xml, """""" <numa> <cell id=""0"" cpus=""0-1"" memory=""1000000""/> <cell id=""1"" cpus=""2-3"" memory=""1500000""/> </numa> """""") class LibvirtConfigCPUTest(LibvirtConfigBaseTest): def test_config_simple(self): obj = config.LibvirtConfigCPU() obj.model = ""Penryn"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <cpu> <model>Penryn</model> </cpu> """""") def test_config_complex(self): obj = config.LibvirtConfigCPU() obj.model = ""Penryn"" obj.vendor = ""Intel"" obj.arch = arch.X86_64 obj.add_feature(config.LibvirtConfigCPUFeature(""mtrr"")) obj.add_feature(config.LibvirtConfigCPUFeature(""apic"")) xml = obj.to_xml() self.assertXmlEqual(xml, """""" <cpu> <arch>x86_64</arch> <model>Penryn</model> <vendor>Intel</vendor> <feature name=""apic""/> <feature name=""mtrr""/> </cpu> """""") def test_only_uniq_cpu_featues(self): obj = config.LibvirtConfigCPU() obj.model = ""Penryn"" obj.vendor = ""Intel"" obj.arch = arch.X86_64 obj.add_feature(config.LibvirtConfigCPUFeature(""mtrr"")) obj.add_feature(config.LibvirtConfigCPUFeature(""apic"")) obj.add_feature(config.LibvirtConfigCPUFeature(""apic"")) obj.add_feature(config.LibvirtConfigCPUFeature(""mtrr"")) xml = obj.to_xml() self.assertXmlEqual(xml, """""" <cpu> <arch>x86_64</arch> <model>Penryn</model> <vendor>Intel</vendor> <feature name=""apic""/> <feature name=""mtrr""/> </cpu> """""") def test_config_topology(self): obj = config.LibvirtConfigCPU() obj.model = ""Penryn"" obj.sockets = 4 obj.cores = 4 obj.threads = 2 xml = obj.to_xml() self.assertXmlEqual(xml, """""" <cpu> <model>Penryn</model> <topology sockets=""4"" cores=""4"" threads=""2""/> </cpu> """""") class LibvirtConfigGuestCPUTest(LibvirtConfigBaseTest): def test_config_simple(self): obj = config.LibvirtConfigGuestCPU() obj.model = ""Penryn"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <cpu match=""exact""> <model>Penryn</model> </cpu> """""") def test_config_complex(self): obj = config.LibvirtConfigGuestCPU() obj.model = ""Penryn"" obj.vendor = ""Intel"" obj.arch = arch.X86_64 obj.mode = ""custom"" obj.add_feature(config.LibvirtConfigGuestCPUFeature(""mtrr"")) obj.add_feature(config.LibvirtConfigGuestCPUFeature(""apic"")) xml = obj.to_xml() self.assertXmlEqual(xml, """""" <cpu mode=""custom"" match=""exact""> <arch>x86_64</arch> <model>Penryn</model> <vendor>Intel</vendor> <feature name=""apic"" policy=""require""/> <feature name=""mtrr"" policy=""require""/> </cpu> """""") def test_config_host(self): obj = config.LibvirtConfigGuestCPU() obj.mode = ""host-model"" obj.match = ""exact"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <cpu mode=""host-model"" match=""exact""/> """""") def test_config_host_with_numa(self): obj = config.LibvirtConfigGuestCPU() obj.mode = ""host-model"" obj.match = ""exact"" numa = config.LibvirtConfigGuestCPUNUMA() cell = config.LibvirtConfigGuestCPUNUMACell() cell.id = 0 cell.cpus = set([0, 1]) cell.memory = 1000000 numa.cells.append(cell) cell = config.LibvirtConfigGuestCPUNUMACell() cell.id = 1 cell.cpus = set([2, 3]) cell.memory = 1500000 numa.cells.append(cell) obj.numa = numa xml = obj.to_xml() self.assertXmlEqual(xml, """""" <cpu mode=""host-model"" match=""exact""> <numa> <cell id=""0"" cpus=""0-1"" memory=""1000000""/> <cell id=""1"" cpus=""2-3"" memory=""1500000""/> </numa> </cpu> """""") class LibvirtConfigGuestSMBIOSTest(LibvirtConfigBaseTest): def test_config_simple(self): obj = config.LibvirtConfigGuestSMBIOS() xml = obj.to_xml() self.assertXmlEqual(xml, """""" <smbios mode=""sysinfo""/> """""") class LibvirtConfigGuestSysinfoTest(LibvirtConfigBaseTest): def test_config_simple(self): obj = config.LibvirtConfigGuestSysinfo() xml = obj.to_xml() self.assertXmlEqual(xml, """""" <sysinfo type=""smbios""/> """""") def test_config_bios(self): obj = config.LibvirtConfigGuestSysinfo() obj.bios_vendor = ""Acme"" obj.bios_version = ""6.6.6"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <sysinfo type=""smbios""> <bios> <entry name=""vendor"">Acme</entry> <entry name=""version"">6.6.6</entry> </bios> </sysinfo> """""") def test_config_system(self): obj = config.LibvirtConfigGuestSysinfo() obj.system_manufacturer = ""Acme"" obj.system_product = ""Wile Coyote"" obj.system_version = ""6.6.6"" obj.system_serial = ""123456"" obj.system_uuid = ""c7a5fdbd-edaf-9455-926a-d65c16db1809"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <sysinfo type=""smbios""> <system> <entry name=""manufacturer"">Acme</entry> <entry name=""product"">Wile Coyote</entry> <entry name=""version"">6.6.6</entry> <entry name=""serial"">123456</entry> <entry name=""uuid"">c7a5fdbd-edaf-9455-926a-d65c16db1809</entry> </system> </sysinfo> """""") def test_config_mixed(self): obj = config.LibvirtConfigGuestSysinfo() obj.bios_vendor = ""Acme"" obj.system_manufacturer = ""Acme"" obj.system_product = ""Wile Coyote"" obj.system_uuid = ""c7a5fdbd-edaf-9455-926a-d65c16db1809"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <sysinfo type=""smbios""> <bios> <entry name=""vendor"">Acme</entry> </bios> <system> <entry name=""manufacturer"">Acme</entry> <entry name=""product"">Wile Coyote</entry> <entry name=""uuid"">c7a5fdbd-edaf-9455-926a-d65c16db1809</entry> </system> </sysinfo> """""") class LibvirtConfigGuestDiskTest(LibvirtConfigBaseTest): def test_config_file(self): obj = config.LibvirtConfigGuestDisk() obj.source_type = ""file"" obj.source_path = ""/tmp/hello"" obj.target_dev = ""/dev/hda"" obj.target_bus = ""ide"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <disk type=""file"" device=""disk""> <source file=""/tmp/hello""/> <target bus=""ide"" dev=""/dev/hda""/> </disk>"""""") def test_config_file_parse(self): xml = """"""<disk type=""file"" device=""disk""> <source file=""/tmp/hello""/> <target bus=""ide"" dev=""/dev/hda""/> </disk>"""""" xmldoc = etree.fromstring(xml) obj = config.LibvirtConfigGuestDisk() obj.parse_dom(xmldoc) self.assertEqual(obj.source_type, 'file') self.assertEqual(obj.source_path, '/tmp/hello') self.assertEqual(obj.target_dev, '/dev/hda') self.assertEqual(obj.target_bus, 'ide') def test_config_file_serial(self): obj = config.LibvirtConfigGuestDisk() obj.source_type = ""file"" obj.source_path = ""/tmp/hello"" obj.target_dev = ""/dev/hda"" obj.target_bus = ""ide"" obj.serial = ""7a97c4a3-6f59-41d4-bf47-191d7f97f8e9"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <disk type=""file"" device=""disk""> <source file=""/tmp/hello""/> <target bus=""ide"" dev=""/dev/hda""/> <serial>7a97c4a3-6f59-41d4-bf47-191d7f97f8e9</serial> </disk>"""""") def test_config_file_serial_parse(self): xml = """"""<disk type=""file"" device=""disk""> <source file=""/tmp/hello""/> <target bus=""ide"" dev=""/dev/hda""/> <serial>7a97c4a3-6f59-41d4-bf47-191d7f97f8e9</serial> </disk>"""""" xmldoc = etree.fromstring(xml) obj = config.LibvirtConfigGuestDisk() obj.parse_dom(xmldoc) self.assertEqual(obj.source_type, 'file') self.assertEqual(obj.serial, '7a97c4a3-6f59-41d4-bf47-191d7f97f8e9') def test_config_file_discard(self): obj = config.LibvirtConfigGuestDisk() obj.driver_name = ""qemu"" obj.driver_format = ""qcow2"" obj.driver_cache = ""none"" obj.driver_discard = ""unmap"" obj.source_type = ""file"" obj.source_path = ""/tmp/hello.qcow2"" obj.target_dev = ""/dev/hda"" obj.target_bus = ""ide"" obj.serial = ""7a97c4a3-6f59-41d4-bf47-191d7f97f8e9"" xml = obj.to_xml() self.assertXmlEqual("""""" <disk type=""file"" device=""disk""> <driver name=""qemu"" type=""qcow2"" cache=""none"" discard=""unmap""/> <source file=""/tmp/hello.qcow2""/> <target bus=""ide"" dev=""/dev/hda""/> <serial>7a97c4a3-6f59-41d4-bf47-191d7f97f8e9</serial> </disk>"""""", xml) def test_config_file_discard_parse(self): xml = """""" <disk type=""file"" device=""disk""> <driver name=""qemu"" type=""qcow2"" cache=""none"" discard=""unmap""/> <source file=""/tmp/hello.qcow2""/> <target bus=""ide"" dev=""/dev/hda""/> <serial>7a97c4a3-6f59-41d4-bf47-191d7f97f8e9</serial> </disk>"""""" xmldoc = etree.fromstring(xml) obj = config.LibvirtConfigGuestDisk() obj.parse_dom(xmldoc) self.assertEqual('unmap', obj.driver_discard) def test_config_block(self): obj = config.LibvirtConfigGuestDisk() obj.source_type = ""block"" obj.source_path = ""/tmp/hello"" obj.source_device = ""cdrom"" obj.driver_name = ""qemu"" obj.target_dev = ""/dev/hdc"" obj.target_bus = ""ide"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <disk type=""block"" device=""cdrom""> <driver name=""qemu""/> <source dev=""/tmp/hello""/> <target bus=""ide"" dev=""/dev/hdc""/> </disk>"""""") def test_config_block_parse(self): xml = """"""<disk type=""block"" device=""cdrom""> <driver name=""qemu""/> <source dev=""/tmp/hello""/> <target bus=""ide"" dev=""/dev/hdc""/> </disk>"""""" xmldoc = etree.fromstring(xml) obj = config.LibvirtConfigGuestDisk() obj.parse_dom(xmldoc) self.assertEqual(obj.source_type, 'block') self.assertEqual(obj.source_path, '/tmp/hello') self.assertEqual(obj.target_dev, '/dev/hdc') self.assertEqual(obj.target_bus, 'ide') def test_config_network(self): obj = config.LibvirtConfigGuestDisk() obj.source_type = ""network"" obj.source_protocol = ""iscsi"" obj.source_name = ""foo.bar.com"" obj.driver_name = ""qemu"" obj.driver_format = ""qcow2"" obj.target_dev = ""/dev/hda"" obj.target_bus = ""ide"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <disk type=""network"" device=""disk""> <driver name=""qemu"" type=""qcow2""/> <source name=""foo.bar.com"" protocol=""iscsi""/> <target bus=""ide"" dev=""/dev/hda""/> </disk>"""""") def test_config_network_parse(self): xml = """"""<disk type=""network"" device=""disk""> <driver name=""qemu"" type=""qcow2""/> <source name=""foo.bar.com"" protocol=""iscsi""/> <target bus=""ide"" dev=""/dev/hda""/> </disk>"""""" xmldoc = etree.fromstring(xml) obj = config.LibvirtConfigGuestDisk() obj.parse_dom(xmldoc) self.assertEqual(obj.source_type, 'network') self.assertEqual(obj.source_protocol, 'iscsi') self.assertEqual(obj.source_name, 'foo.bar.com') self.assertEqual(obj.driver_name, 'qemu') self.assertEqual(obj.driver_format, 'qcow2') self.assertEqual(obj.target_dev, '/dev/hda') self.assertEqual(obj.target_bus, 'ide') def test_config_network_no_name(self): obj = config.LibvirtConfigGuestDisk() obj.source_type = 'network' obj.source_protocol = 'nbd' obj.source_hosts = ['foo.bar.com'] obj.source_ports = [None] obj.driver_name = 'qemu' obj.driver_format = 'raw' obj.target_dev = '/dev/vda' obj.target_bus = 'virtio' xml = obj.to_xml() self.assertXmlEqual(xml, """""" <disk type=""network"" device=""disk""> <driver name=""qemu"" type=""raw""/> <source protocol=""nbd""> <host name=""foo.bar.com""/> </source> <target bus=""virtio"" dev=""/dev/vda""/> </disk>"""""") def test_config_network_multihost(self): obj = config.LibvirtConfigGuestDisk() obj.source_type = 'network' obj.source_protocol = 'rbd' obj.source_name = 'pool/image' obj.source_hosts = ['foo.bar.com', '::1', '1.2.3.4'] obj.source_ports = [None, '123', '456'] obj.driver_name = 'qemu' obj.driver_format = 'raw' obj.target_dev = '/dev/vda' obj.target_bus = 'virtio' xml = obj.to_xml() self.assertXmlEqual(xml, """""" <disk type=""network"" device=""disk""> <driver name=""qemu"" type=""raw""/> <source name=""pool/image"" protocol=""rbd""> <host name=""foo.bar.com""/> <host name=""::1"" port=""123""/> <host name=""1.2.3.4"" port=""456""/> </source> <target bus=""virtio"" dev=""/dev/vda""/> </disk>"""""") def test_config_network_auth(self): obj = config.LibvirtConfigGuestDisk() obj.source_type = ""network"" obj.source_protocol = ""rbd"" obj.source_name = ""pool/image"" obj.driver_name = ""qemu"" obj.driver_format = ""raw"" obj.target_dev = ""/dev/vda"" obj.target_bus = ""virtio"" obj.auth_username = ""foo"" obj.auth_secret_type = ""ceph"" obj.auth_secret_uuid = ""b38a3f43-4be2-4046-897f-b67c2f5e0147"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <disk type=""network"" device=""disk""> <driver name=""qemu"" type=""raw""/> <source name=""pool/image"" protocol=""rbd""/> <auth username=""foo""> <secret type=""ceph"" uuid=""b38a3f43-4be2-4046-897f-b67c2f5e0147""/> </auth> <target bus=""virtio"" dev=""/dev/vda""/> </disk>"""""") def test_config_iotune(self): obj = config.LibvirtConfigGuestDisk() obj.source_type = ""file"" obj.source_path = ""/tmp/hello"" obj.target_dev = ""/dev/hda"" obj.target_bus = ""ide"" obj.disk_read_bytes_sec = 1024000 obj.disk_read_iops_sec = 1000 obj.disk_total_bytes_sec = 2048000 obj.disk_write_bytes_sec = 1024000 obj.disk_write_iops_sec = 1000 obj.disk_total_iops_sec = 2000 xml = obj.to_xml() self.assertXmlEqual(xml, """""" <disk type=""file"" device=""disk""> <source file=""/tmp/hello""/> <target bus=""ide"" dev=""/dev/hda""/> <iotune> <read_bytes_sec>1024000</read_bytes_sec> <read_iops_sec>1000</read_iops_sec> <write_bytes_sec>1024000</write_bytes_sec> <write_iops_sec>1000</write_iops_sec> <total_bytes_sec>2048000</total_bytes_sec> <total_iops_sec>2000</total_iops_sec> </iotune> </disk>"""""") def test_config_blockio(self): obj = config.LibvirtConfigGuestDisk() obj.source_type = ""file"" obj.source_path = ""/tmp/hello"" obj.target_dev = ""/dev/hda"" obj.target_bus = ""ide"" obj.logical_block_size = ""4096"" obj.physical_block_size = ""4096"" xml = obj.to_xml() self.assertXmlEqual("""""" <disk type=""file"" device=""disk""> <source file=""/tmp/hello""/> <target bus=""ide"" dev=""/dev/hda""/> <blockio logical_block_size=""4096"" physical_block_size=""4096""/> </disk>"""""", xml) class LibvirtConfigGuestSnapshotDiskTest(LibvirtConfigBaseTest): def test_config_file(self): obj = config.LibvirtConfigGuestDisk() obj.source_type = ""file"" obj.source_path = ""/tmp/hello"" obj.target_dev = ""/dev/hda"" obj.target_bus = ""ide"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <disk type=""file"" device=""disk""> <source file=""/tmp/hello""/> <target bus=""ide"" dev=""/dev/hda""/> </disk>"""""") def test_config_file_parse(self): xml = """"""<disk type=""file"" device=""disk""> <source file=""/tmp/hello""/> <target bus=""ide"" dev=""/dev/hda""/> </disk>"""""" xmldoc = etree.fromstring(xml) obj = config.LibvirtConfigGuestDisk() obj.parse_dom(xmldoc) self.assertEqual(obj.source_type, 'file') self.assertEqual(obj.source_path, '/tmp/hello') self.assertEqual(obj.target_dev, '/dev/hda') self.assertEqual(obj.target_bus, 'ide') class LibvirtConfigGuestDiskBackingStoreTest(LibvirtConfigBaseTest): def test_config_file_parse(self): xml = """"""<backingStore type='file'> <driver name='qemu' type='qcow2'/> <source file='/var/lib/libvirt/images/mid.qcow2'/> <backingStore type='file'> <driver name='qemu' type='qcow2'/> <source file='/var/lib/libvirt/images/base.qcow2'/> <backingStore/> </backingStore> </backingStore> """""" xmldoc = etree.fromstring(xml) obj = config.LibvirtConfigGuestDiskBackingStore() obj.parse_dom(xmldoc) self.assertEqual(obj.driver_name, 'qemu') self.assertEqual(obj.driver_format, 'qcow2') self.assertEqual(obj.source_type, 'file') self.assertEqual(obj.source_file, '/var/lib/libvirt/images/mid.qcow2') self.assertEqual(obj.backing_store.driver_name, 'qemu') self.assertEqual(obj.backing_store.source_type, 'file') self.assertEqual(obj.backing_store.source_file, '/var/lib/libvirt/images/base.qcow2') self.assertIsNone(obj.backing_store.backing_store) def test_config_network_parse(self): xml = """"""<backingStore type='network' index='1'> <format type='qcow2'/> <source protocol='gluster' name='volume1/img1'> <host name='host1' port='24007'/> </source> <backingStore type='network' index='2'> <format type='qcow2'/> <source protocol='gluster' name='volume1/img2'> <host name='host1' port='24007'/> </source> <backingStore/> </backingStore> </backingStore> """""" xmldoc = etree.fromstring(xml) obj = config.LibvirtConfigGuestDiskBackingStore() obj.parse_dom(xmldoc) self.assertEqual(obj.source_type, 'network') self.assertEqual(obj.source_protocol, 'gluster') self.assertEqual(obj.source_name, 'volume1/img1') self.assertEqual(obj.source_hosts[0], 'host1') self.assertEqual(obj.source_ports[0], '24007') self.assertEqual(obj.index, '1') self.assertEqual(obj.backing_store.source_name, 'volume1/img2') self.assertEqual(obj.backing_store.index, '2') self.assertEqual(obj.backing_store.source_hosts[0], 'host1') self.assertEqual(obj.backing_store.source_ports[0], '24007') self.assertIsNone(obj.backing_store.backing_store) class LibvirtConfigGuestFilesysTest(LibvirtConfigBaseTest): def test_config_mount(self): obj = config.LibvirtConfigGuestFilesys() obj.source_type = ""mount"" obj.source_dir = ""/tmp/hello"" obj.target_dir = ""/mnt"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <filesystem type=""mount""> <source dir=""/tmp/hello""/> <target dir=""/mnt""/> </filesystem>"""""") def test_config_block(self): obj = config.LibvirtConfigGuestFilesys() obj.source_type = ""block"" obj.source_dev = ""/dev/sdb"" obj.target_dir = ""/mnt"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <filesystem type=""block""> <source dev=""/dev/sdb""/> <target dir=""/mnt""/> </filesystem>"""""") def test_config_file(self): obj = config.LibvirtConfigGuestFilesys() obj.source_type = ""file"" obj.source_file = ""/data/myimage.qcow2"" obj.driver_type = ""nbd"" obj.driver_format = ""qcow2"" obj.target_dir = ""/mnt"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <filesystem type=""file""> <driver format=""qcow2"" type=""nbd""/> <source file=""/data/myimage.qcow2""/> <target dir=""/mnt""/> </filesystem>"""""") class LibvirtConfigGuestInputTest(LibvirtConfigBaseTest): def test_config_tablet(self): obj = config.LibvirtConfigGuestInput() xml = obj.to_xml() self.assertXmlEqual(xml, """""" <input type=""tablet"" bus=""usb""/>"""""") class LibvirtConfigGuestGraphicsTest(LibvirtConfigBaseTest): def test_config_graphics(self): obj = config.LibvirtConfigGuestGraphics() obj.type = ""vnc"" obj.autoport = True obj.keymap = ""en_US"" obj.listen = ""127.0.0.1"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <graphics type=""vnc"" autoport=""yes"" keymap=""en_US"" listen=""127.0.0.1""/> """""") class LibvirtConfigGuestHostdev(LibvirtConfigBaseTest): def test_config_pci_guest_host_dev(self): obj = config.LibvirtConfigGuestHostdev(mode='subsystem', type='pci') xml = obj.to_xml() expected = """""" <hostdev mode=""subsystem"" type=""pci"" managed=""yes""/> """""" self.assertXmlEqual(xml, expected) def test_parse_GuestHostdev(self): xmldoc = """"""<hostdev mode=""subsystem"" type=""pci"" managed=""yes""/>"""""" obj = config.LibvirtConfigGuestHostdev() obj.parse_str(xmldoc) self.assertEqual(obj.mode, 'subsystem') self.assertEqual(obj.type, 'pci') self.assertEqual(obj.managed, 'yes') def test_parse_GuestHostdev_non_pci(self): xmldoc = """"""<hostdev mode=""subsystem"" type=""usb"" managed=""no""/>"""""" obj = config.LibvirtConfigGuestHostdev() obj.parse_str(xmldoc) self.assertEqual(obj.mode, 'subsystem') self.assertEqual(obj.type, 'usb') self.assertEqual(obj.managed, 'no') class LibvirtConfigGuestHostdevPCI(LibvirtConfigBaseTest): expected = """""" <hostdev mode=""subsystem"" type=""pci"" managed=""yes""> <source> <address bus=""0x11"" domain=""0x1234"" function=""0x3"" slot=""0x22"" /> </source> </hostdev> """""" def test_config_guest_hosdev_pci(self): hostdev = config.LibvirtConfigGuestHostdevPCI() hostdev.domain = ""1234"" hostdev.bus = ""11"" hostdev.slot = ""22"" hostdev.function = ""3"" xml = hostdev.to_xml() self.assertXmlEqual(self.expected, xml) def test_parse_guest_hosdev_pci(self): xmldoc = self.expected obj = config.LibvirtConfigGuestHostdevPCI() obj.parse_str(xmldoc) self.assertEqual(obj.mode, 'subsystem') self.assertEqual(obj.type, 'pci') self.assertEqual(obj.managed, 'yes') self.assertEqual(obj.domain, '0x1234') self.assertEqual(obj.bus, '0x11') self.assertEqual(obj.slot, '0x22') self.assertEqual(obj.function, '0x3') def test_parse_guest_hosdev_usb(self): xmldoc = """"""<hostdev mode='subsystem' type='usb'> <source startupPolicy='optional'> <vendor id='0x1234'/> <product id='0xbeef'/> </source> <boot order='2'/> </hostdev>"""""" obj = config.LibvirtConfigGuestHostdevPCI() obj.parse_str(xmldoc) self.assertEqual(obj.mode, 'subsystem') self.assertEqual(obj.type, 'usb') class LibvirtConfigGuestSerialTest(LibvirtConfigBaseTest): def test_config_file(self): obj = config.LibvirtConfigGuestSerial() obj.type = ""file"" obj.source_path = ""/tmp/vm.log"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <serial type=""file""> <source path=""/tmp/vm.log""/> </serial>"""""") def test_config_serial_port(self): obj = config.LibvirtConfigGuestSerial() obj.type = ""tcp"" obj.listen_port = 11111 obj.listen_host = ""0.0.0.0"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <serial type=""tcp""> <source host=""0.0.0.0"" service=""11111"" mode=""bind""/> </serial>"""""") class LibvirtConfigGuestConsoleTest(LibvirtConfigBaseTest): def test_config_pty(self): obj = config.LibvirtConfigGuestConsole() obj.type = ""pty"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <console type=""pty""/>"""""") def test_config_target_type(self): obj = config.LibvirtConfigGuestConsole() obj.type = ""pty"" obj.target_type = ""sclp"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <console type=""pty""> <target type=""sclp""/> </console> """""") def test_config_type_file_with_target_type(self): obj = config.LibvirtConfigGuestConsole() obj.type = ""file"" obj.target_type = ""sclplm"" obj.source_path = ""/var/lib/nova/instances/uuid/console.log"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <console type=""file""> <source path=""/var/lib/nova/instances/uuid/console.log""/> <target type=""sclplm""/> </console> """""") def test_config_target_port(self): obj = config.LibvirtConfigGuestConsole() obj.target_port = 0 xml = obj.to_xml() self.assertXmlEqual(xml, """""" <console type=""pty""> <target port=""0""/> </console> """""") class LibvirtConfigGuestChannelTest(LibvirtConfigBaseTest): def test_config_spice_minimal(self): obj = config.LibvirtConfigGuestChannel() obj.type = ""spicevmc"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <channel type=""spicevmc""> <target type='virtio'/> </channel>"""""") def test_config_spice_full(self): obj = config.LibvirtConfigGuestChannel() obj.type = ""spicevmc"" obj.target_name = ""com.redhat.spice.0"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <channel type=""spicevmc""> <target type='virtio' name='com.redhat.spice.0'/> </channel>"""""") def test_config_qga_full(self): obj = config.LibvirtConfigGuestChannel() obj.type = ""unix"" obj.target_name = ""org.qemu.guest_agent.0"" obj.source_path = ""/var/lib/libvirt/qemu/%s.%s.sock"" % ( obj.target_name, ""instance-name"") xml = obj.to_xml() self.assertXmlEqual(xml, """""" <channel type=""unix""> <source path=""%s"" mode=""bind""/> <target type=""virtio"" name=""org.qemu.guest_agent.0""/> </channel>"""""" % obj.source_path) class LibvirtConfigGuestInterfaceTest(LibvirtConfigBaseTest): def test_config_ethernet(self): obj = config.LibvirtConfigGuestInterface() obj.net_type = ""ethernet"" obj.mac_addr = ""DE:AD:BE:EF:CA:FE"" obj.model = ""virtio"" obj.target_dev = ""vnet0"" obj.driver_name = ""vhost"" obj.vif_inbound_average = 1024000 obj.vif_inbound_peak = 10240000 obj.vif_inbound_burst = 1024000 obj.vif_outbound_average = 1024000 obj.vif_outbound_peak = 10240000 obj.vif_outbound_burst = 1024000 xml = obj.to_xml() self.assertXmlEqual(xml, """""" <interface type=""ethernet""> <mac address=""DE:AD:BE:EF:CA:FE""/> <model type=""virtio""/> <driver name=""vhost""/> <target dev=""vnet0""/> <bandwidth> <inbound average=""1024000"" peak=""10240000"" burst=""1024000""/> <outbound average=""1024000"" peak=""10240000"" burst=""1024000""/> </bandwidth> </interface>"""""") def test_config_bridge(self): obj = config.LibvirtConfigGuestInterface() obj.net_type = ""bridge"" obj.source_dev = ""br0"" obj.mac_addr = ""DE:AD:BE:EF:CA:FE"" obj.model = ""virtio"" obj.target_dev = ""tap12345678"" obj.filtername = ""clean-traffic"" obj.filterparams.append({""key"": ""IP"", ""value"": ""192.168.122.1""}) obj.vif_inbound_average = 1024000 obj.vif_inbound_peak = 10240000 obj.vif_inbound_burst = 1024000 obj.vif_outbound_average = 1024000 obj.vif_outbound_peak = 10240000 obj.vif_outbound_burst = 1024000 xml = obj.to_xml() self.assertXmlEqual(xml, """""" <interface type=""bridge""> <mac address=""DE:AD:BE:EF:CA:FE""/> <model type=""virtio""/> <source bridge=""br0""/> <target dev=""tap12345678""/> <filterref filter=""clean-traffic""> <parameter name=""IP"" value=""192.168.122.1""/> </filterref> <bandwidth> <inbound average=""1024000"" peak=""10240000"" burst=""1024000""/> <outbound average=""1024000"" peak=""10240000"" burst=""1024000""/> </bandwidth> </interface>"""""") def test_config_bridge_ovs(self): obj = config.LibvirtConfigGuestInterface() obj.net_type = ""bridge"" obj.source_dev = ""br0"" obj.mac_addr = ""DE:AD:BE:EF:CA:FE"" obj.model = ""virtio"" obj.target_dev = ""tap12345678"" obj.vporttype = ""openvswitch"" obj.vportparams.append({""key"": ""instanceid"", ""value"": ""foobar""}) xml = obj.to_xml() self.assertXmlEqual(xml, """""" <interface type=""bridge""> <mac address=""DE:AD:BE:EF:CA:FE""/> <model type=""virtio""/> <source bridge=""br0""/> <target dev=""tap12345678""/> <virtualport type=""openvswitch""> <parameters instanceid=""foobar""/> </virtualport> </interface>"""""") def test_config_8021Qbh(self): obj = config.LibvirtConfigGuestInterface() obj.net_type = ""direct"" obj.mac_addr = ""DE:AD:BE:EF:CA:FE"" obj.model = ""virtio"" obj.target_dev = ""tap12345678"" obj.source_dev = ""eth0"" obj.vporttype = ""802.1Qbh"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <interface type=""direct""> <mac address=""DE:AD:BE:EF:CA:FE""/> <model type=""virtio""/> <source dev=""eth0"" mode=""private""/> <target dev=""tap12345678""/> <virtualport type=""802.1Qbh""/> </interface>"""""") def test_config_direct(self): obj = config.LibvirtConfigGuestInterface() obj.net_type = ""direct"" obj.mac_addr = ""DE:AD:BE:EF:CA:FE"" obj.model = ""virtio"" obj.source_dev = ""eth0"" obj.source_mode = ""passthrough"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <interface type=""direct""> <mac address=""DE:AD:BE:EF:CA:FE""/> <model type=""virtio""/> <source dev=""eth0"" mode=""passthrough""/> </interface>"""""") def test_config_8021Qbh_hostdev(self): obj = config.LibvirtConfigGuestInterface() obj.net_type = ""hostdev"" obj.mac_addr = ""DE:AD:BE:EF:CA:FE"" obj.source_dev = ""0000:0a:00.1"" obj.vporttype = ""802.1Qbh"" obj.add_vport_param(""profileid"", ""MyPortProfile"") xml = obj.to_xml() self.assertXmlEqual(xml, """""" <interface type=""hostdev"" managed=""yes""> <mac address=""DE:AD:BE:EF:CA:FE""/> <source> <address type=""pci"" domain=""0x0000"" bus=""0x0a"" slot=""0x00"" function=""0x1""/> </source> <virtualport type=""802.1Qbh""> <parameters profileid=""MyPortProfile""/> </virtualport> </interface>"""""") def test_config_hw_veb_hostdev(self): obj = config.LibvirtConfigGuestInterface() obj.net_type = ""hostdev"" obj.mac_addr = ""DE:AD:BE:EF:CA:FE"" obj.source_dev = ""0000:0a:00.1"" obj.vlan = ""100"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <interface type=""hostdev"" managed=""yes""> <mac address=""DE:AD:BE:EF:CA:FE""/> <source> <address type=""pci"" domain=""0x0000"" bus=""0x0a"" slot=""0x00"" function=""0x1""/> </source> <vlan> <tag id=""100""/> </vlan> </interface>"""""") def test_config_vhostuser(self): obj = config.LibvirtConfigGuestInterface() obj.net_type = ""vhostuser"" obj.vhostuser_type = ""unix"" obj.vhostuser_mode = ""server"" obj.mac_addr = ""DE:AD:BE:EF:CA:FE"" obj.vhostuser_path = ""/vhost-user/test.sock"" obj.model = ""virtio"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <interface type=""vhostuser""> <mac address=""DE:AD:BE:EF:CA:FE""/> <model type=""virtio""/> <source type=""unix"" mode=""server"" path=""/vhost-user/test.sock""/> </interface>"""""") class LibvirtConfigGuestFeatureTest(LibvirtConfigBaseTest): def test_feature_hyperv_relaxed(self): obj = config.LibvirtConfigGuestFeatureHyperV() obj.relaxed = True xml = obj.to_xml() self.assertXmlEqual(xml, """""" <hyperv> <relaxed state=""on""/> </hyperv>"""""") def test_feature_hyperv_all(self): obj = config.LibvirtConfigGuestFeatureHyperV() obj.relaxed = True obj.vapic = True obj.spinlocks = True xml = obj.to_xml() self.assertXmlEqual(xml, """""" <hyperv> <relaxed state=""on""/> <vapic state=""on""/> <spinlocks state=""on"" retries=""4095""/> </hyperv>"""""") class LibvirtConfigGuestTest(LibvirtConfigBaseTest): def test_config_lxc(self): obj = config.LibvirtConfigGuest() obj.virt_type = ""lxc"" obj.memory = 100 * units.Mi obj.vcpus = 2 obj.cpuset = set([0, 1, 3, 4, 5]) obj.name = ""demo"" obj.uuid = ""b38a3f43-4be2-4046-897f-b67c2f5e0147"" obj.os_type = ""exe"" obj.os_init_path = ""/sbin/init"" fs = config.LibvirtConfigGuestFilesys() fs.source_dir = ""/root/lxc"" fs.target_dir = ""/"" obj.add_device(fs) xml = obj.to_xml() self.assertXmlEqual(xml, """""" <domain type=""lxc""> <uuid>b38a3f43-4be2-4046-897f-b67c2f5e0147</uuid> <name>demo</name> <memory>104857600</memory> <vcpu cpuset=""0-1,3-5"">2</vcpu> <os> <type>exe</type> <init>/sbin/init</init> </os> <devices> <filesystem type=""mount""> <source dir=""/root/lxc""/> <target dir=""/""/> </filesystem> </devices> </domain>"""""") def test_config_lxc_with_idmap(self): obj = config.LibvirtConfigGuest() obj.virt_type = ""lxc"" obj.memory = 100 * units.Mi obj.vcpus = 2 obj.cpuset = set([0, 1, 3, 4, 5]) obj.name = ""demo"" obj.uuid = ""b38a3f43-4be2-4046-897f-b67c2f5e0147"" obj.os_type = ""exe"" obj.os_init_path = ""/sbin/init"" uidmap = config.LibvirtConfigGuestUIDMap() uidmap.target = ""10000"" uidmap.count = ""1"" obj.idmaps.append(uidmap) gidmap = config.LibvirtConfigGuestGIDMap() gidmap.target = ""10000"" gidmap.count = ""1"" obj.idmaps.append(gidmap) fs = config.LibvirtConfigGuestFilesys() fs.source_dir = ""/root/lxc"" fs.target_dir = ""/"" obj.add_device(fs) xml = obj.to_xml() self.assertXmlEqual("""""" <domain type=""lxc""> <uuid>b38a3f43-4be2-4046-897f-b67c2f5e0147</uuid> <name>demo</name> <memory>104857600</memory> <vcpu cpuset=""0-1,3-5"">2</vcpu> <os> <type>exe</type> <init>/sbin/init</init> </os> <devices> <filesystem type=""mount""> <source dir=""/root/lxc""/> <target dir=""/""/> </filesystem> </devices> <idmap> <uid start=""0"" target=""10000"" count=""1""/> <gid start=""0"" target=""10000"" count=""1""/> </idmap> </domain>"""""", xml) def test_config_xen_pv(self): obj = config.LibvirtConfigGuest() obj.virt_type = ""xen"" obj.memory = 100 * units.Mi obj.vcpus = 2 obj.cpuset = set([0, 1, 3, 4, 5]) obj.name = ""demo"" obj.uuid = ""b38a3f43-4be2-4046-897f-b67c2f5e0147"" obj.os_type = ""linux"" obj.os_kernel = ""/tmp/vmlinuz"" obj.os_initrd = ""/tmp/ramdisk"" obj.os_cmdline = ""console=xvc0"" disk = config.LibvirtConfigGuestDisk() disk.source_type = ""file"" disk.source_path = ""/tmp/img"" disk.target_dev = ""/dev/xvda"" disk.target_bus = ""xen"" obj.add_device(disk) xml = obj.to_xml() self.assertXmlEqual(xml, """""" <domain type=""xen""> <uuid>b38a3f43-4be2-4046-897f-b67c2f5e0147</uuid> <name>demo</name> <memory>104857600</memory> <vcpu cpuset=""0-1,3-5"">2</vcpu> <os> <type>linux</type> <kernel>/tmp/vmlinuz</kernel> <initrd>/tmp/ramdisk</initrd> <cmdline>console=xvc0</cmdline> </os> <devices> <disk type=""file"" device=""disk""> <source file=""/tmp/img""/> <target bus=""xen"" dev=""/dev/xvda""/> </disk> </devices> </domain>"""""") def test_config_xen_hvm(self): obj = config.LibvirtConfigGuest() obj.virt_type = ""xen"" obj.memory = 100 * units.Mi obj.vcpus = 2 obj.cpuset = set([0, 1, 3, 4, 5]) obj.name = ""demo"" obj.uuid = ""b38a3f43-4be2-4046-897f-b67c2f5e0147"" obj.os_type = ""hvm"" obj.os_loader = '/usr/lib/xen/boot/hvmloader' obj.os_root = ""root=xvda"" obj.os_cmdline = ""console=xvc0"" obj.features = [ config.LibvirtConfigGuestFeatureACPI(), config.LibvirtConfigGuestFeatureAPIC(), config.LibvirtConfigGuestFeaturePAE(), ] disk = config.LibvirtConfigGuestDisk() disk.source_type = ""file"" disk.source_path = ""/tmp/img"" disk.target_dev = ""/dev/xvda"" disk.target_bus = ""xen"" obj.add_device(disk) xml = obj.to_xml() self.assertXmlEqual(xml, """""" <domain type=""xen""> <uuid>b38a3f43-4be2-4046-897f-b67c2f5e0147</uuid> <name>demo</name> <memory>104857600</memory> <vcpu cpuset=""0-1,3-5"">2</vcpu> <os> <type>hvm</type> <loader>/usr/lib/xen/boot/hvmloader</loader> <cmdline>console=xvc0</cmdline> <root>root=xvda</root> </os> <features> <acpi/> <apic/> <pae/> </features> <devices> <disk type=""file"" device=""disk""> <source file=""/tmp/img""/> <target bus=""xen"" dev=""/dev/xvda""/> </disk> </devices> </domain>"""""") def test_config_kvm(self): obj = config.LibvirtConfigGuest() obj.virt_type = ""kvm"" obj.memory = 100 * units.Mi obj.vcpus = 2 obj.cpuset = set([0, 1, 3, 4, 5]) obj.cputune = config.LibvirtConfigGuestCPUTune() obj.cputune.shares = 100 obj.cputune.quota = 50000 obj.cputune.period = 25000 obj.membacking = config.LibvirtConfigGuestMemoryBacking() page1 = config.LibvirtConfigGuestMemoryBackingPage() page1.size_kb = 2048 page1.nodeset = [0, 1, 2, 3, 5] page2 = config.LibvirtConfigGuestMemoryBackingPage() page2.size_kb = 1048576 page2.nodeset = [4] obj.membacking.hugepages.append(page1) obj.membacking.hugepages.append(page2) obj.memtune = config.LibvirtConfigGuestMemoryTune() obj.memtune.hard_limit = 496 obj.memtune.soft_limit = 672 obj.memtune.swap_hard_limit = 1638 obj.memtune.min_guarantee = 2970 obj.numatune = config.LibvirtConfigGuestNUMATune() numamemory = config.LibvirtConfigGuestNUMATuneMemory() numamemory.mode = ""preferred"" numamemory.nodeset = [0, 1, 2, 3, 8] obj.numatune.memory = numamemory numamemnode0 = config.LibvirtConfigGuestNUMATuneMemNode() numamemnode0.cellid = 0 numamemnode0.mode = ""preferred"" numamemnode0.nodeset = [0, 1] numamemnode1 = config.LibvirtConfigGuestNUMATuneMemNode() numamemnode1.cellid = 1 numamemnode1.mode = ""preferred"" numamemnode1.nodeset = [2, 3] numamemnode2 = config.LibvirtConfigGuestNUMATuneMemNode() numamemnode2.cellid = 2 numamemnode2.mode = ""preferred"" numamemnode2.nodeset = [8] obj.numatune.memnodes.extend([numamemnode0, numamemnode1, numamemnode2]) obj.name = ""demo"" obj.uuid = ""b38a3f43-4be2-4046-897f-b67c2f5e0147"" obj.os_type = ""linux"" obj.os_boot_dev = [""hd"", ""cdrom"", ""fd""] obj.os_smbios = config.LibvirtConfigGuestSMBIOS() obj.features = [ config.LibvirtConfigGuestFeatureACPI(), config.LibvirtConfigGuestFeatureAPIC(), config.LibvirtConfigGuestFeaturePAE(), ] obj.sysinfo = config.LibvirtConfigGuestSysinfo() obj.sysinfo.bios_vendor = ""Acme"" obj.sysinfo.system_version = ""1.0.0"" disk = config.LibvirtConfigGuestDisk() disk.source_type = ""file"" disk.source_path = ""/tmp/img"" disk.target_dev = ""/dev/vda"" disk.target_bus = ""virtio"" obj.add_device(disk) xml = obj.to_xml() self.assertXmlEqual(xml, """""" <domain type=""kvm""> <uuid>b38a3f43-4be2-4046-897f-b67c2f5e0147</uuid> <name>demo</name> <memory>104857600</memory> <memoryBacking> <hugepages> <page size=""2048"" unit=""KiB"" nodeset=""0-3,5""/> <page size=""1048576"" unit=""KiB"" nodeset=""4""/> </hugepages> </memoryBacking> <memtune> <hard_limit units=""K"">496</hard_limit> <soft_limit units=""K"">672</soft_limit> <swap_hard_limit units=""K"">1638</swap_hard_limit> <min_guarantee units=""K"">2970</min_guarantee> </memtune> <numatune> <memory mode=""preferred"" nodeset=""0-3,8""/> <memnode cellid=""0"" mode=""preferred"" nodeset=""0-1""/> <memnode cellid=""1"" mode=""preferred"" nodeset=""2-3""/> <memnode cellid=""2"" mode=""preferred"" nodeset=""8""/> </numatune> <vcpu cpuset=""0-1,3-5"">2</vcpu> <sysinfo type='smbios'> <bios> <entry name=""vendor"">Acme</entry> </bios> <system> <entry name=""version"">1.0.0</entry> </system> </sysinfo> <os> <type>linux</type> <boot dev=""hd""/> <boot dev=""cdrom""/> <boot dev=""fd""/> <smbios mode=""sysinfo""/> </os> <features> <acpi/> <apic/> <pae/> </features> <cputune> <shares>100</shares> <quota>50000</quota> <period>25000</period> </cputune> <devices> <disk type=""file"" device=""disk""> <source file=""/tmp/img""/> <target bus=""virtio"" dev=""/dev/vda""/> </disk> </devices> </domain>"""""") def test_config_boot_menu(self): obj = config.LibvirtConfigGuest() obj.virt_type = ""kvm"" obj.memory = 100 * units.Mi obj.vcpus = 2 obj.name = ""bootmenu"" obj.uuid = ""f01cf68d-515c-4daf-b85f-ef1424d93bfc"" obj.os_type = ""fake"" obj.os_bootmenu = True xml = obj.to_xml() self.assertXmlEqual(xml, """""" <domain type=""kvm""> <uuid>f01cf68d-515c-4daf-b85f-ef1424d93bfc</uuid> <name>bootmenu</name> <memory>104857600</memory> <vcpu>2</vcpu> <os> <type>fake</type> <bootmenu enable=""yes""/> </os> </domain>"""""") def test_config_machine_type(self): obj = config.LibvirtConfigGuest() obj.virt_type = ""kvm"" obj.memory = 100 * units.Mi obj.vcpus = 2 obj.name = ""demo"" obj.uuid = ""b38a3f43-4be2-4046-897f-b67c2f5e0147"" obj.os_type = ""hvm"" obj.os_mach_type = ""fake_machine_type"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <domain type=""kvm""> <uuid>b38a3f43-4be2-4046-897f-b67c2f5e0147</uuid> <name>demo</name> <memory>104857600</memory> <vcpu>2</vcpu> <os> <type machine=""fake_machine_type"">hvm</type> </os> </domain>"""""") def test_ConfigGuest_parse_devices(self): xmldoc = """""" <domain type=""kvm""> <devices> <hostdev mode=""subsystem"" type=""pci"" managed=""no""> </hostdev> </devices> </domain> """""" obj = config.LibvirtConfigGuest() obj.parse_str(xmldoc) self.assertEqual(len(obj.devices), 1) self.assertIsInstance(obj.devices[0], config.LibvirtConfigGuestHostdevPCI) self.assertEqual(obj.devices[0].mode, 'subsystem') self.assertEqual(obj.devices[0].managed, 'no') def test_ConfigGuest_parse_devices_wrong_type(self): xmldoc = """""" <domain type=""kvm""> <devices> <hostdev mode=""subsystem"" type=""xxxx"" managed=""no""> </hostdev> </devices> </domain> """""" obj = config.LibvirtConfigGuest() obj.parse_str(xmldoc) self.assertEqual(len(obj.devices), 0) def test_ConfigGuest_parese_cpu(self): xmldoc = """""" <domain> <cpu mode='custom' match='exact'> <model>kvm64</model> </cpu> </domain> """""" obj = config.LibvirtConfigGuest() obj.parse_str(xmldoc) self.assertEqual(obj.cpu.mode, 'custom') self.assertEqual(obj.cpu.match, 'exact') self.assertEqual(obj.cpu.model, 'kvm64') class LibvirtConfigGuestSnapshotTest(LibvirtConfigBaseTest): def test_config_snapshot(self): obj = config.LibvirtConfigGuestSnapshot() obj.name = ""Demo"" xml = obj.to_xml() self.assertXmlEqual(xml, """""" <domainsnapshot> <name>Demo</name> <disks/> </domainsnapshot>"""""") def test_config_snapshot_with_disks(self): obj = config.LibvirtConfigGuestSnapshot() obj.name = ""Demo"" disk = config.LibvirtConfigGuestSnapshotDisk() disk.name = 'vda' disk.source_path = 'source-path' disk.source_type = 'file' disk.snapshot = 'external' disk.driver_name = 'qcow2' obj.add_disk(disk) disk2 = config.LibvirtConfigGuestSnapshotDisk() disk2.name = 'vdb' disk2.snapshot = 'no' obj.add_disk(disk2) xml = obj.to_xml() self.assertXmlEqual(xml, """""" <domainsnapshot> <name>Demo</name> <disks> <disk name='vda' snapshot='external' type='file'> <source file='source-path'/> </disk> <disk name='vdb' snapshot='no'/> </disks> </domainsnapshot>"""""") def test_config_snapshot_with_network_disks(self): obj = config.LibvirtConfigGuestSnapshot() obj.name = ""Demo"" disk = config.LibvirtConfigGuestSnapshotDisk() disk.name = 'vda' disk.source_name = 'source-file' disk.source_type = 'network' disk.source_hosts = ['host1'] disk.source_ports = ['12345'] disk.source_protocol = 'glusterfs' disk.snapshot = 'external' disk.driver_name = 'qcow2' obj.add_disk(disk) disk2 = config.LibvirtConfigGuestSnapshotDisk() disk2.name = 'vdb' disk2.snapshot = 'no' obj.add_disk(disk2) xml = obj.to_xml() self.assertXmlEqual(xml, """""" <domainsnapshot> <name>Demo</name> <disks> <disk name='vda' snapshot='external' type='network'> <source protocol='glusterfs' name='source-file'> <host name='host1' port='12345'/> </source> </disk> <disk name='vdb' snapshot='no'/> </disks> </domainsnapshot>"""""") class LibvirtConfigNodeDeviceTest(LibvirtConfigBaseTest): def test_config_virt_usb_device(self): xmlin = """""" <device> <name>usb_0000_09_00_0</name> <parent>pci_0000_00_1c_0</parent> <driver> <name>vxge</name> </driver> <capability type=""usb""> <domain>0</domain> <capability type=""fake_usb""> <address fake_usb=""fake""/> </capability> </capability> </device>"""""" obj = config.LibvirtConfigNodeDevice() obj.parse_str(xmlin) self.assertIsNone(obj.pci_capability) def test_config_virt_device(self): xmlin = """""" <device> <name>pci_0000_09_00_0</name> <parent>pci_0000_00_1c_0</parent> <driver> <name>vxge</name> </driver> <capability type=""pci""> <domain>0</domain> <bus>9</bus> <slot>0</slot> <function>0</function> <product id=""0x5833"">X3100 Series 10 Gigabit Ethernet PCIe</product> <vendor id=""0x17d5"">Neterion Inc.</vendor> <capability type=""virt_functions""> <address domain=""0x0000"" bus=""0x0a"" slot=""0x00"" function=""0x1""/> <address domain=""0x0000"" bus=""0x0a"" slot=""0x00"" function=""0x2""/> <address domain=""0x0000"" bus=""0x0a"" slot=""0x00"" function=""0x3""/> </capability> </capability> </device>"""""" obj = config.LibvirtConfigNodeDevice() obj.parse_str(xmlin) self.assertIsInstance(obj.pci_capability, config.LibvirtConfigNodeDevicePciCap) self.assertIsInstance(obj.pci_capability.fun_capability[0], config.LibvirtConfigNodeDevicePciSubFunctionCap) self.assertEqual(obj.pci_capability.fun_capability[0].type, ""virt_functions"") self.assertEqual(len(obj.pci_capability.fun_capability[0]. device_addrs), 3) self.assertEqual(obj.pci_capability.bus, 9) def test_config_phy_device(self): xmlin = """""" <device> <name>pci_0000_33_00_0</name> <parent>pci_0000_22_1c_0</parent> <driver> <name>vxx</name> </driver> <capability type=""pci""> <domain>0</domain> <bus>9</bus> <slot>0</slot> <function>0</function> <product id=""0x5833"">X3100 Series 10 Gigabit Ethernet PCIe</product> <vendor id=""0x17d5"">Neterion Inc.</vendor> <capability type=""phys_function""> <address domain='0x0000' bus='0x09' slot='0x00' function='0x0'/> </capability> </capability> </device>"""""" obj = config.LibvirtConfigNodeDevice() obj.parse_str(xmlin) self.assertIsInstance(obj.pci_capability, config.LibvirtConfigNodeDevicePciCap) self.assertIsInstance(obj.pci_capability.fun_capability[0], config.LibvirtConfigNodeDevicePciSubFunctionCap) self.assertEqual(obj.pci_capability.fun_capability[0].type, ""phys_function"") self.assertEqual(len(obj.pci_capability.fun_capability[0]. device_addrs), 1) def test_config_non_device(self): xmlin = """""" <device> <name>pci_0000_33_00_0</name> <parent>pci_0000_22_1c_0</parent> <driver> <name>vxx</name> </driver> <capability type=""pci""> <domain>0</domain> <bus>9</bus> <slot>0</slot> <function>0</function> <product id=""0x5833"">X3100 Series 10 Gigabit Ethernet PCIe</product> <vendor id=""0x17d5"">Neterion Inc.</vendor> <capability type=""virt_functions""/> </capability> </device>"""""" obj = config.LibvirtConfigNodeDevice() obj.parse_str(xmlin) self.assertIsInstance(obj.pci_capability, config.LibvirtConfigNodeDevicePciCap) self.assertIsInstance(obj.pci_capability.fun_capability[0], config.LibvirtConfigNodeDevicePciSubFunctionCap) self.assertEqual(obj.pci_capability.fun_capability[0].type, ""virt_functions"") def test_config_fail_device(self): xmlin = """""" <device> <name>pci_0000_33_00_0</name> <parent>pci_0000_22_1c_0</parent> <driver> <name>vxx</name> </driver> <capability type=""pci""> <domain>0</domain> <bus>9</bus> <slot>0</slot> <function>0</function> <product id=""0x5833"">X3100 Series 10 Gigabit Ethernet PCIe</product> <vendor id=""0x17d5"">Neterion Inc.</vendor> <capability type=""virt_functions""> </capability> </capability> </device>"""""" obj = config.LibvirtConfigNodeDevice() obj.parse_str(xmlin) self.assertIsInstance(obj.pci_capability, config.LibvirtConfigNodeDevicePciCap) self.assertIsInstance(obj.pci_capability.fun_capability[0], config.LibvirtConfigNodeDevicePciSubFunctionCap) self.assertEqual(obj.pci_capability.fun_capability[0].type, ""virt_functions"") def test_config_2cap_device(self): xmlin = """""" <device> <name>pci_0000_04_10_7</name> <parent>pci_0000_00_01_1</parent> <driver> <name>igbvf</name> </driver> <capability type='pci'> <domain>0</domain> <bus>4</bus> <slot>16</slot> <function>7</function> <product id='0x1520'>I350 Ethernet Controller Virtual</product> <vendor id='0x8086'>Intel Corporation</vendor> <capability type='phys_function'> <address domain='0x0000' bus='0x04' slot='0x00' function='0x3'/> </capability> <capability type='virt_functions'> <address domain='0x0000' bus='0x04' slot='0x00' function='0x3'/> </capability> </capability> </device>"""""" obj = config.LibvirtConfigNodeDevice() obj.parse_str(xmlin) self.assertIsInstance(obj.pci_capability, config.LibvirtConfigNodeDevicePciCap) self.assertIsInstance(obj.pci_capability.fun_capability[0], config.LibvirtConfigNodeDevicePciSubFunctionCap) self.assertEqual(obj.pci_capability.fun_capability[0].type, ""phys_function"") self.assertEqual(obj.pci_capability.fun_capability[1].type, ""virt_functions"") class LibvirtConfigNodeDevicePciCapTest(LibvirtConfigBaseTest): def test_config_device_pci_cap(self): xmlin = """""" <capability type=""pci""> <domain>0</domain> <bus>10</bus> <slot>1</slot> <function>5</function> <product id=""0x10bd"">Intel 10 Gigabit Ethernet</product> <vendor id=""0x8086"">Intel Inc.</vendor> <capability type=""virt_functions""> <address domain=""0000"" bus=""0x0a"" slot=""0x1"" function=""0x1""/> <address domain=""0001"" bus=""0x0a"" slot=""0x02"" function=""0x03""/> </capability> </capability>"""""" obj = config.LibvirtConfigNodeDevicePciCap() obj.parse_str(xmlin) self.assertEqual(obj.domain, 0) self.assertEqual(obj.bus, 10) self.assertEqual(obj.slot, 1) self.assertEqual(obj.function, 5) self.assertEqual(obj.product, ""Intel 10 Gigabit Ethernet"") self.assertEqual(obj.product_id, 0x10bd) self.assertEqual(obj.vendor, ""Intel Inc."") self.assertEqual(obj.vendor_id, 0x8086) self.assertIsNone(obj.numa_node) self.assertIsInstance(obj.fun_capability[0], config.LibvirtConfigNodeDevicePciSubFunctionCap) self.assertEqual(obj.fun_capability[0].type, 'virt_functions') self.assertEqual(obj.fun_capability[0].device_addrs, [(0, 10, 1, 1), (1, 10, 2, 3), ]) def test_config_device_pci_2cap(self): xmlin = """""" <capability type=""pci""> <domain>0</domain> <bus>10</bus> <slot>1</slot> <function>5</function> <product id=""0x10bd"">Intel 10 Gigabit Ethernet</product> <vendor id=""0x8086"">Intel Inc.</vendor> <numa node='0'/> <capability type=""virt_functions""> <address domain=""0000"" bus=""0x0a"" slot=""0x1"" function=""0x1""/> <address domain=""0001"" bus=""0x0a"" slot=""0x02"" function=""0x03""/> </capability> <capability type=""phys_function""> <address domain=""0000"" bus=""0x0a"" slot=""0x1"" function=""0x1""/> </capability> </capability>"""""" obj = config.LibvirtConfigNodeDevicePciCap() obj.parse_str(xmlin) self.assertEqual(obj.domain, 0) self.assertEqual(obj.bus, 10) self.assertEqual(obj.slot, 1) self.assertEqual(obj.function, 5) self.assertEqual(obj.product, ""Intel 10 Gigabit Ethernet"") self.assertEqual(obj.product_id, 0x10bd) self.assertEqual(obj.vendor, ""Intel Inc."") self.assertEqual(obj.vendor_id, 0x8086) self.assertEqual(0, obj.numa_node) self.assertIsInstance(obj.fun_capability[0], config.LibvirtConfigNodeDevicePciSubFunctionCap) self.assertEqual(obj.fun_capability[0].type, 'virt_functions') self.assertEqual(obj.fun_capability[0].device_addrs, [(0, 10, 1, 1), (1, 10, 2, 3), ]) self.assertEqual(obj.fun_capability[1].type, 'phys_function') self.assertEqual(obj.fun_capability[1].device_addrs, [(0, 10, 1, 1), ]) def test_config_read_only_disk(self): obj = config.LibvirtConfigGuestDisk() obj.source_type = ""disk"" obj.source_device = ""disk"" obj.driver_name = ""kvm"" obj.target_dev = ""/dev/hdc"" obj.target_bus = ""virtio"" obj.readonly = True xml = obj.to_xml() self.assertXmlEqual(xml, """""" <disk type=""disk"" device=""disk""> <driver name=""kvm""/> <target bus=""virtio"" dev=""/dev/hdc""/> <readonly/> </disk>"""""") obj.readonly = False xml = obj.to_xml() self.assertXmlEqual(xml, """""" <disk type=""disk"" device=""disk""> <driver name=""kvm""/> <target bus=""virtio"" dev=""/dev/hdc""/> </disk>"""""") class LibvirtConfigNodeDevicePciSubFunctionCap(LibvirtConfigBaseTest): def test_config_device_pci_subfunction(self): xmlin = """""" <capability type=""virt_functions""> <address domain=""0000"" bus=""0x0a"" slot=""0x1"" function=""0x1""/> <address domain=""0001"" bus=""0x0a"" slot=""0x02"" function=""0x03""/> </capability>"""""" fun_capability = config.LibvirtConfigNodeDevicePciSubFunctionCap() fun_capability.parse_str(xmlin) self.assertEqual('virt_functions', fun_capability.type) self.assertEqual([(0, 10, 1, 1), (1, 10, 2, 3)], fun_capability.device_addrs) class LibvirtConfigGuestVideoTest(LibvirtConfigBaseTest): def test_config_video_driver(self): obj = config.LibvirtConfigGuestVideo() obj.type = 'qxl' xml = obj.to_xml() self.assertXmlEqual(xml, """""" <video> <model type='qxl'/> </video>"""""") def test_config_video_driver_vram_heads(self): obj = config.LibvirtConfigGuestVideo() obj.type = 'qxl' obj.vram = '9216' obj.heads = '1' xml = obj.to_xml() self.assertXmlEqual(xml, """""" <video> <model type='qxl' vram='9216' heads='1'/> </video>"""""") class LibvirtConfigGuestSeclabel(LibvirtConfigBaseTest): def test_config_seclabel_config(self): obj = config.LibvirtConfigSeclabel() xml = obj.to_xml() self.assertXmlEqual(xml, """""" <seclabel type='dynamic'/>"""""") def test_config_seclabel_baselabel(self): obj = config.LibvirtConfigSeclabel() obj.type = 'dynamic' obj.baselabel = 'system_u:system_r:my_svirt_t:s0' xml = obj.to_xml() self.assertXmlEqual(xml, """""" <seclabel type='dynamic'> <baselabel>system_u:system_r:my_svirt_t:s0</baselabel> </seclabel>"""""") class LibvirtConfigGuestRngTest(LibvirtConfigBaseTest): def test_config_rng_driver(self): obj = config.LibvirtConfigGuestRng() xml = obj.to_xml() self.assertXmlEqual(xml, """""" <rng model='virtio'> <backend model='random'/> </rng>"""""") def test_config_rng_driver_with_rate(self): obj = config.LibvirtConfigGuestRng() obj.backend = '/dev/random' obj.rate_period = '12' obj.rate_bytes = '34' xml = obj.to_xml() self.assertXmlEqual(xml, """""" <rng model='virtio'> <rate period='12' bytes='34'/> <backend model='random'>/dev/random</backend> </rng>"""""") class LibvirtConfigGuestControllerTest(LibvirtConfigBaseTest): def test_config_guest_contoller(self): obj = config.LibvirtConfigGuestController() obj.type = 'scsi' obj.index = 0 obj.model = 'virtio-scsi' xml = obj.to_xml() self.assertXmlEqual(xml, """""" <controller type='scsi' index='0' model='virtio-scsi'/>"""""") class LibvirtConfigGuestWatchdogTest(LibvirtConfigBaseTest): def test_config_watchdog(self): obj = config.LibvirtConfigGuestWatchdog() obj.action = 'none' xml = obj.to_xml() self.assertXmlEqual(xml, ""<watchdog model='i6300esb' action='none'/>"") def test_config_watchdog_default_action(self): obj = config.LibvirtConfigGuestWatchdog() xml = obj.to_xml() self.assertXmlEqual(xml, ""<watchdog model='i6300esb' action='reset'/>"") class LibvirtConfigGuestCPUTuneTest(LibvirtConfigBaseTest): def test_config_cputune_timeslice(self): cputune = config.LibvirtConfigGuestCPUTune() cputune.shares = 100 cputune.quota = 50000 cputune.period = 25000 xml = cputune.to_xml() self.assertXmlEqual(xml, """""" <cputune> <shares>100</shares> <quota>50000</quota> <period>25000</period> </cputune>"""""") def test_config_cputune_vcpus(self): cputune = config.LibvirtConfigGuestCPUTune() vcpu0 = config.LibvirtConfigGuestCPUTuneVCPUPin() vcpu0.id = 0 vcpu0.cpuset = set([0, 1]) vcpu1 = config.LibvirtConfigGuestCPUTuneVCPUPin() vcpu1.id = 1 vcpu1.cpuset = set([2, 3]) vcpu2 = config.LibvirtConfigGuestCPUTuneVCPUPin() vcpu2.id = 2 vcpu2.cpuset = set([4, 5]) vcpu3 = config.LibvirtConfigGuestCPUTuneVCPUPin() vcpu3.id = 3 vcpu3.cpuset = set([6, 7]) cputune.vcpupin.extend([vcpu0, vcpu1, vcpu2, vcpu3]) emu = config.LibvirtConfigGuestCPUTuneEmulatorPin() emu.cpuset = set([0, 1, 2, 3, 4, 5, 6, 7]) cputune.emulatorpin = emu xml = cputune.to_xml() self.assertXmlEqual(xml, """""" <cputune> <emulatorpin cpuset=""0-7""/> <vcpupin vcpu=""0"" cpuset=""0-1""/> <vcpupin vcpu=""1"" cpuset=""2-3""/> <vcpupin vcpu=""2"" cpuset=""4-5""/> <vcpupin vcpu=""3"" cpuset=""6-7""/> </cputune>"""""") class LibvirtConfigGuestMemoryBackingTest(LibvirtConfigBaseTest): def test_config_memory_backing_none(self): obj = config.LibvirtConfigGuestMemoryBacking() xml = obj.to_xml() self.assertXmlEqual(xml, ""<memoryBacking/>"") def test_config_memory_backing_all(self): obj = config.LibvirtConfigGuestMemoryBacking() obj.locked = True obj.sharedpages = False page = config.LibvirtConfigGuestMemoryBackingPage() page.size_kb = 2048 page.nodeset = [2, 3] obj.hugepages.append(page) xml = obj.to_xml() self.assertXmlEqual(xml, """""" <memoryBacking> <hugepages> <page size=""2048"" unit=""KiB"" nodeset=""2-3""/> </hugepages> <nosharedpages/> <locked/> </memoryBacking>"""""") class LibvirtConfigGuestMemoryTuneTest(LibvirtConfigBaseTest): def test_config_memory_backing_none(self): obj = config.LibvirtConfigGuestMemoryTune() xml = obj.to_xml() self.assertXmlEqual(xml, ""<memtune/>"") def test_config_memory_backing_all(self): obj = config.LibvirtConfigGuestMemoryTune() obj.soft_limit = 6 obj.hard_limit = 28 obj.swap_hard_limit = 140 obj.min_guarantee = 270 xml = obj.to_xml() self.assertXmlEqual(xml, """""" <memtune> <hard_limit units=""K"">28</hard_limit> <soft_limit units=""K"">6</soft_limit> <swap_hard_limit units=""K"">140</swap_hard_limit> <min_guarantee units=""K"">270</min_guarantee> </memtune>"""""") class LibvirtConfigGuestNUMATuneTest(LibvirtConfigBaseTest): def test_config_numa_tune_none(self): obj = config.LibvirtConfigGuestNUMATune() xml = obj.to_xml() self.assertXmlEqual(""<numatune/>"", xml) def test_config_numa_tune_memory(self): obj = config.LibvirtConfigGuestNUMATune() numamemory = config.LibvirtConfigGuestNUMATuneMemory() numamemory.nodeset = [0, 1, 2, 3, 8] obj.memory = numamemory xml = obj.to_xml() self.assertXmlEqual("""""" <numatune> <memory mode=""strict"" nodeset=""0-3,8""/> </numatune>"""""", xml) def test_config_numa_tune_memnodes(self): obj = config.LibvirtConfigGuestNUMATune() numamemnode0 = config.LibvirtConfigGuestNUMATuneMemNode() numamemnode0.cellid = 0 numamemnode0.nodeset = [0, 1] numamemnode1 = config.LibvirtConfigGuestNUMATuneMemNode() numamemnode1.cellid = 1 numamemnode1.nodeset = [2, 3] numamemnode2 = config.LibvirtConfigGuestNUMATuneMemNode() numamemnode2.cellid = 2 numamemnode2.nodeset = [8] obj.memnodes.extend([numamemnode0, numamemnode1, numamemnode2]) xml = obj.to_xml() self.assertXmlEqual("""""" <numatune> <memnode cellid=""0"" mode=""strict"" nodeset=""0-1""/> <memnode cellid=""1"" mode=""strict"" nodeset=""2-3""/> <memnode cellid=""2"" mode=""strict"" nodeset=""8""/> </numatune>"""""", xml) class LibvirtConfigGuestMetadataNovaTest(LibvirtConfigBaseTest): def test_config_metadata(self): meta = config.LibvirtConfigGuestMetaNovaInstance() meta.package = ""2014.2.3"" meta.name = ""moonbuggy"" meta.creationTime = 1234567890 meta.roottype = ""image"" meta.rootid = ""fe55c69a-8b2e-4bbc-811a-9ad2023a0426"" owner = config.LibvirtConfigGuestMetaNovaOwner() owner.userid = ""3472c2a6-de91-4fb5-b618-42bc781ef670"" owner.username = ""buzz"" owner.projectid = ""f241e906-010e-4917-ae81-53f4fb8aa021"" owner.projectname = ""moonshot"" meta.owner = owner flavor = config.LibvirtConfigGuestMetaNovaFlavor() flavor.name = ""m1.lowgravity"" flavor.vcpus = 8 flavor.memory = 2048 flavor.swap = 10 flavor.disk = 50 flavor.ephemeral = 10 meta.flavor = flavor xml = meta.to_xml() self.assertXmlEqual(xml, """""" <nova:instance xmlns:nova='http://openstack.org/xmlns/libvirt/nova/1.0'> <nova:package version=""2014.2.3""/> <nova:name>moonbuggy</nova:name> <nova:creationTime>2009-02-13 23:31:30</nova:creationTime> <nova:flavor name=""m1.lowgravity""> <nova:memory>2048</nova:memory> <nova:disk>50</nova:disk> <nova:swap>10</nova:swap> <nova:ephemeral>10</nova:ephemeral> <nova:vcpus>8</nova:vcpus> </nova:flavor> <nova:owner> <nova:user uuid=""3472c2a6-de91-4fb5-b618-42bc781ef670"">buzz</nova:user> <nova:project uuid=""f241e906-010e-4917-ae81-53f4fb8aa021"">moonshot</nova:project> </nova:owner> <nova:root type=""image"" uuid=""fe55c69a-8b2e-4bbc-811a-9ad2023a0426""/> </nova:instance> """""") class LibvirtConfigGuestIDMap(LibvirtConfigBaseTest): def test_config_id_map_parse_start_not_int(self): xmlin = ""<uid start='a' target='20000' count='5'/>"" obj = config.LibvirtConfigGuestIDMap() self.assertRaises(ValueError, obj.parse_str, xmlin) def test_config_id_map_parse_target_not_int(self): xmlin = ""<uid start='2' target='a' count='5'/>"" obj = config.LibvirtConfigGuestIDMap() self.assertRaises(ValueError, obj.parse_str, xmlin) def test_config_id_map_parse_count_not_int(self): xmlin = ""<uid start='2' target='20000' count='a'/>"" obj = config.LibvirtConfigGuestIDMap() self.assertRaises(ValueError, obj.parse_str, xmlin) def test_config_uid_map(self): obj = config.LibvirtConfigGuestUIDMap() obj.start = 1 obj.target = 10000 obj.count = 2 xml = obj.to_xml() self.assertXmlEqual(""<uid start='1' target='10000' count='2'/>"", xml) def test_config_uid_map_parse(self): xmlin = ""<uid start='2' target='20000' count='5'/>"" obj = config.LibvirtConfigGuestUIDMap() obj.parse_str(xmlin) self.assertEqual(2, obj.start) self.assertEqual(20000, obj.target) self.assertEqual(5, obj.count) def test_config_gid_map(self): obj = config.LibvirtConfigGuestGIDMap() obj.start = 1 obj.target = 10000 obj.count = 2 xml = obj.to_xml() self.assertXmlEqual(""<gid start='1' target='10000' count='2'/>"", xml) def test_config_gid_map_parse(self): xmlin = ""<gid start='2' target='20000' count='5'/>"" obj = config.LibvirtConfigGuestGIDMap() obj.parse_str(xmlin) self.assertEqual(2, obj.start) self.assertEqual(20000, obj.target) self.assertEqual(5, obj.count) class LibvirtConfigMemoryBalloonTest(LibvirtConfigBaseTest): def test_config_memory_balloon_period(self): balloon = config.LibvirtConfigMemoryBalloon() balloon.model = 'fake_virtio' balloon.period = 11 xml = balloon.to_xml() expected_xml = """""" <memballoon model='fake_virtio'> <stats period='11'/> </memballoon>"""""" self.assertXmlEqual(expected_xml, xml) def test_config_memory_balloon_no_period(self): balloon = config.LibvirtConfigMemoryBalloon() balloon.model = 'fake_virtio' xml = balloon.to_xml() expected_xml = """""" <memballoon model='fake_virtio' />"""""" self.assertXmlEqual(expected_xml, xml) class LibvirtConfigSecretTest(LibvirtConfigBaseTest): def test_config_secret_volume(self): secret = config.LibvirtConfigSecret() secret.ephemeral = True secret.private = True secret.description = 'sample desc' secret.uuid = 'c7a5fdbd-edaf-9455-926a-d65c16db1809' secret.usage_type = 'volume' secret.usage_id = 'sample_volume' xml = secret.to_xml() expected_xml = """""" <secret ephemeral=""yes"" private=""yes""> <description>sample desc</description> <uuid>c7a5fdbd-edaf-9455-926a-d65c16db1809</uuid> <usage type=""volume""> <volume>sample_volume</volume> </usage> </secret>"""""" self.assertXmlEqual(expected_xml, xml) def test_config_secret_ceph(self): secret = config.LibvirtConfigSecret() secret.ephemeral = True secret.private = True secret.description = 'sample desc' secret.usage_type = 'ceph' secret.usage_id = 'sample_name' xml = secret.to_xml() expected_xml = """""" <secret ephemeral=""yes"" private=""yes""> <description>sample desc</description> <usage type=""ceph""> <name>sample_name</name> </usage> </secret>"""""" self.assertXmlEqual(expected_xml, xml) def test_config_secret_iscsi(self): secret = config.LibvirtConfigSecret() secret.ephemeral = True secret.private = True secret.description = 'sample desc' secret.usage_type = 'iscsi' secret.usage_id = 'sample_target' xml = secret.to_xml() expected_xml = """""" <secret ephemeral=""yes"" private=""yes""> <description>sample desc</description> <usage type=""iscsi""> <target>sample_target</target> </usage> </secret>"""""" self.assertXmlEqual(expected_xml, xml)",2600,2600
openstack%2Fgrenade~master~I7d9472e3a5d716a7c54cca35936805ccd1fa23c7,openstack/grenade,master,I7d9472e3a5d716a7c54cca35936805ccd1fa23c7,Adding sahara project to grenade,ABANDONED,2015-06-02 11:13:49.000000000,2015-07-01 10:19:03.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 6786}, {'_account_id': 12038}, {'_account_id': 12039}]","[{'number': 1, 'created': '2015-06-02 11:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/e9560836235cfcde257cd4fa0031f98a25eb873c', 'message': 'Adding sahara project to grenade\n\nAdding sahara project directory and upgrade, resources,\nshutdown scripts to make sahara checks available\n\nChange-Id: I7d9472e3a5d716a7c54cca35936805ccd1fa23c7\n'}, {'number': 2, 'created': '2015-06-02 11:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/d7acdc57e32126949340a12d8cce3b267c2368de', 'message': 'Adding sahara project to grenade\n\nAdding sahara project directory and upgrade, resources,\nshutdown scripts to make sahara checks available\n\nChange-Id: I7d9472e3a5d716a7c54cca35936805ccd1fa23c7\n'}, {'number': 3, 'created': '2015-06-03 10:05:21.000000000', 'files': ['projects/99_sahara/ng-master.json', 'projects/99_sahara/ng-worker.json', 'devstack.localrc.base', 'projects/99_sahara/cluster-template.json', 'README.rst', 'devstack.localrc.target', 'projects/99_sahara/settings', 'projects/99_sahara/shutdown.sh', 'projects/99_sahara/upgrade.sh', 'projects/99_sahara/cluster-create.json', 'projects/99_sahara/resources.sh'], 'web_link': 'https://opendev.org/openstack/grenade/commit/3c4b23cdaa4767144136deed58e6835d6f2ec1a8', 'message': 'Adding sahara project to grenade\n\nAdding sahara project directory and upgrade, resources,\nshutdown scripts to make sahara checks available\n\nChange-Id: I7d9472e3a5d716a7c54cca35936805ccd1fa23c7\n'}]",0,187527,3c4b23cdaa4767144136deed58e6835d6f2ec1a8,10,6,3,12039,,,0,"Adding sahara project to grenade

Adding sahara project directory and upgrade, resources,
shutdown scripts to make sahara checks available

Change-Id: I7d9472e3a5d716a7c54cca35936805ccd1fa23c7
",git fetch https://review.opendev.org/openstack/grenade refs/changes/27/187527/2 && git format-patch -1 --stdout FETCH_HEAD,"['projects/99_sahara/ng-master.json', 'projects/99_sahara/ng-worker.json', 'devstack.localrc.base', 'projects/99_sahara/cluster-template.json', 'README.rst', 'devstack.localrc.target', 'projects/99_sahara/settings', 'projects/99_sahara/shutdown.sh', 'projects/99_sahara/upgrade.sh', 'projects/99_sahara/cluster-create.json', 'projects/99_sahara/resources.sh']",11,e9560836235cfcde257cd4fa0031f98a25eb873c,sahara,"#!/bin/bash # # Copyright 2015 Hewlett-Packard Development Company, L.P. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. set -o errexit source $GRENADE_DIR/grenaderc source $GRENADE_DIR/functions source $TOP_DIR/openrc admin admin set -o xtrace SAHARA_USER=sahara_grenade SAHARA_PROJECT=sahara_grenade SAHARA_PASS=pass SAHARA_SERVER=sahara_server1 SAHARA_KEY=sahara_key SAHARA_KEY_FILE=$SAVE_DIR/sahara_key.pem JSON_PATH=$GRENADE_DIR/projects/99_sahara DEFAULT_INSTANCE_TYPE=${DEFAULT_INSTANCE_TYPE:-m1.small} PUBLIC_NETWORK_NAME=${PUBLIC_NETWORK_NAME:-public} PRIVATE_NETWORK_NAME=${PRIVATE_NETWORK_NAME:-private} # cirros image is not appropriate for cluster creation SAHARA_IMAGE_NAME=${SAHARA_IMAGE_NAME:-fedora-20.x86_64} SAHARA_IMAGE_USER=${SAHARA_IMAGE_USER:-fedora} function _sahara_set_user { OS_TENANT_NAME=$SAHARA_PROJECT OS_USERNAME=$SAHARA_USER OS_PASSWORD=$SAHARA_PASS } function register_image { eval $(openstack image show -f shell -c id $SAHARA_IMAGE_NAME) resource_save sahara image_id $id sahara image-register --id $id --username $SAHARA_IMAGE_USER sahara image-add-tag --id $id --tag fake sahara image-add-tag --id $id --tag 0.1 echo $id } # args: <floating_ip_pool> <security group> function create_node_group_template { local tmp_file=$(mktemp) local floating_pool=$2 if is_service_enabled neutron; then eval $(openstack network show $2 -f shell -c id) local floating_pool=$id fi eval $(openstack flavor show $DEFAULT_INSTANCE_TYPE -f shell -c id) local flavor_id=$id sed -e ""s/FLAVOR_ID/$flavor_id/g"" -e ""s/FLOATING_IP_POOL/$floating_pool/g"" -e ""s/SEC_GROUP/$3/g"" $1 > $tmp_file local template_id=$(sahara node-group-template-create --json ""$tmp_file"" | awk '$2 ~ /^id/ { print $4 }') echo $template_id } # args: <template> <node_group_1_id> <node_group_2_id> function create_cluster_template { local tmp_file=$(mktemp) sed -e ""s/NG_MASTER_ID/$2/g"" -e ""s/NG_WORKER_ID/$3/g"" $1 > $tmp_file local cluster_template_id=$(sahara cluster-template-create --json $tmp_file | awk '$2 ~ /^id/ { print $4 }') echo $cluster_template_id } # args: <template> <cluster_template_id> <keypair> <image_id> function create_cluster { local tmp_file=$(mktemp) sed -e ""s/CLUSTER_TEMPLATE_ID/$2/g"" -e ""s/KEYPAIR/$3/g"" -e ""s/IMAGE_ID/$4/g"" $1 > $tmp_file # adding neutron management network id if neutron is enabled local net_id=$(resource_get network net_id) if [[ -n ""$net_id"" ]]; then sed -i '8i ,""neutron_management_network"": ""$net_id""' $tmp_file fi local cluster_id=$(sahara cluster-create --json $tmp_file | awk '$2 ~ /^id/ { print $4 }') echo $cluster_id } function create { # create a tenant for the server eval $(openstack project create -f shell -c id $SAHARA_PROJECT) if [[ -z ""$id"" ]]; then die $LINENO ""Didn't create $SAHARA_PROJECT project"" fi resource_save sahara project_id $id # create the user, and set $id locally eval $(openstack user create $SAHARA_USER \ --project $id \ --password $SAHARA_PASS \ -f shell -c id) if [[ -z ""$id"" ]]; then die $LINENO ""Didn't create $SAHARA_USER user"" fi resource_save sahara user_id $id # register image image_id=$(register_image) # set ourselves to the created sahara user _sahara_set_user # create security group nova secgroup-create $SAHARA_USER ""Sahara security group"" nova secgroup-add-rule $SAHARA_USER tcp 22 22 0.0.0.0/0 # create key pair for access openstack keypair create $SAHARA_KEY > $SAHARA_KEY_FILE chmod 600 $SAHARA_KEY_FILE # create node group templates ng_worker_id=$(create_node_group_template $JSON_PATH/ng-worker.json $PUBLIC_NETWORK_NAME $SAHARA_USER) ng_master_id=$(create_node_group_template $JSON_PATH/ng-master.json $PUBLIC_NETWORK_NAME $SAHARA_USER) resource_save sahara ng_worker_id $ng_worker_id resource_save sahara ng_master_id $ng_master_id # create cluster template cluster_template_id=$(create_cluster_template $JSON_PATH/cluster-template.json $ng_master_id $ng_worker_id) resource_save sahara cluster_template_id $cluster_template_id # create cluster cluster_id=$(create_cluster $JSON_PATH/cluster-create.json $cluster_template_id $SAHARA_KEY $image_id) resource_save sahara cluster_id $cluster_id # wait until cluster moves to active state local timeleft=300 while [[ $timeleft -gt 0 ]]; do local cluster_state=$(sahara cluster-show --id $cluster_id | awk '$2 ~ /^status/ { print $4;exit }') if [[ ""$cluster_state"" != ""Active"" ]]; then echo ""Cluster is still not in Active state"" sleep 10 timeleft=$((timeleft - 10)) if [[ $timeleft == 0 ]]; then die $LINENO ""Cluster hasn't moved to Active state during 300 seconds"" fi else break fi done } function verify { _sahara_set_user # check that cluster is in Active state local cluster_id=$(resource_get sahara cluster_id) local cluster_state=$(sahara cluster-show --id $cluster_id | awk '$2 ~ /^status/ { print $4;exit }') echo -n $cluster_state if [[ ""$cluster_state"" != ""Active"" ]]; then die $LINENO ""Cluster is not in Active state anymore"" fi echo ""Sahara verification: SUCCESS"" } function verify_noapi { : } function destroy { _sahara_set_user set +o errexit # delete cluster local cluster_id=$(resource_get sahara cluster_id) sahara cluster-delete --id $cluster_id > /dev/null # wait for cluster deletion local timeleft=100 while [[ $timeleft -gt 0 ]]; do sahara cluster-show --id $cluster_id > /dev/null local rc=$? if [[ ""$rc"" != 1 ]]; then echo ""Cluster still exists"" sleep 5 timeleft=$((timeleft - 5)) if [[ $timeleft == 0 ]]; then die $LINENO ""Cluster hasn't been deleted during 100 seconds"" fi else break fi done set -o errexit # delete cluster template local cluster_template_id=$(resource_get sahara cluster_template_id) sahara cluster-template-delete --id $cluster_template_id # delete node group templates local ng_master_id=$(resource_get sahara ng_master_id) local ng_worker_id=$(resource_get sahara ng_worker_id) sahara node-group-template-delete --id $ng_master_id sahara node-group-template-delete --id $ng_worker_id nova secgroup-delete $SAHARA_USER source_quiet $TOP_DIR/openrc admin admin # unregister image local image_id=$(resource_get sahara image_id) sahara image-unregister --id $image_id # delete user and project local user_id=$(resource_get sahara user_id) local project_id=$(resource_get sahara project_id) openstack user delete $user_id openstack project delete $project_id } # Dispatcher case $1 in ""create"") create ;; ""verify_noapi"") verify_noapi ;; ""verify"") verify ;; ""destroy"") destroy ;; ""force_destroy"") set +o errexit destroy ;; esac ",,387,3
openstack%2Ftripleo-heat-templates~master~Ic05720c565d9ecf76bf7485b969cb2d9ead9fd6f,openstack/tripleo-heat-templates,master,Ic05720c565d9ecf76bf7485b969cb2d9ead9fd6f,Include Redis VIP in example environment,MERGED,2015-06-16 02:13:02.000000000,2015-07-01 10:08:07.000000000,2015-07-01 10:08:04.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 4328}, {'_account_id': 6796}, {'_account_id': 8399}, {'_account_id': 8449}, {'_account_id': 9410}, {'_account_id': 12398}]","[{'number': 1, 'created': '2015-06-16 02:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/35e7fd389bf19bf422696d1630ba3d8bccc35415', 'message': 'Include Redis VIP in example environment\n\nThe network isolation code in the TripleO Heat templates has files\nin the environment folder that can be included to enable network\nisolation. This updates the environment file to include the VIP\nfor Redis.\n\nChange-Id: Ic05720c565d9ecf76bf7485b969cb2d9ead9fd6f\n'}, {'number': 2, 'created': '2015-06-25 19:03:13.000000000', 'files': ['environments/network-isolation.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c203085ad0a6cbaeed7e7559629c8bb5ef5c242e', 'message': 'Include Redis VIP in example environment\n\nThe network isolation code in the TripleO Heat templates has files\nin the environment folder that can be included to enable network\nisolation. This updates the environment file to include the VIP\nfor Redis.\n\nChange-Id: Ic05720c565d9ecf76bf7485b969cb2d9ead9fd6f\n'}]",0,192036,c203085ad0a6cbaeed7e7559629c8bb5ef5c242e,13,8,2,12398,,,0,"Include Redis VIP in example environment

The network isolation code in the TripleO Heat templates has files
in the environment folder that can be included to enable network
isolation. This updates the environment file to include the VIP
for Redis.

Change-Id: Ic05720c565d9ecf76bf7485b969cb2d9ead9fd6f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/36/192036/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/network-isolation.yaml'],1,35e7fd389bf19bf422696d1630ba3d8bccc35415,env_net_isolation, # Port assignments for service virtual IPs for the controller role OS::TripleO::Controller::Ports::RedisVipPort: network/ports/vip.yaml,,3,0
openstack%2Fdevstack~master~I7dad52c5b5ea91d727bd8ee7253a64422e4ec210,openstack/devstack,master,I7dad52c5b5ea91d727bd8ee7253a64422e4ec210,Fix typo: where is runs => where it runs,MERGED,2015-06-26 05:29:32.000000000,2015-07-01 10:04:26.000000000,2015-07-01 10:04:24.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 4656}, {'_account_id': 7118}, {'_account_id': 7715}, {'_account_id': 10385}, {'_account_id': 12403}, {'_account_id': 13252}]","[{'number': 1, 'created': '2015-06-26 05:29:32.000000000', 'files': ['doc/source/configuration.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/1e3a89eeffc58525c30b8201a552e10776fba423', 'message': 'Fix typo: where is runs => where it runs\n\nChange-Id: I7dad52c5b5ea91d727bd8ee7253a64422e4ec210\n'}]",0,195871,1e3a89eeffc58525c30b8201a552e10776fba423,18,8,1,17015,,,0,"Fix typo: where is runs => where it runs

Change-Id: I7dad52c5b5ea91d727bd8ee7253a64422e4ec210
",git fetch https://review.opendev.org/openstack/devstack refs/changes/71/195871/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration.rst'],1,1e3a89eeffc58525c30b8201a552e10776fba423,typo, where it runs. It can be sent to a file in addition to the console, where is runs. It can be sent to a file in addition to the console,1,1
openstack%2Frequirements~master~I87f8fedc6e6cdb10a18796a9c0e39f7782cc0797,openstack/requirements,master,I87f8fedc6e6cdb10a18796a9c0e39f7782cc0797,Update upper-constraints.txt,MERGED,2015-07-01 08:02:42.000000000,2015-07-01 09:52:41.000000000,2015-07-01 09:52:40.000000000,"[{'_account_id': 3}, {'_account_id': 1726}, {'_account_id': 4146}, {'_account_id': 7069}]","[{'number': 1, 'created': '2015-07-01 08:02:42.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/96e2389c8184fe46b6926caf36f73ec967caa7c5', 'message': 'Update upper-constraints.txt\n\nChange-Id: I87f8fedc6e6cdb10a18796a9c0e39f7782cc0797\n'}]",0,197461,96e2389c8184fe46b6926caf36f73ec967caa7c5,9,4,1,4190,,,0,"Update upper-constraints.txt

Change-Id: I87f8fedc6e6cdb10a18796a9c0e39f7782cc0797
",git fetch https://review.opendev.org/openstack/requirements refs/changes/61/197461/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,96e2389c8184fe46b6926caf36f73ec967caa7c5,,PyKMIP===0.3.3SQLAlchemy===1.0.6automaton===0.3.0bandit===0.12.0cachetools===1.0.3diskimage-builder===0.1.47django-nose===1.4.1futurist===0.1.1 gabbi===0.101.2logilab-common===1.0.1netaddr===0.7.15nose-exclude===0.3.0openstackdocstheme===1.1.0os-testr===0.2.0 oslo.concurrency===2.2.0 oslo.config===1.13.0oslo.db===2.0.0oslo.log===1.6.0oslo.middleware===2.3.0oslo.rootwrap===2.1.0oslo.service===0.2.0 oslo.utils===1.7.0 oslo.versionedobjects===0.5.1 oslo.vmware===0.15.0packaging===15.2pymongo===3.0.3python-ceilometerclient===1.3.0python-designateclient===1.3.0python-qpid-proton===0.9.1.1;python_version=='2.7'sphinxcontrib-blockdiag===1.5.4sphinxcontrib-seqdiag===0.8.4taskflow===0.13.0 tempest-lib===0.6.1tooz===0.17.0unittest2===1.1.0virtualenv===13.1.0xattr===0.7.8yaql===0.3,PyKMIP===0.3.2SQLAlchemy===1.0.5automaton===0.2.0bandit===0.11.0cachetools===1.0.2diskimage-builder===0.1.46django-nose===1.4gabbi===0.101.0logilab-common===0.63.2netaddr===0.7.14nose-exclude===0.2.0openstackdocstheme===1.0.8os-testr===0.1.0 oslo.concurrency===2.1.0 oslo.config===1.12.1oslo.db===1.12.0oslo.log===1.5.0oslo.middleware===2.2.0oslo.rootwrap===2.0.0oslo.service===0.1.0 oslo.utils===1.6.0 oslo.versionedobjects===0.4.0 oslo.vmware===0.14.0pymongo===3.0.2python-ceilometerclient===1.2.0python-designateclient===1.2.0python-marconiclient===0.0.2python-qpid-proton===0.9.1;python_version=='2.7'sphinxcontrib-blockdiag===1.5.3sphinxcontrib-seqdiag===0.8.3taskflow===0.12.0 tempest-lib===0.6.0tooz===0.16.0unittest2===1.0.1virtualenv===13.0.3xattr===0.7.7yaql===0.2.6,38,37
openstack%2Fmonasca-notification~master~I20bcb7f6ae402a455418125eeb0a6b32fb457fd7,openstack/monasca-notification,master,I20bcb7f6ae402a455418125eeb0a6b32fb457fd7,Add fix for local time bug,ABANDONED,2015-06-30 07:09:51.000000000,2015-07-01 09:48:14.000000000,,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 11094}, {'_account_id': 16204}]","[{'number': 1, 'created': '2015-06-30 07:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/85a3fc1ea23dd1560a33d80abb9b73fcfce454ce', 'message': ""Add fix for local time bug\n\nThe test 'test_old_timestamp' was not able to pass in different\ntimezones due to hardcoded expected datetime\n\nChange-Id: I20bcb7f6ae402a455418125eeb0a6b32fb457fd7\n""}, {'number': 2, 'created': '2015-06-30 08:11:09.000000000', 'files': ['tests/test_alarm_processor.py'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/f8d9f8077b4233f366856cac03739fd9f2cbb02b', 'message': ""Add fix for local time bug\n\nThe test 'test_old_timestamp' was not able to pass in different\ntimezones due to hardcoded expected datetime\n\nChange-Id: I20bcb7f6ae402a455418125eeb0a6b32fb457fd7\n""}]",0,196969,f8d9f8077b4233f366856cac03739fd9f2cbb02b,5,4,2,16172,,,0,"Add fix for local time bug

The test 'test_old_timestamp' was not able to pass in different
timezones due to hardcoded expected datetime

Change-Id: I20bcb7f6ae402a455418125eeb0a6b32fb457fd7
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/69/196969/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/test_alarm_processor.py'],1,85a3fc1ea23dd1560a33d80abb9b73fcfce454ce,bugfix/timezone-bugfix," timestamp = 1375346830042 ""timestamp"": timestamp, ""actionsEnabled"": 1, ""metrics"": ""cpu_util""} expected_datetime = time.ctime(timestamp/1000) 'Alarm from {datetime}'.format(datetime=expected_datetime))"," ""timestamp"": 1375346830042, ""actionsEnabled"": 1, ""metrics"": ""cpu_util""} 'Alarm from Thu Aug 1 02:47:10 2013')",4,2
openstack%2Ffuel-ostf~master~Ie2e76bac576f3bae7cbf21280eb632c2bcb6e6bb,openstack/fuel-ostf,master,Ie2e76bac576f3bae7cbf21280eb632c2bcb6e6bb,Update Heat OSTF tests: use created in test flavor,MERGED,2015-06-29 16:05:24.000000000,2015-07-01 09:46:55.000000000,2015-07-01 09:44:41.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 7227}, {'_account_id': 7428}, {'_account_id': 7732}, {'_account_id': 8592}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 13962}, {'_account_id': 14691}]","[{'number': 1, 'created': '2015-06-29 16:05:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/05a05bb7932dbaea705581f18c94101e6e6ba903', 'message': ""Update Heat OSTF tests: use created in test flavor\n\nHeat tests were updated, now they use test created flavor instead of\nhardcoded standard, also 'test_rollback' now use extra large flavor to\ncause stack rollback (old mechanism when test uses non-existent flavor\ndoesn't work now, because of changes in heat: it is not allowed to\nstart stack creation with non-existent flavor, image, etc)\n\nChange-Id: Ie2e76bac576f3bae7cbf21280eb632c2bcb6e6bb\nCloses-Bug: #1469388\n""}, {'number': 2, 'created': '2015-06-30 10:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/8881d251a148cb3d6c8b6c7a11d5a1cf041a1e8f', 'message': ""Update Heat OSTF tests: use created in test flavor\n\nHeat tests were updated, now they use test created flavor instead of\nhardcoded standard, also 'test_rollback' now use extra large flavor to\ncause stack rollback (old mechanism when test uses non-existent flavor\ndoesn't work now, because of changes in heat: it is not allowed to\nstart stack creation with non-existent flavor, image, etc)\n\nChange-Id: Ie2e76bac576f3bae7cbf21280eb632c2bcb6e6bb\nCloses-Bug: #1469388\n""}, {'number': 3, 'created': '2015-06-30 11:30:24.000000000', 'files': ['fuel_health/tests/tests_platform/test_heat.py', 'fuel_health/heatmanager.py'], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/872dae35ec06db34f33ddd9060b93931016aecd2', 'message': ""Update Heat OSTF tests: use created in test flavor\n\nHeat tests were updated, now they use test created flavor instead of\nhardcoded standard, also 'test_rollback' now use extra large flavor to\ncause stack rollback (old mechanism when test uses non-existent flavor\ndoesn't work now, because of changes in heat: it is not allowed to\nstart stack creation with non-existent flavor, image, etc)\n\nChange-Id: Ie2e76bac576f3bae7cbf21280eb632c2bcb6e6bb\nCloses-Bug: #1469388\n""}]",3,196724,872dae35ec06db34f33ddd9060b93931016aecd2,31,10,3,8592,,,0,"Update Heat OSTF tests: use created in test flavor

Heat tests were updated, now they use test created flavor instead of
hardcoded standard, also 'test_rollback' now use extra large flavor to
cause stack rollback (old mechanism when test uses non-existent flavor
doesn't work now, because of changes in heat: it is not allowed to
start stack creation with non-existent flavor, image, etc)

Change-Id: Ie2e76bac576f3bae7cbf21280eb632c2bcb6e6bb
Closes-Bug: #1469388
",git fetch https://review.opendev.org/openstack/fuel-ostf refs/changes/24/196724/3 && git format-patch -1 --stdout FETCH_HEAD,"['fuel_health/tests/tests_platform/test_heat.py', 'fuel_health/heatmanager.py']",2,05a05bb7932dbaea705581f18c94101e6e6ba903,," def create_flavor(self, ram=256, vcpus=1, disk=20): """"""This method creates a flavor for Heat tests."""""" LOG.debug('Creating flavor for Heat tests...') name = rand_name('heat-test-flavor-') flavor = self.compute_client.flavors.create(name, ram, vcpus, disk) self.addCleanup(self.compute_client.flavors.delete, flavor.id) LOG.debug('Flavor for Heat tests has been created.') return flavor "," cls.flavors = [] @classmethod def tearDownClass(cls): super(HeatBaseTest, cls).tearDownClass() if cls.flavors: try: [cls.compute_client.flavors.delete(flavor) for flavor in cls.flavors] except Exception: LOG.debug(traceback.format_exc()) ",25,27
openstack%2Ffuel-qa~master~Ifbeb3dc8a1bce7147b894b6d82383f7f09ec312b,openstack/fuel-qa,master,Ifbeb3dc8a1bce7147b894b6d82383f7f09ec312b,Fix a few typos at the tests descriptions,MERGED,2015-06-29 14:57:51.000000000,2015-07-01 09:46:06.000000000,2015-07-01 09:46:05.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8971}, {'_account_id': 9439}, {'_account_id': 11969}, {'_account_id': 15943}, {'_account_id': 15984}, {'_account_id': 16106}]","[{'number': 1, 'created': '2015-06-29 14:57:51.000000000', 'files': ['fuelweb_test/tests/test_ceph.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/0da257cab6fed76caadf98ac1e1aed15b29b74ed', 'message': 'Fix a few typos at the tests descriptions\n\nChange-Id: Ifbeb3dc8a1bce7147b894b6d82383f7f09ec312b\n'}]",0,196696,0da257cab6fed76caadf98ac1e1aed15b29b74ed,14,8,1,14057,,,0,"Fix a few typos at the tests descriptions

Change-Id: Ifbeb3dc8a1bce7147b894b6d82383f7f09ec312b
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/96/196696/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/test_ceph.py'],1,0da257cab6fed76caadf98ac1e1aed15b29b74ed,typo, 3. Add 2 nodes with compute and ceph OSD roles 2. Add 3 nodes with controller role 3. Add 3 nodes with compute and ceph-osd role 3. Add 2 nodes with compute and ceph OSD roles, 3. Add 2 node with compute and ceph OSD roles 2. Add 3 node with controller role 3. Add 3 node with compute and ceph-osd role 3. Add 2 node with compute and ceph OSD roles,4,4
openstack%2Fproject-config~master~I394d50bb4d2d0c659a1711943ff9cc7d2bc1cb0a,openstack/project-config,master,I394d50bb4d2d0c659a1711943ff9cc7d2bc1cb0a,Enables job for heat convergence functional test,MERGED,2015-06-25 11:31:13.000000000,2015-07-01 09:40:02.000000000,2015-07-01 09:40:00.000000000,"[{'_account_id': 3}, {'_account_id': 4571}, {'_account_id': 6547}, {'_account_id': 6577}, {'_account_id': 6786}, {'_account_id': 6899}, {'_account_id': 10487}]","[{'number': 1, 'created': '2015-06-25 11:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/3077fdf12b2949e6c3775186d295cea8994c0499', 'message': 'Enables job for heat convergence functional test\n\nAdds check and gate job for testing heat convergence\nfunctionality\n\nChange-Id: I394d50bb4d2d0c659a1711943ff9cc7d2bc1cb0a\n'}, {'number': 2, 'created': '2015-06-25 11:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/1b6c2b6ad1cb35bb6e11cd0c8e4381f21159f2cb', 'message': 'Enables job for heat convergence functional test\n\nAdds check and gate job for testing heat convergence\nfunctionality\n\nChange-Id: I394d50bb4d2d0c659a1711943ff9cc7d2bc1cb0a\n'}, {'number': 3, 'created': '2015-06-25 11:51:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/31dbc0d07995082112ddd9656e8f38c4c90a20e6', 'message': 'Enables job for heat convergence functional test\n\nAdds check non-voting job for testing heat convergence\nfunctionality\n\nChange-Id: I394d50bb4d2d0c659a1711943ff9cc7d2bc1cb0a\n'}, {'number': 4, 'created': '2015-06-29 04:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/3962b83424abde225d2a271368ba71d2349f1586', 'message': 'Enables job for heat convergence functional test\n\nAdds check non-voting job for testing heat convergence\nfunctionality\n\nChange-Id: I394d50bb4d2d0c659a1711943ff9cc7d2bc1cb0a\n'}, {'number': 5, 'created': '2015-06-29 05:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/996d1250082103a96fcf047296db39c92cca3f03', 'message': 'Enables job for heat convergence functional test\n\nAdds check non-voting job for testing heat convergence\nfunctionality\n\nChange-Id: I394d50bb4d2d0c659a1711943ff9cc7d2bc1cb0a\n'}, {'number': 6, 'created': '2015-06-29 06:01:51.000000000', 'files': ['jenkins/jobs/heat.yaml', 'jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4326746d2ff62dfadce47074a39d7171c0c76e65', 'message': 'Enables job for heat convergence functional test\n\nAdds check non-voting job for testing heat convergence\nfunctionality\n\nChange-Id: I394d50bb4d2d0c659a1711943ff9cc7d2bc1cb0a\n'}]",14,195531,4326746d2ff62dfadce47074a39d7171c0c76e65,25,7,6,10487,,,0,"Enables job for heat convergence functional test

Adds check non-voting job for testing heat convergence
functionality

Change-Id: I394d50bb4d2d0c659a1711943ff9cc7d2bc1cb0a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/31/195531/6 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/heat.yaml', 'jenkins/jobs/projects.yaml', 'zuul/layout.yaml']",3,3077fdf12b2949e6c3775186d295cea8994c0499,heat-enable-convergence, - name: ^(gate|check)-heat-dsvm-functional-convg-mysql branch: ^(?!stable/(icehouse|juno)).*$ voting: false - check-heat-dsvm-functional-convg-mysql - check-heat-dsvm-functional-convg-mysql,,69,0
openstack%2Fopenstack-ansible~kilo~Ia479610b9ab69d64d1de756099d840b2ab331378,openstack/openstack-ansible,kilo,Ia479610b9ab69d64d1de756099d840b2ab331378,Updated tempest isolation options,MERGED,2015-06-24 17:44:05.000000000,2015-07-01 09:39:58.000000000,2015-07-01 09:39:56.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 12000}, {'_account_id': 12807}]","[{'number': 1, 'created': '2015-06-24 17:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2a6f55528c02bc891b83cefbecd9c41f1dc9f8ff', 'message': 'Updated tempest isolation options\n\nThis change updates the way that the packages are installed in an\nisolated deployment. This ensures that our build packages are used\nwithin the deployment while also allowing temptest to go online and\nconsume upstream packages from pypi. Additionally this updates\ntempest-lib which is needed to make keystone w/ fernet tokens go as\nthere is an upstream issues with date timestamps with all versions\nof tempest-lib that will prohibit the use of fernet tokens.\n\nChange-Id: Ia479610b9ab69d64d1de756099d840b2ab331378\nRelated-Bug: #1466010\n'}, {'number': 2, 'created': '2015-06-24 18:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b160893e5f000cc19fd098ede1631321688dd395', 'message': 'Updated tempest isolation options\n\nThis change updates the way that the packages are installed in an\nisolated deployment. This ensures that our build packages are used\nwithin the deployment while also allowing temptest to go online and\nconsume upstream packages from pypi. Additionally this updates\ntempest-lib which is needed to make keystone w/ fernet tokens go as\nthere is an upstream issues with date timestamps with all versions\nof tempest-lib that will prohibit the use of fernet tokens.\n\nChange-Id: Ia479610b9ab69d64d1de756099d840b2ab331378\nRelated-Bug: #1466010\n'}, {'number': 3, 'created': '2015-06-29 02:36:55.000000000', 'files': ['playbooks/roles/os_tempest/tasks/tempest_install.yml', 'playbooks/defaults/repo_packages/openstack_other.yml', 'etc/openstack_deploy/user_group_vars.yml', 'playbooks/roles/os_tempest/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/49655597722e04aaeff755240fa4c14b7b7c8e3c', 'message': 'Updated tempest isolation options\n\nThis change updates the way that the packages are installed in an\nisolated deployment. This ensures that our build packages are used\nwithin the deployment while also allowing temptest to go online and\nconsume upstream packages from pypi. Additionally this updates\ntempest-lib which is needed to make keystone w/ fernet tokens go as\nthere is an upstream issues with date timestamps with all versions\nof tempest-lib that will prohibit the use of fernet tokens.\n\nChange-Id: Ia479610b9ab69d64d1de756099d840b2ab331378\nRelated-Bug: #1466010\n(cherry picked commit from 2086f6edb1a4c50dc0000804a510aa4da1af4f5f)\n'}]",0,195225,49655597722e04aaeff755240fa4c14b7b7c8e3c,13,4,3,7353,,,0,"Updated tempest isolation options

This change updates the way that the packages are installed in an
isolated deployment. This ensures that our build packages are used
within the deployment while also allowing temptest to go online and
consume upstream packages from pypi. Additionally this updates
tempest-lib which is needed to make keystone w/ fernet tokens go as
there is an upstream issues with date timestamps with all versions
of tempest-lib that will prohibit the use of fernet tokens.

Change-Id: Ia479610b9ab69d64d1de756099d840b2ab331378
Related-Bug: #1466010
(cherry picked commit from 2086f6edb1a4c50dc0000804a510aa4da1af4f5f)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/25/195225/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/os_tempest/tasks/tempest_install.yml', 'playbooks/defaults/repo_packages/openstack_other.yml', 'etc/openstack_deploy/user_group_vars.yml', 'playbooks/roles/os_tempest/defaults/main.yml']",4,2a6f55528c02bc891b83cefbecd9c41f1dc9f8ff,bug/1466010,"tempest_pip_instructions: ""--isolated""", - python-memcached,16,3
openstack%2Foslo.db~master~Ica9574d70a6b8be80bd1a5e7cf250828455c5ade,openstack/oslo.db,master,Ica9574d70a6b8be80bd1a5e7cf250828455c5ade,Add legacy get_sessionmaker() method,MERGED,2015-06-29 22:03:22.000000000,2015-07-01 09:39:54.000000000,2015-07-01 09:39:52.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6849}, {'_account_id': 7491}]","[{'number': 1, 'created': '2015-06-29 22:03:22.000000000', 'files': ['oslo_db/tests/sqlalchemy/test_enginefacade.py', 'oslo_db/sqlalchemy/enginefacade.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/e8c4a03c8783b5911e84088027e50689c892f6db', 'message': 'Add legacy get_sessionmaker() method\n\nSome projects are calling EngineFacade._session_maker for\nsome use cases.  To suit these cases more cleanly on the legacy\nAPI, add a public get_sessionmaker() method.\n\nChange-Id: Ica9574d70a6b8be80bd1a5e7cf250828455c5ade\n'}]",0,196885,e8c4a03c8783b5911e84088027e50689c892f6db,7,4,1,11816,,,0,"Add legacy get_sessionmaker() method

Some projects are calling EngineFacade._session_maker for
some use cases.  To suit these cases more cleanly on the legacy
API, add a public get_sessionmaker() method.

Change-Id: Ica9574d70a6b8be80bd1a5e7cf250828455c5ade
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/85/196885/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/tests/sqlalchemy/test_enginefacade.py', 'oslo_db/sqlalchemy/enginefacade.py']",2,e8c4a03c8783b5911e84088027e50689c892f6db,add_legacy_getsessionmaker," def get_sessionmaker(self, use_slave=False): """"""Get the sessionmaker instance used to create a Session. This can be called for those cases where the sessionmaker() is to be temporarily injected with some state such as a specific connection. """""" if use_slave: return self._factory._reader_maker else: return self._factory._writer_maker ",,19,0
openstack%2Fneutron~stable%2Fkilo~I0d1da11bb559b7f0f9d4428b82573fb26916a933,openstack/neutron,stable/kilo,I0d1da11bb559b7f0f9d4428b82573fb26916a933,fix DHCP port changed when dhcp-agent restart,MERGED,2015-06-29 15:36:33.000000000,2015-07-01 09:37:01.000000000,2015-07-01 09:36:59.000000000,"[{'_account_id': 3}, {'_account_id': 979}, {'_account_id': 5170}, {'_account_id': 7715}, {'_account_id': 7787}, {'_account_id': 8441}, {'_account_id': 8645}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10153}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14294}, {'_account_id': 14571}, {'_account_id': 15397}]","[{'number': 1, 'created': '2015-06-29 15:36:33.000000000', 'files': ['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/68459f99edc2f71a5f6357c7e5594afa5883a9ea', 'message': 'fix DHCP port changed when dhcp-agent restart\n\nWhen DHCP server is started, the periodic task is running\nbefore loading cache state.The method port_update_end\nneed to use the cache information, but the cache information\nhas not been loaded.\n\nChange-Id: I0d1da11bb559b7f0f9d4428b82573fb26916a933\nCloses-Bug: #1420042\n(cherry picked from commit 3d2543d710c7071ffeb5c9857ac30a4d95695a7b)\n'}]",0,196708,68459f99edc2f71a5f6357c7e5594afa5883a9ea,47,18,1,15397,,,0,"fix DHCP port changed when dhcp-agent restart

When DHCP server is started, the periodic task is running
before loading cache state.The method port_update_end
need to use the cache information, but the cache information
has not been loaded.

Change-Id: I0d1da11bb559b7f0f9d4428b82573fb26916a933
Closes-Bug: #1420042
(cherry picked from commit 3d2543d710c7071ffeb5c9857ac30a4d95695a7b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/08/196708/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py']",2,68459f99edc2f71a5f6357c7e5594afa5883a9ea,bug/1420042," def test_init_host(self): dhcp = dhcp_agent.DhcpAgent(HOSTNAME) with mock.patch.object(dhcp, 'sync_state') as sync_state: dhcp.init_host() sync_state.assert_called_once_with() ",,9,0
openstack%2Fnova-specs~master~Icbcfa78e0352485dcd3c9d1cda31f2345f59580d,openstack/nova-specs,master,Icbcfa78e0352485dcd3c9d1cda31f2345f59580d,"Propose VMware limits, reservation and shares",MERGED,2015-06-17 13:52:54.000000000,2015-07-01 09:35:48.000000000,2015-07-01 09:35:45.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 5754}, {'_account_id': 7166}, {'_account_id': 7400}, {'_account_id': 9171}, {'_account_id': 16929}]","[{'number': 1, 'created': '2015-06-17 13:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/cd1198732173bc73c8ced638773b9a348b133543', 'message': 'Propose VMware limits, reservation and shares\n\nThe aim is to support the blueprint vmware-limits\n\nChange-Id: Icbcfa78e0352485dcd3c9d1cda31f2345f59580d\n'}, {'number': 2, 'created': '2015-06-17 14:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/a26fa9a4e92592aeb5120d0ca658ddea4f448ba0', 'message': 'Propose VMware limits, reservation and shares\n\nThe aim is to support the blueprint vmware-limits\n\nChange-Id: Icbcfa78e0352485dcd3c9d1cda31f2345f59580d\n'}, {'number': 3, 'created': '2015-06-19 05:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/33c5df24b3af6c79cc57df9fa8baa2dfb632c55b', 'message': 'Propose VMware limits, reservation and shares\n\nThe aim is to support the blueprint vmware-limits\n\nChange-Id: Icbcfa78e0352485dcd3c9d1cda31f2345f59580d\n'}, {'number': 4, 'created': '2015-06-19 08:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/d64b93779caaf581bfea52f038739a307a17a7f9', 'message': 'Propose VMware limits, reservation and shares\n\nThe aim is to support the blueprint vmware-limits\n\nblueprint vmware-limits\n\nChange-Id: Icbcfa78e0352485dcd3c9d1cda31f2345f59580d'}, {'number': 5, 'created': '2015-06-19 10:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/189a867f516c47c5289f9f0bf3f1483d82ce6686', 'message': 'Propose VMware limits, reservation and shares\n\nThe aim is to support the blueprint vmware-limits\n\nChange-Id: Icbcfa78e0352485dcd3c9d1cda31f2345f59580d\n'}, {'number': 6, 'created': '2015-06-19 14:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/312ebd5efd6f1a29fae1814eebeccd84d7be858f', 'message': 'Propose VMware limits, reservation and shares\n\nThe aim is to support the blueprint vmware-limits\n\nChange-Id: Icbcfa78e0352485dcd3c9d1cda31f2345f59580d\n'}, {'number': 7, 'created': '2015-06-24 12:55:34.000000000', 'files': ['specs/liberty/approved/vmware-limits.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b299161ccc8c7e59005aabacafcece0064df8541', 'message': 'Propose VMware limits, reservation and shares\n\nThe aim is to support the blueprint vmware-limits\n\nChange-Id: Icbcfa78e0352485dcd3c9d1cda31f2345f59580d\n'}]",50,192675,b299161ccc8c7e59005aabacafcece0064df8541,47,9,7,1653,,,0,"Propose VMware limits, reservation and shares

The aim is to support the blueprint vmware-limits

Change-Id: Icbcfa78e0352485dcd3c9d1cda31f2345f59580d
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/75/192675/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/liberty/approved/vmware-limits.rst'],1,cd1198732173bc73c8ced638773b9a348b133543,bp/vmware-limits,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== VMware Limits, Shares and Reservations ========================================== https://blueprints.launchpad.net/nova/+spec/vmware-limits VMware Virtual Center provides options to specify limits, reservations and shares for CPU, memory, disks and network adapters. In the Juno cycle support for CPU limits, reservation and shares was added. This blueprint proposes a way of supporting memory, disk and network limits, reservations and shares. Problem description =================== The VMware driver is only able to support CPU limits. Proving admins the ability to provide limits, reservation and shares for memory, disks and network adapters will be a very useful tool for providing QoS to tenants. Use Cases ---------- * This will enable a cloud provide to provide SLA's to customers * It will allow tenants to be guuranteed performance Project Priority ----------------- None Proposed change =============== Limits, reservations and shares will be exposed for the following: * memory * disks * network adapters The flavor extra specs for quotas has been extended to support: * quota:memory_limit - The utilization of a virtual machine will not exceed this limit, even if there are available resources. This is typically used to ensure a consistent performance of virtual machines independent of available resources. Units are MB. * quota:memory_reservation - guaranteed minimum reservation (MB) * quota:memory_shares_level - the allocation level. This can be 'custom', 'high' 'normal' or 'low'. quota:memory_shares_share - in the event that 'custom' is used, this is the number of shares. * quota:disk_limit - The utilization of a virtual machine will not exceed this limit. The unit is number of I/O per second. * quota:disk_reservation - Reservation control is used to provide guaranteed allocation in terms of IOPS * quota:disk_shares_level - the allocation level. This can be 'custom', 'high' 'normal' or 'low'. quota:disk_shares_share - in the event that 'custom' is used, this is the number of shares. * quota:vnic_limit - The bandwidth limit for the virtual network adapter. The utilization of the virtual network adapter will not exceed this limit, even if there are available resources. Units in Mbits/sec. * quota:vnic_reservation - Amount of network bandwidth that is guaranteed to the virtual network adapter. If utilization is less than reservation, the resource can be used by other virtual network adapters. Reservation is not allowed to exceed the value of limit if limit is set. Units in Mbits/sec. * quota:vnic_shares_level - the allocation level. This can be 'custom', 'high' 'normal' or 'low'. * quota:vnic_shares_share - in the event that 'custom' is used, this is the number of shares. Alternatives ------------ Flavor QoS specs could be applied not only for instance local disks but attached volumes as well. In this case, if volume QoS specs are present, we may apply the lowest IOPS cap. Also, the cap could be divided among the disks, but this may not be desired. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ Preventing instances from exhausting storage resources can have a significant performance impact. Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: garyk Work Items ---------- * common objects for limits, reservation and shares * memory support * disk support * vnic support Dependencies ============ None Testing ======= This will be tested by the VMware CI. We will add tests to validate this. Documentation Impact ==================== This should be documented in the VMware section. References ========== VMware help: http://goo.gl/uepivS http://goo.gl/6sHwIA History ======= None ",,183,0
openstack%2Ffuel-ostf~master~I32e5a2da2d92de2359ebae789c746335e1c90e7e,openstack/fuel-ostf,master,I32e5a2da2d92de2359ebae789c746335e1c90e7e,Move to the management_vip in config.py,MERGED,2015-06-25 11:33:26.000000000,2015-07-01 09:30:04.000000000,2015-07-01 09:26:33.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 10136}, {'_account_id': 11081}, {'_account_id': 11827}, {'_account_id': 11969}, {'_account_id': 14057}]","[{'number': 1, 'created': '2015-06-25 11:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/0e476959facaae70dd5e7490db6cf6136306073a', 'message': 'Move to the management_vip in config.py\n\nMotivation:\n* avoid issues described in 1466399\n* we my have ssl enabled on public endpoints\n\nSo replace usage of public_vip to management_vip\nCloses-Bug: #1466399\n\nChange-Id: I32e5a2da2d92de2359ebae789c746335e1c90e7e\n'}, {'number': 2, 'created': '2015-06-25 11:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/e11f92f2ba937b5dc2aa00997003a843c2836847', 'message': 'Move to the management_vip in config.py\n\nMotivation:\n* avoid issues described in 1466399\n* we my have ssl enabled on public endpoints\n\nSo replace usage of public_vip to management_vip\nCloses-Bug: #1466399\n\nChange-Id: I32e5a2da2d92de2359ebae789c746335e1c90e7e\n'}, {'number': 3, 'created': '2015-06-25 15:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/a8b04d2e5837576cec3f3f3820a3401d8c58c97f', 'message': 'Move to the management_vip in config.py\n\nMotivation:\n* avoid issues described in 1466399\n* we my have ssl enabled on public endpoints\n\nSo replace usage of public_vip to management_vip\nCloses-Bug: #1466399\n\nChange-Id: I32e5a2da2d92de2359ebae789c746335e1c90e7e\n'}, {'number': 4, 'created': '2015-06-25 15:46:00.000000000', 'files': ['fuel_health/config.py', 'fuel_health/tests/smoke/test_user_create.py'], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/8a6af3f093cf392359c9607abbd1eb877ffa71b2', 'message': 'Move to the management_vip in config.py\n\nMotivation:\n* avoid issues described in 1466399\n* we my have ssl enabled on public endpoints\n\nSo replace usage of public_vip to management_vip\nCloses-Bug: #1466399\n\nChange-Id: I32e5a2da2d92de2359ebae789c746335e1c90e7e\n'}]",2,195532,8a6af3f093cf392359c9607abbd1eb877ffa71b2,26,9,4,6719,,,0,"Move to the management_vip in config.py

Motivation:
* avoid issues described in 1466399
* we my have ssl enabled on public endpoints

So replace usage of public_vip to management_vip
Closes-Bug: #1466399

Change-Id: I32e5a2da2d92de2359ebae789c746335e1c90e7e
",git fetch https://review.opendev.org/openstack/fuel-ostf refs/changes/32/195532/2 && git format-patch -1 --stdout FETCH_HEAD,['fuel_health/config.py'],1,0e476959facaae70dd5e7490db6cf6136306073a,bug/1466399," 'management_vip', None) or ip management_vip = self.network.raw_data.get('management_vip', None) # workaround for api without management_vip for ha mode if not management_vip and 'ha' in self.mode: endpoint = management_vip or self.compute.public_ips[0] endpoint_mur_sav = management_vip or self.compute.controller_nodes[0]"," 'public_vip', None) or ip public_vip = self.network.raw_data.get('public_vip', None) # workaround for api without public_vip for ha mode if not public_vip and 'ha' in self.mode: endpoint = public_vip or self.compute.public_ips[0] endpoint_mur_sav = public_vip or self.compute.controller_nodes[0]",6,6
openstack%2Ffuel-qa~stable%2F6.1~I43b1f4ee06e07143f5f12307bc3cba4147577ef3,openstack/fuel-qa,stable/6.1,I43b1f4ee06e07143f5f12307bc3cba4147577ef3,Compare Rally tests results before/after patching,MERGED,2015-06-30 09:28:25.000000000,2015-07-01 09:28:49.000000000,2015-07-01 09:28:47.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 10136}, {'_account_id': 11969}, {'_account_id': 12867}, {'_account_id': 14057}, {'_account_id': 14708}, {'_account_id': 15943}, {'_account_id': 15984}, {'_account_id': 16106}]","[{'number': 1, 'created': '2015-06-30 09:28:25.000000000', 'files': ['fuelweb_test/tests/tests_patching/test_patching.py', 'fuelweb_test/helpers/patching.py', 'fuelweb_test/settings.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/edf4ac0ba817d72bc8e3a8b3c3eb12f6ca575eef', 'message': ""Compare Rally tests results before/after patching\n\nIf Rally tests are specified in 'erratum.yaml' for\nbug, then run benchmarks before and after patching\nand compare results.\n\nChange-Id: I43b1f4ee06e07143f5f12307bc3cba4147577ef3\nImplements: blueprint mos-patching-tests\n""}]",0,196998,edf4ac0ba817d72bc8e3a8b3c3eb12f6ca575eef,9,12,1,11081,,,0,"Compare Rally tests results before/after patching

If Rally tests are specified in 'erratum.yaml' for
bug, then run benchmarks before and after patching
and compare results.

Change-Id: I43b1f4ee06e07143f5f12307bc3cba4147577ef3
Implements: blueprint mos-patching-tests
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/98/196998/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuelweb_test/tests/tests_patching/test_patching.py', 'fuelweb_test/helpers/patching.py', 'fuelweb_test/settings.py']",3,edf4ac0ba817d72bc8e3a8b3c3eb12f6ca575eef,,"PATCHING_RUN_RALLY = os.environ.get(""PATCHING_RUN_RALLY"", 'false') == 'true'",,37,3
openstack%2Fironic-inspector~master~If2b603bf36b6d2978eb7ba9fc709e8ab7094d681,openstack/ironic-inspector,master,If2b603bf36b6d2978eb7ba9fc709e8ab7094d681,Set provision state appropriate before introspection,ABANDONED,2015-07-01 06:12:42.000000000,2015-07-01 09:28:24.000000000,,"[{'_account_id': 3}, {'_account_id': 7419}, {'_account_id': 7882}]","[{'number': 1, 'created': '2015-07-01 06:12:42.000000000', 'files': ['functest/devstack-test.sh'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/7e04e423f3ba3787609660c2a257bc4dd800929d', 'message': 'Set provision state appropriate before introspection\n\nfunctest/devstack-test.sh is running on the gate and it fails\nwith below error message:\n ERROR: openstack Refusing to introspect node <uuid>\n with provision state ""available"" and maintenance mode off\n\nThis failure occurs because Ironic node\'s provision state is ""available"".\nAnd Ironic node should be set its provisioning state as ""manageable""\nbefore introspection.\nThis patch sets provision state of Ironic node ""manageable"" before\nintrospection in functest/devstack-test.sh.\n\nChange-Id: If2b603bf36b6d2978eb7ba9fc709e8ab7094d681\nCloses-Bug: #1470346\n'}]",0,197431,7e04e423f3ba3787609660c2a257bc4dd800929d,5,3,1,7882,,,0,"Set provision state appropriate before introspection

functest/devstack-test.sh is running on the gate and it fails
with below error message:
 ERROR: openstack Refusing to introspect node <uuid>
 with provision state ""available"" and maintenance mode off

This failure occurs because Ironic node's provision state is ""available"".
And Ironic node should be set its provisioning state as ""manageable""
before introspection.
This patch sets provision state of Ironic node ""manageable"" before
introspection in functest/devstack-test.sh.

Change-Id: If2b603bf36b6d2978eb7ba9fc709e8ab7094d681
Closes-Bug: #1470346
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/31/197431/1 && git format-patch -1 --stdout FETCH_HEAD,['functest/devstack-test.sh'],1,7e04e423f3ba3787609660c2a257bc4dd800929d,bug/1470346, ironic node-set-provision-state $uuid manage done for uuid in $nodes; do,,4,0
openstack%2Ffuel-qa~stable%2F6.1~I2ab7a0b13eecf4ddef3b14cea46b785bcabca5a1,openstack/fuel-qa,stable/6.1,I2ab7a0b13eecf4ddef3b14cea46b785bcabca5a1,Add Rally benchmark tool to the system tests,MERGED,2015-06-30 09:28:11.000000000,2015-07-01 09:28:20.000000000,2015-07-01 09:28:20.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 10136}, {'_account_id': 11969}, {'_account_id': 12867}, {'_account_id': 14057}, {'_account_id': 14708}, {'_account_id': 15943}, {'_account_id': 15984}, {'_account_id': 16106}]","[{'number': 1, 'created': '2015-06-30 09:28:11.000000000', 'files': ['fuelweb_test/models/fuel_web_client.py', 'fuelweb_test/rally/screnarios/scenarios.yaml', 'fuelweb_test/rally/screnarios/nova.json', 'fuelweb_test/settings.py', 'fuelweb_test/helpers/rally.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/40e73acaca01766356f89da580942a521cde3b44', 'message': 'Add Rally benchmark tool to the system tests\n\nAdd possibility to use Rally tool during system tests:\n - allow installation of Rally on master node in\n   Docker container;\n - creation of Rally Deployments and Tasks from system\n   tests;\n - running Rally benchmark tests against environments\n   deployed by system tests;\n - fetching and comparing benchmarks results.\n\nCloses-bug: #1269862\n\nChange-Id: I2ab7a0b13eecf4ddef3b14cea46b785bcabca5a1\n'}]",0,196997,40e73acaca01766356f89da580942a521cde3b44,9,12,1,11081,,,0,"Add Rally benchmark tool to the system tests

Add possibility to use Rally tool during system tests:
 - allow installation of Rally on master node in
   Docker container;
 - creation of Rally Deployments and Tasks from system
   tests;
 - running Rally benchmark tests against environments
   deployed by system tests;
 - fetching and comparing benchmarks results.

Closes-bug: #1269862

Change-Id: I2ab7a0b13eecf4ddef3b14cea46b785bcabca5a1
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/97/196997/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuelweb_test/models/fuel_web_client.py', 'fuelweb_test/rally/screnarios/scenarios.yaml', 'fuelweb_test/rally/screnarios/nova.json', 'fuelweb_test/settings.py', 'fuelweb_test/helpers/rally.py']",5,40e73acaca01766356f89da580942a521cde3b44,,"# Copyright 2015 Mirantis, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import json import os from proboscis.asserts import assert_equal from proboscis.asserts import assert_true from devops.helpers.helpers import wait from fuelweb_test import logger class RallyEngine(object): def __init__(self, admin_remote, container_repo, proxy_url=None, user_id=0, dir_for_home='/var/rally_home', home_bind_path='/home/rally'): self.admin_remote = admin_remote self.container_repo = container_repo self.repository_tag = 'latest' self.proxy_url = proxy_url or """" self.user_id = user_id self.dir_for_home = dir_for_home self.home_bind_path = home_bind_path self.setup() def image_exists(self, tag='latest'): cmd = ""docker images | awk 'NR > 1{print $1\"" \""$2}'"" logger.debug('Checking Docker images...') result = self.admin_remote.execute(cmd) logger.debug(result) existing_images = [line.strip().split() for line in result['stdout']] return [self.container_repo, tag] in existing_images def pull_image(self): #TODO(apanchenko): add possibility to load image from local path or #remote link provided in settings, in order to speed up downloading cmd = 'docker pull {0}'.format(self.container_repo) logger.debug('Downloading Rally repository/image from registry...') result = self.admin_remote.execute(cmd) logger.debug(result) return self.image_exists() def run_container_command(self, command, in_background=False): command = str(command).replace(r""'"", r""'\''"") options = '' if in_background: options = '{0} -d'.format(options) cmd = (""docker run {options} --user {user_id} --net=\""host\"" -e "" ""\""http_proxy={proxy_url}\"" -v {dir_for_home}:{home_bind_path} "" ""{container_repo}:{tag} /bin/bash -c '{command}'"".format( options=options, user_id=self.user_id, proxy_url=self.proxy_url, dir_for_home=self.dir_for_home, home_bind_path=self.home_bind_path, container_repo=self.container_repo, tag=self.repository_tag, command=command)) logger.debug('Executing command ""{0}"" in Rally container {1}..'.format( cmd, self.container_repo)) result = self.admin_remote.execute(cmd) logger.debug(result) return result def setup_utils(self): utils = ['gawk', 'vim', 'curl'] cmd = ('unset http_proxy; apt-get update; ' 'apt-get install -y {0}'.format(' '.join(utils))) logger.debug('Installing utils ""{0}"" to the Rally container...'.format( utils)) result = self.run_container_command(cmd) assert_equal(result['exit_code'], 0, 'Utils installation failed in Rally container: ' '{0}'.format(result)) def create_database(self): check_rally_db_cmd = 'test -s .rally.sqlite' result = self.run_container_command(check_rally_db_cmd) if result['exit_code'] == 0: return logger.debug('Recreating Database for Rally...') create_rally_db_cmd = 'rally-manage db recreate' result = self.run_container_command(create_rally_db_cmd) assert_equal(result['exit_code'], 0, 'Rally Database creation failed: {0}!'.format(result)) result = self.run_container_command(check_rally_db_cmd) assert_equal(result['exit_code'], 0, 'Failed to create Database for ' 'Rally: {0} !'.format(result)) def prepare_image(self): self.create_database() self.setup_utils() last_container_cmd = ""docker ps -lq"" result = self.admin_remote.execute(last_container_cmd) assert_equal(result['exit_code'], 0, ""Unable to get last container ID: {0}!"".format(result)) last_container = ''.join([line.strip() for line in result['stdout']]) commit_cmd = 'docker commit {0} {1}:ready'.format(last_container, self.container_repo) result = self.admin_remote.execute(commit_cmd) assert_equal(result['exit_code'], 0, 'Commit to Docker image ""{0}"" failed: {1}.'.format( self.container_repo, result)) return self.image_exists(tag='ready') def setup_bash_alias(self): alias_name = 'rally_docker' check_alias_cmd = '. /root/.bashrc && alias {0}'.format(alias_name) result = self.admin_remote.execute(check_alias_cmd) if result['exit_code'] == 0: return logger.debug('Creating bash alias for Rally inside container...') create_alias_cmd = (""alias {alias_name}='docker run --user {user_id} "" ""--net=\""host\"" -e \""http_proxy={proxy_url}\"" -t "" ""-i -v {dir_for_home}:{home_bind_path} "" ""{container_repo}:{tag} rally'"".format( alias_name=alias_name, user_id=self.user_id, proxy_url=self.proxy_url, dir_for_home=self.dir_for_home, home_bind_path=self.home_bind_path, container_repo=self.container_repo, tag=self.repository_tag)) result = self.admin_remote.execute('echo ""{0}"">> /root/.bashrc'.format( create_alias_cmd)) assert_equal(result['exit_code'], 0, ""Alias creation for running Rally from container failed: "" ""{0}."".format(result)) result = self.admin_remote.execute(check_alias_cmd) assert_equal(result['exit_code'], 0, ""Alias creation for running Rally from container failed: "" ""{0}."".format(result)) def setup(self): if not self.image_exists(): assert_true(self.pull_image(), ""Docker image for Rally not found!"") if not self.image_exists(tag='ready'): assert_true(self.prepare_image(), ""Docker image for Rally is not ready!"") self.repository_tag = 'ready' self.setup_bash_alias() def list_deployments(self): cmd = (r""rally deployment list | awk -F "" r""'[[:space:]]*\\\\|[[:space:]]*' '/\ydeploy\y/{print $2}'"") result = self.run_container_command(cmd) logger.debug('Rally deployments list: {0}'.format(result)) return [line.strip() for line in result['stdout']] def show_deployment(self, deployment_uuid): cmd = (""rally deployment show {0} | awk -F "" ""'[[:space:]]*\\\\|[[:space:]]*' '/\w/{{print $2\"",\""$3\"",\""$4"" ""\"",\""$5\"",\""$6\"",\""$7\"",\""$8}}'"").format(deployment_uuid) result = self.run_container_command(cmd) assert_equal(len(result['stdout']), 2, ""Command 'rally deployment show' returned unexpected "" ""value: expected 2 lines, got {0}: "".format(result)) keys = [k for k in result['stdout'][0].strip().split(',') if k != ''] values = [v for v in result['stdout'][1].strip().split(',') if v != ''] return {keys[i]: values[i] for i in range(0, len(keys))} def list_tasks(self): cmd = ""rally task list --uuids-only"" result = self.run_container_command(cmd) logger.debug('Rally tasks list: {0}'.format(result)) return [line.strip() for line in result['stdout']] def get_task_status(self, task_uuid): cmd = ""rally task status {0}"".format(task_uuid) result = self.run_container_command(cmd) assert_equal(result['exit_code'], 0, ""Getting Rally task status failed: {0}"".format(result)) task_status = ''.join(result['stdout']).strip().split()[-1] logger.debug('Rally task ""{0}"" has status ""{1}"".'.format(task_uuid, task_status)) return task_status class RallyDeployment(object): def __init__(self, rally_engine, cluster_vip, username, password, tenant, key_port=5000, proxy_url=''): self.rally_engine = rally_engine self.cluster_vip = cluster_vip self.username = username self.password = password self.tenant_name = tenant self.keystone_port = str(key_port) self.proxy_url = proxy_url self.auth_url = ""http://{0}:{1}/v2.0/"".format(self.cluster_vip, self.keystone_port) self.set_proxy = not self.is_proxy_set self._uuid = None self.create_deployment() @property def uuid(self): if self._uuid is None: for d_uuid in self.rally_engine.list_deployments(): deployment = self.rally_engine.show_deployment(d_uuid) logger.debug(""Deployment info: {0}"".format(deployment)) if self.auth_url in deployment['auth_url'] and \ self.username == deployment['username'] and \ self.tenant_name == deployment['tenant_name']: self._uuid = d_uuid break return self._uuid @property def is_proxy_set(self): cmd = '[ ""${{http_proxy}}"" == ""{0}"" ]'.format(self.proxy_url) return self.rally_engine.run_container_command(cmd)['exit_code'] == 0 @property def is_deployment_exist(self): if self.uuid is not None: return True return False def create_deployment(self): if self.is_deployment_exist: return cmd = ('export OS_USERNAME={0} OS_PASSWORD={1} OS_TENANT_NAME={2} ' 'OS_AUTH_URL=""{3}""; rally deployment create --name ""{4}""' ' --fromenv').format(self.username, self.password, self.tenant_name, self.auth_url, self.cluster_vip) result = self.rally_engine.run_container_command(cmd) assert_true(self.is_deployment_exist, 'Rally deployment creation failed: {0}'.format(result)) logger.debug('Rally deployment created: {0}'.format(result)) assert_true(self.check_deployment(), ""Rally deployment check failed."") def check_deployment(self, deployment_uuid=''): cmd = 'rally deployment check {0}'.format(deployment_uuid) result = self.rally_engine.run_container_command(cmd) if result['exit_code'] == 0: return True else: logger.error('Rally deployment check failed: {0}'.format(result)) return False class RallyTask(object): def __init__(self, rally_deployment, test_type): self.deployment = rally_deployment self.engine = self.deployment.rally_engine self.test_type = test_type self.uuid = None self._status = None @property def status(self): if self.uuid is None: self._status = None else: self._status = self.engine.get_task_status(self.uuid) return self._status def prepare_scenario(self): scenario_file = '{0}/fuelweb_test/rally/screnarios/{1}.json'.format( os.environ.get(""WORKSPACE"", ""./""), self.test_type) remote_path = '{0}/{1}.json'.format(self.engine.dir_for_home, self.test_type) self.engine.admin_remote.upload(scenario_file, remote_path) result = self.engine.admin_remote.execute('test -f {0}'.format( remote_path)) assert_equal(result['exit_code'], 0, ""Scenario upload filed: {0}"".format(result)) return '{0}.json'.format(self.test_type) def start(self): scenario = self.prepare_scenario() temp_file = '{0}_results.tmp.txt'.format(scenario) cmd = 'rally task start {0} &> {1}'.format(scenario, temp_file) result = self.engine.run_container_command(cmd, in_background=True) logger.debug('Started Rally task: {0}'.format(result)) cmd = (""awk 'BEGIN{{retval=1}};/^Using task:/{{print $NF; retval=0}};"" ""END {{exit retval}}' {0}"").format(temp_file) wait(lambda: self.engine.run_container_command(cmd)['exit_code'] == 0, timeout=30) result = self.engine.run_container_command(cmd) task_uuid = ''.join(result['stdout']).strip() assert_true(task_uuid in self.engine.list_tasks(), ""Rally task creation failed: {0}"".format(result)) self.uuid = task_uuid def get_results(self): if self.status == 'finished': cmd = 'rally task results {0}'.format(self.uuid) result = self.engine.run_container_command(cmd) assert_equal(result['exit_code'], 0, ""Getting task results failed: {0}"".format(result)) logger.debug(""Rally task {0} result: {1}"".format(self.uuid, result)) return ''.join(result['stdout']) class RallyResult(object): def __init__(self, json_results): self.values = { 'full_duration': 0.00, 'load_duration': 0.00, 'errors': 0 } self.raw_data = [] self.parse_raw_results(json_results) def parse_raw_results(self, raw_results): data = json.loads(raw_results) assert_equal(len(data), 1, ""Current implementation of RallyResult class doesn't "" ""support results with length greater than '1'!"") self.raw_data = data[0] self.values['full_duration'] = data[0]['full_duration'] self.values['load_duration'] = data[0]['load_duration'] self.values['errors'] = sum([len(result['error']) for result in data[0]['result']]) @staticmethod def compare(first_result, second_result, deviation=0.1): """""" Compare benchmark results :param first_result: RallyResult :param second_result: RallyResult :param deviation: float :return: bool """""" message = '' equal = True for val in first_result.values.keys(): logger.debug('Comparing {2}: {0} and {1}'.format( first_result.values[val], second_result.values[val], val )) if first_result.values[val] == 0 or second_result.values[val] == 0: if first_result.values[val] != second_result.values[val]: message += ""Values of '{0}' are: {1} and {2}. "".format( val, first_result.values[val], second_result.values[val]) equal = False continue diff = abs( first_result.values[val] / second_result.values[val] - 1) if diff > deviation: message += ""Values of '{0}' are: {1} and {2}. "".format( val, first_result.values[val], second_result.values[val]) equal = False if not equal: logger.info(""Rally benchmark results aren't equal: {0}"".format( message)) return equal def show(self): return json.dumps(self.raw_data) class RallyBenchmarkTest(object): def __init__(self, container_repo, environment, cluster_id, test_type): self.admin_remote = environment.d_env.get_admin_remote() self.cluster_vip = environment.fuel_web.get_mgmt_vip(cluster_id) self.cluster_credentials = \ environment.fuel_web.get_cluster_credentials(cluster_id) self.proxy_url = environment.fuel_web.get_alive_proxy(cluster_id) logger.debug('Rally proxy URL is: {0}'.format(self.proxy_url)) self.container_repo = container_repo self.home_dir = 'rally-{0}'.format(cluster_id) self.test_type = test_type self.engine = RallyEngine( admin_remote=self.admin_remote, container_repo=self.container_repo, proxy_url=self.proxy_url, dir_for_home='/var/{0}/'.format(self.home_dir) ) self.deployment = RallyDeployment( rally_engine=self.engine, cluster_vip=self.cluster_vip, username=self.cluster_credentials['username'], password=self.cluster_credentials['password'], tenant=self.cluster_credentials['tenant'], proxy_url=self.proxy_url ) self.current_task = None def run(self, timeout=60 * 10): self.current_task = RallyTask(self.deployment, self.test_type) logger.info('Starting Rally benchmark test...') self.current_task.start() assert_equal(self.current_task.status, 'running', 'Rally task was started, but it is not running, status: ' '{0}'.format(self.current_task.status)) wait(lambda: self.current_task.status == 'finished', timeout=timeout) logger.info('Rally benchmark test is finished.') return RallyResult(json_results=self.current_task.get_results()) ",,502,2
openstack%2Fheat~master~Id403a8313155f6ceabfdda626cdc79d9f0fac0d1,openstack/heat,master,Id403a8313155f6ceabfdda626cdc79d9f0fac0d1,Use public discover_extensions from novaclient,MERGED,2015-05-07 01:09:11.000000000,2015-07-01 09:28:06.000000000,2015-07-01 09:28:04.000000000,"[{'_account_id': 3}, {'_account_id': 3191}, {'_account_id': 4428}, {'_account_id': 6577}, {'_account_id': 7404}, {'_account_id': 8289}, {'_account_id': 9545}, {'_account_id': 10487}, {'_account_id': 13009}, {'_account_id': 13747}]","[{'number': 1, 'created': '2015-05-07 01:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/fb2f211ab33a3226c2b8ba4531dbe2f318dc2c91', 'message': 'Use public discover_extensions from novaclient\n\n_discover_extensions is moved to novaclient.client.discover_extensions,\nand _discover_extensions will be removed from novaclient once this\npatch get merged. Using the public discover_extensions instead of\n_discover_extensions.\n\nChange-Id: Id403a8313155f6ceabfdda626cdc79d9f0fac0d1\nCloses-bug: #1440779\n'}, {'number': 2, 'created': '2015-05-07 05:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a60cbf75b6a0979e16c5e4b8f6afc6fa892ff199', 'message': 'Use public discover_extensions from novaclient\n\n_discover_extensions is moved to novaclient.client.discover_extensions,\nand _discover_extensions will be removed from novaclient once this\npatch get merged. Using the public discover_extensions instead of\n_discover_extensions.\n\nChange-Id: Id403a8313155f6ceabfdda626cdc79d9f0fac0d1\nCloses-bug: #1440779\n'}, {'number': 3, 'created': '2015-06-09 02:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0f02c871b270afd255d82e77116bbfae71e37aef', 'message': 'Use public discover_extensions from novaclient\n\n_discover_extensions is moved to novaclient.client.discover_extensions,\nand _discover_extensions will be removed from novaclient once this\npatch get merged. Using the public discover_extensions instead of\n_discover_extensions.\n\nChange-Id: Id403a8313155f6ceabfdda626cdc79d9f0fac0d1\nCloses-bug: #1440779\n'}, {'number': 4, 'created': '2015-06-09 05:01:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8d055150230c6a8010c0263f3983d3c650c8faeb', 'message': 'Use public discover_extensions from novaclient\n\n_discover_extensions is moved to novaclient.client.discover_extensions,\nand _discover_extensions will be removed from novaclient once this\npatch get merged. Using the public discover_extensions instead of\n_discover_extensions.\n\nChange-Id: Id403a8313155f6ceabfdda626cdc79d9f0fac0d1\nCloses-bug: #1440779\n'}, {'number': 5, 'created': '2015-06-23 02:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/964af89a20e2b154942ca0ee0adeacdfdf594566', 'message': 'Use public discover_extensions from novaclient\n\n_discover_extensions is moved to novaclient.client.discover_extensions,\nand _discover_extensions will be removed from novaclient once this\npatch get merged. Using the public discover_extensions instead of\n_discover_extensions.\n\nChange-Id: Id403a8313155f6ceabfdda626cdc79d9f0fac0d1\nCloses-bug: #1440779\n'}, {'number': 6, 'created': '2015-06-23 09:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1b2e4db591f3ac9e753e0383d1c452c2dcd0b482', 'message': 'Use public discover_extensions from novaclient\n\n_discover_extensions is moved to novaclient.client.discover_extensions,\nand _discover_extensions will be removed from novaclient once this\npatch get merged. Using the public discover_extensions instead of\n_discover_extensions.\n\nChange-Id: Id403a8313155f6ceabfdda626cdc79d9f0fac0d1\nCloses-bug: #1440779\n'}, {'number': 7, 'created': '2015-06-25 01:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b602d8e188ec1b369c05189f9036e9049fa691a4', 'message': 'Use public discover_extensions from novaclient\n\n_discover_extensions is moved to novaclient.client.discover_extensions,\nand _discover_extensions will be removed from novaclient once this\npatch get merged. Using the public discover_extensions instead of\n_discover_extensions.\n\nChange-Id: Id403a8313155f6ceabfdda626cdc79d9f0fac0d1\nCloses-bug: #1440779\n'}, {'number': 8, 'created': '2015-07-01 01:20:36.000000000', 'files': ['heat/tests/test_nova_client.py', 'heat/engine/clients/os/nova.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/fc8dbf8752b2b3c8acdce001250cdeb1fa115a5a', 'message': 'Use public discover_extensions from novaclient\n\n_discover_extensions is moved to novaclient.client.discover_extensions,\nand _discover_extensions will be removed from novaclient once this\npatch get merged. Using the public discover_extensions instead of\n_discover_extensions.\n\nChange-Id: Id403a8313155f6ceabfdda626cdc79d9f0fac0d1\nCloses-bug: #1440779\n'}]",6,180812,fc8dbf8752b2b3c8acdce001250cdeb1fa115a5a,47,10,8,3191,,,0,"Use public discover_extensions from novaclient

_discover_extensions is moved to novaclient.client.discover_extensions,
and _discover_extensions will be removed from novaclient once this
patch get merged. Using the public discover_extensions instead of
_discover_extensions.

Change-Id: Id403a8313155f6ceabfdda626cdc79d9f0fac0d1
Closes-bug: #1440779
",git fetch https://review.opendev.org/openstack/heat refs/changes/12/180812/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/clients/os/nova.py'],1,fb2f211ab33a3226c2b8ba4531dbe2f318dc2c91,use-public-discover_extensions, extensions = nc.discover_extensions(NOVACLIENT_VERSION), computeshell = novashell.OpenStackComputeShell() extensions = computeshell._discover_extensions(NOVACLIENT_VERSION),1,2
openstack%2Foslo.config~master~Ifa9e6e2ab4ab4f93a7dc22d786ee6fd6ae7224ae,openstack/oslo.config,master,Ifa9e6e2ab4ab4f93a7dc22d786ee6fd6ae7224ae,Add set_default() method to fixture,MERGED,2015-06-30 20:26:49.000000000,2015-07-01 09:25:53.000000000,2015-07-01 09:25:51.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2472}, {'_account_id': 4190}, {'_account_id': 5638}, {'_account_id': 7725}]","[{'number': 1, 'created': '2015-06-30 20:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/5366e8ed69b22c458d46bb38426c9c9be80bc043', 'message': ""Add set_default() method to fixture\n\nAdd a set_default() method to the fixture to allow it to be passed to\nset_default() functions in other oslo libraries that expect to be given\na ConfigObj instance. This lets tests in one project use a fixture to\nset defaults for options in code they don't own, and unset those\ndefaults when the test is cleaned up.\n\nChange-Id: Ifa9e6e2ab4ab4f93a7dc22d786ee6fd6ae7224ae\n""}, {'number': 2, 'created': '2015-06-30 20:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/118f76439f09961b58b5648ef41cde7a84a12e7b', 'message': ""Add set_default() method to fixture\n\nAdd a set_default() method to the fixture to allow it to be passed to\nset_default() functions in other oslo libraries that expect to be given\na ConfigObj instance. This lets tests in one project use a fixture to\nset defaults for options in code they don't own, and unset those\ndefaults when the test is cleaned up.\n\nChange-Id: Ifa9e6e2ab4ab4f93a7dc22d786ee6fd6ae7224ae\n""}, {'number': 3, 'created': '2015-06-30 21:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/a9c97cc49c3bf6c90f5fff500179755b4cd24022', 'message': ""Add set_default() method to fixture\n\nAdd a set_default() method to the fixture to allow it to be passed to\nset_default() functions in other oslo libraries that expect to be given\na ConfigObj instance. This lets tests in one project use a fixture to\nset defaults for options in code they don't own, and unset those\ndefaults when the test is cleaned up.\n\nChange-Id: Ifa9e6e2ab4ab4f93a7dc22d786ee6fd6ae7224ae\n""}, {'number': 4, 'created': '2015-06-30 21:42:35.000000000', 'files': ['oslo_config/tests/test_fixture.py', 'oslo_config/fixture.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/427de804c3aed2984f896e5e6260518ca3d7ab4a', 'message': ""Add set_default() method to fixture\n\nAdd a set_default() method to the fixture to allow it to be passed to\nset_default() functions in other oslo libraries that expect to be given\na ConfigObj instance. This lets tests in one project use a fixture to\nset defaults for options in code they don't own, and unset those\ndefaults when the test is cleaned up.\n\nChange-Id: Ifa9e6e2ab4ab4f93a7dc22d786ee6fd6ae7224ae\n""}]",5,197300,427de804c3aed2984f896e5e6260518ca3d7ab4a,17,6,4,2472,,,0,"Add set_default() method to fixture

Add a set_default() method to the fixture to allow it to be passed to
set_default() functions in other oslo libraries that expect to be given
a ConfigObj instance. This lets tests in one project use a fixture to
set defaults for options in code they don't own, and unset those
defaults when the test is cleaned up.

Change-Id: Ifa9e6e2ab4ab4f93a7dc22d786ee6fd6ae7224ae
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/00/197300/4 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_config/tests/test_fixture.py', 'oslo_config/fixture.py']",2,5366e8ed69b22c458d46bb38426c9c9be80bc043,fixture-set-defaults," def set_default(self, name, default, group=None): """"""Set a default value for an option. """""" self.conf.set_default(name, default, group) self.addCleanup(lambda: self.conf.clear_default(name, group))",,20,0
openstack%2Ffuel-ostf~stable%2F6.1~I94da38ad6294963a92678dcc0d8d295e161d4057,openstack/fuel-ostf,stable/6.1,I94da38ad6294963a92678dcc0d8d295e161d4057,Fixed issue with images statuses checks,MERGED,2015-06-30 12:40:25.000000000,2015-07-01 09:24:28.000000000,2015-07-01 09:22:11.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 7227}, {'_account_id': 8592}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 13919}, {'_account_id': 13962}, {'_account_id': 14691}]","[{'number': 1, 'created': '2015-06-30 12:40:25.000000000', 'files': ['fuel_health/nmanager.py', 'fuel_health/muranomanager.py'], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/711e6a4bb64b3f7882025088a2488440a2206eb6', 'message': 'Fixed issue with images statuses checks\n\nSometimes OSTF tests failed because required images were not\ncompletelly uploaded into Glance. We need to check the status\nof images to verify that image is ready to be used.\n\nChange-Id: I94da38ad6294963a92678dcc0d8d295e161d4057\nCloses-Bug: #1467519\n'}]",0,197045,711e6a4bb64b3f7882025088a2488440a2206eb6,19,9,1,7227,,,0,"Fixed issue with images statuses checks

Sometimes OSTF tests failed because required images were not
completelly uploaded into Glance. We need to check the status
of images to verify that image is ready to be used.

Change-Id: I94da38ad6294963a92678dcc0d8d295e161d4057
Closes-Bug: #1467519
",git fetch https://review.opendev.org/openstack/fuel-ostf refs/changes/45/197045/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuel_health/nmanager.py', 'fuel_health/muranomanager.py']",2,711e6a4bb64b3f7882025088a2488440a2206eb6,bug/1467519, if tag in image.metadata and image.status.lower() == 'active':, if tag in image.metadata:,15,13
openstack%2Fcookbook-openstack-common~master~I5a0fe1b938f113a922b4a8ea1de9756c47f06dcd,openstack/cookbook-openstack-common,master,I5a0fe1b938f113a922b4a8ea1de9756c47f06dcd,CI TEST - based upon repo integration task,MERGED,2015-06-05 21:11:42.000000000,2015-07-01 09:20:45.000000000,2015-07-01 09:20:43.000000000,"[{'_account_id': 3}, {'_account_id': 7128}, {'_account_id': 9488}, {'_account_id': 12323}]","[{'number': 1, 'created': '2015-06-05 21:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/14e3559dcfd1b5c5ff4901b67c2e11926b59d65c', 'message': 'CI TEST - ALPHA\n\nThis is a draft of trying to get our current repo test running\nunder infra and rake.  This adds in the current patch to the test\nusing the existing test-patch tool.\n\nChange-Id: I5a0fe1b938f113a922b4a8ea1de9756c47f06dcd\n'}, {'number': 2, 'created': '2015-06-05 21:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/395fcf799bcf205c1d4abd9831a74bd2e1ee00da', 'message': 'CI TEST - ALPHA\n\nThis is a draft of trying to get our current repo test running\nunder infra and rake.  This adds in the current patch to the test\nusing the existing test-patch tool.\n\nChange-Id: I5a0fe1b938f113a922b4a8ea1de9756c47f06dcd\n'}, {'number': 3, 'created': '2015-06-05 21:36:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/189dd122c045cfd03a6ef1a51efd40f16bf57954', 'message': 'CI TEST - ALPHA\n\nThis is a draft of trying to get our current repo test running\nunder infra and rake.  This adds in the current patch to the test\nusing the existing test-patch tool.\n\nChange-Id: I5a0fe1b938f113a922b4a8ea1de9756c47f06dcd\n'}, {'number': 4, 'created': '2015-06-05 21:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/930b8d3e469b132df53dfed7942e63c604ed3dd7', 'message': 'CI TEST - ALPHA\n\nThis is a draft of trying to get our current repo test running\nunder infra and rake.  This adds in the current patch to the test\nusing the existing test-patch tool.\n\nChange-Id: I5a0fe1b938f113a922b4a8ea1de9756c47f06dcd\n'}, {'number': 5, 'created': '2015-06-05 21:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/078b66ab975e6d466e4e0a74b151d6abc45130ab', 'message': 'CI TEST - ALPHA\n\nThis is a draft of trying to get our current repo test running\nunder infra and rake.  This adds in the current patch to the test\nusing the existing test-patch tool.\n\nChange-Id: I5a0fe1b938f113a922b4a8ea1de9756c47f06dcd\n'}, {'number': 6, 'created': '2015-06-05 22:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/f891146c05e825f5f4143d6efeb86a63f9f8733a', 'message': 'CI TEST - ALPHA\n\nThis is a draft of trying to get our current repo test running\nunder infra and rake.  This adds in the current patch to the test\nusing the existing test-patch tool.\n\nChange-Id: I5a0fe1b938f113a922b4a8ea1de9756c47f06dcd\n'}, {'number': 7, 'created': '2015-06-05 22:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/7856300bbf8c7f164acdfeb80305673b1ee48824', 'message': 'CI TEST - ALPHA\n\nThis is a draft of trying to get our current repo test running\nunder infra and rake.  This adds in the current patch to the test\nusing the existing test-patch tool.\n\nChange-Id: I5a0fe1b938f113a922b4a8ea1de9756c47f06dcd\n'}, {'number': 8, 'created': '2015-06-05 23:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/2b1bd9902890767f067ad770b31897823bbad386', 'message': 'CI TEST - ALPHA\n\nThis is a draft of trying to get our current repo test running\nunder infra and rake.  This adds in the current patch to the test\nusing the existing test-patch tool.\n\nChange-Id: I5a0fe1b938f113a922b4a8ea1de9756c47f06dcd\n'}, {'number': 9, 'created': '2015-06-05 23:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/3cf5a0a5fc4c1b9a7f4aa512c9dc0308dac69c23', 'message': 'CI TEST - ALPHA\n\nThis is a draft of trying to get our current repo test running\nunder infra and rake.  This adds in the current patch to the test\nusing the existing test-patch tool.\n\nDepends-On: Ie7786af583b88a96643dce682cd668ed326a5da3\nChange-Id: I5a0fe1b938f113a922b4a8ea1de9756c47f06dcd\n'}, {'number': 10, 'created': '2015-06-09 21:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/aeea5600a0b0c680258dcddfb9b3f61a6d40f82e', 'message': 'CI TEST - ALPHA\n\nThis is a draft of trying to get our current repo test running\nunder infra and rake.  This adds in the current patch to the test\nusing the existing test-patch tool.\n\nDepends-On: Ie7786af583b88a96643dce682cd668ed326a5da3\nChange-Id: I5a0fe1b938f113a922b4a8ea1de9756c47f06dcd\n'}, {'number': 11, 'created': '2015-06-11 14:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/7b48c3202650c38b9680f4fa18a11f79b3eb4679', 'message': 'CI TEST - BETA\n\nThis is a draft of trying to get our current repo test running\nunder infra and rake.  This adds in the current patch to the test\nusing the existing test-patch tool.\n\nChange-Id: I5a0fe1b938f113a922b4a8ea1de9756c47f06dcd\n'}, {'number': 12, 'created': '2015-06-11 15:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/73bc16809f4d8c8bf78d7f525dadd0628e8f6f2c', 'message': 'CI TEST - BETA\n\nThis is a draft of trying to get our current repo test running\nunder infra and rake.  This adds in the current patch to the test\nusing the existing test-patch tool.\n\nChange-Id: I5a0fe1b938f113a922b4a8ea1de9756c47f06dcd\n'}, {'number': 13, 'created': '2015-06-11 15:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/18bc17709bc483d7689408d28ae95a0c41cfb95a', 'message': 'CI TEST - BETA\n\nThis is a draft of trying to get our current repo test running\nunder infra and rake.  This adds in the current patch to the test\nusing the existing test-patch tool.\n\nChange-Id: I5a0fe1b938f113a922b4a8ea1de9756c47f06dcd\n'}, {'number': 14, 'created': '2015-06-11 15:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/e156e85a3e8a265448e1a89ea1f455a1481132d6', 'message': 'CI TEST - BETA\n\nThis is a draft of trying to get our current repo test running\nunder infra and rake.  This adds in the current patch to the test\nusing the existing test-patch tool.\n\nChange-Id: I5a0fe1b938f113a922b4a8ea1de9756c47f06dcd\n'}, {'number': 15, 'created': '2015-06-11 15:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/74826b1267a98d340c4d7854064b70135146a2d8', 'message': 'CI TEST - BETA\n\nThis is a draft of trying to get our current repo test running\nunder infra and rake.  This adds in the current patch to the test\nusing the existing test-patch tool.\n\nChange-Id: I5a0fe1b938f113a922b4a8ea1de9756c47f06dcd\n'}, {'number': 16, 'created': '2015-06-11 15:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/81ace33b3efbccbb15b63c5cfa1428cb0ece521c', 'message': 'CI TEST - BETA\n\nThis is a draft of trying to get our current repo test running\nunder infra and rake.  This adds in the current patch to the test\nusing the existing test-patch tool.\n\nChange-Id: I5a0fe1b938f113a922b4a8ea1de9756c47f06dcd\n'}, {'number': 17, 'created': '2015-06-11 15:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/9c9beb62d6fcdf488cb5f15461d6b275d89c7873', 'message': 'CI TEST - BETA\n\nThis is a draft of trying to get our current repo test running\nunder infra and rake.  This adds in the current patch to the test\nusing the existing test-patch tool.\n\nChange-Id: I5a0fe1b938f113a922b4a8ea1de9756c47f06dcd\n'}, {'number': 18, 'created': '2015-06-11 16:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/a158644e4039a63fd69d71b7f34db817576b10d7', 'message': 'CI TEST - BETA\n\nThis is a draft of trying to get our current repo test running\nunder infra and rake.  This adds in the current patch to the test\nusing the existing test-patch tool.\n\nChange-Id: I5a0fe1b938f113a922b4a8ea1de9756c47f06dcd\n'}, {'number': 19, 'created': '2015-06-11 18:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/f5bcb2b9f15c40b86a816721875b201ed0ca72c4', 'message': 'CI TEST - BETA\n\nThis is a draft of trying to get our current repo test running\nunder infra and rake.  This adds in the current patch to the test\nusing the existing test-patch tool.\n\nChange-Id: I5a0fe1b938f113a922b4a8ea1de9756c47f06dcd\n'}, {'number': 20, 'created': '2015-06-11 18:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/c550c14c20c4134cd42c5b8e76bac34cf51330ba', 'message': 'CI TEST - BETA\n\nThis is a draft of trying to get our current repo test running\nunder infra and rake.  This adds in the current patch to the test\nusing the existing test-patch tool.\n\nChange-Id: I5a0fe1b938f113a922b4a8ea1de9756c47f06dcd\n'}, {'number': 21, 'created': '2015-06-11 18:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/377ece663c61816e87143e6c9540e9fed824c242', 'message': 'CI TEST - BETA\n\nThis is a draft of trying to get our current repo test running\nunder infra and rake.  This adds in the current patch to the test\nusing the existing test-patch tool.\n\nChange-Id: I5a0fe1b938f113a922b4a8ea1de9756c47f06dcd\n'}, {'number': 22, 'created': '2015-06-11 19:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/41e76b1569243f5f91cf048189d09a20f0ab9ebe', 'message': 'CI TEST - BETA\n\nThis is a draft of trying to get our current repo test running\nunder infra and rake.  This adds in the current patch to the test\nusing the existing test-patch tool.\n\nChange-Id: I5a0fe1b938f113a922b4a8ea1de9756c47f06dcd\n'}, {'number': 23, 'created': '2015-06-11 20:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/b72865571c3045803b586759813d53297cb01d15', 'message': 'CI TEST - BETA\n\nThis is a draft of trying to get our current repo test running\nunder infra and rake.  This adds in the current patch to the test\nusing the existing test-patch tool.\n\nChange-Id: I5a0fe1b938f113a922b4a8ea1de9756c47f06dcd\n'}, {'number': 24, 'created': '2015-06-11 20:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/2bc70af8b8d1cdac3d1a7dcd7154e1b55f280798', 'message': 'CI TEST - BETA\n\nThis is a draft of trying to get our current repo test running\nunder infra and rake.  This adds in the current patch to the test\nusing the existing test-patch tool.\n\nChange-Id: I5a0fe1b938f113a922b4a8ea1de9756c47f06dcd\n'}, {'number': 25, 'created': '2015-06-11 21:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/04931549b14bb6ebed34782f942dc76ce12ffb7a', 'message': 'CI TEST - BETA (waiting for repo one to go in first)\n\nThis is a draft of trying to get our current repo test running\nunder infra and rake.  This adds in the current patch to the test\nusing the existing test-patch tool.\n\nChange-Id: I5a0fe1b938f113a922b4a8ea1de9756c47f06dcd\n'}, {'number': 26, 'created': '2015-06-12 16:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/891a473d92aa5054120b1894e429fca3b6d779a2', 'message': 'CI TEST - BETA (waiting for repo one to go in first)\n\nThis is a draft of trying to get our current repo test running\nunder infra and rake.  This adds in the current patch to the test\nusing the existing test-patch tool.\n\nChange-Id: I5a0fe1b938f113a922b4a8ea1de9756c47f06dcd\n'}, {'number': 27, 'created': '2015-06-15 19:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/bb411d4a63fb6fdd00f9ede573e3bd80f9b24b27', 'message': 'CI TEST - BETA (waiting for repo one to go in first)\n\nThis is a draft of trying to get our current repo test running\nunder infra and rake.  This adds in the current patch to the test\nusing the existing test-patch tool.\n\nChange-Id: I5a0fe1b938f113a922b4a8ea1de9756c47f06dcd\n'}, {'number': 28, 'created': '2015-06-24 18:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/efb27b15af369be8c4d3dfdbc05c460bf05de9e0', 'message': 'CI TEST - based upon repo integration task\n\nThis uses the repo integration task.  It also take advantage of the\nrepo Berksfil REPO_DEV support to pull in the current patch.\n\nChange-Id: I5a0fe1b938f113a922b4a8ea1de9756c47f06dcd\n'}, {'number': 29, 'created': '2015-06-26 16:21:05.000000000', 'files': ['bootstrap.sh', 'Rakefile'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/3d37e8c52f8adb402b1a0ddcf8a9f67a279d1261', 'message': 'CI TEST - based upon repo integration task\n\nThis uses the repo integration task.  It also take advantage of the\nrepo Berksfil REPO_DEV support to pull in the current patch.\n\nChange-Id: I5a0fe1b938f113a922b4a8ea1de9756c47f06dcd\n'}]",1,188924,3d37e8c52f8adb402b1a0ddcf8a9f67a279d1261,102,4,29,7128,,,0,"CI TEST - based upon repo integration task

This uses the repo integration task.  It also take advantage of the
repo Berksfil REPO_DEV support to pull in the current patch.

Change-Id: I5a0fe1b938f113a922b4a8ea1de9756c47f06dcd
",git fetch https://review.opendev.org/openstack/cookbook-openstack-common refs/changes/24/188924/28 && git format-patch -1 --stdout FETCH_HEAD,"['vagrant-aio-neutron.json', 'Rakefile', 'bootstrap.sh']",3,14e3559dcfd1b5c5ff4901b67c2e11926b59d65c,ci-test, pwd cd .. git clone --depth 1 git@github.com:stackforge/openstack-chef-repo.git cd openstack-chef-repo sudo mkdir /etc/chef && sudo cp .chef/encrypted_data_bag_secret /etc/chef/openstack_data_bag_secret # update env until we get something into repo for this gate cp ../vagrant-aio-neutron.json openstack-chef-repo/environments cd tools sudo chef exec ruby test_patch.rb -p $ZUUL_CHANGE -i -t -e aio_neutron_ci,,63,0
openstack%2Foslo.middleware~master~I68d9c5439707a624aa24f3dbe7bbfd616b382a6d,openstack/oslo.middleware,master,I68d9c5439707a624aa24f3dbe7bbfd616b382a6d,Support PasteDeploy,MERGED,2015-06-12 22:41:35.000000000,2015-07-01 09:19:10.000000000,2015-07-01 09:19:08.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 6537}, {'_account_id': 9717}, {'_account_id': 13805}]","[{'number': 1, 'created': '2015-06-12 22:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/066855664098a252b154dcddc3a932da97c2a1ab', 'message': ""Support PasteDeploy\n\nThis patch removes the oslo_config specific code out of the\nmiddleware's class, and instead provides a factory method by which\nthis middleware may be constructed. It then also provides a similar\nfactory method that supports pastedeploy's filter_factory protocol.\n\nChange-Id: I68d9c5439707a624aa24f3dbe7bbfd616b382a6d\n""}, {'number': 2, 'created': '2015-06-16 22:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/d608e26f7395bba95aeb3b476c1df3af08d53b96', 'message': ""Support PasteDeploy\n\nThis patch removes the oslo_config specific code out of the\nmiddleware's class, and instead provides a factory method by which\nthis middleware may be constructed. It then also provides a similar\nfactory method that supports pastedeploy's filter_factory protocol.\n\nChange-Id: I68d9c5439707a624aa24f3dbe7bbfd616b382a6d\n""}, {'number': 3, 'created': '2015-06-17 18:34:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/cfca6c25c5daf8785508b5f4cfc8c31f11268ba2', 'message': ""Support PasteDeploy\n\nThis patch removes the oslo_config specific code out of the\nmiddleware's class, and instead provides a factory method by which\nthis middleware may be constructed. It then also provides a similar\nfactory method that supports pastedeploy's filter_factory protocol.\n\nChange-Id: I68d9c5439707a624aa24f3dbe7bbfd616b382a6d\n""}, {'number': 4, 'created': '2015-06-22 14:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/6df5d3a6583fc98e60ac280d77d03ef94e3eeaf0', 'message': ""Support PasteDeploy\n\nThis patch removes the oslo_config specific code out of the\nmiddleware's class, and instead provides a factory method by which\nthis middleware may be constructed. It then also provides a similar\nfactory method that supports pastedeploy's filter_factory protocol.\n\nChange-Id: I68d9c5439707a624aa24f3dbe7bbfd616b382a6d\n""}, {'number': 5, 'created': '2015-06-23 21:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/65ece6c8ade81129050247a99e7461b6e5071617', 'message': ""Support PasteDeploy\n\nThis patch removes the oslo_config specific code out of the\nmiddleware's class, and instead provides a factory method by which\nthis middleware may be constructed. It then also provides a similar\nfactory method that supports pastedeploy's filter_factory protocol.\n\nChange-Id: I68d9c5439707a624aa24f3dbe7bbfd616b382a6d\n""}, {'number': 6, 'created': '2015-06-30 15:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/df3f8e8d8b601eb60e87e0065ec72252ac99b71d', 'message': ""Support PasteDeploy\n\nThis patch removes the oslo_config specific code out of the\nmiddleware's class, and instead provides a factory method by which\nthis middleware may be constructed. It then also provides a similar\nfactory method that supports pastedeploy's filter_factory protocol.\n\nChange-Id: I68d9c5439707a624aa24f3dbe7bbfd616b382a6d\n""}, {'number': 7, 'created': '2015-06-30 15:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/5b12b96799b5d2279caccc3bf514e2faa7ab3ca8', 'message': ""Support PasteDeploy\n\nThis patch removes the oslo_config specific code out of the\nmiddleware's class, and instead provides a factory method by which\nthis middleware may be constructed. It then also provides a similar\nfactory method that supports pastedeploy's filter_factory protocol.\n\nChange-Id: I68d9c5439707a624aa24f3dbe7bbfd616b382a6d\n""}, {'number': 8, 'created': '2015-06-30 16:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/36e879e3f4116fdc632ccadcc84284143a6da66c', 'message': ""Support PasteDeploy\n\nThis patch removes the oslo_config specific code out of the\nmiddleware's class, and instead provides a factory method by which\nthis middleware may be constructed. It then also provides a similar\nfactory method that supports pastedeploy's filter_factory protocol.\n\nChange-Id: I68d9c5439707a624aa24f3dbe7bbfd616b382a6d\n""}, {'number': 9, 'created': '2015-06-30 16:01:54.000000000', 'files': ['oslo_middleware/cors.py', 'doc/source/cors.rst', 'oslo_middleware/tests/test_cors.py'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/655de16a871bb0b4768f18a88e9f573fea18ed41', 'message': ""Support PasteDeploy\n\nThis patch removes the oslo_config specific code out of the\nmiddleware's class, and instead provides a factory method by which\nthis middleware may be constructed. It then also provides a similar\nfactory method that supports pastedeploy's filter_factory protocol.\n\nChange-Id: I68d9c5439707a624aa24f3dbe7bbfd616b382a6d\n""}]",8,191238,655de16a871bb0b4768f18a88e9f573fea18ed41,28,7,9,9717,,,0,"Support PasteDeploy

This patch removes the oslo_config specific code out of the
middleware's class, and instead provides a factory method by which
this middleware may be constructed. It then also provides a similar
factory method that supports pastedeploy's filter_factory protocol.

Change-Id: I68d9c5439707a624aa24f3dbe7bbfd616b382a6d
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/38/191238/7 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_middleware/cors.py', 'doc/source/cors.rst', 'oslo_middleware/tests/test_cors.py']",3,066855664098a252b154dcddc3a932da97c2a1ab,refactor_cors," self.application = cors.oslo_factory(test_application, cfg.CONF) self.application = cors.oslo_factory(test_application, cfg.CONF) self.application = cors.oslo_factory(test_application, cfg.CONF)"," self.application = cors.CORS(test_application, cfg.CONF) self.application = cors.CORS(test_application, cfg.CONF) self.application = cors.CORS(test_application, cfg.CONF)",132,60
openstack%2Fhorizon~master~Ib4c3f77f8cc3cdaa3c7558b7bc3a6d1299b6dcbe,openstack/horizon,master,Ib4c3f77f8cc3cdaa3c7558b7bc3a6d1299b6dcbe,Switched from JSCS to ESLint,MERGED,2015-06-16 17:32:37.000000000,2015-07-01 09:15:24.000000000,2015-07-01 09:15:23.000000000,"[{'_account_id': 3}, {'_account_id': 5623}, {'_account_id': 7665}, {'_account_id': 9576}, {'_account_id': 9622}, {'_account_id': 9717}, {'_account_id': 11881}, {'_account_id': 12071}, {'_account_id': 12826}, {'_account_id': 13805}, {'_account_id': 14124}, {'_account_id': 14307}, {'_account_id': 15168}]","[{'number': 1, 'created': '2015-06-16 17:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/157c61f498aee0867f572caf2ee98427e36bd524', 'message': '[WIP] Switched from JSCS to ESLint\n\nSwitched use of jscs to eslint. Current test patch, to investigate\noptions discussed on the openstack-dev list.\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2015-June/067030.html\n\nChange-Id: Ib4c3f77f8cc3cdaa3c7558b7bc3a6d1299b6dcbe\n'}, {'number': 2, 'created': '2015-06-17 16:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/18b89e3328fc526222e033448b945439991a4ccb', 'message': 'Switched from JSCS to ESLint\n\nThis patch switches horizon from using JSCS to using ESlint. It\nadds the john papa style guides as an eslint plugin, and deactivates\nadditional linting rules so current cleanup efforts can focus on the\nissues remaining from JSCS. Once that cleanup effort is complete,\nwe can switch our linting job to voting and move forward from there.\n\nYAML for .eslintrc was chosen because the JSON specification does\nnot allow comments, and having comments (including rule links) will\nmake it easier to discuss linting changes.\n\nDeactivated eslint rules have each been annotated with a # TODO\nstatement, so we can address them in the future.\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2015-June/067030.html\n\nChange-Id: Ib4c3f77f8cc3cdaa3c7558b7bc3a6d1299b6dcbe\n'}, {'number': 3, 'created': '2015-06-17 22:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/27d85ef579840791e5607542119e4c42f6c706f8', 'message': 'Switched from JSCS to ESLint\n\nThis patch switches horizon from using JSCS to using ESlint. It\nadds the john papa style guides as an eslint plugin, and deactivates\nadditional linting rules so current cleanup efforts can focus on the\nissues remaining from JSCS. Once that cleanup effort is complete,\nwe can switch our linting job to voting and move forward from there.\n\nYAML for .eslintrc was chosen because the JSON specification does\nnot allow comments, and having comments (including rule links) will\nmake it easier to discuss linting changes.\n\nDeactivated eslint rules have each been annotated with a # TODO\nstatement, so we can address them in the future.\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2015-June/067030.html\n\nChange-Id: Ib4c3f77f8cc3cdaa3c7558b7bc3a6d1299b6dcbe\n'}, {'number': 4, 'created': '2015-06-17 22:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4ec784901d20a0521d2f378568eb358e15c4bc1d', 'message': 'Switched from JSCS to ESLint\n\nThis patch switches horizon from using JSCS to using ESlint. It\nadds the john papa style guides as an eslint plugin, and deactivates\nadditional linting rules so current cleanup efforts can focus on the\nissues remaining from JSCS. Once that cleanup effort is complete,\nwe can switch our linting job to voting and move forward from there.\n\nYAML for .eslintrc was chosen because the JSON specification does\nnot allow comments, and having comments (including rule links) will\nmake it easier to discuss linting changes.\n\nDeactivated eslint rules have each been annotated with a # TODO\nstatement, so we can address them in the future.\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2015-June/067030.html\n\nChange-Id: Ib4c3f77f8cc3cdaa3c7558b7bc3a6d1299b6dcbe\n'}, {'number': 5, 'created': '2015-06-17 22:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f4125ef4ff7a8c6a52766e4bd0ab6a8f30e29d72', 'message': 'Switched from JSCS to ESLint\n\nThis patch switches horizon from using JSCS to using ESlint. It\nadds the john papa style guides as an eslint plugin, and deactivates\nadditional linting rules so current cleanup efforts can focus on the\nissues remaining from JSCS. Once that cleanup effort is complete,\nwe can switch our linting job to voting and move forward from there.\n\nYAML for .eslintrc was chosen because the JSON specification does\nnot allow comments, and having comments (including rule links) will\nmake it easier to discuss linting changes.\n\nDeactivated eslint rules have each been annotated with a # TODO\nstatement, so we can address them in the future.\n\nLinting may be executed by first installing npm dependencies using\n`npm install`, and then executing `npm run lint` at any time in the\nfuture. No python venv is required.\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2015-June/067030.html\n\nChange-Id: Ib4c3f77f8cc3cdaa3c7558b7bc3a6d1299b6dcbe\n'}, {'number': 6, 'created': '2015-06-17 22:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/16593e2e3e68e1f8f3d91de26055987afa94f713', 'message': 'Switched from JSCS to ESLint\n\nThis patch switches horizon from using JSCS to using ESlint. It\nadds the john papa style guides as an eslint plugin, and deactivates\nadditional linting rules so current cleanup efforts can focus on the\nissues remaining from JSCS. Once that cleanup effort is complete,\nwe can switch our linting job to voting and move forward from there.\n\nYAML for .eslintrc was chosen because the JSON specification does\nnot allow comments, and having comments (including rule links) will\nmake it easier to discuss linting changes.\n\nDeactivated eslint rules have each been annotated with a # TODO\nstatement, so we can address them in the future.\n\nLinting may be executed by first installing npm dependencies using\n`npm install`, and then executing `npm run lint` at any time in the\nfuture. No python venv is required.\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2015-June/067030.html\n\nChange-Id: Ib4c3f77f8cc3cdaa3c7558b7bc3a6d1299b6dcbe\n'}, {'number': 7, 'created': '2015-06-18 17:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/306def5e750d07863ecb667da0ee3c3cd25721ec', 'message': 'Switched from JSCS to ESLint\n\nThis patch switches horizon from using JSCS to using ESlint. It\nadds the john papa style guides as an eslint plugin, and deactivates\nadditional linting rules so current cleanup efforts can focus on the\nissues remaining from JSCS. Once that cleanup effort is complete,\nwe can switch our linting job to voting and move forward from there.\n\nYAML for .eslintrc was chosen because the JSON specification does\nnot allow comments, and having comments (including rule links) will\nmake it easier to discuss linting changes.\n\nDeactivated eslint rules have each been annotated with a # TODO\nstatement, so we can address them in the future.\n\nLinting may be executed by first installing npm dependencies using\n`npm install`, and then executing `npm run lint` at any time in the\nfuture. No python venv is required.\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2015-June/067030.html\n\nChange-Id: Ib4c3f77f8cc3cdaa3c7558b7bc3a6d1299b6dcbe\n'}, {'number': 8, 'created': '2015-06-22 15:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a29bbe2a2732a4ecbf30a76c850ffd241a13c9c0', 'message': ""Switched from JSCS to ESLint\n\nThis patch switches horizon from using JSCS to using ESlint. It\nadds the john papa style guides as an eslint plugin, and deactivates\nadditional linting rules so current cleanup efforts can focus on the\nissues remaining from JSCS. Once that cleanup effort is complete,\nwe can switch our linting job to voting and move forward from there.\n\nYAML for .eslintrc was chosen because the JSON specification does\nnot allow comments, and having comments (including rule links) will\nmake it easier to discuss linting changes.\n\nDeactivated eslint rules have each been annotated with a # TODO\nstatement, so we can address them in the future.\n\nLinting may be executed by first installing npm dependencies using\n`npm install`, and then executing `npm run lint` at any time in the\nfuture. No python venv is required.\n\nFor clarification: We are switching to ESLint because JSCS explicitly\nfocuses on code-style, not on language use errors. For that purpose,\nJSCS explicitly defers to JSHint, which due to the 'do no evil' license is\nnot usable. Since ESLint provides both the codestyle functionality, and\nthe language use checks, of both JSCS and JSHint, it was deemed the\nonly viable tool,\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2015-June/067030.html\n\nChange-Id: Ib4c3f77f8cc3cdaa3c7558b7bc3a6d1299b6dcbe\n""}, {'number': 9, 'created': '2015-06-24 15:24:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c9d9a28d8dbe23d1dc0a369fcd7acac9638b29b9', 'message': ""Switched from JSCS to ESLint\n\nThis patch switches horizon from using JSCS to using ESlint. It\nadds the john papa style guides as an eslint plugin, and deactivates\nadditional linting rules so current cleanup efforts can focus on the\nissues remaining from JSCS. Once that cleanup effort is complete,\nwe can switch our linting job to voting and move forward from there.\n\nYAML for .eslintrc was chosen because the JSON specification does\nnot allow comments, and having comments (including rule links) will\nmake it easier to discuss linting changes.\n\nDeactivated eslint rules have each been annotated with a # TODO\nstatement, so we can address them in the future.\n\nLinting may be executed by first installing npm dependencies using\n`npm install`, and then executing `npm run lint` at any time in the\nfuture. No python venv is required.\n\nFor clarification: We are switching to ESLint because JSCS explicitly\nfocuses on code-style, not on language use errors. For that purpose,\nJSCS explicitly defers to JSHint, which due to the 'do no evil' license is\nnot usable. Since ESLint provides both the codestyle functionality, and\nthe language use checks, of both JSCS and JSHint, it was deemed the\nonly viable tool,\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2015-June/067030.html\n\nChange-Id: Ib4c3f77f8cc3cdaa3c7558b7bc3a6d1299b6dcbe\n""}, {'number': 10, 'created': '2015-06-24 22:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/bdd176f11d5cb56d1ba9b84241c313a25d82facc', 'message': ""Switched from JSCS to ESLint\n\nThis patch switches horizon from using JSCS to using ESlint. It\nadds the john papa style guides as an eslint plugin, and deactivates\nadditional linting rules so current cleanup efforts can focus on the\nissues remaining from JSCS. Once that cleanup effort is complete,\nwe can switch our linting job to voting and move forward from there.\n\nYAML for .eslintrc was chosen because the JSON specification does\nnot allow comments, and having comments (including rule links) will\nmake it easier to discuss linting changes.\n\nDeactivated eslint rules have each been annotated with a # TODO\nstatement, so we can address them in the future.\n\nLinting may be executed by first installing npm dependencies using\n`npm install`, and then executing `npm run lint` at any time in the\nfuture. No python venv is required.\n\nFor clarification: We are switching to ESLint because JSCS explicitly\nfocuses on code-style, not on language use errors. For that purpose,\nJSCS explicitly defers to JSHint, which due to the 'do no evil' license is\nnot usable. Since ESLint provides both the codestyle functionality, and\nthe language use checks, of both JSCS and JSHint, it was deemed the\nonly viable tool,\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2015-June/067030.html\n\nChange-Id: Ib4c3f77f8cc3cdaa3c7558b7bc3a6d1299b6dcbe\n""}, {'number': 11, 'created': '2015-06-25 16:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5e95174d6d859ab7d5f230de8ebf0fce8320a1f1', 'message': ""Switched from JSCS to ESLint\n\nThis patch switches horizon from using JSCS to using ESlint. It\nadds the john papa style guides as an eslint plugin, and deactivates\nadditional linting rules so current cleanup efforts can focus on the\nissues remaining from JSCS. Once that cleanup effort is complete,\nwe can switch our linting job to voting and move forward from there.\n\nYAML for .eslintrc was chosen because the JSON specification does\nnot allow comments, and having comments (including rule links) will\nmake it easier to discuss linting changes.\n\nDeactivated eslint rules have each been annotated with a # TODO\nstatement, so we can address them in the future.\n\nLinting may be executed by first installing npm dependencies using\n`npm install`, and then executing `npm run lint` at any time in the\nfuture. No python venv is required.\n\nFor clarification: We are switching to ESLint because JSCS explicitly\nfocuses on code-style, not on language use errors. For that purpose,\nJSCS explicitly defers to JSHint, which due to the 'do no evil' license is\nnot usable. Since ESLint provides both the codestyle functionality, and\nthe language use checks, of both JSCS and JSHint, it was deemed the\nonly viable tool,\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2015-June/067030.html\n\nChange-Id: Ib4c3f77f8cc3cdaa3c7558b7bc3a6d1299b6dcbe\n""}, {'number': 12, 'created': '2015-06-25 22:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4efb0983bffa233eb74ff0decd58580fe7fedbb9', 'message': ""Switched from JSCS to ESLint\n\nThis patch switches horizon from using JSCS to using ESlint. It\nadds the john papa style guides as an eslint plugin, and deactivates\nadditional linting rules so current cleanup efforts can focus on the\nissues remaining from JSCS. Once that cleanup effort is complete,\nwe can switch our linting job to voting and move forward from there.\n\nYAML for .eslintrc was chosen because the JSON specification does\nnot allow comments, and having comments (including rule links) will\nmake it easier to discuss linting changes.\n\nDeactivated eslint rules have each been annotated with a # TODO\nstatement, so we can address them in the future.\n\nLinting may be executed by first installing npm dependencies using\n`npm install`, and then executing `npm run lint` at any time in the\nfuture. No python venv is required.\n\nFor clarification: We are switching to ESLint because JSCS explicitly\nfocuses on code-style, not on language use errors. For that purpose,\nJSCS explicitly defers to JSHint, which due to the 'do no evil' license is\nnot usable. Since ESLint provides both the codestyle functionality, and\nthe language use checks, of both JSCS and JSHint, it was deemed the\nonly viable tool,\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2015-June/067030.html\n\nChange-Id: Ib4c3f77f8cc3cdaa3c7558b7bc3a6d1299b6dcbe\n""}, {'number': 13, 'created': '2015-06-26 20:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/705d77711b567c94889e470652a0e21e724d39e6', 'message': ""Switched from JSCS to ESLint\n\nThis patch switches horizon from using JSCS to using ESlint. It\nadds the john papa style guides as an eslint plugin, and deactivates\nadditional linting rules so current cleanup efforts can focus on the\nissues remaining from JSCS. Once that cleanup effort is complete,\nwe can switch our linting job to voting and move forward from there.\n\nYAML for .eslintrc was chosen because the JSON specification does\nnot allow comments, and having comments (including rule links) will\nmake it easier to discuss linting changes.\n\nDeactivated eslint rules have each been annotated with a # TODO\nstatement, so we can address them in the future.\n\nLinting may be executed by first installing npm dependencies using\n`npm install`, and then executing `npm run lint` at any time in the\nfuture. No python venv is required.\n\nFor clarification: We are switching to ESLint because JSCS explicitly\nfocuses on code-style, not on language use errors. For that purpose,\nJSCS explicitly defers to JSHint, which due to the 'do no evil' license is\nnot usable. Since ESLint provides both the codestyle functionality, and\nthe language use checks, of both JSCS and JSHint, it was deemed the\nonly viable tool,\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2015-June/067030.html\n\nChange-Id: Ib4c3f77f8cc3cdaa3c7558b7bc3a6d1299b6dcbe\n""}, {'number': 14, 'created': '2015-06-26 21:40:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/225b0622e8678127650b2ffc75a51406f4dd8d43', 'message': ""Switched from JSCS to ESLint\n\nThis patch switches horizon from using JSCS to using ESlint. It\nadds the john papa style guides as an eslint plugin, and deactivates\nadditional linting rules so current cleanup efforts can focus on the\nissues remaining from JSCS. Once that cleanup effort is complete,\nwe can switch our linting job to voting and move forward from there.\n\nYAML for .eslintrc was chosen because the JSON specification does\nnot allow comments, and having comments (including rule links) will\nmake it easier to discuss linting changes.\n\nDeactivated eslint rules have each been annotated with a # TODO\nstatement, so we can address them in the future. Links in the\ndocumentation have been updated to new contributor guidelines, which\nwill be updated after this patch lands.\n\nLinting may be executed by first installing npm dependencies using\n`npm install`, and then executing `npm run lint` at any time in the\nfuture. No python venv is required.\n\nFor clarification: We are switching to ESLint because JSCS explicitly\nfocuses on code-style, not on language use errors. For that purpose,\nJSCS explicitly defers to JSHint, which due to the 'do no evil' license is\nnot usable. Since ESLint provides both the codestyle functionality, and\nthe language use checks, of both JSCS and JSHint, it was deemed the\nonly viable tool,\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2015-June/067030.html\n\nChange-Id: Ib4c3f77f8cc3cdaa3c7558b7bc3a6d1299b6dcbe\n""}, {'number': 15, 'created': '2015-06-26 21:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b0101fa4916cbe9e0ac9f89b82203c8ccaa5fc30', 'message': ""Switched from JSCS to ESLint\n\nThis patch switches horizon from using JSCS to using ESlint. It\nadds the john papa style guides as an eslint plugin, and deactivates\nadditional linting rules so current cleanup efforts can focus on the\nissues remaining from JSCS. Once that cleanup effort is complete,\nwe can switch our linting job to voting and move forward from there.\n\nYAML for .eslintrc was chosen because the JSON specification does\nnot allow comments, and having comments (including rule links) will\nmake it easier to discuss linting changes.\n\nDeactivated eslint rules have each been annotated with a # TODO\nstatement, so we can address them in the future. Links in the\ndocumentation have been updated to new contributor guidelines, which\nwill be updated after this patch lands.\n\nLinting may be executed by first installing npm dependencies using\n`npm install`, and then executing `npm run lint` at any time in the\nfuture. No python venv is required.\n\nFor clarification: We are switching to ESLint because JSCS explicitly\nfocuses on code-style, not on language use errors. For that purpose,\nJSCS explicitly defers to JSHint, which due to the 'do no evil' license is\nnot usable. Since ESLint provides both the codestyle functionality, and\nthe language use checks, of both JSCS and JSHint, it was deemed the\nonly viable tool,\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2015-June/067030.html\n\nChange-Id: Ib4c3f77f8cc3cdaa3c7558b7bc3a6d1299b6dcbe\n""}, {'number': 16, 'created': '2015-06-29 17:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/59c1642ae461339cd9f933971ca4362277a6963c', 'message': ""Switched from JSCS to ESLint\n\nThis patch switches horizon from using JSCS to using ESlint. It\nadds the john papa style guides as an eslint plugin, and deactivates\nadditional linting rules so current cleanup efforts can focus on the\nissues remaining from JSCS. Once that cleanup effort is complete,\nwe can switch our linting job to voting and move forward from there.\n\nYAML for .eslintrc was chosen because the JSON specification does\nnot allow comments, and having comments (including rule links) will\nmake it easier to discuss linting changes.\n\nDeactivated eslint rules have each been annotated with a # TODO\nstatement, so we can address them in the future. Links in the\ndocumentation have been updated to new contributor guidelines, which\nwill be updated after this patch lands.\n\nLinting may be executed by first installing npm dependencies using\n`npm install`, and then executing `npm run lint` at any time in the\nfuture. No python venv is required.\n\nFor clarification: We are switching to ESLint because JSCS explicitly\nfocuses on code-style, not on language use errors. For that purpose,\nJSCS explicitly defers to JSHint, which due to the 'do no evil' license is\nnot usable. Since ESLint provides both the codestyle functionality, and\nthe language use checks, of both JSCS and JSHint, it was deemed the\nonly viable tool,\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2015-June/067030.html\n\nChange-Id: Ib4c3f77f8cc3cdaa3c7558b7bc3a6d1299b6dcbe\n""}, {'number': 17, 'created': '2015-06-29 17:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c2ed1e5efa69e91193a12ee932bede4cd7b2d99f', 'message': ""Switched from JSCS to ESLint\n\nThis patch switches horizon from using JSCS to using ESlint. It\nadds the john papa style guides as an eslint plugin, and deactivates\nadditional linting rules so current cleanup efforts can focus on the\nissues remaining from JSCS. Once that cleanup effort is complete,\nwe can switch our linting job to voting and move forward from there.\n\nYAML for .eslintrc was chosen because the JSON specification does\nnot allow comments, and having comments (including rule links) will\nmake it easier to discuss linting changes.\n\nDeactivated eslint rules have each been annotated with a # TODO\nstatement, so we can address them in the future. Links in the\ndocumentation have been updated to new contributor guidelines, which\nwill be updated after this patch lands.\n\nLinting may be executed by first installing npm dependencies using\n`npm install`, and then executing `npm run lint` at any time in the\nfuture. No python venv is required.\n\nFor clarification: We are switching to ESLint because JSCS explicitly\nfocuses on code-style, not on language use errors. For that purpose,\nJSCS explicitly defers to JSHint, which due to the 'do no evil' license is\nnot usable. Since ESLint provides both the codestyle functionality, and\nthe language use checks, of both JSCS and JSHint, it was deemed the\nonly viable tool,\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2015-June/067030.html\n\nChange-Id: Ib4c3f77f8cc3cdaa3c7558b7bc3a6d1299b6dcbe\nPartially-Implements: blueprint jscs-cleanup\n""}, {'number': 18, 'created': '2015-06-29 20:43:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d5c80af0de795f82fadaa8eb454bb4551b87c0f3', 'message': ""Switched from JSCS to ESLint\n\nThis patch switches horizon from using JSCS to using ESlint. It\nadds the john papa style guides as an eslint plugin, and deactivates\nadditional linting rules so current cleanup efforts can focus on the\nissues remaining from JSCS. Once that cleanup effort is complete,\nwe can switch our linting job to voting and move forward from there.\n\nYAML for .eslintrc was chosen because the JSON specification does\nnot allow comments, and having comments (including rule links) will\nmake it easier to discuss linting changes.\n\nDeactivated eslint rules have each been annotated with a # TODO\nstatement, so we can address them in the future. Links in the\ndocumentation have been updated to new contributor guidelines, which\nwill be updated after this patch lands.\n\nLinting may be executed by first installing npm dependencies using\n`npm install`, and then executing `npm run lint` at any time in the\nfuture. No python venv is required.\n\nFor clarification: We are switching to ESLint because JSCS explicitly\nfocuses on code-style, not on language use errors. For that purpose,\nJSCS explicitly defers to JSHint, which due to the 'do no evil' license is\nnot usable. Since ESLint provides both the codestyle functionality, and\nthe language use checks, of both JSCS and JSHint, it was deemed the\nonly viable tool,\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2015-June/067030.html\n\nChange-Id: Ib4c3f77f8cc3cdaa3c7558b7bc3a6d1299b6dcbe\nPartially-Implements: blueprint jscs-cleanup\n""}, {'number': 19, 'created': '2015-06-29 20:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0044310750e1a326e67e36bab49672f2633738c1', 'message': ""Switched from JSCS to ESLint\n\nThis patch switches horizon from using JSCS to using ESlint. It\nadds the john papa style guides as an eslint plugin, and deactivates\nadditional linting rules so current cleanup efforts can focus on the\nissues remaining from JSCS. Once that cleanup effort is complete,\nwe can switch our linting job to voting and move forward from there.\n\nYAML for .eslintrc was chosen because the JSON specification does\nnot allow comments, and having comments (including rule links) will\nmake it easier to discuss linting changes.\n\nDeactivated eslint rules have each been annotated with a # TODO\nstatement, so we can address them in the future. Links in the\ndocumentation have been updated to new contributor guidelines, which\nwill be updated after this patch lands.\n\nLinting may be executed by first installing npm dependencies using\n`npm install`, and then executing `npm run lint` at any time in the\nfuture. No python venv is required.\n\nFor clarification: We are switching to ESLint because JSCS explicitly\nfocuses on code-style, not on language use errors. For that purpose,\nJSCS explicitly defers to JSHint, which due to the 'do no evil' license is\nnot usable. Since ESLint provides both the codestyle functionality, and\nthe language use checks, of both JSCS and JSHint, it was deemed the\nonly viable tool,\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2015-June/067030.html\n\nChange-Id: Ib4c3f77f8cc3cdaa3c7558b7bc3a6d1299b6dcbe\nPartially-Implements: blueprint jscs-cleanup\n""}, {'number': 20, 'created': '2015-06-29 21:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/098fb48b25b630697525765fa58bfe53ebb067e7', 'message': ""Switched from JSCS to ESLint\n\nThis patch switches horizon from using JSCS to using ESlint. It\nadds the john papa style guides as an eslint plugin, and deactivates\nadditional linting rules so current cleanup efforts can focus on the\nissues remaining from JSCS. Once that cleanup effort is complete,\nwe can switch our linting job to voting and move forward from there.\n\nYAML for .eslintrc was chosen because the JSON specification does\nnot allow comments, and having comments (including rule links) will\nmake it easier to discuss linting changes.\n\nDeactivated eslint rules have each been annotated with a # TODO\nstatement, so we can address them in the future. Links in the\ndocumentation have been updated to new contributor guidelines, which\nwill be updated after this patch lands.\n\nLinting may be executed by first installing npm dependencies using\n`npm install`, and then executing `npm run lint` at any time in the\nfuture. No python venv is required.\n\nFor clarification: We are switching to ESLint because JSCS explicitly\nfocuses on code-style, not on language use errors. For that purpose,\nJSCS explicitly defers to JSHint, which due to the 'do no evil' license is\nnot usable. Since ESLint provides both the codestyle functionality, and\nthe language use checks, of both JSCS and JSHint, it was deemed the\nonly viable tool,\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2015-June/067030.html\n\nChange-Id: Ib4c3f77f8cc3cdaa3c7558b7bc3a6d1299b6dcbe\nPartially-Implements: blueprint jscs-cleanup\n""}, {'number': 21, 'created': '2015-06-29 23:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a1dcb6f5401a33ce1c21ae750fa807ae82c3e9b8', 'message': ""Switched from JSCS to ESLint\n\nThis patch switches horizon from using JSCS to using ESlint. It\nadds the john papa style guides as an eslint plugin, and deactivates\nadditional linting rules so current cleanup efforts can focus on the\nissues remaining from JSCS. Once that cleanup effort is complete,\nwe can switch our linting job to voting and move forward from there.\n\nYAML for .eslintrc was chosen because the JSON specification does\nnot allow comments, and having comments (including rule links) will\nmake it easier to discuss linting changes.\n\nDeactivated eslint rules have each been annotated with a # TODO\nstatement, so we can address them in the future. Links in the\ndocumentation have been updated to new contributor guidelines, which\nwill be updated after this patch lands.\n\nLinting may be executed by first installing npm dependencies using\n`npm install`, and then executing `npm run lint` at any time in the\nfuture. No python venv is required.\n\nFor clarification: We are switching to ESLint because JSCS explicitly\nfocuses on code-style, not on language use errors. For that purpose,\nJSCS explicitly defers to JSHint, which due to the 'do no evil' license is\nnot usable. Since ESLint provides both the codestyle functionality, and\nthe language use checks, of both JSCS and JSHint, it was deemed the\nonly viable tool,\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2015-June/067030.html\n\nChange-Id: Ib4c3f77f8cc3cdaa3c7558b7bc3a6d1299b6dcbe\nPartially-Implements: blueprint jscs-cleanup\n""}, {'number': 22, 'created': '2015-06-30 21:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4ac20b6526e94694ff72dc6404c0bfd60553ab43', 'message': ""Switched from JSCS to ESLint\n\nThis patch switches horizon from using JSCS to using ESlint. It\nadds the john papa style guides as an eslint plugin, and deactivates\nadditional linting rules so current cleanup efforts can focus on the\nissues remaining from JSCS. Once that cleanup effort is complete,\nwe can switch our linting job to voting and move forward from there.\n\nYAML for .eslintrc was chosen because the JSON specification does\nnot allow comments, and having comments (including rule links) will\nmake it easier to discuss linting changes.\n\nDeactivated eslint rules have each been annotated with a # TODO\nstatement, so we can address them in the future. Links in the\ndocumentation have been updated to new contributor guidelines, which\nwill be updated after this patch lands.\n\nLinting may be executed by first installing npm dependencies using\n`npm install`, and then executing `npm run lint` at any time in the\nfuture. No python venv is required.\n\nFor clarification: We are switching to ESLint because JSCS explicitly\nfocuses on code-style, not on language use errors. For that purpose,\nJSCS explicitly defers to JSHint, which due to the 'do no evil' license is\nnot usable. Since ESLint provides both the codestyle functionality, and\nthe language use checks, of both JSCS and JSHint, it was deemed the\nonly viable tool,\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2015-June/067030.html\n\nChange-Id: Ib4c3f77f8cc3cdaa3c7558b7bc3a6d1299b6dcbe\nPartially-Implements: blueprint jscs-cleanup\n""}, {'number': 23, 'created': '2015-07-01 06:02:51.000000000', 'files': ['horizon/static/framework/widgets/magic-search/magic-search.spec.js', 'openstack_dashboard/static/dashboard/launch-instance/source/source.controller.js', 'doc/source/contributing.rst', 'openstack_dashboard/static/dashboard/launch-instance/flavor/flavor-help.controller.js', '.eslintrc', 'openstack_dashboard/static/dashboard/launch-instance/network/network-help.controller.js', 'openstack_dashboard/static/dashboard/launch-instance/configuration/configuration-help.controller.js', 'openstack_dashboard/static/dashboard/launch-instance/flavor/flavor.controller.js', 'openstack_dashboard/static/dashboard/launch-instance/source/source-help.controller.js', 'openstack_dashboard/static/dashboard/launch-instance/security-groups/security-groups.js', 'horizon/static/framework/widgets/metadata-tree/metadata-tree.module.js', 'horizon/static/framework/widgets/action-list/action-list.module.js', 'openstack_dashboard/static/dashboard/launch-instance/keypair/keypair.js', 'run_tests.sh', 'package.json', '.jscsrc', 'doc/source/ref/run_tests.rst', 'tox.ini', 'horizon/static/framework/widgets/transfer-table/transfer-table.spec.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/c6c0352982391b37c265e49994195f55f4b02781', 'message': ""Switched from JSCS to ESLint\n\nThis patch switches horizon from using JSCS to using ESlint. It\nadds the john papa style guides as an eslint plugin, and deactivates\nadditional linting rules so current cleanup efforts can focus on the\nissues remaining from JSCS. Once that cleanup effort is complete,\nwe can switch our linting job to voting and move forward from there.\n\nYAML for .eslintrc was chosen because the JSON specification does\nnot allow comments, and having comments (including rule links) will\nmake it easier to discuss linting changes.\n\nDeactivated eslint rules have each been annotated with a # TODO\nstatement, so we can address them in the future. Links in the\ndocumentation have been updated to new contributor guidelines, which\nwill be updated after this patch lands.\n\nLinting may be executed by first installing npm dependencies using\n`npm install`, and then executing `npm run lint` at any time in the\nfuture. No python venv is required.\n\nFor clarification: We are switching to ESLint because JSCS explicitly\nfocuses on code-style, not on language use errors. For that purpose,\nJSCS explicitly defers to JSHint, which due to the 'do no evil' license is\nnot usable. Since ESLint provides both the codestyle functionality, and\nthe language use checks, of both JSCS and JSHint, it was deemed the\nonly viable tool,\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2015-June/067030.html\n\nChange-Id: Ib4c3f77f8cc3cdaa3c7558b7bc3a6d1299b6dcbe\nPartially-Implements: blueprint jscs-cleanup\n""}]",24,192327,c6c0352982391b37c265e49994195f55f4b02781,101,13,23,9717,,,0,"Switched from JSCS to ESLint

This patch switches horizon from using JSCS to using ESlint. It
adds the john papa style guides as an eslint plugin, and deactivates
additional linting rules so current cleanup efforts can focus on the
issues remaining from JSCS. Once that cleanup effort is complete,
we can switch our linting job to voting and move forward from there.

YAML for .eslintrc was chosen because the JSON specification does
not allow comments, and having comments (including rule links) will
make it easier to discuss linting changes.

Deactivated eslint rules have each been annotated with a # TODO
statement, so we can address them in the future. Links in the
documentation have been updated to new contributor guidelines, which
will be updated after this patch lands.

Linting may be executed by first installing npm dependencies using
`npm install`, and then executing `npm run lint` at any time in the
future. No python venv is required.

For clarification: We are switching to ESLint because JSCS explicitly
focuses on code-style, not on language use errors. For that purpose,
JSCS explicitly defers to JSHint, which due to the 'do no evil' license is
not usable. Since ESLint provides both the codestyle functionality, and
the language use checks, of both JSCS and JSHint, it was deemed the
only viable tool,

http://lists.openstack.org/pipermail/openstack-dev/2015-June/067030.html

Change-Id: Ib4c3f77f8cc3cdaa3c7558b7bc3a6d1299b6dcbe
Partially-Implements: blueprint jscs-cleanup
",git fetch https://review.opendev.org/openstack/horizon refs/changes/27/192327/8 && git format-patch -1 --stdout FETCH_HEAD,"['.eslintrc', 'package.json', '.jscsrc']",3,157c61f498aee0867f572caf2ee98427e36bd524,bp/jscs-cleanup,,"{ ""excludeFiles"": [ "".venv/**"", ""bower_components/**"", ""horizon/.coverage-karma/**"", ""lib/**"", ""node_modules/**"", ""openstack_dashboard/.coverage-karma/**"" ], ""requireCurlyBraces"": [ ""if"", ""else"", ""for"", ""while"", ""do"", ""try"", ""catch"" ], ""requireOperatorBeforeLineBreak"": true, ""requireCamelCaseOrUpperCaseIdentifiers"": ""ignoreProperties"", ""maximumLineLength"": { ""value"": 100, ""allowComments"": true, ""allowRegex"": true }, ""validateIndentation"": 2, ""disallowMultipleLineStrings"": true, ""disallowMixedSpacesAndTabs"": true, ""disallowTrailingWhitespace"": true, ""disallowSpaceAfterPrefixUnaryOperators"": true, ""disallowMultipleVarDecl"": ""exceptUndefined"", ""requireSpaceAfterKeywords"": [ ""if"", ""else"", ""for"", ""while"", ""do"", ""switch"", ""return"", ""try"", ""catch"" ], ""requireSpaceBeforeBinaryOperators"": [ ""="", ""+="", ""-="", ""*="", ""/="", ""%="", ""<<="", "">>="", "">>>="", ""&="", ""|="", ""^="", ""+="", ""+"", ""-"", ""*"", ""/"", ""%"", ""<<"", "">>"", "">>>"", ""&"", ""|"", ""^"", ""&&"", ""||"", ""==="", ""=="", "">="", ""<="", ""<"", "">"", ""!="", ""!=="" ], ""requireSpaceAfterBinaryOperators"": true, ""requireSpacesInConditionalExpression"": true, ""requireSpaceBeforeBlockStatements"": true, ""requireLineFeedAtFileEnd"": true, ""disallowMultipleLineBreaks"": true, ""disallowTrailingComma"": true, ""requireParenthesesAroundIIFE"": true } ",824,60
openstack%2Fheat~master~Id9f71706e34a347f688e54ff32373533ce80019a,openstack/heat,master,Id9f71706e34a347f688e54ff32373533ce80019a,Add nova.network custom constraint,MERGED,2015-06-25 11:47:48.000000000,2015-07-01 09:15:14.000000000,2015-07-01 09:15:13.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 4715}, {'_account_id': 6577}, {'_account_id': 8289}, {'_account_id': 9542}, {'_account_id': 10487}, {'_account_id': 12363}, {'_account_id': 13009}]","[{'number': 1, 'created': '2015-06-25 11:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/677586d22e5330c09c401736195bec2074728b40', 'message': 'Add nova_network custom constraint\n\nIt is needed, for example, for validation of nova_network property\nin ManilaShareNetwork resource.\n\nChange-Id: Id9f71706e34a347f688e54ff32373533ce80019a\n'}, {'number': 2, 'created': '2015-06-25 12:00:37.000000000', 'files': ['heat/tests/test_nova_client.py', 'heat/engine/clients/os/nova.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/heat/commit/c360efb2ac7a913913dad55c236c893c280e5047', 'message': 'Add nova.network custom constraint\n\nIt is needed, for example, for validation of nova_network property\nin ManilaShareNetwork resource.\n\nChange-Id: Id9f71706e34a347f688e54ff32373533ce80019a\n'}]",2,195538,c360efb2ac7a913913dad55c236c893c280e5047,19,10,2,12363,,,0,"Add nova.network custom constraint

It is needed, for example, for validation of nova_network property
in ManilaShareNetwork resource.

Change-Id: Id9f71706e34a347f688e54ff32373533ce80019a
",git fetch https://review.opendev.org/openstack/heat refs/changes/38/195538/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_nova_client.py', 'heat/engine/clients/os/nova.py', 'setup.cfg']",3,677586d22e5330c09c401736195bec2074728b40,add_nova_net_constr, nova.network = heat.engine.clients.os.nova:NetworkConstraint,,43,0
openstack%2Ffuel-astute~master~If7dafee57168814e6e12779c2cb989f5e661bb67,openstack/fuel-astute,master,If7dafee57168814e6e12779c2cb989f5e661bb67,add avago raid support,ABANDONED,2014-06-25 12:04:17.000000000,2015-07-01 08:54:21.000000000,,"[{'_account_id': 3}, {'_account_id': 8749}, {'_account_id': 8776}, {'_account_id': 8907}, {'_account_id': 8971}, {'_account_id': 9448}]","[{'number': 1, 'created': '2014-06-25 12:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/2dcc76364fea6f016b6895f4f7291355c40ddab8', 'message': 'add avago raid support\n\n  add main module raid\n  add avago raid support\n  add unit tests\n\nChange-Id: If7dafee57168814e6e12779c2cb989f5e661bb67\n'}, {'number': 2, 'created': '2014-06-30 19:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/7a20c27d01a22dd515d3c18fcfb7fcbc01ab29da', 'message': 'add avago raid support\n\n  -add main module raid\n  -add avago raid support\n  -add unit tests\n\n1) This module realized the support raid configuration\nand can be extended to the other raid vendors\n2) Currently includes support for Avago raid\n\nChange-Id: If7dafee57168814e6e12779c2cb989f5e661bb67\n'}, {'number': 3, 'created': '2014-07-01 05:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/0a0e442800d9e321d0a2c1324fbf90089fa519fe', 'message': 'add avago raid support\n\n  -add main module raid\n  -add avago raid support\n  -add unit tests\n\n1) This module realized the support raid configuration\nand can be extended to the other raid vendors\n2) Currently includes support for Avago raid\nand realized actions: create, delete, add_hotspare, delete_hotspare,\ncreate_nytrocache, delete_nytrocache, create_cachecade,\ndelete_cachecade, create_nwd, clear_all\n\nChange-Id: If7dafee57168814e6e12779c2cb989f5e661bb67\n'}, {'number': 4, 'created': '2014-07-02 13:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/76941faa07187ba095eb438fea79679c953fd5e4', 'message': 'add avago raid support\n\n  -add main module raid\n  -add avago raid support\n  -add unit tests\n\n1) This module realized the support raid configuration\nand can be extended to the other raid vendors\n2) Currently includes support for Avago raid\nand realized actions: create, delete, add_hotspare, delete_hotspare,\ncreate_nytrocache, delete_nytrocache, create_cachecade,\ndelete_cachecade, create_nwd, clear_all\n\nChange-Id: If7dafee57168814e6e12779c2cb989f5e661bb67\n'}, {'number': 5, 'created': '2014-07-03 07:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/b0f0dc327fbcce8a0cac0fea8cf6108b1d0664dd', 'message': 'add avago raid support\n\n  -add main module raid\n  -add avago raid support\n  -add unit tests\n\n1) This module realized the support raid configuration\nand can be extended to the other raid vendors\n2) Currently includes support for Avago raid\nand realized actions: create, delete, add_hotspare, delete_hotspare,\ncreate_nytrocache, delete_nytrocache, create_cachecade,\ndelete_cachecade, create_nwd, clear_all\n\nChange-Id: If7dafee57168814e6e12779c2cb989f5e661bb67\n'}, {'number': 6, 'created': '2014-07-04 14:52:10.000000000', 'files': ['spec/unit/lsi_spec.rb', 'lib/astute/raid_vendors/lsi.rb', 'lib/astute/raid.rb', 'spec/unit/raid_spec.rb', 'lib/astute/server/dispatcher.rb', 'lib/astute.rb', 'spec/unit/orchestrator_spec.rb', 'lib/astute/exceptions.rb', 'lib/astute/orchestrator.rb'], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/2aea01d5b0e6957ddbe0d42c19678ad8b5b9f24b', 'message': 'add avago raid support\n\n  -add main module raid\n  -add avago raid support\n  -add unit tests\n\n1) This module realized the support raid configuration\nand can be extended to the other raid vendors\n2) Currently includes support for Avago raid\nand realized actions: create, delete, add_hotspare, delete_hotspare,\ncreate_nytrocache, delete_nytrocache, create_cachecade,\ndelete_cachecade, create_nwd, clear_all\n\nChange-Id: If7dafee57168814e6e12779c2cb989f5e661bb67\n'}]",12,102505,2aea01d5b0e6957ddbe0d42c19678ad8b5b9f24b,38,6,6,9448,,,0,"add avago raid support

  -add main module raid
  -add avago raid support
  -add unit tests

1) This module realized the support raid configuration
and can be extended to the other raid vendors
2) Currently includes support for Avago raid
and realized actions: create, delete, add_hotspare, delete_hotspare,
create_nytrocache, delete_nytrocache, create_cachecade,
delete_cachecade, create_nwd, clear_all

Change-Id: If7dafee57168814e6e12779c2cb989f5e661bb67
",git fetch https://review.opendev.org/openstack/fuel-astute refs/changes/05/102505/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/lsi_spec.rb', 'lib/astute/raid_vendors/lsi.rb', 'lib/astute/raid.rb', 'spec/unit/raid_spec.rb', 'lib/astute/server/dispatcher.rb', 'lib/astute.rb', 'spec/unit/orchestrator_spec.rb', 'lib/astute/exceptions.rb', 'lib/astute/orchestrator.rb']",9,2dcc76364fea6f016b6895f4f7291355c40ddab8,raid_support_tmp," def raid_manipulation(reporter, task_uuid, nodes, vendor, interface, cmds) Astute::Raid.new(Context.new(reporter, task_uuid), nodes, vendor, interface, cmds) end ",,371,0
openstack%2Fnova-specs~master~I74cbb5d80c1aa7fadbe3843b3d4a15d36a3a5103,openstack/nova-specs,master,I74cbb5d80c1aa7fadbe3843b3d4a15d36a3a5103,Spec to Add 'macvtap' as vif type to novas libvirt driver.,MERGED,2015-05-12 13:05:01.000000000,2015-07-01 08:45:06.000000000,2015-07-01 08:45:05.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1779}, {'_account_id': 2271}, {'_account_id': 4393}, {'_account_id': 6685}, {'_account_id': 6873}, {'_account_id': 11307}, {'_account_id': 13734}]","[{'number': 1, 'created': '2015-05-12 13:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/746d24b1afc7fe9e663d054b664e52eb4d5b9032', 'message': ""Adding 'macvtap' as vif to novas libvirt driver.\n\nThis is required in order to attach libvirt manged kvm guests via macvtap\nto the hosts network. It then can be used by a neutron ml2 plugin.\n\nChange-Id: I74cbb5d80c1aa7fadbe3843b3d4a15d36a3a5103\nImplements: blueprint libvirt-macvtap-vif\n""}, {'number': 2, 'created': '2015-05-12 13:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/35c723557a9300cf6753c4cb3a3cc1062f87af82', 'message': ""Spec to Add 'macvtap' as vif type to novas libvirt driver.\n\nThis is required in order to attach libvirt manged kvm guests via macvtap\nto the hosts network. It then can be used by a neutron ml2 plugin.\n\nChange-Id: I74cbb5d80c1aa7fadbe3843b3d4a15d36a3a5103\nImplements: blueprint libvirt-macvtap-vif\n""}, {'number': 3, 'created': '2015-06-19 10:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/17ef90a158d2460936c145ea63cf6ebefddde808', 'message': ""Spec to Add 'macvtap' as vif type to novas libvirt driver.\n\nThis is required in order to attach libvirt manged kvm guests via macvtap\nto the hosts network. It then can be used by a neutron ml2 plugin.\n\nChange-Id: I74cbb5d80c1aa7fadbe3843b3d4a15d36a3a5103\nImplements: blueprint libvirt-macvtap-vif\n""}, {'number': 4, 'created': '2015-06-23 07:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/cb9fad5a9276f952db82311b0018d5148bc8c966', 'message': ""Spec to Add 'macvtap' as vif type to novas libvirt driver.\n\nThis is required in order to attach libvirt manged kvm guests via macvtap\nto the hosts network. It then can be used by a neutron ml2 plugin.\n\nChange-Id: I74cbb5d80c1aa7fadbe3843b3d4a15d36a3a5103\nImplements: blueprint libvirt-macvtap-vif\n""}, {'number': 5, 'created': '2015-06-23 15:04:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/7c71f841a89815df896678ed02ec46f6e845194d', 'message': ""Spec to Add 'macvtap' as vif type to novas libvirt driver.\n\nThis is required in order to attach libvirt manged kvm guests via macvtap\nto the hosts network. It then can be used by a neutron ml2 plugin.\n\nChange-Id: I74cbb5d80c1aa7fadbe3843b3d4a15d36a3a5103\nImplements: blueprint libvirt-macvtap-vif\n""}, {'number': 6, 'created': '2015-06-25 13:48:05.000000000', 'files': ['specs/liberty/approved/libvirt-macvtap-vif.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/0a79595aec4b3d6d905b57bbe244f01cebddb95c', 'message': ""Spec to Add 'macvtap' as vif type to novas libvirt driver.\n\nThis is required in order to attach libvirt manged kvm guests via macvtap\nto the hosts network. It then can be used by a neutron ml2 plugin.\n\nChange-Id: I74cbb5d80c1aa7fadbe3843b3d4a15d36a3a5103\nImplements: blueprint libvirt-macvtap-vif\n""}]",36,182280,0a79595aec4b3d6d905b57bbe244f01cebddb95c,50,9,6,11307,,,0,"Spec to Add 'macvtap' as vif type to novas libvirt driver.

This is required in order to attach libvirt manged kvm guests via macvtap
to the hosts network. It then can be used by a neutron ml2 plugin.

Change-Id: I74cbb5d80c1aa7fadbe3843b3d4a15d36a3a5103
Implements: blueprint libvirt-macvtap-vif
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/80/182280/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/liberty/approved/libvirt-macvtap-vif.rst'],1,746d24b1afc7fe9e663d054b664e52eb4d5b9032,bp/libvirt-macvtap-vif,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ==================================================================== Add MacVTap as new virtual interface type for libvirt virtualization ==================================================================== https://blueprints.launchpad.net/nova/+spec/libvirt-macvtap-vif Add macvtap as new virtual interface (vif) type to Nova's libvirt driver. This is required to attach libvirt managed KVM guests via macvtap to the hosts network. It will be exploited by a new macvtap ml2 plugin and agent, which will be hosted on stackforge, due to the Neutron vendor decomposition. Problem description =================== There is already some support for macvtap in the Nova code. It's for example in the context of SR-IOV (vif type 'hw_veb'). This vif type offers the following attachments depending on the vnic_type used: * vnic_type 'macvtap' (default) Guest is attached via macvtap in passthrough mode * vnic_type 'direct' Guest is attached via pci sr-iov passthrough This existing integration * does not support the vnic_type 'normal' (Neutron implementation detail) * is tightly bound to vif_type 'hw_veb' * is tightly integrated into pci sr-iov context * does not support macvtap in 'bridge' and 'vepa' mode Also other port types like 802qbg and 802qbh are either tightly bound to pci sr-iov, or are specifying other port attributes that are not relevant for pure macvtap attachments. Use Cases ---------- * Attaching libvirt/KVM guests via macvtap to the hosts network No additional impact on actors from the Nova side (configuration is done in Neutron) Project Priority ----------------- None Proposed change =============== Introducing a new vif_type 'macvtap' to Nova's libvirt driver. This new type represents the following domain.xml notation: :: <interface type='direct'> <source dev='<macvtap_src>' mode=’<mode>’/> <model type='virtio' /> </interface> On port binding, the Neutron code enriches the vif_details with two attributes. These are defined in the Neutron agents config, but Nova needs to know about it to instantiate the macvtap correctly: :: * macvtap_src: This is the source device for the macvtap (the device the macvtap sits on). * mode: The mode, in which the macvtap device should be instantiated. e.g. 'bridge' or 'vepa' Bandwith configurations are supported like with other vif types using a macvtap based connection (e.g. 'hw_veb'). The vnic_type will not be considered on the Nova side. No checkings planned. But the idea is to have the Neutron code support the following: * 'normal' will be supported * 'direct' will NOT be supported * 'macvtap' will NOT be supported Alternatives ------------ **vif implementation** Instead of creating a new vif type in Nova, an existing vif_type could be refactored to become more generic and be reused by the macvtap Neutron code. But having dependencies to vif types used by other vendor Neutron drivers or agents is not a good thing I guess. It also might end up in a couple if-else statements to determine which attributes must or must not be set. **vnic_type** This is more about Neutron. Nevertheless I thought it's worthwile mentioning it here: I really want to go with the vnic_type 'normal'. With this default type, you can just create a port without specifying a vnic_type. I want to abstract the fact, that macvtap is used under the hood, from the cloud user. But users and admins might get confuesed, as other vnic_types exist: * 'direct' --> libvirt expects an interface of type 'direct' for instantiating a macvtap device. Some libvirt experienced folks might know about that. * 'macvtap' --> the final result of this new vif type is a macvtap device. Operators might think for creating a macvtap attachment this vnic_type is required. One idea would be, to support all of these types in the Neutron part. But all would result in the same macvtap device. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- Due to the nature of macvtap, Neutron Security Groups and anti-spoofing-rules cannot be supported with this new vif_type. Macvtap doesn't offer a hook for the hypervisor to apply ip- or ebtables rules on the guests traffic. Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None from a Openstack code point of view. But the network performance of the guest should increase compared to the ovs reference implementation. Other deployer impact --------------------- None for Nova Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: scheuran (andreas.scheuring@de.ibm.com) Other contributors: None Work Items ---------- None Dependencies ============ None Testing ======= * Unittest * No tempest test, as it would require the corresponding Neutron code Documentation Impact ==================== None for Nova References ========== * Macvtap Neutron Project on Launchpad https://launchpad.net/networking-macvtap History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Liberty - Introduced ",,231,0
openstack%2Fneutron~master~I3bea58d86a3508e49cbac1d03c6b640836b4a7a2,openstack/neutron,master,I3bea58d86a3508e49cbac1d03c6b640836b4a7a2,dhcp fails if extra_dhcp_opts for stateless subnet enabled,MERGED,2015-05-22 16:46:29.000000000,2015-07-01 08:43:58.000000000,2015-07-01 07:40:20.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 2903}, {'_account_id': 4656}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 6579}, {'_account_id': 6788}, {'_account_id': 7183}, {'_account_id': 7448}, {'_account_id': 7515}, {'_account_id': 8645}, {'_account_id': 8788}, {'_account_id': 9008}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9751}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10257}, {'_account_id': 10267}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 14208}, {'_account_id': 14214}, {'_account_id': 14216}, {'_account_id': 14323}, {'_account_id': 14562}, {'_account_id': 14571}, {'_account_id': 15296}, {'_account_id': 15444}, {'_account_id': 15752}, {'_account_id': 15882}, {'_account_id': 15894}, {'_account_id': 16041}, {'_account_id': 16282}]","[{'number': 1, 'created': '2015-05-22 16:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/977031449add4a8448257601ec48015d71d0b3fc', 'message': ""dhcp fails if extra_dhcp_opts for stateless subnet enabled\n\nvm on a network having IPv4 and IPv6 dhcpv6 stateless subnets,\nfails to get IPv4 address, when vm uses a port with extra_dhcp_opts.\n\nneutron creates entries in dhcp host file for each subnet of a port.\nEach of these entries will have same mac address as first field,\nand may have client_id, fqdn, ipv4/ipv6 address for dhcp/dhcpv6 stateful,\nor tag as other fields.\nFor dhcpv6 stateless subnet with extra_dhcp_opts,\nhost file will have only mac address and tag. So _read_hosts_file_leases\nshouldn't check for ip address for this entry in host file.\n\nIf the last entry in host file for the port with extra_dhcp_opts,\nis for dhcpv6 stateless subnet, then dhclient tries to use this entry,\nto resolve dhcp request even for IPv4, treats as 'no address found'\nand fails to send DHCPOFFER.\n\nSo we sort the fixed_ips, so that ipv6 subnets for the port are added\nfirst in host file, to avoid this issue.\n\nChange-Id: I3bea58d86a3508e49cbac1d03c6b640836b4a7a2\nCloses-bug: #1456206\n""}, {'number': 2, 'created': '2015-06-15 16:30:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2b66e787c26760084780240711465e7ddcf12b6f', 'message': ""dhcp fails if extra_dhcp_opts for stateless subnet enabled\n\nvm on a network having IPv4 and IPv6 dhcpv6 stateless subnets,\nfails to get IPv4 address, when vm uses a port with extra_dhcp_opts.\n\nneutron creates entries in dhcp host file for each subnet of a port.\nEach of these entries will have same mac address as first field,\nand may have client_id, fqdn, ipv4/ipv6 address for dhcp/dhcpv6 stateful,\nor tag as other fields.\nFor dhcpv6 stateless subnet with extra_dhcp_opts,\nhost file will have only mac address and tag.\n\nIf the last entry in host file for the port with extra_dhcp_opts,\nis for dhcpv6 stateless subnet, then dhclient tries to use this entry,\nto resolve dhcp request even for IPv4, treats as 'no address found'\nand fails to send DHCPOFFER.\n\nSo we sort the fixed_ips, so that ipv6 subnets for the port are added\nfirst in host file, to avoid this issue.\n\nChange-Id: I3bea58d86a3508e49cbac1d03c6b640836b4a7a2\nCloses-bug: #1456206\n""}, {'number': 3, 'created': '2015-06-17 15:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d81d7a9b813f34567f7d6efc384091143632bca6', 'message': ""dhcp fails if extra_dhcp_opts for stateless subnet enabled\n\nvm on a network having IPv4 and IPv6 dhcpv6 stateless subnets,\nfails to get IPv4 address, when vm uses a port with extra_dhcp_opts.\n\nneutron creates entries in dhcp host file for each subnet of a port.\nEach of these entries will have same mac address as first field,\nand may have client_id, fqdn, ipv4/ipv6 address for dhcp/dhcpv6 stateful,\nor tag as other fields.\nFor dhcpv6 stateless subnet with extra_dhcp_opts,\nhost file will have only mac address and tag.\n\nIf the last entry in host file for the port with extra_dhcp_opts,\nis for dhcpv6 stateless subnet, then dhclient tries to use this entry,\nto resolve dhcp request even for IPv4, treats as 'no address found'\nand fails to send DHCPOFFER.\n\nSo we sort the fixed_ips, so that ipv6 subnets for the port are added\nfirst in host file, to avoid this issue.\n\nChange-Id: I3bea58d86a3508e49cbac1d03c6b640836b4a7a2\nCloses-bug: #1466144\n""}, {'number': 4, 'created': '2015-06-18 11:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/548812a84aa6780296042bf81205a2fce67b56fd', 'message': ""dhcp fails if extra_dhcp_opts for stateless subnet enabled\n\nvm on a network having IPv4 and IPv6 dhcpv6 stateless subnets,\nfails to get IPv4 address, when vm uses a port with extra_dhcp_opts.\n\nneutron creates entries in dhcp host file for each subnet of a port.\nEach of these entries will have same mac address as first field,\nand may have client_id, fqdn, ipv4/ipv6 address for dhcp/dhcpv6 stateful,\nor tag as other fields.\nFor dhcpv6 stateless subnet with extra_dhcp_opts,\nhost file will have only mac address and tag.\n\nIf the last entry in host file for the port with extra_dhcp_opts,\nis for dhcpv6 stateless subnet, then dnsmasq tries to use this entry,\n(as dnsmasq reads the hosts file from EOF) to resolve\ndhcp request even for IPv4, treats as 'no address found'\nand fails to send DHCPOFFER.\n\nSo we sort the fixed_ips, so that ipv6 subnets for the port are added\nfirst in host file, to avoid this issue.\n\nChange-Id: I3bea58d86a3508e49cbac1d03c6b640836b4a7a2\nCloses-bug: #1466144\n""}, {'number': 5, 'created': '2015-06-24 07:33:49.000000000', 'files': ['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/481d9a4f356d325e60e4c208c93693d755097bcd', 'message': ""dhcp fails if extra_dhcp_opts for stateless subnet enabled\n\nvm on a network having IPv4 and IPv6 dhcpv6 stateless subnets,\nfails to get IPv4 address, when vm uses a port with extra_dhcp_opts.\n\nneutron creates entries in dhcp host file for each subnet of a port.\nEach of these entries will have same mac address as first field,\nand may have client_id, fqdn, ipv4/ipv6 address for dhcp/dhcpv6 stateful,\nor tag as other fields.\nFor dhcpv6 stateless subnet with extra_dhcp_opts,\nhost file will have only mac address and tag.\n\nIf the last entry in host file for the port with extra_dhcp_opts,\nis for dhcpv6 stateless subnet, then dnsmasq tries to use this entry,\n(as dnsmasq reads the hosts file from EOF) to resolve\ndhcp request even for IPv4, treats as 'no address found'\nand fails to send DHCPOFFER.\n\nSo we sort the fixed_ips, so that ipv6 subnets for the port are added\nfirst in host file, to avoid this issue.\n\nChange-Id: I3bea58d86a3508e49cbac1d03c6b640836b4a7a2\nCloses-bug: #1466144\n""}]",31,185066,481d9a4f356d325e60e4c208c93693d755097bcd,152,42,5,10267,,,0,"dhcp fails if extra_dhcp_opts for stateless subnet enabled

vm on a network having IPv4 and IPv6 dhcpv6 stateless subnets,
fails to get IPv4 address, when vm uses a port with extra_dhcp_opts.

neutron creates entries in dhcp host file for each subnet of a port.
Each of these entries will have same mac address as first field,
and may have client_id, fqdn, ipv4/ipv6 address for dhcp/dhcpv6 stateful,
or tag as other fields.
For dhcpv6 stateless subnet with extra_dhcp_opts,
host file will have only mac address and tag.

If the last entry in host file for the port with extra_dhcp_opts,
is for dhcpv6 stateless subnet, then dnsmasq tries to use this entry,
(as dnsmasq reads the hosts file from EOF) to resolve
dhcp request even for IPv4, treats as 'no address found'
and fails to send DHCPOFFER.

So we sort the fixed_ips, so that ipv6 subnets for the port are added
first in host file, to avoid this issue.

Change-Id: I3bea58d86a3508e49cbac1d03c6b640836b4a7a2
Closes-bug: #1466144
",git fetch https://review.opendev.org/openstack/neutron refs/changes/66/185066/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py']",2,977031449add4a8448257601ec48015d71d0b3fc,(detached," # sort fixed_ips so that IPv6 subnets appear first and then IPv4 # If not so and for dual stack, if the last entry with this port # MAC address in hosts file is for IPv6 stateless extra_dhcp_opts, # dhclient uses this entry to resolve even for IPv4 address # request and returns no IPv4 address. fixed_ips = sorted(port.fixed_ips, key=lambda fip: netaddr.IPAddress(fip['ip_address']).version, reverse=True) for alloc in fixed_ips: # No ip address in hosts file for dhcpv6 # stateless extra_dhcp_opts if host[1].startswith('set:'): continue", for alloc in port.fixed_ips:,80,16
openstack%2Fneutron-specs~master~I3706f471bc160abefc2721f5d1c2c46844677058,openstack/neutron-specs,master,I3706f471bc160abefc2721f5d1c2c46844677058,Add spec for neutron-ipv6-prefix-delegation-service,ABANDONED,2015-04-22 15:07:52.000000000,2015-07-01 08:36:32.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 6524}, {'_account_id': 6637}, {'_account_id': 7448}]","[{'number': 1, 'created': '2015-04-22 15:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/a80d59b1825c4d43b056b36bcc587f0d9aa53502', 'message': 'Add spec for neutron-ipv6-prefix-delegation-service\n\nblueprint neutron-ipv6-prefix-delegation-service\n\nCo-Authored-By: Bradley Jones <jones.bradley@me.com>\n\nChange-Id: I3706f471bc160abefc2721f5d1c2c46844677058\n'}, {'number': 2, 'created': '2015-04-23 11:03:04.000000000', 'files': ['specs/liberty/neutron-ipv6-prefix-delegation-service.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/8abf32fca198ef8cc316389b5cf88fab5f9967e6', 'message': 'Add spec for neutron-ipv6-prefix-delegation-service\n\nblueprint neutron-ipv6-prefix-delegation-service\n\nCo-Authored-By: Bradley Jones <jones.bradley@me.com>\n\nChange-Id: I3706f471bc160abefc2721f5d1c2c46844677058\n'}]",5,176352,8abf32fca198ef8cc316389b5cf88fab5f9967e6,8,5,2,6637,,,0,"Add spec for neutron-ipv6-prefix-delegation-service

blueprint neutron-ipv6-prefix-delegation-service

Co-Authored-By: Bradley Jones <jones.bradley@me.com>

Change-Id: I3706f471bc160abefc2721f5d1c2c46844677058
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/52/176352/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/liberty/neutron-ipv6-prefix-delegation-service.rst'],1,a80d59b1825c4d43b056b36bcc587f0d9aa53502,bp/neutron-ipv6-prefix-delegation-service,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ====================================== Neutron IPv6 Prefix Delegation Service ====================================== https://blueprints.launchpad.net/neutron/+spec/neutron-ipv6-prefix-delegation-service Prefix delegation is being added to the L3 agent in the liberty cycle, and the initial implementation is designed to leverage an external service called Dibbler to handle prefix delegation. We wish to add an alternative in-tree implementation of DHCPv6 prefix delegation. Problem Description =================== There a couple of problems with the Dibbler implementation which we hope to solve with this blueprint: * The L3 agent has to run one copy of Dibbler for every subnet that needs a prefix delegated to it, this could cause issues at scale because of resource usage on the networking node. * Any changes that need to be performed to the underlying service have to be proposed and merged outside of the OpenStack ecosystem, and then packaged for distributions, which slows down release of this feature. * Dibbler is a full DHCPv6 client that provides many more functions than are needed for just prefix delegation. A dedicated prefix delegation driver will be much lighter weight and only perform the one task. Proposed Change =============== We intend to add an in-tree service and matching driver that provides an extremely light weight implementation of the DHCPv6 protocol focusing specifically on the prefix delegation conversation. There will only be one process running alongside the L3 agent managing all subnets that require prefix delegation. This will be written entirely in python with no external software dependencies. The driver will communicate with the service via Unix sockets, for local inter-process messaging. Python HTTP sockets will be used to provide the interface for DHCPv6 communication and it will be multi-threaded to allow for multiple prefix delegations to happen at the same time. The service will be started using the ""neutron-dhcpv6-client"" command, and run alongside the l3_agent process. Data Model Impact ----------------- Handled by original Prefix Delegation BP REST API Impact --------------- Handled by original Prefix Delegation BP Security Impact --------------- * Running the DHCPv6 PD service will require sudo or elevated privileges in order to communicate on the ports required for DHCPv6. * The feature will include a protocol implementation, based on the DHCPv6 and Prefix Delegation RFCs. Notifications Impact -------------------- None Other End User Impact --------------------- None Performance Impact ------------------ Reduced resource usage compared to the Dibbler implementation of prefix delegation. IPv6 Impact ----------- IPv6 impact should be no different from the Dibbler implementation. Other Deployer Impact --------------------- Config options to be added include: * pd_socket_loc: The location to store the driver communication socket. * pd_interface: The network interface to bind to for the DHCPv6 communication. When pd_dhcp_driver is configured to use the internal driver, the new service also needs to be configured and running. Therefore, deployer's will now have to add 'neutron-dhcpv6-client' to their OpenStack deployments, if they want to use the driver. Developer Impact ---------------- None Community Impact ---------------- None Alternatives ------------ The alternative is to stick with the Dibbler implementation of prefix delegation. Implementation ============== Assignee(s) ----------- Primary assignee: Sam Betts <sam@code-smash.net> Other contributors: Bradley Jones <jones.bradley@me.com> Dependencies ============ Dependent on the original prefix delegation blueprint: https://blueprints.launchpad.net/neutron/+spec/ipv6-prefix-delegation Testing ======= Documentation Impact ==================== The new config options will need to be added to the user documentation. References ========== Relevant DHCPv6 RFCs: * http://www.rfc-base.org/txt/rfc-3315.txt * https://www.ietf.org/rfc/rfc3633.txt ",,160,0
openstack%2Fheat~master~I86649752cadcd145760d482d07313881183b02b0,openstack/heat,master,I86649752cadcd145760d482d07313881183b02b0,Removes redundant validation of template (1),MERGED,2015-04-15 07:28:29.000000000,2015-07-01 08:30:13.000000000,2015-07-01 08:30:11.000000000,"[{'_account_id': 3}, {'_account_id': 4571}, {'_account_id': 4715}, {'_account_id': 6348}, {'_account_id': 6498}, {'_account_id': 6577}, {'_account_id': 6899}, {'_account_id': 7404}, {'_account_id': 8833}, {'_account_id': 9751}, {'_account_id': 10487}, {'_account_id': 11424}, {'_account_id': 12363}, {'_account_id': 13009}, {'_account_id': 13323}, {'_account_id': 14331}, {'_account_id': 16203}]","[{'number': 1, 'created': '2015-04-15 07:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2d1eb1689ae2f5ed25f356f7e76d77c96145f5fd', 'message': 'Removes redundant validation of template\n\nAs part of stack create and preview, template is being\nvalidated twice, first at service._validate_new_stack()\nand second at stack.validate() by self.t.validate().\nThis patch fixes this issue.\n\nChange-Id: I86649752cadcd145760d482d07313881183b02b0\nCloses-bug: #1444316\n'}, {'number': 2, 'created': '2015-04-15 09:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ba5bd8e64d76e2437d59acefc72bedbc3c453ed5', 'message': 'Removes redundant validation of template\n\nAs part of stack create and preview, template is being\nvalidated twice, first at service._validate_new_stack()\nand second at stack.validate() by self.t.validate().\nThis patch fixes this issue.\n\nIt also improves code readability by using\nproper indentation.\n\nChange-Id: I86649752cadcd145760d482d07313881183b02b0\nCloses-bug: #1444316\n'}, {'number': 3, 'created': '2015-04-17 09:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c7fd31b091cd603792588cd127d275c3968643d5', 'message': 'Removes redundant validation of template\n\nAs part of stack create and preview, template is being\nvalidated twice, first at service._validate_new_stack()\nand second at stack.validate() by self.t.validate().\nThis patch fixes this issue.\nIt also improves code readability by using\nproper indentation.\n\nChange-Id: I86649752cadcd145760d482d07313881183b02b0\nCloses-bug: #1444316\n'}, {'number': 4, 'created': '2015-05-07 12:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6eae01fa4dfa9555082aac09d58b6d83ff0f33f6', 'message': 'Removes redundant validation of template\n\nAs part of stack create and preview, template is being\nvalidated twice, first at service._validate_new_stack()\nand second at stack.validate() by self.t.validate().\nThis patch fixes this issue.\nIt also improves code readability by using\nproper indentation.\n\nChange-Id: I86649752cadcd145760d482d07313881183b02b0\nCloses-bug: #1444316\n'}, {'number': 5, 'created': '2015-05-08 06:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e3bca389210dd1a1c4a3a8237239b933ec72ec81', 'message': 'Removes redundant validation of template (1)\n\nAs part of stack create and preview, template is being\nvalidated twice, first at service._validate_new_stack()\nand second at stack.validate() by self.t.validate().\nThis patch fixes this issue.\nIt also improves code readability by using\nproper indentation.\n\nNOTE: second part, will have dogpile cache backend\nintegration\n\nChange-Id: I86649752cadcd145760d482d07313881183b02b0\nCloses-bug: #1444316\n'}, {'number': 6, 'created': '2015-05-11 11:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c3efbca9740159f276ff8850a7a447f4df3ac97a', 'message': 'Removes redundant validation of template (1)\n\nAs part of stack create and preview, template is being\nvalidated twice, first at service._validate_new_stack()\nand second at stack.validate() by self.t.validate().\nThis patch fixes this issue.\nIt also improves code readability by using\nproper indentation.\n\nNOTE: second part, will have dogpile cache backend\nintegration\n\nChange-Id: I86649752cadcd145760d482d07313881183b02b0\nCloses-bug: #1444316\n'}, {'number': 7, 'created': '2015-06-01 08:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/04199892655f26a6e94f3546ad8fc6c20af21f09', 'message': 'Removes redundant validation of template (1)\n\nAs part of stack create and preview, template is being\nvalidated twice, first at service._validate_new_stack()\nand second at stack.validate() by self.t.validate().\nThis patch fixes this issue.\nIt also improves code readability by using\nproper indentation.\n\nNOTE: second part, will have dogpile cache backend\nintegration\n\nChange-Id: I86649752cadcd145760d482d07313881183b02b0\nCloses-bug: #1444316\n'}, {'number': 8, 'created': '2015-06-01 09:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7240e4fc077d010ea8bbaeab1f5485458a8d579c', 'message': 'Removes redundant validation of template (1)\n\nAs part of stack create and preview, template is being\nvalidated twice, first at service._validate_new_stack()\nand second at stack.validate() by self.t.validate().\nThis patch fixes this issue.\nIt also improves code readability by using\nproper indentation.\n\nNOTE: second part, will have dogpile cache backend\nintegration\n\nChange-Id: I86649752cadcd145760d482d07313881183b02b0\nCloses-bug: #1444316\n'}, {'number': 9, 'created': '2015-06-10 06:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0823d5a37fa0a10b5606db12b495889a7d005f86', 'message': 'Removes redundant validation of template (1)\n\nAs part of stack create and preview, template is being\nvalidated twice, first at service._validate_new_stack()\nand second at stack.validate() by self.t.validate().\nThis patch fixes this issue.\nIt also improves code readability by using\nproper indentation.\n\nNOTE: second part, will have dogpile cache backend\nintegration\n\nChange-Id: I86649752cadcd145760d482d07313881183b02b0\nCloses-bug: #1444316\n'}, {'number': 10, 'created': '2015-06-15 04:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f7ee339e6c64fcdb3334e48facdaa2e177d0c8c7', 'message': 'Removes redundant validation of template (1)\n\nAs part of stack create and preview, template is being\nvalidated twice, first at service._validate_new_stack()\nand second at stack.validate() by self.t.validate().\nThis patch fixes this issue.\nIt also improves code readability by using\nproper indentation.\n\nNOTE: second part, will have dogpile cache backend\nintegration\n\nChange-Id: I86649752cadcd145760d482d07313881183b02b0\nCloses-bug: #1444316\n'}, {'number': 11, 'created': '2015-06-21 15:52:40.000000000', 'files': ['heat/engine/template.py', 'heat/tests/test_template.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/81507cc09fd92c3cc9e0a5dc01e699354e563f14', 'message': 'Removes redundant validation of template (1)\n\nAs part of stack create and preview, template is being\nvalidated twice, first at service._validate_new_stack()\nand second at stack.validate() by self.t.validate().\nThis patch fixes this issue.\nIt also improves code readability by using\nproper indentation.\n\nNOTE: second part, will have dogpile cache backend\nintegration\n\nChange-Id: I86649752cadcd145760d482d07313881183b02b0\nCloses-bug: #1444316\n'}]",15,173710,81507cc09fd92c3cc9e0a5dc01e699354e563f14,75,17,11,10487,,,0,"Removes redundant validation of template (1)

As part of stack create and preview, template is being
validated twice, first at service._validate_new_stack()
and second at stack.validate() by self.t.validate().
This patch fixes this issue.
It also improves code readability by using
proper indentation.

NOTE: second part, will have dogpile cache backend
integration

Change-Id: I86649752cadcd145760d482d07313881183b02b0
Closes-bug: #1444316
",git fetch https://review.opendev.org/openstack/heat refs/changes/10/173710/10 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_engine_service.py', 'heat/tests/test_template.py', 'heat/engine/service.py']",3,2d1eb1689ae2f5ed25f356f7e76d77c96145f5fd,bug/1444316-dogpile,, try: parsed_template.validate() except Exception as ex: raise exception.StackValidationFailed(message=six.text_type(ex)) ,22,30
openstack%2Frally~master~I47f3a5339f9236941139d74ec8016a20c5b3e1c7,openstack/rally,master,I47f3a5339f9236941139d74ec8016a20c5b3e1c7,[WIP] Add task parameters to samples,ABANDONED,2015-04-06 09:21:16.000000000,2015-07-01 08:27:39.000000000,,"[{'_account_id': 3}, {'_account_id': 14817}, {'_account_id': 16246}]","[{'number': 1, 'created': '2015-04-06 09:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/71243e61bec4005729ba6ef39d15c31fcad3dded', 'message': '[WIP] Add task parameters to samples\n\nThis is the first example of how the solution for #1431700 might look\nlike. To me the variant used in the .yaml looks better, but it will\nrequire a patch to api.py because currently that input will be\nrejected for undefined variables.\n\nChange-Id: I47f3a5339f9236941139d74ec8016a20c5b3e1c7\n'}, {'number': 2, 'created': '2015-05-27 02:41:23.000000000', 'files': ['samples/tasks/scenarios/vm/boot-runcommand-delete.yaml', 'samples/tasks/scenarios/vm/boot-runcommand-delete.json'], 'web_link': 'https://opendev.org/openstack/rally/commit/b1afe8d7f2d35a8e0468e1595c3afd4d734f0d8f', 'message': '[WIP] Add task parameters to samples\n\nThis is an example of how the solution for #1431700 might look like.\n\nChange-Id: I47f3a5339f9236941139d74ec8016a20c5b3e1c7\n'}]",0,170790,b1afe8d7f2d35a8e0468e1595c3afd4d734f0d8f,8,3,2,13252,,,0,"[WIP] Add task parameters to samples

This is an example of how the solution for #1431700 might look like.

Change-Id: I47f3a5339f9236941139d74ec8016a20c5b3e1c7
",git fetch https://review.opendev.org/openstack/rally refs/changes/90/170790/2 && git format-patch -1 --stdout FETCH_HEAD,"['samples/tasks/scenarios/vm/boot-runcommand-delete.yaml', 'samples/tasks/scenarios/vm/boot-runcommand-delete.json']",2,71243e61bec4005729ba6ef39d15c31fcad3dded,sample-templates,"{% set flavor_name = flavor_name or 'm1.tiny' %} {% set image_name = image_name or '^cirros.*uec' %} ""name"": ""{{ flavor_name }}"" ""name"": ""{{ image_name }}"""," ""name"": ""m1.nano"" ""name"": ""^cirros.*uec$""",6,4
openstack%2Fos-brick~master~I79f22c0222cac7812a381b1fb13c14bba3c4ae2c,openstack/os-brick,master,I79f22c0222cac7812a381b1fb13c14bba3c4ae2c,Port os-brick to Python 3,ABANDONED,2015-06-30 13:15:28.000000000,2015-07-01 08:25:27.000000000,,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 5997}, {'_account_id': 9107}, {'_account_id': 11811}, {'_account_id': 12369}, {'_account_id': 16897}]","[{'number': 1, 'created': '2015-06-30 13:15:28.000000000', 'files': ['os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/tests/initiator/test_connector.py', 'os_brick/remotefs/remotefs.py', 'os_brick/initiator/connector.py', 'os_brick/tests/test_utils.py', 'os_brick/tests/initiator/test_linuxfc.py', 'tox.ini', 'os_brick/exception.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/022ee649065300f1c24d9febfb1efb364848f9e1', 'message': 'Port os-brick to Python 3\n\nWith this change, ""tox -e py34"" does pass.\n\n* Replace string.join(cmds) with \' \'.join(cmds)\n* Replace dict.iteritems() with dict.items()\n* Encode Unicode to UTF-8 to hash a string using MD5\n* Replace xrange() with range() in tests\n* Replace map() with list(map()) in tests\n* tox.ini: add py34\n\nBlueprint cinder-python3\n\nChange-Id: I79f22c0222cac7812a381b1fb13c14bba3c4ae2c\n'}]",0,197062,022ee649065300f1c24d9febfb1efb364848f9e1,17,7,1,9107,,,0,"Port os-brick to Python 3

With this change, ""tox -e py34"" does pass.

* Replace string.join(cmds) with ' '.join(cmds)
* Replace dict.iteritems() with dict.items()
* Encode Unicode to UTF-8 to hash a string using MD5
* Replace xrange() with range() in tests
* Replace map() with list(map()) in tests
* tox.ini: add py34

Blueprint cinder-python3

Change-Id: I79f22c0222cac7812a381b1fb13c14bba3c4ae2c
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/62/197062/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/tests/initiator/test_connector.py', 'os_brick/remotefs/remotefs.py', 'os_brick/initiator/connector.py', 'os_brick/tests/test_utils.py', 'os_brick/tests/initiator/test_linuxfc.py', 'tox.ini', 'os_brick/exception.py']",8,022ee649065300f1c24d9febfb1efb364848f9e1,bp/cinder-python3," for name, value in kwargs.items():"," for name, value in kwargs.iteritems():",27,18
openstack%2Fpython-neutron-pd-driver~master~I49cf970eed3283a47a73bdadd58ba193a9c1063d,openstack/python-neutron-pd-driver,master,I49cf970eed3283a47a73bdadd58ba193a9c1063d,Import python_neutron_pd_driver from old reviews,MERGED,2015-06-26 10:28:54.000000000,2015-07-01 08:19:58.000000000,2015-07-01 08:19:57.000000000,"[{'_account_id': 3}, {'_account_id': 6637}]","[{'number': 1, 'created': '2015-06-26 10:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutron-pd-driver/commit/4153a18e76ee97a4b722e5cb73747eaeddefacc3', 'message': 'Import python_neutron_pd_driver from old reviews\n\nChange-Id: I49cf970eed3283a47a73bdadd58ba193a9c1063d\n'}, {'number': 2, 'created': '2015-06-26 14:02:39.000000000', 'files': ['python_neutron_pd_driver/exceptions.py', 'install_dependant_neutron_commit', 'python_neutron_pd_driver/agent.py', 'python_neutron_pd_driver/dhcpv6.py', 'test-requirements.txt', 'etc/python_neutron_pd_driver.conf', 'python_neutron_pd_driver/config.py', 'python_neutron_pd_driver/subnetpd.py', 'python_neutron_pd_driver/tests/test_dhcpv6_pd_agent.py', 'python_neutron_pd_driver/socketv6.py', 'requirements.txt', 'python_neutron_pd_driver/driver.py', 'python_neutron_pd_driver/listener.py', 'setup.cfg', 'python_neutron_pd_driver/constants.py', 'tox.ini', 'python_neutron_pd_driver/utils.py'], 'web_link': 'https://opendev.org/openstack/python-neutron-pd-driver/commit/5d3c39b1c08682f2c7bfa27aa6d3a15ce654d0b3', 'message': 'Import python_neutron_pd_driver from old reviews\n\nChange-Id: I49cf970eed3283a47a73bdadd58ba193a9c1063d\n'}]",0,195980,5d3c39b1c08682f2c7bfa27aa6d3a15ce654d0b3,8,2,2,6637,,,0,"Import python_neutron_pd_driver from old reviews

Change-Id: I49cf970eed3283a47a73bdadd58ba193a9c1063d
",git fetch https://review.opendev.org/openstack/python-neutron-pd-driver refs/changes/80/195980/2 && git format-patch -1 --stdout FETCH_HEAD,"['python_neutron_pd_driver/exceptions.py', 'install_dependant_neutron_commit', 'python_neutron_pd_driver/agent.py', 'python_neutron_pd_driver/dhcpv6.py', 'test-requirements.txt', 'etc/python_neutron_pd_driver.conf', 'python_neutron_pd_driver/config.py', 'python_neutron_pd_driver/subnetpd.py', 'python_neutron_pd_driver/tests/test_dhcpv6_pd_agent.py', 'python_neutron_pd_driver/socketv6.py', 'requirements.txt', 'python_neutron_pd_driver/driver.py', 'python_neutron_pd_driver/listener.py', 'setup.cfg', 'python_neutron_pd_driver/constants.py', 'tox.ini', 'python_neutron_pd_driver/utils.py']",17,4153a18e76ee97a4b722e5cb73747eaeddefacc3,import,"# Copyright 2015 Cisco Systems # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import os import socket import threading from oslo_config import cfg from python_neutron_pd_driver import config # noqa from python_neutron_pd_driver import constants def socket_connect(path): s = socket.socket(socket.AF_UNIX, socket.SOCK_DGRAM) s.connect(cfg.CONF.pd_socket_loc + ""/"" + path) return s def socket_bind(path): s = socket.socket(socket.AF_UNIX, socket.SOCK_DGRAM) s.bind(cfg.CONF.pd_socket_loc + ""/"" + path) return s def control_socket_connect(): return socket_connect(constants.CONTROL_PATH) def socket_delete(path): if os.path.exists(cfg.CONF.pd_socket_loc + ""/"" + path): os.remove(cfg.CONF.pd_socket_loc + ""/"" + path) def new_daemon_thread(target, params=None): th = threading.Thread(target=target, args=params or ()) th.daemon = True th.start() return th ",,1442,1
openstack%2Foslo.db~master~I13768626ca47dd8b6723a8e42d66665cc038d069,openstack/oslo.db,master,I13768626ca47dd8b6723a8e42d66665cc038d069,Updated from global requirements,MERGED,2015-06-30 20:02:13.000000000,2015-07-01 08:17:40.000000000,2015-07-01 08:17:40.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 7491}, {'_account_id': 16272}]","[{'number': 1, 'created': '2015-06-30 20:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/d23c1cd03f2601b02898e092d78526940441646a', 'message': 'Updated from global requirements\n\nChange-Id: I13768626ca47dd8b6723a8e42d66665cc038d069\n'}, {'number': 2, 'created': '2015-06-30 22:44:36.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/de2f8c037f4848f03711da705f977118e3785e29', 'message': 'Updated from global requirements\n\nChange-Id: I13768626ca47dd8b6723a8e42d66665cc038d069\n'}]",0,197263,de2f8c037f4848f03711da705f977118e3785e29,11,4,2,11131,,,0,"Updated from global requirements

Change-Id: I13768626ca47dd8b6723a8e42d66665cc038d069
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/63/197263/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,d23c1cd03f2601b02898e092d78526940441646a,openstack/requirements,fixtures>=1.3.1,fixtures>=0.3.14,1,1
openstack%2Ffuel-qa~master~I43b1f4ee06e07143f5f12307bc3cba4147577ef3,openstack/fuel-qa,master,I43b1f4ee06e07143f5f12307bc3cba4147577ef3,Compare Rally tests results before/after patching,MERGED,2015-05-13 21:14:06.000000000,2015-07-01 08:16:48.000000000,2015-07-01 08:16:47.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 10136}, {'_account_id': 11969}, {'_account_id': 12867}, {'_account_id': 14057}, {'_account_id': 14708}, {'_account_id': 15943}, {'_account_id': 15984}, {'_account_id': 16106}]","[{'number': 1, 'created': '2015-05-13 21:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/e77ae45d55ca1d308a2beb5bb5aaadd190707f79', 'message': ""Compare Rally tests results before/after patching\n\nIf Rally tests are specified in 'erratum.yaml' for\nbug, then run benchmarks before and after patching\nand compare results.\n\nChange-Id: I43b1f4ee06e07143f5f12307bc3cba4147577ef3\nImplements: blueprint mos-patching-tests\n""}, {'number': 2, 'created': '2015-05-14 15:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/45d597c93c35043b1999048f10797f74061878df', 'message': ""Compare Rally tests results before/after patching\n\nIf Rally tests are specified in 'erratum.yaml' for\nbug, then run benchmarks before and after patching\nand compare results.\n\nChange-Id: I43b1f4ee06e07143f5f12307bc3cba4147577ef3\nImplements: blueprint mos-patching-tests\n""}, {'number': 3, 'created': '2015-06-30 09:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/4be758f10cc7da86e4cfadeeb62f855b5bb1dc99', 'message': ""Compare Rally tests results before/after patching\n\nIf Rally tests are specified in 'erratum.yaml' for\nbug, then run benchmarks before and after patching\nand compare results.\n\nChange-Id: I43b1f4ee06e07143f5f12307bc3cba4147577ef3\nImplements: blueprint mos-patching-tests\n""}, {'number': 4, 'created': '2015-06-30 09:27:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/0e13e0de1e829ba49e6053e44073227bd4d3f027', 'message': ""Compare Rally tests results before/after patching\n\nIf Rally tests are specified in 'erratum.yaml' for\nbug, then run benchmarks before and after patching\nand compare results.\n\nChange-Id: I43b1f4ee06e07143f5f12307bc3cba4147577ef3\nImplements: blueprint mos-patching-tests\n""}, {'number': 5, 'created': '2015-06-30 13:04:23.000000000', 'files': ['fuelweb_test/tests/tests_patching/test_patching.py', 'fuelweb_test/helpers/patching.py', 'fuelweb_test/settings.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/963a65bf3bc8785e7778c8ec884dc1623e37f7c3', 'message': ""Compare Rally tests results before/after patching\n\nIf Rally tests are specified in 'erratum.yaml' for\nbug, then run benchmarks before and after patching\nand compare results.\n\nChange-Id: I43b1f4ee06e07143f5f12307bc3cba4147577ef3\nImplements: blueprint mos-patching-tests\n""}]",0,182847,963a65bf3bc8785e7778c8ec884dc1623e37f7c3,37,12,5,11081,,,0,"Compare Rally tests results before/after patching

If Rally tests are specified in 'erratum.yaml' for
bug, then run benchmarks before and after patching
and compare results.

Change-Id: I43b1f4ee06e07143f5f12307bc3cba4147577ef3
Implements: blueprint mos-patching-tests
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/47/182847/5 && git format-patch -1 --stdout FETCH_HEAD,"['fuelweb_test/tests/tests_patching/test_patching.py', 'fuelweb_test/helpers/patching.py', 'fuelweb_test/settings.py']",3,e77ae45d55ca1d308a2beb5bb5aaadd190707f79,bp/mos-patching-tests,"PATCHING_RUN_RALLY = os.environ.get(""PATCHING_RUN_RALLY"", 'false') == 'true'RALLY_TAGS = os.environ.get('RALLY_TAGS', 'nova').split(',')",,39,5
openstack%2Fdevstack~master~Ifc40b1eb5c4b79d96a5fae919b88afecca642ca0,openstack/devstack,master,Ifc40b1eb5c4b79d96a5fae919b88afecca642ca0,Allow installing tempest only with keystone,MERGED,2014-08-19 14:50:00.000000000,2015-07-01 08:14:48.000000000,2014-11-14 03:17:19.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5803}, {'_account_id': 6683}, {'_account_id': 7118}, {'_account_id': 8871}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-08-19 14:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b58286fde543420f01c685e834ca9a9ab1d5557d', 'message': 'Allow installing tempest only with keystone\n\nModify the lib/tempest to not fail\n if no nova or glance available.\n\nChange-Id: Ifc40b1eb5c4b79d96a5fae919b88afecca642ca0\n'}, {'number': 2, 'created': '2014-08-22 08:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ce008c7c3924abe006f01d122e6064134d619765', 'message': 'Allow installing tempest only with keystone\n\nModify the lib/tempest to not fail\n if no nova or glance available.\n\nChange-Id: Ifc40b1eb5c4b79d96a5fae919b88afecca642ca0\n'}, {'number': 3, 'created': '2014-08-25 14:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/02f4acd515bc2f040e0e9afb37e3c01d9d07864a', 'message': 'Allow installing tempest only with keystone\n\nModify the lib/tempest to not fail\n if no nova or glance available.\n\n* This allows performance test of keystone and neutron with\n  tempest (or tempest stress runner) without having system\n  noise from another components.\n* Depending on not required components for tempest is bad practice,\n  tempest service decorators expected to allow tempest,\n  to run in more minimal system out-of-the-box.\n\nChange-Id: Ifc40b1eb5c4b79d96a5fae919b88afecca642ca0'}, {'number': 4, 'created': '2014-08-26 15:18:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/577c49a3bd6242621b838cba1fc25add1fae8375', 'message': 'Allow installing tempest only with keystone\n\nModify the lib/tempest to not fail\n if no nova or glance available.\n\n* This allows performance test of keystone and neutron with\n  tempest (or tempest stress runner) without having system\n  noise from another components.\n* Depending on not required components for tempest is bad practice,\n  tempest service decorators expected to allow tempest,\n  to run in more minimal system out-of-the-box.\n\nChange-Id: Ifc40b1eb5c4b79d96a5fae919b88afecca642ca0\n'}, {'number': 5, 'created': '2014-11-10 10:51:17.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/c411fcfc9224894db55d82b8ce4fa4a2b68de89d', 'message': 'Allow installing tempest only with keystone\n\nModify the lib/tempest to not fail\n if no nova or glance available.\n\n* This allows performance test of keystone and neutron with\n  tempest (or tempest stress runner) without having system\n  noise from another components.\n* Depending on not required components for tempest is bad practice,\n  tempest service decorators expected to allow tempest,\n  to run in more minimal system out-of-the-box.\n\nChange-Id: Ifc40b1eb5c4b79d96a5fae919b88afecca642ca0\n'}]",1,115307,c411fcfc9224894db55d82b8ce4fa4a2b68de89d,42,7,5,5803,,,0,"Allow installing tempest only with keystone

Modify the lib/tempest to not fail
 if no nova or glance available.

* This allows performance test of keystone and neutron with
  tempest (or tempest stress runner) without having system
  noise from another components.
* Depending on not required components for tempest is bad practice,
  tempest service decorators expected to allow tempest,
  to run in more minimal system out-of-the-box.

Change-Id: Ifc40b1eb5c4b79d96a5fae919b88afecca642ca0
",git fetch https://review.opendev.org/openstack/devstack refs/changes/07/115307/3 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,b58286fde543420f01c685e834ca9a9ab1d5557d,tmp-key," if is_service_enabled glance; then while read -r IMAGE_NAME IMAGE_UUID; do if [ ""$IMAGE_NAME"" = ""$DEFAULT_IMAGE_NAME"" ]; then image_uuid=""$IMAGE_UUID"" image_uuid_alt=""$IMAGE_UUID"" images+=($IMAGE_UUID) done < <(glance image-list --status=active | awk -F'|' '!/^(+--)|ID|aki|ari/ { print $3,$2 }') case ""${#images[*]}"" in 0) echo ""Found no valid images to use!"" exit 1 ;; 1) if [ -z ""$image_uuid"" ]; then image_uuid=${images[0]} image_uuid_alt=${images[0]} fi ;; *) if [ -z ""$image_uuid"" ]; then image_uuid=${images[0]} image_uuid_alt=${images[1]} fi ;; esac fi if is_service_enabled glance; then # If the ``DEFAULT_INSTANCE_TYPE`` not declared, use the new behavior # Tempest creates instane types for himself if [[ -z ""$DEFAULT_INSTANCE_TYPE"" ]]; then available_flavors=$(nova flavor-list) if [[ ! ( $available_flavors =~ 'm1.nano' ) ]]; then if is_arch ""ppc64""; then # qemu needs at least 128MB of memory to boot on ppc64 nova flavor-create m1.nano 42 128 0 1 else nova flavor-create m1.nano 42 64 0 1 fi flavor_ref=42 boto_instance_type=m1.nano if [[ ! ( $available_flavors =~ 'm1.micro' ) ]]; then if is_arch ""ppc64""; then nova flavor-create m1.micro 84 256 0 1 else nova flavor-create m1.micro 84 128 0 1 fi flavor_ref_alt=84 else # Check Nova for existing flavors and, if set, look for the # ``DEFAULT_INSTANCE_TYPE`` and use that. boto_instance_type=$DEFAULT_INSTANCE_TYPE flavor_lines=`nova flavor-list` IFS=$'\r\n' flavors="""" for line in $flavor_lines; do f=$(echo $line | awk ""/ $DEFAULT_INSTANCE_TYPE / { print \$2 }"") flavors=""$flavors $f"" done for line in $flavor_lines; do flavors=""$flavors `echo $line | grep -v ""^\(|\s*ID\|+--\)"" | cut -d' ' -f2`"" done IFS="" "" flavors=($flavors) num_flavors=${#flavors[*]} echo ""Found $num_flavors flavors"" if [[ $num_flavors -eq 0 ]]; then echo ""Found no valid flavors to use!"" exit 1 flavor_ref=${flavors[0]} flavor_ref_alt=$flavor_ref # ensure flavor_ref and flavor_ref_alt have different values # some resize instance in tempest tests depends on this. for f in ${flavors[@]:1}; do if [[ $f -ne $flavor_ref ]]; then flavor_ref_alt=$f break fi done fi if is_service_enabled nova; then # if the cirros uec downloaded and the system is uec capable if [ -f ""$kernel"" -a -f ""$ramdisk"" -a -f ""$disk_image"" -a ""$VIRT_DRIVER"" != ""openvz"" \ -a \( ""$LIBVIRT_TYPE"" != ""lxc"" -o ""$VIRT_DRIVER"" != ""libvirt"" \) ]; then echo ""Prepare aki/ari/ami Images"" ( #new namespace # tenant:demo ; user: demo source $TOP_DIR/accrc/demo/demo euca-bundle-image -r ${CIRROS_ARCH} -i ""$kernel"" --kernel true -d ""$BOTO_MATERIALS_PATH"" euca-bundle-image -r ${CIRROS_ARCH} -i ""$ramdisk"" --ramdisk true -d ""$BOTO_MATERIALS_PATH"" euca-bundle-image -r ${CIRROS_ARCH} -i ""$disk_image"" -d ""$BOTO_MATERIALS_PATH"" ) 2>&1 </dev/null | cat else echo ""Boto materials are not prepared"" fi"," while read -r IMAGE_NAME IMAGE_UUID; do if [ ""$IMAGE_NAME"" = ""$DEFAULT_IMAGE_NAME"" ]; then image_uuid=""$IMAGE_UUID"" image_uuid_alt=""$IMAGE_UUID"" fi images+=($IMAGE_UUID) done < <(glance image-list --status=active | awk -F'|' '!/^(+--)|ID|aki|ari/ { print $3,$2 }') case ""${#images[*]}"" in 0) echo ""Found no valid images to use!"" exit 1 ;; 1) if [ -z ""$image_uuid"" ]; then image_uuid=${images[0]} image_uuid_alt=${images[0]} ;; *) if [ -z ""$image_uuid"" ]; then image_uuid=${images[0]} image_uuid_alt=${images[1]} fi ;; esac # If the ``DEFAULT_INSTANCE_TYPE`` not declared, use the new behavior # Tempest creates instane types for himself if [[ -z ""$DEFAULT_INSTANCE_TYPE"" ]]; then available_flavors=$(nova flavor-list) if [[ ! ( $available_flavors =~ 'm1.nano' ) ]]; then if is_arch ""ppc64""; then # qemu needs at least 128MB of memory to boot on ppc64 nova flavor-create m1.nano 42 128 0 1 else nova flavor-create m1.nano 42 64 0 1 fi flavor_ref=42 boto_instance_type=m1.nano if [[ ! ( $available_flavors =~ 'm1.micro' ) ]]; then if is_arch ""ppc64""; then nova flavor-create m1.micro 84 256 0 1 else nova flavor-create m1.micro 84 128 0 1 fi flavor_ref_alt=84 else # Check Nova for existing flavors and, if set, look for the # ``DEFAULT_INSTANCE_TYPE`` and use that. boto_instance_type=$DEFAULT_INSTANCE_TYPE flavor_lines=`nova flavor-list` IFS=$'\r\n' flavors="""" for line in $flavor_lines; do f=$(echo $line | awk ""/ $DEFAULT_INSTANCE_TYPE / { print \$2 }"") flavors=""$flavors $f"" done for line in $flavor_lines; do flavors=""$flavors `echo $line | grep -v ""^\(|\s*ID\|+--\)"" | cut -d' ' -f2`"" done IFS="" "" flavors=($flavors) num_flavors=${#flavors[*]} echo ""Found $num_flavors flavors"" if [[ $num_flavors -eq 0 ]]; then echo ""Found no valid flavors to use!"" exit 1 fi flavor_ref=${flavors[0]} flavor_ref_alt=$flavor_ref # ensure flavor_ref and flavor_ref_alt have different values # some resize instance in tempest tests depends on this. for f in ${flavors[@]:1}; do if [[ $f -ne $flavor_ref ]]; then flavor_ref_alt=$f break done # if the cirros uec downloaded and the system is uec capable if [ -f ""$kernel"" -a -f ""$ramdisk"" -a -f ""$disk_image"" -a ""$VIRT_DRIVER"" != ""openvz"" \ -a \( ""$LIBVIRT_TYPE"" != ""lxc"" -o ""$VIRT_DRIVER"" != ""libvirt"" \) ]; then echo ""Prepare aki/ari/ami Images"" ( #new namespace # tenant:demo ; user: demo source $TOP_DIR/accrc/demo/demo euca-bundle-image -r ${CIRROS_ARCH} -i ""$kernel"" --kernel true -d ""$BOTO_MATERIALS_PATH"" euca-bundle-image -r ${CIRROS_ARCH} -i ""$ramdisk"" --ramdisk true -d ""$BOTO_MATERIALS_PATH"" euca-bundle-image -r ${CIRROS_ARCH} -i ""$disk_image"" -d ""$BOTO_MATERIALS_PATH"" ) 2>&1 </dev/null | cat else echo ""Boto materials are not prepared""",96,91
openstack%2Ffuel-qa~master~I2ab7a0b13eecf4ddef3b14cea46b785bcabca5a1,openstack/fuel-qa,master,I2ab7a0b13eecf4ddef3b14cea46b785bcabca5a1,Add Rally benchmark tool to the system tests,MERGED,2015-05-13 08:58:51.000000000,2015-07-01 08:14:40.000000000,2015-07-01 08:14:39.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 10136}, {'_account_id': 11081}, {'_account_id': 11969}, {'_account_id': 12867}, {'_account_id': 14057}, {'_account_id': 14708}, {'_account_id': 15943}, {'_account_id': 15984}, {'_account_id': 16106}]","[{'number': 1, 'created': '2015-05-13 08:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/3db0c36dee70dc6ab5c10da5f8a7f4ae7dc68e63', 'message': '[WIP] Add rally to system tests\n\nCloses-bug: #1269862\n\nChange-Id: I2ab7a0b13eecf4ddef3b14cea46b785bcabca5a1\n'}, {'number': 2, 'created': '2015-05-13 18:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/1c013f60fdb287a0dff34b7c593cb468cde0c07c', 'message': 'Add Rally benchmark tool to the system tests\n\nAdd possibility to use Rally tool during system tests:\n - allow installation of Rally on master node in\n   Docker container;\n - creation of Rally Deployments and Tasks from system\n   tests;\n - running Rally benchmark tests against environments\n   deployed by system tests;\n - fetching and comparing benchmarks results.\n\nCloses-bug: #1269862\n\nChange-Id: I2ab7a0b13eecf4ddef3b14cea46b785bcabca5a1\n'}, {'number': 3, 'created': '2015-05-14 10:10:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/f2c9a34f71ce1d3a4df120c2139114720c3ab00c', 'message': 'Add Rally benchmark tool to the system tests\n\nAdd possibility to use Rally tool during system tests:\n - allow installation of Rally on master node in\n   Docker container;\n - creation of Rally Deployments and Tasks from system\n   tests;\n - running Rally benchmark tests against environments\n   deployed by system tests;\n - fetching and comparing benchmarks results.\n\nCloses-bug: #1269862\n\nChange-Id: I2ab7a0b13eecf4ddef3b14cea46b785bcabca5a1\n'}, {'number': 4, 'created': '2015-05-14 11:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/371048c0cdac8ac08acd8983a932edf9e43efc37', 'message': 'Add Rally benchmark tool to the system tests\n\nAdd possibility to use Rally tool during system tests:\n - allow installation of Rally on master node in\n   Docker container;\n - creation of Rally Deployments and Tasks from system\n   tests;\n - running Rally benchmark tests against environments\n   deployed by system tests;\n - fetching and comparing benchmarks results.\n\nCloses-bug: #1269862\n\nChange-Id: I2ab7a0b13eecf4ddef3b14cea46b785bcabca5a1\n'}, {'number': 5, 'created': '2015-06-26 13:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/a433ed1cb5d69ff6e1e7efc749ce00d5210863b2', 'message': 'Add Rally benchmark tool to the system tests\n\nAdd possibility to use Rally tool during system tests:\n - allow installation of Rally on master node in\n   Docker container;\n - creation of Rally Deployments and Tasks from system\n   tests;\n - running Rally benchmark tests against environments\n   deployed by system tests;\n - fetching and comparing benchmarks results.\n\nCloses-bug: #1269862\n\nChange-Id: I2ab7a0b13eecf4ddef3b14cea46b785bcabca5a1\n'}, {'number': 6, 'created': '2015-06-30 13:04:23.000000000', 'files': ['fuelweb_test/models/fuel_web_client.py', 'fuelweb_test/rally/screnarios/scenarios.yaml', 'fuelweb_test/rally/screnarios/nova.json', 'fuelweb_test/settings.py', 'fuelweb_test/helpers/rally.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/2100390eac4fb11ed283ca959d07c46153468d45', 'message': 'Add Rally benchmark tool to the system tests\n\nAdd possibility to use Rally tool during system tests:\n - allow installation of Rally on master node in\n   Docker container;\n - creation of Rally Deployments and Tasks from system\n   tests;\n - running Rally benchmark tests against environments\n   deployed by system tests;\n - fetching and comparing benchmarks results.\n\nCloses-bug: #1269862\n\nChange-Id: I2ab7a0b13eecf4ddef3b14cea46b785bcabca5a1\n'}]",6,182577,2100390eac4fb11ed283ca959d07c46153468d45,46,13,6,11081,,,0,"Add Rally benchmark tool to the system tests

Add possibility to use Rally tool during system tests:
 - allow installation of Rally on master node in
   Docker container;
 - creation of Rally Deployments and Tasks from system
   tests;
 - running Rally benchmark tests against environments
   deployed by system tests;
 - fetching and comparing benchmarks results.

Closes-bug: #1269862

Change-Id: I2ab7a0b13eecf4ddef3b14cea46b785bcabca5a1
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/77/182577/3 && git format-patch -1 --stdout FETCH_HEAD,"['fuelweb_test/models/fuel_web_client.py', 'fuelweb_test/tests/tests_patching/test_patching.py', 'fuelweb_test/rally/screnarios/nova.json', 'fuelweb_test/settings.py', 'fuelweb_test/helpers/rally.py']",5,3db0c36dee70dc6ab5c10da5f8a7f4ae7dc68e63,bp/mos-patching-tests,"# Copyright 2015 Mirantis, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import os from proboscis.asserts import assert_equal from proboscis.asserts import assert_true from fuelweb_test import logger class RallyEngine(object): def __init__(self, admin_remote, container_name, container_repo, proxy_ip=None, user_id=0, dir_for_home='/var/rally_home', home_bind_path='/home/rally'): self.admin_remote = admin_remote self.container_name = container_name self.container_repo = container_repo self.proxy_ip = proxy_ip or """" self.user_id = user_id self.dir_for_home = dir_for_home self.home_bind_path = home_bind_path self.setup() @property def is_image_exist(self): cmd = ""docker images | awk 'NR > 1{print $1}'"" logger.debug('Checking Docker images...') result = self.admin_remote.execute(cmd) logger.debug(result) existing_images = [line.strip() for line in result['stdout']] return self.container_repo in existing_images @property def is_container_exist(self): return self.check_container(check_running=False) @property def is_container_running(self): return self.check_container(check_running=True) def check_container(self, check_running): if check_running: cmd = ""docker ps | awk 'NR > 1{print $NF}'"" else: cmd = ""docker ps -a | awk 'NR > 1{print $NF}'"" result = self.admin_remote.execute(cmd) existing_containers = [line.strip() for line in result['stdout']] return self.container_name in existing_containers def pull_image(self): cmd = 'docker pull {0}'.format(self.container_repo) logger.debug('Downloading Rally repository/image from registry...') result = self.admin_remote.execute(cmd) logger.debug(result) return self.is_image_exist def create_container(self): assert_true(self.is_image_exist, ""Container creation (Rally) failed: images doesn't exist."") cmd = ('docker create --user {user_id} --net=""host"" --name ' '""{container_name}"" -e ""http_proxy={proxy_ip}"" -t -i -v ' '{dir_for_home}:{home_bind_path} {container_repo} /bin/bash -c ' '\'rally-manage db recreate; sleep infinity;\'').format( user_id=self.user_id, container_name=self.container_name, container_repo=self.container_repo, proxy_ip=self.proxy_ip, dir_for_home=self.dir_for_home, home_bind_path=self.home_bind_path) logger.debug('Creating Docker container for Rally...') result = self.admin_remote.execute(cmd) logger.debug(result) return self.is_container_exist def start_container(self): assert_true(self.is_container_exist, ""Container start (Rally) failed: container doesn't exist."") cmd = 'docker start {0}'.format(self.container_name) logger.debug('Starting Docker container with Rally...') result = self.admin_remote.execute(cmd) logger.debug(result) if self.is_container_running: self.setup_utils() return True return False def run_container_command(self, command): command = str(command).replace(r""'"", r""'\''"") assert_true(self.is_container_running, ""Command execution failed: Rally container isn't running."") cmd = ""docker exec {container_name} /bin/bash -c '{command}'"".format( container_name=self.container_name, command=command) logger.debug('Executing command ""{0}"" in Rally container {1}..'.format( cmd, self.container_name)) return self.admin_remote.execute(cmd) def setup_utils(self): utils = ['gawk', 'vim', 'curl'] cmd = ('unset http_proxy; apt-get update; ' 'apt-get install -y {0}'.format(' '.join(utils))) logger.debug('Installing utils ""{0}"" to the Rally container...'.format( utils)) result = self.run_container_command(cmd) assert_equal(result['exit_code'], 0, 'Utils installation failed in Rally container: ' '{0}'.format(result)) def setup(self): if not self.is_image_exist: self.pull_image() if not self.is_container_exist: self.create_container() if not self.is_container_running: self.start_container() return self.is_container_running def list_deployments(self): cmd = (r""rally deployment list | awk -F "" r""'[[:space:]]*\\\\|[[:space:]]*' '/\ydeploy\y/{print $2}'"") result = self.run_container_command(cmd) logger.debug(result) return [line.strip() for line in result['stdout']] def show_deployment(self, deployment_uuid): cmd = (""rally deployment show {0} | awk -F "" ""'[[:space:]]*\\\\|[[:space:]]*' '/\w/{{print $2\"",\""$3\"",\""$4"" ""\"",\""$5\"",\""$6\"",\""$7\"",\""$8}}'"").format(deployment_uuid) result = self.run_container_command(cmd) assert_equal(len(result['stdout']), 2, ""Command 'rally deployment show' returned unexpected "" ""value: expected 2 lines, got {0}: "".format(result)) keys = [k for k in result['stdout'][0].strip().split(',') if k != ''] values = [v for v in result['stdout'][1].strip().split(',') if v != ''] return {keys[i]: values[i] for i in range(0, len(keys))} class RallyDeployment(object): def __init__(self, rally_engine, cluster_vip, username, password, tenant, key_port=5000, proxy_ip=''): self.rally_engine = rally_engine self.cluster_vip = cluster_vip self.username = username self.password = password self.tenant_name = tenant self.keystone_port = str(key_port) self.proxy_ip = proxy_ip self.set_proxy = not self.is_proxy_set self.uuid = None self.create_deployment() @property def is_proxy_set(self): cmd = '[ ""${{http_proxy}}"" == ""{0}"" ]'.format(self.proxy_ip) return self.rally_engine.run_container_command(cmd)['exit_code'] == 0 @property def is_deployment_exist(self): for d in self.rally_engine.list_deployments(): deployment = self.rally_engine.show_deployment(d) logger.debug(""Deployment info: {0}"".format(deployment)) if ':'.join([self.cluster_vip, self.keystone_port]) in \ deployment['auth_url'] and \ self.username == deployment['username'] and \ self.password == deployment['password'] and \ self.tenant_name == deployment['tenant_name']: return True return False def create_deployment(self): if self.is_deployment_exist: return cmd = ('export OS_USERNAME={0} OS_PASSWORD={1} ' 'OS_TENANT_NAME={2} OS_AUTH_URL=""http://{3}:{4}/""; ' 'rally deployment create --name ""{3}"" --fromenv').format( self.username, self.password, self.tenant_name, self.cluster_vip, self.keystone_port) result = self.rally_engine.run_container_command(cmd) assert_true(self.is_deployment_exist, 'Rally deployment creation failed: {0}'.format(result)) logger.debug(result) self.check_deployment() def check_deployment(self, deployment_uuid=''): cmd = 'rally deployment check {0}'.format(deployment_uuid) result = self.rally_engine.run_container_command(cmd) return result['exit_code'] == 0 class RallyBenchmarkTest(object): def __init__(self, name, container_repo, environment, cluster_id, test_type): self.admin_remote = environment.d_env.get_admin_remote() self.cluster_vip = environment.fuel_web.get_mgmt_vip(cluster_id) self.cluster_credentials = \ environment.fuel_web.get_cluster_credentials(cluster_id) self.proxy_ip = environment.fuel_web.get_alive_proxy(cluster_id) logger.info('Proxy IP is: {0}'.format(self.proxy_ip)) self.container_repo = container_repo self.container_name = 'rally-{0}'.format(name) self.test_type = test_type self.engine = RallyEngine( admin_remote=self.admin_remote, container_name=self.container_name, container_repo=self.container_repo, proxy_ip=self.proxy_ip, dir_for_home='/var/{0}/'.format(self.container_name) ) self.deployment = RallyDeployment( rally_engine=self.engine, cluster_vip=self.cluster_vip, username=self.cluster_credentials['username'], password=self.cluster_credentials['password'], tenant=self.cluster_credentials['tenant'], proxy_ip=self.proxy_ip ) def prepare_scenario(self): scenario_file = '{0}/fuelweb_test/rally/screnarios/{1}.json'.format( os.environ.get(""WORKSPACE"", ""./""), self.test_type) remote_path = '{0}/{1}.json'.format(self.engine.dir_for_home, self.test_type) self.admin_remote.upload(scenario_file, remote_path) result = self.admin_remote.execute('test -f {0}'.format(remote_path)) assert_equal(result['exit_code'], 0, ""Scenario upload filed: {0}"".format(result)) return '{0}.json'.format(self.test_type) def run(self): scenario = self.prepare_scenario() cmd = 'rally -v task start {0}'.format(scenario) result = self.engine.run_container_command(cmd) logger.debug('{0}'.format(result)) ",,318,3
openstack%2Fpython-neutron-pd-driver~master~I996e4cc01c8af4bd19246ba44f527c53157978a9,openstack/python-neutron-pd-driver,master,I996e4cc01c8af4bd19246ba44f527c53157978a9,Initial Cookiecutter Commit.,MERGED,2015-06-26 10:28:32.000000000,2015-07-01 08:14:34.000000000,2015-07-01 08:14:33.000000000,"[{'_account_id': 3}, {'_account_id': 6637}]","[{'number': 1, 'created': '2015-06-26 10:28:32.000000000', 'files': ['python_neutron_pd_driver/tests/base.py', 'doc/source/contributing.rst', '.gitignore', 'test-requirements.txt', 'python_neutron_pd_driver/__init__.py', 'README.rst', 'doc/source/usage.rst', 'setup.py', 'CONTRIBUTING.rst', 'requirements.txt', 'python_neutron_pd_driver/tests/__init__.py', 'openstack-common.conf', '.coveragerc', 'LICENSE', 'python_neutron_pd_driver/tests/test_python_neutron_pd_driver.py', 'babel.cfg', '.mailmap', 'doc/source/conf.py', 'MANIFEST.in', 'doc/source/installation.rst', 'doc/source/index.rst', '.testr.conf', 'doc/source/readme.rst', 'setup.cfg', 'tox.ini', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/python-neutron-pd-driver/commit/3e192155a7264eed9b17c6730a1ff50a27f0c9b6', 'message': 'Initial Cookiecutter Commit.\n\nChange-Id: I996e4cc01c8af4bd19246ba44f527c53157978a9\n'}]",0,195979,3e192155a7264eed9b17c6730a1ff50a27f0c9b6,6,2,1,6637,,,0,"Initial Cookiecutter Commit.

Change-Id: I996e4cc01c8af4bd19246ba44f527c53157978a9
",git fetch https://review.opendev.org/openstack/python-neutron-pd-driver refs/changes/79/195979/1 && git format-patch -1 --stdout FETCH_HEAD,"['python_neutron_pd_driver/tests/base.py', 'doc/source/contributing.rst', '.gitignore', 'test-requirements.txt', 'python_neutron_pd_driver/__init__.py', 'README.rst', 'doc/source/usage.rst', 'setup.py', 'CONTRIBUTING.rst', 'requirements.txt', 'python_neutron_pd_driver/tests/__init__.py', 'openstack-common.conf', '.coveragerc', 'LICENSE', 'python_neutron_pd_driver/tests/test_python_neutron_pd_driver.py', 'babel.cfg', '.mailmap', 'doc/source/conf.py', 'MANIFEST.in', 'doc/source/installation.rst', 'doc/source/index.rst', '.testr.conf', 'doc/source/readme.rst', 'setup.cfg', 'tox.ini', 'HACKING.rst']",26,3e192155a7264eed9b17c6730a1ff50a27f0c9b6,,python-neutron-pd-driver Style Commandments =============================================== Read the OpenStack Style Commandments http://docs.openstack.org/developer/hacking/ ,,625,0
openstack%2Fneutron~stable%2Fkilo~I684691d59c5ac370d74314c3c91857dc709b2d9b,openstack/neutron,stable/kilo,I684691d59c5ac370d74314c3c91857dc709b2d9b,Wrap ML2 delete_port with db retry decorator,MERGED,2015-06-22 14:50:29.000000000,2015-07-01 08:09:16.000000000,2015-07-01 08:09:13.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 6951}, {'_account_id': 7249}, {'_account_id': 7715}, {'_account_id': 7787}, {'_account_id': 8645}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10153}, {'_account_id': 10387}, {'_account_id': 14605}, {'_account_id': 15296}, {'_account_id': 15894}, {'_account_id': 17033}]","[{'number': 1, 'created': '2015-06-22 14:50:29.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/151b28cf1ce697f481d65b8d5bee1e3a4becbbc5', 'message': 'Wrap ML2 delete_port with db retry decorator\n\nML2 delete_port operation currently involves locking ports\nand bindings tables which may lead to DBDeadlock errors in certain\ncases when several ports are deleted concurrently.\nThat may happen due to specifics of Galera working in active-active\nmode: it may throw deadlock errors when it fails to validate\na change with other members of the cluster.\nThe fix adds retries to delete port operation to overcome such\ndeadlocks\n\nCloses-Bug: #1422504\nChange-Id: I684691d59c5ac370d74314c3c91857dc709b2d9b\n(cherry picked from commit 45ea2cf10033e12c63b8ce2cd78b04755d0aba64)\n'}]",0,194174,151b28cf1ce697f481d65b8d5bee1e3a4becbbc5,44,21,1,5948,,,0,"Wrap ML2 delete_port with db retry decorator

ML2 delete_port operation currently involves locking ports
and bindings tables which may lead to DBDeadlock errors in certain
cases when several ports are deleted concurrently.
That may happen due to specifics of Galera working in active-active
mode: it may throw deadlock errors when it fails to validate
a change with other members of the cluster.
The fix adds retries to delete port operation to overcome such
deadlocks

Closes-Bug: #1422504
Change-Id: I684691d59c5ac370d74314c3c91857dc709b2d9b
(cherry picked from commit 45ea2cf10033e12c63b8ce2cd78b04755d0aba64)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/74/194174/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/plugin.py']",2,151b28cf1ce697f481d65b8d5bee1e3a4becbbc5,," @oslo_db_api.wrap_db_retry(max_retries=db_api.MAX_RETRIES, retry_on_deadlock=True)",,17,0
openstack%2Ffuel-qa~stable%2F6.1~I7038ffa8d0c1c9f46e8eba434e2f9436dafe3c46,openstack/fuel-qa,stable/6.1,I7038ffa8d0c1c9f46e8eba434e2f9436dafe3c46,Check that verify scenario fails before patching,MERGED,2015-06-25 15:33:14.000000000,2015-07-01 08:04:26.000000000,2015-07-01 08:04:25.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 10136}, {'_account_id': 11081}, {'_account_id': 11969}, {'_account_id': 12867}, {'_account_id': 14057}, {'_account_id': 14708}, {'_account_id': 15943}, {'_account_id': 15984}, {'_account_id': 16106}]","[{'number': 1, 'created': '2015-06-25 15:33:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/41d27bdc47893933e4ab0a289bc934ce94822d81', 'message': 'Check that verify scenario fails before patching\n\nRun fix verification before applying patches for\nenvironment or master node and check that it failed\n(if some verification command or script returned\nnon-zero value then AssertionError exception is\nraised). Fail test if fix verification passed.\n\nChange-Id: I7038ffa8d0c1c9f46e8eba434e2f9436dafe3c46\nImplements: blueprint mos-patching-tests\n'}, {'number': 2, 'created': '2015-06-25 15:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/8bc8dc80a0f1ff31cd87788c90aed25fb47f016a', 'message': 'Check that verify scenario fails before patching\n\nRun fix verification before applying patches for\nenvironment or master node and check that it failed\n(if some verification command or script returned\nnon-zero value then AssertionError exception is\nraised). Fail test if fix verification passed.\n\nChange-Id: I7038ffa8d0c1c9f46e8eba434e2f9436dafe3c46\nImplements: blueprint mos-patching-tests\n'}, {'number': 3, 'created': '2015-06-26 14:07:13.000000000', 'files': ['fuelweb_test/tests/tests_patching/test_patching.py', 'fuelweb_test/helpers/patching.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/e389cd89bd4463ab7aa2bd9e5489513c37cc04de', 'message': 'Check that verify scenario fails before patching\n\nRun fix verification before applying patches for\nenvironment or master node and check that it failed\n(if some verification command or script returned\nnon-zero value then AssertionError exception is\nraised). Fail test if fix verification passed.\n\nChange-Id: I7038ffa8d0c1c9f46e8eba434e2f9436dafe3c46\nImplements: blueprint mos-patching-tests\n'}]",0,195638,e389cd89bd4463ab7aa2bd9e5489513c37cc04de,21,13,3,11081,,,0,"Check that verify scenario fails before patching

Run fix verification before applying patches for
environment or master node and check that it failed
(if some verification command or script returned
non-zero value then AssertionError exception is
raised). Fail test if fix verification passed.

Change-Id: I7038ffa8d0c1c9f46e8eba434e2f9436dafe3c46
Implements: blueprint mos-patching-tests
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/38/195638/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/tests_patching/test_patching.py'],1,41d27bdc47893933e4ab0a289bc934ce94822d81,," 5. Check that deployed environment is affected by the bug and verification scenario fails without applied patches 6. Perform actions required to apply patches 7. Verify that fix works 8. Run OSTF 9. Run Rally benchmark tests and compare results logger.info('Checking that environment is affected ' 'by bug #{0}...'.format(settings.PATCHING_BUG_ID)) is_environment_affected = False try: patching.verify_fix(self.env, target='environment', slaves=slaves) except AssertionError: is_environment_affected = True assert_true(is_environment_affected, 'Deployed environment for testing patches is not affected' 'by bug #{0} or provided verification scenario is not ' 'correct! Fix verification passed without applying ' 'patches!'.format(settings.PATCHING_BUG_ID)) # Step #6 # Step #7 # Step #8 # Step #9 2. Check that deployed environment is affected by the bug and verification scenario fails without applied patches 3. Perform actions required to apply patches 4. Verify that fix works 5. Run OSTF 6. Run network verification 7. Reset and delete cluster 8. Bootstrap 3 slaves logger.info('Checking that environment is affected ' 'by bug #{0}...'.format(settings.PATCHING_BUG_ID)) is_environment_affected = False try: patching.verify_fix(self.env, target='environment') except AssertionError: is_environment_affected = True assert_true(is_environment_affected, 'Deployed environment for testing patches is not affected ' 'by bug #{0} or provided verification scenario is ' 'incorrect! Fix verification passed without applying ' 'patches!'.format(settings.PATCHING_BUG_ID)) # Step #3 # Step #4 # Step #5", 5. Perform actions required to apply patches 6. Verify that fix works 7. Run OSTF 8. Run Rally benchmark tests and compare results # Step #6 # Step #7 # Step #8 2. Perform actions required to apply patches 3. Verify that fix works 4. Run OSTF 5. Run network verification 6. Reset and delete cluster 7. Bootstrap 3 slaves # Step #3 # Step #4,47,15
openstack%2Ffuel-qa~master~I7038ffa8d0c1c9f46e8eba434e2f9436dafe3c46,openstack/fuel-qa,master,I7038ffa8d0c1c9f46e8eba434e2f9436dafe3c46,Check that verify scenario fails before patching,MERGED,2015-06-25 15:32:41.000000000,2015-07-01 08:04:09.000000000,2015-07-01 08:04:08.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 9439}, {'_account_id': 10136}, {'_account_id': 11081}, {'_account_id': 11969}, {'_account_id': 12867}, {'_account_id': 14057}, {'_account_id': 14708}, {'_account_id': 15943}, {'_account_id': 15984}, {'_account_id': 16106}]","[{'number': 1, 'created': '2015-06-25 15:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/cc9cb053bbf2422dbdf277d32860318e4464aa0f', 'message': 'Check that verify scenario fails before patching\n\nRun fix verification before applying patches for\nenvironment or master node and check that it failed\n(if some verification command or script returned\nnon-zero value then AssertionError exception is\nraised). Fail test if fix verification passed.\n\nChange-Id: I7038ffa8d0c1c9f46e8eba434e2f9436dafe3c46\nImplements: blueprint mos-patching-tests\n'}, {'number': 2, 'created': '2015-06-25 15:38:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/8d34b71e0f27e254d575904ae0c20d2cfe1f3302', 'message': 'Check that verify scenario fails before patching\n\nRun fix verification before applying patches for\nenvironment or master node and check that it failed\n(if some verification command or script returned\nnon-zero value then AssertionError exception is\nraised). Fail test if fix verification passed.\n\nChange-Id: I7038ffa8d0c1c9f46e8eba434e2f9436dafe3c46\nImplements: blueprint mos-patching-tests\n'}, {'number': 3, 'created': '2015-06-26 14:06:38.000000000', 'files': ['fuelweb_test/tests/tests_patching/test_patching.py', 'fuelweb_test/helpers/patching.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/0614e28ea57095149861df7bd303e6390114f388', 'message': 'Check that verify scenario fails before patching\n\nRun fix verification before applying patches for\nenvironment or master node and check that it failed\n(if some verification command or script returned\nnon-zero value then AssertionError exception is\nraised). Fail test if fix verification passed.\n\nChange-Id: I7038ffa8d0c1c9f46e8eba434e2f9436dafe3c46\nImplements: blueprint mos-patching-tests\n'}]",0,195636,0614e28ea57095149861df7bd303e6390114f388,25,14,3,11081,,,0,"Check that verify scenario fails before patching

Run fix verification before applying patches for
environment or master node and check that it failed
(if some verification command or script returned
non-zero value then AssertionError exception is
raised). Fail test if fix verification passed.

Change-Id: I7038ffa8d0c1c9f46e8eba434e2f9436dafe3c46
Implements: blueprint mos-patching-tests
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/36/195636/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/tests_patching/test_patching.py'],1,cc9cb053bbf2422dbdf277d32860318e4464aa0f,bp/mos-patching-tests," 5. Check that deployed environment is affected by the bug and verification scenario fails without applied patches 6. Perform actions required to apply patches 7. Verify that fix works 8. Run OSTF 9. Run Rally benchmark tests and compare results logger.info('Checking that environment is affected ' 'by bug #{0}...'.format(settings.PATCHING_BUG_ID)) is_environment_affected = False try: patching.verify_fix(self.env, target='environment', slaves=slaves) except AssertionError: is_environment_affected = True assert_true(is_environment_affected, 'Deployed environment for testing patches is not affected' 'by bug #{0} or provided verification scenario is not ' 'correct! Fix verification passed without applying ' 'patches!'.format(settings.PATCHING_BUG_ID)) # Step #6 # Step #7 # Step #8 # Step #9 2. Check that deployed environment is affected by the bug and verification scenario fails without applied patches 3. Perform actions required to apply patches 4. Verify that fix works 5. Run OSTF 6. Run network verification 7. Reset and delete cluster 8. Bootstrap 3 slaves logger.info('Checking that environment is affected ' 'by bug #{0}...'.format(settings.PATCHING_BUG_ID)) is_environment_affected = False try: patching.verify_fix(self.env, target='environment') except AssertionError: is_environment_affected = True assert_true(is_environment_affected, 'Deployed environment for testing patches is not affected ' 'by bug #{0} or provided verification scenario is ' 'incorrect! Fix verification passed without applying ' 'patches!'.format(settings.PATCHING_BUG_ID)) # Step #3 # Step #4 # Step #5", 5. Perform actions required to apply patches 6. Verify that fix works 7. Run OSTF 8. Run Rally benchmark tests and compare results # Step #6 # Step #7 # Step #8 2. Perform actions required to apply patches 3. Verify that fix works 4. Run OSTF 5. Run network verification 6. Reset and delete cluster 7. Bootstrap 3 slaves # Step #3 # Step #4,47,15
openstack%2Fpuppet-neutron~master~I82382b9f9da7db6910a3d9b5c7060c3f03473585,openstack/puppet-neutron,master,I82382b9f9da7db6910a3d9b5c7060c3f03473585,Include tests that test the use of create.,MERGED,2015-06-22 11:55:10.000000000,2015-07-01 08:00:42.000000000,2015-07-01 08:00:41.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 7155}, {'_account_id': 7423}, {'_account_id': 8617}, {'_account_id': 16272}]","[{'number': 1, 'created': '2015-06-22 11:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/07076b6e49fefedc43e8152c00ad6e19e681daad', 'message': 'Fix support for puppet4\n\nmodel is no longer available and instead using model.catalog to\naccess catalog one has to use @resource.catalog.\n\nChange-Id: I82382b9f9da7db6910a3d9b5c7060c3f03473585\nClose-Bug: #1466555\n'}, {'number': 2, 'created': '2015-06-30 21:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/89af507fbf8b5cb6205416887c368b03feb2331f', 'message': '[WIP] Include tests that test the use of create.\n\n  This commit will add new tests for providers that have the create\n  method.  Includes a fix to the Puppet::Provider::Neutron_subnet which\n  was parsing host_routes backwards and replaces the use of the model\n  method with @resource.\n\nCo-Authored-By: Lukas Bezdicka <social@v3.sk>\nChange-Id: I82382b9f9da7db6910a3d9b5c7060c3f03473585\nClose-Bug: #1466555\n'}, {'number': 3, 'created': '2015-06-30 22:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/051c945a2d069d92a7102d424c983df355570d81', 'message': 'Include tests that test the use of create.\n\n  This commit will add new tests for neutron providers that have the\n  create method.  Includes a fix to the Puppet::Provider::Neutron_subnet\n  which was parsing host_routes backwards and replaces the use of the\n  model method with @resource.\n\n  Without this we are not successfully testing for methods removed in the\n  Puppet 3 to 4 transition.\n\nCo-Authored-By: Lukas Bezdicka <social@v3.sk>\nChange-Id: I82382b9f9da7db6910a3d9b5c7060c3f03473585\nClose-Bug: #1466555\n'}, {'number': 4, 'created': '2015-06-30 22:57:42.000000000', 'files': ['spec/unit/provider/neutron_subnet/neutron_spec.rb', 'lib/puppet/provider/neutron_router/neutron.rb', 'spec/unit/provider/neutron_network/neutron_spec.rb', 'spec/unit/provider/neutron_port/neutron_spec.rb', 'lib/puppet/provider/neutron_port/neutron.rb', 'lib/puppet/provider/neutron_network/neutron.rb', 'spec/unit/provider/neutron_router/neutron_spec.rb', 'spec/unit/provider/neutron_router_interface/new_neutron_spec.rb', 'lib/puppet/provider/neutron_subnet/neutron.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/32ca5213d5efe0042b9e7f7fe1f0b874a4107155', 'message': 'Include tests that test the use of create.\n\n  This commit will add new tests for neutron providers that have the\n  create method.  Includes a fix to the Puppet::Provider::Neutron_subnet\n  which was parsing host_routes backwards and replaces the use of the\n  model method with @resource.\n\n  Without this we are not successfully testing for methods removed in the\n  Puppet 3 to 4 transition.\n\nCo-Authored-By: Lukas Bezdicka <social@v3.sk>\nChange-Id: I82382b9f9da7db6910a3d9b5c7060c3f03473585\nClose-Bug: #1466555\n'}]",0,194097,32ca5213d5efe0042b9e7f7fe1f0b874a4107155,18,6,4,11166,,,0,"Include tests that test the use of create.

  This commit will add new tests for neutron providers that have the
  create method.  Includes a fix to the Puppet::Provider::Neutron_subnet
  which was parsing host_routes backwards and replaces the use of the
  model method with @resource.

  Without this we are not successfully testing for methods removed in the
  Puppet 3 to 4 transition.

Co-Authored-By: Lukas Bezdicka <social@v3.sk>
Change-Id: I82382b9f9da7db6910a3d9b5c7060c3f03473585
Close-Bug: #1466555
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/97/194097/4 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/neutron_router/neutron.rb', 'lib/puppet/provider/neutron_port/neutron.rb', 'lib/puppet/provider/neutron_network/neutron.rb', 'lib/puppet/provider/neutron_subnet/neutron.rb']",4,07076b6e49fefedc43e8152c00ad6e19e681daad,bug/1466555," tenant_id = self.class.get_tenant_id(@resource.catalog,"," tenant_id = self.class.get_tenant_id(model.catalog,",4,4
openstack%2Fironic-inspector~master~I97807099635be7d857695231aff0c68a52c015d2,openstack/ironic-inspector,master,I97807099635be7d857695231aff0c68a52c015d2,Remove cliff from requirements.txt,MERGED,2015-07-01 04:45:59.000000000,2015-07-01 07:58:37.000000000,2015-07-01 07:58:35.000000000,"[{'_account_id': 3}, {'_account_id': 10239}]","[{'number': 1, 'created': '2015-07-01 04:45:59.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/a19f1a3cb483ccb4340160dfee7499254957325c', 'message': 'Remove cliff from requirements.txt\n\nThis patch removes cliff from requirements.txt because it is not used now.\n\nChange-Id: I97807099635be7d857695231aff0c68a52c015d2\n'}]",0,197417,a19f1a3cb483ccb4340160dfee7499254957325c,6,2,1,7882,,,0,"Remove cliff from requirements.txt

This patch removes cliff from requirements.txt because it is not used now.

Change-Id: I97807099635be7d857695231aff0c68a52c015d2
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/17/197417/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,a19f1a3cb483ccb4340160dfee7499254957325c,remove_cliff,,cliff>=1.13.0 # Apache-2.0,0,1
openstack%2Fneutron~master~Ic37932c09d3b4c88363a7f1f38a687cd6e090c1f,openstack/neutron,master,Ic37932c09d3b4c88363a7f1f38a687cd6e090c1f,NSXv: update ini file to support dhcp_lease_time,MERGED,2015-05-28 09:19:41.000000000,2015-07-01 07:57:34.000000000,2015-07-01 07:17:54.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1561}, {'_account_id': 1653}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 7448}, {'_account_id': 7715}, {'_account_id': 7787}, {'_account_id': 8645}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9751}, {'_account_id': 9787}, {'_account_id': 9820}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10980}, {'_account_id': 11343}, {'_account_id': 13438}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14214}, {'_account_id': 14215}, {'_account_id': 14216}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 15296}, {'_account_id': 15752}]","[{'number': 1, 'created': '2015-05-28 09:19:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7583b825145889dbf7043d5e1bc2e2c43acf0102', 'message': 'NSXv: update ini file to support dhcp_lease_time\n\nAdd the variable to enable the admin to set the DHCP lease time.\n\nThis was added in commit 7681e4c50afda18fd75fe7207352d1a26ee0755b\n\nDocImpact\n\nChange-Id: Ic37932c09d3b4c88363a7f1f38a687cd6e090c1f\n'}, {'number': 2, 'created': '2015-06-04 14:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f06fc3c6f458d024ef494b4fd7ddb71b3487b447', 'message': 'NSXv: update ini file to support dhcp_lease_time\n\nAdd the variable to enable the admin to set the DHCP lease time.\n\nThis was added in commit 7681e4c50afda18fd75fe7207352d1a26ee0755b\n\nDocImpact\n\nChange-Id: Ic37932c09d3b4c88363a7f1f38a687cd6e090c1f\n'}, {'number': 3, 'created': '2015-06-23 08:35:39.000000000', 'files': ['etc/neutron/plugins/vmware/nsx.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0eb44ca1f23ee4d031ddf2e03a1ebc6a16428d3f', 'message': 'NSXv: update ini file to support dhcp_lease_time\n\nAdd the variable to enable the admin to set the DHCP lease time.\n\nThis was added in commit 7681e4c50afda18fd75fe7207352d1a26ee0755b\n\nDocImpact\n\nChange-Id: Ic37932c09d3b4c88363a7f1f38a687cd6e090c1f\n'}]",6,186328,0eb44ca1f23ee4d031ddf2e03a1ebc6a16428d3f,86,37,3,1653,,,0,"NSXv: update ini file to support dhcp_lease_time

Add the variable to enable the admin to set the DHCP lease time.

This was added in commit 7681e4c50afda18fd75fe7207352d1a26ee0755b

DocImpact

Change-Id: Ic37932c09d3b4c88363a7f1f38a687cd6e090c1f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/28/186328/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/neutron/plugins/vmware/nsx.ini'],1,7583b825145889dbf7043d5e1bc2e2c43acf0102,nsxini,# DHCP lease time # dhcp_lease_time = 86400 ,,3,0
openstack%2Fnetworking-bgpvpn~master~I9444295775dbd668052414cba11cdfad890dd412,openstack/networking-bgpvpn,master,I9444295775dbd668052414cba11cdfad890dd412,Support route_distinguishers operation.,MERGED,2015-06-25 10:37:00.000000000,2015-07-01 07:42:15.000000000,2015-07-01 07:42:13.000000000,"[{'_account_id': 3}, {'_account_id': 2888}, {'_account_id': 12021}, {'_account_id': 14121}, {'_account_id': 14605}, {'_account_id': 16707}, {'_account_id': 16788}]","[{'number': 1, 'created': '2015-06-25 10:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/9b9cd251106b8cf5b98d273399611b6464f43252', 'message': 'upport route_distinguishers operation\n\nThis patch adds the support for route_distinguishers operation.\n\nChange-Id: I9444295775dbd668052414cba11cdfad890dd412\n'}, {'number': 2, 'created': '2015-07-01 05:56:48.000000000', 'files': ['networking_bgpvpn/neutronclient/neutron/v2_0/bgpvpn/bgpvpn_connection.py'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/0fb99db97dd1e9f81d32622bc6e52e12a909513e', 'message': 'Support route_distinguishers operation.\n\nThis patch adds the support for route_distinguishers operation.\n\nChange-Id: I9444295775dbd668052414cba11cdfad890dd412\n'}]",7,195505,0fb99db97dd1e9f81d32622bc6e52e12a909513e,13,7,2,16788,,,0,"Support route_distinguishers operation.

This patch adds the support for route_distinguishers operation.

Change-Id: I9444295775dbd668052414cba11cdfad890dd412
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/05/195505/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_bgpvpn/neutronclient/neutron/v2_0/bgpvpn/bgpvpn_connection.py'],1,9b9cd251106b8cf5b98d273399611b6464f43252,networking-bgpvpn," '--route-distinguishers', help=_('List of RDs will be used to advertize VPN routes. ' 'Usage: -- --route-distinguishers list=true ' '<asn1>:<nn1> <asn2>:<nn2> ...')) parser.add_argument( 'route_distinguishers', 'auto_aggregate']) 'export_targets', 'route_distinguishers', 'network_id', 'auto_aggregate', 'tenant_id']"," 'auto_aggregate']) 'export_targets', 'network_id', 'auto_aggregate', 'tenant_id']",8,2
openstack%2Fdjango_openstack_auth~master~If05996cf73fbedc572759ee636d3d73df757fc22,openstack/django_openstack_auth,master,If05996cf73fbedc572759ee636d3d73df757fc22,Imported Translations from Transifex,MERGED,2015-07-01 06:05:26.000000000,2015-07-01 07:41:05.000000000,2015-07-01 07:41:04.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 6610}]","[{'number': 1, 'created': '2015-07-01 06:05:26.000000000', 'files': ['openstack_auth/locale/cs/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/django_openstack_auth/commit/20347554913fff786ea604263484ef6bdb0b24ad', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: If05996cf73fbedc572759ee636d3d73df757fc22\n'}]",0,197430,20347554913fff786ea604263484ef6bdb0b24ad,7,3,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: If05996cf73fbedc572759ee636d3d73df757fc22
",git fetch https://review.opendev.org/openstack/django_openstack_auth refs/changes/30/197430/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_auth/locale/cs/LC_MESSAGES/django.po'],1,20347554913fff786ea604263484ef6bdb0b24ad,transifex/translations,"""POT-Creation-Date: 2015-07-01 06:05+0000\n"" ""PO-Revision-Date: 2015-06-30 10:50+0000\n""msgid """" ""No authentication backend could be determined to handle the provided "" ""credentials."" msgstr """" ""Nebylo určeno žádné ověřovací podpůrná vrstva ke zpracování zadaných "" ""přihlašovacích údajů."" ","""POT-Creation-Date: 2015-06-22 06:08+0000\n"" ""PO-Revision-Date: 2015-06-18 10:04+0000\n""",9,2
openstack%2Ftrove-integration~master~Iec015b75d6f06787043bae63f170bb45cef1158b,openstack/trove-integration,master,Iec015b75d6f06787043bae63f170bb45cef1158b,PostgreSQL elements for Fedora,MERGED,2015-06-05 20:22:26.000000000,2015-07-01 07:39:44.000000000,2015-07-01 07:39:42.000000000,"[{'_account_id': 3}, {'_account_id': 5293}, {'_account_id': 7806}, {'_account_id': 9664}, {'_account_id': 10215}, {'_account_id': 10440}, {'_account_id': 14576}, {'_account_id': 14912}]","[{'number': 1, 'created': '2015-06-05 20:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-integration/commit/de53b473eea61a28364738c476b0efe8686e966a', 'message': 'PostgreSQL elements for Fedora\n\nIn order to test the trove guest for postgresql on redhat\nplatforms, we need working elements.\n\nTo kick start a postgresql image on fedora, only need to\nprovide the following env variables:\n\nexport PACKAGES=""curl""\nexport DISTRO=fedora\nexport GUEST_USERNAME=fedora\n\nthen run\n\n./redstack kick-start postgresql\n\nNumerous difficulties with six package provided by yum\nand pip had to be worked around in the fedora-guest\nelements.\n\nTested against Fedora 21.\n\nChange-Id: Iec015b75d6f06787043bae63f170bb45cef1158b\nPartial-Bug: #1442387\n'}, {'number': 2, 'created': '2015-06-18 14:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-integration/commit/e65a989b271da9dd591f344618e2093cbf283617', 'message': 'PostgreSQL elements for Fedora\n\nIn order to test the trove guest for postgresql on redhat\nplatforms, we need working elements.\n\nTo kick start a postgresql image on fedora, only need to\nprovide the following env variables:\n\nexport PACKAGES=""curl""\nexport DISTRO=fedora\nexport GUEST_USERNAME=fedora\n\nthen run\n\n./redstack kick-start postgresql\n\nNumerous difficulties with six package provided by yum\nand pip had to be worked around in the fedora-guest\nelements.\n\nTested against Fedora 21.\n\nChange-Id: Iec015b75d6f06787043bae63f170bb45cef1158b\nPartial-Bug: #1442387\n'}, {'number': 3, 'created': '2015-06-24 19:12:02.000000000', 'files': ['scripts/files/elements/fedora-guest/install.d/15-reddwarf-dep', 'scripts/files/elements/fedora-guest/install.d/20-etc', 'scripts/files/trove-guest.systemd.conf', 'scripts/files/requirements/fedora-requirements.txt', 'scripts/files/elements/fedora-postgresql/install.d/10-postgresql'], 'web_link': 'https://opendev.org/openstack/trove-integration/commit/22bf47c063b9d28b88320a6ba70f979ab463b8d0', 'message': 'PostgreSQL elements for Fedora\n\nIn order to test the trove guest for postgresql on redhat\nplatforms, we need working elements.\n\nTo kick start a postgresql image on fedora, only need to\nprovide the following env variables:\n\nexport PACKAGES=""curl""\nexport DISTRO=fedora\nexport GUEST_USERNAME=fedora\n\nthen run\n\n./redstack kick-start postgresql\n\nNumerous difficulties with six package provided by yum\nand pip had to be worked around in the fedora-guest\nelements.\n\nTested against Fedora 21.\n\nChange-Id: Iec015b75d6f06787043bae63f170bb45cef1158b\nPartial-Bug: #1442387\n'}]",2,188910,22bf47c063b9d28b88320a6ba70f979ab463b8d0,22,8,3,10440,,,0,"PostgreSQL elements for Fedora

In order to test the trove guest for postgresql on redhat
platforms, we need working elements.

To kick start a postgresql image on fedora, only need to
provide the following env variables:

export PACKAGES=""curl""
export DISTRO=fedora
export GUEST_USERNAME=fedora

then run

./redstack kick-start postgresql

Numerous difficulties with six package provided by yum
and pip had to be worked around in the fedora-guest
elements.

Tested against Fedora 21.

Change-Id: Iec015b75d6f06787043bae63f170bb45cef1158b
Partial-Bug: #1442387
",git fetch https://review.opendev.org/openstack/trove-integration refs/changes/10/188910/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/files/elements/fedora-guest/install.d/15-reddwarf-dep', 'scripts/files/elements/fedora-guest/install.d/20-etc', 'scripts/files/trove-guest.systemd.conf', 'scripts/files/requirements/fedora-requirements.txt', 'scripts/files/elements/fedora-postgresql/install.d/10-postgresql']",5,de53b473eea61a28364738c476b0efe8686e966a,bug/1442387,"yum install -y http://yum.postgresql.org/9.3/fedora/fedora-21-x86_64/pgdg-fedora93-9.3-2.noarch.rpm yum install -y postgresql93-server postgresql93-contrib # Though /var/lib/pgsql is the preferred directory, need to move it as # this is where the volume will be mounted su - postgres -c ""/usr/pgsql-9.3/bin/initdb /var/lib/pgsql/9.3/data"" mv /var/lib/pgsql /var/lib/postgresql mv /lib/systemd/system/postgresql-9.3.service /lib/systemd/system/postgresql.service sed -i 's/PGDATA=\/var\/lib\/pgsql\/9.3\/data/PGDATA=\/var\/lib\/postgresql\/9.3\/data/' /lib/systemd/system/postgresql.service systemctl enable postgresql.service systemctl start postgresql.service",yum -y install postgresql93,47,25
openstack%2Fironic-inspector~master~Ic29e954fac1c535cb4f83d46ccea9ebfb80f840c,openstack/ironic-inspector,master,Ic29e954fac1c535cb4f83d46ccea9ebfb80f840c,Make functional test importable and stop depending on DIB code,MERGED,2015-06-29 11:50:41.000000000,2015-07-01 07:39:18.000000000,2015-07-01 07:39:17.000000000,"[{'_account_id': 3}, {'_account_id': 6610}, {'_account_id': 7882}, {'_account_id': 10239}]","[{'number': 1, 'created': '2015-06-29 11:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/f050455db3b8fbba2d624e1f9dda9a809f24bbd9', 'message': 'Make functional test importable and stop depending on DIB code\n\nWith inntegration tests on the radar we no longer need to do\nintegration checking between ramdisk code and inspector here.\n\nAlso copy integration test script from functest to devstack.\n\nChange-Id: Ic29e954fac1c535cb4f83d46ccea9ebfb80f840c\nCloses-Bug: #1468748\n'}, {'number': 2, 'created': '2015-06-30 07:57:06.000000000', 'files': ['functest/env/modprobe', 'test-requirements.txt', 'functest/env/lscpu', 'ironic_inspector/test/functional.py', 'devstack/exercise.sh', 'functest/env/fdisk', 'functest/env/get_kernel_parameter', 'functest/env/ip', 'functest/env/dmidecode', 'functest/env/ipmitool', 'ironic_inspector/main.py', 'functest/env/poweroff', 'functest/env/cpuinfo.txt', 'functest/env/sleep', 'functest/env/troubleshoot', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/def1f3700ce9240ddc33db5565b450f51f08376e', 'message': 'Make functional test importable and stop depending on DIB code\n\nWith integration tests on the radar we no longer need to do\nintegration checking between ramdisk code and inspector here.\n\nAlso copy integration test script from functest to devstack.\nOnce we update the gate to use the new script, the whole functest\ndirectory should be deleted.\n\nChange-Id: Ic29e954fac1c535cb4f83d46ccea9ebfb80f840c\nCloses-Bug: #1468748\n'}]",1,196632,def1f3700ce9240ddc33db5565b450f51f08376e,13,4,2,10239,,,0,"Make functional test importable and stop depending on DIB code

With integration tests on the radar we no longer need to do
integration checking between ramdisk code and inspector here.

Also copy integration test script from functest to devstack.
Once we update the gate to use the new script, the whole functest
directory should be deleted.

Change-Id: Ic29e954fac1c535cb4f83d46ccea9ebfb80f840c
Closes-Bug: #1468748
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/32/196632/2 && git format-patch -1 --stdout FETCH_HEAD,"['functest/env/modprobe', 'test-requirements.txt', 'functest/env/lscpu', 'ironic_inspector/test/functional.py', 'devstack/exercise.sh', 'functest/env/fdisk', 'functest/env/get_kernel_parameter', 'functest/env/ip', 'functest/env/dmidecode', 'functest/env/ipmitool', 'ironic_inspector/main.py', 'functest/env/poweroff', 'functest/env/cpuinfo.txt', 'functest/env/sleep', 'functest/env/troubleshoot', 'tox.ini']",16,f050455db3b8fbba2d624e1f9dda9a809f24bbd9,bug/1468748, python -m ironic_inspector.test.functional, # TODO(dtantsur): move to test-reqs once it's in global-requirements python-ironic-inspector-client python functest/run.py,143,321
openstack%2Ffuel-qa~master~I66aba9dd4855dcf3857af7a96dbd0d1cdc3c3c78,openstack/fuel-qa,master,I66aba9dd4855dcf3857af7a96dbd0d1cdc3c3c78,[EXAMPLE][DO NOT MERGE] Script for installing Rally on Fuel master node,ABANDONED,2015-04-21 16:06:26.000000000,2015-07-01 07:37:29.000000000,,"[{'_account_id': 3}, {'_account_id': 406}, {'_account_id': 7935}, {'_account_id': 8483}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 11081}, {'_account_id': 11587}, {'_account_id': 12200}, {'_account_id': 13306}, {'_account_id': 15692}, {'_account_id': 15943}]","[{'number': 1, 'created': '2015-04-21 16:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/f70bdf25c8eb78ff0863be77318f4b5eff4f9a9a', 'message': 'Script for installing Rally on Fuel master node\n\nAdd script wich pulls Rally docker container on\nFuel master node. It gets environment ID or proxy\n(some online comtroller IP) as parameters and\nconfigures HTTP proxy for Rally.\n\nChange-Id: I66aba9dd4855dcf3857af7a96dbd0d1cdc3c3c78\nCloses-bug: #1269862\n'}, {'number': 2, 'created': '2015-04-21 16:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/70f4046ca8676a65b3e483cfdf3289fde104208c', 'message': 'Script for installing Rally on Fuel master node\n\nAdd script wich pulls Rally docker container on\nFuel master node. It gets environment ID or proxy\n(some online comtroller IP) as parameters and\nconfigures HTTP proxy for Rally.\n\nChange-Id: I66aba9dd4855dcf3857af7a96dbd0d1cdc3c3c78\nCloses-bug: #1269862\n'}, {'number': 3, 'created': '2015-04-23 06:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/0aca04ed38f8851c0b779729a818e3dd212496f1', 'message': 'Script for installing Rally on Fuel master node\n\nAdd script wich pulls Rally docker container on\nFuel master node. It gets environment ID or proxy\n(some online comtroller IP) as parameters and\nconfigures HTTP proxy for Rally.\n\nChange-Id: I66aba9dd4855dcf3857af7a96dbd0d1cdc3c3c78\nCloses-bug: #1269862\n'}, {'number': 4, 'created': '2015-04-23 12:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/3d534c4bb0fea9984fe435ec1b4e403532ab8dfa', 'message': 'Script for installing Rally on Fuel master node\n\nAdd script wich pulls Rally docker container on\nFuel master node. It gets environment ID or proxy\n(some online comtroller IP) as parameters and\nconfigures HTTP proxy for Rally.\n\nChange-Id: I66aba9dd4855dcf3857af7a96dbd0d1cdc3c3c78\nCloses-bug: #1269862\n'}, {'number': 5, 'created': '2015-06-08 07:13:35.000000000', 'files': ['utils/rally/install_rally_docker.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/fc42e4bf5a84cd80d6e1000f06bfea0273fd2858', 'message': '[EXAMPLE][DO NOT MERGE] Script for installing Rally on Fuel master node\n\nAdd script wich pulls Rally docker container on\nFuel master node. It gets environment ID or proxy\n(some online comtroller IP) as parameters and\nconfigures HTTP proxy for Rally.\n\nChange-Id: I66aba9dd4855dcf3857af7a96dbd0d1cdc3c3c78\nRelated-bug: #1269862\n'}]",6,175966,fc42e4bf5a84cd80d6e1000f06bfea0273fd2858,30,12,5,11081,,,0,"[EXAMPLE][DO NOT MERGE] Script for installing Rally on Fuel master node

Add script wich pulls Rally docker container on
Fuel master node. It gets environment ID or proxy
(some online comtroller IP) as parameters and
configures HTTP proxy for Rally.

Change-Id: I66aba9dd4855dcf3857af7a96dbd0d1cdc3c3c78
Related-bug: #1269862
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/66/175966/4 && git format-patch -1 --stdout FETCH_HEAD,['utils/rally/install_rally_docker.py'],1,f70bdf25c8eb78ff0863be77318f4b5eff4f9a9a,bug/1269862_temp,"#!/bin/env python # Copyright 2015 Mirantis, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import logging import os import re import subprocess from optparse import OptionParser from urllib2 import urlopen logger = logging.getLogger(__name__) class Settings(object): docker = { 'source': 'rallyforge/rally', 'container_name': 'rally', 'container_bind_dir': '/var/local/rally', 'container_home_dir': '/home/rally' } fuel = { 'proxy_ip': '127.0.0.1', 'proxy_port': 8888 } class Utils(object): def exec_cmd(self, cmd): logger.debug('Execute command ""%s""', cmd) child = subprocess.Popen( cmd, stdout=subprocess.PIPE, stderr=subprocess.STDOUT, shell=True) logger.debug('Stdout and stderr of command ""%s"":', cmd) stdout = [] for line in child.stdout: logger.debug(line.rstrip()) stdout.append(line) return self._wait_and_check_exit_code(cmd, child), stdout def _wait_and_check_exit_code(self, cmd, child): child.wait() exit_code = child.returncode logger.debug('Command ""%s"" was executed', cmd) return exit_code def check_exit_code(self, cmd, exit_code): return_value, stdout = self.exec_cmd(cmd) if return_value != exit_code: logger.error('Command execution failed, ""{0}"" returned ""{1}"", but ' 'expected ""{2}""'.format(cmd, return_value, exit_code)) raise Exception(""Command execution failed"") return '\n'.join(stdout) @staticmethod def setup_logging(logger_obj): sh = logging.StreamHandler() formatter = logging.Formatter( '%(asctime)s - %(levelname)s - %(message)s') sh.setFormatter(formatter) logger_obj.addHandler(sh) logger_obj.setLevel(logging.INFO) class RallyInstaller(object): def __init__(self, utils): self.utils = utils def download_rally_container(self, source): logger.debug('Pulling Rally Docker container from {0}.'.format(source)) cmd = 'docker pull rallyforge/rally' self.utils.check_exit_code(cmd, exit_code=0) def make_rally_homedir(self, home_dir): if not os.path.exists(home_dir): os.makedirs(home_dir) def create_rally_container(self, home_dir, home_path, name, env_vars, cmd): self.make_rally_homedir(home_dir) cmd = ('docker run -d --user 0 --net=""host"" --name ""{name}"" -e ' '""{env_vars}"" -t -i -v {home_dir}:/{home_path} rallyforge/rally' ' /bin/bash -c ""{cmd}""'.format(name=name, env_vars=env_vars, home_dir=home_dir, home_path=home_path, cmd=cmd)) self.utils.check_exit_code(cmd, exit_code=0) def add_rally_docker_alias(self, name): cmd = (""echo \""alias {name}_docker='docker exec -t -i {name} /bin/bash"" ""'\"" >> ~/.bashrc && source ~/.bashrc"".format(name=name)) self.utils.check_exit_code(cmd, exit_code=0) def get_proxy_for_env(self, env_id): cmd = (""fuel 2>/dev/null --env {env_id} nodes | awk -F'|' "" ""'/ready.*controller.*True/{{split($5, a, \"" \""); print a[1];"" "" exit}}'"".format(env_id=env_id)) return_value, controller_ip = self.utils.exec_cmd(cmd) if re.search(r'(\d{1,3}\.){3}\d{1,3}', controller_ip or "" ""): return controller_ip else: return """" def check_proxy(self, ip, port): proxy_url = 'http://{proxy_ip}:{proxy_port}/'.format(proxy_ip=ip, proxy_port=port) try: if urlopen(proxy_url).getcode == 200: return True except: return False def install_tool_in_container(self, name, tools): cmd = ('unset http_proxy; apt-get update;' ' apt-get install -y {tools}').format(tools=' '.join(tools)) docker_cmd = ""docker exec -t {0} /bin/bash -c '{1}'"".format(name, cmd) self.utils.check_exit_code(docker_cmd, exit_code=0) def main(): settings = Settings() utils = Utils() installer = RallyInstaller(utils) utils.setup_logging(logger) parser = OptionParser( description=""Install Rally as Docker container on Fuel master node"" ) parser.add_option(""-v"", ""--verbose"", action=""store_true"", dest=""verbose"", default=False, help=""Enable debug output"") parser.add_option(""-e"", ""--env"", dest=""env_id"", default=None, help=""Fuel environment ID"") parser.add_option(""-p"", ""--proxy-ip"", dest=""proxy"", default=None, help=""Environment proxy IP address"") (options, args) = parser.parse_args() if options.verbose: logger.setLevel(logging.DEBUG) if options.proxy: settings.fuel['proxy_ip'] = options.proxy elif options.env_id: settings.fuel['proxy_ip'] = installer.get_proxy_for_env(options.env_id) settings.docker['container_name'] = 'rally-{0}'.format(options.env_id) if installer.check_proxy(settings.fuel['proxy_ip'], settings.fuel['proxy_port']): env_vars = 'http_proxy=http://{proxy_ip}:{proxy_port}/'.format( proxy_ip=settings.fuel['proxy_ip'], proxy_port=settings.fuel['proxy_port']) else: env_vars = 'http_proxy=' installer.download_rally_container(settings.docker['source']) installer.create_rally_container( name=settings.docker['container_name'], home_dir=settings.docker['container_bind_dir'], home_path=settings.docker['container_home_dir'], env_vars=env_vars, cmd="" /bin/bash -c 'rally-manage db recreate; sleep infinity;'"" ) installer.install_tool_in_container( name=settings.docker['container_name'], tools=['vim'] ) installer.add_rally_docker_alias(name=settings.docker['container_name']) logger.info('Installation finished!') logger.info('Docker container name is {0}'.format( settings.docker['container_name'])) logger.info(""Use '{0}_docker' command to attach to Rally container"".format( settings.docker['container_name'])) if __name__ == '__main__': main() ",,195,0
openstack%2Fcloudkitty~master~Ie35b4208385b607088d0033928ad3930a858ca9e,openstack/cloudkitty,master,Ie35b4208385b607088d0033928ad3930a858ca9e,__commit_data() raising exception on empty data,MERGED,2015-06-29 16:33:51.000000000,2015-07-01 07:30:13.000000000,2015-07-01 07:30:12.000000000,"[{'_account_id': 3}, {'_account_id': 7042}, {'_account_id': 10068}]","[{'number': 1, 'created': '2015-06-29 16:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/cd0010bfea1503da6a5bd3272ad05f596d366166', 'message': 'Fixed Bug: #1468323 : cloudkitty-writer is giving runtime error on empty data\n\nChange-Id: Ie35b4208385b607088d0033928ad3930a858ca9e\n'}, {'number': 2, 'created': '2015-06-30 14:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/9f889f7cff8d9d84dddb7677e529a9b53fe97c3a', 'message': '__commit_data() raising exception on empty data\n\ncall the __commit_data() method iff data is not empty\n\nCloses-Bug: #1468323\n\nChange-Id: Ie35b4208385b607088d0033928ad3930a858ca9e\n'}, {'number': 3, 'created': '2015-07-01 07:20:30.000000000', 'files': ['cloudkitty/write_orchestrator.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/cbf3f7fd8889c6bac2c3acd4758a3b2ff971e4bd', 'message': '__commit_data() raising exception on empty data\n\ncall the __commit_data() method if data is not empty\n\nCloses-Bug: #1468323\n\nChange-Id: Ie35b4208385b607088d0033928ad3930a858ca9e\n'}]",0,196736,cbf3f7fd8889c6bac2c3acd4758a3b2ff971e4bd,12,3,3,15701,,,0,"__commit_data() raising exception on empty data

call the __commit_data() method if data is not empty

Closes-Bug: #1468323

Change-Id: Ie35b4208385b607088d0033928ad3930a858ca9e
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/36/196736/2 && git format-patch -1 --stdout FETCH_HEAD,['cloudkitty/write_orchestrator.py'],1,cd0010bfea1503da6a5bd3272ad05f596d366166,, return True else: return False if self._push_data(): self._commit_data(), self._push_data() self._commit_data(),5,2
openstack%2Fgovernance~master~I180eeb112d7469f69677494574dbcff0cdc7d0ef,openstack/governance,master,I180eeb112d7469f69677494574dbcff0cdc7d0ef,Add magnum-ui to openstack namespace in the Magnum project,MERGED,2015-06-17 17:35:18.000000000,2015-07-01 07:24:02.000000000,2015-07-01 07:24:01.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 668}, {'_account_id': 1561}, {'_account_id': 2472}, {'_account_id': 2592}, {'_account_id': 2834}]","[{'number': 1, 'created': '2015-06-17 17:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/6542c826cd63a36bd21391a13e397c527b7c0372', 'message': 'Add magnum-ui to openstack namespace in the Magnum project\n\nAdreas requires a governance repository change to approve the\ninclusion of the magnum-ui repo into the openstack git namespace\nfor the Magnum project.\n\nReference:\n\nhttps://review.openstack.org/#/c/190998/\n\nThis effort has been discussed and approved by the Magnum community\nincluding our PTL Adrian Otto in this mailing list thread:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2015-June/066701.html\n\nChange-Id: I180eeb112d7469f69677494574dbcff0cdc7d0ef\n'}, {'number': 2, 'created': '2015-06-17 17:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/7801dd975b62c16a41f84e2b496f69d4bf6af623', 'message': 'Add magnum-ui to openstack namespace in the Magnum project\n\nThis effort has been discussed and approved by the Magnum community\nincluding our PTL Adrian Otto in this mailing list thread:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2015-June/066701.html\n\nDepends-On:Ice2e14bf999f79ca0c0718948db616456faab907\n\nChange-Id: I180eeb112d7469f69677494574dbcff0cdc7d0ef\n'}, {'number': 3, 'created': '2015-06-17 17:59:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/64e2d0be04ccbd6bfbe7ac2ea5eb16408582a61f', 'message': 'Add magnum-ui to openstack namespace in the Magnum project\n\nThis effort has been discussed and approved by the Magnum community\nincluding our PTL Adrian Otto in this mailing list thread:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2015-June/066701.html\n\nDepends-On: Ice2e14bf999f79ca0c0718948db616456faab907\n\nChange-Id: I180eeb112d7469f69677494574dbcff0cdc7d0ef\n'}, {'number': 4, 'created': '2015-06-26 09:07:22.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/c6ca8446b938bb3d893d220c4d0c8de650a35ea7', 'message': 'Add magnum-ui to openstack namespace in the Magnum project\n\nThis effort has been discussed and approved by the Magnum community\nincluding our PTL Adrian Otto in this mailing list thread:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2015-June/066701.html\n\nDepends-On: Ice2e14bf999f79ca0c0718948db616456faab907\n\nChange-Id: I180eeb112d7469f69677494574dbcff0cdc7d0ef\n'}]",0,192804,c6ca8446b938bb3d893d220c4d0c8de650a35ea7,21,7,4,2834,,,0,"Add magnum-ui to openstack namespace in the Magnum project

This effort has been discussed and approved by the Magnum community
including our PTL Adrian Otto in this mailing list thread:

http://lists.openstack.org/pipermail/openstack-dev/2015-June/066701.html

Depends-On: Ice2e14bf999f79ca0c0718948db616456faab907

Change-Id: I180eeb112d7469f69677494574dbcff0cdc7d0ef
",git fetch https://review.opendev.org/openstack/governance refs/changes/04/192804/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,6542c826cd63a36bd21391a13e397c527b7c0372,192804, - repo: openstack/magnum-ui tags: - name: release:independent,,3,0
openstack%2Fpython-troveclient~master~Ie838796191a06193a59499da59fae79b9d9f060f,openstack/python-troveclient,master,Ie838796191a06193a59499da59fae79b9d9f060f,Fix flavor-show problems with UUID,MERGED,2015-06-22 05:38:36.000000000,2015-07-01 07:22:57.000000000,2015-07-01 07:22:54.000000000,"[{'_account_id': 3}, {'_account_id': 5293}, {'_account_id': 7806}, {'_account_id': 9664}, {'_account_id': 9746}, {'_account_id': 10215}, {'_account_id': 12758}, {'_account_id': 14576}, {'_account_id': 15321}]","[{'number': 1, 'created': '2015-06-22 05:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/e7b7619ce9b4961f6cd5a2dd469a17d7e3d38c53', 'message': ""fix flavor-show not to fail when the flavor's ID is UUID format\n\nChange-Id: Ie838796191a06193a59499da59fae79b9d9f060f\nCloses-Bug: #1467383\n""}, {'number': 2, 'created': '2015-06-22 05:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/3b77085f267f1e073544a36a46a0f1f62275ff2e', 'message': ""fix flavor-show not to fail when the flavor's ID is UUID format\n\nCloses-Bug: #1467383\nChange-Id: Ie838796191a06193a59499da59fae79b9d9f060f\n""}, {'number': 3, 'created': '2015-06-22 10:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/06b28757113f28ed988de48790ef1163e207add5', 'message': ""Fix flavor-show problems with UUID\n\nflavor-show fails if the flavor's ID is in the form of UUID\nand user specified its name.\n\nCloses-Bug: #1467383\nChange-Id: Ie838796191a06193a59499da59fae79b9d9f060f\n""}, {'number': 4, 'created': '2015-06-26 07:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/db277f97cc61b8be4657460e07d304488b287248', 'message': ""Fix flavor-show problems with UUID\n\nflavor-show fails if the flavor's ID is in the form of UUID\nand user specified its name.\n\nCloses-Bug: #1467383\nChange-Id: Ie838796191a06193a59499da59fae79b9d9f060f\n""}, {'number': 5, 'created': '2015-06-29 01:40:25.000000000', 'files': ['troveclient/utils.py', 'troveclient/v1/flavors.py', 'troveclient/tests/test_v1_shell.py', 'troveclient/v1/shell.py', 'troveclient/tests/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/29d0703de16f20c0ab33b7b4b8567892b7601b15', 'message': ""Fix flavor-show problems with UUID\n\nflavor-show fails if the flavor's ID is in the form of UUID\nand user specified its name.\nThe change in troveclient/v1/shell.py#L92-L95 is from Sushil Kumar.\n\nCloses-Bug: #1467383\nChange-Id: Ie838796191a06193a59499da59fae79b9d9f060f\n""}]",5,193940,29d0703de16f20c0ab33b7b4b8567892b7601b15,31,9,5,12758,,,0,"Fix flavor-show problems with UUID

flavor-show fails if the flavor's ID is in the form of UUID
and user specified its name.
The change in troveclient/v1/shell.py#L92-L95 is from Sushil Kumar.

Closes-Bug: #1467383
Change-Id: Ie838796191a06193a59499da59fae79b9d9f060f
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/40/193940/4 && git format-patch -1 --stdout FETCH_HEAD,"['troveclient/v1/flavors.py', 'troveclient/tests/test_v1_shell.py', 'troveclient/tests/fakes.py']",3,e7b7619ce9b4961f6cd5a2dd469a17d7e3d38c53,flavor_uuid," ""name"": ""m1.medium""}, { ""str_id"": ""7d0d16e5-875f-4198-b6da-90ab2d3e899e"", ""ram"": 8192, ""id"": None, ""name"": ""m1.uuid""}]}) def get_flavors_m1_uuid(self, **kw): r = {'flavor': self.get_flavors()[2]['flavors'][4]} return (200, {}, r) "," ""name"": ""m1.medium""}]})",19,1
openstack%2Fmistral~master~Idcd162b9c000b85acf2adabc158f848d0824ac57,openstack/mistral,master,Idcd162b9c000b85acf2adabc158f848d0824ac57,"Fix invalid workflow completion in case of ""join""",MERGED,2015-05-26 08:38:45.000000000,2015-07-01 07:20:40.000000000,2015-07-01 07:20:37.000000000,"[{'_account_id': 3}, {'_account_id': 5558}, {'_account_id': 6732}, {'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9432}]","[{'number': 1, 'created': '2015-05-26 08:38:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/282ba6ad9d40b02938608412ca49352f215485cd', 'message': 'Fix Invalid workflow completion in case of ""join""\n\nWhen we use \'join\' clause in workflow execution, the execution should be\nin running status, until all upstream tasks are completed and\ncorresponding conditions have triggered.\n\nSo, we introduce \'waiting\' state here, specifying a \'join task\' is waiting\nfor conditions satisfied for running. In extreme cases, the execution will\nnever stop.\n\nChange-Id: Idcd162b9c000b85acf2adabc158f848d0824ac57\nCloses-Bug: #1455038\n'}, {'number': 2, 'created': '2015-05-26 08:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/d941cf2122613f1909c7b503cb21515e9e8d1f18', 'message': 'Fix invalid workflow completion in case of ""join""\n\nWhen we use \'join\' clause in workflow execution, the execution should be\nin running status, until all upstream tasks are completed and\ncorresponding conditions have triggered.\n\nSo, we introduce \'waiting\' state here, specifying a \'join task\' is waiting\nfor conditions satisfied for running. In extreme cases, the execution will\nnever stop.\n\nChange-Id: Idcd162b9c000b85acf2adabc158f848d0824ac57\nCloses-Bug: #1455038\n'}, {'number': 3, 'created': '2015-05-26 12:25:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/98074a2951d595d81f2dd80e7cb8341bfe23f0d3', 'message': 'Fix Invalid workflow completion in case of ""join""\n\nWhen we use \'join\' clause in workflow execution, the execution should be\nin running status, until all upstream tasks are completed and\ncorresponding conditions have triggered.\n\nSo, we introduce \'waiting\' state here, specifying a \'join task\' is waiting\nfor conditions satisfied for running. In extreme cases, the execution will\nnever stop.\n\nChange-Id: Idcd162b9c000b85acf2adabc158f848d0824ac57\nCloses-Bug: #1455038\n'}, {'number': 4, 'created': '2015-05-27 13:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/1b5218d3034ca90cf8b101e45f283fc50bb94480', 'message': 'Fix invalid workflow completion in case of ""join""\n\nWhen we use \'join\' clause in workflow execution, the execution should be\nin running status, until all upstream tasks are completed and\ncorresponding conditions have triggered.\n\nSo, we introduce \'waiting\' state here, specifying a \'join task\' is waiting\nfor conditions satisfied for running. In extreme cases, the execution will\nnever stop.\n\nAnd, we add a new variable \'wait_flag\' to RunTask class, indicating\nwhether or not the task should run immediately or wait for conditions.\n\nChange-Id: Idcd162b9c000b85acf2adabc158f848d0824ac57\nCloses-Bug: #1455038\n'}, {'number': 5, 'created': '2015-05-27 13:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/0a17cbd2ad88c3909ae5201ab8b9fa6b73f96a36', 'message': 'Fix invalid workflow completion in case of ""join""\n\nWhen we use \'join\' clause in workflow execution, the execution should be\nin running status, until all upstream tasks are completed and\ncorresponding conditions have triggered.\n\nSo, we introduce \'waiting\' state here, specifying a \'join task\' is waiting\nfor conditions satisfied for running. In extreme cases, the execution will\nnever stop.\n\nAnd, we add a new variable \'wait_flag\' to RunTask class, indicating\nwhether or not the task should run immediately or wait for conditions.\n\nChange-Id: Idcd162b9c000b85acf2adabc158f848d0824ac57\nCloses-Bug: #1455038\n'}, {'number': 6, 'created': '2015-05-27 15:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/bf09ddfcf66df45a2ee3c335655c9da6d1d49f9c', 'message': 'Fix invalid workflow completion in case of ""join""\n\nWhen we use \'join\' clause in workflow execution, the execution should be\nin running status, until all upstream tasks are completed and\ncorresponding conditions have triggered.\n\nSo, we introduce \'waiting\' state here, specifying a \'join task\' is waiting\nfor conditions satisfied for running. In extreme cases, the execution will\nnever stop.\n\nAnd, we add a new variable \'wait_flag\' to RunTask class, indicating\nwhether or not the task should run immediately or wait for conditions.\n\nChange-Id: Idcd162b9c000b85acf2adabc158f848d0824ac57\nCloses-Bug: #1455038\n'}, {'number': 7, 'created': '2015-05-28 02:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/704bda9e78e761b94607ee125a18019d1634c0b3', 'message': 'Fix invalid workflow completion in case of ""join""\n\nWhen we use \'join\' clause in workflow execution, the execution should be\nin running status, until all upstream tasks are completed and\ncorresponding conditions have triggered.\n\nSo, we introduce \'waiting\' state here, specifying a \'join task\' is waiting\nfor conditions satisfied for running. In extreme cases, the execution will\nnever stop.\n\nAnd, we add a new variable \'wait_flag\' to RunTask class, indicating\nwhether or not the task should run immediately or wait for conditions.\n\nChange-Id: Idcd162b9c000b85acf2adabc158f848d0824ac57\nCloses-Bug: #1455038\n'}, {'number': 8, 'created': '2015-06-25 09:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/7a19ccced5c4c8e29c1300c29747272a7b0ceadd', 'message': 'Fix invalid workflow completion in case of ""join""\n\nWhen we use \'join\' clause in workflow execution, the execution should be\nin running status, until all upstream tasks are completed and\ncorresponding conditions have triggered.\n\nSo, we introduce \'waiting\' state here, specifying a \'join task\' is waiting\nfor conditions satisfied for running. In extreme cases, the execution will\nnever stop.\n\nAnd, we add a new variable \'wait_flag\' to RunTask class, indicating\nwhether or not the task should run immediately or wait for conditions.\n\nChange-Id: Idcd162b9c000b85acf2adabc158f848d0824ac57\nCloses-Bug: #1455038\n'}, {'number': 9, 'created': '2015-06-25 11:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/2c0549e242f27b322db7f2d49e3cfa1c6f3963c7', 'message': 'Fix invalid workflow completion in case of ""join""\n\nWhen we use \'join\' clause in workflow execution, the execution should be\nin running status, until all upstream tasks are completed and\ncorresponding conditions have triggered.\n\nSo, we introduce \'waiting\' state here, specifying a \'join task\' is waiting\nfor conditions satisfied for running. In extreme cases, the execution will\nnever stop.\n\nAnd, we add a new variable \'wait_flag\' to RunTask class, indicating\nwhether or not the task should run immediately or wait for conditions.\n\nChange-Id: Idcd162b9c000b85acf2adabc158f848d0824ac57\nCloses-Bug: #1455038\n'}, {'number': 10, 'created': '2015-06-29 12:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/84160c99397e7d82db1cdbacc919057fe8f9e847', 'message': 'Fix invalid workflow completion in case of ""join""\n\nWhen we use \'join\' clause in workflow execution, the execution should be\nin running status, until all possible upstream tasks are completed and\ncorresponding conditions have triggered.\n\nDo not remove the tasks with unsatisfied join when continuing execution, or\nthe workflow will succeed erroneously. So, a new attribute \'wait_flag\' is\nadded to RunTask class, to indicate if the task should run immediately.\n\nThe difference between waiting and delayed status is, \'waiting\' indicates\na task needs to wait for its conditions to be satisfied, \'delayed\' means\nthe task has to wait because of policy(wait-before, wait-after or retry).\n\nChange-Id: Idcd162b9c000b85acf2adabc158f848d0824ac57\nCloses-Bug: #1455038\n'}, {'number': 11, 'created': '2015-06-30 03:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/d96e09ad5cccf8d7b50a1c7db519de5a67f39f1c', 'message': 'Fix invalid workflow completion in case of ""join""\n\nWhen we use \'join\' clause in workflow execution, the execution should be\nin running status, until all possible upstream tasks are completed and\ncorresponding conditions have triggered.\n\nDo not remove the tasks with unsatisfied join when continuing execution,\nor the workflow will succeed erroneously. So, a new attribute\n\'wait_flag\' is added to RunTask class, to indicate if the task should\nrun immediately.\n\nThe difference between \'waiting\' and \'delayed\' status is, \'waiting\'\nindicates a task needs to wait for its conditions to be satisfied,\n\'delayed\' means the task has to wait because of policy(wait-before,\nwait-after or retry).\n\nChange-Id: Idcd162b9c000b85acf2adabc158f848d0824ac57\nCloses-Bug: #1455038\n'}, {'number': 12, 'created': '2015-06-30 09:12:08.000000000', 'files': ['mistral/tests/unit/workflow/test_states.py', 'mistral/workflow/states.py', 'mistral/engine/task_handler.py', 'mistral/workflow/utils.py', 'mistral/workflow/commands.py', 'mistral/workflow/direct_workflow.py', 'mistral/tests/unit/engine/test_join.py', 'mistral/engine/default_engine.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/77cf6eb26a5fd4e943a07977bb329b33c53ac71a', 'message': 'Fix invalid workflow completion in case of ""join""\n\nWhen we use \'join\' clause in workflow execution, the execution should be\nin running status, until all possible upstream tasks are completed and\ncorresponding conditions have triggered.\n\nDo not remove the tasks with unsatisfied join when continuing execution,\nor the workflow will succeed erroneously. So, a new attribute\n\'wait_flag\' is added to RunTask class, to indicate if the task should\nrun immediately.\n\nThe difference between \'waiting\' and \'delayed\' status is, \'waiting\'\nindicates a task needs to wait for its conditions to be satisfied,\n\'delayed\' means the task has to wait because of policy(wait-before,\nwait-after or retry).\n\nChange-Id: Idcd162b9c000b85acf2adabc158f848d0824ac57\nCloses-Bug: #1455038\n'}]",32,185532,77cf6eb26a5fd4e943a07977bb329b33c53ac71a,45,6,12,6732,,,0,"Fix invalid workflow completion in case of ""join""

When we use 'join' clause in workflow execution, the execution should be
in running status, until all possible upstream tasks are completed and
corresponding conditions have triggered.

Do not remove the tasks with unsatisfied join when continuing execution,
or the workflow will succeed erroneously. So, a new attribute
'wait_flag' is added to RunTask class, to indicate if the task should
run immediately.

The difference between 'waiting' and 'delayed' status is, 'waiting'
indicates a task needs to wait for its conditions to be satisfied,
'delayed' means the task has to wait because of policy(wait-before,
wait-after or retry).

Change-Id: Idcd162b9c000b85acf2adabc158f848d0824ac57
Closes-Bug: #1455038
",git fetch https://review.opendev.org/openstack/mistral refs/changes/32/185532/12 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/tests/unit/workflow/test_states.py', 'mistral/workflow/states.py', 'mistral/engine/task_handler.py', 'mistral/workflow/utils.py', 'mistral/workflow/commands.py', 'mistral/workflow/direct_workflow.py', 'mistral/engine/default_engine.py', 'mistral/tests/unit/engine/test_join.py']",8,282ba6ad9d40b02938608412ca49352f215485cd,bug/1455038," # NOTE(xylan): Need to think how to optimize this self._sleep(10) self.assertEqual(4, len(tasks)) task3 = self._assert_single_item(tasks, name='task3') self.assertEqual(states.WAITING, task3.state)"," self._await(lambda: self.is_execution_success(wf_ex.id)) self.assertEqual(3, len(tasks)) self.assertDictEqual({'result': 4}, wf_ex.output) ",94,19
openstack%2Ftempest~master~I36d64e6313a5b4edc03acad64bcdaeab680f9ce0,openstack/tempest,master,I36d64e6313a5b4edc03acad64bcdaeab680f9ce0,Use random password generator for IsolatedCreds,MERGED,2015-06-09 07:23:03.000000000,2015-07-01 07:18:21.000000000,2015-07-01 07:18:20.000000000,"[{'_account_id': 3}, {'_account_id': 5196}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 6732}, {'_account_id': 7428}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 11075}]","[{'number': 1, 'created': '2015-06-09 07:23:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f43f43f36f39201044a2085137f2f3f89aea0dd1', 'message': ""Make password configurable for user creation\n\nCurrently, for IsolatedCreds provider, new tenant/user will be created for\ntesting. However, the user password is hardcoded(with 'pass' as the\ndefault) in the implementation. This patch change that to make password\nfor user creation configurable.\n\nChange-Id: I36d64e6313a5b4edc03acad64bcdaeab680f9ce0\nImplements: blueprint password-configurable\n""}, {'number': 2, 'created': '2015-06-09 09:14:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9ed82f783da0dc99acc0006c7b50b9f403265dfe', 'message': ""Make password configurable for user creation\n\nCurrently, for IsolatedCreds provider, new tenant/user will be created for\ntesting. However, the user password is hardcoded(with 'pass' as the\ndefault) in the implementation. This patch change that to make password\nfor user creation configurable.\n\nChange-Id: I36d64e6313a5b4edc03acad64bcdaeab680f9ce0\nImplements: blueprint password-configurable\n""}, {'number': 3, 'created': '2015-06-09 09:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/236e9e8de44316d25988e6f5dfe1957ed23230ee', 'message': ""Make password configurable for user creation\n\nCurrently, for IsolatedCreds provider, new tenant/user will be created for\ntesting. However, the user password is hardcoded(with 'pass' as the\ndefault) in the implementation. This patch change that to make password\nfor user creation configurable.\n\nChange-Id: I36d64e6313a5b4edc03acad64bcdaeab680f9ce0\nImplements: blueprint password-configurable\n""}, {'number': 4, 'created': '2015-06-10 02:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/dc5bab21e0be59db7f6243ef09b2e6a9def5e72e', 'message': ""Make password configurable for user creation\n\nCurrently, for IsolatedCreds provider, new tenant/user will be created for\ntesting. However, the user password is hardcoded(with 'pass' as the\ndefault) in the implementation. This patch change that to make password\nfor user creation configurable.\n\nChange-Id: I36d64e6313a5b4edc03acad64bcdaeab680f9ce0\nImplements: blueprint password-configurable\n""}, {'number': 5, 'created': '2015-06-10 09:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b956da3732e48be91923a347f858f375bbe8b98e', 'message': ""Use random password generator for IsolatedCreds\n\nCurrently, for IsolatedCreds provider, new tenant/user will be created for\ntesting. However, the user password is hardcoded(with 'pass' as the\ndefault) in the implementation. This patch change that to use random\npassword generator for user creation.\n\nChange-Id: I36d64e6313a5b4edc03acad64bcdaeab680f9ce0\nImplements: blueprint random-password-for-user-creation\n""}, {'number': 6, 'created': '2015-06-10 10:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/208c20da2a03c293107ded3ca9df8e7755a40bd4', 'message': ""Use random password generator for IsolatedCreds\n\nCurrently, for IsolatedCreds provider, new tenant/user will be created for\ntesting. However, the user password is hardcoded(with 'pass' as the\ndefault) in the implementation. This patch change that to use random\npassword generator for user creation.\n\nChange-Id: I36d64e6313a5b4edc03acad64bcdaeab680f9ce0\nImplements: blueprint random-password-for-user-creation\n""}, {'number': 7, 'created': '2015-06-11 08:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c0a529b01a3ee327dcf2dc20592309ac9f2d0d66', 'message': ""Use random password generator for IsolatedCreds\n\nCurrently, for IsolatedCreds provider, new tenant/user will be created for\ntesting. However, the user password is hardcoded(with 'pass' as the\ndefault) in the implementation. This patch change that to use random\npassword generator for user creation.\n\nChange-Id: I36d64e6313a5b4edc03acad64bcdaeab680f9ce0\nImplements: blueprint random-password-for-user-creation\n""}, {'number': 8, 'created': '2015-07-01 03:03:46.000000000', 'files': ['requirements.txt', 'tempest/common/isolated_creds.py', 'tempest/common/cred_provider.py', 'tempest/tests/test_tenant_isolation.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/9c713d2d28dab8b5c12a1132741e46b8be56ee29', 'message': ""Use random password generator for IsolatedCreds\n\nCurrently, for IsolatedCreds provider, new tenant/user will be created for\ntesting. However, the user password is hardcoded(with 'pass' as the\ndefault) in the implementation. This patch change that to use random\npassword generator for user creation.\n\nChange-Id: I36d64e6313a5b4edc03acad64bcdaeab680f9ce0\nImplements: blueprint random-password-for-user-creation\n""}]",12,189576,9c713d2d28dab8b5c12a1132741e46b8be56ee29,80,10,8,6732,,,0,"Use random password generator for IsolatedCreds

Currently, for IsolatedCreds provider, new tenant/user will be created for
testing. However, the user password is hardcoded(with 'pass' as the
default) in the implementation. This patch change that to use random
password generator for user creation.

Change-Id: I36d64e6313a5b4edc03acad64bcdaeab680f9ce0
Implements: blueprint random-password-for-user-creation
",git fetch https://review.opendev.org/openstack/tempest refs/changes/76/189576/8 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/common/isolated_creds.py', 'etc/tempest.conf.sample', 'tempest/tests/test_tenant_isolation.py']",3,f43f43f36f39201044a2085137f2f3f89aea0dd1,bp/random-password-for-user-creation," iso_creds = isolated_creds.IsolatedCreds(name='test class') iso_creds = isolated_creds.IsolatedCreds(name='test class') iso_creds = isolated_creds.IsolatedCreds('v2', 'test class') iso_creds = isolated_creds.IsolatedCreds(name='test class') iso_creds = isolated_creds.IsolatedCreds(name='test class') iso_creds = isolated_creds.IsolatedCreds(name='test class') iso_creds = isolated_creds.IsolatedCreds(name='test class') iso_creds = isolated_creds.IsolatedCreds(name='test class') iso_creds = isolated_creds.IsolatedCreds(name='test class') iso_creds = isolated_creds.IsolatedCreds(name='test class')"," iso_creds = isolated_creds.IsolatedCreds(name='test class', password='fake_password') iso_creds = isolated_creds.IsolatedCreds(name='test class', password='fake_password') iso_creds = isolated_creds.IsolatedCreds('v2', 'test class', password='fake_password') iso_creds = isolated_creds.IsolatedCreds(name='test class', password='fake_password') iso_creds = isolated_creds.IsolatedCreds(name='test class', password='fake_password') iso_creds = isolated_creds.IsolatedCreds(name='test class', password='fake_password') iso_creds = isolated_creds.IsolatedCreds(name='test class', password='fake_password') iso_creds = isolated_creds.IsolatedCreds(name='test class', password='fake_password') iso_creds = isolated_creds.IsolatedCreds(name='test class', password='fake_password') iso_creds = isolated_creds.IsolatedCreds(name='test class', password='fake_password') password='fake_password', password='fake_password', password='fake_password', password='fake_password',",16,27
openstack%2Fheat~master~I10e8deb332c5228926a8f3193b2d23325b85af9b,openstack/heat,master,I10e8deb332c5228926a8f3193b2d23325b85af9b,Update logging according oslo.i18n recommendations,MERGED,2015-06-24 14:54:39.000000000,2015-07-01 07:18:09.000000000,2015-07-01 07:18:06.000000000,"[{'_account_id': 3}, {'_account_id': 4715}, {'_account_id': 6577}, {'_account_id': 7404}, {'_account_id': 9542}, {'_account_id': 10068}, {'_account_id': 10487}, {'_account_id': 12363}, {'_account_id': 13323}, {'_account_id': 14676}, {'_account_id': 15642}, {'_account_id': 16644}]","[{'number': 1, 'created': '2015-06-24 14:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ab15f54c5ba6a7c16505a0e929f90bd4678b7c7c', 'message': 'Update logging according oslo.i18n recommendations\n\nRemoved unused logging import\nReplaced % on ,\n\nChange-Id: I10e8deb332c5228926a8f3193b2d23325b85af9b\n'}, {'number': 2, 'created': '2015-06-24 16:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/823362e0da5cd0f0a4ba5fe1e0ede49325f2b443', 'message': 'Update logging according oslo.i18n recommendations\n\nRemoved unused logging import\nReplaced % on ,\n\nChange-Id: I10e8deb332c5228926a8f3193b2d23325b85af9b\n'}, {'number': 3, 'created': '2015-06-25 15:17:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/fd12f8a6d73175395dbe7346cc9cd09ba92a6739', 'message': 'Update logging according oslo.i18n recommendations\n\nRemoved unused logging import\nReplaced % on ,\n\nChange-Id: I10e8deb332c5228926a8f3193b2d23325b85af9b\n'}, {'number': 4, 'created': '2015-06-25 15:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ff7fef08d6bc5a78d610a5b4175d187c81cb8c04', 'message': 'Update logging according oslo.i18n recommendations\n\nRemoved unused logging import\nReplaced % on ,\n\nChange-Id: I10e8deb332c5228926a8f3193b2d23325b85af9b\n'}, {'number': 5, 'created': '2015-06-29 11:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0dd126389c1894f1c8cbf7eb88dee87a4f9d6cee', 'message': 'Update logging according oslo.i18n recommendations\n\nRemoved unused logging import\nReplaced % on ,\nSource: http://docs.openstack.org/developer/oslo.i18n/guidelines.html\n\nChange-Id: I10e8deb332c5228926a8f3193b2d23325b85af9b\n'}, {'number': 6, 'created': '2015-06-29 14:38:24.000000000', 'files': ['heat/engine/service_software_config.py', 'heat/common/wsgi.py', 'heat/common/lifecycle_plugin_utils.py', 'heat/engine/resources/stack_resource.py', 'heat/api/openstack/v1/stacks.py', 'heat/engine/service.py', 'contrib/rackspace/rackspace/clients.py', 'heat/common/auth_password.py', 'heat/common/exception.py', 'heat/engine/attributes.py', 'heat/common/heat_keystoneclient.py', 'heat/engine/stack.py', 'contrib/rackspace/rackspace/resources/cloudnetworks.py', 'heat/engine/resource.py', 'heat/engine/clients/__init__.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/8fb4050fef9fe24baff4bc4edbdb8e99d5662e1d', 'message': 'Update logging according oslo.i18n recommendations\n\nRemoved unused logging import\nReplaced % on ,\nSource: http://docs.openstack.org/developer/oslo.i18n/guidelines.html\n\nChange-Id: I10e8deb332c5228926a8f3193b2d23325b85af9b\n'}]",2,195129,8fb4050fef9fe24baff4bc4edbdb8e99d5662e1d,41,12,6,16644,,,0,"Update logging according oslo.i18n recommendations

Removed unused logging import
Replaced % on ,
Source: http://docs.openstack.org/developer/oslo.i18n/guidelines.html

Change-Id: I10e8deb332c5228926a8f3193b2d23325b85af9b
",git fetch https://review.opendev.org/openstack/heat refs/changes/29/195129/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/service_software_config.py', 'heat/common/auth_password.py', 'heat/common/wsgi.py', 'heat/common/lifecycle_plugin_utils.py', 'heat/engine/stack_lock.py', 'heat/engine/service.py']",6,ab15f54c5ba6a7c16505a0e929f90bd4678b7c7c,," LOG.info(_LI('Starting cancel of updating stack %s'), db_stack.name)", LOG.info(_LI('Starting cancel of updating stack %s') % db_stack.name),12,17
openstack%2Ftrove~master~I297a333457514bd67e2964e955edd3cf8b9cb812,openstack/trove,master,I297a333457514bd67e2964e955edd3cf8b9cb812,Updated from global requirements,MERGED,2015-06-10 23:50:59.000000000,2015-07-01 07:17:38.000000000,2015-07-01 07:17:36.000000000,"[{'_account_id': 3}, {'_account_id': 4240}, {'_account_id': 5293}, {'_account_id': 7806}, {'_account_id': 9664}, {'_account_id': 10215}, {'_account_id': 16272}]","[{'number': 1, 'created': '2015-06-10 23:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/7bfa9e8da9cd440d2ed19cd9da412a0043ad3b47', 'message': 'Updated from global requirements\n\nChange-Id: I297a333457514bd67e2964e955edd3cf8b9cb812\n'}, {'number': 2, 'created': '2015-06-11 00:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/2a575cf4b242a811bb0575887657336e81939fe1', 'message': 'Updated from global requirements\n\nChange-Id: I297a333457514bd67e2964e955edd3cf8b9cb812\n'}, {'number': 3, 'created': '2015-06-14 10:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/65cfe032635cbd2d2d02726d691932f06efc4efc', 'message': 'Updated from global requirements\n\nChange-Id: I297a333457514bd67e2964e955edd3cf8b9cb812\n'}, {'number': 4, 'created': '2015-06-15 03:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/35f6dea222fff1b38f46f3823b077569f6a956b0', 'message': 'Updated from global requirements\n\nChange-Id: I297a333457514bd67e2964e955edd3cf8b9cb812\n'}, {'number': 5, 'created': '2015-06-15 22:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/6447e5109d4f9e114f012c67faa6572acdc995ca', 'message': 'Updated from global requirements\n\nChange-Id: I297a333457514bd67e2964e955edd3cf8b9cb812\n'}, {'number': 6, 'created': '2015-06-16 13:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/5def4ffe0370766f75674603b80b4fc197ad10e9', 'message': 'Updated from global requirements\n\nChange-Id: I297a333457514bd67e2964e955edd3cf8b9cb812\n'}, {'number': 7, 'created': '2015-06-16 16:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/a6a0a30300517a32eb53fc88263360c8d5eb07f6', 'message': 'Updated from global requirements\n\nChange-Id: I297a333457514bd67e2964e955edd3cf8b9cb812\n'}, {'number': 8, 'created': '2015-06-16 19:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/ce90e6de8112bc9883a3dea44c37fd5b8607a7fd', 'message': 'Updated from global requirements\n\nChange-Id: I297a333457514bd67e2964e955edd3cf8b9cb812\n'}, {'number': 9, 'created': '2015-06-16 19:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/ce7f6dbfcbfad88c7ebdffc5b2c60723abc93be1', 'message': 'Updated from global requirements\n\nChange-Id: I297a333457514bd67e2964e955edd3cf8b9cb812\n'}, {'number': 10, 'created': '2015-06-22 08:29:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/48199b2ca11cc3894453590c3813f54e0e19cac5', 'message': 'Updated from global requirements\n\nChange-Id: I297a333457514bd67e2964e955edd3cf8b9cb812\n'}, {'number': 11, 'created': '2015-06-22 20:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/ad5c593c788ef8f0947f67db43bc34c08324d9e5', 'message': 'Updated from global requirements\n\nChange-Id: I297a333457514bd67e2964e955edd3cf8b9cb812\n'}, {'number': 12, 'created': '2015-06-22 20:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/608a8f28a08638c08b569b1175d45b67470de3db', 'message': 'Updated from global requirements\n\nChange-Id: I297a333457514bd67e2964e955edd3cf8b9cb812\n'}, {'number': 13, 'created': '2015-06-23 21:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/8ffc00ea5d17907e12bbc415604bbea5bd801e08', 'message': 'Updated from global requirements\n\nChange-Id: I297a333457514bd67e2964e955edd3cf8b9cb812\n'}, {'number': 14, 'created': '2015-06-24 14:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/b77101fa64284e848324042bd5b27c7d08d7bc2e', 'message': 'Updated from global requirements\n\nChange-Id: I297a333457514bd67e2964e955edd3cf8b9cb812\n'}, {'number': 15, 'created': '2015-06-26 22:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/b58af1c14727c530783837f04a732b5cee7dd315', 'message': 'Updated from global requirements\n\nChange-Id: I297a333457514bd67e2964e955edd3cf8b9cb812\n'}, {'number': 16, 'created': '2015-06-29 00:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/ef2363cf99840882d8d70b43456fe11a16f43cc1', 'message': 'Updated from global requirements\n\nChange-Id: I297a333457514bd67e2964e955edd3cf8b9cb812\n'}, {'number': 17, 'created': '2015-06-29 22:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/c5585d4309828db3aba5bf532a75e52e67ff8b53', 'message': 'Updated from global requirements\n\nChange-Id: I297a333457514bd67e2964e955edd3cf8b9cb812\n'}, {'number': 18, 'created': '2015-06-30 20:04:37.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'setup.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/a6aa90145a17fe7e2353144f4ce647f3b60bb4be', 'message': 'Updated from global requirements\n\nChange-Id: I297a333457514bd67e2964e955edd3cf8b9cb812\n'}]",0,190413,a6aa90145a17fe7e2353144f4ce647f3b60bb4be,53,7,18,11131,,,0,"Updated from global requirements

Change-Id: I297a333457514bd67e2964e955edd3cf8b9cb812
",git fetch https://review.opendev.org/openstack/trove refs/changes/13/190413/15 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,7bfa9e8da9cd440d2ed19cd9da412a0043ad3b47,openstack/requirements,"SQLAlchemy>=0.9.7,<1.1.0","SQLAlchemy>=0.9.7,<=0.9.99",1,1
openstack%2Foslo-specs~master~I258eac447ecc7b71fb02952077cf3ef3ecfe12bb,openstack/oslo-specs,master,I258eac447ecc7b71fb02952077cf3ef3ecfe12bb,Add spec for more-gettext-support,MERGED,2014-09-15 07:25:53.000000000,2015-07-01 07:15:37.000000000,2015-06-23 22:08:56.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 2472}, {'_account_id': 4190}, {'_account_id': 5638}, {'_account_id': 6601}, {'_account_id': 6928}, {'_account_id': 10105}]","[{'number': 1, 'created': '2014-09-15 07:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/0dd2b6d3033ff75bd6477caca7f905f68b67a33d', 'message': 'Add spec for more-gettext-support\n\nDescribe changes to oslo/i18n/ directory to support more gettext\nfunctionality.\nCurrently oslo.i18n library supports standard gettext function.\nAfter adding more gettext functionality, it will help improve\nthe quality of translations.\n\nChange-Id: I258eac447ecc7b71fb02952077cf3ef3ecfe12bb\n'}, {'number': 2, 'created': '2014-10-21 06:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/fe92b106bc896bc31ee815c3df52dda8caeed6e7', 'message': 'Add spec for more-gettext-support\n\nDescribe changes to oslo/i18n/ directory to support more gettext\nfunctionality.\nCurrently oslo.i18n library supports standard gettext function.\nAfter adding more gettext functionality, it will help improve\nthe quality of translations.\n\nChange-Id: I258eac447ecc7b71fb02952077cf3ef3ecfe12bb\n'}, {'number': 3, 'created': '2014-10-21 08:14:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/3720d8e13e227851684235690627a701bbd31f11', 'message': 'Add spec for more-gettext-support\n\nDescribe changes to oslo/i18n/ directory to support more gettext\nfunctionality.\nCurrently oslo.i18n library supports standard gettext function.\nAfter adding more gettext functionality, it will help improve\nthe quality of translations.\n\nChange-Id: I258eac447ecc7b71fb02952077cf3ef3ecfe12bb\n'}, {'number': 4, 'created': '2014-10-24 16:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/dee5f7c8d7daee3c77cc2c16da5b0822bf2e4e43', 'message': 'i18n: Add spec for more-gettext-support\n\nDescribe changes to oslo/i18n/ directory to support more gettext\nfunctionality.\nCurrently oslo.i18n library supports standard gettext function.\nAfter adding more gettext functionality, it will help improve\nthe quality of translations.\n\nChange-Id: I258eac447ecc7b71fb02952077cf3ef3ecfe12bb\n'}, {'number': 5, 'created': '2015-01-04 08:32:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/55411b3fcf34207ba072857775df053eba072caf', 'message': 'Add spec for more-gettext-support\n\nDescribe changes to oslo_i18n/ directory to support more gettext\nfunctionality.\nCurrently oslo.i18n library supports standard gettext function.\nAfter adding more gettext functionality, it will help improve\nthe quality of translations.\n\nChange-Id: I258eac447ecc7b71fb02952077cf3ef3ecfe12bb\n'}, {'number': 6, 'created': '2015-06-18 08:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/681ac18fc6672a49343846894ba4ca8e608d18ce', 'message': 'Add spec for more-gettext-support\n\nDescribe changes to oslo_i18n/ directory to support more gettext\nfunctionality.\nCurrently oslo.i18n library supports standard gettext function.\nAfter adding more gettext functionality, it will help improve\nthe quality of translations.\n\nChange-Id: I258eac447ecc7b71fb02952077cf3ef3ecfe12bb\n'}, {'number': 7, 'created': '2015-06-19 03:19:13.000000000', 'files': ['specs/liberty/more-gettext-support.rst'], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/c3d46b37e2313e634e3cc233df295a8b318b64db', 'message': 'Add spec for more-gettext-support\n\nDescribe changes to oslo_i18n/ directory to support more gettext\nfunctionality.\nCurrently oslo.i18n library supports standard gettext function.\nAfter adding more gettext functionality, it will help improve\nthe quality of translations.\n\nChange-Id: I258eac447ecc7b71fb02952077cf3ef3ecfe12bb\n'}]",27,121459,c3d46b37e2313e634e3cc233df295a8b318b64db,54,8,7,10105,,,0,"Add spec for more-gettext-support

Describe changes to oslo_i18n/ directory to support more gettext
functionality.
Currently oslo.i18n library supports standard gettext function.
After adding more gettext functionality, it will help improve
the quality of translations.

Change-Id: I258eac447ecc7b71fb02952077cf3ef3ecfe12bb
",git fetch https://review.opendev.org/openstack/oslo-specs refs/changes/59/121459/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/juno/more-gettext-support.rst'],1,0dd2b6d3033ff75bd6477caca7f905f68b67a33d,bp/more-gettext-support,"================================================ Extend the gettext support of oslo.i18n library ================================================ https://blueprints.launchpad.net/oslo.i18n/+spec/more-gettext-support The oslo.i18n library already supports the standard gettext function. But the ""contextual markers"" and ""plural form"" gettext functions are needed for translations. See the Reference - Horizon Translation Wiki. Problem description =================== The standard gettext function support the most of use cases of translations. But there are two situations needed to be addressed: * different translations of the same English words from different contexts, such as menu item and label; * plural form of some languages like English, different translations are needed for single item or plural items; Proposed change =============== In python gettext module, ""contextual markers"" and ""plural form"" are supported but without lazy translation support. The plan is to add the two features with lazy translation support in oslo.i18n library. oslo.i18n will provide pgettext, ngettext and ungettext as additional methods. Alternatives ------------ Actually we can translate without using ""contextual markers"" or ""plural form"". But in some cases, ""contextual markers"" can reduce ambiguities, ""plural form"" can improve the translation quality. Impact on Existing APIs ----------------------- The new pgettext, ngettext and ungettext methods will be provided, and exported from the library. Security impact --------------- None Performance Impact ------------------ For using the new methods, some gettext call _(""str"") needs to be replaced by pgettext(""context"", ""str""), or ngettext(""singular"", ""plural"", count), or ungexttext(""singular"", ""plural"", count). As new methods requires additional arguments, only user cases where new methods can improve the translation quality need to switch to use the new methods. Most of the code can still use the standard gettext function. Configuration Impact -------------------- None Developer Impact ---------------- This spec only adds more functions to oslo.i18n, developers only need to switch to the new functions when improving translations. If no problem, the code can still use the standard gettext function. Testing Impact -------------- None Implementation ============== Assignee(s) ----------- Primary assignee: alexepico Other contributors: None Milestones ---------- Target Milestone for completion: export the pgettext, ngettext and ungettext functions from oslo.i18n. Work Items ---------- * implement class ContextMessage; * implement class PluralMessage; * create pgettext, ngettext and ungettext wrapper functions; Incubation ========== N/A Adoption -------- N/A Library ------- N/A Anticipated API Stabilization ----------------------------- New pgettext, ngettext and ungettext functions will be provided in oslo.i18n. Documentation Impact ==================== Translation team needs to translate ""contextual markers"" and ""plural form"" gettext message if used by developers. Dependencies ============ - https://blueprints.launchpad.net/oslo/+spec/graduate-oslo-i18n References ========== * Horizon Translation Wiki: https://wiki.openstack.org/wiki/I18n/TranslatableStrings .. note:: This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ",,158,0
openstack%2Fproject-config~master~I1d254c42e0bc2550ceeb768532448b5797d87caf,openstack/project-config,master,I1d254c42e0bc2550ceeb768532448b5797d87caf,Really fix requirement checking.,MERGED,2015-07-01 02:30:14.000000000,2015-07-01 07:10:18.000000000,2015-07-01 07:10:16.000000000,"[{'_account_id': 3}, {'_account_id': 4190}, {'_account_id': 6547}, {'_account_id': 7069}, {'_account_id': 14084}]","[{'number': 1, 'created': '2015-07-01 02:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/1e534fd0ce5d584f33df5cafbb46ff69ab1092fd', 'message': ""Really fix requirement checking.\n\n- Don't show the present-in-multiple files message unless it really is.\n- Don't error on the target branch.\n- Do error on the branch being submitted.\n- Output what files we've looked at.\n- Output what branch we're looking at.\n\nChange-Id: I1d254c42e0bc2550ceeb768532448b5797d87caf\n""}, {'number': 2, 'created': '2015-07-01 02:31:27.000000000', 'files': ['jenkins/scripts/project-requirements-change.py'], 'web_link': 'https://opendev.org/openstack/project-config/commit/1508a4c88ca2063f09783bd32dd18f217d5dd9cf', 'message': ""Really fix requirement checking.\n\n- Don't show the present-in-multiple files message unless it really is.\n- Don't error on the target branch.\n- Do error on the branch being submitted.\n- Output what files we've looked at.\n- Output what branch we're looking at.\n\nChange-Id: I1d254c42e0bc2550ceeb768532448b5797d87caf\n""}]",3,197400,1508a4c88ca2063f09783bd32dd18f217d5dd9cf,11,5,2,4190,,,0,"Really fix requirement checking.

- Don't show the present-in-multiple files message unless it really is.
- Don't error on the target branch.
- Do error on the branch being submitted.
- Output what files we've looked at.
- Output what branch we're looking at.

Change-Id: I1d254c42e0bc2550ceeb768532448b5797d87caf
",git fetch https://review.opendev.org/openstack/project-config refs/changes/00/197400/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/scripts/project-requirements-change.py'],1,1e534fd0ce5d584f33df5cafbb46ff69ab1092fd,," print(""Checking %(name)s"" % {'name': self.name}) print(""Processing %(fname)s"" % {'fname': fname}) if name in reqs: print(""Requirement %s present in multiple files"" % name) if strict and not '-py' in fname: if not self.failed: self.failed = True print( ""Marking %(name)s as failed - dupe in %(fname)s."" % {'name': self.name, 'fname': fname}) print(""Processing .[%(extra)s]"" % {'extra': name}) head_reqs.process() # Don't error on the target branch being broken. branch_reqs.process(strict=False)"," print(""Requirement %s present in multiple files"" % name) if strict and name in reqs and not '-py' in fname: if not self.failed: self.failed = True print( ""Marking %(name)s as failed."" % {'name': self.name}) head_reqs.process(strict=False) branch_reqs.process()",14,9
openstack%2Fkolla~master~I873529c205786b3d9f410374f0dc6410dadcbdc4,openstack/kolla,master,I873529c205786b3d9f410374f0dc6410dadcbdc4,Removing kollaglue/centos-rdo-zaqar from excluded_images,MERGED,2015-07-01 06:28:03.000000000,2015-07-01 07:05:30.000000000,2015-07-01 07:05:29.000000000,"[{'_account_id': 3}, {'_account_id': 13039}, {'_account_id': 14119}]","[{'number': 1, 'created': '2015-07-01 06:28:03.000000000', 'files': ['tests/test_images.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/3a4500c1220f11aa01faabf3ae4e74b6697861c0', 'message': ""Removing kollaglue/centos-rdo-zaqar from excluded_images\n\nNow kollaglue/centos-rdo-zaqar is building sucesfully,\ntherefore we shoudn't exclude it.\n\nChange-Id: I873529c205786b3d9f410374f0dc6410dadcbdc4\nCloses-Bug: #1470348\n""}]",0,197436,3a4500c1220f11aa01faabf3ae4e74b6697861c0,7,3,1,14027,,,0,"Removing kollaglue/centos-rdo-zaqar from excluded_images

Now kollaglue/centos-rdo-zaqar is building sucesfully,
therefore we shoudn't exclude it.

Change-Id: I873529c205786b3d9f410374f0dc6410dadcbdc4
Closes-Bug: #1470348
",git fetch https://review.opendev.org/openstack/kolla refs/changes/36/197436/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test_images.py'],1,3a4500c1220f11aa01faabf3ae4e74b6697861c0,bug/1470348,," ""kollaglue/centos-rdo-zaqar"",",0,1
openstack%2Ftrove~master~I5fe3a29efde2136aa81d2c852a1378252f8fbd5b,openstack/trove,master,I5fe3a29efde2136aa81d2c852a1378252f8fbd5b,Fix ssl.PROTOCOL_SSLv3 not supported by Python 2.7.9,MERGED,2015-06-30 17:34:23.000000000,2015-07-01 06:35:50.000000000,2015-07-01 06:35:48.000000000,"[{'_account_id': 3}, {'_account_id': 4240}, {'_account_id': 5293}, {'_account_id': 6413}, {'_account_id': 7806}, {'_account_id': 15321}]","[{'number': 1, 'created': '2015-06-30 17:34:23.000000000', 'files': ['trove/openstack/common/sslutils.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/ac8a8b9158d50475aa0a45859a73009d9a872110', 'message': ""Fix ssl.PROTOCOL_SSLv3 not supported by Python 2.7.9\n\nPython 2.7.9 doesn't support ssl.PROTOCOL_SSLv3 anymore due to the POODLE\nattack. We should remove the use of ssl.PROTOCOL_SSLv3 in trove.\n\nChange-Id: I5fe3a29efde2136aa81d2c852a1378252f8fbd5b\nCloses-Bug: 1430137\n""}]",0,197191,ac8a8b9158d50475aa0a45859a73009d9a872110,10,6,1,11805,,,0,"Fix ssl.PROTOCOL_SSLv3 not supported by Python 2.7.9

Python 2.7.9 doesn't support ssl.PROTOCOL_SSLv3 anymore due to the POODLE
attack. We should remove the use of ssl.PROTOCOL_SSLv3 in trove.

Change-Id: I5fe3a29efde2136aa81d2c852a1378252f8fbd5b
Closes-Bug: 1430137
",git fetch https://review.opendev.org/openstack/trove refs/changes/91/197191/1 && git format-patch -1 --stdout FETCH_HEAD,['trove/openstack/common/sslutils.py'],1,ac8a8b9158d50475aa0a45859a73009d9a872110,bug/1430137,"try: _SSL_PROTOCOLS[""sslv3""] = ssl.PROTOCOL_SSLv3 except AttributeError: pass "," ""sslv3"": ssl.PROTOCOL_SSLv3",5,1
openstack%2Fapi-site~master~Id84a52f6f710aff245a8e0c417d1d8d3cc4e7578,openstack/api-site,master,Id84a52f6f710aff245a8e0c417d1d8d3cc4e7578,Imported Translations from Transifex,MERGED,2015-07-01 06:04:04.000000000,2015-07-01 06:29:55.000000000,2015-07-01 06:29:53.000000000,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-07-01 06:04:04.000000000', 'files': ['api-ref/locale/api-ref.pot', 'api-guide/locale/es.po', 'api-quick-start/locale/ko_KR.po', 'api-guide/locale/ko_KR.po', 'api-guide/locale/vi_VN.po', 'api-guide/locale/en_GB.po', 'api-quick-start/locale/es.po', 'api-quick-start/locale/it.po', 'api-ref-guides/locale/api-ref-guides.pot', 'api-guide/locale/fr.po', 'api-guide/locale/pt.po', 'api-guide/locale/nl_NL.po', 'api-guide/locale/ru.po', 'api-quick-start/locale/api-quick-start.pot', 'api-ref-guides/locale/fr.po', 'api-guide/locale/sv.po', 'api-guide/locale/de.po', 'api-quick-start/locale/ja.po', 'api-guide/locale/zh_CN.po', 'api-ref-guides/locale/de.po', 'api-guide/locale/hi.po', 'api-quick-start/locale/de.po', 'api-guide/locale/pa_IN.po', 'api-ref-guides/locale/it.po', 'api-guide/locale/hu.po', 'api-guide/locale/mr_IN.po', 'api-ref-guides/locale/ja.po', 'api-ref-guides/locale/ko_KR.po', 'api-quick-start/locale/vi_VN.po', 'api-guide/locale/api-guide.pot', 'api-quick-start/locale/ca.po', 'api-quick-start/locale/pt_BR.po', 'api-guide/locale/it.po', 'api-quick-start/locale/fr.po', 'api-quick-start/locale/zh_CN.po'], 'web_link': 'https://opendev.org/openstack/api-site/commit/334607e23650c50eb7b7dcccaf24c1845efa5d31', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Id84a52f6f710aff245a8e0c417d1d8d3cc4e7578\n'}]",0,197429,334607e23650c50eb7b7dcccaf24c1845efa5d31,6,2,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: Id84a52f6f710aff245a8e0c417d1d8d3cc4e7578
",git fetch https://review.opendev.org/openstack/api-site refs/changes/29/197429/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/locale/api-ref.pot', 'api-guide/locale/es.po', 'api-quick-start/locale/ko_KR.po', 'api-guide/locale/ko_KR.po', 'api-guide/locale/vi_VN.po', 'api-guide/locale/en_GB.po', 'api-quick-start/locale/es.po', 'api-quick-start/locale/it.po', 'api-ref-guides/locale/api-ref-guides.pot', 'api-guide/locale/fr.po', 'api-guide/locale/pt.po', 'api-guide/locale/nl_NL.po', 'api-guide/locale/ru.po', 'api-quick-start/locale/api-quick-start.pot', 'api-ref-guides/locale/fr.po', 'api-guide/locale/sv.po', 'api-guide/locale/de.po', 'api-quick-start/locale/ja.po', 'api-guide/locale/zh_CN.po', 'api-ref-guides/locale/de.po', 'api-guide/locale/hi.po', 'api-quick-start/locale/de.po', 'api-guide/locale/pa_IN.po', 'api-ref-guides/locale/it.po', 'api-guide/locale/hu.po', 'api-guide/locale/mr_IN.po', 'api-ref-guides/locale/ja.po', 'api-ref-guides/locale/ko_KR.po', 'api-quick-start/locale/vi_VN.po', 'api-guide/locale/api-guide.pot', 'api-quick-start/locale/ca.po', 'api-quick-start/locale/pt_BR.po', 'api-guide/locale/it.po', 'api-quick-start/locale/fr.po', 'api-quick-start/locale/zh_CN.po']",35,334607e23650c50eb7b7dcccaf24c1845efa5d31,transifex/translations,"""POT-Creation-Date: 2015-06-30 17:15+0000\n"" ""PO-Revision-Date: 2015-06-30 04:06+0000\n"" ""Last-Translator: openstackjenkins <jenkins@openstack.org>\n""","""POT-Creation-Date: 2015-05-26 14:28+0000\n"" ""PO-Revision-Date: 2015-05-13 19:17+0000\n"" ""Last-Translator: 颜海峰 <yanheven@gmail.com>\n""msgid """" ""Although you install each OpenStack service separately, the OpenStack "" ""services work together to meet your cloud needs: Identity, Compute, Image "" ""service, Block Storage, Networking (neutron), Object Storage, Orchestration, "" ""and Telemetry. With the <link href=\""http://www.trystack.org/\"">TryStack</"" ""link> OpenStack installation, these services work together in the background "" ""of the installation."" msgstr """" ""尽管你是分别安装openstack的各个服务,但是这些服务是一同工作来满足的的云计算需"" ""求:身份认证,计算,镜像服务,块存储,网络(Neutron),对象存储,编排服务和计量.通过"" ""<link href=\""http://www.trystack.org/\"">TryStack</link> 的openstack安装,这些"" ""服务在后台一同工作."" ""Both Mozilla and Google provide browser-based graphical interfaces for REST. "" ""For Firefox, see <link href=\""https://addons.mozilla.org/en-US/firefox/addon/"" ""restclient/\"">RESTClient</link>. For Chrome, see <link href=\""http://code."" ""google.com/p/rest-client/\"">rest-client</link>."" msgstr """" ""Mozilla 和 Google 都为 REST 提供了基于浏览器的图形界面。对于 Firefox，请参见 "" ""<link href=\""https://addons.mozilla.org/en-US/firefox/addon/restclient/"" ""\"">RESTClient</link>。对于Chrome，则请参考 <link href=\""http://code.google."" ""com/p/rest-client/\"">rest-client</link>。"" msgid """"msgid """" ""For complete information about the OpenStack clients, including how to "" ""source the <filename>openrc</filename> file, see <link href=\""http://docs."" ""openstack.org/user-guide/content/\""><citetitle>OpenStack End User Guide</"" ""citetitle></link>, <link href=\""http://docs.openstack.org/user-guide-admin/"" ""content/\""><citetitle>OpenStack Admin User Guide</citetitle></link>, and "" ""<link href=\""http://docs.openstack.org/cli-reference/content/"" ""\""><citetitle>OpenStack Command-Line Interface Reference</citetitle></link>."" msgstr """" ""关于 OpenStack 客户端的完整信息，包括如何 source <filename>openrc</filename> "" ""文件，请参考 <link href=\""http://docs.openstack.org/user-guide/content/"" ""\""><citetitle>OpenStack 最终用户指南</citetitle></link>，<link href=\""http://"" ""docs.openstack.org/user-guide-admin/content/\""><citetitle>OpenStack 管理员用"" ""户指南</citetitle></link>以及 <link href=\""http://docs.openstack.org/cli-"" ""reference/content/\""><citetitle>OpenStack 命令行接口参考</citetitle></link>。"" ""For information about the command-line clients, see <link href=\""http://docs."" ""openstack.org/cli-reference/content/\""><citetitle>OpenStack Command-Line "" ""Interface Reference</citetitle></link>."" msgstr """" ""参考 <link href=\""http://docs.openstack.org/cli-reference/content/"" ""\""><citetitle>OpenStack 命令行接口参考</citetitle></link>以了解更多关于命令行"" ""客户端的信息。"" msgid """" ""For information about the default ports that the OpenStack components use, "" ""see <link href=\""http://docs.openstack.org/trunk/config-reference/content/"" ""firewalls-default-ports.html\""><citetitle>Appendix A. Firewalls and default "" ""ports</citetitle></link> in the <citetitle>OpenStack Configuration "" ""Reference</citetitle>."" msgstr """" ""关于 OpenStack 各组件使用的默认端口的信息，请参考 <citetitle>OpenStack 配置参"" ""考</citetitle>中的<link href=\""http://docs.openstack.org/trunk/config-"" ""reference/content/firewalls-default-ports.html\""><citetitle>附录 A. 防火墙及"" ""默认端口</citetitle></link>。"" msgid """"msgid """" ""The examples in this section use cURL commands. For information about cURL, "" ""see <link href=\""http://curl.haxx.se/\"">http://curl.haxx.se/</link>. For "" ""information about the OpenStack APIs, see <link href=\""http://developer."" ""openstack.org/api-ref.html\"">OpenStack API Reference</link>."" msgstr """" ""本节的示例都是使用 cURL 命令来完成的。关于 cURL 的相关信息，请参考 <link "" ""href=\""http://curl.haxx.se/\"">http://curl.haxx.se/</link>。关于 OpenStack "" ""API 的相关信息，则请参考 <link href=\""http://developer.openstack.org/api-ref."" ""html\"">OpenStack API 参考</link>。"" ""This section shows how to make some basic Compute API calls. For a complete "" ""list of Compute API calls, see <link href=\""http://developer.openstack.org/"" ""api-ref-compute-v2.html\"">Compute APIs and Extensions</link>."" msgstr """" ""本节展示了如何调用基本的计算服务 API。关于完整的计算服务 API 列表，请参考"" ""<link href=\""http://developer.openstack.org/api-ref-compute-v2.html\"">计算服"" ""务 API 和扩展</link>。"" msgid """"msgid """" ""Use <placeholder-1/> to install the OpenStack clients on a Mac OS X or Linux "" ""system. It is easy and ensures that you get the latest version of the client "" ""from the <link href=\""http://pypi.python.org/pypi\"">Python Package Index</"" ""link>. Also, <placeholder-2/> lets you update or remove a package."" msgstr """" ""使用 <placeholder-1/> 在 Mac OS X 或者 Linux 系统上安装 OpenStack 客户端。这"" ""比较方便，并且保证了您能够从 <link href=\""http://pypi.python.org/pypi"" ""\"">Python Package Index</link> 得到最新的版本。 另外，借助 <placeholder-2/> "" ""可以实现更新或者移除 OpenStack 安装包。"" ""Use this SDK to write Python automation scripts that create and manage "" ""resources in your OpenStack cloud. The SDK implements Python bindings to the "" ""OpenStack API, which enables you to perform automation tasks in Python by "" ""making calls on Python objects rather than making REST calls directly. All "" ""OpenStack command-line tools are implemented by using the Python SDK. See "" ""<link href=\""http://docs.openstack.org/user-guide/content/ch_sdk.html"" ""\"">OpenStack Python SDK</link> in the <citetitle>OpenStack End User Guide</"" ""citetitle>."" msgstr """" ""使用这个 SDK 编写能够在您的 OpenStack 云中创建和管理资源的 Python 自动化脚"" ""本。SDK 为 OpenStack API 实现了 Python 语言绑定，这让用户在 Python 中能够通过"" ""调用 Python 对象来实现自动化任务，而不用直接调用 REST。所有的 OpenStack 命令"" ""行工具都已经在 Python SDK 中得到了实现。请参考 <citetitle>OpenStack 最终用户"" ""指南</citetitle>中的 <link href=\""http://docs.openstack.org/user-guide/"" ""content/ch_sdk.html\""> OpenStack Python SDK</link>。"" msgid """"",1818,2928
openstack%2Fzaqar-specs~master~Iec189edd9a022ff99c0a8908f2bf3fdd86c18098,openstack/zaqar-specs,master,Iec189edd9a022ff99c0a8908f2bf3fdd86c18098,Moving not implemented specs to backlog,MERGED,2015-07-01 06:15:12.000000000,2015-07-01 06:27:05.000000000,2015-07-01 06:27:05.000000000,"[{'_account_id': 3}, {'_account_id': 6159}]","[{'number': 1, 'created': '2015-07-01 06:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/e810941e10fb7cd846bd92349cb4b35e2efffb4b', 'message': ""Moving not implemented specs to backlog\n\nWe've agreed on keeping all specs under backlog until they are\nimplemented. This way we'll be able to focus more on the design rather\nthan worrying about the scheudle. Whenever the implementation is ready,\nwe'll move the spec under the release directory.\n\nChange-Id: Iec189edd9a022ff99c0a8908f2bf3fdd86c18098\n""}, {'number': 2, 'created': '2015-07-01 06:20:03.000000000', 'files': ['specs/backlog/index.rst', 'specs/backlog/pre-signed-url.rst'], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/832146cf668625d110d1fc00b12ba64619900e14', 'message': ""Moving not implemented specs to backlog\n\nWe've agreed on keeping all specs under backlog until they are\nimplemented. This way we'll be able to focus more on the design rather\nthan worrying about the scheudle. Whenever the implementation is ready,\nwe'll move the spec under the release directory.\n\nChange-Id: Iec189edd9a022ff99c0a8908f2bf3fdd86c18098\n""}]",0,197432,832146cf668625d110d1fc00b12ba64619900e14,8,2,2,6159,,,0,"Moving not implemented specs to backlog

We've agreed on keeping all specs under backlog until they are
implemented. This way we'll be able to focus more on the design rather
than worrying about the scheudle. Whenever the implementation is ready,
we'll move the spec under the release directory.

Change-Id: Iec189edd9a022ff99c0a8908f2bf3fdd86c18098
",git fetch https://review.opendev.org/openstack/zaqar-specs refs/changes/32/197432/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/backlog/pre-signed-url.rst'],1,e810941e10fb7cd846bd92349cb4b35e2efffb4b,,,,0,0
openstack%2Foperations-guide~master~I82ab55ff5d34734861c347f2474a3e597f894e9b,openstack/operations-guide,master,I82ab55ff5d34734861c347f2474a3e597f894e9b,Imported Translations from Transifex,MERGED,2015-07-01 06:00:43.000000000,2015-07-01 06:25:52.000000000,2015-07-01 06:25:51.000000000,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-07-01 06:00:43.000000000', 'files': ['doc/openstack-ops/locale/openstack-ops.pot', 'doc/openstack-ops/locale/ja.po'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/dcdf6da353ae38a5439ca781371d7ccfd6a6e0c9', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I82ab55ff5d34734861c347f2474a3e597f894e9b\n'}]",0,197426,dcdf6da353ae38a5439ca781371d7ccfd6a6e0c9,6,2,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I82ab55ff5d34734861c347f2474a3e597f894e9b
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/26/197426/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/openstack-ops/locale/openstack-ops.pot', 'doc/openstack-ops/locale/ja.po']",2,dcdf6da353ae38a5439ca781371d7ccfd6a6e0c9,transifex/translations,"""POT-Creation-Date: 2015-06-30 15:08+0000\n"" ""PO-Revision-Date: 2015-07-01 03:42+0000\n""""<emphasis>Critical</emphasis> if the bug prevents a key feature from working "" ""properly (regression) for all users (or without a simple workaround) or "" ""results in data loss"" msgstr """" ""<emphasis>Critical</emphasis> このバグにより、目玉となる機能が全てのユーザで"" ""正常に動作しない場合 (または簡単なワークアラウンドでは動作しない場合)、もしく"" ""はデータロスにつながるような場合"" msgid """"""<emphasis>Wishlist</emphasis> if the bug is not really a bug but rather a "" ""welcome change in behavior"" msgstr """" ""<emphasis>Wishlist</emphasis> 実際にはバグではないが、そのように動作を変更し"" ""た方よいものの場合"" msgid ""<filename>cinder.conf</filename>:"" msgstr ""<filename>cinder.conf</filename>:"" msgid """" ""<filename>glance-api.conf</filename> and <filename>glance-registry.conf</"" ""filename>:"" msgstr """" ""<filename>glance-api.conf</filename>、<filename>glance-registry.conf</"" ""filename>:"" msgid ""<filename>keystone.conf</filename>:"" msgstr ""<filename>keystone.conf</filename>:"" msgid ""<filename>nova.conf</filename>:"" msgstr ""<filename>nova.conf</filename>:"" msgid """"msgid ""After the Change Is Accepted"" msgstr ""変更が受理された後"" ""As part of our commitment to work with the security community, the team "" ""ensures that proper credit is given to security researchers who responsibly "" ""report issues in OpenStack."" msgstr """" ""セキュリティコミュニティと仕事をする義務の一つとして、セキュリティ情報の公開"" ""が、確実に、OpenStack のセキュリティ問題を責任をもって扱うセキュリティ研究者"" ""の適切なお墨付きを得て行われるようにします。"" msgid """"msgid """" ""At this stage, a developer works on a fix. During that time, to avoid "" ""duplicating the work, the developer should set:"" msgstr """" ""この段階では、開発者が修正を行います。修正を行っている間、作業の重複を避ける"" ""ため、バグの状態を以下のようにセットすべきです。"" msgid ""By default, Object Storage logs to syslog."" msgstr ""デフォルトで Object Storage は syslog にログを出力します。"" msgid ""Commodity Storage Back-end Technologies"" msgstr ""コモディティハードウェア上の ストレージ技術""msgid ""Confirming and Prioritizing"" msgstr ""バグの確認と優先付け""msgid ""Description of the expected results instead of what you saw"" msgstr ""期待される結果の説明 (出くわした現象ではなく)"" ""<filename>/etc/swift/proxy-server.conf</filename> の <code>[filter:"" ""ratelimit]</code> セクションを探し、その後ろに以下の環境定義セクションを貼り"" ""付けてください。""""If the bug contains the solution, or a patch, set the bug status to "" ""<emphasis>Triaged</emphasis>."" msgstr """" ""バグ報告に解決方法やパッチが書かれている場合、そのバグの状態は "" ""<emphasis>Triaged</emphasis> にセットされる。"" msgid """"""If the issue is extremely sensitive, send an encrypted email to one of the "" ""team's members. Find their GPG keys at <link xlink:href=\""http://www."" ""openstack.org/projects/openstack-security/\"">OpenStack Security</link>."" msgstr """" ""問題が極めて慎重に扱うべき情報の場合は、脆弱性管理チームのメンバーの誰かに暗"" ""号化したメールを送って下さい。メンバーの GPG 鍵は <link xlink:href=\""http://"" ""www.openstack.org/projects/openstack-security/\"">OpenStack Security</link> で"" ""入手できます。"" msgid """"""In the bug comments, you can contribute instructions on how to fix a given "" ""bug, and set it to <emphasis>Triaged</emphasis>. Or you can directly fix it: "" ""assign the bug to yourself, set it to <emphasis>In progress</emphasis>, "" ""branch the code, implement the fix, and propose your change for merging. But "" ""let's not get ahead of ourselves; there are bug triaging tasks as well."" msgstr """" ""バグのコメントでは、既知のバグの修正方法に関して案を出したり、バグの状態を "" ""<emphasis>Triaged</emphasis> (有効な報告か、対応が必要かなどを分類した状態) "" ""にセットすることができます。バグを直接修正することもできます。その場合は、バ"" ""グを自分に割り当てて、状態を <emphasis>In progress</emphasis> (進行中) にセッ"" ""トし、コードのブランチを作り、マージしてもらうように変更を提案するという流れ"" ""になります。でも、先走りし過ぎないようにしましょう。バグを分類するという仕事"" ""もありますから。"" msgid """"""Once you have reproduced the issue (or are 100 percent confident that this "" ""is indeed a valid bug) and have permissions to do so, set:"" msgstr """" ""にセットされます。問題を再現できた場合 (もしくはこの報告がバグであると 100％ "" ""確信を持てる場合) で、セットする権限を持っている場合には、"" msgid """"msgid """" ""Open a bug in Launchpad and mark it as a \""security bug.\"" This makes the "" ""bug private and accessible to only the Vulnerability Management Team."" msgstr """" ""Launchpad でバグ報告を行い、「security bug」のマークを付ける。マークを付ける"" ""と、そのバグは一般には公開されなくなり、脆弱性管理チームだけが参照できるよう"" ""になります。"" msgid ""Portions of your log files so that you include only relevant excerpts"" msgstr ""関連部分のみを抜粋したログファイルの一部"" msgid """" ""Report a bug in <link xlink:href=\""https://bugs.launchpad.net/cinder/"" ""+filebug/+login\"">cinder</link>."" msgstr """" ""<link xlink:href=\""https://bugs.launchpad.net/cinder/+filebug/+login"" ""\"">cinder</link> のバグ報告。"" msgid """" ""Report a bug in <link xlink:href=\""https://bugs.launchpad.net/glance/"" ""+filebug/+login\"">glance</link>."" msgstr """" ""<link xlink:href=\""https://bugs.launchpad.net/glance/+filebug/+login"" ""\"">glance</link> のバグ報告。"" msgid """" ""Report a bug in <link xlink:href=\""https://bugs.launchpad.net/horizon/"" ""+filebug/+login\"">horizon</link>."" msgstr """" ""<link xlink:href=\""https://bugs.launchpad.net/horizon/+filebug/+login"" ""\"">horizon</link> のバグ報告。"" msgid """" ""Report a bug in <link xlink:href=\""https://bugs.launchpad.net/keystone/"" ""+filebug/+login\"">keystone</link>."" msgstr """" ""<link xlink:href=\""https://bugs.launchpad.net/keystone/+filebug/+login"" ""\"">keystone</link> のバグ報告。"" msgid """" ""Report a bug in <link xlink:href=\""https://bugs.launchpad.net/neutron/"" ""+filebug/+login\"">neutron</link>."" msgstr """" ""<link xlink:href=\""https://bugs.launchpad.net/neutron/+filebug/+login"" ""\"">neutron</link> のバグ報告。"" msgid """" ""Report a bug in <link xlink:href=\""https://bugs.launchpad.net/nova/+filebug/"" ""+login\"">nova</link>."" msgstr """" ""<link xlink:href=\""https://bugs.launchpad.net/nova/+filebug/+login\"">nova</"" ""link> のバグ報告。"" msgid """" ""Report a bug in <link xlink:href=\""https://bugs.launchpad.net/python-"" ""cinderclient/+filebug/+login\"">python-cinderclient</link>."" msgstr """" ""<link xlink:href=\""https://bugs.launchpad.net/python-cinderclient/+filebug/"" ""+login\"">python-cinderclient</link> のバグ報告。"" msgid """" ""Report a bug in <link xlink:href=\""https://bugs.launchpad.net/python-"" ""glanceclient/+filebug/+login\"">python-glanceclient</link>."" msgstr """" ""<link xlink:href=\""https://bugs.launchpad.net/python-glanceclient/+filebug/"" ""+login\"">python-glanceclient</link> のバグ報告。"" msgid """" ""Report a bug in <link xlink:href=\""https://bugs.launchpad.net/python-"" ""keystoneclient/+filebug/+login\"">python-keystoneclient</link>."" msgstr """" ""<link xlink:href=\""https://bugs.launchpad.net/python-keystoneclient/+filebug/"" ""+login\"">python-keystoneclient</link> のバグ報告。"" msgid """" ""Report a bug in <link xlink:href=\""https://bugs.launchpad.net/python-"" ""neutronclient/+filebug/+login\"">python-neutronclient</link>."" msgstr """" ""<link xlink:href=\""https://bugs.launchpad.net/python-neutronclient/+filebug/"" ""+login\"">python-neutronclient</link> のバグ報告。"" msgid """" ""Report a bug in <link xlink:href=\""https://bugs.launchpad.net/python-"" ""novaclient/+filebug/+login\"">python-novaclient</link>."" msgstr """" ""<link xlink:href=\""https://bugs.launchpad.net/python-novaclient/+filebug/"" ""+login\"">python-novaclient</link> のバグ報告。"" msgid """" ""Report a bug in <link xlink:href=\""https://bugs.launchpad.net/python-"" ""swiftclient/+filebug/+login\"">python-swiftclient</link>."" msgstr """" ""<link xlink:href=\""https://bugs.launchpad.net/python-swiftclient/+filebug/"" ""+login\"">python-swiftclient</link> のバグ報告。"" msgid """" ""Report a bug in <link xlink:href=\""https://bugs.launchpad.net/swift/+filebug/"" ""+login\"">swift</link>."" msgstr """" ""<link xlink:href=\""https://bugs.launchpad.net/swift/+filebug/+login\"">swift</"" ""link> のバグ報告。"" msgid """" ""Report a bug with the <link xlink:href=\""https://bugs.launchpad.net/"" ""openstack-api-site/+filebug/+login\"">API documentation</link>."" msgstr """" ""<link xlink:href=\""https://bugs.launchpad.net/openstack-api-site/+filebug/"" ""+login\"">API ドキュメント</link> のバグ報告。"" msgid """" ""Report a bug with the <link xlink:href=\""https://bugs.launchpad.net/"" ""openstack-manuals/+filebug/+login\"">documentation</link>."" msgstr """" ""<link xlink:href=\""https://bugs.launchpad.net/openstack-manuals/+filebug/"" ""+login\"">ドキュメント</link> のバグ報告。"" msgid ""Responsible disclosure"" msgstr ""Responsible Disclosure（責任ある情報公開）"" msgid """" ""Since you've made it this far in the book, you should consider becoming an "" ""official individual member of the community and <link xlink:href=\""https://"" ""www.openstack.org/join/\"">join the OpenStack Foundation</link>. The "" ""OpenStack Foundation is an independent body providing shared resources to "" ""help achieve the OpenStack mission by protecting, empowering, and promoting "" ""OpenStack software and the community around it, including users, developers, "" ""and the entire ecosystem. We all share the responsibility to make this "" ""community the best it can possibly be, and signing up to be a member is the "" ""first step to participating. Like the software, individual membership within "" ""the OpenStack Foundation is free and accessible to anyone.<indexterm class="" ""\""singular\""><primary>OpenStack community</primary><secondary>joining</"" ""secondary></indexterm>"" msgstr """" ""この本をここまで読んで来たので、あなたはコミュニティの正式な個人メンバーに"" ""なって、<link xlink:href=\""https://www.openstack.org/join/\"">Join The "" ""OpenStack Foundation</link> (https://www.openstack.org/join/) に加入すること"" ""を考えていることでしょう。 OpenStack Foundation は、共有リソースを提供し "" ""OpenStack の目的の達成を支援する独立組織で、OpenStack ソフトウェア、および"" ""ユーザ、開発者、エコシステム全体といった OpenStack を取り巻くコニュニティを守"" ""り、活力を与え、普及の促進を行います。我々全員がこのコミュニティをできる限り"" ""よいものにしていく責任を共有します。メンバーになることはコミュニティに参加す"" ""る最初のステップです。ソフトウェア同様、 OpenStack Foundation の個人会員は無"" ""料で誰でもなることができます。<indexterm class=\""singular"" ""\""><primary>OpenStack コミュニティ</primary><secondary>参加</secondary></"" ""indexterm>"" msgid ""Status: <emphasis>Fix Committed</emphasis>"" msgstr ""Status: <emphasis>Fix Committed</emphasis>"" msgid ""Status: <emphasis>In Progress</emphasis>"" msgstr ""Status: <emphasis>In Progress</emphasis>"" msgid ""Status: <emphasis>Fix Released</emphasis>"" msgstr ""Status: <emphasis>Fix Released</emphasis>"" msgid ""Steps to reproduce the bug, including what went wrong"" msgstr ""バグの再現手順。何がおかしいかも含めてください"" msgid ""The operating system and version where you've identified the bug"" msgstr ""あなたがバグを確認したオペレーティングシステムとそのバージョン"" ""The release, or milestone, or commit ID corresponding to the software that "" ""you are running"" msgstr ""実行しているソフトウェアのリリースやマイルストーン、コミット ID"" msgid """"""The team will curate a set of vulnerability related issues in the issue "" ""tracker. Some of these issues are private to the team and the affected "" ""product leads, but once remediation is in place, all vulnerabilities are "" ""public."" msgstr """" ""脆弱性追跡: このチームはバグ追跡システムに登録された脆弱性に関連する問題の管"" ""理を行います。問題の中には、このチームと影響を受けるプロジェクトの責任者のみ"" ""が参照できる場合もありますが、問題の修正が用意されると、全ての脆弱性は公開さ"" ""れます。"" msgid """"""れます。<indexterm class=\""singular\""><primary>OpenStack Networking "" ""(neutron)</primary><secondary>設定指針</secondary></indexterm>""""To demonstrate customizing OpenStack, we'll create an example of a Compute "" ""scheduler that randomly places an instance on a subset of hosts, depending "" ""on the originating IP address of the request and the prefix of the hostname. "" ""Such an example could be useful when you have a group of users on a subnet "" ""and you want all of their instances to start within some subset of your "" ""hosts."" msgstr """" ""OpenStack のカスタマイズをデモするために、リクエストの送信元IPアドレスとホス"" ""ト名のプレフィックスに基づいてインスタンスを一部のホストにランダムに配置する"" ""ような Compute のスケジューラーの例を作成します。この例は、１つのユーザのグ"" ""ループが１つのサブネットにおり、インスタンスをホスト群の中の一部のサブネット"" ""で起動したい場合に有用です。"" msgid """"""To write a good bug report, the following process is essential. First, "" ""search for the bug to make sure there is no bug already filed for the same "" ""issue. If you find one, be sure to click on \""This bug affects X people. "" ""Does this bug affect you?\"" If you can't find the issue, then enter the "" ""details of your report. It should at least include:"" msgstr """" ""よいバグ報告を書くには、次に述べる手順を踏むことが不可欠です。まず、バグを検"" ""索し、同じ問題に関してすでに登録されているバグがないことを確認します。見つ"" ""かった場合は、\""This bug affects X people. Does this bug affect you?\"" (この"" ""バグは X 人に影響があります。あなたもこのバグの影響を受けますか?) をクリック"" ""するようにして下さい。同じ問題が見つからなかった場合は、バグ報告で詳細を入力"" ""して下さい。少なくとも以下の情報を含めるべきです。"" msgid """"msgid ""Vulnerability tracking"" msgstr ""脆弱性追跡"" ""We provide two ways to report issues to the OpenStack Vulnerability "" ""Management Team, depending on how sensitive the issue is:"" msgstr """" ""OpenStack 脆弱性管理チームに問題を報告する方法は2種類用意されており、問題の重"" ""要度に応じて使い分けて下さい。"" msgid """"""When the fix is ready, the developer proposes a change and gets the change "" ""reviewed."" msgstr ""修正が用意できたら、開発者は変更を提案し、レビューを受けます。"" msgid """"msgid ""group_hosts"" msgstr ""group_hosts"" ","""POT-Creation-Date: 2015-06-27 07:35+0000\n"" ""PO-Revision-Date: 2015-06-28 03:23+0000\n""msgid """" ""<link href=\""http://docs.openstack.org/havana/install-guide/install/apt/"" ""content/nova-network.html\"">Multi-host</link> is a high-availability option "" ""for the network configuration, where the <literal>nova-network</literal> "" ""service is run on every compute node instead of running on only a single "" ""node."" msgstr """" ""<link href=\""http://docs.openstack.org/havana/install-guide/install/apt/"" ""content/nova-network.html\"">マルチホスト</link> とは、ネットワーク設定の高可"" ""用性オプションです。このオプションでは、<literal>nova-network</literal> サー"" ""ビスが単一のノードだけではなく、各コンピュートノードで実行されます。"" msgid """" ""<link href=\""http://www.gossamer-threads.com/lists/openstack/"" ""dev/14696\"">instances losing IP address while running, due to No DHCPOFFER</"" ""link> (http://www.gossamer-threads.com/lists/openstack/dev/14696)"" msgstr """" ""<link href=\""http://www.gossamer-threads.com/lists/openstack/"" ""dev/14696\"">DHCPOFFERが送信されない事による、起動中のインスタンスのIPアドレス"" ""の消失</link> (http://www.gossamer-threads.com/lists/openstack/dev/14696)"" msgid """" ""<link href=\""http://www.gossamer-threads.com/lists/openstack/"" ""operators/18197\"">Problem with Heavy Network IO and Dnsmasq</link> (http://"" ""www.gossamer-threads.com/lists/openstack/operators/18197)"" msgstr """" ""<link href=\""http://www.gossamer-threads.com/lists/openstack/"" ""operators/18197\"">高負荷ネットワークIOとdnsmasqの問題</link> (http://www."" ""gossamer-threads.com/lists/openstack/operators/18197)"" msgid """" ""<link href=\""https://wiki.ubuntu.com/ServerTeam/CloudArchive\"">Ubuntu Cloud "" ""Archive</link> or <link href=\""http://openstack.redhat.com/"" ""Frequently_Asked_Questions\"">RDO</link>*"" msgstr """" ""<link href=\""https://wiki.ubuntu.com/ServerTeam/CloudArchive\"">Ubuntu Cloud "" ""Archive</link> または <link href=\""http://openstack.redhat.com/"" ""Frequently_Asked_Questions\"">RDO</link>*"" msgid """" ""A feature was introduced in Essex to periodically check and see if there "" ""were any <code>_base</code> files not in use. If there were, Nova would "" ""delete them. This idea sounds innocent enough and has some good qualities to "" ""it. But how did this feature end up turned on? It was disabled by default in "" ""Essex. As it should be. It was <link href=\""https://bugs.launchpad.net/nova/"" ""+bug/1029674\"">decided to be turned on in Folsom</link> (https://bugs."" ""launchpad.net/nova/+bug/1029674). I cannot emphasize enough that:"" msgstr """" ""Essex で、<code>_base</code> 下の任意のファイルが使用されていないかどうか定期"" ""的にチェックして確認する機能が導入された。もしあれば、Nova はそのファイルを削"" ""除する。このアイデアは問題がないように見え、品質的にも良いようだった。しか"" ""し、この機能を有効にすると最終的にどうなるのか？Essex ではこの機能がデフォル"" ""トで無効化されていた。そうあるべきであったからだ。これは、<link href="" ""\""https://bugs.launchpad.net/nova/+bug/1029674 \"">Folsom で有効になることが決"" ""定された</link> (https://bugs.launchpad.net/nova/+bug/1029674)。私はそうある"" ""べきとは思わない。何故なら"" ""A good document describing the Object Storage architecture is found within "" ""<link href=\""http://docs.openstack.org/developer/swift/overview_architecture."" ""html\"" title=\""OpenStack wiki\"">the developer documentation</link>—read this "" ""first. Once you understand the architecture, you should know what a proxy "" ""server does and how zones work. However, some important points are often "" ""missed at first glance."" msgstr """" ""オブジェクトストレージのアーキテクチャーについて詳しく説明したドキュメントは "" ""<link href=\""http://docs.openstack.org/developer/swift/overview_architecture."" ""html\"" title=\""OpenStack wiki\"">the developer documentation</link>にありま"" ""す。これをまず参照してください。アーキテクチャーを理解したら、プロキシサー"" ""バーの役割やゾーンの機能について理解できるはずです。しかし、少し見ただけで"" ""は、頻繁に重要なポイントを逃してしまうことがあります。"" msgid """"""A quick Google search turned up this: <link href=\""https://lists.launchpad."" ""net/openstack/msg11696.html\"">DHCP lease errors in VLAN mode</link> (https://"" ""lists.launchpad.net/openstack/msg11696.html) which further supported our "" ""DHCP theory."" msgstr """" ""ちょっと Google 検索した結果、これを見つけた。<link href=\""https://lists."" ""launchpad.net/openstack/msg11696.html\"">VLAN モードでの DHCPリースエラー</"" ""link> (https://lists.launchpad.net/openstack/msg11696.html) 。この情報はその"" ""後の我々の DHCP 方針の支えになった。"" msgid """"""All public access, whether direct, through a command-line client, or through "" ""the web-based dashboard, uses the API service. Find the API reference at "" ""<link href=\""http://api.openstack.org/\""/>.<indexterm class=\""singular"" ""\""><primary>API (application programming interface)</"" ""primary><secondary>design considerations</secondary></indexterm><indexterm "" ""class=\""singular\""><primary>design considerations</primary><secondary>API "" ""support</secondary></indexterm>"" msgstr """" ""すべてのパブリックアクセス（直接アクセス、コマンドライン、ウェブベースダッ"" ""シュボード）はすべてAPIサービスを使用します。APIリファレンスは<link href="" ""\""http://api.openstack.org/\""/>です。<indexterm class=\""singular"" ""\""><primary>API (application programming interface)</primary><secondary>設計"" ""上の考慮事項</secondary></indexterm><indexterm class=\""singular\""><primary>設"" ""計上の考慮事項</primary><secondary>API サポート</secondary></indexterm>"" msgid """" ""All servers running OpenStack components should be able to access an "" ""appropriate NTP server. You may decide to set up one locally or use the "" ""public pools available from the <link href=\""http://www.pool.ntp.org/en/\""> "" ""Network Time Protocol project</link>."" msgstr """" ""OpenStack コンポーネントが稼働しているすべてのサーバは適切なNTPサーバにアクセ"" ""ス可能であるべきです。<link href=\""http://www.pool.ntp.org/en/\""> Network "" ""Time Protocol project</link>が提供しているパブリックサーバかローカルにNTPサー"" ""バを構築するか決定する必要があるでしょう。"" msgid """"""At the end of 2012, Cybera (a nonprofit with a mandate to oversee the "" ""development of cyberinfrastructure in Alberta, Canada) deployed an updated "" ""OpenStack cloud for their <link title=\""DAIR project\"" href=\""http://www."" ""canarie.ca/en/dair-program/about\"">DAIR project</link> (http://www.canarie."" ""ca/en/dair-program/about). A few days into production, a compute node locks "" ""up. Upon rebooting the node, I checked to see what instances were hosted on "" ""that node so I could boot them on behalf of the customer. Luckily, only one "" ""instance."" msgstr """" ""2012年の終わり、Cybera （カナダ アルバータ州にある、サイバーインフラのデプロ"" ""イを監督する権限を持つ非営利団体）が、彼らの <link title=\""DAIR project\"" "" ""href=\""http://www.canarie.ca/en/dair-program/about\"">DAIR プロジェクト</"" ""link> (http://www.canarie.ca/en/dair-program/about) 用に新しい OpenStack クラ"" ""ウドをデプロイした。サービスインから数日後、あるコンピュートノードがロック"" ""アップした。問題のノードの再起動にあたり、私は顧客の権限でインスタンスを起動"" ""するため、そのノード上で何のインスタンスがホスティングされていたかを確認し"" ""た。幸運にも、インスタンスは１つだけだった。"" msgid """"msgid """" ""Ceph's advantages are that it gives the administrator more fine-grained "" ""control over data distribution and replication strategies, enables you to "" ""consolidate your object and block storage, enables very fast provisioning of "" ""boot-from-volume instances using thin provisioning, and supports a "" ""distributed file-system interface, though this interface is <link href="" ""\""http://ceph.com/docs/master/cephfs/\"" title=\""OpenStack wiki\"">not yet "" ""recommended</link> for use in production deployment by the Ceph project."" msgstr """" ""Ceph の利点は、管理者がより細かくデータの分散やレプリカのストラテジーを管理で"" ""きるようになり、オブジェクトとブロックストレージを統合し、シンプロビジョニン"" ""グでボリュームから起動するインスタンスを非常に早くプロビジョニングできるだけ"" ""でなく、分散ファイルシステムのインターフェースもサポートしている点です。ただ"" ""し、このインターフェースは、Ceph プロジェクトによる実稼動デプロイメントでの使"" ""用には、 <link href=\""http://ceph.com/docs/master/cephfs/\"" title="" ""\""OpenStack wiki\"">推奨されていません</link>。"" msgid ""Choosing Storage Backends"" msgstr ""ストレージバックエンドの選択"" msgid ""Commodity Storage Backend Technologies"" msgstr ""商用ストレージバックエンドのテクノロジー""msgid """" ""Congratulations! By now, you should have a solid design for your cloud. We "" ""now recommend that you turn to the OpenStack Installation Guide (<link href="" ""\""http://docs.openstack.org/havana/install-guide/install/apt/\""/> for "" ""Ubuntu, for example), which contains a step-by-step guide on how to manually "" ""install the OpenStack packages and dependencies on your cloud."" msgstr """" ""おめでとう！これでクラウドのための設計が固まりました。次にOpenStack インス"" ""トールガイド(<link href=\""http://docs.openstack.org/havana/install-guide/"" ""install/apt/\""/> Ubuntuの例を挙げます)に進むことをお勧めします。これにはあな"" ""たのクラウドに必要なパッケージやOpenStackの手動インストール手順をステップバイ"" ""ステップで説明しています。""""<filename>/etc/swift/proxy-server.conf</filename> の <code>[filter:ratelimit]"" ""</code> セクションを探し、その後ろに以下の環境定義セクションを貼り付けてくだ"" ""さい。""msgid """" ""OpenStack Logical Architecture (<link href=\""http://docs.openstack.org/"" ""openstack-ops/content/figures/2/figures/osog_0001.png\""/>)"" msgstr """" ""OpenStack の論理アーキテクチャ (<link href=\""http://docs.openstack.org/"" ""openstack-ops/content/figures/2/figures/osog_0001.png\""/>)"" msgid """" ""Several premade images exist and can easily be imported into the Image "" ""service. A common image to add is the CirrOS image, which is very small and "" ""used for testing purposes.<indexterm class=\""singular\""><primary>images</"" ""primary><secondary>adding</secondary></indexterm> To add this image, simply "" ""do:"" msgstr """" ""いくつかの構築済みイメージが存在します。簡単に Image service の中にインポート"" ""できます。追加する一般的なイメージは、非常に小さく、テスト目的に使用される "" ""CirrOS イメージです。<indexterm class=\""singular\""><primary>イメージ</"" ""primary><secondary>追加</secondary></indexterm>このイメージを追加するには、単"" ""に次のようにします。"" ""The <code>stack.sh</code> script takes a while to run. Perhaps you can take "" ""this opportunity to <link href=\""https://www.openstack.org/join/\"">join the "" ""OpenStack Foundation</link>."" msgstr """" ""<code>stack.sh</code> の実行には、しばらく時間がかかります。できれば、この時"" ""間を使って <link href=\""http://www.openstack.org/join/\"">OpenStack "" ""Foundation に参加</link>してください。"" msgid """"""The roadmap for the next release as it is developed can be seen at <link "" ""href=\""http://status.openstack.org/release/\"">Releases</link>."" msgstr """" ""次のリリースに向けたロードマップと開発状況は <link href=\""http://status."" ""openstack.org/release/\"">Releases</link> で見ることができます。"" msgid """"""Therefore, the fastest way to get your feature request up for consideration "" ""is to create an Etherpad with your ideas and propose a session to the design "" ""summit. If the design summit has already passed, you may also create a "" ""blueprint directly. Read this <link href=\""http://vmartinezdelacruz.com/how-"" ""to-work-with-blueprints-without-losing-your-mind/\"">blog post about how to "" ""work with blueprints</link> the perspective of Victoria Martínez, a "" ""developer intern."" msgstr """" ""あなたの機能追加リクエストを新機能として検討してもらうのに一番早い方法は、ア"" ""イデアを書いた Etherpad を作成し、デザインサミットのセッションを提案すること"" ""です。デザインサミットが終わっている場合には、blueprint を直接作成することも"" ""できます。 Victoria Martínez の <link href=\""http://vmartinezdelacruz.com/"" ""how-to-work-with-blueprints-without-losing-your-mind/\"">blueprint での開発の"" ""進め方についてのブログ</link>を是非読んで下さい。 OpenStack 開発者のインター"" ""ンの視点で書かれた記事です。"" msgid """"""This appendix contains a small selection of use cases from the community, "" ""with more technical detail than usual. Further examples can be found on the "" ""<link href=\""https://www.openstack.org/user-stories/\"" title=\""OpenStack "" ""User Stories Website\"">OpenStack website</link>."" msgstr """" ""この付録ではコミュニティからを事例をいくつか紹介します。これらでは通常より多"" ""くの技術的詳細情報が提供されています。他の事例は <link href=\""https://www."" ""openstack.org/user-stories/\"" title=\""OpenStack User Stories Website"" ""\"">OpenStack ウェブサイト</link> で探して下さい。"" msgid """"""This bug report was the key to everything: <link href=\""https://bugs."" ""launchpad.net/ubuntu/+source/qemu-kvm/+bug/997978\""> KVM images lose "" ""connectivity with bridged network</link> (https://bugs.launchpad.net/ubuntu/"" ""+source/qemu-kvm/+bug/997978)"" msgstr """" ""このバグ報告は、すべてに対して重要です: <link title=\""DAIR project\"" href="" ""\""https://bugs.launchpad.net/ubuntu/+source/qemu-kvm/+bug/997978\""> KVMイメー"" ""ジがブリッジネットワークで接続を失う</link> (https://bugs.launchpad.net/"" ""ubuntu/+source/qemu-kvm/+bug/997978)"" msgid """"""れます。<indexterm class=\""singular\""><primary>OpenStack Networking (neutron)"" ""</primary><secondary>設定指針</secondary></indexterm>""""To determine the potential features going in to future releases, or to look "" ""at features implemented previously, take a look at the existing blueprints "" ""such as <link href=\""https://blueprints.launchpad.net/nova\"">OpenStack "" ""Compute (nova) Blueprints</link>, <link href=\""https://blueprints.launchpad."" ""net/keystone\"">OpenStack Identity (keystone) Blueprints</link>, and release "" ""notes."" msgstr """" ""将来のリリースで検討されている機能を確認したり、過去に実装された機能を見るに"" ""は、<link href=\""https://blueprints.launchpad.net/nova\"">OpenStack Compute "" ""(nova) Blueprints</link>, <link href=\""https://blueprints.launchpad.net/"" ""keystone\"">OpenStack Identity (keystone) Blueprints</link> などの既存の "" ""Blueprint やリリースノートを見て下さい。"" msgid """" ""To discover how API requests should be structured, read the <link href="" ""\""http://developer.openstack.org/api-ref.html\"">OpenStack API Reference</"" ""link>. To chew through the responses using jq, see the <link href=\""http://"" ""stedolan.github.io/jq/manual/\"">jq Manual</link>."" msgstr """" ""API 要求の構成方法については、<link href=\""http://developer.openstack.org/"" ""api-ref.html\"">OpenStack API Reference</link> を参照してください。jq を使用し"" ""た応答についての詳しい説明は <link href=\""http://stedolan.github.io/jq/"" ""manual/\"">jq Manual</link> を参照してください。"" msgid """"""To this day, <link href=\""https://bugs.launchpad.net/nova/+bug/832507\"">the "" ""issue</link> (https://bugs.launchpad.net/nova/+bug/832507) doesn't have a "" ""permanent resolution, but we look forward to the discussion at the next "" ""summit."" msgstr """" ""今日に至るまで、<link href=\""https://bugs.launchpad.net/nova/+bug/832507\"">こ"" ""の問題</link> (https://bugs.launchpad.net/nova/+bug/832507) には完全な解決策"" ""がないが、我々は次回のサミットの議論に期待している。"" msgid """"""Underlying the use of the command-line tools is the OpenStack API, which is "" ""a RESTful API that runs over HTTP. There may be cases where you want to "" ""interact with the API directly or need to use it because of a suspected bug "" ""in one of the CLI tools. The best way to do this is to use a combination "" ""of <link href=\""http://curl.haxx.se/\"">cURL</link> and another tool, such "" ""as <link href=\""http://stedolan.github.io/jq/\"">jq</link>, to parse the JSON "" ""from the responses.<indexterm class=\""singular\""><primary>authentication "" ""tokens</primary></indexterm><indexterm class=\""singular\""><primary>cURL</"" ""primary></indexterm>"" msgstr """" ""コマンドラインツールの使用の根底にあるのは、HTTP を介して実行する RESTful "" ""API である OpenStack API です。API と直接対話を行いたい場合や、CLI ツールにバ"" ""グがあることが疑われるために使用する必要がある場合があります。この場合の最善"" ""の対処方法は、 <link href=\""http://curl.haxx.se/\"">cURL</link> と <link href="" ""\""http://stedolan.github.io/jq/\"">jq</link> などの他のツールを組み合わせて使"" ""用し、その応答から JSON を解析することです。<indexterm class=\""singular"" ""\""><primary>認証トークン</primary></indexterm><indexterm class=\""singular"" ""\""><primary>cURL</primary></indexterm>"" msgid """"""We recommend that you do not use the default Ubuntu OpenStack install "" ""packages and instead use the <link href=\""https://wiki.ubuntu.com/ServerTeam/"" ""CloudArchive\"">Ubuntu Cloud Archive</link>. The Cloud Archive is a package "" ""repository supported by Canonical that allows you to upgrade to future "" ""OpenStack releases while remaining on Ubuntu 12.04."" msgstr """" ""デフォルトの Ubuntu OpenStack インストールパッケージは使用せずに、<link href="" ""\""https://wiki.ubuntu.com/ServerTeam/CloudArchive\"">Ubuntu Cloud Archive</"" ""link> を使用することをお勧めします。Cloud Archive は、Canonical がサポートす"" ""るパッケージリポジトリです。これにより、Ubuntu 12.04 を維持した状態で将来の "" ""OpenStack リリースにアップグレードすることができます。"" msgid """"""We strongly suggest that you install the command-line clients from the <link "" ""href=\""https://pypi.python.org/pypi\"">Python Package Index</link> (PyPI) "" ""instead of from the distribution packages. The clients are under heavy "" ""development, and it is very likely at any given time that the version of the "" ""packages distributed by your operating-system vendor are out of date."" ""<indexterm class=\""singular\""><primary>command-line tools</"" ""primary><secondary>Python Package Index (PyPI)</secondary></"" ""indexterm><indexterm class=\""singular\""><primary>pip utility</primary></"" ""indexterm><indexterm class=\""singular\""><primary>Python Package Index (PyPI)"" ""</primary></indexterm>"" msgstr """" ""コマンドラインクライアントは、ディストリビューションのパッケージからではな"" ""く、<link href=\""https://pypi.python.org/pypi\"">Python Package Index</link> "" ""(PyPI) からインストールすることを強く推奨します。これは、クライアントの開発"" ""が活発に行われており、オペレーティングシステムのベンダーにより配布されたパッ"" ""ケージのバージョンが任意の時点で無効になってしまう可能性が高いためです。"" ""<indexterm class=\""singular\""><primary>コマンドラインツール</"" ""primary><secondary>Python Package Index (PyPI)</secondary></"" ""indexterm><indexterm class=\""singular\""><primary>pip ユーティリティ</"" ""primary></indexterm><indexterm class=\""singular\""><primary>Python Package "" ""Index (PyPI)</primary></indexterm>"" msgid """"msgid """" ""When your scheduler is done, we encourage you to open source it and let the "" ""community know on the OpenStack mailing list. Perhaps others need the same "" ""functionality. They can use your code, provide feedback, and possibly "" ""contribute. If enough support exists for it, perhaps you can propose that it "" ""be added to the official Compute <link href=\""https://github.com/openstack/"" ""nova/tree/master/nova/scheduler\"">schedulers</link>."" msgstr """" ""あなたのスケジューラーが完成したら、オープンソースにし、OpenStack メーリング"" ""リストでコミュニティに知らせることをお薦めします。もしかしたら他の人も同じ機"" ""能を必要としているかもしれません。彼らはあなたのコードを使い、フィードバック"" ""し、おそらくコントリビュートするでしょう。もし十分な支持があれば、もしかした"" ""ら公式な Compute <link href=\""https://github.com/openstack/nova/tree/master/"" ""nova/scheduler\"">スケジューラー</link> への追加を提案してもよいでしょう。"" ""With so many considerations and options available, our hope is to provide a "" ""few clearly-marked and tested paths for your OpenStack exploration. If "" ""you're looking for additional ideas, check out <xref linkend=\""use-cases\""/"" "">, the <link href=\""http://docs.openstack.org/\"">OpenStack Installation "" ""Guides</link>, or the <link href=\""http://www.openstack.org/user-stories/"" ""\"">OpenStack User Stories page</link>."" msgstr """" ""数多くの考慮事項およびオプションがあるため、本セクションでは、OpenStack をお"" ""試しいただくための明確に記載した検証済みの方法を提供するように構成していま"" ""す。本セクションに記載した以外の情報をお探しの場合には、<xref linkend=\""use-"" ""cases\""/>、<link href=\""http://docs.openstack.org/\"">OpenStack Installation "" ""Guides</link>、または <link href=\""http://www.openstack.org/user-stories/"" ""\"">OpenStack User Stories page</link> をご確認ください。"" msgid """"""You can find a matrix of the functionality provided by all of the supported "" ""Block Storage drivers on the <link href=\""https://wiki.openstack.org/wiki/"" ""CinderSupportMatrix\"" title=\""OpenStack wiki\"">OpenStack wiki</link>."" msgstr """" ""<link href=\""https://wiki.openstack.org/wiki/CinderSupportMatrix\"" title="" ""\""OpenStack wiki\"">OpenStack wiki</link> で、サポートされている全ブロックスト"" ""レージドライバーが提供する機能一覧を確認いただけます。"" msgid """"""You may find that you can automate the partitioning itself. For example, MIT "" ""uses <link href=\""http://fai-project.org/\"">Fully Automatic Installation "" ""(FAI)</link> to do the initial PXE-based partition and then install using a "" ""combination of min/max and percentage-based partitioning.<indexterm class="" ""\""singular\""><primary>Fully Automatic Installation (FAI)</primary></"" ""indexterm>"" msgstr """" ""パーティショニング自体を自動化可能であることが分かります。例えば、MIT は "" ""<link href=\""http://fai-project.org/\"">Fully Automatic Installation (FAI)</"" ""link> を使用して、初期の PXE ベースのパーティション分割を行い、min/max および"" ""パーセントベースのパーティショニングを組み合わせてインストールしていきます。"" ""<indexterm class=\""singular\""><primary>Fully Automatic Installation (FAI)</"" ""primary></indexterm>"" msgid """"",8501,8549
openstack%2Fha-guide~master~I9d5260dc5bc788b11a7eb47fbc401779b27a43da,openstack/ha-guide,master,I9d5260dc5bc788b11a7eb47fbc401779b27a43da,Imported Translations from Transifex,MERGED,2015-07-01 06:00:11.000000000,2015-07-01 06:24:37.000000000,2015-07-01 06:24:36.000000000,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-07-01 06:00:11.000000000', 'files': ['doc/high-availability-guide/locale/high-availability-guide.pot', 'doc/high-availability-guide/locale/zh_CN.po'], 'web_link': 'https://opendev.org/openstack/ha-guide/commit/cdc4ba43d4e8c43ecb5d68d642513bb5404692c8', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I9d5260dc5bc788b11a7eb47fbc401779b27a43da\n'}]",0,197423,cdc4ba43d4e8c43ecb5d68d642513bb5404692c8,6,2,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I9d5260dc5bc788b11a7eb47fbc401779b27a43da
",git fetch https://review.opendev.org/openstack/ha-guide refs/changes/23/197423/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/high-availability-guide/locale/high-availability-guide.pot', 'doc/high-availability-guide/locale/zh_CN.po']",2,cdc4ba43d4e8c43ecb5d68d642513bb5404692c8,transifex/translations,"""POT-Creation-Date: 2015-06-25 06:44+0000\n"" ""PO-Revision-Date: 2015-07-01 05:52+0000\n""msgid """" ""(Optional) Configure the <application>clustercheck</application> utility."" msgstr ""(可选) 配置 <application>clustercheck</application> 工具集。"" msgid ""All routers will be highly available by default."" msgstr ""缺省情况下，所有路由器应该高可用。"" msgid """" ""Automatic L3 agent failover for routers via the <placeholder-1/> "" ""configuration option in <filename>/etc/neutron/neutron.conf</filename>."" msgstr """" ""通过<filename>/etc/neutron/neutron.conf</filename>文件中的 <placeholder-1/>选"" ""项配置针对路由器的L3代理失效自动恢复。"" msgid ""Configure MariaDB with Galera."" msgstr ""配置带Galera的MariaDB。"" msgid ""Configure OpenStack Image service API"" msgstr ""配置OpenStack镜像服务API"" msgid ""Configure monitor service (used by HAProxy):"" msgstr ""配置监控服务(HAProxy服务使用)："" msgid ""Configure the OpenStack Image service to listen on the VIP address."" msgstr ""配置OpenStack镜像服务监听虚拟IP地址。"" msgid """" ""Create file <filename>/etc/xinetd.d/galera-monitor</filename> with the "" ""following contents:"" msgstr """" ""使用以下内容创建<filename>/etc/xinetd.d/galera-monitor</filename> 文件："" msgid """" ""Create file <filename>etc/sysconfig/clustercheck</filename> with the "" ""following contents:"" msgstr ""使用以下内容创建文件<filename>etc/sysconfig/clustercheck</filename> ："" ""Create the Galera configuration file <filename>/etc/my.cnf.d/galera.cnf</"" ""filename> with the following contents:"" msgstr """" ""使用以下内容创建Galera配置文件<filename>/etc/my.cnf.d/galera.cnf</filename> "" ""："" msgid """" ""Create the database user required by <application>clustercheck</application>:"" msgstr ""创建<application>clustercheck</application>需要的数据库用户："" msgid """"msgid """" ""Currently, there's no native feature to make the LBaaS agent highly "" ""available using the default plug-in HAProxy. A common way to make HAProxy "" ""highly available is to use the VRRP (Virtual Router Redundancy Protocol). "" ""Unfortunately, this is not yet implemented in the LBaaS HAProxy plug-in."" msgstr """" ""目前 Neutron LBaaS 代理服务是无法通过其自带的 HAProxy 插件 实现高可用的。实"" ""现 HAProxy 高可用常见的方案是使用 VRRP (Virtual Router Redundancy Protocol ，"" ""虚拟路由冗余协议)，不过 LBaaS HAProxy 插件目前还不支持该协议。"" msgid """" ""For installing HAProxy on your nodes, you should consider its <link href="" ""\""http://haproxy.1wt.eu/#docs\"">official documentation</link>. And also, you "" ""have to consider that HAProxy should not be a single point of failure so you "" ""need to ensure its availability by other means, such as Pacemaker or "" ""Keepalived. It is advisable to have multiple HAProxy instances running, "" ""where the number of these instances is a small odd number like 3 or 5. Also "" ""it is a common practice to collocate HAProxy instances with existing "" ""OpenStack controllers."" msgstr """" ""在您的节点上安装HAProxy，您应该考虑<link href=\""http://haproxy.1wt.eu/#docs"" ""\"">官方文档</link>。另外，为了避免HAProxy本身成为整个系统的单点故障，您必须通"" ""过其它方式保证它的高可用，比如Pacemaker或Keepalived。建议多个HAProxy实例同时"" ""运行，这些实例数是最小的奇数比如3或5。同时，通用实践是HAProxy实例与OpenStack"" ""控制点在一起。"" msgid """" ""For the next step create a back-up file of the <filename>debian.cnf</"" ""filename> file in <filename>/etc/mysql</filename> on all database servers. "" ""Should something go wrong just copy the back-up file back."" msgstr """" ""下一步执行之前创建所有数据库服务器的<filename>debian.cnf</filename>文件的备份"" ""文件，该文件位于<filename>/etc/mysql</filename>。当有什么错误发生时，仅需拷贝"" ""备份文件回来。"" msgid ""Here is an example for the HAProxy configuration file:"" msgstr ""下面是HAProxy配置文件的示例："" msgid """" ""Here is the <link href=\""http://docs.openstack.org/kilo/install-guide/"" ""install/apt/content/ch_cinder.html\"">documentation</link> for installing "" ""Block Storage service."" msgstr """" ""参见 OpenStack 块设储服务的安装 <link href=\""http://docs.openstack.org/kilo/"" ""install-guide/install/apt/content/ch_cinder.html\"">文档 </link>。"" msgid """" ""Here is the <link href=\""http://docs.openstack.org/kilo/install-guide/"" ""install/apt/content/ch_glance.html\"">documentation</link> for installing the "" ""OpenStack Image API service."" msgstr """" ""参见 OpenStack 镜像服务的安装<link href=\""http://docs.openstack.org/kilo/"" ""install-guide/install/apt/content/ch_glance.html\"">文档 </link>。"" msgid """" ""Here is the <link href=\""http://docs.openstack.org/kilo/install-guide/"" ""install/apt/content/ch_networking.html\"">documentation</link> for installing "" ""OpenStack Networking service."" msgstr """" ""参见 OpenStack 网络服务的安装<link href=\""http://docs.openstack.org/kilo/"" ""install-guide/install/apt/content/ch_networking.html\""> 文档 </link>。"" ""If HAProxy is used to load-balance client access to MariaDB, as described in "" ""<link linkend=\""ha-aa-haproxy\"">the HAProxy section</link> of this document, "" ""you can use the <application>clustercheck</application> utility to improve "" ""health checks."" msgstr """" ""如本文档<link linkend=\""ha-aa-haproxy\"">HAProxy章节</link>所描述， 如果"" ""HAProxy用来负载均衡MariaDB的访问，您可以用<application>clustercheck</"" ""application>工具集改善心跳检测。"" msgid """"msgid ""Make sure a sensible password is used."" msgstr ""确保使用一个便于理解的密码。"" msgid """" ""Make sure you have SSH root access on the other servers. From the primary "" ""database server, copy the <filename>debian.cnf</filename> file to all other "" ""servers by running the following command:"" msgstr """" ""确保您用户其它服务器上的SSH root权限。通过运行一下命令，从主数据库服务器拷贝"" ""<filename>debian.cnf</filename>到其它服务器："" ""Manage the OpenStack Image API daemon with the Pacemaker cluster manager."" msgstr ""使用Pacemaker管理OpenStack集群的镜像API守护进程。"" msgid """"msgid ""MariaDB with Galera (Red Hat-based platforms)"" msgstr ""Galera MariaDB(基于红帽平台)"" msgid """" ""MariaDB with Galera provides synchronous database replication in an active-"" ""active, multi-master environment. High availability for the data itself is "" ""managed internally by Galera, while access availability will be managed by "" ""HAProxy."" msgstr """" ""在主-主，多主环境下，Galera MariaDB提供数据库同步。数据自身的高可用由Galera内"" ""部管理，同时访问高可用由HAProxy管理。"" msgid """" ""Maximum number of network nodes to be used for the HA router. The value can "" ""be larger than 2 but needs to be at least 2."" msgstr ""路由器HA的网络节点最大数。值可以比2大，但是应该至少是2。"" ""Minimum number of network nodes to be used for the HA router. A new router "" ""creation will fail unless there are at least <placeholder-1/> network nodes "" ""available. The value should not be less than 2."" msgstr """" ""路由器HA的最小网络节点数。除非有最少的<placeholder-1/>网络节点可用，新的路由"" ""器创建失败。这个值不能比2小。"" msgid """"msgid ""NODE_IP"" msgstr ""NODE_IP"" ""Note that the Galera cluster configuration commands indicate two of the "" ""three controllers are backup. That should be done to ensure only one node "" ""serves write requests because OpenStack support for multi-node writes is not "" ""production-ready yet."" msgstr """" ""注意，Galera集群配置命令表明3个控制点中的2个节点是备份。因为OpenStack支持多节"" ""点写还没有准备好生产使用，应该保证只有一个节点服务器处理写请求。"" msgid """"msgid ""On node 1:"" msgstr ""在节点1："" msgid ""On nodes 2 and 3:"" msgstr ""在节点2和3："" ""Once the output from <application>clustercheck</application> is "" ""<placeholder-1/> on all nodes, restart MariaDB on node 1:"" msgstr """" ""在所有节点上，一旦从<application>clustercheck</application>输出是"" ""<placeholder-1/>，在节点1上重启MariaDB。"" msgid """"msgid ""Open firewall ports used for MariaDB and Galera communications:"" msgstr ""打开MariaDB和Galera通信使用的防火墙端口："" ""Red Hat-based distributions include Galera packages in their repositories. "" ""To install the most current version of the packages, run the following "" ""command:"" msgstr """" ""基于Red Hat的发型版本在它们的仓库中包含Galera包。为了安装最新版本的安装包，运"" ""行以下命令："" msgid """"""Setup the repository for Ubuntu 14.04 \""trusty\"" (most recent). Install the "" ""software properties, the key, and the repository:"" msgstr ""为 Ubuntu 14.04 \""trusty\"" (最常用)设置源。安装软件属性，密钥及源："" msgid """"msgid ""Start MariaDB cluster:"" msgstr ""启动MariaDB集群："" msgid ""Start xinetd (required by <application>clustercheck</application>):"" msgstr ""启动xinetd(<application>clustercheck</application>需要)："" msgid ""TERTIARY_NODE_IP"" msgstr ""TERTIARY_NODE_IP"" ""The Galera Cluster plug-in is a multi-master Cluster based on synchronous "" ""replication. It is a high availability solution, which provides high system "" ""uptime, no data loss, and scalability for growth."" msgstr """" ""Galera集群插件是基于同步复制的多个主的集群。它是一个高可用解决方案，提供高系"" ""统运行时间，无数据丢失和为了增长的横向扩展。"" msgid """" ""The OpenStack Image service offers a service for discovering, registering, "" ""and retrieving virtual machine images. To make the OpenStack Image API "" ""service highly available in active / passive mode, you must:"" msgstr """" ""Openstack镜像服务提供一个发现、注册和获取虚拟机镜像的服务。为了使OpenStack镜"" ""像API服务以主/备模式高可用。您必须："" msgid """"""The below query should be run on every server except the primary node. This "" ""will make sure that you can restart the database again. Do not forget to add "" ""the password from the <filename>debian.cnf</filename>. To do this, run:"" msgstr """" ""在除了主节点的服务器上运行以下查询。这将确保您能再次重启服务器。不要忘记从"" ""<filename>debian.cnf</filename>天降密码。为了完成这个，运行："" msgid """" ""The choice of database is not a foregone conclusion; you are not required to "" ""use <application>MySQL</application>. It is, however, a fairly common choice "" ""in OpenStack installations, so we will cover it here."" msgstr """" ""<application>MySQL</application> 并不是唯一的选择，以它作为示例是因为目前已有"" ""的 OpenStack 布署案例中，使用 <application>MySQL</application> 作为数据库比较"" ""常见。"" msgid """"""The first step is installing the database that sits at the heart of the "" ""cluster. When we talk about high availability (HA), we talk about several "" ""databases (for redundancy) and a means to keep them synchronized. In this "" ""case, we choose the <application>MySQL</application> database, along with "" ""<application>Galera</application> plug-in for synchronous multi-master "" ""replication."" msgstr """" ""第一步部署数据库，数据库是整个集群的心脏。当讨论高可用(HA)时，我们讨论几个数"" ""据库(冗余)和一种保持数据库同步的方式。这种情况下，为了多个主控的同步复制，我"" ""们选择<application>Galera</application>插件的 <application>MySQL</"" ""application>数据库。"" msgid """"""The neutron L3 agent is scalable, due to the scheduler that allows "" ""distribution of virtual routers across multiple nodes. The following options "" ""are available to make a router highly available:"" msgstr """" ""Neutron的三层L3代理是可扩展的，取决于允许跨多个节点虚拟路由器分发的调度器。以"" ""下选项用来使一个路由器高可用："" msgid """"""This guide assumes that three nodes are used to form the MariaDB Galera "" ""cluster. Unless otherwise specified, all commands need to be executed on all "" ""cluster nodes."" msgstr """" ""本教程假设3个节点用来搭建MariaDB Galera集群。除非明确指定，所有命令需要在所有"" ""集群节点上执行。"" msgid """"msgid ""To install MariaDB with Galera"" msgstr ""安装带Galera的MariaDB"" msgid """" ""Use Layer 3 High Availability with VRRP. The following configuration options "" ""need to be set in <filename>/etc/neutron/neutron.conf</filename> to enable "" ""it:"" msgstr """" ""通过VRRP，使用3层高可用。为了启动它，需要在<filename>/etc/neutron/neutron."" ""conf</filename> 文件设置以下配置项："" ""Using the active/passive solution to run the Neutron L3 agent in failover "" ""mode with <application>Pacemaker</application>. See the <link linkend=\""ha-"" ""using-active-passive\"">active/passive section</link> of this guide."" msgstr """" ""借助<application>Pacemaker</application>，使用主/备解决方案把Neuttron L3代理"" ""运行在失效恢复模式。参考本手册<link linkend=\""ha-using-active-passive\"">主/备"" ""章节</link>"" msgid ""Value to set"" msgstr ""设置的值"" msgid """"msgid """" ""You can now add the Pacemaker configuration for the OpenStack Image API "" ""resource. Connect to the Pacemaker cluster with <literal>crm configure</"" ""literal>, and add the following cluster resources:"" msgstr """" ""现在可以在 Pacemaker 中填加 OpenStack 镜像服务相关资源。执行 <literal>crm "" ""configure</literal> 命令进入 Pacemaker 配置菜单，然后加入下列集群资源："" msgid ""mysql PIDs"" msgstr ""mysql 进程号"" ","""POT-Creation-Date: 2015-06-23 11:29+0000\n"" ""PO-Revision-Date: 2015-06-24 08:40+0000\n""",1232,926
openstack%2Fkeystone~master~Id40e6e7859fb7f9268a8f99ab3abe750a5c002fc,openstack/keystone,master,Id40e6e7859fb7f9268a8f99ab3abe750a5c002fc,Updating sample configuration file,ABANDONED,2015-07-01 06:01:55.000000000,2015-07-01 06:22:29.000000000,,[],"[{'number': 1, 'created': '2015-07-01 06:01:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/747c8686173a3963270c7c5538e3391105a7b16a', 'message': 'Updating sample configuration file\n\nChange-Id: Id40e6e7859fb7f9268a8f99ab3abe750a5c002fc\n'}, {'number': 2, 'created': '2015-07-01 06:17:22.000000000', 'files': ['etc/keystone.conf.sample', 'keystone/common/config.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/121e909cadd5a11e54ec56a45307f04b07c54d9a', 'message': 'Updating sample configuration file\n\nChange-Id: Id40e6e7859fb7f9268a8f99ab3abe750a5c002fc\n'}]",0,197428,121e909cadd5a11e54ec56a45307f04b07c54d9a,3,0,2,6482,,,0,"Updating sample configuration file

Change-Id: Id40e6e7859fb7f9268a8f99ab3abe750a5c002fc
",git fetch https://review.opendev.org/openstack/keystone refs/changes/28/197428/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/keystone.conf.sample', 'keystone/common/config.py']",2,747c8686173a3963270c7c5538e3391105a7b16a,tempo2," cfg.StrOpt('admn_token', secret=True, default='ADMIN',"," cfg.StrOpt('admin_token', secret=True, default='ADMIN',",2,2
openstack%2Fneutron~feature%2Fqos~I86e8048e2d9b84690dbede9a94cfc884985069c5,openstack/neutron,feature/qos,I86e8048e2d9b84690dbede9a94cfc884985069c5,Create the QoS API extension stub,MERGED,2015-06-19 14:52:17.000000000,2015-07-01 06:21:55.000000000,2015-06-29 17:47:38.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 748}, {'_account_id': 1653}, {'_account_id': 4656}, {'_account_id': 5170}, {'_account_id': 6598}, {'_account_id': 7321}, {'_account_id': 8788}, {'_account_id': 9656}, {'_account_id': 9682}, {'_account_id': 9787}, {'_account_id': 10153}, {'_account_id': 11682}, {'_account_id': 12171}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14571}, {'_account_id': 14605}, {'_account_id': 15296}, {'_account_id': 15894}, {'_account_id': 16788}]","[{'number': 1, 'created': '2015-06-19 14:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ac066b3196ec195abadce91a0e1889b13a7672e8', 'message': 'Create the QoS API extension\n\nThis patch introduces the QoS API extension.\n\nChange-Id: I86e8048e2d9b84690dbede9a94cfc884985069c5\n'}, {'number': 2, 'created': '2015-06-29 09:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6b81281a5a760124bf298f5cda8f8da836818078', 'message': 'Create the QoS API extension stub\n\nThis patch introduces the QoS API extension, in a basic\nform where we could, in combination with the service plugin\nstub, start creating some experimental test jobs that install\nthe service plugin.\n\nPlease not that URL mapping is not fully according to spec,\nneither it does include any testing. We need to work that out.\n\nblueprint quantum-qos-api\nChange-Id: I86e8048e2d9b84690dbede9a94cfc884985069c5\n'}, {'number': 3, 'created': '2015-06-29 14:07:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2f379c7f4ed05771bc89654273094bf4890eb4d0', 'message': 'Create the QoS API extension stub\n\nThis patch introduces the QoS API extension, in a basic\nform where we could, in combination with the service plugin\nstub, start creating some experimental test jobs that install\nthe service plugin.\n\nPlease not that URL mapping is not fully according to spec,\nneither it does include any testing. We need to work that out.\n\nblueprint quantum-qos-api\nChange-Id: I86e8048e2d9b84690dbede9a94cfc884985069c5\n'}, {'number': 4, 'created': '2015-06-29 14:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/19de1c96b7b73424d3de43be273b5c2ca6506150', 'message': 'Create the QoS API extension stub\n\nThis patch introduces the QoS API extension, in a basic\nform where we could, in combination with the service plugin\nstub, start creating some experimental test jobs that install\nthe service plugin.\n\nPlease not that URL mapping is not fully according to spec,\nneither it does include any testing. We need to work that out.\n\nblueprint quantum-qos-api\nChange-Id: I86e8048e2d9b84690dbede9a94cfc884985069c5\n'}, {'number': 5, 'created': '2015-06-29 14:51:57.000000000', 'files': ['neutron/plugins/common/constants.py', 'neutron/extensions/qos.py', 'etc/policy.json', 'neutron/tests/etc/policy.json'], 'web_link': 'https://opendev.org/openstack/neutron/commit/96d1cb1ae2f0188988102a56c2886870af94d88e', 'message': 'Create the QoS API extension stub\n\nThis patch introduces the QoS API extension, in a basic\nform where we could, in combination with the service plugin\nstub, start creating some experimental test jobs that install\nthe service plugin.\n\nPlease not that URL mapping is not fully according to spec,\nneither it does include any testing. We need to work that out.\n\nblueprint quantum-qos-api\nChange-Id: I86e8048e2d9b84690dbede9a94cfc884985069c5\n'}]",59,193584,96d1cb1ae2f0188988102a56c2886870af94d88e,69,24,5,8788,,,0,"Create the QoS API extension stub

This patch introduces the QoS API extension, in a basic
form where we could, in combination with the service plugin
stub, start creating some experimental test jobs that install
the service plugin.

Please not that URL mapping is not fully according to spec,
neither it does include any testing. We need to work that out.

blueprint quantum-qos-api
Change-Id: I86e8048e2d9b84690dbede9a94cfc884985069c5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/84/193584/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/common/constants.py', 'neutron/api/v2/resource_helper.py', 'neutron/extensions/qos.py', 'etc/policy.json', 'neutron/tests/etc/policy.json']",5,ac066b3196ec195abadce91a0e1889b13a7672e8,neutron-qos," ""create_port:qos_policy_id"": ""rule:admin_only"", ""get_port:qos_policy_id"": ""rule:admin_only"", ""update_port:qos_policy_id"": ""rule:admin_only"",",,191,1
openstack%2Fec2-api~master~I948103febf0ef9d4c7070e9e5a8053aa5ce95c30,openstack/ec2-api,master,I948103febf0ef9d4c7070e9e5a8053aa5ce95c30,fix typos,MERGED,2015-07-01 05:13:09.000000000,2015-07-01 06:17:16.000000000,2015-07-01 06:17:16.000000000,"[{'_account_id': 3}, {'_account_id': 10224}]","[{'number': 1, 'created': '2015-07-01 05:13:09.000000000', 'files': ['ec2api/api/image.py', 'ec2api/tests/functional/scenario/test_ebs_instances.py'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/ebdf250bc29c259b680981e240c8891a365f0b9b', 'message': 'fix typos\n\nChange-Id: I948103febf0ef9d4c7070e9e5a8053aa5ce95c30\n'}]",0,197419,ebdf250bc29c259b680981e240c8891a365f0b9b,6,2,1,10234,,,0,"fix typos

Change-Id: I948103febf0ef9d4c7070e9e5a8053aa5ce95c30
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/19/197419/1 && git format-patch -1 --stdout FETCH_HEAD,"['ec2api/api/image.py', 'ec2api/tests/functional/scenario/test_ebs_instances.py']",2,ebdf250bc29c259b680981e240c8891a365f0b9b,master-3,, raise cls.skipException('aws EBS image does not provided') raise cls.skipException('aws EBS image does not provided'),1,3
openstack%2Fmistral~stable%2Fkilo~Ide5faf7c7d1201a38e28fd5ff142a0f9de9f89d6,openstack/mistral,stable/kilo,Ide5faf7c7d1201a38e28fd5ff142a0f9de9f89d6,stackforge -> openstack for stable/kilo branch,MERGED,2015-06-30 08:37:38.000000000,2015-07-01 06:16:12.000000000,2015-07-01 06:16:11.000000000,"[{'_account_id': 3}, {'_account_id': 5558}, {'_account_id': 6732}, {'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9432}]","[{'number': 1, 'created': '2015-06-30 08:37:38.000000000', 'files': ['contrib/devstack/lib/mistral'], 'web_link': 'https://opendev.org/openstack/mistral/commit/d02fc4f2de730fe5b65bacdbc7da0f00a51f1476', 'message': 'stackforge -> openstack for stable/kilo branch\n\nChange-Id: Ide5faf7c7d1201a38e28fd5ff142a0f9de9f89d6\n'}]",0,196978,d02fc4f2de730fe5b65bacdbc7da0f00a51f1476,12,6,1,8731,,,0,"stackforge -> openstack for stable/kilo branch

Change-Id: Ide5faf7c7d1201a38e28fd5ff142a0f9de9f89d6
",git fetch https://review.opendev.org/openstack/mistral refs/changes/78/196978/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/devstack/lib/mistral'],1,d02fc4f2de730fe5b65bacdbc7da0f00a51f1476,fix_devstack_script_for_stable_kilo,MISTRAL_REPO=${MISTRAL_REPO:-${GIT_BASE}/openstack/mistral.git}MISTRAL_PYTHONCLIENT_REPO=${MISTRAL_PYTHONCLIENT_REPO:-${GIT_BASE}/openstack/python-mistralclient.git},MISTRAL_REPO=${MISTRAL_REPO:-${GIT_BASE}/stackforge/mistral.git}MISTRAL_PYTHONCLIENT_REPO=${MISTRAL_PYTHONCLIENT_REPO:-${GIT_BASE}/stackforge/python-mistralclient.git},2,2
openstack%2Fcinder-specs~master~I876741e392c3477af2f3680ca67b0576711a8cfa,openstack/cinder-specs,master,I876741e392c3477af2f3680ca67b0576711a8cfa,Implement force_detach for safe cleanup,MERGED,2015-04-09 21:20:18.000000000,2015-07-01 06:04:58.000000000,2015-07-01 06:04:57.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1207}, {'_account_id': 6491}, {'_account_id': 7173}, {'_account_id': 7198}, {'_account_id': 8846}, {'_account_id': 9003}, {'_account_id': 10263}, {'_account_id': 11904}, {'_account_id': 12924}]","[{'number': 1, 'created': '2015-04-09 21:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/04f0667f2799fa4c80633acf0d14fbf5c3a39ff9', 'message': ""Implement force_detach for safe cleanup\n\nFor volumes stuck in 'attaching' or 'detaching' , there is no safe way\nto cleanup that involves the backend storage. Using python-cinderclient\n'reset-state' will only change the Cinder database, and may leave the\nvolume exported to the compute host, and may leave an entry in Nova's\ndatabase that prevents the volume from being re-used. This\nblueprint+spec outlines the changes to the cinder side to allow a\nforce_detach. In addtion, python-novaclient will need to have a\n'--force' option added to 'nova volume-detach' so that Nova\nBlockDeviceMapping table is cleaned up after calling cinder\nforce_detach().\n\nChange-Id: I876741e392c3477af2f3680ca67b0576711a8cfa\n""}, {'number': 2, 'created': '2015-04-09 21:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/8d7febbc8f70e935d80ac81f64b2685ca9ccb0ba', 'message': ""Implement force_detach for safe cleanup\n\nFor volumes stuck in 'attaching' or 'detaching' , there is no safe way\nto cleanup that involves the backend storage. Using python-cinderclient\n'reset-state' will only change the Cinder database, and may leave the\nvolume exported to the compute host, and may leave an entry in Nova's\ndatabase that prevents the volume from being re-used. This\nblueprint+spec outlines the changes to the cinder side to allow a\nforce_detach. In addtion, python-novaclient will need to have a\n'--force' option added to 'nova volume-detach' so that Nova\nBlockDeviceMapping table is cleaned up after calling cinder\nforce_detach().\n\nChange-Id: I876741e392c3477af2f3680ca67b0576711a8cfa\n""}, {'number': 3, 'created': '2015-05-19 17:14:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/e6d982fbdd1cecd4994528437fb145c7a75bbaff', 'message': ""Implement force_detach for safe cleanup\n\nFor volumes stuck in 'attaching' or 'detaching' , there is no safe way\nto cleanup that involves the backend storage. Using python-cinderclient\n'reset-state' will only change the Cinder database, and may leave the\nvolume exported to the compute host, and may leave an entry in Nova's\ndatabase that prevents the volume from being re-used. This\nblueprint+spec outlines the changes to the cinder side to allow a\nforce_detach. In addtion, python-novaclient will need to have a\n'--force' option added to 'nova volume-detach' so that Nova\nBlockDeviceMapping table is cleaned up after calling cinder\nforce_detach().\n\nChange-Id: I876741e392c3477af2f3680ca67b0576711a8cfa\n""}, {'number': 4, 'created': '2015-05-20 00:02:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/63061a8aa8959eab6f4bd26995ac488605539699', 'message': ""Implement force_detach for safe cleanup\n\nFor volumes stuck in 'attaching' or 'detaching' , there is no safe way\nto cleanup that involves the backend storage. Using python-cinderclient\n'reset-state' will only change the Cinder database, and may leave the\nvolume exported to the compute host, and may leave an entry in Nova's\ndatabase that prevents the volume from being re-used. This\nblueprint+spec outlines the changes to the cinder side to allow a\nforce_detach. In addition, python-novaclient will need to have a\n'--force' option added to 'nova volume-detach' so that Nova\nBlockDeviceMapping table is cleaned up after calling cinder\nforce_detach().\n\nChange-Id: I876741e392c3477af2f3680ca67b0576711a8cfa\n""}, {'number': 5, 'created': '2015-05-20 15:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/9c63e268bde26bdf401dddb47b10eca937cf512a', 'message': ""Implement force_detach for safe cleanup\n\nFor volumes stuck in 'attaching' or 'detaching' , there is no safe way\nto cleanup that involves the backend storage. Using python-cinderclient\n'reset-state' will only change the Cinder database, and may leave the\nvolume exported to the compute host, and may leave an entry in Nova's\ndatabase that prevents the volume from being re-used. This\nblueprint+spec outlines the changes to the cinder side to allow a\nforce_detach. In addition, python-novaclient will need to have a\n'--force' option added to 'nova volume-detach' so that Nova\nBlockDeviceMapping table is cleaned up after calling cinder\nforce_detach().\n\nChange-Id: I876741e392c3477af2f3680ca67b0576711a8cfa\n""}, {'number': 6, 'created': '2015-06-19 17:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/3f83288117ccb7077ab3a786f757c82001fa4a9c', 'message': ""Implement force_detach for safe cleanup\n\nFor volumes stuck in 'attaching' or 'detaching' , there is no safe way\nto cleanup that involves the backend storage. Using python-cinderclient\n'reset-state' will only change the Cinder database, and may leave the\nvolume exported to the compute host, and may leave an entry in Nova's\ndatabase that prevents the volume from being re-used. This\nblueprint+spec outlines the changes to the cinder side to allow a\nforce_detach.\n\nChange-Id: I876741e392c3477af2f3680ca67b0576711a8cfa\n""}, {'number': 7, 'created': '2015-06-19 20:17:40.000000000', 'files': ['specs/liberty/implement-force-detach-for-safe-cleanup.rst'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/1a29ae6634a145875d4243ed6d15084b4aead41a', 'message': ""Implement force_detach for safe cleanup\n\nFor volumes stuck in 'attaching' or 'detaching' , there is no safe way\nto cleanup that involves the backend storage. Using python-cinderclient\n'reset-state' will only change the Cinder database, and may leave the\nvolume exported to the compute host, and may leave an entry in Nova's\ndatabase that prevents the volume from being re-used. This\nblueprint+spec outlines the changes to the cinder side to allow a\nforce_detach.\n\nChange-Id: I876741e392c3477af2f3680ca67b0576711a8cfa\n""}]",44,172213,1a29ae6634a145875d4243ed6d15084b4aead41a,45,11,7,7173,,,0,"Implement force_detach for safe cleanup

For volumes stuck in 'attaching' or 'detaching' , there is no safe way
to cleanup that involves the backend storage. Using python-cinderclient
'reset-state' will only change the Cinder database, and may leave the
volume exported to the compute host, and may leave an entry in Nova's
database that prevents the volume from being re-used. This
blueprint+spec outlines the changes to the cinder side to allow a
force_detach.

Change-Id: I876741e392c3477af2f3680ca67b0576711a8cfa
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/13/172213/6 && git format-patch -1 --stdout FETCH_HEAD,['specs/liberty/implement-force-detach-for-safe-cleanup.rst'],1,04f0667f2799fa4c80633acf0d14fbf5c3a39ff9,(detached,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Implement force_detach for safe cleanup ========================================== Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/cinder/+spec/example Currently, there is no API to synchronize the state in the Cinder database and the backend storage when a volume is in a stuck 'attaching' or 'detaching' state. For example, if a volume is stuck in detaching, but is attached/connected by the storage driver, the admin is allowed to use 'cinder reset-state <vol_id>' to set the state of the volume to 'detached'. This will be mismatched with the backend storage state, which has the volume connected/exported to the compute host and nova instance. This spec proposes to plumb cinder APIs that allow an admin to set the state to 'available' and 'detached' in a safe way, meaning that the backend storage and cinder db are synchronized. A Nova blueprint+spec will be sumbitted to add a '--force' option to 'nova volume-detatch' to allow the synchronization of state to take place between Nova, Cinder DB, and backend. This API can be used anywhere that a safe force_detach is required, i.e. when an attempt from Nova to initialize_connection times out, the connection can be safely cleaned up on both the storage backend and Cinder DB. * The filename in the git repository should match the launchpad URL, for example a URL of: https://blueprints.launchpad.net/cinder/+spec/awesome-thing should be named awesome-thing.rst Problem description =================== It is not uncommon to have a volume stuck in a state that prevents the user from using the volume or changing state, i.e. 'attaching', 'deleting', 'creating', 'detaching'. The python-cinderclient has the command 'reset-state' to allow an admin to change the volume state in the cinder database to any state desired. In order to fix the problem in a safe and robust way, however, the admin must check the state of the volume with regards to the backend storage and Nova. Is the volume attached according to the metadata of the backend? Is there an Iscsi connection (or FC) to the compute host? Does Nova BlockDeviceMapping have an entry for the volume? Cleanup to the Cinder DB is possible, cleanup on the storage backend may be possible, and changing the Nova DB requires direct changes (SQL commands) on the Nova database. Synchronizing state requires detailed knowledge of all of the components, and often invasive and dangerous changes to production systems. Changing python-cinderclient 'reset-state' has been proposed[1], but that idea was rejected in favor of implementing separate APIs for achieving the desired state[2]. This spec is to implement 'force_detach'. There is already a 'force_delete' API for help with volumes stuck in 'creating' or 'deleting'. In fact, there is already a force_detach API that calls terminate_connection and detach, but this appears to be unused elsewhere in the code base and should be properly implemented to test whether the driver can comply, and in the case of success from the driver the function should cleanup the Cinder DB. It could be argued that there should be an analogous 'force_attach' or perhaps more aptly named 'force_rollforward_attach', but it seems that simply forcing a detach of a volume will put the volume back in a state where the attach can be attempted again. UseCase1: Cinder DB 'attaching', storage back end 'available', Nova DB does not show block device for this volume. An attempt was made to attach a volume using 'nova volume-attach <instance> <volume_id>' The Cinder DB is set to 'attaching', but the volume was never attached. Current Fix: Using python-cinderclient 'reset-state' to set the Cinder DB to 'available' will fix this. Proposed Fix: With the implementation of the Nova code, an admin will call 'nova volume-detach --force'. This will result in the backend force_detach() being called, which will return with success (even though nothing needs to be done). The Cinder DB will set the volume to 'available' and Nova will check for the volume in the BlockDeviceMapping table. Since the volume was never attached, there is nothing for Nova to cleanup. UseCase2: Cinder DB 'attaching', storage back end 'attached', Nova DB shows block device for this volume. The Cinder DB is set to 'attaching', but the volume was attached. Current Fix: Using python-cinderclient 'reset-state' to set the Cinder DB to 'available' will result in an out-of-sync state, since the volume is, in fact, attached. Nova will not allow this volume to be re-attached. Proposed Fix: With the implementation of the Nova code, an admin will call 'nova volume-detach --force'. This will result in the backend force_detach() being called, which will return with success if the driver force_detach() can complete. If there is an issue during the driver's attempt to force_detach(), an exception will be returned and the problem will need to be investigated. The Nova command will fail in this case. If the driver can perform the force_detach() it will return success. The Cinder DB will set the volume to 'available' and Nova will remove the volume from the BlockDeviceMapping table. UseCase3: Cinder DB 'detaching', storage back end 'available', Nova DB does not show block device for this volume. An attempt was made to detach a volume using 'nova volume-detach <instance> <volume_id>' The Cinder DB is set to 'detaching' and the volume is actually detached. Current Fix: Using python-cinderclient 'reset-state' to set the Cinder DB to 'available' will fix this. Proposed Fix: With the implementation of the Nova code, an admin will call 'nova volume-detach --force'. This will result in the backend force_detach() being called, which will return with success (even though nothing needs to be done). The Cinder DB will set the volume to 'available' and Nova will check for the volume in the BlockDeviceMapping table. Since the volume was never attached, there is nothing for Nova to cleanup. UseCase4: Cinder DB 'detaching', storage back end 'attached', Nova DB has a block device for this volume. An attempt was made to detach a volume using 'nova volume-detach <instance> <volume_id>' The Cinder DB is set to 'detaching', but the volume is actually attached. Current Fix: Using python-cinderclient 'reset-state' to set the Cinder DB to 'available' will result in an out-of-sync state, since the volume is, in fact, attached. Nova will not allow this volume to be re-attached. Proposed Fix: With the implementation of the Nova code, an admin will call 'nova volume-detach --force'. This will result in the backend force_detach() being called, which will return with success if the driver force_detach() can complete. If there is an issue during the driver's attempt to force_detach(), an exception will be returned and the problem will need to be investigated. The Nova command will fail in this case. If the driver can perform the force_detach() it will return success. The Cinder DB will set the volume to 'available' and Nova will remove the volume from the BlockDeviceMapping table. UseCase9: During an attach, initialize_connection() times out. Cinder DB is 'available', volume is attached, Nova DB does not show the block device. Current Fix: None via reset-state. Manual intervention on the back end storge is required Proposed Fix: The code calling initialize_connection could call Cinder force_detach when the attempt times out. This would cleanup any connection and Cinder DB state to allow the volume to be attached at a later time. Proposed change =============== Nova must be changed, since the Nova BlockDeviceMapping table is authoritative when Nova attaches and detaches a volume. A separate blueprint+spec will be submitted to add a '--force' option to 'nova volume-detach' which will bypass state verification in Nova and Cinder. It will proceed to call cinder's force-detach (which already exists, but will be modified) and if that succeeds Nova will proceed to cleanup the BDM so that the volume is no longer present. Cinder force-detach API currently calls: volume_api.terminate_connection(...) self.volume_api.detach(...) This will be modified to call into the VolumeManager with a new force_detach(...) api/contrib/admin_actions.py: force_detatch(...) try: volume_rpcapi.force_detach(...) except: #catch and add debug message raise #something self._reset_status(..) #fix DB if backend cleanup is sucessful volume/manager.py: force_detach(...) self.driver.force_detach(..) Individual drivers will implement force_detach as needed by the driver, most likely calling terminate_connection(..) and possibly other cleanup. The force_detach(..) api should be idempotent: It should succeed if the volume is not detached, and succeed if the volume starts off connected and can be sucessfuly detached. Alternatives ------------ Leave things as they are, requiring the admin to make manual changes using APIs or commands on the back end storage to keep the state in sync. Nova has no API to cleanup the BlockDeviceMapping table. Using 'reset-state' can work, as in UseCase1 and UseCase3, or it can break things and render a volume incapable of being attached, as in UseCase2 and UseCase4. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: scott-dangelo Work Items ---------- Changes to core Cinder code Drivers implementation of force_detach python-novaclient changes for 'nova volume-detach --force' Dependencies ============ * Nova Blueprint and spec: pending Testing ======= Unit tests for test_force_detach* will be modified as appropriate. Tempest tests will be added to verify a volume in a attaching or detaching state can be force_detached and then successfuly re-attached. Documentation Impact ==================== Docs will need to be updated for the python-novaclient changes. References ========== [1] https://blueprints.launchpad.net/cinder/+spec/reset-state-with-driver https://review.openstack.org/#/c/134366/2 [2] https://etherpad.openstack.org/p/cinder-meetup-winter-2015 L#405 ",,256,0
openstack%2Fproject-config~master~Ifddb9a60bb05c118875b4985ea74a7e0e2ab539a,openstack/project-config,master,Ifddb9a60bb05c118875b4985ea74a7e0e2ab539a,Adding neutron-qos project to stackforge,ABANDONED,2015-06-01 10:56:07.000000000,2015-07-01 05:59:14.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 6547}, {'_account_id': 8788}, {'_account_id': 11343}, {'_account_id': 14605}]","[{'number': 1, 'created': '2015-06-01 10:56:07.000000000', 'files': ['jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml', 'gerrit/acls/stackforge/networking-qos.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5b7e441d2c559e34bf79adefd6087b3bd83b4b0a', 'message': 'Adding neutron-qos project to stackforge\n\nChange-Id: Ifddb9a60bb05c118875b4985ea74a7e0e2ab539a\n'}]",1,187170,5b7e441d2c559e34bf79adefd6087b3bd83b4b0a,9,6,1,14605,,,0,"Adding neutron-qos project to stackforge

Change-Id: Ifddb9a60bb05c118875b4985ea74a7e0e2ab539a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/70/187170/1 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml', 'gerrit/acls/stackforge/networking-qos.config']",4,5b7e441d2c559e34bf79adefd6087b3bd83b4b0a,new-project,"[access ""refs/heads/*""] abandon = group networking-qos-core label-Code-Review = -2..+2 group networking-qos-core label-Workflow = -1..+1 group networking-qos-core [access ""refs/tags/*""] pushSignedTag = group networking-qos-release [receive] requireChangeId = true requireContributorAgreement = true [submit] mergeContent = true ",,29,0
openstack%2Ffuturist~master~If6a318da64cbf1c3d544db75c553b249d1e1c112,openstack/futurist,master,If6a318da64cbf1c3d544db75c553b249d1e1c112,Updated from global requirements,MERGED,2015-06-26 21:48:42.000000000,2015-07-01 05:37:02.000000000,2015-07-01 05:37:01.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 5638}, {'_account_id': 16272}]","[{'number': 1, 'created': '2015-06-26 21:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/futurist/commit/95fc0fc38a611bf398292441dbb900e5e0485563', 'message': 'Updated from global requirements\n\nChange-Id: If6a318da64cbf1c3d544db75c553b249d1e1c112\n'}, {'number': 2, 'created': '2015-06-30 19:55:42.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/futurist/commit/1a27250eaf6b858e21a505ee81615aa408031c95', 'message': 'Updated from global requirements\n\nChange-Id: If6a318da64cbf1c3d544db75c553b249d1e1c112\n'}]",0,196262,1a27250eaf6b858e21a505ee81615aa408031c95,14,4,2,11131,,,0,"Updated from global requirements

Change-Id: If6a318da64cbf1c3d544db75c553b249d1e1c112
",git fetch https://review.opendev.org/openstack/futurist refs/changes/62/196262/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,95fc0fc38a611bf398292441dbb900e5e0485563,openstack/requirements,futures>=3.0;python_version=='2.7' or python_version=='2.6',futures>=3.0,1,1
openstack%2Fneutron~master~I0155b3d8b72f6d031bf6f855488f80acebfc25d4,openstack/neutron,master,I0155b3d8b72f6d031bf6f855488f80acebfc25d4,Switch to oslo.service,MERGED,2015-06-18 07:44:59.000000000,2015-07-01 05:34:04.000000000,2015-06-30 23:24:54.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 2860}, {'_account_id': 2874}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 5892}, {'_account_id': 5948}, {'_account_id': 6659}, {'_account_id': 7249}, {'_account_id': 7293}, {'_account_id': 7787}, {'_account_id': 8124}, {'_account_id': 8911}, {'_account_id': 9008}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 11343}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 14605}, {'_account_id': 15296}, {'_account_id': 15894}]","[{'number': 1, 'created': '2015-06-18 07:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bdad2013e7747de50acd0fdfa50d10ece30f1bd9', 'message': '[WIP] Test switch to oslo.service\n\nChange-Id: I0155b3d8b72f6d031bf6f855488f80acebfc25d4\nDepends-On: I305cf53bad6213c151395e93d656b53a8a28e1db\n'}, {'number': 2, 'created': '2015-06-18 07:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9c2c8857d687af20ed5b5cdb16af223b1317971f', 'message': '[WIP] Test switch to oslo.service\n\nChange-Id: I0155b3d8b72f6d031bf6f855488f80acebfc25d4\nDepends-On: I305cf53bad6213c151395e93d656b53a8a28e1db\n'}, {'number': 3, 'created': '2015-06-18 08:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d5f9fef176b89111fc6c0027d0b75508e0e9e6f', 'message': '[WIP] Test switch to oslo.service\n\nChange-Id: I0155b3d8b72f6d031bf6f855488f80acebfc25d4\nDepends-On: I305cf53bad6213c151395e93d656b53a8a28e1db\n'}, {'number': 4, 'created': '2015-06-18 08:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/351c67b8aaaf17edf5e054ef279b96153f2e34d5', 'message': '[WIP] Test switch to oslo.service\n\nChange-Id: I0155b3d8b72f6d031bf6f855488f80acebfc25d4\nDepends-On: I305cf53bad6213c151395e93d656b53a8a28e1db\n'}, {'number': 5, 'created': '2015-06-18 08:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/243d4446768910fabe15a95fed31414de2bd7bde', 'message': '[WIP] Test switch to oslo.service\n\nChange-Id: I0155b3d8b72f6d031bf6f855488f80acebfc25d4\nDepends-On: I305cf53bad6213c151395e93d656b53a8a28e1db\n'}, {'number': 6, 'created': '2015-06-18 09:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/da6137e4a48c75fdc3097df27a0fbb1c5807731d', 'message': '[WIP] Test switch to oslo.service\n\nChange-Id: I0155b3d8b72f6d031bf6f855488f80acebfc25d4\nDepends-On: I305cf53bad6213c151395e93d656b53a8a28e1db\n'}, {'number': 7, 'created': '2015-06-19 08:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d29c3aa3679613a5ba5c256d070f3b0d4bbd955', 'message': '[WIP] Awitch to oslo.service\n\nDepends-On: Ie0fd63f969f954029c3c3cf31337fbe38f59331a\nDepends-On: I2093b37d411df9a26958fa50ff523c258bbe06ec\nDepends-On: I4823d344878fc97e66ddd8fdae25c13a34dede40\nChange-Id: I0155b3d8b72f6d031bf6f855488f80acebfc25d4\n'}, {'number': 8, 'created': '2015-06-19 13:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5a8001fe615c4adf1fee933f5d800463ecd532d3', 'message': 'Switch to oslo.service\n\noslo.service has graduated, so neutron should consume it.\n\nCloses-Bug: #1466851\nDepends-On: Ie0fd63f969f954029c3c3cf31337fbe38f59331a\nDepends-On: I2093b37d411df9a26958fa50ff523c258bbe06ec\nDepends-On: I4823d344878fc97e66ddd8fdae25c13a34dede40\nChange-Id: I0155b3d8b72f6d031bf6f855488f80acebfc25d4\n'}, {'number': 9, 'created': '2015-06-19 14:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8631660452fa1fcde734e3e34e7c585d60c7b37', 'message': 'Switch to oslo.service\n\noslo.service has graduated, so neutron should consume it.\n\nCloses-Bug: #1466851\nDepends-On: Ie0fd63f969f954029c3c3cf31337fbe38f59331a\nDepends-On: I2093b37d411df9a26958fa50ff523c258bbe06ec\nDepends-On: I4823d344878fc97e66ddd8fdae25c13a34dede40\nDepends-On: I305cf53bad6213c151395e93d656b53a8a28e1db\nChange-Id: I0155b3d8b72f6d031bf6f855488f80acebfc25d4\n'}, {'number': 10, 'created': '2015-06-19 18:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0468cdd37e99c88a881e3f119d57411139cf15bc', 'message': 'Switch to oslo.service\n\noslo.service has graduated, so neutron should consume it.\n\nCloses-Bug: #1466851\nDepends-On: Ie0fd63f969f954029c3c3cf31337fbe38f59331a\nDepends-On: I2093b37d411df9a26958fa50ff523c258bbe06ec\nDepends-On: I4823d344878fc97e66ddd8fdae25c13a34dede40\nDepends-On: I305cf53bad6213c151395e93d656b53a8a28e1db\nDepends-On: I59813df4ffb8b3ed82751af7ef4744c85712327f\nChange-Id: I0155b3d8b72f6d031bf6f855488f80acebfc25d4\n'}, {'number': 11, 'created': '2015-06-22 12:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/27dad44cf516dce47a8cb2ca8286b2a7533536dd', 'message': 'Switch to oslo.service\n\noslo.service has graduated, so neutron should consume it.\n\nCloses-Bug: #1466851\nDepends-On: Ie0fd63f969f954029c3c3cf31337fbe38f59331a\nDepends-On: I2093b37d411df9a26958fa50ff523c258bbe06ec\nDepends-On: I4823d344878fc97e66ddd8fdae25c13a34dede40\nDepends-On: I305cf53bad6213c151395e93d656b53a8a28e1db\nDepends-On: I59813df4ffb8b3ed82751af7ef4744c85712327f\nChange-Id: I0155b3d8b72f6d031bf6f855488f80acebfc25d4\n'}, {'number': 12, 'created': '2015-06-22 13:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fdf1766a7cff1a1e76a4debe7b4b275085ff0242', 'message': 'Switch to oslo.service\n\noslo.service has graduated, so neutron should consume it.\n\nCloses-Bug: #1466851\nDepends-On: Ie0fd63f969f954029c3c3cf31337fbe38f59331a\nDepends-On: I2093b37d411df9a26958fa50ff523c258bbe06ec\nDepends-On: I4823d344878fc97e66ddd8fdae25c13a34dede40\nDepends-On: I305cf53bad6213c151395e93d656b53a8a28e1db\nDepends-On: I59813df4ffb8b3ed82751af7ef4744c85712327f\nChange-Id: I0155b3d8b72f6d031bf6f855488f80acebfc25d4\n'}, {'number': 13, 'created': '2015-06-23 07:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d974fcaf5893f72db6b970224c4ff600b9433912', 'message': 'Switch to oslo.service\n\noslo.service has graduated, so neutron should consume it.\n\nCloses-Bug: #1466851\nDepends-On: Ie0fd63f969f954029c3c3cf31337fbe38f59331a\nDepends-On: I2093b37d411df9a26958fa50ff523c258bbe06ec\nDepends-On: I4823d344878fc97e66ddd8fdae25c13a34dede40\nChange-Id: I0155b3d8b72f6d031bf6f855488f80acebfc25d4\n'}, {'number': 14, 'created': '2015-06-25 09:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b1fe04da3a52ca822453489d4babc67d7d304658', 'message': 'Switch to oslo.service\n\noslo.service has graduated, so neutron should consume it.\n\nCloses-Bug: #1466851\nDepends-On: Ie0fd63f969f954029c3c3cf31337fbe38f59331a\nDepends-On: I2093b37d411df9a26958fa50ff523c258bbe06ec\nDepends-On: I4823d344878fc97e66ddd8fdae25c13a34dede40\nChange-Id: I0155b3d8b72f6d031bf6f855488f80acebfc25d4\n'}, {'number': 15, 'created': '2015-06-26 12:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/78bf9d3d462c883aecec0fbb59aa2b512ba2e1b0', 'message': 'Switch to oslo.service\n\noslo.service has graduated, so neutron should consume it.\n\nCloses-Bug: #1466851\nDepends-On: Ie0fd63f969f954029c3c3cf31337fbe38f59331a\nDepends-On: I2093b37d411df9a26958fa50ff523c258bbe06ec\nDepends-On: I4823d344878fc97e66ddd8fdae25c13a34dede40\nChange-Id: I0155b3d8b72f6d031bf6f855488f80acebfc25d4\n'}, {'number': 16, 'created': '2015-06-29 10:21:54.000000000', 'files': ['neutron/openstack/common/systemd.py', 'neutron/tests/unit/plugins/ml2/drivers/cisco/apic/test_apic_sync.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/mech_sriov/agent/test_sriov_nic_agent.py', 'neutron/agent/l3_agent.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/db/agentschedulers_db.py', 'neutron/plugins/ml2/drivers/cisco/apic/apic_topology.py', 'neutron/tests/unit/plugins/ml2/drivers/cisco/apic/test_apic_topology.py', 'neutron/plugins/ml2/drivers/cisco/apic/apic_sync.py', 'neutron/plugins/ibm/agent/sdnve_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py', 'neutron/tests/unit/plugins/oneconvergence/test_nvsd_agent.py', 'requirements.txt', 'neutron/agent/dhcp/agent.py', 'neutron/wsgi.py', 'neutron/agent/dhcp_agent.py', 'neutron/service.py', 'neutron/common/rpc.py', 'neutron/manager.py', 'openstack-common.conf', 'neutron/openstack/common/threadgroup.py', 'neutron/plugins/hyperv/agent/l2_agent.py', 'neutron/openstack/common/loopingcall.py', 'neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/services/metering/agents/metering_agent.py', 'neutron/tests/unit/test_wsgi.py', 'neutron/tests/unit/plugins/ibm/test_sdnve_agent.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/tests/unit/agent/metadata/test_agent.py', 'neutron/openstack/common/periodic_task.py', 'neutron/agent/l3/agent.py', 'neutron/agent/metadata/agent.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/sriov_nic_agent.py', 'neutron/openstack/common/eventlet_backdoor.py', 'neutron/openstack/common/service.py', 'neutron/tests/unit/services/metering/agents/test_metering_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6e693fc91dd79cfbf181e3b015a1816d985ad02c', 'message': 'Switch to oslo.service\n\noslo.service has graduated, so neutron should consume it.\n\nCloses-Bug: #1466851\nDepends-On: Ie0fd63f969f954029c3c3cf31337fbe38f59331a\nDepends-On: I2093b37d411df9a26958fa50ff523c258bbe06ec\nDepends-On: I4823d344878fc97e66ddd8fdae25c13a34dede40\nChange-Id: I0155b3d8b72f6d031bf6f855488f80acebfc25d4\n'}]",4,192999,6e693fc91dd79cfbf181e3b015a1816d985ad02c,247,33,16,7293,,,0,"Switch to oslo.service

oslo.service has graduated, so neutron should consume it.

Closes-Bug: #1466851
Depends-On: Ie0fd63f969f954029c3c3cf31337fbe38f59331a
Depends-On: I2093b37d411df9a26958fa50ff523c258bbe06ec
Depends-On: I4823d344878fc97e66ddd8fdae25c13a34dede40
Change-Id: I0155b3d8b72f6d031bf6f855488f80acebfc25d4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/99/192999/16 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/openstack/common/systemd.py', 'neutron/agent/l3_agent.py', 'neutron/db/agentschedulers_db.py', 'neutron/plugins/ml2/drivers/cisco/apic/apic_topology.py', 'neutron/plugins/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/cisco/apic/apic_sync.py', 'neutron/plugins/ibm/agent/sdnve_neutron_agent.py', 'requirements.txt', 'neutron/agent/dhcp/agent.py', 'neutron/wsgi.py', 'neutron/agent/dhcp_agent.py', 'neutron/service.py', 'neutron/common/rpc.py', 'neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/manager.py', 'neutron/openstack/common/threadgroup.py', 'neutron/plugins/hyperv/agent/l2_agent.py', 'neutron/openstack/common/loopingcall.py', 'neutron/services/metering/agents/metering_agent.py', 'neutron/plugins/sriovnicagent/sriov_nic_agent.py', 'neutron/openstack/common/periodic_task.py', 'neutron/agent/l3/agent.py', 'neutron/agent/metadata/agent.py', 'neutron/openstack/common/eventlet_backdoor.py', 'neutron/openstack/common/service.py']",25,bdad2013e7747de50acd0fdfa50d10ece30f1bd9,bug/1466851,,"# Copyright 2010 United States Government as represented by the # Administrator of the National Aeronautics and Space Administration. # Copyright 2011 Justin Santa Barbara # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Generic Node base class for all workers that run on hosts."""""" import errno import logging import os import random import signal import sys import time try: # Importing just the symbol here because the io module does not # exist in Python 2.6. from io import UnsupportedOperation # noqa except ImportError: # Python 2.6 UnsupportedOperation = None import eventlet from eventlet import event from oslo_config import cfg from neutron.openstack.common import eventlet_backdoor from neutron.openstack.common._i18n import _LE, _LI, _LW from neutron.openstack.common import systemd from neutron.openstack.common import threadgroup CONF = cfg.CONF LOG = logging.getLogger(__name__) def _sighup_supported(): return hasattr(signal, 'SIGHUP') def _is_daemon(): # The process group for a foreground process will match the # process group of the controlling terminal. If those values do # not match, or ioctl() fails on the stdout file handle, we assume # the process is running in the background as a daemon. # http://www.gnu.org/software/bash/manual/bashref.html#Job-Control-Basics try: is_daemon = os.getpgrp() != os.tcgetpgrp(sys.stdout.fileno()) except OSError as err: if err.errno == errno.ENOTTY: # Assume we are a daemon because there is no terminal. is_daemon = True else: raise except UnsupportedOperation: # Could not get the fileno for stdout, so we must be a daemon. is_daemon = True return is_daemon def _is_sighup_and_daemon(signo): if not (_sighup_supported() and signo == signal.SIGHUP): # Avoid checking if we are a daemon, because the signal isn't # SIGHUP. return False return _is_daemon() def _signo_to_signame(signo): signals = {signal.SIGTERM: 'SIGTERM', signal.SIGINT: 'SIGINT'} if _sighup_supported(): signals[signal.SIGHUP] = 'SIGHUP' return signals[signo] def _set_signals_handler(handler): signal.signal(signal.SIGTERM, handler) signal.signal(signal.SIGINT, handler) if _sighup_supported(): signal.signal(signal.SIGHUP, handler) class Launcher(object): """"""Launch one or more services and wait for them to complete."""""" def __init__(self): """"""Initialize the service launcher. :returns: None """""" self.services = Services() self.backdoor_port = eventlet_backdoor.initialize_if_enabled() def launch_service(self, service): """"""Load and start the given service. :param service: The service you would like to start. :returns: None """""" service.backdoor_port = self.backdoor_port self.services.add(service) def stop(self): """"""Stop all services which are currently running. :returns: None """""" self.services.stop() def wait(self): """"""Waits until all services have been stopped, and then returns. :returns: None """""" self.services.wait() def restart(self): """"""Reload config files and restart service. :returns: None """""" cfg.CONF.reload_config_files() self.services.restart() class SignalExit(SystemExit): def __init__(self, signo, exccode=1): super(SignalExit, self).__init__(exccode) self.signo = signo class ServiceLauncher(Launcher): def _handle_signal(self, signo, frame): # Allow the process to be killed again and die from natural causes _set_signals_handler(signal.SIG_DFL) raise SignalExit(signo) def handle_signal(self): _set_signals_handler(self._handle_signal) def _wait_for_exit_or_signal(self, ready_callback=None): status = None signo = 0 LOG.debug('Full set of CONF:') CONF.log_opt_values(LOG, logging.DEBUG) try: if ready_callback: ready_callback() super(ServiceLauncher, self).wait() except SignalExit as exc: signame = _signo_to_signame(exc.signo) LOG.info(_LI('Caught %s, exiting'), signame) status = exc.code signo = exc.signo except SystemExit as exc: status = exc.code finally: self.stop() return status, signo def wait(self, ready_callback=None): systemd.notify_once() while True: self.handle_signal() status, signo = self._wait_for_exit_or_signal(ready_callback) if not _is_sighup_and_daemon(signo): return status self.restart() class ServiceWrapper(object): def __init__(self, service, workers): self.service = service self.workers = workers self.children = set() self.forktimes = [] class ProcessLauncher(object): _signal_handlers_set = set() @classmethod def _handle_class_signals(cls, *args, **kwargs): for handler in cls._signal_handlers_set: handler(*args, **kwargs) def __init__(self, wait_interval=0.01): """"""Constructor. :param wait_interval: The interval to sleep for between checks of child process exit. """""" self.children = {} self.sigcaught = None self.running = True self.wait_interval = wait_interval rfd, self.writepipe = os.pipe() self.readpipe = eventlet.greenio.GreenPipe(rfd, 'r') self.handle_signal() def handle_signal(self): self._signal_handlers_set.add(self._handle_signal) _set_signals_handler(self._handle_class_signals) def _handle_signal(self, signo, frame): self.sigcaught = signo self.running = False # Allow the process to be killed again and die from natural causes _set_signals_handler(signal.SIG_DFL) def _pipe_watcher(self): # This will block until the write end is closed when the parent # dies unexpectedly self.readpipe.read() LOG.info(_LI('Parent process has died unexpectedly, exiting')) sys.exit(1) def _child_process_handle_signal(self): # Setup child signal handlers differently def _sigterm(*args): signal.signal(signal.SIGTERM, signal.SIG_DFL) raise SignalExit(signal.SIGTERM) def _sighup(*args): signal.signal(signal.SIGHUP, signal.SIG_DFL) raise SignalExit(signal.SIGHUP) signal.signal(signal.SIGTERM, _sigterm) if _sighup_supported(): signal.signal(signal.SIGHUP, _sighup) # Block SIGINT and let the parent send us a SIGTERM signal.signal(signal.SIGINT, signal.SIG_IGN) def _child_wait_for_exit_or_signal(self, launcher): status = 0 signo = 0 # NOTE(johannes): All exceptions are caught to ensure this # doesn't fallback into the loop spawning children. It would # be bad for a child to spawn more children. try: launcher.wait() except SignalExit as exc: signame = _signo_to_signame(exc.signo) LOG.info(_LI('Child caught %s, exiting'), signame) status = exc.code signo = exc.signo except SystemExit as exc: status = exc.code except BaseException: LOG.exception(_LE('Unhandled exception')) status = 2 finally: launcher.stop() return status, signo def _child_process(self, service): self._child_process_handle_signal() # Reopen the eventlet hub to make sure we don't share an epoll # fd with parent and/or siblings, which would be bad eventlet.hubs.use_hub() # Close write to ensure only parent has it open os.close(self.writepipe) # Create greenthread to watch for parent to close pipe eventlet.spawn_n(self._pipe_watcher) # Reseed random number generator random.seed() launcher = Launcher() launcher.launch_service(service) return launcher def _start_child(self, wrap): if len(wrap.forktimes) > wrap.workers: # Limit ourselves to one process a second (over the period of # number of workers * 1 second). This will allow workers to # start up quickly but ensure we don't fork off children that # die instantly too quickly. if time.time() - wrap.forktimes[0] < wrap.workers: LOG.info(_LI('Forking too fast, sleeping')) time.sleep(1) wrap.forktimes.pop(0) wrap.forktimes.append(time.time()) pid = os.fork() if pid == 0: launcher = self._child_process(wrap.service) while True: self._child_process_handle_signal() status, signo = self._child_wait_for_exit_or_signal(launcher) if not _is_sighup_and_daemon(signo): break launcher.restart() os._exit(status) LOG.info(_LI('Started child %d'), pid) wrap.children.add(pid) self.children[pid] = wrap return pid def launch_service(self, service, workers=1): wrap = ServiceWrapper(service, workers) LOG.info(_LI('Starting %d workers'), wrap.workers) while self.running and len(wrap.children) < wrap.workers: self._start_child(wrap) def _wait_child(self): try: # Don't block if no child processes have exited pid, status = os.waitpid(0, os.WNOHANG) if not pid: return None except OSError as exc: if exc.errno not in (errno.EINTR, errno.ECHILD): raise return None if os.WIFSIGNALED(status): sig = os.WTERMSIG(status) LOG.info(_LI('Child %(pid)d killed by signal %(sig)d'), dict(pid=pid, sig=sig)) else: code = os.WEXITSTATUS(status) LOG.info(_LI('Child %(pid)s exited with status %(code)d'), dict(pid=pid, code=code)) if pid not in self.children: LOG.warning(_LW('pid %d not in child list'), pid) return None wrap = self.children.pop(pid) wrap.children.remove(pid) return wrap def _respawn_children(self): while self.running: wrap = self._wait_child() if not wrap: # Yield to other threads if no children have exited # Sleep for a short time to avoid excessive CPU usage # (see bug #1095346) eventlet.greenthread.sleep(self.wait_interval) continue while self.running and len(wrap.children) < wrap.workers: self._start_child(wrap) def wait(self): """"""Loop waiting on children to die and respawning as necessary."""""" systemd.notify_once() LOG.debug('Full set of CONF:') CONF.log_opt_values(LOG, logging.DEBUG) try: while True: self.handle_signal() self._respawn_children() # No signal means that stop was called. Don't clean up here. if not self.sigcaught: return signame = _signo_to_signame(self.sigcaught) LOG.info(_LI('Caught %s, stopping children'), signame) if not _is_sighup_and_daemon(self.sigcaught): break cfg.CONF.reload_config_files() for service in set( [wrap.service for wrap in self.children.values()]): service.reset() for pid in self.children: os.kill(pid, signal.SIGHUP) self.running = True self.sigcaught = None except eventlet.greenlet.GreenletExit: LOG.info(_LI(""Wait called after thread killed. Cleaning up."")) self.stop() def stop(self): """"""Terminate child processes and wait on each."""""" self.running = False for pid in self.children: try: os.kill(pid, signal.SIGTERM) except OSError as exc: if exc.errno != errno.ESRCH: raise # Wait for children to die if self.children: LOG.info(_LI('Waiting on %d children to exit'), len(self.children)) while self.children: self._wait_child() class Service(object): """"""Service object for binaries running on hosts."""""" def __init__(self, threads=1000): self.tg = threadgroup.ThreadGroup(threads) # signal that the service is done shutting itself down: self._done = event.Event() def reset(self): # NOTE(Fengqian): docs for Event.reset() recommend against using it self._done = event.Event() def start(self): pass def stop(self, graceful=False): self.tg.stop(graceful) self.tg.wait() # Signal that service cleanup is done: if not self._done.ready(): self._done.send() def wait(self): self._done.wait() class Services(object): def __init__(self): self.services = [] self.tg = threadgroup.ThreadGroup() self.done = event.Event() def add(self, service): self.services.append(service) self.tg.add_thread(self.run_service, service, self.done) def stop(self): # wait for graceful shutdown of services: for service in self.services: service.stop() service.wait() # Each service has performed cleanup, now signal that the run_service # wrapper threads can now die: if not self.done.ready(): self.done.send() # reap threads: self.tg.stop() def wait(self): self.tg.wait() def restart(self): self.stop() self.done = event.Event() for restart_service in self.services: restart_service.reset() self.tg.add_thread(self.run_service, restart_service, self.done) @staticmethod def run_service(service, done): """"""Service start wrapper. :param service: service to run :param done: event to wait on until a shutdown is triggered :returns: None """""" service.start() done.wait() def launch(service, workers=1): if workers is None or workers == 1: launcher = ServiceLauncher() launcher.launch_service(service) else: launcher = ProcessLauncher() launcher.launch_service(service, workers=workers) return launcher ",37,1335
openstack%2Ftaskflow~master~I4473230267674ad1f85307b31b74380ada24454f,openstack/taskflow,master,I4473230267674ad1f85307b31b74380ada24454f,Updated from global requirements,MERGED,2015-06-23 21:50:45.000000000,2015-07-01 05:30:49.000000000,2015-07-01 05:30:47.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 5638}, {'_account_id': 16272}]","[{'number': 1, 'created': '2015-06-23 21:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/5db8e0570abd9a5650cbb40f300067ff65239c1b', 'message': 'Updated from global requirements\n\nChange-Id: I4473230267674ad1f85307b31b74380ada24454f\n'}, {'number': 2, 'created': '2015-06-24 20:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/3907391e0083868236953c242fd2abebb1a4f071', 'message': 'Updated from global requirements\n\nChange-Id: I4473230267674ad1f85307b31b74380ada24454f\n'}, {'number': 3, 'created': '2015-06-26 22:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/b81f8108ff0331e55bbc5ede35020f7339c9fad1', 'message': 'Updated from global requirements\n\nChange-Id: I4473230267674ad1f85307b31b74380ada24454f\n'}, {'number': 4, 'created': '2015-06-29 03:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/152fb94980648eeed2b3ae9f8926e47f9e08063b', 'message': 'Updated from global requirements\n\nChange-Id: I4473230267674ad1f85307b31b74380ada24454f\n'}, {'number': 5, 'created': '2015-06-29 05:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/cf4895327b165ba9dfd574cc63845f3397134678', 'message': 'Updated from global requirements\n\nChange-Id: I4473230267674ad1f85307b31b74380ada24454f\n'}, {'number': 6, 'created': '2015-06-29 20:34:45.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/e012d8de0c828c9f9037752dd0377012a638bca3', 'message': 'Updated from global requirements\n\nChange-Id: I4473230267674ad1f85307b31b74380ada24454f\n'}]",1,194836,e012d8de0c828c9f9037752dd0377012a638bca3,30,4,6,11131,,,0,"Updated from global requirements

Change-Id: I4473230267674ad1f85307b31b74380ada24454f
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/36/194836/6 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,5db8e0570abd9a5650cbb40f300067ff65239c1b,openstack/requirements,enum34;python_version=='2.7'futures>=3.0;python_version=='2.7',enum34futures>=3.0,2,2
openstack%2Fpython-heatclient~master~Ice69e5d6ae95c1c07054cabc3bd71252ec1b8fe8,openstack/python-heatclient,master,Ice69e5d6ae95c1c07054cabc3bd71252ec1b8fe8,Updated from global requirements,MERGED,2015-06-30 20:02:57.000000000,2015-07-01 05:26:23.000000000,2015-07-01 05:26:22.000000000,"[{'_account_id': 3}, {'_account_id': 4715}, {'_account_id': 8246}]","[{'number': 1, 'created': '2015-06-30 20:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/6ee203be90cde196f6176a6bc2ef8316f6728727', 'message': 'Updated from global requirements\n\nChange-Id: Ice69e5d6ae95c1c07054cabc3bd71252ec1b8fe8\n'}, {'number': 2, 'created': '2015-06-30 22:45:21.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/fa88dd3d0f62fa8ca97c09ea79a49c3c35e8b984', 'message': 'Updated from global requirements\n\nChange-Id: Ice69e5d6ae95c1c07054cabc3bd71252ec1b8fe8\n'}]",0,197275,fa88dd3d0f62fa8ca97c09ea79a49c3c35e8b984,9,3,2,11131,,,0,"Updated from global requirements

Change-Id: Ice69e5d6ae95c1c07054cabc3bd71252ec1b8fe8
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/75/197275/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,6ee203be90cde196f6176a6bc2ef8316f6728727,openstack/requirements,fixtures>=1.3.1,fixtures>=0.3.14,1,1
openstack%2Fec2-api~master~Iccdc72352c47305f7fc6ec3c2793a12383bea549,openstack/ec2-api,master,Iccdc72352c47305f7fc6ec3c2793a12383bea549,switch instance and image api to bdm v2,MERGED,2015-06-27 07:44:29.000000000,2015-07-01 05:11:12.000000000,2015-07-01 05:11:11.000000000,"[{'_account_id': 3}, {'_account_id': 10224}, {'_account_id': 10234}]","[{'number': 1, 'created': '2015-06-27 07:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/61ab1f6ece2281eae28d2ac1d21cae7dc687d134', 'message': 'switch instance api to bdm v2\n\nChange-Id: Iccdc72352c47305f7fc6ec3c2793a12383bea549\n'}, {'number': 2, 'created': '2015-06-27 10:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/81543e4371e0548a766787c63dfe4faebce07547', 'message': 'switch instance api to bdm v2\n\nChange-Id: Iccdc72352c47305f7fc6ec3c2793a12383bea549\n'}, {'number': 3, 'created': '2015-06-29 13:54:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/a944d9a9cef8ec260e2e4c6277e8378472df53aa', 'message': 'switch instance api to bdm v2\n\nDepends-On: I2114719c00d5693666dcc6b0a77dc35baa1b033b\nDepends-On: Ib90e4ffa3b7835f6648a62eddf7f7b87b5ab0f7e\nChange-Id: Iccdc72352c47305f7fc6ec3c2793a12383bea549\n'}, {'number': 4, 'created': '2015-06-29 13:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/829025e08a439afb8cb391dda7abb1d50bf2d724', 'message': 'switch instance api to bdm v2\n\nDepends-On: I2114719c00d5693666dcc6b0a77dc35baa1b033b\nDepends-On: Ib90e4ffa3b7835f6648a62eddf7f7b87b5ab0f7e\nChange-Id: Iccdc72352c47305f7fc6ec3c2793a12383bea549\n'}, {'number': 5, 'created': '2015-06-29 15:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/62180061365abe2878ba1710a9bba1689a5e38ba', 'message': 'switch instance api to bdm v2\n\nDepends-On: I2114719c00d5693666dcc6b0a77dc35baa1b033b\nDepends-On: Ib90e4ffa3b7835f6648a62eddf7f7b87b5ab0f7e\nChange-Id: Iccdc72352c47305f7fc6ec3c2793a12383bea549\n'}, {'number': 6, 'created': '2015-06-29 17:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/89e1e11db88fb7e185fe1199140e44b6132ea6de', 'message': 'switch instance api to bdm v2\n\nDepends-On: I2114719c00d5693666dcc6b0a77dc35baa1b033b\nDepends-On: Ib90e4ffa3b7835f6648a62eddf7f7b87b5ab0f7e\nChange-Id: Iccdc72352c47305f7fc6ec3c2793a12383bea549\n'}, {'number': 7, 'created': '2015-06-29 17:06:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/dadaf848c55c3493dbfef7411591ab5d36241d98', 'message': 'switch instance api to bdm v2\n\nDepends-On: I2114719c00d5693666dcc6b0a77dc35baa1b033b\nDepends-On: Ib90e4ffa3b7835f6648a62eddf7f7b87b5ab0f7e\nChange-Id: Iccdc72352c47305f7fc6ec3c2793a12383bea549\n'}, {'number': 8, 'created': '2015-06-30 04:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/d493e206604ab438a509d0407eb9bbe090361b9b', 'message': 'switch instance api to bdm v2\n\nDepends-On: I2114719c00d5693666dcc6b0a77dc35baa1b033b\nDepends-On: Ib90e4ffa3b7835f6648a62eddf7f7b87b5ab0f7e\nChange-Id: Iccdc72352c47305f7fc6ec3c2793a12383bea549\n'}, {'number': 9, 'created': '2015-06-30 06:19:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/b898a807562ec670607585273f5be8d2a733e3b7', 'message': 'switch instance api to bdm v2\n\nDepends-On: I2114719c00d5693666dcc6b0a77dc35baa1b033b\nDepends-On: Ib90e4ffa3b7835f6648a62eddf7f7b87b5ab0f7e\nChange-Id: Iccdc72352c47305f7fc6ec3c2793a12383bea549\n'}, {'number': 10, 'created': '2015-06-30 10:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/7192d9f87d53cb177b4e449473e3273f536954d5', 'message': 'switch instance api to bdm v2\n\nChange-Id: Iccdc72352c47305f7fc6ec3c2793a12383bea549\n'}, {'number': 11, 'created': '2015-06-30 20:45:19.000000000', 'files': ['ec2api/api/image.py', 'ec2api/api/instance.py', 'ec2api/tests/functional/api/test_instances.py', 'ec2api/tests/functional/scenario/test_ebs_instances.py', 'ec2api/tests/unit/test_instance.py', 'ec2api/tests/unit/test_image.py'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/c8dc89b9d2c2efbc2d45743a716309a6b0832e1b', 'message': 'switch instance and image api to bdm v2\n\nChange-Id: Iccdc72352c47305f7fc6ec3c2793a12383bea549\n'}]",5,196361,c8dc89b9d2c2efbc2d45743a716309a6b0832e1b,37,3,11,10234,,,0,"switch instance and image api to bdm v2

Change-Id: Iccdc72352c47305f7fc6ec3c2793a12383bea549
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/61/196361/11 && git format-patch -1 --stdout FETCH_HEAD,"['ec2api/api/instance.py', 'ec2api/tests/functional/api/test_instances.py', 'ec2api/tests/functional/scenario/test_ebs_instances.py']",3,61ab1f6ece2281eae28d2ac1d21cae7dc687d134,master-3, def test_launch_ebs_instance_with_creating_blank_volume(self):," @testtools.skipUnless( CONF.aws.run_incompatible_tests, ""Error from nova: "" ""Invalid input for field/attribute 0. ..."") def test_launch_ebs_instance_with_creating_blank_volume(self):",28,18
openstack%2Ftempest~master~I1fb71ed486cad2936dc18b4ef30eca7ef1ab3ec9,openstack/tempest,master,I1fb71ed486cad2936dc18b4ef30eca7ef1ab3ec9,Delete resources when dvr test skipped.,MERGED,2015-06-23 19:24:56.000000000,2015-07-01 04:51:00.000000000,2015-07-01 04:50:58.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 6167}, {'_account_id': 7016}, {'_account_id': 7428}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 13770}, {'_account_id': 15736}, {'_account_id': 15739}, {'_account_id': 15769}]","[{'number': 1, 'created': '2015-06-23 19:24:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5bce83a9b736f977eb583e766af6653286852ff2', 'message': 'Delete resources when test skipped.\n\nfixes bug : #.... by deleting  any created\nrouter before raising the skipExecption\n\nChange-Id: I1fb71ed486cad2936dc18b4ef30eca7ef1ab3ec9\nCloses-Bug: #1468076\n'}, {'number': 2, 'created': '2015-06-23 19:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ccaabfc89e51ddac893dd89c8f10a528e2229e18', 'message': 'Delete resources when test skipped.\n\nfixes bug by deleting  any created\nrouter before raising the skipExecption\n\nChange-Id: I1fb71ed486cad2936dc18b4ef30eca7ef1ab3ec9\nCloses-Bug: #1468076\n'}, {'number': 3, 'created': '2015-06-23 23:19:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/311085b212fbd6da17189e4eb80f32c7e8055fd1', 'message': 'Delete resources when dvr test skipped.\n\nfixes bug by deleting  any created\nrouter before raising the skipExecption\n\nChange-Id: I1fb71ed486cad2936dc18b4ef30eca7ef1ab3ec9\nCloses-Bug: #1468076\n'}, {'number': 4, 'created': '2015-06-23 23:53:33.000000000', 'files': ['tempest/api/network/admin/test_routers_dvr.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2657404d602752549310407cf692fb05c6988c2d', 'message': 'Delete resources when dvr test skipped.\n\nfixes bug by deleting  any created\nrouter before raising the skipExecption\n\nChange-Id: I1fb71ed486cad2936dc18b4ef30eca7ef1ab3ec9\nCloses-Bug: #1468076\n'}]",7,194792,2657404d602752549310407cf692fb05c6988c2d,27,11,4,13770,,,0,"Delete resources when dvr test skipped.

fixes bug by deleting  any created
router before raising the skipExecption

Change-Id: I1fb71ed486cad2936dc18b4ef30eca7ef1ab3ec9
Closes-Bug: #1468076
",git fetch https://review.opendev.org/openstack/tempest refs/changes/92/194792/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/network/admin/test_routers_dvr.py'],1,5bce83a9b736f977eb583e766af6653286852ff2,cleanup_dvr_router," try: cls.admin_client.delete_router(router['router']['id']) except: pass finally: msg = ""'distributed' attribute not found. DVR Possibly not enabled"" raise cls.skipException(msg)"," msg = ""'distributed' attribute not found. DVR Possibly not enabled"" raise cls.skipException(msg)",7,2
openstack%2Ftempest~master~Ia3e592d0b00293e0e8fa6e196d8ffbee4adb4de8,openstack/tempest,master,Ia3e592d0b00293e0e8fa6e196d8ffbee4adb4de8,Updated from global requirements,MERGED,2015-06-30 20:04:26.000000000,2015-07-01 04:50:50.000000000,2015-07-01 04:50:48.000000000,"[{'_account_id': 3}, {'_account_id': 5196}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 15424}]","[{'number': 1, 'created': '2015-06-30 20:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ec3bd3e45af45cfbcff4743eb09580fe566125f0', 'message': 'Updated from global requirements\n\nChange-Id: Ia3e592d0b00293e0e8fa6e196d8ffbee4adb4de8\n'}, {'number': 2, 'created': '2015-06-30 22:46:39.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/tempest/commit/95a9b1a7058158104cd6a1d41f607860f202317b', 'message': 'Updated from global requirements\n\nChange-Id: Ia3e592d0b00293e0e8fa6e196d8ffbee4adb4de8\n'}]",0,197285,95a9b1a7058158104cd6a1d41f607860f202317b,14,6,2,11131,,,0,"Updated from global requirements

Change-Id: Ia3e592d0b00293e0e8fa6e196d8ffbee4adb4de8
",git fetch https://review.opendev.org/openstack/tempest refs/changes/85/197285/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,ec3bd3e45af45cfbcff4743eb09580fe566125f0,openstack/requirements,fixtures>=1.3.1,fixtures>=0.3.14,1,1
openstack%2Fkeystonemiddleware~master~Icd9b87dc2b570eb4cab56fc0cc7fc2b59a57e965,openstack/keystonemiddleware,master,Icd9b87dc2b570eb4cab56fc0cc7fc2b59a57e965,Add user_token and service_token to request,MERGED,2015-06-30 05:09:25.000000000,2015-07-01 04:17:04.000000000,2015-07-01 04:17:03.000000000,"[{'_account_id': 3}, {'_account_id': 2903}, {'_account_id': 6482}]","[{'number': 1, 'created': '2015-06-30 05:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/597b448cf3676ec55f243f46f94437f78b47a6a3', 'message': 'Add user_token and service_token to request\n\nAdd helpers to extract the user_token and the service_token from the\nrequest.\n\nChange-Id: Icd9b87dc2b570eb4cab56fc0cc7fc2b59a57e965\n'}, {'number': 2, 'created': '2015-06-30 19:02:20.000000000', 'files': ['keystonemiddleware/auth_token/_request.py', 'keystonemiddleware/tests/unit/auth_token/test_request.py', 'keystonemiddleware/auth_token/__init__.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/c2deb9e38edbc5e123002872ad7eb17b5718bf4c', 'message': 'Add user_token and service_token to request\n\nAdd helpers to extract the user_token and the service_token from the\nrequest.\n\nChange-Id: Icd9b87dc2b570eb4cab56fc0cc7fc2b59a57e965\n'}]",0,196949,c2deb9e38edbc5e123002872ad7eb17b5718bf4c,9,3,2,7191,,,0,"Add user_token and service_token to request

Add helpers to extract the user_token and the service_token from the
request.

Change-Id: Icd9b87dc2b570eb4cab56fc0cc7fc2b59a57e965
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/49/196949/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/auth_token/_request.py', 'keystonemiddleware/tests/unit/auth_token/test_request.py', 'keystonemiddleware/auth_token/__init__.py']",3,597b448cf3676ec55f243f46f94437f78b47a6a3,cachesplit-new," if request.service_token is not None: request.service_token, request) token = request.user_token "," serv_token = request.headers.get('X-Service-Token') if serv_token is not None: serv_token, request) token = request.headers.get('X-Auth-Token', request.headers.get('X-Storage-Token'))",35,5
openstack%2Fcinder~master~I62d7ef8041847f31b5d06a92fa2edb65c6780497,openstack/cinder,master,I62d7ef8041847f31b5d06a92fa2edb65c6780497,Fix Python 3 issues in the swift backup driver,MERGED,2015-06-23 12:30:49.000000000,2015-07-01 04:01:49.000000000,2015-06-27 14:35:53.000000000,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9107}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12285}, {'_account_id': 12369}, {'_account_id': 12778}, {'_account_id': 12988}, {'_account_id': 13144}, {'_account_id': 13394}, {'_account_id': 14259}, {'_account_id': 14650}, {'_account_id': 14797}, {'_account_id': 15249}, {'_account_id': 15374}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15764}, {'_account_id': 15941}, {'_account_id': 16160}, {'_account_id': 16269}, {'_account_id': 16422}, {'_account_id': 16897}]","[{'number': 1, 'created': '2015-06-23 12:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d750add310575dcd1597e0a9981a81f3dfc208cf', 'message': 'Port test_backup_swift and test_backup_tsm on py3\n\n* On Python 3, encode/decode JSON to/from UTF-8\n* Use byte strings for volume content\n* Replace dict.keys()[0] and dict.value()[0] with list(dict.items())[0].\n  Get the key and the value at once to ensure that they are consistent.\n  On Python 3, items() returns an iterator: create a list to use the [0]\n  operator.\n* SwiftBackupDriver: use a bytearray instead of a string because\n  bytes += bytes is inefficient on Python 3, whereas str += str is\n  optimized on Python 2. Replace also StringIO with BytesIO.\n* BytesIO has no more len attribute on Python 3: get the length of the\n  content instead.\n* Replace buffer(bytearray(128)) with b\'\\0\' * 128 to create a string of\n  128 zeroed bytes\n* Replace ""rw"" file mode with ""w+"" (""rw"" raises an exception\n  on Python 3).\n* tox.ini: add the following tests to Python 3.4\n\n  - cinder.tests.unit.test_backup_swift\n  - cinder.tests.unit.test_backup_tsm\n\nChange-Id: I62d7ef8041847f31b5d06a92fa2edb65c6780497\n'}, {'number': 2, 'created': '2015-06-24 15:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/489b71cb4391d349523e34997b9f39954a4cc26a', 'message': 'Fix Python 3 issues in the swift backup driver\n\n* On Python 3, encode/decode JSON to/from UTF-8\n* Use byte strings for volume content\n* Replace dict.keys()[0] and dict.value()[0] with list(dict.items())[0].\n  Get the key and the value at once to ensure that they are consistent.\n  On Python 3, items() returns an iterator: create a list to use the [0]\n  operator.\n* SwiftBackupDriver: use a bytearray instead of a string because\n  bytes += bytes is inefficient on Python 3, whereas str += str is\n  optimized on Python 2. Replace also StringIO with BytesIO.\n* BytesIO has no more len attribute on Python 3: get the length of the\n  content instead.\n* Replace buffer(bytearray(128)) with b\'\\0\' * 128 to create a string of\n  128 zeroed bytes\n* Replace ""rw"" file mode with ""w+"" (""rw"" raises an exception\n  on Python 3).\n* tox.ini: add the following tests to Python 3.4\n\n  - cinder.tests.unit.test_backup_swift\n  - cinder.tests.unit.test_backup_tsm\n\nChange-Id: I62d7ef8041847f31b5d06a92fa2edb65c6780497\n'}, {'number': 3, 'created': '2015-06-24 15:24:30.000000000', 'files': ['cinder/tests/unit/backup/fake_swift_client.py', 'cinder/tests/unit/test_backup_tsm.py', 'cinder/tests/unit/test_backup_swift.py', 'cinder/backup/drivers/swift.py', 'tox.ini', 'cinder/backup/chunkeddriver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/72b7a18583767b9f8449345312ad2ecddd93fc00', 'message': 'Fix Python 3 issues in the swift backup driver\n\n* On Python 3, encode/decode JSON to/from UTF-8\n* Use byte strings for volume content\n* Replace dict.keys()[0] and dict.value()[0] with list(dict.items())[0].\n  Get the key and the value at once to ensure that they are consistent.\n  On Python 3, items() returns an iterator: create a list to use the [0]\n  operator.\n* SwiftBackupDriver: use a bytearray instead of a string because\n  bytes += bytes is inefficient on Python 3, whereas str += str is\n  optimized on Python 2. Replace also StringIO with BytesIO.\n* BytesIO has no more len attribute on Python 3: get the length of the\n  content instead.\n* Replace buffer(bytearray(128)) with b\'\\0\' * 128 to create a string of\n  128 zeroed bytes\n* Replace ""rw"" file mode with ""w+"" (""rw"" raises an exception\n  on Python 3).\n* tox.ini: add the following tests to Python 3.4\n\n  - cinder.tests.unit.test_backup_swift\n  - cinder.tests.unit.test_backup_tsm\n\nBlueprint cinder-python3\nChange-Id: I62d7ef8041847f31b5d06a92fa2edb65c6780497\n'}]",0,194628,72b7a18583767b9f8449345312ad2ecddd93fc00,79,33,3,9107,,,0,"Fix Python 3 issues in the swift backup driver

* On Python 3, encode/decode JSON to/from UTF-8
* Use byte strings for volume content
* Replace dict.keys()[0] and dict.value()[0] with list(dict.items())[0].
  Get the key and the value at once to ensure that they are consistent.
  On Python 3, items() returns an iterator: create a list to use the [0]
  operator.
* SwiftBackupDriver: use a bytearray instead of a string because
  bytes += bytes is inefficient on Python 3, whereas str += str is
  optimized on Python 2. Replace also StringIO with BytesIO.
* BytesIO has no more len attribute on Python 3: get the length of the
  content instead.
* Replace buffer(bytearray(128)) with b'\0' * 128 to create a string of
  128 zeroed bytes
* Replace ""rw"" file mode with ""w+"" (""rw"" raises an exception
  on Python 3).
* tox.ini: add the following tests to Python 3.4

  - cinder.tests.unit.test_backup_swift
  - cinder.tests.unit.test_backup_tsm

Blueprint cinder-python3
Change-Id: I62d7ef8041847f31b5d06a92fa2edb65c6780497
",git fetch https://review.opendev.org/openstack/cinder refs/changes/28/194628/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/fake_swift_client.py', 'cinder/tests/unit/test_backup_tsm.py', 'cinder/tests/unit/test_backup_swift.py', 'cinder/backup/drivers/swift.py', 'tox.ini', 'cinder/backup/chunkeddriver.py']",6,d750add310575dcd1597e0a9981a81f3dfc208cf,bp/cinder-python3," if six.PY3: metadata_json = metadata_json.encode('utf-8') if six.PY3: sha256file_json = sha256file_json.encode('utf-8') if six.PY3: metadata_json = metadata_json.decode('utf-8') if six.PY3: sha256file_json = sha256file_json.decode('utf-8') if data == b'': metadata_object_names = [] for obj in metadata_objects: metadata_object_names.extend(obj.keys()) object_name, obj = list(metadata_object.items())[0] volume_file.seek(obj['offset'])"," if data == '': metadata_object_names = sum((obj.keys() for obj in metadata_objects), []) object_name = metadata_object.keys()[0] volume_file.seek(metadata_object.values()[0]['offset'])",28,14
openstack%2Fnova-specs~master~I02e388bf5c7dc4ecec7bfa1b7d38b1e7cb133ba6,openstack/nova-specs,master,I02e388bf5c7dc4ecec7bfa1b7d38b1e7cb133ba6,Add keep-jogo spec,ABANDONED,2015-06-23 18:26:11.000000000,2015-07-01 03:55:56.000000000,,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 7}, {'_account_id': 105}, {'_account_id': 782}, {'_account_id': 1063}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 4395}, {'_account_id': 5196}, {'_account_id': 5441}, {'_account_id': 5511}, {'_account_id': 5623}, {'_account_id': 5754}, {'_account_id': 6167}, {'_account_id': 6316}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 8556}, {'_account_id': 10980}]","[{'number': 1, 'created': '2015-06-23 18:26:11.000000000', 'files': ['specs/liberty/approved/keep-jogo.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/d0c949d9510191d03efc122ff4534438981dbfd2', 'message': 'Add keep-jogo spec\n\nChange-Id: I02e388bf5c7dc4ecec7bfa1b7d38b1e7cb133ba6\n'}]",6,194774,d0c949d9510191d03efc122ff4534438981dbfd2,28,22,1,4393,,,0,"Add keep-jogo spec

Change-Id: I02e388bf5c7dc4ecec7bfa1b7d38b1e7cb133ba6
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/74/194774/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/liberty/approved/keep-jogo.rst'],1,d0c949d9510191d03efc122ff4534438981dbfd2,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =============== Keep Joe Gordon =============== https://blueprints.launchpad.net/nova/+spec/keep-jogo We are deciding to keep Joe Gordon. Problem description =================== Joe is leaving. Use Cases ---------- As a nova developer I want good people on nova-core and nova-specs core. Project Priority ----------------- Joe, like Chuck Norris, is a nova priority. Proposed change =============== We keep Joe. Alternatives ------------ None. Data model impact ----------------- None. Joe is automatically self-upgrading with no impact to schema and in zero time. Much like Chuck Norris. REST API impact --------------- None. Joe is able to speak all microversions simultaneously. Much like Chuck Norris. Security impact --------------- None. There has never been an exploit in Joe (nor in Chuck Norris. Just sayin'). Notifications impact -------------------- None. Joe needs no introduction. Other end user impact --------------------- None. Not keeping Joe would have an end-user impact. Performance Impact ------------------ Joe does a lot of code and spec reviews. By keeping Joe we will *avoid* a negative performance impact. Other deployer impact --------------------- None. Joe makes deployers happy. Developer impact ---------------- No comment. Implementation ============== Assignee(s) ----------- Primary assignee: johnthetubaguy Other contributors: alaski dansmith danpb jaypipes oomichi vek cerebrus mriedem mikal ndipanov sdague melwitt Work Items ---------- * Keep Joe. Dependencies ============ * Someone has some explaining to do to his previously-next-employer. Not it. Testing ======= * Test plan: ** Go to https://review.openstack.org/#/admin/groups/25,members on June 27th ** Check if jogo is there Documentation Impact ==================== Hopefully none. References ========== Chuck Norris. History ======= * https://review.openstack.org/#/q/owner:%22Joe+Gordon+%253Cjogo%2540cloudscaling.com%253E%22,n,z ",,140,0
openstack%2Fhorizon~master~I3477f0fa3912f6381474e4278037f909aa9fa55a,openstack/horizon,master,I3477f0fa3912f6381474e4278037f909aa9fa55a,Applying auto-file-discovery partially,MERGED,2015-06-20 01:41:44.000000000,2015-07-01 03:29:11.000000000,2015-07-01 03:29:09.000000000,"[{'_account_id': 3}, {'_account_id': 7665}, {'_account_id': 8871}, {'_account_id': 9576}, {'_account_id': 9622}, {'_account_id': 12071}, {'_account_id': 12826}, {'_account_id': 13805}, {'_account_id': 14307}, {'_account_id': 16523}]","[{'number': 1, 'created': '2015-06-20 01:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/2af4f433eacc85650448429a944844a67679c0be', 'message': ""Appling auto-file-discovery to framework part\n\nThis patch applies auto-file-discovery to Horizon's framework\npart within /horizon/horizon/static/:\n\n- All the angular JavaScript source files are discoverd and\n  ordered correctly, including module files and other source\n  files.\n- All the angular spec files are discoverd.\n- All the html template files got angular are discovered.\n- script tags for angular JS files from framework get populated\n  in jasmine.html and _script.html\n- some common code in openstack_dashboard/static/openstack-service-api/\n  also collected.\n\nChange-Id: I3477f0fa3912f6381474e4278037f909aa9fa55a\nPartially-Implements: blueprint auto-js-file-finding\n""}, {'number': 2, 'created': '2015-06-21 06:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0bc18321fcd562f22a1e0577bfb7662dce16efa1', 'message': ""Appling auto-file-discovery to framework part\n\nThis patch applies auto-file-discovery to Horizon's framework\npart within /horizon/horizon/static/:\n\n- All the angular JavaScript source files are discoverd and\n  ordered correctly, including module files and other source\n  files.\n- All the angular spec files are discoverd.\n- All the html template files got angular are discovered.\n- script tags for angular JS files from framework get populated\n  in jasmine.html and _script.html\n- some common code in openstack_dashboard/static/openstack-service-api/\n  also collected.\n\nChange-Id: I3477f0fa3912f6381474e4278037f909aa9fa55a\nPartially-Implements: blueprint auto-js-file-finding\n""}, {'number': 3, 'created': '2015-06-21 07:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8b897c9bec3985a2e6500d0562a14d44b1fd56e3', 'message': ""Appling auto-file-discovery to framework part\n\nThis patch applies auto-file-discovery to Horizon's framework\npart within /horizon/horizon/static/:\n\n- All the angular JavaScript source files are discoverd and\n  ordered correctly, including module files and other source\n  files.\n- All the angular spec files are discoverd.\n- All the html template files got angular are discovered.\n- script tags for angular JS files from framework get populated\n  in jasmine.html and _script.html\n- some common code in openstack_dashboard/static/openstack-service-api/\n  also collected.\n\nChange-Id: I3477f0fa3912f6381474e4278037f909aa9fa55a\nPartially-Implements: blueprint auto-js-file-finding\n""}, {'number': 4, 'created': '2015-06-22 18:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b6362f1f58de9264e0f013403af4cc4ff2600c91', 'message': ""Appling auto-file-discovery to framework part\n\nThis patch applies auto-file-discovery to Horizon's framework\npart within /horizon/horizon/static/:\n\n- All the angular JavaScript source files are discoverd and\n  ordered correctly, including module files and other source\n  files.\n- All the angular spec files are discoverd.\n- All the html template files got angular are discovered.\n- script tags for angular JS files from framework get populated\n  in jasmine.html and _script.html\n- some common code in openstack_dashboard/static/openstack-service-api/\n  also collected.\n\nChange-Id: I3477f0fa3912f6381474e4278037f909aa9fa55a\nPartially-Implements: blueprint auto-js-file-finding\n""}, {'number': 5, 'created': '2015-06-22 18:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/94cf7ab4fed5864b6e59ca6cd1537f00e2f845b1', 'message': 'Appling auto-file-discovery partially\n\nThis patch applies auto-file-discovery to\n - horizon/horizon/horizon/static/\n - horizon/openstack_dashboard/static/openstack-service-api/\n\nChange-Id: I3477f0fa3912f6381474e4278037f909aa9fa55a\nPartially-Implements: blueprint auto-js-file-finding\n'}, {'number': 6, 'created': '2015-06-22 18:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/81b075abc0e288c6b4199a407a6a00776e82d474', 'message': 'Appling auto-file-discovery partially\n\nThis patch applies auto-file-discovery to\n - horizon/horizon/horizon/static/\n - horizon/openstack_dashboard/static/openstack-service-api/\n\nChange-Id: I3477f0fa3912f6381474e4278037f909aa9fa55a\nPartially-Implements: blueprint auto-js-file-finding\n'}, {'number': 7, 'created': '2015-06-23 00:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9769b2ce5cc2563245e5fd19314dc796d2e8cd8b', 'message': 'Appling auto-file-discovery partially\n\nThis patch applies auto-file-discovery to\n - horizon/horizon/horizon/static/\n - horizon/openstack_dashboard/static/openstack-service-api/\n\nChange-Id: I3477f0fa3912f6381474e4278037f909aa9fa55a\nPartially-Implements: blueprint auto-js-file-finding\n'}, {'number': 8, 'created': '2015-06-23 00:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/320bab0d2e137b52f6383d706dc801d06ce87bc6', 'message': 'Appling auto-file-discovery partially\n\nThis patch applies auto-file-discovery to\n - horizon/horizon/horizon/static/\n - horizon/openstack_dashboard/static/openstack-service-api/\n\nChange-Id: I3477f0fa3912f6381474e4278037f909aa9fa55a\nPartially-Implements: blueprint auto-js-file-finding\n'}, {'number': 9, 'created': '2015-06-23 00:27:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d447fb14dcc1c4381f63fa5ff20efe399ffdab66', 'message': 'Appling auto-file-discovery partially\n\nThis patch applies auto-file-discovery to\n - horizon/horizon/horizon/static/\n - horizon/openstack_dashboard/static/openstack-service-api/\n\nChange-Id: I3477f0fa3912f6381474e4278037f909aa9fa55a\nPartially-Implements: blueprint auto-js-file-finding\n'}, {'number': 10, 'created': '2015-06-23 06:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0f34cb406028209da81c246238c0512cb4a487a9', 'message': 'Appling auto-file-discovery partially\n\nThis patch applies auto-file-discovery to\n - horizon/horizon/horizon/static/\n - horizon/openstack_dashboard/static/openstack-service-api/\n\nChange-Id: I3477f0fa3912f6381474e4278037f909aa9fa55a\nPartially-Implements: blueprint auto-js-file-finding\n'}, {'number': 11, 'created': '2015-06-23 08:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/2bef0ee5c7a362c25532f4ddd07e03d08aa18860', 'message': 'Appling auto-file-discovery partially\n\nThis patch applies auto-file-discovery to\n - horizon/horizon/horizon/static/\n - horizon/openstack_dashboard/static/openstack-service-api/\n\nChange-Id: I3477f0fa3912f6381474e4278037f909aa9fa55a\nPartially-Implements: blueprint auto-js-file-finding\n'}, {'number': 12, 'created': '2015-06-26 06:32:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/adf9a7b67c662398eb9952ab4b98c172176481e5', 'message': 'Appling auto-file-discovery partially\n\nThis patch applies auto-file-discovery to\n - horizon/horizon/horizon/static/\n - horizon/openstack_dashboard/static/openstack-service-api/\n\nChange-Id: I3477f0fa3912f6381474e4278037f909aa9fa55a\nPartially-Implements: blueprint auto-js-file-finding\n'}, {'number': 13, 'created': '2015-06-26 08:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d0b0a10fbc6159991e0f386ad4e34c2cf3e323a6', 'message': 'Applying auto-file-discovery partially\n\nThis patch applies auto-file-discovery to\n - horizon/horizon/horizon/static/\n - horizon/openstack_dashboard/static/openstack-service-api/\n\nChange-Id: I3477f0fa3912f6381474e4278037f909aa9fa55a\nCo-Authored-By: r1chardj0n3s@gmail.com\nPartially-Implements: blueprint auto-js-file-finding\n'}, {'number': 14, 'created': '2015-06-26 16:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4f9c14e9766e609ba20d837976b9c10e98848a14', 'message': 'Applying auto-file-discovery partially\n\nThis patch applies auto-file-discovery to\n - horizon/horizon/horizon/static/\n - horizon/openstack_dashboard/static/openstack-service-api/\n\nChange-Id: I3477f0fa3912f6381474e4278037f909aa9fa55a\nCo-Authored-By: r1chardj0n3s@gmail.com\nCo-Authored-By: tqtran@us.ibm.com\nPartially-Implements: blueprint auto-js-file-finding\n'}, {'number': 15, 'created': '2015-06-26 20:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6c7613d4918fb0babfdf0354011428413975d696', 'message': 'Applying auto-file-discovery partially\n\nThis patch applies auto-file-discovery to\n - horizon/horizon/horizon/static/\n - horizon/openstack_dashboard/static/openstack-service-api/\n\nChange-Id: I3477f0fa3912f6381474e4278037f909aa9fa55a\nCo-Authored-By: r1chardj0n3s@gmail.com\nCo-Authored-By: tqtran@us.ibm.com\nPartially-Implements: blueprint auto-js-file-finding\n'}, {'number': 16, 'created': '2015-06-26 22:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f9b0482d0cdbe10b39f3ad628e1482158229681c', 'message': 'Applying auto-file-discovery partially\n\nThis patch applies auto-file-discovery to\n - horizon/horizon/horizon/static/\n - horizon/openstack_dashboard/static/openstack-service-api/\n\nChange-Id: I3477f0fa3912f6381474e4278037f909aa9fa55a\nCo-Authored-By: r1chardj0n3s@gmail.com\nCo-Authored-By: tqtran@us.ibm.com\nPartially-Implements: blueprint auto-js-file-finding\n'}, {'number': 17, 'created': '2015-06-26 23:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b0765a9784e008e689b559f6affa0bd6b6fa744a', 'message': 'Applying auto-file-discovery partially\n\nThis patch applies auto-file-discovery to\n - horizon/horizon/horizon/static/\n - horizon/openstack_dashboard/static/openstack-service-api/\n\nChange-Id: I3477f0fa3912f6381474e4278037f909aa9fa55a\nCo-Authored-By: Richard Jones r1chardj0n3s@gmail.com\nCo-Authored-By: Thai Tran tqtran@us.ibm.com\nPartially-Implements: blueprint auto-js-file-finding\n'}, {'number': 18, 'created': '2015-06-26 23:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/25f6ca8d60bb5de194badf9f46b573ae5fac5e5c', 'message': 'Applying auto-file-discovery partially\n\nThis patch applies auto-file-discovery to\n - horizon/horizon/horizon/static/\n - horizon/openstack_dashboard/static/openstack-service-api/\n\nChange-Id: I3477f0fa3912f6381474e4278037f909aa9fa55a\nCo-Authored-By: Richard Jones <r1chardj0n3s@gmail.com>\nCo-Authored-By: Thai Tran <tqtran@us.ibm.com>\nPartially-Implements: blueprint auto-js-file-finding\n'}, {'number': 19, 'created': '2015-06-27 16:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/10060f9ad4c9542f8a6ed64f1377c62421901ecb', 'message': 'Applying auto-file-discovery partially\n\nThis patch applies auto-file-discovery to\n - horizon/horizon/horizon/static/\n - horizon/openstack_dashboard/static/openstack-service-api/\n\nChange-Id: I3477f0fa3912f6381474e4278037f909aa9fa55a\nCo-Authored-By: Richard Jones <r1chardj0n3s@gmail.com>\nCo-Authored-By: Thai Tran <tqtran@us.ibm.com>\nPartially-Implements: blueprint auto-js-file-finding\n'}, {'number': 20, 'created': '2015-06-29 15:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/518dfd0d47ecfb44665fb8650447047f178d96d9', 'message': 'Applying auto-file-discovery partially\n\nThis patch applies auto-file-discovery to\n - horizon/horizon/horizon/static/\n - horizon/openstack_dashboard/static/openstack-service-api/\n\nChange-Id: I3477f0fa3912f6381474e4278037f909aa9fa55a\nCo-Authored-By: Richard Jones <r1chardj0n3s@gmail.com>\nCo-Authored-By: Thai Tran <tqtran@us.ibm.com>\nPartially-Implements: blueprint auto-js-file-finding\n'}, {'number': 21, 'created': '2015-06-29 22:12:33.000000000', 'files': ['horizon/site_urls.py', 'horizon/test/jasmine/jasmine.py', 'horizon/test/urls.py', 'openstack_dashboard/templates/horizon/_scripts.html', 'horizon/test/jasmine/jasmine_tests.py', 'horizon/templates/horizon/jasmine/jasmine.html', 'openstack_dashboard/settings.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/56596228dcabd36dc8c2d83123119e7c8d1c6bb9', 'message': 'Applying auto-file-discovery partially\n\nThis patch applies auto-file-discovery to\n - horizon/horizon/horizon/static/\n - horizon/openstack_dashboard/static/openstack-service-api/\n\nChange-Id: I3477f0fa3912f6381474e4278037f909aa9fa55a\nCo-Authored-By: Richard Jones <r1chardj0n3s@gmail.com>\nCo-Authored-By: Thai Tran <tqtran@us.ibm.com>\nPartially-Implements: blueprint auto-js-file-finding\n'}]",16,193771,56596228dcabd36dc8c2d83123119e7c8d1c6bb9,70,10,21,13805,,,0,"Applying auto-file-discovery partially

This patch applies auto-file-discovery to
 - horizon/horizon/horizon/static/
 - horizon/openstack_dashboard/static/openstack-service-api/

Change-Id: I3477f0fa3912f6381474e4278037f909aa9fa55a
Co-Authored-By: Richard Jones <r1chardj0n3s@gmail.com>
Co-Authored-By: Thai Tran <tqtran@us.ibm.com>
Partially-Implements: blueprint auto-js-file-finding
",git fetch https://review.opendev.org/openstack/horizon refs/changes/71/193771/14 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/test/jasmine/jasmine.py', 'horizon/test/jasmine/jasmine_tests.py', 'horizon/templates/horizon/jasmine/jasmine.html', 'openstack_dashboard/settings.py']",4,2af4f433eacc85650448429a944844a67679c0be,bp/auto-js-file-finding," 'external_templates': [],# populate HORIZON_CONFIG with auto-discovered JavaScript sources, mock files, # specs files and external templates. from horizon.utils import file_discovery as fd fd.populate_horizon_config( HORIZON_CONFIG, 'openstack_dashboard/static/', sub_path='openstack-service-api/', prepend=True) fd.populate_horizon_config(HORIZON_CONFIG, './horizon/static/', prepend=True) # filter out non-angular javascript code and lib HORIZON_CONFIG['js_files'] = ([f for f in HORIZON_CONFIG['js_files'] if not f.startswith('horizon/js/horizon.') and not f.startswith('horizon/tests/') and not f.startswith('horizon/lib/')]) ",,27,140
openstack%2Ftempest~master~I693ae1dec027a9ea6752314f3f95c5b042dc6f95,openstack/tempest,master,I693ae1dec027a9ea6752314f3f95c5b042dc6f95,Removing unnecessary comments,MERGED,2015-06-29 19:49:54.000000000,2015-07-01 03:29:03.000000000,2015-07-01 03:28:59.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 5196}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7227}, {'_account_id': 7428}, {'_account_id': 8871}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-06-29 19:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b7d67e84c61ced9628e1369537bb8f44e1f15c11', 'message': 'Removing unnecessary comments\n\nChange-Id: I693ae1dec027a9ea6752314f3f95c5b042dc6f95\n'}, {'number': 2, 'created': '2015-06-29 19:50:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7013cee386cba5165e0ca23fd7ec64fe6c19ac73', 'message': 'Removing unnecessary comments\n\nChange-Id: I693ae1dec027a9ea6752314f3f95c5b042dc6f95\n'}, {'number': 3, 'created': '2015-06-29 19:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5e26b2f431d6db5bc74a70c142cddd475ff581b9', 'message': 'Removing unnecessary comments\n\nThere is a change (I24f6e20cc8e310ba69fb23510795e235218abb2d) that\nremoves code lines with direct calls to fixtures cleanUp() to fix\nbug #1469825. But in this patch we forgot to remove some comments\nrelated to removed code lines. So this patch is intended to remove\nsuch comments. \n\nChange-Id: I693ae1dec027a9ea6752314f3f95c5b042dc6f95\n'}, {'number': 4, 'created': '2015-06-29 21:02:06.000000000', 'files': ['tempest/tests/common/test_accounts.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2b262c01e6dd372a900f11332c99e6f8d2a12f2f', 'message': 'Removing unnecessary comments\n\nThere is a change (I24f6e20cc8e310ba69fb23510795e235218abb2d) that\nremoves code lines with direct calls to fixtures cleanUp() to fix\nbug #1469825. But in this patch we forgot to remove some comments\nrelated to removed code lines. So this patch is intended to remove\nsuch comments. \n\nChange-Id: I693ae1dec027a9ea6752314f3f95c5b042dc6f95\n'}]",1,196829,2b262c01e6dd372a900f11332c99e6f8d2a12f2f,19,10,4,7428,,,0,"Removing unnecessary comments

There is a change (I24f6e20cc8e310ba69fb23510795e235218abb2d) that
removes code lines with direct calls to fixtures cleanUp() to fix
bug #1469825. But in this patch we forgot to remove some comments
related to removed code lines. So this patch is intended to remove
such comments. 

Change-Id: I693ae1dec027a9ea6752314f3f95c5b042dc6f95
",git fetch https://review.opendev.org/openstack/tempest refs/changes/29/196829/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/tests/test_decorators.py', 'tempest/tests/common/test_accounts.py']",2,b7d67e84c61ced9628e1369537bb8f44e1f15c11,,, # Clear previous mock using self.test_accounts,0,2
openstack%2Fnetworking-midonet~master~I6cff44f99e40f830b26bd7ec0fee028281ae1227,openstack/networking-midonet,master,I6cff44f99e40f830b26bd7ec0fee028281ae1227,devstack/plugin.sh: Don't launch midonet services too early,MERGED,2015-06-30 04:32:55.000000000,2015-07-01 03:24:37.000000000,2015-07-01 03:24:36.000000000,"[{'_account_id': 3}, {'_account_id': 156}, {'_account_id': 6854}, {'_account_id': 7505}, {'_account_id': 8837}]","[{'number': 1, 'created': '2015-06-30 04:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/dbbb8d156eca0dae6c48116de26287c54f6158aa', 'message': 'devstack/plugin.sh: Don\'t launch midonet services too early\n\nPostpone mido.sh to the ""extra"" phase.\n\nThe ""install"" phase is run before init_neutron, which re-creates\nthe database.  Launching services at the phase means that the database\ncan be recreated while Neutron Importer is running.\n\nFixes: MNP-165\nSigned-off-by: YAMAMOTO Takashi <yamamoto@midokura.com>\nChange-Id: I6cff44f99e40f830b26bd7ec0fee028281ae1227\n'}, {'number': 2, 'created': '2015-06-30 05:19:39.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/a0ef4942dfbc7832fc12919c0c9967f824ac6d2b', 'message': 'devstack/plugin.sh: Don\'t launch midonet services too early\n\nPostpone mido.sh to the ""post-config"" phase.\n\nThe ""install"" phase is run before init_neutron, which re-creates\nthe database.  In case of Cluster API, launching services at the\nphase means that the database can be recreated while Neutron Importer\nis running.\n\nFixes: MNP-165\nSigned-off-by: YAMAMOTO Takashi <yamamoto@midokura.com>\nChange-Id: I6cff44f99e40f830b26bd7ec0fee028281ae1227\n'}]",0,196944,a0ef4942dfbc7832fc12919c0c9967f824ac6d2b,14,5,2,6854,,,0,"devstack/plugin.sh: Don't launch midonet services too early

Postpone mido.sh to the ""post-config"" phase.

The ""install"" phase is run before init_neutron, which re-creates
the database.  In case of Cluster API, launching services at the
phase means that the database can be recreated while Neutron Importer
is running.

Fixes: MNP-165
Signed-off-by: YAMAMOTO Takashi <yamamoto@midokura.com>
Change-Id: I6cff44f99e40f830b26bd7ec0fee028281ae1227
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/44/196944/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,dbbb8d156eca0dae6c48116de26287c54f6158aa,NMP-165," # Build neutron midonet plugin pip_install --no-deps --editable $ABSOLUTE_PATH/.. # Build midonet client pip_install --editable $MIDONET_DIR/python-midonetclient elif [[ ""$2"" == ""extra"" ]]; then "," # Build neutron midonet plugin pip_install --no-deps --editable $ABSOLUTE_PATH/.. # Build midonet client pip_install --editable $MIDONET_DIR/python-midonetclient elif [[ ""$2"" == ""extra"" ]]; then ",8,8
openstack%2Foslo.cache~master~Ia2c6d9694033d71ebf9edc912571341f76986b89,openstack/oslo.cache,master,Ia2c6d9694033d71ebf9edc912571341f76986b89,Don't use global conf,MERGED,2015-07-01 01:13:01.000000000,2015-07-01 03:10:49.000000000,2015-07-01 03:10:49.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6482}, {'_account_id': 6486}]","[{'number': 1, 'created': '2015-07-01 01:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/2c6b02b111d36bd9c48000f948c55f7a2afc66c8', 'message': ""Don't use global conf\n\nThe library shouldn't be using the global CONF object and instead\nallow the application to use whatever conf it wants to.\n\nChange-Id: Ia2c6d9694033d71ebf9edc912571341f76986b89\nCloses-Bug: 1469830\n""}, {'number': 2, 'created': '2015-07-01 02:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/677c553a44bc544ae84358bc54c6c2f9a72c7631', 'message': ""Don't use global conf\n\nThe library shouldn't be using the global CONF object and instead\nallow the application to use whatever conf it wants to.\n\nChange-Id: Ia2c6d9694033d71ebf9edc912571341f76986b89\nCloses-Bug: 1469830\n""}, {'number': 3, 'created': '2015-07-01 02:28:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/fd10d3761509eaf39adf674abb367c5c0a20fc88', 'message': ""Don't use global conf\n\nThe library shouldn't be using the global CONF object and instead\nallow the application to use whatever conf it wants to.\n\nChange-Id: Ia2c6d9694033d71ebf9edc912571341f76986b89\nCloses-Bug: 1469830\n""}, {'number': 4, 'created': '2015-07-01 02:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/c75248de31aabf643e794d1790a84fd03d27ee65', 'message': ""Don't use global conf\n\nThe library shouldn't be using the global CONF object and instead\nallow the application to use whatever conf it wants to.\n\nChange-Id: Ia2c6d9694033d71ebf9edc912571341f76986b89\nCloses-Bug: 1469830\n""}, {'number': 5, 'created': '2015-07-01 03:00:42.000000000', 'files': ['oslo_cache/tests/test_cache.py', 'oslo_cache/_opts.py', 'oslo_cache/core.py', 'oslo_cache/tests/__init__.py'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/008af8e68d2906cefac71c7f7a5a496e060fccb9', 'message': ""Don't use global conf\n\nThe library shouldn't be using the global CONF object and instead\nallow the application to use whatever conf it wants to.\n\nChange-Id: Ia2c6d9694033d71ebf9edc912571341f76986b89\nCloses-Bug: 1469830\n""}]",0,197389,008af8e68d2906cefac71c7f7a5a496e060fccb9,22,4,5,6486,,,0,"Don't use global conf

The library shouldn't be using the global CONF object and instead
allow the application to use whatever conf it wants to.

Change-Id: Ia2c6d9694033d71ebf9edc912571341f76986b89
Closes-Bug: 1469830
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/89/197389/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_cache/tests/test_cache.py', 'oslo_cache/_opts.py', 'oslo_cache/core.py', 'oslo_cache/tests/__init__.py']",4,2c6b02b111d36bd9c48000f948c55f7a2afc66c8,bug/1469830,from oslo_config import cfg _opts.configure(cfg.CONF),_opts.configure(),62,58
openstack%2Fheat~master~Ie73bb42ff5ab4552618a758490605daa59823c28,openstack/heat,master,Ie73bb42ff5ab4552618a758490605daa59823c28,Re-enable ceilometer alarm test,MERGED,2015-06-26 13:41:07.000000000,2015-07-01 03:10:23.000000000,2015-07-01 03:10:22.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 6899}, {'_account_id': 7385}, {'_account_id': 7404}, {'_account_id': 8289}, {'_account_id': 8833}, {'_account_id': 9542}, {'_account_id': 12363}, {'_account_id': 12404}, {'_account_id': 14676}, {'_account_id': 15426}]","[{'number': 1, 'created': '2015-06-26 13:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1b4734215069e2c19daa4a87d5404ba3f865fd99', 'message': 'Re-enable ceilometer alarm test\n\nChange-Id: Ie73bb42ff5ab4552618a758490605daa59823c28\nDepends-On: I34a5ba92bf446f66ff8c687cb6b389686aeb58ed\n'}, {'number': 2, 'created': '2015-06-29 07:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/789914cd54dcb45ea6d575ec62513aecba721678', 'message': 'Re-enable ceilometer alarm test\n\nBehavior ought to be fixed in Ceilometer.\n\nChange-Id: Ie73bb42ff5ab4552618a758490605daa59823c28\n'}, {'number': 3, 'created': '2015-06-29 13:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1213f049f1d23a67e3567d3101b858be0e23b5ec', 'message': 'Re-enable ceilometer alarm test\n\nBehavior ought to be fixed in Ceilometer.\n\nDepends-On: I88cbd83910dcf79bed8a0f9616f98e4346362ab3\nChange-Id: Ie73bb42ff5ab4552618a758490605daa59823c28\n'}, {'number': 4, 'created': '2015-06-29 13:41:19.000000000', 'files': ['heat_integrationtests/scenario/test_ceilometer_alarm.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/12f22e9bb7ebe9cb46f3ccd5417d724137db2268', 'message': 'Re-enable ceilometer alarm test\n\nBehavior ought to be fixed in Ceilometer.\n\nDepends-On: I88cbd83910dcf79bed8a0f9616f98e4346362ab3\nChange-Id: Ie73bb42ff5ab4552618a758490605daa59823c28\n'}]",0,196057,12f22e9bb7ebe9cb46f3ccd5417d724137db2268,37,12,4,7385,,,0,"Re-enable ceilometer alarm test

Behavior ought to be fixed in Ceilometer.

Depends-On: I88cbd83910dcf79bed8a0f9616f98e4346362ab3
Change-Id: Ie73bb42ff5ab4552618a758490605daa59823c28
",git fetch https://review.opendev.org/openstack/heat refs/changes/57/196057/2 && git format-patch -1 --stdout FETCH_HEAD,['heat_integrationtests/scenario/test_ceilometer_alarm.py'],1,1b4734215069e2c19daa4a87d5404ba3f865fd99,bug/1468697,, self.skipTest('Until bug 1468697 is fixed'),0,1
openstack%2Ftempest~master~If15993f1ca0fd932e13d73c8ef9875ce13d79c53,openstack/tempest,master,If15993f1ca0fd932e13d73c8ef9875ce13d79c53,Add resource prefix string,MERGED,2015-05-13 13:28:47.000000000,2015-07-01 03:08:34.000000000,2015-07-01 03:08:32.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 5803}, {'_account_id': 6484}, {'_account_id': 7428}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 10234}, {'_account_id': 10300}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-05-13 13:28:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c0a6600a3772f088874852b15479e6e80c4dac70', 'message': ""Add resource prefix string\n\nWhen running tempest several resources are created and afterwards\ndeleted. On systems where the cloud under tests is not destroyed\nafter the tests, it is useful to be able to associated resources\nto specific test jobs and test runs.\n\nThe 'rand_name' function in tempest-lib exposes a prefix option,\nwhich tempest does not use at the moment.\n\nAdding a new configuration option to set a prefix.\nCreating a local version of the rand_name util, which passes the\nprefix from configuration. Eventually all calls of rand_name\nshall be redirected from tempest_lib to the local version.\nIn this patch I'm only changing the credentials provider to\nvalidate that the mechanism is working. Follow-up patches will\nmigrate the rest of the code base.\n\nChange-Id: If15993f1ca0fd932e13d73c8ef9875ce13d79c53\n""}, {'number': 2, 'created': '2015-05-13 13:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0cbb0a19d115cafef20770efe4874d3e26335813', 'message': ""Add resource prefix string\n\nWhen running tempest several resources are created and afterwards\ndeleted. On systems where the cloud under tests is not destroyed\nafter the tests, it is useful to be able to associated resources\nto specific test jobs and test runs.\n\nThe 'rand_name' function in tempest-lib exposes a prefix option,\nwhich tempest does not use at the moment.\n\nAdding a new configuration option to set a prefix.\nCreating a local version of the rand_name util, which passes the\nprefix from configuration. Eventually all calls of rand_name\nshall be redirected from tempest_lib to the local version.\nIn this patch I'm only changing the credentials provider to\nvalidate that the mechanism is working. Follow-up patches will\nmigrate the rest of the code base.\n\nChange-Id: If15993f1ca0fd932e13d73c8ef9875ce13d79c53\n""}, {'number': 3, 'created': '2015-05-13 13:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5f94cc5570e33cebcdbde9cac6b4f49a89662c1a', 'message': ""Add resource prefix string\n\nWhen running tempest several resources are created and afterwards\ndeleted. On systems where the cloud under tests is not destroyed\nafter the tests, it is useful to be able to associated resources\nto specific test jobs and test runs.\n\nThe 'rand_name' function in tempest-lib exposes a prefix option,\nwhich tempest does not use at the moment.\n\nAdding a new configuration option to set a prefix.\nCreating a local version of the rand_name util, which passes the\nprefix from configuration. Eventually all calls of rand_name\nshall be redirected from tempest_lib to the local version.\nIn this patch I'm only changing the credentials provider to\nvalidate that the mechanism is working. Follow-up patches will\nmigrate the rest of the code base.\n\nChange-Id: If15993f1ca0fd932e13d73c8ef9875ce13d79c53\n""}, {'number': 4, 'created': '2015-05-13 23:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d7d4367c430f76816ea4af5e652a85c96cd9a83d', 'message': ""Add resource prefix string\n\nWhen running tempest several resources are created and afterwards\ndeleted. On systems where the cloud under tests is not destroyed\nafter the tests, it is useful to be able to associated resources\nto specific test jobs and test runs.\n\nThe 'rand_name' function in tempest-lib exposes a prefix option,\nwhich tempest does not use at the moment.\n\nAdding a new configuration option to set a prefix.\nCreating a local version of the rand_name util, which passes the\nprefix from configuration. Eventually all calls of rand_name\nshall be redirected from tempest_lib to the local version.\nIn this patch I'm only changing the credentials provider to\nvalidate that the mechanism is working. Follow-up patches will\nmigrate the rest of the code base.\n\nCo-Authored-By: Fei Long Wang (flwang@catalyst.net.nz)\n\nChange-Id: If15993f1ca0fd932e13d73c8ef9875ce13d79c53\n""}, {'number': 5, 'created': '2015-05-14 00:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d44eb7411c19c50f01392e7b4b3f5ac6c7ece126', 'message': ""Add resource prefix string\n\nWhen running tempest several resources are created and afterwards\ndeleted. On systems where the cloud under tests is not destroyed\nafter the tests, it is useful to be able to associated resources\nto specific test jobs and test runs.\n\nThe 'rand_name' function in tempest-lib exposes a prefix option,\nwhich tempest does not use at the moment.\n\nAdding a new configuration option to set a prefix.\nCreating a local version of the rand_name util, which passes the\nprefix from configuration. Eventually all calls of rand_name\nshall be redirected from tempest_lib to the local version.\nIn this patch I'm only changing the credentials provider to\nvalidate that the mechanism is working. Follow-up patches will\nmigrate the rest of the code base.\n\nCo-Authored-By: Fei Long Wang (flwang@catalyst.net.nz)\n\nChange-Id: If15993f1ca0fd932e13d73c8ef9875ce13d79c53\n""}, {'number': 6, 'created': '2015-05-14 02:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/29afd33fca2f29930ae4a987dfe01cf5ec59929a', 'message': ""Add resource prefix string\n\nWhen running tempest several resources are created and afterwards\ndeleted. On systems where the cloud under tests is not destroyed\nafter the tests, it is useful to be able to associated resources\nto specific test jobs and test runs.\n\nThe 'rand_name' function in tempest-lib exposes a prefix option,\nwhich tempest does not use at the moment.\n\nAdding a new configuration option to set a prefix.\nCreating a local version of the rand_name util, which passes the\nprefix from configuration. Eventually all calls of rand_name\nshall be redirected from tempest_lib to the local version.\nIn this patch I'm only changing the credentials provider to\nvalidate that the mechanism is working. Follow-up patches will\nmigrate the rest of the code base.\n\nCo-Authored-By: Fei Long Wang (flwang@catalyst.net.nz)\n\nChange-Id: If15993f1ca0fd932e13d73c8ef9875ce13d79c53\n""}, {'number': 7, 'created': '2015-05-22 03:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2b3d8d3c8bb98999074cbac5d54d611b2ba955fe', 'message': ""Add resource prefix string\n\nWhen running tempest several resources are created and afterwards\ndeleted. On systems where the cloud under tests is not destroyed\nafter the tests, it is useful to be able to associated resources\nto specific test jobs and test runs.\n\nThe 'rand_name' function in tempest-lib exposes a prefix option,\nwhich tempest does not use at the moment.\n\nAdding a new configuration option to set a prefix.\nCreating a local version of the rand_name util, which passes the\nprefix from configuration. Eventually all calls of rand_name\nshall be redirected from tempest_lib to the local version.\nIn this patch I'm only changing the credentials provider to\nvalidate that the mechanism is working. Follow-up patches will\nmigrate the rest of the code base.\n\nCo-Authored-By: Fei Long Wang (flwang@catalyst.net.nz)\n\nChange-Id: If15993f1ca0fd932e13d73c8ef9875ce13d79c53\n""}, {'number': 8, 'created': '2015-06-03 23:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7d9174cba3569b6f94f33c6cfb0a863e453c3150', 'message': ""Add resource prefix string\n\nWhen running tempest several resources are created and afterwards\ndeleted. On systems where the cloud under tests is not destroyed\nafter the tests, it is useful to be able to associated resources\nto specific test jobs and test runs.\n\nThe 'rand_name' function in tempest-lib exposes a prefix option,\nwhich tempest does not use at the moment.\n\nAdding a new configuration option to set a prefix.\nCreating a local version of the rand_name util, which passes the\nprefix from configuration. Eventually all calls of rand_name\nshall be redirected from tempest_lib to the local version.\nIn this patch I'm only changing the credentials provider to\nvalidate that the mechanism is working. Follow-up patches will\nmigrate the rest of the code base.\n\nCo-Authored-By: Fei Long Wang (flwang@catalyst.net.nz)\n\nChange-Id: If15993f1ca0fd932e13d73c8ef9875ce13d79c53\n""}, {'number': 9, 'created': '2015-06-10 22:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/69f221554d3397f148887d33e6101ff75510c7c2', 'message': ""Add resource prefix string\n\nWhen running tempest several resources are created and afterwards\ndeleted. On systems where the cloud under tests is not destroyed\nafter the tests, it is useful to be able to associated resources\nto specific test jobs and test runs.\n\nThe 'rand_name' function in tempest-lib exposes a prefix option,\nwhich tempest does not use at the moment.\n\nAdding a new configuration option to set a prefix.\nCreating a local version of the rand_name util, which passes the\nprefix from configuration. Eventually all calls of rand_name\nshall be redirected from tempest_lib to the local version.\nIn this patch, only the credentials provider is change to\nvalidate that the mechanism is working. Follow-up patches will\nmigrate the rest of the code base.\n\nCo-Authored-By: Fei Long Wang (flwang@catalyst.net.nz)\n\nChange-Id: If15993f1ca0fd932e13d73c8ef9875ce13d79c53\n""}, {'number': 10, 'created': '2015-06-11 02:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b95f37c9ef47f3be8ed72ef7cf55a16f6a588833', 'message': ""Add resource prefix string\n\nWhen running tempest several resources are created and afterwards\ndeleted. On systems where the cloud under tests is not destroyed\nafter the tests, it is useful to be able to associated resources\nto specific test jobs and test runs.\n\nThe 'rand_name' function in tempest-lib exposes a prefix option,\nwhich tempest does not use at the moment.\n\nAdding a new configuration option to set a prefix.\nCreating a local version of the rand_name util, which passes the\nprefix from configuration. Eventually all calls of rand_name\nshall be redirected from tempest_lib to the local version.\nIn this patch I'm only changing the credentials provider to\nvalidate that the mechanism is working. Follow-up patches will\nmigrate the rest of the code base.\n\nCo-Authored-By: Fei Long Wang (flwang@catalyst.net.nz)\n\nChange-Id: If15993f1ca0fd932e13d73c8ef9875ce13d79c53\n""}, {'number': 11, 'created': '2015-06-11 02:48:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/96a276b25d2150dd51770374dca81c76b363fce6', 'message': ""Add resource prefix string\n\nWhen running tempest several resources are created and afterwards\ndeleted. On systems where the cloud under tests is not destroyed\nafter the tests, it is useful to be able to associated resources\nto specific test jobs and test runs.\n\nThe 'rand_name' function in tempest-lib exposes a prefix option,\nwhich tempest does not use at the moment.\n\nAdding a new configuration option to make the prefix configurable.\nCreating a local version of the rand_name util, which passes the\nprefix from configuration. Eventually all calls of rand_name\nshall be redirected from tempest_lib to the local version.\nIn this patch, only the credentials provider is change to\nvalidate that the mechanism is working. Follow-up patches will\nmigrate the rest of the code base.\n\nCo-Authored-By: Fei Long Wang (flwang@catalyst.net.nz)\n\nChange-Id: If15993f1ca0fd932e13d73c8ef9875ce13d79c53\n""}, {'number': 12, 'created': '2015-06-11 21:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b482583ef77ae9951a50f3a826ac22622adc1029', 'message': ""Add resource prefix string\n\nWhen running tempest several resources are created and afterwards\ndeleted. On systems where the cloud under tests is not destroyed\nafter the tests, it is useful to be able to associated resources\nto specific test jobs and test runs.\n\nThe 'rand_name' function in tempest-lib exposes a prefix option,\nwhich tempest does not use at the moment.\n\nAdding a new configuration option to make the prefix configurable.\nCreating a local version of the rand_name util, which passes the\nprefix from configuration. Eventually all calls of rand_name\nshall be redirected from tempest_lib to the local version.\nIn this patch, only the credentials provider is change to\nvalidate that the mechanism is working. Follow-up patches will\nmigrate the rest of the code base.\n\nCo-Authored-By: Fei Long Wang (flwang@catalyst.net.nz)\n\nChange-Id: If15993f1ca0fd932e13d73c8ef9875ce13d79c53\n""}, {'number': 13, 'created': '2015-06-26 04:49:09.000000000', 'files': ['tempest/common/isolated_creds.py', 'etc/tempest.conf.sample', 'tempest/common/validation_resources.py', 'tempest/common/utils/__init__.py', 'tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/8def7ca397e565de9da21ca2d67de8800d0ad81d', 'message': ""Add resource prefix string\n\nWhen running tempest several resources are created and afterwards\ndeleted. On systems where the cloud under tests is not destroyed\nafter the tests, it is useful to be able to associated resources\nto specific test jobs and test runs.\n\nThe 'rand_name' function in tempest-lib exposes a prefix option,\nwhich tempest does not use at the moment.\n\nAdding a new configuration option to make the prefix configurable.\nCreating a local version of the rand_name util, which passes the\nprefix from configuration. Eventually all calls of rand_name\nshall be redirected from tempest_lib to the local version.\nIn this patch, only the credentials provider is change to\nvalidate that the mechanism is working. Follow-up patches will\nmigrate the rest of the code base.\n\nCo-Authored-By: Fei Long Wang (flwang@catalyst.net.nz)\n\nChange-Id: If15993f1ca0fd932e13d73c8ef9875ce13d79c53\n""}]",15,182665,8def7ca397e565de9da21ca2d67de8800d0ad81d,62,11,13,1921,,,0,"Add resource prefix string

When running tempest several resources are created and afterwards
deleted. On systems where the cloud under tests is not destroyed
after the tests, it is useful to be able to associated resources
to specific test jobs and test runs.

The 'rand_name' function in tempest-lib exposes a prefix option,
which tempest does not use at the moment.

Adding a new configuration option to make the prefix configurable.
Creating a local version of the rand_name util, which passes the
prefix from configuration. Eventually all calls of rand_name
shall be redirected from tempest_lib to the local version.
In this patch, only the credentials provider is change to
validate that the mechanism is working. Follow-up patches will
migrate the rest of the code base.

Co-Authored-By: Fei Long Wang (flwang@catalyst.net.nz)

Change-Id: If15993f1ca0fd932e13d73c8ef9875ce13d79c53
",git fetch https://review.opendev.org/openstack/tempest refs/changes/65/182665/12 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/common/isolated_creds.py', 'tempest/common/utils/data_utils.py', 'tempest/common/validation_resources.py', 'tempest/config.py']",4,c0a6600a3772f088874852b15479e6e80c4dac70,resource_prefix,"shared_group = cfg.OptGroup(name='shared', title=""Shared Test Options"") SharedGroup = [ cfg.StrOpt('resources_prefix', help=""Prefix to be added when generating the name for "" ""test resources. It can be used to discover all "" ""resources associated with a specific test run when "" ""running tempest on a real-life cloud""), ] (negative_group, NegativeGroup), (shared_group, SharedGroup) self.shared = _CONF.shared"," (negative_group, NegativeGroup)",52,3
openstack%2Fkeystonemiddleware~master~Ida68043e34234092701fe0f88209041c93716877,openstack/keystonemiddleware,master,Ida68043e34234092701fe0f88209041c93716877,Create a simple base class from AuthProtocol,MERGED,2015-05-07 01:44:37.000000000,2015-07-01 02:59:58.000000000,2015-07-01 02:59:57.000000000,"[{'_account_id': 3}, {'_account_id': 1916}, {'_account_id': 6486}, {'_account_id': 7191}, {'_account_id': 7725}, {'_account_id': 13055}, {'_account_id': 13478}]","[{'number': 1, 'created': '2015-05-07 01:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/7088974b5cace70c39dce9bc752c320cefc960bc', 'message': 'Create a simple base class from AuthProtocol\n\nCreate a base class from AuthProtocol that looks very like the\noslo.middleware base middleware class. Convert existing AuthProtocol to\nuse it.\n\nChange-Id: Ida68043e34234092701fe0f88209041c93716877\n'}, {'number': 2, 'created': '2015-06-03 22:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/176e42363c9d9d72cab8fe47d422f857c348f51a', 'message': 'Create a simple base class from AuthProtocol\n\nCreate a base class from AuthProtocol that looks very like the\noslo.middleware base middleware class. Convert existing AuthProtocol to\nuse it.\n\nChange-Id: Ida68043e34234092701fe0f88209041c93716877\n'}, {'number': 3, 'created': '2015-06-08 12:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/2e01b603956750e3c84c572ea913098800b07f27', 'message': 'Create a simple base class from AuthProtocol\n\nCreate a base class from AuthProtocol that looks very like the\noslo.middleware base middleware class. Convert existing AuthProtocol to\nuse it.\n\nChange-Id: Ida68043e34234092701fe0f88209041c93716877\n'}, {'number': 4, 'created': '2015-06-10 03:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/592af6f9ad20867fce50352111e0d7c68272d31a', 'message': 'Create a simple base class from AuthProtocol\n\nCreate a base class from AuthProtocol that looks very like the\noslo.middleware base middleware class. Convert existing AuthProtocol to\nuse it.\n\nChange-Id: Ida68043e34234092701fe0f88209041c93716877\n'}, {'number': 5, 'created': '2015-06-11 03:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/1c37b387d4eefc988c3168fffb98f23a40231677', 'message': 'Create a simple base class from AuthProtocol\n\nCreate a base class from AuthProtocol that looks very like the\noslo.middleware base middleware class. Convert existing AuthProtocol to\nuse it.\n\nThis base class will be the core of what will be shared between the\nstandard auth_token middleware and the keystone process.\n\nChange-Id: Ida68043e34234092701fe0f88209041c93716877\n'}, {'number': 6, 'created': '2015-06-11 03:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/611cb9a8db9bf0d2dc7fec3ab6e9b9028624a793', 'message': 'Create a simple base class from AuthProtocol\n\nCreate a base class from AuthProtocol that looks very like the\noslo.middleware base middleware class. Convert existing AuthProtocol to\nuse it.\n\nThis base class will be the core of what will be shared between the\nstandard auth_token middleware and the keystone process.\n\nChange-Id: Ida68043e34234092701fe0f88209041c93716877\n'}, {'number': 7, 'created': '2015-06-12 03:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/ea7779ee63d6d5d5fc815fdb9dd2387b5b18acd8', 'message': 'Create a simple base class from AuthProtocol\n\nCreate a base class from AuthProtocol that looks very like the\noslo.middleware base middleware class. Convert existing AuthProtocol to\nuse it.\n\nThis base class will be the core of what will be shared between the\nstandard auth_token middleware and the keystone process.\n\nChange-Id: Ida68043e34234092701fe0f88209041c93716877\n'}, {'number': 8, 'created': '2015-06-17 04:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/89c62ae7a6c338cf5e9b45dd2183c8750f173a2c', 'message': 'Create a simple base class from AuthProtocol\n\nCreate a base class from AuthProtocol that looks very like the\noslo.middleware base middleware class. Convert existing AuthProtocol to\nuse it.\n\nThis base class will be the core of what will be shared between the\nstandard auth_token middleware and the keystone process.\n\nChange-Id: Ida68043e34234092701fe0f88209041c93716877\n'}, {'number': 9, 'created': '2015-06-17 04:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/a62a75eefbbdd5ebdb41d1b59e80a7a977825512', 'message': 'Create a simple base class from AuthProtocol\n\nCreate a base class from AuthProtocol that looks very like the\noslo.middleware base middleware class. Convert existing AuthProtocol to\nuse it.\n\nThis base class will be the core of what will be shared between the\nstandard auth_token middleware and the keystone process.\n\nChange-Id: Ida68043e34234092701fe0f88209041c93716877\n'}, {'number': 10, 'created': '2015-06-18 01:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/570e1a045b88186fe43aafcb0bb35c2704d8cbba', 'message': 'Create a simple base class from AuthProtocol\n\nCreate a base class from AuthProtocol that looks very like the\noslo.middleware base middleware class. Convert existing AuthProtocol to\nuse it.\n\nThis base class will be the core of what will be shared between the\nstandard auth_token middleware and the keystone process.\n\nChange-Id: Ida68043e34234092701fe0f88209041c93716877\n'}, {'number': 11, 'created': '2015-06-23 01:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/db284540a21090dacd507c7d321b2d88622cb685', 'message': 'Create a simple base class from AuthProtocol\n\nCreate a base class from AuthProtocol that looks very like the\noslo.middleware base middleware class. Convert existing AuthProtocol to\nuse it.\n\nThis base class will be the core of what will be shared between the\nstandard auth_token middleware and the keystone process.\n\nChange-Id: Ida68043e34234092701fe0f88209041c93716877\n'}, {'number': 12, 'created': '2015-06-23 02:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/44c9362e35326c5bb6bddc6f87f7a093986c1396', 'message': 'Create a simple base class from AuthProtocol\n\nCreate a base class from AuthProtocol that looks very like the\noslo.middleware base middleware class. Convert existing AuthProtocol to\nuse it.\n\nThis base class will be the core of what will be shared between the\nstandard auth_token middleware and the keystone process.\n\nChange-Id: Ida68043e34234092701fe0f88209041c93716877\n'}, {'number': 13, 'created': '2015-06-23 02:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/55c7e9001cfdaedb15fa1c6053003d4d8720057c', 'message': 'Create a simple base class from AuthProtocol\n\nCreate a base class from AuthProtocol that looks very like the\noslo.middleware base middleware class. Convert existing AuthProtocol to\nuse it.\n\nThis base class will be the core of what will be shared between the\nstandard auth_token middleware and the keystone process.\n\nChange-Id: Ida68043e34234092701fe0f88209041c93716877\n'}, {'number': 14, 'created': '2015-06-28 00:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/525c2677b87a33ef1a712132a7ed29f294e24862', 'message': 'Create a simple base class from AuthProtocol\n\nCreate a base class from AuthProtocol that looks very like the\noslo.middleware base middleware class. Convert existing AuthProtocol to\nuse it.\n\nThis base class will be the core of what will be shared between the\nstandard auth_token middleware and the keystone process.\n\nChange-Id: Ida68043e34234092701fe0f88209041c93716877\n'}, {'number': 15, 'created': '2015-06-30 05:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/7fc6e62c832687d4a2f7a7c9aeb5fa5521e80d9f', 'message': 'Create a simple base class from AuthProtocol\n\nCreate a base class from AuthProtocol that looks very like the\noslo.middleware base middleware class. Convert existing AuthProtocol to\nuse it.\n\nThis base class will be the core of what will be shared between the\nstandard auth_token middleware and the keystone process.\n\nChange-Id: Ida68043e34234092701fe0f88209041c93716877\n'}, {'number': 16, 'created': '2015-06-30 19:02:20.000000000', 'files': ['keystonemiddleware/tests/unit/auth_token/test_base_middleware.py', 'keystonemiddleware/auth_token/__init__.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/dc4e1981549cc9c6f769448696886ce0831492d8', 'message': 'Create a simple base class from AuthProtocol\n\nCreate a base class from AuthProtocol that looks very like the\noslo.middleware base middleware class. Convert existing AuthProtocol to\nuse it.\n\nThis base class will be the core of what will be shared between the\nstandard auth_token middleware and the keystone process.\n\nChange-Id: Ida68043e34234092701fe0f88209041c93716877\n'}]",29,180816,dc4e1981549cc9c6f769448696886ce0831492d8,52,7,16,7191,,,0,"Create a simple base class from AuthProtocol

Create a base class from AuthProtocol that looks very like the
oslo.middleware base middleware class. Convert existing AuthProtocol to
use it.

This base class will be the core of what will be shared between the
standard auth_token middleware and the keystone process.

Change-Id: Ida68043e34234092701fe0f88209041c93716877
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/16/180816/16 && git format-patch -1 --stdout FETCH_HEAD,['keystonemiddleware/auth_token/__init__.py'],1,7088974b5cace70c39dce9bc752c320cefc960bc,cachesplit-new,"class _BaseAuthProtocol(object): """"""A Base class for AuthProtocol token checking implementations. This class is modelled around the oslo middleware base middleware class. """""" def __init__(self, app, log=_LOG): self._LOG = log self._LOG.info(_LI('Starting Keystone auth_token middleware')) self._app = app @webob.dec.wsgify(RequestClass=_request._AuthTokenRequest) def __call__(self, req): """"""Handle incoming request. Authenticate send downstream on success. Reject request if we can't authenticate. """""" response = self.process_request(req) if response: return response response = req.get_response(self._app) return self.process_response(response) def process_request(self, req): """"""Called on each request. If this returns None, the next application down the stack will be executed. If it returns a response then that response will be returned and execution will stop here. """""" def process_response(self, response): """"""Do whatever you'd like to the response."""""" return response class AuthProtocol(_BaseAuthProtocol): log = logging.getLogger(conf.get('log_name', __name__)) super(AuthProtocol, self).__init__(app, log=log) def process_request(self, request): def process_response(self, response):","class AuthProtocol(object): self._LOG = logging.getLogger(conf.get('log_name', __name__)) self._LOG.info(_LI('Starting Keystone auth_token middleware')) self._app = app @webob.dec.wsgify(RequestClass=_request._AuthTokenRequest) def __call__(self, request): response = request.get_response(self._app) ",44,8
openstack%2Foslo.cache~master~Ic2cd87f030d5b15219708f1084e43dbee9916a85,openstack/oslo.cache,master,Ic2cd87f030d5b15219708f1084e43dbee9916a85,Remove useless docs from private functions,MERGED,2015-07-01 00:33:43.000000000,2015-07-01 02:52:26.000000000,2015-07-01 02:52:24.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6482}]","[{'number': 1, 'created': '2015-07-01 00:33:43.000000000', 'files': ['oslo_cache/core.py'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/c3de0014f681a7244ac3e4cf9410410046b2f5f6', 'message': 'Remove useless docs from private functions\n\n_get_should_cache_fn and _get_expiration_time_fn had examples that\nwere using the wrong package name. Rather than fix it, just remove\nthe docs since the functions are private anyways and not usable the\nway the docs are written.\n\nPartial-Bug: 1469831\nChange-Id: Ic2cd87f030d5b15219708f1084e43dbee9916a85\n'}]",0,197384,c3de0014f681a7244ac3e4cf9410410046b2f5f6,7,3,1,6486,,,0,"Remove useless docs from private functions

_get_should_cache_fn and _get_expiration_time_fn had examples that
were using the wrong package name. Rather than fix it, just remove
the docs since the functions are private anyways and not usable the
way the docs are written.

Partial-Bug: 1469831
Change-Id: Ic2cd87f030d5b15219708f1084e43dbee9916a85
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/84/197384/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_cache/core.py'],1,c3de0014f681a7244ac3e4cf9410410046b2f5f6,bug/1469831, ``should_cache_fn``. ``expiration_time``.," ``should_cache_fn``. e.g.:: import oslo_cache SHOULD_CACHE = oslo_cache._get_should_cache_fn(section='section1') @oslo_cache._on_arguments(should_cache_fn=SHOULD_CACHE) def function(arg1, arg2): ... ``expiration_time``. e.g.:: import oslo_cache EXPIRATION_TIME = oslo_cache._get_expiration_time_fn( section='section1') @oslo_cache._on_arguments(expiration_time=EXPIRATION_TIME) def function(arg1, arg2): ...",2,19
openstack%2Foslo.cache~master~I093b4e8ed8f6f3df6a27a3ca71c5cd171610cf50,openstack/oslo.cache,master,I093b4e8ed8f6f3df6a27a3ca71c5cd171610cf50,Make DebugProxy private,MERGED,2015-07-01 00:35:02.000000000,2015-07-01 02:51:09.000000000,2015-07-01 02:51:08.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6482}]","[{'number': 1, 'created': '2015-07-01 00:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/63de6284c841a98e2c06e0145dfad5f9da1949d9', 'message': ""Make DebugProxy private\n\nDebugProxy is used internally and doesn't need to be public\n\nPartial-Bug: 1469833\nChange-Id: I093b4e8ed8f6f3df6a27a3ca71c5cd171610cf50\n""}, {'number': 2, 'created': '2015-07-01 02:32:47.000000000', 'files': ['oslo_cache/core.py'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/f8817c29b6958978af9f60a1cff628645986a4aa', 'message': ""Make DebugProxy private\n\nDebugProxy is used internally and doesn't need to be public\n\nPartial-Bug: 1469833\nChange-Id: I093b4e8ed8f6f3df6a27a3ca71c5cd171610cf50\n""}]",0,197386,f8817c29b6958978af9f60a1cff628645986a4aa,12,3,2,6486,,,0,"Make DebugProxy private

DebugProxy is used internally and doesn't need to be public

Partial-Bug: 1469833
Change-Id: I093b4e8ed8f6f3df6a27a3ca71c5cd171610cf50
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/86/197386/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_cache/core.py'],1,63de6284c841a98e2c06e0145dfad5f9da1949d9,bug/1469833,class _DebugProxy(proxy.ProxyBackend): region.wrap(_DebugProxy)," 'DebugProxy',class DebugProxy(proxy.ProxyBackend): region.wrap(DebugProxy)",2,3
openstack%2Fheat~master~I02bc2d54b53b5d578b401ad6f83a13db1bbb0f6a,openstack/heat,master,I02bc2d54b53b5d578b401ad6f83a13db1bbb0f6a,Abstract handle_delete() for stack resource,MERGED,2015-06-26 09:25:41.000000000,2015-07-01 02:49:29.000000000,2015-07-01 02:42:03.000000000,"[{'_account_id': 3}, {'_account_id': 6498}, {'_account_id': 6899}, {'_account_id': 7385}, {'_account_id': 8246}, {'_account_id': 8289}, {'_account_id': 8833}, {'_account_id': 9542}, {'_account_id': 10487}, {'_account_id': 12363}, {'_account_id': 16203}, {'_account_id': 17034}]","[{'number': 1, 'created': '2015-06-26 09:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/66bd25952447ab00f34bd32ef69f1a0e17e406cf', 'message': 'Abstract handle_delete() for stack resource\n\nThe implementation of handle_delete method for\nall stack-resources are same, so to abstract\nhandle_delete() into super class(StackResource).\n\nChange-Id: I02bc2d54b53b5d578b401ad6f83a13db1bbb0f6a\n'}, {'number': 2, 'created': '2015-06-27 05:03:37.000000000', 'files': ['heat/engine/resources/aws/cfn/stack.py', 'heat/engine/resources/openstack/heat/instance_group.py', 'heat/engine/resources/openstack/heat/resource_group.py', 'heat/engine/resources/stack_resource.py', 'heat/engine/resources/aws/lb/loadbalancer.py', 'heat/engine/resources/template_resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/342b7d028367620ad35b56eba7745fc0c68d5924', 'message': 'Abstract handle_delete() for stack resource\n\nThe implementation of handle_delete method for\nall stack-resources are same, so to abstract\nhandle_delete() into super class(StackResource).\n\nChange-Id: I02bc2d54b53b5d578b401ad6f83a13db1bbb0f6a\n'}]",0,195946,342b7d028367620ad35b56eba7745fc0c68d5924,29,12,2,8289,,,0,"Abstract handle_delete() for stack resource

The implementation of handle_delete method for
all stack-resources are same, so to abstract
handle_delete() into super class(StackResource).

Change-Id: I02bc2d54b53b5d578b401ad6f83a13db1bbb0f6a
",git fetch https://review.opendev.org/openstack/heat refs/changes/46/195946/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/aws/cfn/stack.py', 'heat/engine/resources/openstack/heat/instance_group.py', 'heat/engine/resources/openstack/heat/resource_group.py', 'heat/engine/resources/stack_resource.py', 'heat/engine/resources/aws/lb/loadbalancer.py', 'heat/engine/resources/template_resource.py']",6,66bd25952447ab00f34bd32ef69f1a0e17e406cf,abstract-handle_delete,, def handle_delete(self): return self.delete_nested() ,3,15
openstack%2Foslo.config~master~I1e1449e1853fe48a280964b2b69cb2e6c283dda3,openstack/oslo.config,master,I1e1449e1853fe48a280964b2b69cb2e6c283dda3,Fixes example for cfg,MERGED,2015-06-25 11:44:25.000000000,2015-07-01 02:38:30.000000000,2015-07-01 02:38:28.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 4428}, {'_account_id': 5638}, {'_account_id': 8119}]","[{'number': 1, 'created': '2015-06-25 11:44:25.000000000', 'files': ['oslo_config/cfg.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/abd4a76cd06819861fef59420c3c9eea99d7ba8d', 'message': 'Fixes example for cfg\n\n`type=PortType()` should be `type=PortType` in the example of cfg module\n\nChange-Id: I1e1449e1853fe48a280964b2b69cb2e6c283dda3\nCloses-bug: #1468481\n'}]",0,195536,abd4a76cd06819861fef59420c3c9eea99d7ba8d,16,5,1,4428,,,0,"Fixes example for cfg

`type=PortType()` should be `type=PortType` in the example of cfg module

Change-Id: I1e1449e1853fe48a280964b2b69cb2e6c283dda3
Closes-bug: #1468481
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/36/195536/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_config/cfg.py'],1,abd4a76cd06819861fef59420c3c9eea99d7ba8d,fix-example," type=PortType,"," type=PortType(),",1,1
openstack%2Fproject-config~master~I055006bdd8bbad574aafc18454131dc8fc31be6a,openstack/project-config,master,I055006bdd8bbad574aafc18454131dc8fc31be6a,Be clear about when a failure occurs.,ABANDONED,2015-07-01 02:30:14.000000000,2015-07-01 02:31:25.000000000,,[],"[{'number': 1, 'created': '2015-07-01 02:30:14.000000000', 'files': ['jenkins/scripts/project-requirements-change.py'], 'web_link': 'https://opendev.org/openstack/project-config/commit/7ecae3588a587bf64b99fbb7df10173914f83505', 'message': 'Be clear about when a failure occurs.\n\nChange-Id: I055006bdd8bbad574aafc18454131dc8fc31be6a\n'}]",0,197399,7ecae3588a587bf64b99fbb7df10173914f83505,2,0,1,4190,,,0,"Be clear about when a failure occurs.

Change-Id: I055006bdd8bbad574aafc18454131dc8fc31be6a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/99/197399/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/scripts/project-requirements-change.py'],1,7ecae3588a587bf64b99fbb7df10173914f83505,," if not self.failed: self.failed = True print( ""Marking %(name)s as failed."" % {'name': self.name})", self.failed = True,5,1
openstack%2Fglance~master~I769978b7163eab48a0e2d1cdb63d658cbce255e1,openstack/glance,master,I769978b7163eab48a0e2d1cdb63d658cbce255e1,Validate size of 'min_ram' and 'min_disk',MERGED,2015-06-29 08:57:49.000000000,2015-07-01 02:27:14.000000000,2015-07-01 02:27:12.000000000,"[{'_account_id': 3}, {'_account_id': 11391}, {'_account_id': 12000}, {'_account_id': 12758}]","[{'number': 1, 'created': '2015-06-29 08:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9db0c4bdb3d5744dcfa06d24e8ef3de56ab463d4', 'message': ""Validate size of 'min_ram' and 'min_disk'\n\nIf you pass 'min_ram' and 'min_disk' with large value i.e.,\ngreater than size of column set in DB(int(11)) to image-update\nv1 and v2 api, then it raises 500 internal server error.\n\nMade changes to the _validate_image() where status validation\nis done only if 'status' is present in values, so that incase of\nimage-update 'min_ram' and 'min_disk' validation will be done\neven though 'status' is None.\n\nCloses-Bug: #1460060\nChange-Id: I769978b7163eab48a0e2d1cdb63d658cbce255e1\n""}, {'number': 2, 'created': '2015-06-29 13:15:08.000000000', 'files': ['glance/tests/unit/v2/test_registry_client.py', 'glance/tests/unit/v1/test_api.py', 'glance/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/0a58a64d549f96319ccef33b4468479247f52cc2', 'message': ""Validate size of 'min_ram' and 'min_disk'\n\nIf you pass 'min_ram' and 'min_disk' with large value i.e.,\ngreater than size of column set in DB(int(11)) to image-update\nv1 and v2 api, then it raises 500 internal server error.\n\nMade changes to the _validate_image() where status validation\nis done only if 'status' is present in values, so that incase of\nimage-update 'min_ram' and 'min_disk' validation will be done\neven though 'status' is None.\n\nCloses-Bug: #1468698\nChange-Id: I769978b7163eab48a0e2d1cdb63d658cbce255e1\n""}]",2,196584,0a58a64d549f96319ccef33b4468479247f52cc2,13,4,2,10300,,,0,"Validate size of 'min_ram' and 'min_disk'

If you pass 'min_ram' and 'min_disk' with large value i.e.,
greater than size of column set in DB(int(11)) to image-update
v1 and v2 api, then it raises 500 internal server error.

Made changes to the _validate_image() where status validation
is done only if 'status' is present in values, so that incase of
image-update 'min_ram' and 'min_disk' validation will be done
even though 'status' is None.

Closes-Bug: #1468698
Change-Id: I769978b7163eab48a0e2d1cdb63d658cbce255e1
",git fetch https://review.opendev.org/openstack/glance refs/changes/84/196584/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/v2/test_registry_client.py', 'glance/tests/unit/v1/test_api.py', 'glance/db/sqlalchemy/api.py']",3,9db0c4bdb3d5744dcfa06d24e8ef3de56ab463d4,bug/1460060,"def _validate_image(values, mandatory_status=True): :param mandatory_status: Whether to validate status from values if mandatory_status: status = values.get('status') if not status: msg = ""Image status is required."" raise exception.Invalid(msg) if status not in STATUSES: msg = ""Invalid image status '%s' for image."" % status raise exception.Invalid(msg) mandatory_status = True if new_status else False _validate_image(values, mandatory_status=mandatory_status)","def _validate_image(values): status = values.get('status') if not status: msg = ""Image status is required."" raise exception.Invalid(msg) if status not in STATUSES: msg = ""Invalid image status '%s' for image."" % status raise exception.Invalid(msg) if new_status: _validate_image(values)",92,10
openstack%2Foslo.cache~master~Id37f56b34f6a345a2fc43d097b38f7db32dd8f1d,openstack/oslo.cache,master,Id37f56b34f6a345a2fc43d097b38f7db32dd8f1d,Fix docstring for configure_cache_region,MERGED,2015-07-01 00:34:36.000000000,2015-07-01 02:26:28.000000000,2015-07-01 02:26:26.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6482}]","[{'number': 1, 'created': '2015-07-01 00:34:36.000000000', 'files': ['oslo_cache/core.py'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/bba888b8df1b3920495045222abee2d967c90e28', 'message': ""Fix docstring for configure_cache_region\n\nThe docstring was incorrect in several ways.\n\n- document that it doesn't do anything it the cache\n  region is already configured\n- the region parameter is required and not optional\n- type for region parameter\n- correct rst for raises\n- specify what's returned\n\nPartial-Bug: 1469831\nChange-Id: Id37f56b34f6a345a2fc43d097b38f7db32dd8f1d\n""}]",0,197385,bba888b8df1b3920495045222abee2d967c90e28,7,3,1,6486,,,0,"Fix docstring for configure_cache_region

The docstring was incorrect in several ways.

- document that it doesn't do anything it the cache
  region is already configured
- the region parameter is required and not optional
- type for region parameter
- correct rst for raises
- specify what's returned

Partial-Bug: 1469831
Change-Id: Id37f56b34f6a345a2fc43d097b38f7db32dd8f1d
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/85/197385/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_cache/core.py'],1,bba888b8df1b3920495045222abee2d967c90e28,bug/1469831," If the cache region is already configured, this function does nothing. Otherwise, the region is configured. :param region: Cache region to configure :type region: dogpile.cache.CacheRegion :raises oslo_cache.exception.ConfigurationError: If the region parameter is not a dogpile.cache.CacheRegion. :returns: The region."," :param region: optional CacheRegion object, if not provided a new region will be instantiated :raises: exception.ConfigurationError :returns: dogpile.cache.CacheRegion",8,4
openstack%2Foslo.cache~master~I7819ca8a28dc0b6eb6594a7302468ba0ea8f9807,openstack/oslo.cache,master,I7819ca8a28dc0b6eb6594a7302468ba0ea8f9807,make REGION public,MERGED,2015-07-01 01:17:01.000000000,2015-07-01 02:25:05.000000000,2015-07-01 02:25:04.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6482}, {'_account_id': 6486}]","[{'number': 1, 'created': '2015-07-01 01:17:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/1017a07f4a60b14be8de35a3eb9003a8ba550b3f', 'message': 'make REGION public\n\nkeystone tests make use of REGION, it was unnecessarily made\nprivate.\n\nChange-Id: I7819ca8a28dc0b6eb6594a7302468ba0ea8f9807\n'}, {'number': 2, 'created': '2015-07-01 02:09:27.000000000', 'files': ['oslo_cache/tests/test_cache.py', 'oslo_cache/core.py'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/570ca8143e6534a5d909cbdc4b9c9e16b6eefe3e', 'message': 'make REGION public\n\nkeystone tests make use of REGION, it was unnecessarily made\nprivate.\n\nChange-Id: I7819ca8a28dc0b6eb6594a7302468ba0ea8f9807\n'}]",0,197391,570ca8143e6534a5d909cbdc4b9c9e16b6eefe3e,14,4,2,6482,,,0,"make REGION public

keystone tests make use of REGION, it was unnecessarily made
private.

Change-Id: I7819ca8a28dc0b6eb6594a7302468ba0ea8f9807
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/91/197391/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_cache/tests/test_cache.py', 'oslo_cache/core.py']",2,1017a07f4a60b14be8de35a3eb9003a8ba550b3f,unprivatize," 'REGION',REGION = dogpile.cache.make_region(_on_arguments = REGION.cache_on_arguments memoize = REGION.cache_on_arguments(should_cache_fn=should_cache, expiration_time=expiration_time)","_REGION = dogpile.cache.make_region(_on_arguments = _REGION.cache_on_arguments memoize = _REGION.cache_on_arguments(should_cache_fn=should_cache, expiration_time=expiration_time)",7,6
openstack%2Fhorizon~master~Ib5ffd2b05b5ed59a36571d134fbbe3781b866c84,openstack/horizon,master,Ib5ffd2b05b5ed59a36571d134fbbe3781b866c84,Useing 'yesno' filter to display Boolean value,MERGED,2015-06-29 09:53:04.000000000,2015-07-01 02:24:58.000000000,2015-07-01 02:24:56.000000000,"[{'_account_id': 3}, {'_account_id': 2455}, {'_account_id': 4264}, {'_account_id': 5623}, {'_account_id': 6610}, {'_account_id': 6914}, {'_account_id': 9622}, {'_account_id': 10442}, {'_account_id': 12826}]","[{'number': 1, 'created': '2015-06-29 09:53:04.000000000', 'files': ['openstack_dashboard/dashboards/identity/users/templates/users/_detail_overview.html', 'openstack_dashboard/dashboards/identity/projects/templates/projects/_detail_overview.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/d1e2d52777a596bac353dca754ca5b4cd2a54bd5', 'message': ""Useing 'yesno' filter to display Boolean value\n\nIn Project and User detail pages displaying the enabled\nboolean field in True and False. Which is not correct or\nmatch with other boolean displays.\n\nThis patch using the 'yesno' filter and 'capfirst' filter\nto display the value in Yes and No format.\n\nChange-Id: Ib5ffd2b05b5ed59a36571d134fbbe3781b866c84\nCloses-Bug: #1469651\n""}]",0,196606,d1e2d52777a596bac353dca754ca5b4cd2a54bd5,15,9,1,10442,,,0,"Useing 'yesno' filter to display Boolean value

In Project and User detail pages displaying the enabled
boolean field in True and False. Which is not correct or
match with other boolean displays.

This patch using the 'yesno' filter and 'capfirst' filter
to display the value in Yes and No format.

Change-Id: Ib5ffd2b05b5ed59a36571d134fbbe3781b866c84
Closes-Bug: #1469651
",git fetch https://review.opendev.org/openstack/horizon refs/changes/06/196606/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/identity/users/templates/users/_detail_overview.html', 'openstack_dashboard/dashboards/identity/projects/templates/projects/_detail_overview.html']",2,d1e2d52777a596bac353dca754ca5b4cd2a54bd5,bug/1469651, <dd>{{ project.enabled|yesno|capfirst }}</dd>, <dd>{{ project.enabled }}</dd>,2,2
openstack%2Fsahara~master~Ie109a9cbaa33419e20821c40bb83eeca93c8d6eb,openstack/sahara,master,Ie109a9cbaa33419e20821c40bb83eeca93c8d6eb,Updated from global requirements,MERGED,2015-06-30 20:03:56.000000000,2015-07-01 02:24:26.000000000,2015-07-01 02:24:24.000000000,"[{'_account_id': 3}, {'_account_id': 7213}, {'_account_id': 10670}, {'_account_id': 16272}]","[{'number': 1, 'created': '2015-06-30 20:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/eddc59ed0bdb5c1b220970df8a9132f99e18fd54', 'message': 'Updated from global requirements\n\nChange-Id: Ie109a9cbaa33419e20821c40bb83eeca93c8d6eb\n'}, {'number': 2, 'created': '2015-06-30 22:46:10.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/sahara/commit/b46c60cf0a5faee257195cdcc38f7586fd5382e2', 'message': 'Updated from global requirements\n\nChange-Id: Ie109a9cbaa33419e20821c40bb83eeca93c8d6eb\n'}]",0,197284,b46c60cf0a5faee257195cdcc38f7586fd5382e2,11,4,2,11131,,,0,"Updated from global requirements

Change-Id: Ie109a9cbaa33419e20821c40bb83eeca93c8d6eb
",git fetch https://review.opendev.org/openstack/sahara refs/changes/84/197284/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,eddc59ed0bdb5c1b220970df8a9132f99e18fd54,openstack/requirements,fixtures>=1.3.1,fixtures>=0.3.14,1,1
openstack%2Fneutron~master~I2eb756a73565d93c979e62eaab358a3a519aa8dd,openstack/neutron,master,I2eb756a73565d93c979e62eaab358a3a519aa8dd,RootHelperProcess: kill can consume signal number,MERGED,2015-06-18 16:26:51.000000000,2015-07-01 02:24:13.000000000,2015-07-01 02:24:10.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 5170}, {'_account_id': 6681}, {'_account_id': 6854}, {'_account_id': 8655}, {'_account_id': 8788}, {'_account_id': 8873}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 11343}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 15296}, {'_account_id': 15894}]","[{'number': 1, 'created': '2015-06-18 16:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/92a072ffcd6a7dded2429927e225a04f0a1cd065', 'message': 'RootHelperProcess: kill can consume signal number\n\nThe kill() method now accepts a signal parameter.\n\nChange-Id: I2eb756a73565d93c979e62eaab358a3a519aa8dd\n'}, {'number': 2, 'created': '2015-06-19 10:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/898325be884234fcf44b0d3a286985d64b97d9ca', 'message': 'RootHelperProcess: kill can consume signal number\n\nThe kill() method now accepts a signal parameter.\n\nChange-Id: I2eb756a73565d93c979e62eaab358a3a519aa8dd\n'}, {'number': 3, 'created': '2015-06-28 15:52:04.000000000', 'files': ['neutron/tests/common/net_helpers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b9656509c178041f729cbaa6a1ca974f4b3c6f5d', 'message': 'RootHelperProcess: kill can consume signal number\n\nThe kill() method now accepts a signal parameter.\n\nChange-Id: I2eb756a73565d93c979e62eaab358a3a519aa8dd\n'}]",0,193196,b9656509c178041f729cbaa6a1ca974f4b3c6f5d,54,21,3,8655,,,0,"RootHelperProcess: kill can consume signal number

The kill() method now accepts a signal parameter.

Change-Id: I2eb756a73565d93c979e62eaab358a3a519aa8dd
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/193196/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/common/net_helpers.py'],1,92a072ffcd6a7dded2429927e225a04f0a1cd065,test_firewall,"import signal def kill(self, sig=signal.SIGKILL): utils.execute(['kill', '-%d' % sig, pid], run_as_root=True)"," def kill(self): utils.execute(['kill', '-9', pid], run_as_root=True)",3,2
openstack%2Foslo.cache~master~I166a2101d9736d48dd418a8a97a861cc9e4aa5b9,openstack/oslo.cache,master,I166a2101d9736d48dd418a8a97a861cc9e4aa5b9,Docs for configure(),MERGED,2015-07-01 00:32:45.000000000,2015-07-01 02:23:40.000000000,2015-07-01 02:23:39.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6482}]","[{'number': 1, 'created': '2015-07-01 00:32:45.000000000', 'files': ['oslo_cache/core.py'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/816e6dc270bffbbcd308a81825683e0a9278064e', 'message': ""Docs for configure()\n\nThe public function configure() wasn't documented so a developer\nwouldn't have any idea how to use it.\n\nPartial-Bug: 1469831\nChange-Id: I166a2101d9736d48dd418a8a97a861cc9e4aa5b9\n""}]",0,197382,816e6dc270bffbbcd308a81825683e0a9278064e,7,3,1,6486,,,0,"Docs for configure()

The public function configure() wasn't documented so a developer
wouldn't have any idea how to use it.

Partial-Bug: 1469831
Change-Id: I166a2101d9736d48dd418a8a97a861cc9e4aa5b9
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/82/197382/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_cache/core.py'],1,816e6dc270bffbbcd308a81825683e0a9278064e,bug/1469831," """"""Configure the library. This must be called before conf(). :param conf: The configuration object. :type conf: oslo_config.cfg.ConfigOpts """"""",,8,0
openstack%2Foslo.cache~master~I3b888e248937a3df029dd17df585a599f4130b37,openstack/oslo.cache,master,I3b888e248937a3df029dd17df585a599f4130b37,Fix docs for get_memoization_decorator,MERGED,2015-07-01 00:33:17.000000000,2015-07-01 02:22:55.000000000,2015-07-01 02:22:54.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6482}]","[{'number': 1, 'created': '2015-07-01 00:33:17.000000000', 'files': ['oslo_cache/core.py'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/f302012c298c73f1a61944292912638146c23687', 'message': ""Fix docs for get_memoization_decorator\n\nThe docs for get_memoization_decorator were using an import that\ndoesn't actually work. The import needs to be oslo_cache.core.\n\nPartial-Bug: 1469831\nChange-Id: I3b888e248937a3df029dd17df585a599f4130b37\n""}]",0,197383,f302012c298c73f1a61944292912638146c23687,7,3,1,6486,,,0,"Fix docs for get_memoization_decorator

The docs for get_memoization_decorator were using an import that
doesn't actually work. The import needs to be oslo_cache.core.

Partial-Bug: 1469831
Change-Id: I3b888e248937a3df029dd17df585a599f4130b37
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/83/197383/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_cache/core.py'],1,f302012c298c73f1a61944292912638146c23687,bug/1469831, import oslo_cache.core MEMOIZE = oslo_cache.core.get_memoization_decorator(section='section1') ALTERNATE_MEMOIZE = oslo_cache.core.get_memoization_decorator(, import oslo_cache MEMOIZE = oslo_cache.get_memoization_decorator(section='section1') ALTERNATE_MEMOIZE = oslo_cache.get_memoization_decorator(,3,3
openstack%2Fneutron~master~I7229eba1dbc2ca3d524a1a021256b6202f4aecee,openstack/neutron,master,I7229eba1dbc2ca3d524a1a021256b6202f4aecee,Move NetcatTester to common/net_helpers,MERGED,2015-06-17 17:31:03.000000000,2015-07-01 02:15:55.000000000,2015-07-01 02:15:53.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 5170}, {'_account_id': 6681}, {'_account_id': 6854}, {'_account_id': 8124}, {'_account_id': 8655}, {'_account_id': 8788}, {'_account_id': 8873}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 14605}, {'_account_id': 15296}, {'_account_id': 15894}]","[{'number': 1, 'created': '2015-06-17 17:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e603bbd048653e985a6e799a9c09e0b26fbe774f', 'message': 'Move NetcatTester to common/net_helpers\n\nThe NetcatTester is a testing tool that can be used also in fullstack\ntests so I think it should go there to avoid imports in fullstack tests\nfrom functional.\n\nTests for original helpers module was removed.\n\nChange-Id: I7229eba1dbc2ca3d524a1a021256b6202f4aecee\n'}, {'number': 2, 'created': '2015-06-18 16:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9b7e20cde602a546631f3ac75771ed9afbb7349e', 'message': 'Move NetcatTester to common/net_helpers\n\nThe NetcatTester is a testing tool that can be used also in fullstack\ntests so I think it should go there to avoid imports in fullstack tests\nfrom functional.\n\nTests for original helpers module was removed.\n\nChange-Id: I7229eba1dbc2ca3d524a1a021256b6202f4aecee\n'}, {'number': 3, 'created': '2015-06-19 10:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7be3271415d7c9d5b710b05c9985ca771ba7cbcb', 'message': 'Move NetcatTester to common/net_helpers\n\nThe NetcatTester is a testing tool that can be used also in fullstack\ntests so I think it should go there to avoid imports in fullstack tests\nfrom functional.\n\nTests for original helpers module was removed.\n\nChange-Id: I7229eba1dbc2ca3d524a1a021256b6202f4aecee\n'}, {'number': 4, 'created': '2015-06-28 15:49:05.000000000', 'files': ['neutron/tests/fullstack/config_fixtures.py', 'neutron/tests/functional/agent/test_l3_agent.py', 'neutron/tests/functional/agent/linux/test_helpers.py', 'neutron/tests/functional/agent/linux/test_iptables.py', 'neutron/tests/common/net_helpers.py', 'neutron/tests/functional/agent/linux/helpers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b9e9cfb08bf0609dcfea46403c510607e858926a', 'message': 'Move NetcatTester to common/net_helpers\n\nThe NetcatTester is a testing tool that can be used also in fullstack\ntests so I think it should go there to avoid imports in fullstack tests\nfrom functional.\n\nTests for original helpers module was removed.\n\nChange-Id: I7229eba1dbc2ca3d524a1a021256b6202f4aecee\n'}]",5,192801,b9e9cfb08bf0609dcfea46403c510607e858926a,75,22,4,8655,,,0,"Move NetcatTester to common/net_helpers

The NetcatTester is a testing tool that can be used also in fullstack
tests so I think it should go there to avoid imports in fullstack tests
from functional.

Tests for original helpers module was removed.

Change-Id: I7229eba1dbc2ca3d524a1a021256b6202f4aecee
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/192801/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/fullstack/config_fixtures.py', 'neutron/tests/functional/agent/test_l3_agent.py', 'neutron/tests/functional/agent/linux/test_helpers.py', 'neutron/tests/common/net_helpers.py', 'neutron/tests/functional/agent/linux/test_iptables.py', 'neutron/tests/functional/agent/linux/helpers.py']",6,e603bbd048653e985a6e799a9c09e0b26fbe774f,test_firewall,,"import functoolsimport random import re import select import shlex import subprocessfrom neutron.agent.common import config from neutron.agent.linux import ip_lib from neutron.agent.linux import utils from neutron.common import constants CHILD_PROCESS_TIMEOUT = os.environ.get('OS_TEST_CHILD_PROCESS_TIMEOUT', 20) CHILD_PROCESS_SLEEP = os.environ.get('OS_TEST_CHILD_PROCESS_SLEEP', 0.5) READ_TIMEOUT = os.environ.get('OS_TEST_READ_TIMEOUT', 5) SS_SOURCE_PORT_PATTERN = re.compile( r'^.*\s+\d+\s+.*:(?P<port>\d+)\s+[0-9:].*') TRANSPORT_PROTOCOLS = (constants.PROTO_NAME_TCP, constants.PROTO_NAME_UDP) def get_free_namespace_port(protocol, namespace=None): """"""Return an unused port from given namespace WARNING: This function returns a port that is free at the execution time of this function. If this port is used later for binding then there is a potential danger that port will be no longer free. It's up to the programmer to handle error if port is already in use. :param protocol: Return free port for given protocol. Supported protocols are 'tcp' and 'udp'. """""" if protocol == constants.PROTO_NAME_TCP: param = '-tna' elif protocol == constants.PROTO_NAME_UDP: param = '-una' else: raise TypeError(""Unsupported procotol %s"" % protocol) ip_wrapper = ip_lib.IPWrapper(namespace=namespace) output = ip_wrapper.netns.execute(['ss', param]) used_ports = _get_source_ports_from_ss_output(output) return get_unused_port(used_ports) def _get_source_ports_from_ss_output(output): ports = set() for line in output.splitlines(): match = SS_SOURCE_PORT_PATTERN.match(line) if match: ports.add(match.group('port')) return ports def get_unused_port(used, start=1024, end=65535): candidates = set(range(start, end + 1)) return random.choice(list(candidates - used)) class RootHelperProcess(subprocess.Popen): def __init__(self, cmd, *args, **kwargs): for arg in ('stdin', 'stdout', 'stderr'): kwargs.setdefault(arg, subprocess.PIPE) self.namespace = kwargs.pop('namespace', None) self.cmd = cmd if self.namespace is not None: cmd = ['ip', 'netns', 'exec', self.namespace] + cmd root_helper = config.get_root_helper(utils.cfg.CONF) cmd = shlex.split(root_helper) + cmd self.child_pid = None super(RootHelperProcess, self).__init__(cmd, *args, **kwargs) self._wait_for_child_process() def kill(self): pid = self.child_pid or str(self.pid) utils.execute(['kill', '-9', pid], run_as_root=True) def read_stdout(self, timeout=None): return self._read_stream(self.stdout, timeout) @staticmethod def _read_stream(stream, timeout): if timeout: poller = select.poll() poller.register(stream.fileno()) poll_predicate = functools.partial(poller.poll, 1) utils.wait_until_true(poll_predicate, timeout, 0.1, RuntimeError( 'No output in %.2f seconds' % timeout)) return stream.readline() def writeline(self, data): self.stdin.write(data + os.linesep) self.stdin.flush() def _wait_for_child_process(self, timeout=CHILD_PROCESS_TIMEOUT, sleep=CHILD_PROCESS_SLEEP): def child_is_running(): child_pid = utils.get_root_helper_child_pid( self.pid, run_as_root=True) if utils.pid_invoked_with_cmdline(child_pid, self.cmd): return True utils.wait_until_true( child_is_running, timeout, exception=RuntimeError(""Process %s hasn't been spawned "" ""in %d seconds"" % (self.cmd, timeout))) self.child_pid = utils.get_root_helper_child_pid( self.pid, run_as_root=True) class NetcatTester(object): TESTING_STRING = 'foo' TCP = constants.PROTO_NAME_TCP UDP = constants.PROTO_NAME_UDP def __init__(self, client_namespace, server_namespace, address, dst_port, protocol, server_address='0.0.0.0', src_port=None): """""" Tool for testing connectivity on transport layer using netcat executable. The processes are spawned lazily. :param client_namespace: Namespace in which netcat process that connects to other netcat will be spawned :param server_namespace: Namespace in which listening netcat process will be spawned :param address: Server address from client point of view :param dst_port: Port on which netcat listens :param protocol: Transport protocol, either 'tcp' or 'udp' :param server_address: Address in server namespace on which netcat should listen :param src_port: Source port of netcat process spawned in client namespace - packet will have src_port in TCP/UDP header with this value """""" self.client_namespace = client_namespace self.server_namespace = server_namespace self._client_process = None self._server_process = None self.address = address self.server_address = server_address self.dst_port = str(dst_port) self.src_port = str(src_port) if src_port else None if protocol not in TRANSPORT_PROTOCOLS: raise TypeError(""Unsupported protocol %s"" % protocol) self.protocol = protocol @property def client_process(self): if not self._client_process: self.establish_connection() return self._client_process @property def server_process(self): if not self._server_process: self._spawn_server_process() return self._server_process def _spawn_server_process(self): self._server_process = self._spawn_nc_in_namespace( self.server_namespace, address=self.server_address, listen=True) @property def is_established(self): return bool(self._client_process and not self._client_process.poll()) def establish_connection(self): if self._client_process: raise RuntimeError('%(proto)s connection to $(ip_addr)s is already' ' established' % {'proto': self.protocol, 'ip_addr': self.address}) if not self._server_process: self._spawn_server_process() self._client_process = self._spawn_nc_in_namespace( self.client_namespace, address=self.address) if self.protocol == self.UDP: # Create an entry in conntrack table for UDP packets self.client_process.writeline(self.TESTING_STRING) def test_connectivity(self, respawn=False): stop_required = (respawn and self._client_process and self._client_process.poll() is not None) if stop_required: self.stop_processes() self.client_process.writeline(self.TESTING_STRING) message = self.server_process.read_stdout(READ_TIMEOUT).strip() self.server_process.writeline(message) message = self.client_process.read_stdout(READ_TIMEOUT).strip() return message == self.TESTING_STRING def _spawn_nc_in_namespace(self, namespace, address, listen=False): cmd = ['nc', address, self.dst_port] if self.protocol == self.UDP: cmd.append('-u') if listen: cmd.append('-l') if self.protocol == self.TCP: cmd.append('-k') else: cmd.extend(['-w', '20']) if self.src_port: cmd.extend(['-p', self.src_port]) proc = RootHelperProcess(cmd, namespace=namespace) return proc def stop_processes(self): for proc_attr in ('_client_process', '_server_process'): proc = getattr(self, proc_attr) if proc: if proc.poll() is None: proc.kill() proc.wait() setattr(self, proc_attr, None)",251,283
openstack%2Fpython-novaclient~master~Id28831c58c9cd2c8df4a155b2727dc3291966401,openstack/python-novaclient,master,Id28831c58c9cd2c8df4a155b2727dc3291966401,Updated from global requirements,MERGED,2015-06-30 20:03:23.000000000,2015-07-01 01:57:14.000000000,2015-07-01 01:57:13.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 4690}, {'_account_id': 16272}]","[{'number': 1, 'created': '2015-06-30 20:03:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/2b38e60860836fc2cf135a21eb865ba86db0e7f2', 'message': 'Updated from global requirements\n\nChange-Id: Id28831c58c9cd2c8df4a155b2727dc3291966401\n'}, {'number': 2, 'created': '2015-06-30 22:45:44.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/8dd63328fbd6a4e632ead2edad1e9138d3af5e42', 'message': 'Updated from global requirements\n\nChange-Id: Id28831c58c9cd2c8df4a155b2727dc3291966401\n'}]",0,197281,8dd63328fbd6a4e632ead2edad1e9138d3af5e42,12,4,2,11131,,,0,"Updated from global requirements

Change-Id: Id28831c58c9cd2c8df4a155b2727dc3291966401
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/81/197281/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,2b38e60860836fc2cf135a21eb865ba86db0e7f2,openstack/requirements,fixtures>=1.3.1,fixtures>=0.3.14,1,1
openstack%2Fsenlin~master~I38a12d18d68f12e1286c14d2b8005061ee2034ec,openstack/senlin,master,I38a12d18d68f12e1286c14d2b8005061ee2034ec,Test case for default handler in cluster controller,MERGED,2015-06-30 10:05:55.000000000,2015-07-01 01:51:56.000000000,2015-07-01 01:51:55.000000000,"[{'_account_id': 3}, {'_account_id': 6348}, {'_account_id': 8246}, {'_account_id': 11034}]","[{'number': 1, 'created': '2015-06-30 10:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/a18f993423d69ffa343b62bd9a57e52c5e275bc5', 'message': ""Test case for default handler in cluster controller\n\nThis patch adds a unit test case to cover the 'default' handler in the\nclusters controller. Now we have 100% test case coverage for this module.\n\nChange-Id: I38a12d18d68f12e1286c14d2b8005061ee2034ec\n""}, {'number': 2, 'created': '2015-07-01 00:04:14.000000000', 'files': ['senlin/tests/apiv1/test_clusters.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/dd66713252b546a0ec788d819c9ac8c73eda1926', 'message': ""Test case for default handler in cluster controller\n\nThis patch adds a unit test case to cover the 'default' handler in the\nclusters controller. Now we have 100% test case coverage for this module.\n\nChange-Id: I38a12d18d68f12e1286c14d2b8005061ee2034ec\n""}]",0,197009,dd66713252b546a0ec788d819c9ac8c73eda1926,11,4,2,8246,,,0,"Test case for default handler in cluster controller

This patch adds a unit test case to cover the 'default' handler in the
clusters controller. Now we have 100% test case coverage for this module.

Change-Id: I38a12d18d68f12e1286c14d2b8005061ee2034ec
",git fetch https://review.opendev.org/openstack/senlin refs/changes/09/197009/1 && git format-patch -1 --stdout FETCH_HEAD,['senlin/tests/apiv1/test_clusters.py'],1,a18f993423d69ffa343b62bd9a57e52c5e275bc5,cluster-api-default-test," def test_default(self): self.assertRaises(exc.HTTPNotFound, self.controller.default, None) ",,3,0
openstack%2Fpython-saharaclient~master~Ie64abd665553ce16d64db28b46423e7efaec15cf,openstack/python-saharaclient,master,Ie64abd665553ce16d64db28b46423e7efaec15cf,Updated from global requirements,MERGED,2015-06-30 22:45:50.000000000,2015-07-01 01:35:56.000000000,2015-07-01 01:35:55.000000000,"[{'_account_id': 3}, {'_account_id': 10670}]","[{'number': 1, 'created': '2015-06-30 22:45:50.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/c43157b2e52924ff1a889c878ac14266a573a9c0', 'message': 'Updated from global requirements\n\nChange-Id: Ie64abd665553ce16d64db28b46423e7efaec15cf\n'}]",0,197362,c43157b2e52924ff1a889c878ac14266a573a9c0,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: Ie64abd665553ce16d64db28b46423e7efaec15cf
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/62/197362/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,c43157b2e52924ff1a889c878ac14266a573a9c0,openstack/requirements,tempest-lib>=0.6.1,tempest-lib>=0.5.0,1,1
openstack%2Foslo.service~master~I7120f238b5ea4ca050783caa9f54de6932c07716,openstack/oslo.service,master,I7120f238b5ea4ca050783caa9f54de6932c07716,Track created thread and disallow more than one start being active,MERGED,2015-06-24 23:35:33.000000000,2015-07-01 01:34:31.000000000,2015-07-01 01:34:29.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 5638}, {'_account_id': 7293}, {'_account_id': 14358}]","[{'number': 1, 'created': '2015-06-24 23:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/6641c2dec9775aec790d12cce3ab66bf9ea285ae', 'message': 'Track created thread and disallow more than one start being active\n\nChange-Id: I7120f238b5ea4ca050783caa9f54de6932c07716\n'}, {'number': 2, 'created': '2015-06-24 23:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/84a1872facf8f2f52cbe7d12361b14b481985df6', 'message': 'Track created thread and disallow more than one start being active\n\nChange-Id: I7120f238b5ea4ca050783caa9f54de6932c07716\n'}, {'number': 3, 'created': '2015-06-25 17:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/1c9813f1551963be3345b73d42e464d99f6f4b66', 'message': 'Track created thread and disallow more than one start being active\n\nChange-Id: I7120f238b5ea4ca050783caa9f54de6932c07716\n'}, {'number': 4, 'created': '2015-06-29 14:48:31.000000000', 'files': ['oslo_service/tests/test_loopingcall.py', 'oslo_service/loopingcall.py'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/cbb17bd160da61492211c6ef3641c2a4dc93625f', 'message': 'Track created thread and disallow more than one start being active\n\nChange-Id: I7120f238b5ea4ca050783caa9f54de6932c07716\n'}]",4,195358,cbb17bd160da61492211c6ef3641c2a4dc93625f,36,5,4,1297,,,0,"Track created thread and disallow more than one start being active

Change-Id: I7120f238b5ea4ca050783caa9f54de6932c07716
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/58/195358/4 && git format-patch -1 --stdout FETCH_HEAD,['oslo_service/loopingcall.py'],1,6641c2dec9775aec790d12cce3ab66bf9ea285ae,no-secondary-running,"from oslo_utils import excutils self._thread = None if self._thread is not None: raise RuntimeError(""A fixed interval looping call can only run"" "" one function at a time"") def _on_done(gt, *args, **kwargs): self._thread = None self._running = False self._thread = greenthread.spawn( self._run_loop, self._KIND, self.done, _idle_for, initial_delay=initial_delay) self._thread.link(_on_done) if self._thread is not None: raise RuntimeError(""A dynamic interval looping call can only run"" "" one function at a time"") def _on_done(gt, *args, **kwargs): self._thread = None self._running = False self._thread = greenthread.spawn( self._run_loop, self._KIND, self.done, _idle_for, initial_delay=initial_delay) self._thread.link(_on_done)"," self.stop() greenthread.spawn_n(self._run_loop, self._KIND, self.done, _idle_for, initial_delay=initial_delay) greenthread.spawn_n(self._run_loop, self._KIND, self.done, _idle_for, initial_delay=initial_delay)",24,7
openstack%2Frequirements~master~Ib2964878ade65847c337b88f71f52ba3cf9d8ef8,openstack/requirements,master,Ib2964878ade65847c337b88f71f52ba3cf9d8ef8,Add the right version of fixture in requirements,ABANDONED,2015-06-29 12:09:04.000000000,2015-07-01 01:27:25.000000000,,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 7069}]","[{'number': 1, 'created': '2015-06-29 12:09:04.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/bf775375b44f756a68945b4cc002d89cd4aa9e43', 'message': 'Add the right version of fixture in requirements\n\nFixture 1.3.0 has problems in the cleanUp method\nwhich raises a TypeError where it expects a NoneType\nobjecti to be called.\n\nChange-Id: Ib2964878ade65847c337b88f71f52ba3cf9d8ef8\nCloses-Bug: #1469644\n'}]",0,196638,bf775375b44f756a68945b4cc002d89cd4aa9e43,7,5,1,14884,,,0,"Add the right version of fixture in requirements

Fixture 1.3.0 has problems in the cleanUp method
which raises a TypeError where it expects a NoneType
objecti to be called.

Change-Id: Ib2964878ade65847c337b88f71f52ba3cf9d8ef8
Closes-Bug: #1469644
",git fetch https://review.opendev.org/openstack/requirements refs/changes/38/196638/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,bf775375b44f756a68945b4cc002d89cd4aa9e43,fixture_fix,"fixtures<1.3.0,>=0.3.14",fixtures>=0.3.14,1,1
openstack%2Fmagnum~master~I48722dbb0ba2ddd6a5d7c04c9623020f7bb0e537,openstack/magnum,master,I48722dbb0ba2ddd6a5d7c04c9623020f7bb0e537,"Backport ""configure docker storage correctly""",MERGED,2015-06-17 10:28:58.000000000,2015-07-01 01:13:42.000000000,2015-07-01 01:13:40.000000000,"[{'_account_id': 3}, {'_account_id': 7049}, {'_account_id': 7494}, {'_account_id': 10206}, {'_account_id': 11536}, {'_account_id': 11650}]","[{'number': 1, 'created': '2015-06-17 10:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b7f1175a9db88a75e5574fdd6f54ed2c898aa6e6', 'message': 'Backport ""configure docker storage correctly""\n\nThe changes made by the configure-docker-storage.sh fragment were\nbeing overwritten by the docker-storage-setup script that atomic\nruns at boot.  This patch updates configure-docker-storage.sh such\nthat it will generate configuration for docker-storage-setup, which\nwill in turn generate the correct /etc/sysconfig/docker-storage.\n\nheat-coe-templates: Ib86b0238b7b82bd28343ddfd385c31a73dc5af19\n\nChange-Id: I48722dbb0ba2ddd6a5d7c04c9623020f7bb0e537\n'}, {'number': 2, 'created': '2015-06-24 15:16:10.000000000', 'files': ['magnum/templates/heat-kubernetes/fragments/configure-docker-storage.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/ce2d9384047ae5daf7c361fe79ee2923f4619e57', 'message': 'Backport ""configure docker storage correctly""\n\nThe changes made by the configure-docker-storage.sh fragment were\nbeing overwritten by the docker-storage-setup script that atomic\nruns at boot.  This patch updates configure-docker-storage.sh such\nthat it will generate configuration for docker-storage-setup, which\nwill in turn generate the correct /etc/sysconfig/docker-storage.\n\nheat-coe-templates: Ib86b0238b7b82bd28343ddfd385c31a73dc5af19\n\nChange-Id: I48722dbb0ba2ddd6a5d7c04c9623020f7bb0e537\n'}]",4,192588,ce2d9384047ae5daf7c361fe79ee2923f4619e57,13,6,2,11650,,,0,"Backport ""configure docker storage correctly""

The changes made by the configure-docker-storage.sh fragment were
being overwritten by the docker-storage-setup script that atomic
runs at boot.  This patch updates configure-docker-storage.sh such
that it will generate configuration for docker-storage-setup, which
will in turn generate the correct /etc/sysconfig/docker-storage.

heat-coe-templates: Ib86b0238b7b82bd28343ddfd385c31a73dc5af19

Change-Id: I48722dbb0ba2ddd6a5d7c04c9623020f7bb0e537
",git fetch https://review.opendev.org/openstack/magnum refs/changes/88/192588/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/templates/heat-kubernetes/fragments/configure-docker-storage.sh'],1,b7f1175a9db88a75e5574fdd6f54ed2c898aa6e6,backports,"#!/bin/bashattempts=60 while [[ ! -b $DOCKER_DEV && $attempts != 0 ]]; do echo ""waiting for disk $DOCKER_DEV"" sleep 0.5 udevadm trigger let attempts-- cat > /etc/sysconfig/docker-storage-setup <<EOF VG=docker","#!/bin/sh# Wait until docker volume is hot-plugged attempts=1200 while [ ! -b $DOCKER_DEV ] do sleep 0.25 # Trigger udev to make sure symlinks are up to date udevadm trigger attempts=$(($attempts - 1)) if [[ $attempts -eq 0 ]]; then break filvcreate --wipesignatures y -n data docker -l 95%VG lvcreate --wipesignatures y -n metadata docker -l 5%VG cat > /etc/sysconfig/docker-storage <<EOF DOCKER_STORAGE_OPTIONS=""--storage-opt dm.blkdiscard=false --storage-opt dm.metadatadev=/dev/docker/metadata --storage-opt dm.datadev=/dev/docker/data --storage-opt dm.fs=xfs""",9,16
openstack%2Fpython-openstackclient~master~Icf1e3f1292baafe7746fd8804c61ccaab592db65,openstack/python-openstackclient,master,Icf1e3f1292baafe7746fd8804c61ccaab592db65,Updated from global requirements,MERGED,2015-06-30 20:03:27.000000000,2015-07-01 01:12:46.000000000,2015-07-01 01:12:44.000000000,"[{'_account_id': 3}, {'_account_id': 6482}, {'_account_id': 8736}, {'_account_id': 16272}]","[{'number': 1, 'created': '2015-06-30 20:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/44480498731b474e3aa361b1a440a6c5f257e592', 'message': 'Updated from global requirements\n\nChange-Id: Icf1e3f1292baafe7746fd8804c61ccaab592db65\n'}, {'number': 2, 'created': '2015-06-30 22:45:48.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a7eb8b5b3f2a8b7ee53e0787f49952d63d2660bb', 'message': 'Updated from global requirements\n\nChange-Id: Icf1e3f1292baafe7746fd8804c61ccaab592db65\n'}]",0,197282,a7eb8b5b3f2a8b7ee53e0787f49952d63d2660bb,11,4,2,11131,,,0,"Updated from global requirements

Change-Id: Icf1e3f1292baafe7746fd8804c61ccaab592db65
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/82/197282/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,44480498731b474e3aa361b1a440a6c5f257e592,openstack/requirements,fixtures>=1.3.1,fixtures>=0.3.14,1,1
openstack%2Fmagnum~master~I4b025cb4f47c4683d826237318afdf2c2009841a,openstack/magnum,master,I4b025cb4f47c4683d826237318afdf2c2009841a,policy check for node,MERGED,2015-06-18 05:55:59.000000000,2015-07-01 01:09:04.000000000,2015-07-01 01:09:02.000000000,"[{'_account_id': 3}, {'_account_id': 7494}, {'_account_id': 7543}, {'_account_id': 9591}, {'_account_id': 11189}, {'_account_id': 11536}, {'_account_id': 11650}, {'_account_id': 12175}, {'_account_id': 12927}, {'_account_id': 14131}]","[{'number': 1, 'created': '2015-06-18 05:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/5eadf3e57bbf2175cc50dada3b141534be8cad08', 'message': 'policy check for node\n\nadd policy check for node.\n\nChange-Id: I4b025cb4f47c4683d826237318afdf2c2009841a\nPartial-implements: blueprint policy-enforce\n'}, {'number': 2, 'created': '2015-06-18 08:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/07a6b30c290ea84bcda8675c7d782e27af241290', 'message': 'policy check for node\n\nadd policy check for node.\n\nChange-Id: I4b025cb4f47c4683d826237318afdf2c2009841a\nPartial-implements: blueprint policy-enforce\n'}, {'number': 3, 'created': '2015-06-30 05:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f90be246568c5293cec74cc51eb95a4ed5dee87d', 'message': 'policy check for node\n\nadd policy check for node.\n\nChange-Id: I4b025cb4f47c4683d826237318afdf2c2009841a\nPartial-implements: blueprint policy-enforce\n'}, {'number': 4, 'created': '2015-06-30 08:36:28.000000000', 'files': ['magnum/tests/fake_policy.py', 'magnum/tests/unit/api/controllers/v1/test_node.py', 'etc/magnum/policy.json', 'magnum/api/controllers/v1/node.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/4ecd46800b2265a0519fbb4cd3cdb741138ed2c0', 'message': 'policy check for node\n\nadd policy check for node.\n\nChange-Id: I4b025cb4f47c4683d826237318afdf2c2009841a\nPartial-implements: blueprint policy-enforce\n'}]",12,192975,4ecd46800b2265a0519fbb4cd3cdb741138ed2c0,33,10,4,7543,,,0,"policy check for node

add policy check for node.

Change-Id: I4b025cb4f47c4683d826237318afdf2c2009841a
Partial-implements: blueprint policy-enforce
",git fetch https://review.opendev.org/openstack/magnum refs/changes/75/192975/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/tests/fake_policy.py', 'magnum/tests/unit/api/controllers/v1/test_node.py', 'etc/magnum/policy.json', 'magnum/api/controllers/v1/node.py']",4,5eadf3e57bbf2175cc50dada3b141534be8cad08,bp/policy-enforce,"from magnum.common import policy @policy.enforce_wsgi(""node"") @policy.enforce_wsgi(""node"") @policy.enforce_wsgi(""node"", ""get"") @policy.enforce_wsgi(""node"", ""create"") @policy.enforce_wsgi(""node"", ""update"") @policy.enforce_wsgi(""node"")",,66,2
openstack%2Foslo.config~master~I1e2aaa59e713eca231a315860ef84bc272bbe280,openstack/oslo.config,master,I1e2aaa59e713eca231a315860ef84bc272bbe280,fix fixture tests for fixtures 1.3.x,MERGED,2015-06-30 20:26:49.000000000,2015-07-01 00:36:57.000000000,2015-07-01 00:36:57.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 4190}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-06-30 20:26:49.000000000', 'files': ['oslo_config/tests/test_fixture.py', 'tests/test_fixture.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/d86fd9b03fab02bf31e98d557a9ced78fe8da8ff', 'message': 'fix fixture tests for fixtures 1.3.x\n\nThe latest releases of fixtures do not allow a fixture to be cleaned up\nmore than once, so rewrite the fixture tests to manage the fixture by\nhand and not clean it up unless that is part of the test being run.\n\nChange-Id: I1e2aaa59e713eca231a315860ef84bc272bbe280\n'}]",7,197299,d86fd9b03fab02bf31e98d557a9ced78fe8da8ff,10,4,1,2472,,,0,"fix fixture tests for fixtures 1.3.x

The latest releases of fixtures do not allow a fixture to be cleaned up
more than once, so rewrite the fixture tests to manage the fixture by
hand and not clean it up unless that is part of the test being run.

Change-Id: I1e2aaa59e713eca231a315860ef84bc272bbe280
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/99/197299/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_config/tests/test_fixture.py', 'tests/test_fixture.py']",2,d86fd9b03fab02bf31e98d557a9ced78fe8da8ff,fixture-set-defaults," def _make_fixture(self): conf = cfg.ConfigOpts() config_fixture = config.Config(conf) config_fixture.setUp() config_fixture.register_opt(cfg.StrOpt( return (config_fixture, conf) f, conf = self._make_fixture() f.config(testing_option='changed_value') f.conf.get('testing_option')) f, conf = self._make_fixture() f.config(testing_option='changed_value') self.assertEqual(f.conf.get('testing_option'), f.conf.reset() f, conf = self._make_fixture() f.register_opt(opt) f, conf = self._make_fixture() f.register_opts([opt1, opt2]) f, conf = self._make_fixture() f.register_opt(opt) f.cleanUp() f, conf = self._make_fixture() f.register_cli_opt(opt) f, conf = self._make_fixture() f.register_cli_opts([opt1, opt2]) f, conf = self._make_fixture() f.register_cli_opt(opt) f.cleanUp() def test_load_raw_values(self): f, conf = self._make_fixture() f.load_raw_values(first_test_opt='loaded_value_1', second_test_opt='loaded_value_2') # Must not be registered. self.assertRaises(cfg.NoSuchOptError, conf.get, 'first_test_opt') self.assertRaises(cfg.NoSuchOptError, conf.get, 'second_test_opt') opt1 = cfg.StrOpt('first_test_opt', default='initial_value_1') opt2 = cfg.StrOpt('second_test_opt', default='initial_value_2') f.register_opt(opt1) f.register_opt(opt2) self.assertEqual(conf.first_test_opt, 'loaded_value_1') self.assertEqual(conf.second_test_opt, 'loaded_value_2') # Cleanup. f.cleanUp() # Must no longer be registered. self.assertRaises(cfg.NoSuchOptError, conf.get, 'first_test_opt') self.assertRaises(cfg.NoSuchOptError, conf.get, 'second_test_opt') # Even when registered, must be default. f.register_opt(opt1) f.register_opt(opt2) self.assertEqual(conf.first_test_opt, 'initial_value_1') self.assertEqual(conf.second_test_opt, 'initial_value_2') def test_assert_default_files_cleanup(self): """"""Assert that using the fixture forces a clean list."""""" f, conf = self._make_fixture() self.assertNotIn('default_config_files', conf) config_files = ['./test_fixture.conf'] f.set_config_files(config_files) self.assertEqual(conf.default_config_files, config_files) f.cleanUp() self.assertNotIn('default_config_files', conf) def test_load_custom_files(self): f, conf = self._make_fixture() self.assertNotIn('default_config_files', conf) config_files = ['./oslo_config/tests/test_fixture.conf'] f.set_config_files(config_files) opt1 = cfg.StrOpt('first_test_opt', default='initial_value_1') opt2 = cfg.StrOpt('second_test_opt', default='initial_value_2') f.register_opt(opt1) f.register_opt(opt2) self.assertEqual('loaded_value_1', conf.get('first_test_opt')) self.assertEqual('loaded_value_2', conf.get('second_test_opt'))","conf = cfg.CONF def setUp(self): super(ConfigTestCase, self).setUp() self.config_fixture = self.useFixture(config.Config(conf)) self.config = self.config_fixture.config self.config_fixture.register_opt(cfg.StrOpt( self.config(testing_option='changed_value') self.config_fixture.conf.get('testing_option')) self.config(testing_option='changed_value') self.assertEqual(self.config_fixture.conf.get('testing_option'), self.config_fixture.conf.reset() self.config_fixture.register_opt(opt) self.config_fixture.register_opts([opt1, opt2]) self.config_fixture.register_opt(opt) self.config_fixture.cleanUp() self.config_fixture.register_cli_opt(opt) self.config_fixture.register_cli_opts([opt1, opt2]) self.config_fixture.register_cli_opt(opt) self.config_fixture.cleanUp()",130,52
openstack%2Fneutron~stable%2Fkilo~Id03e26dac003fa589477ed78a4ed3c44cc2f708d,openstack/neutron,stable/kilo,Id03e26dac003fa589477ed78a4ed3c44cc2f708d,Fix tenant-id in Arista ML2 driver to support HA router,MERGED,2015-06-27 01:38:54.000000000,2015-07-01 00:14:30.000000000,2015-06-30 23:18:08.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 6558}, {'_account_id': 7016}, {'_account_id': 7787}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10153}, {'_account_id': 10387}, {'_account_id': 10980}, {'_account_id': 14571}]","[{'number': 1, 'created': '2015-06-27 01:38:54.000000000', 'files': ['neutron/plugins/ml2/drivers/arista/mechanism_arista.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/529dbc19daf0f9bdc6aa9e2c9d4a34999ec6a190', 'message': 'Fix tenant-id in Arista ML2 driver to support HA router\n\nWhen HA router is created, the framework creates a network and does\nnot specify the tenant-id. This casuse Arista ML2 driver to fail.\nThis patch sets the tenant-id when it is not passed explicitly by\nby the network_create() call from the HA router framework.\n\nEven though original issue was discovered for network_create()\nit turns out the same issue applies for port_create() as well\nso all the methods are fixed in this patch\n\nChange-Id: Id03e26dac003fa589477ed78a4ed3c44cc2f708d\nCloses-Bug: 1468828\n(cherry picked from commit 0a2238e34e72c17ca8a75e36b1f56e41a3ece74e)\n'}]",0,196325,529dbc19daf0f9bdc6aa9e2c9d4a34999ec6a190,38,16,1,6558,,,0,"Fix tenant-id in Arista ML2 driver to support HA router

When HA router is created, the framework creates a network and does
not specify the tenant-id. This casuse Arista ML2 driver to fail.
This patch sets the tenant-id when it is not passed explicitly by
by the network_create() call from the HA router framework.

Even though original issue was discovered for network_create()
it turns out the same issue applies for port_create() as well
so all the methods are fixed in this patch

Change-Id: Id03e26dac003fa589477ed78a4ed3c44cc2f708d
Closes-Bug: 1468828
(cherry picked from commit 0a2238e34e72c17ca8a75e36b1f56e41a3ece74e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/196325/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/arista/mechanism_arista.py'],1,529dbc19daf0f9bdc6aa9e2c9d4a34999ec6a190,, if not tenant_id: tenant_id = context._plugin_context.tenant_id if not tenant_id: tenant_id = context._plugin_context.tenant_id if not tenant_id: tenant_id = context._plugin_context.tenant_id if not tenant_id: tenant_id = context._plugin_context.tenant_id if not tenant_id: tenant_id = context._plugin_context.tenant_id if not tenant_id: tenant_id = context._plugin_context.tenant_id if not tenant_id: tenant_id = context._plugin_context.tenant_id if not tenant_id: tenant_id = context._plugin_context.tenant_id if not tenant_id: tenant_id = context._plugin_context.tenant_id,,18,0
openstack%2Fcinder~master~Ia4a8c14c3d2544682f677622fb2dfe4291d95ffc,openstack/cinder,master,Ia4a8c14c3d2544682f677622fb2dfe4291d95ffc,Ensure initialize_connection in targets pass multipath parameter,MERGED,2015-02-14 00:34:51.000000000,2015-06-30 23:49:41.000000000,2015-06-30 23:49:39.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 7198}, {'_account_id': 9003}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 10115}, {'_account_id': 10621}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 11903}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12088}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12493}, {'_account_id': 12540}, {'_account_id': 12778}, {'_account_id': 12779}, {'_account_id': 12780}, {'_account_id': 13628}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14271}, {'_account_id': 14384}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15374}]","[{'number': 1, 'created': '2015-02-14 00:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/33b31ad520d0a94f297f52a4b6273d509f473bdb', 'message': ""Ensure initialize_connection in targets pass multipath parameter\n\nWhen the connector dict specified to initialize_connection has\n'multipath' key, its value should be passed to _get_iscsi_properties\nso that it can generate multipath information if available.\nThis removes the duplicated codes and ensures every target passes\nthe multipath property.\n\nChange-Id: Ia4a8c14c3d2544682f677622fb2dfe4291d95ffc\n""}, {'number': 2, 'created': '2015-03-25 22:01:11.000000000', 'files': ['cinder/volume/targets/scst.py', 'cinder/volume/targets/tgt.py', 'cinder/volume/targets/iser.py', 'cinder/volume/targets/lio.py', 'cinder/volume/targets/iscsi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2d61d8b1cfe84252bce82d8d38699c1cb7457f58', 'message': ""Ensure initialize_connection in targets pass multipath parameter\n\nWhen the connector dict specified to initialize_connection has\n'multipath' key, its value should be passed to _get_iscsi_properties\nso that it can generate multipath information if available.\nThis removes the duplicated codes and ensures every target passes\nthe multipath property.\n\nChange-Id: Ia4a8c14c3d2544682f677622fb2dfe4291d95ffc\n""}]",1,155933,2d61d8b1cfe84252bce82d8d38699c1cb7457f58,51,34,2,9176,,,0,"Ensure initialize_connection in targets pass multipath parameter

When the connector dict specified to initialize_connection has
'multipath' key, its value should be passed to _get_iscsi_properties
so that it can generate multipath information if available.
This removes the duplicated codes and ensures every target passes
the multipath property.

Change-Id: Ia4a8c14c3d2544682f677622fb2dfe4291d95ffc
",git fetch https://review.opendev.org/openstack/cinder refs/changes/33/155933/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/targets/scst.py', 'cinder/volume/targets/tgt.py', 'cinder/volume/targets/iser.py', 'cinder/volume/targets/lio.py', 'cinder/volume/targets/iscsi.py']",5,33b31ad520d0a94f297f52a4b6273d509f473bdb,," iscsi_properties = self._get_iscsi_properties(volume, connector.get( 'multipath'))", iscsi_properties = self._get_iscsi_properties(volume),4,47
openstack%2Fcinder~stable%2Fkilo~I972b80251cebe353f9d89ff4e05db8d029ef5e73,openstack/cinder,stable/kilo,I972b80251cebe353f9d89ff4e05db8d029ef5e73,Wait until service thread is done on service stop,ABANDONED,2015-06-15 15:36:53.000000000,2015-06-30 23:44:56.000000000,,"[{'_account_id': 3}, {'_account_id': 9176}, {'_account_id': 9751}, {'_account_id': 10115}, {'_account_id': 10621}, {'_account_id': 11611}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12778}, {'_account_id': 13394}, {'_account_id': 14242}, {'_account_id': 14797}, {'_account_id': 15670}, {'_account_id': 15741}, {'_account_id': 16269}, {'_account_id': 16595}, {'_account_id': 16660}]","[{'number': 1, 'created': '2015-06-15 15:36:53.000000000', 'files': ['cinder/service.py', 'cinder/tests/test_service.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/94cbbd6da0d7d2ef1b9774471ee485c30934cba5', 'message': ""Wait until service thread is done on service stop\n\nIn order to be able to perform graceful shutdown of services, we need\nto wait for all the current service threads to finish before exiting\nfrom the service process.\n\nOslo.service provides this facility through it's wait() method, so we\nneed to call it in Cinder Service stop() method which gets called when\ngraceful shutdown is requested by sending the process SIGINT or SIGTERM.\n\n(cherry picked from commit fcb5068e79490351359afdec9f05f42ebb022edf)\nConflicts:\n        cinder/tests/test_service.py\n\nPartial-Bug: 1464822\nChange-Id: I972b80251cebe353f9d89ff4e05db8d029ef5e73\n""}]",0,191862,94cbbd6da0d7d2ef1b9774471ee485c30934cba5,20,18,1,10115,,,0,"Wait until service thread is done on service stop

In order to be able to perform graceful shutdown of services, we need
to wait for all the current service threads to finish before exiting
from the service process.

Oslo.service provides this facility through it's wait() method, so we
need to call it in Cinder Service stop() method which gets called when
graceful shutdown is requested by sending the process SIGINT or SIGTERM.

(cherry picked from commit fcb5068e79490351359afdec9f05f42ebb022edf)
Conflicts:
        cinder/tests/test_service.py

Partial-Bug: 1464822
Change-Id: I972b80251cebe353f9d89ff4e05db8d029ef5e73
",git fetch https://review.opendev.org/openstack/cinder refs/changes/62/191862/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/service.py', 'cinder/tests/test_service.py']",2,94cbbd6da0d7d2ef1b9774471ee485c30934cba5,bug/1464822,"from cinder import rpc self.host = 'foo' self.binary = 'cinder-fake' self.topic = 'fake' app = service.Service.create(host=self.host, binary=self.binary, topic=self.topic) service_create = {'host': self.host, 'binary': self.binary, 'topic': self.topic, service_ref = {'host': self.host, 'binary': self.binary, 'topic': self.topic, self.host, self.binary).AndRaise( exception.NotFound()) serv = service.Service(self.host, self.binary, self.topic, service_create = {'host': self.host, 'binary': self.binary, 'topic': self.topic, service_ref = {'host': self.host, 'binary': self.binary, 'topic': self.topic, self.host, self.binary).AndRaise( exception.NotFound()) serv = service.Service(self.host, self.binary, self.topic, @mock.patch.object(rpc, 'get_server') @mock.patch.object(service, 'db') def test_service_stop_waits_for_rpcserver(self, mock_db, mock_rpc): serv = service.Service( self.host, self.binary, self.topic, 'cinder.tests.test_service.FakeManager' ) serv.start() serv.stop() serv.rpcserver.start.assert_called_once_with() serv.rpcserver.stop.assert_called_once_with() serv.rpcserver.wait.assert_called_once_with() "," host = 'foo' binary = 'cinder-fake' topic = 'fake' app = service.Service.create(host=host, binary=binary, topic=topic) host = 'foo' binary = 'bar' topic = 'test' service_create = {'host': host, 'binary': binary, 'topic': topic, service_ref = {'host': host, 'binary': binary, 'topic': topic, host, binary).AndRaise(exception.NotFound()) serv = service.Service(host, binary, topic, host = 'foo' binary = 'bar' topic = 'test' service_create = {'host': host, 'binary': binary, 'topic': topic, service_ref = {'host': host, 'binary': binary, 'topic': topic, host, binary).AndRaise(exception.NotFound()) serv = service.Service(host, binary, topic,",47,33
openstack%2Foslo.versionedobjects~master~Ic0282ad3ccee00b0d12a71e025189b0457b35b83,openstack/oslo.versionedobjects,master,Ic0282ad3ccee00b0d12a71e025189b0457b35b83,Updated from global requirements,MERGED,2015-06-26 22:03:01.000000000,2015-06-30 23:38:08.000000000,2015-06-30 23:38:06.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 16272}]","[{'number': 1, 'created': '2015-06-26 22:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/1bdabecd9f46b45cf4c933c8a54227a45868dfc7', 'message': 'Updated from global requirements\n\nChange-Id: Ic0282ad3ccee00b0d12a71e025189b0457b35b83\n'}, {'number': 2, 'created': '2015-06-30 20:02:34.000000000', 'files': ['requirements.txt', 'requirements-py3.txt'], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/dbd94c04c7716a9f8fd3521401178bc18d57990b', 'message': 'Updated from global requirements\n\nChange-Id: Ic0282ad3ccee00b0d12a71e025189b0457b35b83\n'}]",0,196263,dbd94c04c7716a9f8fd3521401178bc18d57990b,12,3,2,11131,,,0,"Updated from global requirements

Change-Id: Ic0282ad3ccee00b0d12a71e025189b0457b35b83
",git fetch https://review.opendev.org/openstack/oslo.versionedobjects refs/changes/63/196263/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'requirements-py3.txt']",2,1bdabecd9f46b45cf4c933c8a54227a45868dfc7,openstack/requirements,oslo.config>=1.11.0 # Apache-2.0,oslo.config>=1.11.0 # Apache-2.0,2,2
openstack%2Fnova~master~Iae4f6d971818d5b38e838a83753a0707e954bb04,openstack/nova,master,Iae4f6d971818d5b38e838a83753a0707e954bb04,Fix Python 3 issues in nova.db.sqlalchemy,MERGED,2015-06-24 16:47:58.000000000,2015-06-30 23:34:39.000000000,2015-06-30 19:10:43.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 308}, {'_account_id': 679}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 4190}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 6873}, {'_account_id': 7069}, {'_account_id': 7491}, {'_account_id': 9107}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12898}, {'_account_id': 15286}, {'_account_id': 16242}, {'_account_id': 16272}, {'_account_id': 16897}]","[{'number': 1, 'created': '2015-06-24 16:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4f9fec89494acbc3c1edc506743fdbf62c581a49', 'message': 'Fix Python 3 issues in nova.db.sqlalchemy\n\nWIP: This change requires the development version of oslo.db and the\nfollowing test is still failing:\nnova.tests.unit.db.test_db_api.InstanceExtraTestCase.test_instance_extra_get_with_columns\n\n* Replace obj.iteritems() with obj.items(), and replace\n  dict(obj.iteritems()) with dict(obj): obj can be a dictionary\n  or an oslo.db object\n* Replace filter() and map() with list-comprehension using if when a list is\n  expected. On Python 3, filter() and map() return an iterator.\n* Replace obj.keys() with list(obj.keys()) when a list is expected.\n  Replace obj.keys()[0] with list(obj.keys())[0]. On Python 3,\n  dict.keys() now returns an iterator.\n* Replace (int, long) with six.integer_types\n* Get the name of a function using the __name__ attribute, instead of\n  the func_name attribute. The func_name attribute was removed\n  in Python 3.\n* InstanceTypeTestCase: use dict.update() to combine dictionaries\n  instead of using dict.items()+reduce()+dict()\n* matchers.py: replace StringIO.StringIO with six.StringIO.\n* tox.ini: add nova.tests.unit.db.test_db_api to Python 3.4\n\nCo-Authored-By: Davanum Srinivas <davanum@gmail.com>\nBlueprint nova-python3\nChange-Id: Iae4f6d971818d5b38e838a83753a0707e954bb04\n'}, {'number': 2, 'created': '2015-06-24 22:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/762388f660ffac5e1b82529647888089babce9b3', 'message': 'Fix Python 3 issues in nova.db.sqlalchemy\n\nWIP: The following test fails:\nnova.tests.unit.db.test_db_api.InstanceExtraTestCase.test_instance_extra_get_with_columns\n\n* Replace dict(obj.iteritems()) with dict(obj) where obj is a dictionary\n  or an oslo.db object\n* Replace obj.iteritems() with obj.items() where obj is a dictionary:\n  obj.items() works on Python 2 and Python 3.\n* Replace filter() and map() with list-comprehension using if when a list is\n  expected. On Python 3, filter() and map() return an iterator.\n* Replace obj.keys() with list(obj.keys()) when a list is expected.\n  Replace obj.keys()[0] with list(obj.keys())[0]. On Python 3,\n  dict.keys() now returns an iterator.\n* Replace (int, long) with six.integer_types\n* Get the name of a function using the __name__ attribute, instead of\n  the func_name attribute. The func_name attribute was removed\n  in Python 3.\n* InstanceTypeTestCase: use dict.update() to combine dictionaries\n  instead of using dict.items()+reduce()+dict()\n* matchers.py: replace StringIO.StringIO with six.StringIO.\n* tox.ini: add nova.tests.unit.db.test_db_api to Python 3.4\n\nCo-Authored-By: Davanum Srinivas <davanum@gmail.com>\nBlueprint nova-python3\nChange-Id: Iae4f6d971818d5b38e838a83753a0707e954bb04\n'}, {'number': 3, 'created': '2015-06-25 10:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/532162d561001105f1b22d44e110018fc0cd89a8', 'message': 'Fix Python 3 issues in nova.db.sqlalchemy\n\n* Replace dict(obj.iteritems()) with dict(obj) where obj is a dictionary\n  or an oslo.db object\n* Replace obj.iteritems() with obj.items() where obj is a dictionary:\n  obj.items() works on Python 2 and Python 3.\n* Replace filter() and map() with list-comprehension using if when a list is\n  expected. On Python 3, filter() and map() return an iterator.\n* Replace obj.keys() with list(obj.keys()) when a list is expected.\n  Replace obj.keys()[0] with list(obj.keys())[0]. On Python 3,\n  dict.keys() now returns an iterator.\n* Replace (int, long) with six.integer_types\n* Get the name of a function using the __name__ attribute, instead of\n  the func_name attribute. The func_name attribute was removed\n  in Python 3.\n* InstanceTypeTestCase: use dict.update() to combine dictionaries\n  instead of using dict.items()+reduce()+dict()\n* matchers.py: replace StringIO.StringIO with six.StringIO.\n* tox.ini: add nova.tests.unit.db.test_db_api to Python 3.4\n* test_instance_extra_get_with_columns: skip test on deferred column\n  because of a bug in oslo.db. The test should be rewritten when oslo.db\n  1.13 will be released with the fix\n  If9c3ccc03f1dc9746936b0b83ea132508491e577.\n\nBlueprint nova-python3\nChange-Id: Iae4f6d971818d5b38e838a83753a0707e954bb04\n'}, {'number': 4, 'created': '2015-06-30 03:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/174ebfaeaa451365b4b7898d5395e29d64827174', 'message': ""Fix Python 3 issues in nova.db.sqlalchemy\n\n* Replace dict(obj.iteritems()) with dict(obj) where obj is a dictionary\n  or an oslo.db object\n* Replace obj.iteritems() with obj.items() where obj is a dictionary:\n  obj.items() works on Python 2 and Python 3.\n* Replace filter() and map() with list-comprehension using if when a list is\n  expected. On Python 3, filter() and map() return an iterator.\n* Replace obj.keys() with list(obj.keys()) when a list is expected.\n  Replace obj.keys()[0] with list(obj.keys())[0]. On Python 3,\n  dict.keys() now returns an iterator.\n* Replace (int, long) with six.integer_types\n* Get the name of a function using the __name__ attribute, instead of\n  the func_name attribute. The func_name attribute was removed\n  in Python 3.\n* InstanceTypeTestCase: use dict.update() to combine dictionaries\n  instead of using dict.items()+reduce()+dict()\n* matchers.py: replace StringIO.StringIO with six.StringIO.\n* tox.ini: add nova.tests.unit.db.test_db_api to Python 3.4\n* test_instance_extra_get_with_columns:\n\nThe behaviour of ModelBase.__contains__() changed in oslo.db 2.0: see\nchange If9c3ccc03f1dc9746936b0b83ea132508491e577. The method doesn't\nhide SQLAlchemy exceptions anymore.\n\nUpdate test_instance_extra_get_with_columns() of\nnova.tests.unit.db.test_db_api: it now expects an SQLAlchemy error when\ngetting a deferred column which is not loaded.\n\n--\n\nThis is also a squash of commit 64b201e843a3ac66d979d2700c24e085d4379d4e\nfor the global-requirements update to fix bug 1469865 which is blocked\nwithout the oslo.db 2.0.0 fix here for test_instance_extra_get_with_columns.\n\n--\n\nAlso a squash of commit 923e3d2d79bf45f389382b399a174b360d59cc76 to fix the\nglobal-requirements sync.\n\nCloses-Bug: #1469865\n\nCo-Authored-By: lifeless <robertc@robertcollins.net>\n\nBlueprint nova-python3\nChange-Id: Iae4f6d971818d5b38e838a83753a0707e954bb04\n""}, {'number': 5, 'created': '2015-06-30 03:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/26b04e3200ef30f60058bef633755b3b9c5a744f', 'message': ""Fix Python 3 issues in nova.db.sqlalchemy\n\n* Replace dict(obj.iteritems()) with dict(obj) where obj is a dictionary\n  or an oslo.db object\n* Replace obj.iteritems() with obj.items() where obj is a dictionary:\n  obj.items() works on Python 2 and Python 3.\n* Replace filter() and map() with list-comprehension using if when a list is\n  expected. On Python 3, filter() and map() return an iterator.\n* Replace obj.keys() with list(obj.keys()) when a list is expected.\n  Replace obj.keys()[0] with list(obj.keys())[0]. On Python 3,\n  dict.keys() now returns an iterator.\n* Replace (int, long) with six.integer_types\n* Get the name of a function using the __name__ attribute, instead of\n  the func_name attribute. The func_name attribute was removed\n  in Python 3.\n* InstanceTypeTestCase: use dict.update() to combine dictionaries\n  instead of using dict.items()+reduce()+dict()\n* matchers.py: replace StringIO.StringIO with six.StringIO.\n* tox.ini: add nova.tests.unit.db.test_db_api to Python 3.4\n* test_instance_extra_get_with_columns:\n\nThe behaviour of ModelBase.__contains__() changed in oslo.db 2.0: see\nchange If9c3ccc03f1dc9746936b0b83ea132508491e577. The method doesn't\nhide SQLAlchemy exceptions anymore.\n\nUpdate test_instance_extra_get_with_columns() of\nnova.tests.unit.db.test_db_api: it now expects an SQLAlchemy error when\ngetting a deferred column which is not loaded.\n\n--\n\nThis is also a squash of commit 64b201e843a3ac66d979d2700c24e085d4379d4e\nfor the global-requirements update to fix bug 1469865 which is blocked\nwithout the oslo.db 2.0.0 fix here for test_instance_extra_get_with_columns.\n\n--\n\nAlso a squash of commit 923e3d2d79bf45f389382b399a174b360d59cc76 to fix the\nglobal-requirements sync.\n\nDepends-On: Ib63996b016f7f99f69ad1255c333cc2d1846cbdb\n\nCloses-Bug: #1469865\n\nCo-Authored-By: lifeless <robertc@robertcollins.net>\n\nBlueprint nova-python3\nChange-Id: Iae4f6d971818d5b38e838a83753a0707e954bb04\n""}, {'number': 6, 'created': '2015-06-30 03:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ed68623d75192eb50d73d588589356b2483d94e', 'message': ""Fix Python 3 issues in nova.db.sqlalchemy\n\n* Replace dict(obj.iteritems()) with dict(obj) where obj is a dictionary\n  or an oslo.db object\n* Replace obj.iteritems() with obj.items() where obj is a dictionary:\n  obj.items() works on Python 2 and Python 3.\n* Replace filter() and map() with list-comprehension using if when a list is\n  expected. On Python 3, filter() and map() return an iterator.\n* Replace obj.keys() with list(obj.keys()) when a list is expected.\n  Replace obj.keys()[0] with list(obj.keys())[0]. On Python 3,\n  dict.keys() now returns an iterator.\n* Replace (int, long) with six.integer_types\n* Get the name of a function using the __name__ attribute, instead of\n  the func_name attribute. The func_name attribute was removed\n  in Python 3.\n* InstanceTypeTestCase: use dict.update() to combine dictionaries\n  instead of using dict.items()+reduce()+dict()\n* matchers.py: replace StringIO.StringIO with six.StringIO.\n* tox.ini: add nova.tests.unit.db.test_db_api to Python 3.4\n* test_instance_extra_get_with_columns:\n\nThe behaviour of ModelBase.__contains__() changed in oslo.db 2.0: see\nchange If9c3ccc03f1dc9746936b0b83ea132508491e577. The method doesn't\nhide SQLAlchemy exceptions anymore.\n\nUpdate test_instance_extra_get_with_columns() of\nnova.tests.unit.db.test_db_api: it now expects an SQLAlchemy error when\ngetting a deferred column which is not loaded.\n\n--\n\nThis is also a squash of commit 64b201e843a3ac66d979d2700c24e085d4379d4e\nfor the global-requirements update to fix bug 1469865 which is blocked\nwithout the oslo.db 2.0.0 fix here for test_instance_extra_get_with_columns.\n\n--\n\nAlso a squash of commit 923e3d2d79bf45f389382b399a174b360d59cc76 to fix the\nglobal-requirements sync.\n\nDepends-On: Ib63996b016f7f99f69ad1255c333cc2d1846cbdb\n\nCloses-Bug: #1469865\n\nCo-Authored-By: Robert Collins <rbtcollins@hp.com>\n\nBlueprint nova-python3\nChange-Id: Iae4f6d971818d5b38e838a83753a0707e954bb04\n""}, {'number': 7, 'created': '2015-06-30 14:28:28.000000000', 'files': ['nova/objects/base.py', 'nova/db/sqlalchemy/utils.py', 'nova/tests/unit/matchers.py', 'nova/db/sqlalchemy/migrate_repo/versions/216_havana.py', 'nova/objects/instance.py', 'nova/quota.py', 'tox.ini', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2daf8c38add0e8e572a3df760992a21923076a74', 'message': 'Fix Python 3 issues in nova.db.sqlalchemy\n\n* Replace dict(obj.iteritems()) with dict(obj) where obj is a dictionary\n  or an oslo.db object\n* Replace obj.iteritems() with obj.items() where obj is a dictionary:\n  obj.items() works on Python 2 and Python 3.\n* Replace filter() and map() with list-comprehension using if when a list is\n  expected. On Python 3, filter() and map() return an iterator.\n* Replace obj.keys() with list(obj.keys()) when a list is expected.\n  Replace obj.keys()[0] with list(obj.keys())[0]. On Python 3,\n  dict.keys() now returns an iterator.\n* Replace (int, long) with six.integer_types\n* Get the name of a function using the __name__ attribute, instead of\n  the func_name attribute. The func_name attribute was removed\n  in Python 3.\n* InstanceTypeTestCase: use dict.update() to combine dictionaries\n  instead of using dict.items()+reduce()+dict()\n* matchers.py: replace StringIO.StringIO with six.StringIO.\n* tox.ini: add nova.tests.unit.db.test_db_api to Python 3.4\n\nBlueprint nova-python3\nChange-Id: Iae4f6d971818d5b38e838a83753a0707e954bb04\n'}]",4,195191,2daf8c38add0e8e572a3df760992a21923076a74,76,22,7,9107,,,0,"Fix Python 3 issues in nova.db.sqlalchemy

* Replace dict(obj.iteritems()) with dict(obj) where obj is a dictionary
  or an oslo.db object
* Replace obj.iteritems() with obj.items() where obj is a dictionary:
  obj.items() works on Python 2 and Python 3.
* Replace filter() and map() with list-comprehension using if when a list is
  expected. On Python 3, filter() and map() return an iterator.
* Replace obj.keys() with list(obj.keys()) when a list is expected.
  Replace obj.keys()[0] with list(obj.keys())[0]. On Python 3,
  dict.keys() now returns an iterator.
* Replace (int, long) with six.integer_types
* Get the name of a function using the __name__ attribute, instead of
  the func_name attribute. The func_name attribute was removed
  in Python 3.
* InstanceTypeTestCase: use dict.update() to combine dictionaries
  instead of using dict.items()+reduce()+dict()
* matchers.py: replace StringIO.StringIO with six.StringIO.
* tox.ini: add nova.tests.unit.db.test_db_api to Python 3.4

Blueprint nova-python3
Change-Id: Iae4f6d971818d5b38e838a83753a0707e954bb04
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/195191/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/base.py', 'nova/db/sqlalchemy/utils.py', 'nova/tests/unit/matchers.py', 'nova/db/sqlalchemy/migrate_repo/versions/216_havana.py', 'nova/objects/instance.py', 'nova/quota.py', 'tox.ini', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",9,4f9fec89494acbc3c1edc506743fdbf62c581a49,py3," for key, condition in self.conditions.items(): for (key, value) in values.items(): for project_id, count in project_id_to_quota_count.items(): for k, v in metadata_dict.items(): inst = dict(inst) for k, v in item.items(): for k, v in value.items(): manual_joins = [x for x in columns_to_join if x in candidates] for key, value in metadata.items(): for k, v in specs.items(): for key, value in specs.items(): for key, value in metadata.items(): return dict(fault_ref)"," for key, condition in self.conditions.iteritems(): for (key, value) in values.iteritems(): for project_id, count in project_id_to_quota_count.iteritems(): for k, v in metadata_dict.iteritems(): inst = dict(inst.iteritems()) for k, v in item.iteritems(): for k, v in value.iteritems(): manual_joins = filter(lambda x: x in candidates, columns_to_join) for key, value in metadata.iteritems(): for k, v in specs.iteritems(): for key, value in specs.iteritems(): for key, value in metadata.iteritems(): return dict(fault_ref.iteritems())",79,76
openstack%2Foslo.concurrency~master~I3a02320dd5ebaef8b324e5851053cdf50d373031,openstack/oslo.concurrency,master,I3a02320dd5ebaef8b324e5851053cdf50d373031,Updated from global requirements,MERGED,2015-06-23 21:49:11.000000000,2015-06-30 23:33:06.000000000,2015-06-30 23:33:05.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 5638}, {'_account_id': 16272}]","[{'number': 1, 'created': '2015-06-23 21:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/0de25586e48d8d4ff7f1847b940402b4f242cb5a', 'message': 'Updated from global requirements\n\nChange-Id: I3a02320dd5ebaef8b324e5851053cdf50d373031\n'}, {'number': 2, 'created': '2015-06-24 14:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/8aabcbc5611f40a7d57f6bc0e014995a523a94df', 'message': 'Updated from global requirements\n\nChange-Id: I3a02320dd5ebaef8b324e5851053cdf50d373031\n'}, {'number': 3, 'created': '2015-06-24 20:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/585310b9810bbafb47d06d553d42b21acd5d20ee', 'message': 'Updated from global requirements\n\nChange-Id: I3a02320dd5ebaef8b324e5851053cdf50d373031\n'}, {'number': 4, 'created': '2015-06-30 20:02:06.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/bc0235eb97024440fbd281c5f26fbafc924210ef', 'message': 'Updated from global requirements\n\nChange-Id: I3a02320dd5ebaef8b324e5851053cdf50d373031\n'}]",0,194835,bc0235eb97024440fbd281c5f26fbafc924210ef,17,4,4,11131,,,0,"Updated from global requirements

Change-Id: I3a02320dd5ebaef8b324e5851053cdf50d373031
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/35/194835/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,0de25586e48d8d4ff7f1847b940402b4f242cb5a,openstack/requirements,futures>=3.0;python_version=='2.7',futures>=3.0,1,1
openstack%2Foslo.log~master~I7f3eb83f02da2bd3a1f96f2812c39068ba69092e,openstack/oslo.log,master,I7f3eb83f02da2bd3a1f96f2812c39068ba69092e,Updated from global requirements,MERGED,2015-06-30 20:02:16.000000000,2015-06-30 23:30:06.000000000,2015-06-30 23:30:05.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 16272}]","[{'number': 1, 'created': '2015-06-30 20:02:16.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/fb26b4fb77acb754631553284da70c5abf04a454', 'message': 'Updated from global requirements\n\nChange-Id: I7f3eb83f02da2bd3a1f96f2812c39068ba69092e\n'}]",0,197264,fb26b4fb77acb754631553284da70c5abf04a454,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: I7f3eb83f02da2bd3a1f96f2812c39068ba69092e
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/64/197264/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,fb26b4fb77acb754631553284da70c5abf04a454,openstack/requirements,fixtures>=1.3.1,fixtures>=0.3.14,1,1
openstack%2Fautomaton~master~I51f27d23ebabaca2ec956f41ee795a4764531b91,openstack/automaton,master,I51f27d23ebabaca2ec956f41ee795a4764531b91,Add `is_actionable_event` checking function,MERGED,2015-06-15 20:01:28.000000000,2015-06-30 23:27:23.000000000,2015-06-30 23:27:21.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 6618}, {'_account_id': 10584}]","[{'number': 1, 'created': '2015-06-15 20:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/automaton/commit/edb012929b0bec1bba12f0f7ac820ff3d481f017', 'message': 'Add `is_actionable_event` checking function (WIP)\n\nChange-Id: I51f27d23ebabaca2ec956f41ee795a4764531b91\n'}, {'number': 2, 'created': '2015-06-15 20:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/automaton/commit/1049d639eed862e89dc427c30a9029cbc914e5ab', 'message': 'Add `is_actionable_event` checking function\n\nChange-Id: I51f27d23ebabaca2ec956f41ee795a4764531b91\n'}, {'number': 3, 'created': '2015-06-24 22:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/automaton/commit/6bb3bb3184d259cd3b56e9fbdbe8e16989f679aa', 'message': 'Add `is_actionable_event` checking function\n\nChange-Id: I51f27d23ebabaca2ec956f41ee795a4764531b91\n'}, {'number': 4, 'created': '2015-06-29 19:59:12.000000000', 'files': ['automaton/tests/test_fsm.py', 'automaton/machines.py'], 'web_link': 'https://opendev.org/openstack/automaton/commit/2dea8f5675cf3d0f128e2114ed240f8baefec701', 'message': 'Add `is_actionable_event` checking function\n\nChange-Id: I51f27d23ebabaca2ec956f41ee795a4764531b91\n'}]",3,191955,2dea8f5675cf3d0f128e2114ed240f8baefec701,16,4,4,1297,,,0,"Add `is_actionable_event` checking function

Change-Id: I51f27d23ebabaca2ec956f41ee795a4764531b91
",git fetch https://review.opendev.org/openstack/automaton refs/changes/55/191955/1 && git format-patch -1 --stdout FETCH_HEAD,['automaton/machines.py'],1,edb012929b0bec1bba12f0f7ac820ff3d481f017,," def is_actionable_event(self, event): """"""Check whether the event is actionable in the current state."""""" current = self._current if current is None: return False if self._states[current.name]['terminal']: return False if event not in self._transitions[current.name]: return False return True ",,11,0
openstack%2Fpuppet-ceph~master~I1675c147a62661cd7b8e1f59b5bd18948aec8eb2,openstack/puppet-ceph,master,I1675c147a62661cd7b8e1f59b5bd18948aec8eb2,Add EL7 support,ABANDONED,2015-06-26 09:50:13.000000000,2015-06-30 23:24:19.000000000,,"[{'_account_id': 3}, {'_account_id': 2064}, {'_account_id': 3153}, {'_account_id': 7155}, {'_account_id': 8797}, {'_account_id': 9061}, {'_account_id': 9133}, {'_account_id': 9500}, {'_account_id': 11479}, {'_account_id': 11491}, {'_account_id': 15373}]","[{'number': 1, 'created': '2015-06-26 09:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/b93af5817dbc1018686f266753e67e150f175723', 'message': 'Add EL7 support\n\nIf Fedora is 20 or more, CentOS / Red Hat 7, we want to install EPEL7.\nOtherwise, we want to setup EPEL6 for backward compatibility with Fedora\n19 and before, and CentOS / Red Hat 6.X and before.\n\nCloses-bug #1422516\n\nChange-Id: I1675c147a62661cd7b8e1f59b5bd18948aec8eb2\n'}, {'number': 2, 'created': '2015-06-26 10:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/e28c0d7adce5d4210b612952d493f6a2ac0ec5c5', 'message': 'Add EL7 support\n\nIf Fedora is 20 or more, CentOS / Red Hat 7, we want to install EPEL7.\nOtherwise, we want to setup EPEL6 for backward compatibility with Fedora\n19 and before, and CentOS / Red Hat 6.X and before.\n\nCloses-bug #1422516\n\nChange-Id: I1675c147a62661cd7b8e1f59b5bd18948aec8eb2\n'}, {'number': 3, 'created': '2015-06-26 15:04:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/c6ecd22bdabe2d96e715d7e120d9287095aec487', 'message': 'Add EL7 support\n\nIf Fedora is 20 or more, CentOS / Red Hat 7, we want to install EPEL7.\nOtherwise, we want to setup EPEL6 for backward compatibility with Fedora\n19 and before, and CentOS / Red Hat 6.X and before.\n\nCloses-bug #1422516\n\nChange-Id: I1675c147a62661cd7b8e1f59b5bd18948aec8eb2\n'}, {'number': 4, 'created': '2015-06-26 16:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/56a327554429061a23986a099f79b5f9a273b62a', 'message': 'Add EL7 support\n\nIf Fedora is 20 or more, CentOS / Red Hat 7, we want to install EPEL7.\nOtherwise, we want to setup EPEL6 for backward compatibility with Fedora\n19 and before, and CentOS / Red Hat 6.X and before.\n\nCloses-bug #1422516\n\nChange-Id: I1675c147a62661cd7b8e1f59b5bd18948aec8eb2\n'}, {'number': 5, 'created': '2015-06-26 16:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/731d78bd18cfce89a053e822b912e5b7084eb37e', 'message': 'Add EL7 support\n\nIf Fedora is 20 or more, CentOS / Red Hat 7, we want to install EPEL7.\nOtherwise, we want to setup EPEL6 for backward compatibility with Fedora\n19 and before, and CentOS / Red Hat 6.X and before.\n\nCloses-bug #1422516\n\nChange-Id: I1675c147a62661cd7b8e1f59b5bd18948aec8eb2\n'}, {'number': 6, 'created': '2015-06-26 17:00:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/d5bda85554744c4e5b95f3e05d320231cd979309', 'message': 'Add EL7 support\n\nIf Fedora is 20 or more, CentOS / Red Hat 7, we want to install EPEL7.\nOtherwise, we want to setup EPEL6 for backward compatibility with Fedora\n19 and before, and CentOS / Red Hat 6.X and before.\n\nCloses-bug #1422516\n\nChange-Id: I1675c147a62661cd7b8e1f59b5bd18948aec8eb2\n'}, {'number': 7, 'created': '2015-06-26 18:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/11d660785a42546f5e314acbfa3ab6c25b3538d1', 'message': 'Add EL7 support\n\nIf Fedora is 20 or more, CentOS / Red Hat 7, we want to install EPEL7.\nOtherwise, we want to setup EPEL6 for backward compatibility with Fedora\n19 and before, and CentOS / Red Hat 6.X and before.\n\nCloses-bug #1422516\n\nChange-Id: I1675c147a62661cd7b8e1f59b5bd18948aec8eb2\n'}, {'number': 8, 'created': '2015-06-26 18:42:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/b625db6fe59b67b04e254c64259dfb29c76dd17f', 'message': 'Add EL7 support\n\nIf Fedora is 20 or more, CentOS / Red Hat 7, we want to install EPEL7.\nOtherwise, we want to setup EPEL6 for backward compatibility with Fedora\n19 and before, and CentOS / Red Hat 6.X and before.\n\nCloses-bug #1422516\nCo-Author-By: Emilien Macchi <emilien@redhat.com>\nCo-Author-By: David Gurtner <aldavud@crimson.ch>\nCo-Author-By: Gael Chamoulaud <gchamoul@redhat.com>\nCo-Author-By: Andrew Woodward <xarses@gmail.com>\nCo-Author-By: Florian Haas <florian@hastexo.com>\nCo-Author-By: Jan Kundrat <jkt@kde.org>\nCo-Author-By: Aimon Bustardo <me@aimon.net>\nChange-Id: I1675c147a62661cd7b8e1f59b5bd18948aec8eb2\n'}, {'number': 9, 'created': '2015-06-26 18:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/eb26e634d3ea15bfa8a1bdbac68598e0b344b5a6', 'message': 'Add EL7 support\n\nIf Fedora is 20 or more, CentOS / Red Hat 7, we want to install EPEL7.\nOtherwise, we want to setup EPEL6 for backward compatibility with Fedora\n19 and before, and CentOS / Red Hat 6.X and before.\n\nCloses-bug #1422516\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\nCo-Authored-By: David Gurtner <aldavud@crimson.ch>\nCo-Authored-By: Gael Chamoulaud <gchamoul@redhat.com>\nCo-Authored-By: Andrew Woodward <xarses@gmail.com>\nCo-Authored-By: Florian Haas <florian@hastexo.com>\nCo-Authored-By: Jan Kundrat <jkt@kde.org>\nCo-Authored-By: Aimon Bustardo <me@aimon.net>\nChange-Id: I1675c147a62661cd7b8e1f59b5bd18948aec8eb2\n'}, {'number': 10, 'created': '2015-06-26 18:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/f9075738c04605b0027f8519b3d24936718fcfda', 'message': 'Add EL7 support\n\nIf Fedora is 20 or more, CentOS / Red Hat 7, we want to install EPEL7.\nOtherwise, we want to setup EPEL6 for backward compatibility with Fedora\n19 and before, and CentOS / Red Hat 6.X and before.\n\nCloses-bug #1422516\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\nCo-Authored-By: David Gurtner <aldavud@crimson.ch>\nCo-Authored-By: Gael Chamoulaud <gchamoul@redhat.com>\nCo-Authored-By: Andrew Woodward <xarses@gmail.com>\nCo-Authored-By: Florian Haas <florian@hastexo.com>\nCo-Authored-By: Jan Kundrat <jkt@kde.org>\nCo-Authored-By: Aimon Bustardo <me@aimon.net>\nChange-Id: I1675c147a62661cd7b8e1f59b5bd18948aec8eb2\n'}, {'number': 11, 'created': '2015-06-26 19:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/563aa44291fc6cf9b3aecaa1fba9bcf82eedf95a', 'message': 'Add EL7 support\n\nIf Fedora is 20 or more, CentOS / Red Hat 7, we want to install EPEL7.\nOtherwise, we want to setup EPEL6 for backward compatibility with Fedora\n19 and before, and CentOS / Red Hat 6.X and before.\n\nCloses-bug #1422516\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\nCo-Authored-By: David Gurtner <aldavud@crimson.ch>\nCo-Authored-By: Gael Chamoulaud <gchamoul@redhat.com>\nCo-Authored-By: Andrew Woodward <xarses@gmail.com>\nCo-Authored-By: Florian Haas <florian@hastexo.com>\nCo-Authored-By: Jan Kundrat <jkt@kde.org>\nCo-Authored-By: Aimon Bustardo <me@aimon.net>\nChange-Id: I1675c147a62661cd7b8e1f59b5bd18948aec8eb2\n'}, {'number': 12, 'created': '2015-06-26 20:25:31.000000000', 'files': ['spec/classes/ceph_profile_base_spec.rb', 'Gemfile', 'spec/acceptance/nodesets/centos70-x64.yml', 'manifests/repo.pp', 'spec/classes/ceph_mons_spec.rb', 'spec/classes/ceph_profile_client_spec.rb', 'spec/acceptance/ceph_usecases_spec.rb', 'README.md', 'Puppetfile', 'spec/classes/ceph_profile_osd_spec.rb', 'spec/spec_helper_acceptance.rb', 'spec/classes/ceph_profile_mon_spec.rb', 'spec/classes/ceph_repo_spec.rb', 'spec/defines/ceph_mon_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/009d222911949336689617fdca421fd3cc75beb6', 'message': 'Add EL7 support\n\nIf Fedora is 20 or more, CentOS / Red Hat 7, we want to install EPEL7.\nOtherwise, we want to setup EPEL6 for backward compatibility with Fedora\n19 and before, and CentOS / Red Hat 6.X and before.\n\nCloses-bug #1422516\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\nCo-Authored-By: David Gurtner <aldavud@crimson.ch>\nCo-Authored-By: Gael Chamoulaud <gchamoul@redhat.com>\nCo-Authored-By: Andrew Woodward <xarses@gmail.com>\nCo-Authored-By: Florian Haas <florian@hastexo.com>\nCo-Authored-By: Jan Kundrat <jkt@kde.org>\nCo-Authored-By: Aimon Bustardo <me@aimon.net>\nChange-Id: I1675c147a62661cd7b8e1f59b5bd18948aec8eb2\n'}]",2,195959,009d222911949336689617fdca421fd3cc75beb6,37,11,12,11491,,,0,"Add EL7 support

If Fedora is 20 or more, CentOS / Red Hat 7, we want to install EPEL7.
Otherwise, we want to setup EPEL6 for backward compatibility with Fedora
19 and before, and CentOS / Red Hat 6.X and before.

Closes-bug #1422516
Co-Authored-By: Emilien Macchi <emilien@redhat.com>
Co-Authored-By: David Gurtner <aldavud@crimson.ch>
Co-Authored-By: Gael Chamoulaud <gchamoul@redhat.com>
Co-Authored-By: Andrew Woodward <xarses@gmail.com>
Co-Authored-By: Florian Haas <florian@hastexo.com>
Co-Authored-By: Jan Kundrat <jkt@kde.org>
Co-Authored-By: Aimon Bustardo <me@aimon.net>
Change-Id: I1675c147a62661cd7b8e1f59b5bd18948aec8eb2
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/59/195959/12 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ceph_profile_base_spec.rb', 'spec/classes/ceph_profile_osd_spec.rb', 'spec/fixtures/hieradata/hiera.yaml', 'manifests/repo.pp', 'spec/classes/ceph_mons_spec.rb', 'spec/classes/ceph_profile_client_spec.rb', 'spec/classes/ceph_profile_mon_spec.rb', 'spec/classes/ceph_repo_spec.rb', 'README.md', 'spec/defines/ceph_mon_spec.rb']",10,b93af5817dbc1018686f266753e67e150f175723,bug/1422516," context 'RHEL7' do :operatingsystem => 'RHEL7',"," context 'RHEL6' do :operatingsystem => 'RHEL6',",375,61
openstack%2Fpuppet-ceph~master~Ia0ce77ee754eb4e455ea3d4079de344b26aad2d2,openstack/puppet-ceph,master,Ia0ce77ee754eb4e455ea3d4079de344b26aad2d2,Make puppet-ceph unit tests compliant with Puppet4,ABANDONED,2015-05-03 11:42:07.000000000,2015-06-30 23:24:15.000000000,,"[{'_account_id': 3}, {'_account_id': 2064}, {'_account_id': 2265}, {'_account_id': 3153}, {'_account_id': 7155}, {'_account_id': 8797}, {'_account_id': 9061}, {'_account_id': 9133}, {'_account_id': 9500}, {'_account_id': 11479}]","[{'number': 1, 'created': '2015-05-03 11:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/bcda854238e76e68f1c8830b43f4942f7e60fc6a', 'message': 'Make puppet-ceph unit tests compliant with Puppet4\n\n- Bump rspec-puppet to 2.1.0 includine Puppet 4.0 support [1].\n- Bump puppetlabs-apache to 1.4.1\n- Bump puppetlabs-concat to 1.2.1\n\n[1] https://github.com/rodjek/rspec-puppet/commits/v2.1.0\n\nChange-Id: Ia0ce77ee754eb4e455ea3d4079de344b26aad2d2\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2015-06-26 09:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/d2106d1bf049358454505dc11837a0bb45a7b6ee', 'message': 'Make puppet-ceph unit tests compliant with Puppet4\n\n- Bump rspec-puppet to 2.1.0 includine Puppet 4.0 support [1].\n- Bump puppetlabs-apache to 1.4.1\n- Bump puppetlabs-concat to 1.2.1\n- Fix puppet lint issue with missing doc\n\n[1] https://github.com/rodjek/rspec-puppet/commits/v2.1.0\n\nChange-Id: Ia0ce77ee754eb4e455ea3d4079de344b26aad2d2\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2015-06-26 09:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/d235cdccfecd9852217187c60737b89f844a5e07', 'message': 'Make puppet-ceph unit tests compliant with Puppet4\n\n- Bump rspec-puppet to 2.1.0 includine Puppet 4.0 support [1].\n- Bump puppetlabs-apache to 1.4.1\n- Bump puppetlabs-concat to 1.2.1\n- Fix puppet lint issue with missing doc\n\n[1] https://github.com/rodjek/rspec-puppet/commits/v2.1.0\n\nChange-Id: Ia0ce77ee754eb4e455ea3d4079de344b26aad2d2\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 4, 'created': '2015-06-26 09:28:38.000000000', 'files': ['metadata.json', 'spec/spec_helper_system.rb', 'manifests/rgw.pp', '.fixtures.yml', 'spec/system/ceph_rgw_apache_spec.rb', 'Gemfile-rspec-system', 'spec/acceptance/nodesets/nodepool-trusty.yml', 'Gemfile', 'spec/spec_helper_acceptance.rb', 'spec/acceptance/nodesets/nodepool-centos7.yml'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/ca86aafb05871ab4201d0d0102e429d33600e8e7', 'message': 'Make puppet-ceph unit tests compliant with Puppet4\n\n- Bump rspec-puppet to 2.1.0 includine Puppet 4.0 support [1].\n- Bump puppetlabs-apache to 1.4.1\n- Bump puppetlabs-concat to 1.2.1\n- Fix puppet lint issue with missing doc\n- Fix dependency version acceptance tests\n- Drop firefly from the ::ceph::rgw::apache tests as it seems buggy.\n- Fix acceptance tests. Beaker acceptance test have been enabled for trusty\n  and centos recently. This module does not yet support them so currently\n  jenkins tests always fail.\n\n[1] https://github.com/rodjek/rspec-puppet/commits/v2.1.0\n\nChange-Id: Ia0ce77ee754eb4e455ea3d4079de344b26aad2d2\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}]",0,179645,ca86aafb05871ab4201d0d0102e429d33600e8e7,24,10,4,11491,,,0,"Make puppet-ceph unit tests compliant with Puppet4

- Bump rspec-puppet to 2.1.0 includine Puppet 4.0 support [1].
- Bump puppetlabs-apache to 1.4.1
- Bump puppetlabs-concat to 1.2.1
- Fix puppet lint issue with missing doc
- Fix dependency version acceptance tests
- Drop firefly from the ::ceph::rgw::apache tests as it seems buggy.
- Fix acceptance tests. Beaker acceptance test have been enabled for trusty
  and centos recently. This module does not yet support them so currently
  jenkins tests always fail.

[1] https://github.com/rodjek/rspec-puppet/commits/v2.1.0

Change-Id: Ia0ce77ee754eb4e455ea3d4079de344b26aad2d2
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/45/179645/2 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', '.fixtures.yml', 'Gemfile-rspec-system', 'Gemfile']",4,bcda854238e76e68f1c8830b43f4942f7e60fc6a,fix_acceptance," gem 'rspec-puppet', '~> 2.1.0', :require => false"," gem 'rspec-puppet', '~> 2.0.0', :require => false",6,6
openstack%2Fpuppet-ceph~master~I4af127715260b7999dcc7c3e0079ffaf28439c1e,openstack/puppet-ceph,master,I4af127715260b7999dcc7c3e0079ffaf28439c1e,"Add EL7 Support, Fix unit and integration tests",MERGED,2015-06-30 20:29:35.000000000,2015-06-30 23:21:42.000000000,2015-06-30 23:21:41.000000000,"[{'_account_id': 3}, {'_account_id': 2463}, {'_account_id': 3153}, {'_account_id': 7248}, {'_account_id': 8797}, {'_account_id': 9061}, {'_account_id': 9133}, {'_account_id': 11479}, {'_account_id': 11491}, {'_account_id': 13413}]","[{'number': 1, 'created': '2015-06-30 20:29:35.000000000', 'files': ['spec/classes/ceph_profile_base_spec.rb', '.fixtures.yml', 'Gemfile-rspec-system', 'Gemfile', 'spec/acceptance/nodesets/centos70-x64.yml', 'manifests/repo.pp', 'spec/classes/ceph_mons_spec.rb', 'spec/classes/ceph_profile_client_spec.rb', 'spec/acceptance/ceph_usecases_spec.rb', 'spec/acceptance/nodesets/nodepool-centos7.yml', 'README.md', 'metadata.json', 'Puppetfile', 'spec/spec_helper_system.rb', 'spec/classes/ceph_profile_osd_spec.rb', 'manifests/rgw.pp', 'spec/system/ceph_rgw_apache_spec.rb', 'spec/acceptance/nodesets/nodepool-trusty.yml', 'spec/spec_helper_acceptance.rb', 'spec/classes/ceph_profile_mon_spec.rb', 'spec/classes/ceph_repo_spec.rb', 'spec/defines/ceph_mon_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/71fccdf944a2b0721a972a8a86f97703cabd586e', 'message': 'Add EL7 Support, Fix unit and integration tests\n\nThis commit is a merge of two patchsets that adds\nsupport for EL7 and fixes unit and integration tests.\nThey are required to be in the same patchset in order\nfor all tests to pass.\n---\nMake puppet-ceph unit tests compliant with Puppet4\n\n- Bump rspec-puppet to 2.1.0 includine Puppet 4.0 support [1].\n- Bump puppetlabs-apache to 1.4.1\n- Bump puppetlabs-concat to 1.2.1\n- Fix puppet lint issue with missing doc\n- Fix dependency version acceptance tests\n- Drop firefly from the ::ceph::rgw::apache tests as it seems buggy.\n- Fix acceptance tests. Beaker acceptance test have been enabled for trusty\n  and centos recently. This module does not yet support them so currently\n  jenkins tests always fail.\n\n[1] https://github.com/rodjek/rspec-puppet/commits/v2.1.0\n\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit ca86aafb05871ab4201d0d0102e429d33600e8e7)\n---\nAdd EL7 support\n\nIf Fedora is 20 or more, CentOS / Red Hat 7, we want to install EPEL7.\nOtherwise, we want to setup EPEL6 for backward compatibility with Fedora\n19 and before, and CentOS / Red Hat 6.X and before.\n\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\nCo-Authored-By: David Gurtner <aldavud@crimson.ch>\nCo-Authored-By: Gael Chamoulaud <gchamoul@redhat.com>\nCo-Authored-By: Andrew Woodward <xarses@gmail.com>\nCo-Authored-By: Florian Haas <florian@hastexo.com>\nCo-Authored-By: Jan Kundrat <jkt@kde.org>\nCo-Authored-By: Aimon Bustardo <me@aimon.net>\n(cherry picked from commit 009d222911949336689617fdca421fd3cc75beb6)\n\nCloses-bug: #1422516\nCloses-bug: #1392002\nChange-Id: I4af127715260b7999dcc7c3e0079ffaf28439c1e\n'}]",0,197302,71fccdf944a2b0721a972a8a86f97703cabd586e,13,10,1,9061,,,0,"Add EL7 Support, Fix unit and integration tests

This commit is a merge of two patchsets that adds
support for EL7 and fixes unit and integration tests.
They are required to be in the same patchset in order
for all tests to pass.
---
Make puppet-ceph unit tests compliant with Puppet4

- Bump rspec-puppet to 2.1.0 includine Puppet 4.0 support [1].
- Bump puppetlabs-apache to 1.4.1
- Bump puppetlabs-concat to 1.2.1
- Fix puppet lint issue with missing doc
- Fix dependency version acceptance tests
- Drop firefly from the ::ceph::rgw::apache tests as it seems buggy.
- Fix acceptance tests. Beaker acceptance test have been enabled for trusty
  and centos recently. This module does not yet support them so currently
  jenkins tests always fail.

[1] https://github.com/rodjek/rspec-puppet/commits/v2.1.0

Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit ca86aafb05871ab4201d0d0102e429d33600e8e7)
---
Add EL7 support

If Fedora is 20 or more, CentOS / Red Hat 7, we want to install EPEL7.
Otherwise, we want to setup EPEL6 for backward compatibility with Fedora
19 and before, and CentOS / Red Hat 6.X and before.

Co-Authored-By: Emilien Macchi <emilien@redhat.com>
Co-Authored-By: David Gurtner <aldavud@crimson.ch>
Co-Authored-By: Gael Chamoulaud <gchamoul@redhat.com>
Co-Authored-By: Andrew Woodward <xarses@gmail.com>
Co-Authored-By: Florian Haas <florian@hastexo.com>
Co-Authored-By: Jan Kundrat <jkt@kde.org>
Co-Authored-By: Aimon Bustardo <me@aimon.net>
(cherry picked from commit 009d222911949336689617fdca421fd3cc75beb6)

Closes-bug: #1422516
Closes-bug: #1392002
Change-Id: I4af127715260b7999dcc7c3e0079ffaf28439c1e
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/02/197302/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ceph_profile_base_spec.rb', '.fixtures.yml', 'Gemfile-rspec-system', 'Gemfile', 'spec/acceptance/nodesets/centos70-x64.yml', 'manifests/repo.pp', 'spec/classes/ceph_mons_spec.rb', 'spec/classes/ceph_profile_client_spec.rb', 'spec/acceptance/ceph_usecases_spec.rb', 'spec/acceptance/nodesets/nodepool-centos7.yml', 'README.md', 'metadata.json', 'Puppetfile', 'spec/spec_helper_system.rb', 'spec/classes/ceph_profile_osd_spec.rb', 'manifests/rgw.pp', 'spec/system/ceph_rgw_apache_spec.rb', 'spec/acceptance/nodesets/nodepool-trusty.yml', 'spec/spec_helper_acceptance.rb', 'spec/classes/ceph_profile_mon_spec.rb', 'spec/classes/ceph_repo_spec.rb', 'spec/defines/ceph_mon_spec.rb']",22,71fccdf944a2b0721a972a8a86f97703cabd586e,bug/1422516," context 'RHEL7' do :operatingsystem => 'RHEL7',"," context 'RHEL6' do :operatingsystem => 'RHEL6',",424,76
openstack%2Fpycadf~master~I6e2fd3d8b3c572d1dcddd6d47e387153659b5a64,openstack/pycadf,master,I6e2fd3d8b3c572d1dcddd6d47e387153659b5a64,Updated from global requirements,MERGED,2015-06-30 20:02:41.000000000,2015-06-30 23:21:38.000000000,2015-06-30 23:21:37.000000000,"[{'_account_id': 3}, {'_account_id': 6482}, {'_account_id': 16272}]","[{'number': 1, 'created': '2015-06-30 20:02:41.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/pycadf/commit/376dfb43c56d3b143e77651f8621f9f54498143f', 'message': 'Updated from global requirements\n\nChange-Id: I6e2fd3d8b3c572d1dcddd6d47e387153659b5a64\n'}]",0,197270,376dfb43c56d3b143e77651f8621f9f54498143f,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: I6e2fd3d8b3c572d1dcddd6d47e387153659b5a64
",git fetch https://review.opendev.org/openstack/pycadf refs/changes/70/197270/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,376dfb43c56d3b143e77651f8621f9f54498143f,openstack/requirements,fixtures>=1.3.1,fixtures>=0.3.14,1,1
openstack%2Foslo.utils~master~Ie842af673e12b9ec43d1608afbc8a210a7e75132,openstack/oslo.utils,master,Ie842af673e12b9ec43d1608afbc8a210a7e75132,Updated from global requirements,MERGED,2015-06-30 20:02:31.000000000,2015-06-30 23:21:31.000000000,2015-06-30 23:21:31.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 16272}]","[{'number': 1, 'created': '2015-06-30 20:02:31.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/8383e63e80cad62369a950365380816c3a64a9e7', 'message': 'Updated from global requirements\n\nChange-Id: Ie842af673e12b9ec43d1608afbc8a210a7e75132\n'}]",0,197267,8383e63e80cad62369a950365380816c3a64a9e7,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: Ie842af673e12b9ec43d1608afbc8a210a7e75132
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/67/197267/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,8383e63e80cad62369a950365380816c3a64a9e7,openstack/requirements,fixtures>=1.3.1,fixtures>=0.3.14,1,1
openstack%2Fneutron-lbaas~master~I2093b37d411df9a26958fa50ff523c258bbe06ec,openstack/neutron-lbaas,master,I2093b37d411df9a26958fa50ff523c258bbe06ec,Switch to oslo.service,MERGED,2015-06-19 08:25:58.000000000,2015-06-30 23:21:28.000000000,2015-06-30 23:21:26.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 5948}, {'_account_id': 6854}, {'_account_id': 7293}, {'_account_id': 8911}, {'_account_id': 9008}, {'_account_id': 9656}, {'_account_id': 9828}, {'_account_id': 10980}, {'_account_id': 12040}, {'_account_id': 12403}]","[{'number': 1, 'created': '2015-06-19 08:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/0a97a007a9cc8e6ee7209865d968b98cb8261a8d', 'message': '[WIP] Switch to oslo.service\n\nChange-Id: I2093b37d411df9a26958fa50ff523c258bbe06ec\nDepends-On: I305cf53bad6213c151395e93d656b53a8a28e1db\n'}, {'number': 2, 'created': '2015-06-19 13:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/e95a1a208fda1ac658cdea55e874bda3048451c5', 'message': 'Switch to oslo.service\n\noslo.service has graduated, so neutron_lbaas should consume it.\n\nAs neutron_lbaas.agent.agent.LbaasAgentService subclasses\nneutron.common.rpc.Service which in its turn derives from\noslo_service.service.Service in a result we get a circular\ndependency between neutron and neutron_lbaas.\nTo avoid it, neutron.common.rpc to neutron_lbaas is temporarily\ncopied to neutron_lbaas. It will be removed after both neutron\nand neutron_lbaas are ported to oslo_service.\n\nPartial-Bug: #1466851\nChange-Id: I2093b37d411df9a26958fa50ff523c258bbe06ec\nDepends-On: I305cf53bad6213c151395e93d656b53a8a28e1db\n'}, {'number': 3, 'created': '2015-06-19 13:49:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/48babdbce978021d49d3a43b861bde8c6b85e6a0', 'message': 'Switch to oslo.service\n\noslo.service has graduated, so neutron_lbaas should consume it.\n\nAs neutron_lbaas.agent.agent.LbaasAgentService subclasses\nneutron.common.rpc.Service which in its turn derives from\noslo_service.service.Service in a result we get a circular\ndependency between neutron and neutron_lbaas.\nTo avoid it, neutron.common.rpc to neutron_lbaas is temporarily\ncopied to neutron_lbaas. It will be removed after both neutron\nand neutron_lbaas are ported to oslo_service.\n\nPartial-Bug: #1466851\nChange-Id: I2093b37d411df9a26958fa50ff523c258bbe06ec\nDepends-On: I305cf53bad6213c151395e93d656b53a8a28e1db\n'}, {'number': 4, 'created': '2015-06-19 17:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/fc5ad35b1aa13491b69b98a93042e0a49c070dbd', 'message': 'Switch to oslo.service\n\noslo.service has graduated, so neutron_lbaas should consume it.\n\nAs neutron_lbaas.agent.agent.LbaasAgentService subclasses\nneutron.common.rpc.Service which in its turn derives from\noslo_service.service.Service in a result we get a circular\ndependency between neutron and neutron_lbaas.\nTo avoid it, neutron.common.rpc to neutron_lbaas is temporarily\ncopied to neutron_lbaas. It will be removed after both neutron\nand neutron_lbaas are ported to oslo_service.\n\nPartial-Bug: #1466851\nChange-Id: I2093b37d411df9a26958fa50ff523c258bbe06ec\nDepends-On: I305cf53bad6213c151395e93d656b53a8a28e1db\n'}, {'number': 5, 'created': '2015-06-19 18:44:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/c989796d39ce98fb7e8bf041968c5d339c3b4b5c', 'message': 'Switch to oslo.service\n\noslo.service has graduated, so neutron_lbaas should consume it.\n\nAs neutron_lbaas.agent.agent.LbaasAgentService subclasses\nneutron.common.rpc.Service which in its turn derives from\noslo_service.service.Service in a result we get a circular\ndependency between neutron and neutron_lbaas.\nTo avoid it, neutron.common.rpc to neutron_lbaas is temporarily\ncopied to neutron_lbaas. It will be removed after both neutron\nand neutron_lbaas are ported to oslo_service.\n\nPartial-Bug: #1466851\nChange-Id: I2093b37d411df9a26958fa50ff523c258bbe06ec\nDepends-On: I305cf53bad6213c151395e93d656b53a8a28e1db\n'}, {'number': 6, 'created': '2015-06-22 09:05:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/33ebcb19f8e5c61b76cc0767a78a6193d3aa52d0', 'message': 'Switch to oslo.service\n\noslo.service has graduated, so neutron_lbaas should consume it.\n\nAs neutron_lbaas.agent.agent.LbaasAgentService subclasses\nneutron.common.rpc.Service which in its turn derives from\noslo_service.service.Service in a result we get a circular\ndependency between neutron and neutron_lbaas.\nTo avoid it, neutron.common.rpc to neutron_lbaas is temporarily\ncopied to neutron_lbaas. It will be removed after both neutron\nand neutron_lbaas are ported to oslo_service.\n\nPartial-Bug: #1466851\nChange-Id: I2093b37d411df9a26958fa50ff523c258bbe06ec\nDepends-On: I305cf53bad6213c151395e93d656b53a8a28e1db\n'}, {'number': 7, 'created': '2015-06-25 09:16:27.000000000', 'files': ['neutron_lbaas/services/loadbalancer/drivers/embrane/poller.py', 'neutron_lbaas/agent/common_rpc.py', 'requirements.txt', 'neutron_lbaas/agent/agent.py', 'neutron_lbaas/agent/agent_manager.py', 'neutron_lbaas/tests/unit/services/loadbalancer/agent/test_agent.py', 'neutron_lbaas/services/loadbalancer/agent/agent_manager.py', 'neutron_lbaas/tests/unit/agent/test_agent.py', 'neutron_lbaas/drivers/netscaler/netscaler_driver_v2.py', 'neutron_lbaas/drivers/haproxy/synchronous_namespace_driver.py', 'neutron_lbaas/services/loadbalancer/agent/agent.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/e318a3d7cf6ae3d547bfa4e43b01b659cb0adb1b', 'message': 'Switch to oslo.service\n\noslo.service has graduated, so neutron_lbaas should consume it.\n\nAs neutron_lbaas.agent.agent.LbaasAgentService subclasses\nneutron.common.rpc.Service which in its turn derives from\noslo_service.service.Service in a result we get a circular\ndependency between neutron and neutron_lbaas.\nTo avoid it, neutron.common.rpc to neutron_lbaas is temporarily\ncopied to neutron_lbaas. It will be removed after both neutron\nand neutron_lbaas are ported to oslo_service.\n\nPartial-Bug: #1466851\nChange-Id: I2093b37d411df9a26958fa50ff523c258bbe06ec\nDepends-On: I305cf53bad6213c151395e93d656b53a8a28e1db\n'}]",2,193454,e318a3d7cf6ae3d547bfa4e43b01b659cb0adb1b,61,12,7,7293,,,0,"Switch to oslo.service

oslo.service has graduated, so neutron_lbaas should consume it.

As neutron_lbaas.agent.agent.LbaasAgentService subclasses
neutron.common.rpc.Service which in its turn derives from
oslo_service.service.Service in a result we get a circular
dependency between neutron and neutron_lbaas.
To avoid it, neutron.common.rpc to neutron_lbaas is temporarily
copied to neutron_lbaas. It will be removed after both neutron
and neutron_lbaas are ported to oslo_service.

Partial-Bug: #1466851
Change-Id: I2093b37d411df9a26958fa50ff523c258bbe06ec
Depends-On: I305cf53bad6213c151395e93d656b53a8a28e1db
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/54/193454/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lbaas/services/loadbalancer/drivers/embrane/poller.py', 'requirements.txt', 'neutron_lbaas/agent/agent.py', 'neutron_lbaas/agent/agent_manager.py', 'neutron_lbaas/tests/unit/services/loadbalancer/agent/test_agent.py', 'neutron_lbaas/services/loadbalancer/agent/agent_manager.py', 'neutron_lbaas/tests/unit/agent/test_agent.py', 'neutron_lbaas/drivers/netscaler/netscaler_driver_v2.py', 'neutron_lbaas/drivers/haproxy/synchronous_namespace_driver.py', 'neutron_lbaas/services/loadbalancer/agent/agent.py']",10,0a97a007a9cc8e6ee7209865d968b98cb8261a8d,bug/1466851,"from oslo_service import service service.launch(cfg.CONF, svc).wait()",from neutron.openstack.common import service service.launch(svc).wait(),16,15
openstack%2Fnova~stable%2Fkilo~I3623e60c49e442e2431cf017540422aa59bc285a,openstack/nova,stable/kilo,I3623e60c49e442e2431cf017540422aa59bc285a,Ensure to store context in thread local after spawn/spawn_n,MERGED,2015-06-19 17:27:24.000000000,2015-06-30 23:21:00.000000000,2015-06-30 23:20:56.000000000,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 6873}, {'_account_id': 8213}, {'_account_id': 8574}, {'_account_id': 10118}]","[{'number': 1, 'created': '2015-06-19 17:27:24.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/test_utils.py', 'nova/virt/vmwareapi/io_util.py', 'nova/utils.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/48a62170065386cea6004c090fb5273ed9ec8d2b', 'message': 'Ensure to store context in thread local after spawn/spawn_n\n\nhttps://review.openstack.org/#/c/171299/ introduces a wrapper for utils.spawn_n\nto update context in thread local store. However, there are other routines in\ndriver code which calls greenthread.spawn or greenthread.spawn_n, so that they\nwill not update context in thread local store. The commit adds utils.spawn as a\nnew wrapper, and also make those codes call spawn/spawn_n of utils, in order to\nensure the context of logging is correct.\n\nChange-Id: I3623e60c49e442e2431cf017540422aa59bc285a\nRelated-Bug: 1404268\n(cherry picked from commit 7f293ec49ce87ec022798003470f5903dae603fa)\n'}]",0,193653,48a62170065386cea6004c090fb5273ed9ec8d2b,27,7,1,8574,,,0,"Ensure to store context in thread local after spawn/spawn_n

https://review.openstack.org/#/c/171299/ introduces a wrapper for utils.spawn_n
to update context in thread local store. However, there are other routines in
driver code which calls greenthread.spawn or greenthread.spawn_n, so that they
will not update context in thread local store. The commit adds utils.spawn as a
new wrapper, and also make those codes call spawn/spawn_n of utils, in order to
ensure the context of logging is correct.

Change-Id: I3623e60c49e442e2431cf017540422aa59bc285a
Related-Bug: 1404268
(cherry picked from commit 7f293ec49ce87ec022798003470f5903dae603fa)
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/193653/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/test_utils.py', 'nova/virt/vmwareapi/io_util.py', 'nova/utils.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",5,48a62170065386cea6004c090fb5273ed9ec8d2b,bug/1404268," @mock.patch.object(utils, ""spawn"") @mock.patch.object(utils, ""spawn"") @mock.patch.object(utils, ""spawn"")"," @mock.patch.object(greenthread, ""spawn"") @mock.patch.object(greenthread, ""spawn"") @mock.patch.object(greenthread, ""spawn"")",44,13
openstack%2Fdevstack~master~Ie87e5b5ead777c0153ed7fa5d1db5cc1ae444261,openstack/devstack,master,Ie87e5b5ead777c0153ed7fa5d1db5cc1ae444261,Fix NameError in worlddump.py,MERGED,2015-06-30 18:41:15.000000000,2015-06-30 23:16:07.000000000,2015-06-30 23:16:05.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 112}, {'_account_id': 866}, {'_account_id': 970}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 5196}, {'_account_id': 7118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-06-30 18:41:15.000000000', 'files': ['tools/worlddump.py'], 'web_link': 'https://opendev.org/openstack/devstack/commit/432268b17bff090a8ea8cbbd46c430ddd5be98a1', 'message': 'Fix NameError in worlddump.py\n\nChange-Id: Ie87e5b5ead777c0153ed7fa5d1db5cc1ae444261\n'}]",0,197224,432268b17bff090a8ea8cbbd46c430ddd5be98a1,7,10,1,13664,,,0,"Fix NameError in worlddump.py

Change-Id: Ie87e5b5ead777c0153ed7fa5d1db5cc1ae444261
",git fetch https://review.opendev.org/openstack/devstack refs/changes/24/197224/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/worlddump.py'],1,432268b17bff090a8ea8cbbd46c430ddd5be98a1,," Popen(cmd, shell=True)"," subprocess.Popen(cmd, shell=True)",1,1
openstack%2Foslo.middleware~master~I7436bd0fad903c362bdc474397a43447874cd7cc,openstack/oslo.middleware,master,I7436bd0fad903c362bdc474397a43447874cd7cc,Updated from global requirements,MERGED,2015-06-30 20:02:22.000000000,2015-06-30 23:13:58.000000000,2015-06-30 23:13:57.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 16272}]","[{'number': 1, 'created': '2015-06-30 20:02:22.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/9e2bd3a256ba899884aab6efa7be1a721f8bb394', 'message': 'Updated from global requirements\n\nChange-Id: I7436bd0fad903c362bdc474397a43447874cd7cc\n'}]",0,197265,9e2bd3a256ba899884aab6efa7be1a721f8bb394,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: I7436bd0fad903c362bdc474397a43447874cd7cc
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/65/197265/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,9e2bd3a256ba899884aab6efa7be1a721f8bb394,openstack/requirements,fixtures>=1.3.1,fixtures>=0.3.14,1,1
openstack%2Ftooz~master~I958d48bd6644f17ca80f80dd9fd59d0f5287f0d3,openstack/tooz,master,I958d48bd6644f17ca80f80dd9fd59d0f5287f0d3,Updated from global requirements,MERGED,2015-06-23 21:50:56.000000000,2015-06-30 23:13:51.000000000,2015-06-30 23:13:50.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 5638}, {'_account_id': 16272}]","[{'number': 1, 'created': '2015-06-23 21:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/ef45ae7c000df12ed2bccc925ece7ce6611c840f', 'message': 'Updated from global requirements\n\nChange-Id: I958d48bd6644f17ca80f80dd9fd59d0f5287f0d3\n'}, {'number': 2, 'created': '2015-06-24 14:47:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/feb7b94688ee1646776026e5387c1ba0971ee0b3', 'message': 'Updated from global requirements\n\nChange-Id: I958d48bd6644f17ca80f80dd9fd59d0f5287f0d3\n'}, {'number': 3, 'created': '2015-06-24 20:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/790e6fde9f35c9645830613f3ed784e840e5e13a', 'message': 'Updated from global requirements\n\nChange-Id: I958d48bd6644f17ca80f80dd9fd59d0f5287f0d3\n'}, {'number': 4, 'created': '2015-06-29 00:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/eec6700bbbae645518fe622ac690464b70d8251f', 'message': 'Updated from global requirements\n\nChange-Id: I958d48bd6644f17ca80f80dd9fd59d0f5287f0d3\n'}, {'number': 5, 'created': '2015-06-30 20:04:31.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tooz/commit/5ab78903b4ca5ff619dad8f2eae503a9dfb18927', 'message': 'Updated from global requirements\n\nChange-Id: I958d48bd6644f17ca80f80dd9fd59d0f5287f0d3\n'}]",0,194837,5ab78903b4ca5ff619dad8f2eae503a9dfb18927,19,4,5,11131,,,0,"Updated from global requirements

Change-Id: I958d48bd6644f17ca80f80dd9fd59d0f5287f0d3
",git fetch https://review.opendev.org/openstack/tooz refs/changes/37/194837/4 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,ef45ae7c000df12ed2bccc925ece7ce6611c840f,openstack/requirements,futures>=3.0;python_version=='2.7',futures>=3.0,1,1
openstack%2Fpuppet-ceph~master~I859bd1f0a84fe27acd16e32c82e4d95c69cea6d3,openstack/puppet-ceph,master,I859bd1f0a84fe27acd16e32c82e4d95c69cea6d3,Fix apt::key location to not contain redirect,MERGED,2015-04-19 11:22:52.000000000,2015-06-30 22:54:35.000000000,2015-04-29 21:17:15.000000000,"[{'_account_id': 3}, {'_account_id': 2064}, {'_account_id': 8797}, {'_account_id': 9061}, {'_account_id': 9133}, {'_account_id': 11479}, {'_account_id': 11491}]","[{'number': 1, 'created': '2015-04-19 11:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/762b9539996ae9f27f02b2b69e977667fd278dad', 'message': 'Fix apt::key location to not contain redirect\n\npuppetlabs-apt since versions 1.5.x uses the apt_key provider which\ndoes not allow for http redirects.\n\nThe ceph documentation at\nhttp://docs.ceph.com/docs/master/install/get-packages/#add-keys\nstates the location of the key to be\nhttps://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc\nwhich currently redirects to\nhttp://git.ceph.com/?p=ceph.git;a=blob_plain;f=keys/release.asc\n\nThis patch suggests to update the URL to the new location where\nnecessary.\n\nChange-Id: I859bd1f0a84fe27acd16e32c82e4d95c69cea6d3\nCloses-Bug: #1445900\n'}, {'number': 2, 'created': '2015-04-28 21:13:27.000000000', 'files': ['manifests/repo.pp', 'spec/classes/ceph_repo_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/a1c1ce2aea987550e54bcb1f3e3a18f428a10506', 'message': 'Fix apt::key location to not contain redirect\n\npuppetlabs-apt since versions 1.5.x uses the apt_key provider which\ndoes not allow for http redirects.\n\nThe ceph documentation at\nhttp://docs.ceph.com/docs/master/install/get-packages/#add-keys\nstates the location of the key to be\nhttps://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc\nwhich currently redirects to\nhttp://git.ceph.com/?p=ceph.git;a=blob_plain;f=keys/release.asc\n\nThis patch suggests to update the URL to the new location where\nnecessary.\n\nChange-Id: I859bd1f0a84fe27acd16e32c82e4d95c69cea6d3\nCloses-Bug: #1445900\n'}]",0,175204,a1c1ce2aea987550e54bcb1f3e3a18f428a10506,19,7,2,11479,,,0,"Fix apt::key location to not contain redirect

puppetlabs-apt since versions 1.5.x uses the apt_key provider which
does not allow for http redirects.

The ceph documentation at
http://docs.ceph.com/docs/master/install/get-packages/#add-keys
states the location of the key to be
https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
which currently redirects to
http://git.ceph.com/?p=ceph.git;a=blob_plain;f=keys/release.asc

This patch suggests to update the URL to the new location where
necessary.

Change-Id: I859bd1f0a84fe27acd16e32c82e4d95c69cea6d3
Closes-Bug: #1445900
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/04/175204/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/repo.pp', 'spec/classes/ceph_repo_spec.rb']",2,762b9539996ae9f27f02b2b69e977667fd278dad,bug/1445900, :key_source => 'http://git.ceph.com/?p=ceph.git;a=blob_plain;f=keys/release.asc' :key_source => 'http://git.ceph.com/?p=ceph.git;a=blob_plain;f=keys/release.asc', :key_source => 'https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc' :key_source => 'https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc',3,3
openstack%2Fhorizon~master~I3d98e7b52583f35c66f1abe9445ec0783c3c2fb8,openstack/horizon,master,I3d98e7b52583f35c66f1abe9445ec0783c3c2fb8,Extending Horizon's plug-in mechanism to scss,ABANDONED,2015-06-17 02:07:09.000000000,2015-06-30 22:47:56.000000000,,"[{'_account_id': 3}, {'_account_id': 5623}, {'_account_id': 14307}]","[{'number': 1, 'created': '2015-06-17 02:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c97c92a754a1e32179ab2e28d26bc180b782604c', 'message': ""Extending Horizon's plug-in mechanism to scss\n\nCurrently in Horizon's application part - openstack_dashboard,  scss\nfiles are integrated to the app using dashboard.scss as the integration\npoint and scss files for each enabled dashboard are imported into it\nby using hard-coded approach. This approach has some issues:\n\n- style for disabled dashboard will still be included in the app, unless\n  changing the source code during deployment.\n- developer has to manually maintain the integration list or tree\n\nThis patch extends Horizon's plug-in mechanism to scss, so to solve the\nabove issue. This extended plug-in mechanism is based on a simple\nnaming convention, just like it does with JavaScript files, HTML files\nand Python files.  The naming convention is:\n\n- For each dashboard, `project` for example, there should be a directory\n  defined for it: openstack_dashoboard/static/dashboard/project/.\n- And there should be a `project.scss` defined for it.\n\nThat's it.\n\nChange-Id: I3d98e7b52583f35c66f1abe9445ec0783c3c2fb8\n""}, {'number': 2, 'created': '2015-06-17 03:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d314ac9ea9ad208247602705828848b2ea190669', 'message': ""Extending Horizon's plug-in mechanism to scss\n\nCurrently in Horizon's application part - openstack_dashboard,  scss\nfiles are integrated to the app using dashboard.scss as the integration\npoint and scss files for each enabled dashboard are imported into it\nby using hard-coded approach. This approach has some issues:\n\n- style for disabled dashboard will still be included in the app, unless\n  changing the source code during deployment.\n- developer has to manually maintain the integration list or tree\n\nThis patch extends Horizon's plug-in mechanism to scss, so to solve the\nabove issue. This extended plug-in mechanism is based on a simple\nnaming convention, just like it does with JavaScript files, HTML files\nand Python files.  The naming convention is:\n\n- For each dashboard, `project` for example, there should be a directory\n  defined for it: openstack_dashoboard/static/dashboard/project/.\n- And there should be a `project.scss` defined for it.\n\nThat's it.\n\nChange-Id: I3d98e7b52583f35c66f1abe9445ec0783c3c2fb8\nPartially-Implements: blueprint plugin-scss\n""}, {'number': 3, 'created': '2015-06-17 03:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/624216b26b06cef134084d5cceefbd0d1352ba87', 'message': ""Extending Horizon's plug-in mechanism to scss\n\nCurrently in Horizon's application part - openstack_dashboard,  scss\nfiles are integrated to the app using dashboard.scss as the integration\npoint and scss files for each enabled dashboard are imported into it\nby using hard-coded approach. This approach has some issues:\n\n- style for disabled dashboard will still be included in the app, unless\n  changing the source code during deployment.\n- developer has to manually maintain the integration list or tree\n\nThis patch extends Horizon's plug-in mechanism to scss, so to solve the\nabove issue. This extended plug-in mechanism is based on a simple\nnaming convention, just like it does with JavaScript files, HTML files\nand Python files.  The naming convention is:\n\n- For each dashboard, `project` for example, there should be a directory\n  defined for it: openstack_dashoboard/static/dashboard/project/.\n- And there should be a `project.scss` defined for it.\n\nThat's it.\n\nChange-Id: I3d98e7b52583f35c66f1abe9445ec0783c3c2fb8\nPartially-Implements: blueprint plugin-scss\n""}, {'number': 4, 'created': '2015-06-19 19:01:39.000000000', 'files': ['openstack_dashboard/static/dashboards/img/router-red.svg', 'openstack_dashboard/static/dashboards/img/router-gray.gif', 'openstack_dashboard/static/dashboards/img/volume-gray.svg', 'openstack_dashboard/static/dashboards/project/launch-instance/source/source.html', 'openstack_dashboard/karma.conf.js', 'openstack_dashboard/static/core/openstack-service-api/nova.service.spec.js', 'openstack_dashboard/static/dashboards/img/flavor-gray.gif', 'openstack_dashboard/static/dashboards/scss/components/_workflow.scss', 'openstack_dashboard/static/dashboards/img/port-gray.gif', 'openstack_dashboard/static/dashboards/project/launch-instance/network/network.html', 'openstack_dashboard/static/dashboards/project/launch-instance/flavor/flavor.scss', 'openstack_dashboard/static/dashboards/img/image-gray.svg', 'openstack_dashboard/static/core/core.module.js', 'openstack_dashboard/static/core/openstack-service-api/nova.service.js', 'horizon/karma.conf.js', 'openstack_dashboard/static/dashboards/project/launch-instance/configuration/configuration.js', 'openstack_dashboard/static/dashboards/project/launch-instance/security-groups/security-groups.help.html', 'openstack_dashboard/static/dashboards/img/network-gray.gif', 'openstack_dashboard/static/dashboards/project/launch-instance/flavor/select-flavor-table.js', 'openstack_dashboard/static/dashboards/project/launch-instance/security-groups/security-groups.spec.js', 'openstack_dashboard/static/core/cloud-services/cloud-services.js', 'openstack_dashboard/static/dashboards/img/right_droparrow.png', 'openstack_dashboard/static/core/tech-debt/namespace-ctrl.js', 'openstack_dashboard/static/dashboards/project/launch-instance/security-groups/security-groups.scss', 'openstack_dashboard/static/dashboards/img/vpn-red.svg', 'openstack_dashboard/static/dashboards/img/wait-green.svg', 'openstack_dashboard/static/dashboards/admin/namespace-controller.js', 'openstack_dashboard/static/dashboards/img/stack-green.svg', 'openstack_dashboard/static/dashboards/img/favicon.ico', 'openstack_dashboard/static/dashboards/img/image-red.svg', 'openstack_dashboard/static/dashboards/project/launch-instance/network/network.js', 'openstack_dashboard/static/dashboards/project/launch-instance/launch-instance.spec.js', 'openstack_dashboard/static/dashboards/project/launch-instance/configuration/configuration.scss', 'openstack_dashboard/static/dashboards/img/vpn-green.svg', 'openstack_dashboard/static/dashboards/project/launch-instance/network/network.help.html', 'openstack_dashboard/static/dashboards/project/launch-instance/launch-instance.scss', 'openstack_dashboard/static/dashboards/img/server-gray.gif', 'openstack_dashboard/static/dashboards/img/volume-green.svg', 'openstack_dashboard/static/core/workflow/workflow.js', 'openstack_dashboard/static/dashboards/img/unknown-gray.svg', 'openstack_dashboard/static/dashboards/project/launch-instance/security-groups/security-groups.js', 'openstack_dashboard/static/core/openstack-service-api/security-group.service.js', 'openstack_dashboard/static/dashboards/img/db-green.svg', 'openstack_dashboard/static/dashboards/project/launch-instance/keypair/keypair.html', 'openstack_dashboard/static/dashboards/project/launch-instance/network/network.spec.js', 'openstack_dashboard/enabled/_10_project.py', 'openstack_dashboard/static/core/openstack-service-api/security-group.service.spec.js', 'openstack_dashboard/static/dashboards/img/wait-gray.gif', 'openstack_dashboard/static/dashboards/img/stack-gray.gif', 'openstack_dashboard/static/core/openstack-service-api/neutron.service.spec.js', 'openstack_dashboard/static/dashboards/project/launch-instance/configuration/load-edit.html', 'openstack_dashboard/static/core/openstack-service-api/common-test.spec.js', 'openstack_dashboard/static/dashboards/project/launch-instance/configuration/load-edit.js', 'openstack_dashboard/static/dashboards/img/keypair-gray.svg', 'openstack_dashboard/static/dashboards/img/network-red.svg', 'openstack_dashboard/static/dashboards/scss/components/_resource_browser.scss', 'openstack_dashboard/static/dashboards/img/firewall-gray.gif', 'openstack_dashboard/static/dashboards/img/logo.png', 'horizon/static/dashboard-app/dashboard-app.module.js', 'openstack_dashboard/static/dashboards/img/lb-green.svg', 'openstack_dashboard/static/core/openstack-service-api/policy.service.spec.js', 'openstack_dashboard/static/dashboards/img/policy-gray.svg', 'openstack_dashboard/static/dashboards/img/alarm-green.svg', 'openstack_dashboard/static/dashboards/img/wait-red.svg', 'openstack_dashboard/static/dashboards/img/flavor-red.svg', 'openstack_dashboard/static/dashboards/img/up_arrow.png', 'openstack_dashboard/static/dashboards/img/config-gray.svg', 'openstack_dashboard/static/dashboards/project/launch-instance/keypair/import-keypair.html', 'openstack_dashboard/static/core/openstack-service-api/cinder.service.spec.js', 'openstack_dashboard/static/dashboards/img/lb-gray.gif', 'openstack_dashboard/static/dashboards/img/sidebar_bg.png', 'openstack_dashboard/static/dashboards/scss/_variables.scss', 'openstack_dashboard/static/dashboards/img/lb-red.svg', 'openstack_dashboard/static/dashboards/img/unknown-red.svg', 'openstack_dashboard/static/dashboards/img/alarm-gray.gif', 'openstack_dashboard/static/dashboards/img/flavor-green.svg', 'openstack_dashboard/static/dashboards/img/image-gray.gif', 'openstack_dashboard/static/core/cloud-services/cloud-services.spec.js', 'openstack_dashboard/static/dashboards/img/floatingip-green.svg', 'openstack_dashboard/static/dashboard/core/tech-debt/tech-debt.module.js', 'openstack_dashboard/static/dashboards/img/unknown-gray.gif', 'openstack_dashboard/static/dashboards/img/db-gray.svg', 'openstack_dashboard/static/core/tech-debt/image-form-controller.js', 'openstack_dashboard/static/dashboards/img/search.png', 'openstack_dashboard/static/dashboards/fonts/Anivers_Regular-webfont.eot', 'openstack_dashboard/static/dashboards/img/wait-gray.svg', 'openstack_dashboard/static/dashboards/img/firewall-green.svg', 'openstack_dashboard/static/dashboards/img/alarm-red.svg', 'openstack_dashboard/static/dashboards/project/launch-instance/keypair/new-keypair.html', 'openstack_dashboard/static/core/openstack-service-api/policy.service.js', 'openstack_dashboard/static/dashboard/tech-debt/image-form-ctrl.js', 'openstack_dashboard/static/dashboards/fonts/Anivers_Regular-webfont.woff', 'openstack_dashboard/static/dashboards/project/launch-instance/flavor/flavor.js', 'openstack_dashboard/static/core/workflow/workflow.module.js', 'openstack_dashboard/static/dashboards/img/profile_drop.png', 'openstack_dashboard/utils/settings.py', 'openstack_dashboard/static/core/tech-debt/tech-debt.module.js', 'openstack_dashboard/static/dashboards/project/launch-instance/keypair/keypair.js', 'openstack_dashboard/static/dashboards/scss/components/_accordion_nav.scss', 'openstack_dashboard/static/dashboards/admin/admin.scss', 'openstack_dashboard/static/dashboards/img/server.png', 'openstack_dashboard/static/dashboards/img/port-red.svg', 'openstack_dashboard/static/core/openstack-service-api/cinder.service.js', 'openstack_dashboard/static/dashboards/img/config-red.svg', 'openstack_dashboard/static/dashboards/project/launch-instance/launch-instance.js', 'openstack_dashboard/static/dashboards/img/volume-red.svg', 'openstack_dashboard/static/core/openstack-service-api/keystone.service.js', 'openstack_dashboard/static/dashboards/project/launch-instance/security-groups/keypair-details.html', 'openstack_dashboard/static/dashboards/img/drag.png', 'openstack_dashboard/static/dashboards/img/securitygroup-gray.gif', 'openstack_dashboard/static/dashboards/project/launch-instance/flavor/flavor.help.html', 'openstack_dashboard/static/dashboards/img/stack-gray.svg', 'openstack_dashboard/static/dashboards/scss/_mixins.scss', 'openstack_dashboard/static/dashboards/img/alarm-gray.svg', 'openstack_dashboard/static/dashboards/img/securitygroup-red.svg', 'openstack_dashboard/static/dashboards/fonts/Anivers_Regular-webfont.svg', 'openstack_dashboard/static/dashboards/scss/components/_network_topology.scss', 'openstack_dashboard/static/dashboards/img/firewall-red.svg', 'openstack_dashboard/static/dashboards/img/policy-green.svg', 'openstack_dashboard/static/dashboard/core/dashboard.module.js', 'openstack_dashboard/static/dashboards/img/image-green.svg', 'openstack_dashboard/static/dashboards/img/network-green.svg', 'openstack_dashboard/static/dashboards/img/router.png', 'openstack_dashboard/static/dashboards/project/launch-instance/source/source.scss', 'openstack_dashboard/static/dashboards/img/port-green.svg', 'openstack_dashboard/static/core/openstack-service-api/neutron.service.js', 'openstack_dashboard/static/dashboards/project/launch-instance/keypair/keypair.help.html', 'openstack_dashboard/static/dashboards/project/launch-instance/keypair/keypair.spec.js', 'openstack_dashboard/static/dashboards/project/project.scss', 'openstack_dashboard/static/dashboards/img/keypair-red.svg', 'openstack_dashboard/static/dashboards/project/launch-instance/source/source-details.html', 'openstack_dashboard/settings.py', 'openstack_dashboard/static/dashboards/project/launch-instance/network/network.scss', 'openstack_dashboard/static/dashboards/project/launch-instance/security-groups/security-groups.html', 'openstack_dashboard/static/dashboards/project/launch-instance/flavor/flavor.html', 'openstack_dashboard/static/dashboards/project/launch-instance/source/source.help.html', 'openstack_dashboard/static/dashboards/scss/components/_inline_edit.scss', 'openstack_dashboard/static/dashboards/project/launch-instance/security-groups/security-group-details.html', 'openstack_dashboard/static/dashboards/project/launch-instance/configuration/configuration.html', 'openstack_dashboard/static/dashboards/scss/serial_console.css', 'openstack_dashboard/static/dashboards/project/launch-instance/launch-instance.model.spec.js', 'openstack_dashboard/static/core/openstack-service-api/openstack-service-api.module.js', 'openstack_dashboard/static/dashboard/core/workflow/workflow.spec.js', 'openstack_dashboard/static/core/openstack-service-api/glance.service.js', 'openstack_dashboard/static/core/workflow/workflow.spec.js', 'openstack_dashboard/static/dashboards/img/securitygroup-gray.svg', 'openstack_dashboard/templates/_stylesheets.html', 'openstack_dashboard/static/core/core.module.spec.js', 'openstack_dashboard/static/dashboards/project/launch-instance/configuration/configuration.spec.js', 'openstack_dashboard/static/core/openstack-service-api/settings.service.js', 'openstack_dashboard/static/dashboards/project/launch-instance/keypair/keypair.scss', 'openstack_dashboard/static/dashboards/project/project.module.js', 'openstack_dashboard/static/dashboards/img/floatingip-gray.svg', 'openstack_dashboard/static/dashboards/img/policy-gray.gif', 'openstack_dashboard/static/dashboards/img/action_required.png', 'openstack_dashboard/static/dashboards/img/vpn.gif', 'openstack_dashboard/static/dashboards/img/config-gray.gif', 'openstack_dashboard/static/dashboards/img/network-gray.svg', 'openstack_dashboard/static/dashboards/img/securitygroup-green.svg', 'openstack_dashboard/static/dashboards/img/server-red.svg', 'openstack_dashboard/static/dashboards/img/floatingip-gray.gif', 'openstack_dashboard/static/dashboards/img/stack-red.svg', 'openstack_dashboard/static/core/openstack-service-api/glance.service.spec.js', 'openstack_dashboard/static/dashboards/project/launch-instance/source/source.js', 'openstack_dashboard/static/dashboards/project/launch-instance/source/source.spec.js', 'openstack_dashboard/static/core/cloud-services/cloud-services.module.js', 'openstack_dashboard/static/dashboards/img/logo-splash.png', 'openstack_dashboard/static/dashboards/img/keypair-gray.gif', 'openstack_dashboard/static/dashboards/img/spinner.gif', 'openstack_dashboard/static/dashboards/img/policy-red.svg', 'openstack_dashboard/static/dashboards/img/unknown-green.svg', 'openstack_dashboard/static/dashboards/project/launch-instance/keypair/keypair-details.html', 'openstack_dashboard/static/dashboards/img/keypair-green.svg', 'openstack_dashboard/static/dashboards/img/router-gray.svg', 'openstack_dashboard/static/dashboards/img/volume-gray.gif', 'openstack_dashboard/static/core/openstack-service-api/settings.service.spec.js', 'openstack_dashboard/static/dashboards/img/flavor-gray.svg', 'openstack_dashboard/static/dashboards/img/port-gray.svg', 'openstack_dashboard/static/dashboards/img/loading.gif', 'openstack_dashboard/static/dashboards/scss/components/_charts.scss', 'openstack_dashboard/static/dashboards/img/config-green.svg', 'openstack_dashboard/static/dashboards/img/server-green.svg', 'openstack_dashboard/static/dashboards/project/launch-instance/keypair/create-keypair.html', 'openstack_dashboard/static/dashboards/img/lb-gray.svg', 'openstack_dashboard/static/dashboards/img/db-red.svg', 'openstack_dashboard/static/dashboards/img/router-green.svg', 'openstack_dashboard/static/dashboards/img/drop_arrow.png', 'openstack_dashboard/static/core/openstack-service-api/keystone.service.spec.js', 'openstack_dashboard/static/dashboards/img/db-gray.gif', 'openstack_dashboard/static/dashboards/img/firewall-gray.svg', 'openstack_dashboard/static/dashboards/img/floatingip-red.svg', 'openstack_dashboard/static/dashboards/project/launch-instance/flavor/select-flavor-table.html', 'openstack_dashboard/static/dashboards/scss/_splash.scss', 'openstack_dashboard/static/dashboard/dashboard.scss', 'openstack_dashboard/static/dashboards/scss/components/_topbar.scss', 'openstack_dashboard/static/dashboards/fonts/Anivers_Regular-webfont.ttf', 'openstack_dashboard/static/dashboards/scss/horizon.scss', 'openstack_dashboard/static/dashboard/project/project.module.js', 'openstack_dashboard/static/dashboards/img/server-gray.svg', 'openstack_dashboard/static/dashboards/project/launch-instance/configuration/configuration.help.html', 'openstack_dashboard/static/dashboards/project/launch-instance/flavor/flavor.spec.js', 'openstack_dashboard/static/dashboards/img/vpn-gray.svg', 'openstack_dashboard/static/dashboards/project/launch-instance/launch-instance.model.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/0fed57e0eadaa7fbd1db4c4c32e88ba5d4c4f5a9', 'message': ""Extending Horizon's plug-in mechanism to scss\n\nCurrently in Horizon's application part - openstack_dashboard,  scss\nfiles are integrated to the app using dashboard.scss as the integration\npoint and scss files for each enabled dashboard are imported into it\nby using hard-coded approach. This approach has some issues:\n\n- style for disabled dashboard will still be included in the app, unless\n  changing the source code during deployment.\n- developer has to manually maintain the integration list or tree\n\nThis patch extends Horizon's plug-in mechanism to scss, so to solve the\nabove issue. This extended plug-in mechanism is based on a simple\nnaming convention, just like it does with JavaScript files, HTML files\nand Python files.  The naming convention is:\n\n- For each dashboard, `project` for example, there should be a directory\n  defined for it: openstack_dashoboard/static/dashboard/project/.\n- And there should be a `project.scss` defined for it.\n\nThat's it.\n\nChange-Id: I3d98e7b52583f35c66f1abe9445ec0783c3c2fb8\nPartially-Implements: blueprint plugin-scss\n""}]",6,192500,0fed57e0eadaa7fbd1db4c4c32e88ba5d4c4f5a9,11,3,4,13805,,,0,"Extending Horizon's plug-in mechanism to scss

Currently in Horizon's application part - openstack_dashboard,  scss
files are integrated to the app using dashboard.scss as the integration
point and scss files for each enabled dashboard are imported into it
by using hard-coded approach. This approach has some issues:

- style for disabled dashboard will still be included in the app, unless
  changing the source code during deployment.
- developer has to manually maintain the integration list or tree

This patch extends Horizon's plug-in mechanism to scss, so to solve the
above issue. This extended plug-in mechanism is based on a simple
naming convention, just like it does with JavaScript files, HTML files
and Python files.  The naming convention is:

- For each dashboard, `project` for example, there should be a directory
  defined for it: openstack_dashoboard/static/dashboard/project/.
- And there should be a `project.scss` defined for it.

That's it.

Change-Id: I3d98e7b52583f35c66f1abe9445ec0783c3c2fb8
Partially-Implements: blueprint plugin-scss
",git fetch https://review.opendev.org/openstack/horizon refs/changes/00/192500/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/static/dashboard/identity/identity.scss', 'openstack_dashboard/static/dashboard/core/core.scss', 'openstack_dashboard/utils/settings.py', 'openstack_dashboard/static/dashboard/dashboard.scss', 'openstack_dashboard/static/dashboard/project/project.scss', 'openstack_dashboard/settings.py', 'openstack_dashboard/static/dashboard/settings/settings.scss', 'openstack_dashboard/templates/_stylesheets.html', 'openstack_dashboard/static/dashboard/admin/admin.scss']",9,c97c92a754a1e32179ab2e28d26bc180b782604c,coreModule,"// Custom Theme Variables @import ""/custom/variables""; @import ""/dashboard/scss/variables""; // Custom Style Variables @import ""/custom/styles""; ",,45,10
openstack%2Fhorizon~master~Id3d6abbf436dc18559acac7ceef9a1102ebad7c2,openstack/horizon,master,Id3d6abbf436dc18559acac7ceef9a1102ebad7c2,Experimental - Apply auto-file-discovery to _10_project,ABANDONED,2015-06-10 06:31:54.000000000,2015-06-30 22:36:07.000000000,,"[{'_account_id': 3}, {'_account_id': 9576}, {'_account_id': 10881}, {'_account_id': 14307}]","[{'number': 1, 'created': '2015-06-10 06:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/dfb418b579783dfb8831c13830ef26e17756c111', 'message': 'Apply auto-file-discovery to _10_project\n\nThis patch applies auto-file-discovery utilities to openstack_dashboard `project` enabled dashboard.\n\nChange-Id: Id3d6abbf436dc18559acac7ceef9a1102ebad7c2\nPartially-Implements: blueprint auto-js-file-finding\n'}, {'number': 2, 'created': '2015-06-10 06:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/912bd044b17623070bf17b4de1cd77ef8b878ac1', 'message': 'Apply auto-file-discovery to _10_project\n\nThis patch applies auto-file-discovery utilities to\nopenstack_dashboard `project` enabled dashboard.\n\nChange-Id: Id3d6abbf436dc18559acac7ceef9a1102ebad7c2\nPartially-Implements: blueprint auto-js-file-finding\n'}, {'number': 3, 'created': '2015-06-10 06:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e00caf77c9f39913144b1af3aec0051dafc67dc2', 'message': 'Apply auto-file-discovery to _10_project\n\nThis patch applies auto-file-discovery utilities to\nopenstack_dashboard `project` enabled dashboard.\n\nChange-Id: Id3d6abbf436dc18559acac7ceef9a1102ebad7c2\nPartially-Implements: blueprint auto-js-file-finding\n'}, {'number': 4, 'created': '2015-06-11 22:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0c2093522c5f7f375b985a1e1cdfa88c792fd636', 'message': 'Apply auto-file-discovery to _10_project\n\nThis patch applies auto-file-discovery utilities to\nopenstack_dashboard `project` enabled dashboard.\n\nChange-Id: Id3d6abbf436dc18559acac7ceef9a1102ebad7c2\nPartially-Implements: blueprint auto-js-file-finding\n'}, {'number': 5, 'created': '2015-06-12 02:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f1900aa2686f9a1c10f3e5668d04ec9415fbc3a7', 'message': 'Apply auto-file-discovery to _10_project\n\nThis patch applies auto-file-discovery utilities to\nopenstack_dashboard `project` enabled dashboard.\n\nChange-Id: Id3d6abbf436dc18559acac7ceef9a1102ebad7c2\nPartially-Implements: blueprint auto-js-file-finding\n'}, {'number': 6, 'created': '2015-06-12 18:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8ddda8d73700330087735e6184c560ae2ee4e5bd', 'message': 'Apply auto-file-discovery to _10_project\n\nThis patch applies auto-file-discovery utilities to\nopenstack_dashboard `project` enabled dashboard.\n\nChange-Id: Id3d6abbf436dc18559acac7ceef9a1102ebad7c2\nPartially-Implements: blueprint auto-js-file-finding\n'}, {'number': 7, 'created': '2015-06-16 07:29:22.000000000', 'files': ['openstack_dashboard/enabled/_10_project.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/9ea821f10d02d93c56c8f540dfd78ca5376c8ac4', 'message': 'Experimental - Apply auto-file-discovery to _10_project\n\nThis patch applies auto-file-discovery utilities to\nopenstack_dashboard `project` enabled dashboard.\n\nChange-Id: Id3d6abbf436dc18559acac7ceef9a1102ebad7c2\nPartially-Implements: blueprint auto-js-file-finding\n'}]",0,190038,9ea821f10d02d93c56c8f540dfd78ca5376c8ac4,18,4,7,13805,,,0,"Experimental - Apply auto-file-discovery to _10_project

This patch applies auto-file-discovery utilities to
openstack_dashboard `project` enabled dashboard.

Change-Id: Id3d6abbf436dc18559acac7ceef9a1102ebad7c2
Partially-Implements: blueprint auto-js-file-finding
",git fetch https://review.opendev.org/openstack/horizon refs/changes/38/190038/4 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/enabled/_10_project.py'],1,dfb418b579783dfb8831c13830ef26e17756c111,bp/auto-js-file-finding,"from horizon.utils import file_discovery sources, mocks, specs, templates = file_discovery.discover_static_files( 'openstack_dashboard/static/', 'dashboard') ADD_JS_FILES = sources ADD_JS_SPEC_FILES = mocks + specs","LAUNCH_INST = 'dashboard/launch-instance/' ADD_JS_FILES = [ 'dashboard/dashboard.module.js', 'dashboard/workflow/workflow.js', 'dashboard/cloud-services/cloud-services.js', LAUNCH_INST + 'launch-instance.js', LAUNCH_INST + 'launch-instance.model.js', LAUNCH_INST + 'source/source.js', LAUNCH_INST + 'flavor/flavor.js', LAUNCH_INST + 'flavor/select-flavor-table.js', LAUNCH_INST + 'network/network.js', LAUNCH_INST + 'security-groups/security-groups.js', LAUNCH_INST + 'keypair/keypair.js', LAUNCH_INST + 'configuration/configuration.js', LAUNCH_INST + 'configuration/load-edit.js', 'dashboard/tech-debt/tech-debt.module.js', 'dashboard/tech-debt/image-form-controller.js', ] ADD_JS_SPEC_FILES = [ 'dashboard/dashboard.module.spec.js', 'dashboard/workflow/workflow.spec.js', 'dashboard/cloud-services/cloud-services.spec.js', LAUNCH_INST + 'launch-instance.spec.js', LAUNCH_INST + 'launch-instance.model.spec.js', LAUNCH_INST + 'source/source.spec.js', LAUNCH_INST + 'flavor/flavor.spec.js', LAUNCH_INST + 'network/network.spec.js', LAUNCH_INST + 'security-groups/security-groups.spec.js', LAUNCH_INST + 'keypair/keypair.spec.js', LAUNCH_INST + 'configuration/configuration.spec.js', ]",7,33
openstack%2Fhorizon~master~I21db9894a27efc10f39e3c62e8dec0a7e11cb661,openstack/horizon,master,I21db9894a27efc10f39e3c62e8dec0a7e11cb661,Experimental - will be retired probably.,ABANDONED,2015-06-10 01:54:04.000000000,2015-06-30 22:35:47.000000000,,"[{'_account_id': 3}, {'_account_id': 9576}, {'_account_id': 13805}, {'_account_id': 14307}]","[{'number': 1, 'created': '2015-06-10 01:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7e4591bd3264ff8f54a5a9a956006274edd92e7a', 'message': 'auto-file-discovery - apply to jasmine runner\n\nThis patch apply the auto-file-discovery utilities to jasmine runner.\n\n- Rename dashboard-app.module.js to dashboard-app.module.root.js so\n  it can be treated as the root module.\n- Rename charts.js to charts.module.js so it is treated as a module\n  file. The same for metadata-tree.js tp metadata-tree.module.js and\n  table.js to table.module.js\n\nThe Jasmine runner work correctly with the automatically discovered\nJS files and html templates.\n\nChange-Id: I21db9894a27efc10f39e3c62e8dec0a7e11cb661\nPartially-Implements: blueprint auto-js-file-finding\n'}, {'number': 2, 'created': '2015-06-10 02:00:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/188e70efd3b9ed138050ee85b3667e694c76a668', 'message': 'auto-file-discovery - apply to jasmine runner\n\nThis patch apply the auto-file-discovery utilities to jasmine runner.\n\n- Rename dashboard-app.module.js to dashboard-app.module.root.js so\n  it can be treated as the root module.\n- Rename charts.js to charts.module.js so it is treated as a module\n  file. The same for metadata-tree.js tp metadata-tree.module.js and\n  table.js to table.module.js\n\nThe Jasmine runner work correctly with the automatically discovered\nJS files and html templates.\n\nChange-Id: I21db9894a27efc10f39e3c62e8dec0a7e11cb661\nPartially-Implements: blueprint auto-js-file-finding\n'}, {'number': 3, 'created': '2015-06-10 03:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/89b6708962df50c786d6f0cb7afd165aca562371', 'message': 'auto-file-discovery - apply to jasmine runner\n\nThis patch apply the auto-file-discovery utilities to jasmine runner.\n\n- Rename dashboard-app.module.js to dashboard-app.module.root.js so\n  it can be treated as the root module.\n- Rename charts.js to charts.module.js so it is treated as a module\n  file. The same for metadata-tree.js tp metadata-tree.module.js and\n  table.js to table.module.js\n\nThe Jasmine runner work correctly with the automatically discovered\nJS files and html templates.\n\nChange-Id: I21db9894a27efc10f39e3c62e8dec0a7e11cb661\nPartially-Implements: blueprint auto-js-file-finding\n'}, {'number': 4, 'created': '2015-06-10 04:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/313c08be36c51a9b1b2ab16401696a398561bfe2', 'message': 'auto-file-discovery - apply to jasmine runner\n\nThis patch apply the auto-file-discovery utilities to jasmine runner.\n\n- Rename dashboard-app.module.js to dashboard-app.module.root.js so\n  it can be treated as the root module.\n- Rename charts.js to charts.module.js so it is treated as a module\n  file. The same for metadata-tree.js tp metadata-tree.module.js and\n  table.js to table.module.js\n\nThe Jasmine runner work correctly with the automatically discovered\nJS files and html templates.\n\nChange-Id: I21db9894a27efc10f39e3c62e8dec0a7e11cb661\nPartially-Implements: blueprint auto-js-file-finding\n'}, {'number': 5, 'created': '2015-06-10 05:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/478e9aef21f5b72715ce7740a33523331b63a11f', 'message': 'auto-file-discovery - apply to jasmine runner\n\nThis patch apply the auto-file-discovery utilities to jasmine runner.\n\n- Rename dashboard-app.module.js to dashboard-app.module.root.js so\n  it can be treated as the root module.\n- Rename charts.js to charts.module.js so it is treated as a module\n  file. The same for metadata-tree.js tp metadata-tree.module.js and\n  table.js to table.module.js\n\nThe Jasmine runner work correctly with the automatically discovered\nJS files and html templates.\n\nChange-Id: I21db9894a27efc10f39e3c62e8dec0a7e11cb661\nPartially-Implements: blueprint auto-js-file-finding\n'}, {'number': 6, 'created': '2015-06-10 05:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/cdcdc75ba0834dfb307e7e03fada03cb4d90ee91', 'message': 'auto-file-discovery - apply to jasmine runner\n\nThis patch apply the auto-file-discovery utilities to jasmine runner.\n\n- Rename dashboard-app.module.js to dashboard-app.module.root.js so\n  it can be treated as the root module.\n- Rename charts.js to charts.module.js so it is treated as a module\n  file. The same for metadata-tree.js tp metadata-tree.module.js and\n  table.js to table.module.js\n\nThe Jasmine runner work correctly with the automatically discovered\nJS files and html templates.\n\nChange-Id: I21db9894a27efc10f39e3c62e8dec0a7e11cb661\nPartially-Implements: blueprint auto-js-file-finding\n'}, {'number': 7, 'created': '2015-06-10 05:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7f2153ec46e85350bf017d777a866e9f039bc246', 'message': 'auto-file-discovery - apply to jasmine runner\n\nThis patch apply the auto-file-discovery utilities to jasmine\nrunner.  The Jasmine runner works correctly with the\nautomatically discovered JS files and html templates.\n\nChange-Id: I21db9894a27efc10f39e3c62e8dec0a7e11cb661\nPartially-Implements: blueprint auto-js-file-finding\n'}, {'number': 8, 'created': '2015-06-10 06:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/16362a6e66368ad04daf1a58b03465b5a0622571', 'message': 'auto-file-discovery - apply to jasmine runner\n\nThis patch apply the auto-file-discovery utilities to jasmine\nrunner.  The Jasmine runner works correctly with the\nautomatically discovered JS files and html templates.\n\nChange-Id: I21db9894a27efc10f39e3c62e8dec0a7e11cb661\nPartially-Implements: blueprint auto-js-file-finding\n'}, {'number': 9, 'created': '2015-06-10 06:11:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/dd4c36aa3172a6b5da125b1edd6a04f56022529e', 'message': 'auto-file-discovery - apply to jasmine runner\n\nThis patch applies auto-file-discovery utilities to jasmine\nrunner.  The Jasmine runner works correctly with the\nautomatically discovered JS files and html templates.\n\nChange-Id: I21db9894a27efc10f39e3c62e8dec0a7e11cb661\nPartially-Implements: blueprint auto-js-file-finding\n'}, {'number': 10, 'created': '2015-06-10 06:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5fb16e6bb6361e24a5dc60cf10fa1ea9db2f5445', 'message': 'auto-file-discovery - apply to jasmine runner\n\nThis patch applies auto-file-discovery utilities to jasmine\nrunner.  The Jasmine runner works correctly with the\nautomatically discovered JS files and html templates.\n\nChange-Id: I21db9894a27efc10f39e3c62e8dec0a7e11cb661\nPartially-Implements: blueprint auto-js-file-finding\n'}, {'number': 11, 'created': '2015-06-11 21:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/06da82fb12fab3605a020af1c776eeaa6af477aa', 'message': 'auto-file-discovery - apply to jasmine runner\n\nThis patch applies auto-file-discovery utilities to jasmine\nrunner.  The Jasmine runner works correctly with the\nautomatically discovered JS files and html templates.\n\nChange-Id: I21db9894a27efc10f39e3c62e8dec0a7e11cb661\nPartially-Implements: blueprint auto-js-file-finding\n'}, {'number': 12, 'created': '2015-06-12 02:46:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9c3ba0ba4e935302c593c53af63ed39cf6264860', 'message': 'auto-file-discovery - apply to jasmine runner\n\nThis patch applies auto-file-discovery utilities to jasmine\nrunner.  The Jasmine runner works correctly with the\nautomatically discovered JS files and html templates.\n\nChange-Id: I21db9894a27efc10f39e3c62e8dec0a7e11cb661\nPartially-Implements: blueprint auto-js-file-finding\n'}, {'number': 13, 'created': '2015-06-12 18:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4ebcca9444ae784bb84893535089c5376809cf85', 'message': 'auto-file-discovery - apply to jasmine runner\n\nThis patch applies auto-file-discovery utilities to jasmine\nrunner.  The Jasmine runner works correctly with the\nautomatically discovered JS files and html templates.\n\nChange-Id: I21db9894a27efc10f39e3c62e8dec0a7e11cb661\nPartially-Implements: blueprint auto-js-file-finding\n'}, {'number': 14, 'created': '2015-06-16 07:27:09.000000000', 'files': ['horizon/test/jasmine/jasmine_tests.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/34d9111adcf66793a824db091e6cb00c86de0b2e', 'message': 'Experimental - will be retired probably.\n\nauto-file-discovery - apply to jasmine runner\n\nThis patch applies auto-file-discovery utilities to jasmine\nrunner.  The Jasmine runner works correctly with the\nautomatically discovered JS files and html templates.\n\nChange-Id: I21db9894a27efc10f39e3c62e8dec0a7e11cb661\nPartially-Implements: blueprint auto-js-file-finding\n'}]",2,189997,34d9111adcf66793a824db091e6cb00c86de0b2e,30,4,14,13805,,,0,"Experimental - will be retired probably.

auto-file-discovery - apply to jasmine runner

This patch applies auto-file-discovery utilities to jasmine
runner.  The Jasmine runner works correctly with the
automatically discovered JS files and html templates.

Change-Id: I21db9894a27efc10f39e3c62e8dec0a7e11cb661
Partially-Implements: blueprint auto-js-file-finding
",git fetch https://review.opendev.org/openstack/horizon refs/changes/97/189997/11 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/static/framework/widgets/charts/charts.module.js', 'horizon/static/dashboard-app/dashboard-app.module.root.js', 'horizon/test/jasmine/jasmine_tests.py', 'horizon/static/framework/widgets/table/table.module.js', 'horizon/templates/horizon/jasmine/jasmine.html', 'horizon/static/framework/widgets/metadata-tree/metadata-tree.module.js']",6,7e4591bd3264ff8f54a5a9a956006274edd92e7a,bp/auto-js-file-finding,,,16,120
openstack%2Fhorizon~master~Ia1f864ef94ca7886d1b5f118a22bc3476ad984b4,openstack/horizon,master,Ia1f864ef94ca7886d1b5f118a22bc3476ad984b4,Adding contrib directory for plugins,MERGED,2015-05-29 21:17:09.000000000,2015-06-30 22:35:40.000000000,2015-06-30 22:35:38.000000000,"[{'_account_id': 3}, {'_account_id': 5623}, {'_account_id': 6620}, {'_account_id': 9576}, {'_account_id': 9622}]","[{'number': 1, 'created': '2015-05-29 21:17:09.000000000', 'files': ['openstack_dashboard/contrib/__init__.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/13c0da2ac5970bb13999941e4f77c028e1f846a2', 'message': 'Adding contrib directory for plugins\n\nPartial blueprint: plugin-sanity\n\nChange-Id: Ia1f864ef94ca7886d1b5f118a22bc3476ad984b4\n'}]",0,186916,13c0da2ac5970bb13999941e4f77c028e1f846a2,9,5,1,5623,,,0,"Adding contrib directory for plugins

Partial blueprint: plugin-sanity

Change-Id: Ia1f864ef94ca7886d1b5f118a22bc3476ad984b4
",git fetch https://review.opendev.org/openstack/horizon refs/changes/16/186916/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/contrib/__init__.py'],1,13c0da2ac5970bb13999941e4f77c028e1f846a2,bp/plugin-sanity,,,0,0
openstack%2Fheat~master~Ic7dc96acd6e0f27ded982390d2490202340ecc8e,openstack/heat,master,Ic7dc96acd6e0f27ded982390d2490202340ecc8e,Remove default of port_security_enabled,MERGED,2015-06-29 15:54:54.000000000,2015-06-30 22:35:29.000000000,2015-06-30 22:35:27.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 7256}, {'_account_id': 7385}, {'_account_id': 8289}, {'_account_id': 8833}, {'_account_id': 9542}, {'_account_id': 13009}, {'_account_id': 13720}, {'_account_id': 14676}]","[{'number': 1, 'created': '2015-06-29 15:54:54.000000000', 'files': ['heat/engine/resources/openstack/neutron/net.py', 'heat/engine/resources/openstack/neutron/port.py', 'heat/tests/neutron/test_neutron_floating_ip.py', 'heat/tests/neutron/test_neutron.py', 'heat/tests/neutron/test_neutron_port.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/e2a64923c5b9e7dbb8933e398041c98058f560f7', 'message': ""Remove default of port_security_enabled\n\nHaving a default for a value which is not supported everywhere can cause\nissues. Let's remove it.\n\nChange-Id: Ic7dc96acd6e0f27ded982390d2490202340ecc8e\n""}]",0,196717,e2a64923c5b9e7dbb8933e398041c98058f560f7,20,10,1,7385,,,0,"Remove default of port_security_enabled

Having a default for a value which is not supported everywhere can cause
issues. Let's remove it.

Change-Id: Ic7dc96acd6e0f27ded982390d2490202340ecc8e
",git fetch https://review.opendev.org/openstack/heat refs/changes/17/196717/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/openstack/neutron/net.py', 'heat/engine/resources/openstack/neutron/port.py', 'heat/tests/neutron/test_neutron_floating_ip.py', 'heat/tests/neutron/test_neutron.py', 'heat/tests/neutron/test_neutron_port.py']",5,e2a64923c5b9e7dbb8933e398041c98058f560f7,default-port-security,," 'port_security_enabled': True, 'port_security_enabled': True, 'port_security_enabled': True, 'port_security_enabled': True, 'port_security_enabled': True, 'port_security_enabled': True, 'port_security_enabled': True, 'port_security_enabled': True, 'port_security_enabled': True, 'port_security_enabled': True, 'port_security_enabled': True, 'port_security_enabled': True,",0,19
openstack%2Frequirements~master~Ica2d61a6807721c5e715a2130bd25e719acc9b03,openstack/requirements,master,Ica2d61a6807721c5e715a2130bd25e719acc9b03,Bump tempest-lib version,MERGED,2015-06-24 06:08:28.000000000,2015-06-30 22:35:25.000000000,2015-06-30 22:35:23.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 2750}, {'_account_id': 5196}, {'_account_id': 5263}, {'_account_id': 6732}, {'_account_id': 8556}]","[{'number': 1, 'created': '2015-06-24 06:08:28.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/aa8da940564da81e77ce230a9fd0eca0dd6cdf15', 'message': 'Bump tempest-lib version\n\nThe release 0.6.0 of tempest-lib contains backwards incompatible\nchange, and Tempest gate jobs continuously failed.\nThe Tempest gate problem has been solved with some workaround, but\ntempest-lib is a library. So we need to avoid the same problem on\nthe other project gates.\nThe release 0.6.1 has been released now for avoiding backwards\nincompatible change, this patch changes tempest-lib version for\nusing the latest release.\n\nChange-Id: Ica2d61a6807721c5e715a2130bd25e719acc9b03\nRelated-Bug: #1468149\n'}]",0,194951,aa8da940564da81e77ce230a9fd0eca0dd6cdf15,10,7,1,6167,,,0,"Bump tempest-lib version

The release 0.6.0 of tempest-lib contains backwards incompatible
change, and Tempest gate jobs continuously failed.
The Tempest gate problem has been solved with some workaround, but
tempest-lib is a library. So we need to avoid the same problem on
the other project gates.
The release 0.6.1 has been released now for avoiding backwards
incompatible change, this patch changes tempest-lib version for
using the latest release.

Change-Id: Ica2d61a6807721c5e715a2130bd25e719acc9b03
Related-Bug: #1468149
",git fetch https://review.opendev.org/openstack/requirements refs/changes/51/194951/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,aa8da940564da81e77ce230a9fd0eca0dd6cdf15,bug/1468149,tempest-lib>=0.6.1,tempest-lib>=0.5.0,1,1
openstack%2Fha-guide~master~I968448a87e245ca6a6323692cd61cc4fc488c055,openstack/ha-guide,master,I968448a87e245ca6a6323692cd61cc4fc488c055,RabbitMQ Message broker XML to RST refactoring,ABANDONED,2015-06-27 10:37:05.000000000,2015-06-30 22:34:03.000000000,,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 10014}]","[{'number': 1, 'created': '2015-06-27 10:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ha-guide/commit/d734aa47a0c14753ddec7cb149329647f58820b8', 'message': 'RabbitMQ Message broker XML to RST refactoring\n\nConvert of old XML based HA using active/active -> Chapter 7. RabbitMQ\nto new RST format. Very little changes made and no new content, this\nwill come soon.\n\nChange-Id: I968448a87e245ca6a6323692cd61cc4fc488c055\n'}, {'number': 2, 'created': '2015-06-27 12:17:30.000000000', 'files': ['doc/ha-guide/source/amqp-rabbitmq.rst', 'doc/ha-guide/source/install-ha-amqp.rst', 'doc/ha-guide/source/install-ha.rst'], 'web_link': 'https://opendev.org/openstack/ha-guide/commit/37f849dd0f7727be012fdb848b4d184f9bb8273b', 'message': 'RabbitMQ Message broker XML to RST refactoring\n\nConvert of old XML based HA using active/active -> Chapter 7. RabbitMQ\nto new RST format. Very little changes made and no new content, this\nwill come soon.\n\nChange-Id: I968448a87e245ca6a6323692cd61cc4fc488c055\n'}]",0,196370,37f849dd0f7727be012fdb848b4d184f9bb8273b,6,3,2,11444,,,0,"RabbitMQ Message broker XML to RST refactoring

Convert of old XML based HA using active/active -> Chapter 7. RabbitMQ
to new RST format. Very little changes made and no new content, this
will come soon.

Change-Id: I968448a87e245ca6a6323692cd61cc4fc488c055
",git fetch https://review.opendev.org/openstack/ha-guide refs/changes/70/196370/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/ha-guide/source/amqp-rabbitmq.rst', 'doc/ha-guide/source/install-ha-amqp.rst', 'doc/ha-guide/source/install-ha.rst']",3,d734aa47a0c14753ddec7cb149329647f58820b8,update/amqp00, install-ha-amqp.rst,,147,0
openstack%2Fopenstacksdk~master~I1fd29968435f8b13a674c5cc34073d1db6eb3946,openstack/openstacksdk,master,I1fd29968435f8b13a674c5cc34073d1db6eb3946,Have resource find use get if possible,MERGED,2015-06-29 19:52:57.000000000,2015-06-30 22:24:25.000000000,2015-06-30 22:24:23.000000000,"[{'_account_id': 3}, {'_account_id': 8246}, {'_account_id': 8257}, {'_account_id': 8736}]","[{'number': 1, 'created': '2015-06-29 19:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b0bafc3d954d9a5244082006b5a4641ad7d2d76c', 'message': 'Have resource find use get if possible\n\nChange-Id: I1fd29968435f8b13a674c5cc34073d1db6eb3946\n'}, {'number': 2, 'created': '2015-06-30 20:13:52.000000000', 'files': ['openstack/tests/unit/test_resource.py', 'openstack/resource.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e524de1af4e92ef42ff4dd5abfb24468f21ce8a0', 'message': 'Have resource find use get if possible\n\nChange-Id: I1fd29968435f8b13a674c5cc34073d1db6eb3946\n'}]",2,196830,e524de1af4e92ef42ff4dd5abfb24468f21ce8a0,12,4,2,8736,,,0,"Have resource find use get if possible

Change-Id: I1fd29968435f8b13a674c5cc34073d1db6eb3946
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/30/196830/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/test_resource.py', 'openstack/resource.py']",2,b0bafc3d954d9a5244082006b5a4641ad7d2d76c,findget," if cls.allow_retrieve: return cls.get_by_id(session, name_or_id, path_args=path_args) args = {cls.id_attribute: name_or_id} info = cls.page(session, limit=2, path_args=path_args, **args)"," args = { cls.id_attribute: name_or_id, 'path_args': path_args, } info = cls.page(session, limit=2, **args)",36,27
openstack%2Fhorizon~stable%2Fkilo~I9622ed1ba7444089fa1ee6d0c915b8d31c752af6,openstack/horizon,stable/kilo,I9622ed1ba7444089fa1ee6d0c915b8d31c752af6,"Skip test_{floatingip,image_register_unregister,create_delete_user} for now",MERGED,2015-06-25 16:09:41.000000000,2015-06-30 22:19:54.000000000,2015-06-30 22:19:50.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 1941}, {'_account_id': 4264}, {'_account_id': 5623}, {'_account_id': 6890}, {'_account_id': 8090}, {'_account_id': 9981}, {'_account_id': 10459}, {'_account_id': 12826}]","[{'number': 1, 'created': '2015-06-25 16:09:41.000000000', 'files': ['openstack_dashboard/test/integration_tests/tests/test_user_create_delete.py', 'openstack_dashboard/test/integration_tests/tests/test_sahara_image_registry.py', 'openstack_dashboard/test/integration_tests/tests/test_keypair.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/fcff73c4a050346abb718107d5389eaac2f344f7', 'message': 'Skip test_{floatingip,image_register_unregister,create_delete_user} for now\n\nThe tests are failing for different reasons (see the referenced bug),\nso skip them for now.\n\nThe patch has been changed:\n- test_floatingip does not exist in stable/kilo\n- test_image_register_unregister needs to be disabled as well for now;\n  it will be fixed with another backported patch, but this patch should\n  first fix the test results.\n\nChange-Id: I9622ed1ba7444089fa1ee6d0c915b8d31c752af6\nRelated-Bug: #1467950\n(cherry picked from commit b0c62463c74c9cd984ff123a7c2b303f4b231563)\n'}]",0,195657,fcff73c4a050346abb718107d5389eaac2f344f7,27,10,1,10459,,,0,"Skip test_{floatingip,image_register_unregister,create_delete_user} for now

The tests are failing for different reasons (see the referenced bug),
so skip them for now.

The patch has been changed:
- test_floatingip does not exist in stable/kilo
- test_image_register_unregister needs to be disabled as well for now;
  it will be fixed with another backported patch, but this patch should
  first fix the test results.

Change-Id: I9622ed1ba7444089fa1ee6d0c915b8d31c752af6
Related-Bug: #1467950
(cherry picked from commit b0c62463c74c9cd984ff123a7c2b303f4b231563)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/57/195657/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/test/integration_tests/tests/test_user_create_delete.py', 'openstack_dashboard/test/integration_tests/tests/test_sahara_image_registry.py', 'openstack_dashboard/test/integration_tests/tests/test_keypair.py']",3,fcff73c4a050346abb718107d5389eaac2f344f7,bug/1467950,"from openstack_dashboard.test.integration_tests.tests import decorators @decorators.skip_because(bugs=[""1467950""])", ,5,0
openstack%2Fopenstacksdk~master~I70cd568405a81057c4038359ce0ee55b777cc434,openstack/openstacksdk,master,I70cd568405a81057c4038359ce0ee55b777cc434,Updated from global requirements,MERGED,2015-06-30 20:05:09.000000000,2015-06-30 22:14:36.000000000,2015-06-30 22:14:33.000000000,"[{'_account_id': 3}, {'_account_id': 8257}, {'_account_id': 8736}, {'_account_id': 16272}]","[{'number': 1, 'created': '2015-06-30 20:05:09.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1c6cc3dfc6692e5aaa02501f913170b87eca19fb', 'message': 'Updated from global requirements\n\nChange-Id: I70cd568405a81057c4038359ce0ee55b777cc434\n'}]",0,197289,1c6cc3dfc6692e5aaa02501f913170b87eca19fb,8,4,1,11131,,,0,"Updated from global requirements

Change-Id: I70cd568405a81057c4038359ce0ee55b777cc434
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/89/197289/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,1c6cc3dfc6692e5aaa02501f913170b87eca19fb,openstack/requirements,fixtures>=1.3.1,fixtures>=0.3.14,1,1
openstack%2Fcinder~master~I71acc5082aacbfb66d422cec6636ba44ae2c8402,openstack/cinder,master,I71acc5082aacbfb66d422cec6636ba44ae2c8402,Ensure 'WSGIService' derives from oslo_service base class,MERGED,2015-06-25 00:57:28.000000000,2015-06-30 22:02:59.000000000,2015-06-25 05:13:17.000000000,"[{'_account_id': 3}, {'_account_id': 2759}, {'_account_id': 5997}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10115}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13144}, {'_account_id': 13394}, {'_account_id': 14650}, {'_account_id': 14797}, {'_account_id': 15249}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16160}, {'_account_id': 16269}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16897}]","[{'number': 1, 'created': '2015-06-25 00:57:28.000000000', 'files': ['cinder/service.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/dc9a8c8f5d369eb121053fcdc362648e219d968f', 'message': ""Ensure 'WSGIService' derives from oslo_service base class\n\nCurrently this code will fail due to an isinstance check in\noslo_service that ensures that the services launched are of\nthe right type.\n\nCloses-Bug: #1468559\n\nChange-Id: I71acc5082aacbfb66d422cec6636ba44ae2c8402\n""}]",0,195369,dc9a8c8f5d369eb121053fcdc362648e219d968f,34,28,1,1297,,,0,"Ensure 'WSGIService' derives from oslo_service base class

Currently this code will fail due to an isinstance check in
oslo_service that ensures that the services launched are of
the right type.

Closes-Bug: #1468559

Change-Id: I71acc5082aacbfb66d422cec6636ba44ae2c8402
",git fetch https://review.opendev.org/openstack/cinder refs/changes/69/195369/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/service.py'],1,dc9a8c8f5d369eb121053fcdc362648e219d968f,bug/1468559,class WSGIService(service.ServiceBase):,class WSGIService(object):,1,1
openstack%2Foctavia~master~I764f1677eea19f073352fd91cd451368b98aa4e7,openstack/octavia,master,I764f1677eea19f073352fd91cd451368b98aa4e7,Updated from global requirements,MERGED,2015-06-30 20:01:46.000000000,2015-06-30 21:52:10.000000000,2015-06-30 21:43:27.000000000,"[{'_account_id': 3}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 16272}, {'_account_id': 16923}]","[{'number': 1, 'created': '2015-06-30 20:01:46.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/octavia/commit/72000d7d86d8a3004201597b431b3dc9f10dce28', 'message': 'Updated from global requirements\n\nChange-Id: I764f1677eea19f073352fd91cd451368b98aa4e7\n'}]",0,197261,72000d7d86d8a3004201597b431b3dc9f10dce28,10,5,1,11131,,,0,"Updated from global requirements

Change-Id: I764f1677eea19f073352fd91cd451368b98aa4e7
",git fetch https://review.opendev.org/openstack/octavia refs/changes/61/197261/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,72000d7d86d8a3004201597b431b3dc9f10dce28,openstack/requirements,fixtures>=1.3.1,fixtures>=0.3.14,2,2
openstack%2Ffuel-specs~master~Icde8c44fbe2cf050565f4a7cbcb1fa19e1f23c55,openstack/fuel-specs,master,Icde8c44fbe2cf050565f4a7cbcb1fa19e1f23c55,blueprint detach-components-from-controllers,MERGED,2015-06-09 15:55:46.000000000,2015-06-30 21:48:34.000000000,2015-06-26 14:23:52.000000000,"[{'_account_id': 3}, {'_account_id': 6794}, {'_account_id': 6926}, {'_account_id': 7195}, {'_account_id': 8786}, {'_account_id': 8797}, {'_account_id': 9387}, {'_account_id': 10136}, {'_account_id': 11090}, {'_account_id': 12953}, {'_account_id': 13948}, {'_account_id': 14985}, {'_account_id': 15243}]","[{'number': 1, 'created': '2015-06-09 15:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/1e76ed9bcc90405e16f121e43b1724a70ce776eb', 'message': 'blueprint detach-components-from-controllers\n\nChange-Id: Icde8c44fbe2cf050565f4a7cbcb1fa19e1f23c55\n'}, {'number': 2, 'created': '2015-06-09 16:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/df0b25a0c9c12d97bd1554c995f08b2d0b620386', 'message': 'blueprint detach-components-from-controllers\n\nChange-Id: Icde8c44fbe2cf050565f4a7cbcb1fa19e1f23c55\n'}, {'number': 3, 'created': '2015-06-24 11:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/0457d5d9404c14aae44b9939b793c6690adf6f7b', 'message': 'blueprint detach-components-from-controllers\n\nChange-Id: Icde8c44fbe2cf050565f4a7cbcb1fa19e1f23c55\n'}, {'number': 4, 'created': '2015-06-25 09:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/ca93ba2f6ff5df57803fddc8aaaa926f128b52d2', 'message': 'blueprint detach-components-from-controllers\n\nChange-Id: Icde8c44fbe2cf050565f4a7cbcb1fa19e1f23c55\n'}, {'number': 5, 'created': '2015-06-25 11:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/ad6af412fd7f0044b747d696df489a98a52742e9', 'message': 'blueprint detach-components-from-controllers\n\nChange-Id: Icde8c44fbe2cf050565f4a7cbcb1fa19e1f23c55\n'}, {'number': 6, 'created': '2015-06-26 13:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/0a80e030da5686feda0a7cde4cc333b7bce9bb09', 'message': 'blueprint detach-components-from-controllers\n\nChange-Id: Icde8c44fbe2cf050565f4a7cbcb1fa19e1f23c55\n'}, {'number': 7, 'created': '2015-06-26 13:32:11.000000000', 'files': ['specs/7.0/separate-services.rst'], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/26bdbad1e5eacb3d528b06189c394f1512f9f1ea', 'message': 'blueprint detach-components-from-controllers\n\nChange-Id: Icde8c44fbe2cf050565f4a7cbcb1fa19e1f23c55\n'}]",29,189786,26bdbad1e5eacb3d528b06189c394f1512f9f1ea,41,13,7,7195,,,0,"blueprint detach-components-from-controllers

Change-Id: Icde8c44fbe2cf050565f4a7cbcb1fa19e1f23c55
",git fetch https://review.opendev.org/openstack/fuel-specs refs/changes/86/189786/7 && git format-patch -1 --stdout FETCH_HEAD,['specs/7.0/separate-services.rst'],1,1e76ed9bcc90405e16f121e43b1724a70ce776eb,bp/detach-components-from-controllers,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================ Separate Controller Services onto Separate Nodes ================================================ https://blueprints.launchpad.net/fuel/+spec/detach-components-from-controllers Some deployers require flexibility in locating services for a multitude of reasons. Some of these could be geographic, related to load balancing, or necessary for scale. Problem description =================== Currently all services are bundled into the controller (with a few exceptions). True granularity will allow a deployer to work around potential issues. Proposed change =============== Each controller service needs to be modified so that it can be detached from the controller role and deployed independently. This includes not only the supporting services in Fuel, such as Galera and RabbitMQ, but potentially all OpenStack services. For the scope of this spec, only Keystone and Horizon are covered. Corosync/Pacemaker/HAProxy may need to be fragmented if Galera+RabbitMQ are geographically separated from Neutron+Heat for HA management. This feature will modify existing tasks and their dependencies, but does not introduce new deployable roles. Those will only be possible through custom roles defined by a deployer, usually via a Fuel Plugin. Alternatives ------------ Complete independence of services should be the ultimate goal, but is likely out of scope for this feature. Additionally, full UI granularity to pick and choose controller sub-roles is not covered in this feature. Data model impact ----------------- This feature impacts the data model by redefining deployment tasks to unhardcode their reliance on the controller role. REST API impact --------------- None. Upgrade impact -------------- There is an upgrade impact with regards to custom roles for custom controller-like role definitions because roles are attached to an OS and particular OpenStack release. Security impact --------------- None. Notifications impact -------------------- None. Other end user impact --------------------- None. Performance Impact ------------------ None. Plugin impact ------------- This feature depends on enhancements in Fuel Plugin framework to support custom roles defined by a plugin. Plugins are required to enable custom controller deployment configurations. Other deployer impact --------------------- None Developer impact ---------------- None Infrastructure impact --------------------- A Jenkins job will be required to validate separation of controller tasks works. Without it, a developer could re-introduce hardcoded dependencies. Implementation ============== Assignee(s) ----------- Who is leading the writing of the code? Or is this a blueprint where you're throwing it out there to see who picks it up? If more than one person is working on the implementation, please designate the primary author and contact. Primary assignee: Matthew Moseoshn Other contributors: Aleksandr Didenko Stanislaw Bogatkin Alex Schultz Sergii Golovatiuk Work Items ---------- fuel-library: * Separate DB/RabbitMQ/Horizon/Keystone from Controller role dependency * Support separated Galera/RabbitMQ from Neutron/Heat nodes on Corosync/Pacemaker/HAProxy * Modify task flow to enable each service above to deploy separately fuel-plugin-builder: * Add support for custom roles * Add support for custom pre/post/uninstall scripts fuel-web: * Remove hardcoded requirement for minimum 1 controller Dependencies ============ * Roles from Fuel Plugins * Task-based deployment framework Testing ======= Testing will be unorthodox because of its deployer-driven customization focus. It will be necessary to define a custom role and task to represent each (or a group of) separated controller service(s). This will likely be in the form of a custom Fuel plugin for testing. This deployment schema will require new logic in fuel-qa to generate the role(s) and task(s) to deploy, then run the usual set of OSTF tests. Documentation Impact ==================== New notes in Fuel Developer docs will be necessary to show an example of how to create a plugin that creates a customized controller role. References ========== None ",,172,0
openstack%2Fnetworking-odl~master~If49dd45873935f7de6484086cce7c4c246a15414,openstack/networking-odl,master,If49dd45873935f7de6484086cce7c4c246a15414,devstack: Add devstackgaterc file,MERGED,2015-06-29 19:41:44.000000000,2015-06-30 21:46:56.000000000,2015-06-30 21:46:55.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 748}, {'_account_id': 6854}, {'_account_id': 11952}]","[{'number': 1, 'created': '2015-06-29 19:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/7aa99b56c672529cf86d430c954d37cb3e073560', 'message': 'devstack: Add devstackgaterc file\n\nAdd a devstackgaterc file to be used by our tempest CI job.  This\nwill let us tweak the regex used to select which tempest tests run by\nupdating this file instead of updating the job definition in the\nproject-config repo.\n\nChange-Id: If49dd45873935f7de6484086cce7c4c246a15414\nDepends-On: Ia7b1394ce223837abf64efe4c9b112c547584546\nSigned-off-by: Kyle Mestery <mestery@mestery.com>\n'}, {'number': 2, 'created': '2015-06-29 23:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/4f60d7934475f4c84f3f54266455478db3b0143d', 'message': 'devstack: Add devstackgaterc file\n\nAdd a devstackgaterc file to be used by our tempest CI job.  This\nwill let us tweak the regex used to select which tempest tests run by\nupdating this file instead of updating the job definition in the\nproject-config repo.\n\nChange-Id: If49dd45873935f7de6484086cce7c4c246a15414\nSigned-off-by: Kyle Mestery <mestery@mestery.com>\nCo-authored-by: Armando Migliaccio <armamig@gmail.com>\n'}, {'number': 3, 'created': '2015-06-29 23:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/061dcc27f035fccfcb841ecffaa5fac2572f2e0a', 'message': 'devstack: Add devstackgaterc file\n\nAdd a devstackgaterc file to be used by our tempest CI job.  This\nwill let us tweak the regex used to select which tempest tests run by\nupdating this file instead of updating the job definition in the\nproject-config repo.\n\nChange-Id: If49dd45873935f7de6484086cce7c4c246a15414\nSigned-off-by: Kyle Mestery <mestery@mestery.com>\nCo-authored-by: Armando Migliaccio <armamig@gmail.com>\n'}, {'number': 4, 'created': '2015-06-29 23:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/5551319d5ef82679fdbbcb08af1f80d5620b5627', 'message': 'devstack: Add devstackgaterc file\n\nAdd a devstackgaterc file to be used by our tempest CI job.  This\nwill let us tweak the tests/services used during the CI builds.\n\nChange-Id: If49dd45873935f7de6484086cce7c4c246a15414\nSigned-off-by: Kyle Mestery <mestery@mestery.com>\nCo-authored-by: Armando Migliaccio <armamig@gmail.com>\n'}, {'number': 5, 'created': '2015-06-30 00:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/94992a4c4d98f77c9f6e66e1815e91618879fd05', 'message': 'devstack: Add devstackgaterc file\n\nAdd a devstackgaterc file to be used by our tempest CI job.  This\nwill let us tweak the tests/services used during the CI builds.\n\nChange-Id: If49dd45873935f7de6484086cce7c4c246a15414\nSigned-off-by: Kyle Mestery <mestery@mestery.com>\nCo-authored-by: Armando Migliaccio <armamig@gmail.com>\n'}, {'number': 6, 'created': '2015-06-30 00:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/411142c8066ad16ea302a57bdb16b02afd1fc95a', 'message': 'devstack: Add devstackgaterc file\n\nAdd a devstackgaterc file to be used by our tempest CI job.  This\nwill let us tweak the tests/services used during the CI builds.\n\nChange-Id: If49dd45873935f7de6484086cce7c4c246a15414\nSigned-off-by: Kyle Mestery <mestery@mestery.com>\nCo-authored-by: Armando Migliaccio <armamig@gmail.com>\n'}, {'number': 7, 'created': '2015-06-30 03:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/a33928342e8ebc90c267eeeae9714e06354f4ded', 'message': 'devstack: Add devstackgaterc file\n\nAdd a devstackgaterc file to be used by our tempest CI job.  This\nwill let us tweak the tests/services used during the CI builds.\n\nChange-Id: If49dd45873935f7de6484086cce7c4c246a15414\nSigned-off-by: Kyle Mestery <mestery@mestery.com>\nCo-authored-by: Armando Migliaccio <armamig@gmail.com>\n'}, {'number': 8, 'created': '2015-06-30 04:03:32.000000000', 'files': ['devstack/devstackgaterc', 'devstack/post_test_hook.sh', 'devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/9cd28aabd4c8a7df94069303edb84fc18c9c9d76', 'message': 'devstack: Add devstackgaterc file\n\nAdd a devstackgaterc file to be used by our tempest CI job.  This\nwill let us tweak the tests/services used during the CI builds.\n\nChange-Id: If49dd45873935f7de6484086cce7c4c246a15414\nSigned-off-by: Kyle Mestery <mestery@mestery.com>\nCo-authored-by: Armando Migliaccio <armamig@gmail.com>\n'}]",1,196825,9cd28aabd4c8a7df94069303edb84fc18c9c9d76,23,5,8,105,,,0,"devstack: Add devstackgaterc file

Add a devstackgaterc file to be used by our tempest CI job.  This
will let us tweak the tests/services used during the CI builds.

Change-Id: If49dd45873935f7de6484086cce7c4c246a15414
Signed-off-by: Kyle Mestery <mestery@mestery.com>
Co-authored-by: Armando Migliaccio <armamig@gmail.com>
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/25/196825/3 && git format-patch -1 --stdout FETCH_HEAD,['devstack/devstackgaterc'],1,7aa99b56c672529cf86d430c954d37cb3e073560,devstackgaterc,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # This script is executed in the OpenStack CI job that runs DevStack + tempest. # You can find the CI job configuration here: # # http://git.openstack.org/cgit/openstack-infra/project-config/tree/jenkins/jobs/networking-odl.yaml # export OVERRIDE_ENABLED_SERVICES=q-svc,q-dhcp,q-meta,quantum,tempest,n-api,n-cond,n-cpu,n-crt,n-obj,n-sch,g-api,g-reg,mysql,rabbit,key,dstat # Begin list of exclusions. r=""^(?!.*"" # exclude the slow tag (part of the default for 'full') r=""$r(?:.*\[.*\bslow\b.*\])"" # exclude things that just aren't enabled: r=""$r|(?:tempest\.api\.network\.admin\.test_quotas\.QuotasTest\.test_lbaas_quotas.*)"" r=""$r|(?:tempest\.api\.network\.test_load_balancer.*)"" r=""$r|(?:tempest\.scenario\.test_load_balancer.*)"" r=""$r|(?:tempest\.api\.network\.admin\.test_load_balancer.*)"" r=""$r|(?:tempest\.api\.network\.admin\.test_lbaas.*)"" r=""$r|(?:tempest\.api\.network\.test_fwaas_extensions.*)"" r=""$r|(?:tempest\.api\.network\.test_vpnaas_extensions.*)"" r=""$r|(?:tempest\.api\.network\.test_metering_extensions.*)"" r=""$r|(?:tempest\.thirdparty\.boto\.test_s3.*)"" # exclude stuff we're less likely to break because i'm impatient r=""$r|(?:tempest\.api\.identity.*)"" r=""$r|(?:tempest\.api\.image.*)"" r=""$r|(?:tempest\.api\.volume.*)"" # Current list of failing tests that need to be triaged, have bugs filed, and # fixed as appropriate. # (none) # End list of exclusions. r=""$r)"" # only run tempest.api/scenario/thirdparty tests (part of the default for 'full') r=""$r(tempest\.(api|scenario|thirdparty)).*$"" export DEVSTACK_GATE_TEMPEST_REGEX=""$r"" ",,54,0
openstack%2Fswift~master~Ifb7264dc3269c2d88e5c678564a7dc308b519589,openstack/swift,master,Ifb7264dc3269c2d88e5c678564a7dc308b519589,only do ansync_pendings on object write,ABANDONED,2014-04-28 20:01:23.000000000,2015-06-30 21:41:11.000000000,,"[{'_account_id': 3}, {'_account_id': 330}, {'_account_id': 2622}, {'_account_id': 6198}]","[{'number': 1, 'created': '2014-04-28 20:01:23.000000000', 'files': ['swift/obj/server.py', 'test/unit/obj/test_server.py', 'etc/object-server.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/d135817c294326e01099391396d672c567275053', 'message': 'only do ansync_pendings on object write\n\nBy default, object writes will also attempt to update a container\nserver listing with the new object information. If the container\nserver update times out, the object server will queue the data for a\nlater async update. By setting only_async_container_updates to true,\nthe initial container update will be skipped, and all container\nupdates will be queued for async updates.\n\nChange-Id: Ifb7264dc3269c2d88e5c678564a7dc308b519589\n'}]",1,60074,d135817c294326e01099391396d672c567275053,10,4,1,330,,,0,"only do ansync_pendings on object write

By default, object writes will also attempt to update a container
server listing with the new object information. If the container
server update times out, the object server will queue the data for a
later async update. By setting only_async_container_updates to true,
the initial container update will be skipped, and all container
updates will be queued for async updates.

Change-Id: Ifb7264dc3269c2d88e5c678564a7dc308b519589
",git fetch https://review.opendev.org/openstack/swift refs/changes/74/60074/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/server.py', 'test/unit/obj/test_server.py', 'etc/object-server.conf-sample']",3,d135817c294326e01099391396d672c567275053,only_async,"# # By default, object writes will also attempt to update a container server # listing with the new object information. If the container server update # times out, the object server will queue the data for a later async update. # By setting only_async_container_updates to true, the initial container # update will be skipped, and all container updates will be queued for async # updates. # only_async_container_updates = off",,38,2
openstack%2Fkolla~master~I53fca0660451087f273fefc3c63e0d8cf1a2c096,openstack/kolla,master,I53fca0660451087f273fefc3c63e0d8cf1a2c096,Add initial config function and keystone support,MERGED,2015-06-17 08:12:22.000000000,2015-06-30 21:34:49.000000000,2015-06-30 21:34:49.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 2834}, {'_account_id': 10419}, {'_account_id': 10428}, {'_account_id': 14119}, {'_account_id': 16520}]","[{'number': 1, 'created': '2015-06-17 08:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3baf6dd697b10aee0f83702ca082fabfb6a337cd', 'message': ""WIP - DO NOT MERGE Add initial config function and keystone support\n\nAdd set_configs function that implements the flow from the proposed\nansible-multi spec. Move start.sh to config-inside.sh to preserve existing\nbehaviour.\n\nconfig-outside.sh copies the appropriate configs in from the bind'd\nlocation and sets permissions and ownership appropriately.\n\nPartially Implements: blueprint ansible-multi\n\nChange-Id: I53fca0660451087f273fefc3c63e0d8cf1a2c096\n""}, {'number': 2, 'created': '2015-06-17 08:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d7748277041d2b3eb924117c2ec270e77720b7ad', 'message': ""WIP - DO NOT MERGE Add initial config function and keystone support\n\nAdd set_configs function that implements the flow from the proposed\nansible-multi spec. Move start.sh to config-inside.sh to preserve existing\nbehaviour.\n\nconfig-outside.sh copies the appropriate configs in from the bind'd\nlocation and sets permissions and ownership appropriately.\n\nPartially Implements: blueprint ansible-multi\n\nChange-Id: I53fca0660451087f273fefc3c63e0d8cf1a2c096\n""}, {'number': 3, 'created': '2015-06-17 08:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/94e3e4a9f9a3782b981600a8988774c6e62a4aea', 'message': ""WIP - DO NOT MERGE Add initial config function and keystone support\n\nAdd set_configs function that implements the flow from the proposed\nansible-multi spec. Move start.sh to config-inside.sh to preserve existing\nbehaviour.\n\nconfig-outside.sh copies the appropriate configs in from the bind'd\nlocation and sets permissions and ownership appropriately.\n\nPartially Implements: blueprint ansible-multi\n\nChange-Id: I53fca0660451087f273fefc3c63e0d8cf1a2c096\n""}, {'number': 4, 'created': '2015-06-17 11:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7b8d61145343a73ff0c39f4cc39f7cb7ceba6799', 'message': ""WIP - DO NOT MERGE Add initial config function and keystone support\n\nAdd set_configs function that implements the flow from the proposed\nansible-multi spec. Move start.sh to config-inside.sh to preserve existing\nbehaviour.\n\nconfig-outside.sh copies the appropriate configs in from the bind'd\nlocation and sets permissions and ownership appropriately.\n\nPartially Implements: blueprint ansible-multi\n\nChange-Id: I53fca0660451087f273fefc3c63e0d8cf1a2c096\n""}, {'number': 5, 'created': '2015-06-18 11:08:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/892065ff50f9cb3e61ceb713cd89e36c53d71cba', 'message': ""WIP - DO NOT MERGE Add initial config function and keystone support\n\nAdd set_configs function that implements the flow from the proposed\nansible-multi spec. Move start.sh to config-inside.sh to preserve existing\nbehaviour.\n\nconfig-outside.sh copies the appropriate configs in from the bind'd\nlocation and sets permissions and ownership appropriately.\n\nPartially Implements: blueprint ansible-multi\n\nChange-Id: I53fca0660451087f273fefc3c63e0d8cf1a2c096\n""}, {'number': 6, 'created': '2015-06-20 08:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0df6b346ebb2151d3cac4e4d75d19c11b8b8e112', 'message': ""WIP - DO NOT MERGE Add initial config function and keystone support\n\nAdd set_configs function that implements the flow from the proposed\nansible-multi spec. Move start.sh to config-inside.sh to preserve existing\nbehaviour.\n\nconfig-outside.sh copies the appropriate configs in from the bind'd\nlocation and sets permissions and ownership appropriately.\n\nPartially Implements: blueprint ansible-multi\n\nChange-Id: I53fca0660451087f273fefc3c63e0d8cf1a2c096\n""}, {'number': 7, 'created': '2015-06-23 04:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/af31f8f012297b7046c075301c8f66bb8151106c', 'message': ""WIP - DO NOT MERGE Add initial config function and keystone support\n\nAdd set_configs function that implements the flow from the proposed\nansible-multi spec. Move start.sh to config-inside.sh to preserve existing\nbehaviour.\n\nconfig-outside.sh copies the appropriate configs in from the bind'd\nlocation and sets permissions and ownership appropriately.\n\nPartially Implements: blueprint ansible-multi\n\nChange-Id: I53fca0660451087f273fefc3c63e0d8cf1a2c096\n""}, {'number': 8, 'created': '2015-06-23 11:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4805933cb8e9223f2720546645afda209671a19d', 'message': ""WIP - DO NOT MERGE Add initial config function and keystone support\n\nAdd set_configs function that implements the flow from the proposed\nansible-multi spec. Move start.sh to config-inside.sh to preserve existing\nbehaviour.\n\nconfig-outside.sh copies the appropriate configs in from the bind'd\nlocation and sets permissions and ownership appropriately.\n\nPartially Implements: blueprint ansible-multi\n\nChange-Id: I53fca0660451087f273fefc3c63e0d8cf1a2c096\n""}, {'number': 9, 'created': '2015-06-24 14:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/cc3b9fb3defdc463c4dc63d052ab8ae7d881df3d', 'message': ""WIP - DO NOT MERGE Add initial config function and keystone support\n\nAdd set_configs function that implements the flow from the proposed\nansible-multi spec. Move start.sh to config-inside.sh to preserve existing\nbehaviour.\n\nconfig-outside.sh copies the appropriate configs in from the bind'd\nlocation and sets permissions and ownership appropriately.\n\nPartially Implements: blueprint ansible-multi\n\nChange-Id: I53fca0660451087f273fefc3c63e0d8cf1a2c096\n""}, {'number': 10, 'created': '2015-06-28 08:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/cce8be2f16e32c7519a355672995fff2307a241b', 'message': ""WIP - DO NOT MERGE Add initial config function and keystone support\n\nAdd set_configs function that implements the flow from the proposed\nansible-multi spec. Move start.sh to config-inside.sh to preserve existing\nbehaviour.\n\nconfig-outside.sh copies the appropriate configs in from the bind'd\nlocation and sets permissions and ownership appropriately.\n\nPartially Implements: blueprint ansible-multi\n\nChange-Id: I53fca0660451087f273fefc3c63e0d8cf1a2c096\n""}, {'number': 11, 'created': '2015-06-28 08:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/40821ae11096818670751f93ca56617818174d87', 'message': ""Add initial config function and keystone support\n\nAdd set_configs function that implements the flow from the proposed\nansible-multi spec. Move start.sh to config-inside.sh to preserve existing\nbehaviour.\n\nconfig-outside.sh copies the appropriate configs in from the bind'd\nlocation and sets permissions and ownership appropriately.\n\nPartially Implements: blueprint ansible-multi\n\nChange-Id: I53fca0660451087f273fefc3c63e0d8cf1a2c096\n""}, {'number': 12, 'created': '2015-06-28 10:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/503f1f2e9aad8f8c05677e32a0c47117eadae12f', 'message': ""Add initial config function and keystone support\n\nAdd set_configs function that implements the flow from the proposed\nansible-multi spec. Move start.sh to config-inside.sh to preserve existing\nbehaviour.\n\nconfig-outside.sh copies the appropriate configs in from the bind'd\nlocation and sets permissions and ownership appropriately.\n\nPartially Implements: blueprint ansible-multi\n\nChange-Id: I53fca0660451087f273fefc3c63e0d8cf1a2c096\n""}, {'number': 13, 'created': '2015-06-28 13:19:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ac65910e099019b08c843c1df11b46fe26c9c0e1', 'message': ""Add initial config function and keystone support\n\nAdd set_configs function that implements the flow from the proposed\nansible-multi spec. Move start.sh to config-inside.sh to preserve existing\nbehaviour.\n\nconfig-outside.sh copies the appropriate configs in from the bind'd\nlocation and sets permissions and ownership appropriately.\n\nPartially Implements: blueprint ansible-multi\n\nChange-Id: I53fca0660451087f273fefc3c63e0d8cf1a2c096\n""}, {'number': 14, 'created': '2015-06-29 03:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d4b5426337854025757cc1aadfb1ff9b9b6ad0eb', 'message': ""Add initial config function and keystone support\n\nAdd set_configs function that implements the flow from the proposed\nansible-multi spec. Move start.sh to config-inside.sh to preserve existing\nbehaviour.\n\nconfig-outside.sh copies the appropriate configs in from the bind'd\nlocation and sets permissions and ownership appropriately.\n\nPartially Implements: blueprint ansible-multi\n\nChange-Id: I53fca0660451087f273fefc3c63e0d8cf1a2c096\n""}, {'number': 15, 'created': '2015-06-29 03:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/989f65baff91070d2992fe2091c9e3de970cda0c', 'message': ""Add initial config function and keystone support\n\nAdd set_configs function that implements the flow from the proposed\nansible-multi spec. Move start.sh to config-inside.sh to preserve existing\nbehaviour.\n\nconfig-outside.sh copies the appropriate configs in from the bind'd\nlocation and sets permissions and ownership appropriately.\n\nPartially Implements: blueprint ansible-multi\n\nChange-Id: I53fca0660451087f273fefc3c63e0d8cf1a2c096\n""}, {'number': 16, 'created': '2015-06-30 03:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b9067e6eabb55109226613120790b832c1fb0d56', 'message': ""Add initial config function and keystone support\n\nAdd set_configs function that implements the flow from the proposed\nansible-multi spec. Move start.sh to config-inside.sh to preserve existing\nbehaviour.\n\nconfig-outside.sh copies the appropriate configs in from the bind'd\nlocation and sets permissions and ownership appropriately.\n\nPartially Implements: blueprint ansible-multi\n\nChange-Id: I53fca0660451087f273fefc3c63e0d8cf1a2c096\n""}, {'number': 17, 'created': '2015-06-30 10:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3fa97acc48d6bce37351ae559a671911098377da', 'message': ""Add initial config function and keystone support\n\nAdd set_configs function that implements the flow from the proposed\nansible-multi spec. Move start.sh to config-inside.sh to preserve existing\nbehaviour.\n\nconfig-outside.sh copies the appropriate configs in from the bind'd\nlocation and sets permissions and ownership appropriately.\n\nPartially Implements: blueprint ansible-multi\n\nChange-Id: I53fca0660451087f273fefc3c63e0d8cf1a2c096\n""}, {'number': 18, 'created': '2015-06-30 10:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d45923a0e6582f68869b1c0b084ad6513b92a0f3', 'message': ""Add initial config function and keystone support\n\nAdd set_configs function that implements the flow from the proposed\nansible-multi spec. Move start.sh to config-internal.sh to preserve existing\nbehaviour.\n\nconfig-externall.sh copies the appropriate configs in from the bind'd\nlocation and sets permissions and ownership appropriately.\n\nPartially Implements: blueprint ansible-multi\n\nChange-Id: I53fca0660451087f273fefc3c63e0d8cf1a2c096\n""}, {'number': 19, 'created': '2015-06-30 17:26:30.000000000', 'files': ['tools/genenv', 'ansible/roles/start.yml', 'etc/kolla/config/messaging.conf', 'ansible/roles/keystone/templates/keystone.conf.j2', 'etc/kolla/config/global.conf', 'docker/common/keystone/start.sh', 'etc/kolla/config/database.conf', 'etc/kolla/defaults.yml', 'ansible/roles/keystone/tasks/start.yml', 'ansible/roles/bootstrap.yml', 'ansible/roles/config.yml', 'docker/common/base/kolla-common.sh', 'ansible/roles/keystone/tasks/config.yml', 'ansible/roles/keystone/defaults/main.yml', 'etc/kolla/globals.yml', 'docker/centos/binary/keystone/Dockerfile', 'etc/kolla/config/keystone/keystone.conf', 'etc/kolla/passwords.yml', 'ansible/roles/keystone/tasks/main.yml', 'etc/kolla/config/keystone.conf', 'docker/centos/binary/keystone/config-internal.sh', 'ansible/roles/keystone/tasks/register.yml', 'ansible/group_vars/all.yml', 'ansible/library/merge_configs', 'docker/centos/binary/keystone/config-external.sh', 'docker/common/keystone/config-external.sh', 'ansible/roles/keystone/tasks/bootstrap.yml', 'docker/common/keystone/config-internal.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/3ac7da64d12c631def3640369998d292fd1a199f', 'message': ""Add initial config function and keystone support\n\nAdd set_configs function that implements the flow from the proposed\nansible-multi spec. Move start.sh to config-internal.sh to preserve existing\nbehaviour.\n\nconfig-externall.sh copies the appropriate configs in from the bind'd\nlocation and sets permissions and ownership appropriately.\n\nPartially Implements: blueprint ansible-multi\n\nChange-Id: I53fca0660451087f273fefc3c63e0d8cf1a2c096\n""}]",69,192544,3ac7da64d12c631def3640369998d292fd1a199f,59,7,19,14119,,,0,"Add initial config function and keystone support

Add set_configs function that implements the flow from the proposed
ansible-multi spec. Move start.sh to config-internal.sh to preserve existing
behaviour.

config-externall.sh copies the appropriate configs in from the bind'd
location and sets permissions and ownership appropriately.

Partially Implements: blueprint ansible-multi

Change-Id: I53fca0660451087f273fefc3c63e0d8cf1a2c096
",git fetch https://review.opendev.org/openstack/kolla refs/changes/44/192544/13 && git format-patch -1 --stdout FETCH_HEAD,"['docker/centos/binary/keystone/start.sh', 'docker/centos/binary/keystone/Dockerfile', 'docker/centos/binary/keystone/config-inside.sh', 'docker/common/kolla-common.sh', 'docker/centos/binary/keystone/config-outside.sh']",5,3baf6dd697b10aee0f83702ca082fabfb6a337cd,bp/ansible-multi,#!/bin/bash if [[ -f /opt/kolla/keystone/keystone.conf ]]; then cp /opt/kolla/keystone/keystone.conf /etc/keystone/keystone.conf chown keystone: /etc/keystone/keystone.conf chmod 0644 /etc/keystone/keystone.conf fi ,,195,157
openstack%2Fmox3~master~I7249a41c5577680de154419bfb708c9b3f0d71b3,openstack/mox3,master,I7249a41c5577680de154419bfb708c9b3f0d71b3,Updated from global requirements,MERGED,2015-06-30 19:57:19.000000000,2015-06-30 21:32:55.000000000,2015-06-30 21:32:54.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-06-30 19:57:19.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/mox3/commit/0f173ddeb22d8fdcdde9ded0104bdadd9a8c0396', 'message': 'Updated from global requirements\n\nChange-Id: I7249a41c5577680de154419bfb708c9b3f0d71b3\n'}]",0,197257,0f173ddeb22d8fdcdde9ded0104bdadd9a8c0396,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I7249a41c5577680de154419bfb708c9b3f0d71b3
",git fetch https://review.opendev.org/openstack/mox3 refs/changes/57/197257/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,0f173ddeb22d8fdcdde9ded0104bdadd9a8c0396,openstack/requirements,fixtures>=1.3.1,fixtures>=0.3.14,1,1
openstack%2Fneutron-lbaas~master~If8a430ca4d17fdfddbfca41c99e48e30d66c3263,openstack/neutron-lbaas,master,If8a430ca4d17fdfddbfca41c99e48e30d66c3263,Add vip_network_id to load balancer,ABANDONED,2015-06-19 21:57:22.000000000,2015-06-30 21:28:42.000000000,,"[{'_account_id': 3}, {'_account_id': 9008}, {'_account_id': 9828}, {'_account_id': 10806}, {'_account_id': 12040}, {'_account_id': 12403}]","[{'number': 1, 'created': '2015-06-19 21:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/92c9121a86d2649172b8b34ddfccb1049562c597', 'message': 'Add vip_network_id to load balancer\n\nUpdate models to include vip_network_id\nUpdate plugin to make vip_subnet_id nullable\nAdd vip_network_id to plugin\nAdd migration to add vip_network_id in DB\nAdd migration to change vip_subnet_id to nullable\nAdd to db layer to create port with network_id\n\nChange-Id: If8a430ca4d17fdfddbfca41c99e48e30d66c3263\n'}, {'number': 2, 'created': '2015-06-23 15:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/35e6d698fa2acc1d1700c1a1ef452a2064f3aaff', 'message': 'Add vip_network_id to load balancer\n\nUpdate models to include vip_network_id\nUpdate plugin to make vip_subnet_id nullable\nAdd vip_network_id to plugin\nAdd migration to add vip_network_id in DB\nAdd migration to change vip_subnet_id to nullable\nAdd to db layer to create port with network_id\n\nChange-Id: If8a430ca4d17fdfddbfca41c99e48e30d66c3263\n'}, {'number': 3, 'created': '2015-06-24 21:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/0eb4e7c2e2f6b16339823e7747755003fb9ae98b', 'message': 'Add vip_network_id to load balancer\n\nUpdate models to include vip_network_id\nUpdate plugin to make vip_subnet_id nullable\nAdd vip_network_id to plugin\nAdd migration to add vip_network_id in DB\nAdd migration to change vip_subnet_id to nullable\nAdd to db layer to create port with network_id\n\nChange-Id: If8a430ca4d17fdfddbfca41c99e48e30d66c3263\n'}, {'number': 4, 'created': '2015-06-25 19:03:19.000000000', 'files': ['neutron_lbaas/tests/unit/db/loadbalancer/test_db_loadbalancerv2.py', 'neutron_lbaas/extensions/loadbalancerv2.py', 'neutron_lbaas/db/loadbalancer/loadbalancer_dbv2.py', 'neutron_lbaas/db/loadbalancer/models.py', 'neutron_lbaas/tests/unit/services/loadbalancer/test_loadbalancer_plugin.py', 'neutron_lbaas/services/loadbalancer/data_models.py', 'tox.ini', 'neutron_lbaas/db/migration/alembic_migrations/versions/252944163563_adding_vip_network_id_to_loadbalancer.py', 'neutron_lbaas/db/migration/alembic_migrations/versions/HEAD'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/aff689bc72a425317d2635f9dcb70473f01615c1', 'message': 'Add vip_network_id to load balancer\n\nUpdate models to include vip_network_id\nUpdate data_models to include vip_network_id\nUpdate plugin to make vip_subnet_id nullable\nAdd vip_network_id to plugin\nAdd migration to add vip_network_id in DB\nAdd migration to change vip_subnet_id to nullable\nAdd to db layer to create port with network_id\n\nChange-Id: If8a430ca4d17fdfddbfca41c99e48e30d66c3263\n'}]",0,193736,aff689bc72a425317d2635f9dcb70473f01615c1,24,6,4,10806,,,0,"Add vip_network_id to load balancer

Update models to include vip_network_id
Update data_models to include vip_network_id
Update plugin to make vip_subnet_id nullable
Add vip_network_id to plugin
Add migration to add vip_network_id in DB
Add migration to change vip_subnet_id to nullable
Add to db layer to create port with network_id

Change-Id: If8a430ca4d17fdfddbfca41c99e48e30d66c3263
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/36/193736/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lbaas/extensions/loadbalancerv2.py', 'neutron_lbaas/db/loadbalancer/loadbalancer_dbv2.py', 'neutron_lbaas/db/loadbalancer/models.py', 'neutron_lbaas/db/migration/alembic_migrations/versions/252944163563_adding_vip_network_id_to_loadbalancer.py', 'neutron_lbaas/db/migration/alembic_migrations/versions/HEAD']",5,92c9121a86d2649172b8b34ddfccb1049562c597,193736,252944163563,kilo ,83,12
openstack%2Fopenstack-ansible~kilo~Ibbaa879166f5efaf7ca96add131cc3762dd88653,openstack/openstack-ansible,kilo,Ibbaa879166f5efaf7ca96add131cc3762dd88653,Create LXC containers with a rootfs dir,MERGED,2015-06-30 13:36:31.000000000,2015-06-30 21:22:37.000000000,2015-06-30 21:22:36.000000000,"[{'_account_id': 3}, {'_account_id': 2556}, {'_account_id': 6816}, {'_account_id': 7307}, {'_account_id': 12892}]","[{'number': 1, 'created': '2015-06-30 13:36:31.000000000', 'files': ['playbooks/roles/lxc_container_create/tasks/container_create.yml', 'playbooks/roles/lxc_container_create/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6a7a2ffbd1b2becbf2ebd3f41c37e1365d53cee9', 'message': 'Create LXC containers with a rootfs dir\n\nPreviously, an LXC container\'s rootfs was being placed into\n/var/lib/lxc/<container>/rootfs.  Commit\nhttps://review.openstack.org/#/c/190048/8 inadvertently changed this so\nthat a container\'s rootfs is now placed into /var/lib/lxc/<container/.\nThe downside here is that we now have a directory containing a\ncontainer\'s root fs and the LXC configuration for the container.\n\nThis change creates a new role-level variable called\nlxc_container_rootfs_directory which defaults to\n""{{ lxc_container_directory }}/{{ container_name }}/rootfs"" and passes\nthis variable when creating the container.\n\nChange-Id: Ibbaa879166f5efaf7ca96add131cc3762dd88653\nCloses-Bug: #1470101\n(cherry picked from commit 04149af86b300bb90d5517afa6c54307e3c69baf)\n'}]",0,197074,6a7a2ffbd1b2becbf2ebd3f41c37e1365d53cee9,10,5,1,7353,,,0,"Create LXC containers with a rootfs dir

Previously, an LXC container's rootfs was being placed into
/var/lib/lxc/<container>/rootfs.  Commit
https://review.openstack.org/#/c/190048/8 inadvertently changed this so
that a container's rootfs is now placed into /var/lib/lxc/<container/.
The downside here is that we now have a directory containing a
container's root fs and the LXC configuration for the container.

This change creates a new role-level variable called
lxc_container_rootfs_directory which defaults to
""{{ lxc_container_directory }}/{{ container_name }}/rootfs"" and passes
this variable when creating the container.

Change-Id: Ibbaa879166f5efaf7ca96add131cc3762dd88653
Closes-Bug: #1470101
(cherry picked from commit 04149af86b300bb90d5517afa6c54307e3c69baf)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/74/197074/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/lxc_container_create/tasks/container_create.yml', 'playbooks/roles/lxc_container_create/defaults/main.yml']",2,6a7a2ffbd1b2becbf2ebd3f41c37e1365d53cee9,,"lxc_container_rootfs_directory: ""{{ lxc_container_directory }}/{{ container_name }}/rootfs""",,2,1
openstack%2Fshade~master~I00e9d651936f1aacfece5f461b41c43573830715,openstack/shade,master,I00e9d651936f1aacfece5f461b41c43573830715,Correctly name the functional TestImage class,MERGED,2015-06-29 22:13:49.000000000,2015-06-30 21:20:16.000000000,2015-06-30 21:20:15.000000000,"[{'_account_id': 3}, {'_account_id': 3099}, {'_account_id': 6488}]","[{'number': 1, 'created': '2015-06-29 22:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/b01d13cbddb2382be31857b436e8e3e94686b4bf', 'message': 'Correctly name the functional TestImage class\n\nThis seems like a copy-pasta that got overlooked, the TestImage class\nshould not be named TestCompute.\n\nChange-Id: I00e9d651936f1aacfece5f461b41c43573830715\n'}, {'number': 2, 'created': '2015-06-29 22:15:57.000000000', 'files': ['shade/tests/functional/test_image.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/235dedcf3d3db477acda827d6583214abc3caff8', 'message': 'Correctly name the functional TestImage class\n\nThis seems like a copy-pasta that got overlooked, the TestImage class\nshould not be named TestCompute.\n\nChange-Id: I00e9d651936f1aacfece5f461b41c43573830715\n'}]",0,196891,235dedcf3d3db477acda827d6583214abc3caff8,8,3,2,10035,,,0,"Correctly name the functional TestImage class

This seems like a copy-pasta that got overlooked, the TestImage class
should not be named TestCompute.

Change-Id: I00e9d651936f1aacfece5f461b41c43573830715
",git fetch https://review.opendev.org/openstack/shade refs/changes/91/196891/2 && git format-patch -1 --stdout FETCH_HEAD,['shade/tests/functional/test_image.py'],1,b01d13cbddb2382be31857b436e8e3e94686b4bf,fix/correctly-name-test-image,class TestImage(base.TestCase):,class TestCompute(base.TestCase):,1,1
openstack%2Fopenstack-ansible~master~Id5a74db2399166af2d6ac289b71ebb0de04f5679,openstack/openstack-ansible,master,Id5a74db2399166af2d6ac289b71ebb0de04f5679,Add support for specifying custom static routes,MERGED,2015-06-12 11:43:16.000000000,2015-06-30 21:17:50.000000000,2015-06-30 21:17:15.000000000,"[{'_account_id': 3}, {'_account_id': 425}, {'_account_id': 6816}, {'_account_id': 7307}, {'_account_id': 7353}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-06-12 11:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/efa3ba2fc83cc91de4c2aeaadea603d4859e4bcf', 'message': '[WIP] Add support for specifying custom static routes\n\nChange-Id: Id5a74db2399166af2d6ac289b71ebb0de04f5679\nCloses-Bug: #1464639\n'}, {'number': 2, 'created': '2015-06-12 12:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3843604deb9a37e3e92b6300520b15837e1c1c87', 'message': '[WIP] Add support for specifying custom static routes\n\nThis change allows you to specify static routes for a given network in\nyour openstack_user_config.yml file:\n\n  global_overrides:\n    provider_networks:\n      - network:\n          group_binds:\n            - glance_api\n            - nova_compute\n            - neutron_linuxbridge_agent\n          type: ""raw""\n          container_bridge: ""br-snet""\n          container_interface: ""eth3""\n          container_type: ""veth""\n          ip_from_q: ""snet""\n          static_routes:\n            - cidr: 10.176.0.0/12\n              gateway: 172.29.248.1\n\nThis will result in the following being written to\n/etc/network/interfaces.d/eth3.cfg for the affected containers:\n\npost-up ip route add 10.176.0.0/12 via 172.29.248.1 || true\n\nChange-Id: Id5a74db2399166af2d6ac289b71ebb0de04f5679\nCloses-Bug: #1464639\n'}, {'number': 3, 'created': '2015-06-12 12:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/70aa5aae7282b5ca59ce7295fd6c2e9b43b75335', 'message': '[WIP] Add support for specifying custom static routes\n\nThis change allows you to specify static routes for a given network in\nyour openstack_user_config.yml file:\n\n  global_overrides:\n    provider_networks:\n      - network:\n          group_binds:\n            - glance_api\n            - nova_compute\n            - neutron_linuxbridge_agent\n          type: ""raw""\n          container_bridge: ""br-snet""\n          container_interface: ""eth3""\n          container_type: ""veth""\n          ip_from_q: ""snet""\n          static_routes:\n            - cidr: 10.176.0.0/12\n              gateway: 172.29.248.1\n\nThis will result in the following being written to\n/etc/network/interfaces.d/eth3.cfg for the affected containers:\n\n  post-up ip route add 10.176.0.0/12 via 172.29.248.1 || true\n\nChange-Id: Id5a74db2399166af2d6ac289b71ebb0de04f5679\nCloses-Bug: #1464639\n'}, {'number': 4, 'created': '2015-06-12 21:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/80fc87f6ebb2fcb043a88bceb1833a7e5ecbf9fe', 'message': '[WIP] Add support for specifying custom static routes\n\nThis change allows you to specify static routes for a given network in\nyour openstack_user_config.yml file:\n\n  global_overrides:\n    provider_networks:\n      - network:\n          group_binds:\n            - glance_api\n            - nova_compute\n            - neutron_linuxbridge_agent\n          type: ""raw""\n          container_bridge: ""br-snet""\n          container_interface: ""eth3""\n          container_type: ""veth""\n          ip_from_q: ""snet""\n          static_routes:\n            - cidr: 10.176.0.0/12\n              gateway: 172.29.248.1\n\nThis will result in the following being written to\n/etc/network/interfaces.d/eth3.cfg for the affected containers:\n\n  post-up ip route add 10.176.0.0/12 via 172.29.248.1 || true\n\nChange-Id: Id5a74db2399166af2d6ac289b71ebb0de04f5679\nCloses-Bug: #1464639\n'}, {'number': 5, 'created': '2015-06-29 19:26:55.000000000', 'files': ['playbooks/roles/lxc_container_create/defaults/main.yml', 'playbooks/inventory/dynamic_inventory.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/21a8f1ff04ac6aeb3c54ddd61bc3b37318e9ed4e', 'message': 'Add support for specifying custom static routes\n\nThis change allows you to specify static routes for a given network in\nyour openstack_user_config.yml file:\n\n  global_overrides:\n    provider_networks:\n      - network:\n          group_binds:\n            - glance_api\n            - nova_compute\n            - neutron_linuxbridge_agent\n          type: ""raw""\n          container_bridge: ""br-snet""\n          container_interface: ""eth3""\n          container_type: ""veth""\n          ip_from_q: ""snet""\n          static_routes:\n            - cidr: 10.176.0.0/12\n              gateway: 172.29.248.1\n\nThis will result in the following being written to\n/etc/network/interfaces.d/eth3.cfg for the affected containers:\n\n  post-up ip route add 10.176.0.0/12 via 172.29.248.1 || true\n\nChange-Id: Id5a74db2399166af2d6ac289b71ebb0de04f5679\nCloses-Bug: #1464639\n'}]",4,191020,21a8f1ff04ac6aeb3c54ddd61bc3b37318e9ed4e,29,6,5,7307,,,0,"Add support for specifying custom static routes

This change allows you to specify static routes for a given network in
your openstack_user_config.yml file:

  global_overrides:
    provider_networks:
      - network:
          group_binds:
            - glance_api
            - nova_compute
            - neutron_linuxbridge_agent
          type: ""raw""
          container_bridge: ""br-snet""
          container_interface: ""eth3""
          container_type: ""veth""
          ip_from_q: ""snet""
          static_routes:
            - cidr: 10.176.0.0/12
              gateway: 172.29.248.1

This will result in the following being written to
/etc/network/interfaces.d/eth3.cfg for the affected containers:

  post-up ip route add 10.176.0.0/12 via 172.29.248.1 || true

Change-Id: Id5a74db2399166af2d6ac289b71ebb0de04f5679
Closes-Bug: #1464639
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/20/191020/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/lxc_container_create/defaults/main.yml', 'playbooks/inventory/dynamic_inventory.py']",2,efa3ba2fc83cc91de4c2aeaadea603d4859e4bcf,bug/1464639," is_container_address, static_routes): is_container_address, static_routes if static_routes: for s in static_routes: if 'network' in s and 'netmask' in s and 'gateway' in s: # only add static routes if specified correctly if 'static_routes' in networks[old_address]: networks[old_address]['static_routes'].append(s) else: networks[old_address]['static_routes'] = [s] is_container_address=p_net.get('is_container_address'), static_routes=p_net.get('static_routes')", is_container_address): is_container_address is_container_address=p_net.get('is_container_address'),19,3
openstack%2Fgovernance~master~I1973f7d8e3062dee4663a8f14099d685f9ea0b47,openstack/governance,master,I1973f7d8e3062dee4663a8f14099d685f9ea0b47,Fix up the compute starter kit tag,MERGED,2015-06-25 22:41:58.000000000,2015-06-30 20:48:09.000000000,2015-06-30 20:48:09.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 308}, {'_account_id': 964}, {'_account_id': 970}, {'_account_id': 1561}, {'_account_id': 2592}, {'_account_id': 4190}, {'_account_id': 6159}]","[{'number': 1, 'created': '2015-06-25 22:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/7bf1943ed140fefdb8988b1a0c7847d5309da1c5', 'message': ""Fix up the compute starter kit tag\n\nWhen the compute starter kit tag was added, it didn't actually have a\nproposed tag name, or any applications in projects.yaml. This patch\nfixes that.\n\nRelated cleanups\n\n* Move application section higher up to align with other tags\n* Also fix up a few typos.\n\nChange-Id: I1973f7d8e3062dee4663a8f14099d685f9ea0b47\n""}, {'number': 2, 'created': '2015-06-26 14:25:56.000000000', 'files': ['reference/projects.yaml', 'reference/tags/compute_starter_kit.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/971ec0a671b65b02c9e92c8c8345f700a6630afc', 'message': ""Fix up the compute starter kit tag\n\nWhen the compute starter kit tag was added, it didn't actually have a\nproposed tag name, or any applications in projects.yaml. This patch\nfixes that.\n\nRelated cleanups\n\n* Move application section higher up to align with other tags\n* Also fix up a few typos.\n\nChange-Id: I1973f7d8e3062dee4663a8f14099d685f9ea0b47\n""}]",0,195771,971ec0a671b65b02c9e92c8c8345f700a6630afc,17,9,2,1849,,,0,"Fix up the compute starter kit tag

When the compute starter kit tag was added, it didn't actually have a
proposed tag name, or any applications in projects.yaml. This patch
fixes that.

Related cleanups

* Move application section higher up to align with other tags
* Also fix up a few typos.

Change-Id: I1973f7d8e3062dee4663a8f14099d685f9ea0b47
",git fetch https://review.opendev.org/openstack/governance refs/changes/71/195771/1 && git format-patch -1 --stdout FETCH_HEAD,"['reference/projects.yaml', 'reference/tags/compute_starter_kit.rst']",2,7bf1943ed140fefdb8988b1a0c7847d5309da1c5,lastday,.. _`tag-starter-kit:compute`: Application to current projects =============================== .. tagged-projects:: starter-kit:compute support for persistent volumes allows them to more easily transition which a larger and richer OpenStack deployment can be built outThe TC is responsible for maintaining the tags in the 'starter kit' category. There is no need to apply for addition/removal. Changes externally proposed will be reviewed and approved by the TC.,suppport for persistent volumes allows them to more easily transition which a larger and richer OpenStack deployement can be built outUnder the current criteria the tag would apply to: - keystone - glance - nova (using nova-network multi host) - cinder Application to current projects =============================== As part of the application you need to go through the exercise of applying the proposed tag to at least some subset of the current project list. This will serve as an example of how the tag should be applied in the real world. You may also submit (as a subsequent change) the corresponding governance change to immediately apply the proposed tag to projects. .. tagged-projects:: <tag name> ,18,19
openstack%2Fpython-openstackclient~master~If3c679557ac9abb0dfc75d290b96fb9c8d46c7b7,openstack/python-openstackclient,master,If3c679557ac9abb0dfc75d290b96fb9c8d46c7b7,Add support for volume API v2 QoS commands,MERGED,2015-06-27 13:32:06.000000000,2015-06-30 20:43:17.000000000,2015-06-30 20:43:14.000000000,"[{'_account_id': 3}, {'_account_id': 6482}, {'_account_id': 8736}, {'_account_id': 9061}]","[{'number': 1, 'created': '2015-06-27 13:32:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1e6aed386138fd235af45d4c7edc7d9fdbcd3caf', 'message': 'Add support for volume API v2 QoS commands\n\nThis commit adds the following commands:\n  volume qos associate\n  volume qos create\n  volume qos delete\n  volume qos disassociate\n  volume qos list\n  volume qos set\n  volume qos show\n  volume qos unset\n\nChange-Id: If3c679557ac9abb0dfc75d290b96fb9c8d46c7b7\nPartial-Bug: #1467967\n'}, {'number': 2, 'created': '2015-06-27 15:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/63bc4f8c7e05e305bc915449220f1648188b3385', 'message': 'Add support for volume API v2 QoS commands\n\nThis commit adds the following commands:\n  volume qos associate\n  volume qos create\n  volume qos delete\n  volume qos disassociate\n  volume qos list\n  volume qos set\n  volume qos show\n  volume qos unset\n\nChange-Id: If3c679557ac9abb0dfc75d290b96fb9c8d46c7b7\nPartial-Bug: #1467967\n'}, {'number': 3, 'created': '2015-06-29 16:00:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/318e3b8b70a445c6e9884cb2e59edd56a3670a0d', 'message': 'Add support for volume API v2 QoS commands\n\nThis commit adds the following commands:\n  volume qos associate\n  volume qos create\n  volume qos delete\n  volume qos disassociate\n  volume qos list\n  volume qos set\n  volume qos show\n  volume qos unset\n\nChange-Id: If3c679557ac9abb0dfc75d290b96fb9c8d46c7b7\nPartial-Bug: #1467967\n'}, {'number': 4, 'created': '2015-06-29 21:25:27.000000000', 'files': ['openstackclient/tests/volume/v2/fakes.py', 'openstackclient/volume/v2/qos_specs.py', 'openstackclient/tests/volume/v2/test_qos_specs.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/974c9d5793bb00cbcfac799ea18c3b73c0b2455e', 'message': 'Add support for volume API v2 QoS commands\n\nThis commit adds the following commands:\n  volume qos associate\n  volume qos create\n  volume qos delete\n  volume qos disassociate\n  volume qos list\n  volume qos set\n  volume qos show\n  volume qos unset\n\nChange-Id: If3c679557ac9abb0dfc75d290b96fb9c8d46c7b7\nPartial-Bug: #1467967\n'}]",4,196376,974c9d5793bb00cbcfac799ea18c3b73c0b2455e,17,4,4,9061,,,0,"Add support for volume API v2 QoS commands

This commit adds the following commands:
  volume qos associate
  volume qos create
  volume qos delete
  volume qos disassociate
  volume qos list
  volume qos set
  volume qos show
  volume qos unset

Change-Id: If3c679557ac9abb0dfc75d290b96fb9c8d46c7b7
Partial-Bug: #1467967
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/76/196376/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/volume/v2/fakes.py', 'openstackclient/volume/v2/qos_specs.py', 'openstackclient/tests/volume/v2/test_qos_specs.py', 'setup.cfg']",4,1e6aed386138fd235af45d4c7edc7d9fdbcd3caf,bug/1467967, volume_qos_create = openstackclient.volume.v2.qos_specs:CreateQos volume_qos_delete = openstackclient.volume.v2.qos_specs:DeleteQos volume_qos_list = openstackclient.volume.v2.qos_specs:ListQos volume_qos_show = openstackclient.volume.v2.qos_specs:ShowQos volume_qos_set = openstackclient.volume.v2.qos_specs:SetQos volume_qos_unset = openstackclient.volume.v2.qos_specs:UnsetQos volume_qos_associate = openstackclient.volume.v2.qos_specs:AssociateQos volume_qos_disassociate = openstackclient.volume.v2.qos_specs:DisassociateQos ,,694,0
openstack%2Fsolum~master~I43650d2bd452a2127c633f1f9db4f605f863a865,openstack/solum,master,I43650d2bd452a2127c633f1f9db4f605f863a865,Adds app resource,MERGED,2015-05-22 21:15:59.000000000,2015-06-30 20:37:54.000000000,2015-06-30 20:37:50.000000000,"[{'_account_id': 3}, {'_account_id': 1375}, {'_account_id': 2506}, {'_account_id': 6434}, {'_account_id': 6662}, {'_account_id': 7256}, {'_account_id': 9095}, {'_account_id': 12400}]","[{'number': 1, 'created': '2015-05-22 21:15:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/73131f1da674363a2244d0e60b49fd8af973cb58', 'message': ""WIP: Adds app resource\n\nCreates app table\nExposes app resource\nAdds example yaml file to create new apps. Not finalized.\n\nThis is still very much a WIP, and there's a lot of hand-inserted defaulting in here.\n\nChange-Id: I43650d2bd452a2127c633f1f9db4f605f863a865\n""}, {'number': 2, 'created': '2015-05-29 22:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/a1002c4911383e9863dfcc67f18a9ae5d632e6a9', 'message': ""WIP: Adds app resource\n\nCreates app table\nExposes app resource\nAdds example yaml file to create new apps. Not finalized.\nCRUD (U meaning PATCH, anyway) implemented\n\nThis is still very much a WIP, and there's a lot of hand-inserted defaulting in here.\n\nChange-Id: I43650d2bd452a2127c633f1f9db4f605f863a865\n""}, {'number': 3, 'created': '2015-06-04 18:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/558504a9dd7e5075000abaa9789b38e4a9108e9f', 'message': ""WIP: Adds app resource\n\nCreates app table\nExposes app resource\nAdds example yaml file to create new apps. Not finalized.\nCRUD (U meaning PATCH, anyway) implemented\n\nThis is still very much a WIP, and there's a lot of hand-inserted defaulting in here.\nPlenty of tests are half-written or are just signatures and need to be completed or fixed.\n\nChange-Id: I43650d2bd452a2127c633f1f9db4f605f863a865\n""}, {'number': 4, 'created': '2015-06-09 18:58:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/373fd2b131c1b54c525a9e2224ebf00c2740a842', 'message': ""WIP: Adds app resource\n\nCreates app table\nExposes app resource\nAdds example yaml file to create new apps. Not finalized.\nCRUD (U meaning PATCH, anyway) implemented\n\nThis is still very much a WIP, and there's a lot of hand-inserted defaulting in here.\n\nChange-Id: I43650d2bd452a2127c633f1f9db4f605f863a865\n""}, {'number': 5, 'created': '2015-06-11 15:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/56fbf7646ad4ed1195e42423d6bf0f90bd0fed76', 'message': 'Adds app resource\n\nCreates app table\nExposes app resource Create, Index, Get, Patch, and Delete\nAdds example yaml file in examples/apps/cherrypy.yaml\n\nChange-Id: I43650d2bd452a2127c633f1f9db4f605f863a865\n'}, {'number': 6, 'created': '2015-06-17 22:24:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/5102a44dbaa9c29c401b3aee009bc946dc08d593', 'message': 'Adds app resource\n\nCreates app table\nExposes app resource Create, Index, Get, Patch, and Delete\nAdds example yaml file in examples/apps/cherrypy.yaml\n\nChange-Id: I43650d2bd452a2127c633f1f9db4f605f863a865\n'}, {'number': 7, 'created': '2015-06-19 15:10:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/eb4c47579f4e39200b99d8a0f97480ba26a0ca50', 'message': 'Adds app resource\n\nCreates app table\nExposes app resource Create, Index, Get, Patch, and Delete\nAdds example yaml file in examples/apps/cherrypy.yaml\n\nBlueprint: app-resource\nChange-Id: I43650d2bd452a2127c633f1f9db4f605f863a865\n'}, {'number': 8, 'created': '2015-06-19 15:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/2e83df0a99629de4b803c2e549afb6039ba17ba0', 'message': 'Adds app resource\n\nCreates app table\nExposes app resource Create, Index, Get, Patch, and Delete\nAdds example yaml file in examples/apps/cherrypy.yaml\n\nBlueprint: +spec/app-resource\nChange-Id: I43650d2bd452a2127c633f1f9db4f605f863a865\n'}, {'number': 9, 'created': '2015-06-19 15:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/cdc326cf8b0e13274888544df53bee4f66b6cd91', 'message': 'Adds app resource\n\nCreates app table\nExposes app resource Create, Index, Get, Patch, and Delete\nAdds example yaml file in examples/apps/cherrypy.yaml\n\nBlueprint: https://blueprints.launchpad.net/solum/+spec/app-resource\nChange-Id: I43650d2bd452a2127c633f1f9db4f605f863a865\n'}, {'number': 10, 'created': '2015-06-23 14:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/d384009e5324ad7ec8fbbb8570fb68d578ba6ad9', 'message': 'Adds app resource\n\nCreates app table\nExposes app resource Create, Index, Get, Patch, and Delete\nAdds example yaml file in examples/apps/cherrypy.yaml\n\nBlueprint: https://blueprints.launchpad.net/solum/+spec/app-resource\nChange-Id: I43650d2bd452a2127c633f1f9db4f605f863a865\n'}, {'number': 11, 'created': '2015-06-23 21:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/1e8f0655ce43e5e421654b8c0f2e15a0d2efba44', 'message': 'Adds app resource\n\nCreates app table\nExposes app resource Create, Index, Get, Patch, and Delete\nAdds example yaml file in examples/apps/cherrypy.yaml\n\nBlueprint: https://blueprints.launchpad.net/solum/+spec/app-resource\nChange-Id: I43650d2bd452a2127c633f1f9db4f605f863a865\n'}, {'number': 12, 'created': '2015-06-30 15:12:36.000000000', 'files': ['solum/objects/sqlalchemy/migration/alembic_migrations/versions/40df542e345_create_app_table.py', 'solum/api/controllers/v1/app.py', 'solum/objects/app.py', 'examples/apps/cherrypy.yaml', 'solum/tests/fakes.py', 'solum/api/controllers/v1/datamodel/app.py', 'solum/tests/api/controllers/v1/test_app.py', 'solum/objects/sqlalchemy/app.py', 'solum/tests/api/handlers/test_app.py', 'solum/api/handlers/app_handler.py', 'solum/tests/objects/test_app.py', 'solum/api/controllers/v1/root.py', 'solum/objects/sqlalchemy/__init__.py'], 'web_link': 'https://opendev.org/openstack/solum/commit/7f6a82bd5c898352069078b37bcf2e2fdc2b9603', 'message': 'Adds app resource\n\nCreates app table\nExposes app resource Create, Index, Get, Patch, and Delete\nAdds example yaml file in examples/apps/cherrypy.yaml\n\nBlueprint: https://blueprints.launchpad.net/solum/+spec/app-resource\nChange-Id: I43650d2bd452a2127c633f1f9db4f605f863a865\n'}]",45,185147,7f6a82bd5c898352069078b37bcf2e2fdc2b9603,55,8,12,1375,,,0,"Adds app resource

Creates app table
Exposes app resource Create, Index, Get, Patch, and Delete
Adds example yaml file in examples/apps/cherrypy.yaml

Blueprint: https://blueprints.launchpad.net/solum/+spec/app-resource
Change-Id: I43650d2bd452a2127c633f1f9db4f605f863a865
",git fetch https://review.opendev.org/openstack/solum refs/changes/47/185147/6 && git format-patch -1 --stdout FETCH_HEAD,"['solum/objects/sqlalchemy/migration/alembic_migrations/versions/40df542e345_create_app_table.py', 'solum/api/controllers/v1/app.py', 'solum/objects/app.py', 'solum/api/controllers/v1/root.py', 'examples/apps/cherrypy.yaml', 'solum/common/yamlutils.py', 'solum/objects/sqlalchemy/__init__.py', 'solum/api/controllers/v1/datamodel/app.py', 'solum/api/controllers/v1/plan.py', 'solum/objects/sqlalchemy/app.py', 'solum/api/handlers/app_handler.py']",11,73131f1da674363a2244d0e60b49fd8af973cb58,bp/https,"# Copyright 2015 Rackspace Hosting # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import uuid from solum.api.handlers import handler from solum.common import clients from solum.common import exception from solum import objects from solum.openstack.common import log as logging LOG = logging.getLogger(__name__) class AppHandler(handler.Handler): """"""Fulfills a request on the app resource."""""" def get(self, id): """"""Return an app."""""" return objects.registry.App.get_by_uuid(self.context, id) def update(self, id, data): """"""Update an app."""""" db_obj = objects.registry.App.get_by_uuid(self.context, id) to_update = {} if 'name' in data: to_update['name'] = data['name'] updated = objects.registry.App.update_and_save(self.context, id, to_update) return updated def delete(self, id): """"""Delete an existing app."""""" db_obj = objects.registry.App.get_by_uuid(self.context, id) db_obj.destroy(self.context) def create(self, data): """"""Create a new app."""""" db_obj = objects.registry.App() db_obj.uuid = str(uuid.uuid4()) db_obj.user_id = self.context.user db_obj.project_id = self.context.tenant db_obj.deleted = False db_obj.name = data.get('name', '') db_obj.description = data.get('description', '') db_obj.languagepack = data.get('languagepack', '') db_obj.entry_points = data.get('entry_points', {'': ''}) db_obj.load_balancer = data.get('load_balancer', '') db_obj.ports = data.get('ports', [80]) db_obj.source = data.get('source', {}) db_obj.workflow_config = data.get('workflow_config', {}) db_obj.trigger_uuid = data.get('trigger_uuid', '') db_obj.trigger_actions = data.get('trigger_actions', ['test', 'build', 'deploy']) db_obj.type = 'app' db_obj.tags = [] db_obj.uri = '' db_obj.create(self.context) return db_obj def get_all(self): """"""Return all apps."""""" all_apps = objects.registry.AppList.get_all(self.context) return all_apps ",,459,0
openstack%2Fproject-config~master~I487337cb1def5f5995d776c831ea61b658652677,openstack/project-config,master,I487337cb1def5f5995d776c831ea61b658652677,Fix proposal operations,MERGED,2015-06-30 17:52:11.000000000,2015-06-30 20:33:53.000000000,2015-06-30 20:33:52.000000000,"[{'_account_id': 3}, {'_account_id': 4162}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 6609}]","[{'number': 1, 'created': '2015-06-30 17:52:11.000000000', 'files': ['jenkins/scripts/common.sh'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d8b15436c8449240a31db05336fd13dd319f9bf8', 'message': 'Fix proposal operations\n\nThe proposals bot run on a tree that is in detached state. Current git\nreview fails to push from this any changes.\n\nCreate instead directly a branch and work on that.\n\nChange-Id: I487337cb1def5f5995d776c831ea61b658652677\n'}]",0,197200,d8b15436c8449240a31db05336fd13dd319f9bf8,9,5,1,6547,,,0,"Fix proposal operations

The proposals bot run on a tree that is in detached state. Current git
review fails to push from this any changes.

Create instead directly a branch and work on that.

Change-Id: I487337cb1def5f5995d776c831ea61b658652677
",git fetch https://review.opendev.org/openstack/project-config refs/changes/00/197200/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/scripts/common.sh'],1,d8b15436c8449240a31db05336fd13dd319f9bf8,fix-proposals," # Initial state of repository is detached, create a branch to work # from. Otherwise git review will complain. git checkout -B proposals",,4,0
openstack%2Fgovernance~master~I8d80681caccee7570303c46fe603426f76254af0,openstack/governance,master,I8d80681caccee7570303c46fe603426f76254af0,Be less proscriptive about new team size/maturity,MERGED,2015-06-19 13:43:03.000000000,2015-06-30 20:30:19.000000000,2015-06-30 20:30:19.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 7}, {'_account_id': 308}, {'_account_id': 970}, {'_account_id': 1561}, {'_account_id': 1849}, {'_account_id': 2243}, {'_account_id': 2472}, {'_account_id': 2592}, {'_account_id': 2889}, {'_account_id': 5263}, {'_account_id': 5623}, {'_account_id': 5660}, {'_account_id': 6159}, {'_account_id': 6547}, {'_account_id': 10239}]","[{'number': 1, 'created': '2015-06-19 13:43:03.000000000', 'files': ['reference/new-projects-requirements.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/b76792d816c66135950559a0fd825c4fef6764c8', 'message': ""Be less proscriptive about new team size/maturity\n\nThe new project requirements previously contained prose which was\nambiguous or misleading about when it's okay to apply to the TC for\ncreation of a project team. New projects with any size team working\non software at any stage of development are welcome to apply.\n\nChange-Id: I8d80681caccee7570303c46fe603426f76254af0\n""}]",0,193550,b76792d816c66135950559a0fd825c4fef6764c8,23,18,1,5263,,,0,"Be less proscriptive about new team size/maturity

The new project requirements previously contained prose which was
ambiguous or misleading about when it's okay to apply to the TC for
creation of a project team. New projects with any size team working
on software at any stage of development are welcome to apply.

Change-Id: I8d80681caccee7570303c46fe603426f76254af0
",git fetch https://review.opendev.org/openstack/governance refs/changes/50/193550/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/new-projects-requirements.rst'],1,b76792d816c66135950559a0fd825c4fef6764c8,maturity,"Teams in OpenStack can be created as-needed and grow organically. By becoming an official OpenStack Project, they place* The project should have an active team of one or more contributors","Teams in OpenStack can be created as-needed and grow organically. As the team work matures, some technical efforts will be recognized as being part of the OpenStack community. By becoming an official OpenStack Project, they place* The project should have an active team of contributors",3,4
openstack%2Fopenstacksdk~master~I0835de8c74e8c8386c5ff93a42f2ba9e92883d36,openstack/openstacksdk,master,I0835de8c74e8c8386c5ff93a42f2ba9e92883d36,Add functional tests for update_ip and find_available_ip,MERGED,2015-06-29 23:54:00.000000000,2015-06-30 20:29:03.000000000,2015-06-30 20:29:01.000000000,"[{'_account_id': 3}, {'_account_id': 1112}, {'_account_id': 8736}]","[{'number': 1, 'created': '2015-06-29 23:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d5a71e1e38c6fd1f6233f65d0daecb161bcd9f2e', 'message': 'Add functional tests for update_ip and find_available_ip\n\nChange-Id: I0835de8c74e8c8386c5ff93a42f2ba9e92883d36\nCloses-Bug: #1468460\n'}, {'number': 2, 'created': '2015-06-30 02:18:41.000000000', 'files': ['openstack/tests/functional/network/v2/test_floating_ip.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4a735a2c13491d8b64ef0525007c1c81d4167043', 'message': 'Add functional tests for update_ip and find_available_ip\n\nChange-Id: I0835de8c74e8c8386c5ff93a42f2ba9e92883d36\nCloses-Bug: #1468460\n'}]",0,196909,4a735a2c13491d8b64ef0525007c1c81d4167043,9,3,2,15739,,,0,"Add functional tests for update_ip and find_available_ip

Change-Id: I0835de8c74e8c8386c5ff93a42f2ba9e92883d36
Closes-Bug: #1468460
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/09/196909/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/tests/functional/network/v2/test_floating_ip.py'],1,d5a71e1e38c6fd1f6233f65d0daecb161bcd9f2e,bug/1468460,"from openstack.network.v2 import port from openstack.network.v2 import router ROT_NAME = uuid.uuid4().hex EXT_NET_NAME = uuid.uuid4().hex EXT_SUB_NAME = uuid.uuid4().hex INT_NET_NAME = uuid.uuid4().hex INT_SUB_NAME = uuid.uuid4().hex EXT_CIDR = ""10.100.0.0/24"" INT_CIDR = ""10.101.0.0/24"" EXT_NET_ID = None INT_NET_ID = None EXT_SUB_ID = None INT_SUB_ID = None ROT_ID = None PORT_ID = None # Create Exeternal Network net = cls._create_network(cls.EXT_NET_NAME, **args) cls.EXT_NET_ID = net.id sub = cls._create_subnet(cls.EXT_SUB_NAME, cls.EXT_NET_ID, cls.EXT_CIDR) cls.EXT_SUB_ID = sub.id # Create Internal Network net = cls._create_network(cls.INT_NET_NAME) cls.INT_NET_ID = net.id sub = cls._create_subnet(cls.INT_SUB_NAME, cls.INT_NET_ID, cls.INT_CIDR) cls.INT_SUB_ID = sub.id # Create Router args = {'external_gateway_info': {'network_id': cls.EXT_NET_ID}} sot = cls.conn.network.create_router(name=cls.ROT_NAME, **args) assert isinstance(sot, router.Router) cls.assertIs(cls.ROT_NAME, sot.name) cls.ROT_ID = sot.id cls.ROT = sot # Add Router's Interface to Internal Network sot = cls.ROT.add_interface(cls.conn.session, cls.INT_SUB_ID) cls.assertIs(sot['subnet_id'], cls.INT_SUB_ID) # Create Port in Internal Network prt = cls.conn.network.create_port(network_id=cls.INT_NET_ID) assert isinstance(prt, port.Port) cls.PORT_ID = prt.id # Create Floating IP. fip = cls.conn.network.create_ip(floating_network_id=cls.EXT_NET_ID) sot = cls.conn.network.delete_port(cls.PORT_ID, ignore_missing=False) sot = cls.ROT.remove_interface(cls.conn.session, cls.INT_SUB_ID) cls.assertIs(sot['subnet_id'], cls.INT_SUB_ID) sot = cls.conn.network.delete_router(cls.ROT_ID, ignore_missing=False) sot = cls.conn.network.delete_subnet(cls.EXT_SUB_ID, ignore_missing=False) cls.assertIs(None, sot) sot = cls.conn.network.delete_network(cls.EXT_NET_ID, ignore_missing=False) cls.assertIs(None, sot) sot = cls.conn.network.delete_subnet(cls.INT_SUB_ID, ignore_missing=False) cls.assertIs(None, sot) sot = cls.conn.network.delete_network(cls.INT_NET_ID, ignore_missing=False) cls.assertIs(None, sot) @classmethod def _create_network(cls, name, **args): cls.name = name net = cls.conn.network.create_network(name=name, **args) assert isinstance(net, network.Network) cls.assertIs(cls.name, net.name) return net @classmethod def _create_subnet(cls, name, net_id, cidr): cls.name = name cls.net_id = net_id cls.cidr = cidr sub = cls.conn.network.create_subnet(name=cls.name, ip_version=cls.IPV4, network_id=cls.net_id, cidr=cls.cidr) assert isinstance(sub, subnet.Subnet) cls.assertIs(cls.name, sub.name) return sub def test_find_available_ip(self): sot = self.conn.network.find_available_ip() self.assertEqual(self.FIP_ID, sot.id) self.assertEqual(self.EXT_NET_ID, sot.floating_network_id) self.assertEqual('10.100.0.3', sot.floating_ip_address) def test_update(self): sot = self.conn.network.update_ip(self.FIP_ID, port_id=self.PORT_ID) self.assertEqual(self.PORT_ID, sot.port_id) self.assertEqual(self.FIP_ID, sot.id)"," NET_NAME = uuid.uuid4().hex SUB_NAME = uuid.uuid4().hex CIDR = ""10.100.0.0/24"" NET_ID = None SUB_ID = None net = cls.conn.network.create_network(name=cls.NET_NAME, **args) assert isinstance(net, network.Network) cls.assertIs(cls.NET_NAME, net.name) cls.NET_ID = net.id sub = cls.conn.network.create_subnet(name=cls.SUB_NAME, ip_version=cls.IPV4, network_id=cls.NET_ID, cidr=cls.CIDR) assert isinstance(sub, subnet.Subnet) cls.assertIs(cls.SUB_NAME, sub.name) cls.SUB_ID = sub.id fip = cls.conn.network.create_ip(floating_network_id=cls.NET_ID) sot = cls.conn.network.delete_subnet(cls.SUB_ID, ignore_missing=False) sot = cls.conn.network.delete_network(cls.NET_ID, ignore_missing=False) self.assertEqual(self.NET_ID, sot.floating_network_id) self.assertEqual('10.100.0.2', sot.floating_ip_address)",91,21
openstack%2Fneutron~master~Ic9ec653a58ab14098ef5d9046497e4db04466cd1,openstack/neutron,master,Ic9ec653a58ab14098ef5d9046497e4db04466cd1,DO NOT MERGE: test patch to see how run-docs.sh behaves with docs tox job,ABANDONED,2015-06-15 14:40:10.000000000,2015-06-30 20:22:20.000000000,,"[{'_account_id': 3}, {'_account_id': 6524}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10153}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 15296}]","[{'number': 1, 'created': '2015-06-15 14:40:10.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/neutron/commit/884af73c2fc33139f52df44f485579db652d74b6', 'message': 'DO NOT MERGE: test patch to see how run-docs.sh behaves with docs tox job\n\nChange-Id: Ic9ec653a58ab14098ef5d9046497e4db04466cd1\nDepends-On: I433126a8247e7e1c316f2c96bb21e15582b247ce\n'}]",0,191835,884af73c2fc33139f52df44f485579db652d74b6,12,10,1,9656,,,0,"DO NOT MERGE: test patch to see how run-docs.sh behaves with docs tox job

Change-Id: Ic9ec653a58ab14098ef5d9046497e4db04466cd1
Depends-On: I433126a8247e7e1c316f2c96bb21e15582b247ce
",git fetch https://review.opendev.org/openstack/neutron refs/changes/35/191835/1 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,884af73c2fc33139f52df44f485579db652d74b6,neutron-docs-job-fix,,,0,0
openstack%2Fgovernance~master~Ia9adc66090f2994bb291967f7f2e1b2b4dd14603,openstack/governance,master,Ia9adc66090f2994bb291967f7f2e1b2b4dd14603,Be specific about geography in release names,MERGED,2015-06-15 20:58:59.000000000,2015-06-30 20:15:07.000000000,2015-06-30 20:15:03.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 308}, {'_account_id': 964}, {'_account_id': 970}, {'_account_id': 1561}, {'_account_id': 2243}, {'_account_id': 2472}, {'_account_id': 2592}, {'_account_id': 2750}, {'_account_id': 4190}, {'_account_id': 6159}]","[{'number': 1, 'created': '2015-06-15 20:58:59.000000000', 'files': ['reference/release-naming.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/284efe54fe8924bf87346d6e525322eab1c456d1', 'message': 'Be specific about geography in release names\n\nThe existing relase name criteria were intentionally vague about\ngeography to allow us to collect the largest amount of cool names\npossible for voting.  Somehow, that did not end up happening and\ninstead a specific determination of region was used to drop about\n2/3 of the otherwise-qualifying names from the M name poll after\nnominations were closed.\n\nIn order to prevent this from happening again, we will need to\nvery specifically designate a region upon initiating the process.\n\nAlso, provide clear indication that the role of the election\nofficial is not to make subjective determinations.\n\nAlso, allow for a time between finalizing the list of names and\nthe start of the election so that if the election official makes\nany disputed decisions, there is an opportunity to address them\nbefore the poll goes out.  This also clarifies when the TC should\nadd any exceptions to the process.\n\nFinally, add an extra column to the election roster to indicate\nwhere the geographic boundaries should be specified.\n\nFor more background, see:\nhttp://lists.openstack.org/pipermail/openstack-dev/2015-June/066995.html\n\nChange-Id: Ia9adc66090f2994bb291967f7f2e1b2b4dd14603\n'}]",1,191974,284efe54fe8924bf87346d6e525322eab1c456d1,18,12,1,1,,,0,"Be specific about geography in release names

The existing relase name criteria were intentionally vague about
geography to allow us to collect the largest amount of cool names
possible for voting.  Somehow, that did not end up happening and
instead a specific determination of region was used to drop about
2/3 of the otherwise-qualifying names from the M name poll after
nominations were closed.

In order to prevent this from happening again, we will need to
very specifically designate a region upon initiating the process.

Also, provide clear indication that the role of the election
official is not to make subjective determinations.

Also, allow for a time between finalizing the list of names and
the start of the election so that if the election official makes
any disputed decisions, there is an opportunity to address them
before the poll goes out.  This also clarifies when the TC should
add any exceptions to the process.

Finally, add an extra column to the election roster to indicate
where the geographic boundaries should be specified.

For more background, see:
http://lists.openstack.org/pipermail/openstack-dev/2015-June/066995.html

Change-Id: Ia9adc66090f2994bb291967f7f2e1b2b4dd14603
",git fetch https://review.opendev.org/openstack/governance refs/changes/74/191974/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/release-naming.rst'],1,284efe54fe8924bf87346d6e525322eab1c456d1,,"#. After the close of nominations, the election official will finalize the list of proposed names and publicize it. In general, the official should strive to make objective determinations as to whether a name meets the `Release Name Criteria`_, but if subjective evaluation is required, should be generous in interpreting the rules. It is not necessary to reduce the list of proposed names to a small number. #. Once the list is finalized and publicized, a one-week period shall elapse before the start of the election so that any names removed from consideration because they did not meet the `Release Name Criteria`_ may be discussed. Names erroneously removed may be re-added during this period, and the Technical Committee may vote to add exceptional names (which do not meet the standard criteria). the corresponding release. The exact boundaries of the geographic region under consideration must be declared before the opening of nominations, as part of the initiation of the selection process.======= ============ ================ ========== ========== ================= Release Coordinator Nominations Open Poll Open Poll Close Geographic Region ======= ============ ================ ========== ========== ================= M Monty Taylor 2015-06-01 2015-06-08 2015-06-15 N/A ======= ============ ================ ========== ========== =================", the corresponding release.======= ============ ================ ========== ========== Release Coordinator Nominations Open Poll Open Poll Close ======= ============ ================ ========== ========== M Monty Taylor 2015-06-01 2015-06-08 2015-06-15 ======= ============ ================ ========== ==========,23,6
openstack%2Fopenstack-specs~master~I9e8be30834e7020320a1cd37c8f18e59da4b360b,openstack/openstack-specs,master,I9e8be30834e7020320a1cd37c8f18e59da4b360b,Update to CORS specification.,MERGED,2015-06-09 20:34:40.000000000,2015-06-30 20:14:46.000000000,2015-06-30 20:14:46.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 308}, {'_account_id': 970}, {'_account_id': 2243}, {'_account_id': 2472}, {'_account_id': 2592}, {'_account_id': 2750}, {'_account_id': 4190}, {'_account_id': 6159}, {'_account_id': 13805}]","[{'number': 1, 'created': '2015-06-09 20:34:40.000000000', 'files': ['specs/cors-support.rst'], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/b79dbecdf5d7742d738d329ed181d5b4ef037271', 'message': 'Update to CORS specification.\n\nChanges requested in discussion on the original CORS specification, however\ndeferred in favor of landing that specification. Commentary here:\n\nhttps://review.openstack.org/#/c/179866/5/specs/cors-support.rst\n\nChange-Id: I9e8be30834e7020320a1cd37c8f18e59da4b360b\n'}]",0,189924,b79dbecdf5d7742d738d329ed181d5b4ef037271,14,11,1,9717,,,0,"Update to CORS specification.

Changes requested in discussion on the original CORS specification, however
deferred in favor of landing that specification. Commentary here:

https://review.openstack.org/#/c/179866/5/specs/cors-support.rst

Change-Id: I9e8be30834e7020320a1cd37c8f18e59da4b360b
",git fetch https://review.opendev.org/openstack/openstack-specs refs/changes/24/189924/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/cors-support.rst'],1,b79dbecdf5d7742d738d329ed181d5b4ef037271,cors,"The W3C has released a Technical Recommendation (TR) by which an API maycommunity on their choices. The middleware must default to inactive, unless it is activated either explicitly, or implicitly via a provided configuration. `CORS Middleware`_ is available in oslo_middleware version 0.3.0. This particular implementation defaults to inactive, unless appropriate configuration options are detected in oslo_config, and its documentation already covers key security concerns. Additional work would be required to add this middleware to the appropriate services, and to add the necessary documentation to the docs repository.One alternative is to provide a proxy, much like horizon's implementation, or a well configured Apache mod_proxy. It would require additional documentationoptions are already available and well documented, however they do not enable experimentation or deployment of alternative UIs in the same way that CORS can, since they require the UI to be hosted in the same endpoint. This requires either close deployment cooperation, or deployment of a proxy-per-UI. CORS can permit UIs to be deployed using static files, allowing much lower cost-of-entry overheads.","The W3C has released a Technical Recommendation (TR) via which an API maycommunity on their choices. `CORS Middleware`_ is available in oslo_middleware version 0.3.0. Additional work would be required to add this middleware to the appropriate services, and to add the necessary documentation to the docs repository.One alternative is to provide a proxy, much like horizon's implementation, or a well configured Apache mod_proxy. It would require additional documentationoptions are already available and well documented, however they do not truly address the problem of services such as Ironic, which represents its resource links in a strictly RESTful fashion. In that case, the proxy would have to read every request and response, and replace all link references to Ironic with references to itself.",17,12
openstack%2Fgovernance~master~I7a870e016a02090ac6b65a124df265453e80daa6,openstack/governance,master,I7a870e016a02090ac6b65a124df265453e80daa6,release:managed for previously-incubated projects,MERGED,2015-06-16 13:24:01.000000000,2015-06-30 20:14:41.000000000,2015-06-30 20:14:41.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 7}, {'_account_id': 308}, {'_account_id': 741}, {'_account_id': 970}, {'_account_id': 1561}, {'_account_id': 2243}, {'_account_id': 2417}, {'_account_id': 2472}, {'_account_id': 2592}, {'_account_id': 2750}, {'_account_id': 4190}, {'_account_id': 6159}, {'_account_id': 7973}]","[{'number': 1, 'created': '2015-06-16 13:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/0b58d7f7faa1746a830982b534a687afdddd7e26', 'message': ""release:managed for previously-incubated projects\n\nProjects that were incubated during the Kilo development cycle used to\nhave their release management process handled by the release management\nteam. After discussing it with the team, we'd like to offer to continue\ndoing that for those projects (Manila, Designate, Zaqar, Barbican) under\nthe big tent model.\n\nThis should get approvals from each project's PTL.\n\nChange-Id: I7a870e016a02090ac6b65a124df265453e80daa6\n""}, {'number': 2, 'created': '2015-06-23 13:01:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/4051a8a0c0fdbc80edd5f9b579c7b02b493a8eb0', 'message': ""release:managed for previously-incubated projects\n\nProjects that were incubated during the Kilo development cycle used to\nhave their release management process handled by the release management\nteam. After discussing it with the team, we'd like to offer to continue\ndoing that for those projects (Manila, Designate, Zaqar, Barbican) under\nthe big tent model.\n\nThis should get approvals from each project's PTL.\n\nChange-Id: I7a870e016a02090ac6b65a124df265453e80daa6\n""}, {'number': 3, 'created': '2015-06-24 16:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/987d93b150c9b32c5a7cfecdde7402d43f153129', 'message': ""release:managed for previously-incubated projects\n\nProjects that were incubated during the Kilo development cycle used to\nhave their release management process handled by the release management\nteam. After discussing it with the team, we'd like to offer to continue\ndoing that for those projects (Manila, Designate, Zaqar, Barbican) under\nthe big tent model.\n\nThis should get approvals from each project's PTL.\n\nChange-Id: I7a870e016a02090ac6b65a124df265453e80daa6\n""}, {'number': 4, 'created': '2015-06-26 09:38:06.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/a1993302e329e318ab37ba20ed118d5cc4fb26c0', 'message': ""release:managed for previously-incubated projects\n\nProjects that were incubated during the Kilo development cycle used to\nhave their release management process handled by the release management\nteam. After discussing it with the team, we'd like to offer to continue\ndoing that for those projects (Manila, Designate, Zaqar, Barbican) under\nthe big tent model.\n\nThis should get approvals from each project's PTL.\n\nChange-Id: I7a870e016a02090ac6b65a124df265453e80daa6\n""}]",0,192193,a1993302e329e318ab37ba20ed118d5cc4fb26c0,32,15,4,308,,,0,"release:managed for previously-incubated projects

Projects that were incubated during the Kilo development cycle used to
have their release management process handled by the release management
team. After discussing it with the team, we'd like to offer to continue
doing that for those projects (Manila, Designate, Zaqar, Barbican) under
the big tent model.

This should get approvals from each project's PTL.

Change-Id: I7a870e016a02090ac6b65a124df265453e80daa6
",git fetch https://review.opendev.org/openstack/governance refs/changes/93/192193/2 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,0b58d7f7faa1746a830982b534a687afdddd7e26,update-release-status, - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed,,8,0
openstack%2Fgovernance~master~I043488ef7768d7f63658f3fc6e9251b691a4172f,openstack/governance,master,I043488ef7768d7f63658f3fc6e9251b691a4172f,Add release:managed to libraries,MERGED,2015-06-15 17:02:12.000000000,2015-06-30 20:14:13.000000000,2015-06-30 20:14:12.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 7}, {'_account_id': 308}, {'_account_id': 970}, {'_account_id': 1561}, {'_account_id': 2243}, {'_account_id': 2592}, {'_account_id': 2750}, {'_account_id': 4190}, {'_account_id': 6159}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-06-15 17:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/86805a97318836652f72e67a72829ca6c64f8d52', 'message': 'Add release:managed to libraries\n\nAdd the release:managed tag to the libraries that are being managed by\nthe release management team.\n\nChange-Id: I043488ef7768d7f63658f3fc6e9251b691a4172f\n'}, {'number': 2, 'created': '2015-06-15 17:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/a8a855f2e66247d846ce1afec0f6762dda361d66', 'message': 'Add release:managed to libraries\n\nAdd the release:managed tag to the libraries that are being managed by\nthe release management team.\n\nChange-Id: I043488ef7768d7f63658f3fc6e9251b691a4172f\n'}, {'number': 3, 'created': '2015-06-19 20:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/649e42430e94db232f8eaec3719933ee3b9edf85', 'message': 'Add release:managed to libraries\n\nAdd the release:managed tag to the libraries that are being managed by\nthe release management team.\n\nChange-Id: I043488ef7768d7f63658f3fc6e9251b691a4172f\n'}, {'number': 4, 'created': '2015-06-19 21:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/964cda3a9b8fc62fe8e7ae4d78a052d749876371', 'message': 'Add release:managed to libraries\n\nAdd the release:managed tag to the libraries that are being managed by\nthe release management team.\n\nChange-Id: I043488ef7768d7f63658f3fc6e9251b691a4172f\n'}, {'number': 5, 'created': '2015-06-24 16:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/e19d5b1a52393fdf6253a57cef796a6810a7441b', 'message': 'Add release:managed to libraries\n\nAdd the release:managed tag to the libraries that are being managed by\nthe release management team.\n\nChange-Id: I043488ef7768d7f63658f3fc6e9251b691a4172f\n'}, {'number': 6, 'created': '2015-06-26 09:38:06.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/ecd007e1a21f00828bde49b7dbd3b9ff41b7b18b', 'message': 'Add release:managed to libraries\n\nAdd the release:managed tag to the libraries that are being managed by\nthe release management team.\n\nChange-Id: I043488ef7768d7f63658f3fc6e9251b691a4172f\n'}]",1,191893,ecd007e1a21f00828bde49b7dbd3b9ff41b7b18b,36,12,6,2472,,,0,"Add release:managed to libraries

Add the release:managed tag to the libraries that are being managed by
the release management team.

Change-Id: I043488ef7768d7f63658f3fc6e9251b691a4172f
",git fetch https://review.opendev.org/openstack/governance refs/changes/93/191893/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,86805a97318836652f72e67a72829ca6c64f8d52,update-release-status, - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed - name: release:managed,,49,0
openstack%2Fopenstack-specs~master~I1a53b418568b8304ad74a2b30bdf1bb86ccb5f7a,openstack/openstack-specs,master,I1a53b418568b8304ad74a2b30bdf1bb86ccb5f7a,Add requirements management specification.,MERGED,2015-05-29 03:22:51.000000000,2015-06-30 20:12:49.000000000,2015-06-30 20:12:48.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 7}, {'_account_id': 308}, {'_account_id': 330}, {'_account_id': 782}, {'_account_id': 964}, {'_account_id': 970}, {'_account_id': 979}, {'_account_id': 1297}, {'_account_id': 1849}, {'_account_id': 2243}, {'_account_id': 2472}, {'_account_id': 2592}, {'_account_id': 2903}, {'_account_id': 4146}, {'_account_id': 4190}, {'_account_id': 5202}, {'_account_id': 5263}, {'_account_id': 5293}, {'_account_id': 6159}, {'_account_id': 6486}, {'_account_id': 6547}, {'_account_id': 6593}, {'_account_id': 7973}, {'_account_id': 8434}, {'_account_id': 9107}, {'_account_id': 12000}, {'_account_id': 12321}, {'_account_id': 14867}]","[{'number': 1, 'created': '2015-05-29 03:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/417335a25955497c18dd907919c94d986491f982', 'message': 'Add requirements management specification.\n\nOur current requirements management policy is causing signficant gate\ndowntime, developer issues and packaging headaches. We can do better.\n\nUsing pins rather than open ranges for testing avoids firedrills. Most\nof the work involved is a consequence of that key change.\n\nChange-Id: I1a53b418568b8304ad74a2b30bdf1bb86ccb5f7a\n'}, {'number': 2, 'created': '2015-05-29 03:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/bc0207a10ae3e008f334589de6bdf5028094b82c', 'message': 'Add requirements management specification.\n\nOur current requirements management policy is causing signficant gate\ndowntime, developer issues and packaging headaches. We can do better.\n\nUsing pins rather than open ranges for testing avoids firedrills. Most\nof the work involved is a consequence of that key change.\n\nChange-Id: I1a53b418568b8304ad74a2b30bdf1bb86ccb5f7a\n'}, {'number': 3, 'created': '2015-05-29 03:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/f4b75cfb1293f00ec679569ed4e5c017b2bf0e01', 'message': 'Add requirements management specification.\n\nOur current requirements management policy is causing signficant gate\ndowntime, developer issues and packaging headaches. We can do better.\n\nUsing pins rather than open ranges for testing avoids firedrills. Most\nof the work involved is a consequence of that key change.\n\nChange-Id: I1a53b418568b8304ad74a2b30bdf1bb86ccb5f7a\n'}, {'number': 4, 'created': '2015-06-01 23:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/9fe886096fdf752cbe88ea8ad7229cf996a37da8', 'message': 'Add requirements management specification.\n\nOur current requirements management policy is causing signficant gate\ndowntime, developer issues and packaging headaches. We can do better.\n\nUsing pins rather than open ranges for testing avoids firedrills. Most\nof the work involved is a consequence of that key change.\n\nChange-Id: I1a53b418568b8304ad74a2b30bdf1bb86ccb5f7a\n'}, {'number': 5, 'created': '2015-06-10 12:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/a111a835ff3ddbadec548f9003537a357bde5519', 'message': 'Add requirements management specification.\n\nOur current requirements management policy is causing signficant gate\ndowntime, developer issues and packaging headaches. We can do better.\n\nUsing pins rather than open ranges for testing avoids firedrills. Most\nof the work involved is a consequence of that key change.\n\nChange-Id: I1a53b418568b8304ad74a2b30bdf1bb86ccb5f7a\n'}, {'number': 6, 'created': '2015-06-23 21:10:19.000000000', 'files': ['specs/requirements-management.rst'], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/b486418b62f1a0ab8c63fb04a244657b6bb52e47', 'message': 'Add requirements management specification.\n\nOur current requirements management policy is causing signficant gate\ndowntime, developer issues and packaging headaches. We can do better.\n\nUsing pins rather than open ranges for testing avoids firedrills. Most\nof the work involved is a consequence of that key change.\n\nChange-Id: I1a53b418568b8304ad74a2b30bdf1bb86ccb5f7a\n'}]",51,186635,b486418b62f1a0ab8c63fb04a244657b6bb52e47,60,31,6,4190,,,0,"Add requirements management specification.

Our current requirements management policy is causing signficant gate
downtime, developer issues and packaging headaches. We can do better.

Using pins rather than open ranges for testing avoids firedrills. Most
of the work involved is a consequence of that key change.

Change-Id: I1a53b418568b8304ad74a2b30bdf1bb86ccb5f7a
",git fetch https://review.opendev.org/openstack/openstack-specs refs/changes/35/186635/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/requirements-management.rst'],1,417335a25955497c18dd907919c94d986491f982,,"========================= Requirements management ========================= Include the URL of your launchpad blueprint: https://blueprints.launchpad.net//+spec/example Our current requirements management policy is causing signficant gate downtime, developer issues and packaging headaches. We can do better. Problem description =================== There are a number of interacting things we do today which are causing issues. We run our tests with unpinned dependencies. This means that any patch being tested actually tests two things: the change in the patch, and all new releases of dependencies (within the ranges relevant to the branch in question). With nearly 300 (transitive) libraries in use, an incompatibility rate of only one per library per year can break us daily. We are suffering regular firedrills, and we've burnt out many gate fixers so far. We require that projects have their install_requires exactly match our top level package specifiers that we use in gate jobs. This leads to releases of stable branches that have much narrower dependency specifiers than may work in practice. This becomes a problem when one package of a set needs to upgrade a given dependency post-release to fix a bug: the new package can be outside the set of versions dictated by the union of specifiers across all our packages that use it, which causes a cascade where new releases are required across the entire set to permit it to be used. We override project local install_requires during testing, which means that our co-installability check is often returning a false positive: our actual install_requires may be incompatible but the gate won't report on this. Additionally we have some constraints on solutions: 1. “Some” expression to downstream packagers/users 2. Configure test jobs (unit, integration, & functional) (devstack & non-devstack) 3. Encourage convergence/maintain co-installability 4. Not be fiction 5. pip install python-novaclient works 6. Stop breaking all the time (esp. stable) 7. Don’t make library release management painful Finally there are plenty of things that could be done that aren't addressed in this specification: its the minimal self consistent set of improvements to address the ongoing firedrills we currently suffer. Proposed change =============== tl;dr: Use exact pins for testing. Use open ended specifiers in project install_requires. Globally we need to maintain global-requirements as we do today. This remains our policy control for which libraries are acceptable in OpenStack projects. As we start using extras, we'll need to track extras in global-requirements as well. We want to preserve an axiom: that projects have wider-or-equal requirements than the coordinated release which has wider-or-equal requirements to the test pinned list. We'll add a new freeze file to global-requirements, `upper-constraints.txt`. This will contain a pinned list of the entire set of transitive requirements for that branch of OpenStack. All CI jobs will use this to constrain the versions of Python projects that can be tested with. Changes to that file will be tested by running a subset of the same jobs that would consume it, as well as a policy checker that checks it is compatible with global-requirements. We'll tighten up the policy checks on projects to require that there be no dependencies outside of those listed in global-requirements. This is needed to allow centralised calculations about potential upgrades and co-installability calculations. We'll change the check from 'identical line to global-requires' to be 'compatible with both global-requires and upper-constraints'. The existing requirements sync job will continue to propose converged requirements for projects that have opted into convergened dependency management. We'll create a periodic job that takes global-requirements, expands it out transitively, and then proposes a merge to global-requirements bringing in any new releases that aren't already listed in upper-constraints. During releases we'll gate any requirements changes on both master and any branched projects, branching openstack/requirements last when we're finally ready to decouple the release from master. This is aimed at the changes involved in using new releases of oslo etc. Lastly, the pip resolver work will increase the accuracy of our constraints pinning, but this spec is not dependent on that. Alternatives ------------ The null option will continue to burn people out. No other options have been proposed. Implementation ============== Assignee(s) ----------- Primary assignee: lifeless Work Items ---------- - Open up install-requires in master and stable/kilo. [lifeless] - Generate pip glue to honour upper-constraints.txt. There are a few different ways this might be cut, lifeless will figure a working low hanging fruit implementation with upstream and/or infra. [lifeless] - Create an initial upper-constraints.txt for master and stable/kilo. [lifeless] - Change g-r self test to ensure consistency between g-r and upper-constraints.txt. [lifeless] - Create jobs to prevent project local install_requires being incompatible with global-requirements. [fungi/lifeless] - Teach devstack how to honour a constraints file. [lifeless] - Teach unittests / tox how to honour a constraints file. [lifeless] - Generate zuul glue to mangle constraints files when a project from within the constraints is part of the queue being assessed. [fungi/lifeless] - Create jobs that use constraints files for everything. experimental for local project contexts, non-voting when triggered from g-r. [fungi] - Create script to determine transitive dependencies of global-requirements and propose upgrades to upper-constraints.txt. [lifeless] - Turn that script into a periodic job. [fungi] - Debug and fix as needed until we get reasonably reliable passes on the non-voting g-r jobs. - Flip the constraints using jobs to voting on g-r, and non-voting everywhere else. [fungi] - Switch over to the constraints using jobs everywhere else in a more controlled fashion. [fungi] - Update release documentation to branch openstack/requirements last, and setup the job that will validate requirements changes against the projects that have branched already, as well as master itself. [fungi] Dependencies ============ - None. History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Kilo - Introduced .. note:: This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ",,180,0
openstack%2Fproject-config~master~Iaa3be1b0163a35286ab554a732368fdbf49c826f,openstack/project-config,master,Iaa3be1b0163a35286ab554a732368fdbf49c826f,puppet: do not run beaker/upgrade jobs on old branches,ABANDONED,2015-06-30 20:10:50.000000000,2015-06-30 20:11:22.000000000,,[],"[{'number': 1, 'created': '2015-06-30 20:10:50.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/02fca9ee2e697296a6741d40b2eb69a6639eb4bf', 'message': 'puppet: do not run beaker/upgrade jobs on old branches\n\nBeaker has been introduced after stable/juno, there is no need to run the jobs before.\n\nChange-Id: Iaa3be1b0163a35286ab554a732368fdbf49c826f\n'}]",0,197294,02fca9ee2e697296a6741d40b2eb69a6639eb4bf,2,0,1,3153,,,0,"puppet: do not run beaker/upgrade jobs on old branches

Beaker has been introduced after stable/juno, there is no need to run the jobs before.

Change-Id: Iaa3be1b0163a35286ab554a732368fdbf49c826f
",git fetch https://review.opendev.org/openstack/project-config refs/changes/94/197294/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,02fca9ee2e697296a6741d40b2eb69a6639eb4bf,puppet-jobs-refacto, branch: ^(?!stable/(grizzly|havana|icehouse|juno)).*$,,1,0
openstack%2Fopenstack-specs~master~I41b39924230e2e2166609cc79d59e444855f6557,openstack/openstack-specs,master,I41b39924230e2e2166609cc79d59e444855f6557,Enabling Python 3 for Application Integration Tests,MERGED,2015-04-24 18:26:56.000000000,2015-06-30 20:10:33.000000000,2015-06-30 20:10:31.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 105}, {'_account_id': 308}, {'_account_id': 782}, {'_account_id': 964}, {'_account_id': 970}, {'_account_id': 2243}, {'_account_id': 2472}, {'_account_id': 2537}, {'_account_id': 2592}, {'_account_id': 4190}, {'_account_id': 4571}, {'_account_id': 5638}, {'_account_id': 6116}, {'_account_id': 6159}, {'_account_id': 6899}, {'_account_id': 7973}, {'_account_id': 9107}, {'_account_id': 9656}, {'_account_id': 12000}, {'_account_id': 13290}]","[{'number': 1, 'created': '2015-04-24 18:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/fa03e209b00c3bfd8e3c1b6d1551cc576e872258', 'message': 'Enabling Python 3 for Application Integration Tests\n\nChange-Id: I41b39924230e2e2166609cc79d59e444855f6557\n'}, {'number': 2, 'created': '2015-04-24 18:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/f2107987bcd212acc161a89058c37af4b481dc77', 'message': 'Enabling Python 3 for Application Integration Tests\n\nChange-Id: I41b39924230e2e2166609cc79d59e444855f6557\n'}, {'number': 3, 'created': '2015-06-09 18:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/1c622e0b0a85c62e9d11eea4d71f51b6d0527132', 'message': 'Enabling Python 3 for Application Integration Tests\n\nChange-Id: I41b39924230e2e2166609cc79d59e444855f6557\n'}, {'number': 4, 'created': '2015-06-09 18:23:42.000000000', 'files': ['specs/enable-python-3-int-func-tests.rst'], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/9c458712494c04f788b062762183ef0232c04448', 'message': 'Enabling Python 3 for Application Integration Tests\n\nChange-Id: I41b39924230e2e2166609cc79d59e444855f6557\n'}]",18,177375,9c458712494c04f788b062762183ef0232c04448,38,22,4,2472,,,0,"Enabling Python 3 for Application Integration Tests

Change-Id: I41b39924230e2e2166609cc79d59e444855f6557
",git fetch https://review.opendev.org/openstack/openstack-specs refs/changes/75/177375/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/enable-python-3-int-func-tests.rst'],1,fa03e209b00c3bfd8e3c1b6d1551cc576e872258,python-3,"======================================================== Enabling Python 3 for Integration and Functional Tests ======================================================== The 2.x series of the C Python interpreter on which OpenStack releases through Kilo are built is reaching its the end of the extended support period, defined by the upstream developers. This spec describes motivation for porting fully to Python 3 and some of the work we will need to enable testing applications as they move to Python 3. Problem description =================== There are a lot of small motivations for moving to Python 3, including better unicode support and new features in the language and standard library. The primary motivation, however, is that Python 2 is reaching its end-of-life for support from its developers. Just as we expect our users to update to new versions of OpenStack in order to continue to receive support, the python-dev team expects users of the language to update to reasonably modern and supported versions of the interpreter in order to receive bug and security fixes. When Python 3 was introduced, the support period for Python 2 was extended beyond the normal length of time to allow projects plenty of time to migrate, and to allow the python-dev team to receive feedback to make changes to the language so that migration is easier. That period is coming to an end, and we need to consider migration seriously. ""Python 3.0 was released in 2008. The final 2.x version 2.7 release came out in mid-2010, with a statement of extended support for this end-of-life release. The 2.x branch will see no new major releases after that. 3.x is under active development and has already seen over five years of stable releases, including version 3.3 in 2012 and 3.4 in 2014. This means that all recent standard library improvements, for example, are only available by default in Python 3.x."" -- Python2orPython3_ That said, we cannot expect all of OpenStack to be ported at one time. It's likely that we could not port everything in a single release cycle, given the other work going on. So we need a way to stage the porting work so that projects can port when they are ready, without having to wait for any other projects to finish their ports. Proposed change =============== Our services communicate through REST APIs and the message bus. This means they are decoupled enough that we can port them one at a time, if our tools support running some services on Python 2 and some on Python 3. Our unit test tool, tox, supports multiple Python versions already, and in fact most of our library projects are testing under Python 2.6, 2.7, and 3.4 today. Our integration tests, however, do not yet support multiple Python versions, so that's the next step to take. General Strategy ---------------- #. Update devstack to install apps with the ""right"" version of the interpreter. * Use the version declared to be supported by the project through its trove classifiers. * Allowing apps to be installed with the right version of the interpreter indepdently of other apps means we can port one app at a time. #. Port each application to 3.4 and stop testing it under 2.7. * There is no need to test an application under both versions, since they only need to be deployed under one version at a time. #. Remove use of six in an app after it has moved to 3.x. * We will need to continue to use six in the libraries until all apps have moved to Python 3, but there is no reason to do that for the applications once they move to Python 2. .. note:: Even after all applications are on 3.x, we need to maintain some python 2.7 support for client libraries and the Oslo libraries they use. We should consider the deprecation policy of Python 2 for the client libraries independently of porting the applications to 3. Which version of Python to use? ------------------------------- We have discussed this before, and it continues to be a moving target. Version 3.4 seems to be our best goal for now. - 3.0 - 3.2 are no longer actively supported - 3.3 is not available on all distros - **3.4 is available on all distros** - 3.5 is in alpha and so is not ready for us to use, yet Functional Tests for Libraries ------------------------------ Besides the functional and integration tests for applications, we also have functional tests for libraries. I propose that we configure the test jobs to run those only under Python 3, to avoid duplication and expose porting issues that would have an impact on applications as early as possible. Alternatives ------------ Stay with C Python 2 ~~~~~~~~~~~~~~~~~~~~ Commercial support is likely to be available from distros for longer than it is available upstream, but even that will stop at some point. Use PyPy or Another Implementation ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Some applications may benefit from PyPy's JIT compiler. It currently supports 2.7.8 and 3.2.5, which means our Python 2 code would probably run but code designed for Python 3.4 will not. I'm not aware of any large deployments using PyPy to run services, so I'm not sure this is really a problem. Given the expected long time frame for porting to Python 3, it is likely that PyPy will be able to catch up to the language level needed to run OpenStack by the time we are fully moved to Python 3. Wait for Python 3.5 ~~~~~~~~~~~~~~~~~~~ Moving from 3.4 to 3.5 should require much less work than moving from 2.7 to 3.4. We can therefore start now, and monitor adoption of 3.5 by distributions to decide whether to ultimately use 3.4 or a later version. Use Separate Virtualenvs in devstack ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ We have discussed installing applications into virtualenvs a couple of times. Doing that is orthogonal to these proposed changes, since we would still need to use the correct version of Python within the virtualenv. Functional tests for libraries on 2 and 3 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ We could run parallel test jobs configured to run the functional tests for libraries under both Python 2 and 3. This would largely duplicate effort, though it might uncover some inconsistent handling of bytes vs. strings. We shouldn't start out trying to do this, but if we do uncover problems we can add more test jobs. Implementation ============== Assignee(s) ----------- Primary assignee: Doug Hellmann Work Items ---------- 1. Update devstack to install pip for both Python 2 and Python 3. 2. Update devstack to look at the supported Python versions for a project, and choose the correct copy of pip to install it and its dependencies. This may be as simple as:: python setup.py --classifiers | grep 'Language' | cut -f5 -d: | grep '\.' 3. When installing libraries from source using the ``LIBS_FROM_GIT`` feature of devstack, ensure that the libraries are installed for both Python 2 and Python 3. 4. Begin porting applications to Python 3. * Unit tests can be run under Python 3 for applications just as they are for libraries, by enabling the appropriate job. Having the unit tests working with Python 3 is a good first step, before enabling the integration tests. * Integration tests can be run by submitting a patch updating the trove classifier. * Some projects will have dependencies blocking them from moving to Python 3 at first, and those should be tracked separately from this proposal. Some functions in Oslo libraries have been identified as having incompatibilities with Python 3. As these cases are reported, we will need to decide, on a case-by-case basis whether it is feasible to create versions of those functions that work for both Python 2 and 3, or if we will need to create some new APIs for use under Python 3 (see ``oslo_utils.encodeutils.safe_decode``, ``oslo_utils.strutils.mask_password``, and ``oslo_concurrency.processutils.execute`` as examples). References ========== - Our notes about the state of Python 3 support: https://wiki.openstack.org/wiki/Python3 - Advice from the python-dev community about choosing a Python version: Python2orPython3_ - Summit discussions - `Havana <https://etherpad.openstack.org/p/havana-python3>`__ - `Icehouse <https://etherpad.openstack.org/p/IcehousePypyPy3>`__ - `Juno <https://etherpad.openstack.org/p/juno-cross-project-future-of-python>`__ - Project-specific specs related to Python 3 - `Nova <https://review.openstack.org/#/c/176868>`__ - `Heat <http://specs.openstack.org/openstack/heat-specs/specs/liberty/heat-python34-support.html>`__ - `Neutron <https://review.openstack.org/#/c/172962/>`__ .. _Python2orPython3: https://wiki.python.org/moin/Python2orPython3 History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Liberty - Introduced .. note:: This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ",,235,0
openstack%2Fyaql~master~I851785a4e166f4f183080cdee5e41c959c7a6b1f,openstack/yaql,master,I851785a4e166f4f183080cdee5e41c959c7a6b1f,Adds Unicode support to yaql REPL CLI,MERGED,2015-06-10 21:23:46.000000000,2015-06-30 20:09:11.000000000,2015-06-30 20:09:10.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7226}, {'_account_id': 7600}, {'_account_id': 8127}, {'_account_id': 15168}]","[{'number': 1, 'created': '2015-06-10 21:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/yaql/commit/f685a0b90f2e6bee25d307c6626fc03c14217d73', 'message': 'Adds Unicode to yaql REPL CLI\n\nUnicode was supported by the yaql itself but not by its CLI\n\nAlso bumps version in setup.cfg to the next beta because otherwise\nlibrary cannot be installed\n\nChange-Id: I851785a4e166f4f183080cdee5e41c959c7a6b1f\nCloses-Bug: #1463171\n'}, {'number': 2, 'created': '2015-06-10 21:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/yaql/commit/a3b4f7315617f7b14892db9ffb6d512b3368ab37', 'message': 'Adds Unicode support to yaql REPL CLI\n\nUnicode was supported by the yaql itself but not by its CLI\n\nAlso bumps version in setup.cfg to the next beta because otherwise\nlibrary cannot be installed\n\nChange-Id: I851785a4e166f4f183080cdee5e41c959c7a6b1f\nCloses-Bug: #1463171\n'}, {'number': 3, 'created': '2015-06-10 21:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/yaql/commit/7da84594353733f05bcba434685cb4fd756b51f2', 'message': 'Adds Unicode support to yaql REPL CLI\n\nUnicode was supported by the yaql itself but not by its CLI\n\nAlso bumps version in setup.cfg to the next beta because otherwise\nlibrary cannot be installed\n\nChange-Id: I851785a4e166f4f183080cdee5e41c959c7a6b1f\nCloses-Bug: #1463171\n'}, {'number': 4, 'created': '2015-06-10 22:05:29.000000000', 'files': ['yaql/cli/cli_functions.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/yaql/commit/3828b49ab2ca2f0f8ef3e43b2f4f0e42ed6ce893', 'message': 'Adds Unicode support to yaql REPL CLI\n\nUnicode was supported by the yaql itself but not by its CLI\n\nAlso bumps version in setup.cfg to the next beta because otherwise\nlibrary cannot be installed\n\nChange-Id: I851785a4e166f4f183080cdee5e41c959c7a6b1f\nCloses-Bug: #1463171\n'}]",0,190360,3828b49ab2ca2f0f8ef3e43b2f4f0e42ed6ce893,19,6,4,7226,,,0,"Adds Unicode support to yaql REPL CLI

Unicode was supported by the yaql itself but not by its CLI

Also bumps version in setup.cfg to the next beta because otherwise
library cannot be installed

Change-Id: I851785a4e166f4f183080cdee5e41c959c7a6b1f
Closes-Bug: #1463171
",git fetch https://review.opendev.org/openstack/yaql refs/changes/60/190360/4 && git format-patch -1 --stdout FETCH_HEAD,"['yaql/cli/cli_functions.py', 'setup.cfg']",2,f685a0b90f2e6bee25d307c6626fc03c14217d73,bug/1463171,version = 1.0.0b2,version = 1.0.0b1,8,9
openstack%2Fneutron~feature%2Fpecan~Ib8c70c6aec4e320c84546c8ab52e29b97c62d401,openstack/neutron,feature/pecan,Ib8c70c6aec4e320c84546c8ab52e29b97c62d401,Merge remote-tracking branch 'origin/master' into merge-branch,MERGED,2015-06-30 00:37:09.000000000,2015-06-30 20:08:37.000000000,2015-06-30 02:28:16.000000000,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 6951}, {'_account_id': 7787}, {'_account_id': 9682}, {'_account_id': 10153}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14571}]","[{'number': 1, 'created': '2015-06-30 00:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7f759c077f8f860c13db92d2ea6b353ef6b70900', 'message': ""Merge remote-tracking branch 'origin/master' into merge-branch\n\nChange-Id: Ib8c70c6aec4e320c84546c8ab52e29b97c62d401\n""}]",0,196920,7f759c077f8f860c13db92d2ea6b353ef6b70900,14,10,1,105,,,0,"Merge remote-tracking branch 'origin/master' into merge-branch

Change-Id: Ib8c70c6aec4e320c84546c8ab52e29b97c62d401
",git fetch https://review.opendev.org/openstack/neutron refs/changes/20/196920/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,7f759c077f8f860c13db92d2ea6b353ef6b70900,bug/1468828,,,0,0
openstack%2Fheat~master~Ib08cc5e59f9d125f90dcbe08cb57c107dac0e8cf,openstack/heat,master,Ib08cc5e59f9d125f90dcbe08cb57c107dac0e8cf,Coverage: Full coverage for engine function methods,MERGED,2015-06-28 16:37:21.000000000,2015-06-30 20:06:38.000000000,2015-06-30 20:06:36.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 4715}, {'_account_id': 6498}, {'_account_id': 12363}, {'_account_id': 13323}, {'_account_id': 13720}]","[{'number': 1, 'created': '2015-06-28 16:37:21.000000000', 'files': ['heat/tests/test_function.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/243f01fdffbe225eb0846d4b9752508063671b60', 'message': 'Coverage: Full coverage for engine function methods\n\nAdded unit tests to get 100% coverage for engine function methods\n\nChange-Id: Ib08cc5e59f9d125f90dcbe08cb57c107dac0e8cf\n'}]",0,196453,243f01fdffbe225eb0846d4b9752508063671b60,21,7,1,6498,,,0,"Coverage: Full coverage for engine function methods

Added unit tests to get 100% coverage for engine function methods

Change-Id: Ib08cc5e59f9d125f90dcbe08cb57c107dac0e8cf
",git fetch https://review.opendev.org/openstack/heat refs/changes/53/196453/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/tests/test_function.py'],1,243f01fdffbe225eb0846d4b9752508063671b60,coverenginefunction,"class TestFunctionKeyError(function.Function): def result(self): raise TypeError class TestFunctionValueError(function.Function): def result(self): raise ValueError class TestFunctionResult(function.Function): def result(self): return super(TestFunctionResult, self).result() def test_function_str_value(self): func1 = TestFunction(None, 'foo', ['bar', 'baz']) expected = '%s %s' % (""<heat.tests.test_function.TestFunction"", ""{foo: ['bar', 'baz']} -> 'wibble'>"") self.assertEqual(expected, six.text_type(func1)) def test_function_stack_reference_none(self): func1 = TestFunction(None, 'foo', ['bar', 'baz']) self.assertIsNone(func1.stack) def test_function_exception_key_error(self): func1 = TestFunctionKeyError(None, 'foo', ['bar', 'baz']) expected = '%s %s' % (""<heat.tests.test_function.TestFunctionKeyError"", ""{foo: ['bar', 'baz']} -> ???>"") self.assertEqual(expected, six.text_type(func1)) def test_function_eq_exception_key_error(self): func1 = TestFunctionKeyError(None, 'foo', ['bar', 'baz']) func2 = TestFunctionKeyError(None, 'foo', ['bar', 'baz']) result = func1.__eq__(func2) self.assertEqual(result, NotImplemented) def test_function_ne_exception_key_error(self): func1 = TestFunctionKeyError(None, 'foo', ['bar', 'baz']) func2 = TestFunctionKeyError(None, 'foo', ['bar', 'baz']) result = func1.__ne__(func2) self.assertEqual(result, NotImplemented) def test_function_exception_value_error(self): func1 = TestFunctionValueError(None, 'foo', ['bar', 'baz']) expected = '%s %s' % ( ""<heat.tests.test_function.TestFunctionValueError"", ""{foo: ['bar', 'baz']} -> ???>"") self.assertEqual(expected, six.text_type(func1)) def test_function_eq_exception_value_error(self): func1 = TestFunctionValueError(None, 'foo', ['bar', 'baz']) func2 = TestFunctionValueError(None, 'foo', ['bar', 'baz']) result = func1.__eq__(func2) self.assertEqual(result, NotImplemented) def test_function_ne_exception_value_error(self): func1 = TestFunctionValueError(None, 'foo', ['bar', 'baz']) func2 = TestFunctionValueError(None, 'foo', ['bar', 'baz']) result = func1.__ne__(func2) self.assertEqual(result, NotImplemented) def test_function_abstract_result(self): func1 = TestFunctionResult(None, 'foo', ['bar', 'baz']) expected = '%s %s -> %s' % ( ""<heat.tests.test_function.TestFunctionResult"", ""{foo: ['bar', 'baz']}"", ""{'foo': ['bar', 'baz']}>"") self.assertEqual(expected, six.text_type(func1)) ",,70,0
openstack%2Ffuel-qa~master~I4569db85099e4e3eb09b8b0d0a069fc243176f4c,openstack/fuel-qa,master,I4569db85099e4e3eb09b8b0d0a069fc243176f4c,"Fix docstrings for sphinx, fix snapshot names for updates",MERGED,2015-06-30 16:47:59.000000000,2015-06-30 20:00:21.000000000,2015-06-30 20:00:21.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}]","[{'number': 1, 'created': '2015-06-30 16:47:59.000000000', 'files': ['doc/base_tests.rst', 'fuelweb_test/tests/test_services.py', 'fuelweb_test/tests/tests_strength/test_restart.py', 'fuelweb_test/tests/gd_based_tests/test_neutron.py', 'fuelweb_test/tests/tests_os_patching/__init__.py', 'fuelweb_test/tests/test_by_tempest.py', 'fuelweb_test/tests/test_ceph.py', 'fuelweb_test/tests/test_ha_one_controller.py', 'fuelweb_test/tests/test_ha.py', 'fuelweb_test/helpers/decorators.py', 'fuelweb_test/helpers/fuel_actions.py', 'fuelweb_test/tests/tests_strength/test_failover.py', 'fuelweb_test/tests/gd_based_tests/test_neutron_vlan_ceph_mongo.py', 'fuelweb_test/tests/test_multiple_networks.py', 'fuelweb_test/tests/test_vcenter.py', 'fuelweb_test/puppet_tests/pp_testgenerator.py', 'fuelweb_test/tests/tests_strength/test_master_node_failover.py', 'fuelweb_test/tests/plugins/plugin_reboot/test_plugin_reboot_task.py', 'fuelweb_test/tests/tests_os_patching/test_os_patching.py', 'fuelweb_test/tests/plugins/plugin_example/test_fuel_plugin_example.py', 'fuelweb_test/tests/test_upgrade.py', 'fuelweb_test/helpers/checkers.py', 'fuelweb_test/tests/tests_strength/test_neutron.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/92054440a4653ca85c8ee89951344b0068da3f76', 'message': 'Fix docstrings for sphinx, fix snapshot names for updates\n\nSome fixes for 7.0 branch:\n\n- fix docstrings to match sphinx requirements\n- remove outdated \'tests_os_patching\' module\n- fix snapshot names for 6.1 -> 7.0 rollback/update jobs\n- add separate groups for each of rollback/update jobs to reduce\n  amount of ""skipped"" test cases.\n\nChange-Id: I4569db85099e4e3eb09b8b0d0a069fc243176f4c\nCloses-Bug:#1468392\nRelated-Bug:#1470168\n'}]",0,197175,92054440a4653ca85c8ee89951344b0068da3f76,10,4,1,11969,,,0,"Fix docstrings for sphinx, fix snapshot names for updates

Some fixes for 7.0 branch:

- fix docstrings to match sphinx requirements
- remove outdated 'tests_os_patching' module
- fix snapshot names for 6.1 -> 7.0 rollback/update jobs
- add separate groups for each of rollback/update jobs to reduce
  amount of ""skipped"" test cases.

Change-Id: I4569db85099e4e3eb09b8b0d0a069fc243176f4c
Closes-Bug:#1468392
Related-Bug:#1470168
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/75/197175/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/base_tests.rst', 'fuelweb_test/tests/test_services.py', 'fuelweb_test/tests/tests_strength/test_restart.py', 'fuelweb_test/tests/gd_based_tests/test_neutron.py', 'fuelweb_test/tests/tests_os_patching/__init__.py', 'fuelweb_test/tests/test_by_tempest.py', 'fuelweb_test/tests/test_ceph.py', 'fuelweb_test/tests/test_ha_one_controller.py', 'fuelweb_test/tests/test_ha.py', 'fuelweb_test/helpers/decorators.py', 'fuelweb_test/helpers/fuel_actions.py', 'fuelweb_test/tests/tests_strength/test_failover.py', 'fuelweb_test/tests/gd_based_tests/test_neutron_vlan_ceph_mongo.py', 'fuelweb_test/tests/test_multiple_networks.py', 'fuelweb_test/tests/test_vcenter.py', 'fuelweb_test/puppet_tests/pp_testgenerator.py', 'fuelweb_test/tests/tests_strength/test_master_node_failover.py', 'fuelweb_test/tests/plugins/plugin_reboot/test_plugin_reboot_task.py', 'fuelweb_test/tests/tests_os_patching/test_os_patching.py', 'fuelweb_test/tests/plugins/plugin_example/test_fuel_plugin_example.py', 'fuelweb_test/tests/test_upgrade.py', 'fuelweb_test/helpers/checkers.py', 'fuelweb_test/tests/tests_strength/test_neutron.py']",23,92054440a4653ca85c8ee89951344b0068da3f76,bug/1468392,,,173,562
openstack%2Fopenstacksdk~master~Ied12c5a3badc3d6c5f47d3b2d8b86e1dc9d1d1fc,openstack/openstacksdk,master,Ied12c5a3badc3d6c5f47d3b2d8b86e1dc9d1d1fc,Check results of find before returning,MERGED,2015-06-29 19:47:32.000000000,2015-06-30 19:55:31.000000000,2015-06-30 19:55:27.000000000,"[{'_account_id': 3}, {'_account_id': 8246}, {'_account_id': 8257}, {'_account_id': 8736}]","[{'number': 1, 'created': '2015-06-29 19:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/fbf8ea059299a2ae244847fa52b21c4b11b9a4a1', 'message': 'Check results of find before returning\n\nResource.find was returning values that may not have actually matched\nwhat was attempting to be found. When only one item was found, it was\nreturned regardless of match. This can be seen if you only have one\nserver, then do compute.find_server with both a real server name and\nsome fake name - you\'ll get that one server back every time.\n\nThis test removes the ""test_nameo"" test, which was only working because\nof this bug.\n\nChange-Id: Ied12c5a3badc3d6c5f47d3b2d8b86e1dc9d1d1fc\nCloses-Bug: 1419576\n'}, {'number': 2, 'created': '2015-06-29 20:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c1a6e7590b16d9fc50562d71794282086849c6d1', 'message': 'Check results of find before returning\n\nResource.find was returning values that may not have actually matched\nwhat was attempting to be found. When only one item was found, it was\nreturned regardless of match. This can be seen if you only have one\nserver, then do compute.find_server with both a real server name and\nsome fake name - you\'ll get that one server back every time.\n\nThis test removes the ""test_nameo"" test, which was only working because\nof this bug.\n\nChange-Id: Ied12c5a3badc3d6c5f47d3b2d8b86e1dc9d1d1fc\nCloses-Bug: 1419576\n'}, {'number': 3, 'created': '2015-06-30 17:28:04.000000000', 'files': ['openstack/tests/unit/test_resource.py', 'openstack/resource.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f2fbedc9ed39cfada73b406c354aea6fe97adc11', 'message': 'Check results of find before returning\n\nResource.find was returning values that may not have actually matched\nwhat was attempting to be found. When only one item was found, it was\nreturned regardless of match. This can be seen if you only have one\nserver, then do compute.find_server with both a real server name and\nsome fake name - you\'ll get that one server back every time.\n\nThis test removes the ""test_nameo"" test, which was only working because\nof this bug.\n\nChange-Id: Ied12c5a3badc3d6c5f47d3b2d8b86e1dc9d1d1fc\nCloses-Bug: 1419576\n'}]",5,196828,f2fbedc9ed39cfada73b406c354aea6fe97adc11,13,4,3,8257,,,0,"Check results of find before returning

Resource.find was returning values that may not have actually matched
what was attempting to be found. When only one item was found, it was
returned regardless of match. This can be seen if you only have one
server, then do compute.find_server with both a real server name and
some fake name - you'll get that one server back every time.

This test removes the ""test_nameo"" test, which was only working because
of this bug.

Change-Id: Ied12c5a3badc3d6c5f47d3b2d8b86e1dc9d1d1fc
Closes-Bug: 1419576
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/28/196828/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/test_resource.py', 'openstack/resource.py']",2,fbf8ea059299a2ae244847fa52b21c4b11b9a4a1,bug/1419576," :raises: :class:`openstack.exceptions.DuplicateResource` if more than one resource is found for this request. def get_one_match(data, attr): if len(info) == 1: result = cls.existing(**data[0]) value = getattr(result, attr, False) if value == name_or_id: return result return None result = get_one_match(info, cls.id_attribute) if result is not None: return result result = get_one_match(info, cls.name_attribute) if result is not None: return result ", if len(info) == 1: return cls.existing(**info[0]) if len(info) == 1: return cls.existing(**info[0]),27,26
openstack%2Foctavia~master~I2a2ec83baa13f4433e32c180d7a057553348a906,openstack/octavia,master,I2a2ec83baa13f4433e32c180d7a057553348a906,Adding Python 3.4 Compatibility and Tox Check,MERGED,2015-05-21 21:23:18.000000000,2015-06-30 19:55:10.000000000,2015-06-30 19:46:46.000000000,"[{'_account_id': 3}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11302}, {'_account_id': 11628}, {'_account_id': 12403}, {'_account_id': 16923}]","[{'number': 1, 'created': '2015-05-21 21:23:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5b0a2824faa962ed30fb90410b1bb98c8d97770c', 'message': 'Adding Python 3.4 Compatibility and Tox Check\n\nChange-Id: I2a2ec83baa13f4433e32c180d7a057553348a906\n'}, {'number': 2, 'created': '2015-05-22 06:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0465dcfdb296e691d9748d80b5dfc3f4bcf9b64d', 'message': 'Adding Python 3.4 Compatibility and Tox Check\n\nChange-Id: I2a2ec83baa13f4433e32c180d7a057553348a906\n'}, {'number': 3, 'created': '2015-06-23 18:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f45f9758b8a111bb905d805772ea390d9fef1eca', 'message': 'Adding Python 3.4 Compatibility and Tox Check\n\nChange-Id: I2a2ec83baa13f4433e32c180d7a057553348a906\n'}, {'number': 4, 'created': '2015-06-23 18:19:29.000000000', 'files': ['octavia/common/utils.py', 'octavia/tests/unit/controller/worker/test_controller_worker.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_ssh_driver.py', 'octavia/tests/functional/api/v1/base.py', 'octavia/tests/unit/controller/queue/test_consumer.py', 'octavia/tests/unit/certificates/manager/test_barbican.py', 'requirements.txt', 'octavia/tests/unit/controller/worker/tasks/test_database_tasks.py', 'octavia/tests/unit/certificates/manager/test_local.py', 'octavia/tests/unit/common/tls_utils/test_cert_parser.py', 'octavia/__init__.py', 'octavia/network/drivers/neutron/allowed_address_pairs.py', 'octavia/api/v1/types/base.py', 'octavia/tests/unit/controller/test_health_mixin.py', 'octavia/tests/unit/api/v1/handlers/queue/test_producer.py', 'octavia/tests/unit/compute/drivers/test_nova_driver.py', 'octavia/amphorae/drivers/haproxy/ssh_driver.py', 'octavia/amphorae/backends/health_daemon/config.py', 'octavia/amphorae/backends/health_daemon/status_message.py', 'octavia/tests/unit/certificates/generator/test_barbican.py', 'octavia/common/tls_utils/cert_parser.py', 'octavia/tests/unit/controller/worker/tasks/test_controller_tasks.py', 'octavia/tests/unit/controller/worker/tasks/test_model_tasks.py', 'octavia/controller/worker/tasks/network_tasks.py', 'octavia/tests/unit/amphorae/backends/health_daemon/test_config.py', 'octavia/tests/unit/controller/worker/tasks/test_amphora_driver_tasks.py', 'octavia/tests/unit/common/test_base_taskflow.py', 'octavia/tests/unit/controller/worker/tasks/test_network_tasks.py', 'octavia/tests/unit/certificates/common/test_barbican.py', 'octavia/tests/unit/controller/worker/tasks/test_compute_tasks.py', 'octavia/hacking/checks.py', 'octavia/tests/unit/controller/queue/test_endpoint.py', 'tox.ini', 'octavia/tests/unit/certificates/generator/test_local.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/e6de970a38387d4c06aaac1495a47da0188a4fe3', 'message': 'Adding Python 3.4 Compatibility and Tox Check\n\nChange-Id: I2a2ec83baa13f4433e32c180d7a057553348a906\n'}]",5,184868,e6de970a38387d4c06aaac1495a47da0188a4fe3,34,7,4,10273,,,0,"Adding Python 3.4 Compatibility and Tox Check

Change-Id: I2a2ec83baa13f4433e32c180d7a057553348a906
",git fetch https://review.opendev.org/openstack/octavia refs/changes/68/184868/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/utils.py', 'octavia/tests/unit/controller/worker/test_controller_worker.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_ssh_driver.py', 'octavia/tests/functional/api/v1/base.py', 'octavia/tests/unit/controller/queue/test_consumer.py', 'octavia/tests/unit/certificates/manager/test_barbican.py', 'requirements.txt', 'octavia/tests/unit/controller/worker/tasks/test_database_tasks.py', 'octavia/tests/unit/certificates/manager/test_local.py', 'octavia/tests/unit/common/tls_utils/test_cert_parser.py', 'octavia/__init__.py', 'octavia/network/drivers/neutron/allowed_address_pairs.py', 'octavia/api/v1/types/base.py', 'octavia/tests/unit/controller/test_health_mixin.py', 'octavia/tests/unit/api/v1/handlers/queue/test_producer.py', 'octavia/tests/unit/compute/drivers/test_nova_driver.py', 'octavia/amphorae/drivers/haproxy/ssh_driver.py', 'octavia/amphorae/backends/health_daemon/config.py', 'octavia/amphorae/backends/health_daemon/status_message.py', 'octavia/tests/unit/certificates/generator/test_barbican.py', 'octavia/common/tls_utils/cert_parser.py', 'octavia/tests/unit/controller/worker/tasks/test_controller_tasks.py', 'octavia/tests/unit/controller/worker/tasks/test_model_tasks.py', 'octavia/controller/worker/tasks/network_tasks.py', 'octavia/tests/unit/amphorae/backends/health_daemon/test_config.py', 'octavia/tests/unit/controller/worker/tasks/test_amphora_driver_tasks.py', 'octavia/tests/unit/common/test_base_taskflow.py', 'octavia/tests/unit/controller/worker/tasks/test_network_tasks.py', 'octavia/tests/unit/certificates/common/test_barbican.py', 'octavia/tests/unit/controller/worker/tasks/test_compute_tasks.py', 'octavia/hacking/checks.py', 'octavia/tests/unit/controller/queue/test_endpoint.py', 'tox.ini', 'octavia/tests/unit/certificates/generator/test_local.py']",34,5b0a2824faa962ed30fb90410b1bb98c8d97770c,python3.4," self.ca_private_key_passphrase = b""Testing"" self.assertIn(""-----BEGIN CERTIFICATE-----"", signed_cert.decode('ascii')) expires = datetime.datetime.strptime( cert.get_notAfter().decode('ascii'), '%Y%m%d%H%M%SZ' )"," self.ca_private_key_passphrase = ""Testing"" self.assertIn(""-----BEGIN CERTIFICATE-----"", signed_cert) expires = datetime.datetime.strptime(cert.get_notAfter(), '%Y%m%d%H%M%SZ')",223,115
openstack%2Frequirements~master~I8c01506894ec0a92b53bc0e4ad14767f2dd6a6b3,openstack/requirements,master,I8c01506894ec0a92b53bc0e4ad14767f2dd6a6b3,Require fixtures 1.3.1.,MERGED,2015-06-29 21:07:47.000000000,2015-06-30 19:53:11.000000000,2015-06-30 19:53:10.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5263}, {'_account_id': 16272}]","[{'number': 1, 'created': '2015-06-29 21:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/d72b7bdd7f6bb115ce0fedc10c4b7e85f534d162', 'message': ""Require fixtures 1.3.0.\n\nA key resource leak was fixed in 1.3.0 and we can't switch to using\nuntil we can depend on 1.3.0 being the version present.\n\nChange-Id: I8c01506894ec0a92b53bc0e4ad14767f2dd6a6b3\n""}, {'number': 2, 'created': '2015-06-29 21:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/5aa3ce07e800638e96168c760a59dabad727fb78', 'message': ""Require fixtures 1.3.0.\n\nA key resource leak was fixed in 1.3.0 and we can't switch to using\nuntil we can depend on 1.3.0 being the version present.\n\nChange-Id: I8c01506894ec0a92b53bc0e4ad14767f2dd6a6b3\n""}, {'number': 3, 'created': '2015-06-30 02:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/56bd3bb368371425eb81ec8c41d540e0546e4b8c', 'message': ""Require fixtures 1.3.1.\n\nA key resource leak was fixed in 1.3.1 and we can't switch to using\nuntil we can depend on 1.3.1 being the version present.\n\nChange-Id: I8c01506894ec0a92b53bc0e4ad14767f2dd6a6b3\n""}, {'number': 4, 'created': '2015-06-30 03:28:32.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d2cfc4d967c5a4999956afb438698a6a2766a2f9', 'message': ""Require fixtures 1.3.1.\n\nA key resource leak was fixed in 1.3.1 and we can't switch to using\nuntil we can depend on 1.3.1 being the version present.\n\nChange-Id: I8c01506894ec0a92b53bc0e4ad14767f2dd6a6b3\n""}]",0,196863,d2cfc4d967c5a4999956afb438698a6a2766a2f9,13,5,4,4190,,,0,"Require fixtures 1.3.1.

A key resource leak was fixed in 1.3.1 and we can't switch to using
until we can depend on 1.3.1 being the version present.

Change-Id: I8c01506894ec0a92b53bc0e4ad14767f2dd6a6b3
",git fetch https://review.opendev.org/openstack/requirements refs/changes/63/196863/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,d72b7bdd7f6bb115ce0fedc10c4b7e85f534d162,,fixtures>=1.3.0,fixtures>=0.3.14,1,1
openstack%2Fglance~stable%2Fkilo~I87c0d4f0885f5714e966218eabf06134772babfa,openstack/glance,stable/kilo,I87c0d4f0885f5714e966218eabf06134772babfa,Fix OSProfiler exception when is enabled,MERGED,2015-06-23 21:13:59.000000000,2015-06-30 19:53:03.000000000,2015-06-30 19:53:02.000000000,"[{'_account_id': 3}, {'_account_id': 979}, {'_account_id': 5202}, {'_account_id': 6159}, {'_account_id': 6484}, {'_account_id': 7012}, {'_account_id': 9303}, {'_account_id': 11356}, {'_account_id': 11391}, {'_account_id': 15054}, {'_account_id': 16658}, {'_account_id': 16683}, {'_account_id': 16797}]","[{'number': 1, 'created': '2015-06-23 21:13:59.000000000', 'files': ['glance/cmd/registry.py', 'glance/cmd/api.py', 'glance/cmd/search.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/d1f54b71b863c2505ce31898f769a71624016e67', 'message': ""Fix OSProfiler exception when is enabled\n\nWhen OSProfiler is enabled in glance-api.conf or glance-registry.conf,\nthe services are failing to start. They raise an AtttributeError\nexception when not finding messaging module from notifier\n\nWhen oslo removed namespaced packages in kilo, the code was changed\nin glance.notifier from doing\n\n\tfrom oslo import messaging\n\nTo doing\n\n        import oslo_messaging\n\nAnd all references were changed from messaging to oslo_messaging. When\nosprofiler integration was added, the author choose to use the notifier\nmodule's reference to oslo.messaging instead of importing it directly.\nWhen the rename occurred, this was not caught. So, oslo_messaging is\ndirectly imported in glance.cmd.{api,registry,search} and use it as\nit was intended\n\nCloses-Bug: #1467982\n\nChange-Id: I87c0d4f0885f5714e966218eabf06134772babfa\nSigned-off-by: Munoz, Obed N <obed.n.munoz@intel.com>\n(cherry picked from commit 37ad9fe7f292a7bbe969be78b1db2fec1c4c4813)\n""}]",0,194824,d1f54b71b863c2505ce31898f769a71624016e67,18,13,1,12000,,,0,"Fix OSProfiler exception when is enabled

When OSProfiler is enabled in glance-api.conf or glance-registry.conf,
the services are failing to start. They raise an AtttributeError
exception when not finding messaging module from notifier

When oslo removed namespaced packages in kilo, the code was changed
in glance.notifier from doing

	from oslo import messaging

To doing

        import oslo_messaging

And all references were changed from messaging to oslo_messaging. When
osprofiler integration was added, the author choose to use the notifier
module's reference to oslo.messaging instead of importing it directly.
When the rename occurred, this was not caught. So, oslo_messaging is
directly imported in glance.cmd.{api,registry,search} and use it as
it was intended

Closes-Bug: #1467982

Change-Id: I87c0d4f0885f5714e966218eabf06134772babfa
Signed-off-by: Munoz, Obed N <obed.n.munoz@intel.com>
(cherry picked from commit 37ad9fe7f292a7bbe969be78b1db2fec1c4c4813)
",git fetch https://review.opendev.org/openstack/glance refs/changes/24/194824/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/cmd/registry.py', 'glance/cmd/api.py', 'glance/cmd/search.py']",3,d1f54b71b863c2505ce31898f769a71624016e67,,"import oslo_messaging oslo_messaging, {},"," notifier.messaging, {},",6,3
openstack%2Ftrove~master~I1c940c96deb20ca722d9fd400a6ef757b2ba249f,openstack/trove,master,I1c940c96deb20ca722d9fd400a6ef757b2ba249f,Implement guestagent Configuration Manager,MERGED,2015-06-15 15:28:31.000000000,2015-06-30 19:52:27.000000000,2015-06-30 19:52:25.000000000,"[{'_account_id': 3}, {'_account_id': 7806}, {'_account_id': 8151}, {'_account_id': 8415}, {'_account_id': 9664}, {'_account_id': 9746}, {'_account_id': 9782}, {'_account_id': 10215}, {'_account_id': 11783}, {'_account_id': 13355}, {'_account_id': 14576}, {'_account_id': 14912}, {'_account_id': 15321}, {'_account_id': 16226}]","[{'number': 1, 'created': '2015-06-15 15:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/ea96e33873edf78250f80f28812f49b849a900ed', 'message': 'Implement guestagent Configuration Manager\n\nFacilitate code reuse by implementing a manager class\nthat could be used by all guestagents to manage their configuration\nfiles and overrides.\n\nConfigurationManager is responsible for management of\ndatastore configuration.\nIts base functionality includes reading and writing configuration files.\nIt is responsible for validating user inputs and requests.\nWhen supplied an override strategy it allows the user to manage\nconfiguration overrides as well.\n\nConfigurationOverrideStrategy handles configuration files.\nThe strategy provides functionality to enumerate, apply and remove\nconfiguration overrides (revisions).\n\nThe patch set also includes functionality for reading and writing\nfiles and implements codecs for serialization and\ndeserialization of common configuration formats. The implemented\ncodecs get reused in the existing configuration parsers.\n\nIncludes a couple of little fixes to the taskmanager that will\nbe required by other datastores.\n\n- Do not validate value ranges if min/max is not specified in the\nvalidation rules.\n- Do not attempt to parse non-string configuration values in the\ntaskmanager.\n\nImplements: blueprint guestagent-configuration-manager\nChange-Id: I1c940c96deb20ca722d9fd400a6ef757b2ba249f\n'}, {'number': 2, 'created': '2015-06-16 18:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/b7936b9928f192417eaca12b30f56c51364f4208', 'message': 'Implement guestagent Configuration Manager\n\nFacilitate code reuse by implementing a manager class\nthat could be used by all guestagents to manage their configuration\nfiles and overrides.\n\nConfigurationManager is responsible for management of\ndatastore configuration.\nIts base functionality includes reading and writing configuration files.\nIt is responsible for validating user inputs and requests.\nWhen supplied an override strategy it allows the user to manage\nconfiguration overrides as well.\n\nConfigurationOverrideStrategy handles configuration files.\nThe strategy provides functionality to enumerate, apply and remove\nconfiguration overrides (revisions).\n\nThe patch set also includes functionality for reading and writing\nfiles and implements codecs for serialization and\ndeserialization of common configuration formats. The implemented\ncodecs get reused in the existing configuration parsers.\n\nIncludes a couple of little fixes to the taskmanager that will\nbe required by other datastores.\n\n- Do not validate value ranges if min/max is not specified in the\nvalidation rules.\n- Do not attempt to parse non-string configuration values in the\ntaskmanager.\n\nImplements: blueprint guestagent-configuration-manager\nChange-Id: I1c940c96deb20ca722d9fd400a6ef757b2ba249f\n'}, {'number': 3, 'created': '2015-06-17 15:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/7dd1ca1218666e57eedfbea8b916b9cd30ba4e7d', 'message': 'Implement guestagent Configuration Manager\n\nFacilitate code reuse by implementing a manager class\nthat could be used by all guestagents to manage their configuration\nfiles and overrides.\n\nConfigurationManager is responsible for management of\ndatastore configuration.\nIts base functionality includes reading and writing configuration files.\nIt is responsible for validating user inputs and requests.\nWhen supplied an override strategy it allows the user to manage\nconfiguration overrides as well.\n\nConfigurationOverrideStrategy handles configuration files.\nThe strategy provides functionality to enumerate, apply and remove\nconfiguration overrides (revisions).\n\nThe patch set also includes functionality for reading and writing\nfiles and implements codecs for serialization and\ndeserialization of common configuration formats. The implemented\ncodecs get reused in the existing configuration parsers.\n\nIncludes a couple of little fixes to the taskmanager that will\nbe required by other datastores.\n\n- Do not validate value ranges if min/max is not specified in the\nvalidation rules.\n- Do not attempt to parse non-string configuration values in the\ntaskmanager.\n\nImplements: blueprint guestagent-configuration-manager\nChange-Id: I1c940c96deb20ca722d9fd400a6ef757b2ba249f\n'}, {'number': 4, 'created': '2015-06-19 18:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/d3e2fdc0ac3f488dbb1be1ba249ccfc7aa5a42de', 'message': 'Implement guestagent Configuration Manager\n\nFacilitate code reuse by implementing a manager class\nthat could be used by all guestagents to manage their configuration\nfiles and overrides.\n\nConfigurationManager is responsible for management of\ndatastore configuration.\nIts base functionality includes reading and writing configuration files.\nIt is responsible for validating user inputs and requests.\nWhen supplied an override strategy it allows the user to manage\nconfiguration overrides as well.\n\nConfigurationOverrideStrategy handles configuration files.\nThe strategy provides functionality to enumerate, apply and remove\nconfiguration overrides (revisions).\n\nThe patch set also includes functionality for reading and writing\nfiles and implements codecs for serialization and\ndeserialization of common configuration formats. The implemented\ncodecs get reused in the existing configuration parsers.\n\nIncludes a couple of little fixes to the taskmanager that will\nbe required by other datastores.\n\n- Do not validate value ranges if min/max is not specified in the\nvalidation rules.\n- Do not attempt to parse non-string configuration values in the\ntaskmanager.\n\nImplements: blueprint guestagent-configuration-manager\nChange-Id: I1c940c96deb20ca722d9fd400a6ef757b2ba249f\n'}, {'number': 5, 'created': '2015-06-23 16:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/08e0ec1f51e7ff99d2b643b07478d1735c9d406e', 'message': 'Implement guestagent Configuration Manager\n\nFacilitate code reuse by implementing a manager class\nthat could be used by all guestagents to manage their configuration\nfiles and overrides.\n\nConfigurationManager is responsible for management of\ndatastore configuration.\nIts base functionality includes reading and writing configuration files.\nIt is responsible for validating user inputs and requests.\nWhen supplied an override strategy it allows the user to manage\nconfiguration overrides as well.\n\nConfigurationOverrideStrategy handles configuration files.\nThe strategy provides functionality to enumerate, apply and remove\nconfiguration overrides (revisions).\n\nThe patch set also includes functionality for reading and writing\nfiles and implements codecs for serialization and\ndeserialization of common configuration formats. The implemented\ncodecs get reused in the existing configuration parsers.\n\nIncludes a couple of little fixes to the taskmanager that will\nbe required by other datastores.\n\n- Do not validate value ranges if min/max is not specified in the\nvalidation rules.\n- Do not attempt to parse non-string configuration values in the\ntaskmanager.\n\nImplements: blueprint guestagent-configuration-manager\nChange-Id: I1c940c96deb20ca722d9fd400a6ef757b2ba249f\n'}, {'number': 6, 'created': '2015-06-25 17:38:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/ea2705f7b1bcb544ec9454b35a3f35cdfefb44c1', 'message': 'Implement guestagent Configuration Manager\n\nFacilitate code reuse by implementing a manager class\nthat could be used by all guestagents to manage their configuration\nfiles and overrides.\n\nConfigurationManager is responsible for management of\ndatastore configuration.\nIts base functionality includes reading and writing configuration files.\nIt is responsible for validating user inputs and requests.\nWhen supplied an override strategy it allows the user to manage\nconfiguration overrides as well.\n\nConfigurationOverrideStrategy handles configuration files.\nThe strategy provides functionality to enumerate, apply and remove\nconfiguration overrides (revisions).\n\nThe patch set also includes functionality for reading and writing\nfiles and implements codecs for serialization and\ndeserialization of common configuration formats. The implemented\ncodecs get reused in the existing configuration parsers.\n\nIncludes a couple of little fixes to the taskmanager that will\nbe required by other datastores.\n\n- Do not validate value ranges if min/max is not specified in the\nvalidation rules.\n- Do not attempt to parse non-string configuration values in the\ntaskmanager.\n\nImplements: blueprint guestagent-configuration-manager\nChange-Id: I1c940c96deb20ca722d9fd400a6ef757b2ba249f\n'}, {'number': 7, 'created': '2015-06-25 19:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/e3f6c4ebed4cf3dede766b8a5b6673ef9d0bc5b7', 'message': 'Implement guestagent Configuration Manager\n\nFacilitate code reuse by implementing a manager class\nthat could be used by all guestagents to manage their configuration\nfiles and overrides.\n\nConfigurationManager is responsible for management of\ndatastore configuration.\nIts base functionality includes reading and writing configuration files.\nIt is responsible for validating user inputs and requests.\nWhen supplied an override strategy it allows the user to manage\nconfiguration overrides as well.\n\nConfigurationOverrideStrategy handles configuration files.\nThe strategy provides functionality to enumerate, apply and remove\nconfiguration overrides (revisions).\n\nThe patch set also includes functionality for reading and writing\nfiles and implements codecs for serialization and\ndeserialization of common configuration formats. The implemented\ncodecs get reused in the existing configuration parsers.\n\nIncludes a couple of little fixes to the taskmanager that will\nbe required by other datastores.\n\n- Do not validate value ranges if min/max is not specified in the\nvalidation rules.\n- Do not attempt to parse non-string configuration values in the\ntaskmanager.\n\nImplements: blueprint guestagent-configuration-manager\nChange-Id: I1c940c96deb20ca722d9fd400a6ef757b2ba249f\n'}, {'number': 8, 'created': '2015-06-26 00:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/f6584721cc2d51d6a2a550af38dc3977641559aa', 'message': 'Implement guestagent Configuration Manager\n\nFacilitate code reuse by implementing a manager class\nthat could be used by all guestagents to manage their configuration\nfiles and overrides.\n\nConfigurationManager is responsible for management of\ndatastore configuration.\nIts base functionality includes reading and writing configuration files.\nIt is responsible for validating user inputs and requests.\nWhen supplied an override strategy it allows the user to manage\nconfiguration overrides as well.\n\nConfigurationOverrideStrategy handles configuration files.\nThe strategy provides functionality to enumerate, apply and remove\nconfiguration overrides (revisions).\n\nThe patch set also includes functionality for reading and writing\nfiles and implements codecs for serialization and\ndeserialization of common configuration formats. The implemented\ncodecs get reused in the existing configuration parsers.\n\nIncludes a couple of little fixes to the taskmanager that will\nbe required by other datastores.\n\n- Do not validate value ranges if min/max is not specified in the\nvalidation rules.\n- Do not attempt to parse non-string configuration values in the\ntaskmanager.\n\nImplements: blueprint guestagent-configuration-manager\nChange-Id: I1c940c96deb20ca722d9fd400a6ef757b2ba249f\n'}, {'number': 9, 'created': '2015-06-26 03:29:43.000000000', 'files': ['trove/guestagent/common/operating_system.py', 'trove/guestagent/common/configuration.py', 'trove/configuration/service.py', 'trove/tests/unittests/guestagent/test_operating_system.py', 'trove/common/utils.py', 'trove/tests/unittests/guestagent/test_guestagent_utils.py', 'trove/tests/unittests/guestagent/test_configuration.py', 'trove/guestagent/common/guestagent_utils.py', 'trove/common/configurations.py', 'trove/common/stream_codecs.py', 'trove/taskmanager/models.py', 'trove/tests/unittests/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/d37a99e584c5f56f8838e33c95e997e762f4e9f4', 'message': 'Implement guestagent Configuration Manager\n\nFacilitate code reuse by implementing a manager class\nthat could be used by all guestagents to manage their configuration\nfiles and overrides.\n\nConfigurationManager is responsible for management of\ndatastore configuration.\nIts base functionality includes reading and writing configuration files.\nIt is responsible for validating user inputs and requests.\nWhen supplied an override strategy it allows the user to manage\nconfiguration overrides as well.\n\nConfigurationOverrideStrategy handles configuration files.\nThe strategy provides functionality to enumerate, apply and remove\nconfiguration overrides (revisions).\n\nThe patch set also includes functionality for reading and writing\nfiles and implements codecs for serialization and\ndeserialization of common configuration formats. The implemented\ncodecs get reused in the existing configuration parsers.\n\nIncludes a couple of little fixes to the taskmanager that will\nbe required by other datastores.\n\n- Do not validate value ranges if min/max is not specified in the\nvalidation rules.\n- Do not attempt to parse non-string configuration values in the\ntaskmanager.\n\nImplements: blueprint guestagent-configuration-manager\nChange-Id: I1c940c96deb20ca722d9fd400a6ef757b2ba249f\n'}]",20,191859,d37a99e584c5f56f8838e33c95e997e762f4e9f4,49,14,9,14576,,,0,"Implement guestagent Configuration Manager

Facilitate code reuse by implementing a manager class
that could be used by all guestagents to manage their configuration
files and overrides.

ConfigurationManager is responsible for management of
datastore configuration.
Its base functionality includes reading and writing configuration files.
It is responsible for validating user inputs and requests.
When supplied an override strategy it allows the user to manage
configuration overrides as well.

ConfigurationOverrideStrategy handles configuration files.
The strategy provides functionality to enumerate, apply and remove
configuration overrides (revisions).

The patch set also includes functionality for reading and writing
files and implements codecs for serialization and
deserialization of common configuration formats. The implemented
codecs get reused in the existing configuration parsers.

Includes a couple of little fixes to the taskmanager that will
be required by other datastores.

- Do not validate value ranges if min/max is not specified in the
validation rules.
- Do not attempt to parse non-string configuration values in the
taskmanager.

Implements: blueprint guestagent-configuration-manager
Change-Id: I1c940c96deb20ca722d9fd400a6ef757b2ba249f
",git fetch https://review.opendev.org/openstack/trove refs/changes/59/191859/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/common/operating_system.py', 'trove/guestagent/common/configuration.py', 'trove/configuration/service.py', 'trove/tests/unittests/guestagent/test_operating_system.py', 'trove/common/utils.py', 'trove/tests/unittests/guestagent/test_guestagent_utils.py', 'trove/tests/unittests/guestagent/test_configuration.py', 'trove/guestagent/common/guestagent_utils.py', 'trove/common/configurations.py', 'trove/common/stream_codecs.py', 'trove/taskmanager/models.py', 'trove/tests/unittests/common/test_utils.py']",12,ea96e33873edf78250f80f28812f49b849a900ed,bp/redis-configuration-groups," def test_unpack_singleton(self): self.assertEqual([1, 2, 3], utils.unpack_singleton([1, 2, 3])) self.assertEqual(0, utils.unpack_singleton([0])) self.assertEqual('test', utils.unpack_singleton('test')) self.assertEqual('test', utils.unpack_singleton(['test'])) self.assertEqual([], utils.unpack_singleton([])) self.assertEqual(None, utils.unpack_singleton(None)) self.assertEqual([None, None], utils.unpack_singleton([None, None]))",,1806,56
openstack%2Frally~master~Iab259abe6758db9001ebafb123c65be870bd6065,openstack/rally,master,Iab259abe6758db9001ebafb123c65be870bd6065,find should use portable options,MERGED,2015-06-26 14:51:05.000000000,2015-06-30 19:47:36.000000000,2015-06-30 19:47:35.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 9545}, {'_account_id': 11748}, {'_account_id': 14817}, {'_account_id': 16781}]","[{'number': 1, 'created': '2015-06-26 14:51:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/e9733049d7c58c63647bbbe72287745369874790', 'message': 'find should use portable options\n\nChange-Id: Iab259abe6758db9001ebafb123c65be870bd6065\nCloses-Bug: 1469142\n'}, {'number': 2, 'created': '2015-06-29 13:19:10.000000000', 'files': ['install_rally.sh'], 'web_link': 'https://opendev.org/openstack/rally/commit/952aa8a7538c52ef92c7a669c774c43b6ec56743', 'message': 'find should use portable options\n\nChange-Id: Iab259abe6758db9001ebafb123c65be870bd6065\nCloses-Bug: 1469142\n'}]",1,196086,952aa8a7538c52ef92c7a669c774c43b6ec56743,23,6,2,16781,,,0,"find should use portable options

Change-Id: Iab259abe6758db9001ebafb123c65be870bd6065
Closes-Bug: 1469142
",git fetch https://review.opendev.org/openstack/rally refs/changes/86/196086/1 && git format-patch -1 --stdout FETCH_HEAD,['install_rally.sh'],1,e9733049d7c58c63647bbbe72287745369874790,bug/1469142, if find . -name '*.py[co]' -exec rm -f {} \;, if find . -regex '.+\.py[co]$' -delete,1,1
openstack%2Fproject-config~master~I4abcf997c5c26abdea17154a7ba4d5ceba1b8ba3,openstack/project-config,master,I4abcf997c5c26abdea17154a7ba4d5ceba1b8ba3,puppet: rename puppet-syntax-future to puppet-syntax,ABANDONED,2015-06-30 18:32:14.000000000,2015-06-30 19:41:44.000000000,,"[{'_account_id': 3153}, {'_account_id': 6554}, {'_account_id': 7423}, {'_account_id': 8482}, {'_account_id': 8617}]","[{'number': 1, 'created': '2015-06-30 18:32:14.000000000', 'files': ['jenkins/jobs/projects.yaml', 'jenkins/jobs/puppet-module-jobs.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2de6fb529a87ce4eb1bdb754c61ef0716e2b9fdf', 'message': 'puppet: rename puppet-syntax-future to puppet-syntax\n\nBecause there is not future syntax to check anymore with Puppet4, rename\nthe puppet-syntax-future job to be puppet-syntax.\n\nAlso do not set FUTURE_PARSER (useless now).\nAlso do not pin PUPPET_GEM_VERSION to test with the latest version of\nPuppet.\n\nChange-Id: I4abcf997c5c26abdea17154a7ba4d5ceba1b8ba3\n'}]",0,197217,2de6fb529a87ce4eb1bdb754c61ef0716e2b9fdf,9,5,1,3153,,,0,"puppet: rename puppet-syntax-future to puppet-syntax

Because there is not future syntax to check anymore with Puppet4, rename
the puppet-syntax-future job to be puppet-syntax.

Also do not set FUTURE_PARSER (useless now).
Also do not pin PUPPET_GEM_VERSION to test with the latest version of
Puppet.

Change-Id: I4abcf997c5c26abdea17154a7ba4d5ceba1b8ba3
",git fetch https://review.opendev.org/openstack/project-config refs/changes/17/197217/1 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'jenkins/jobs/puppet-module-jobs.yaml', 'zuul/layout.yaml']",3,2de6fb529a87ce4eb1bdb754c61ef0716e2b9fdf,puppet-jobs-refacto, - name: puppet-syntax check: - gate-{name}-puppet-syntax gate: - gate-{name}-puppet-syntax - name: ^gate-puppet-((?!swift).)*-puppet-syntax$ - name: ^gate-puppet-swift-puppet-syntax$ - name: puppet-syntax - name: puppet-syntax - name: puppet-syntax - name: puppet-syntax - name: puppet-syntax - name: puppet-syntax - name: puppet-syntax - name: puppet-syntax - name: puppet-syntax - name: puppet-syntax - name: puppet-syntax - name: puppet-syntax - name: puppet-syntax - name: puppet-syntax - name: puppet-syntax - name: puppet-syntax - name: puppet-syntax - name: puppet-syntax - name: puppet-syntax - name: puppet-syntax - name: puppet-syntax - name: puppet-syntax - name: puppet-syntax - name: puppet-syntax - name: puppet-syntax - name: puppet-syntax, - name: puppet-syntax-future check: - gate-{name}-puppet-syntax-future gate: - gate-{name}-puppet-syntax-future - name: ^gate-puppet-((?!swift).)*-puppet-syntax-future$ - name: ^gate-puppet-swift-puppet-syntax-future$ - name: puppet-syntax-future - name: puppet-syntax-future - name: puppet-syntax-future - name: puppet-syntax-future - name: puppet-syntax-future - name: puppet-syntax-future - name: puppet-syntax-future - name: puppet-syntax-future - name: puppet-syntax-future - name: puppet-syntax-future - name: puppet-syntax-future - name: puppet-syntax-future - name: puppet-syntax-future - name: puppet-syntax-future - name: puppet-syntax-future - name: puppet-syntax-future - name: puppet-syntax-future - name: puppet-syntax-future - name: puppet-syntax-future - name: puppet-syntax-future - name: puppet-syntax-future - name: puppet-syntax-future - name: puppet-syntax-future - name: puppet-syntax-future - name: puppet-syntax-future - name: puppet-syntax-future,58,60
openstack%2Foctavia~master~I8c5c619c29f2dc565edd340a27dde2861ec4cab9,openstack/octavia,master,I8c5c619c29f2dc565edd340a27dde2861ec4cab9,Fix the delete member flow,MERGED,2015-06-19 15:57:35.000000000,2015-06-30 19:36:59.000000000,2015-06-30 19:28:37.000000000,"[{'_account_id': 3}, {'_account_id': 6951}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 12403}, {'_account_id': 16923}]","[{'number': 1, 'created': '2015-06-19 15:57:35.000000000', 'files': ['octavia/tests/unit/controller/worker/test_controller_worker.py', 'octavia/common/data_models.py', 'octavia/tests/unit/controller/worker/tasks/test_database_tasks.py', 'octavia/controller/worker/tasks/database_tasks.py', 'octavia/controller/worker/controller_worker.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/1acd1626418ab9affbe27834ff30db436398e0be', 'message': 'Fix the delete member flow\n\nUpdated model to include a deletion method\nModified store for tasks to delete member appropriately\nUpdated database task to include parameterized database request\nUpdated tests\n\nChange-Id: I8c5c619c29f2dc565edd340a27dde2861ec4cab9\nCloses-Bug: 1458241\n'}]",3,193610,1acd1626418ab9affbe27834ff30db436398e0be,12,7,1,10806,,,0,"Fix the delete member flow

Updated model to include a deletion method
Modified store for tasks to delete member appropriately
Updated database task to include parameterized database request
Updated tests

Change-Id: I8c5c619c29f2dc565edd340a27dde2861ec4cab9
Closes-Bug: 1458241
",git fetch https://review.opendev.org/openstack/octavia refs/changes/10/193610/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/test_controller_worker.py', 'octavia/common/data_models.py', 'octavia/tests/unit/controller/worker/tasks/test_database_tasks.py', 'octavia/controller/worker/tasks/database_tasks.py', 'octavia/controller/worker/controller_worker.py']",5,1acd1626418ab9affbe27834ff30db436398e0be,bug/1458241," load_balancer = listener.load_balancer vip = load_balancer.vip delete_member_tf = self._taskflow_load( self._member_flows.get_delete_member_flow(), store={'member': member, 'member_id': member_id, 'listener': listener, 'vip': vip, 'loadbalancer': load_balancer})"," vip = listener.load_balancer.vip delete_member_tf = self._taskflow_load(self._member_flows. get_delete_member_flow(), store={'member': member, 'member_id': member_id, 'listener': listener, 'vip': vip})",21,14
openstack%2Fnova~master~I9e1c2b0230f8e2fedf85e61ff83a21e52f36bb55,openstack/nova,master,I9e1c2b0230f8e2fedf85e61ff83a21e52f36bb55,VMware: Fix for instance creation fails using block device mapping,ABANDONED,2015-06-30 18:26:03.000000000,2015-06-30 19:35:16.000000000,,"[{'_account_id': 9578}, {'_account_id': 10385}, {'_account_id': 15286}]","[{'number': 1, 'created': '2015-06-30 18:26:03.000000000', 'files': ['nova/virt/vmwareapi/vmops.py', 'nova/virt/vmwareapi/volumeops.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py', 'nova/tests/unit/virt/vmwareapi/test_volumeops.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ff22f9a53c2e84f7d58c2d89ee79c3eb59c8aa19', 'message': 'VMware: Fix for instance creation fails using block device mapping\n\nCurrently when doing nova boot with block device mapping, if volume gets\ncreated in one cluster and instance gets created in another, in which\nif the host does not have the access to the datstore where the VMDK\nresides, nova boot fails with ""Invalid configuration for device 0"".\n\nNova boot CLI : nova boot instance_with_vol --flavor 2 --image cirros \\\n--block-device-mapping sdb=c279ad39-f1f9-4861-9d00-2de8f6df7756::5\n\nThis patch fixes it by relocating the VMDK to the proper datastore\nbefore attaching the volume to the instance.\n\nChange-Id: I9e1c2b0230f8e2fedf85e61ff83a21e52f36bb55\n'}]",0,197214,ff22f9a53c2e84f7d58c2d89ee79c3eb59c8aa19,5,3,1,10210,,,0,"VMware: Fix for instance creation fails using block device mapping

Currently when doing nova boot with block device mapping, if volume gets
created in one cluster and instance gets created in another, in which
if the host does not have the access to the datstore where the VMDK
resides, nova boot fails with ""Invalid configuration for device 0"".

Nova boot CLI : nova boot instance_with_vol --flavor 2 --image cirros \
--block-device-mapping sdb=c279ad39-f1f9-4861-9d00-2de8f6df7756::5

This patch fixes it by relocating the VMDK to the proper datastore
before attaching the volume to the instance.

Change-Id: I9e1c2b0230f8e2fedf85e61ff83a21e52f36bb55
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/197214/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/vmwareapi/vmops.py', 'nova/virt/vmwareapi/volumeops.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py', 'nova/tests/unit/virt/vmwareapi/test_volumeops.py']",5,ff22f9a53c2e84f7d58c2d89ee79c3eb59c8aa19,bug/1469655," def _test_attach_volume_vmdk(self, adapter_type=None, datastore=None): volume_ref = 'fake-volume-ref' mock.patch.object(self._volumeops, '_relocate_vmdk_for_attach'), ) as (get_vm_ref, get_volume_ref, _relocatevmdk, get_vmdk_info, attach_disk_to_vm, update_volume_details): get_volume_ref.return_value = volume_ref adapter_type, datastore) if datastore: _relocatevmdk.assert_called_once_with(vm_ref, volume_ref, datastore) else: self.assertFalse(_relocatevmdk.called) def test_attach_volume_vmdk_with_datastore_ref(self): datastore = mock.Mock() for adapter_type in (None, constants.DEFAULT_ADAPTER_TYPE, constants.ADAPTER_TYPE_BUSLOGIC, constants.ADAPTER_TYPE_IDE, constants.ADAPTER_TYPE_LSILOGICSAS, constants.ADAPTER_TYPE_PARAVIRTUAL): self._test_attach_volume_vmdk(adapter_type, datastore) "," def _test_attach_volume_vmdk(self, adapter_type=None): ) as (get_vm_ref, get_volume_ref, get_vmdk_info, attach_disk_to_vm, update_volume_details): adapter_type)",47,13
openstack%2Fautomaton~master~I70321e9482a0d053a8cb0bc89a766b5fbc82f69e,openstack/automaton,master,I70321e9482a0d053a8cb0bc89a766b5fbc82f69e,Disallow adding transitions from terminal states,MERGED,2015-06-24 21:23:41.000000000,2015-06-30 19:30:31.000000000,2015-06-30 19:30:29.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 6618}, {'_account_id': 10584}]","[{'number': 1, 'created': '2015-06-24 21:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/automaton/commit/2fb8e157cb19861990685821602bee38b6fd7f34', 'message': 'Disallow adding transitions from terminal states to other states (WIP)\n\nChange-Id: I70321e9482a0d053a8cb0bc89a766b5fbc82f69e\n'}, {'number': 2, 'created': '2015-06-24 22:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/automaton/commit/b3abdf2d83f8f588fb9588e3ab69af45795e89d5', 'message': 'Disallow adding transitions from terminal states\n\nTerminal states are by there very nature terminal and can not\nhave transitions to other states on any kind of event so on add\nmake sure we disallow those types of transitions to even be\ncreated in the first place.\n\nChange-Id: I70321e9482a0d053a8cb0bc89a766b5fbc82f69e\n'}, {'number': 3, 'created': '2015-06-29 19:59:08.000000000', 'files': ['automaton/tests/test_fsm.py', 'automaton/machines.py'], 'web_link': 'https://opendev.org/openstack/automaton/commit/89656ae9070ae5937379d3410e69fd6712affd55', 'message': 'Disallow adding transitions from terminal states\n\nTerminal states are by there very nature terminal and can not\nhave transitions to other states on any kind of event so on add\nmake sure we disallow those types of transitions to even be\ncreated in the first place.\n\nChange-Id: I70321e9482a0d053a8cb0bc89a766b5fbc82f69e\n'}]",4,195323,89656ae9070ae5937379d3410e69fd6712affd55,20,4,3,1297,,,0,"Disallow adding transitions from terminal states

Terminal states are by there very nature terminal and can not
have transitions to other states on any kind of event so on add
make sure we disallow those types of transitions to even be
created in the first place.

Change-Id: I70321e9482a0d053a8cb0bc89a766b5fbc82f69e
",git fetch https://review.opendev.org/openstack/automaton refs/changes/23/195323/1 && git format-patch -1 --stdout FETCH_HEAD,['automaton/machines.py'],1,2fb8e157cb19861990685821602bee38b6fd7f34,," if self._transitions[start]['terminal']: raise excp.InvalidState(""Can not add a transition from terminal"" "" state '%s' to state '%s' on event '%s'"" % (start, end, event))",,4,0
openstack%2Fautomaton~master~I8cb83ef5612d2208936f02193fa257bcdf6a685f,openstack/automaton,master,I8cb83ef5612d2208936f02193fa257bcdf6a685f,Add badge support to README.rst,MERGED,2015-06-26 23:24:39.000000000,2015-06-30 19:30:28.000000000,2015-06-30 19:30:26.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 5638}, {'_account_id': 10584}]","[{'number': 1, 'created': '2015-06-26 23:24:39.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/automaton/commit/dde15e3c17b75f8c3b4331468f6fa8581a9f5e54', 'message': 'Add badge support to README.rst\n\nChange-Id: I8cb83ef5612d2208936f02193fa257bcdf6a685f\n'}]",0,196281,dde15e3c17b75f8c3b4331468f6fa8581a9f5e54,11,4,1,1297,,,0,"Add badge support to README.rst

Change-Id: I8cb83ef5612d2208936f02193fa257bcdf6a685f
",git fetch https://review.opendev.org/openstack/automaton refs/changes/81/196281/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,dde15e3c17b75f8c3b4331468f6fa8581a9f5e54,,.. image:: https://img.shields.io/pypi/v/automaton.svg :target: https://pypi.python.org/pypi/automaton/ :alt: Latest Version .. image:: https://img.shields.io/pypi/dm/automaton.svg :target: https://pypi.python.org/pypi/automaton/ :alt: Downloads ,,8,0
openstack%2Foslo.messaging~master~I49465a614540c6cc1a0e3f1b448f13db940c784c,openstack/oslo.messaging,master,I49465a614540c6cc1a0e3f1b448f13db940c784c,Add tox target to find missing requirements,MERGED,2015-06-26 01:25:20.000000000,2015-06-30 19:28:01.000000000,2015-06-30 19:27:59.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 5638}, {'_account_id': 7491}]","[{'number': 1, 'created': '2015-06-26 01:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/15db4e973ee5047509aefe7dff22dc19bdd91e83', 'message': 'Add tox target to find missing requirements\n\nChange-Id: I49465a614540c6cc1a0e3f1b448f13db940c784c\n'}, {'number': 2, 'created': '2015-06-26 11:26:58.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/f1c2b8ff91dbea3cb8c71d71367df51e9ef757d4', 'message': 'Add tox target to find missing requirements\n\nChange-Id: I49465a614540c6cc1a0e3f1b448f13db940c784c\n'}]",0,195819,f1c2b8ff91dbea3cb8c71d71367df51e9ef757d4,19,4,2,5638,,,0,"Add tox target to find missing requirements

Change-Id: I49465a614540c6cc1a0e3f1b448f13db940c784c
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/19/195819/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,15db4e973ee5047509aefe7dff22dc19bdd91e83,pip-missing-reqs," [testenv:pip-missing-reqs] # do not install test-requirements as that will pollute the virtualenv for # determining missing packages # this also means that pip-missing-reqs must be installed separately, outside # of the requirements.txt files deps = pip_missing_reqs -rrequirements.txt commands = pip-missing-reqs -d --ignore-module=oslo_messaging* --ignore-file=oslo_messaging/tests/* --ignore-file=tests/ oslo_messaging",,9,0
openstack%2Ftrove~master~I63906fa3b1db04da7bfcb8d931213f15520d5053,openstack/trove,master,I63906fa3b1db04da7bfcb8d931213f15520d5053,Refactor confusing cluster model property,ABANDONED,2015-06-30 14:21:46.000000000,2015-06-30 19:24:49.000000000,,"[{'_account_id': 3}, {'_account_id': 10440}, {'_account_id': 14576}, {'_account_id': 15321}]","[{'number': 1, 'created': '2015-06-30 14:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/7da09c62b4ac72778a5ed5176644d88e84e5b39e', 'message': 'Refactor confusing cluster model property\n\nThere is a property called ""instances"" that sounds like it should give a\nlist of cluster instances. Instead it loads all instances.\n\nThe change is to rename the existing property (and update all callers),\nand create a new property that actually lists the instances.\n\nChange-Id: I63906fa3b1db04da7bfcb8d931213f15520d5053\n'}, {'number': 2, 'created': '2015-06-30 18:04:53.000000000', 'files': ['trove/tests/unittests/cluster/test_cluster_views.py', 'trove/cluster/views.py', 'trove/tests/unittests/cluster/test_cluster_controller.py', 'trove/tests/unittests/cluster/test_cluster_vertica_controller.py', 'trove/tests/unittests/mgmt/test_clusters.py', 'trove/cluster/models.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/8dd1146590c6b8ca1c72e7c46533da00c97397da', 'message': 'Refactor confusing cluster model property\n\nThere is a property called ""instances"" that sounds like it should give a\nlist of cluster instances. Instead it loads all instances.\n\nThe change is to rename the existing property (and update all callers),\nand create a new property that actually lists the instances.\n\nChange-Id: I63906fa3b1db04da7bfcb8d931213f15520d5053\n'}]",0,197103,8dd1146590c6b8ca1c72e7c46533da00c97397da,8,4,2,15321,,,0,"Refactor confusing cluster model property

There is a property called ""instances"" that sounds like it should give a
list of cluster instances. Instead it loads all instances.

The change is to rename the existing property (and update all callers),
and create a new property that actually lists the instances.

Change-Id: I63906fa3b1db04da7bfcb8d931213f15520d5053
",git fetch https://review.opendev.org/openstack/trove refs/changes/03/197103/2 && git format-patch -1 --stdout FETCH_HEAD,"['trove/tests/unittests/cluster/test_cluster_views.py', 'trove/cluster/views.py', 'trove/tests/unittests/cluster/test_cluster_controller.py', 'trove/tests/unittests/cluster/test_cluster_vertica_controller.py', 'trove/cluster/models.py']",5,7da09c62b4ac72778a5ed5176644d88e84e5b39e,cluster-model-refactor," self._instances = None def instances(self, refresh=False): """"""Find all existing instances in this cluster. Caches result. :param bool refresh: Ignore cache and re-find. :return: List of DBInstances in this cluster. """""" if refresh or not self._instances: self._instances = inst_models.DBInstance.find_all( cluster_id=self.id).all() return self._instances @property def load_instances(self): def load_instances_without_server(self):", def instances(self): def instances_without_server(self):,47,32
openstack%2Ffuel-library~stable%2F5.1~I02ba20510857ffa1ff9f660ca518e6266ab7e8d6,openstack/fuel-library,stable/5.1,I02ba20510857ffa1ff9f660ca518e6266ab7e8d6,Enable VPNaaS for experimental ISO,ABANDONED,2014-10-14 13:47:39.000000000,2015-06-30 19:21:32.000000000,,"[{'_account_id': 3}, {'_account_id': 8786}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-10-14 13:47:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/da321fce0d98ea6b33daf292815c332eb746bb74', 'message': 'Enable VPNaaS for experimental ISO\n\nChange-Id: I02ba20510857ffa1ff9f660ca518e6266ab7e8d6\n'}, {'number': 2, 'created': '2014-10-16 08:46:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/53d0453dcf8cf374a655f2161b35393227f6a545', 'message': 'Enable VPNaaS for experimental ISO\n\nChange-Id: I02ba20510857ffa1ff9f660ca518e6266ab7e8d6\n'}, {'number': 3, 'created': '2014-10-16 08:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/6da08f34ab845787bb477c0e6e82ef4879d0f49e', 'message': 'Enable VPNaaS for experimental ISO\n\nChange-Id: I02ba20510857ffa1ff9f660ca518e6266ab7e8d6\n'}, {'number': 4, 'created': '2014-10-16 13:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/52970fa689eda563caa5030a0b31bfa650761302', 'message': 'Enable VPNaaS for experimental ISO\n\nChange-Id: I02ba20510857ffa1ff9f660ca518e6266ab7e8d6\n'}, {'number': 5, 'created': '2014-10-16 15:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/c7ff433b46830dd2a6fd2032e72aa2eabd66cf74', 'message': 'Enable VPNaaS for experimental ISO\n\nChange-Id: I02ba20510857ffa1ff9f660ca518e6266ab7e8d6\n'}, {'number': 6, 'created': '2014-10-16 15:45:29.000000000', 'files': ['deployment/puppet/neutron/examples/quantum.pp', 'deployment/puppet/horizon/templates/local_settings.py.erb', 'deployment/puppet/neutron/manifests/agents/vpnaas.pp', 'deployment/puppet/neutron/lib/puppet/provider/neutron_vpnaas_agent_config/ini_setting.rb', 'deployment/puppet/neutron/lib/puppet/parser/functions/sanitize_neutron_config.rb', 'deployment/puppet/neutron/manifests/agents/metadata.pp', 'deployment/puppet/neutron/lib/puppet/type/neutron_vpnaas_agent_config.rb', 'deployment/puppet/neutron/manifests/params.pp', 'deployment/puppet/neutron/manifests/agents/l3.pp', 'deployment/puppet/neutron/files/ocf/neutron-agent-vpnaas', 'deployment/puppet/openstack/manifests/neutron_router.pp', 'deployment/puppet/osnailyfacter/manifests/network_setup.pp', 'deployment/puppet/openstack/manifests/firewall.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/d33d7ffd02a614a1d57e909cbfe3389b4cb08832', 'message': 'Enable VPNaaS for experimental ISO\n\nChange-Id: I02ba20510857ffa1ff9f660ca518e6266ab7e8d6\n'}]",0,128292,d33d7ffd02a614a1d57e909cbfe3389b4cb08832,38,3,6,7227,,,0,"Enable VPNaaS for experimental ISO

Change-Id: I02ba20510857ffa1ff9f660ca518e6266ab7e8d6
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/92/128292/6 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/swift/templates/proxy-server.conf.erb', 'deployment/puppet/fail2ban/tests/init.pp', 'deployment/puppet/docker/templates/functions.sh.erb', 'deployment/puppet/nailgun/templates/httpd_nailgun.conf.erb', 'deployment/puppet/neutron/manifests/agents/vpnaas.pp', 'deployment/puppet/fail2ban/templates/jail.erb', 'deployment/puppet/fail2ban/templates/fail2ban.erb', 'deployment/puppet/osnailyfacter/manifests/cluster_ha.pp', 'deployment/puppet/nova/manifests/compute.pp', 'deployment/puppet/nailgun/templates/nginx_nailgun_ssl.conf.erb', 'deployment/puppet/openstack/manifests/neutron_router.pp', 'deployment/puppet/glance/manifests/backend/swift.pp', 'deployment/puppet/fail2ban/manifests/init.pp', 'deployment/puppet/openstack/manifests/firewall.pp', 'deployment/puppet/neutron/examples/quantum.pp', 'deployment/puppet/nailgun/manifests/nginx-nailgun.pp', 'deployment/puppet/docker/templates/dhcrelay_monitor.erb', 'deployment/puppet/fail2ban/spec/spec_helper.rb', 'deployment/puppet/horizon/templates/local_settings.py.erb', 'deployment/puppet/neutron/lib/puppet/provider/neutron_vpnaas_agent_config/ini_setting.rb', 'deployment/puppet/neutron/lib/puppet/parser/functions/sanitize_neutron_config.rb', 'deployment/puppet/neutron/manifests/agents/metadata.pp', 'deployment/puppet/neutron/lib/puppet/type/neutron_vpnaas_agent_config.rb', 'deployment/puppet/docker/templates/dockerctl_config.erb', 'deployment/puppet/neutron/manifests/params.pp', 'deployment/puppet/osnailyfacter/manifests/cluster_simple.pp', 'deployment/puppet/horizon/templates/vhosts.erb', 'deployment/puppet/neutron/manifests/agents/l3.pp', 'deployment/puppet/nailgun/examples/host-only.pp', 'deployment/puppet/neutron/files/ocf/neutron-agent-vpnaas', 'deployment/puppet/fail2ban/manifests/params.pp', 'deployment/puppet/osnailyfacter/manifests/network_setup.pp']",32,da321fce0d98ea6b33daf292815c332eb746bb74,," $ipaddr = $network_settings[$interface]['ipaddr'] $gateway = $network_settings[$interface]['gateway'] $slaves = $network_settings[$interface]['slaves'] $bond_mode = $network_settings[$interface]['bond_mode'] $bond_miimon = $network_settings[$interface]['bond_miimon'] $bond_lacp_rate = $network_settings[$interface]['bond_lacp_rate'] l23network::l3::ifconfig{$interface: ipaddr => $ipaddr, gateway => $gateway, bond_properties => { mode => $bond_mode, miimon => 100, lacp_rate => 1, } } -> l23network::l3::ifconfig {$slaves[0]: ipaddr=>'none', bond_master=>$interface} -> l23network::l3::ifconfig {$slaves[1]: ipaddr=>'none', bond_master=>$interface}"," # TODO implement bond options support #$bond_mode = $network_settings[$interface]['bond_mode'] #$bond_miimon = $network_settings[$interface]['bond_miimon'] #$bond_lacp_rate = $network_settings[$interface]['bond_lacp_rate'] #l23network::l3::ifconfig{$interface: #ipaddr => $ipaddr, #gateway => $gateway, #bond_mode => $bond_mode, #bond_miimon => $bond_miimon, #bond_lacp_rate => $bond_lacp_rate, #check_by_ping => 'none' #}",1216,212
openstack%2Ffuel-astute~stable%2F5.1~I4e848972182961b5fde14f6b9e06e544222a006f,openstack/fuel-astute,stable/5.1,I4e848972182961b5fde14f6b9e06e544222a006f,Fixed issue with cirros image upload,ABANDONED,2014-11-18 15:13:22.000000000,2015-06-30 19:21:27.000000000,,"[{'_account_id': 3}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-11-18 15:13:22.000000000', 'files': ['lib/astute/post_deployment_actions/upload_cirros_image.rb'], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/0af16fde0f34da5b458b22e5fb632516cfdaa2c5', 'message': 'Fixed issue with cirros image upload\n\nThis is CUSTOM patch for customer lab,\ndo not merge it to fuel-astute repository.\n\nChange-Id: I4e848972182961b5fde14f6b9e06e544222a006f\n'}]",0,135321,0af16fde0f34da5b458b22e5fb632516cfdaa2c5,5,2,1,7227,,,0,"Fixed issue with cirros image upload

This is CUSTOM patch for customer lab,
do not merge it to fuel-astute repository.

Change-Id: I4e848972182961b5fde14f6b9e06e544222a006f
",git fetch https://review.opendev.org/openstack/fuel-astute refs/changes/21/135321/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/astute/post_deployment_actions/upload_cirros_image.rb'],1,0af16fde0f34da5b458b22e5fb632516cfdaa2c5,," #raise_cirros_error(context, node, ""Upload cirros \""#{os['img_name']}\"" image failed"") returnend "," raise_cirros_error(context, node, ""Upload cirros \""#{os['img_name']}\"" image failed"")end",3,2
openstack%2Fsearchlight~master~Ia97a2113f316d4bdec17db4c497fba23293c187b,openstack/searchlight,master,Ia97a2113f316d4bdec17db4c497fba23293c187b,Use dictionary literals and comprehensions,MERGED,2015-06-30 02:24:39.000000000,2015-06-30 19:19:34.000000000,2015-06-30 19:19:30.000000000,"[{'_account_id': 3}, {'_account_id': 10063}, {'_account_id': 11356}, {'_account_id': 12000}, {'_account_id': 13161}]","[{'number': 1, 'created': '2015-06-30 02:24:39.000000000', 'files': ['searchlight/listener.py', 'searchlight/elasticsearch/plugins/glance/metadefs_notification_handler.py', 'searchlight/common/property_utils.py', 'searchlight/elasticsearch/__init__.py', 'tools/colorizer.py', 'searchlight/api/policy.py', 'searchlight/api/versions.py', 'searchlight/elasticsearch/plugins/glance/__init__.py'], 'web_link': 'https://opendev.org/openstack/searchlight/commit/460ee96994bd728ee44c6e8f359d4ea48cd5c10e', 'message': 'Use dictionary literals and comprehensions\n\nIn Python 2.7 dictionary comprehension were introduced to replace the\nidiom of dict((k, v) for (k, v) in ...). Dictionary literals have been\naround much longer. Using dictionary comprehensions and literals are\nalso faster than dict() and are stylistically more common in Python.\n\nChange-Id: Ia97a2113f316d4bdec17db4c497fba23293c187b\n'}]",0,196925,460ee96994bd728ee44c6e8f359d4ea48cd5c10e,9,5,1,12000,,,0,"Use dictionary literals and comprehensions

In Python 2.7 dictionary comprehension were introduced to replace the
idiom of dict((k, v) for (k, v) in ...). Dictionary literals have been
around much longer. Using dictionary comprehensions and literals are
also faster than dict() and are stylistically more common in Python.

Change-Id: Ia97a2113f316d4bdec17db4c497fba23293c187b
",git fetch https://review.opendev.org/openstack/searchlight refs/changes/25/196925/1 && git format-patch -1 --stdout FETCH_HEAD,"['searchlight/elasticsearch/plugins/glance/metadefs_notification_handler.py', 'searchlight/listener.py', 'searchlight/common/property_utils.py', 'searchlight/elasticsearch/__init__.py', 'tools/colorizer.py', 'searchlight/api/policy.py', 'searchlight/api/versions.py', 'searchlight/elasticsearch/plugins/glance/__init__.py']",8,460ee96994bd728ee44c6e8f359d4ea48cd5c10e,use-dict-comprehensions," document = {k: v for k, v in image.items() if k not in fields_to_ignore} document = {f: metadef_namespace.get(f, None) for f in namespace_fields}"," document = dict((k, v) for k, v in six.iteritems(image) if k not in fields_to_ignore) document = dict((f, metadef_namespace.get(f, None)) for f in namespace_fields)",18,20
openstack%2Fautomaton~master~I18d7a656f537c3bf28257d24adc4a900e77906f3,openstack/automaton,master,I18d7a656f537c3bf28257d24adc4a900e77906f3,Add runners to features.rst & add a runner base & update docstrings,MERGED,2015-06-27 18:09:23.000000000,2015-06-30 19:19:07.000000000,2015-06-30 19:19:05.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 5638}, {'_account_id': 10584}]","[{'number': 1, 'created': '2015-06-27 18:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/automaton/commit/7c7224bc66e1afb180da7ed70d867126063c1c71', 'message': 'Add runners to features.rst and add a runner base class + update docstrings\n\nChange-Id: I18d7a656f537c3bf28257d24adc4a900e77906f3\n'}, {'number': 2, 'created': '2015-06-27 18:09:58.000000000', 'files': ['automaton/runners.py', 'doc/source/api.rst', 'automaton/machines.py', 'doc/source/features.rst'], 'web_link': 'https://opendev.org/openstack/automaton/commit/ecf12630330774e62baa28d41ddd8dc3bf15f7c5', 'message': 'Add runners to features.rst & add a runner base & update docstrings\n\nChange-Id: I18d7a656f537c3bf28257d24adc4a900e77906f3\n'}]",0,196394,ecf12630330774e62baa28d41ddd8dc3bf15f7c5,12,4,2,1297,,,0,"Add runners to features.rst & add a runner base & update docstrings

Change-Id: I18d7a656f537c3bf28257d24adc4a900e77906f3
",git fetch https://review.opendev.org/openstack/automaton refs/changes/94/196394/1 && git format-patch -1 --stdout FETCH_HEAD,"['automaton/runners.py', 'doc/source/api.rst', 'automaton/machines.py', 'doc/source/features.rst']",4,7c7224bc66e1afb180da7ed70d867126063c1c71,,Machines -------- Runners ------- * A :py:class:`.automaton.runners.FiniteRunner` state machine runner. * A :py:class:`.automaton.runners.HierarchicalRunner` hierarchical state machine runner.,,58,22
openstack%2Fnova~stable%2Fkilo~Idd4d5c236067fc40ed3a5049f3c1a58b75f9b5e5,openstack/nova,stable/kilo,Idd4d5c236067fc40ed3a5049f3c1a58b75f9b5e5,libvirt: Don't try to confine a non-NUMA instance,MERGED,2015-06-15 00:17:10.000000000,2015-06-30 19:13:23.000000000,2015-06-30 19:13:18.000000000,"[{'_account_id': 3}, {'_account_id': 425}, {'_account_id': 979}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 12898}, {'_account_id': 14805}, {'_account_id': 15741}]","[{'number': 1, 'created': '2015-06-15 00:17:10.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/41ba203ca0b526e91aea335bc3f3c17845ac6c91', 'message': ""libvirt: Don't try to confine a non-NUMA instance\n\nEven though it seemed like a good idea at the time, it turns out that\nchoosing a NUMA node at random can lead to placements that are\nsuboptimal.\n\nSince the benefit of the current approach is unclear, and the downside\nis actually hurting users - it is best to remove it (we would be no\nworse off than before Nova was even NUMA aware), and think about\noptimizitaions going forward, if any.\n\nChange-Id: Idd4d5c236067fc40ed3a5049f3c1a58b75f9b5e5\nCloses-bug: #1461777\n(cherry picked from commit eb253255d74cbe6e630225080c463f1eb16b9932)\n""}]",0,191594,41ba203ca0b526e91aea335bc3f3c17845ac6c91,28,11,1,14805,,,0,"libvirt: Don't try to confine a non-NUMA instance

Even though it seemed like a good idea at the time, it turns out that
choosing a NUMA node at random can lead to placements that are
suboptimal.

Since the benefit of the current approach is unclear, and the downside
is actually hurting users - it is best to remove it (we would be no
worse off than before Nova was even NUMA aware), and think about
optimizitaions going forward, if any.

Change-Id: Idd4d5c236067fc40ed3a5049f3c1a58b75f9b5e5
Closes-bug: #1461777
(cherry picked from commit eb253255d74cbe6e630225080c463f1eb16b9932)
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/191594/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,41ba203ca0b526e91aea335bc3f3c17845ac6c91,bug/1461777," return_value=caps)): self.assertIsNone(cfg.cpuset) get_vcpu_pin_set_mock, get_online_cpus_mock):"," return_value=caps), mock.patch.object( random, 'choice', side_effect=lambda cells: cells[0])): self.assertEqual(set([0, 1]), cfg.cpuset) def test_get_guest_config_numa_host_instance_1pci_fits(self): instance_ref = objects.Instance(**self.test_instance) image_meta = {} flavor = objects.Flavor(memory_mb=1, vcpus=2, root_gb=496, ephemeral_gb=8128, swap=33550336, name='fake', extra_specs={}) instance_ref.flavor = flavor caps = vconfig.LibvirtConfigCaps() caps.host = vconfig.LibvirtConfigCapsHost() caps.host.cpu = vconfig.LibvirtConfigCPU() caps.host.cpu.arch = ""x86_64"" caps.host.topology = self._fake_caps_numa_topology() conn = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) disk_info = blockinfo.get_disk_info(CONF.libvirt.virt_type, instance_ref, image_meta) pci_device_info = dict(test_pci_device.fake_db_dev) pci_device_info.update(compute_node_id=1, label='fake', status='available', address='0000:00:00.1', instance_uuid=None, request_id=None, extra_info={}, numa_node=1) pci_device = objects.PciDevice(**pci_device_info) with contextlib.nested( mock.patch.object(host.Host, 'has_min_version', return_value=True), mock.patch.object( host.Host, ""get_capabilities"", return_value=caps), mock.patch.object( random, 'choice', side_effect=lambda cells: cells[0]), mock.patch.object(pci_manager, ""get_instance_pci_devs"", return_value=[pci_device]), mock.patch.object(host.Host, 'get_online_cpus', return_value=set(range(8)))): cfg = conn._get_guest_config(instance_ref, [], {}, disk_info) self.assertIsNone(instance_ref.numa_topology) self.assertEqual(set([2, 3]), cfg.cpuset) self.assertEqual(0, len(cfg.cputune.vcpupin)) self.assertIsNone(cfg.cpu.numa) mock.patch.object( random, 'choice', side_effect=lambda cells: cells[0]), get_vcpu_pin_set_mock, choice_mock, get_online_cpus_mock): choice_mock.assert_called_once_with([set([2, 3])])",5,78
openstack%2Foslo.cache~master~Ic84a03e5f4bf1b20a461e7a9967dd241c87eb2d2,openstack/oslo.cache,master,Ic84a03e5f4bf1b20a461e7a9967dd241c87eb2d2,Make symbols private,MERGED,2015-06-28 17:45:40.000000000,2015-06-30 19:11:47.000000000,2015-06-30 19:11:45.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6482}, {'_account_id': 6486}]","[{'number': 1, 'created': '2015-06-28 17:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/a01838debd32ce917fd99c5d5b3dd4f4d4d784ae', 'message': 'Make symbols private\n\nThe module had way too many public symbols. Make most symbols\nprivate and update some docs.\n\nChange-Id: Ic84a03e5f4bf1b20a461e7a9967dd241c87eb2d2\n'}, {'number': 2, 'created': '2015-06-29 18:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/78924c64373a58d46ec546a01d77827bd3507e2a', 'message': 'Make symbols private\n\nThe module had way too many public symbols. Make most symbols\nprivate and update some docs.\n\nPartial-Bug: 1469833\nChange-Id: Ic84a03e5f4bf1b20a461e7a9967dd241c87eb2d2\n'}, {'number': 3, 'created': '2015-06-29 18:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/f9f7b6915e38d7d5728d8f9b02ec913f4e691f69', 'message': 'Make symbols private\n\nThe module had way too many public symbols. Make most symbols\nprivate and update some docs.\n\nPartial-Bug: 1469833\nChange-Id: Ic84a03e5f4bf1b20a461e7a9967dd241c87eb2d2\n'}, {'number': 4, 'created': '2015-06-30 16:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/6dbc200c77bccf0e29fbd74e67da26d1e24f4173', 'message': 'Make symbols private\n\nThe module had way too many public symbols. Make most symbols\nprivate and update some docs.\n\nPartial-Bug: 1469833\nChange-Id: Ic84a03e5f4bf1b20a461e7a9967dd241c87eb2d2\n'}, {'number': 5, 'created': '2015-06-30 16:29:57.000000000', 'files': ['oslo_cache/tests/test_cache.py', 'oslo_cache/core.py'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/ce99f7f9a7c8a935bcaefebe0293d17e6dc73493', 'message': 'Make symbols private\n\nThe module had way too many public symbols. Make most symbols\nprivate and update some docs.\n\nPartial-Bug: 1469833\nChange-Id: Ic84a03e5f4bf1b20a461e7a9967dd241c87eb2d2\n'}]",4,196463,ce99f7f9a7c8a935bcaefebe0293d17e6dc73493,22,4,5,6486,,,0,"Make symbols private

The module had way too many public symbols. Make most symbols
private and update some docs.

Partial-Bug: 1469833
Change-Id: Ic84a03e5f4bf1b20a461e7a9967dd241c87eb2d2
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/63/196463/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_cache/tests/test_cache.py', 'oslo_cache/core.py', 'oslo_cache/exception.py', 'oslo_cache/__init__.py']",4,a01838debd32ce917fd99c5d5b3dd4f4d4d784ae,bug/1469833," """"""Caching."""""" from oslo_cache.core import * from oslo_cache import exception # flake8: noqa ",,104,90
openstack%2Fnetworking-odl~master~I3a3288d1bf22a9450e9662479c81fd13a013e573,openstack/networking-odl,master,I3a3288d1bf22a9450e9662479c81fd13a013e573,Overhaul pre_test_hook,MERGED,2015-06-29 23:05:32.000000000,2015-06-30 19:09:04.000000000,2015-06-30 19:09:03.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 6854}, {'_account_id': 11952}]","[{'number': 1, 'created': '2015-06-29 23:05:32.000000000', 'files': ['devstack/pre_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/79e7465f3097202ac69b43872ffa931e1885a7dd', 'message': 'Overhaul pre_test_hook\n\nMark build run as from openstack infra.\n\nChange-Id: I3a3288d1bf22a9450e9662479c81fd13a013e573\n'}]",0,196897,79e7465f3097202ac69b43872ffa931e1885a7dd,10,4,1,748,,,0,"Overhaul pre_test_hook

Mark build run as from openstack infra.

Change-Id: I3a3288d1bf22a9450e9662479c81fd13a013e573
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/97/196897/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/pre_test_hook.sh'],1,79e7465f3097202ac69b43872ffa931e1885a7dd,pre-hook,"#!/usr/bin/env bash set -xe # Drop a token that marks the build as coming from openstack infra GATE_DEST=$BASE/new DEVSTACK_PATH=$GATE_DEST/devstack echo ""IS_GATE=True"" >> $DEVSTACK_PATH/localrc ",,8,0
openstack%2Fkeystonemiddleware~master~Id521f8fc5cb768fc27d9611429d2c72cd68ee471,openstack/keystonemiddleware,master,Id521f8fc5cb768fc27d9611429d2c72cd68ee471,Temporarily disable the deprecations test failure,ABANDONED,2015-06-30 05:09:25.000000000,2015-06-30 19:06:16.000000000,,"[{'_account_id': 3}, {'_account_id': 6486}, {'_account_id': 7191}, {'_account_id': 13478}]","[{'number': 1, 'created': '2015-06-30 05:09:25.000000000', 'files': ['keystonemiddleware/tests/unit/utils.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/bfbe94fb96b7e5db157e93b232a8fcafeaaaf04f', 'message': 'Temporarily disable the deprecations test failure\n\nSome functions in keystoneclient.fixtures still call deprecated\nfunctions. Comment this out until we can get a fixed keystoneclient\nreleased.\n\nChange-Id: Id521f8fc5cb768fc27d9611429d2c72cd68ee471\n'}]",0,196948,bfbe94fb96b7e5db157e93b232a8fcafeaaaf04f,8,4,1,7191,,,0,"Temporarily disable the deprecations test failure

Some functions in keystoneclient.fixtures still call deprecated
functions. Comment this out until we can get a fixed keystoneclient
released.

Change-Id: Id521f8fc5cb768fc27d9611429d2c72cd68ee471
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/48/196948/1 && git format-patch -1 --stdout FETCH_HEAD,['keystonemiddleware/tests/unit/utils.py'],1,bfbe94fb96b7e5db157e93b232a8fcafeaaaf04f,cachesplit-new,"# import warnings # FIXME(jamielennox): Commentinng this out is a short term fix until # keystoneclient catches up on its deprecations # warnings.filterwarnings('error', category=DeprecationWarning, # module='^keystonemiddleware\\.') # self.addCleanup(warnings.resetwarnings)","import warnings warnings.filterwarnings('error', category=DeprecationWarning, module='^keystonemiddleware\\.') self.addCleanup(warnings.resetwarnings)",6,4
openstack%2Foslo.concurrency~master~I2cfa6c2f5f763d710b2ac2f07bdf5aa80bc4a408,openstack/oslo.concurrency,master,I2cfa6c2f5f763d710b2ac2f07bdf5aa80bc4a408,Add tox target to find missing requirements,MERGED,2015-06-26 11:18:45.000000000,2015-06-30 19:05:29.000000000,2015-06-30 19:05:27.000000000,"[{'_account_id': 3}, {'_account_id': 708}, {'_account_id': 1297}]","[{'number': 1, 'created': '2015-06-26 11:18:45.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/eecaaeddaa44fa1718d7e58471b7cc6b6be23b17', 'message': 'Add tox target to find missing requirements\n\nChange-Id: I2cfa6c2f5f763d710b2ac2f07bdf5aa80bc4a408\n'}]",0,196000,eecaaeddaa44fa1718d7e58471b7cc6b6be23b17,8,3,1,5638,,,0,"Add tox target to find missing requirements

Change-Id: I2cfa6c2f5f763d710b2ac2f07bdf5aa80bc4a408
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/00/196000/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,eecaaeddaa44fa1718d7e58471b7cc6b6be23b17,pip-missing-reqs," [testenv:pip-missing-reqs] # do not install test-requirements as that will pollute the virtualenv for # determining missing packages # this also means that pip-missing-reqs must be installed separately, outside # of the requirements.txt files deps = pip_missing_reqs commands = pip-missing-reqs -d --ignore-module=oslo_concurrency* --ignore-file=oslo_concurrency/tests/* --ignore-file=tests/ oslo_concurrency",,8,0
openstack%2Fopenstacksdk~master~I17fdecd4b42a71de22f7731d74b8e8f0d4d835b4,openstack/openstacksdk,master,I17fdecd4b42a71de22f7731d74b8e8f0d4d835b4,Move object_store functional tests to proper name,MERGED,2015-06-30 16:27:19.000000000,2015-06-30 19:04:13.000000000,2015-06-30 19:04:12.000000000,"[{'_account_id': 3}, {'_account_id': 8736}]","[{'number': 1, 'created': '2015-06-30 16:27:19.000000000', 'files': ['openstack/tests/functional/object_store/v1/__init__.py', 'openstack/tests/functional/object_store/__init__.py', 'openstack/tests/functional/object_store/v1/test_container.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/cac5712b41732f600852c51c9c5bdaac82e66ffd', 'message': 'Move object_store functional tests to proper name\n\nChange-Id: I17fdecd4b42a71de22f7731d74b8e8f0d4d835b4\n'}]",0,197170,cac5712b41732f600852c51c9c5bdaac82e66ffd,6,2,1,8257,,,0,"Move object_store functional tests to proper name

Change-Id: I17fdecd4b42a71de22f7731d74b8e8f0d4d835b4
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/70/197170/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/functional/object_store/v1/__init__.py', 'openstack/tests/functional/object_store/__init__.py', 'openstack/tests/functional/object_store/v1/test_container.py']",3,cac5712b41732f600852c51c9c5bdaac82e66ffd,move_object_tests,,,0,0
openstack%2Fnetworking-ovn~master~Ib70b8b9c83280c887e905db55bc77ffeadbe0734,openstack/networking-ovn,master,Ib70b8b9c83280c887e905db55bc77ffeadbe0734,Add unit tests for allowed_address_pairs port security part,MERGED,2015-06-28 12:28:07.000000000,2015-06-30 18:58:17.000000000,2015-06-30 18:58:16.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 1561}, {'_account_id': 1653}, {'_account_id': 4395}, {'_account_id': 5756}, {'_account_id': 8788}, {'_account_id': 11343}, {'_account_id': 13070}]","[{'number': 1, 'created': '2015-06-28 12:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/206d94deee49e6cebed2299a1c0de7b013a42323', 'message': 'Add unit tests for allowed_address_pairs\n\nChange-Id: Ib70b8b9c83280c887e905db55bc77ffeadbe0734\n'}, {'number': 2, 'created': '2015-06-28 12:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7724700993eca191852876b6c3091409f15ddc50', 'message': 'Add unit tests for allowed_address_pairs\n\nChange-Id: Ib70b8b9c83280c887e905db55bc77ffeadbe0734\n'}, {'number': 3, 'created': '2015-06-29 05:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c99c3714affa726075a70a0c12f2c3c409e5a279', 'message': 'Add unit tests for allowed_address_pairs port security part\n\nChange-Id: Ib70b8b9c83280c887e905db55bc77ffeadbe0734\n'}, {'number': 4, 'created': '2015-06-30 15:26:44.000000000', 'files': ['networking_ovn/tests/unit/test_mechanism_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/15a15133fef7af98fc24a9ed4a291bc9656017a8', 'message': 'Add unit tests for allowed_address_pairs port security part\n\nChange-Id: Ib70b8b9c83280c887e905db55bc77ffeadbe0734\n'}]",1,196435,15a15133fef7af98fc24a9ed4a291bc9656017a8,20,9,4,11343,,,0,"Add unit tests for allowed_address_pairs port security part

Change-Id: Ib70b8b9c83280c887e905db55bc77ffeadbe0734
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/35/196435/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/unit/test_mechanism_driver.py', 'requirements.txt']",2,206d94deee49e6cebed2299a1c0de7b013a42323,add_security_tests,ovs>=2.4.0.dev0,ovs>=2.4.0.dev0;python_version=='2.7' # Apache-2.0,26,1
openstack%2Fcookiecutter~master~If126a6f1034ce0c2263685976ad6125bec611a1d,openstack/cookiecutter,master,If126a6f1034ce0c2263685976ad6125bec611a1d,Add insentive to write a long description,MERGED,2015-06-30 15:51:01.000000000,2015-06-30 18:56:17.000000000,2015-06-30 18:56:17.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-06-30 15:51:01.000000000', 'files': ['{{cookiecutter.repo_name}}/README.rst'], 'web_link': 'https://opendev.org/openstack/cookiecutter/commit/fb6a502956aaaed36d724137a0b99b3913f49c48', 'message': 'Add insentive to write a long description\n\nAgain, again and again, new projects are released without a long\ndescription, which makes the lives of distribution package\nmaintainers miserable. This patch intends to help to fix that.\n\nChange-Id: If126a6f1034ce0c2263685976ad6125bec611a1d\n'}]",0,197146,fb6a502956aaaed36d724137a0b99b3913f49c48,6,2,1,6476,,,0,"Add insentive to write a long description

Again, again and again, new projects are released without a long
description, which makes the lives of distribution package
maintainers miserable. This patch intends to help to fix that.

Change-Id: If126a6f1034ce0c2263685976ad6125bec611a1d
",git fetch https://review.opendev.org/openstack/cookiecutter refs/changes/46/197146/1 && git format-patch -1 --stdout FETCH_HEAD,['{{cookiecutter.repo_name}}/README.rst'],1,fb6a502956aaaed36d724137a0b99b3913f49c48,,"Please feel here a long description which must be at least 3 lines wrapped on 80 cols, so that distribution package maintainers can use it in their packages. Note that this is a hard requirement. ",,4,0
openstack%2Fkeystonemiddleware~master~Ic45d5e77bef9f602e670ce7fb66ee08664a65c73,openstack/keystonemiddleware,master,Ic45d5e77bef9f602e670ce7fb66ee08664a65c73,Cleanup token_info setting,ABANDONED,2015-06-30 02:51:18.000000000,2015-06-30 18:49:55.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2015-06-30 02:51:18.000000000', 'files': ['keystonemiddleware/auth_token/_request.py', 'keystonemiddleware/auth_token/__init__.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/e33d6fea963b8f3cd0daab0d1d4edcede3d9d53e', 'message': 'Cleanup token_info setting\n\nIf we move setting the keystone.token_info environment variable back\nonto the middleware object we can avoid having to reconstruct token data\nfrom AccessInfo objects.\n\nChange-Id: Ic45d5e77bef9f602e670ce7fb66ee08664a65c73\n'}]",0,196931,e33d6fea963b8f3cd0daab0d1d4edcede3d9d53e,4,1,1,7191,,,0,"Cleanup token_info setting

If we move setting the keystone.token_info environment variable back
onto the middleware object we can avoid having to reconstruct token data
from AccessInfo objects.

Change-Id: Ic45d5e77bef9f602e670ce7fb66ee08664a65c73
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/31/196931/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/auth_token/_request.py', 'keystonemiddleware/auth_token/__init__.py']",2,e33d6fea963b8f3cd0daab0d1d4edcede3d9d53e,cachesplit," data, user_auth_ref = self._do_fetch_token(request.user_token) request.environ['keystone.token_info'] = data _, serv_auth_ref = self._do_fetch_token(request.service_token) return data, access.AccessInfo.factory(body=data, auth_token=token)"," user_auth_ref = self._do_fetch_token(request.user_token) serv_auth_ref = self._do_fetch_token(request.service_token) return access.AccessInfo.factory(body=data, auth_token=token)",4,12
openstack%2Foslo-incubator~stable%2Fkilo~If25f9565d832d1c36642ec3b1921563ef02890aa,openstack/oslo-incubator,stable/kilo,If25f9565d832d1c36642ec3b1921563ef02890aa,Graceful shutdown WSGI/RPC server,MERGED,2015-06-22 20:35:08.000000000,2015-06-30 18:49:11.000000000,2015-06-30 18:49:10.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 7293}, {'_account_id': 9176}, {'_account_id': 10115}, {'_account_id': 14358}]","[{'number': 1, 'created': '2015-06-22 20:35:08.000000000', 'files': ['tests/unit/test_service.py', 'openstack/common/service.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/13ce823686062d70b268b4d3888849adef07e4ff', 'message': 'Graceful shutdown WSGI/RPC server\n\nCurrently, termination of WSGI application or RPC server immediately stops\nservice and so interrupts in-progress request.\n\nGraceful handler for SIGTERM signal was added.\nSIGINT signal handler was removed to allow instantaneous termination of\nservice.\n\nDocImpact: graceful termination of process can be done by sending SIGTERM\nsignal to parent WSGI process. Graceful termination is not instantaneous.\nTo force instantaneous termination SIGINT signal must be sent.\n\nChange-Id: If25f9565d832d1c36642ec3b1921563ef02890aa\nCloses-bug: #1382390\nCo-Author: Tiantian Gao <gtt116@gmail.com>\n(cherry picked from commit fa9aa6b665f75e610f2b91a7d310f6499bd71770)\n'}]",0,194357,13ce823686062d70b268b4d3888849adef07e4ff,10,7,1,10115,,,0,"Graceful shutdown WSGI/RPC server

Currently, termination of WSGI application or RPC server immediately stops
service and so interrupts in-progress request.

Graceful handler for SIGTERM signal was added.
SIGINT signal handler was removed to allow instantaneous termination of
service.

DocImpact: graceful termination of process can be done by sending SIGTERM
signal to parent WSGI process. Graceful termination is not instantaneous.
To force instantaneous termination SIGINT signal must be sent.

Change-Id: If25f9565d832d1c36642ec3b1921563ef02890aa
Closes-bug: #1382390
Co-Author: Tiantian Gao <gtt116@gmail.com>
(cherry picked from commit fa9aa6b665f75e610f2b91a7d310f6499bd71770)
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/57/194357/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/test_service.py', 'openstack/common/service.py']",2,13ce823686062d70b268b4d3888849adef07e4ff,bug/1382390," self.launcher = None if self.launcher: self.launcher.stop() def _sigterm(*args): signal.signal(signal.SIGTERM, signal.SIG_DFL) self.launcher.stop() signal.signal(signal.SIGTERM, _sigterm) self.launcher = self._child_process(wrap.service) status, signo = self._child_wait_for_exit_or_signal( self.launcher) if not _is_sighup_and_daemon(signo): self.launcher.wait() self.launcher.restart() LOG.debug(""Stop services."") for service in set( [wrap.service for wrap in self.children.values()]): service.stop() LOG.debug(""Killing children."") for service in self.services: service.wait()"," signal.signal(signal.SIGINT, handler) signal.signal(signal.SIGTERM, signal.SIG_DFL) # Block SIGINT and let the parent send us a SIGTERM signal.signal(signal.SIGINT, signal.SIG_IGN) finally: launcher.stop() launcher = self._child_process(wrap.service) status, signo = self._child_wait_for_exit_or_signal(launcher) if not _is_sighup_and_daemon(signo): launcher.restart() service.wait()",68,17
openstack%2Frequirements~master~I7c2464285ffc618620bd3fd094e0cb0199979976,openstack/requirements,master,I7c2464285ffc618620bd3fd094e0cb0199979976,Pin pylint to 1.4.1,ABANDONED,2015-03-11 16:04:29.000000000,2015-06-30 18:48:45.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 2472}, {'_account_id': 2592}, {'_account_id': 2750}, {'_account_id': 4146}, {'_account_id': 6854}, {'_account_id': 7016}, {'_account_id': 7448}, {'_account_id': 7634}, {'_account_id': 8124}, {'_account_id': 8788}, {'_account_id': 8873}, {'_account_id': 9656}, {'_account_id': 11279}]","[{'number': 1, 'created': '2015-03-11 16:04:29.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d77f326a185458406518081123bcec73d35ac737', 'message': 'Pin pylint to 1.4.1\n\nNeutron is voting on pylint, and the 1.4.1 release introduced\na new check that failed Neutron. The issue was fixed in Neutron,\nhowever, new versions of pylint should not fail jobs that were\npreviously passing.\n\nChange-Id: I7c2464285ffc618620bd3fd094e0cb0199979976\n'}]",1,163506,d77f326a185458406518081123bcec73d35ac737,36,16,1,8873,,,0,"Pin pylint to 1.4.1

Neutron is voting on pylint, and the 1.4.1 release introduced
a new check that failed Neutron. The issue was fixed in Neutron,
however, new versions of pylint should not fail jobs that were
previously passing.

Change-Id: I7c2464285ffc618620bd3fd094e0cb0199979976
",git fetch https://review.opendev.org/openstack/requirements refs/changes/06/163506/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,d77f326a185458406518081123bcec73d35ac737,,pylint==1.4.1 # GNU GPL v2,pylint>=1.3.0 # GNU GPL v2,1,1
openstack%2Fopenstack-ansible~master~Ibbaa879166f5efaf7ca96add131cc3762dd88653,openstack/openstack-ansible,master,Ibbaa879166f5efaf7ca96add131cc3762dd88653,Create LXC containers with a rootfs dir,MERGED,2015-06-30 13:04:15.000000000,2015-06-30 18:19:54.000000000,2015-06-30 18:19:52.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 7353}]","[{'number': 1, 'created': '2015-06-30 13:04:15.000000000', 'files': ['playbooks/roles/lxc_container_create/tasks/container_create.yml', 'playbooks/roles/lxc_container_create/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/04149af86b300bb90d5517afa6c54307e3c69baf', 'message': 'Create LXC containers with a rootfs dir\n\nPreviously, an LXC container\'s rootfs was being placed into\n/var/lib/lxc/<container>/rootfs.  Commit\nhttps://review.openstack.org/#/c/190048/8 inadvertently changed this so\nthat a container\'s rootfs is now placed into /var/lib/lxc/<container/.\nThe downside here is that we now have a directory containing a\ncontainer\'s root fs and the LXC configuration for the container.\n\nThis change creates a new role-level variable called\nlxc_container_rootfs_directory which defaults to\n""{{ lxc_container_directory }}/{{ container_name }}/rootfs"" and passes\nthis variable when creating the container.\n\nChange-Id: Ibbaa879166f5efaf7ca96add131cc3762dd88653\nCloses-Bug: #1470101\n'}]",0,197055,04149af86b300bb90d5517afa6c54307e3c69baf,8,3,1,7307,,,0,"Create LXC containers with a rootfs dir

Previously, an LXC container's rootfs was being placed into
/var/lib/lxc/<container>/rootfs.  Commit
https://review.openstack.org/#/c/190048/8 inadvertently changed this so
that a container's rootfs is now placed into /var/lib/lxc/<container/.
The downside here is that we now have a directory containing a
container's root fs and the LXC configuration for the container.

This change creates a new role-level variable called
lxc_container_rootfs_directory which defaults to
""{{ lxc_container_directory }}/{{ container_name }}/rootfs"" and passes
this variable when creating the container.

Change-Id: Ibbaa879166f5efaf7ca96add131cc3762dd88653
Closes-Bug: #1470101
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/55/197055/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/lxc_container_create/tasks/container_create.yml', 'playbooks/roles/lxc_container_create/defaults/main.yml']",2,04149af86b300bb90d5517afa6c54307e3c69baf,bug/1470101,"lxc_container_rootfs_directory: ""{{ lxc_container_directory }}/{{ container_name }}/rootfs""",,2,1
openstack%2Fnetworking-powervm~master~I86b584574755dfff4ba914da7306b05ef8ecd52e,openstack/networking-powervm,master,I86b584574755dfff4ba914da7306b05ef8ecd52e,Remove redundant pypowervm fixtures,MERGED,2015-06-30 14:40:04.000000000,2015-06-30 18:11:05.000000000,2015-06-30 18:11:04.000000000,"[{'_account_id': 3}, {'_account_id': 8190}, {'_account_id': 9623}, {'_account_id': 13883}, {'_account_id': 14917}]","[{'number': 1, 'created': '2015-06-30 14:40:04.000000000', 'files': ['neutron_powervm/tests/unit/plugins/ibm/powervm/test_utils.py', 'neutron_powervm/tests/unit/plugins/ibm/powervm/fixtures.py'], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/b5723a140cd88d603191c0eff6be2388828ba123', 'message': ""Remove redundant pypowervm fixtures\n\nneutron_powervm.tests.unit.plugins.ibm.powervm.fixtures was redundantly\ndefining fixtures for pypowervm's Adapter and Session classes, causing\nconflicts in unit tests.  This change set removes the redundant fixtures\nmodule and replaces its uses with calls into the existing pypowervm\nfixtures for those classes.\n\nChange-Id: I86b584574755dfff4ba914da7306b05ef8ecd52e\n""}]",0,197118,b5723a140cd88d603191c0eff6be2388828ba123,6,5,1,14070,,,0,"Remove redundant pypowervm fixtures

neutron_powervm.tests.unit.plugins.ibm.powervm.fixtures was redundantly
defining fixtures for pypowervm's Adapter and Session classes, causing
conflicts in unit tests.  This change set removes the redundant fixtures
module and replaces its uses with calls into the existing pypowervm
fixtures for those classes.

Change-Id: I86b584574755dfff4ba914da7306b05ef8ecd52e
",git fetch https://review.opendev.org/openstack/networking-powervm refs/changes/18/197118/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_powervm/tests/unit/plugins/ibm/powervm/test_utils.py', 'neutron_powervm/tests/unit/plugins/ibm/powervm/fixtures.py']",2,b5723a140cd88d603191c0eff6be2388828ba123,fix_fixtures,,"# Copyright 2015 IBM Corp. # # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # from __future__ import absolute_import import fixtures import mock class PyPowerVM(fixtures.Fixture): """"""Patch out PyPowerVM Session and Adapter."""""" def __init__(self): pass def setUp(self): super(PyPowerVM, self).setUp() self._sess_patcher = mock.patch('pypowervm.adapter.Session') self._adpt_patcher = mock.patch('pypowervm.adapter.Adapter') self.sess = self._sess_patcher.start() self.adpt = self._adpt_patcher.start() self.addCleanup(self._sess_patcher.stop) self.addCleanup(self._adpt_patcher.stop) ",5,46
openstack%2Fpython-glanceclient~master~I831eb6b773d80edc233fd6f6e565ca6f24b65210,openstack/python-glanceclient,master,I831eb6b773d80edc233fd6f6e565ca6f24b65210,Do not fall back to namespaced oslo.i18n,MERGED,2015-06-24 21:57:27.000000000,2015-06-30 18:10:39.000000000,2015-06-30 18:10:37.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5202}, {'_account_id': 6159}, {'_account_id': 6549}, {'_account_id': 8127}, {'_account_id': 11356}, {'_account_id': 11391}, {'_account_id': 12807}]","[{'number': 1, 'created': '2015-06-24 21:57:27.000000000', 'files': ['glanceclient/_i18n.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/e192a39af30e436ca40a621462ab593d367ccd01', 'message': ""Do not fall back to namespaced oslo.i18n\n\nThe Oslo libraries have moved all of their code out of the 'oslo'\nnamespace package into per-library packages. The namespace package was\nretained during kilo for backwards compatibility, but will be removed by\nthe liberty-2 milestone. This change removes the use of the namespace\npackage, replacing it with the new package names.\n\nThe patches in the libraries will be put on hold until application\npatches have landed, or L2, whichever comes first. At that point, new\nversions of the libraries without namespace packages will be released as\na major version update.\n\nPlease merge this patch, or an equivalent, before L2 to avoid problems\nwith those library releases.\n\nBlueprint: remove-namespace-packages\nhttps://blueprints.launchpad.net/oslo-incubator/+spec/remove-namespace-packages\n\nChange-Id: I831eb6b773d80edc233fd6f6e565ca6f24b65210\n""}]",0,195336,e192a39af30e436ca40a621462ab593d367ccd01,11,9,1,12000,,,0,"Do not fall back to namespaced oslo.i18n

The Oslo libraries have moved all of their code out of the 'oslo'
namespace package into per-library packages. The namespace package was
retained during kilo for backwards compatibility, but will be removed by
the liberty-2 milestone. This change removes the use of the namespace
package, replacing it with the new package names.

The patches in the libraries will be put on hold until application
patches have landed, or L2, whichever comes first. At that point, new
versions of the libraries without namespace packages will be released as
a major version update.

Please merge this patch, or an equivalent, before L2 to avoid problems
with those library releases.

Blueprint: remove-namespace-packages
https://blueprints.launchpad.net/oslo-incubator/+spec/remove-namespace-packages

Change-Id: I831eb6b773d80edc233fd6f6e565ca6f24b65210
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/36/195336/1 && git format-patch -1 --stdout FETCH_HEAD,['glanceclient/_i18n.py'],1,e192a39af30e436ca40a621462ab593d367ccd01,bp/remove-namespace-packages,import oslo_i18n as i18n,try: import oslo_i18n as i18n except ImportError: from oslo import i18n,1,4
openstack%2Fheat-translator~master~I46454c02ab851b3af68af1dda8d362273e952db7,openstack/heat-translator,master,I46454c02ab851b3af68af1dda8d362273e952db7,Implement tosca.scalar-unit,MERGED,2015-05-06 19:09:23.000000000,2015-06-30 18:10:27.000000000,2015-06-30 18:10:24.000000000,"[{'_account_id': 3}, {'_account_id': 6456}, {'_account_id': 10818}, {'_account_id': 10856}, {'_account_id': 12259}, {'_account_id': 13176}]","[{'number': 1, 'created': '2015-05-06 19:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/0e183652fab26edf97576c9051a1fe5b2aabb2ba', 'message': ""Implement tosca.scalar-unit\n\n1. Implement tosca.scalar-unit.frequency/tosca.scalar-unit.size/\ntosca.scalar-unit.time\n2. Add 'cpu_frequency' property for tosca.nodes.Compute\n\nChange-Id: I46454c02ab851b3af68af1dda8d362273e952db7\n""}, {'number': 2, 'created': '2015-05-06 19:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/9fb0a7969e206ae911e41a931e216f86fda46fb4', 'message': ""Implement tosca.scalar-unit\n\n1. Implement tosca.scalar-unit.frequency/tosca.scalar-unit.size/\ntosca.scalar-unit.time\n2. Add 'cpu_frequency' property for tosca.nodes.Compute\n\nChange-Id: I46454c02ab851b3af68af1dda8d362273e952db7\n""}, {'number': 3, 'created': '2015-05-06 19:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/c8903e13dfaa46afc13999d0bd96f8e618db8c6a', 'message': ""Implement tosca.scalar-unit\n\n1. Implement tosca.scalar-unit.frequency/tosca.scalar-unit.size/\ntosca.scalar-unit.time\n2. Add 'cpu_frequency' property for tosca.nodes.Compute\n\nChange-Id: I46454c02ab851b3af68af1dda8d362273e952db7\n""}, {'number': 4, 'created': '2015-05-07 07:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/b35742c2afe219a25e858e6c6352f753fea75a19', 'message': ""Implement tosca.scalar-unit\n\n1. Implement tosca.scalar-unit.frequency/tosca.scalar-unit.size/\ntosca.scalar-unit.time\n2. Add 'cpu_frequency' property for tosca.nodes.Compute\n\nChange-Id: I46454c02ab851b3af68af1dda8d362273e952db7\n""}, {'number': 5, 'created': '2015-05-07 09:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/7066db4566b0abebc31d47c2808bc1a5110e54e0', 'message': ""Implement tosca.scalar-unit\n\n1. Implement tosca.scalar-unit.frequency/tosca.scalar-unit.size/\ntosca.scalar-unit.time\n2. Add 'cpu_frequency' property for tosca.nodes.Compute\n\nChange-Id: I46454c02ab851b3af68af1dda8d362273e952db7\n""}, {'number': 6, 'created': '2015-06-25 15:29:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/bda6cf2986e4b076e5025795155c94038aaad149', 'message': ""Implement tosca.scalar-unit\n\n1. Implement tosca.scalar-unit.frequency/tosca.scalar-unit.size/\ntosca.scalar-unit.time\n2. Add 'cpu_frequency' property for tosca.nodes.Compute\n\nChange-Id: I46454c02ab851b3af68af1dda8d362273e952db7\n""}, {'number': 7, 'created': '2015-06-25 16:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/14ad85a905267faac799349a9242d5c2e642a3bb', 'message': ""Implement tosca.scalar-unit\n\n1. Implement tosca.scalar-unit.frequency/tosca.scalar-unit.size/\ntosca.scalar-unit.time\n2. Add 'cpu_frequency' property for tosca.nodes.Compute\n\nChange-Id: I46454c02ab851b3af68af1dda8d362273e952db7\n""}, {'number': 8, 'created': '2015-06-25 16:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/ba612a024f25efe2f8dc7f4e68e7f8b4026e036b', 'message': ""Implement tosca.scalar-unit\n\n1. Implement tosca.scalar-unit.frequency/tosca.scalar-unit.size/\ntosca.scalar-unit.time\n2. Add 'cpu_frequency' property for tosca.nodes.Compute\n\nChange-Id: I46454c02ab851b3af68af1dda8d362273e952db7\n""}, {'number': 9, 'created': '2015-06-26 13:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/59d213099d4c764e8c756047609509416dfd80f9', 'message': ""Implement tosca.scalar-unit\n\n1. Implement tosca.scalar-unit.frequency/tosca.scalar-unit.size/\ntosca.scalar-unit.time\n2. Add 'cpu_frequency' property for tosca.nodes.Compute\n\nChange-Id: I46454c02ab851b3af68af1dda8d362273e952db7\n""}, {'number': 10, 'created': '2015-06-29 16:47:05.000000000', 'files': ['translator/toscalib/elements/TOSCA_definition.yaml', 'translator/toscalib/tests/data/functions/test_unknown_input_in_property.yaml', 'translator/toscalib/tests/test_scalar_unit.py', 'translator/hot/tosca/tosca_object_storage.py', 'translator/toscalib/tests/data/tosca_single_server.yaml', 'translator/toscalib/tests/data/network/tosca_two_servers_one_network.yaml', 'translator/toscalib/tests/data/storage/tosca_single_object_store.yaml', 'translator/toscalib/dataentity.py', 'translator/toscalib/tests/data/network/tosca_server_on_existing_network.yaml', 'translator/toscalib/tests/test_toscatplvalidation.py', 'translator/toscalib/tests/data/network/tosca_one_server_one_network.yaml', 'translator/toscalib/elements/constraints.py', 'translator/toscalib/tests/data/network/tosca_one_server_three_networks.yaml', 'translator/toscalib/utils/validateutils.py', 'translator/toscalib/tests/test_scalarunit.py', 'translator/hot/tosca/tests/test_tosca_objectstore.py', 'translator/toscalib/tests/test_toscadef.py', 'translator/toscalib/elements/scalarunit.py'], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/e1873c8285afd6c18d374585f78cc9a46f821401', 'message': ""Implement tosca.scalar-unit\n\n1. Implement tosca.scalar-unit.frequency/tosca.scalar-unit.size/\ntosca.scalar-unit.time\n2. Add 'cpu_frequency' property for tosca.nodes.Compute\n\nChange-Id: I46454c02ab851b3af68af1dda8d362273e952db7\n""}]",11,180682,e1873c8285afd6c18d374585f78cc9a46f821401,33,6,10,10818,,,0,"Implement tosca.scalar-unit

1. Implement tosca.scalar-unit.frequency/tosca.scalar-unit.size/
tosca.scalar-unit.time
2. Add 'cpu_frequency' property for tosca.nodes.Compute

Change-Id: I46454c02ab851b3af68af1dda8d362273e952db7
",git fetch https://review.opendev.org/openstack/heat-translator refs/changes/82/180682/10 && git format-patch -1 --stdout FETCH_HEAD,"['translator/toscalib/elements/TOSCA_definition.yaml', 'translator/toscalib/tests/test_scalar_unit.py', 'translator/toscalib/elements/constraints.py', 'translator/hot/tosca/tosca_object_storage.py', 'translator/toscalib/tests/test_toscadef.py', 'translator/toscalib/dataentity.py']",6,0e183652fab26edf97576c9051a1fe5b2aabb2ba,(detached,from translator.toscalib.elements.scalarunit import ScalarUnit_Frequency from translator.toscalib.elements.scalarunit import ScalarUnit_Size from translator.toscalib.elements.scalarunit import ScalarUnit_Time return ScalarUnit_Size(value).validate_scalar_unit() elif type == Schema.SCALAR_UNIT_FREQUENCY: return ScalarUnit_Frequency(value).validate_scalar_unit() elif type == Schema.SCALAR_UNIT_TIME: return ScalarUnit_Time(value).validate_scalar_unit(), return Constraint.validate_scalar_unit_size(value),49,235
openstack%2Fglance~master~I71b551bfa72631036fcf9d2c38701d74a0e14611,openstack/glance,master,I71b551bfa72631036fcf9d2c38701d74a0e14611,Remove unused imported marker functions,MERGED,2015-03-12 11:05:12.000000000,2015-06-30 18:10:08.000000000,2015-06-30 18:10:06.000000000,"[{'_account_id': 3}, {'_account_id': 7012}, {'_account_id': 9535}, {'_account_id': 11356}, {'_account_id': 11391}, {'_account_id': 11428}, {'_account_id': 13161}, {'_account_id': 16658}]","[{'number': 1, 'created': '2015-03-12 11:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/07018dbe90417b979e78dda1b2f33954041a3556', 'message': 'Remove unused imported marker functions\n\nRemoved unused imported marker functions\n( _LI = i18n._LI, _LW = i18n._LW) from several\nplaces.\n\nChange-Id: I71b551bfa72631036fcf9d2c38701d74a0e14611\n'}, {'number': 2, 'created': '2015-03-12 11:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bfe07bfdf32a4d55d6b5d367c6b4a35d8614ad4e', 'message': 'Remove unused imported marker functions\n\nRemoved unused imported marker functions\n( _LI = i18n._LI, _LW = i18n._LW) from several\nplaces.\n\nCloses-Bug: #1431243\nChange-Id: I71b551bfa72631036fcf9d2c38701d74a0e14611\n'}, {'number': 3, 'created': '2015-03-13 09:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/950be69c7203f40c1bcf4524fcb223a4e8914f4e', 'message': 'Remove unused imported marker functions\n\nRemoved unused imported marker functions\n( _LI = i18n._LI, _LW = i18n._LW) from several\nplaces.\n\nCloses-Bug: #1431243\nChange-Id: I71b551bfa72631036fcf9d2c38701d74a0e14611\n'}, {'number': 4, 'created': '2015-04-21 11:27:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f5e5d3e42e0cdf0e7c0db16813af966ccddfe759', 'message': 'Remove unused imported marker functions\n\nRemoved unused imported marker functions\n( _LI = i18n._LI, _LW = i18n._LW) from several\nplaces.\n\nCloses-Bug: #1431243\nChange-Id: I71b551bfa72631036fcf9d2c38701d74a0e14611\n'}, {'number': 5, 'created': '2015-06-29 05:57:37.000000000', 'files': ['glance/api/middleware/cache.py', 'glance/api/v2/metadef_properties.py', 'glance/db/sqlalchemy/metadef_api/property.py', 'glance/api/v1/upload_utils.py', 'glance/db/sqlalchemy/api.py', 'glance/registry/client/v1/client.py', 'glance/async/flows/introspect.py', 'glance/api/policy.py', 'glance/cmd/manage.py', 'glance/api/common.py', 'glance/db/sqlalchemy/metadef_api/object.py', 'glance/api/v2/metadef_namespaces.py', 'glance/api/v2/metadef_objects.py', 'glance/api/v2/metadef_resource_types.py', 'glance/db/sqlalchemy/metadef_api/namespace.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/68c2a323bdb17d8583e88d1c920351b40e233db0', 'message': 'Remove unused imported marker functions\n\nRemoved unused imported marker functions\n( _LI = i18n._LI, _LW = i18n._LW) from several\nplaces.\n\nCloses-Bug: #1431243\nChange-Id: I71b551bfa72631036fcf9d2c38701d74a0e14611\n'}]",0,163761,68c2a323bdb17d8583e88d1c920351b40e233db0,30,8,5,10300,,,0,"Remove unused imported marker functions

Removed unused imported marker functions
( _LI = i18n._LI, _LW = i18n._LW) from several
places.

Closes-Bug: #1431243
Change-Id: I71b551bfa72631036fcf9d2c38701d74a0e14611
",git fetch https://review.opendev.org/openstack/glance refs/changes/61/163761/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/middleware/cache.py', 'glance/api/v2/metadef_properties.py', 'glance/db/sqlalchemy/metadef_api/property.py', 'glance/api/v1/upload_utils.py', 'glance/db/sqlalchemy/api.py', 'glance/registry/client/v1/client.py', 'glance/async/flows/introspect.py', 'glance/api/policy.py', 'glance/cmd/manage.py', 'glance/api/common.py', 'glance/db/sqlalchemy/metadef_api/object.py', 'glance/api/v2/metadef_namespaces.py', 'glance/api/v2/metadef_objects.py', 'glance/api/v2/metadef_resource_types.py', 'glance/db/sqlalchemy/metadef_api/namespace.py']",15,07018dbe90417b979e78dda1b2f33954041a3556,bug/1431243,,_LW = i18n._LW,0,21
openstack%2Fnova-specs~master~I929218e2420edf04b8c77c0cbd5d5be1c2ad79dd,openstack/nova-specs,master,I929218e2420edf04b8c77c0cbd5d5be1c2ad79dd,VIF plug script support for Nova,ABANDONED,2015-03-08 13:00:58.000000000,2015-06-30 18:09:05.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 261}, {'_account_id': 782}, {'_account_id': 1779}, {'_account_id': 2750}, {'_account_id': 3217}, {'_account_id': 4393}, {'_account_id': 4656}, {'_account_id': 6598}, {'_account_id': 6681}, {'_account_id': 6685}, {'_account_id': 6802}, {'_account_id': 6932}, {'_account_id': 8190}, {'_account_id': 8802}, {'_account_id': 11307}, {'_account_id': 11343}, {'_account_id': 11604}, {'_account_id': 11647}, {'_account_id': 12065}, {'_account_id': 12171}, {'_account_id': 12340}, {'_account_id': 13734}, {'_account_id': 13869}]","[{'number': 1, 'created': '2015-03-08 13:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/470ddc9fd4d4600c350da29faa4a1b7962723c9b', 'message': 'WIP: VIF plug script support for Nova\n\nIntroduce the ability to specify a script to be called upon VIF\nplug/unplug operations to permit integration with networking\nimplementations without non-virtualization driver specific changes to\nNova.\n\nChange-Id: I929218e2420edf04b8c77c0cbd5d5be1c2ad79dd\n'}, {'number': 2, 'created': '2015-03-08 21:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/712a643aa2d2a7b810b27b899c9203cd4a0dcd66', 'message': 'WIP: VIF plug script support for Nova\n\nIntroduce the ability to specify a script to be called upon VIF\nplug/unplug operations to permit integration with networking\nimplementations without non-virtualization driver specific changes to\nNova.\n\nChange-Id: I929218e2420edf04b8c77c0cbd5d5be1c2ad79dd\n'}, {'number': 3, 'created': '2015-04-24 17:05:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/36ee12a1a432bcd2e0440327c1b96b7ef0af929b', 'message': 'WIP: VIF plug script support for Nova\n\nIntroduce the ability to specify a script to be called upon VIF\nplug/unplug operations to permit integration with networking\nimplementations without non-virtualization driver specific changes to\nNova.\n\nChange-Id: I929218e2420edf04b8c77c0cbd5d5be1c2ad79dd\n'}, {'number': 4, 'created': '2015-05-07 18:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/8a6246f131d0ff697d9eee58e8f976fb18d3694e', 'message': 'WIP: VIF plug script support for Nova\n\nIntroduce the ability to specify a script to be called upon VIF\nplug/unplug operations to permit integration with networking\nimplementations without non-virtualization driver specific changes to\nNova.\n\nChange-Id: I929218e2420edf04b8c77c0cbd5d5be1c2ad79dd\n'}, {'number': 5, 'created': '2015-05-08 14:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/60b4972ad1e7ea0b15578b23153ba89d028b6d5e', 'message': 'VIF plug script support for Nova\n\nIntroduce the ability to specify a script to be called upon VIF\nplug/unplug operations to permit integration with networking\nimplementations without non-virtualization driver specific changes to\nNova.\n\nChange-Id: I929218e2420edf04b8c77c0cbd5d5be1c2ad79dd\n'}, {'number': 6, 'created': '2015-05-08 15:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/259f2499a5db35e9a4b1dcdaee774408d22f2268', 'message': 'VIF plug script support for Nova\n\nIntroduce the ability to specify a script to be called upon VIF\nplug/unplug operations to permit integration with networking\nimplementations without non-virtualization driver specific changes to\nNova.\n\nChange-Id: I929218e2420edf04b8c77c0cbd5d5be1c2ad79dd\n'}, {'number': 7, 'created': '2015-05-08 15:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/fee85d1f6c7919be3f7f4e5c3a28217f437d7d2f', 'message': 'VIF plug script support for Nova\n\nIntroduce the ability to specify a script to be called upon VIF\nplug/unplug operations to permit integration with networking\nimplementations without non-virtualization driver specific changes to\nNova.\n\nChange-Id: I929218e2420edf04b8c77c0cbd5d5be1c2ad79dd\n'}, {'number': 8, 'created': '2015-05-21 12:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/031c77659aa34870f12656cba8b052a7ff9cf546', 'message': 'VIF plug script support for Nova\n\nIntroduce the ability to specify a script to be called upon VIF\nplug/unplug operations to permit integration with networking\nimplementations without non-virtualization driver specific changes to\nNova.\n\nChange-Id: I929218e2420edf04b8c77c0cbd5d5be1c2ad79dd\n'}, {'number': 9, 'created': '2015-05-21 14:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f8f910522c680f156548a29a40e86a1156177bb7', 'message': 'VIF plug script support for Nova\n\nIntroduce the ability to specify a script to be called upon VIF\nplug/unplug operations to permit integration with networking\nimplementations without non-virtualization driver specific changes to\nNova.\n\nChange-Id: I929218e2420edf04b8c77c0cbd5d5be1c2ad79dd\n'}, {'number': 10, 'created': '2015-05-26 19:10:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/8cddac83fe1992eb9ffe2a5ea67b119b67929209', 'message': 'VIF plug script support for Nova\n\nIntroduce the ability to specify a script to be called upon VIF\nplug/unplug operations to permit integration with networking\nimplementations without non-virtualization driver specific changes to\nNova.\n\nChange-Id: I929218e2420edf04b8c77c0cbd5d5be1c2ad79dd\n'}, {'number': 11, 'created': '2015-05-27 13:54:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/5b4b4d9bde975ce48a35048f4bc51651e9f34b58', 'message': 'VIF plug script support for Nova\n\nIntroduce the ability to specify a script to be called upon VIF\nplug/unplug operations to permit integration with networking\nimplementations without non-virtualization driver specific changes to\nNova.\n\nChange-Id: I929218e2420edf04b8c77c0cbd5d5be1c2ad79dd\n'}, {'number': 12, 'created': '2015-05-27 14:04:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/4430e16a7b7a878674826ecdb6de14ba7a08139d', 'message': 'VIF plug script support for Nova\n\nIntroduce the ability to specify a script to be called upon VIF\nplug/unplug operations to permit integration with networking\nimplementations without non-virtualization driver specific changes to\nNova.\n\nChange-Id: I929218e2420edf04b8c77c0cbd5d5be1c2ad79dd\n'}, {'number': 13, 'created': '2015-05-27 14:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e2b5be183c4573b1e256c1b6b8a879831f53b546', 'message': 'VIF plug script support for Nova\n\nIntroduce the ability to specify a script to be called upon VIF\nplug/unplug operations to permit integration with networking\nimplementations without non-virtualization driver specific changes to\nNova.\n\nChange-Id: I929218e2420edf04b8c77c0cbd5d5be1c2ad79dd\n'}, {'number': 14, 'created': '2015-06-09 14:06:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/865091e2f665f9542bede8ab0a100978ae349d35', 'message': 'VIF plug script support for Nova\n\nIntroduce the ability to specify a script to be called upon VIF\nplug/unplug operations to permit integration with networking\nimplementations without non-virtualization driver specific changes to\nNova.\n\nChange-Id: I929218e2420edf04b8c77c0cbd5d5be1c2ad79dd\n'}, {'number': 15, 'created': '2015-06-11 14:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/3e604fb7307f6b7e0f1ea78e47888f847e474074', 'message': 'VIF plug script support for Nova\n\nIntroduce the ability to specify a script to be called upon VIF\nplug/unplug operations to permit integration with networking\nimplementations without non-virtualization driver specific changes to\nNova.\n\nCo-Authored-By: Daniel P. Berrange <berrange@redhat.com>\n\nChange-Id: I929218e2420edf04b8c77c0cbd5d5be1c2ad79dd\n'}, {'number': 16, 'created': '2015-06-11 14:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/963d405eea8fe6c2490a08305635b3ace0e9bdbd', 'message': 'VIF plug script support for Nova\n\nIntroduce the ability to specify a script to be called upon VIF\nplug/unplug operations to permit integration with networking\nimplementations without non-virtualization driver specific changes to\nNova.\n\nCo-Authored-By: Daniel P. Berrange <berrange@redhat.com>\nCo-Authored-By: Maxime Leroy <maxime.leroy@6wind.com>\n\nChange-Id: I929218e2420edf04b8c77c0cbd5d5be1c2ad79dd\n'}, {'number': 17, 'created': '2015-06-12 19:23:33.000000000', 'files': ['specs/liberty/approved/vif-plug-script.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/d2a1b75647219ce9d77a47c309f7f560ee845354', 'message': 'VIF plug script support for Nova\n\nIntroduce the ability to specify a script to be called upon VIF\nplug/unplug operations to permit integration with networking\nimplementations without non-virtualization driver specific changes to\nNova.\n\nCo-Authored-By: Daniel P. Berrange <berrange@redhat.com>\nCo-Authored-By: Maxime Leroy <maxime.leroy@6wind.com>\n\nChange-Id: I929218e2420edf04b8c77c0cbd5d5be1c2ad79dd\n'}]",177,162468,d2a1b75647219ce9d77a47c309f7f560ee845354,141,25,17,6681,,,0,"VIF plug script support for Nova

Introduce the ability to specify a script to be called upon VIF
plug/unplug operations to permit integration with networking
implementations without non-virtualization driver specific changes to
Nova.

Co-Authored-By: Daniel P. Berrange <berrange@redhat.com>
Co-Authored-By: Maxime Leroy <maxime.leroy@6wind.com>

Change-Id: I929218e2420edf04b8c77c0cbd5d5be1c2ad79dd
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/68/162468/12 && git format-patch -1 --stdout FETCH_HEAD,['specs/liberty/approved/vif-plug-script.rst'],1,470ddc9fd4d4600c350da29faa4a1b7962723c9b,bp/vif-plugin-script,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== VIF plug script support for Nova ========================================== Problem description =================== The interaction between Nova and Neutron for provisioning network connections for guest instances is an example of a poor separation of concerns. While Neutron provides most of the networking configuration, different implementations of virtual interfaces types use backend-specific operations implemented in nova to complete the task (e.g. connect the guest's tap interface to a bridge). This has several consequences: - New VIF types require additional code to be added to the hypervisor driver to be called when a VIF is created or destroyed. This incurs technical debt and review overhead as well as code that cannot be fully tested outside of third party test suites. - Third party out-of-tree implemenations require Nova to publish and support a stable extension API so the operations could be integrated with the core components. - The Nova and Neutron components become more tightly coupled with respect to lifecycle. For example, Nova would not accept code to support a new VIF type that is not yet supported by Neutron. This introduces a risk that it may take multiple cycles for a new type to be supported, even if the implementation is complete and in-tree in Neutron. Use Cases ---------- This change provides a mechanism to allow support for new VIF types to be supported through deployment configuration and not changes to Nova. This includes out-of-tree third party implementations. Project Priority ----------------- TBD Proposed change =============== This change introduces a new VIF field, VIF_PLUGIN_SCRIPT. This field will be populated by Neutron and refer to a back-end specific script that will be called from the virtualization driver when the system is ready to connect the guest to a L2 network. Nova shall be modified to call the script and interpret success or failure based on standard error level codes. Nova shall provide additional information to the script by populating environment variables. The script is called by nova in the following way: ENVIRONNEMT_VARIABLES plug_script.[sh|py] [plug|unplug] +------------------------------+--------------------------------+ | VIF data member | Environment variable | +==============================+================================+ | VIF_ID | | +------------------------------+--------------------------------+ | VIF_NETWORK_BRIDGE | | +------------------------------+--------------------------------+ | VIF_ADDRESS | | +------------------------------+--------------------------------+ | INSTANCE_UUID | | +------------------------------+--------------------------------+ | VIF_MACADDRESS | | +------------------------------+--------------------------------+ | VIF_NETWORK_DETAILS * | | +------------------------------+--------------------------------+ | VIF_DEVNAME * | | +------------------------------+--------------------------------+ | INSTANCE_PROJECT_ID** | | +------------------------------+--------------------------------+ * Mellanox use case ** IOVisor Alternatives ------------ An alternate approach is to provide a stable extension API so that third party vendors could extend the current VIF type support through subclassing or similar programmatic approaches. In practice, this is fragile as small changes to the base classes within Nova present a significant regression risk to the derived types. An example of this is the vif_plug mechanism: See: https://blueprints.launchpad.net/nova/+spec/libvirt-vif-driver-plugin Another alternative is to publish a Python API that extensions must support to implement VIF plugging. This is inappropriately ""heavy"" for what amounts to a few calls with some variables. It introduces a class of errors that need to be handled such as import errors for the implementation modules, unknown exceptions percolating up to Nova, etc. As the ultimate result in both approaches is typically calling an external command, the script approach is more direct and sensible. Data model impact ----------------- There is no data model impact. The VIF_PLUGIN_SCRIPT is included in the 'details' field of nova.network.model.VIF and is stored as part of the BLOB string. Migration does not present a problem as only new VIF types and instances will be supported in this iteration. REST API impact --------------- The VIF_PLUGIN_SCRIPT is encapsulated in the Neutron port details and does not require a change to the Neutron API from that perspective. The Neutron client and Neutron may allow administrators to specify the script as part of the port creation, which would require changes within Neutron. However there is no API impact that would affect Nova. Security impact --------------- There is a potential security impact as the script specified in VIF_PLUGIN_SCRIPT must be run with elevated privileges (e.g. through rootwrap) and consequently could potentially execute arbitrary commands. As always, restricted access to networking and hypervisor hosts must be ensured and, if possible, the constellation of privileges provided to the VIF_PLUGIN_SCRIPT be restricted to only those needed for proper operation. Notifications impact -------------------- Please specify any changes to notifications. Be that an extra notification, changes to an existing notification, or removing a notification. Other end user impact --------------------- Aside from the API, are there other ways a user will interact with this feature? * Does this change have an impact on python-novaclient? What does the user interface there look like? Performance Impact ------------------ Describe any potential performance impact on the system, for example how often will new code be called, and is there a major change to the calling pattern of existing code. Examples of things to consider here include: * A periodic task might look like a small addition but if it calls conductor or another service the load is multiplied by the number of nodes in the system. * Scheduler filters get called once per host for every instance being created, so any latency they introduce is linear with the size of the system. * A small change in a utility function or a commonly used decorator can have a large impacts on performance. * Calls which result in a database queries (whether direct or via conductor) can have a profound impact on performance when called in critical sections of the code. * Will the change include any locking, and if so what considerations are there on holding the lock? Other deployer impact --------------------- Deployment of Nova is not impacted. Deployment of Neutron however will need to install plugin scripts into an appropriate accessible location so it can be called by Nova. Developer impact ---------------- Discuss things that will affect other developers working on OpenStack, such as: * If the blueprint proposes a change to the driver API, discussion of how other hypervisors would implement the feature is required. Implementation ============== Assignee(s) ----------- Primary assignee: maxime-leroy <maxime.leroy@6wind.com> irc:mleroy Other assignee: Brent Eagles <beagles@redhat.com> irc: beagles Work Items ---------- * Implement call point for VIF_PLUGIN_SCRIPT along with requisite tests. Includes: * validation of file location, * population of environment variables, * execution of script (logging of output when verbose and debug are True) * interpretation of error codes Dependencies ============ * Include specific references to specs and/or blueprints in nova, or in other projects, that this one either depends on or is related to. * If this requires functionality of another project that is not currently used by Nova (such as the glance v2 API when we previously only required v1), document that fact. * Does this feature require any new library dependencies or code otherwise not included in OpenStack? Or does it depend on a specific version of library? Testing ======= An example of this is the vif_plug mechanism: See: https://blueprints.launchpad.net/nova/+spec/libvirt-vif-driver-plugin Documentation Impact ==================== What is the impact on the docs team of this change? Some changes might require donating resources to the docs team to have the documentation updated. Don't repeat details discussed above, but please reference them here. References ========== [1] http://docs.openstack.org/api/openstack-network/2.0/content/binding_ext_ports.html [2] http://lists.openstack.org/pipermail/openstack-dev/2014-August/044192.html [3] http://lists.openstack.org/pipermail/openstack-dev/2014-December/052531.html [4] https://blueprints.launchpad.net/nova/+spec/vif-type-tap [5] https://blueprints.launchpad.net/nova/+spec/vif-vhostuser [6] https://github.com/openstack/neutron/blob/master/neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py#L348 [7] http://lists.openstack.org/pipermail/openstack-dev/2014-December/052744.html ",,252,0
openstack%2Fswift~feature%2Fhummingbird~I702ecf1b30947d1c29def651e1112945de67c925,openstack/swift,feature/hummingbird,I702ecf1b30947d1c29def651e1112945de67c925,go: fix x-delete-at updates,MERGED,2015-06-19 13:55:38.000000000,2015-06-30 18:08:27.000000000,2015-06-30 18:08:25.000000000,"[{'_account_id': 3}, {'_account_id': 995}, {'_account_id': 1009}, {'_account_id': 14711}, {'_account_id': 16218}]","[{'number': 1, 'created': '2015-06-19 13:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f6192bec3f2e7d4afc2c486acce28c1ca8d5c1f3', 'message': 'go: fix x-delete-at updates\n\nFix X-Delete-At updates, which were broken in a number of ways.\n\nChange-Id: I702ecf1b30947d1c29def651e1112945de67c925\n'}, {'number': 2, 'created': '2015-06-19 13:58:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2a71dd1031adeaf4e0c4552b0ac3e1c737efedf4', 'message': 'go: fix x-delete-at updates\n\nFix X-Delete-At updates, which were broken in a number of ways.\n\nChange-Id: I702ecf1b30947d1c29def651e1112945de67c925\n'}, {'number': 3, 'created': '2015-06-20 18:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/afbe9e15062781468c687cbad9cb9e6b1b710085', 'message': 'go: fix x-delete-at updates\n\nFix X-Delete-At updates, which were broken in a number of ways.\n\nChange-Id: I702ecf1b30947d1c29def651e1112945de67c925\n'}, {'number': 4, 'created': '2015-06-20 22:17:33.000000000', 'files': ['go/objectserver/main.go', 'go/objectserver/update_test.go', 'go/hummingbird/server.go', 'go/objectserver/update.go'], 'web_link': 'https://opendev.org/openstack/swift/commit/761c0ed31bb11abe718bed144d60336006ae7a94', 'message': 'go: fix x-delete-at updates\n\nFix X-Delete-At updates, which were broken in a number of ways.\n\nChange-Id: I702ecf1b30947d1c29def651e1112945de67c925\n'}]",0,193557,761c0ed31bb11abe718bed144d60336006ae7a94,21,5,4,2828,,,0,"go: fix x-delete-at updates

Fix X-Delete-At updates, which were broken in a number of ways.

Change-Id: I702ecf1b30947d1c29def651e1112945de67c925
",git fetch https://review.opendev.org/openstack/swift refs/changes/57/193557/1 && git format-patch -1 --stdout FETCH_HEAD,"['go/objectserver/main.go', 'go/objectserver/update_test.go', 'go/hummingbird/server.go', 'go/objectserver/update.go']",4,f6192bec3f2e7d4afc2c486acce28c1ca8d5c1f3,xdeleteat," ""crypto/md5"" ""encoding/hex"" ""io"" ""math/big""const deleteAtAccount = "".expiring_objects"" const waitForContainerUpdate = time.Second / 4func (server *ObjectHandler) hashPath(account, container, obj string) string { h := md5.New() io.WriteString(h, server.hashPathPrefix+""/""+account+""/""+container+""/""+obj+server.hashPathSuffix) return hex.EncodeToString(h.Sum(nil)) } func (server *ObjectHandler) expirerContainer(deleteAt time.Time, account, container, obj string) string { i := new(big.Int) fmt.Sscanf(server.hashPath(account, container, obj), ""%x"", i) shardInt := i.Mod(i, big.NewInt(100)).Int64() timestamp := (deleteAt.Unix()/server.expiringDivisor)*server.expiringDivisor - shardInt if timestamp < 0 { timestamp = 0 } else if timestamp > 9999999999 { timestamp = 9999999999 } return fmt.Sprintf(""%010d"", timestamp) } func (server *ObjectHandler) updateContainer(metadata map[string]string, request *hummingbird.WebRequest, vars map[string]string) { req.Header.Add(""User-Agent"", hummingbird.GetDefault(request.Header, ""User-Agent"", ""-"")) if resp, err := server.updateClient.Do(req); err == nil { if resp.StatusCode/100 == 2 { continue } } request.LogError(""Container update failed with %s/%s, saving async"", host, device) data := map[string]interface{}{ ""op"": request.Method, ""account"": vars[""account""], ""container"": vars[""container""], ""obj"": vars[""obj""], ""headers"": HeaderToMap(req.Header), } hash := server.hashPath(vars[""account""], vars[""container""], vars[""obj""]) asyncDir := filepath.Join(server.driveRoot, vars[""device""], ""async_pending"", hash[29:32]) asyncFile := filepath.Join(asyncDir, fmt.Sprintf(""%s-%s"", hash, request.XTimestamp)) if os.MkdirAll(asyncDir, 0770) == nil { hummingbird.WriteFileAtomic(asyncFile, hummingbird.PickleDumps(data), 0660) } } } func (server *ObjectHandler) updateDeleteAt(request *hummingbird.WebRequest, vars map[string]string, deleteAtStr string) { deleteAt, err := hummingbird.ParseDate(deleteAtStr) if err != nil { request.LogError(""Invalid X-Delete-At string: %v"", deleteAtStr) return } deleteAtContainer := hummingbird.GetDefault(request.Header, ""X-Delete-At-Container"", """") if deleteAtContainer == """" { deleteAtContainer = server.expirerContainer(deleteAt, vars[""account""], vars[""container""], vars[""obj""]) } requestHeaders := http.Header{ ""X-Trans-Id"": {hummingbird.GetDefault(request.Header, ""X-Trans-Id"", ""-"")}, ""X-Timestamp"": {request.Header.Get(""X-Timestamp"")}, ""X-Size"": {""0""}, ""X-Content-Type"": {""text/plain""}, ""X-Etag"": {zeroByteHash}, ""Referer"": {hummingbird.GetDefault(request.Header, ""Referer"", ""-"")}, ""User-Agent"": {hummingbird.GetDefault(request.Header, ""User-Agent"", ""-"")}, } if partition != """" && host != """" && device != """" { obj_url := fmt.Sprintf(""http://%s/%s/%s/%s/%s/%010d-%s/%s/%s"", host, device, partition, deleteAtAccount, deleteAtContainer, deleteAt.Unix(), hummingbird.Urlencode(vars[""account""]), hummingbird.Urlencode(vars[""container""]), hummingbird.Urlencode(vars[""obj""])) req, err := http.NewRequest(request.Method, obj_url, nil) if err != nil { request.LogError(""Error creating request: %v"", err) return } req.Header = requestHeaders if resp, err := server.updateClient.Do(req); err == nil { resp.Body.Close() if resp.StatusCode/100 == 2 { return } } } data := map[string]interface{}{ ""op"": request.Method, ""account"": deleteAtAccount, ""container"": deleteAtContainer, ""obj"": fmt.Sprintf(""%010d-%s/%s/%s"", deleteAt.Unix(), vars[""account""], vars[""container""], vars[""obj""]), ""headers"": HeaderToMap(requestHeaders), } hash := server.hashPath(deleteAtAccount, deleteAtContainer, data[""obj""].(string)) asyncDir := filepath.Join(server.driveRoot, vars[""device""], ""async_pending"", hash[29:32]) asyncFile := filepath.Join(asyncDir, fmt.Sprintf(""%s-%s"", hash, request.XTimestamp)) if os.MkdirAll(asyncDir, 0770) == nil { hummingbird.WriteFileAtomic(asyncFile, hummingbird.PickleDumps(data), 0660) } } func (server *ObjectHandler) containerUpdates(request *hummingbird.WebRequest, metadata map[string]string, vars map[string]string, deleteAt string) { if deleteAt != """" { go server.updateDeleteAt(request, vars, deleteAt) server.updateContainer(metadata, request, vars)"," ""strconv""const deleteAtDivisor = 3600 const deleteAtAccount = "".expiring_objects"" const waitForContainerUpdate = time.Second / 4 var client = &http.Client{Timeout: time.Second * 15}func UpdateContainer(metadata map[string]string, request *hummingbird.WebRequest, vars map[string]string, hashDir string) { req.Header.Add(""User-Agent"", hummingbird.GetDefault(request.Header, ""User-Agent"", ""-"")) resp, err := client.Do(req) if err == nil { } if err != nil || (resp.StatusCode/100) != 2 { request.LogError(""Container update failed with %s/%s, saving async"", host, device) data := map[string]interface{}{ ""op"": request.Method, ""account"": vars[""account""], ""container"": vars[""container""], ""obj"": vars[""obj""], ""headers"": HeaderToMap(req.Header), } suffDir, hash := filepath.Split(hashDir) suffDir = filepath.Dir(hashDir) partitionDir, suff := filepath.Split(suffDir) partitionDir = filepath.Dir(suffDir) objDir := filepath.Dir(partitionDir) rootDir := filepath.Dir(objDir) asyncDir := filepath.Join(rootDir, ""async_pending"", suff) os.MkdirAll(asyncDir, 0700) asyncFile := filepath.Join(asyncDir, fmt.Sprintf(""%s-%s"", hash, request.XTimestamp)) hummingbird.WriteFileAtomic(asyncFile, hummingbird.PickleDumps(data), 0600) } } } func UpdateDeleteAt(request *hummingbird.WebRequest, vars map[string]string, hashDir string) { deleteAt, err := hummingbird.ParseDate(request.Header.Get(""X-Delete-At"")) deleteAtContainer := deleteAt.Unix() // TODO: do the thing where it subtracts a randomish number so it doesn't hammer the containers url := fmt.Sprintf(""http://%s/%s/%s/%s/%d/%d-%s/%s/%s"", host, device, partition, deleteAtAccount, deleteAtContainer, deleteAt.Unix(), hummingbird.Urlencode(vars[""account""]), hummingbird.Urlencode(vars[""container""]), hummingbird.Urlencode(vars[""obj""])) if partition == """" || host == """" || device == """" { request.LogError(fmt.Sprintf(""Trying to save an x-delete-at but did not send required headers: %s"", url)) return } req, err := http.NewRequest(request.Method, url, nil) req.Header.Add(""X-Trans-Id"", hummingbird.GetDefault(request.Header, ""X-Trans-Id"", ""-"")) req.Header.Add(""X-Timestamp"", request.Header.Get(""X-Timestamp"")) req.Header.Add(""X-Size"", ""0"") req.Header.Add(""X-Content-Type"", ""text/plain"") req.Header.Add(""X-Etag"", zeroByteHash) resp, err := client.Do(req) if err != nil && resp != nil { resp.Body.Close() } if err != nil || (resp.StatusCode/100) != 2 { expiredObjData := map[string]string{ ""account"": deleteAtAccount, ""container"": strconv.FormatInt(deleteAtContainer, 10), ""obj"": strconv.FormatInt(deleteAtContainer, 10) + ""-"" + vars[""account""] + ""/"" + vars[""container""] + ""/"" + vars[""obj""], ""device"": vars[""device""], ""partition"": vars[""partition""], } expiredHashDir := ObjHashDir(expiredObjData, vars[""driveRoot""], vars[""hashPathPrefix""], vars[""hashPathSuffix""]) headers := HeaderToMap(req.Header) headers[""Referer""] = hummingbird.GetDefault(request.Header, ""Referer"", ""-"") headers[""User-Agent""] = hummingbird.GetDefault(request.Header, ""User-Agent"", ""-"") data := map[string]interface{}{ ""op"": request.Method, ""headers"": headers, } for k, v := range expiredObjData { data[k] = v } suffDir, hash := filepath.Split(expiredHashDir) suffDir = filepath.Dir(expiredHashDir) partitionDir, suff := filepath.Split(suffDir) partitionDir = filepath.Dir(suffDir) objDir := filepath.Dir(partitionDir) rootDir := filepath.Dir(objDir) asyncDir := filepath.Join(rootDir, ""async_pending"", suff) os.MkdirAll(asyncDir, 0700) asyncFile := filepath.Join(asyncDir, fmt.Sprintf(""%s-%s"", hash, request.XTimestamp)) hummingbird.WriteFileAtomic(asyncFile, hummingbird.PickleDumps(data), 0600) } } func (server *ObjectHandler) containerUpdates(request *hummingbird.WebRequest, metadata map[string]string, vars map[string]string, hashDir string) { if request.Header.Get(""X-Delete-At"") != """" || request.Header.Get(""X-Delete-After"") != """" { vars[""driveRoot""] = server.driveRoot vars[""hashPathPrefix""] = server.hashPathPrefix vars[""hashPathSuffix""] = server.hashPathSuffix go UpdateDeleteAt(request, vars, hashDir) UpdateContainer(metadata, request, vars, hashDir)",249,89
openstack%2Fglance~master~I7ee19f08f2c107987e763466dc6e3b07185598c9,openstack/glance,master,I7ee19f08f2c107987e763466dc6e3b07185598c9,Fix duplicate unique constraint in sqlite migration,MERGED,2015-06-26 16:27:28.000000000,2015-06-30 18:07:20.000000000,2015-06-30 18:07:18.000000000,"[{'_account_id': 3}, {'_account_id': 6484}, {'_account_id': 6486}, {'_account_id': 6849}, {'_account_id': 7575}, {'_account_id': 9656}, {'_account_id': 11356}, {'_account_id': 12000}, {'_account_id': 12758}, {'_account_id': 16658}, {'_account_id': 16986}]","[{'number': 1, 'created': '2015-06-26 16:27:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4d4a054ec2aa848d92dfa80e019541407c5e4244', 'message': ""Skip unique constraints in sqlalchemy migration test\n\nThe unit tests were failing when using sqlalchemy 1.1.0.\nThis is because sqlalchemy 1.1.0 started returning unique\nconstraints for sqlite but sqlite doesn't support unique\nconstraints.\n\nChange-Id: I7ee19f08f2c107987e763466dc6e3b07185598c9\nCloses-Bug: #1467008\n""}, {'number': 2, 'created': '2015-06-26 17:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f531f636edae241ead9b6c491c02db95fff67bd6', 'message': 'Fix duplicate unique constraint in sqlite migration\n\nThe sqlite migration 37 created duplicate unique constraints on\nthe image_properties table, one unnamed and one called\nix_image_properties_image_id_name.\n\nThis causes the unit tests to fail with sqlalchemy 1.1 since it\ncatches the problem when it compares the model to the schema.\n\nThe fix is to only create the named constraint.\n\nChange-Id: I7ee19f08f2c107987e763466dc6e3b07185598c9\nCloses-Bug: #1467008\n'}, {'number': 3, 'created': '2015-06-27 05:53:37.000000000', 'files': ['glance/db/sqlalchemy/migrate_repo/versions/037_sqlite_upgrade.sql'], 'web_link': 'https://opendev.org/openstack/glance/commit/9fc5dc490e1404604e8ef9a8659badd47a63a449', 'message': 'Fix duplicate unique constraint in sqlite migration\n\nThe sqlite migration 37 created duplicate unique constraints on\nthe image_properties table, one unnamed and one called\nix_image_properties_image_id_name.\n\nThis causes the unit tests to fail with sqlalchemy 1.0+ since it\ncatches the problem when it compares the model to the schema.\n\nThe fix is to only create the named constraint.\n\nChange-Id: I7ee19f08f2c107987e763466dc6e3b07185598c9\nCloses-Bug: #1467008\n'}]",0,196128,9fc5dc490e1404604e8ef9a8659badd47a63a449,22,11,3,6486,,,0,"Fix duplicate unique constraint in sqlite migration

The sqlite migration 37 created duplicate unique constraints on
the image_properties table, one unnamed and one called
ix_image_properties_image_id_name.

This causes the unit tests to fail with sqlalchemy 1.0+ since it
catches the problem when it compares the model to the schema.

The fix is to only create the named constraint.

Change-Id: I7ee19f08f2c107987e763466dc6e3b07185598c9
Closes-Bug: #1467008
",git fetch https://review.opendev.org/openstack/glance refs/changes/28/196128/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/unit/test_migrations.py'],1,4d4a054ec2aa848d92dfa80e019541407c5e4244,bug/1467008," def include_object(self, object_, name, type_, reflected, compare_to): # Override to prevent comparing unique constraint which sqlite doesn't # support anyways. if type_ == 'unique_constraint': return False return super(ModelsMigrationsSyncSQLite, self).include_object( object_, name, type_, reflected, compare_to)", pass,7,1
openstack%2Fironic~master~I56a9df5d0272a21d9e387f5e634c383b1fc8d46b,openstack/ironic,master,I56a9df5d0272a21d9e387f5e634c383b1fc8d46b,Refactor check_allow_management_verbs,MERGED,2015-06-26 21:12:30.000000000,2015-06-30 18:05:41.000000000,2015-06-30 18:05:40.000000000,"[{'_account_id': 3}, {'_account_id': 6773}, {'_account_id': 9315}, {'_account_id': 10239}, {'_account_id': 12356}, {'_account_id': 12459}, {'_account_id': 14760}]","[{'number': 1, 'created': '2015-06-26 21:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/066269a123bfa673c2495e38269a18db0bd64f60', 'message': 'Refactor check_allow_management_verbs\n\nConvert check_allow_management_verbs() to iterate through a list of\nallowed verbs and minimum versions.\n\nChange-Id: I56a9df5d0272a21d9e387f5e634c383b1fc8d46b\n'}, {'number': 2, 'created': '2015-06-29 16:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1afe96871bc67b2d600e0ecccba5d95b1252201d', 'message': 'Refactor check_allow_management_verbs\n\nConvert check_allow_management_verbs() to iterate through a list of\nallowed verbs and minimum versions.\n\nChange-Id: I56a9df5d0272a21d9e387f5e634c383b1fc8d46b\n'}, {'number': 3, 'created': '2015-06-30 04:31:25.000000000', 'files': ['ironic/api/controllers/v1/node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f12937ebe1ba1691f5641151552e3bd824ac374d', 'message': 'Refactor check_allow_management_verbs\n\nConvert check_allow_management_verbs() to use a dictionary mapping of\nverbs to minimum versions.\n\nChange-Id: I56a9df5d0272a21d9e387f5e634c383b1fc8d46b\n'}]",6,196251,f12937ebe1ba1691f5641151552e3bd824ac374d,28,7,3,14760,,,0,"Refactor check_allow_management_verbs

Convert check_allow_management_verbs() to use a dictionary mapping of
verbs to minimum versions.

Change-Id: I56a9df5d0272a21d9e387f5e634c383b1fc8d46b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/51/196251/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/api/controllers/v1/node.py'],1,066269a123bfa673c2495e38269a18db0bd64f60,," MIN_VERB_VERSIONS = ( # Minimum version, verb list # v1.4 added the MANAGEABLE state and two verbs to move nodes into # and out of that state. Reject requests to do this in older versions (4, ['manage', 'provide']), (6, ['inspect']), ) for min_version, min_verbs in MIN_VERB_VERSIONS: if pecan.request.version.minor < min_version: for min_verb in min_verbs: if verb == ir_states.VERBS[min_verb]: raise exception.NotAcceptable()"," # v1.4 added the MANAGEABLE state and two verbs to move nodes into # and out of that state. Reject requests to do this in older versions if (pecan.request.version.minor < 4 and verb in [ir_states.VERBS['manage'], ir_states.VERBS['provide']]): raise exception.NotAcceptable() if (pecan.request.version.minor < 6 and verb == ir_states.VERBS['inspect']): raise exception.NotAcceptable()",13,8
openstack%2Fnova~stable%2Fkilo~Ia6258aa8430c8a9cf3eedc78dacda0613f7f93c3,openstack/nova,stable/kilo,Ia6258aa8430c8a9cf3eedc78dacda0613f7f93c3,hypervisor support matrix: add kvm on system z in kilo release,MERGED,2015-05-28 09:46:16.000000000,2015-06-30 17:58:33.000000000,2015-06-30 17:58:30.000000000,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 8119}, {'_account_id': 8213}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 11303}]","[{'number': 1, 'created': '2015-05-28 09:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/736e380981541265261daa570e091bacb4e5e08d', 'message': 'hypervisor support matrix: add kvm on system z in kilo release\n\nWith commit d18058e8d7 the live-migration on s390 is possible.\nTherefore this patch set cherry picked the latest docs from the\nmaster branch.\n\nRelated to bp libvirt-kvm-systemz\n\nChange-Id: Ia6258aa8430c8a9cf3eedc78dacda0613f7f93c3\n(cherry picked from commit Ib8bdd97a1d8418b7401e65982543acc1ee6ca881)\n(cherry picked from commit I17ef7012222c7088fa0ae750d06805e5254b1cf5)\n'}, {'number': 2, 'created': '2015-06-12 16:41:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ae7a1c465949b379c5652c28f2733cea3086982', 'message': 'hypervisor support matrix: add kvm on system z in kilo release\n\nCommit da9301fbc (master) made the live-migration on s390 possible.\nThis commit got backported to stable/kilo with commit d18058e8d.\n\nTherefore this patch set cherry picked the latest docs from the master\nbranch to reflect the capabilities in the hypervisor support matrix\nof stable/kilo.\n\nThe feature ""evacuate"" can use the live-migration or the (cold)\nmigration. That\'s why this feature is in stable/kilo now ""complete"".\n\nRelated to bp libvirt-kvm-systemz\n\nChange-Id: Ia6258aa8430c8a9cf3eedc78dacda0613f7f93c3\n(cherry picked from commit f335d0ff5c63452e8a8b7b7a00adf0ffb678f153)\n(cherry picked from commit b2c61a08a5861f550ddca804ece21c982e78573a)\n'}, {'number': 3, 'created': '2015-06-23 15:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5741efb4591a4fee48b69f1ecd8e3cf6905da80c', 'message': 'hypervisor support matrix: add kvm on system z in kilo release\n\n--\nNOTE(markus_z): This is two commits squashed to reflect the hypervisor\nsupport matrix for s390x in stable/kilo.\n--\n\nUpdate hypervisor support matrix with kvm on system z\n\nRelated to bp libvirt-kvm-systemz\n\n(cherry picked from commit f335d0ff5c63452e8a8b7b7a00adf0ffb678f153)\n\n-----------------------------------------\n\nhypervisor support matrix: update libvirt KVM (s390x)\n\nWith commit da9301fbc the live-migration is possible for ""libvirt KVM\n(s390x)"". This patch set updates the hypervisor support matrix for the\nfeatures ""live-migration"" and ""evacuate"" (which can use live-migration).\n\n(cherry picked from commit b2c61a08a5861f550ddca804ece21c982e78573a)\n\n-----------------------------------------\n\nMislead by the title of the feature ""evacuate"" the platform S390x\nmarked it as ""complete"". After a discussion in Nova IRC channel\nit was clarified that this should be called ""set host maintenance"".\nThis is ""missing"" for x390x just like on x86. This is a change in\nthe cherry-picks.\nhttp://lists.openstack.org/pipermail/openstack-dev/2015-June/067787.html \n\nChange-Id: Ia6258aa8430c8a9cf3eedc78dacda0613f7f93c3'}, {'number': 4, 'created': '2015-06-26 08:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff272a6672ba3ac5fba620c9c4ddc62855de7aa4', 'message': 'hypervisor support matrix: add kvm on system z in kilo release\n\n--\nNOTE(markus_z): This is three commits squashed to reflect the\nhypervisor support matrix for s390x in stable/kilo.\n--\n\nUpdate hypervisor support matrix with kvm on system z\n\nRelated to bp libvirt-kvm-systemz\n\n(cherry picked from commit f335d0ff5c63452e8a8b7b7a00adf0ffb678f153)\n\n-----------------------------------------\n\nhypervisor support matrix: update libvirt KVM (s390x)\n\nWith commit da9301fbc the live-migration is possible for ""libvirt KVM\n(s390x)"". This patch set updates the hypervisor support matrix for the\nfeatures ""live-migration"" and ""evacuate"" (which can use live-migration).\n\n(cherry picked from commit b2c61a08a5861f550ddca804ece21c982e78573a)\n\n-----------------------------------------\n\nhypervisor support matrix: fix ""evacuate"" for s390 and hyper-v\n\nMisled by the title of the feature ""evacuate"" the platform s390x\nmarked it as ""complete"". After a discussion in Nova IRC channel it was\nclarified that this should be called ""set host maintenance"". This is\n""missing"" for s390x just like on x86. hyper-v doesn\'t implement the\nnecessary methods too.\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2015-June/067787.html\n\n(cherry picked from commit 7f96b2867c2454947656153d77ac604253834ba7)\n\n-----------------------------------------\n\nChange-Id: Ia6258aa8430c8a9cf3eedc78dacda0613f7f93c3'}, {'number': 5, 'created': '2015-06-26 08:55:23.000000000', 'files': ['doc/source/support-matrix.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/6e22a8b8c35565153a198fb5a5b7d0e02193096a', 'message': 'hypervisor support matrix: add kvm on system z in kilo release\n\n--\nNOTE(markus_z): This is three commits squashed to reflect the\nhypervisor support matrix for s390x in stable/kilo.\n--\n\nUpdate hypervisor support matrix with kvm on system z\n\nRelated to bp libvirt-kvm-systemz\n\n(cherry picked from commit f335d0ff5c63452e8a8b7b7a00adf0ffb678f153)\n\n-----------------------------------------\n\nhypervisor support matrix: update libvirt KVM (s390x)\n\nWith commit da9301fbc the live-migration is possible for ""libvirt KVM\n(s390x)"". This patch set updates the hypervisor support matrix for the\nfeatures ""live-migration"" and ""evacuate"" (which can use live-migration).\n\n(cherry picked from commit b2c61a08a5861f550ddca804ece21c982e78573a)\n\n-----------------------------------------\n\nhypervisor support matrix: fix ""evacuate"" for s390 and hyper-v\n\nMisled by the title of the feature ""evacuate"" the platform s390x\nmarked it as ""complete"". After a discussion in Nova IRC channel it was\nclarified that this should be called ""set host maintenance"". This is\n""missing"" for s390x just like on x86. hyper-v doesn\'t implement the\nnecessary methods too.\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2015-June/067787.html\n\n(cherry picked from commit 7f96b2867c2454947656153d77ac604253834ba7)\n\n-----------------------------------------\n\nChange-Id: Ia6258aa8430c8a9cf3eedc78dacda0613f7f93c3'}]",6,186335,6e22a8b8c35565153a198fb5a5b7d0e02193096a,44,8,5,11303,,,0,"hypervisor support matrix: add kvm on system z in kilo release

--
NOTE(markus_z): This is three commits squashed to reflect the
hypervisor support matrix for s390x in stable/kilo.
--

Update hypervisor support matrix with kvm on system z

Related to bp libvirt-kvm-systemz

(cherry picked from commit f335d0ff5c63452e8a8b7b7a00adf0ffb678f153)

-----------------------------------------

hypervisor support matrix: update libvirt KVM (s390x)

With commit da9301fbc the live-migration is possible for ""libvirt KVM
(s390x)"". This patch set updates the hypervisor support matrix for the
features ""live-migration"" and ""evacuate"" (which can use live-migration).

(cherry picked from commit b2c61a08a5861f550ddca804ece21c982e78573a)

-----------------------------------------

hypervisor support matrix: fix ""evacuate"" for s390 and hyper-v

Misled by the title of the feature ""evacuate"" the platform s390x
marked it as ""complete"". After a discussion in Nova IRC channel it was
clarified that this should be called ""set host maintenance"". This is
""missing"" for s390x just like on x86. hyper-v doesn't implement the
necessary methods too.

http://lists.openstack.org/pipermail/openstack-dev/2015-June/067787.html

(cherry picked from commit 7f96b2867c2454947656153d77ac604253834ba7)

-----------------------------------------

Change-Id: Ia6258aa8430c8a9cf3eedc78dacda0613f7f93c3",git fetch https://review.opendev.org/openstack/nova refs/changes/35/186335/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/support-matrix.ini'],1,736e380981541265261daa570e091bacb4e5e08d,support-matrix,driver-impl-libvirt-kvm-s390x=Libvirt KVM (s390x)driver-impl-libvirt-kvm-s390x=completedriver-impl-libvirt-kvm-s390x=completedriver-impl-libvirt-kvm-s390x=completedriver-impl-libvirt-kvm-s390x=completedriver-impl-libvirt-kvm-s390x=completedriver-impl-libvirt-kvm-s390x=completedriver-impl-libvirt-kvm-s390x=completedriver-impl-libvirt-kvm-s390x=completedriver-impl-libvirt-kvm-s390x=completedriver-impl-libvirt-kvm-s390x=completedriver-impl-libvirt-kvm-s390x=completedriver-impl-libvirt-kvm-s390x=completedriver-impl-libvirt-kvm-s390x=completedriver-impl-libvirt-kvm-s390x=missingdriver-impl-libvirt-kvm-s390x=completedriver-impl-libvirt-kvm-s390x=completedriver-impl-libvirt-kvm-s390x=completedriver-impl-libvirt-kvm-s390x=completedriver-impl-libvirt-kvm-s390x=completedriver-impl-libvirt-kvm-s390x=missingdriver-impl-libvirt-kvm-s390x=completedriver-impl-libvirt-kvm-s390x=completedriver-impl-libvirt-kvm-s390x=missingdriver-impl-libvirt-kvm-s390x=missingdriver-impl-libvirt-kvm-s390x=missingdriver-impl-libvirt-kvm-s390x=completedriver-impl-libvirt-kvm-s390x=missingdriver-impl-libvirt-kvm-s390x=missingdriver-impl-libvirt-kvm-s390x=completedriver-impl-libvirt-kvm-s390x=completedriver-impl-libvirt-kvm-s390x=completedriver-impl-libvirt-kvm-s390x=completedriver-impl-libvirt-kvm-s390x=completedriver-impl-libvirt-kvm-s390x=completedriver-impl-libvirt-kvm-s390x=completedriver-impl-libvirt-kvm-s390x=completedriver-impl-libvirt-kvm-s390x=completedriver-impl-libvirt-kvm-s390x=complete,,39,0
openstack%2Fpython-keystoneclient~master~I9724a648ebd9d21edf8ffcc64f4cdb897a99101c,openstack/python-keystoneclient,master,I9724a648ebd9d21edf8ffcc64f4cdb897a99101c,Support /auth routes for list projects and domains,MERGED,2015-03-30 06:18:03.000000000,2015-06-30 17:52:02.000000000,2015-06-30 17:51:59.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 2903}, {'_account_id': 7191}, {'_account_id': 13055}]","[{'number': 1, 'created': '2015-03-30 06:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/617ee2d795dd082d4e099d1ebde58c24b0b7bbe0', 'message': 'Support /auth routes for list projects and domains\n\nThe /auth routes are the preferred mechanism for listing the projects\nand domains that the current token can be authenticated to as they\nsupports both federated and regular tokens.\n\nExpose these routes via the client so that they can be consumed.\n\nChange-Id: I9724a648ebd9d21edf8ffcc64f4cdb897a99101c\n'}, {'number': 2, 'created': '2015-03-30 21:47:43.000000000', 'files': ['keystoneclient/v3/client.py', 'keystoneclient/tests/unit/v3/test_auth_manager.py', 'keystoneclient/v3/auth.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/831ba037b0ba2077e168cb33976c78e565aece88', 'message': 'Support /auth routes for list projects and domains\n\nThe /auth routes are the preferred mechanism for listing the projects\nand domains that the current token can be authenticated to as they\nsupports both federated and regular tokens.\n\nExpose these routes via the client so that they can be consumed.\n\nChange-Id: I9724a648ebd9d21edf8ffcc64f4cdb897a99101c\n'}]",6,168792,831ba037b0ba2077e168cb33976c78e565aece88,13,5,2,7191,,,0,"Support /auth routes for list projects and domains

The /auth routes are the preferred mechanism for listing the projects
and domains that the current token can be authenticated to as they
supports both federated and regular tokens.

Expose these routes via the client so that they can be consumed.

Change-Id: I9724a648ebd9d21edf8ffcc64f4cdb897a99101c
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/92/168792/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneclient/v3/client.py', 'keystoneclient/v3/auth.py']",2,617ee2d795dd082d4e099d1ebde58c24b0b7bbe0,authprojects,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from keystoneclient import auth from keystoneclient import base from keystoneclient import exceptions class Project(base.Resource): """"""Represents an Identity project. Attributes: * id: a uuid that identifies the project * name: project name * description: project description * enabled: boolean to indicate if project is enabled * parent_id: a uuid representing this project's parent in hierarchy * parents: a list or a structured dict containing the parents of this project in the hierarchy * subtree: a list or a structured dict containing the subtree of this project in the hierarchy """""" class Domain(base.Resource): """"""Represents an Identity domain. Attributes: * id: a uuid that identifies the domain """""" pass class AuthManager(base.Manager): """"""Retrieve auth context specific information. The information returned by the /auth routes are entirely dependant on the authentication information provided by the user. """""" _PROJECTS_URL = '/auth/projects' _DOMAINS_URL = '/auth/domains' def projects(self): """"""List projects that this token can be rescoped to. """""" try: return self._list(self._PROJECTS_URL, 'projects', obj_class=Project) except exceptions.EndpointNotFound: endpoint_filter = {'interface': auth.AUTH_INTERFACE} return self._list(self._PROJECTS_URL, 'projects', obj_class=Project, endpoint_filter=endpoint_filter) def domains(self): """"""List Domains that this token can be rescoped to. """""" try: return self._list(self._DOMAINS_URL, 'domains', obj_class=Domain) except exceptions.EndpointNotFound: endpoint_filter = {'interface': auth.AUTH_INTERFACE} return self._list(self._DOMAINS_URL, 'domains', obj_class=Domain, endpoint_filter=endpoint_filter) ",,83,0
openstack%2Fopenstack-manuals~master~I7b36cf0a56dd8b413901191759ba0af374e94e41,openstack/openstack-manuals,master,I7b36cf0a56dd8b413901191759ba0af374e94e41,"WIP, just testing",ABANDONED,2015-06-30 17:51:21.000000000,2015-06-30 17:51:42.000000000,,[],"[{'number': 1, 'created': '2015-06-30 17:51:21.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/1a1ae077d77972c4df6b759597e71abfcdb7d141', 'message': 'WIP, just testing\n\nChange-Id: I7b36cf0a56dd8b413901191759ba0af374e94e41\n'}]",0,197198,1a1ae077d77972c4df6b759597e71abfcdb7d141,2,0,1,6547,,,0,"WIP, just testing

Change-Id: I7b36cf0a56dd8b413901191759ba0af374e94e41
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/98/197198/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,1a1ae077d77972c4df6b759597e71abfcdb7d141,,,,1,0
openstack%2Fopenstack-manuals~master~I3ed252661f86d5e9cc81554c0bda1b5a8d5a4347,openstack/openstack-manuals,master,I3ed252661f86d5e9cc81554c0bda1b5a8d5a4347,"WIP, just testing",ABANDONED,2015-06-30 17:50:08.000000000,2015-06-30 17:50:21.000000000,,[],"[{'number': 1, 'created': '2015-06-30 17:50:08.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/d0fc01505d4ba5efcc39708067e71197ac616852', 'message': 'WIP, just testing\n\nChange-Id: I3ed252661f86d5e9cc81554c0bda1b5a8d5a4347\n'}]",0,197197,d0fc01505d4ba5efcc39708067e71197ac616852,2,0,1,6547,,,0,"WIP, just testing

Change-Id: I3ed252661f86d5e9cc81554c0bda1b5a8d5a4347
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/97/197197/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,d0fc01505d4ba5efcc39708067e71197ac616852,,,,1,0
openstack%2Fopenstack-manuals~master~I7520fd294307c9110a36760b8511a0c555b8cf2c,openstack/openstack-manuals,master,I7520fd294307c9110a36760b8511a0c555b8cf2c,WIP: Just testing...,ABANDONED,2015-06-30 17:49:14.000000000,2015-06-30 17:49:33.000000000,,[],"[{'number': 1, 'created': '2015-06-30 17:49:14.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/3b20de020560b33bd8962b319aee828e6a2de28c', 'message': 'WIP: Just testing...\n\nChange-Id: I7520fd294307c9110a36760b8511a0c555b8cf2c\n'}]",0,197196,3b20de020560b33bd8962b319aee828e6a2de28c,2,0,1,6547,,,0,"WIP: Just testing...

Change-Id: I7520fd294307c9110a36760b8511a0c555b8cf2c
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/96/197196/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,3b20de020560b33bd8962b319aee828e6a2de28c,proposals,,,1,0
openstack%2Foslo.reports~master~I398af538f6d807e08e9a48dbd7006639b6fc7a55,openstack/oslo.reports,master,I398af538f6d807e08e9a48dbd7006639b6fc7a55,Add oslo.utils dependency,MERGED,2015-06-26 02:11:04.000000000,2015-06-30 17:49:23.000000000,2015-06-30 17:49:21.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-06-26 02:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/800293ee4e602b6f81cb822704295e658b325277', 'message': 'Add oslo.utils dependency\n\nRunning ""pip-missing-reqs"" tox target showed these references\nin our code. Since we refer to them directly, we should add\nthem to our requirements.\n\nChange-Id: I398af538f6d807e08e9a48dbd7006639b6fc7a55\n'}, {'number': 2, 'created': '2015-06-26 11:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/7c8d4e9588b356599f02e710d595dbc3f9cb6012', 'message': 'Add oslo.utils dependency\n\nRunning ""pip-missing-reqs"" tox target showed these references\nin our code. Since we refer to them directly, we should add\nthem to our requirements.\n\nChange-Id: I398af538f6d807e08e9a48dbd7006639b6fc7a55\n'}, {'number': 3, 'created': '2015-06-26 12:16:11.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/c5c53c593b11d27991040be436d09e20c2bf37a6', 'message': 'Add oslo.utils dependency\n\nRunning ""pip-missing-reqs"" tox target showed these references\nin our code. Since we refer to them directly, we should add\nthem to our requirements.\n\nChange-Id: I398af538f6d807e08e9a48dbd7006639b6fc7a55\n'}]",0,195841,c5c53c593b11d27991040be436d09e20c2bf37a6,13,3,3,5638,,,0,"Add oslo.utils dependency

Running ""pip-missing-reqs"" tox target showed these references
in our code. Since we refer to them directly, we should add
them to our requirements.

Change-Id: I398af538f6d807e08e9a48dbd7006639b6fc7a55
",git fetch https://review.opendev.org/openstack/oslo.reports refs/changes/41/195841/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,800293ee4e602b6f81cb822704295e658b325277,pip-missing-reqs,oslo.utils>=1.6.0 # Apache-2.0,,1,0
openstack%2Foslo.serialization~master~I5a6c54b99820174f50f716deae275c0114632b2d,openstack/oslo.serialization,master,I5a6c54b99820174f50f716deae275c0114632b2d,Stop using deprecated oslo_utils.timeutils.strtime,MERGED,2015-06-30 13:26:19.000000000,2015-06-30 17:48:28.000000000,2015-06-30 17:48:27.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-06-30 13:26:19.000000000', 'files': ['oslo_serialization/jsonutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/57364659c10c3ad6452e10063c4ca3f1036c2017', 'message': 'Stop using deprecated oslo_utils.timeutils.strtime\n\noslo_utils.timeutils.strtime is deprecated, so stop using it.\n\nChange-Id: I5a6c54b99820174f50f716deae275c0114632b2d\n'}]",0,197069,57364659c10c3ad6452e10063c4ca3f1036c2017,7,3,1,6486,,,0,"Stop using deprecated oslo_utils.timeutils.strtime

oslo_utils.timeutils.strtime is deprecated, so stop using it.

Change-Id: I5a6c54b99820174f50f716deae275c0114632b2d
",git fetch https://review.opendev.org/openstack/oslo.serialization refs/changes/69/197069/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_serialization/jsonutils.py'],1,57364659c10c3ad6452e10063c4ca3f1036c2017,deprecation, return value.strftime(timeutils.PERFECT_TIME_FORMAT), return timeutils.strtime(value),1,1
openstack%2Foslo.reports~master~I3d56e5940c0198ec7b93aff064119f471dc18481,openstack/oslo.reports,master,I3d56e5940c0198ec7b93aff064119f471dc18481,Add tox target to find missing requirements,MERGED,2015-06-26 02:11:04.000000000,2015-06-30 17:48:02.000000000,2015-06-30 17:47:59.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-06-26 02:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/0c5477c6a0007b7b0e2f6c9950d2bd8bcc9bb8f0', 'message': 'Add tox target to find missing requirements\n\nChange-Id: I3d56e5940c0198ec7b93aff064119f471dc18481\n'}, {'number': 2, 'created': '2015-06-26 11:31:18.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/2238ebef325886da8451e7fff787655e538c819d', 'message': 'Add tox target to find missing requirements\n\nChange-Id: I3d56e5940c0198ec7b93aff064119f471dc18481\n'}]",0,195840,2238ebef325886da8451e7fff787655e538c819d,10,3,2,5638,,,0,"Add tox target to find missing requirements

Change-Id: I3d56e5940c0198ec7b93aff064119f471dc18481
",git fetch https://review.opendev.org/openstack/oslo.reports refs/changes/40/195840/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0c5477c6a0007b7b0e2f6c9950d2bd8bcc9bb8f0,pip-missing-reqs," [testenv:pip-missing-reqs] # do not install test-requirements as that will pollute the virtualenv for # determining missing packages # this also means that pip-missing-reqs must be installed separately, outside # of the requirements.txt files deps = pip_missing_reqs -rrequirements.txt commands = pip-missing-reqs -d --ignore-module=oslo_reports* --ignore-module=pkg_resources --ignore-file=oslo_reports/test.py --ignore-file=oslo_reports/tests/* oslo_reports",,9,0
openstack%2Foslo.concurrency~master~Idac62aa3dbf1d6897f1b7405b094cab0f9f79912,openstack/oslo.concurrency,master,Idac62aa3dbf1d6897f1b7405b094cab0f9f79912,Remove redundant fileutils,MERGED,2015-06-30 04:42:52.000000000,2015-06-30 17:47:55.000000000,2015-06-30 17:47:53.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 6482}]","[{'number': 1, 'created': '2015-06-30 04:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/5ed89f8165441ad154d7e210782fd2d59c16791a', 'message': 'Remove redundant fileutils\n\nfileutils no longer seems to be used, remove it instead of\ncarrying it around.\n\nChange-Id: Idac62aa3dbf1d6897f1b7405b094cab0f9f79912\n'}, {'number': 2, 'created': '2015-06-30 13:47:16.000000000', 'files': ['oslo_concurrency/openstack/common/__init__.py', 'oslo_concurrency/openstack/common/fileutils.py', 'openstack-common.conf', 'oslo_concurrency/openstack/__init__.py'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/e29cc549e1c18b7c2499ddc6e01299ce7980029c', 'message': 'Remove redundant fileutils\n\nfileutils no longer seems to be used, remove it instead of\ncarrying it around.\n\nChange-Id: Idac62aa3dbf1d6897f1b7405b094cab0f9f79912\n'}]",2,196945,e29cc549e1c18b7c2499ddc6e01299ce7980029c,13,5,2,6482,,,0,"Remove redundant fileutils

fileutils no longer seems to be used, remove it instead of
carrying it around.

Change-Id: Idac62aa3dbf1d6897f1b7405b094cab0f9f79912
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/45/196945/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_concurrency/openstack/common/__init__.py', 'oslo_concurrency/openstack/common/fileutils.py', 'openstack-common.conf', 'oslo_concurrency/openstack/__init__.py']",4,5ed89f8165441ad154d7e210782fd2d59c16791a,rm_fileutils,,,0,152
openstack%2Ffuturist~master~I4f132f156919eed3baa030b2d9dae3c597cc9ff3,openstack/futurist,master,I4f132f156919eed3baa030b2d9dae3c597cc9ff3,Add badge support to README.rst,MERGED,2015-06-26 23:22:57.000000000,2015-06-30 17:45:28.000000000,2015-06-30 17:45:26.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 10239}]","[{'number': 1, 'created': '2015-06-26 23:22:57.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/futurist/commit/f0c4b1f7f7fec35ba2baa19a4e160c7db781138f', 'message': 'Add badge support to README.rst\n\nChange-Id: I4f132f156919eed3baa030b2d9dae3c597cc9ff3\n'}]",0,196279,f0c4b1f7f7fec35ba2baa19a4e160c7db781138f,7,3,1,1297,,,0,"Add badge support to README.rst

Change-Id: I4f132f156919eed3baa030b2d9dae3c597cc9ff3
",git fetch https://review.opendev.org/openstack/futurist refs/changes/79/196279/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,f0c4b1f7f7fec35ba2baa19a4e160c7db781138f,,.. image:: https://img.shields.io/pypi/v/futurist.svg :target: https://pypi.python.org/pypi/futurist/ :alt: Latest Version .. image:: https://img.shields.io/pypi/dm/futurist.svg :target: https://pypi.python.org/pypi/futurist/ :alt: Downloads ,,8,0
openstack%2Fswift~feature%2Fhummingbird~Ia94b1f73d3e50e6597f2e77da5bf0306a4a6a8c1,openstack/swift,feature/hummingbird,Ia94b1f73d3e50e6597f2e77da5bf0306a4a6a8c1,go: fix unpickling problem,MERGED,2015-06-29 21:54:22.000000000,2015-06-30 17:45:24.000000000,2015-06-30 17:45:21.000000000,"[{'_account_id': 3}, {'_account_id': 995}, {'_account_id': 1009}, {'_account_id': 1179}, {'_account_id': 2828}, {'_account_id': 16218}]","[{'number': 1, 'created': '2015-06-29 21:54:22.000000000', 'files': ['go/hummingbird/pickle_test.go', 'go/hummingbird/unpickle.go'], 'web_link': 'https://opendev.org/openstack/swift/commit/e1f1d39f8e268554e697feff2ab8bcc771bfb27d', 'message': ""go: fix unpickling problem\n\nThere's a problem where the pickle stack winds up containing a subslice of\nitself when creating a new list type object.  Since they point to the same\nmemory, when it modifies the stack, it also modifies the item in the stack,\nwhich is wrong.\n\nFix it by making a copy of that subslice and pushing it instead.\n\nI looked around, but nothing else seems to retain a reference to state.mark().\n\nChange-Id: Ia94b1f73d3e50e6597f2e77da5bf0306a4a6a8c1\n""}]",1,196882,e1f1d39f8e268554e697feff2ab8bcc771bfb27d,11,6,1,2828,,,0,"go: fix unpickling problem

There's a problem where the pickle stack winds up containing a subslice of
itself when creating a new list type object.  Since they point to the same
memory, when it modifies the stack, it also modifies the item in the stack,
which is wrong.

Fix it by making a copy of that subslice and pushing it instead.

I looked around, but nothing else seems to retain a reference to state.mark().

Change-Id: Ia94b1f73d3e50e6597f2e77da5bf0306a4a6a8c1
",git fetch https://review.opendev.org/openstack/swift refs/changes/82/196882/1 && git format-patch -1 --stdout FETCH_HEAD,"['go/hummingbird/pickle_test.go', 'go/hummingbird/unpickle.go']",2,e1f1d39f8e268554e697feff2ab8bcc771bfb27d,picklefix," markState := state.mark() newList := make([]interface{}, len(markState)) copy(newList, markState) state.push(newList)", state.push(state.mark()),17,1
openstack%2Fautomaton~master~I7d0c1d08b61f56b33289a0d774b89685416a3a70,openstack/automaton,master,I7d0c1d08b61f56b33289a0d774b89685416a3a70,Add a bigger CD-player state-machine doctest(ed) example,MERGED,2015-06-13 03:59:19.000000000,2015-06-30 17:45:18.000000000,2015-06-30 17:45:16.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 5638}, {'_account_id': 6618}, {'_account_id': 10584}]","[{'number': 1, 'created': '2015-06-13 03:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/automaton/commit/617c5bf05ef95f403d31e15d153269d5e28be063', 'message': 'Add a bigger CD-player state-machine doctest(ed) example\n\nChange-Id: I7d0c1d08b61f56b33289a0d774b89685416a3a70\n'}, {'number': 2, 'created': '2015-06-15 23:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/automaton/commit/e01773799658d1e57c1221a86184a2aca6799ad7', 'message': 'Add a bigger CD-player state-machine doctest(ed) example\n\nChange-Id: I7d0c1d08b61f56b33289a0d774b89685416a3a70\n'}, {'number': 3, 'created': '2015-06-29 20:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/automaton/commit/632954d9d2b5365e8eb224611d1901ccf3b52e29', 'message': 'Add a bigger CD-player state-machine doctest(ed) example\n\nChange-Id: I7d0c1d08b61f56b33289a0d774b89685416a3a70\n'}, {'number': 4, 'created': '2015-06-29 22:43:05.000000000', 'files': ['doc/source/examples.rst'], 'web_link': 'https://opendev.org/openstack/automaton/commit/33d5fdaa5fff60500fc82e5f5aa069f755ade7fd', 'message': 'Add a bigger CD-player state-machine doctest(ed) example\n\nChange-Id: I7d0c1d08b61f56b33289a0d774b89685416a3a70\n'}]",8,191477,33d5fdaa5fff60500fc82e5f5aa069f755ade7fd,19,5,4,1297,,,0,"Add a bigger CD-player state-machine doctest(ed) example

Change-Id: I7d0c1d08b61f56b33289a0d774b89685416a3a70
",git fetch https://review.opendev.org/openstack/automaton refs/changes/77/191477/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/examples.rst'],1,617c5bf05ef95f403d31e15d153269d5e28be063,cd-player-machine-example,"------------------------------------- Running a complex dog-barking machine ------------------------------------- ------------------------------------ Creating a complex CD-player machine ------------------------------------ .. testcode:: from automaton import machines def print_on_enter(new_state, triggered_event): print(""Entered '%s' due to '%s'"" % (new_state, triggered_event)) def print_on_exit(old_state, triggered_event): print(""Exiting '%s' due to '%s'"" % (old_state, triggered_event)) m = machines.FiniteMachine() m.add_state('stopped', on_enter=print_on_enter, on_exit=print_on_exit) m.add_state('open', on_enter=print_on_enter, on_exit=print_on_exit) m.add_state('empty', on_enter=print_on_enter, on_exit=print_on_exit) m.add_state('playing', on_enter=print_on_enter, on_exit=print_on_exit) m.add_state('paused', on_enter=print_on_enter, on_exit=print_on_exit) m.add_transition('stopped', 'playing', 'play') m.add_transition('stopped', 'open', 'open_close') m.add_transition('stopped', 'stopped', 'stop') m.add_transition('open', 'empty', 'open_close') m.add_transition('empty', 'open', 'open_close') m.add_transition('empty', 'playing', 'cd_detected') m.add_transition('playing', 'stopped', 'stop') m.add_transition('playing', 'paused', 'pause') m.add_transition('playing', 'open', 'open_close') m.add_transition('paused', 'playing', 'end_pause') m.add_transition('paused', 'stopped', 'stop') m.add_transition('paused', 'open', 'open_close') m.default_start_state = 'empty' m.initialize() print(m.pformat()) m.process_event('cd_detected') print(m.pformat()) print(""============="") print(""Current state => %s"" % m.current_state) print(""============="") m.process_event('pause') print(m.pformat()) print(""============="") print(""Current state => %s"" % m.current_state) print(""============="") m.process_event('end_pause') print(m.pformat()) print(""============="") print(""Current state => %s"" % m.current_state) print(""============="") m.process_event('stop') print(m.pformat()) print(""============="") print(""Current state => %s"" % m.current_state) print(""============="") m.process_event('open_close') print(m.pformat()) print(""============="") print(""Current state => %s"" % m.current_state) print(""============="") m.process_event('open_close') print(m.pformat()) print(""============="") print(""Current state => %s"" % m.current_state) print(""============="") **Expected output:** .. testoutput:: +-----------+-------------+---------+----------------+---------------+ | Start | Event | End | On Enter | On Exit | +-----------+-------------+---------+----------------+---------------+ | @empty[^] | cd_detected | playing | print_on_enter | print_on_exit | | @empty[^] | open_close | open | print_on_enter | print_on_exit | | open | open_close | empty | print_on_enter | print_on_exit | | paused | end_pause | playing | print_on_enter | print_on_exit | | paused | open_close | open | print_on_enter | print_on_exit | | paused | stop | stopped | print_on_enter | print_on_exit | | playing | open_close | open | print_on_enter | print_on_exit | | playing | pause | paused | print_on_enter | print_on_exit | | playing | stop | stopped | print_on_enter | print_on_exit | | stopped | open_close | open | print_on_enter | print_on_exit | | stopped | play | playing | print_on_enter | print_on_exit | | stopped | stop | stopped | print_on_enter | print_on_exit | +-----------+-------------+---------+----------------+---------------+ Exiting 'empty' due to 'cd_detected' Entered 'playing' due to 'cd_detected' +----------+-------------+---------+----------------+---------------+ | Start | Event | End | On Enter | On Exit | +----------+-------------+---------+----------------+---------------+ | empty[^] | cd_detected | playing | print_on_enter | print_on_exit | | empty[^] | open_close | open | print_on_enter | print_on_exit | | open | open_close | empty | print_on_enter | print_on_exit | | paused | end_pause | playing | print_on_enter | print_on_exit | | paused | open_close | open | print_on_enter | print_on_exit | | paused | stop | stopped | print_on_enter | print_on_exit | | @playing | open_close | open | print_on_enter | print_on_exit | | @playing | pause | paused | print_on_enter | print_on_exit | | @playing | stop | stopped | print_on_enter | print_on_exit | | stopped | open_close | open | print_on_enter | print_on_exit | | stopped | play | playing | print_on_enter | print_on_exit | | stopped | stop | stopped | print_on_enter | print_on_exit | +----------+-------------+---------+----------------+---------------+ ============= Current state => playing ============= Exiting 'playing' due to 'pause' Entered 'paused' due to 'pause' +----------+-------------+---------+----------------+---------------+ | Start | Event | End | On Enter | On Exit | +----------+-------------+---------+----------------+---------------+ | empty[^] | cd_detected | playing | print_on_enter | print_on_exit | | empty[^] | open_close | open | print_on_enter | print_on_exit | | open | open_close | empty | print_on_enter | print_on_exit | | @paused | end_pause | playing | print_on_enter | print_on_exit | | @paused | open_close | open | print_on_enter | print_on_exit | | @paused | stop | stopped | print_on_enter | print_on_exit | | playing | open_close | open | print_on_enter | print_on_exit | | playing | pause | paused | print_on_enter | print_on_exit | | playing | stop | stopped | print_on_enter | print_on_exit | | stopped | open_close | open | print_on_enter | print_on_exit | | stopped | play | playing | print_on_enter | print_on_exit | | stopped | stop | stopped | print_on_enter | print_on_exit | +----------+-------------+---------+----------------+---------------+ ============= Current state => paused ============= Exiting 'paused' due to 'end_pause' Entered 'playing' due to 'end_pause' +----------+-------------+---------+----------------+---------------+ | Start | Event | End | On Enter | On Exit | +----------+-------------+---------+----------------+---------------+ | empty[^] | cd_detected | playing | print_on_enter | print_on_exit | | empty[^] | open_close | open | print_on_enter | print_on_exit | | open | open_close | empty | print_on_enter | print_on_exit | | paused | end_pause | playing | print_on_enter | print_on_exit | | paused | open_close | open | print_on_enter | print_on_exit | | paused | stop | stopped | print_on_enter | print_on_exit | | @playing | open_close | open | print_on_enter | print_on_exit | | @playing | pause | paused | print_on_enter | print_on_exit | | @playing | stop | stopped | print_on_enter | print_on_exit | | stopped | open_close | open | print_on_enter | print_on_exit | | stopped | play | playing | print_on_enter | print_on_exit | | stopped | stop | stopped | print_on_enter | print_on_exit | +----------+-------------+---------+----------------+---------------+ ============= Current state => playing ============= Exiting 'playing' due to 'stop' Entered 'stopped' due to 'stop' +----------+-------------+---------+----------------+---------------+ | Start | Event | End | On Enter | On Exit | +----------+-------------+---------+----------------+---------------+ | empty[^] | cd_detected | playing | print_on_enter | print_on_exit | | empty[^] | open_close | open | print_on_enter | print_on_exit | | open | open_close | empty | print_on_enter | print_on_exit | | paused | end_pause | playing | print_on_enter | print_on_exit | | paused | open_close | open | print_on_enter | print_on_exit | | paused | stop | stopped | print_on_enter | print_on_exit | | playing | open_close | open | print_on_enter | print_on_exit | | playing | pause | paused | print_on_enter | print_on_exit | | playing | stop | stopped | print_on_enter | print_on_exit | | @stopped | open_close | open | print_on_enter | print_on_exit | | @stopped | play | playing | print_on_enter | print_on_exit | | @stopped | stop | stopped | print_on_enter | print_on_exit | +----------+-------------+---------+----------------+---------------+ ============= Current state => stopped ============= Exiting 'stopped' due to 'open_close' Entered 'open' due to 'open_close' +----------+-------------+---------+----------------+---------------+ | Start | Event | End | On Enter | On Exit | +----------+-------------+---------+----------------+---------------+ | empty[^] | cd_detected | playing | print_on_enter | print_on_exit | | empty[^] | open_close | open | print_on_enter | print_on_exit | | @open | open_close | empty | print_on_enter | print_on_exit | | paused | end_pause | playing | print_on_enter | print_on_exit | | paused | open_close | open | print_on_enter | print_on_exit | | paused | stop | stopped | print_on_enter | print_on_exit | | playing | open_close | open | print_on_enter | print_on_exit | | playing | pause | paused | print_on_enter | print_on_exit | | playing | stop | stopped | print_on_enter | print_on_exit | | stopped | open_close | open | print_on_enter | print_on_exit | | stopped | play | playing | print_on_enter | print_on_exit | | stopped | stop | stopped | print_on_enter | print_on_exit | +----------+-------------+---------+----------------+---------------+ ============= Current state => open ============= Exiting 'open' due to 'open_close' Entered 'empty' due to 'open_close' +-----------+-------------+---------+----------------+---------------+ | Start | Event | End | On Enter | On Exit | +-----------+-------------+---------+----------------+---------------+ | @empty[^] | cd_detected | playing | print_on_enter | print_on_exit | | @empty[^] | open_close | open | print_on_enter | print_on_exit | | open | open_close | empty | print_on_enter | print_on_exit | | paused | end_pause | playing | print_on_enter | print_on_exit | | paused | open_close | open | print_on_enter | print_on_exit | | paused | stop | stopped | print_on_enter | print_on_exit | | playing | open_close | open | print_on_enter | print_on_exit | | playing | pause | paused | print_on_enter | print_on_exit | | playing | stop | stopped | print_on_enter | print_on_exit | | stopped | open_close | open | print_on_enter | print_on_exit | | stopped | play | playing | print_on_enter | print_on_exit | | stopped | stop | stopped | print_on_enter | print_on_exit | +-----------+-------------+---------+----------------+---------------+ ============= Current state => empty =============",------------------------- Running a complex machine -------------------------,233,3
openstack%2Fopenstack-manuals~master~Ia38483f7232078bae3881fd3fa5557040f304555,openstack/openstack-manuals,master,Ia38483f7232078bae3881fd3fa5557040f304555,[network-guide] Update legacy OVS scenario,MERGED,2015-06-29 20:56:51.000000000,2015-06-30 17:37:15.000000000,2015-06-30 17:37:13.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 9515}, {'_account_id': 14396}, {'_account_id': 14643}]","[{'number': 1, 'created': '2015-06-29 20:56:51.000000000', 'files': ['doc/networking-guide/source/figures/scenario-legacy-ovs-compute2.png', 'doc/networking-guide/source/figures/scenario-legacy-ovs-compute1.svg', 'doc/networking-guide/source/figures/scenario-legacy-ovs-compute2.svg', 'doc/networking-guide/source/figures/scenario-legacy-ovs-flowns1.png', 'doc/networking-guide/source/figures/scenario-legacy-ovs-services.svg', 'doc/networking-guide/source/figures/scenario-legacy-ovs-network1.svg', 'doc/networking-guide/source/figures/scenario-legacy-general.svg', 'doc/networking-guide/source/figures/scenario-legacy-ovs-flowew1.svg', 'doc/networking-guide/source/figures/scenario-legacy-ovs-flowns1.svg', 'doc/networking-guide/source/figures/scenario-legacy-ovs-flowew1.png', 'doc/networking-guide/source/figures/scenario-legacy-ovs-flowew1.graffle', 'doc/networking-guide/source/figures/scenario-legacy-ovs-flowew2.graffle', 'doc/networking-guide/source/figures/scenario-legacy-ovs-network2.png', 'doc/networking-guide/source/figures/scenario-legacy-ovs-network2.svg', 'doc/networking-guide/source/figures/scenario-legacy-ovs-flowew2.svg', 'doc/networking-guide/source/figures/scenario-legacy-ovs-flowns2.graffle', 'doc/networking-guide/source/figures/scenario-legacy-ovs-compute1.graffle', 'doc/networking-guide/source/figures/scenario-legacy-ovs-flowew2.png', 'doc/networking-guide/source/figures/scenario-legacy-ovs-flowns2.svg', 'doc/networking-guide/source/figures/scenario-legacy-ovs-network1.graffle', 'doc/networking-guide/source/deploy.rst', 'doc/networking-guide/source/figures/scenario-legacy-ovs-compute2.graffle', 'doc/networking-guide/source/figures/scenario-legacy-ovs-network2.graffle', 'doc/networking-guide/source/scenario_legacy_ovs.rst', 'doc/networking-guide/source/figures/scenario-legacy-hw.graffle', 'doc/networking-guide/source/figures/scenario-legacy-ovs-flowns1.graffle', 'doc/networking-guide/source/figures/scenario-legacy-ovs-flowns2.png', 'doc/networking-guide/source/figures/scenario-legacy-hw.svg', 'doc/networking-guide/source/figures/scenario-legacy-general.graffle', 'doc/networking-guide/source/figures/scenario-legacy-ovs-services.graffle'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/d5ec1b898169811d8fae74c0838151989aeee810', 'message': '[network-guide] Update legacy OVS scenario\n\nUpdate legacy OVS scenario as follows:\n\n1) Rename scenario file and adjust title accordingly.\n2) Add traffic flow case for instances on same network.\n3) Clarify existing traffic flow cases.\n4) Add kernel configuration to network and compute nodes.\n5) Remove extraneous configuration options from network and\n   compute nodes.\n6) Add validation steps for floating IP address.\n7) Replace tenant with project.\n\nPartial-Bug: #1465788\nPartial-Bug: #1465783\n\nChange-Id: Ia38483f7232078bae3881fd3fa5557040f304555\n'}]",4,196856,d5ec1b898169811d8fae74c0838151989aeee810,9,5,1,9515,,,0,"[network-guide] Update legacy OVS scenario

Update legacy OVS scenario as follows:

1) Rename scenario file and adjust title accordingly.
2) Add traffic flow case for instances on same network.
3) Clarify existing traffic flow cases.
4) Add kernel configuration to network and compute nodes.
5) Remove extraneous configuration options from network and
   compute nodes.
6) Add validation steps for floating IP address.
7) Replace tenant with project.

Partial-Bug: #1465788
Partial-Bug: #1465783

Change-Id: Ia38483f7232078bae3881fd3fa5557040f304555
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/56/196856/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/networking-guide/source/figures/scenario-legacy-ovs-compute2.png', 'doc/networking-guide/source/figures/scenario-legacy-ovs-compute1.svg', 'doc/networking-guide/source/figures/scenario-legacy-ovs-compute2.svg', 'doc/networking-guide/source/figures/scenario-legacy-ovs-flowns1.png', 'doc/networking-guide/source/figures/scenario-legacy-ovs-services.svg', 'doc/networking-guide/source/figures/scenario-legacy-ovs-network1.svg', 'doc/networking-guide/source/figures/scenario-legacy-general.svg', 'doc/networking-guide/source/figures/scenario-legacy-ovs-flowew1.svg', 'doc/networking-guide/source/figures/scenario-legacy-ovs-flowns1.svg', 'doc/networking-guide/source/figures/scenario-legacy-ovs-flowew1.png', 'doc/networking-guide/source/figures/scenario-legacy-ovs-flowew1.graffle', 'doc/networking-guide/source/figures/scenario-legacy-ovs-flowew2.graffle', 'doc/networking-guide/source/figures/scenario-legacy-ovs-network2.png', 'doc/networking-guide/source/figures/scenario-legacy-ovs-network2.svg', 'doc/networking-guide/source/figures/scenario-legacy-ovs-flowew2.svg', 'doc/networking-guide/source/figures/scenario-legacy-ovs-flowns2.graffle', 'doc/networking-guide/source/figures/scenario-legacy-ovs-compute1.graffle', 'doc/networking-guide/source/figures/scenario-legacy-ovs-flowew2.png', 'doc/networking-guide/source/figures/scenario-legacy-ovs-flowns2.svg', 'doc/networking-guide/source/figures/scenario-legacy-ovs-network1.graffle', 'doc/networking-guide/source/deploy.rst', 'doc/networking-guide/source/figures/scenario-legacy-ovs-compute2.graffle', 'doc/networking-guide/source/figures/scenario-legacy-ovs-network2.graffle', 'doc/networking-guide/source/scenario_legacy_ovs.rst', 'doc/networking-guide/source/figures/scenario-legacy-hw.graffle', 'doc/networking-guide/source/figures/scenario-legacy-ovs-flowns1.graffle', 'doc/networking-guide/source/figures/scenario-legacy-ovs-flowns2.png', 'doc/networking-guide/source/figures/scenario-legacy-hw.svg', 'doc/networking-guide/source/figures/scenario-legacy-general.graffle', 'doc/networking-guide/source/figures/scenario-legacy-ovs-services.graffle']",30,d5ec1b898169811d8fae74c0838151989aeee810,bug/1465778,,,465,467
openstack%2Fkeystone-specs~master~I00b13d3c551f48074fa74e87c8e86ce24c725195,openstack/keystone-specs,master,I00b13d3c551f48074fa74e87c8e86ce24c725195,Cleanup and removal of StrictABC requirement,MERGED,2015-06-24 22:49:43.000000000,2015-06-30 17:36:10.000000000,2015-06-30 17:36:09.000000000,"[{'_account_id': 3}, {'_account_id': 6460}, {'_account_id': 6486}]","[{'number': 1, 'created': '2015-06-24 22:49:43.000000000', 'files': ['specs/liberty/stable-driver-interfaces.rst'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/8945309a574dacb9585b7b700ba8d7b03cdc2df4', 'message': 'Cleanup and removal of StrictABC requirement\n\nCleanup the spec (minor wordin changes) and remove the requirement\nof the StrictABC module. This simplifies the spec and eliminates what\nis likely to be a significant source of bikeshedding and headaches due\nto the general rejection of the StrictABC model (fail on class\ndefinition if the method signature do not match).\n\nChange-Id: I00b13d3c551f48074fa74e87c8e86ce24c725195\n'}]",0,195347,8945309a574dacb9585b7b700ba8d7b03cdc2df4,7,3,1,2903,,,0,"Cleanup and removal of StrictABC requirement

Cleanup the spec (minor wordin changes) and remove the requirement
of the StrictABC module. This simplifies the spec and eliminates what
is likely to be a significant source of bikeshedding and headaches due
to the general rejection of the StrictABC model (fail on class
definition if the method signature do not match).

Change-Id: I00b13d3c551f48074fa74e87c8e86ce24c725195
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/47/195347/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/liberty/stable-driver-interfaces.rst'],1,8945309a574dacb9585b7b700ba8d7b03cdc2df4,,"has caused a significant delta in all of the Keystone Driver Interfaceof tree, the Keystone Driver Interface need to be stable like the REST API is. This specification is to commit to the interface for each driverChanges to a given driver interface will require compatibility code (to be provided by the developer that is proposing the change) to ensure that the supported window of stability is maintained. This means that when a driver interface change is proposed (via a new version for the specific subsystem), Keystone will need appropriate logic to work with both the new version and any currently supported version.The keystone stable driver interface definitions will be versioned and Keystone will ensure that it can load any version of the driver interface.Alternatives include ""trying"" to ensure we don't break the driver interface [best effort] or continuing with the current way of allowing interfaces to change between releases. This however, is a sub-optimal experience for deployers and developers.Changes to the driver interfaces to address Security concerns could become more difficult. There should be no direct security impact. Each driver interface definition will need to be reviewed, but this is the same as any change impacting a given driver interface.Developers will need to be aware of how to change the driver interface definitions. This will include needing to develop the compatibility layer if a driver interface needs to be changed so previous versions of the driver can be loaded. * Evaluate and develop the stable interfaces for the following subsystems:* Convert current drivers to the new driver interface definitionsNoneDocumentation on how to update the driver interfaces and what is expected in compatibility will be needed. Clear indication of the driver interface definitions will need to be clearly indicated in our documents.","has caused a significant delta in all of the Keystone Driver Interface (KSDI)of tree, the Keystone Driver Interface (KSDI) need to be stable like the REST API is. This specification is to commit to the KSDI for each driverChanges to a given KSDI will require compatibility code (to be provided by the developer that is proposing the change) to ensure that the supported window of stability is maintained. This means that when a KSDI change is proposed (via a new KSDI version for the specific subsystem), Keystone will need appropriate logic to work with both the new version and any currently supported version.Once the KSDI is defined, the driver will be converted over to using the StrictABC implementation (will not work unless method signatures also match, not just existence of methods). The KSDI definitions will be versioned and Keystone will ensure that it can load any version of the KSDI.Alternatives include ""trying"" to ensure we don't break the KSDI [best effort] or continuing with the current way of allowing interfaces to change between releases. This however, is a sub-optimal experience for deployers and developers.Changes to the KSDI to address Security concerns could become more difficult. There should be no direct security impact. Each KSDI definition will need to be reviewed, but this is the same as any change impacting a given driver interface.Developers will need to be aware of how to change the KSDI definitions. This will include needing to develop the compatibility layer if an KSDI needs to be changed so previous versions of the driver can be loaded. * Evaluate and develop the stable KSDI for the following subsystems:* Convert current drivers to the new KSDI* StrictABC library needs to be finished / used for the driver base-classes.Documentation on how to update the KSDIs and what is expected in compatibility will be needed. Clear indication of the KSDI definitions will need to be clearly indicated in our documents.",29,29
openstack%2Fsolum~master~I1ad43c5122516e9bbb9507534c842ab0c0e571ef,openstack/solum,master,I1ad43c5122516e9bbb9507534c842ab0c0e571ef,Support operator LP download with swiftclient,MERGED,2015-06-17 21:38:50.000000000,2015-06-30 17:29:54.000000000,2015-06-30 17:29:52.000000000,"[{'_account_id': 3}, {'_account_id': 1375}, {'_account_id': 2506}, {'_account_id': 6662}, {'_account_id': 9095}]","[{'number': 1, 'created': '2015-06-17 21:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/3854f4b0af2e34d090be450ab01deb6a671edfe9', 'message': ""Support operator LP download with swiftclient\n\nOperator LPs only accessible using a public url today. We currently\n'wget' these LP images while building a users application image on\n top of the operator LPs.\n\nThis works fine with small images, but as docker images get larger,\n I've noticed the images get corrupted due to network issues and\nnot downloading the images in chunks.\n\nWe need to also support downloading the LP images from a swift\n container belonging to the service operator using a swift client.\nSwift has already implemented retry logic, downloading in chunks\nand it faster as well.\n\nChange-Id: I1ad43c5122516e9bbb9507534c842ab0c0e571ef\nCloses-bug: 1466233\n""}, {'number': 2, 'created': '2015-06-23 15:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/fa31a6d0ec86a74bcea6b48efe1df2158361178b', 'message': ""Support operator LP download with swiftclient\n\nOperator LPs are only accessible using a public url today.\nWe currently 'wget' these LP images while building a users\napplication image on top of the operator LPs.\n\nThis works fine with small images, but as docker images get larger,\nI've noticed the images get corrupted due to network issues and\nnot downloading the images in chunks.\n\nWe need to also support downloading the LP images from a swift\ncontainer belonging to the service operator using a swift client.\nSwift has already implemented retry logic, downloading in chunks\nand it faster as well.\n\nChange-Id: I1ad43c5122516e9bbb9507534c842ab0c0e571ef\nCloses-bug: 1466233\n""}, {'number': 3, 'created': '2015-06-23 17:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/29292d39f96eb1415c51525bb61d123d25fb5dcc', 'message': ""Support operator LP download with swiftclient\n\nOperator LPs are only accessible using a public url today.\nWe currently 'wget' these LP images while building a users\napplication image on top of the operator LPs.\n\nThis works fine with small images, but as docker images get larger,\nI've noticed the images get corrupted due to network issues and\nnot downloading the images in chunks.\n\nWe need to also support downloading the LP images from a swift\ncontainer belonging to the service operator using a swift client.\nSwift has already implemented retry logic, downloading in chunks\nand it faster as well.\n\nChange-Id: I1ad43c5122516e9bbb9507534c842ab0c0e571ef\nCloses-bug: 1466233\n""}, {'number': 4, 'created': '2015-06-23 18:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/6787062675eee4bf45ce23c257e1494b81bba245', 'message': ""Support operator LP download with swiftclient\n\nOperator LPs are only accessible using a public url today.\nWe currently 'wget' these LP images while building a users\napplication image on top of the operator LPs.\n\nThis works fine with small images, but as docker images get larger,\nI've noticed the images get corrupted due to network issues and\nnot downloading the images in chunks.\n\nWe need to also support downloading the LP images from a swift\ncontainer belonging to the service operator using a swift client.\nSwift has already implemented retry logic, downloading in chunks\nand it faster as well.\n\nChange-Id: I1ad43c5122516e9bbb9507534c842ab0c0e571ef\nCloses-bug: 1466233\n""}, {'number': 5, 'created': '2015-06-23 22:27:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/694c00768c4862ae077d79d402c1f8c6bdfb0ef5', 'message': ""Support operator LP download with swiftclient\n\nOperator LPs are only accessible using a public url today.\nWe currently 'wget' these LP images while building a users\napplication image on top of the operator LPs.\n\nThis works fine with small images, but as docker images get larger,\nI've noticed the images get corrupted due to network issues and\nnot downloading the images in chunks.\n\nWe need to also support downloading the LP images from a swift\ncontainer belonging to the service operator using a swift client.\nSwift has already implemented retry logic, downloading in chunks\nand it faster as well.\n\nChange-Id: I1ad43c5122516e9bbb9507534c842ab0c0e571ef\nCloses-bug: 1466233\n""}, {'number': 6, 'created': '2015-06-25 21:43:52.000000000', 'files': ['solum/tests/common/test_solum_keystoneclient.py', 'solum/worker/handlers/shell.py', 'solum/common/solum_keystoneclient.py', 'contrib/lp-cedarish/docker/unittest-app', 'contrib/lp-cedarish/docker/build-lp', 'solum/worker/config.py', 'contrib/lp-cedarish/docker/build-app'], 'web_link': 'https://opendev.org/openstack/solum/commit/c3912047b22aa64ec3c3426ae980bcc0a31258bb', 'message': ""Support operator LP download with swiftclient\n\nOperator LPs are only accessible using a public url today.\nWe currently 'wget' these LP images while building a users\napplication image on top of the operator LPs.\n\nThis works fine with small images, but as docker images get larger,\nI've noticed the images get corrupted due to network issues and\nnot downloading the images in chunks.\n\nWe need to also support downloading the LP images from a swift\ncontainer belonging to the service operator using a swift client.\nSwift has already implemented retry logic, downloading in chunks\nand it faster as well.\n\nChange-Id: I1ad43c5122516e9bbb9507534c842ab0c0e571ef\nCloses-bug: 1466233\n""}]",14,192910,c3912047b22aa64ec3c3426ae980bcc0a31258bb,41,5,6,9095,,,0,"Support operator LP download with swiftclient

Operator LPs are only accessible using a public url today.
We currently 'wget' these LP images while building a users
application image on top of the operator LPs.

This works fine with small images, but as docker images get larger,
I've noticed the images get corrupted due to network issues and
not downloading the images in chunks.

We need to also support downloading the LP images from a swift
container belonging to the service operator using a swift client.
Swift has already implemented retry logic, downloading in chunks
and it faster as well.

Change-Id: I1ad43c5122516e9bbb9507534c842ab0c0e571ef
Closes-bug: 1466233
",git fetch https://review.opendev.org/openstack/solum refs/changes/10/192910/6 && git format-patch -1 --stdout FETCH_HEAD,"['solum/worker/handlers/shell.py', 'contrib/lp-cedarish/docker/unittest-app', 'solum/common/solum_keystoneclient.py', 'contrib/lp-cedarish/docker/build-lp', 'solum/worker/config.py', 'contrib/lp-cedarish/docker/build-app']",6,3854f4b0af2e34d090be450ab01deb6a671edfe9,bug/1466233,"OPR_LP_DOWNLOAD_STRATEGY=${OPR_LP_DOWNLOAD_STRATEGY:-null} OPER_AUTH_TOKEN=${OPER_AUTH_TOKEN:-null} OPER_OS_STORAGE_URL=${OPER_OS_STORAGE_URL:-null} if [[ $OPR_LP_DOWNLOAD_STRATEGY == ""swift"" ]]; then python $HERE/swift-handler.py $OS_REGION_NAME $OPER_AUTH_TOKEN $OPER_OS_STORAGE_URL download solum_lp $IMG_EXTERNAL_REF $OUTPUT \ > >(while read ALINE; do TLOG $ALINE; done) elif [[ $OPR_LP_DOWNLOAD_STRATEGY == ""url"" ]]; then wget -q ""$IMG_EXTERNAL_REF"" --output-document=$OUTPUT fi"," wget -q ""$IMG_EXTERNAL_REF"" --output-document=$OUTPUT",52,16
openstack%2Fproject-config~master~Idebbad3b0ce95556c82848f548560afe0be630e9,openstack/project-config,master,Idebbad3b0ce95556c82848f548560afe0be630e9,Add a non-voting py34 check job to os-brick,MERGED,2015-06-30 13:17:59.000000000,2015-06-30 17:28:29.000000000,2015-06-30 17:28:26.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 4162}, {'_account_id': 6547}, {'_account_id': 6786}, {'_account_id': 9107}]","[{'number': 1, 'created': '2015-06-30 13:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b6aee4fa21bf1c6f36e4fb06387302e6fbb4c30d', 'message': 'Add a non-voting py34 check job to os-brick\n\nChange-Id: Idebbad3b0ce95556c82848f548560afe0be630e9\n'}, {'number': 2, 'created': '2015-06-30 14:51:08.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/02c0e0f770a17f1c034e8ed4dd013916f15a963e', 'message': 'Add a non-voting py34 check job to os-brick\n\nChange-Id: Idebbad3b0ce95556c82848f548560afe0be630e9\n'}]",2,197064,02c0e0f770a17f1c034e8ed4dd013916f15a963e,15,6,2,9107,,,0,"Add a non-voting py34 check job to os-brick

Change-Id: Idebbad3b0ce95556c82848f548560afe0be630e9
",git fetch https://review.opendev.org/openstack/project-config refs/changes/64/197064/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,b6aee4fa21bf1c6f36e4fb06387302e6fbb4c30d,os_brick_py34, - name: gate-os-brick-python34 voting: false check: - gate-os-brick-python34,,5,0
openstack%2Fproject-config~master~I1875389ee5dff0d2ab30df6e04c9a5ad47b1bdce,openstack/project-config,master,I1875389ee5dff0d2ab30df6e04c9a5ad47b1bdce,puppet: update syntax-future job to test puppet ~> 4.2.0,ABANDONED,2015-06-27 15:55:08.000000000,2015-06-30 17:26:49.000000000,,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 6554}, {'_account_id': 6786}, {'_account_id': 7155}, {'_account_id': 7423}, {'_account_id': 8482}, {'_account_id': 8617}]","[{'number': 1, 'created': '2015-06-27 15:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/83a3d6522b18c28a02632ccf6e5d82f2ae74de90', 'message': 'puppet: update syntax-future job to test puppet ~> 4.2.0\n\nCurrently, syntax-future job is useless since Puppet 4.X has been\nreleased, and the current tests is installing Puppet 3.8.X.\n\nThis patch updates the jobs to:\n* install Puppet ~> 4.2.0\n* be experimental, as it was in the past.\n\nThe goal of this patch is to detect anything that is not supported by\nfuture versions of Puppet.\n\nChange-Id: I1875389ee5dff0d2ab30df6e04c9a5ad47b1bdce\n'}, {'number': 2, 'created': '2015-06-29 18:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/19c7c9067cd268309a676c20f3af864557f84e6f', 'message': 'puppet: update syntax-future job to test puppet ~> 4.2.0\n\nCurrently, syntax-future job is useless since Puppet 4.X has been\nreleased, and the current tests is installing Puppet 3.8.X.\n\nThis patch updates the jobs to:\n* install Puppet ~> 4.2\n* be experimental, as it was in the past.\n\nThe goal of this patch is to detect anything that is not supported by\nfuture versions of Puppet.\n\nChange-Id: I1875389ee5dff0d2ab30df6e04c9a5ad47b1bdce\n'}, {'number': 3, 'created': '2015-06-30 15:45:37.000000000', 'files': ['jenkins/jobs/puppet-module-jobs.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/b309a28b0644a14ce5f98e664e3b0d1a57d2132c', 'message': 'puppet: update syntax-future job to test puppet ~> 4.2.0\n\nCurrently, syntax-future job is useless since Puppet 4.X has been\nreleased, and the current tests is installing Puppet 3.8.X.\n\nThis patch updates the jobs to:\n* install Puppet ~> 4.2\n* be experimental, as it was in the past.\n\nThe goal of this patch is to detect anything that is not supported by\nfuture versions of Puppet.\n\nChange-Id: I1875389ee5dff0d2ab30df6e04c9a5ad47b1bdce\n'}]",3,196386,b309a28b0644a14ce5f98e664e3b0d1a57d2132c,20,11,3,3153,,,0,"puppet: update syntax-future job to test puppet ~> 4.2.0

Currently, syntax-future job is useless since Puppet 4.X has been
released, and the current tests is installing Puppet 3.8.X.

This patch updates the jobs to:
* install Puppet ~> 4.2
* be experimental, as it was in the past.

The goal of this patch is to detect anything that is not supported by
future versions of Puppet.

Change-Id: I1875389ee5dff0d2ab30df6e04c9a5ad47b1bdce
",git fetch https://review.opendev.org/openstack/project-config refs/changes/86/196386/3 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/puppet-module-jobs.yaml', 'zuul/layout.yaml']",2,83a3d6522b18c28a02632ccf6e5d82f2ae74de90,puppet-future, # Experimental job now - name: ^gate-puppet-.*-puppet-syntax-future$ voting: false ,,5,1
openstack%2Fdevstack~master~I6ef50fd384d423bc0f13ee1016a8bdbb0650ecd9,openstack/devstack,master,I6ef50fd384d423bc0f13ee1016a8bdbb0650ecd9,Use Keystone v3 API for user creation,MERGED,2015-05-29 08:43:13.000000000,2015-06-30 17:15:59.000000000,2015-06-30 17:15:58.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 6482}, {'_account_id': 7118}, {'_account_id': 7191}, {'_account_id': 9142}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-05-29 08:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3269c3f752fd8ba45baf8e9b9a6b9c34e4cfdd23', 'message': 'Use Keystone v3 API for user creation\n\nThis includes requiring a domain when creating a user. This will allow us to\ncontrol where users are created in a later patch.\n\nAdding the token to the user creation call is required because of a bad\ninteraction between OpenStackClient, os-client-config and keystoneclient\nwhen dealing with v2 authentication but v3 API calls. It will be cleaned\nup when we switch to v3 credentials.\n\nChange-Id: I6ef50fd384d423bc0f13ee1016a8bdbb0650ecd9\nImplements: keystonev3\n'}, {'number': 2, 'created': '2015-05-29 22:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e94de69685f2c1318d8f091abdf11e6e5df95d22', 'message': 'Use Keystone v3 API for user creation\n\nThis includes requiring a domain when creating a user. This will allow us to\ncontrol where users are created in a later patch.\n\nAdding the token to the user creation call is required because of a bad\ninteraction between OpenStackClient, os-client-config and keystoneclient\nwhen dealing with v2 authentication but v3 API calls. It will be cleaned\nup when we switch to v3 credentials.\n\nChange-Id: I6ef50fd384d423bc0f13ee1016a8bdbb0650ecd9\nImplements: keystonev3\n'}, {'number': 3, 'created': '2015-05-31 05:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/df3bd95426d01555dfcccf2894083952dec3675a', 'message': 'Use Keystone v3 API for user creation\n\nThis includes requiring a domain when creating a user. This will allow us to\ncontrol where users are created in a later patch.\n\nAdding the token to the user creation call is required because of a bad\ninteraction between OpenStackClient, os-client-config and keystoneclient\nwhen dealing with v2 authentication but v3 API calls. It will be cleaned\nup when we switch to v3 credentials.\n\nChange-Id: I6ef50fd384d423bc0f13ee1016a8bdbb0650ecd9\nImplements: keystonev3\n'}, {'number': 4, 'created': '2015-05-31 05:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/13e162cf1236d961ca663977a6dce487119a630a', 'message': 'Use Keystone v3 API for user creation\n\nThis includes requiring a domain when creating a user. This will allow us to\ncontrol where users are created in a later patch.\n\nAdding the token to the user creation call is required because of a bad\ninteraction between OpenStackClient, os-client-config and keystoneclient\nwhen dealing with v2 authentication but v3 API calls. It will be cleaned\nup when we switch to v3 credentials.\n\nChange-Id: I6ef50fd384d423bc0f13ee1016a8bdbb0650ecd9\nImplements: bp keystonev3\n'}, {'number': 5, 'created': '2015-06-01 00:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/18cb8859ea3d0d50f4743b3935c1bc84e49e70b4', 'message': 'Use Keystone v3 API for user creation\n\nThis includes requiring a domain when creating a user. This will allow us to\ncontrol where users are created in a later patch.\n\nAdding the token to the user creation call is required because of a bad\ninteraction between OpenStackClient, os-client-config and keystoneclient\nwhen dealing with v2 authentication but v3 API calls. It will be cleaned\nup when we switch to v3 credentials.\n\nChange-Id: I6ef50fd384d423bc0f13ee1016a8bdbb0650ecd9\nImplements: bp keystonev3\n'}, {'number': 6, 'created': '2015-06-16 00:38:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1516a062b579210c8655016fdced7d8fe6550c07', 'message': 'Use Keystone v3 API for user creation\n\nThis includes requiring a domain when creating a user. This will allow us to\ncontrol where users are created in a later patch.\n\nAdding the token to the user creation call is required because of a bad\ninteraction between OpenStackClient, os-client-config and keystoneclient\nwhen dealing with v2 authentication but v3 API calls. It will be cleaned\nup when we switch to v3 credentials.\n\nChange-Id: I6ef50fd384d423bc0f13ee1016a8bdbb0650ecd9\nImplements: bp keystonev3\n'}, {'number': 7, 'created': '2015-06-16 01:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1b5680abf2dceed215c676b0dd1b6b2645afd08b', 'message': 'Use Keystone v3 API for user creation\n\nThis includes requiring a domain when creating a user. This will allow us to\ncontrol where users are created in a later patch.\n\nAdding the token to the user creation call is required because of a bad\ninteraction between OpenStackClient, os-client-config and keystoneclient\nwhen dealing with v2 authentication but v3 API calls. It will be cleaned\nup when we switch to v3 credentials.\n\nChange-Id: I6ef50fd384d423bc0f13ee1016a8bdbb0650ecd9\nImplements: bp keystonev3\n'}, {'number': 8, 'created': '2015-06-16 02:06:51.000000000', 'files': ['functions-common', 'lib/keystone', 'lib/swift', 'lib/glance', 'lib/tempest', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/9d7e776b704d0fa54b2bf6543d054ab0118f5806', 'message': 'Use Keystone v3 API for user creation\n\nThis includes requiring a domain when creating a user. This will allow us to\ncontrol where users are created in a later patch.\n\nAdding the token to the user creation call is required because of a bad\ninteraction between OpenStackClient, os-client-config and keystoneclient\nwhen dealing with v2 authentication but v3 API calls. It will be cleaned\nup when we switch to v3 credentials.\n\nChange-Id: I6ef50fd384d423bc0f13ee1016a8bdbb0650ecd9\nImplements: bp keystonev3\n'}]",3,186680,9d7e776b704d0fa54b2bf6543d054ab0118f5806,28,7,8,7191,,,0,"Use Keystone v3 API for user creation

This includes requiring a domain when creating a user. This will allow us to
control where users are created in a later patch.

Adding the token to the user creation call is required because of a bad
interaction between OpenStackClient, os-client-config and keystoneclient
when dealing with v2 authentication but v3 API calls. It will be cleaned
up when we switch to v3 credentials.

Change-Id: I6ef50fd384d423bc0f13ee1016a8bdbb0650ecd9
Implements: bp keystonev3
",git fetch https://review.opendev.org/openstack/devstack refs/changes/80/186680/8 && git format-patch -1 --stdout FETCH_HEAD,"['functions-common', 'lib/keystone', 'lib/swift', 'lib/glance', 'lib/tempest']",5,3269c3f752fd8ba45baf8e9b9a6b9c34e4cfdd23,keystonev3," get_or_create_user alt_demo ""$ADMIN_PASSWORD"" ""default"" ""alt_demo@example.com"""," get_or_create_user alt_demo ""$ADMIN_PASSWORD"" ""alt_demo@example.com""",21,20
openstack%2Fdevstack~master~Ib9587193c5c8419dc4b5a608246709baaddd2a52,openstack/devstack,master,Ib9587193c5c8419dc4b5a608246709baaddd2a52,Use keystone v3 API for projects,MERGED,2015-05-29 08:43:13.000000000,2015-06-30 17:15:56.000000000,2015-06-30 17:15:54.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 6482}, {'_account_id': 7118}, {'_account_id': 7191}, {'_account_id': 9142}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-05-29 08:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/dfa8e7701793f3b8f748da0984d6b8735a3fc20b', 'message': ""Use keystone v3 API for projects\n\nAlways use the keystone v3 API for project creation. Make domain a required\nargument. Whilst we could simply default this value within the function I think\nit's better to make this explicit as these are things deployers and services\nneed to consider.\n\nIn future we will want to figure out how we want devstack to organize domains\nhowever I don't believe that it belongs in this patch.\n\nChange-Id: Ib9587193c5c8419dc4b5a608246709baaddd2a52\nImplements: keystonev3\n""}, {'number': 2, 'created': '2015-05-29 22:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/08f53086b274aa8d44cff6cd91d7796943029d27', 'message': ""Use keystone v3 API for projects\n\nAlways use the keystone v3 API for project creation. Make domain a required\nargument. Whilst we could simply default this value within the function I think\nit's better to make this explicit as these are things deployers and services\nneed to consider.\n\nIn future we will want to figure out how we want devstack to organize domains\nhowever I don't believe that it belongs in this patch.\n\nChange-Id: Ib9587193c5c8419dc4b5a608246709baaddd2a52\nImplements: keystonev3\n""}, {'number': 3, 'created': '2015-05-31 05:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/8c069e9eb089043f81b707ad5aeab266e95f4bd1', 'message': ""Use keystone v3 API for projects\n\nAlways use the keystone v3 API for project creation. Make domain a required\nargument. Whilst we could simply default this value within the function I think\nit's better to make this explicit as these are things deployers and services\nneed to consider.\n\nIn future we will want to figure out how we want devstack to organize domains\nhowever I don't believe that it belongs in this patch.\n\nChange-Id: Ib9587193c5c8419dc4b5a608246709baaddd2a52\nImplements: bp keystonev3\n""}, {'number': 4, 'created': '2015-06-16 00:38:38.000000000', 'files': ['lib/ironic', 'functions-common', 'lib/keystone', 'lib/swift', 'lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/b632c9ef81090e210fee27346c6e1f2b4f3bedec', 'message': ""Use keystone v3 API for projects\n\nAlways use the keystone v3 API for project creation. Make domain a\nrequired argument. Whilst we could simply default this value within the\nfunction I think it's better to make this explicit as these are things\ndeployers and services need to consider.\n\nIn future we will want to figure out how we want devstack to organize domains\nhowever I don't believe that it belongs in this patch.\n\nChange-Id: Ib9587193c5c8419dc4b5a608246709baaddd2a52\nImplements: bp keystonev3\n""}]",8,186678,b632c9ef81090e210fee27346c6e1f2b4f3bedec,20,7,4,7191,,,0,"Use keystone v3 API for projects

Always use the keystone v3 API for project creation. Make domain a
required argument. Whilst we could simply default this value within the
function I think it's better to make this explicit as these are things
deployers and services need to consider.

In future we will want to figure out how we want devstack to organize domains
however I don't believe that it belongs in this patch.

Change-Id: Ib9587193c5c8419dc4b5a608246709baaddd2a52
Implements: bp keystonev3
",git fetch https://review.opendev.org/openstack/devstack refs/changes/78/186678/2 && git format-patch -1 --stdout FETCH_HEAD,"['lib/ironic', 'functions-common', 'lib/keystone', 'lib/swift', 'lib/tempest']",5,dfa8e7701793f3b8f748da0984d6b8735a3fc20b,keystonev3, get_or_create_project alt_demo default, get_or_create_project alt_demo,18,17
openstack%2Fapi-site~master~If94eb8086c74cdeabf440d0bb76291467b380281,openstack/api-site,master,If94eb8086c74cdeabf440d0bb76291467b380281,Add enable/disable user method to resource list,MERGED,2015-06-23 23:11:29.000000000,2015-06-30 17:15:30.000000000,2015-06-30 17:15:28.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 964}]","[{'number': 1, 'created': '2015-06-23 23:11:29.000000000', 'files': ['api-ref/src/wadls/identity-api/src/v2.0/wadl/OS-KSADM-admin.wadl'], 'web_link': 'https://opendev.org/openstack/api-site/commit/4aa6b026bc496e8f87ac5dabd1febfd255800ccf', 'message': 'Add enable/disable user method to resource list\n\nThis plumbs in an existing method that was missing from the resource\nlist.\n\nChange-Id: If94eb8086c74cdeabf440d0bb76291467b380281\n'}]",1,194859,4aa6b026bc496e8f87ac5dabd1febfd255800ccf,8,3,1,1991,,,0,"Add enable/disable user method to resource list

This plumbs in an existing method that was missing from the resource
list.

Change-Id: If94eb8086c74cdeabf440d0bb76291467b380281
",git fetch https://review.opendev.org/openstack/api-site refs/changes/59/194859/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/src/wadls/identity-api/src/v2.0/wadl/OS-KSADM-admin.wadl'],1,4aa6b026bc496e8f87ac5dabd1febfd255800ccf,keystone-user-enabled," <resource id=""user-OS-KSADM-v2.0"" path=""OS-KSADM""> <resource id=""setUserEnabled-v2.0"" path=""enabled""> <method href=""#setUserEnabled""/> </resource> </resource>",,7,0
openstack%2Fironic-inspector~master~I1b71a466059e70fd249712eaaf325efd459addcf,openstack/ironic-inspector,master,I1b71a466059e70fd249712eaaf325efd459addcf,Move Python ramdisk code out of tree,MERGED,2015-06-29 10:23:45.000000000,2015-06-30 17:14:53.000000000,2015-06-30 17:14:52.000000000,"[{'_account_id': 3}, {'_account_id': 7419}, {'_account_id': 7882}, {'_account_id': 8106}, {'_account_id': 10239}]","[{'number': 1, 'created': '2015-06-29 10:23:45.000000000', 'files': ['ironic_inspector_ramdisk/test/test_main.py', 'requirements.txt', 'ironic_inspector_ramdisk/__init__.py', 'ironic_inspector_ramdisk/main.py', 'bin/ironic-inspector-ramdisk', 'ironic_inspector_ramdisk/test/test_discover.py', 'ironic_inspector_ramdisk/discover.py', 'ironic_inspector_ramdisk/test/__init__.py', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/931685d008b7812e31ee6545d4694713210db82b', 'message': 'Move Python ramdisk code out of tree\n\nNew home will be IPA, patch is already being worked on:\nhttps://review.openstack.org/#/c/194116/\n\nAnyway, we have to get rid of the ramdisk code before release.\n\nChange-Id: I1b71a466059e70fd249712eaaf325efd459addcf\nCloses-Bug: #1464708\n'}]",0,196615,931685d008b7812e31ee6545d4694713210db82b,17,5,1,10239,,,0,"Move Python ramdisk code out of tree

New home will be IPA, patch is already being worked on:
https://review.openstack.org/#/c/194116/

Anyway, we have to get rid of the ramdisk code before release.

Change-Id: I1b71a466059e70fd249712eaaf325efd459addcf
Closes-Bug: #1464708
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/15/196615/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector_ramdisk/test/test_main.py', 'requirements.txt', 'ironic_inspector_ramdisk/__init__.py', 'ironic_inspector_ramdisk/main.py', 'bin/ironic-inspector-ramdisk', 'ironic_inspector_ramdisk/test/test_discover.py', 'ironic_inspector_ramdisk/discover.py', 'ironic_inspector_ramdisk/test/__init__.py', 'setup.cfg', 'tox.ini']",10,931685d008b7812e31ee6545d4694713210db82b,bug/1464708, flake8 ironic_inspector," coverage run --branch --include ""ironic_inspector_ramdisk*"" -a -m unittest discover ironic_inspector_ramdisk.test flake8 ironic_inspector ironic_inspector_ramdisk",1,909
openstack%2Ffuel-web~master~I92566b32c44440df4bc45e0cddf2d66ac9156a5f,openstack/fuel-web,master,I92566b32c44440df4bc45e0cddf2d66ac9156a5f,Each extension should have name and version,MERGED,2015-06-26 09:13:18.000000000,2015-06-30 17:14:39.000000000,2015-06-30 17:01:48.000000000,"[{'_account_id': 3}, {'_account_id': 3009}, {'_account_id': 8749}, {'_account_id': 8907}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 12200}, {'_account_id': 13445}]","[{'number': 1, 'created': '2015-06-26 09:13:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/7bd21a444fea848508d29955e1e959ce96a3b5ec', 'message': 'Each extension should have name and version\n\nCombination of name and version will be used\nas uniq identificator of extension. This identificator\nis required to link node to specific extension,\nassign uniq name for version table which is required\nfor alembic migrations and provide extension version\nspecific url in order to prevent collisions\nbetween different extensions.\n\nImplements blueprint: volume-manager-refactoring\n\nChange-Id: I92566b32c44440df4bc45e0cddf2d66ac9156a5f\n'}, {'number': 2, 'created': '2015-06-26 09:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/3d05fd381d4527bade5017e70fb73df715659871', 'message': 'Each extension should have name and version\n\nCombination of name and version will be used\nas uniq identificator of extension. This identificator\nis required to link node to specific extension,\nassign uniq name for version table which is required\nfor alembic migrations and provide extension version\nspecific url in order to prevent collisions\nbetween different extensions.\n\nImplements blueprint: volume-manager-refactoring\n\nChange-Id: I92566b32c44440df4bc45e0cddf2d66ac9156a5f\n'}, {'number': 3, 'created': '2015-06-29 12:08:56.000000000', 'files': ['nailgun/nailgun/extensions/volume_manager/extension.py', 'nailgun/nailgun/extensions/base.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/0deb0988e6aec16e6d52cb39ceaf1540441abb5b', 'message': 'Each extension should have name and version\n\nCombination of name and version will be used\nas uniq identificator of extension. This identificator\nis required to link node to specific extension,\nassign uniq name for version table which is required\nfor alembic migrations and provide extension version\nspecific url in order to prevent collisions\nbetween different extensions.\n\nImplements blueprint: volume-manager-refactoring\n\nChange-Id: I92566b32c44440df4bc45e0cddf2d66ac9156a5f\n'}]",0,195938,0deb0988e6aec16e6d52cb39ceaf1540441abb5b,24,8,3,8749,,,0,"Each extension should have name and version

Combination of name and version will be used
as uniq identificator of extension. This identificator
is required to link node to specific extension,
assign uniq name for version table which is required
for alembic migrations and provide extension version
specific url in order to prevent collisions
between different extensions.

Implements blueprint: volume-manager-refactoring

Change-Id: I92566b32c44440df4bc45e0cddf2d66ac9156a5f
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/38/195938/3 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/nailgun/extensions/volume_manager/extension.py', 'nailgun/nailgun/extensions/base.py']",2,7bd21a444fea848508d29955e1e959ce96a3b5ec,bp/volume-manager-refactoring," @abc.abstractproperty def name(self): """"""Uniq name of the extension"""""" @abc.abstractproperty def version(self): """"""Version of the extension, follow semantic versioning schema (http://semver.org/) """"""",,13,0
openstack%2Ffuel-web~master~I6fd5a63e6946ef87604f1f91a99351c24de45689,openstack/fuel-web,master,I6fd5a63e6946ef87604f1f91a99351c24de45689,Move volume manager specific urls into extension,MERGED,2015-06-26 08:11:56.000000000,2015-06-30 17:11:45.000000000,2015-06-30 16:59:41.000000000,"[{'_account_id': 3}, {'_account_id': 3009}, {'_account_id': 8749}, {'_account_id': 8907}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 11082}, {'_account_id': 12200}, {'_account_id': 13445}]","[{'number': 1, 'created': '2015-06-26 08:11:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/b0fb9357154cc0689b3ec1f6de3e36f6fd26ddbc', 'message': ""Move volume manager specific urls into extension\n\n* added a field for extension where urls can be\n  defined\n* move urls into volume manager extension\n* removed TODO from test_api_doc_generation test\n* removed TestRemovedIn51Handler test because:\n** it does not test anything, correct work\n   of removal of related handler is tested in\n   in other tests in the same file\n** the test relies on patching of global variable\n   which causes a lot of problems, now you cannot\n   change global variable so it gets propagated\n   into web.py\n* added exception H304 in tox configuration, it's\n  required because extensions should be written in\n  a way that they can import their modules without\n  specifing full path to extension, which currently\n  includes nailgun module as a root module. It will\n  be easier to extract it later from nailgun into\n  separate module/repo\n\nImplements blueprint: volume-manager-refactoring\n\nChange-Id: I6fd5a63e6946ef87604f1f91a99351c24de45689\n""}, {'number': 2, 'created': '2015-06-26 08:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/ca50f5ed032cd45eaa465755647a264316d20447', 'message': ""Move volume manager specific urls into extension\n\n* added a field for extension where urls can be\n  defined\n* move urls into volume manager extension\n* removed TODO from test_api_doc_generation test\n* removed TestRemovedIn51Handler test because:\n** it does not test anything, correct work\n   of removal of related handler is tested in\n   in other tests in the same file\n** the test relies on patching of global variable\n   which causes a lot of problems, now you cannot\n   change global variable so it gets propagated\n   into web.py\n* added exception H304 in tox configuration, it's\n  required because extensions should be written in\n  a way that they can import their modules without\n  specifing full path to extension, which currently\n  includes nailgun module as a root module. It will\n  be easier to extract it later from nailgun into\n  separate module/repo\n\nImplements blueprint: volume-manager-refactoring\n\nChange-Id: I6fd5a63e6946ef87604f1f91a99351c24de45689\n""}, {'number': 3, 'created': '2015-06-26 08:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/88f80caa5904b8f66dd2a2822fb8dd2d460ac43a', 'message': ""Move volume manager specific urls into extension\n\n* added a field for extension where urls can be\n  defined\n* move urls into volume manager extension\n* removed TODO from test_api_doc_generation test\n* removed TestRemovedIn51Handler test because:\n** it does not test anything, correct work\n   of removal of related handler is tested in\n   in other tests in the same file\n** the test relies on patching of global variable\n   which causes a lot of problems, now you cannot\n   change global variable so it gets propagated\n   into web.py\n* added exception H304 in tox configuration, it's\n  required because extensions should be written in\n  a way that they can import their modules without\n  specifing full path to extension, which currently\n  includes nailgun module as a root module. It will\n  be easier to extract it later from nailgun into\n  separate module/repo\n\nImplements blueprint: volume-manager-refactoring\n\nChange-Id: I6fd5a63e6946ef87604f1f91a99351c24de45689\n""}, {'number': 4, 'created': '2015-06-29 10:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/3333d567785d850e5f2674757bfa8e8d814caa05', 'message': ""Move volume manager specific urls into extension\n\n* added a field for extension where urls can be\n  defined\n* move urls into volume manager extension\n* removed TODO from test_api_doc_generation test\n* removed TestRemovedIn51Handler test because:\n** it does not test anything, correct work\n   of removal of related handler is tested in\n   in other tests in the same file\n** the test relies on patching of global variable\n   which causes a lot of problems, now you cannot\n   change global variable so it gets propagated\n   into web.py\n* added exception H304 in tox configuration, it's\n  required because extensions should be written in\n  a way that they can import their modules without\n  specifing full path to extension, which currently\n  includes nailgun module as a root module. It will\n  be easier to extract it later from nailgun into\n  separate module/repo\n\nImplements blueprint: volume-manager-refactoring\n\nChange-Id: I6fd5a63e6946ef87604f1f91a99351c24de45689\n""}, {'number': 5, 'created': '2015-06-29 12:08:48.000000000', 'files': ['nailgun/nailgun/extensions/__init__.py', 'nailgun/nailgun/test/unit/test_urls.py', 'nailgun/nailgun/extensions/volume_manager/extension.py', 'nailgun/nailgun/extensions/base.py', 'nailgun/nailgun/test/base.py', 'nailgun/tox.ini', 'nailgun/nailgun/test/integration/test_api_doc_generation.py', 'nailgun/nailgun/api/v1/urls.py', 'nailgun/nailgun/test/integration/test_removed_handler.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/162b26a9885cbae729c8b3ea0bcedb061bb2ac9e', 'message': ""Move volume manager specific urls into extension\n\n* added a field for extension where urls can be\n  defined\n* move urls into volume manager extension\n* removed TODO from test_api_doc_generation test\n* removed TestRemovedIn51Handler test because:\n** it does not test anything, correct work\n   of removal of related handler is tested in\n   in other tests in the same file\n** the test relies on patching of global variable\n   which causes a lot of problems, now you cannot\n   change global variable so it gets propagated\n   into web.py\n* added exception H304 in tox configuration, it's\n  required because extensions should be written in\n  a way that they can import their modules without\n  specifing full path to extension, which currently\n  includes nailgun module as a root module. It will\n  be easier to extract it later from nailgun into\n  separate module/repo\n\nImplements blueprint: volume-manager-refactoring\n\nChange-Id: I6fd5a63e6946ef87604f1f91a99351c24de45689\n""}]",12,195913,162b26a9885cbae729c8b3ea0bcedb061bb2ac9e,39,9,5,8749,,,0,"Move volume manager specific urls into extension

* added a field for extension where urls can be
  defined
* move urls into volume manager extension
* removed TODO from test_api_doc_generation test
* removed TestRemovedIn51Handler test because:
** it does not test anything, correct work
   of removal of related handler is tested in
   in other tests in the same file
** the test relies on patching of global variable
   which causes a lot of problems, now you cannot
   change global variable so it gets propagated
   into web.py
* added exception H304 in tox configuration, it's
  required because extensions should be written in
  a way that they can import their modules without
  specifing full path to extension, which currently
  includes nailgun module as a root module. It will
  be easier to extract it later from nailgun into
  separate module/repo

Implements blueprint: volume-manager-refactoring

Change-Id: I6fd5a63e6946ef87604f1f91a99351c24de45689
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/13/195913/5 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/nailgun/extensions/__init__.py', 'nailgun/nailgun/test/unit/test_urls.py', 'nailgun/nailgun/extensions/volume_manager/extension.py', 'nailgun/nailgun/extensions/base.py', 'nailgun/nailgun/test/base.py', 'nailgun/tox.ini', 'nailgun/nailgun/test/integration/test_api_doc_generation.py', 'nailgun/nailgun/api/v1/urls.py', 'nailgun/nailgun/test/integration/test_removed_handler.py']",9,b0fb9357154cc0689b3ec1f6de3e36f6fd26ddbc,bp/volume-manager-refactoring,,"from mock import patch from nailgun.api.v1.handlers.removed import RemovedIn51Handler as Handler @patch('nailgun.api.v1.urls.RemovedIn51Handler', Handler, create=True) @patch('nailgun.api.v1.urls.urls', ['/test/res/?$', 'RemovedIn51Handler']) class TestRemovedIn51Handler(BaseTestRemovedResources): __metaclass__ = RemovedIn51HandlerMeta",215,39
openstack%2Foslo.cache~master~Ic4eaf1fc809d084f79ed9efc494830c5dca3a2cf,openstack/oslo.cache,master,Ic4eaf1fc809d084f79ed9efc494830c5dca3a2cf,Module docs,MERGED,2015-06-28 17:45:40.000000000,2015-06-30 17:09:50.000000000,2015-06-30 17:09:48.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 5638}, {'_account_id': 6482}, {'_account_id': 6486}]","[{'number': 1, 'created': '2015-06-28 17:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/24c33e5065add90b819acc4ba334fc8cd35966d4', 'message': 'Docs\n\nNo docs for the public symbols were being generated, making the\nlibrary unusable.\n\nChange-Id: Ic4eaf1fc809d084f79ed9efc494830c5dca3a2cf\n'}, {'number': 2, 'created': '2015-06-29 18:12:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/4505c935fbf241e79097c5d8c3d4b9624557a85e', 'message': 'Docs\n\nNo docs for the public symbols were being generated, making the\nlibrary unusable.\n\nPartial-Bug: 1469831\nChange-Id: Ic4eaf1fc809d084f79ed9efc494830c5dca3a2cf\n'}, {'number': 3, 'created': '2015-06-29 18:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/3c5a8d9efb8e8d2fa5880cbf690a6986ca574d29', 'message': 'Docs\n\nNo docs for the public symbols were being generated, making the\nlibrary unusable.\n\nPartial-Bug: 1469831\nChange-Id: Ic4eaf1fc809d084f79ed9efc494830c5dca3a2cf\n'}, {'number': 4, 'created': '2015-06-29 18:28:53.000000000', 'files': ['doc/source/api.rst'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/448c69157cd8b2901b32217e9ea171d9a229964a', 'message': ""Module docs\n\nThe public modules weren't referenced anywhere so the\nauto-generated module docs weren't generated.\n\nPartial-Bug: 1469831\nChange-Id: Ic4eaf1fc809d084f79ed9efc494830c5dca3a2cf\n""}]",2,196464,448c69157cd8b2901b32217e9ea171d9a229964a,17,5,4,6486,,,0,"Module docs

The public modules weren't referenced anywhere so the
auto-generated module docs weren't generated.

Partial-Bug: 1469831
Change-Id: Ic4eaf1fc809d084f79ed9efc494830c5dca3a2cf
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/64/196464/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/api.rst'],1,24c33e5065add90b819acc4ba334fc8cd35966d4,bug/1469831, .. automodule:: oslo_cache.core :members: .. automodule:: oslo_cache.exception :members:,,6,0
openstack%2Fdevstack~master~I2baf0384dd5d71d234a95b7acd0bfe5534f2732c,openstack/devstack,master,I2baf0384dd5d71d234a95b7acd0bfe5534f2732c,Add oslo.cache to devstack,MERGED,2015-06-27 03:38:24.000000000,2015-06-30 17:07:00.000000000,2015-06-30 17:06:59.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 4656}, {'_account_id': 5638}, {'_account_id': 6482}, {'_account_id': 6854}, {'_account_id': 7118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-06-27 03:38:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5666f7c63b359ff8a8167351abae629e6b81a298', 'message': 'Add oslo.cache to devstack\n\nas part of the graduation process, add oslo.cache to lib/oslo\nand stackrc.\n\nChange-Id: I2baf0384dd5d71d234a95b7acd0bfe5534f2732c\n'}, {'number': 2, 'created': '2015-06-27 06:09:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f8131df0fea3f6649f668ea65ef8baac73a5470a', 'message': 'Add oslo.cache to devstack\n\nas part of the graduation process, add oslo.cache to lib/oslo\nand stackrc.\n\nChange-Id: I2baf0384dd5d71d234a95b7acd0bfe5534f2732c\n'}, {'number': 3, 'created': '2015-06-27 15:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/59031606ecc5f33b247a89d9432c33b7aa477ed5', 'message': 'Add oslo.cache to devstack\n\nas part of the graduation process, add oslo.cache to lib/oslo\nand stackrc.\n\nChange-Id: I2baf0384dd5d71d234a95b7acd0bfe5534f2732c\n'}, {'number': 4, 'created': '2015-06-27 15:10:56.000000000', 'files': ['lib/oslo', 'tests/test_libs_from_pypi.sh', 'stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/531017cf3e760dc1e9af25684465681277dec8d4', 'message': 'Add oslo.cache to devstack\n\nas part of the graduation process, add oslo.cache to lib/oslo\nand stackrc.\n\nChange-Id: I2baf0384dd5d71d234a95b7acd0bfe5534f2732c\n'}]",0,196337,531017cf3e760dc1e9af25684465681277dec8d4,24,10,4,6482,,,0,"Add oslo.cache to devstack

as part of the graduation process, add oslo.cache to lib/oslo
and stackrc.

Change-Id: I2baf0384dd5d71d234a95b7acd0bfe5534f2732c
",git fetch https://review.opendev.org/openstack/devstack refs/changes/37/196337/2 && git format-patch -1 --stdout FETCH_HEAD,"['lib/oslo', 'stackrc']",2,5666f7c63b359ff8a8167351abae629e6b81a298,oslo-cache,"# oslo.cache GITREPO[""oslo.cache""]=${OSLOCON_REPO:-${GIT_BASE}/openstack/oslo.cache.git} GITBRANCH[""oslo.cache""]=${OSLOCON_BRANCH:-master} ",,5,0
openstack%2Ffuel-qa~master~I79f0912abe9fdd94d406a445aeb4ef7d252e2775,openstack/fuel-qa,master,I79f0912abe9fdd94d406a445aeb4ef7d252e2775,Set timeout to 130 in deploy_cluster_wait,MERGED,2015-06-30 16:16:18.000000000,2015-06-30 17:05:52.000000000,2015-06-30 17:05:52.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8971}, {'_account_id': 11969}]","[{'number': 1, 'created': '2015-06-30 16:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/1ba03a31309782d3a75e57bc9bbbf19717e2457a', 'message': 'Set timeout to 130 in deploy_cluster_wait\n\nSet timeout to 130 in deploy_cluster_wait\n\nChange-Id: I79f0912abe9fdd94d406a445aeb4ef7d252e2775\n'}, {'number': 2, 'created': '2015-06-30 16:51:29.000000000', 'files': ['fuelweb_test/models/fuel_web_client.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/0ab7da7ef61c9d7351eaacbecada01bdcf034469', 'message': 'Set timeout to 130 in deploy_cluster_wait\n\nubuntu_bvt test failed, according to 70 minutes not enough,\nso set timeout to 130 in deploy_cluster_wait\n\nChange-Id: I79f0912abe9fdd94d406a445aeb4ef7d252e2775\n'}]",0,197166,0ab7da7ef61c9d7351eaacbecada01bdcf034469,19,4,2,6719,,,0,"Set timeout to 130 in deploy_cluster_wait

ubuntu_bvt test failed, according to 70 minutes not enough,
so set timeout to 130 in deploy_cluster_wait

Change-Id: I79f0912abe9fdd94d406a445aeb4ef7d252e2775
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/66/197166/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/models/fuel_web_client.py'],1,1ba03a31309782d3a75e57bc9bbbf19717e2457a,fix_bvt," timeout=130 * 60, interval=30,"," timeout=70 * 60, interval=30,",1,1
openstack%2Ffuel-stats~master~Icdaa65f856aa7ea8349c39aa1bc5b8aca7368aca,openstack/fuel-stats,master,Icdaa65f856aa7ea8349c39aa1bc5b8aca7368aca,We shouldn't show filtered stats in the web UI,MERGED,2015-06-26 15:44:38.000000000,2015-06-30 17:01:58.000000000,2015-06-30 17:01:57.000000000,"[{'_account_id': 3}, {'_account_id': 8392}, {'_account_id': 8735}, {'_account_id': 8931}, {'_account_id': 8971}, {'_account_id': 9730}, {'_account_id': 10136}, {'_account_id': 10959}, {'_account_id': 11110}, {'_account_id': 11577}, {'_account_id': 12200}, {'_account_id': 14543}]","[{'number': 1, 'created': '2015-06-26 15:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-stats/commit/c240bab11a401bff7cdaeaa68f09405f17cef0ce', 'message': ""We should hide filtered stats in the web UI\n\nFiltered by application stats is marked through is_filtered\nfield in the installation_structure. We should'n show such\nstats in the web UI\n\nChange-Id: Icdaa65f856aa7ea8349c39aa1bc5b8aca7368aca\n""}, {'number': 2, 'created': '2015-06-29 13:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-stats/commit/831b0024660f01d54c662d0b22c912f2ed3605a1', 'message': ""We shouldn't show filtered stats in the web UI\n\nFiltered by application stats is marked through is_filtered\nfield in the installation_structure.\nFiltering by is_filtered added into UI queries. Queries tested\nin migration unit tests.\nQueries creation in migration tests refactored.\n\nChange-Id: Icdaa65f856aa7ea8349c39aa1bc5b8aca7368aca\nCloses-Bug: #1443347\n""}, {'number': 3, 'created': '2015-06-29 14:01:41.000000000', 'files': ['migration/migration/model.py', 'migration/migration/migrator.py', 'migration/migration/test/test_migrator.py', 'analytics/static/js/app.js', 'migration/migration/test/report/test_reports.py', 'migration/migration/config.py', 'migration/migration/test/base.py'], 'web_link': 'https://opendev.org/openstack/fuel-stats/commit/59f945ee661332d5332020543eff852ebd226610', 'message': ""We shouldn't show filtered stats in the web UI\n\nFiltered by application stats is marked through is_filtered\nfield in the installation_structure.\nFiltering by is_filtered added into UI queriesto Elasticsearch. Queries\ntested in migration unit tests.\nQueries to Elasticsearch creation in migration tests refactored.\n\nChange-Id: Icdaa65f856aa7ea8349c39aa1bc5b8aca7368aca\nCloses-Bug: #1443347\n""}]",6,196116,59f945ee661332d5332020543eff852ebd226610,27,12,3,10959,,,0,"We shouldn't show filtered stats in the web UI

Filtered by application stats is marked through is_filtered
field in the installation_structure.
Filtering by is_filtered added into UI queriesto Elasticsearch. Queries
tested in migration unit tests.
Queries to Elasticsearch creation in migration tests refactored.

Change-Id: Icdaa65f856aa7ea8349c39aa1bc5b8aca7368aca
Closes-Bug: #1443347
",git fetch https://review.opendev.org/openstack/fuel-stats refs/changes/16/196116/1 && git format-patch -1 --stdout FETCH_HEAD,"['migration/migration/model.py', 'migration/migration/migrator.py', 'migration/migration/test/test_migrator.py', 'migration/migration/config.py', 'migration/migration/test/base.py']",5,c240bab11a401bff7cdaeaa68f09405f17cef0ce,bug/1443347," def create_dumb_structure(self, set_md=True, is_filtered_values=(True, False, None)): is_filtered = random.choice(is_filtered_values) modification_date=m_date, is_filtered=is_filtered)) db_session.flush()"," def create_dumb_structure(self, set_md=True): modification_date=m_date)) db_session.commit()",40,6
openstack%2Frally~master~I0673e4a0f9b12cdfdc6a1174b2aae63ee44213eb,openstack/rally,master,I0673e4a0f9b12cdfdc6a1174b2aae63ee44213eb,"install_rally.sh: always use wget, not cURL",MERGED,2015-06-30 13:49:42.000000000,2015-06-30 16:56:24.000000000,2015-06-30 16:56:22.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 6835}, {'_account_id': 8576}, {'_account_id': 14817}]","[{'number': 1, 'created': '2015-06-30 13:49:42.000000000', 'files': ['install_rally.sh'], 'web_link': 'https://opendev.org/openstack/rally/commit/f5c4f16d655f89aea19410117f9e9a6927d0d9e2', 'message': ""install_rally.sh: always use wget, not cURL\n\nwget properly handles the URLs we get back from PyPI, which may\ninclude ../'s to reference the parent directory.\n\nChange-Id: I0673e4a0f9b12cdfdc6a1174b2aae63ee44213eb\nCloses-Bug: 1470110\n""}]",0,197079,f5c4f16d655f89aea19410117f9e9a6927d0d9e2,10,5,1,11748,,,0,"install_rally.sh: always use wget, not cURL

wget properly handles the URLs we get back from PyPI, which may
include ../'s to reference the parent directory.

Change-Id: I0673e4a0f9b12cdfdc6a1174b2aae63ee44213eb
Closes-Bug: 1470110
",git fetch https://review.opendev.org/openstack/rally refs/changes/79/197079/1 && git format-patch -1 --stdout FETCH_HEAD,['install_rally.sh'],1,f5c4f16d655f89aea19410117f9e9a6927d0d9e2,bug/1470110," wget -nv $VERBOSE --no-check-certificate -O ""$@""; missing=$(which_missing_packages build-essential libssl-dev libffi-dev python-dev libxml2-dev libxslt1-dev libpq-dev git wget) missing=$(which_missing_packages gcc libffi-devel python-devel openssl-devel gmp-devel libxml2-devel libxslt-devel postgresql-devel git wget) missing=$(which_missing_packages gcc libffi48-devel python-devel openssl-devel gmp-devel libxml2-devel libxslt-devel postgresql93-devel git wget)"," if have_command wget; then wget -nv $VERBOSE --no-check-certificate -O ""$@""; elif have_command curl; then curl $VERBOSE --insecure -L -s -o ""$@""; fi missing=$(which_missing_packages build-essential libssl-dev libffi-dev python-dev libxml2-dev libxslt1-dev libpq-dev git) missing=$(which_missing_packages gcc libffi-devel python-devel openssl-devel gmp-devel libxml2-devel libxslt-devel postgresql-devel git) missing=$(which_missing_packages gcc libffi48-devel python-devel openssl-devel gmp-devel libxml2-devel libxslt-devel postgresql93-devel git) if ! have_command wget && ! have_command curl; then missing=""$missing wget"" fi ",4,12
openstack%2Fpython-cinderclient~master~Iab584c72a34f9171000b20b2200ac12d21fc40ae,openstack/python-cinderclient,master,Iab584c72a34f9171000b20b2200ac12d21fc40ae,Set max volume size limit for the tenant,MERGED,2015-05-31 12:01:57.000000000,2015-06-30 16:55:47.000000000,2015-06-30 16:55:46.000000000,"[{'_account_id': 3}, {'_account_id': 1207}, {'_account_id': 1736}, {'_account_id': 2861}, {'_account_id': 4523}, {'_account_id': 5538}, {'_account_id': 7764}, {'_account_id': 9176}, {'_account_id': 9631}, {'_account_id': 10263}, {'_account_id': 11215}, {'_account_id': 11904}, {'_account_id': 15254}]","[{'number': 1, 'created': '2015-05-31 12:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/db040616839c348243d4dc0fa4a8cbe87ce9880e', 'message': 'set max limit for volume size\n\nThis feature allows admin to set volume size limit for a tenant.\nGet default value for volume size limit via config.\nThe defaults will either come from the default values set in the quota option\nconfiguration or via cinder.conf if the user has configured\ndefault values for quotas there.\nonly admin can reset the volme size limit for the tenant\n\nChange-Id: Iab584c72a34f9171000b20b2200ac12d21fc40ae\nImplements: blueprint cinder-quota-define-per-volume\n'}, {'number': 2, 'created': '2015-06-18 08:46:47.000000000', 'files': ['cinderclient/tests/unit/v2/fakes.py', 'cinderclient/v2/shell.py', 'cinderclient/tests/unit/v2/test_quota_classes.py', 'cinderclient/tests/unit/v2/test_quotas.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/e4359f789726ad4cb5dc9bb42e1689d2c96fe7e9', 'message': 'Set max volume size limit for the tenant\n\nThere is a need to limit maximum size of a volume to levels\nthat the storage infrastructure can handle.\nSetting a maximum limit on size of a volume also prevents\na tenant from creating large volumes that have not been tested\nand certified to satisfy SLA objectives.\n\nThis feature allows admin to set volume size limit\n[per_volume_gigabytes] for a tenant.\n\nChange-Id: Iab584c72a34f9171000b20b2200ac12d21fc40ae\nImplements: blueprint cinder-quota-define-per-volume\n'}]",5,187046,e4359f789726ad4cb5dc9bb42e1689d2c96fe7e9,27,13,2,15254,,,0,"Set max volume size limit for the tenant

There is a need to limit maximum size of a volume to levels
that the storage infrastructure can handle.
Setting a maximum limit on size of a volume also prevents
a tenant from creating large volumes that have not been tested
and certified to satisfy SLA objectives.

This feature allows admin to set volume size limit
[per_volume_gigabytes] for a tenant.

Change-Id: Iab584c72a34f9171000b20b2200ac12d21fc40ae
Implements: blueprint cinder-quota-define-per-volume
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/46/187046/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinderclient/v2/shell.py', 'cinderclient/tests/unit/v2/test_quotas.py']",2,db040616839c348243d4dc0fa4a8cbe87ce9880e,bp/cinder-quota-define-per-volume, q.update(per_volume_gigabytes=1000),,7,1
openstack%2Fdevstack~master~I659ec9b9b2b49690fd075f9766ae8cbf19e81848,openstack/devstack,master,I659ec9b9b2b49690fd075f9766ae8cbf19e81848,Drop no longer needed and broken check for cinder in is_service_enabled,MERGED,2015-06-26 13:22:03.000000000,2015-06-30 16:55:33.000000000,2015-06-30 16:55:31.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 7118}, {'_account_id': 7882}, {'_account_id': 10239}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-06-26 13:22:03.000000000', 'files': ['functions-common'], 'web_link': 'https://opendev.org/openstack/devstack/commit/f2a05497a3716b5eaa178b970d5cd2e6db865a97', 'message': 'Drop no longer needed and broken check for cinder in is_service_enabled\n\nThere is properly working is_cinder_enabled now, and this check\nactualy matches ironic-inspector, breaking its devstack plugin.\n\nChange-Id: I659ec9b9b2b49690fd075f9766ae8cbf19e81848\nCloses-Bug: #1469160\n'}]",0,196050,f2a05497a3716b5eaa178b970d5cd2e6db865a97,20,6,1,10239,,,0,"Drop no longer needed and broken check for cinder in is_service_enabled

There is properly working is_cinder_enabled now, and this check
actualy matches ironic-inspector, breaking its devstack plugin.

Change-Id: I659ec9b9b2b49690fd075f9766ae8cbf19e81848
Closes-Bug: #1469160
",git fetch https://review.opendev.org/openstack/devstack refs/changes/50/196050/1 && git format-patch -1 --stdout FETCH_HEAD,['functions-common'],1,f2a05497a3716b5eaa178b970d5cd2e6db865a97,bug/1469160,," [[ ${service} == ""cinder"" && ${ENABLED_SERVICES} =~ ""c-"" ]] && enabled=0",0,1
openstack%2Fdevstack~master~Ib6a91ee525e2e57d3901d2c0c1b2d1305bc4566f,openstack/devstack,master,Ib6a91ee525e2e57d3901d2c0c1b2d1305bc4566f,Fixing the deprecated library function,MERGED,2015-06-29 09:35:34.000000000,2015-06-30 16:55:27.000000000,2015-06-30 16:55:24.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 7118}, {'_account_id': 10068}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-06-29 09:35:34.000000000', 'files': ['tools/worlddump.py'], 'web_link': 'https://opendev.org/openstack/devstack/commit/bde24cb7c20a9797eb581a39a9f0839c4951300d', 'message': 'Fixing the deprecated library function\n\nos.popen() is deprecated since version 2.6. Resolved with use of\n    subprocess module.\n\nChange-Id: Ib6a91ee525e2e57d3901d2c0c1b2d1305bc4566f\n'}]",0,196599,bde24cb7c20a9797eb581a39a9f0839c4951300d,9,5,1,16830,,,0,"Fixing the deprecated library function

os.popen() is deprecated since version 2.6. Resolved with use of
    subprocess module.

Change-Id: Ib6a91ee525e2e57d3901d2c0c1b2d1305bc4566f
",git fetch https://review.opendev.org/openstack/devstack refs/changes/99/196599/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/worlddump.py'],1,bde24cb7c20a9797eb581a39a9f0839c4951300d,1466465,"from subprocess import Popen subprocess.Popen(cmd, shell=True)", print os.popen(cmd).read(),2,1
openstack%2Fdevstack~master~I3cc82aca1e3fd26e3beb4baee1f11a9b45e8b9f7,openstack/devstack,master,I3cc82aca1e3fd26e3beb4baee1f11a9b45e8b9f7,Use ip route replace to avoid the existing route,MERGED,2015-06-23 06:16:01.000000000,2015-06-30 16:55:21.000000000,2015-06-30 16:55:18.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 1653}, {'_account_id': 2874}, {'_account_id': 4656}, {'_account_id': 7118}, {'_account_id': 7715}, {'_account_id': 10385}, {'_account_id': 11126}]","[{'number': 1, 'created': '2015-06-23 06:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e40a0901279173ac42f02a88458fab368614009b', 'message': 'Use ip route replace to avoid the existing route\n\nChange-Id: I3cc82aca1e3fd26e3beb4baee1f11a9b45e8b9f7\nCloses-Bug: 1467762\n'}, {'number': 2, 'created': '2015-06-24 09:40:19.000000000', 'files': ['lib/neutron-legacy'], 'web_link': 'https://opendev.org/openstack/devstack/commit/348c6ace71f791034dae19a3467d18cea3140d5a', 'message': 'Use ip route replace to avoid the existing route\n\nChange-Id: I3cc82aca1e3fd26e3beb4baee1f11a9b45e8b9f7\nCloses-Bug: 1467762\n'}]",4,194508,348c6ace71f791034dae19a3467d18cea3140d5a,23,9,2,2874,,,0,"Use ip route replace to avoid the existing route

Change-Id: I3cc82aca1e3fd26e3beb4baee1f11a9b45e8b9f7
Closes-Bug: 1467762
",git fetch https://review.opendev.org/openstack/devstack refs/changes/08/194508/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron-legacy'],1,e40a0901279173ac42f02a88458fab368614009b,bug/1467762, sudo ip route replace $FIXED_RANGE via $ROUTER_GW_IP, sudo route add -net $FIXED_RANGE gw $ROUTER_GW_IP,1,1
openstack%2Fnetworking-odl~master~I947b2b56163e6694aece9481bada9c7d28f989d7,openstack/networking-odl,master,I947b2b56163e6694aece9481bada9c7d28f989d7,devstack: Correct which services run on compute-only nodes,ABANDONED,2015-06-29 14:59:51.000000000,2015-06-30 16:54:41.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 333}, {'_account_id': 748}, {'_account_id': 1561}, {'_account_id': 6854}, {'_account_id': 11240}, {'_account_id': 11952}]","[{'number': 1, 'created': '2015-06-29 14:59:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/fc3bad06581fd8928a14209baff2d9cbef1d4f8b', 'message': 'devstack: Correct which services run on compute-only nodes\n\nCommit I4a7d4586e253d1984b7b0d2bf488a6d157b04d46 added in support to\nexplicitely set which services run for ODL in the OpenStack gate.\nThis broke using our devstack config on compute only hosts. This\nfixes the breakage by not trying to run OpenStack servers on\ncompute only hosts.\n\nCloses-Bug: #1469751\nChange-Id: I947b2b56163e6694aece9481bada9c7d28f989d7\nSigned-off-by: Kyle Mestery <mestery@mestery.com>\n'}, {'number': 2, 'created': '2015-06-29 15:35:51.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/1c1851430ca725c1ce8d8e13a37bb723fe64a8b4', 'message': 'devstack: Correct which services run on compute-only nodes\n\nCommit I4a7d4586e253d1984b7b0d2bf488a6d157b04d46 added in support to\nexplicitily set which services run for ODL in the OpenStack gate.\nThis broke using our devstack config on compute only hosts. This\nfixes the breakage by not trying to run OpenStack servers on\ncompute only hosts.\n\nCloses-Bug: #1469751\nChange-Id: I947b2b56163e6694aece9481bada9c7d28f989d7\nSigned-off-by: Kyle Mestery <mestery@mestery.com>\n'}]",13,196697,1c1851430ca725c1ce8d8e13a37bb723fe64a8b4,19,8,2,105,,,0,"devstack: Correct which services run on compute-only nodes

Commit I4a7d4586e253d1984b7b0d2bf488a6d157b04d46 added in support to
explicitily set which services run for ODL in the OpenStack gate.
This broke using our devstack config on compute only hosts. This
fixes the breakage by not trying to run OpenStack servers on
compute only hosts.

Closes-Bug: #1469751
Change-Id: I947b2b56163e6694aece9481bada9c7d28f989d7
Signed-off-by: Kyle Mestery <mestery@mestery.com>
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/97/196697/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,fc3bad06581fd8928a14209baff2d9cbef1d4f8b,cleanup, # Be explicit about what services we enable enable_service q-svc q-dhcp q-meta quantum tempest n-api n-cond \ n-cpu n-crt n-obj n-sch g-api g-reg mysql rabbit key n-novnc # Be explicit about what services we enable enable_service q-svc q-dhcp q-meta quantum tempest n-api n-cond \ n-cpu n-crt n-obj n-sch g-api g-reg mysql rabbit key n-novnc # Be explicit about what services we enable enable_service quantum tempest n-cpu n-crt n-obj n-sch n-novnc,# Be explicit about what services we enable enable_service q-svc q-dhcp q-meta quantum tempest n-api n-cond n-cpu n-crt \ n-obj n-sch g-api g-reg mysql rabbit key ,8,4
openstack%2Fdevstack~master~I53f445e7f8efd950823f79aca95b9e65d1544ee9,openstack/devstack,master,I53f445e7f8efd950823f79aca95b9e65d1544ee9,Add cleanup for Linuxbridge-agent,MERGED,2015-06-26 08:45:05.000000000,2015-06-30 16:52:07.000000000,2015-06-30 16:52:05.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 4656}, {'_account_id': 7118}, {'_account_id': 7715}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-06-26 08:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/bf9d229a15f58816793a59439d90e50767d359ab', 'message': '[WIP]Add cleanup for Linuxbridge-agent\n\nChange-Id: I53f445e7f8efd950823f79aca95b9e65d1544ee9\n'}, {'number': 2, 'created': '2015-06-29 06:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/fd90527eadfd727e2fac4e09680ac86c740dc1c1', 'message': 'Add cleanup for Linuxbridge-agent\n\nChange-Id: I53f445e7f8efd950823f79aca95b9e65d1544ee9\nCloses-Bug: #1469609\n'}, {'number': 3, 'created': '2015-06-29 08:08:00.000000000', 'files': ['lib/neutron_plugins/linuxbridge_agent'], 'web_link': 'https://opendev.org/openstack/devstack/commit/5c0546e427a02ca7f84eac0894bc84073fa32638', 'message': 'Add cleanup for Linuxbridge-agent\n\nChange-Id: I53f445e7f8efd950823f79aca95b9e65d1544ee9\nCloses-Bug: #1469609\n'}]",0,195921,5c0546e427a02ca7f84eac0894bc84073fa32638,20,6,3,7715,,,0,"Add cleanup for Linuxbridge-agent

Change-Id: I53f445e7f8efd950823f79aca95b9e65d1544ee9
Closes-Bug: #1469609
",git fetch https://review.opendev.org/openstack/devstack refs/changes/21/195921/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron_plugins/linuxbridge_agent'],1,bf9d229a15f58816793a59439d90e50767d359ab,clean_linuxbridge," if [[ ""$Q_ML2_TENANT_NETWORK_TYPE"" = ""vxlan"" ]]; then for port in $(sudo brctl show | grep -o -e [a-zA-Z\-]*tap[0-9a-f\-]* -e vxlan-[0-9a-f\-]*); do sudo ip link delete $port done #elif [[ ""$Q_ML2_TENANT_NETWORK_TYPE"" = ""vlan"" ]]; then # for port in $(sudo brctl show | grep -o -e [a-zA-Z\-]*tap[0-9a-f\-]* -e ${LB_PHYSICAL_INTERFACE}\.[0-9a-f\-]*); do # sudo ip link delete $port # done fi for bridge in $(sudo brctl show |grep -o -e brq[0-9a-f\-]*); do sudo ip link set $bridge down sudo brctl delbr $bridge done",,14,0
openstack%2Fnova~master~I52764de041a49d16d7d0c4bd35cc3274c5b3cdb1,openstack/nova,master,I52764de041a49d16d7d0c4bd35cc3274c5b3cdb1,[WIP] Ignore me - trying oslo.* master against Nova unit tests,ABANDONED,2015-05-28 14:41:55.000000000,2015-06-30 16:32:47.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15286}, {'_account_id': 15751}]","[{'number': 1, 'created': '2015-05-28 14:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/adf53b1aaf5c49d4c6fe88cf85ae1a78da1053c7', 'message': '[WIP] Ignore me - trying oslo.* master against Nova unit tests\n\nChange-Id: I52764de041a49d16d7d0c4bd35cc3274c5b3cdb1\n'}, {'number': 2, 'created': '2015-05-29 10:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/373b39df945ad48edb2d760c1512fc5548d0d3cd', 'message': '[WIP] Ignore me - trying oslo.* master against Nova unit tests\n\nChange-Id: I52764de041a49d16d7d0c4bd35cc3274c5b3cdb1\n'}, {'number': 3, 'created': '2015-05-29 19:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7bcccc58b03ecad20b7068fc09d6ce0646695e10', 'message': '[WIP] Ignore me - trying oslo.* master against Nova unit tests\n\nChange-Id: I52764de041a49d16d7d0c4bd35cc3274c5b3cdb1\n'}, {'number': 4, 'created': '2015-05-29 21:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/67e9b360b0c74af5b0af3db62ca71c1e3230e186', 'message': '[WIP] Ignore me - trying oslo.* master against Nova unit tests\n\nChange-Id: I52764de041a49d16d7d0c4bd35cc3274c5b3cdb1\n'}, {'number': 5, 'created': '2015-05-30 00:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7b2acd5a94fbb2b9e66bdc4086a00a47bb35a8da', 'message': '[WIP] Ignore me - trying oslo.* master against Nova unit tests\n\nChange-Id: I52764de041a49d16d7d0c4bd35cc3274c5b3cdb1\n'}, {'number': 6, 'created': '2015-06-02 00:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3f5b82ec7ef108ff8a7ae12950c46162becc88f', 'message': '[WIP] Ignore me - trying oslo.* master against Nova unit tests\n\nChange-Id: I52764de041a49d16d7d0c4bd35cc3274c5b3cdb1\n'}, {'number': 7, 'created': '2015-06-16 00:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70e039ecdae3877e30315b139f2d9223619673c5', 'message': '[WIP] Ignore me - trying oslo.* master against Nova unit tests\n\nChange-Id: I52764de041a49d16d7d0c4bd35cc3274c5b3cdb1\n'}, {'number': 8, 'created': '2015-06-29 11:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a49381bc32300be0939855cd0229744767aada3', 'message': '[WIP] Ignore me - trying oslo.* master against Nova unit tests\n\nChange-Id: I52764de041a49d16d7d0c4bd35cc3274c5b3cdb1\n'}, {'number': 9, 'created': '2015-06-30 01:03:02.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'test-requirements-py3.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/18574eef5c83b403b7f3b6b27e2f12364badf6ff', 'message': '[WIP] Ignore me - trying oslo.* master against Nova unit tests\n\nChange-Id: I52764de041a49d16d7d0c4bd35cc3274c5b3cdb1\n'}]",0,186413,18574eef5c83b403b7f3b6b27e2f12364badf6ff,95,11,9,5638,,,0,"[WIP] Ignore me - trying oslo.* master against Nova unit tests

Change-Id: I52764de041a49d16d7d0c4bd35cc3274c5b3cdb1
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/186413/8 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'test-requirements-py3.txt']",3,adf53b1aaf5c49d4c6fe88cf85ae1a78da1053c7,,-e git+https://github.com/openstack/oslosphinx.git#egg=oslosphinx -e git+https://github.com/openstack/oslotest.git#egg=oslotesttempest-lib>=0.5.0,oslosphinx>=2.5.0 # Apache-2.0 oslotest>=1.5.1 # Apache-2.0tempest-lib>=0.5.0 # vmwareapi driver specific dependencies # FIXME(haypo): oslo.vmware 0.12.0 still requires suds which is not compatible # with Python 3. Next oslo.vmware will uses suds-jurko. Disable the dependency # until the next oslo.vmware release. Related change: # https://review.openstack.org/#/c/180087/ #oslo.vmware>=0.11.1 # Apache-2.0 ,17,25
openstack%2Fnova~master~Ibcd423976bb9fea46e3e1cb23cc8e5cd944d8fc2,openstack/nova,master,Ibcd423976bb9fea46e3e1cb23cc8e5cd944d8fc2,libvirt: Fail when live block migrating instance with volumes,MERGED,2014-12-04 15:14:29.000000000,2015-06-30 16:30:59.000000000,2015-02-06 20:33:15.000000000,"[{'_account_id': 3}, {'_account_id': 136}, {'_account_id': 782}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 6896}, {'_account_id': 9008}, {'_account_id': 9420}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 11748}, {'_account_id': 12898}]","[{'number': 1, 'created': '2014-12-04 15:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d1b97a502f7026ba625a1388cef332714651f54', 'message': 'Fail when live block migrating instance with volumes\n\nThis raises an exception when attempting to live block migrate (nova\nlive-migration --block-migrate) an instance with attached volumes.\nlibvirt copies these volumes from themselves to themselves, which can\nresult in Bad Things.  Details at\nhttp://lists.openstack.org/pipermail/openstack-dev/2014-June/038152.html\n\nChange-Id: Ibcd423976bb9fea46e3e1cb23cc8e5cd944d8fc2\nFixes-Bug: 1398999\n'}, {'number': 2, 'created': '2014-12-10 20:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d1e4cecc37e42fa1b09ca702ed34f39045d3fced', 'message': 'Fail when live block migrating instance with volumes\n\nThis raises an exception when attempting to live block migrate (nova\nlive-migration --block-migrate) an instance with attached volumes.\nlibvirt copies these volumes from themselves to themselves, which can\nresult in Bad Things.  Details at\nhttp://lists.openstack.org/pipermail/openstack-dev/2014-June/038152.html\n\nThis also makes an incidental change to one of the compute cell test\ncases, from NoDBTestCase to just TestCase. This has to be changed\nbecause of the\nnova.tests.unit.compute.test_compute_cells.CellsConductorAPIRCPRedirect.test_live_migrate_instance\ncase, which calls a live migration; since live migration now checks\nfor block device mappings, it has to interface with the database.\n\nChange-Id: Ibcd423976bb9fea46e3e1cb23cc8e5cd944d8fc2\nFixes-Bug: 1398999\n'}, {'number': 3, 'created': '2014-12-11 12:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ea1dcb295d52c4ff4b47f1a197113760c2c774a2', 'message': 'Fail when live block migrating instance with volumes\n\nThis raises an exception when attempting to live block migrate (nova\nlive-migration --block-migrate) an instance with attached volumes.\nlibvirt copies these volumes from themselves to themselves, which can\nresult in Bad Things.  Details at\nhttp://lists.openstack.org/pipermail/openstack-dev/2014-June/038152.html\n\nThis also makes an incidental change to one of the compute cell test\ncases, from NoDBTestCase to just TestCase. This has to be changed\nbecause of the\nnova.tests.unit.compute.test_compute_cells.CellsConductorAPIRCPRedirect.test_live_migrate_instance\ncase, which calls a live migration; since live migration now checks\nfor block device mappings, it has to interface with the database.\n\nChange-Id: Ibcd423976bb9fea46e3e1cb23cc8e5cd944d8fc2\nCloses-Bug: 1398999\n'}, {'number': 4, 'created': '2014-12-15 16:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/935f259631ea32c28a258aeacd8b750452f7850b', 'message': 'Fail when live block migrating instance with volumes\n\nThis raises an exception when attempting to live block migrate (nova\nlive-migration --block-migrate) an instance with attached volumes.\nlibvirt copies these volumes from themselves to themselves, which can\nresult in Bad Things.  Details at\nhttp://lists.openstack.org/pipermail/openstack-dev/2014-June/038152.html\n\nChange-Id: Ibcd423976bb9fea46e3e1cb23cc8e5cd944d8fc2\nCloses-Bug: 1398999\n'}, {'number': 5, 'created': '2014-12-15 19:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e553b1fa245daace2115ea6bb4a1e0028b7de040', 'message': 'Fail when live block migrating instance with volumes\n\nThis raises an exception when attempting to live block migrate (nova\nlive-migration --block-migrate) an instance with attached volumes.\nlibvirt copies these volumes from themselves to themselves, which can\nresult in Bad Things.  Details at\nhttp://lists.openstack.org/pipermail/openstack-dev/2014-June/038152.html\n\nChange-Id: Ibcd423976bb9fea46e3e1cb23cc8e5cd944d8fc2\nCloses-Bug: 1398999\n'}, {'number': 6, 'created': '2014-12-15 19:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7896809b97a6bd0d08242593cea8598131ac0417', 'message': 'Fail when live block migrating instance with volumes\n\nThis raises an exception when attempting to live block migrate (nova\nlive-migration --block-migrate) an instance with attached volumes.\nlibvirt copies these volumes from themselves to themselves. At a\nminimum, this is horribly slow and de-sparses a sparse volume; at\nworst, this could cause massive data corruption.\n\nChange-Id: Ibcd423976bb9fea46e3e1cb23cc8e5cd944d8fc2\nCloses-Bug: 1398999\n'}, {'number': 7, 'created': '2014-12-22 17:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6bb3c9631ea46b622fcd2d5e70bd4d496e43ec08', 'message': 'Fail when live block migrating instance with volumes\n\nThis raises an exception when attempting to live block migrate (nova\nlive-migration --block-migrate) an instance with attached volumes.\nlibvirt copies these volumes from themselves to themselves. At a\nminimum, this is horribly slow and de-sparses a sparse volume; at\nworst, this could cause massive data corruption.\n\nChange-Id: Ibcd423976bb9fea46e3e1cb23cc8e5cd944d8fc2\nCloses-Bug: 1398999\n'}, {'number': 8, 'created': '2014-12-22 20:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a7e162d54b2ba76d8a9d990b008ee0e6eb12106', 'message': 'Fail when live block migrating instance with volumes\n\nThis raises an exception when attempting to live block migrate (nova\nlive-migration --block-migrate) an instance with attached volumes.\nlibvirt copies these volumes from themselves to themselves. At a\nminimum, this is horribly slow and de-sparses a sparse volume; at\nworst, this could cause massive data corruption.\n\nChange-Id: Ibcd423976bb9fea46e3e1cb23cc8e5cd944d8fc2\nCloses-Bug: 1398999\n'}, {'number': 9, 'created': '2014-12-22 20:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/436da50807a8bafe4a134e0b12dd552c0b3bfd44', 'message': 'Fail when live block migrating instance with volumes\n\nThis raises an exception when attempting to live block migrate (nova\nlive-migration --block-migrate) an instance with attached volumes.\nlibvirt copies these volumes from themselves to themselves. At a\nminimum, this is horribly slow and de-sparses a sparse volume; at\nworst, this could cause massive data corruption.\n\nChange-Id: Ibcd423976bb9fea46e3e1cb23cc8e5cd944d8fc2\nCloses-Bug: 1398999\n'}, {'number': 10, 'created': '2014-12-23 20:34:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4adc96a51b6b0a8d6b3f86721b72148af6dd9f78', 'message': 'libvirt: Fail when live block migrating instance with volumes\n\nThis raises an exception when attempting to live block migrate (nova\nlive-migration --block-migrate) an instance with attached volumes.\nlibvirt copies these volumes from themselves to themselves. At a\nminimum, this is horribly slow and de-sparses a sparse volume; at\nworst, this could cause massive data corruption.\n\nDocImpact: New allow_live_migration_with_volumes setting in [libvirt]\nCloses-Bug: 1398999\nChange-Id: Ibcd423976bb9fea46e3e1cb23cc8e5cd944d8fc2\n'}, {'number': 11, 'created': '2015-01-14 13:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/45c4562e36c88a15eabbdbdc5298d1d5eb96d889', 'message': 'libvirt: Fail when live block migrating instance with volumes\n\nThis raises an exception when attempting to live block migrate (nova\nlive-migration --block-migrate) an instance with attached volumes.\nlibvirt copies these volumes from themselves to themselves. At a\nminimum, this is horribly slow and de-sparses a sparse volume; at\nworst, this could cause massive data corruption.\n\nCloses-Bug: 1398999\nChange-Id: Ibcd423976bb9fea46e3e1cb23cc8e5cd944d8fc2\n'}, {'number': 12, 'created': '2015-02-04 22:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad02f9ca6460765b995e5a6de0b2effb9dcf9d35', 'message': 'libvirt: Fail when live block migrating instance with volumes\n\nThis raises an exception when attempting to live block migrate (nova\nlive-migration --block-migrate) an instance with attached volumes.\nlibvirt copies these volumes from themselves to themselves. At a\nminimum, this is horribly slow and de-sparses a sparse volume; at\nworst, this could cause massive data corruption.\n\nCloses-Bug: 1398999\nChange-Id: Ibcd423976bb9fea46e3e1cb23cc8e5cd944d8fc2\n'}, {'number': 13, 'created': '2015-02-05 14:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2102e53376ba08ee2d0c0acb96440eee4a3c8944', 'message': 'libvirt: Fail when live block migrating instance with volumes\n\nThis raises an exception when attempting to live block migrate (nova\nlive-migration --block-migrate) an instance with attached volumes.\nlibvirt copies these volumes from themselves to themselves. At a\nminimum, this is horribly slow and de-sparses a sparse volume; at\nworst, this could cause massive data corruption.\n\nCloses-Bug: 1398999\nChange-Id: Ibcd423976bb9fea46e3e1cb23cc8e5cd944d8fc2\n'}, {'number': 14, 'created': '2015-02-05 14:12:58.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d667b6a63e80b2f8d6311c2cf224ba32628eed84', 'message': 'libvirt: Fail when live block migrating instance with volumes\n\nThis raises an exception when attempting to live block migrate (nova\nlive-migration --block-migrate) an instance with attached volumes.\nlibvirt copies these volumes from themselves to themselves. At a\nminimum, this is horribly slow and de-sparses a sparse volume; at\nworst, this could cause massive data corruption.\n\nCloses-Bug: 1398999\nChange-Id: Ibcd423976bb9fea46e3e1cb23cc8e5cd944d8fc2\n'}]",21,139085,d667b6a63e80b2f8d6311c2cf224ba32628eed84,118,18,14,11748,,,0,"libvirt: Fail when live block migrating instance with volumes

This raises an exception when attempting to live block migrate (nova
live-migration --block-migrate) an instance with attached volumes.
libvirt copies these volumes from themselves to themselves. At a
minimum, this is horribly slow and de-sparses a sparse volume; at
worst, this could cause massive data corruption.

Closes-Bug: 1398999
Change-Id: Ibcd423976bb9fea46e3e1cb23cc8e5cd944d8fc2
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/139085/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/compute/test_compute_cells.py', 'nova/compute/api.py']",3,5d1b97a502f7026ba625a1388cef332714651f54,bug/1398999," if block_migration: bdms = objects.BlockDeviceMappingList.get_by_instance_uuid( context, instance['uuid']) if len(bdms): # NOTE(stpierre): if this instance has mapped volumes, # we can't do a block migration, since that will # result in volumes being copied from themselves to # themselves, which is a recipe for disaster. msg = _('Cannot block migrate instance %s ' 'with mapped volumes') % instance['uuid'] LOG.error(msg) raise exception.NovaException(msg) ",,33,1
openstack%2Fnova~master~I2a84813c244be6c9da20d2eba43c668e3034e056,openstack/nova,master,I2a84813c244be6c9da20d2eba43c668e3034e056,Update test_db_api for oslo.db 2.0,MERGED,2015-06-29 16:00:20.000000000,2015-06-30 16:30:30.000000000,2015-06-30 14:57:50.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9107}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15286}, {'_account_id': 16897}]","[{'number': 1, 'created': '2015-06-29 16:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d35b7422d2172fb186b9fc26a440707c76a570e8', 'message': ""Update test_db_api for oslo.db 2.0\n\nThe behaviour of ModelBase.__contains__() changed in oslo.db 2.0: see\nchange If9c3ccc03f1dc9746936b0b83ea132508491e577. The method doesn't\nhide SQLAlchemy exceptions anymore.\n\nUpdate test_instance_extra_get_with_columns() of\nnova.tests.unit.db.test_db_api: it now expects an SQLAlchemy error when\ngetting a deferred column which is not loaded.\n\nChange-Id: I2a84813c244be6c9da20d2eba43c668e3034e056\n""}, {'number': 2, 'created': '2015-06-30 08:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d1d0dff2015e56c56189239832491c2a5e834e5', 'message': ""Update test_db_api for oslo.db 2.0\n\nThe behaviour of ModelBase.__contains__() changed in oslo.db 2.0: see\nchange If9c3ccc03f1dc9746936b0b83ea132508491e577. The method doesn't\nhide SQLAlchemy exceptions anymore.\n\nUpdate test_instance_extra_get_with_columns() of\nnova.tests.unit.db.test_db_api: it now expects an SQLAlchemy error when\ngetting a deferred column which is not loaded.\n\nChange-Id: I2a84813c244be6c9da20d2eba43c668e3034e056\n""}, {'number': 3, 'created': '2015-06-30 08:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b0ba8e507351791327a1fb1a66f5bf7f1abe915', 'message': ""Update test_db_api for oslo.db 2.0\n\nThe behaviour of ModelBase.__contains__() changed in oslo.db 2.0: see\nchange If9c3ccc03f1dc9746936b0b83ea132508491e577. The method doesn't\nhide SQLAlchemy exceptions anymore.\n\nUpdate test_instance_extra_get_with_columns() of\nnova.tests.unit.db.test_db_api: it now expects an SQLAlchemy error when\ngetting a deferred column which is not loaded.\n\nBlock also oslo.versionedobjects 0.5.0 in requirements because this\nversion introduces a regression (bug #1469865).\n\nCloses-Bug: #1469865\nChange-Id: I2a84813c244be6c9da20d2eba43c668e3034e056\n""}, {'number': 4, 'created': '2015-06-30 11:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f062964004ad63ed620fd05dc83944f65008831', 'message': ""Update test_db_api for oslo.db 2.0\n\nThe behaviour of ModelBase.__contains__() changed in oslo.db 2.0: see\nchange If9c3ccc03f1dc9746936b0b83ea132508491e577. The method doesn't\nhide SQLAlchemy exceptions anymore.\n\nUpdate test_instance_extra_get_with_columns() of\nnova.tests.unit.db.test_db_api: it now expects an SQLAlchemy error when\ngetting a deferred column which is not loaded.\n\nBlock also oslo.versionedobjects 0.5.0 in requirements because this\nversion introduces a regression (bug #1469865).\n\nCloses-Bug: #1469865\nChange-Id: I2a84813c244be6c9da20d2eba43c668e3034e056\n""}, {'number': 5, 'created': '2015-06-30 13:34:04.000000000', 'files': ['nova/tests/unit/db/test_db_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9cb24b31680833647a3bb8821e03674b44bda71b', 'message': ""Update test_db_api for oslo.db 2.0\n\nThe behaviour of ModelBase.__contains__() changed in oslo.db 2.0: see\nchange If9c3ccc03f1dc9746936b0b83ea132508491e577. The method doesn't\nhide SQLAlchemy exceptions anymore.\n\nUpdate test_instance_extra_get_with_columns() of\nnova.tests.unit.db.test_db_api: it now expects an SQLAlchemy error when\ngetting a deferred column which is not loaded.\n\nChange-Id: I2a84813c244be6c9da20d2eba43c668e3034e056\n""}]",3,196719,9cb24b31680833647a3bb8821e03674b44bda71b,56,14,5,9107,,,0,"Update test_db_api for oslo.db 2.0

The behaviour of ModelBase.__contains__() changed in oslo.db 2.0: see
change If9c3ccc03f1dc9746936b0b83ea132508491e577. The method doesn't
hide SQLAlchemy exceptions anymore.

Update test_instance_extra_get_with_columns() of
nova.tests.unit.db.test_db_api: it now expects an SQLAlchemy error when
getting a deferred column which is not loaded.

Change-Id: I2a84813c244be6c9da20d2eba43c668e3034e056
",git fetch https://review.opendev.org/openstack/nova refs/changes/19/196719/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/db/test_db_api.py'],1,d35b7422d2172fb186b9fc26a440707c76a570e8,fix_gates,"from sqlalchemy.exc import SQLAlchemyError self.assertRaises(SQLAlchemyError, extra.__getitem__, 'pci_requests')"," # NOTE(haypo): assertNotIn() cannot be used to check if a column is # loaded or not. The attribute is always present. This test should be # updated when oslo.db 1.13 will be released with the fix # If9c3ccc03f1dc9746936b0b83ea132508491e577. # self.assertNotIn('pci_requests', extra)",3,5
openstack%2Fdesignate~master~I91b8f5c526be79a41fd862df9d4bf394375bc006,openstack/designate,master,I91b8f5c526be79a41fd862df9d4bf394375bc006,Add DevStack support for coordination URL,MERGED,2015-06-30 12:19:12.000000000,2015-06-30 16:29:18.000000000,2015-06-30 16:29:15.000000000,"[{'_account_id': 3}, {'_account_id': 8099}, {'_account_id': 8174}]","[{'number': 1, 'created': '2015-06-30 12:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c6716372e7c391054787859c36255518ae513d69', 'message': 'Add DevStack support for coordination URL\n\nChange-Id: I91b8f5c526be79a41fd862df9d4bf394375bc006\n'}, {'number': 2, 'created': '2015-06-30 12:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/7c42fddbd2b2def89a0673fabe1ec1aa1f221483', 'message': 'Add DevStack support for coordination URL\n\nChange-Id: I91b8f5c526be79a41fd862df9d4bf394375bc006\n'}, {'number': 3, 'created': '2015-06-30 13:24:12.000000000', 'files': ['contrib/vagrant/localrc', 'contrib/devstack/lib/designate'], 'web_link': 'https://opendev.org/openstack/designate/commit/20c8dbff73ed65641c4c77140b5bdbed0a53dbf6', 'message': 'Add DevStack support for coordination URL\n\nChange-Id: I91b8f5c526be79a41fd862df9d4bf394375bc006\n'}]",0,197039,20c8dbff73ed65641c4c77140b5bdbed0a53dbf6,10,3,3,741,,,0,"Add DevStack support for coordination URL

Change-Id: I91b8f5c526be79a41fd862df9d4bf394375bc006
",git fetch https://review.opendev.org/openstack/designate refs/changes/39/197039/1 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/vagrant/localrc', 'contrib/devstack/lib/designate']",2,c6716372e7c391054787859c36255518ae513d69,bug/1445127,"DESIGNATE_COORDINATION_URL=${DESIGNATE_COORDINATION_URL:-} # Coordination Configuration if [[ -n ""$DESIGNATE_COORDINATION_URL"" ]]; then iniset $DESIGNATE_CONF coordination backend_url $DESIGNATE_COORDINATION_URL fi ",,9,0
openstack%2Fswift~feature%2Fhummingbird~I3a96ee765846ece770bd9f76a2f409a34b1862c4,openstack/swift,feature/hummingbird,I3a96ee765846ece770bd9f76a2f409a34b1862c4,go: always asynchronous finalize PUT and DELETE,MERGED,2015-06-11 19:58:09.000000000,2015-06-30 16:29:03.000000000,2015-06-30 16:29:02.000000000,"[{'_account_id': 3}, {'_account_id': 995}, {'_account_id': 1009}, {'_account_id': 2828}, {'_account_id': 14711}, {'_account_id': 16218}]","[{'number': 1, 'created': '2015-06-11 19:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7ad200e8c26d119e38982b191aeae0806cf43e59', 'message': 'go: always asynchronous finalize PUT and DELETE\n\nMake container updates, hash dir cleanup, and hash invalidation always\nasynchronous.  fsyncs are always synchronous now- we can revisit that\nlater.\n\nChange-Id: I3a96ee765846ece770bd9f76a2f409a34b1862c4\n'}, {'number': 2, 'created': '2015-06-19 07:36:01.000000000', 'files': ['go/objectserver/main.go', 'go/objectserver/update.go'], 'web_link': 'https://opendev.org/openstack/swift/commit/62a92f7f83d6df3647adf55b421e074a875691ba', 'message': 'go: always asynchronous finalize PUT and DELETE\n\nMake container updates, hash dir cleanup, and hash invalidation always\nasynchronous.  fsyncs are always synchronous now- we can revisit that\nlater.\n\nChange-Id: I3a96ee765846ece770bd9f76a2f409a34b1862c4\n'}]",2,190788,62a92f7f83d6df3647adf55b421e074a875691ba,17,6,2,2828,,,0,"go: always asynchronous finalize PUT and DELETE

Make container updates, hash dir cleanup, and hash invalidation always
asynchronous.  fsyncs are always synchronous now- we can revisit that
later.

Change-Id: I3a96ee765846ece770bd9f76a2f409a34b1862c4
",git fetch https://review.opendev.org/openstack/swift refs/changes/88/190788/2 && git format-patch -1 --stdout FETCH_HEAD,['go/objectserver/main.go'],1,7ad200e8c26d119e38982b191aeae0806cf43e59,asyncfinal," WriteMetadata(tempFile.Fd(), metadata) tempFile.Sync() tempFile.Close() writer.StandardResponse(http.StatusCreated) go func() { }() go UpdateContainer(metadata, request, vars, hashDir) if request.Header.Get(""X-Delete-At"") != """" || request.Header.Get(""X-Delete-After"") != """" { vars[""driveRoot""] = server.driveRoot vars[""hashPathPrefix""] = server.hashPathPrefix vars[""hashPathSuffix""] = server.hashPathSuffix go UpdateDeleteAt(request, vars, hashDir) } headers.Set(""X-Backend-Timestamp"", metadata[""X-Timestamp""]) tempFile.Sync() tempFile.Close() writer.StandardResponse(responseStatus) go func() { }() go UpdateContainer(metadata, request, vars, hashDir) if request.Header.Get(""X-Delete-At"") != """" || request.Header.Get(""X-Delete-After"") != """" { vars[""driveRoot""] = server.driveRoot vars[""hashPathPrefix""] = server.hashPathPrefix vars[""hashPathSuffix""] = server.hashPathSuffix go UpdateDeleteAt(request, vars, hashDir) }"," asyncFinalize bool WriteMetadata(tempFile.Fd(), metadata) if !server.asyncFinalize { // for ""super safe mode"", this should happen before the rename. tempFile.Sync() } finalize := func() { if server.asyncFinalize { // for ""fast, lazy mode"", this can happen after the rename. tempFile.Sync() } tempFile.Close() UpdateContainer(metadata, request, vars, hashDir) if request.Header.Get(""X-Delete-At"") != """" || request.Header.Get(""X-Delete-After"") != """" { vars[""driveRoot""] = server.driveRoot vars[""hashPathPrefix""] = server.hashPathPrefix vars[""hashPathSuffix""] = server.hashPathSuffix UpdateDeleteAt(request, vars, hashDir) } } if server.asyncFinalize { go finalize() } else { finalize() } writer.StandardResponse(http.StatusCreated) if !server.asyncFinalize { tempFile.Sync() } headers.Set(""X-Backend-Timestamp"", metadata[""X-Timestamp""]) finalize := func() { if server.asyncFinalize { tempFile.Sync() } tempFile.Close() UpdateContainer(metadata, request, vars, hashDir) if request.Header.Get(""X-Delete-At"") != """" || request.Header.Get(""X-Delete-After"") != """" { vars[""driveRoot""] = server.driveRoot vars[""hashPathPrefix""] = server.hashPathPrefix vars[""hashPathSuffix""] = server.hashPathSuffix UpdateDeleteAt(request, vars, hashDir) } } if server.asyncFinalize { go finalize() } else { finalize() } writer.StandardResponse(responseStatus) handler.asyncFinalize = serverconf.GetBool(""app:object-server"", ""async_finalize"", false)",27,46
openstack%2Fswift~feature%2Fhummingbird~I7fac62a22a80c9880ca71a6e7561ae185d320a7b,openstack/swift,feature/hummingbird,I7fac62a22a80c9880ca71a6e7561ae185d320a7b,go: add a few unit tests,MERGED,2015-06-23 17:15:18.000000000,2015-06-30 16:27:23.000000000,2015-06-30 16:27:18.000000000,"[{'_account_id': 3}, {'_account_id': 995}, {'_account_id': 1009}, {'_account_id': 16218}]","[{'number': 1, 'created': '2015-06-23 17:15:18.000000000', 'files': ['go/hummingbird/recon_test.go', 'go/hummingbird/xattr.go', 'go/hummingbird/xattr_test.go'], 'web_link': 'https://opendev.org/openstack/swift/commit/86e1dc6115f38b938b2862c9f2a61c6c3dd5419b', 'message': ""go: add a few unit tests\n\nAdd a couple of unit tests.\n\nRename cutils.go to xattr.go, since that's the only thing in there now, and\nit no longer uses C.\n\nChange-Id: I7fac62a22a80c9880ca71a6e7561ae185d320a7b\n""}]",0,194750,86e1dc6115f38b938b2862c9f2a61c6c3dd5419b,9,4,1,2828,,,0,"go: add a few unit tests

Add a couple of unit tests.

Rename cutils.go to xattr.go, since that's the only thing in there now, and
it no longer uses C.

Change-Id: I7fac62a22a80c9880ca71a6e7561ae185d320a7b
",git fetch https://review.opendev.org/openstack/swift refs/changes/50/194750/1 && git format-patch -1 --stdout FETCH_HEAD,"['go/hummingbird/recon_test.go', 'go/hummingbird/xattr.go', 'go/hummingbird/xattr_test.go']",3,86e1dc6115f38b938b2862c9f2a61c6c3dd5419b,moretests,"// Copyright (c) 2015 Rackspace // // Licensed under the Apache License, Version 2.0 (the ""License""); // you may not use this file except in compliance with the License. // You may obtain a copy of the License at // // http://www.apache.org/licenses/LICENSE-2.0 // // Unless required by applicable law or agreed to in writing, software // distributed under the License is distributed on an ""AS IS"" BASIS, // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or // implied. // See the License for the specific language governing permissions and // limitations under the License. package hummingbird import ( ""io/ioutil"" ""os"" ""testing"" ""github.com/stretchr/testify/require"" ) // func FGetXattr(fd uintptr, attr string, value []byte) (int, error) // func FSetXattr(fd uintptr, attr string, value []byte) (int, error) func TestXattr(t *testing.T) { fp, err := ioutil.TempFile("""", """") require.Nil(t, err) defer fp.Close() defer os.RemoveAll(fp.Name()) _, err = FSetXattr(fp.Fd(), ""user.swift.metadata"", []byte(""somevalue"")) require.Nil(t, err) count, err := FGetXattr(fp.Fd(), ""user.swift.metadata"", nil) require.Nil(t, err) value := make([]byte, count) count, err = FGetXattr(fp.Fd(), ""user.swift.metadata"", value) require.Nil(t, err) require.Equal(t, ""somevalue"", string(value)) } ",,94,0
openstack%2Fopenstack-ansible~master~I4fef53baf075c953ac73500e72f9388f7ccfa2a0,openstack/openstack-ansible,master,I4fef53baf075c953ac73500e72f9388f7ccfa2a0,Changed link lineinfile to template,MERGED,2015-06-25 03:10:57.000000000,2015-06-30 16:27:17.000000000,2015-06-30 16:27:14.000000000,"[{'_account_id': 3}, {'_account_id': 425}, {'_account_id': 6816}, {'_account_id': 7307}, {'_account_id': 7353}, {'_account_id': 12000}, {'_account_id': 12807}, {'_account_id': 12892}]","[{'number': 1, 'created': '2015-06-25 03:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/40bb652c1ac4f7fea218d35d98e6d33fdd1fc41e', 'message': 'Changed link lineinfile to template\n\nThis change ensures that all link files created are built from a template\nrather than using the lineinfile module which will result in multiple entries\nper file. While these multiple entries do not break deployments they do create\na slower install / upgrade time.\n\nChange-Id: I4fef53baf075c953ac73500e72f9388f7ccfa2a0\n'}, {'number': 2, 'created': '2015-06-25 03:11:32.000000000', 'files': ['playbooks/roles/pip_lock_down/tasks/main.yml', 'playbooks/roles/pip_lock_down/templates/link_file.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a4179512bc8e3680a5c6e1fb702af18eb62ee841', 'message': 'Changed link lineinfile to template\n\nThis change ensures that all link files created are built from a template\nrather than using the lineinfile module which will result in multiple entries\nper file. While these multiple entries do not break deployments they do create\na slower install / upgrade time.\n\nChange-Id: I4fef53baf075c953ac73500e72f9388f7ccfa2a0\nCloses-Bug: #1468587\n'}]",0,195396,a4179512bc8e3680a5c6e1fb702af18eb62ee841,18,8,2,7353,,,0,"Changed link lineinfile to template

This change ensures that all link files created are built from a template
rather than using the lineinfile module which will result in multiple entries
per file. While these multiple entries do not break deployments they do create
a slower install / upgrade time.

Change-Id: I4fef53baf075c953ac73500e72f9388f7ccfa2a0
Closes-Bug: #1468587
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/96/195396/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/pip_lock_down/tasks/main.yml', 'playbooks/roles/pip_lock_down/templates/link_file.j2']",2,40bb652c1ac4f7fea218d35d98e6d33fdd1fc41e,bug/1468587,{{ item.link }},,6,3
openstack%2Fopenstack-ansible~kilo~I0ce8c3781c6fccb0fd757498222d1dab6124313f,openstack/openstack-ansible,kilo,I0ce8c3781c6fccb0fd757498222d1dab6124313f,Make swift_proxy_vars not a required variable,MERGED,2015-06-29 15:22:36.000000000,2015-06-30 16:26:49.000000000,2015-06-30 16:26:48.000000000,"[{'_account_id': 3}, {'_account_id': 2799}, {'_account_id': 6816}, {'_account_id': 7307}, {'_account_id': 7353}, {'_account_id': 12807}, {'_account_id': 14578}]","[{'number': 1, 'created': '2015-06-29 15:22:36.000000000', 'files': ['playbooks/roles/os_swift/templates/proxy-server.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7697b559ff0e5d3033a6a1cf70d34bd5e412299c', 'message': ""Make swift_proxy_vars not a required variable\n\nThe swift_proxy_vars settings per swift-proxy_hosts entry should not be\na required variable. This patch ensures that if it isn't specified the\nplays will still run as normal.\n\nChange-Id: I0ce8c3781c6fccb0fd757498222d1dab6124313f\nCloses-Bug: #1469134\n(cherry picked from commit 79f3267769cc3b8d0859e89d703b00ad613ae2e9)\n""}]",0,196705,7697b559ff0e5d3033a6a1cf70d34bd5e412299c,12,7,1,7353,,,0,"Make swift_proxy_vars not a required variable

The swift_proxy_vars settings per swift-proxy_hosts entry should not be
a required variable. This patch ensures that if it isn't specified the
plays will still run as normal.

Change-Id: I0ce8c3781c6fccb0fd757498222d1dab6124313f
Closes-Bug: #1469134
(cherry picked from commit 79f3267769cc3b8d0859e89d703b00ad613ae2e9)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/05/196705/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/os_swift/templates/proxy-server.conf.j2'],1,7697b559ff0e5d3033a6a1cf70d34bd5e412299c,,{% if swift_proxy_vars is defined %} {% if swift_proxy_vars.read_affinity is defined %}{% endif %} {% if swift_proxy_vars.write_affinity is defined %}{% if swift_proxy_vars.write_affinity_node_count is defined %}{% endif %},{% if swift_proxy_vars.read_affinity is defined %}{% endif %} {% if swift_proxy_vars.write_affinity is defined %}{% if swift_proxy_vars.write_affinity_node_count is defined %},6,4
openstack%2Fpython-openstackclient~master~I428167297e7110e586d139bf38fd22d321836e80,openstack/python-openstackclient,master,I428167297e7110e586d139bf38fd22d321836e80,Alphabetize tests for v1 qos_specs,MERGED,2015-06-29 21:15:59.000000000,2015-06-30 16:26:24.000000000,2015-06-30 16:26:21.000000000,"[{'_account_id': 3}, {'_account_id': 6482}, {'_account_id': 8736}]","[{'number': 1, 'created': '2015-06-29 21:15:59.000000000', 'files': ['openstackclient/tests/volume/v1/test_qos_specs.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1051a469440b3caeb94a01375c1d5e553acedf4b', 'message': 'Alphabetize tests for v1 qos_specs\n\nAs a follow up of sorting the methods for volume v1\nqos_specs.\n\nChange-Id: I428167297e7110e586d139bf38fd22d321836e80\n'}]",0,196870,1051a469440b3caeb94a01375c1d5e553acedf4b,7,3,1,9061,,,0,"Alphabetize tests for v1 qos_specs

As a follow up of sorting the methods for volume v1
qos_specs.

Change-Id: I428167297e7110e586d139bf38fd22d321836e80
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/70/196870/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/tests/volume/v1/test_qos_specs.py'],1,1051a469440b3caeb94a01375c1d5e553acedf4b,,"class TestQosAssociate(TestQos): def setUp(self): super(TestQosAssociate, self).setUp() # Get the command object to test self.cmd = qos_specs.AssociateQos(self.app, None) def test_qos_associate(self): self.qos_mock.get.return_value = fakes.FakeResource( None, copy.deepcopy(volume_fakes.QOS), loaded=True ) self.types_mock.get.return_value = fakes.FakeResource( None, copy.deepcopy(volume_fakes.TYPE), loaded=True ) arglist = [ volume_fakes.qos_id, volume_fakes.type_id ] verifylist = [ ('qos_specs', volume_fakes.qos_id), ('volume_type', volume_fakes.type_id) ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) self.qos_mock.associate.assert_called_with( volume_fakes.qos_id, volume_fakes.type_id ) class TestQosDisassociate(TestQos): def setUp(self): super(TestQosDisassociate, self).setUp() # Get the command object to test self.cmd = qos_specs.DisassociateQos(self.app, None) def test_qos_disassociate_with_volume_type(self): self.qos_mock.get.return_value = fakes.FakeResource( None, copy.deepcopy(volume_fakes.QOS), loaded=True ) self.types_mock.get.return_value = fakes.FakeResource( None, copy.deepcopy(volume_fakes.TYPE), loaded=True ) arglist = [ volume_fakes.qos_id, '--volume-type', volume_fakes.type_id ] verifylist = [ ('qos_specs', volume_fakes.qos_id), ('volume_type', volume_fakes.type_id) ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) self.qos_mock.disassociate.assert_called_with( volume_fakes.qos_id, volume_fakes.type_id ) def test_qos_disassociate_with_all_volume_types(self): self.qos_mock.get.return_value = fakes.FakeResource( None, copy.deepcopy(volume_fakes.QOS), loaded=True ) arglist = [ volume_fakes.qos_id, '--all' ] verifylist = [ ('qos_specs', volume_fakes.qos_id) ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) self.qos_mock.disassociate_all.assert_called_with(volume_fakes.qos_id) "," class TestQosAssociate(TestQos): def setUp(self): super(TestQosAssociate, self).setUp() # Get the command object to test self.cmd = qos_specs.AssociateQos(self.app, None) def test_qos_associate(self): self.qos_mock.get.return_value = fakes.FakeResource( None, copy.deepcopy(volume_fakes.QOS), loaded=True ) self.types_mock.get.return_value = fakes.FakeResource( None, copy.deepcopy(volume_fakes.TYPE), loaded=True ) arglist = [ volume_fakes.qos_id, volume_fakes.type_id ] verifylist = [ ('qos_specs', volume_fakes.qos_id), ('volume_type', volume_fakes.type_id) ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) self.qos_mock.associate.assert_called_with( volume_fakes.qos_id, volume_fakes.type_id ) class TestQosDisassociate(TestQos): def setUp(self): super(TestQosDisassociate, self).setUp() # Get the command object to test self.cmd = qos_specs.DisassociateQos(self.app, None) def test_qos_disassociate_with_volume_type(self): self.qos_mock.get.return_value = fakes.FakeResource( None, copy.deepcopy(volume_fakes.QOS), loaded=True ) self.types_mock.get.return_value = fakes.FakeResource( None, copy.deepcopy(volume_fakes.TYPE), loaded=True ) arglist = [ volume_fakes.qos_id, '--volume-type', volume_fakes.type_id ] verifylist = [ ('qos_specs', volume_fakes.qos_id), ('volume_type', volume_fakes.type_id) ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) self.qos_mock.disassociate.assert_called_with( volume_fakes.qos_id, volume_fakes.type_id ) def test_qos_disassociate_with_all_volume_types(self): self.qos_mock.get.return_value = fakes.FakeResource( None, copy.deepcopy(volume_fakes.QOS), loaded=True ) arglist = [ volume_fakes.qos_id, '--all' ] verifylist = [ ('qos_specs', volume_fakes.qos_id) ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) self.qos_mock.disassociate_all.assert_called_with(volume_fakes.qos_id)",89,89
openstack%2Fdesignate~master~Ibd6f3c9b76ec5b1d2a67500ee3b1e48e9ef1e53a,openstack/designate,master,Ibd6f3c9b76ec5b1d2a67500ee3b1e48e9ef1e53a,Rename coordination tests to match established naming pattern,MERGED,2015-06-30 12:19:12.000000000,2015-06-30 16:26:15.000000000,2015-06-30 16:26:14.000000000,"[{'_account_id': 3}, {'_account_id': 8099}, {'_account_id': 8174}]","[{'number': 1, 'created': '2015-06-30 12:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/3eb82e7438a77be9771e0c300c9f699fcc18216c', 'message': 'Rename coordination to match established naming pattern\n\nAll current designate tests are named in the pattern:\n\n    Test<Thing>[<Variant>]\n\nChange-Id: Ibd6f3c9b76ec5b1d2a67500ee3b1e48e9ef1e53a\n'}, {'number': 2, 'created': '2015-06-30 12:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/866d109b2f04c136ecaf2a2430a42c586767f0e2', 'message': 'Rename coordination tests to match established naming pattern\n\nAll current designate tests are named in the pattern:\n\n    Test<Thing>[<Variant>]\n\nChange-Id: Ibd6f3c9b76ec5b1d2a67500ee3b1e48e9ef1e53a\n'}, {'number': 3, 'created': '2015-06-30 13:24:12.000000000', 'files': ['designate/tests/test_coordination.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/91f788892e9fc25ef4d823d92e9add4e86b7103e', 'message': 'Rename coordination tests to match established naming pattern\n\nAll current designate tests are named in the pattern:\n\n    Test<Thing>[<Variant>]\n\nChange-Id: Ibd6f3c9b76ec5b1d2a67500ee3b1e48e9ef1e53a\n'}]",0,197038,91f788892e9fc25ef4d823d92e9add4e86b7103e,10,3,3,741,,,0,"Rename coordination tests to match established naming pattern

All current designate tests are named in the pattern:

    Test<Thing>[<Variant>]

Change-Id: Ibd6f3c9b76ec5b1d2a67500ee3b1e48e9ef1e53a
",git fetch https://review.opendev.org/openstack/designate refs/changes/38/197038/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/tests/test_coordination.py'],1,3eb82e7438a77be9771e0c300c9f699fcc18216c,bug/1445127,"class TestCoordinationMixin(TestCase): def setUp(self): super(TestCoordinationMixin, self).setUp()class TestPartitioner(TestCase):class TestPartitionerWithoutBackend(TestCase):","class CoordinationMixinTests(TestCase): def setUp(self): super(CoordinationMixinTests, self).setUp()class PartitionerTests(TestCase):class PartitionerNoCoordinationTests(TestCase):",4,4
openstack%2Fdesignate~master~I32ba3b0141adb999e9ffdc961afc84238c90416e,openstack/designate,master,I32ba3b0141adb999e9ffdc961afc84238c90416e,Silence some DEBUG logs,MERGED,2015-06-30 12:19:12.000000000,2015-06-30 16:26:08.000000000,2015-06-30 16:26:08.000000000,"[{'_account_id': 3}, {'_account_id': 8099}, {'_account_id': 8174}]","[{'number': 1, 'created': '2015-06-30 12:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/448b4522ad75db93079c22ce476f2adc537eae80', 'message': 'Silence some DEBUG logs\n\nChange-Id: I32ba3b0141adb999e9ffdc961afc84238c90416e\n'}, {'number': 2, 'created': '2015-06-30 13:24:12.000000000', 'files': ['designate/__init__.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/ef34b3a313c801f2178d632c3b3479557e16ec7e', 'message': 'Silence some DEBUG logs\n\nChange-Id: I32ba3b0141adb999e9ffdc961afc84238c90416e\n'}]",0,197037,ef34b3a313c801f2178d632c3b3479557e16ec7e,9,3,2,741,,,0,"Silence some DEBUG logs

Change-Id: I32ba3b0141adb999e9ffdc961afc84238c90416e
",git fetch https://review.opendev.org/openstack/designate refs/changes/37/197037/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/__init__.py'],1,448b4522ad75db93079c22ce476f2adc537eae80,bug/1445127," 'kazoo.client=WARN', 'oslo_messaging=WARN', 'oslo_service.loopingcall=WARN',"," 'oslo.messaging=WARN',",3,1
openstack%2Fdesignate~master~I262d4b9aa35b420c9b5f5131c414f7eb4f4fec1a,openstack/designate,master,I262d4b9aa35b420c9b5f5131c414f7eb4f4fec1a,oslo.service triggers shutdown,MERGED,2015-06-30 13:24:12.000000000,2015-06-30 16:26:07.000000000,2015-06-30 16:26:04.000000000,"[{'_account_id': 3}, {'_account_id': 8099}, {'_account_id': 8174}]","[{'number': 1, 'created': '2015-06-30 13:24:12.000000000', 'files': ['designate/service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/dec1d9ae09ddcb245a1e55a66a773eff0cc0f3f0', 'message': 'oslo.service triggers shutdown\n\nAs oslo.service now triggers shutdown, we should remove\nour stop call as this triggers service shutdown code to be\nexecuted twice in a row.\n\nChange-Id: I262d4b9aa35b420c9b5f5131c414f7eb4f4fec1a\n'}]",0,197066,dec1d9ae09ddcb245a1e55a66a773eff0cc0f3f0,7,3,1,741,,,0,"oslo.service triggers shutdown

As oslo.service now triggers shutdown, we should remove
our stop call as this triggers service shutdown code to be
executed twice in a row.

Change-Id: I262d4b9aa35b420c9b5f5131c414f7eb4f4fec1a
",git fetch https://review.opendev.org/openstack/designate refs/changes/66/197066/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/service.py'],1,dec1d9ae09ddcb245a1e55a66a773eff0cc0f3f0,bug/1445127," LOG.debug(""Stopping RPC server on topic '%s'"" % self._rpc_topic) LOG.debug('Caught KeyboardInterrupt, shutting down now')", _launcher.stop(),3,1
openstack%2Fironic~master~I999cd6c91f55ef6b6cb4f553a74d33ff4f5ca3c7,openstack/ironic,master,I999cd6c91f55ef6b6cb4f553a74d33ff4f5ca3c7,"Fix ""boot_mode_support"" hyper link in Installation Guide",MERGED,2015-06-28 23:37:18.000000000,2015-06-30 16:24:25.000000000,2015-06-30 16:24:24.000000000,"[{'_account_id': 3}, {'_account_id': 7711}, {'_account_id': 10239}, {'_account_id': 12356}, {'_account_id': 12459}]","[{'number': 1, 'created': '2015-06-28 23:37:18.000000000', 'files': ['doc/source/deploy/install-guide.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/67c883073c172faf0bd2aab5fcd9b5324bb40077', 'message': 'Fix ""boot_mode_support"" hyper link in Installation Guide\n\nFixed ""boot_mode_support"" hyper link in the section ""PXE UEFI Setup""\nfrom the wrong section ""Configure node web console"" to the correct\nsection ""Boot mode support"" in ""Bare Metal Service Installation\nGuide"".\n\nChange-Id: I999cd6c91f55ef6b6cb4f553a74d33ff4f5ca3c7\n'}]",0,196481,67c883073c172faf0bd2aab5fcd9b5324bb40077,10,5,1,13719,,,0,"Fix ""boot_mode_support"" hyper link in Installation Guide

Fixed ""boot_mode_support"" hyper link in the section ""PXE UEFI Setup""
from the wrong section ""Configure node web console"" to the correct
section ""Boot mode support"" in ""Bare Metal Service Installation
Guide"".

Change-Id: I999cd6c91f55ef6b6cb4f553a74d33ff4f5ca3c7
",git fetch https://review.opendev.org/openstack/ironic refs/changes/81/196481/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/deploy/install-guide.rst'],1,67c883073c172faf0bd2aab5fcd9b5324bb40077,fix-refer-boot_mode_support,.. _boot_mode_support: ,.. _boot_mode_support: ,2,2
openstack%2Fsahara~master~I7c83333be77724cd1864393aed93143162fd48a2,openstack/sahara,master,I7c83333be77724cd1864393aed93143162fd48a2,Fix compatible issues in unit tests for python 3,MERGED,2015-06-04 09:39:23.000000000,2015-06-30 16:24:21.000000000,2015-06-30 16:24:19.000000000,"[{'_account_id': 3}, {'_account_id': 6116}, {'_account_id': 6786}, {'_account_id': 7125}, {'_account_id': 7213}, {'_account_id': 7710}, {'_account_id': 8411}, {'_account_id': 10670}, {'_account_id': 12038}, {'_account_id': 13662}, {'_account_id': 13665}, {'_account_id': 13919}, {'_account_id': 13953}]","[{'number': 1, 'created': '2015-06-04 09:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/5ce0ef39ba5587a7e8ffe350e02a22e6b3af4907', 'message': 'Port unit tests to python 3\n\nChange-Id: I7c83333be77724cd1864393aed93143162fd48a2\n'}, {'number': 2, 'created': '2015-06-04 09:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/ced436ded8b2a44597a08d974d65f1a4af2b0a30', 'message': 'Port unit tests to python 3\n\nChange-Id: I7c83333be77724cd1864393aed93143162fd48a2\n'}, {'number': 3, 'created': '2015-06-15 10:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/132fadac449c9127c01600259dc6a0a1a8df2fb8', 'message': 'Fix compatible issues in unit tests for python 3\n\nChange-Id: I7c83333be77724cd1864393aed93143162fd48a2\n'}, {'number': 4, 'created': '2015-06-23 10:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/a42e4b50d337c9887421ed0f9dcfa8f71941724d', 'message': 'Fix compatible issues in unit tests for python 3\n\nChange-Id: I7c83333be77724cd1864393aed93143162fd48a2\n'}, {'number': 5, 'created': '2015-06-23 10:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/f5173bba8b359661c1d797d779cb74f7500e34c0', 'message': 'Fix compatible issues in unit tests for python 3\n\nChange-Id: I7c83333be77724cd1864393aed93143162fd48a2\n'}, {'number': 6, 'created': '2015-06-29 05:41:17.000000000', 'files': ['sahara/tests/unit/db/templates/test_update.py', 'sahara/utils/files.py', 'sahara/db/templates/api.py', 'sahara/service/edp/job_utils.py', 'sahara/tests/unit/topology/test_topology.py', 'sahara/plugins/mapr/base/base_cluster_context.py', 'sahara/tests/unit/service/edp/test_hdfs_helper.py', 'sahara/exceptions.py', 'sahara/tests/unit/plugins/mapr/test_base_handler.py', 'sahara/utils/edp.py', 'sahara/plugins/mapr/domain/configuration_file.py', 'sahara/plugins/utils.py', 'sahara/tests/unit/utils/openstack/test_base.py', 'sahara/tests/unit/conductor/manager/test_edp.py', 'sahara/utils/openstack/images.py', 'sahara/utils/xmlutils.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/9f371ebab3a2f78f693b5882f20b4963048eaea4', 'message': 'Fix compatible issues in unit tests for python 3\n\nChange-Id: I7c83333be77724cd1864393aed93143162fd48a2\n'}]",13,188323,9f371ebab3a2f78f693b5882f20b4963048eaea4,47,13,6,7710,,,0,"Fix compatible issues in unit tests for python 3

Change-Id: I7c83333be77724cd1864393aed93143162fd48a2
",git fetch https://review.opendev.org/openstack/sahara refs/changes/23/188323/4 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/tests/unit/db/templates/test_update.py', 'sahara/utils/files.py', 'sahara/db/templates/api.py', 'sahara/service/edp/job_utils.py', 'sahara/tests/unit/topology/test_topology.py', 'sahara/plugins/mapr/base/base_cluster_context.py', 'sahara/tests/unit/service/edp/test_hdfs_helper.py', 'sahara/exceptions.py', 'sahara/tests/unit/plugins/mapr/test_base_handler.py', 'sahara/utils/edp.py', 'sahara/plugins/mapr/domain/configuration_file.py', 'sahara/plugins/utils.py', 'sahara/tests/unit/utils/openstack/test_base.py', 'sahara/tests/unit/conductor/manager/test_edp.py', 'sahara/utils/openstack/images.py', 'sahara/utils/xmlutils.py']",16,5ce0ef39ba5587a7e8ffe350e02a22e6b3af4907,fix-byte-tests," for n in sorted(filter(lambda x: x, configs)): add_property_to_configuration(doc, n, configs[n]) for k in sorted(filter(lambda x: x, value)):"," for n in sorted(configs): if n: add_property_to_configuration(doc, n, configs[n]) for k in sorted(value):",42,32
openstack%2Fneutron~master~I53a527081feb78472f496675bbb3c5121d38a14a,openstack/neutron,master,I53a527081feb78472f496675bbb3c5121d38a14a,Fix Consolidate sriov agent and driver code,MERGED,2015-06-28 11:45:19.000000000,2015-06-30 16:23:58.000000000,2015-06-29 23:24:26.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 704}, {'_account_id': 1653}, {'_account_id': 2592}, {'_account_id': 2874}, {'_account_id': 5170}, {'_account_id': 6598}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 12171}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14323}, {'_account_id': 14571}]","[{'number': 1, 'created': '2015-06-28 11:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d04d10436c06d6b6a24b784eef5821cb9eeed3ab', 'message': 'Fix Consolidate sriov agent and driver code\n\nThis patch add mising __init to mech_sriov/mech_driver/\nand update the setup.cfg to the new agent entrypoint\n\nTrivial Fix\n\nChange-Id: I53a527081feb78472f496675bbb3c5121d38a14a\n'}, {'number': 2, 'created': '2015-06-29 20:12:36.000000000', 'files': ['setup.cfg', 'neutron/plugins/ml2/drivers/mech_sriov/mech_driver/__init__.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8123144fadd7c5d5e6e56a76ea860512619a2cf6', 'message': 'Fix Consolidate sriov agent and driver code\n\nThis patch add mising __init to mech_sriov/mech_driver/\nand update the setup.cfg to the new agent entrypoint\n\nTrivial Fix\n\nChange-Id: I53a527081feb78472f496675bbb3c5121d38a14a\n'}]",0,196433,8123144fadd7c5d5e6e56a76ea860512619a2cf6,50,25,2,12171,,,0,"Fix Consolidate sriov agent and driver code

This patch add mising __init to mech_sriov/mech_driver/
and update the setup.cfg to the new agent entrypoint

Trivial Fix

Change-Id: I53a527081feb78472f496675bbb3c5121d38a14a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/33/196433/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'neutron/plugins/ml2/drivers/mech_sriov/mech_driver/__init__.py']",2,d04d10436c06d6b6a24b784eef5821cb9eeed3ab,,,,1,1
openstack%2Fhorizon~master~I738505893359f4798e8ab72bd472005424cd5a42,openstack/horizon,master,I738505893359f4798e8ab72bd472005424cd5a42,Remove current QoS spec in volume type,MERGED,2015-06-19 11:42:46.000000000,2015-06-30 16:18:41.000000000,2015-06-30 16:18:39.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 2455}, {'_account_id': 5623}, {'_account_id': 9981}, {'_account_id': 10442}, {'_account_id': 12826}, {'_account_id': 14107}, {'_account_id': 15168}]","[{'number': 1, 'created': '2015-06-19 11:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/1b32b168b24074690131afb9e7721d6353c8869e', 'message': ""Remove current QoS spec in volume type\n\nIn Volume type's QoS associate form list all QoS specs including current one.\nIf we select the current one again, we are getting form error.\nThis patch removes the current one from the list.\n\nChange-Id: I738505893359f4798e8ab72bd472005424cd5a42\nCloses-Bug: #1466828\n""}, {'number': 2, 'created': '2015-06-29 05:38:47.000000000', 'files': ['openstack_dashboard/dashboards/admin/volumes/volume_types/forms.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/5aa2eb5261bcee06b5eac00386828c2d6cf8babf', 'message': ""Remove current QoS spec in volume type\n\nIn Volume type's QoS associate form list all QoS specs including current one.\nIf we select the current one again, we are getting form error.\nThis patch removes the current one from the list.\n\nChange-Id: I738505893359f4798e8ab72bd472005424cd5a42\nCloses-Bug: #1466828\n""}]",3,193504,5aa2eb5261bcee06b5eac00386828c2d6cf8babf,17,9,2,10442,,,0,"Remove current QoS spec in volume type

In Volume type's QoS associate form list all QoS specs including current one.
If we select the current one again, we are getting form error.
This patch removes the current one from the list.

Change-Id: I738505893359f4798e8ab72bd472005424cd5a42
Closes-Bug: #1466828
",git fetch https://review.opendev.org/openstack/horizon refs/changes/04/193504/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/admin/volumes/volume_types/forms.py'],1,1b32b168b24074690131afb9e7721d6353c8869e,bug/1466828," current_qos_spec = self.initial[""cur_qos_spec_id""] for qos_spec in qos_specs if qos_spec.id != current_qos_spec] if current_qos_spec: # used to remove the current spec qos_spec_list.insert(0, (""-1"", _(""None(removes spec)""))) if qos_spec_list: qos_spec_list.insert(0, ("""", _(""Select a new QoS spec""))) else: qos_spec_list.insert(0, ("""", _(""No new QoS spec available""))) return qos_spec_list"," # pre-select the current qos spec, if exists # if no association exists, the selected entry will be ""None"" # since it is index 0 of the choice box current_qos_spec = self.initial[""cur_qos_spec_id""] if current_qos_spec: qos_spec_field.initial = current_qos_spec for qos_spec in qos_specs] # 'none' is always listed first qos_spec_list.insert(0, (""-1"", _(""None""))) return qos_spec_list def clean_qos_spec_choice(self): # ensure that new association isn't the same as current association cleaned_new_spec_id = self.cleaned_data.get('qos_spec_choice') cur_spec_id = self.initial['cur_qos_spec_id'] found_error = False if cur_spec_id: # new = current if cur_spec_id == cleaned_new_spec_id: found_error = True else: # no current association if cleaned_new_spec_id == '-1': # new = current found_error = True if found_error: raise forms.ValidationError( _('New associated QoS Spec must be different than ' 'the current associated QoS Spec.')) return cleaned_new_spec_id",10,32
openstack%2Fdragonflow~master~Iba77ea20f33cf66d113826482dce1b339969e5a2,openstack/dragonflow,master,Iba77ea20f33cf66d113826482dce1b339969e5a2,remove unused method add_flow,MERGED,2015-06-29 20:32:02.000000000,2015-06-30 16:17:48.000000000,2015-06-30 16:17:48.000000000,"[{'_account_id': 3}, {'_account_id': 588}, {'_account_id': 2023}, {'_account_id': 6854}, {'_account_id': 11343}, {'_account_id': 16853}]","[{'number': 1, 'created': '2015-06-29 20:32:02.000000000', 'files': ['dragonflow/controller/l3_openflow_app.py'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/0679545bf1423b085a39375f88192d1430f0cf00', 'message': 'remove unused method add_flow\n\nChange-Id: Iba77ea20f33cf66d113826482dce1b339969e5a2\n'}]",0,196847,0679545bf1423b085a39375f88192d1430f0cf00,8,6,1,13070,,,0,"remove unused method add_flow

Change-Id: Iba77ea20f33cf66d113826482dce1b339969e5a2
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/47/196847/1 && git format-patch -1 --stdout FETCH_HEAD,['dragonflow/controller/l3_openflow_app.py'],1,0679545bf1423b085a39375f88192d1430f0cf00,mm,," def add_flow(self, datapath, port, dst, actions): ofproto = datapath.ofproto match = datapath.ofproto_parser.OFPMatch(in_port=port, eth_dst=dst) inst = [datapath.ofproto_parser.OFPInstructionActions( ofproto.OFPIT_APPLY_ACTIONS, actions)] mod = datapath.ofproto_parser.OFPFlowMod( datapath=datapath, cookie=0, cookie_mask=0, table_id=0, command=ofproto.OFPFC_ADD, idle_timeout=0, hard_timeout=0, priority=0, buffer_id=ofproto.OFP_NO_BUFFER, out_port=ofproto.OFPP_ANY, out_group=ofproto.OFPG_ANY, flags=0, match=match, instructions=inst) datapath.send_msg(mod) ",0,17
openstack%2Fnetworking-l2gw~master~I772e44bc0f851922241f7446bcca8ba7d2b13bda,openstack/networking-l2gw,master,I772e44bc0f851922241f7446bcca8ba7d2b13bda,L2 Gateway API - initial manifesto,MERGED,2014-12-26 18:57:32.000000000,2015-06-30 16:15:49.000000000,2015-01-13 22:50:27.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 2888}, {'_account_id': 3217}, {'_account_id': 5217}, {'_account_id': 6558}, {'_account_id': 7278}, {'_account_id': 8499}, {'_account_id': 10780}, {'_account_id': 10781}, {'_account_id': 11114}, {'_account_id': 11614}, {'_account_id': 11671}, {'_account_id': 11682}, {'_account_id': 15070}]","[{'number': 1, 'created': '2014-12-26 18:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/f774424ff1cdc1312bfa77994d76b011ce581bd8', 'message': 'Define L2 gateway API\n\nThis blueprint l2gateway describes a solution to extend\noverlay networks into VLANs which are external to the\ncloud environment via a gateway, either software or hardware.\nThe spec proposes a set of APIs that will abstract\na gateway into logical resource(s) and then manage\nthem.\nCo-Authored-By: Isaku Yamahata <yamahata.review@gmail.com>\n                (Launchpad ID - yamahata)\nblueprint: l2gateway\n\nChange-Id: I772e44bc0f851922241f7446bcca8ba7d2b13bda\n'}, {'number': 2, 'created': '2015-01-06 09:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/cc013f98d9131b5c7d71e345d830b6c609afdb26', 'message': 'Define L2 gateway API\n\nThis blueprint l2gateway describes a solution to extend\noverlay networks into VLANs which are external to the\ncloud environment via a gateway, either software or hardware.\nThe spec proposes a set of APIs that will abstract\na gateway into logical resource(s) and then manage\nthem.\nCo-Authored-By: Isaku Yamahata <yamahata.review@gmail.com>\n                (Launchpad ID - yamahata)\nblueprint: l2gateway\n\nChange-Id: I772e44bc0f851922241f7446bcca8ba7d2b13bda\n'}, {'number': 3, 'created': '2015-01-07 00:16:42.000000000', 'files': ['specs/kilo/l2-gateway-api.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/1462b2ef370095ae0a4af53f57f777c1f71ce083', 'message': 'L2 Gateway API - initial manifesto\n\nCapture the API proposal and present the L2 Gateway concepts\nunderpinning the initial implementation of this project.\n\nChange-Id: I772e44bc0f851922241f7446bcca8ba7d2b13bda\n'}]",22,144173,1462b2ef370095ae0a4af53f57f777c1f71ce083,33,15,3,10780,,,0,"L2 Gateway API - initial manifesto

Capture the API proposal and present the L2 Gateway concepts
underpinning the initial implementation of this project.

Change-Id: I772e44bc0f851922241f7446bcca8ba7d2b13bda
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/73/144173/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/kilo/l2-gateway-api.rst', 'specs/kilo/example.rst', 'specs/template.rst', 'specs/skeleton.rst']",4,f774424ff1cdc1312bfa77994d76b011ce581bd8,bp/l2gateway,.. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Title of your blueprint ========================================== Problem description =================== Proposed change =============== Alternatives ------------ Data model impact ----------------- REST API impact --------------- Security impact --------------- Notifications impact -------------------- Other end user impact --------------------- Performance Impact ------------------ IPv6 impact ----------- Other deployer impact --------------------- Developer impact ---------------- Implementation ============== Assignee(s) ----------- Work Items ---------- Dependencies ============ Testing ======= Documentation Impact ==================== References ========== ,,1459,0
openstack%2Fpython-ironicclient~master~I80b7540052f4b3445cef374af8a13da39e5470a4,openstack/python-ironicclient,master,I80b7540052f4b3445cef374af8a13da39e5470a4,Updated from global requirements,MERGED,2015-06-29 20:33:49.000000000,2015-06-30 16:14:39.000000000,2015-06-30 16:14:37.000000000,"[{'_account_id': 3}, {'_account_id': 10239}]","[{'number': 1, 'created': '2015-06-29 20:33:49.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/53bf34e491f9903461828103d92a86d952a9a8d4', 'message': 'Updated from global requirements\n\nChange-Id: I80b7540052f4b3445cef374af8a13da39e5470a4\n'}]",0,196849,53bf34e491f9903461828103d92a86d952a9a8d4,7,2,1,11131,,,0,"Updated from global requirements

Change-Id: I80b7540052f4b3445cef374af8a13da39e5470a4
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/49/196849/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,53bf34e491f9903461828103d92a86d952a9a8d4,openstack/requirements,appdirs>=1.3.0 # MIT License,appdirs>=1.3.0,1,1
openstack%2Fdesignate~master~Ie87f500aef53c07d7a1726a84076dfac8eab26e7,openstack/designate,master,Ie87f500aef53c07d7a1726a84076dfac8eab26e7,Standardize API service launcher,MERGED,2015-06-30 13:57:56.000000000,2015-06-30 16:14:03.000000000,2015-06-30 16:14:01.000000000,"[{'_account_id': 3}, {'_account_id': 8099}, {'_account_id': 8174}]","[{'number': 1, 'created': '2015-06-30 13:57:56.000000000', 'files': ['designate/cmd/api.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/85cc8ea08dc1e2ff03bc18c2a38cf96f8868ccb1', 'message': 'Standardize API service launcher\n\nThe API service was using a needlessly different pattern\nfor launching the service. This change updates it to use\nthe same pattern as all the other services.\n\nChange-Id: Ie87f500aef53c07d7a1726a84076dfac8eab26e7\n'}]",0,197089,85cc8ea08dc1e2ff03bc18c2a38cf96f8868ccb1,7,3,1,741,,,0,"Standardize API service launcher

The API service was using a needlessly different pattern
for launching the service. This change updates it to use
the same pattern as all the other services.

Change-Id: Ie87f500aef53c07d7a1726a84076dfac8eab26e7
",git fetch https://review.opendev.org/openstack/designate refs/changes/89/197089/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/cmd/api.py'],1,85cc8ea08dc1e2ff03bc18c2a38cf96f8868ccb1,oslo-service,"from designate import service service.serve(server, workers=CONF['service:api'].workers) service.wait()","from oslo_service import service launcher = service.launch(CONF, server, CONF['service:api'].workers) launcher.wait()",3,3
openstack%2Foslo.cache~master~I823d9cddd63080654d51b6f9d04f0e7c2b657fc1,openstack/oslo.cache,master,I823d9cddd63080654d51b6f9d04f0e7c2b657fc1,Cleanup exceptions,MERGED,2015-06-28 23:07:34.000000000,2015-06-30 16:09:45.000000000,2015-06-30 16:09:42.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6482}]","[{'number': 1, 'created': '2015-06-28 23:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/36aadfe220f38010872feb11676010f26ba109e3', 'message': 'Cleanup exceptions\n\nThe exceptions were not appropriate for a library.\n\nChange-Id: I823d9cddd63080654d51b6f9d04f0e7c2b657fc1\n'}, {'number': 2, 'created': '2015-06-29 14:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/7e230c464be0b7858a6c6a976a62b3e70e07c262', 'message': 'Cleanup exceptions\n\nThe exceptions were not appropriate for a library.\n\nChange-Id: I823d9cddd63080654d51b6f9d04f0e7c2b657fc1\n'}, {'number': 3, 'created': '2015-06-29 18:13:32.000000000', 'files': ['oslo_cache/backends/mongo.py', 'oslo_cache/tests/test_cache.py', 'oslo_cache/tests/test_cache_backend_mongo.py', 'oslo_cache/core.py', 'oslo_cache/_memcache_pool.py', 'oslo_cache/exception.py', 'oslo_cache/tests/test_connection_pool.py'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/773e7be0082c6bc657877ef87a1229bd6bb1b2c8', 'message': 'Cleanup exceptions\n\nThe exceptions were not appropriate for a library.\n\nCloses-Bug: 1469832\nChange-Id: I823d9cddd63080654d51b6f9d04f0e7c2b657fc1\n'}]",0,196478,773e7be0082c6bc657877ef87a1229bd6bb1b2c8,14,3,3,6486,,,0,"Cleanup exceptions

The exceptions were not appropriate for a library.

Closes-Bug: 1469832
Change-Id: I823d9cddd63080654d51b6f9d04f0e7c2b657fc1
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/78/196478/3 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_cache/backends/mongo.py', 'oslo_cache/tests/test_cache.py', 'oslo_cache/tests/test_cache_backend_mongo.py', 'oslo_cache/core.py', 'oslo_cache/exception.py']",5,36aadfe220f38010872feb11676010f26ba109e3,bug/1469832," class ConfigurationError(Exception): """"""Raised when the cache isn't configured correctly.""""""","import logging as log from oslo_config import cfg from oslo_utils import encodeutils import six from oslo_cache._i18n import _, _LW CONF = cfg.CONF LOG = log.getLogger(__name__) # Tests use this to make exception message format errors fatal _FATAL_EXCEPTION_FORMAT_ERRORS = False class Error(Exception): """"""Base error class. Child classes should define an HTTP status code, title, and a message_format. """""" code = None title = None message_format = None def __init__(self, message=None, **kwargs): try: message = self._build_message(message, **kwargs) except KeyError: # if you see this warning in your logs, please raise a bug report if _FATAL_EXCEPTION_FORMAT_ERRORS: raise else: LOG.warning(_LW('missing exception kwargs (programmer error)')) message = self.message_format super(Error, self).__init__(message) def _build_message(self, message, **kwargs): """"""Builds and returns an exception message. :raises: KeyError given insufficient kwargs """""" if not message: try: message = self.message_format % kwargs except UnicodeDecodeError: try: kwargs = {k: encodeutils.safe_decode(v) for k, v in six.iteritems(kwargs)} except UnicodeDecodeError: # NOTE(jamielennox): This is the complete failure case # at least by showing the template we have some idea # of where the error is coming from message = self.message_format else: message = self.message_format % kwargs return message class ValidationError(Error): message_format = _(""Expecting to find %(attribute)s in %(target)s -"" "" the server could not comply with the request"" "" since it is either malformed or otherwise"" "" incorrect. The client is assumed to be in error."") code = 400 title = 'Bad Request' class NotImplemented(Error): message_format = _(""The action you have requested has not"" "" been implemented."") code = 501 title = 'Not Implemented'",21,96
openstack%2Fapi-site~master~I42827c4fc81aa71e48ddfb78791fbf94b687b705,openstack/api-site,master,I42827c4fc81aa71e48ddfb78791fbf94b687b705,"Update language for create, grant, and revoke operations",MERGED,2015-06-12 13:36:50.000000000,2015-06-30 16:07:21.000000000,2015-06-30 16:07:20.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 964}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-06-12 13:36:50.000000000', 'files': ['api-ref/src/wadls/identity-api/src/v2.0/wadl/OS-KSCATALOG-admin.wadl', 'api-ref/src/wadls/identity-api/src/v2.0/wadl/identity-admin.wadl', 'api-ref/src/wadls/identity-api/src/v3/wadl/identity-admin-v3.wadl', 'api-ref/src/wadls/identity-api/src/v2.0/wadl/OS-KSS3-admin.wadl', 'api-ref/src/docbkx/ch_identity-v3.xml', 'api-ref/src/wadls/identity-api/src/v2.0/wadl/OS-KSEC2-admin.wadl', 'api-ref/src/wadls/identity-api/src/v2.0/wadl/OS-KSADM-admin.wadl'], 'web_link': 'https://opendev.org/openstack/api-site/commit/1a519306703d783900cf71217cf2d908537c43a2', 'message': 'Update language for create, grant, and revoke operations\n\nPreviously, ""add"" and ""delete"" was used for these operations\n\nChange-Id: I42827c4fc81aa71e48ddfb78791fbf94b687b705\n'}]",0,191070,1a519306703d783900cf71217cf2d908537c43a2,11,4,1,2448,,,0,"Update language for create, grant, and revoke operations

Previously, ""add"" and ""delete"" was used for these operations

Change-Id: I42827c4fc81aa71e48ddfb78791fbf94b687b705
",git fetch https://review.opendev.org/openstack/api-site refs/changes/70/191070/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/src/wadls/identity-api/src/v2.0/wadl/OS-KSCATALOG-admin.wadl', 'api-ref/src/wadls/identity-api/src/v2.0/wadl/identity-admin.wadl', 'api-ref/src/wadls/identity-api/src/v2.0/wadl/OS-KSS3-admin.wadl', 'api-ref/src/wadls/identity-api/src/v3/wadl/identity-admin-v3.wadl', 'api-ref/src/docbkx/ch_identity-v3.xml', 'api-ref/src/wadls/identity-api/src/v2.0/wadl/OS-KSEC2-admin.wadl', 'api-ref/src/wadls/identity-api/src/v2.0/wadl/OS-KSADM-admin.wadl']",7,1a519306703d783900cf71217cf2d908537c43a2,fix-identity-descriptions," <method href=""#createUser""/> role that you want to create or <method href=""#grantGlobalRoleToUser""/> <method href=""#revokeGlobalRoleFromUser""/> <method href=""#createTenant""/> href=""#grantRoleToUserOnTenant""/> href=""#revokeRoleFromUserOnTenant"" <method href=""#createRole""/> <method href=""#createService""/> <method name=""POST"" id=""createTenant""> title=""Create tenant""> <para role=""shortdesc""> Updates a tenant.</para> <method name=""PUT"" id=""grantRoleToUserOnTenant""> title=""Grant roles to user on tenant""> <para role=""shortdesc"">Grants a specified role to a user for <method name=""DELETE"" id=""revokeRoleFromUserOnTenant""> title=""Revoke role from user on tenant""> <para role=""shortdesc"">Revokes a specified role from a <method name=""POST"" id=""createUser""> <wadl:doc xml:lang=""EN"" title=""Create user"" <para role=""shortdesc"">Creates a user.</para> <method name=""PUT"" id=""grantGlobalRoleToUser""> title=""Grant global role to user""> <para role=""shortdesc"">Grants a specified global role to a <method name=""DELETE"" id=""revokeGlobalRoleFromUser""> <para role=""shortdesc"">Deletes a specified global role from <method name=""POST"" id=""createRole""> title=""Create role""> <para role=""shortdesc"">Creates a role.</para> <method name=""POST"" id=""createService""> title=""Create service""> <para role=""shortdesc"">Creates a service.</para>"," <method href=""#addUser""/> role that you want to add or <method href=""#addUserRole""/> <method href=""#deleteUserRole""/> <method href=""#addTenant""/> href=""#addRolesToUserOnTenant""/> href=""#deleteRoleFromUserOnTenant"" <method href=""#addRole""/> <method href=""#addService""/> <method name=""POST"" id=""addTenant""> title=""Add tenant""> <para role=""shortdesc""> Updates a tenant.</para> <method name=""PUT"" id=""addRolesToUserOnTenant""> title=""Add roles to user on tenant""> <para role=""shortdesc"">Adds a specified role to a user for <method name=""DELETE"" id=""deleteRoleFromUserOnTenant""> title=""Delete roles from user on tenant""> <para role=""shortdesc"">Deletes a specified role from a <method name=""POST"" id=""addUser""> <wadl:doc xml:lang=""EN"" title=""Add user"" <para role=""shortdesc"">Adds a user.</para> <method name=""PUT"" id=""addUserRole""> title=""Add global role to user""> <para role=""shortdesc"">Adds a specific global role to a <method name=""DELETE"" id=""deleteUserRole""> <para role=""shortdesc"">Deletes a specific global role from <method name=""POST"" id=""addRole""> title=""Add role""> <para role=""shortdesc"">Adds a role.</para> <method name=""POST"" id=""addService""> title=""Add service""> <para role=""shortdesc"">Adds a service.</para>",104,97
openstack%2Fironic~master~I63edf0670bf17929491f6a27fc88dd440272817a,openstack/ironic,master,I63edf0670bf17929491f6a27fc88dd440272817a,Add IPMI 1.5 support for the ipmitool power driver,MERGED,2015-06-24 15:55:09.000000000,2015-06-30 16:06:46.000000000,2015-06-29 11:58:49.000000000,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 6618}, {'_account_id': 6773}, {'_account_id': 7711}, {'_account_id': 9315}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 12081}, {'_account_id': 13719}]","[{'number': 1, 'created': '2015-06-24 15:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fb0c86fcd2e858c9f5c1d780af1c6f8a579746f9', 'message': 'Add IPMI 1.5 support for the ipmitool power driver\n\nAdds support for using IPMI 1.5 with the ipmitool power driver. The patch\nis adding a new parameter that can be set in the node\'s driver_info called\n""ipmi_protocol_version"", this parameter supports two values ""1.5"" and\n""2.0"". By default ""2.0"" is selected.\n\nCloses-Bug: #1468378\nChange-Id: I63edf0670bf17929491f6a27fc88dd440272817a\n'}, {'number': 2, 'created': '2015-06-25 09:55:09.000000000', 'files': ['ironic/tests/drivers/test_ipmitool.py', 'ironic/tests/conductor/test_manager.py', 'ironic/drivers/modules/ipmitool.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f0e9bc63aa903a792a05eaca7059967522c6c887', 'message': 'Add IPMI 1.5 support for the ipmitool power driver\n\nAdds support for using IPMI 1.5 with the ipmitool power driver. The patch\nis adding a new parameter that can be set in the node\'s driver_info called\n""ipmi_protocol_version"", this parameter supports two values ""1.5"" and\n""2.0"". By default ""2.0"" is selected.\n\nCloses-Bug: #1468378\nChange-Id: I63edf0670bf17929491f6a27fc88dd440272817a\n'}]",11,195157,f0e9bc63aa903a792a05eaca7059967522c6c887,32,10,2,6773,,,0,"Add IPMI 1.5 support for the ipmitool power driver

Adds support for using IPMI 1.5 with the ipmitool power driver. The patch
is adding a new parameter that can be set in the node's driver_info called
""ipmi_protocol_version"", this parameter supports two values ""1.5"" and
""2.0"". By default ""2.0"" is selected.

Closes-Bug: #1468378
Change-Id: I63edf0670bf17929491f6a27fc88dd440272817a
",git fetch https://review.opendev.org/openstack/ironic refs/changes/57/195157/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/drivers/test_ipmitool.py', 'ironic/drivers/modules/ipmitool.py']",2,fb0c86fcd2e858c9f5c1d780af1c6f8a579746f9,bug/1468378,"VALID_PROTO_VERSION = ('2.0', '1.5') protocol_version = info.get('ipmi_protocol_version', '2.0') if protocol_version not in VALID_PROTO_VERSION: valid_versions = ', '.join(VALID_PROTO_VERSION) raise exception.InvalidParameterValue(_( ""Invalid IPMI protocol version value %(version)s, the valid "" ""value can be one of %(valid_versions)s"") % {'version': protocol_version, 'valid_versions': valid_versions}) 'target_address': target_address, 'protocol_version': protocol_version ipmi_version = ('lanplus' if driver_info['protocol_version'] == '2.0' else 'lan') ipmi_version,"," 'target_address': target_address This uses the lanplus interface to communicate with the BMC device driver. 'lanplus',",54,4
openstack%2Foslo.service~master~I126523989585d0e348597c50f143b2c852cd7c94,openstack/oslo.service,master,I126523989585d0e348597c50f143b2c852cd7c94,Add greenlet to requirements,MERGED,2015-06-26 01:57:44.000000000,2015-06-30 16:05:27.000000000,2015-06-30 16:05:26.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 7293}, {'_account_id': 8911}]","[{'number': 1, 'created': '2015-06-26 01:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/08f85aa8c0261d84614e2ac247595ae7c9e6eca8', 'message': 'Add greenlet to requirements\n\nRunning ""pip-missing-reqs"" tox target showed these references\nin our code. Since we refer to them directly, we should add\nthem to our requirements.\n\nChange-Id: I126523989585d0e348597c50f143b2c852cd7c94\n'}, {'number': 2, 'created': '2015-06-26 11:33:49.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/42c7275259a06ceb71251e94db09b0991a92bf27', 'message': 'Add greenlet to requirements\n\nRunning ""pip-missing-reqs"" tox target showed these references\nin our code. Since we refer to them directly, we should add\nthem to our requirements.\n\nChange-Id: I126523989585d0e348597c50f143b2c852cd7c94\n'}]",0,195835,42c7275259a06ceb71251e94db09b0991a92bf27,16,4,2,5638,,,0,"Add greenlet to requirements

Running ""pip-missing-reqs"" tox target showed these references
in our code. Since we refer to them directly, we should add
them to our requirements.

Change-Id: I126523989585d0e348597c50f143b2c852cd7c94
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/35/195835/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,08f85aa8c0261d84614e2ac247595ae7c9e6eca8,pip-missing-reqs,greenlet>=0.3.2,,1,0
openstack%2Foslo.service~master~I230b4ae8910e660f6488d980597e0777e6f0bd1f,openstack/oslo.service,master,I230b4ae8910e660f6488d980597e0777e6f0bd1f,Add tox target to find missing requirements,MERGED,2015-06-26 01:43:12.000000000,2015-06-30 16:05:24.000000000,2015-06-30 16:05:21.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 5638}, {'_account_id': 7293}]","[{'number': 1, 'created': '2015-06-26 01:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/f8bf0ba889f78c42214c07089ce0b2a584575cb6', 'message': 'Add tox target to find missing requirements\n\nChange-Id: I230b4ae8910e660f6488d980597e0777e6f0bd1f\n'}, {'number': 2, 'created': '2015-06-26 11:33:49.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/0c9b7ae35c7695e427e76c502fe3471b927b6791', 'message': 'Add tox target to find missing requirements\n\nChange-Id: I230b4ae8910e660f6488d980597e0777e6f0bd1f\n'}]",3,195829,0c9b7ae35c7695e427e76c502fe3471b927b6791,16,4,2,5638,,,0,"Add tox target to find missing requirements

Change-Id: I230b4ae8910e660f6488d980597e0777e6f0bd1f
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/29/195829/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f8bf0ba889f78c42214c07089ce0b2a584575cb6,pip-missing-reqs," [testenv:pip-missing-reqs] # do not install test-requirements as that will pollute the virtualenv for # determining missing packages # this also means that pip-missing-reqs must be installed separately, outside # of the requirements.txt files deps = pip_missing_reqs -rrequirements.txt commands = pip-missing-reqs -d --ignore-module=oslo_service* --ignore-module=pkg_resources --ignore-file=oslo_service/tests/* oslo_service",,9,0
openstack%2Fnova~master~I9977eadb6dc1f201b4b1747bb71a55e02dfdd10b,openstack/nova,master,I9977eadb6dc1f201b4b1747bb71a55e02dfdd10b,Store correct VirtCPUTopology,ABANDONED,2015-06-30 15:08:30.000000000,2015-06-30 16:05:21.000000000,,"[{'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-06-30 15:08:30.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/hardware.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d2c1beb88fc096668db22f17170f7eb09aaf9de6', 'message': 'Store correct VirtCPUTopology\n\nWhen booting a NUMA-enabled instance, the scheduler generates and\nstores a meaningless VirtCPUTopology as part of the InstanceNumaCell\nobjects. A correct value is later generated and used in libvirt XML\ngeneration but this is not stored. Fix this by skipping the initial\ngeneration and storing of the VirtCPUTopology in favour of storing\nthe correctly generated version.\n\nChange-Id: I9977eadb6dc1f201b4b1747bb71a55e02dfdd10b\nCloses-bug: #1466780\n'}]",0,197129,d2c1beb88fc096668db22f17170f7eb09aaf9de6,4,2,1,15334,,,0,"Store correct VirtCPUTopology

When booting a NUMA-enabled instance, the scheduler generates and
stores a meaningless VirtCPUTopology as part of the InstanceNumaCell
objects. A correct value is later generated and used in libvirt XML
generation but this is not stored. Fix this by skipping the initial
generation and storing of the VirtCPUTopology in favour of storing
the correctly generated version.

Change-Id: I9977eadb6dc1f201b4b1747bb71a55e02dfdd10b
Closes-bug: #1466780
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/197129/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/hardware.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,d2c1beb88fc096668db22f17170f7eb09aaf9de6,bug/1466780," @mock.patch.object(host.Host, ""has_min_version"", return_value=True) def test_get_guest_cpu_config_numa_topology(self, mock_has_min_version): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) instance_ref = objects.Instance(**self.test_instance) instance_ref.flavor.vcpus = 2 instance_ref.numa_topology = objects.InstanceNUMATopology(cells=[ objects.InstanceNUMACell( id=0, cpuset=set([0, 1]), memory=1024, cpu_pinning={})]) image_meta = {} disk_info = blockinfo.get_disk_info(CONF.libvirt.virt_type, instance_ref, image_meta) self.assertIsNone(instance_ref.numa_topology.cells[0].cpu_topology) conf = drvr._get_guest_config(instance_ref, _fake_network_info(self.stubs, 1), {}, disk_info) topo = instance_ref.numa_topology.cells[0].cpu_topology self.assertIsNotNone(topo) self.assertEqual(topo.cores * topo.sockets * topo.threads, instance_ref.flavor.vcpus) ",,32,0
openstack%2Fsenlin~master~I709c2e3283a699c67b75dfd8622fef09cbd49751,openstack/senlin,master,I709c2e3283a699c67b75dfd8622fef09cbd49751,Catch unexpected exception happened during action execution,MERGED,2015-06-30 05:55:16.000000000,2015-06-30 16:03:29.000000000,2015-06-30 16:03:27.000000000,"[{'_account_id': 3}, {'_account_id': 8246}, {'_account_id': 11034}]","[{'number': 1, 'created': '2015-06-30 05:55:16.000000000', 'files': ['senlin/engine/actions/base.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/a6e5e93547a942f5fe13d532525f50d9e5ab633f', 'message': 'Catch unexpected exception happened during action execution\n\nSometimes, unexpected exceptions could happened during action\nexecution. If these exceptions are not caught and handled\ncorrectly, the normal progress of action execution will be\nbroken and the execution result and reason will not be returned\nto ActionProc. In this case, other action who depends on this\naction will never get the chance to finish its wait_for_dependent\nprogress and will hang there forever. This patch added exception\ncatching and handling logic in action based to resolve this problem.\n\nChange-Id: I709c2e3283a699c67b75dfd8622fef09cbd49751\nCloses-Bug: #1469956\n'}]",0,196954,a6e5e93547a942f5fe13d532525f50d9e5ab633f,11,3,1,11034,,,0,"Catch unexpected exception happened during action execution

Sometimes, unexpected exceptions could happened during action
execution. If these exceptions are not caught and handled
correctly, the normal progress of action execution will be
broken and the execution result and reason will not be returned
to ActionProc. In this case, other action who depends on this
action will never get the chance to finish its wait_for_dependent
progress and will hang there forever. This patch added exception
catching and handling logic in action based to resolve this problem.

Change-Id: I709c2e3283a699c67b75dfd8622fef09cbd49751
Closes-Bug: #1469956
",git fetch https://review.opendev.org/openstack/senlin refs/changes/54/196954/1 && git format-patch -1 --stdout FETCH_HEAD,['senlin/engine/actions/base.py'],1,a6e5e93547a942f5fe13d532525f50d9e5ab633f,bug/1469956," except Exception as ex: result = action.RES_ERROR reason = six.text_type(ex) LOG.error(_('Unexpected exception occurred during %(action)s action ' '%(id)s execution: %(reason)s'), {'action': action.action, 'id': action.id, 'reason': reason})"," # NOTE: The following exception report is not giving useful # information for some reasons. # except Exception as ex: # result = action.RES_ERROR # reason = six.text_type(ex) # LOG.error(_('Exception occurred in action execution[%(action)s]: ' # '%(reason)s'), {'action': action.action, # 'reason': reason})",7,8
openstack%2Foslo.cache~master~I0af007787269b7a37eeda9252d43c2f57c9cd694,openstack/oslo.cache,master,I0af007787269b7a37eeda9252d43c2f57c9cd694,Remove unnecessary file,MERGED,2015-06-29 12:05:22.000000000,2015-06-30 16:02:43.000000000,2015-06-30 16:02:40.000000000,"[{'_account_id': 3}, {'_account_id': 6482}, {'_account_id': 6486}]","[{'number': 1, 'created': '2015-06-29 12:05:22.000000000', 'files': ['dev-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/78c78a9de58e6fa382d43c761430902d1b0d47c5', 'message': 'Remove unnecessary file\n\nChange-Id: I0af007787269b7a37eeda9252d43c2f57c9cd694\n'}]",0,196636,78c78a9de58e6fa382d43c761430902d1b0d47c5,7,3,1,5638,,,0,"Remove unnecessary file

Change-Id: I0af007787269b7a37eeda9252d43c2f57c9cd694
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/36/196636/1 && git format-patch -1 --stdout FETCH_HEAD,['dev-requirements.txt'],1,78c78a9de58e6fa382d43c761430902d1b0d47c5,,,"# Need to install tox but it is not valid in the global requirements, # even though the gate has it installed. Install it here along with # test reqs and the main package as editable. -e . -r test-requirements.txt tox ",0,8
openstack%2Fproject-config~master~I5c0282329bc140483a3339a2124bb7c8b7553fc1,openstack/project-config,master,I5c0282329bc140483a3339a2124bb7c8b7553fc1,Correct project name for django_openstack_auth,MERGED,2015-06-30 07:00:25.000000000,2015-06-30 16:00:12.000000000,2015-06-30 16:00:11.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 6786}]","[{'number': 1, 'created': '2015-06-30 07:00:25.000000000', 'files': ['jenkins/scripts/populate-zanata-project.sh'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5dc236598cfa184d730838a7627d993e4db3f9dd', 'message': 'Correct project name for django_openstack_auth\n\nChange Ic5c28f4ed238314d82919a7e6eb8fe64b804a220 landed with the\nincorrect project name in the population script, pull out a brown\npaper bag and correct it.\n\nChange-Id: I5c0282329bc140483a3339a2124bb7c8b7553fc1\n'}]",0,196962,5dc236598cfa184d730838a7627d993e4db3f9dd,8,3,1,9369,,,0,"Correct project name for django_openstack_auth

Change Ic5c28f4ed238314d82919a7e6eb8fe64b804a220 landed with the
incorrect project name in the population script, pull out a brown
paper bag and correct it.

Change-Id: I5c0282329bc140483a3339a2124bb7c8b7553fc1
",git fetch https://review.opendev.org/openstack/project-config refs/changes/62/196962/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/scripts/populate-zanata-project.sh'],1,5dc236598cfa184d730838a7627d993e4db3f9dd,zanata, django_openstack_auth), django-openstack-auth),1,1
openstack%2Ffuel-astute~master~If9f6dd9f35bdb6550dcaeda54148997918a99bbd,openstack/fuel-astute,master,If9f6dd9f35bdb6550dcaeda54148997918a99bbd,"Revert ""Ruby %name must be changed to satisfy renamed pkg.""",ABANDONED,2015-04-29 17:10:50.000000000,2015-06-30 16:00:08.000000000,,"[{'_account_id': 3}, {'_account_id': 8749}, {'_account_id': 8776}, {'_account_id': 8777}, {'_account_id': 8971}]","[{'number': 1, 'created': '2015-04-29 17:10:50.000000000', 'files': ['specs/astute.spec'], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/df563ef380a061a62f7df72491e31dbdc81383dd', 'message': 'Revert ""Ruby %name must be changed to satisfy renamed pkg.""\n\nThis reverts commit 6775341add9d693f197981ad96121125c4dbcc65.\n\nChange-Id: If9f6dd9f35bdb6550dcaeda54148997918a99bbd\n'}]",0,178767,df563ef380a061a62f7df72491e31dbdc81383dd,7,5,1,8777,,,0,"Revert ""Ruby %name must be changed to satisfy renamed pkg.""

This reverts commit 6775341add9d693f197981ad96121125c4dbcc65.

Change-Id: If9f6dd9f35bdb6550dcaeda54148997918a99bbd
",git fetch https://review.opendev.org/openstack/fuel-astute refs/changes/67/178767/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/astute.spec'],1,df563ef380a061a62f7df72491e31dbdc81383dd,,Requires: ruby >= 2.1BuildRequires: ruby >= 2.1,Requires: ruby21 >= 2.1BuildRequires: ruby21 >= 2.1,2,2
openstack%2Fproject-config~master~I8ddcf18f3fd2549ee0d948041bb62da7f669e76b,openstack/project-config,master,I8ddcf18f3fd2549ee0d948041bb62da7f669e76b,Change Zanata project for django_openstack_auth,MERGED,2015-06-30 07:05:11.000000000,2015-06-30 15:58:51.000000000,2015-06-30 15:58:49.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 6786}]","[{'number': 1, 'created': '2015-06-30 07:05:11.000000000', 'files': ['jenkins/scripts/common_translation_update.sh'], 'web_link': 'https://opendev.org/openstack/project-config/commit/7222ffe07b056b3ea5c7042164f73dfa569bd04a', 'message': 'Change Zanata project for django_openstack_auth\n\nIt turns out that Zanata can not share a project like Transifex\ndoes, the client gets all jealous and removes all other translation\nfiles when you push the second project. To that end, change the\nproject of django_openstack_auth to its own name rather than horizon.\n\nChange-Id: I8ddcf18f3fd2549ee0d948041bb62da7f669e76b\n'}]",0,196964,7222ffe07b056b3ea5c7042164f73dfa569bd04a,8,3,1,9369,,,0,"Change Zanata project for django_openstack_auth

It turns out that Zanata can not share a project like Transifex
does, the client gets all jealous and removes all other translation
files when you push the second project. To that end, change the
project of django_openstack_auth to its own name rather than horizon.

Change-Id: I8ddcf18f3fd2549ee0d948041bb62da7f669e76b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/64/196964/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/scripts/common_translation_update.sh'],1,7222ffe07b056b3ea5c7042164f73dfa569bd04a,zanata-openstack_auth, if ! /usr/local/jenkins/slave_scripts/create-zanata-xml.py \ -p django_openstack_auth -v master --srcdir openstack_auth/locale \, if ! /usr/local/jenkins/slave_scripts/create-zanata-xml.py -p horizon \ -v master --srcdir openstack_auth/locale \,2,2
openstack%2Ffuel-web~master~I5be4f5e6798526543ddd7ddcec5396f2b0ec7294,openstack/fuel-web,master,I5be4f5e6798526543ddd7ddcec5396f2b0ec7294,Tab data loading moved to fetchData method,MERGED,2015-02-11 15:31:27.000000000,2015-06-30 15:56:24.000000000,2015-06-30 15:44:28.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 9091}, {'_account_id': 9730}, {'_account_id': 15315}]","[{'number': 1, 'created': '2015-02-11 15:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/82742bf8d3db52d271795d3ee7fdf90805826171', 'message': 'Tab data loading moved to fetchData method\n\nRelated to blueprint react-router\n\nChange-Id: I5be4f5e6798526543ddd7ddcec5396f2b0ec7294\n'}, {'number': 2, 'created': '2015-06-11 09:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/4fb59e81a0fd859d4fc01fa0a0e6b6f124213696', 'message': 'Tab data loading moved to fetchData method\n\nRelated to blueprint react-router\n\nChange-Id: I5be4f5e6798526543ddd7ddcec5396f2b0ec7294\n'}, {'number': 3, 'created': '2015-06-17 10:00:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/b7a01ea3f470aced5110a5ab685d8db5f7964c97', 'message': 'Tab data loading moved to fetchData method\n\n* environment page tab data loading moved to static fetchData method\n* introduced tab isVisible static method to set tab visibility\n\nRelated to blueprint react-router\n\nChange-Id: I5be4f5e6798526543ddd7ddcec5396f2b0ec7294\n'}, {'number': 4, 'created': '2015-06-18 08:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/d58f493fd782ee6bd866695b8aa3c17f871e21a0', 'message': 'Tab data loading moved to fetchData method\n\n* environment page tab data loading moved to static fetchData method\n* introduced loadingFailure tab state to handle data absense\n* introduced tab isVisible static method to set tab visibility\n\nRelated to blueprint react-router\n\nChange-Id: I5be4f5e6798526543ddd7ddcec5396f2b0ec7294\n'}, {'number': 5, 'created': '2015-06-22 13:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/4e23615b5dc3668b1baf020b8c74c2e1cb9b6449', 'message': 'Tab data loading moved to fetchData method\n\n* environment page tab data loading moved to static fetchData method\n* introduced loadingFailure tab state to handle data absense\n* introduced tab isVisible static method to set tab visibility\n\nRelated to blueprint react-router\n\nChange-Id: I5be4f5e6798526543ddd7ddcec5396f2b0ec7294\n'}, {'number': 6, 'created': '2015-06-22 13:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/5e93f78a20bde09c3db0cb52164f91d68a724ed5', 'message': 'Tab data loading moved to fetchData method\n\n* added support of tab data pre-loading from static fetchData method\n  (Logs and VMware tabs still need this method)\n* introduced tab isVisible static method to set tab visibility\n\nRelated to blueprint react-router\n\nChange-Id: I5be4f5e6798526543ddd7ddcec5396f2b0ec7294\n'}, {'number': 7, 'created': '2015-06-30 13:38:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/96c79809d6247b124601e05522757b2e22555e38', 'message': 'Tab data loading moved to fetchData method\n\n* added support of tab data pre-loading from static fetchData method\n  (Logs and VMware tabs still need this method)\n* introduced tab isVisible static method to set tab visibility\n\nRelated to blueprint react-router\n\nChange-Id: I5be4f5e6798526543ddd7ddcec5396f2b0ec7294\n'}, {'number': 8, 'created': '2015-06-30 13:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/8722aaa89d03a14a8032b0399b0822c57cd745e2', 'message': 'Tab data loading moved to fetchData method\n\n* added support of tab data pre-loading from static fetchData method\n  (Logs and VMware tabs still need this method)\n* introduced tab isVisible static method to set tab visibility\n\nRelated to blueprint react-router\n\nChange-Id: I5be4f5e6798526543ddd7ddcec5396f2b0ec7294\n'}, {'number': 9, 'created': '2015-06-30 14:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/70bb963a6859713a18bf4c850ee507d2384cbfb4', 'message': 'Tab data loading moved to fetchData method\n\n* added support of tab data pre-loading from static fetchData method\n  (Logs and VMware tabs still need this method)\n* introduced tab isVisible static method to set tab visibility\n\nRelated to blueprint react-router\n\nChange-Id: I5be4f5e6798526543ddd7ddcec5396f2b0ec7294\n'}, {'number': 10, 'created': '2015-06-30 15:01:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/a3bacd45d6c3ca2ac3841c2c22ed9a5a9b39a588', 'message': 'Tab data loading moved to fetchData method\n\n* added support of tab data pre-loading from static fetchData method\n  (Logs and VMware tabs still need this method)\n* introduced tab isVisible static method to set tab visibility\n\nRelated to blueprint react-router\n\nChange-Id: I5be4f5e6798526543ddd7ddcec5396f2b0ec7294\n'}, {'number': 11, 'created': '2015-06-30 15:22:28.000000000', 'files': ['nailgun/static/views/cluster_page_tabs/actions_tab.jsx', 'nailgun/static/views/cluster_page_tabs/settings_tab.jsx', 'nailgun/static/views/cluster_page.jsx', 'nailgun/static/views/cluster_page_tabs/healthcheck_tab.jsx', 'nailgun/static/plugins/vmware/vmware_tab.jsx', 'nailgun/static/views/cluster_page_tabs/network_tab.jsx'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/7ee6a31aa7f9969fd3cd9247ea2993ce4ea59c68', 'message': 'Tab data loading moved to fetchData method\n\n* added support of tab data pre-loading from static fetchData method\n  (Logs and VMware tabs still need this method)\n* introduced tab isVisible static method to set tab visibility\n\nRelated to blueprint react-router\n\nChange-Id: I5be4f5e6798526543ddd7ddcec5396f2b0ec7294\n'}]",6,154911,7ee6a31aa7f9969fd3cd9247ea2993ce4ea59c68,72,7,11,8766,,,0,"Tab data loading moved to fetchData method

* added support of tab data pre-loading from static fetchData method
  (Logs and VMware tabs still need this method)
* introduced tab isVisible static method to set tab visibility

Related to blueprint react-router

Change-Id: I5be4f5e6798526543ddd7ddcec5396f2b0ec7294
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/11/154911/8 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/static/js/views/cluster_page_tabs/settings_tab.jsx', 'nailgun/static/js/views/cluster_page_tabs/healthcheck_tab.jsx', 'nailgun/static/js/views/cluster_page_tabs/network_tab.jsx', 'nailgun/static/css/styles.less', 'nailgun/static/js/views/cluster_page_tabs/actions_tab.jsx']",5,82742bf8d3db52d271795d3ee7fdf90805826171,bp/react-router," statics: { fetchData: function() { if (_.contains(app.version.get('feature_groups'), 'experimental')) { var releases = new models.Releases(); return releases.fetch().then(function() { return {releases: releases}; }); } return {}; } }, task = cluster.task({group: 'deployment', status: 'running'}); {_.contains(app.version.get('feature_groups'), 'experimental') && <UpdateEnvironmentAction cluster={cluster} task={task} releases={this.props.releases}/> return {pendingReleaseId: this.getPendingReleaseId()}; return (this.props.releases.find(this.isAvailableForUpdate, this) || {}).id; pendingRelease = this.props.releases.get(this.state.pendingReleaseId), disabled={_.isUndefined(this.state.pendingReleaseId) || isLocked}>"," var releases = new models.Releases(); task = cluster.task({group: 'deployment', status: 'running'}), isExperimental = _.contains(app.version.get('feature_groups'), 'experimental'); {isExperimental && <UpdateEnvironmentAction cluster={cluster} releases={releases} task={task}/> return {pendingReleaseId: null}; componentDidMount: function() { var releases = this.props.releases; if (!releases.length) { releases.fetch().done(_.bind(function() { this.setState({pendingReleaseId: this.getPendingReleaseId()}); }, this)); } }, var release = _.find(releases.models, this.isAvailableForUpdate, this); if (release) {return release.id;} return null; pendingRelease = this.props.releases.findWhere({id: this.state.pendingReleaseId}) || null, disabled={_.isNull(this.state.pendingReleaseId) || isLocked}>",99,142
openstack%2Fproject-config~master~I66f5fff3c821b143df00fc51f03bd714895aec57,openstack/project-config,master,I66f5fff3c821b143df00fc51f03bd714895aec57,Ensure we have py2.6 jobs enabled for cloud-init,MERGED,2015-06-29 21:59:18.000000000,2015-06-30 15:53:52.000000000,2015-06-30 15:53:51.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 6786}]","[{'number': 1, 'created': '2015-06-29 21:59:18.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/b9f180f62b98aa1d7980e43ddd1ded7ae2e8b97a', 'message': 'Ensure we have py2.6 jobs enabled for cloud-init\n\nThe goal of cloud-init is to support as many versions\nof systems as possible and that includes rhel6 or centos6\nwhich are still actively in use. Those systems run py2.6\nso we should continue to run on these systems to ensure we\nare still compatible.\n\nChange-Id: I66f5fff3c821b143df00fc51f03bd714895aec57\n'}]",0,196884,b9f180f62b98aa1d7980e43ddd1ded7ae2e8b97a,8,3,1,1297,,,0,"Ensure we have py2.6 jobs enabled for cloud-init

The goal of cloud-init is to support as many versions
of systems as possible and that includes rhel6 or centos6
which are still actively in use. Those systems run py2.6
so we should continue to run on these systems to ensure we
are still compatible.

Change-Id: I66f5fff3c821b143df00fc51f03bd714895aec57
",git fetch https://review.opendev.org/openstack/project-config refs/changes/84/196884/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,b9f180f62b98aa1d7980e43ddd1ded7ae2e8b97a,, - name: python26-jobs,,1,0
openstack%2Ffuel-ostf~master~Ia56fcdea800f6f02424b5ba8c126dd013653acba,openstack/fuel-ostf,master,Ia56fcdea800f6f02424b5ba8c126dd013653acba,Fix typo in rabbit test,MERGED,2015-06-30 15:45:57.000000000,2015-06-30 15:53:26.000000000,2015-06-30 15:51:07.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8971}, {'_account_id': 9439}, {'_account_id': 14057}, {'_account_id': 14708}]","[{'number': 1, 'created': '2015-06-30 15:45:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/9b51bc19cda197d03600037a954edbd46e9024d1', 'message': 'Fix typo in rabbit test\n\nChange self.controllers to self._controllers\n\nChange-Id: Ia56fcdea800f6f02424b5ba8c126dd013653acba\n'}, {'number': 2, 'created': '2015-06-30 15:49:15.000000000', 'files': ['fuel_health/tests/ha/test_rabbit.py'], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/f2e56cbaf83df39acbaa759fe444a9043daaa258', 'message': 'Fix typo in rabbit test\n\nChange self.controllers to self._controllers\n\nChange-Id: Ia56fcdea800f6f02424b5ba8c126dd013653acba\nCloses-Bug: #1470151\n'}]",0,197143,f2e56cbaf83df39acbaa759fe444a9043daaa258,16,6,2,6719,,,0,"Fix typo in rabbit test

Change self.controllers to self._controllers

Change-Id: Ia56fcdea800f6f02424b5ba8c126dd013653acba
Closes-Bug: #1470151
",git fetch https://review.opendev.org/openstack/fuel-ostf refs/changes/43/197143/1 && git format-patch -1 --stdout FETCH_HEAD,['fuel_health/tests/ha/test_rabbit.py'],1,9b51bc19cda197d03600037a954edbd46e9024d1,fix_typo, if len(self._controllers) == 1:, if len(self.controllers) == 1:,1,1
openstack%2Fnova-specs~master~I38aef735d109c6658793b6f4e0349fe71474682a,openstack/nova-specs,master,I38aef735d109c6658793b6f4e0349fe71474682a,Remove priority for Servicegroup API control plane spec,ABANDONED,2015-06-25 12:46:29.000000000,2015-06-30 15:52:47.000000000,,"[{'_account_id': 3}, {'_account_id': 1063}, {'_account_id': 7166}]","[{'number': 1, 'created': '2015-06-25 12:46:29.000000000', 'files': ['specs/liberty/approved/servicegroup-api-control-plane.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/0168e8c01086a12e527f680269276b6c14e2375f', 'message': 'Remove priority for Servicegroup API control plane spec\n\nGiven the comments we had on I6d017d34e6d07ae6fb45b22780c5bd26e3ead23b I think\nthis spec is not cool for being a scheduler priority, so removing it.\n\nChange-Id: I38aef735d109c6658793b6f4e0349fe71474682a\nPartially-Implements: blueprint servicegroup-api-control-plane\n'}]",0,195559,0168e8c01086a12e527f680269276b6c14e2375f,5,3,1,7166,,,0,"Remove priority for Servicegroup API control plane spec

Given the comments we had on I6d017d34e6d07ae6fb45b22780c5bd26e3ead23b I think
this spec is not cool for being a scheduler priority, so removing it.

Change-Id: I38aef735d109c6658793b6f4e0349fe71474682a
Partially-Implements: blueprint servicegroup-api-control-plane
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/59/195559/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/liberty/approved/servicegroup-api-control-plane.rst'],1,0168e8c01086a12e527f680269276b6c14e2375f,bp/servicegroup-api-control-plane,None.,This fits under the 'Scheduler' liberty priorities.,1,1
openstack%2Fbifrost~master~I9a4c82461c952f04efe0635c6e7bab4d3ed5fb8f,openstack/bifrost,master,I9a4c82461c952f04efe0635c6e7bab4d3ed5fb8f,Follow up edits for 196398,MERGED,2015-06-30 11:22:58.000000000,2015-06-30 15:52:13.000000000,2015-06-30 15:52:12.000000000,"[{'_account_id': 3}, {'_account_id': 5805}, {'_account_id': 11655}]","[{'number': 1, 'created': '2015-06-30 11:22:58.000000000', 'files': ['playbooks/roles/bifrost-prep-for-install/README.md', 'playbooks/roles/ironic-install/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/3266e0c09e9441c798604df5f6bb082859f1e897', 'message': 'Follow up edits for 196398\n\nChange-Id: I9a4c82461c952f04efe0635c6e7bab4d3ed5fb8f\n'}]",0,197026,3266e0c09e9441c798604df5f6bb082859f1e897,8,3,1,11655,,,0,"Follow up edits for 196398

Change-Id: I9a4c82461c952f04efe0635c6e7bab4d3ed5fb8f
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/26/197026/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-prep-for-install/README.md', 'playbooks/roles/ironic-install/tasks/main.yml']",2,3266e0c09e9441c798604df5f6bb082859f1e897,feature/split-preparation,"# NOTE(TheJulia) While we don't necessarilly require /opt/stack any longer # and it should already be created by the Ansible setup, we will leave this # here for the time being.","# NOTE: Creation no longer be required...,",4,2
openstack%2Fproject-config~master~Ia3f7d47438735cd036448660f525d5cd834eeefa,openstack/project-config,master,Ia3f7d47438735cd036448660f525d5cd834eeefa,Adding new repo for security specs,MERGED,2015-06-26 17:45:40.000000000,2015-06-30 15:51:00.000000000,2015-06-30 15:50:58.000000000,"[{'_account_id': 3}, {'_account_id': 5263}, {'_account_id': 6316}, {'_account_id': 6547}, {'_account_id': 6786}, {'_account_id': 7063}, {'_account_id': 9098}, {'_account_id': 10281}, {'_account_id': 10670}, {'_account_id': 12325}]","[{'number': 1, 'created': '2015-06-26 17:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/88d8ffd4e01b8fb9f13d14a0b9d72da3468c6c3a', 'message': 'Adding new security repo\n\nAdding security-specs to the OpenStack CI System\n\nChange-Id: Ia3f7d47438735cd036448660f525d5cd834eeefa\n'}, {'number': 2, 'created': '2015-06-26 17:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/fb91f8ee4115fef9938ea2c7ff89774b68926518', 'message': 'Adding new security repo\n\nAdding security-specs to the OpenStack CI System\n\nChange-Id: Ia3f7d47438735cd036448660f525d5cd834eeefa\nCloses-Bug: #1469248\n'}, {'number': 3, 'created': '2015-06-26 18:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/49c7f772b2c62591b5f13d87992e46dcb1a1a693', 'message': 'Adding new security repo\n\nAdding security-specs to the OpenStack CI System\n\nChange-Id: Ia3f7d47438735cd036448660f525d5cd834eeefa\nCloses-Bug: #1469248\n'}, {'number': 4, 'created': '2015-06-26 19:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/91a66421b45597cb2c2bd4756a17eed2f160b001', 'message': 'Adding new security repo\n\nAdding security-specs to the OpenStack CI System\n\nChange-Id: Ia3f7d47438735cd036448660f525d5cd834eeefa\nCloses-Bug: #1469248\n'}, {'number': 5, 'created': '2015-06-26 20:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c07f3c611bf18c618fa9a1574cb338b3e204f831', 'message': 'Adding new repo for security specs\n\nAdding security-specs to the OpenStack CI System\n\nChange-Id: Ia3f7d47438735cd036448660f525d5cd834eeefa\nCloses-Bug: #1469248\n'}, {'number': 6, 'created': '2015-06-27 04:46:14.000000000', 'files': ['gerrit/acls/openstack/security-specs.config', 'gerritbot/channels.yaml', 'jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e2847cece312750d103ff4d079265a056b1caa4f', 'message': 'Adding new repo for security specs\n\nAdding security-specs to the OpenStack CI System\n\nChange-Id: Ia3f7d47438735cd036448660f525d5cd834eeefa\nCloses-Bug: #1469248\n'}]",10,196165,e2847cece312750d103ff4d079265a056b1caa4f,30,10,6,10281,,,0,"Adding new repo for security specs

Adding security-specs to the OpenStack CI System

Change-Id: Ia3f7d47438735cd036448660f525d5cd834eeefa
Closes-Bug: #1469248
",git fetch https://review.opendev.org/openstack/project-config refs/changes/65/196165/6 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/security-specs.config', 'gerritbot/channels.yaml', 'jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml']",5,88d8ffd4e01b8fb9f13d14a0b9d72da3468c6c3a,security-specs, - name: openstack/security-specs template: - name: merge-check - name: openstack-specs-jobs check: - gate-security-specs-python27 gate: - gate-security-specs-python27 ,,31,0
openstack%2Ffuel-ostf~master~Id788783e8a91cdeceb7d9e93c26a6c2dd612514b,openstack/fuel-ostf,master,Id788783e8a91cdeceb7d9e93c26a6c2dd612514b,"Revert ""Skip HA rabbit tests for cluster with 1 controller""",ABANDONED,2015-06-30 15:40:06.000000000,2015-06-30 15:50:22.000000000,,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 9439}, {'_account_id': 11969}]","[{'number': 1, 'created': '2015-06-30 15:40:06.000000000', 'files': ['fuel_health/tests/ha/test_rabbit.py'], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/25b114b9708f1b5e72e849b9ec67cbd760cb7e4c', 'message': 'Revert ""Skip HA rabbit tests for cluster with 1 controller""\n\nThis reverts commit 3ad932171f2043565d900ee186e4db6a5c90c6f9.\n\nChange-Id: Id788783e8a91cdeceb7d9e93c26a6c2dd612514b\n'}]",0,197139,25b114b9708f1b5e72e849b9ec67cbd760cb7e4c,6,4,1,6719,,,0,"Revert ""Skip HA rabbit tests for cluster with 1 controller""

This reverts commit 3ad932171f2043565d900ee186e4db6a5c90c6f9.

Change-Id: Id788783e8a91cdeceb7d9e93c26a6c2dd612514b
",git fetch https://review.opendev.org/openstack/fuel-ostf refs/changes/39/197139/1 && git format-patch -1 --stdout FETCH_HEAD,['fuel_health/tests/ha/test_rabbit.py'],1,25b114b9708f1b5e72e849b9ec67cbd760cb7e4c,bug/1468258,, if len(self.controllers) == 1: self.skipTest('There is only one controller online. ' 'Nothing to check'),0,3
openstack%2Fopenstacksdk~master~I9e790a3d2121a86737f0fa0f1846ae45619c3afa,openstack/openstacksdk,master,I9e790a3d2121a86737f0fa0f1846ae45619c3afa,Adjust Resource.find to try direct or filtered,ABANDONED,2015-02-17 18:57:34.000000000,2015-06-30 15:49:40.000000000,,"[{'_account_id': 3}, {'_account_id': 8257}, {'_account_id': 8736}]","[{'number': 1, 'created': '2015-02-17 18:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8c29eefcbc2add99edc5eb28f3ad582123f22b23', 'message': ""Adjust Resource.find to try direct or filtered\n\nIf we got an ID, we can just try to get it right away. If that doesn't\nwork, then we have a name. At this point, barring the various methods of\nfiltering supported by different services, the only base way to find a\nname is to search on the client. The fallback search for name will have\nto get all data and do the find, but if the service supports filtering,\nwe can pass that on and limit the data significantly.\n\nChange-Id: I9e790a3d2121a86737f0fa0f1846ae45619c3afa\n""}, {'number': 2, 'created': '2015-02-21 02:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a40f31d006b25acfb0cbb6c1c51de54aa293e35c', 'message': ""Adjust Resource.find to try direct or filtered\n\nIf we got an ID, we can just try to get it right away. If that doesn't\nwork, then we have a name. At this point, barring the various methods of\nfiltering supported by different services, the only base way to find a\nname is to search on the client. The fallback search for name will have\nto get all data and do the find, but if the service supports filtering,\nwe can pass that on and limit the data significantly.\n\nChange-Id: I9e790a3d2121a86737f0fa0f1846ae45619c3afa\n""}, {'number': 3, 'created': '2015-02-22 02:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6185542845d1d731e8310522ee0b0c10a964fd13', 'message': ""Adjust Resource.find to try direct or filtered\n\nIf we got an ID, we can just try to get it right away. If that doesn't\nwork, then we have a name. At this point, barring the various methods of\nfiltering supported by different services, the only base way to find a\nname is to search on the client. The fallback search for name will have\nto get all data and do the find, but if the service supports filtering,\nwe can pass that on and limit the data significantly.\n\nChange-Id: I9e790a3d2121a86737f0fa0f1846ae45619c3afa\n""}, {'number': 4, 'created': '2015-02-24 00:16:43.000000000', 'files': ['openstack/resource.py', 'openstack/tests/test_resource.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/76980ec5e9920e2eccaf67745dcebf5274808e51', 'message': ""Adjust Resource.find to try direct or filtered\n\nIf we got an ID, we can just try to get it right away. If that doesn't\nwork, then we have a name. At this point, barring the various methods of\nfiltering supported by different services, the only base way to find a\nname is to search on the client. The fallback search for name will have\nto get all data and do the find, but if the service supports filtering,\nwe can pass that on and limit the data significantly.\n\nChange-Id: I9e790a3d2121a86737f0fa0f1846ae45619c3afa\n""}]",6,156707,76980ec5e9920e2eccaf67745dcebf5274808e51,19,3,4,8257,,,0,"Adjust Resource.find to try direct or filtered

If we got an ID, we can just try to get it right away. If that doesn't
work, then we have a name. At this point, barring the various methods of
filtering supported by different services, the only base way to find a
name is to search on the client. The fallback search for name will have
to get all data and do the find, but if the service supports filtering,
we can pass that on and limit the data significantly.

Change-Id: I9e790a3d2121a86737f0fa0f1846ae45619c3afa
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/07/156707/4 && git format-patch -1 --stdout FETCH_HEAD,['openstack/resource.py'],1,8c29eefcbc2add99edc5eb28f3ad582123f22b23,better_find," def list(cls, session, limit=None, marker=None, path_args=None, filters=None, **params): resp = cls.page(session, limit, marker, path_args, filters, **params) def page(cls, session, limit=None, marker=None, path_args=None, filters=None, **params): filters = filters or {} def find(cls, session, name_or_id, limit=None, marker=None, path_args=None, filters=None): :param name_or_id: The resource to find. This is a value which will tried first as the ``id_attribute`` of the Resource, and additionally as the ``name_attribute``. # Try to see if we were given an ID directly. try: res = cls({cls.id_attribute: name_or_id}) res.get(session) return res # Now we have a name that we have to search for def search(resource): from_name = getattr(resource, resource.name_attribute, None) return resource if from_name == name_or_id else None result = list(filter(search, cls.list(session, limit=limit, marker=marker, path_args=path_args, filters=filters))) count = len(result) if count > 1: msg = ""More than one %s exists with the name '%s'."" msg = (msg % (cls.get_resource_name(), name_or_id)) raise exceptions.DuplicateResource(msg) return result[0] if count == 1 else None"," def list(cls, session, limit=None, marker=None, path_args=None, **params): resp = cls.page(session, limit, marker, path_args, **params) def page(cls, session, limit=None, marker=None, path_args=None, **params): filters = {} def find(cls, session, name_or_id, path_args=None): :param resource_id: This resource's identifier, if needed by the request. The default is ``None``. :param dict path_args: A dictionary of arguments to construct a compound URL. See `How path_args are used`_ for details. try: args = { cls.id_attribute: name_or_id, 'fields': cls.id_attribute, 'path_args': path_args, } info = cls.page(session, limit=2, **args) if len(info) == 1: return cls.existing(**info[0]) if cls.name_attribute: params = {cls.name_attribute: name_or_id, 'fields': cls.id_attribute} info = cls.page(session, limit=2, path_args=path_args, **params) if len(info) == 1: return cls.existing(**info[0]) if len(info) > 1: msg = ""More than one %s exists with the name '%s'."" msg = (msg % (cls.get_resource_name(), name_or_id)) raise exceptions.DuplicateResource(msg) return None",31,29
openstack%2Frally~master~I5a4e97beb7f6e27606c470a957a7f508d10b1d9f,openstack/rally,master,I5a4e97beb7f6e27606c470a957a7f508d10b1d9f,Adds pip to requirements,ABANDONED,2015-06-30 14:28:01.000000000,2015-06-30 15:47:50.000000000,,"[{'_account_id': 6835}, {'_account_id': 8576}, {'_account_id': 14817}]","[{'number': 1, 'created': '2015-06-30 14:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/3484d23eeede0bfbce012135f00f539b8b4ac091', 'message': 'Adds pip to requirements\n\nUpdates to jsonschema require later versions of pip.\nTime to start enforcing it.\n\nChange-Id: I5a4e97beb7f6e27606c470a957a7f508d10b1d9f\nCloses-bug: #1466055\n'}, {'number': 2, 'created': '2015-06-30 15:02:08.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/rally/commit/f53536efd24a58455021fdc9b9168bdd796fb3ea', 'message': 'Adds pip to requirements\n\nUpdates to jsonschema require later versions of pip.\nTime to start enforcing it.\npip requirements have to come first.\n\nChange-Id: I5a4e97beb7f6e27606c470a957a7f508d10b1d9f\nCloses-bug: #1466055\n'}]",0,197109,f53536efd24a58455021fdc9b9168bdd796fb3ea,7,3,2,8576,,,0,"Adds pip to requirements

Updates to jsonschema require later versions of pip.
Time to start enforcing it.
pip requirements have to come first.

Change-Id: I5a4e97beb7f6e27606c470a957a7f508d10b1d9f
Closes-bug: #1466055
",git fetch https://review.opendev.org/openstack/rally refs/changes/09/197109/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,3484d23eeede0bfbce012135f00f539b8b4ac091,bug/1466055,pip>=6.0,,1,0
openstack%2Fproject-config~master~I66ee0864fd3c0cccbc32d04caacf3bccf62f1c13,openstack/project-config,master,I66ee0864fd3c0cccbc32d04caacf3bccf62f1c13,Enable python-jobs on designate-dashboard,MERGED,2015-06-29 14:10:44.000000000,2015-06-30 15:47:31.000000000,2015-06-30 15:47:29.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 6786}]","[{'number': 1, 'created': '2015-06-29 14:10:44.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/7018dd4c650bcf39179f34e1cf08ad91638a2302', 'message': 'Enable python-jobs on designate-dashboard\n\ndesignate-dashboard has been updated to conform\nto the standard testing interface, each of these\njobs should now both run and pass.\n\nChange-Id: I66ee0864fd3c0cccbc32d04caacf3bccf62f1c13\nDepends-On: I50dd7fa9bbdd6a09b25ad0ee3785d37f2a32045f\n'}]",0,196678,7018dd4c650bcf39179f34e1cf08ad91638a2302,8,3,1,741,,,0,"Enable python-jobs on designate-dashboard

designate-dashboard has been updated to conform
to the standard testing interface, each of these
jobs should now both run and pass.

Change-Id: I66ee0864fd3c0cccbc32d04caacf3bccf62f1c13
Depends-On: I50dd7fa9bbdd6a09b25ad0ee3785d37f2a32045f
",git fetch https://review.opendev.org/openstack/project-config refs/changes/78/196678/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,7018dd4c650bcf39179f34e1cf08ad91638a2302,, - name: python-jobs - designate-dashboard-coverage post: - designate-dashboard-coverage, - gate-designate-dashboard-pep8 - gate-designate-dashboard-pep8,4,2
openstack%2Fsolum~master~I78befbcfd8605b25371597e4fc07f0908b11730d,openstack/solum,master,I78befbcfd8605b25371597e4fc07f0908b11730d,Fix for bug which leaves logs in swift after App deletion,MERGED,2015-06-25 04:14:16.000000000,2015-06-30 15:41:17.000000000,2015-06-30 15:41:15.000000000,"[{'_account_id': 3}, {'_account_id': 1375}, {'_account_id': 2506}, {'_account_id': 9095}]","[{'number': 1, 'created': '2015-06-25 04:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/a258c56ab71a6abc2e94cae4a2c71ff13b52e282', 'message': ""Fix for bug which leaves App logs in swift after deletion\n\nDuring app deletion, we look for an image id which points to the\nDU which needs to be deleted. If the app failed in the unit test\nphase, we don't have a DU yet and the deletion code returns\nwithout deleting anything. We should be deleting the unit test\nphase logs.\n\nChange-Id: I78befbcfd8605b25371597e4fc07f0908b11730d\nCloses-bug: 1463986\n""}, {'number': 2, 'created': '2015-06-25 16:07:24.000000000', 'files': ['solum/tests/deployer/handlers/test_heat.py', 'solum/deployer/handlers/heat.py'], 'web_link': 'https://opendev.org/openstack/solum/commit/fb9d9698f35ecd404957b5fbf575b7d9b0260146', 'message': ""Fix for bug which leaves logs in swift after App deletion\n\nDuring app deletion, we look for an image id which points to the\nDU which needs to be deleted. If the app failed in the unit test\nphase, we don't have a DU yet and the deletion code returns due\nto an exception, thus failing to continue with deletion of logs.\n\nWe should be deleting the unit test phase logs.\n\nChange-Id: I78befbcfd8605b25371597e4fc07f0908b11730d\nCloses-bug: 1463986\n""}]",3,195407,fb9d9698f35ecd404957b5fbf575b7d9b0260146,16,4,2,9095,,,0,"Fix for bug which leaves logs in swift after App deletion

During app deletion, we look for an image id which points to the
DU which needs to be deleted. If the app failed in the unit test
phase, we don't have a DU yet and the deletion code returns due
to an exception, thus failing to continue with deletion of logs.

We should be deleting the unit test phase logs.

Change-Id: I78befbcfd8605b25371597e4fc07f0908b11730d
Closes-bug: 1463986
",git fetch https://review.opendev.org/openstack/solum refs/changes/07/195407/2 && git format-patch -1 --stdout FETCH_HEAD,"['solum/deployer/handlers/heat.py', 'solum/tests/deployer/handlers/test_heat.py']",2,a258c56ab71a6abc2e94cae4a2c71ff13b52e282,bug/1463986," @mock.patch('solum.objects.registry') @mock.patch('solum.deployer.handlers.heat.tlog') @mock.patch('solum.api.handlers.userlog_handler.UserlogHandler') def test_delete_app_artifacts_from_swift(self, mock_log_handler, m_log, mock_registry, mock_swift_delete): fake_assembly = fakes.FakeAssembly() fake_image = fakes.FakeImage() mock_registry.Image.get_by_id.return_value = fake_image log_handler = mock_log_handler.return_value handler = heat_handler.Handler() handler._delete_app_artifacts_from_swift(self.ctx, mock_log_handler, 'fake_log_id', fake_assembly) mock_registry.Image.get_by_id.assert_called_once_with( mock.ANY, fake_assembly.image_id) docker_image_name = fake_image.docker_image_name img_filename = docker_image_name.split('-', 1)[1] mock_swift_delete.assert_called_once_with('solum_du', img_filename) log_handler.delete.assert_called_once_with('fake_log_id') @mock.patch('solum.common.solum_swiftclient.SwiftClient.delete_object') @mock.patch('solum.objects.registry') @mock.patch('solum.deployer.handlers.heat.tlog') @mock.patch('solum.api.handlers.userlog_handler.UserlogHandler') def test_delete_app_artifacts_from_swift_no_image(self, mock_log_handler, m_log, mock_registry, mock_swift_delete): fake_assembly = fakes.FakeAssembly() fake_assembly.image_id = None log_handler = mock_log_handler.return_value handler = heat_handler.Handler() handler._delete_app_artifacts_from_swift(self.ctx, mock_log_handler, 'fake_log_id', fake_assembly) self.assertFalse(mock_registry.Image.get_by_id.called) self.assertFalse(mock_swift_delete.called) log_handler.delete.assert_called_once_with('fake_log_id') @mock.patch('solum.common.solum_swiftclient.SwiftClient.delete_object')",,51,13
openstack%2Fproject-config~master~Iac12206755ff2ae4373141fa066583a90ff0cf8b,openstack/project-config,master,Iac12206755ff2ae4373141fa066583a90ff0cf8b,Make keystone* bandit jobs voting,MERGED,2015-06-26 23:05:39.000000000,2015-06-30 15:40:49.000000000,2015-06-30 15:40:47.000000000,"[{'_account_id': 3}, {'_account_id': 2903}, {'_account_id': 6547}, {'_account_id': 6786}, {'_account_id': 11861}]","[{'number': 1, 'created': '2015-06-26 23:05:39.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/fe22d63763400fb81bd5b3a4f5e6b686cbe1cf02', 'message': 'Make keystone* bandit jobs voting\n\nSwitch the keystone* project bandit jobs to be voting from\nnon-voting.\n\nThis was discussed and approved at the 2015-06-23 keystone meeting.\n\nChange-Id: Iac12206755ff2ae4373141fa066583a90ff0cf8b\n'}]",0,196277,fe22d63763400fb81bd5b3a4f5e6b686cbe1cf02,9,5,1,6486,,,0,"Make keystone* bandit jobs voting

Switch the keystone* project bandit jobs to be voting from
non-voting.

This was discussed and approved at the 2015-06-23 keystone meeting.

Change-Id: Iac12206755ff2ae4373141fa066583a90ff0cf8b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/77/196277/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,fe22d63763400fb81bd5b3a4f5e6b686cbe1cf02,, - gate-keystone-tox-bandit gate: - gate-keystonemiddleware-tox-bandit - gate-python-keystoneclient-tox-bandit, voting: false voting: false voting: false,4,3
openstack%2Fproject-config~master~I433126a8247e7e1c316f2c96bb21e15582b247ce,openstack/project-config,master,I433126a8247e7e1c316f2c96bb21e15582b247ce,run-docs.sh: execute docs job if present,MERGED,2015-06-15 14:26:44.000000000,2015-06-30 15:40:12.000000000,2015-06-30 15:40:09.000000000,"[{'_account_id': 3}, {'_account_id': 4162}, {'_account_id': 6524}, {'_account_id': 6547}, {'_account_id': 6786}, {'_account_id': 7069}, {'_account_id': 9656}]","[{'number': 1, 'created': '2015-06-15 14:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/22489a7f340b6ea4d6ce6e23e873986380b97f81', 'message': ""run-docs.sh: execute docs job if present\n\nSome projects (like neutron) provide their own docs job, so we should\nuse it instead of running build_sphinx directly.\n\nThe use case to maintain a custom docs job is f.e. to enable sphinx\nwarnings in gate. They were enabled before for neutron under assumption\nthat gate relies on the job, but it's not the case, as it turned out.\n\nDepends-On: Id276fa59edb33f7789ab06055300b4dc2385472a\nDepends-On: I8c265eae2175425568479116d1faef7d87fdcc02\nChange-Id: I433126a8247e7e1c316f2c96bb21e15582b247ce\n""}, {'number': 2, 'created': '2015-06-16 07:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/80c27450b099f8027b5c10c5d48ee4817971f6b7', 'message': ""run-docs.sh: execute docs job if present\n\nSome projects (like neutron) provide their own docs job, so we should\nuse it instead of running build_sphinx directly.\n\nThe use case to maintain a custom docs job is f.e. to enable sphinx\nwarnings in gate. They were enabled before for neutron under assumption\nthat gate relies on the job, but it's not the case, as it turned out.\n\nDepends-On: I80eb169b7b4e5a3490586722c64394dbb724928d\nDepends-On: Id276fa59edb33f7789ab06055300b4dc2385472a\nDepends-On: I8c265eae2175425568479116d1faef7d87fdcc02\nChange-Id: I433126a8247e7e1c316f2c96bb21e15582b247ce\n""}, {'number': 3, 'created': '2015-06-16 07:25:16.000000000', 'files': ['jenkins/scripts/run-docs.sh'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0ced503c2792b2f50559f66abd92d81e1571b77e', 'message': ""run-docs.sh: execute docs job if present\n\nSome projects (like neutron) provide their own docs job, so we should\nuse it instead of running build_sphinx directly.\n\nThe use case to maintain a custom docs job is f.e. to enable sphinx\nwarnings in gate. They were enabled before for neutron under assumption\nthat gate relies on the job, but it's not the case, as it turned out.\n\nNote that projects that want to expose the tox job to gate should have\nit defined in tox envlist so that 'tox -l' returns it.\n\nDepends-On: I80eb169b7b4e5a3490586722c64394dbb724928d\nDepends-On: Id276fa59edb33f7789ab06055300b4dc2385472a\nDepends-On: I8c265eae2175425568479116d1faef7d87fdcc02\nChange-Id: I433126a8247e7e1c316f2c96bb21e15582b247ce\n""}]",0,191828,0ced503c2792b2f50559f66abd92d81e1571b77e,20,7,3,9656,,,0,"run-docs.sh: execute docs job if present

Some projects (like neutron) provide their own docs job, so we should
use it instead of running build_sphinx directly.

The use case to maintain a custom docs job is f.e. to enable sphinx
warnings in gate. They were enabled before for neutron under assumption
that gate relies on the job, but it's not the case, as it turned out.

Note that projects that want to expose the tox job to gate should have
it defined in tox envlist so that 'tox -l' returns it.

Depends-On: I80eb169b7b4e5a3490586722c64394dbb724928d
Depends-On: Id276fa59edb33f7789ab06055300b4dc2385472a
Depends-On: I8c265eae2175425568479116d1faef7d87fdcc02
Change-Id: I433126a8247e7e1c316f2c96bb21e15582b247ce
",git fetch https://review.opendev.org/openstack/project-config refs/changes/28/191828/3 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/scripts/run-docs.sh'],1,22489a7f340b6ea4d6ce6e23e873986380b97f81,neutron-docs-job-fix,"if [ ""`tox -l | grep docs`"" = ""docs"" ]; then venv=docs tox -e$venv else venv=venv tox -e$venv -- python setup.py build_sphinx fi",venv=venv tox -e$venv -- python setup.py build_sphinx,7,3
openstack%2Ffuel-ostf~master~Idacd3263a1e8ef7f8440764329d5e63e8a5b9ff1,openstack/fuel-ostf,master,Idacd3263a1e8ef7f8440764329d5e63e8a5b9ff1,Skip HA rabbit tests for cluster with 1 controller,MERGED,2015-06-24 09:36:48.000000000,2015-06-30 15:40:06.000000000,2015-06-30 11:59:15.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 7732}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 10136}, {'_account_id': 11969}]","[{'number': 1, 'created': '2015-06-24 09:36:48.000000000', 'files': ['fuel_health/tests/ha/test_rabbit.py'], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/3ad932171f2043565d900ee186e4db6a5c90c6f9', 'message': 'Skip HA rabbit tests for cluster with 1 controller\n\nSkip HA rabbit tests for clusters with 1 controller\n\nChange-Id: Idacd3263a1e8ef7f8440764329d5e63e8a5b9ff1\nCloses-Bug: #1468258\n'}]",0,195009,3ad932171f2043565d900ee186e4db6a5c90c6f9,13,7,1,6719,,,0,"Skip HA rabbit tests for cluster with 1 controller

Skip HA rabbit tests for clusters with 1 controller

Change-Id: Idacd3263a1e8ef7f8440764329d5e63e8a5b9ff1
Closes-Bug: #1468258
",git fetch https://review.opendev.org/openstack/fuel-ostf refs/changes/09/195009/1 && git format-patch -1 --stdout FETCH_HEAD,['fuel_health/tests/ha/test_rabbit.py'],1,3ad932171f2043565d900ee186e4db6a5c90c6f9,bug/1468258, if len(self.controllers) == 1: self.skipTest('There is only one controller online. ' 'Nothing to check'),,3,0
openstack%2Fproject-config~master~Ib5132d24b318494e0acd28a5ad9aaebe444ca9d1,openstack/project-config,master,Ib5132d24b318494e0acd28a5ad9aaebe444ca9d1,puppet: add 3.8 release tests support,MERGED,2015-06-09 19:45:39.000000000,2015-06-30 15:40:05.000000000,2015-06-30 15:40:03.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 3153}, {'_account_id': 4162}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 6554}, {'_account_id': 6786}, {'_account_id': 7155}, {'_account_id': 8482}, {'_account_id': 8617}, {'_account_id': 16272}]","[{'number': 1, 'created': '2015-06-09 19:45:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/dcf03944299cdccc45e33dcd28fcebecd92ef999', 'message': 'puppet: add 3.8 release tests support\n\nPuppetlabs released [1] Puppet 3.8.\nThis patch aims to test Puppet OpenStack modules against 3.8.0 release\nwhich is now the new stable version.\n\n[1] https://github.com/puppetlabs/puppet/releases/tag/3.8.0\n\nChange-Id: Ib5132d24b318494e0acd28a5ad9aaebe444ca9d1\n'}, {'number': 2, 'created': '2015-06-18 15:03:15.000000000', 'files': ['jenkins/jobs/puppet-module-jobs.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/17caf20fbe48f4aee338c5de8fae1e31ad84863e', 'message': 'puppet: add 3.8 release tests support\n\nPuppetlabs released [1] Puppet 3.8.\nThis patch aims to test Puppet OpenStack modules against 3.8.0 release\nwhich is now the new stable version.\n\n[1] https://github.com/puppetlabs/puppet/releases/tag/3.8.0\n\nChange-Id: Ib5132d24b318494e0acd28a5ad9aaebe444ca9d1\n'}]",0,189890,17caf20fbe48f4aee338c5de8fae1e31ad84863e,22,12,2,3153,,,0,"puppet: add 3.8 release tests support

Puppetlabs released [1] Puppet 3.8.
This patch aims to test Puppet OpenStack modules against 3.8.0 release
which is now the new stable version.

[1] https://github.com/puppetlabs/puppet/releases/tag/3.8.0

Change-Id: Ib5132d24b318494e0acd28a5ad9aaebe444ca9d1
",git fetch https://review.opendev.org/openstack/project-config refs/changes/90/189890/2 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/puppet-module-jobs.yaml', 'zuul/layout.yaml']",2,dcf03944299cdccc45e33dcd28fcebecd92ef999,puppet38, - gate-{name}-puppet-unit-3.8 - gate-{name}-puppet-unit-3.8,,4,1
openstack%2Fproject-config~master~I77704f2a3ce79851df677d2c38cd7ad504427a97,openstack/project-config,master,I77704f2a3ce79851df677d2c38cd7ad504427a97,Set up jobs to test new ubuntu-trusty nodes,MERGED,2015-06-27 15:22:42.000000000,2015-06-30 15:37:04.000000000,2015-06-30 15:37:01.000000000,"[{'_account_id': 3}, {'_account_id': 5263}, {'_account_id': 6786}, {'_account_id': 10035}, {'_account_id': 16272}]","[{'number': 1, 'created': '2015-06-27 15:22:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/77095574bdffb65179e8a8e6daebd06cc90f8625', 'message': ""Set up jobs to test new ubuntu-trusty nodes\n\nThe new nodes are running in both HP and Rackspace now, so it's time to\nmake sure that they can run devstack.\n\nChange-Id: I77704f2a3ce79851df677d2c38cd7ad504427a97\n""}, {'number': 2, 'created': '2015-06-27 15:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/9fba31c21c155a64bfdff09824836ba74fbffea9', 'message': ""Set up jobs to test new ubuntu-trusty nodes\n\nThe new nodes are running in both HP and Rackspace now, so it's time to\nmake sure that they can run devstack.\n\nChange-Id: I77704f2a3ce79851df677d2c38cd7ad504427a97\n""}, {'number': 3, 'created': '2015-06-27 15:57:11.000000000', 'files': ['zuul/openstack_functions.py', 'jenkins/jobs/projects.yaml', 'zuul/layout.yaml', 'jenkins/jobs/experimental-workers.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6067a81b4c955d3bf3752682058f5eb156ab6cd1', 'message': ""Set up jobs to test new ubuntu-trusty nodes\n\nThe new nodes are running in both HP and Rackspace now, so it's time to\nmake sure that they can run devstack.\n\nChange-Id: I77704f2a3ce79851df677d2c38cd7ad504427a97\n""}]",1,196382,6067a81b4c955d3bf3752682058f5eb156ab6cd1,15,5,3,2,,,0,"Set up jobs to test new ubuntu-trusty nodes

The new nodes are running in both HP and Rackspace now, so it's time to
make sure that they can run devstack.

Change-Id: I77704f2a3ce79851df677d2c38cd7ad504427a97
",git fetch https://review.opendev.org/openstack/project-config refs/changes/82/196382/2 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'zuul/layout.yaml', 'jenkins/jobs/experimental-workers.yaml']",3,77095574bdffb65179e8a8e6daebd06cc90f8625,, node: ubuntu-trusty, node: devstack-trusty,5,3
openstack%2Fproject-config~master~I624ed1e259e007d4246afb45c3a0560598bfbe3f,openstack/project-config,master,I624ed1e259e007d4246afb45c3a0560598bfbe3f,Fetch all heads and tags when caching source repos,MERGED,2015-06-25 15:57:38.000000000,2015-06-30 15:37:00.000000000,2015-06-30 15:36:58.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 6786}, {'_account_id': 10035}]","[{'number': 1, 'created': '2015-06-25 15:57:38.000000000', 'files': ['nodepool/elements/openstack-repos/extra-data.d/50-create-repo-list'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a1f1ce370d069dfe30a9fd1c9302b0f93c6ad4d8', 'message': 'Fetch all heads and tags when caching source repos\n\nPassing a source-repositories ref of ""*"" signals fetching all heads\nand tags rather than just a specific refname. This is desirable for\nthe warm cache on our job workers, since jobs may run against\narbitrary branches (or possibly even tags). The point is to have a\nreasonably complete mirror of each repo, rather than a fairly\nminimal clone.\n\nChange-Id: I624ed1e259e007d4246afb45c3a0560598bfbe3f\nDepends-On: I4562c9689a8d235ebe09b2f7178aa5890dbc85f1\n'}]",0,195650,a1f1ce370d069dfe30a9fd1c9302b0f93c6ad4d8,9,4,1,5263,,,0,"Fetch all heads and tags when caching source repos

Passing a source-repositories ref of ""*"" signals fetching all heads
and tags rather than just a specific refname. This is desirable for
the warm cache on our job workers, since jobs may run against
arbitrary branches (or possibly even tags). The point is to have a
reasonably complete mirror of each repo, rather than a fairly
minimal clone.

Change-Id: I624ed1e259e007d4246afb45c3a0560598bfbe3f
Depends-On: I4562c9689a8d235ebe09b2f7178aa5890dbc85f1
",git fetch https://review.opendev.org/openstack/project-config refs/changes/50/195650/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/elements/openstack-repos/extra-data.d/50-create-repo-list'],1,a1f1ce370d069dfe30a9fd1c9302b0f93c6ad4d8,full-repos," ref=os.environ.get('CONFIG_REF', '*'))"," ref=os.environ.get('CONFIG_REF', 'master'))",1,1
openstack%2Fproject-config~master~I3fe7539ac86d029c76e0088654bfcebcd5a99a3a,openstack/project-config,master,I3fe7539ac86d029c76e0088654bfcebcd5a99a3a,Add coverage to Manila check to aid reviewers,MERGED,2015-06-26 23:43:18.000000000,2015-06-30 15:36:34.000000000,2015-06-30 15:36:33.000000000,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 6172}, {'_account_id': 6547}, {'_account_id': 6786}, {'_account_id': 11047}, {'_account_id': 11865}]","[{'number': 1, 'created': '2015-06-26 23:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/04ff74b5fe27f7112e80e89207d5b70763ac6786', 'message': 'Add coverage to Manila check to aid reviewers\n\nAutomatically generage a coverage report for\neach patch during ""check"" so that reviewers\ncan inspect unit test coverage without downloading\nand testing each individual patch.\n\nChange-Id: I3fe7539ac86d029c76e0088654bfcebcd5a99a3a\n'}, {'number': 2, 'created': '2015-06-26 23:44:01.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3e80f2843abdc161de32d9841cd287987b91caaf', 'message': 'Add coverage to Manila check to aid reviewers\n\nAutomatically generate a coverage report for\neach patch during ""check"" so that reviewers\ncan inspect unit test coverage without downloading\nand testing each individual patch.\n\nChange-Id: I3fe7539ac86d029c76e0088654bfcebcd5a99a3a\n'}]",0,196283,3e80f2843abdc161de32d9841cd287987b91caaf,11,7,2,11047,,,0,"Add coverage to Manila check to aid reviewers

Automatically generate a coverage report for
each patch during ""check"" so that reviewers
can inspect unit test coverage without downloading
and testing each individual patch.

Change-Id: I3fe7539ac86d029c76e0088654bfcebcd5a99a3a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/83/196283/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,04ff74b5fe27f7112e80e89207d5b70763ac6786,manila_coverage, - name: manila-coverage voting: false - manila-coverage,,4,0
openstack%2Fnetworking-ovn~master~I8efffa3833d210f2ddb41a7a7cc8956a1670a508,openstack/networking-ovn,master,I8efffa3833d210f2ddb41a7a7cc8956a1670a508,Remove blank lines from requirements.txt,MERGED,2015-06-30 14:06:38.000000000,2015-06-30 15:36:32.000000000,2015-06-30 15:36:30.000000000,"[{'_account_id': 3}, {'_account_id': 11343}]","[{'number': 1, 'created': '2015-06-30 14:06:38.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e9b0e0b0e068a99ee76bab84cd87adc4f7405047', 'message': ""Remove blank lines from requirements.txt\n\nThe requirements update script has a bug where it's adding blank\nlines.  Remove the ones we've merged so far.\n\nChange-Id: I8efffa3833d210f2ddb41a7a7cc8956a1670a508\nSigned-off-by: Russell Bryant <rbryant@redhat.com>\n""}]",0,197097,e9b0e0b0e068a99ee76bab84cd87adc4f7405047,6,2,1,1561,,,0,"Remove blank lines from requirements.txt

The requirements update script has a bug where it's adding blank
lines.  Remove the ones we've merged so far.

Change-Id: I8efffa3833d210f2ddb41a7a7cc8956a1670a508
Signed-off-by: Russell Bryant <rbryant@redhat.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/97/197097/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,e9b0e0b0e068a99ee76bab84cd87adc4f7405047,,, ,0,4
openstack%2Fkeystonemiddleware~master~Iede0c00039dacb7ff3460d7af38151d0f6f8c433,openstack/keystonemiddleware,master,Iede0c00039dacb7ff3460d7af38151d0f6f8c433,Refactor certificate fetch functions,MERGED,2015-05-01 19:03:06.000000000,2015-06-30 15:36:06.000000000,2015-06-30 15:36:04.000000000,"[{'_account_id': 3}, {'_account_id': 6486}, {'_account_id': 7191}, {'_account_id': 8978}, {'_account_id': 9276}, {'_account_id': 13055}]","[{'number': 1, 'created': '2015-05-01 19:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/4ec9fb654b5f6b054e025871e92dd3533757a065', 'message': ""Refactor certificate fetch functions\n\nThe certificate fetch function code was complicated because you\npassed in a string to pick the certificate type. This was a\nholdover from before keystoneclient was used because it was\nbuilding the paths to the certificates. Now auth_token is just\ncalling client methods rather then building the path so the strings\ndon't mean anything anymore.\n\nChange-Id: Iede0c00039dacb7ff3460d7af38151d0f6f8c433\n""}, {'number': 2, 'created': '2015-05-10 16:43:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/10284913b3917897ac8a792ce315a6bb630f5448', 'message': ""Refactor certificate fetch functions\n\nThe certificate fetch function code was complicated because you\npassed in a string to pick the certificate type. This was a\nholdover from before keystoneclient was used because it was\nbuilding the paths to the certificates. Now auth_token is just\ncalling client methods rather then building the path so the strings\ndon't mean anything anymore.\n\nChange-Id: Iede0c00039dacb7ff3460d7af38151d0f6f8c433\n""}, {'number': 3, 'created': '2015-05-21 13:50:39.000000000', 'files': ['keystonemiddleware/auth_token/_identity.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/b9754218293222cab92bd2bf3b3d40c2960644fe', 'message': ""Refactor certificate fetch functions\n\nThe certificate fetch function code was complicated because you\npassed in a string to pick the certificate type. This was a\nholdover from before keystoneclient was used because it was\nbuilding the paths to the certificates. Now auth_token is just\ncalling client methods rather then building the path so the strings\ndon't mean anything anymore.\n\nChange-Id: Iede0c00039dacb7ff3460d7af38151d0f6f8c433\n""}]",11,179460,b9754218293222cab92bd2bf3b3d40c2960644fe,23,6,3,6486,,,0,"Refactor certificate fetch functions

The certificate fetch function code was complicated because you
passed in a string to pick the certificate type. This was a
holdover from before keystoneclient was used because it was
building the paths to the certificates. Now auth_token is just
calling client methods rather then building the path so the strings
don't mean anything anymore.

Change-Id: Iede0c00039dacb7ff3460d7af38151d0f6f8c433
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/60/179460/2 && git format-patch -1 --stdout FETCH_HEAD,['keystonemiddleware/auth_token/_identity.py'],1,4ec9fb654b5f6b054e025871e92dd3533757a065,cleanup," def fetch_signing_cert(self): pass def fetch_ca_cert(self): self.fetch_signing_cert = ( self._client.certificates.get_signing_certificate) self.fetch_ca_cert = self._client.certificates.get_ca_certificate self.fetch_signing_cert = self._client.simple_cert.get_certificates self.fetch_ca_cert = self._client.simple_cert.get_ca_certificates return self._fetch_cert_file(self._request_strategy.fetch_signing_cert) return self._fetch_cert_file(self._request_strategy.fetch_ca_cert) def _fetch_cert_file(self, fetch_fn): try: text = fetch_fn()"," def fetch_cert_file(self, cert_type): def fetch_cert_file(self, cert_type): if cert_type == 'ca': return self._client.certificates.get_ca_certificate() elif cert_type == 'signing': return self._client.certificates.get_signing_certificate() def fetch_cert_file(self, cert_type): if cert_type == 'ca': return self._client.simple_cert.get_ca_certificates() elif cert_type == 'signing': return self._client.simple_cert.get_certificates() return self._fetch_cert_file('signing') return self._fetch_cert_file('ca') def _fetch_cert_file(self, cert_type): try: text = self._request_strategy.fetch_cert_file(cert_type)",15,17
