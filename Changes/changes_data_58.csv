id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fopenstacksdk~master~Ie56b576971d75a6fde7088a74e4e2cea0178284a,openstack/openstacksdk,master,Ie56b576971d75a6fde7088a74e4e2cea0178284a,Update python testing classifier,MERGED,2021-12-22 08:38:08.000000000,2022-10-19 11:58:36.000000000,2022-10-19 11:57:29.000000000,"[{'_account_id': 10239}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-22 08:38:08.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6a08c2b29366b2a20c21d553a0a8aa0f9eac724a', 'message': 'Update python testing classifier\n\nYoga testing runtime[1] has been updated to add py39\ntesting as voting. Unit tests update are handled by the\njob template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nthis commit updates the classifier in setup.cfg file.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: Ie56b576971d75a6fde7088a74e4e2cea0178284a\n'}]",0,822632,6a08c2b29366b2a20c21d553a0a8aa0f9eac724a,8,3,1,31412,,,0,"Update python testing classifier

Yoga testing runtime[1] has been updated to add py39
testing as voting. Unit tests update are handled by the
job template change in openstack-zuul-job

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

this commit updates the classifier in setup.cfg file.

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: Ie56b576971d75a6fde7088a74e4e2cea0178284a
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/32/822632/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,6a08c2b29366b2a20c21d553a0a8aa0f9eac724a,, Programming Language :: Python :: 3.9,,1,0
openstack%2Fopenstacksdk~master~Ie0409f11f2a2b03044dfb504748e0177cae0d6b0,openstack/openstacksdk,master,Ie0409f11f2a2b03044dfb504748e0177cae0d6b0,compute: Add support for triggering crash dumps,MERGED,2021-12-09 18:09:28.000000000,2022-10-19 11:57:32.000000000,2022-10-19 11:57:32.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-09 18:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/742d42fcb2fb751c9b742ec4fc8afb3198a11d6a', 'message': 'compute: Add support for triggering crash dumps\n\nAdd support for compute API microversion 2.17, which allowed admins to\ntrigger a crash dump in a running server.\n\nChange-Id: Ie0409f11f2a2b03044dfb504748e0177cae0d6b0\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2022-09-07 16:19:56.000000000', 'files': ['openstack/compute/v2/server.py', 'openstack/tests/unit/compute/v2/test_server.py', 'openstack/tests/unit/compute/v2/test_proxy.py', 'releasenotes/notes/compute-microversion-2-17-b05cb87580b8d56a.yaml', 'openstack/compute/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/013795500c3176f5f4130740bbbf75f2010f64e9', 'message': 'compute: Add support for triggering crash dumps\n\nAdd support for compute API microversion 2.17, which allowed admins to\ntrigger a crash dump in a running server.\n\nChange-Id: Ie0409f11f2a2b03044dfb504748e0177cae0d6b0\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,821270,013795500c3176f5f4130740bbbf75f2010f64e9,8,2,2,15334,,,0,"compute: Add support for triggering crash dumps

Add support for compute API microversion 2.17, which allowed admins to
trigger a crash dump in a running server.

Change-Id: Ie0409f11f2a2b03044dfb504748e0177cae0d6b0
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/70/821270/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/compute/v2/server.py', 'openstack/tests/unit/compute/v2/test_server.py', 'openstack/tests/unit/compute/v2/test_proxy.py', 'releasenotes/notes/compute-microversion-2-17-b05cb87580b8d56a.yaml', 'openstack/compute/v2/_proxy.py']",5,742d42fcb2fb751c9b742ec4fc8afb3198a11d6a,compute-gaps," def trigger_server_crash_dump(self, server): """"""Trigger a crash dump in a server. When a server starts behaving oddly at a fundamental level, it maybe be useful to get a kernel level crash dump to debug further. The crash dump action forces a crash dump followed by a system reboot of the server. Once the server comes back online, you can find a Kernel Crash Dump file in a certain location of the filesystem. For example, for Ubuntu you can find it in the /var/crash directory. :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :returns: None """""" server = self._get_resource(_server.Server, server) server.trigger_crash_dump(self) ",,54,8
openstack%2Fcinder~master~Iaa3a1a54550d63dadaaa580bd564eeafdec33b4e,openstack/cinder,master,Iaa3a1a54550d63dadaaa580bd564eeafdec33b4e,Add a compression policy for backup chunked driver,NEW,2021-07-22 08:22:01.000000000,2022-10-19 11:56:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-22 08:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e3019f0deac107b41cdbbda1d9320b6387b92ad0', 'message': ""Add a compression policy for backup chunked driver\n\nWhether to compress the data when using chunked driver for\nbackups can be chosen, but each has its disadvantages.\n\nWhen compression is not enabled, backing up sparse volumes will\nconsume a lot of meaningless space.\n\nWhen compression is enabled, data compression may take a lot of\ntime but could not obtain a good compression rate (especially\nfor encrypted volumes).\n\nIn consideration of achieving a balance between compression time\nand space, a backup compression policy is provided, which\nautomatically selects whether to compress or not according to\nwhether the data block is empty. Only empty blocks are to be\ncompressed.\n\nAdd a configuration item to enable this policy (default is none)\n  backup_compress_only_empty_blocks = none/encrypted/all\n\nWhen compression is enabled and this configuration item is set to\n'encrypted' or 'all', this policy will be used (encrypted means\nonly taking effect on encrypted volumes), otherwise the original\nlogic will be executed.\n\nThis policy also supports incremental backups.\n\nBackups performed using this policy can be restored by the\nexisting logic.\n\nChange-Id: Iaa3a1a54550d63dadaaa580bd564eeafdec33b4e\n""}, {'number': 2, 'created': '2021-07-22 08:53:26.000000000', 'files': ['cinder/backup/drivers/s3.py', 'cinder/backup/drivers/swift.py', 'cinder/tests/unit/backup/test_chunkeddriver.py', 'cinder/backup/chunkeddriver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/07ac56c972e5ab20ca619746479f678e8bc892d9', 'message': ""Add a compression policy for backup chunked driver\n\nWhether to compress the data when using chunked driver for\nbackups can be chosen, but each has its disadvantages.\n\nWhen compression is not enabled, backing up sparse volumes will\nconsume a lot of meaningless space.\n\nWhen compression is enabled, data compression may take a lot of\ntime but could not obtain a good compression rate (especially\nfor encrypted volumes).\n\nIn consideration of achieving a balance between compression time\nand space, a backup compression policy is provided, which\nautomatically selects whether to compress or not according to\nwhether the data block is empty. Only empty blocks are to be\ncompressed.\n\nAdd a configuration item to enable this policy (default is none)\n  backup_compress_only_empty_blocks = none/encrypted/all\n\nWhen compression is enabled and this configuration item is set to\n'encrypted' or 'all', this policy will be used (encrypted means\nonly taking effect on encrypted volumes), otherwise the original\nlogic will be executed.\n\nThis policy also supports incremental backups.\n\nBackups performed using this policy can be restored by the\nexisting logic.\n\nChange-Id: Iaa3a1a54550d63dadaaa580bd564eeafdec33b4e\n""}]",0,801717,07ac56c972e5ab20ca619746479f678e8bc892d9,25,1,2,33761,,,0,"Add a compression policy for backup chunked driver

Whether to compress the data when using chunked driver for
backups can be chosen, but each has its disadvantages.

When compression is not enabled, backing up sparse volumes will
consume a lot of meaningless space.

When compression is enabled, data compression may take a lot of
time but could not obtain a good compression rate (especially
for encrypted volumes).

In consideration of achieving a balance between compression time
and space, a backup compression policy is provided, which
automatically selects whether to compress or not according to
whether the data block is empty. Only empty blocks are to be
compressed.

Add a configuration item to enable this policy (default is none)
  backup_compress_only_empty_blocks = none/encrypted/all

When compression is enabled and this configuration item is set to
'encrypted' or 'all', this policy will be used (encrypted means
only taking effect on encrypted volumes), otherwise the original
logic will be executed.

This policy also supports incremental backups.

Backups performed using this policy can be restored by the
existing logic.

Change-Id: Iaa3a1a54550d63dadaaa580bd564eeafdec33b4e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/17/801717/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/backup/drivers/s3.py', 'cinder/backup/drivers/swift.py', 'cinder/backup/chunkeddriver.py']",3,e3019f0deac107b41cdbbda1d9320b6387b92ad0,backup_compression_policy," cfg.StrOpt('backup_compress_only_empty_blocks', default='none', ignore_case=True, choices=[('none', 'Do not use this compression policy'), ('encrypted', 'Take effect on encrypted volumes'), ('all', 'Take effect on all volumes')], help='Compress only empty block data to save time.'), self.backup_compress_only_empty_blocks = \ CONF.backup_compress_only_empty_blocks self.empty_block_sha = None volume_encrypted = volume['encryption_key_id'] is not None volume_size_bytes, volume_encrypted) object_meta, extra_metadata, compress=True): algorithm, output_data = self._prepare_output_data(data, compress) def _prepare_output_data(self, data, compress=True): if self.compressor is None or not compress: def _compress_only_empty_blocks(self, volume_encrypted): if self.compressor is None: return False if self.backup_compress_only_empty_blocks.lower() == 'none': return False elif self.backup_compress_only_empty_blocks.lower() == 'encrypted': return volume_encrypted elif self.backup_compress_only_empty_blocks.lower() == 'all': return True else: return False def _calculate_empty_block_sha(self): """"""Calculate SHA256 of an empty block."""""" data = '' data = data.ljust(self.sha_block_size_bytes, '\x00') block = memoryview(data) sha = hashlib.sha256(block).hexdigest() return sha def _backup_comp_policy(self, backup, container, data, data_offset, object_meta, extra_metadata, shalist, shaindex, parent_backup, parent_backup_shalist): # Find the extent that needs to be backed up. extent_off = -1 extent_off_is_empty = None for idx, sha in enumerate(shalist): curr_off = idx * self.sha_block_size_bytes if parent_backup is None or sha != parent_backup_shalist[shaindex]: if extent_off == -1: # Start of new extent. if sha != self.empty_block_sha: extent_off = curr_off extent_off_is_empty = False else: extent_off = curr_off extent_off_is_empty = True else: # Current block is not empty, so last extent that empty # needs to be backed up now. if sha != self.empty_block_sha and \ extent_off_is_empty: segment = data[extent_off:curr_off] self._backup_chunk(backup, container, segment, data_offset + extent_off, object_meta, extra_metadata, True) extent_off = curr_off extent_off_is_empty = False # Current block is empty, so last extent that not empty # needs to be backed up now. elif sha == self.empty_block_sha and \ not extent_off_is_empty: segment = data[extent_off:curr_off] self._backup_chunk(backup, container, segment, data_offset + extent_off, object_meta, extra_metadata, False) extent_off = curr_off extent_off_is_empty = True else: if extent_off != -1: # We've reached the end of extent. extent_end = curr_off segment = data[extent_off:extent_end] if extent_off_is_empty: self._backup_chunk(backup, container, segment, data_offset + extent_off, object_meta, extra_metadata, True) else: self._backup_chunk(backup, container, segment, data_offset + extent_off, object_meta, extra_metadata, False) extent_off = -1 shaindex += 1 # The last extent extends to the end of data buffer. if extent_off != -1: extent_end = len(data) segment = data[extent_off:extent_end] if extent_off_is_empty: self._backup_chunk(backup, container, segment, data_offset + extent_off, object_meta, extra_metadata, True) else: self._backup_chunk(backup, container, segment, data_offset + extent_off, object_meta, extra_metadata, False) extent_off = -1 return shaindex parent_backup_shalist = None volume_size_bytes, volume_encrypted) = self._prepare_backup(backup) if self._compress_only_empty_blocks(volume_encrypted): if self.empty_block_sha is None: self.empty_block_sha = eventlet.tpool.execute( self._calculate_empty_block_sha) LOG.debug('Empty block SHA: %s', self.empty_block_sha) shaindex = self._backup_comp_policy(backup, container, data, data_offset, object_meta, extra_metadata, shalist, shaindex, parent_backup, parent_backup_shalist) else: # If parent_backup is not None, that means an incremental # backup will be performed. if parent_backup: # Find the extent that needs to be backed up. for idx, sha in enumerate(shalist): if sha != parent_backup_shalist[shaindex]: if extent_off == -1: # Start of new extent. extent_off = idx * self.sha_block_size_bytes else: if extent_off != -1: # We've reached the end of extent. extent_end = idx * self.sha_block_size_bytes segment = data[extent_off:extent_end] self._backup_chunk(backup, container, segment, data_offset + extent_off, object_meta, extra_metadata) extent_off = -1 shaindex += 1 # The last extent extends to the end of data buffer. if extent_off != -1: extent_end = len(data) segment = data[extent_off:extent_end] self._backup_chunk(backup, container, segment, data_offset + extent_off, object_meta, extra_metadata) extent_off = -1 else: # Do a full backup. self._backup_chunk(backup, container, data, data_offset, object_meta, extra_metadata)"," volume_size_bytes) object_meta, extra_metadata): algorithm, output_data = self._prepare_output_data(data) def _prepare_output_data(self, data): if self.compressor is None: volume_size_bytes) = self._prepare_backup(backup) # If parent_backup is not None, that means an incremental # backup will be performed. if parent_backup: # Find the extent that needs to be backed up. extent_off = -1 for idx, sha in enumerate(shalist): if sha != parent_backup_shalist[shaindex]: if extent_off == -1: # Start of new extent. extent_off = idx * self.sha_block_size_bytes else: if extent_off != -1: # We've reached the end of extent. extent_end = idx * self.sha_block_size_bytes segment = data[extent_off:extent_end] self._backup_chunk(backup, container, segment, data_offset + extent_off, object_meta, extra_metadata) extent_off = -1 shaindex += 1 # The last extent extends to the end of data buffer. if extent_off != -1: extent_end = len(data) segment = data[extent_off:extent_end] self._backup_chunk(backup, container, segment, data_offset + extent_off, object_meta, extra_metadata) else: # Do a full backup. self._backup_chunk(backup, container, data, data_offset, object_meta, extra_metadata)",169,37
openstack%2Fopenstacksdk~master~I311a0205999c8b6f810478036b4343dce2855b08,openstack/openstacksdk,master,I311a0205999c8b6f810478036b4343dce2855b08,Update Internap auth URL,MERGED,2022-04-20 14:40:57.000000000,2022-10-19 11:51:51.000000000,2022-10-19 11:50:44.000000000,"[{'_account_id': 13252}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32667}]","[{'number': 1, 'created': '2022-04-20 14:40:57.000000000', 'files': ['doc/source/user/multi-cloud-demo.rst', 'doc/source/user/config/vendor-support.rst', 'openstack/config/vendors/internap.json'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9bf73433e4cb8c3b72d553cca48b80c03db427eb', 'message': 'Update Internap auth URL\n\nChange-Id: I311a0205999c8b6f810478036b4343dce2855b08\n'}]",0,838734,9bf73433e4cb8c3b72d553cca48b80c03db427eb,9,4,1,7156,,,0,"Update Internap auth URL

Change-Id: I311a0205999c8b6f810478036b4343dce2855b08
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/34/838734/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/multi-cloud-demo.rst', 'doc/source/user/config/vendor-support.rst', 'openstack/config/vendors/internap.json']",3,9bf73433e4cb8c3b72d553cca48b80c03db427eb,internap," ""auth_url"": ""https://identity.api.cloud.inap.com"""," ""auth_url"": ""https://identity.api.cloud.iweb.com""",3,3
openstack%2Fopenstack-ansible-tests~stable%2Fqueens~Ife22b703d8d2c90b9e0a7c81cdd9741d5c8e4932,openstack/openstack-ansible-tests,stable/queens,Ife22b703d8d2c90b9e0a7c81cdd9741d5c8e4932,Switch linters to EOL,ABANDONED,2022-10-19 11:08:21.000000000,2022-10-19 11:27:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-10-19 11:08:21.000000000', 'files': ['test-ansible-env-prep.sh', 'sync-test-repos.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/97ec36bc19722719306d395b420b461e080c7889', 'message': 'Switch linters to EOL\n\nChange-Id: Ife22b703d8d2c90b9e0a7c81cdd9741d5c8e4932\n'}]",0,861873,97ec36bc19722719306d395b420b461e080c7889,3,1,1,28619,,,0,"Switch linters to EOL

Change-Id: Ife22b703d8d2c90b9e0a7c81cdd9741d5c8e4932
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/73/861873/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-ansible-env-prep.sh', 'sync-test-repos.sh']",2,97ec36bc19722719306d395b420b461e080c7889,, eval git clone -b queens-eol ${openstack_git_url}/$proj, eval git clone -b stable/queens ${openstack_git_url}/$proj,2,2
openstack%2Fcharm-specs~master~I9534d4ae4002927a24c22ef5575f19b31cb30625,openstack/charm-specs,master,I9534d4ae4002927a24c22ef5575f19b31cb30625,Update Infinidat charm-specs,NEW,2022-10-19 11:16:06.000000000,2022-10-19 11:21:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-10-19 11:16:06.000000000', 'files': ['specs/yoga/approved/cinder-infinidat.rst', 'specs/yoga/approved/infinidat-tools.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/36404716e0a9530596279e547b3e8835226a55f9', 'message': 'Update Infinidat charm-specs\n\n- Improve text formatting\n- Improve wording\n\nChange-Id: I9534d4ae4002927a24c22ef5575f19b31cb30625\n'}]",0,861875,36404716e0a9530596279e547b3e8835226a55f9,2,1,1,30110,,,0,"Update Infinidat charm-specs

- Improve text formatting
- Improve wording

Change-Id: I9534d4ae4002927a24c22ef5575f19b31cb30625
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/75/861875/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/yoga/approved/cinder-infinidat.rst', 'specs/yoga/approved/infinidat-tools.rst']",2,36404716e0a9530596279e547b3e8835226a55f9,charm-cinder-infinidat,"Linux operating system supports various storage arrays and protocols to access them. An iSCSI backend, for example, requires certain Linux storage subsystem configuration to be in-place in order to function properly. Components such as LVM or multipathing support must be installed and configured. Some types of storage arrays require installation of additional vendor-specific software components. Openstack Cinder and Nova components work together to allow the use of Cinder volumes utilizing certain storage arrays as the backend for the tenants. While Cinder is primarily responsible for provisioning, configuring and de-provisioning o the volume, volume attachment and actual data reading and writing is handled by the hypervisor host and kernel's block storage subsystem.This charm is designed to provide the Nova compute part of the iSCSI Infinidat storage backend for Openstack Cinder volumes. Because multiple storage backends can be configured on a compute host at the same time, this charm is implemented as a subordinate charm and it requires new relation endpoint, that we called 'storage-backend', to be implemented on the Nova-compute charm side. The purpose of this relation in the long term is to provide means for the principle charm to resolve potential host configuration ambiguity that the connect storage backends may request. At the moment of this writing, it is assumed that the initial implementation of the charm implements host configuration directly, however in future versions this functionality may be moved to the principal charm. As it has been mentioned above, sometimes additional software installation is required to support certain storage arrays. Initial implementation of this charm installs additional APT packages that bring Infinidat host configuration tools. These tools simplify environment configuration according to the best practices recommended by the vendor. The charm also supports templating of the distribution codename viaThe charm, as listed above. Plus, both unit and functional tests areFunctional tests would require the access and networking connectivity to anhost-power-tools from the Infinidat APT package repository (repo.infinidat.com). It also automatically installs Ubuntu packages scsitools and multipath-tools-boot as recommended by host-power-tools.","Linux operating system supports various storage arrays and protocols to accessthem. An iSCSI backend, for example, requires certain Linux storage subsystem configuration to be in-place in order to function properly. Components such as LVM or multipathing support must be installed and configured. Some types of storage arrays require installation of additional vendor-specific software components. Openstack Cinder and Nova components work together to allow the use of Cinder volumes utilizing certain storage arrays as the backend for the tenants. While Cinder is primarily responsible for provisioning, configuring and de-provisioning o the volume, volume attachment and actual data reading and writing is handled by the hypervisor host and kernel's block storage subsystem.This charm is designed to provide the Nova compute part of the iSCSI Infinidat storage backend for Openstack Cinder volumes. Because multiple storage backends can be configured on a compute host at the same time, this charm is implemented as a subordinate charm and it requires new relation endpoint, that we called 'storage-backend', to be implemented on the Nova-compute charm side. The purpose of this relation in the long term is to provide means for the principle charm to resolve potential host configuration ambiguity that the connect storage backends may request. At the moment of this writing, it is assumed that the initial implementation of the charm implements host configuration directly, however in future versions this functionality may be moved to the principal charm. As it has been mentioned above, sometimes additional software installation is required to support certain storage arrays. Initial implementation of this charm installs additional APT packages that bring Infinidat host configuration tools. These tools simplify environment configuration according to the best practices recommended by the vendor. The charm also supports templating of the distribution codename via Secondary assignee: tbd <tbd@canonical.com> - LP ID: tbd The charm, as listed above. Plus, both unit and functional tests will beFunctional tests would require the access and networking connectivity to an host-power-tools from the Infinidat APT package repository (repo.infinidat.com).It also installs Ubuntu packages scsitools and multipath-tools-boot as recommended by host-power-tools.",76,114
openstack%2Fzun-tempest-plugin~master~I54d140972e3f28c32623b3c66fd0f8c0dd7f25cb,openstack/zun-tempest-plugin,master,I54d140972e3f28c32623b3c66fd0f8c0dd7f25cb,Add stable/zed jobs on master gate,MERGED,2022-10-16 04:01:58.000000000,2022-10-19 11:16:40.000000000,2022-10-19 11:14:49.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-16 04:01:58.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/6a7c3f7c4c3fd8ca4d4f2e57b1cc7b791e9cf2d4', 'message': 'Add stable/zed jobs on master gate\n\nAs zed is released, we should add its job on master\ngate to keep branchless tempest plugins compatible\nto stable branch.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: I54d140972e3f28c32623b3c66fd0f8c0dd7f25cb\n'}]",0,861515,6a7c3f7c4c3fd8ca4d4f2e57b1cc7b791e9cf2d4,7,2,1,8556,,,0,"Add stable/zed jobs on master gate

As zed is released, we should add its job on master
gate to keep branchless tempest plugins compatible
to stable branch.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: I54d140972e3f28c32623b3c66fd0f8c0dd7f25cb
",git fetch https://review.opendev.org/openstack/zun-tempest-plugin refs/changes/15/861515/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6a7c3f7c4c3fd8ca4d4f2e57b1cc7b791e9cf2d4,zed-stable-job,- job: name: zun-tempest-py3-docker-sql-zed parent: zun-tempest-py3-docker-sql nodeset: openstack-single-node-focal override-checkout: stable/zed - project: queue: zun - zun-tempest-py3-docker-sql-zed - zun-tempest-py3-docker-sql-zed,- project: queue: zun,9,1
openstack%2Fkolla~stable%2Fyoga~I1eb1e1bd2bf74dbef214d458cbde13aa8c2a286f,openstack/kolla,stable/yoga,I1eb1e1bd2bf74dbef214d458cbde13aa8c2a286f,rabbitmq: bump Erlang version to 25.x,MERGED,2022-10-19 08:10:08.000000000,2022-10-19 11:03:07.000000000,2022-10-19 11:02:05.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-10-19 08:10:08.000000000', 'files': ['docker/base/apt_preferences.ubuntu', 'docker/base/apt_preferences.debian', 'docker/rabbitmq/Dockerfile.j2', 'docker/kolla-toolbox/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/05a316f9fb4d361b363eb8b3ffe58386d738237b', 'message': 'rabbitmq: bump Erlang version to 25.x\n\nWe decided to ship one Erlang version for all distributions and\narchitectures.\n\nRabbitMQ 3.9.22+ requires Erlang 24.2+ and 24.3.4.2+ is recommended due\nto CVE-2022-37026.\n\nChange-Id: I1eb1e1bd2bf74dbef214d458cbde13aa8c2a286f\n'}]",0,861850,05a316f9fb4d361b363eb8b3ffe58386d738237b,10,3,1,24072,,,0,"rabbitmq: bump Erlang version to 25.x

We decided to ship one Erlang version for all distributions and
architectures.

RabbitMQ 3.9.22+ requires Erlang 24.2+ and 24.3.4.2+ is recommended due
to CVE-2022-37026.

Change-Id: I1eb1e1bd2bf74dbef214d458cbde13aa8c2a286f
",git fetch https://review.opendev.org/openstack/kolla refs/changes/50/861850/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/apt_preferences.ubuntu', 'docker/base/apt_preferences.debian', 'docker/rabbitmq/Dockerfile.j2', 'docker/kolla-toolbox/Dockerfile.j2']",4,05a316f9fb4d361b363eb8b3ffe58386d738237b,rmq-erlang-update," 'erlang-25.*',"," 'erlang-24.*',",4,4
openstack%2Fpython-tripleoclient~master~I63cc1a239fe24c8ee7ac4e829c0ac25e344b9a50,openstack/python-tripleoclient,master,I63cc1a239fe24c8ee7ac4e829c0ac25e344b9a50,Don't try stack delete with overcloud delete,MERGED,2022-10-10 04:54:25.000000000,2022-10-19 10:58:15.000000000,2022-10-19 10:57:09.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-10-10 04:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5e10dfd3f698bed3f8e096b66dcb5a4a7cc0533f', 'message': ""Don't try stack delete with overcloud delete\n\nWe don't support installed heat anymore and with 'native'\nheat there is no heat service running after deployment\nfor the api request.\n\nAlso, fixes native launcher support as there is no rm_heat()\nfor it.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/860803\nChange-Id: I63cc1a239fe24c8ee7ac4e829c0ac25e344b9a50\n""}, {'number': 2, 'created': '2022-10-10 12:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9573c55639858fefb9dcb21bbf67ae629c21c869', 'message': ""Don't try stack delete with overcloud delete\n\nWe don't support installed heat anymore and with 'native'\nheat there is no heat service running after deployment\nfor the api request.\n\nAlso, fixes native launcher support as there is no rm_heat()\nfor it.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/860803\nChange-Id: I63cc1a239fe24c8ee7ac4e829c0ac25e344b9a50\n""}, {'number': 3, 'created': '2022-10-13 04:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/babc70b6a689cf3d0c323306d47725e20a13ed21', 'message': ""Don't try stack delete with overcloud delete\n\nWe don't support installed heat anymore and with 'native'\nheat there is no heat service running after deployment\nfor the api request.\n\nAlso, fixes native launcher support as there is no rm_heat()\nfor it.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/860803\nChange-Id: I63cc1a239fe24c8ee7ac4e829c0ac25e344b9a50\n""}, {'number': 4, 'created': '2022-10-13 05:17:25.000000000', 'files': ['tripleoclient/tests/v2/overcloud_delete/test_overcloud_delete.py', 'tripleoclient/v2/overcloud_delete.py', 'tripleoclient/utils.py', 'tripleoclient/heat_launcher.py', 'tripleoclient/tests/test_heat_launcher.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0167db88796df992e12accf64a35d75274a1eb84', 'message': ""Don't try stack delete with overcloud delete\n\nWe don't support installed heat anymore and with 'native'\nheat there is no heat service running after deployment\nfor the api request.\n\nAlso, fixes native launcher support as there is no rm_heat()\nfor it.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/860803\nChange-Id: I63cc1a239fe24c8ee7ac4e829c0ac25e344b9a50\n""}]",6,860804,0167db88796df992e12accf64a35d75274a1eb84,25,4,4,8833,,,0,"Don't try stack delete with overcloud delete

We don't support installed heat anymore and with 'native'
heat there is no heat service running after deployment
for the api request.

Also, fixes native launcher support as there is no rm_heat()
for it.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/860803
Change-Id: I63cc1a239fe24c8ee7ac4e829c0ac25e344b9a50
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/04/860804/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v2/overcloud_delete/test_overcloud_delete.py', 'tripleoclient/v2/overcloud_delete.py', 'tripleoclient/utils.py', 'tripleoclient/tests/test_heat_launcher.py', 'tripleoclient/v1/overcloud_deploy.py']",5,5e10dfd3f698bed3f8e096b66dcb5a4a7cc0533f,," help=_('DEPRECATED: The type of Heat process to use to execute ' utils.rm_heat(self.heat_launcher, parsed_args.heat_type, backup_db=True) utils.rm_heat(self.heat_launcher, parsed_args.heat_tpe, backup_db=True)"," help=_('The type of Heat process to use to execute ' utils.rm_heat(self.heat_launcher, backup_db=True) utils.rm_heat(self.heat_launcher, backup_db=True)",14,14
openstack%2Fopenstacksdk~master~Id97c9583cbccc935ae6bfde54ff45e1e63deedde,openstack/openstacksdk,master,Id97c9583cbccc935ae6bfde54ff45e1e63deedde,Updating python testing classifier as per Yoga testing runtime,ABANDONED,2022-02-16 07:02:56.000000000,2022-10-19 10:40:49.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-16 07:02:56.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/47a730a7eff5491cb1c3a561ae27c00cb5e972b4', 'message': 'Updating python testing classifier as per Yoga testing runtime\n\nYoga testing runtime[1] has been updated to add py39\ntesting as voting. Unit tests update are handled by the\njob template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nthis commit updates the classifier in setup.cfg file.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: Id97c9583cbccc935ae6bfde54ff45e1e63deedde\n'}]",0,829483,47a730a7eff5491cb1c3a561ae27c00cb5e972b4,5,2,1,32291,,,0,"Updating python testing classifier as per Yoga testing runtime

Yoga testing runtime[1] has been updated to add py39
testing as voting. Unit tests update are handled by the
job template change in openstack-zuul-job

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

this commit updates the classifier in setup.cfg file.

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: Id97c9583cbccc935ae6bfde54ff45e1e63deedde
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/83/829483/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,47a730a7eff5491cb1c3a561ae27c00cb5e972b4,, Programming Language :: Python :: 3.9,,1,0
openstack%2Fironic~stable%2Fussuri~Ib284ae7b78d99781f65d72a6fc4107e7a95e370c,openstack/ironic,stable/ussuri,Ib284ae7b78d99781f65d72a6fc4107e7a95e370c,CI: Reduce overall test load,MERGED,2022-10-10 15:46:05.000000000,2022-10-19 10:40:45.000000000,2022-10-19 10:37:37.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-10-10 15:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/eb117437fcb3d2eae80cb6f056fd18431316fb4c', 'message': 'CI: Reduce overall test load\n\nReduce the testing matrix to the bare minimum covering\nbase protocols and primary modes of operation per the Ironic\nteam meeting on October 10th, 2022.\n\nhttps://meetings.opendev.org/meetings/ironic/2022/ironic.2022-10-10-15.01.txt\n\nChange-Id: Ib284ae7b78d99781f65d72a6fc4107e7a95e370c\n'}, {'number': 2, 'created': '2022-10-14 22:46:26.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/86ad802f9104cf9b9a615e16a0d86253afee0aa4', 'message': 'CI: Reduce overall test load\n\nReduce the testing matrix to the bare minimum covering\nbase protocols and primary modes of operation per the Ironic\nteam meeting on October 10th, 2022.\n\nAlso removing the ansible deploy interface, which\nno longer out of the box due to Ansible version\nevolution.\n\nhttps://meetings.opendev.org/meetings/ironic/2022/ironic.2022-10-10-15.01.txt\n\nChange-Id: Ib284ae7b78d99781f65d72a6fc4107e7a95e370c\n'}]",0,860852,86ad802f9104cf9b9a615e16a0d86253afee0aa4,19,4,2,11655,,,0,"CI: Reduce overall test load

Reduce the testing matrix to the bare minimum covering
base protocols and primary modes of operation per the Ironic
team meeting on October 10th, 2022.

Also removing the ansible deploy interface, which
no longer out of the box due to Ansible version
evolution.

https://meetings.opendev.org/meetings/ironic/2022/ironic.2022-10-10-15.01.txt

Change-Id: Ib284ae7b78d99781f65d72a6fc4107e7a95e370c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/52/860852/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,eb117437fcb3d2eae80cb6f056fd18431316fb4c,, # - ironic-tempest-partition-uefi-redfish-vmedia # - ironic-tempest-ipa-partition-pxe_ipmitool # - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa # - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-indirect # - ironic-tempest-ipa-partition-bios-agent_ipmitool-indirect # - ironic-tempest-bfv # - ironic-tempest-ipa-wholedisk-bios-pxe_snmp: # voting: false # - ironic-inspector-tempest: # voting: false # - ironic-inspector-tempest-managed: # voting: false # - ironic-inspector-tempest-partition-bios-redfish-vmedia: # voting: false # - ironic-tempest-ipa-wholedisk-bios-ipmi-direct-dib: # voting: false # - bifrost-integration-tinyipa-ubuntu-bionic: # voting: false # - ironic-tempest-pxe_ipmitool-postgres: # voting: false # - ironic-tempest-partition-uefi-redfish-vmedia # - ironic-tempest-ipa-partition-pxe_ipmitool # - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa # - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-indirect # - ironic-tempest-ipa-partition-bios-agent_ipmitool-indirect # - ironic-tempest-bfv, - ironic-tempest-partition-uefi-redfish-vmedia - ironic-tempest-ipa-partition-pxe_ipmitool - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-indirect - ironic-tempest-ipa-partition-bios-agent_ipmitool-indirect - ironic-tempest-bfv - ironic-tempest-ipa-wholedisk-bios-pxe_snmp: voting: false - ironic-inspector-tempest: voting: false - ironic-inspector-tempest-managed: voting: false - ironic-inspector-tempest-partition-bios-redfish-vmedia: voting: false - ironic-tempest-ipa-wholedisk-bios-ipmi-direct-dib: voting: false - bifrost-integration-tinyipa-ubuntu-bionic: voting: false - ironic-tempest-pxe_ipmitool-postgres: voting: false - ironic-tempest-partition-uefi-redfish-vmedia - ironic-tempest-ipa-partition-pxe_ipmitool - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-indirect - ironic-tempest-ipa-partition-bios-agent_ipmitool-indirect - ironic-tempest-bfv,26,26
openstack%2Fironic~stable%2Fvictoria~If36064d3feb33d4a33d50e17e7bd8eb0f8c4866e,openstack/ironic,stable/victoria,If36064d3feb33d4a33d50e17e7bd8eb0f8c4866e,CI: Reduce overall test load,MERGED,2022-10-10 15:35:30.000000000,2022-10-19 10:39:39.000000000,2022-10-19 10:37:30.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-10-10 15:35:30.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/bf05e7102ae96873858654be8b8e73eb29f6da4d', 'message': 'CI: Reduce overall test load\n\nReduce the testing matrix to the bare minimum covering\nbase protocols and primary modes of operation per the Ironic\nteam meeting on October 10th, 2022.\n\nhttps://meetings.opendev.org/meetings/ironic/2022/ironic.2022-10-10-15.01.txt\n\nChange-Id: If36064d3feb33d4a33d50e17e7bd8eb0f8c4866e\n'}]",0,860851,bf05e7102ae96873858654be8b8e73eb29f6da4d,11,3,1,11655,,,0,"CI: Reduce overall test load

Reduce the testing matrix to the bare minimum covering
base protocols and primary modes of operation per the Ironic
team meeting on October 10th, 2022.

https://meetings.opendev.org/meetings/ironic/2022/ironic.2022-10-10-15.01.txt

Change-Id: If36064d3feb33d4a33d50e17e7bd8eb0f8c4866e
",git fetch https://review.opendev.org/openstack/ironic refs/changes/51/860851/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,bf05e7102ae96873858654be8b8e73eb29f6da4d,, # - ironic-tempest-partition-uefi-redfish-vmedia # - ironic-tempest-wholedisk-bios-snmp-pxe # - ironic-tempest-ipa-partition-pxe_ipmitool # - ironic-tempest-ipa-partition-uefi-pxe_ipmitool # - ironic-tempest-bios-ipmi-direct-tinyipa # - ironic-tempest-bfv # - ironic-inspector-tempest: # voting: false # - ironic-inspector-tempest-managed-non-standalone: # voting: false # - ironic-inspector-tempest-partition-bios-redfish-vmedia: # voting: false # - ironic-tempest-ipa-wholedisk-bios-ipmi-direct-dib: # voting: false # - bifrost-integration-tinyipa-ubuntu-bionic: # voting: false # - ironic-tempest-pxe_ipmitool-postgres: # voting: false # - ironic-tempest-ipa-wholedisk-direct-tinyipa-multinode # - ironic-tempest-partition-uefi-redfish-vmedia # - ironic-tempest-wholedisk-bios-snmp-pxe # - ironic-tempest-ipa-partition-pxe_ipmitool # - ironic-tempest-ipa-partition-uefi-pxe_ipmitool # - ironic-tempest-bios-ipmi-direct-tinyipa # - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-indirect # - ironic-tempest-ipa-partition-bios-agent_ipmitool-indirect # - ironic-tempest-bfv, - ironic-tempest-partition-uefi-redfish-vmedia - ironic-tempest-wholedisk-bios-snmp-pxe - ironic-tempest-ipa-partition-pxe_ipmitool - ironic-tempest-ipa-partition-uefi-pxe_ipmitool - ironic-tempest-bios-ipmi-direct-tinyipa - ironic-tempest-bfv - ironic-inspector-tempest: voting: false - ironic-inspector-tempest-managed-non-standalone: voting: false - ironic-inspector-tempest-partition-bios-redfish-vmedia: voting: false - ironic-tempest-ipa-wholedisk-bios-ipmi-direct-dib: voting: false - bifrost-integration-tinyipa-ubuntu-bionic: voting: false - ironic-tempest-pxe_ipmitool-postgres: voting: false #- ironic-tempest-ipa-wholedisk-direct-tinyipa-multinode - ironic-tempest-partition-uefi-redfish-vmedia - ironic-tempest-wholedisk-bios-snmp-pxe - ironic-tempest-ipa-partition-pxe_ipmitool - ironic-tempest-ipa-partition-uefi-pxe_ipmitool - ironic-tempest-bios-ipmi-direct-tinyipa - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-indirect - ironic-tempest-ipa-partition-bios-agent_ipmitool-indirect - ironic-tempest-bfv,27,27
openstack%2Fironic-lib~stable%2Fyoga~If93ca57e1340b2ed39c02f673502c04d9b63c98c,openstack/ironic-lib,stable/yoga,If93ca57e1340b2ed39c02f673502c04d9b63c98c,CI: Zuul no longer respects queue param,MERGED,2022-10-03 21:51:17.000000000,2022-10-19 10:37:13.000000000,2022-10-19 10:35:27.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-10-03 21:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/2ad59b044fc6597fe76cc4124ced2d25f0dea721', 'message': 'CI: Zuul no longer respects queue param\n\nChange-Id: If93ca57e1340b2ed39c02f673502c04d9b63c98c\n'}, {'number': 2, 'created': '2022-10-04 21:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/03ecd61e000ce726f7af04894ca6130db5608875', 'message': 'CI: Zuul no longer respects queue param\n\nAlso: Update regex for tempest job so run so only a partition\nimage test runs during the partition image build configuration.\nWhich is due to overall job changes in ironic later on in tempest.\nChange-Id: If93ca57e1340b2ed39c02f673502c04d9b63c98c\n'}, {'number': 3, 'created': '2022-10-05 15:28:27.000000000', 'files': ['zuul.d/ironic-lib-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/29fb9e75f6cdd6c1feaebc2fff14897eb94f8410', 'message': 'CI: Zuul no longer respects queue param\n\nAlso explicitly set the ironic-lib-bios-ipmi-src job\nto use bios boot mode as it handles partition (via netboot)\nand wholedisk iamges (cirros images to be exact) which\ndo not support UEFI boot. With this, left the other job\nin place as-is since it seems to be hapilly passing\nas a wholedisk job. Likely some conditional logic in the\ndevstack plugin is making it happy to pass.\n\nChange-Id: If93ca57e1340b2ed39c02f673502c04d9b63c98c\n'}]",2,860172,29fb9e75f6cdd6c1feaebc2fff14897eb94f8410,20,4,3,10342,,,0,"CI: Zuul no longer respects queue param

Also explicitly set the ironic-lib-bios-ipmi-src job
to use bios boot mode as it handles partition (via netboot)
and wholedisk iamges (cirros images to be exact) which
do not support UEFI boot. With this, left the other job
in place as-is since it seems to be hapilly passing
as a wholedisk job. Likely some conditional logic in the
devstack plugin is making it happy to pass.

Change-Id: If93ca57e1340b2ed39c02f673502c04d9b63c98c
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/72/860172/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,2ad59b044fc6597fe76cc4124ced2d25f0dea721,,, queue: ironic,0,1
openstack%2Foctavia~stable%2Fvictoria~I876fd91fb40d9250381bbb37f8148b53692a7d8d,openstack/octavia,stable/victoria,I876fd91fb40d9250381bbb37f8148b53692a7d8d,Fix PortNotFound exception when updating a LB after a failover,MERGED,2022-08-23 13:57:49.000000000,2022-10-19 10:27:49.000000000,2022-10-19 10:25:23.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-08-23 13:57:49.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'releasenotes/notes/fix-qos-apply-after-failover-561abbd153ab88ee.yaml', 'octavia/controller/worker/v1/tasks/network_tasks.py', 'octavia/tests/common/constants.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/36a9c13e3b1898aaeb6c21f1e0d004533b711a27', 'message': 'Fix PortNotFound exception when updating a LB after a failover\n\nThe ApplyQos task applied the qos policy on the VRRP ports of all the\namphorae linked to a load balancer, including amphorae in DELETED\nstatus. It triggered an ERROR when updating a LB (with a qos policy)\nafter a failover.\n\nStory 2009667\nTask 43894\n\nChange-Id: I876fd91fb40d9250381bbb37f8148b53692a7d8d\n(cherry picked from commit c3481d04a25c4e6f03ce4de720c620730188d99e)\n(cherry picked from commit 328ffc00cf5fc74eed6889bae2594cded1f8cd9b)\n(cherry picked from commit 8b28293ddbe6e74170c253b55fafee3e057c47b4)\n(cherry picked from commit b8d68e6e3d16dd29e3b4ba58b0cb3b54780500f7)\n'}]",1,854205,36a9c13e3b1898aaeb6c21f1e0d004533b711a27,8,3,1,29244,,,0,"Fix PortNotFound exception when updating a LB after a failover

The ApplyQos task applied the qos policy on the VRRP ports of all the
amphorae linked to a load balancer, including amphorae in DELETED
status. It triggered an ERROR when updating a LB (with a qos policy)
after a failover.

Story 2009667
Task 43894

Change-Id: I876fd91fb40d9250381bbb37f8148b53692a7d8d
(cherry picked from commit c3481d04a25c4e6f03ce4de720c620730188d99e)
(cherry picked from commit 328ffc00cf5fc74eed6889bae2594cded1f8cd9b)
(cherry picked from commit 8b28293ddbe6e74170c253b55fafee3e057c47b4)
(cherry picked from commit b8d68e6e3d16dd29e3b4ba58b0cb3b54780500f7)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/05/854205/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'octavia/controller/worker/v1/tasks/network_tasks.py', 'releasenotes/notes/fix-qos-apply-after-failover-561abbd153ab88ee.yaml', 'octavia/tests/common/constants.py']",6,36a9c13e3b1898aaeb6c21f1e0d004533b711a27,,MOCK_AMP_ID3 = 'amp3-id'MOCK_AMP_COMPUTE_ID3 = 'amp3-compute-id'MOCK_VRRP_PORT_ID3 = 'vrrp-port-3'MOCK_VRRP_IP3 = '55.55.55.3',,32,2
openstack%2Foctavia~stable%2Fwallaby~I876fd91fb40d9250381bbb37f8148b53692a7d8d,openstack/octavia,stable/wallaby,I876fd91fb40d9250381bbb37f8148b53692a7d8d,Fix PortNotFound exception when updating a LB after a failover,MERGED,2022-08-23 13:57:27.000000000,2022-10-19 10:27:31.000000000,2022-10-19 10:25:32.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-08-23 13:57:27.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'releasenotes/notes/fix-qos-apply-after-failover-561abbd153ab88ee.yaml', 'octavia/controller/worker/v1/tasks/network_tasks.py', 'octavia/tests/common/constants.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b8d68e6e3d16dd29e3b4ba58b0cb3b54780500f7', 'message': 'Fix PortNotFound exception when updating a LB after a failover\n\nThe ApplyQos task applied the qos policy on the VRRP ports of all the\namphorae linked to a load balancer, including amphorae in DELETED\nstatus. It triggered an ERROR when updating a LB (with a qos policy)\nafter a failover.\n\nStory 2009667\nTask 43894\n\nChange-Id: I876fd91fb40d9250381bbb37f8148b53692a7d8d\n(cherry picked from commit c3481d04a25c4e6f03ce4de720c620730188d99e)\n(cherry picked from commit 328ffc00cf5fc74eed6889bae2594cded1f8cd9b)\n(cherry picked from commit 8b28293ddbe6e74170c253b55fafee3e057c47b4)\n'}]",1,854204,b8d68e6e3d16dd29e3b4ba58b0cb3b54780500f7,8,3,1,29244,,,0,"Fix PortNotFound exception when updating a LB after a failover

The ApplyQos task applied the qos policy on the VRRP ports of all the
amphorae linked to a load balancer, including amphorae in DELETED
status. It triggered an ERROR when updating a LB (with a qos policy)
after a failover.

Story 2009667
Task 43894

Change-Id: I876fd91fb40d9250381bbb37f8148b53692a7d8d
(cherry picked from commit c3481d04a25c4e6f03ce4de720c620730188d99e)
(cherry picked from commit 328ffc00cf5fc74eed6889bae2594cded1f8cd9b)
(cherry picked from commit 8b28293ddbe6e74170c253b55fafee3e057c47b4)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/04/854204/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'octavia/controller/worker/v1/tasks/network_tasks.py', 'releasenotes/notes/fix-qos-apply-after-failover-561abbd153ab88ee.yaml', 'octavia/tests/common/constants.py']",6,b8d68e6e3d16dd29e3b4ba58b0cb3b54780500f7,,MOCK_AMP_ID3 = 'amp3-id'MOCK_AMP_COMPUTE_ID3 = 'amp3-compute-id'MOCK_VRRP_PORT_ID3 = 'vrrp-port-3'MOCK_VRRP_IP3 = '55.55.55.3',,32,2
openstack%2Foctavia~stable%2Fussuri~I876fd91fb40d9250381bbb37f8148b53692a7d8d,openstack/octavia,stable/ussuri,I876fd91fb40d9250381bbb37f8148b53692a7d8d,Fix PortNotFound exception when updating a LB after a failover,MERGED,2022-08-23 13:58:08.000000000,2022-10-19 10:27:14.000000000,2022-10-19 10:25:15.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-08-23 13:58:08.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'releasenotes/notes/fix-qos-apply-after-failover-561abbd153ab88ee.yaml', 'octavia/controller/worker/v1/tasks/network_tasks.py', 'octavia/tests/common/constants.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/77f5850b3c6b5f215c29ae704ecf5480062427e4', 'message': 'Fix PortNotFound exception when updating a LB after a failover\n\nThe ApplyQos task applied the qos policy on the VRRP ports of all the\namphorae linked to a load balancer, including amphorae in DELETED\nstatus. It triggered an ERROR when updating a LB (with a qos policy)\nafter a failover.\n\nStory 2009667\nTask 43894\n\nChange-Id: I876fd91fb40d9250381bbb37f8148b53692a7d8d\n(cherry picked from commit c3481d04a25c4e6f03ce4de720c620730188d99e)\n(cherry picked from commit 328ffc00cf5fc74eed6889bae2594cded1f8cd9b)\n(cherry picked from commit 8b28293ddbe6e74170c253b55fafee3e057c47b4)\n(cherry picked from commit b8d68e6e3d16dd29e3b4ba58b0cb3b54780500f7)\n(cherry picked from commit 36a9c13e3b1898aaeb6c21f1e0d004533b711a27)\n'}]",1,854206,77f5850b3c6b5f215c29ae704ecf5480062427e4,8,3,1,29244,,,0,"Fix PortNotFound exception when updating a LB after a failover

The ApplyQos task applied the qos policy on the VRRP ports of all the
amphorae linked to a load balancer, including amphorae in DELETED
status. It triggered an ERROR when updating a LB (with a qos policy)
after a failover.

Story 2009667
Task 43894

Change-Id: I876fd91fb40d9250381bbb37f8148b53692a7d8d
(cherry picked from commit c3481d04a25c4e6f03ce4de720c620730188d99e)
(cherry picked from commit 328ffc00cf5fc74eed6889bae2594cded1f8cd9b)
(cherry picked from commit 8b28293ddbe6e74170c253b55fafee3e057c47b4)
(cherry picked from commit b8d68e6e3d16dd29e3b4ba58b0cb3b54780500f7)
(cherry picked from commit 36a9c13e3b1898aaeb6c21f1e0d004533b711a27)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/06/854206/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'octavia/controller/worker/v1/tasks/network_tasks.py', 'releasenotes/notes/fix-qos-apply-after-failover-561abbd153ab88ee.yaml', 'octavia/tests/common/constants.py']",6,77f5850b3c6b5f215c29ae704ecf5480062427e4,,MOCK_AMP_ID3 = 'amp3-id'MOCK_AMP_COMPUTE_ID3 = 'amp3-compute-id'MOCK_VRRP_PORT_ID3 = 'vrrp-port-3'MOCK_VRRP_IP3 = '55.55.55.3',,32,2
openstack%2Foctavia~stable%2Fyoga~I876fd91fb40d9250381bbb37f8148b53692a7d8d,openstack/octavia,stable/yoga,I876fd91fb40d9250381bbb37f8148b53692a7d8d,Fix PortNotFound exception when updating a LB after a failover,MERGED,2022-08-23 13:54:14.000000000,2022-10-19 10:26:29.000000000,2022-10-19 10:25:08.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-08-23 13:54:14.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'releasenotes/notes/fix-qos-apply-after-failover-561abbd153ab88ee.yaml', 'octavia/controller/worker/v1/tasks/network_tasks.py', 'octavia/tests/common/constants.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/328ffc00cf5fc74eed6889bae2594cded1f8cd9b', 'message': 'Fix PortNotFound exception when updating a LB after a failover\n\nThe ApplyQos task applied the qos policy on the VRRP ports of all the\namphorae linked to a load balancer, including amphorae in DELETED\nstatus. It triggered an ERROR when updating a LB (with a qos policy)\nafter a failover.\n\nStory 2009667\nTask 43894\n\nChange-Id: I876fd91fb40d9250381bbb37f8148b53692a7d8d\n(cherry picked from commit c3481d04a25c4e6f03ce4de720c620730188d99e)\n'}]",1,854200,328ffc00cf5fc74eed6889bae2594cded1f8cd9b,8,3,1,29244,,,0,"Fix PortNotFound exception when updating a LB after a failover

The ApplyQos task applied the qos policy on the VRRP ports of all the
amphorae linked to a load balancer, including amphorae in DELETED
status. It triggered an ERROR when updating a LB (with a qos policy)
after a failover.

Story 2009667
Task 43894

Change-Id: I876fd91fb40d9250381bbb37f8148b53692a7d8d
(cherry picked from commit c3481d04a25c4e6f03ce4de720c620730188d99e)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/00/854200/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'octavia/controller/worker/v1/tasks/network_tasks.py', 'releasenotes/notes/fix-qos-apply-after-failover-561abbd153ab88ee.yaml', 'octavia/tests/common/constants.py']",6,328ffc00cf5fc74eed6889bae2594cded1f8cd9b,,MOCK_AMP_ID3 = 'amp3-id'MOCK_AMP_COMPUTE_ID3 = 'amp3-compute-id'MOCK_VRRP_PORT_ID3 = 'vrrp-port-3'MOCK_VRRP_IP3 = '55.55.55.3',,32,2
openstack%2Foctavia~stable%2Ftrain~I876fd91fb40d9250381bbb37f8148b53692a7d8d,openstack/octavia,stable/train,I876fd91fb40d9250381bbb37f8148b53692a7d8d,Fix PortNotFound exception when updating a LB after a failover,MERGED,2022-08-23 13:58:39.000000000,2022-10-19 10:26:20.000000000,2022-10-19 10:25:01.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-08-23 13:58:39.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'releasenotes/notes/fix-qos-apply-after-failover-561abbd153ab88ee.yaml', 'octavia/controller/worker/v1/tasks/network_tasks.py', 'octavia/tests/common/constants.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/6fd073a7f3f78f06b40c418184ca5fa02e410199', 'message': 'Fix PortNotFound exception when updating a LB after a failover\n\nThe ApplyQos task applied the qos policy on the VRRP ports of all the\namphorae linked to a load balancer, including amphorae in DELETED\nstatus. It triggered an ERROR when updating a LB (with a qos policy)\nafter a failover.\n\nStory 2009667\nTask 43894\n\nChange-Id: I876fd91fb40d9250381bbb37f8148b53692a7d8d\n(cherry picked from commit c3481d04a25c4e6f03ce4de720c620730188d99e)\n(cherry picked from commit 328ffc00cf5fc74eed6889bae2594cded1f8cd9b)\n(cherry picked from commit 8b28293ddbe6e74170c253b55fafee3e057c47b4)\n(cherry picked from commit b8d68e6e3d16dd29e3b4ba58b0cb3b54780500f7)\n(cherry picked from commit 36a9c13e3b1898aaeb6c21f1e0d004533b711a27)\n(cherry picked from commit 77f5850b3c6b5f215c29ae704ecf5480062427e4)\n'}]",1,854207,6fd073a7f3f78f06b40c418184ca5fa02e410199,8,3,1,29244,,,0,"Fix PortNotFound exception when updating a LB after a failover

The ApplyQos task applied the qos policy on the VRRP ports of all the
amphorae linked to a load balancer, including amphorae in DELETED
status. It triggered an ERROR when updating a LB (with a qos policy)
after a failover.

Story 2009667
Task 43894

Change-Id: I876fd91fb40d9250381bbb37f8148b53692a7d8d
(cherry picked from commit c3481d04a25c4e6f03ce4de720c620730188d99e)
(cherry picked from commit 328ffc00cf5fc74eed6889bae2594cded1f8cd9b)
(cherry picked from commit 8b28293ddbe6e74170c253b55fafee3e057c47b4)
(cherry picked from commit b8d68e6e3d16dd29e3b4ba58b0cb3b54780500f7)
(cherry picked from commit 36a9c13e3b1898aaeb6c21f1e0d004533b711a27)
(cherry picked from commit 77f5850b3c6b5f215c29ae704ecf5480062427e4)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/07/854207/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'octavia/controller/worker/v1/tasks/network_tasks.py', 'releasenotes/notes/fix-qos-apply-after-failover-561abbd153ab88ee.yaml', 'octavia/tests/common/constants.py']",6,6fd073a7f3f78f06b40c418184ca5fa02e410199,,MOCK_AMP_ID3 = 'amp3-id'MOCK_AMP_COMPUTE_ID3 = 'amp3-compute-id'MOCK_VRRP_PORT_ID3 = 'vrrp-port-3'MOCK_VRRP_IP3 = '55.55.55.3',,32,2
openstack%2Freleases~master~Ifef6a899c2bc19d9f589777d4e532feabab7d1f7,openstack/releases,master,Ifef6a899c2bc19d9f589777d4e532feabab7d1f7,stevedore 3.4.2,ABANDONED,2022-10-13 13:44:26.000000000,2022-10-19 10:23:05.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-10-13 13:44:26.000000000', 'files': ['deliverables/xena/stevedore.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/349643386906abd76b5fc67856541e8198c757af', 'message': 'stevedore 3.4.2\n\nChange-Id: Ifef6a899c2bc19d9f589777d4e532feabab7d1f7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",7,861181,349643386906abd76b5fc67856541e8198c757af,13,4,1,15334,,,0,"stevedore 3.4.2

Change-Id: Ifef6a899c2bc19d9f589777d4e532feabab7d1f7
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/81/861181/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/stevedore.yaml'],1,349643386906abd76b5fc67856541e8198c757af,stevedore, - version: 3.4.2 projectS: - repo: openstack/stevedore hash: 97dee6c435e4609231c96106fe253a1d9749d9cc,,4,0
openstack%2Fneutron~master~I7d651c129bb9468ddcc344ddec66184e5cc1c5fa,openstack/neutron,master,I7d651c129bb9468ddcc344ddec66184e5cc1c5fa,Remove xenapi from neutron ml2 config opts,MERGED,2022-10-19 07:57:07.000000000,2022-10-19 10:19:37.000000000,2022-10-19 10:17:20.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-19 07:57:07.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c871135cdd83976ec22c4d4cb9b213dc157433b0', 'message': 'Remove xenapi from neutron ml2 config opts\n\nThis patch just remove xenapi from setup.cfg\nas it has been already removed in [1].\n\n[1] https://review.opendev.org/c/openstack/neutron/+/787736\n\nChange-Id: I7d651c129bb9468ddcc344ddec66184e5cc1c5fa\n'}]",1,861828,c871135cdd83976ec22c4d4cb9b213dc157433b0,11,5,1,27339,,,0,"Remove xenapi from neutron ml2 config opts

This patch just remove xenapi from setup.cfg
as it has been already removed in [1].

[1] https://review.opendev.org/c/openstack/neutron/+/787736

Change-Id: I7d651c129bb9468ddcc344ddec66184e5cc1c5fa
",git fetch https://review.opendev.org/openstack/neutron refs/changes/28/861828/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,c871135cdd83976ec22c4d4cb9b213dc157433b0,,, neutron.ml2.xenapi = neutron.opts:list_xenapi_opts,0,1
openstack%2Fneutron~stable%2Fyoga~Ibca81eb59fbfad71f223832228f408fb248c5dfa,openstack/neutron,stable/yoga,Ibca81eb59fbfad71f223832228f408fb248c5dfa,Disable in-band management for bridges before setting up controllers,MERGED,2022-10-18 07:03:53.000000000,2022-10-19 10:18:57.000000000,2022-10-19 10:17:16.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-10-18 07:03:53.000000000', 'files': ['neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py', 'neutron/tests/functional/agent/test_ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0889dda9904dc67578678b75936b055a9cfcbb1e', 'message': 'Disable in-band management for bridges before setting up controllers\n\nDisabling in-band management for bridge will effectively disable it for\nall controllers which are or will be set for the bridge. This will\nprevent us from having short time between configuring controller and\nsetting connection_mode of the controller to ""out-of-band"" when\ncontroller works in the default ""in-band"" connection mode and adds some\nhidden flows to the bridge.\n\nCloses-Bug: #1992953\nChange-Id: Ibca81eb59fbfad71f223832228f408fb248c5dfa\n(cherry picked from commit 8fcf00a36dfcec80bba73b63896d806f48835faf)\n'}]",5,861623,0889dda9904dc67578678b75936b055a9cfcbb1e,24,4,1,11975,,,0,"Disable in-band management for bridges before setting up controllers

Disabling in-band management for bridge will effectively disable it for
all controllers which are or will be set for the bridge. This will
prevent us from having short time between configuring controller and
setting connection_mode of the controller to ""out-of-band"" when
controller works in the default ""in-band"" connection mode and adds some
hidden flows to the bridge.

Closes-Bug: #1992953
Change-Id: Ibca81eb59fbfad71f223832228f408fb248c5dfa
(cherry picked from commit 8fcf00a36dfcec80bba73b63896d806f48835faf)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/23/861623/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py', 'neutron/tests/functional/agent/test_ovs_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py']",4,0889dda9904dc67578678b75936b055a9cfcbb1e,bug/1992953-stable/zed-stable/yoga," m_disable_in_band = mock.patch.object(self.br, 'disable_in_band') with m_disable_in_band as disable_in_band, \ disable_in_band.assert_called_once_with()"," m_set_ccm = mock.patch.object(self.br, 'set_controllers_connection_mode') with m_set_ccm as set_ccm, \ set_ccm.assert_called_once_with(""out-of-band"")",45,52
openstack%2Fneutron~stable%2Ftrain~Ibca81eb59fbfad71f223832228f408fb248c5dfa,openstack/neutron,stable/train,Ibca81eb59fbfad71f223832228f408fb248c5dfa,Disable in-band management for bridges before setting up controllers,MERGED,2022-10-18 07:15:26.000000000,2022-10-19 10:18:54.000000000,2022-10-19 10:17:11.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-18 07:15:26.000000000', 'files': ['neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py', 'neutron/tests/functional/agent/test_ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d163bf7e4a1ca34eb9cbcd7ee408026fb4aca127', 'message': 'Disable in-band management for bridges before setting up controllers\n\nDisabling in-band management for bridge will effectively disable it for\nall controllers which are or will be set for the bridge. This will\nprevent us from having short time between configuring controller and\nsetting connection_mode of the controller to ""out-of-band"" when\ncontroller works in the default ""in-band"" connection mode and adds some\nhidden flows to the bridge.\n\nConflicts:\n    neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py\n    neutron/tests/functional/agent/test_ovs_lib.py\n    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py\n\nCloses-Bug: #1992953\nChange-Id: Ibca81eb59fbfad71f223832228f408fb248c5dfa\n(cherry picked from commit 8fcf00a36dfcec80bba73b63896d806f48835faf)\n(cherry picked from commit 9d826bc77aab36dd194cc471397af68bd4ad39e5)\n(cherry picked from commit 32a8b2d3388b0e1ed4b19a5f3b68a99762f9f70b)\n(cherry picked from commit b662fd25773647259f0e8c197beafa6a5ca385d4)\n'}]",2,861707,d163bf7e4a1ca34eb9cbcd7ee408026fb4aca127,12,3,1,11975,,,0,"Disable in-band management for bridges before setting up controllers

Disabling in-band management for bridge will effectively disable it for
all controllers which are or will be set for the bridge. This will
prevent us from having short time between configuring controller and
setting connection_mode of the controller to ""out-of-band"" when
controller works in the default ""in-band"" connection mode and adds some
hidden flows to the bridge.

Conflicts:
    neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py
    neutron/tests/functional/agent/test_ovs_lib.py
    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py

Closes-Bug: #1992953
Change-Id: Ibca81eb59fbfad71f223832228f408fb248c5dfa
(cherry picked from commit 8fcf00a36dfcec80bba73b63896d806f48835faf)
(cherry picked from commit 9d826bc77aab36dd194cc471397af68bd4ad39e5)
(cherry picked from commit 32a8b2d3388b0e1ed4b19a5f3b68a99762f9f70b)
(cherry picked from commit b662fd25773647259f0e8c197beafa6a5ca385d4)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/07/861707/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py', 'neutron/tests/functional/agent/test_ovs_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py']",4,d163bf7e4a1ca34eb9cbcd7ee408026fb4aca127,bug/1992953-stable/train," m_disable_in_band = mock.patch.object(self.br, 'disable_in_band') with m_disable_in_band as disable_in_band, \ disable_in_band.assert_called_once_with()"," m_set_ccm = mock.patch.object(self.br, 'set_controllers_connection_mode') with m_set_ccm as set_ccm, \ set_ccm.assert_called_once_with(""out-of-band"")",47,54
openstack%2Fkolla~stable%2Fyoga~I6b1407cc94ffa1893dac204cf4836a7d0ae0d575,openstack/kolla,stable/yoga,I6b1407cc94ffa1893dac204cf4836a7d0ae0d575,rabbitmq: use Erlang from PPA on Debian/Ubuntu,MERGED,2022-10-18 14:13:23.000000000,2022-10-19 10:07:50.000000000,2022-10-19 10:06:51.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-10-18 14:13:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a2674d0b6fc9fd0775e42b0f925c20575ccc3fef', 'message': 'rabbitmq: use Erlang from PPA on Debian/Ubuntu\n\nPPA from Team RabbitMQ [1] provides newer Erlang for Debian/Ubuntu.\n\nThis way we have latest Erlang on both distributions and both\narchitectures.\n\n1. https://launchpad.net/~rabbitmq/+archive/ubuntu/rabbitmq-erlang\n\n(manual cherry-pick from master commit\nb40506f6dd382e1b2443dc59b918b01e2db45850)\n\nChange-Id: I6b1407cc94ffa1893dac204cf4836a7d0ae0d575\n'}, {'number': 2, 'created': '2022-10-18 14:19:03.000000000', 'files': ['docker/base/apt_preferences.ubuntu', 'docker/base/apt_preferences.debian', 'docker/base/Dockerfile.j2', 'kolla/template/repos.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9b5e7b6cb5cabbd452543723fbc025e0d157094b', 'message': 'rabbitmq: use Erlang from PPA on Debian/Ubuntu\n\nPPA from Team RabbitMQ [1] provides newer Erlang for Debian/Ubuntu.\n\nThis way we have latest Erlang on both distributions and both\narchitectures.\n\n1. https://launchpad.net/~rabbitmq/+archive/ubuntu/rabbitmq-erlang\n\n(manual cherry-pick from master commit\nb40506f6dd382e1b2443dc59b918b01e2db45850)\n\nChange-Id: I6b1407cc94ffa1893dac204cf4836a7d0ae0d575\n'}]",0,861762,9b5e7b6cb5cabbd452543723fbc025e0d157094b,11,3,2,24072,,,0,"rabbitmq: use Erlang from PPA on Debian/Ubuntu

PPA from Team RabbitMQ [1] provides newer Erlang for Debian/Ubuntu.

This way we have latest Erlang on both distributions and both
architectures.

1. https://launchpad.net/~rabbitmq/+archive/ubuntu/rabbitmq-erlang

(manual cherry-pick from master commit
b40506f6dd382e1b2443dc59b918b01e2db45850)

Change-Id: I6b1407cc94ffa1893dac204cf4836a7d0ae0d575
",git fetch https://review.opendev.org/openstack/kolla refs/changes/62/861762/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/apt_preferences.ubuntu', 'docker/base/apt_preferences.debian', 'docker/base/Dockerfile.j2', 'kolla/template/repos.yaml']",4,a2674d0b6fc9fd0775e42b0f925c20575ccc3fef,rmq-erlang-update," url: ""https://ppa.launchpadcontent.net/rabbitmq/rabbitmq-erlang/ubuntu"" suite: ""focal"" gpg_key: ""erlang-ppa.gpg"" url: ""https://ppa.launchpadcontent.net/rabbitmq/rabbitmq-erlang/ubuntu"" suite: ""focal"" gpg_key: ""erlang-ppa.gpg"" url: ""https://ppa.launchpadcontent.net/rabbitmq/rabbitmq-erlang/ubuntu"" suite: ""jammy"" gpg_key: ""erlang-ppa.gpg"" url: ""https://ppa.launchpadcontent.net/rabbitmq/rabbitmq-erlang/ubuntu"" suite: ""jammy"" gpg_key: ""erlang-ppa.gpg"""," url: ""https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-erlang/deb/debian"" suite: ""bullseye"" gpg_key: ""erlang.gpg"" url: ""https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-erlang/deb/debian"" suite: ""bullseye"" gpg_key: ""erlang.gpg"" url: ""https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-erlang/deb/ubuntu"" suite: ""focal"" gpg_key: ""erlang.gpg"" url: ""https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-erlang/deb/ubuntu"" suite: ""focal"" gpg_key: ""erlang.gpg""",17,17
openstack%2Foctavia~stable%2Fxena~I876fd91fb40d9250381bbb37f8148b53692a7d8d,openstack/octavia,stable/xena,I876fd91fb40d9250381bbb37f8148b53692a7d8d,Fix PortNotFound exception when updating a LB after a failover,MERGED,2022-08-23 13:55:08.000000000,2022-10-19 10:04:02.000000000,2022-10-19 10:02:53.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-08-23 13:55:08.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'releasenotes/notes/fix-qos-apply-after-failover-561abbd153ab88ee.yaml', 'octavia/controller/worker/v1/tasks/network_tasks.py', 'octavia/tests/common/constants.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/8b28293ddbe6e74170c253b55fafee3e057c47b4', 'message': 'Fix PortNotFound exception when updating a LB after a failover\n\nThe ApplyQos task applied the qos policy on the VRRP ports of all the\namphorae linked to a load balancer, including amphorae in DELETED\nstatus. It triggered an ERROR when updating a LB (with a qos policy)\nafter a failover.\n\nStory 2009667\nTask 43894\n\nChange-Id: I876fd91fb40d9250381bbb37f8148b53692a7d8d\n(cherry picked from commit c3481d04a25c4e6f03ce4de720c620730188d99e)\n(cherry picked from commit 328ffc00cf5fc74eed6889bae2594cded1f8cd9b)\n'}]",1,854201,8b28293ddbe6e74170c253b55fafee3e057c47b4,8,3,1,29244,,,0,"Fix PortNotFound exception when updating a LB after a failover

The ApplyQos task applied the qos policy on the VRRP ports of all the
amphorae linked to a load balancer, including amphorae in DELETED
status. It triggered an ERROR when updating a LB (with a qos policy)
after a failover.

Story 2009667
Task 43894

Change-Id: I876fd91fb40d9250381bbb37f8148b53692a7d8d
(cherry picked from commit c3481d04a25c4e6f03ce4de720c620730188d99e)
(cherry picked from commit 328ffc00cf5fc74eed6889bae2594cded1f8cd9b)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/01/854201/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'octavia/controller/worker/v1/tasks/network_tasks.py', 'releasenotes/notes/fix-qos-apply-after-failover-561abbd153ab88ee.yaml', 'octavia/tests/common/constants.py']",6,8b28293ddbe6e74170c253b55fafee3e057c47b4,,MOCK_AMP_ID3 = 'amp3-id'MOCK_AMP_COMPUTE_ID3 = 'amp3-compute-id'MOCK_VRRP_PORT_ID3 = 'vrrp-port-3'MOCK_VRRP_IP3 = '55.55.55.3',,32,2
openstack%2Fneutron~stable%2Fxena~Ibca81eb59fbfad71f223832228f408fb248c5dfa,openstack/neutron,stable/xena,Ibca81eb59fbfad71f223832228f408fb248c5dfa,Disable in-band management for bridges before setting up controllers,MERGED,2022-10-18 07:04:08.000000000,2022-10-19 10:00:04.000000000,2022-10-19 09:58:47.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-10-18 07:04:08.000000000', 'files': ['neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py', 'neutron/tests/functional/agent/test_ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5dac0105c217d2ae6d882e1dd29f10c50bab6998', 'message': 'Disable in-band management for bridges before setting up controllers\n\nDisabling in-band management for bridge will effectively disable it for\nall controllers which are or will be set for the bridge. This will\nprevent us from having short time between configuring controller and\nsetting connection_mode of the controller to ""out-of-band"" when\ncontroller works in the default ""in-band"" connection mode and adds some\nhidden flows to the bridge.\n\nCloses-Bug: #1992953\nChange-Id: Ibca81eb59fbfad71f223832228f408fb248c5dfa\n(cherry picked from commit 8fcf00a36dfcec80bba73b63896d806f48835faf)\n'}]",3,861624,5dac0105c217d2ae6d882e1dd29f10c50bab6998,21,4,1,11975,,,0,"Disable in-band management for bridges before setting up controllers

Disabling in-band management for bridge will effectively disable it for
all controllers which are or will be set for the bridge. This will
prevent us from having short time between configuring controller and
setting connection_mode of the controller to ""out-of-band"" when
controller works in the default ""in-band"" connection mode and adds some
hidden flows to the bridge.

Closes-Bug: #1992953
Change-Id: Ibca81eb59fbfad71f223832228f408fb248c5dfa
(cherry picked from commit 8fcf00a36dfcec80bba73b63896d806f48835faf)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/861624/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py', 'neutron/tests/functional/agent/test_ovs_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py']",4,5dac0105c217d2ae6d882e1dd29f10c50bab6998,bug/1992953-stable/zed-stable/yoga-stable/xena," m_disable_in_band = mock.patch.object(self.br, 'disable_in_band') with m_disable_in_band as disable_in_band, \ disable_in_band.assert_called_once_with()"," m_set_ccm = mock.patch.object(self.br, 'set_controllers_connection_mode') with m_set_ccm as set_ccm, \ set_ccm.assert_called_once_with(""out-of-band"")",45,52
openstack%2Fneutron~master~I4029a844930e79d6e526c3a8721e1f3da2757894,openstack/neutron,master,I4029a844930e79d6e526c3a8721e1f3da2757894,Remove xenapi entrypoint,ABANDONED,2022-10-19 08:30:31.000000000,2022-10-19 08:31:33.000000000,,[],"[{'number': 1, 'created': '2022-10-19 08:30:31.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4c0c009b0bacc03bfbf868c2b53528bb477fcba2', 'message': 'Remove xenapi entrypoint\n\nIn [0] the remainders of the xenapi were cleaned up, but it missed to\nremove the corresponding entrypoint in setup.cfg.\n\n[0] I89f304f767b2ec645ac7bb216890b6ac470fd875\n\nChange-Id: I4029a844930e79d6e526c3a8721e1f3da2757894\n'}]",0,861852,4c0c009b0bacc03bfbf868c2b53528bb477fcba2,2,0,1,13252,,,0,"Remove xenapi entrypoint

In [0] the remainders of the xenapi were cleaned up, but it missed to
remove the corresponding entrypoint in setup.cfg.

[0] I89f304f767b2ec645ac7bb216890b6ac470fd875

Change-Id: I4029a844930e79d6e526c3a8721e1f3da2757894
",git fetch https://review.opendev.org/openstack/neutron refs/changes/52/861852/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,4c0c009b0bacc03bfbf868c2b53528bb477fcba2,drop-xenapi,, neutron.ml2.xenapi = neutron.opts:list_xenapi_opts,0,1
openstack%2Ftraining-guides~master~Iaabd29eecf47e8a7ceb3898b5b174098a527ce45,openstack/training-guides,master,Iaabd29eecf47e8a7ceb3898b5b174098a527ce45,Imported Translations from Zanata,MERGED,2022-10-17 04:09:02.000000000,2022-10-19 08:01:48.000000000,2022-10-19 08:00:34.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-17 04:09:02.000000000', 'files': ['doc/upstream-training/source/locale/ko_KR/LC_MESSAGES/upstream-training.po'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/1521a8784dd78cb8680671b016e5e82f7c4d92ae', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Iaabd29eecf47e8a7ceb3898b5b174098a527ce45\n'}]",0,861565,1521a8784dd78cb8680671b016e5e82f7c4d92ae,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Iaabd29eecf47e8a7ceb3898b5b174098a527ce45
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/65/861565/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/upstream-training/source/locale/ko_KR/LC_MESSAGES/upstream-training.po'],1,1521a8784dd78cb8680671b016e5e82f7c4d92ae,zanata/translations,"# HaeI Yoon <y83422918@gmail.com>, 2022. #zanata""POT-Creation-Date: 2022-06-22 08:15+0000\n""""PO-Revision-Date: 2022-10-16 03:36+0000\n"" ""Last-Translator: HaeI Yoon <y83422918@gmail.com>\n""msgid ""TBD"" msgstr ""  "" ","""POT-Creation-Date: 2021-11-15 11:37+0000\n""""PO-Revision-Date: 2021-12-19 08:20+0000\n"" ""Last-Translator: Eunjeong Yun <araruu2536@gmail.com>\n""",7,3
openstack%2Fneutron~master~Iafa9d43614d528f230cf034103b54f73303ac815,openstack/neutron,master,Iafa9d43614d528f230cf034103b54f73303ac815,Do not keep gateway port when notifying for router update,MERGED,2022-10-14 08:37:16.000000000,2022-10-19 07:46:59.000000000,2022-10-19 07:45:41.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-14 08:37:16.000000000', 'files': ['neutron/db/l3_dvrscheduler_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c33b47edc77520abcdd7176af1f0ae921bd489b3', 'message': 'Do not keep gateway port when notifying for router update\n\nOn router update, skip subnet of gateway router.\nThis will prevent a massive RPC call toward huge number of L3 agents\n(all agents in same big public subnet ID).\n\nAs a side effect, it will save CPU time on database because L3 agent\nreceiving such events are then doing a RPC call (sync_routers) even if\nrouter is not used/deployed on this agent.\n\nCloses-Bug: #1992950\n\nChange-Id: Iafa9d43614d528f230cf034103b54f73303ac815\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n'}]",8,861322,c33b47edc77520abcdd7176af1f0ae921bd489b3,16,4,1,11583,,,0,"Do not keep gateway port when notifying for router update

On router update, skip subnet of gateway router.
This will prevent a massive RPC call toward huge number of L3 agents
(all agents in same big public subnet ID).

As a side effect, it will save CPU time on database because L3 agent
receiving such events are then doing a RPC call (sync_routers) even if
router is not used/deployed on this agent.

Closes-Bug: #1992950

Change-Id: Iafa9d43614d528f230cf034103b54f73303ac815
Signed-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/861322/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/l3_dvrscheduler_db.py'],1,c33b47edc77520abcdd7176af1f0ae921bd489b3,," subnet_ids = self.get_subnet_ids_on_router(context, router_id, keep_gateway_port=False)"," subnet_ids = self.get_subnet_ids_on_router(context, router_id)",2,1
openstack%2Ftripleo-quickstart-extras~master~I826a065b8c9e3b37d3acf0f4c78275b79509896a,openstack/tripleo-quickstart-extras,master,I826a065b8c9e3b37d3acf0f4c78275b79509896a,Cleanup usage of LXC proxy,NEW,2022-10-19 07:23:02.000000000,2022-10-19 07:46:04.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-10-19 07:23:02.000000000', 'files': ['roles/nodepool-setup/templates/mirror_info.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c592b74d717dff3caa9d6d1cb88cd4ea6371ba04', 'message': 'Cleanup usage of LXC proxy\n\nIt seems that this NODEPOOL_LXC_IMAGE_PROXY is not used anywhere\nbelow in code, thus can be safely removed and dropped from infra\nconfiguration as well.\n\nChange-Id: I826a065b8c9e3b37d3acf0f4c78275b79509896a\n'}]",0,861826,c592b74d717dff3caa9d6d1cb88cd4ea6371ba04,3,2,1,28619,,,0,"Cleanup usage of LXC proxy

It seems that this NODEPOOL_LXC_IMAGE_PROXY is not used anywhere
below in code, thus can be safely removed and dropped from infra
configuration as well.

Change-Id: I826a065b8c9e3b37d3acf0f4c78275b79509896a
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/26/861826/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/nodepool-setup/templates/mirror_info.sh.j2'],1,c592b74d717dff3caa9d6d1cb88cd4ea6371ba04,,,export NODEPOOL_LXC_IMAGE_PROXY=${NODEPOOL_LXC_IMAGE_PROXY:-$NODEPOOL_MIRROR_HOST:8080/images.linuxcontainers},0,1
openstack%2Fkuryr-kubernetes~master~Ie5cc629e38d8c6a0045ed436468d67317cbe6853,openstack/kuryr-kubernetes,master,Ie5cc629e38d8c6a0045ed436468d67317cbe6853,Cleanup py27 support,NEW,2022-08-15 00:22:51.000000000,2022-10-19 06:32:46.000000000,,"[{'_account_id': 22348}, {'_account_id': 27032}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-08-15 00:22:51.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/eb8dd80288e84a938a581f0a740d0c4cb7e1297d', 'message': ""Cleanup py27 support\n\nThis repo is now testing only with Python 3, so let's make\na few cleanups:\n- Remove python 2.7 stanza from setup.py\n\nChange-Id: Ie5cc629e38d8c6a0045ed436468d67317cbe6853\n""}]",0,853036,eb8dd80288e84a938a581f0a740d0c4cb7e1297d,4,3,1,35058,,,0,"Cleanup py27 support

This repo is now testing only with Python 3, so let's make
a few cleanups:
- Remove python 2.7 stanza from setup.py

Change-Id: Ie5cc629e38d8c6a0045ed436468d67317cbe6853
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/36/853036/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,eb8dd80288e84a938a581f0a740d0c4cb7e1297d,,,"# THIS FILE IS MANAGED BY THE GLOBAL REQUIREMENTS REPO - DO NOT EDIT# In python < 2.7.4, a lazy loading of package `pbr` will break # setuptools if some other modules registered functions in `atexit`. # solution from: http://bugs.python.org/issue15881#msg170215 try: import multiprocessing # noqa except ImportError: pass ",0,9
openstack%2Fsolum~stable%2Fzed~I1677f0092d9674f1643add76f42dfa47ef6dc83a,openstack/solum,stable/zed,I1677f0092d9674f1643add76f42dfa47ef6dc83a,Fix solum ci,MERGED,2022-10-18 03:37:34.000000000,2022-10-19 06:14:19.000000000,2022-10-19 06:12:36.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-18 03:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/28c36db2f57ac3710dee42b1dd5581ab5c213b28', 'message': 'TEST\n\nChange-Id: I1677f0092d9674f1643add76f42dfa47ef6dc83a\n'}, {'number': 2, 'created': '2022-10-18 03:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/3539548d0434a52a1d6fc6c3a3bd894677251923', 'message': 'TEST\n\nChange-Id: I1677f0092d9674f1643add76f42dfa47ef6dc83a\n'}, {'number': 3, 'created': '2022-10-18 03:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/c4c952a1c6de18baad0335bcdc551343513128bf', 'message': 'TEST\n\nChange-Id: I1677f0092d9674f1643add76f42dfa47ef6dc83a\n'}, {'number': 4, 'created': '2022-10-18 05:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/7896e5b57809420b8e40078240775202613aef3d', 'message': 'TEST\n\nChange-Id: I1677f0092d9674f1643add76f42dfa47ef6dc83a\n'}, {'number': 5, 'created': '2022-10-18 07:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/ec04acb61845bb88e6d617f519a3e4c9866e74e3', 'message': 'Fix solum ci\n\nChange-Id: I1677f0092d9674f1643add76f42dfa47ef6dc83a\n'}, {'number': 6, 'created': '2022-10-19 00:48:25.000000000', 'files': ['solum/common/exception.py', '.zuul.yaml', 'solum/objects/sqlalchemy/__init__.py'], 'web_link': 'https://opendev.org/openstack/solum/commit/87518a2d40a90cfe8092d4eb5a527d5135c0611a', 'message': 'Fix solum ci\n\nChange-Id: I1677f0092d9674f1643add76f42dfa47ef6dc83a\n'}]",1,861619,87518a2d40a90cfe8092d4eb5a527d5135c0611a,19,2,6,14107,,,0,"Fix solum ci

Change-Id: I1677f0092d9674f1643add76f42dfa47ef6dc83a
",git fetch https://review.opendev.org/openstack/solum refs/changes/19/861619/6 && git format-patch -1 --stdout FETCH_HEAD,[],0,28c36db2f57ac3710dee42b1dd5581ab5c213b28,,,,0,0
openstack%2Fcharm-specs~master~I31fd87c9054597794943fe68be618398a0aae3b1,openstack/charm-specs,master,I31fd87c9054597794943fe68be618398a0aae3b1,Update Infinidat charms spec,NEW,2022-10-19 03:29:56.000000000,2022-10-19 03:34:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-10-19 03:29:56.000000000', 'files': ['specs/yoga/approved/cinder-infinidat.rst', 'specs/yoga/approved/infinidat-tools.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/acd40e03eea3df7e25e3fa7dc07c052c58ba4e0d', 'message': 'Update Infinidat charms spec\n\n- Update Cinder subordinate charm spec\n- Add Nova subordinate charm spec\n\nChange-Id: I31fd87c9054597794943fe68be618398a0aae3b1\n'}]",0,861815,acd40e03eea3df7e25e3fa7dc07c052c58ba4e0d,2,1,1,30110,,,0,"Update Infinidat charms spec

- Update Cinder subordinate charm spec
- Add Nova subordinate charm spec

Change-Id: I31fd87c9054597794943fe68be618398a0aae3b1
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/15/861815/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/yoga/approved/cinder-infinidat.rst', 'specs/yoga/approved/infinidat-tools.rst']",2,acd40e03eea3df7e25e3fa7dc07c052c58ba4e0d,charm-cinder-infinidat,".. Copyright 2022 Canonical Ltd. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================= Nova subordinate charm infinidat-tools ========================================= Problem Description =================== Linux operating system supports various storage arrays and protocols to accessthem. An iSCSI backend, for example, requires certain Linux storage subsystem configuration to be in-place in order to function properly. Components such as LVM or multipathing support must be installed and configured. Some types of storage arrays require installation of additional vendor-specific software components. Openstack Cinder and Nova components work together to allow the use of Cinder volumes utilizing certain storage arrays as the backend for the tenants. While Cinder is primarily responsible for provisioning, configuring and de-provisioning o the volume, volume attachment and actual data reading and writing is handled by the hypervisor host and kernel's block storage subsystem. Proposed Change =============== This charm is designed to provide the Nova compute part of the iSCSI Infinidat storage backend for Openstack Cinder volumes. Because multiple storage backends can be configured on a compute host at the same time, this charm is implemented as a subordinate charm and it requires new relation endpoint, that we called 'storage-backend', to be implemented on the Nova-compute charm side. The purpose of this relation in the long term is to provide means for the principle charm to resolve potential host configuration ambiguity that the connect storage backends may request. At the moment of this writing, it is assumed that the initial implementation of the charm implements host configuration directly, however in future versions this functionality may be moved to the principal charm. As it has been mentioned above, sometimes additional software installation is required to support certain storage arrays. Initial implementation of this charm installs additional APT packages that bring Infinidat host configuration tools. These tools simplify environment configuration according to the best practices recommended by the vendor. Configuration values: .. code-block:: none install_keys type: string Description: List of signing keys for install_sources package sources, per charmhelpers standard format (a yaml list of strings encoded as a string). The keys should be the full ASCII armoured GPG public keys. While GPG key ids are also supported and looked up on a keyserver, operators should be aware that this mechanism is insecure. null can be used if a standard package signing key is used that will already be installed on the machine, and for PPA sources where the package signing key is securely retrieved from Launchpad. install_sources type: string Description: Optional configuration to support use of additional sources such as - ppa:myteam/ppa - cloud:trusty-proposed/kilo - http://my.archive.com/ubuntu main The last option should be used in conjunction with the key configuration option. The charm also supports templating of the distribution codename via automatic expansion of {distrib_codename} depending on the host system version. lvm_global_filter type: string Description: Value for global_filter to specify in lvm.conf Juju 2.9 or newer is required. Alternatives ------------ At the time of this writing, there exist no alternatives. Implementation ============== Assignee(s) ----------- Primary assignee: Nikolay Vinogradov <nikolay.vinogradov@canonical.com> - LP ID: nikolay.vinogradov Secondary assignee: tbd <tbd@canonical.com> - LP ID: tbd Gerrit Topic ------------ Use Gerrit topic ""charm-infinidat-tools"" for all patches related to this spec. .. code-block:: bash git-review -t charm-infinidat-tools Work Items ---------- The charm, as listed above. Plus, both unit and functional tests will be written. Repositories ------------ Presently, the following repository hosts the charm code: TBD Documentation ------------- Once this charm is completed, charm-guide will be updated to reference it. Security -------- No additional security requirements are known. Testing ------- Code changes will be covered by both unit and functional tests. Functional tests would require the access and networking connectivity to an Infinibox appliance. Dependencies ============ At the moment of this writing, the charm depends on host-power-tools from the Infinidat APT package repository (repo.infinidat.com).It also installs Ubuntu packages scsitools and multipath-tools-boot as recommended by host-power-tools. ",,223,48
openstack%2Fsolum~master~I616a31d5af9d5d36a1bae4dbf96568b5ea36934c,openstack/solum,master,I616a31d5af9d5d36a1bae4dbf96568b5ea36934c,Switch to 2023.1 Python3 unit tests and generic template name,MERGED,2022-09-14 13:42:41.000000000,2022-10-19 01:47:29.000000000,2022-10-19 01:45:47.000000000,"[{'_account_id': 8556}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-14 13:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/b7da5318de114bef13932a7556d90295a30b72f0', 'message': 'Switch to 2023.1 Python3 unit tests and generic template name\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for antelope. Also,\nupdating the template name to generic one.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I616a31d5af9d5d36a1bae4dbf96568b5ea36934c\n'}, {'number': 2, 'created': '2022-10-18 03:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/1c141717eb76fb951b09a365e2d6d09498359fb7', 'message': 'Switch to 2023.1 Python3 unit tests and generic template name\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for antelope. Also,\nupdating the template name to generic one.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I616a31d5af9d5d36a1bae4dbf96568b5ea36934c\n'}, {'number': 3, 'created': '2022-10-18 08:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/1d672d5d25aa155be9113cdf2cc38fbddcd83334', 'message': 'Switch to 2023.1 Python3 unit tests and generic template name\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for antelope. Also,\nupdating the template name to generic one.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I616a31d5af9d5d36a1bae4dbf96568b5ea36934c\n'}, {'number': 4, 'created': '2022-10-18 08:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/867be9f081667ebed11135f8ddaca7abf25b33e0', 'message': 'Switch to 2023.1 Python3 unit tests and generic template name\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for antelope. Also,\nupdating the template name to generic one.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I616a31d5af9d5d36a1bae4dbf96568b5ea36934c\n'}, {'number': 5, 'created': '2022-10-18 08:48:18.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/solum/commit/1fb0670f005b9b2e7ec7f0530bf977e105cc9803', 'message': 'Switch to 2023.1 Python3 unit tests and generic template name\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for antelope. Also,\nupdating the template name to generic one.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I616a31d5af9d5d36a1bae4dbf96568b5ea36934c\n'}]",8,857688,1fb0670f005b9b2e7ec7f0530bf977e105cc9803,26,3,5,22816,,,0,"Switch to 2023.1 Python3 unit tests and generic template name

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for antelope. Also,
updating the template name to generic one.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I616a31d5af9d5d36a1bae4dbf96568b5ea36934c
",git fetch https://review.opendev.org/openstack/solum refs/changes/88/857688/5 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b7da5318de114bef13932a7556d90295a30b72f0,add-antelope-python-jobtemplates, - openstack-python3-jobs, - openstack-python3-zed-jobs,1,1
openstack%2Fswift~master~I1cdd2c759619333256180fdc56c6cdbf0b11b8db,openstack/swift,master,I1cdd2c759619333256180fdc56c6cdbf0b11b8db,proxy-server: errors talking to backend servers don't need tracebacks,ABANDONED,2017-08-24 00:12:30.000000000,2022-10-18 23:04:58.000000000,,"[{'_account_id': 3}, {'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 13052}, {'_account_id': 15343}]","[{'number': 1, 'created': '2017-08-24 00:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b5fe9befc4d14efca1c964f3b097408b3ceed621', 'message': ""proxy-server: errors talking to backend servers don't need tracebacks\n\nChange-Id: I1cdd2c759619333256180fdc56c6cdbf0b11b8db\n""}, {'number': 2, 'created': '2017-08-24 19:09:40.000000000', 'files': ['test/unit/proxy/test_server.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/ef11282cd8ebbc1f049e6ec2d28a4d561f14f170', 'message': ""proxy-server: errors talking to backend servers don't need tracebacks\n\nChange-Id: I1cdd2c759619333256180fdc56c6cdbf0b11b8db\n""}]",0,496965,ef11282cd8ebbc1f049e6ec2d28a4d561f14f170,13,5,2,15343,,,0,"proxy-server: errors talking to backend servers don't need tracebacks

Change-Id: I1cdd2c759619333256180fdc56c6cdbf0b11b8db
",git fetch https://review.opendev.org/openstack/swift refs/changes/65/496965/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/proxy/controllers/base.py'],1,b5fe9befc4d14efca1c964f3b097408b3ceed621,,"import httplibimport socket except (socket.error, httplib.BadStatusLine, Timeout) as err: self.app.error_occurred( node, 'Trying to %(method)s %(server_type)s %(path)s: %(err)s' % {'method': self.req_method, 'server_type': self.server_type, 'path': self.req_path, 'err': err}) return False except Exception:"," except (Exception, Timeout):",10,1
openstack%2Fswift~master~I038ec0a314b77530be0193088c406ecfcd13a7f5,openstack/swift,master,I038ec0a314b77530be0193088c406ecfcd13a7f5,probe tests: Fix some node filtering,ABANDONED,2022-09-09 17:36:17.000000000,2022-10-18 22:44:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-09-09 17:36:17.000000000', 'files': ['test/probe/test_sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a964c5218a080c3be8bcb226a3978f6e63e2ecdf', 'message': 'probe tests: Fix some node filtering\n\nChange-Id: I038ec0a314b77530be0193088c406ecfcd13a7f5\n'}]",3,856844,a964c5218a080c3be8bcb226a3978f6e63e2ecdf,6,1,1,15343,,,0,"probe tests: Fix some node filtering

Change-Id: I038ec0a314b77530be0193088c406ecfcd13a7f5
",git fetch https://review.opendev.org/openstack/swift refs/changes/44/856844/1 && git format-patch -1 --stdout FETCH_HEAD,['test/probe/test_sharder.py'],1,a964c5218a080c3be8bcb226a3978f6e63e2ecdf,," root_node0_id = self.brain.nodes[0]['id'] for node in [n for n in shard_nodes if n['id'] != root_node0_id]: self.assert_container_state( node, 'unsharded', 2, account=shard_ranges[0].account, container=shard_ranges[0].container, part=shard_part) for node in [n for n in shard_nodes if n['id'] != root_node0_id]: self.assert_container_state( node, 'sharded', 2, account=shard_ranges[0].account, container=shard_ranges[0].container, part=shard_part)"," # TODO: get this assertion working (node filtering wonky??) # for node in [n for n in shard_nodes if n != self.brain.nodes[0]]: # self.assert_container_state( # node, 'unsharded', 2, account=shard_ranges[0].account, # container=shard_ranges[0].container, part=shard_part) # TODO: get this assertion working (node filtering wonky??) # for node in [n for n in shard_nodes if n != self.brain.nodes[0]]: # self.assert_container_state( # node, 'sharded', 2, account=shard_ranges[0].account, # container=shard_ranges[0].container, part=shard_part)",9,10
openstack%2Fironic~master~Id13a359086f9b24dbfcd2b565a42c50d0dab7736,openstack/ironic,master,Id13a359086f9b24dbfcd2b565a42c50d0dab7736,"Use project scoped token for cinder, glance services",MERGED,2022-10-16 01:08:17.000000000,2022-10-18 22:01:02.000000000,2022-10-18 21:59:17.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-10-16 01:08:17.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ceec890947892d9deed12ac7f648f42514ad49e1', 'message': 'Use project scoped token for cinder, glance services\n\nAll services except Ironic (and keystone to support ironic\nwith system scope deployement), will not have system scope in\ntheir API policy instead they are default to project scoped.\n\nChange-Id: Id13a359086f9b24dbfcd2b565a42c50d0dab7736\n'}]",1,861496,ceec890947892d9deed12ac7f648f42514ad49e1,16,3,1,8556,,,0,"Use project scoped token for cinder, glance services

All services except Ironic (and keystone to support ironic
with system scope deployement), will not have system scope in
their API policy instead they are default to project scoped.

Change-Id: Id13a359086f9b24dbfcd2b565a42c50d0dab7736
",git fetch https://review.opendev.org/openstack/ironic refs/changes/96/861496/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,ceec890947892d9deed12ac7f648f42514ad49e1,secure-rbac,," # Needed: Neutron, swift, nova ?service_catalog? # Neutron - https://review.opendev.org/c/openstack/devstack/+/797450 elif [[ ""$service_config_section"" == ""cinder"" ]] && [[ ""${CINDER_ENFORCE_SCOPE:-False}"" == ""True"" ]]; then use_system_scope=""True"" elif [[ ""$service_config_section"" == ""glance"" ]] && [[ ""${GLANCE_ENFORCE_SCOPE:-False}"" == ""True"" ]]; then use_system_scope=""True""",0,6
openstack%2Fcinder~master~I5467c7a8edc05573d1ed1776d64262b7df89fa6b,openstack/cinder,master,I5467c7a8edc05573d1ed1776d64262b7df89fa6b,Don't fork volume service on single backend,NEW,2022-10-04 12:07:18.000000000,2022-10-18 21:12:29.000000000,,"[{'_account_id': 4523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-04 12:07:18.000000000', 'files': ['releasenotes/notes/volume-less-memory-07d4f2ada64b9ae9.yaml', 'cinder/cmd/volume.py', 'cinder/tests/unit/test_cmd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6dfc94e6056dd6ca0f67d36d73f0119d167214c7', 'message': ""Don't fork volume service on single backend\n\nCurrently the cinder-volume service on POSIX systems always runs the\nbackends on its own forks, even when there is a single backend.\n\nThat is not the case for its WIN32 counterpart or the backup service\nthat don't fork when there is no need to do so.\n\nThis patch changes how the cinder-volume service is started on POSIX\nsystems so it only creates child processes when it is needed, reducing\nmemory consumption in those cases.\n\nThis is convenient on containerized deployments where running each\nvolume backend on a different container is more favorable because it\nprovides better isolation between backends helping on upgrades, driver\nspecific hotfixes, etc.\n\nChange-Id: I5467c7a8edc05573d1ed1776d64262b7df89fa6b\n""}]",0,860244,6dfc94e6056dd6ca0f67d36d73f0119d167214c7,22,2,1,9535,,,0,"Don't fork volume service on single backend

Currently the cinder-volume service on POSIX systems always runs the
backends on its own forks, even when there is a single backend.

That is not the case for its WIN32 counterpart or the backup service
that don't fork when there is no need to do so.

This patch changes how the cinder-volume service is started on POSIX
systems so it only creates child processes when it is needed, reducing
memory consumption in those cases.

This is convenient on containerized deployments where running each
volume backend on a different container is more favorable because it
provides better isolation between backends helping on upgrades, driver
specific hotfixes, etc.

Change-Id: I5467c7a8edc05573d1ed1776d64262b7df89fa6b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/44/860244/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/volume-less-memory-07d4f2ada64b9ae9.yaml', 'cinder/cmd/volume.py', 'cinder/tests/unit/test_cmd.py']",3,6dfc94e6056dd6ca0f67d36d73f0119d167214c7,no-fork-single-backend," @mock.patch('cinder.service.serve') get_launcher, service_serve): service_serve.assert_not_called() @mock.patch('cinder.service.wait') @mock.patch('cinder.service.serve') @mock.patch('cinder.service.get_launcher') @mock.patch('cinder.service.Service.create') @mock.patch('cinder.utils.monkey_patch') @mock.patch('oslo_log.log.setup') def test_main_with_single_backend(self, log_setup, monkey_patch, service_create, get_launcher, service_serve, service_wait): backends = ['', 'backend1'] CONF.set_override('enabled_backends', backends) CONF.set_override('host', 'host') CONF.set_override('cluster', None) launcher = get_launcher.return_value cinder_volume.main() self.assertEqual('cinder', CONF.project) self.assertEqual(CONF.version, version.version_string()) log_setup.assert_called_once_with(CONF, ""cinder"") monkey_patch.assert_called_once_with() get_launcher.assert_not_called() service_create.assert_called_once_with( binary=constants.VOLUME_BINARY, host='host@backend1', service_name='backend1', coordination=True, cluster=None) service_serve.assert_called_once_with(service_create.return_value) service_wait.assert_called_once_with() launcher.launch_service.assert_not_called() launcher.wait.assert_not_called() ", get_launcher):,61,8
openstack%2Fproject-config~master~I35704d26099b6f3fd5a03adc22670c023be4a4b0,openstack/project-config,master,I35704d26099b6f3fd5a03adc22670c023be4a4b0,Move grafyaml check and gate jobs in repo,MERGED,2022-10-14 22:46:16.000000000,2022-10-18 20:10:09.000000000,2022-10-18 20:10:09.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-14 22:46:16.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/59c06c93c2b5789948256a7d4109490a551f742f', 'message': ""Move grafyaml check and gate jobs in repo\n\nThis jobs are super stale now (py35?) and don't seem to function\nreliably. Rather than update the config here in project config we remove\nthe jobs here with the intention of adding new jobs that make sens\nin the in repo config.\n\nChange-Id: I35704d26099b6f3fd5a03adc22670c023be4a4b0\n""}]",0,861482,59c06c93c2b5789948256a7d4109490a551f742f,6,2,1,4146,,,0,"Move grafyaml check and gate jobs in repo

This jobs are super stale now (py35?) and don't seem to function
reliably. Rather than update the config here in project config we remove
the jobs here with the intention of adding new jobs that make sens
in the in repo config.

Change-Id: I35704d26099b6f3fd5a03adc22670c023be4a4b0
",git fetch https://review.opendev.org/openstack/project-config refs/changes/82/861482/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,59c06c93c2b5789948256a7d4109490a551f742f,move-grafyaml-jobs-in-repo,, - openstack-pep-publish-jobs - openstack-python35-jobs-no-constraints check: jobs: - tox-cover,0,5
openstack%2Fironic~master~Ifc0411523a44389c97b9a7b285b0a69ad9119fd6,openstack/ironic,master,Ifc0411523a44389c97b9a7b285b0a69ad9119fd6,Imported Translations from Zanata,MERGED,2022-10-17 03:42:54.000000000,2022-10-18 19:22:24.000000000,2022-10-18 19:20:59.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-10-17 03:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0f6659f60052eaf0ebc36d507402c97b42665b24', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ifc0411523a44389c97b9a7b285b0a69ad9119fd6\n'}, {'number': 2, 'created': '2022-10-18 03:52:25.000000000', 'files': ['releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b93fb2e5cf3f274e1169c257fae3d853f9abff5d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ifc0411523a44389c97b9a7b285b0a69ad9119fd6\n'}]",0,861555,b93fb2e5cf3f274e1169c257fae3d853f9abff5d,13,3,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ifc0411523a44389c97b9a7b285b0a69ad9119fd6
",git fetch https://review.opendev.org/openstack/ironic refs/changes/55/861555/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po']",2,0f6659f60052eaf0ebc36d507402c97b42665b24,zanata/translations,"""POT-Creation-Date: 2022-10-15 00:08+0000\n""""PO-Revision-Date: 2022-10-16 10:44+0000\n""msgid ""13.0.7-28"" msgstr ""13.0.7-28""msgid ""16.0.5-7"" msgstr ""16.0.5-7""msgid ""17.0.4-39"" msgstr ""17.0.4-39""msgid ""18.2.1-31"" msgstr ""18.2.1-31""msgid ""20.1.0-29"" msgstr ""20.1.0-29""msgid ""21.1.0-13"" msgstr ""21.1.0-13"" ""Adds ``[conductor]clean_step_priority_override`` configuration parameter "" ""which allows the operator to define a custom order in which the cleaning "" ""steps are to run."" msgstr """" ""Adds ``[conductor]clean_step_priority_override`` configuration parameter "" ""which allows the operator to define a custom order in which the cleaning "" ""steps are to run."" msgid """"msgid ""Adds ``bios_interface`` to the node list and node show api-ref."" msgstr ""Adds ``bios_interface`` to the node list and node show api-ref."" msgid ""Adds ``bios_interface`` to the node validate api-ref."" msgstr ""Adds ``bios_interface`` to the node validate api-ref."" ","""POT-Creation-Date: 2022-10-03 11:42+0000\n""""PO-Revision-Date: 2022-10-12 01:04+0000\n""msgid ""13.0.7-27"" msgstr ""13.0.7-27""msgid ""16.0.5-6"" msgstr ""16.0.5-6""msgid ""17.0.4-37"" msgstr ""17.0.4-37""msgid ""18.2.1-29"" msgstr ""18.2.1-29""msgid ""20.1.0-25"" msgstr ""20.1.0-25""",30,171
openstack%2Fovn-octavia-provider~stable%2Fzed~I86aba3eee88b3da3cae7b57da2eabc6c3cb5d953,openstack/ovn-octavia-provider,stable/zed,I86aba3eee88b3da3cae7b57da2eabc6c3cb5d953,Ensure LB are removed from LS not connected to the LB LR,MERGED,2022-10-14 06:09:44.000000000,2022-10-18 18:43:37.000000000,2022-10-18 18:42:37.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 30396}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-10-14 06:09:44.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/e4e671b59604d8a435ce3354cd203eaf364cd568', 'message': 'Ensure LB are removed from LS not connected to the LB LR\n\nOnce the logical_switch (neutron subnet) is removed from the\nlogical_router (neutron router) where the OVN-LB VIP and members\nare connected to, there is no need to keep the LB added to that\nlogical_switch\n\nCloses-Bug: #1992356\nChange-Id: I86aba3eee88b3da3cae7b57da2eabc6c3cb5d953\n(cherry picked from commit 464cb97fadd7134814cadd171b4de8cd2eda530e)\n'}]",3,861293,e4e671b59604d8a435ce3354cd203eaf364cd568,16,5,1,23567,,,0,"Ensure LB are removed from LS not connected to the LB LR

Once the logical_switch (neutron subnet) is removed from the
logical_router (neutron router) where the OVN-LB VIP and members
are connected to, there is no need to keep the LB added to that
logical_switch

Closes-Bug: #1992356
Change-Id: I86aba3eee88b3da3cae7b57da2eabc6c3cb5d953
(cherry picked from commit 464cb97fadd7134814cadd171b4de8cd2eda530e)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/93/861293/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,e4e671b59604d8a435ce3354cd203eaf364cd568,," self.helper.ovn_nbdb_api.ls_lb_del.assert_called_once_with( self.network.uuid, self.ref_lb1.uuid, if_exists=True)", self.helper.ovn_nbdb_api.ls_lb_del.assert_not_called(),6,2
openstack%2Fglance-specs~master~I39269aba29edf9c451a8ae97aa1a34ba9c0c818d,openstack/glance-specs,master,I39269aba29edf9c451a8ae97aa1a34ba9c0c818d,Update proposal for duplication image download,MERGED,2020-06-09 19:35:14.000000000,2022-10-18 17:50:31.000000000,2022-06-28 15:13:27.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-09 19:35:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/349b2103943127935fcaae5d558b1a3e6eceb1a8', 'message': 'Update proposal for duplication image download\n\nFrom PTG meeting, we update the solution of this proposal.\n\nChange-Id: I39269aba29edf9c451a8ae97aa1a34ba9c0c818d\nCo-authored-by: Erno Kuvaja <jokke@usr.fi>\n'}, {'number': 2, 'created': '2020-06-09 19:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/46e37a967791f1a91494e401598acb74fb9a93c8', 'message': 'Update proposal for duplication image download\n\nFrom PTG meeting, we update the solution of this proposal.\n\nChange-Id: I39269aba29edf9c451a8ae97aa1a34ba9c0c818d\nCo-authored-by: Erno Kuvaja <jokke@usr.fi>\n'}, {'number': 3, 'created': '2020-06-11 00:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/4193c470f746497bb1bc0b044d3e135000f005bc', 'message': 'Update proposal for duplication image download\n\nFrom PTG meeting, we update the solution of this proposal.\n\nChange-Id: I39269aba29edf9c451a8ae97aa1a34ba9c0c818d\nCo-authored-by: Erno Kuvaja <jokke@usr.fi>\n'}, {'number': 4, 'created': '2022-04-25 06:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/3c6f10dbf664c6a065c1a0f6f82081f02f8113ec', 'message': 'Update proposal for duplication image download\n\nFrom PTG meeting, we update the solution of this proposal\nby writing the file to cache in chunks instead of writing\nthe whole file to cache.\n\nChange-Id: I39269aba29edf9c451a8ae97aa1a34ba9c0c818d\nCo-authored-by: Erno Kuvaja <jokke@usr.fi>\nCo-authored-by: Mridula Joshi <mrjoshi@redhat.com>\n'}, {'number': 5, 'created': '2022-04-25 07:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/e268efb6e0064404f3ac2ba0bc59d8b7bcf2fe33', 'message': 'Update proposal for duplication image download\n\nFrom PTG meeting, we update the solution of this proposal\nby writing the file to cache in chunks instead of writing\nthe whole file to cache.\n\nChange-Id: I39269aba29edf9c451a8ae97aa1a34ba9c0c818d\nCo-authored-by: Erno Kuvaja <jokke@usr.fi>\nCo-authored-by: Mridula Joshi <mrjoshi@redhat.com>\n'}, {'number': 6, 'created': '2022-05-12 10:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/8ec4cb88c4fd19d9772c4bd296134395ae59729d', 'message': 'Update proposal for duplication image download\n\nFrom PTG meeting, we update the solution of this proposal\nby writing the file to cache in chunks instead of writing\nthe whole file to cache.\n\nChange-Id: I39269aba29edf9c451a8ae97aa1a34ba9c0c818d\nCo-authored-by: Erno Kuvaja <jokke@usr.fi>\nCo-authored-by: Mridula Joshi <mrjoshi@redhat.com>\n'}, {'number': 7, 'created': '2022-05-18 10:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/4d4a6136ca1252de776b2468a7772f1a40ff5c54', 'message': 'Update proposal for duplication image download\n\nFrom PTG meeting, we update the solution of this proposal\nby writing the file to cache in chunks instead of writing\nthe whole file to cache.\n\nChange-Id: I39269aba29edf9c451a8ae97aa1a34ba9c0c818d\nCo-authored-by: Erno Kuvaja <jokke@usr.fi>\nCo-authored-by: Mridula Joshi <mrjoshi@redhat.com>\n'}, {'number': 8, 'created': '2022-05-18 10:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/627ea3594693337988f4b724953e1e82e1dff6b8', 'message': 'Update proposal for duplication image download\n\nFrom PTG meeting, we update the solution of this proposal\nby writing the file to cache in chunks instead of writing\nthe whole file to cache.\n\nChange-Id: I39269aba29edf9c451a8ae97aa1a34ba9c0c818d\nCo-authored-by: Erno Kuvaja <jokke@usr.fi>\nCo-authored-by: Mridula Joshi <mrjoshi@redhat.com>\n'}, {'number': 9, 'created': '2022-05-18 11:05:57.000000000', 'files': ['specs/untargeted/glance/duplicate-downloads.rst', 'specs/zed/approved/glance/duplicate-downloads.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/31769b7b14726d9908534c4130cfb7a90d17d187', 'message': 'Update proposal for duplication image download\n\nFrom PTG meeting, we update the solution of this proposal\nby writing the file to cache in chunks instead of writing\nthe whole file to cache.\n\nChange-Id: I39269aba29edf9c451a8ae97aa1a34ba9c0c818d\nCo-authored-by: Erno Kuvaja <jokke@usr.fi>\nCo-authored-by: Mridula Joshi <mrjoshi@redhat.com>\n'}]",49,734683,31769b7b14726d9908534c4130cfb7a90d17d187,45,6,9,31209,,,0,"Update proposal for duplication image download

From PTG meeting, we update the solution of this proposal
by writing the file to cache in chunks instead of writing
the whole file to cache.

Change-Id: I39269aba29edf9c451a8ae97aa1a34ba9c0c818d
Co-authored-by: Erno Kuvaja <jokke@usr.fi>
Co-authored-by: Mridula Joshi <mrjoshi@redhat.com>
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/83/734683/7 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'specs/victoria/approved/glance/duplicate-downloads.rst']",2,349b2103943127935fcaae5d558b1a3e6eceb1a8,734683,"The proposed solution is for the first download request to instead of writing the whole file to the cache, we write the file to cache in chunks. Then, the subsequent download requests read from the chunks that have been written. Once the subsequent request finishes reading all the available chunks in the cache, it will wait for the next available chunk written to the cache by the first request. It will keep doing this until the first request finishes all the chunks. For the first request: if the cache entry does not exist: mark the image ""caching"" create a new folder in the cache directory with the image id take the iterator from the download (like we are doing now) write the data in 1GB chunks to cache upon finish, mark the image ""cached"" For the subsequent request: .. code-block:: none if the image is marked ""caching"" or ""cached"": read the chunk from the cache until we get all the expected chunks if a chunk is not available: wait for it to be written by the first request","The proposed solution is to remove this complexity by, one, refactoring the middleware to fully encapsulate the work to retrieve the image from the store and write it to the cache, and two, serve the download requests from the cache irrespective of whether the image was already cached when the request was received. While the exact mechanism for achieving this might vary, one example of how this can be achieved follows: if the cache file does not exist: create it spawn a worker return waiting iterator(the cache file) def worker(): request image download information via API request download image to cache def waiting_iterator(the cache file): with open(the cache file) as fp: while True: chunk = read in the next chunk if chunk: yield chunk elif the cache file is still being cached wait a bit else: We done! break A few notes regarding implementation: #. The worker could be one or more processes or threads. #. The data returned to the clients should be consistent and correct regardless of the cache state or how the data is downloaded and stored in the cache. #. Download time can vary based on the current cache state. #. The implementation must be resilient. Multiple requests can fail if the cache fails. Intelligent retries must be implemented. This change helps enforce separation between the code that serves the data to the client and the cache middleware implementation. The cache middleware is a caching proxy and is responsible for downloading data to the cache in a resilient manner and reliably returning data requested from the cache. Any implementation that would leverage the cache, need not worry about the interactions between the backend store and the cache. More specifically, with the logic to download the images moved out of the iterators and behind the proxy, requests are no longer dependent upon each other. While the first request to the cache for a particular image might trigger a cache miss (worker spawned to download the image), the success of that request is not tied to the success of the image being cached or the success of any future request for the image. One additional consideration, out of scope for this change, is that some requests might prefer to download directly from the store rather than the cache. For the purposes of this change, if the caching middleware is enabled, all requests will be downloaded from the cache.",21,57
openstack%2Fcinder-specs~master~Id082632888005f5e6aae2616e00bd7d73b8a0687,openstack/cinder-specs,master,Id082632888005f5e6aae2616e00bd7d73b8a0687,Add redirect to zed for image encryption spec,MERGED,2022-09-19 14:25:40.000000000,2022-10-18 16:55:20.000000000,2022-10-18 16:54:21.000000000,"[{'_account_id': 13425}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-09-19 14:25:40.000000000', 'files': ['doc/test/redirect-tests.txt', 'doc/source/_extra/.htaccess'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/cb8d8dd6f0447af58673d8464a0d6057e200de4d', 'message': ""Add redirect to zed for image encryption spec\n\nChange Ic038fd8b97e2 moved a spec to the 'zed' directory but\ndid not update the redirects to point to the new location.\n\nChange-Id: Id082632888005f5e6aae2616e00bd7d73b8a0687\n""}]",2,858388,cb8d8dd6f0447af58673d8464a0d6057e200de4d,9,4,1,5314,,,0,"Add redirect to zed for image encryption spec

Change Ic038fd8b97e2 moved a spec to the 'zed' directory but
did not update the redirects to point to the new location.

Change-Id: Id082632888005f5e6aae2616e00bd7d73b8a0687
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/88/858388/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/test/redirect-tests.txt', 'doc/source/_extra/.htaccess']",2,cb8d8dd6f0447af58673d8464a0d6057e200de4d,add-redirect,Redirect 301 /openstack/cinder-specs/specs/train/image-encryption.html /openstack/cinder-specs/specs/zed/image-encryption.html Redirect 301 /openstack/cinder-specs/specs/ussuri/image-encryption.html /openstack/cinder-specs/specs/zed/image-encryption.html Redirect 301 /openstack/cinder-specs/specs/victoria/image-encryption.html /openstack/cinder-specs/specs/zed/image-encryption.html Redirect 301 /openstack/cinder-specs/specs/wallaby/image-encryption.html /openstack/cinder-specs/specs/zed/image-encryption.html Redirect 301 /openstack/cinder-specs/specs/xena/image-encryption.html /openstack/cinder-specs/specs/zed/image-encryption.html Redirect 301 /openstack/cinder-specs/specs/yoga/image-encryption.html /openstack/cinder-specs/specs/zed/image-encryption.html,Redirect 301 /openstack/cinder-specs/specs/train/image-encryption.html /openstack/cinder-specs/specs/yoga/image-encryption.html Redirect 301 /openstack/cinder-specs/specs/ussuri/image-encryption.html /openstack/cinder-specs/specs/yoga/image-encryption.html Redirect 301 /openstack/cinder-specs/specs/victoria/image-encryption.html /openstack/cinder-specs/specs/yoga/image-encryption.html Redirect 301 /openstack/cinder-specs/specs/wallaby/image-encryption.html /openstack/cinder-specs/specs/yoga/image-encryption.html Redirect 301 /openstack/cinder-specs/specs/xena/image-encryption.html /openstack/cinder-specs/specs/yoga/image-encryption.html,12,10
openstack%2Fswift~master~I7785a73820031aeb4469f4d54e590a7db77532db,openstack/swift,master,I7785a73820031aeb4469f4d54e590a7db77532db,Imported Translations from Zanata,MERGED,2022-10-12 03:15:33.000000000,2022-10-18 16:38:34.000000000,2022-10-18 16:37:27.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-12 03:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e5ecfd098f786346af6173cced51d2b7a451e60b', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I7785a73820031aeb4469f4d54e590a7db77532db\n'}, {'number': 2, 'created': '2022-10-15 03:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e78e5c13c0a7258cccc04ee82c57bfba3a8a745b', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I7785a73820031aeb4469f4d54e590a7db77532db\n'}, {'number': 3, 'created': '2022-10-18 03:45:23.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/swift/commit/79e8f56ac41093e337dba3b60c3a21b2c26b59c8', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I7785a73820031aeb4469f4d54e590a7db77532db\n'}]",0,861022,79e8f56ac41093e337dba3b60c3a21b2c26b59c8,11,2,3,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I7785a73820031aeb4469f4d54e590a7db77532db
",git fetch https://review.opendev.org/openstack/swift refs/changes/22/861022/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,e5ecfd098f786346af6173cced51d2b7a451e60b,zanata/translations,"""POT-Creation-Date: 2022-10-11 20:02+0000\n""""PO-Revision-Date: 2022-10-12 01:23+0000\n""""Added a ``log_rsync_transfers`` option to the object-replicator. Set it to "" ""false to disable logging rsync \""send\"" lines; during large rebalances, such "" ""logging can overwhelm log aggregation while providing little useful "" ""information."" msgstr """" ""Added a ``log_rsync_transfers`` option to the object-replicator. Set it to "" ""false to disable logging rsync \""send\"" lines; during large rebalances, such "" ""logging can overwhelm log aggregation while providing little useful "" ""information."" msgid """" ""Added a ``ring_ip`` option for various object services. This may be used to "" ""find own devices in the ring in a containerized environment where the "" ""``bind_ip`` may not appear in the ring at all."" msgstr """" ""Added a ``ring_ip`` option for various object services. This may be used to "" ""find own devices in the ring in a containerised environment where the "" ""``bind_ip`` may not appear in the ring at all."" msgid """"msgid """" ""Added metrics to the formpost and tempurl middlewares to monitor digest "" ""usage in signatures."" msgstr """" ""Added metrics to the formpost and tempurl middlewares to monitor digest "" ""usage in signatures."" msgid """" ""Added the ability to connect to memcached over TLS. See the ``tls_*`` "" ""options in etc/memcache.conf-sample"" msgstr """" ""Added the ability to connect to Memcached over TLS. See the ``tls_*`` "" ""options in etc/memcache.conf-sample"" ""When running with ``s3_acl`` disabled, ``bucket-owner-full-control`` and "" ""``bucket-owner-read`` canned ACLs will be translated to the same Swift ACLs "" ""as ``private``."" msgstr """" ""When running with ``s3_acl`` disabled, ``bucket-owner-full-control`` and "" ""``bucket-owner-read`` canned ACLs will be translated to the same Swift ACLs "" ""as ``private``."" msgid """"msgid ""Zed Series Release Notes"" msgstr ""Zed Series Release Notes"" msgid """" ""``ENOENT`` and ``ENODATA`` errors are better handled in the object "" ""replicator and auditor."" msgstr """" ""``ENOENT`` and ``ENODATA`` errors are better handled in the object "" ""replicator and auditor."" msgid """" ""``LastModified`` timestamps in listings are now rounded up to whole seconds, "" ""like they are in responses from AWS."" msgstr """" ""``LastModified`` timestamps in listings are now rounded up to whole seconds "" ""like they are in responses from AWS."" ","""POT-Creation-Date: 2022-09-21 20:41+0000\n""""PO-Revision-Date: 2022-09-10 01:52+0000\n""",62,2
openstack%2Fneutron~stable%2Fussuri~Ibca81eb59fbfad71f223832228f408fb248c5dfa,openstack/neutron,stable/ussuri,Ibca81eb59fbfad71f223832228f408fb248c5dfa,Disable in-band management for bridges before setting up controllers,MERGED,2022-10-18 07:12:17.000000000,2022-10-18 16:29:19.000000000,2022-10-18 16:27:46.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-18 07:12:17.000000000', 'files': ['neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py', 'neutron/tests/functional/agent/test_ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b662fd25773647259f0e8c197beafa6a5ca385d4', 'message': 'Disable in-band management for bridges before setting up controllers\n\nDisabling in-band management for bridge will effectively disable it for\nall controllers which are or will be set for the bridge. This will\nprevent us from having short time between configuring controller and\nsetting connection_mode of the controller to ""out-of-band"" when\ncontroller works in the default ""in-band"" connection mode and adds some\nhidden flows to the bridge.\n\nConflicts:\n    neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py\n    neutron/tests/functional/agent/test_ovs_lib.py\n    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py\n\nCloses-Bug: #1992953\nChange-Id: Ibca81eb59fbfad71f223832228f408fb248c5dfa\n(cherry picked from commit 8fcf00a36dfcec80bba73b63896d806f48835faf)\n(cherry picked from commit 9d826bc77aab36dd194cc471397af68bd4ad39e5)\n(cherry picked from commit 32a8b2d3388b0e1ed4b19a5f3b68a99762f9f70b)\n'}]",2,861706,b662fd25773647259f0e8c197beafa6a5ca385d4,12,3,1,11975,,,0,"Disable in-band management for bridges before setting up controllers

Disabling in-band management for bridge will effectively disable it for
all controllers which are or will be set for the bridge. This will
prevent us from having short time between configuring controller and
setting connection_mode of the controller to ""out-of-band"" when
controller works in the default ""in-band"" connection mode and adds some
hidden flows to the bridge.

Conflicts:
    neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py
    neutron/tests/functional/agent/test_ovs_lib.py
    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py

Closes-Bug: #1992953
Change-Id: Ibca81eb59fbfad71f223832228f408fb248c5dfa
(cherry picked from commit 8fcf00a36dfcec80bba73b63896d806f48835faf)
(cherry picked from commit 9d826bc77aab36dd194cc471397af68bd4ad39e5)
(cherry picked from commit 32a8b2d3388b0e1ed4b19a5f3b68a99762f9f70b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/861706/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py', 'neutron/tests/functional/agent/test_ovs_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py']",4,b662fd25773647259f0e8c197beafa6a5ca385d4,bug/1992953-stable/ussuri," m_disable_in_band = mock.patch.object(self.br, 'disable_in_band') with m_disable_in_band as disable_in_band, \ disable_in_band.assert_called_once_with()"," m_set_ccm = mock.patch.object(self.br, 'set_controllers_connection_mode') with m_set_ccm as set_ccm, \ set_ccm.assert_called_once_with(""out-of-band"")",45,52
openstack%2Fopenstack-ansible-os_neutron~master~I4bd717c35e030aa1ede21d9a01460037d1ab070c,openstack/openstack-ansible-os_neutron,master,I4bd717c35e030aa1ede21d9a01460037d1ab070c,Avoid ovs restart during package upgrade,MERGED,2022-09-14 11:58:03.000000000,2022-10-18 16:17:16.000000000,2022-10-18 16:16:14.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-09-14 11:58:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/632ce7b4e03519858ece38c5d3263ccf71d5063f', 'message': 'Avoid ovs restart during package upgrade\n\nWhen installing/upgrading packages (like ovs) a race-condition may occur\nwhen neutron-ovs-agent tries to restore mesh while ovs is being spawning\ndown. This results in errors in neutron-ovs-agent like:\novsdb-client: tcp:127.0.0.1:6640: Open_vSwitch database was removed\novsdbapp.exceptions.TimeoutException: TXN queue is full\n\nIn order to prevent that we disable ablity to restart services on\npackage installation/upgrade, but do that with handler after\nneutron-ovs-agent get stopped.\n\nChange-Id: I4bd717c35e030aa1ede21d9a01460037d1ab070c\n'}, {'number': 2, 'created': '2022-09-26 11:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/b61110e6ddfc22646fcf00a30cfd6509de72e22b', 'message': 'Avoid ovs restart during package upgrade\n\nWhen installing/upgrading packages (like ovs) a race-condition may occur\nwhen neutron-ovs-agent tries to restore mesh while ovs is being spawning\ndown. This results in errors in neutron-ovs-agent like:\novsdb-client: tcp:127.0.0.1:6640: Open_vSwitch database was removed\novsdbapp.exceptions.TimeoutException: TXN queue is full\n\nIn order to prevent that we disable ablity to restart services on\npackage installation/upgrade, but do that with handler after\nneutron-ovs-agent get stopped.\n\nChange-Id: I4bd717c35e030aa1ede21d9a01460037d1ab070c\n'}, {'number': 3, 'created': '2022-09-26 11:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/e9f77ee3c6181362a3aa145c0f3de09824b888f3', 'message': 'Avoid ovs restart during package upgrade\n\nWhen installing/upgrading packages (like ovs) a race-condition may occur\nwhen neutron-ovs-agent tries to restore mesh while ovs is being spawning\ndown. This results in errors in neutron-ovs-agent like:\novsdb-client: tcp:127.0.0.1:6640: Open_vSwitch database was removed\novsdbapp.exceptions.TimeoutException: TXN queue is full\n\nIn order to prevent that we disable ablity to restart services on\npackage installation/upgrade, but do that with handler after\nneutron-ovs-agent get stopped.\n\nChange-Id: I4bd717c35e030aa1ede21d9a01460037d1ab070c\n'}, {'number': 4, 'created': '2022-09-26 11:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/b91be375d5ac6058ddacf49ba8490c9e454f055a', 'message': 'Avoid ovs restart during package upgrade\n\nWhen installing/upgrading packages (like ovs) a race-condition may occur\nwhen neutron-ovs-agent tries to restore mesh while ovs is being spawning\ndown. This results in errors in neutron-ovs-agent like:\novsdb-client: tcp:127.0.0.1:6640: Open_vSwitch database was removed\novsdbapp.exceptions.TimeoutException: TXN queue is full\n\nIn order to prevent that we disable ablity to restart services on\npackage installation/upgrade, but do that with handler after\nneutron-ovs-agent get stopped.\n\nChange-Id: I4bd717c35e030aa1ede21d9a01460037d1ab070c\n'}, {'number': 5, 'created': '2022-10-14 08:08:13.000000000', 'files': ['handlers/main.yml', 'tasks/neutron_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/435440a495290e9a927179bd292706018ca3fd45', 'message': 'Avoid ovs restart during package upgrade\n\nWhen installing/upgrading packages (like ovs) a race-condition may occur\nwhen neutron-ovs-agent tries to restore mesh while ovs is being spawning\ndown. This results in errors in neutron-ovs-agent like:\novsdb-client: tcp:127.0.0.1:6640: Open_vSwitch database was removed\novsdbapp.exceptions.TimeoutException: TXN queue is full\n\nIn order to prevent that we disable ablity to restart services on\npackage installation/upgrade, but do that with handler after\nneutron-ovs-agent get stopped.\n\nChange-Id: I4bd717c35e030aa1ede21d9a01460037d1ab070c\n'}]",7,857652,435440a495290e9a927179bd292706018ca3fd45,26,4,5,28619,,,0,"Avoid ovs restart during package upgrade

When installing/upgrading packages (like ovs) a race-condition may occur
when neutron-ovs-agent tries to restore mesh while ovs is being spawning
down. This results in errors in neutron-ovs-agent like:
ovsdb-client: tcp:127.0.0.1:6640: Open_vSwitch database was removed
ovsdbapp.exceptions.TimeoutException: TXN queue is full

In order to prevent that we disable ablity to restart services on
package installation/upgrade, but do that with handler after
neutron-ovs-agent get stopped.

Change-Id: I4bd717c35e030aa1ede21d9a01460037d1ab070c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/52/857652/4 && git format-patch -1 --stdout FETCH_HEAD,"['handlers/main.yml', 'tasks/neutron_install.yml']",2,632ce7b4e03519858ece38c5d3263ccf71d5063f,,"# TODO(noonedeadpunk): Expand this task for wider amount of providers - name: Prevent services from starting on install copy: content: | #!/bin/bash exit 101 dest: ""/usr/sbin/policy-rc.d"" mode: ""0755"" backup: yes changed_when: false when: neutron_needs_openvswitch | bool notify: - ""Restart neutron services"" - ""Restart provider services""- name: Remove policy-rc now that the package install/upgrade is complete file: path: ""/usr/sbin/policy-rc.d"" state: absent changed_when: false "," venv_install_distro_package_list: ""{{ neutron_package_list }}""",29,1
openstack%2Fkolla-ansible~master~I5e9bd07846b79b2097ebc2bb4cce8630c40d1fce,openstack/kolla-ansible,master,I5e9bd07846b79b2097ebc2bb4cce8630c40d1fce,openvswitch: switch bridge setup to Ansible modules,NEW,2022-05-26 13:10:42.000000000,2022-10-18 16:12:46.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 13:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7c4002a1be9cd439857bb17e4579af6325f99a9b', 'message': 'openvswitch: switch bridge setup to Ansible modules\n\nChange-Id: I5e9bd07846b79b2097ebc2bb4cce8630c40d1fce\n'}, {'number': 2, 'created': '2022-05-31 08:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f8032b23f0835b129a3e12d2572694c11d6fbad0', 'message': 'openvswitch: switch bridge setup to Ansible modules\n\nChange-Id: I5e9bd07846b79b2097ebc2bb4cce8630c40d1fce\n'}, {'number': 3, 'created': '2022-10-18 11:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/59a2a35ae106de61fd1c5d94de4da56ae268df22', 'message': 'openvswitch: switch bridge setup to Ansible modules\n\nChange-Id: I5e9bd07846b79b2097ebc2bb4cce8630c40d1fce\n'}, {'number': 4, 'created': '2022-10-18 13:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/355a79d5a74c6dd77a412f193297cbc72badbd33', 'message': 'openvswitch: switch bridge setup to Ansible modules\n\nChange-Id: I5e9bd07846b79b2097ebc2bb4cce8630c40d1fce\n'}, {'number': 5, 'created': '2022-10-18 14:23:04.000000000', 'files': ['ansible/roles/openvswitch/tasks/post-config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3de2159dca6aae452793075f0a161bb6296f5174', 'message': 'openvswitch: switch bridge setup to Ansible modules\n\nChange-Id: I5e9bd07846b79b2097ebc2bb4cce8630c40d1fce\n'}]",3,843460,3de2159dca6aae452793075f0a161bb6296f5174,18,2,5,22629,,,0,"openvswitch: switch bridge setup to Ansible modules

Change-Id: I5e9bd07846b79b2097ebc2bb4cce8630c40d1fce
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/60/843460/4 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/openvswitch/tasks/post-config.yml'],1,7c4002a1be9cd439857bb17e4579af6325f99a9b,,"- name: Ensuring OVS bridge is configured kolla_toolbox: user: root module_name: openvswitch_bridge module_args: bridge: ""{{ item }}"" state: present loop: ""{{ neutron_bridge_name.split(',') }}"" - name: Ensuring OVS port is configured in bridge become: true kolla_toolbox: user: root module_name: openvswitch_port bridge: ""{{ item.0 }}"" port: ""{{ item.1 }}"" state: present loop: ""{{ neutron_bridge_name.split(',') | zip(neutron_external_interface.split(',')) | list }}"" ","- name: Ensuring OVS bridge is properly setup command: docker exec openvswitch_db /usr/local/bin/kolla_ensure_openvswitch_configured {{ item.0 }} {{ item.1 }} register: status changed_when: status.stdout.find('changed') != -1 when: - inventory_hostname in groups[""network""] or (inventory_hostname in groups[""compute""] and computes_need_external_bridge | bool ) with_together: - ""{{ neutron_bridge_name.split(',') }}"" - ""{{ neutron_external_interface.split(',') }}""",19,10
openstack%2Fmanila-tempest-plugin~master~Ib285d9c740558d1ff3e24acb1ccc3de7e1ad562f,openstack/manila-tempest-plugin,master,Ib285d9c740558d1ff3e24acb1ccc3de7e1ad562f,Add a metadata field shown on API >= 2.73,MERGED,2022-10-18 11:16:39.000000000,2022-10-18 16:09:02.000000000,2022-10-18 16:09:02.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-10-18 11:16:39.000000000', 'files': ['manila_tempest_tests/tests/api/test_shares_actions.py', 'releasenotes/notes/bug-1993283-ee8d329ae65b4f78.yaml'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/75dbca626e46b26dda38e98b3f98e9f5cf7f5b4c', 'message': 'Add a metadata field shown on API >= 2.73\n\nFixed SharesActionsTest cases for API version >= 2.73\nsince a metadata field was added in that version.\n\nCloses-bug: #1993283\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\nChange-Id: Ib285d9c740558d1ff3e24acb1ccc3de7e1ad562f\n'}]",2,861335,75dbca626e46b26dda38e98b3f98e9f5cf7f5b4c,10,3,1,35075,,,0,"Add a metadata field shown on API >= 2.73

Fixed SharesActionsTest cases for API version >= 2.73
since a metadata field was added in that version.

Closes-bug: #1993283
Signed-off-by: Alexander Deiter <adeiter@infinidat.com>
Change-Id: Ib285d9c740558d1ff3e24acb1ccc3de7e1ad562f
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/35/861335/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/tests/api/test_shares_actions.py', 'releasenotes/notes/bug-1993283-ee8d329ae65b4f78.yaml']",2,75dbca626e46b26dda38e98b3f98e9f5cf7f5b4c,bug/1993283,--- fixes: - | `Bug #1993283 <https://bugs.launchpad.net/manila/+bug/1993283>`_: Fixed SharesActionsTest cases for API version >= 2.73 since a metadata field was added in that version. ,,10,0
openstack%2Frequirements~stable%2Fzed~I868a8cf189ee34f58099ffcbc20a3ac6dc101dcc,openstack/requirements,stable/zed,I868a8cf189ee34f58099ffcbc20a3ac6dc101dcc,update constraint for tap-as-a-service to new release 10.0.0,MERGED,2022-10-05 12:34:11.000000000,2022-10-18 16:07:45.000000000,2022-10-18 16:07:45.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-05 12:34:11.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/03f160ef9560bcfecceeb1b4635415d9fe341435', 'message': 'update constraint for tap-as-a-service to new release 10.0.0\n\nmeta: version: 10.0.0\nmeta: diff-start: 9.0.0\nmeta: series: zed\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Eld Ills <elod.illes@est.tech>\nmeta: release:Commit: Eld Ills <elod.illes@est.tech>\nmeta: release:Change-Id: I89c7eb88c86f012536713e1ad7aa5b243aaf7f83\nmeta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>\nmeta: release:Code-Review+1: Boxiang Zhu <zhu.boxiang@99cloud.net>\nmeta: release:Code-Review+1: Roman Dobosz <gryf73@gmail.com>\nmeta: release:Code-Review+1: Michael Johnson <johnsomor@gmail.com>\nmeta: release:Code-Review+1: Brin Zhang <zhangbailin@inspur.com>\nmeta: release:Code-Review+1: chenker <chen.ke14@zte.com.cn>\nmeta: release:Code-Review+1: Yasufumi Ogawa <yasufum.o@gmail.com>\nmeta: release:Code-Review+1: Rajat Dhasmana <rajatdhasmana@gmail.com>\nmeta: release:Code-Review+1: Pranali Deore <pdeore@redhat.com>\nmeta: release:Code-Review+1: Sylvain Bauza <sbauza@redhat.com>\nmeta: release:Code-Review+1: sean mooney <smooney@redhat.com>\nmeta: release:Code-Review+1: Martin Chacon Piza <martin@chaconpiza.com>\nmeta: release:Code-Review+1: Takashi Natsume <takanattie@gmail.com>\nmeta: release:Code-Review+1: Takashi Kajinami <tkajinam@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I868a8cf189ee34f58099ffcbc20a3ac6dc101dcc\n'}]",0,860410,03f160ef9560bcfecceeb1b4635415d9fe341435,8,2,1,11131,,,0,"update constraint for tap-as-a-service to new release 10.0.0

meta: version: 10.0.0
meta: diff-start: 9.0.0
meta: series: zed
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Eld Ills <elod.illes@est.tech>
meta: release:Commit: Eld Ills <elod.illes@est.tech>
meta: release:Change-Id: I89c7eb88c86f012536713e1ad7aa5b243aaf7f83
meta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>
meta: release:Code-Review+1: Boxiang Zhu <zhu.boxiang@99cloud.net>
meta: release:Code-Review+1: Roman Dobosz <gryf73@gmail.com>
meta: release:Code-Review+1: Michael Johnson <johnsomor@gmail.com>
meta: release:Code-Review+1: Brin Zhang <zhangbailin@inspur.com>
meta: release:Code-Review+1: chenker <chen.ke14@zte.com.cn>
meta: release:Code-Review+1: Yasufumi Ogawa <yasufum.o@gmail.com>
meta: release:Code-Review+1: Rajat Dhasmana <rajatdhasmana@gmail.com>
meta: release:Code-Review+1: Pranali Deore <pdeore@redhat.com>
meta: release:Code-Review+1: Sylvain Bauza <sbauza@redhat.com>
meta: release:Code-Review+1: sean mooney <smooney@redhat.com>
meta: release:Code-Review+1: Martin Chacon Piza <martin@chaconpiza.com>
meta: release:Code-Review+1: Takashi Natsume <takanattie@gmail.com>
meta: release:Code-Review+1: Takashi Kajinami <tkajinam@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I868a8cf189ee34f58099ffcbc20a3ac6dc101dcc
",git fetch https://review.opendev.org/openstack/requirements refs/changes/10/860410/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,03f160ef9560bcfecceeb1b4635415d9fe341435,new-release,tap-as-a-service===10.0.0,tap-as-a-service===10.0.0.0rc1,1,1
openstack%2Frequirements~stable%2Fzed~I380ed8827d40f2cfa6b3fb8f598670665f7ddad4,openstack/requirements,stable/zed,I380ed8827d40f2cfa6b3fb8f598670665f7ddad4,update constraint for ceilometer to new release 19.0.0,MERGED,2022-10-05 12:28:07.000000000,2022-10-18 16:07:41.000000000,2022-10-18 16:07:41.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-05 12:28:07.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/efb7c378d6d618c528584197bec5649795f51d87', 'message': 'update constraint for ceilometer to new release 19.0.0\n\nmeta: version: 19.0.0\nmeta: diff-start: 18.0.0\nmeta: series: zed\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: yes\nmeta: release:Author: Eld Ills <elod.illes@est.tech>\nmeta: release:Commit: Eld Ills <elod.illes@est.tech>\nmeta: release:Change-Id: I89c7eb88c86f012536713e1ad7aa5b243aaf7f83\nmeta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>\nmeta: release:Code-Review+1: Boxiang Zhu <zhu.boxiang@99cloud.net>\nmeta: release:Code-Review+1: Roman Dobosz <gryf73@gmail.com>\nmeta: release:Code-Review+1: Michael Johnson <johnsomor@gmail.com>\nmeta: release:Code-Review+1: Brin Zhang <zhangbailin@inspur.com>\nmeta: release:Code-Review+1: chenker <chen.ke14@zte.com.cn>\nmeta: release:Code-Review+1: Yasufumi Ogawa <yasufum.o@gmail.com>\nmeta: release:Code-Review+1: Rajat Dhasmana <rajatdhasmana@gmail.com>\nmeta: release:Code-Review+1: Pranali Deore <pdeore@redhat.com>\nmeta: release:Code-Review+1: Sylvain Bauza <sbauza@redhat.com>\nmeta: release:Code-Review+1: sean mooney <smooney@redhat.com>\nmeta: release:Code-Review+1: Martin Chacon Piza <martin@chaconpiza.com>\nmeta: release:Code-Review+1: Takashi Natsume <takanattie@gmail.com>\nmeta: release:Code-Review+1: Takashi Kajinami <tkajinam@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I380ed8827d40f2cfa6b3fb8f598670665f7ddad4\n'}]",0,860408,efb7c378d6d618c528584197bec5649795f51d87,8,2,1,11131,,,0,"update constraint for ceilometer to new release 19.0.0

meta: version: 19.0.0
meta: diff-start: 18.0.0
meta: series: zed
meta: release-type: release
meta: pypi: no
meta: first: yes
meta: release:Author: Eld Ills <elod.illes@est.tech>
meta: release:Commit: Eld Ills <elod.illes@est.tech>
meta: release:Change-Id: I89c7eb88c86f012536713e1ad7aa5b243aaf7f83
meta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>
meta: release:Code-Review+1: Boxiang Zhu <zhu.boxiang@99cloud.net>
meta: release:Code-Review+1: Roman Dobosz <gryf73@gmail.com>
meta: release:Code-Review+1: Michael Johnson <johnsomor@gmail.com>
meta: release:Code-Review+1: Brin Zhang <zhangbailin@inspur.com>
meta: release:Code-Review+1: chenker <chen.ke14@zte.com.cn>
meta: release:Code-Review+1: Yasufumi Ogawa <yasufum.o@gmail.com>
meta: release:Code-Review+1: Rajat Dhasmana <rajatdhasmana@gmail.com>
meta: release:Code-Review+1: Pranali Deore <pdeore@redhat.com>
meta: release:Code-Review+1: Sylvain Bauza <sbauza@redhat.com>
meta: release:Code-Review+1: sean mooney <smooney@redhat.com>
meta: release:Code-Review+1: Martin Chacon Piza <martin@chaconpiza.com>
meta: release:Code-Review+1: Takashi Natsume <takanattie@gmail.com>
meta: release:Code-Review+1: Takashi Kajinami <tkajinam@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I380ed8827d40f2cfa6b3fb8f598670665f7ddad4
",git fetch https://review.opendev.org/openstack/requirements refs/changes/08/860408/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,efb7c378d6d618c528584197bec5649795f51d87,new-release,ceilometer===19.0.0,ceilometer===19.0.0.0rc1,1,1
openstack%2Fkolla~master~I425ae2fab78e80ff56f21fd1b24708906ec32342,openstack/kolla,master,I425ae2fab78e80ff56f21fd1b24708906ec32342,rabbitmq/aarch64: use COPR for Erlang,MERGED,2022-10-14 09:47:03.000000000,2022-10-18 15:55:00.000000000,2022-10-18 15:53:54.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-10-14 09:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/dfe2c81ef041abc7071d27d3c41e5f5c13c02603', 'message': 'rabbitmq: use Erlang from COPR on CentOS Stream/Rocky Linux\n\nRabbitMQ team maintains RPM package in Github repo [1]. We then use it\nto build package using COPR service [2].\n\nThis way we have latest Erlang on both distributions and both\narchitectures.\n\n1. https://github.com/rabbitmq/erlang-rpm/\n2. https://copr.fedorainfracloud.org/coprs/hrw/erlang-for-rabbitmq/\n\nChange-Id: I425ae2fab78e80ff56f21fd1b24708906ec32342\n'}, {'number': 2, 'created': '2022-10-14 11:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9b31bafd9a9516b9844939fd3fd09773962ff651', 'message': 'rabbitmq: use Erlang from COPR on CentOS Stream/Rocky Linux\n\nRabbitMQ team maintains RPM package in Github repo [1]. We then use it\nto build package using COPR service [2].\n\nThis way we have latest Erlang on both distributions and both\narchitectures.\n\n1. https://github.com/rabbitmq/erlang-rpm/\n2. https://copr.fedorainfracloud.org/coprs/hrw/erlang-for-rabbitmq/\n\nChange-Id: I425ae2fab78e80ff56f21fd1b24708906ec32342\n'}, {'number': 3, 'created': '2022-10-17 15:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/19c5f4bc6a1c71a947b6f008d3b0ab2d3dabae76', 'message': 'rabbitmq/aarch64: use COPR for Erlang\n\nRabbitMQ team maintains RPM package in Github repo [1]. Hrw then use it\nto build package using COPR service [2].\n\nThis way we have latest Erlang on both distributions and both\narchitectures.\n\n1. https://github.com/rabbitmq/erlang-rpm/\n2. https://copr.fedorainfracloud.org/coprs/hrw/erlang-for-rabbitmq/\n\nChange-Id: I425ae2fab78e80ff56f21fd1b24708906ec32342\n'}, {'number': 4, 'created': '2022-10-18 13:23:42.000000000', 'files': ['docker/base/erlang-solutions.repo', 'docker/base/hrw-copr-erlang-for-rabbitmq.repo', 'docker/base/Dockerfile.j2', 'kolla/template/repos.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e104ef7fdcf0faf48a8f70b73a67103258004924', 'message': 'rabbitmq/aarch64: use COPR for Erlang\n\nRabbitMQ team maintains RPM package in Github repo [1]. Hrw then use it\nto build package using COPR service [2].\n\nThis way we have latest Erlang on both distributions and both\narchitectures.\n\n1. https://github.com/rabbitmq/erlang-rpm/\n2. https://copr.fedorainfracloud.org/coprs/hrw/erlang-for-rabbitmq/\n\nChange-Id: I425ae2fab78e80ff56f21fd1b24708906ec32342\n'}]",13,861327,e104ef7fdcf0faf48a8f70b73a67103258004924,28,4,4,24072,,,0,"rabbitmq/aarch64: use COPR for Erlang

RabbitMQ team maintains RPM package in Github repo [1]. Hrw then use it
to build package using COPR service [2].

This way we have latest Erlang on both distributions and both
architectures.

1. https://github.com/rabbitmq/erlang-rpm/
2. https://copr.fedorainfracloud.org/coprs/hrw/erlang-for-rabbitmq/

Change-Id: I425ae2fab78e80ff56f21fd1b24708906ec32342
",git fetch https://review.opendev.org/openstack/kolla refs/changes/27/861327/3 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/erlang-solutions.repo', 'docker/base/hrw-copr-erlang-for-rabbitmq.repo', 'docker/base/Dockerfile.j2', 'kolla/template/repos.yaml', 'docker/base/rabbitmq_rabbitmq-erlang.repo']",5,dfe2c81ef041abc7071d27d3c41e5f5c13c02603,rmq-erlang-update,,"[rabbitmq_rabbitmq-erlang] name=rabbitmq_rabbitmq-erlang # https://www.rabbitmq.com/install-rpm.html lists ""el/8"" for CentOS Stream 9 baseurl=https://packagecloud.io/rabbitmq/erlang/el/8/$basearch gpgcheck=1 enabled=0 ",16,27
openstack%2Fcinder~master~Ic746ebbac2c0f9ab66b5082d3c0bfa37830b3d94,openstack/cinder,master,Ic746ebbac2c0f9ab66b5082d3c0bfa37830b3d94,RBD: Add 512e/4k disk geometry configuration,NEW,2019-05-10 07:28:16.000000000,2022-10-18 15:47:25.000000000,,"[{'_account_id': 136}, {'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9236}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 14567}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 20721}, {'_account_id': 20813}, {'_account_id': 21107}, {'_account_id': 21129}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-10 07:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3376f7865ae99758b5148abc449ef37f1c8dae89', 'message': ""RBD: Add 512e/4k disk geometry configuration\n\nAdd support for configuring the physical_block_size and\nlogical_block_size hints of Cinder RBD volumes using the new\n'disk_geometry' configuration option.\n\nCeph performs much better when I/O is 4k-aligned otherwise it has to\nread the 4k from disk, modify and write it again. Linux guests generally\nsubmit 4k-aligned I/O, however Windows guests generally submit\n512b-aligned I/O. When hinted with physical_block_size=4096 Windows\nguests will switch to submitting most I/O as 4k-aligned based on both\ntesting and information from Microsoft KB 2510009.\n\nThe infrastructure to configure this inside of nova/libvirt already\nexists, however previously only the iSCSI/SolidFire driver set this\nvalue. This extends the RBD driver to also handle this.\n\nThe SolidFire driver stores the current configuration value in the\ndatabase against the volume's provider_geometry database field. That has\nthe effect of causing the configuration option to only apply to new\nvolumes and is then difficult to change the configuration after the\nfact. Instead of storing it in the database, here we simply reference\nthe active configuration directly during volume connection so that\na configuration change is reflected next time a volume is used. Note\nthat rebooting an existing VM will not regenerate it's libvirt\nconfiguration and you will need to do an operation which regenerates the\nlibvirt XML such as detaching/re-attaching the volume, cold migrating\nthe VM or live migrating (to update the configuration) and then\nrebooting (so that the guests re-reads the information from the\nhardware) in order for the change to take effect.\n\nDefault for new versions is disk_geometry=512e, backports should\nprobably adjust this to 512 so as not to change default behaviour\nunexpectedly although I do not expect disk_geometry=512e to cause any\ncompatibility issues.\n\nChange-Id: Ic746ebbac2c0f9ab66b5082d3c0bfa37830b3d94\n""}, {'number': 2, 'created': '2019-05-10 07:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/afe3da3ec84a0172cd4807884f706184b2cc0f0b', 'message': ""RBD: Add 512e/4k disk geometry configuration\n\nAdd support for configuring the physical_block_size and\nlogical_block_size hints of Cinder RBD volumes using the new\n'disk_geometry' configuration option.\n\nCeph performs much better when I/O is 4k-aligned otherwise it has to\nread the 4k from disk, modify and write it again. Linux guests generally\nsubmit 4k-aligned I/O, however Windows guests generally submit\n512b-aligned I/O. When hinted with physical_block_size=4096 Windows\nguests will switch to submitting most I/O as 4k-aligned based on both\ntesting and information from Microsoft KB 2510009.\n\nThe infrastructure to configure this inside of nova/libvirt already\nexists, however previously only the iSCSI/SolidFire driver set this\nvalue. This extends the RBD driver to also handle this.\n\nThe SolidFire driver stores the current configuration value in the\ndatabase against the volume's provider_geometry database field. That has\nthe effect of causing the configuration option to only apply to new\nvolumes and is then difficult to change the configuration after the\nfact. Instead of storing it in the database, here we simply reference\nthe active configuration directly during volume connection so that\na configuration change is reflected next time a volume is used. Note\nthat rebooting an existing VM will not regenerate it's libvirt\nconfiguration and you will need to do an operation which regenerates the\nlibvirt XML such as detaching/re-attaching the volume, cold migrating\nthe VM or live migrating (to update the configuration) and then\nrebooting (so that the guests re-reads the information from the\nhardware) in order for the change to take effect.\n\nDefault for new versions is disk_geometry=512e, backports should\nprobably adjust this to 512 so as not to change default behaviour\nunexpectedly although I do not expect disk_geometry=512e to cause any\ncompatibility issues.\n\nDocImpact\nChange-Id: Ic746ebbac2c0f9ab66b5082d3c0bfa37830b3d94\n""}, {'number': 3, 'created': '2019-05-17 09:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9a767eb49e5050659f225a1d454bc790e779a310', 'message': ""RBD: Add 512e/4k disk geometry configuration\n\nAdd support for configuring the physical_block_size and\nlogical_block_size hints of Cinder RBD volumes using the new\n'disk_geometry' configuration option.\n\nCeph performs much better when I/O is 4k-aligned otherwise it has to\nread the 4k from disk, modify and write it again. Linux guests generally\nsubmit 4k-aligned I/O, however Windows guests generally submit\n512b-aligned I/O. When hinted with physical_block_size=4096 Windows\nguests will switch to submitting most I/O as 4k-aligned based on both\ntesting and information from Microsoft KB 2510009. Note that this\nrequires a guest VirtIO driver newer than Mid-2018 with the fix for RHBZ\n\nThe infrastructure to configure this inside of nova/libvirt already\nexists, however previously only the iSCSI/SolidFire driver set this\nvalue. This extends the RBD driver to also handle this.\n\nThe SolidFire driver stores the current configuration value in the\ndatabase against the volume's provider_geometry database field. That has\nthe effect of causing the configuration option to only apply to new\nvolumes and is then difficult to change the configuration after the\nfact. Instead of storing it in the database, here we simply reference\nthe active configuration directly during volume connection so that\na configuration change is reflected next time a volume is used. Note\nthat rebooting an existing VM will not regenerate it's libvirt\nconfiguration and you will need to do an operation which regenerates the\nlibvirt XML such as detaching/re-attaching the volume, cold migrating\nthe VM or live migrating (to update the configuration) and then\nrebooting (so that the guests re-reads the information from the\nhardware) in order for the change to take effect.\n\nDefault for new versions is disk_geometry=512e, backports should\nprobably adjust this to 512 so as not to change default behaviour\nunexpectedly although I do not expect disk_geometry=512e to cause any\ncompatibility issues.\n\nDocImpact\nChange-Id: Ic746ebbac2c0f9ab66b5082d3c0bfa37830b3d94\n""}, {'number': 4, 'created': '2019-05-17 09:22:42.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'releasenotes/notes/rbd-disk-geometry-7753e2e3bc44cc3d.yaml', 'cinder/tests/unit/volume/drivers/test_rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/be03725203de70187b50356db4a85abf8ae0c078', 'message': ""RBD: Add 512e/4k disk geometry configuration\n\nAdd support for configuring the physical_block_size and\nlogical_block_size hints of Cinder RBD volumes using the new\n'disk_geometry' configuration option.\n\nCeph performs much better when I/O is 4k-aligned otherwise it has to\nread the 4k from disk, modify and write it again. Linux guests generally\nsubmit 4k-aligned I/O, however Windows guests generally submit\n512b-aligned I/O. When hinted with physical_block_size=4096 Windows\nguests will switch to submitting most I/O as 4k-aligned based on both\ntesting and information from Microsoft KB 2510009. Note that this\nrequires a guest VirtIO driver from 2019 with the fix for RHBZ 1428641.\n\nThe infrastructure to configure this inside of nova/libvirt already\nexists, however previously only the iSCSI/SolidFire driver set this\nvalue. This extends the RBD driver to also handle this.\n\nThe SolidFire driver stores the current configuration value in the\ndatabase against the volume's provider_geometry database field. That has\nthe effect of causing the configuration option to only apply to new\nvolumes and is then difficult to change the configuration after the\nfact. Instead of storing it in the database, here we simply reference\nthe active configuration directly during volume connection so that\na configuration change is reflected next time a volume is used. Note\nthat rebooting an existing VM will not regenerate it's libvirt\nconfiguration and you will need to do an operation which regenerates the\nlibvirt XML such as detaching/re-attaching the volume, cold migrating\nthe VM or live migrating (to update the configuration) and then\nrebooting (so that the guests re-reads the information from the\nhardware) in order for the change to take effect.\n\nDefault for new versions is disk_geometry=512e, backports should\nprobably adjust this to 512 so as not to change default behaviour\nunexpectedly although I do not expect disk_geometry=512e to cause any\ncompatibility issues.\n\nDocImpact\nChange-Id: Ic746ebbac2c0f9ab66b5082d3c0bfa37830b3d94\n""}]",13,658283,be03725203de70187b50356db4a85abf8ae0c078,99,42,4,21107,,,0,"RBD: Add 512e/4k disk geometry configuration

Add support for configuring the physical_block_size and
logical_block_size hints of Cinder RBD volumes using the new
'disk_geometry' configuration option.

Ceph performs much better when I/O is 4k-aligned otherwise it has to
read the 4k from disk, modify and write it again. Linux guests generally
submit 4k-aligned I/O, however Windows guests generally submit
512b-aligned I/O. When hinted with physical_block_size=4096 Windows
guests will switch to submitting most I/O as 4k-aligned based on both
testing and information from Microsoft KB 2510009. Note that this
requires a guest VirtIO driver from 2019 with the fix for RHBZ 1428641.

The infrastructure to configure this inside of nova/libvirt already
exists, however previously only the iSCSI/SolidFire driver set this
value. This extends the RBD driver to also handle this.

The SolidFire driver stores the current configuration value in the
database against the volume's provider_geometry database field. That has
the effect of causing the configuration option to only apply to new
volumes and is then difficult to change the configuration after the
fact. Instead of storing it in the database, here we simply reference
the active configuration directly during volume connection so that
a configuration change is reflected next time a volume is used. Note
that rebooting an existing VM will not regenerate it's libvirt
configuration and you will need to do an operation which regenerates the
libvirt XML such as detaching/re-attaching the volume, cold migrating
the VM or live migrating (to update the configuration) and then
rebooting (so that the guests re-reads the information from the
hardware) in order for the change to take effect.

Default for new versions is disk_geometry=512e, backports should
probably adjust this to 512 so as not to change default behaviour
unexpectedly although I do not expect disk_geometry=512e to cause any
compatibility issues.

DocImpact
Change-Id: Ic746ebbac2c0f9ab66b5082d3c0bfa37830b3d94
",git fetch https://review.opendev.org/openstack/cinder refs/changes/83/658283/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'releasenotes/notes/rbd-disk-geometry-7753e2e3bc44cc3d.yaml', 'cinder/tests/unit/volume/drivers/test_rbd.py']",3,3376f7865ae99758b5148abc449ef37f1c8dae89,," self.cfg.disk_geometry = '512e' 'logical_block_size': '512', 'physical_block_size': '4096',",,61,0
openstack%2Fopenstacksdk~master~Iaab40ac4cc71f7626063700f476b53f7ffb5f39f,openstack/openstacksdk,master,Iaab40ac4cc71f7626063700f476b53f7ffb5f39f,compute: Fix '*volume_attachment' proxy methods,MERGED,2021-12-14 16:44:01.000000000,2022-10-18 14:54:04.000000000,2022-10-18 14:51:29.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-12-14 16:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/53e802fb3f2da5ce3f0ec1c8f71bd56d637ae9b9', 'message': ""compute: Fix 'update_volume_attachment'\n\nThis was totally broken and unusable. Correct it by allowing updates to\nthe resource (via 'allow_commit') and actually consuming the provided\nattributes. We also update the docstring for the method since it's got a\ncouple of errors in it.\n\nChange-Id: Iaab40ac4cc71f7626063700f476b53f7ffb5f39f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-12-20 11:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d96cd7b83aef0081f4151c5d21671419622520dd', 'message': ""compute: Fix '*volume_attachment' proxy methods\n\nThe majority of these were totally broken and unusable. Correct them by\nallowing updates to the resource (via 'allow_commit') and actually\nconsuming the provided attributes. We also update the docstrings for the\nmethods since they've got a couple of errors in them.\n\nChange-Id: Iaab40ac4cc71f7626063700f476b53f7ffb5f39f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-12-20 12:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d6212fd6dcbed681c8cf12f6ffedd7189516d638', 'message': ""compute: Fix '*volume_attachment' proxy methods\n\nThe majority of these were totally broken and unusable because nova\ndoesn't allow you to retrieve a volume attachment by its ID: rather,\nyou need to use a combination of the server and volume IDs. As such,\neach method should have been taking a combo of a Server object or ID and\na *Volume* object or ID, not a VolumeAttachment object or ID. These\nfixes require rather extensive changes to the method signature, to the\npoint that we've actually added a release note to call this out.\n\nIn addition, the 'update_volume_attachment' proxy method never worked\nsince updates were forbidden on the resource (via 'allow_commit=False').\nThis is fixed by changing this value to True.\n\nChange-Id: Iaab40ac4cc71f7626063700f476b53f7ffb5f39f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-12-20 17:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bc127fb8aeae937ec5680dd741a1cfe47d39be0a', 'message': ""compute: Fix '*volume_attachment' proxy methods\n\nThe majority of these were totally broken and unusable because nova\ndoesn't allow you to retrieve a volume attachment by its ID: rather,\nyou need to use a combination of the server and volume IDs. As such,\neach method should have been taking a combo of a Server object or ID and\na *Volume* object or ID, not a VolumeAttachment object or ID. These\nfixes require rather extensive changes to the method signature, to the\npoint that we've actually added a release note to call this out.\n\nIn addition, the 'update_volume_attachment' proxy method never worked\nsince updates were forbidden on the resource (via 'allow_commit=False').\nThis is fixed by changing this value to True.\n\nChange-Id: Iaab40ac4cc71f7626063700f476b53f7ffb5f39f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2022-09-07 16:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8fc02378b8029b64b0491b2d858ec232bc4bc596', 'message': ""compute: Fix '*volume_attachment' proxy methods\n\nThe majority of these were totally broken and unusable because nova\ndoesn't allow you to retrieve a volume attachment by its ID: rather,\nyou need to use a combination of the server and volume IDs. As such,\neach method should have been taking a combo of a Server object or ID and\na *Volume* object or ID, not a VolumeAttachment object or ID. These\nfixes require rather extensive changes to the method signature, to the\npoint that we've actually added a release note to call this out.\n\nIn addition, the 'update_volume_attachment' proxy method never worked\nsince updates were forbidden on the resource (via 'allow_commit=False').\nThis is fixed by changing this value to True.\n\nChange-Id: Iaab40ac4cc71f7626063700f476b53f7ffb5f39f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2022-09-08 11:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ec7ef1796beb38ea0b5dd4f9056e5a1e3be242bd', 'message': ""compute: Fix '*volume_attachment' proxy methods\n\nThe majority of these were totally broken and unusable because nova\ndoesn't allow you to retrieve a volume attachment by its ID: rather,\nyou need to use a combination of the server and volume IDs. As such,\neach method should have been taking a combo of a Server object or ID and\na *Volume* object or ID, not a VolumeAttachment object or ID. These\nfixes require rather extensive changes to the method signature, to the\npoint that we've actually added a release note to call this out.\n\nIn addition, the 'update_volume_attachment' proxy method never worked\nsince updates were forbidden on the resource (via 'allow_commit=False').\nThis is fixed by changing this value to True.\n\nChange-Id: Iaab40ac4cc71f7626063700f476b53f7ffb5f39f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 7, 'created': '2022-09-28 13:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e792f249e1480d82546516d6f7e833d7545b2c5f', 'message': ""compute: Fix '*volume_attachment' proxy methods\n\nThe majority of these were totally broken and unusable because nova\ndoesn't allow you to retrieve a volume attachment by its ID: rather,\nyou need to use a combination of the server and volume IDs. As such,\neach method should have been taking a combo of a Server object or ID and\na *Volume* object or ID, not a VolumeAttachment object or ID. These\nfixes require rather extensive changes to the method signature, to the\npoint that we've actually added a release note to call this out. We've\nincluded some hacky workarounds to avoid breaking existing users for\nnow, giving them time to migrate to the new, improved patterns.\n\nIn addition, the 'update_volume_attachment' proxy method never worked\nsince updates were forbidden on the resource (via 'allow_commit=False').\nThis is fixed by changing this value to True.\n\nChange-Id: Iaab40ac4cc71f7626063700f476b53f7ffb5f39f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 8, 'created': '2022-09-30 10:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b6d889c68bac6b16ab991ad3a2cae8bed8bb4dc6', 'message': ""compute: Fix '*volume_attachment' proxy methods\n\nThe majority of these were totally broken and unusable because nova\ndoesn't allow you to retrieve a volume attachment by its ID: rather,\nyou need to use a combination of the server and volume IDs. As such,\neach method should have been taking a combo of a Server object or ID and\na *Volume* object or ID, not a VolumeAttachment object or ID. These\nfixes require rather extensive changes to the method signature, to the\npoint that we've actually added a release note to call this out. We've\nincluded some hacky workarounds to avoid breaking existing users for\nnow, giving them time to migrate to the new, improved patterns.\n\nIn addition, the 'update_volume_attachment' proxy method never worked\nsince updates were forbidden on the resource (via 'allow_commit=False').\nThis is fixed by changing this value to True.\n\nChange-Id: Iaab40ac4cc71f7626063700f476b53f7ffb5f39f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 9, 'created': '2022-10-11 15:24:53.000000000', 'files': ['releasenotes/notes/compute-volume-attachment-proxy-method-rework-dc35fe9ca3af1c16.yaml', 'openstack/tests/unit/cloud/test_volume.py', 'openstack/tests/unit/compute/v2/test_proxy.py', 'openstack/compute/v2/volume_attachment.py', 'openstack/compute/v2/_proxy.py', 'openstack/cloud/_block_storage.py', 'openstack/tests/unit/compute/v2/test_volume_attachment.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ddf2a2504920702c314bec14733f3816072cc7cc', 'message': ""compute: Fix '*volume_attachment' proxy methods\n\nThe majority of these were totally broken and unusable because nova\ndoesn't allow you to retrieve a volume attachment by its ID: rather,\nyou need to use a combination of the server and volume IDs. As such,\neach method should have been taking a combo of a Server object or ID and\na *Volume* object or ID, not a VolumeAttachment object or ID. These\nfixes require rather extensive changes to the method signature, to the\npoint that we've actually added a release note to call this out. We've\nincluded some hacky workarounds to avoid breaking existing users for\nnow, giving them time to migrate to the new, improved patterns.\n\nIn addition, the 'update_volume_attachment' proxy method never worked\nsince updates were forbidden on the resource (via 'allow_commit=False').\nThis is fixed by changing this value to True.\n\nChange-Id: Iaab40ac4cc71f7626063700f476b53f7ffb5f39f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",25,821733,ddf2a2504920702c314bec14733f3816072cc7cc,30,3,9,15334,,,0,"compute: Fix '*volume_attachment' proxy methods

The majority of these were totally broken and unusable because nova
doesn't allow you to retrieve a volume attachment by its ID: rather,
you need to use a combination of the server and volume IDs. As such,
each method should have been taking a combo of a Server object or ID and
a *Volume* object or ID, not a VolumeAttachment object or ID. These
fixes require rather extensive changes to the method signature, to the
point that we've actually added a release note to call this out. We've
included some hacky workarounds to avoid breaking existing users for
now, giving them time to migrate to the new, improved patterns.

In addition, the 'update_volume_attachment' proxy method never worked
since updates were forbidden on the resource (via 'allow_commit=False').
This is fixed by changing this value to True.

Change-Id: Iaab40ac4cc71f7626063700f476b53f7ffb5f39f
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/33/821733/9 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/compute/v2/volume_attachment.py', 'openstack/compute/v2/_proxy.py']",2,53e802fb3f2da5ce3f0ec1c8f71bd56d637ae9b9,compute-gaps," def update_volume_attachment( self, volume_attachment, server, volume_id=None, **attrs, ): VolumeAttachment ID is given as value. It can be either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance that the attachment belongs to. :param volume_id: The ID of a volume to swap to. If this is not specified, we will default to not swapping the volume. :param attrs: The attributes to update on the volume attachment represented by ``volume_attachment``. server_id = self._get_uri_attribute( volume_attachment, server, ""server_id"", ) if volume_id is None: volume_id = volume_attachment return self._update( _volume_attachment.VolumeAttachment, id=volume_attachment, server_id=server_id, volume_id=volume_id, **attrs, )"," def update_volume_attachment(self, volume_attachment, server, **attrs): VolumeAttachment ID is given as value. It can be either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance that the attachment belongs to. :param bool ignore_missing: When set to ``False`` :class:`~openstack.exceptions.ResourceNotFound` will be raised when the volume attachment does not exist. When set to ``True``, no exception will be set when attempting to delete a nonexistent volume attachment. server_id = self._get_uri_attribute(volume_attachment, server, ""server_id"") return self._update(_volume_attachment.VolumeAttachment, attachment_id=volume_attachment, server_id=server_id)",24,17
openstack%2Ftripleo-common~master~Ic0248cc89b71768afe3dc1e24c42a72b74ea5c3b,openstack/tripleo-common,master,Ic0248cc89b71768afe3dc1e24c42a72b74ea5c3b,"Revert ""Populate /var/lib/ironic/tftpboot in ironic-pxe image build""",MERGED,2022-09-11 21:29:34.000000000,2022-10-18 14:53:46.000000000,2022-10-18 14:52:34.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-09-11 21:29:34.000000000', 'files': ['container-images/tcib/base/os/ironic-base/ironic-pxe/ironic-pxe.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/10f2ef5e22860009c1c79605532ba3160ae976ef', 'message': 'Revert ""Populate /var/lib/ironic/tftpboot in ironic-pxe image build""\n\nIn a podified control plane, /var/lib/ironic/tftpboot needs to be part\nof a shared volume used by the conductor and dnsmasq containers. This\nmeans it will be empty regardless of what is on the image, and it\nshould be populated by the init container for the pod.\n\nThis is a modified revert, the original /tftpboot preparation is still\nremoved.\n\nThis reverts commit bcfa3edcee3a48de5b520b22ecf6ff1fb5ad7d4e.\n\nChange-Id: Ic0248cc89b71768afe3dc1e24c42a72b74ea5c3b\n'}]",2,856973,10f2ef5e22860009c1c79605532ba3160ae976ef,15,5,1,4571,,,0,"Revert ""Populate /var/lib/ironic/tftpboot in ironic-pxe image build""

In a podified control plane, /var/lib/ironic/tftpboot needs to be part
of a shared volume used by the conductor and dnsmasq containers. This
means it will be empty regardless of what is on the image, and it
should be populated by the init container for the pod.

This is a modified revert, the original /tftpboot preparation is still
removed.

This reverts commit bcfa3edcee3a48de5b520b22ecf6ff1fb5ad7d4e.

Change-Id: Ic0248cc89b71768afe3dc1e24c42a72b74ea5c3b
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/73/856973/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/os/ironic-base/ironic-pxe/ironic-pxe.yaml'],1,10f2ef5e22860009c1c79605532ba3160ae976ef,pxe-prep,,- run: mkdir -p --context=tftpdir_t /var/lib/ironic/tftpboot/pxelinux.cfg && cp /usr/share/ipxe/undionly.kpxe /usr/share/ipxe/ipxe-snponly-x86_64.efi /boot/efi/EFI/*/grubx64.efi /boot/efi/EFI/*/shimx64.efi /var/lib/ironic/tftpboot/,0,1
openstack%2Fopenstacksdk~master~Ic2986b107c921752c9e174fe4b7209eec9bf7704,openstack/openstacksdk,master,Ic2986b107c921752c9e174fe4b7209eec9bf7704,Add identity.group_users method,MERGED,2022-09-12 12:25:28.000000000,2022-10-18 14:52:55.000000000,2022-10-18 14:51:26.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-09-12 12:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d5a8a812e5ddee5d750763f4f68d310d72fbd876', 'message': 'add missing function to identity resource\n\nChange-Id: Ic2986b107c921752c9e174fe4b7209eec9bf7704\n'}, {'number': 2, 'created': '2022-09-12 13:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/7329a22a27ecc72d36f3fde60cf84271f47af0c3', 'message': 'add missing function to identity resource\n\nChange-Id: Ic2986b107c921752c9e174fe4b7209eec9bf7704\n'}, {'number': 3, 'created': '2022-09-13 10:35:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/cbb5b27a31e97e186cc6010c47b0a36ff7b891b1', 'message': 'add missing function to identity resource\n\nChange-Id: Ic2986b107c921752c9e174fe4b7209eec9bf7704\n'}, {'number': 4, 'created': '2022-09-13 21:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/87e1972d7ad3759a93122ab2530669174aa6d218', 'message': 'add missing function to identity resource\n\nChange-Id: Ic2986b107c921752c9e174fe4b7209eec9bf7704\n'}, {'number': 5, 'created': '2022-09-13 21:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/922929c03e0bd49e114999df4c2f46b4a96b8b66', 'message': 'add missing function to identity resource\n\nChange-Id: Ic2986b107c921752c9e174fe4b7209eec9bf7704\n'}, {'number': 6, 'created': '2022-09-13 21:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/fe6ba13da3e3bbead9ca6fbbfa4a055969cbf894', 'message': 'add missing function to identity resource\n\nChange-Id: Ic2986b107c921752c9e174fe4b7209eec9bf7704\n'}, {'number': 7, 'created': '2022-09-14 07:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/cabfc8da7922537fc3f45e5e83c30eb65ac5a772', 'message': 'add missing function to identity resource\n\nChange-Id: Ic2986b107c921752c9e174fe4b7209eec9bf7704\n'}, {'number': 8, 'created': '2022-10-15 08:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/7180df85732e401544a95bda1d48572e827b729f', 'message': 'add missing function to identity resource\n\nChange-Id: Ic2986b107c921752c9e174fe4b7209eec9bf7704\n'}, {'number': 9, 'created': '2022-10-15 08:40:22.000000000', 'files': ['doc/source/user/proxies/identity_v3.rst', 'openstack/identity/v3/_proxy.py', 'openstack/tests/unit/identity/v3/test_proxy.py', 'releasenotes/notes/add-identity-group-users-proxy-method-e37f8983b2406819.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a426e6565a021d379cf0cd3820ae57d2e502e0b9', 'message': 'Add identity.group_users method\n\nAdd method to list users of a group.\n\nChange-Id: Ic2986b107c921752c9e174fe4b7209eec9bf7704\n'}]",13,857045,a426e6565a021d379cf0cd3820ae57d2e502e0b9,23,3,9,32787,,,0,"Add identity.group_users method

Add method to list users of a group.

Change-Id: Ic2986b107c921752c9e174fe4b7209eec9bf7704
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/45/857045/9 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/identity/v3/group.py', 'doc/source/user/proxies/identity_v3.rst', 'openstack/identity/v3/_proxy.py', 'openstack/tests/unit/identity/v3/test_group.py', 'openstack/tests/unit/identity/v3/test_proxy.py']",5,d5a8a812e5ddee5d750763f4f68d310d72fbd876,," def test_group_users(self): self._verify( ""openstack.identity.v3.group.Group.group_users"", self.proxy.group_users, method_args=['uid'], expected_args=[ self.proxy, ], expected_result=[] ) ",,51,1
openstack%2Fnova~stable%2Fzed~I1348cca8cbd8b1142dab8507c8aa1b9baf01e73c,openstack/nova,stable/zed,I1348cca8cbd8b1142dab8507c8aa1b9baf01e73c,Remove mentions of removed scheduler filters,MERGED,2022-09-20 13:50:26.000000000,2022-10-18 14:52:37.000000000,2022-10-18 14:51:16.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 15334}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-20 13:50:26.000000000', 'files': ['nova/conf/compute.py', 'doc/source/contributor/development-environment.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/c3489ed5cc21a9fa968949e04f1c7762f09b5606', 'message': 'Remove mentions of removed scheduler filters\n\nChange-Id: I1348cca8cbd8b1142dab8507c8aa1b9baf01e73c\n(cherry picked from commit 4fb4f6832c156907b786571f214984894703bf16)\n'}]",4,858534,c3489ed5cc21a9fa968949e04f1c7762f09b5606,12,6,1,15334,,,0,"Remove mentions of removed scheduler filters

Change-Id: I1348cca8cbd8b1142dab8507c8aa1b9baf01e73c
(cherry picked from commit 4fb4f6832c156907b786571f214984894703bf16)
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/858534/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/compute.py', 'doc/source/contributor/development-environment.rst']",2,c3489ed5cc21a9fa968949e04f1c7762f09b5606,docs-removed-filters,"that will limit the number of instances per compute, such as ``NumInstancesFilter``.","that will limit the number of instances per compute, such as ``AggregateCoreFilter``.",4,10
openstack%2Fneutron-specs~master~I1e51b009a0761f220cec8a0f337c1797ccdac5d4,openstack/neutron-specs,master,I1e51b009a0761f220cec8a0f337c1797ccdac5d4,Add spec for Openflow-based DVR L3 implementation,ABANDONED,2021-06-17 02:05:51.000000000,2022-10-18 14:37:28.000000000,,"[{'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 02:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d4138041725313573d20447f1f6c37b6690f8313', 'message': 'Add spec for Openflow-based DVR L3 implementation\n\nThis spec is to implement Openflow-based DVR L3, including\nL3 routing and floating IP.\n\nRelated-bug: #1931953\n\nSigned-off-by: Yi Yang <yangyi01@inspur.com>\n\nChange-Id: I1e51b009a0761f220cec8a0f337c1797ccdac5d4\n'}, {'number': 2, 'created': '2021-06-21 10:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/de5a7feffa6c0c6d3e0aca4e938f05a454040f0c', 'message': 'Add spec for Openflow-based DVR L3 implementation\n\nThis spec is to implement Openflow-based DVR L3, including\nL3 routing and floating IP.\n\nRelated-bug: #1931953\n\nSigned-off-by: Yi Yang <yangyi01@inspur.com>\n\nChange-Id: I1e51b009a0761f220cec8a0f337c1797ccdac5d4\n'}, {'number': 3, 'created': '2021-06-21 10:17:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/b0191e3f4c097f5552352630f503ed105df8c276', 'message': 'Add spec for Openflow-based DVR L3 implementation\n\nThis spec is to implement Openflow-based DVR L3, including\nL3 routing and floating IP.\n\nRelated-bug: #1931953\n\nSigned-off-by: Yi Yang <yangyi01@inspur.com>\n\nChange-Id: I1e51b009a0761f220cec8a0f337c1797ccdac5d4\n'}, {'number': 4, 'created': '2021-06-22 09:40:52.000000000', 'files': ['specs/xena/flow-based-dvr-l3.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/274ebb752147cdc4bc7518f1cd8c46e2dbfccedb', 'message': 'Add spec for Openflow-based DVR L3 implementation\n\nThis spec is to implement Openflow-based DVR L3, including\nL3 routing and floating IP.\n\nRelated-bug: #1931953\n\nSigned-off-by: Yi Yang <yangyi01@inspur.com>\n\nChange-Id: I1e51b009a0761f220cec8a0f337c1797ccdac5d4\n'}]",27,796746,274ebb752147cdc4bc7518f1cd8c46e2dbfccedb,17,5,4,30454,,,0,"Add spec for Openflow-based DVR L3 implementation

This spec is to implement Openflow-based DVR L3, including
L3 routing and floating IP.

Related-bug: #1931953

Signed-off-by: Yi Yang <yangyi01@inspur.com>

Change-Id: I1e51b009a0761f220cec8a0f337c1797ccdac5d4
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/46/796746/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/flow-based-dvr-l3.rst'],1,d4138041725313573d20447f1f6c37b6690f8313,bug/1931953,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ==================================== Openflow-based DVR L3 Implementation ==================================== https://bugs.launchpad.net/neutron/+bug/example-id Problem Description =================== In current DVR implementation, L3 routing and floating IP used network namespaces and iptables, qrouter network namespace and FIP network namespace used tap interfaces which is added to OVS bridge br-int, this means more hops, worse performance, especially it is much worse for FIP and in case of OVS DPDK (Note: for tap and veth interfaces, OVS DPDK's performance is very very bad) Proposed Change =============== This spec proposes that neutron uses Openflow to implement L3 routing and floating IP in OVS bridge br-int. * L3 routing - Openflow-based ARP reply for ARP requests from local VMs - Openflow-based ICMP v4 & v6 reply for IPs of gateways in qrouter - Openflow-based TTL decrease - Openflow-based routing across subnets * floating IP - Use advanced packet_in to trigger ARP request for remote floating IP and gateway IP of floating IP segment - Use neutron ovs agent as SDN controller to send ARP request for remote floating IP and gateway IP of floating IP segment - Use learn action to build Openflow-based ARP table for floating IP segment - Use Openflow (without conntrack/ct involved) to translate VM IP to FIP, vice versa - ARP reply for local FIPs (FIPs associated to local VMs). Note: secrity group/firewall_driver must use openvswitch. In order to implement these functions, neutron ovs agent and neutron l3 agent will be changed as below: Common ------ 1. Add 4 new tables: # local static ARP, routing table for qrouter LOCAL_QROUTER_ARP_TABLE = 101 # FIP to VMIP table, local FIP ARP reply, learn MAC from FIP ARP reply FIP_TO_VMIP_TABLE = 102 # local static ARP/MAC learning table for FIP LOCAL_FIP_ARP_TABLE = 103 # FIP output table, packet_in if no ARP entry for it. FIP_OUTPUT_TABLE = 104 Neutron OVS Agent Changes ------------------------- 1. Add new ovs agent config dvr_use_openflow = True | False 2. Steer FIP ARP traffic from TRANSIENT_TABLE to FIP_TO_VMIP_TABLE 3. ICMP responder in ACCEPTED_EGRESS_TRAFFIC_NORMAL_TABLE for qrouter IPs 4. Handle advanced packet_in and send ARP request for FIP 5. Classify FIP traffic in LOCAL_SWITCHING to FIP_TO_VMIP_TABLE 6. IP to MAC in LOCAL_STATIC_ARP_TABLE and resubmit to ACCEPT_OR_INGRESS_TABLE 7. Steer ARP request for qrouter in BASE_EGRESS_TABLE to LOCAL_QROUTER_REPLY_TABLE 8. Intercept traffic to qrouter in ACCEPTED_EGRESS_TRAFFIC_NORMAL_TABLE and go to LOCAL_STATIC_ARP_TABLE. 9. ARP responder in LOCAL_QROUTER_REPLY_TABLE. Neutron L3 Agent Changes ------------------------ 1. Add new RPC: def get_subnets(self, context, filters=None, fields=None): 2. Add new l3 agent config dvr_use_openflow = True | False 3. Steer the traffic to qrouter in LOCAL_QROUTER_ARP_TABLE to qrouter port 4. Resubmit traffic in LOCAL_QROUTER_ARP_TABLE to LOCAL_FIP_ARP_TABLE and FIP_OUTPUT_TABLE 5. Handle ARP reply for local FIPs in FIP_TO_VMIP_TABLE 6. Learn MAC from FIP ARP reply in FIP_TO_VMIP_TABLE and add learned flow rule to LOCAL_FIP_ARP_TABLE 7. Handle FIP to VMIP translation in FIP_TO_VMIP_TABLE and resubmit to LOCAL_QROUTER_ARP_TABLE 8. Handle VMIP to MAC in LOCAL_FIP_ARP_TABLE and resubmit to LOCAL_QROUTER_ARP_TABLE 9. Install default rule in LOCAL_FIP_ARP_TABLE for packet_in 10. Learn FIP gateway MAC in FIP_TO_VMIP_TABLE and add learned flow rule to LOCAL_FIP_ARP_TABLE 11. Install packet_in flow in FIP_OUTPUT_TABLE 12. Install output flow for remote FIP in FIP_OUTPUT_TABLE References ========== * Enhance os-ken to support Nicira PacketIn2: https://review.opendev.org/c/openstack/os-ken/+/795976 * [RFE] Openflow-based DVR L3: https://bugs.launchpad.net/neutron/+bug/1931953 * Blueprint: https://blueprints.launchpad.net/neutron/+spec/openflow-based-dvr-l3 ",,133,0
openstack%2Fopenstack-ansible-lxc_container_create~master~I1e9deaa2892a8fa7eb171acaf75441d7efeac297,openstack/openstack-ansible-lxc_container_create,master,I1e9deaa2892a8fa7eb171acaf75441d7efeac297,Replace usage of networkd template with role,MERGED,2022-10-14 13:52:13.000000000,2022-10-18 14:30:21.000000000,2022-10-18 14:28:49.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 30396}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-10-14 13:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/090dcb5ef750a5b8616875f9b03e6d02e8002887', 'message': 'Replace usage of networkd template with role\n\nFor consistency reasons instead of placing a template for\nsystemd-networkd we better use systemd_networkd role that is present\nfor a while.\n\nChange-Id: I1e9deaa2892a8fa7eb171acaf75441d7efeac297\n'}, {'number': 2, 'created': '2022-10-14 16:17:19.000000000', 'files': ['templates/container_network.network.j2', 'tasks/lxc_container_config.yml', 'tasks/lxc_container_network.yml', 'handlers/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/517b75ac615d7a1bf9968853188f308193da7117', 'message': 'Replace usage of networkd template with role\n\nFor consistency reasons instead of placing a template for\nsystemd-networkd we better use systemd_networkd role that is present\nfor a while.\n\nChange-Id: I1e9deaa2892a8fa7eb171acaf75441d7efeac297\n'}]",3,861391,517b75ac615d7a1bf9968853188f308193da7117,20,4,2,28619,,,0,"Replace usage of networkd template with role

For consistency reasons instead of placing a template for
systemd-networkd we better use systemd_networkd role that is present
for a while.

Change-Id: I1e9deaa2892a8fa7eb171acaf75441d7efeac297
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/91/861391/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/container_network.network.j2', 'tasks/lxc_container_config.yml', 'tasks/lxc_container_network.yml', 'handlers/main.yml', 'vars/main.yml']",5,090dcb5ef750a5b8616875f9b03e6d02e8002887,osa/systemd_roles," _lxc_container_systemd_networks: | {% set systemd_networks = [] %} {% for network in lxc_container_networks_combined.values() %} {% set _ = systemd_networks.append({ 'filename': network.interface, 'interface': network.interface, 'address': network.address | default('dhcp'), 'netmask': network.netmask | default(), 'gateway': network.gateway | default(), 'mtu': network.mtu | default(), 'static_routes': network.static_routes | default([]), 'usedns': ('dhcp_use_dns' in network) | ternary(network.dhcp_use_dns, lxc_container_enable_resolved | bool), 'config_overrides': ('dhcp_use_routes' in network) | ternary({'DHCP': network.dhcp_use_routes}, {}) }) %} {% endfor %} {{ systemd_networks }}",,24,79
openstack%2Fkolla-ansible~master~I6c71b32bf82d001e3340c7f821f2292ce2d159d4,openstack/kolla-ansible,master,I6c71b32bf82d001e3340c7f821f2292ce2d159d4,Add install-clients command for k-a,ABANDONED,2022-05-05 15:11:31.000000000,2022-10-18 14:23:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-05 15:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/24b00e41a9e960830cc8e64674ec4b8c1d4546dd', 'message': 'Add install-clients command for k-a\n\nThis PR adds install-clients command to install all clients\n\nChange-Id: I6c71b32bf82d001e3340c7f821f2292ce2d159d4\n'}, {'number': 2, 'created': '2022-05-05 15:14:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fe9051fad715f6fa29a9e888805ba7d839a89b0f', 'message': 'Add install-clients command for k-a\n\nThis PR adds install-clients command to install all clients\n\nChange-Id: I6c71b32bf82d001e3340c7f821f2292ce2d159d4\n'}, {'number': 3, 'created': '2022-05-06 12:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6407e350cc8aca47438f9d63aaa4c788b83853aa', 'message': 'Add install-clients command for k-a\n\nThis PR adds install-clients command to install all clients\n\nChange-Id: I6c71b32bf82d001e3340c7f821f2292ce2d159d4\n'}, {'number': 4, 'created': '2022-05-06 13:41:49.000000000', 'files': ['ansible/inventory/multinode', 'ansible/clients.yml', 'tests/deploy.sh', 'doc/source/user/quickstart.rst', 'tests/templates/globals-default.j2', 'tests/templates/inventory.j2', 'etc/kolla/globals.yml', 'tools/kolla-ansible', 'ansible/inventory/all-in-one'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9063eb3e1a738c88116547a7ddf4a33867e94255', 'message': 'Add install-clients command for k-a\n\nThis PR adds install-clients command to install all clients\n\nChange-Id: I6c71b32bf82d001e3340c7f821f2292ce2d159d4\n'}]",1,840688,9063eb3e1a738c88116547a7ddf4a33867e94255,14,1,4,26285,,,0,"Add install-clients command for k-a

This PR adds install-clients command to install all clients

Change-Id: I6c71b32bf82d001e3340c7f821f2292ce2d159d4
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/88/840688/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/inventory/multinode', 'ansible/clients.yml', 'tests/deploy.sh', 'doc/source/user/quickstart.rst', 'tests/templates/globals-default.j2', 'tests/templates/inventory.j2', 'etc/kolla/globals.yml', 'tools/kolla-ansible', 'ansible/inventory/all-in-one']",9,24b00e41a9e960830cc8e64674ec4b8c1d4546dd,,[clients] localhost ansible_connection=local ,,78,2
openstack%2Fpython-tripleoclient~master~Ie01f4663b944a12c8ef11addf95b6b3574cb5ee7,openstack/python-tripleoclient,master,Ie01f4663b944a12c8ef11addf95b6b3574cb5ee7,Undercloud: Deprecate unused scheduler_max_attempts,MERGED,2022-09-21 03:39:18.000000000,2022-10-18 14:11:55.000000000,2022-10-18 14:10:50.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-09-21 03:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9ff4c05041c7f64a1100f9989f9e7cdfba560bac', 'message': 'Undercloud: Deprecate unused scheduler_max_attempts\n\nThe option was used to tune behavior of nova-scheduler but has had no\neffect since nova was removed from undercloud.\n\nChange-Id: Ie01f4663b944a12c8ef11addf95b6b3574cb5ee7\n'}, {'number': 2, 'created': '2022-09-21 04:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a0ee973d20c0b5148ec22fe918ab89567559f093', 'message': 'Undercloud: Deprecate unused scheduler_max_attempts\n\nThe option was used to tune behavior of nova-scheduler but has had no\neffect since nova was removed from undercloud.\n\nChange-Id: Ie01f4663b944a12c8ef11addf95b6b3574cb5ee7\n'}, {'number': 3, 'created': '2022-10-14 04:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c3e8859910f64af5b50280dc6a1545dde4a53b8d', 'message': 'Undercloud: Deprecate unused scheduler_max_attempts\n\nThe option was used to tune behavior of nova-scheduler but has had no\neffect since nova was removed from undercloud.\n\nChange-Id: Ie01f4663b944a12c8ef11addf95b6b3574cb5ee7\n'}, {'number': 4, 'created': '2022-10-17 13:40:23.000000000', 'files': ['tripleoclient/config/undercloud.py', 'tripleoclient/v1/undercloud_config.py', 'releasenotes/notes/deprecate-uc-scheduler_max_attempts-9018c4635507940b.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e7da2e541ea98f5e1638d44966e82a1635e2a69e', 'message': 'Undercloud: Deprecate unused scheduler_max_attempts\n\nThe option was used to tune behavior of nova-scheduler but has had no\neffect since nova was removed from undercloud.\n\nChange-Id: Ie01f4663b944a12c8ef11addf95b6b3574cb5ee7\n'}]",2,858600,e7da2e541ea98f5e1638d44966e82a1635e2a69e,17,4,4,9816,,,0,"Undercloud: Deprecate unused scheduler_max_attempts

The option was used to tune behavior of nova-scheduler but has had no
effect since nova was removed from undercloud.

Change-Id: Ie01f4663b944a12c8ef11addf95b6b3574cb5ee7
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/00/858600/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/config/undercloud.py', 'tripleoclient/v1/undercloud_config.py', 'releasenotes/notes/deprecate-uc-scheduler_max_attempts-9018c4635507940b.yaml', 'tripleoclient/tests/config/test_config_undercloud.py']",4,9ff4c05041c7f64a1100f9989f9e7cdfba560bac,,," 'scheduler_max_attempts', 'scheduler_max_attempts',",10,3
openstack%2Fcharm-octavia-diskimage-retrofit~stable%2Fyoga~I17af83457a6bfbf5f1bec239687bbe7ba10be693,openstack/charm-octavia-diskimage-retrofit,stable/yoga,I17af83457a6bfbf5f1bec239687bbe7ba10be693,Update pinned dependencies to support binary charms.,MERGED,2022-10-14 17:41:00.000000000,2022-10-18 13:59:45.000000000,2022-10-18 13:59:45.000000000,"[{'_account_id': 8992}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-10-14 17:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/e5cc69a8e25586e7f10f9602d79c8c1048672607', 'message': 'Update pinned dependencies to support binary charms.\n\nTo support --binary-wheels-from-source a newer version of charm-tools\nand layer-basic is needed.\n\nNew pin for layer-basic correspond to commit ""Support installing charms\nwith built wheels (#205)"" (edec607).\n\nNew pin for ""charm-tools<3.1""\n\nChange-Id: I17af83457a6bfbf5f1bec239687bbe7ba10be693\n'}, {'number': 2, 'created': '2022-10-17 17:07:33.000000000', 'files': ['requirements.txt', 'src/wheelhouse.txt', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/a28a3fbea1f27de29ad81b8c954ad2f3f90f94e9', 'message': 'Update pinned dependencies to support binary charms.\n\nTo support --binary-wheels-from-source a newer version of charm-tools\nand layer-basic is needed.\n\nNew pin for layer-basic correspond to commit ""Support installing charms\nwith built wheels (#205)"" (edec607).\n\nNew pin for ""charm-tools<3.1""\n\nNew pins in wheelhouse for cryptograph and pyOpenSSL to be focal and\njammy specific; removed them from build.lock file.\n\nChange-Id: I17af83457a6bfbf5f1bec239687bbe7ba10be693\n'}]",2,861460,a28a3fbea1f27de29ad81b8c954ad2f3f90f94e9,12,5,2,2424,,,0,"Update pinned dependencies to support binary charms.

To support --binary-wheels-from-source a newer version of charm-tools
and layer-basic is needed.

New pin for layer-basic correspond to commit ""Support installing charms
with built wheels (#205)"" (edec607).

New pin for ""charm-tools<3.1""

New pins in wheelhouse for cryptograph and pyOpenSSL to be focal and
jammy specific; removed them from build.lock file.

Change-Id: I17af83457a6bfbf5f1bec239687bbe7ba10be693
",git fetch https://review.opendev.org/openstack/charm-octavia-diskimage-retrofit refs/changes/60/861460/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'src/build.lock']",2,e5cc69a8e25586e7f10f9602d79c8c1048672607,bug/1981334," ""commit"": ""edec607e05812df8d226b4aed71d09373767c0d7""} "," ""commit"": ""fb767dcf0786d1d5364199bb3b40bdc86518b45b""}",3,3
openstack%2Fcharm-octavia-diskimage-retrofit~stable%2Fyoga~I83d2a41167cfb96ee38fbb95987f4e6c36ce2753,openstack/charm-octavia-diskimage-retrofit,stable/yoga,I83d2a41167cfb96ee38fbb95987f4e6c36ce2753,charmcraft.yaml: Add missing build-packages,MERGED,2022-10-11 20:45:26.000000000,2022-10-18 13:59:43.000000000,2022-10-18 13:59:43.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-10-11 20:45:26.000000000', 'files': ['charmcraft.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/358cc98d2d90febd7bd68451d96b5c2df60d431e', 'message': 'charmcraft.yaml: Add missing build-packages\n\nNot all supported architectures have binary wheels available on\nPyPi.  For those architectures the wheels will be built from\nsource, and as such we need to add build system library\ndependencies to allow the build to succeed.\n\nAlso set the MAKEFLAGS environment variable to allow the source\nbuilds to use available processors for parallel compilation.\n\nAdd -p parameter to mkdir in the override-prime entry point\nrecipe in case the directory already exists.\n\nChange-Id: I83d2a41167cfb96ee38fbb95987f4e6c36ce2753\n(cherry picked from commit 65a2b4ec3ac46def532de6e9c0e070ee5e641ca3)\n'}]",2,860981,358cc98d2d90febd7bd68451d96b5c2df60d431e,9,5,1,2424,,,0,"charmcraft.yaml: Add missing build-packages

Not all supported architectures have binary wheels available on
PyPi.  For those architectures the wheels will be built from
source, and as such we need to add build system library
dependencies to allow the build to succeed.

Also set the MAKEFLAGS environment variable to allow the source
builds to use available processors for parallel compilation.

Add -p parameter to mkdir in the override-prime entry point
recipe in case the directory already exists.

Change-Id: I83d2a41167cfb96ee38fbb95987f4e6c36ce2753
(cherry picked from commit 65a2b4ec3ac46def532de6e9c0e070ee5e641ca3)
",git fetch https://review.opendev.org/openstack/charm-octavia-diskimage-retrofit refs/changes/81/860981/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmcraft.yaml', 'tox.ini']",2,358cc98d2d90febd7bd68451d96b5c2df60d431e,bug/1981334, charm-build --log-level DEBUG --use-lock-file-branches --binary-wheels-from-source -o {toxinidir}/build/builds src {posargs}, charm-build --log-level DEBUG --use-lock-file-branches --binary-wheels -o {toxinidir}/build/builds src {posargs},9,2
openstack%2Fcharm-octavia-diskimage-retrofit~stable%2Fyoga~I85d1d59a9e1385b1701226653c76a1f1597040ff,openstack/charm-octavia-diskimage-retrofit,stable/yoga,I85d1d59a9e1385b1701226653c76a1f1597040ff,charmcraft: Fix build bases,MERGED,2022-10-11 20:45:26.000000000,2022-10-18 13:59:42.000000000,2022-10-18 13:59:42.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-10-11 20:45:26.000000000', 'files': ['charmcraft.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/f45ab446dd46eb1ddb0f8d7d87d6bfae83283eae', 'message': 'charmcraft: Fix build bases\n\nThe current set of bases does not do what we think it does.\n\nExpand the bases so that we actually get builds accross all\narchitectures.\n\nRelated-Bug: #1967319\nChange-Id: I85d1d59a9e1385b1701226653c76a1f1597040ff\n(cherry picked from commit 2986ceb67b00b981d6b30e947b8089c268cb0f70)\n'}]",2,860980,f45ab446dd46eb1ddb0f8d7d87d6bfae83283eae,9,5,1,2424,,,0,"charmcraft: Fix build bases

The current set of bases does not do what we think it does.

Expand the bases so that we actually get builds accross all
architectures.

Related-Bug: #1967319
Change-Id: I85d1d59a9e1385b1701226653c76a1f1597040ff
(cherry picked from commit 2986ceb67b00b981d6b30e947b8089c268cb0f70)
",git fetch https://review.opendev.org/openstack/charm-octavia-diskimage-retrofit refs/changes/80/860980/1 && git format-patch -1 --stdout FETCH_HEAD,['charmcraft.yaml'],1,f45ab446dd46eb1ddb0f8d7d87d6bfae83283eae,bug/1981334," - name: ubuntu channel: ""20.04"" architectures: [amd64] - name: ubuntu channel: ""20.04"" architectures: [arm64] - name: ubuntu channel: ""20.04"" architectures: [ppc64el] - name: ubuntu channel: ""20.04"" architectures: [s390x] - name: ubuntu channel: ""22.04"" architectures: [amd64] - name: ubuntu channel: ""22.04"" architectures: [arm64] - name: ubuntu channel: ""22.04"" architectures: [ppc64el] - name: ubuntu channel: ""22.04"" architectures: [s390x]"," - build-on: - name: ubuntu channel: ""20.04"" architectures: [amd64, s390x, ppc64el, arm64] run-on: - name: ubuntu channel: ""20.04"" - build-on: - name: ubuntu channel: ""22.04"" architectures: [amd64, s390x, ppc64el, arm64] run-on: - name: ubuntu channel: ""22.04""",24,14
openstack%2Fkolla~master~I7484358c76b37bdc0398461a205a1dd1ce97cf63,openstack/kolla,master,I7484358c76b37bdc0398461a205a1dd1ce97cf63,release-docs: Add infra components bump to R-5,MERGED,2022-10-18 12:08:31.000000000,2022-10-18 13:59:25.000000000,2022-10-18 13:57:31.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-10-18 12:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2960e098131a180e467ea83969f689235d5bbab5', 'message': 'release-docs: Add infra components bump to R-5\n\nChange-Id: I7484358c76b37bdc0398461a205a1dd1ce97cf63\n'}, {'number': 2, 'created': '2022-10-18 12:14:52.000000000', 'files': ['doc/source/contributor/release-management.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e21bcd993a1ca8e5b1c511f00c6b62b6238512e7', 'message': 'release-docs: Add infra components bump to R-5\n\nChange-Id: I7484358c76b37bdc0398461a205a1dd1ce97cf63\n'}]",2,861745,e21bcd993a1ca8e5b1c511f00c6b62b6238512e7,11,3,2,22629,,,0,"release-docs: Add infra components bump to R-5

Change-Id: I7484358c76b37bdc0398461a205a1dd1ce97cf63
",git fetch https://review.opendev.org/openstack/kolla refs/changes/45/861745/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/release-management.rst'],1,2960e098131a180e467ea83969f689235d5bbab5,,* [all] Check for new versions of infrastructure components * ansible (incl. kolla-toolbox) * ceph client libraries * fluentd (td-agent) * grafana * mariadb * opensearch * openvswitch/OVN * prometheus (incl. exporters) * rabbitmq * skydive ,,13,0
openstack%2Fcharm-octavia-diskimage-retrofit~stable%2Fyoga~I8c924038ee1c5ff258c41a44ad14ebc86a107b1b,openstack/charm-octavia-diskimage-retrofit,stable/yoga,I8c924038ee1c5ff258c41a44ad14ebc86a107b1b,Build separately for each supported series and use binary builds,MERGED,2022-10-11 20:45:26.000000000,2022-10-18 13:59:11.000000000,2022-10-18 13:59:11.000000000,"[{'_account_id': 11805}, {'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-10-11 20:45:26.000000000', 'files': ['osci.yaml', '.gitignore', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-xena.yaml', 'src/layer.yaml', 'src/tests/bundles/focal-yoga.yaml', 'requirements.txt', 'src/tests/bundles/jammy-yoga.yaml', 'rename.sh', 'src/wheelhouse.txt', 'charmcraft.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/5fd698d29757df7603691078fff80cb38edb9cb6', 'message': ""Build separately for each supported series and use binary builds\n\nCharms for OpenStack Yoga supports both Ubuntu Focal and Jammy\nwhich means Python 3.8 and Python 3.10.  Managing dependencies\nacross those two versions is non-trivial and we need to build\nthe charm on the series the charm is supposed to support.\n\nSwitch to using a binary build which allows pip's dependency\nresolution to work.\n\nUpdate charm to consume the 1.0/stable track for the snap.\n\nBundles:\n- Drop the renaming of the charm artifact and reference the\n  series specific charm artifact in the bundles instead.\n- Fix gss mirror list, jammy retrofit-series and use 8.0/stable\n  for MySQL.\n\nCloses-Bug: #1981334\nCloses-Bug: #1970653\nCloses-Bug: #1975491\nChange-Id: I8c924038ee1c5ff258c41a44ad14ebc86a107b1b\n(cherry picked from commit 2fb0cf125028b3e164741afcdbff466038de134a)\n""}]",8,860979,5fd698d29757df7603691078fff80cb38edb9cb6,15,7,1,2424,,,0,"Build separately for each supported series and use binary builds

Charms for OpenStack Yoga supports both Ubuntu Focal and Jammy
which means Python 3.8 and Python 3.10.  Managing dependencies
across those two versions is non-trivial and we need to build
the charm on the series the charm is supposed to support.

Switch to using a binary build which allows pip's dependency
resolution to work.

Update charm to consume the 1.0/stable track for the snap.

Bundles:
- Drop the renaming of the charm artifact and reference the
  series specific charm artifact in the bundles instead.
- Fix gss mirror list, jammy retrofit-series and use 8.0/stable
  for MySQL.

Closes-Bug: #1981334
Closes-Bug: #1970653
Closes-Bug: #1975491
Change-Id: I8c924038ee1c5ff258c41a44ad14ebc86a107b1b
(cherry picked from commit 2fb0cf125028b3e164741afcdbff466038de134a)
",git fetch https://review.opendev.org/openstack/charm-octavia-diskimage-retrofit refs/changes/79/860979/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', '.gitignore', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-xena.yaml', 'src/layer.yaml', 'src/tests/bundles/focal-yoga.yaml', 'requirements.txt', 'src/tests/bundles/jammy-yoga.yaml', 'rename.sh', 'src/wheelhouse.txt', 'charmcraft.yaml', 'tox.ini']",12,5fd698d29757df7603691078fff80cb38edb9cb6,bug/1981334, charmcraft -v pack charm-build --log-level DEBUG --use-lock-file-branches --binary-wheels -o {toxinidir}/build/builds src {posargs},"# NOTES: # * We avoid the new dependency resolver by pinning pip < 20.3, see # https://github.com/pypa/pip/issues/9187 # * Pinning dependencies requires tox >= 3.2.0, see # https://tox.readthedocs.io/en/latest/config.html#conf-requires # * It is also necessary to pin virtualenv as a newer virtualenv would still # lead to fetching the latest pip in the func* tox targets, see # https://stackoverflow.com/a/38133283 requires = pip < 20.3 virtualenv < 20.0 setuptools<50.0.0 rename.sh charmcraft -v build {toxinidir}/rename.sh charm-build --log-level DEBUG --use-lock-file-branches -o {toxinidir}/build/builds src {posargs}",33,220
openstack%2Fnova~master~I6a94e14dd7efafad65a0074b57b9eff1b6822e02,openstack/nova,master,I6a94e14dd7efafad65a0074b57b9eff1b6822e02,Correct doc references,MERGED,2022-10-18 11:40:01.000000000,2022-10-18 13:58:45.000000000,2022-10-18 13:26:01.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-18 11:40:01.000000000', 'files': ['api-guide/source/server_concepts.rst', 'doc/source/install/overview.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/b1958b7cfa6b8aca5b76b3f133627bb733d29f00', 'message': 'Correct doc references\n\nThis changes corrects wrong doc references in nova docs.\n\nChange-Id: I6a94e14dd7efafad65a0074b57b9eff1b6822e02\n'}]",1,861741,b1958b7cfa6b8aca5b76b3f133627bb733d29f00,10,2,1,20733,,,0,"Correct doc references

This changes corrects wrong doc references in nova docs.

Change-Id: I6a94e14dd7efafad65a0074b57b9eff1b6822e02
",git fetch https://review.opendev.org/openstack/nova refs/changes/41/861741/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-guide/source/server_concepts.rst', 'doc/source/install/overview.rst']",2,b1958b7cfa6b8aca5b76b3f133627bb733d29f00,doc-fix,"<https://docs.openstack.org/operations-guide/>`_, and `OpenStack Networking Guide","<https://wiki.openstack.org/wiki/OpsGuide>`_, and `OpenStack Networking Guide",2,2
openstack%2Fkolla~master~Iec7e8461f9eb757e1576cf3898068306c5436239,openstack/kolla,master,Iec7e8461f9eb757e1576cf3898068306c5436239,rabbitmq: use Erlang from PPA on Debian/Ubuntu,MERGED,2022-10-12 16:00:37.000000000,2022-10-18 13:58:34.000000000,2022-10-18 13:57:28.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-10-12 16:00:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8eb0dccca9b9c4a341741e8c431c003cc66395d4', 'message': 'ubuntu: use PPA to get Erlang 25 for AArch64\n\nhttps: //launchpad.net/~rabbitmq provides newer Erlang for Ubuntu.\nChange-Id: Iec7e8461f9eb757e1576cf3898068306c5436239\n'}, {'number': 2, 'created': '2022-10-12 16:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/554f7083d69a25261784e16e176ae820da72d9da', 'message': 'ubuntu: use PPA to get Erlang 25 for AArch64\n\nPPA from Team RabbitMQ [1] provides newer Erlang for Ubuntu.\n\n1. https: //launchpad.net/~rabbitmq\n\nChange-Id: Iec7e8461f9eb757e1576cf3898068306c5436239\n'}, {'number': 3, 'created': '2022-10-14 09:32:29.000000000', 'files': ['docker/base/apt_preferences.ubuntu', 'docker/base/apt_preferences.debian', 'docker/base/Dockerfile.j2', 'kolla/template/repos.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b40506f6dd382e1b2443dc59b918b01e2db45850', 'message': 'rabbitmq: use Erlang from PPA on Debian/Ubuntu\n\nPPA from Team RabbitMQ [1] provides newer Erlang for Debian/Ubuntu.\n\nThis way we have latest Erlang on both distributions and both\narchitectures.\n\n1. https://launchpad.net/~rabbitmq/+archive/ubuntu/rabbitmq-erlang\n\nChange-Id: Iec7e8461f9eb757e1576cf3898068306c5436239\n'}]",6,861096,b40506f6dd382e1b2443dc59b918b01e2db45850,19,4,3,24072,,,0,"rabbitmq: use Erlang from PPA on Debian/Ubuntu

PPA from Team RabbitMQ [1] provides newer Erlang for Debian/Ubuntu.

This way we have latest Erlang on both distributions and both
architectures.

1. https://launchpad.net/~rabbitmq/+archive/ubuntu/rabbitmq-erlang

Change-Id: Iec7e8461f9eb757e1576cf3898068306c5436239
",git fetch https://review.opendev.org/openstack/kolla refs/changes/96/861096/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/apt_preferences.ubuntu', 'docker/base/Dockerfile.j2', 'kolla/template/repos.yaml']",3,8eb0dccca9b9c4a341741e8c431c003cc66395d4,," url: ""https://ppa.launchpadcontent.net/rabbitmq/rabbitmq-erlang/ubuntu"" gpg_key: ""erlang-ppa.gpg"""," url: ""https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-erlang/deb/ubuntu"" gpg_key: ""erlang.gpg""",3,8
openstack%2Fcharm-ceph-radosgw~stable%2Fpacific~I4848168b5a45c3430dec58f786d4453e40539361,openstack/charm-ceph-radosgw,stable/pacific,I4848168b5a45c3430dec58f786d4453e40539361,Charmhelpers Sync: https health checks for HAProxy,ABANDONED,2022-04-07 20:52:30.000000000,2022-10-18 13:44:04.000000000,,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-07 20:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/126f61e3e14b0bace117d9ea14329cb6c9cfd7e6', 'message': 'Charmhelpers Sync: https health checks for HAProxy\n\nChange-Id: I4848168b5a45c3430dec58f786d4453e40539361\n(cherry picked from commit 158c42b4a9d671ff4bfcf9bdec78a1e1934c392b)\n'}, {'number': 2, 'created': '2022-05-30 19:29:50.000000000', 'files': ['hooks/charmhelpers/fetch/centos.py', 'hooks/charmhelpers/contrib/hahelpers/cluster.py', 'hooks/charmhelpers/cli/__init__.py', 'hooks/charmhelpers/contrib/openstack/keystone.py', 'hooks/charmhelpers/contrib/openstack/templates/haproxy.cfg', 'hooks/charmhelpers/fetch/python/packages.py', 'hooks/charmhelpers/contrib/python.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/templating.py', 'hooks/charmhelpers/contrib/hardening/audits/apt.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/hardening/harden.py', 'hooks/charmhelpers/contrib/hardening/host/checks/sysctl.py', 'hooks/charmhelpers/contrib/hardening/audits/file.py', 'hooks/charmhelpers/contrib/hardening/mysql/checks/config.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/network/ip.py', 'hooks/charmhelpers/contrib/hardening/utils.py', 'hooks/charmhelpers/contrib/openstack/files/check_deferred_restarts.py', 'hooks/charmhelpers/core/templating.py', 'hooks/charmhelpers/contrib/hardening/host/checks/login.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'hooks/charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf', 'hooks/charmhelpers/contrib/openstack/policyd.py', 'hooks/charmhelpers/contrib/hardening/templating.py', 'hooks/charmhelpers/__init__.py', 'hooks/charmhelpers/contrib/charmsupport/nrpe.py', 'hooks/charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'hooks/charmhelpers/core/services/base.py', 'hooks/charmhelpers/contrib/storage/linux/loopback.py', 'hooks/charmhelpers/core/services/helpers.py', 'hooks/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/fetch/python/debug.py', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'hooks/charmhelpers/fetch/archiveurl.py', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'hooks/charmhelpers/contrib/hardening/audits/apache.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu_apt_pkg.py', 'hooks/charmhelpers/core/strutils.py', 'hooks/charmhelpers/contrib/hardening/apache/checks/config.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/62b269881e278aeb2b70cba9463fb410cf2cc58a', 'message': 'Charmhelpers Sync: https health checks for HAProxy\n\nChange-Id: I4848168b5a45c3430dec58f786d4453e40539361\n(cherry picked from commit 158c42b4a9d671ff4bfcf9bdec78a1e1934c392b)\n'}]",8,837050,62b269881e278aeb2b70cba9463fb410cf2cc58a,18,3,2,34275,,,0,"Charmhelpers Sync: https health checks for HAProxy

Change-Id: I4848168b5a45c3430dec58f786d4453e40539361
(cherry picked from commit 158c42b4a9d671ff4bfcf9bdec78a1e1934c392b)
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/50/837050/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/fetch/centos.py', 'hooks/charmhelpers/contrib/hahelpers/cluster.py', 'hooks/charmhelpers/cli/__init__.py', 'hooks/charmhelpers/contrib/openstack/keystone.py', 'hooks/charmhelpers/contrib/openstack/templates/haproxy.cfg', 'hooks/charmhelpers/fetch/python/packages.py', 'hooks/charmhelpers/contrib/python.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/templating.py', 'hooks/charmhelpers/contrib/hardening/audits/apt.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/hardening/harden.py', 'hooks/charmhelpers/contrib/hardening/host/checks/sysctl.py', 'hooks/charmhelpers/contrib/hardening/audits/file.py', 'hooks/charmhelpers/contrib/hardening/mysql/checks/config.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/network/ip.py', 'hooks/charmhelpers/contrib/hardening/utils.py', 'hooks/charmhelpers/contrib/openstack/files/check_deferred_restarts.py', 'hooks/charmhelpers/core/templating.py', 'hooks/charmhelpers/contrib/hardening/host/checks/login.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'hooks/charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf', 'hooks/charmhelpers/contrib/openstack/policyd.py', 'hooks/charmhelpers/contrib/hardening/templating.py', 'hooks/charmhelpers/__init__.py', 'hooks/charmhelpers/contrib/charmsupport/nrpe.py', 'hooks/charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'hooks/charmhelpers/core/services/base.py', 'hooks/charmhelpers/contrib/storage/linux/loopback.py', 'hooks/charmhelpers/core/services/helpers.py', 'hooks/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/fetch/python/debug.py', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'hooks/charmhelpers/fetch/archiveurl.py', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'hooks/charmhelpers/contrib/hardening/audits/apache.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu_apt_pkg.py', 'hooks/charmhelpers/core/strutils.py', 'hooks/charmhelpers/contrib/hardening/apache/checks/config.py']",43,126f61e3e14b0bace117d9ea14329cb6c9cfd7e6,charmhelpers-sync-stable/pacific," out = subprocess.check_output(['apache2', '-v']).decode('utf-8')","import six out = subprocess.check_output(['apache2', '-v']) if six.PY3: out = out.decode('utf-8')",463,428
openstack%2Fopenstack-ansible-plugins~master~Id85f98630a2a462bc081190b73aa62ddb1613c72,openstack/openstack-ansible-plugins,master,Id85f98630a2a462bc081190b73aa62ddb1613c72,Use ansible_facts[] instead of injected fact vars,MERGED,2022-10-05 14:18:08.000000000,2022-10-18 13:34:58.000000000,2022-10-18 13:33:51.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-10-05 14:18:08.000000000', 'files': ['roles/glusterfs/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/8b64adfcde25bb1e4f5a32077f42453fad259ddf', 'message': 'Use ansible_facts[] instead of injected fact vars\n\nChange-Id: Id85f98630a2a462bc081190b73aa62ddb1613c72\n'}]",0,860424,8b64adfcde25bb1e4f5a32077f42453fad259ddf,9,3,1,25023,,,0,"Use ansible_facts[] instead of injected fact vars

Change-Id: Id85f98630a2a462bc081190b73aa62ddb1613c72
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/24/860424/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/glusterfs/tasks/main.yml'],1,8b64adfcde25bb1e4f5a32077f42453fad259ddf,osa-facts, when: ansible_facts['pkg_mgr'] == 'dnf', when: ansible_pkg_mgr == 'dnf',1,1
openstack%2Fopenstack-ansible-galera_server~stable%2Fyoga~I4181691ba3b23c5195b3cee3699637ece94187db,openstack/openstack-ansible-galera_server,stable/yoga,I4181691ba3b23c5195b3cee3699637ece94187db,Bump mariadb version to 10.6.10,MERGED,2022-10-07 11:54:40.000000000,2022-10-18 13:32:37.000000000,2022-10-18 13:31:30.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 30396}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-10-07 11:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/fa0b6d7fabc4e6f208947d781286a829305ab865', 'message': 'Bump mariadb version to 10.6.10\n\nWith that we also able to use MariaDB provided repo for\nUbuntu 22.04 and CentOS Stream/Rocky 9\n\nChange-Id: I4181691ba3b23c5195b3cee3699637ece94187db\n(cherry picked from commit e04aeacc58c196c4fb3d49116cb93fa74f7fba31)\n'}, {'number': 2, 'created': '2022-10-07 12:01:28.000000000', 'files': ['vars/redhat-9.yml', 'releasenotes/notes/galera_10.6.10-b660306857dfc961.yaml', 'vars/ubuntu-22.04.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/44ff77548277333f5f23e4781e3f1fda613a3056', 'message': 'Bump mariadb version to 10.6.10\n\nWith that we also able to use MariaDB provided repo for\nUbuntu 22.04 and CentOS Stream/Rocky 9\n\nChange-Id: I4181691ba3b23c5195b3cee3699637ece94187db\n(cherry picked from commit e04aeacc58c196c4fb3d49116cb93fa74f7fba31)\n'}]",3,860655,44ff77548277333f5f23e4781e3f1fda613a3056,20,4,2,28619,,,0,"Bump mariadb version to 10.6.10

With that we also able to use MariaDB provided repo for
Ubuntu 22.04 and CentOS Stream/Rocky 9

Change-Id: I4181691ba3b23c5195b3cee3699637ece94187db
(cherry picked from commit e04aeacc58c196c4fb3d49116cb93fa74f7fba31)
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/55/860655/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat-9.yml', 'vars/ubuntu-22.04.yml', 'defaults/main.yml']",3,fa0b6d7fabc4e6f208947d781286a829305ab865,,galera_minor_version: 10,galera_minor_version: 8,1,160
openstack%2Fkolla~master~I947a0b9155fea18a7781f694dbeafc49033fef8e,openstack/kolla,master,I947a0b9155fea18a7781f694dbeafc49033fef8e,Bump node_exporter to 1.4.0,MERGED,2022-10-14 10:23:08.000000000,2022-10-18 13:26:27.000000000,2022-10-18 13:25:19.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 27339}]","[{'number': 1, 'created': '2022-10-14 10:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/38e17f5ce5c83591753d6276d4cb7d57576ac152', 'message': 'Bump node_exporter to 1.4.0\n\nChange-Id: I947a0b9155fea18a7781f694dbeafc49033fef8e\n'}, {'number': 2, 'created': '2022-10-14 10:35:24.000000000', 'files': ['releasenotes/notes/bump-node-exporter-1.4.0-0051ed8b8d075c0c.yaml', 'docker/prometheus/prometheus-node-exporter/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/7063c02b6036e0b6e1d678d9c7af168983e9cdfc', 'message': 'Bump node_exporter to 1.4.0\n\nChange-Id: I947a0b9155fea18a7781f694dbeafc49033fef8e\n'}]",4,861355,7063c02b6036e0b6e1d678d9c7af168983e9cdfc,17,5,2,15197,,,0,"Bump node_exporter to 1.4.0

Change-Id: I947a0b9155fea18a7781f694dbeafc49033fef8e
",git fetch https://review.opendev.org/openstack/kolla refs/changes/55/861355/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bump-node-exporter-1.4.0-0051ed8b8d075c0c.yaml', 'docker/prometheus/prometheus-node-exporter/Dockerfile.j2']",2,38e17f5ce5c83591753d6276d4cb7d57576ac152,bump-node-exporter,ARG node_exporter_version=1.4.0,ARG node_exporter_version=1.3.1,5,1
openstack%2Fkolla-ansible~master~Idb2bd93f19b269087462856a968e5a7a0cc0a78c,openstack/kolla-ansible,master,Idb2bd93f19b269087462856a968e5a7a0cc0a78c,Allow exposing Prometheus exporters,NEW,2022-02-24 17:25:53.000000000,2022-10-18 13:12:01.000000000,,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 34579}]","[{'number': 1, 'created': '2022-02-24 17:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8972b573036323917756cdd41ea253f4ffcfb63a', 'message': 'exposes Prometheuss exporters on kolla external interface\n\nSigned-off-by: Franco Mariotti <fmariotti@whitestack.com>\nChange-Id: Idb2bd93f19b269087462856a968e5a7a0cc0a78c\n'}, {'number': 2, 'created': '2022-02-24 17:45:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/846f0bdb5de8731fbbf911cc0f8de3439df02866', 'message': 'exposes Prometheuss exporters on kolla external interface\n\ncloses bug #1962040\n\nSigned-off-by: Franco Mariotti <fmariotti@whitestack.com>\nChange-Id: Idb2bd93f19b269087462856a968e5a7a0cc0a78c\n'}, {'number': 3, 'created': '2022-02-25 18:10:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/37132145545d52ecdb7646df801545d4f3869066', 'message': 'exposes Prometheuss exporters on kolla external interface\n\ncloses feature #1962040\n\nSigned-off-by: Franco Mariotti <fmariotti@whitestack.com>\nChange-Id: Idb2bd93f19b269087462856a968e5a7a0cc0a78c\n'}, {'number': 4, 'created': '2022-02-25 18:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a434ea0683ee731d75928d228160fd80235e8e31', 'message': 'Allow exposing Prometheus exporters\n\ncloses feature #1962040\n\nSigned-off-by: Franco Mariotti <fmariotti@whitestack.com>\nChange-Id: Idb2bd93f19b269087462856a968e5a7a0cc0a78c\n'}, {'number': 5, 'created': '2022-02-25 19:16:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1211033a71af187d5686ebf4e06e1063d797cb85', 'message': 'Allow exposing Prometheus exporters\n\ncloses feature #1962040\n\nSigned-off-by: Franco Mariotti <fmariotti@whitestack.com>\nChange-Id: Idb2bd93f19b269087462856a968e5a7a0cc0a78c\n'}, {'number': 6, 'created': '2022-03-03 14:22:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a77526d36c9df52028d1050288ef99c81628d751', 'message': 'Allow exposing Prometheus exporters\n\nCloses-Feature: #1962040\n\nSigned-off-by: Franco Mariotti <fmariotti@whitestack.com>\nChange-Id: Idb2bd93f19b269087462856a968e5a7a0cc0a78c\n'}, {'number': 7, 'created': '2022-03-03 14:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cf7c232ba1b30d05738de3e6a0441933ed4dcb84', 'message': 'Allow exposing Prometheus exporters\n\ncloses-feature: #1962040\n\nSigned-off-by: Franco Mariotti <fmariotti@whitestack.com>\nChange-Id: Idb2bd93f19b269087462856a968e5a7a0cc0a78c\n'}, {'number': 8, 'created': '2022-03-03 14:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2f6ec87a18353a19f8a9a7e1a6fbe48990b2e3e3', 'message': 'Allow exposing Prometheus exporters\n\nCloses-Feature: #1962040\n\nSigned-off-by: Franco Mariotti <fmariotti@whitestack.com>\nChange-Id: Idb2bd93f19b269087462856a968e5a7a0cc0a78c\n'}, {'number': 9, 'created': '2022-03-03 14:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/29571ce0c6f7a0c1dd0c2337ca9e6646e0ad95e7', 'message': 'Allow exposing Prometheus exporters\n\nCloses-Bug: #1962040\n\nSigned-off-by: Franco Mariotti <fmariotti@whitestack.com>\nChange-Id: Idb2bd93f19b269087462856a968e5a7a0cc0a78c\n'}, {'number': 10, 'created': '2022-05-26 14:23:32.000000000', 'files': ['ansible/roles/prometheus/templates/prometheus-openstack-exporter.json.j2', 'ansible/roles/prometheus/templates/prometheus-memcached-exporter.json.j2', 'ansible/roles/prometheus/templates/prometheus-node-exporter.json.j2', 'ansible/group_vars/all.yml', 'ansible/roles/prometheus/templates/prometheus-blackbox-exporter.json.j2', 'ansible/roles/prometheus/templates/prometheus-haproxy-exporter.json.j2', 'ansible/roles/prometheus/templates/prometheus-elasticsearch-exporter.json.j2', 'ansible/roles/prometheus/tasks/precheck.yml', 'ansible/roles/prometheus/templates/prometheus.yml.j2', 'ansible/roles/prometheus/templates/prometheus-mysqld-exporter.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2aed4fd11b8ebbe79b08a6342ded6fe583ee1624', 'message': 'Allow exposing Prometheus exporters\n\nCloses-Bug: #1962040\n\nSigned-off-by: Franco Mariotti <fmariotti@whitestack.com>\nChange-Id: Idb2bd93f19b269087462856a968e5a7a0cc0a78c\n'}]",32,830877,2aed4fd11b8ebbe79b08a6342ded6fe583ee1624,29,3,10,34585,,,0,"Allow exposing Prometheus exporters

Closes-Bug: #1962040

Signed-off-by: Franco Mariotti <fmariotti@whitestack.com>
Change-Id: Idb2bd93f19b269087462856a968e5a7a0cc0a78c
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/77/830877/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/prometheus/templates/prometheus-openstack-exporter.json.j2', 'ansible/roles/prometheus/templates/prometheus-memcached-exporter.json.j2', 'ansible/roles/prometheus/templates/prometheus-node-exporter.json.j2', 'ansible/group_vars/all.yml', 'ansible/roles/prometheus/templates/prometheus-blackbox-exporter.json.j2', 'ansible/roles/prometheus/templates/prometheus-haproxy-exporter.json.j2', 'ansible/roles/prometheus/templates/prometheus-elasticsearch-exporter.json.j2', 'ansible/roles/prometheus/tasks/precheck.yml', 'ansible/roles/prometheus/templates/prometheus.yml.j2', 'ansible/roles/prometheus/templates/prometheus-mysqld-exporter.json.j2']",10,8972b573036323917756cdd41ea253f4ffcfb63a,bug/1962040," ""command"": ""/opt/mysqld_exporter/mysqld_exporter --config.my-cnf /etc/prometheus/my.cnf --web.listen-address {{ prometheus_exporter_interface_address | put_address_in_context('url') }}:{{ prometheus_mysqld_exporter_port }}{% if prometheus_mysqld_exporter_cmdline_extras %} {{ prometheus_mysqld_exporter_cmdline_extras }}{% endif %}"","," ""command"": ""/opt/mysqld_exporter/mysqld_exporter --config.my-cnf /etc/prometheus/my.cnf --web.listen-address {{ api_interface_address | put_address_in_context('url') }}:{{ prometheus_mysqld_exporter_port }}{% if prometheus_mysqld_exporter_cmdline_extras %} {{ prometheus_mysqld_exporter_cmdline_extras }}{% endif %}"",",30,23
openstack%2Fansible-collections-openstack~master~I9cdfb44dd424f63c05943616cf5918ceb3a57b1f,openstack/ansible-collections-openstack,master,I9cdfb44dd424f63c05943616cf5918ceb3a57b1f,Refactored stack_info module and allow to filter by owner and project names,MERGED,2022-09-28 10:21:45.000000000,2022-10-18 12:56:34.000000000,2022-10-18 12:56:34.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32962}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-09-28 10:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/636e51730a105ad20955dee2908a6bbbeffc827b', 'message': ""Refactored stack_info module and allow to filter by owner and project names\n\nAllow to filter stacks by owner names and project names instead of\nids only, in order to be consistent with other *_info modules.\n\nRenamed stack_info's module attributes 'owner_id' to 'owner' and\n'project_id' to 'project' to account for the new filter by name\nfunctionality. Added the *_id attributes as aliases to keep\nbackward compatibility.\n\nUpdated and extended DOCUMENTATION, EXAMPLES and RETURN docstrings.\n\nThe stack_info module will convert its return values into dictionaries\nwithout computed (redundant) values. Thus dropping values such as\nlocation is not required anymore.\n\nChange-Id: I9cdfb44dd424f63c05943616cf5918ceb3a57b1f\n""}, {'number': 2, 'created': '2022-09-28 12:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5c056a4dcad50a9aac0f8d0059b83eac6b3d5021', 'message': ""Refactored stack_info module and allow to filter by owner and project names\n\nAllow to filter stacks by owner names and project names instead of\nids only, in order to be consistent with other *_info modules.\n\nRenamed stack_info's module attributes 'owner_id' to 'owner' and\n'project_id' to 'project' to account for the new filter by name\nfunctionality. Added the *_id attributes as aliases to keep\nbackward compatibility.\n\nUpdated and extended DOCUMENTATION, EXAMPLES and RETURN docstrings.\n\nThe stack_info module will convert its return values into dictionaries\nwithout computed (redundant) values. Thus dropping values such as\nlocation is not required anymore.\n\nChange-Id: I9cdfb44dd424f63c05943616cf5918ceb3a57b1f\n""}, {'number': 3, 'created': '2022-09-28 18:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/9a7962a4175970192a45c4920d672cbdd5b749e2', 'message': ""Refactored stack_info module and allow to filter by owner and project names\n\nAllow to filter stacks by owner names and project names instead of\nids only, in order to be consistent with other *_info modules.\n\nRenamed stack_info's module attributes 'owner_id' to 'owner' and\n'project_id' to 'project' to account for the new filter by name\nfunctionality. Added the *_id attributes as aliases to keep\nbackward compatibility.\n\nUpdated and extended DOCUMENTATION, EXAMPLES and RETURN docstrings.\n\nThe stack_info module will convert its return values into dictionaries\nwithout computed (redundant) values. Thus dropping values such as\nlocation is not required anymore.\n\nChange-Id: I9cdfb44dd424f63c05943616cf5918ceb3a57b1f\n""}, {'number': 4, 'created': '2022-09-29 08:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/fb9778ac698b8c3be7c5bd5a05b9266a080694bb', 'message': ""Refactored stack_info module and allow to filter by owner and project names\n\nAllow to filter stacks by owner names and project names instead of\nids only, in order to be consistent with other *_info modules.\n\nRenamed stack_info's module attributes 'owner_id' to 'owner' and\n'project_id' to 'project' to account for the new filter by name\nfunctionality. Added the *_id attributes as aliases to keep\nbackward compatibility.\n\nUpdated and extended DOCUMENTATION, EXAMPLES and RETURN docstrings.\n\nThe stack_info module will convert its return values into dictionaries\nwithout computed (redundant) values. Thus dropping values such as\nlocation is not required anymore.\n\nChange-Id: I9cdfb44dd424f63c05943616cf5918ceb3a57b1f\n""}, {'number': 5, 'created': '2022-09-29 10:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/42251a9d70bc309e6f7caa8e36c82291adacbb44', 'message': ""Refactored stack_info module and allow to filter by owner and project names\n\nAllow to filter stacks by owner names and project names instead of\nids only, in order to be consistent with other *_info modules.\n\nRenamed stack_info's module attributes 'owner_id' to 'owner' and\n'project_id' to 'project' to account for the new filter by name\nfunctionality. Added the *_id attributes as aliases to keep\nbackward compatibility.\n\nUpdated and extended DOCUMENTATION, EXAMPLES and RETURN docstrings.\n\nThe stack_info module will convert its return values into dictionaries\nwithout computed (redundant) values. Thus dropping values such as\nlocation is not required anymore.\n\nChange-Id: I9cdfb44dd424f63c05943616cf5918ceb3a57b1f\n""}, {'number': 6, 'created': '2022-10-06 07:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/8fd144cbf6a16ddb9e724a7d910485452ea5e69d', 'message': ""Refactored stack_info module and allow to filter by owner and project names\n\nAllow to filter stacks by owner names and project names instead of\nids only, in order to be consistent with other *_info modules.\n\nRenamed stack_info's module attributes 'owner_id' to 'owner' and\n'project_id' to 'project' to account for the new filter by name\nfunctionality. Added the *_id attributes as aliases to keep\nbackward compatibility.\n\nUpdated and extended DOCUMENTATION, EXAMPLES and RETURN docstrings.\n\nThe stack_info module will convert its return values into dictionaries\nwithout computed (redundant) values. Thus dropping values such as\nlocation is not required anymore.\n\nChange-Id: I9cdfb44dd424f63c05943616cf5918ceb3a57b1f\n""}, {'number': 7, 'created': '2022-10-06 08:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/285549a8623283a0fc66f805f60ec1147aba327b', 'message': ""Refactored stack_info module and allow to filter by owner and project names\n\nAllow to filter stacks by owner names and project names instead of\nids only, in order to be consistent with other *_info modules.\n\nRenamed stack_info's module attributes 'owner_id' to 'owner' and\n'project_id' to 'project' to account for the new filter by name\nfunctionality. Added the *_id attributes as aliases to keep\nbackward compatibility.\n\nUpdated and extended DOCUMENTATION, EXAMPLES and RETURN docstrings.\n\nThe stack_info module will convert its return values into dictionaries\nwithout computed (redundant) values. Thus dropping values such as\nlocation is not required anymore.\n\nChange-Id: I9cdfb44dd424f63c05943616cf5918ceb3a57b1f\n""}, {'number': 8, 'created': '2022-10-14 10:22:26.000000000', 'files': ['plugins/modules/stack_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7bad5cfd4213ce2d9a7597732f53407e989b045f', 'message': ""Refactored stack_info module and allow to filter by owner and project names\n\nAllow to filter stacks by owner names and project names instead of\nids only, in order to be consistent with other *_info modules.\n\nRenamed stack_info's module attributes 'owner_id' to 'owner' and\n'project_id' to 'project' to account for the new filter by name\nfunctionality. Added the *_id attributes as aliases to keep\nbackward compatibility.\n\nUpdated and extended DOCUMENTATION, EXAMPLES and RETURN docstrings.\n\nThe stack_info module will convert its return values into dictionaries\nwithout computed (redundant) values. Thus dropping values such as\nlocation is not required anymore.\n\nChange-Id: I9cdfb44dd424f63c05943616cf5918ceb3a57b1f\n""}]",4,859540,7bad5cfd4213ce2d9a7597732f53407e989b045f,27,4,8,32962,,,0,"Refactored stack_info module and allow to filter by owner and project names

Allow to filter stacks by owner names and project names instead of
ids only, in order to be consistent with other *_info modules.

Renamed stack_info's module attributes 'owner_id' to 'owner' and
'project_id' to 'project' to account for the new filter by name
functionality. Added the *_id attributes as aliases to keep
backward compatibility.

Updated and extended DOCUMENTATION, EXAMPLES and RETURN docstrings.

The stack_info module will convert its return values into dictionaries
without computed (redundant) values. Thus dropping values such as
location is not required anymore.

Change-Id: I9cdfb44dd424f63c05943616cf5918ceb3a57b1f
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/40/859540/6 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/stack_info.py'],1,636e51730a105ad20955dee2908a6bbbeffc827b,stack,"DOCUMENTATION = r'''short_description: Retrieve information about Heat stacks - Get information about Heat stack in OpenStack - Name or ID of the stack. owner: description: - Name or ID of the parent stack. type: str aliases: ['owner_id'] project: description: - Name or ID of the project. type: str aliases: ['project_id'] - Status of the stack such as C(available)EXAMPLES = r''' - name: Fetch all Heat stacks openstack.cloud.stack_info: cloud: devstack - name: Fetch a single Heat stack openstack.cloud.stack_info: cloud: devstack name: my_stack ''' RETURN = r''' added: description: List of resource objects that will be added. type: list capabilities: description: AWS compatible template listing capabilities. type: list created_at: description: Time when created. type: str sample: ""2016-07-05T17:38:12Z"" deleted: description: A list of resource objects that will be deleted. type: list deleted_at: description: Time when the deleted. type: str sample: ""2016-07-05T17:38:12Z"" description: description: > Description of the Stack provided in the heat template. type: str sample: ""HOT template to create a new instance and networks"" environment: description: A JSON environment for the stack. type: dict environment_files: description: > An ordered list of names for environment files found in the files dict. type: list files: description: > Additional files referenced in the template or the environment type: dict files_container: description: > Name of swift container with child templates and files. type: str id: description: Stack ID. sample: ""97a3f543-8136-4570-920e-fd7605c989d6"" is_rollback_disabled: description: Whether the stack will support a rollback. type: bool links: description: Links to the current Stack. type: list elements: dict sample: ""[{'href': 'http://foo:8004/v1/7f6a/stacks/test-stack/ 97a3f543-8136-4570-920e-fd7605c989d6']"" name: description: Name of the Stack type: str sample: ""test-stack"" notification_topics: description: Stack related events. type: str sample: ""HOT template to create a new instance and networks"" outputs: description: Output returned by the Stack. type: list elements: dict sample: ""[{'description': 'IP of server1 in private network', 'output_key': 'server1_private_ip', 'output_value': '10.1.10.103'}]"" owner_id: description: The ID of the owner stack if any. type: str parameters: description: Parameters of the current Stack type: dict sample: ""{'OS::project_id': '7f6a3a3e01164a4eb4eecb2ab7742101', 'OS::stack_id': '97a3f543-8136-4570-920e-fd7605c989d6', 'OS::stack_name': 'test-stack', 'stack_status': 'CREATE_COMPLETE', 'stack_status_reason': 'Stack CREATE completed successfully', 'status': 'COMPLETE', 'template_description': 'HOT template to create a new instance and nets', 'timeout_mins': 60, 'updated_time': null}"" parent_id: description: The ID of the parent stack if any. type: str replaced: description: A list of resource objects that will be replaced. type: str stack_name: description: Name of the stack. type: str status: description: stack status. status_reason: description: > Explaining how the stack transits to its current status. type: str tags: description: A list of strings used as tags on the stack type: list template: description: A dict containing the template use for stack creation. type: dict template_description: description: Stack template description text. type: str template_url: description: The URL where a stack template can be found. type: str timeout_mins: description: Stack operation timeout in minutes. type: str unchanged: description: > A list of resource objects that will remain unchanged if a stack. type: list updated: description: > A list of resource objects that will have their properties updated. type: list updated_at: description: Timestamp of last update on the stack. type: str user_project_id: description: The ID of the user project created for this stack. type: str owner=dict(aliases=['owner_id']), project=dict(aliases=['project_id']), kwargs = {} owner_name_or_id = self.params['owner'] if owner_name_or_id: owner = self.conn.orchestration.find_stack(owner_name_or_id) if owner: kwargs['owner_id'] = owner['id'] else: # Owner could not be found so return empty list of stacks # because *_info modules never raise errors on missing # resources self.exit_json(changed=False, stacks=[]) project_name_or_id = self.params['project'] if project_name_or_id: project = self.conn.identity.find_project(project_name_or_id) if project: kwargs['project_id'] = project['id'] else: # Project could not be found so return empty list of stacks # because *_info modules never raise errors on missing # resources self.exit_json(changed=False, stacks=[]) for k in ['name', 'status']: if self.params[k] is not None: kwargs[k] = self.params[k] stacks = [stack.to_dict(computed=False) for stack in self.conn.orchestration.stacks(**kwargs)] self.exit_json(changed=False, stacks=stacks)","DOCUMENTATION = '''short_description: Retrive information about Heat stacks - Get information about Heat stack in openstack - Name of the stack as a string. required: false - Value of the status of the stack so that you can filter on ""available"" for example required: false project_id: description: - Project ID to be used as filter type: str required: false owner_id: description: - Owner (parent) of the stack to be used as a filter type: str required: false RETURN = ''' id: description: Unique UUID. sample: ""39007a7e-ee4f-4d13-8283-b4da2e037c69"" status: description: Stack status. ''' EXAMPLES = ''' # Get backups. - openstack.cloud.stack_info: register: stack - openstack.cloud.stack_info: name: my_stack register: stack module_min_sdk_version = '0.53.0' project_id=dict(), owner_id=dict() data = [] attrs = {} for param in ['name', 'status', 'project_id', 'owner_id']: if self.params[param]: attrs[param] = self.params[param] for raw in self.conn.orchestration.stacks(**attrs): dt = raw.to_dict() dt.pop('location') data.append(dt) self.exit_json( changed=False, stacks=data )",189,51
openstack%2Fkolla~stable%2Fyoga~Iec7e8461f9eb757e1576cf3898068306c5436239,openstack/kolla,stable/yoga,Iec7e8461f9eb757e1576cf3898068306c5436239,ubuntu: use PPA to get Erlang 25 for AArch64,ABANDONED,2022-10-12 16:33:32.000000000,2022-10-18 12:41:54.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-10-12 16:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1c503ba14925034c37b23c7515cec9840e690899', 'message': 'ubuntu: use PPA to get Erlang 25 for AArch64\n\nhttps: //launchpad.net/~rabbitmq provides newer Erlang for Ubuntu.\n\nChange-Id: Iec7e8461f9eb757e1576cf3898068306c5436239\n'}, {'number': 2, 'created': '2022-10-12 16:43:23.000000000', 'files': ['docker/base/apt_preferences.ubuntu', 'docker/base/Dockerfile.j2', 'kolla/template/repos.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/789a11d6b520e7ebf2ea4c9c3e79f0d9d5153fc9', 'message': 'ubuntu: use PPA to get Erlang 25 for AArch64\n\nPPA from Team RabbitMQ [1] provides newer Erlang for Ubuntu.\n\n1. https: //launchpad.net/~rabbitmq\n\n(based on https://review.opendev.org/c/openstack/kolla/+/861096 for master)\n\nChange-Id: Iec7e8461f9eb757e1576cf3898068306c5436239\n'}]",1,861097,789a11d6b520e7ebf2ea4c9c3e79f0d9d5153fc9,7,2,2,24072,,,0,"ubuntu: use PPA to get Erlang 25 for AArch64

PPA from Team RabbitMQ [1] provides newer Erlang for Ubuntu.

1. https: //launchpad.net/~rabbitmq

(based on https://review.opendev.org/c/openstack/kolla/+/861096 for master)

Change-Id: Iec7e8461f9eb757e1576cf3898068306c5436239
",git fetch https://review.opendev.org/openstack/kolla refs/changes/97/861097/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/apt_preferences.ubuntu', 'docker/base/Dockerfile.j2', 'kolla/template/repos.yaml']",3,1c503ba14925034c37b23c7515cec9840e690899,," url: ""https://ppa.launchpadcontent.net/rabbitmq/rabbitmq-erlang/ubuntu"" gpg_key: ""erlang-ppa.gpg"""," url: ""https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-erlang/deb/ubuntu"" gpg_key: ""erlang.gpg""",9,2
openstack%2Fneutron~stable%2Fvictoria~Ibca81eb59fbfad71f223832228f408fb248c5dfa,openstack/neutron,stable/victoria,Ibca81eb59fbfad71f223832228f408fb248c5dfa,Disable in-band management for bridges before setting up controllers,MERGED,2022-10-18 07:10:25.000000000,2022-10-18 12:39:25.000000000,2022-10-18 12:38:05.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-18 07:10:25.000000000', 'files': ['neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py', 'neutron/tests/functional/agent/test_ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/32a8b2d3388b0e1ed4b19a5f3b68a99762f9f70b', 'message': 'Disable in-band management for bridges before setting up controllers\n\nDisabling in-band management for bridge will effectively disable it for\nall controllers which are or will be set for the bridge. This will\nprevent us from having short time between configuring controller and\nsetting connection_mode of the controller to ""out-of-band"" when\ncontroller works in the default ""in-band"" connection mode and adds some\nhidden flows to the bridge.\n\nConflicts:\n    neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py\n    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py\n\nCloses-Bug: #1992953\nChange-Id: Ibca81eb59fbfad71f223832228f408fb248c5dfa\n(cherry picked from commit 8fcf00a36dfcec80bba73b63896d806f48835faf)\n(cherry picked from commit 9d826bc77aab36dd194cc471397af68bd4ad39e5)\n'}]",3,861705,32a8b2d3388b0e1ed4b19a5f3b68a99762f9f70b,9,3,1,11975,,,0,"Disable in-band management for bridges before setting up controllers

Disabling in-band management for bridge will effectively disable it for
all controllers which are or will be set for the bridge. This will
prevent us from having short time between configuring controller and
setting connection_mode of the controller to ""out-of-band"" when
controller works in the default ""in-band"" connection mode and adds some
hidden flows to the bridge.

Conflicts:
    neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py
    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py

Closes-Bug: #1992953
Change-Id: Ibca81eb59fbfad71f223832228f408fb248c5dfa
(cherry picked from commit 8fcf00a36dfcec80bba73b63896d806f48835faf)
(cherry picked from commit 9d826bc77aab36dd194cc471397af68bd4ad39e5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/861705/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py', 'neutron/tests/functional/agent/test_ovs_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py']",4,32a8b2d3388b0e1ed4b19a5f3b68a99762f9f70b,bug/1992953-stable/victoria," m_disable_in_band = mock.patch.object(self.br, 'disable_in_band') with m_disable_in_band as disable_in_band, \ disable_in_band.assert_called_once_with()"," m_set_ccm = mock.patch.object(self.br, 'set_controllers_connection_mode') with m_set_ccm as set_ccm, \ set_ccm.assert_called_once_with(""out-of-band"")",45,52
openstack%2Fneutron~stable%2Fwallaby~Ibca81eb59fbfad71f223832228f408fb248c5dfa,openstack/neutron,stable/wallaby,Ibca81eb59fbfad71f223832228f408fb248c5dfa,Disable in-band management for bridges before setting up controllers,MERGED,2022-10-18 07:04:48.000000000,2022-10-18 12:35:40.000000000,2022-10-18 12:34:05.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-10-18 07:04:48.000000000', 'files': ['neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py', 'neutron/tests/functional/agent/test_ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9d826bc77aab36dd194cc471397af68bd4ad39e5', 'message': 'Disable in-band management for bridges before setting up controllers\n\nDisabling in-band management for bridge will effectively disable it for\nall controllers which are or will be set for the bridge. This will\nprevent us from having short time between configuring controller and\nsetting connection_mode of the controller to ""out-of-band"" when\ncontroller works in the default ""in-band"" connection mode and adds some\nhidden flows to the bridge.\n\nCloses-Bug: #1992953\nChange-Id: Ibca81eb59fbfad71f223832228f408fb248c5dfa\n(cherry picked from commit 8fcf00a36dfcec80bba73b63896d806f48835faf)\n'}]",1,861625,9d826bc77aab36dd194cc471397af68bd4ad39e5,11,4,1,11975,,,0,"Disable in-band management for bridges before setting up controllers

Disabling in-band management for bridge will effectively disable it for
all controllers which are or will be set for the bridge. This will
prevent us from having short time between configuring controller and
setting connection_mode of the controller to ""out-of-band"" when
controller works in the default ""in-band"" connection mode and adds some
hidden flows to the bridge.

Closes-Bug: #1992953
Change-Id: Ibca81eb59fbfad71f223832228f408fb248c5dfa
(cherry picked from commit 8fcf00a36dfcec80bba73b63896d806f48835faf)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/861625/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py', 'neutron/tests/functional/agent/test_ovs_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py']",4,9d826bc77aab36dd194cc471397af68bd4ad39e5,bug/1992953-stable/zed-stable/yoga-stable/xena-stable/wallaby," m_disable_in_band = mock.patch.object(self.br, 'disable_in_band') with m_disable_in_band as disable_in_band, \ disable_in_band.assert_called_once_with()"," m_set_ccm = mock.patch.object(self.br, 'set_controllers_connection_mode') with m_set_ccm as set_ccm, \ set_ccm.assert_called_once_with(""out-of-band"")",45,52
openstack%2Fovn-octavia-provider~stable%2Fyoga~I86aba3eee88b3da3cae7b57da2eabc6c3cb5d953,openstack/ovn-octavia-provider,stable/yoga,I86aba3eee88b3da3cae7b57da2eabc6c3cb5d953,Ensure LB are removed from LS not connected to the LB LR,MERGED,2022-10-14 06:10:04.000000000,2022-10-18 12:35:03.000000000,2022-10-18 12:33:56.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 30396}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-10-14 06:10:04.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/662c9d1558f170421ac68947ccbc333baa73fa52', 'message': 'Ensure LB are removed from LS not connected to the LB LR\n\nOnce the logical_switch (neutron subnet) is removed from the\nlogical_router (neutron router) where the OVN-LB VIP and members\nare connected to, there is no need to keep the LB added to that\nlogical_switch\n\nCloses-Bug: #1992356\nChange-Id: I86aba3eee88b3da3cae7b57da2eabc6c3cb5d953\n(cherry picked from commit 464cb97fadd7134814cadd171b4de8cd2eda530e)\n'}]",4,861294,662c9d1558f170421ac68947ccbc333baa73fa52,18,5,1,23567,,,0,"Ensure LB are removed from LS not connected to the LB LR

Once the logical_switch (neutron subnet) is removed from the
logical_router (neutron router) where the OVN-LB VIP and members
are connected to, there is no need to keep the LB added to that
logical_switch

Closes-Bug: #1992356
Change-Id: I86aba3eee88b3da3cae7b57da2eabc6c3cb5d953
(cherry picked from commit 464cb97fadd7134814cadd171b4de8cd2eda530e)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/94/861294/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,662c9d1558f170421ac68947ccbc333baa73fa52,," self.helper.ovn_nbdb_api.ls_lb_del.assert_called_once_with( self.network.uuid, self.ref_lb1.uuid, if_exists=True)", self.helper.ovn_nbdb_api.ls_lb_del.assert_not_called(),6,2
openstack%2Fhorizon~stable%2Fvictoria~Ie63dd3b161cb8fd9be89002027d699ce2c4a67a5,openstack/horizon,stable/victoria,Ie63dd3b161cb8fd9be89002027d699ce2c4a67a5,zuul: Declare queue at top level,MERGED,2022-10-17 09:54:35.000000000,2022-10-18 12:23:50.000000000,2022-10-18 12:20:55.000000000,"[{'_account_id': 841}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-10-17 09:54:35.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/1da7f7f21607faae1fa727788046736d209144f7', 'message': 'zuul: Declare queue at top level\n\nZuul deprecated declaring shared queues at a pipeline level with\nrelease 4.1.0[1]. This updates the job definition to use the top level\ndeclaration instead.\n\nSee [2] for details.\n\n[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n\nChange-Id: Ie63dd3b161cb8fd9be89002027d699ce2c4a67a5\n(cherry picked from commit 4212950a4a6b036f563a236cb005604e1c096f04)\n'}]",0,861613,1da7f7f21607faae1fa727788046736d209144f7,9,4,1,29313,,,0,"zuul: Declare queue at top level

Zuul deprecated declaring shared queues at a pipeline level with
release 4.1.0[1]. This updates the job definition to use the top level
declaration instead.

See [2] for details.

[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes
[2] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

Change-Id: Ie63dd3b161cb8fd9be89002027d699ce2c4a67a5
(cherry picked from commit 4212950a4a6b036f563a236cb005604e1c096f04)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/13/861613/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,1da7f7f21607faae1fa727788046736d209144f7,fix-queue-config-stable/victoria, queue: horizon, queue: horizon,1,1
openstack%2Fhorizon~stable%2Fwallaby~Ie63dd3b161cb8fd9be89002027d699ce2c4a67a5,openstack/horizon,stable/wallaby,Ie63dd3b161cb8fd9be89002027d699ce2c4a67a5,zuul: Declare queue at top level,MERGED,2022-10-17 09:53:47.000000000,2022-10-18 12:23:45.000000000,2022-10-18 12:18:59.000000000,"[{'_account_id': 841}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-10-17 09:53:47.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/374e8bbc90ef0fa4019f0e322b39a44407a25125', 'message': 'zuul: Declare queue at top level\n\nZuul deprecated declaring shared queues at a pipeline level with\nrelease 4.1.0[1]. This updates the job definition to use the top level\ndeclaration instead.\n\nSee [2] for details.\n\n[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n\nChange-Id: Ie63dd3b161cb8fd9be89002027d699ce2c4a67a5\n(cherry picked from commit 4212950a4a6b036f563a236cb005604e1c096f04)\n'}]",0,861612,374e8bbc90ef0fa4019f0e322b39a44407a25125,9,4,1,29313,,,0,"zuul: Declare queue at top level

Zuul deprecated declaring shared queues at a pipeline level with
release 4.1.0[1]. This updates the job definition to use the top level
declaration instead.

See [2] for details.

[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes
[2] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

Change-Id: Ie63dd3b161cb8fd9be89002027d699ce2c4a67a5
(cherry picked from commit 4212950a4a6b036f563a236cb005604e1c096f04)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/12/861612/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,374e8bbc90ef0fa4019f0e322b39a44407a25125,fix-queue-config-stable/wallaby, queue: horizon, queue: horizon,1,1
openstack%2Fhorizon~stable%2Fxena~Ie63dd3b161cb8fd9be89002027d699ce2c4a67a5,openstack/horizon,stable/xena,Ie63dd3b161cb8fd9be89002027d699ce2c4a67a5,zuul: Declare queue at top level,MERGED,2022-10-17 09:53:06.000000000,2022-10-18 12:23:15.000000000,2022-10-18 12:18:56.000000000,"[{'_account_id': 841}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-10-17 09:53:06.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/3c71cab601421c97bdab243765d09fadf8b8149f', 'message': 'zuul: Declare queue at top level\n\nZuul deprecated declaring shared queues at a pipeline level with\nrelease 4.1.0[1]. This updates the job definition to use the top level\ndeclaration instead.\n\nSee [2] for details.\n\n[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n\nChange-Id: Ie63dd3b161cb8fd9be89002027d699ce2c4a67a5\n(cherry picked from commit 4212950a4a6b036f563a236cb005604e1c096f04)\n'}]",0,861611,3c71cab601421c97bdab243765d09fadf8b8149f,9,4,1,29313,,,0,"zuul: Declare queue at top level

Zuul deprecated declaring shared queues at a pipeline level with
release 4.1.0[1]. This updates the job definition to use the top level
declaration instead.

See [2] for details.

[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes
[2] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

Change-Id: Ie63dd3b161cb8fd9be89002027d699ce2c4a67a5
(cherry picked from commit 4212950a4a6b036f563a236cb005604e1c096f04)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/11/861611/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,3c71cab601421c97bdab243765d09fadf8b8149f,fix-queue-config-stable/xena, queue: horizon, queue: horizon,1,1
openstack%2Fhorizon~stable%2Fyoga~Ie63dd3b161cb8fd9be89002027d699ce2c4a67a5,openstack/horizon,stable/yoga,Ie63dd3b161cb8fd9be89002027d699ce2c4a67a5,zuul: Declare queue at top level,MERGED,2022-10-17 07:49:38.000000000,2022-10-18 12:23:15.000000000,2022-10-18 12:18:53.000000000,"[{'_account_id': 841}, {'_account_id': 8648}, {'_account_id': 14567}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-10-17 07:49:38.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/b2e0aff576aa3e4f26d1f6a227cffb685ce710fd', 'message': 'zuul: Declare queue at top level\n\nZuul deprecated declaring shared queues at a pipeline level with\nrelease 4.1.0[1]. This updates the job definition to use the top level\ndeclaration instead.\n\nSee [2] for details.\n\n[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n\nChange-Id: Ie63dd3b161cb8fd9be89002027d699ce2c4a67a5\n(cherry picked from commit 4212950a4a6b036f563a236cb005604e1c096f04)\n'}]",2,861309,b2e0aff576aa3e4f26d1f6a227cffb685ce710fd,14,5,1,29313,,,0,"zuul: Declare queue at top level

Zuul deprecated declaring shared queues at a pipeline level with
release 4.1.0[1]. This updates the job definition to use the top level
declaration instead.

See [2] for details.

[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes
[2] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

Change-Id: Ie63dd3b161cb8fd9be89002027d699ce2c4a67a5
(cherry picked from commit 4212950a4a6b036f563a236cb005604e1c096f04)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/09/861309/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,b2e0aff576aa3e4f26d1f6a227cffb685ce710fd,fix-queue-config-stable/yoga, queue: horizon, queue: horizon,1,1
openstack%2Fkolla~master~Id1a2742843f4b17f414be5199cc5a67591b73abb,openstack/kolla,master,Id1a2742843f4b17f414be5199cc5a67591b73abb,rabbitmq: fix version to 3.10.8 for all distros/archs,ABANDONED,2022-10-12 15:35:39.000000000,2022-10-18 12:21:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-10-12 15:35:39.000000000', 'files': ['docker/base/apt_preferences.ubuntu', 'docker/base/apt_preferences.debian', 'docker/rabbitmq/Dockerfile.j2', 'docker/kolla-toolbox/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a6557f5171cd32e92c99cea41e3f120fbd36d6d3', 'message': 'rabbitmq: fix version to 3.10.8 for all distros/archs\n\nWe have Erlang 24 on AArch64 and Erlang 25 on x86-64.\n\nRabbitMQ project changes minimum supported version of Erlang in one\nbranch (3.10.[07] wanted 23.2 while 3.10.8 requires 24.2) so let use one\nfixed version to keep things from failing apart.\n\nRabbitMQ needs Erlang 24.2+, we have 25.1.1 on x86-64, 24.2.1/24.3.4 on\nAArch64.\n\nChange-Id: Id1a2742843f4b17f414be5199cc5a67591b73abb\n'}]",2,861092,a6557f5171cd32e92c99cea41e3f120fbd36d6d3,6,1,1,24072,,,0,"rabbitmq: fix version to 3.10.8 for all distros/archs

We have Erlang 24 on AArch64 and Erlang 25 on x86-64.

RabbitMQ project changes minimum supported version of Erlang in one
branch (3.10.[07] wanted 23.2 while 3.10.8 requires 24.2) so let use one
fixed version to keep things from failing apart.

RabbitMQ needs Erlang 24.2+, we have 25.1.1 on x86-64, 24.2.1/24.3.4 on
AArch64.

Change-Id: Id1a2742843f4b17f414be5199cc5a67591b73abb
",git fetch https://review.opendev.org/openstack/kolla refs/changes/92/861092/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/apt_preferences.ubuntu', 'docker/base/apt_preferences.debian', 'docker/rabbitmq/Dockerfile.j2', 'docker/kolla-toolbox/Dockerfile.j2']",4,a6557f5171cd32e92c99cea41e3f120fbd36d6d3,, 'rabbitmq-server-3.10.8', 'rabbitmq-server-3.10.*',5,5
openstack%2Fovn-octavia-provider~stable%2Fxena~I86aba3eee88b3da3cae7b57da2eabc6c3cb5d953,openstack/ovn-octavia-provider,stable/xena,I86aba3eee88b3da3cae7b57da2eabc6c3cb5d953,Ensure LB are removed from LS not connected to the LB LR,MERGED,2022-10-14 06:10:28.000000000,2022-10-18 12:07:53.000000000,2022-10-18 12:06:50.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 30396}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-10-14 06:10:28.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/25ab8ba20f27223a33e254c285630ecd5ad18e35', 'message': 'Ensure LB are removed from LS not connected to the LB LR\n\nOnce the logical_switch (neutron subnet) is removed from the\nlogical_router (neutron router) where the OVN-LB VIP and members\nare connected to, there is no need to keep the LB added to that\nlogical_switch\n\nCloses-Bug: #1992356\nChange-Id: I86aba3eee88b3da3cae7b57da2eabc6c3cb5d953\n(cherry picked from commit 464cb97fadd7134814cadd171b4de8cd2eda530e)\n'}]",1,861295,25ab8ba20f27223a33e254c285630ecd5ad18e35,14,5,1,23567,,,0,"Ensure LB are removed from LS not connected to the LB LR

Once the logical_switch (neutron subnet) is removed from the
logical_router (neutron router) where the OVN-LB VIP and members
are connected to, there is no need to keep the LB added to that
logical_switch

Closes-Bug: #1992356
Change-Id: I86aba3eee88b3da3cae7b57da2eabc6c3cb5d953
(cherry picked from commit 464cb97fadd7134814cadd171b4de8cd2eda530e)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/95/861295/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,25ab8ba20f27223a33e254c285630ecd5ad18e35,," self.helper.ovn_nbdb_api.ls_lb_del.assert_called_once_with( self.network.uuid, self.ref_lb1.uuid, if_exists=True)", self.helper.ovn_nbdb_api.ls_lb_del.assert_not_called(),6,2
openstack%2Fneutron~stable%2Fzed~Ibca81eb59fbfad71f223832228f408fb248c5dfa,openstack/neutron,stable/zed,Ibca81eb59fbfad71f223832228f408fb248c5dfa,Disable in-band management for bridges before setting up controllers,MERGED,2022-10-18 07:03:14.000000000,2022-10-18 12:01:59.000000000,2022-10-18 12:00:51.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-10-18 07:03:14.000000000', 'files': ['neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py', 'neutron/tests/functional/agent/test_ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b304dfaca791d3396fc0c6210cb1b1b089970a0f', 'message': 'Disable in-band management for bridges before setting up controllers\n\nDisabling in-band management for bridge will effectively disable it for\nall controllers which are or will be set for the bridge. This will\nprevent us from having short time between configuring controller and\nsetting connection_mode of the controller to ""out-of-band"" when\ncontroller works in the default ""in-band"" connection mode and adds some\nhidden flows to the bridge.\n\nCloses-Bug: #1992953\nChange-Id: Ibca81eb59fbfad71f223832228f408fb248c5dfa\n(cherry picked from commit 8fcf00a36dfcec80bba73b63896d806f48835faf)\n'}]",2,861622,b304dfaca791d3396fc0c6210cb1b1b089970a0f,10,4,1,11975,,,0,"Disable in-band management for bridges before setting up controllers

Disabling in-band management for bridge will effectively disable it for
all controllers which are or will be set for the bridge. This will
prevent us from having short time between configuring controller and
setting connection_mode of the controller to ""out-of-band"" when
controller works in the default ""in-band"" connection mode and adds some
hidden flows to the bridge.

Closes-Bug: #1992953
Change-Id: Ibca81eb59fbfad71f223832228f408fb248c5dfa
(cherry picked from commit 8fcf00a36dfcec80bba73b63896d806f48835faf)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/861622/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py', 'neutron/tests/functional/agent/test_ovs_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py']",4,b304dfaca791d3396fc0c6210cb1b1b089970a0f,bug/1992953-stable/zed," m_disable_in_band = mock.patch.object(self.br, 'disable_in_band') with m_disable_in_band as disable_in_band, \ disable_in_band.assert_called_once_with()"," m_set_ccm = mock.patch.object(self.br, 'set_controllers_connection_mode') with m_set_ccm as set_ccm, \ set_ccm.assert_called_once_with(""out-of-band"")",45,52
openstack%2Fcharm-zuul-jobs~master~I6b23aa411e86b2c00b301c446838807384e24958,openstack/charm-zuul-jobs,master,I6b23aa411e86b2c00b301c446838807384e24958,Fix model name when collection logs,MERGED,2022-10-18 10:55:33.000000000,2022-10-18 11:59:29.000000000,2022-10-18 11:59:29.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-18 10:55:33.000000000', 'files': ['playbooks/microk8s-juju-post.yaml'], 'web_link': 'https://opendev.org/openstack/charm-zuul-jobs/commit/e2864a84dace1a49e90a580edeaa8b35aa282cfe', 'message': 'Fix model name when collection logs\n\nThe job to collect logs assumed that the model in focus was the\none to collect logs from which is wrong. Logs should be collected\nfrom the zaza-* model\n\nChange-Id: I6b23aa411e86b2c00b301c446838807384e24958\n'}]",0,861737,e2864a84dace1a49e90a580edeaa8b35aa282cfe,6,2,1,12549,,,0,"Fix model name when collection logs

The job to collect logs assumed that the model in focus was the
one to collect logs from which is wrong. Logs should be collected
from the zaza-* model

Change-Id: I6b23aa411e86b2c00b301c446838807384e24958
",git fetch https://review.opendev.org/openstack/charm-zuul-jobs refs/changes/37/861737/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/microk8s-juju-post.yaml'],1,e2864a84dace1a49e90a580edeaa8b35aa282cfe,fix-model-name," MODEL_NAME=$(juju models --format=json | jq -r '.models[][""short-name""]' | grep '^zaza-')"," MODEL_NAME=$(juju switch | awk 'BEGIN {FS=""/""} {print $NF}')",1,1
openstack%2Ftripleo-quickstart~master~Ied9eef862569f583405526a452fbc42d91e7d9fa,openstack/tripleo-quickstart,master,Ied9eef862569f583405526a452fbc42d91e7d9fa,Removing suppress newline from fs35 and fs20,MERGED,2022-10-17 09:14:25.000000000,2022-10-18 11:44:32.000000000,2022-10-18 11:43:27.000000000,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 14611}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27623}]","[{'number': 1, 'created': '2022-10-17 09:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/72ab89ace2fc672c3e0e87a9264131121330b5cc', 'message': 'Removing suppress newline from fs35 and fs20\n\nCloses-Bug: #1993139\nChange-Id: Ied9eef862569f583405526a452fbc42d91e7d9fa\n'}, {'number': 2, 'created': '2022-10-17 15:26:26.000000000', 'files': ['config/general_config/featureset020.yml', 'config/general_config/featureset035.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e4013944ff5863679799292dd9304751ca55462f', 'message': 'Removing suppress newline from fs35 and fs20\n\nResults:\nhttps://review.rdoproject.org/zuul/build/6a5844d2ef134a3bacae45ec7d707e14\nhttps://review.rdoproject.org/zuul/build/1329d514374242b1844c4d654699b71b\nhttps://review.rdoproject.org/zuul/build/3e66ecc39f3e4c378df56be2d75de7e5\n\nCloses-Bug: #1993139\nChange-Id: Ied9eef862569f583405526a452fbc42d91e7d9fa\n'}]",6,861590,e4013944ff5863679799292dd9304751ca55462f,19,7,2,32458,,,0,"Removing suppress newline from fs35 and fs20

Results:
https://review.rdoproject.org/zuul/build/6a5844d2ef134a3bacae45ec7d707e14
https://review.rdoproject.org/zuul/build/1329d514374242b1844c4d654699b71b
https://review.rdoproject.org/zuul/build/3e66ecc39f3e4c378df56be2d75de7e5

Closes-Bug: #1993139
Change-Id: Ied9eef862569f583405526a452fbc42d91e7d9fa
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/90/861590/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/general_config/featureset020.yml', 'config/general_config/featureset035.yml']",2,72ab89ace2fc672c3e0e87a9264131121330b5cc,," {% if ansible_distribution in [""RedHat""] and osp_release|default('') in ['rhos-17.1'] and ansible_distribution_major_version|int == 8 %} {% if release not in ['train','ussuri','victoria'] %}"," {% if ansible_distribution in [""RedHat""] and osp_release|default('') in ['rhos-17.1'] and ansible_distribution_major_version|int == 8 -%} {%- if release not in ['train','ussuri','victoria'] -%}",4,4
openstack%2Fpython-tripleoclient~master~I2e3288983d2644e78b09b720b539d8e0c45b3c46,openstack/python-tripleoclient,master,I2e3288983d2644e78b09b720b539d8e0c45b3c46,admin authorize: Deprecate ineffective --overcloud-ssh-network,MERGED,2022-09-12 14:56:40.000000000,2022-10-18 11:44:31.000000000,2022-10-18 11:43:24.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-09-12 14:56:40.000000000', 'files': ['releasenotes/notes/admin_authorize_deprecate-overcloud-ssh-network-a2a1bdf745c4796c.yaml', 'tripleoclient/v1/overcloud_admin.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/af566e52ec7c7b3734f6443b4011dc5bb72009eb', 'message': 'admin authorize: Deprecate ineffective --overcloud-ssh-network\n\nThe --overcloud-ssh-network option is no longer used since Wallaby.\nThis change formally deprecates the option so that we can remove it in\na future release.\n\nChange-Id: I2e3288983d2644e78b09b720b539d8e0c45b3c46\n'}]",2,857196,af566e52ec7c7b3734f6443b4011dc5bb72009eb,10,4,1,9816,,,0,"admin authorize: Deprecate ineffective --overcloud-ssh-network

The --overcloud-ssh-network option is no longer used since Wallaby.
This change formally deprecates the option so that we can remove it in
a future release.

Change-Id: I2e3288983d2644e78b09b720b539d8e0c45b3c46
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/96/857196/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/admin_authorize_deprecate-overcloud-ssh-network-a2a1bdf745c4796c.yaml', 'tripleoclient/v1/overcloud_admin.py']",2,af566e52ec7c7b3734f6443b4011dc5bb72009eb,," help=_('DEPRECATED: Network name to use for ssh access to ' 'overcloud nodes. This has no effect now.'), if parsed_args.overcloud_ssh_network: self.log.warning('The --overcloud-ssh-network option is ' 'deprecated and has no effect now.') "," help=_('Network name to use for ssh access to overcloud nodes.'),",11,1
openstack%2Fpython-tripleoclient~master~If837d30b5d22a7ba0c3b0ffe8eb641d9ce9f6b55,openstack/python-tripleoclient,master,If837d30b5d22a7ba0c3b0ffe8eb641d9ce9f6b55,overcloud-deploy: Only support pre-provisioned node,MERGED,2022-04-27 04:33:33.000000000,2022-10-18 11:35:44.000000000,2022-10-18 11:33:40.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-04-27 04:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fad94632e52394d59a11a433237139009e415109', 'message': 'overcloud-deploy: Only support pre-provisioned node\n\nSince Nova was removed from undercloud, baremetal node should be\npre-provisioned.\n\nDepends-on: https://review.opendev.org/839463\nChange-Id: If837d30b5d22a7ba0c3b0ffe8eb641d9ce9f6b55\n'}, {'number': 2, 'created': '2022-09-05 07:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/eb9fe8ab08715cb64824e33c895f1abceb879d3c', 'message': 'overcloud-deploy: Only support pre-provisioned node\n\nSince Nova was removed from undercloud, baremetal node should be\npre-provisioned.\n\nDepends-on: https://review.opendev.org/848695\nChange-Id: If837d30b5d22a7ba0c3b0ffe8eb641d9ce9f6b55\n'}, {'number': 3, 'created': '2022-09-29 02:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2270b9fbcf42d84cb98176a01d5549f06b02ca3d', 'message': 'overcloud-deploy: Only support pre-provisioned node\n\nSince Nova was removed from undercloud, baremetal node should be\nalways pre-provisioned.\n\nDepends-on: https://review.opendev.org/848695\nChange-Id: If837d30b5d22a7ba0c3b0ffe8eb641d9ce9f6b55\n'}, {'number': 4, 'created': '2022-10-13 03:09:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b4120d57358b3e526434d9d356bfc27d1f6cc336', 'message': 'overcloud-deploy: Only support pre-provisioned node\n\nSince Nova was removed from undercloud, baremetal node should be\nalways pre-provisioned.\n\nDepends-on: https://review.opendev.org/848695\nChange-Id: If837d30b5d22a7ba0c3b0ffe8eb641d9ce9f6b55\n'}, {'number': 5, 'created': '2022-10-13 03:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9d7da4929276e2f1f964315b484c201a0ab2be77', 'message': 'overcloud-deploy: Only support pre-provisioned node\n\nSince Nova was removed from undercloud, baremetal node should be\nalways pre-provisioned.\n\nDepends-on: https://review.opendev.org/848695\nChange-Id: If837d30b5d22a7ba0c3b0ffe8eb641d9ce9f6b55\n'}, {'number': 6, 'created': '2022-10-13 07:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ff7d789117d0583d45f79264322b69fdf2310adf', 'message': 'overcloud-deploy: Only support pre-provisioned node\n\nSince Nova was removed from undercloud, baremetal node should be\nalways pre-provisioned.\n\nDepends-on: https://review.opendev.org/848695\nDepends-on: https://review.opendev.org/861142\nChange-Id: If837d30b5d22a7ba0c3b0ffe8eb641d9ce9f6b55\n'}, {'number': 7, 'created': '2022-10-14 01:12:19.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'releasenotes/notes/oc-deploy-force-pre-provisioned-b50159643a31b3d2.yaml', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1846d14a2c22f569e3c622120edd6480a3b5c280', 'message': 'overcloud-deploy: Only support pre-provisioned node\n\nSince Nova was removed from undercloud, baremetal node should be\nalways pre-provisioned.\n\nDepends-on: https://review.opendev.org/848695\nChange-Id: If837d30b5d22a7ba0c3b0ffe8eb641d9ce9f6b55\n'}]",3,839464,1846d14a2c22f569e3c622120edd6480a3b5c280,32,5,7,9816,,,0,"overcloud-deploy: Only support pre-provisioned node

Since Nova was removed from undercloud, baremetal node should be
always pre-provisioned.

Depends-on: https://review.opendev.org/848695
Change-Id: If837d30b5d22a7ba0c3b0ffe8eb641d9ce9f6b55
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/64/839464/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/constants.py', 'releasenotes/notes/oc-deploy-force-pre-provisioned-b50159643a31b3d2.yaml', 'tripleoclient/v1/overcloud_deploy.py']",3,fad94632e52394d59a11a433237139009e415109,uc-nova-cleanup, help=_('DEPRECATED: Provision overcloud nodes with heat.') if not parsed_args.deployed_server: raise exceptions.DeploymentError( 'Overcloud nodes should be pre-provisioned.') ," if parsed_args.baremetal_deployment and not parsed_args.deployed_server: raise oscexc.CommandError( ""Error: --deployed-server must be used when using "" ""--baremetal-deployment"") if not parsed_args.deployed_server: self.compute_client = self.clients.compute self.baremetal_client = self.clients.baremetal if parsed_args.deployed_server: created_env_files.append( os.path.join( new_tht_root, constants.DEPLOYED_SERVER_ENVIRONMENT)) help=_('Provision overcloud nodes with heat.')",11,16
openstack%2Fpython-tripleoclient~master~I3e73d15c724141808c0856684519cd4e28d57ed1,openstack/python-tripleoclient,master,I3e73d15c724141808c0856684519cd4e28d57ed1,Undercloud: Deprecate [DEFAULT] enable_swift_encryption,MERGED,2022-09-21 03:45:07.000000000,2022-10-18 11:34:43.000000000,2022-10-18 11:33:35.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-09-21 03:45:07.000000000', 'files': ['tripleoclient/config/undercloud.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5ad2be715e7409d23635b15cc59250eaba2beff0', 'message': 'Undercloud: Deprecate [DEFAULT] enable_swift_encryption\n\nThe parameter should have been deprecated by [1] but the option was not\nproperly updated by the change. This adds the missing property to mark\nthe option as deprecated one.\n\n[1] a769aa7649c5043f5940a7e019a26dbf55f1217b\n\nChange-Id: I3e73d15c724141808c0856684519cd4e28d57ed1\n'}]",0,858601,5ad2be715e7409d23635b15cc59250eaba2beff0,8,3,1,9816,,,0,"Undercloud: Deprecate [DEFAULT] enable_swift_encryption

The parameter should have been deprecated by [1] but the option was not
properly updated by the change. This adds the missing property to mark
the option as deprecated one.

[1] a769aa7649c5043f5940a7e019a26dbf55f1217b

Change-Id: I3e73d15c724141808c0856684519cd4e28d57ed1
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/01/858601/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/config/undercloud.py'],1,5ad2be715e7409d23635b15cc59250eaba2beff0,," deprecated_for_removal=True, deprecated_reason=_( 'Swift has been disabled in undercloud.'),",,3,0
openstack%2Ftripleo-ansible~master~Id49274f5bade4af5b88b6354cfa092e4b041eb6e,openstack/tripleo-ansible,master,Id49274f5bade4af5b88b6354cfa092e4b041eb6e,Improved way of detecting Galera cluster is up&running,MERGED,2022-10-17 12:22:01.000000000,2022-10-18 11:33:43.000000000,2022-10-18 11:33:43.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 33543}]","[{'number': 1, 'created': '2022-10-17 12:22:01.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/pacemaker_start.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dc4e574ba10807ea23155017c0bd9e734023fae5', 'message': 'Improved way of detecting Galera cluster is up&running\n\nThere is a script in every node that checks correctly if the\nGalera node has been correctly re-introduced in the cluster\nas the previous check on the local port open had some\ndisadvantages, and does not wait for IST to complete.\n\nChange-Id: Id49274f5bade4af5b88b6354cfa092e4b041eb6e\n'}]",2,861603,dc4e574ba10807ea23155017c0bd9e734023fae5,9,8,1,32968,,,0,"Improved way of detecting Galera cluster is up&running

There is a script in every node that checks correctly if the
Galera node has been correctly re-introduced in the cluster
as the previous check on the local port open had some
disadvantages, and does not wait for IST to complete.

Change-Id: Id49274f5bade4af5b88b6354cfa092e4b041eb6e
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/03/861603/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/pacemaker_start.yml']",2,dc4e574ba10807ea23155017c0bd9e734023fae5,, shell: /var/lib/container-config-scripts/pacemaker_wait_bundle.sh galera galera-bundle Master," shell: ss -tunlp | grep "":3306 "" | sed -e 's/.*\///' register: mysql_result retries: 300 until: mysql_result is search('mariadbd') delay: 5",2,12
openstack%2Ftripleo-puppet-elements~master~Ib8c894cc8ff0035d6441b66383fea51965f24e18,openstack/tripleo-puppet-elements,master,Ib8c894cc8ff0035d6441b66383fea51965f24e18,Stop installing net-snmp,MERGED,2022-08-17 15:07:16.000000000,2022-10-18 11:33:38.000000000,2022-10-18 11:33:38.000000000,"[{'_account_id': 7294}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-08-17 15:07:16.000000000', 'files': ['elements/overcloud-base/install.d/package-installs-overcloud-base', 'elements/overcloud-base/pkg-map'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/c820a58c38b854de4e1094acb1cba06a4802e70c', 'message': 'Stop installing net-snmp\n\n... because the snmpd service is now disabled by default.\n\nDepends-on: https://review.opendev.org/852304\nChange-Id: Ib8c894cc8ff0035d6441b66383fea51965f24e18\n'}]",0,853507,c820a58c38b854de4e1094acb1cba06a4802e70c,9,5,1,9816,,,0,"Stop installing net-snmp

... because the snmpd service is now disabled by default.

Depends-on: https://review.opendev.org/852304
Change-Id: Ib8c894cc8ff0035d6441b66383fea51965f24e18
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/07/853507/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/overcloud-base/install.d/package-installs-overcloud-base', 'elements/overcloud-base/pkg-map']",2,c820a58c38b854de4e1094acb1cba06a4802e70c,tripleo_snmpd,," ""net_snmp"": ""net-snmp"",",0,2
openstack%2Ftripleo-heat-templates~master~I96f6ceb521f4268f8de3867abc141013a4ef874f,openstack/tripleo-heat-templates,master,I96f6ceb521f4268f8de3867abc141013a4ef874f,haproxy: Remove unused haproxy_docker hieradata key,MERGED,2022-09-22 02:56:16.000000000,2022-10-18 11:12:02.000000000,2022-10-18 11:12:02.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-09-22 02:56:16.000000000', 'files': ['deployment/haproxy/haproxy-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bc772b63f882991fa0d25546858056421b8bb3dd', 'message': 'haproxy: Remove unused haproxy_docker hieradata key\n\nIt is no longer used since the implementation to run haproxy at host\nwas cleaned up.\n\nDepends-on: https://review.opendev.org/858839\nChange-Id: I96f6ceb521f4268f8de3867abc141013a4ef874f\n'}]",0,858840,bc772b63f882991fa0d25546858056421b8bb3dd,8,4,1,9816,,,0,"haproxy: Remove unused haproxy_docker hieradata key

It is no longer used since the implementation to run haproxy at host
was cleaned up.

Depends-on: https://review.opendev.org/858839
Change-Id: I96f6ceb521f4268f8de3867abc141013a4ef874f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/858840/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/haproxy/haproxy-pacemaker-puppet.yaml'],1,bc772b63f882991fa0d25546858056421b8bb3dd,,, - haproxy_docker: true,0,1
openstack%2Fpuppet-tripleo~master~Ic21f33d9a1003b32a1724d2bc4672a646afae211,openstack/puppet-tripleo,master,Ic21f33d9a1003b32a1724d2bc4672a646afae211,haproxy: Remove logic for non-containerized haproxy service,MERGED,2022-09-22 02:53:14.000000000,2022-10-18 11:11:59.000000000,2022-10-18 11:11:59.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-09-22 02:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ac80fcb4073bff18c9aa25f885213ca571b879bc', 'message': 'Haproxy: Remove logic for non-containerized haproxy service\n\n... because current TripleO supports only running haproxy in container.\n\nChange-Id: Ic21f33d9a1003b32a1724d2bc4672a646afae211\n'}, {'number': 2, 'created': '2022-09-22 02:55:57.000000000', 'files': ['manifests/pacemaker/haproxy_with_vip.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/424d9d1f66870b208233d9552c2edb0819300ee4', 'message': 'haproxy: Remove logic for non-containerized haproxy service\n\n... because current TripleO no longer supports running haproxy service\nat host.\n\nChange-Id: Ic21f33d9a1003b32a1724d2bc4672a646afae211\n'}]",0,858839,424d9d1f66870b208233d9552c2edb0819300ee4,10,5,2,9816,,,0,"haproxy: Remove logic for non-containerized haproxy service

... because current TripleO no longer supports running haproxy service
at host.

Change-Id: Ic21f33d9a1003b32a1724d2bc4672a646afae211
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/39/858839/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/pacemaker/haproxy_with_vip.pp'],1,ac80fcb4073bff18c9aa25f885213ca571b879bc,," second_resource => 'haproxy-bundle', target => 'haproxy-bundle', -> Pacemaker::Resource::Bundle['haproxy-bundle']"," $haproxy_in_container = lookup('haproxy_docker', undef, undef, false) $constraint_target_name = $haproxy_in_container ? { true => 'haproxy-bundle', default => 'haproxy-clone' } second_resource => $constraint_target_name, target => $constraint_target_name, $service_resource = $haproxy_in_container ? { true => Pacemaker::Resource::Bundle['haproxy-bundle'], default => Pacemaker::Resource::Service['haproxy'] } -> $service_resource",3,14
openstack%2Fnetworking-ovn~stable%2Ftrain~I86aba3eee88b3da3cae7b57da2eabc6c3cb5d953,openstack/networking-ovn,stable/train,I86aba3eee88b3da3cae7b57da2eabc6c3cb5d953,Ensure LB are removed from LS not connected to the LB LR,MERGED,2022-10-14 06:39:56.000000000,2022-10-18 11:08:25.000000000,2022-10-18 11:07:25.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-10-14 06:39:56.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d5c9cabc40d176e50d9b005229cdd9811434781d', 'message': 'Ensure LB are removed from LS not connected to the LB LR\n\nOnce the logical_switch (neutron subnet) is removed from the\nlogical_router (neutron router) where the OVN-LB VIP and members\nare connected to, there is no need to keep the LB added to that\nlogical_switch\n\n(manually-cherry picked from commit 464cb97fadd7134814cadd171b4de8cd2eda530e)\n\nCloses-Bug: #1992356\nChange-Id: I86aba3eee88b3da3cae7b57da2eabc6c3cb5d953\n(cherry picked from commit 464cb97fadd7134814cadd171b4de8cd2eda530e)\n'}]",1,861331,d5c9cabc40d176e50d9b005229cdd9811434781d,9,4,1,23567,,,0,"Ensure LB are removed from LS not connected to the LB LR

Once the logical_switch (neutron subnet) is removed from the
logical_router (neutron router) where the OVN-LB VIP and members
are connected to, there is no need to keep the LB added to that
logical_switch

(manually-cherry picked from commit 464cb97fadd7134814cadd171b4de8cd2eda530e)

Closes-Bug: #1992356
Change-Id: I86aba3eee88b3da3cae7b57da2eabc6c3cb5d953
(cherry picked from commit 464cb97fadd7134814cadd171b4de8cd2eda530e)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/31/861331/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/octavia/ovn_driver.py'],1,d5c9cabc40d176e50d9b005229cdd9811434781d,train," if ovn_ls: commands.append(self.ovn_nbdb_api.ls_lb_del( ovn_ls.uuid, ovn_lb.uuid, if_exists=True)) # Nothing else to be done.", # Nothing to be done.,4,1
openstack%2Fopenstack-tempest-skiplist~master~I87530399be67c142d48422f4c693bf1776b1027b,openstack/openstack-tempest-skiplist,master,I87530399be67c142d48422f4c693bf1776b1027b,Update releases for fs62 group,MERGED,2022-10-18 10:22:25.000000000,2022-10-18 10:50:52.000000000,2022-10-18 10:49:49.000000000,"[{'_account_id': 8367}, {'_account_id': 22348}, {'_account_id': 30742}]","[{'number': 1, 'created': '2022-10-18 10:22:25.000000000', 'files': ['roles/validate-tempest/vars/tempest_allow.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/26e795fb4903e8049f399891e13fad48e5d26c8a', 'message': 'Update releases for fs62 group\n\nThis patch adds all rest releases except train release as\na exceptional case.\n\nChange-Id: I87530399be67c142d48422f4c693bf1776b1027b\n'}]",2,861731,26e795fb4903e8049f399891e13fad48e5d26c8a,8,3,1,31075,,,0,"Update releases for fs62 group

This patch adds all rest releases except train release as
a exceptional case.

Change-Id: I87530399be67c142d48422f4c693bf1776b1027b
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/31/861731/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_allow.yml'],1,26e795fb4903e8049f399891e13fad48e5d26c8a,change_fs62, - master - zed - wallaby, - all,3,1
openstack%2Fovn-octavia-provider~stable%2Fwallaby~I86aba3eee88b3da3cae7b57da2eabc6c3cb5d953,openstack/ovn-octavia-provider,stable/wallaby,I86aba3eee88b3da3cae7b57da2eabc6c3cb5d953,Ensure LB are removed from LS not connected to the LB LR,MERGED,2022-10-14 06:10:45.000000000,2022-10-18 10:31:43.000000000,2022-10-18 10:30:30.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-10-14 06:10:45.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/dc50d14a1f1c71f64c731ef5040ff51ef7a92c8e', 'message': 'Ensure LB are removed from LS not connected to the LB LR\n\nOnce the logical_switch (neutron subnet) is removed from the\nlogical_router (neutron router) where the OVN-LB VIP and members\nare connected to, there is no need to keep the LB added to that\nlogical_switch\n\nCloses-Bug: #1992356\nChange-Id: I86aba3eee88b3da3cae7b57da2eabc6c3cb5d953\n(cherry picked from commit 464cb97fadd7134814cadd171b4de8cd2eda530e)\n'}]",0,861296,dc50d14a1f1c71f64c731ef5040ff51ef7a92c8e,9,4,1,23567,,,0,"Ensure LB are removed from LS not connected to the LB LR

Once the logical_switch (neutron subnet) is removed from the
logical_router (neutron router) where the OVN-LB VIP and members
are connected to, there is no need to keep the LB added to that
logical_switch

Closes-Bug: #1992356
Change-Id: I86aba3eee88b3da3cae7b57da2eabc6c3cb5d953
(cherry picked from commit 464cb97fadd7134814cadd171b4de8cd2eda530e)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/96/861296/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,dc50d14a1f1c71f64c731ef5040ff51ef7a92c8e,," self.helper.ovn_nbdb_api.ls_lb_del.assert_called_once_with( self.network.uuid, self.ref_lb1.uuid, if_exists=True)", self.helper.ovn_nbdb_api.ls_lb_del.assert_not_called(),6,2
openstack%2Fovn-octavia-provider~stable%2Fvictoria~I86aba3eee88b3da3cae7b57da2eabc6c3cb5d953,openstack/ovn-octavia-provider,stable/victoria,I86aba3eee88b3da3cae7b57da2eabc6c3cb5d953,Ensure LB are removed from LS not connected to the LB LR,MERGED,2022-10-14 06:11:03.000000000,2022-10-18 10:29:14.000000000,2022-10-18 10:28:04.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-10-14 06:11:03.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/361f2ca155fff5107c4ae6bd5cd5b6673c84ec88', 'message': 'Ensure LB are removed from LS not connected to the LB LR\n\nOnce the logical_switch (neutron subnet) is removed from the\nlogical_router (neutron router) where the OVN-LB VIP and members\nare connected to, there is no need to keep the LB added to that\nlogical_switch\n\nCloses-Bug: #1992356\nChange-Id: I86aba3eee88b3da3cae7b57da2eabc6c3cb5d953\n(cherry picked from commit 464cb97fadd7134814cadd171b4de8cd2eda530e)\n'}]",0,861297,361f2ca155fff5107c4ae6bd5cd5b6673c84ec88,9,4,1,23567,,,0,"Ensure LB are removed from LS not connected to the LB LR

Once the logical_switch (neutron subnet) is removed from the
logical_router (neutron router) where the OVN-LB VIP and members
are connected to, there is no need to keep the LB added to that
logical_switch

Closes-Bug: #1992356
Change-Id: I86aba3eee88b3da3cae7b57da2eabc6c3cb5d953
(cherry picked from commit 464cb97fadd7134814cadd171b4de8cd2eda530e)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/97/861297/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,361f2ca155fff5107c4ae6bd5cd5b6673c84ec88,," self.helper.ovn_nbdb_api.ls_lb_del.assert_called_once_with( self.network.uuid, self.ref_lb1.uuid, if_exists=True)", self.helper.ovn_nbdb_api.ls_lb_del.assert_not_called(),6,2
openstack%2Fovn-octavia-provider~stable%2Fussuri~I86aba3eee88b3da3cae7b57da2eabc6c3cb5d953,openstack/ovn-octavia-provider,stable/ussuri,I86aba3eee88b3da3cae7b57da2eabc6c3cb5d953,Ensure LB are removed from LS not connected to the LB LR,MERGED,2022-10-14 06:36:25.000000000,2022-10-18 10:29:11.000000000,2022-10-18 10:28:03.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-10-14 06:36:25.000000000', 'files': ['ovn_octavia_provider/driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/8b3e5a134e2f638a3b0a02274148f5ac49443d08', 'message': 'Ensure LB are removed from LS not connected to the LB LR\n\nOnce the logical_switch (neutron subnet) is removed from the\nlogical_router (neutron router) where the OVN-LB VIP and members\nare connected to, there is no need to keep the LB added to that\nlogical_switch\n\n(manually-cherry picked from commit 464cb97fadd7134814cadd171b4de8cd2eda530e)\n\nCloses-Bug: #1992356\nChange-Id: I86aba3eee88b3da3cae7b57da2eabc6c3cb5d953\n(cherry picked from commit 464cb97fadd7134814cadd171b4de8cd2eda530e)\n'}]",1,861330,8b3e5a134e2f638a3b0a02274148f5ac49443d08,9,4,1,23567,,,0,"Ensure LB are removed from LS not connected to the LB LR

Once the logical_switch (neutron subnet) is removed from the
logical_router (neutron router) where the OVN-LB VIP and members
are connected to, there is no need to keep the LB added to that
logical_switch

(manually-cherry picked from commit 464cb97fadd7134814cadd171b4de8cd2eda530e)

Closes-Bug: #1992356
Change-Id: I86aba3eee88b3da3cae7b57da2eabc6c3cb5d953
(cherry picked from commit 464cb97fadd7134814cadd171b4de8cd2eda530e)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/30/861330/1 && git format-patch -1 --stdout FETCH_HEAD,['ovn_octavia_provider/driver.py'],1,8b3e5a134e2f638a3b0a02274148f5ac49443d08,ussuri," if ovn_ls: commands.append(self.ovn_nbdb_api.ls_lb_del( ovn_ls.uuid, ovn_lb.uuid, if_exists=True)) # Nothing else to be done.", # Nothing to be done.,4,1
openstack%2Fkolla-ansible~master~I12e155aa8114c1c45076880fb6e165347efe87cb,openstack/kolla-ansible,master,I12e155aa8114c1c45076880fb6e165347efe87cb,Remove parameters from cinder.conf in the current version,ABANDONED,2019-05-30 03:00:05.000000000,2022-10-18 10:22:42.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 03:00:05.000000000', 'files': ['ansible/roles/cinder/templates/cinder.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/00746bf856b4539707dc2988ea17209f2e0eded3', 'message': 'Remove parameters from cinder.conf in the current version\n\n1. glance_api_version\n2. os_region_name\n3. helper_command\n\nChange-Id: I12e155aa8114c1c45076880fb6e165347efe87cb\nCloses-tasks: #1830997\n'}]",1,662127,00746bf856b4539707dc2988ea17209f2e0eded3,4,2,1,25048,,,0,"Remove parameters from cinder.conf in the current version

1. glance_api_version
2. os_region_name
3. helper_command

Change-Id: I12e155aa8114c1c45076880fb6e165347efe87cb
Closes-tasks: #1830997
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/27/662127/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/cinder/templates/cinder.conf.j2'],1,00746bf856b4539707dc2988ea17209f2e0eded3,1830997,,glance_api_version = 2 os_region_name = {{ openstack_region_name }}[privsep_entrypoint] helper_command=sudo cinder-rootwrap /etc/cinder/rootwrap.conf privsep-helper --config-file /etc/cinder/cinder.conf ,0,6
openstack%2Fkolla-ansible~master~I75cedd8e36a53870c6daced15e4a224edaf53156,openstack/kolla-ansible,master,I75cedd8e36a53870c6daced15e4a224edaf53156,WIP: Add CI job for telemetry projects,ABANDONED,2018-12-18 17:47:33.000000000,2022-10-18 10:14:28.000000000,,"[{'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-18 17:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2832302dacacb8c16873e6252a1a88f75b1cd08a', 'message': 'WIP: Add CI job for telemetry projects\n\nChange-Id: I75cedd8e36a53870c6daced15e4a224edaf53156\n'}, {'number': 2, 'created': '2018-12-18 17:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/76002442681cef030f9f003cb5a4e053c6b0430f', 'message': 'WIP: Add CI job for telemetry projects\n\nChange-Id: I75cedd8e36a53870c6daced15e4a224edaf53156\n'}, {'number': 3, 'created': '2018-12-18 20:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7b57a4cab27b9950023995cb4b130f8c0517a90b', 'message': 'WIP: Add CI job for telemetry projects\n\nChange-Id: I75cedd8e36a53870c6daced15e4a224edaf53156\n'}, {'number': 4, 'created': '2018-12-19 08:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/45cf31f14db710055f1c21e60f2626586c1312c9', 'message': 'WIP: Add CI job for telemetry projects\n\nChange-Id: I75cedd8e36a53870c6daced15e4a224edaf53156\n'}, {'number': 5, 'created': '2018-12-19 08:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f3f47510ac374d4214da8fa163ebbd0c79a2c407', 'message': 'WIP: Add CI job for telemetry projects\n\nChange-Id: I75cedd8e36a53870c6daced15e4a224edaf53156\n'}, {'number': 6, 'created': '2018-12-19 08:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/007fc240f07f7e7b72ea80bd0aeef35066f6f905', 'message': 'WIP: Add CI job for telemetry projects\n\nChange-Id: I75cedd8e36a53870c6daced15e4a224edaf53156\n'}, {'number': 7, 'created': '2018-12-19 09:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/07b934b0f690caec599f4548f77053a97e112e37', 'message': 'WIP: Add CI job for telemetry projects\n\nChange-Id: I75cedd8e36a53870c6daced15e4a224edaf53156\n'}, {'number': 8, 'created': '2018-12-19 10:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/febb6947903dfbbe17ac81478fba6067a50b872d', 'message': 'WIP: Add CI job for telemetry projects\n\nChange-Id: I75cedd8e36a53870c6daced15e4a224edaf53156\n'}, {'number': 9, 'created': '2018-12-19 10:39:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/243c1db8a1bebc4de501892643d8f6c1f49aad02', 'message': 'WIP: Add CI job for telemetry projects\n\nChange-Id: I75cedd8e36a53870c6daced15e4a224edaf53156\n'}, {'number': 10, 'created': '2018-12-19 19:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/326befda5e89aed044ff61df1e75d64689b6f1ee', 'message': 'WIP: Add CI job for telemetry projects\n\nChange-Id: I75cedd8e36a53870c6daced15e4a224edaf53156\n'}, {'number': 11, 'created': '2019-04-05 08:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7d2527384ee2f0dee00b40261beb7ff9bba9247c', 'message': 'WIP: Add CI job for telemetry projects\n\nChange-Id: I75cedd8e36a53870c6daced15e4a224edaf53156\n'}, {'number': 12, 'created': '2019-04-05 08:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4dae49dd340bde35502a9deb698d52e9bbfa4c9e', 'message': 'WIP: Add CI job for telemetry projects\n\nChange-Id: I75cedd8e36a53870c6daced15e4a224edaf53156\n'}, {'number': 13, 'created': '2019-04-08 07:26:24.000000000', 'files': ['tests/test-scenario-telemetry.sh', 'tests/get_logs.sh', 'tests/run.yml', 'ansible/roles/aodh/templates/aodh.conf.j2', 'tests/templates/globals-default.j2', 'zuul.d/project.yaml', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2', 'zuul.d/jobs.yaml', 'tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fc74b30d38b2372337b616ef56339edbb7adc219', 'message': 'WIP: Add CI job for telemetry projects\n\nChange-Id: I75cedd8e36a53870c6daced15e4a224edaf53156\n'}]",4,625977,fc74b30d38b2372337b616ef56339edbb7adc219,28,2,13,19316,,,0,"WIP: Add CI job for telemetry projects

Change-Id: I75cedd8e36a53870c6daced15e4a224edaf53156
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/77/625977/4 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-scenario-telemetry.sh', 'tests/run.yml', 'ansible/roles/aodh/templates/aodh.conf.j2', 'tests/templates/globals-default.j2', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml', 'tools/setup_gate.sh']",7,2832302dacacb8c16873e6252a1a88f75b1cd08a,gate-telemetry," if [[ $ACTION == ""scenario_telemetry"" ]]; then GATE_IMAGES+="",aodh,ceilometer,gnocchi,panko"" fi ",,59,0
openstack%2Fkolla-ansible~master~I1da5efc5be0976fda8928a4c8f01d758cf62dd9b,openstack/kolla-ansible,master,I1da5efc5be0976fda8928a4c8f01d758cf62dd9b,Send notifications from Nova and Neutron to Vitrage,ABANDONED,2019-01-29 12:15:16.000000000,2022-10-18 10:13:34.000000000,,"[{'_account_id': 10068}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 29857}]","[{'number': 1, 'created': '2019-01-29 12:15:16.000000000', 'files': ['ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/neutron/templates/neutron.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f128d1be07ac32fda4c42c67bcb38238dc73faf1', 'message': 'Send notifications from Nova and Neutron to Vitrage\n\nIn case when Vitrage service is enabled Nova and Neutron services need to send notifications to the vitrage_notifications queue, this enables Vitrage to show changes in the topology in real time.\n\nChange-Id: I1da5efc5be0976fda8928a4c8f01d758cf62dd9b\n'}]",3,633708,f128d1be07ac32fda4c42c67bcb38238dc73faf1,8,5,1,29857,,,0,"Send notifications from Nova and Neutron to Vitrage

In case when Vitrage service is enabled Nova and Neutron services need to send notifications to the vitrage_notifications queue, this enables Vitrage to show changes in the topology in real time.

Change-Id: I1da5efc5be0976fda8928a4c8f01d758cf62dd9b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/08/633708/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/neutron/templates/neutron.conf.j2']",2,f128d1be07ac32fda4c42c67bcb38238dc73faf1,vitrage,"{% if enable_vitrage | bool %} notification_topics = notifications,vitrage_notifications notification_driver=messagingv2 {% endif %} ",,10,0
openstack%2Fkolla-ansible~master~Idd3d0cf21376c27e65e8b4fb624eeee094c3fa3a,openstack/kolla-ansible,master,Idd3d0cf21376c27e65e8b4fb624eeee094c3fa3a,Fix the configuration bug when using external ceph,ABANDONED,2019-01-21 02:13:47.000000000,2022-10-18 10:13:22.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 25977}]","[{'number': 1, 'created': '2019-01-21 02:13:47.000000000', 'files': ['ansible/roles/cinder/defaults/main.yml', 'ansible/roles/cinder/templates/cinder.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/806cb91b3c034c0a2b11bfe7a891c0e97d94d707', 'message': 'Fix the configuration bug when using external ceph\n\nThe varaible ""enable_ceph"" in global.yml will be set to ""No"" when\nan external ceph cluster is uesed. In this case, if ""enable_ceph""\nin main.yml and cinder.conf.j2 is not removed, the external ceph\ncluster info will not be enabled in cinder.conf.\n\nChange-Id: Idd3d0cf21376c27e65e8b4fb624eeee094c3fa3a\nCloses-Bug: 1709266\n'}]",0,632007,806cb91b3c034c0a2b11bfe7a891c0e97d94d707,7,3,1,25977,,,0,"Fix the configuration bug when using external ceph

The varaible ""enable_ceph"" in global.yml will be set to ""No"" when
an external ceph cluster is uesed. In this case, if ""enable_ceph""
in main.yml and cinder.conf.j2 is not removed, the external ceph
cluster info will not be enabled in cinder.conf.

Change-Id: Idd3d0cf21376c27e65e8b4fb624eeee094c3fa3a
Closes-Bug: 1709266
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/07/632007/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/cinder/defaults/main.yml', 'ansible/roles/cinder/templates/cinder.conf.j2']",2,806cb91b3c034c0a2b11bfe7a891c0e97d94d707,bug/1709266,{% if cinder_backend_ceph | bool %},{% if enable_ceph | bool and cinder_backend_ceph | bool %},2,2
openstack%2Fstevedore~stable%2Fxena~Ib9c2b0a14edea91e97d122d2ac93b650029f918e,openstack/stevedore,stable/xena,Ib9c2b0a14edea91e97d122d2ac93b650029f918e,"Fix compatibility with Python 3.12, importlib-metadata 5.0",MERGED,2022-10-05 10:17:13.000000000,2022-10-18 10:08:47.000000000,2022-10-18 10:07:38.000000000,"[{'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-10-05 10:17:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stevedore/commit/54acda936d41e9de7601b36223050faaccef8529', 'message': 'Fix compatibility with Python 3.12, importlib-metadata 5.0\n\nimportlib-metadata 5.0 has removed support for dict-style interaction\nwith entrypoints [1]. This is going to eventually affect us when Python\n3.12 is released but even before then anyone not properly using upper\nconstraints with an older Python 3.7-based release (the only Python\nversion where we require the third-party importlib-metadata package\nrather than the stdlib importlib.metadata package) will be bitten. Fix\nit now to address both.\n\n[1] https://github.com/python/importlib_metadata/commit/dde2b9de2973ce1c6fa9ba21dfe81069b0baa77b\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Ib9c2b0a14edea91e97d122d2ac93b650029f918e\nCloses-Bug: #1991559\n(cherry picked from commit 28fc7164dace83abc3ecc06fcb56f7ca880d735a)\n(cherry picked from commit 1e4d71d4b552494ff33ad03b76d2a590d58efe77)\n(cherry picked from commit 143a3e9f0716690be7343d4d083f65d7624b3d2e)\n'}, {'number': 2, 'created': '2022-10-13 13:42:57.000000000', 'files': ['stevedore/tests/test_cache.py', 'stevedore/_cache.py'], 'web_link': 'https://opendev.org/openstack/stevedore/commit/97dee6c435e4609231c96106fe253a1d9749d9cc', 'message': 'Fix compatibility with Python 3.12, importlib-metadata 5.0\n\nimportlib-metadata 5.0 has removed support for dict-style interaction\nwith entrypoints [1]. This is going to eventually affect us when Python\n3.12 is released but even before then anyone not properly using upper\nconstraints with an older Python 3.7-based release (the only Python\nversion where we require the third-party importlib-metadata package\nrather than the stdlib importlib.metadata package) will be bitten. Fix\nit now to address both.\n\n[1] https://github.com/python/importlib_metadata/commit/dde2b9de2973ce1c6fa9ba21dfe81069b0baa77b\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Ib9c2b0a14edea91e97d122d2ac93b650029f918e\nCloses-Bug: #1991559\n(cherry picked from commit 28fc7164dace83abc3ecc06fcb56f7ca880d735a)\n(cherry picked from commit 1e4d71d4b552494ff33ad03b76d2a590d58efe77)\n(cherry picked from commit 143a3e9f0716690be7343d4d083f65d7624b3d2e)\n'}]",0,860396,97dee6c435e4609231c96106fe253a1d9749d9cc,9,2,2,15334,,,0,"Fix compatibility with Python 3.12, importlib-metadata 5.0

importlib-metadata 5.0 has removed support for dict-style interaction
with entrypoints [1]. This is going to eventually affect us when Python
3.12 is released but even before then anyone not properly using upper
constraints with an older Python 3.7-based release (the only Python
version where we require the third-party importlib-metadata package
rather than the stdlib importlib.metadata package) will be bitten. Fix
it now to address both.

[1] https://github.com/python/importlib_metadata/commit/dde2b9de2973ce1c6fa9ba21dfe81069b0baa77b

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: Ib9c2b0a14edea91e97d122d2ac93b650029f918e
Closes-Bug: #1991559
(cherry picked from commit 28fc7164dace83abc3ecc06fcb56f7ca880d735a)
(cherry picked from commit 1e4d71d4b552494ff33ad03b76d2a590d58efe77)
(cherry picked from commit 143a3e9f0716690be7343d4d083f65d7624b3d2e)
",git fetch https://review.opendev.org/openstack/stevedore refs/changes/96/860396/1 && git format-patch -1 --stdout FETCH_HEAD,"['stevedore/tests/test_cache.py', 'stevedore/_cache.py']",2,54acda936d41e9de7601b36223050faaccef8529,bug/1966040,"def _build_cacheable_data(): if not isinstance(real_groups, dict): # importlib-metadata 4.0 or later (or stdlib importlib.metadata in # Python 3.9 or later) real_groups = { name: real_groups.select(name=name) for name in real_groups.names } data = _build_cacheable_data()",def _build_cacheable_data(path): data = _build_cacheable_data(path),18,2
openstack%2Fkolla-ansible~master~Ife9a1a5e0a2d3f1af6da4308ec91e473c8115eed,openstack/kolla-ansible,master,Ife9a1a5e0a2d3f1af6da4308ec91e473c8115eed,Add cron custom jobs,ABANDONED,2019-01-05 03:24:51.000000000,2022-10-18 10:08:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-01-05 03:24:51.000000000', 'files': ['ansible/roles/common/templates/cron.json.j2', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/common/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2e8fbe569d487169147f7b52de3f29714f3818d8', 'message': 'Add cron custom jobs\n\nChange-Id: Ife9a1a5e0a2d3f1af6da4308ec91e473c8115eed\n'}]",0,628715,2e8fbe569d487169147f7b52de3f29714f3818d8,3,1,1,19930,,,0,"Add cron custom jobs

Change-Id: Ife9a1a5e0a2d3f1af6da4308ec91e473c8115eed
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/15/628715/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/templates/cron.json.j2', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/common/handlers/main.yml']",3,2e8fbe569d487169147f7b52de3f29714f3818d8,, or cron_custom.changed | bool,,24,0
openstack%2Fkolla-ansible~master~I47f15b5f5e516326a70b0cc389f5d4b448060925,openstack/kolla-ansible,master,I47f15b5f5e516326a70b0cc389f5d4b448060925,Improvement of destroy action,ABANDONED,2018-12-04 02:31:52.000000000,2022-10-18 10:07:38.000000000,,"[{'_account_id': 14826}, {'_account_id': 19779}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 27336}]","[{'number': 1, 'created': '2018-12-04 02:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/435bd698f98fc409f2e5672b9d0dc9b81dce8027', 'message': 'Improvement of destroy action\n\nIf the deployment host is not being used for any role, there is no\nneed to run destroy.yml on it.\n\nChange-Id: I47f15b5f5e516326a70b0cc389f5d4b448060925\nCloses-Bug: #1805596\n'}, {'number': 2, 'created': '2018-12-05 08:57:10.000000000', 'files': ['ansible/destroy.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4fa4e93894a1fa07b92dd2af08e9677ac2c74c3d', 'message': 'Improvement of destroy action\n\nIf the deployment host is not being used for any role, there is no\nneed to run destroy.yml on it.\n\nChange-Id: I47f15b5f5e516326a70b0cc389f5d4b448060925\nCloses-Bug: #1805596\n'}]",3,621851,4fa4e93894a1fa07b92dd2af08e9677ac2c74c3d,14,6,2,19779,,,0,"Improvement of destroy action

If the deployment host is not being used for any role, there is no
need to run destroy.yml on it.

Change-Id: I47f15b5f5e516326a70b0cc389f5d4b448060925
Closes-Bug: #1805596
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/51/621851/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/inventory/multinode', 'ansible/destroy.yml']",2,435bd698f98fc409f2e5672b9d0dc9b81dce8027,bug/1805596," hosts: - all - ""!deployment""", hosts: all,5,1
openstack%2Fkolla-ansible~master~Ica98d91e996d4dd938fe277d8cb64850aef0f564,openstack/kolla-ansible,master,Ica98d91e996d4dd938fe277d8cb64850aef0f564,Don't copy ceph keyring if external_ceph_cephx_enabled is true in gnocchi,ABANDONED,2018-12-05 04:12:43.000000000,2022-10-18 10:07:22.000000000,,"[{'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 04:12:43.000000000', 'files': ['ansible/roles/gnocchi/tasks/external_ceph.yml', 'ansible/roles/gnocchi/templates/gnocchi-api.json.j2', 'ansible/roles/gnocchi/templates/gnocchi-metricd.json.j2', 'ansible/roles/gnocchi/templates/gnocchi-statsd.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1595ead42aee0068e12ce6807361a8e9f31d5009', 'message': ""Don't copy ceph keyring if external_ceph_cephx_enabled is true in gnocchi\n\nceph keyring useless if ceph cephx is disabled.\n\nChange-Id: Ica98d91e996d4dd938fe277d8cb64850aef0f564\n""}]",3,622787,1595ead42aee0068e12ce6807361a8e9f31d5009,4,2,1,7488,,,0,"Don't copy ceph keyring if external_ceph_cephx_enabled is true in gnocchi

ceph keyring useless if ceph cephx is disabled.

Change-Id: Ica98d91e996d4dd938fe277d8cb64850aef0f564
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/87/622787/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/gnocchi/tasks/external_ceph.yml', 'ansible/roles/gnocchi/templates/gnocchi-api.json.j2', 'ansible/roles/gnocchi/templates/gnocchi-metricd.json.j2', 'ansible/roles/gnocchi/templates/gnocchi-statsd.json.j2']",4,1595ead42aee0068e12ce6807361a8e9f31d5009,," }{% if external_ceph_cephx_enabled | bool %}, }{% endif %}{% endif %}"," }, }{% endif %}",9,7
openstack%2Fkolla-ansible~master~I5e511b96857c01c09a9e94ccb9bb5d42452c4577,openstack/kolla-ansible,master,I5e511b96857c01c09a9e94ccb9bb5d42452c4577,[wip] use match test instead of equalto,ABANDONED,2018-11-28 02:50:10.000000000,2022-10-18 10:07:07.000000000,,"[{'_account_id': 7488}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 02:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bd86ad61d7211f87176ba1e3bfeb9849d0a76035', 'message': '[wip] use match test instead of equalto\n\nChange-Id: I5e511b96857c01c09a9e94ccb9bb5d42452c4577\n'}, {'number': 2, 'created': '2018-11-28 03:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aa072591b13c710bd5505e6aa342f5a811d134eb', 'message': '[wip] use match test instead of equalto\n\nChange-Id: I5e511b96857c01c09a9e94ccb9bb5d42452c4577\n'}, {'number': 3, 'created': '2018-11-28 04:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d79b835f1389b2b2869aa79c9878123d809dde4d', 'message': '[wip] use match test instead of equalto\n\nChange-Id: I5e511b96857c01c09a9e94ccb9bb5d42452c4577\n'}, {'number': 4, 'created': '2018-11-28 08:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/91466408826a4880b213a36b5355f26b3ba3da8e', 'message': '[wip] use match test instead of equalto\n\nChange-Id: I5e511b96857c01c09a9e94ccb9bb5d42452c4577\n'}, {'number': 5, 'created': '2018-11-28 12:08:36.000000000', 'files': ['ansible/roles/blazar/tasks/bootstrap_service.yml', 'ansible/roles/congress/tasks/bootstrap_service.yml', 'ansible/roles/manila/handlers/main.yml', 'ansible/roles/senlin/tasks/config.yml', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/kafka/handlers/main.yml', 'ansible/roles/mistral/handlers/main.yml', 'ansible/roles/cloudkitty/tasks/config.yml', 'ansible/roles/barbican/tasks/config.yml', 'ansible/roles/heat/tasks/bootstrap_service.yml', 'ansible/roles/neutron/handlers/main.yml', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/horizon/tasks/config.yml', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/magnum/tasks/config.yml', 'ansible/roles/zun/tasks/bootstrap_service.yml', 'ansible/roles/keystone/tasks/config.yml', 'ansible/roles/murano/handlers/main.yml', 'ansible/roles/ironic/tasks/config.yml', 'ansible/roles/watcher/handlers/main.yml', 'ansible/roles/murano/defaults/main.yml', 'ansible/roles/influxdb/handlers/main.yml', 'ansible/roles/octavia/handlers/main.yml', 'ansible/roles/senlin/handlers/main.yml', 'ansible/roles/rabbitmq/handlers/main.yml', 'ansible/roles/skydive/handlers/main.yml', 'ansible/roles/sahara/tasks/bootstrap_service.yml', 'ansible/roles/watcher/tasks/config.yml', 'ansible/roles/tacker/tasks/config.yml', 'ansible/roles/ironic/tasks/bootstrap_service.yml', 'ansible/roles/mariadb/handlers/main.yml', 'ansible/roles/vitrage/tasks/bootstrap_service.yml', 'ansible/roles/karbor/handlers/main.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/common/handlers/main.yml', 'ansible/roles/vitrage/tasks/config.yml', 'ansible/roles/watcher/defaults/main.yml', 'ansible/roles/congress/handlers/main.yml', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/aodh/tasks/bootstrap_service.yml', 'ansible/roles/gnocchi/handlers/main.yml', 'ansible/roles/ceilometer/tasks/bootstrap_service.yml', 'ansible/roles/trove/tasks/config.yml', 'ansible/roles/freezer/tasks/bootstrap_service.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/barbican/handlers/main.yml', 'ansible/roles/kibana/handlers/main.yml', 'ansible/roles/sahara/handlers/main.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/heat/tasks/config.yml', 'ansible/roles/ironic/handlers/main.yml', 'ansible/roles/ceilometer/handlers/main.yml', 'ansible/roles/cloudkitty/handlers/main.yml', 'ansible/roles/magnum/tasks/bootstrap_service.yml', 'ansible/roles/senlin/defaults/main.yml', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/cinder/handlers/main.yml', 'ansible/roles/etcd/handlers/main.yml', 'ansible/roles/tacker/defaults/main.yml', 'ansible/roles/cinder/tasks/config.yml', 'ansible/roles/grafana/handlers/main.yml', 'ansible/roles/glance/tasks/config.yml', 'ansible/roles/cloudkitty/tasks/bootstrap_service.yml', 'ansible/roles/congress/tasks/config.yml', 'ansible/roles/sahara/tasks/config.yml', 'ansible/roles/elasticsearch/handlers/main.yml', 'ansible/roles/manila/templates/manila.conf.j2', 'ansible/roles/multipathd/handlers/main.yml', 'ansible/roles/blazar/tasks/config.yml', 'ansible/roles/prometheus/handlers/main.yml', 'ansible/roles/zun/tasks/config.yml', 'ansible/roles/ceilometer/tasks/config.yml', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/solum/tasks/config.yml', 'ansible/roles/barbican/tasks/bootstrap_service.yml', 'ansible/roles/trove/tasks/bootstrap_service.yml', 'ansible/roles/vitrage/handlers/main.yml', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/vmtp/handlers/main.yml', 'ansible/roles/magnum/handlers/main.yml', 'ansible/roles/horizon/tasks/bootstrap_service.yml', 'ansible/roles/congress/defaults/main.yml', 'ansible/roles/freezer/handlers/main.yml', 'ansible/roles/blazar/defaults/main.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/solum/defaults/main.yml', 'ansible/roles/watcher/tasks/bootstrap_service.yml', 'ansible/roles/mistral/tasks/bootstrap_service.yml', 'ansible/roles/nova/tasks/rolling_upgrade.yml', 'ansible/roles/manila/tasks/bootstrap_service.yml', 'ansible/roles/telegraf/handlers/main.yml', 'ansible/roles/sahara/defaults/main.yml', 'ansible/roles/barbican/defaults/main.yml', 'ansible/roles/collectd/handlers/main.yml', 'ansible/roles/ovs-dpdk/handlers/main.yml', 'ansible/roles/trove/defaults/main.yml', 'ansible/roles/designate/tasks/config.yml', 'ansible/roles/rally/handlers/main.yml', 'ansible/roles/senlin/tasks/bootstrap_service.yml', 'ansible/roles/kuryr/handlers/main.yml', 'ansible/roles/aodh/defaults/main.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/blazar/handlers/main.yml', 'ansible/roles/storm/handlers/main.yml', 'ansible/roles/searchlight/handlers/main.yml', 'ansible/roles/magnum/defaults/main.yml', 'ansible/roles/zun/defaults/main.yml', 'ansible/roles/glance/tasks/bootstrap_service.yml', 'ansible/roles/mistral/defaults/main.yml', 'ansible/roles/mistral/tasks/config.yml', 'ansible/roles/designate/tasks/bootstrap_service.yml', 'ansible/roles/heat/handlers/main.yml', 'ansible/roles/solum/handlers/main.yml', 'ansible/roles/zookeeper/handlers/main.yml', 'ansible/roles/neutron/tasks/precheck.yml', 'ansible/roles/mongodb/handlers/main.yml', 'ansible/roles/solum/tasks/bootstrap_service.yml', 'ansible/roles/horizon/handlers/main.yml', 'ansible/roles/aodh/handlers/main.yml', 'ansible/roles/keystone/tasks/bootstrap_service.yml', 'ansible/roles/tempest/handlers/main.yml', 'ansible/roles/nova/handlers/main.yml', 'ansible/roles/zun/handlers/main.yml', 'ansible/roles/panko/handlers/main.yml', 'ansible/roles/tacker/handlers/main.yml', 'ansible/roles/monasca/handlers/main.yml', 'ansible/roles/qdrouterd/handlers/main.yml', 'ansible/roles/manila/tasks/config.yml', 'ansible/roles/keystone/handlers/main.yml', 'ansible/roles/aodh/tasks/config.yml', 'ansible/roles/cinder/tasks/bootstrap_service.yml', 'ansible/roles/tacker/tasks/bootstrap_service.yml', 'ansible/roles/designate/handlers/main.yml', 'ansible/roles/vitrage/defaults/main.yml', 'ansible/roles/nova/tasks/bootstrap_service.yml', 'ansible/roles/trove/handlers/main.yml', 'ansible/roles/nova/tasks/config.yml', 'ansible/roles/glance/handlers/main.yml', 'ansible/roles/ceilometer/defaults/main.yml', 'ansible/roles/cinder/tasks/upgrade.yml', 'ansible/roles/openvswitch/handlers/main.yml', 'ansible/roles/glance/tasks/rolling_upgrade.yml', 'ansible/roles/freezer/tasks/config.yml', 'ansible/roles/redis/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3c78132023c193cf33c91c6e59d1ab2fca3443b8', 'message': '[wip] use match test instead of equalto\n\nChange-Id: I5e511b96857c01c09a9e94ccb9bb5d42452c4577\n'}]",0,620438,3c78132023c193cf33c91c6e59d1ab2fca3443b8,15,3,5,7488,,,0,"[wip] use match test instead of equalto

Change-Id: I5e511b96857c01c09a9e94ccb9bb5d42452c4577
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/38/620438/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/blazar/tasks/bootstrap_service.yml', 'ansible/roles/congress/tasks/bootstrap_service.yml', 'ansible/roles/manila/handlers/main.yml', 'ansible/roles/senlin/tasks/config.yml', 'ansible/roles/kafka/handlers/main.yml', 'ansible/roles/mistral/handlers/main.yml', 'ansible/roles/cloudkitty/tasks/config.yml', 'ansible/roles/barbican/tasks/config.yml', 'ansible/roles/heat/tasks/bootstrap_service.yml', 'ansible/roles/neutron/handlers/main.yml', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/magnum/tasks/config.yml', 'ansible/roles/zun/tasks/bootstrap_service.yml', 'ansible/roles/keystone/tasks/config.yml', 'ansible/roles/murano/handlers/main.yml', 'ansible/roles/ironic/tasks/config.yml', 'ansible/roles/watcher/handlers/main.yml', 'ansible/roles/influxdb/handlers/main.yml', 'ansible/roles/octavia/handlers/main.yml', 'ansible/roles/senlin/handlers/main.yml', 'ansible/roles/rabbitmq/handlers/main.yml', 'ansible/roles/skydive/handlers/main.yml', 'ansible/roles/sahara/tasks/bootstrap_service.yml', 'ansible/roles/watcher/tasks/config.yml', 'ansible/roles/tacker/tasks/config.yml', 'ansible/roles/ironic/tasks/bootstrap_service.yml', 'ansible/roles/mariadb/handlers/main.yml', 'ansible/roles/vitrage/tasks/bootstrap_service.yml', 'ansible/roles/karbor/handlers/main.yml', 'ansible/roles/common/handlers/main.yml', 'ansible/roles/vitrage/tasks/config.yml', 'ansible/roles/congress/handlers/main.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/aodh/tasks/bootstrap_service.yml', 'ansible/roles/gnocchi/handlers/main.yml', 'ansible/roles/ceilometer/tasks/bootstrap_service.yml', 'ansible/roles/trove/tasks/config.yml', 'ansible/roles/freezer/tasks/bootstrap_service.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/barbican/handlers/main.yml', 'ansible/roles/kibana/handlers/main.yml', 'ansible/roles/sahara/handlers/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/heat/tasks/config.yml', 'ansible/roles/ironic/handlers/main.yml', 'ansible/roles/ceilometer/handlers/main.yml', 'ansible/roles/cloudkitty/handlers/main.yml', 'ansible/roles/magnum/tasks/bootstrap_service.yml', 'ansible/roles/cinder/handlers/main.yml', 'ansible/roles/etcd/handlers/main.yml', 'ansible/roles/cinder/tasks/config.yml', 'ansible/roles/grafana/handlers/main.yml', 'ansible/roles/glance/tasks/config.yml', 'ansible/roles/cloudkitty/tasks/bootstrap_service.yml', 'ansible/roles/congress/tasks/config.yml', 'ansible/roles/sahara/tasks/config.yml', 'ansible/roles/elasticsearch/handlers/main.yml', 'ansible/roles/manila/templates/manila.conf.j2', 'ansible/roles/multipathd/handlers/main.yml', 'ansible/roles/blazar/tasks/config.yml', 'ansible/roles/prometheus/handlers/main.yml', 'ansible/roles/zun/tasks/config.yml', 'ansible/roles/ceilometer/tasks/config.yml', 'ansible/roles/solum/tasks/config.yml', 'ansible/roles/barbican/tasks/bootstrap_service.yml', 'ansible/roles/trove/tasks/bootstrap_service.yml', 'ansible/roles/vitrage/handlers/main.yml', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/vmtp/handlers/main.yml', 'ansible/roles/magnum/handlers/main.yml', 'ansible/roles/freezer/handlers/main.yml', 'ansible/roles/watcher/tasks/bootstrap_service.yml', 'ansible/roles/mistral/tasks/bootstrap_service.yml', 'ansible/roles/manila/tasks/bootstrap_service.yml', 'ansible/roles/telegraf/handlers/main.yml', 'ansible/roles/collectd/handlers/main.yml', 'ansible/roles/ovs-dpdk/handlers/main.yml', 'ansible/roles/designate/tasks/config.yml', 'ansible/roles/rally/handlers/main.yml', 'ansible/roles/senlin/tasks/bootstrap_service.yml', 'ansible/roles/kuryr/handlers/main.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/blazar/handlers/main.yml', 'ansible/roles/storm/handlers/main.yml', 'ansible/roles/searchlight/handlers/main.yml', 'ansible/roles/glance/tasks/bootstrap_service.yml', 'ansible/roles/mistral/tasks/config.yml', 'ansible/roles/designate/tasks/bootstrap_service.yml', 'ansible/roles/heat/handlers/main.yml', 'ansible/roles/solum/handlers/main.yml', 'ansible/roles/zookeeper/handlers/main.yml', 'ansible/roles/neutron/tasks/precheck.yml', 'ansible/roles/mongodb/handlers/main.yml', 'ansible/roles/solum/tasks/bootstrap_service.yml', 'ansible/roles/aodh/handlers/main.yml', 'ansible/roles/keystone/tasks/bootstrap_service.yml', 'ansible/roles/tempest/handlers/main.yml', 'ansible/roles/nova/handlers/main.yml', 'ansible/roles/zun/handlers/main.yml', 'ansible/roles/panko/handlers/main.yml', 'ansible/roles/tacker/handlers/main.yml', 'ansible/roles/monasca/handlers/main.yml', 'ansible/roles/qdrouterd/handlers/main.yml', 'ansible/roles/manila/tasks/config.yml', 'ansible/roles/keystone/handlers/main.yml', 'ansible/roles/aodh/tasks/config.yml', 'ansible/roles/cinder/tasks/bootstrap_service.yml', 'ansible/roles/tacker/tasks/bootstrap_service.yml', 'ansible/roles/designate/handlers/main.yml', 'ansible/roles/vitrage/defaults/main.yml', 'ansible/roles/nova/tasks/bootstrap_service.yml', 'ansible/roles/trove/handlers/main.yml', 'ansible/roles/nova/tasks/config.yml', 'ansible/roles/glance/handlers/main.yml', 'ansible/roles/openvswitch/handlers/main.yml', 'ansible/roles/freezer/tasks/config.yml', 'ansible/roles/redis/handlers/main.yml']",117,bd86ad61d7211f87176ba1e3bfeb9849d0a76035,," config_json: ""{{ redis_config_jsons.results|selectattr('item.key', 'match', service_name)|first }}"" redis_conf: ""{{ redis_confs.results|selectattr('item.key', 'match', service_name)|first }}"" redis_container: ""{{ check_redis_containers.results|selectattr('item.key', 'match', service_name)|first }}"" config_json: ""{{ redis_config_jsons.results|selectattr('item.key', 'match', service_name)|first }}"" redis_conf: ""{{ redis_confs.results|selectattr('item.key', 'match', service_name)|first }}"" redis_container: ""{{ check_redis_containers.results|selectattr('item.key', 'match', service_name)|first }}"""," config_json: ""{{ redis_config_jsons.results|selectattr('item.key', 'equalto', service_name)|first }}"" redis_conf: ""{{ redis_confs.results|selectattr('item.key', 'equalto', service_name)|first }}"" redis_container: ""{{ check_redis_containers.results|selectattr('item.key', 'equalto', service_name)|first }}"" config_json: ""{{ redis_config_jsons.results|selectattr('item.key', 'equalto', service_name)|first }}"" redis_conf: ""{{ redis_confs.results|selectattr('item.key', 'equalto', service_name)|first }}"" redis_container: ""{{ check_redis_containers.results|selectattr('item.key', 'equalto', service_name)|first }}""",733,733
openstack%2Fkolla-ansible~master~Ib120e7eee18b54aa330c96b429a5326490f10a5a,openstack/kolla-ansible,master,Ib120e7eee18b54aa330c96b429a5326490f10a5a,Test stop containers in gate,ABANDONED,2018-11-22 11:14:59.000000000,2022-10-18 10:06:09.000000000,,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-22 11:14:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a8e45d807072da9de8dc56f39b052733571a6d4f', 'message': 'Test stop containers in gate\n\nDepends-On: Ifde7a39d7d8596ef0d7405ecf1ac1d49a459d9ef\nChange-Id: Ib120e7eee18b54aa330c96b429a5326490f10a5a\n'}, {'number': 2, 'created': '2018-11-22 11:15:53.000000000', 'files': ['tests/run.yml', 'tests/stop.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/db50fc9d4b43e4c019c574658362c1fe20d8019a', 'message': 'Test stop containers in gate\n\nDepends-On: Ifde7a39d7d8596ef0d7405ecf1ac1d49a459d9ef\nChange-Id: Ib120e7eee18b54aa330c96b429a5326490f10a5a\n'}]",0,619521,db50fc9d4b43e4c019c574658362c1fe20d8019a,6,3,2,19316,,,0,"Test stop containers in gate

Depends-On: Ifde7a39d7d8596ef0d7405ecf1ac1d49a459d9ef
Change-Id: Ib120e7eee18b54aa330c96b429a5326490f10a5a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/21/619521/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/run.yml', 'tests/stop.sh']",2,a8e45d807072da9de8dc56f39b052733571a6d4f,test-stop-in-ci,#!/bin/bash set -o xtrace set -o errexit # Enable unbuffered output for Ansible in Jenkins. export PYTHONUNBUFFERED=1 function upgrade { RAW_INVENTORY=/etc/kolla/inventory # TODO(egonzalez): Skip some containers to stop and verify tools/kolla-ansible -i ${RAW_INVENTORY} -vvv stop --yes-i-really-really-mean-it > /tmp/logs/ansible/stop } upgrade ,,25,0
openstack%2Fkolla-ansible~master~Ie19a8f578cb1c63739c88a163ea465e420d6fa14,openstack/kolla-ansible,master,Ie19a8f578cb1c63739c88a163ea465e420d6fa14,Implement cinder-volume-hyperv ansible role,ABANDONED,2017-09-29 14:43:17.000000000,2022-10-18 10:04:45.000000000,,"[{'_account_id': 1390}, {'_account_id': 7488}, {'_account_id': 16006}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23267}, {'_account_id': 23717}]","[{'number': 1, 'created': '2017-09-29 14:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d028b9ac16dd305608725812f88a9a3fe1007368', 'message': 'Implement cinder-smb-hyperv ansible role\n\nImplement an ansible role that will deploy cinder-volume-smb as a cinder\nvolume backend on HyperV compute nodes.\n\nThis will install and configure the cinder-volume-smb on the HyperV host.\nThis role does not handle the creation of the SMB share, so this\nneeds to be already configured.\nhttps://docs.openstack.org/ocata/config-reference/block-storage/drivers/smbfs-volume-driver.html\n\nChange-Id: Ie19a8f578cb1c63739c88a163ea465e420d6fa14\nImplements: blueprint cinder-smb-hyperv-ansible-role\n'}, {'number': 2, 'created': '2017-10-02 11:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/89743865a659a48f83a9c4b1ad1257dd39c513a0', 'message': 'Implement cinder-smb-hyperv ansible role\n\nImplement an ansible role that will deploy cinder-volume-smb as a cinder\nvolume backend on HyperV compute nodes.\n\nThis will install and configure the cinder-volume-smb on the HyperV host.\nThis role does not handle the creation of the SMB share, so this\nneeds to be already configured.\nhttps://docs.openstack.org/ocata/config-reference/block-storage/drivers/smbfs-volume-driver.html\n\nChange-Id: Ie19a8f578cb1c63739c88a163ea465e420d6fa14\nImplements: blueprint cinder-smb-hyperv-ansible-role\n'}, {'number': 3, 'created': '2017-12-08 13:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9981cba56e77f1b9ad8b6a10f29646497e764472', 'message': 'Implement cinder-smb-hyperv ansible role\n\nImplement an ansible role that will deploy cinder-volume-smb as a cinder\nvolume backend on HyperV compute nodes.\n\nThis will install and configure the cinder-volume-smb on the HyperV host.\nThis role does not handle the creation of the SMB share, so this\nneeds to be already configured.\nhttps://docs.openstack.org/ocata/config-reference/block-storage/drivers/smbfs-volume-driver.html\n\nChange-Id: Ie19a8f578cb1c63739c88a163ea465e420d6fa14\nImplements: blueprint cinder-smb-hyperv-ansible-role\n'}, {'number': 4, 'created': '2018-01-29 14:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/eb538c331616f3652bf8e3de8027c2a496133e99', 'message': 'Implement cinder-smb-hyperv ansible role\n\nImplement an ansible role that will deploy cinder-volume-smb as a cinder\nvolume backend on HyperV compute nodes.\n\nThis will install and configure the cinder-volume-smb on the HyperV host.\nThis role does not handle the creation of the SMB share, so this\nneeds to be already configured.\nhttps://docs.openstack.org/ocata/config-reference/block-storage/drivers/smbfs-volume-driver.html\n\nChange-Id: Ie19a8f578cb1c63739c88a163ea465e420d6fa14\nImplements: blueprint cinder-smb-hyperv-ansible-role\n'}, {'number': 5, 'created': '2018-01-29 15:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/64f1d82c3b554b34a92d468b55973a671c4efe1f', 'message': 'Implement cinder-smb-hyperv ansible role\n\nImplement an ansible role that will deploy cinder-volume-smb as a cinder\nvolume backend on HyperV compute nodes.\n\nThis will install and configure the cinder-volume-smb on the HyperV host.\nThis role does not handle the creation of the SMB share, so this\nneeds to be already configured.\nhttps://docs.openstack.org/ocata/config-reference/block-storage/drivers/smbfs-volume-driver.html\n\nChange-Id: Ie19a8f578cb1c63739c88a163ea465e420d6fa14\nImplements: blueprint cinder-smb-hyperv-ansible-role\n'}, {'number': 6, 'created': '2018-02-09 11:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7ebd475960e4ac5c88d7d887c98063a9666f740a', 'message': 'Implement cinder-smb-hyperv ansible role\n\nImplement an ansible role that will deploy cinder-volume-smb as a cinder\nvolume backend on HyperV compute nodes.\n\nThis will install and configure the cinder-volume-smb on the HyperV host.\nThis role does not handle the creation of the SMB share, so this\nneeds to be already configured.\nhttps://docs.openstack.org/ocata/config-reference/block-storage/drivers/smbfs-volume-driver.html\n\nChange-Id: Ie19a8f578cb1c63739c88a163ea465e420d6fa14\nImplements: blueprint cinder-smb-hyperv-ansible-role\n'}, {'number': 7, 'created': '2018-02-09 12:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6e2f414a3bb7562bcaa61dd452ef0b255568384e', 'message': 'Implement cinder-smb-hyperv ansible role\n\nImplement an ansible role that will deploy cinder-volume-smb as a cinder\nvolume backend on HyperV compute nodes.\n\nThis will install and configure the cinder-volume-smb on the HyperV host.\nThis role does not handle the creation of the SMB share, so this\nneeds to be already configured.\nhttps://docs.openstack.org/ocata/config-reference/block-storage/drivers/smbfs-volume-driver.html\n\nChange-Id: Ie19a8f578cb1c63739c88a163ea465e420d6fa14\nImplements: blueprint cinder-smb-hyperv-ansible-role\n'}, {'number': 8, 'created': '2018-02-09 17:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b0c4982f7208bb1dc4cf912aff960dba89815693', 'message': 'Implement cinder-smb-hyperv ansible role\n\nImplement an ansible role that will deploy cinder-volume-smb as a cinder\nvolume backend on HyperV compute nodes.\n\nThis will install and configure the cinder-volume-smb on the HyperV host.\nThis role does not handle the creation of the SMB share, so this\nneeds to be already configured.\nhttps://docs.openstack.org/ocata/config-reference/block-storage/drivers/smbfs-volume-driver.html\n\nChange-Id: Ie19a8f578cb1c63739c88a163ea465e420d6fa14\nImplements: blueprint cinder-smb-hyperv-ansible-role\n'}, {'number': 9, 'created': '2018-02-09 17:32:11.000000000', 'files': ['doc/source/reference/hyperv-guide.rst', 'releasenotes/notes/cinder-smb-hyperv-00bfea8253d2e803.yaml', 'ansible/roles/cinder-volume-hyperv/templates/cinder_hyperv.conf.j2', 'ansible/roles/cinder-volume-hyperv/handlers/main.yaml', 'ansible/site.yml', 'ansible/roles/cinder-volume-hyperv/templates/smbfs_shares_list.j2', 'ansible/roles/cinder-volume-hyperv/tasks/upgrade.yml', 'ansible/roles/cinder-volume-hyperv/tasks/precheck.yml', 'ansible/roles/cinder-volume-hyperv/tasks/pull.yml', 'ansible/group_vars/all.yml', 'ansible/roles/cinder-volume-hyperv/defaults/main.yml', 'ansible/roles/cinder-volume-hyperv/tasks/config.yml', 'ansible/roles/cinder-volume-hyperv/tasks/reconfigure.yml', 'ansible/roles/cinder-volume-hyperv/tasks/main.yml', 'etc/kolla/globals.yml', 'ansible/roles/cinder-volume-hyperv/tasks/check.yml', 'ansible/roles/cinder-volume-hyperv/tasks/install.yml', 'ansible/roles/cinder-volume-hyperv/tasks/deploy.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/63ba281d5f3c905b4b11bf5371d3498b8f216b51', 'message': 'Implement cinder-volume-hyperv ansible role\n\nImplement an ansible role that will deploy cinder-volume as a cinder\nvolume smb backend on HyperV compute nodes.\n\nThis will install and configure the cinder-volume on the HyperV host.\ncinder-volume is also capable to handle iSCSI backend, but only\nsmb backed is configured with this role. This role does not\nhandle the creation of the SMB share, so this needs to be\nalready configured.\nhttps://docs.openstack.org/ocata/config-reference/block-storage/drivers/smbfs-volume-driver.html\n\nChange-Id: Ie19a8f578cb1c63739c88a163ea465e420d6fa14\nImplements: blueprint cinder-smb-hyperv-ansible-role\n'}]",35,508530,63ba281d5f3c905b4b11bf5371d3498b8f216b51,34,8,9,23267,,,0,"Implement cinder-volume-hyperv ansible role

Implement an ansible role that will deploy cinder-volume as a cinder
volume smb backend on HyperV compute nodes.

This will install and configure the cinder-volume on the HyperV host.
cinder-volume is also capable to handle iSCSI backend, but only
smb backed is configured with this role. This role does not
handle the creation of the SMB share, so this needs to be
already configured.
https://docs.openstack.org/ocata/config-reference/block-storage/drivers/smbfs-volume-driver.html

Change-Id: Ie19a8f578cb1c63739c88a163ea465e420d6fa14
Implements: blueprint cinder-smb-hyperv-ansible-role
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/30/508530/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/hyperv-guide.rst', 'ansible/roles/cinder-smb-hyperv/tasks/check.yml', 'ansible/roles/cinder-smb-hyperv/tasks/main.yml', 'ansible/roles/cinder-smb-hyperv/tasks/install.yml', 'ansible/roles/cinder-smb-hyperv/defaults/main.yml', 'ansible/roles/cinder-smb-hyperv/tasks/reconfigure.yml', 'ansible/site.yml', 'ansible/roles/cinder-smb-hyperv/templates/cinder_hyperv.conf.j2', 'ansible/roles/cinder-smb-hyperv/tasks/precheck.yml', 'ansible/roles/cinder-smb-hyperv/handlers/main.yaml', 'ansible/group_vars/all.yml', 'ansible/roles/cinder-smb-hyperv/tasks/config.yml', 'ansible/roles/cinder-smb-hyperv/tasks/pull.yml', 'ansible/roles/cinder-smb-hyperv/templates/smbfs_shares_list.j2', 'ansible/roles/cinder-smb-hyperv/tasks/deploy.yml', 'etc/kolla/globals.yml']",16,d028b9ac16dd305608725812f88a9a3fe1007368,bp/cinder-smb-hyperv-ansible-role,"#enable_cinder_backend_smb_hyperv: ""no""# required for cinder-smb-hyperv #cinder_msi_url: ""https://cloudbase.it/downloads/CinderVolumeSetup_Pike_11_0_0.msi"" #smb_share_address: ""//address/smbsharename"" #smb_share_name: ""smbshare""",,162,5
openstack%2Fkolla-ansible~master~Ibd22b474c7be7158495ce28b76510b4287885f4d,openstack/kolla-ansible,master,Ibd22b474c7be7158495ce28b76510b4287885f4d,Added neutron metering-agent support,ABANDONED,2017-03-15 10:10:59.000000000,2022-10-18 10:04:03.000000000,,"[{'_account_id': 1390}, {'_account_id': 7488}, {'_account_id': 8157}, {'_account_id': 9820}, {'_account_id': 11869}, {'_account_id': 17938}, {'_account_id': 19316}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 22839}, {'_account_id': 22874}, {'_account_id': 24164}, {'_account_id': 26355}, {'_account_id': 26925}]","[{'number': 1, 'created': '2017-03-15 10:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bdbd4661dfc242adc76ab4721bb9aa456a5dd2e8', 'message': 'Added neutron metering-agent support\n\nAdded neutron metering agent configuration files\nAdded enable_neutron_metering var\nAdded neutron metering agent in neutron configuration task\n\nChange-Id: Ibd22b474c7be7158495ce28b76510b4287885f4d\nImplements: blueprint support-neutron-metering-agent\n'}, {'number': 2, 'created': '2017-03-15 10:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/653568077f211029a0a6e7b4d53a16ac34e6f4e7', 'message': 'Added neutron metering-agent support\n\nAdded neutron metering agent configuration files\nAdded enable_neutron_metering var\nAdded neutron metering agent in neutron configuration task\n\nChange-Id: Ibd22b474c7be7158495ce28b76510b4287885f4d\nImplements: blueprint support-neutron-metering-agent\n'}, {'number': 3, 'created': '2017-03-15 12:48:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e61d64d82ceda3205701c9b7c2f8942869307228', 'message': 'Added neutron metering-agent support\n\nAdded neutron metering agent configuration files\nAdded enable_neutron_metering var\nAdded neutron metering agent in neutron configuration task\n\nChange-Id: Ibd22b474c7be7158495ce28b76510b4287885f4d\nImplements: blueprint support-neutron-metering-agent\n'}, {'number': 4, 'created': '2017-03-15 14:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bf374a1ad565cd51379f9da2c2133d2801843b95', 'message': 'Added neutron metering-agent support\n\nAdded neutron metering agent configuration files\nAdded enable_neutron_metering var\nAdded neutron metering agent in neutron configuration task\n\nChange-Id: Ibd22b474c7be7158495ce28b76510b4287885f4d\nImplements: blueprint support-neutron-metering-agent\n'}, {'number': 5, 'created': '2017-03-21 08:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/33fb3cbc19e263d75660a9b22e6bc9b39c26ae20', 'message': 'Added neutron metering-agent support\n\nAdded neutron metering agent configuration files\nAdded enable_neutron_metering var\nAdded neutron metering agent in neutron configuration task\n\nChange-Id: Ibd22b474c7be7158495ce28b76510b4287885f4d\nImplements: blueprint support-neutron-metering-agent\n'}, {'number': 6, 'created': '2017-03-27 08:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/04876cbf69afa255d975b0654f42b1f16dcc2b35', 'message': 'Added neutron metering-agent support\n\nAdded neutron metering agent configuration files\nAdded enable_neutron_metering var\nAdded neutron metering agent in neutron configuration task\n\nChange-Id: Ibd22b474c7be7158495ce28b76510b4287885f4d\nImplements: blueprint support-neutron-metering-agent\n'}, {'number': 7, 'created': '2017-05-18 05:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/423136d883bb8f273333eea77a1091cf5122cf80', 'message': 'Added neutron metering-agent support\n\nAdded neutron metering agent configuration files\nAdded enable_neutron_metering var\nAdded neutron metering agent in neutron configuration task\n\nChange-Id: Ibd22b474c7be7158495ce28b76510b4287885f4d\nImplements: blueprint support-neutron-metering-agent\n'}, {'number': 8, 'created': '2017-06-09 12:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/db1e6b9b2deeacb68f72da0b0ea0382e542b0c3c', 'message': 'Added neutron metering-agent support\n\nAdded neutron metering agent configuration files\nAdded enable_neutron_metering var\nAdded neutron metering agent in neutron configuration task\n\nChange-Id: Ibd22b474c7be7158495ce28b76510b4287885f4d\nImplements: blueprint support-neutron-metering-agent\n'}, {'number': 9, 'created': '2017-07-06 12:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2385a05debc596bdcaff06d8ad271102d441cc17', 'message': 'Added neutron metering-agent support\n\nAdded neutron metering agent configuration files\nAdded enable_neutron_metering var\nAdded neutron metering agent in neutron configuration task\n\nChange-Id: Ibd22b474c7be7158495ce28b76510b4287885f4d\nImplements: blueprint support-neutron-metering-agent\n'}, {'number': 10, 'created': '2017-07-13 07:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aabe6b02f067bd83bc979ef97fa676a85843c2c7', 'message': 'Added neutron metering-agent support\n\nAdded neutron metering agent configuration files\nAdded enable_neutron_metering var\nAdded neutron metering agent in neutron configuration task\n\nChange-Id: Ibd22b474c7be7158495ce28b76510b4287885f4d\nImplements: blueprint support-neutron-metering-agent\n'}, {'number': 11, 'created': '2017-07-18 08:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a28e5aea980b88f56c051c2810424c7b2fb3a01c', 'message': 'Added neutron metering-agent support\n\nAdded neutron metering agent configuration files\nAdded enable_neutron_metering var\nAdded neutron metering agent in neutron configuration task\n\nChange-Id: Ibd22b474c7be7158495ce28b76510b4287885f4d\nImplements: blueprint support-neutron-metering-agent\n'}, {'number': 12, 'created': '2017-07-19 11:36:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/647b6001634dc2a16969f6f6f52434bceec8e06a', 'message': 'Added neutron metering-agent support\n\nAdded neutron metering agent configuration files\nAdded enable_neutron_metering var\nAdded neutron metering agent in neutron configuration task\n\nChange-Id: Ibd22b474c7be7158495ce28b76510b4287885f4d\nImplements: blueprint support-neutron-metering-agent\n'}, {'number': 13, 'created': '2017-07-19 12:47:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3f9627199f7c81c9a7e97616ae4eb2d0d453ffda', 'message': 'Added neutron metering-agent support\n\nAdded neutron metering agent configuration files\nAdded enable_neutron_metering var\nAdded neutron metering agent in neutron configuration task\n\nChange-Id: Ibd22b474c7be7158495ce28b76510b4287885f4d\nImplements: blueprint support-neutron-metering-agent\n'}, {'number': 14, 'created': '2017-07-19 13:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1cec7f98943ca9e338e9f1c628c6f068096e150d', 'message': 'Added neutron metering-agent support\n\nAdded neutron metering agent configuration files\nAdded enable_neutron_metering var\nAdded neutron metering agent in neutron configuration task\n\nChange-Id: Ibd22b474c7be7158495ce28b76510b4287885f4d\nImplements: blueprint support-neutron-metering-agent\n'}, {'number': 15, 'created': '2017-07-19 14:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4b6d11c63603916cd9aa67459e9e5dcb094dfdd3', 'message': 'Added neutron metering-agent support\n\nAdded neutron metering agent configuration files\nAdded enable_neutron_metering var\nAdded neutron metering agent in neutron configuration task\n\nChange-Id: Ibd22b474c7be7158495ce28b76510b4287885f4d\nImplements: blueprint support-neutron-metering-agent\n'}, {'number': 16, 'created': '2017-07-20 05:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b97f7b742abc6d7746bcd29e209ca6b787af01c3', 'message': 'Added neutron metering-agent support\n\nAdded neutron metering agent configuration files\nAdded enable_neutron_metering var\nAdded neutron metering agent in neutron configuration task\n\nChange-Id: Ibd22b474c7be7158495ce28b76510b4287885f4d\nImplements: blueprint support-neutron-metering-agent\n'}, {'number': 17, 'created': '2017-07-20 06:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2502f33708b5c97fa81c542ea8f9f26b512acbd9', 'message': 'Added neutron metering-agent support\n\nAdded neutron metering agent configuration files\nAdded enable_neutron_metering var\nAdded neutron metering agent in neutron configuration task\n\nChange-Id: Ibd22b474c7be7158495ce28b76510b4287885f4d\nImplements: blueprint support-neutron-metering-agent\n'}, {'number': 18, 'created': '2017-07-20 06:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1c4f51d30eaedb8128e6ed4c62739bf938b88e89', 'message': 'Added neutron metering-agent support\n\nAdded neutron metering agent configuration files\nAdded enable_neutron_metering var\nAdded neutron metering agent in neutron configuration task\n\nChange-Id: Ibd22b474c7be7158495ce28b76510b4287885f4d\nImplements: blueprint support-neutron-metering-agent\n'}, {'number': 19, 'created': '2017-07-20 06:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/11e1048d6bae65ffa11c5baf5e166ae2c21ae41b', 'message': 'Added neutron metering-agent support\n\nAdded neutron metering agent configuration files\nAdded enable_neutron_metering var\nAdded neutron metering agent in neutron configuration task\n\nChange-Id: Ibd22b474c7be7158495ce28b76510b4287885f4d\nImplements: blueprint support-neutron-metering-agent\n'}, {'number': 20, 'created': '2017-07-20 07:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8a9fc8d703eff7fa047d15542c59cb31195bddb4', 'message': 'Added neutron metering-agent support\n\nAdded neutron metering agent configuration files\nAdded enable_neutron_metering var\nAdded neutron metering agent in neutron configuration task\n\nChange-Id: Ibd22b474c7be7158495ce28b76510b4287885f4d\nImplements: blueprint support-neutron-metering-agent\n'}, {'number': 21, 'created': '2018-07-18 09:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7c803d0fdc22e6a1e897b5299a65467f3e502f53', 'message': 'Added neutron metering-agent support\n\n- Added neutron metering agent configuration files\n- Added enable_neutron_metering var\n- Added neutron metering agent in neutron configuration task\n\nCo-Authored-By: yuqian <yu.qian@99cloud.net>\n\nChange-Id: Ibd22b474c7be7158495ce28b76510b4287885f4d\nImplements: blueprint support-neutron-metering-agent\n'}, {'number': 22, 'created': '2018-07-18 09:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/33e929cb668bb1a46206388c14e50b451b5b0142', 'message': 'Added neutron metering-agent support\n\n- Added neutron metering agent configuration files\n- Added enable_neutron_metering var\n- Added neutron metering agent in neutron configuration task\n\nCo-Authored-By: yuqian <yu.qian@99cloud.net>\n\nChange-Id: Ibd22b474c7be7158495ce28b76510b4287885f4d\nImplements: blueprint support-neutron-metering-agent\n'}, {'number': 23, 'created': '2018-08-15 03:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/320ea70e96babd6aa0d632da60c7f8207176304f', 'message': 'Added neutron metering-agent support\n\n- Added neutron metering agent configuration files\n- Added enable_neutron_metering var\n- Added neutron metering agent in neutron configuration task\n\nCo-Authored-By: yuqian <yu.qian@99cloud.net>\n\nChange-Id: Ibd22b474c7be7158495ce28b76510b4287885f4d\nImplements: blueprint support-neutron-metering-agent\n'}, {'number': 24, 'created': '2018-08-16 09:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a47381da1c7ebfea11d4f9f94f6c70af5f2b2c5c', 'message': 'Added neutron metering-agent support\n\n- Added neutron metering agent configuration files\n- Added enable_neutron_metering var\n- Added neutron metering agent in neutron configuration task\n\nCo-Authored-By: yuqian <yu.qian@99cloud.net>\n\nChange-Id: Ibd22b474c7be7158495ce28b76510b4287885f4d\nImplements: blueprint support-neutron-metering-agent\n'}, {'number': 25, 'created': '2018-08-16 11:57:07.000000000', 'files': ['ansible/inventory/multinode', 'ansible/roles/neutron/templates/neutron-metering-agent.json.j2', 'releasenotes/notes/support-neutron-metering-agent-4f22364abdd5c00d.yaml', 'ansible/roles/neutron/templates/metering_agent.ini.j2', 'ansible/roles/neutron/defaults/main.yml', 'ansible/site.yml', 'ansible/roles/neutron/tasks/config.yml', 'ansible/inventory/all-in-one', 'ansible/roles/neutron/handlers/main.yml', 'ansible/group_vars/all.yml', 'tests/templates/inventory.j2', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a0931570dcef0bc7d320c434b4a85ecf5d71ba15', 'message': 'Added neutron metering-agent support\n\n- Added neutron metering agent configuration files\n- Added enable_neutron_metering var\n- Added neutron metering agent in neutron configuration task\n\nCo-Authored-By: yuqian <yu.qian@99cloud.net>\n\nChange-Id: Ibd22b474c7be7158495ce28b76510b4287885f4d\nImplements: blueprint support-neutron-metering-agent\n'}]",61,445858,a0931570dcef0bc7d320c434b4a85ecf5d71ba15,83,14,25,22839,,,0,"Added neutron metering-agent support

- Added neutron metering agent configuration files
- Added enable_neutron_metering var
- Added neutron metering agent in neutron configuration task

Co-Authored-By: yuqian <yu.qian@99cloud.net>

Change-Id: Ibd22b474c7be7158495ce28b76510b4287885f4d
Implements: blueprint support-neutron-metering-agent
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/58/445858/15 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/templates/neutron-metering-agent.json.j2', 'ansible/roles/neutron/templates/metering_agent.ini.j2', 'ansible/group_vars/all.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/site.yml', 'ansible/roles/neutron/tasks/config.yml']",6,bdbd4661dfc242adc76ab4721bb9aa456a5dd2e8,bp/support-neutron-metering-agent," - ""neutron-metering-agent"" - ""neutron-metering-agent""- name: Copying over metering_agent.ini merge_configs: vars: service_name: ""{{ item }}"" sources: - ""{{ role_path }}/templates/metering_agent.ini.j2"" - ""{{ node_custom_config }}/neutron/metering_agent.ini"" dest: ""{{ node_config_directory }}/{{ item }}/metering_agent.ini"" with_items: - ""neutron-metering-agent"" ",,48,0
openstack%2Fstevedore~stable%2Fxena~Iff536d4f4267efbebc4be1e7e5da8a9fde39f79b,openstack/stevedore,stable/xena,Iff536d4f4267efbebc4be1e7e5da8a9fde39f79b,"Fix compatibility with Python 3.10, 3.9.11",MERGED,2022-10-05 10:17:13.000000000,2022-10-18 10:03:58.000000000,2022-10-18 10:03:01.000000000,"[{'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-10-05 10:17:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stevedore/commit/b006bcd083929145fe48ff3fdb3ca0732763924e', 'message': ""Fix compatibility with Python 3.10, 3.9.11\n\nA fix to 'importlib.metadata' in Python 3.10 [1], later backported to\n3.9 and released in 3.9.11 [2], has broken our tests. Fix them.\n\n[1] https://github.com/python/cpython/commit/b1e286860742e7ba6fadc75e3ddb6c2899a56919\n[2] https://github.com/python/cpython/commit/177be52517da9a876a3f9e670f88c4731b906986\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-bug: #1966040\nChange-Id: Iff536d4f4267efbebc4be1e7e5da8a9fde39f79b\n(cherry picked from commit 663d56c9535c64f4f8bd363abf69406975585ee9)\n(cherry picked from commit 2312415517cd5ded007127d21f75f78ff2f63f52)\n(cherry picked from commit 9c78134d7b2a3a355bb2ba155fe80382d375e3ab)\n""}, {'number': 2, 'created': '2022-10-13 13:42:57.000000000', 'files': ['stevedore/extension.py'], 'web_link': 'https://opendev.org/openstack/stevedore/commit/52433382eed2e4f1783fe3a14813d2409b122d41', 'message': ""Fix compatibility with Python 3.10, 3.9.11\n\nA fix to 'importlib.metadata' in Python 3.10 [1], later backported to\n3.9 and released in 3.9.11 [2], has broken our tests. Fix them.\n\n[1] https://github.com/python/cpython/commit/b1e286860742e7ba6fadc75e3ddb6c2899a56919\n[2] https://github.com/python/cpython/commit/177be52517da9a876a3f9e670f88c4731b906986\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-bug: #1966040\nChange-Id: Iff536d4f4267efbebc4be1e7e5da8a9fde39f79b\n(cherry picked from commit 663d56c9535c64f4f8bd363abf69406975585ee9)\n(cherry picked from commit 2312415517cd5ded007127d21f75f78ff2f63f52)\n(cherry picked from commit 9c78134d7b2a3a355bb2ba155fe80382d375e3ab)\n""}]",0,860395,52433382eed2e4f1783fe3a14813d2409b122d41,9,2,2,15334,,,0,"Fix compatibility with Python 3.10, 3.9.11

A fix to 'importlib.metadata' in Python 3.10 [1], later backported to
3.9 and released in 3.9.11 [2], has broken our tests. Fix them.

[1] https://github.com/python/cpython/commit/b1e286860742e7ba6fadc75e3ddb6c2899a56919
[2] https://github.com/python/cpython/commit/177be52517da9a876a3f9e670f88c4731b906986

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-bug: #1966040
Change-Id: Iff536d4f4267efbebc4be1e7e5da8a9fde39f79b
(cherry picked from commit 663d56c9535c64f4f8bd363abf69406975585ee9)
(cherry picked from commit 2312415517cd5ded007127d21f75f78ff2f63f52)
(cherry picked from commit 9c78134d7b2a3a355bb2ba155fe80382d375e3ab)
",git fetch https://review.opendev.org/openstack/stevedore refs/changes/95/860395/1 && git format-patch -1 --stdout FETCH_HEAD,['stevedore/extension.py'],1,b006bcd083929145fe48ff3fdb3ca0732763924e,bug/1966040," # NOTE: The underlying package returned re.Match objects until this was # fixed in importlib-metadata 4.11.3. This was fixed in Python 3.10 and # backported to Python 3.9.11. For older versions without this fix, # translate the re.Match objects to the matched strings, which seem # more useful. extras = [] for extra in self.entry_point.extras: if isinstance(extra, str): # We were previously returning the whole string including # backets. We need to continue doing so to preserve API # compatibility. extras.append(f'[{extra}]') else: # Python 3.6 returns _sre.SRE_Match objects. Later # versions of python return re.Match objects. Both types # have a 'string' attribute containing the text that # matched the pattern. extras.append(getattr(extra, 'string', extra)) return extras"," # NOTE: The underlying package returns re.Match objects for # some reason. Translate those to the matched strings, which # seem more useful. return [ # Python 3.6 returns _sre.SRE_Match objects. Later # versions of python return re.Match objects. Both types # have a 'string' attribute containing the text that # matched the pattern. getattr(e, 'string', e) for e in self.entry_point.extras ]",19,11
openstack%2Fneutron~master~If9d827228002de7e3a55be660da266b60b0dfb79,openstack/neutron,master,If9d827228002de7e3a55be660da266b60b0dfb79,[OVN] Allow to execute ``MetadataProxyHandler`` in a local thread,MERGED,2022-10-17 15:54:17.000000000,2022-10-18 10:02:40.000000000,2022-10-18 10:01:30.000000000,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-17 15:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c266241eeedd541e73741d0cac5b58bf10410385', 'message': '[OVN] Allow to execute ``MetadataProxyHandler`` in a local thread\n\nIf configuration option ""metadata_workers=0"", the OVN metadata agent\nwill try to spawn the ``MetadataProxyHandler`` instance inside a local\nthread, instead of creating a new process. In this case, the method\n``MetadataProxyHandler.post_fork_initialize`` is never called and the\nSB IDL is never created.\n\nThis patch passes the OVN metadata agent SB IDL instance to the proxy\nhandler instance. This also reduces the number of OVN database active\nconnections.\n\nCloses-Bug: #1993181\nChange-Id: If9d827228002de7e3a55be660da266b60b0dfb79\n'}, {'number': 2, 'created': '2022-10-17 16:48:41.000000000', 'files': ['neutron/tests/functional/agent/ovn/metadata/test_metadata_agent.py', 'neutron/agent/ovn/metadata/agent.py', 'neutron/agent/ovn/metadata/server.py', 'neutron/tests/unit/agent/ovn/metadata/test_server.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f43891bf866b65ceef0e51633afbbf57ee2a6be8', 'message': '[OVN] Allow to execute ``MetadataProxyHandler`` in a local thread\n\nIf configuration option ""metadata_workers=0"", the OVN metadata agent\nwill try to spawn the ``MetadataProxyHandler`` instance inside a local\nthread, instead of creating a new process. In this case, the method\n``MetadataProxyHandler.post_fork_initialize`` is never called and the\nSB IDL is never created.\n\nThis patch passes the OVN metadata agent SB IDL instance to the proxy\nhandler instance. This also reduces the number of OVN database active\nconnections.\n\nCloses-Bug: #1993181\nChange-Id: If9d827228002de7e3a55be660da266b60b0dfb79\n'}]",7,861649,f43891bf866b65ceef0e51633afbbf57ee2a6be8,16,4,2,16688,,,0,"[OVN] Allow to execute ``MetadataProxyHandler`` in a local thread

If configuration option ""metadata_workers=0"", the OVN metadata agent
will try to spawn the ``MetadataProxyHandler`` instance inside a local
thread, instead of creating a new process. In this case, the method
``MetadataProxyHandler.post_fork_initialize`` is never called and the
SB IDL is never created.

This patch passes the OVN metadata agent SB IDL instance to the proxy
handler instance. This also reduces the number of OVN database active
connections.

Closes-Bug: #1993181
Change-Id: If9d827228002de7e3a55be660da266b60b0dfb79
",git fetch https://review.opendev.org/openstack/neutron refs/changes/49/861649/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/ovn/metadata/test_metadata_agent.py', 'neutron/agent/ovn/metadata/agent.py', 'neutron/agent/ovn/metadata/server.py']",3,c266241eeedd541e73741d0cac5b58bf10410385,bug/1993181," def __init__(self, conf, chassis, sb_idl): self._sb_idl = sb_idl def __init__(self, conf, chassis, sb_idl): self.sb_idl = sb_idl sb_idl = self.sb_idl if md_workers == 0 else None self.server.start(MetadataProxyHandler(self.conf, self.chassis, sb_idl),"," def __init__(self, conf, chassis): self._sb_idl = None def __init__(self, conf, chassis): self.server.start(MetadataProxyHandler(self.conf, self.chassis),",24,16
openstack%2Fkolla-ansible~master~Id2c5cadeec953a981489487f3b019f3ecee224fd,openstack/kolla-ansible,master,Id2c5cadeec953a981489487f3b019f3ecee224fd,Add read permission to mariadb log for fluentd,ABANDONED,2018-09-26 08:23:26.000000000,2022-10-18 10:02:28.000000000,,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-26 08:23:26.000000000', 'files': ['ansible/roles/mariadb/templates/mariadb.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/177c92b8e2fb9f38bc29855bdfc7769ac3e50423', 'message': ""Add read permission to mariadb log for fluentd\n\nFluentd can't read mariadb.log by default with permission 0660,\nchange to 0664 for fluentd accessing.\n\nChange-Id: Id2c5cadeec953a981489487f3b019f3ecee224fd\n""}]",0,605354,177c92b8e2fb9f38bc29855bdfc7769ac3e50423,7,3,1,4428,,,0,"Add read permission to mariadb log for fluentd

Fluentd can't read mariadb.log by default with permission 0660,
change to 0664 for fluentd accessing.

Change-Id: Id2c5cadeec953a981489487f3b019f3ecee224fd
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/54/605354/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/mariadb/templates/mariadb.json.j2'],1,177c92b8e2fb9f38bc29855bdfc7769ac3e50423,fix-mariadb-log-permission," ""perm"": ""0664"",",,1,0
openstack%2Fkolla-ansible~master~Ib26f443ca828e84b674696477f29ad0993507570,openstack/kolla-ansible,master,Ib26f443ca828e84b674696477f29ad0993507570,Remove the python docker dependency for kolla_toolbox module,ABANDONED,2018-09-26 02:59:43.000000000,2022-10-18 10:02:16.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28176}]","[{'number': 1, 'created': '2018-09-26 02:59:43.000000000', 'files': ['ansible/library/kolla_toolbox.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/211347cf082537ef96711aa88c71d1918bdc601b', 'message': 'Remove the python docker dependency for kolla_toolbox module\n\ndocker cli is more stable than python docker module\n\nChange-Id: Ib26f443ca828e84b674696477f29ad0993507570\n'}]",4,605314,211347cf082537ef96711aa88c71d1918bdc601b,6,3,1,7488,,,0,"Remove the python docker dependency for kolla_toolbox module

docker cli is more stable than python docker module

Change-Id: Ib26f443ca828e84b674696477f29ad0993507570
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/14/605314/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/library/kolla_toolbox.py'],1,211347cf082537ef96711aa88c71d1918bdc601b,," module_extra_vars=dict(type='json') ) check_container_cmd = ['docker', 'inspect', 'kolla_toolbox', '--format', '{{index .State.Status}}'] try: stdout = subprocess.check_output(check_container_cmd, # nosec stderr=subprocess.STDOUT) except subprocess.CalledProcessError as ex: msg = ex.output if ex.returncode == 1 and ex.output.find('No such object') != -1: msg = 'kolla_toolbox container is not found.' module.fail_json(msg=msg) if stdout.find('running') == -1: command_line = gen_commandline(module.params) cmds = ['docker', 'exec', 'kolla_toolbox'] cmds.extend(command_line) output = subprocess.check_output(cmds, stderr=subprocess.STDOUT) # nosec"," api_version: description: - The version of the API for docker-py to use when contacting Docker required: False type: str default: auto timeout: description: - The default timeout for docker-py client when contacting Docker API required: False type: int default: 180import dockerdef get_docker_client(): return docker.APIClient module_extra_vars=dict(type='json'), api_version=dict(required=False, type='str', default='auto'), timeout=dict(required=False, type='int', default=180), ) client = get_docker_client()( version=module.params.get('api_version'), timeout=module.params.get('timeout')) command_line = gen_commandline(module.params) kolla_toolbox = client.containers(filters=dict(name='kolla_toolbox', status='running')) if not kolla_toolbox: kolla_toolbox = kolla_toolbox[0] job = client.exec_create(kolla_toolbox, command_line) output = client.exec_start(job)",19,31
openstack%2Fkolla-ansible~master~Ia47ce2f5dd789083a1eb9807f894cf51e1dbeb1f,openstack/kolla-ansible,master,Ia47ce2f5dd789083a1eb9807f894cf51e1dbeb1f,Update the docker configuration steps.,ABANDONED,2018-06-12 11:55:04.000000000,2022-10-18 10:01:47.000000000,,"[{'_account_id': 14151}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-06-12 11:55:04.000000000', 'files': ['doc/source/user/multinode.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f1fd941f175cad491ac272ea7be4399070e3f2e0', 'message': 'Update the docker configuration steps.\n\nChange-Id: Ia47ce2f5dd789083a1eb9807f894cf51e1dbeb1f\nCloses-Bug: #1773787\n'}]",0,574702,f1fd941f175cad491ac272ea7be4399070e3f2e0,7,5,1,19779,,,0,"Update the docker configuration steps.

Change-Id: Ia47ce2f5dd789083a1eb9807f894cf51e1dbeb1f
Closes-Bug: #1773787
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/02/574702/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/multinode.rst'],1,f1fd941f175cad491ac272ea7be4399070e3f2e0,bug/1773787,"#. Bootstrap servers with kolla deploy dependencies: .. code-block:: console kolla-ansible bootstrap-servers -i <path/to/multinode/inventory/file> .. end #. Check that the deployment targets are in a state where Kolla may deploy .. code-block:: console kolla-ansible prechecks -i <path/to/multinode/inventory/file> .. end .. note:: RabbitMQ doesn't work with IP addresses, hence the IP address of ``api_interface`` should be resolvable by hostnames to make sure that all RabbitMQ Cluster hosts can resolve each others hostnames beforehand. #. Run the deployment: .. code-block:: console kolla-ansible deploy -i <path/to/multinode/inventory/file> .. end",".. _configure_docker_all_nodes: Configure Docker on all nodes ============================= .. note:: As the subtitle for this section implies, these steps should be applied to all nodes, not just the deployment node. After starting the registry, it is necessary to instruct Docker that it will be communicating with an insecure registry. For example, To enable insecure registry communication on CentOS, modify the ``/etc/sysconfig/docker`` file to contain the following where ``192.168.1.100`` is the IP address of the machine where the registry is currently running: .. path /etc/sysconfig/docker .. code-block:: ini INSECURE_REGISTRY=""--insecure-registry 192.168.1.100:5000"" .. end For Ubuntu, check whether its using upstart or systemd. .. code-block:: console # stat /proc/1/exe File: '/proc/1/exe' -> '/lib/systemd/systemd' Edit ``/etc/default/docker`` and add the following configuration: .. path /etc/default/docker .. code-block:: ini DOCKER_OPTS=""--insecure-registry 192.168.1.100:5000"" .. end If Ubuntu is using systemd, additional settings needs to be configured. Copy Docker's systemd unit file to ``/etc/systemd/system/`` directory: .. code-block:: console cp /lib/systemd/system/docker.service /etc/systemd/system/docker.service .. end Next, modify ``/etc/systemd/system/docker.service``, add ``environmentFile`` variable and add ``$DOCKER_OPTS`` to the end of ExecStart in ``[Service]`` section. For CentOS: .. path /etc/systemd/system/docker.service .. code-block:: ini [Service] MountFlags=shared EnvironmentFile=/etc/sysconfig/docker ExecStart= ExecStart=/usr/bin/docker daemon $INSECURE_REGISTRY .. end For Ubuntu: .. path /etc/systemd/system/docker.service .. code-block:: ini [Service] MountFlags=shared EnvironmentFile=-/etc/default/docker ExecStart= ExecStart=/usr/bin/docker daemon -H fd:// $DOCKER_OPTS .. end .. note:: If your docker version is >=1.13.0, the ``docker daemon`` should be replaced with ``dockerd``. Restart Docker by executing the following commands: For CentOS or Ubuntu with systemd: .. code-block:: console systemctl daemon-reload systemctl restart docker .. end For Ubuntu with upstart or sysvinit: .. code-block:: console service docker restart .. end .. _edit-inventory: First, check that the deployment targets are in a state where Kolla may deploy.. code-block:: console kolla-ansible prechecks -i <path/to/multinode/inventory/file> .. end .. note:: RabbitMQ doesn't work with IP addresses, hence the IP address of ``api_interface`` should be resolvable by hostnames to make sure that all RabbitMQ Cluster hosts can resolve each others hostnames beforehand. Run the deployment: .. code-block:: console kolla-ansible deploy -i <path/to/multinode/inventory/file> .. end",20,118
openstack%2Fkolla-ansible~master~I7fbb127f54b53a6b419df30f052d8c5882de94c8,openstack/kolla-ansible,master,I7fbb127f54b53a6b419df30f052d8c5882de94c8,Improvement of init-runonce script,ABANDONED,2018-05-21 06:11:10.000000000,2022-10-18 10:01:35.000000000,,"[{'_account_id': 1390}, {'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 19779}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2018-05-21 06:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0a30828fb9671309b356ee8a1ac85fbed63bf49e', 'message': 'Improvement of init-runonce script\n\nChange-Id: I7fbb127f54b53a6b419df30f052d8c5882de94c8\nCloses-Bug: #1772352\n'}, {'number': 2, 'created': '2018-05-22 10:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a65654dbf64a2289075f55d6c7555fed58c5a916', 'message': 'Improvement of init-runonce script\n\nChange-Id: I7fbb127f54b53a6b419df30f052d8c5882de94c8\nCloses-Bug: #1772352\n'}, {'number': 3, 'created': '2018-05-22 11:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1e0f3b22fffc3bdb6935a4e96966229719df39c3', 'message': 'Improvement of init-runonce script\n\nChange-Id: I7fbb127f54b53a6b419df30f052d8c5882de94c8\nCloses-Bug: #1772352\n'}, {'number': 4, 'created': '2018-05-22 12:43:20.000000000', 'files': ['tools/init-runonce'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/96d232d0f44d48e8497f482b86157d16352d41ea', 'message': 'Improvement of init-runonce script\n\nChange-Id: I7fbb127f54b53a6b419df30f052d8c5882de94c8\nCloses-Bug: #1772352\n'}]",11,569708,96d232d0f44d48e8497f482b86157d16352d41ea,20,8,4,19779,,,0,"Improvement of init-runonce script

Change-Id: I7fbb127f54b53a6b419df30f052d8c5882de94c8
Closes-Bug: #1772352
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/08/569708/4 && git format-patch -1 --stdout FETCH_HEAD,['tools/init-runonce'],1,0a30828fb9671309b356ee8a1ac85fbed63bf49e,bug/1772352,"# Test for 'cirros' image created if [[ -z ""$(openstack image list | grep -q cirros)"" ]]; then echo ""Creating glance image failed, check the above output. Fix it and run this script again."" exit fi ",,6,0
openstack%2Fkolla-ansible~master~Ibbf93bc8949a4d84482124abab143c0fb85770c4,openstack/kolla-ansible,master,Ibbf93bc8949a4d84482124abab143c0fb85770c4,Setting correct default for enable_cinder_backup,ABANDONED,2018-05-15 11:17:38.000000000,2022-10-18 10:01:04.000000000,,"[{'_account_id': 1390}, {'_account_id': 13671}, {'_account_id': 16704}, {'_account_id': 17272}, {'_account_id': 19316}, {'_account_id': 21486}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 24441}, {'_account_id': 26556}]","[{'number': 1, 'created': '2018-05-15 11:17:38.000000000', 'files': ['ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aa2676c6ef14bf4f3389b104bb4cb2189c269d32', 'message': 'Setting correct default for enable_cinder_backup\n\nChanging default value for enable_cinder_backup to no. Current\nvalue of yes causing errors.\n\nChange-Id: Ibbf93bc8949a4d84482124abab143c0fb85770c4\nRelated-Bug: #1770649\n'}]",4,568554,aa2676c6ef14bf4f3389b104bb4cb2189c269d32,18,10,1,17272,,,0,"Setting correct default for enable_cinder_backup

Changing default value for enable_cinder_backup to no. Current
value of yes causing errors.

Change-Id: Ibbf93bc8949a4d84482124abab143c0fb85770c4
Related-Bug: #1770649
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/54/568554/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all.yml'],1,aa2676c6ef14bf4f3389b104bb4cb2189c269d32,bug/1770649,"enable_cinder_backup: ""no""","enable_cinder_backup: ""yes""",1,1
openstack%2Fkolla-ansible~master~Ia194d60edbd9c06d0100cea6d0cf2868b3ca562a,openstack/kolla-ansible,master,Ia194d60edbd9c06d0100cea6d0cf2868b3ca562a,Increase the value of max_header_size,ABANDONED,2018-06-19 08:11:09.000000000,2022-10-18 10:00:55.000000000,,"[{'_account_id': 19316}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 28587}]","[{'number': 1, 'created': '2018-06-19 08:11:09.000000000', 'files': ['ansible/roles/swift/templates/swift.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0afcf364268652f56379e63d76eb388eecde262a', 'message': 'Increase the value of max_header_size\n\nThe keystone v3 tokens exceeds the max header size allowed in swift,\nwe need to using a higer value to avoid this issue.\n\nChange-Id: Ia194d60edbd9c06d0100cea6d0cf2868b3ca562a\nCloses-Bug: #1776830\n'}]",2,576412,0afcf364268652f56379e63d76eb388eecde262a,8,5,1,19779,,,0,"Increase the value of max_header_size

The keystone v3 tokens exceeds the max header size allowed in swift,
we need to using a higer value to avoid this issue.

Change-Id: Ia194d60edbd9c06d0100cea6d0cf2868b3ca562a
Closes-Bug: #1776830
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/12/576412/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/swift/templates/swift.conf.j2'],1,0afcf364268652f56379e63d76eb388eecde262a,bug/1776830, [swift-constraints] max_header_size=32768,,3,0
openstack%2Fkolla-ansible~master~I7aabd86536e7456d4598274a970276e33bd8ad0e,openstack/kolla-ansible,master,I7aabd86536e7456d4598274a970276e33bd8ad0e,Fix designate interface selection,ABANDONED,2017-07-28 08:10:04.000000000,2022-10-18 09:57:51.000000000,,"[{'_account_id': 3}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 24223}]","[{'number': 1, 'created': '2017-07-28 08:10:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/db1fbe0753b479b6c43c0b2f8f255921122a276f', 'message': 'Fix designate interface selection\n\ndesiganate templates:\n - named.conf.j2\n - pools.yaml.j2\n - rndc.conf.j2\n\nmake reference to ""api_interface"" instead of ""dns_interface""\nThis patch fix this.\n\nChange-Id: I7aabd86536e7456d4598274a970276e33bd8ad0e\nCloses-Bug: #1707143\n'}, {'number': 2, 'created': '2017-07-28 08:39:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7baecdbda06ee8af69ac8a1b55c6112623936b46', 'message': 'Fix designate interface selection\n\ndesiganate templates:\n - named.conf.j2\n - pools.yaml.j2\n - rndc.conf.j2\n\nmake reference to ""api_interface"" instead of ""dns_interface""\nThis patch fix this.\n\nChange-Id: I7aabd86536e7456d4598274a970276e33bd8ad0e\nCloses-Bug: #1707143\n'}, {'number': 3, 'created': '2017-07-28 08:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8ad11709ebe7084737079e91124e77a2217b3ec7', 'message': 'Fix designate interface selection\n\ndesiganate templates:\n - named.conf.j2\n - pools.yaml.j2\n - rndc.conf.j2\n\nmake reference to ""api_interface"" instead of ""dns_interface"".\n\nAlso, designate backend (bind9) container must run on network\nnodes.\n\nChange-Id: I7aabd86536e7456d4598274a970276e33bd8ad0e\nCloses-Bug: #1707143\n'}, {'number': 4, 'created': '2017-07-28 08:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3abe886dc1d55dc0858e9c60f443c10836a8ab83', 'message': 'Fix designate interface selection\n\ndesiganate templates:\n - named.conf.j2\n - pools.yaml.j2\n - rndc.conf.j2\n\nmake reference to ""api_interface"" instead of ""dns_interface"".\n\nAlso, designate backend (bind9) container must run on network\nnodes.\n\nChange-Id: I7aabd86536e7456d4598274a970276e33bd8ad0e\nCloses-Bug: #1707143\n'}, {'number': 5, 'created': '2017-07-28 08:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aa8925858c71c12ac097e71eaf24142a4d67f20f', 'message': 'Fix designate interface selection\n\ndesiganate templates:\n - named.conf.j2\n - pools.yaml.j2\n - rndc.conf.j2\n\nmake reference to ""api_interface"" instead of ""dns_interface"".\n\nAlso, designate backend (bind9) container must run on network\nnodes.\n\nChange-Id: I7aabd86536e7456d4598274a970276e33bd8ad0e\nCloses-Bug: #1707143\n'}, {'number': 6, 'created': '2017-07-28 11:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/41fab20efdf1505ff316fb3116a66226705d9b4f', 'message': 'Fix designate interface selection\n\ndesiganate templates:\n - named.conf.j2\n - pools.yaml.j2\n - rndc.conf.j2\n\nmake reference to ""api_interface"" instead of ""dns_interface"".\n\nAlso, designate backend (bind9) container must run on network\nnodes.\n\nChange-Id: I7aabd86536e7456d4598274a970276e33bd8ad0e\nCloses-Bug: #1707143\n'}, {'number': 7, 'created': '2017-08-16 06:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/12afc34d54e999a0d3503fe87f05ac03c8793935', 'message': 'Fix designate interface selection\n\ndesiganate templates:\n - named.conf.j2\n - pools.yaml.j2\n\nmake reference to ""api_interface"" instead of ""dns_interface"".\n\nAlso, designate backend (bind9) container must run on network\nnodes.\n\nChange-Id: I7aabd86536e7456d4598274a970276e33bd8ad0e\nCloses-Bug: #1707143\n'}, {'number': 8, 'created': '2018-06-27 17:29:21.000000000', 'files': ['ansible/inventory/multinode', 'ansible/roles/designate/templates/named.conf.j2', 'releasenotes/notes/designate-network-nodes-and-dns_interface-2bdf17405c23d0c9.yaml', 'ansible/roles/designate/templates/pools.yaml.j2', 'ansible/inventory/all-in-one'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3babd05f179a8fd89ed7a0c9dc56e34db2154e59', 'message': 'Fix designate interface selection\n\ndesiganate templates:\n - named.conf.j2\n - pools.yaml.j2\n\nmake reference to ""api_interface"" instead of ""dns_interface"".\n\nAlso, designate backend (bind9) container must run on network\nnodes.\n\nChange-Id: I7aabd86536e7456d4598274a970276e33bd8ad0e\nCloses-Bug: #1707143\n'}]",4,488329,3babd05f179a8fd89ed7a0c9dc56e34db2154e59,25,4,8,24223,,,0,"Fix designate interface selection

desiganate templates:
 - named.conf.j2
 - pools.yaml.j2

make reference to ""api_interface"" instead of ""dns_interface"".

Also, designate backend (bind9) container must run on network
nodes.

Change-Id: I7aabd86536e7456d4598274a970276e33bd8ad0e
Closes-Bug: #1707143
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/29/488329/8 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/designate/templates/named.conf.j2', 'ansible/roles/designate/templates/rndc.conf.j2', 'ansible/roles/designate/templates/pools.yaml.j2']",3,db1fbe0753b479b6c43c0b2f8f255921122a276f,bug/1707143, - host: {{ hostvars[host]['ansible_' + hostvars[host]['dns_interface']]['ipv4']['address'] }} description: BIND9 Server {{ hostvars[bind_host]['ansible_' + hostvars[bind_host]['dns_interface']]['ipv4']['address'] }} - host: {{ hostvars[mdns_host]['ansible_' + hostvars[mdns_host]['dns_interface']]['ipv4']['address'] }} host: {{ hostvars[bind_host]['ansible_' + hostvars[bind_host]['dns_interface']]['ipv4']['address'] }} rndc_host: {{ hostvars[bind_host]['ansible_' + hostvars[bind_host]['dns_interface']]['ipv4']['address'] }}, - host: {{ hostvars[host]['ansible_' + hostvars[host]['api_interface']]['ipv4']['address'] }} description: BIND9 Server {{ hostvars[bind_host]['ansible_' + hostvars[bind_host]['api_interface']]['ipv4']['address'] }} - host: {{ hostvars[mdns_host]['ansible_' + hostvars[mdns_host]['api_interface']]['ipv4']['address'] }} host: {{ hostvars[bind_host]['ansible_' + hostvars[bind_host]['api_interface']]['ipv4']['address'] }} rndc_host: {{ hostvars[bind_host]['ansible_' + hostvars[bind_host]['api_interface']]['ipv4']['address'] }},8,8
openstack%2Fkolla-ansible~master~Icd3bc8b3edc9f1702f5a94b2e9a47ae5dde960db,openstack/kolla-ansible,master,Icd3bc8b3edc9f1702f5a94b2e9a47ae5dde960db,Note that extending or customizing the docker daemon options,ABANDONED,2018-06-25 16:50:45.000000000,2022-10-18 09:57:16.000000000,,"[{'_account_id': 1390}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-25 16:50:45.000000000', 'files': ['doc/source/user/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ddea33a376d56c073a8bc86a1cf4ce0887ca087d', 'message': 'Note that extending or customizing the docker daemon options\n\nCloses-Bug: #1654395\nChange-Id: Icd3bc8b3edc9f1702f5a94b2e9a47ae5dde960db\n'}]",2,577871,ddea33a376d56c073a8bc86a1cf4ce0887ca087d,5,3,1,19779,,,0,"Note that extending or customizing the docker daemon options

Closes-Bug: #1654395
Change-Id: Icd3bc8b3edc9f1702f5a94b2e9a47ae5dde960db
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/71/577871/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/quickstart.rst'],1,ddea33a376d56c073a8bc86a1cf4ce0887ca087d,bug/1654395," .. note:: Kolla allows users to extend or override the docker daemon options. For example, customize the MTU of container: :command:`kolla-ansible -i ./multinode bootstrap-servers -e ""docker_custom_option=--mtu 1400""`. ",,6,0
openstack%2Fkolla-ansible~master~I8f13c455f9cbe60a07b9dfb76dd4be1bfe910351,openstack/kolla-ansible,master,I8f13c455f9cbe60a07b9dfb76dd4be1bfe910351,Fix check for Initialise fernet key authentication,ABANDONED,2018-02-27 08:12:21.000000000,2022-10-18 09:57:02.000000000,,"[{'_account_id': 1390}, {'_account_id': 4428}, {'_account_id': 7488}, {'_account_id': 9414}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23517}, {'_account_id': 25167}]","[{'number': 1, 'created': '2018-02-27 08:12:21.000000000', 'files': ['ansible/roles/keystone/tasks/init_fernet.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aef5fd9463ffd6625fd419a526975f071d212f82', 'message': 'Fix check for Initialise fernet key authentication\n\nfernet_create.stdout.split() may has no element 2 in some cases,\nthis patch adds a check for the list length.\n\nChange-Id: I8f13c455f9cbe60a07b9dfb76dd4be1bfe910351\nCloses-bug: #1748065\n'}]",4,548182,aef5fd9463ffd6625fd419a526975f071d212f82,11,8,1,4428,,,0,"Fix check for Initialise fernet key authentication

fernet_create.stdout.split() may has no element 2 in some cases,
this patch adds a check for the list length.

Change-Id: I8f13c455f9cbe60a07b9dfb76dd4be1bfe910351
Closes-bug: #1748065
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/82/548182/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/keystone/tasks/init_fernet.yml'],1,aef5fd9463ffd6625fd419a526975f071d212f82,bug/1748065, until: (fernet_create.stdout.split() | length > 2 and fernet_create.stdout.split()[2] == 'SUCCESS') or fernet_create.stdout.find('Key repository is already initialized') != -1, until: fernet_create.stdout.split()[2] == 'SUCCESS' or fernet_create.stdout.find('Key repository is already initialized') != -1,1,1
openstack%2Fkolla-ansible~master~I17bac8315af8405e73bc143958b47c307730c132,openstack/kolla-ansible,master,I17bac8315af8405e73bc143958b47c307730c132,modify keepalived.conf.j2 change BACKUP state to MASTER,ABANDONED,2018-06-19 06:15:43.000000000,2022-10-18 09:56:40.000000000,,"[{'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 25048}]","[{'number': 1, 'created': '2018-06-19 06:15:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/394a27e493aca88f4d7226df7b1626dcc26e1818', 'message': 'modify keepalived.conf.j2 change BACKUP state to MASTER\n\ncurrently if use kolla-ansible in multinode keepalived\ncan`t negotiate an vip and bind it to the specified\nphysical network card automatically\n\nChange-Id: I17bac8315af8405e73bc143958b47c307730c132\n'}, {'number': 2, 'created': '2018-06-19 06:20:17.000000000', 'files': ['ansible/roles/haproxy/templates/keepalived.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2de5517986bc15d9291f836e20a62587d86753e9', 'message': 'modify keepalived.conf.j2 change BACKUP state to MASTER\n\ncurrently if use kolla-ansible in multinode keepalived\ncan`t negotiate an vip and bind it to the specified\nphysical network card automatically\n\nChange-Id: I17bac8315af8405e73bc143958b47c307730c132\n'}]",3,576373,2de5517986bc15d9291f836e20a62587d86753e9,7,3,2,25048,,,0,"modify keepalived.conf.j2 change BACKUP state to MASTER

currently if use kolla-ansible in multinode keepalived
can`t negotiate an vip and bind it to the specified
physical network card automatically

Change-Id: I17bac8315af8405e73bc143958b47c307730c132
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/73/576373/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/haproxy/templates/keepalived.conf.j2'],1,394a27e493aca88f4d7226df7b1626dcc26e1818,keepalived, state MASTER , state BACKUP,1,1
openstack%2Fkolla-ansible~master~I936097fc603629cabbe1d561f8814ff2921ec03d,openstack/kolla-ansible,master,I936097fc603629cabbe1d561f8814ff2921ec03d,Allow setting the keystone admin project name + domain,ABANDONED,2018-03-02 00:12:08.000000000,2022-10-18 09:55:41.000000000,,"[{'_account_id': 1297}, {'_account_id': 1390}, {'_account_id': 7488}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 24441}, {'_account_id': 25167}, {'_account_id': 26297}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-03-02 00:12:08.000000000', 'files': ['ansible/roles/keystone/templates/keystone.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d2d9c6622888416ad2e748706fd237f8588e993a', 'message': 'Allow setting the keystone admin project name + domain\n\nThis setting is used to specify the cloud-level administrator,\naka the cloud-level superuser; this is the new way of restricting\nadmins that can be superusers to just a single project (and\ndomain) instead of allowing anyone with the admin role to be\na superuser (which is dangerous).\n\nSee the following for more info:\n\nhttps://specs.openstack.org/openstack/keystone-specs/specs/mitaka/is_admin_project.html\n\nChange-Id: I936097fc603629cabbe1d561f8814ff2921ec03d\n'}]",7,549068,d2d9c6622888416ad2e748706fd237f8588e993a,14,11,1,1297,,,0,"Allow setting the keystone admin project name + domain

This setting is used to specify the cloud-level administrator,
aka the cloud-level superuser; this is the new way of restricting
admins that can be superusers to just a single project (and
domain) instead of allowing anyone with the admin role to be
a superuser (which is dangerous).

See the following for more info:

https://specs.openstack.org/openstack/keystone-specs/specs/mitaka/is_admin_project.html

Change-Id: I936097fc603629cabbe1d561f8814ff2921ec03d
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/68/549068/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/keystone/templates/keystone.conf.j2'],1,d2d9c6622888416ad2e748706fd237f8588e993a,,[resource] {% if keystone_admin_project_domain_name is defined %} admin_project_domain_name = {{ keystone_admin_project_domain_name }} {% endif %} {% if keystone_admin_project_name is defined %} admin_project_name = {{ keystone_admin_project_name }} {% endif %} ,,8,0
openstack%2Fkolla-ansible~master~I9bce7baffd52fd69ccd044d0787a7e08b7740d22,openstack/kolla-ansible,master,I9bce7baffd52fd69ccd044d0787a7e08b7740d22,Pass bootstrap password via environment (not cli),ABANDONED,2018-05-29 22:23:55.000000000,2022-10-18 09:55:29.000000000,,"[{'_account_id': 1297}, {'_account_id': 7488}, {'_account_id': 9414}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-05-29 22:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1e66e441686ea86cf65705d67ddb4f9ca8d616ac', 'message': 'Pass bootstrap password via environment (not cli)\n\nThis should make this not show up in the later execution that\ncan get recorded or logged via things like ara (or other tooling).\n\nChange-Id: I9bce7baffd52fd69ccd044d0787a7e08b7740d22\n'}, {'number': 2, 'created': '2018-05-29 22:36:06.000000000', 'files': ['ansible/roles/keystone/tasks/register.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2e58f163ffd708ad8fb0f69528d691364f98719e', 'message': 'Pass bootstrap password via environment (not cli)\n\nThis should make this not show up in the later execution that\ncan get recorded or logged via things like ara (or other tooling).\n\nChange-Id: I9bce7baffd52fd69ccd044d0787a7e08b7740d22\n'}]",6,571037,2e58f163ffd708ad8fb0f69528d691364f98719e,22,7,2,1297,,,0,"Pass bootstrap password via environment (not cli)

This should make this not show up in the later execution that
can get recorded or logged via things like ara (or other tooling).

Change-Id: I9bce7baffd52fd69ccd044d0787a7e08b7740d22
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/37/571037/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/keystone/tasks/register.yml'],1,1e66e441686ea86cf65705d67ddb4f9ca8d616ac,," command: docker exec keystone kolla_keystone_bootstrap {{ openstack_auth.username }} """" {{ openstack_auth.project_name }} admin {{ keystone_admin_url }} {{ keystone_internal_url }} {{ keystone_public_url }} {{ item }} env: OS_BOOTSTRAP_PASSWORD: ""{{ openstack_auth.password }}""", command: docker exec keystone kolla_keystone_bootstrap {{ openstack_auth.username }} {{ openstack_auth.password }} {{ openstack_auth.project_name }} admin {{ keystone_admin_url }} {{ keystone_internal_url }} {{ keystone_public_url }} {{ item }},3,1
openstack%2Fkolla-ansible~master~I0abfb2c192389e1ff307275460f305ea55e7d956,openstack/kolla-ansible,master,I0abfb2c192389e1ff307275460f305ea55e7d956,Fix nova-manage: error: unrecognized arguments: --by-service,ABANDONED,2018-05-18 07:25:51.000000000,2022-10-18 09:54:50.000000000,,"[{'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 07:25:51.000000000', 'files': ['ansible/roles/nova/tasks/simple_cell_setup.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/302993026dcd075e90b8cb2186cbd9cc1c90e41f', 'message': 'Fix nova-manage: error: unrecognized arguments: --by-service\n\nChange-Id: I0abfb2c192389e1ff307275460f305ea55e7d956\nCloses-Bug: #1771954\n'}]",2,569352,302993026dcd075e90b8cb2186cbd9cc1c90e41f,5,3,1,26975,,,0,"Fix nova-manage: error: unrecognized arguments: --by-service

Change-Id: I0abfb2c192389e1ff307275460f305ea55e7d956
Closes-Bug: #1771954
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/52/569352/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova/tasks/simple_cell_setup.yml'],1,302993026dcd075e90b8cb2186cbd9cc1c90e41f,bug/1771954, docker exec nova_api nova-manage cell_v2 discover_hosts, docker exec nova_api nova-manage cell_v2 discover_hosts --by-service,1,1
openstack%2Fkolla-ansible~master~Id4584ad46e17120179293b686d40c8ce829a2b4c,openstack/kolla-ansible,master,Id4584ad46e17120179293b686d40c8ce829a2b4c,Add trove-guestagent.conf to trove_taskmanager container,ABANDONED,2018-05-08 10:38:15.000000000,2022-10-18 09:54:39.000000000,,"[{'_account_id': 14151}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 24549}, {'_account_id': 26285}]","[{'number': 1, 'created': '2018-05-08 10:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d20fe26c4f370be50abb7e808fb0ff9155e89bef', 'message': ""Add trove-guestagent.conf to trove_taskmanager container\n\nwhen create instance of the trove, the task-manager needs\nto inject trove-guestagent.conf into the vm, otherwise\ntrove-guestagent can't start in vm.\n\nChange-Id: Id4584ad46e17120179293b686d40c8ce829a2b4c\nCloses-Bug: #1698790\n""}, {'number': 2, 'created': '2018-05-08 10:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3f7e0604112c4a3f5a1f8b9daadb5170a6ebff97', 'message': ""Add trove-guestagent.conf to trove_taskmanager container\n\nwhen create instance of the trove, the task-manager needs\nto inject trove-guestagent.conf into the vm, otherwise\ntrove-guestagent can't start in vm.\n\nChange-Id: Id4584ad46e17120179293b686d40c8ce829a2b4c\nCloses-Bug: #1769859\n""}, {'number': 3, 'created': '2018-05-09 00:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/822f64a103b3409f90b5208dd58be59619055a9c', 'message': ""Add trove-guestagent.conf to trove_taskmanager container\n\nwhen create instance of the trove, the task-manager needs\nto inject trove-guestagent.conf into the vm, otherwise\ntrove-guestagent can't start in vm.\n\nChange-Id: Id4584ad46e17120179293b686d40c8ce829a2b4c\nCloses-Bug: #1769859\n""}, {'number': 4, 'created': '2018-05-11 01:16:10.000000000', 'files': ['ansible/roles/trove/templates/trove-taskmanager.json.j2', 'ansible/roles/trove/templates/trove-guestagent.conf.j2', 'ansible/roles/trove/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f560df459d3e95729b874ba8dee96cd7578a9fe6', 'message': ""Add trove-guestagent.conf to trove_taskmanager container\n\nwhen create instance of the trove, the task-manager needs\nto inject trove-guestagent.conf into the vm, otherwise\ntrove-guestagent can't start in vm.\n\nChange-Id: Id4584ad46e17120179293b686d40c8ce829a2b4c\nCloses-Bug: #1769859\n""}]",3,566846,f560df459d3e95729b874ba8dee96cd7578a9fe6,19,5,4,24549,,,0,"Add trove-guestagent.conf to trove_taskmanager container

when create instance of the trove, the task-manager needs
to inject trove-guestagent.conf into the vm, otherwise
trove-guestagent can't start in vm.

Change-Id: Id4584ad46e17120179293b686d40c8ce829a2b4c
Closes-Bug: #1769859
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/46/566846/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/trove/templates/trove-taskmanager.json.j2', 'ansible/roles/trove/templates/trove-guestagent.conf.j2', 'ansible/roles/trove/tasks/config.yml']",3,d20fe26c4f370be50abb7e808fb0ff9155e89bef,bug/1769859,"- name: Copying over trove-guestagent.conf vars: service: ""{{ trove_services['trove-manager'] }}"" merge_configs: sources: - ""{{ role_path }}/templates/trove-guestagent.conf.j2"" - ""{{ node_custom_config }}/global.conf"" - ""{{ node_custom_config }}/trove-guestagent.conf"" - ""{{ node_custom_config }}/trove/trove-guestagent.conf"" - ""{{ node_custom_config }}/trove/{{ inventory_hostname }}/trove-guestagent.conf"" dest: ""{{ node_config_directory }}/trove-taskmanager/trove-guestagent.conf"" mode: ""0660"" become: true register: trove_confs when: - inventory_hostname in groups[service.group] - service.enabled | bool notify: - ""Restart trove-taskmanager container"" ",,36,0
openstack%2Fkolla-ansible~master~Ic9a2f620f1c10b733b5d3bb8ed4b1e299a8915cc,openstack/kolla-ansible,master,Ic9a2f620f1c10b733b5d3bb8ed4b1e299a8915cc,Fix unable to establish connection to metric service,ABANDONED,2018-03-05 03:07:49.000000000,2022-10-18 09:54:16.000000000,,"[{'_account_id': 1390}, {'_account_id': 7488}, {'_account_id': 21486}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 26285}, {'_account_id': 27336}]","[{'number': 1, 'created': '2018-03-05 03:07:49.000000000', 'files': ['ansible/roles/common/templates/admin-openrc.sh.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b1eb0247ad970b241a3eac3cd364d9a2a6f366e7', 'message': 'Fix unable to establish connection to metric service\n\nChange-Id: Ic9a2f620f1c10b733b5d3bb8ed4b1e299a8915cc\nCloses-Bug: #1753351\n'}]",3,549667,b1eb0247ad970b241a3eac3cd364d9a2a6f366e7,11,9,1,26975,,,0,"Fix unable to establish connection to metric service

Change-Id: Ic9a2f620f1c10b733b5d3bb8ed4b1e299a8915cc
Closes-Bug: #1753351
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/67/549667/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/admin-openrc.sh.j2'],1,b1eb0247ad970b241a3eac3cd364d9a2a6f366e7,bug/1753351,{% if enable_gnocchi | bool %} export OS_AUTH_TYPE=password {% endif %},,3,0
openstack%2Fkolla-ansible~master~I63d7331747a706aef2a3e863a9d4692b16ae0c7c,openstack/kolla-ansible,master,I63d7331747a706aef2a3e863a9d4692b16ae0c7c,elasticsearch: make default mem value sane,ABANDONED,2018-03-16 09:35:38.000000000,2022-10-18 09:54:06.000000000,,"[{'_account_id': 979}, {'_account_id': 1390}, {'_account_id': 2834}, {'_account_id': 7488}, {'_account_id': 8157}, {'_account_id': 10787}, {'_account_id': 11105}, {'_account_id': 11869}, {'_account_id': 13039}, {'_account_id': 13642}, {'_account_id': 16233}, {'_account_id': 16620}, {'_account_id': 17669}, {'_account_id': 19316}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22582}, {'_account_id': 23717}, {'_account_id': 24072}, {'_account_id': 24987}]","[{'number': 1, 'created': '2018-03-16 09:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7e21b76fc6dba88c494ede5ddfb47c86d478f2af', 'message': 'elasticsearch: make default mem value sane\n\nFor all enviorments take 1/3 or total memory for\nelasticsearch on the elastic search nodes.\n\nChange-Id: I63d7331747a706aef2a3e863a9d4692b16ae0c7c\nSigned-off-by: Robert Marklund <robbelibobban@gmail.com>\n'}, {'number': 2, 'created': '2018-03-16 13:48:49.000000000', 'files': ['ansible/roles/elasticsearch/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1ae51abb4334520556ee2e1ae06898497c16d257', 'message': 'elasticsearch: make default mem value sane\n\nFor all enviorments take 1/3 or total memory for\nelasticsearch on the elastic search nodes.\n\nChange-Id: I63d7331747a706aef2a3e863a9d4692b16ae0c7c\nSigned-off-by: Robert Marklund <robbelibobban@gmail.com>\n'}]",7,553728,1ae51abb4334520556ee2e1ae06898497c16d257,17,21,2,24987,,,0,"elasticsearch: make default mem value sane

For all enviorments take 1/3 or total memory for
elasticsearch on the elastic search nodes.

Change-Id: I63d7331747a706aef2a3e863a9d4692b16ae0c7c
Signed-off-by: Robert Marklund <robbelibobban@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/28/553728/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/elasticsearch/defaults/main.yml'],1,7e21b76fc6dba88c494ede5ddfb47c86d478f2af,," ES_HEAP_SIZE: ""{{ es_heap_size|default(((ansible_memtotal_mb/3)|int|abs|string)+'m') }}"""," ES_HEAP_SIZE: ""{{ es_heap_size }}""es_heap_size: ""1g""",1,2
openstack%2Fkolla-ansible~master~I7199bcec9a833ed6eb19f4f4de850cc191fbe58f,openstack/kolla-ansible,master,I7199bcec9a833ed6eb19f4f4de850cc191fbe58f,Don't log Keystone passwords,ABANDONED,2018-02-16 17:43:56.000000000,2022-10-18 09:53:55.000000000,,"[{'_account_id': 11869}, {'_account_id': 14826}, {'_account_id': 21486}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 28003}]","[{'number': 1, 'created': '2018-02-16 17:43:56.000000000', 'files': ['ansible/roles/keystone/tasks/register.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f787d63e20d6faedcb7515e4db2d09b768e6a780', 'message': ""Don't log Keystone passwords\n\nWe are showing our keystone password in any level of verbosity above 0.\n\nChange-Id: I7199bcec9a833ed6eb19f4f4de850cc191fbe58f\n""}]",0,545402,f787d63e20d6faedcb7515e4db2d09b768e6a780,10,8,1,6488,,,0,"Don't log Keystone passwords

We are showing our keystone password in any level of verbosity above 0.

Change-Id: I7199bcec9a833ed6eb19f4f4de850cc191fbe58f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/02/545402/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/keystone/tasks/register.yml'],1,f787d63e20d6faedcb7515e4db2d09b768e6a780,no-log-passwords, no_log: true,,1,0
openstack%2Fkolla-ansible~master~I59038db146327ce9385e294cf5b149409fb79460,openstack/kolla-ansible,master,I59038db146327ce9385e294cf5b149409fb79460,Added var to disable deploy host image destruction,ABANDONED,2017-11-16 20:27:12.000000000,2022-10-18 09:53:45.000000000,,"[{'_account_id': 1390}, {'_account_id': 6488}, {'_account_id': 7488}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22582}, {'_account_id': 27300}, {'_account_id': 28003}]","[{'number': 1, 'created': '2017-11-16 20:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8bd0efae4cc382426a6c03bfe21db9fed886b4bb', 'message': ""Added var to disable deploy host image destruction\n\nAdded variable 'enable_destroy_images_deployment_host' for disabling\nthe destruction of images on deployment host when enable_destroy_images\nis set.\n\nChange-Id: I59038db146327ce9385e294cf5b149409fb79460\nCloses-Bug: #1724306\n""}, {'number': 2, 'created': '2017-11-20 20:27:01.000000000', 'files': ['ansible/roles/destroy/tasks/cleanup_images.yml', 'ansible/roles/destroy/defaults/main.yml', 'ansible/group_vars/all.yml', 'etc/kolla/globals.yml', 'tools/kolla-ansible'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ac35c629a07401c105a9b568ee383c3dd293181d', 'message': ""Added var to disable deploy host image destruction\n\nAdded variable 'enable_destroy_images_deployment_host' for disabling\nthe destruction of images on deployment host when enable_destroy_images\nis set.\nAlso added option --include-localhost in 'kolla-ansible destroy' command\nfor the same purpose.\n\nChange-Id: I59038db146327ce9385e294cf5b149409fb79460\nCloses-Bug: #1724306\n""}]",5,520761,ac35c629a07401c105a9b568ee383c3dd293181d,13,9,2,27300,,,0,"Added var to disable deploy host image destruction

Added variable 'enable_destroy_images_deployment_host' for disabling
the destruction of images on deployment host when enable_destroy_images
is set.
Also added option --include-localhost in 'kolla-ansible destroy' command
for the same purpose.

Change-Id: I59038db146327ce9385e294cf5b149409fb79460
Closes-Bug: #1724306
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/61/520761/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/destroy/tasks/cleanup_images.yml', 'ansible/roles/destroy/defaults/main.yml', 'ansible/group_vars/all.yml', 'etc/kolla/globals.yml']",4,8bd0efae4cc382426a6c03bfe21db9fed886b4bb,bug/1724306,"#enable_destroy_images_deployment_host: ""no""",,4,0
openstack%2Fkolla-ansible~master~I8313db7781c0468115f35ea8cdea69e8b4b64c99,openstack/kolla-ansible,master,I8313db7781c0468115f35ea8cdea69e8b4b64c99,Flatten neutron_* variables,ABANDONED,2017-06-12 01:26:15.000000000,2022-10-18 09:53:12.000000000,,"[{'_account_id': 6488}, {'_account_id': 7488}, {'_account_id': 22582}]","[{'number': 1, 'created': '2017-06-12 01:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/30c5413219fe75bffc9672e379937d5c272dad53', 'message': 'Flatten neutron_* variables\n\nIt is hard for ansible to override a variable in a big dict. Flatten\nneutron_* variables will be helpful for end user to override.\n\nChange-Id: I8313db7781c0468115f35ea8cdea69e8b4b64c99\n'}, {'number': 2, 'created': '2017-06-18 13:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4b237bd5f1957c43e65b38bf025f465ee513d6e3', 'message': 'Flatten neutron_* variables\n\nIt is hard for ansible to override a variable in a big dict. Flatten\nneutron_* variables will be helpful for end user to override.\n\nChange-Id: I8313db7781c0468115f35ea8cdea69e8b4b64c99\n'}, {'number': 3, 'created': '2017-06-18 14:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f76241972e7fae85fb927b14fcb1d838a011f639', 'message': 'Flatten neutron_* variables\n\nIt is hard for ansible to override a variable in a big dict. Flatten\nneutron_* variables will be helpful for end user to override.\n\nChange-Id: I8313db7781c0468115f35ea8cdea69e8b4b64c99\n'}, {'number': 4, 'created': '2017-06-19 01:10:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/532f8942b3854bf798151a062df537284974790a', 'message': 'Flatten neutron_* variables\n\nIt is hard for ansible to override a variable in a big dict. Flatten\nneutron_* variables will be helpful for end user to override.\n\nChange-Id: I8313db7781c0468115f35ea8cdea69e8b4b64c99\n'}, {'number': 5, 'created': '2017-06-19 14:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9cea69c52236b6eb99cee938f82f0d89089fcbfa', 'message': 'Flatten neutron_* variables\n\nIt is hard for ansible to override a variable in a big dict. Flatten\nneutron_* variables will be helpful for end user to override.\n\nChange-Id: I8313db7781c0468115f35ea8cdea69e8b4b64c99\n'}, {'number': 6, 'created': '2017-06-19 16:05:51.000000000', 'files': ['ansible/roles/neutron/handlers/main.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/neutron/tasks/config.yml', 'ansible/roles/neutron/tasks/config-neutron-fake.yml', 'ansible/roles/neutron/tasks/bootstrap_service.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/86fed7bf18115e7f2eabdb553c6ed9eef264ccf0', 'message': 'Flatten neutron_* variables\n\nIt is hard for ansible to override a variable in a big dict. Flatten\nneutron_* variables will be helpful for end user to override.\n\nChange-Id: I8313db7781c0468115f35ea8cdea69e8b4b64c99\n'}]",0,473168,86fed7bf18115e7f2eabdb553c6ed9eef264ccf0,21,3,6,7488,,,0,"Flatten neutron_* variables

It is hard for ansible to override a variable in a big dict. Flatten
neutron_* variables will be helpful for end user to override.

Change-Id: I8313db7781c0468115f35ea8cdea69e8b4b64c99
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/68/473168/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/neutron/defaults/main.yml'],1,30c5413219fe75bffc9672e379937d5c272dad53,,"neutron-server: container_name: ""neutron_server"" image: ""{{ neutron_server_image_full }}"" enabled: true group: ""neutron-server"" host_in_groups: ""{{ True if orchestration_engine == 'KUBERNETES' else inventory_hostname in groups['neutron-server'] }}"" volumes: - ""{{ node_config_directory }}/neutron-server/:{{ container_config_directory }}/:ro"" - ""/etc/localtime:/etc/localtime:ro"" - ""kolla_logs:/var/log/kolla/"" neutron-openvswitch-agent: container_name: ""neutron_openvswitch_agent"" image: ""{{ neutron_openvswitch_agent_image_full }}"" enabled: ""{{ neutron_plugin_agent == 'openvswitch' }}"" privileged: True host_in_groups: >- {{ True if orchestration_engine == 'KUBERNETES' else ( inventory_hostname in groups['compute'] or (enable_manila | bool and inventory_hostname in groups['manila-share']) or inventory_hostname in groups['neutron-dhcp-agent'] or inventory_hostname in groups['neutron-l3-agent'] or inventory_hostname in groups['neutron-metadata-agent'] or inventory_hostname in groups['neutron-vpnaas-agent'] and not enable_nova_fake | bool ) or ( inventory_hostname in groups['neutron-dhcp-agent'] or inventory_hostname in groups['neutron-l3-agent'] or inventory_hostname in groups['neutron-metadata-agent'] or inventory_hostname in groups['neutron-vpnaas-agent'] and enable_nova_fake | bool ) }} volumes: - ""{{ node_config_directory }}/neutron-openvswitch-agent/:{{ container_config_directory }}/:ro"" - ""/etc/localtime:/etc/localtime:ro"" - ""/run:/run:shared"" - ""kolla_logs:/var/log/kolla/"" neutron-sfc-agent: container_name: ""neutron_sfc_agent"" image: ""{{ neutron_sfc_agent_image_full }}"" enabled: ""{{ neutron_plugin_agent == 'sfc' }}"" privileged: True host_in_groups: >- {{ True if orchestration_engine == 'KUBERNETES' else ( inventory_hostname in groups['compute'] or (enable_manila | bool and inventory_hostname in groups['manila-share']) or inventory_hostname in groups['neutron-dhcp-agent'] or inventory_hostname in groups['neutron-l3-agent'] or inventory_hostname in groups['neutron-metadata-agent'] and not enable_nova_fake | bool ) or ( inventory_hostname in groups['neutron-dhcp-agent'] or inventory_hostname in groups['neutron-l3-agent'] or inventory_hostname in groups['neutron-metadata-agent'] and enable_nova_fake | bool ) }} volumes: - ""{{ node_config_directory }}/neutron-sfc-agent/:{{ container_config_directory }}/:ro"" - ""/etc/localtime:/etc/localtime:ro"" - ""/run:/run:shared"" - ""kolla_logs:/var/log/kolla/"" neutron-linuxbridge-agent: container_name: ""neutron_linuxbridge_agent"" image: ""{{ neutron_linuxbridge_agent_image_full }}"" privileged: True enabled: ""{{ neutron_plugin_agent == 'linuxbridge' }}"" environment: KOLLA_CONFIG_STRATEGY: ""{{ config_strategy }}"" NEUTRON_BRIDGE: ""br-ex"" NEUTRON_INTERFACE: ""{{ neutron_external_interface }}"" host_in_groups: >- {{ True if orchestration_engine == 'KUBERNETES' else inventory_hostname in groups['compute'] or (enable_manila | bool and inventory_hostname in groups['manila-share']) or inventory_hostname in groups['neutron-dhcp-agent'] or inventory_hostname in groups['neutron-l3-agent'] or inventory_hostname in groups['neutron-metadata-agent'] or inventory_hostname in groups['neutron-vpnaas-agent'] }} volumes: - ""{{ node_config_directory }}/neutron-linuxbridge-agent/:{{ container_config_directory }}/:ro"" - ""/etc/localtime:/etc/localtime:ro"" - ""/lib/modules:/lib/modules:ro"" - ""/run:/run:shared"" - ""kolla_logs:/var/log/kolla/"" neutron-dhcp-agent: container_name: ""neutron_dhcp_agent"" image: ""{{ neutron_dhcp_agent_image_full }}"" privileged: True enabled: True group: ""neutron-dhcp-agent"" host_in_groups: ""{{ True if orchestration_engine == 'KUBERNETES' else inventory_hostname in groups['neutron-dhcp-agent'] }}"" volumes: - ""{{ node_config_directory }}/neutron-dhcp-agent/:{{ container_config_directory }}/:ro"" - ""/etc/localtime:/etc/localtime:ro"" - ""/run/:/run/:shared"" - ""neutron_metadata_socket:/var/lib/neutron/kolla/"" - ""kolla_logs:/var/log/kolla/"" neutron-l3-agent: container_name: ""neutron_l3_agent"" image: ""{{ neutron_l3_agent_image_full }}"" privileged: True enabled: ""{{ not enable_neutron_vpnaas | bool }}"" host_in_groups: >- {{ True if orchestration_engine == 'KUBERNETES' else inventory_hostname in groups['neutron-l3-agent'] or (inventory_hostname in groups['compute'] and enable_neutron_dvr | bool) }} volumes: - ""{{ node_config_directory }}/neutron-l3-agent/:{{ container_config_directory }}/:ro"" - ""/etc/localtime:/etc/localtime:ro"" - ""/run:/run:shared"" - ""neutron_metadata_socket:/var/lib/neutron/kolla/"" - ""kolla_logs:/var/log/kolla/"" neutron-lbaas-agent: container_name: ""neutron_lbaas_agent"" image: ""{{ neutron_lbaas_agent_image_full }}"" privileged: True enabled: ""{{ enable_neutron_lbaas | bool }}"" group: ""neutron-lbaas-agent"" host_in_groups: ""{{ True if orchestration_engine == 'KUBERNETES' else inventory_hostname in groups['neutron-lbaas-agent'] }}"" volumes: - ""{{ node_config_directory }}/neutron-lbaas-agent/:{{ container_config_directory }}/:ro"" - ""/etc/localtime:/etc/localtime:ro"" - ""/run:/run:shared"" - ""kolla_logs:/var/log/kolla/"" neutron-metadata-agent: container_name: ""neutron_metadata_agent"" image: ""{{ neutron_metadata_agent_image_full }}"" privileged: True enabled: true host_in_groups: >- {{ True if orchestration_engine == 'KUBERNETES' else inventory_hostname in groups['neutron-metadata-agent'] or (inventory_hostname in groups['compute'] and enable_neutron_dvr | bool) }} volumes: - ""{{ node_config_directory }}/neutron-metadata-agent/:{{ container_config_directory }}/:ro"" - ""/etc/localtime:/etc/localtime:ro"" - ""/run/netns/:/run/netns/:shared"" - ""neutron_metadata_socket:/var/lib/neutron/kolla/"" - ""kolla_logs:/var/log/kolla/"" neutron-vpnaas-agent: container_name: ""neutron_vpnaas_agent"" image: ""{{ neutron_vpnaas_agent_image_full }}"" privileged: True enabled: ""{{ enable_neutron_vpnaas | bool }}"" group: ""neutron-vpnaas-agent"" host_in_groups: ""{{ True if orchestration_engine == 'KUBERNETES' else inventory_hostname in groups['neutron-vpnaas-agent'] }}"" volumes: - ""{{ node_config_directory }}/neutron-vpnaas-agent/:{{ container_config_directory }}/:ro"" - ""/etc/localtime:/etc/localtime:ro"" - ""/run:/run:shared"" - ""/lib/modules:/lib/modules:ro"" - ""kolla_logs:/var/log/kolla/"" neutron-bgp-dragent: container_name: ""neutron_bgp_dragent"" image: ""{{ neutron_bgp_dragent_image_full }}"" privileged: True enabled: ""{{ enable_neutron_bgp_dragent | bool }}"" group: ""neutron-bgp-dragent"" host_in_groups: ""{{ False if orchestration_engine == 'KUBERNETES' else inventory_hostname in groups['neutron-bgp-dragent'] }}"" volumes: - ""{{ node_config_directory }}/neutron-bgp-dragent/:{{ container_config_directory }}/:ro"" - ""/etc/localtime:/etc/localtime:ro"" - ""/run:/run:shared"" - ""kolla_logs:/var/log/kolla/"" neutron_services: - ""{{ neutron-server }}"" - ""{{ neutron-openvswitch-agent }}"" - ""{{ neutron-sfc-agent }}"" - ""{{ neutron-linuxbridge-agent }}"" - ""{{ neutron-dhcp-agent }}"" - ""{{ neutron-l3-agent }}"" - ""{{ neutron-lbaas-agent }}"" - ""{{ neutron-metadata-agent }}"" - ""{{ neutron-vpnaas-agent }}"" - ""{{ neutron-bgp-dragent }}"" - ""{{ neutron_services }}""","neutron_services: neutron-server: container_name: ""neutron_server"" image: ""{{ neutron_server_image_full }}"" enabled: true group: ""neutron-server"" host_in_groups: ""{{ True if orchestration_engine == 'KUBERNETES' else inventory_hostname in groups['neutron-server'] }}"" volumes: - ""{{ node_config_directory }}/neutron-server/:{{ container_config_directory }}/:ro"" - ""/etc/localtime:/etc/localtime:ro"" - ""kolla_logs:/var/log/kolla/"" neutron-openvswitch-agent: container_name: ""neutron_openvswitch_agent"" image: ""{{ neutron_openvswitch_agent_image_full }}"" enabled: ""{{ neutron_plugin_agent == 'openvswitch' }}"" privileged: True host_in_groups: >- {{ True if orchestration_engine == 'KUBERNETES' else ( inventory_hostname in groups['compute'] or (enable_manila | bool and inventory_hostname in groups['manila-share']) or inventory_hostname in groups['neutron-dhcp-agent'] or inventory_hostname in groups['neutron-l3-agent'] or inventory_hostname in groups['neutron-metadata-agent'] or inventory_hostname in groups['neutron-vpnaas-agent'] and not enable_nova_fake | bool ) or ( inventory_hostname in groups['neutron-dhcp-agent'] or inventory_hostname in groups['neutron-l3-agent'] or inventory_hostname in groups['neutron-metadata-agent'] or inventory_hostname in groups['neutron-vpnaas-agent'] and enable_nova_fake | bool ) }} volumes: - ""{{ node_config_directory }}/neutron-openvswitch-agent/:{{ container_config_directory }}/:ro"" - ""/etc/localtime:/etc/localtime:ro"" - ""/run:/run:shared"" - ""kolla_logs:/var/log/kolla/"" neutron-sfc-agent: container_name: ""neutron_sfc_agent"" image: ""{{ neutron_sfc_agent_image_full }}"" enabled: ""{{ neutron_plugin_agent == 'sfc' }}"" privileged: True host_in_groups: >- {{ True if orchestration_engine == 'KUBERNETES' else ( inventory_hostname in groups['compute'] or (enable_manila | bool and inventory_hostname in groups['manila-share']) or inventory_hostname in groups['neutron-dhcp-agent'] or inventory_hostname in groups['neutron-l3-agent'] or inventory_hostname in groups['neutron-metadata-agent'] and not enable_nova_fake | bool ) or ( inventory_hostname in groups['neutron-dhcp-agent'] or inventory_hostname in groups['neutron-l3-agent'] or inventory_hostname in groups['neutron-metadata-agent'] and enable_nova_fake | bool ) }} volumes: - ""{{ node_config_directory }}/neutron-sfc-agent/:{{ container_config_directory }}/:ro"" - ""/etc/localtime:/etc/localtime:ro"" - ""/run:/run:shared"" - ""kolla_logs:/var/log/kolla/"" neutron-linuxbridge-agent: container_name: ""neutron_linuxbridge_agent"" image: ""{{ neutron_linuxbridge_agent_image_full }}"" privileged: True enabled: ""{{ neutron_plugin_agent == 'linuxbridge' }}"" environment: KOLLA_CONFIG_STRATEGY: ""{{ config_strategy }}"" NEUTRON_BRIDGE: ""br-ex"" NEUTRON_INTERFACE: ""{{ neutron_external_interface }}"" host_in_groups: >- {{ True if orchestration_engine == 'KUBERNETES' else inventory_hostname in groups['compute'] or (enable_manila | bool and inventory_hostname in groups['manila-share']) or inventory_hostname in groups['neutron-dhcp-agent'] or inventory_hostname in groups['neutron-l3-agent'] or inventory_hostname in groups['neutron-metadata-agent'] or inventory_hostname in groups['neutron-vpnaas-agent'] }} volumes: - ""{{ node_config_directory }}/neutron-linuxbridge-agent/:{{ container_config_directory }}/:ro"" - ""/etc/localtime:/etc/localtime:ro"" - ""/lib/modules:/lib/modules:ro"" - ""/run:/run:shared"" - ""kolla_logs:/var/log/kolla/"" neutron-dhcp-agent: container_name: ""neutron_dhcp_agent"" image: ""{{ neutron_dhcp_agent_image_full }}"" privileged: True enabled: True group: ""neutron-dhcp-agent"" host_in_groups: ""{{ True if orchestration_engine == 'KUBERNETES' else inventory_hostname in groups['neutron-dhcp-agent'] }}"" volumes: - ""{{ node_config_directory }}/neutron-dhcp-agent/:{{ container_config_directory }}/:ro"" - ""/etc/localtime:/etc/localtime:ro"" - ""/run/:/run/:shared"" - ""neutron_metadata_socket:/var/lib/neutron/kolla/"" - ""kolla_logs:/var/log/kolla/"" neutron-l3-agent: container_name: ""neutron_l3_agent"" image: ""{{ neutron_l3_agent_image_full }}"" privileged: True enabled: ""{{ not enable_neutron_vpnaas | bool }}"" host_in_groups: >- {{ True if orchestration_engine == 'KUBERNETES' else inventory_hostname in groups['neutron-l3-agent'] or (inventory_hostname in groups['compute'] and enable_neutron_dvr | bool) }} volumes: - ""{{ node_config_directory }}/neutron-l3-agent/:{{ container_config_directory }}/:ro"" - ""/etc/localtime:/etc/localtime:ro"" - ""/run:/run:shared"" - ""neutron_metadata_socket:/var/lib/neutron/kolla/"" - ""kolla_logs:/var/log/kolla/"" neutron-lbaas-agent: container_name: ""neutron_lbaas_agent"" image: ""{{ neutron_lbaas_agent_image_full }}"" privileged: True enabled: ""{{ enable_neutron_lbaas | bool }}"" group: ""neutron-lbaas-agent"" host_in_groups: ""{{ True if orchestration_engine == 'KUBERNETES' else inventory_hostname in groups['neutron-lbaas-agent'] }}"" volumes: - ""{{ node_config_directory }}/neutron-lbaas-agent/:{{ container_config_directory }}/:ro"" - ""/etc/localtime:/etc/localtime:ro"" - ""/run:/run:shared"" - ""kolla_logs:/var/log/kolla/"" neutron-metadata-agent: container_name: ""neutron_metadata_agent"" image: ""{{ neutron_metadata_agent_image_full }}"" privileged: True enabled: true host_in_groups: >- {{ True if orchestration_engine == 'KUBERNETES' else inventory_hostname in groups['neutron-metadata-agent'] or (inventory_hostname in groups['compute'] and enable_neutron_dvr | bool) }} volumes: - ""{{ node_config_directory }}/neutron-metadata-agent/:{{ container_config_directory }}/:ro"" - ""/etc/localtime:/etc/localtime:ro"" - ""/run/netns/:/run/netns/:shared"" - ""neutron_metadata_socket:/var/lib/neutron/kolla/"" - ""kolla_logs:/var/log/kolla/"" neutron-vpnaas-agent: container_name: ""neutron_vpnaas_agent"" image: ""{{ neutron_vpnaas_agent_image_full }}"" privileged: True enabled: ""{{ enable_neutron_vpnaas | bool }}"" group: ""neutron-vpnaas-agent"" host_in_groups: ""{{ True if orchestration_engine == 'KUBERNETES' else inventory_hostname in groups['neutron-vpnaas-agent'] }}"" volumes: - ""{{ node_config_directory }}/neutron-vpnaas-agent/:{{ container_config_directory }}/:ro"" - ""/etc/localtime:/etc/localtime:ro"" - ""/run:/run:shared"" - ""/lib/modules:/lib/modules:ro"" - ""kolla_logs:/var/log/kolla/"" neutron-bgp-dragent: container_name: ""neutron_bgp_dragent"" image: ""{{ neutron_bgp_dragent_image_full }}"" privileged: True enabled: ""{{ enable_neutron_bgp_dragent | bool }}"" group: ""neutron-bgp-dragent"" host_in_groups: ""{{ False if orchestration_engine == 'KUBERNETES' else inventory_hostname in groups['neutron-bgp-dragent'] }}"" volumes: - ""{{ node_config_directory }}/neutron-bgp-dragent/:{{ container_config_directory }}/:ro"" - ""/etc/localtime:/etc/localtime:ro"" - ""/run:/run:shared"" - ""kolla_logs:/var/log/kolla/""",185,173
openstack%2Fkolla-ansible~master~I54207a53f066e64ab813e01e73104f18a0825b29,openstack/kolla-ansible,master,I54207a53f066e64ab813e01e73104f18a0825b29,Start to add clean role (WIP),ABANDONED,2018-04-06 20:52:54.000000000,2022-10-18 09:52:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-04-06 20:52:54.000000000', 'files': ['ansible/clean.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b9bc26a8e63b6a6f52d4ef726d323938a2b5c9e3', 'message': 'Start to add clean role (WIP)\n\nJust like there is a stop and a destroy role it is\nvery useful to have a clean role that is ran after\nstop buy before destory so that this script can clean\nout any prior data (for example on remote databases\nor on remote cephs or so-on-and-so-forth).\n\nChange-Id: I54207a53f066e64ab813e01e73104f18a0825b29\n'}]",0,559419,b9bc26a8e63b6a6f52d4ef726d323938a2b5c9e3,3,1,1,1297,,,0,"Start to add clean role (WIP)

Just like there is a stop and a destroy role it is
very useful to have a clean role that is ran after
stop buy before destory so that this script can clean
out any prior data (for example on remote databases
or on remote cephs or so-on-and-so-forth).

Change-Id: I54207a53f066e64ab813e01e73104f18a0825b29
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/19/559419/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/clean.yml'],1,b9bc26a8e63b6a6f52d4ef726d323938a2b5c9e3,,,,0,0
openstack%2Fkolla-ansible~master~I7071d5f82b8f49b56eeceb2260e85f7ef906718d,openstack/kolla-ansible,master,I7071d5f82b8f49b56eeceb2260e85f7ef906718d,Just say no to secrets specification,ABANDONED,2018-02-21 01:33:17.000000000,2022-10-18 09:52:36.000000000,,"[{'_account_id': 1297}, {'_account_id': 1390}, {'_account_id': 7488}, {'_account_id': 11869}, {'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22582}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-02-21 01:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/140e460ae57509e5e502750d8cc9a566678e5715', 'message': 'Initial (WIP) draft of a no-secrets specification\n\nChange-Id: I7071d5f82b8f49b56eeceb2260e85f7ef906718d\n'}, {'number': 2, 'created': '2018-02-28 21:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/44cff907a7e82ad128ba8738bdf5678e1c635bf6', 'message': 'Initial (WIP) draft of a no-secrets specification\n\nChange-Id: I7071d5f82b8f49b56eeceb2260e85f7ef906718d\n'}, {'number': 3, 'created': '2018-02-28 21:25:57.000000000', 'files': ['specs/no-secrets.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/af71be674d23db6cb3066f91c97ccb569b96e6c6', 'message': 'Just say no to secrets specification\n\nChange-Id: I7071d5f82b8f49b56eeceb2260e85f7ef906718d\n'}]",28,546467,af71be674d23db6cb3066f91c97ccb569b96e6c6,24,10,3,1297,,,0,"Just say no to secrets specification

Change-Id: I7071d5f82b8f49b56eeceb2260e85f7ef906718d
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/67/546467/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/no-secrets.rst'],1,140e460ae57509e5e502750d8cc9a566678e5715,546467,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. This template should be in ReSTructured text. The filename in the git repository should match the launchpad URL, for example a URL of https://blueprints.launchpad.net/kolla/+spec/awesome-thing should be named awesome-thing.rst . Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: None For help with syntax, see http://www.sphinx-doc.org/en/stable/rest.html To test out your formatting, see http://www.tele3.cz/jbar/rest/rest.html ================= No secrets please ================= https://blueprints.launchpad.net/kolla/+spec/secrets Currently when running kolla-ansible via automation (especially with say `zuul`_ or other programs) and `ara`_ the amount of passwords and/or secrets and/or tokens shown in various places is somewhat staggering. This is generally bad as it allows for the location of where that automation runs (or its logs) to be found and used in some malicious fashion. .. _ara: http://ara.readthedocs.io/ .. _zuul: https://docs.openstack.org/infra/zuul/ Problem description =================== There are a variety of secrets output when kolla-ansible is ran under a variety of different situations (image downloading, configuring services, running bootstraps...). While we need to fix these (so that they do not appear in logs/output) we also need to establish some baseline policy that going forward is practiced (and enforced) that ensures that there is a sense of *security by default* (instead of a security after the fact). Proposed change =============== So to first fix the problem, all locations that are spewing out passwords and secrets into kolla-ansible output need to be hit with a blunt hammer via the usage of `no_log`. This will stop the immediate bleeding and let users that have built automation that runs kolla-ansible continue doing so in a safe manner. The second step is to go back and inspect each `no_log` more closely and determine if a different and less blunt approach can be used to ensure that secrets for whatever ansible module is being ran are not output into any corresponding log. Security impact --------------- It's directly related to it since once you can get access to the logs (or ara which also captures a variant of the logs) which show the secrets the whole of the openstack that is deployed can be owned. Performance Impact ------------------ None. Alternatives ------------ * Do not run kolla-ansible via automation and do not share the logs with anyone or anything. Implementation ============== Assignee(s) ----------- Primary assignee: TBD Milestones ---------- Target Milestone for completion: TBD Work Items ---------- Work items or tasks -- break the feature up into the things that need to be done to implement it. Those parts might end up being done by different people, but we're mostly trying to understand the timeline for implementation. Testing ======= Likely we should do runs through zuul using a known set of passwords and then scan the output logs (and/or ara as well) for the known set of passwords and if any have been found then the build/commit should be aborted and the problem should be investigated. Documentation Impact ==================== Likely needs some work to tell people that passwords will not be logged. References ========== Any links to external documentation. ",,110,0
openstack%2Fkolla-ansible~master~I0bbbb28108f794d0b82286389d45ffd566d6a4d9,openstack/kolla-ansible,master,I0bbbb28108f794d0b82286389d45ffd566d6a4d9,Fix ceilometer bootstrap,ABANDONED,2016-11-16 08:40:50.000000000,2022-10-18 09:52:25.000000000,,"[{'_account_id': 1390}, {'_account_id': 6488}, {'_account_id': 7488}, {'_account_id': 10787}, {'_account_id': 11869}, {'_account_id': 14027}, {'_account_id': 16233}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22959}, {'_account_id': 23717}, {'_account_id': 24164}, {'_account_id': 24223}, {'_account_id': 24330}]","[{'number': 1, 'created': '2016-11-16 08:40:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/db0d7990adc5556d5a8f0c708edf6a345893bfba', 'message': 'Fix ceilometer bootstrap\n\nIt looks like Ansible 2.0 has some problems with failed_when lists: https://github.com/ansible/ansible/issues/13905\n\nfailed_when: \'""already"" not in database.stdout and\n\t\tdatabase.stdout.split()[4] != ""connecting""\'\n\nChange-Id: I0bbbb28108f794d0b82286389d45ffd566d6a4d9\nCloses-Bug: #1641113\n'}, {'number': 2, 'created': '2016-12-01 08:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/77e8ece8b71387acc61cb347415112a38fa943b4', 'message': 'Fix ceilometer bootstrap\n\nIt looks like Ansible 2.0 has some problems with failed_when lists: https://github.com/ansible/ansible/issues/13905\n\nfailed_when: ""\'already\' not in database.stdout and\n              database.stdout.split()[4] != \'connecting\'""\n\nChange-Id: I0bbbb28108f794d0b82286389d45ffd566d6a4d9\nCloses-Bug: #1641113\n'}, {'number': 3, 'created': '2016-12-13 07:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/15f1b21887840405445ab814f1721d21a7c4529d', 'message': 'Fix ceilometer bootstrap\n\nIt looks like Ansible 2.0 has some problems with failed_when lists:\n    https://github.com/ansible/ansible/issues/13905\n\nfailed_when: ""\'already\' not in database.stdout and\n              database.stdout.split()[4] != \'connecting\'""\n\nChange-Id: I0bbbb28108f794d0b82286389d45ffd566d6a4d9\nCloses-Bug: #1641113\n'}, {'number': 4, 'created': '2016-12-22 05:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d6957590a504f504aab1ba179c1f89d10b1557d0', 'message': 'Fix ceilometer bootstrap\n\nIt looks like Ansible 2.0 has some problems with failed_when lists:\n    https://github.com/ansible/ansible/issues/13905\n\nfailed_when: ""\'already\' not in database.stdout and\n              database.stdout.split()[4] != \'connecting\'""\n\nChange-Id: I0bbbb28108f794d0b82286389d45ffd566d6a4d9\nCloses-Bug: #1641113\n'}, {'number': 5, 'created': '2017-01-06 17:32:09.000000000', 'files': ['ansible/roles/ceilometer/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b2ac8ed1c2427744bdc4ed83286031c5693f2912', 'message': 'Fix ceilometer bootstrap\n\nIt looks like Ansible 2.0 has some problems with failed_when lists:\n    https://github.com/ansible/ansible/issues/13905\n\nfailed_when: ""\'already\' not in database.stdout and\n              database.stdout.split()[4] != \'connecting\'""\n\nChange-Id: I0bbbb28108f794d0b82286389d45ffd566d6a4d9\nCloses-Bug: #1641113\n'}]",7,398190,b2ac8ed1c2427744bdc4ed83286031c5693f2912,43,14,5,24223,,,0,"Fix ceilometer bootstrap

It looks like Ansible 2.0 has some problems with failed_when lists:
    https://github.com/ansible/ansible/issues/13905

failed_when: ""'already' not in database.stdout and
              database.stdout.split()[4] != 'connecting'""

Change-Id: I0bbbb28108f794d0b82286389d45ffd566d6a4d9
Closes-Bug: #1641113
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/90/398190/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ceilometer/tasks/bootstrap.yml'],1,db0d7990adc5556d5a8f0c708edf6a345893bfba,bug/1641113," failed_when: '""already"" not in database.stdout and database.stdout.split()[4] != ""connecting""'"," failed_when: - ""'already' not in mongodb_ceilometer_database.stdout"" - mongodb_ceilometer_database.stdout.split()[4] != 'connecting'",2,3
openstack%2Fkolla-ansible~master~I9a25dc89327def2a0ca4d29948566428452cae4b,openstack/kolla-ansible,master,I9a25dc89327def2a0ca4d29948566428452cae4b,Add wsgi_error log type in fluentd,ABANDONED,2017-08-07 03:56:53.000000000,2022-10-18 09:52:11.000000000,,"[{'_account_id': 11869}, {'_account_id': 21486}, {'_account_id': 22165}, {'_account_id': 26118}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-08-07 03:56:53.000000000', 'files': ['ansible/roles/common/tasks/config.yml', 'ansible/roles/common/templates/conf/filter/01-rewrite.conf.j2', 'ansible/roles/common/templates/fluentd.json.j2', 'ansible/roles/common/templates/conf/format/wsgi_error.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5761572c152d482f485a898afb792d94489b3126', 'message': 'Add wsgi_error log type in fluentd\n\nwe did not parse this type of log in fluentd\nnow add it\n\nChange-Id: I9a25dc89327def2a0ca4d29948566428452cae4b\n'}]",0,491333,5761572c152d482f485a898afb792d94489b3126,9,5,1,11869,,,0,"Add wsgi_error log type in fluentd

we did not parse this type of log in fluentd
now add it

Change-Id: I9a25dc89327def2a0ca4d29948566428452cae4b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/33/491333/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/tasks/config.yml', 'ansible/roles/common/templates/conf/filter/01-rewrite.conf.j2', 'ansible/roles/common/templates/fluentd.json.j2', 'ansible/roles/common/templates/conf/format/wsgi_error.conf.j2']",4,5761572c152d482f485a898afb792d94489b3126,a2,<filter wsgi_error> @type parser reserve_data true format grok key_name message grok_pattern \[(?<timestamp>%{DAY:day} %{MONTH:month} %{MONTHDAY} %{TIME} %{YEAR})\] \[.*:%{LOGLEVEL:severity_label}\] \[pid %{NUMBER:pid}\] %{GREEDYDATA:Payload} time_key Timestamp time_format %d/%b/%Y:%H:%M:%S %z keep_time_key true </filter> ,,18,0
openstack%2Fkolla-ansible~master~I186269404b53f8fcda273e21872ebc27281032a9,openstack/kolla-ansible,master,I186269404b53f8fcda273e21872ebc27281032a9,Adjust ovsdpdk-db binding address,ABANDONED,2017-09-21 21:05:50.000000000,2022-10-18 09:51:50.000000000,,"[{'_account_id': 3}, {'_account_id': 10068}, {'_account_id': 11604}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23046}, {'_account_id': 23717}, {'_account_id': 26203}, {'_account_id': 26553}, {'_account_id': 26556}]","[{'number': 1, 'created': '2017-09-21 21:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c090d2270bbb36ff40e0a1a6394d3511025dfa59', 'message': 'Fixed ovsdpdk DB binding to 127.0.0.1\n\nChange https://review.openstack.org/#/c/497141/ did not\nupdated ovsdpdk container.\n\nChange-Id: I186269404b53f8fcda273e21872ebc27281032a9\nSigned-off-by: Maciej Skrocki <maciej.skrocki@intel.com>\n'}, {'number': 2, 'created': '2017-10-03 16:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3f8afaa679ad4b429f99b84e120c35c517219f89', 'message': 'Fixed ovsdpdk DB binding to 127.0.0.1\n\nChange https://review.openstack.org/#/c/497141/ did not\nupdated ovsdpdk container.\n\nChange-Id: I186269404b53f8fcda273e21872ebc27281032a9\nSigned-off-by: Maciej Skrocki <maciej.skrocki@intel.com>\n'}, {'number': 3, 'created': '2018-01-24 18:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a8277972dd970d4156160b7a43b54b5d55ddec0c', 'message': 'Adjust ovsdpdk-db binding address\n\nChange https://review.openstack.org/#/c/497141/ did not\nupdated ovsdpdk container.\n\nAdd ovsdb bind address parameter\nconditional based on neutron_plugin_agent\n\nChange-Id: I186269404b53f8fcda273e21872ebc27281032a9\nSigned-off-by: Maciej Skrocki <maciej.skrocki@intel.com>\n'}, {'number': 4, 'created': '2018-01-25 21:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1b5de377b68a0027477dd8c66bc98a4127ccdbfe', 'message': 'Adjust ovsdpdk-db binding address\n\nChange https://review.openstack.org/#/c/497141/ did not\nupdated ovsdpdk container.\n\nAdd ovsdb bind address parameter\nconditional based on neutron_plugin_agent\n\nChange-Id: I186269404b53f8fcda273e21872ebc27281032a9\nSigned-off-by: Maciej Skrocki <maciej.skrocki@intel.com>\n'}, {'number': 5, 'created': '2018-01-25 21:56:08.000000000', 'files': ['ansible/roles/ovs-dpdk/templates/ovsdpdk-db.json.j2', 'ansible/roles/ovs-dpdk/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9d7c2c967a8c5a335309647e7d8d90d14550beb3', 'message': 'Adjust ovsdpdk-db binding address\n\nChange https://review.openstack.org/#/c/497141/ did not\nupdated ovsdpdk container.\n\nAdd ovsdb bind address parameter\nconditional based on neutron_plugin_agent or skydive\n\nChange-Id: I186269404b53f8fcda273e21872ebc27281032a9\nSigned-off-by: Maciej Skrocki <maciej.skrocki@intel.com>\n'}]",3,506372,9d7c2c967a8c5a335309647e7d8d90d14550beb3,23,11,5,26203,,,0,"Adjust ovsdpdk-db binding address

Change https://review.openstack.org/#/c/497141/ did not
updated ovsdpdk container.

Add ovsdb bind address parameter
conditional based on neutron_plugin_agent or skydive

Change-Id: I186269404b53f8fcda273e21872ebc27281032a9
Signed-off-by: Maciej Skrocki <maciej.skrocki@intel.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/72/506372/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ovs-dpdk/templates/ovsdpdk-db.json.j2'],1,c090d2270bbb36ff40e0a1a6394d3511025dfa59,ovsbind," ""command"": ""start-ovsdb-server 127.0.0.1"","," ""command"": ""start-ovsdb-server {{ api_interface_address }}"",",1,1
openstack%2Fcharm-nova-k8s~main~Iea22c9dd2e40ca98f5226e04f8dd20115eed6042,openstack/charm-nova-k8s,main,Iea22c9dd2e40ca98f5226e04f8dd20115eed6042,Update libraries for new locations,MERGED,2022-10-18 08:06:43.000000000,2022-10-18 09:50:54.000000000,2022-10-18 09:01:30.000000000,"[{'_account_id': 10366}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-18 08:06:43.000000000', 'files': ['lib/charms/keystone_k8s/v0/identity_service.py', 'lib/charms/nginx_ingress_integrator/v0/ingress.py', 'lib/charms/sunbeam_rabbitmq_operator/v0/amqp.py', 'lib/charms/observability_libs/v0/kubernetes_service_patch.py', 'lib/charms/rabbitmq_k8s/v0/rabbitmq.py', 'fetch-libs.sh'], 'web_link': 'https://opendev.org/openstack/charm-nova-k8s/commit/4c0093b9f8ad83039f95a9c5db2711dff2dbed91', 'message': 'Update libraries for new locations\n\nRefresh all interface libraries from new published locations.\n\nChange-Id: Iea22c9dd2e40ca98f5226e04f8dd20115eed6042\n'}]",0,861714,4c0093b9f8ad83039f95a9c5db2711dff2dbed91,8,3,1,935,,,0,"Update libraries for new locations

Refresh all interface libraries from new published locations.

Change-Id: Iea22c9dd2e40ca98f5226e04f8dd20115eed6042
",git fetch https://review.opendev.org/openstack/charm-nova-k8s refs/changes/14/861714/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/charms/keystone_k8s/v0/identity_service.py', 'lib/charms/nginx_ingress_integrator/v0/ingress.py', 'lib/charms/sunbeam_rabbitmq_operator/v0/amqp.py', 'lib/charms/observability_libs/v0/kubernetes_service_patch.py', 'lib/charms/rabbitmq_k8s/v0/rabbitmq.py', 'fetch-libs.sh']",6,4c0093b9f8ad83039f95a9c5db2711dff2dbed91,update-libs,charmcraft fetch-lib charms.data_platform_libs.v0.database_requires charmcraft fetch-lib charms.keystone_k8s.v0.identity_service charmcraft fetch-lib charms.rabbitmq_k8s.v0.rabbitmqcharmcraft fetch-lib charms.nova_compute_k8s.v0.cloud_compute,charmcraft fetch-lib charms.nginx_ingress_integrator.v0.ingress charmcraft fetch-lib charms.sunbeam_mysql_k8s.v0.mysql charmcraft fetch-lib charms.sunbeam_keystone_operator.v0.identity_service charmcraft fetch-lib charms.sunbeam_rabbitmq_operator.v0.amqpcharmcraft fetch-lib charms.sunbeam_nova_compute_operator.v0.cloud_compute,344,539
openstack%2Fkolla-ansible~master~I0d307db55e72f540d7036e2599e53b68fa13204e,openstack/kolla-ansible,master,I0d307db55e72f540d7036e2599e53b68fa13204e,Horizon launch instance defaults,ABANDONED,2017-12-18 14:07:09.000000000,2022-10-18 09:48:16.000000000,,"[{'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 24043}, {'_account_id': 26880}]","[{'number': 1, 'created': '2017-12-18 14:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8371346bca4b8b5fed42e26b94fe9eaa17e64653', 'message': 'Horizon launch instance defaults\n\nAdd horizon LAUNCH_INSTANCE_DEFAULTS customization.\n\nChange-Id: I0d307db55e72f540d7036e2599e53b68fa13204e\n'}, {'number': 2, 'created': '2017-12-18 14:43:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/50caf2ff2dd7b02142002e010635a85a4a335873', 'message': 'Horizon launch instance defaults\n\nAdd horizon LAUNCH_INSTANCE_DEFAULTS customization. Allow to set an hash of\nsettings which can be used to provide the default values for properties found\nin the Launch Instance modal of horizon. See documentation here:\nhttps://docs.openstack.org/horizon/latest/configuration/settings.html#launch-instance-defaults\n\nChange-Id: I0d307db55e72f540d7036e2599e53b68fa13204e\n'}, {'number': 3, 'created': '2017-12-18 16:01:18.000000000', 'files': ['ansible/roles/horizon/templates/local_settings.j2', 'releasenotes/notes/horizon_launch_defaults-ddf7ebf6bb4e455a.yaml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/954f8b528b2ebb4936cd176243cf582edc53b7f6', 'message': 'Horizon launch instance defaults\n\nAdd horizon LAUNCH_INSTANCE_DEFAULTS customization. Allow to set an hash of\nsettings which can be used to provide the default values for properties found\nin the Launch Instance modal of horizon. See documentation here:\nhttps://docs.openstack.org/horizon/latest/configuration/settings.html#launch-instance-defaults\n\nChange-Id: I0d307db55e72f540d7036e2599e53b68fa13204e\n'}]",9,528730,954f8b528b2ebb4936cd176243cf582edc53b7f6,14,5,3,26880,,,0,"Horizon launch instance defaults

Add horizon LAUNCH_INSTANCE_DEFAULTS customization. Allow to set an hash of
settings which can be used to provide the default values for properties found
in the Launch Instance modal of horizon. See documentation here:
https://docs.openstack.org/horizon/latest/configuration/settings.html#launch-instance-defaults

Change-Id: I0d307db55e72f540d7036e2599e53b68fa13204e
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/30/528730/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/horizon/defaults/main.yml', 'ansible/roles/horizon/templates/local_settings.j2', 'releasenotes/notes/horizon_launch_defaults-ddf7ebf6bb4e455a.yaml']",3,8371346bca4b8b5fed42e26b94fe9eaa17e64653,feature/horizon_launch_instance_defaults,--- features: - | Add horizon 'LAUNCH_INSTANCE_DEFAULTS' customization. Official documentation and supported flags are available here: https://docs.openstack.org/horizon/latest/configuration/settings.html#launch-instance-defaults ,,38,4
openstack%2Fcharm-horizon-k8s~main~I5365957631c9763e41e6c0d3f8adc52a9e80d380,openstack/charm-horizon-k8s,main,I5365957631c9763e41e6c0d3f8adc52a9e80d380,Update libraries from new locations,MERGED,2022-10-18 08:09:31.000000000,2022-10-18 09:42:56.000000000,2022-10-18 09:03:07.000000000,"[{'_account_id': 10366}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-18 08:09:31.000000000', 'files': ['lib/charms/keystone_k8s/v0/identity_service.py', 'lib/charms/keystone_k8s/v0/cloud_credentials.py', 'lib/charms/rabbitmq_k8s/v0/rabbitmq.py', 'fetch-libs.sh'], 'web_link': 'https://opendev.org/openstack/charm-horizon-k8s/commit/54ea7dcf847b1122d71d5f323b25bce46a581190', 'message': 'Update libraries from new locations\n\nRefresh all interface libraries from new locations.\n\nChange-Id: I5365957631c9763e41e6c0d3f8adc52a9e80d380\n'}]",0,861715,54ea7dcf847b1122d71d5f323b25bce46a581190,8,3,1,935,,,0,"Update libraries from new locations

Refresh all interface libraries from new locations.

Change-Id: I5365957631c9763e41e6c0d3f8adc52a9e80d380
",git fetch https://review.opendev.org/openstack/charm-horizon-k8s refs/changes/15/861715/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/charms/keystone_k8s/v0/identity_service.py', 'lib/charms/keystone_k8s/v0/cloud_credentials.py', 'lib/charms/rabbitmq_k8s/v0/rabbitmq.py', 'fetch-libs.sh']",4,54ea7dcf847b1122d71d5f323b25bce46a581190,update-libs,charmcraft fetch-lib charms.keystone_k8s.v0.identity_service charmcraft fetch-lib charms.keystone_k8s.v0.cloud_credentials charmcraft fetch-lib charms.rabbitmq_k8s.v0.rabbitmq,charmcraft fetch-lib charms.nginx_ingress_integrator.v0.ingresscharmcraft fetch-lib charms.sunbeam_keystone_operator.v0.identity_service charmcraft fetch-lib charms.sunbeam_keystone_operator.v0.cloud_credentials charmcraft fetch-lib charms.sunbeam_rabbitmq_operator.v0.amqp,104,98
openstack%2Fcharm-cinder-ceph-k8s~main~Ib1f8f9cd4c72dc8a2cf6336795cfcc124ef4e1f1,openstack/charm-cinder-ceph-k8s,main,Ib1f8f9cd4c72dc8a2cf6336795cfcc124ef4e1f1,Update libraries for new charm locations,MERGED,2022-10-18 08:37:40.000000000,2022-10-18 09:42:50.000000000,2022-10-18 09:14:18.000000000,"[{'_account_id': 10366}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-18 08:37:40.000000000', 'files': ['lib/charms/traefik_k8s/v1/ingress.py', 'lib/charms/keystone_k8s/v0/identity_service.py', 'lib/charms/nginx_ingress_integrator/v0/ingress.py', 'lib/charms/sunbeam_rabbitmq_operator/v0/amqp.py', 'lib/charms/cinder_k8s/v0/storage_backend.py', 'tests/unit/__init__.py', 'lib/charms/rabbitmq_k8s/v0/rabbitmq.py', 'src/charm.py', 'fetch-libs.sh'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph-k8s/commit/b040ac19c6afb0dab62472c431c04ef87a7eb1ca', 'message': 'Update libraries for new charm locations\n\nRefresh all libraries from new locations on charmhub.\n\nChange-Id: Ib1f8f9cd4c72dc8a2cf6336795cfcc124ef4e1f1\n'}]",0,861720,b040ac19c6afb0dab62472c431c04ef87a7eb1ca,8,3,1,935,,,0,"Update libraries for new charm locations

Refresh all libraries from new locations on charmhub.

Change-Id: Ib1f8f9cd4c72dc8a2cf6336795cfcc124ef4e1f1
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph-k8s refs/changes/20/861720/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/charms/traefik_k8s/v1/ingress.py', 'lib/charms/keystone_k8s/v0/identity_service.py', 'lib/charms/nginx_ingress_integrator/v0/ingress.py', 'lib/charms/sunbeam_rabbitmq_operator/v0/amqp.py', 'lib/charms/cinder_k8s/v0/storage_backend.py', 'tests/unit/__init__.py', 'lib/charms/rabbitmq_k8s/v0/rabbitmq.py', 'src/charm.py', 'fetch-libs.sh']",9,b040ac19c6afb0dab62472c431c04ef87a7eb1ca,update-libs,charmcraft fetch-lib charms.data_platform_libs.v0.database_requires charmcraft fetch-lib charms.keystone_k8s.v0.identity_service charmcraft fetch-lib charms.rabbitmq_k8s.v0.rabbitmqcharmcraft fetch-lib charms.cinder_k8s.v0.storage_backend charmcraft fetch-lib charms.traefik_k8s.v1.ingress,charmcraft fetch-lib charms.nginx_ingress_integrator.v0.ingress charmcraft fetch-lib charms.sunbeam_mysql_k8s.v0.mysql charmcraft fetch-lib charms.sunbeam_keystone_operator.v0.identity_service charmcraft fetch-lib charms.sunbeam_rabbitmq_operator.v0.amqpcharmcraft fetch-lib charms.traefik_k8s.v0.ingress charmcraft fetch-lib charms.sunbeam_cinder_operator.v0.storage_backend,858,542
openstack%2Fsolum~master~If8d25af694c53bb0f8219fdbf87de194432a4e1e,openstack/solum,master,If8d25af694c53bb0f8219fdbf87de194432a4e1e,Update master for stable/zed,MERGED,2022-09-14 13:42:39.000000000,2022-10-18 09:35:58.000000000,2022-10-18 09:34:33.000000000,"[{'_account_id': 8556}, {'_account_id': 14107}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-09-14 13:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/15bf071c29ccfa9410977f46af583942b85f521d', 'message': 'Update master for stable/zed\n\nAdd file to the reno documentation build to show release notes for\nstable/zed.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/zed.\n\nSem-Ver: feature\nChange-Id: If8d25af694c53bb0f8219fdbf87de194432a4e1e\n'}, {'number': 2, 'created': '2022-10-18 08:40:30.000000000', 'files': ['releasenotes/source/zed.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/solum/commit/d56c27a86a6e2e3980a86b1b418a482bf9d017be', 'message': 'Update master for stable/zed\n\nAdd file to the reno documentation build to show release notes for\nstable/zed.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/zed.\n\nSem-Ver: feature\nChange-Id: If8d25af694c53bb0f8219fdbf87de194432a4e1e\n'}]",1,857687,d56c27a86a6e2e3980a86b1b418a482bf9d017be,13,5,2,22816,,,0,"Update master for stable/zed

Add file to the reno documentation build to show release notes for
stable/zed.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/zed.

Sem-Ver: feature
Change-Id: If8d25af694c53bb0f8219fdbf87de194432a4e1e
",git fetch https://review.opendev.org/openstack/solum refs/changes/87/857687/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/zed.rst', 'releasenotes/source/index.rst']",2,15bf071c29ccfa9410977f46af583942b85f521d,reno-zed, zed,,7,0
openstack%2Fmanila-tempest-plugin~master~If6037bb347dcee0fc549700b020b43f9774cea82,openstack/manila-tempest-plugin,master,If6037bb347dcee0fc549700b020b43f9774cea82,DNM,ABANDONED,2022-10-18 08:59:29.000000000,2022-10-18 09:29:28.000000000,,[],"[{'number': 1, 'created': '2022-10-18 08:59:29.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/31df8201ccb82d026aa2f91e41ee408bafd1c1b7', 'message': 'DNM\n\nChange-Id: If6037bb347dcee0fc549700b020b43f9774cea82\n'}]",0,861722,31df8201ccb82d026aa2f91e41ee408bafd1c1b7,2,0,1,19262,,,0,"DNM

Change-Id: If6037bb347dcee0fc549700b020b43f9774cea82
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/22/861722/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,31df8201ccb82d026aa2f91e41ee408bafd1c1b7,check-rbac-gate,# - manila-tempest-plugin-dummy-no-dhss # - manila-tempest-plugin-dummy-dhss # - manila-tempest-plugin-lvm-yoga # - manila-tempest-plugin-lvm-xena # - manila-tempest-plugin-lvm-wallaby# - manila-tempest-plugin-container: # voting: false # - manila-tempest-plugin-glusterfs-nfs: # voting: false # gate: # jobs: # - manila-tempest-plugin-dummy-no-dhss # - manila-tempest-plugin-dummy-dhss # experimental: # jobs: # - manila-tempest-plugin-glusterfs-native: # voting: false, - manila-tempest-plugin-dummy-no-dhss - manila-tempest-plugin-dummy-dhss - manila-tempest-plugin-lvm-yoga - manila-tempest-plugin-lvm-xena - manila-tempest-plugin-lvm-wallaby - manila-tempest-plugin-container: voting: false - manila-tempest-plugin-glusterfs-nfs: voting: false gate: jobs: - manila-tempest-plugin-dummy-no-dhss - manila-tempest-plugin-dummy-dhss experimental: jobs: - manila-tempest-plugin-glusterfs-native: voting: false,17,17
openstack%2Fcharm-neutron-k8s~main~I15ba16152c2fd77b39c14ba7116d0da2bd0697b0,openstack/charm-neutron-k8s,main,I15ba16152c2fd77b39c14ba7116d0da2bd0697b0,Update libraries,MERGED,2022-10-18 07:52:47.000000000,2022-10-18 09:21:04.000000000,2022-10-18 08:38:54.000000000,"[{'_account_id': 10366}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-18 07:52:47.000000000', 'files': ['lib/charms/ovn_central_k8s/v0/ovsdb.py', 'lib/charms/keystone_k8s/v0/identity_service.py', 'lib/charms/sunbeam_rabbitmq_operator/v0/amqp.py', 'lib/charms/observability_libs/v0/kubernetes_service_patch.py', 'tests/config.yaml', 'lib/charms/rabbitmq_k8s/v0/rabbitmq.py', 'fetch-libs.sh'], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/90a226473a7c60265cd2a70db0c41b9cc945a26d', 'message': 'Update libraries\n\nFetch libraries from new locations on charmhub.\n\nDrive-by fix to link config.yaml for unit testing.\n\nChange-Id: I15ba16152c2fd77b39c14ba7116d0da2bd0697b0\n'}]",0,861712,90a226473a7c60265cd2a70db0c41b9cc945a26d,8,3,1,935,,,0,"Update libraries

Fetch libraries from new locations on charmhub.

Drive-by fix to link config.yaml for unit testing.

Change-Id: I15ba16152c2fd77b39c14ba7116d0da2bd0697b0
",git fetch https://review.opendev.org/openstack/charm-neutron-k8s refs/changes/12/861712/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/charms/ovn_central_k8s/v0/ovsdb.py', 'lib/charms/keystone_k8s/v0/identity_service.py', 'lib/charms/sunbeam_rabbitmq_operator/v0/amqp.py', 'lib/charms/observability_libs/v0/kubernetes_service_patch.py', 'lib/charms/rabbitmq_k8s/v0/rabbitmq.py', 'tests/config.yaml', 'fetch-libs.sh']",7,90a226473a7c60265cd2a70db0c41b9cc945a26d,update-libs,charmcraft fetch-lib charms.keystone_k8s.v0.identity_service charmcraft fetch-lib charms.rabbitmq_k8s.v0.rabbitmqcharmcraft fetch-lib charms.ovn_central_k8s.v0.ovsdb,charmcraft fetch-lib charms.nginx_ingress_integrator.v0.ingresscharmcraft fetch-lib charms.sunbeam_keystone_operator.v0.identity_service charmcraft fetch-lib charms.sunbeam_rabbitmq_operator.v0.amqpcharmcraft fetch-lib charms.sunbeam_ovn_central_operator.v0.ovsdb,347,329
openstack%2Fmanila-tempest-plugin~master~I7cae098a8240d6702c79b5ef0b4f5823138c4e36,openstack/manila-tempest-plugin,master,I7cae098a8240d6702c79b5ef0b4f5823138c4e36,DNM,ABANDONED,2022-06-14 04:20:24.000000000,2022-10-18 09:09:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-14 04:20:24.000000000', 'files': ['DNM'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/30df59baf7280337b5891a260bf822c0beef061c', 'message': 'DNM\n\nChange-Id: I7cae098a8240d6702c79b5ef0b4f5823138c4e36\n'}]",0,845663,30df59baf7280337b5891a260bf822c0beef061c,4,1,1,19262,,,0,"DNM

Change-Id: I7cae098a8240d6702c79b5ef0b4f5823138c4e36
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/63/845663/1 && git format-patch -1 --stdout FETCH_HEAD,['DNM'],1,30df59baf7280337b5891a260bf822c0beef061c,DNM,,,0,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I0c017d022fbad9a8f99e5f27a7245f84de483950,openstack/tripleo-heat-templates,stable/train,I0c017d022fbad9a8f99e5f27a7245f84de483950,"Fix kill-script search string to match any ""/libpod-""",MERGED,2022-10-04 08:40:41.000000000,2022-10-18 09:05:18.000000000,2022-10-18 09:05:18.000000000,"[{'_account_id': 6681}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-10-04 08:40:41.000000000', 'files': ['deployment/neutron/kill-script'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bd091d0507dedfdabda7bb6c6f8c9ee75d910f63', 'message': 'Fix kill-script search string to match any ""/libpod-""\n\nIn order to find the container hash, the ""/proc/$PID/cgroup"" file will\nreturn several lines, some of them with the patterns:\n  .*/libpod-<container_ID>.scope\n  .*/libpod-conmon-<container_ID>.scope\n\nThe search pattern should look for ""/libpod-"" and the rest of the\nexpression will extract the container ID. That will prevent the\nissue reported in the related bug, when the ""pids:..."" line does\nnot contain this information.\n\nChange-Id: I0c017d022fbad9a8f99e5f27a7245f84de483950\nCloses-Bug: #1990990\n(cherry picked from commit 3e983806e0979d6b9a86a61eded878ecf648f6c8)\n'}]",0,860220,bd091d0507dedfdabda7bb6c6f8c9ee75d910f63,8,6,1,16688,,,0,"Fix kill-script search string to match any ""/libpod-""

In order to find the container hash, the ""/proc/$PID/cgroup"" file will
return several lines, some of them with the patterns:
  .*/libpod-<container_ID>.scope
  .*/libpod-conmon-<container_ID>.scope

The search pattern should look for ""/libpod-"" and the rest of the
expression will extract the container ID. That will prevent the
issue reported in the related bug, when the ""pids:..."" line does
not contain this information.

Change-Id: I0c017d022fbad9a8f99e5f27a7245f84de483950
Closes-Bug: #1990990
(cherry picked from commit 3e983806e0979d6b9a86a61eded878ecf648f6c8)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/20/860220/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/kill-script'],1,bd091d0507dedfdabda7bb6c6f8c9ee75d910f63,bug/1990990," CT_ID=$(awk 'BEGIN {FS="".scope|-""} /\/libpod-/ {if ($(NF-1)) print $(NF-1);exit}' /proc/$PID/cgroup)"," CT_ID=$(awk 'BEGIN {FS="".scope|-""} /0::|:pids:/ {if ($(NF-1)) print $(NF-1);exit}' /proc/$PID/cgroup)",1,1
openstack%2Fsolum~master~I1677f0092d9674f1643add76f42dfa47ef6dc83a,openstack/solum,master,I1677f0092d9674f1643add76f42dfa47ef6dc83a,Fix solum ci,MERGED,2022-10-18 05:28:35.000000000,2022-10-18 09:04:10.000000000,2022-10-18 09:01:19.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-18 05:28:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/fe149d6c42c05fefd12c589845f13e9bcd9e1236', 'message': 'TEST\n\nChange-Id: I1677f0092d9674f1643add76f42dfa47ef6dc83a\n'}, {'number': 2, 'created': '2022-10-18 05:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/c1c8b8d0920ddac5bf3647300ba31ce85ed32585', 'message': 'TEST\n\nChange-Id: I1677f0092d9674f1643add76f42dfa47ef6dc83a\n'}, {'number': 3, 'created': '2022-10-18 05:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/0dd29265eecc8fc1f89bd490fe07e613dbc4b0dd', 'message': 'TEST\n\nChange-Id: I1677f0092d9674f1643add76f42dfa47ef6dc83a\n'}, {'number': 4, 'created': '2022-10-18 06:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/42b39175a134a752f6ce712ef56b8e4c8e8ca007', 'message': 'TEST\n\nChange-Id: I1677f0092d9674f1643add76f42dfa47ef6dc83a\n'}, {'number': 5, 'created': '2022-10-18 06:54:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/6e0f62d57a95d0b37e4a0c289df457e1917c4fad', 'message': 'TEST\n\nChange-Id: I1677f0092d9674f1643add76f42dfa47ef6dc83a\n'}, {'number': 6, 'created': '2022-10-18 07:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/2045f2eac05608c2772ec4d6decf3bf74bb2f630', 'message': 'TEST\n\nChange-Id: I1677f0092d9674f1643add76f42dfa47ef6dc83a\n'}, {'number': 7, 'created': '2022-10-18 07:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/f17b20712b46562fcdb1d718f43a36a05a17e7f0', 'message': 'TEST\n\nChange-Id: I1677f0092d9674f1643add76f42dfa47ef6dc83a\n'}, {'number': 8, 'created': '2022-10-18 07:17:38.000000000', 'files': ['solum/common/exception.py', '.zuul.yaml', 'solum/objects/sqlalchemy/__init__.py', 'solum/objects/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/solum/commit/d82f2ccde9399dad09d93ee64bc571e67dace573', 'message': 'Fix solum ci\n\nChange-Id: I1677f0092d9674f1643add76f42dfa47ef6dc83a\n'}]",0,861621,d82f2ccde9399dad09d93ee64bc571e67dace573,15,2,8,14107,,,0,"Fix solum ci

Change-Id: I1677f0092d9674f1643add76f42dfa47ef6dc83a
",git fetch https://review.opendev.org/openstack/solum refs/changes/21/861621/8 && git format-patch -1 --stdout FETCH_HEAD,"['solum/common/exception.py', 'tox.ini']",2,fe149d6c42c05fefd12c589845f13e9bcd9e1236,, stestr run --concurrency 1 {posargs} stestr run --concurrency 1 {posargs}, stestr run {posargs} stestr run {posargs},4,4
openstack%2Fansible-collections-openstack~master~I129f866e7ed8d5c0499c93e78ebbe2c424e09423,openstack/ansible-collections-openstack,master,I129f866e7ed8d5c0499c93e78ebbe2c424e09423,Refactored floating_ip and floating_ip_info modules,MERGED,2022-02-09 22:04:23.000000000,2022-10-18 09:00:21.000000000,2022-10-18 09:00:21.000000000,"[{'_account_id': 8367}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 32458}, {'_account_id': 32962}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-02-09 22:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/564bd9c281d182455c3d48babb9d886062924977', 'message': 'Refactored and documented floating_ip module\n\nUse service proxies from OpenStack SDK wherever possible\nand reasonable in order to reduce api calls etc.\n\nChange-Id: I129f866e7ed8d5c0499c93e78ebbe2c424e09423\n'}, {'number': 2, 'created': '2022-02-10 08:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/bdc8839b94a02dc3619765cac30ba74e1df32ff6', 'message': 'Refactored and documented floating_ip module\n\nUse service proxies from OpenStack SDK wherever possible\nand reasonable in order to reduce api calls etc.\n\nReformatted ci tests and added assertion on return values.\n\nChange-Id: I129f866e7ed8d5c0499c93e78ebbe2c424e09423\n'}, {'number': 3, 'created': '2022-02-15 08:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ccf3d23f53926aa851fc3a32932a0f7d3c0ad534', 'message': 'Refactored and documented floating_ip module\n\nUse service proxies from OpenStack SDK wherever possible\nand reasonable in order to reduce api calls etc.\n\nReformatted ci tests and added assertion on return values.\n\nChange-Id: I129f866e7ed8d5c0499c93e78ebbe2c424e09423\n'}, {'number': 4, 'created': '2022-07-06 09:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/bff98fe4e0a7ee9cc725dc87f66d063df6340c15', 'message': 'Refactored and documented floating_ip module\n\nUse service proxies from OpenStack SDK wherever possible\nand reasonable in order to reduce api calls etc.\n\nReformatted ci tests and added assertion on return values.\n\nChange-Id: I129f866e7ed8d5c0499c93e78ebbe2c424e09423\n'}, {'number': 5, 'created': '2022-07-06 10:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1653d6512ff72fabfcef65c4768f7c85e83183e6', 'message': 'Refactored and documented floating_ip module\n\nUse service proxies from OpenStack SDK wherever possible\nand reasonable in order to reduce api calls etc.\n\nReformatted ci tests and added assertion on return values.\n\nChange-Id: I129f866e7ed8d5c0499c93e78ebbe2c424e09423\n'}, {'number': 6, 'created': '2022-07-06 12:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3498f2c2678f0d0fb835588d5efb6dbe0b2c3d8c', 'message': 'Refactored and documented floating_ip module\n\nUse service proxies from OpenStack SDK wherever possible\nand reasonable in order to reduce api calls etc.\n\nReformatted ci tests and added assertion on return values.\n\nChange-Id: I129f866e7ed8d5c0499c93e78ebbe2c424e09423\n'}, {'number': 7, 'created': '2022-08-03 14:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f58737459c5263d9ed634e78dfdecbf181e6ddc7', 'message': ""Refactored floating_ip and floating_ip_info modules\n\nUse service proxies from openstacksdk wherever reasonable in order to\nreduce calls to OpenStack API.\n\nRenamed floating_ip_info's attribute 'project_id' to 'project' to be\nconsistent with other attributes and added the former as an alias to\nkeep backward compatibility. The latter can now also be used to search\nfor floating ips by project names, not only project ids.\n\nSorted argument specs and documentation of both modules.\n\nReworked integration tests, e.g. replaced references to server's\n'addresses' attribute with calls to our port_info and floating_ip_info\nmodules. Also reformatted tests and added assertion on return values.\n\nChanged Zuul CI job ansible-collections-openstack-functional-\\\ndevstack-releases to non-voting because the Depends-On patch has not\nbeen released to PyPI yet.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/851976\n\nChange-Id: I129f866e7ed8d5c0499c93e78ebbe2c424e09423\n""}, {'number': 8, 'created': '2022-08-03 15:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5eb40f6b30a4308af41504ec1ef9d0167fe3024f', 'message': ""Refactored floating_ip and floating_ip_info modules\n\nUse service proxies from openstacksdk wherever reasonable in order to\nreduce calls to OpenStack API.\n\nRenamed floating_ip_info's attribute 'project_id' to 'project' to be\nconsistent with other attributes and added the former as an alias to\nkeep backward compatibility. The latter can now also be used to search\nfor floating ips by project names, not only project ids.\n\nSorted argument specs and documentation of both modules.\n\nReworked integration tests, e.g. replaced references to server's\n'addresses' attribute with calls to our port_info and floating_ip_info\nmodules. Also reformatted tests and added assertion on return values.\n\nChanged Zuul CI job ansible-collections-openstack-functional-\\\ndevstack-releases to non-voting because the Depends-On patch has not\nbeen released to PyPI yet.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/851976\n\nChange-Id: I129f866e7ed8d5c0499c93e78ebbe2c424e09423\n""}, {'number': 9, 'created': '2022-08-04 08:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b3a47c382898e102342f5a891563b2fb7d701e54', 'message': ""Refactored floating_ip and floating_ip_info modules\n\nUse service proxies from openstacksdk wherever reasonable in order to\nreduce calls to OpenStack API.\n\nRenamed floating_ip_info's attribute 'project_id' to 'project' to be\nconsistent with other attributes and added the former as an alias to\nkeep backward compatibility. The latter can now also be used to search\nfor floating ips by project names, not only project ids.\n\nSorted argument specs and documentation of both modules.\n\nReworked integration tests, e.g. replaced references to server's\n'addresses' attribute with calls to our port_info and floating_ip_info\nmodules. Also reformatted tests and added assertion on return values.\n\nChanged Zuul CI job ansible-collections-openstack-functional-\\\ndevstack-releases to non-voting because the Depends-On patch has not\nbeen released to PyPI yet.\n\nMerged integration tests of floating_ip_info module into floating_ip\nmodule, because the former does not create any floating ips and\nassumes that they have been created earlier.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/851976\n\nChange-Id: I129f866e7ed8d5c0499c93e78ebbe2c424e09423\n""}, {'number': 10, 'created': '2022-08-10 08:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4844d12be4d2aff9ef0e2ce8fdb3b1362d4dc7fc', 'message': ""Refactored floating_ip and floating_ip_info modules\n\nUse service proxies from openstacksdk wherever reasonable in order to\nreduce calls to OpenStack API.\n\nRenamed floating_ip_info's attribute 'project_id' to 'project' to be\nconsistent with other attributes and added the former as an alias to\nkeep backward compatibility. The latter can now also be used to search\nfor floating ips by project names, not only project ids.\n\nSorted argument specs and documentation of both modules.\n\nReworked integration tests, e.g. replaced references to server's\n'addresses' attribute with calls to our port_info and floating_ip_info\nmodules. Also reformatted tests and added assertion on return values.\n\nChanged Zuul CI job ansible-collections-openstack-functional-\\\ndevstack-releases to non-voting because the Depends-On patch has not\nbeen released to PyPI yet.\n\nMerged integration tests of floating_ip_info module into floating_ip\nmodule, because the former does not create any floating ips and\nassumes that they have been created earlier.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/851976\n\nChange-Id: I129f866e7ed8d5c0499c93e78ebbe2c424e09423\n""}, {'number': 11, 'created': '2022-08-10 08:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/cc5569b79cc389583850e6ca210ad76487b8e0af', 'message': ""Refactored floating_ip and floating_ip_info modules\n\nUse service proxies from openstacksdk wherever reasonable in order to\nreduce calls to OpenStack API.\n\nRenamed floating_ip_info's attribute 'project_id' to 'project' to be\nconsistent with other attributes and added the former as an alias to\nkeep backward compatibility. The latter can now also be used to search\nfor floating ips by project names, not only project ids.\n\nSorted argument specs and documentation of both modules.\n\nReworked integration tests, e.g. replaced references to server's\n'addresses' attribute with calls to our port_info and floating_ip_info\nmodules. Also reformatted tests and added assertion on return values.\n\nChanged Zuul CI job ansible-collections-openstack-functional-\\\ndevstack-releases to non-voting because [1] has not been released to\nPyPI yet.\n\nMerged integration tests of floating_ip_info module into floating_ip\nmodule, because the former does not create any floating ips and\nassumes that they have been created earlier.\n\n[1] https://review.opendev.org/c/openstack/openstacksdk/+/851976\n\nChange-Id: I129f866e7ed8d5c0499c93e78ebbe2c424e09423\n""}, {'number': 12, 'created': '2022-08-22 13:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/fe0c6a1d08979fa1e6b165123ce9be3332f69f0f', 'message': ""Refactored floating_ip and floating_ip_info modules\n\nUse service proxies from openstacksdk wherever reasonable in order to\nreduce calls to OpenStack API.\n\nRenamed floating_ip_info's attribute 'project_id' to 'project' to be\nconsistent with other attributes and added the former as an alias to\nkeep backward compatibility. The latter can now also be used to search\nfor floating ips by project names, not only project ids.\n\nSorted argument specs and documentation of both modules.\n\nReworked integration tests, e.g. replaced references to server's\n'addresses' attribute with calls to our port_info and floating_ip_info\nmodules. Also reformatted tests and added assertion on return values.\n\nChanged Zuul CI job ansible-collections-openstack-functional-\\\ndevstack-releases to non-voting because [1] has not been released to\nPyPI yet.\n\nMerged integration tests of floating_ip_info module into floating_ip\nmodule, because the former does not create any floating ips and\nassumes that they have been created earlier.\n\n[1] https://review.opendev.org/c/openstack/openstacksdk/+/851976\n\nChange-Id: I129f866e7ed8d5c0499c93e78ebbe2c424e09423\n""}, {'number': 13, 'created': '2022-08-22 13:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/69b67ab3f02c35222ca20afeca6ae136b7543857', 'message': ""Refactored floating_ip and floating_ip_info modules\n\nUse service proxies from openstacksdk wherever reasonable in order to\nreduce calls to OpenStack API.\n\nRenamed floating_ip_info's attribute 'project_id' to 'project' to be\nconsistent with other attributes and added the former as an alias to\nkeep backward compatibility. The latter can now also be used to search\nfor floating ips by project names, not only project ids.\n\nSorted argument specs and documentation of both modules.\n\nReworked integration tests, e.g. replaced references to server's\n'addresses' attribute with calls to our port_info and floating_ip_info\nmodules. Also reformatted tests and added assertion on return values.\n\nChanged Zuul CI job ansible-collections-openstack-functional-\\\ndevstack-releases to non-voting because [1] has not been released to\nPyPI yet.\n\nMerged integration tests of floating_ip_info module into floating_ip\nmodule, because the former does not create any floating ips and\nassumes that they have been created earlier.\n\n[1] https://review.opendev.org/c/openstack/openstacksdk/+/851976\n\nChange-Id: I129f866e7ed8d5c0499c93e78ebbe2c424e09423\n""}, {'number': 14, 'created': '2022-09-21 10:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e04c342e2f5d143ada155ed09b254735509d884d', 'message': ""Refactored floating_ip and floating_ip_info modules\n\nUse service proxies from openstacksdk wherever reasonable in order to\nreduce calls to OpenStack API.\n\nRenamed floating_ip_info's attribute 'project_id' to 'project' to be\nconsistent with other attributes and added the former as an alias to\nkeep backward compatibility. The latter can now also be used to search\nfor floating ips by project names, not only project ids.\n\nSorted argument specs and documentation of both modules.\n\nReworked integration tests, e.g. replaced references to server's\n'addresses' attribute with calls to our port_info and floating_ip_info\nmodules. Also reformatted tests and added assertion on return values.\n\nChanged Zuul CI job ansible-collections-openstack-functional-\\\ndevstack-releases to non-voting because [1] has not been released to\nPyPI yet.\n\nMerged integration tests of floating_ip_info module into floating_ip\nmodule, because the former does not create any floating ips and\nassumes that they have been created earlier.\n\n[1] https://review.opendev.org/c/openstack/openstacksdk/+/851976\n\nChange-Id: I129f866e7ed8d5c0499c93e78ebbe2c424e09423\n""}, {'number': 15, 'created': '2022-09-21 12:05:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/92e54efbbeeb3d91082ad94e4b8a38b14322f62f', 'message': ""Refactored floating_ip and floating_ip_info modules\n\nUse service proxies from openstacksdk wherever reasonable in order to\nreduce calls to OpenStack API.\n\nRenamed floating_ip_info's attribute 'project_id' to 'project' to be\nconsistent with other attributes and added the former as an alias to\nkeep backward compatibility. The latter can now also be used to search\nfor floating ips by project names, not only project ids.\n\nSorted argument specs and documentation of both modules.\n\nReworked integration tests, e.g. replaced references to server's\n'addresses' attribute with calls to our port_info and floating_ip_info\nmodules. Also reformatted tests and added assertion on return values.\n\nMerged integration tests of floating_ip_info module into floating_ip\nmodule, because the former does not create any floating ips and\nassumes that they have been created earlier.\n\nFor Zuul CI job ansible-collections-openstack-functional-devstack-\\\nreleases to pass, the minimum required openstacksdk release must be\n0.101.0 because [1],[2] are available since that release only.\n\n[1] https://review.opendev.org/c/openstack/openstacksdk/+/851976\n[2] https://github.com/openstack/openstacksdk/commit/0ded7ac398843b6b1ce46668eb3b45ce02628428\n\nChange-Id: I129f866e7ed8d5c0499c93e78ebbe2c424e09423\n""}, {'number': 16, 'created': '2022-09-21 12:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/957a10b3c48ee19b86c507e157b0e2de51c2b405', 'message': ""Refactored floating_ip and floating_ip_info modules\n\nUse service proxies from openstacksdk wherever reasonable in order to\nreduce calls to OpenStack API.\n\nRenamed floating_ip_info's attribute 'project_id' to 'project' to be\nconsistent with other attributes and added the former as an alias to\nkeep backward compatibility. The latter can now also be used to search\nfor floating ips by project names, not only project ids.\n\nSorted argument specs and documentation of both modules.\n\nReworked integration tests, e.g. replaced references to server's\n'addresses' attribute with calls to our port_info and floating_ip_info\nmodules. Also reformatted tests and added assertion on return values.\n\nMerged integration tests of floating_ip_info module into floating_ip\nmodule, because the former does not create any floating ips and\nassumes that they have been created earlier.\n\nFor Zuul CI job ansible-collections-openstack-functional-devstack-\\\nreleases to pass, the minimum required openstacksdk release must be\n0.101.0 because [1],[2] are available since that release only.\n\n[1] https://review.opendev.org/c/openstack/openstacksdk/+/851976\n[2] https://github.com/openstack/openstacksdk/commit/0ded7ac398843b6b1ce46668eb3b45ce02628428\n\nChange-Id: I129f866e7ed8d5c0499c93e78ebbe2c424e09423\n""}, {'number': 17, 'created': '2022-09-28 13:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/354a4d5067d9e65bd07c39a7aff8302285fb1658', 'message': ""Refactored floating_ip and floating_ip_info modules\n\nUse service proxies from openstacksdk wherever reasonable in order to\nreduce calls to OpenStack API.\n\nRenamed floating_ip_info's attribute 'project_id' to 'project' to be\nconsistent with other attributes and added the former as an alias to\nkeep backward compatibility. The latter can now also be used to search\nfor floating ips by project names, not only project ids.\n\nSorted argument specs and documentation of both modules.\n\nReworked integration tests, e.g. replaced references to server's\n'addresses' attribute with calls to our port_info and floating_ip_info\nmodules. Also reformatted tests and added assertion on return values.\n\nMerged integration tests of floating_ip_info module into floating_ip\nmodule, because the former does not create any floating ips and\nassumes that they have been created earlier.\n\nFor Zuul CI job ansible-collections-openstack-functional-devstack-\\\nreleases to pass, the minimum required openstacksdk release must be\n0.101.0 because [1],[2] are available since that release only.\n\n[1] https://review.opendev.org/c/openstack/openstacksdk/+/851976\n[2] https://github.com/openstack/openstacksdk/commit/0ded7ac398843b6b1ce46668eb3b45ce02628428\n\nChange-Id: I129f866e7ed8d5c0499c93e78ebbe2c424e09423\n""}, {'number': 18, 'created': '2022-09-28 13:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0bd81a54368fce65277e3c085218435c1c67835e', 'message': ""Refactored floating_ip and floating_ip_info modules\n\nUse service proxies from openstacksdk wherever reasonable in order to\nreduce calls to OpenStack API.\n\nRenamed floating_ip_info's attribute 'project_id' to 'project' to be\nconsistent with other attributes and added the former as an alias to\nkeep backward compatibility. The latter can now also be used to search\nfor floating ips by project names, not only project ids.\n\nSorted argument specs and documentation of both modules.\n\nReworked integration tests, e.g. replaced references to server's\n'addresses' attribute with calls to our port_info and floating_ip_info\nmodules. Also reformatted tests and added assertion on return values.\n\nMerged integration tests of floating_ip_info module into floating_ip\nmodule, because the former does not create any floating ips and\nassumes that they have been created earlier.\n\nFor Zuul CI job ansible-collections-openstack-functional-devstack-\\\nreleases to pass, the minimum required openstacksdk release must be\n0.101.0 because [1],[2] are available since that release only.\n\n[1] https://review.opendev.org/c/openstack/openstacksdk/+/851976\n[2] https://github.com/openstack/openstacksdk/commit/0ded7ac398843b6b1ce46668eb3b45ce02628428\n\nChange-Id: I129f866e7ed8d5c0499c93e78ebbe2c424e09423\n""}, {'number': 19, 'created': '2022-09-28 18:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1b91db310275ffab5946fa8754444e61e81bcd64', 'message': ""[DNM] Refactored floating_ip and floating_ip_info modules\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/859672\n\nUse service proxies from openstacksdk wherever reasonable in order to\nreduce calls to OpenStack API.\n\nRenamed floating_ip_info's attribute 'project_id' to 'project' to be\nconsistent with other attributes and added the former as an alias to\nkeep backward compatibility. The latter can now also be used to search\nfor floating ips by project names, not only project ids.\n\nSorted argument specs and documentation of both modules.\n\nReworked integration tests, e.g. replaced references to server's\n'addresses' attribute with calls to our port_info and floating_ip_info\nmodules. Also reformatted tests and added assertion on return values.\n\nMerged integration tests of floating_ip_info module into floating_ip\nmodule, because the former does not create any floating ips and\nassumes that they have been created earlier.\n\nFor Zuul CI job ansible-collections-openstack-functional-devstack-\\\nreleases to pass, the minimum required openstacksdk release must be\n0.101.0 because [1],[2] are available since that release only.\n\n[1] https://review.opendev.org/c/openstack/openstacksdk/+/851976\n[2] https://github.com/openstack/openstacksdk/commit/0ded7ac398843b6b1ce46668eb3b45ce02628428\n\nChange-Id: I129f866e7ed8d5c0499c93e78ebbe2c424e09423\n""}, {'number': 20, 'created': '2022-09-29 08:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/fd0da488efc7a9a8696233c8a0749f3c2adc2cff', 'message': ""[DNM] Refactored floating_ip and floating_ip_info modules\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/859672\n\nUse service proxies from openstacksdk wherever reasonable in order to\nreduce calls to OpenStack API.\n\nRenamed floating_ip_info's attribute 'project_id' to 'project' to be\nconsistent with other attributes and added the former as an alias to\nkeep backward compatibility. The latter can now also be used to search\nfor floating ips by project names, not only project ids.\n\nSorted argument specs and documentation of both modules.\n\nReworked integration tests, e.g. replaced references to server's\n'addresses' attribute with calls to our port_info and floating_ip_info\nmodules. Also reformatted tests and added assertion on return values.\n\nMerged integration tests of floating_ip_info module into floating_ip\nmodule, because the former does not create any floating ips and\nassumes that they have been created earlier.\n\nFor Zuul CI job ansible-collections-openstack-functional-devstack-\\\nreleases to pass, the minimum required openstacksdk release must be\n0.101.0 because [1],[2] are available since that release only.\n\n[1] https://review.opendev.org/c/openstack/openstacksdk/+/851976\n[2] https://github.com/openstack/openstacksdk/commit/0ded7ac398843b6b1ce46668eb3b45ce02628428\n\nChange-Id: I129f866e7ed8d5c0499c93e78ebbe2c424e09423\n""}, {'number': 21, 'created': '2022-10-04 09:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/854c9928094bd3d58c84297214c1655246be3894', 'message': ""Refactored floating_ip and floating_ip_info modules\n\nUse service proxies from openstacksdk wherever reasonable in order to\nreduce calls to OpenStack API.\n\nRenamed floating_ip_info's attribute 'project_id' to 'project' to be\nconsistent with other attributes and added the former as an alias to\nkeep backward compatibility. The latter can now also be used to search\nfor floating ips by project names, not only project ids.\n\nSorted argument specs and documentation of both modules.\n\nReworked integration tests, e.g. replaced references to server's\n'addresses' attribute with calls to our port_info and floating_ip_info\nmodules. Also reformatted tests and added assertion on return values.\n\nMerged integration tests of floating_ip_info module into floating_ip\nmodule, because the former does not create any floating ips and\nassumes that they have been created earlier.\n\nFor Zuul CI job ansible-collections-openstack-functional-devstack-\\\nreleases to pass, the minimum required openstacksdk release must be\n0.102.0 because [1],[2],[3],[4] are available since that release\nonly.\n\n[1] https://review.opendev.org/c/openstack/openstacksdk/+/851976\n[2] https://github.com/openstack/openstacksdk/commit/0ded7ac398843b6b1ce46668eb3b45ce02628428\n[3] https://review.opendev.org/c/openstack/openstacksdk/+/859672\n[4] https://github.com/openstack/openstacksdk/commit/2535ba7a28ae081f064ae20f9ddb19f48a973625\n\nChange-Id: I129f866e7ed8d5c0499c93e78ebbe2c424e09423\n""}, {'number': 22, 'created': '2022-10-14 10:09:40.000000000', 'files': ['plugins/modules/floating_ip_info.py', '.zuul.yaml', 'plugins/modules/floating_ip.py', 'ci/roles/floating_ip_info/tasks/main.yml', 'ci/roles/floating_ip/defaults/main.yml', 'ci/run-collection.yml', 'ci/roles/floating_ip/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/34b0abb4cae37f7d96ca2fadeaac25ff93089d63', 'message': ""Refactored floating_ip and floating_ip_info modules\n\nUse service proxies from openstacksdk wherever reasonable in order to\nreduce calls to OpenStack API.\n\nRenamed floating_ip_info's attribute 'project_id' to 'project' to be\nconsistent with other attributes and added the former as an alias to\nkeep backward compatibility. The latter can now also be used to search\nfor floating ips by project names, not only project ids.\n\nSorted argument specs and documentation of both modules.\n\nReworked integration tests, e.g. replaced references to server's\n'addresses' attribute with calls to our port_info and floating_ip_info\nmodules. Also reformatted tests and added assertion on return values.\n\nMerged integration tests of floating_ip_info module into floating_ip\nmodule, because the former does not create any floating ips and\nassumes that they have been created earlier.\n\nFor Zuul CI job ansible-collections-openstack-functional-devstack-\\\nreleases to pass, the minimum required openstacksdk release must be\n0.102.0 because [1],[2],[3],[4] are available since that release\nonly.\n\n[1] https://review.opendev.org/c/openstack/openstacksdk/+/851976\n[2] https://github.com/openstack/openstacksdk/commit/0ded7ac398843b6b1ce46668eb3b45ce02628428\n[3] https://review.opendev.org/c/openstack/openstacksdk/+/859672\n[4] https://github.com/openstack/openstacksdk/commit/2535ba7a28ae081f064ae20f9ddb19f48a973625\n\nChange-Id: I129f866e7ed8d5c0499c93e78ebbe2c424e09423\n""}]",37,828613,34b0abb4cae37f7d96ca2fadeaac25ff93089d63,53,6,22,32962,,,0,"Refactored floating_ip and floating_ip_info modules

Use service proxies from openstacksdk wherever reasonable in order to
reduce calls to OpenStack API.

Renamed floating_ip_info's attribute 'project_id' to 'project' to be
consistent with other attributes and added the former as an alias to
keep backward compatibility. The latter can now also be used to search
for floating ips by project names, not only project ids.

Sorted argument specs and documentation of both modules.

Reworked integration tests, e.g. replaced references to server's
'addresses' attribute with calls to our port_info and floating_ip_info
modules. Also reformatted tests and added assertion on return values.

Merged integration tests of floating_ip_info module into floating_ip
module, because the former does not create any floating ips and
assumes that they have been created earlier.

For Zuul CI job ansible-collections-openstack-functional-devstack-\
releases to pass, the minimum required openstacksdk release must be
0.102.0 because [1],[2],[3],[4] are available since that release
only.

[1] https://review.opendev.org/c/openstack/openstacksdk/+/851976
[2] https://github.com/openstack/openstacksdk/commit/0ded7ac398843b6b1ce46668eb3b45ce02628428
[3] https://review.opendev.org/c/openstack/openstacksdk/+/859672
[4] https://github.com/openstack/openstacksdk/commit/2535ba7a28ae081f064ae20f9ddb19f48a973625

Change-Id: I129f866e7ed8d5c0499c93e78ebbe2c424e09423
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/13/828613/19 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/floating_ip.py'],1,564bd9c281d182455c3d48babb9d886062924977,floating_ip," def _list_floating_ips(self, server): def _flatten(lists): return [item for sublist in lists for item in sublist] # Returns a list not an iterator here because it is iterated several times below return _flatten([ return self.conn.network.find_ip(floating_ip_address, ignore_missing=True) (self.conn.network.find_ip(addr['addr'], ignore_missing=True) # Get any of the floating ips that matches fixed_address and/or network. f_ips = [f_ip for f_ip in self.conn.network.ips() if f_ip['floating_ip_address'] in f_ip_addrs] and ((network_id and f_ip.floating_network_id == network_id) or not network_id)), def _dictify_floating_ip(self, fip): dt = fip.to_dict() dt.pop('location') dt.pop('tenant_id', None) # deprecated return dt # Search for server and its interfaces, i.e. populate server.addresses self.fail_json(msg=""server {0} not found"".format(server_name_or_id)) f_ip = self.conn.network.find_ip(floating_ip_address, ignore_missing=True) if floating_ip_address else None network_id = self.conn.network.find_network(name_or_id=network)[""id""] self.exit_json(changed=False, floating_ip=self._dictify_floating_ip(f_ip)) if ( f_ip # floating ip address exists and f_ip.port_details and (f_ip.port_details.status == 'ACTIVE') # and has been attached and floating_ip_address not in f_ip_addrs # but to a different server ): nat_destination_name = self.conn.network.find_network(nat_destination)['name'] f_ip = self.conn.network.find_ip(addr['addr'], ignore_missing=True) self.exit_json(changed=False, floating_ip=self._dictify_floating_ip(f_ip)) f_ips = [f_ip for f_ip in self.conn.network.ips() if f_ip['floating_ip_address'] in f_ip_addrs] for f_ip in f_ips: if network_id and f_ip.floating_network_id != network_id: self.exit_json(changed=False, floating_ip=self._dictify_floating_ip(f_ip)) self.exit_json(changed=False, floating_ip=self._dictify_floating_ip(f_ip)) # No specific floating ip has been requested and none of the floating ips # which have already been assigned to the server matches requirements # A specific floating ip address has been requested or none of the floating ips # which have already been assigned to the server matches requirements # If a specific floating ip address has been requested and it does not exist yet then create it # Else no specific floating ip address has been requested or it has not been attached yet # The following call of add_ips_to_server() will handle several scenarios: # # If a specific floating ip address has been requested then it will be attached to the server. The floating # ip address either has been created in previous steps or it already existed. # Ref.: https://github.com/openstack/openstacksdk/blob/9d3ee1d32149ba2a8bb3dc894295e180746cdddc/openstack/cloud/_floating_ip.py#L985 # # If no specific floating ip address has been requested, reuse is allowed and a network has been given (with # ip_pool) from which floating ip addresses will be drawn, then any existing floating ip address from # ip_pool=network which is not attached to any other server will be attached to the server. If no such # floating ip address exists or if reuse is not allowed, then a new floating ip address will be created # within ip_pool=network and attached to the server. # Ref.: https://github.com/openstack/openstacksdk/blob/9d3ee1d32149ba2a8bb3dc894295e180746cdddc/openstack/cloud/_floating_ip.py#L981 # # If no specific floating ip address has been requested and no network has been given (with ip_pool) from # which floating ip addresses will be taken, then a floating ip address might be added to the server, refer # to _needs_floating_ip() for details. # Ref.: # https://github.com/openstack/openstacksdk/blob/9d3ee1d32149ba2a8bb3dc894295e180746cdddc/openstack/cloud/_floating_ip.py#L989 # https://github.com/openstack/openstacksdk/blob/9d3ee1d32149ba2a8bb3dc894295e180746cdddc/openstack/cloud/_floating_ip.py#L995 # # Both floating_ip_address and network are mutually exclusive in add_ips_to_server(), i.e.add_ips_to_server # will ignore floating_ip_address if network is not None. To prefer attaching a specific floating ip address # over assigning any fip, ip_pool is only defined if floating_ip_address is None. timeout=timeout, nat_destination=nat_destination) self.exit_json(changed=True, floating_ip=self._dictify_floating_ip(f_ip)) self.conn.compute.remove_floating_ip_from_server(server, f_ip['floating_ip_address']) f_ip = self.conn.network.get_ip(f_ip['id']) self.conn.network.delete_ip(f_ip) self.exit_json(changed=changed, floating_ip=self._dictify_floating_ip(f_ip))","import itertools def _get_floating_ip(self, floating_ip_address): f_ips = self.conn.search_floating_ips( filters={'floating_ip_address': floating_ip_address}) if not f_ips: return None return f_ips[0] def _list_floating_ips(self, server): return itertools.chain.from_iterable([ return self._get_floating_ip(floating_ip_address) (self._get_floating_ip(addr['addr']) # get any of the floating ips that matches fixed_address and/or network f_ips = [f_ip for f_ip in self.conn.list_floating_ips() if f_ip['floating_ip_address'] in f_ip_addrs] and ((network_id and f_ip.network == network_id) or not network_id)), self.fail_json( msg=""server {0} not found"".format(server_name_or_id)) f_ip = self._get_floating_ip(floating_ip_address) if floating_ip_address else None network_id = self.conn.get_network(name_or_id=network)[""id""] self.exit_json(changed=False, floating_ip=f_ip) if f_ip and f_ip['attached'] and floating_ip_address not in f_ip_addrs: nat_destination_name = self.conn.get_network(nat_destination)['name'] f_ip = self._get_floating_ip(addr['addr']) self.exit_json(changed=False, floating_ip=f_ip) f_ips = [f_ip for f_ip in self.conn.list_floating_ips() if f_ip['floating_ip_address'] in f_ip_addrs] for f_ip in f_ips: if network_id and f_ip.network != network_id: self.exit_json(changed=False, floating_ip=f_ip) self.exit_json(changed=False, floating_ip=f_ip) # Else floating ip either does not exist or has not been attached yet # Both floating_ip_address and network are mutually exclusive in add_ips_to_server, i.e. # add_ips_to_server will ignore floating_ip_address if network is set timeout=timeout, nat_destination=nat_destination) self.exit_json(changed=True, floating_ip=f_ip) self.conn.detach_ip_from_server(server_id=server['id'], floating_ip_id=f_ip['id']) f_ip = self.conn.get_floating_ip(id=f_ip['id']) self.conn.delete_floating_ip(f_ip['id']) self.exit_json(changed=changed, floating_ip=f_ip)",73,38
openstack%2Fovn-bgp-agent~master~I0256c15489870f2be0b74572b706853ed5242fdb,openstack/ovn-bgp-agent,master,I0256c15489870f2be0b74572b706853ed5242fdb,Add support for IPv6 multiprefix,MERGED,2022-10-11 16:49:06.000000000,2022-10-18 08:53:12.000000000,2022-10-18 08:46:50.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2022-10-11 16:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/e41ebff0c697690aa3c2c18d50b129c52ac5601b', 'message': 'Add support for IPv6 multiprefix\n\nThe ovn-bgp-agent was assuming that at most 2 subnet could exist\nper network (dual-stack). However openstack has support for\nmultiprefix IPv6 [1] and the agent should account for that.\n\nThis patch ensures that the Port_Binding mac fields is processed\nso that any number of IPs are considered and exposed/withdraw\naccordingly\n\nStory 2010360\nTask 46535\n\n[1] https://specs.openstack.org/openstack/neutron-specs/specs/kilo/multiple-ipv6-prefixes.html\n\nChange-Id: I0256c15489870f2be0b74572b706853ed5242fdb\n'}, {'number': 2, 'created': '2022-10-14 08:57:36.000000000', 'files': ['ovn_bgp_agent/drivers/openstack/ovn_bgp_driver.py', 'ovn_bgp_agent/drivers/openstack/watchers/base_watcher.py', 'ovn_bgp_agent/drivers/openstack/ovn_evpn_driver.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/watchers/test_base_watcher.py', 'ovn_bgp_agent/drivers/openstack/watchers/evpn_watcher.py', 'ovn_bgp_agent/drivers/openstack/watchers/bgp_watcher.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/6eee1eabfa907faa0625145530991f70496951b6', 'message': 'Add support for IPv6 multiprefix\n\nThe ovn-bgp-agent was assuming that at most 2 subnet could exist\nper network (dual-stack). However openstack has support for\nmultiprefix IPv6 [1] and the agent should account for that.\n\nThis patch ensures that the Port_Binding mac fields is processed\nso that any number of IPs are considered and exposed/withdraw\naccordingly\n\nStory 2010360\nTask 46535\n\n[1] https://specs.openstack.org/openstack/neutron-specs/specs/kilo/multiple-ipv6-prefixes.html\n\nChange-Id: I0256c15489870f2be0b74572b706853ed5242fdb\n'}]",7,860789,6eee1eabfa907faa0625145530991f70496951b6,14,3,2,23567,,,0,"Add support for IPv6 multiprefix

The ovn-bgp-agent was assuming that at most 2 subnet could exist
per network (dual-stack). However openstack has support for
multiprefix IPv6 [1] and the agent should account for that.

This patch ensures that the Port_Binding mac fields is processed
so that any number of IPs are considered and exposed/withdraw
accordingly

Story 2010360
Task 46535

[1] https://specs.openstack.org/openstack/neutron-specs/specs/kilo/multiple-ipv6-prefixes.html

Change-Id: I0256c15489870f2be0b74572b706853ed5242fdb
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/89/860789/2 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_bgp_agent/drivers/openstack/ovn_bgp_driver.py', 'ovn_bgp_agent/drivers/openstack/watchers/base_watcher.py', 'ovn_bgp_agent/drivers/openstack/ovn_evpn_driver.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/watchers/test_base_watcher.py', 'ovn_bgp_agent/drivers/openstack/watchers/evpn_watcher.py', 'ovn_bgp_agent/drivers/openstack/watchers/bgp_watcher.py']",6,e41ebff0c697690aa3c2c18d50b129c52ac5601b,, ips = row.mac[0].split(' ')[1:] ips = row.mac[0].split(' ')[1:] ips = row.mac[0].split(' ')[1:] ips = row.mac[0].split(' ')[1:], ips = [row.mac[0].split(' ')[1]] # for dual-stack if len(row.mac[0].split(' ')) == 3: ips.append(row.mac[0].split(' ')[2]) ips = [row.mac[0].split(' ')[1]] # for dual-stack if len(row.mac[0].split(' ')) == 3: ips.append(row.mac[0].split(' ')[2]) ips = [row.mac[0].split(' ')[1]] # for dual-stack if len(row.mac[0].split(' ')) == 3: ips.append(row.mac[0].split(' ')[2]) ips = [row.mac[0].split(' ')[1]] # for dual-stack if len(row.mac[0].split(' ')) == 3: ips.append(row.mac[0].split(' ')[2]),15,46
openstack%2Fcinder~master~Ib463a804249c3aaaee701ea9fef7ecd46ba4131b,openstack/cinder,master,Ib463a804249c3aaaee701ea9fef7ecd46ba4131b,WIP: Add read only attachment support for lio target,NEW,2022-09-24 13:44:20.000000000,2022-10-18 08:39:20.000000000,,"[{'_account_id': 4523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-24 13:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/75735a4ca05622c04af7440d7e19173e62ba814e', 'message': 'WIP: Add read only attachment support for lio target\n\nrtslib (which we use for lio targets) support write_protect flag[1]\nwhile mapping LUNS allowing read only attachments.\n\n[1] https://github.com/open-iscsi/rtslib-fb/blob/99a637156bd4f910a4b993e879589ddd0312a39d/rtslib/target.py#L1054\n\nChange-Id: Ib463a804249c3aaaee701ea9fef7ecd46ba4131b\n'}, {'number': 2, 'created': '2022-09-28 11:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e89b1073b3ff5d7c72d8693c691a59bb4170a69f', 'message': 'WIP: Add read only attachment support for lio target\n\nWe use a library ``rtslib`` for lio targets which support\nwrite_protect flag[1] while mapping LUNS allowing read\nonly attachments.\n\n[1] https://github.com/open-iscsi/rtslib-fb/blob/99a637156bd4f910a4b993e879589ddd0312a39d/rtslib/target.py#L1054\n\nChange-Id: Ib463a804249c3aaaee701ea9fef7ecd46ba4131b\n'}, {'number': 3, 'created': '2022-10-04 09:39:19.000000000', 'files': ['cinder/tests/unit/targets/test_lio_driver.py', 'cinder/volume/targets/cxt.py', 'cinder/volume/targets/fake.py', 'cinder/volume/targets/scst.py', 'cinder/volume/targets/tgt.py', 'cinder/volume/targets/iet.py', 'cinder/volume/targets/lio.py', 'cinder/cmd/rtstool.py', 'cinder/volume/targets/iscsi.py', 'cinder/volume/drivers/lvm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9a6975e8e58aa8b5befcdc1b2142b00555d37627', 'message': 'WIP: Add read only attachment support for lio target\n\nWe use a library ``rtslib`` for lio targets which support\nwrite_protect flag[1] while mapping LUNS allowing read\nonly attachments.\n\n[1] https://github.com/open-iscsi/rtslib-fb/blob/99a637156bd4f910a4b993e879589ddd0312a39d/rtslib/target.py#L1054\n\nChange-Id: Ib463a804249c3aaaee701ea9fef7ecd46ba4131b\n'}]",1,859193,9a6975e8e58aa8b5befcdc1b2142b00555d37627,47,2,3,27615,,,0,"WIP: Add read only attachment support for lio target

We use a library ``rtslib`` for lio targets which support
write_protect flag[1] while mapping LUNS allowing read
only attachments.

[1] https://github.com/open-iscsi/rtslib-fb/blob/99a637156bd4f910a4b993e879589ddd0312a39d/rtslib/target.py#L1054

Change-Id: Ib463a804249c3aaaee701ea9fef7ecd46ba4131b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/93/859193/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/cmd/rtstool.py', 'cinder/volume/targets/lio.py', 'cinder/volume/targets/iscsi.py', 'cinder/volume/drivers/lvm.py']",4,75735a4ca05622c04af7440d7e19173e62ba814e,859193," volume_path, connector=connector)", volume_path),23,7
openstack%2Fceilometer~master~Ie8eb42df3d5b9505160c9e9d6b86bdaa9a02d16a,openstack/ceilometer,master,Ie8eb42df3d5b9505160c9e9d6b86bdaa9a02d16a,Properly handle 'resource_id' as None for Gnocchi publisher,MERGED,2022-09-11 20:05:11.000000000,2022-10-18 08:08:55.000000000,2022-10-18 08:07:47.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}, {'_account_id': 30396}, {'_account_id': 30695}]","[{'number': 1, 'created': '2022-09-11 20:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/7aad4e9da7cb4bfba10cb62e8c77f61f0647b5a6', 'message': ""Properly handle 'resource_id' as None for Gnocchi publisher\n\nThis issue is related to [1]. In Python 3 (I did not check exactly in\nwhich version), the following code was throwing an error\n`data.sort(key=operator.attrgetter('resource_id'))`. Therefore, this\npatch is proposing a solution for such situations to properly handle\nsamples where the `resource_id` is None. Of course, `resource_id`\ncannot be None in Gnocchi. However, that can be properly handled by\nremoving the metric to be pushed from the `gnocchi_resource.yml` file.\nWhich is what we were doing when we proposed [1]. The problem is that\nthe sort is happening before that part of the code is executed, to\ndecide if the sample should be ignored or not.\n\n[1] https://review.opendev.org/c/openstack/ceilometer/+/746717\n\nChange-Id: Ie8eb42df3d5b9505160c9e9d6b86bdaa9a02d16a\n""}, {'number': 2, 'created': '2022-09-21 11:55:02.000000000', 'files': ['ceilometer/tests/unit/publisher/test_gnocchi.py', 'ceilometer/publisher/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/b7c2c7ca965659255e9a611666e58b024c27d804', 'message': ""Properly handle 'resource_id' as None for Gnocchi publisher\n\nThis issue is related to [1]. In Python 3 (I did not check exactly in\nwhich version), the following code was throwing an error\n`data.sort(key=operator.attrgetter('resource_id'))`. Therefore, this\npatch is proposing a solution for such situations to properly handle\nsamples where the `resource_id` is None. Of course, `resource_id`\ncannot be None in Gnocchi. However, that can be properly handled by\nremoving the metric to be pushed from the `gnocchi_resource.yml` file.\nWhich is what we were doing when we proposed [1]. The problem is that\nthe sort is happening before that part of the code is executed, to\ndecide if the sample should be ignored or not.\n\n[1] https://review.opendev.org/c/openstack/ceilometer/+/746717\n\nChange-Id: Ie8eb42df3d5b9505160c9e9d6b86bdaa9a02d16a\n""}]",12,856972,b7c2c7ca965659255e9a611666e58b024c27d804,19,4,2,28356,,,0,"Properly handle 'resource_id' as None for Gnocchi publisher

This issue is related to [1]. In Python 3 (I did not check exactly in
which version), the following code was throwing an error
`data.sort(key=operator.attrgetter('resource_id'))`. Therefore, this
patch is proposing a solution for such situations to properly handle
samples where the `resource_id` is None. Of course, `resource_id`
cannot be None in Gnocchi. However, that can be properly handled by
removing the metric to be pushed from the `gnocchi_resource.yml` file.
Which is what we were doing when we proposed [1]. The problem is that
the sort is happening before that part of the code is executed, to
decide if the sample should be ignored or not.

[1] https://review.opendev.org/c/openstack/ceilometer/+/746717

Change-Id: Ie8eb42df3d5b9505160c9e9d6b86bdaa9a02d16a
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/72/856972/2 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/publisher/gnocchi.py'],1,7aad4e9da7cb4bfba10cb62e8c77f61f0647b5a6,fix-processing_of_event_metrics_that_do_not_have_Resource-id," def value_to_sort(object_to_sort): value = object_to_sort.resource_id if not value: LOG.debug(""Resource ID was not defined for sample data [%s]. "" ""Therefore, we will use an empty string as the "" ""resource ID."", object_to_sort) value = '' return value data.sort(key=value_to_sort)", data.sort(key=operator.attrgetter('resource_id')),12,1
openstack%2Fskyline-apiserver~master~I4c9e0fded336fe54533fcfd5356ee12448a43692,openstack/skyline-apiserver,master,I4c9e0fded336fe54533fcfd5356ee12448a43692,fix: Fix requirements conflict,MERGED,2022-08-05 10:41:39.000000000,2022-10-18 08:07:50.000000000,2022-08-05 15:12:50.000000000,"[{'_account_id': 16523}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 28706}, {'_account_id': 35158}, {'_account_id': 35159}, {'_account_id': 35161}]","[{'number': 1, 'created': '2022-08-05 10:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/63f7895368824c168830340553fbd7d5b8735c4b', 'message': 'fix: Fix requirements conflict\n\n1. Fix requirements conflict\n\nChange-Id: I4c9e0fded336fe54533fcfd5356ee12448a43692\n'}, {'number': 2, 'created': '2022-08-05 11:01:43.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/f6cf14786b04a1efa5419039618f05c271170982', 'message': 'fix: Fix requirements conflict\n\nFix requirements conflict\n\nChange-Id: I4c9e0fded336fe54533fcfd5356ee12448a43692\n'}]",0,852249,f6cf14786b04a1efa5419039618f05c271170982,14,7,2,33196,,,0,"fix: Fix requirements conflict

Fix requirements conflict

Change-Id: I4c9e0fded336fe54533fcfd5356ee12448a43692
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/49/852249/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,63f7895368824c168830340553fbd7d5b8735c4b,,openstackdocstheme==3.0.0 # Apache-2.0,openstackdocstheme<=2.4.0 # Apache-2.0,1,1
openstack%2Fskyline-apiserver~master~I9e53143bdf52a38635057511d6863b1e285a334a,openstack/skyline-apiserver,master,I9e53143bdf52a38635057511d6863b1e285a334a,fix: Add MANIFEST.in and remove templates from packages,MERGED,2022-07-21 05:43:04.000000000,2022-10-18 08:07:43.000000000,2022-07-21 06:55:30.000000000,"[{'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 28706}, {'_account_id': 30434}, {'_account_id': 33196}, {'_account_id': 33689}, {'_account_id': 35158}, {'_account_id': 35159}, {'_account_id': 35161}]","[{'number': 1, 'created': '2022-07-21 05:43:04.000000000', 'files': ['setup.cfg', 'MANIFEST.in'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/1591f34a254efb436accac8e155292dd10501533', 'message': 'fix: Add MANIFEST.in and remove templates from packages\n\nAdd MANIFEST.in and remove templates from packages.\n\nChange-Id: I9e53143bdf52a38635057511d6863b1e285a334a\n'}]",0,850606,1591f34a254efb436accac8e155292dd10501533,13,9,1,28706,,,0,"fix: Add MANIFEST.in and remove templates from packages

Add MANIFEST.in and remove templates from packages.

Change-Id: I9e53143bdf52a38635057511d6863b1e285a334a
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/06/850606/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'MANIFEST.in']",2,1591f34a254efb436accac8e155292dd10501533,,include skyline_apiserver/templates/nginx.conf.j2 ,,1,1
openstack%2Fskyline-apiserver~master~I3ece3849798d708a780c76453a49a2627126b316,openstack/skyline-apiserver,master,I3ece3849798d708a780c76453a49a2627126b316,docs: Change md file to rst file,MERGED,2022-07-20 04:01:25.000000000,2022-10-18 08:07:35.000000000,2022-07-20 05:03:56.000000000,"[{'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 28706}, {'_account_id': 30434}, {'_account_id': 33689}, {'_account_id': 35158}, {'_account_id': 35159}, {'_account_id': 35161}]","[{'number': 1, 'created': '2022-07-20 04:01:25.000000000', 'files': ['README-zh_CN.md', 'README-zh_CN.rst', 'README.rst', 'setup.cfg', 'README.md'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/ce4d5bcc01cc59507199d19b8f79b9664bf5d707', 'message': 'docs: Change md file to rst file\n\n1. change md file to rst file for readme\n2. add README.rst to description_file in setup.cfg\n\nChange-Id: I3ece3849798d708a780c76453a49a2627126b316\n'}]",0,850443,ce4d5bcc01cc59507199d19b8f79b9664bf5d707,12,8,1,28706,,,0,"docs: Change md file to rst file

1. change md file to rst file for readme
2. add README.rst to description_file in setup.cfg

Change-Id: I3ece3849798d708a780c76453a49a2627126b316
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/43/850443/1 && git format-patch -1 --stdout FETCH_HEAD,"['README-zh_CN.md', 'README-zh_CN.rst', 'README.rst', 'setup.cfg', 'README.md']",5,ce4d5bcc01cc59507199d19b8f79b9664bf5d707,,,"# Skyline API Server English | [](./README-zh_CN.md) Skyline is an OpenStack dashboard optimized by UI and UE, support OpenStack Train+. It has a modern technology stack and ecology, is easier for developers to maintain and operate by users, and has higher concurrency performance. Skyline's mascot is the nine-color deer. The nine-color deer comes from Dunhuang mural ""the nine-color king deer"", whose moral is Buddhist cause-effect and gratefulness, which is consistent with 99cloud's philosophy of embracing and feedback community since its inception. We also hope Skyline can keep light, elegant and powerful as the nine-color deer, to provide a better dashboard for the openstack community and users. ![](docs/images/OpenStack_Project_Skyline_horizontal.png) **Table of contents** - [Skyline API Server](#skyline-api-server) - [Resources](#resources) - [Quick Start](#quick-start) - [Prerequisites](#prerequisites) - [Configure](#configure) - [Deployment with Sqlite](#deployment-with-sqlite) - [Deployment with MariaDB](#deployment-with-mariadb) - [Test Access](#test-access) - [Develop Skyline-apiserver](#develop-skyline-apiserver) - [Dependent tools](#dependent-tools) - [Install & Run](#install--run) - [Devstack Integration](#devstack-integration) - [Kolla Ansible Deployment](#kolla-ansible-deployment) ## Resources - [Wiki](https://wiki.openstack.org/wiki/Skyline) - [Bug Tracker](https://launchpad.net/skyline-apiserver) ## Quick Start ### Prerequisites - An OpenStack environment that runs at least core components and can access OpenStack components through Keystone endpoints - A Linux server with container engine ([docker](https://docs.docker.com/engine/install/) or [podman](https://podman.io/getting-started/installation)) installed ### Configure 1. Edit the `/etc/skyline/skyline.yaml` file in linux server You can refer to the [sample file](etc/skyline.yaml.sample), and modify the following parameters according to the actual environment - database_url - keystone_url - default_region - interface_type - system_project_domain - system_project - system_user_domain - system_user_name - system_user_password ### Deployment with Sqlite 1. Run the skyline_bootstrap container to bootstrap ```bash rm -rf /tmp/skyline && mkdir /tmp/skyline docker run -d --name skyline_bootstrap -e KOLLA_BOOTSTRAP="""" -v /etc/skyline/skyline.yaml:/etc/skyline/skyline.yaml -v /tmp/skyline:/tmp --net=host 99cloud/skyline:latest # Check bootstrap is normal `exit 0` docker logs skyline_bootstrap ``` 2. Run the skyline service after bootstrap is complete ```bash docker rm -f skyline_bootstrap ``` > If you need to modify skyline port, add `-e LISTEN_ADDRESS=<ip:port>` in the following command > > `LISTEN_ADDRESS` defaults to `0.0.0.0:9999` ```bash docker run -d --name skyline --restart=always -v /etc/skyline/skyline.yaml:/etc/skyline/skyline.yaml -v /tmp/skyline:/tmp --net=host 99cloud/skyline:latest ``` ### Deployment with MariaDB 1. Connect to database of the OpenStack environment and create the `skyline` database ```bash $ mysql -u root -p MariaDB [(none)]> CREATE DATABASE IF NOT EXISTS skyline DEFAULT CHARACTER SET utf8 DEFAULT COLLATE utf8_general_ci; Query OK, 1 row affected (0.001 sec) ``` 2. Grant proper access to the databases Replace `SKYLINE_DBPASS` with a suitable password. ```bash MariaDB [(none)]> GRANT ALL PRIVILEGES ON skyline.* TO 'skyline'@'localhost' IDENTIFIED BY 'SKYLINE_DBPASS'; Query OK, 0 rows affected (0.001 sec) MariaDB [(none)]> GRANT ALL PRIVILEGES ON skyline.* TO 'skyline'@'%' IDENTIFIED BY 'SKYLINE_DBPASS'; Query OK, 0 rows affected (0.001 sec) ``` 3. Create skyline service credentials ```bash # Source the admin credentials $ source admin-openrc # Create the skyline user $ openstack user create --domain default --password-prompt skyline User Password: Repeat User Password: +---------------------+----------------------------------+ | Field | Value | +---------------------+----------------------------------+ | domain_id | default | | enabled | True | | id | 1qaz2wsx3edc4rfv5tgb6yhn7ujm8ikl | | name | skyline | | options | {} | | password_expires_at | 2020-08-08T08:08:08.123456 | +---------------------+----------------------------------+ # Add the admin role to the skyline user: $ openstack role add --project service --user skyline admin ``` 4. Run the skyline_bootstrap container to bootstrap ```bash docker run -d --name skyline_bootstrap -e KOLLA_BOOTSTRAP="""" -v /etc/skyline/skyline.yaml:/etc/skyline/skyline.yaml --net=host 99cloud/skyline:latest # Check bootstrap is normal `exit 0` docker logs skyline_bootstrap ``` 5. Run the skyline service after bootstrap is complete ```bash docker rm -f skyline_bootstrap ``` > If you need to modify skyline port, add `-e LISTEN_ADDRESS=<ip:port>` in the following command > > `LISTEN_ADDRESS` defaults to `0.0.0.0:9999` ```bash docker run -d --name skyline --restart=always -v /etc/skyline/skyline.yaml:/etc/skyline/skyline.yaml --net=host 99cloud/skyline:latest ``` ### Test Access You can now access the dashboard: `https://<ip_address>:9999` ## Develop Skyline-apiserver **Support Linux & Mac OS (Recommend Linux OS) (Because uvloop & cython)** ### Dependent tools > Use the new feature Context Variables of python37 & uvloop(0.15.0+ requires python37). Considering that most systems do not support python37, we choose to support python38 at least. - make >= 3.82 - python >= 3.8 - node >= 10.22.0 (Optional if you only develop with apiserver) - yarn >= 1.22.4 (Optional if you only develop with apiserver) ### Install & Run 1. Installing dependency packages ```bash tox -e venv ``` 2. Set skyline.yaml config file ```bash cp etc/skyline.yaml.sample etc/skyline.yaml export OS_CONFIG_DIR=$(pwd)/etc ``` Maybe you should change the params with your real environment as followed: ```yaml - database_url - keystone_url - default_region - interface_type - system_project_domain - system_project - system_user_domain - system_user_name - system_user_password ``` > If you set such as `sqlite:////tmp/skyline.db` for `database_url` , just do as followed. > If you set such as `mysql://root:root@localhost:3306/skyline` for `database_url` , you should refer to steps `1` and `2` of the chapter `Deployment with MariaDB` at first. 3. Init skyline database ```bash source .tox/venv/bin/activate make db_sync deactivate ``` 4. Run skyline-apiserver ```console $ source .tox/venv/bin/activate $ uvicorn --reload --reload-dir skyline_apiserver --port 28000 --log-level debug skyline_apiserver.main:app INFO: Uvicorn running on http://127.0.0.1:28000 (Press CTRL+C to quit) INFO: Started reloader process [154033] using statreload INFO: Started server process [154037] INFO: Waiting for application startup. INFO: Application startup complete. ``` You can now access the online API documentation: `http://127.0.0.1:28000/docs`. Or, you can launch debugger with `.vscode/lauch.json` with vscode. 5. Build Image ```bash make build ``` ## Devstack Integration [Fast integration with Devstack to build an environment.](./devstack/README.rst) ## Kolla Ansible Deployment [Kolla Ansible to build an environment.](./kolla/README.md) ![](docs/images/nine-color-deer-64.png) ",578,480
openstack%2Fskyline-apiserver~master~I036720c4317cb234c16a4026d9b9bc4a193f69db,openstack/skyline-apiserver,master,I036720c4317cb234c16a4026d9b9bc4a193f69db,Add gunicorn log handler and formatter,MERGED,2022-07-18 06:27:18.000000000,2022-10-18 08:07:26.000000000,2022-07-18 08:53:55.000000000,"[{'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 28706}, {'_account_id': 30434}, {'_account_id': 33689}, {'_account_id': 35158}, {'_account_id': 35159}, {'_account_id': 35161}]","[{'number': 1, 'created': '2022-07-18 06:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/847617f50bb57cbb552e0fe106328a13558ac51a', 'message': 'Add gunicorn log handler and formatter\n\nUse handler and formatter for gunicorn.\n\nChange-Id: I036720c4317cb234c16a4026d9b9bc4a193f69db\n'}, {'number': 2, 'created': '2022-07-18 06:48:39.000000000', 'files': ['etc/gunicorn.py'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/212cdcc2d9041f8dd7360b698ab149504a105015', 'message': 'Add gunicorn log handler and formatter\n\nUse handler and formatter for gunicorn.\n\nChange-Id: I036720c4317cb234c16a4026d9b9bc4a193f69db\n'}]",0,850141,212cdcc2d9041f8dd7360b698ab149504a105015,13,8,2,28706,,,0,"Add gunicorn log handler and formatter

Use handler and formatter for gunicorn.

Change-Id: I036720c4317cb234c16a4026d9b9bc4a193f69db
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/41/850141/2 && git format-patch -1 --stdout FETCH_HEAD,['etc/gunicorn.py'],1,847617f50bb57cbb552e0fe106328a13558ac51a,,"# Copyright 2022 99cloud # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. timeout = 300 logconfig_dict = { ""version"": 1, ""disable_existing_loggers"": False, ""root"": {""level"": ""DEBUG"", ""handlers"": [""console""]}, ""loggers"": { ""gunicorn.error"": { ""level"": ""DEBUG"", ""handlers"": [""error_file""], ""propagate"": 0, ""qualname"": ""gunicorn_error"", }, ""gunicorn.access"": { ""level"": ""DEBUG"", ""handlers"": [""access_file""], ""propagate"": 0, ""qualname"": ""access"", }, }, ""handlers"": { ""error_file"": { ""class"": ""logging.handlers.RotatingFileHandler"", ""formatter"": ""generic"", ""filename"": ""/var/log/skyline/error.log"", }, ""access_file"": { ""class"": ""logging.handlers.RotatingFileHandler"", ""formatter"": ""generic"", ""filename"": ""/var/log/skyline/access.log"", }, ""console"": { ""class"": ""logging.StreamHandler"", ""level"": ""DEBUG"", ""formatter"": ""generic"", }, }, ""formatters"": { ""generic"": { ""format"": ""%(asctime)s.%(msecs)03d %(process)d %(levelname)s [-] %(message)s"", ""datefmt"": ""[%Y-%m-%d %H:%M:%S %z]"", ""class"": ""logging.Formatter"", } }, }","timeout = 3600log_level = ""debug"" accesslog = ""/var/log/skyline/access.log"" errorlog = ""/var/log/skyline/error.log""",59,4
openstack%2Fskyline-apiserver~master~Ic7f81e3d753c041fd5ea89268855d4b68086807d,openstack/skyline-apiserver,master,Ic7f81e3d753c041fd5ea89268855d4b68086807d,Add skyline port settings,MERGED,2022-06-23 06:44:46.000000000,2022-10-18 08:07:19.000000000,2022-06-23 08:40:38.000000000,"[{'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 28706}, {'_account_id': 33689}, {'_account_id': 35158}, {'_account_id': 35159}, {'_account_id': 35161}]","[{'number': 1, 'created': '2022-06-23 06:44:46.000000000', 'files': ['README-zh_CN.md', 'README.md', 'container/start_service.sh'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/068cf9c526cbc61a5d232ef82b4f66e70eb42feb', 'message': 'Add skyline port settings\n\n1. skyline port can be set when skyline container starts\n2. update readme\n\nChange-Id: Ic7f81e3d753c041fd5ea89268855d4b68086807d\n'}]",0,847247,068cf9c526cbc61a5d232ef82b4f66e70eb42feb,11,7,1,33196,,,0,"Add skyline port settings

1. skyline port can be set when skyline container starts
2. update readme

Change-Id: Ic7f81e3d753c041fd5ea89268855d4b68086807d
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/47/847247/1 && git format-patch -1 --stdout FETCH_HEAD,"['README-zh_CN.md', 'README.md', 'container/start_service.sh']",3,068cf9c526cbc61a5d232ef82b4f66e70eb42feb,,"if [[ -n ""${LISTEN_ADDRESS}"" ]]; then skyline-nginx-generator -o /etc/nginx/nginx.conf --listen-address ""${LISTEN_ADDRESS}"" else skyline-nginx-generator -o /etc/nginx/nginx.conf fi ",skyline-nginx-generator -o /etc/nginx/nginx.conf,30,1
openstack%2Fskyline-apiserver~master~I095ecd652c8ab17323ad330acb9bf4eddd790336,openstack/skyline-apiserver,master,I095ecd652c8ab17323ad330acb9bf4eddd790336,chore: Remove unused codes,MERGED,2022-06-14 13:21:02.000000000,2022-10-18 08:07:11.000000000,2022-06-15 03:17:43.000000000,"[{'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 30434}, {'_account_id': 35158}, {'_account_id': 35159}, {'_account_id': 35161}]","[{'number': 1, 'created': '2022-06-14 13:21:02.000000000', 'files': ['skyline_apiserver/utils/coroutine.py'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/fdd1064ab6b555e62b450b8384a58dd48d5bb881', 'message': 'chore: Remove unused codes\n\nRemove the coroutine.py file because unused codes.\n\nChange-Id: I095ecd652c8ab17323ad330acb9bf4eddd790336\n'}]",0,845751,fdd1064ab6b555e62b450b8384a58dd48d5bb881,10,6,1,28706,,,0,"chore: Remove unused codes

Remove the coroutine.py file because unused codes.

Change-Id: I095ecd652c8ab17323ad330acb9bf4eddd790336
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/51/845751/1 && git format-patch -1 --stdout FETCH_HEAD,['skyline_apiserver/utils/coroutine.py'],1,fdd1064ab6b555e62b450b8384a58dd48d5bb881,,,"# Copyright 2021 99cloud # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. from __future__ import annotations import asyncio from functools import wraps from typing import Any from skyline_apiserver.types import Fn def sync_run(fn: Fn) -> Fn: @wraps(fn) def wrapper(*args: Any, **kwargs: Any) -> Any: return asyncio.run(fn(*args, **kwargs)) return wrapper ",0,29
openstack%2Fskyline-apiserver~master~I366e4482617654baab9091736e6f2b186aed6371,openstack/skyline-apiserver,master,I366e4482617654baab9091736e6f2b186aed6371,feat: Add barbican policy and service_mapping,MERGED,2022-06-07 06:07:02.000000000,2022-10-18 08:07:02.000000000,2022-06-07 11:16:01.000000000,"[{'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 30434}, {'_account_id': 35158}, {'_account_id': 35159}, {'_account_id': 35161}]","[{'number': 1, 'created': '2022-06-07 06:07:02.000000000', 'files': ['releasenotes/notes/add-barbican-configs-and-policies-3951a6784064045e.yaml', 'skyline_apiserver/policy/manager/barbican.py', 'releasenotes/notes/add-zun-configs-and-policies-6a761034b5851255.yaml', 'etc/skyline.yaml.sample', 'releasenotes/notes/add-magnum-configs-and-policies-b92cbaecac5a9379.yaml', 'skyline_apiserver/config/openstack.py', 'tools/post_install.sh', 'skyline_apiserver/types/constants.py'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/fc547f846716faa99d486f4760ce55849659a379', 'message': 'feat: Add barbican policy and service_mapping\n\n1. add barbican related policy\n2. add barbican into service_mapping\n3. add releatenote for barbican\n4. update releatenote for zun and magnum\n\nChange-Id: I366e4482617654baab9091736e6f2b186aed6371\n'}]",0,844910,fc547f846716faa99d486f4760ce55849659a379,10,6,1,28706,,,0,"feat: Add barbican policy and service_mapping

1. add barbican related policy
2. add barbican into service_mapping
3. add releatenote for barbican
4. update releatenote for zun and magnum

Change-Id: I366e4482617654baab9091736e6f2b186aed6371
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/10/844910/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-barbican-configs-and-policies-3951a6784064045e.yaml', 'skyline_apiserver/policy/manager/barbican.py', 'releasenotes/notes/add-zun-configs-and-policies-6a761034b5851255.yaml', 'etc/skyline.yaml.sample', 'releasenotes/notes/add-magnum-configs-and-policies-b92cbaecac5a9379.yaml', 'skyline_apiserver/config/openstack.py', 'tools/post_install.sh', 'skyline_apiserver/types/constants.py']",8,fc547f846716faa99d486f4760ce55849659a379,," ""barbican"": [""barbican""],",,496,4
openstack%2Fskyline-apiserver~master~I56a10452e731fd6e2597501659ce84e96c4c91ab,openstack/skyline-apiserver,master,I56a10452e731fd6e2597501659ce84e96c4c91ab,refactor: Use source code instead of release packages,MERGED,2022-06-07 05:31:29.000000000,2022-10-18 08:06:52.000000000,2022-06-07 06:56:09.000000000,"[{'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 30434}, {'_account_id': 35158}, {'_account_id': 35159}, {'_account_id': 35161}]","[{'number': 1, 'created': '2022-06-07 05:31:29.000000000', 'files': ['tools/post_install.sh', 'skyline_apiserver/policy/manager/neutron.py'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/10c910c6d5bb353b1109105ada3f1b534e05cdf9', 'message': 'refactor: Use source code instead of release packages\n\nWe install the service projects from opendev instead of\nrelease packages. If the service projects are DEPRECATED,\nthen we will install them by latest release packages.\n\nUpdate the neutron policy with the master branch.\n\nChange-Id: I56a10452e731fd6e2597501659ce84e96c4c91ab\n'}]",0,844906,10c910c6d5bb353b1109105ada3f1b534e05cdf9,10,6,1,28706,,,0,"refactor: Use source code instead of release packages

We install the service projects from opendev instead of
release packages. If the service projects are DEPRECATED,
then we will install them by latest release packages.

Update the neutron policy with the master branch.

Change-Id: I56a10452e731fd6e2597501659ce84e96c4c91ab
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/06/844906/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/post_install.sh', 'skyline_apiserver/policy/manager/neutron.py']",2,10c910c6d5bb353b1109105ada3f1b534e05cdf9,," check_str=(""(rule:admin_only) or (role:reader and project_id:%(project_id)s)""), check_str=(""rule:admin_only""), check_str=(""rule:admin_only""), check_str=(""rule:admin_only""), check_str=(""rule:admin_only""), check_str=(""rule:admin_only""), check_str=(""rule:admin_only""), check_str=(""rule:admin_only""), check_str=(""rule:admin_only""), check_str=(""rule:admin_only""), check_str=(""rule:admin_only""), check_str=(""rule:admin_only""), check_str=(""rule:admin_only""), check_str=(""rule:admin_only""), check_str=(""(rule:admin_only) or (role:reader and project_id:%(project_id)s)""), check_str=(""rule:admin_only""), check_str=(""rule:admin_only""), check_str=(""rule:admin_only""), check_str=(""rule:admin_only""), check_str=(""rule:admin_only""), check_str=(""rule:admin_only""), check_str=(""rule:admin_only""), check_str=(""rule:admin_only""), check_str=(""rule:admin_only""), check_str=(""rule:admin_only""), check_str=(""rule:admin_only""), check_str=(""rule:admin_only""), check_str=(""rule:admin_only""), check_str=(""rule:admin_only""), check_str=(""rule:admin_only""), check_str=(""rule:admin_only""), check_str=(""rule:admin_only""), check_str=(""rule:admin_only""), description=""Specify ``device_owner`` attribute when creating a port"", check_str=(""rule:admin_only""), check_str=(""rule:admin_only""), check_str=(""rule:admin_only""), check_str=(""rule:admin_only""), check_str=(""rule:admin_only""), check_str=(""rule:admin_only""), check_str=(""rule:admin_only""), check_str=(""rule:admin_only""),"," check_str=(""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)""), check_str=(""role:reader and system_scope:all""), check_str=(""role:admin and system_scope:all""), check_str=(""role:admin and system_scope:all""), check_str=(""role:admin and system_scope:all""), check_str=(""role:reader and system_scope:all""), check_str=(""role:admin and system_scope:all""), check_str=(""role:admin and system_scope:all""), check_str=(""role:reader and system_scope:all""), check_str=(""role:admin and system_scope:all""), check_str=(""role:reader and system_scope:all""), check_str=(""role:reader and system_scope:all""), check_str=(""role:reader and system_scope:all""), check_str=(""role:admin and system_scope:all""), check_str=(""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)""), check_str=(""role:admin and system_scope:all""), check_str=(""role:admin and system_scope:all""), check_str=(""role:admin and system_scope:all""), check_str=(""role:reader and system_scope:all""), check_str=(""role:admin and system_scope:all""), check_str=(""role:admin and system_scope:all""), check_str=(""role:admin and system_scope:all""), check_str=(""role:admin and system_scope:all""), check_str=(""role:reader and system_scope:all""), check_str=(""role:admin and system_scope:all""), check_str=(""role:reader and system_scope:all""), check_str=(""role:admin and system_scope:all""), check_str=(""role:admin and system_scope:all""), check_str=(""role:reader and system_scope:all""), check_str=(""role:admin and system_scope:all""), check_str=(""role:reader and system_scope:all""), check_str=(""role:admin and system_scope:all""), check_str=(""role:admin and system_scope:all""), description=""Specify ``device_owner`` attribute when creting a port"", check_str=(""role:admin or role:reader and system_scope:all""), check_str=(""role:reader and system_scope:all""), check_str=(""role:admin and system_scope:all""), check_str=(""role:admin and system_scope:all""), check_str=(""role:admin and system_scope:all""), check_str=(""role:reader and system_scope:all""), check_str=(""role:admin and system_scope:all""), check_str=(""role:admin and system_scope:all""),",63,49
openstack%2Fhorizon~master~I938820bb4827b4bf578ed81182572ca878e96758,openstack/horizon,master,I938820bb4827b4bf578ed81182572ca878e96758,Imported Translations from Zanata,MERGED,2022-10-18 03:58:02.000000000,2022-10-18 08:06:28.000000000,2022-10-18 08:05:21.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-10-18 03:58:02.000000000', 'files': ['openstack_dashboard/locale/ja/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ru/LC_MESSAGES/django.po', 'openstack_auth/locale/ja/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/28349ee91bb5443224281b4b02dac30922184aff', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I938820bb4827b4bf578ed81182572ca878e96758\n'}]",0,861696,28349ee91bb5443224281b4b02dac30922184aff,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I938820bb4827b4bf578ed81182572ca878e96758
",git fetch https://review.opendev.org/openstack/horizon refs/changes/96/861696/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/locale/ja/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ru/LC_MESSAGES/django.po', 'openstack_auth/locale/ja/LC_MESSAGES/django.po']",3,28349ee91bb5443224281b4b02dac30922184aff,zanata/translations,"# Akihiro Motoki <amotoki@gmail.com>, 2022. #zanata""POT-Creation-Date: 2022-10-13 05:54+0000\n""""PO-Revision-Date: 2022-10-17 08:40+0000\n"" ""Last-Translator: Akihiro Motoki <amotoki@gmail.com>\n""msgid ""Switch to system scope successful."" msgstr """" #, python-format msgid ""System switch failed for user \""%(username)s\""."" msgstr "" \""%(username)s\"" "" ","""POT-Creation-Date: 2021-03-11 22:00+0000\n""""PO-Revision-Date: 2021-03-15 04:42+0000\n"" ""Last-Translator: Yuko Katabami <yukokatabami@gmail.com>\n""",80,9
openstack%2Fneutron~master~Ibca81eb59fbfad71f223832228f408fb248c5dfa,openstack/neutron,master,Ibca81eb59fbfad71f223832228f408fb248c5dfa,Disable in-band management for bridges before setting up controllers,MERGED,2022-10-14 10:15:42.000000000,2022-10-18 07:53:19.000000000,2022-10-17 14:13:20.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2022-10-14 10:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a65e343774228771a7a8bf1403f518302cef88e1', 'message': 'Disable in-band management for bridges before setting up controllers\n\nDisabling in-band management for bridge will effectively disable it for\nall controllers which are or will be set for the bridge. This will\nprevent us from having short time between configuring controller and\nsetting connection_mode of the controller to ""out-of-band"" when\ncontroller works in the default ""in-band"" connection mode and adds some\nhidden flows to the bridge.\n\nCloses-Bug: #1992953\nChange-Id: Ibca81eb59fbfad71f223832228f408fb248c5dfa\n'}, {'number': 2, 'created': '2022-10-16 08:51:16.000000000', 'files': ['neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py', 'neutron/tests/functional/agent/test_ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8fcf00a36dfcec80bba73b63896d806f48835faf', 'message': 'Disable in-band management for bridges before setting up controllers\n\nDisabling in-band management for bridge will effectively disable it for\nall controllers which are or will be set for the bridge. This will\nprevent us from having short time between configuring controller and\nsetting connection_mode of the controller to ""out-of-band"" when\ncontroller works in the default ""in-band"" connection mode and adds some\nhidden flows to the bridge.\n\nCloses-Bug: #1992953\nChange-Id: Ibca81eb59fbfad71f223832228f408fb248c5dfa\n'}]",6,861351,8fcf00a36dfcec80bba73b63896d806f48835faf,21,6,2,11975,,,0,"Disable in-band management for bridges before setting up controllers

Disabling in-band management for bridge will effectively disable it for
all controllers which are or will be set for the bridge. This will
prevent us from having short time between configuring controller and
setting connection_mode of the controller to ""out-of-band"" when
controller works in the default ""in-band"" connection mode and adds some
hidden flows to the bridge.

Closes-Bug: #1992953
Change-Id: Ibca81eb59fbfad71f223832228f408fb248c5dfa
",git fetch https://review.opendev.org/openstack/neutron refs/changes/51/861351/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py', 'neutron/tests/functional/agent/test_ovs_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py']",4,a65e343774228771a7a8bf1403f518302cef88e1,bug/1992953," m_disable_in_band = mock.patch.object(self.br, 'disable_in_band') with m_disable_in_band as disable_in_band, \ disable_in_band.assert_called_once_with()"," m_set_ccm = mock.patch.object(self.br, 'set_controllers_connection_mode') with m_set_ccm as set_ccm, \ set_ccm.assert_called_once_with(""out-of-band"")",45,52
openstack%2Fskyline-console~master~If028182f2d75025642032a56a8dd59280e6ab3e5,openstack/skyline-console,master,If028182f2d75025642032a56a8dd59280e6ab3e5,docs: Change the launchpad url for skyline-console,MERGED,2022-10-11 03:40:43.000000000,2022-10-18 07:39:13.000000000,2022-10-12 03:44:56.000000000,"[{'_account_id': 16523}, {'_account_id': 22348}, {'_account_id': 26304}, {'_account_id': 28543}, {'_account_id': 28706}, {'_account_id': 28743}, {'_account_id': 30356}, {'_account_id': 30434}, {'_account_id': 33196}, {'_account_id': 34458}, {'_account_id': 35102}, {'_account_id': 35158}, {'_account_id': 35159}, {'_account_id': 35161}, {'_account_id': 35191}]","[{'number': 1, 'created': '2022-10-11 03:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/3a98e4f5aabb2a70373bda952fca4300bdedc773', 'message': 'docs: Change the launchpad url for skyline-console\n\nNow we create a new launchpad url for skyline-console.\n\nhttps: //launchpad.net/skyline-console\nChange-Id: If028182f2d75025642032a56a8dd59280e6ab3e5\n'}, {'number': 2, 'created': '2022-10-11 03:41:41.000000000', 'files': ['doc/source/contributor/contributing.rst', 'README-zh_CN.rst', 'README.rst', 'doc/source/contributor/documentation.rst', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/f9cc9dea5a5455d94f60b017dce992f56dc7460e', 'message': 'docs: Change the launchpad url for skyline-console\n\nNow we create a new launchpad url for skyline-console.\n\nhttps://launchpad.net/skyline-console\n\nChange-Id: If028182f2d75025642032a56a8dd59280e6ab3e5\n'}]",0,860916,f9cc9dea5a5455d94f60b017dce992f56dc7460e,21,15,2,28706,,,0,"docs: Change the launchpad url for skyline-console

Now we create a new launchpad url for skyline-console.

https://launchpad.net/skyline-console

Change-Id: If028182f2d75025642032a56a8dd59280e6ab3e5
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/16/860916/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'README-zh_CN.rst', 'README.rst', 'doc/source/contributor/documentation.rst', 'setup.cfg']",5,3a98e4f5aabb2a70373bda952fca4300bdedc773,, Tracker=https://bugs.launchpad.net/skyline-console, Tracker=https://bugs.launchpad.net/skyline-apiserver,7,7
openstack%2Fskyline-console~master~I0bec014d1b8e1726ae6092f8d2dd0710151283fb,openstack/skyline-console,master,I0bec014d1b8e1726ae6092f8d2dd0710151283fb,feat: update id render to support number format,MERGED,2022-10-12 03:11:24.000000000,2022-10-18 07:39:00.000000000,2022-10-12 06:31:31.000000000,"[{'_account_id': 16523}, {'_account_id': 22348}, {'_account_id': 26304}, {'_account_id': 28543}, {'_account_id': 28706}, {'_account_id': 28743}, {'_account_id': 30356}, {'_account_id': 33196}, {'_account_id': 33689}, {'_account_id': 34458}, {'_account_id': 34589}, {'_account_id': 35102}, {'_account_id': 35158}, {'_account_id': 35159}, {'_account_id': 35161}, {'_account_id': 35191}]","[{'number': 1, 'created': '2022-10-12 03:11:24.000000000', 'files': ['src/utils/table.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/fb3078f740414ab5bfaa1e266194c432483d5c23', 'message': 'feat: update id render to support number format\n\nUpdate the getIdRender func to support resource id of numeric type\n\nChange-Id: I0bec014d1b8e1726ae6092f8d2dd0710151283fb\n'}]",0,861020,fb3078f740414ab5bfaa1e266194c432483d5c23,21,16,1,30434,,,0,"feat: update id render to support number format

Update the getIdRender func to support resource id of numeric type

Change-Id: I0bec014d1b8e1726ae6092f8d2dd0710151283fb
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/20/861020/1 && git format-patch -1 --stdout FETCH_HEAD,['src/utils/table.jsx'],1,fb3078f740414ab5bfaa1e266194c432483d5c23,id-name," const short = `${value || ''}`.substring(0, 8);"," const short = (value || '').substring(0, 8);",1,1
openstack%2Fskyline-console~master~Ia03397d064ae67193382aca483943b92805cfd7c,openstack/skyline-console,master,Ia03397d064ae67193382aca483943b92805cfd7c,feat: remove id link in the name column in the role list page,MERGED,2022-10-12 03:11:24.000000000,2022-10-18 07:36:03.000000000,2022-10-12 06:31:33.000000000,"[{'_account_id': 16523}, {'_account_id': 22348}, {'_account_id': 26304}, {'_account_id': 28543}, {'_account_id': 28706}, {'_account_id': 28743}, {'_account_id': 30356}, {'_account_id': 33196}, {'_account_id': 33689}, {'_account_id': 34458}, {'_account_id': 34589}, {'_account_id': 35102}, {'_account_id': 35158}, {'_account_id': 35159}, {'_account_id': 35161}, {'_account_id': 35191}]","[{'number': 1, 'created': '2022-10-12 03:11:24.000000000', 'files': ['src/pages/identity/containers/Role/index.jsx', 'src/utils/table.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/265e3c7916a810763d2694a321306cd3963da212', 'message': 'feat: remove id link in the name column in the role list page\n\n1. remove id link in the name column in the role list page\n2. update the bold name style check: if the name column has the withoutId attribute with the true value, the name defaults unbold\n\nChange-Id: Ia03397d064ae67193382aca483943b92805cfd7c\n'}]",0,861021,265e3c7916a810763d2694a321306cd3963da212,21,16,1,30434,,,0,"feat: remove id link in the name column in the role list page

1. remove id link in the name column in the role list page
2. update the bold name style check: if the name column has the withoutId attribute with the true value, the name defaults unbold

Change-Id: Ia03397d064ae67193382aca483943b92805cfd7c
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/21/861021/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/identity/containers/Role/index.jsx', 'src/utils/table.jsx']",2,265e3c7916a810763d2694a321306cd3963da212,id-name,"const isNameBold = (dataIndex, title, boldName, withoutId) => { return boldName === undefined ? withoutId ? false : title === t('ID/Name') || dataIndex === 'name' : boldName; }; const isBold = isNameBold(dataIndex, title, boldName, false); const isBold = isNameBold(dataIndex, title, boldName, withoutId);", const isBold = boldName || title === t('ID/Name') || dataIndex === 'name'; const isBold = boldName || title === t('ID/Name') || dataIndex === 'name';,11,2
openstack%2Fskyline-console~master~I6add661f739447666f80308e36991e07f0e8b4aa,openstack/skyline-console,master,I6add661f739447666f80308e36991e07f0e8b4aa,fix: Fix the unit transform in prometheus monitor,MERGED,2022-10-12 08:49:36.000000000,2022-10-18 07:35:56.000000000,2022-10-13 04:00:11.000000000,"[{'_account_id': 22348}, {'_account_id': 26304}, {'_account_id': 28543}, {'_account_id': 28706}, {'_account_id': 28743}, {'_account_id': 30356}, {'_account_id': 30434}, {'_account_id': 33196}, {'_account_id': 34458}, {'_account_id': 34589}, {'_account_id': 35102}, {'_account_id': 35158}, {'_account_id': 35159}, {'_account_id': 35161}, {'_account_id': 35191}]","[{'number': 1, 'created': '2022-10-12 08:49:36.000000000', 'files': ['src/resources/prometheus/monitoring.js'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/3078eacecb8a6fa074ea3a363bb963e717fa6b9d', 'message': ""fix: Fix the unit transform in prometheus monitor\n\n1. Fix getValueByUnit to get correct value\n2. Fix the unit text, it doesn't need i18n\n\nCloses-Bug: #1992407\nChange-Id: I6add661f739447666f80308e36991e07f0e8b4aa\n""}]",0,861043,3078eacecb8a6fa074ea3a363bb963e717fa6b9d,20,15,1,33689,,,0,"fix: Fix the unit transform in prometheus monitor

1. Fix getValueByUnit to get correct value
2. Fix the unit text, it doesn't need i18n

Closes-Bug: #1992407
Change-Id: I6add661f739447666f80308e36991e07f0e8b4aa
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/43/861043/1 && git format-patch -1 --stdout FETCH_HEAD,['src/resources/prometheus/monitoring.js'],1,3078eacecb8a6fa074ea3a363bb963e717fa6b9d,fix-promethus-unit, const unitText = unit || ''; case 'KiB/s': case 'MiB/s': case 'GiB/s': case 'TiB/s':, const unitText = unit ? ` ${t(unit)}` : '';,5,1
openstack%2Fskyline-console~master~I7d0b7fc96e7118f3db1e1853cce728845a537bcc,openstack/skyline-console,master,I7d0b7fc96e7118f3db1e1853cce728845a537bcc,fix: set the default language is Engilsh,MERGED,2022-10-13 01:26:52.000000000,2022-10-18 07:35:46.000000000,2022-10-13 04:45:26.000000000,"[{'_account_id': 22348}, {'_account_id': 26304}, {'_account_id': 28543}, {'_account_id': 28706}, {'_account_id': 28743}, {'_account_id': 30356}, {'_account_id': 33196}, {'_account_id': 33689}, {'_account_id': 34458}, {'_account_id': 34589}, {'_account_id': 35102}, {'_account_id': 35158}, {'_account_id': 35159}, {'_account_id': 35161}, {'_account_id': 35191}]","[{'number': 1, 'created': '2022-10-13 01:26:52.000000000', 'files': ['src/core/i18n.js'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/7b87e7e7ba7a8c4e3de989a20b65625d73f65e35', 'message': 'fix: set the default language is Engilsh\n\nChange the default language from Chinese to English.\n\nCloses-Bug: #1992694\nChange-Id: I7d0b7fc96e7118f3db1e1853cce728845a537bcc\n'}]",0,861126,7b87e7e7ba7a8c4e3de989a20b65625d73f65e35,20,15,1,30434,,,0,"fix: set the default language is Engilsh

Change the default language from Chinese to English.

Closes-Bug: #1992694
Change-Id: I7d0b7fc96e7118f3db1e1853cce728845a537bcc
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/26/861126/1 && git format-patch -1 --stdout FETCH_HEAD,['src/core/i18n.js'],1,7b87e7e7ba7a8c4e3de989a20b65625d73f65e35,bug/1992694," // If not found, the default is English if (!_.find(SUPPORT_LOCALES, { value: currentLocale })) { currentLocale = 'en';"," // If not found, the default is Chinese if (!_.find(SUPPORT_LOCALES, { value: currentLocale })) { currentLocale = 'zh-cn'; // currentLocale = 'en';",2,3
openstack%2Fskyline-console~master~I451282990346c187283dae1cf64e3cb4b9782cb6,openstack/skyline-console,master,I451282990346c187283dae1cf64e3cb4b9782cb6,feat: Support for custom prometheus requests,MERGED,2022-10-12 08:35:38.000000000,2022-10-18 07:35:36.000000000,2022-10-13 07:05:56.000000000,"[{'_account_id': 22348}, {'_account_id': 26304}, {'_account_id': 28543}, {'_account_id': 28706}, {'_account_id': 28743}, {'_account_id': 30356}, {'_account_id': 30434}, {'_account_id': 34458}, {'_account_id': 34589}, {'_account_id': 35102}, {'_account_id': 35158}, {'_account_id': 35159}, {'_account_id': 35161}, {'_account_id': 35191}]","[{'number': 1, 'created': '2022-10-12 08:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/1f8fe8e2a856d5c60f7b2ab8ca665914b3447d03', 'message': 'feat: Support post request for prometheus\n\nSupport post request for prometheus to match the long params\n\nChange-Id: I451282990346c187283dae1cf64e3cb4b9782cb6\n'}, {'number': 2, 'created': '2022-10-12 08:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/b488b6d6015e2380a630583efeb2238d660d4d8c', 'message': 'feat: Support post request for prometheus\n\nSupport post request for prometheus to match the long params\n\nChange-Id: I451282990346c187283dae1cf64e3cb4b9782cb6\n'}, {'number': 3, 'created': '2022-10-12 08:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/cc8319814ea9d81650c09709f24fe7a22dbd5919', 'message': 'feat: Support post request for prometheus\n\nSupport post request for prometheus to match the long params\n\nChange-Id: I451282990346c187283dae1cf64e3cb4b9782cb6\n'}, {'number': 4, 'created': '2022-10-12 14:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/252c112306cf676e6fcd30f065c1d775b2b81483', 'message': 'feat: Support post request for prometheus\n\n1. Support post request for prometheus to match the long params\n2. Support convert request url in Charts\n\nChange-Id: I451282990346c187283dae1cf64e3cb4b9782cb6\n'}, {'number': 5, 'created': '2022-10-13 02:32:59.000000000', 'files': ['src/components/PrometheusChart/utils/index.js', 'src/components/PrometheusChart/component/Charts.jsx', 'src/components/PrometheusChart/BaseCard.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/7c8f9f7e26eede943f7774fab6c6aff84a9b0d6f', 'message': 'feat: Support for custom prometheus requests\n\n1. Support custom prometheus request function\n2. Support convert request url in prometheus request\n\nChange-Id: I451282990346c187283dae1cf64e3cb4b9782cb6\n'}]",0,861042,7c8f9f7e26eede943f7774fab6c6aff84a9b0d6f,27,14,5,33689,,,0,"feat: Support for custom prometheus requests

1. Support custom prometheus request function
2. Support convert request url in prometheus request

Change-Id: I451282990346c187283dae1cf64e3cb4b9782cb6
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/42/861042/5 && git format-patch -1 --stdout FETCH_HEAD,"['src/components/PrometheusChart/utils/utils.js', 'src/client/skyline/index.js']",2,1f8fe8e2a856d5c60f7b2ab8ca665914b3447d03,feat-sdnc-monitor," extendOperations: [ { key: '', name: 'post', method: 'post', generate: (data) => { return this.request.post('query', data); }, }, ], extendOperations: [ { key: '', name: 'post', method: 'post', generate: (data) => { return this.request.post('query_range', data); }, }, ],",,31,0
openstack%2Fskyline-console~master~I3bc2cd0802d2f7dd08a34c9628d282c9c1a09dd4,openstack/skyline-console,master,I3bc2cd0802d2f7dd08a34c9628d282c9c1a09dd4,fix: fix the row auto selected when copy id,MERGED,2022-10-17 08:25:22.000000000,2022-10-18 07:34:09.000000000,2022-10-18 03:23:33.000000000,"[{'_account_id': 16523}, {'_account_id': 22348}, {'_account_id': 26304}, {'_account_id': 28543}, {'_account_id': 28706}, {'_account_id': 28743}, {'_account_id': 30356}, {'_account_id': 33689}, {'_account_id': 34458}, {'_account_id': 34589}, {'_account_id': 35102}, {'_account_id': 35158}, {'_account_id': 35159}, {'_account_id': 35161}, {'_account_id': 35191}]","[{'number': 1, 'created': '2022-10-17 08:25:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/f10339763a0ea04953eeaf2a9f1178eaf3b5df89', 'message': 'fix: fix the row auto selected when copy id\n\nFix theselected state of the row changed when the id in the row is copied,  by stop the propagation.\n\nChange-Id: I3bc2cd0802d2f7dd08a34c9628d282c9c1a09dd4\n'}, {'number': 2, 'created': '2022-10-17 09:30:16.000000000', 'files': ['src/utils/table.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/a17edb45fddf470ac6ba789387113a87c119e1b5', 'message': 'fix: fix the row auto selected when copy id\n\nFix theselected state of the row changed when the id in the row is copied,  check the click event target, if the target is the copy button, then stop propagation.\n\nChange-Id: I3bc2cd0802d2f7dd08a34c9628d282c9c1a09dd4\n'}]",0,861580,a17edb45fddf470ac6ba789387113a87c119e1b5,22,15,2,30434,,,0,"fix: fix the row auto selected when copy id

Fix theselected state of the row changed when the id in the row is copied,  check the click event target, if the target is the copy button, then stop propagation.

Change-Id: I3bc2cd0802d2f7dd08a34c9628d282c9c1a09dd4
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/80/861580/2 && git format-patch -1 --stdout FETCH_HEAD,['src/utils/table.jsx'],1,f10339763a0ea04953eeaf2a9f1178eaf3b5df89,id-name, const onClick = (e) => { if (e && e.stopPropagation) { e.stopPropagation(); } }; onClick={onClick},,6,0
openstack%2Fskyline-console~master~I4bfa45c28d6a5e910c802a807ffe3f9b71732c04,openstack/skyline-console,master,I4bfa45c28d6a5e910c802a807ffe3f9b71732c04,fix: update the click area of the id link,MERGED,2022-10-17 09:40:51.000000000,2022-10-18 07:33:56.000000000,2022-10-18 03:55:05.000000000,"[{'_account_id': 16523}, {'_account_id': 22348}, {'_account_id': 26304}, {'_account_id': 28543}, {'_account_id': 28706}, {'_account_id': 28743}, {'_account_id': 30356}, {'_account_id': 33689}, {'_account_id': 34458}, {'_account_id': 34589}, {'_account_id': 35102}, {'_account_id': 35158}, {'_account_id': 35159}, {'_account_id': 35161}, {'_account_id': 35191}]","[{'number': 1, 'created': '2022-10-17 09:40:51.000000000', 'files': ['src/utils/table.jsx', 'src/styles/base.less'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/a29d9dacd3f8443b9a756ad64b02368b107cb0b8', 'message': 'fix: update the click area of the id link\n\nReduce the click area of the id link, change the style from block to inline-block to update the click area\n\nChange-Id: I4bfa45c28d6a5e910c802a807ffe3f9b71732c04\n'}]",0,861596,a29d9dacd3f8443b9a756ad64b02368b107cb0b8,20,15,1,30434,,,0,"fix: update the click area of the id link

Reduce the click area of the id link, change the style from block to inline-block to update the click area

Change-Id: I4bfa45c28d6a5e910c802a807ffe3f9b71732c04
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/96/861596/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/utils/table.jsx', 'src/styles/base.less']",2,a29d9dacd3f8443b9a756ad64b02368b107cb0b8,id-name, .inline-block { display: inline-block; },,5,1
openstack%2Fmurano~stable%2Fzed~I963e741078514b1cca6ed0e510cefaeccdd3499a,openstack/murano,stable/zed,I963e741078514b1cca6ed0e510cefaeccdd3499a,Fix compatibility with oslo.db 12.1.0,MERGED,2022-10-12 10:29:22.000000000,2022-10-18 07:33:27.000000000,2022-10-18 03:56:01.000000000,"[{'_account_id': 14107}, {'_account_id': 18418}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2022-10-12 10:29:22.000000000', 'files': ['murano/db/session.py', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/murano/commit/153bb0ea837741638765c80ddd08ed9ba5dfd560', 'message': ""Fix compatibility with oslo.db 12.1.0\n\noslo.db 12.1.0 has changed the default value for the 'autocommit'\nparameter of 'LegacyEngineFacade' from 'True' to 'False'. This is a\nnecessary step to ensure compatibility with SQLAlchemy 2.0. However, we\nare currently relying on the autocommit behavior and need changes to\nexplicitly manage sessions. Until that happens, we need to override the\ndefault.\n\nNote that this patch was written using this one as example:\nhttps://review.opendev.org/c/openstack/magnum/+/858374\n\nAlso include Zuul gate fix. Fix as described in [1][2]\n\n[1] https://lists.opendev.org/pipermail/service-announce/2022-September/000044.html\n[2] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nChange-Id: I963e741078514b1cca6ed0e510cefaeccdd3499a\n""}]",0,861074,153bb0ea837741638765c80ddd08ed9ba5dfd560,9,4,1,18418,,,0,"Fix compatibility with oslo.db 12.1.0

oslo.db 12.1.0 has changed the default value for the 'autocommit'
parameter of 'LegacyEngineFacade' from 'True' to 'False'. This is a
necessary step to ensure compatibility with SQLAlchemy 2.0. However, we
are currently relying on the autocommit behavior and need changes to
explicitly manage sessions. Until that happens, we need to override the
default.

Note that this patch was written using this one as example:
https://review.opendev.org/c/openstack/magnum/+/858374

Also include Zuul gate fix. Fix as described in [1][2]

[1] https://lists.opendev.org/pipermail/service-announce/2022-September/000044.html
[2] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html

Change-Id: I963e741078514b1cca6ed0e510cefaeccdd3499a
",git fetch https://review.opendev.org/openstack/murano refs/changes/74/861074/1 && git format-patch -1 --stdout FETCH_HEAD,"['murano/db/session.py', '.zuul.yaml']",2,153bb0ea837741638765c80ddd08ed9ba5dfd560,, queue: murano, queue: murano,4,1
openstack%2Fmurano~master~I3e6bf2f28aa0e1b4dc464432ae1986f89f78aa44,openstack/murano,master,I3e6bf2f28aa0e1b4dc464432ae1986f89f78aa44,Update master for stable/zed,MERGED,2022-09-14 13:45:54.000000000,2022-10-18 07:33:22.000000000,2022-10-18 03:56:05.000000000,"[{'_account_id': 8556}, {'_account_id': 14107}, {'_account_id': 17685}, {'_account_id': 18418}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2022-09-14 13:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/515d04630d26edd7fb71637c86c763834d9b9840', 'message': 'Update master for stable/zed\n\nAdd file to the reno documentation build to show release notes for\nstable/zed.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/zed.\n\nSem-Ver: feature\nChange-Id: I3e6bf2f28aa0e1b4dc464432ae1986f89f78aa44\n'}, {'number': 2, 'created': '2022-10-18 03:00:10.000000000', 'files': ['releasenotes/source/zed.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/murano/commit/a25b273e4627755826cc1cc90f0a3d00035919c1', 'message': 'Update master for stable/zed\n\nAdd file to the reno documentation build to show release notes for\nstable/zed.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/zed.\n\nSem-Ver: feature\nChange-Id: I3e6bf2f28aa0e1b4dc464432ae1986f89f78aa44\n'}]",1,857703,a25b273e4627755826cc1cc90f0a3d00035919c1,13,6,2,22816,,,0,"Update master for stable/zed

Add file to the reno documentation build to show release notes for
stable/zed.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/zed.

Sem-Ver: feature
Change-Id: I3e6bf2f28aa0e1b4dc464432ae1986f89f78aa44
",git fetch https://review.opendev.org/openstack/murano refs/changes/03/857703/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/zed.rst', 'releasenotes/source/index.rst']",2,515d04630d26edd7fb71637c86c763834d9b9840,reno-zed, zed,,7,0
openstack%2Fmurano~stable%2Fzed~If3349c8f0615fe5eafbe412e1402b13c860cbf8d,openstack/murano,stable/zed,If3349c8f0615fe5eafbe412e1402b13c860cbf8d,Update .gitreview for stable/zed,MERGED,2022-09-14 13:45:50.000000000,2022-10-18 07:33:18.000000000,2022-10-18 03:56:03.000000000,"[{'_account_id': 14107}, {'_account_id': 18418}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2022-09-14 13:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/c62bc43476f4a8bb0922c1f185cf8faf4e7a8920', 'message': 'Update .gitreview for stable/zed\n\nChange-Id: If3349c8f0615fe5eafbe412e1402b13c860cbf8d\n'}, {'number': 2, 'created': '2022-10-12 10:30:00.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/murano/commit/42991d29ac48f0b1e378a24da5be5c642d5fa021', 'message': 'Update .gitreview for stable/zed\n\nChange-Id: If3349c8f0615fe5eafbe412e1402b13c860cbf8d\n'}]",0,857702,42991d29ac48f0b1e378a24da5be5c642d5fa021,11,4,2,22816,,,0,"Update .gitreview for stable/zed

Change-Id: If3349c8f0615fe5eafbe412e1402b13c860cbf8d
",git fetch https://review.opendev.org/openstack/murano refs/changes/02/857702/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,c62bc43476f4a8bb0922c1f185cf8faf4e7a8920,create-zed,defaultbranch=stable/zed,,1,0
openstack%2Fhorizon~stable%2Fzed~I29c1898a6c9f33d25fccc2a2718b0a2b0fc02890,openstack/horizon,stable/zed,I29c1898a6c9f33d25fccc2a2718b0a2b0fc02890,Imported Translations from Zanata,MERGED,2022-10-18 03:28:12.000000000,2022-10-18 07:33:10.000000000,2022-10-18 04:00:05.000000000,"[{'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-10-18 03:28:12.000000000', 'files': ['openstack_dashboard/locale/ru/LC_MESSAGES/django.po', 'openstack_auth/locale/ja/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ru/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/494f5baf028323c3522a1ab06b3ca73d5533ed1d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I29c1898a6c9f33d25fccc2a2718b0a2b0fc02890\n'}]",0,861691,494f5baf028323c3522a1ab06b3ca73d5533ed1d,8,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I29c1898a6c9f33d25fccc2a2718b0a2b0fc02890
",git fetch https://review.opendev.org/openstack/horizon refs/changes/91/861691/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/locale/ru/LC_MESSAGES/django.po', 'openstack_auth/locale/ja/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ru/LC_MESSAGES/djangojs.po']",3,494f5baf028323c3522a1ab06b3ca73d5533ed1d,zanata/translations,"# Dmitriy Rabotyagov <noonedeadpunk@ya.ru>, 2022. #zanata""POT-Creation-Date: 2022-10-14 05:55+0000\n""""PO-Revision-Date: 2022-10-17 03:16+0000\n"" ""Last-Translator: Dmitriy Rabotyagov <noonedeadpunk@ya.ru>\n""msgid ""Browse..."" msgstr ""Browse..."" ","""POT-Creation-Date: 2022-09-30 06:37+0000\n""""PO-Revision-Date: 2022-09-01 05:27+0000\n"" ""Last-Translator: Roman Gorshunov <roman.gorshunov@att.com>\n""",48,9
openstack%2Frequirements~stable%2Fvictoria~I205e07b7f158c453d38742cde27d9834c1d618e6,openstack/requirements,stable/victoria,I205e07b7f158c453d38742cde27d9834c1d618e6,Add upper limit for oslo.utils in stable/victoria,MERGED,2022-10-12 15:45:25.000000000,2022-10-18 07:33:00.000000000,2022-10-18 05:44:37.000000000,"[{'_account_id': 7973}, {'_account_id': 11904}, {'_account_id': 14250}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2022-10-12 15:45:25.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/36716b655d2da2477469f5812ccdc9d6145f127f', 'message': ""Add upper limit for oslo.utils in stable/victoria\n\nThe `fnmatch` module was removed from oslo.utils in the Zed cycle, which\nis now causing the Barbican docs job in stable/victoria to fail with\nthis error:\n\n   exception: cannot import name 'fnmatch' from 'oslo_utils'\n\nThis patch limits the upper bound of oslo.utils in stable/victoria to\nless than the first Zed release.\n\nChange-Id: I205e07b7f158c453d38742cde27d9834c1d618e6\n""}]",2,861094,36716b655d2da2477469f5812ccdc9d6145f127f,15,6,1,7973,,,0,"Add upper limit for oslo.utils in stable/victoria

The `fnmatch` module was removed from oslo.utils in the Zed cycle, which
is now causing the Barbican docs job in stable/victoria to fail with
this error:

   exception: cannot import name 'fnmatch' from 'oslo_utils'

This patch limits the upper bound of oslo.utils in stable/victoria to
less than the first Zed release.

Change-Id: I205e07b7f158c453d38742cde27d9834c1d618e6
",git fetch https://review.opendev.org/openstack/requirements refs/changes/94/861094/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,36716b655d2da2477469f5812ccdc9d6145f127f,,"oslo.utils!=3.39.1,!=3.40.0,!=3.40.1,<4.13.0;python_version>='3.6' # Apache-2.0","oslo.utils!=3.39.1,!=3.40.0,!=3.40.1;python_version>='3.6' # Apache-2.0",1,1
openstack%2Fpython-muranoclient~master~Idd0fd52b99de5175a93bf6c3a65e119f84ae0860,openstack/python-muranoclient,master,Idd0fd52b99de5175a93bf6c3a65e119f84ae0860,Switch to 2023.1 Python3 unit tests and generic template name,MERGED,2022-09-09 15:16:23.000000000,2022-10-18 07:32:55.000000000,2022-10-18 06:09:29.000000000,"[{'_account_id': 8556}, {'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2022-09-09 15:16:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/e9d03b522745c11abdd87b1a17fa50cffd070fb1', 'message': 'Add Python3 antelope unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for antelope.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Idd0fd52b99de5175a93bf6c3a65e119f84ae0860\n'}, {'number': 2, 'created': '2022-09-14 09:17:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/75bb63d00c75bd95aabecf3d31cb099f98ab331f', 'message': 'Switch to 2023.1 Python3 unit tests and generic template name\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for antelope. Also,\nupdating the template name to generic one.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Idd0fd52b99de5175a93bf6c3a65e119f84ae0860\n'}]",2,856826,75bb63d00c75bd95aabecf3d31cb099f98ab331f,13,4,2,22816,,,0,"Switch to 2023.1 Python3 unit tests and generic template name

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for antelope. Also,
updating the template name to generic one.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Idd0fd52b99de5175a93bf6c3a65e119f84ae0860
",git fetch https://review.opendev.org/openstack/python-muranoclient refs/changes/26/856826/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e9d03b522745c11abdd87b1a17fa50cffd070fb1,add-antelope-python-jobtemplates, - openstack-python3-antelope-jobs, - openstack-python3-zed-jobs,1,1
openstack%2Ftelemetry-tempest-plugin~master~I49d4ae027ea41f78b309a39de8cc611a2fae7e10,openstack/telemetry-tempest-plugin,master,I49d4ae027ea41f78b309a39de8cc611a2fae7e10,remove unicode from code,MERGED,2022-08-25 01:08:52.000000000,2022-10-18 07:32:51.000000000,2022-10-18 06:18:50.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 32029}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-08-25 01:08:52.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/24782ee1ee0cc5de6c32901b73590457dbf8ee3a', 'message': 'remove unicode from code\n\nChange-Id: I49d4ae027ea41f78b309a39de8cc611a2fae7e10\n'}]",0,854403,24782ee1ee0cc5de6c32901b73590457dbf8ee3a,10,5,1,35067,,,0,"remove unicode from code

Change-Id: I49d4ae027ea41f78b309a39de8cc611a2fae7e10
",git fetch https://review.opendev.org/openstack/telemetry-tempest-plugin refs/changes/03/854403/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,24782ee1ee0cc5de6c32901b73590457dbf8ee3a,,"project = 'telemetry_tempest_plugin Release Notes' copyright = '2017, OpenStack Developers' 'telemetry_tempest_plugin Release Notes Documentation', 'OpenStack Foundation', 'manual'), 'telemetry_tempest_plugin Release Notes Documentation', ['OpenStack Foundation'], 1) 'telemetry_tempest_plugin Release Notes Documentation', 'OpenStack Foundation', 'telemetry_tempest_pluginReleaseNotes',","project = u'telemetry_tempest_plugin Release Notes' copyright = u'2017, OpenStack Developers' u'telemetry_tempest_plugin Release Notes Documentation', u'OpenStack Foundation', 'manual'), u'telemetry_tempest_plugin Release Notes Documentation', [u'OpenStack Foundation'], 1) u'telemetry_tempest_plugin Release Notes Documentation', u'OpenStack Foundation', 'telemetry_tempest_pluginReleaseNotes',",12,12
openstack%2Fcharm-zuul-jobs~master~I60d6a7de5088452b5b5bd80e92922f8ed757fd3e,openstack/charm-zuul-jobs,master,I60d6a7de5088452b5b5bd80e92922f8ed757fd3e,Collect /var/log from pods,MERGED,2022-10-17 17:56:37.000000000,2022-10-18 07:32:46.000000000,2022-10-18 07:31:54.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2022-10-17 17:56:37.000000000', 'files': ['playbooks/microk8s-juju-post.yaml'], 'web_link': 'https://opendev.org/openstack/charm-zuul-jobs/commit/e13a9701f9e812a7200740c7cf9e00fb619789f3', 'message': 'Collect /var/log from pods\n\nChange-Id: I60d6a7de5088452b5b5bd80e92922f8ed757fd3e\n'}]",1,861655,e13a9701f9e812a7200740c7cf9e00fb619789f3,7,3,1,12549,,,0,"Collect /var/log from pods

Change-Id: I60d6a7de5088452b5b5bd80e92922f8ed757fd3e
",git fetch https://review.opendev.org/openstack/charm-zuul-jobs refs/changes/55/861655/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/microk8s-juju-post.yaml'],1,e13a9701f9e812a7200740c7cf9e00fb619789f3,gather-var-logs," - name: Collect var logs args: executable: /bin/bash shell: | set -o pipefail MODEL_NAME=$(juju switch | awk 'BEGIN {FS=""/""} {print $NF}') UNITS=$(juju status --format oneline | awk '{print $2}' | sed -e 's!:!!' | grep -Ev '^$' | paste -s -d' ') for UNIT_NAME in $UNITS; do POD_NAME=$(echo $UNIT_NAME | sed -e 's!/!-!') CONTAINERS=$(microk8s.kubectl get pods -n $MODEL_NAME $POD_NAME -o jsonpath='{.spec.containers[*].name}' | sed -e 's/charm //') for CONTAINER in $CONTAINERS; do juju ssh --container $CONTAINER -m $MODEL_NAME $UNIT_NAME ""tar zcf /tmp/logs.tgz /var/log/"" juju scp --container $CONTAINER -m $MODEL_NAME $UNIT_NAME:/tmp/logs.tgz {{ zuul.project.src_dir }}/log/$POD_NAME-$CONTAINER.tgz done done",,15,0
openstack%2Ftripleo-validations~master~I06a29817594d8ab2f25dcf700a1b30bb38b2a8c5,openstack/tripleo-validations,master,I06a29817594d8ab2f25dcf700a1b30bb38b2a8c5,Refactore check_uc_hostname according to the preflight check in tripleoclient,NEW,2022-10-12 14:45:41.000000000,2022-10-18 07:02:06.000000000,,"[{'_account_id': 22348}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-10-12 14:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0b697a457477ec34b69a2d3cd42913ea6a8d7681', 'message': 'Refactore check_uc_hostname according to the preflight check in tripleoclient\n\nThe previous check_uc_hostname was outdated and not working on recent\nenvironment.\nThis patch change the checks according to what the preflight checks is doing\nin tripleoclient:\nhttps://github.com/openstack/python-tripleoclient/blob/master/tripleoclient/utils.py#L2460\n\nChange-Id: I06a29817594d8ab2f25dcf700a1b30bb38b2a8c5\n'}, {'number': 2, 'created': '2022-10-12 14:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/dbeb9e9a585f2dcb242be247112d0a08d7db4ed0', 'message': 'Refactore check_uc_hostname according to the preflight check in tripleoclient\n\nThe previous check_uc_hostname was outdated and not working on recent\nenvironment.\nThis patch change the checks according to what the preflight checks is doing\nin tripleoclient:\nhttps://github.com/openstack/python-tripleoclient/blob/master/tripleoclient/utils.py#L2460\n\nChange-Id: I06a29817594d8ab2f25dcf700a1b30bb38b2a8c5\n'}, {'number': 3, 'created': '2022-10-12 20:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3d495b166ab202aac3a06cc4c7a6d24dbff971e3', 'message': 'Refactore check_uc_hostname according to the preflight check in tripleoclient\n\nThe previous check_uc_hostname was outdated and not working on recent\nenvironment.\nThis patch change the checks according to what the preflight checks is doing\nin tripleoclient:\nhttps://github.com/openstack/python-tripleoclient/blob/master/tripleoclient/utils.py#L2460\n\nChange-Id: I06a29817594d8ab2f25dcf700a1b30bb38b2a8c5\n'}, {'number': 4, 'created': '2022-10-12 21:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/bf9392d640de1b18112e37896384c44eafee5a64', 'message': 'Refactore check_uc_hostname according to the preflight check in tripleoclient\n\nThe previous check_uc_hostname was outdated and not working on recent\nenvironment.\nThis patch change the checks according to what the preflight checks is doing\nin tripleoclient:\nhttps://github.com/openstack/python-tripleoclient/blob/master/tripleoclient/utils.py#L2460\n\nChange-Id: I06a29817594d8ab2f25dcf700a1b30bb38b2a8c5\n'}, {'number': 5, 'created': '2022-10-12 21:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e248937fd963f37d1d670d3f3a1ba3b9b4187e77', 'message': 'Refactore check_uc_hostname according to the preflight check in tripleoclient\n\nThe previous check_uc_hostname was outdated and not working on recent\nenvironment.\nThis patch change the checks according to what the preflight checks is doing\nin tripleoclient:\nhttps://github.com/openstack/python-tripleoclient/blob/master/tripleoclient/utils.py#L2460\n\nChange-Id: I06a29817594d8ab2f25dcf700a1b30bb38b2a8c5\n'}, {'number': 6, 'created': '2022-10-12 21:48:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3d3dded93c842b095888ab2a5584a547d2673907', 'message': 'Refactore check_uc_hostname according to the preflight check in tripleoclient\n\nThe previous check_uc_hostname was outdated and not working on recent\nenvironment.\nThis patch change the checks according to what the preflight checks is doing\nin tripleoclient:\nhttps://github.com/openstack/python-tripleoclient/blob/master/tripleoclient/utils.py#L2460\n\nChange-Id: I06a29817594d8ab2f25dcf700a1b30bb38b2a8c5\n'}, {'number': 7, 'created': '2022-10-12 21:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1a9bb1ebe121481634205a95e906b949caf4796d', 'message': 'Refactore check_uc_hostname according to the preflight check in tripleoclient\n\nThe previous check_uc_hostname was outdated and not working on recent\nenvironment.\nThis patch change the checks according to what the preflight checks is doing\nin tripleoclient:\nhttps://github.com/openstack/python-tripleoclient/blob/master/tripleoclient/utils.py#L2460\n\nChange-Id: I06a29817594d8ab2f25dcf700a1b30bb38b2a8c5\n'}, {'number': 8, 'created': '2022-10-12 22:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/be8f0610e237f8bb1e2601d716be9cee1647af79', 'message': 'Refactore check_uc_hostname according to the preflight check in tripleoclient\n\nThe previous check_uc_hostname was outdated and not working on recent\nenvironment.\nThis patch change the checks according to what the preflight checks is doing\nin tripleoclient:\nhttps://github.com/openstack/python-tripleoclient/blob/master/tripleoclient/utils.py#L2460\n\nChange-Id: I06a29817594d8ab2f25dcf700a1b30bb38b2a8c5\n'}, {'number': 9, 'created': '2022-10-12 22:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b6418eb00293e4e4e012a5f725b274464caaeff4', 'message': 'Refactore check_uc_hostname according to the preflight check in tripleoclient\n\nThe previous check_uc_hostname was outdated and not working on recent\nenvironment.\nThis patch change the checks according to what the preflight checks is doing\nin tripleoclient:\nhttps://github.com/openstack/python-tripleoclient/blob/master/tripleoclient/utils.py#L2460\n\nChange-Id: I06a29817594d8ab2f25dcf700a1b30bb38b2a8c5\n'}, {'number': 10, 'created': '2022-10-13 05:51:47.000000000', 'files': ['roles/check_uc_hostname/tasks/main.yml', 'roles/check_uc_hostname/defaults/main.yml', 'roles/check_uc_hostname/molecule/default/converge.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9be2ece9854e72320b20ff64c6f5e4245bec8c87', 'message': 'Refactore check_uc_hostname according to the preflight check in tripleoclient\n\nThe previous check_uc_hostname was outdated and not working on recent\nenvironment.\nThis patch change the checks according to what the preflight checks is doing\nin tripleoclient:\nhttps://github.com/openstack/python-tripleoclient/blob/master/tripleoclient/utils.py#L2460\n\nChange-Id: I06a29817594d8ab2f25dcf700a1b30bb38b2a8c5\n'}]",7,861090,9be2ece9854e72320b20ff64c6f5e4245bec8c87,16,2,10,16515,,,0,"Refactore check_uc_hostname according to the preflight check in tripleoclient

The previous check_uc_hostname was outdated and not working on recent
environment.
This patch change the checks according to what the preflight checks is doing
in tripleoclient:
https://github.com/openstack/python-tripleoclient/blob/master/tripleoclient/utils.py#L2460

Change-Id: I06a29817594d8ab2f25dcf700a1b30bb38b2a8c5
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/90/861090/8 && git format-patch -1 --stdout FETCH_HEAD,"['roles/check_uc_hostname/tasks/main.yml', 'roles/check_uc_hostname/defaults/main.yml', 'roles/check_uc_hostname/molecule/default/converge.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml']",4,0b697a457477ec34b69a2d3cd42913ea6a8d7681,preflight,," provisioner: name: ansible inventory: hosts: all: hosts: centos: ansible_python_interpreter: /usr/bin/python3 vars: plan: qe-Cloud-0 plans: [qe-Cloud-0] log: true options: vvv: true env: ANSIBLE_STDOUT_CALLBACK: yaml ANSIBLE_ROLES_PATH: ""${ANSIBLE_ROLES_PATH}:${HOME}/zuul-jobs/roles"" ANSIBLE_LIBRARY: ""${ANSIBLE_LIBRARY:-/usr/share/ansible/plugins/modules}""",35,290
openstack%2Fcharm-ceph-osd~master~Iafe5a329b8cb59a7648ff443a3e13f87bfe81c8a,openstack/charm-ceph-osd,master,Iafe5a329b8cb59a7648ff443a3e13f87bfe81c8a,Run the fix for disk-removal tests,NEW,2022-10-18 00:13:09.000000000,2022-10-18 06:40:46.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-18 00:13:09.000000000', 'files': ['tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'tests/bundles/focal-yoga.yaml', 'tests/bundles/jammy-yoga.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/40b426b7c1a02b120e99b044b18bf2fa436b69cf', 'message': 'Run the fix for disk-removal tests\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/954\nChange-Id: Iafe5a329b8cb59a7648ff443a3e13f87bfe81c8a\n'}]",1,861677,40b426b7c1a02b120e99b044b18bf2fa436b69cf,5,2,1,33717,,,0,"Run the fix for disk-removal tests

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/954
Change-Id: Iafe5a329b8cb59a7648ff443a3e13f87bfe81c8a
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/77/861677/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'tests/bundles/focal-yoga.yaml', 'tests/bundles/jammy-yoga.yaml']",4,40b426b7c1a02b120e99b044b18bf2fa436b69cf,remove-disk-fix, num_units: 5 - '9' - '10', num_units: 3,10,3
openstack%2Ftripleo-quickstart~master~I70181188793f939218b09f505eb4a622892735a6,openstack/tripleo-quickstart,master,I70181188793f939218b09f505eb4a622892735a6,[WIP] use ansible execution environment,ABANDONED,2022-05-23 11:07:54.000000000,2022-10-18 06:13:27.000000000,,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-23 11:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a36c9abd08c373845aed2252757d07194822d5fc', 'message': '[WIP] use ansible execution environment\n\nNote: It is just an experiment to run TQ playbooks using\nansible execution environment.\n\nIt is just for learning purpose.\nDone:\n- build the ee using ansible-builder\n\nTODO\n- build the ee using tox.ini\n- Add a job to do the same\n- Santize the TQ playbooks via ee container\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I70181188793f939218b09f505eb4a622892735a6\n'}, {'number': 2, 'created': '2022-05-23 11:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d17f0441962c7bc496683c7150c786dcde337a41', 'message': '[WIP] use ansible execution environment\n\nNote: It is just an experiment to run TQ playbooks using\nansible execution environment.\n\nIt is just for learning purpose.\nDone:\n- build the ee using ansible-builder\n\nTODO\n- build the ee using tox.ini\n- Add a job to do the same\n- Santize the TQ playbooks via ee container\n\nLinks: https://ansible-builder.readthedocs.io/en/stable/\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I70181188793f939218b09f505eb4a622892735a6\n'}, {'number': 3, 'created': '2022-05-23 11:09:16.000000000', 'files': ['bindep.txt', 'execution-environment.yml', 'zuul.d/layout.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7cf2b90f207e28a5cf80ffe0505b0f7aa22cc152', 'message': '[WIP] use ansible execution environment\n\nNote: It is just an experiment to run TQ playbooks using\nansible execution environment.\n\nIt is just for learning purpose.\nDone:\n- build the ee using ansible-builder\n\nTODO\n- build the ee using tox.ini\n- Add a job to do the same\n- Santize the TQ playbooks via ee container\n\nLinks: https://ansible-builder.readthedocs.io/en/stable/\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I70181188793f939218b09f505eb4a622892735a6\n'}]",0,842961,7cf2b90f207e28a5cf80ffe0505b0f7aa22cc152,13,5,3,12393,,,0,"[WIP] use ansible execution environment

Note: It is just an experiment to run TQ playbooks using
ansible execution environment.

It is just for learning purpose.
Done:
- build the ee using ansible-builder

TODO
- build the ee using tox.ini
- Add a job to do the same
- Santize the TQ playbooks via ee container

Links: https://ansible-builder.readthedocs.io/en/stable/

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I70181188793f939218b09f505eb4a622892735a6
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/61/842961/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'execution-environment.yml', 'tox.ini']",3,a36c9abd08c373845aed2252757d07194822d5fc,ansible_execution_environment,[testenv:ee] # Ansible Execution Environment deps = ansible-builder commands = ansible-builder build --container-runtime=podman ,,28,20
openstack%2Fneutron~master~I29dbdccc6e3a0528e4c515dbf37d05cffc1f95e4,openstack/neutron,master,I29dbdccc6e3a0528e4c515dbf37d05cffc1f95e4,Add a new RPC get_subnets,NEW,2021-06-21 02:40:38.000000000,2022-10-18 05:37:19.000000000,,"[{'_account_id': 5948}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-21 02:40:38.000000000', 'files': ['neutron/agent/l3/agent.py', 'neutron/api/rpc/handlers/l3_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c16141d5be52bc1ead05ebef7cbb810fc3f4661e', 'message': 'Add a new RPC get_subnets\n\nNote: Openflow-based DVR L3 implementation depends on it.\n\nRelated-Bug: #1931953\n\nSigned-off-by: Yi Yang <yangyi01@inspur.com>\nChange-Id: I29dbdccc6e3a0528e4c515dbf37d05cffc1f95e4\n'}]",4,797221,c16141d5be52bc1ead05ebef7cbb810fc3f4661e,24,2,1,30454,,,0,"Add a new RPC get_subnets

Note: Openflow-based DVR L3 implementation depends on it.

Related-Bug: #1931953

Signed-off-by: Yi Yang <yangyi01@inspur.com>
Change-Id: I29dbdccc6e3a0528e4c515dbf37d05cffc1f95e4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/21/797221/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/agent.py', 'neutron/api/rpc/handlers/l3_rpc.py']",2,c16141d5be52bc1ead05ebef7cbb810fc3f4661e,bug/1931953," # 1.13 Added get_subnets target = oslo_messaging.Target(version='1.13') def get_subnets(self, context, filters=None, fields=None): """"""Retrieve and return a list of subnet."""""" # NOTE: This RPC is being used by openflow-based l3 agent. return self.plugin.get_subnets( context, filters=filters, fields=fields)", target = oslo_messaging.Target(version='1.12'),23,1
openstack%2Fmurano~master~I7b94d8ae9eb58c43676ae3171c0f6193496c6d4b,openstack/murano,master,I7b94d8ae9eb58c43676ae3171c0f6193496c6d4b,Fix murano-test-runner help output test,MERGED,2022-10-14 05:11:06.000000000,2022-10-18 03:58:05.000000000,2022-10-18 03:55:57.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-14 05:11:06.000000000', 'files': ['murano/cmd/test_runner.py', 'murano/tests/unit/api/cmd/test_test_runner.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/60f305aca5399e588c44687bf69062832d712a32', 'message': 'Fix murano-test-runner help output test\n\nDue to slight differences in the --help output text for the test\nrunner, the output comparison no longer matches once you get past\npython 3.8.\n\nThis fix cleans up the help text itself, and modifies the test to\nonly match on some specific elements, not the whole thing.\n\nThis should make the test less fragile going forward.\n\nChange-Id: I7b94d8ae9eb58c43676ae3171c0f6193496c6d4b\n'}]",0,861280,60f305aca5399e588c44687bf69062832d712a32,7,2,1,18418,,,0,"Fix murano-test-runner help output test

Due to slight differences in the --help output text for the test
runner, the output comparison no longer matches once you get past
python 3.8.

This fix cleans up the help text itself, and modifies the test to
only match on some specific elements, not the whole thing.

This should make the test less fragile going forward.

Change-Id: I7b94d8ae9eb58c43676ae3171c0f6193496c6d4b
",git fetch https://review.opendev.org/openstack/murano refs/changes/80/861280/1 && git format-patch -1 --stdout FETCH_HEAD,"['murano/cmd/test_runner.py', 'murano/tests/unit/api/cmd/test_test_runner.py']",2,60f305aca5399e588c44687bf69062832d712a32,," self.assertIn('<PACKAGE_FQN>', stdout) self.assertIn('className.testMethod', stdout)"," usage = """"""usage: murano-test-runner [-h] [--config-file CONFIG_FILE] [--os-auth-url OS_AUTH_URL] [--os-username OS_USERNAME] [--os-password OS_PASSWORD] [--os-project-name OS_PROJECT_NAME] [-l [</path1, /path2> [</path1, /path2> ...]]] [-v] [--version] <PACKAGE_FQN> [<testMethod1, className.testMethod2> [<testMethod1, className.testMethod2"""""" # noqa self.assertIn(usage, stdout)",4,12
openstack%2Fmurano~master~If279269f6808d1454074c10baa90975be6c4d39b,openstack/murano,master,If279269f6808d1454074c10baa90975be6c4d39b,Switch to 2023.1 Python3 unit tests and generic template name,MERGED,2022-09-14 13:45:58.000000000,2022-10-18 03:55:59.000000000,2022-10-18 03:55:59.000000000,"[{'_account_id': 8556}, {'_account_id': 14107}, {'_account_id': 18418}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-14 13:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/477c114bb47d3ea49632429e3cbf8385379c4666', 'message': 'Switch to 2023.1 Python3 unit tests and generic template name\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for antelope. Also,\nupdating the template name to generic one.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: If279269f6808d1454074c10baa90975be6c4d39b\n'}, {'number': 2, 'created': '2022-10-12 01:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/257828e0fce053717e593fd0585e498f1560e5bf', 'message': 'Switch to 2023.1 Python3 unit tests and generic template name\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for antelope. Also,\nupdating the template name to generic one.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: If279269f6808d1454074c10baa90975be6c4d39b\n'}, {'number': 3, 'created': '2022-10-12 02:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/7f8adb8e1b7a72d5e983cacd2df43c7295d06d27', 'message': 'Switch to 2023.1 Python3 unit tests and generic template name\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for antelope. Also,\nupdating the template name to generic one.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: If279269f6808d1454074c10baa90975be6c4d39b\n'}, {'number': 4, 'created': '2022-10-12 02:16:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/75e7960818776ac771815d3a27a3f925c8eff567', 'message': 'Switch to 2023.1 Python3 unit tests and generic template name\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for antelope. Also,\nupdating the template name to generic one.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: If279269f6808d1454074c10baa90975be6c4d39b\n'}, {'number': 5, 'created': '2022-10-12 04:00:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/547920d613324f6aed02501919303db6161d289c', 'message': 'Switch to 2023.1 Python3 unit tests and generic template name\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for antelope. Also,\nupdating the template name to generic one.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: If279269f6808d1454074c10baa90975be6c4d39b\n'}, {'number': 6, 'created': '2022-10-12 10:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/74be67a35b548e7ebc06cecaf1f25fbcd9eeff36', 'message': 'Switch to 2023.1 Python3 unit tests and generic template name\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for antelope. Also,\nupdating the template name to generic one.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: If279269f6808d1454074c10baa90975be6c4d39b\n'}, {'number': 7, 'created': '2022-10-14 05:11:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/murano/commit/8cd6e343411c2317f29bcd0166da50fd319eafcd', 'message': 'Switch to 2023.1 Python3 unit tests and generic template name\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for antelope. Also,\nupdating the template name to generic one.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: If279269f6808d1454074c10baa90975be6c4d39b\n'}]",3,857704,8cd6e343411c2317f29bcd0166da50fd319eafcd,21,4,7,22816,,,0,"Switch to 2023.1 Python3 unit tests and generic template name

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for antelope. Also,
updating the template name to generic one.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: If279269f6808d1454074c10baa90975be6c4d39b
",git fetch https://review.opendev.org/openstack/murano refs/changes/04/857704/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,477c114bb47d3ea49632429e3cbf8385379c4666,add-antelope-python-jobtemplates, - openstack-python3-jobs, - openstack-python3-zed-jobs,1,1
openstack%2Fsolum-dashboard~stable%2Fzed~I80d221ca969529567efc3c37429cd32ad3c2fa4e,openstack/solum-dashboard,stable/zed,I80d221ca969529567efc3c37429cd32ad3c2fa4e,Update TOX_CONSTRAINTS_FILE for stable/zed,MERGED,2022-09-14 13:43:12.000000000,2022-10-18 03:25:06.000000000,2022-10-18 03:25:06.000000000,"[{'_account_id': 14107}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-14 13:43:12.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/solum-dashboard/commit/f007d1868db212abaea37312936a80594b1c665c', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/zed\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/zed branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I80d221ca969529567efc3c37429cd32ad3c2fa4e\n'}]",1,857690,f007d1868db212abaea37312936a80594b1c665c,7,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/zed

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/zed branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I80d221ca969529567efc3c37429cd32ad3c2fa4e
",git fetch https://review.opendev.org/openstack/solum-dashboard refs/changes/90/857690/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f007d1868db212abaea37312936a80594b1c665c,create-zed, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/zed}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/zed}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fsolum-dashboard~stable%2Fzed~Ia052f4f7967ba7926190f77c51894be7361e6473,openstack/solum-dashboard,stable/zed,Ia052f4f7967ba7926190f77c51894be7361e6473,Update .gitreview for stable/zed,MERGED,2022-09-14 13:43:11.000000000,2022-10-18 03:25:05.000000000,2022-10-18 03:25:05.000000000,"[{'_account_id': 14107}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-14 13:43:11.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/solum-dashboard/commit/871b03d43cfb0ef5f371e4375cf75e0afb7abb20', 'message': 'Update .gitreview for stable/zed\n\nChange-Id: Ia052f4f7967ba7926190f77c51894be7361e6473\n'}]",1,857689,871b03d43cfb0ef5f371e4375cf75e0afb7abb20,7,3,1,22816,,,0,"Update .gitreview for stable/zed

Change-Id: Ia052f4f7967ba7926190f77c51894be7361e6473
",git fetch https://review.opendev.org/openstack/solum-dashboard refs/changes/89/857689/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,871b03d43cfb0ef5f371e4375cf75e0afb7abb20,create-zed,defaultbranch=stable/zed,,1,0
openstack%2Fsolum-dashboard~master~Iaa0521197dbb8e967fedd9f97be0c45d7e4b8746,openstack/solum-dashboard,master,Iaa0521197dbb8e967fedd9f97be0c45d7e4b8746,Switch to 2023.1 Python3 unit tests and generic template name,MERGED,2022-09-14 13:43:13.000000000,2022-10-18 03:25:03.000000000,2022-10-18 03:25:03.000000000,"[{'_account_id': 8556}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-14 13:43:13.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/solum-dashboard/commit/e330c0bb47bc09f9d67a648dc686cc6a4cc69dc5', 'message': 'Switch to 2023.1 Python3 unit tests and generic template name\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for antelope. Also,\nupdating the template name to generic one.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Iaa0521197dbb8e967fedd9f97be0c45d7e4b8746\n'}]",2,857691,e330c0bb47bc09f9d67a648dc686cc6a4cc69dc5,8,3,1,22816,,,0,"Switch to 2023.1 Python3 unit tests and generic template name

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for antelope. Also,
updating the template name to generic one.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Iaa0521197dbb8e967fedd9f97be0c45d7e4b8746
",git fetch https://review.opendev.org/openstack/solum-dashboard refs/changes/91/857691/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e330c0bb47bc09f9d67a648dc686cc6a4cc69dc5,add-antelope-python-jobtemplates, - openstack-python3-jobs-horizon - openstack-python3-jobs, - openstack-python3-zed-jobs-horizon - openstack-python3-zed-jobs,2,2
openstack%2Fpython-solumclient~stable%2Fzed~I1e37dbbd0c6d99a9aaccd98147ead37c2b6a730e,openstack/python-solumclient,stable/zed,I1e37dbbd0c6d99a9aaccd98147ead37c2b6a730e,Update TOX_CONSTRAINTS_FILE for stable/zed,MERGED,2022-09-09 15:13:01.000000000,2022-10-18 03:24:49.000000000,2022-10-18 03:22:14.000000000,"[{'_account_id': 14107}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-09 15:13:01.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/95ef73f2778ea6a9ad77da306ee35cdd82add3fb', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/zed\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/zed branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I1e37dbbd0c6d99a9aaccd98147ead37c2b6a730e\n'}]",1,856806,95ef73f2778ea6a9ad77da306ee35cdd82add3fb,8,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/zed

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/zed branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I1e37dbbd0c6d99a9aaccd98147ead37c2b6a730e
",git fetch https://review.opendev.org/openstack/python-solumclient refs/changes/06/856806/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,95ef73f2778ea6a9ad77da306ee35cdd82add3fb,create-zed, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/zed} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/zed}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fpython-solumclient~master~I563831ba25aaf680b89ca4abcec3f4f4446a5ab7,openstack/python-solumclient,master,I563831ba25aaf680b89ca4abcec3f4f4446a5ab7,Switch to 2023.1 Python3 unit tests and generic template name,MERGED,2022-09-09 15:13:04.000000000,2022-10-18 03:24:42.000000000,2022-10-18 03:22:16.000000000,"[{'_account_id': 8556}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-09 15:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/a71cc05f0a20ad831a443ef0f9600410e83e45ce', 'message': 'Add Python3 antelope unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for antelope.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I563831ba25aaf680b89ca4abcec3f4f4446a5ab7\n'}, {'number': 2, 'created': '2022-09-14 09:15:30.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/2afd925af31e2eb47b758814d0bd1d50433a30bf', 'message': 'Switch to 2023.1 Python3 unit tests and generic template name\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for antelope. Also,\nupdating the template name to generic one.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I563831ba25aaf680b89ca4abcec3f4f4446a5ab7\n'}]",1,856807,2afd925af31e2eb47b758814d0bd1d50433a30bf,10,3,2,22816,,,0,"Switch to 2023.1 Python3 unit tests and generic template name

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for antelope. Also,
updating the template name to generic one.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I563831ba25aaf680b89ca4abcec3f4f4446a5ab7
",git fetch https://review.opendev.org/openstack/python-solumclient refs/changes/07/856807/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a71cc05f0a20ad831a443ef0f9600410e83e45ce,add-antelope-python-jobtemplates, - openstack-python3-antelope-jobs, - openstack-python3-zed-jobs,1,1
openstack%2Fpython-solumclient~stable%2Fzed~I09a0483ed0958eea8976a93e4d7694a30073dd40,openstack/python-solumclient,stable/zed,I09a0483ed0958eea8976a93e4d7694a30073dd40,Update .gitreview for stable/zed,MERGED,2022-09-09 15:12:58.000000000,2022-10-18 03:24:00.000000000,2022-10-18 03:22:12.000000000,"[{'_account_id': 14107}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-09 15:12:58.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/6a189e239892963861ff3e61ea2407405fe5804e', 'message': 'Update .gitreview for stable/zed\n\nChange-Id: I09a0483ed0958eea8976a93e4d7694a30073dd40\n'}]",1,856805,6a189e239892963861ff3e61ea2407405fe5804e,8,3,1,22816,,,0,"Update .gitreview for stable/zed

Change-Id: I09a0483ed0958eea8976a93e4d7694a30073dd40
",git fetch https://review.opendev.org/openstack/python-solumclient refs/changes/05/856805/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,6a189e239892963861ff3e61ea2407405fe5804e,create-zed,project=openstack/python-solumclient.git defaultbranch=stable/zed ,project=openstack/python-solumclient.git,2,1
openstack%2Fpython-muranoclient~master~I9bea233da9968cae64bbf7cfabe492851ca3f2d7,openstack/python-muranoclient,master,I9bea233da9968cae64bbf7cfabe492851ca3f2d7,Update master for stable/zed,MERGED,2022-09-09 15:16:22.000000000,2022-10-18 03:19:33.000000000,2022-10-18 03:18:28.000000000,"[{'_account_id': 14107}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-09 15:16:22.000000000', 'files': ['releasenotes/source/zed.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/5cbc2e668d36406a6f3464453ac1735cd35061f7', 'message': 'Update master for stable/zed\n\nAdd file to the reno documentation build to show release notes for\nstable/zed.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/zed.\n\nSem-Ver: feature\nChange-Id: I9bea233da9968cae64bbf7cfabe492851ca3f2d7\n'}]",1,856825,5cbc2e668d36406a6f3464453ac1735cd35061f7,8,3,1,22816,,,0,"Update master for stable/zed

Add file to the reno documentation build to show release notes for
stable/zed.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/zed.

Sem-Ver: feature
Change-Id: I9bea233da9968cae64bbf7cfabe492851ca3f2d7
",git fetch https://review.opendev.org/openstack/python-muranoclient refs/changes/25/856825/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/zed.rst', 'releasenotes/source/index.rst']",2,5cbc2e668d36406a6f3464453ac1735cd35061f7,reno-zed, zed,,7,0
openstack%2Fmurano~master~I26ea4750f10dedb04a07d188e57fcd391a28f870,openstack/murano,master,I26ea4750f10dedb04a07d188e57fcd391a28f870,Fix compatibility with Python 3.10,MERGED,2022-10-12 10:18:21.000000000,2022-10-18 03:16:07.000000000,2022-10-18 03:04:38.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-12 10:18:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/98ed500fdf95d0d25363dc950421f0edee4bef4e', 'message': ""Fix compatibility with Python 3.10\n\nSince testing with Python 3.10, the test\n  murano.tests.unit.dsl.test_helpers.TestDSLHelpers.test_weak_ref\nwas failing with\n  testtools.matchers._impl.MismatchError: 'weakref' != 'ReferenceType'\n\nThis is simply the result of newer Python being more correct about\nthe name of the weakref ReferenceType.\n\nThe fix here is to ask what the name is of the class and use that\ninstead of the hardcoded 'weakref' name.\n\nChange-Id: I26ea4750f10dedb04a07d188e57fcd391a28f870\n""}, {'number': 2, 'created': '2022-10-14 05:11:06.000000000', 'files': ['murano/tests/unit/dsl/test_helpers.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/dc89e7cf61a7728837cc69bf1bbb15f99164c89b', 'message': ""Fix compatibility with Python 3.10\n\nSince testing with Python 3.10, the test\n  murano.tests.unit.dsl.test_helpers.TestDSLHelpers.test_weak_ref\nwas failing with\n  testtools.matchers._impl.MismatchError: 'weakref' != 'ReferenceType'\n\nThis is simply the result of newer Python being more correct about\nthe name of the weakref ReferenceType.\n\nThe fix here is to ask what the name is of the class and use that\ninstead of the hardcoded 'weakref' name.\n\nChange-Id: I26ea4750f10dedb04a07d188e57fcd391a28f870\n""}]",1,861072,dc89e7cf61a7728837cc69bf1bbb15f99164c89b,10,2,2,18418,,,0,"Fix compatibility with Python 3.10

Since testing with Python 3.10, the test
  murano.tests.unit.dsl.test_helpers.TestDSLHelpers.test_weak_ref
was failing with
  testtools.matchers._impl.MismatchError: 'weakref' != 'ReferenceType'

This is simply the result of newer Python being more correct about
the name of the weakref ReferenceType.

The fix here is to ask what the name is of the class and use that
instead of the hardcoded 'weakref' name.

Change-Id: I26ea4750f10dedb04a07d188e57fcd391a28f870
",git fetch https://review.opendev.org/openstack/murano refs/changes/72/861072/2 && git format-patch -1 --stdout FETCH_HEAD,['murano/tests/unit/dsl/test_helpers.py'],1,98ed500fdf95d0d25363dc950421f0edee4bef4e,," self.assertEqual(weakref.ReferenceType.__name__,"," self.assertEqual('weakref',",1,1
openstack%2Fmurano-dashboard~master~I21adf85aa796bb3c9200e8937024dbf5b063d90c,openstack/murano-dashboard,master,I21adf85aa796bb3c9200e8937024dbf5b063d90c,Imported Translations from Zanata,MERGED,2022-10-17 04:00:20.000000000,2022-10-18 03:06:42.000000000,2022-10-18 03:05:01.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-17 04:00:20.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'muranodashboard/locale/en_GB/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/6b5b8bb17e1a0d5bb8ad0ace82b3ae07e95ff9ea', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I21adf85aa796bb3c9200e8937024dbf5b063d90c\n'}]",0,861564,6b5b8bb17e1a0d5bb8ad0ace82b3ae07e95ff9ea,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I21adf85aa796bb3c9200e8937024dbf5b063d90c
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/64/861564/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'muranodashboard/locale/en_GB/LC_MESSAGES/django.po']",2,6b5b8bb17e1a0d5bb8ad0ace82b3ae07e95ff9ea,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2022. #zanata""POT-Creation-Date: 2022-10-12 09:31+0000\n""""PO-Revision-Date: 2022-10-16 10:50+0000\n""msgid ""No DNS zone"" msgstr ""No DNS zone"" msgid ""No DNS zones available"" msgstr ""No DNS zones available"" msgid ""Unable to retrieve DNS zones."" msgstr ""Unable to retrieve DNS zones."" ","""POT-Creation-Date: 2020-09-25 06:33+0000\n""""PO-Revision-Date: 2020-10-03 10:31+0000\n""",23,4
openstack%2Fsolum-tempest-plugin~master~Ie4e6f5eca6b91e78953fad6c592e21c5d5f8608b,openstack/solum-tempest-plugin,master,Ie4e6f5eca6b91e78953fad6c592e21c5d5f8608b,Add stable/zed jobs on master gate,MERGED,2022-10-16 04:02:56.000000000,2022-10-18 03:03:36.000000000,2022-10-18 03:03:36.000000000,"[{'_account_id': 14104}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-16 04:02:56.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/solum-tempest-plugin/commit/ca9c30e4dd0de9997468ef2714ba92eea276cdc3', 'message': 'Add stable/zed jobs on master gate\n\nAs zed is released, we should add its job on master\ngate to keep branchless tempest plugins compatible\nto stable branch.\n\nAlso fixing the zuul config error.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: Ie4e6f5eca6b91e78953fad6c592e21c5d5f8608b\n'}]",0,861518,ca9c30e4dd0de9997468ef2714ba92eea276cdc3,6,3,1,8556,,,0,"Add stable/zed jobs on master gate

As zed is released, we should add its job on master
gate to keep branchless tempest plugins compatible
to stable branch.

Also fixing the zuul config error.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: Ie4e6f5eca6b91e78953fad6c592e21c5d5f8608b
",git fetch https://review.opendev.org/openstack/solum-tempest-plugin refs/changes/18/861518/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ca9c30e4dd0de9997468ef2714ba92eea276cdc3,zed-stable-job, queue: solum - job: name: solum-devstack-zed parent: solum-devstack nodeset: openstack-single-node-focal override-checkout: stable/zed, gate: queue: solum,7,2
openstack%2Fmurano-tempest-plugin~master~If8b9af02d1035bd1fa1e5cf8c307784e8e8d36f2,openstack/murano-tempest-plugin,master,If8b9af02d1035bd1fa1e5cf8c307784e8e8d36f2,Add stable/zed jobs on master gate,MERGED,2022-10-16 04:03:22.000000000,2022-10-18 02:59:31.000000000,2022-10-18 02:59:31.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-16 04:03:22.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/murano-tempest-plugin/commit/e16b2dc1512854c9a249944a5f288a1065f328fd', 'message': 'Add stable/zed jobs on master gate\n\nAs zed is released, we should add its job on master\ngate to keep branchless tempest plugins compatible\nto stable branch.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\\\n\nChange-Id: If8b9af02d1035bd1fa1e5cf8c307784e8e8d36f2\n'}]",0,861522,e16b2dc1512854c9a249944a5f288a1065f328fd,6,2,1,8556,,,0,"Add stable/zed jobs on master gate

As zed is released, we should add its job on master
gate to keep branchless tempest plugins compatible
to stable branch.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\

Change-Id: If8b9af02d1035bd1fa1e5cf8c307784e8e8d36f2
",git fetch https://review.opendev.org/openstack/murano-tempest-plugin refs/changes/22/861522/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e16b2dc1512854c9a249944a5f288a1065f328fd,zed-stable-job, - murano-tempest-api-zed: voting: false name: murano-tempest-api-zed parent: murano-tempest-api nodeset: openstack-single-node-focal override-checkout: stable/zed - job:,,8,0
openstack%2Fmurano-tempest-plugin~master~I1d4b8d50d6286cf90fd41c5ab95161bad7cd6df3,openstack/murano-tempest-plugin,master,I1d4b8d50d6286cf90fd41c5ab95161bad7cd6df3,Pin stable branch jobs nodeset to Ubuntu Focal (20.04),MERGED,2022-10-16 02:11:08.000000000,2022-10-18 02:59:28.000000000,2022-10-18 02:59:28.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-16 02:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-tempest-plugin/commit/e82ae07297a2719c5a3bcd54c9f011f47eeea08a', 'message': 'Pin stable branch jobs nodeset to Ubuntu Focal (20.04)\n\nIn 2023.1 cycle. we are moving the default distro\nversion of Ubuntu to Jammy (22.04)[1] so we need to pin\nthe nodeset for stable branch job in master gate so that\nthey continue run on their supporting distro version which is\nUbuntu Focal since stable/victoria.\n\n[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html\n\nChange-Id: I1d4b8d50d6286cf90fd41c5ab95161bad7cd6df3\n'}, {'number': 2, 'created': '2022-10-16 02:46:07.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/murano-tempest-plugin/commit/53d6c036c6e11b4dabea6bab036563fb3704dfae', 'message': 'Pin stable branch jobs nodeset to Ubuntu Focal (20.04)\n\nIn 2023.1 cycle. we are moving the default distro\nversion of Ubuntu to Jammy (22.04)[1] so we need to pin\nthe nodeset for stable branch job in master gate so that\nthey continue run on their supporting distro version which is\nUbuntu Focal since stable/victoria.\n\nAlso fixing the zuul config error.\n\n[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html\n\nChange-Id: I1d4b8d50d6286cf90fd41c5ab95161bad7cd6df3\n'}]",1,861509,53d6c036c6e11b4dabea6bab036563fb3704dfae,8,2,2,8556,,,0,"Pin stable branch jobs nodeset to Ubuntu Focal (20.04)

In 2023.1 cycle. we are moving the default distro
version of Ubuntu to Jammy (22.04)[1] so we need to pin
the nodeset for stable branch job in master gate so that
they continue run on their supporting distro version which is
Ubuntu Focal since stable/victoria.

Also fixing the zuul config error.

[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html

Change-Id: I1d4b8d50d6286cf90fd41c5ab95161bad7cd6df3
",git fetch https://review.opendev.org/openstack/murano-tempest-plugin refs/changes/09/861509/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e82ae07297a2719c5a3bcd54c9f011f47eeea08a,migrate-to-jammy, nodeset: openstack-single-node-focal nodeset: openstack-single-node-focal nodeset: openstack-single-node-focal,,3,0
openstack%2Fmurano~master~I8eb4b1858743c8602df447a9f2575161689809bf,openstack/murano,master,I8eb4b1858743c8602df447a9f2575161689809bf,TEST,ABANDONED,2022-10-14 07:20:23.000000000,2022-10-18 02:53:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-10-14 07:20:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/d0dcb69d80c4a16c05943c5960b9085b1a354689', 'message': 'TEST\n\nChange-Id: I8eb4b1858743c8602df447a9f2575161689809bf\n'}, {'number': 2, 'created': '2022-10-14 07:24:11.000000000', 'files': ['murano/cmd/test_runner.py', 'murano/tests/unit/api/cmd/test_test_runner.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/cee34fdfa02c2c909678f5e24681a1526347c9a6', 'message': 'TEST\n\nChange-Id: I8eb4b1858743c8602df447a9f2575161689809bf\n'}]",1,861298,cee34fdfa02c2c909678f5e24681a1526347c9a6,5,1,2,14107,,,0,"TEST

Change-Id: I8eb4b1858743c8602df447a9f2575161689809bf
",git fetch https://review.opendev.org/openstack/murano refs/changes/98/861298/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,d0dcb69d80c4a16c05943c5960b9085b1a354689,,,,0,0
openstack%2Ftripleo-ansible~master~Ieef097d343f4dd9aaec27b04d22e19d724fb5c6d,openstack/tripleo-ansible,master,Ieef097d343f4dd9aaec27b04d22e19d724fb5c6d,Update tripleo_nova_libvirt to virsh-secret define for ceph,MERGED,2022-09-20 22:47:16.000000000,2022-10-18 02:41:46.000000000,2022-10-18 02:41:46.000000000,"[{'_account_id': 7144}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-09-20 22:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6304aa0f86c5bfd2bbf1960db1cec1deae660618', 'message': 'Update tripleo_nova_libvirt to configure nova_libvirt_init_secret\n\nUpdate standalone-ansible tripleo_nova_libvirt role to\nhandle the creation of the libvirt secret that is required\nfor nova to connect to volumes on cinder RBD backends.\n\nUses nova_libvirt_init_secret.sh from tripleo-heat-templates\n(THT). A subsequent THT patch which depends-on this one can\ncall this Ansible role in its place.\n\nChange-Id: Ieef097d343f4dd9aaec27b04d22e19d724fb5c6d\n'}, {'number': 2, 'created': '2022-09-29 18:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8f3670efb3f5fd5db814bfd1eba1774c50d8a5cf', 'message': 'Update tripleo_nova_libvirt to configure nova_libvirt_init_secret\n\nUpdate standalone-ansible tripleo_nova_libvirt role to\nhandle the creation of the libvirt secret that is required\nfor nova to connect to volumes on cinder RBD backends.\n\nUses nova_libvirt_init_secret.sh from tripleo-heat-templates\n(THT). This script is modified so that it can create the\ninitial secret so that Puppet does not have to.\n\nA subsequent THT patch which depends-on this one can call\nthis Ansible role in its place.\n\nChange-Id: Ieef097d343f4dd9aaec27b04d22e19d724fb5c6d\n'}, {'number': 3, 'created': '2022-09-29 18:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/823ad8335b50fc54f788e48c7b226cb611b65237', 'message': 'Update tripleo_nova_libvirt to configure nova_libvirt_init_secret\n\nUpdate standalone-ansible tripleo_nova_libvirt role to\nhandle the creation of the libvirt secret that is required\nfor nova to connect to volumes on cinder RBD backends.\n\nUses nova_libvirt_init_secret.sh from tripleo-heat-templates\n(THT). This script is modified so that it can create the\ninitial secret so that Puppet does not have to.\n\nA subsequent THT patch which depends-on this one can call\nthis Ansible role in its place.\n\nChange-Id: Ieef097d343f4dd9aaec27b04d22e19d724fb5c6d\n'}, {'number': 4, 'created': '2022-10-03 18:18:37.000000000', 'files': ['tripleo_ansible/roles/tripleo_nova_libvirt/templates/nova_libvirt_init_secret.yaml.j2', 'tripleo_ansible/roles/tripleo_nova_libvirt/files/nova_libvirt_init_secret.sh', 'tripleo_ansible/roles/tripleo_nova_libvirt/tasks/run.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4fcb0827c9bfd4d8d41a571e81e513647975e67a', 'message': 'Update tripleo_nova_libvirt to virsh-secret define for ceph\n\nUpdate standalone-ansible tripleo_nova_libvirt role to\nhandle the creation of the libvirt secret that is required\nfor nova to connect to volumes on cinder RBD backends.\n\nUses nova_libvirt_init_secret.sh from tripleo-heat-templates\n(THT). This script is modified so that it can create the\ninitial secret so that Puppet does not have to.\n\nA subsequent THT patch which depends-on this one can call\nthis Ansible role in its place.\n\nChange-Id: Ieef097d343f4dd9aaec27b04d22e19d724fb5c6d\n'}]",18,858585,4fcb0827c9bfd4d8d41a571e81e513647975e67a,30,5,4,18002,,,0,"Update tripleo_nova_libvirt to virsh-secret define for ceph

Update standalone-ansible tripleo_nova_libvirt role to
handle the creation of the libvirt secret that is required
for nova to connect to volumes on cinder RBD backends.

Uses nova_libvirt_init_secret.sh from tripleo-heat-templates
(THT). This script is modified so that it can create the
initial secret so that Puppet does not have to.

A subsequent THT patch which depends-on this one can call
this Ansible role in its place.

Change-Id: Ieef097d343f4dd9aaec27b04d22e19d724fb5c6d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/85/858585/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_nova_libvirt/files/nova_libvirt_init_secret.yaml', 'tripleo_ansible/roles/tripleo_nova_libvirt/templates/nova_libvirt_init_secret.yaml.j2', 'tripleo_ansible/roles/tripleo_nova_libvirt/files/nova_libvirt_init_secret.sh', 'tripleo_ansible/roles/tripleo_nova_libvirt/tasks/run.yml']",4,6304aa0f86c5bfd2bbf1960db1cec1deae660618,standalone-roles, - name: Copy nova_libvirt_init_secret.sh to /var/lib/container-config-scripts copy: src: files/nova_libvirt_init_secret.sh dest: /var/lib/container-config-scripts/nova_libvirt_init_secret.sh ,,94,10
openstack%2Fcharm-glance-k8s~main~I32919b13eb5e974af10140113829146516acc6d8,openstack/charm-glance-k8s,main,I32919b13eb5e974af10140113829146516acc6d8,Refresh libraries for new publication points,MERGED,2022-10-17 12:28:23.000000000,2022-10-18 02:17:22.000000000,2022-10-18 01:31:15.000000000,"[{'_account_id': 10366}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-17 12:28:23.000000000', 'files': ['lib/charms/keystone_k8s/v0/identity_service.py', 'lib/charms/nginx_ingress_integrator/v0/ingress.py', 'lib/charms/sunbeam_rabbitmq_operator/v0/amqp.py', 'tests/config.yaml', 'lib/charms/rabbitmq_k8s/v0/rabbitmq.py', 'fetch-libs.sh'], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/6f5e3e3120980cd756b494d37b55278653531173', 'message': 'Refresh libraries for new publication points\n\nEnsure that all libraries are sourced from k8s operators\nrather than the sunbeam prototypes.\n\nDrive-by fix for link to config.yaml in tests folder.\n\nChange-Id: I32919b13eb5e974af10140113829146516acc6d8\n'}]",0,861605,6f5e3e3120980cd756b494d37b55278653531173,8,3,1,935,,,0,"Refresh libraries for new publication points

Ensure that all libraries are sourced from k8s operators
rather than the sunbeam prototypes.

Drive-by fix for link to config.yaml in tests folder.

Change-Id: I32919b13eb5e974af10140113829146516acc6d8
",git fetch https://review.opendev.org/openstack/charm-glance-k8s refs/changes/05/861605/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/charms/keystone_k8s/v0/identity_service.py', 'lib/charms/nginx_ingress_integrator/v0/ingress.py', 'lib/charms/sunbeam_rabbitmq_operator/v0/amqp.py', 'lib/charms/rabbitmq_k8s/v0/rabbitmq.py', 'tests/config.yaml', 'fetch-libs.sh']",6,6f5e3e3120980cd756b494d37b55278653531173,update-libs,charmcraft fetch-lib charms.keystone_k8s.v0.identity_service charmcraft fetch-lib charms.rabbitmq_k8s.v0.rabbitmq,charmcraft fetch-lib charms.nginx_ingress_integrator.v0.ingresscharmcraft fetch-lib charms.sunbeam_keystone_operator.v0.identity_service charmcraft fetch-lib charms.sunbeam_rabbitmq_operator.v0.amqp,297,530
openstack%2Fcharm-keystone-k8s~main~Ic23499181049928f7afbccbbf34b5cfff7272beb,openstack/charm-keystone-k8s,main,Ic23499181049928f7afbccbbf34b5cfff7272beb,Correct import path in docstring,MERGED,2022-10-17 12:26:03.000000000,2022-10-18 02:10:15.000000000,2022-10-18 01:28:36.000000000,"[{'_account_id': 10366}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-17 12:26:03.000000000', 'files': ['lib/charms/keystone_k8s/v0/identity_service.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/f989892f4e1bbbca99650057c9303b754781d3c0', 'message': 'Correct import path in docstring\n\nUpdate the import path in the docstrings for the identity-service\ninterface for the new module path name.\n\nChange-Id: Ic23499181049928f7afbccbbf34b5cfff7272beb\n'}]",0,861604,f989892f4e1bbbca99650057c9303b754781d3c0,8,3,1,935,,,0,"Correct import path in docstring

Update the import path in the docstrings for the identity-service
interface for the new module path name.

Change-Id: Ic23499181049928f7afbccbbf34b5cfff7272beb
",git fetch https://review.opendev.org/openstack/charm-keystone-k8s refs/changes/04/861604/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/charms/keystone_k8s/v0/identity_service.py'],1,f989892f4e1bbbca99650057c9303b754781d3c0,tidy-identity-service,from charms.keystone_k8s.v0.identity_service import IdentityServiceRequires,from charms.sunbeam_keystone_operator.v0.identity_service import IdentityServiceRequires,1,1
openstack%2Fcharm-cinder-k8s~main~Ic68aeeb0d4cc764860da4ae712a145b1702098cc,openstack/charm-cinder-k8s,main,Ic68aeeb0d4cc764860da4ae712a145b1702098cc,Update libraries for new charm names,MERGED,2022-10-17 12:36:14.000000000,2022-10-18 02:07:42.000000000,2022-10-18 01:28:40.000000000,"[{'_account_id': 10366}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-17 12:36:14.000000000', 'files': ['lib/charms/keystone_k8s/v0/identity_service.py', 'lib/charms/sunbeam_rabbitmq_operator/v0/amqp.py', 'lib/charms/cinder_k8s/v0/storage_backend.py', 'lib/charms/rabbitmq_k8s/v0/rabbitmq.py', 'src/charm.py', 'fetch-libs.sh'], 'web_link': 'https://opendev.org/openstack/charm-cinder-k8s/commit/b4cc94f08607c57c848ff77e994689fb554cb87c', 'message': 'Update libraries for new charm names\n\nRefresh all libraries for new charm names, publish storage_backend\ninterface under new charm name.\n\nChange-Id: Ic68aeeb0d4cc764860da4ae712a145b1702098cc\n'}]",0,861607,b4cc94f08607c57c848ff77e994689fb554cb87c,8,3,1,935,,,0,"Update libraries for new charm names

Refresh all libraries for new charm names, publish storage_backend
interface under new charm name.

Change-Id: Ic68aeeb0d4cc764860da4ae712a145b1702098cc
",git fetch https://review.opendev.org/openstack/charm-cinder-k8s refs/changes/07/861607/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/charms/keystone_k8s/v0/identity_service.py', 'lib/charms/sunbeam_rabbitmq_operator/v0/amqp.py', 'lib/charms/cinder_k8s/v0/storage_backend.py', 'lib/charms/rabbitmq_k8s/v0/rabbitmq.py', 'src/charm.py', 'fetch-libs.sh']",6,b4cc94f08607c57c848ff77e994689fb554cb87c,update-libs,charmcraft fetch-lib charms.keystone_k8s.v0.identity_service charmcraft fetch-lib charms.rabbitmq_k8s.v0.rabbitmq,charmcraft fetch-lib charms.nginx_ingress_integrator.v0.ingresscharmcraft fetch-lib charms.sunbeam_keystone_operator.v0.identity_service charmcraft fetch-lib charms.sunbeam_rabbitmq_operator.v0.amqp,299,322
openstack%2Fironic-python-agent~stable%2Fwallaby~I3e25ce4997f5dd3df87caba753daced65838f85a,openstack/ironic-python-agent,stable/wallaby,I3e25ce4997f5dd3df87caba753daced65838f85a,Use utf-16-le if BOM not present,MERGED,2022-10-13 15:32:12.000000000,2022-10-18 01:35:34.000000000,2022-10-18 01:34:35.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-10-13 15:32:12.000000000', 'files': ['releasenotes/notes/detect-endianness-f53a6c4571aba3fe.yaml', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/0f0ac47bae85d09d231eb9ac2999f50d8aae1e38', 'message': ""Use utf-16-le if BOM not present\n\nIn case no BOM is present in the CSV file the utf-16 codec won't work.\nWe fail over to utf-16-le as Little Endian is commonly used.\n\nNOTE: The original change landed this fix in efi_utils.py, however\n      that was introduced after the Xena development cycle, so this\n      backport moves the original change to where the code originally\n      came from to populate the efi_utils.py file.\n\nChange-Id: I3e25ce4997f5dd3df87caba753daced65838f85a\n(cherry picked from commit 697fa6f3b6db10408eaadd57450456de87f13519)\n(cherry picked from commit 99b9d1403cacd3bbd489a6cf6913f32746ef6083)\n""}]",2,861063,0f0ac47bae85d09d231eb9ac2999f50d8aae1e38,13,3,1,11655,,,0,"Use utf-16-le if BOM not present

In case no BOM is present in the CSV file the utf-16 codec won't work.
We fail over to utf-16-le as Little Endian is commonly used.

NOTE: The original change landed this fix in efi_utils.py, however
      that was introduced after the Xena development cycle, so this
      backport moves the original change to where the code originally
      came from to populate the efi_utils.py file.

Change-Id: I3e25ce4997f5dd3df87caba753daced65838f85a
(cherry picked from commit 697fa6f3b6db10408eaadd57450456de87f13519)
(cherry picked from commit 99b9d1403cacd3bbd489a6cf6913f32746ef6083)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/63/861063/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/detect-endianness-f53a6c4571aba3fe.yaml', 'ironic_python_agent/extensions/image.py']",2,0f0ac47bae85d09d231eb9ac2999f50d8aae1e38,," try: with open(mount_point + '/' + v_bl, 'r', encoding='utf-16') as csv: contents = str(csv.read()) except UnicodeError: with open(mount_point + '/' + v_bl, 'r', encoding='utf-16-le') as csv: contents = str(csv.read())"," with open(mount_point + '/' + v_bl, 'r', encoding='utf-16') as csv: contents = str(csv.read())",14,2
openstack%2Fironic-python-agent~master~I434ce1bf1863ee0f11c4d09918d6d2d8dc065c02,openstack/ironic-python-agent,master,I434ce1bf1863ee0f11c4d09918d6d2d8dc065c02,Fix failure of bind mount in _install_grub2,MERGED,2022-09-13 07:59:49.000000000,2022-10-17 23:47:02.000000000,2022-10-17 23:46:05.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-13 07:59:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/2984018308e7976329b176ff31f4965df0fbb8ed', 'message': ""Fix failure of bind mount in _install_grub2\n\nWhen IPA runs _install_grub2, IPA tries to bind mount /dev, /proc and /run\nto <temporal directory path root partition mounted>/{dev,proc,run}.\nHowever that bind mount fails because there aren't such mount point path\nunder temporal directory.\nTo fix this failure, this patch add mkdir command before bind mount.\n\nStory: 2010292\nTask: 46273\nChange-Id: I434ce1bf1863ee0f11c4d09918d6d2d8dc065c02\n""}, {'number': 2, 'created': '2022-09-22 06:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/98e98fa55ed46314b52ab984e270ac79b62c2f1e', 'message': ""Fix failure of bind mount in _install_grub2\n\nWhen IPA runs _install_grub2, IPA tries to bind mount /dev, /proc and /run\nto <temporal directory path root partition mounted>/{dev,proc,run}.\nHowever that bind mount fails because there aren't such mount point path\nunder temporal directory.\nTo fix this failure, this patch add mkdir command before bind mount.\n\nStory: 2010292\nTask: 46273\nChange-Id: I434ce1bf1863ee0f11c4d09918d6d2d8dc065c02\n""}, {'number': 3, 'created': '2022-09-22 10:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/012bbf62bf56d75031cb8c8e8558bd712f901452', 'message': ""Fix failure of bind mount in _install_grub2\n\nWhen IPA runs _install_grub2, IPA tries to bind mount /dev, /proc and /run\nto <temporal directory path root partition mounted>/{dev,proc,run}.\nHowever that bind mount fails because there aren't such mount point path\nunder temporal directory.\nTo fix this failure, this patch add mkdir command before bind mount.\n\nStory: 2010292\nTask: 46273\nChange-Id: I434ce1bf1863ee0f11c4d09918d6d2d8dc065c02\n""}, {'number': 4, 'created': '2022-09-22 10:37:38.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/0bf579c955477da9a43e546703146b8b2b24d05f', 'message': ""Fix failure of bind mount in _install_grub2\n\nWhen IPA runs _install_grub2, IPA tries to bind mount /dev, /proc and /run\nto <temporal directory path root partition mounted>/{dev,proc,run}.\nHowever that bind mount fails because there aren't such mount point path\nunder temporal directory.\nTo fix this failure, this patch add mkdir command before bind mount.\n\nStory: 2010292\nTask: 46273\nChange-Id: I434ce1bf1863ee0f11c4d09918d6d2d8dc065c02\n""}]",1,857271,0bf579c955477da9a43e546703146b8b2b24d05f,17,3,4,30566,,,0,"Fix failure of bind mount in _install_grub2

When IPA runs _install_grub2, IPA tries to bind mount /dev, /proc and /run
to <temporal directory path root partition mounted>/{dev,proc,run}.
However that bind mount fails because there aren't such mount point path
under temporal directory.
To fix this failure, this patch add mkdir command before bind mount.

Story: 2010292
Task: 46273
Change-Id: I434ce1bf1863ee0f11c4d09918d6d2d8dc065c02
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/71/857271/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/extensions/image.py'],1,2984018308e7976329b176ff31f4965df0fbb8ed,fix_bind_mount_error," utils.execute('mkdir', path + fs)",,1,0
openstack%2Fironic~master~I4d7213488ce90176893459087fe2f0491a6a61fc,openstack/ironic,master,I4d7213488ce90176893459087fe2f0491a6a61fc,Phase 3 - SQLAlchemy 2.0 Compatability,MERGED,2022-09-15 16:33:31.000000000,2022-10-17 23:29:36.000000000,2022-10-17 23:27:14.000000000,"[{'_account_id': 4571}, {'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-15 16:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/98f3d2054e080aa6c75337a36e6245a104779f66', 'message': 'WIP Phase 3 - SQLAlchemy 2.0 Compatability\n\nThis patch rewrites portions of the database migration\ntesting to the style required to not break when SQLAlchemy 2.0\nis released.\n\nChange-Id: I4d7213488ce90176893459087fe2f0491a6a61fc\n'}, {'number': 2, 'created': '2022-09-15 16:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a72b9755bdc860167689bd229d212145812c1158', 'message': 'WIP Phase 3 - SQLAlchemy 2.0 Compatability\n\nThis patch rewrites portions of the database migration\ntesting to the style required to not break when SQLAlchemy 2.0\nis released.\n\nChange-Id: I4d7213488ce90176893459087fe2f0491a6a61fc\n'}, {'number': 3, 'created': '2022-09-15 19:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7594f82a0ab9d11c324ffd1005817dab53de88ab', 'message': 'WIP Phase 3 - SQLAlchemy 2.0 Compatability\n\nThis patch rewrites portions of the database migration\ntesting to the style required to not break when SQLAlchemy 2.0\nis released.\n\nChange-Id: I4d7213488ce90176893459087fe2f0491a6a61fc\n'}, {'number': 4, 'created': '2022-09-15 19:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2d69f899eed0aba6ce4969a9e9030f34dc777ced', 'message': 'WIP Phase 3 - SQLAlchemy 2.0 Compatability\n\nThis patch rewrites portions of the database migration\ntesting to the style required to not break when SQLAlchemy 2.0\nis released.\n\nChange-Id: I4d7213488ce90176893459087fe2f0491a6a61fc\n'}, {'number': 5, 'created': '2022-09-16 18:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/099c493fed80aeb439453482c09c237d837ac1d7', 'message': 'Phase 3 - SQLAlchemy 2.0 Compatability\n\nThis patch rewrites portions of the database migration\ntesting to the style required to not break when SQLAlchemy 2.0\nis released.\n\nThe *Major* difference is a transition from using Dictionary key\nstyles towards using object names. This is because to retrieve\na dictionary form, or access a row object as a dictionary, requires\nit to be cast as a dictonary, but in SQLAlchemy 2.0 row result\nattribute .keys is no longer present, which ultimately prevents\ncasting and loading as such. Ultimately this just meant change\nthe tests to use the object model field labels.\n\nOne other change is we now query just the columns needed to get\nan ORM object. This is a result of the unification of the select\ninterface and us being unable to instantiate a current full DB\nobject (as in models.Node in current code) against an older\ndatabase version in order to perform migration validation.\n\nOne last item, there appears to be a minor trivial difference\nin the behavior in the return of a dictionary/json response\nobject with Postgres. Ultimately, it seems trivial, we just\nneeded the test to be aware of the difference as it is a\nvery low level test.\n\nChange-Id: I4d7213488ce90176893459087fe2f0491a6a61fc\n'}, {'number': 6, 'created': '2022-09-23 19:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bf462ae04274d752b55b12da6d3274f026eef023', 'message': 'Phase 3 - SQLAlchemy 2.0 Compatability\n\nThis patch rewrites portions of the database migration\ntesting to the style required to not break when SQLAlchemy 2.0\nis released.\n\nThe *Major* difference is a transition from using Dictionary key\nstyles towards using object names. This is because to retrieve\na dictionary form, or access a row object as a dictionary, requires\nit to be cast as a dictonary, but in SQLAlchemy 2.0 row result\nattribute .keys is no longer present, which ultimately prevents\ncasting and loading as such. Ultimately this just meant change\nthe tests to use the object model field labels.\n\nOne other change is we now query just the columns needed to get\nan ORM object. This is a result of the unification of the select\ninterface and us being unable to instantiate a current full DB\nobject (as in models.Node in current code) against an older\ndatabase version in order to perform migration validation.\n\nOne last item, there appears to be a minor trivial difference\nin the behavior in the return of a dictionary/json response\nobject with Postgres. Ultimately, it seems trivial, we just\nneeded the test to be aware of the difference as it is a\nvery low level test.\n\nChange-Id: I4d7213488ce90176893459087fe2f0491a6a61fc\n'}, {'number': 7, 'created': '2022-09-26 20:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/18b6851819b45694a38a824384fe4d0e949ac660', 'message': 'Phase 3 - SQLAlchemy 2.0 Compatability\n\nThis patch rewrites portions of the database migration\ntesting to the style required to not break when SQLAlchemy 2.0\nis released.\n\nThe *Major* difference is a transition from using Dictionary key\nstyles towards using object names. This is because to retrieve\na dictionary form, or access a row object as a dictionary, requires\nit to be cast as a dictonary, but in SQLAlchemy 2.0 row result\nattribute .keys is no longer present, which ultimately prevents\ncasting and loading as such. Ultimately this just meant change\nthe tests to use the object model field labels.\n\nOne other change is we now query just the columns needed to get\nan ORM object. This is a result of the unification of the select\ninterface and us being unable to instantiate a current full DB\nobject (as in models.Node in current code) against an older\ndatabase version in order to perform migration validation.\n\nOne last item, there appears to be a minor trivial difference\nin the behavior in the return of a dictionary/json response\nobject with Postgres. Ultimately, it seems trivial, we just\nneeded the test to be aware of the difference as it is a\nvery low level test.\n\nChange-Id: I4d7213488ce90176893459087fe2f0491a6a61fc\n'}, {'number': 8, 'created': '2022-09-27 15:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bfd145976afa84726f27f57538cbe47abb492537', 'message': 'Phase 3 - SQLAlchemy 2.0 Compatability\n\nThis patch rewrites portions of the database migration\ntesting to the style required to not break when SQLAlchemy 2.0\nis released.\n\nThe *Major* difference is a transition from using Dictionary key\nstyles towards using object names. This is because to retrieve\na dictionary form, or access a row object as a dictionary, requires\nit to be cast as a dictonary, but in SQLAlchemy 2.0 row result\nattribute .keys is no longer present, which ultimately prevents\ncasting and loading as such. Ultimately this just meant change\nthe tests to use the object model field labels.\n\nOne other change is we now query just the columns needed to get\nan ORM object. This is a result of the unification of the select\ninterface and us being unable to instantiate a current full DB\nobject (as in models.Node in current code) against an older\ndatabase version in order to perform migration validation.\n\nOne last item, there appears to be a minor trivial difference\nin the behavior in the return of a dictionary/json response\nobject with Postgres. Ultimately, it seems trivial, we just\nneeded the test to be aware of the difference as it is a\nvery low level test.\n\nChange-Id: I4d7213488ce90176893459087fe2f0491a6a61fc\n'}, {'number': 9, 'created': '2022-09-27 18:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/81b8caa7f26a9796da4b8f2dac19bc10ea2a9bf3', 'message': 'Phase 3 - SQLAlchemy 2.0 Compatability\n\nThis patch rewrites portions of the database migration\ntesting to the style required to not break when SQLAlchemy 2.0\nis released.\n\nThe *Major* difference is a transition from using Dictionary key\nstyles towards using object names. This is because to retrieve\na dictionary form, or access a row object as a dictionary, requires\nit to be cast as a dictonary, but in SQLAlchemy 2.0 row result\nattribute .keys is no longer present, which ultimately prevents\ncasting and loading as such. Ultimately this just meant change\nthe tests to use the object model field labels.\n\nOne other change is we now query just the columns needed to get\nan ORM object. This is a result of the unification of the select\ninterface and us being unable to instantiate a current full DB\nobject (as in models.Node in current code) against an older\ndatabase version in order to perform migration validation.\n\nOne last item, there appears to be a minor trivial difference\nin the behavior in the return of a dictionary/json response\nobject with Postgres. Ultimately, it seems trivial, we just\nneeded the test to be aware of the difference as it is a\nvery low level test.\n\nChange-Id: I4d7213488ce90176893459087fe2f0491a6a61fc\n'}, {'number': 10, 'created': '2022-10-12 20:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ec92ec8124859fe695e293730467d9f1bc4c8b72', 'message': 'Phase 3 - SQLAlchemy 2.0 Compatability\n\nThis patch rewrites portions of the database migration\ntesting to the style required to not break when SQLAlchemy 2.0\nis released.\n\nThe *Major* difference is a transition from using Dictionary key\nstyles towards using object names. This is because to retrieve\na dictionary form, or access a row object as a dictionary, requires\nit to be cast as a dictonary, but in SQLAlchemy 2.0 row result\nattribute .keys is no longer present, which ultimately prevents\ncasting and loading as such. Ultimately this just meant change\nthe tests to use the object model field labels.\n\nOne other change is we now query just the columns needed to get\nan ORM object. This is a result of the unification of the select\ninterface and us being unable to instantiate a current full DB\nobject (as in models.Node in current code) against an older\ndatabase version in order to perform migration validation.\n\nOne last item, there appears to be a minor trivial difference\nin the behavior in the return of a dictionary/json response\nobject with Postgres. Ultimately, it seems trivial, we just\nneeded the test to be aware of the difference as it is a\nvery low level test.\n\nChange-Id: I4d7213488ce90176893459087fe2f0491a6a61fc\n'}, {'number': 11, 'created': '2022-10-13 21:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/467de8392290d7c7dedcac8f48106c87037f9ca9', 'message': 'Phase 3 - SQLAlchemy 2.0 Compatability\n\nThis patch rewrites portions of the database migration\ntesting to the style required to not break when SQLAlchemy 2.0\nis released.\n\nThe *Major* difference is a transition from using Dictionary key\nstyles towards using object names. This is because to retrieve\na dictionary form, or access a row object as a dictionary, requires\nit to be cast as a dictonary, but in SQLAlchemy 2.0 row result\nattribute .keys is no longer present, which ultimately prevents\ncasting and loading as such. Ultimately this just meant change\nthe tests to use the object model field labels.\n\nOne other change is we now query just the columns needed to get\nan ORM object. This is a result of the unification of the select\ninterface and us being unable to instantiate a current full DB\nobject (as in models.Node in current code) against an older\ndatabase version in order to perform migration validation.\n\nOne last item, there appears to be a minor trivial difference\nin the behavior in the return of a dictionary/json response\nobject with Postgres. Ultimately, it seems trivial, we just\nneeded the test to be aware of the difference as it is a\nvery low level test.\n\nChange-Id: I4d7213488ce90176893459087fe2f0491a6a61fc\n'}, {'number': 12, 'created': '2022-10-17 21:31:40.000000000', 'files': ['ironic/tests/unit/db/sqlalchemy/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c0287d0fdeab0a7dd134c19dcec096bf51cc4371', 'message': 'Phase 3 - SQLAlchemy 2.0 Compatability\n\nThis patch rewrites portions of the database migration\ntesting to the style required to not break when SQLAlchemy 2.0\nis released.\n\nThe *Major* difference is a transition from using Dictionary key\nstyles towards using object names. This is because to retrieve\na dictionary form, or access a row object as a dictionary, requires\nit to be cast as a dictonary, but in SQLAlchemy 2.0 row result\nattribute .keys is no longer present, which ultimately prevents\ncasting and loading as such. Ultimately this just meant change\nthe tests to use the object model field labels.\n\nOne other change is we now query just the columns needed to get\nan ORM object. This is a result of the unification of the select\ninterface and us being unable to instantiate a current full DB\nobject (as in models.Node in current code) against an older\ndatabase version in order to perform migration validation.\n\nOne last item, there appears to be a minor trivial difference\nin the behavior in the return of a dictionary/json response\nobject with Postgres. Ultimately, it seems trivial, we just\nneeded the test to be aware of the difference as it is a\nvery low level test.\n\nChange-Id: I4d7213488ce90176893459087fe2f0491a6a61fc\n'}]",0,857932,c0287d0fdeab0a7dd134c19dcec096bf51cc4371,40,3,12,11655,,,0,"Phase 3 - SQLAlchemy 2.0 Compatability

This patch rewrites portions of the database migration
testing to the style required to not break when SQLAlchemy 2.0
is released.

The *Major* difference is a transition from using Dictionary key
styles towards using object names. This is because to retrieve
a dictionary form, or access a row object as a dictionary, requires
it to be cast as a dictonary, but in SQLAlchemy 2.0 row result
attribute .keys is no longer present, which ultimately prevents
casting and loading as such. Ultimately this just meant change
the tests to use the object model field labels.

One other change is we now query just the columns needed to get
an ORM object. This is a result of the unification of the select
interface and us being unable to instantiate a current full DB
object (as in models.Node in current code) against an older
database version in order to perform migration validation.

One last item, there appears to be a minor trivial difference
in the behavior in the return of a dictionary/json response
object with Postgres. Ultimately, it seems trivial, we just
needed the test to be aware of the difference as it is a
very low level test.

Change-Id: I4d7213488ce90176893459087fe2f0491a6a61fc
",git fetch https://review.opendev.org/openstack/ironic refs/changes/32/857932/6 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/db/sqlalchemy/test_migrations.py'],1,98f3d2054e080aa6c75337a36e6245a104779f66,sqlalchemy-20," print('**** Executing %s Version Check' % version) print('**** Exiting %s Version Check' % version) conductor_stmt = sqlalchemy.select( models.Conductor.id ).where( models.Conductor.hostname == data_conductor['hostname'] ) node_stmt = sqlalchemy.select( models.Node.conductor_affinity ).where( models.Node.uuid == data_node['uuid'] ) node_stmt = sqlalchemy.select( models.Node.name ).where( models.Node.uuid == uuid ) node_stmt = sqlalchemy.select( models.Node.driver ).where( models.Node.uuid == uuid ) tag_stmt = sqlalchemy.select( models.NodeTag.tag ).where( models.NodeTag.node_id == '123' ) with engine.begin() as connection: port_stmt = sqlalchemy.select( models.Port.uuid, models.Port.pxe_enabled ) result = connection.execute(port_stmt) def _was_inserted(uuid): for row in data: if row['uuid'] == uuid: return True for row in result: if _was_inserted(row['uuid']): self.assertTrue(row['pxe_enabled']) with engine.begin() as connection: result = connection.execute( sqlalchemy.select( models.Node.uuid, models.Node.network_interface)) def _was_inserted(uuid): for row in data: if row['uuid'] == uuid: return True for row in result: if _was_inserted(row['uuid']): counts[row['network_interface']] += 1 result = engine.execute(sqlalchemy.select(models.Portgroup.mode)) node_stmt = sqlalchemy.select( models.Node.id ).where( models.Node.uuid == data['uuid'] ) trait_stmt = sqlalchemy.select( models.NodeTrait.trait ).where( models.NodeTrait.node_id == data['id'] ) node_stmt = sqlalchemy.select( models.Node.id ).where(models.Node.uuid == data['uuid']) setting_stmt = sqlalchemy.select( models.BIOSSetting.value ).where( models.BIOSSetting.node_id == data['id'], models.BIOSSetting.name == setting['name'] ) node_stmt = sqlalchemy.select( models.Node.uuid, models.Node.conductor_group, ).where( models.Node.uuid == data['node_uuid']) conductor_stmt = sqlalchemy.select( models.Conductor.conductor_group, ).where( models.Conductor.id == data['conductor_id'], ) node_stmt = sqlalchemy.select( models.Node.uuid, models.Node.protected, models.Node.protected_reason ).where( models.Node.uuid == data['node_uuid']) node_stmt = sqlalchemy.select( models.Node.allocation_id ).where( models.Node.uuid == data['node_uuid'] ) dpt_uuid_stmt = sqlalchemy.select( models.DeployTemplate.id, models.DeployTemplate.name, ).where( models.DeployTemplate.uuid == uuid ) dpt_name_stmt = sqlalchemy.select( models.DeployTempalate.id ).where( models.DeployTemplate.name == name ) dpt_id_stmt = sqlalchemy.select( models.DeployTemplate.uuid, models.DeployTemplate.name ).where( models.DeployTemplate.id == template_id ) query_id_stmt = sqlalchemy.select( models.DeployTemplateStep.deploy_template_id, models.DeployTemplateStep.interface, models.DeployTemplateStep.step, models.DeployTemplateStep.args, models.DeployTemplateStep.priority, ).where( models.DeployTemplateStep.deploy_template_id == template_id ) node_stmt = sqlalchemy.select( models.Node.retired, models.Node.retired_reason, ).where( models.Node.uuid == data['node_uuid'] ) node_stmt = sqlalchemy.select( models.Node.instance_info ).where( models.Node.uuid == data['uuid'] ) # Re-uses the same query to fetch current results"," conductor_stmt = conductors.select( conductors.c.hostname == data_conductor['hostname']) node_stmt = nodes.select(nodes.c.uuid == data_node['uuid']) node_stmt = nodes.select(nodes.c.uuid == uuid) node_stmt = nodes.select(nodes.c.uuid == uuid) tag_stmt = node_tags.select(node_tags.c.node_id == '123') ports = db_utils.get_table(engine, 'ports') result = engine.execute(ports.select()) def _was_inserted(uuid): for row in data: if row['uuid'] == uuid: return True for row in result: if _was_inserted(row['uuid']): self.assertTrue(row['pxe_enabled']) nodes = db_utils.get_table(engine, 'nodes') result = engine.execute(nodes.select()) def _was_inserted(uuid): for row in data: if row['uuid'] == uuid: return True for row in result: if _was_inserted(row['uuid']): counts[row['network_interface']] += 1 result = engine.execute(portgroups.select()) node_stmt = nodes.select(nodes.c.uuid == data['uuid']) trait_stmt = node_traits.select( node_traits.c.node_id == data['id']) node_stmt = nodes.select(nodes.c.uuid == data['uuid']) setting_stmt = bios_settings.select( sqlalchemy.sql.and_( bios_settings.c.node_id == data['id'], bios_settings.c.name == setting['name'])) node_stmt = nodes_tbl.select( nodes_tbl.c.uuid == data['node_uuid']) conductor_stmt = conductors_tbl.select( conductors_tbl.c.id == data['conductor_id']) node_stmt = nodes.select( nodes.c.uuid == data['node_uuid']) node_stmt = nodes.select( nodes.c.uuid == data['node_uuid']) dpt_uuid_stmt = deploy_templates.select( deploy_templates.c.uuid == uuid) dpt_name_stmt = deploy_templates.select( deploy_templates.c.name == name) dpt_id_stmt = deploy_templates.select( deploy_templates.c.id == template_id) query_id_stmt = deploy_template_steps.select( deploy_template_steps.c.deploy_template_id == template_id) node_stmt = nodes.select( nodes.c.uuid == data['node_uuid']) node_stmt = nodes.select(nodes.c.uuid == data['uuid']) node_stmt = nodes.select(nodes.c.uuid == uuid)",133,54
openstack%2Fironic~master~I651ec4b50c79be6aa8c798ee27957ed720a578d8,openstack/ironic,master,I651ec4b50c79be6aa8c798ee27957ed720a578d8,Phase 2 - SQLAlchemy 2.0 Compatability,MERGED,2022-09-13 21:58:41.000000000,2022-10-17 23:28:40.000000000,2022-10-17 23:27:10.000000000,"[{'_account_id': 4571}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-13 21:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ea86ddccd902ffc0457743d0bb94e7fcf5a68aba', 'message': 'WIP: second phase sqlalchemy\n\nChange-Id: I651ec4b50c79be6aa8c798ee27957ed720a578d8\n'}, {'number': 2, 'created': '2022-09-15 16:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b8ae8f629f045329d5daf5ffe4572b045af97db5', 'message': 'Phase 2 - SQLAlchemy 2.0 compatability\n\n* Changed common exception imports from SQLAlchemy for ORM\n  query types which are now originated from the main exception\n  definition set.\n\n* Changed base join option usage to use objects instead of labels,\n  and defaulted all multi-row result sets to return data using\n  ""selectinload"" as opposed to operating with a join query to\n  avoid need to de-duplicate all result sets.\n\n* Changed DeployTemplates to utilize objects instead of\n  field names for queries, and updated the associated join ORM\n  model\'s relationship record between DeployTemplate and\n  DeployTemplateSteps.\n\n* Changed Ports, Chassis, Conductor, Volume Target/Connector\n  queries to lean towards use of select/update/delete queries as\n  opposed to ORM queries. Most of these changes revolved around\n  references of field names as opposed to model objects.\n\n* This change also labels a few lines as ""noqa"", which is a result\n  of the style check rules getting triggered on statements as\n  needed for SQLAlchemy.\n\nChange-Id: I651ec4b50c79be6aa8c798ee27957ed720a578d8\n'}, {'number': 3, 'created': '2022-09-15 19:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/186a93bc6048a11a98b35c3ab5edf1c5b03b3184', 'message': 'Phase 2 - SQLAlchemy 2.0 compatability\n\n* Changed common exception imports from SQLAlchemy for ORM\n  query types which are now originated from the main exception\n  definition set.\n\n* Changed base join option usage to use objects instead of labels,\n  and defaulted all multi-row result sets to return data using\n  ""selectinload"" as opposed to operating with a join query to\n  avoid need to de-duplicate all result sets.\n\n* Changed DeployTemplates to utilize objects instead of\n  field names for queries, and updated the associated join ORM\n  model\'s relationship record between DeployTemplate and\n  DeployTemplateSteps.\n\n* Changed Ports, Chassis, Conductor, Volume Target/Connector\n  queries to lean towards use of select/update/delete queries as\n  opposed to ORM queries. Most of these changes revolved around\n  references of field names as opposed to model objects.\n\n* This change also labels a few lines as ""noqa"", which is a result\n  of the style check rules getting triggered on statements as\n  needed for SQLAlchemy.\n\nChange-Id: I651ec4b50c79be6aa8c798ee27957ed720a578d8\n'}, {'number': 4, 'created': '2022-09-15 19:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e9f9a01078f17a4c0ab06f67cdb325430e72ad98', 'message': 'Phase 2 - SQLAlchemy 2.0 Compatability\n\n* Changed common exception imports from SQLAlchemy for ORM\n  query types which are now originated from the main exception\n  definition set.\n\n* Changed base join option usage to use objects instead of labels,\n  and defaulted all multi-row result sets to return data using\n  ""selectinload"" as opposed to operating with a join query to\n  avoid need to de-duplicate all result sets.\n\n* Changed DeployTemplates to utilize objects instead of\n  field names for queries, and updated the associated join ORM\n  model\'s relationship record between DeployTemplate and\n  DeployTemplateSteps.\n\n* Changed Ports, Chassis, Conductor, Volume Target/Connector\n  queries to lean towards use of select/update/delete queries as\n  opposed to ORM queries. Most of these changes revolved around\n  references of field names as opposed to model objects.\n\n* This change also labels a few lines as ""noqa"", which is a result\n  of the style check rules getting triggered on statements as\n  needed for SQLAlchemy.\n\nChange-Id: I651ec4b50c79be6aa8c798ee27957ed720a578d8\n'}, {'number': 5, 'created': '2022-09-23 19:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b50d8068de5d66a463473c99b613ba6d7302d602', 'message': 'Phase 2 - SQLAlchemy 2.0 Compatability\n\n* Changed common exception imports from SQLAlchemy for ORM\n  query types which are now originated from the main exception\n  definition set.\n\n* Changed base join option usage to use objects instead of labels,\n  and defaulted all multi-row result sets to return data using\n  ""selectinload"" as opposed to operating with a join query to\n  avoid need to de-duplicate all result sets.\n\n* Changed DeployTemplates to utilize objects instead of\n  field names for queries, and updated the associated join ORM\n  model\'s relationship record between DeployTemplate and\n  DeployTemplateSteps.\n\n* Changed Ports, Chassis, Conductor, Volume Target/Connector\n  queries to lean towards use of select/update/delete queries as\n  opposed to ORM queries. Most of these changes revolved around\n  references of field names as opposed to model objects.\n\n* This change also labels a few lines as ""noqa"", which is a result\n  of the style check rules getting triggered on statements as\n  needed for SQLAlchemy.\n\nChange-Id: I651ec4b50c79be6aa8c798ee27957ed720a578d8\n'}, {'number': 6, 'created': '2022-09-26 20:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/efbd4f5f8986d04728a1513549306428c464eca6', 'message': 'Phase 2 - SQLAlchemy 2.0 Compatability\n\n* Changed common exception imports from SQLAlchemy for ORM\n  query types which are now originated from the main exception\n  definition set.\n\n* Changed base join option usage to use objects instead of labels,\n  and defaulted all multi-row result sets to return data using\n  ""selectinload"" as opposed to operating with a join query to\n  avoid need to de-duplicate all result sets.\n\n* Changed DeployTemplates to utilize objects instead of\n  field names for queries, and updated the associated join ORM\n  model\'s relationship record between DeployTemplate and\n  DeployTemplateSteps.\n\n* Changed Ports, Chassis, Conductor, Volume Target/Connector\n  queries to lean towards use of select/update/delete queries as\n  opposed to ORM queries. Most of these changes revolved around\n  references of field names as opposed to model objects.\n\n* This change also labels a few lines as ""noqa"", which is a result\n  of the style check rules getting triggered on statements as\n  needed for SQLAlchemy.\n\nChange-Id: I651ec4b50c79be6aa8c798ee27957ed720a578d8\n'}, {'number': 7, 'created': '2022-09-27 15:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/276dfd526b28edb03b5ee23cd832d0c1a57948a0', 'message': 'Phase 2 - SQLAlchemy 2.0 Compatability\n\n* Changed common exception imports from SQLAlchemy for ORM\n  query types which are now originated from the main exception\n  definition set.\n\n* Changed base join option usage to use objects instead of labels,\n  and defaulted all multi-row result sets to return data using\n  ""selectinload"" as opposed to operating with a join query to\n  avoid need to de-duplicate all result sets.\n\n* Changed DeployTemplates to utilize objects instead of\n  field names for queries, and updated the associated join ORM\n  model\'s relationship record between DeployTemplate and\n  DeployTemplateSteps.\n\n* Changed Ports, Chassis, Conductor, Volume Target/Connector\n  queries to lean towards use of select/update/delete queries as\n  opposed to ORM queries. Most of these changes revolved around\n  references of field names as opposed to model objects.\n\n* This change also labels a few lines as ""noqa"", which is a result\n  of the style check rules getting triggered on statements as\n  needed for SQLAlchemy.\n\nChange-Id: I651ec4b50c79be6aa8c798ee27957ed720a578d8\n'}, {'number': 8, 'created': '2022-10-12 20:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f9641725e3053498eb0f26b6525cc47011b20a8a', 'message': 'Phase 2 - SQLAlchemy 2.0 Compatability\n\n* Changed common exception imports from SQLAlchemy for ORM\n  query types which are now originated from the main exception\n  definition set.\n\n* Changed base join option usage to use objects instead of labels,\n  and defaulted all multi-row result sets to return data using\n  ""selectinload"" as opposed to operating with a join query to\n  avoid need to de-duplicate all result sets.\n\n* Changed DeployTemplates to utilize objects instead of\n  field names for queries, and updated the associated join ORM\n  model\'s relationship record between DeployTemplate and\n  DeployTemplateSteps.\n\n* Changed Ports, Chassis, Conductor, Volume Target/Connector\n  queries to lean towards use of select/update/delete queries as\n  opposed to ORM queries. Most of these changes revolved around\n  references of field names as opposed to model objects.\n\n* This change also labels a few lines as ""noqa"", which is a result\n  of the style check rules getting triggered on statements as\n  needed for SQLAlchemy.\n\nChange-Id: I651ec4b50c79be6aa8c798ee27957ed720a578d8\n'}, {'number': 9, 'created': '2022-10-13 21:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c43a1aea4453d84c929262f5582cb577e8bcdd8a', 'message': 'Phase 2 - SQLAlchemy 2.0 Compatability\n\n* Changed common exception imports from SQLAlchemy for ORM\n  query types which are now originated from the main exception\n  definition set.\n\n* Changed base join option usage to use objects instead of labels,\n  and defaulted all multi-row result sets to return data using\n  ""selectinload"" as opposed to operating with a join query to\n  avoid need to de-duplicate all result sets.\n\n* Changed DeployTemplates to utilize objects instead of\n  field names for queries, and updated the associated join ORM\n  model\'s relationship record between DeployTemplate and\n  DeployTemplateSteps.\n\n* Changed Ports, Chassis, Conductor, Volume Target/Connector\n  queries to lean towards use of select/update/delete queries as\n  opposed to ORM queries. Most of these changes revolved around\n  references of field names as opposed to model objects.\n\n* This change also labels a few lines as ""noqa"", which is a result\n  of the style check rules getting triggered on statements as\n  needed for SQLAlchemy.\n\nChange-Id: I651ec4b50c79be6aa8c798ee27957ed720a578d8\n'}, {'number': 10, 'created': '2022-10-14 14:59:44.000000000', 'files': ['ironic/db/sqlalchemy/api.py', 'tox.ini', 'ironic/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c2df29e52f44e39c9fa3cc6ef0820749db1c8647', 'message': 'Phase 2 - SQLAlchemy 2.0 Compatability\n\n* Changed common exception imports from SQLAlchemy for ORM\n  query types which are now originated from the main exception\n  definition set.\n\n* Changed base join option usage to use objects instead of labels,\n  and defaulted all multi-row result sets to return data using\n  ""selectinload"" as opposed to operating with a join query to\n  avoid need to de-duplicate all result sets.\n\n* Changed DeployTemplates to utilize objects instead of\n  field names for queries, and updated the associated join ORM\n  model\'s relationship record between DeployTemplate and\n  DeployTemplateSteps.\n\n* Changed Ports, Chassis, Conductor, Volume Target/Connector\n  queries to lean towards use of select/update/delete queries as\n  opposed to ORM queries. Most of these changes revolved around\n  references of field names as opposed to model objects.\n\n* This change also labels a few lines as ""noqa"", which is a result\n  of the style check rules getting triggered on statements as\n  needed for SQLAlchemy.\n\nChange-Id: I651ec4b50c79be6aa8c798ee27957ed720a578d8\n'}]",25,857516,c2df29e52f44e39c9fa3cc6ef0820749db1c8647,67,4,10,11655,,,0,"Phase 2 - SQLAlchemy 2.0 Compatability

* Changed common exception imports from SQLAlchemy for ORM
  query types which are now originated from the main exception
  definition set.

* Changed base join option usage to use objects instead of labels,
  and defaulted all multi-row result sets to return data using
  ""selectinload"" as opposed to operating with a join query to
  avoid need to de-duplicate all result sets.

* Changed DeployTemplates to utilize objects instead of
  field names for queries, and updated the associated join ORM
  model's relationship record between DeployTemplate and
  DeployTemplateSteps.

* Changed Ports, Chassis, Conductor, Volume Target/Connector
  queries to lean towards use of select/update/delete queries as
  opposed to ORM queries. Most of these changes revolved around
  references of field names as opposed to model objects.

* This change also labels a few lines as ""noqa"", which is a result
  of the style check rules getting triggered on statements as
  needed for SQLAlchemy.

Change-Id: I651ec4b50c79be6aa8c798ee27957ed720a578d8
",git fetch https://review.opendev.org/openstack/ironic refs/changes/16/857516/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/db/sqlalchemy/api.py', 'ironic/db/sqlalchemy/models.py']",2,ea86ddccd902ffc0457743d0bb94e7fcf5a68aba,sqlalchemy-20," steps: orm.Mapped[""List['DeployTemplateStep']""] = orm.relationship( # noqa ""DeployTemplateStep"", back_populates=""deploy_template"", lazy=""selectin"") "," backref='steps',",21,12
openstack%2Fironic-python-agent-builder~stable%2Fxena~I12950733bfe54cae62d299b4c5987449d551857a,openstack/ironic-python-agent-builder,stable/xena,I12950733bfe54cae62d299b4c5987449d551857a,dhcp-all-interfaces: let NetworkManager doit.,MERGED,2022-10-05 14:07:02.000000000,2022-10-17 22:54:26.000000000,2022-10-17 22:52:56.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-10-05 14:07:02.000000000', 'files': ['dib/ironic-python-agent-ramdisk/environment.d/20-ipa-distro-family.bash', 'releasenotes/notes/network-manager-auto-dhcp-all-interfaces-rhel-centos-relese-gt-7-0c2054d0067c6e93.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/ace5bbf3f4613da6edf3b739bbb4b91287c5618b', 'message': 'dhcp-all-interfaces: let NetworkManager doit.\n\nOverride the default for DIB_DHCP_NETWORK_MANAGER_AUTO\nto `true` on RHEL and CentOS release 8 and later.\n\nThe dhcp-all-interfaces element is configured to only\napply NetworkManager configuration. The service:\ndhcp-all-interfaces will not be enabled. Not enabling the\nservice allows NetworkManager to do the interface auto-\nconfiguration. In release 8 and later it should do this\njust as good, or even better, compared to the\ndhcp-all-interfaces.sh script.\n\nDepends-On: Id6f8d6aaaf52a78175bb6c065ec88274c364834e\nChange-Id: I12950733bfe54cae62d299b4c5987449d551857a\n(cherry picked from commit bdb387bb84e0bbb3f7de79814c39fa0d42d52908)\n'}]",0,860432,ace5bbf3f4613da6edf3b739bbb4b91287c5618b,9,4,1,11655,,,0,"dhcp-all-interfaces: let NetworkManager doit.

Override the default for DIB_DHCP_NETWORK_MANAGER_AUTO
to `true` on RHEL and CentOS release 8 and later.

The dhcp-all-interfaces element is configured to only
apply NetworkManager configuration. The service:
dhcp-all-interfaces will not be enabled. Not enabling the
service allows NetworkManager to do the interface auto-
configuration. In release 8 and later it should do this
just as good, or even better, compared to the
dhcp-all-interfaces.sh script.

Depends-On: Id6f8d6aaaf52a78175bb6c065ec88274c364834e
Change-Id: I12950733bfe54cae62d299b4c5987449d551857a
(cherry picked from commit bdb387bb84e0bbb3f7de79814c39fa0d42d52908)
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/32/860432/1 && git format-patch -1 --stdout FETCH_HEAD,"['dib/ironic-python-agent-ramdisk/environment.d/20-ipa-distro-family.bash', 'releasenotes/notes/network-manager-auto-dhcp-all-interfaces-rhel-centos-relese-gt-7-0c2054d0067c6e93.yaml']",2,ace5bbf3f4613da6edf3b739bbb4b91287c5618b,dhcp-all-interfaces-stable/xena,"--- other: - | On RHEL and CentOS 8 and later the *dhcp-all-interfaces* diskimage-builder element is now configured to only apply NetworkManager configuration by default. The *dhcp-all-interfaces* service will not be enabled. To re-enable the *dhcp-all-interfaces* service, set ``DIB_DHCP_NETWORK_MANAGER_AUTO=false`` in the environment. NetworkManager is quite capable to do automatic interface configuration. NetworkManager will by default try to auto-configure any interface with no configuration, it will use DHCP for IPv4 and Router Advertisements to decide how to initialize IPv6. ",,18,0
openstack%2Fironic~master~Idfc8c6afdc68302645dd2612f4da3535c9a4479c,openstack/ironic,master,Idfc8c6afdc68302645dd2612f4da3535c9a4479c,Make test_snmp sleep asserts more reliable,ABANDONED,2022-10-14 01:03:21.000000000,2022-10-17 22:28:48.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-14 01:03:21.000000000', 'files': ['ironic/tests/unit/drivers/modules/test_snmp.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5d3f67c22c3c09f6edc43241e7caee10f0cc17e9', 'message': 'Make test_snmp sleep asserts more reliable\n\nThese tests sometimes fail with extra sleep(0) calls, maybe due to\ninteraction with the loopingcall in _snmp_waite_for_state.\n\nThis change asserts the actual sleep call, so other sleeps calls will\nbe ignored.\n\nChange-Id: Idfc8c6afdc68302645dd2612f4da3535c9a4479c\n'}]",0,861274,5d3f67c22c3c09f6edc43241e7caee10f0cc17e9,5,2,1,4571,,,0,"Make test_snmp sleep asserts more reliable

These tests sometimes fail with extra sleep(0) calls, maybe due to
interaction with the loopingcall in _snmp_waite_for_state.

This change asserts the actual sleep call, so other sleeps calls will
be ignored.

Change-Id: Idfc8c6afdc68302645dd2612f4da3535c9a4479c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/74/861274/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/drivers/modules/test_snmp.py'],1,5d3f67c22c3c09f6edc43241e7caee10f0cc17e9,test_snmp, mock_sleep.assert_has_calls([mock.call(1)]) mock_sleep.assert_has_calls([mock.call(1)]) mock_sleep.assert_has_calls([mock.call(5)]), mock_sleep.assert_called_once_with(1) mock_sleep.assert_called_once_with(1) calls = [mock.call(5)] mock_sleep.assert_has_calls(calls),3,4
openstack%2Fironic-python-agent~bugfix%2F8.1~I1e7a3b3c9ded13b10002bb47e98d4a7b486e1dd4,openstack/ironic-python-agent,bugfix/8.1,I1e7a3b3c9ded13b10002bb47e98d4a7b486e1dd4,CI: Zuul no longer respects queue param,MERGED,2022-10-03 22:13:35.000000000,2022-10-17 22:19:29.000000000,2022-10-17 22:17:52.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-10-03 22:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/f561774034a70fe6de9e3484e65c48f9e7ea154f', 'message': 'CI: Zuul no longer respects queue param\n\nChange-Id: I1e7a3b3c9ded13b10002bb47e98d4a7b486e1dd4\n'}, {'number': 2, 'created': '2022-10-14 16:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/dcc8d2f47c4f6d33e16cb923f2853a1cefc34766', 'message': 'CI: Zuul no longer respects queue param\n\nAlso disable use of swift tempurls as swift seems\nto sporatically fail on accessing assets, and the\nthing being tested here is not swift.\n\nChange-Id: I1e7a3b3c9ded13b10002bb47e98d4a7b486e1dd4\n'}, {'number': 3, 'created': '2022-10-14 23:17:53.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/2982f8d5aedd7e1b5d0fa1c5f7242a3c48dd0061', 'message': 'CI: Zuul no longer respects queue param\n\nAlso disable use of swift tempurls as swift seems\nto sporatically fail on accessing assets, and the\nthing being tested here is not swift.\n\nDisabling the redfish virutal media job, as it is failing\ndue to swift issues, and it is unlikely for them to be\nfixed. Besides, there is no local override to bypass\nswift on older versions.\n\nChange-Id: I1e7a3b3c9ded13b10002bb47e98d4a7b486e1dd4\n'}]",1,860194,2982f8d5aedd7e1b5d0fa1c5f7242a3c48dd0061,18,3,3,10342,,,0,"CI: Zuul no longer respects queue param

Also disable use of swift tempurls as swift seems
to sporatically fail on accessing assets, and the
thing being tested here is not swift.

Disabling the redfish virutal media job, as it is failing
due to swift issues, and it is unlikely for them to be
fixed. Besides, there is no local override to bypass
swift on older versions.

Change-Id: I1e7a3b3c9ded13b10002bb47e98d4a7b486e1dd4
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/94/860194/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,f561774034a70fe6de9e3484e65c48f9e7ea154f,,, queue: ironic,0,1
openstack%2Fopenstack-ansible-os_neutron~master~I48798d848e9ebcb2579bc5cff9caefb75f28f55f,openstack/openstack-ansible-os_neutron,master,I48798d848e9ebcb2579bc5cff9caefb75f28f55f,Drop VPNAAS overrides variables,MERGED,2022-10-11 07:02:18.000000000,2022-10-17 21:46:35.000000000,2022-10-17 21:45:37.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-10-11 07:02:18.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/4451f1a46b29c2236e8dd45d1156485ed0a61c59', 'message': 'Drop VPNAAS overrides variables\n\nvpnaas is being configured in l3 agent config as of today. These\nvariables are not used anywhere down the code and are confusing.\n\nChange-Id: I48798d848e9ebcb2579bc5cff9caefb75f28f55f\n'}]",0,860922,4451f1a46b29c2236e8dd45d1156485ed0a61c59,8,3,1,28619,,,0,"Drop VPNAAS overrides variables

vpnaas is being configured in l3 agent config as of today. These
variables are not used anywhere down the code and are confusing.

Change-Id: I48798d848e9ebcb2579bc5cff9caefb75f28f55f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/22/860922/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,4451f1a46b29c2236e8dd45d1156485ed0a61c59,,,neutron_vpn_agent_init_overrides: {} neutron_vpnaas_agent_ini_overrides: {},0,2
openstack%2Fironic-python-agent~stable%2Fussuri~Ib9cc2c52285cff6de5517ea609633191ab713dbf,openstack/ironic-python-agent,stable/ussuri,Ib9cc2c52285cff6de5517ea609633191ab713dbf,CI: Turn off RAID testing on Ussuri,ABANDONED,2022-10-14 16:40:36.000000000,2022-10-17 21:09:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-10-14 16:40:36.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/1997df33d19e646179d32a9fffd214286390fded', 'message': 'CI: Turn off RAID testing on Ussuri\n\nUssuri was not completey in a place to support\nsoftware RAID, and testing it upstream with tempest\nis problematic. As such, disabling the raid interface\nso the software raid checks are not executed.\n\nChange-Id: Ib9cc2c52285cff6de5517ea609633191ab713dbf\n'}]",0,861455,1997df33d19e646179d32a9fffd214286390fded,3,1,1,11655,,,0,"CI: Turn off RAID testing on Ussuri

Ussuri was not completey in a place to support
software RAID, and testing it upstream with tempest
is problematic. As such, disabling the raid interface
so the software raid checks are not executed.

Change-Id: Ib9cc2c52285cff6de5517ea609633191ab713dbf
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/55/861455/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-python-agent-jobs.yaml'],1,1997df33d19e646179d32a9fffd214286390fded,," IRONIC_ENABLED_RAID_INTERFACES: ""no-raid,fake""",,1,0
openstack%2Fopenstack-ansible-os_neutron~master~I45d6cd0f039c3fd2016e52df3607a5ac22956d0a,openstack/openstack-ansible-os_neutron,master,I45d6cd0f039c3fd2016e52df3607a5ac22956d0a,"Revert ""Remove the neutron-fwaas since it retired""",MERGED,2022-10-11 06:36:55.000000000,2022-10-17 20:43:42.000000000,2022-10-17 20:42:49.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 30356}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-10-11 06:36:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/8300bcd2cbda4e406508147bdecb345082d443a5', 'message': 'Revert ""Remove the neutron-fwaas since it retired""\n\nThis reverts commit 5fb6ef370e106c13da9f14126710b9970ac0874a.\n\nReason for revert: FWAAS has been revived in Zed with I14f551c199d9badcf25b9e65c954c012326d27cd\n\nChange-Id: I45d6cd0f039c3fd2016e52df3607a5ac22956d0a\n'}, {'number': 2, 'created': '2022-10-11 07:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/886d510565b9b06bfe25d76a4cff1ec193864d5d', 'message': 'Revert ""Remove the neutron-fwaas since it retired""\n\nThis reverts commit 5fb6ef370e106c13da9f14126710b9970ac0874a.\n\nReason for revert: FWAAS has been revived in Zed with I14f551c199d9badcf25b9e65c954c012326d27cd\n\nChange-Id: I45d6cd0f039c3fd2016e52df3607a5ac22956d0a\n'}, {'number': 3, 'created': '2022-10-11 07:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/9a6bf9b2c2c99a5c9eb61f108499c4d139921e74', 'message': 'Revert ""Remove the neutron-fwaas since it retired""\n\nThis reverts commit 5fb6ef370e106c13da9f14126710b9970ac0874a.\n\nReason for revert: FWAAS has been revived in Zed with I14f551c199d9badcf25b9e65c954c012326d27cd\n\nChange-Id: I45d6cd0f039c3fd2016e52df3607a5ac22956d0a\n'}, {'number': 4, 'created': '2022-10-14 08:03:37.000000000', 'files': ['templates/neutron.conf.j2', 'vars/distro_install.yml', 'templates/l3_agent.ini.j2', 'vars/redhat.yml', 'vars/debian.yml', 'defaults/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/bd1db203a0a2a470486d2c235dcdf62ca9f0cb63', 'message': 'Revert ""Remove the neutron-fwaas since it retired""\n\nThis reverts commit 5fb6ef370e106c13da9f14126710b9970ac0874a.\n\nReason for revert: FWAAS has been revived in Zed with I14f551c199d9badcf25b9e65c954c012326d27cd\n\nChange-Id: I45d6cd0f039c3fd2016e52df3607a5ac22956d0a\n'}]",0,860902,bd1db203a0a2a470486d2c235dcdf62ca9f0cb63,13,5,4,28619,,,0,"Revert ""Remove the neutron-fwaas since it retired""

This reverts commit 5fb6ef370e106c13da9f14126710b9970ac0874a.

Reason for revert: FWAAS has been revived in Zed with I14f551c199d9badcf25b9e65c954c012326d27cd

Change-Id: I45d6cd0f039c3fd2016e52df3607a5ac22956d0a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/02/860902/3 && git format-patch -1 --stdout FETCH_HEAD,"['templates/l3_agent.ini.j2', 'vars/debian.yml', 'tests/neutron-overrides-ovs-fwaasv2.yml', 'defaults/main.yml', 'vars/main.yml', 'templates/neutron.conf.j2', 'tasks/neutron_check.yml', 'vars/redhat.yml', 'zuul.d/project.yaml', 'tox.ini', 'zuul.d/jobs.yaml', 'vars/suse.yml']",12,8300bcd2cbda4e406508147bdecb345082d443a5,,neutron_optional_fwaas_distro_packages: - openstack-neutron-fwaas ,,83,1
openstack%2Fansible-role-systemd_networkd~master~I5e12cb0eb07b5eb8dcca462dbe8239a926ef80e6,openstack/ansible-role-systemd_networkd,master,I5e12cb0eb07b5eb8dcca462dbe8239a926ef80e6,Add repos only when there're packages for install,MERGED,2022-10-14 16:21:45.000000000,2022-10-17 20:13:29.000000000,2022-10-17 20:12:32.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-10-14 16:21:45.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/0ae090b0d57cdbc7880a7185a23194733935c719', 'message': ""Add repos only when there're packages for install\n\nAt the moment we allow not to install packages by providing\nsystemd_networkd_distro_packages as an empty list. When that happens\nit makes sense also to skip all tasks related to adding repositories\nwhen no packages are going to be installed.\n\nNot installing packages might be useful for containers creation or\nin situations when there is no networking yet, but we know that\nsystemd-networkd is already present.\n\nChange-Id: I5e12cb0eb07b5eb8dcca462dbe8239a926ef80e6\n""}]",0,861452,0ae090b0d57cdbc7880a7185a23194733935c719,9,3,1,28619,,,0,"Add repos only when there're packages for install

At the moment we allow not to install packages by providing
systemd_networkd_distro_packages as an empty list. When that happens
it makes sense also to skip all tasks related to adding repositories
when no packages are going to be installed.

Not installing packages might be useful for containers creation or
in situations when there is no networking yet, but we know that
systemd-networkd is already present.

Change-Id: I5e12cb0eb07b5eb8dcca462dbe8239a926ef80e6
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_networkd refs/changes/52/861452/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,0ae090b0d57cdbc7880a7185a23194733935c719,osa/systemd_roles,"- name: Install required repos and packages block: # Copy all factored-in GPG keys. # KeyID 2F86D6A1 from https://dl.fedoraproject.org/pub/epel/RPM-GPG-KEY-EPEL-8 - name: If a keyfile is provided, copy the gpg keyfile to the key location copy: src: ""{{ item.keyfile }}"" dest: ""{{ item.key }}"" mode: '0644' with_items: ""{{ systemd_networkd_package_repos_keys | selectattr('keyfile','defined') | list }}"" when: - ansible_facts['os_family'] | lower == 'redhat' - name: Ensure GPG keys have the correct SELinux contexts applied command: restorecon -Rv /etc/pki/rpm-gpg/ # TODO(evrardjp): Be more idempotent changed_when: false when: - ansible_facts['os_family'] | lower == 'redhat' # Handle gpg keys manually - name: Install gpg keys rpm_key: key: ""{{ key.key }}"" validate_certs: ""{{ key.validate_certs | default(omit) }}"" state: ""{{ key.state | default('present') }}"" with_items: ""{{ systemd_networkd_package_repos_keys }}"" loop_control: loop_var: key register: _add_yum_keys until: _add_yum_keys is success retries: 5 delay: 2 when: - ansible_facts['os_family'] | lower == 'redhat' # NOTE(jrosser) this repo is configured with the path to the first gpg key provided - name: Install the EPEL repository yum_repository: name: epel-networkd baseurl: ""{{ systemd_networkd_epel_mirror ~ '/' ~ ansible_facts['distribution_major_version'] ~ '/Everything/' ~ ansible_facts['architecture'] }}"" description: 'Extra Packages for Enterprise Linux $releasever - $basearch' gpgkey: ""file://{{ systemd_networkd_package_repos_keys[0].key }}"" gpgcheck: yes enabled: yes state: present includepkgs: 'systemd-networkd' when: - ansible_facts['os_family'] | lower == 'redhat' register: install_epel_repo until: install_epel_repo is success retries: 5 delay: 2 - name: Install networkd distro packages package: name: ""{{ systemd_networkd_distro_packages }}"" state: ""present"" update_cache: ""{{ (ansible_facts['pkg_mgr'] == 'apt') | ternary('yes', omit) }}"" cache_valid_time: ""{{ (ansible_facts['pkg_mgr'] == 'apt') | ternary(600, omit) }}"" enablerepo: ""{{ systemd_networkd_enablerepo | default(omit) }}"" register: install_packages until: install_packages is success retries: 3 delay: 2","# Copy all factored-in GPG keys. # KeyID 2F86D6A1 from https://dl.fedoraproject.org/pub/epel/RPM-GPG-KEY-EPEL-8 - name: If a keyfile is provided, copy the gpg keyfile to the key location copy: src: ""{{ item.keyfile }}"" dest: ""{{ item.key }}"" mode: '0644' with_items: ""{{ systemd_networkd_package_repos_keys | selectattr('keyfile','defined') | list }}"" when: - ansible_facts['os_family'] | lower == 'redhat' - name: Ensure GPG keys have the correct SELinux contexts applied command: restorecon -Rv /etc/pki/rpm-gpg/ # TODO(evrardjp): Be more idempotent changed_when: false when: - ansible_facts['os_family'] | lower == 'redhat' # Handle gpg keys manually - name: Install gpg keys rpm_key: key: ""{{ key.key }}"" validate_certs: ""{{ key.validate_certs | default(omit) }}"" state: ""{{ key.state | default('present') }}"" with_items: ""{{ systemd_networkd_package_repos_keys }}"" loop_control: loop_var: key register: _add_yum_keys until: _add_yum_keys is success retries: 5 delay: 2 when: - ansible_facts['os_family'] | lower == 'redhat' # NOTE(jrosser) this repo is configured with the path to the first gpg key provided - name: Install the EPEL repository yum_repository: name: epel-networkd baseurl: ""{{ systemd_networkd_epel_mirror ~ '/' ~ ansible_facts['distribution_major_version'] ~ '/Everything/' ~ ansible_facts['architecture'] }}"" description: 'Extra Packages for Enterprise Linux $releasever - $basearch' gpgkey: ""file://{{ systemd_networkd_package_repos_keys[0].key }}"" gpgcheck: yes enabled: yes state: present includepkgs: 'systemd-networkd' when: - ansible_facts['os_family'] | lower == 'redhat' register: install_epel_repo until: install_epel_repo is success retries: 5 delay: 2 - name: Install networkd distro packages package: name: ""{{ systemd_networkd_distro_packages }}"" state: ""present"" update_cache: ""{{ (ansible_facts['pkg_mgr'] == 'apt') | ternary('yes', omit) }}"" cache_valid_time: ""{{ (ansible_facts['pkg_mgr'] == 'apt') | ternary(600, omit) }}"" enablerepo: ""{{ systemd_networkd_enablerepo | default(omit) }}"" register: install_packages until: install_packages is success retries: 3 delay: 2",65,63
openstack%2Fopenstack-ansible-lxc_hosts~master~I5223138aa7e50c92531076fe7764f204bfec3e24,openstack/openstack-ansible-lxc_hosts,master,I5223138aa7e50c92531076fe7764f204bfec3e24,Cleanup unused templates,MERGED,2022-10-14 11:24:43.000000000,2022-10-17 19:57:00.000000000,2022-10-17 19:56:03.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-10-14 11:24:43.000000000', 'files': ['templates/systemd-proxy-unit.conf.j2', 'templates/aria2c-download-helper.sh.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/3d25c4f72b724c497d44281ec9dc81b6de120258', 'message': 'Cleanup unused templates\n\naria2c and systemd-proxy templates exists but they are not referenced\nand used by playbooks nowadays. Thus, we can safely remove them\n\nChange-Id: I5223138aa7e50c92531076fe7764f204bfec3e24\n'}]",0,861362,3d25c4f72b724c497d44281ec9dc81b6de120258,8,3,1,28619,,,0,"Cleanup unused templates

aria2c and systemd-proxy templates exists but they are not referenced
and used by playbooks nowadays. Thus, we can safely remove them

Change-Id: I5223138aa7e50c92531076fe7764f204bfec3e24
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/62/861362/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/systemd-proxy-unit.conf.j2', 'templates/aria2c-download-helper.sh.j2']",2,3d25c4f72b724c497d44281ec9dc81b6de120258,,,"#!/bin/bash set -x -e real_name=""$3"" link_name=""/tmp/{{ cache_basename }}"" if [[ ${real_name} != ${link_name} ]]; then ln --symbolic ""${real_name}"" ""${link_name}"" fi ",0,16
openstack%2Ftripleo-upgrade~stable%2Fwallaby~Ic0c6ee8bdfef244d048d98a9c7b7c6b244ca685e,openstack/tripleo-upgrade,stable/wallaby,Ic0c6ee8bdfef244d048d98a9c7b7c6b244ca685e,Bump cirros verision to 0.6.0 in plugin.spec file,MERGED,2022-10-17 05:07:29.000000000,2022-10-17 19:39:53.000000000,2022-10-17 19:39:53.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 33080}]","[{'number': 1, 'created': '2022-10-17 05:07:29.000000000', 'files': ['infrared_plugin/plugin.spec'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c4de90a14162e4d7e037edef722d54605287630d', 'message': ' Bump cirros verision to 0.6.0 in plugin.spec file\n\nChange-Id: Ic0c6ee8bdfef244d048d98a9c7b7c6b244ca685e\n(cherry picked from commit 1a704df060099137b755c53c671a38213669a12d)\n'}]",0,861570,c4de90a14162e4d7e037edef722d54605287630d,7,4,1,29307,,,0," Bump cirros verision to 0.6.0 in plugin.spec file

Change-Id: Ic0c6ee8bdfef244d048d98a9c7b7c6b244ca685e
(cherry picked from commit 1a704df060099137b755c53c671a38213669a12d)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/70/861570/1 && git format-patch -1 --stdout FETCH_HEAD,['infrared_plugin/plugin.spec'],1,c4de90a14162e4d7e037edef722d54605287630d,, default: https://download.cirros-cloud.net/0.6.0/cirros-0.6.0-x86_64-disk.img, default: https://download.cirros-cloud.net/0.5.2/cirros-0.5.2-x86_64-disk.img,1,1
openstack%2Fneutron~stable%2Fwallaby~Iba73f7944592a003232eb397ba1d4da3dcba5c3a,openstack/neutron,stable/wallaby,Iba73f7944592a003232eb397ba1d4da3dcba5c3a,[OVN] Avoid deadlock when cleaning hash ring nodes,MERGED,2022-10-14 13:42:03.000000000,2022-10-17 19:39:36.000000000,2022-10-17 16:15:09.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-10-14 13:42:03.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/049435eeabaef2f2feedff6889d99ff5426a4fdf', 'message': ""[OVN] Avoid deadlock when cleaning hash ring nodes\n\nThis patch avoids the clash of the hash ring cleaning operation and the\nAPI workers by ensuring that the cleaning happens before the nodes for\nthat host are added to the ring and the connections to the OVSDBs (meaning\nno events therefore no SELECTS on the hash ring table for that hostname).\n\nThis patch does this by re-using the same hash ring lock that starts\nthe probing thread. Now, the first worker that acquire the lock is\nresponsible for cleaning the hash ring for it's own host as well as\nstarting the probing thread. Subsequently workers only need to register\nthemselves to the hash ring.\n\nConflicts:\n  neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n\nChange-Id: Iba73f7944592a003232eb397ba1d4da3dcba5c3a\nCloses-Bug: #1990174\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit b7b8f7c571440577a40aacf9d8d93abc3a5a48b3)\n""}]",2,861384,049435eeabaef2f2feedff6889d99ff5426a4fdf,22,5,1,6773,,,0,"[OVN] Avoid deadlock when cleaning hash ring nodes

This patch avoids the clash of the hash ring cleaning operation and the
API workers by ensuring that the cleaning happens before the nodes for
that host are added to the ring and the connections to the OVSDBs (meaning
no events therefore no SELECTS on the hash ring table for that hostname).

This patch does this by re-using the same hash ring lock that starts
the probing thread. Now, the first worker that acquire the lock is
responsible for cleaning the hash ring for it's own host as well as
starting the probing thread. Subsequently workers only need to register
themselves to the hash ring.

Conflicts:
  neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py

Change-Id: Iba73f7944592a003232eb397ba1d4da3dcba5c3a
Closes-Bug: #1990174
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit b7b8f7c571440577a40aacf9d8d93abc3a5a48b3)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/84/861384/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'],1,049435eeabaef2f2feedff6889d99ff5426a4fdf,," def _setup_hash_ring(self): """"""Setup the hash ring. The first worker to acquire the lock is responsible for cleaning the hash ring from previous runs as well as start the probing thread for this host. Subsequently workers just need to register themselves to the hash ring. """""" admin_context = n_context.get_admin_context() if not self._hash_ring_probe_event.is_set(): self._clean_hash_ring() self.node_uuid = ovn_hash_ring_db.add_node(admin_context, self.hash_ring_group) else: self.node_uuid = ovn_hash_ring_db.add_node(admin_context, self.hash_ring_group) self._setup_hash_ring()"," # NOTE(lucasagomes): _clean_hash_ring() must be called before # self.subscribe() to avoid processes racing when adding or # deleting nodes from the Hash Ring during service initialization self._clean_hash_ring() def _start_hash_ring_probe(self): if not self._hash_ring_probe_event.is_set(): admin_context = n_context.get_admin_context() self.node_uuid = ovn_hash_ring_db.add_node(admin_context, self.hash_ring_group) self._start_hash_ring_probe()",16,9
openstack%2Fswift~master~I8830e3da9b6b085224511ac351f2d2860119c432,openstack/swift,master,I8830e3da9b6b085224511ac351f2d2860119c432,swift-drive-audit: reload systemd after editing fstab,MERGED,2022-09-29 14:25:44.000000000,2022-10-17 19:38:44.000000000,2022-10-17 19:37:37.000000000,"[{'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-09-29 14:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/24a1a8ec64ef658858a1455ac48b23b6d61ccb4c', 'message': 'swift-drive-audit reload systemd after editing fstab\n\nSystemd does not monitor /etc/fstab for changes; so a filesystem\nunmounted and commented-out in fstab will be re-mounted by systemd\nafter some time.\n\nThis change means that swift-drive-audit will call systemcl\ndaemon-reload (which causes systemd to reload its configuration\nincluding /etc/fstab) after editing /etc/fstab on systems where\nsystemd is the running init. Check for that case by looking for the\nexistence of the directory /run/systemd/system, as documented in\nsd_booted(3).\n\nSigned-off-by: Matthew Vernon <mvernon@wikimedia.org>\nChange-Id: I8830e3da9b6b085224511ac351f2d2860119c432\n'}, {'number': 2, 'created': '2022-09-29 14:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/767cdee9255c1ac72d8f06927dd8139e61d22385', 'message': 'swift-drive-audit: reload systemd after editing fstab\n\nSystemd does not monitor /etc/fstab for changes; so a filesystem\nunmounted and commented-out in fstab will be re-mounted by systemd\nafter some time.\n\nThis change means that swift-drive-audit will call systemcl\ndaemon-reload (which causes systemd to reload its configuration\nincluding /etc/fstab) after editing /etc/fstab on systems where\nsystemd is the running init. Check for that case by looking for the\nexistence of the directory /run/systemd/system, as documented in\nsd_booted(3).\n\nSigned-off-by: Matthew Vernon <mvernon@wikimedia.org>\nChange-Id: I8830e3da9b6b085224511ac351f2d2860119c432\n'}, {'number': 3, 'created': '2022-09-30 08:48:55.000000000', 'files': ['bin/swift-drive-audit'], 'web_link': 'https://opendev.org/openstack/swift/commit/e838d8a9475242c6e8e47f1229cabecce0fc3281', 'message': 'swift-drive-audit: reload systemd after editing fstab\n\nSystemd does not monitor /etc/fstab for changes; so a filesystem\nunmounted and commented-out in fstab will be re-mounted by systemd\nafter some time.\n\nThis change means that swift-drive-audit will call systemcl\ndaemon-reload (which causes systemd to reload its configuration\nincluding /etc/fstab) after editing /etc/fstab on systems where\nsystemd is the running init. Check for that case by looking for the\nexistence of the directory /run/systemd/system, as documented in\nsd_booted(3).\n\nSigned-off-by: Matthew Vernon <mvernon@wikimedia.org>\nChange-Id: I8830e3da9b6b085224511ac351f2d2860119c432\n'}]",15,859861,e838d8a9475242c6e8e47f1229cabecce0fc3281,26,4,3,34175,,,0,"swift-drive-audit: reload systemd after editing fstab

Systemd does not monitor /etc/fstab for changes; so a filesystem
unmounted and commented-out in fstab will be re-mounted by systemd
after some time.

This change means that swift-drive-audit will call systemcl
daemon-reload (which causes systemd to reload its configuration
including /etc/fstab) after editing /etc/fstab on systems where
systemd is the running init. Check for that case by looking for the
existence of the directory /run/systemd/system, as documented in
sd_booted(3).

Signed-off-by: Matthew Vernon <mvernon@wikimedia.org>
Change-Id: I8830e3da9b6b085224511ac351f2d2860119c432
",git fetch https://review.opendev.org/openstack/swift refs/changes/61/859861/3 && git format-patch -1 --stdout FETCH_HEAD,['bin/swift-drive-audit'],1,24a1a8ec64ef658858a1455ac48b23b6d61ccb4c,fstab_systemd,"import os.path elif os.path.isdir(""/run/systemd/system""): logger.debug(""fstab updated, calling systemctl daemon-reload"") subprocess.call([""/usr/bin/systemctl"",""daemon-reload""])",,4,1
openstack%2Fansible-role-systemd_service~master~I3d8b36f5e9f4be89eaff848d8ba88a38ce5285e4,openstack/ansible-role-systemd_service,master,I3d8b36f5e9f4be89eaff848d8ba88a38ce5285e4,Allow to define pre-start and post-stop tasks,MERGED,2022-10-14 10:11:14.000000000,2022-10-17 19:20:02.000000000,2022-10-17 19:19:07.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-10-14 10:11:14.000000000', 'files': ['releasenotes/notes/systemd_service_pre_post_exec-283b657e52d33d2b.yaml', 'templates/systemd-service.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/62bd24859e96ef28350911ede44480864ac6d161', 'message': 'Allow to define pre-start and post-stop tasks\n\nWHile you can leverage config_overrides for that, it might become\ntricky if you need to define more then 1 pre/post exec tasks.\n\nChange-Id: I3d8b36f5e9f4be89eaff848d8ba88a38ce5285e4\n'}]",1,861350,62bd24859e96ef28350911ede44480864ac6d161,11,3,1,28619,,,0,"Allow to define pre-start and post-stop tasks

WHile you can leverage config_overrides for that, it might become
tricky if you need to define more then 1 pre/post exec tasks.

Change-Id: I3d8b36f5e9f4be89eaff848d8ba88a38ce5285e4
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_service refs/changes/50/861350/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/systemd_service_pre_post_exec-283b657e52d33d2b.yaml', 'templates/systemd-service.j2', 'defaults/main.yml']",3,62bd24859e96ef28350911ede44480864ac6d161,osa/systemd_roles,# `execstartpres` -- (optional) Set the program that wil lexecute before service startup.# `execstopposts` -- (optional) Set the program that wil lexecute after service stop.# execstopposts: # - /usr/local/bin/hook,,18,0
openstack%2Ftripleo-upgrade~master~Ic0c6ee8bdfef244d048d98a9c7b7c6b244ca685e,openstack/tripleo-upgrade,master,Ic0c6ee8bdfef244d048d98a9c7b7c6b244ca685e,Bump cirros verision to 0.6.0 in plugin.spec file,MERGED,2022-10-17 05:04:18.000000000,2022-10-17 19:18:58.000000000,2022-10-17 19:18:58.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 33080}]","[{'number': 1, 'created': '2022-10-17 05:04:18.000000000', 'files': ['infrared_plugin/plugin.spec'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/1a704df060099137b755c53c671a38213669a12d', 'message': ' Bump cirros verision to 0.6.0 in plugin.spec file\n\nChange-Id: Ic0c6ee8bdfef244d048d98a9c7b7c6b244ca685e\n'}]",1,861569,1a704df060099137b755c53c671a38213669a12d,7,4,1,29307,,,0," Bump cirros verision to 0.6.0 in plugin.spec file

Change-Id: Ic0c6ee8bdfef244d048d98a9c7b7c6b244ca685e
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/69/861569/1 && git format-patch -1 --stdout FETCH_HEAD,['infrared_plugin/plugin.spec'],1,1a704df060099137b755c53c671a38213669a12d,, default: https://download.cirros-cloud.net/0.6.0/cirros-0.6.0-x86_64-disk.img, default: https://download.cirros-cloud.net/0.5.2/cirros-0.5.2-x86_64-disk.img,1,1
openstack%2Fpython-manilaclient~stable%2Fzed~I881cdb4b5821c6c6a218a1b09c181714e1585b94,openstack/python-manilaclient,stable/zed,I881cdb4b5821c6c6a218a1b09c181714e1585b94,Respect OS_CACERT when using Manila OSC plugin,MERGED,2022-10-11 18:42:55.000000000,2022-10-17 19:14:10.000000000,2022-10-17 19:13:14.000000000,"[{'_account_id': 6413}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-10-11 18:42:55.000000000', 'files': ['manilaclient/osc/plugin.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/b25443dc96935f514dcf4d76c5459170cd06681e', 'message': 'Respect OS_CACERT when using Manila OSC plugin\n\nCloses-Bug: #1989577\nChange-Id: I881cdb4b5821c6c6a218a1b09c181714e1585b94\n(cherry picked from commit aa3ed6b952b070eca59b373e92ec49b24c47618b)\n'}]",3,860906,b25443dc96935f514dcf4d76c5459170cd06681e,16,5,1,16643,,,0,"Respect OS_CACERT when using Manila OSC plugin

Closes-Bug: #1989577
Change-Id: I881cdb4b5821c6c6a218a1b09c181714e1585b94
(cherry picked from commit aa3ed6b952b070eca59b373e92ec49b24c47618b)
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/06/860906/1 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/osc/plugin.py'],1,b25443dc96935f514dcf4d76c5459170cd06681e,bug/1989577," cacert=instance.cacert,",,1,0
openstack%2Frequirements~master~If74ab7c04985b1182dad0844187a0bd8598ba4af,openstack/requirements,master,If74ab7c04985b1182dad0844187a0bd8598ba4af,Cap PasteDeploy at 2.1.1,ABANDONED,2022-10-17 10:52:36.000000000,2022-10-17 19:09:09.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-17 10:52:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ee6f979b5545de3260a9837bac94d764e1f53515', 'message': 'Cap PasteDeploy at 2.1.1\n\nVersion 3.0.0 (released 2022-10-16) drops support for python2 and\n<3.7[0]. That in turn breaks the swift CI gating checks, some of which\nare still checking for python2 compatibility (e.g. [1]).\n\nIn order to add the <=2.1.1 version check to requirements.txt for\nswift[2], I need to also update global requirements.\n\n[0] https://docs.pylonsproject.org/projects/pastedeploy/en/latest/news.html\n[1] https://zuul.opendev.org/t/openstack/buildset/e0b129c0f415408bba70a00ef9f619ef\n[2] https://review.opendev.org/c/openstack/swift/+/861583\n\nSigned-off-by: Matthew Vernon <mvernon@wikimedia.org>\nChange-Id: If74ab7c04985b1182dad0844187a0bd8598ba4af\n'}, {'number': 2, 'created': '2022-10-17 12:22:05.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5be9ca0280851285ea46ad823ef9129568bad53e', 'message': 'Cap PasteDeploy at 2.1.1\n\nVersion 3.0.0 (released 2022-10-16) drops support for python2 and\n<3.7[0]. That in turn breaks the swift CI gating checks, some of which\nare still checking for python2 compatibility (e.g. [1]).\n\nIn order to add the <=2.1.1 version check to requirements.txt for\nswift[2], I need to also update global requirements.\n\n[0] https://docs.pylonsproject.org/projects/pastedeploy/en/latest/news.html\n[1] https://zuul.opendev.org/t/openstack/buildset/e0b129c0f415408bba70a00ef9f619ef\n[2] https://review.opendev.org/c/openstack/swift/+/861583\n\nSigned-off-by: Matthew Vernon <mvernon@wikimedia.org>\nChange-Id: If74ab7c04985b1182dad0844187a0bd8598ba4af\n'}]",3,861599,5be9ca0280851285ea46ad823ef9129568bad53e,7,2,2,34175,,,0,"Cap PasteDeploy at 2.1.1

Version 3.0.0 (released 2022-10-16) drops support for python2 and
<3.7[0]. That in turn breaks the swift CI gating checks, some of which
are still checking for python2 compatibility (e.g. [1]).

In order to add the <=2.1.1 version check to requirements.txt for
swift[2], I need to also update global requirements.

[0] https://docs.pylonsproject.org/projects/pastedeploy/en/latest/news.html
[1] https://zuul.opendev.org/t/openstack/buildset/e0b129c0f415408bba70a00ef9f619ef
[2] https://review.opendev.org/c/openstack/swift/+/861583

Signed-off-by: Matthew Vernon <mvernon@wikimedia.org>
Change-Id: If74ab7c04985b1182dad0844187a0bd8598ba4af
",git fetch https://review.opendev.org/openstack/requirements refs/changes/99/861599/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,ee6f979b5545de3260a9837bac94d764e1f53515,,PasteDeploy <=2.1.1 # MIT,PasteDeploy # MIT,1,1
openstack%2Fneutron~stable%2Fvictoria~Iba73f7944592a003232eb397ba1d4da3dcba5c3a,openstack/neutron,stable/victoria,Iba73f7944592a003232eb397ba1d4da3dcba5c3a,[OVN] Avoid deadlock when cleaning hash ring nodes,MERGED,2022-10-14 13:42:10.000000000,2022-10-17 19:08:58.000000000,2022-10-17 19:07:38.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-10-14 13:42:10.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c336814d0dcdb6016bdd3e6f5547214ff8d2f27b', 'message': ""[OVN] Avoid deadlock when cleaning hash ring nodes\n\nThis patch avoids the clash of the hash ring cleaning operation and the\nAPI workers by ensuring that the cleaning happens before the nodes for\nthat host are added to the ring and the connections to the OVSDBs (meaning\nno events therefore no SELECTS on the hash ring table for that hostname).\n\nThis patch does this by re-using the same hash ring lock that starts\nthe probing thread. Now, the first worker that acquire the lock is\nresponsible for cleaning the hash ring for it's own host as well as\nstarting the probing thread. Subsequently workers only need to register\nthemselves to the hash ring.\n\nConflicts:\n  neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n\nChange-Id: Iba73f7944592a003232eb397ba1d4da3dcba5c3a\nCloses-Bug: #1990174\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit b7b8f7c571440577a40aacf9d8d93abc3a5a48b3)\n""}]",2,861385,c336814d0dcdb6016bdd3e6f5547214ff8d2f27b,18,5,1,6773,,,0,"[OVN] Avoid deadlock when cleaning hash ring nodes

This patch avoids the clash of the hash ring cleaning operation and the
API workers by ensuring that the cleaning happens before the nodes for
that host are added to the ring and the connections to the OVSDBs (meaning
no events therefore no SELECTS on the hash ring table for that hostname).

This patch does this by re-using the same hash ring lock that starts
the probing thread. Now, the first worker that acquire the lock is
responsible for cleaning the hash ring for it's own host as well as
starting the probing thread. Subsequently workers only need to register
themselves to the hash ring.

Conflicts:
  neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py

Change-Id: Iba73f7944592a003232eb397ba1d4da3dcba5c3a
Closes-Bug: #1990174
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit b7b8f7c571440577a40aacf9d8d93abc3a5a48b3)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/85/861385/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'],1,c336814d0dcdb6016bdd3e6f5547214ff8d2f27b,," def _setup_hash_ring(self): """"""Setup the hash ring. The first worker to acquire the lock is responsible for cleaning the hash ring from previous runs as well as start the probing thread for this host. Subsequently workers just need to register themselves to the hash ring. """""" admin_context = n_context.get_admin_context() if not self._hash_ring_probe_event.is_set(): self._clean_hash_ring() self.node_uuid = ovn_hash_ring_db.add_node(admin_context, self.hash_ring_group) else: self.node_uuid = ovn_hash_ring_db.add_node(admin_context, self.hash_ring_group) self._setup_hash_ring()"," # NOTE(lucasagomes): _clean_hash_ring() must be called before # self.subscribe() to avoid processes racing when adding or # deleting nodes from the Hash Ring during service initialization self._clean_hash_ring() def _start_hash_ring_probe(self): if not self._hash_ring_probe_event.is_set(): admin_context = n_context.get_admin_context() self.node_uuid = ovn_hash_ring_db.add_node(admin_context, self.hash_ring_group) self._start_hash_ring_probe()",16,9
openstack%2Fneutron~stable%2Fwallaby~Ib3945d294601b35f9b268c25841cd284b52c4ca3,openstack/neutron,stable/wallaby,Ib3945d294601b35f9b268c25841cd284b52c4ca3,[L3HA] Don't update HA router's ports if router isn't active on agents,MERGED,2022-10-11 03:39:48.000000000,2022-10-17 19:08:45.000000000,2022-10-17 19:07:33.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-10-11 03:39:48.000000000', 'files': ['neutron/tests/unit/db/test_l3_hamode_db.py', 'neutron/api/rpc/handlers/l3_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/473af223fd7279189f2fdcebb73379272157ba05', 'message': '[L3HA] Don\'t update HA router\'s ports if router isn\'t active on agents\n\nIn case when HA router isn\'t active on any L3 agent,\n_ensure_host_set_on_port method shouldn\'t try to update port\'s host to\nthe host from which there was an rpc message sent, as this can be host\non which router is in the ""standby"" mode.\nThis method should only update port\'s host to the router\'s ""active_host""\nif there is such active_host found already.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/841489\n\nCloses-Bug: #1973162\nCloses-Bug: #1942190\nChange-Id: Ib3945d294601b35f9b268c25841cd284b52c4ca3\n(cherry picked from commit cd8bf18150c8b0a4bc64979d800726483d9cdb6e)\n'}]",4,860895,473af223fd7279189f2fdcebb73379272157ba05,31,4,1,9531,,,0,"[L3HA] Don't update HA router's ports if router isn't active on agents

In case when HA router isn't active on any L3 agent,
_ensure_host_set_on_port method shouldn't try to update port's host to
the host from which there was an rpc message sent, as this can be host
on which router is in the ""standby"" mode.
This method should only update port's host to the router's ""active_host""
if there is such active_host found already.

Depends-On: https://review.opendev.org/c/openstack/requirements/+/841489

Closes-Bug: #1973162
Closes-Bug: #1942190
Change-Id: Ib3945d294601b35f9b268c25841cd284b52c4ca3
(cherry picked from commit cd8bf18150c8b0a4bc64979d800726483d9cdb6e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/860895/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_hamode_db.py', 'neutron/api/rpc/handlers/l3_rpc.py']",2,473af223fd7279189f2fdcebb73379272157ba05,bug/1973162," if not active_host: LOG.debug(""Router %(router)s is not active on any "" ""host. Port %(port)s will not be updated "" ""now."", {'router': router_id, 'port': port['id']}) return ""host"": active_host}) {'port': {portbindings.HOST_ID: active_host}})"," if active_host: host = active_host # If there is currently no active router instance (For # example it's a new router), the host that requested # the routers (Essentially a random host) will do. The # port binding will be corrected when an active is # elected. ""host"": host}) {'port': {portbindings.HOST_ID: host}})",19,10
openstack%2Fopenstack-ansible-os_keystone~stable%2Fvictoria~I33ed0c49693774d1e9c2c0285217c39f3a9cc077,openstack/openstack-ansible-os_keystone,stable/victoria,I33ed0c49693774d1e9c2c0285217c39f3a9cc077,Rename TLSv1.0 to TLSv1 in apache config,NEW,2022-09-14 17:58:16.000000000,2022-10-17 19:02:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-09-14 17:58:16.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/4c6e8d3034e7beda30d9ffb58123230e3d4d66b1', 'message': ""Rename TLSv1.0 to TLSv1 in apache config\n\nAccording to the apache2 documentation [1], TLSv1.0 is not a valid\noption and may lead to an error:\n\nSSLProtocol: Illegal protocol 'TLSv1.0'\n\n[1] https://httpd.apache.org/docs/2.4/mod/mod_ssl.html#SSLProtocol\n\nChange-Id: I33ed0c49693774d1e9c2c0285217c39f3a9cc077\n""}]",1,857752,4c6e8d3034e7beda30d9ffb58123230e3d4d66b1,4,1,1,32666,,,0,"Rename TLSv1.0 to TLSv1 in apache config

According to the apache2 documentation [1], TLSv1.0 is not a valid
option and may lead to an error:

SSLProtocol: Illegal protocol 'TLSv1.0'

[1] https://httpd.apache.org/docs/2.4/mod/mod_ssl.html#SSLProtocol

Change-Id: I33ed0c49693774d1e9c2c0285217c39f3a9cc077
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/52/857752/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,4c6e8d3034e7beda30d9ffb58123230e3d4d66b1,TLSv1.0,"keystone_ssl_protocol: ""{{ (keystone_web_server == 'nginx') | ternary('TLSv1.2', 'ALL -SSLv2 -SSLv3 -TLSv1 -TLSv1.1') }}""","keystone_ssl_protocol: ""{{ (keystone_web_server == 'nginx') | ternary('TLSv1.2', 'ALL -SSLv2 -SSLv3 -TLSv1.0 -TLSv1.1') }}""",1,1
openstack%2Frequirements~master~I0fe79d4eb3d2b8f3f053a0afe7ad24224972e52a,openstack/requirements,master,I0fe79d4eb3d2b8f3f053a0afe7ad24224972e52a,update constraint for openstacksdk to new release 0.102.0,MERGED,2022-10-13 14:56:11.000000000,2022-10-17 18:25:46.000000000,2022-10-17 18:24:49.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-10-13 14:56:11.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4ba08b3f3c926bb2515eea2fe8216ec88041fbf5', 'message': 'update constraint for openstacksdk to new release 0.102.0\n\nmeta: version: 0.102.0\nmeta: diff-start: -\nmeta: series: antelope\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Artem Goncharov <artem.goncharov@gmail.com>\nmeta: release:Commit: Artem Goncharov <artem.goncharov@gmail.com>\nmeta: release:Change-Id: I6284595825e2f4dfddd5bac81357c82b50aea8fb\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I0fe79d4eb3d2b8f3f053a0afe7ad24224972e52a\n'}]",1,861193,4ba08b3f3c926bb2515eea2fe8216ec88041fbf5,13,4,1,11131,,,0,"update constraint for openstacksdk to new release 0.102.0

meta: version: 0.102.0
meta: diff-start: -
meta: series: antelope
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Artem Goncharov <artem.goncharov@gmail.com>
meta: release:Commit: Artem Goncharov <artem.goncharov@gmail.com>
meta: release:Change-Id: I6284595825e2f4dfddd5bac81357c82b50aea8fb
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I0fe79d4eb3d2b8f3f053a0afe7ad24224972e52a
",git fetch https://review.opendev.org/openstack/requirements refs/changes/93/861193/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,4ba08b3f3c926bb2515eea2fe8216ec88041fbf5,new-release,openstacksdk===0.102.0,openstacksdk===0.101.0,1,1
openstack%2Fopenstack-ansible~stable%2Fwallaby~I94a5eb8388c690ee593771815c92e6fada6fb0f4,openstack/openstack-ansible,stable/wallaby,I94a5eb8388c690ee593771815c92e6fada6fb0f4,Let git choose the branch when cloning a repo,MERGED,2022-10-17 11:19:42.000000000,2022-10-17 18:20:07.000000000,2022-10-17 18:18:21.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-10-17 11:19:42.000000000', 'files': ['playbooks/library/git_requirements.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d2f4fb8295d927ead31ae9881201630868134b5d', 'message': ""Let git choose the branch when cloning a repo\n\nIn this path of the code we clone then checkout the required refspec.\nThe branch name used during the initial clone does not affect the\ncheckout to the required refspec.\n\nHardcoding the initial clone to master has worked when the default\nbranch name for repos has been 'master'. The migration of default\nbranch names to 'main' breaks this assumption.\n\nBy not specifying a branch name in the initial clone we avoid\nproblems with master/main migration, or with a repo which legitimately\nuses a non standard default branch name.\n\nCherry-Picked from https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/846440\n\nChange-Id: I94a5eb8388c690ee593771815c92e6fada6fb0f4\n(cherry picked from commit b8429d28d0d40a0304174ca20ad74f969622814b)\n""}]",0,861616,d2f4fb8295d927ead31ae9881201630868134b5d,8,3,1,28619,,,0,"Let git choose the branch when cloning a repo

In this path of the code we clone then checkout the required refspec.
The branch name used during the initial clone does not affect the
checkout to the required refspec.

Hardcoding the initial clone to master has worked when the default
branch name for repos has been 'master'. The migration of default
branch names to 'main' breaks this assumption.

By not specifying a branch name in the initial clone we avoid
problems with master/main migration, or with a repo which legitimately
uses a non standard default branch name.

Cherry-Picked from https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/846440

Change-Id: I94a5eb8388c690ee593771815c92e6fada6fb0f4
(cherry picked from commit b8429d28d0d40a0304174ca20ad74f969622814b)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/16/861616/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/library/git_requirements.py'],1,d2f4fb8295d927ead31ae9881201630868134b5d,,," branch='master',",0,1
openstack%2Ftripleo-ansible~master~I48c86a62d897eb3c77935600905d72f256b6b99a,openstack/tripleo-ansible,master,I48c86a62d897eb3c77935600905d72f256b6b99a,tripleo_timezone: update for standalone roles,MERGED,2022-05-17 20:49:19.000000000,2022-10-17 18:11:25.000000000,2022-10-17 18:11:25.000000000,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 31245}, {'_account_id': 33080}]","[{'number': 1, 'created': '2022-05-17 20:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/680c01afc6d6399e3e58e1c0d4255aeee0478077', 'message': 'Add tripleo_timezone role to operating system install and run playbooks\n\nAlso refactors the role into separate configure.yml and run.yml task\nfiles so that the tasks can be run separately. main.yml includes both\nnew task files for backwards compatibility.\n\nChange-Id: I48c86a62d897eb3c77935600905d72f256b6b99a\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2022-05-18 21:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d1c3381fc7402855ab5ec91c5c5000da00d86b44', 'message': 'Add tripleo_timezone role to operating system install and run playbooks\n\nAlso refactors the role into separate configure.yml and run.yml task\nfiles so that the tasks can be run separately. main.yml includes both\nnew task files for backwards compatibility.\n\nChange-Id: I48c86a62d897eb3c77935600905d72f256b6b99a\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 3, 'created': '2022-05-18 21:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/10ec7af58692f9c1bfbf8064125ee40761faaf26', 'message': 'Add tripleo_timezone role to operating system install and run playbooks\n\nAlso refactors the role into separate configure.yml and run.yml task\nfiles so that the tasks can be run separately. main.yml includes both\nnew task files for backwards compatibility.\n\nChange-Id: I48c86a62d897eb3c77935600905d72f256b6b99a\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 4, 'created': '2022-05-19 20:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e25449800a0edb7a66052bab8eb1e4a7febcc132', 'message': 'Add tripleo_timezone role to operating system install and run playbooks\n\nAlso refactors the role into separate configure.yml and run.yml task\nfiles so that the tasks can be run separately. main.yml includes both\nnew task files for backwards compatibility.\n\nChange-Id: I48c86a62d897eb3c77935600905d72f256b6b99a\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 5, 'created': '2022-05-25 02:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/81cd3b988dc6a42d4e8fe571315273d448ddd317', 'message': 'Add tripleo_timezone role to operating system install and run playbooks\n\nAlso refactors the role into separate configure.yml and run.yml task\nfiles so that the tasks can be run separately. main.yml includes both\nnew task files for backwards compatibility.\n\nChange-Id: I48c86a62d897eb3c77935600905d72f256b6b99a\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 6, 'created': '2022-05-25 21:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fc17b60ff123367ca61aebb116cde21d8db94a48', 'message': 'Add tripleo_timezone role to operating system install and run playbooks\n\nAlso refactors the role into separate configure.yml and run.yml task\nfiles so that the tasks can be run separately. main.yml includes both\nnew task files for backwards compatibility.\n\nChange-Id: I48c86a62d897eb3c77935600905d72f256b6b99a\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 7, 'created': '2022-05-31 20:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b547016556eaf8f27ea6e0dd34e7a689948b22e1', 'message': 'Add tripleo_timezone role to operating system install and run playbooks\n\nAlso refactors the role into separate configure.yml and run.yml task\nfiles so that the tasks can be run separately. main.yml includes both\nnew task files for backwards compatibility.\n\nChange-Id: I48c86a62d897eb3c77935600905d72f256b6b99a\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 8, 'created': '2022-06-01 13:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ac84cff24fca8a9d260b48fbf6aa6bb63878149d', 'message': 'Add tripleo_timezone role to operating system install and run playbooks\n\nAlso refactors the role into separate configure.yml and run.yml task\nfiles so that the tasks can be run separately. main.yml includes both\nnew task files for backwards compatibility.\n\nChange-Id: I48c86a62d897eb3c77935600905d72f256b6b99a\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 9, 'created': '2022-06-09 21:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/367bd77a69e5716d5a464a515a039e64d0541802', 'message': 'Add tripleo_timezone role to operating system install and run playbooks\n\nAlso refactors the role into separate configure.yml and run.yml task\nfiles so that the tasks can be run separately. main.yml includes both\nnew task files for backwards compatibility.\n\nChange-Id: I48c86a62d897eb3c77935600905d72f256b6b99a\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 10, 'created': '2022-06-21 12:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/75e0229317b29f91ea4783f3ed6a616e5068cc6f', 'message': 'Add tripleo_timezone role to operating system install and run playbooks\n\nAlso refactors the role into separate configure.yml and run.yml task\nfiles so that the tasks can be run separately. main.yml includes both\nnew task files for backwards compatibility.\n\nChange-Id: I48c86a62d897eb3c77935600905d72f256b6b99a\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 11, 'created': '2022-06-23 13:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a2f6a5c861069d54cce4e34aafd5aff36e4a2444', 'message': 'Add tripleo_timezone role to operating system install and run playbooks\n\nAlso refactors the role into separate configure.yml and run.yml task\nfiles so that the tasks can be run separately. main.yml includes both\nnew task files for backwards compatibility.\n\nChange-Id: I48c86a62d897eb3c77935600905d72f256b6b99a\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 12, 'created': '2022-06-27 15:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/48b24a76664b1718d4a9e48593bd32b9da08dafc', 'message': 'Add tripleo_timezone role to operating system install and run playbooks\n\nAlso refactors the role into separate configure.yml and run.yml task\nfiles so that the tasks can be run separately. main.yml includes both\nnew task files for backwards compatibility.\n\nChange-Id: I48c86a62d897eb3c77935600905d72f256b6b99a\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 13, 'created': '2022-07-06 15:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/51ac82dc1f7b5593a2104d7af60407faec27c905', 'message': 'tripleo_timezone: update for standalone roles\n\nRefactors the role into separate configure.yml and run.yml task\nfiles so that the tasks can be run separately. main.yml includes both\nnew task files for backwards compatibility.\n\nChange-Id: I48c86a62d897eb3c77935600905d72f256b6b99a\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 14, 'created': '2022-07-08 15:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f974fece80e31204cdd7405c2aee17bc3ec6bebb', 'message': 'tripleo_timezone: update for standalone roles\n\nRefactors the role into separate configure.yml and run.yml task\nfiles so that the tasks can be run separately. main.yml includes both\nnew task files for backwards compatibility.\n\nChange-Id: I48c86a62d897eb3c77935600905d72f256b6b99a\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 15, 'created': '2022-07-08 16:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3b126e815e60079adca1d9e6eec5b672acccff28', 'message': 'tripleo_timezone: update for standalone roles\n\nRefactors the role into separate configure.yml and run.yml task\nfiles so that the tasks can be run separately. main.yml includes both\nnew task files for backwards compatibility.\n\nChange-Id: I48c86a62d897eb3c77935600905d72f256b6b99a\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 16, 'created': '2022-10-06 18:58:31.000000000', 'files': ['tripleo_ansible/roles/tripleo_timezone/tasks/run.yml', 'tripleo_ansible/roles/tripleo_timezone/tasks/main.yml', 'tripleo_ansible/roles/tripleo_timezone/tasks/configure.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dc00ba7b9b5e30575e670a251c2c00f3559efff3', 'message': 'tripleo_timezone: update for standalone roles\n\nRefactors the role into separate configure.yml and run.yml task\nfiles so that the tasks can be run separately. main.yml includes both\nnew task files for backwards compatibility.\n\nChange-Id: I48c86a62d897eb3c77935600905d72f256b6b99a\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",7,842234,dc00ba7b9b5e30575e670a251c2c00f3559efff3,68,6,16,7144,,,0,"tripleo_timezone: update for standalone roles

Refactors the role into separate configure.yml and run.yml task
files so that the tasks can be run separately. main.yml includes both
new task files for backwards compatibility.

Change-Id: I48c86a62d897eb3c77935600905d72f256b6b99a
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/34/842234/16 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_timezone/tasks/run.yml', 'tripleo_ansible/roles/tripleo_timezone/tasks/main.yml', 'tripleo_ansible/playbooks/deploy-tripleo-os-run.yaml', 'tripleo_ansible/playbooks/deploy-tripleo-os-configure.yaml', 'tripleo_ansible/roles/tripleo_timezone/tasks/configure.yml']",5,680c01afc6d6399e3e58e1c0d4255aeee0478077,standalone-roles,"--- # Copyright 2022 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Set timezone timezone: name: ""{{ tripleo_timezone }}"" register: _timezone_result - name: Set fact for timezone result set_fact: _timezone_result_changed: _timezone_result.changed ",,65,17
openstack%2Fdesignate~stable%2Fwallaby~If7aa4f2172b07a3538f3aea3a7df5a291d8c93b1,openstack/designate,stable/wallaby,If7aa4f2172b07a3538f3aea3a7df5a291d8c93b1,Restrict virtualenv to avoid suds-jurko dep issue,NEW,2022-10-11 16:26:43.000000000,2022-10-17 18:07:27.000000000,,"[{'_account_id': 13252}, {'_account_id': 18551}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-11 16:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e128fd7622dcc09f7de709818c7f6dd19cc29660', 'message': 'Restrict virtualenv to avoid suds-jurko dep issue\n\nSince an unconstrained virtualenv can cause breakage in CI systems\nusing much later versions of packages, constrain it in tox.ini.\nThis resolves an issue for stable/wallaby that was later resolved in\nyoga [1] without requiring an invasive backport.\n\n[1] https://review.opendev.org/c/openstack/designate/+/813380\n\nChange-Id: If7aa4f2172b07a3538f3aea3a7df5a291d8c93b1\n'}, {'number': 2, 'created': '2022-10-11 16:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/469fb33a415ec895e72a3343cbf3255db401d14f', 'message': 'Restrict virtualenv to avoid suds-jurko dep issue\n\nSince an unconstrained virtualenv can cause breakage in CI systems\nusing much later versions of packages, constrain it in tox.ini.\nThis resolves an issue for stable/wallaby that was later resolved in\nyoga [1] without requiring an invasive backport.\n\nThis also implies a bump of tox version to one released in 2018.\n\n[1] https://review.opendev.org/c/openstack/designate/+/813380\n\nChange-Id: If7aa4f2172b07a3538f3aea3a7df5a291d8c93b1\n'}, {'number': 3, 'created': '2022-10-11 18:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/ea8c75fe28fe810365edb85181dc3f616869e6ea', 'message': 'Restrict virtualenv to avoid suds-jurko dep issue\n\nSince an unconstrained virtualenv can cause breakage in downstream\nCI systems using much later versions of packages, constrain it in\ntox.ini.  This resolves an issue for stable/wallaby that was later\nresolved in yoga [1] without requiring an invasive backport.\n\nThis also implies a bump of tox version to one released in 2018.\n\n[1] https://review.opendev.org/c/openstack/designate/+/813380\n\nChange-Id: If7aa4f2172b07a3538f3aea3a7df5a291d8c93b1\n'}, {'number': 4, 'created': '2022-10-13 16:05:02.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/designate/commit/2559524b710c6c85afc7915765c8eaff04b3392b', 'message': 'Restrict virtualenv to avoid suds-jurko dep issue\n\nSince an unconstrained virtualenv can cause breakage in downstream\nCI systems using much later versions of packages, constrain it in\ntox.ini.  This resolves an issue for stable/wallaby that was later\nresolved in yoga [1] without requiring an invasive backport.\n\nThis also implies a bump of tox version to one released in 2018.\n\n[1] https://review.opendev.org/c/openstack/designate/+/813380\n\nChange-Id: If7aa4f2172b07a3538f3aea3a7df5a291d8c93b1\nCloses-Bug: #1992825\n'}]",14,860964,2559524b710c6c85afc7915765c8eaff04b3392b,21,3,4,13995,,,0,"Restrict virtualenv to avoid suds-jurko dep issue

Since an unconstrained virtualenv can cause breakage in downstream
CI systems using much later versions of packages, constrain it in
tox.ini.  This resolves an issue for stable/wallaby that was later
resolved in yoga [1] without requiring an invasive backport.

This also implies a bump of tox version to one released in 2018.

[1] https://review.opendev.org/c/openstack/designate/+/813380

Change-Id: If7aa4f2172b07a3538f3aea3a7df5a291d8c93b1
Closes-Bug: #1992825
",git fetch https://review.opendev.org/openstack/designate refs/changes/64/860964/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e128fd7622dcc09f7de709818c7f6dd19cc29660,,requires = virtualenv<20.8,,1,0
openstack%2Ftripleo-ansible~master~Ie0800811b63205e327aa8e568c33ac8b829555e7,openstack/tripleo-ansible,master,Ie0800811b63205e327aa8e568c33ac8b829555e7,Template RBD Multi Config map correctly in tripleo_nova_compute,MERGED,2022-10-10 20:02:48.000000000,2022-10-17 17:36:54.000000000,2022-10-17 17:36:54.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-10-10 20:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f734973d7bcff5bbcc412dfe484427d1566934b9', 'message': ""Template RBD Multi Config map correctly in tripleo_nova_compute\n\nUpdate tripleo_nova_compute role's jinja2 template to handle\ndictionary structure for tripleo_cinder_rbd_multi_config, and\nsimilar, as found in the tripleo_nova_libvirt role.\n\nChange-Id: Ie0800811b63205e327aa8e568c33ac8b829555e7\n""}, {'number': 2, 'created': '2022-10-10 20:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0923de221c2c6eda9abcb1f3b57a115cd97cff1c', 'message': ""Template RBD Multi Config map correctly in tripleo_nova_compute\n\nUpdate tripleo_nova_compute role's jinja2 template to handle\ndictionary structure for tripleo_cinder_rbd_multi_config, and\nsimilar, as found in the tripleo_nova_libvirt role.\n\nChange-Id: Ie0800811b63205e327aa8e568c33ac8b829555e7\n""}, {'number': 3, 'created': '2022-10-12 17:04:06.000000000', 'files': ['tripleo_ansible/roles/tripleo_nova_compute/templates/kolla_config/nova_compute.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0d10e97f34e30e6594da3bd8ee5d1a73512eefe1', 'message': ""Template RBD Multi Config map correctly in tripleo_nova_compute\n\nUpdate tripleo_nova_compute role's jinja2 template to handle\ndictionary structure for tripleo_cinder_rbd_multi_config, and\nsimilar, as found in the tripleo_nova_libvirt role.\n\nChange-Id: Ie0800811b63205e327aa8e568c33ac8b829555e7\n""}]",17,860873,0d10e97f34e30e6594da3bd8ee5d1a73512eefe1,29,7,3,18002,,,0,"Template RBD Multi Config map correctly in tripleo_nova_compute

Update tripleo_nova_compute role's jinja2 template to handle
dictionary structure for tripleo_cinder_rbd_multi_config, and
similar, as found in the tripleo_nova_libvirt role.

Change-Id: Ie0800811b63205e327aa8e568c33ac8b829555e7
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/73/860873/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_nova_compute/templates/kolla_config/nova_compute.yaml.j2'],1,f734973d7bcff5bbcc412dfe484427d1566934b9,standalone-roles,"{%- for key, store in tripleo_nova_compute_glance_multistore_config.items() %}{%- for key, store in tripleo_nova_compute_cinder_rbd_multi_config.items() %}",{%- for store in tripleo_nova_compute_glance_multistore_config %}{%- for store in tripleo_nova_compute_cinder_rbd_multi_config %},2,2
openstack%2Fopenstack-ansible-os_barbican~stable%2Fvictoria~Idb18be0c51927bdf103f40ac6b9f41749c11c84d,openstack/openstack-ansible-os_barbican,stable/victoria,Idb18be0c51927bdf103f40ac6b9f41749c11c84d,Rename TLSv1.0 to TLSv1 in apache config,ABANDONED,2022-09-14 18:00:52.000000000,2022-10-17 17:33:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-09-14 18:00:52.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/3afdb806a2abd404a7b6a479fd3c55af82d9ac6b', 'message': ""Rename TLSv1.0 to TLSv1 in apache config\n\nAccording to the apache2 documentation [1], TLSv1.0 is not a valid\noption and may lead to an error:\n\nSSLProtocol: Illegal protocol 'TLSv1.0'\n\n[1] https://httpd.apache.org/docs/2.4/mod/mod_ssl.html#SSLProtocol\n\nChange-Id: Idb18be0c51927bdf103f40ac6b9f41749c11c84d\n""}]",0,857755,3afdb806a2abd404a7b6a479fd3c55af82d9ac6b,3,1,1,32666,,,0,"Rename TLSv1.0 to TLSv1 in apache config

According to the apache2 documentation [1], TLSv1.0 is not a valid
option and may lead to an error:

SSLProtocol: Illegal protocol 'TLSv1.0'

[1] https://httpd.apache.org/docs/2.4/mod/mod_ssl.html#SSLProtocol

Change-Id: Idb18be0c51927bdf103f40ac6b9f41749c11c84d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/55/857755/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,3afdb806a2abd404a7b6a479fd3c55af82d9ac6b,TLSv1.0,"barbican_ssl_protocol: ""{{ ssl_protocol | default('ALL -SSLv2 -SSLv3 -TLSv1 -TLSv1.1') }}""","barbican_ssl_protocol: ""{{ ssl_protocol | default('ALL -SSLv2 -SSLv3 -TLSv1.0 -TLSv1.1') }}""",1,1
openstack%2Fopenstack-ansible-os_barbican~stable%2Fxena~I8b2ee0fc88dda726b578deb4f6428fc0fcdbe477,openstack/openstack-ansible-os_barbican,stable/xena,I8b2ee0fc88dda726b578deb4f6428fc0fcdbe477,Rename TLSv1.0 to TLSv1 in apache config,ABANDONED,2022-09-14 17:59:43.000000000,2022-10-17 17:33:45.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-09-14 17:59:43.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/d21b6b7750ee9e820a98fd5198dbb13b0d632cc9', 'message': ""Rename TLSv1.0 to TLSv1 in apache config\n\nAccording to the apache2 documentation [1], TLSv1.0 is not a valid\noption and may lead to an error:\n\nSSLProtocol: Illegal protocol 'TLSv1.0'\n\n[1] https://httpd.apache.org/docs/2.4/mod/mod_ssl.html#SSLProtocol\n\nChange-Id: I8b2ee0fc88dda726b578deb4f6428fc0fcdbe477\n""}]",2,857753,d21b6b7750ee9e820a98fd5198dbb13b0d632cc9,7,3,1,32666,,,0,"Rename TLSv1.0 to TLSv1 in apache config

According to the apache2 documentation [1], TLSv1.0 is not a valid
option and may lead to an error:

SSLProtocol: Illegal protocol 'TLSv1.0'

[1] https://httpd.apache.org/docs/2.4/mod/mod_ssl.html#SSLProtocol

Change-Id: I8b2ee0fc88dda726b578deb4f6428fc0fcdbe477
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/53/857753/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,d21b6b7750ee9e820a98fd5198dbb13b0d632cc9,TLSv1.0,"barbican_ssl_protocol: ""{{ ssl_protocol | default('ALL -SSLv2 -SSLv3 -TLSv1 -TLSv1.1') }}""","barbican_ssl_protocol: ""{{ ssl_protocol | default('ALL -SSLv2 -SSLv3 -TLSv1.0 -TLSv1.1') }}""",1,1
openstack%2Fproject-config~master~I70002c502de77da66064c86c663a3591c01872cb,openstack/project-config,master,I70002c502de77da66064c86c663a3591c01872cb,Update StarlingX docs promote job for R7 release,MERGED,2022-10-17 16:50:34.000000000,2022-10-17 17:23:11.000000000,2022-10-17 17:23:11.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-17 16:50:34.000000000', 'files': ['zuul.d/starlingx-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3b27e74eed2d47d6634df485f990df86a9b40a15', 'message': 'Update StarlingX docs promote job for R7 release\n\nAdds r/stx.7.0 to the list of branches to promote for\nStarlingX docs.\n\nSigned-off-by: Ron Stone <ronald.stone@windriver.com>\nChange-Id: I70002c502de77da66064c86c663a3591c01872cb\n'}]",0,861651,3b27e74eed2d47d6634df485f990df86a9b40a15,8,3,1,30539,,,0,"Update StarlingX docs promote job for R7 release

Adds r/stx.7.0 to the list of branches to promote for
StarlingX docs.

Signed-off-by: Ron Stone <ronald.stone@windriver.com>
Change-Id: I70002c502de77da66064c86c663a3591c01872cb
",git fetch https://review.opendev.org/openstack/project-config refs/changes/51/861651/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/starlingx-jobs.yaml'],1,3b27e74eed2d47d6634df485f990df86a9b40a15,update-starlingx-jobs, - r/stx.7.0,,1,0
openstack%2Fswift~master~If69ae0f8eac8fe8ff7d5e4f4f1bff6d0ea9e7a8b,openstack/swift,master,If69ae0f8eac8fe8ff7d5e4f4f1bff6d0ea9e7a8b,py2constraints: pin PasteDeploy version,MERGED,2022-10-17 08:48:30.000000000,2022-10-17 17:15:33.000000000,2022-10-17 17:14:29.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-17 08:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5b371d05c9ea2da845003a6dccbd3adc373e0b49', 'message': 'requirements.txt: cap maximum PasteDeploy version\n\nPasteDeploy version 3.0 (2022-10-16) dropped support for python2 (as\nwell as <3.7), which causes our py2 tests to fail. So cap the version\nhere at 2.1.1, the last which is compatible with our tests.\n\nChange-Id: If69ae0f8eac8fe8ff7d5e4f4f1bff6d0ea9e7a8b\nSigned-off-by: Matthew Vernon <mvernon@wikimedia.org>\n'}, {'number': 2, 'created': '2022-10-17 11:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8d5e68511765330ecca1ce085678770c5c996814', 'message': 'py2constraints: pin PasteDeploy version\n\nPasteDeploy version 3.0 (2022-10-16) dropped support for python2 (as\nwell as <3.7), which causes our py2 tests to fail. So cap the version\nhere at 2.1.1, the last which is compatible with our tests.\n\nChange-Id: If69ae0f8eac8fe8ff7d5e4f4f1bff6d0ea9e7a8b\nSigned-off-by: Matthew Vernon <mvernon@wikimedia.org>\n'}, {'number': 3, 'created': '2022-10-17 12:45:24.000000000', 'files': ['tools/playbooks/common/install_dependencies.yaml', 'py2-constraints.txt'], 'web_link': 'https://opendev.org/openstack/swift/commit/cc033154ad4a4f345258457f3ceed9143fb3d46d', 'message': ""py2constraints: pin PasteDeploy version\n\nPasteDeploy version 3.0 (2022-10-16) dropped support for python2 (as\nwell as <3.7), which causes our py2 tests to fail. So cap the version\nhere at 2.1.1, the last which is compatible with our tests.\n\nEven doing this doesn't stop pip install swift pulling in a newer\nPasteDeploy in the\ntools/playbooks/saio_single_node_setup/make_rings.yaml playbook\n(causing the probes test on CentOS-7 to fail); so handle CentOS 7\nexplicitly.\n\nChange-Id: If69ae0f8eac8fe8ff7d5e4f4f1bff6d0ea9e7a8b\nSigned-off-by: Matthew Vernon <mvernon@wikimedia.org>\n""}]",1,861583,cc033154ad4a4f345258457f3ceed9143fb3d46d,14,2,3,34175,,,0,"py2constraints: pin PasteDeploy version

PasteDeploy version 3.0 (2022-10-16) dropped support for python2 (as
well as <3.7), which causes our py2 tests to fail. So cap the version
here at 2.1.1, the last which is compatible with our tests.

Even doing this doesn't stop pip install swift pulling in a newer
PasteDeploy in the
tools/playbooks/saio_single_node_setup/make_rings.yaml playbook
(causing the probes test on CentOS-7 to fail); so handle CentOS 7
explicitly.

Change-Id: If69ae0f8eac8fe8ff7d5e4f4f1bff6d0ea9e7a8b
Signed-off-by: Matthew Vernon <mvernon@wikimedia.org>
",git fetch https://review.opendev.org/openstack/swift refs/changes/83/861583/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,5b371d05c9ea2da845003a6dccbd3adc373e0b49,PasteDeployVersion,"PasteDeploy>=2.0.0, <=2.1.1",PasteDeploy>=2.0.0,1,1
openstack%2Fansible-role-chrony~master~I42c65495e51ecd24447341f1c1c4f02f88be5efe,openstack/ansible-role-chrony,master,I42c65495e51ecd24447341f1c1c4f02f88be5efe,Sync defaults for chrony with tripleo-heat-templates,MERGED,2022-10-13 11:53:46.000000000,2022-10-17 17:03:43.000000000,2022-10-17 17:03:43.000000000,"[{'_account_id': 6926}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-10-13 11:53:46.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-chrony/commit/62654c88fa323b96f24cb125e8422982c05df6bf', 'message': 'Sync defaults for chrony with tripleo-heat-templates\n\nUse the same defaults in the chrony role that are set when we use the\nrole from tripleo-heat-templates:\nhttps://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/timesync/chrony-baremetal-ansible.yaml\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I42c65495e51ecd24447341f1c1c4f02f88be5efe\n'}]",5,861171,62654c88fa323b96f24cb125e8422982c05df6bf,10,4,1,7144,,,0,"Sync defaults for chrony with tripleo-heat-templates

Use the same defaults in the chrony role that are set when we use the
role from tripleo-heat-templates:
https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/timesync/chrony-baremetal-ansible.yaml

Signed-off-by: James Slagle <jslagle@redhat.com>
Change-Id: I42c65495e51ecd24447341f1c1c4f02f88be5efe
",git fetch https://review.opendev.org/openstack/ansible-role-chrony refs/changes/71/861171/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,62654c88fa323b96f24cb125e8422982c05df6bf,standalone-roles,chrony_global_server_settings: iburst minpoll 6 maxpoll 10 chrony_global_pool_settings: iburst minpoll 6 maxpoll 10 chrony_ntp_servers: - '0.pool.ntp.org' - '1.pool.ntp.org' - '2.pool.ntp.org' - '3.pool.ntp.org' chrony_ntp_pools: []chrony_acl_rules: ['deny all'],chrony_global_server_settings: iburst chrony_ntp_servers: [] chrony_ntp_pools: ['pool.ntp.org']chrony_acl_rules: [],9,4
openstack%2Fheat~master~I93ee6561f68ba22ecbe82b0435d087a2a3f3015b,openstack/heat,master,I93ee6561f68ba22ecbe82b0435d087a2a3f3015b,Filter floating ips by port id in server addresses,NEW,2022-10-13 13:46:50.000000000,2022-10-17 16:56:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-10-13 13:46:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/45ad05acef3f8e5a1b87812d5a4c5ff28696046a', 'message': 'Filter floating ips by port id in server addresses\n\nthis is followup to I1b9293041f2ad92eac0e9bc9646e7b2d7c6f7fd0\n\nFiltering by fixed ip address used in server addresses attribute resolution\nis suboptimal.\nIt may lead to false positives since different floating ips in the same\nproject may have the same fixed ip, just from different networks.\n\nChange-Id: I93ee6561f68ba22ecbe82b0435d087a2a3f3015b\nStory: 2010364\nTask: 46557\n'}, {'number': 2, 'created': '2022-10-17 14:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/710696315e4269613b0b821266ca9a3386f70e08', 'message': 'Filter floating ips by port id in server addresses\n\nthis is followup to I1b9293041f2ad92eac0e9bc9646e7b2d7c6f7fd0\n\nFiltering by fixed ip address used in server addresses attribute resolution\nis suboptimal.\nIt may lead to false positives since different floating ips in the same\nproject may have the same fixed ip, just from different networks.\n\nChange-Id: I93ee6561f68ba22ecbe82b0435d087a2a3f3015b\nStory: 2010364\nTask: 46557\n'}, {'number': 3, 'created': '2022-10-17 15:44:35.000000000', 'files': ['heat/engine/resources/openstack/nova/server.py', 'heat/tests/openstack/nova/test_server.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/c040dd5ddc6375d47998ffc275f9f7fbe423e468', 'message': 'Filter floating ips by port id in server addresses\n\nthis is followup to I1b9293041f2ad92eac0e9bc9646e7b2d7c6f7fd0\n\nFiltering by fixed ip address used in server addresses attribute resolution\nis suboptimal.\nIt may lead to false positives since different floating ips in the same\nproject may have the same fixed ip, just from different networks.\n\nChange-Id: I93ee6561f68ba22ecbe82b0435d087a2a3f3015b\nStory: 2010364\nTask: 46557\n'}]",0,861183,c040dd5ddc6375d47998ffc275f9f7fbe423e468,8,1,3,9542,,,0,"Filter floating ips by port id in server addresses

this is followup to I1b9293041f2ad92eac0e9bc9646e7b2d7c6f7fd0

Filtering by fixed ip address used in server addresses attribute resolution
is suboptimal.
It may lead to false positives since different floating ips in the same
project may have the same fixed ip, just from different networks.

Change-Id: I93ee6561f68ba22ecbe82b0435d087a2a3f3015b
Story: 2010364
Task: 46557
",git fetch https://review.opendev.org/openstack/heat refs/changes/83/861183/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/nova/server.py'],1,45ad05acef3f8e5a1b87812d5a4c5ff28696046a,filter-fip-by-port, port_id=addr['port']), fixed_ip_address=addr['addr']),1,1
openstack%2Fcloudkitty~stable%2Fzed~Ia6f12151be829be6d2f21b3536536697345e05f4,openstack/cloudkitty,stable/zed,Ia6f12151be829be6d2f21b3536536697345e05f4,[docs] Install cloudkitty requirements using constraints,MERGED,2022-10-07 08:17:32.000000000,2022-10-17 16:41:36.000000000,2022-10-17 16:40:38.000000000,"[{'_account_id': 22348}, {'_account_id': 25277}, {'_account_id': 28356}]","[{'number': 1, 'created': '2022-10-07 08:17:32.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/12a84c544294fff2f65cbffefe87683ba09758ed', 'message': '[docs] Install cloudkitty requirements using constraints\n\nThe deps configuration for the docs environment only uses upper\nconstraints for doc/requirements.txt. However, cloudkitty also gets\ninstalled automatically without upper constraints, which produces\nvarious errors on older branches.\n\nInstall cloudkitty requirements using constraints to fix this issue.\n\nChange-Id: Ia6f12151be829be6d2f21b3536536697345e05f4\n(cherry picked from commit 386f086a8bed7ee7ce4fdf4e106c1b138d7e7ab8)\n'}]",0,860640,12a84c544294fff2f65cbffefe87683ba09758ed,8,3,1,15197,,,0,"[docs] Install cloudkitty requirements using constraints

The deps configuration for the docs environment only uses upper
constraints for doc/requirements.txt. However, cloudkitty also gets
installed automatically without upper constraints, which produces
various errors on older branches.

Install cloudkitty requirements using constraints to fix this issue.

Change-Id: Ia6f12151be829be6d2f21b3536536697345e05f4
(cherry picked from commit 386f086a8bed7ee7ce4fdf4e106c1b138d7e7ab8)
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/40/860640/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,12a84c544294fff2f65cbffefe87683ba09758ed,, -r{toxinidir}/requirements.txt,,1,0
openstack%2Fcloudkitty~stable%2Fyoga~Ia6f12151be829be6d2f21b3536536697345e05f4,openstack/cloudkitty,stable/yoga,Ia6f12151be829be6d2f21b3536536697345e05f4,[docs] Install cloudkitty requirements using constraints,MERGED,2022-10-07 08:18:37.000000000,2022-10-17 16:38:26.000000000,2022-10-17 16:37:20.000000000,"[{'_account_id': 22348}, {'_account_id': 25277}, {'_account_id': 28356}]","[{'number': 1, 'created': '2022-10-07 08:18:37.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/221a5caa56e0bfc795278f54a56167d95efd9e62', 'message': '[docs] Install cloudkitty requirements using constraints\n\nThe deps configuration for the docs environment only uses upper\nconstraints for doc/requirements.txt. However, cloudkitty also gets\ninstalled automatically without upper constraints, which produces\nvarious errors on older branches.\n\nInstall cloudkitty requirements using constraints to fix this issue.\n\nChange-Id: Ia6f12151be829be6d2f21b3536536697345e05f4\n(cherry picked from commit 386f086a8bed7ee7ce4fdf4e106c1b138d7e7ab8)\n'}]",0,860641,221a5caa56e0bfc795278f54a56167d95efd9e62,8,3,1,15197,,,0,"[docs] Install cloudkitty requirements using constraints

The deps configuration for the docs environment only uses upper
constraints for doc/requirements.txt. However, cloudkitty also gets
installed automatically without upper constraints, which produces
various errors on older branches.

Install cloudkitty requirements using constraints to fix this issue.

Change-Id: Ia6f12151be829be6d2f21b3536536697345e05f4
(cherry picked from commit 386f086a8bed7ee7ce4fdf4e106c1b138d7e7ab8)
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/41/860641/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,221a5caa56e0bfc795278f54a56167d95efd9e62,, -r{toxinidir}/requirements.txt,,1,0
openstack%2Fcloudkitty~stable%2Fxena~Ia6f12151be829be6d2f21b3536536697345e05f4,openstack/cloudkitty,stable/xena,Ia6f12151be829be6d2f21b3536536697345e05f4,[docs] Install cloudkitty requirements using constraints,MERGED,2022-10-07 08:26:48.000000000,2022-10-17 16:33:19.000000000,2022-10-17 16:31:43.000000000,"[{'_account_id': 22348}, {'_account_id': 25277}, {'_account_id': 28356}]","[{'number': 1, 'created': '2022-10-07 08:26:48.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/502e42154aa75d67fb823c362577712fe3b6971d', 'message': '[docs] Install cloudkitty requirements using constraints\n\nThe deps configuration for the docs environment only uses upper\nconstraints for doc/requirements.txt. However, cloudkitty also gets\ninstalled automatically without upper constraints, which produces\nvarious errors on older branches.\n\nInstall cloudkitty requirements using constraints to fix this issue.\n\nChange-Id: Ia6f12151be829be6d2f21b3536536697345e05f4\n(cherry picked from commit 386f086a8bed7ee7ce4fdf4e106c1b138d7e7ab8)\n'}]",0,860645,502e42154aa75d67fb823c362577712fe3b6971d,8,3,1,15197,,,0,"[docs] Install cloudkitty requirements using constraints

The deps configuration for the docs environment only uses upper
constraints for doc/requirements.txt. However, cloudkitty also gets
installed automatically without upper constraints, which produces
various errors on older branches.

Install cloudkitty requirements using constraints to fix this issue.

Change-Id: Ia6f12151be829be6d2f21b3536536697345e05f4
(cherry picked from commit 386f086a8bed7ee7ce4fdf4e106c1b138d7e7ab8)
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/45/860645/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,502e42154aa75d67fb823c362577712fe3b6971d,, -r{toxinidir}/requirements.txt,,1,0
openstack%2Ftripleo-heat-templates~master~I74040e12503961d286a00b9e011831e77cac835b,openstack/tripleo-heat-templates,master,I74040e12503961d286a00b9e011831e77cac835b,Drop legacy networking resources,MERGED,2022-09-28 06:32:38.000000000,2022-10-17 16:32:56.000000000,2022-10-17 16:32:56.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-09-28 06:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/945434e1e074a7c07c58f99b5d26d1c5fdfcfd2f', 'message': 'Drop legacy networking resources\n\nThe legacy networking method is no longer allowed. Thus we can remove\nresources for the old method now.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/859517\nDepends-on: https://review.opendev.org/c/openstack/tripleo-common/+/859518\nChange-Id: I74040e12503961d286a00b9e011831e77cac835b\n'}, {'number': 2, 'created': '2022-09-28 06:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/de5abd607636a574d4254ed8298df3a2e6f27ac4', 'message': 'Drop legacy networking resources\n\nThis change removes the resources and implementations for the legacy\nnetworking method by OS::TripleO::{{role.name}}::Net::SoftwareConfig\nresource types, because now the new ansible implementation is used by\ndefault.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/859517\nDepends-on: https://review.opendev.org/c/openstack/tripleo-common/+/859518\nChange-Id: I74040e12503961d286a00b9e011831e77cac835b\n'}, {'number': 3, 'created': '2022-09-29 00:41:11.000000000', 'files': ['overcloud-resource-registry-puppet.j2.yaml', 'overcloud.j2.yaml', 'common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2090ef676f10bccd9d1b4401edf7a16828c89cc5', 'message': 'Drop legacy networking resources\n\nThis change removes the resources and implementations for the legacy\nnetworking method by OS::TripleO::{{role.name}}::Net::SoftwareConfig\nresource types, because now the new ansible implementation is used by\ndefault.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/859517\nDepends-on: https://review.opendev.org/c/openstack/tripleo-common/+/859518\nChange-Id: I74040e12503961d286a00b9e011831e77cac835b\n'}]",4,859520,2090ef676f10bccd9d1b4401edf7a16828c89cc5,26,5,3,9816,,,0,"Drop legacy networking resources

This change removes the resources and implementations for the legacy
networking method by OS::TripleO::{{role.name}}::Net::SoftwareConfig
resource types, because now the new ansible implementation is used by
default.

Depends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/859517
Depends-on: https://review.opendev.org/c/openstack/tripleo-common/+/859518
Change-Id: I74040e12503961d286a00b9e011831e77cac835b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/20/859520/1 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud-resource-registry-puppet.j2.yaml', 'overcloud.j2.yaml', 'common/deploy-steps.j2']",3,945434e1e074a7c07c58f99b5d26d1c5fdfcfd2f,remove-legacy-networking,," - name: Check NetworkConfig script existence delegate_to: localhost stat: path: ""{{ tripleo_role_name ~ '/NetworkConfig' }}"" register: NetworkConfig_stat when: not tripleo_network_config_with_ansible tripleo_network_config_script_path: ""{{ NetworkConfig_stat.stat.path }}"" when: - tripleo_network_config_with_ansible or NetworkConfig_stat.stat.exists",0,69
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I0c017d022fbad9a8f99e5f27a7245f84de483950,openstack/tripleo-heat-templates,stable/wallaby,I0c017d022fbad9a8f99e5f27a7245f84de483950,"Fix kill-script search string to match any ""/libpod-""",MERGED,2022-10-04 08:40:26.000000000,2022-10-17 16:32:52.000000000,2022-10-17 16:32:52.000000000,"[{'_account_id': 6681}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-10-04 08:40:26.000000000', 'files': ['deployment/neutron/kill-script'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bd135e1dbdd430c739197566aa311b7c345162aa', 'message': 'Fix kill-script search string to match any ""/libpod-""\n\nIn order to find the container hash, the ""/proc/$PID/cgroup"" file will\nreturn several lines, some of them with the patterns:\n  .*/libpod-<container_ID>.scope\n  .*/libpod-conmon-<container_ID>.scope\n\nThe search pattern should look for ""/libpod-"" and the rest of the\nexpression will extract the container ID. That will prevent the\nissue reported in the related bug, when the ""pids:..."" line does\nnot contain this information.\n\nChange-Id: I0c017d022fbad9a8f99e5f27a7245f84de483950\nCloses-Bug: #1990990\n(cherry picked from commit 3e983806e0979d6b9a86a61eded878ecf648f6c8)\n'}]",2,860219,bd135e1dbdd430c739197566aa311b7c345162aa,17,6,1,16688,,,0,"Fix kill-script search string to match any ""/libpod-""

In order to find the container hash, the ""/proc/$PID/cgroup"" file will
return several lines, some of them with the patterns:
  .*/libpod-<container_ID>.scope
  .*/libpod-conmon-<container_ID>.scope

The search pattern should look for ""/libpod-"" and the rest of the
expression will extract the container ID. That will prevent the
issue reported in the related bug, when the ""pids:..."" line does
not contain this information.

Change-Id: I0c017d022fbad9a8f99e5f27a7245f84de483950
Closes-Bug: #1990990
(cherry picked from commit 3e983806e0979d6b9a86a61eded878ecf648f6c8)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/19/860219/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/kill-script'],1,bd135e1dbdd430c739197566aa311b7c345162aa,bug/1990990," CT_ID=$(awk 'BEGIN {FS="".scope|-""} /\/libpod-/ {if ($(NF-1)) print $(NF-1);exit}' /proc/$PID/cgroup)"," CT_ID=$(awk 'BEGIN {FS="".scope|-""} /0::|:pids:/ {if ($(NF-1)) print $(NF-1);exit}' /proc/$PID/cgroup)",1,1
openstack%2Fcharm-ops-sunbeam~main~I127b978d302e78eab0c8c678a385e581ace25b26,openstack/charm-ops-sunbeam,main,I127b978d302e78eab0c8c678a385e581ace25b26,Fix incorrect import from sunbeam_ovn_central_operator,MERGED,2022-10-17 15:40:35.000000000,2022-10-17 16:09:41.000000000,2022-10-17 16:09:41.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-17 15:40:35.000000000', 'files': ['ops_sunbeam/ovn/relation_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-ops-sunbeam/commit/1f6253eff261e64eecdd0cfe9477f6c7ded35ba2', 'message': 'Fix incorrect import from sunbeam_ovn_central_operator\n\n-> ovn_central_k8s\n\nChange-Id: I127b978d302e78eab0c8c678a385e581ace25b26\n'}]",0,861647,1f6253eff261e64eecdd0cfe9477f6c7ded35ba2,6,2,1,935,,,0,"Fix incorrect import from sunbeam_ovn_central_operator

-> ovn_central_k8s

Change-Id: I127b978d302e78eab0c8c678a385e581ace25b26
",git fetch https://review.opendev.org/openstack/charm-ops-sunbeam refs/changes/47/861647/1 && git format-patch -1 --stdout FETCH_HEAD,['ops_sunbeam/ovn/relation_handlers.py'],1,1f6253eff261e64eecdd0cfe9477f6c7ded35ba2,fix-missed-import, import charms.ovn_central_k8s.v0.ovsdb as ovsdb, import charms.sunbeam_ovn_central_operator.v0.ovsdb as ovsdb,1,1
openstack%2Fcharm-zuul-jobs~master~I36a9873abc6579167961ccb82ab0516a178155cd,openstack/charm-zuul-jobs,master,I36a9873abc6579167961ccb82ab0516a178155cd,Fix post step by switching to bash,MERGED,2022-10-17 15:38:45.000000000,2022-10-17 16:08:23.000000000,2022-10-17 16:08:23.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-17 15:38:45.000000000', 'files': ['playbooks/microk8s-juju-post.yaml'], 'web_link': 'https://opendev.org/openstack/charm-zuul-jobs/commit/e04e796e4bd403cb93a108e1af5bdd4200b3150c', 'message': 'Fix post step by switching to bash\n\npipefail needs bash so switch to bash from dash\n\nChange-Id: I36a9873abc6579167961ccb82ab0516a178155cd\n'}]",0,861646,e04e796e4bd403cb93a108e1af5bdd4200b3150c,6,2,1,12549,,,0,"Fix post step by switching to bash

pipefail needs bash so switch to bash from dash

Change-Id: I36a9873abc6579167961ccb82ab0516a178155cd
",git fetch https://review.opendev.org/openstack/charm-zuul-jobs refs/changes/46/861646/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/microk8s-juju-post.yaml'],1,e04e796e4bd403cb93a108e1af5bdd4200b3150c,fix-pipefail, args: executable: /bin/bash args: executable: /bin/bash,,4,0
openstack%2Fpython-aodhclient~stable%2Fyoga~Ia11f25fa8c36c6051a44994f2545e2b64a665593,openstack/python-aodhclient,stable/yoga,Ia11f25fa8c36c6051a44994f2545e2b64a665593,Change aggregation method to mean,MERGED,2022-10-12 11:31:21.000000000,2022-10-17 15:20:44.000000000,2022-10-17 15:19:38.000000000,"[{'_account_id': 4264}, {'_account_id': 7294}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-12 11:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/c5adadd7c5eaeacfdc130c311ef86bf34127826f', 'message': 'Unblock the gate and update python testing\n\n\nThis combines two commits in one\n\n* Change aggregation method to mean\n\nCommit 6061286c3133a4b85c4a72160960ecf6a82d02f8 handles\nignoring gnocchi api error when metric is not created.\nHowever there are functional test failures when the\naggregation method is set to last for alarm type\ngnocchi_aggregation_by_resources_threshold,\n\nThis fix changes the aggregration method to mean for\nany create/update of alarm type\ngnocchi_aggregation_by_resources_threshold.\n\n* Update python testing as per zed cycle testing runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Add release notes and update the python\nclassifier for the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nCo-Authored-By: Ghanshyam Mann <gmann@ghanshyammann.com>\n\nDepends-On: https://review.opendev.org/c/openstack/aodh/+/843764\nChange-Id: Ia11f25fa8c36c6051a44994f2545e2b64a665593\nCloses-Bug: #1974682\n(cherry picked from commit d656c191131e20bb634e4eeb6d074bc32a6df60f)\n'}, {'number': 2, 'created': '2022-10-12 11:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/1d1e7f577c81027c54bc86855810d9eeec5b98f3', 'message': 'Change aggregation method to mean\n\nCommit 2ad64b04e858565fb830ba207841b70edf5ff347 handles\nignoring gnocchi api error when metric is not created.\nHowever there are functional test failures when the\naggregation method is set to last for alarm type\ngnocchi_aggregation_by_resources_threshold,\n\nThis fix changes the aggregration method to mean for\nany create/update of alarm type\ngnocchi_aggregation_by_resources_threshold.\n\nDepends-On: https://review.opendev.org/c/openstack/aodh/+/845197\nChange-Id: Ia11f25fa8c36c6051a44994f2545e2b64a665593\nCloses-Bug: #1974682\n(cherry picked from commit d656c191131e20bb634e4eeb6d074bc32a6df60f)\n'}, {'number': 3, 'created': '2022-10-14 17:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/468459129aa3bae667a18d94626171f55b397719', 'message': 'Change aggregation method to mean\n\nCommit 2ad64b04e858565fb830ba207841b70edf5ff347 handles\nignoring gnocchi api error when metric is not created.\nHowever there are functional test failures when the\naggregation method is set to last for alarm type\ngnocchi_aggregation_by_resources_threshold,\n\nThis fix changes the aggregration method to mean for\nany create/update of alarm type\ngnocchi_aggregation_by_resources_threshold.\n\nDepends-On: https://review.opendev.org/c/openstack/aodh/+/845197\nChange-Id: Ia11f25fa8c36c6051a44994f2545e2b64a665593\nCloses-Bug: #1974682\n(cherry picked from commit d656c191131e20bb634e4eeb6d074bc32a6df60f)\n'}, {'number': 4, 'created': '2022-10-17 07:03:13.000000000', 'files': ['aodhclient/tests/functional/test_alarm.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/621b4aef88edcb34712c2060a27a9f10431974d7', 'message': 'Change aggregation method to mean\n\nCommit 2ad64b04e858565fb830ba207841b70edf5ff347 handles\nignoring gnocchi api error when metric is not created.\nHowever there are functional test failures when the\naggregation method is set to last for alarm type\ngnocchi_aggregation_by_resources_threshold,\n\nThis fix changes the aggregration method to mean for\nany create/update of alarm type\ngnocchi_aggregation_by_resources_threshold.\n\nDepends-On: https://review.opendev.org/c/openstack/aodh/+/845197\nChange-Id: Ia11f25fa8c36c6051a44994f2545e2b64a665593\nCloses-Bug: #1974682\n(cherry picked from commit d656c191131e20bb634e4eeb6d074bc32a6df60f)\n'}]",4,861051,621b4aef88edcb34712c2060a27a9f10431974d7,23,3,4,32240,,,0,"Change aggregation method to mean

Commit 2ad64b04e858565fb830ba207841b70edf5ff347 handles
ignoring gnocchi api error when metric is not created.
However there are functional test failures when the
aggregation method is set to last for alarm type
gnocchi_aggregation_by_resources_threshold,

This fix changes the aggregration method to mean for
any create/update of alarm type
gnocchi_aggregation_by_resources_threshold.

Depends-On: https://review.opendev.org/c/openstack/aodh/+/845197
Change-Id: Ia11f25fa8c36c6051a44994f2545e2b64a665593
Closes-Bug: #1974682
(cherry picked from commit d656c191131e20bb634e4eeb6d074bc32a6df60f)
",git fetch https://review.opendev.org/openstack/python-aodhclient refs/changes/51/861051/3 && git format-patch -1 --stdout FETCH_HEAD,"['aodhclient/tests/functional/test_alarm.py', '.zuul.yaml', 'releasenotes/notes/drop-python-3-6-and-3-7-c70234384bc69b1d.yaml', 'setup.cfg', 'tox.ini']",5,c5adadd7c5eaeacfdc130c311ef86bf34127826f,,"envlist = py38,py39,pep8","envlist = py38,pep8",19,15
openstack%2Ftripleo-quickstart~master~I79de87e0e210d410b95a865312e4e37b49e53d2c,openstack/tripleo-quickstart,master,I79de87e0e210d410b95a865312e4e37b49e53d2c,Update network related vars for standalone-roles,MERGED,2022-10-14 11:06:02.000000000,2022-10-17 15:08:09.000000000,2022-10-17 15:07:10.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-10-14 11:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4154bdcb2a2a5460fd05ed3325d7002d8aa84ddd', 'message': 'Update network related vars for standalone-roles\n\nDrop neutron_physical_bridge_name var from here\nand use the default one defined in 02-compute inventory[1].\n\nUse tripleo_network_config_template: templates/net_config_bridge.j2\nfor compute services deployment.\n\n[1]. https://review.opendev.org/c/openstack/tripleo-ansible/+/840509\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I79de87e0e210d410b95a865312e4e37b49e53d2c\n'}, {'number': 2, 'created': '2022-10-14 16:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/79f056473ffcbfb9753177fcbd54bf4a1750272c', 'message': ""Update network related vars for standalone-roles\n\nDrop neutron_physical_bridge_name var from here\nand use the default one defined in 02-compute inventory[1].\n\nneutron_public_interface_name: eth0 available in CI, let'use\nthat one.\n\n[1]. https://review.opendev.org/c/openstack/tripleo-ansible/+/840509\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I79de87e0e210d410b95a865312e4e37b49e53d2c\n""}, {'number': 3, 'created': '2022-10-14 17:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/bf83aef259f794ac2f89a9859607da8dd48a23cb', 'message': ""Update network related vars for standalone-roles\n\nDrop neutron_physical_bridge_name var from here\nand use the default one defined in 02-compute inventory[1].\n\nneutron_public_interface_name: eth0 available in CI, let'use\nthat one.\n\n[1]. https://review.opendev.org/c/openstack/tripleo-ansible/+/840509\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I79de87e0e210d410b95a865312e4e37b49e53d2c\n""}, {'number': 4, 'created': '2022-10-14 17:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/675bf1c1e4a5bcfc5644eb4c20d77d472fd0940c', 'message': ""Update network related vars for standalone-roles\n\nDrop neutron_physical_bridge_name var from here\nand use the default one defined in 02-compute inventory[1].\n\nneutron_public_interface_name: eth0 available in CI, let'use\nthat one.\n\n[1]. https://review.opendev.org/c/openstack/tripleo-ansible/+/840509\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I79de87e0e210d410b95a865312e4e37b49e53d2c\n""}, {'number': 5, 'created': '2022-10-17 04:31:15.000000000', 'files': ['config/general_config/featureset053.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/940978f7e6d54e561e0befecbbcde83c7183bd66', 'message': ""Update network related vars for standalone-roles\n\nDrop neutron_physical_bridge_name var from here\nand use the default one defined in 02-compute inventory[1].\n\nneutron_public_interface_name: eth0 available in CI, let'use\nthat one.\n\nUse tripleo_network_config_template: templates/ci/multinode.j2,\nas default one defined in tripleo-ansible[1] leads to ssh connectivity\nfor the vms in CI.\n\n[1]. https://review.opendev.org/c/openstack/tripleo-ansible/+/840509\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I79de87e0e210d410b95a865312e4e37b49e53d2c\n""}]",4,861361,940978f7e6d54e561e0befecbbcde83c7183bd66,19,5,5,12393,,,0,"Update network related vars for standalone-roles

Drop neutron_physical_bridge_name var from here
and use the default one defined in 02-compute inventory[1].

neutron_public_interface_name: eth0 available in CI, let'use
that one.

Use tripleo_network_config_template: templates/ci/multinode.j2,
as default one defined in tripleo-ansible[1] leads to ssh connectivity
for the vms in CI.

[1]. https://review.opendev.org/c/openstack/tripleo-ansible/+/840509

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I79de87e0e210d410b95a865312e4e37b49e53d2c
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/61/861361/4 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset053.yml'],1,4154bdcb2a2a5460fd05ed3325d7002d8aa84ddd,standalone-roles-testing,neutron_public_interface_name: eth0 tripleo_network_config_template: templates/net_config_bridge.j2,neutron_public_interface_name: br-ex neutron_physical_bridge_name: br-ctlplane,2,2
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I0401a9a28d4715073fb929018dfb6daabe836cd8,openstack/tripleo-heat-templates,stable/wallaby,I0401a9a28d4715073fb929018dfb6daabe836cd8,Run nova_wait_for_compute_service only for the default cell deployment,MERGED,2022-10-16 09:35:51.000000000,2022-10-17 15:07:07.000000000,2022-10-17 15:07:07.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-10-16 09:35:51.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bb22e3e5a195571390dfa23ba74cfcfb438fd06e', 'message': 'Run nova_wait_for_compute_service only for the default cell deployment\n\nnova_wait_for_compute_service should not run when deploying an\nadditional cell. For the additional cell scenario we can not run\nthe discovery automatically as the cell first needs to be created.\nTherefore we can also not wait on computes to be registered and\nqueried via the nova api.\n\nThe issue is here [1] where it runs the nova_wait_for_compute_service\nif `{get_param: NovaAdditionalCell}`\n\n            - if:\n                - {get_param: NovaAdditionalCell}\n                - nova_wait_for_compute_service:\n\nNovaAdditionalCell defaults to false as NovaAdditionalCell is the\nspecial case. In train this is if `is_not_additional_cell`\n\n            - if:\n                - is_not_additional_cell\n                - nova_wait_for_compute_service:\n\nThe simplification patch in [3] introduced this difference.\n\nSo in general it seems that nova_wait_for_compute_service is right\nnow only running when deploying an additional cell, which it\nshould not.\n\n[1] https://github.com/openstack/tripleo-heat-templates/blob/stable/wallaby/deployment/nova/nova-compute-container-puppet.yaml#L1412\n[2] https://github.com/openstack/tripleo-heat-templates/blob/stable/train/deployment/nova/nova-compute-container-puppet.yaml#L963\n[3] https://github.com/openstack/tripleo-heat-templates/commit/476e444b8f23488eae2c0fd712bbbb30f34ec5af\n\nChange-Id: I0401a9a28d4715073fb929018dfb6daabe836cd8\n(cherry picked from commit 38dbd331cccb0c47739462ca8261127863b41054)\n'}]",0,861306,bb22e3e5a195571390dfa23ba74cfcfb438fd06e,8,5,1,17216,,,0,"Run nova_wait_for_compute_service only for the default cell deployment

nova_wait_for_compute_service should not run when deploying an
additional cell. For the additional cell scenario we can not run
the discovery automatically as the cell first needs to be created.
Therefore we can also not wait on computes to be registered and
queried via the nova api.

The issue is here [1] where it runs the nova_wait_for_compute_service
if `{get_param: NovaAdditionalCell}`

            - if:
                - {get_param: NovaAdditionalCell}
                - nova_wait_for_compute_service:

NovaAdditionalCell defaults to false as NovaAdditionalCell is the
special case. In train this is if `is_not_additional_cell`

            - if:
                - is_not_additional_cell
                - nova_wait_for_compute_service:

The simplification patch in [3] introduced this difference.

So in general it seems that nova_wait_for_compute_service is right
now only running when deploying an additional cell, which it
should not.

[1] https://github.com/openstack/tripleo-heat-templates/blob/stable/wallaby/deployment/nova/nova-compute-container-puppet.yaml#L1412
[2] https://github.com/openstack/tripleo-heat-templates/blob/stable/train/deployment/nova/nova-compute-container-puppet.yaml#L963
[3] https://github.com/openstack/tripleo-heat-templates/commit/476e444b8f23488eae2c0fd712bbbb30f34ec5af

Change-Id: I0401a9a28d4715073fb929018dfb6daabe836cd8
(cherry picked from commit 38dbd331cccb0c47739462ca8261127863b41054)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/06/861306/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,bb22e3e5a195571390dfa23ba74cfcfb438fd06e,fix_wait_on_compute-stable/wallaby, # run nova_wait_for_compute_service only for the default cell deployment - not: {get_param: NovaAdditionalCell}, - {get_param: NovaAdditionalCell},2,1
openstack%2Freleases~master~I3cd54fec5abe7ae18796f575241137d8728517ca,openstack/releases,master,I3cd54fec5abe7ae18796f575241137d8728517ca,Fix scheduled dates to Thursdays where needed,MERGED,2022-10-17 14:36:45.000000000,2022-10-17 15:02:28.000000000,2022-10-17 15:02:28.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-10-17 14:36:45.000000000', 'files': ['doc/source/antelope/schedule.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/28bdf0cea8a331dafb248345117f8239b8c0b7db', 'message': 'Fix scheduled dates to Thursdays where needed\n\nMost of the deadlines (milestones) should be on Thursdays (except the\nfinal release, which is on Wednesday traditionally).\n\nChange-Id: I3cd54fec5abe7ae18796f575241137d8728517ca\n'}]",1,861639,28bdf0cea8a331dafb248345117f8239b8c0b7db,7,3,1,17685,,,0,"Fix scheduled dates to Thursdays where needed

Most of the deadlines (milestones) should be on Thursdays (except the
final release, which is on Wednesday traditionally).

Change-Id: I3cd54fec5abe7ae18796f575241137d8728517ca
",git fetch https://review.opendev.org/openstack/releases refs/changes/39/861639/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/antelope/schedule.rst'],1,28bdf0cea8a331dafb248345117f8239b8c0b7db,,"17 November, 2022 is the Antelope-1 milestone. See project-specific notes05 January, 2023 is the Antelope-2 milestone. See project-specific notesbefore the Extra-ATC freeze on 02 February, 2023.16 February, 2023 is the Antelope-3 milestone. See project-specific notes","16 November, 2022 is the Antelope-1 milestone. See project-specific notes04 January, 2023 is the Antelope-2 milestone. See project-specific notesbefore the Extra-ATC freeze on 01 February, 2023.15 February, 2023 is the Antelope-3 milestone. See project-specific notes",4,4
openstack%2Fcinder~master~Ifffcde1523a01b0da04f3e85cef278223045d16c,openstack/cinder,master,Ifffcde1523a01b0da04f3e85cef278223045d16c,PowerMax Driver - Allow for retype to _DEFAULT__ VT,NEW,2021-08-06 15:38:39.000000000,2022-10-17 14:59:07.000000000,,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 34988}]","[{'number': 1, 'created': '2021-08-06 15:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4abd9686c19516700b7be1aef0422b07c130aee6', 'message': 'PowerMax Driver - Allow for retype to _DEFAULT__ VT\n\nAs the default volume type has no pool_name, random pool\ninformation is returned which is not accurate. To rectify\nthis we can get the service level from the derived extra\nspecs so the volume can be moved to the correct storage group\nwhich is associated with Optimized service level.\n\nChange-Id: Ifffcde1523a01b0da04f3e85cef278223045d16c\n'}, {'number': 2, 'created': '2021-08-17 14:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5bf2851a1634c1eb213e97294cbb22959630b3ef', 'message': ""PowerMax Driver - Allow for retype to _DEFAULT__ VT\n\nAs the default volume type has no 'pool_name', random pool\ninformation is returned on a retype operation, which is\nnot accurate. To rectify this we can get the service level\nfrom the derived extra specs so the volume can be moved to\nthe correct storage group which is associated with Optimized\nservice level.\nThis also fixes a scenario where the 'pool_name' is not set\non a volume type but one or more other extra specs have\nbeen set, for example 'volume_backend_name'.\n\nChange-Id: Ifffcde1523a01b0da04f3e85cef278223045d16c\n""}, {'number': 3, 'created': '2022-06-03 12:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/66a017dc9dd242f0cfb84b8dee7714984890354a', 'message': ""PowerMax Driver - Allow for retype to _DEFAULT__ VT\n\nAs the default volume type has no 'pool_name', random pool\ninformation is returned on a retype operation, which is\nnot accurate. To rectify this we can get the service level\nfrom the derived extra specs so the volume can be moved to\nthe correct storage group which is associated with Optimized\nservice level.\nThis also fixes a scenario where the 'pool_name' is not set\non a volume type but one or more other extra specs have\nbeen set, for example 'volume_backend_name'.\n\nChange-Id: Ifffcde1523a01b0da04f3e85cef278223045d16c\n""}, {'number': 4, 'created': '2022-06-17 07:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/28354f2aec78568dd30b48f003afe1658b6fe043', 'message': ""PowerMax Driver - Allow for retype to _DEFAULT__ VT\n\nAs the default volume type has no 'pool_name', random pool\ninformation is returned on a retype operation, which is\nnot accurate. To rectify this we can get the service level\nfrom the derived extra specs so the volume can be moved to\nthe correct storage group which is associated with Optimized\nservice level.\nThis also fixes a scenario where the 'pool_name' is not set\non a volume type but one or more other extra specs have\nbeen set, for example 'volume_backend_name'.\n\nChange-Id: Ifffcde1523a01b0da04f3e85cef278223045d16c\n""}, {'number': 5, 'created': '2022-09-15 14:26:01.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2666ee6f480117144583b73049c40699e3d00861', 'message': ""PowerMax Driver - Allow for retype to _DEFAULT__ VT\n\nAs the default volume type has no 'pool_name', random pool\ninformation is returned on a retype operation, which is\nnot accurate. To rectify this we can get the service level\nfrom the derived extra specs so the volume can be moved to\nthe correct storage group which is associated with Optimized\nservice level.\nThis also fixes a scenario where the 'pool_name' is not set\non a volume type but one or more other extra specs have\nbeen set, for example 'volume_backend_name'.\n\nChange-Id: Ifffcde1523a01b0da04f3e85cef278223045d16c\nCloses-bug: 1989730\n""}]",23,803773,2666ee6f480117144583b73049c40699e3d00861,151,5,5,12670,,,0,"PowerMax Driver - Allow for retype to _DEFAULT__ VT

As the default volume type has no 'pool_name', random pool
information is returned on a retype operation, which is
not accurate. To rectify this we can get the service level
from the derived extra specs so the volume can be moved to
the correct storage group which is associated with Optimized
service level.
This also fixes a scenario where the 'pool_name' is not set
on a volume type but one or more other extra specs have
been set, for example 'volume_backend_name'.

Change-Id: Ifffcde1523a01b0da04f3e85cef278223045d16c
Closes-bug: 1989730
",git fetch https://review.opendev.org/openstack/cinder refs/changes/73/803773/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py']",3,4abd9686c19516700b7be1aef0422b07c130aee6,default-vt-retype, optimized_host = 'HostX@Backend#Optimized+SRP_1+000197800123' test_id = '2b06255d-f5f0-4520-a953-b029196add6a',,42,3
openstack%2Fcharm-ops-sunbeam~main~I5acb14184caff42c802df62c56278040de05f4a1,openstack/charm-ops-sunbeam,main,I5acb14184caff42c802df62c56278040de05f4a1,Update ovsdb interface owner,MERGED,2022-10-17 14:13:01.000000000,2022-10-17 14:42:41.000000000,2022-10-17 14:42:41.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-17 14:13:01.000000000', 'files': ['ops_sunbeam/ovn/relation_handlers.py', 'unit_tests/lib/charms/ovn_central_k8s/v0/ovsdb.py', 'fetch-libs.sh'], 'web_link': 'https://opendev.org/openstack/charm-ops-sunbeam/commit/253705b16fa7f4bedb89349484ac718d402cc2cd', 'message': 'Update ovsdb interface owner\n\nPull ovsdb interface from ovn-central-k8s rather than sunbeam\nPOC charm.\n\nChange-Id: I5acb14184caff42c802df62c56278040de05f4a1\n'}]",0,861637,253705b16fa7f4bedb89349484ac718d402cc2cd,6,2,1,935,,,0,"Update ovsdb interface owner

Pull ovsdb interface from ovn-central-k8s rather than sunbeam
POC charm.

Change-Id: I5acb14184caff42c802df62c56278040de05f4a1
",git fetch https://review.opendev.org/openstack/charm-ops-sunbeam refs/changes/37/861637/1 && git format-patch -1 --stdout FETCH_HEAD,"['ops_sunbeam/ovn/relation_handlers.py', 'unit_tests/lib/charms/ovn_central_k8s/v0/ovsdb.py', 'fetch-libs.sh']",3,253705b16fa7f4bedb89349484ac718d402cc2cd,ovn-central-interfaces,charmcraft fetch-lib charms.ovn_central_k8s.v0.ovsdb,charmcraft fetch-lib charms.sunbeam_ovn_central_operator.v0.ovsdb,5,4
openstack%2Fcharm-zuul-jobs~master~I15245ef58fd087e4275b5e4acef742d669ae8181,openstack/charm-zuul-jobs,master,I15245ef58fd087e4275b5e4acef742d669ae8181,Collect logs together for debugging,MERGED,2022-10-17 13:56:25.000000000,2022-10-17 14:41:07.000000000,2022-10-17 14:41:07.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-17 13:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-zuul-jobs/commit/d8ca6dc3aa591ee2e62cc5cf8dc9718ce0bb62bd', 'message': 'Collect logs together for debugging\n\nChange-Id: I15245ef58fd087e4275b5e4acef742d669ae8181\n'}, {'number': 2, 'created': '2022-10-17 14:11:27.000000000', 'files': ['playbooks/microk8s-juju-post.yaml'], 'web_link': 'https://opendev.org/openstack/charm-zuul-jobs/commit/952c6c4620fc8b6ac809211851895d25ced1be6b', 'message': 'Collect logs together for debugging\n\nChange-Id: I15245ef58fd087e4275b5e4acef742d669ae8181\n'}]",0,861634,952c6c4620fc8b6ac809211851895d25ced1be6b,8,2,2,12549,,,0,"Collect logs together for debugging

Change-Id: I15245ef58fd087e4275b5e4acef742d669ae8181
",git fetch https://review.opendev.org/openstack/charm-zuul-jobs refs/changes/34/861634/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/microk8s-juju-post.yaml'],1,d8ca6dc3aa591ee2e62cc5cf8dc9718ce0bb62bd,more-debug-collection," - name: Create destination for logs file: path: ""{{ zuul.project.src_dir }}/log"" state: directory mode: 0755 - name: debug logs replay juju debug-log --replay > {{ zuul.project.src_dir }}/log/debug-hooks.txt - name: debug describe pods set -o pipefail microk8s.kubectl describe -n $MODEL pods > {{ zuul.project.src_dir }}/log/describe-pods.txt - name: juju status args: executable: /bin/bash shell: | set -o pipefail for model in $(juju models | grep zaza- | awk '{gsub(/\*?/,""""); print $1}'); do juju status -m $model > {{ zuul.project.src_dir }}/log/juju-status.$model.txt juju status -m $model --format=yaml > {{ zuul.project.src_dir }}/log/juju-status.$model.yaml done - name: fetch juju logs synchronize: dest: ""{{ zuul.executor.log_root }}"" mode: pull src: ""{{ zuul.project.src_dir }}/log"" verify_host: true owner: no group: no", - name: debug output for debugging the functional test # noqa risky-shell-pipe juju status juju debug-log --replay - name: debug describe pods # noqa risky-shell-pipe set -x microk8s.kubectl describe -n $MODEL pods,27,6
openstack%2Fkolla-ansible~stable%2Fwallaby~I35e7d3072c6340f4ecbe02f8961158bcb663954e,openstack/kolla-ansible,stable/wallaby,I35e7d3072c6340f4ecbe02f8961158bcb663954e,Fix interface option for ironic-neutron-agent,MERGED,2022-10-04 10:41:07.000000000,2022-10-17 14:34:40.000000000,2022-10-17 14:33:30.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-10-04 10:41:07.000000000', 'files': ['ansible/roles/neutron/templates/ironic_neutron_agent.ini.j2', 'releasenotes/notes/ironic-neutron-agent-interface-75fd4fbb1d3eb843.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d5bb7a362cf6339d6f04b91ed0ccd958b9b9323d', 'message': 'Fix interface option for ironic-neutron-agent\n\nThe correct option to use is valid_interfaces [1], not os_endpoint_type.\n\n[1] https://docs.openstack.org/networking-baremetal/latest/configuration/ironic-neutron-agent/config.html#ironic\n\nCloses-Bug: #1990675\nChange-Id: I35e7d3072c6340f4ecbe02f8961158bcb663954e\n(cherry picked from commit 39eafd068b46991494684f5880a8873d288f9ccb)\n'}]",1,860136,d5bb7a362cf6339d6f04b91ed0ccd958b9b9323d,12,3,1,15197,,,0,"Fix interface option for ironic-neutron-agent

The correct option to use is valid_interfaces [1], not os_endpoint_type.

[1] https://docs.openstack.org/networking-baremetal/latest/configuration/ironic-neutron-agent/config.html#ironic

Closes-Bug: #1990675
Change-Id: I35e7d3072c6340f4ecbe02f8961158bcb663954e
(cherry picked from commit 39eafd068b46991494684f5880a8873d288f9ccb)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/36/860136/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/templates/ironic_neutron_agent.ini.j2', 'releasenotes/notes/ironic-neutron-agent-interface-75fd4fbb1d3eb843.yaml']",2,d5bb7a362cf6339d6f04b91ed0ccd958b9b9323d,ironic-neutron-agent-interface-stable/wallaby,--- fixes: - | Fixes an issue with ``ironic-neutron-agent`` using the wrong option to configure the interface used to communicate with the Ironic API. `LP#1990675 <https://bugs.launchpad.net/kolla-ansible/+bug/1990675>`_ ,,7,1
openstack%2Fneutron~stable%2Fyoga~Iba73f7944592a003232eb397ba1d4da3dcba5c3a,openstack/neutron,stable/yoga,Iba73f7944592a003232eb397ba1d4da3dcba5c3a,[OVN] Avoid deadlock when cleaning hash ring nodes,MERGED,2022-10-14 13:41:36.000000000,2022-10-17 14:14:45.000000000,2022-10-17 14:13:16.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-14 13:41:36.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd7fc476841649df31e868fb607475f9b2adb61a', 'message': ""[OVN] Avoid deadlock when cleaning hash ring nodes\n\nThis patch avoids the clash of the hash ring cleaning operation and the\nAPI workers by ensuring that the cleaning happens before the nodes for\nthat host are added to the ring and the connections to the OVSDBs (meaning\nno events therefore no SELECTS on the hash ring table for that hostname).\n\nThis patch does this by re-using the same hash ring lock that starts\nthe probing thread. Now, the first worker that acquire the lock is\nresponsible for cleaning the hash ring for it's own host as well as\nstarting the probing thread. Subsequently workers only need to register\nthemselves to the hash ring.\n\nConflicts:\n  neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n\nChange-Id: Iba73f7944592a003232eb397ba1d4da3dcba5c3a\nCloses-Bug: #1990174\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit b7b8f7c571440577a40aacf9d8d93abc3a5a48b3)\n""}]",3,861382,dd7fc476841649df31e868fb607475f9b2adb61a,20,3,1,6773,,,0,"[OVN] Avoid deadlock when cleaning hash ring nodes

This patch avoids the clash of the hash ring cleaning operation and the
API workers by ensuring that the cleaning happens before the nodes for
that host are added to the ring and the connections to the OVSDBs (meaning
no events therefore no SELECTS on the hash ring table for that hostname).

This patch does this by re-using the same hash ring lock that starts
the probing thread. Now, the first worker that acquire the lock is
responsible for cleaning the hash ring for it's own host as well as
starting the probing thread. Subsequently workers only need to register
themselves to the hash ring.

Conflicts:
  neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py

Change-Id: Iba73f7944592a003232eb397ba1d4da3dcba5c3a
Closes-Bug: #1990174
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit b7b8f7c571440577a40aacf9d8d93abc3a5a48b3)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/82/861382/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'],1,dd7fc476841649df31e868fb607475f9b2adb61a,," def _setup_hash_ring(self): """"""Setup the hash ring. The first worker to acquire the lock is responsible for cleaning the hash ring from previous runs as well as start the probing thread for this host. Subsequently workers just need to register themselves to the hash ring. """""" admin_context = n_context.get_admin_context() if not self._hash_ring_probe_event.is_set(): self._clean_hash_ring() self.node_uuid = ovn_hash_ring_db.add_node(admin_context, self.hash_ring_group) else: self.node_uuid = ovn_hash_ring_db.add_node(admin_context, self.hash_ring_group) self._setup_hash_ring()"," # NOTE(lucasagomes): _clean_hash_ring() must be called before # self.subscribe() to avoid processes racing when adding or # deleting nodes from the Hash Ring during service initialization self._clean_hash_ring() def _start_hash_ring_probe(self): if not self._hash_ring_probe_event.is_set(): admin_context = n_context.get_admin_context() self.node_uuid = ovn_hash_ring_db.add_node(admin_context, self.hash_ring_group) self._start_hash_ring_probe()",16,9
openstack%2Fnova~master~Ibc4bc7edf1c8d1e841c72c9188a0a62836e9f153,openstack/nova,master,Ibc4bc7edf1c8d1e841c72c9188a0a62836e9f153,[compute] always set instance.host in post_livemigration,MERGED,2021-05-13 11:54:08.000000000,2022-10-17 14:14:28.000000000,2022-10-17 14:13:08.000000000,"[{'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 34860}]","[{'number': 1, 'created': '2021-05-13 11:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a50df5d4b90922a172a8e4f918f53ae2193045ab', 'message': '[compute] always set instnace.host in post_livemigration\n\nThis change add a new _post_live_migration_update_host\nfunction that wraps _post_live_migration and just ensures\nthat if we exit due to an exception instance.host is set\nto the destination host.\n\nwhen we are in _post_live_migration the guest has already\nstarted running on the destination host and we cannot revert.\nSometimes admins or users will hard reboot the instance expecting\nthat to fix everything when the vm enters the error state after\nthe failed migrations. Previously this would end up recreating the\ninstance on the source node leadign to possibel data currption if\nthe instance used shared storage.\n\nChange-Id: Ibc4bc7edf1c8d1e841c72c9188a0a62836e9f153\nPartial-Bug: #1628606\n'}, {'number': 2, 'created': '2022-08-25 05:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0272a7b6aeecf43bc8413f653da5c63e8e79d81d', 'message': '[compute] always set instnace.host in post_livemigration\n\nThis change add a new _post_live_migration_update_host\nfunction that wraps _post_live_migration and just ensures\nthat if we exit due to an exception instance.host is set\nto the destination host.\n\nwhen we are in _post_live_migration the guest has already\nstarted running on the destination host and we cannot revert.\nSometimes admins or users will hard reboot the instance expecting\nthat to fix everything when the vm enters the error state after\nthe failed migrations. Previously this would end up recreating the\ninstance on the source node leadign to possibel data currption if\nthe instance used shared storage.\n\nChange-Id: Ibc4bc7edf1c8d1e841c72c9188a0a62836e9f153\nPartial-Bug: #1628606\n'}, {'number': 3, 'created': '2022-08-26 12:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30a3dee9b13bc10135672aee5ee35735a6943b1a', 'message': '[compute] always set instnace.host in post_livemigration\n\nThis change add a new _post_live_migration_update_host\nfunction that wraps _post_live_migration and just ensures\nthat if we exit due to an exception instance.host is set\nto the destination host.\n\nwhen we are in _post_live_migration the guest has already\nstarted running on the destination host and we cannot revert.\nSometimes admins or users will hard reboot the instance expecting\nthat to fix everything when the vm enters the error state after\nthe failed migrations. Previously this would end up recreating the\ninstance on the source node leadign to possibel data currption if\nthe instance used shared storage.\n\nChange-Id: Ibc4bc7edf1c8d1e841c72c9188a0a62836e9f153\nPartial-Bug: #1628606\n'}, {'number': 4, 'created': '2022-08-26 12:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b8f13c86274df1c067b152bc732387c5e3d22334', 'message': '[compute] always set instnace.host in post_livemigration\n\nThis change add a new _post_live_migration_update_host\nfunction that wraps _post_live_migration and just ensures\nthat if we exit due to an exception instance.host is set\nto the destination host.\n\nwhen we are in _post_live_migration the guest has already\nstarted running on the destination host and we cannot revert.\nSometimes admins or users will hard reboot the instance expecting\nthat to fix everything when the vm enters the error state after\nthe failed migrations. Previously this would end up recreating the\ninstance on the source node leadign to possibel data currption if\nthe instance used shared storage.\n\nChange-Id: Ibc4bc7edf1c8d1e841c72c9188a0a62836e9f153\nPartial-Bug: #1628606\n'}, {'number': 5, 'created': '2022-09-01 10:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/231e5170739adb32cbed18ed51173dc005e14492', 'message': '[compute] always set instnace.host in post_livemigration\n\nThis change add a new _post_live_migration_update_host\nfunction that wraps _post_live_migration and just ensures\nthat if we exit due to an exception instance.host is set\nto the destination host.\n\nwhen we are in _post_live_migration the guest has already\nstarted running on the destination host and we cannot revert.\nSometimes admins or users will hard reboot the instance expecting\nthat to fix everything when the vm enters the error state after\nthe failed migrations. Previously this would end up recreating the\ninstance on the source node leadign to possibel data currption if\nthe instance used shared storage.\n\nChange-Id: Ibc4bc7edf1c8d1e841c72c9188a0a62836e9f153\nPartial-Bug: #1628606\n'}, {'number': 6, 'created': '2022-09-01 12:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/047fa43e42955bd304e8aae06961d86d206052b8', 'message': '[compute] always set instnace.host in post_livemigration\n\nThis change add a new _post_live_migration_update_host\nfunction that wraps _post_live_migration and just ensures\nthat if we exit due to an exception instance.host is set\nto the destination host.\n\nwhen we are in _post_live_migration the guest has already\nstarted running on the destination host and we cannot revert.\nSometimes admins or users will hard reboot the instance expecting\nthat to fix everything when the vm enters the error state after\nthe failed migrations. Previously this would end up recreating the\ninstance on the source node leadign to possibel data currption if\nthe instance used shared storage.\n\nChange-Id: Ibc4bc7edf1c8d1e841c72c9188a0a62836e9f153\nPartial-Bug: #1628606\n'}, {'number': 7, 'created': '2022-09-12 09:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/81ec0e7d3d68b2be6d165c4b945540f11a1371a3', 'message': '[compute] always set instnace.host in post_livemigration\n\nThis change add a new _post_live_migration_update_host\nfunction that wraps _post_live_migration and just ensures\nthat if we exit due to an exception instance.host is set\nto the destination host.\n\nwhen we are in _post_live_migration the guest has already\nstarted running on the destination host and we cannot revert.\nSometimes admins or users will hard reboot the instance expecting\nthat to fix everything when the vm enters the error state after\nthe failed migrations. Previously this would end up recreating the\ninstance on the source node leadign to possibel data currption if\nthe instance used shared storage.\n\nChange-Id: Ibc4bc7edf1c8d1e841c72c9188a0a62836e9f153\nPartial-Bug: #1628606\n'}, {'number': 8, 'created': '2022-10-04 10:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fca9338567cf88fc17148fb98d4354c92cc37163', 'message': '[compute] always set instnace.host in post_livemigration\n\nThis change add a new _post_live_migration_update_host\nfunction that wraps _post_live_migration and just ensures\nthat if we exit due to an exception instance.host is set\nto the destination host.\n\nwhen we are in _post_live_migration the guest has already\nstarted running on the destination host and we cannot revert.\nSometimes admins or users will hard reboot the instance expecting\nthat to fix everything when the vm enters the error state after\nthe failed migrations. Previously this would end up recreating the\ninstance on the source node leadign to possibel data currption if\nthe instance used shared storage.\n\nChange-Id: Ibc4bc7edf1c8d1e841c72c9188a0a62836e9f153\nPartial-Bug: #1628606\n'}, {'number': 9, 'created': '2022-10-04 12:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e929263768dadff05180fd92afe6f6202aa3d07', 'message': '[compute] always set instnace.host in post_livemigration\n\nThis change add a new _post_live_migration_update_host\nfunction that wraps _post_live_migration and just ensures\nthat if we exit due to an exception instance.host is set\nto the destination host.\n\nwhen we are in _post_live_migration the guest has already\nstarted running on the destination host and we cannot revert.\nSometimes admins or users will hard reboot the instance expecting\nthat to fix everything when the vm enters the error state after\nthe failed migrations. Previously this would end up recreating the\ninstance on the source node leadign to possibel data currption if\nthe instance used shared storage.\n\nChange-Id: Ibc4bc7edf1c8d1e841c72c9188a0a62836e9f153\nPartial-Bug: #1628606\n'}, {'number': 10, 'created': '2022-10-06 05:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0f640f01af81a0cd1d095aaf6a70638cabdbab3', 'message': '[compute] always set instance.host in post_livemigration\n\nThis change add a new _post_live_migration_update_host\nfunction that wraps _post_live_migration and just ensures\nthat if we exit due to an exception instance.host is set\nto the destination host.\n\nwhen we are in _post_live_migration the guest has already\nstarted running on the destination host and we cannot revert.\nSometimes admins or users will hard reboot the instance expecting\nthat to fix everything when the vm enters the error state after\nthe failed migrations. Previously this would end up recreating the\ninstance on the source node leading to possible data corruption if\nthe instance used shared storage.\n\nChange-Id: Ibc4bc7edf1c8d1e841c72c9188a0a62836e9f153\nPartial-Bug: #1628606\n'}, {'number': 11, 'created': '2022-10-07 12:25:06.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1628606.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8449b7caefa4a5c0728e11380a088525f15ad6f5', 'message': '[compute] always set instance.host in post_livemigration\n\nThis change add a new _post_live_migration_update_host\nfunction that wraps _post_live_migration and just ensures\nthat if we exit due to an exception instance.host is set\nto the destination host.\n\nwhen we are in _post_live_migration the guest has already\nstarted running on the destination host and we cannot revert.\nSometimes admins or users will hard reboot the instance expecting\nthat to fix everything when the vm enters the error state after\nthe failed migrations. Previously this would end up recreating the\ninstance on the source node leading to possible data corruption if\nthe instance used shared storage.\n\nChange-Id: Ibc4bc7edf1c8d1e841c72c9188a0a62836e9f153\nPartial-Bug: #1628606\n'}]",71,791135,8449b7caefa4a5c0728e11380a088525f15ad6f5,91,8,11,11604,,,0,"[compute] always set instance.host in post_livemigration

This change add a new _post_live_migration_update_host
function that wraps _post_live_migration and just ensures
that if we exit due to an exception instance.host is set
to the destination host.

when we are in _post_live_migration the guest has already
started running on the destination host and we cannot revert.
Sometimes admins or users will hard reboot the instance expecting
that to fix everything when the vm enters the error state after
the failed migrations. Previously this would end up recreating the
instance on the source node leading to possible data corruption if
the instance used shared storage.

Change-Id: Ibc4bc7edf1c8d1e841c72c9188a0a62836e9f153
Partial-Bug: #1628606
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/791135/11 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,a50df5d4b90922a172a8e4f918f53ae2193045ab,bug/1628606," post_live_migration = functools.partial( self._post_live_migration_update_host, source_bdms=source_bdms) # TODO(sean-k-mooney): add typing def _post_live_migration_update_host( self, ctxt, instance, dest, block_migration=False, migrate_data=None, source_bdms=None ): try: self._post_live_migration( ctxt, instance, dest, block_migration, migrate_data, source_bdms) except Exception: # we can never role back form post live migration and we only # get here if the instnace is running on the dest so we ensure # the instnace.host is set correctly and reraise the orginal # excpetion unmodified. if instance.host != dest: instance.host = dest instance.save() raise :param instance: instance object"," post_live_migration = functools.partial(self._post_live_migration, source_bdms=source_bdms) :param instance: instance dict",37,3
openstack%2Fneutron~stable%2Fzed~I2f40dab6af63439c2103a3a9ef23f97aa17aa8d7,openstack/neutron,stable/zed,I2f40dab6af63439c2103a3a9ef23f97aa17aa8d7,"Remove unnecessary bullet points, unify formatting.",MERGED,2022-10-09 05:55:29.000000000,2022-10-17 14:13:46.000000000,2022-10-17 14:12:26.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-10-09 05:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e105dd8b408c3273371ac6b5e10139bf10003a68', 'message': 'Remove unnecessary bullet points, unify formatting,\nand update broken links in other branches.\n\nChange-Id: I2f40dab6af63439c2103a3a9ef23f97aa17aa8d7\n'}, {'number': 2, 'created': '2022-10-09 05:57:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/579c0c9811ef57fcc62d26b34004e7b7a00f9dff', 'message': 'Remove unnecessary bullet points, unify formatting.\n\nChange-Id: I2f40dab6af63439c2103a3a9ef23f97aa17aa8d7\n'}, {'number': 3, 'created': '2022-10-09 06:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d17eefdb134e4e5c6639be8a0fa2d3dac4ea90a', 'message': 'Remove unnecessary bullet points, unify formatting.\n\nUse bulleted documents to display problems, uniform formatting.\n\nChange-Id: I2f40dab6af63439c2103a3a9ef23f97aa17aa8d7\n'}, {'number': 4, 'created': '2022-10-11 02:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a96e936ccbc5bc0bbcefe8c4d1aba60025b7669a', 'message': 'Remove unnecessary bullet points, unify formatting.\n\nUse bulleted documents to display problems, uniform formatting.\n\nChange-Id: I2f40dab6af63439c2103a3a9ef23f97aa17aa8d7\n'}, {'number': 5, 'created': '2022-10-11 02:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6d27aeb244e7aeb50b568396f997b034b1de3695', 'message': 'Remove unnecessary bullet points, unify formatting.\n\nUse bulleted documents to display problems, uniform formatting.\n\nChange-Id: I2f40dab6af63439c2103a3a9ef23f97aa17aa8d7\n'}, {'number': 6, 'created': '2022-10-11 02:51:31.000000000', 'files': ['doc/source/admin/config-sriov.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5623dc7631fbf848fdc3a1b6a4375a491a1d01ab', 'message': 'Remove unnecessary bullet points, unify formatting.\n\nUse bulleted documents to display problems, uniform formatting.\n\nChange-Id: I2f40dab6af63439c2103a3a9ef23f97aa17aa8d7\n(cherry picked from commit ee7bfca937eee8ad22e95f040cc1092f3ea545f4)\n'}]",2,860660,5623dc7631fbf848fdc3a1b6a4375a491a1d01ab,19,5,6,35025,,,0,"Remove unnecessary bullet points, unify formatting.

Use bulleted documents to display problems, uniform formatting.

Change-Id: I2f40dab6af63439c2103a3a9ef23f97aa17aa8d7
(cherry picked from commit ee7bfca937eee8ad22e95f040cc1092f3ea545f4)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/860660/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/config-sriov.rst'],1,e105dd8b408c3273371ac6b5e10139bf10003a68,,"For information on **Mellanox SR-IOV Ethernet ConnectX cards**, see the `Mellanox: How To Configure SR-IOV VFs on ConnectX-4 or newer <https://support.mellanox.com/s/article/HowTo-Configure-SR-IOV-for-ConnectX-4-ConnectX-5-ConnectX-6-with-KVM-Ethernet>`_. For information on **QLogic SR-IOV Ethernet cards**, see the `User's Guide OpenStack Deployment with SR-IOV Configuration <http://www.qlogic.com/solutions/Documents/UsersGuide_OpenStack_SR-IOV.pdf>`_.","For information on **Mellanox SR-IOV Ethernet ConnectX cards**, see: - `Mellanox: How To Configure SR-IOV VFs on ConnectX-4 or newer <https://support.mellanox.com/s/article/HowTo-Configure-SR-IOV-for-ConnectX-4-ConnectX-5-ConnectX-6-with-KVM-Ethernet>`_. For information on **QLogic SR-IOV Ethernet cards**, see: - `User's Guide OpenStack Deployment with SR-IOV Configuration <http://www.qlogic.com/solutions/Documents/UsersGuide_OpenStack_SR-IOV.pdf>`_.",4,4
openstack%2Fneutron~stable%2Ftrain~Ib3945d294601b35f9b268c25841cd284b52c4ca3,openstack/neutron,stable/train,Ib3945d294601b35f9b268c25841cd284b52c4ca3,[L3HA] Don't update HA router's ports if router isn't active on agents,MERGED,2022-10-11 03:40:42.000000000,2022-10-17 14:13:46.000000000,2022-10-17 14:12:15.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-11 03:40:42.000000000', 'files': ['neutron/tests/unit/db/test_l3_hamode_db.py', 'neutron/api/rpc/handlers/l3_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9562726b1b0c4fcd1b3279c1475ce81c64299b36', 'message': '[L3HA] Don\'t update HA router\'s ports if router isn\'t active on agents\n\nIn case when HA router isn\'t active on any L3 agent,\n_ensure_host_set_on_port method shouldn\'t try to update port\'s host to\nthe host from which there was an rpc message sent, as this can be host\non which router is in the ""standby"" mode.\nThis method should only update port\'s host to the router\'s ""active_host""\nif there is such active_host found already.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/841489\n\nCloses-Bug: #1973162\nCloses-Bug: #1942190\nChange-Id: Ib3945d294601b35f9b268c25841cd284b52c4ca3\n(cherry picked from commit cd8bf18150c8b0a4bc64979d800726483d9cdb6e)\n'}]",3,860898,9562726b1b0c4fcd1b3279c1475ce81c64299b36,14,4,1,9531,,,0,"[L3HA] Don't update HA router's ports if router isn't active on agents

In case when HA router isn't active on any L3 agent,
_ensure_host_set_on_port method shouldn't try to update port's host to
the host from which there was an rpc message sent, as this can be host
on which router is in the ""standby"" mode.
This method should only update port's host to the router's ""active_host""
if there is such active_host found already.

Depends-On: https://review.opendev.org/c/openstack/requirements/+/841489

Closes-Bug: #1973162
Closes-Bug: #1942190
Change-Id: Ib3945d294601b35f9b268c25841cd284b52c4ca3
(cherry picked from commit cd8bf18150c8b0a4bc64979d800726483d9cdb6e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/98/860898/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_hamode_db.py', 'neutron/api/rpc/handlers/l3_rpc.py']",2,9562726b1b0c4fcd1b3279c1475ce81c64299b36,bug/1973162," if not active_host: LOG.debug(""Router %(router)s is not active on any "" ""host. Port %(port)s will not be updated "" ""now."", {'router': router_id, 'port': port['id']}) return ""host"": active_host}) {'port': {portbindings.HOST_ID: active_host}})"," if active_host: host = active_host # If there is currently no active router instance (For # example it's a new router), the host that requested # the routers (Essentially a random host) will do. The # port binding will be corrected when an active is # elected. ""host"": host}) {'port': {portbindings.HOST_ID: host}})",19,10
openstack%2Fneutron~stable%2Fstein~Ib3945d294601b35f9b268c25841cd284b52c4ca3,openstack/neutron,stable/stein,Ib3945d294601b35f9b268c25841cd284b52c4ca3,[L3HA] Don't update HA router's ports if router isn't active on agents,MERGED,2022-10-11 03:40:59.000000000,2022-10-17 14:13:44.000000000,2022-10-17 14:12:20.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-11 03:40:59.000000000', 'files': ['neutron/tests/unit/db/test_l3_hamode_db.py', 'neutron/api/rpc/handlers/l3_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/68c1df17286f48e75eba6ce21151c6787b0c6e3d', 'message': '[L3HA] Don\'t update HA router\'s ports if router isn\'t active on agents\n\nIn case when HA router isn\'t active on any L3 agent,\n_ensure_host_set_on_port method shouldn\'t try to update port\'s host to\nthe host from which there was an rpc message sent, as this can be host\non which router is in the ""standby"" mode.\nThis method should only update port\'s host to the router\'s ""active_host""\nif there is such active_host found already.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/841489\n\nCloses-Bug: #1973162\nCloses-Bug: #1942190\nChange-Id: Ib3945d294601b35f9b268c25841cd284b52c4ca3\n(cherry picked from commit cd8bf18150c8b0a4bc64979d800726483d9cdb6e)\n'}]",3,860899,68c1df17286f48e75eba6ce21151c6787b0c6e3d,16,3,1,9531,,,0,"[L3HA] Don't update HA router's ports if router isn't active on agents

In case when HA router isn't active on any L3 agent,
_ensure_host_set_on_port method shouldn't try to update port's host to
the host from which there was an rpc message sent, as this can be host
on which router is in the ""standby"" mode.
This method should only update port's host to the router's ""active_host""
if there is such active_host found already.

Depends-On: https://review.opendev.org/c/openstack/requirements/+/841489

Closes-Bug: #1973162
Closes-Bug: #1942190
Change-Id: Ib3945d294601b35f9b268c25841cd284b52c4ca3
(cherry picked from commit cd8bf18150c8b0a4bc64979d800726483d9cdb6e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/99/860899/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_hamode_db.py', 'neutron/api/rpc/handlers/l3_rpc.py']",2,68c1df17286f48e75eba6ce21151c6787b0c6e3d,bug/1973162," if not active_host: LOG.debug(""Router %(router)s is not active on any "" ""host. Port %(port)s will not be updated "" ""now."", {'router': router_id, 'port': port['id']}) return ""host"": active_host}) {'port': {portbindings.HOST_ID: active_host}})"," if active_host: host = active_host # If there is currently no active router instance (For # example it's a new router), the host that requested # the routers (Essentially a random host) will do. The # port binding will be corrected when an active is # elected. ""host"": host}) {'port': {portbindings.HOST_ID: host}})",19,10
openstack%2Fneutron~stable%2Fussuri~Ib3945d294601b35f9b268c25841cd284b52c4ca3,openstack/neutron,stable/ussuri,Ib3945d294601b35f9b268c25841cd284b52c4ca3,[L3HA] Don't update HA router's ports if router isn't active on agents,MERGED,2022-10-11 03:40:30.000000000,2022-10-17 14:13:43.000000000,2022-10-17 14:12:10.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-11 03:40:30.000000000', 'files': ['neutron/tests/unit/db/test_l3_hamode_db.py', 'neutron/api/rpc/handlers/l3_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3e38b1765200b9c385a64f3b1286ccd8eab298fe', 'message': '[L3HA] Don\'t update HA router\'s ports if router isn\'t active on agents\n\nIn case when HA router isn\'t active on any L3 agent,\n_ensure_host_set_on_port method shouldn\'t try to update port\'s host to\nthe host from which there was an rpc message sent, as this can be host\non which router is in the ""standby"" mode.\nThis method should only update port\'s host to the router\'s ""active_host""\nif there is such active_host found already.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/841489\n\nCloses-Bug: #1973162\nCloses-Bug: #1942190\nChange-Id: Ib3945d294601b35f9b268c25841cd284b52c4ca3\n(cherry picked from commit cd8bf18150c8b0a4bc64979d800726483d9cdb6e)\n'}]",0,860897,3e38b1765200b9c385a64f3b1286ccd8eab298fe,10,3,1,9531,,,0,"[L3HA] Don't update HA router's ports if router isn't active on agents

In case when HA router isn't active on any L3 agent,
_ensure_host_set_on_port method shouldn't try to update port's host to
the host from which there was an rpc message sent, as this can be host
on which router is in the ""standby"" mode.
This method should only update port's host to the router's ""active_host""
if there is such active_host found already.

Depends-On: https://review.opendev.org/c/openstack/requirements/+/841489

Closes-Bug: #1973162
Closes-Bug: #1942190
Change-Id: Ib3945d294601b35f9b268c25841cd284b52c4ca3
(cherry picked from commit cd8bf18150c8b0a4bc64979d800726483d9cdb6e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/860897/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_hamode_db.py', 'neutron/api/rpc/handlers/l3_rpc.py']",2,3e38b1765200b9c385a64f3b1286ccd8eab298fe,bug/1973162," if not active_host: LOG.debug(""Router %(router)s is not active on any "" ""host. Port %(port)s will not be updated "" ""now."", {'router': router_id, 'port': port['id']}) return ""host"": active_host}) {'port': {portbindings.HOST_ID: active_host}})"," if active_host: host = active_host # If there is currently no active router instance (For # example it's a new router), the host that requested # the routers (Essentially a random host) will do. The # port binding will be corrected when an active is # elected. ""host"": host}) {'port': {portbindings.HOST_ID: host}})",19,10
openstack%2Fneutron~stable%2Fvictoria~Ib3945d294601b35f9b268c25841cd284b52c4ca3,openstack/neutron,stable/victoria,Ib3945d294601b35f9b268c25841cd284b52c4ca3,[L3HA] Don't update HA router's ports if router isn't active on agents,MERGED,2022-10-11 03:40:16.000000000,2022-10-17 14:13:41.000000000,2022-10-17 14:12:05.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-11 03:40:16.000000000', 'files': ['neutron/tests/unit/db/test_l3_hamode_db.py', 'neutron/api/rpc/handlers/l3_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd2c495a2807200115c4cca3836eaa69b37b6894', 'message': '[L3HA] Don\'t update HA router\'s ports if router isn\'t active on agents\n\nIn case when HA router isn\'t active on any L3 agent,\n_ensure_host_set_on_port method shouldn\'t try to update port\'s host to\nthe host from which there was an rpc message sent, as this can be host\non which router is in the ""standby"" mode.\nThis method should only update port\'s host to the router\'s ""active_host""\nif there is such active_host found already.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/841489\n\nCloses-Bug: #1973162\nCloses-Bug: #1942190\nChange-Id: Ib3945d294601b35f9b268c25841cd284b52c4ca3\n(cherry picked from commit cd8bf18150c8b0a4bc64979d800726483d9cdb6e)\n'}]",0,860896,dd2c495a2807200115c4cca3836eaa69b37b6894,10,3,1,9531,,,0,"[L3HA] Don't update HA router's ports if router isn't active on agents

In case when HA router isn't active on any L3 agent,
_ensure_host_set_on_port method shouldn't try to update port's host to
the host from which there was an rpc message sent, as this can be host
on which router is in the ""standby"" mode.
This method should only update port's host to the router's ""active_host""
if there is such active_host found already.

Depends-On: https://review.opendev.org/c/openstack/requirements/+/841489

Closes-Bug: #1973162
Closes-Bug: #1942190
Change-Id: Ib3945d294601b35f9b268c25841cd284b52c4ca3
(cherry picked from commit cd8bf18150c8b0a4bc64979d800726483d9cdb6e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/860896/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_hamode_db.py', 'neutron/api/rpc/handlers/l3_rpc.py']",2,dd2c495a2807200115c4cca3836eaa69b37b6894,bug/1973162," if not active_host: LOG.debug(""Router %(router)s is not active on any "" ""host. Port %(port)s will not be updated "" ""now."", {'router': router_id, 'port': port['id']}) return ""host"": active_host}) {'port': {portbindings.HOST_ID: active_host}})"," if active_host: host = active_host # If there is currently no active router instance (For # example it's a new router), the host that requested # the routers (Essentially a random host) will do. The # port binding will be corrected when an active is # elected. ""host"": host}) {'port': {portbindings.HOST_ID: host}})",19,10
openstack%2Fopenstack-ansible~master~I943ed821013294897280f32041c9d6ac19522563,openstack/openstack-ansible,master,I943ed821013294897280f32041c9d6ac19522563,Minor grammar cleanup,MERGED,2022-10-14 18:13:29.000000000,2022-10-17 14:01:07.000000000,2022-10-17 13:59:38.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-10-14 18:13:29.000000000', 'files': ['deploy-guide/source/overview-requirements.rst', 'deploy-guide/source/overview.rst', 'deploy-guide/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fef2375ea19450dcd3669eb7aba553903b9e2eea', 'message': 'Minor grammar cleanup\n\nChange-Id: I943ed821013294897280f32041c9d6ac19522563\n'}]",0,861462,fef2375ea19450dcd3669eb7aba553903b9e2eea,8,3,1,15993,,,0,"Minor grammar cleanup

Change-Id: I943ed821013294897280f32041c9d6ac19522563
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/62/861462/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/overview-requirements.rst', 'deploy-guide/source/overview.rst', 'deploy-guide/source/index.rst']",3,fef2375ea19450dcd3669eb7aba553903b9e2eea,cleanup," instead of this document. This document is a walkthrough of a deployment using OpenStack-Ansible, with all of its configurability."," instead of this document. This document is a walkthrough of a deploy using OpenStack-Ansible, with all its configurability.",5,5
openstack%2Fbarbican~master~Iad4dd85cd3131df0f8640716192e7b1146a21e60,openstack/barbican,master,Iad4dd85cd3131df0f8640716192e7b1146a21e60,Imported Translations from Zanata,MERGED,2022-10-01 02:59:41.000000000,2022-10-17 12:54:14.000000000,2022-10-17 12:53:03.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 34120}]","[{'number': 1, 'created': '2022-10-01 02:59:41.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/barbican/commit/155817a181859abc5d410c12c3677d6d81348a1c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Iad4dd85cd3131df0f8640716192e7b1146a21e60\n'}]",0,860043,155817a181859abc5d410c12c3677d6d81348a1c,8,6,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Iad4dd85cd3131df0f8640716192e7b1146a21e60
",git fetch https://review.opendev.org/openstack/barbican refs/changes/43/860043/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,155817a181859abc5d410c12c3677d6d81348a1c,zanata/translations,"""POT-Creation-Date: 2022-09-29 18:39+0000\n""""PO-Revision-Date: 2022-09-30 08:07+0000\n""msgid ""13.0.0-24"" msgstr ""13.0.0-24""msgid ""Zed Series Release Notes"" msgstr ""Zed Series Release Notes"" ","""POT-Creation-Date: 2022-09-13 13:39+0000\n""""PO-Revision-Date: 2022-09-15 08:52+0000\n""msgid ""13.0.0-23"" msgstr ""13.0.0-23""",7,4
openstack%2Fnetworking-ovn~stable%2Ftrain~Iba73f7944592a003232eb397ba1d4da3dcba5c3a,openstack/networking-ovn,stable/train,Iba73f7944592a003232eb397ba1d4da3dcba5c3a,[OVN] Avoid deadlock when cleaning hash ring nodes,MERGED,2022-10-14 13:46:53.000000000,2022-10-17 12:51:58.000000000,2022-10-17 12:50:51.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-14 13:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c17bf378aa3891ba34f9c1f8ba17ae3bec2cfcde', 'message': ""[OVN] Avoid deadlock when cleaning hash ring nodes\n\nThis patch avoids the clash of the hash ring cleaning operation and the\nAPI workers by ensuring that the cleaning happens before the nodes for\nthat host are added to the ring and the connections to the OVSDBs (meaning\nno events therefore no SELECTS on the hash ring table for that hostname).\n\nThis patch does this by re-using the same hash ring lock that starts\nthe probing thread. Now, the first worker that acquire the lock is\nresponsible for cleaning the hash ring for it's own host as well as\nstarting the probing thread. Subsequently workers only need to register\nthemselves to the hash ring.\n\n(cherry picked from Neutron b7b8f7c571440577a40aacf9d8d93abc3a5a48b3)\n\nChange-Id: Iba73f7944592a003232eb397ba1d4da3dcba5c3a\nCloses-Bug: #1990174\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 2, 'created': '2022-10-14 13:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/549399668fa292321ce4942892605e68dbe29aaa', 'message': ""[OVN] Avoid deadlock when cleaning hash ring nodes\n\nThis patch avoids the clash of the hash ring cleaning operation and the\nAPI workers by ensuring that the cleaning happens before the nodes for\nthat host are added to the ring and the connections to the OVSDBs (meaning\nno events therefore no SELECTS on the hash ring table for that hostname).\n\nThis patch does this by re-using the same hash ring lock that starts\nthe probing thread. Now, the first worker that acquire the lock is\nresponsible for cleaning the hash ring for it's own host as well as\nstarting the probing thread. Subsequently workers only need to register\nthemselves to the hash ring.\n\n(cherry picked from Neutron b7b8f7c571440577a40aacf9d8d93abc3a5a48b3)\n\nChange-Id: Iba73f7944592a003232eb397ba1d4da3dcba5c3a\nCloses-Bug: #1990174\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 3, 'created': '2022-10-14 15:29:10.000000000', 'files': ['networking_ovn/ml2/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/287801c5e958271196a4f8c2a00d6b42ad039028', 'message': ""[OVN] Avoid deadlock when cleaning hash ring nodes\n\nThis patch avoids the clash of the hash ring cleaning operation and the\nAPI workers by ensuring that the cleaning happens before the nodes for\nthat host are added to the ring and the connections to the OVSDBs (meaning\nno events therefore no SELECTS on the hash ring table for that hostname).\n\nThis patch does this by re-using the same hash ring lock that starts\nthe probing thread. Now, the first worker that acquire the lock is\nresponsible for cleaning the hash ring for it's own host as well as\nstarting the probing thread. Subsequently workers only need to register\nthemselves to the hash ring.\n\n(cherry picked from Neutron b7b8f7c571440577a40aacf9d8d93abc3a5a48b3)\n\nChange-Id: Iba73f7944592a003232eb397ba1d4da3dcba5c3a\nCloses-Bug: #1990174\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}]",9,861389,287801c5e958271196a4f8c2a00d6b42ad039028,11,3,3,6773,,,0,"[OVN] Avoid deadlock when cleaning hash ring nodes

This patch avoids the clash of the hash ring cleaning operation and the
API workers by ensuring that the cleaning happens before the nodes for
that host are added to the ring and the connections to the OVSDBs (meaning
no events therefore no SELECTS on the hash ring table for that hostname).

This patch does this by re-using the same hash ring lock that starts
the probing thread. Now, the first worker that acquire the lock is
responsible for cleaning the hash ring for it's own host as well as
starting the probing thread. Subsequently workers only need to register
themselves to the hash ring.

(cherry picked from Neutron b7b8f7c571440577a40aacf9d8d93abc3a5a48b3)

Change-Id: Iba73f7944592a003232eb397ba1d4da3dcba5c3a
Closes-Bug: #1990174
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/89/861389/3 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/ml2/mech_driver.py'],1,c17bf378aa3891ba34f9c1f8ba17ae3bec2cfcde,," def _setup_hash_ring(self): """"""Setup the hash ring. The first worker to acquire the lock is responsible for cleaning the hash ring from previous runs as well as start the probing thread for this host. Subsequently workers just need to register themselves to the hash ring. """""" if not self._hash_ring_probe_event.is_set(): self._clean_hash_ring() self.node_uuid = ovn_hash_ring_db.add_node(self.hash_ring_group) else: self.node_uuid = ovn_hash_ring_db.add_node(self.hash_ring_group) self._setup_hash_ring()", # NOTE(lucasagomes): _clean_hash_ring() must be called before # self.subscribe() to avoid processes racing when adding or # deleting nodes from the Hash Ring during service initialization self._clean_hash_ring() def _start_hash_ring_probe(self): if not self._hash_ring_probe_event.is_set(): self.node_uuid = db_hash_ring.add_node(self.hash_ring_group) self._start_hash_ring_probe(),12,7
openstack%2Fcharm-zuul-jobs~master~Iacf78771e5f3a7ffd647b25e3414e7c07ffc23e1,openstack/charm-zuul-jobs,master,Iacf78771e5f3a7ffd647b25e3414e7c07ffc23e1,Run debug in post-run and add pod describe,MERGED,2022-10-17 11:49:08.000000000,2022-10-17 12:40:28.000000000,2022-10-17 12:40:28.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-17 11:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-zuul-jobs/commit/f4de57d45f6df36b772841717ef11c5ee9fd9304', 'message': 'Run debug in post-run\n\nRun debug in post-run not cleanup. Cleanup is about removing\nresources and the output seems to be unavailable. Instead copy\nthe pattern from zosci and have debug in the port-run step\n\nChange-Id: Iacf78771e5f3a7ffd647b25e3414e7c07ffc23e1\n'}, {'number': 2, 'created': '2022-10-17 11:55:55.000000000', 'files': ['zuul.d/jobs.yaml', 'playbooks/microk8s-juju-post.yaml'], 'web_link': 'https://opendev.org/openstack/charm-zuul-jobs/commit/b2e4434ed179f07838dc2cf63e1a215929d282e2', 'message': 'Run debug in post-run and add pod describe\n\nRun debug in post-run not cleanup. Cleanup is about removing\nresources and the output seems to be unavailable. Instead copy\nthe pattern from zosci and have debug in the port-run step\n\nChange-Id: Iacf78771e5f3a7ffd647b25e3414e7c07ffc23e1\n'}]",0,861600,b2e4434ed179f07838dc2cf63e1a215929d282e2,7,2,2,12549,,,0,"Run debug in post-run and add pod describe

Run debug in post-run not cleanup. Cleanup is about removing
resources and the output seems to be unavailable. Instead copy
the pattern from zosci and have debug in the port-run step

Change-Id: Iacf78771e5f3a7ffd647b25e3414e7c07ffc23e1
",git fetch https://review.opendev.org/openstack/charm-zuul-jobs refs/changes/00/861600/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,f4de57d45f6df36b772841717ef11c5ee9fd9304,tidy-up-names, post-run: playbooks/microk8s-juju-post.yaml, cleanup-run: playbooks/microk8s-juju-post.yaml,1,1
openstack%2Fneutron~stable%2Fxena~Iba73f7944592a003232eb397ba1d4da3dcba5c3a,openstack/neutron,stable/xena,Iba73f7944592a003232eb397ba1d4da3dcba5c3a,[OVN] Avoid deadlock when cleaning hash ring nodes,MERGED,2022-10-14 13:41:42.000000000,2022-10-17 12:26:58.000000000,2022-10-17 12:25:23.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-14 13:41:42.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/921713cbdcf8e96a8435349325c068df209571af', 'message': ""[OVN] Avoid deadlock when cleaning hash ring nodes\n\nThis patch avoids the clash of the hash ring cleaning operation and the\nAPI workers by ensuring that the cleaning happens before the nodes for\nthat host are added to the ring and the connections to the OVSDBs (meaning\nno events therefore no SELECTS on the hash ring table for that hostname).\n\nThis patch does this by re-using the same hash ring lock that starts\nthe probing thread. Now, the first worker that acquire the lock is\nresponsible for cleaning the hash ring for it's own host as well as\nstarting the probing thread. Subsequently workers only need to register\nthemselves to the hash ring.\n\nConflicts:\n  neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n\nChange-Id: Iba73f7944592a003232eb397ba1d4da3dcba5c3a\nCloses-Bug: #1990174\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit b7b8f7c571440577a40aacf9d8d93abc3a5a48b3)\n""}]",0,861383,921713cbdcf8e96a8435349325c068df209571af,11,4,1,6773,,,0,"[OVN] Avoid deadlock when cleaning hash ring nodes

This patch avoids the clash of the hash ring cleaning operation and the
API workers by ensuring that the cleaning happens before the nodes for
that host are added to the ring and the connections to the OVSDBs (meaning
no events therefore no SELECTS on the hash ring table for that hostname).

This patch does this by re-using the same hash ring lock that starts
the probing thread. Now, the first worker that acquire the lock is
responsible for cleaning the hash ring for it's own host as well as
starting the probing thread. Subsequently workers only need to register
themselves to the hash ring.

Conflicts:
  neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py

Change-Id: Iba73f7944592a003232eb397ba1d4da3dcba5c3a
Closes-Bug: #1990174
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit b7b8f7c571440577a40aacf9d8d93abc3a5a48b3)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/83/861383/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'],1,921713cbdcf8e96a8435349325c068df209571af,," def _setup_hash_ring(self): """"""Setup the hash ring. The first worker to acquire the lock is responsible for cleaning the hash ring from previous runs as well as start the probing thread for this host. Subsequently workers just need to register themselves to the hash ring. """""" admin_context = n_context.get_admin_context() if not self._hash_ring_probe_event.is_set(): self._clean_hash_ring() self.node_uuid = ovn_hash_ring_db.add_node(admin_context, self.hash_ring_group) else: self.node_uuid = ovn_hash_ring_db.add_node(admin_context, self.hash_ring_group) self._setup_hash_ring()"," # NOTE(lucasagomes): _clean_hash_ring() must be called before # self.subscribe() to avoid processes racing when adding or # deleting nodes from the Hash Ring during service initialization self._clean_hash_ring() def _start_hash_ring_probe(self): if not self._hash_ring_probe_event.is_set(): admin_context = n_context.get_admin_context() self.node_uuid = ovn_hash_ring_db.add_node(admin_context, self.hash_ring_group) self._start_hash_ring_probe()",16,9
openstack%2Fbarbican~stable%2Fussuri~I5797988e4c63c75fccf85277c52815d9bf684cff,openstack/barbican,stable/ussuri,I5797988e4c63c75fccf85277c52815d9bf684cff,Fix Story 2010258 (CVE-2022-3100),MERGED,2022-10-13 16:55:32.000000000,2022-10-17 12:23:16.000000000,2022-10-17 12:21:56.000000000,"[{'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-13 16:55:32.000000000', 'files': ['barbican/api/controllers/__init__.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/cc076f24e55c24a6fc8e57ca606130090fb6369b', 'message': 'Fix Story 2010258 (CVE-2022-3100)\n\nThis patch fixes a security vunlerability where the contents of a\nrequest query string were mistakenly being used in the RBAC policy\nengine.\n\n(cherry picked from commit 8ef263b880a0959785bcc8a5512a7aa9f6121c04)\n\nChange-Id: I5797988e4c63c75fccf85277c52815d9bf684cff\n'}]",0,861204,cc076f24e55c24a6fc8e57ca606130090fb6369b,8,2,1,7973,,,0,"Fix Story 2010258 (CVE-2022-3100)

This patch fixes a security vunlerability where the contents of a
request query string were mistakenly being used in the RBAC policy
engine.

(cherry picked from commit 8ef263b880a0959785bcc8a5512a7aa9f6121c04)

Change-Id: I5797988e4c63c75fccf85277c52815d9bf684cff
",git fetch https://review.opendev.org/openstack/barbican refs/changes/04/861204/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican/api/controllers/__init__.py'],1,cc076f24e55c24a6fc8e57ca606130090fb6369b,cve-2022-3100,, policy_dict.update(kwargs),0,1
openstack%2Fcloudkitty-tempest-plugin~master~Idb8cf4124db69758d71e07b139422b5afafcef78,openstack/cloudkitty-tempest-plugin,master,Idb8cf4124db69758d71e07b139422b5afafcef78,Add stable/zed jobs on master gate,MERGED,2022-10-16 04:03:58.000000000,2022-10-17 12:17:27.000000000,2022-10-17 12:17:27.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2022-10-16 04:03:58.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cloudkitty-tempest-plugin/commit/8a1999ca0d1976fcf77c729b0746926149650bb9', 'message': 'Add stable/zed jobs on master gate\n\nAs zed is released, we should add its job on master\ngate to keep branchless tempest plugins compatible\nto stable branch.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: Idb8cf4124db69758d71e07b139422b5afafcef78\n'}]",0,861529,8a1999ca0d1976fcf77c729b0746926149650bb9,7,3,1,8556,,,0,"Add stable/zed jobs on master gate

As zed is released, we should add its job on master
gate to keep branchless tempest plugins compatible
to stable branch.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: Idb8cf4124db69758d71e07b139422b5afafcef78
",git fetch https://review.opendev.org/openstack/cloudkitty-tempest-plugin refs/changes/29/861529/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8a1999ca0d1976fcf77c729b0746926149650bb9,zed-stable-job, - cloudkitty-tempest-full-v2-storage-influxdb-zed name: cloudkitty-tempest-full-v2-storage-influxdb-zed parent: cloudkitty-tempest-full-v2-storage-influxdb nodeset: openstack-single-node-focal override-checkout: stable/zed - job:,,7,0
openstack%2Fcloudkitty-tempest-plugin~master~I986dc439249c9f31b72c8be5376e4b1f7566b2d3,openstack/cloudkitty-tempest-plugin,master,I986dc439249c9f31b72c8be5376e4b1f7566b2d3,Pin stable branch jobs nodeset to Ubuntu Focal (20.04),MERGED,2022-10-16 02:05:49.000000000,2022-10-17 12:04:49.000000000,2022-10-17 12:04:49.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2022-10-16 02:05:49.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cloudkitty-tempest-plugin/commit/5cf426861fe40570a0edfb41c66890030ed80882', 'message': 'Pin stable branch jobs nodeset to Ubuntu Focal (20.04)\n\nIn 2023.1 cycle. we are moving the default distro\nversion of Ubuntu to Jammy (22.04)[1] so we need to pin\nthe nodeset for stable branch job in master gate so that\nthey continue run on their supporting distro version which is\nUbuntu Focal since stable/victoria.\n\n[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html\n\nChange-Id: I986dc439249c9f31b72c8be5376e4b1f7566b2d3\n'}]",0,861500,5cf426861fe40570a0edfb41c66890030ed80882,7,3,1,8556,,,0,"Pin stable branch jobs nodeset to Ubuntu Focal (20.04)

In 2023.1 cycle. we are moving the default distro
version of Ubuntu to Jammy (22.04)[1] so we need to pin
the nodeset for stable branch job in master gate so that
they continue run on their supporting distro version which is
Ubuntu Focal since stable/victoria.

[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html

Change-Id: I986dc439249c9f31b72c8be5376e4b1f7566b2d3
",git fetch https://review.opendev.org/openstack/cloudkitty-tempest-plugin refs/changes/00/861500/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5cf426861fe40570a0edfb41c66890030ed80882,migrate-to-jammy, nodeset: openstack-single-node-focal nodeset: openstack-single-node-focal nodeset: openstack-single-node-focal,,3,0
openstack%2Ftripleo-heat-templates~master~Idd8170e435335566e9d1114675259d4d8d603364,openstack/tripleo-heat-templates,master,Idd8170e435335566e9d1114675259d4d8d603364,Sets higher values for timeouts,MERGED,2022-09-28 19:25:53.000000000,2022-10-17 11:55:41.000000000,2022-10-17 11:55:41.000000000,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-09-28 19:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/da28b7773fbcaaeb7c0a42fdf127346e371a2b7e', 'message': 'DNM: Testing  patches for LP #1987092\n\nChange-Id: Idd8170e435335566e9d1114675259d4d8d603364\n'}, {'number': 2, 'created': '2022-09-29 09:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fb60e466d18fadcbd014a491248419a9f7ac54ca', 'message': 'DNM: Testing  patches for LP #1987092\n\nChange-Id: Idd8170e435335566e9d1114675259d4d8d603364\n'}, {'number': 3, 'created': '2022-10-03 15:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a1c6985fa51ad59695ebcaa23f24bb1d3e74ebc5', 'message': 'DNM: Testing  patches for LP #1987092\n\nChange-Id: Idd8170e435335566e9d1114675259d4d8d603364\n'}, {'number': 4, 'created': '2022-10-04 11:21:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6268399e31b64a42e6a90ed573d19efa795903d5', 'message': 'DNM: Testing  patches for LP #1987092\n\nChange-Id: Idd8170e435335566e9d1114675259d4d8d603364\n'}, {'number': 5, 'created': '2022-10-06 13:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/51e543e3c27b575f16b14aaa13122ec1bca6f225', 'message': 'DNM: Testing  patches for LP #1987092\n\nChange-Id: Idd8170e435335566e9d1114675259d4d8d603364\n'}, {'number': 6, 'created': '2022-10-12 18:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c82a25d9b29bf43425bb435ef4883c500c944f0d', 'message': 'Sets higher values for timeouts\n\n\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/859553\nRelated-Bug: #1987092\nChange-Id: Idd8170e435335566e9d1114675259d4d8d603364\n'}, {'number': 7, 'created': '2022-10-12 18:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aa40fa1b4d8055895caf891cf47129b33fa6338e', 'message': 'Sets higher values for timeouts\n\n\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/859553\nRelated-Bug: #1987092\nChange-Id: Idd8170e435335566e9d1114675259d4d8d603364\n'}, {'number': 8, 'created': '2022-10-12 18:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ba235575bf657b218805ff030a8aa3a30f690080', 'message': 'Sets higher values for timeouts\n\n - corosync token_timeout: 30000\n - puppet pacemaker: evs.suspect_timeout=PT30S\n\nThese higher values are an attempt to avoid\nslower operations hitting errors on overcloud\ndeployments in OVB jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/859553\nRelated-Bug: #1987092\nChange-Id: Idd8170e435335566e9d1114675259d4d8d603364\n'}, {'number': 9, 'created': '2022-10-13 21:48:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/091391ce29d8c244865cc0c653769494c423ec7f', 'message': 'Sets higher values for timeouts\n\n - corosync token_timeout: 30000\n - puppet pacemaker: evs.suspect_timeout=PT30S\n\nThese higher values are an attempt to avoid\nslower operations hitting errors on overcloud\ndeployments in OVB jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/859553\nRelated-Bug: #1987092\nChange-Id: Idd8170e435335566e9d1114675259d4d8d603364\n'}, {'number': 10, 'created': '2022-10-13 21:48:46.000000000', 'files': ['ci/environments/ovb-ha.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eb57ba758b69ca95650ea18d5846f28397411936', 'message': 'Sets higher values for timeouts\n\n - corosync token_timeout: 30000\n - puppet pacemaker: evs.suspect_timeout=PT30S\n\nThese higher values are an attempt to avoid\nslower operations hitting errors on overcloud\ndeployments in OVB jobs.\n\nRelated-Bug: #1987092\nChange-Id: Idd8170e435335566e9d1114675259d4d8d603364\n'}]",5,859712,eb57ba758b69ca95650ea18d5846f28397411936,35,6,10,9976,,,0,"Sets higher values for timeouts

 - corosync token_timeout: 30000
 - puppet pacemaker: evs.suspect_timeout=PT30S

These higher values are an attempt to avoid
slower operations hitting errors on overcloud
deployments in OVB jobs.

Related-Bug: #1987092
Change-Id: Idd8170e435335566e9d1114675259d4d8d603364
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/12/859712/10 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/ovb-ha.yaml'],1,da28b7773fbcaaeb7c0a42fdf127346e371a2b7e,DNM-bug1987092, Extraconfig: tripleo::profile::pacemaker::database::mysql_bundle::provider_options: 'evs.suspect_timeout=PT30S' CorosyncTokenTimeout: 30000,,3,0
openstack%2Fneutron~stable%2Fussuri~Iba73f7944592a003232eb397ba1d4da3dcba5c3a,openstack/neutron,stable/ussuri,Iba73f7944592a003232eb397ba1d4da3dcba5c3a,[OVN] Avoid deadlock when cleaning hash ring nodes,MERGED,2022-10-14 13:42:21.000000000,2022-10-17 11:45:52.000000000,2022-10-17 11:44:40.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-14 13:42:21.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2adb471f7575ddcd6af146f84f23bb6f916f79b9', 'message': ""[OVN] Avoid deadlock when cleaning hash ring nodes\n\nThis patch avoids the clash of the hash ring cleaning operation and the\nAPI workers by ensuring that the cleaning happens before the nodes for\nthat host are added to the ring and the connections to the OVSDBs (meaning\nno events therefore no SELECTS on the hash ring table for that hostname).\n\nThis patch does this by re-using the same hash ring lock that starts\nthe probing thread. Now, the first worker that acquire the lock is\nresponsible for cleaning the hash ring for it's own host as well as\nstarting the probing thread. Subsequently workers only need to register\nthemselves to the hash ring.\n\nConflicts:\n  neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n\nChange-Id: Iba73f7944592a003232eb397ba1d4da3dcba5c3a\nCloses-Bug: #1990174\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit b7b8f7c571440577a40aacf9d8d93abc3a5a48b3)\n""}]",0,861386,2adb471f7575ddcd6af146f84f23bb6f916f79b9,9,4,1,6773,,,0,"[OVN] Avoid deadlock when cleaning hash ring nodes

This patch avoids the clash of the hash ring cleaning operation and the
API workers by ensuring that the cleaning happens before the nodes for
that host are added to the ring and the connections to the OVSDBs (meaning
no events therefore no SELECTS on the hash ring table for that hostname).

This patch does this by re-using the same hash ring lock that starts
the probing thread. Now, the first worker that acquire the lock is
responsible for cleaning the hash ring for it's own host as well as
starting the probing thread. Subsequently workers only need to register
themselves to the hash ring.

Conflicts:
  neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py

Change-Id: Iba73f7944592a003232eb397ba1d4da3dcba5c3a
Closes-Bug: #1990174
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit b7b8f7c571440577a40aacf9d8d93abc3a5a48b3)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/861386/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'],1,2adb471f7575ddcd6af146f84f23bb6f916f79b9,," def _setup_hash_ring(self): """"""Setup the hash ring. The first worker to acquire the lock is responsible for cleaning the hash ring from previous runs as well as start the probing thread for this host. Subsequently workers just need to register themselves to the hash ring. """""" admin_context = n_context.get_admin_context() if not self._hash_ring_probe_event.is_set(): self._clean_hash_ring() self.node_uuid = ovn_hash_ring_db.add_node(admin_context, self.hash_ring_group) else: self.node_uuid = ovn_hash_ring_db.add_node(admin_context, self.hash_ring_group) self._setup_hash_ring()"," # NOTE(lucasagomes): _clean_hash_ring() must be called before # self.subscribe() to avoid processes racing when adding or # deleting nodes from the Hash Ring during service initialization self._clean_hash_ring() def _start_hash_ring_probe(self): if not self._hash_ring_probe_event.is_set(): admin_context = n_context.get_admin_context() self.node_uuid = ovn_hash_ring_db.add_node(admin_context, self.hash_ring_group) self._start_hash_ring_probe()",16,9
openstack%2Freleases~master~If5ea4a356b0c7620e2de1d2ab77951d8b76bb5e2,openstack/releases,master,If5ea4a356b0c7620e2de1d2ab77951d8b76bb5e2,Fix base query for empty diff,MERGED,2022-09-30 18:48:14.000000000,2022-10-17 11:26:02.000000000,2022-10-17 11:26:02.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-09-30 18:48:14.000000000', 'files': ['openstack_releases/gitutils.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/bc990ff880b89d203f89be46e66685eb06d34b67', 'message': 'Fix base query for empty diff\n\nWhen the latest branch cut is from the very same hash as the previous\nbranch was cut from, then the rev-list gives an empty list. Originally\nthe last item from the list should have been taken. Since the list is\nempty the splitlines()[-1] gives ""IndexError: list index out of range"".\nThis patch fixes this case with returning None early.\n\nChange-Id: If5ea4a356b0c7620e2de1d2ab77951d8b76bb5e2\n'}]",1,860025,bc990ff880b89d203f89be46e66685eb06d34b67,8,3,1,17685,,,0,"Fix base query for empty diff

When the latest branch cut is from the very same hash as the previous
branch was cut from, then the rev-list gives an empty list. Originally
the last item from the list should have been taken. Since the list is
empty the splitlines()[-1] gives ""IndexError: list index out of range"".
This patch fixes this case with returning None early.

Change-Id: If5ea4a356b0c7620e2de1d2ab77951d8b76bb5e2
",git fetch https://review.opendev.org/openstack/releases refs/changes/25/860025/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/gitutils.py'],1,bc990ff880b89d203f89be46e66685eb06d34b67,," if parents == '': LOG.warning('branch base query result was empty for %s repository', repo) return None",,4,0
openstack%2Fcharm-keystone-k8s~main~I75dac5894f456d6b9de5aa10e43c0d1ebbcceda8,openstack/charm-keystone-k8s,main,I75dac5894f456d6b9de5aa10e43c0d1ebbcceda8,Rehome identity_service module,MERGED,2022-10-17 09:32:38.000000000,2022-10-17 11:06:09.000000000,2022-10-17 10:24:43.000000000,"[{'_account_id': 10366}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-17 09:32:38.000000000', 'files': ['lib/charms/keystone_k8s/v0/identity_service.py', 'src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/cc6077a01d63814547030d14cd62e511d99afcc9', 'message': 'Rehome identity_service module\n\nCharm name has changed to update module pathing to reflect its new\nhome in the charmhub.\n\nChange-Id: I75dac5894f456d6b9de5aa10e43c0d1ebbcceda8\n'}]",1,861592,cc6077a01d63814547030d14cd62e511d99afcc9,8,3,1,935,,,0,"Rehome identity_service module

Charm name has changed to update module pathing to reflect its new
home in the charmhub.

Change-Id: I75dac5894f456d6b9de5aa10e43c0d1ebbcceda8
",git fetch https://review.opendev.org/openstack/charm-keystone-k8s refs/changes/92/861592/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/charms/keystone_k8s/v0/identity_service.py', 'src/charm.py']",2,cc6077a01d63814547030d14cd62e511d99afcc9,rehome-identity-service-interface,import charms.keystone_k8s.v0.identity_service as sunbeam_id_svc,import charms.sunbeam_keystone_operator.v0.identity_service as sunbeam_id_svc,2,2
openstack%2Fopenstack-ansible-plugins~stable%2Fxena~I7761c2083eec8081cd719f7b285f2d657066d343,openstack/openstack-ansible-plugins,stable/xena,I7761c2083eec8081cd719f7b285f2d657066d343,Let git choose the branch when cloning a repo,ABANDONED,2022-10-17 10:47:33.000000000,2022-10-17 10:47:54.000000000,,[],"[{'number': 1, 'created': '2022-10-17 10:47:33.000000000', 'files': ['plugins/modules/git_requirements'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/75b6c861b2a0362a498a3a0048f1f8c72161025f', 'message': ""Let git choose the branch when cloning a repo\n\nIn this path of the code we clone then checkout the required refspec.\nThe branch name used during the initial clone does not affect the\ncheckout to the required refspec.\n\nHardcoding the initial clone to master has worked when the default\nbranch name for repos has been 'master'. The migration of default\nbranch names to 'main' breaks this assumption.\n\nBy not specifying a branch name in the initial clone we avoid\nproblems with master/main migration, or with a repo which legitimately\nuses a non standard default branch name.\n\nChange-Id: I7761c2083eec8081cd719f7b285f2d657066d343\n(cherry picked from commit d8d6391b033c15b4575e77aa909c1b46b8279b61)\n""}]",0,861615,75b6c861b2a0362a498a3a0048f1f8c72161025f,2,0,1,28619,,,0,"Let git choose the branch when cloning a repo

In this path of the code we clone then checkout the required refspec.
The branch name used during the initial clone does not affect the
checkout to the required refspec.

Hardcoding the initial clone to master has worked when the default
branch name for repos has been 'master'. The migration of default
branch names to 'main' breaks this assumption.

By not specifying a branch name in the initial clone we avoid
problems with master/main migration, or with a repo which legitimately
uses a non standard default branch name.

Change-Id: I7761c2083eec8081cd719f7b285f2d657066d343
(cherry picked from commit d8d6391b033c15b4575e77aa909c1b46b8279b61)
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/15/861615/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/git_requirements'],1,75b6c861b2a0362a498a3a0048f1f8c72161025f,,"<<<<<<< HEAD (1bf80e Update TOX_CONSTRAINTS_FILE for stable/xena) ======= #!/usr/bin/python # -*- coding: utf-8 -*- from ansible.module_utils.basic import AnsibleModule import git import itertools import multiprocessing import os import signal import time DOCUMENTATION = """""" --- module: git_requirements short_description: Module to run a multithreaded git clone options: repo_info: description: - List of repo information dictionaries containing at a minimum a key entry ""src"" with the source git URL to clone for each repo. In these dictionaries, one can further specify: ""path"" - destination clone location ""version"" - git version to checkout ""refspec"" - git refspec to checkout ""depth"" - clone depth level ""shallow_since"" - get repo history starting from that date ""force"" - require git clone uses ""--force"" default_path: description: Default git clone path (str) in case not specified on an individual repo basis in repo_info. Defaults to ""master"". Not required. default_version: description: Default git version (str) in case not specified on an individual repo basis in repo_info. Defaults to ""master"". Not required. default_refspec: description: Default git repo refspec (str) in case not specified on an individual repo basis in repo_info. Defaults to """". Not required. default_depth: description: Default clone depth (int) in case not specified on an individual repo basis. Defaults to None. Not required. default_shallow_since: description: Default shallow date (str) strating from which git history will be fetched. Defaults to None. Has prescedence over depth. Not required. retries: description: Integer number of retries allowed in case of git clone failure. Defaults to 1. Not required. delay: description: Integer time delay (seconds) between git clone retries in case of failure. Defaults to 0. Not required. force: description: Boolean. Apply --force flags to git clones wherever possible. Defaults to False. Not required. core_multiplier: description: Integer multiplier on the number of cores present on the machine to use for multithreading. For example, on a 2 core machine, a multiplier of 4 would use 8 threads. Defaults to 4. Not required. """""" EXAMPLES = r"""""" - name: Clone repos git_requirements: repo_info: ""[{'src':'https://github.com/ansible/', 'name': 'ansible' 'dest': '/etc/opt/ansible'}]"" """""" def init_signal(): signal.signal(signal.SIGINT, signal.SIG_IGN) def check_out_version(repo, version, pull=False, fetch=True, force=False, refspec=None, tag=False, depth=None, shallow_since=None): if fetch: try: if shallow_since: depth = None repo.git.fetch(tags=tag, force=force, refspec=refspec, depth=depth, shallow_since=shallow_since) except Exception as e: return [""Failed to fetch %s\n%s"" % (repo.working_dir, str(e))] try: repo.git.checkout(version, force=force) except Exception as e: return [ ""Failed to check out version %s for %s\n%s"" % (version, repo.working_dir, str(e))] if repo.is_dirty(untracked_files=True) and force: try: repo.git.clean(force=force) except Exception as e: return [ ""Failed to clean up repository% s\n%s"" % (repo.working_dir, str(e))] if pull: try: repo.git.pull(force=force, refspec=refspec, depth=depth) except Exception as e: return [""Failed to pull repo %s\n%s"" % (repo.working_dir, str(e))] return [] def pull_wrapper(info): role_info = info retries = info[1][""retries""] delay = info[1][""delay""] for i in range(retries): success = pull_role(role_info) if success: return True else: time.sleep(delay) info[2].append([""Role {0} failed after {1} retries\n"".format(role_info[0], retries)]) return False def pull_role(info): role, config, failures = info required_version = role[""version""] version_hash = False if 'version' in role: # If the version is the length of a hash then treat is as one if len(required_version) == 40: version_hash = True def get_repo(dest): try: return git.Repo(dest) except Exception: failtxt = ""Role in {0} is broken/not a git repo."".format( role[""dest""]) failtxt += ""Please delete or fix it manually"" failures.append(failtxt) return False # if repo exists if os.path.exists(role[""dest""]): repo = get_repo(role[""dest""]) if not repo: return False # go to next role repo_url = list(repo.remote().urls)[0] if repo_url != role[""src""]: repo.remote().set_url(role[""src""]) # if they want master then fetch, checkout and pull to stay at latest # master if required_version == ""master"": fail = check_out_version(repo, required_version, pull=True, force=config[""force""], refspec=role[""refspec""], depth=role[""depth""], shallow_since=role[""shallow_since""]) # If we have a hash then reset it to elif version_hash: fail = check_out_version(repo, required_version, force=config[""force""], refspec=role[""refspec""], depth=role[""depth""], shallow_since=role[""shallow_since""]) else: # describe can fail in some cases so be careful: try: current_version = repo.git.describe(tags=True) except Exception: current_version = """" if current_version == required_version and not config[""force""]: fail = [] pass else: fail = check_out_version(repo, required_version, force=config[""force""], refspec=role[""refspec""], depth=role[""depth""], shallow_since=role[""shallow_since""], tag=True) else: try: # If we have a hash id then treat this a little differently shallow_since = role.get('shallow_since') if shallow_since: depth = None else: depth = role.get('depth') if version_hash: repo = git.Repo.clone_from(role[""src""], role[""dest""], no_single_branch=True, depth=depth, shallow_since=shallow_since,) if not repo: return False # go to next role fail = check_out_version(repo, required_version, force=config[""force""], refspec=role[""refspec""], depth=depth, fetch=False, shallow_since=shallow_since,) else: git.Repo.clone_from(role[""src""], role[""dest""], branch=required_version, depth=depth, shallow_since=shallow_since, no_single_branch=True) fail = [] except Exception as e: fail = ('Failed cloning repo %s\n%s' % (role[""dest""], str(e))) if fail == []: return True else: failures.append(fail) return False def set_default(dictionary, key, defaults): if key not in dictionary.keys(): dictionary[key] = defaults[key] def main(): # Define variables failures = multiprocessing.Manager().list() # Data we can pass in to the module fields = { ""repo_info"": {""required"": True, ""type"": ""list""}, ""default_path"": {""required"": True, ""type"": ""str""}, ""default_version"": {""required"": False, ""type"": ""str"", ""default"": ""master""}, ""default_refspec"": {""required"": False, ""type"": ""str"", ""default"": None}, ""default_depth"": {""required"": False, ""type"": ""int"", ""default"": None}, ""default_shallow_since"": {""required"": False, ""type"": str, ""default"": None}, ""retries"": {""required"": False, ""type"": ""int"", ""default"": 1}, ""delay"": {""required"": False, ""type"": ""int"", ""default"": 0}, ""force"": {""required"": False, ""type"": ""bool"", ""default"": False}, ""core_multiplier"": {""required"": False, ""type"": ""int"", ""default"": 4}, } # Pull in module fields and pass into variables module = AnsibleModule(argument_spec=fields) git_repos = module.params['repo_info'] defaults = { ""path"": module.params[""default_path""], ""depth"": module.params[""default_depth""], ""shallow_since"": module.params[""default_shallow_since""], ""version"": module.params[""default_version""], ""refspec"": module.params[""default_refspec""] } config = { ""retries"": module.params[""retries""], ""delay"": module.params[""delay""], ""force"": module.params[""force""], ""core_multiplier"": module.params[""core_multiplier""] } # Set up defaults for repo in git_repos: for key in [""path"", ""refspec"", ""version"", ""depth"", ""shallow_since""]: set_default(repo, key, defaults) if ""name"" not in repo.keys(): repo[""name""] = os.path.basename(repo[""src""]) repo[""dest""] = os.path.join(repo[""path""], repo[""name""]) # Define varibles failures = multiprocessing.Manager().list() core_count = multiprocessing.cpu_count() * config[""core_multiplier""] # Load up process and pass in interrupt and core process count p = multiprocessing.Pool(core_count, init_signal) clone_success = p.map(pull_wrapper, zip(git_repos, itertools.repeat(config), itertools.repeat(failures)), chunksize=1) p.close() success = all(i for i in clone_success) if success: module.exit_json(msg=str(git_repos), changed=True) else: module.fail_json(msg=(""Module failed""), meta=failures) if __name__ == '__main__': main() >>>>>>> CHANGE (d8d639 Let git choose the branch when cloning a repo) ",,337,0
openstack%2Fcharm-ops-sunbeam~main~I5d043b0096dada205aef05e0ef903ed2f495618d,openstack/charm-ops-sunbeam,main,I5d043b0096dada205aef05e0ef903ed2f495618d,Use rehomed identity-service interface,MERGED,2022-10-17 09:35:31.000000000,2022-10-17 10:43:05.000000000,2022-10-17 10:43:05.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-17 09:35:31.000000000', 'files': ['unit_tests/lib/charms/keystone_k8s/v0/identity_service.py', 'unit_tests/lib/charms/sunbeam_keystone_operator/v0/cloud_credentials.py', 'ops_sunbeam/relation_handlers.py', 'fetch-libs.sh'], 'web_link': 'https://opendev.org/openstack/charm-ops-sunbeam/commit/4fb1d462d6767f9190987a07c03bc56899bd4da3', 'message': 'Use rehomed identity-service interface\n\nUse new rehomed identity-service interface from keystone-k8s.\n\nDepends-On: I75dac5894f456d6b9de5aa10e43c0d1ebbcceda8\nChange-Id: I5d043b0096dada205aef05e0ef903ed2f495618d\n'}]",2,861593,4fb1d462d6767f9190987a07c03bc56899bd4da3,9,2,1,935,,,0,"Use rehomed identity-service interface

Use new rehomed identity-service interface from keystone-k8s.

Depends-On: I75dac5894f456d6b9de5aa10e43c0d1ebbcceda8
Change-Id: I5d043b0096dada205aef05e0ef903ed2f495618d
",git fetch https://review.opendev.org/openstack/charm-ops-sunbeam refs/changes/93/861593/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/lib/charms/keystone_k8s/v0/identity_service.py', 'unit_tests/lib/charms/sunbeam_keystone_operator/v0/cloud_credentials.py', 'ops_sunbeam/relation_handlers.py', 'fetch-libs.sh']",4,4fb1d462d6767f9190987a07c03bc56899bd4da3,identity-service-rehome,charmcraft fetch-lib charms.keystone_k8s.v0.identity_service,charmcraft fetch-lib charms.sunbeam_keystone_operator.v0.identity_service,46,442
openstack%2Fneutron~stable%2Fzed~Iba73f7944592a003232eb397ba1d4da3dcba5c3a,openstack/neutron,stable/zed,Iba73f7944592a003232eb397ba1d4da3dcba5c3a,[OVN] Avoid deadlock when cleaning hash ring nodes,MERGED,2022-10-14 13:41:21.000000000,2022-10-17 10:36:36.000000000,2022-10-17 10:35:19.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-14 13:41:21.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3f8b96ec647eb4d660064204019f3a0a8e18e4b6', 'message': ""[OVN] Avoid deadlock when cleaning hash ring nodes\n\nThis patch avoids the clash of the hash ring cleaning operation and the\nAPI workers by ensuring that the cleaning happens before the nodes for\nthat host are added to the ring and the connections to the OVSDBs (meaning\nno events therefore no SELECTS on the hash ring table for that hostname).\n\nThis patch does this by re-using the same hash ring lock that starts\nthe probing thread. Now, the first worker that acquire the lock is\nresponsible for cleaning the hash ring for it's own host as well as\nstarting the probing thread. Subsequently workers only need to register\nthemselves to the hash ring.\n\nChange-Id: Iba73f7944592a003232eb397ba1d4da3dcba5c3a\nCloses-Bug: #1990174\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit b7b8f7c571440577a40aacf9d8d93abc3a5a48b3)\n""}]",0,861381,3f8b96ec647eb4d660064204019f3a0a8e18e4b6,10,4,1,6773,,,0,"[OVN] Avoid deadlock when cleaning hash ring nodes

This patch avoids the clash of the hash ring cleaning operation and the
API workers by ensuring that the cleaning happens before the nodes for
that host are added to the ring and the connections to the OVSDBs (meaning
no events therefore no SELECTS on the hash ring table for that hostname).

This patch does this by re-using the same hash ring lock that starts
the probing thread. Now, the first worker that acquire the lock is
responsible for cleaning the hash ring for it's own host as well as
starting the probing thread. Subsequently workers only need to register
themselves to the hash ring.

Change-Id: Iba73f7944592a003232eb397ba1d4da3dcba5c3a
Closes-Bug: #1990174
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit b7b8f7c571440577a40aacf9d8d93abc3a5a48b3)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/861381/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'],1,3f8b96ec647eb4d660064204019f3a0a8e18e4b6,," def _setup_hash_ring(self): """"""Setup the hash ring. The first worker to acquire the lock is responsible for cleaning the hash ring from previous runs as well as start the probing thread for this host. Subsequently workers just need to register themselves to the hash ring. """""" admin_context = n_context.get_admin_context() if not self._hash_ring_probe_event.is_set(): self._clean_hash_ring() self.node_uuid = ovn_hash_ring_db.add_node(admin_context, self.hash_ring_group) else: self.node_uuid = ovn_hash_ring_db.add_node(admin_context, self.hash_ring_group) self._setup_hash_ring()"," # NOTE(lucasagomes): _clean_hash_ring() must be called before # self.subscribe() to avoid processes racing when adding or # deleting nodes from the Hash Ring during service initialization self._clean_hash_ring() def _start_hash_ring_probe(self): if not self._hash_ring_probe_event.is_set(): admin_context = n_context.get_admin_context() self.node_uuid = ovn_hash_ring_db.add_node(admin_context, self.hash_ring_group) self._start_hash_ring_probe()",16,9
openstack%2Fcharm-ops-sunbeam~main~Ic706b866af365fde36cf4a665a2c26e952aedbe0,openstack/charm-ops-sunbeam,main,Ic706b866af365fde36cf4a665a2c26e952aedbe0,Misc fixes,MERGED,2022-10-06 15:25:35.000000000,2022-10-17 10:31:35.000000000,2022-10-17 10:31:35.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-06 15:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ops-sunbeam/commit/513044eea57f40fc8cd9bfedbd65dce2b6a059f5', 'message': 'Misc fixes\n\nOnly run DB syncs on lead unit.\n\nEnsure current event is passed to configure_charm method.\n\nChange-Id: Ic706b866af365fde36cf4a665a2c26e952aedbe0\n'}, {'number': 2, 'created': '2022-10-07 15:25:26.000000000', 'files': ['ops_sunbeam/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-ops-sunbeam/commit/202841771a37f8508a148698272ae05fa16756b8', 'message': 'Misc fixes\n\nOnly run DB syncs on lead unit.\n\nEnsure current event is passed to configure_charm method.\n\nChange-Id: Ic706b866af365fde36cf4a665a2c26e952aedbe0\n'}]",1,860583,202841771a37f8508a148698272ae05fa16756b8,8,2,2,935,,,0,"Misc fixes

Only run DB syncs on lead unit.

Ensure current event is passed to configure_charm method.

Change-Id: Ic706b866af365fde36cf4a665a2c26e952aedbe0
",git fetch https://review.opendev.org/openstack/charm-ops-sunbeam refs/changes/83/860583/1 && git format-patch -1 --stdout FETCH_HEAD,['ops_sunbeam/charm.py'],1,513044eea57f40fc8cd9bfedbd65dce2b6a059f5,misc-fixes," self.configure_charm(event) if not self.unit.is_leader(): logging.info('Not lead unit, skipping DB syncs') return", self.configure_charm(None),4,1
openstack%2Fcharm-keystone-k8s~main~Id6cfb15b5e7ebf6bd66d5dac7fc0526f2cf52a0d,openstack/charm-keystone-k8s,main,Id6cfb15b5e7ebf6bd66d5dac7fc0526f2cf52a0d,Add action to get service credentials,MERGED,2022-10-13 13:28:56.000000000,2022-10-17 10:23:52.000000000,2022-10-17 09:08:21.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-13 13:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/1f25f456067910c6fc1af70fffdc23d201b3a7f5', 'message': 'Add action to get service credentials\n\nAdd new get-service-account action to create/retrieve credentials\nto use to access Keystone as an OpenStack service from outside of\na charmed deployment.\n\nChange-Id: Id6cfb15b5e7ebf6bd66d5dac7fc0526f2cf52a0d\n'}, {'number': 2, 'created': '2022-10-14 13:46:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/3f5994aa6505eb538c01af195650e617903bd39e', 'message': 'Add action to get service credentials\n\nAdd new get-service-account action to create/retrieve credentials\nto use to access Keystone as an OpenStack service from outside of\na charmed deployment.\n\nChange-Id: Id6cfb15b5e7ebf6bd66d5dac7fc0526f2cf52a0d\n'}, {'number': 3, 'created': '2022-10-14 13:49:55.000000000', 'files': ['tests/unit/test_keystone_charm.py', 'src/charm.py', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/87042a1373c24ba31133377b98d8573ca685f7cf', 'message': 'Add action to get service credentials\n\nAdd new get-service-account action to create/retrieve credentials\nto use to access Keystone as an OpenStack service from outside of\na charmed deployment.\n\nChange-Id: Id6cfb15b5e7ebf6bd66d5dac7fc0526f2cf52a0d\n'}]",0,861178,87042a1373c24ba31133377b98d8573ca685f7cf,13,3,3,935,,,0,"Add action to get service credentials

Add new get-service-account action to create/retrieve credentials
to use to access Keystone as an OpenStack service from outside of
a charmed deployment.

Change-Id: Id6cfb15b5e7ebf6bd66d5dac7fc0526f2cf52a0d
",git fetch https://review.opendev.org/openstack/charm-keystone-k8s refs/changes/78/861178/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/test_keystone_charm.py', 'src/charm.py', 'actions.yaml']",3,1f25f456067910c6fc1af70fffdc23d201b3a7f5,credentials-action, get-service-account: description: Create/get details for a new/existing service account. params: username: type: string description: The username for the service account. required: - username additionalProperties: False,,94,0
openstack%2Fcharm-ops-sunbeam~main~I53c8b9d1194895bdf6322cf8a256f32459aa76d7,openstack/charm-ops-sunbeam,main,I53c8b9d1194895bdf6322cf8a256f32459aa76d7,Use new rabbitmq-k8s operator and interfaces,MERGED,2022-10-13 09:07:29.000000000,2022-10-17 10:15:03.000000000,2022-10-17 10:15:03.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-13 09:07:29.000000000', 'files': ['doc/bundles/minimal.yaml', 'doc/bundles/full.yaml', 'unit_tests/lib/charms/rabbitmq_k8s/v0/rabbitmq.py', 'ops_sunbeam/charm.py', 'ops_sunbeam/relation_handlers.py', 'fetch-libs.sh'], 'web_link': 'https://opendev.org/openstack/charm-ops-sunbeam/commit/6549c129a9cb6274616aefbb23acf9c34c52b843', 'message': 'Use new rabbitmq-k8s operator and interfaces\n\nUse renamed rabbitmq-k8s operator in bundles and the new rabbitmq\ninterface from the same operator in the codebase.\n\nThis will require an update to fetch-libs.sh for all charms\nto rollout.\n\nChange-Id: I53c8b9d1194895bdf6322cf8a256f32459aa76d7\n'}]",1,861153,6549c129a9cb6274616aefbb23acf9c34c52b843,6,2,1,935,,,0,"Use new rabbitmq-k8s operator and interfaces

Use renamed rabbitmq-k8s operator in bundles and the new rabbitmq
interface from the same operator in the codebase.

This will require an update to fetch-libs.sh for all charms
to rollout.

Change-Id: I53c8b9d1194895bdf6322cf8a256f32459aa76d7
",git fetch https://review.opendev.org/openstack/charm-ops-sunbeam refs/changes/53/861153/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/bundles/minimal.yaml', 'doc/bundles/full.yaml', 'unit_tests/lib/charms/rabbitmq_k8s/v0/rabbitmq.py', 'ops_sunbeam/charm.py', 'ops_sunbeam/relation_handlers.py', 'fetch-libs.sh']",6,6549c129a9cb6274616aefbb23acf9c34c52b843,rabbitmq-k8s,charmcraft fetch-lib charms.rabbitmq_k8s.v0.rabbitmq,charmcraft fetch-lib charms.sunbeam_rabbitmq_operator.v0.amqp,79,76
openstack%2Fcharm-ops-sunbeam~main~Ibb8cfe50609173b23b408414ab8452f4d6bcd4ae,openstack/charm-ops-sunbeam,main,Ibb8cfe50609173b23b408414ab8452f4d6bcd4ae,Use properly published cloud-credentials interface,MERGED,2022-10-13 09:07:29.000000000,2022-10-17 10:13:54.000000000,2022-10-17 10:13:54.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-13 09:07:29.000000000', 'files': ['unit_tests/lib/charms/keystone_k8s/v0/cloud_credentials.py', 'ops_sunbeam/relation_handlers.py', 'fetch-libs.sh'], 'web_link': 'https://opendev.org/openstack/charm-ops-sunbeam/commit/8125845eeed34c913eabba9348449a4298814a3a', 'message': 'Use properly published cloud-credentials interface\n\nThe existing cloud-credentials interface was missing from the charmhub\nand not correctly namespaced to the keystone-k8s charm.\n\nUpdate to use the new published version.\n\nChange-Id: Ibb8cfe50609173b23b408414ab8452f4d6bcd4ae\n'}]",1,861152,8125845eeed34c913eabba9348449a4298814a3a,6,2,1,935,,,0,"Use properly published cloud-credentials interface

The existing cloud-credentials interface was missing from the charmhub
and not correctly namespaced to the keystone-k8s charm.

Update to use the new published version.

Change-Id: Ibb8cfe50609173b23b408414ab8452f4d6bcd4ae
",git fetch https://review.opendev.org/openstack/charm-ops-sunbeam refs/changes/52/861152/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/lib/charms/keystone_k8s/v0/cloud_credentials.py', 'ops_sunbeam/relation_handlers.py', 'fetch-libs.sh']",3,8125845eeed34c913eabba9348449a4298814a3a,rabbitmq-k8s,charmcraft fetch-lib charms.keystone_k8s.v0.cloud_credentials,charmcraft fetch-lib charms.sunbeam_keystone_operator.v0.cloud_credentials,420,2
openstack%2Fcharm-keystone-k8s~main~I3b68fc0890d221132eec9312413dacf980293ece,openstack/charm-keystone-k8s,main,I3b68fc0890d221132eec9312413dacf980293ece,Rename cloud-credentials interface,MERGED,2022-10-13 08:59:09.000000000,2022-10-17 09:44:13.000000000,2022-10-17 09:04:34.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-13 08:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/91a6a421f3745dd7177f0bd94b7c9181285c3060', 'message': 'Rename cloud-credentials interface\n\nThis interface had a broken identitier and was missing from the\ncharmhub; rename and place under the keystone_k8s namespace.\n\nChange-Id: I3b68fc0890d221132eec9312413dacf980293ece\n'}, {'number': 2, 'created': '2022-10-14 13:46:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/4cf628d73bd906dfaac5521c85446c63ebfe0d8e', 'message': 'Rename cloud-credentials interface\n\nThis interface had a broken identitier and was missing from the\ncharmhub; rename and place under the keystone_k8s namespace.\n\nChange-Id: I3b68fc0890d221132eec9312413dacf980293ece\n'}, {'number': 3, 'created': '2022-10-14 13:49:55.000000000', 'files': ['lib/charms/keystone_k8s/v0/cloud_credentials.py', 'src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/cb1cf4435a6d15c8240aea207fc76b721a82978f', 'message': 'Rename cloud-credentials interface\n\nThis interface had a broken identitier and was missing from the\ncharmhub; rename and place under the keystone_k8s namespace.\n\nChange-Id: I3b68fc0890d221132eec9312413dacf980293ece\n'}]",0,861151,cb1cf4435a6d15c8240aea207fc76b721a82978f,13,3,3,935,,,0,"Rename cloud-credentials interface

This interface had a broken identitier and was missing from the
charmhub; rename and place under the keystone_k8s namespace.

Change-Id: I3b68fc0890d221132eec9312413dacf980293ece
",git fetch https://review.opendev.org/openstack/charm-keystone-k8s refs/changes/51/861151/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/charms/keystone_k8s/v0/cloud_credentials.py', 'src/charm.py']",2,91a6a421f3745dd7177f0bd94b7c9181285c3060,credentials-action,import charms.keystone_k8s.v0.cloud_credentials as sunbeam_cc_svc,import charms.sunbeam_keystone_operator.v0.cloud_credentials as sunbeam_cc_svc,25,25
openstack%2Fnova-specs~master~I84f4db9aa86aec03ce07f27f3e7a39ba2275d351,openstack/nova-specs,master,I84f4db9aa86aec03ce07f27f3e7a39ba2275d351,Add spec for external cpu power managment,ABANDONED,2021-12-10 15:51:50.000000000,2022-10-17 09:20:18.000000000,,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-10 15:51:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/95542b7025bd00b1e47a96067024db934a7f5dba', 'message': 'Add spec for external cpu power managment\n\nChange-Id: I84f4db9aa86aec03ce07f27f3e7a39ba2275d351\n'}, {'number': 2, 'created': '2021-12-14 00:03:41.000000000', 'files': ['specs/yoga/approved/external-cpu-management.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b241b8673b22441890beccd3fa3c75016e10d655', 'message': 'Add spec for external cpu power managment\n\nChange-Id: I84f4db9aa86aec03ce07f27f3e7a39ba2275d351\n'}]",37,821419,b241b8673b22441890beccd3fa3c75016e10d655,12,4,2,11604,,,0,"Add spec for external cpu power managment

Change-Id: I84f4db9aa86aec03ce07f27f3e7a39ba2275d351
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/19/821419/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/yoga/approved/external-cpu-management.rst'],1,95542b7025bd00b1e47a96067024db934a7f5dba,external-cpu-management,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== External CPU Management ========================================== Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/nova/+spec/external-cpu-management In many telco or semi staic cloud there is a bin packing problem where a node for all pratical usecases is full since no futher applcaitons can be scheduled to the host but in reality it still has unused cpu cores. In a typical server system a idle cpu core consumes 3-5 watts of power and produced 3-5 watts fo heat which the datacenter cooling solution must accomidate. in the interstet of reducing power usage and heat output to make data centers greener it makes sense to allow the power state of cpus to be managed external to nova so that it can be optimised. Problem description =================== For our large telco operators they often find they have 2-4 cpus which are not usable due to cpu pining/packing requirements per host. Each cpu consumes 3-5 watts per core or 12-20 watts per host. assuming a nominal cost per KWH of 20c and 1000 host that is $35,040 in wasted electricity alone form just the idle cpu usage plus the addition cost of dissipating all of the heat generated. Furthermore, while many telco usecase require low latency and high throughput not all require the cpu to run at the max frequence. Use Cases --------- As an operator using the nova libvirt dirver i would like to be able to disable (offline) cpu cores using the kernel sysfs interface from a external tool. As a operator i woudl like to leverage server metadata and tags to express a policy which my external tool can use to tune the host. Proposed change =============== There are two parts to to this proposal the first is simple. Add a config option to the libvirt secation to declare that the host cpus are externally managed `[1]`_. [libvirt] cpu_external_management=True|False(default) second optionally add a new external event and a second config option to wait for the event. [libvirt] external_managment_timeout=-1 -1 is disabled (default) 0 is wait indefintly >0 is the time out to use when this config option is not equal to -1 a new set of external event waiters will be activated in speicifc instance actions before nova starts a vm at boot, unshelve, cold migrate, rebuild, rescue and evacute. as synconosation during a live migrate is non trivial and nova cannot contol when the vm unpasuses no addtional waiting will be added for live migrate The external service would listen to the versioned nova notification stream to know that an instance needs to managed so no direct interfaction betwen nova and the external service is required. Alternatives ------------ we could just do step one and provide a way to disable checking the cpu online state in the libvirt driver with no external synchronization. we could do this directly in nova. Data model impact ----------------- None REST API impact --------------- A new external event type will be added. ``external-management-complete`` Security impact --------------- None While the external management component will need to ensure that it works securely there is no security impact to Nova Notifications impact -------------------- if we implement step 2, adding the external event we may also want to send a new notification to indicate we have started waiting for external management of the instance. Other end user impact --------------------- None Performance Impact ------------------ This should not impact the performance of nova but would provide a side-channel to allow guest to influence there own performance if the external management application support it. Other deployer impact --------------------- In addition to the nova change deployment tools that choose to support this feature will need be enhanced to deploy the external management daemon. Developer impact ---------------- None Upgrade impact -------------- The external management daemon will not be usable until after the compute node is upgraded to yoga due to the current restriction on core online status. however once the compute node is updated there should be no upgrade impact. Implementation ============== Assignee(s) ----------- Primary assignee: sean-k-mooney Other contributors: None Feature Liaison --------------- Feature liaison: sean-k-mooney Work Items ---------- * add config option for exteral cpu state managment `[1]`_ * add config option for external event timeout * add external event type to api * add conditional event waiting blocks to instance start operations. * add example documentation for how to integrate an external service. Dependencies ============ None Testing ======= Testing of both part of this spec will be done with unit and funcational. tests and a test fixture to fake an external service will be added. this fixture will be a noop that just send the event in responce to the new notificaiton. the api sample tests will be updated to account for the new notifcaiton. Documentation Impact ==================== an example doc will be provided on how to integrate a service for deployment tools to consume. References ========== .. _[1]: https://review.opendev.org/c/openstack/nova/+/821228 A WIP reference implementation of the external service is hosted at https://github.com/SeanMooney/arbiterd This may be upstream to opendev in the future. In the specific case of arbiterd the intent is to allow add integration with placement so that it can mark any off-lined core as reserved in placment to ensure correct scheduling. traits inventories of power buget or other resources may also be exposed over time however provider.yaml may also be used for that. History ======= Optional section intended to be used each time the spec is updated to describe new design, API or any database schema updated. Useful to let reader understand what's happened along the time. .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Yoga - Introduced ",,220,0
openstack%2Fcharm-zuul-jobs~master~I92af309a150d2c412ea0fb24725f44d3c5830b87,openstack/charm-zuul-jobs,master,I92af309a150d2c412ea0fb24725f44d3c5830b87,Make ansible files consistent with job names,MERGED,2022-10-17 08:56:24.000000000,2022-10-17 09:15:20.000000000,2022-10-17 09:15:20.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-17 08:56:24.000000000', 'files': ['playbooks/zaza-smoke-test.yaml', 'playbooks/charmbuild.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/charm-zuul-jobs/commit/db29fcf441cfaab931e49360d246622f79708565', 'message': 'Make ansible files consistent with job names\n\nChange-Id: I92af309a150d2c412ea0fb24725f44d3c5830b87\n'}]",0,861585,db29fcf441cfaab931e49360d246622f79708565,6,2,1,12549,,,0,"Make ansible files consistent with job names

Change-Id: I92af309a150d2c412ea0fb24725f44d3c5830b87
",git fetch https://review.opendev.org/openstack/charm-zuul-jobs refs/changes/85/861585/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/zaza-smoke-test.yaml', 'playbooks/charmbuild.yaml', 'zuul.d/jobs.yaml']",3,db29fcf441cfaab931e49360d246622f79708565,tidy-up-names, run: playbooks/charmbuild.yaml run: playbooks/zaza-smoke-test.yaml, run: playbooks/build-charm.yaml run: playbooks/func-tests.yaml,3,3
openstack%2Fblazar~master~I44fd6faea2bb1d22a1578599f3858d7d24ff45b8,openstack/blazar,master,I44fd6faea2bb1d22a1578599f3858d7d24ff45b8,Add soft delete to most Blazar models,NEW,2018-07-25 15:56:39.000000000,2022-10-17 09:06:53.000000000,,"[{'_account_id': 8878}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 29270}]","[{'number': 1, 'created': '2018-07-25 15:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/4716a62a56a488a04d0eeaaf03cb35854738100b', 'message': 'Add soft delete to most Blazar models\n\nThis patch creates a SoftDeleteMixinWithUuid class from which most\nBlazar models inherit and adapts the rest of the code to soft delete\nrows. An Alembic migration script is included to add `deleted` and\n`deleted_at` columns to all tables.\n\nCompute hosts and extra capabilities are not given soft delete\ncapabilities: compute hosts primary keys match Nova compute node IDs,\nwhich could create conflicts if a host is deleted and re-created.\nAccordingly, the Alembic migration script removes the foreign key\nrelationship between computehost_allocations and computehosts, since\ncompute hosts can be deleted from the database while soft deleted\nallocations are kept.\n\nChange-Id: I44fd6faea2bb1d22a1578599f3858d7d24ff45b8\n'}, {'number': 2, 'created': '2018-07-27 14:28:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/c91381f48a24af5648e1f41490e97ea326d87fe9', 'message': 'Add soft delete to most Blazar models\n\nThis patch creates a SoftDeleteMixinWithUuid class from which most\nBlazar models inherit and adapts the rest of the code to soft delete\nrows. An Alembic migration script is included to add `deleted` and\n`deleted_at` columns to all tables.\n\nCompute hosts and extra capabilities are not given soft delete\ncapabilities: compute hosts primary keys match Nova compute node IDs,\nwhich could create conflicts if a host is deleted and re-created.\nAccordingly, the Alembic migration script removes the foreign key\nrelationship between computehost_allocations and computehosts, since\ncompute hosts can be deleted from the database while soft deleted\nallocations are kept.\n\nChange-Id: I44fd6faea2bb1d22a1578599f3858d7d24ff45b8\n'}, {'number': 3, 'created': '2019-08-02 19:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/ab8271ecfe970e8718c8db7b5c249253a82241e6', 'message': 'Add soft delete to most Blazar models\n\nThis patch creates a SoftDeleteMixinWithUuid class from which most\nBlazar models inherit and adapts the rest of the code to soft delete\nrows. An Alembic migration script is included to add `deleted` and\n`deleted_at` columns to all tables.\n\nCompute hosts and extra capabilities are not given soft delete\ncapabilities: compute hosts primary keys match Nova compute node IDs,\nwhich could create conflicts if a host is deleted and re-created.\nAccordingly, the Alembic migration script removes the foreign key\nrelationship between computehost_allocations and computehosts, since\ncompute hosts can be deleted from the database while soft deleted\nallocations are kept.\n\nChange-Id: I44fd6faea2bb1d22a1578599f3858d7d24ff45b8\n'}, {'number': 4, 'created': '2019-08-02 20:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/11e90a13818d3c0a0183cbd4a8eccac1e88a4454', 'message': 'Add soft delete to most Blazar models\n\nThis patch creates a SoftDeleteMixinWithUuid class from which most\nBlazar models inherit and adapts the rest of the code to soft delete\nrows. An Alembic migration script is included to add `deleted` and\n`deleted_at` columns to all tables.\n\nCompute hosts and extra capabilities are not given soft delete\ncapabilities: compute hosts primary keys match Nova compute node IDs,\nwhich could create conflicts if a host is deleted and re-created.\nAccordingly, the Alembic migration script removes the foreign key\nrelationship between computehost_allocations and computehosts, since\ncompute hosts can be deleted from the database while soft deleted\nallocations are kept.\n\nChange-Id: I44fd6faea2bb1d22a1578599f3858d7d24ff45b8\n'}, {'number': 5, 'created': '2022-09-30 14:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/a61d9b8582aab1b65767e20ae97b9800786bbf7a', 'message': 'Add soft delete to most Blazar models\n\nThis patch creates a SoftDeleteMixinWithUuid class from which most\nBlazar models inherit and adapts the rest of the code to soft delete\nrows. An Alembic migration script is included to add `deleted` and\n`deleted_at` columns to all tables.\n\nCompute hosts and extra capabilities are not given soft delete\ncapabilities: compute hosts primary keys match Nova compute node IDs,\nwhich could create conflicts if a host is deleted and re-created.\nAccordingly, the Alembic migration script removes the foreign key\nrelationship between computehost_allocations and computehosts, since\ncompute hosts can be deleted from the database while soft deleted\nallocations are kept.\n\nThe database can be pruned of soft-deleted entries with the command\n``blazar-db-manage purge --age_in_days`` which will remove any rows\nthat have been soft deleted that are older than the given age.\n`age_in_days` defaults to 30.\n\nCo-Authored-By: Matt Crees <mattc@stackhpc.com>\n\nChange-Id: I44fd6faea2bb1d22a1578599f3858d7d24ff45b8\n'}, {'number': 6, 'created': '2022-10-14 14:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/c6a74719fdcec5d79d6cbee8fd8fef5a7fae45a7', 'message': 'Add soft delete to most Blazar models\n\nThis patch creates a SoftDeleteMixinWithUuid class from which most\nBlazar models inherit and adapts the rest of the code to soft delete\nrows. An Alembic migration script is included to add `deleted` and\n`deleted_at` columns to all tables.\n\nCompute hosts and extra capabilities are not given soft delete\ncapabilities: compute hosts primary keys match Nova compute node IDs,\nwhich could create conflicts if a host is deleted and re-created.\nAccordingly, the Alembic migration script removes the foreign key\nrelationship between computehost_allocations and computehosts, since\ncompute hosts can be deleted from the database while soft deleted\nallocations are kept.\n\nThe database can be pruned of soft-deleted entries with the command\n``blazar-db-manage purge --age_in_days`` which will remove any rows\nthat have been soft deleted that are older than the given age.\n`age_in_days` defaults to 30.\n\nCo-Authored-By: Matt Crees <mattc@stackhpc.com>\n\nChange-Id: I44fd6faea2bb1d22a1578599f3858d7d24ff45b8\n'}, {'number': 7, 'created': '2022-10-17 08:27:20.000000000', 'files': ['blazar/tests/plugins/oshosts/test_physical_host_plugin.py', 'blazar/db/migration/alembic_migrations/versions/cffa05fd6878_add_soft_delete_to_most_blazar_models.py', 'blazar/tests/db/sqlalchemy/test_utils.py', 'blazar/db/sqlalchemy/model_base.py', 'blazar/db/migration/README', 'blazar/db/api.py', 'blazar/db/migration/cli.py', 'blazar/db/sqlalchemy/api.py', 'blazar/db/sqlalchemy/models.py', 'blazar/db/sqlalchemy/utils.py', 'releasenotes/notes/add_soft_deletion_to_most_models-cdb7665542c4dd04.yaml'], 'web_link': 'https://opendev.org/openstack/blazar/commit/42737075d69b733101f0e641cf8ad3e50a0b984e', 'message': 'Add soft delete to most Blazar models\n\nThis patch creates a SoftDeleteMixinWithUuid class from which most\nBlazar models inherit and adapts the rest of the code to soft delete\nrows. An Alembic migration script is included to add `deleted` and\n`deleted_at` columns to all tables.\n\nCompute hosts and extra capabilities are not given soft delete\ncapabilities: compute hosts primary keys match Nova compute node IDs,\nwhich could create conflicts if a host is deleted and re-created.\nAccordingly, the Alembic migration script removes the foreign key\nrelationship between computehost_allocations and computehosts, since\ncompute hosts can be deleted from the database while soft deleted\nallocations are kept.\n\nThe database can be pruned of soft-deleted entries with the command\n``blazar-db-manage purge --age_in_days`` which will remove any rows\nthat have been soft deleted that are older than the given age.\n`age_in_days` defaults to 30.\n\nCo-Authored-By: Matt Crees <mattc@stackhpc.com>\n\nChange-Id: I44fd6faea2bb1d22a1578599f3858d7d24ff45b8\n'}]",5,585807,42737075d69b733101f0e641cf8ad3e50a0b984e,23,4,7,15197,,,0,"Add soft delete to most Blazar models

This patch creates a SoftDeleteMixinWithUuid class from which most
Blazar models inherit and adapts the rest of the code to soft delete
rows. An Alembic migration script is included to add `deleted` and
`deleted_at` columns to all tables.

Compute hosts and extra capabilities are not given soft delete
capabilities: compute hosts primary keys match Nova compute node IDs,
which could create conflicts if a host is deleted and re-created.
Accordingly, the Alembic migration script removes the foreign key
relationship between computehost_allocations and computehosts, since
compute hosts can be deleted from the database while soft deleted
allocations are kept.

The database can be pruned of soft-deleted entries with the command
``blazar-db-manage purge --age_in_days`` which will remove any rows
that have been soft deleted that are older than the given age.
`age_in_days` defaults to 30.

Co-Authored-By: Matt Crees <mattc@stackhpc.com>

Change-Id: I44fd6faea2bb1d22a1578599f3858d7d24ff45b8
",git fetch https://review.opendev.org/openstack/blazar refs/changes/07/585807/1 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/db/migration/alembic_migrations/versions/cffa05fd6878_add_soft_delete_to_most_blazar_models.py', 'blazar/tests/db/sqlalchemy/test_utils.py', 'blazar/tests/plugins/oshosts/test_physical_host_plugin.py', 'blazar/db/sqlalchemy/model_base.py', 'blazar/db/sqlalchemy/api.py', 'blazar/db/sqlalchemy/models.py', 'blazar/db/sqlalchemy/utils.py']",7,4716a62a56a488a04d0eeaaf03cb35854738100b,soft-delete," query = (api.model_query(models.Lease, session=session) .join(models.Reservation) query = (api.model_query(models.Lease, session=session) .join(models.Reservation) query = (api.model_query(models.Reservation, session=session) .join(models.Lease) query = (api.model_query(models.Reservation, session=session) .join(models.Lease) query = (api.model_query(models.Lease, session=session) .join(models.Reservation) query = (api.model_query(models.Lease, session=session) .join(models.Reservation)", query = (session.query(models.Lease).join(models.Reservation) query = (session.query(models.Lease).join(models.Reservation) query = (session.query(models.Reservation).join(models.Lease) query = (session.query(models.Reservation).join(models.Lease) query = (session.query(models.Lease).join(models.Reservation) query = (session.query(models.Lease).join(models.Reservation),183,22
openstack%2Fblazar-tempest-plugin~master~Ie8a57fa9e5ef8bef775b8ab78b7d04bceaf795ed,openstack/blazar-tempest-plugin,master,Ie8a57fa9e5ef8bef775b8ab78b7d04bceaf795ed,Add stable/zed jobs on master gate,MERGED,2022-10-16 04:04:00.000000000,2022-10-17 09:04:54.000000000,2022-10-17 09:01:18.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-10-16 04:04:00.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/blazar-tempest-plugin/commit/5334331b20641e3278378e0777961de72175110f', 'message': 'Add stable/zed jobs on master gate\n\nAs zed is released, we should add its job on master\ngate to keep branchless tempest plugins compatible\nto stable branch.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: Ie8a57fa9e5ef8bef775b8ab78b7d04bceaf795ed\n'}]",0,861530,5334331b20641e3278378e0777961de72175110f,8,3,1,8556,,,0,"Add stable/zed jobs on master gate

As zed is released, we should add its job on master
gate to keep branchless tempest plugins compatible
to stable branch.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: Ie8a57fa9e5ef8bef775b8ab78b7d04bceaf795ed
",git fetch https://review.opendev.org/openstack/blazar-tempest-plugin refs/changes/30/861530/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5334331b20641e3278378e0777961de72175110f,zed-stable-job, - blazar-tempest-plugin-zed name: blazar-tempest-plugin-zed parent: blazar-tempest-plugin-base nodeset: openstack-single-node-focal override-checkout: stable/zed - job:,,7,0
openstack%2Fblazar-tempest-plugin~master~I5436b2f9a8e531490637c624ace5d2dc7412363b,openstack/blazar-tempest-plugin,master,I5436b2f9a8e531490637c624ace5d2dc7412363b,Pin stable branch jobs nodeset to Ubuntu Focal (20.04),MERGED,2022-10-16 02:04:31.000000000,2022-10-17 09:03:57.000000000,2022-10-17 09:01:17.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-10-16 02:04:31.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/blazar-tempest-plugin/commit/4fc39c70e6994be28c0ce12f49caa3493b195c65', 'message': 'Pin stable branch jobs nodeset to Ubuntu Focal (20.04)\n\nIn 2023.1 cycle. we are moving the default distro\nversion of Ubuntu to Jammy (22.04)[1] so we need to pin\nthe nodeset for stable branch job in master gate so that\nthey continue run on their supporting distro version which is\nUbuntu Focal since stable/victoria.\n\n[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html\n\nChange-Id: I5436b2f9a8e531490637c624ace5d2dc7412363b\n'}]",0,861498,4fc39c70e6994be28c0ce12f49caa3493b195c65,8,3,1,8556,,,0,"Pin stable branch jobs nodeset to Ubuntu Focal (20.04)

In 2023.1 cycle. we are moving the default distro
version of Ubuntu to Jammy (22.04)[1] so we need to pin
the nodeset for stable branch job in master gate so that
they continue run on their supporting distro version which is
Ubuntu Focal since stable/victoria.

[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html

Change-Id: I5436b2f9a8e531490637c624ace5d2dc7412363b
",git fetch https://review.opendev.org/openstack/blazar-tempest-plugin refs/changes/98/861498/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4fc39c70e6994be28c0ce12f49caa3493b195c65,migrate-to-jammy, nodeset: openstack-single-node-focal nodeset: openstack-single-node-focal nodeset: openstack-single-node-focal,,3,0
openstack%2Fneutron~master~I1ffcbc8f6406f06aea7aa4641813adfb6edde64a,openstack/neutron,master,I1ffcbc8f6406f06aea7aa4641813adfb6edde64a,Create a keepalived-state-change script in bash,NEW,2022-04-01 11:05:18.000000000,2022-10-17 08:59:56.000000000,,"[{'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28329}]","[{'number': 1, 'created': '2022-04-01 11:05:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/22de1924015bc71cd6ea8b55d18632a849fdafc7', 'message': '[WIP] [DNM] Create a keepalived-state-change script in bash\n\nChange-Id: I1ffcbc8f6406f06aea7aa4641813adfb6edde64a\n'}, {'number': 2, 'created': '2022-04-21 15:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/24db8c16267c16f3b5e754928b56428d165066fa', 'message': '[WIP] [DNM] Create a keepalived-state-change script in bash\n\nChange-Id: I1ffcbc8f6406f06aea7aa4641813adfb6edde64a\n'}, {'number': 3, 'created': '2022-04-29 07:17:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9c18f178ccf826a7767c02b39f2d37cd0c9f18d5', 'message': '[WIP] [DNM] Create a keepalived-state-change script in bash\n\nChange-Id: I1ffcbc8f6406f06aea7aa4641813adfb6edde64a\n'}, {'number': 4, 'created': '2022-04-29 13:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a4734cb8ef97aa7aaf2a0f784c1f3c3a3e4c02a1', 'message': '[WIP] [DNM] Create a keepalived-state-change script in bash\n\nCloses-Bug: #1970944\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nChange-Id: I1ffcbc8f6406f06aea7aa4641813adfb6edde64a\n'}, {'number': 5, 'created': '2022-04-29 16:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/199beddf8db8fcec71668a7b6f2218bcb974ff0c', 'message': '[WIP] [DNM] Create a keepalived-state-change script in bash\n\nCloses-Bug: #1970944\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nChange-Id: I1ffcbc8f6406f06aea7aa4641813adfb6edde64a\n'}, {'number': 6, 'created': '2022-05-03 15:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/61447f361ffc2b6ae1d562e4a9ae724f3ae7bec3', 'message': 'Create a keepalived-state-change script in bash\n\nThis patch replaces the Python script to monitor the ""keepalived""\nstatus of a router instance with a bash script.\n\nThe goal of this patch is first to reduce the memory footprint of\nthis agent. The original Python script takes around 100MB of RSS.\nThe memory footprint of this script is around 7MB.\n\nSecond, to improve the stability. This shell script do not uses\nthreads to monitor the IP addresses, as in the Python script. It\nuses an ""ip monitor"" context that exits every second to attend\nto SIGHUP signals.\n\nCloses-Bug: #1970944\nRelated-Bug: #1956958\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nChange-Id: I1ffcbc8f6406f06aea7aa4641813adfb6edde64a\n'}, {'number': 7, 'created': '2022-05-04 08:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3dde2db4ea85b4541bddf17725824f0fbcfa9723', 'message': 'Create a keepalived-state-change script in bash\n\nThis patch replaces the Python script to monitor the ""keepalived""\nstatus of a router instance with a bash script.\n\nThe goal of this patch is first to reduce the memory footprint of\nthis agent. The original Python script takes around 100MB of RSS.\nThe memory footprint of this script is around 7MB.\n\nSecond, to improve the stability. This shell script do not uses\nthreads to monitor the IP addresses, as in the Python script. It\nuses an ""ip monitor"" context that exits every second to attend\nto SIGHUP signals.\n\nCloses-Bug: #1970944\nRelated-Bug: #1956958\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nChange-Id: I1ffcbc8f6406f06aea7aa4641813adfb6edde64a\n'}, {'number': 8, 'created': '2022-05-04 10:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8d2370658f64b880264bc7be300b4e210ec5619d', 'message': 'Create a keepalived-state-change script in bash\n\nThis patch replaces the Python script to monitor the ""keepalived""\nstatus of a router instance with a bash script.\n\nThe goal of this patch is first to reduce the memory footprint of\nthis agent. The original Python script takes around 100MB of RSS.\nThe memory footprint of this script is around 7MB.\n\nSecond, to improve the stability. This shell script do not uses\nthreads to monitor the IP addresses, as in the Python script. It\nuses an ""ip monitor"" context that exits every second to attend\nto SIGHUP signals.\n\nCloses-Bug: #1970944\nRelated-Bug: #1956958\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nChange-Id: I1ffcbc8f6406f06aea7aa4641813adfb6edde64a\n'}, {'number': 9, 'created': '2022-05-04 12:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/52261c866c3da9b90b4cd2f11ba594ea8b2cb3b2', 'message': 'Create a keepalived-state-change script in bash\n\nThis patch replaces the Python script to monitor the ""keepalived""\nstatus of a router instance with a bash script.\n\nThe goal of this patch is first to reduce the memory footprint of\nthis agent. The original Python script takes around 100MB of RSS.\nThe memory footprint of this script is around 7MB.\n\nSecond, to improve the stability. This shell script do not uses\nthreads to monitor the IP addresses, as in the Python script. It\nuses an ""ip monitor"" context that exits every second to attend\nto SIGHUP signals.\n\nCloses-Bug: #1970944\nRelated-Bug: #1956958\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nChange-Id: I1ffcbc8f6406f06aea7aa4641813adfb6edde64a\n'}, {'number': 10, 'created': '2022-05-06 10:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab924bd88109ef6ec646a882d262af2c09c6555e', 'message': 'Create a keepalived-state-change script in bash\n\nThis patch replaces the Python script to monitor the ""keepalived""\nstatus of a router instance with a bash script.\n\nThe goal of this patch is first to reduce the memory footprint of\nthis agent. The original Python script takes around 100MB of RSS.\nThe memory footprint of this script is around 7MB.\n\nSecond, to improve the stability. This shell script do not uses\nthreads to monitor the IP addresses, as in the Python script. It\nuses an ""ip monitor"" context that exits every second to attend\nto SIGHUP signals.\n\nCloses-Bug: #1970944\nRelated-Bug: #1956958\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nChange-Id: I1ffcbc8f6406f06aea7aa4641813adfb6edde64a\n'}, {'number': 11, 'created': '2022-05-06 14:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6977916bbd1bfc78d373ea73cf4759d755d19548', 'message': 'Create a keepalived-state-change script in bash\n\nThis patch replaces the Python script to monitor the ""keepalived""\nstatus of a router instance with a bash script.\n\nThe goal of this patch is first to reduce the memory footprint of\nthis agent. The original Python script takes around 100MB of RSS.\nThe memory footprint of this script is around 7MB.\n\nSecond, to improve the stability. This shell script do not uses\nthreads to monitor the IP addresses, as in the Python script. It\nuses an ""ip monitor"" context that exits every second to attend\nto SIGHUP signals.\n\nCloses-Bug: #1970944\nRelated-Bug: #1956958\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nChange-Id: I1ffcbc8f6406f06aea7aa4641813adfb6edde64a\n'}, {'number': 12, 'created': '2022-05-10 08:56:29.000000000', 'files': ['neutron/tests/functional/agent/l3/bin/cmd_keepalived_state_change.py', 'neutron/tests/functional/agent/l3/bin/__init__.py', 'neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/tests/functional/agent/l3/test_keepalived_state_change.py', 'neutron/agent/linux/ip_lib.py', 'neutron/cmd/keepalived_state_change.py', 'neutron/agent/l3/neutron_keepalived_state_change.sh', 'neutron/agent/l3/ha_router.py', 'neutron/agent/linux/external_process.py', 'neutron/agent/l3/keepalived_state_change.py', 'setup.cfg', 'etc/neutron/rootwrap.d/rootwrap.filters'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dde1776b4975fb0858a51a38057f225685dc4e03', 'message': 'Create a keepalived-state-change script in bash\n\nThis patch replaces the Python script to monitor the ""keepalived""\nstatus of a router instance with a bash script.\n\nThe goal of this patch is first to reduce the memory footprint of\nthis agent. The original Python script takes around 100MB of RSS.\nThe memory footprint of this script is around 7MB.\n\nSecond, to improve the stability. This shell script do not uses\nthreads to monitor the IP addresses, as in the Python script. It\nuses an ""ip monitor"" context that exits every second to attend\nto SIGHUP signals.\n\nCloses-Bug: #1970944\nRelated-Bug: #1956958\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nChange-Id: I1ffcbc8f6406f06aea7aa4641813adfb6edde64a\n'}]",143,836140,dde1776b4975fb0858a51a38057f225685dc4e03,91,6,12,16688,,,0,"Create a keepalived-state-change script in bash

This patch replaces the Python script to monitor the ""keepalived""
status of a router instance with a bash script.

The goal of this patch is first to reduce the memory footprint of
this agent. The original Python script takes around 100MB of RSS.
The memory footprint of this script is around 7MB.

Second, to improve the stability. This shell script do not uses
threads to monitor the IP addresses, as in the Python script. It
uses an ""ip monitor"" context that exits every second to attend
to SIGHUP signals.

Closes-Bug: #1970944
Related-Bug: #1956958

Co-Authored-By: Slawek Kaplonski <skaplons@redhat.com>
Co-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>

Change-Id: I1ffcbc8f6406f06aea7aa4641813adfb6edde64a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/40/836140/12 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/l3/test_keepalived_state_change.py', 'neutron/agent/linux/external_process.py', 'neutron/agent/l3/run_state_change.sh', 'neutron/agent/l3/state_change.sh']",4,22de1924015bc71cd6ea8b55d18632a849fdafc7,bug/1970944,"#!/usr/bin/env bash # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. function write_log { local message=$1 msg=""$(date) - $message"" echo -e ""$msg"" | tee --append ""$LOG_FILE"" > /dev/null } function write_pid { echo -e $1 | tee ""$PID_FILE"" > /dev/null } function remove_interface_suffix { local interface=$1 interface_array=(${interface//@/ }) echo ""${interface_array[0]}"" } function notify_agent { local state=$1 local socket=""$STATE_PATH/keepalived-state-change"" curl --connect-timeout 5 -X POST -H ""X-Neutron-Router-Id: $ROUTER_ID"" -H ""X-Neutron-State: $state"" -H ""Connection: close"" --unix-socket ""$socket"" ""http://127.0.0.1/"" write_log ""Notified agent router $ROUTER_ID, state $state"" } function monitor_ip_address { local is_init=""True"" ip netns exec ""$NAMESPACE"" ip -o monitor address | while read -t 0.5 event || true ; do if [[ ""$is_init"" == ""True"" ]]; then is_init=""False"" write_pid $BASHPID trap terminate_script SIGTERM write_log ""Set child PID $BASHPID and trap for SIGTERM"" fi if [[ -z ""$event"" ]]; then # Empty event continue fi event_array=(${event// / }) if [[ ""${event_array[0]}"" == ""Deleted"" ]]; then event_cidr=${event_array[4]} event_interface=$(remove_interface_suffix ""${event_array[2]}"") state=""backup"" else event_cidr=${event_array[3]} event_interface=$(remove_interface_suffix ""${event_array[1]}"") state=""primary"" fi if [[ ""$MONITOR_CIDR"" == ""$event_cidr"" ]] && [[ ""$MONITOR_INTERFACE"" == ""$event_interface"" ]]; then write_log ""Wrote router $ROUTER_ID state $state"" notify_agent $state fi done } function handle_initial_state { ip_address=$(ip netns exec ""$NAMESPACE"" ip address show dev $MONITOR_INTERFACE | grep $MONITOR_CIDR > /dev/null 2>&1) if [[ $? -ne 0 ]]; then write_log ""Device $MONITOR_INTERFACE not present in the namespace $NAMESPACE or $MONITOR_CIDR not set in device"" state=""backup"" else state=""primary"" fi notify_agent $state write_log ""Initial status of router $ROUTER_ID is $state"" } function terminate_script { kill -term $PARENT_PID write_log ""Caught SIGTERM signal! Exit program."" exit 0 } while [[ $# -gt 0 ]]; do case $1 in --router_id) ROUTER_ID=""$2"" shift # past argument shift # past value ;; --namespace) NAMESPACE=""$2"" shift # past argument shift # past value ;; --conf_dir) CONF_DIR=""$2"" shift # past argument shift # past value ;; --log-file) LOG_FILE=""$2"" shift # past argument shift # past value ;; --monitor_interface) MONITOR_INTERFACE=""$2"" shift # past argument shift # past value ;; --monitor_cidr) MONITOR_CIDR=""$2"" shift # past argument shift # past value ;; --pid_file) PID_FILE=""$2"" shift # past argument shift # past value ;; --state_path) STATE_PATH=""$2"" shift # past argument shift # past value ;; --user) USER=""$2"" shift # past argument shift # past value ;; --group) GROUP=""$2"" shift # past argument shift # past value ;; -*|--*) echo ""Unknown option $1"" exit 1 ;; esac done # RAH; delete #LOG_FILE=""/tmp/pid-test"" PARENT_PID=$$ handle_initial_state monitor_ip_address ",,218,18
openstack%2Fcyborg-tempest-plugin~master~I91c346781bacf28404ac73e4e427134db75cc6cc,openstack/cyborg-tempest-plugin,master,I91c346781bacf28404ac73e4e427134db75cc6cc,Add stable/zed jobs on master gate,MERGED,2022-10-16 04:03:55.000000000,2022-10-17 08:43:07.000000000,2022-10-17 08:43:07.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-10-16 04:03:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/f77f32855d922bcb129ad20d6e45fc5ed0742f7b', 'message': 'Add stable/zed jobs on master gate\n\nAs zed is released, we should add its job on master\ngate to keep branchless tempest plugins compatible\nto stable branch.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: I91c346781bacf28404ac73e4e427134db75cc6cc\n'}]",2,861528,f77f32855d922bcb129ad20d6e45fc5ed0742f7b,7,3,1,8556,,,0,"Add stable/zed jobs on master gate

As zed is released, we should add its job on master
gate to keep branchless tempest plugins compatible
to stable branch.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: I91c346781bacf28404ac73e4e427134db75cc6cc
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/28/861528/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f77f32855d922bcb129ad20d6e45fc5ed0742f7b,zed-stable-job, - cyborg-tempest-zed - cyborg-tempest-zed name: cyborg-tempest-zed parent: cyborg-tempest nodeset: openstack-single-node-focal override-checkout: stable/zed - job:,,8,0
openstack%2Fcyborg-tempest-plugin~master~I0963d6bfee8787e22ecafb05577a379384a456f5,openstack/cyborg-tempest-plugin,master,I0963d6bfee8787e22ecafb05577a379384a456f5,Pin stable branch jobs nodeset to Ubuntu Focal (20.04),MERGED,2022-10-16 02:05:08.000000000,2022-10-17 08:43:05.000000000,2022-10-17 08:43:05.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-10-16 02:05:08.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/2f8b4358da77de38a014fbb39fcfce5128c71852', 'message': 'Pin stable branch jobs nodeset to Ubuntu Focal (20.04)\n\nIn 2023.1 cycle. we are moving the default distro\nversion of Ubuntu to Jammy (22.04)[1] so we need to pin\nthe nodeset for stable branch job in master gate so that\nthey continue run on their supporting distro version which is\nUbuntu Focal since stable/victoria.\n\n[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html\n\nChange-Id: I0963d6bfee8787e22ecafb05577a379384a456f5\n'}]",2,861499,2f8b4358da77de38a014fbb39fcfce5128c71852,7,3,1,8556,,,0,"Pin stable branch jobs nodeset to Ubuntu Focal (20.04)

In 2023.1 cycle. we are moving the default distro
version of Ubuntu to Jammy (22.04)[1] so we need to pin
the nodeset for stable branch job in master gate so that
they continue run on their supporting distro version which is
Ubuntu Focal since stable/victoria.

[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html

Change-Id: I0963d6bfee8787e22ecafb05577a379384a456f5
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/99/861499/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2f8b4358da77de38a014fbb39fcfce5128c71852,migrate-to-jammy, nodeset: openstack-single-node-focal nodeset: openstack-single-node-focal nodeset: openstack-single-node-focal,,3,0
openstack%2Fcharm-zuul-jobs~master~I551a1042b85f6ac4adef75b534de4af864acd989,openstack/charm-zuul-jobs,master,I551a1042b85f6ac4adef75b534de4af864acd989,Add missing template,MERGED,2022-10-17 08:18:22.000000000,2022-10-17 08:39:01.000000000,2022-10-17 08:39:01.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-17 08:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-zuul-jobs/commit/0fdec5094b2b057fa14e260b4c9ac631466e8d1d', 'message': 'Add missnig template\n\nChange-Id: I551a1042b85f6ac4adef75b534de4af864acd989\n'}, {'number': 2, 'created': '2022-10-17 08:23:10.000000000', 'files': ['playbooks/hosts.j2'], 'web_link': 'https://opendev.org/openstack/charm-zuul-jobs/commit/5540214e22cbd07eedccbf16c7da293adfc43c10', 'message': 'Add missing template\n\nChange-Id: I551a1042b85f6ac4adef75b534de4af864acd989\n'}]",0,861579,5540214e22cbd07eedccbf16c7da293adfc43c10,7,2,2,12549,,,0,"Add missing template

Change-Id: I551a1042b85f6ac4adef75b534de4af864acd989
",git fetch https://review.opendev.org/openstack/charm-zuul-jobs refs/changes/79/861579/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/hosts.j2'],1,0fdec5094b2b057fa14e260b4c9ac631466e8d1d,add-k8s-proxy-template,"server = ""{{ server }}"" [host.""{{ mirror_location }}""] capabilities = [""pull"", ""resolve""] ",,4,0
openstack%2Fpython-tripleoclient~master~I9c0abe546aeadc1365d9e1156c5fb27c5e543b66,openstack/python-tripleoclient,master,I9c0abe546aeadc1365d9e1156c5fb27c5e543b66,Only use rpm installed collections/modules,MERGED,2022-10-14 10:20:30.000000000,2022-10-17 08:33:25.000000000,2022-10-17 08:32:24.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-10-14 10:20:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fe93c5a0be27e8321efe155191fabbaf24951602', 'message': 'WIP Only use rpm installed collections/modules\n\nChange-Id: I9c0abe546aeadc1365d9e1156c5fb27c5e543b66\n'}, {'number': 2, 'created': '2022-10-14 11:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/68ea4b541bce73ea9fd7618f65cb0177359db414', 'message': 'WIP Only use rpm installed collections/modules\n\nThis would allow us to ignore conflicting versions\ninstalled from galaxy.\n\nChange-Id: I9c0abe546aeadc1365d9e1156c5fb27c5e543b66\n'}, {'number': 3, 'created': '2022-10-15 05:17:59.000000000', 'files': ['tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8129d94a5d2601691bb892f82381c1033db6e606', 'message': 'Only use rpm installed collections/modules\n\nThis would allow us to ignore conflicting versions\nof collections installed from galaxy.\n\nChange-Id: I9c0abe546aeadc1365d9e1156c5fb27c5e543b66\n'}]",1,861354,8129d94a5d2601691bb892f82381c1033db6e606,15,4,3,8833,,,0,"Only use rpm installed collections/modules

This would allow us to ignore conflicting versions
of collections installed from galaxy.

Change-Id: I9c0abe546aeadc1365d9e1156c5fb27c5e543b66
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/54/861354/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/utils.py'],1,fe93c5a0be27e8321efe155191fabbaf24951602,, env['ANSIBLE_COLLECTIONS_PATHS'] = os.path.expanduser( '/usr/share/ansible/collections') '{}/library'.format(constants.DEFAULT_VALIDATIONS_BASEDIR)," '{}/.ansible/plugins/modules:' '{}:{}:' '{}/library'.format( constants.CLOUD_HOME_DIR, os.path.join(workdir, 'modules'), os.path.join(cwd, 'modules'), constants.DEFAULT_VALIDATIONS_BASEDIR ) '{}/.ansible/plugins/lookup:' '{}:{}:' constants.CLOUD_HOME_DIR, os.path.join(workdir, 'lookup'), os.path.join(cwd, 'lookup'), '{}/.ansible/plugins/callback:' '{}:{}:' constants.CLOUD_HOME_DIR, os.path.join(workdir, 'callback'), os.path.join(cwd, 'callback'), '{}/.ansible/plugins/action:' '{}:{}:' constants.CLOUD_HOME_DIR, os.path.join(workdir, 'action'), os.path.join(cwd, 'action'), '{}/.ansible/plugins/filter:' '{}:{}:' constants.CLOUD_HOME_DIR, os.path.join(workdir, 'filter'), os.path.join(cwd, 'filter'), '{}/.ansible/roles:' '{}:{}:' constants.CLOUD_HOME_DIR, os.path.join(workdir, 'roles'), os.path.join(cwd, 'roles'),",3,33
openstack%2Ftripleo-heat-templates~master~I337453a116e2a57154a619d300d0f052d6110bbd,openstack/tripleo-heat-templates,master,I337453a116e2a57154a619d300d0f052d6110bbd,Replace subnet_info module with osc command,MERGED,2022-10-13 12:06:45.000000000,2022-10-17 08:32:27.000000000,2022-10-17 08:32:27.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-10-13 12:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f1c2d3dc549939c253e7238cdc382b5b0449c31c', 'message': 'Replace subnet_info module with osc command\n\nThis would help us to move to latest openstacksdk\nin TripleO. We can revert this once AOC has been\nfixed[1] for openstacksdk>=0.99.\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/843497\n\nChange-Id: I337453a116e2a57154a619d300d0f052d6110bbd\n'}, {'number': 2, 'created': '2022-10-14 08:41:18.000000000', 'files': ['deployment/designate/designate-bind-container.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ae2c6817052bed0b35c2c1dd2bd637b6784f622d', 'message': 'Replace subnet_info module with osc command\n\nThis would help us to move to latest openstacksdk\nin TripleO. We can revert this once AOC has been\nfixed[1] for openstacksdk>=0.99.\n\n[1] https://review.opendev.org/c/openstack/ansible-collections-openstack/+/857041\n\nChange-Id: I337453a116e2a57154a619d300d0f052d6110bbd\n'}]",3,861175,ae2c6817052bed0b35c2c1dd2bd637b6784f622d,15,4,2,8833,,,0,"Replace subnet_info module with osc command

This would help us to move to latest openstacksdk
in TripleO. We can revert this once AOC has been
fixed[1] for openstacksdk>=0.99.

[1] https://review.opendev.org/c/openstack/ansible-collections-openstack/+/857041

Change-Id: I337453a116e2a57154a619d300d0f052d6110bbd
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/861175/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/designate/designate-bind-container.yaml'],1,f1c2d3dc549939c253e7238cdc382b5b0449c31c,," - name: Build subnet name for bind network set_fact: designate_bind_subnet: - name: Get the subnet id for the proper network shell: openstack subnet show -f value -c id {{ designate_bind_subnet }} register: designate_bind_subnet_id subnet_id: ""{{ designate_bind_subnet_id.stdout }}"""," - name: Get the subnet id for the proper network openstack.cloud.subnets_info: name: register: subnet_info subnet_id: ""{{ subnet_info.openstack_subnets[0].id }}""",7,6
openstack%2Ftripleo-ansible~stable%2Fwallaby~I97c4fa8684d7298a6a1a60bfda61e7746c51b660,openstack/tripleo-ansible,stable/wallaby,I97c4fa8684d7298a6a1a60bfda61e7746c51b660,Remove unnecessary designate worker conditional,MERGED,2022-08-02 17:06:26.000000000,2022-10-17 08:32:21.000000000,2022-10-17 08:32:21.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-08-02 17:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6a7ce631e866629b73e53f7e211fcc85a481473b', 'message': 'Remove unnecessary designate worker conditional\n\nThe designate worker network should now always be defined removing the\nneed for the if/elifs.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/850943\nChange-Id: I97c4fa8684d7298a6a1a60bfda61e7746c51b660\n(cherry picked from commit b7fee3e1db48f505dea010e4284066017eb9d93f)\n'}, {'number': 2, 'created': '2022-08-02 17:07:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/377def40bd2eb11799cd64a4fe3fa2311f90d5f8', 'message': 'Remove unnecessary designate worker conditional\n\nThe designate worker network should now always be defined removing the\nneed for the if/elifs.\n\nhttps: //review.opendev.org/c/openstack/tripleo-heat-templates/+/851213\nChange-Id: I97c4fa8684d7298a6a1a60bfda61e7746c51b660\n(cherry picked from commit b7fee3e1db48f505dea010e4284066017eb9d93f)\n'}, {'number': 3, 'created': '2022-09-06 05:55:57.000000000', 'files': ['tripleo_ansible/roles/designate_rndc_config/templates/rndc.conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4916d467f8c4e841942874604bda65f879f06aac', 'message': 'Remove unnecessary designate worker conditional\n\nThe designate worker network should now always be defined removing the\nneed for the if/elifs.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/851213\nChange-Id: I97c4fa8684d7298a6a1a60bfda61e7746c51b660\n(cherry picked from commit b7fee3e1db48f505dea010e4284066017eb9d93f)\n'}]",5,851920,4916d467f8c4e841942874604bda65f879f06aac,26,4,3,6681,,,0,"Remove unnecessary designate worker conditional

The designate worker network should now always be defined removing the
need for the if/elifs.

Depends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/851213
Change-Id: I97c4fa8684d7298a6a1a60bfda61e7746c51b660
(cherry picked from commit b7fee3e1db48f505dea010e4284066017eb9d93f)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/20/851920/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/designate_rndc_config/templates/rndc.conf.j2'],1,6a7ce631e866629b73e53f7e211fcc85a481473b,wallaby,,{% if designate_worker_network is defined %}{% elif 'internal_api_ip' in hostvars[inventory_hostname] %} {% set designate_worker_source_address = hostvars[inventory_hostname]['internal_api_ip'] %} {% else %} {% set designate_worker_source_address = hostvars[inventory_hostname]['ctlplane_ip'] %} {% endif %},1,6
openstack%2Fcharm-ops-sunbeam~main~I8028d6dff219b63472a6fb309040f79935add639,openstack/charm-ops-sunbeam,main,I8028d6dff219b63472a6fb309040f79935add639,Get pebble ready status directly,MERGED,2022-10-16 22:39:41.000000000,2022-10-17 08:24:18.000000000,2022-10-17 08:24:18.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-16 22:39:41.000000000', 'files': ['ops_sunbeam/container_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-ops-sunbeam/commit/c3a136487f407fbc0c7d27db16838e466a3499cd', 'message': 'Get pebble ready status directly\n\nThis should be less error prone and more reliable\nthan storing the pebble status in stored state.\n\nAlso remove the PebbleHandler.ready attribute,\nwhich appears to not be used.\n\nChange-Id: I8028d6dff219b63472a6fb309040f79935add639\n'}]",0,861545,c3a136487f407fbc0c7d27db16838e466a3499cd,8,2,1,34352,,,0,"Get pebble ready status directly

This should be less error prone and more reliable
than storing the pebble status in stored state.

Also remove the PebbleHandler.ready attribute,
which appears to not be used.

Change-Id: I8028d6dff219b63472a6fb309040f79935add639
",git fetch https://review.opendev.org/openstack/charm-ops-sunbeam refs/changes/45/861545/1 && git format-patch -1 --stdout FETCH_HEAD,['ops_sunbeam/container_handlers.py'],1,c3a136487f407fbc0c7d27db16838e466a3499cd,stateless-pebble-ready, return self.charm.unit.get_container( self.container_name ).can_connect(), self._state.set_default(pebble_ready=False) self.ready = True self._state.pebble_ready = True return self._state.pebble_ready,3,4
openstack%2Fswift~master~I6d4f9e95e6fe26eab9f5e83ed618f97eea254e9b,openstack/swift,master,I6d4f9e95e6fe26eab9f5e83ed618f97eea254e9b,squash: extra unit test for _record_sharding_progress,ABANDONED,2022-10-14 14:48:19.000000000,2022-10-17 08:21:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-10-14 14:48:19.000000000', 'files': ['test/unit/container/test_sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/daac33d8e4ded65aed725b60c3b469ca072a9752', 'message': 'squash: extra unit test for _record_sharding_progress\n\nChange-Id: I6d4f9e95e6fe26eab9f5e83ed618f97eea254e9b\n'}]",1,861395,daac33d8e4ded65aed725b60c3b469ca072a9752,5,1,1,7847,,,0,"squash: extra unit test for _record_sharding_progress

Change-Id: I6d4f9e95e6fe26eab9f5e83ed618f97eea254e9b
",git fetch https://review.opendev.org/openstack/swift refs/changes/95/861395/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/container/test_sharder.py'],1,daac33d8e4ded65aed725b60c3b469ca072a9752,sharder_warn," def _make_shrinking_broker(self, account='.shards_a', container='shard_c', lower='here', upper='there', objects=None): # caller should merge any acceptor range(s) into returned broker broker = self._make_broker(account=account, container=container) for obj in objects or []: broker.put_object(*obj) own_shard_range = ShardRange( broker.path, next(self.ts_iter), lower, upper, state=ShardRange.SHRINKING, epoch=next(self.ts_iter)) broker.merge_shard_ranges([own_shard_range]) broker.set_sharding_sysmeta('Root', 'a/c') self.assertFalse(broker.is_root_container()) # sanity check self.assertTrue(broker.set_sharding_state()) return broker broker = self._make_shrinking_broker( container='donor_%s' % unique[0], lower='h', upper='w', objects=objects) own_sr = broker.get_own_shard_range() expected_cursor = own_sr.lower_str broker = self._make_shrinking_broker(account='.shards_a', container='shard_c') broker.merge_shard_ranges([deleted_range, root]) objects = ( ('here_a', next(self.ts_iter), 10, 'text/plain', 'etag_a', 0, 0),) broker = self._make_shrinking_broker(objects=objects) broker.merge_shard_ranges([acceptor, root]) objects = ( ('here_a', next(self.ts_iter), 10, 'text/plain', 'etag_a', 0, 0),) broker = self._make_shrinking_broker(objects=objects) broker.merge_shard_ranges([acceptor, root]) def test_incomplete_shrinking_progress_warning_log(self): # test to verify sharder will print warning logs if shrinking has been # taking too long. broker = self._make_shrinking_broker() obj = {'name': 'obj', 'created_at': next(self.ts_iter).internal, 'size': 14, 'content_type': 'text/plain', 'etag': 'an etag', 'deleted': 0} broker.get_brokers()[0].merge_items([obj]) # active acceptor with upper bound < MAX acceptor = ShardRange( '.shards/other', next(self.ts_iter), 'here', 'where', deleted=False, state=ShardRange.ACTIVE, epoch=next(self.ts_iter)) broker.merge_shard_ranges([acceptor]) context = CleavingContext.load(broker) self.assertFalse(context.cleaving_done) own_shard_range = broker.get_own_shard_range() # advance time but still within 'container_sharding_timeout'. future_time = 10000 + float(own_shard_range.epoch) with mock.patch( 'swift.container.sharder.time.time', return_value=future_time), self._mock_sharder() as sharder: sharder._record_sharding_progress(broker, {}, None) self.assertEqual([], self.logger.get_lines_for_level('warning')) future_time = 172800 + float(own_shard_range.epoch) with mock.patch( 'swift.container.sharder.time.time', return_value=future_time), self._mock_sharder() as sharder: sharder._record_sharding_progress(broker, {}, None) self.assertEqual([], self.logger.get_lines_for_level('warning')) # advance time beyond 'container_sharding_timeout'. future_time = 172800 + float(own_shard_range.epoch) + 1 with mock.patch( 'swift.container.sharder.time.time', return_value=future_time), self._mock_sharder() as sharder: sharder._record_sharding_progress(broker, {}, None) warning_lines = sharder.logger.get_lines_for_level('warning') self.assertIn( 'Sharding has not completed in %.2f seconds since %s.' % (future_time - float(own_shard_range.epoch), own_shard_range.epoch.isoformat), warning_lines[0]) broker = self._make_shrinking_broker(lower='a', upper='b') own_sr = broker.get_own_shard_range()"," broker = self._make_broker(account='.shards_a', container='donor_%s' % unique[0]) own_shard_range = ShardRange( broker.path, next(self.ts_iter), 'h', 'w', state=ShardRange.SHRINKING, epoch=next(self.ts_iter)) broker.merge_shard_ranges([own_shard_range]) broker.set_sharding_sysmeta('Root', 'a/c') self.assertFalse(broker.is_root_container()) # sanity check for obj in objects: broker.put_object(*obj) broker.set_sharding_state() expected_cursor = own_shard_range.lower_str own_sr = broker.get_own_shard_range() broker = self._make_broker(account='.shards_a', container='shard_c') broker.put_object( 'here_a', next(self.ts_iter), 10, 'text/plain', 'etag_a', 0, 0) # a donor previously shrunk to own... own_shard_range = ShardRange( broker.path, next(self.ts_iter), 'here', '', state=ShardRange.SHRINKING, epoch=next(self.ts_iter)) broker.merge_shard_ranges([deleted_range, own_shard_range, root]) self.assertTrue(broker.set_sharding_state()) broker = self._make_broker(account='.shards_a', container='shard_c') broker.put_object( 'here_a', next(self.ts_iter), 10, 'text/plain', 'etag_a', 0, 0) own_shard_range = ShardRange( broker.path, next(self.ts_iter), 'here', 'there', state=ShardRange.SHRINKING, epoch=next(self.ts_iter)) broker.merge_shard_ranges([own_shard_range, acceptor, root]) self.assertTrue(broker.set_sharding_state()) broker = self._make_broker(account='.shards_a', container='shard_c') broker.put_object( 'here_a', next(self.ts_iter), 10, 'text/plain', 'etag_a', 0, 0) own_shard_range = ShardRange( broker.path, next(self.ts_iter), 'here', 'there', state=ShardRange.SHRINKING, epoch=next(self.ts_iter)) broker.merge_shard_ranges([own_shard_range, acceptor, root]) broker.set_sharding_sysmeta('Root', 'a/c') self.assertFalse(broker.is_root_container()) # sanity check self.assertTrue(broker.set_sharding_state()) ts = next(self.ts_iter) own_sr = ShardRange( str(ShardName.create('.shards_a', 'c', 'c', ts, 0)), ts, lower='a', upper='b', state=ShardRange.SHRINKING, state_timestamp=ts) broker = self._make_broker(account=own_sr.account, container=own_sr.container) broker.set_sharding_sysmeta('Quoted-Root', 'a/c') broker.merge_shard_ranges(own_sr) self.assertFalse(broker.is_root_container()) ",77,52
openstack%2Fcharm-zuul-jobs~master~I4a46da334867a9cdcf0d9a8f29d888f9a2dd32ed,openstack/charm-zuul-jobs,master,I4a46da334867a9cdcf0d9a8f29d888f9a2dd32ed,Add dockerhub caching proxy,MERGED,2022-10-15 13:29:01.000000000,2022-10-17 08:16:10.000000000,2022-10-17 08:16:10.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-15 13:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-zuul-jobs/commit/10a298873987e31871cbce20bb79544708b91286', 'message': 'Add dockerhub caching proxy\n\nChange-Id: I4a46da334867a9cdcf0d9a8f29d888f9a2dd32ed\n'}, {'number': 2, 'created': '2022-10-15 13:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-zuul-jobs/commit/7fb1e46a2937435d43421049edcdbf85e541059f', 'message': 'Add dockerhub caching proxy\n\nChange-Id: I4a46da334867a9cdcf0d9a8f29d888f9a2dd32ed\n'}, {'number': 3, 'created': '2022-10-15 14:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-zuul-jobs/commit/37b30b3149a0e8892e25906c3a6474be49a60078', 'message': 'Add dockerhub caching proxy\n\nChange-Id: I4a46da334867a9cdcf0d9a8f29d888f9a2dd32ed\n'}, {'number': 4, 'created': '2022-10-15 14:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-zuul-jobs/commit/927ffd8e5aa6ee124254fdc989b90489854e0375', 'message': 'Add dockerhub caching proxy\n\nChange-Id: I4a46da334867a9cdcf0d9a8f29d888f9a2dd32ed\n'}, {'number': 5, 'created': '2022-10-15 14:39:46.000000000', 'files': ['playbooks/microk8s-cloud.yaml', '.ansible-lint'], 'web_link': 'https://opendev.org/openstack/charm-zuul-jobs/commit/ebaa0b5d269e8567c30fb34a3963c5a74f240e11', 'message': 'Add dockerhub caching proxy\n\nChange-Id: I4a46da334867a9cdcf0d9a8f29d888f9a2dd32ed\n'}]",0,861492,ebaa0b5d269e8567c30fb34a3963c5a74f240e11,14,2,5,12549,,,0,"Add dockerhub caching proxy

Change-Id: I4a46da334867a9cdcf0d9a8f29d888f9a2dd32ed
",git fetch https://review.opendev.org/openstack/charm-zuul-jobs refs/changes/92/861492/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/microk8s-cloud.yaml'],1,10a298873987e31871cbce20bb79544708b91286,add-docker-cache," name: Microk8s setup roles: - use-docker-mirror - name: microk8s status command: cmd: microk8s status - name: Create docker.io certs dir when: - docker_mirror is defined file: path: /var/snap/microk8s/current/args/certs.d/docker.io state: directory owner: root group: microk8s mode: '0770' - name: Render microk8s registry mirror template when: - docker_mirror is defined template: src: hosts.j2 dest: /var/snap/microk8s/current/args/certs.d/docker.io/hosts.toml group: microk8s vars: mirror_location: ""{{ docker_mirror }}"" server: https://docker.io - name: Check docker.io hosts.toml when: - docker_mirror is defined command: cmd: cat /var/snap/microk8s/current/args/certs.d/docker.io/hosts.toml ",,34,0
openstack%2Fcharm-zuul-jobs~master~Id7be6711513f42aedd5aba841f9b19652540e8cf,openstack/charm-zuul-jobs,master,Id7be6711513f42aedd5aba841f9b19652540e8cf,First cut of zuul jobs for charms,MERGED,2022-10-13 08:45:52.000000000,2022-10-17 07:59:52.000000000,2022-10-17 07:59:52.000000000,"[{'_account_id': 935}, {'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-13 08:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-zuul-jobs/commit/980f7733ed8805c50de2c3a8457dac3be547f379', 'message': 'First cut of zuul jobs for charms\n\nThis includes:\n * project templates and jobs for charm projects to use\n * linter for this repo\n\nChange-Id: Id7be6711513f42aedd5aba841f9b19652540e8cf\n'}, {'number': 2, 'created': '2022-10-13 09:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-zuul-jobs/commit/ea2a96215b8506fb2c1a204f91c48c875607b57e', 'message': 'First cut of zuul jobs for charms\n\nThis includes:\n * project templates and jobs for charm projects to use\n * linter for this repo\n\nChange-Id: Id7be6711513f42aedd5aba841f9b19652540e8cf\n'}, {'number': 3, 'created': '2022-10-13 09:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-zuul-jobs/commit/471e6a425152c4248a7d065941f6fd344549e396', 'message': 'First cut of zuul jobs for charms\n\nThis includes:\n * project templates and jobs for charm projects to use\n * linter for this repo\n\nChange-Id: Id7be6711513f42aedd5aba841f9b19652540e8cf\n'}, {'number': 4, 'created': '2022-10-15 13:04:22.000000000', 'files': ['.gitignore', 'test-requirements.txt', 'playbooks/build-charm.yaml', 'playbooks/microk8s-cloud.yaml', '.ansible-lint', 'zuul.d/project-templates.yaml', 'playbooks/func-tests.yaml', 'tools/ansible-lint-roles-cache.sh', 'zuul.d/project.yaml', 'tox.ini', 'zuul.d/jobs.yaml', 'playbooks/microk8s-juju-post.yaml'], 'web_link': 'https://opendev.org/openstack/charm-zuul-jobs/commit/18de79e1269d8930e53a571038ee544a51fb6a20', 'message': 'First cut of zuul jobs for charms\n\nThis includes:\n * project templates and jobs for charm projects to use\n * linter for this repo\n\nChange-Id: Id7be6711513f42aedd5aba841f9b19652540e8cf\n'}]",3,861150,18de79e1269d8930e53a571038ee544a51fb6a20,15,3,4,12549,,,0,"First cut of zuul jobs for charms

This includes:
 * project templates and jobs for charm projects to use
 * linter for this repo

Change-Id: Id7be6711513f42aedd5aba841f9b19652540e8cf
",git fetch https://review.opendev.org/openstack/charm-zuul-jobs refs/changes/50/861150/3 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', 'playbooks/build-charm.yaml', 'playbooks/microk8s-cloud.yaml', '.ansible-lint', 'zuul.d/project-templates.yaml', 'playbooks/func-tests.yaml', 'tools/ansible-lint-roles-cache.sh', 'zuul.d/project.yaml', 'tox.ini', 'zuul.d/jobs.yaml', 'playbooks/microk8s-juju-post.yaml']",12,980f7733ed8805c50de2c3a8457dac3be547f379,initial-jobs,"- hosts: all tasks: - name: debug output for debugging the functional test # noqa risky-shell-pipe shell: | set -x MODEL=""$(juju models --format=json | jq -r '.models[][""short-name""]' | grep '^zaza-')"" juju switch $MODEL juju status juju debug-log --replay exit 0 ",,317,0
openstack%2Fpython-aodhclient~stable%2Fyoga~I2b6e17b69f2e6ac4e9316166c8511b4f36e301e0,openstack/python-aodhclient,stable/yoga,I2b6e17b69f2e6ac4e9316166c8511b4f36e301e0,Set timeout to 7200 for py36 job,ABANDONED,2022-10-14 07:42:10.000000000,2022-10-17 07:44:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-10-14 07:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/224f6bf2d6c177f279531ca96e0d85eb04fd3d3e', 'message': ""Set timeout to 7200 for py36 job\n\nInstalling pip packages in py36 jobs are taking longer that\nusual time because this project doesn't use upper-constraints.\nAs a result, this job take longer to complete.\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: I2b6e17b69f2e6ac4e9316166c8511b4f36e301e0\n""}, {'number': 2, 'created': '2022-10-14 07:48:46.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/521ce5500a9b9887404de3a1a1ef166cbfeec03d', 'message': ""Set timeout to 7200 for py36 job\n\nInstalling pip packages in py36 jobs are taking longer that\nusual time because this project doesn't use upper-constraints.\nAs a result, this job take longer to complete.\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: I2b6e17b69f2e6ac4e9316166c8511b4f36e301e0\n""}]",1,861321,521ce5500a9b9887404de3a1a1ef166cbfeec03d,6,1,2,32240,,,0,"Set timeout to 7200 for py36 job

Installing pip packages in py36 jobs are taking longer that
usual time because this project doesn't use upper-constraints.
As a result, this job take longer to complete.

Signed-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>
Change-Id: I2b6e17b69f2e6ac4e9316166c8511b4f36e301e0
",git fetch https://review.opendev.org/openstack/python-aodhclient refs/changes/21/861321/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,224f6bf2d6c177f279531ca96e0d85eb04fd3d3e,, check: jobs: - openstack-tox-py36 timeout: 7200 gate: jobs: - openstack-tox-py36 timeout: 7200,,8,0
openstack%2Frpm-packaging~master~I1e9c2ea4e6e0793fb0f03c30666838a5c12b6c90,openstack/rpm-packaging,master,I1e9c2ea4e6e0793fb0f03c30666838a5c12b6c90,yaql: no longer requires six,MERGED,2022-10-17 07:24:42.000000000,2022-10-17 07:42:33.000000000,2022-10-17 07:42:33.000000000,"[{'_account_id': 6593}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-10-17 07:24:42.000000000', 'files': ['openstack/yaql/yaql.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/edb131849605170f025d256d3a066d08f5582b55', 'message': 'yaql: no longer requires six\n\nChange-Id: I1e9c2ea4e6e0793fb0f03c30666838a5c12b6c90\n'}]",0,861577,edb131849605170f025d256d3a066d08f5582b55,8,4,1,6593,,,0,"yaql: no longer requires six

Change-Id: I1e9c2ea4e6e0793fb0f03c30666838a5c12b6c90
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/77/861577/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/yaql/yaql.spec.j2'],1,edb131849605170f025d256d3a066d08f5582b55,,,BuildRequires: {{ py3('six') }}Requires: {{ py3('six') }},0,2
openstack%2Fdesignate~master~I1fe73145e4a4699939244bc857600efa264f2340,openstack/designate,master,I1fe73145e4a4699939244bc857600efa264f2340,CI: Move queue configuration into project-template,MERGED,2022-10-14 10:17:30.000000000,2022-10-17 05:58:26.000000000,2022-10-17 05:56:39.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-10-14 10:17:30.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate/commit/c907cfa1e68249c21e8cad9f58ff3dc3d9cea6df', 'message': 'CI: Move queue configuration into project-template\n\nWith this it can be reused by the other designate repos and we can\nreduce the replication everywhere.\n\nChange-Id: I1fe73145e4a4699939244bc857600efa264f2340\n'}]",2,861352,c907cfa1e68249c21e8cad9f58ff3dc3d9cea6df,10,5,1,13252,,,0,"CI: Move queue configuration into project-template

With this it can be reused by the other designate repos and we can
reduce the replication everywhere.

Change-Id: I1fe73145e4a4699939244bc857600efa264f2340
",git fetch https://review.opendev.org/openstack/designate refs/changes/52/861352/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c907cfa1e68249c21e8cad9f58ff3dc3d9cea6df,queue-config-template, queue: designate, queue: designate,1,1
openstack%2Foslo.config~master~I7ac27919b0d58929b4c975ebb308f33124a6060f,openstack/oslo.config,master,I7ac27919b0d58929b4c975ebb308f33124a6060f,Make tests backward compat with cliff' older versions,MERGED,2022-09-29 08:03:51.000000000,2022-10-17 05:47:42.000000000,2022-10-17 05:46:41.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-09-29 08:03:51.000000000', 'files': ['oslo_config/tests/test_cfg.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/84478d83f87e9993625044de5cd8b4a18dfcaf5d', 'message': ""Make tests backward compat with cliff' older versions\n\nChange the assertion kind to support all versions of cliff.\nThe previous related fix 78098e6b18026ff9ef03a948b57348f02d42e13b\nwas only compatible with cliff>3.4.0.\n\nChange-Id: I7ac27919b0d58929b4c975ebb308f33124a6060f\n""}]",0,859786,84478d83f87e9993625044de5cd8b4a18dfcaf5d,8,3,1,28522,,,0,"Make tests backward compat with cliff' older versions

Change the assertion kind to support all versions of cliff.
The previous related fix 78098e6b18026ff9ef03a948b57348f02d42e13b
was only compatible with cliff>3.4.0.

Change-Id: I7ac27919b0d58929b4c975ebb308f33124a6060f
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/86/859786/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_config/tests/test_cfg.py'],1,84478d83f87e9993625044de5cd8b4a18dfcaf5d,assert-cliff-version," expected = (cfg._Namespace._deprecated_opt_message % self.assertIn(expected + '\n', self.log_fixture.output) expected = ('Option ""foo"" from group ""DEFAULT"" is ' self.assertIn(expected, self.log_fixture.output) expected = ('Option ""foo"" from group ""other"" is ' self.assertIn(expected, self.log_fixture.output) expected = (cfg._Namespace._deprecated_opt_message % self.assertIn(expected, self.log_fixture.output)"," expected = ('Deprecated: ' + cfg._Namespace._deprecated_opt_message % self.assertEqual(expected + '\n', self.log_fixture.output) expected = ('Deprecated: Option ""foo"" from group ""DEFAULT"" is ' self.assertEqual(expected, self.log_fixture.output) expected = ('Deprecated: Option ""foo"" from group ""other"" is ' self.assertEqual(expected, self.log_fixture.output) expected = ('Deprecated: ' + cfg._Namespace._deprecated_opt_message % self.assertEqual(expected, self.log_fixture.output)",8,8
openstack%2Fmagnum-tempest-plugin~master~I1406a1bf99861315001a573a7d187957bab37682,openstack/magnum-tempest-plugin,master,I1406a1bf99861315001a573a7d187957bab37682,Add stable/zed jobs on master gate,MERGED,2022-10-16 04:03:53.000000000,2022-10-17 05:32:51.000000000,2022-10-17 05:32:51.000000000,"[{'_account_id': 8064}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-10-16 04:03:53.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/be05c7ced036599e827aa45625e993e8741105e9', 'message': 'Add stable/zed jobs on master gate\n\nAs zed is released, we should add its job on master\ngate to keep branchless tempest plugins compatible\nto stable branch.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: I1406a1bf99861315001a573a7d187957bab37682\n'}]",0,861527,be05c7ced036599e827aa45625e993e8741105e9,7,3,1,8556,,,0,"Add stable/zed jobs on master gate

As zed is released, we should add its job on master
gate to keep branchless tempest plugins compatible
to stable branch.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: I1406a1bf99861315001a573a7d187957bab37682
",git fetch https://review.opendev.org/openstack/magnum-tempest-plugin refs/changes/27/861527/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,be05c7ced036599e827aa45625e993e8741105e9,zed-stable-job, - magnum-tempest-plugin-tests-api-zed name: magnum-tempest-plugin-tests-api-zed parent: magnum-tempest-plugin-tests-api nodeset: openstack-single-node-focal override-checkout: stable/zed - job:,,7,0
openstack%2Fcinder~master~Ib072002f8ebe76b4e562a20325a83a1069f9a8b6,openstack/cinder,master,Ib072002f8ebe76b4e562a20325a83a1069f9a8b6,Incremental backup based on a designated parent backup,NEW,2021-11-04 09:39:25.000000000,2022-10-17 05:08:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-04 09:39:25.000000000', 'files': ['cinder/backup/api.py', 'cinder/api/contrib/backups.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0ca4a646bb601cba3da62a5056b1700293acbec6', 'message': 'Incremental backup based on a designated parent backup\n\nWhen making an incremental backup, the latest backup is the only\nchoice of the parent backup.\n\nAdd backup_id param in backup create api to support designating a\nparent backup for incremental backup.\n\nChange-Id: Ib072002f8ebe76b4e562a20325a83a1069f9a8b6\n'}]",3,816628,0ca4a646bb601cba3da62a5056b1700293acbec6,39,1,1,33761,,,0,"Incremental backup based on a designated parent backup

When making an incremental backup, the latest backup is the only
choice of the parent backup.

Add backup_id param in backup create api to support designating a
parent backup for incremental backup.

Change-Id: Ib072002f8ebe76b4e562a20325a83a1069f9a8b6
",git fetch https://review.opendev.org/openstack/cinder refs/changes/28/816628/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/backup/api.py', 'cinder/api/contrib/backups.py']",2,0ca4a646bb601cba3da62a5056b1700293acbec6,incr_backup," parent_id = None if incremental: parent_id = backup.get('parent_id', None) force, snapshot_id, metadata, parent_id)"," force, snapshot_id, metadata)",33,17
openstack%2Foslo.db~master~Ia7795be05e6364d8b2d70be70f5154094a55161a,openstack/oslo.db,master,Ia7795be05e6364d8b2d70be70f5154094a55161a,tests: Define a primary key,MERGED,2022-09-09 16:39:03.000000000,2022-10-17 05:05:17.000000000,2022-10-17 05:04:14.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-09-09 16:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/5c9daddf79d5ed1c0967f8813429fb35faa9a780', 'message': ""tests: Define a primary key\n\nAvoids the following warning:\n\n  SAWarning: Could not assemble any primary keys for locally mapped\n  table 'fake_table_inh' - no rows will be persisted in this Table.\n    class FakeTableJoinedInh(FakeTable):\n\nChange-Id: Ia7795be05e6364d8b2d70be70f5154094a55161a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2022-09-09 16:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/95aed1323a552ffc1e1d2fb1686437f85884de65', 'message': ""tests: Define a primary key\n\nAvoids the following warning:\n\n  SAWarning: Could not assemble any primary keys for locally mapped\n  table 'fake_table_inh' - no rows will be persisted in this Table.\n    class FakeTableJoinedInh(FakeTable):\n\nChange-Id: Ia7795be05e6364d8b2d70be70f5154094a55161a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2022-10-13 10:23:22.000000000', 'files': ['oslo_db/tests/sqlalchemy/test_utils.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/d97aa08202b79697b677d31c1fcf385afec9e6df', 'message': ""tests: Define a primary key\n\nAvoids the following warning:\n\n  SAWarning: Could not assemble any primary keys for locally mapped\n  table 'fake_table_inh' - no rows will be persisted in this Table.\n    class FakeTableJoinedInh(FakeTable):\n\nChange-Id: Ia7795be05e6364d8b2d70be70f5154094a55161a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,856837,d97aa08202b79697b677d31c1fcf385afec9e6df,13,3,3,15334,,,0,"tests: Define a primary key

Avoids the following warning:

  SAWarning: Could not assemble any primary keys for locally mapped
  table 'fake_table_inh' - no rows will be persisted in this Table.
    class FakeTableJoinedInh(FakeTable):

Change-Id: Ia7795be05e6364d8b2d70be70f5154094a55161a
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/37/856837/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_db/tests/sqlalchemy/test_utils.py'],1,5c9daddf79d5ed1c0967f8813429fb35faa9a780,bug/1989208," id = Column(String(50), ForeignKey('fake_table.user_id'), primary_key=True)"," id = Column(String(50), ForeignKey('fake_table.user_id'))",1,1
openstack%2Ftripleo-ansible~master~I25857db1cb94af500f89a4b4de78e54c0dd8e233,openstack/tripleo-ansible,master,I25857db1cb94af500f89a4b4de78e54c0dd8e233,Drop role_name option from tripleo_ovn_mac_addresses,MERGED,2022-09-29 04:26:37.000000000,2022-10-17 04:56:32.000000000,2022-10-17 04:55:31.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-09-29 04:26:37.000000000', 'files': ['tripleo_ansible/roles/tripleo_ovn/tasks/externaldeploy.yml', 'tripleo_ansible/ansible_plugins/modules/tripleo_ovn_mac_addresses.py', 'tripleo_ansible/tests/modules/test_tripleo_ovn_mac_addresses.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c6dacd3d6346bd320d26948ffd53f4620d19ab31', 'message': ""Drop role_name option from tripleo_ovn_mac_addresses\n\nWe don't tag ovn ports with role_name now, so this parameter\nand it's usage is useless.\n\nChange-Id: I25857db1cb94af500f89a4b4de78e54c0dd8e233\n""}]",0,859747,c6dacd3d6346bd320d26948ffd53f4620d19ab31,9,4,1,8833,,,0,"Drop role_name option from tripleo_ovn_mac_addresses

We don't tag ovn ports with role_name now, so this parameter
and it's usage is useless.

Change-Id: I25857db1cb94af500f89a4b4de78e54c0dd8e233
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/47/859747/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_ovn/tasks/externaldeploy.yml', 'tripleo_ansible/ansible_plugins/modules/tripleo_ovn_mac_addresses.py', 'tripleo_ansible/tests/modules/test_tripleo_ovn_mac_addresses.py']",3,c6dacd3d6346bd320d26948ffd53f4620d19ab31,," tags=['tripleo_ovn_physnet=network01', 'tripleo_stack_name=stack'] tags = ['tripleo_stack_name=stack'] tags = ['tripleo_stack_name=stack'] tags = ['tripleo_stack_name=overcloud'] tags = ['tripleo_stack_name=overcloud']"," tags=['tripleo_ovn_physnet=network01', 'tripleo_stack_name=stack', 'tripleo_role_name=Compute'] tags = ['tripleo_stack_name=stack', 'tripleo_role_name=Compute'] tags = ['tripleo_stack_name=stack', 'tripleo_role_name=Compute'] tags = ['tripleo_stack_name=overcloud', 'tripleo_role=Controller'] tags = ['tripleo_stack_name=overcloud', 'tripleo_role=Controller']",5,16
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ic278c69110d427118c5ff9b4bddc72493434154a,openstack/tripleo-heat-templates,stable/wallaby,Ic278c69110d427118c5ff9b4bddc72493434154a,Heat: Present policy rules for all services,MERGED,2022-08-29 06:25:08.000000000,2022-10-17 04:55:27.000000000,2022-10-17 04:55:27.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-08-29 06:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6a3aeddfa05314171ab01f259b78b77f449468a8', 'message': 'Heat: Present policy rules for all services\n\nThe policy rules are used not only by heat-api but also by heat-api-cfn\nand heat-engine. This change ensures the policy rules defined by\nthe HeatApiPolicies parameter is rendered into hieradata in the node\nwhere these heat services are running, even if these services run on\nseparate nodes.\n\nChange-Id: Ic278c69110d427118c5ff9b4bddc72493434154a\nCloses-Bug: #1983342\nDepends-on: https://review.opendev.org/853769\n(cherry picked from commit d503ee5fc93c0b8303f8cb4de92d3b1f50c38237)\n'}, {'number': 2, 'created': '2022-10-12 02:36:12.000000000', 'files': ['deployment/heat/heat-base-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/69bdb2d6b68be232a9ea7902559c0a2f18bddbe5', 'message': 'Heat: Present policy rules for all services\n\nThe policy rules are used not only by heat-api but also by heat-api-cfn\nand heat-engine. This change ensures the policy rules defined by\nthe HeatApiPolicies parameter is rendered into hieradata in the node\nwhere these heat services are running, even if these services run on\nseparate nodes.\n\nBackport note:\nThis backport additionally removes the HeatApiPolicies parameter from\nheat-api, because stable/wallaby and older releases do not have [1].\n\n[1] f63176e97a19f5587e5cc8a7064109d6b8a4441c\n\nChange-Id: Ic278c69110d427118c5ff9b4bddc72493434154a\nCloses-Bug: #1983342\nDepends-on: https://review.opendev.org/853769\n(cherry picked from commit d503ee5fc93c0b8303f8cb4de92d3b1f50c38237)\n'}]",0,854903,69bdb2d6b68be232a9ea7902559c0a2f18bddbe5,11,4,2,9816,,,0,"Heat: Present policy rules for all services

The policy rules are used not only by heat-api but also by heat-api-cfn
and heat-engine. This change ensures the policy rules defined by
the HeatApiPolicies parameter is rendered into hieradata in the node
where these heat services are running, even if these services run on
separate nodes.

Backport note:
This backport additionally removes the HeatApiPolicies parameter from
heat-api, because stable/wallaby and older releases do not have [1].

[1] f63176e97a19f5587e5cc8a7064109d6b8a4441c

Change-Id: Ic278c69110d427118c5ff9b4bddc72493434154a
Closes-Bug: #1983342
Depends-on: https://review.opendev.org/853769
(cherry picked from commit d503ee5fc93c0b8303f8cb4de92d3b1f50c38237)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/03/854903/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/heat/heat-base-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml']",2,6a3aeddfa05314171ab01f259b78b77f449468a8,bug/1983342-stable/wallaby,, heat::policy::policies: {get_param: HeatApiPolicies},7,1
openstack%2Fmagnum-tempest-plugin~master~I0f29d5989b82020bee585f7075915c7c87c7dfc3,openstack/magnum-tempest-plugin,master,I0f29d5989b82020bee585f7075915c7c87c7dfc3,Pin stable branch jobs nodeset to Ubuntu Focal (20.04),MERGED,2022-10-16 02:06:16.000000000,2022-10-17 04:43:49.000000000,2022-10-17 04:43:49.000000000,"[{'_account_id': 8064}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-10-16 02:06:16.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/fd018af9c50632635a77715ed2900a999ea4a000', 'message': 'Pin stable branch jobs nodeset to Ubuntu Focal (20.04)\n\nIn 2023.1 cycle. we are moving the default distro\nversion of Ubuntu to Jammy (22.04)[1] so we need to pin\nthe nodeset for stable branch job in master gate so that\nthey continue run on their supporting distro version which is\nUbuntu Focal since stable/victoria.\n\n[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html\n\nChange-Id: I0f29d5989b82020bee585f7075915c7c87c7dfc3\n'}]",0,861501,fd018af9c50632635a77715ed2900a999ea4a000,6,3,1,8556,,,0,"Pin stable branch jobs nodeset to Ubuntu Focal (20.04)

In 2023.1 cycle. we are moving the default distro
version of Ubuntu to Jammy (22.04)[1] so we need to pin
the nodeset for stable branch job in master gate so that
they continue run on their supporting distro version which is
Ubuntu Focal since stable/victoria.

[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html

Change-Id: I0f29d5989b82020bee585f7075915c7c87c7dfc3
",git fetch https://review.opendev.org/openstack/magnum-tempest-plugin refs/changes/01/861501/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fd018af9c50632635a77715ed2900a999ea4a000,migrate-to-jammy, nodeset: openstack-single-node-focal nodeset: openstack-single-node-focal nodeset: openstack-single-node-focal,,3,0
openstack%2Fdesignate~master~I04d433f7f5866e369dc2042110674e9af8fe7664,openstack/designate,master,I04d433f7f5866e369dc2042110674e9af8fe7664,Imported Translations from Zanata,MERGED,2022-10-17 03:52:50.000000000,2022-10-17 04:13:36.000000000,2022-10-17 04:12:20.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-10-17 03:52:50.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/designate/commit/8f7fbc387e6d580458ae07093cab7de36b1be14a', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I04d433f7f5866e369dc2042110674e9af8fe7664\n'}]",0,861558,8f7fbc387e6d580458ae07093cab7de36b1be14a,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I04d433f7f5866e369dc2042110674e9af8fe7664
",git fetch https://review.opendev.org/openstack/designate refs/changes/58/861558/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,8f7fbc387e6d580458ae07093cab7de36b1be14a,zanata/translations,"""POT-Creation-Date: 2022-10-15 00:52+0000\n""""PO-Revision-Date: 2022-10-16 10:42+0000\n""msgid ""15.0.0"" msgstr ""15.0.0"" msgid ""15.0.0.0rc1-11"" msgstr ""15.0.0.0rc1-11""msgid ""Fixed designate compatibility with jsonschema >= 4.16.0."" msgstr ""Fixed designate compatibility with jsonschema >= 4.16.0."" ","""POT-Creation-Date: 2022-09-21 06:24+0000\n""""PO-Revision-Date: 2022-09-24 01:01+0000\n""msgid ""15.0.0.0rc1"" msgstr ""15.0.0.0rc1""",10,4
openstack%2Fswift~master~Ieb52c187ee16bd843c72efa97a6ccda3a166c49f,openstack/swift,master,Ieb52c187ee16bd843c72efa97a6ccda3a166c49f,ringv2: Add _dispersion_graph to v2,NEW,2022-04-28 01:13:55.000000000,2022-10-17 04:06:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-28 01:13:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/913fb402c5969bcc102004657f663fc31d833d40', 'message': ""ringv2: Add _dispersion_graph to v2\n\nThe dispersion graph can't be json-ified as it's keys are tuples. So\na separate serializer was required.\n\nThis serializer json-ifies each tuple key into a string and then the\nwhole graph can be serialised as json. Deserialization just goes back\nthe opposite way.\n\nChange-Id: Ieb52c187ee16bd843c72efa97a6ccda3a166c49f\n""}, {'number': 2, 'created': '2022-04-28 04:20:33.000000000', 'files': ['swift/common/ring/utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/e21ef726fb8a85a08ebe9ef451c36336b8f5a2ce', 'message': ""ringv2: Add _dispersion_graph to v2\n\nThe dispersion graph can't be json-ified as it's keys are tuples. So\na separate serializer was required.\n\nThis serializer json-ifies each tuple key into a string and then the\nwhole graph can be serialised as json. Deserialization just goes back\nthe opposite way.\n\nChange-Id: Ieb52c187ee16bd843c72efa97a6ccda3a166c49f\n""}]",5,839674,e21ef726fb8a85a08ebe9ef451c36336b8f5a2ce,10,1,2,7233,,,0,"ringv2: Add _dispersion_graph to v2

The dispersion graph can't be json-ified as it's keys are tuples. So
a separate serializer was required.

This serializer json-ifies each tuple key into a string and then the
whole graph can be serialised as json. Deserialization just goes back
the opposite way.

Change-Id: Ieb52c187ee16bd843c72efa97a6ccda3a166c49f
",git fetch https://review.opendev.org/openstack/swift refs/changes/74/839674/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/ring/utils.py'],1,913fb402c5969bcc102004657f663fc31d833d40,," metadata = json.load(r) for k, v in metadata.items(): @RingSerializeBase.register() class RingSerializeDispersionGraph(RingSerializeBase): index_name = 'swift/dispersion_graph' def serialize(self, writer): ring = self.ring.to_dict() # dispersion_graph can't json-ify without some help dispersion_graph = ring.get('_dispersion_graph', {}) serializable_graph = {json.dumps(k): v for k, v in dispersion_graph.items()} with writer.section(self.index_name): writer.write_json(serializable_graph) def deserialize(self, reader): with reader.open_section(self.index_name) as r: serializable_graph = json.load(r) dispersion_graph = {tuple(json.loads(k)): v for k, v in serializable_graph.items()} setattr(self.ring, '_dispersion_graph', dispersion_graph)"," # dispersion graph can't be json-ified. need to serialize # differently. # '_dispersion_graph': ring['_dispersion_graph'], ring_dict = json.load(r) for k, v in ring_dict.items():",26,5
openstack%2Fsenlin~master~Ie3440cb649484f999fc37f4779d36033c96a45d7,openstack/senlin,master,Ie3440cb649484f999fc37f4779d36033c96a45d7,Update deprecated zuul syntax,MERGED,2022-10-13 14:13:08.000000000,2022-10-17 03:14:48.000000000,2022-10-17 03:12:08.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-10-13 14:13:08.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/senlin/commit/5bb85f6d3dc24c5109921e7c8313f385e3d4a1d1', 'message': 'Update deprecated zuul syntax\n\nQueues are now declared at the project level\n\nhttps: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html\nChange-Id: Ie3440cb649484f999fc37f4779d36033c96a45d7\n'}]",0,861189,5bb85f6d3dc24c5109921e7c8313f385e3d4a1d1,9,3,1,16465,,,0,"Update deprecated zuul syntax

Queues are now declared at the project level

https: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html
Change-Id: Ie3440cb649484f999fc37f4779d36033c96a45d7
",git fetch https://review.opendev.org/openstack/senlin refs/changes/89/861189/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5bb85f6d3dc24c5109921e7c8313f385e3d4a1d1,fix/zuul, queue: senlin, queue: senlin,1,1
openstack%2Fsenlin-tempest-plugin~master~Ie6ae6d3961d9dba8701e8b6f02475953db9c19da,openstack/senlin-tempest-plugin,master,Ie6ae6d3961d9dba8701e8b6f02475953db9c19da,Add stable/zed jobs on master gate,MERGED,2022-10-16 04:03:27.000000000,2022-10-17 03:12:06.000000000,2022-10-17 03:12:06.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-10-16 04:03:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/senlin-tempest-plugin/commit/b6189a4e0f66070f36ca9ce6c5376cd5e605e401', 'message': 'Add stable/zed jobs on master gate\n\nAs zed is released, we should add its job on master\ngate to keep branchless tempest plugins compatible\nto stable branch.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: Ie6ae6d3961d9dba8701e8b6f02475953db9c19da\n'}]",0,861523,b6189a4e0f66070f36ca9ce6c5376cd5e605e401,7,2,1,8556,,,0,"Add stable/zed jobs on master gate

As zed is released, we should add its job on master
gate to keep branchless tempest plugins compatible
to stable branch.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: Ie6ae6d3961d9dba8701e8b6f02475953db9c19da
",git fetch https://review.opendev.org/openstack/senlin-tempest-plugin refs/changes/23/861523/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b6189a4e0f66070f36ca9ce6c5376cd5e605e401,zed-stable-job, - senlin-dsvm-tempest-py3-api-zed name: senlin-dsvm-tempest-py3-api-zed parent: senlin-dsvm-tempest-py3-api nodeset: openstack-single-node-focal override-checkout: stable/zed - job:,,7,0
openstack%2Fsenlin-tempest-plugin~master~Ib5d3dcf53b091fa68dee23b3ed9c0b8278e6ded8,openstack/senlin-tempest-plugin,master,Ib5d3dcf53b091fa68dee23b3ed9c0b8278e6ded8,Pin stable branch jobs nodeset to Ubuntu Focal (20.04),MERGED,2022-10-16 02:07:51.000000000,2022-10-17 03:06:40.000000000,2022-10-17 03:06:40.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-10-16 02:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin-tempest-plugin/commit/d3406d6a52da23e3676ce601ad46bb0a092f3c04', 'message': 'Pin stable branch jobs nodeset to Ubuntu Focal (20.04)\n\nIn 2023.1 cycle. we are moving the default distro\nversion of Ubuntu to Jammy (22.04)[1] so we need to pin\nthe nodeset for stable branch job in master gate so that\nthey continue run on their supporting distro version which is\nUbuntu Focal since stable/victoria.\n\n[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html\n\nChange-Id: Ib5d3dcf53b091fa68dee23b3ed9c0b8278e6ded8\n'}, {'number': 2, 'created': '2022-10-16 02:43:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/senlin-tempest-plugin/commit/fef699f82f332643377a3feb65707497cfb9482d', 'message': 'Pin stable branch jobs nodeset to Ubuntu Focal (20.04)\n\nIn 2023.1 cycle. we are moving the default distro\nversion of Ubuntu to Jammy (22.04)[1] so we need to pin\nthe nodeset for stable branch job in master gate so that\nthey continue run on their supporting distro version which is\nUbuntu Focal since stable/victoria.\n\nAlso fixing the zuul config error.\n\n[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html\n\nChange-Id: Ib5d3dcf53b091fa68dee23b3ed9c0b8278e6ded8\n'}]",1,861503,fef699f82f332643377a3feb65707497cfb9482d,9,2,2,8556,,,0,"Pin stable branch jobs nodeset to Ubuntu Focal (20.04)

In 2023.1 cycle. we are moving the default distro
version of Ubuntu to Jammy (22.04)[1] so we need to pin
the nodeset for stable branch job in master gate so that
they continue run on their supporting distro version which is
Ubuntu Focal since stable/victoria.

Also fixing the zuul config error.

[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html

Change-Id: Ib5d3dcf53b091fa68dee23b3ed9c0b8278e6ded8
",git fetch https://review.opendev.org/openstack/senlin-tempest-plugin refs/changes/03/861503/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d3406d6a52da23e3676ce601ad46bb0a092f3c04,migrate-to-jammy, nodeset: openstack-single-node-focal nodeset: openstack-single-node-focal nodeset: openstack-single-node-focal,,3,0
openstack%2Fcyborg-tempest-plugin~master~I2994c661f7e466c1a1c4e9f4a748845729f7b1af,openstack/cyborg-tempest-plugin,master,I2994c661f7e466c1a1c4e9f4a748845729f7b1af,get non-existent accelerator request,ABANDONED,2022-09-16 08:37:18.000000000,2022-10-17 00:40:11.000000000,,"[{'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2022-09-16 08:37:18.000000000', 'files': ['cyborg_tempest_plugin/tests/api/test_accelerator_request_negative.py'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/648a5391c9de5b34ea540af33b5215875ac0635d', 'message': 'get non-existent accelerator request\n\nget non-existent accelerator request\n\nChange-Id: I2994c661f7e466c1a1c4e9f4a748845729f7b1af\n'}]",3,857957,648a5391c9de5b34ea540af33b5215875ac0635d,4,2,1,30409,,,0,"get non-existent accelerator request

get non-existent accelerator request

Change-Id: I2994c661f7e466c1a1c4e9f4a748845729f7b1af
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/57/857957/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg_tempest_plugin/tests/api/test_accelerator_request_negative.py'],1,648a5391c9de5b34ea540af33b5215875ac0635d,master01," @test.attr(type=['negative', 'gate']) def test_get_non_existent_accelerator_request(self): # get non-existent accelerator request non_existent_id = str(uuid.uuid4()) self.assertRaises( lib_exc.NotFound, self.os_admin.cyborg_client.get_accelerator_request, non_existent_id) ",,11,0
openstack%2Fcyborg-tempest-plugin~master~Iade595f4fe5b73635c23261f3fdb661a00d8a790,openstack/cyborg-tempest-plugin,master,Iade595f4fe5b73635c23261f3fdb661a00d8a790,create the accelerator request with duplicate name new,ABANDONED,2022-10-12 06:30:44.000000000,2022-10-17 00:36:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-10-12 06:30:44.000000000', 'files': ['cyborg_tempest_plugin/tests/api/test_accelerator_request_negative.py'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/f47751e50d8dc2e3e5db3cb3429dba137c69bcb6', 'message': 'create the accelerator request with duplicate name new\n\ncreate the accelerator request with duplicate name\n\nChange-Id: Iade595f4fe5b73635c23261f3fdb661a00d8a790\n'}]",2,860993,f47751e50d8dc2e3e5db3cb3429dba137c69bcb6,3,1,1,30409,,,0,"create the accelerator request with duplicate name new

create the accelerator request with duplicate name

Change-Id: Iade595f4fe5b73635c23261f3fdb661a00d8a790
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/93/860993/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg_tempest_plugin/tests/api/test_accelerator_request_negative.py'],1,f47751e50d8dc2e3e5db3cb3429dba137c69bcb6,master13,"import random import string @test.attr(type=['negative', 'gate']) def test_create_accelerator_request_with_duplicate_name(self): # create the accelerator request with duplicate name lower_letters = string.ascii_lowercase rand_letters = random.choice(lower_letters) dp = [{ ""name"": ""test_duplicate_name"" + rand_letters, ""groups"": [ {""resources:FPGA"": ""1"", ""trait:CUSTOM_FPGA_1"": ""required"", ""trait:CUSTOM_FUNCTION_ID_3AFB"": ""required"", } ] }] response = self.os_admin.cyborg_client.create_device_profile(dp) device_profile_name = response['name'] self.addCleanup(self.os_admin.cyborg_client.delete_device_profile, dp[0]['name']) # first create_accelerator_request self.os_admin.cyborg_client.create_accelerator_request( {""device_profile_name"": device_profile_name}) # second create_accelerator_request self.assertRaises( lib_exc.BadRequest, self.os_admin.cyborg_client.create_accelerator_request, {""device_profile_name"": device_profile_name})",,31,1
openstack%2Fdesignate-tempest-plugin~master~Ica70673b47decce374f02bf518b7b1c7e9d1195d,openstack/designate-tempest-plugin,master,Ica70673b47decce374f02bf518b7b1c7e9d1195d,Add stable/zed jobs on master gate,ABANDONED,2022-10-16 04:04:14.000000000,2022-10-16 19:43:55.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-16 04:04:14.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/7cddb410859b373884755ff6f5814ecced74dedd', 'message': 'Add stable/zed jobs on master gate\n\nAs zed is released, we should add its job on master\ngate to keep branchless tempest plugins compatible\nto stable branch.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: Ica70673b47decce374f02bf518b7b1c7e9d1195d\n'}]",1,861532,7cddb410859b373884755ff6f5814ecced74dedd,4,2,1,8556,,,0,"Add stable/zed jobs on master gate

As zed is released, we should add its job on master
gate to keep branchless tempest plugins compatible
to stable branch.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: Ica70673b47decce374f02bf518b7b1c7e9d1195d
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/32/861532/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7cddb410859b373884755ff6f5814ecced74dedd,zed-stable-job, name: designate-bind9-stable-zed parent: designate-bind9 nodeset: openstack-single-node-focal override-checkout: stable/zed - job: - designate-bind9-stable-zed,,7,0
openstack%2Fneutron~master~I98fc252f1f884cd096447f0c4a698332a6cc248c,openstack/neutron,master,I98fc252f1f884cd096447f0c4a698332a6cc248c,[WIP][L3] QoS inherit network,ABANDONED,2021-11-24 16:55:08.000000000,2022-10-16 07:14:12.000000000,,"[{'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-24 16:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eb22d863ffce2a5a65f6f7f58e1979e15ad5a5c2', 'message': '[WIP][L3] QoS inherit network\n\nTODO: description, testing, all...\n\nPartial-Bug: #1950454\n\nChange-Id: I98fc252f1f884cd096447f0c4a698332a6cc248c\n'}, {'number': 2, 'created': '2021-12-22 10:08:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0bb2d0478b3c5331259241ff396e9ad4e9515a8e', 'message': '[WIP][L3] QoS inherit network\n\nTODO: description, testing, all...\n\nPartial-Bug: #1950454\n\nChange-Id: I98fc252f1f884cd096447f0c4a698332a6cc248c\n'}, {'number': 3, 'created': '2022-02-25 18:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3ec96ee8d0d679df400994cd6d8c1e1c06379733', 'message': '[WIP][L3] QoS inherit network\n\nNOTE: this patch does NOT work at all\n\nTODO: description, testing, all...\n\nPartial-Bug: #1950454\n\nChange-Id: I98fc252f1f884cd096447f0c4a698332a6cc248c\n'}, {'number': 4, 'created': '2022-03-08 17:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/415d0eead22a0d3b9794e04309f6f84b8f919c3c', 'message': '[WIP][L3] QoS inherit network\n\nNOTE: this patch does NOT work at all\n\nTODO: description, testing, all...\n\nPartial-Bug: #1950454\n\nChange-Id: I98fc252f1f884cd096447f0c4a698332a6cc248c\n'}, {'number': 5, 'created': '2022-03-25 17:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0396ad6946a28235807da1a0b07a246c76086fbb', 'message': '[WIP][L3] QoS inherit network\n\nNOTE: this patch does NOT work at all\n\nTODO: description, testing, all...\n\nPartial-Bug: #1950454\n\nChange-Id: I98fc252f1f884cd096447f0c4a698332a6cc248c\n'}, {'number': 6, 'created': '2022-03-25 17:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/691ff6217d4112e55bb6316ca55ee1de2a76b352', 'message': '[WIP][L3] QoS inherit network\n\nNOTE: this patch does NOT work at all\n\nTODO: description, testing, all...\n\nPartial-Bug: #1950454\n\nChange-Id: I98fc252f1f884cd096447f0c4a698332a6cc248c\n'}, {'number': 7, 'created': '2022-04-19 16:46:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/26099963d0d31226822c03b3133d5c2c02a1b6cf', 'message': '[WIP][L3] QoS inherit network\n\nNOTE: this patch does NOT work at all\n\nTODO: description, testing, all...\n\nPartial-Bug: #1950454\n\nChange-Id: I98fc252f1f884cd096447f0c4a698332a6cc248c\n'}, {'number': 8, 'created': '2022-04-20 10:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7de128e95490f42c475d44459a0be8e580eb6e31', 'message': '[WIP][L3] QoS inherit network\n\nNOTE: this patch does NOT work at all\n\nTODO: description, testing, all...\n\nPartial-Bug: #1950454\n\nChange-Id: I98fc252f1f884cd096447f0c4a698332a6cc248c\n'}, {'number': 9, 'created': '2022-07-28 13:52:07.000000000', 'files': ['neutron/agent/l3/agent.py', 'neutron/agent/l3/router_info.py', 'neutron/agent/l3/extensions/qos/fip.py', 'neutron/agent/l3/l3_agent_extensions_manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1932556a34a049783bf5a433188a155cdc96bf0b', 'message': '[WIP][L3] QoS inherit network\n\nNOTE: this patch does NOT work at all\n\nTODO: description, testing, all...\n\nPartial-Bug: #1950454\n\nChange-Id: I98fc252f1f884cd096447f0c4a698332a6cc248c\n'}]",33,819147,1932556a34a049783bf5a433188a155cdc96bf0b,52,2,9,16688,,,0,"[WIP][L3] QoS inherit network

NOTE: this patch does NOT work at all

TODO: description, testing, all...

Partial-Bug: #1950454

Change-Id: I98fc252f1f884cd096447f0c4a698332a6cc248c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/47/819147/9 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/l3_agent_extensions_manager.py'],1,eb22d863ffce2a5a65f6f7f58e1979e15ad5a5c2,bug/1950454," def update_network(self, context, data): """"""Notify all agent extensions to update network."""""" for extension in self: try: extension.obj.update_router(context, data) except AttributeError: # TODO: pass LOG.debug(""L3 agent extension(s) finished router %s "" ""update action."", data['id'])",,11,0
openstack%2Fneutron-vpnaas~master~I2a818e59ef2fe54090544990fcd74a7ba470edc3,openstack/neutron-vpnaas,master,I2a818e59ef2fe54090544990fcd74a7ba470edc3,[doc] Fix configuration files naming,ABANDONED,2022-07-18 12:07:02.000000000,2022-10-16 07:13:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-18 12:07:02.000000000', 'files': ['doc/source/configuration/samples/neutron_vpnaas.rst', 'etc/oslo-config-generator/neutron_vpnaas.conf', 'doc/source/configuration/samples/l3_agent.rst', 'etc/oslo-config-generator/l3_agent.ini', 'doc/source/configuration/neutron_vpnaas.rst', 'doc/source/configuration/l3_agent.rst', 'etc/oslo-config-generator/neutron.conf'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/1b38a8df829b83a4b70e491b7c7b5604b03ea995', 'message': '[doc] Fix configuration files naming\n\nIn Queens VPNaaS has moved from being independant service to be L3\nextension. However, documentation still reference old filenames which is\nconfusing for end-users. We should explicilty say, that configuration\nshould be done inside L3 agent config file rather then some standalone\nconfig.\n\nChange-Id: I2a818e59ef2fe54090544990fcd74a7ba470edc3\n'}]",1,850154,1b38a8df829b83a4b70e491b7c7b5604b03ea995,5,1,1,28619,,,0,"[doc] Fix configuration files naming

In Queens VPNaaS has moved from being independant service to be L3
extension. However, documentation still reference old filenames which is
confusing for end-users. We should explicilty say, that configuration
should be done inside L3 agent config file rather then some standalone
config.

Change-Id: I2a818e59ef2fe54090544990fcd74a7ba470edc3
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/54/850154/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/samples/neutron_vpnaas.rst', 'etc/oslo-config-generator/neutron_vpnaas.conf', 'doc/source/configuration/samples/l3_agent.rst', 'etc/oslo-config-generator/l3_agent.ini', 'doc/source/configuration/l3_agent.rst', 'doc/source/configuration/neutron_vpnaas.rst', 'etc/oslo-config-generator/neutron.conf']",7,1b38a8df829b83a4b70e491b7c7b5604b03ea995,,[DEFAULT] output_file = etc/neutron.conf.sample wrap_width = 79 namespace = neutron.vpnaas ,,24,21
openstack%2Fneutron-vpnaas-dashboard~stable%2Fvictoria~I27be86ddd17945d1e1fe8b0e49c54bdf3ecb59a9,openstack/neutron-vpnaas-dashboard,stable/victoria,I27be86ddd17945d1e1fe8b0e49c54bdf3ecb59a9,Imported Translations from Zanata,ABANDONED,2022-08-17 03:48:39.000000000,2022-10-16 07:13:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-08-17 03:48:39.000000000', 'files': ['neutron_vpnaas_dashboard/locale/es/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/9e9c1d298883549df3101c6117c7f6982b5b4767', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I27be86ddd17945d1e1fe8b0e49c54bdf3ecb59a9\n'}]",0,853391,9e9c1d298883549df3101c6117c7f6982b5b4767,3,1,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I27be86ddd17945d1e1fe8b0e49c54bdf3ecb59a9
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/91/853391/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_vpnaas_dashboard/locale/es/LC_MESSAGES/django.po'],1,9e9c1d298883549df3101c6117c7f6982b5b4767,zanata/translations,"# Eugnia Torrella <tester03@es.ibm.com>, 2016. #zanata # Jose Porrua <jose.porrua@netapp.com>, 2016. #zanata # Alberto Molina Coballes <alberto@tinaja.es>, 2017. #zanata # Carlos Camacho <ccamacho@redhat.com>, 2017. #zanata # Zeus Arias Lucero <zeusariaslucero@gmail.com>, 2017. #zanata # Alberto Molina Coballes <alberto@tinaja.es>, 2021. #zanata msgid """" msgstr """" ""Project-Id-Version: neutron-vpnaas-dashboard VERSION\n"" ""Report-Msgid-Bugs-To: https://bugs.launchpad.net/openstack-i18n/\n"" ""POT-Creation-Date: 2020-12-01 09:27+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2021-06-07 06:55+0000\n"" ""Last-Translator: Alberto Molina Coballes <alberto@tinaja.es>\n"" ""Language-Team: Spanish\n"" ""Language: es\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=2; plural=(n != 1)\n"" msgid """" ""(Deprecated) Remote peer subnet(s) address(es) with mask(s) in CIDR format "" ""separated with commas if needed (e.g. 20.1.0.0/24, 21.1.0.0/24)"" msgstr """" ""(Obsoleto) Direccion(es) de subred(es) del par remoto con mscara(s) en "" ""formato CIDR separadas por comas si es necesario (p. ej. 20.1.0.0/24, "" ""21.1.0.0/24)"" msgid ""-"" msgstr ""-"" msgid ""3des"" msgstr ""3des"" msgctxt ""Current status of an IPsec site connection and VPN service"" msgid ""Active"" msgstr ""Activa"" msgid ""Add"" msgstr ""Aadir"" msgid ""Add Endpoint Group"" msgstr ""Aadir un grupo de extremo"" msgid ""Add IKE Policy"" msgstr ""Aadir poltica IKE"" msgid ""Add IPsec Policy"" msgstr ""Aadir poltica IPsec"" msgid ""Add IPsec Site Connection"" msgstr ""Aadir conexin sitio a sitio IPsec"" msgid ""Add New Endpoint Groups"" msgstr ""Aadir nuevos grupos de extremos"" msgid ""Add New IKE Policy"" msgstr ""Aadir nueva poltica IKE"" msgid ""Add New IPsec Policy"" msgstr ""Aadir nueva poltica IPSec"" msgid ""Add New IPsec Site Connection"" msgstr ""Aadir nueva conexin sitio a sitio IPSec"" msgid ""Add New VPN Service"" msgstr ""Aadir nuevo servicio VPN"" msgid ""Add VPN Service"" msgstr ""Aadir servicio VPN"" #, python-format msgid ""Added IKE policy \""%s\""."" msgstr ""Poltica IKE \""%s\"" aadida."" #, python-format msgid ""Added IPsec policy \""%s\""."" msgstr ""Poltica IPSec \""%s\"" aadida."" #, python-format msgid ""Added IPsec site connection \""%s\""."" msgstr ""Conexin sitio a sitio IPSec \""%s\"" aadida."" #, python-format msgid ""Added VPN service \""%s\""."" msgstr ""Servicio VPN \""%s\"" aadido."" #, python-format msgid ""Added endpoint group \""%s\""."" msgstr ""Grupo de extremos \""%s\"" aadido."" msgid ""Admin State"" msgstr ""Estado de administracin"" msgid ""Admin State is enabled by default."" msgstr ""El estado de administracin est activado de forma predeterminada."" msgid ""All fields are optional."" msgstr ""Todos los campos son opcionales."" msgid ""An IKE policy is an association of the following attributes:"" msgstr ""Una poltica IKE es una asociacin de los siguiente atributos:"" msgid ""An IPsec policy is an association of the following attributes"" msgstr ""Una poltica IPsec es una asociacin de los siguientes atributos"" msgid ""Authorization algorithm"" msgstr ""Algoritmo de autorizacin"" msgid ""Authorization algorithm ="" msgstr ""Algoritmo de autorizacin ="" msgid ""Authorization mode"" msgstr ""Modo de autorizacin"" msgid ""CIDR (for external systems)"" msgstr ""CIDR (para sistemas externos)"" msgid ""Create IKE policy for current project."" msgstr ""Crear poltica IKE para el proyecto actual."" msgid ""Create IPsec policy for current project."" msgstr ""Crear una poltica IPsec para el proyecto actual."" msgid """" ""Create IPsec site connection for current project. Assign a name and "" ""description for the IPsec site connection. All fields in this tab are "" ""required."" msgstr """" ""Cree una conexin sitio a sitio IPSec para el proyecto actual. Asigne nombre "" ""y descripcin para la conexin sitio a sitio IPSec. Todos los campos en esta "" ""pestaa son obligatorios."" msgid ""Create VPN service for current project."" msgstr ""Crear un servicio VPN en el proyecto actual."" msgid ""Create endpoint group for current project."" msgstr ""Crear grupo de extremos para el proyecto actual."" msgctxt ""Current status of an IPsec site connection and VPN service"" msgid ""Created"" msgstr ""Creado"" msgid ""DPD Timeout must be greater than DPD Interval"" msgstr """" ""La desconexin de la deteccin de pares inactivos debe ser mayor al "" ""intervalo de la misma"" msgid ""Dead peer detection action"" msgstr ""Accin de deteccin del par inactivo"" msgid ""Dead peer detection actions"" msgstr ""Acciones de deteccin de pares inactivos"" msgid ""Dead peer detection interval"" msgstr ""Intervalo de deteccin de pares inactivos"" msgid ""Dead peer detection timeout"" msgstr ""Tiempo lmite de deteccin de pares inactivos"" msgid ""Delete Endpoint Group"" msgid_plural ""Delete Endpoint Groups"" msgstr[0] ""Eliminar grupo de extremos"" msgstr[1] ""Eliminar grupos de extremos"" msgid ""Delete IKE Policy"" msgid_plural ""Delete IKE Policies"" msgstr[0] ""Suprimir poltica IKE"" msgstr[1] ""Suprimir polticas IKE"" msgid ""Delete IPsec Policy"" msgid_plural ""Delete IPsec Policies"" msgstr[0] ""Eliminar poltica IKE"" msgstr[1] ""Eliminar polticas IKE"" msgid ""Delete IPsec Site Connection"" msgid_plural ""Delete IPsec Site Connections"" msgstr[0] ""Eliminar conexin sitio a sitio IPSec"" msgstr[1] ""Eliminar Conexiones sitio a sitio IPSec"" msgid ""Delete VPN Service"" msgid_plural ""Delete VPN Services"" msgstr[0] ""Suprimir servicio VPN"" msgstr[1] ""Suprimir servicios VPN"" msgid ""Description"" msgstr ""Descripcin "" msgid ""Description:"" msgstr ""Descripcin:"" msgctxt ""Current status of an IPsec site connection and VPN service"" msgid ""Down"" msgstr ""Abajo"" msgid ""Edit Connection"" msgstr ""Editar conexin"" msgid ""Edit Endpoint Group"" msgstr ""Editar grupo de extremos"" msgid ""Edit IKE Policy"" msgstr ""Editar poltica IKE"" msgid ""Edit IPsec Policy"" msgstr ""Editar poltica IPsec"" msgid ""Edit IPsec Site Connection"" msgstr ""Editar la conexin sitio a sitio IPsec"" msgid ""Edit IPsec policy"" msgstr ""Editar poltica IPsec"" msgid ""Edit IPsec site connection"" msgstr ""Editar conexin sitio a sitio IPsec"" msgid ""Edit VPN Service"" msgstr ""Editar servicio VPN"" msgid ""Enable Admin State"" msgstr ""Activar Estado del Administrador"" msgid ""Encapsulation mode"" msgstr ""Modo de encapsulamiento"" msgid ""Encryption algorithm"" msgstr ""Algoritmo de cifrado"" msgid ""Encryption algorithm ="" msgstr ""Algoritmo de cifrado ="" msgid ""Endpoint Groups"" msgstr ""Grupos de extremos"" msgid ""Endpoint Groups Details"" msgstr ""Detalles del grupo de extremos"" #, python-format msgid ""Endpoint group %s was successfully updated."" msgstr ""El grupo endpoint %s se actuailiz correctamente."" msgid ""Endpoint group for local subnet(s)"" msgstr ""Grupo de extremos para la subred(s) local"" msgid ""Endpoint group for remote peer CIDR(s)"" msgstr ""Grupo de extremos para el CIDR(s) del par remoto "" msgid ""Endpoints"" msgstr ""Extremos"" msgid ""Endpoints ="" msgstr ""Extremos ="" msgid ""Equal to or greater than 60"" msgstr ""Mayor o igual que 60"" msgid """" ""Equal to or greater than 68 if the local subnet is IPv4. Equal to or greater "" ""than 1280 if the local subnet is IPv6."" msgstr """" ""Mayor o igual que 68 si la subred local es IPv4. Igual o mayor que 1280 si "" ""la subred local es IPv6."" msgctxt ""Current status of an IPsec site connection and VPN service"" msgid ""Error"" msgstr ""Error"" msgid ""External System CIDRs"" msgstr ""CIDRs de sistemas externos"" msgid ""External System Subnets"" msgstr ""Subredes de sistemas externos"" #, python-format msgid ""Failed to update IKE policy %s"" msgstr ""Ha ocurrido un fallo al actualizar la poltica IKE %s"" #, python-format msgid ""Failed to update IPsec policy %s"" msgstr ""Ha ocurrido un fallo al actualizar la poltica IPsec %s."" #, python-format msgid ""Failed to update IPsec site connection %s"" msgstr ""Ha ocurrido un fallo al actualizar la conexin sitio a sitio IPsec %s"" #, python-format msgid ""Failed to update VPN service %s"" msgstr ""Ha fallado la modificacin del servicio VPN %s"" #, python-format msgid ""Failed to update endpoint group %s"" msgstr ""Ha ocurrido un fallo al actualizar el grupo endpoint %s"" msgid """" ""Fields in this tab are optional. You can configure the detail of IPsec site "" ""connection created."" msgstr """" ""Los campos en esta pestaa son opcionales. Puede configurar el detalle de la "" ""conexin IPsec sitio a sitio creada."" msgid ""ID"" msgstr ""ID"" msgid ""IKE Phase 1 negotiation mode"" msgstr ""Modo de negociacin IKE Fase 1"" msgid ""IKE Phase1 negotiation mode"" msgstr ""Modo de negociacin Phase1 IKE"" msgid ""IKE Policies"" msgstr ""Polticas IKE"" msgid ""IKE Policy"" msgstr ""Poltica IKE"" msgid ""IKE Policy ="" msgstr ""Poltica IKE ="" msgid ""IKE Policy Details"" msgstr ""Detalles de la poltica IKE"" msgid ""IKE Policy ID ="" msgstr ""ID poltica IKE ="" #, python-format msgid ""IKE policy %s was successfully updated."" msgstr ""La poltica IKE %s se ha actualizado correctamente."" msgid ""IKE policy associated with this connection"" msgstr ""Poltica IKE asociada a esta conexin"" msgid ""IKE version"" msgstr ""Versin IKE"" msgid ""IPsec Policies"" msgstr ""Polticas IPsec"" msgid ""IPsec Policy"" msgstr ""Poltica IPsec"" msgid ""IPsec Policy ="" msgstr ""Poltica IPSec ="" msgid ""IPsec Policy Details"" msgstr ""Detalles de la poltica IPsec"" msgid ""IPsec Policy ID ="" msgstr ""ID poltica IPsec ="" msgid ""IPsec Site Connection Details"" msgstr ""Detalles de la conexin sitio a sitio IPsec"" msgid ""IPsec Site Connections"" msgstr ""Conexiones sitio a sitio IPsec"" msgid ""IPsec connection validation requires that local endpoints are subnets"" msgstr """" ""La validacin de la conexin IPsec requiere que los extremos locales sean "" ""subredes."" msgid """" ""IPsec connection validation requires that local endpoints are subnets, and "" ""peer endpoints are CIDRs."" msgstr """" ""La validacin de la conexin IPsec requete que los extremos locales sean "" ""subredes y que los extremos del par sean CIDRs."" msgid ""IPsec connection validation requires that peer endpoints are CIDRs"" msgstr """" ""La validacin de la conexin IPsec requiere que los extremos del par sean "" ""CIDRs."" #, python-format msgid ""IPsec policy %s was successfully updated."" msgstr ""Se ha actualizaco correctamente la poltica IPsec %s."" msgid ""IPsec policy associated with this connection"" msgstr ""Poltica IPSec asociada a esta conexin"" #, python-format msgid ""IPsec site connection %s was successfully updated."" msgstr ""La conexin sitio a sitio IPsec %s se actualiz correctamente."" msgid ""IPv4"" msgstr ""IPv4"" msgid ""IPv4:"" msgstr ""IPv4:"" msgid ""IPv6"" msgstr ""IPv6"" msgid ""IPv6:"" msgstr ""IPv6:"" msgctxt ""Current status of an IPsec site connection and VPN service"" msgid ""Inactive"" msgstr ""Inactiva"" msgid ""Initiator state"" msgstr ""Estado del iniciador"" msgid """" ""Life time consists of units and value. Units in 'seconds' and the default "" ""value is 3600."" msgstr """" ""El tiempo de vida consiste en unidades y valores. Unidades en 'segundos' y "" ""el valor predeterminado es 3600."" msgid ""Lifetime"" msgstr ""Tiempo de vida"" msgid ""Lifetime Units"" msgstr ""Unidades del tiempo de vida"" msgid ""Lifetime Value"" msgstr ""Valor del tiempo de vida"" msgid ""Lifetime units"" msgstr ""Unidades de tiempo de vida"" msgid ""Lifetime units for IKE keys"" msgstr ""Unidades de tiempo de vida para las claves IKE"" msgid ""Lifetime value"" msgstr ""Valor de tiempo de vida"" msgid ""Lifetime value for IKE keys"" msgstr ""Valores de tiempo de vida para las claves IKE"" msgid ""Lifetime value for IKE keys "" msgstr ""Valor de tiempo de vida para claves IKE"" msgid ""Local Endpoint Group"" msgstr ""Grupo de extremos local"" msgid ""Local Endpoint Group(s)"" msgstr ""Grupo(s) de extremo local"" msgid ""Local Side Public IPs"" msgstr ""IP pblicas del lado local"" msgid ""Local System Subnets"" msgstr ""Subredes de sistemas locales"" msgid ""Local subnet(s). This field is valid if type is Subnet"" msgstr ""Subred(es) local(es). Este campo es vlido si el tipo es una subred."" msgid """" ""Local subnets which the new IPsec connection is connected to. Required if no "" ""subnet is specified in a VPN service selected."" msgstr """" ""Subredes locales a las que la nueva conexin IPsec est conectada. "" ""Obligatorio si no se ha especificado una subred en el servicio VPN "" ""seleccionado."" msgid ""MTU"" msgstr ""MTU"" msgid ""Maximum Transmission Unit size for the connection"" msgstr ""Tamao de la unidad de Transmisin mxima de la conexin"" msgid ""Name"" msgstr ""Nombre"" msgid ""Name ="" msgstr ""Nombre ="" msgid """" ""Note: The recommended way to specify local subnets is to use endpoint groups "" ""in IPsec site connection. It is deprecated to specify subnet in VPN service. "" ""For a new VPN service or IPsec site connection, using endpoint group is "" ""recommended."" msgstr """" ""Nota: La forma recomendada de especificar subredes locales es usar grupos de "" ""extremos en conexiones sitio a sitio IPsec. Especificar una subred en el "" ""servicio VPN est obsoleto. Para un nuevo servicio VPN o una conexin sitio "" ""a sitio IPsec, se recomienda usar un grupo de extremos."" msgid ""Optional Parameters"" msgstr ""Parmetros opcionales"" msgid ""Optional. No need to be specified when you use endpoint groups."" msgstr """" ""Opcional. No es necesario especificarlo cuando se usan grupos de extremo."" msgid ""PFS"" msgstr ""PFS"" msgid ""PFS ="" msgstr ""PFS ="" msgid ""PFS limited to using Diffie-Hellman groups 2, 5 (default) and 14."" msgstr """" ""PFS limitados a usar los grupos 2, 5 (predeterminado) y 14 de Diffie-Hellman."" msgid ""Peer Endpoint Group"" msgstr ""Grupo de extermos del par"" msgid ""Peer Endpoint Group(s)"" msgstr ""Grupo(s) de extremo del par"" msgid ""Peer gateway public IPv4/IPv6 Address or FQDN"" msgstr ""Direccin IPv4/IPv6 pblica o FQDN de la puerta de enlace del par"" msgid ""Peer gateway public IPv4/IPv6 address or FQDN for the VPN Connection"" msgstr """" ""Direccin IPv4/IPv6 pblica o FQDN de la puerta de enlace del par para la "" ""conexin VPN."" msgid ""Peer router identity for authentication (Peer ID)"" msgstr ""Identidad del router par para autenticacin (Peer ID)"" msgid """" ""Peer router identity for authentication. Can be IPv4/IPv6 address, e-mail, "" ""key ID, or FQDN"" msgstr """" ""Identificador de un router par para autenticacin. Puede ser una direccin "" ""IPv4/IPv6, una direccin de correo electrnico, un ID de clave o un FQDN"" msgctxt ""Current status of an IPsec site connection and VPN service"" msgid ""Pending Create"" msgstr ""Creacin Pendiente"" msgctxt ""Current status of an IPsec site connection and VPN service"" msgid ""Pending Delete"" msgstr ""Eliminacin pendiente"" msgctxt ""Current status of an IPsec site connection and VPN service"" msgid ""Pending Update"" msgstr ""Actualizacin pendiente"" msgid ""Perfect Forward Secrecy"" msgstr ""Perfect Forward Secrecy"" msgid ""Phase 1 negotiation mode limited to using 'main' and 'aggressive'."" msgstr """" ""El modo de negociacin de la fase 1 est limitado a usar 'main' y "" ""'aggressive'."" msgid ""Pre-Shared Key (PSK) string"" msgstr ""Cadena de clave precompartida (PSK)"" msgid ""Project ID"" msgstr ""ID del proyecto"" msgid ""Remote peer CIDR(s) connected to the new IPsec connection."" msgstr ""CIDR(s) del par remoto conectado a la nueva conexin IPsec."" msgid ""Remote peer subnet"" msgstr ""Subred remota del par"" msgid ""Remote peer subnet(s)"" msgstr ""Subred(es) del par remoto"" msgid """" ""Remote peer subnet(s) address(es) with mask(s) in CIDR format separated with "" ""commas if needed (e.g. 20.1.0.0/24, 21.1.0.0/24)"" msgstr """" ""Direccion(es) de subred(es) del par remoto con mscara(s) en formato CIDR "" ""separadas por comas si es necesario (p. ej. 20.1.0.0/24, 21.1.0.0/24)"" msgid """" ""Remote peer subnet(s) address(es) with mask(s) in CIDR format separated with "" ""commas if needed (e.g. 20.1.0.0/24, 21.1.0.0/24). This field is valid if "" ""type is CIDR"" msgstr """" ""Direcciones de subredes remotas de los pares con mscara(s) en formato CIDR "" ""separadas con comas si es necesario (p.ej. 20.1.0.0/24, 21.1.0.0/24). Este "" ""campo es vlido si el tipo es CIDR"" msgid ""Route mode"" msgstr ""Modo router"" msgid ""Router"" msgstr ""Router"" msgid ""Router ="" msgstr ""Router ="" msgid ""Router ID ="" msgstr ""ID router ="" msgid ""Save Changes"" msgstr ""Guardar cambios"" msgid ""Scheduled deletion of IKE policy"" msgid_plural ""Scheduled deletion of IKE policies"" msgstr[0] ""Se ha programado la eliminacin de la poltica IKE"" msgstr[1] ""Se ha programado la eliminacin de las polticas IKE"" msgid ""Scheduled deletion of IPsec policy"" msgid_plural ""Scheduled deletion of IPsec policies"" msgstr[0] ""Se ha programado la eliminacin de la poltica IPsec"" msgstr[1] ""Se ha programado la eliminacin de las polticas IPsec"" msgid ""Scheduled deletion of IPsec site connection"" msgid_plural ""Scheduled deletion of IPsec site connections"" msgstr[0] ""Se ha programado la eliminacin de la conexin sitio a sitio IPsec"" msgstr[1] """" ""Se ha programado la eliminacin de las conexiones sitio a sitio IPsec"" msgid ""Scheduled deletion of VPN service"" msgid_plural ""Scheduled deletion of VPN services"" msgstr[0] ""Se ha programado la eliminacin del servicio VPN"" msgstr[1] ""Se ha programado la eliminacin de los servicios VPN"" msgid ""Scheduled deletion of endpoint group"" msgid_plural ""Scheduled deletion of endpoint groups"" msgstr[0] ""Se ha programado la eliminacin del grupo de extremos"" msgstr[1] ""Se ha programado la eliminacin de los grupos de extremos"" msgid ""Select IKE policy"" msgstr ""Seleccionar poltica IKE"" msgid ""Select IPsec Policy"" msgstr ""Seleccionar poltica IPsec"" msgid ""Select VPN service"" msgstr ""Seleccionar servicio VPN"" msgid ""Select a Router"" msgstr ""Seleccionar un router"" msgid ""Select a Subnet"" msgstr ""Seleccione una subred"" msgid ""Select local endpoint group"" msgstr ""Seleccionar grupo de extremos local"" msgid ""Select peer endpoint group"" msgstr ""Seleccionar grupo de extremos del par"" msgid """" ""Specify a name, description, router, and subnet (optional) for the VPN "" ""service."" msgstr """" ""Especifique un nombre, descripcin, router y subred (opcional) para el "" ""servicio VPN."" msgid ""Status"" msgstr ""Estado"" msgid ""Status ="" msgstr ""Estado ="" msgid ""Subnet"" msgstr ""Subred"" msgid ""Subnet (for local systems)"" msgstr ""Subred (para sistemas locales)"" msgid ""Subnet ="" msgstr ""Suberd ="" msgid ""Subnet ID ="" msgstr ""ID de subred ="" msgid """" ""The VPN service is attached to a router and references to endpoint group or "" ""a single subnet to push to a remote site."" msgstr """" ""El servicio VPN se asocia a un router y referencia a un grupo de extremos o "" ""a una sola subred a la que poner en el sitio remoto."" msgid ""The pre-defined key string between the two peers of the VPN connection"" msgstr ""La cadena de clave predefinida entre los dos pares de la conexin VPN."" msgid """" ""The router and admin state fields require to be enabled. All others are "" ""optional."" msgstr """" ""Son obligatorios los campos router y estado de administracin. Todos los "" ""dems son opcionales."" msgid """" ""The state of IPsec site connection to start in. If disabled (not checked), "" ""IPsec site connection does not forward packets."" msgstr """" ""El estado de la conexin sitio a sitio IPsec en la que iniciar. Si est "" ""deshabilitado (no marcado) la conexin IPsec no re-enva paquetes."" msgid """" ""The state of VPN service to start in. If disabled (not checked), VPN service "" ""does not forward packets."" msgstr """" ""El estado del servicio VPN en el que comenzar. Si est deshabilitado (no "" ""marcado) el servicio VPN no re-enviar paquetes."" msgid ""The type of IPsec tunnel (tunnel/transport) to be used."" msgstr ""El tipo de tnel IPsec (tunnel/transport) a usar."" msgid ""The type of protocol (esp, ah, ah-esp) used in IPsec policy."" msgstr ""El tipo de protocolo (esp, ah, ah-esp) a usar en la poltica IPsec."" msgid ""The type of version (v1/v2) that needs to be filtered."" msgstr ""El tipo de versin (v1/v2) que tiene que ser filtrado."" msgid ""Transform Protocol"" msgstr ""Protocolo de transformacin"" msgid ""Type"" msgstr ""Tipo"" msgid ""Type ="" msgstr ""Tipo ="" #, python-format msgid ""Unable to add IKE policy \""%s\""."" msgstr ""No ha sido posible aadir la poltica IKE \""%s\""."" #, python-format msgid ""Unable to add IPsec policy \""%s\""."" msgstr ""No ha sido posible aadir la poltica IPSec \""%s\""."" #, python-format msgid ""Unable to add IPsec site connection \""%s\""."" msgstr ""No ha sido posible aadir la conexin sitio a sitio IPSec \""%s\""."" #, python-format msgid ""Unable to add VPN service \""%s\""."" msgstr ""No ha sido posible aadir el servicio VPN \""%s\""."" #, python-format msgid ""Unable to add endpoint group \""%s\""."" msgstr ""No ha sido posible aadir el grupo de extremos \""%s\""."" msgid ""Unable to delete IKE policy."" msgstr ""No ha sido posible eliminar la poltica IKE."" msgid ""Unable to delete IPsec policy."" msgstr ""No ha sido posible eliminar la poltica IPsec."" msgid ""Unable to delete IPsec site connection."" msgstr ""No ha sido posible eliminar la conexin sitio a sitio IPSec."" msgid ""Unable to delete VPN service."" msgstr ""No ha sido posible eliminar el servicio VPN."" msgid ""Unable to delete endpoint group."" msgstr ""No ha sido posible eliminar el grupo de extremos."" msgid ""Unable to retrieve IKE policies list."" msgstr ""No ha sido posible obtener la lista de polticas IKE."" msgid ""Unable to retrieve IKE policy details."" msgstr ""No ha sido posible obtener los detalles de la poltica IKE."" msgid ""Unable to retrieve IPsec policies list."" msgstr ""No ha sido posible obtener la lista de polticas IPSec."" msgid ""Unable to retrieve IPsec policy details."" msgstr ""No ha sido posible obtener los detalles de la poltica IPSec."" msgid ""Unable to retrieve IPsec policy list."" msgstr ""No ha sido posible obtener la lista de polticas IPsec."" msgid ""Unable to retrieve IPsec site connection details."" msgstr """" ""No ha sido posible obtener los detalles sobre la conexin sitio a sitio "" ""IPSec."" msgid ""Unable to retrieve IPsec site connections list."" msgstr """" ""No ha sido posible obtener la lista de las conexiones sitio a sitio IPsec."" msgid ""Unable to retrieve VPN service details."" msgstr ""No ha sido posible obtener los detalles del servicio VPN."" msgid ""Unable to retrieve VPN services list."" msgstr ""No ha sido posible obtener la lista de servicios VPN."" msgid ""Unable to retrieve endpoint group details."" msgstr ""No ha sido posible obtener los detalles del grupo de extremo."" msgid ""Unable to retrieve endpoint group list."" msgstr ""No ha sido posible obtener la lista de grupo de extremos."" msgid ""Unable to retrieve networks list."" msgstr ""No se ha podido recuperar la lista de redes."" msgid ""Unable to retrieve routers list."" msgstr ""No se ha podido recuperar la lista de routers."" msgid ""VPN"" msgstr ""VPN"" msgid ""VPN Connections"" msgstr ""Conexiones VPN"" msgid ""VPN Service"" msgstr ""Servicio VPN"" msgid ""VPN Service ="" msgstr ""Servicio VPN ="" msgid ""VPN Service Details"" msgstr ""Detalles del servicio VPN"" msgid ""VPN Service ID ="" msgstr ""ID del servicio VPN ="" msgid ""VPN Services"" msgstr ""Servicios VPN"" #, python-format msgid ""VPN service %s was successfully updated."" msgstr ""Servicio VPN %s modificado correctamente."" msgid ""VPN service associated with this connection"" msgstr ""Servicio VPN asociado con esta conexin"" msgid ""Valid algorithms are 3des, aes-128, aes-192 and aes-256."" msgstr ""Los algoritmos vlidos son 3des, aes-128, aes-192 y aes-256."" msgid ""Valid algorithms are sha1, sha256, sha384 and sha512."" msgstr ""Los algoritmos vlidos son sha1, sha256, sha384 y sha512."" msgid ""Valid integer greater than the DPD interval"" msgstr ""Entero vlido mayor al intervalo de deteccin de pares inactivos"" msgid ""Valid integer lesser than DPD timeout"" msgstr ""Entero vlido menor a la desconexin de deteccin de pares inactivos"" msgid ""Valid integer lesser than the DPD timeout"" msgstr ""Entero vlido menor al intervalo de deteccin de pares inactivos"" msgid ""Virtual Private Network"" msgstr ""Red privada virtual"" msgid ""You may update IKE policy details here."" msgstr ""Puede modificar los detalles de la poltica IKE aqu."" msgid ""You may update IPsec policy details here."" msgstr ""Puede modificar los detalles de la poltica IPsec aqu."" msgid ""You may update IPsec site connection details here."" msgstr ""Aqu puede actualizar los detalles de la conexin IPSec sitio a sitio."" msgid ""You may update VPN service details here."" msgstr ""Aqu puede actualizar los detalles del servicio VPN."" msgid ""You may update endpoint group details here."" msgstr ""Debe actualizar los detalles del grupo de extremos aqu."" msgid ""aes-128"" msgstr ""aes-128"" msgid ""aes-192"" msgstr ""aes-192"" msgid ""aes-256"" msgstr ""aes-256"" msgid ""ah"" msgstr ""ah"" msgid ""ah-esp"" msgstr ""ah-esp"" msgid ""bi-directional"" msgstr ""bidireccional"" msgid ""clear"" msgstr ""limpiar"" msgid ""disabled"" msgstr ""deshabilitado"" msgid ""down"" msgstr ""abajo"" msgid ""esp"" msgstr ""esp"" msgid ""group14"" msgstr ""grupo14"" msgid ""group2"" msgstr ""grupo2"" msgid ""group5"" msgstr ""grupo5"" msgid ""hold"" msgstr ""retener"" msgid ""response-only"" msgstr ""slo respuesta"" msgid ""restart"" msgstr ""reiniciar"" msgid ""restart-by-peer"" msgstr ""reiniciar por el par"" msgid ""seconds"" msgstr ""segundos"" msgid ""sha1"" msgstr ""sha1"" msgid ""sha256"" msgstr ""sha256"" msgid ""sha384"" msgstr ""sha384"" msgid ""sha512"" msgstr ""sha512"" msgid ""transport"" msgstr ""transporte"" msgid ""tunnel"" msgstr ""tnel"" msgid ""up"" msgstr ""arriba"" msgid ""v1"" msgstr ""v1"" msgid ""v2"" msgstr ""v2"" ",,926,0
openstack%2Fneutron~stable%2Fqueens~I8ab7995ebd28ab08f12e324c140a45bf53157ce4,openstack/neutron,stable/queens,I8ab7995ebd28ab08f12e324c140a45bf53157ce4,[DNM] Test stable branches CI,ABANDONED,2022-08-17 12:07:02.000000000,2022-10-16 07:13:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-08-17 12:07:02.000000000', 'files': ['neutron/common/constants.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a1c863240b4240ae37fa9d2c387be71a8c17c37', 'message': '[DNM] Test stable branches CI\n\nPrevious backports show several failures in stein and older branches,\nbut a relevant fix should help for most failures:\nhttps://review.opendev.org/c/zuul/zuul/+/853073\n\nChange-Id: I8ab7995ebd28ab08f12e324c140a45bf53157ce4\nRelated-Bug: #1986682\n(cherry picked from commit fe1dd5dadce7f075693ee1d72ff598746c1afc65)\n'}]",0,853474,1a1c863240b4240ae37fa9d2c387be71a8c17c37,3,1,1,21798,,,0,"[DNM] Test stable branches CI

Previous backports show several failures in stein and older branches,
but a relevant fix should help for most failures:
https://review.opendev.org/c/zuul/zuul/+/853073

Change-Id: I8ab7995ebd28ab08f12e324c140a45bf53157ce4
Related-Bug: #1986682
(cherry picked from commit fe1dd5dadce7f075693ee1d72ff598746c1afc65)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/74/853474/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/common/constants.py'],1,1a1c863240b4240ae37fa9d2c387be71a8c17c37,bug/1986682-stable/queens,# DNM test stable branches,,1,0
openstack%2Fneutron~stable%2Frocky~I8ab7995ebd28ab08f12e324c140a45bf53157ce4,openstack/neutron,stable/rocky,I8ab7995ebd28ab08f12e324c140a45bf53157ce4,[DNM] Test stable branches CI,ABANDONED,2022-08-17 12:05:22.000000000,2022-10-16 07:13:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-08-17 12:05:22.000000000', 'files': ['neutron/common/constants.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1b5ab6f9af35bfa5d4be522ee89d0e572ad3889c', 'message': '[DNM] Test stable branches CI\n\nPrevious backports show several failures in stein and older branches,\nbut a relevant fix should help for most failures:\nhttps://review.opendev.org/c/zuul/zuul/+/853073\n\nChange-Id: I8ab7995ebd28ab08f12e324c140a45bf53157ce4\nRelated-Bug: #1986682\n'}]",0,853433,1b5ab6f9af35bfa5d4be522ee89d0e572ad3889c,3,1,1,21798,,,0,"[DNM] Test stable branches CI

Previous backports show several failures in stein and older branches,
but a relevant fix should help for most failures:
https://review.opendev.org/c/zuul/zuul/+/853073

Change-Id: I8ab7995ebd28ab08f12e324c140a45bf53157ce4
Related-Bug: #1986682
",git fetch https://review.opendev.org/openstack/neutron refs/changes/33/853433/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/common/constants.py'],1,1b5ab6f9af35bfa5d4be522ee89d0e572ad3889c,bug/1986682-stable/rocky,# DNM test stable branches,,1,0
openstack%2Fneutron~master~If7ffe9c3c6840600413ef666f858ae31aa9f47df,openstack/neutron,master,If7ffe9c3c6840600413ef666f858ae31aa9f47df,Network Cascade Deletion Extension,ABANDONED,2022-07-14 04:29:28.000000000,2022-10-16 07:13:23.000000000,,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-14 04:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e7d3d262796382842009b6191426370c8a15339', 'message': 'Network Cascade Deletion Extension\n\nChange-Id: Ib994717492bfa77bea94654111d6145b4de195b9\n\nNeutron spec: https://review.opendev.org/c/openstack/neutron-specs/+/810822\n\nChange-Id: If7ffe9c3c6840600413ef666f858ae31aa9f47df\n'}, {'number': 2, 'created': '2022-07-14 06:27:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f311203f1f6d39f986bc957dc44701ae26ca8389', 'message': 'Network Cascade Deletion Extension\n\nChange-Id: Ib994717492bfa77bea94654111d6145b4de195b9\n\nNeutron spec: https://review.opendev.org/c/openstack/neutron-specs/+/810822\n\nChange-Id: If7ffe9c3c6840600413ef666f858ae31aa9f47df\n'}, {'number': 3, 'created': '2022-07-14 13:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/26cd9278bbd803963a1ed82ad93acd5381ef9f72', 'message': 'Network Cascade Deletion Extension\n\nChange-Id: Ib994717492bfa77bea94654111d6145b4de195b9\n\nNeutron spec: https://review.opendev.org/c/openstack/neutron-specs/+/810822\n\nChange-Id: If7ffe9c3c6840600413ef666f858ae31aa9f47df\n'}, {'number': 4, 'created': '2022-07-15 15:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bfb625f46e2bf179473576371d4e36cc38e49784', 'message': 'Network Cascade Deletion Extension\n\nSpec: https://review.opendev.org/c/openstack/neutron-specs/+/810822\n\nChange-Id: If7ffe9c3c6840600413ef666f858ae31aa9f47df\n'}, {'number': 5, 'created': '2022-07-15 15:51:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc8a9ac2048a2587db9b8c44627b7883aadd43ea', 'message': 'Network Cascade Deletion Extension\n\nSpec: https://review.opendev.org/c/openstack/neutron-specs/+/810822\n\nChange-Id: If7ffe9c3c6840600413ef666f858ae31aa9f47df\n'}, {'number': 6, 'created': '2022-07-19 16:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab0e3aa1b061f4d2d41deec0780680b502ced9f6', 'message': 'Network Cascade Deletion Extension\n\nSpec: https://review.opendev.org/c/openstack/neutron-specs/+/810822\n\nChange-Id: If7ffe9c3c6840600413ef666f858ae31aa9f47df\n'}, {'number': 7, 'created': '2022-07-22 19:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/618a22f2a89e4e73bec926e193b6e79b10640665', 'message': 'Network Cascade Deletion Extension\n\nSpec: https://review.opendev.org/c/openstack/neutron-specs/+/810822\n\nChange-Id: If7ffe9c3c6840600413ef666f858ae31aa9f47df\n'}, {'number': 8, 'created': '2022-07-26 06:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f0b91ed999769917f2034484e0a332196cbb3ebe', 'message': 'Network Cascade Deletion Extension\n\nRelated-Spec: https://review.opendev.org/c/openstack/neutron-specs/+/810822\nRelated-Bug: #1870319\nChange-Id: If7ffe9c3c6840600413ef666f858ae31aa9f47df\n'}, {'number': 9, 'created': '2022-07-28 14:44:03.000000000', 'files': ['neutron/extensions/network_cascade_delete.py', 'neutron/pecan_wsgi/controllers/resource.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/25de816581a2ed8b21acda8b9641cf61d7dea2dc', 'message': 'Network Cascade Deletion Extension\n\nThis change introduces the optional boolean argument, ``cascade``,\nto the ``DELETE`` API request, that when defined as ``True``,\ndeletes a network and all its associated resources.\n\nRelated-Spec: https://review.opendev.org/c/openstack/neutron-specs/+/810822\nRelated-Bug: #1870319\nChange-Id: If7ffe9c3c6840600413ef666f858ae31aa9f47df\n'}]",15,849776,25de816581a2ed8b21acda8b9641cf61d7dea2dc,53,5,9,34728,,,0,"Network Cascade Deletion Extension

This change introduces the optional boolean argument, ``cascade``,
to the ``DELETE`` API request, that when defined as ``True``,
deletes a network and all its associated resources.

Related-Spec: https://review.opendev.org/c/openstack/neutron-specs/+/810822
Related-Bug: #1870319
Change-Id: If7ffe9c3c6840600413ef666f858ae31aa9f47df
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/849776/9 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/extensions/network_cascade_delete.py', 'neutron/pecan_wsgi/controllers/resource.py']",2,5e7d3d262796382842009b6191426370c8a15339,cascade_delete_extension," def delete(self, cascade=False):", def delete(self):,23,1
openstack%2Fneutron~master~I425b2cd05d56b938af72b9ede76e2152ed9c9c67,openstack/neutron,master,I425b2cd05d56b938af72b9ede76e2152ed9c9c67,"Revert ""ovs mech: bind only if user request switchdev""",ABANDONED,2022-08-26 14:40:24.000000000,2022-10-16 07:13:17.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 6681}, {'_account_id': 7787}, {'_account_id': 8655}, {'_account_id': 8871}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11604}, {'_account_id': 11975}, {'_account_id': 12171}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 21683}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-26 14:40:24.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/openvswitch/mech_driver/test_mech_openvswitch.py', 'neutron/plugins/ml2/drivers/mech_sriov/mech_driver/mech_driver.py', 'neutron/tests/unit/plugins/ml2/_test_mech_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/mech_driver/mech_openvswitch.py', 'neutron/tests/unit/plugins/ml2/drivers/mech_sriov/mech_driver/test_mech_sriov_nic_switch.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/81a1ff6120a9ef48b7892b19355c0971ebc54076', 'message': 'Revert ""ovs mech: bind only if user request switchdev""\n\nThis reverts commit b184558ab6a61571160346818dcf220d925c5b30.\n\nReason for revert: this bug fix was incorrect and broke the ability to use hardware offload ovs as a non admin.\n\nthere is no checking on the nova side that this prot actually is in switch dev mode and the end uesr has no way to know if that is the case.\n\nso the assumption that are being made are invalid as there is no guarantee that the the VF consumed actully is in switchdev mode\n\nChange-Id: I425b2cd05d56b938af72b9ede76e2152ed9c9c67\n'}]",7,854796,81a1ff6120a9ef48b7892b19355c0971ebc54076,11,18,1,11604,,,0,"Revert ""ovs mech: bind only if user request switchdev""

This reverts commit b184558ab6a61571160346818dcf220d925c5b30.

Reason for revert: this bug fix was incorrect and broke the ability to use hardware offload ovs as a non admin.

there is no checking on the nova side that this prot actually is in switch dev mode and the end uesr has no way to know if that is the case.

so the assumption that are being made are invalid as there is no guarantee that the the VF consumed actully is in switchdev mode

Change-Id: I425b2cd05d56b938af72b9ede76e2152ed9c9c67
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/854796/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/openvswitch/mech_driver/test_mech_openvswitch.py', 'neutron/plugins/ml2/drivers/mech_sriov/mech_driver/mech_driver.py', 'neutron/tests/unit/plugins/ml2/_test_mech_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/mech_driver/mech_openvswitch.py', 'neutron/tests/unit/plugins/ml2/drivers/mech_sriov/mech_driver/test_mech_sriov_nic_switch.py']",5,81a1ff6120a9ef48b7892b19355c0971ebc54076,bug/1713590,"MELLANOX_CONNECTX3_PCI_INFO = '15b3:1004' profile={'pci_vendor_info': MELLANOX_CONNECTX3_PCI_INFO}): vnic_type) self._bound_profile = profile @property def current(self): return {'id': base.PORT_ID, portbindings.VNIC_TYPE: self._bound_vnic_type, portbindings.PROFILE: self._bound_profile}","import mock profile=None): vnic_type=vnic_type, profile=profile) @mock.patch.object(mech_driver.SriovNicSwitchMechanismDriver, 'try_to_bind_segment_for_agent') def test_vnic_type_direct_with_switchdev_cap(self, mocked_bind_segment): profile = {'capabilities': ['switchdev']} context = TestFakePortContext(self.AGENT_TYPE, self.AGENTS, self.VLAN_SEGMENTS, portbindings.VNIC_DIRECT, profile) self.driver.bind_port(context) mocked_bind_segment.assert_not_called() ",19,62
openstack%2Fnetworking-bgpvpn~stable%2Fussuri~I17ea56217c3ca1c400d18bf048c0bd10a22858eb,openstack/networking-bgpvpn,stable/ussuri,I17ea56217c3ca1c400d18bf048c0bd10a22858eb,[stable-only] Cap virtualenv for py37,ABANDONED,2022-09-05 12:52:43.000000000,2022-10-16 07:13:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-09-05 12:52:43.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/6cb7e175028717013f24a78724893a5d997f59f7', 'message': '[stable-only] Cap virtualenv for py37\n\npy37 test started to fail with latest virtualenv (20.16.4) as it\nbundles setuptools 65.3.0, which causes installation problems under\npy37. (Note: with py38 the problem does not occur\n\nThis patch sets virtualenv<20.16.4 to unblock the gate as\nvirtualenv 20.16.3 bundles setuptools 63.4.1, with which py37 gate\nworks well.\n\nChange-Id: I17ea56217c3ca1c400d18bf048c0bd10a22858eb\n'}]",0,855884,6cb7e175028717013f24a78724893a5d997f59f7,3,1,1,17685,,,0,"[stable-only] Cap virtualenv for py37

py37 test started to fail with latest virtualenv (20.16.4) as it
bundles setuptools 65.3.0, which causes installation problems under
py37. (Note: with py38 the problem does not occur

This patch sets virtualenv<20.16.4 to unblock the gate as
virtualenv 20.16.3 bundles setuptools 63.4.1, with which py37 gate
works well.

Change-Id: I17ea56217c3ca1c400d18bf048c0bd10a22858eb
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/84/855884/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6cb7e175028717013f24a78724893a5d997f59f7,cap-virtualenv-py37,"# Pin setuptools via virtualenv as latest virtualenv pulls in 65.3.0 # version of setuptools for py37, which causes installation problems # (virtualenv 20.16.3 uses setuptools 63.4.1). requires = virtualenv<20.16.4 ",,5,0
openstack%2Fnetworking-odl~stable%2Fussuri~I6ea5e2d025258a30adf7b5f5b3c53c1631ff0fa5,openstack/networking-odl,stable/ussuri,I6ea5e2d025258a30adf7b5f5b3c53c1631ff0fa5,[stable-only] Cap virtualenv for py37,ABANDONED,2022-09-05 11:55:27.000000000,2022-10-16 07:13:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-09-05 11:55:27.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/ebeda245956657dca5ca2a74cb211164d7bd0a9e', 'message': '[stable-only] Cap virtualenv for py37\n\npy37 test started to fail with latest virtualenv (20.16.4) as it\nbundles setuptools 65.3.0, which causes installation problems under\npy37. (Note: with py38 the problem does not occur\n\nThis patch sets virtualenv<20.16.4 to unblock the gate as\nvirtualenv 20.16.3 bundles setuptools 63.4.1, with which py37 gate\nworks well.\n\nChange-Id: I6ea5e2d025258a30adf7b5f5b3c53c1631ff0fa5\n'}]",0,855874,ebeda245956657dca5ca2a74cb211164d7bd0a9e,3,1,1,17685,,,0,"[stable-only] Cap virtualenv for py37

py37 test started to fail with latest virtualenv (20.16.4) as it
bundles setuptools 65.3.0, which causes installation problems under
py37. (Note: with py38 the problem does not occur

This patch sets virtualenv<20.16.4 to unblock the gate as
virtualenv 20.16.3 bundles setuptools 63.4.1, with which py37 gate
works well.

Change-Id: I6ea5e2d025258a30adf7b5f5b3c53c1631ff0fa5
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/74/855874/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ebeda245956657dca5ca2a74cb211164d7bd0a9e,cap-virtualenv-py37,"# Pin setuptools via virtualenv as latest virtualenv pulls in 65.3.0 # version of setuptools for py37, which causes installation problems # (virtualenv 20.16.3 uses setuptools 63.4.1). requires = virtualenv<20.16.4",,4,0
openstack%2Fneutron-lib~master~Ie538d611c53ba7bb2fadc98bfd64f1ed0cb9c6bf,openstack/neutron-lib,master,Ie538d611c53ba7bb2fadc98bfd64f1ed0cb9c6bf,Fixed issue with maximum characters per line.,ABANDONED,2022-02-09 08:50:35.000000000,2022-10-16 07:12:56.000000000,,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-09 08:50:35.000000000', 'files': ['neutron_lib/api/definitions/vpn.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/d3ab04d0fff1886589a420d0f7cfdf1fbb073eb4', 'message': 'Fixed issue with maximum characters per line.\n\nChange-Id: Ie538d611c53ba7bb2fadc98bfd64f1ed0cb9c6bf\n'}]",2,828487,d3ab04d0fff1886589a420d0f7cfdf1fbb073eb4,8,3,1,33510,,,0,"Fixed issue with maximum characters per line.

Change-Id: Ie538d611c53ba7bb2fadc98bfd64f1ed0cb9c6bf
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/87/828487/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/api/definitions/vpn.py'],1,d3ab04d0fff1886589a420d0f7cfdf1fbb073eb4,dh-groups," VPN_PFS_GROUP2, VPN_PFS_GROUP5, VPN_PFS_GROUP14, VPN_PFS_GROUP15, VPN_PFS_GROUP19, VPN_PFS_GROUP20, VPN_PFS_GROUP28,"," VPN_PFS_GROUP2, VPN_PFS_GROUP5, VPN_PFS_GROUP14, VPN_PFS_GROUP15, VPN_PFS_GROUP19, VPN_PFS_GROUP20, VPN_PFS_GROUP28,",2,1
openstack%2Fneutron-vpnaas~master~If9e518f7d7ac4c65f871373f54526b7803f1bc9f,openstack/neutron-vpnaas,master,If9e518f7d7ac4c65f871373f54526b7803f1bc9f,Fixed issue with maximum characters per line.,ABANDONED,2022-02-09 08:51:14.000000000,2022-10-16 07:12:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-09 08:51:14.000000000', 'files': ['neutron_vpnaas/db/vpn/vpn_models.py', 'neutron_vpnaas/extensions/vpnaas.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/f9df6520d1a3aeeaddf7929f28678f9f385a29ad', 'message': 'Fixed issue with maximum characters per line.\n\nChange-Id: If9e518f7d7ac4c65f871373f54526b7803f1bc9f\n'}]",0,828490,f9df6520d1a3aeeaddf7929f28678f9f385a29ad,6,1,1,33510,,,0,"Fixed issue with maximum characters per line.

Change-Id: If9e518f7d7ac4c65f871373f54526b7803f1bc9f
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/90/828490/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_vpnaas/db/vpn/vpn_models.py', 'neutron_vpnaas/extensions/vpnaas.py']",2,f9df6520d1a3aeeaddf7929f28678f9f385a29ad,dh-groups,"vpn_supported_pfs = ['group2', 'group5', 'group14', 'group15', 'group19', 'group20', 'group28']","vpn_supported_pfs = ['group2', 'group5', 'group14', 'group15', 'group19', 'group20', 'group28']",6,3
openstack%2Fneutron-tempest-plugin~master~I87f2a891ae518a79ca8502ed576b1dea27ea25b2,openstack/neutron-tempest-plugin,master,I87f2a891ae518a79ca8502ed576b1dea27ea25b2,DNM: Test Ubuntu 22.04 as advanced image,ABANDONED,2022-09-12 04:42:28.000000000,2022-10-16 07:12:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-09-12 04:42:28.000000000', 'files': ['zuul.d/master_jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/0c3a252d9ce16dd74390cf0db66871b1943d8b51', 'message': 'DNM: Test Ubuntu 22.04 as advanced image\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I87f2a891ae518a79ca8502ed576b1dea27ea25b2\n'}]",0,856985,0c3a252d9ce16dd74390cf0db66871b1943d8b51,3,1,1,13252,,,0,"DNM: Test Ubuntu 22.04 as advanced image

Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: I87f2a891ae518a79ca8502ed576b1dea27ea25b2
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/85/856985/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/master_jobs.yaml', 'zuul.d/project.yaml']",2,0c3a252d9ce16dd74390cf0db66871b1943d8b51,test-cirros, #- build-openstack-docs-pti #- neutron-tempest-plugin-jobs-wallaby #- neutron-tempest-plugin-jobs-xena #- neutron-tempest-plugin-jobs-yoga #- check-requirements #- release-notes-jobs-python3 #- neutron-tempest-plugin-sfc-wallaby #- neutron-tempest-plugin-sfc-xena #- neutron-tempest-plugin-sfc-yoga #- neutron-tempest-plugin-bgpvpn-bagpipe-wallaby #- neutron-tempest-plugin-bgpvpn-bagpipe-xena #- neutron-tempest-plugin-bgpvpn-bagpipe-yoga #- neutron-tempest-plugin-dynamic-routing-wallaby #- neutron-tempest-plugin-dynamic-routing-xena #- neutron-tempest-plugin-dynamic-routing-yoga #- neutron-tempest-plugin-vpnaas-wallaby #- neutron-tempest-plugin-vpnaas-xena #- neutron-tempest-plugin-vpnaas-yoga #- neutron-tempest-plugin-tap-as-a-service-xena #- neutron-tempest-plugin-tap-as-a-service-yoga, - build-openstack-docs-pti - neutron-tempest-plugin-jobs-wallaby - neutron-tempest-plugin-jobs-xena - neutron-tempest-plugin-jobs-yoga - check-requirements - release-notes-jobs-python3 - neutron-tempest-plugin-sfc-wallaby - neutron-tempest-plugin-sfc-xena - neutron-tempest-plugin-sfc-yoga - neutron-tempest-plugin-bgpvpn-bagpipe-wallaby - neutron-tempest-plugin-bgpvpn-bagpipe-xena - neutron-tempest-plugin-bgpvpn-bagpipe-yoga - neutron-tempest-plugin-dynamic-routing-wallaby - neutron-tempest-plugin-dynamic-routing-xena - neutron-tempest-plugin-dynamic-routing-yoga - neutron-tempest-plugin-vpnaas-wallaby - neutron-tempest-plugin-vpnaas-xena - neutron-tempest-plugin-vpnaas-yoga - neutron-tempest-plugin-tap-as-a-service-xena - neutron-tempest-plugin-tap-as-a-service-yoga,22,22
openstack%2Fneutron~master~I706aa7cc25dfdc28aa95ee3b69644dd49a9f869e,openstack/neutron,master,I706aa7cc25dfdc28aa95ee3b69644dd49a9f869e,Fixed issue with maximum characters per line.,ABANDONED,2022-02-09 08:51:01.000000000,2022-10-16 07:12:35.000000000,,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 30396}, {'_account_id': 34271}]","[{'number': 1, 'created': '2022-02-09 08:51:01.000000000', 'files': ['neutron/db/migration/alembic_migrations/vpn_init_ops.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/060fb6d4e05e6784265d8d0fb063d26c7631dedf', 'message': 'Fixed issue with maximum characters per line.\n\nChange-Id: I706aa7cc25dfdc28aa95ee3b69644dd49a9f869e\n'}]",4,828488,060fb6d4e05e6784265d8d0fb063d26c7631dedf,26,6,1,33510,,,0,"Fixed issue with maximum characters per line.

Change-Id: I706aa7cc25dfdc28aa95ee3b69644dd49a9f869e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/88/828488/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/migration/alembic_migrations/vpn_init_ops.py'],1,060fb6d4e05e6784265d8d0fb063d26c7631dedf,dh-groups,"pfs_types = sa.Enum('group2', 'group5', 'group14', 'group15', 'group19', 'group20', 'group28', name='vpn_pfs')","pfs_types = sa.Enum('group2', 'group5', 'group14', 'group15', 'group19', 'group20', 'group28', name='vpn_pfs')",2,1
openstack%2Fneutron-tempest-plugin~master~I592bebfdbcf51e6a2273a2e7676365b0a790a818,openstack/neutron-tempest-plugin,master,I592bebfdbcf51e6a2273a2e7676365b0a790a818,DNM: Test with qemu instead of kvm,ABANDONED,2022-09-12 07:24:58.000000000,2022-10-16 07:12:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-09-12 07:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/8062318d7340cd2377832e439993efa0d72dab6c', 'message': 'DNM: Test with qemu instead of kvm\n\nIt looks like nested kvm is unstable on some clouds.\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I592bebfdbcf51e6a2273a2e7676365b0a790a818\n'}, {'number': 2, 'created': '2022-09-14 11:45:25.000000000', 'files': ['zuul.d/base-nested-switch.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/5475ca8cf7c6c2aca65e66054a6de5000cc5b6f3', 'message': 'DNM: Test with qemu instead of kvm\n\nIt looks like nested kvm is unstable on some clouds.\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I592bebfdbcf51e6a2273a2e7676365b0a790a818\n'}]",0,856999,5475ca8cf7c6c2aca65e66054a6de5000cc5b6f3,5,1,2,13252,,,0,"DNM: Test with qemu instead of kvm

It looks like nested kvm is unstable on some clouds.

Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: I592bebfdbcf51e6a2273a2e7676365b0a790a818
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/99/856999/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base-nested-switch.yaml'],1,8062318d7340cd2377832e439993efa0d72dab6c,test-cirros, # nodeset: neutron-nested-virt-ubuntu-focal # LIBVIRT_TYPE: kvm # LIBVIRT_CPU_MODE: host-passthrough, nodeset: neutron-nested-virt-ubuntu-focal LIBVIRT_TYPE: kvm LIBVIRT_CPU_MODE: host-passthrough,3,3
openstack%2Fnetworking-bagpipe~stable%2Fussuri~I96e75c1ef45ed819816ad2216bf83079698b41b9,openstack/networking-bagpipe,stable/ussuri,I96e75c1ef45ed819816ad2216bf83079698b41b9,[stable-only] Cap virtualenv for py37,ABANDONED,2022-09-05 12:50:12.000000000,2022-10-16 07:12:21.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-05 12:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/9525719a9d8d684a7219adac02d0fef6f193f3c0', 'message': '[stable-only] Cap virtualenv for py37\n\npy37 test started to fail with latest virtualenv (20.16.4) as it\nbundles setuptools 65.3.0, which causes installation problems under\npy37. (Note: with py38 the problem does not occur\n\nThis patch sets virtualenv<20.16.4 to unblock the gate as\nvirtualenv 20.16.3 bundles setuptools 63.4.1, with which py37 gate\nworks well.\n\nChange-Id: I96e75c1ef45ed819816ad2216bf83079698b41b9\n'}, {'number': 2, 'created': '2022-09-06 13:23:18.000000000', 'files': ['bindep.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/56b22c1347689ed8d1fa4a117e4b2d3ae2912289', 'message': '[stable-only] Cap virtualenv for py37\n\npy37 test started to fail with latest virtualenv (20.16.4) as it\nbundles setuptools 65.3.0, which causes installation problems under\npy37. (Note: with py38 the problem does not occur\n\nThis patch sets virtualenv<20.16.4 to unblock the gate as\nvirtualenv 20.16.3 bundles setuptools 63.4.1, with which py37 gate\nworks well.\n\nChange-Id: I96e75c1ef45ed819816ad2216bf83079698b41b9\n'}]",2,855883,56b22c1347689ed8d1fa4a117e4b2d3ae2912289,7,2,2,17685,,,0,"[stable-only] Cap virtualenv for py37

py37 test started to fail with latest virtualenv (20.16.4) as it
bundles setuptools 65.3.0, which causes installation problems under
py37. (Note: with py38 the problem does not occur

This patch sets virtualenv<20.16.4 to unblock the gate as
virtualenv 20.16.3 bundles setuptools 63.4.1, with which py37 gate
works well.

Change-Id: I96e75c1ef45ed819816ad2216bf83079698b41b9
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/83/855883/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9525719a9d8d684a7219adac02d0fef6f193f3c0,cap-virtualenv-py37,"# Pin setuptools via virtualenv as latest virtualenv pulls in 65.3.0 # version of setuptools for py37, which causes installation problems # (virtualenv 20.16.3 uses setuptools 63.4.1). requires = virtualenv<20.16.4 ",,5,0
openstack%2Fneutron-lib~master~I1a363ec40eb58ec1cd2a9bcdccc4b9a593bcb28d,openstack/neutron-lib,master,I1a363ec40eb58ec1cd2a9bcdccc4b9a593bcb28d,Added new DH groups to vpn to also supports well know EC algotithms.,ABANDONED,2022-02-08 10:50:15.000000000,2022-10-16 07:12:16.000000000,,"[{'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-08 10:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/59fbbd19f81e71f73c96deddf7314aa3c6093436', 'message': 'Added new DH groups to vpn to also supports well know EC algotithms. Changes also submited to neutron-vpnaas project with commit ID 6c1369f1b3ec44651c041f7c2477d95464865397\n\nChange-Id: I1a363ec40eb58ec1cd2a9bcdccc4b9a593bcb28d\n'}, {'number': 2, 'created': '2022-02-15 07:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/4335ed96b473ec14c8d817bd5ae7984153fbc143', 'message': 'Added new DH groups to vpn to also supports well know EC algotithms. Changes also submited to neutron-vpnaas project with commit ID 6c1369f1b3ec44651c041f7c2477d95464865397\n\nChange-Id: I1a363ec40eb58ec1cd2a9bcdccc4b9a593bcb28d\n'}, {'number': 3, 'created': '2022-09-08 08:25:08.000000000', 'files': ['neutron_lib/api/definitions/vpn.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/ab3991bff0f42d25cacfbe0bddcbda4c575c66fc', 'message': 'Added new DH groups to vpn to also supports well know EC algotithms.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-vpnaas/+/828275\nChange-Id: I1a363ec40eb58ec1cd2a9bcdccc4b9a593bcb28d\n'}]",4,828276,ab3991bff0f42d25cacfbe0bddcbda4c575c66fc,12,2,3,33510,,,0,"Added new DH groups to vpn to also supports well know EC algotithms.

Depends-On: https://review.opendev.org/c/openstack/neutron-vpnaas/+/828275
Change-Id: I1a363ec40eb58ec1cd2a9bcdccc4b9a593bcb28d
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/76/828276/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/api/definitions/vpn.py'],1,59fbbd19f81e71f73c96deddf7314aa3c6093436,dh-groups,"VPN_PFS_GROUP15 = 'group15' VPN_PFS_GROUP19 = 'group19' VPN_PFS_GROUP20 = 'group20' VPN_PFS_GROUP28 = 'group28' VPN_PFS_GROUP2, VPN_PFS_GROUP5, VPN_PFS_GROUP14, VPN_PFS_GROUP15, VPN_PFS_GROUP19, VPN_PFS_GROUP20, VPN_PFS_GROUP28,"," VPN_PFS_GROUP2, VPN_PFS_GROUP5, VPN_PFS_GROUP14,",5,1
openstack%2Ftempest~master~If936df140d55593616e58a8fb76aca03967f6db2,openstack/tempest,master,If936df140d55593616e58a8fb76aca03967f6db2,DNM: Test if system creds request pass if enforce scope is disabled,ABANDONED,2021-10-21 18:28:33.000000000,2022-10-16 01:32:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-10-21 18:28:33.000000000', 'files': ['tempest/api/compute/base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/6753c266d74275eb1e818f1952bdd55f67674059', 'message': 'DNM: Test if system creds request pass if enforce scope is disabled\n\nChange-Id: If936df140d55593616e58a8fb76aca03967f6db2\n'}]",0,815048,6753c266d74275eb1e818f1952bdd55f67674059,3,1,1,8556,,,0,"DNM: Test if system creds request pass if enforce scope is disabled

Change-Id: If936df140d55593616e58a8fb76aca03967f6db2
",git fetch https://review.opendev.org/openstack/tempest refs/changes/48/815048/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/base.py'],1,6753c266d74275eb1e818f1952bdd55f67674059,testing-non-system," credentials = ['primary', 'admin', 'system_admin']"," credentials = ['primary', 'admin']",1,1
openstack%2Ftempest~master~I270c09300a71e287887b83c103aa42935edd3de1,openstack/tempest,master,I270c09300a71e287887b83c103aa42935edd3de1,DNM: testing hypersivor with system scope,ABANDONED,2021-01-11 19:18:06.000000000,2022-10-16 01:32:18.000000000,,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-01-11 19:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9dc09de9613181624599f83018a8e6274d395b17', 'message': 'DNM: testing hypersivor with system scope\n\nChange-Id: I270c09300a71e287887b83c103aa42935edd3de1\n'}, {'number': 2, 'created': '2021-01-11 19:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3514fc3c031b4266ee349b896c80a77d6df6af02', 'message': 'DNM: testing hypersivor with system scope\n\nChange-Id: I270c09300a71e287887b83c103aa42935edd3de1\n'}, {'number': 3, 'created': '2021-01-13 00:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ae83d492d8c5f4ca1a74949ea8565779379127ea', 'message': 'DNM: testing hypersivor with system scope\n\nChange-Id: I270c09300a71e287887b83c103aa42935edd3de1\n'}, {'number': 4, 'created': '2021-01-13 20:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/02d6c5604085fc131822a750c5010d3f0a50ad3f', 'message': 'DNM: testing hypersivor with system scope\n\nChange-Id: I270c09300a71e287887b83c103aa42935edd3de1\n'}, {'number': 5, 'created': '2021-01-26 16:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/515f4dd38d5693464a717e5d11a116ebb73d5225', 'message': 'DNM: testing hypersivor with system scope\n\nChange-Id: I270c09300a71e287887b83c103aa42935edd3de1\n'}, {'number': 6, 'created': '2021-02-02 23:26:16.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/integrated-gate.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tempest/commit/95db7a317206f9af4423fcb42f7e22f8c687c809', 'message': 'DNM: testing hypersivor with system scope\n\nChange-Id: I270c09300a71e287887b83c103aa42935edd3de1\n'}]",1,770197,95db7a317206f9af4423fcb42f7e22f8c687c809,17,2,6,8556,,,0,"DNM: testing hypersivor with system scope

Change-Id: I270c09300a71e287887b83c103aa42935edd3de1
",git fetch https://review.opendev.org/openstack/tempest refs/changes/97/770197/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'tox.ini']",2,9dc09de9613181624599f83018a8e6274d395b17,secure-rbac, tempest run --regex 'tempest.api.compute.admin.test_hypervisor.' {posargs}, tempest run --regex '(?!.*\[.*\bslow\b.*\])(^tempest\.api)' {posargs} tempest run --combine --serial --regex '(?!.*\[.*\bslow\b.*\])(^tempest\.scenario)' {posargs},2,141
openstack%2Ftempest~master~Id543258b03c4eb4a168de0166f67a6efeb958726,openstack/tempest,master,Id543258b03c4eb4a168de0166f67a6efeb958726,Add system scoped request for compute hypervisor tests,ABANDONED,2020-07-08 22:07:30.000000000,2022-10-16 01:31:58.000000000,,"[{'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 17887}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-08 22:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b8960f43319a1b45c7f0fe7fa441ee2249194d56', 'message': ""Add system scoped request for compute hypervisor tests\n\nCompute service API policies are now scope aware in Ussuri\nonwards[1]. Compute hypervisors API is system reader by default[2],\nlet's start requesting the API with system scoped and reader role.\n\nAdding feature flag to keep testing stable branches till ste/train\nwith project scoped token.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/implemented/policy-defaults-refresh.html\n[2] https://github.com/openstack/nova/blob/bc784a1c1fa6ae0fa332cfd4dfa35283d3ee2869/nova/policies/hypervisors.py\n\nChange-Id: Id543258b03c4eb4a168de0166f67a6efeb958726\n""}, {'number': 2, 'created': '2020-07-09 15:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4f0926942ebf840824729d3d42c161f463beaeb8', 'message': ""Add system scoped request for compute hypervisor tests\n\nCompute service API policies are now scope aware in Ussuri\nonwards[1]. Compute hypervisors API is system reader by default[2],\nlet's start requesting the API with system scoped and reader role.\n\nAdding feature flag to keep testing stable branches till ste/train\nwith project scoped token.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/implemented/policy-defaults-refresh.html\n[2] https://github.com/openstack/nova/blob/bc784a1c1fa6ae0fa332cfd4dfa35283d3ee2869/nova/policies/hypervisors.py\n\nChange-Id: Id543258b03c4eb4a168de0166f67a6efeb958726\n""}, {'number': 3, 'created': '2020-07-10 16:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e79caecd23808f2123d243a6b9d61f66d37ef962', 'message': ""Add system scoped request for compute hypervisor tests\n\nCompute service API policies are now scope aware in Ussuri\nonwards[1]. Compute hypervisors API is system reader by default[2],\nlet's start requesting the API with system scoped and reader role.\n\nAdding feature flag to keep testing stable branches till ste/train\nwith project scoped token.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/implemented/policy-defaults-refresh.html\n[2] https://github.com/openstack/nova/blob/bc784a1c1fa6ae0fa332cfd4dfa35283d3ee2869/nova/policies/hypervisors.py\n\nChange-Id: Id543258b03c4eb4a168de0166f67a6efeb958726\n""}, {'number': 4, 'created': '2020-10-09 19:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9016a39e0d7e85ac6c165f12ad6ac6a8028733f0', 'message': ""Add system scoped request for compute hypervisor tests\n\nCompute service API policies are now scope aware in Ussuri\nonwards[1]. Compute hypervisors API is system reader by default[2],\nlet's start requesting the API with system scoped and reader role.\n\nAdding feature flag to keep testing stable branches till ste/train\nwith project scoped token.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/implemented/policy-defaults-refresh.html\n[2] https://github.com/openstack/nova/blob/bc784a1c1fa6ae0fa332cfd4dfa35283d3ee2869/nova/policies/hypervisors.py\n\nChange-Id: Id543258b03c4eb4a168de0166f67a6efeb958726\n""}, {'number': 5, 'created': '2020-10-31 20:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/edbfded5fd97ab731304b54a61ede23bc018bca4', 'message': ""Add system scoped request for compute hypervisor tests\n\nCompute service API policies are now scope aware in Ussuri\nonwards[1]. Compute hypervisors API is system reader by default[2],\nlet's start requesting the API with system scoped and reader role.\n\nAdding feature flag to keep testing stable branches till ste/train\nwith project scoped token.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/implemented/policy-defaults-refresh.html\n[2] https://github.com/openstack/nova/blob/bc784a1c1fa6ae0fa332cfd4dfa35283d3ee2869/nova/policies/hypervisors.py\n\nChange-Id: Id543258b03c4eb4a168de0166f67a6efeb958726\n""}, {'number': 6, 'created': '2021-01-11 19:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a1948c0a8b13e5204160111dfbd3d9da619edb32', 'message': ""Add system scoped request for compute hypervisor tests\n\nCompute service API policies are now scope aware in Ussuri\nonwards[1]. Compute hypervisors API is system reader by default[2],\nlet's start requesting the API with system scoped and reader role.\n\nAdding feature flag to keep testing stable branches till ste/train\nwith project scoped token.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/implemented/policy-defaults-refresh.html\n[2] https://github.com/openstack/nova/blob/bc784a1c1fa6ae0fa332cfd4dfa35283d3ee2869/nova/policies/hypervisors.py\n\nChange-Id: Id543258b03c4eb4a168de0166f67a6efeb958726\n""}, {'number': 7, 'created': '2021-01-13 00:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/44461a417a4a30b955ea60f8cb75b13b2e1f8434', 'message': ""Add system scoped request for compute hypervisor tests\n\nCompute service API policies are now scope aware in Ussuri\nonwards[1]. Compute hypervisors API is system reader by default[2],\nlet's start requesting the API with system scoped and reader role.\n\nAdding feature flag to keep testing stable branches till ste/train\nwith project scoped token.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/implemented/policy-defaults-refresh.html\n[2] https://github.com/openstack/nova/blob/bc784a1c1fa6ae0fa332cfd4dfa35283d3ee2869/nova/policies/hypervisors.py\n\nChange-Id: Id543258b03c4eb4a168de0166f67a6efeb958726\n""}, {'number': 8, 'created': '2021-01-13 20:35:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/85ded303e7ae3bfeba03c44dddd7562d9be44072', 'message': ""Add system scoped request for compute hypervisor tests\n\nCompute service API policies are now scope aware in Ussuri\nonwards[1]. Compute hypervisors API is system reader by default[2],\nlet's start requesting the API with system scoped and reader role.\n\nAdding feature flag to keep testing stable branches till ste/train\nwith project scoped token.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/implemented/policy-defaults-refresh.html\n[2] https://github.com/openstack/nova/blob/bc784a1c1fa6ae0fa332cfd4dfa35283d3ee2869/nova/policies/hypervisors.py\n\nChange-Id: Id543258b03c4eb4a168de0166f67a6efeb958726\n""}, {'number': 9, 'created': '2021-02-02 23:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a0d6dc0097b2c974fbea974357e92fd0c45c3772', 'message': ""Add system scoped request for compute hypervisor tests\n\nCompute service API policies are now scope aware in Ussuri\nonwards[1]. Compute hypervisors API is system reader by default[2],\nlet's start requesting the API with system scoped and reader role.\n\nAdding feature flag to keep testing stable branches till ste/train\nwith project scoped token.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/implemented/policy-defaults-refresh.html\n[2] https://github.com/openstack/nova/blob/bc784a1c1fa6ae0fa332cfd4dfa35283d3ee2869/nova/policies/hypervisors.py\n\nChange-Id: Id543258b03c4eb4a168de0166f67a6efeb958726\n""}, {'number': 10, 'created': '2021-02-02 23:21:21.000000000', 'files': ['tempest/api/compute/admin/test_hypervisor.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/cc2b34846665a2c4d8fdd3a36b430bb92944fa16', 'message': ""Add system scoped request for compute hypervisor tests\n\nCompute service API policies are now scope aware in Ussuri\nonwards[1]. Compute hypervisors API is system reader by default[2],\nlet's start requesting the API with system scoped and reader role.\n\nAdding feature flag to keep testing stable branches till ste/train\nwith project scoped token.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/implemented/policy-defaults-refresh.html\n[2] https://github.com/openstack/nova/blob/bc784a1c1fa6ae0fa332cfd4dfa35283d3ee2869/nova/policies/hypervisors.py\n\nChange-Id: Id543258b03c4eb4a168de0166f67a6efeb958726\n""}]",5,740122,cc2b34846665a2c4d8fdd3a36b430bb92944fa16,35,7,10,8556,,,0,"Add system scoped request for compute hypervisor tests

Compute service API policies are now scope aware in Ussuri
onwards[1]. Compute hypervisors API is system reader by default[2],
let's start requesting the API with system scoped and reader role.

Adding feature flag to keep testing stable branches till ste/train
with project scoped token.

[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/implemented/policy-defaults-refresh.html
[2] https://github.com/openstack/nova/blob/bc784a1c1fa6ae0fa332cfd4dfa35283d3ee2869/nova/policies/hypervisors.py

Change-Id: Id543258b03c4eb4a168de0166f67a6efeb958726
",git fetch https://review.opendev.org/openstack/tempest refs/changes/22/740122/9 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/admin/test_hypervisor.py', 'tempest/config.py']",2,b8960f43319a1b45c7f0fe7fa441ee2249194d56,secure-rbac," cfg.BoolOpt('enforce_scope', default=False, help='Does the compute service API policies enforce scope?'),",,13,1
openstack%2Fgovernance~master~Ic38ac5bd82203efa0e32171058a0508a4e3509c6,openstack/governance,master,Ic38ac5bd82203efa0e32171058a0508a4e3509c6,Appoint hongbin as Zun PTL,MERGED,2022-10-08 00:56:27.000000000,2022-10-16 00:31:16.000000000,2022-10-16 00:29:54.000000000,"[{'_account_id': 8556}, {'_account_id': 10342}, {'_account_id': 11292}, {'_account_id': 11536}, {'_account_id': 11975}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-10-08 00:56:27.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/d3ebe90cca4dbcf2dd03d2440bcb141d297fc301', 'message': 'Appoint hongbin as Zun PTL\n\nhongbin volunteer to lead the Zun project for\nthe 2023.1 cycle\n- https://review.opendev.org/c/openstack/governance/+/858980\n\nChange-Id: Ic38ac5bd82203efa0e32171058a0508a4e3509c6\n'}]",0,860759,d3ebe90cca4dbcf2dd03d2440bcb141d297fc301,13,8,1,8556,,,0,"Appoint hongbin as Zun PTL

hongbin volunteer to lead the Zun project for
the 2023.1 cycle
- https://review.opendev.org/c/openstack/governance/+/858980

Change-Id: Ic38ac5bd82203efa0e32171058a0508a4e3509c6
",git fetch https://review.opendev.org/openstack/governance refs/changes/59/860759/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,d3ebe90cca4dbcf2dd03d2440bcb141d297fc301,formal-vote, name: Hongbin Lu irc: hongbin email: hongbin034@gmail.com - 2023.1, name: APPOINTMENT NEEDED irc: No nick supplied email: example@example.org,4,3
openstack%2Fgovernance~master~I17c9ec1413570f861324777a62070dbc35d63716,openstack/governance,master,I17c9ec1413570f861324777a62070dbc35d63716,Appoint Feng as Zun PTL,ABANDONED,2022-09-22 19:58:08.000000000,2022-10-16 00:30:50.000000000,,"[{'_account_id': 11292}, {'_account_id': 11536}, {'_account_id': 11975}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 23365}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-09-22 19:58:08.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/7fbff5f51dbbe52ae6a20d4ed3d798c3bb05f3be', 'message': 'Appoint Feng as Zun PTL\n\nFeng candidacy was invalid during election for Zun PTL\n2023.1 cycle but they volunteer to continue serve as Zun PTL.\n- https://review.opendev.org/c/openstack/election/+/855130\n- https://etherpad.opendev.org/p/2023.1-leaderless\n\nChange-Id: I17c9ec1413570f861324777a62070dbc35d63716\n'}]",19,858980,7fbff5f51dbbe52ae6a20d4ed3d798c3bb05f3be,24,7,1,8556,,,0,"Appoint Feng as Zun PTL

Feng candidacy was invalid during election for Zun PTL
2023.1 cycle but they volunteer to continue serve as Zun PTL.
- https://review.opendev.org/c/openstack/election/+/855130
- https://etherpad.opendev.org/p/2023.1-leaderless

Change-Id: I17c9ec1413570f861324777a62070dbc35d63716
",git fetch https://review.opendev.org/openstack/governance refs/changes/80/858980/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,7fbff5f51dbbe52ae6a20d4ed3d798c3bb05f3be,formal-vote, name: Feng Shengqin email: feng.shengqin@zte.com.cn - 2023.1, name: APPOINTMENT NEEDED email: example@example.org,3,2
openstack%2Fdesignate~master~Iea61a0af65afc4bf91c581869984115a6d44011f,openstack/designate,master,Iea61a0af65afc4bf91c581869984115a6d44011f,Removed unused SQL functions and better coverage,MERGED,2022-10-08 21:14:48.000000000,2022-10-15 00:49:23.000000000,2022-10-15 00:47:50.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-10-08 21:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c06ce72480c9754cfed75bf093def03535e2c047', 'message': 'Removed unused SQL functions and better coverage\n\nChange-Id: Iea61a0af65afc4bf91c581869984115a6d44011f\n'}, {'number': 2, 'created': '2022-10-08 21:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/70ef7ec759e97d0b00fd194a8e7ce6cb1ad08e6d', 'message': 'Removed unused SQL functions and better coverage\n\nChange-Id: Iea61a0af65afc4bf91c581869984115a6d44011f\n'}, {'number': 3, 'created': '2022-10-08 21:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e979fca5fd9fb5577771ff00f105c367fbbbd6be', 'message': 'Removed unused SQL functions and better coverage\n\n- Cleaned up indentention.\n- Fixed minor inconsistencies.\n\nChange-Id: Iea61a0af65afc4bf91c581869984115a6d44011f\n'}, {'number': 4, 'created': '2022-10-08 21:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/617c561cf2e6698e7e9e56a0b89d4bd9dc151c66', 'message': 'Removed unused SQL functions and better coverage\n\n- Cleaned up indentention.\n- Fixed minor inconsistencies.\n\nChange-Id: Iea61a0af65afc4bf91c581869984115a6d44011f\n'}, {'number': 5, 'created': '2022-10-08 21:52:09.000000000', 'files': ['designate/tests/test_storage/test_sqlalchemy.py', 'designate/tests/test_storage/__init__.py', 'designate/storage/impl_sqlalchemy/__init__.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/ab3b57b044eb5a662f6299e8073dc32311d14c14', 'message': 'Removed unused SQL functions and better coverage\n\n- Cleaned up indentation.\n- Cleaned up sql syntax.\n- Fixed minor inconsistencies.\n\nChange-Id: Iea61a0af65afc4bf91c581869984115a6d44011f\n'}]",3,860773,ab3b57b044eb5a662f6299e8073dc32311d14c14,15,4,5,22623,,,0,"Removed unused SQL functions and better coverage

- Cleaned up indentation.
- Cleaned up sql syntax.
- Fixed minor inconsistencies.

Change-Id: Iea61a0af65afc4bf91c581869984115a6d44011f
",git fetch https://review.opendev.org/openstack/designate refs/changes/73/860773/4 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/test_storage/__init__.py', 'designate/storage/impl_sqlalchemy/__init__.py']",2,c06ce72480c9754cfed75bf093def03535e2c047,," limit=limit, sort_key=sort_key, sort_dir=sort_dir) limit=limit, sort_key=sort_key, sort_dir=sort_dir) limit=None, sort_key=None, sort_dir=None): one=True) limit=limit, sort_key=sort_key, sort_dir=sort_dir) one=True) limit=None, sort_key=None, sort_dir=None): one=True) limit=None, sort_key=None, sort_dir=None): limit=limit, sort_key=sort_key, sort_dir=sort_dir) one=True) exceptions.ZoneExportNotFound)"," def find_zone_attribute(self, context, criterion): return self._find_zone_attributes(context, criterion, one=True) def delete_zone_attribute(self, context, zone_attribute_id): zone_attribute = self._find_zone_attributes( context, {'id': zone_attribute_id}, one=True) deleted_zone_attribute = self._delete( context, tables.zone_attributes, zone_attribute, exceptions.ZoneAttributeNotFound) return deleted_zone_attribute def find_zone_masters(self, context, criterion=None, marker=None, limit=None, sort_key=None, sort_dir=None): return self._find_zone_masters(context, criterion, marker=marker, limit=limit, sort_key=sort_key, sort_dir=sort_dir) def find_zone_master(self, context, criterion): return self._find_zone_master(context, criterion, one=True) def update_zone_master(self, context, zone_master): return self._update(context, tables.zone_masters, zone_master, exceptions.DuplicateZoneMaster, exceptions.ZoneMasterNotFound) def get_pool_ns_record(self, context, pool_ns_record_id): return self._find_pool_ns_records( context, {'id': pool_ns_record_id}, one=True) def find_pool_ns_records(self, context, criterion=None, marker=None, limit=None, sort_key=None, sort_dir=None): return self._find_pool_ns_records(context, criterion, marker=marker, limit=limit, sort_key=sort_key, sort_dir=sort_dir) def find_pool_ns_record(self, context, criterion): return self._find_pool_ns_records(context, criterion, one=True) limit=limit, sort_key=sort_key, sort_dir=sort_dir) limit=limit, sort_key=sort_key, sort_dir=sort_dir) def get_pool_target_option(self, context, pool_target_option_id): return self._find_pool_target_options( context, {'id': pool_target_option_id}, one=True) def find_pool_target_options(self, context, criterion=None, marker=None, limit=None, sort_key=None, sort_dir=None): return self._find_pool_target_options( context, criterion, marker=marker, limit=limit, sort_key=sort_key, sort_dir=sort_dir) def find_pool_target_option(self, context, criterion): return self._find_pool_target_options(context, criterion, one=True) def get_pool_target_master(self, context, pool_target_master_id): return self._find_pool_target_masters( context, {'id': pool_target_master_id}, one=True) def find_pool_target_masters(self, context, criterion=None, marker=None, limit=None, sort_key=None, sort_dir=None): return self._find_pool_target_masters( context, criterion, marker=marker, limit=limit, sort_key=sort_key, sort_dir=sort_dir) def find_pool_target_master(self, context, criterion): return self._find_pool_target_masters(context, criterion, one=True) limit=None, sort_key=None, sort_dir=None): one=True) limit=limit, sort_key=sort_key, sort_dir=sort_dir) one=True) limit=None, sort_key=None, sort_dir=None): one=True) limit=None, sort_key=None, sort_dir=None): limit=limit, sort_key=sort_key, sort_dir=sort_dir) one=True) exceptions.ZoneExportNotFound)",31,83
openstack%2Fcinder~master~I18793ee0f2cf21af19fc9ff41d032c591a46dfb0,openstack/cinder,master,I18793ee0f2cf21af19fc9ff41d032c591a46dfb0,Move check_exclusive_options to volume_utils,NEW,2022-09-26 16:53:49.000000000,2022-10-15 00:22:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-09-26 16:53:49.000000000', 'files': ['cinder/volume/volume_utils.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/tests/unit/test_utils.py', 'cinder/utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e53eac17ff4cd18408829d0d9c562e746d149f98', 'message': 'Move check_exclusive_options to volume_utils\n\nThis is only used by volume code, move it to\nvolume_utils.\n\nChange-Id: I18793ee0f2cf21af19fc9ff41d032c591a46dfb0\n'}]",0,859318,e53eac17ff4cd18408829d0d9c562e746d149f98,21,1,1,4523,,,0,"Move check_exclusive_options to volume_utils

This is only used by volume code, move it to
volume_utils.

Change-Id: I18793ee0f2cf21af19fc9ff41d032c591a46dfb0
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/859318/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/volume_utils.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/tests/unit/test_utils.py', 'cinder/utils.py']",4,e53eac17ff4cd18408829d0d9c562e746d149f98,,,"def check_exclusive_options( **kwargs: Optional[Union[dict, str, bool]]) -> None: """"""Checks that only one of the provided options is actually not-none. Iterates over all the kwargs passed in and checks that only one of said arguments is not-none, if more than one is not-none then an exception will be raised with the names of those arguments who were not-none. """""" if not kwargs: return pretty_keys = kwargs.pop(""pretty_keys"", True) exclusive_options = {} for (k, v) in kwargs.items(): if v is not None: exclusive_options[k] = True if len(exclusive_options) > 1: # Change the format of the names from pythonic to # something that is more readable. # # Ex: 'the_key' -> 'the key' if pretty_keys: tnames = [k.replace('_', ' ') for k in kwargs] else: tnames = list(kwargs.keys()) names = "", "".join(sorted(tnames)) msg = (_(""May specify only one of %s"") % (names)) raise exception.InvalidInput(reason=msg) ",42,42
openstack%2Fironic~stable%2Ftrain~I86d63c43e4d057ec5b3e23c2e8311f9f0be4299a,openstack/ironic,stable/train,I86d63c43e4d057ec5b3e23c2e8311f9f0be4299a,CI: Pin train to use only basic standalone tests,MERGED,2022-10-14 16:50:36.000000000,2022-10-14 23:57:43.000000000,2022-10-14 23:55:41.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-14 16:50:36.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2c50394459e746c9ed04c4c78e9066e3ce75dc3f', 'message': ""CI: Pin train to use only basic standalone tests\n\nThe tempest tests involve cleaning which attempts software raid,\nhowever this doesn't really work on Train, As this is the only\nstandalone test, restrict the regex to:\nironic_standalone.test_basic\nto match what we expect to test and pass on Train.\n\nChange-Id: I86d63c43e4d057ec5b3e23c2e8311f9f0be4299a\n""}]",1,861456,2c50394459e746c9ed04c4c78e9066e3ce75dc3f,8,2,1,11655,,,0,"CI: Pin train to use only basic standalone tests

The tempest tests involve cleaning which attempts software raid,
however this doesn't really work on Train, As this is the only
standalone test, restrict the regex to:
ironic_standalone.test_basic
to match what we expect to test and pass on Train.

Change-Id: I86d63c43e4d057ec5b3e23c2e8311f9f0be4299a
",git fetch https://review.opendev.org/openstack/ironic refs/changes/56/861456/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,2c50394459e746c9ed04c4c78e9066e3ce75dc3f,, tempest_test_regex: ironic_standalone.test_basic, tempest_test_regex: ironic_standalone,1,1
openstack%2Fironic~master~Id3451147d172002d67b4557680560a59b026ed77,openstack/ironic,master,Id3451147d172002d67b4557680560a59b026ed77,Remove reference to 'all-plugin' tox environment,MERGED,2022-10-07 13:41:57.000000000,2022-10-14 23:57:40.000000000,2022-10-14 23:55:44.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-07 13:41:57.000000000', 'files': ['doc/source/contributor/ironic-boot-from-volume.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/eb046d34199bce86a51f12aa7f85926b9f5d8604', 'message': "" Remove reference to 'all-plugin' tox environment\n\nThe 'all-plugin' tox environment was deprecated by this patch [1].\nInstead of the 'all-plugin' it is recommended to use the 'all' tox\nenvironment.\n\nThis patch removes any reference to 'all-plugin' tox environment and\nupdates the documentation so that the installation steps work with\nthe 'all' venv.\n\n[1] https://review.opendev.org/c/openstack/tempest/+/543974\n\nChange-Id: Id3451147d172002d67b4557680560a59b026ed77\n""}]",0,860697,eb046d34199bce86a51f12aa7f85926b9f5d8604,8,3,1,30674,,,0," Remove reference to 'all-plugin' tox environment

The 'all-plugin' tox environment was deprecated by this patch [1].
Instead of the 'all-plugin' it is recommended to use the 'all' tox
environment.

This patch removes any reference to 'all-plugin' tox environment and
updates the documentation so that the installation steps work with
the 'all' venv.

[1] https://review.opendev.org/c/openstack/tempest/+/543974

Change-Id: Id3451147d172002d67b4557680560a59b026ed77
",git fetch https://review.opendev.org/openstack/ironic refs/changes/97/860697/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/ironic-boot-from-volume.rst'],1,eb046d34199bce86a51f12aa7f85926b9f5d8604,fix/tox_env, tox -e venv-tempest -- pip install (path to the ironic-tempest-plugin directory) tox -e all -- ironic_tempest_plugin.tests.scenario.test_baremetal_boot_from_volume, tox -e all-plugin -- ironic_tempest_plugin.tests.scenario.test_baremetal_boot_from_volume,2,1
openstack%2Fpuppet-openstack-integration~master~Ie8954b19f1291e166e91daa36faa09f071155b6d,openstack/puppet-openstack-integration,master,Ie8954b19f1291e166e91daa36faa09f071155b6d,Updated from Puppet OpenStack modules constraints,MERGED,2022-10-14 02:18:46.000000000,2022-10-14 23:11:31.000000000,2022-10-14 23:11:31.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-14 02:18:46.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/541bb79deaaf5e12f38b1116bae15b2298192d52', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: Ie8954b19f1291e166e91daa36faa09f071155b6d\n'}]",0,861277,541bb79deaaf5e12f38b1116bae15b2298192d52,7,3,1,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: Ie8954b19f1291e166e91daa36faa09f071155b6d
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/77/861277/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,541bb79deaaf5e12f38b1116bae15b2298192d52,openstack/puppet/constraints, :ref => 'v8.5.0', :ref => 'v8.4.0',1,1
openstack%2Fironic~master~Ie0f4b8a814eaef1e852088d12d33ce1eab408e23,openstack/ironic,master,Ie0f4b8a814eaef1e852088d12d33ce1eab408e23,Phase 1 - SQLAlchemy 2.0 Compatability,MERGED,2022-09-07 21:21:16.000000000,2022-10-14 21:59:26.000000000,2022-10-14 21:57:58.000000000,"[{'_account_id': 4571}, {'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-07 21:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bfd80d091addb193831d3ef99c17e75e72ad37cd', 'message': 'WIP: Fix SQLAlchemy 2.0 Compatability\n\nOne of the major changes in SQLAlchemy 2.0 is the removal\nof autocommit support. It turns out ironic was using this quite\naggressively without even really being aware of it.\n\n* Moved the declaritive_base to ORM, as noted in the SQLAlchemy 2.0\n  changes.\n\n* Console testing caused us to become aware of issues around locking\n  where session synchronization, when autocommit was enabled, was\n  defaulted to False. The result of this is that you could have two\n  sessions have different results, which could results on different\n  threads, and where one could still attempt to lock based upon prior\n  information. Inherently, while this basically worked, it was\n  also sort of broken behavior. This resulted in locking being\n  rewritten to use the style mandated in SQLAlchemy 2.0 migration\n  documentation.\n\n* Begins changing the query.one()/query.all() style to use explicit\n  select/scalar execution statements.\n\n* Instead of using field label strings for joined queries, use the\n  object format, which makes much more sense now.\n\n* Moves from session flush() calls, to commit() calls. This causes the\n  transaction to explicitly commit, as autocommit is being removed in\n  SQLAlchemy 2.0.\n\nUltimately, I have labled the remaining places which SQLAlchemy wanrings\nare raised at for deprecation/removal of functionality, which needs to\nbe addressed.\n\nOne challenge without autocommit is the following seems to misbehave:\n\n* Selective column query behavior for non-entire object retrieval\n  still needs work. Likely something to do with syntax\n  behavior/procesing differences when autocommit is on/off.\n\n* Trait records seem to allow for 51 records, instead of 50. Starting\n  from zero though, so in reality it might actually be 51... test could\n  be wrong.\n\n* Oprhaned allocation cleanup seems to get double triggered. Similar\n  behavior has also been observed in console locks for unknown reasons.\n\nSee: https://docs.sqlalchemy.org/en/14/changelog/migration_20.html\n\nChange-Id: Ie0f4b8a814eaef1e852088d12d33ce1eab408e23\n'}, {'number': 2, 'created': '2022-09-08 21:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fb00dada31acc0dc19fe71808846af5497aa4fbc', 'message': ""WIP: Fix SQLAlchemy 2.0 Compatability\n\nOne of the major changes in SQLAlchemy 2.0 is the removal\nof autocommit support. It turns out ironic was using this quite\naggressively without even really being aware of it.\n\n* Moved the declaritive_base to ORM, as noted in the SQLAlchemy 2.0\n  changes[0].\n\n* Console testing caused us to become aware of issues around locking\n  where session synchronization, when autocommit was enabled, was\n  defaulted to False. The result of this is that you could have two\n  sessions have different results, which could results on different\n  threads, and where one could still attempt to lock based upon prior\n  information. Inherently, while this basically worked, it was\n  also sort of broken behavior. This resulted in locking being\n  rewritten to use the style mandated in SQLAlchemy 2.0 migration\n  documentation. This ultimately is due to locking, which is *heavily*\n  relied upon in Ironic, and in unit testing with sqlite, there are\n  no transactions, which means we can get some data inconsistency\n  in unit testing as well if we're reliant upon the database to\n  precisely and exactly return what we committed.[1]\n\n* Begins changing the query.one()/query.all() style to use explicit\n  select/scalar execution statements.\n\n* Instead of using field label strings for joined queries, use the\n  object format, which makes much more sense now.\n\n* Moves from session flush() calls, to commit() calls. This causes the\n  transaction to explicitly commit, as autocommit is being removed in\n  SQLAlchemy 2.0.\n\nUltimately, I have labled the remaining places which SQLAlchemy wanrings\nare raised at for deprecation/removal of functionality, which needs to\nbe addressed.\n\nOne challenge without autocommit is the following seems to misbehave:\n\n* Selective column query behavior for non-entire object retrieval\n  still needs work. Likely something to do with syntax\n  behavior/procesing differences when autocommit is on/off.\n\n* Trait records seem to allow for 51 records, instead of 50. Starting\n  from zero though, so in reality it might actually be 51... test could\n  be wrong.\n\n* Oprhaned allocation cleanup seems to get double triggered. Similar\n  behavior has also been observed in console locks for unknown reasons.\n\n[0] https://docs.sqlalchemy.org/en/14/changelog/migration_20.html\n[1] https://docs.sqlalchemy.org/en/14/dialects/sqlite.html#transaction-isolation-level-autocommit\n\nChange-Id: Ie0f4b8a814eaef1e852088d12d33ce1eab408e23\n""}, {'number': 3, 'created': '2022-09-12 01:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a1222441816b88ef6216ee2607f85867427c64cd', 'message': ""WIP: Fix SQLAlchemy 2.0 Compatability\n\nOne of the major changes in SQLAlchemy 2.0 is the removal\nof autocommit support. It turns out ironic was using this quite\naggressively without even really being aware of it.\n\n* Moved the declaritive_base to ORM, as noted in the SQLAlchemy 2.0\n  changes[0].\n\n* Console testing caused us to become aware of issues around locking\n  where session synchronization, when autocommit was enabled, was\n  defaulted to False. The result of this is that you could have two\n  sessions have different results, which could results on different\n  threads, and where one could still attempt to lock based upon prior\n  information. Inherently, while this basically worked, it was\n  also sort of broken behavior. This resulted in locking being\n  rewritten to use the style mandated in SQLAlchemy 2.0 migration\n  documentation. This ultimately is due to locking, which is *heavily*\n  relied upon in Ironic, and in unit testing with sqlite, there are\n  no transactions, which means we can get some data inconsistency\n  in unit testing as well if we're reliant upon the database to\n  precisely and exactly return what we committed.[1]\n\n* Begins changing the query.one()/query.all() style to use explicit\n  select/scalar execution statements.\n\n* Instead of using field label strings for joined queries, use the\n  object format, which makes much more sense now.\n\n* Moves from session flush() calls, to commit() calls. This causes the\n  transaction to explicitly commit, as autocommit is being removed in\n  SQLAlchemy 2.0.\n\nUltimately, I have labled the remaining places which SQLAlchemy wanrings\nare raised at for deprecation/removal of functionality, which needs to\nbe addressed.\n\nOne challenge without autocommit is the following seems to misbehave:\n\n* Selective column query behavior for non-entire object retrieval\n  still needs work. Likely something to do with syntax\n  behavior/procesing differences when autocommit is on/off.\n\n* Trait records seem to allow for 51 records, instead of 50. Starting\n  from zero though, so in reality it might actually be 51... test could\n  be wrong.\n\n* Oprhaned allocation cleanup seems to get double triggered. Similar\n  behavior has also been observed in console locks for unknown reasons.\n\n[0] https://docs.sqlalchemy.org/en/14/changelog/migration_20.html\n[1] https://docs.sqlalchemy.org/en/14/dialects/sqlite.html#transaction-isolation-level-autocommit\n\nChange-Id: Ie0f4b8a814eaef1e852088d12d33ce1eab408e23\n""}, {'number': 4, 'created': '2022-09-13 21:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/da66c3502f996ad15c9ee81201662cc1aa510212', 'message': ""Phase 1 - SQLAlchemy 2.0 Compatability\n\nOne of the major changes in SQLAlchemy 2.0 is the removal\nof autocommit support. It turns out ironic was using this quite\naggressively without even really being aware of it.\n\n* Moved the declaritive_base to ORM, as noted in the SQLAlchemy 2.0\n  changes[0].\n\n* Console testing caused us to become aware of issues around locking\n  where session synchronization, when autocommit was enabled, was\n  defaulted to False. The result of this is that you could have two\n  sessions have different results, which could results on different\n  threads, and where one could still attempt to lock based upon prior\n  information. Inherently, while this basically worked, it was\n  also sort of broken behavior. This resulted in locking being\n  rewritten to use the style mandated in SQLAlchemy 2.0 migration\n  documentation. This ultimately is due to locking, which is *heavily*\n  relied upon in Ironic, and in unit testing with sqlite, there are\n  no transactions, which means we can get some data inconsistency\n  in unit testing as well if we're reliant upon the database to\n  precisely and exactly return what we committed.[1]\n\n* Begins changing the query.one()/query.all() style to use explicit\n  select statements as part of the new style mandated for migration\n  to SQLAlchemy 2.0.\n\n* Instead of using field label strings for joined queries, use the\n  object format, which makes much more sense now, and is part of\n  the items required for eventual migration to 2.0.\n\n* DB queries involving Traits are now loaded using SelectInLoad\n  as opposed to Joins. The now deprecated ORM queries were quietly\n  and silently de-duplicating rows nad providing consistent sets\n  from the resulting joined table responses, however putting much\n  higher CPU load on the processing of results on the client.\n  Prior performance testing has informed us this should be a minimal\n  overhead impact, however these queries should no longer be in\n  transactions with the Database Servers which should offset the\n  shift in load pattern. The reason we cannot continue to deduplicate\n  locally in our code is because we carry Dict data sets which cannot\n  be hashed for deduplication. Most projects have handled this by\n  treating them as Text and then converting, but without a massive\n  rewrite, this seems to be the viable middle ground.\n\n* Adds an explict mapping for traits and tags on the Node object\n  to point directly to the NodeTrait and NodeTag classes. This\n  superceeds the prior usage of a backref to make the association.\n\n* Splits SQLAlchemy class model Node into Node and NodeBase, which\n  allows for high performance queries to skip querying for ``tags``\n  and ``traits``. Otherwise with the afrormentioned lookups would\n  always execute as they are now properties as well on the Node\n  class. This more common of a SQLAlchemy model, but Ironic's model\n  has been a bit more rigid to date.\n\n* Adds a ``start_consoles`` and ``start_allocations`` option to the\n  conductor ``init_host`` method. This allows unit tests to be\n  executed and launched with the service context, while *not* also\n  creating race conditions which resulted in failed tests.\n\n* The db API ``_paginate_query`` wrapper now contains additional\n  logic to handle traditional ORM query responses and the newer style\n  of unified query responses. Due to differences in queries and handling,\n  which also was part of the driver for the creation of ``NodeBase``,\n  as SQLAlchemy will only create an object if a base object is referenced.\n  Also, by default, everything returned is a tuple in 1.4 with the\n  unified interface.\n\nUltimately, I have labled the remaining places which SQLAlchemy wanrings\nare raised at for deprecation/removal of functionality, which needs to\nbe addressed.\n\n[0] https://docs.sqlalchemy.org/en/14/changelog/migration_20.html\n[1] https://docs.sqlalchemy.org/en/14/dialects/sqlite.html#transaction-isolation-level-autocommit\n\nChange-Id: Ie0f4b8a814eaef1e852088d12d33ce1eab408e23\n""}, {'number': 5, 'created': '2022-09-15 19:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fbf3a28ca0e26569f030d0dcb05ae55211360c9b', 'message': ""Phase 1 - SQLAlchemy 2.0 Compatability\n\nOne of the major changes in SQLAlchemy 2.0 is the removal\nof autocommit support. It turns out ironic was using this quite\naggressively without even really being aware of it.\n\n* Moved the declaritive_base to ORM, as noted in the SQLAlchemy 2.0\n  changes[0].\n\n* Console testing caused us to become aware of issues around locking\n  where session synchronization, when autocommit was enabled, was\n  defaulted to False. The result of this is that you could have two\n  sessions have different results, which could results on different\n  threads, and where one could still attempt to lock based upon prior\n  information. Inherently, while this basically worked, it was\n  also sort of broken behavior. This resulted in locking being\n  rewritten to use the style mandated in SQLAlchemy 2.0 migration\n  documentation. This ultimately is due to locking, which is *heavily*\n  relied upon in Ironic, and in unit testing with sqlite, there are\n  no transactions, which means we can get some data inconsistency\n  in unit testing as well if we're reliant upon the database to\n  precisely and exactly return what we committed.[1]\n\n* Begins changing the query.one()/query.all() style to use explicit\n  select statements as part of the new style mandated for migration\n  to SQLAlchemy 2.0.\n\n* Instead of using field label strings for joined queries, use the\n  object format, which makes much more sense now, and is part of\n  the items required for eventual migration to 2.0.\n\n* DB queries involving Traits are now loaded using SelectInLoad\n  as opposed to Joins. The now deprecated ORM queries were quietly\n  and silently de-duplicating rows and providing consistent sets\n  from the resulting joined table responses, however putting much\n  higher CPU load on the processing of results on the client.\n  Prior performance testing has informed us this should be a minimal\n  overhead impact, however these queries should no longer be in\n  transactions with the Database Servers which should offset the\n  shift in load pattern. The reason we cannot continue to deduplicate\n  locally in our code is because we carry Dict data sets which cannot\n  be hashed for deduplication. Most projects have handled this by\n  treating them as Text and then converting, but without a massive\n  rewrite, this seems to be the viable middle ground.\n\n* Adds an explict mapping for traits and tags on the Node object\n  to point directly to the NodeTrait and NodeTag classes. This\n  superceeds the prior usage of a backref to make the association.\n\n* Splits SQLAlchemy class model Node into Node and NodeBase, which\n  allows for high performance queries to skip querying for ``tags``\n  and ``traits``. Otherwise with the afrormentioned lookups would\n  always execute as they are now properties as well on the Node\n  class. This more common of a SQLAlchemy model, but Ironic's model\n  has been a bit more rigid to date.\n\n* Adds a ``start_consoles`` and ``start_allocations`` option to the\n  conductor ``init_host`` method. This allows unit tests to be\n  executed and launched with the service context, while *not* also\n  creating race conditions which resulted in failed tests.\n\n* The db API ``_paginate_query`` wrapper now contains additional\n  logic to handle traditional ORM query responses and the newer style\n  of unified query responses. Due to differences in queries and handling,\n  which also was part of the driver for the creation of ``NodeBase``,\n  as SQLAlchemy will only create an object if a base object is referenced.\n  Also, by default, everything returned is a tuple in 1.4 with the\n  unified interface.\n\nUltimately, I have labled the remaining places which SQLAlchemy warnings\nare raised at for deprecation/removal of functionality, which needs to\nbe addressed.\n\n[0] https://docs.sqlalchemy.org/en/14/changelog/migration_20.html\n[1] https://docs.sqlalchemy.org/en/14/dialects/sqlite.html#transaction-isolation-level-autocommit\n\nChange-Id: Ie0f4b8a814eaef1e852088d12d33ce1eab408e23\n""}, {'number': 6, 'created': '2022-09-15 19:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8b8bd9e30f2bfb5053028bab71729b0786ced281', 'message': ""Phase 1 - SQLAlchemy 2.0 Compatability\n\nOne of the major changes in SQLAlchemy 2.0 is the removal\nof autocommit support. It turns out ironic was using this quite\naggressively without even really being aware of it.\n\n* Moved the declaritive_base to ORM, as noted in the SQLAlchemy 2.0\n  changes[0].\n\n* Console testing caused us to become aware of issues around locking\n  where session synchronization, when autocommit was enabled, was\n  defaulted to False. The result of this is that you could have two\n  sessions have different results, which could results on different\n  threads, and where one could still attempt to lock based upon prior\n  information. Inherently, while this basically worked, it was\n  also sort of broken behavior. This resulted in locking being\n  rewritten to use the style mandated in SQLAlchemy 2.0 migration\n  documentation. This ultimately is due to locking, which is *heavily*\n  relied upon in Ironic, and in unit testing with sqlite, there are\n  no transactions, which means we can get some data inconsistency\n  in unit testing as well if we're reliant upon the database to\n  precisely and exactly return what we committed.[1]\n\n* Begins changing the query.one()/query.all() style to use explicit\n  select statements as part of the new style mandated for migration\n  to SQLAlchemy 2.0.\n\n* Instead of using field label strings for joined queries, use the\n  object format, which makes much more sense now, and is part of\n  the items required for eventual migration to 2.0.\n\n* DB queries involving Traits are now loaded using SelectInLoad\n  as opposed to Joins. The now deprecated ORM queries were quietly\n  and silently de-duplicating rows and providing consistent sets\n  from the resulting joined table responses, however putting much\n  higher CPU load on the processing of results on the client.\n  Prior performance testing has informed us this should be a minimal\n  overhead impact, however these queries should no longer be in\n  transactions with the Database Servers which should offset the\n  shift in load pattern. The reason we cannot continue to deduplicate\n  locally in our code is because we carry Dict data sets which cannot\n  be hashed for deduplication. Most projects have handled this by\n  treating them as Text and then converting, but without a massive\n  rewrite, this seems to be the viable middle ground.\n\n* Adds an explict mapping for traits and tags on the Node object\n  to point directly to the NodeTrait and NodeTag classes. This\n  superceeds the prior usage of a backref to make the association.\n\n* Splits SQLAlchemy class model Node into Node and NodeBase, which\n  allows for high performance queries to skip querying for ``tags``\n  and ``traits``. Otherwise with the afrormentioned lookups would\n  always execute as they are now properties as well on the Node\n  class. This more common of a SQLAlchemy model, but Ironic's model\n  has been a bit more rigid to date.\n\n* Adds a ``start_consoles`` and ``start_allocations`` option to the\n  conductor ``init_host`` method. This allows unit tests to be\n  executed and launched with the service context, while *not* also\n  creating race conditions which resulted in failed tests.\n\n* The db API ``_paginate_query`` wrapper now contains additional\n  logic to handle traditional ORM query responses and the newer style\n  of unified query responses. Due to differences in queries and handling,\n  which also was part of the driver for the creation of ``NodeBase``,\n  as SQLAlchemy will only create an object if a base object is referenced.\n  Also, by default, everything returned is a tuple in 1.4 with the\n  unified interface.\n\nUltimately, I have labled the remaining places which SQLAlchemy warnings\nare raised at for deprecation/removal of functionality, which needs to\nbe addressed.\n\n[0] https://docs.sqlalchemy.org/en/14/changelog/migration_20.html\n[1] https://docs.sqlalchemy.org/en/14/dialects/sqlite.html#transaction-isolation-level-autocommit\n\nChange-Id: Ie0f4b8a814eaef1e852088d12d33ce1eab408e23\n""}, {'number': 7, 'created': '2022-09-23 19:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0ca08ee2f0d7bdbfe21f0cdd3fbdf5b7112f36d0', 'message': ""Phase 1 - SQLAlchemy 2.0 Compatability\n\nOne of the major changes in SQLAlchemy 2.0 is the removal\nof autocommit support. It turns out ironic was using this quite\naggressively without even really being aware of it.\n\n* Moved the declaritive_base to ORM, as noted in the SQLAlchemy 2.0\n  changes[0].\n\n* Console testing caused us to become aware of issues around locking\n  where session synchronization, when autocommit was enabled, was\n  defaulted to False. The result of this is that you could have two\n  sessions have different results, which could results on different\n  threads, and where one could still attempt to lock based upon prior\n  information. Inherently, while this basically worked, it was\n  also sort of broken behavior. This resulted in locking being\n  rewritten to use the style mandated in SQLAlchemy 2.0 migration\n  documentation. This ultimately is due to locking, which is *heavily*\n  relied upon in Ironic, and in unit testing with sqlite, there are\n  no transactions, which means we can get some data inconsistency\n  in unit testing as well if we're reliant upon the database to\n  precisely and exactly return what we committed.[1]\n\n* Begins changing the query.one()/query.all() style to use explicit\n  select statements as part of the new style mandated for migration\n  to SQLAlchemy 2.0.\n\n* Instead of using field label strings for joined queries, use the\n  object format, which makes much more sense now, and is part of\n  the items required for eventual migration to 2.0.\n\n* DB queries involving Traits are now loaded using SelectInLoad\n  as opposed to Joins. The now deprecated ORM queries were quietly\n  and silently de-duplicating rows and providing consistent sets\n  from the resulting joined table responses, however putting much\n  higher CPU load on the processing of results on the client.\n  Prior performance testing has informed us this should be a minimal\n  overhead impact, however these queries should no longer be in\n  transactions with the Database Servers which should offset the\n  shift in load pattern. The reason we cannot continue to deduplicate\n  locally in our code is because we carry Dict data sets which cannot\n  be hashed for deduplication. Most projects have handled this by\n  treating them as Text and then converting, but without a massive\n  rewrite, this seems to be the viable middle ground.\n\n* Adds an explict mapping for traits and tags on the Node object\n  to point directly to the NodeTrait and NodeTag classes. This\n  superceeds the prior usage of a backref to make the association.\n\n* Splits SQLAlchemy class model Node into Node and NodeBase, which\n  allows for high performance queries to skip querying for ``tags``\n  and ``traits``. Otherwise with the afrormentioned lookups would\n  always execute as they are now properties as well on the Node\n  class. This more common of a SQLAlchemy model, but Ironic's model\n  has been a bit more rigid to date.\n\n* Adds a ``start_consoles`` and ``start_allocations`` option to the\n  conductor ``init_host`` method. This allows unit tests to be\n  executed and launched with the service context, while *not* also\n  creating race conditions which resulted in failed tests.\n\n* The db API ``_paginate_query`` wrapper now contains additional\n  logic to handle traditional ORM query responses and the newer style\n  of unified query responses. Due to differences in queries and handling,\n  which also was part of the driver for the creation of ``NodeBase``,\n  as SQLAlchemy will only create an object if a base object is referenced.\n  Also, by default, everything returned is a tuple in 1.4 with the\n  unified interface.\n\nUltimately, I have labled the remaining places which SQLAlchemy warnings\nare raised at for deprecation/removal of functionality, which needs to\nbe addressed.\n\n[0] https://docs.sqlalchemy.org/en/14/changelog/migration_20.html\n[1] https://docs.sqlalchemy.org/en/14/dialects/sqlite.html#transaction-isolation-level-autocommit\n\nChange-Id: Ie0f4b8a814eaef1e852088d12d33ce1eab408e23\n""}, {'number': 8, 'created': '2022-09-26 20:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2c6f1ddb4800789d58a24f4238d65da1b511d32a', 'message': ""Phase 1 - SQLAlchemy 2.0 Compatability\n\nOne of the major changes in SQLAlchemy 2.0 is the removal\nof autocommit support. It turns out ironic was using this quite\naggressively without even really being aware of it.\n\n* Moved the declaritive_base to ORM, as noted in the SQLAlchemy 2.0\n  changes[0].\n\n* Console testing caused us to become aware of issues around locking\n  where session synchronization, when autocommit was enabled, was\n  defaulted to False. The result of this is that you could have two\n  sessions have different results, which could results on different\n  threads, and where one could still attempt to lock based upon prior\n  information. Inherently, while this basically worked, it was\n  also sort of broken behavior. This resulted in locking being\n  rewritten to use the style mandated in SQLAlchemy 2.0 migration\n  documentation. This ultimately is due to locking, which is *heavily*\n  relied upon in Ironic, and in unit testing with sqlite, there are\n  no transactions, which means we can get some data inconsistency\n  in unit testing as well if we're reliant upon the database to\n  precisely and exactly return what we committed.[1]\n\n* Begins changing the query.one()/query.all() style to use explicit\n  select statements as part of the new style mandated for migration\n  to SQLAlchemy 2.0.\n\n* Instead of using field label strings for joined queries, use the\n  object format, which makes much more sense now, and is part of\n  the items required for eventual migration to 2.0.\n\n* DB queries involving Traits are now loaded using SelectInLoad\n  as opposed to Joins. The now deprecated ORM queries were quietly\n  and silently de-duplicating rows and providing consistent sets\n  from the resulting joined table responses, however putting much\n  higher CPU load on the processing of results on the client.\n  Prior performance testing has informed us this should be a minimal\n  overhead impact, however these queries should no longer be in\n  transactions with the Database Servers which should offset the\n  shift in load pattern. The reason we cannot continue to deduplicate\n  locally in our code is because we carry Dict data sets which cannot\n  be hashed for deduplication. Most projects have handled this by\n  treating them as Text and then converting, but without a massive\n  rewrite, this seems to be the viable middle ground.\n\n* Adds an explict mapping for traits and tags on the Node object\n  to point directly to the NodeTrait and NodeTag classes. This\n  superceeds the prior usage of a backref to make the association.\n\n* Splits SQLAlchemy class model Node into Node and NodeBase, which\n  allows for high performance queries to skip querying for ``tags``\n  and ``traits``. Otherwise with the afrormentioned lookups would\n  always execute as they are now properties as well on the Node\n  class. This more common of a SQLAlchemy model, but Ironic's model\n  has been a bit more rigid to date.\n\n* Adds a ``start_consoles`` and ``start_allocations`` option to the\n  conductor ``init_host`` method. This allows unit tests to be\n  executed and launched with the service context, while *not* also\n  creating race conditions which resulted in failed tests.\n\n* The db API ``_paginate_query`` wrapper now contains additional\n  logic to handle traditional ORM query responses and the newer style\n  of unified query responses. Due to differences in queries and handling,\n  which also was part of the driver for the creation of ``NodeBase``,\n  as SQLAlchemy will only create an object if a base object is referenced.\n  Also, by default, everything returned is a tuple in 1.4 with the\n  unified interface.\n\nUltimately, I have labled the remaining places which SQLAlchemy warnings\nare raised at for deprecation/removal of functionality, which needs to\nbe addressed.\n\n[0] https://docs.sqlalchemy.org/en/14/changelog/migration_20.html\n[1] https://docs.sqlalchemy.org/en/14/dialects/sqlite.html#transaction-isolation-level-autocommit\n\nChange-Id: Ie0f4b8a814eaef1e852088d12d33ce1eab408e23\n""}, {'number': 9, 'created': '2022-09-27 15:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/52621b81e72feed9f29d0217286f161d3b4a0035', 'message': ""Phase 1 - SQLAlchemy 2.0 Compatability\n\nOne of the major changes in SQLAlchemy 2.0 is the removal\nof autocommit support. It turns out Ironic was using this quite\naggressively without even really being aware of it.\n\n* Moved the declaritive_base to ORM, as noted in the SQLAlchemy 2.0\n  changes[0].\n\n* Console testing caused us to become aware of issues around locking\n  where session synchronization, when autocommit was enabled, was\n  defaulted to False. The result of this is that you could have two\n  sessions have different results, which could results on different\n  threads, and where one could still attempt to lock based upon prior\n  information. Inherently, while this basically worked, it was\n  also sort of broken behavior. This resulted in locking being\n  rewritten to use the style mandated in SQLAlchemy 2.0 migration\n  documentation. This ultimately is due to locking, which is *heavily*\n  relied upon in Ironic, and in unit testing with sqlite, there are\n  no transactions, which means we can get some data inconsistency\n  in unit testing as well if we're reliant upon the database to\n  precisely and exactly return what we committed.[1]\n\n* Begins changing the query.one()/query.all() style to use explicit\n  select statements as part of the new style mandated for migration\n  to SQLAlchemy 2.0.\n\n* Instead of using field label strings for joined queries, use the\n  object format, which makes much more sense now, and is part of\n  the items required for eventual migration to 2.0.\n\n* DB queries involving Traits are now loaded using SelectInLoad\n  as opposed to Joins. The now deprecated ORM queries were quietly\n  and silently de-duplicating rows and providing consistent sets\n  from the resulting joined table responses, however putting much\n  higher CPU load on the processing of results on the client.\n  Prior performance testing has informed us this should be a minimal\n  overhead impact, however these queries should no longer be in\n  transactions with the Database Servers which should offset the\n  shift in load pattern. The reason we cannot continue to deduplicate\n  locally in our code is because we carry Dict data sets which cannot\n  be hashed for deduplication. Most projects have handled this by\n  treating them as Text and then converting, but without a massive\n  rewrite, this seems to be the viable middle ground.\n\n* Adds an explict mapping for traits and tags on the Node object\n  to point directly to the NodeTrait and NodeTag classes. This\n  superceeds the prior usage of a backref to make the association.\n\n* Splits SQLAlchemy class model Node into Node and NodeBase, which\n  allows for high performance queries to skip querying for ``tags``\n  and ``traits``. Otherwise with the afrormentioned lookups would\n  always execute as they are now properties as well on the Node\n  class. This more common of a SQLAlchemy model, but Ironic's model\n  has been a bit more rigid to date.\n\n* Adds a ``start_consoles`` and ``start_allocations`` option to the\n  conductor ``init_host`` method. This allows unit tests to be\n  executed and launched with the service context, while *not* also\n  creating race conditions which resulted in failed tests.\n\n* The db API ``_paginate_query`` wrapper now contains additional\n  logic to handle traditional ORM query responses and the newer style\n  of unified query responses. Due to differences in queries and handling,\n  which also was part of the driver for the creation of ``NodeBase``,\n  as SQLAlchemy will only create an object if a base object is referenced.\n  Also, by default, everything returned is a tuple in 1.4 with the\n  unified interface.\n\n* Also modified one unit test which counted time.sleep calls, which is\n  a known pattern which can create failures which are ultimately noise.\n\nUltimately, I have labelled the remaining places which SQLAlchemy\nwarnings are raised at for deprecation/removal of functionality,\nwhich needs to be addressed.\n\n[0] https://docs.sqlalchemy.org/en/14/changelog/migration_20.html\n[1] https://docs.sqlalchemy.org/en/14/dialects/sqlite.html#transaction-isolation-level-autocommit\n\nChange-Id: Ie0f4b8a814eaef1e852088d12d33ce1eab408e23\n""}, {'number': 10, 'created': '2022-10-12 20:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/99a2626dd9c93530acbd0d7633fb2661e1cdb8bd', 'message': ""Phase 1 - SQLAlchemy 2.0 Compatability\n\nOne of the major changes in SQLAlchemy 2.0 is the removal\nof autocommit support. It turns out Ironic was using this quite\naggressively without even really being aware of it.\n\n* Moved the declaritive_base to ORM, as noted in the SQLAlchemy 2.0\n  changes[0].\n\n* Console testing caused us to become aware of issues around locking\n  where session synchronization, when autocommit was enabled, was\n  defaulted to False. The result of this is that you could have two\n  sessions have different results, which could results on different\n  threads, and where one could still attempt to lock based upon prior\n  information. Inherently, while this basically worked, it was\n  also sort of broken behavior. This resulted in locking being\n  rewritten to use the style mandated in SQLAlchemy 2.0 migration\n  documentation. This ultimately is due to locking, which is *heavily*\n  relied upon in Ironic, and in unit testing with sqlite, there are\n  no transactions, which means we can get some data inconsistency\n  in unit testing as well if we're reliant upon the database to\n  precisely and exactly return what we committed.[1]\n\n* Begins changing the query.one()/query.all() style to use explicit\n  select statements as part of the new style mandated for migration\n  to SQLAlchemy 2.0.\n\n* Instead of using field label strings for joined queries, use the\n  object format, which makes much more sense now, and is part of\n  the items required for eventual migration to 2.0.\n\n* DB queries involving Traits are now loaded using SelectInLoad\n  as opposed to Joins. The now deprecated ORM queries were quietly\n  and silently de-duplicating rows and providing consistent sets\n  from the resulting joined table responses, however putting much\n  higher CPU load on the processing of results on the client.\n  Prior performance testing has informed us this should be a minimal\n  overhead impact, however these queries should no longer be in\n  transactions with the Database Servers which should offset the\n  shift in load pattern. The reason we cannot continue to deduplicate\n  locally in our code is because we carry Dict data sets which cannot\n  be hashed for deduplication. Most projects have handled this by\n  treating them as Text and then converting, but without a massive\n  rewrite, this seems to be the viable middle ground.\n\n* Adds an explict mapping for traits and tags on the Node object\n  to point directly to the NodeTrait and NodeTag classes. This\n  superceeds the prior usage of a backref to make the association.\n\n* Splits SQLAlchemy class model Node into Node and NodeBase, which\n  allows for high performance queries to skip querying for ``tags``\n  and ``traits``. Otherwise with the afrormentioned lookups would\n  always execute as they are now properties as well on the Node\n  class. This more common of a SQLAlchemy model, but Ironic's model\n  has been a bit more rigid to date.\n\n* Adds a ``start_consoles`` and ``start_allocations`` option to the\n  conductor ``init_host`` method. This allows unit tests to be\n  executed and launched with the service context, while *not* also\n  creating race conditions which resulted in failed tests.\n\n* The db API ``_paginate_query`` wrapper now contains additional\n  logic to handle traditional ORM query responses and the newer style\n  of unified query responses. Due to differences in queries and handling,\n  which also was part of the driver for the creation of ``NodeBase``,\n  as SQLAlchemy will only create an object if a base object is referenced.\n  Also, by default, everything returned is a tuple in 1.4 with the\n  unified interface.\n\n* Also modified one unit test which counted time.sleep calls, which is\n  a known pattern which can create failures which are ultimately noise.\n\nUltimately, I have labelled the remaining places which SQLAlchemy\nwarnings are raised at for deprecation/removal of functionality,\nwhich needs to be addressed.\n\n[0] https://docs.sqlalchemy.org/en/14/changelog/migration_20.html\n[1] https://docs.sqlalchemy.org/en/14/dialects/sqlite.html#transaction-isolation-level-autocommit\n\nChange-Id: Ie0f4b8a814eaef1e852088d12d33ce1eab408e23\n""}, {'number': 11, 'created': '2022-10-13 21:21:40.000000000', 'files': ['ironic/tests/unit/common/test_release_mappings.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/tests/unit/conductor/mgr_utils.py', 'ironic/tests/unit/conductor/test_allocations.py', 'ironic/db/sqlalchemy/__init__.py', 'ironic/tests/unit/conductor/test_base_manager.py', 'releasenotes/notes/prepare-for-sqlalchemy-20-e817f340f261b1a2.yaml', 'requirements.txt', 'ironic/conductor/manager.py', 'ironic/tests/unit/db/test_conductor.py', 'ironic/db/sqlalchemy/api.py', 'ironic/tests/unit/db/test_nodes.py', 'ironic/conductor/base_manager.py', 'tox.ini', 'ironic/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/49e085583dec81c63d19f80a9ba067e38d8043ae', 'message': ""Phase 1 - SQLAlchemy 2.0 Compatability\n\nOne of the major changes in SQLAlchemy 2.0 is the removal\nof autocommit support. It turns out Ironic was using this quite\naggressively without even really being aware of it.\n\n* Moved the declaritive_base to ORM, as noted in the SQLAlchemy 2.0\n  changes[0].\n\n* Console testing caused us to become aware of issues around locking\n  where session synchronization, when autocommit was enabled, was\n  defaulted to False. The result of this is that you could have two\n  sessions have different results, which could results on different\n  threads, and where one could still attempt to lock based upon prior\n  information. Inherently, while this basically worked, it was\n  also sort of broken behavior. This resulted in locking being\n  rewritten to use the style mandated in SQLAlchemy 2.0 migration\n  documentation. This ultimately is due to locking, which is *heavily*\n  relied upon in Ironic, and in unit testing with sqlite, there are\n  no transactions, which means we can get some data inconsistency\n  in unit testing as well if we're reliant upon the database to\n  precisely and exactly return what we committed.[1]\n\n* Begins changing the query.one()/query.all() style to use explicit\n  select statements as part of the new style mandated for migration\n  to SQLAlchemy 2.0.\n\n* Instead of using field label strings for joined queries, use the\n  object format, which makes much more sense now, and is part of\n  the items required for eventual migration to 2.0.\n\n* DB queries involving Traits are now loaded using SelectInLoad\n  as opposed to Joins. The now deprecated ORM queries were quietly\n  and silently de-duplicating rows and providing consistent sets\n  from the resulting joined table responses, however putting much\n  higher CPU load on the processing of results on the client.\n  Prior performance testing has informed us this should be a minimal\n  overhead impact, however these queries should no longer be in\n  transactions with the Database Servers which should offset the\n  shift in load pattern. The reason we cannot continue to deduplicate\n  locally in our code is because we carry Dict data sets which cannot\n  be hashed for deduplication. Most projects have handled this by\n  treating them as Text and then converting, but without a massive\n  rewrite, this seems to be the viable middle ground.\n\n* Adds an explict mapping for traits and tags on the Node object\n  to point directly to the NodeTrait and NodeTag classes. This\n  superceeds the prior usage of a backref to make the association.\n\n* Splits SQLAlchemy class model Node into Node and NodeBase, which\n  allows for high performance queries to skip querying for ``tags``\n  and ``traits``. Otherwise with the afrormentioned lookups would\n  always execute as they are now properties as well on the Node\n  class. This more common of a SQLAlchemy model, but Ironic's model\n  has been a bit more rigid to date.\n\n* Adds a ``start_consoles`` and ``start_allocations`` option to the\n  conductor ``init_host`` method. This allows unit tests to be\n  executed and launched with the service context, while *not* also\n  creating race conditions which resulted in failed tests.\n\n* The db API ``_paginate_query`` wrapper now contains additional\n  logic to handle traditional ORM query responses and the newer style\n  of unified query responses. Due to differences in queries and handling,\n  which also was part of the driver for the creation of ``NodeBase``,\n  as SQLAlchemy will only create an object if a base object is referenced.\n  Also, by default, everything returned is a tuple in 1.4 with the\n  unified interface.\n\n* Also modified one unit test which counted time.sleep calls, which is\n  a known pattern which can create failures which are ultimately noise.\n\nUltimately, I have labelled the remaining places which SQLAlchemy\nwarnings are raised at for deprecation/removal of functionality,\nwhich needs to be addressed.\n\n[0] https://docs.sqlalchemy.org/en/14/changelog/migration_20.html\n[1] https://docs.sqlalchemy.org/en/14/dialects/sqlite.html#transaction-isolation-level-autocommit\n\nChange-Id: Ie0f4b8a814eaef1e852088d12d33ce1eab408e23\n""}]",53,856336,49e085583dec81c63d19f80a9ba067e38d8043ae,88,3,11,11655,,,0,"Phase 1 - SQLAlchemy 2.0 Compatability

One of the major changes in SQLAlchemy 2.0 is the removal
of autocommit support. It turns out Ironic was using this quite
aggressively without even really being aware of it.

* Moved the declaritive_base to ORM, as noted in the SQLAlchemy 2.0
  changes[0].

* Console testing caused us to become aware of issues around locking
  where session synchronization, when autocommit was enabled, was
  defaulted to False. The result of this is that you could have two
  sessions have different results, which could results on different
  threads, and where one could still attempt to lock based upon prior
  information. Inherently, while this basically worked, it was
  also sort of broken behavior. This resulted in locking being
  rewritten to use the style mandated in SQLAlchemy 2.0 migration
  documentation. This ultimately is due to locking, which is *heavily*
  relied upon in Ironic, and in unit testing with sqlite, there are
  no transactions, which means we can get some data inconsistency
  in unit testing as well if we're reliant upon the database to
  precisely and exactly return what we committed.[1]

* Begins changing the query.one()/query.all() style to use explicit
  select statements as part of the new style mandated for migration
  to SQLAlchemy 2.0.

* Instead of using field label strings for joined queries, use the
  object format, which makes much more sense now, and is part of
  the items required for eventual migration to 2.0.

* DB queries involving Traits are now loaded using SelectInLoad
  as opposed to Joins. The now deprecated ORM queries were quietly
  and silently de-duplicating rows and providing consistent sets
  from the resulting joined table responses, however putting much
  higher CPU load on the processing of results on the client.
  Prior performance testing has informed us this should be a minimal
  overhead impact, however these queries should no longer be in
  transactions with the Database Servers which should offset the
  shift in load pattern. The reason we cannot continue to deduplicate
  locally in our code is because we carry Dict data sets which cannot
  be hashed for deduplication. Most projects have handled this by
  treating them as Text and then converting, but without a massive
  rewrite, this seems to be the viable middle ground.

* Adds an explict mapping for traits and tags on the Node object
  to point directly to the NodeTrait and NodeTag classes. This
  superceeds the prior usage of a backref to make the association.

* Splits SQLAlchemy class model Node into Node and NodeBase, which
  allows for high performance queries to skip querying for ``tags``
  and ``traits``. Otherwise with the afrormentioned lookups would
  always execute as they are now properties as well on the Node
  class. This more common of a SQLAlchemy model, but Ironic's model
  has been a bit more rigid to date.

* Adds a ``start_consoles`` and ``start_allocations`` option to the
  conductor ``init_host`` method. This allows unit tests to be
  executed and launched with the service context, while *not* also
  creating race conditions which resulted in failed tests.

* The db API ``_paginate_query`` wrapper now contains additional
  logic to handle traditional ORM query responses and the newer style
  of unified query responses. Due to differences in queries and handling,
  which also was part of the driver for the creation of ``NodeBase``,
  as SQLAlchemy will only create an object if a base object is referenced.
  Also, by default, everything returned is a tuple in 1.4 with the
  unified interface.

* Also modified one unit test which counted time.sleep calls, which is
  a known pattern which can create failures which are ultimately noise.

Ultimately, I have labelled the remaining places which SQLAlchemy
warnings are raised at for deprecation/removal of functionality,
which needs to be addressed.

[0] https://docs.sqlalchemy.org/en/14/changelog/migration_20.html
[1] https://docs.sqlalchemy.org/en/14/dialects/sqlite.html#transaction-isolation-level-autocommit

Change-Id: Ie0f4b8a814eaef1e852088d12d33ce1eab408e23
",git fetch https://review.opendev.org/openstack/ironic refs/changes/36/856336/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/manager.py', 'ironic/db/sqlalchemy/api.py', 'tox.ini', 'ironic/db/sqlalchemy/models.py']",4,bfd80d091addb193831d3ef99c17e75e72ad37cd,sqlalchemy-20,from sqlalchemy.orm import declarative_base,from sqlalchemy.ext.declarative import declarative_base,111,59
openstack%2Fironic~master~I46be9295764a8ab354d54e2d50e3c62a012ceccf,openstack/ironic,master,I46be9295764a8ab354d54e2d50e3c62a012ceccf,Trival: Remove minor troubleshooting accidently committed,MERGED,2022-10-14 18:36:12.000000000,2022-10-14 21:43:38.000000000,2022-10-14 21:42:26.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-14 18:36:12.000000000', 'files': ['ironic/cmd/status.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b87b63db7e99a867ec163574ce1d13ab13285f36', 'message': 'Trival: Remove minor troubleshooting accidently committed\n\nSome minor troublehsooting output was accidently committed.\nRemoving.\n\nChange-Id: I46be9295764a8ab354d54e2d50e3c62a012ceccf\n'}]",1,861463,b87b63db7e99a867ec163574ce1d13ab13285f36,9,2,1,11655,,,0,"Trival: Remove minor troubleshooting accidently committed

Some minor troublehsooting output was accidently committed.
Removing.

Change-Id: I46be9295764a8ab354d54e2d50e3c62a012ceccf
",git fetch https://review.opendev.org/openstack/ironic refs/changes/63/861463/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/cmd/status.py'],1,b87b63db7e99a867ec163574ce1d13ab13285f36,,, print('####################################################33') print(results),0,2
openstack%2Ftripleo-heat-templates~master~I0401a9a28d4715073fb929018dfb6daabe836cd8,openstack/tripleo-heat-templates,master,I0401a9a28d4715073fb929018dfb6daabe836cd8,Run nova_wait_for_compute_service only for the default cell deployment,MERGED,2022-10-10 11:02:58.000000000,2022-10-14 20:57:10.000000000,2022-10-14 20:57:10.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-10-10 11:02:58.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/38dbd331cccb0c47739462ca8261127863b41054', 'message': 'Run nova_wait_for_compute_service only for the default cell deployment\n\nnova_wait_for_compute_service should not run when deploying an\nadditional cell. For the additional cell scenario we can not run\nthe discovery automatically as the cell first needs to be created.\nTherefore we can also not wait on computes to be registered and\nqueried via the nova api.\n\nThe issue is here [1] where it runs the nova_wait_for_compute_service\nif `{get_param: NovaAdditionalCell}`\n\n            - if:\n                - {get_param: NovaAdditionalCell}\n                - nova_wait_for_compute_service:\n\nNovaAdditionalCell defaults to false as NovaAdditionalCell is the\nspecial case. In train this is if `is_not_additional_cell`\n\n            - if:\n                - is_not_additional_cell\n                - nova_wait_for_compute_service:\n\nThe simplification patch in [3] introduced this difference.\n\nSo in general it seems that nova_wait_for_compute_service is right\nnow only running when deploying an additional cell, which it\nshould not.\n\n[1] https://github.com/openstack/tripleo-heat-templates/blob/stable/wallaby/deployment/nova/nova-compute-container-puppet.yaml#L1412\n[2] https://github.com/openstack/tripleo-heat-templates/blob/stable/train/deployment/nova/nova-compute-container-puppet.yaml#L963\n[3] https://github.com/openstack/tripleo-heat-templates/commit/476e444b8f23488eae2c0fd712bbbb30f34ec5af\n\nChange-Id: I0401a9a28d4715073fb929018dfb6daabe836cd8\n'}]",11,860823,38dbd331cccb0c47739462ca8261127863b41054,39,5,1,17216,,,0,"Run nova_wait_for_compute_service only for the default cell deployment

nova_wait_for_compute_service should not run when deploying an
additional cell. For the additional cell scenario we can not run
the discovery automatically as the cell first needs to be created.
Therefore we can also not wait on computes to be registered and
queried via the nova api.

The issue is here [1] where it runs the nova_wait_for_compute_service
if `{get_param: NovaAdditionalCell}`

            - if:
                - {get_param: NovaAdditionalCell}
                - nova_wait_for_compute_service:

NovaAdditionalCell defaults to false as NovaAdditionalCell is the
special case. In train this is if `is_not_additional_cell`

            - if:
                - is_not_additional_cell
                - nova_wait_for_compute_service:

The simplification patch in [3] introduced this difference.

So in general it seems that nova_wait_for_compute_service is right
now only running when deploying an additional cell, which it
should not.

[1] https://github.com/openstack/tripleo-heat-templates/blob/stable/wallaby/deployment/nova/nova-compute-container-puppet.yaml#L1412
[2] https://github.com/openstack/tripleo-heat-templates/blob/stable/train/deployment/nova/nova-compute-container-puppet.yaml#L963
[3] https://github.com/openstack/tripleo-heat-templates/commit/476e444b8f23488eae2c0fd712bbbb30f34ec5af

Change-Id: I0401a9a28d4715073fb929018dfb6daabe836cd8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/23/860823/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,38dbd331cccb0c47739462ca8261127863b41054,fix_wait_on_compute, # run nova_wait_for_compute_service only for the default cell deployment - not: {get_param: NovaAdditionalCell}, - {get_param: NovaAdditionalCell},2,1
openstack%2Fswift~master~I6ce299b5232a8f394e35f148317f9e08208a0c0f,openstack/swift,master,I6ce299b5232a8f394e35f148317f9e08208a0c0f,Sharder: warn when sharding appears to have stalled.,MERGED,2022-09-27 04:49:20.000000000,2022-10-14 20:56:42.000000000,2022-10-14 20:55:36.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 22348}, {'_account_id': 34930}]","[{'number': 1, 'created': '2022-09-27 04:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c4036abf790470258b67f929dbbba329586cc1b7', 'message': 'Sharder: warn when sharding appears to have stalled.\n\nThis patch add a configurable timeout after which the sharder will\nwarn if a container DB has not completed sharding.\n\nThe new config is container_sharding_timeout with a default of 172800\nseconds.\n\nChange-Id: I6ce299b5232a8f394e35f148317f9e08208a0c0f\n'}, {'number': 2, 'created': '2022-10-13 23:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/84e23648e27d1413096e3d3a7f310bc647b12cae', 'message': 'Sharder: warn when sharding appears to have stalled.\n\nThis patch add a configurable timeout after which the sharder\nwill warn if a container DB has not completed sharding.\n\nThe new config is container_sharding_timeout with a default of\n172800 seconds (2 days).\n\nDrive-by fix: recording sharding progress will cover the case\nof shard range shrinking too.\n\nChange-Id: I6ce299b5232a8f394e35f148317f9e08208a0c0f\n'}, {'number': 3, 'created': '2022-10-14 00:56:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/97da75f3e07d4cd27452d7eba22b688f495d9f41', 'message': 'Sharder: warn when sharding appears to have stalled.\n\nThis patch add a configurable timeout after which the sharder\nwill warn if a container DB has not completed sharding.\n\nThe new config is container_sharding_timeout with a default of\n172800 seconds (2 days).\n\nDrive-by fix: recording sharding progress will cover the case\nof shard range shrinking too.\n\nChange-Id: I6ce299b5232a8f394e35f148317f9e08208a0c0f\n'}, {'number': 4, 'created': '2022-10-14 05:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ee50a598df65697f6ae59a8f34f1f2d706a8c490', 'message': 'Sharder: warn when sharding appears to have stalled.\n\nThis patch add a configurable timeout after which the sharder\nwill warn if a container DB has not completed sharding.\n\nThe new config is container_sharding_timeout with a default of\n172800 seconds (2 days).\n\nDrive-by fix: recording sharding progress will cover the case\nof shard range shrinking too.\n\nChange-Id: I6ce299b5232a8f394e35f148317f9e08208a0c0f\n'}, {'number': 5, 'created': '2022-10-14 15:54:17.000000000', 'files': ['etc/container-server.conf-sample', 'test/unit/container/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/4ed2b89cb78f06cbd08b8a3f94745613def12e97', 'message': 'Sharder: warn when sharding appears to have stalled.\n\nThis patch add a configurable timeout after which the sharder\nwill warn if a container DB has not completed sharding.\n\nThe new config is container_sharding_timeout with a default of\n172800 seconds (2 days).\n\nDrive-by fix: recording sharding progress will cover the case\nof shard range shrinking too.\n\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: I6ce299b5232a8f394e35f148317f9e08208a0c0f\n'}]",36,859373,4ed2b89cb78f06cbd08b8a3f94745613def12e97,33,4,5,34930,,,0,"Sharder: warn when sharding appears to have stalled.

This patch add a configurable timeout after which the sharder
will warn if a container DB has not completed sharding.

The new config is container_sharding_timeout with a default of
172800 seconds (2 days).

Drive-by fix: recording sharding progress will cover the case
of shard range shrinking too.

Co-Authored-By: Alistair Coles <alistairncoles@gmail.com>
Change-Id: I6ce299b5232a8f394e35f148317f9e08208a0c0f
",git fetch https://review.opendev.org/openstack/swift refs/changes/73/859373/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/container-server.conf-sample', 'test/unit/container/test_sharder.py', 'swift/container/sharder.py']",3,c4036abf790470258b67f929dbbba329586cc1b7,sharder_warn," self.container_sharding_timeout = get_val( 'container_sharding_timeout', int, 172800) < float(Timestamp.now()): if ((own_shard_range.state == ShardRange.SHARDING or db_state == SHARDING) and (float(own_shard_range.epoch) + self.container_sharding_timeout < float(Timestamp.now()))): self.logger.warning( 'Container db is stuck waiting for sharding done ' 'since %s. Container DB file and path: %s (%s), ', 'own_shard_range state: %s, DB state: %s', own_shard_range.epoch.isoformat, broker.db_file, quote(broker.path), own_shard_range.state_text, db_state)", < Timestamp.now().timestamp:,23,1
openstack%2Ftempest~master~I8dd5e3256339ab1483e909fb5207d0da856e467e,openstack/tempest,master,I8dd5e3256339ab1483e909fb5207d0da856e467e,Fix image import tests for read-only stores,MERGED,2022-10-10 22:27:04.000000000,2022-10-14 20:35:50.000000000,2022-10-14 20:34:43.000000000,"[{'_account_id': 8556}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30742}]","[{'number': 1, 'created': '2022-10-10 22:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/26d44d6c0a7a87dec4f857b74c54e0298f1a77ff', 'message': 'Fix image import tests for read-only stores\n\nIn order to test with one or more read-only store (such as an http\ntype store), we must exclude those from our list of stores we expect\nto see when doing an import. This fixes both the waiter for the\n""all stores"" case, as well as our specific-store test from choosing\nthose stores for the list.\n\nChange-Id: I8dd5e3256339ab1483e909fb5207d0da856e467e\n'}, {'number': 2, 'created': '2022-10-10 22:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5af75980ce197fa750a895d3b99c353ed01cb857', 'message': 'Fix image import tests for read-only stores\n\nIn order to test with one or more read-only store (such as an http\ntype store), we must exclude those from our list of stores we expect\nto see when doing an import. This fixes both the waiter for the\n""all stores"" case, as well as our specific-store test from choosing\nthose stores for the list.\n\nChange-Id: I8dd5e3256339ab1483e909fb5207d0da856e467e\n'}, {'number': 3, 'created': '2022-10-11 15:15:13.000000000', 'files': ['tempest/tests/common/test_waiters.py', 'tempest/api/image/v2/test_images.py', 'tempest/common/waiters.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/466f7060828b67c7a2482dd5f04ae2c59c5437db', 'message': 'Fix image import tests for read-only stores\n\nIn order to test with one or more read-only store (such as an http\ntype store), we must exclude those from our list of stores we expect\nto see when doing an import. This fixes both the waiter for the\n""all stores"" case, as well as our specific-store test from choosing\nthose stores for the list.\n\nChange-Id: I8dd5e3256339ab1483e909fb5207d0da856e467e\n'}]",3,860881,466f7060828b67c7a2482dd5f04ae2c59c5437db,13,5,3,4393,,,0,"Fix image import tests for read-only stores

In order to test with one or more read-only store (such as an http
type store), we must exclude those from our list of stores we expect
to see when doing an import. This fixes both the waiter for the
""all stores"" case, as well as our specific-store test from choosing
those stores for the list.

Change-Id: I8dd5e3256339ab1483e909fb5207d0da856e467e
",git fetch https://review.opendev.org/openstack/tempest refs/changes/81/860881/3 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/image/v2/test_images.py', 'tempest/common/waiters.py']",2,26d44d6c0a7a87dec4f857b74c54e0298f1a77ff,image-behavior," # NOTE(danms): Don't wait for stores that are read-only as those # will never complete store_info = client.info_stores()['stores'] stores = ','.join(sorted([ store['id'] for store in store_info if store.get('read-only') != 'true' and (not stores or store['id'] in stores.split(','))])) if image['status'] == 'active' and (image['stores'] == stores):", if image['status'] == 'active' and (stores is None or image['stores'] == stores):,15,5
openstack%2Fcharm-neutron-api~master~I052b1d837674cadfbdcf4e0975ef5cf82b800a72,openstack/charm-neutron-api,master,I052b1d837674cadfbdcf4e0975ef5cf82b800a72,Fix test_ids_ctxt test due to charmhelpers change.,NEW,2022-10-14 17:15:22.000000000,2022-10-14 20:17:36.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-14 17:15:22.000000000', 'files': ['hooks/charmhelpers/contrib/hahelpers/cluster.py', 'hooks/charmhelpers/contrib/storage/linux/utils.py', 'hooks/charmhelpers/contrib/charmsupport/nrpe.py', 'hooks/charmhelpers/contrib/openstack/templates/haproxy.cfg', 'hooks/charmhelpers/contrib/network/ovs/__init__.py', 'hooks/charmhelpers/contrib/openstack/ssh_migrations.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/ha/utils.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/network/ovs/ovsdb.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/network/ip.py', 'hooks/charmhelpers/contrib/network/ovs/ovn.py', 'unit_tests/test_neutron_api_context.py', 'hooks/charmhelpers/contrib/openstack/ip.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/c39132992ad98ac1fa628b3cda923123efc7f393', 'message': ""Fix test_ids_ctxt test due to charmhelpers change.\n\nThe unit_tests.test_neutron_api_context.\n    IdentityServiceContext.test_ids_ctxt test failed due to a change in\ncharmhelpers[1] which introduced app data.  This introduced a new\nfunction check into the IdentityServiceContext (remote_service_name())\nwhich wasn't mocked out.\n\n - c-h sync to bring in latest/master version of c-h\n - mock out the remote_service_name()\n\n[1] 4137a3d5d676ed6f332504b4edfcdf7f06c2f0bc (charm-helpers)\n\nChange-Id: I052b1d837674cadfbdcf4e0975ef5cf82b800a72\n""}]",0,861459,c39132992ad98ac1fa628b3cda923123efc7f393,3,2,1,20870,,,0,"Fix test_ids_ctxt test due to charmhelpers change.

The unit_tests.test_neutron_api_context.
    IdentityServiceContext.test_ids_ctxt test failed due to a change in
charmhelpers[1] which introduced app data.  This introduced a new
function check into the IdentityServiceContext (remote_service_name())
which wasn't mocked out.

 - c-h sync to bring in latest/master version of c-h
 - mock out the remote_service_name()

[1] 4137a3d5d676ed6f332504b4edfcdf7f06c2f0bc (charm-helpers)

Change-Id: I052b1d837674cadfbdcf4e0975ef5cf82b800a72
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/59/861459/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/hahelpers/cluster.py', 'hooks/charmhelpers/contrib/storage/linux/utils.py', 'hooks/charmhelpers/contrib/charmsupport/nrpe.py', 'hooks/charmhelpers/contrib/openstack/templates/haproxy.cfg', 'hooks/charmhelpers/contrib/network/ovs/__init__.py', 'hooks/charmhelpers/contrib/openstack/ssh_migrations.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/ha/utils.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/network/ovs/ovsdb.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/network/ip.py', 'hooks/charmhelpers/contrib/network/ovs/ovn.py', 'unit_tests/test_neutron_api_context.py', 'hooks/charmhelpers/contrib/openstack/ip.py']",16,c39132992ad98ac1fa628b3cda923123efc7f393,fix-test-identity-context," get_iface_for_addressdef get_invalid_vips(): """"""Check if any of the provided vips are invalid. A vip is invalid if it doesn't belong to the subnet in any interface. If all vips are valid, this returns an empty list. :returns: A list of strings, where each string is an invalid vip address. :rtype: list """""" clustered = is_clustered() vips = config('vip') if vips: vips = vips.split() invalid_vips = [] if clustered and vips: for vip in vips: iface_for_vip = get_iface_for_address(vip) if iface_for_vip is None: invalid_vips.append(vip) return invalid_vips ",,267,42
openstack%2Fironic-python-agent~stable%2Fwallaby~If721dfe1caa5915326482969e55fbf4697538231,openstack/ironic-python-agent,stable/wallaby,If721dfe1caa5915326482969e55fbf4697538231,Fix software raid output poisoning,MERGED,2022-09-20 16:39:28.000000000,2022-10-14 20:07:05.000000000,2022-10-14 20:05:45.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-20 16:39:28.000000000', 'files': ['ironic_python_agent/hardware.py', 'releasenotes/notes/fix-softraid-name-poisoning-4e934dd4e60830b1.yaml', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/samples/hardware_samples.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/6ea49af2fabceed2048deac3c696dcc10f2d7cb8', 'message': 'Fix software raid output poisoning\n\nIn the event a device name is set to contain a raid device path,\nit is possible for the Name and Events field values of mdadm\'s\ndetailed output to contain text which inadvertently gets captured and\nmapped as component data for the ""holder"" devices of the RAID set.\n\nThis would cause invalid values to get passed to UEFI methods\nwhich would cause a deployment to fail under these circumstances.\n\nWe now ignore the Name and Events fields in mdadm output.\n\nChange-Id: If721dfe1caa5915326482969e55fbf4697538231\n(cherry picked from commit f3e3de8097f05cc830768da7d3f3e9eae04b40a1)\n(cherry picked from commit 6660e01e1f8a6e7a40b798eea5215b1eddcbe0c3)\n(cherry picked from commit 5751f60353f3a4bf325a8c9335d743eec45fbcd1)\n'}]",2,858464,6ea49af2fabceed2048deac3c696dcc10f2d7cb8,10,2,1,11655,,,0,"Fix software raid output poisoning

In the event a device name is set to contain a raid device path,
it is possible for the Name and Events field values of mdadm's
detailed output to contain text which inadvertently gets captured and
mapped as component data for the ""holder"" devices of the RAID set.

This would cause invalid values to get passed to UEFI methods
which would cause a deployment to fail under these circumstances.

We now ignore the Name and Events fields in mdadm output.

Change-Id: If721dfe1caa5915326482969e55fbf4697538231
(cherry picked from commit f3e3de8097f05cc830768da7d3f3e9eae04b40a1)
(cherry picked from commit 6660e01e1f8a6e7a40b798eea5215b1eddcbe0c3)
(cherry picked from commit 5751f60353f3a4bf325a8c9335d743eec45fbcd1)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/64/858464/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'releasenotes/notes/fix-softraid-name-poisoning-4e934dd4e60830b1.yaml', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/samples/hardware_samples.py']",4,6ea49af2fabceed2048deac3c696dcc10f2d7cb8,,"# NOTE(TheJulia): The name and events field, in some cases can # match the regex causing parsing of the text to fail. MDADM_DETAIL_POISONED = (""""""/dev/md0: Version : 1.2 Creation Time : Wed Aug 17 16:09:19 2022 Raid Level : raid1 Array Size : 4673536 (4.46 GiB 4.79 GB) Used Dev Size : 4673536 (4.46 GiB 4.79 GB) Raid Devices : 2 Total Devices : 2 Persistence : Superblock is persistent Update Time : Wed Aug 17 16:10:03 2022 State : clean Active Devices : 2 Working Devices : 2 Failed Devices : 0 Spare Devices : 0 Name : box:/dev/md0 (local to host box) UUID : e50fb152:aa80db1d:3c901b03:dd280e35 Events : 21/dev/md/dev/md Number Major Minor RaidDevice State 0 251 1 0 active sync /dev/vda1 1 251 17 1 active sync /dev/vdb1 """""")",,42,1
openstack%2Fproject-team-guide~master~Ide5d13139493737e5ce948b62cd1da9aad7022c7,openstack/project-team-guide,master,Ide5d13139493737e5ce948b62cd1da9aad7022c7,Clarify Extended Maintenance branch testing and support policy,MERGED,2022-10-13 06:40:23.000000000,2022-10-14 18:59:21.000000000,2022-10-14 18:58:23.000000000,"[{'_account_id': 308}, {'_account_id': 4393}, {'_account_id': 5263}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-10-13 06:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/7193940f5a15f346bc154b5392d063c1cace26de', 'message': 'Clarify Extended Maintenance branch testing and support policy\n\nWe at upstream community cannot commit to the maintenance of\nExtended Maintenance branches and its testing. Idea behind the\nExtended Maintenance is to keep them open as long as we can and\nanyone backporting the fixes take care of tetsing fix or so.\n\nChange-Id: Ide5d13139493737e5ce948b62cd1da9aad7022c7\n'}, {'number': 2, 'created': '2022-10-13 15:58:54.000000000', 'files': ['doc/source/stable-branches.rst'], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/1246dcbb32ef6ac7f2783c0bfe4eacd8fc49fc60', 'message': 'Clarify Extended Maintenance branch testing and support policy\n\nWe at upstream community cannot commit to the maintenance of\nExtended Maintenance branches and its testing. Idea behind the\nExtended Maintenance is to keep them open as long as we can and\nanyone backporting the fixes take care of tetsing fix or so.\n\nChange-Id: Ide5d13139493737e5ce948b62cd1da9aad7022c7\n'}]",11,861141,1246dcbb32ef6ac7f2783c0bfe4eacd8fc49fc60,17,6,2,8556,,,0,"Clarify Extended Maintenance branch testing and support policy

We at upstream community cannot commit to the maintenance of
Extended Maintenance branches and its testing. Idea behind the
Extended Maintenance is to keep them open as long as we can and
anyone backporting the fixes take care of tetsing fix or so.

Change-Id: Ide5d13139493737e5ce948b62cd1da9aad7022c7
",git fetch https://review.opendev.org/openstack/project-team-guide refs/changes/41/861141/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/stable-branches.rst'],1,7193940f5a15f346bc154b5392d063c1cace26de,,Extended Maintenance are not supported within the Community. There should not be much expectation from upstream community team to keep maintaining the Extended Maintenance stable branches upstream testing. We will keep them open as long as possible so that any operator or user will be able to backport the required fixes. There might be a chance that Extended Maintenance branches testing is already broken and it needs more effort to fix it first and then merge the backport fix.,Extended Maintenance are not supported within the Community.,7,1
openstack%2Ftap-as-a-service~stable%2Frocky~I9b85a366c826e9f618be86ae7b609933de3e2000,openstack/tap-as-a-service,stable/rocky,I9b85a366c826e9f618be86ae7b609933de3e2000,Switch to tap-as-a-service-tempest-plugin,ABANDONED,2019-04-04 02:58:02.000000000,2022-10-14 18:49:57.000000000,,"[{'_account_id': 6854}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-04 02:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/953fa69049a611e02caae1e67876016a1dd52a4b', 'message': 'Switch to tap-as-a-service-tempest-plugin\n\nChange-Id: I9b85a366c826e9f618be86ae7b609933de3e2000\n(cherry picked from commit 4b40385a648614d99baceb2b750c2297b2616129)\n'}, {'number': 2, 'created': '2019-04-04 05:17:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/dd16f6045b7bd1ff330ced47295c67dd0ae7107c', 'message': ""Switch to tap-as-a-service-tempest-plugin\n\nNote: test_delete_tap_resources_after_ts_port_delete is\nexcluded because it's known to be broken on stable/rocky.\n\nChange-Id: I9b85a366c826e9f618be86ae7b609933de3e2000\n(cherry picked from commit 4b40385a648614d99baceb2b750c2297b2616129)\n""}, {'number': 3, 'created': '2019-04-04 06:30:34.000000000', 'files': ['neutron_taas/tests/tempest_plugin/tests/scenario/base.py', 'devstack/devstackgaterc', 'neutron_taas/tests/tempest_plugin/tests/api/base.py', 'neutron_taas/tests/tempest_plugin/__init__.py', 'neutron_taas/tests/tempest_plugin/services/client.py', 'playbooks/legacy/tempest-dsvm-tap-as-a-service/run.yaml', '.zuul.yaml', 'neutron_taas/tests/tempest_plugin/tests/__init__.py', 'neutron_taas/tests/tempest_plugin/tests/api/__init__.py', 'neutron_taas/tests/tempest_plugin/tests/scenario/test_taas.py', 'neutron_taas/tests/tempest_plugin/tests/scenario/__init__.py', 'neutron_taas/tests/tempest_plugin/tests/scenario/manager.py', 'neutron_taas/tests/tempest_plugin/services/__init__.py', 'setup.cfg', 'neutron_taas/tests/tempest_plugin/tests/api/test_taas.py', 'neutron_taas/tests/tempest_plugin/tests/taas_client.py', 'neutron_taas/tests/tempest_plugin/plugin.py'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/72400f4477f1b6d5d63a0ea67d6f4868b6238f61', 'message': ""Switch to tap-as-a-service-tempest-plugin\n\nNote: test_delete_tap_resources_after_ts_port_delete is\nexcluded because it's known to be broken on stable/rocky.\n\nChange-Id: I9b85a366c826e9f618be86ae7b609933de3e2000\n(cherry picked from commit 4b40385a648614d99baceb2b750c2297b2616129)\n""}]",0,649792,72400f4477f1b6d5d63a0ea67d6f4868b6238f61,9,2,3,6854,,,0,"Switch to tap-as-a-service-tempest-plugin

Note: test_delete_tap_resources_after_ts_port_delete is
excluded because it's known to be broken on stable/rocky.

Change-Id: I9b85a366c826e9f618be86ae7b609933de3e2000
(cherry picked from commit 4b40385a648614d99baceb2b750c2297b2616129)
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/92/649792/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_taas/tests/tempest_plugin/tests/scenario/base.py', 'devstack/devstackgaterc', 'neutron_taas/tests/tempest_plugin/tests/api/base.py', 'neutron_taas/tests/tempest_plugin/__init__.py', 'neutron_taas/tests/tempest_plugin/services/client.py', 'playbooks/legacy/tempest-dsvm-tap-as-a-service/run.yaml', '.zuul.yaml', 'neutron_taas/tests/tempest_plugin/tests/__init__.py', 'neutron_taas/tests/tempest_plugin/tests/api/__init__.py', 'neutron_taas/tests/tempest_plugin/tests/scenario/test_taas.py', 'neutron_taas/tests/tempest_plugin/tests/scenario/__init__.py', 'neutron_taas/tests/tempest_plugin/tests/scenario/manager.py', 'neutron_taas/tests/tempest_plugin/services/__init__.py', 'setup.cfg', 'neutron_taas/tests/tempest_plugin/tests/api/test_taas.py', 'neutron_taas/tests/tempest_plugin/tests/taas_client.py', 'neutron_taas/tests/tempest_plugin/plugin.py']",17,953fa69049a611e02caae1e67876016a1dd52a4b,649792,,"# Copyright (c) 2015 Midokura SARL # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import os from tempest.test_discover import plugins class NeutronTaaSPlugin(plugins.TempestPlugin): def get_opt_lists(self): return [] def load_tests(self): this_dir = os.path.dirname(os.path.abspath(__file__)) # top_level_dir = $(this_dir)/../../.. d = os.path.split(this_dir)[0] d = os.path.split(d)[0] top_level_dir = os.path.split(d)[0] test_dir = os.path.join(top_level_dir, 'neutron_taas/tests/tempest_plugin/tests') return (test_dir, top_level_dir) def register_opts(self, conf): return ",5,1166
openstack%2Ftap-as-a-service~stable%2Fqueens~I9b85a366c826e9f618be86ae7b609933de3e2000,openstack/tap-as-a-service,stable/queens,I9b85a366c826e9f618be86ae7b609933de3e2000,Switch to tap-as-a-service-tempest-plugin,ABANDONED,2019-04-04 02:58:45.000000000,2022-10-14 18:49:30.000000000,,"[{'_account_id': 6854}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-04 02:58:45.000000000', 'files': ['neutron_taas/tests/tempest_plugin/tests/scenario/base.py', 'devstack/devstackgaterc', 'neutron_taas/tests/tempest_plugin/tests/api/base.py', 'neutron_taas/tests/tempest_plugin/__init__.py', 'neutron_taas/tests/tempest_plugin/services/client.py', 'playbooks/legacy/tempest-dsvm-tap-as-a-service/run.yaml', '.zuul.yaml', 'neutron_taas/tests/tempest_plugin/tests/__init__.py', 'neutron_taas/tests/tempest_plugin/tests/api/__init__.py', 'neutron_taas/tests/tempest_plugin/tests/scenario/test_taas.py', 'neutron_taas/tests/tempest_plugin/tests/scenario/__init__.py', 'neutron_taas/tests/tempest_plugin/tests/scenario/manager.py', 'neutron_taas/tests/tempest_plugin/services/__init__.py', 'setup.cfg', 'neutron_taas/tests/tempest_plugin/tests/api/test_taas.py', 'neutron_taas/tests/tempest_plugin/tests/taas_client.py', 'neutron_taas/tests/tempest_plugin/plugin.py'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/834a802957afb1f48a6138e35f6049b2b8ff64e6', 'message': 'Switch to tap-as-a-service-tempest-plugin\n\nChange-Id: I9b85a366c826e9f618be86ae7b609933de3e2000\n(cherry picked from commit 4b40385a648614d99baceb2b750c2297b2616129)\n'}]",0,649793,834a802957afb1f48a6138e35f6049b2b8ff64e6,4,2,1,6854,,,0,"Switch to tap-as-a-service-tempest-plugin

Change-Id: I9b85a366c826e9f618be86ae7b609933de3e2000
(cherry picked from commit 4b40385a648614d99baceb2b750c2297b2616129)
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/93/649793/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_taas/tests/tempest_plugin/tests/scenario/base.py', 'devstack/devstackgaterc', 'neutron_taas/tests/tempest_plugin/tests/api/base.py', 'neutron_taas/tests/tempest_plugin/__init__.py', 'neutron_taas/tests/tempest_plugin/services/client.py', 'playbooks/legacy/tempest-dsvm-tap-as-a-service/run.yaml', '.zuul.yaml', 'neutron_taas/tests/tempest_plugin/tests/__init__.py', 'neutron_taas/tests/tempest_plugin/tests/api/__init__.py', 'neutron_taas/tests/tempest_plugin/tests/scenario/test_taas.py', 'neutron_taas/tests/tempest_plugin/tests/scenario/__init__.py', 'neutron_taas/tests/tempest_plugin/tests/scenario/manager.py', 'neutron_taas/tests/tempest_plugin/services/__init__.py', 'setup.cfg', 'neutron_taas/tests/tempest_plugin/tests/api/test_taas.py', 'neutron_taas/tests/tempest_plugin/tests/taas_client.py', 'neutron_taas/tests/tempest_plugin/plugin.py']",17,834a802957afb1f48a6138e35f6049b2b8ff64e6,,,"# Copyright (c) 2015 Midokura SARL # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import os from tempest.test_discover import plugins class NeutronTaaSPlugin(plugins.TempestPlugin): def get_opt_lists(self): return [] def load_tests(self): this_dir = os.path.dirname(os.path.abspath(__file__)) # top_level_dir = $(this_dir)/../../.. d = os.path.split(this_dir)[0] d = os.path.split(d)[0] top_level_dir = os.path.split(d)[0] test_dir = os.path.join(top_level_dir, 'neutron_taas/tests/tempest_plugin/tests') return (test_dir, top_level_dir) def register_opts(self, conf): return ",5,1166
openstack%2Ftap-as-a-service~stable%2Focata~I9b85a366c826e9f618be86ae7b609933de3e2000,openstack/tap-as-a-service,stable/ocata,I9b85a366c826e9f618be86ae7b609933de3e2000,Switch to tap-as-a-service-tempest-plugin,ABANDONED,2019-04-04 03:00:41.000000000,2022-10-14 18:47:58.000000000,,"[{'_account_id': 6854}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-04 03:00:41.000000000', 'files': ['neutron_taas/tests/tempest_plugin/tests/scenario/base.py', 'devstack/devstackgaterc', 'neutron_taas/tests/tempest_plugin/tests/api/base.py', 'neutron_taas/tests/tempest_plugin/__init__.py', 'neutron_taas/tests/tempest_plugin/services/client.py', 'playbooks/legacy/tempest-dsvm-tap-as-a-service/run.yaml', '.zuul.yaml', 'neutron_taas/tests/tempest_plugin/tests/__init__.py', 'neutron_taas/tests/tempest_plugin/tests/api/__init__.py', 'neutron_taas/tests/tempest_plugin/tests/scenario/test_taas.py', 'neutron_taas/tests/tempest_plugin/tests/scenario/__init__.py', 'neutron_taas/tests/tempest_plugin/tests/scenario/manager.py', 'neutron_taas/tests/tempest_plugin/services/__init__.py', 'setup.cfg', 'neutron_taas/tests/tempest_plugin/tests/api/test_taas.py', 'neutron_taas/tests/tempest_plugin/tests/taas_client.py', 'neutron_taas/tests/tempest_plugin/plugin.py'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/e787c14b7bde06a3c76a8984df0e7713b5876ca7', 'message': 'Switch to tap-as-a-service-tempest-plugin\n\nChange-Id: I9b85a366c826e9f618be86ae7b609933de3e2000\n(cherry picked from commit 4b40385a648614d99baceb2b750c2297b2616129)\n'}]",0,649801,e787c14b7bde06a3c76a8984df0e7713b5876ca7,6,2,1,6854,,,0,"Switch to tap-as-a-service-tempest-plugin

Change-Id: I9b85a366c826e9f618be86ae7b609933de3e2000
(cherry picked from commit 4b40385a648614d99baceb2b750c2297b2616129)
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/01/649801/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_taas/tests/tempest_plugin/tests/scenario/base.py', 'devstack/devstackgaterc', 'neutron_taas/tests/tempest_plugin/tests/api/base.py', 'neutron_taas/tests/tempest_plugin/__init__.py', 'neutron_taas/tests/tempest_plugin/services/client.py', 'playbooks/legacy/tempest-dsvm-tap-as-a-service/run.yaml', '.zuul.yaml', 'neutron_taas/tests/tempest_plugin/tests/__init__.py', 'neutron_taas/tests/tempest_plugin/tests/api/__init__.py', 'neutron_taas/tests/tempest_plugin/tests/scenario/test_taas.py', 'neutron_taas/tests/tempest_plugin/tests/scenario/__init__.py', 'neutron_taas/tests/tempest_plugin/tests/scenario/manager.py', 'neutron_taas/tests/tempest_plugin/services/__init__.py', 'setup.cfg', 'neutron_taas/tests/tempest_plugin/tests/api/test_taas.py', 'neutron_taas/tests/tempest_plugin/tests/taas_client.py', 'neutron_taas/tests/tempest_plugin/plugin.py']",17,e787c14b7bde06a3c76a8984df0e7713b5876ca7,,,"# Copyright (c) 2015 Midokura SARL # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import os from tempest.test_discover import plugins class NeutronTaaSPlugin(plugins.TempestPlugin): def get_opt_lists(self): return [] def load_tests(self): this_dir = os.path.dirname(os.path.abspath(__file__)) # top_level_dir = $(this_dir)/../../.. d = os.path.split(this_dir)[0] d = os.path.split(d)[0] top_level_dir = os.path.split(d)[0] test_dir = os.path.join(top_level_dir, 'neutron_taas/tests/tempest_plugin/tests') return (test_dir, top_level_dir) def register_opts(self, conf): return ",5,1649
openstack%2Ftap-as-a-service~stable%2Fpike~I9b85a366c826e9f618be86ae7b609933de3e2000,openstack/tap-as-a-service,stable/pike,I9b85a366c826e9f618be86ae7b609933de3e2000,Switch to tap-as-a-service-tempest-plugin,ABANDONED,2019-04-04 03:00:21.000000000,2022-10-14 18:47:22.000000000,,"[{'_account_id': 6854}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-04 03:00:21.000000000', 'files': ['neutron_taas/tests/tempest_plugin/tests/scenario/base.py', 'devstack/devstackgaterc', 'neutron_taas/tests/tempest_plugin/tests/api/base.py', 'neutron_taas/tests/tempest_plugin/__init__.py', 'neutron_taas/tests/tempest_plugin/services/client.py', 'playbooks/legacy/tempest-dsvm-tap-as-a-service/run.yaml', '.zuul.yaml', 'neutron_taas/tests/tempest_plugin/tests/__init__.py', 'neutron_taas/tests/tempest_plugin/tests/api/__init__.py', 'neutron_taas/tests/tempest_plugin/tests/scenario/test_taas.py', 'neutron_taas/tests/tempest_plugin/tests/scenario/__init__.py', 'neutron_taas/tests/tempest_plugin/tests/scenario/manager.py', 'neutron_taas/tests/tempest_plugin/services/__init__.py', 'setup.cfg', 'neutron_taas/tests/tempest_plugin/tests/api/test_taas.py', 'neutron_taas/tests/tempest_plugin/tests/taas_client.py', 'neutron_taas/tests/tempest_plugin/plugin.py'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/ae35f5225f42ca9c75c7e142077c0cc8c148f800', 'message': 'Switch to tap-as-a-service-tempest-plugin\n\nChange-Id: I9b85a366c826e9f618be86ae7b609933de3e2000\n(cherry picked from commit 4b40385a648614d99baceb2b750c2297b2616129)\n'}]",0,649798,ae35f5225f42ca9c75c7e142077c0cc8c148f800,5,2,1,6854,,,0,"Switch to tap-as-a-service-tempest-plugin

Change-Id: I9b85a366c826e9f618be86ae7b609933de3e2000
(cherry picked from commit 4b40385a648614d99baceb2b750c2297b2616129)
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/98/649798/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_taas/tests/tempest_plugin/tests/scenario/base.py', 'devstack/devstackgaterc', 'neutron_taas/tests/tempest_plugin/tests/api/base.py', 'neutron_taas/tests/tempest_plugin/__init__.py', 'neutron_taas/tests/tempest_plugin/services/client.py', 'playbooks/legacy/tempest-dsvm-tap-as-a-service/run.yaml', '.zuul.yaml', 'neutron_taas/tests/tempest_plugin/tests/__init__.py', 'neutron_taas/tests/tempest_plugin/tests/api/__init__.py', 'neutron_taas/tests/tempest_plugin/tests/scenario/test_taas.py', 'neutron_taas/tests/tempest_plugin/tests/scenario/__init__.py', 'neutron_taas/tests/tempest_plugin/tests/scenario/manager.py', 'neutron_taas/tests/tempest_plugin/services/__init__.py', 'setup.cfg', 'neutron_taas/tests/tempest_plugin/tests/api/test_taas.py', 'neutron_taas/tests/tempest_plugin/tests/taas_client.py', 'neutron_taas/tests/tempest_plugin/plugin.py']",17,ae35f5225f42ca9c75c7e142077c0cc8c148f800,,,"# Copyright (c) 2015 Midokura SARL # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import os from tempest.test_discover import plugins class NeutronTaaSPlugin(plugins.TempestPlugin): def get_opt_lists(self): return [] def load_tests(self): this_dir = os.path.dirname(os.path.abspath(__file__)) # top_level_dir = $(this_dir)/../../.. d = os.path.split(this_dir)[0] d = os.path.split(d)[0] top_level_dir = os.path.split(d)[0] test_dir = os.path.join(top_level_dir, 'neutron_taas/tests/tempest_plugin/tests') return (test_dir, top_level_dir) def register_opts(self, conf): return ",5,1649
openstack%2Fcinder~master~I6d59d091d60c3f2bd99c1619a93ad0783f8d994e,openstack/cinder,master,I6d59d091d60c3f2bd99c1619a93ad0783f8d994e,Move scheduler-specific code to the scheduler,NEW,2022-09-26 16:53:49.000000000,2022-10-14 18:43:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-09-26 16:53:49.000000000', 'files': ['cinder/scheduler/sched_utils.py', 'cinder/scheduler/weights/capacity.py', 'cinder/scheduler/filters/capacity_filter.py', 'mypy-files.txt', 'cinder/tests/unit/test_utils.py', 'cinder/utils.py', 'cinder/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c7255e95e3e1938d4314c54797b3407acac1b8b7', 'message': 'Move scheduler-specific code to the scheduler\n\nMove code only used by the scheduler to\nscheduler/sched_utils.  This follows the same\npattern used in api_utils and volume_utils.\n\nBenefits: unneeded scheduler code not loaded by\napi/volume services, less code needs to import\ncinder.utils\n\nChange-Id: I6d59d091d60c3f2bd99c1619a93ad0783f8d994e\n'}]",0,859317,c7255e95e3e1938d4314c54797b3407acac1b8b7,21,1,1,4523,,,0,"Move scheduler-specific code to the scheduler

Move code only used by the scheduler to
scheduler/sched_utils.  This follows the same
pattern used in api_utils and volume_utils.

Benefits: unneeded scheduler code not loaded by
api/volume services, less code needs to import
cinder.utils

Change-Id: I6d59d091d60c3f2bd99c1619a93ad0783f8d994e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/17/859317/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/scheduler/sched_utils.py', 'cinder/scheduler/weights/capacity.py', 'cinder/scheduler/filters/capacity_filter.py', 'mypy-files.txt', 'cinder/tests/unit/test_utils.py', 'cinder/utils.py', 'cinder/scheduler/host_manager.py']",7,c7255e95e3e1938d4314c54797b3407acac1b8b7,,from cinder.scheduler import sched_utils sched_utils.calculate_max_over_subscription_ratio( ratio = sched_utils.calculate_max_over_subscription_ratio( virtual_free = sched_utils.calculate_virtual_free_capacity(,from cinder import utils utils.calculate_max_over_subscription_ratio( ratio = utils.calculate_max_over_subscription_ratio( virtual_free = utils.calculate_virtual_free_capacity(,232,216
openstack%2Frequirements~stable%2Fwallaby~Idb2831be8d64503e411a986038b8ced9113e7bb2,openstack/requirements,stable/wallaby,Idb2831be8d64503e411a986038b8ced9113e7bb2,update constraint for stevedore to new release 3.3.2,MERGED,2022-10-13 10:44:32.000000000,2022-10-14 18:42:54.000000000,2022-10-14 18:42:54.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-10-13 10:44:32.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b8b8783681801d1a9ba4814e77bfa6f786f33031', 'message': 'update constraint for stevedore to new release 3.3.2\n\nmeta: version: 3.3.2\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Stephen Finucane <sfinucan@redhat.com>\nmeta: release:Commit: Stephen Finucane <sfinucan@redhat.com>\nmeta: release:Change-Id: I32aa732a7402114509535e830e747f2daba39d5c\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nChange-Id: Idb2831be8d64503e411a986038b8ced9113e7bb2\n'}]",1,861161,b8b8783681801d1a9ba4814e77bfa6f786f33031,11,3,1,11131,,,0,"update constraint for stevedore to new release 3.3.2

meta: version: 3.3.2
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Stephen Finucane <sfinucan@redhat.com>
meta: release:Commit: Stephen Finucane <sfinucan@redhat.com>
meta: release:Change-Id: I32aa732a7402114509535e830e747f2daba39d5c
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
Change-Id: Idb2831be8d64503e411a986038b8ced9113e7bb2
",git fetch https://review.opendev.org/openstack/requirements refs/changes/61/861161/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b8b8783681801d1a9ba4814e77bfa6f786f33031,new-release,stevedore===3.3.2,stevedore===3.3.1,1,1
openstack%2Frequirements~stable%2Fzed~I56640148852474f9455e1a58020a061acb9ddc2d,openstack/requirements,stable/zed,I56640148852474f9455e1a58020a061acb9ddc2d,update constraint for stevedore to new release 4.0.1,MERGED,2022-10-13 10:35:48.000000000,2022-10-14 18:42:51.000000000,2022-10-14 18:42:51.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-10-13 10:35:48.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/05c0a443f92263966871a4398fc6b2185491e467', 'message': 'update constraint for stevedore to new release 4.0.1\n\nmeta: version: 4.0.1\nmeta: diff-start: -\nmeta: series: zed\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Stephen Finucane <sfinucan@redhat.com>\nmeta: release:Commit: Stephen Finucane <sfinucan@redhat.com>\nmeta: release:Change-Id: I85ae1446bacea2612ee6a9d7c30e6d67bcf99960\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I56640148852474f9455e1a58020a061acb9ddc2d\n'}]",1,861159,05c0a443f92263966871a4398fc6b2185491e467,11,3,1,11131,,,0,"update constraint for stevedore to new release 4.0.1

meta: version: 4.0.1
meta: diff-start: -
meta: series: zed
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Stephen Finucane <sfinucan@redhat.com>
meta: release:Commit: Stephen Finucane <sfinucan@redhat.com>
meta: release:Change-Id: I85ae1446bacea2612ee6a9d7c30e6d67bcf99960
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I56640148852474f9455e1a58020a061acb9ddc2d
",git fetch https://review.opendev.org/openstack/requirements refs/changes/59/861159/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,05c0a443f92263966871a4398fc6b2185491e467,new-release,stevedore===4.0.1,stevedore===4.0.0,1,1
openstack%2Fkayobe~stable%2Fxena~I4c3afb71600781dffe8072303d775cbfad16cbac,openstack/kayobe,stable/xena,I4c3afb71600781dffe8072303d775cbfad16cbac,Update to latest CentOS Stream 8 cloud image,MERGED,2022-09-30 12:45:04.000000000,2022-10-14 18:28:07.000000000,2022-10-14 18:27:00.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-30 12:45:04.000000000', 'files': ['etc/kayobe/infra-vms.yml', 'ansible/group_vars/all/infra-vms', 'ansible/group_vars/all/seed-vm', 'releasenotes/notes/update-centos-cloud-image-20220913-4862bfdc89f8de3a.yaml', 'etc/kayobe/seed-vm.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a842bf3374891946b624ab1e8e27ed47447fc5ab', 'message': 'Update to latest CentOS Stream 8 cloud image\n\nChange-Id: I4c3afb71600781dffe8072303d775cbfad16cbac\n(cherry picked from commit 0db7684428d04dc8b5c24905ca3ff52ec6e63bd9)\n'}]",1,859983,a842bf3374891946b624ab1e8e27ed47447fc5ab,8,2,1,15197,,,0,"Update to latest CentOS Stream 8 cloud image

Change-Id: I4c3afb71600781dffe8072303d775cbfad16cbac
(cherry picked from commit 0db7684428d04dc8b5c24905ca3ff52ec6e63bd9)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/83/859983/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/infra-vms.yml', 'ansible/group_vars/all/infra-vms', 'ansible/group_vars/all/seed-vm', 'releasenotes/notes/update-centos-cloud-image-20220913-4862bfdc89f8de3a.yaml', 'etc/kayobe/seed-vm.yml']",5,a842bf3374891946b624ab1e8e27ed47447fc5ab,,"# ""https://cloud.centos.org/centos/8-stream/x86_64/images/CentOS-Stream-GenericCloud-8-20220913.0.x86_64.qcow2""","# ""https://cloud.centos.org/centos/8-stream/x86_64/images/CentOS-Stream-GenericCloud-8-20210210.0.x86_64.qcow2""",11,6
openstack%2Fpython-tripleoclient~master~I149932625fe474175e3842fa52adfea30021ab5c,openstack/python-tripleoclient,master,I149932625fe474175e3842fa52adfea30021ab5c,Execute undercloud preflight validations via VF binary,MERGED,2022-09-28 13:41:12.000000000,2022-10-14 17:55:34.000000000,2022-10-14 17:54:39.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-09-28 13:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d182f470df8095b7c996e620fa9fd316634fd1c9', 'message': 'Use /var/log/validations instead of tmp dir for undercloud_preflight checks\n\nThe undercloud_preflight checks should use the standard log path for\nTripleo Validations in order to get track of the executions in the history\nand get the log of the checks in /var/log so it can be used by the VF CLI\n\nChange-Id: I149932625fe474175e3842fa52adfea30021ab5c\n'}, {'number': 2, 'created': '2022-09-29 13:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b61cea50cab85e2a1f64a2bb6711d6f1b58c7e8e', 'message': ""Execute undercloud preflight validations via VF binary\n\nExecute undercloud preflight validations via the Validation Framework\nbinary instead of via the VF API avoid breakage when an API change is introduce.\nIts also fix some issues present in the previous implementation:\n- the validations was logged in /tmp instead of the /var/log/validations,\n  so the logs wasn't shown in the CLI history command.\n- the results of the executed validations was never checked, so when the\n  validations was failing, the undercloud install can still continue\n\nChange-Id: I149932625fe474175e3842fa52adfea30021ab5c\n""}, {'number': 3, 'created': '2022-10-14 11:41:27.000000000', 'files': ['tripleoclient/v1/undercloud_preflight.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/66156f7395a15bd29d8ec6ecf0cc29ff430b0a54', 'message': ""Execute undercloud preflight validations via VF binary\n\nExecute undercloud preflight validations via the Validation Framework\nbinary instead of via the VF API avoid breakage when an API change is introduce.\nIts also fix some issues present in the previous implementation:\n- the validations was logged in /tmp instead of the /var/log/validations,\n  so the logs wasn't shown in the CLI history command.\n- the results of the executed validations was never checked, so when the\n  validations was failing, the undercloud install can still continue\n\nChange-Id: I149932625fe474175e3842fa52adfea30021ab5c\n""}]",7,859608,66156f7395a15bd29d8ec6ecf0cc29ff430b0a54,18,5,3,16515,,,0,"Execute undercloud preflight validations via VF binary

Execute undercloud preflight validations via the Validation Framework
binary instead of via the VF API avoid breakage when an API change is introduce.
Its also fix some issues present in the previous implementation:
- the validations was logged in /tmp instead of the /var/log/validations,
  so the logs wasn't shown in the CLI history command.
- the results of the executed validations was never checked, so when the
  validations was failing, the undercloud install can still continue

Change-Id: I149932625fe474175e3842fa52adfea30021ab5c
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/08/859608/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud_preflight.py'],1,d182f470df8095b7c996e620fa9fd316634fd1c9,vf/log/path," actions = ValidationActions(log_path=constants.VALIDATIONS_LOG_BASEDIR) actions.run_validations( inventory='undercloud', validations_dir=constants.ANSIBLE_VALIDATION_DIR, validation_name=playbook_args['playbooks'])"," with utils.TempDirs() as tmp: actions = ValidationActions(log_path=tmp) actions.run_validations( inventory='undercloud', validations_dir=constants.ANSIBLE_VALIDATION_DIR, validation_name=playbook_args['playbooks'])",5,6
openstack%2Fmistral~stable%2Fpike~Icabf2bfcda8cecf3fe4e5d19b7376af92a2ab7d3,openstack/mistral,stable/pike,Icabf2bfcda8cecf3fe4e5d19b7376af92a2ab7d3,Remove jobs corresponds to obselete featuresets,ABANDONED,2021-09-16 13:24:57.000000000,2022-10-14 17:31:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-16 13:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/def5a2ca09f4f827f6f61fb9f724b40ee8269a21', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts.\nAnd this branch is also EOL for TripleO.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: Icabf2bfcda8cecf3fe4e5d19b7376af92a2ab7d3\n'}, {'number': 2, 'created': '2021-09-16 13:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/e4743dac4fb5421cbd8da87633740e121fed9d15', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts.\nAnd this branch is also EOL for TripleO.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: Icabf2bfcda8cecf3fe4e5d19b7376af92a2ab7d3\n'}, {'number': 3, 'created': '2021-09-16 13:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/b738bc6e68f1295a6aa8a53e5521ad74c17f77f2', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts.\nAnd this branch is also EOL for TripleO.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: Icabf2bfcda8cecf3fe4e5d19b7376af92a2ab7d3\n'}, {'number': 4, 'created': '2021-09-16 13:31:23.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/mistral/commit/fa0f643d32c976b1fb6fccd97e6688a610d7ec8b', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts.\nAnd this branch is also EOL for TripleO.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: Icabf2bfcda8cecf3fe4e5d19b7376af92a2ab7d3\n'}]",0,809375,fa0f643d32c976b1fb6fccd97e6688a610d7ec8b,9,1,4,20182,,,0,"Remove jobs corresponds to obselete featuresets

As we are removing the jobs which are using the obselete featuresets [1]
so removing those jobs from templates/layouts.
And this branch is also EOL for TripleO.

[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)

Change-Id: Icabf2bfcda8cecf3fe4e5d19b7376af92a2ab7d3
",git fetch https://review.opendev.org/openstack/mistral refs/changes/75/809375/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,def5a2ca09f4f827f6f61fb9f724b40ee8269a21,cleanup-featuresets-from-old-branches-stable/pike,<<<<<<< HEAD (4b078b Process all task batches in wf output evaluation)======= - mistral-devstack-kombu: branches: ^(?!stable/newton).*$ - mistral-tox-unit-mysql - mistral-tox-unit-postgresql - mistral-rally-task: voting: false - openstack-tox-lower-constraints: required-projects: - openstack/mistral-lib >>>>>>> CHANGE (c5d2bd Remove jobs corresponds to obselete featuresets)<<<<<<< HEAD (4b078b Process all task batches in wf output evaluation)======= - mistral-devstack - mistral-devstack-non-apache - mistral-tox-unit-mysql - mistral-tox-unit-postgresql - mistral-devstack-kombu - openstack-tox-lower-constraints >>>>>>> CHANGE (c5d2bd Remove jobs corresponds to obselete featuresets),,21,0
openstack%2Fdevstack~stable%2Fpike~Ic5db3e0dde190a1ae1d9bcb60406a69081b9f08c,openstack/devstack,stable/pike,Ic5db3e0dde190a1ae1d9bcb60406a69081b9f08c,Use stable constraint for pinned Tempest,ABANDONED,2020-01-19 02:14:32.000000000,2022-10-14 17:25:06.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-01-19 02:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0a58a1fc625ca288014dd0fe237b799747418181', 'message': 'Use stable constraint for pinned Tempest\n\nFor testing the EM branch, Tempest is pinned to\nstable branch release Tempest tag.\nExample: Iaefb5b90036eef67529f93bdf6675bd2d511c3c9\n\nIn pinned Tempest case we have to use the stable branch constraint\nnot master.\n\nChange-Id: Ic5db3e0dde190a1ae1d9bcb60406a69081b9f08c\n'}, {'number': 2, 'created': '2020-01-19 02:15:48.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/1b8d1780e064fd0e9582a10ad7c03ae7aa1572fa', 'message': 'Use stable constraint for pinned Tempest\n\nFor testing the EM branch, Tempest is pinned to\nstable branch release Tempest tag.\nExample: Iaefb5b90036eef67529f93bdf6675bd2d511c3c9\n\nIn pinned Tempest case we have to use the stable branch constraint\nnot master.\n\nRelated-bug: #1860033\nChange-Id: Ic5db3e0dde190a1ae1d9bcb60406a69081b9f08c\n'}]",0,703272,1b8d1780e064fd0e9582a10ad7c03ae7aa1572fa,6,2,2,8556,,,0,"Use stable constraint for pinned Tempest

For testing the EM branch, Tempest is pinned to
stable branch release Tempest tag.
Example: Iaefb5b90036eef67529f93bdf6675bd2d511c3c9

In pinned Tempest case we have to use the stable branch constraint
not master.

Related-bug: #1860033
Change-Id: Ic5db3e0dde190a1ae1d9bcb60406a69081b9f08c
",git fetch https://review.opendev.org/openstack/devstack refs/changes/72/703272/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,0a58a1fc625ca288014dd0fe237b799747418181,bug/1860033, # NOTE(gmann): Use branch constraint because Tempest is pinned to the branch release instead of using master. tox -evenv-tempest -- pip install -c $REQUIREMENTS_DIR/upper-constraints.txt -r requirements.txt," # The requirements might be on a different branch, while tempest needs master requirements. (cd $REQUIREMENTS_DIR && git show origin/master:upper-constraints.txt) > u-c-m.txt tox -evenv-tempest -- pip install -c u-c-m.txt -r requirements.txt",2,3
openstack%2Fdevstack~stable%2Fpike~I01408f2f2959b0788fe712ac268a526502226ee9,openstack/devstack,stable/pike,I01408f2f2959b0788fe712ac268a526502226ee9,Pin nodeset as xenial for devstack unit test job,ABANDONED,2021-05-25 18:00:54.000000000,2022-10-14 17:24:58.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-25 18:00:54.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/7eaa8ce93e20f9bcb042253f00ba97b5cd594075', 'message': 'Pin nodeset as xenial for devstack unit test job\n\ndevstack-unit-tests job running on devstack stable/rocky\nbranch had no nodeset and use default one which is now xenial.\n\nThis commit explicitly pin the xenial nodeset on stable/rocky.\n\nNote: This is not backported from master as per stable policy because\nthis fix only needed on stable branch for CI jobs only no code change.\n\nChange-Id: I01408f2f2959b0788fe712ac268a526502226ee9\n(cherry picked from commit 77561e7e172daf9401b66ab4d076e7311acd24ed)\n'}]",0,793034,7eaa8ce93e20f9bcb042253f00ba97b5cd594075,12,4,1,8556,,,0,"Pin nodeset as xenial for devstack unit test job

devstack-unit-tests job running on devstack stable/rocky
branch had no nodeset and use default one which is now xenial.

This commit explicitly pin the xenial nodeset on stable/rocky.

Note: This is not backported from master as per stable policy because
this fix only needed on stable branch for CI jobs only no code change.

Change-Id: I01408f2f2959b0788fe712ac268a526502226ee9
(cherry picked from commit 77561e7e172daf9401b66ab4d076e7311acd24ed)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/34/793034/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7eaa8ce93e20f9bcb042253f00ba97b5cd594075,rocky-stable/queens-stable/pike, nodeset: ubuntu-xenial,,1,0
openstack%2Ftripleo-ansible~master~I69b135fd76883498d01e51851a337970a7987454,openstack/tripleo-ansible,master,I69b135fd76883498d01e51851a337970a7987454,tripleo_nova_compute: add for standalone roles,MERGED,2022-05-27 17:08:59.000000000,2022-10-14 17:24:17.000000000,2022-10-14 17:24:17.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 11604}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-27 17:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b01887e7bf0ae94ebc277a324f584b1a4f5fe59f', 'message': 'Add nova-compute standalone role\n\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2022-06-01 11:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d6ee5d5885441b065107e70798781372c5e97c04', 'message': 'Add nova-compute standalone role\n\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2022-06-01 13:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a95c4c7cfb2467994af2d29bc10e39d157b4e391', 'message': '[WIP] Add nova-compute standalone role\n\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2022-06-01 20:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/39327019cf6f21e7f8f091de3299f21c2f470c14', 'message': 'Add nova-compute standalone role\n\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2022-06-02 01:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/050dd10e263c1abfd4d64f81f9dfff54c33e1e2d', 'message': 'Add nova-compute standalone role\n\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 6, 'created': '2022-06-02 15:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/61b309aae500f7202619d3ddb56d9c2098a17414', 'message': 'Add nova-compute standalone role\n\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 7, 'created': '2022-06-02 16:03:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/694e2e4a3056aec53363ff456949f92613eb88b7', 'message': 'Add nova-compute standalone role\n\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 8, 'created': '2022-06-02 16:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d7055139e28da7502197baffb3de38139c0bca83', 'message': 'Add nova-compute standalone role\n\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 9, 'created': '2022-06-02 21:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/51b84e02ff84034604768f6c399d9e028dd01c68', 'message': 'Add nova-compute standalone role\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 10, 'created': '2022-06-09 21:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9d30de95cbd03ec17fed6faedb353ed4aada93cf', 'message': 'Add nova-compute standalone role\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 11, 'created': '2022-06-10 10:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5e5591fafdd1c91c8cb74ca35ef312381d9ff765', 'message': 'Add nova-compute standalone role\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 12, 'created': '2022-06-10 10:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e3611146ba41b6952c29642e28cf7f755f32200a', 'message': 'Add nova-compute standalone role\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 13, 'created': '2022-06-13 16:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7687c9758b3e57a4756f66a215028f666b61df9e', 'message': 'Add nova-compute standalone role\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 14, 'created': '2022-06-17 17:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/28656317793111a2240166329f5b3f5510283c31', 'message': 'Add nova-compute standalone role\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 15, 'created': '2022-06-21 12:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/15f3573fe3ed0351b2902f3a8f18aa1c297cd44d', 'message': 'Add nova-compute standalone role\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 16, 'created': '2022-06-23 13:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/da48e2f65a091a7dc4b272a32e92fa2e2b1c701e', 'message': 'Add nova-compute standalone role\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 17, 'created': '2022-06-27 15:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c51a5f3ba7d17e07d346b00e5ac82eb9414f6810', 'message': 'Add nova-compute standalone role\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 18, 'created': '2022-06-28 15:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ffc1a83d56faff8a2ef78b9acccbf5afda192312', 'message': 'Add nova-compute standalone role\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 19, 'created': '2022-06-28 16:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/57816d76f3c4a8b513060999560fd2c6d6ff8b06', 'message': 'Add nova-compute standalone role\n\nTBD: group ""flat tasks"" by virtual steps to match the expected\ntripleo stepX filters. So that when there is no step data inputs\n(i.e. it is being deployed outside of t-h-t), the tasks file use\na flat execution model. And if it has steps data passed in via role\nvars, consequent filtered include_tasks to be picked up based on that.\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 20, 'created': '2022-06-29 12:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/67c0e8432aa0f10c6f9493d809f3aafb6493a7c3', 'message': 'Add nova-compute standalone role\n\nTBD: group ""flat tasks"" by virtual steps to match the expected\ntripleo stepX filters. So that when there is no step data inputs\n(i.e. it is being deployed outside of t-h-t), the tasks file use\na flat execution model. And if it has steps data passed in via role\nvars, consequent filtered include_tasks to be picked up based on that.\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 21, 'created': '2022-06-29 14:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4989b07abeec0840fc44d868ce8d5e0d86fba3a0', 'message': 'Add nova-compute standalone role\n\nTBD: group ""flat tasks"" by virtual steps to match the expected\ntripleo stepX filters. So that when there is no step data inputs\n(i.e. it is being deployed outside of t-h-t), the tasks file use\na flat execution model. And if it has steps data passed in via role\nvars, consequent filtered include_tasks to be picked up based on that.\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 22, 'created': '2022-07-06 15:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/30f55e0e46bed2cbb3dd2c2f4794c403be61f231', 'message': 'tripleo_nova_compute: add for standalone roles\n\nTBD: group ""flat tasks"" by virtual steps to match the expected\ntripleo stepX filters. So that when there is no step data inputs\n(i.e. it is being deployed outside of t-h-t), the tasks file use\na flat execution model. And if it has steps data passed in via role\nvars, consequent filtered include_tasks to be picked up based on that.\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 23, 'created': '2022-07-08 15:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/17c63751e99475f89b92888f2f7bcc6d3116c4b9', 'message': 'tripleo_nova_compute: add for standalone roles\n\nTBD: group ""flat tasks"" by virtual steps to match the expected\ntripleo stepX filters. So that when there is no step data inputs\n(i.e. it is being deployed outside of t-h-t), the tasks file use\na flat execution model. And if it has steps data passed in via role\nvars, consequent filtered include_tasks to be picked up based on that.\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 24, 'created': '2022-08-03 11:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2811f3901f19149a8b6ac41ded2181b845ef379a', 'message': 'tripleo_nova_compute: add for standalone roles\n\nTBD: group ""flat tasks"" by virtual steps to match the expected\ntripleo stepX filters. So that when there is no step data inputs\n(i.e. it is being deployed outside of t-h-t), the tasks file use\na flat execution model. And if it has steps data passed in via role\nvars, consequent filtered include_tasks to be picked up based on that.\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 25, 'created': '2022-08-09 14:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6559fa028a5acd153bcede8b51d4bc5ec763ce39', 'message': 'tripleo_nova_compute: add for standalone roles\n\nTBD: group ""flat tasks"" by virtual steps to match the expected\ntripleo stepX filters. So that when there is no step data inputs\n(i.e. it is being deployed outside of t-h-t), the tasks file use\na flat execution model. And if it has steps data passed in via role\nvars, consequent filtered include_tasks to be picked up based on that.\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 26, 'created': '2022-08-16 14:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8fe793274ba5554f125394c2a63eebf140036041', 'message': 'tripleo_nova_compute: add for standalone roles\n\nTBD: group ""flat tasks"" by virtual steps to match the expected\ntripleo stepX filters. So that when there is no step data inputs\n(i.e. it is being deployed outside of t-h-t), the tasks file use\na flat execution model. And if it has steps data passed in via role\nvars, consequent filtered include_tasks to be picked up based on that.\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 27, 'created': '2022-08-16 15:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/29246d2c33bf9c203be5e562d178f34bf104e1ee', 'message': 'tripleo_nova_compute: add for standalone roles\n\nTBD: group ""flat tasks"" by virtual steps to match the expected\ntripleo stepX filters. So that when there is no step data inputs\n(i.e. it is being deployed outside of t-h-t), the tasks file use\na flat execution model. And if it has steps data passed in via role\nvars, consequent filtered include_tasks to be picked up based on that.\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 28, 'created': '2022-08-16 16:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ee808cc675136d0f45e21526bac086b195ba88c7', 'message': 'tripleo_nova_compute: add for standalone roles\n\nTBD: group ""flat tasks"" by virtual steps to match the expected\ntripleo stepX filters. So that when there is no step data inputs\n(i.e. it is being deployed outside of t-h-t), the tasks file use\na flat execution model. And if it has steps data passed in via role\nvars, consequent filtered include_tasks to be picked up based on that.\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 29, 'created': '2022-08-16 16:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8332c2ef3fb5b6506bb89302f7d3c1d48ced9a9b', 'message': 'tripleo_nova_compute: add for standalone roles\n\nTBD: group ""flat tasks"" by virtual steps to match the expected\ntripleo stepX filters. So that when there is no step data inputs\n(i.e. it is being deployed outside of t-h-t), the tasks file use\na flat execution model. And if it has steps data passed in via role\nvars, consequent filtered include_tasks to be picked up based on that.\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 30, 'created': '2022-08-19 12:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4604b6f788259d8396fd44edf80ee3ecfadcdeb1', 'message': 'tripleo_nova_compute: add for standalone roles\n\nTBD: group ""flat tasks"" by virtual steps to match the expected\ntripleo stepX filters. So that when there is no step data inputs\n(i.e. it is being deployed outside of t-h-t), the tasks file use\na flat execution model. And if it has steps data passed in via role\nvars, consequent filtered include_tasks to be picked up based on that.\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 31, 'created': '2022-08-26 12:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c7f93f4ee4a07c09eb8a78ee11e4f12863305528', 'message': 'tripleo_nova_compute: add for standalone roles\n\nTBD: group ""flat tasks"" by virtual steps to match the expected\ntripleo stepX filters. So that when there is no step data inputs\n(i.e. it is being deployed outside of t-h-t), the tasks file use\na flat execution model. And if it has steps data passed in via role\nvars, consequent filtered include_tasks to be picked up based on that.\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 32, 'created': '2022-08-26 18:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c14b53cb7c72159d7ce9fccdbcda8506d2ec978e', 'message': 'tripleo_nova_compute: add for standalone roles\n\nTBD: group ""flat tasks"" by virtual steps to match the expected\ntripleo stepX filters. So that when there is no step data inputs\n(i.e. it is being deployed outside of t-h-t), the tasks file use\na flat execution model. And if it has steps data passed in via role\nvars, consequent filtered include_tasks to be picked up based on that.\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 33, 'created': '2022-08-26 19:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/31d003e180e8c67aa7801853436e600dedeef0f9', 'message': 'tripleo_nova_compute: add for standalone roles\n\nTBD: group ""flat tasks"" by virtual steps to match the expected\ntripleo stepX filters. So that when there is no step data inputs\n(i.e. it is being deployed outside of t-h-t), the tasks file use\na flat execution model. And if it has steps data passed in via role\nvars, consequent filtered include_tasks to be picked up based on that.\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 34, 'created': '2022-08-29 14:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/eb98a789afff843e27778c0ddc3f7f8a6dd5451b', 'message': 'tripleo_nova_compute: add for standalone roles\n\nTBD: group ""flat tasks"" by virtual steps to match the expected\ntripleo stepX filters. So that when there is no step data inputs\n(i.e. it is being deployed outside of t-h-t), the tasks file use\na flat execution model. And if it has steps data passed in via role\nvars, consequent filtered include_tasks to be picked up based on that.\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 35, 'created': '2022-08-29 14:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/14cbaf84a2843fb566ad91ea89b7bb1dcf4c9cf6', 'message': 'tripleo_nova_compute: add for standalone roles\n\nTBD: group ""flat tasks"" by virtual steps to match the expected\ntripleo stepX filters. So that when there is no step data inputs\n(i.e. it is being deployed outside of t-h-t), the tasks file use\na flat execution model. And if it has steps data passed in via role\nvars, consequent filtered include_tasks to be picked up based on that.\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 36, 'created': '2022-08-29 14:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/204c01fe1bd6c3e664cdf6d863d16e8f48ef1f33', 'message': 'tripleo_nova_compute: add for standalone roles\n\nTBD: group ""flat tasks"" by virtual steps to match the expected\ntripleo stepX filters. So that when there is no step data inputs\n(i.e. it is being deployed outside of t-h-t), the tasks file use\na flat execution model. And if it has steps data passed in via role\nvars, consequent filtered include_tasks to be picked up based on that.\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 37, 'created': '2022-08-31 11:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d092f06757edb603432943759a816954f30fb0f1', 'message': 'tripleo_nova_compute: add for standalone roles\n\nTBD: group ""flat tasks"" by virtual steps to match the expected\ntripleo stepX filters. So that when there is no step data inputs\n(i.e. it is being deployed outside of t-h-t), the tasks file use\na flat execution model. And if it has steps data passed in via role\nvars, consequent filtered include_tasks to be picked up based on that.\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 38, 'created': '2022-08-31 14:16:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/51368aa4673731cebdfb3c82c4577de985b0c228', 'message': 'tripleo_nova_compute: add for standalone roles\n\nTBD: group ""flat tasks"" by virtual steps to match the expected\ntripleo stepX filters. So that when there is no step data inputs\n(i.e. it is being deployed outside of t-h-t), the tasks file use\na flat execution model. And if it has steps data passed in via role\nvars, consequent filtered include_tasks to be picked up based on that.\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 39, 'created': '2022-09-02 13:44:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d380515e0c70d74812ad3b331d7ffa8c5f4315da', 'message': 'tripleo_nova_compute: add for standalone roles\n\nTBD: group ""flat tasks"" by virtual steps to match the expected\ntripleo stepX filters. So that when there is no step data inputs\n(i.e. it is being deployed outside of t-h-t), the tasks file use\na flat execution model. And if it has steps data passed in via role\nvars, consequent filtered include_tasks to be picked up based on that.\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 40, 'created': '2022-09-09 15:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5ddbd5c3118efc06ea6a473e6d16514272e23949', 'message': 'tripleo_nova_compute: add for standalone roles\n\nTBD: group ""flat tasks"" by virtual steps to match the expected\ntripleo stepX filters. So that when there is no step data inputs\n(i.e. it is being deployed outside of t-h-t), the tasks file use\na flat execution model. And if it has steps data passed in via role\nvars, consequent filtered include_tasks to be picked up based on that.\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 41, 'created': '2022-09-12 12:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bf7b885600c7e42e3c45541aff914c4eee49099c', 'message': 'tripleo_nova_compute: add for standalone roles\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 42, 'created': '2022-09-15 12:23:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/01e154b47ef70022bab4bc33830742c5f1eb0251', 'message': 'tripleo_nova_compute: add for standalone roles\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 43, 'created': '2022-09-22 14:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/44671760001115c343639963a4031956be5aafae', 'message': 'tripleo_nova_compute: add for standalone roles\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 44, 'created': '2022-09-29 00:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/687e2ed905775d72b0d749857173fa57f2c4dccb', 'message': 'tripleo_nova_compute: add for standalone roles\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 45, 'created': '2022-09-30 15:44:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7ea774138423a0b20e9480260ef4b3bcd1d51c30', 'message': 'tripleo_nova_compute: add for standalone roles\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 46, 'created': '2022-10-06 13:30:33.000000000', 'files': ['tripleo_ansible/roles/tripleo_nova_compute/tasks/logging-install.yml', 'tripleo_ansible/roles/tripleo_nova_compute/tasks/install.yml', 'tripleo_ansible/roles/tripleo_nova_compute/templates/nova_compute.yaml.j2', 'tripleo_ansible/roles/tripleo_nova_compute/templates/nova_compute_statedir_owner.yaml.j2', 'tripleo_ansible/roles/tripleo_nova_compute/templates/nova_compute_init_log.yaml.j2', 'tripleo_ansible/roles/tripleo_nova_compute/tasks/scale.yml', 'tripleo_ansible/roles/tripleo_nova_compute/tasks/main.yml', 'tripleo_ansible/roles/tripleo_nova_compute/tasks/logging-run.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_nova_compute/tasks/run.yml', 'tripleo_ansible/roles/tripleo_nova_compute/files/nova_statedir_ownership.py', 'tripleo_ansible/roles/tripleo_nova_compute/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_nova_compute/tasks/update.yml', 'tripleo_ansible/roles/tripleo_nova_compute/files/nova_wait_for_compute_service.yaml', 'tripleo_ansible/roles/tripleo_nova_compute/vars/main.yml', 'tripleo_ansible/roles/tripleo_nova_compute/defaults/main.yml', 'tripleo_ansible/roles/tripleo_nova_compute/tasks/validate.yml', 'tripleo_ansible/roles/tripleo_nova_compute/tasks/configure.yml', 'tripleo_ansible/roles/tripleo_nova_compute/tasks/externaldeploy.yml', 'tripleo_ansible/roles/tripleo_nova_compute/templates/kolla_config/nova_compute.yaml.j2', 'tripleo_ansible/roles/tripleo_nova_compute/templates/nova_wait_for_compute_service.yaml.j2', 'tripleo_ansible/roles/tripleo_nova_compute/files/check-run-nova-compute', 'tripleo_ansible/roles/tripleo_nova_compute/meta/main.yml', 'tripleo_ansible/roles/tripleo_nova_compute/handlers/main.yml', 'tripleo_ansible/roles/tripleo_nova_compute/files/tests/test_nova_statedir_ownership.py', 'tripleo_ansible/roles/tripleo_nova_compute/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_container_standalone/defaults/main.yml', 'tripleo_ansible/roles/tripleo_nova_compute/files/.gitkeep', 'tripleo_ansible/roles/tripleo_nova_compute/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_nova_compute/tasks/upgrade.yml', 'tripleo_ansible/roles/tripleo_nova_compute/files/delay-nova-compute'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1917e9e192f4205587f6f60c28483f8a8c29819a', 'message': 'tripleo_nova_compute: add for standalone roles\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nChange-Id: I69b135fd76883498d01e51851a337970a7987454\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",105,843659,1917e9e192f4205587f6f60c28483f8a8c29819a,214,7,46,6926,,,0,"tripleo_nova_compute: add for standalone roles

Co-Authored-By: James Slagle <jslagle@redhat.com>
Change-Id: I69b135fd76883498d01e51851a337970a7987454
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/59/843659/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_nova_compute/vars/main.yml', 'tripleo_ansible/roles/tripleo_nova_compute/defaults/main.yml', 'tripleo_ansible/roles/tripleo_nova_compute/files/nova_compute.yaml', 'tripleo_ansible/roles/tripleo_nova_compute/tasks/update.yaml', 'tripleo_ansible/roles/tripleo_nova_compute/tasks/install.yaml', 'tripleo_ansible/roles/tripleo_nova_compute/tasks/upgrade.yaml', 'tripleo_ansible/roles/tripleo_nova_compute/tasks/scale.yaml', 'tripleo_ansible/roles/tripleo_nova_compute/templates/nova_compute.yaml.j2', 'tripleo_ansible/roles/tripleo_nova_compute/files/check-run-nova-compute', 'tripleo_ansible/roles/tripleo_nova_compute/meta/main.yml', 'tripleo_ansible/roles/tripleo_nova_compute/tasks/main.yml', 'tripleo_ansible/roles/tripleo_nova_compute/handlers/main.yml', 'tripleo_ansible/roles/tripleo_nova_compute/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_nova_compute/tasks/configure.yaml', 'tripleo_ansible/roles/tripleo_nova_compute/files/.gitkeep', 'tripleo_ansible/roles/tripleo_nova_compute/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_nova_compute/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_nova_compute/tasks/run.yaml', 'tripleo_ansible/roles/tripleo_nova_compute/files/delay-nova-compute']",19,b01887e7bf0ae94ebc277a324f584b1a4f5fe59f,standalone-roles,"#!/usr/libexec/platform-python """""" This wrapper was created to add an optional delay to the startup of nova-compute. We know that instances will fail to boot, after a compute reboot, if ceph is not healthy. Ideally, we would poll ceph to get its health, but it's not guaranteed that the compute node will have access to the keys. """""" import os import sys import time import logging import argparse parser = argparse.ArgumentParser(description='Process some integers.') parser.add_argument('--config-file', dest='nova_config', action='store', default=""/etc/nova/nova.conf"", help='path to nova configuration (default: /etc/nova/nova.conf)') parser.add_argument('--nova-binary', dest='nova_binary', action='store', default=""/usr/bin/nova-compute"", help='path to nova compute binary (default: /usr/bin/nova-compute)') parser.add_argument('--delay', dest='delay', action='store', default=120, type=int, help='Number of seconds to wait until nova-compute is started') parser.add_argument('--state-file', dest='state_file', action='store', default=""/run/nova-compute-delayed"", help='file exists if we already delayed nova-compute startup'\ '(default: /run/nova-compute-delayed)') sections = {} (args, remaining) = parser.parse_known_args(sys.argv) real_args = [args.nova_binary, '--config-file', args.nova_config] real_args.extend(remaining[1:]) if not os.path.isfile(args.state_file): logging.info(""Delaying nova-compute startup by %s seconds"" % args.delay) time.sleep(args.delay) open(args.state_file, 'a').close() logging.info(""Executing %s"" % real_args) os.execv(args.nova_binary, real_args) ",,979,0
openstack%2Fnetworking-ovn~stable%2Ftrain~Iddd96fd9015230b3dd75aa2182055cf43eb608c1,openstack/networking-ovn,stable/train,Iddd96fd9015230b3dd75aa2182055cf43eb608c1,Ensure lbs are properly configured for router gateway set/unset,MERGED,2022-10-10 06:17:35.000000000,2022-10-14 17:08:31.000000000,2022-10-14 17:07:34.000000000,"[{'_account_id': 4694}, {'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 30396}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-10-10 06:17:35.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b55d9c550d5c206b040bf2467c11d06ea861b8fc', 'message': ""Ensure lbs are properly configured for router gateway set/unset\n\nBefore adding support for lbs with VIPs on the provider networks,\nthere was no need to react to gateway chassis creation events, and\nnothing was done for its deletion. However, after adding the support\nfor that, there is a need of properly handling the creation event\nfor that type of port.\n\nFor the loadbalancer VIPs on the provider network, processing the\nevent and triggering the lb_creat_lrp_assoc_handler means that the\ninformation about the logical router will be added, i.e., the router\nis added to the loadbalancer external_ids as a lr_ref, while the\nloadbalancer is also added into the logical_router object\n(loadbalancer entry). In addition, the lb is also added to the logical\nswitches connected to the router.\n\nFor the loadbalancer VIPs on tenant networks (which should not be\naffected by the gateway port creation/deletion), this patch ensures\nthe lb is not added to the logical switch representing the provider\nnetwork that is connected to the router. Therefore differentiating\nbetween lrp ports which has gateway_chassis and the ones that don't,\ni.e., adding the lb to the switch when the lrp port is the one\nconnecting a subnet with the router, and not doing so when it is the\ngateway port for the router to the provider network.\n\nCloses-Bug: #1991509\n\n(manually cherry picked from commit\nd889812f3c2deaf630892d65c90cdbafd4435d21)\n\nChange-Id: Iddd96fd9015230b3dd75aa2182055cf43eb608c1\n(cherry picked from commit d889812f3c2deaf630892d65c90cdbafd4435d21)\n""}]",7,860777,b55d9c550d5c206b040bf2467c11d06ea861b8fc,26,6,1,23567,,,0,"Ensure lbs are properly configured for router gateway set/unset

Before adding support for lbs with VIPs on the provider networks,
there was no need to react to gateway chassis creation events, and
nothing was done for its deletion. However, after adding the support
for that, there is a need of properly handling the creation event
for that type of port.

For the loadbalancer VIPs on the provider network, processing the
event and triggering the lb_creat_lrp_assoc_handler means that the
information about the logical router will be added, i.e., the router
is added to the loadbalancer external_ids as a lr_ref, while the
loadbalancer is also added into the logical_router object
(loadbalancer entry). In addition, the lb is also added to the logical
switches connected to the router.

For the loadbalancer VIPs on tenant networks (which should not be
affected by the gateway port creation/deletion), this patch ensures
the lb is not added to the logical switch representing the provider
network that is connected to the router. Therefore differentiating
between lrp ports which has gateway_chassis and the ones that don't,
i.e., adding the lb to the switch when the lrp port is the one
connecting a subnet with the router, and not doing so when it is the
gateway port for the router to the provider network.

Closes-Bug: #1991509

(manually cherry picked from commit
d889812f3c2deaf630892d65c90cdbafd4435d21)

Change-Id: Iddd96fd9015230b3dd75aa2182055cf43eb608c1
(cherry picked from commit d889812f3c2deaf630892d65c90cdbafd4435d21)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/77/860777/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py']",2,b55d9c550d5c206b040bf2467c11d06ea861b8fc,train," 'network': self.network, 'gateway_chassis': []}, expected = { 'info': {'router': self.router, 'network': self.network, 'gateway_chassis': ['temp-gateway-chassis']}, 'type': 'lb_create_lrp_assoc'} self.mock_add_request.assert_called_once_with(expected) lrp = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'gateway_chassis': []}) 'network': self.network, 'gateway_chassis': []}, 'gateway_chassis': [], 'gateway_chassis': [], 'gateway_chassis': 'fake-chassis', 'gateway_chassis': 'fake-chassis',"," 'network': self.network}, self.mock_add_request.assert_not_called() lrp = fakes.FakeOvsdbRow.create_one_ovsdb_row() 'network': self.network},",29,6
openstack%2Fansible-collections-openstack~master~I009c8515e853baf4df3455fab19571f28e02ab46,openstack/ansible-collections-openstack,master,I009c8515e853baf4df3455fab19571f28e02ab46,Bump minimum required openstacksdk release to 0.102.0,MERGED,2022-10-14 10:09:12.000000000,2022-10-14 17:08:28.000000000,2022-10-14 17:08:28.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32962}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-10-14 10:09:12.000000000', 'files': ['requirements.txt', 'tests/constraints-openstacksdk-1.x.x.txt', 'plugins/module_utils/openstack.py', 'plugins/doc_fragments/openstack.py', 'README.md'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0ade33eb6fc22cd86ccbc289f40a668cf5281f8e', 'message': ""Bump minimum required openstacksdk release to 0.102.0\n\nLatest release candidate 0.102.0 of openstacksdk's first major release\nbrings new features and bug fixes, e.g. for floating ips [1], [2].\n\n[1] https://review.opendev.org/c/openstack/openstacksdk/+/859672\n[2] https://github.com/openstack/openstacksdk/commit/2535ba7a28ae081f064ae20f9ddb19f48a973625\n\nChange-Id: I009c8515e853baf4df3455fab19571f28e02ab46\n""}]",0,861329,0ade33eb6fc22cd86ccbc289f40a668cf5281f8e,8,4,1,32962,,,0,"Bump minimum required openstacksdk release to 0.102.0

Latest release candidate 0.102.0 of openstacksdk's first major release
brings new features and bug fixes, e.g. for floating ips [1], [2].

[1] https://review.opendev.org/c/openstack/openstacksdk/+/859672
[2] https://github.com/openstack/openstacksdk/commit/2535ba7a28ae081f064ae20f9ddb19f48a973625

Change-Id: I009c8515e853baf4df3455fab19571f28e02ab46
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/29/861329/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tests/constraints-openstacksdk-1.x.x.txt', 'plugins/module_utils/openstack.py', 'plugins/doc_fragments/openstack.py', 'README.md']",5,0ade33eb6fc22cd86ccbc289f40a668cf5281f8e,bump-sdk-version,"pip install ""ansible>=2.9"" ""openstacksdk>=0.102.0""","pip install ""ansible>=2.9"" ""openstacksdk>=0.101.0""",5,5
openstack%2Fkuryr-kubernetes~master~Ied04e93bbe16e7a40213c35f0c6775bbcbf514ac,openstack/kuryr-kubernetes,master,Ied04e93bbe16e7a40213c35f0c6775bbcbf514ac,Pin kubectl to the installed kubernetes version.,MERGED,2022-10-12 12:11:53.000000000,2022-10-14 16:32:15.000000000,2022-10-14 16:31:08.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2022-10-12 12:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/63c14bd2e67489e5c1c18ea6753f346274d43d5f', 'message': 'Pin kubectl to the installed kubernetes version.\n\nDuring devstack deployment it can happen, that changing desired version\nof the kubernetes, kubectl will be intalled with different version. This\npatch make sure, that all of the installed kubernetes components are\ncoherent.\n\nChange-Id: Ied04e93bbe16e7a40213c35f0c6775bbcbf514ac\n'}, {'number': 2, 'created': '2022-10-12 12:12:38.000000000', 'files': ['devstack/lib/kubernetes'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d300cb65e6534256c9377aa918ed6dcbb47fba08', 'message': 'Pin kubectl to the installed kubernetes version.\n\nDuring devstack deployment it can happen, that changing desired version\nof the kubernetes, kubectl will be intalled with different version. This\npatch make sure, that all of the installed kubernetes components are\ncoherent.\n\nCloses-Bug: #1991773\nChange-Id: Ied04e93bbe16e7a40213c35f0c6775bbcbf514ac\n'}]",2,861081,d300cb65e6534256c9377aa918ed6dcbb47fba08,11,4,2,13692,,,0,"Pin kubectl to the installed kubernetes version.

During devstack deployment it can happen, that changing desired version
of the kubernetes, kubectl will be intalled with different version. This
patch make sure, that all of the installed kubernetes components are
coherent.

Closes-Bug: #1991773
Change-Id: Ied04e93bbe16e7a40213c35f0c6775bbcbf514ac
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/81/861081/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/kubernetes'],1,63c14bd2e67489e5c1c18ea6753f346274d43d5f,pin-kubectl-ver," # a dependency, although let's pin it to the k8s version as well. kubeadm=""${KURYR_KUBERNETES_VERSION}-00"" \ kubectl=""${KURYR_KUBERNETES_VERSION}-00"""," # a dependency kubeadm=""${KURYR_KUBERNETES_VERSION}-00""",3,2
openstack%2Fcharm-cinder-lvm~master~I5eb179aa1f00c97590ed6131f85bd1d657deb5fe,openstack/charm-cinder-lvm,master,I5eb179aa1f00c97590ed6131f85bd1d657deb5fe,Updates for zed stable branch creation,ABANDONED,2022-10-14 16:03:48.000000000,2022-10-14 16:24:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-10-14 16:03:48.000000000', 'files': ['requirements.txt', 'src/tests/bundles/jammy-yoga.yaml', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock', 'src/tests/bundles/jammy-zed.yaml', 'src/tests/bundles/kinetic-zed.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-lvm/commit/d4d0eaf7a9344307d4f7251c9e17d93f0bc21dc9', 'message': 'Updates for zed stable branch creation\n\n- Set default branch for git review/gerrit to stable/zed\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n- (classic charms) make sync\n- (reactive: not reactive plugin): lock charm-tools < 3.1\n- (reactive: with reactive plugin): lock charm snap to 3.x/stable\n\nChange-Id: I5eb179aa1f00c97590ed6131f85bd1d657deb5fe\n'}]",0,861410,d4d0eaf7a9344307d4f7251c9e17d93f0bc21dc9,3,1,1,20870,,,0,"Updates for zed stable branch creation

- Set default branch for git review/gerrit to stable/zed
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file
- (classic charms) make sync
- (reactive: not reactive plugin): lock charm-tools < 3.1
- (reactive: with reactive plugin): lock charm snap to 3.x/stable

Change-Id: I5eb179aa1f00c97590ed6131f85bd1d657deb5fe
",git fetch https://review.opendev.org/openstack/charm-cinder-lvm refs/changes/10/861410/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'src/tests/bundles/jammy-yoga.yaml', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock', 'src/tests/bundles/jammy-zed.yaml', 'src/tests/bundles/kinetic-zed.yaml']",8,d4d0eaf7a9344307d4f7251c9e17d93f0bc21dc9,zed-stable-updates, channel: 8.0/edge channel: 3.9/edge channel: zed/edge channel: 8.0/edge channel: zed/edge channel: 8.0/edge, channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge,199,23
openstack%2Fopenstack-ansible-os_tempest~stable%2Fqueens~I021015709c8254ff5936ad08d61e1e02ab58c44f,openstack/openstack-ansible-os_tempest,stable/queens,I021015709c8254ff5936ad08d61e1e02ab58c44f,Add provider_physical_network option to private network,ABANDONED,2021-02-24 08:18:02.000000000,2022-10-14 16:22:33.000000000,,"[{'_account_id': 8367}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 08:18:02.000000000', 'files': ['tasks/tempest_resources.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/dd1d88df02e5779025893837b5c4a72a87e85e0c', 'message': 'Add provider_physical_network option to private network\n\nThe vlan network provider, requires a physical network type, otherwise,\nit will fail\n\nConflicts:\n    tasks/tempest_resources.yml\n\nChange-Id: I021015709c8254ff5936ad08d61e1e02ab58c44f\n(cherry picked from commit 24969898114dffc792bfc23a15f60875f4a647cf)\n'}]",0,777311,dd1d88df02e5779025893837b5c4a72a87e85e0c,12,2,1,11975,,,0,"Add provider_physical_network option to private network

The vlan network provider, requires a physical network type, otherwise,
it will fail

Conflicts:
    tasks/tempest_resources.yml

Change-Id: I021015709c8254ff5936ad08d61e1e02ab58c44f
(cherry picked from commit 24969898114dffc792bfc23a15f60875f4a647cf)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/11/777311/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/tempest_resources.yml', 'defaults/main.yml']",2,dd1d88df02e5779025893837b5c4a72a87e85e0c,add_provider_network_option,"# If you choose vlan as private network provider type, you must set a physical # name for it # tempest_private_net_physical_name: ""private""",,4,0
openstack%2Ftripleo-quickstart-extras~master~I5d321918f0afe1f7db91eaa122085535eced7a60,openstack/tripleo-quickstart-extras,master,I5d321918f0afe1f7db91eaa122085535eced7a60,[DNM] testing,ABANDONED,2022-10-14 12:41:45.000000000,2022-10-14 16:13:39.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-10-14 12:41:45.000000000', 'files': ['roles/standalone-roles/tasks/compute_services_on_target_host.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ced1fd1aaf97d2e3bc263fadf740900191a1f525', 'message': '[DNM] testing\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I5d321918f0afe1f7db91eaa122085535eced7a60\n'}]",0,861371,ced1fd1aaf97d2e3bc263fadf740900191a1f525,4,2,1,12393,,,0,"[DNM] testing

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I5d321918f0afe1f7db91eaa122085535eced7a60
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/71/861371/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/standalone-roles/tasks/compute_services_on_target_host.yml'],1,ced1fd1aaf97d2e3bc263fadf740900191a1f525,dnm," -e neutron_public_interface_name=""{{ standalone_interface }}"" -e ctlplane_gateway_ip=""{{ undercloud_network_cidr|nthhost(1) }}""",,2,0
openstack%2Fironic-python-agent~master~I16039b46676f1a61b32ee7ca7e6d526e65829113,openstack/ironic-python-agent,master,I16039b46676f1a61b32ee7ca7e6d526e65829113,prioritize lsblk as a source of device serials,MERGED,2022-09-05 10:15:19.000000000,2022-10-14 16:04:09.000000000,2022-10-14 16:02:51.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-09-05 10:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/5ad9ef492f028631a7c3988cd5c60ba7063f35e6', 'message': 'add fallback logic for \'serial\' root device hint\n\nThe current way of prioritizing ID/DM_SERIAL_SHORT or ID/DM_SERIAL works\nin most cases but the udev values seem to be unreliable.\n\nThis commit implements a fallback procedure in case the serial\nnumber is not present in the default udev variables.\n\nThe fallback logic has 2 parts, the first part collects all\nthe serial numbers whenever IPA looks up the block device\ninformation. The second part of the process kicks in when\nthe a serial root device hint is used but the hint matching\nfails. In a looped fashion the fallback process will\nretry the hint matching process with all\navailable serial value for all available device.\n\nThe serial values are collected from those udev variables\nthat has the ""SERIAL"" substring in their name as so far\nit looks like that one of such variables always has\nthe correct serial number.\n\nStory: 2010263\nTask: 46161\n\nChange-Id: I16039b46676f1a61b32ee7ca7e6d526e65829113\n'}, {'number': 2, 'created': '2022-09-05 10:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/7f2dc684cd4697c1745b71ea8fec22d27715e12f', 'message': 'add fallback logic for \'serial\' root device hint\n\nThe current way of prioritizing ID/DM_SERIAL_SHORT or ID/DM_SERIAL works\nin most cases but the udev values seem to be unreliable.\n\nThis commit implements a fallback procedure in case the serial\nnumber is not present in the default udev variables.\n\nThe fallback logic has 2 parts, the first part collects all\nthe serial numbers whenever IPA looks up the block device\ninformation. The second part of the process kicks in when\nthe a serial root device hint is used but the hint matching\nfails. In a looped fashion the fallback process will\nretry the hint matching process with all\navailable serial value for all available device.\n\nThe serial values are collected from those udev variables\nthat has the ""SERIAL"" substring in their name as so far\nit looks like that one of such variables always has\nthe correct serial number.\n\nStory: 2010263\nTask: 46161\n\nChange-Id: I16039b46676f1a61b32ee7ca7e6d526e65829113\n'}, {'number': 3, 'created': '2022-09-06 13:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/31cc7c6707a90cf59962725589b11da85552d562', 'message': 'add fallback logic for \'serial\' root device hint\n\nThe current way of prioritizing ID/DM_SERIAL_SHORT or ID/DM_SERIAL works\nin most cases but the udev values seem to be unreliable.\n\nBased on experience it looks like lsblk might be a better\nsource of truthe then udev in regerards to serial number\ninformation. This commit makes lsblk the default provider\nof block device serial number information.\n\nTo handle the situation when serial number provided by lsblk\nmight be not matching the root device hints this commit\nimplements a fallback procedure.\n\nThe fallback logic has 2 parts, the first part collects all\nthe serial numbers from udev  whenever IPA looks up the block device\ninformation. The second part of the process kicks in when\nthe a serial root device hint is used but the hint matching\nfails. In a looped fashion the fallback process will\nretry the hint matching process with all\navailable serial value for all available device.\n\nThe serial values are collected from those udev variables\nthat has the ""SERIAL"" substring in their name as so far\nit looks like that one of such variables always has\nthe correct serial number.\n\nStory: 2010263\nTask: 46161\n\nChange-Id: I16039b46676f1a61b32ee7ca7e6d526e65829113\n'}, {'number': 4, 'created': '2022-09-19 18:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/801b8114c7da48e56ed83794d492586a36bc0423', 'message': 'use lsblk as a source of device serial numbers\n\nThe current way of prioritizing ID/DM_SERIAL_SHORT or ID/DM_SERIAL works\nin most cases but the udev values seem to be unreliable.\n\nBased on experience it looks like lsblk might be a better\nsource of truth then udev in regerards to serial number\ninformation. This commit makes lsblk the default provider\nof block device serial number information.\n\nStory: 2010263\nTask: 46161\n\nChange-Id: I16039b46676f1a61b32ee7ca7e6d526e65829113\n'}, {'number': 5, 'created': '2022-09-19 18:31:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/673ff1b1c2bb73235fa6b010ba852ca585b6a4b8', 'message': 'prioritize lsblk as a source of device serials\n\nThe current way of prioritizing ID/DM_SERIAL_SHORT or ID/DM_SERIAL works\nin most cases but the udev values seem to be unreliable.\n\nBased on experience it looks like lsblk might be a better\nsource of truth then udev in regerards to serial number\ninformation. This commit makes lsblk the default provider\nof block device serial number information.\n\nStory: 2010263\nTask: 46161\n\nChange-Id: I16039b46676f1a61b32ee7ca7e6d526e65829113\n'}, {'number': 6, 'created': '2022-09-21 05:21:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/018962ff7f47c7cc825d7ca8727ff5d3df54a047', 'message': 'prioritize lsblk as a source of device serials\n\nThe current way of prioritizing ID/DM_SERIAL_SHORT or ID/DM_SERIAL works\nin most cases but the udev values seem to be unreliable.\n\nBased on experience it looks like lsblk might be a better\nsource of truth than udev in regerards to serial number\ninformation. This commit makes lsblk the default provider\nof block device serial number information.\n\nStory: 2010263\nTask: 46161\n\nChange-Id: I16039b46676f1a61b32ee7ca7e6d526e65829113\n'}, {'number': 7, 'created': '2022-09-21 05:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4fd854797fe966f9c477a93559dfd390d2c3f47e', 'message': 'prioritize lsblk as a source of device serials\n\nThe current way of prioritizing ID/DM_SERIAL_SHORT or ID/DM_SERIAL works\nin most cases but the udev values seem to be unreliable.\n\nBased on experience it looks like lsblk might be a better\nsource of truth than udev in regerards to serial number\ninformation. This commit makes lsblk the default provider\nof block device serial number information.\n\nStory: 2010263\nTask: 46161\n\nChange-Id: I16039b46676f1a61b32ee7ca7e6d526e65829113\n'}, {'number': 8, 'created': '2022-09-23 07:12:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/0edb8d4a5a644cd019503df67be6c0db4132dd18', 'message': 'prioritize lsblk as a source of device serials\n\nThe current way of prioritizing ID/DM_SERIAL_SHORT or ID/DM_SERIAL works\nin most cases but the udev values seem to be unreliable.\n\nBased on experience it looks like lsblk might be a better\nsource of truth than udev in regerards to serial number\ninformation. This commit makes lsblk the default provider\nof block device serial number information.\n\nStory: 2010263\nTask: 46161\n\nChange-Id: I16039b46676f1a61b32ee7ca7e6d526e65829113\n'}, {'number': 9, 'created': '2022-10-03 11:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/70c00e5dac31b86d8179939c396341d587ca6411', 'message': 'prioritize lsblk as a source of device serials\n\nThe current way of prioritizing ID/DM_SERIAL_SHORT or ID/DM_SERIAL works\nin most cases but the udev values seem to be unreliable.\n\nBased on experience it looks like lsblk might be a better\nsource of truth than udev in regerards to serial number\ninformation. This commit makes lsblk the default provider\nof block device serial number information.\n\nStory: 2010263\nTask: 46161\n\nChange-Id: I16039b46676f1a61b32ee7ca7e6d526e65829113\n'}, {'number': 10, 'created': '2022-10-03 16:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/cba57bc035dbee1dde450e378627054b1f6558d6', 'message': 'prioritize lsblk as a source of device serials\n\nThe current way of prioritizing ID/DM_SERIAL_SHORT or ID/DM_SERIAL works\nin most cases but the udev values seem to be unreliable.\n\nBased on experience it looks like lsblk might be a better\nsource of truth than udev in regerards to serial number\ninformation. This commit makes lsblk the default provider\nof block device serial number information.\n\nStory: 2010263\nTask: 46161\n\nChange-Id: I16039b46676f1a61b32ee7ca7e6d526e65829113\n'}, {'number': 11, 'created': '2022-10-10 16:32:08.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'releasenotes/notes/prioritize-lsblk-device-serials-8cae406ca5164a01.yaml', 'ironic_python_agent/utils.py', 'ironic_python_agent/tests/unit/samples/hardware_samples.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/830fdfa4c6ec62fdd1f1ec761c6f92b0f218d252', 'message': 'prioritize lsblk as a source of device serials\n\nThe current way of prioritizing ID/DM_SERIAL_SHORT or ID/DM_SERIAL works\nin most cases but the udev values seem to be unreliable.\n\nBased on experience it looks like lsblk might be a better\nsource of truth than udev in regerards to serial number\ninformation. This commit makes lsblk the default provider\nof block device serial number information.\n\nStory: 2010263\nTask: 46161\n\nChange-Id: I16039b46676f1a61b32ee7ca7e6d526e65829113\n'}]",35,855866,830fdfa4c6ec62fdd1f1ec761c6f92b0f218d252,68,5,11,35233,,,0,"prioritize lsblk as a source of device serials

The current way of prioritizing ID/DM_SERIAL_SHORT or ID/DM_SERIAL works
in most cases but the udev values seem to be unreliable.

Based on experience it looks like lsblk might be a better
source of truth than udev in regerards to serial number
information. This commit makes lsblk the default provider
of block device serial number information.

Story: 2010263
Task: 46161

Change-Id: I16039b46676f1a61b32ee7ca7e6d526e65829113
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/66/855866/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py']",2,5ad9ef492f028631a7c3988cd5c60ba7063f35e6,,"class MockedDevice(dict): def __init__(self, **kwargs): super().__init__(**kwargs) self.prop = super().keys() @property def properties(self): return self.prop hardware.BlockDevice(name='/dev/sdc', model=model, size=10737418100, rotational=True, vendor='random-vendor', wwn='random-wwn', wwn_with_extension='random-wwnven0', wwn_vendor_extension='ven0', serial='random-serial', all_serials=['random-serial', 'strange-serial', 'fallback-serial']), def test_get_os_install_device_root_device_hints_serial_fallback(self): self._get_os_install_device_root_device_hints( {'serial': 'fallback-serial'}, '/dev/sdc') mocked_udev.retunr_value = MockedDevice() MockedDevice( ID_WWN='wwn%d' % i, ID_SERIAL_SHORT='serial%d' % i, ID_SERIAL='do not use me', ID_WWN_WITH_EXTENSION='wwn-ext%d' % i, ID_WWN_VENDOR_EXTENSION='wwn-vendor-ext%d' % i ) ] + [MockedDevice(DM_WWN='wwn3', DM_SERIAL='serial3')] hctl='1:0:0:0', all_serials=['serial0', 'do not use me']), hctl='1:0:0:0', all_serials=['serial1', 'do not use me']), hctl='1:0:0:0', all_serials=['serial2', 'do not use me']), hctl='1:0:0:0', all_serials=['serial3']) for attr in ['name', 'model', 'size', 'rotational', 'all_serials', mocked_fromdevfile.return_value = MockedDevice() mocked_fromdevfile.return_value = MockedDevice() mocked_fromdevfile.return_value = MockedDevice()"," {'ID_WWN': 'wwn%d' % i, 'ID_SERIAL_SHORT': 'serial%d' % i, 'ID_SERIAL': 'do not use me', 'ID_WWN_WITH_EXTENSION': 'wwn-ext%d' % i, 'ID_WWN_VENDOR_EXTENSION': 'wwn-vendor-ext%d' % i} ] + [ {'DM_WWN': 'wwn3', 'DM_SERIAL': 'serial3'}, ] hctl='1:0:0:0'), hctl='1:0:0:0'), hctl='1:0:0:0'), hctl='1:0:0:0') for attr in ['name', 'model', 'size', 'rotational', mocked_fromdevfile.return_value = {} mocked_fromdevfile.return_value = {} mocked_fromdevfile.return_value = {}",99,24
openstack%2Fsecurity-doc~master~Ie597a2ea9395f34d592701e9361948072cf531c7,openstack/security-doc,master,Ie597a2ea9395f34d592701e9361948072cf531c7,Add OSSN-0090,MERGED,2022-10-14 15:33:54.000000000,2022-10-14 15:50:20.000000000,2022-10-14 15:49:19.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-14 15:33:54.000000000', 'files': ['security-notes/OSSN-0090'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/89510bdac5b47f95de23cb3d18c05a1726f2d3b0', 'message': 'Add OSSN-0090\n\nBest practices when configuring Glance with COW backends\n\nChange-Id: Ie597a2ea9395f34d592701e9361948072cf531c7\nRelated-bug: #1990157\n'}]",0,861399,89510bdac5b47f95de23cb3d18c05a1726f2d3b0,7,2,1,5314,,,0,"Add OSSN-0090

Best practices when configuring Glance with COW backends

Change-Id: Ie597a2ea9395f34d592701e9361948072cf531c7
Related-bug: #1990157
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/99/861399/1 && git format-patch -1 --stdout FETCH_HEAD,['security-notes/OSSN-0090'],1,89510bdac5b47f95de23cb3d18c05a1726f2d3b0,ossn-0090,"Best practices when configuring Glance with COW backends --- ### Summary ### When deploying Glance in a popular configuration where Glance shares a common storage backend with Nova and/or Cinder, it is possible to open some known attack vectors by which malicious data modification can occur. This note reviews the known issues and suggests a Glance deployment configuration that can mitigate such attacks. ### Affected Services / Software ### Glance, all supported releases (Queens through Zed) ### Discussion ### This note applies to you if you are operating an end-user-facing glance-api service with the 'show_multiple_locations' option set to True (the default value is False) or if your end-user-facing glance-api has the 'show_image_direct_url' option set to True (default value is False). Our recommendation is that the image ""locations"" and ""direct_url"" fields [0] *never* be displayed to end users in a cloud. This can be accomplished by running two glance-api services: - A ""user-facing"" glance-api that is accessible to end users and which appears in users' service catalogs. - An ""internal-only-facing"" glance-api that is accessible only to those services that require access to the 'direct_url' or image location fields, and which is protected by firewalls from access by end users. (Nova, Cinder, and Ironic all have configuration options to specify the Glance API endpoint each service uses [1].) This dual glance-api deployment was suggested in ""Known Issues"" in Glance release notes in the Rocky [2] through Ussuri releases, but it seems that the idea has not received sufficient attention. Hence this security note. The attack vector that becomes available when image locations are exposed to end users was originally outlined in OSSN-0065 [3], though that note was not clear about the attack surface or mitigation, and contained some forward-looking statements that were not fulfilled. The attack vector is: [A] malicious user could create an image in Glance, set an additional location on that image pointing to an altered image, then delete the original location, so that consumers of the original image would unwittingly be using the malicious image. Note, however, that this attack vector cannot change the original image's checksum, and it is limited to images that are owned by the attacker. OSSN-0065 suggests that this is only an issue when users do not checksum their image data. It neglects the fact that in some popular deployment configurations in which Nova creates a root disk snapshot, data is never uploaded to Glance, but instead a snapshot is created directly in the backend and Nova creates a Glance image record with ""size"" 0 and an empty ""os_hash_value"" [4], making it impossible to compare the hash of downloaded image data to the value maintained by Glance. Further, when Nova is configured to use the same storage for ephemeral disks that is used as a Glance image store, Nova efficiently creates a server root disk directly in the backend without checksumming the image data. This is an intentional design choice to optimize storage space and host resources, but an implication is that even if the image record has a recorded hash, it is not being checked at the point of image consumption. Similarly, when using a shared backend, or a cinder glance_store, Cinder will efficiently clone a volume created from an image directly in the backend without checksumming the image data. Again, this is done intentionally in order to optimize resources, but it is important to be aware of the security tradeoff being made by this configuration. In other words, if the image data is not going to be checked at the point of image consumption, then extra care needs to be taken to ensure the integrity of the data path. OSSN-0065 suggested that the attack vector of substituting image data by modifying the image locations could be addressed by using policies, but that has turned out not to be the case. The only way currently to mitigate this vector is to deploy glance-api in a dual configuration as described above, namely with an internal-only-facing glance-api used by Nova and Cinder (that has show_multiple_locations enabled), and an end-user-facing glance-api (that has show_multiple_locations disabled). So far the focus has been on 'show_multiple_locations'. When that setting is disabled in Glance, it is not possible to manipulate the locations via the OpenStack Images API. Keep in mind, however, that in any Glance/Nova/Cinder configuration where Nova and/or Cinder do copy-on-write directly in the image store, image data transfer takes place outside Glance's image data download path, and hence the os_hash_value is *not* checked. Thus, if the backend store is itself compromised and image data is replaced directly in the backend, the substitution will *not* be detected. This brings us to the 'show_image_direct_url' option, which includes a ""direct_url"" field in the image-show response that can be used by various OpenStack services to consume images directly from the storage backend. Exposing the 'direct_url' to end users leaks information about the storage backend. What exactly that information consists of depends upon the backend in use and how it is configured, but in general, it is not a good idea to provide hints that could be useful to malicious actors in their attempts to compromise the backend storage by some type of independent exploit. The 'direct_url', being read-only, may appear innocuous, but its use by services is usually to perform some kind of optimized image data access that most likely does not include computing a hash of the image data. We therefore recommend that OpenStack services that require exposure of the 'direct_url' image property be similarly configured to use an internal-only-facing glance-api. It is worth nothing that end users who wish to download an image do not require access to the 'direct_url' image property because they can simply use the image-data-download API call [5]. ### Recommended Actions ### A glance-api service with 'show_multiple_locations' enabled should *never* be exposed directly to end users. This setting should only be enabled on an internal-only-facing glance-api that is used by OpenStack services that require access to image locations. This could be done, for example, by running two glance-api services with different configuration files and using the appropriate configuration options for each service to specify the Image API endpoint to access, and making sure the special internal endpoint is firewalled in such a way that only the appropriate OpenStack services can contact it. Similarly, enabling 'show_image_direct_url' exposes information about the storage backend that could be of use to malicious actors in as yet unknown exploits, so it should likewise only be enabled on an internal-only-facing glance-api. ### Notes / References ### [0] https://docs.openstack.org/api-ref/image/v2/index.html#show-image-schema [1] Nova and Ironic use 'endpoint_override' in the '[glance]' section of the configuration file; Cinder uses 'glance_api_servers' in the '[DEFAULT]' section. [2] OSSN-0065: https://wiki.openstack.org/wiki/OSSN/OSSN-0065 [3] The Glance ""multihash"" metadata pair of 'os_hash_algo' and 'os_hash_value' were introduced in Rocky to replace the legacy md5 'checksum' field. The python-glanceclient has used multihash checksumming for download verification since version 2.13.0. [4] https://docs.openstack.org/releasenotes/glance/rocky.html#known-issues [5] https://docs.openstack.org/api-ref/image/v2/index.html?#download-binary-image-data ### Contacts / References ### Author: Brian Rosmaita, Red Hat This OSSN : https://wiki.openstack.org/wiki/OSSN/OSSN-0090 Original LaunchPad Bug : https://bugs.launchpad.net/ossn/+bug/1990157 Mailing List : [Security] tag on openstack-discuss@lists.openstack.org OpenStack Security Project : https://launchpad.net/~openstack-ossg CVE: none ",,143,0
openstack%2Fcinder~master~I951179c3abb5b4a40d2ae08765e2a1055f1975c2,openstack/cinder,master,I951179c3abb5b4a40d2ae08765e2a1055f1975c2,NFS: Use Volume attr instead of dict compat for lock,MERGED,2022-07-18 19:54:35.000000000,2022-10-14 15:33:14.000000000,2022-10-14 15:31:56.000000000,"[{'_account_id': 5314}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 32074}, {'_account_id': 34201}]","[{'number': 1, 'created': '2022-07-18 19:54:35.000000000', 'files': ['cinder/volume/drivers/nfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d402c6fbab6db4cc80e9075f683b80adb2c7368c', 'message': 'NFS: Use Volume attr instead of dict compat for lock\n\nUse Volume.id instead of volume[id].\n\nChange-Id: I951179c3abb5b4a40d2ae08765e2a1055f1975c2\n'}]",5,850251,d402c6fbab6db4cc80e9075f683b80adb2c7368c,27,6,1,4523,,,0,"NFS: Use Volume attr instead of dict compat for lock

Use Volume.id instead of volume[id].

Change-Id: I951179c3abb5b4a40d2ae08765e2a1055f1975c2
",git fetch https://review.opendev.org/openstack/cinder refs/changes/51/850251/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/nfs.py'],1,d402c6fbab6db4cc80e9075f683b80adb2c7368c,, @coordination.synchronized('{self.driver_prefix}-{volume.id}') @coordination.synchronized('{self.driver_prefix}-{volume.id}'), @coordination.synchronized('{self.driver_prefix}-{volume[id]}') @coordination.synchronized('{self.driver_prefix}-{volume[id]}'),2,2
openstack%2Fcharm-keystone-k8s~main~I102104daeb478b83320c5e8b8bdfac01b7514190,openstack/charm-keystone-k8s,main,I102104daeb478b83320c5e8b8bdfac01b7514190,Disable functional testing,MERGED,2022-10-14 13:46:05.000000000,2022-10-14 15:19:19.000000000,2022-10-14 14:38:20.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-14 13:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/835180dc826ea8008a98fcaef8c41c549911e601', 'message': 'Disable functional testing\n\nDisable func-test target in Zuul configuration to unblock the\ngate while the random test failure in investigated.\n\nChange-Id: I102104daeb478b83320c5e8b8bdfac01b7514190\n'}, {'number': 2, 'created': '2022-10-14 13:49:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/f950ff520b1164d035e1155eea6c0adc891c224c', 'message': 'Disable functional testing\n\nDisable func-test target in Zuul configuration to unblock the\ngate while the random test failure in investigated.\n\nChange-Id: I102104daeb478b83320c5e8b8bdfac01b7514190\n'}]",1,861388,f950ff520b1164d035e1155eea6c0adc891c224c,10,3,2,935,,,0,"Disable functional testing

Disable func-test target in Zuul configuration to unblock the
gate while the random test failure in investigated.

Change-Id: I102104daeb478b83320c5e8b8bdfac01b7514190
",git fetch https://review.opendev.org/openstack/charm-keystone-k8s refs/changes/88/861388/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,835180dc826ea8008a98fcaef8c41c549911e601,credentials-action,,- job: name: func-tests run: playbooks/run-tests.yaml requires: charm dependencies: - name: build-charm,0,6
openstack%2Freleases~master~I59681ed08a2072163d8fd38f96f656bcec1cc10c,openstack/releases,master,I59681ed08a2072163d8fd38f96f656bcec1cc10c,[Puppet OpneStack] Transition remaining old stable branches to EOL,MERGED,2022-08-23 17:00:46.000000000,2022-10-14 14:57:08.000000000,2022-10-14 14:57:08.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-08-23 17:00:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/08e1b5c78be675514069e3c4d60ff594ed669ee0', 'message': 'puppet-openstack-integration: Transition Q/R/S to EOL\n\nWe have already transitioned stable/queens[1], rocky[2] and stein[3] of\nPuppet OpenStack repositories.\n\n[1] 38240e7023f4b45ad2f66b9a42ae7177228a1938\n[2] 3468b43a2f3b59fba90c2471bf88e00415419ba6\n[3] 23b26c39d038342a326f2cbade1517224fb9e26c\n\nThis change completes the same transition of p-o-i, which was missed\nduring the previous transition work.\n\nChange-Id: I59681ed08a2072163d8fd38f96f656bcec1cc10c\n'}, {'number': 2, 'created': '2022-08-23 17:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/5a7b1ea4c06d22c42db245027f34f6396f23ba75', 'message': '[Puppet OpneStack] EOL remaining old stable branches to EOL\n\nPuppet OpenStack project already transitioned stable/stein and older\nbranches. This change transitions the remaining old stable branches\nof the following two repositories.\n - puppet-openstack-integration\n - puppet-openstack_spec_helper\n\nChange-Id: I59681ed08a2072163d8fd38f96f656bcec1cc10c\n'}, {'number': 3, 'created': '2022-08-23 17:31:17.000000000', 'files': ['deliverables/queens/puppet-openstack_spec_helper.yaml', 'deliverables/stein/puppet-openstack_spec_helper.yaml', 'deliverables/rocky/puppet-openstack-integration.yaml', 'deliverables/pike/puppet-openstack_spec_helper.yaml', 'deliverables/stein/puppet-openstack-integration.yaml', 'deliverables/rocky/puppet-openstack_spec_helper.yaml', 'deliverables/queens/puppet-openstack-integration.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e3b87974012bebae8e64d3f9bf6f54aa028fb878', 'message': '[Puppet OpneStack] Transition remaining old stable branches to EOL\n\nPuppet OpenStack project already transitioned stable/stein and older\nbranches. This change transitions the remaining old stable branches\nof the following two repositories.\n - puppet-openstack-integration\n - puppet-openstack_spec_helper\n\nChange-Id: I59681ed08a2072163d8fd38f96f656bcec1cc10c\n'}]",3,854245,e3b87974012bebae8e64d3f9bf6f54aa028fb878,16,3,3,9816,,,0,"[Puppet OpneStack] Transition remaining old stable branches to EOL

Puppet OpenStack project already transitioned stable/stein and older
branches. This change transitions the remaining old stable branches
of the following two repositories.
 - puppet-openstack-integration
 - puppet-openstack_spec_helper

Change-Id: I59681ed08a2072163d8fd38f96f656bcec1cc10c
",git fetch https://review.opendev.org/openstack/releases refs/changes/45/854245/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/puppet-openstack-integration.yaml', 'deliverables/stein/puppet-openstack-integration.yaml', 'deliverables/queens/puppet-openstack-integration.yaml']",3,08e1b5c78be675514069e3c4d60ff594ed669ee0,,--- launchpad: puppet-openstack-integration release-model: untagged stable-branch-type: tagless releases: - projects: - hash: 0630bddeccac6633c8459d83336653dfc49ffe16 repo: openstack/puppet-openstack-integration version: queens-eol team: 'Puppet OpenStack' type: other repository-settings: openstack/puppet-openstack-integration: {} ,,23,0
openstack%2Fneutron-fwaas-dashboard~master~Id99e398e06b90ac49db3d30a136a4b685f24c796,openstack/neutron-fwaas-dashboard,master,Id99e398e06b90ac49db3d30a136a4b685f24c796,Switch to 2023.1 Python3 unit tests and generic template name,MERGED,2022-09-14 12:22:36.000000000,2022-10-14 14:52:37.000000000,2022-10-14 14:50:36.000000000,"[{'_account_id': 8556}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 30380}, {'_account_id': 32029}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-09-14 12:22:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/5031070578c3b5ba60ed104ba42b6a86d48a66cd', 'message': 'Switch to 2023.1 Python3 unit tests and generic template name\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for antelope. Also,\nupdating the template name to generic one.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Id99e398e06b90ac49db3d30a136a4b685f24c796\n'}]",3,857663,5031070578c3b5ba60ed104ba42b6a86d48a66cd,13,6,1,22816,,,0,"Switch to 2023.1 Python3 unit tests and generic template name

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for antelope. Also,
updating the template name to generic one.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Id99e398e06b90ac49db3d30a136a4b685f24c796
",git fetch https://review.opendev.org/openstack/neutron-fwaas-dashboard refs/changes/63/857663/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5031070578c3b5ba60ed104ba42b6a86d48a66cd,add-antelope-python-jobtemplates, - openstack-python3-jobs-horizon, - openstack-python3-zed-jobs-horizon,1,1
openstack%2Fneutron-fwaas-dashboard~master~I1c5dcac3f09974ed85f7f2ca72dca8adbe4eaa3f,openstack/neutron-fwaas-dashboard,master,I1c5dcac3f09974ed85f7f2ca72dca8adbe4eaa3f,Update master for stable/zed,MERGED,2022-09-14 12:22:35.000000000,2022-10-14 14:51:41.000000000,2022-10-14 14:50:21.000000000,"[{'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 30380}]","[{'number': 1, 'created': '2022-09-14 12:22:35.000000000', 'files': ['releasenotes/source/zed.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/b86178bbbfe88407955fc74ad04654a6cfdc4deb', 'message': 'Update master for stable/zed\n\nAdd file to the reno documentation build to show release notes for\nstable/zed.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/zed.\n\nSem-Ver: feature\nChange-Id: I1c5dcac3f09974ed85f7f2ca72dca8adbe4eaa3f\n'}]",1,857662,b86178bbbfe88407955fc74ad04654a6cfdc4deb,9,4,1,22816,,,0,"Update master for stable/zed

Add file to the reno documentation build to show release notes for
stable/zed.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/zed.

Sem-Ver: feature
Change-Id: I1c5dcac3f09974ed85f7f2ca72dca8adbe4eaa3f
",git fetch https://review.opendev.org/openstack/neutron-fwaas-dashboard refs/changes/62/857662/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/zed.rst', 'releasenotes/source/index.rst']",2,b86178bbbfe88407955fc74ad04654a6cfdc4deb,reno-zed, zed,,7,0
openstack%2Freno~master~Iddc557fcaa1677831b5d2a65cb2ee2e39f46385b,openstack/reno,master,Iddc557fcaa1677831b5d2a65cb2ee2e39f46385b,remove unicode from code,MERGED,2022-08-25 01:47:07.000000000,2022-10-14 14:48:03.000000000,2022-10-14 14:47:04.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-25 01:47:07.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/reno/commit/5c31cd7c0aa2a4dbdfa71eda73cf5f66c23193ec', 'message': 'remove unicode from code\n\nChange-Id: Iddc557fcaa1677831b5d2a65cb2ee2e39f46385b\n'}]",0,854471,5c31cd7c0aa2a4dbdfa71eda73cf5f66c23193ec,8,3,1,35067,,,0,"remove unicode from code

Change-Id: Iddc557fcaa1677831b5d2a65cb2ee2e39f46385b
",git fetch https://review.opendev.org/openstack/reno refs/changes/71/854471/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,5c31cd7c0aa2a4dbdfa71eda73cf5f66c23193ec,,"project = 'reno' copyright = '2013, OpenStack Foundation'","project = u'reno' copyright = u'2013, OpenStack Foundation'",2,2
openstack%2Freleases~master~Ief293b01544b403cda6bdd45705b74df6723d60c,openstack/releases,master,Ief293b01544b403cda6bdd45705b74df6723d60c,EOL Queens for all Ironic-program projects,MERGED,2022-10-05 21:20:32.000000000,2022-10-14 14:46:04.000000000,2022-10-14 14:46:04.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-10-05 21:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/8628643e201dbec634e5d88dab576d3fa11744c2', 'message': 'EOL Queens for all Ironic-program projects\n\nIronic team has decided to EOL several older branches, starting\nwith queens.\n\nChange-Id: Ief293b01544b403cda6bdd45705b74df6723d60c\n'}, {'number': 2, 'created': '2022-10-05 22:19:22.000000000', 'files': ['deliverables/queens/networking-baremetal.yaml', 'deliverables/queens/bifrost.yaml', 'deliverables/queens/ironic-ui.yaml', 'deliverables/queens/python-ironic-inspector-client.yaml', 'deliverables/queens/python-ironicclient.yaml', 'deliverables/queens/networking-generic-switch.yaml', 'deliverables/queens/ironic-python-agent.yaml', 'deliverables/queens/ironic-lib.yaml', 'deliverables/queens/ironic-inspector.yaml', 'deliverables/queens/sushy.yaml', 'deliverables/queens/ironic.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8ac642356cb857b9f24b779f004de97494c0affb', 'message': 'EOL Queens for all Ironic-program projects\n\nIronic team has decided to EOL several older branches, starting\nwith queens.\n\nChange-Id: Ief293b01544b403cda6bdd45705b74df6723d60c\n'}]",6,860499,8ac642356cb857b9f24b779f004de97494c0affb,15,7,2,10342,,,0,"EOL Queens for all Ironic-program projects

Ironic team has decided to EOL several older branches, starting
with queens.

Change-Id: Ief293b01544b403cda6bdd45705b74df6723d60c
",git fetch https://review.opendev.org/openstack/releases refs/changes/99/860499/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/queens/networking-baremetal.yaml', 'deliverables/queens/bifrost.yaml', 'deliverables/queens/ironic-ui.yaml', 'deliverables/queens/python-ironic-inspector-client.yaml', 'deliverables/queens/python-ironicclient.yaml', 'deliverables/queens/networking-generic-switch.yaml', 'deliverables/queens/ironic-python-agent.yaml', 'deliverables/queens/ironic-lib.yaml', 'deliverables/queens/ironic-inspector.yaml', 'deliverables/queens/sushy.yaml', 'deliverables/queens/ironic.yaml']",11,8628643e201dbec634e5d88dab576d3fa11744c2,, - version: queens-eol project: - repo: openstack/ironic hash: 7b5a86cf1673a19e9fdd66001fc6ec9fd7950cc1,,44,0
openstack%2Frelease-test~master~I1558fe97193ecdb5ac112a58928d14af5870dc2d,openstack/release-test,master,I1558fe97193ecdb5ac112a58928d14af5870dc2d,remove unicode from code,MERGED,2022-08-25 01:53:40.000000000,2022-10-14 14:40:50.000000000,2022-10-14 14:40:50.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-25 01:53:40.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/release-test/commit/d2183f292d5d532e2836ed1a4dbf8a7206e776d1', 'message': 'remove unicode from code\n\nChange-Id: I1558fe97193ecdb5ac112a58928d14af5870dc2d\n'}]",0,854472,d2183f292d5d532e2836ed1a4dbf8a7206e776d1,7,3,1,35067,,,0,"remove unicode from code

Change-Id: I1558fe97193ecdb5ac112a58928d14af5870dc2d
",git fetch https://review.opendev.org/openstack/release-test refs/changes/72/854472/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,d2183f292d5d532e2836ed1a4dbf8a7206e776d1,,"project = 'release-test Release Notes' copyright = '2016, release-test Developers' 'olso.config Release Notes Documentation', 'release-test Developers', 'manual'), 'release-test Release Notes Documentation', ['release-test Developers'], 1) 'release-test Release Notes Documentation', 'release-test Developers', 'olso.configReleaseNotes',","project = u'release-test Release Notes' copyright = u'2016, release-test Developers' u'olso.config Release Notes Documentation', u'release-test Developers', 'manual'), u'release-test Release Notes Documentation', [u'release-test Developers'], 1) u'release-test Release Notes Documentation', u'release-test Developers', 'olso.configReleaseNotes',",12,12
openstack%2Ftap-as-a-service~master~Ifab8a0eeb73afa39713e5eac85086fcb748c5e5a,openstack/tap-as-a-service,master,Ifab8a0eeb73afa39713e5eac85086fcb748c5e5a,Switch to 2023.1 Python3 unit tests and generic template name,MERGED,2022-09-15 15:50:19.000000000,2022-10-14 14:40:46.000000000,2022-10-14 14:40:46.000000000,"[{'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-15 15:50:19.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/a0d5cb4e7546cae77aa085943d1e90d40c462c25', 'message': 'Switch to 2023.1 Python3 unit tests and generic template name\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for antelope. Also,\nupdating the template name to generic one.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Ifab8a0eeb73afa39713e5eac85086fcb748c5e5a\n'}]",2,857905,a0d5cb4e7546cae77aa085943d1e90d40c462c25,8,3,1,22816,,,0,"Switch to 2023.1 Python3 unit tests and generic template name

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for antelope. Also,
updating the template name to generic one.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Ifab8a0eeb73afa39713e5eac85086fcb748c5e5a
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/05/857905/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a0d5cb4e7546cae77aa085943d1e90d40c462c25,add-antelope-python-jobtemplates, - openstack-python3-jobs-neutron, - openstack-python3-zed-jobs-neutron,1,1
openstack%2Fstackviz~master~Id7365c4ac0208b21ab1ae045668364d0cee52981,openstack/stackviz,master,Id7365c4ac0208b21ab1ae045668364d0cee52981,Switch testing to Zed testing runtime,NEW,2022-05-04 14:26:29.000000000,2022-10-14 14:32:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-04 14:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/bb86356e62e6945c1bf046d3c3351b5f2fdf0d25', 'message': 'Switch testing to Zed testing runtime\n\nUpdating the testing template to Zed testing runtime [1].\nCreating wallaby, xena and yoga jobs and removing rocky,\nstein and train ones.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: Id7365c4ac0208b21ab1ae045668364d0cee52981\n'}, {'number': 2, 'created': '2022-05-04 15:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/df363181313aced98ad10c94652e0d59e137f32d', 'message': ""Switch testing to Zed testing runtime\n\nUpdating the testing template to Zed testing runtime [1].\nLet's also run wallaby, xena and yoga jobs instead of rocky,\nstein and train ones.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: Id7365c4ac0208b21ab1ae045668364d0cee52981\n""}, {'number': 3, 'created': '2022-08-01 20:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/2e63a0e68e23835489440f69697dc6e98df7e36a', 'message': ""Switch testing to Zed testing runtime\n\nUpdating the testing template to Zed testing runtime [1].\nLet's also run wallaby, xena and yoga jobs instead of rocky,\nstein and train ones.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: Id7365c4ac0208b21ab1ae045668364d0cee52981\n""}, {'number': 4, 'created': '2022-08-02 12:54:38.000000000', 'files': ['gulp/tasks/styles.js', '.zuul.yaml', 'package.json'], 'web_link': 'https://opendev.org/openstack/stackviz/commit/bdb0f8843e58ccac2a6826b1e412e8ff7a8c269a', 'message': ""Switch testing to Zed testing runtime\n\nUpdating the testing template to Zed testing runtime [1].\nLet's also run wallaby, xena and yoga jobs instead of rocky,\nstein and train ones.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: Id7365c4ac0208b21ab1ae045668364d0cee52981\n""}]",6,840498,bdb0f8843e58ccac2a6826b1e412e8ff7a8c269a,15,1,4,22873,,,0,"Switch testing to Zed testing runtime

Updating the testing template to Zed testing runtime [1].
Let's also run wallaby, xena and yoga jobs instead of rocky,
stein and train ones.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: Id7365c4ac0208b21ab1ae045668364d0cee52981
",git fetch https://review.opendev.org/openstack/stackviz refs/changes/98/840498/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bb86356e62e6945c1bf046d3c3351b5f2fdf0d25,switch-to-zed-testing-runtime, name: stackviz-nodejs16-run-lint Run lint using Node 16. vars: node_version: 16 name: stackviz-nodejs16-run-test-browser node_version: 16 name: tempest-full-wallaby nodeset: openstack-single-node-focal override-checkout: stable/wallaby name: tempest-full-xena nodeset: openstack-single-node-focal override-checkout: stable/xena name: tempest-full-yoga nodeset: openstack-single-node-focal override-checkout: stable/yoga - stackviz-nodejs16-run-lint - stackviz-nodejs16-run-test-browser - tempest-full-wallaby: - tempest-full-xena: - tempest-full-yoga: - stackviz-nodejs16-run-lint - stackviz-nodejs16-run-test-browser, name: stackviz-nodejs10-run-lint Run lint using Node 10. vars: node_version: 10 name: stackviz-nodejs10-run-test-browser node_version: 10 name: tempest-full-rocky nodeset: openstack-single-node-xenial override-checkout: stable/rocky name: tempest-full-stein nodeset: openstack-single-node-bionic override-checkout: stable/stein name: tempest-full-train nodeset: openstack-single-node-bionic override-checkout: stable/train - stackviz-nodejs10-run-lint - stackviz-nodejs10-run-test-browser - tempest-full-train: - tempest-full-stein: - tempest-full-rocky: - stackviz-nodejs10-run-lint - stackviz-nodejs10-run-test-browser,21,21
openstack%2Fnova~master~I48dbe0aae8a3943fdde69cda1bd663d70ea0eb19,openstack/nova,master,I48dbe0aae8a3943fdde69cda1bd663d70ea0eb19,Adds a repoducer for post live migration fail,MERGED,2022-08-25 05:18:15.000000000,2022-10-14 14:19:53.000000000,2022-10-14 14:18:35.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 8864}, {'_account_id': 9303}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-25 05:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39d261d0076be92f1d465ec495d620235795b569', 'message': 'Adds a repoducer for post live migration fail\n\nAdds a regression test or repoducer for post live migration\nfail at destination, the possible casue can be fail to get\ninstance network info or  block device info\n\nChange-Id: I48dbe0aae8a3943fdde69cda1bd663d70ea0eb19\n'}, {'number': 2, 'created': '2022-08-26 05:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1dfc93813e81c52abcc50905a24a0702bc02646b', 'message': 'Adds a repoducer for post live migration fail\n\nAdds a regression test or repoducer for post live migration\nfail at destination, the possible casue can be fail to get\ninstance network info or  block device info\n\nChange-Id: I48dbe0aae8a3943fdde69cda1bd663d70ea0eb19\n'}, {'number': 3, 'created': '2022-08-26 12:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c10e648541284610a8c47ec9b2d6376af275059f', 'message': 'Adds a repoducer for post live migration fail\n\nAdds a regression test or repoducer for post live migration\nfail at destination, the possible casue can be fail to get\ninstance network info or  block device info\n\nChange-Id: I48dbe0aae8a3943fdde69cda1bd663d70ea0eb19\n'}, {'number': 4, 'created': '2022-08-29 04:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a80273149590071ec4e342650351812e123434ce', 'message': 'Adds a repoducer for post live migration fail\n\nAdds a regression test or repoducer for post live migration\nfail at destination, the possible casue can be fail to get\ninstance network info or  block device info\n\nChange-Id: I48dbe0aae8a3943fdde69cda1bd663d70ea0eb19\n'}, {'number': 5, 'created': '2022-09-01 10:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dbe916ede0e838089768c1a3d4f31824971f4df2', 'message': 'Adds a repoducer for post live migration fail\n\nAdds a regression test or repoducer for post live migration\nfail at destination, the possible casue can be fail to get\ninstance network info or  block device info\n\nChange-Id: I48dbe0aae8a3943fdde69cda1bd663d70ea0eb19\n'}, {'number': 6, 'created': '2022-09-01 12:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c836e9a4a5a590952a27b9a115052711b956e808', 'message': 'Adds a repoducer for post live migration fail\n\nAdds a regression test or repoducer for post live migration\nfail at destination, the possible casue can be fail to get\ninstance network info or  block device info\n\nChange-Id: I48dbe0aae8a3943fdde69cda1bd663d70ea0eb19\n'}, {'number': 7, 'created': '2022-09-12 09:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/95a9da8f8b06a718eed6b9fa9b0198b90d17baef', 'message': 'Adds a repoducer for post live migration fail\n\nAdds a regression test or repoducer for post live migration\nfail at destination, the possible casue can be fail to get\ninstance network info or  block device info\n\nRelated-Bug: #1628606\nChange-Id: I48dbe0aae8a3943fdde69cda1bd663d70ea0eb19\n'}, {'number': 8, 'created': '2022-10-06 05:41:24.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1628606.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a20baeca1f5ebb0dfe9607335a6986e9ed0e1725', 'message': 'Adds a repoducer for post live migration fail\n\nAdds a regression test or repoducer for post live migration\nfail at destination, the possible casue can be fail to get\ninstance network info or  block device info\n\nRelated-Bug: #1628606\nChange-Id: I48dbe0aae8a3943fdde69cda1bd663d70ea0eb19\n'}]",28,854499,a20baeca1f5ebb0dfe9607335a6986e9ed0e1725,56,9,8,34860,,,0,"Adds a repoducer for post live migration fail

Adds a regression test or repoducer for post live migration
fail at destination, the possible casue can be fail to get
instance network info or  block device info

Related-Bug: #1628606
Change-Id: I48dbe0aae8a3943fdde69cda1bd663d70ea0eb19
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/854499/8 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1628606.py'],1,39d261d0076be92f1d465ec495d620235795b569,bug/1628606,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from unittest import mock from nova import test from nova import exception from nova.compute import manager from nova.tests import fixtures as nova_fixtures from nova.tests.functional import fixtures as func_fixtures from nova.tests.functional import integrated_helpers from nova.tests.functional.api import client class PostLiveMigrationFail(test.TestCase, integrated_helpers.InstanceHelperMixin, ): """"""Regression test for bug 1628606 """""" def setUp(self): super().setUp() # self.useFixture(nova_fixtures.RealPolicyFixture()) self.useFixture(nova_fixtures.NeutronFixture(self)) self.glance = self.useFixture(nova_fixtures.GlanceFixture(self)) self.useFixture(func_fixtures.PlacementFixture()) self.useFixture(nova_fixtures.HostNameWeigherFixture()) self.start_service('conductor') self.start_service('scheduler') api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) self.api = api_fixture.admin_api self.api.microversion = 'latest' self.src = self._start_compute(host='host1') self.dest = self._start_compute(host='host2') @mock.patch('nova.compute.manager.ComputeManager._get_instance_block_device_info') def test_post_live_migration(self, mock_block_device): server = self._create_server(networks=[]) server = self._wait_for_state_change(server, 'ACTIVE') self.assertEqual(self.src.host, server['OS-EXT-SRV-ATTR:host']) error = client.OpenStackApiException(""Get Instance Block device failed"") mock_block_device.side_effect = error live_migrate_req = { 'os-migrateLive': {'host': self.dest.host, 'block_migration': 'auto'}} # try: # self.api.post_server_action(server['id'], live_migrate_req) # except OpenStackApiException: # pass # server = self._wait_for_state_change(server, 'ACTIVE') # self.assertEqual('host2', server['OS-EXT-SRV-ATTR:host']) self._live_migrate(server, migration_expected_state='failed') ",,70,0
openstack%2Fskyline-apiserver~master~I08f30087e8889d772db3da09a92f1e9390d10dbe,openstack/skyline-apiserver,master,I08f30087e8889d772db3da09a92f1e9390d10dbe,refactor: Refactor the extension schemas,MERGED,2022-07-14 05:45:00.000000000,2022-10-14 14:12:13.000000000,2022-07-14 09:58:24.000000000,"[{'_account_id': 6282}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 28706}, {'_account_id': 30434}, {'_account_id': 33689}, {'_account_id': 35159}, {'_account_id': 35161}]","[{'number': 1, 'created': '2022-07-14 05:45:00.000000000', 'files': ['skyline_apiserver/schemas/extension.py', 'skyline_apiserver/api/v1/extension.py', 'skyline_apiserver/schemas/__init__.py', 'docs/api/swagger.json'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/6ca007c1d0747bebce484674bc7e4651bd7050a2', 'message': 'refactor: Refactor the extension schemas\n\n1. remove prefix ext\n2. update the swagger file\n3. add more detailed info for schemas field\n\nChange-Id: I08f30087e8889d772db3da09a92f1e9390d10dbe\n'}]",0,849779,6ca007c1d0747bebce484674bc7e4651bd7050a2,10,8,1,28706,,,0,"refactor: Refactor the extension schemas

1. remove prefix ext
2. update the swagger file
3. add more detailed info for schemas field

Change-Id: I08f30087e8889d772db3da09a92f1e9390d10dbe
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/79/849779/1 && git format-patch -1 --stdout FETCH_HEAD,"['skyline_apiserver/schemas/extension.py', 'skyline_apiserver/api/v1/extension.py', 'skyline_apiserver/schemas/__init__.py', 'docs/api/swagger.json']",4,6ca007c1d0747bebce484674bc7e4651bd7050a2,," ""$ref"": ""#/components/schemas/SortDir"" ""$ref"": ""#/components/schemas/ServerSortKey"" ""$ref"": ""#/components/schemas/ServerStatus"" ""$ref"": ""#/components/schemas/ServersResponse"" ""$ref"": ""#/components/schemas/SortDir"" ""$ref"": ""#/components/schemas/RecycleServerSortKey"" ""$ref"": ""#/components/schemas/RecycleServersResponse"" ""$ref"": ""#/components/schemas/SortDir"" ""$ref"": ""#/components/schemas/VolumeSortKey"" ""$ref"": ""#/components/schemas/VolumeStatus"" ""$ref"": ""#/components/schemas/VolumesResponse"" ""$ref"": ""#/components/schemas/SortDir"" ""$ref"": ""#/components/schemas/VolumeSnapshotSortKey"" ""$ref"": ""#/components/schemas/VolumeSnapshotStatus"" ""$ref"": ""#/components/schemas/VolumeSnapshotsResponse"" ""$ref"": ""#/components/schemas/SortDir"" ""$ref"": ""#/components/schemas/PortSortKey"" ""$ref"": ""#/components/schemas/PortStatus"" ""$ref"": ""#/components/schemas/PortDeviceOwner"" ""$ref"": ""#/components/schemas/PortsResponse"" ""$ref"": ""#/components/schemas/ComputeServicesResponse"" ""ComputeServicesResponse"": { ""title"": ""ComputeServicesResponse"", ""required"": [ ""services"" ], ""type"": ""object"", ""properties"": { ""services"": { ""title"": ""Services"", ""type"": ""array"", ""items"": { ""$ref"": ""#/components/schemas/ComputeServicesResponseBase"" }, ""description"": ""Services list"" } } }, ""ComputeServicesResponseBase"": { ""title"": ""ComputeServicesResponseBase"", ""required"": [ ""binary"", ""host"", ""status"" ], ""type"": ""object"", ""properties"": { ""id"": { ""title"": ""Id"", ""type"": ""string"", ""description"": ""Service id"" }, ""binary"": { ""title"": ""Binary"", ""type"": ""string"", ""description"": ""Service binary"" }, ""disabled_reason"": { ""title"": ""Disabled Reason"", ""type"": ""string"", ""description"": ""Disabled reason"" }, ""host"": { ""title"": ""Host"", ""type"": ""string"", ""description"": ""Host name"" }, ""state"": { ""title"": ""State"", ""type"": ""string"", ""description"": ""Service state"" }, ""status"": { ""title"": ""Status"", ""type"": ""string"", ""description"": ""Service status"" }, ""updated_at"": { ""title"": ""Updated At"", ""type"": ""string"", ""description"": ""Updated at"" }, ""forced_down"": { ""title"": ""Forced Down"", ""type"": ""boolean"", ""description"": ""Forced down"" }, ""zone"": { ""title"": ""Zone"", ""type"": ""string"", ""description"": ""Zone"" } } }, ""FlavorInServer"": { ""title"": ""FlavorInServer"", ""type"": ""integer"", ""description"": ""Ephemeral disk size in GB"" ""type"": ""integer"", ""description"": ""RAM size in MB"" ""type"": ""string"", ""description"": ""Original flavor name"" ""type"": ""integer"", ""description"": ""Number of vCPUs"" ""type"": ""object"", ""description"": ""Extra specs"" ""type"": ""integer"", ""description"": ""Swap size in MB"" ""description"": ""Disk size in GB"" ""PortDeviceOwner"": { ""title"": ""PortDeviceOwner"", ""enum"": [ """", ""compute:nova"", ""network:router_ha_interface"", ""network:ha_router_replicated_interface"", ""network:router_interface"", ""network:router_gateway"", ""network:floatingip"", ""network:local_ip"", ""network:dhcp"", ""network:router_interface_distributed"", ""network:floatingip_agent_gateway"", ""network:router_centralized_snat"", ""network:routed"", ""network:distributed"" ], ""type"": ""string"", ""description"": ""An enumeration."" }, ""PortSortKey"": { ""title"": ""PortSortKey"", ""enum"": [ ""id"", ""name"", ""mac_address"", ""status"", ""project_id"" ], ""type"": ""string"", ""description"": ""An enumeration."" }, ""PortStatus"": { ""title"": ""PortStatus"", ""enum"": [ ""ACTIVE"", ""DOWN"", ""BUILD"", ""ERROR"", ""N/A"" ], ""type"": ""string"", ""description"": ""An enumeration."" }, ""PortsResponse"": { ""title"": ""PortsResponse"", ""required"": [ ""ports"" ], ""type"": ""object"", ""properties"": { ""ports"": { ""title"": ""Ports"", ""type"": ""array"", ""items"": { ""$ref"": ""#/components/schemas/PortsResponseBase"" }, ""description"": ""Ports list"" } } }, ""PortsResponseBase"": { ""title"": ""PortsResponseBase"", ""required"": [ ""id"", ""origin_data"" ], ""type"": ""object"", ""properties"": { ""id"": { ""title"": ""Id"", ""type"": ""string"", ""description"": ""Port ID"" }, ""origin_data"": { ""title"": ""Origin Data"", ""type"": ""object"", ""description"": ""The origin_data is the same like the response of https://docs.openstack.org/api-ref/network/v2/index.html?expanded=list-ports-detail#list-ports"" }, ""server_name"": { ""title"": ""Server Name"", ""type"": ""string"", ""description"": ""Server name"" }, ""network_name"": { ""title"": ""Network Name"", ""type"": ""string"", ""description"": ""Network name"" }, ""ipv4"": { ""title"": ""Ipv4"", ""type"": ""array"", ""items"": {}, ""description"": ""IPv4 addresses"" }, ""ipv6"": { ""title"": ""Ipv6"", ""type"": ""array"", ""items"": {}, ""description"": ""IPv6 addresses"" }, ""name"": { ""title"": ""Name"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[name]"", ""deprecated"": true }, ""mac_address"": { ""title"": ""Mac Address"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[mac_address]"", ""deprecated"": true }, ""project_id"": { ""title"": ""Project Id"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[project_id]"", ""deprecated"": true }, ""device_owner"": { ""title"": ""Device Owner"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[device_owner]"", ""deprecated"": true }, ""device_id"": { ""title"": ""Device Id"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[device_id]"", ""deprecated"": true }, ""status"": { ""title"": ""Status"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[status]"", ""deprecated"": true }, ""created_at"": { ""title"": ""Created At"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[created_at]"", ""deprecated"": true }, ""network_id"": { ""title"": ""Network Id"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[network_id]"", ""deprecated"": true }, ""binding_vnic_type"": { ""title"": ""Binding Vnic Type"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[binding:vnic_type]"", ""deprecated"": true }, ""description"": { ""title"": ""Description"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[description]"", ""deprecated"": true }, ""port_security_enabled"": { ""title"": ""Port Security Enabled"", ""type"": ""boolean"", ""description"": ""Will be removed, please use origin_data[port_security_enabled]"", ""deprecated"": true }, ""qos_policy_id"": { ""title"": ""Qos Policy Id"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[qos_policy_id]"", ""deprecated"": true }, ""fixed_ips"": { ""title"": ""Fixed Ips"", ""type"": ""array"", ""items"": {}, ""description"": ""Will be removed, please use origin_data[fixed_ips]"", ""deprecated"": true } } }, ""RecycleServerSortKey"": { ""title"": ""RecycleServerSortKey"", ""enum"": [ ""uuid"", ""display_name"", ""updated_at"", ""project_id"" ], ""type"": ""string"", ""description"": ""An enumeration."" }, ""RecycleServersResponse"": { ""title"": ""RecycleServersResponse"", ""required"": [ ""recycle_servers"" ], ""type"": ""object"", ""properties"": { ""recycle_servers"": { ""title"": ""Recycle Servers"", ""type"": ""array"", ""items"": { ""$ref"": ""#/components/schemas/RecycleServersResponseBase"" }, ""description"": ""Recycle servers list"" } } }, ""RecycleServersResponseBase"": { ""title"": ""RecycleServersResponseBase"", ""required"": [ ""id"", ""origin_data"", ""reclaim_timestamp"" ], ""type"": ""object"", ""properties"": { ""id"": { ""title"": ""Id"", ""type"": ""string"", ""description"": ""Recycle server id"", ""format"": ""uuid4"" }, ""origin_data"": { ""title"": ""Origin Data"", ""type"": ""object"", ""description"": ""The origin_data is the same like the response of https://docs.openstack.org/api-ref/compute/?expanded=list-servers-detailed-detail#list-servers-detailed"" }, ""project_name"": { ""title"": ""Project Name"", ""type"": ""string"", ""description"": ""Project name"" }, ""image"": { ""title"": ""Image"", ""type"": ""string"", ""description"": ""Image id"", ""format"": ""uuid4"" }, ""image_name"": { ""title"": ""Image Name"", ""type"": ""string"", ""description"": ""Image name"" }, ""image_os_distro"": { ""title"": ""Image Os Distro"", ""type"": ""string"", ""description"": ""Image os distro"" }, ""fixed_addresses"": { ""title"": ""Fixed Addresses"", ""type"": ""array"", ""items"": {}, ""description"": ""Fixed addresses"" }, ""floating_addresses"": { ""title"": ""Floating Addresses"", ""type"": ""array"", ""items"": {}, ""description"": ""Floating addresses"" }, ""deleted_at"": { ""title"": ""Deleted At"", ""type"": ""string"", ""description"": ""Deleted at"" }, ""reclaim_timestamp"": { ""title"": ""Reclaim Timestamp"", ""type"": ""number"", ""description"": ""Reclaim timestamp"" }, ""name"": { ""title"": ""Name"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[name]"", ""deprecated"": true }, ""project_id"": { ""title"": ""Project Id"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[tenant_id]"", ""deprecated"": true }, ""host"": { ""title"": ""Host"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[OS-EXT-SRV-ATTR:host]"", ""deprecated"": true }, ""hostname"": { ""title"": ""Hostname"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[OS-EXT-SRV-ATTR:hostname]"", ""deprecated"": true }, ""flavor"": { ""title"": ""Flavor"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[flavor][original_name]"", ""deprecated"": true }, ""flavor_info"": { ""title"": ""Flavor Info"", ""allOf"": [ { ""$ref"": ""#/components/schemas/FlavorInServer"" } ], ""description"": ""Will be removed, please use origin_data[flavor]"", ""deprecated"": true }, ""status"": { ""title"": ""Status"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[status]"", ""deprecated"": true } } }, ""ServerSortKey"": { ""title"": ""ServerSortKey"", ""enum"": [ ""uuid"", ""display_name"", ""vm_state"", ""locked"", ""created_at"", ""host"", ""project_id"" ], ""type"": ""string"", ""description"": ""An enumeration."" }, ""ServerStatus"": { ""title"": ""ServerStatus"", ""enum"": [ ""ACTIVE"", ""BUILD"", ""ERROR"", ""HARD_REBOOT"", ""MIGRATING"", ""PAUSED"", ""REBOOT"", ""REBUILD"", ""RESCUE"", ""RESIZE"", ""SHELVED"", ""SHELVED_OFFLOADED"", ""SHUTOFF"", ""SOFT_DELETED"", ""SUSPENDED"", ""UNKNOWN"" ], ""type"": ""string"", ""description"": ""An enumeration."" }, ""ServersResponse"": { ""title"": ""ServersResponse"", ""required"": [ ""servers"" ], ""type"": ""object"", ""properties"": { ""servers"": { ""title"": ""Servers"", ""type"": ""array"", ""items"": { ""$ref"": ""#/components/schemas/ServersResponseBase"" }, ""description"": ""Servers list"" } } }, ""ServersResponseBase"": { ""title"": ""ServersResponseBase"", ""required"": [ ""Server ID"", ""origin_data"" ], ""type"": ""object"", ""properties"": { ""Server ID"": { ""title"": ""Server Id"", ""type"": ""string"", ""format"": ""uuid4"" }, ""origin_data"": { ""title"": ""Origin Data"", ""type"": ""object"", ""description"": ""The origin_data is the same like the response of https://docs.openstack.org/api-ref/compute/?expanded=list-servers-detailed-detail#list-servers-detailed"" }, ""project_name"": { ""title"": ""Project Name"", ""type"": ""string"", ""description"": ""Project name"" }, ""image"": { ""title"": ""Image"", ""type"": ""string"", ""description"": ""Image ID"", ""format"": ""uuid4"" }, ""image_name"": { ""title"": ""Image Name"", ""type"": ""string"", ""description"": ""Image name"" }, ""image_os_distro"": { ""title"": ""Image Os Distro"", ""type"": ""string"", ""description"": ""Image OS distro"" }, ""fixed_addresses"": { ""title"": ""Fixed Addresses"", ""type"": ""array"", ""items"": {}, ""description"": ""Fixed addresses"" }, ""floating_addresses"": { ""title"": ""Floating Addresses"", ""type"": ""array"", ""items"": {}, ""description"": ""Floating addresses"" }, ""name"": { ""title"": ""Name"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[name]"", ""deprecated"": true }, ""project_id"": { ""title"": ""Project Id"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[tenant_id]"", ""deprecated"": true }, ""host"": { ""title"": ""Host"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[OS-EXT-SRV-ATTR:host]"", ""deprecated"": true }, ""hostname"": { ""title"": ""Hostname"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[OS-EXT-SRV-ATTR:hostname]"", ""deprecated"": true }, ""flavor"": { ""title"": ""Flavor"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[flavor][original_name]"", ""deprecated"": true }, ""flavor_info"": { ""title"": ""Flavor Info"", ""allOf"": [ { ""$ref"": ""#/components/schemas/FlavorInServer"" } ], ""description"": ""Will be removed, please use origin_data[flavor]"", ""deprecated"": true }, ""status"": { ""title"": ""Status"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[status]"", ""deprecated"": true }, ""locked"": { ""title"": ""Locked"", ""type"": ""boolean"", ""description"": ""Will be removed, please use origin_data[locked]"", ""deprecated"": true }, ""created_at"": { ""title"": ""Created At"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[created]"", ""deprecated"": true }, ""task_state"": { ""title"": ""Task State"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[OS-EXT-STS:task_state]"", ""deprecated"": true }, ""vm_state"": { ""title"": ""Vm State"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[OS-EXT-STS:vm_state]"", ""deprecated"": true }, ""power_state"": { ""title"": ""Power State"", ""type"": ""integer"", ""description"": ""Will be removed, please use origin_data[OS-EXT-STS:power_state]"", ""deprecated"": true }, ""root_device_name"": { ""title"": ""Root Device Name"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[OS-EXT-SRV-ATTR:root_device_name]"", ""deprecated"": true }, ""metadata"": { ""title"": ""Metadata"", ""type"": ""object"", ""description"": ""Will be removed, please use origin_data[metadata]"", ""deprecated"": true } } }, ""SortDir"": { ""title"": ""SortDir"", ""enum"": [ ""desc"", ""asc"" ], ""type"": ""string"", ""description"": ""An enumeration."" }, ""type"": ""string"", ""description"": ""Volume attachment id"" ""type"": ""string"", ""description"": ""Device name"" ""type"": ""string"", ""description"": ""Server id"" ""type"": ""string"", ""description"": ""Server name"" } } }, ""VolumeSnapshotSortKey"": { ""title"": ""VolumeSnapshotSortKey"", ""enum"": [ ""id"", ""name"", ""status"", ""created_at"" ], ""type"": ""string"", ""description"": ""An enumeration."" }, ""VolumeSnapshotStatus"": { ""title"": ""VolumeSnapshotStatus"", ""enum"": [ ""CREATING"", ""AVAILABLE"", ""DELETING"", ""ERROR"", ""ERROR_DELETING"" ], ""type"": ""string"", ""description"": ""An enumeration."" }, ""VolumeSnapshotsResponse"": { ""title"": ""VolumeSnapshotsResponse"", ""required"": [ ""volume_snapshots"" ], ""type"": ""object"", ""properties"": { ""count"": { ""title"": ""Count"", ""type"": ""integer"", ""description"": ""Count of volume snapshots"", ""default"": 0 }, ""volume_snapshots"": { ""title"": ""Volume Snapshots"", ""type"": ""array"", ""items"": { ""$ref"": ""#/components/schemas/VolumeSnapshotsResponseBase"" }, ""description"": ""Volume snapshots list"" } } }, ""VolumeSnapshotsResponseBase"": { ""title"": ""VolumeSnapshotsResponseBase"", ""required"": [ ""id"", ""origin_data"" ], ""type"": ""object"", ""properties"": { ""id"": { ""title"": ""Id"", ""type"": ""string"", ""description"": ""Snapshot ID"" }, ""origin_data"": { ""title"": ""Origin Data"", ""type"": ""object"", ""description"": ""The origin_data is the same like the response of https://docs.openstack.org/api-ref/block-storage/v3/index.html?expanded=list-snapshots-and-details-detail#list-snapshots-and-details"" }, ""project_name"": { ""title"": ""Project Name"", ""type"": ""string"", ""description"": ""Project name"" }, ""host"": { ""title"": ""Host"", ""type"": ""string"", ""description"": ""Host name"" }, ""volume_name"": { ""title"": ""Volume Name"", ""type"": ""string"", ""description"": ""Volume name"" }, ""child_volumes"": { ""title"": ""Child Volumes"", ""type"": ""array"", ""items"": {}, ""description"": ""Child volumes"" }, ""name"": { ""title"": ""Name"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[name]"", ""deprecated"": true }, ""project_id"": { ""title"": ""Project Id"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[os-extended-snapshot-attributes:project_id]"", ""deprecated"": true }, ""size"": { ""title"": ""Size"", ""type"": ""integer"", ""description"": ""Will be removed, please use origin_data[size]"", ""deprecated"": true }, ""status"": { ""title"": ""Status"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[status]"", ""deprecated"": true }, ""volume_id"": { ""title"": ""Volume Id"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[volume_id]"", ""deprecated"": true }, ""created_at"": { ""title"": ""Created At"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[created_at]"", ""deprecated"": true }, ""metadata"": { ""title"": ""Metadata"", ""type"": ""object"", ""description"": ""Will be removed, please use origin_data[metadata]"", ""deprecated"": true } } }, ""VolumeSortKey"": { ""title"": ""VolumeSortKey"", ""enum"": [ ""id"", ""name"", ""size"", ""status"", ""bootable"", ""created_at"" ], ""type"": ""string"", ""description"": ""An enumeration."" }, ""VolumeStatus"": { ""title"": ""VolumeStatus"", ""enum"": [ ""creating"", ""available"", ""reserved"", ""attaching"", ""detaching"", ""in-use"", ""maintenance"", ""deleting"", ""awaiting-transfer"", ""error"", ""error_deleting"", ""backing-up"", ""restoring-backup"", ""error_backing-up"", ""error_restoring"", ""error_extending"", ""downloading"", ""uploading"", ""retyping"", ""extending"" ], ""type"": ""string"", ""description"": ""An enumeration."" }, ""VolumesResponse"": { ""title"": ""VolumesResponse"", ""required"": [ ""volumes"" ], ""type"": ""object"", ""properties"": { ""count"": { ""title"": ""Count"", ""type"": ""integer"", ""description"": ""Count of volumes"", ""default"": 0 }, ""volumes"": { ""title"": ""Volumes"", ""type"": ""array"", ""items"": { ""$ref"": ""#/components/schemas/VolumesResponseBase"" }, ""description"": ""Volumes list"" } } }, ""VolumesResponseBase"": { ""title"": ""VolumesResponseBase"", ""required"": [ ""id"", ""origin_data"" ], ""type"": ""object"", ""properties"": { ""id"": { ""title"": ""Id"", ""type"": ""string"", ""description"": ""Volume ID"", ""format"": ""uuid4"" }, ""origin_data"": { ""title"": ""Origin Data"", ""type"": ""object"", ""description"": ""The origin_data is the same like the response of https://docs.openstack.org/api-ref/block-storage/v3/index.html?expanded=list-accessible-volumes-with-details-detail#list-accessible-volumes-with-details"" }, ""project_name"": { ""title"": ""Project Name"", ""type"": ""string"", ""description"": ""Project name"" }, ""attachments"": { ""title"": ""Attachments"", ""type"": ""array"", ""items"": { ""$ref"": ""#/components/schemas/VolumeAttachment"" }, ""description"": ""Volume attachments"" }, ""name"": { ""title"": ""Name"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[name]"", ""deprecated"": true }, ""project_id"": { ""title"": ""Project Id"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[os-vol-tenant-attr:tenant_id]"", ""deprecated"": true }, ""host"": { ""title"": ""Host"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[os-vol-host-attr:host]"", ""deprecated"": true }, ""snapshot_id"": { ""title"": ""Snapshot Id"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[snapshot_id]"", ""deprecated"": true }, ""source_volid"": { ""title"": ""Source Volid"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[source_volid]"", ""deprecated"": true }, ""size"": { ""title"": ""Size"", ""type"": ""integer"", ""description"": ""Will be removed, please use origin_data[size]"", ""deprecated"": true }, ""status"": { ""title"": ""Status"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[status]"", ""deprecated"": true }, ""volume_type"": { ""title"": ""Volume Type"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[volume_type]"", ""deprecated"": true }, ""encrypted"": { ""title"": ""Encrypted"", ""type"": ""boolean"", ""description"": ""Will be removed, please use origin_data[encrypted]"", ""deprecated"": true }, ""bootable"": { ""title"": ""Bootable"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[bootable]"", ""deprecated"": true }, ""multiattach"": { ""title"": ""Multiattach"", ""type"": ""boolean"", ""description"": ""Will be removed, please use origin_data[multiattach]"", ""deprecated"": true }, ""availability_zone"": { ""title"": ""Availability Zone"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[availability_zone]"", ""deprecated"": true }, ""created_at"": { ""title"": ""Created At"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[created_at]"", ""deprecated"": true"," ""$ref"": ""#/components/schemas/ExtSortDir"" ""$ref"": ""#/components/schemas/ExtServerSortKey"" ""$ref"": ""#/components/schemas/ExtServerStatus"" ""$ref"": ""#/components/schemas/ExtListServersResponse"" ""$ref"": ""#/components/schemas/ExtSortDir"" ""$ref"": ""#/components/schemas/ExtRecycleServerSortKey"" ""$ref"": ""#/components/schemas/ExtListRecycleServersResponse"" ""$ref"": ""#/components/schemas/ExtSortDir"" ""$ref"": ""#/components/schemas/ExtVolumeSortKey"" ""$ref"": ""#/components/schemas/ExtVolumeStatus"" ""$ref"": ""#/components/schemas/ExtListVolumesResponse"" ""$ref"": ""#/components/schemas/ExtSortDir"" ""$ref"": ""#/components/schemas/ExtVolumeSnapshotSortKey"" ""$ref"": ""#/components/schemas/ExtVolumeSnapshotStatus"" ""$ref"": ""#/components/schemas/ExtListVolumeSnapshotsResponse"" ""$ref"": ""#/components/schemas/ExtSortDir"" ""$ref"": ""#/components/schemas/ExtPortSortKey"" ""$ref"": ""#/components/schemas/ExtPortStatus"" ""$ref"": ""#/components/schemas/ExtPortDeviceOwner"" ""$ref"": ""#/components/schemas/ExtListPortsResponse"" ""$ref"": ""#/components/schemas/ExtListComputeServicesResponse"" ""ExtFlavor"": { ""title"": ""ExtFlavor"", ""type"": ""integer"" ""type"": ""integer"" ""type"": ""string"" ""type"": ""integer"" ""type"": ""object"" ""type"": ""integer"" ""type"": ""integer"" } } }, ""ExtListComputeServicesBaseResponse"": { ""title"": ""ExtListComputeServicesBaseResponse"", ""required"": [ ""binary"", ""host"", ""status"" ], ""type"": ""object"", ""properties"": { ""id"": { ""title"": ""Id"", ""type"": ""string"" }, ""binary"": { ""title"": ""Binary"", ""type"": ""string"" }, ""disabled_reason"": { ""title"": ""Disabled Reason"", ""type"": ""string"" }, ""host"": { ""title"": ""Host"", ""type"": ""string"" }, ""state"": { ""title"": ""State"", ""type"": ""string"" }, ""status"": { ""title"": ""Status"", ""type"": ""string"" }, ""updated_at"": { ""title"": ""Updated At"", ""type"": ""string"" }, ""forced_down"": { ""title"": ""Forced Down"", ""type"": ""boolean"" }, ""zone"": { ""title"": ""Zone"", ""type"": ""string"" } } }, ""ExtListComputeServicesResponse"": { ""title"": ""ExtListComputeServicesResponse"", ""required"": [ ""services"" ], ""type"": ""object"", ""properties"": { ""services"": { ""title"": ""Services"", ""type"": ""array"", ""items"": { ""$ref"": ""#/components/schemas/ExtListComputeServicesBaseResponse"" } } } }, ""ExtListPortsBaseResponse"": { ""title"": ""ExtListPortsBaseResponse"", ""required"": [ ""id"", ""origin_data"" ], ""type"": ""object"", ""properties"": { ""id"": { ""title"": ""Id"", ""type"": ""string"" }, ""origin_data"": { ""title"": ""Origin Data"", ""type"": ""object"", ""description"": ""The origin_data is the same like the response of https://docs.openstack.org/api-ref/network/v2/index.html?expanded=list-ports-detail#list-ports"" }, ""server_name"": { ""title"": ""Server Name"", ""type"": ""string"" }, ""network_name"": { ""title"": ""Network Name"", ""type"": ""string"" }, ""ipv4"": { ""title"": ""Ipv4"", ""type"": ""array"", ""items"": {} }, ""ipv6"": { ""title"": ""Ipv6"", ""type"": ""array"", ""items"": {} }, ""name"": { ""title"": ""Name"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[name]"", ""deprecated"": true }, ""mac_address"": { ""title"": ""Mac Address"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[mac_address]"", ""deprecated"": true }, ""project_id"": { ""title"": ""Project Id"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[project_id]"", ""deprecated"": true }, ""device_owner"": { ""title"": ""Device Owner"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[device_owner]"", ""deprecated"": true }, ""device_id"": { ""title"": ""Device Id"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[device_id]"", ""deprecated"": true }, ""status"": { ""title"": ""Status"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[status]"", ""deprecated"": true }, ""created_at"": { ""title"": ""Created At"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[created_at]"", ""deprecated"": true }, ""network_id"": { ""title"": ""Network Id"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[network_id]"", ""deprecated"": true }, ""binding_vnic_type"": { ""title"": ""Binding Vnic Type"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[binding:vnic_type]"", ""deprecated"": true }, ""description"": { ""title"": ""Description"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[description]"", ""deprecated"": true }, ""port_security_enabled"": { ""title"": ""Port Security Enabled"", ""type"": ""boolean"", ""description"": ""Will be removed, please use origin_data[port_security_enabled]"", ""deprecated"": true }, ""qos_policy_id"": { ""title"": ""Qos Policy Id"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[qos_policy_id]"", ""deprecated"": true }, ""fixed_ips"": { ""title"": ""Fixed Ips"", ""type"": ""array"", ""items"": {}, ""description"": ""Will be removed, please use origin_data[fixed_ips]"", ""deprecated"": true } } }, ""ExtListPortsResponse"": { ""title"": ""ExtListPortsResponse"", ""required"": [ ""ports"" ], ""type"": ""object"", ""properties"": { ""ports"": { ""title"": ""Ports"", ""type"": ""array"", ""items"": { ""$ref"": ""#/components/schemas/ExtListPortsBaseResponse"" } } } }, ""ExtListRecycleServersBaseResponse"": { ""title"": ""ExtListRecycleServersBaseResponse"", ""required"": [ ""id"", ""origin_data"", ""reclaim_timestamp"" ], ""type"": ""object"", ""properties"": { ""id"": { ""title"": ""Id"", ""type"": ""string"", ""format"": ""uuid4"" }, ""origin_data"": { ""title"": ""Origin Data"", ""type"": ""object"", ""description"": ""The origin_data is the same like the response of https://docs.openstack.org/api-ref/compute/?expanded=list-servers-detailed-detail#list-servers-detailed"" }, ""project_name"": { ""title"": ""Project Name"", ""type"": ""string"" }, ""image"": { ""title"": ""Image"", ""type"": ""string"", ""format"": ""uuid4"" }, ""image_name"": { ""title"": ""Image Name"", ""type"": ""string"" }, ""image_os_distro"": { ""title"": ""Image Os Distro"", ""type"": ""string"" }, ""fixed_addresses"": { ""title"": ""Fixed Addresses"", ""type"": ""array"", ""items"": {} }, ""floating_addresses"": { ""title"": ""Floating Addresses"", ""type"": ""array"", ""items"": {} }, ""deleted_at"": { ""title"": ""Deleted At"", ""type"": ""string"" }, ""reclaim_timestamp"": { ""title"": ""Reclaim Timestamp"", ""type"": ""number"" }, ""name"": { ""title"": ""Name"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[name]"", ""deprecated"": true }, ""project_id"": { ""title"": ""Project Id"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[tenant_id]"", ""deprecated"": true }, ""host"": { ""title"": ""Host"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[OS-EXT-SRV-ATTR:host]"", ""deprecated"": true }, ""hostname"": { ""title"": ""Hostname"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[OS-EXT-SRV-ATTR:hostname]"", ""deprecated"": true }, ""flavor"": { ""title"": ""Flavor"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[flavor][original_name]"", ""deprecated"": true }, ""flavor_info"": { ""title"": ""Flavor Info"", ""allOf"": [ { ""$ref"": ""#/components/schemas/ExtFlavor"" } ], ""description"": ""Will be removed, please use origin_data[flavor]"", ""deprecated"": true }, ""status"": { ""title"": ""Status"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[status]"", ""deprecated"": true } } }, ""ExtListRecycleServersResponse"": { ""title"": ""ExtListRecycleServersResponse"", ""required"": [ ""recycle_servers"" ], ""type"": ""object"", ""properties"": { ""recycle_servers"": { ""title"": ""Recycle Servers"", ""type"": ""array"", ""items"": { ""$ref"": ""#/components/schemas/ExtListRecycleServersBaseResponse"" } } } }, ""ExtListServersBaseResponse"": { ""title"": ""ExtListServersBaseResponse"", ""required"": [ ""id"", ""origin_data"" ], ""type"": ""object"", ""properties"": { ""id"": { ""title"": ""Id"", ""type"": ""string"", ""format"": ""uuid4"" }, ""origin_data"": { ""title"": ""Origin Data"", ""type"": ""object"", ""description"": ""The origin_data is the same like the response of https://docs.openstack.org/api-ref/compute/?expanded=list-servers-detailed-detail#list-servers-detailed"" }, ""project_name"": { ""title"": ""Project Name"", ""type"": ""string"" }, ""image"": { ""title"": ""Image"", ""type"": ""string"", ""format"": ""uuid4"" }, ""image_name"": { ""title"": ""Image Name"", ""type"": ""string"" }, ""image_os_distro"": { ""title"": ""Image Os Distro"", ""type"": ""string"" }, ""fixed_addresses"": { ""title"": ""Fixed Addresses"", ""type"": ""array"", ""items"": {} }, ""floating_addresses"": { ""title"": ""Floating Addresses"", ""type"": ""array"", ""items"": {} }, ""name"": { ""title"": ""Name"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[name]"", ""deprecated"": true }, ""project_id"": { ""title"": ""Project Id"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[tenant_id]"", ""deprecated"": true }, ""host"": { ""title"": ""Host"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[OS-EXT-SRV-ATTR:host]"", ""deprecated"": true }, ""hostname"": { ""title"": ""Hostname"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[OS-EXT-SRV-ATTR:hostname]"", ""deprecated"": true }, ""flavor"": { ""title"": ""Flavor"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[flavor][original_name]"", ""deprecated"": true }, ""flavor_info"": { ""title"": ""Flavor Info"", ""allOf"": [ { ""$ref"": ""#/components/schemas/ExtFlavor"" } ], ""description"": ""Will be removed, please use origin_data[flavor]"", ""deprecated"": true }, ""status"": { ""title"": ""Status"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[status]"", ""deprecated"": true }, ""locked"": { ""title"": ""Locked"", ""type"": ""boolean"", ""description"": ""Will be removed, please use origin_data[locked]"", ""deprecated"": true }, ""created_at"": { ""title"": ""Created At"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[created]"", ""deprecated"": true }, ""task_state"": { ""title"": ""Task State"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[OS-EXT-STS:task_state]"", ""deprecated"": true }, ""vm_state"": { ""title"": ""Vm State"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[OS-EXT-STS:vm_state]"", ""deprecated"": true }, ""power_state"": { ""title"": ""Power State"", ""description"": ""Will be removed, please use origin_data[OS-EXT-STS:power_state]"", ""deprecated"": true }, ""root_device_name"": { ""title"": ""Root Device Name"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[OS-EXT-SRV-ATTR:root_device_name]"", ""deprecated"": true }, ""metadata"": { ""title"": ""Metadata"", ""type"": ""object"", ""description"": ""Will be removed, please use origin_data[metadata]"", ""deprecated"": true ""ExtListServersResponse"": { ""title"": ""ExtListServersResponse"", ""required"": [ ""servers"" ], ""type"": ""object"", ""properties"": { ""servers"": { ""title"": ""Servers"", ""type"": ""array"", ""items"": { ""$ref"": ""#/components/schemas/ExtListServersBaseResponse"" } } } }, ""ExtListVolumeSnapshotsBaseResponse"": { ""title"": ""ExtListVolumeSnapshotsBaseResponse"", ""required"": [ ""id"", ""origin_data"" ], ""type"": ""object"", ""properties"": { ""id"": { ""title"": ""Id"", ""type"": ""string"" }, ""origin_data"": { ""title"": ""Origin Data"", ""type"": ""object"", ""description"": ""The origin_data is the same like the response of https://docs.openstack.org/api-ref/block-storage/v3/index.html?expanded=list-snapshots-and-details-detail#list-snapshots-and-details"" }, ""project_name"": { ""title"": ""Project Name"", ""type"": ""string"" }, ""host"": { ""title"": ""Host"", ""type"": ""string"" }, ""volume_name"": { ""title"": ""Volume Name"", ""type"": ""string"" }, ""child_volumes"": { ""title"": ""Child Volumes"", ""type"": ""array"", ""items"": {} }, ""name"": { ""title"": ""Name"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[name]"", ""deprecated"": true }, ""project_id"": { ""title"": ""Project Id"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[os-extended-snapshot-attributes:project_id]"", ""deprecated"": true }, ""size"": { ""title"": ""Size"", ""type"": ""integer"", ""description"": ""Will be removed, please use origin_data[size]"", ""deprecated"": true }, ""status"": { ""title"": ""Status"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[status]"", ""deprecated"": true }, ""volume_id"": { ""title"": ""Volume Id"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[volume_id]"", ""deprecated"": true }, ""created_at"": { ""title"": ""Created At"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[created_at]"", ""deprecated"": true }, ""metadata"": { ""title"": ""Metadata"", ""type"": ""object"", ""description"": ""Will be removed, please use origin_data[metadata]"", ""deprecated"": true } } }, ""ExtListVolumeSnapshotsResponse"": { ""title"": ""ExtListVolumeSnapshotsResponse"", ""required"": [ ""volume_snapshots"" ], ""type"": ""object"", ""properties"": { ""count"": { ""title"": ""Count"", ""type"": ""integer"", ""default"": 0 }, ""volume_snapshots"": { ""title"": ""Volume Snapshots"", ""type"": ""array"", ""items"": { ""$ref"": ""#/components/schemas/ExtListVolumeSnapshotsBaseResponse"" } } } }, ""ExtListVolumesBaseResponse"": { ""title"": ""ExtListVolumesBaseResponse"", ""required"": [ ""id"", ""origin_data"" ], ""type"": ""object"", ""properties"": { ""id"": { ""title"": ""Id"", ""type"": ""string"", ""format"": ""uuid4"" }, ""origin_data"": { ""title"": ""Origin Data"", ""type"": ""object"", ""description"": ""The origin_data is the same like the response of https://docs.openstack.org/api-ref/block-storage/v3/index.html?expanded=list-accessible-volumes-with-details-detail#list-accessible-volumes-with-details"" }, ""project_name"": { ""title"": ""Project Name"", ""type"": ""string"" }, ""attachments"": { ""title"": ""Attachments"", ""type"": ""array"", ""items"": { ""$ref"": ""#/components/schemas/VolumeAttachment"" } }, ""name"": { ""title"": ""Name"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[name]"", ""deprecated"": true }, ""project_id"": { ""title"": ""Project Id"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[os-vol-tenant-attr:tenant_id]"", ""deprecated"": true }, ""host"": { ""title"": ""Host"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[os-vol-host-attr:host]"", ""deprecated"": true }, ""snapshot_id"": { ""title"": ""Snapshot Id"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[snapshot_id]"", ""deprecated"": true }, ""source_volid"": { ""title"": ""Source Volid"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[source_volid]"", ""deprecated"": true }, ""size"": { ""title"": ""Size"", ""type"": ""integer"", ""description"": ""Will be removed, please use origin_data[size]"", ""deprecated"": true }, ""status"": { ""title"": ""Status"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[status]"", ""deprecated"": true }, ""volume_type"": { ""title"": ""Volume Type"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[volume_type]"", ""deprecated"": true }, ""encrypted"": { ""title"": ""Encrypted"", ""type"": ""boolean"", ""description"": ""Will be removed, please use origin_data[encrypted]"", ""deprecated"": true }, ""bootable"": { ""title"": ""Bootable"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[bootable]"", ""deprecated"": true }, ""multiattach"": { ""title"": ""Multiattach"", ""type"": ""boolean"", ""description"": ""Will be removed, please use origin_data[multiattach]"", ""deprecated"": true }, ""availability_zone"": { ""title"": ""Availability Zone"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[availability_zone]"", ""deprecated"": true }, ""created_at"": { ""title"": ""Created At"", ""type"": ""string"", ""description"": ""Will be removed, please use origin_data[created_at]"", ""deprecated"": true } } }, ""ExtListVolumesResponse"": { ""title"": ""ExtListVolumesResponse"", ""required"": [ ""volumes"" ], ""type"": ""object"", ""properties"": { ""count"": { ""title"": ""Count"", ""type"": ""integer"", ""default"": 0 }, ""volumes"": { ""title"": ""Volumes"", ""type"": ""array"", ""items"": { ""$ref"": ""#/components/schemas/ExtListVolumesBaseResponse"" } } } }, ""ExtPortDeviceOwner"": { ""title"": ""ExtPortDeviceOwner"", ""enum"": [ """", ""compute:nova"", ""network:router_ha_interface"", ""network:ha_router_replicated_interface"", ""network:router_interface"", ""network:router_gateway"", ""network:floatingip"", ""network:local_ip"", ""network:dhcp"", ""network:router_interface_distributed"", ""network:floatingip_agent_gateway"", ""network:router_centralized_snat"", ""network:routed"", ""network:distributed"" ], ""type"": ""string"", ""description"": ""An enumeration."" }, ""ExtPortSortKey"": { ""title"": ""ExtPortSortKey"", ""enum"": [ ""id"", ""name"", ""mac_address"", ""status"", ""project_id"" ], ""type"": ""string"", ""description"": ""An enumeration."" }, ""ExtPortStatus"": { ""title"": ""ExtPortStatus"", ""enum"": [ ""ACTIVE"", ""DOWN"", ""BUILD"", ""ERROR"", ""N/A"" ], ""type"": ""string"", ""description"": ""An enumeration."" }, ""ExtRecycleServerSortKey"": { ""title"": ""ExtRecycleServerSortKey"", ""enum"": [ ""uuid"", ""display_name"", ""updated_at"", ""project_id"" ], ""type"": ""string"", ""description"": ""An enumeration."" }, ""ExtServerSortKey"": { ""title"": ""ExtServerSortKey"", ""enum"": [ ""uuid"", ""display_name"", ""vm_state"", ""locked"", ""created_at"", ""host"", ""project_id"" ], ""type"": ""string"", ""description"": ""An enumeration."" }, ""ExtServerStatus"": { ""title"": ""ExtServerStatus"", ""enum"": [ ""ACTIVE"", ""BUILD"", ""ERROR"", ""HARD_REBOOT"", ""MIGRATING"", ""PAUSED"", ""REBOOT"", ""REBUILD"", ""RESCUE"", ""RESIZE"", ""SHELVED"", ""SHELVED_OFFLOADED"", ""SHUTOFF"", ""SOFT_DELETED"", ""SUSPENDED"", ""UNKNOWN"" ], ""type"": ""string"", ""description"": ""An enumeration."" }, ""ExtSortDir"": { ""title"": ""ExtSortDir"", ""enum"": [ ""desc"", ""asc"" ], ""type"": ""string"", ""description"": ""An enumeration."" }, ""ExtVolumeSnapshotSortKey"": { ""title"": ""ExtVolumeSnapshotSortKey"", ""enum"": [ ""id"", ""name"", ""status"", ""created_at"" ], ""type"": ""string"", ""description"": ""An enumeration."" }, ""ExtVolumeSnapshotStatus"": { ""title"": ""ExtVolumeSnapshotStatus"", ""enum"": [ ""CREATING"", ""AVAILABLE"", ""DELETING"", ""ERROR"", ""ERROR_DELETING"" ], ""type"": ""string"", ""description"": ""An enumeration."" }, ""ExtVolumeSortKey"": { ""title"": ""ExtVolumeSortKey"", ""enum"": [ ""id"", ""name"", ""size"", ""status"", ""bootable"", ""created_at"" ], ""type"": ""string"", ""description"": ""An enumeration."" }, ""ExtVolumeStatus"": { ""title"": ""ExtVolumeStatus"", ""enum"": [ ""creating"", ""available"", ""reserved"", ""attaching"", ""detaching"", ""in-use"", ""maintenance"", ""deleting"", ""awaiting-transfer"", ""error"", ""error_deleting"", ""backing-up"", ""restoring-backup"", ""error_backing-up"", ""error_restoring"", ""error_extending"", ""downloading"", ""uploading"", ""retyping"", ""extending"" ], ""type"": ""string"", ""description"": ""An enumeration."" }, ""type"": ""string"" ""type"": ""string"" ""type"": ""string"" ""type"": ""string""",1103,1043
openstack%2Fskyline-apiserver~master~I95bdda3e69ad3f55dd1213ea6ef01df6245025db,openstack/skyline-apiserver,master,I95bdda3e69ad3f55dd1213ea6ef01df6245025db,fix: Fix schemas of ServersResponseBase,MERGED,2022-07-15 03:12:34.000000000,2022-10-14 14:12:07.000000000,2022-07-15 07:21:46.000000000,"[{'_account_id': 6282}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 28706}, {'_account_id': 30434}, {'_account_id': 33689}, {'_account_id': 35159}, {'_account_id': 35161}]","[{'number': 1, 'created': '2022-07-15 03:12:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/39f7cdb5dcabf6c5f0c1b1ac1fccd18a245c9868', 'message': 'fix: Fix schemas of ServersResponseBase\n\nNot alias field. Just description field.\n\nChange-Id: I95bdda3e69ad3f55dd1213ea6ef01df6245025db\n'}, {'number': 2, 'created': '2022-07-15 05:23:52.000000000', 'files': ['requirements.txt', 'skyline_apiserver/schemas/extension.py', 'docs/api/swagger.json'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/4d6f7843840908037ce4c64dcd2473d88ebe5b1d', 'message': 'fix: Fix schemas of ServersResponseBase\n\n1. Not alias field. Just description field.\n2. fix the python-glanceclient version\n\nChange-Id: I95bdda3e69ad3f55dd1213ea6ef01df6245025db\n'}]",1,849934,4d6f7843840908037ce4c64dcd2473d88ebe5b1d,14,8,2,28706,,,0,"fix: Fix schemas of ServersResponseBase

1. Not alias field. Just description field.
2. fix the python-glanceclient version

Change-Id: I95bdda3e69ad3f55dd1213ea6ef01df6245025db
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/34/849934/1 && git format-patch -1 --stdout FETCH_HEAD,"['skyline_apiserver/schemas/extension.py', 'docs/api/swagger.json']",2,39f7cdb5dcabf6c5f0c1b1ac1fccd18a245c9868,," ""id"", ""id"": { ""title"": ""Id"", ""description"": ""Server ID"","," ""Server ID"", ""Server ID"": { ""title"": ""Server Id"",",5,4
openstack%2Fneutron~master~Iba73f7944592a003232eb397ba1d4da3dcba5c3a,openstack/neutron,master,Iba73f7944592a003232eb397ba1d4da3dcba5c3a,[OVN] Avoid deadlock when cleaning hash ring nodes,MERGED,2022-10-11 10:19:51.000000000,2022-10-14 13:27:51.000000000,2022-10-14 13:26:01.000000000,"[{'_account_id': 4694}, {'_account_id': 5756}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-10-11 10:19:51.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b7b8f7c571440577a40aacf9d8d93abc3a5a48b3', 'message': ""[OVN] Avoid deadlock when cleaning hash ring nodes\n\nThis patch avoids the clash of the hash ring cleaning operation and the\nAPI workers by ensuring that the cleaning happens before the nodes for\nthat host are added to the ring and the connections to the OVSDBs (meaning\nno events therefore no SELECTS on the hash ring table for that hostname).\n\nThis patch does this by re-using the same hash ring lock that starts\nthe probing thread. Now, the first worker that acquire the lock is\nresponsible for cleaning the hash ring for it's own host as well as\nstarting the probing thread. Subsequently workers only need to register\nthemselves to the hash ring.\n\nChange-Id: Iba73f7944592a003232eb397ba1d4da3dcba5c3a\nCloses-Bug: #1990174\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}]",5,860934,b7b8f7c571440577a40aacf9d8d93abc3a5a48b3,14,8,1,6773,,,0,"[OVN] Avoid deadlock when cleaning hash ring nodes

This patch avoids the clash of the hash ring cleaning operation and the
API workers by ensuring that the cleaning happens before the nodes for
that host are added to the ring and the connections to the OVSDBs (meaning
no events therefore no SELECTS on the hash ring table for that hostname).

This patch does this by re-using the same hash ring lock that starts
the probing thread. Now, the first worker that acquire the lock is
responsible for cleaning the hash ring for it's own host as well as
starting the probing thread. Subsequently workers only need to register
themselves to the hash ring.

Change-Id: Iba73f7944592a003232eb397ba1d4da3dcba5c3a
Closes-Bug: #1990174
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/860934/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'],1,b7b8f7c571440577a40aacf9d8d93abc3a5a48b3,hash-ring-clear-lock," def _setup_hash_ring(self): """"""Setup the hash ring. The first worker to acquire the lock is responsible for cleaning the hash ring from previous runs as well as start the probing thread for this host. Subsequently workers just need to register themselves to the hash ring. """""" admin_context = n_context.get_admin_context() if not self._hash_ring_probe_event.is_set(): self._clean_hash_ring() self.node_uuid = ovn_hash_ring_db.add_node(admin_context, self.hash_ring_group) else: self.node_uuid = ovn_hash_ring_db.add_node(admin_context, self.hash_ring_group) self._setup_hash_ring()"," # NOTE(lucasagomes): _clean_hash_ring() must be called before # self.subscribe() to avoid processes racing when adding or # deleting nodes from the Hash Ring during service initialization self._clean_hash_ring() def _start_hash_ring_probe(self): if not self._hash_ring_probe_event.is_set(): admin_context = n_context.get_admin_context() self.node_uuid = ovn_hash_ring_db.add_node(admin_context, self.hash_ring_group) self._start_hash_ring_probe()",16,9
openstack%2Fmasakari~stable%2Fxena~Id873b3300b6de49082805654c85414a8868dd925,openstack/masakari,stable/xena,Id873b3300b6de49082805654c85414a8868dd925,Handle host notification without host status,MERGED,2022-10-14 11:11:46.000000000,2022-10-14 13:27:31.000000000,2022-10-14 13:26:21.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-10-14 11:11:46.000000000', 'files': ['masakari/tests/unit/engine/test_engine_mgr.py', 'releasenotes/notes/bug-1960619-4c2cc73483bdff86.yaml', 'masakari/engine/manager.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/a5b7564f4453e7ec7df4021a852eb40b0bd631ca', 'message': 'Handle host notification without host status\n\nIf an user sends host notification without host status:\nopenstack notification create COMPUTE_HOST <host> <date> \'{""event"": ""STOPPED""}\'\nlogging registers silly error like object None has not method \'upper\' and\nnotification gets status \'running\', host is set in maintenance status.\nIt\'s impossible to set manually host status to non-maintanence\nuntil there are host-related running notifications.\nRunning notifications are expired in 24 hours by default.\nThe patch makes engine to set \'ignore\' status for such\nnotifications.\n\nCloses-Bug: 1960619\nChange-Id: Id873b3300b6de49082805654c85414a8868dd925\n(cherry picked from commit 0837d7787c1be35df4b4330dbe6cdd2c160a69ab)\n'}]",0,861301,a5b7564f4453e7ec7df4021a852eb40b0bd631ca,7,2,1,30491,,,0,"Handle host notification without host status

If an user sends host notification without host status:
openstack notification create COMPUTE_HOST <host> <date> '{""event"": ""STOPPED""}'
logging registers silly error like object None has not method 'upper' and
notification gets status 'running', host is set in maintenance status.
It's impossible to set manually host status to non-maintanence
until there are host-related running notifications.
Running notifications are expired in 24 hours by default.
The patch makes engine to set 'ignore' status for such
notifications.

Closes-Bug: 1960619
Change-Id: Id873b3300b6de49082805654c85414a8868dd925
(cherry picked from commit 0837d7787c1be35df4b4330dbe6cdd2c160a69ab)
",git fetch https://review.opendev.org/openstack/masakari refs/changes/01/861301/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/tests/unit/engine/test_engine_mgr.py', 'releasenotes/notes/bug-1960619-4c2cc73483bdff86.yaml', 'masakari/engine/manager.py']",3,a5b7564f4453e7ec7df4021a852eb40b0bd631ca,bug/1960619-stable/zed-stable/yoga-stable/xena," if host_status is None: LOG.warning(""Notification '%(uuid)s' ignored as host_status is "" ""not provided."", {'uuid': notification.notification_uuid}) notification_status = fields.NotificationStatus.IGNORED elif host_status.upper() != fields.HostStatusType.NORMAL: LOG.warning(""Notification '%(uuid)s' ignored as host_status """," if host_status.upper() != fields.HostStatusType.NORMAL: LOG.warning(""Notification '%(uuid)s' ignored as host_status""",42,4
openstack%2Fmasakari~stable%2Fwallaby~Id873b3300b6de49082805654c85414a8868dd925,openstack/masakari,stable/wallaby,Id873b3300b6de49082805654c85414a8868dd925,Handle host notification without host status,MERGED,2022-10-14 11:11:52.000000000,2022-10-14 13:27:27.000000000,2022-10-14 13:26:23.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-10-14 11:11:52.000000000', 'files': ['masakari/tests/unit/engine/test_engine_mgr.py', 'releasenotes/notes/bug-1960619-4c2cc73483bdff86.yaml', 'masakari/engine/manager.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/e3f6e78847568121529d24d1fd71b166cee965af', 'message': 'Handle host notification without host status\n\nIf an user sends host notification without host status:\nopenstack notification create COMPUTE_HOST <host> <date> \'{""event"": ""STOPPED""}\'\nlogging registers silly error like object None has not method \'upper\' and\nnotification gets status \'running\', host is set in maintenance status.\nIt\'s impossible to set manually host status to non-maintanence\nuntil there are host-related running notifications.\nRunning notifications are expired in 24 hours by default.\nThe patch makes engine to set \'ignore\' status for such\nnotifications.\n\nCloses-Bug: 1960619\nChange-Id: Id873b3300b6de49082805654c85414a8868dd925\n(cherry picked from commit 0837d7787c1be35df4b4330dbe6cdd2c160a69ab)\n'}]",0,861302,e3f6e78847568121529d24d1fd71b166cee965af,7,2,1,30491,,,0,"Handle host notification without host status

If an user sends host notification without host status:
openstack notification create COMPUTE_HOST <host> <date> '{""event"": ""STOPPED""}'
logging registers silly error like object None has not method 'upper' and
notification gets status 'running', host is set in maintenance status.
It's impossible to set manually host status to non-maintanence
until there are host-related running notifications.
Running notifications are expired in 24 hours by default.
The patch makes engine to set 'ignore' status for such
notifications.

Closes-Bug: 1960619
Change-Id: Id873b3300b6de49082805654c85414a8868dd925
(cherry picked from commit 0837d7787c1be35df4b4330dbe6cdd2c160a69ab)
",git fetch https://review.opendev.org/openstack/masakari refs/changes/02/861302/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/tests/unit/engine/test_engine_mgr.py', 'releasenotes/notes/bug-1960619-4c2cc73483bdff86.yaml', 'masakari/engine/manager.py']",3,e3f6e78847568121529d24d1fd71b166cee965af,bug/1960619-stable/zed-stable/yoga-stable/xena-stable/wallaby," if host_status is None: LOG.warning(""Notification '%(uuid)s' ignored as host_status is "" ""not provided."", {'uuid': notification.notification_uuid}) notification_status = fields.NotificationStatus.IGNORED elif host_status.upper() != fields.HostStatusType.NORMAL: LOG.warning(""Notification '%(uuid)s' ignored as host_status """," if host_status.upper() != fields.HostStatusType.NORMAL: LOG.warning(""Notification '%(uuid)s' ignored as host_status""",42,4
openstack%2Fmasakari~stable%2Fyoga~Id873b3300b6de49082805654c85414a8868dd925,openstack/masakari,stable/yoga,Id873b3300b6de49082805654c85414a8868dd925,Handle host notification without host status,MERGED,2022-10-14 11:11:40.000000000,2022-10-14 13:19:31.000000000,2022-10-14 13:18:25.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-10-14 11:11:40.000000000', 'files': ['masakari/tests/unit/engine/test_engine_mgr.py', 'releasenotes/notes/bug-1960619-4c2cc73483bdff86.yaml', 'masakari/engine/manager.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/f844b8f48e75c0853b19324d000a021c5f02d385', 'message': 'Handle host notification without host status\n\nIf an user sends host notification without host status:\nopenstack notification create COMPUTE_HOST <host> <date> \'{""event"": ""STOPPED""}\'\nlogging registers silly error like object None has not method \'upper\' and\nnotification gets status \'running\', host is set in maintenance status.\nIt\'s impossible to set manually host status to non-maintanence\nuntil there are host-related running notifications.\nRunning notifications are expired in 24 hours by default.\nThe patch makes engine to set \'ignore\' status for such\nnotifications.\n\nCloses-Bug: 1960619\nChange-Id: Id873b3300b6de49082805654c85414a8868dd925\n(cherry picked from commit 0837d7787c1be35df4b4330dbe6cdd2c160a69ab)\n'}]",0,861300,f844b8f48e75c0853b19324d000a021c5f02d385,7,2,1,30491,,,0,"Handle host notification without host status

If an user sends host notification without host status:
openstack notification create COMPUTE_HOST <host> <date> '{""event"": ""STOPPED""}'
logging registers silly error like object None has not method 'upper' and
notification gets status 'running', host is set in maintenance status.
It's impossible to set manually host status to non-maintanence
until there are host-related running notifications.
Running notifications are expired in 24 hours by default.
The patch makes engine to set 'ignore' status for such
notifications.

Closes-Bug: 1960619
Change-Id: Id873b3300b6de49082805654c85414a8868dd925
(cherry picked from commit 0837d7787c1be35df4b4330dbe6cdd2c160a69ab)
",git fetch https://review.opendev.org/openstack/masakari refs/changes/00/861300/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/tests/unit/engine/test_engine_mgr.py', 'releasenotes/notes/bug-1960619-4c2cc73483bdff86.yaml', 'masakari/engine/manager.py']",3,f844b8f48e75c0853b19324d000a021c5f02d385,bug/1960619-stable/zed-stable/yoga," if host_status is None: LOG.warning(""Notification '%(uuid)s' ignored as host_status is "" ""not provided."", {'uuid': notification.notification_uuid}) notification_status = fields.NotificationStatus.IGNORED elif host_status.upper() != fields.HostStatusType.NORMAL: LOG.warning(""Notification '%(uuid)s' ignored as host_status """," if host_status.upper() != fields.HostStatusType.NORMAL: LOG.warning(""Notification '%(uuid)s' ignored as host_status""",42,4
openstack%2Fmasakari~stable%2Fzed~Id873b3300b6de49082805654c85414a8868dd925,openstack/masakari,stable/zed,Id873b3300b6de49082805654c85414a8868dd925,Handle host notification without host status,MERGED,2022-10-14 11:11:34.000000000,2022-10-14 13:17:27.000000000,2022-10-14 13:16:28.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-10-14 11:11:34.000000000', 'files': ['masakari/tests/unit/engine/test_engine_mgr.py', 'releasenotes/notes/bug-1960619-4c2cc73483bdff86.yaml', 'masakari/engine/manager.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/c813fa9622d4f41d8de542237368a5f34e6bc371', 'message': 'Handle host notification without host status\n\nIf an user sends host notification without host status:\nopenstack notification create COMPUTE_HOST <host> <date> \'{""event"": ""STOPPED""}\'\nlogging registers silly error like object None has not method \'upper\' and\nnotification gets status \'running\', host is set in maintenance status.\nIt\'s impossible to set manually host status to non-maintanence\nuntil there are host-related running notifications.\nRunning notifications are expired in 24 hours by default.\nThe patch makes engine to set \'ignore\' status for such\nnotifications.\n\nCloses-Bug: 1960619\nChange-Id: Id873b3300b6de49082805654c85414a8868dd925\n(cherry picked from commit 0837d7787c1be35df4b4330dbe6cdd2c160a69ab)\n'}]",0,861299,c813fa9622d4f41d8de542237368a5f34e6bc371,7,2,1,30491,,,0,"Handle host notification without host status

If an user sends host notification without host status:
openstack notification create COMPUTE_HOST <host> <date> '{""event"": ""STOPPED""}'
logging registers silly error like object None has not method 'upper' and
notification gets status 'running', host is set in maintenance status.
It's impossible to set manually host status to non-maintanence
until there are host-related running notifications.
Running notifications are expired in 24 hours by default.
The patch makes engine to set 'ignore' status for such
notifications.

Closes-Bug: 1960619
Change-Id: Id873b3300b6de49082805654c85414a8868dd925
(cherry picked from commit 0837d7787c1be35df4b4330dbe6cdd2c160a69ab)
",git fetch https://review.opendev.org/openstack/masakari refs/changes/99/861299/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/tests/unit/engine/test_engine_mgr.py', 'releasenotes/notes/bug-1960619-4c2cc73483bdff86.yaml', 'masakari/engine/manager.py']",3,c813fa9622d4f41d8de542237368a5f34e6bc371,bug/1960619-stable/zed," if host_status is None: LOG.warning(""Notification '%(uuid)s' ignored as host_status is "" ""not provided."", {'uuid': notification.notification_uuid}) notification_status = fields.NotificationStatus.IGNORED elif host_status.upper() != fields.HostStatusType.NORMAL: LOG.warning(""Notification '%(uuid)s' ignored as host_status """," if host_status.upper() != fields.HostStatusType.NORMAL: LOG.warning(""Notification '%(uuid)s' ignored as host_status""",42,4
openstack%2Ftripleo-common~master~Icafb2d128bf87e608e620f1a8b30e0482849f5de,openstack/tripleo-common,master,Icafb2d128bf87e608e620f1a8b30e0482849f5de,Do not install syslinux-tftpboot,MERGED,2022-08-23 04:29:28.000000000,2022-10-14 13:07:50.000000000,2022-10-14 13:06:51.000000000,"[{'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-08-23 04:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9e8cd36f3141ab0394228d91ce44165962dbc048', 'message': ""Do not install syslinux-tftpboot\n\nThe syslinux bootloader is now a dormant project, and we don't support\nits use for anything. This change removes it from the ironic-pxe\ncontainer image.\n\nChange-Id: Icafb2d128bf87e608e620f1a8b30e0482849f5de\n""}, {'number': 2, 'created': '2022-08-23 22:58:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/16d8a2429c94baa9d1d4676492c9fe3e8a9643a3', 'message': ""Do not install syslinux-tftpboot\n\nThe syslinux bootloader is now a dormant project, and we don't support\nits use for anything. This change removes it from the ironic-pxe\ncontainer image.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/854289\n\nChange-Id: Icafb2d128bf87e608e620f1a8b30e0482849f5de\n""}, {'number': 3, 'created': '2022-09-07 04:02:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3f39227d14e62bd1611f9a8571b9cdfb05021a28', 'message': ""Do not install syslinux-tftpboot\n\nThe syslinux bootloader is now a dormant project, and we don't support\nits use for anything. This change removes it from the ironic-pxe\ncontainer image.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/854289\n\nChange-Id: Icafb2d128bf87e608e620f1a8b30e0482849f5de\n""}, {'number': 4, 'created': '2022-09-11 21:29:34.000000000', 'files': ['container-images/tcib/base/os/ironic-base/ironic-pxe/ironic-pxe.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c1b5df9d4fb8cb7e675ec4bfbb65ad601df16829', 'message': ""Do not install syslinux-tftpboot\n\nThe syslinux bootloader is now a dormant project, and we don't support\nits use for anything. This change removes it from the ironic-pxe\ncontainer image.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/854289\n\nChange-Id: Icafb2d128bf87e608e620f1a8b30e0482849f5de\n""}]",2,854059,c1b5df9d4fb8cb7e675ec4bfbb65ad601df16829,29,6,4,4571,,,0,"Do not install syslinux-tftpboot

The syslinux bootloader is now a dormant project, and we don't support
its use for anything. This change removes it from the ironic-pxe
container image.

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/854289

Change-Id: Icafb2d128bf87e608e620f1a8b30e0482849f5de
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/59/854059/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/os/ironic-base/ironic-pxe/ironic-pxe.yaml'],1,9e8cd36f3141ab0394228d91ce44165962dbc048,pxe-prep,, - syslinux-tftpboot,0,1
openstack%2Ftripleo-quickstart~master~I7851674a3dbb6b7ea99d70a8cc4854fc965acdba,openstack/tripleo-quickstart,master,I7851674a3dbb6b7ea99d70a8cc4854fc965acdba,"Set NovaHWMachineType: x86_64=q35 for fs001,020 and 035",MERGED,2022-09-28 13:12:38.000000000,2022-10-14 12:55:11.000000000,2022-10-14 12:54:08.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 14611}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-09-28 13:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e485edd47a6435def800623bd8031b7277af4d20', 'message': 'Set NovaHWMachineType: x86_64=q35 for fs001,020 and 035\n\nAs we are currently facing ovb job failure on rhos17.1 on rhel8\ndue to tempest tests failure because for recently changed in\nthe value of NovaHWMachineType [1] so setting that value to\nNovaHWMachineType: x86_64=q35 for ovb job (fs001, fs020 and fs035).\n\n[1]: https://code.engineering.redhat.com/gerrit/c/openstack-tripleo-heat-templates/+/417307/4/deployment/nova/nova-compute-container-puppet.yaml#436\n\nRelated-bz: #2110535 (https://bugzilla.redhat.com/show_bug.cgi?id=2110535)\nChange-Id: I7851674a3dbb6b7ea99d70a8cc4854fc965acdba\n'}, {'number': 2, 'created': '2022-09-29 03:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1e155b10171d71098110bbc6216edc979ae3c20a', 'message': 'Set NovaHWMachineType: x86_64=q35 for fs001,020 and 035\n\nAs we are currently facing ovb job failure on rhos17.1 on rhel8\ndue to tempest tests failure because for recently changed in\nthe value of NovaHWMachineType [1] so setting that value to\nNovaHWMachineType: x86_64=q35 for ovb job (fs001, fs020 and fs035).\n\n[1]: https://code.engineering.redhat.com/gerrit/c/openstack-tripleo-heat-templates/+/417307/4/deployment/nova/nova-compute-container-puppet.yaml#436\n\nRelated-bz: #2110535 (https://bugzilla.redhat.com/show_bug.cgi?id=2110535)\nChange-Id: I7851674a3dbb6b7ea99d70a8cc4854fc965acdba\n'}, {'number': 3, 'created': '2022-09-29 07:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a5b15ca90f7604d6c4a63a03e06cde5b1be2025f', 'message': 'Set NovaHWMachineType: x86_64=q35 for fs001,020 and 035\n\nAs we are currently facing ovb job failure on rhos17.1 on rhel8\ndue to tempest tests failure because of recently changed in\nthe value of NovaHWMachineType [1] so setting that value to\nNovaHWMachineType: x86_64=q35 for ovb job (fs001, fs020 and fs035).\n\n[1]: https://code.engineering.redhat.com/gerrit/c/openstack-tripleo-heat-templates/+/417307/4/deployment/nova/nova-compute-container-puppet.yaml#436\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/859783\nRelated-bz: #2110535 (https://bugzilla.redhat.com/show_bug.cgi?id=2110535)\nChange-Id: I7851674a3dbb6b7ea99d70a8cc4854fc965acdba\n'}, {'number': 4, 'created': '2022-09-29 12:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/26a1207352ffc14c758b5e8cb695ea773ec93cf0', 'message': 'Set NovaHWMachineType: x86_64=q35 for fs001,020 and 035\n\nAs we are currently facing ovb job failure on rhos17.1 on rhel8\ndue to tempest tests failure because of recently changed in\nthe value of NovaHWMachineType [1] so setting that value to\nNovaHWMachineType: x86_64=q35 for ovb job (fs001, fs020 and fs035).\n\n[1]: https://code.engineering.redhat.com/gerrit/c/openstack-tripleo-heat-templates/+/417307/4/deployment/nova/nova-compute-container-puppet.yaml#436\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/859783\nRelated-bz: #2110535 (https://bugzilla.redhat.com/show_bug.cgi?id=2110535)\nChange-Id: I7851674a3dbb6b7ea99d70a8cc4854fc965acdba\n'}, {'number': 5, 'created': '2022-09-29 12:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d928539a0c9a47621889416e8bd13cde99d68db1', 'message': 'Set NovaHWMachineType: x86_64=q35 for fs001,020 and 035\n\nAs we are currently facing ovb job failure on rhos17.1 on rhel8\ndue to tempest tests failure because of recently changed in\nthe value of NovaHWMachineType [1] so setting that value to\nNovaHWMachineType: x86_64=q35 for ovb job (fs001, fs020 and fs035).\n\n[1]: https://code.engineering.redhat.com/gerrit/c/openstack-tripleo-heat-templates/+/417307/4/deployment/nova/nova-compute-container-puppet.yaml#436\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/859783\nDepends-On:  https://code.engineering.redhat.com/gerrit/c/openstack-tripleo-heat-templates/+/430007\nRelated-bz: #2110535 (https://bugzilla.redhat.com/show_bug.cgi?id=2110535)\nChange-Id: I7851674a3dbb6b7ea99d70a8cc4854fc965acdba\n'}, {'number': 6, 'created': '2022-10-06 07:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/52b1428c767c81675e6d6376d11415a54a1d5c66', 'message': 'Set NovaHWMachineType: x86_64=q35 for fs001,020 and 035\n\nAs we are currently facing ovb job failure on rhos17.1 on rhel8\ndue to tempest tests failure because of recently changed in\nthe value of NovaHWMachineType [1] so setting that value to\nNovaHWMachineType: x86_64=q35 for ovb job (fs001, fs020 and fs035).\n\n[1]: https://code.engineering.redhat.com/gerrit/c/openstack-tripleo-heat-templates/+/417307/4/deployment/nova/nova-compute-container-puppet.yaml#436\n\nRelated-bz: #2110535 (https://bugzilla.redhat.com/show_bug.cgi?id=2110535)\nChange-Id: I7851674a3dbb6b7ea99d70a8cc4854fc965acdba\n'}, {'number': 7, 'created': '2022-10-07 11:41:57.000000000', 'files': ['config/general_config/featureset020.yml', 'config/general_config/featureset035.yml', 'config/general_config/featureset001.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/29518eebcd408145a9049b2064a635c72c4e9569', 'message': 'Set NovaHWMachineType: x86_64=q35 for fs001,020 and 035\n\nAs we are currently facing ovb job failure on rhos17.1 on rhel8\ndue to tempest tests failure because of recently changed in\nthe value of NovaHWMachineType [1] so setting that value to\nNovaHWMachineType: x86_64=q35 for ovb job (fs001, fs020 and fs035).\n\n[1]: https://code.engineering.redhat.com/gerrit/c/openstack-tripleo-heat-templates/+/417307/4/deployment/nova/nova-compute-container-puppet.yaml#436\n\nRelated-bz: #2110535 (https://bugzilla.redhat.com/show_bug.cgi?id=2110535)\nChange-Id: I7851674a3dbb6b7ea99d70a8cc4854fc965acdba\n'}]",33,859581,29518eebcd408145a9049b2064a635c72c4e9569,59,7,7,20182,,,0,"Set NovaHWMachineType: x86_64=q35 for fs001,020 and 035

As we are currently facing ovb job failure on rhos17.1 on rhel8
due to tempest tests failure because of recently changed in
the value of NovaHWMachineType [1] so setting that value to
NovaHWMachineType: x86_64=q35 for ovb job (fs001, fs020 and fs035).

[1]: https://code.engineering.redhat.com/gerrit/c/openstack-tripleo-heat-templates/+/417307/4/deployment/nova/nova-compute-container-puppet.yaml#436

Related-bz: #2110535 (https://bugzilla.redhat.com/show_bug.cgi?id=2110535)
Change-Id: I7851674a3dbb6b7ea99d70a8cc4854fc965acdba
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/81/859581/3 && git format-patch -1 --stdout FETCH_HEAD,"['config/general_config/featureset020.yml', 'config/general_config/featureset035.yml', 'config/general_config/featureset001.yml']",3,e485edd47a6435def800623bd8031b7277af4d20,set-NovaHWMachineType-value," {% if ansible_distribution in [""RedHat""] and osp_release|default('') in ['rhos-17.1'] and ansible_distribution_major_version|int < 9 %} {'NovaHWMachineType': 'x86_64=q35'} {%- endif -%}",,9,0
openstack%2Fcinder~master~I0298328b140390b2f533e823ce1d71549fec48dd,openstack/cinder,master,I0298328b140390b2f533e823ce1d71549fec48dd,Move ComparableMixin to api_utils,NEW,2022-09-26 16:53:49.000000000,2022-10-14 12:50:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-09-26 16:53:49.000000000', 'files': ['cinder/api/openstack/versioned_method.py', 'cinder/api/api_utils.py', 'cinder/api/openstack/api_version_request.py', 'cinder/tests/unit/test_utils.py', 'cinder/utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8e3530b54ef8517a2ee0a2c1d9d66856a533aa49', 'message': 'Move ComparableMixin to api_utils\n\nThis class is only used in our API code,\nmove it to api_utils instead of general\nCinder utils.\n\nChange-Id: I0298328b140390b2f533e823ce1d71549fec48dd\n'}]",1,859316,8e3530b54ef8517a2ee0a2c1d9d66856a533aa49,29,1,1,4523,,,0,"Move ComparableMixin to api_utils

This class is only used in our API code,
move it to api_utils instead of general
Cinder utils.

Change-Id: I0298328b140390b2f533e823ce1d71549fec48dd
",git fetch https://review.opendev.org/openstack/cinder refs/changes/16/859316/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/openstack/versioned_method.py', 'cinder/api/api_utils.py', 'cinder/api/openstack/api_version_request.py', 'cinder/tests/unit/test_utils.py', 'cinder/utils.py']",5,8e3530b54ef8517a2ee0a2c1d9d66856a533aa49,,,"class ComparableMixin(object): def _compare(self, other: object, method: Callable): try: return method(self._cmpkey(), other._cmpkey()) # type: ignore except (AttributeError, TypeError): # _cmpkey not implemented, or return different type, # so I can't compare with ""other"". return NotImplemented def __lt__(self, other: object): return self._compare(other, lambda s, o: s < o) def __le__(self, other: object): return self._compare(other, lambda s, o: s <= o) def __eq__(self, other: object): return self._compare(other, lambda s, o: s == o) def __ge__(self, other: object): return self._compare(other, lambda s, o: s >= o) def __gt__(self, other: object): return self._compare(other, lambda s, o: s > o) def __ne__(self, other: object): return self._compare(other, lambda s, o: s != o) ",35,34
openstack%2Fneutron-lib~stable%2Fstein~I672ec969ac02b2dbe1e930c267ac8d907142dfbb,openstack/neutron-lib,stable/stein,I672ec969ac02b2dbe1e930c267ac8d907142dfbb,Add enforce_policy on device_id parameter,ABANDONED,2022-10-14 12:41:54.000000000,2022-10-14 12:43:33.000000000,,[],"[{'number': 1, 'created': '2022-10-14 12:41:54.000000000', 'files': ['neutron_lib/api/definitions/port.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/003e776fbbac5504de04110a485a330edacf2aa8', 'message': 'Add enforce_policy on device_id parameter\n\nAdd enforce_policy=True on port for device_id parameter to build a new\npolicy. The target is to authorize only admin to use this parameter.\n\nbug #1986969\n\nChange-Id: I672ec969ac02b2dbe1e930c267ac8d907142dfbb\n'}]",0,861372,003e776fbbac5504de04110a485a330edacf2aa8,2,0,1,33607,,,0,"Add enforce_policy on device_id parameter

Add enforce_policy=True on port for device_id parameter to build a new
policy. The target is to authorize only admin to use this parameter.

bug #1986969

Change-Id: I672ec969ac02b2dbe1e930c267ac8d907142dfbb
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/72/861372/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/api/definitions/port.py'],1,003e776fbbac5504de04110a485a330edacf2aa8,PCI-19731," 'enforce_policy': True, 'default': '', 'enforce_policy': True,"," 'default': '', 'enforce_policy': True,",3,1
openstack%2Fmagnum~stable%2Fwallaby~I9cc9a0e654fb26ebec517e3413a592ac6613777c,openstack/magnum,stable/wallaby,I9cc9a0e654fb26ebec517e3413a592ac6613777c,Allow update cluster status with admin context,MERGED,2022-08-23 14:26:44.000000000,2022-10-14 12:30:46.000000000,2022-10-14 12:28:34.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-08-23 14:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/547ca5aa27bb6df61367e406fb176f52a857c115', 'message': 'Allow update cluster status with admin context\n\nTrust token can be deleted outside of magnum,\nBut when trust token not found, the periodic update status job will\nstay in inprogress unless another cluster action triggered.\n\nPropose to use admin context when trust can not be found in periodic\nupdate status job.\n\nStory: 2010232\nTask: 46031\n\nChange-Id: I9cc9a0e654fb26ebec517e3413a592ac6613777c\n(cherry picked from commit 1ed78a44384ae2617e49acb9031fa3f0964f12f7)\n'}, {'number': 2, 'created': '2022-10-14 10:29:23.000000000', 'files': ['magnum/drivers/common/driver.py', 'magnum/service/periodic.py', 'magnum/tests/unit/service/test_periodic.py', 'magnum/drivers/heat/driver.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/0ffceccac21d73cf3a93f981ed56aa894d8a3f15', 'message': 'Allow update cluster status with admin context\n\nTrust token can be deleted outside of magnum,\nBut when trust token not found, the periodic update status job will\nstay in inprogress unless another cluster action triggered.\n\nPropose to use admin context when trust can not be found in periodic\nupdate status job.\n\nStory: 2010232\nTask: 46031\n\nChange-Id: I9cc9a0e654fb26ebec517e3413a592ac6613777c\n(cherry picked from commit 1ed78a44384ae2617e49acb9031fa3f0964f12f7)\n'}]",1,854136,0ffceccac21d73cf3a93f981ed56aa894d8a3f15,14,4,2,12404,,,0,"Allow update cluster status with admin context

Trust token can be deleted outside of magnum,
But when trust token not found, the periodic update status job will
stay in inprogress unless another cluster action triggered.

Propose to use admin context when trust can not be found in periodic
update status job.

Story: 2010232
Task: 46031

Change-Id: I9cc9a0e654fb26ebec517e3413a592ac6613777c
(cherry picked from commit 1ed78a44384ae2617e49acb9031fa3f0964f12f7)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/36/854136/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/driver.py', 'magnum/service/periodic.py', 'magnum/tests/unit/service/test_periodic.py', 'magnum/drivers/heat/driver.py']",4,547ca5aa27bb6df61367e406fb176f52a857c115,periodic-adm-ctx-stable/wallaby," def update_cluster_status(self, context, cluster, use_admin_ctx=False): if use_admin_ctx: stack_ctx = context else: stack_ctx = mag_ctx.make_cluster_context(cluster)"," def update_cluster_status(self, context, cluster): stack_ctx = mag_ctx.make_cluster_context(cluster)",47,4
openstack%2Fmagnum~stable%2Fwallaby~I92d1cb6d78a1a12bd0fb52699f1007645a666df9,openstack/magnum,stable/wallaby,I92d1cb6d78a1a12bd0fb52699f1007645a666df9,[CI] move queue setting to project level,MERGED,2022-10-14 10:29:23.000000000,2022-10-14 12:29:49.000000000,2022-10-14 12:27:49.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-10-14 10:29:23.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/2f2c75bc089f271fa96c4ec57deec55935690746', 'message': '[CI] move queue setting to project level\n\nJobs are currently not running. Fix as described in [1][2]\n\n[1] https://lists.opendev.org/pipermail/service-announce/2022-September/000044.html\n[2] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nChange-Id: I92d1cb6d78a1a12bd0fb52699f1007645a666df9\n(cherry picked from commit 46e10625f614c87204637974149a32a8d163411d)\n(cherry picked from commit 80fcfb52b44c199eef3397aed29ed409658c9f57)\n'}]",0,861358,2f2c75bc089f271fa96c4ec57deec55935690746,7,2,1,8064,,,0,"[CI] move queue setting to project level

Jobs are currently not running. Fix as described in [1][2]

[1] https://lists.opendev.org/pipermail/service-announce/2022-September/000044.html
[2] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html

Change-Id: I92d1cb6d78a1a12bd0fb52699f1007645a666df9
(cherry picked from commit 46e10625f614c87204637974149a32a8d163411d)
(cherry picked from commit 80fcfb52b44c199eef3397aed29ed409658c9f57)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/58/861358/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2f2c75bc089f271fa96c4ec57deec55935690746,, queue: magnum, queue: magnum,1,1
openstack%2Fvalidations-libs~master~I9feff64916d17c7081e12e9f093a83f87910eb76,openstack/validations-libs,master,I9feff64916d17c7081e12e9f093a83f87910eb76,WIP - DNM Implement expanded Ansible Galaxy tooling in validation CLI,ABANDONED,2022-07-19 15:04:47.000000000,2022-10-14 12:28:36.000000000,,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}, {'_account_id': 35059}]","[{'number': 1, 'created': '2022-07-19 15:04:47.000000000', 'files': ['validations_libs/cli/community.py', 'validations_libs/community/publish_validation.py', 'validations_libs/community/build_validation.py', 'validations_libs/community/install_validation.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/1400598f295800d08a21d5fff5855159502bc978', 'message': 'WIP - DNM Implement expanded Ansible Galaxy tooling in validation CLI\n\nThis is an early stage work in progress patch to implement the expanded\nuse of Ansible Galaxy for VF, by wrapping the tooling into the\nvalidation CLI.\n\nhttps://issues.redhat.com/browse/OSP-16183\n\nThe method being used is to expand the existing Community Validation\nfeature which actually is a logical safety checking wrapper around:\n\n`ansible-galaxy collection init`\n\nThe first subcommand found currently in this patch is:\n\n`ansible-galaxy collection build` which works on CWD or takes optional\npathing arguments\n\nThis feature creates a distributable tarball of a given collection, and\nis currently in a broken state.\n\nTo be written and placed as stubs right now:\n\n`ansible-galaxy collection install` - again CWD or optional pathing,\nthis command installs a validation from an arbitrary location on disk,\nHTTP or Git URL, and Ansible Galaxy itself.\n\n`ansible-galaxy collection publish` - again CWD or optional pathing,\nthis command publishes a given collection to a previously established\nAnsible Galaxy namespace, for which the operator has configured the\nappropriate token etc.\n\nChange-Id: I9feff64916d17c7081e12e9f093a83f87910eb76\n'}]",2,850358,1400598f295800d08a21d5fff5855159502bc978,5,6,1,27427,,,0,"WIP - DNM Implement expanded Ansible Galaxy tooling in validation CLI

This is an early stage work in progress patch to implement the expanded
use of Ansible Galaxy for VF, by wrapping the tooling into the
validation CLI.

https://issues.redhat.com/browse/OSP-16183

The method being used is to expand the existing Community Validation
feature which actually is a logical safety checking wrapper around:

`ansible-galaxy collection init`

The first subcommand found currently in this patch is:

`ansible-galaxy collection build` which works on CWD or takes optional
pathing arguments

This feature creates a distributable tarball of a given collection, and
is currently in a broken state.

To be written and placed as stubs right now:

`ansible-galaxy collection install` - again CWD or optional pathing,
this command installs a validation from an arbitrary location on disk,
HTTP or Git URL, and Ansible Galaxy itself.

`ansible-galaxy collection publish` - again CWD or optional pathing,
this command publishes a given collection to a previously established
Ansible Galaxy namespace, for which the operator has configured the
appropriate token etc.

Change-Id: I9feff64916d17c7081e12e9f093a83f87910eb76
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/58/850358/1 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/cli/community.py', 'validations_libs/community/publish_validation.py', 'validations_libs/community/build_validation.py', 'validations_libs/community/install_validation.py']",4,1400598f295800d08a21d5fff5855159502bc978,OSP16183,"#!/usr/bin/env python # Copyright 2021 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # import logging import re import os # @matbu backward compatibility for stable/train try: from pathlib import Path except ImportError: from pathlib2 import Path from validations_libs import constants, utils LOG = logging.getLogger(__name__) class CommunityValidationInstall: """"""Install community validation to Ansible Galaxy namespace, and other arbitrary locations including files on disk, and Git repos WIP """""" ",,277,0
openstack%2Fcharm-ceph-mon~master~I5c14fd0882b0533fed8f710406c5611ac2cd5d81,openstack/charm-ceph-mon,master,I5c14fd0882b0533fed8f710406c5611ac2cd5d81,Test PR 3 for Ceph Mon master,ABANDONED,2022-10-14 10:45:50.000000000,2022-10-14 12:11:21.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-14 10:45:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/f851fc860ebf8cbbde69db24b7951199d41cc885', 'message': 'Test PR 3 for Ceph Mon master\n\nChange-Id: I5c14fd0882b0533fed8f710406c5611ac2cd5d81\n'}]",0,861359,f851fc860ebf8cbbde69db24b7951199d41cc885,4,2,1,34952,,,0,"Test PR 3 for Ceph Mon master

Change-Id: I5c14fd0882b0533fed8f710406c5611ac2cd5d81
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/59/861359/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f851fc860ebf8cbbde69db24b7951199d41cc885,, functest-run-suite --keep-model --log=DEBUG --bundle {posargs}, functest-run-suite --keep-model --bundle {posargs},1,1
openstack%2Fcharm-ceph-mon~master~Ia27061c9b284508dafd4526e5240de2d2057ccb7,openstack/charm-ceph-mon,master,Ia27061c9b284508dafd4526e5240de2d2057ccb7,TEST PR 2 for Ceph-Mon master,ABANDONED,2022-10-14 09:58:06.000000000,2022-10-14 12:11:11.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-14 09:58:06.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/7e3979e256da5d387e81f6ad2247bdcc3112167f', 'message': 'TEST PR 2 for Ceph-Mon master\n\nChange-Id: Ia27061c9b284508dafd4526e5240de2d2057ccb7\n'}]",0,861328,7e3979e256da5d387e81f6ad2247bdcc3112167f,4,2,1,34952,,,0,"TEST PR 2 for Ceph-Mon master

Change-Id: Ia27061c9b284508dafd4526e5240de2d2057ccb7
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/28/861328/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7e3979e256da5d387e81f6ad2247bdcc3112167f,, functest-run-suite --keep-model --log=DEBUG --bundle {posargs}, functest-run-suite --keep-model --bundle {posargs},1,1
openstack%2Fmagnum~stable%2Fxena~I9cc9a0e654fb26ebec517e3413a592ac6613777c,openstack/magnum,stable/xena,I9cc9a0e654fb26ebec517e3413a592ac6613777c,Allow update cluster status with admin context,MERGED,2022-08-23 14:25:45.000000000,2022-10-14 11:51:25.000000000,2022-10-14 11:50:24.000000000,"[{'_account_id': 1004}, {'_account_id': 8064}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-08-23 14:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e16ff5c7b8a83a72227d40c49f06937a107343ee', 'message': 'Allow update cluster status with admin context\n\nTrust token can be deleted outside of magnum,\nBut when trust token not found, the periodic update status job will\nstay in inprogress unless another cluster action triggered.\n\nPropose to use admin context when trust can not be found in periodic\nupdate status job.\n\nStory: 2010232\nTask: 46031\n\nChange-Id: I9cc9a0e654fb26ebec517e3413a592ac6613777c\n(cherry picked from commit 1ed78a44384ae2617e49acb9031fa3f0964f12f7)\n'}, {'number': 2, 'created': '2022-10-14 10:25:18.000000000', 'files': ['magnum/drivers/common/driver.py', 'magnum/service/periodic.py', 'magnum/tests/unit/service/test_periodic.py', 'magnum/drivers/heat/driver.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/bbdb777378bb1a48f830f776fca5a24d16be9681', 'message': 'Allow update cluster status with admin context\n\nTrust token can be deleted outside of magnum,\nBut when trust token not found, the periodic update status job will\nstay in inprogress unless another cluster action triggered.\n\nPropose to use admin context when trust can not be found in periodic\nupdate status job.\n\nStory: 2010232\nTask: 46031\n\nChange-Id: I9cc9a0e654fb26ebec517e3413a592ac6613777c\n(cherry picked from commit 1ed78a44384ae2617e49acb9031fa3f0964f12f7)\n'}]",3,854135,bbdb777378bb1a48f830f776fca5a24d16be9681,17,5,2,12404,,,0,"Allow update cluster status with admin context

Trust token can be deleted outside of magnum,
But when trust token not found, the periodic update status job will
stay in inprogress unless another cluster action triggered.

Propose to use admin context when trust can not be found in periodic
update status job.

Story: 2010232
Task: 46031

Change-Id: I9cc9a0e654fb26ebec517e3413a592ac6613777c
(cherry picked from commit 1ed78a44384ae2617e49acb9031fa3f0964f12f7)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/35/854135/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/driver.py', 'magnum/service/periodic.py', 'magnum/tests/unit/service/test_periodic.py', 'magnum/drivers/heat/driver.py']",4,e16ff5c7b8a83a72227d40c49f06937a107343ee,periodic-adm-ctx-stable/xena," def update_cluster_status(self, context, cluster, use_admin_ctx=False): if use_admin_ctx: stack_ctx = context else: stack_ctx = mag_ctx.make_cluster_context(cluster)"," def update_cluster_status(self, context, cluster): stack_ctx = mag_ctx.make_cluster_context(cluster)",47,4
openstack%2Fmagnum~stable%2Fxena~I92d1cb6d78a1a12bd0fb52699f1007645a666df9,openstack/magnum,stable/xena,I92d1cb6d78a1a12bd0fb52699f1007645a666df9,[CI] move queue setting to project level,MERGED,2022-10-14 09:38:36.000000000,2022-10-14 11:29:52.000000000,2022-10-14 11:28:03.000000000,"[{'_account_id': 8064}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-14 09:38:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/80fcfb52b44c199eef3397aed29ed409658c9f57', 'message': '[CI] move queue setting to project level\n\nJobs are currently not running. Fix as described in [1][2]\n\n[1] https://lists.opendev.org/pipermail/service-announce/2022-September/000044.html\n[2] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nChange-Id: I92d1cb6d78a1a12bd0fb52699f1007645a666df9\n(cherry picked from commit 46e10625f614c87204637974149a32a8d163411d)\n'}]",0,861326,80fcfb52b44c199eef3397aed29ed409658c9f57,7,2,1,8064,,,0,"[CI] move queue setting to project level

Jobs are currently not running. Fix as described in [1][2]

[1] https://lists.opendev.org/pipermail/service-announce/2022-September/000044.html
[2] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html

Change-Id: I92d1cb6d78a1a12bd0fb52699f1007645a666df9
(cherry picked from commit 46e10625f614c87204637974149a32a8d163411d)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/26/861326/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,80fcfb52b44c199eef3397aed29ed409658c9f57,, queue: magnum, queue: magnum,1,1
openstack%2Ftripleo-common~master~Iaa09a8a4cad12d49007ea92ea0922597916981af,openstack/tripleo-common,master,Iaa09a8a4cad12d49007ea92ea0922597916981af,Add TRIPLEO_KOLLA_UMASK for custom umask settings,MERGED,2022-09-22 13:40:13.000000000,2022-10-14 11:09:15.000000000,2022-10-14 11:08:10.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-09-22 13:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cb47f1743720228e807d7274f74f6cc41040889a', 'message': 'Add TRIPLEO_KOLLA_UMASK for custom umask settings\n\nAllow execution of the kolla_start script with\na given umask settings. Virtqemud container requires this\nat the least, as libvirt/qemu dynamic permissions should\nbe restricted to not create VM files world readable.\n\nChange-Id: Iaa09a8a4cad12d49007ea92ea0922597916981af\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2022-09-23 13:01:00.000000000', 'files': ['container-images/kolla/base/start.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8aa57665b59bc6556a79729ce83177591f28911f', 'message': 'Add TRIPLEO_KOLLA_UMASK for custom umask settings\n\nAllow execution of the kolla_start script with\na given umask settings. Virtqemud container requires this\nat the least, as libvirt/qemu dynamic permissions should\nbe restricted to not create VM files world readable.\n\nChange-Id: Iaa09a8a4cad12d49007ea92ea0922597916981af\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",2,858930,8aa57665b59bc6556a79729ce83177591f28911f,16,7,2,6926,,,0,"Add TRIPLEO_KOLLA_UMASK for custom umask settings

Allow execution of the kolla_start script with
a given umask settings. Virtqemud container requires this
at the least, as libvirt/qemu dynamic permissions should
be restricted to not create VM files world readable.

Change-Id: Iaa09a8a4cad12d49007ea92ea0922597916981af
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/30/858930/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/kolla/base/start.sh'],1,cb47f1743720228e807d7274f74f6cc41040889a,libvirt_dynamic_permissions,umask ${TRIPLEO_KOLLA_UMASK:-0022},,1,0
openstack%2Ftripleo-heat-templates~master~Idcc3cd2c9773fd8ee3464a9a085682639a6e5dab,openstack/tripleo-heat-templates,master,Idcc3cd2c9773fd8ee3464a9a085682639a6e5dab,"Add new paramater ""CeilometerEnableTenantDiscovery""",MERGED,2022-09-09 16:57:34.000000000,2022-10-14 11:09:09.000000000,2022-10-14 11:08:07.000000000,"[{'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 34598}]","[{'number': 1, 'created': '2022-09-09 16:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/30cd9b835ee8ab64215526a7d9e55a6750467cd1', 'message': 'Add new paramater ""CeilometerEnableTenantDiscovery""\n\nEnabling this parameter will identify user and project\nnames from the polled metrics [1].\n\nThese details are collected by making additional requests\nto keystone service, depending upon the scale of environment,\nnumber of projects/users and the count of metrics polled in\nevery iteration, enabling this could overwhelm the keystone\nservice.\n\n[1] Iee5dbf09a1fd3ac571746fc66d2683eb8e6a1b27\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-ceilometer/+/856839\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: Idcc3cd2c9773fd8ee3464a9a085682639a6e5dab\n'}, {'number': 2, 'created': '2022-09-29 13:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fefc397127a683d305939ca78c800486fe755f7f', 'message': 'Add new paramater ""CeilometerEnableTenantDiscovery""\n\nEnabling this parameter will identify user and project\nnames from the polled metrics [1].\n\nThese details are collected by making additional requests\nto keystone service, depending upon the scale of environment,\nnumber of projects/users and the count of metrics polled in\nevery iteration, enabling this could overwhelm the keystone\nservice.\n\n[1] Iee5dbf09a1fd3ac571746fc66d2683eb8e6a1b27\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-ceilometer/+/856839\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: Idcc3cd2c9773fd8ee3464a9a085682639a6e5dab\n'}, {'number': 3, 'created': '2022-09-29 16:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/acc32e433e6a2d393eb92c1db442e4fcb6435a8c', 'message': 'Add new paramater ""CeilometerEnableTenantDiscovery""\n\nEnabling this parameter will identify user and project\nnames from the polled metrics [1].\n\nThese details are collected by making additional requests\nto keystone service, depending upon the scale of environment,\nnumber of projects/users and the count of metrics polled in\nevery iteration, enabling this could overwhelm the keystone\nservice.\n\n[1] Iee5dbf09a1fd3ac571746fc66d2683eb8e6a1b27\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-ceilometer/+/856839\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: Idcc3cd2c9773fd8ee3464a9a085682639a6e5dab\n'}, {'number': 4, 'created': '2022-09-30 06:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9ca1e632a634c5b79b4fb5234a708b3a2c6615db', 'message': 'Add new paramater ""CeilometerEnableTenantDiscovery""\n\nEnabling this parameter will identify user and project\nnames from the polled metrics [1].\n\nThese details are collected by making additional requests\nto keystone service, depending upon the scale of environment,\nnumber of projects/users and the count of metrics polled in\nevery iteration, enabling this could overwhelm the keystone\nservice.\n\n[1] Iee5dbf09a1fd3ac571746fc66d2683eb8e6a1b27\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-ceilometer/+/856839\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: Idcc3cd2c9773fd8ee3464a9a085682639a6e5dab\n'}, {'number': 5, 'created': '2022-09-30 06:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0a8d92aa5bd84e70c24123f9a5ef18454ad2d840', 'message': 'Add new paramater ""CeilometerEnableTenantDiscovery""\n\nEnabling this parameter will identify user and project\nnames from the polled metrics [1].\n\nThese details are collected by making additional requests\nto keystone service, depending upon the scale of environment,\nnumber of projects/users and the count of metrics polled in\nevery iteration, enabling this could overwhelm the keystone\nservice.\n\n[1] Iee5dbf09a1fd3ac571746fc66d2683eb8e6a1b27\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-ceilometer/+/856839\nDepends-On: https://review.opendev.org/c/openstack/ceilometer/+/852948\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: Idcc3cd2c9773fd8ee3464a9a085682639a6e5dab\n'}, {'number': 6, 'created': '2022-09-30 08:20:38.000000000', 'files': ['releasenotes/notes/add-metric-name-discovery-parameter-a113a6de8a220408.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7b57f966ccbb1a3909efe0ca97bd343f743df930', 'message': 'Add new paramater ""CeilometerEnableTenantDiscovery""\n\nEnabling this parameter will identify user and project\nnames from the polled metrics [1].\n\nThese details are collected by making additional requests\nto keystone service, depending upon the scale of environment,\nnumber of projects/users and the count of metrics polled in\nevery iteration, enabling this could overwhelm the keystone\nservice.\n\n[1] Iee5dbf09a1fd3ac571746fc66d2683eb8e6a1b27\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-ceilometer/+/856839\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: Idcc3cd2c9773fd8ee3464a9a085682639a6e5dab\n'}]",5,856840,7b57f966ccbb1a3909efe0ca97bd343f743df930,27,5,6,32240,,,0,"Add new paramater ""CeilometerEnableTenantDiscovery""

Enabling this parameter will identify user and project
names from the polled metrics [1].

These details are collected by making additional requests
to keystone service, depending upon the scale of environment,
number of projects/users and the count of metrics polled in
every iteration, enabling this could overwhelm the keystone
service.

[1] Iee5dbf09a1fd3ac571746fc66d2683eb8e6a1b27

Depends-On: https://review.opendev.org/c/openstack/puppet-ceilometer/+/856839

Signed-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>
Change-Id: Idcc3cd2c9773fd8ee3464a9a085682639a6e5dab
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/856840/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml'],1,30cd9b835ee8ab64215526a7d9e55a6750467cd1,enhanced_metrics, CeilometerEnableTenantDiscovery: default: false description: Identify user and project names from polled metrics. type: boolean ceilometer::tenant_name_discovery: {get_param: CeilometerEnableTenantDiscovery},,5,0
openstack%2Ftripleo-heat-templates~master~Ia63221d365a52a23a1962e7166644b4cd165ac2c,openstack/tripleo-heat-templates,master,Ia63221d365a52a23a1962e7166644b4cd165ac2c,Support role specific BannerText,MERGED,2022-09-05 08:13:22.000000000,2022-10-14 11:08:41.000000000,2022-10-14 11:08:41.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 34564}]","[{'number': 1, 'created': '2022-09-05 08:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/71ff81c42265406f6643c656e2b681d195bf28e7', 'message': 'Support role specific BannerText\n\nThis implements support for overriding the BannerText parameter for\nindividual roles, so that users can set different banners text for\neach role.\n\nChange-Id: Ia63221d365a52a23a1962e7166644b4cd165ac2c\n'}, {'number': 2, 'created': '2022-09-08 01:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bbd3a611f6e434b72b2956e80f143a9f3aaedb4c', 'message': 'Support role specific BannerText\n\nThis implements support for overriding the BannerText parameter for\nindividual roles, so that users can set different banners text for\neach role.\n\nChange-Id: Ia63221d365a52a23a1962e7166644b4cd165ac2c\n'}, {'number': 3, 'created': '2022-09-08 14:04:52.000000000', 'files': ['ci/environments/scenario007-multinode-containers.yaml', 'deployment/sshd/sshd-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ea327964cc58eede31cc33b59bea86788b5576e8', 'message': 'Support role specific BannerText\n\nThis implements support for overriding the BannerText parameter for\nindividual roles, so that users can set different banners text for\neach role.\n\nChange-Id: Ia63221d365a52a23a1962e7166644b4cd165ac2c\n'}]",15,855854,ea327964cc58eede31cc33b59bea86788b5576e8,39,7,3,34564,,,0,"Support role specific BannerText

This implements support for overriding the BannerText parameter for
individual roles, so that users can set different banners text for
each role.

Change-Id: Ia63221d365a52a23a1962e7166644b4cd165ac2c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/54/855854/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario007-multinode-containers.yaml', 'deployment/sshd/sshd-baremetal-ansible.yaml']",2,71ff81c42265406f6643c656e2b681d195bf28e7,RoleParameter_BannerText," tags: - role_specificresources: RoleParametersValue: type: OS::Heat::Value properties: type: json value: map_replace: - map_replace: - banner_text: BannerText - values: {get_param: [RoleParameters]} - values: BannerText: {get_param: BannerText} not: {equals: [{get_attr: [RoleParametersValue, value, banner_text]}, '']} tripleo_sshd_banner_text: {get_attr: [RoleParametersValue, value, banner_text]}"," ssh_banner_text_set: not: {equals: [{get_param: BannerText}, '']} if: - ssh_banner_text_set - true - false tripleo_sshd_banner_text: {get_param: BannerText}",28,7
openstack%2Fkayobe~stable%2Fvictoria~I4c3afb71600781dffe8072303d775cbfad16cbac,openstack/kayobe,stable/victoria,I4c3afb71600781dffe8072303d775cbfad16cbac,Update to latest CentOS Stream 8 cloud image,MERGED,2022-09-30 12:50:26.000000000,2022-10-14 10:59:11.000000000,2022-10-14 10:58:01.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-09-30 12:50:26.000000000', 'files': ['ansible/group_vars/all/seed-vm', 'releasenotes/notes/update-centos-cloud-image-20220913-4862bfdc89f8de3a.yaml', 'etc/kayobe/seed-vm.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1613c7e2a3c6a1ee3cb37d728f690052047f9592', 'message': 'Update to latest CentOS Stream 8 cloud image\n\nChange-Id: I4c3afb71600781dffe8072303d775cbfad16cbac\n(cherry picked from commit 0db7684428d04dc8b5c24905ca3ff52ec6e63bd9)\n'}]",1,859986,1613c7e2a3c6a1ee3cb37d728f690052047f9592,12,3,1,15197,,,0,"Update to latest CentOS Stream 8 cloud image

Change-Id: I4c3afb71600781dffe8072303d775cbfad16cbac
(cherry picked from commit 0db7684428d04dc8b5c24905ca3ff52ec6e63bd9)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/86/859986/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/seed-vm', 'releasenotes/notes/update-centos-cloud-image-20220913-4862bfdc89f8de3a.yaml', 'etc/kayobe/seed-vm.yml']",3,1613c7e2a3c6a1ee3cb37d728f690052047f9592,,"# ""https://cloud.centos.org/centos/8-stream/x86_64/images/CentOS-Stream-GenericCloud-8-20220913.0.x86_64.qcow2""","# ""https://cloud.centos.org/centos/8/x86_64/images/CentOS-8-GenericCloud-8.4.2105-20210603.0.x86_64.qcow2"".",7,2
openstack%2Fcharm-ceph-mon~master~I9ee93b3688dd69bfe4bd6f2da6ec0232f12b5691,openstack/charm-ceph-mon,master,I9ee93b3688dd69bfe4bd6f2da6ec0232f12b5691,TEST PR for Ceph-Mon Master,ABANDONED,2022-10-14 06:13:03.000000000,2022-10-14 10:47:57.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-14 06:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/d9ab4d883a173e1298598243ab681fa7344ae929', 'message': 'TEST PR for Ceph-Mon Master\n\nChange-Id: I9ee93b3688dd69bfe4bd6f2da6ec0232f12b5691\n'}, {'number': 2, 'created': '2022-10-14 09:29:02.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/ba401c0352a80f2056f4006350b7cad031b56361', 'message': 'TEST PR for Ceph-Mon Master\n\nChange-Id: I9ee93b3688dd69bfe4bd6f2da6ec0232f12b5691\n'}]",0,861285,ba401c0352a80f2056f4006350b7cad031b56361,7,2,2,34952,,,0,"TEST PR for Ceph-Mon Master

Change-Id: I9ee93b3688dd69bfe4bd6f2da6ec0232f12b5691
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/85/861285/2 && git format-patch -1 --stdout FETCH_HEAD,[],0,d9ab4d883a173e1298598243ab681fa7344ae929,,,,0,0
openstack%2Fironic~bugfix%2F19.0~I49e1907b89a9096aa043424b205e7bd390ed1a2f,openstack/ironic,bugfix/19.0,I49e1907b89a9096aa043424b205e7bd390ed1a2f,Redfish: Consider password part of the session cache,MERGED,2022-10-10 22:09:36.000000000,2022-10-14 10:36:55.000000000,2022-10-14 10:35:07.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-10-10 22:09:36.000000000', 'files': ['ironic/drivers/modules/redfish/utils.py', 'doc/source/admin/drivers/redfish.rst', 'releasenotes/notes/redfish_consider_password_in_session_cache-1fa84234db179053.yaml', 'ironic/tests/unit/drivers/modules/redfish/test_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/42fa414ccfaf6b288d85ef5edff0de5ba4333a99', 'message': 'Redfish: Consider password part of the session cache\n\nPreviously, when a password change occured in ironic,\nthe session would not be invalidated, and this, in theory,\ncould lead to all sorts of issues with the old password\nstill being re-used for authentication.\n\nIn a large environment where credentials for BMCs may not\nbe centralized, this can quickly lead to repeated account\nlockout experiences for the BMC service account.\n\nAnyhow, now we consider it in tracking the sessions, so\nwhen the saved password is changed, a new session is\nestablished, and the old session is eventually expired out\nof the cache.\n\nChange-Id: I49e1907b89a9096aa043424b205e7bd390ed1a2f\n(cherry picked from commit c2ba869040f535e4bb83481d1fe9468e7e6991d8)\n(cherry picked from commit de15ee79474273485d6979b88b973ff3833c4f0a)\n'}]",0,860891,42fa414ccfaf6b288d85ef5edff0de5ba4333a99,11,3,1,10342,,,0,"Redfish: Consider password part of the session cache

Previously, when a password change occured in ironic,
the session would not be invalidated, and this, in theory,
could lead to all sorts of issues with the old password
still being re-used for authentication.

In a large environment where credentials for BMCs may not
be centralized, this can quickly lead to repeated account
lockout experiences for the BMC service account.

Anyhow, now we consider it in tracking the sessions, so
when the saved password is changed, a new session is
established, and the old session is eventually expired out
of the cache.

Change-Id: I49e1907b89a9096aa043424b205e7bd390ed1a2f
(cherry picked from commit c2ba869040f535e4bb83481d1fe9468e7e6991d8)
(cherry picked from commit de15ee79474273485d6979b88b973ff3833c4f0a)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/91/860891/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/utils.py', 'doc/source/admin/drivers/redfish.rst', 'releasenotes/notes/redfish_consider_password_in_session_cache-1fa84234db179053.yaml', 'ironic/tests/unit/drivers/modules/redfish/test_utils.py']",4,42fa414ccfaf6b288d85ef5edff0de5ba4333a99,," self.assertEqual(len(redfish_utils.SessionCache._sessions), 1) def test_ensure_new_session_password(self, mock_sushy): d_info = self.node.driver_info d_info['redfish_username'] = 'foo' d_info['redfish_password'] = 'bar' self.node.driver_info = d_info self.node.save() redfish_utils.get_system(self.node) d_info['redfish_password'] = 'foo' self.node.driver_info = d_info self.node.save() redfish_utils.SessionCache._sessions = collections.OrderedDict() redfish_utils.get_system(self.node) self.assertEqual(2, mock_sushy.call_count) @mock.patch.object(sushy, 'Sushy', autospec=True)",,111,23
openstack%2Fironic~master~I23a1ca789f4ea4ffd981e1071f3c2c6c333ac330,openstack/ironic,master,I23a1ca789f4ea4ffd981e1071f3c2c6c333ac330,Bump min version of testtools,MERGED,2022-10-13 07:32:52.000000000,2022-10-14 10:36:44.000000000,2022-10-14 10:35:10.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-13 07:32:52.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d26e0d2b7b4353873c90b5a64a7fdcd71dab035e', 'message': ""Bump min version of testtools\n\nAny version of testtools lower than 2.5.0 fails if the\nattribute 'result_supports_subtests' is present on any\ntest object because of old unittest support.\n\nSee also https://github.com/testing-cabal/testtools/issues/235\nand https://github.com/testing-cabal/testtools/pull/277/commits/38fc9a9e302f68d471d7b097c7327b4ff7348790\nfor more info.\n\nChange-Id: I23a1ca789f4ea4ffd981e1071f3c2c6c333ac330\n""}]",0,861144,d26e0d2b7b4353873c90b5a64a7fdcd71dab035e,10,3,1,23851,,,0,"Bump min version of testtools

Any version of testtools lower than 2.5.0 fails if the
attribute 'result_supports_subtests' is present on any
test object because of old unittest support.

See also https://github.com/testing-cabal/testtools/issues/235
and https://github.com/testing-cabal/testtools/pull/277/commits/38fc9a9e302f68d471d7b097c7327b4ff7348790
for more info.

Change-Id: I23a1ca789f4ea4ffd981e1071f3c2c6c333ac330
",git fetch https://review.opendev.org/openstack/ironic refs/changes/44/861144/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,d26e0d2b7b4353873c90b5a64a7fdcd71dab035e,realistic-testtools,testtools>=2.5.0 # MIT,testtools>=2.2.0 # MIT,1,1
openstack%2Fnova~master~I5b0b0818cbdbe4b1757a0ab509040ec23374e1ba,openstack/nova,master,I5b0b0818cbdbe4b1757a0ab509040ec23374e1ba,WIP: Functional test for 1980720,ABANDONED,2022-10-12 11:00:13.000000000,2022-10-14 10:34:44.000000000,,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 16207}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-12 11:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab1ae39148968bdf864c82b1db0a6a36bc44ef27', 'message': 'WIP: Functional test for 1980720\n\nRelated-Bug: #1980720\nChange-Id: I5b0b0818cbdbe4b1757a0ab509040ec23374e1ba\n'}, {'number': 2, 'created': '2022-10-12 12:25:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa4caeadca4c33e10b59c51854b0f4b5580f7433', 'message': 'WIP: Functional test for 1980720\n\nRelated-Bug: #1980720\nChange-Id: I5b0b0818cbdbe4b1757a0ab509040ec23374e1ba\n'}, {'number': 3, 'created': '2022-10-13 10:30:34.000000000', 'files': ['nova/tests/functional/libvirt/test_libvirt.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/fixtures/cinder.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ef1c091493d3935c082b54bca62cb7b57d21a5ba', 'message': 'WIP: Functional test for 1980720\n\nRelated-Bug: #1980720\nChange-Id: I5b0b0818cbdbe4b1757a0ab509040ec23374e1ba\n'}]",11,861076,ef1c091493d3935c082b54bca62cb7b57d21a5ba,16,6,3,34860,,,0,"WIP: Functional test for 1980720

Related-Bug: #1980720
Change-Id: I5b0b0818cbdbe4b1757a0ab509040ec23374e1ba
",git fetch https://review.opendev.org/openstack/nova refs/changes/76/861076/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_libvirt.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/fixtures/cinder.py', 'nova/tests/fixtures/libvirt.py']",4,ab1ae39148968bdf864c82b1db0a6a36bc44ef27,bug/1980720, import rpdb rpdb.set_trace(),,96,0
openstack%2Fmagnum~stable%2Fyoga~I9cc9a0e654fb26ebec517e3413a592ac6613777c,openstack/magnum,stable/yoga,I9cc9a0e654fb26ebec517e3413a592ac6613777c,Allow update cluster status with admin context,MERGED,2022-08-23 14:25:16.000000000,2022-10-14 10:30:09.000000000,2022-10-14 10:29:05.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-08-23 14:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/07c256712560d6717b276dd7aa7e71a11a45e0d9', 'message': 'Allow update cluster status with admin context\n\nTrust token can be deleted outside of magnum,\nBut when trust token not found, the periodic update status job will\nstay in inprogress unless another cluster action triggered.\n\nPropose to use admin context when trust can not be found in periodic\nupdate status job.\n\nStory: 2010232\nTask: 46031\n\nChange-Id: I9cc9a0e654fb26ebec517e3413a592ac6613777c\n(cherry picked from commit 1ed78a44384ae2617e49acb9031fa3f0964f12f7)\n'}, {'number': 2, 'created': '2022-10-14 09:06:36.000000000', 'files': ['magnum/drivers/common/driver.py', 'magnum/service/periodic.py', 'magnum/tests/unit/service/test_periodic.py', 'magnum/drivers/heat/driver.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/4d30bef60227cd8246f4caa00857761fa56b7d51', 'message': 'Allow update cluster status with admin context\n\nTrust token can be deleted outside of magnum,\nBut when trust token not found, the periodic update status job will\nstay in inprogress unless another cluster action triggered.\n\nPropose to use admin context when trust can not be found in periodic\nupdate status job.\n\nStory: 2010232\nTask: 46031\n\nChange-Id: I9cc9a0e654fb26ebec517e3413a592ac6613777c\n(cherry picked from commit 1ed78a44384ae2617e49acb9031fa3f0964f12f7)\n'}]",0,854134,4d30bef60227cd8246f4caa00857761fa56b7d51,12,4,2,12404,,,0,"Allow update cluster status with admin context

Trust token can be deleted outside of magnum,
But when trust token not found, the periodic update status job will
stay in inprogress unless another cluster action triggered.

Propose to use admin context when trust can not be found in periodic
update status job.

Story: 2010232
Task: 46031

Change-Id: I9cc9a0e654fb26ebec517e3413a592ac6613777c
(cherry picked from commit 1ed78a44384ae2617e49acb9031fa3f0964f12f7)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/34/854134/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/driver.py', 'magnum/service/periodic.py', 'magnum/tests/unit/service/test_periodic.py', 'magnum/drivers/heat/driver.py']",4,07c256712560d6717b276dd7aa7e71a11a45e0d9,periodic-adm-ctx-stable/yoga," def update_cluster_status(self, context, cluster, use_admin_ctx=False): if use_admin_ctx: stack_ctx = context else: stack_ctx = mag_ctx.make_cluster_context(cluster)"," def update_cluster_status(self, context, cluster): stack_ctx = mag_ctx.make_cluster_context(cluster)",47,4
openstack%2Fkayobe~master~Icdeb0ad7544be27f74ddcb3f70dc48bf6c31d772,openstack/kayobe,master,Icdeb0ad7544be27f74ddcb3f70dc48bf6c31d772,Deprecate Monasca and dependencies,MERGED,2022-10-05 12:22:54.000000000,2022-10-14 10:26:39.000000000,2022-10-13 21:38:06.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-10-05 12:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/42865dec7cbb86133661c8c65ee204d7ebce7a10', 'message': 'Deprecate Monasca\n\nAdds a deprecation notice for Monasca service.\n\nChange-Id: Icdeb0ad7544be27f74ddcb3f70dc48bf6c31d772\n'}, {'number': 2, 'created': '2022-10-05 12:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/43c5d3f8805ed535897dcd61c3a2737de9805dd3', 'message': 'Deprecate Monasca\n\nAdds a deprecation notice for Monasca service.\n\nChange-Id: Icdeb0ad7544be27f74ddcb3f70dc48bf6c31d772\n'}, {'number': 3, 'created': '2022-10-07 07:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f1dacb2bdc8f56de02d67cc7e65017b2070aaedd', 'message': 'Deprecate Monasca and dependencies\n\nAdds a deprecation notice for Monasca and dependecy services:\nKafka, Storm, Zookeeper.\n\nChange-Id: Icdeb0ad7544be27f74ddcb3f70dc48bf6c31d772\n'}, {'number': 4, 'created': '2022-10-13 19:11:27.000000000', 'files': ['releasenotes/notes/deprecate-monasca-1f83e043e0f59daa.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2c1a18fd38a5bedc7258d9299f16934e14a9d7af', 'message': 'Deprecate Monasca and dependencies\n\nAdds a deprecation notice for Monasca and dependent services:\nKafka, Storm, ZooKeeper.\n\nChange-Id: Icdeb0ad7544be27f74ddcb3f70dc48bf6c31d772\n'}]",11,860406,2c1a18fd38a5bedc7258d9299f16934e14a9d7af,21,4,4,32657,,,0,"Deprecate Monasca and dependencies

Adds a deprecation notice for Monasca and dependent services:
Kafka, Storm, ZooKeeper.

Change-Id: Icdeb0ad7544be27f74ddcb3f70dc48bf6c31d772
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/06/860406/3 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/deprecate-monasca-1f83e043e0f59daa.yaml'],1,42865dec7cbb86133661c8c65ee204d7ebce7a10,,--- deprecations: - | Deprecates support for ``Monasca` services. The support will be removed in Antelope cycle. ,,5,0
openstack%2Ftripleo-quickstart~master~I436d79d79e206dbc3eccba382e34199178be2afb,openstack/tripleo-quickstart,master,I436d79d79e206dbc3eccba382e34199178be2afb,DNM Add temporary repo with ansible-collections-openstack 2.0.0 preview,NEW,2022-10-13 11:52:54.000000000,2022-10-14 10:24:16.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-10-13 11:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/836949ee5af6a40e466fdb8f7ae996671c09b39d', 'message': 'Add temporary repo with ansible-collections-openstack 2.0.0 preview\n\nThis patch is adding a new temporary repo which contains a package for\na-o-c 2.0.0 preview and python3-openstacksdk-0.101.0 which is current\nu-c version.\n\nIt also indludes logic from [1] to install different versions of a-c-o\nfrom galaxy depending on the version of openstack.\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/843497/\n\nChange-Id: I436d79d79e206dbc3eccba382e34199178be2afb\n'}, {'number': 2, 'created': '2022-10-13 11:53:30.000000000', 'files': ['config/release/tripleo-ci/CentOS-9/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-9/master.yml', 'quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1995a1ad6450f21cd73ec1fd9124ad19af379a36', 'message': 'DNM Add temporary repo with ansible-collections-openstack 2.0.0 preview\n\nThis patch is adding a new temporary repo which contains a package for\na-o-c 2.0.0 preview and python3-openstacksdk-0.101.0 which is current\nu-c version.\n\nIt also indludes logic from [1] to install different versions of a-c-o\nfrom galaxy depending on the version of openstack.\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/843497/\n\nChange-Id: I436d79d79e206dbc3eccba382e34199178be2afb\n'}]",12,861170,1995a1ad6450f21cd73ec1fd9124ad19af379a36,14,3,2,16312,,,0,"DNM Add temporary repo with ansible-collections-openstack 2.0.0 preview

This patch is adding a new temporary repo which contains a package for
a-o-c 2.0.0 preview and python3-openstacksdk-0.101.0 which is current
u-c version.

It also indludes logic from [1] to install different versions of a-c-o
from galaxy depending on the version of openstack.

[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/843497/

Change-Id: I436d79d79e206dbc3eccba382e34199178be2afb
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/70/861170/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-9/master.yml', 'config/release/tripleo-ci/CentOS-9/promotion-testing-hash-master.yml', 'quickstart.sh']",3,836949ee5af6a40e466fdb8f7ae996671c09b39d,," # Install ansible-collections-openstack separately to account for different releases ACO_BRANCH=master if [[ $QUICKSTART_RELEASE =~ .*(train|victoria|wallaby).* ]]; then ACO_BRANCH=stable/1.0.0 fi if [[ -d ~/src/opendev.org/openstack/ansible-collections-openstack ]]; then # Install zuul-cloned repo pushd ~/src/opendev.org/openstack/ansible-collections-openstack git checkout $ACO_BRANCH ansible-galaxy collection install --force . \ -p $VIRTUAL_ENV/share/ansible/collections popd else ansible-galaxy collection install --force \ git+https://opendev.org/openstack/ansible-collections-openstack,$ACO_BRANCH \ -p $VIRTUAL_ENV/share/ansible/collections fi OS_COLLECTIONS=""ansible-config_template tripleo-operator-ansible"""," OS_COLLECTIONS=""ansible-config_template ansible-collections-openstack \ tripleo-operator-ansible""",22,4
openstack%2Fkolla-ansible~master~I1f48469b7d0c615b0b214399a4a659e070957b19,openstack/kolla-ansible,master,I1f48469b7d0c615b0b214399a4a659e070957b19,DNM: Test Cirros 0.5.2 in KVM jobs,ABANDONED,2022-10-14 09:05:55.000000000,2022-10-14 10:17:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-10-14 09:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/11548773ecf45210cad8451b3fa969237d6dc343', 'message': 'DNM: Test Cirros 0.5.2 in KVM jobs\n\nChange-Id: I1f48469b7d0c615b0b214399a4a659e070957b19\n'}, {'number': 2, 'created': '2022-10-14 09:12:57.000000000', 'files': ['ansible/roles/nova-cell/defaults/main.yml', 'tools/init-runonce', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bb3b43d2f02907bd93af834561edb7b45c6560bf', 'message': 'DNM: Test Cirros 0.5.2 in KVM jobs\n\nChange-Id: I1f48469b7d0c615b0b214399a4a659e070957b19\n'}]",1,861324,bb3b43d2f02907bd93af834561edb7b45c6560bf,5,1,2,22629,,,0,"DNM: Test Cirros 0.5.2 in KVM jobs

Change-Id: I1f48469b7d0c615b0b214399a4a659e070957b19
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/24/861324/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/init-runonce', 'zuul.d/project.yaml']",2,11548773ecf45210cad8451b3fa969237d6dc343,,, - kolla-ansible-centos9s-source - kolla-ansible-debian-source - kolla-ansible-openeuler-source - kolla-ansible-rocky9-source - kolla-ansible-ubuntu-source - kolla-ansible-rocky9-source-multinode-ipv6 - kolla-ansible-ubuntu-source-multinode-ipv6 - kolla-ansible-rocky9-source-bifrost - kolla-ansible-ubuntu-source-bifrost - kolla-ansible-rocky9-source-zun - kolla-ansible-debian-source-zun - kolla-ansible-ubuntu-source-zun - kolla-ansible-rocky9-source-swift - kolla-ansible-ubuntu-source-swift - kolla-ansible-rocky9-source-scenario-nfv - kolla-ansible-rocky9-source-magnum - kolla-ansible-ubuntu-source-magnum - kolla-ansible-rocky9-source-octavia - kolla-ansible-ubuntu-source-octavia - kolla-ansible-rocky9-source-masakari - kolla-ansible-ubuntu-source-masakari - kolla-ansible-rocky9-source-ironic - kolla-ansible-debian-source-ironic - kolla-ansible-ubuntu-source-ironic # - kolla-ansible-rocky9-source-upgrade - kolla-ansible-debian-source-upgrade - kolla-ansible-ubuntu-source-upgrade - kolla-ansible-ubuntu-binary-upgrade - kolla-ansible-ubuntu-source-cells - kolla-ansible-rocky9-source-cells - kolla-ansible-rocky9-source-mariadb - kolla-ansible-ubuntu-source-mariadb - kolla-ansible-rocky9-source-ovn - kolla-ansible-ubuntu-source-ovn # - kolla-ansible-rocky9-source-upgrade-ovn - kolla-ansible-ubuntu-source-upgrade-ovn # - kolla-ansible-rocky9-source-prometheus-efk - kolla-ansible-ubuntu-source-prometheus-efk # - kolla-ansible-rocky9-source-venus - kolla-ansible-ubuntu-source-venus - kolla-ansible-rocky9-source-cephadm - kolla-ansible-ubuntu-source-cephadm # - kolla-ansible-rocky9-source-upgrade-cephadm - kolla-ansible-ubuntu-source-upgrade-cephadm - kolla-ansible-rocky9-hashi-vault,1,46
openstack%2Fcharm-hacluster~master~Ib2d6676eb63f55222faad36229060af2733d295d,openstack/charm-hacluster,master,Ib2d6676eb63f55222faad36229060af2733d295d,Remove usage of rsync,NEW,2021-12-08 14:32:16.000000000,2022-10-14 10:15:14.000000000,,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-08 14:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/adc0513892608ca73c1f706f25d57dc5898e5e2c', 'message': 'Remove usage of rsync\n\nRemove all rsync usage as Pythons builtin shutil.copy function\ncan do everything the charm needs.\n\nChange-Id: Ib2d6676eb63f55222faad36229060af2733d295d\n'}, {'number': 2, 'created': '2021-12-16 16:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/9b8d8f0f4cce5d2ebdcc6df5c2ae950fdefbbc4c', 'message': 'Remove usage of rsync\n\nRemove all rsync usage as Pythons builtin shutil.copy function\ncan do everything the charm needs.\n\nChange-Id: Ib2d6676eb63f55222faad36229060af2733d295d\n'}, {'number': 3, 'created': '2022-07-11 13:42:14.000000000', 'files': ['hooks/utils.py', 'unit_tests/test_hacluster_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/21160143fdf56234c611f47320ac49f3e927eee7', 'message': 'Remove usage of rsync\n\nRemove all rsync usage as Pythons builtin shutil.copy function\ncan do everything the charm needs.\n\nChange-Id: Ib2d6676eb63f55222faad36229060af2733d295d\n'}]",3,821076,21160143fdf56234c611f47320ac49f3e927eee7,14,3,3,935,,,0,"Remove usage of rsync

Remove all rsync usage as Pythons builtin shutil.copy function
can do everything the charm needs.

Change-Id: Ib2d6676eb63f55222faad36229060af2733d295d
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/76/821076/3 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/utils.py', 'unit_tests/test_hacluster_hooks.py']",2,adc0513892608ca73c1f706f25d57dc5898e5e2c,drop-rsync-usage," @mock.patch('utils.shutil.copy') def test_config_changed(self, mock_mkdir, mock_copy, mock_config,"," @mock.patch('utils.rsync') def test_config_changed(self, mock_mkdir, mock_rsync, mock_config,",16,8
openstack%2Ftripleo-quickstart-extras~master~Iffb41b68283f77050d8073364156cc0aca85559e,openstack/tripleo-quickstart-extras,master,Iffb41b68283f77050d8073364156cc0aca85559e,Stop using os_stack module,MERGED,2022-10-10 05:28:57.000000000,2022-10-14 10:08:58.000000000,2022-10-14 10:08:00.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9976}, {'_account_id': 14611}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-10-10 05:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b17220bd09dde2a878760c6563320d68bd17e53e', 'message': ""Stop using os_stack module\n\nThis redirect does not work or won't work in the future.\n\nChange-Id: Iffb41b68283f77050d8073364156cc0aca85559e\n""}, {'number': 2, 'created': '2022-10-10 06:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/99b961bf859c2940fc881faf246464a5d68d655f', 'message': ""Stop using os_stack module\n\nThis redirect does not work or won't work in the future.\n\nChange-Id: Iffb41b68283f77050d8073364156cc0aca85559e\n""}, {'number': 3, 'created': '2022-10-10 06:43:17.000000000', 'files': ['roles/ovb-manage-stack/tasks/ovb-delete-stack.yml', 'test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e7fcfa1c0cbb7bdb64696711d3724aa96fd6695b', 'message': ""Stop using os_stack module\n\nThis redirect does not work or won't work in the future.\n\nNote: This adds ansible-core to test-requirements.txt,\nwe may need to add requirements.txt and ansible collections\nin ansible-collections-requirements.yml in the future.\n\nChange-Id: Iffb41b68283f77050d8073364156cc0aca85559e\n""}]",17,860805,e7fcfa1c0cbb7bdb64696711d3724aa96fd6695b,29,8,3,8833,,,0,"Stop using os_stack module

This redirect does not work or won't work in the future.

Note: This adds ansible-core to test-requirements.txt,
we may need to add requirements.txt and ansible collections
in ansible-collections-requirements.yml in the future.

Change-Id: Iffb41b68283f77050d8073364156cc0aca85559e
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/05/860805/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/ovb-manage-stack/tasks/ovb-delete-stack.yml'],1,b17220bd09dde2a878760c6563320d68bd17e53e,, openstack.cloud.stack:, os_stack:,1,1
openstack%2Fmagnum~stable%2Fyoga~I92d1cb6d78a1a12bd0fb52699f1007645a666df9,openstack/magnum,stable/yoga,I92d1cb6d78a1a12bd0fb52699f1007645a666df9,[CI] move queue setting to project level,MERGED,2022-10-14 05:17:38.000000000,2022-10-14 09:56:48.000000000,2022-10-14 09:54:25.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-10-14 05:17:38.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/46e10625f614c87204637974149a32a8d163411d', 'message': '[CI] move queue setting to project level\n\nJobs are currently not running. Fix as described in [1][2]\n\n[1] https://lists.opendev.org/pipermail/service-announce/2022-September/000044.html\n[2] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nChange-Id: I92d1cb6d78a1a12bd0fb52699f1007645a666df9\n'}]",0,861281,46e10625f614c87204637974149a32a8d163411d,7,2,1,8064,,,0,"[CI] move queue setting to project level

Jobs are currently not running. Fix as described in [1][2]

[1] https://lists.opendev.org/pipermail/service-announce/2022-September/000044.html
[2] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html

Change-Id: I92d1cb6d78a1a12bd0fb52699f1007645a666df9
",git fetch https://review.opendev.org/openstack/magnum refs/changes/81/861281/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,46e10625f614c87204637974149a32a8d163411d,, queue: magnum, queue: magnum,1,1
openstack%2Fdevstack~master~I6fb390bfeec436b50a3ddc18d154bbce3f3b1975,openstack/devstack,master,I6fb390bfeec436b50a3ddc18d154bbce3f3b1975,Adding devstack support for Rocky Linux 9,MERGED,2022-08-31 17:39:07.000000000,2022-10-14 09:55:40.000000000,2022-10-14 09:53:29.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-08-31 17:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/648fa33676e3b0fde8725dc75c7b67d390d020d2', 'message': 'Adding devstack support for Rocky Linux 9\n\nAdding job and nodeset to run tempest-full-py3 in Rocky Linux 9 instance\n\nChange-Id: I6fb390bfeec436b50a3ddc18d154bbce3f3b1975\n'}, {'number': 2, 'created': '2022-10-13 08:29:36.000000000', 'files': ['doc/source/index.rst', 'functions-common', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/358987f065af05d166539982c282e2f587b5c952', 'message': 'Adding devstack support for Rocky Linux 9\n\nAdding job and nodeset to run tempest-full-py3 in Rocky Linux 9 instance\n\nChange-Id: I6fb390bfeec436b50a3ddc18d154bbce3f3b1975\n'}]",24,855393,358987f065af05d166539982c282e2f587b5c952,24,3,2,34319,,,0,"Adding devstack support for Rocky Linux 9

Adding job and nodeset to run tempest-full-py3 in Rocky Linux 9 instance

Change-Id: I6fb390bfeec436b50a3ddc18d154bbce3f3b1975
",git fetch https://review.opendev.org/openstack/devstack refs/changes/93/855393/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'functions-common', '.zuul.yaml']",3,648fa33676e3b0fde8725dc75c7b67d390d020d2,, name: devstack-single-node-rocky-blue-onyx nodes: - name: controller label: rockylinux-9 groups: - name: tempest nodes: - controller - nodeset:- job: name: devstack-platform-rocky-blue-onyx parent: tempest-full-py3 description: Rocky Linux 9 Blue Onyx platform test nodeset: devstack-single-node-rocky-blue-onyx timeout: 9000 vars: configure_swap_size: 4096 - devstack-platform-rocky-blue-onyx,,26,2
openstack%2Fcharm-ceph-radosgw~stable%2Fpacific~I0528fe7f4a89c69f2790a0e472f6f43e23c2de19,openstack/charm-ceph-radosgw,stable/pacific,I0528fe7f4a89c69f2790a0e472f6f43e23c2de19,Fix create_system_user so it returns creds,ABANDONED,2022-04-01 10:55:59.000000000,2022-10-14 09:37:44.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-01 10:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/390dc5011d57fe3bcf6aa8706b31a410cf629b18', 'message': 'Fix create_system_user so it returns creds\n\nFix the create_system_user method so it returns the access_key\nand secret when a user is created.\n\nThis patch also includes the following changes:\n\n* Improve logging of multisite methods to help with debugging issues.\n* Fix multisite relations in bundles.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/667\nCloses-Bug: #1950329\nChange-Id: I0528fe7f4a89c69f2790a0e472f6f43e23c2de19\n(cherry picked from commit 083a0e67223791f1f22f13aa1b30cf0572e6281b)\n'}, {'number': 2, 'created': '2022-07-11 13:48:14.000000000', 'files': ['hooks/hooks.py', 'unit_tests/testdata/test_create_system_user.json', 'unit_tests/test_multisite.py', 'hooks/multisite.py', 'unit_tests/testdata/test_create_user.json'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/6f0a556e54785cf0b6e740daa77d94a59d1dff73', 'message': 'Fix create_system_user so it returns creds\n\nFix the create_system_user method so it returns the access_key\nand secret when a user is created.\n\nThis patch also includes the following changes:\n\n* Improve logging of multisite methods to help with debugging issues.\n* Fix multisite relations in bundles.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/667\nCloses-Bug: #1950329\nChange-Id: I0528fe7f4a89c69f2790a0e472f6f43e23c2de19\n(cherry picked from commit 083a0e67223791f1f22f13aa1b30cf0572e6281b)\n'}]",1,836136,6f0a556e54785cf0b6e740daa77d94a59d1dff73,9,2,2,935,,,0,"Fix create_system_user so it returns creds

Fix the create_system_user method so it returns the access_key
and secret when a user is created.

This patch also includes the following changes:

* Improve logging of multisite methods to help with debugging issues.
* Fix multisite relations in bundles.

Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/667
Closes-Bug: #1950329
Change-Id: I0528fe7f4a89c69f2790a0e472f6f43e23c2de19
(cherry picked from commit 083a0e67223791f1f22f13aa1b30cf0572e6281b)
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/36/836136/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/hooks.py', 'unit_tests/testdata/test_create_system_user.json', 'unit_tests/test_multisite.py', 'hooks/multisite.py', 'unit_tests/testdata/test_create_user.json']",5,390dc5011d57fe3bcf6aa8706b31a410cf629b18,stable/pacific-bug/1950329,"{ ""auid"": 0, ""bucket_quota"": { ""check_on_raw"": false, ""enabled"": false, ""max_objects"": -1, ""max_size"": -1, ""max_size_kb"": 0 }, ""caps"": [], ""default_placement"": """", ""display_name"": ""Synchronization User"", ""email"": """", ""keys"": [ { ""access_key"": ""41JJQK1HN2NAE5DEZUF9"", ""secret_key"": ""1qhCgxmUDAJI9saFAVdvUTG5MzMjlpMxr5agaaa4"", ""user"": ""mrbees"" } ], ""max_buckets"": 1000, ""op_mask"": ""read, write, delete"", ""placement_tags"": [], ""subusers"": [], ""suspended"": 0, ""swift_keys"": [], ""system"": ""true"", ""temp_url_keys"": [], ""type"": ""rgw"", ""user_id"": ""mrbees"", ""user_quota"": { ""check_on_raw"": false, ""enabled"": false, ""max_objects"": -1, ""max_size"": -1, ""max_size_kb"": 0 } } ",,142,1
openstack%2Fcharm-ceph-radosgw~stable%2Foctopus~I0528fe7f4a89c69f2790a0e472f6f43e23c2de19,openstack/charm-ceph-radosgw,stable/octopus,I0528fe7f4a89c69f2790a0e472f6f43e23c2de19,Fix create_system_user so it returns creds,ABANDONED,2022-04-01 10:57:07.000000000,2022-10-14 09:37:33.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 33717}]","[{'number': 1, 'created': '2022-04-01 10:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/106f78128a570a216029bee75ecbab1376babe68', 'message': 'Fix create_system_user so it returns creds\n\nFix the create_system_user method so it returns the access_key\nand secret when a user is created.\n\nThis patch also includes the following changes:\n\n* Improve logging of multisite methods to help with debugging issues.\n* Fix multisite relations in bundles.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/667\nCloses-Bug: #1950329\nChange-Id: I0528fe7f4a89c69f2790a0e472f6f43e23c2de19\n(cherry picked from commit 083a0e67223791f1f22f13aa1b30cf0572e6281b)\n'}, {'number': 2, 'created': '2022-07-11 13:47:39.000000000', 'files': ['hooks/hooks.py', 'unit_tests/testdata/test_create_system_user.json', 'unit_tests/test_multisite.py', 'hooks/multisite.py', 'unit_tests/testdata/test_create_user.json'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/2d018782694bddd88f3a169101fbfac26b4f82f1', 'message': 'Fix create_system_user so it returns creds\n\nFix the create_system_user method so it returns the access_key\nand secret when a user is created.\n\nThis patch also includes the following changes:\n\n* Improve logging of multisite methods to help with debugging issues.\n* Fix multisite relations in bundles.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/667\nCloses-Bug: #1950329\nChange-Id: I0528fe7f4a89c69f2790a0e472f6f43e23c2de19\n(cherry picked from commit 083a0e67223791f1f22f13aa1b30cf0572e6281b)\n'}]",7,836137,2d018782694bddd88f3a169101fbfac26b4f82f1,19,3,2,935,,,0,"Fix create_system_user so it returns creds

Fix the create_system_user method so it returns the access_key
and secret when a user is created.

This patch also includes the following changes:

* Improve logging of multisite methods to help with debugging issues.
* Fix multisite relations in bundles.

Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/667
Closes-Bug: #1950329
Change-Id: I0528fe7f4a89c69f2790a0e472f6f43e23c2de19
(cherry picked from commit 083a0e67223791f1f22f13aa1b30cf0572e6281b)
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/37/836137/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/hooks.py', 'unit_tests/testdata/test_create_system_user.json', 'unit_tests/test_multisite.py', 'hooks/multisite.py', 'unit_tests/testdata/test_create_user.json']",5,106f78128a570a216029bee75ecbab1376babe68,stable/octopus-bug/1950329,"{ ""auid"": 0, ""bucket_quota"": { ""check_on_raw"": false, ""enabled"": false, ""max_objects"": -1, ""max_size"": -1, ""max_size_kb"": 0 }, ""caps"": [], ""default_placement"": """", ""display_name"": ""Synchronization User"", ""email"": """", ""keys"": [ { ""access_key"": ""41JJQK1HN2NAE5DEZUF9"", ""secret_key"": ""1qhCgxmUDAJI9saFAVdvUTG5MzMjlpMxr5agaaa4"", ""user"": ""mrbees"" } ], ""max_buckets"": 1000, ""op_mask"": ""read, write, delete"", ""placement_tags"": [], ""subusers"": [], ""suspended"": 0, ""swift_keys"": [], ""system"": ""true"", ""temp_url_keys"": [], ""type"": ""rgw"", ""user_id"": ""mrbees"", ""user_quota"": { ""check_on_raw"": false, ""enabled"": false, ""max_objects"": -1, ""max_size"": -1, ""max_size_kb"": 0 } } ",,142,1
openstack%2Fcharm-manila~master~I1b356c4164d7037499834c95ded8a3a9b55e4b10,openstack/charm-manila,master,I1b356c4164d7037499834c95ded8a3a9b55e4b10,Add missing version -> codename mappings,ABANDONED,2022-02-15 09:57:47.000000000,2022-10-14 09:37:20.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-15 09:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/209bec5497f1b9a542346bf227a17773647a4a3c', 'message': 'Add missing version -> codename mappings\n\nAdd version to codename mappings for Wallaby->Yoga.\n\nChange-Id: I1b356c4164d7037499834c95ded8a3a9b55e4b10\n'}, {'number': 2, 'created': '2022-07-11 13:26:28.000000000', 'files': ['src/lib/charm/openstack/manila.py'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/36a66b101779887aea46d6bf0071c8f38a5ec73b', 'message': 'Add missing version -> codename mappings\n\nAdd version to codename mappings for Wallaby->Yoga.\n\nChange-Id: I1b356c4164d7037499834c95ded8a3a9b55e4b10\n'}]",2,829209,36a66b101779887aea46d6bf0071c8f38a5ec73b,10,2,2,935,,,0,"Add missing version -> codename mappings

Add version to codename mappings for Wallaby->Yoga.

Change-Id: I1b356c4164d7037499834c95ded8a3a9b55e4b10
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/09/829209/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/manila.py'],1,209bec5497f1b9a542346bf227a17773647a4a3c,add-package-versions," ('12', 'wallaby'), ('13', 'xena'), ('14', 'yoga'),",,3,0
openstack%2Fcharm-vault~master~I9abb815832cc11062d994094279e02b413690594,openstack/charm-vault,master,I9abb815832cc11062d994094279e02b413690594,DNM: 1.9 edge testing,ABANDONED,2022-09-05 09:54:30.000000000,2022-10-14 09:36:44.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-05 09:54:30.000000000', 'files': ['src/config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/71b8b5aa8dd6ebd12e63b9b24e8356a8e9e6aa13', 'message': 'DNM: 1.9 edge testing\n\nChange-Id: I9abb815832cc11062d994094279e02b413690594\n'}]",2,855865,71b8b5aa8dd6ebd12e63b9b24e8356a8e9e6aa13,9,2,1,935,,,0,"DNM: 1.9 edge testing

Change-Id: I9abb815832cc11062d994094279e02b413690594
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/65/855865/1 && git format-patch -1 --stdout FETCH_HEAD,['src/config.yaml'],1,71b8b5aa8dd6ebd12e63b9b24e8356a8e9e6aa13,DNM-vault-1.9-edge, default: 1.9/edge, default: 1.8/stable,1,1
openstack%2Fcharm-vault~master~I59e7480a05dd0710dd6bcff3f2ade40dff83b875,openstack/charm-vault,master,I59e7480a05dd0710dd6bcff3f2ade40dff83b875,DNM: 1.10 edge testing,ABANDONED,2022-09-05 09:53:52.000000000,2022-10-14 09:36:36.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-05 09:53:52.000000000', 'files': ['src/config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/7b3d6584a04cd8471a266689a3f9de69b75311ec', 'message': 'DNM: 1.10 edge testing\n\nChange-Id: I59e7480a05dd0710dd6bcff3f2ade40dff83b875\n'}]",1,855864,7b3d6584a04cd8471a266689a3f9de69b75311ec,7,2,1,935,,,0,"DNM: 1.10 edge testing

Change-Id: I59e7480a05dd0710dd6bcff3f2ade40dff83b875
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/64/855864/1 && git format-patch -1 --stdout FETCH_HEAD,['src/config.yaml'],1,7b3d6584a04cd8471a266689a3f9de69b75311ec,DNM-vault-1.10-edge, default: 1.10/edge, default: 1.8/stable,1,1
openstack%2Fopenstack-ansible-lxc_hosts~master~I60f1b04c2378c91905440e8de223c29dd6da4d17,openstack/openstack-ansible-lxc_hosts,master,I60f1b04c2378c91905440e8de223c29dd6da4d17,Do not install COPR repo for CentOS LXC,NEW,2022-05-27 18:19:44.000000000,2022-10-14 09:35:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-27 18:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/af17464a5708bd48cdfe2987602ef8d1854b8718', 'message': ""Do not install COPR repo for CentOS 8 LXC\n\nEPEL does contain LXC package for CentOS 8 Stream, so we don't need to\ninstall COPR repo anymore.\n\nWith that we also add control of what packages are going to be installed\nfrom EPEL.\n\nChange-Id: I60f1b04c2378c91905440e8de223c29dd6da4d17\n""}, {'number': 2, 'created': '2022-05-27 18:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/c07f38ddd4048303e15a38a79aa40371e9277b81', 'message': ""Do not install COPR repo for CentOS 8 LXC\n\nEPEL does contain LXC package for CentOS 8 Stream, so we don't need to\ninstall COPR repo anymore.\n\nWith that we also add control of what packages are going to be installed\nfrom EPEL.\n\nChange-Id: I60f1b04c2378c91905440e8de223c29dd6da4d17\n""}, {'number': 3, 'created': '2022-05-27 18:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/2117ef8aa1a68201d2db3d2a56eabba793f554bf', 'message': ""Do not install COPR repo for CentOS 8 LXC\n\nEPEL does contain LXC package for CentOS 8 Stream, so we don't need to\ninstall COPR repo anymore.\n\nWith that we also add control of what packages are going to be installed\nfrom EPEL.\n\nChange-Id: I60f1b04c2378c91905440e8de223c29dd6da4d17\n""}, {'number': 4, 'created': '2022-05-27 18:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/c995544fc64b2826de8512fab65a1b62c3f00854', 'message': ""Do not install COPR repo for CentOS 8 LXC\n\nEPEL does contain LXC package for CentOS 8 Stream, so we don't need to\ninstall COPR repo anymore.\n\nWith that we also add control of what packages are going to be installed\nfrom EPEL.\n\nChange-Id: I60f1b04c2378c91905440e8de223c29dd6da4d17\n""}, {'number': 5, 'created': '2022-05-27 20:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/b66403a0484e312efa1a77d684ee0e0a70b8d8a1', 'message': ""Do not install COPR repo for CentOS 8 LXC\n\nEPEL does contain LXC package for CentOS 8 Stream, so we don't need to\ninstall COPR repo anymore.\n\nWith that we also add control of what packages are going to be installed\nfrom EPEL.\n\nChange-Id: I60f1b04c2378c91905440e8de223c29dd6da4d17\n""}, {'number': 6, 'created': '2022-06-14 07:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/09805f1424b2691dd5ba3c399aa3932a44fd05de', 'message': ""Do not install COPR repo for CentOS LXC\n\nEPEL does contain LXC package for CentOS 8 and 9 Stream, so we don't need\nto install COPR repo anymore.\n\nWith that we also add control of what packages are going to be installed\nfrom EPEL.\n\nChange-Id: I60f1b04c2378c91905440e8de223c29dd6da4d17\n""}, {'number': 7, 'created': '2022-06-17 20:40:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/758ac41e3eced6198eac35d6336c43b620a2b46b', 'message': ""Do not install COPR repo for CentOS LXC\n\nEPEL does contain LXC package for CentOS 8 and 9 Stream, so we don't need\nto install COPR repo anymore.\n\nWith that we also add control of what packages are going to be installed\nfrom EPEL.\n\nChange-Id: I60f1b04c2378c91905440e8de223c29dd6da4d17\n""}, {'number': 8, 'created': '2022-06-20 10:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/0d03382f9000c2bb7e4aede6bfa12ac63408b1fd', 'message': ""Do not install COPR repo for CentOS LXC\n\nEPEL does contain LXC package for CentOS 8 and 9 Stream, so we don't need\nto install COPR repo anymore.\n\nWith that we also add control of what packages are going to be installed\nfrom EPEL.\n\nChange-Id: I60f1b04c2378c91905440e8de223c29dd6da4d17\n""}, {'number': 9, 'created': '2022-06-20 10:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/9110e8492ecbfa487a12fc0dcc4a4c02d2bf2d92', 'message': 'Do not install COPR repo for CentOS LXC\n\nEPEL does contain LXC package for CentOS 8 and 9 Stream, so we can\ninstall LXC from there. For CentOS 9 COPR still needed for lxc-templates\n\nWith that we also add control of what packages are going to be installed\nfrom EPEL.\n\nChange-Id: I60f1b04c2378c91905440e8de223c29dd6da4d17\n'}, {'number': 10, 'created': '2022-07-28 08:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/2272f75545c2000e8405d22c1d37f9f5d7f51eb0', 'message': 'Do not install COPR repo for CentOS LXC\n\nEPEL does contain LXC package for CentOS 8 and 9 Stream, so we can\ninstall LXC from there. For CentOS 9 COPR still needed for lxc-templates\n\nWith that we also add control of what packages are going to be installed\nfrom EPEL.\n\nChange-Id: I60f1b04c2378c91905440e8de223c29dd6da4d17\n'}, {'number': 11, 'created': '2022-10-14 08:10:30.000000000', 'files': ['tasks/lxc_install_dnf.yml', 'releasenotes/notes/centos_8_copr-dca96bcade8cfb75.yaml', 'vars/redhat-host.yml', 'vars/redhat-9-host.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/936014eef4cc61faea4088262425a528d7b850e6', 'message': 'Do not install COPR repo for CentOS LXC\n\nEPEL does contain LXC package for CentOS 8 and 9 Stream, so we can\ninstall LXC from there. For CentOS 9 COPR still needed for lxc-templates\n\nWith that we also add control of what packages are going to be installed\nfrom EPEL.\n\nChange-Id: I60f1b04c2378c91905440e8de223c29dd6da4d17\n'}]",1,843672,936014eef4cc61faea4088262425a528d7b850e6,19,1,11,28619,,,0,"Do not install COPR repo for CentOS LXC

EPEL does contain LXC package for CentOS 8 and 9 Stream, so we can
install LXC from there. For CentOS 9 COPR still needed for lxc-templates

With that we also add control of what packages are going to be installed
from EPEL.

Change-Id: I60f1b04c2378c91905440e8de223c29dd6da4d17
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/72/843672/3 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/lxc_install_dnf.yml', 'releasenotes/notes/centos_8_copr-dca96bcade8cfb75.yaml', 'handlers/main.yml', 'vars/redhat-9-host.yml', 'vars/redhat-host.yml', 'defaults/main.yml']",6,af17464a5708bd48cdfe2987602ef8d1854b8718,843672,"lxc_hosts_epel_packages: ""{{ _lxc_hosts_epel_packages | default([]) }}""lxc_centos_package_baseurl: ""{{ _lxc_centos_package_baseurl | default('') }}"" lxc_centos_package_key: ""{{ _lxc_centos_package_key | default('' }}""","lxc_centos_package_baseurl: ""{{ _lxc_centos_package_baseurl }}"" lxc_centos_package_key: ""{{ _lxc_centos_package_key }}""",43,8
openstack%2Ftripleo-heat-templates~master~I25e0cbeed80fc77ee2d5c37d73a95d844b8f428d,openstack/tripleo-heat-templates,master,I25e0cbeed80fc77ee2d5c37d73a95d844b8f428d,Fix ignored EnableAodhExpirer,MERGED,2022-09-07 17:37:27.000000000,2022-10-14 09:31:38.000000000,2022-10-14 09:31:38.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-09-07 17:37:27.000000000', 'files': ['deployment/aodh/aodh-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2a2fd0c4763bcfbccc391359ea307518f24e3972', 'message': 'Fix ignored EnableAodhExpirer\n\nThe enable_aodh_expirer hieradata key is not implemented in\npuppet-tripleo. This replaces that wrong key by the class parameter\nso that the defined value is properly picked up by puppet.\n\nCloses-Bug: #1981150\nChange-Id: I25e0cbeed80fc77ee2d5c37d73a95d844b8f428d\n'}]",1,856310,2a2fd0c4763bcfbccc391359ea307518f24e3972,14,5,1,9816,,,0,"Fix ignored EnableAodhExpirer

The enable_aodh_expirer hieradata key is not implemented in
puppet-tripleo. This replaces that wrong key by the class parameter
so that the defined value is properly picked up by puppet.

Closes-Bug: #1981150
Change-Id: I25e0cbeed80fc77ee2d5c37d73a95d844b8f428d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/10/856310/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/aodh/aodh-api-container-puppet.yaml'],1,2a2fd0c4763bcfbccc391359ea307518f24e3972,bug/1981150, tripleo::profile::base::aodh::api::enable_aodh_expirer: {get_param: EnableAodhExpirer}, enable_aodh_expirer: {get_param: EnableAodhExpirer},1,1
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Ieac95036cdfa2fbfc9526366818f8544afc1218b,openstack/python-tripleoclient,stable/wallaby,Ieac95036cdfa2fbfc9526366818f8544afc1218b,Look for keys in the new default work dir,MERGED,2022-10-07 07:27:27.000000000,2022-10-14 08:20:26.000000000,2022-10-14 08:19:21.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-10-07 07:27:27.000000000', 'files': ['tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c7d7cfb53d81608ee6b75aafb05128320207c7c5', 'message': ""Look for keys in the new default work dir\n\nThough the old work_dir is a symlink to the new\nwork_dir, let's use the new consistent work_dir\nwhere the ssh_keys would be stored during upgrade.\n\nChange-Id: Ieac95036cdfa2fbfc9526366818f8544afc1218b\n(cherry picked from commit 296b46bbfdbd17f7de418ec7d85527263d0b8683)\n""}]",1,860651,c7d7cfb53d81608ee6b75aafb05128320207c7c5,13,5,1,8833,,,0,"Look for keys in the new default work dir

Though the old work_dir is a symlink to the new
work_dir, let's use the new consistent work_dir
where the ssh_keys would be stored during upgrade.

Change-Id: Ieac95036cdfa2fbfc9526366818f8544afc1218b
(cherry picked from commit 296b46bbfdbd17f7de418ec7d85527263d0b8683)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/51/860651/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/utils.py'],1,c7d7cfb53d81608ee6b75aafb05128320207c7c5,, stack_dir = get_default_working_dir(stack)," stack_dir = os.path.join(constants.DEFAULT_WORK_DIR, stack)",1,1
openstack%2Fopenstack-ansible~master~Id994749b927048ee297b45aa0480894a5ca6b9e1,openstack/openstack-ansible,master,Id994749b927048ee297b45aa0480894a5ca6b9e1,Bump ansible-core to 2.13.2,ABANDONED,2022-05-18 16:20:41.000000000,2022-10-14 08:09:58.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-05-18 16:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d68ec4a632b084008a00ed7e9ce080630b7e772e', 'message': 'Bump ansible-core to 2.13.0\n\nChange-Id: Id994749b927048ee297b45aa0480894a5ca6b9e1\n'}, {'number': 2, 'created': '2022-06-14 16:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bef8e19eccc3f843794844136ada2a65fb38f417', 'message': 'Bump ansible-core to 2.13.0\n\nChange-Id: Id994749b927048ee297b45aa0480894a5ca6b9e1\n'}, {'number': 3, 'created': '2022-06-14 17:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9f64ded57944f14f710bb686948c3280d9c48182', 'message': 'Bump ansible-core to 2.13.0\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845792\nChange-Id: Id994749b927048ee297b45aa0480894a5ca6b9e1\n'}, {'number': 4, 'created': '2022-07-11 07:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fa481c3b921fa6baf2a464c606966390d4493abb', 'message': 'Bump ansible-core to 2.13.0\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845792\nChange-Id: Id994749b927048ee297b45aa0480894a5ca6b9e1\n'}, {'number': 5, 'created': '2022-07-11 07:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/666aec1b692bbcaf3b4b748da624a8776bc7287e', 'message': 'Bump ansible-core to 2.13.1\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845792\nChange-Id: Id994749b927048ee297b45aa0480894a5ca6b9e1\n'}, {'number': 6, 'created': '2022-07-11 07:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fb1d734becf559f3dc7077e3e32b62af7e4ae82f', 'message': 'Bump ansible-core to 2.13.1\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845792\nChange-Id: Id994749b927048ee297b45aa0480894a5ca6b9e1\n'}, {'number': 7, 'created': '2022-07-19 10:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8a96e57910ee8d4a560890aad0f6167eadf840fd', 'message': 'Bump ansible-core to 2.13.2\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845792\nChange-Id: Id994749b927048ee297b45aa0480894a5ca6b9e1\n'}, {'number': 8, 'created': '2022-07-19 10:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3ee2182540b17b965383b5b5909e48687a090206', 'message': 'Bump ansible-core to 2.13.2\n\nChange-Id: Id994749b927048ee297b45aa0480894a5ca6b9e1\n'}, {'number': 9, 'created': '2022-07-19 10:05:18.000000000', 'files': ['scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/86f621b26a15839e74f0d3e877a0ee618b8f10c9', 'message': 'Bump ansible-core to 2.13.2\n\nChange-Id: Id994749b927048ee297b45aa0480894a5ca6b9e1\n'}]",3,842387,86f621b26a15839e74f0d3e877a0ee618b8f10c9,19,2,9,25023,,,0,"Bump ansible-core to 2.13.2

Change-Id: Id994749b927048ee297b45aa0480894a5ca6b9e1
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/87/842387/9 && git format-patch -1 --stdout FETCH_HEAD,['scripts/bootstrap-ansible.sh'],1,d68ec4a632b084008a00ed7e9ce080630b7e772e,,"export ANSIBLE_PACKAGE=${ANSIBLE_PACKAGE:-""ansible-core==2.13.0""}","export ANSIBLE_PACKAGE=${ANSIBLE_PACKAGE:-""ansible-core==2.12.5""}",1,1
openstack%2Fopenstack-ansible~master~Ieae362ddc042d73c1022f4fee592ff68d7db7f87,openstack/openstack-ansible,master,Ieae362ddc042d73c1022f4fee592ff68d7db7f87,Bump keepalived role back,ABANDONED,2022-09-09 19:23:55.000000000,2022-10-14 08:09:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-09-09 19:23:55.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e1d3dceb35fcea08652a4df7cc4d090a947dab31', 'message': 'Bump keepalived role back\n\nSome recent changes in keepalived role are not compatible\nwith older releases. To neglect effect from them we fix the version\n\nRelated-Bug: #1985446\nChange-Id: Ieae362ddc042d73c1022f4fee592ff68d7db7f87\n'}]",1,856855,e1d3dceb35fcea08652a4df7cc4d090a947dab31,4,1,1,14288,,,0,"Bump keepalived role back

Some recent changes in keepalived role are not compatible
with older releases. To neglect effect from them we fix the version

Related-Bug: #1985446
Change-Id: Ieae362ddc042d73c1022f4fee592ff68d7db7f87
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/55/856855/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,e1d3dceb35fcea08652a4df7cc4d090a947dab31,, version: 6.1.0 trackbranch: None shallow_since: '2022-07-18', version: master trackbranch: master shallow_since: '2022-05-03',3,3
openstack%2Fironic~bugfix%2F20.2~Ic261efd4bf6f5929687df5e7b1b51b541554af18,openstack/ironic,bugfix/20.2,Ic261efd4bf6f5929687df5e7b1b51b541554af18,devstack: use CentOS 9 for DIB IPA builds,MERGED,2022-10-13 09:42:22.000000000,2022-10-14 07:38:48.000000000,2022-10-13 14:21:04.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-13 09:42:22.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic', 'devstack/tools/ironic/templates/vm.xml', 'doc/source/install/deploy-ramdisk.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7f99655343404d890d8243df016bfb2503d7c1bf', 'message': 'devstack: use CentOS 9 for DIB IPA builds\n\nAdditionally bumps CPU model to host-model as centos9 builds now\nrequire a subset of CPU processors which include advanced features.\nHost-model also allows for the VM to still start when running with\npure qemu, as opposed to KVM passthrough.\n\nhttps://developers.redhat.com/blog/2021/01/05/building-red-hat-enterprise-linux-9-for-the-x86-64-v2-microarchitecture-level#architectural_considerations_for_rhel_9\n\nChange-Id: Ic261efd4bf6f5929687df5e7b1b51b541554af18\n(cherry picked from commit 81f583f69b76d608bd99be0d59cc808b64effc4a)\n'}]",1,861058,7f99655343404d890d8243df016bfb2503d7c1bf,11,2,1,23851,,,0,"devstack: use CentOS 9 for DIB IPA builds

Additionally bumps CPU model to host-model as centos9 builds now
require a subset of CPU processors which include advanced features.
Host-model also allows for the VM to still start when running with
pure qemu, as opposed to KVM passthrough.

https://developers.redhat.com/blog/2021/01/05/building-red-hat-enterprise-linux-9-for-the-x86-64-v2-microarchitecture-level#architectural_considerations_for_rhel_9

Change-Id: Ic261efd4bf6f5929687df5e7b1b51b541554af18
(cherry picked from commit 81f583f69b76d608bd99be0d59cc808b64effc4a)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/58/861058/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic', 'devstack/tools/ironic/templates/vm.xml', 'doc/source/install/deploy-ramdisk.rst']",4,7f99655343404d890d8243df016bfb2503d7c1bf,centos9-bugfix/20.2, * For Ussuri and up to Yoga use CentOS 8 images. * For Zed and newer use CentOS 9 images., * For Ussuri and newer use CentOS 8 images.,12,5
openstack%2Fansible-role-chrony~master~I61f3c9bc5f6d949299763077e713de9e4e53aca7,openstack/ansible-role-chrony,master,I61f3c9bc5f6d949299763077e713de9e4e53aca7,[DNM] testing,ABANDONED,2022-09-01 06:49:46.000000000,2022-10-14 06:50:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-09-01 06:49:46.000000000', 'files': ['chrony'], 'web_link': 'https://opendev.org/openstack/ansible-role-chrony/commit/7573c940af807ed0125d94826571c176a944c1c3', 'message': '[DNM] testing\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I61f3c9bc5f6d949299763077e713de9e4e53aca7\n'}]",0,855477,7573c940af807ed0125d94826571c176a944c1c3,3,1,1,12393,,,0,"[DNM] testing

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I61f3c9bc5f6d949299763077e713de9e4e53aca7
",git fetch https://review.opendev.org/openstack/ansible-role-chrony refs/changes/77/855477/1 && git format-patch -1 --stdout FETCH_HEAD,['chrony'],1,7573c940af807ed0125d94826571c176a944c1c3,standalone-roles,,.,0,1
openstack%2Ftripleo-quickstart-extras~master~I9a935dcbc334a28f2774af273050630b76fd7c95,openstack/tripleo-quickstart-extras,master,I9a935dcbc334a28f2774af273050630b76fd7c95,DNM Use osc to delete ovb stack,ABANDONED,2022-10-14 06:24:15.000000000,2022-10-14 06:28:52.000000000,,[],"[{'number': 1, 'created': '2022-10-14 06:24:15.000000000', 'files': ['roles/ovb-manage-stack/tasks/ovb-delete-stack.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/078e73f6a97a8ae12b8694be6a32a7861c116827', 'message': 'DNM Use osc to delete ovb stack\n\nWe use osc commands everywhere else and this brings the aoc\ndependency.\n\nChange-Id: I9a935dcbc334a28f2774af273050630b76fd7c95\n'}]",0,861317,078e73f6a97a8ae12b8694be6a32a7861c116827,2,0,1,8833,,,0,"DNM Use osc to delete ovb stack

We use osc commands everywhere else and this brings the aoc
dependency.

Change-Id: I9a935dcbc334a28f2774af273050630b76fd7c95
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/17/861317/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/ovb-manage-stack/tasks/ovb-delete-stack.yml'],1,078e73f6a97a8ae12b8694be6a32a7861c116827,," shell: > export OS_CLIENT_CONFIG_FILE=""{{ local_working_dir }}/clouds.yaml""; export OS_CLOUD=""{{ cloud_name }}""; echo ""Executing 'openstack stack delete {{ stack_name }} --yes'""; openstack stack delete {{ stack_name }} --yes; export COUNTER=0; while openstack stack show {{ stack_name }} ; do if [ $COUNTER -lt 10 ]; then sleep 30; fi; COUNTER=$((COUNTER+1)); done;"," os_stack: name: ""{{ stack_name }}"" cloud: ""{{ cloud_name }}"" state: absent environment: OS_CLIENT_CONFIG_FILE: ""{{ local_working_dir }}/clouds.yaml""",12,6
openstack%2Fhorizon~stable%2Fzed~I076a97a6f943ab74a2db8bc5179a7db194009db4,openstack/horizon,stable/zed,I076a97a6f943ab74a2db8bc5179a7db194009db4,Fix app cred create without project_id for domain admins,MERGED,2022-10-13 14:23:17.000000000,2022-10-14 05:51:48.000000000,2022-10-14 05:50:47.000000000,"[{'_account_id': 6914}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-10-13 14:23:17.000000000', 'files': ['openstack_dashboard/test/unit/api/test_keystone.py', 'openstack_dashboard/api/keystone.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/778a52e66aeab883b31db729e04944eeecfec6a2', 'message': 'Fix app cred create without project_id for domain admins\n\nUsers with domain admin role that are not cloud admins are\nnot able to get scoped context and create an application\ncredential with project_id, so this change forces the\nscoped context in that particular case.\n\nCloses-bug: #1827120\nChange-Id: I076a97a6f943ab74a2db8bc5179a7db194009db4\n(cherry picked from commit 6eeaf9852478e25ff77c21117664ac126c5357a4)\n'}]",0,861061,778a52e66aeab883b31db729e04944eeecfec6a2,9,4,1,14567,,,0,"Fix app cred create without project_id for domain admins

Users with domain admin role that are not cloud admins are
not able to get scoped context and create an application
credential with project_id, so this change forces the
scoped context in that particular case.

Closes-bug: #1827120
Change-Id: I076a97a6f943ab74a2db8bc5179a7db194009db4
(cherry picked from commit 6eeaf9852478e25ff77c21117664ac126c5357a4)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/61/861061/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/test/unit/api/test_keystone.py', 'openstack_dashboard/api/keystone.py']",2,778a52e66aeab883b31db729e04944eeecfec6a2,bug/1827120-stable/zed,"def keystoneclient(request, admin=False, force_scoped=False): if (is_domain_admin(request) and not is_domain_context_specified and not force_scoped): # NOTE(ganso): users with domain admin role that are not cloud admins are # not able to get scoped context and create an application credential with # project_id, so only in this particular case we force a scoped context force_scoped = False if (request.user.project_id and request.session.get(""domain_token"") and not policy.check( ((""identity"", ""identity:update_domain""),), request)): force_scoped = True manager = keystoneclient( request, force_scoped=force_scoped).application_credentials","def keystoneclient(request, admin=False): if is_domain_admin(request) and not is_domain_context_specified: manager = keystoneclient(request).application_credentials",58,3
openstack%2Fpython-tripleoclient~master~I09a98c2248ef8b583846b80879570d20e1b308d8,openstack/python-tripleoclient,master,I09a98c2248ef8b583846b80879570d20e1b308d8,DNM: still testing ...,ABANDONED,2022-10-12 08:20:00.000000000,2022-10-14 05:26:25.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-10-12 08:20:00.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/constants.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/utils.py', 'tripleoclient/v1/tripleo_config.py', 'tripleoclient/v1/undercloud.py', 'tripleoclient/v1/undercloud_preflight.py', 'tripleoclient/tests/v1/test_tripleo_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/043a7de3cd281c97aee3ab0a5e726b4b18b71b68', 'message': 'DNM: still testing ...\n\nChange-Id: I09a98c2248ef8b583846b80879570d20e1b308d8\n'}]",3,861041,043a7de3cd281c97aee3ab0a5e726b4b18b71b68,4,2,1,9816,,,0,"DNM: still testing ...

Change-Id: I09a98c2248ef8b583846b80879570d20e1b308d8
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/41/861041/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/constants.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/utils.py', 'tripleoclient/v1/tripleo_config.py', 'tripleoclient/v1/undercloud.py', 'tripleoclient/v1/undercloud_preflight.py', 'tripleoclient/tests/v1/test_tripleo_config.py']",8,043a7de3cd281c97aee3ab0a5e726b4b18b71b68,,"from tripleoclient.constants import CLOUD_HOME_DIR ('output_dir', CLOUD_HOME_DIR)] CLOUD_HOME_DIR, ('output_dir', CLOUD_HOME_DIR)] CLOUD_HOME_DIR,","from tripleoclient.constants import UNDERCLOUD_OUTPUT_DIR ('output_dir', UNDERCLOUD_OUTPUT_DIR)] UNDERCLOUD_OUTPUT_DIR, ('output_dir', UNDERCLOUD_OUTPUT_DIR)] UNDERCLOUD_OUTPUT_DIR,",36,34
openstack%2Ftripleo-ci~master~If69a5e680687da3eae5906b62866c3d6b69fdb6a,openstack/tripleo-ci,master,If69a5e680687da3eae5906b62866c3d6b69fdb6a,Adds branchful jobs for zed release,MERGED,2022-10-11 11:02:11.000000000,2022-10-14 05:15:08.000000000,2022-10-14 05:15:08.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28743}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-10-11 11:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e00e0267e2d178cca82e162d16399a2ad5456fed', 'message': 'Adds branchful jobs for zed release\n\nThis patch adds branchful jobs so we can\nget some zed coverage against the ci repos.\n\nChange-Id: If69a5e680687da3eae5906b62866c3d6b69fdb6a\n'}, {'number': 2, 'created': '2022-10-12 08:02:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/30ce7ed02395df363ce379736f2fe19644ac4919', 'message': 'Adds branchful jobs for zed release\n\nThis patch adds branchful jobs so we can\nget some zed coverage against the ci repos.\n\nChange-Id: If69a5e680687da3eae5906b62866c3d6b69fdb6a\n'}, {'number': 3, 'created': '2022-10-13 08:21:28.000000000', 'files': ['zuul.d/standalone-jobs.yaml', 'zuul.d/periodic.yaml', 'zuul.d/multinode-jobs.yaml', 'zuul.d/build-image.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7188cbccb07c0f1c59c6a3be77efb4975e059f3a', 'message': 'Adds branchful jobs for zed release\n\nThis patch adds branchful jobs so we can\nget some zed coverage against the ci repos.\n\nChange-Id: If69a5e680687da3eae5906b62866c3d6b69fdb6a\n'}]",17,860940,7188cbccb07c0f1c59c6a3be77efb4975e059f3a,20,7,3,31075,,,0,"Adds branchful jobs for zed release

This patch adds branchful jobs so we can
get some zed coverage against the ci repos.

Change-Id: If69a5e680687da3eae5906b62866c3d6b69fdb6a
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/40/860940/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/standalone-jobs.yaml', 'zuul.d/upgrades-jobs-templates.yaml', 'zuul.d/multinode-jobs.yaml', 'zuul.d/build-image.yaml']",4,e00e0267e2d178cca82e162d16399a2ad5456fed,oooci_zed, name: tripleo-buildimage-ironic-python-agent-centos-9-zed parent: tripleo-buildimage-ironic-python-agent-centos-9 branches: master override-checkout: stable/zed vars: branch_override: stable/zed - job: name: tripleo-buildimage-overcloud-full-centos-9-zed parent: tripleo-buildimage-overcloud-full-centos-9 branches: master override-checkout: stable/zed vars: branch_override: stable/zed - job: name: tripleo-buildimage-overcloud-hardened-uefi-full-centos-9-zed parent: tripleo-buildimage-overcloud-hardened-uefi-full-centos-9 override-checkout: stable/zed vars: branch_override: stable/zed - job:,,117,0
openstack%2Ftripleo-heat-templates~master~Id15a719201889771a464b6a26dc4c6e1ac26a5d7,openstack/tripleo-heat-templates,master,Id15a719201889771a464b6a26dc4c6e1ac26a5d7,Use step condition for all upgrade tasks,MERGED,2022-10-13 12:06:45.000000000,2022-10-14 02:09:45.000000000,2022-10-14 02:09:45.000000000,"[{'_account_id': 9816}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-10-13 12:06:45.000000000', 'files': ['deployment/snmp/snmpd-disabled-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4e178d8b5392c0c221c629ffe7bb64b1450d1ddf', 'message': 'Use step condition for all upgrade tasks\n\nupgrade_tasks need to use ""when: step|int == [0-6]""\nfor all tasks. This is a regression from [1].\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/852304\n\nChange-Id: Id15a719201889771a464b6a26dc4c6e1ac26a5d7\n'}]",0,861174,4e178d8b5392c0c221c629ffe7bb64b1450d1ddf,10,5,1,8833,,,0,"Use step condition for all upgrade tasks

upgrade_tasks need to use ""when: step|int == [0-6]""
for all tasks. This is a regression from [1].

[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/852304

Change-Id: Id15a719201889771a464b6a26dc4c6e1ac26a5d7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/74/861174/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/snmp/snmpd-disabled-puppet.yaml'],1,4e178d8b5392c0c221c629ffe7bb64b1450d1ddf,, when: - step|int == 1,,2,0
openstack%2Fmurano-agent~master~I8aa5faa39a55b1a2529d55f23682fd2b1faf5949,openstack/murano-agent,master,I8aa5faa39a55b1a2529d55f23682fd2b1faf5949,Switch to 2023.1 Python3 unit tests and generic template name,MERGED,2022-09-14 13:43:33.000000000,2022-10-14 01:38:14.000000000,2022-10-14 01:38:14.000000000,"[{'_account_id': 8556}, {'_account_id': 18418}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-09-14 13:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-agent/commit/71e3056bbcf7d14b0a37a9ce2b8642069b7fda18', 'message': 'Switch to 2023.1 Python3 unit tests and generic template name\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for antelope. Also,\nupdating the template name to generic one.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I8aa5faa39a55b1a2529d55f23682fd2b1faf5949\n'}, {'number': 2, 'created': '2022-10-12 02:56:31.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/murano-agent/commit/74ef569fb9556950df30a962562d5ceb0b906b60', 'message': 'Switch to 2023.1 Python3 unit tests and generic template name\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for antelope. Also,\nupdating the template name to generic one.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I8aa5faa39a55b1a2529d55f23682fd2b1faf5949\n'}]",2,857695,74ef569fb9556950df30a962562d5ceb0b906b60,13,4,2,22816,,,0,"Switch to 2023.1 Python3 unit tests and generic template name

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for antelope. Also,
updating the template name to generic one.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I8aa5faa39a55b1a2529d55f23682fd2b1faf5949
",git fetch https://review.opendev.org/openstack/murano-agent refs/changes/95/857695/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,71e3056bbcf7d14b0a37a9ce2b8642069b7fda18,add-antelope-python-jobtemplates, - openstack-python3-jobs, - openstack-python3-zed-jobs,1,1
openstack%2Fmurano-agent~master~I00ae5e9545136c1b930f8cf4036b902a326e1c54,openstack/murano-agent,master,I00ae5e9545136c1b930f8cf4036b902a326e1c54,Remove use of anyjson module,MERGED,2022-10-12 02:55:48.000000000,2022-10-14 01:38:12.000000000,2022-10-14 01:38:12.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-12 02:55:48.000000000', 'files': ['muranoagent/common/messaging/mqclient.py', 'requirements.txt'], 'web_link': 'https://opendev.org/openstack/murano-agent/commit/449c50d170fecc814defc39c009a075056e15c58', 'message': ""Remove use of anyjson module\n\nThe use of the anyjson module causes issues with Python 3.10 with\nthe following error:\n`error in anyjson setup command: use_2to3 is invalid.`\n\nThe module itself hasn't been updated since 2012 and the source [0]\nnow errors with a 404, and there doesn't seem to be any real benefit\nover the standard python json module.\n\n[0] https://bitbucket.org/runeh/anyjson/\n\nChange-Id: I00ae5e9545136c1b930f8cf4036b902a326e1c54\n""}]",1,861019,449c50d170fecc814defc39c009a075056e15c58,6,2,1,18418,,,0,"Remove use of anyjson module

The use of the anyjson module causes issues with Python 3.10 with
the following error:
`error in anyjson setup command: use_2to3 is invalid.`

The module itself hasn't been updated since 2012 and the source [0]
now errors with a 404, and there doesn't seem to be any real benefit
over the standard python json module.

[0] https://bitbucket.org/runeh/anyjson/

Change-Id: I00ae5e9545136c1b930f8cf4036b902a326e1c54
",git fetch https://review.opendev.org/openstack/murano-agent refs/changes/19/861019/1 && git format-patch -1 --stdout FETCH_HEAD,"['muranoagent/common/messaging/mqclient.py', 'requirements.txt']",2,449c50d170fecc814defc39c009a075056e15c58,,,anyjson>=0.3.3 # BSD,2,3
openstack%2Fironic-python-agent~master~I06d14bc499a7c081fe73b68de6c49e2f1bc51dc5,openstack/ironic-python-agent,master,I06d14bc499a7c081fe73b68de6c49e2f1bc51dc5,Update release versions for yoga,MERGED,2022-09-23 07:06:10.000000000,2022-10-14 01:14:49.000000000,2022-10-14 01:13:07.000000000,"[{'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-09-23 07:06:10.000000000', 'files': ['releasenotes/source/yoga.rst'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/cdd6b4f5ac5921132b3a4eedf55dbb79a3912c95', 'message': 'Update release versions for yoga\n\nChange-Id: I06d14bc499a7c081fe73b68de6c49e2f1bc51dc5\n'}]",0,859017,cdd6b4f5ac5921132b3a4eedf55dbb79a3912c95,10,4,1,23851,,,0,"Update release versions for yoga

Change-Id: I06d14bc499a7c081fe73b68de6c49e2f1bc51dc5
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/17/859017/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/yoga.rst'],1,cdd6b4f5ac5921132b3a4eedf55dbb79a3912c95,update-reno-versions,========================================= Yoga Series (8.3.0 - 8.5.x) Release Notes =========================================,========================= Yoga Series Release Notes =========================,3,3
openstack%2Fironic-python-agent~stable%2Fwallaby~I1e7a3b3c9ded13b10002bb47e98d4a7b486e1dd4,openstack/ironic-python-agent,stable/wallaby,I1e7a3b3c9ded13b10002bb47e98d4a7b486e1dd4,CI: Zuul no longer respects queue param,MERGED,2022-10-03 22:09:19.000000000,2022-10-14 01:14:47.000000000,2022-10-14 01:13:04.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-10-03 22:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/5393f534ec0a2386c386f6e8326696487ef6fab1', 'message': 'CI: Zuul no longer respects queue param\n\nChange-Id: I1e7a3b3c9ded13b10002bb47e98d4a7b486e1dd4\n'}, {'number': 2, 'created': '2022-10-05 14:13:47.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/f080f70d938e12e550a6f6a967e5ac3b006c899d', 'message': ""CI: Zuul no longer respects queue param\n\nAlso added a required project so *in theory*\nthe source code for ipa-b off of the branch\nfor the job as opposed to a pypi package bound\nrequirements. ipa-b is one of those projects we\n*always* state latest is best, but in this case\nwe also don't want to fight other possible issues.\n\nDepends-On: https://review.opendev.org/c/openstack/ironic-python-agent-builder/+/860433\nChange-Id: I1e7a3b3c9ded13b10002bb47e98d4a7b486e1dd4\n""}]",2,860187,f080f70d938e12e550a6f6a967e5ac3b006c899d,13,3,2,10342,,,0,"CI: Zuul no longer respects queue param

Also added a required project so *in theory*
the source code for ipa-b off of the branch
for the job as opposed to a pypi package bound
requirements. ipa-b is one of those projects we
*always* state latest is best, but in this case
we also don't want to fight other possible issues.

Depends-On: https://review.opendev.org/c/openstack/ironic-python-agent-builder/+/860433
Change-Id: I1e7a3b3c9ded13b10002bb47e98d4a7b486e1dd4
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/87/860187/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,5393f534ec0a2386c386f6e8326696487ef6fab1,,, queue: ironic,0,1
openstack%2Fswift~master~I6d05242c7380b7d3f75d71567b0ac36643c5e2f8,openstack/swift,master,I6d05242c7380b7d3f75d71567b0ac36643c5e2f8,proxy-logging: Add options to emit metrics by account/container,NEW,2022-10-13 23:59:48.000000000,2022-10-14 01:09:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-10-13 23:59:48.000000000', 'files': ['swift/common/middleware/proxy_logging.py', 'etc/proxy-server.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/b7b90a2c3876da6e26703a85c9204a198e4bbbd1', 'message': 'proxy-logging: Add options to emit metrics by account/container\n\nChange-Id: I6d05242c7380b7d3f75d71567b0ac36643c5e2f8\n'}]",0,861272,b7b90a2c3876da6e26703a85c9204a198e4bbbd1,3,1,1,15343,,,0,"proxy-logging: Add options to emit metrics by account/container

Change-Id: I6d05242c7380b7d3f75d71567b0ac36643c5e2f8
",git fetch https://review.opendev.org/openstack/swift refs/changes/72/861272/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/proxy_logging.py', 'etc/proxy-server.conf-sample']",2,b7b90a2c3876da6e26703a85c9204a198e4bbbd1,,"# # If true, also log `by-account.<account>.<metric name>` metrics. Note that a # high number of tenants may overload your metrics collector. # log_statsd_by_account = false # # If true, also log `by-container.<account>.<container>.<metric name>` metrics. # Additionally, account-level `by-account...` metrics will be logged, even if # log_statsd_by_account is disabled. Note that enabling this option may # overload your metrics collector. # log_statsd_by_container = false",,82,11
openstack%2Fironic~master~I4103152489bf61e2d614eaa297da858f7b2112a3,openstack/ironic,master,I4103152489bf61e2d614eaa297da858f7b2112a3,Fix allocations default table type,MERGED,2022-10-03 23:34:30.000000000,2022-10-14 00:51:08.000000000,2022-10-14 00:49:33.000000000,"[{'_account_id': 4571}, {'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-03 23:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/704d7e346f6b3b6f8a863db184412d6eab5be818', 'message': 'Fix allocations default table type\n\nIn trying to figure out why I was unable to run\nall of the test_migrations tests, I realized we need\nto fix and clean up our unicode declarations.\n\nSpecifically, the way I found this was my local mysql\ninstall was defaulted to using 4 Byte Unicode characters,\nhowever some of our fields are 255 characters, which do not\nfit inside of InnoDB tables.\n\nThey do, however fit with the ""utf8"" storage alias, which is\npresently short for UTF8MB3, as opposed to UTF8MB4 which is\nwhat my local database server was configured for. Because this\nwas in opportunistic tests, I wasn\'t able to really sort out\nwhat was going on and thought we needed to shorten the fields.\n\nIn reality, it turns out we never defined the allocations\ntable to use UTF8 and Innodb for storage.\n\nStorage engine wise, this is not a big deal, but may mean a\nDBA will one day need to dump and reload the allocation table\nof a deployment.\n\nCharacter set wise... It is not great, but there is not a good\nway for us to do this programatically. In my opinion, the chance\nof an issue being encountered by an operator is unlikely, which\nout weighs the risk and impact of dumping the entire table,\ndeleting the table, recreating the table with the updated schema\nand then repopulating the entries. Of course, if operators are not\nusing allocations, then it really doesn\'t matter for them.\n\nAlong the way, I discovered we had used the ""UTF8"" type alias,\nwhich may change one day, which would break Ironic. As such,\nI\'ve also updated the definitions used to create databases\nand updated our documentation.\n\nRecommended reading:\nhttps://docs.sqlalchemy.org/en/14/dialects/mysql.html#unicode\nhttps://dev.mysql.com/doc/refman/8.0/en/charset-unicode-utf8mb4.html\n\nStory: 2010348\nTask: 46492\n\nChange-Id: I4103152489bf61e2d614eaa297da858f7b2112a3\n'}, {'number': 2, 'created': '2022-10-03 23:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7369014387a1802c427eaab9f375e305aa007066', 'message': 'Fix allocations default table type\n\nIn trying to figure out why I was unable to run\nall of the test_migrations tests, I realized we need\nto fix and clean up our unicode declarations.\n\nSpecifically, the way I found this was my local mysql\ninstall was defaulted to using 4 Byte Unicode characters,\nhowever some of our fields are 255 characters, which do not\nfit inside of InnoDB tables.\n\nThey do, however fit with the ""utf8"" storage alias, which is\npresently short for UTF8MB3, as opposed to UTF8MB4 which is\nwhat my local database server was configured for. Because this\nwas in opportunistic tests, I wasn\'t able to really sort out\nwhat was going on and thought we needed to shorten the fields.\n\nIn reality, it turns out we never defined the allocations\ntable to use UTF8 and Innodb for storage.\n\nStorage engine wise, this is not a big deal, but may mean a\nDBA will one day need to dump and reload the allocation table\nof a deployment.\n\nCharacter set wise... It is not great, but there is not a good\nway for us to do this programatically. In my opinion, the chance\nof an issue being encountered by an operator is unlikely, which\nout weighs the risk and impact of dumping the entire table,\ndeleting the table, recreating the table with the updated schema\nand then repopulating the entries. Of course, if operators are not\nusing allocations, then it really doesn\'t matter for them.\n\nAlong the way, I discovered we had used the ""UTF8"" type alias,\nwhich may change one day, which would break Ironic. As such,\nI\'ve also updated the definitions used to create databases\nand updated our documentation.\n\nRecommended reading:\nhttps://docs.sqlalchemy.org/en/14/dialects/mysql.html#unicode\nhttps://dev.mysql.com/doc/refman/8.0/en/charset-unicode-utf8mb4.html\n\nStory: 2010348\nTask: 46492\n\nChange-Id: I4103152489bf61e2d614eaa297da858f7b2112a3\n'}, {'number': 3, 'created': '2022-10-04 13:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ea84674f63a0bc156e7d4d5e5dd6e0bc816a3532', 'message': 'Fix allocations default table type\n\nIn trying to figure out why I was unable to run\nall of the test_migrations tests, I realized we need\nto fix and clean up our unicode declarations.\n\nSpecifically, the way I found this was my local mysql\ninstall was defaulted to using 4 Byte Unicode characters,\nhowever some of our fields are 255 characters, which do not\nfit inside of InnoDB tables.\n\nThey do, however fit with the ""utf8"" storage alias, which is\npresently short for UTF8MB3, as opposed to UTF8MB4 which is\nwhat my local database server was configured for. Because this\nwas in opportunistic tests, I wasn\'t able to really sort out\nwhat was going on and thought we needed to shorten the fields.\n\nIn reality, it turns out we never defined the allocations\ntable to use UTF8 and Innodb for storage.\n\nStorage engine wise, this is not a big deal, but may mean a\nDBA will one day need to dump and reload the allocation table\nof a deployment.\n\nCharacter set wise... It is not great, but there is not a good\nway for us to do this programatically. In my opinion, the chance\nof an issue being encountered by an operator is unlikely, which\nout weighs the risk and impact of dumping the entire table,\ndeleting the table, recreating the table with the updated schema\nand then repopulating the entries. Of course, if operators are not\nusing allocations, then it really doesn\'t matter for them.\n\nAlong the way, I discovered we had used the ""UTF8"" type alias,\nwhich may change one day, which would break Ironic. As such,\nI\'ve also updated the definitions used to create databases\nand updated our documentation.\n\nRecommended reading:\nhttps://docs.sqlalchemy.org/en/14/dialects/mysql.html#unicode\nhttps://dev.mysql.com/doc/refman/8.0/en/charset-unicode-utf8mb4.html\n\nStory: 2010348\nTask: 46492\n\nChange-Id: I4103152489bf61e2d614eaa297da858f7b2112a3\n'}, {'number': 4, 'created': '2022-10-04 17:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/df490e61bffcfc1147fdd7ce31299ae4ed0d45c2', 'message': 'Fix allocations default table type\n\nIn trying to figure out why I was unable to run\nall of the test_migrations tests, I realized we need\nto fix and clean up our unicode declarations.\n\nSpecifically, the way I found this was my local mysql\ninstall was defaulted to using 4 Byte Unicode characters,\nhowever some of our fields are 255 characters, which do not\nfit inside of InnoDB tables.\n\nThey do, however fit with the ""utf8"" storage alias, which is\npresently short for UTF8MB3, as opposed to UTF8MB4 which is\nwhat my local database server was configured for. Because this\nwas in opportunistic tests, I wasn\'t able to really sort out\nwhat was going on and thought we needed to shorten the fields.\n\nIn reality, it turns out we never defined the allocations\ntable to use UTF8 and Innodb for storage.\n\nStorage engine wise, this is not a big deal, but may mean a\nDBA will one day need to dump and reload the allocation table\nof a deployment.\n\nCharacter set wise... It is not great, but there is not a good\nway for us to do this programatically. In my opinion, the chance\nof an issue being encountered by an operator is unlikely, which\nout weighs the risk and impact of dumping the entire table,\ndeleting the table, recreating the table with the updated schema\nand then repopulating the entries. Of course, if operators are not\nusing allocations, then it really doesn\'t matter for them.\n\nAlong the way, I discovered we had used the ""UTF8"" type alias,\nwhich may change one day, which would break Ironic. As such,\nI\'ve also updated the definitions used to create databases\nand updated our documentation.\n\nRecommended reading:\nhttps://docs.sqlalchemy.org/en/14/dialects/mysql.html#unicode\nhttps://dev.mysql.com/doc/refman/8.0/en/charset-unicode-utf8mb4.html\n\nStory: 2010348\nTask: 46492\n\nChange-Id: I4103152489bf61e2d614eaa297da858f7b2112a3\n'}, {'number': 5, 'created': '2022-10-12 20:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/df017c7982d4921419132ac3ea36cf154fac90c6', 'message': 'Fix allocations default table type\n\nIn trying to figure out why I was unable to run\nall of the test_migrations tests, I realized we need\nto fix and clean up our unicode declarations.\n\nSpecifically, the way I found this was my local mysql\ninstall was defaulted to using 4 Byte Unicode characters,\nhowever some of our fields are 255 characters, which do not\nfit inside of InnoDB tables.\n\nThey do, however fit with the ""utf8"" storage alias, which is\npresently short for UTF8MB3, as opposed to UTF8MB4 which is\nwhat my local database server was configured for. Because this\nwas in opportunistic tests, I wasn\'t able to really sort out\nwhat was going on and thought we needed to shorten the fields.\n\nIn reality, it turns out we never defined the allocations\ntable to use UTF8 and Innodb for storage.\n\nStorage engine wise, this is not a big deal, but may mean a\nDBA will one day need to dump and reload the allocation table\nof a deployment.\n\nCharacter set wise... It is not great, but there is not a good\nway for us to do this programatically. In my opinion, the chance\nof an issue being encountered by an operator is unlikely, which\nout weighs the risk and impact of dumping the entire table,\ndeleting the table, recreating the table with the updated schema\nand then repopulating the entries. Of course, if operators are not\nusing allocations, then it really doesn\'t matter for them.\n\nAlong the way, I discovered we had used the ""UTF8"" type alias,\nwhich may change one day, which would break Ironic. As such,\nI\'ve also updated the definitions used to create databases\nand updated our documentation.\n\nRecommended reading:\nhttps://docs.sqlalchemy.org/en/14/dialects/mysql.html#unicode\nhttps://dev.mysql.com/doc/refman/8.0/en/charset-unicode-utf8mb4.html\n\nStory: 2010348\nTask: 46492\n\nChange-Id: I4103152489bf61e2d614eaa297da858f7b2112a3\n'}, {'number': 6, 'created': '2022-10-13 21:21:24.000000000', 'files': ['releasenotes/notes/allocations-charset-5384d1ea00964bdd.yaml', 'ironic/db/sqlalchemy/alembic/versions/48d6c242bb9b_add_node_tags.py', 'ironic/db/sqlalchemy/alembic/versions/2aac7e0872f6_add_deploy_templates.py', 'ironic/db/sqlalchemy/alembic/versions/82c315d60161_add_bios_settings.py', 'ironic/db/sqlalchemy/alembic/versions/dd67b91a1981_add_allocations_table.py', 'ironic/db/sqlalchemy/alembic/versions/2581ebaf0cb2_initial_migration.py', 'ironic/db/sqlalchemy/alembic/versions/b4130a7fc904_create_nodetraits_table.py', 'doc/source/install/include/common-prerequisites.inc', 'ironic/db/sqlalchemy/alembic/versions/5ea1b0d310e_added_port_group_table_and_altered_ports.py', 'ironic/db/sqlalchemy/alembic/versions/9ef41f07cb58_add_node_history_table.py', 'doc/source/contributor/dev-quickstart.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1435a15ce3013da0a3138e1c5ab6ac523c382bb8', 'message': 'Fix allocations default table type\n\nIn trying to figure out why I was unable to run\nall of the test_migrations tests, I realized we need\nto fix and clean up our unicode declarations.\n\nSpecifically, the way I found this was my local mysql\ninstall was defaulted to using 4 Byte Unicode characters,\nhowever some of our fields are 255 characters, which do not\nfit inside of InnoDB tables.\n\nThey do, however fit with the ""utf8"" storage alias, which is\npresently short for UTF8MB3, as opposed to UTF8MB4 which is\nwhat my local database server was configured for. Because this\nwas in opportunistic tests, I wasn\'t able to really sort out\nwhat was going on and thought we needed to shorten the fields.\n\nIn reality, it turns out we never defined the allocations\ntable to use UTF8 and Innodb for storage.\n\nStorage engine wise, this is not a big deal, but may mean a\nDBA will one day need to dump and reload the allocation table\nof a deployment.\n\nCharacter set wise... It is not great, but there is not a good\nway for us to do this programatically. In my opinion, the chance\nof an issue being encountered by an operator is unlikely, which\nout weighs the risk and impact of dumping the entire table,\ndeleting the table, recreating the table with the updated schema\nand then repopulating the entries. Of course, if operators are not\nusing allocations, then it really doesn\'t matter for them.\n\nAlong the way, I discovered we had used the ""UTF8"" type alias,\nwhich may change one day, which would break Ironic. As such,\nI\'ve also updated the definitions used to create databases\nand updated our documentation.\n\nRecommended reading:\nhttps://docs.sqlalchemy.org/en/14/dialects/mysql.html#unicode\nhttps://dev.mysql.com/doc/refman/8.0/en/charset-unicode-utf8mb4.html\n\nStory: 2010348\nTask: 46492\n\nChange-Id: I4103152489bf61e2d614eaa297da858f7b2112a3\n'}]",4,860198,1435a15ce3013da0a3138e1c5ab6ac523c382bb8,36,3,6,11655,,,0,"Fix allocations default table type

In trying to figure out why I was unable to run
all of the test_migrations tests, I realized we need
to fix and clean up our unicode declarations.

Specifically, the way I found this was my local mysql
install was defaulted to using 4 Byte Unicode characters,
however some of our fields are 255 characters, which do not
fit inside of InnoDB tables.

They do, however fit with the ""utf8"" storage alias, which is
presently short for UTF8MB3, as opposed to UTF8MB4 which is
what my local database server was configured for. Because this
was in opportunistic tests, I wasn't able to really sort out
what was going on and thought we needed to shorten the fields.

In reality, it turns out we never defined the allocations
table to use UTF8 and Innodb for storage.

Storage engine wise, this is not a big deal, but may mean a
DBA will one day need to dump and reload the allocation table
of a deployment.

Character set wise... It is not great, but there is not a good
way for us to do this programatically. In my opinion, the chance
of an issue being encountered by an operator is unlikely, which
out weighs the risk and impact of dumping the entire table,
deleting the table, recreating the table with the updated schema
and then repopulating the entries. Of course, if operators are not
using allocations, then it really doesn't matter for them.

Along the way, I discovered we had used the ""UTF8"" type alias,
which may change one day, which would break Ironic. As such,
I've also updated the definitions used to create databases
and updated our documentation.

Recommended reading:
https://docs.sqlalchemy.org/en/14/dialects/mysql.html#unicode
https://dev.mysql.com/doc/refman/8.0/en/charset-unicode-utf8mb4.html

Story: 2010348
Task: 46492

Change-Id: I4103152489bf61e2d614eaa297da858f7b2112a3
",git fetch https://review.opendev.org/openstack/ironic refs/changes/98/860198/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/db/sqlalchemy/alembic/versions/48d6c242bb9b_add_node_tags.py', 'releasenotes/notes/allocations-charset-5384d1ea00964bdd.yaml', 'ironic/db/sqlalchemy/alembic/versions/2aac7e0872f6_add_deploy_templates.py', 'ironic/db/sqlalchemy/alembic/versions/82c315d60161_add_bios_settings.py', 'ironic/db/sqlalchemy/alembic/versions/2581ebaf0cb2_initial_migration.py', 'ironic/db/sqlalchemy/alembic/versions/b4130a7fc904_create_nodetraits_table.py', 'ironic/db/sqlalchemy/alembic/versions/dd67b91a1981_add_allocations_table.py', 'doc/source/install/include/common-prerequisites.inc', 'ironic/db/sqlalchemy/alembic/versions/5ea1b0d310e_added_port_group_table_and_altered_ports.py', 'ironic/db/sqlalchemy/alembic/versions/9ef41f07cb58_add_node_history_table.py', 'doc/source/contributor/dev-quickstart.rst']",11,704d7e346f6b3b6f8a863db184412d6eab5be818,,".. note:: If you encounter issues executing unit tests, specifically where errors may indicate that a field is too long, check your database's default character encoding. Debian specifically sets MariaDB to ``utf8mb4`` which utilizes 4 byte encoded unicode characters by default, which is incompatible by default. ",,50,24
openstack%2Fcharm-ceph-mon~master~Idb70442d68fcbcb103ea25f7462e3aac4d195785,openstack/charm-ceph-mon,master,Idb70442d68fcbcb103ea25f7462e3aac4d195785,Rewrite the crushmap-update action with ops-framework,NEW,2022-09-30 20:44:50.000000000,2022-10-14 00:30:25.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-30 20:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/d8d276310f08cddf0acff96b814204875e3fb7d4', 'message': 'Rewrite the crushmap-update action with ops-framework\n\nChange-Id: Idb70442d68fcbcb103ea25f7462e3aac4d195785\n'}, {'number': 2, 'created': '2022-10-13 19:56:50.000000000', 'files': ['src/ops_actions/crushmap_update.py', 'src/ops_actions/__init__.py', 'unit_tests/test_action_crushmap_update.py', 'src/charm.py', 'actions/crushmap-update'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/73eeb5a498c247424dcc8d34dc31fac1cffc8b4d', 'message': 'Rewrite the crushmap-update action with ops-framework\n\nChange-Id: Idb70442d68fcbcb103ea25f7462e3aac4d195785\n'}]",0,860037,73eeb5a498c247424dcc8d34dc31fac1cffc8b4d,6,2,2,33717,,,0,"Rewrite the crushmap-update action with ops-framework

Change-Id: Idb70442d68fcbcb103ea25f7462e3aac4d195785
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/37/860037/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/ops_actions/crushmap_update.py', 'src/ops_actions/__init__.py', 'unit_tests/test_action_crushmap_update.py', 'src/charm.py', 'actions/crushmap-update']",5,d8d276310f08cddf0acff96b814204875e3fb7d4,,,crushmap_update.py,78,11
openstack%2Fmanila~master~Ie0a08a61c79dc8ea2a7a240363e94b26a80e64a4,openstack/manila,master,Ie0a08a61c79dc8ea2a7a240363e94b26a80e64a4,Fix replica quotas allocation during share migration,MERGED,2021-03-25 15:11:55.000000000,2022-10-13 23:30:05.000000000,2022-10-13 23:28:54.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 18816}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 30407}, {'_account_id': 31721}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-03-25 15:11:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2197207adc60207bd1c4ea16ea94ab8181a720a5', 'message': 'Fix replica quotas allocation during share migration\n\nFixed the issue in the share migration where the replica quotas\nwere not being accounted. Manila now tries to allocate share\nreplica quotas for the migrated share if the destination share type\nhas a `replication_type`.\nIf the migration fails or get cancelled, the quotas will be\nreverted.\n\nChange-Id: Ie0a08a61c79dc8ea2a7a240363e94b26a80e64a4\nCloses-Bug: 1910752\n'}, {'number': 2, 'created': '2021-09-22 14:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/30df842f3c982c7d8007aacda2c7b6ac8c8084bf', 'message': 'Fix replica quotas allocation during share migration\n\nFixed the issue in the share migration where the replica quotas\nwere not being accounted. Manila now tries to allocate share\nreplica quotas for the migrated share if the destination share type\nhas a `replication_type`.\nIf the migration fails or get cancelled, the quotas will be\nreverted.\n\nChange-Id: Ie0a08a61c79dc8ea2a7a240363e94b26a80e64a4\nCloses-Bug: 1910752\n'}, {'number': 3, 'created': '2021-11-29 15:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/17cab0f3b4b1605df0addb9fc72e906e8547838d', 'message': 'Fix replica quotas allocation during share migration\n\nFixed the issue in the share migration where the replica quotas\nwere not being accounted. Manila now tries to allocate share\nreplica quotas for the migrated share if the destination share type\nhas a `replication_type`.\nIf the migration fails or get cancelled, the quotas will be\nreverted.\n\nChange-Id: Ie0a08a61c79dc8ea2a7a240363e94b26a80e64a4\nCloses-Bug: 1910752\n'}, {'number': 4, 'created': '2021-12-17 13:27:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2f7294113b566bbee0588b1f6a11c36b45778d11', 'message': 'Fix replica quotas allocation during share migration\n\nFixed the issue in the share migration where the replica quotas\nwere not being accounted. Manila now tries to allocate share\nreplica quotas for the migrated share if the destination share type\nhas a `replication_type`.\nIf the migration fails or get cancelled, the quotas will be\nreverted.\n\nChange-Id: Ie0a08a61c79dc8ea2a7a240363e94b26a80e64a4\nCloses-Bug: 1910752\n'}, {'number': 5, 'created': '2022-03-09 22:44:43.000000000', 'files': ['releasenotes/notes/bug-1910752-fix-migration-replication-quotas-eaa013b743d721cd.yaml', 'manila/tests/share/test_api.py', 'manila/share/share_types.py', 'manila/share/api.py', 'manila/share/manager.py', 'manila/tests/scheduler/test_manager.py', 'manila/scheduler/manager.py', 'manila/tests/share/test_manager.py', 'manila/tests/share/test_share_types.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/6a6aa0f146034ffa0d9ebb4c84c7d7485af5b007', 'message': 'Fix replica quotas allocation during share migration\n\nFixed the issue in the share migration where the replica quotas\nwere not being accounted. Manila now tries to allocate share\nreplica quotas for the migrated share if the destination share type\nhas a `replication_type`.\nIf the migration fails or get cancelled, the quotas will be\nreverted.\n\nChange-Id: Ie0a08a61c79dc8ea2a7a240363e94b26a80e64a4\nCloses-Bug: 1910752\n'}]",62,783025,6a6aa0f146034ffa0d9ebb4c84c7d7485af5b007,60,9,5,29632,,,0,"Fix replica quotas allocation during share migration

Fixed the issue in the share migration where the replica quotas
were not being accounted. Manila now tries to allocate share
replica quotas for the migrated share if the destination share type
has a `replication_type`.
If the migration fails or get cancelled, the quotas will be
reverted.

Change-Id: Ie0a08a61c79dc8ea2a7a240363e94b26a80e64a4
Closes-Bug: 1910752
",git fetch https://review.opendev.org/openstack/manila refs/changes/25/783025/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1910752-fix-migration-replication-quotas-eaa013b743d721cd.yaml', 'manila/tests/share/test_api.py', 'manila/share/api.py', 'manila/share/manager.py', 'manila/tests/scheduler/test_manager.py', 'manila/scheduler/manager.py', 'manila/tests/share/test_manager.py']",7,2197207adc60207bd1c4ea16ea94ab8181a720a5,yoga-m3-bugsquash," self.share_manager, '_revert_allocated_share_type_quotas_during_migration') self.mock_object( (self.share_manager. _revert_allocated_share_type_quotas_during_migration. assert_called_once_with( self.context, src_instance, dest_instance, deallocate_from_current_type=True)) @ddt.data(True, False) def test__revert_allocated_share_type_quotas_during_migration( self, failed_on_reservation): fake_type_id = 'fake_1' extra_specs = {'replication_type': 'readable'} source_instance = db_utils.create_share() dest_instance = db_utils.create_share( share_type_id=fake_type_id) share_type = db_utils.create_share_type(extra_specs=extra_specs) expected_deltas = { 'project_id': dest_instance['project_id'], 'user_id': dest_instance['user_id'], 'share_replicas': -1, 'replica_gigabytes': -dest_instance['size'], 'share_type_id': fake_type_id, 'shares': -1, 'gigabytes': -dest_instance['size'], } reservations = 'reservations' reservation_action = ( mock.Mock(side_effect=exception.ManilaException(message='fake')) if failed_on_reservation else mock.Mock(return_value=reservations)) mock_type_get = self.mock_object( share_types, 'get_share_type', mock.Mock(return_value=share_type)) mock_specs_get = self.mock_object( api.API, 'get_share_attributes_from_share_type', mock.Mock(return_value=extra_specs)) mock_reserve = self.mock_object( quota.QUOTAS, 'reserve', reservation_action) mock_commit = self.mock_object(quota.QUOTAS, 'commit') mock_log = self.mock_object(manager.LOG, 'exception') (self.share_manager. _revert_allocated_share_type_quotas_during_migration( self.context, source_instance, dest_instance)) if not failed_on_reservation: mock_commit.assert_called_once_with( self.context, reservations, project_id=dest_instance['project_id'], user_id=dest_instance['user_id'], share_type_id=fake_type_id) else: mock_log.assert_called_once() mock_type_get.assert_called_once_with( self.context, fake_type_id) mock_specs_get.assert_called_once_with(share_type) mock_reserve.assert_called_once_with( self.context, **expected_deltas) self.mock_object( self.share_manager, '_revert_allocated_share_type_quotas_during_migration') (self.share_manager. _revert_allocated_share_type_quotas_during_migration. assert_called_once_with( self.context, instance_1, instance_2))",,419,3
openstack%2Fironic~master~Ide0eb4690a056be557e5ea7d5ba5f6be37b50d0a,openstack/ironic,master,Ide0eb4690a056be557e5ea7d5ba5f6be37b50d0a,Add upgrade check warning for allocations db,MERGED,2022-10-12 20:11:30.000000000,2022-10-13 23:21:27.000000000,2022-10-13 23:20:12.000000000,"[{'_account_id': 4571}, {'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-12 20:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/38831529900448be54b4760782f2438d290d1d69', 'message': 'Add upgrade check warning for allocations db\n\nAdding an upgrade check to provide awareness to the state of\nthe database in regards if an unexpected engine is in use or\nif the character set encoding is also not UTF8.\n\nThese will raise non-fatal warnings on the upgrade status\ncheck.\n\nChange-Id: Ide0eb4690a056be557e5ea7d5ba5f6be37b50d0a\nStory: 2010384\n'}, {'number': 2, 'created': '2022-10-13 17:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1ebe6693c3deb21aad72a04ca375092182ffcfc1', 'message': 'Add upgrade check warning for allocations db\n\nAdding an upgrade check to provide awareness to the state of\nthe database in regards if an unexpected engine is in use or\nif the character set encoding is also not UTF8.\n\nThese will raise non-fatal warnings on the upgrade status\ncheck.\n\nChange-Id: Ide0eb4690a056be557e5ea7d5ba5f6be37b50d0a\nStory: 2010384\n'}, {'number': 3, 'created': '2022-10-13 17:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/aa89c8c80790149cd4bc8edc8892f839745da7d2', 'message': 'WIP Add upgrade check warning for allocations db\n\nAdding an upgrade check to provide awareness to the state of\nthe database in regards if an unexpected engine is in use or\nif the character set encoding is also not UTF8.\n\nThese will raise non-fatal warnings on the upgrade status\ncheck.\n\nChange-Id: Ide0eb4690a056be557e5ea7d5ba5f6be37b50d0a\nStory: 2010384\n'}, {'number': 4, 'created': '2022-10-13 17:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/919563e66d8ac2354a521624e2efb23a684c38cb', 'message': 'WIP Add upgrade check warning for allocations db\n\nAdding an upgrade check to provide awareness to the state of\nthe database in regards if an unexpected engine is in use or\nif the character set encoding is also not UTF8.\n\nThese will raise non-fatal warnings on the upgrade status\ncheck.\n\nChange-Id: Ide0eb4690a056be557e5ea7d5ba5f6be37b50d0a\nStory: 2010384\n'}, {'number': 5, 'created': '2022-10-13 17:55:09.000000000', 'files': ['releasenotes/notes/add-allocations-table-check-38f1c9eef189b411.yaml', 'devstack/lib/ironic', 'ironic/cmd/status.py', 'ironic/tests/unit/cmd/test_status.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9344eb22d1462457fb5b521a19856f9a6cb1088e', 'message': 'Add upgrade check warning for allocations db\n\nAdding an upgrade check to provide awareness to the state of\nthe database in regards if an unexpected engine is in use or\nif the character set encoding is also not UTF8.\n\nThese will raise non-fatal warnings on the upgrade status\ncheck.\n\nChange-Id: Ide0eb4690a056be557e5ea7d5ba5f6be37b50d0a\nStory: 2010384\n'}]",1,861107,9344eb22d1462457fb5b521a19856f9a6cb1088e,21,3,5,11655,,,0,"Add upgrade check warning for allocations db

Adding an upgrade check to provide awareness to the state of
the database in regards if an unexpected engine is in use or
if the character set encoding is also not UTF8.

These will raise non-fatal warnings on the upgrade status
check.

Change-Id: Ide0eb4690a056be557e5ea7d5ba5f6be37b50d0a
Story: 2010384
",git fetch https://review.opendev.org/openstack/ironic refs/changes/07/861107/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-allocations-table-check-38f1c9eef189b411.yaml', 'ironic/cmd/status.py', 'ironic/tests/unit/cmd/test_status.py']",3,38831529900448be54b4760782f2438d290d1d69,,"from oslo_db import sqlalchemy def test__check_allocations_table_ok(self): check_result = self.cmd._check_allocations_table() self.assertEqual(Code.SUCCESS, check_result.code) @mock.patch.object(sqlalchemy.enginefacade.reader, 'get_engine', autospec=True) def test__check_allocations_table_latin1(self, mock_reader): mock_engine = mock.Mock() mock_engine.url = '..mysql..' mock_engine.execute.return_value = ( '... ENGINE=InnoDB DEFAULT CHARSET=latin1', ) mock_reader.return_value = mock_engine check_result = self.cmd._check_allocations_table() self.assertEqual(Code.WARNING, check_result.code) expected_msg = ('The Allocations table is is not using UTF8 ' 'encoding. This is corrected in later versions ' 'of Ironic, where the table character set schema ' 'is automatically migrated. Continued use of a ' 'non-UTF8 character set may produce unexpected ' 'results.') self.assertEqual(expected_msg, check_result.details) @mock.patch.object(sqlalchemy.enginefacade.reader, 'get_engine', autospec=True) def test__check_allocations_table_myiasm(self, mock_reader): mock_engine = mock.Mock() mock_engine.url = '..mysql..' mock_engine.execute.return_value = ( '... ENGINE=MyIASM DEFAULT CHARSET=utf8', ) mock_reader.return_value = mock_engine check_result = self.cmd._check_allocations_table() self.assertEqual(Code.WARNING, check_result.code) expected_msg = ('The engine used by MySQL for the allocations ' 'table is not the intended engine for the Ironic ' 'database tables to use. This may have been a ' 'result of an error with the table creation schema. ' 'This may require Database Administrator ' 'intervention and downtime to dump, modify the ' 'table engine to utilize InnoDB, and reload the ' 'allocations table to utilize the InnoDB engine.') self.assertEqual(expected_msg, check_result.details) @mock.patch.object(sqlalchemy.enginefacade.reader, 'get_engine', autospec=True) def test__check_allocations_table_myiasm_both(self, mock_reader): mock_engine = mock.Mock() mock_engine.url = '..mysql..' mock_engine.execute.return_value = ( '... ENGINE=MyIASM DEFAULT CHARSET=latin1', ) mock_reader.return_value = mock_engine check_result = self.cmd._check_allocations_table() self.assertEqual(Code.WARNING, check_result.code) expected_msg = ('The Allocations table is is not using UTF8 ' 'encoding. This is corrected in later versions ' 'of Ironic, where the table character set schema ' 'is automatically migrated. Continued use of a ' 'non-UTF8 character set may produce unexpected ' 'results. Additionally: ' 'The engine used by MySQL for the allocations ' 'table is not the intended engine for the Ironic ' 'database tables to use. This may have been a ' 'result of an error with the table creation schema. ' 'This may require Database Administrator ' 'intervention and downtime to dump, modify the ' 'table engine to utilize InnoDB, and reload the ' 'allocations table to utilize the InnoDB engine.') self.assertEqual(expected_msg, check_result.details)",,124,2
openstack%2Fkayobe~stable%2Fxena~I9cab915803bab882a12841cd40ccc6af2a78dae2,openstack/kayobe,stable/xena,I9cab915803bab882a12841cd40ccc6af2a78dae2,[CI] Move queue setting to project level,MERGED,2022-09-19 11:58:10.000000000,2022-10-13 23:13:22.000000000,2022-10-13 23:10:44.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-09-19 11:58:10.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ed2b4c555c4d8873cd970d57be870de191357190', 'message': '[CI] Move queue setting to project level\n\nPer [1].\n\n[1] http://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nChange-Id: I9cab915803bab882a12841cd40ccc6af2a78dae2\n(cherry picked from commit 19f783b04bc923b26a53a07150941fe0e5949f55)\n'}]",3,858315,ed2b4c555c4d8873cd970d57be870de191357190,15,4,1,30491,,,0,"[CI] Move queue setting to project level

Per [1].

[1] http://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html

Change-Id: I9cab915803bab882a12841cd40ccc6af2a78dae2
(cherry picked from commit 19f783b04bc923b26a53a07150941fe0e5949f55)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/15/858315/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,ed2b4c555c4d8873cd970d57be870de191357190,zuul-queue-stable/yoga-stable/xena, queue: kayobe, queue: kayobe,1,1
openstack%2Fkayobe-config-dev~stable%2Fxena~I1f074e24612fb6f205008736330cf1e4b87469ab,openstack/kayobe-config-dev,stable/xena,I1f074e24612fb6f205008736330cf1e4b87469ab,[CI] Move queue setting to project level,MERGED,2022-09-19 12:00:11.000000000,2022-10-13 23:10:41.000000000,2022-10-13 23:10:41.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30396}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-09-19 12:00:11.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/bbd872afb07722ac433c8c095921b6cc0860d9ae', 'message': '[CI] Move queue setting to project level\n\nPer [1].\n\n[1] http://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nChange-Id: I1f074e24612fb6f205008736330cf1e4b87469ab\n(cherry picked from commit bb5810746415ae244b65c6d7b63bbd7dd8a3bc36)\n'}]",2,858325,bbd872afb07722ac433c8c095921b6cc0860d9ae,13,5,1,30491,,,0,"[CI] Move queue setting to project level

Per [1].

[1] http://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html

Change-Id: I1f074e24612fb6f205008736330cf1e4b87469ab
(cherry picked from commit bb5810746415ae244b65c6d7b63bbd7dd8a3bc36)
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/25/858325/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,bbd872afb07722ac433c8c095921b6cc0860d9ae,zuul-queue-stable/yoga-stable/xena, queue: kayobe, queue: kayobe,1,1
openstack%2Fswift~master~Ib5a609690777272816c86d2890faafc3683f8cad,openstack/swift,master,Ib5a609690777272816c86d2890faafc3683f8cad,Adjust bindep profile to avoid py2 installation,NEW,2022-10-13 17:58:32.000000000,2022-10-13 22:49:48.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-10-13 17:58:32.000000000', 'files': ['bindep.txt', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/9e42f259577f2ded79127c246a4efcd15da3ec3c', 'message': ""Adjust bindep profile to avoid py2 installation\n\nWith Ubuntu Jammy there is no pyhton-dev package since py2 is completely\nremoved from the distro. With that we need to ensure bindep won't try\nto install this package when py3 tests are running.\nAlso instead of reffering non-existing profiles, we use just py3 for\nsimplicity.\n\nChange-Id: Ib5a609690777272816c86d2890faafc3683f8cad\n""}]",1,861209,9e42f259577f2ded79127c246a4efcd15da3ec3c,5,2,1,28619,,,0,"Adjust bindep profile to avoid py2 installation

With Ubuntu Jammy there is no pyhton-dev package since py2 is completely
removed from the distro. With that we need to ensure bindep won't try
to install this package when py3 tests are running.
Also instead of reffering non-existing profiles, we use just py3 for
simplicity.

Change-Id: Ib5a609690777272816c86d2890faafc3683f8cad
",git fetch https://review.opendev.org/openstack/swift refs/changes/09/861209/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', '.zuul.yaml']",2,9e42f259577f2ded79127c246a4efcd15da3ec3c,migrate-to-jammy, bindep_profile: test py3 bindep_profile: test py3 bindep_profile: test py3 bindep_profile: test py3 bindep_profile: test py3 bindep_profile: test py3 bindep_profile: test py3 bindep_profile: test py3 bindep_profile: test py3 bindep_profile: test py3 bindep_profile: test py3, bindep_profile: test py36 bindep_profile: test py37 bindep_profile: test py38 bindep_profile: test py39 bindep_profile: test py38 bindep_profile: test py39 bindep_profile: test py36 bindep_profile: test py36 bindep_profile: test py36 bindep_profile: test py36,13,12
openstack%2Fcharm-ceph-mon~master~Ic90d831f007cae7825e107df99a3e0c21b0d78ab,openstack/charm-ceph-mon,master,Ic90d831f007cae7825e107df99a3e0c21b0d78ab,Implement the ceph-dashboard relation in an ops-framework style,NEW,2022-09-29 19:16:26.000000000,2022-10-13 22:15:09.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-29 19:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/d88a9895bc24fd777686e11318e6c7a48d1b6ad2', 'message': 'Implement the ceph-dashboard relation in an ops-framework style\n\nThis patchset moves part of the implementation for the ceph-dashboard\ninto an ops-framework one. The rest will need to be done once the OSD\nrelation and config-change hook are rewritten.\n\nChange-Id: Ic90d831f007cae7825e107df99a3e0c21b0d78ab\n'}, {'number': 2, 'created': '2022-09-29 20:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/ee9f1fa9ff94911cd466338239e498caacbe3e8e', 'message': 'Implement the ceph-dashboard relation in an ops-framework style\n\nThis patchset moves part of the implementation for the ceph-dashboard\ninto an ops-framework one. The rest will need to be done once the OSD\nrelation and config-change hook are rewritten.\n\nChange-Id: Ic90d831f007cae7825e107df99a3e0c21b0d78ab\n'}, {'number': 3, 'created': '2022-10-13 19:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/10364222afb010c9e8b0755adaab84701c097ddd', 'message': 'Implement the ceph-dashboard relation in an ops-framework style\n\nThis patchset moves part of the implementation for the ceph-dashboard\ninto an ops-framework one. The rest will need to be done once the OSD\nrelation and config-change hook are rewritten.\n\nChange-Id: Ic90d831f007cae7825e107df99a3e0c21b0d78ab\n'}, {'number': 4, 'created': '2022-10-13 20:13:16.000000000', 'files': ['unit_tests/test_ceph_hooks.py', 'unit_tests/test_ceph_actions.py', 'unit_tests/test_utils.py', 'unit_tests/test_action_change_osd_weight.py', 'unit_tests/test_dashboard_relation.py', 'src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/d747a067e16045860000ef5d8e125917de2b804a', 'message': 'Implement the ceph-dashboard relation in an ops-framework style\n\nThis patchset moves part of the implementation for the ceph-dashboard\ninto an ops-framework one. The rest will need to be done once the OSD\nrelation and config-change hook are rewritten.\n\nChange-Id: Ic90d831f007cae7825e107df99a3e0c21b0d78ab\n'}]",4,859890,d747a067e16045860000ef5d8e125917de2b804a,11,2,4,33717,,,0,"Implement the ceph-dashboard relation in an ops-framework style

This patchset moves part of the implementation for the ceph-dashboard
into an ops-framework one. The rest will need to be done once the OSD
relation and config-change hook are rewritten.

Change-Id: Ic90d831f007cae7825e107df99a3e0c21b0d78ab
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/90/859890/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_ceph_hooks.py', 'unit_tests/test_ceph_actions.py', 'unit_tests/test_utils.py', 'unit_tests/test_action_change_osd_weight.py', 'unit_tests/test_dashboard_relation.py', 'src/charm.py']",6,d88a9895bc24fd777686e11318e6c7a48d1b6ad2,dashboard-requires," def _dashboard_relation(self, relid): # NOTE (lmlogiudice): Once we're done migration the OSD relation and # the config-changed hook, they should both call into this method. relation = self.framework.model.get_relation('dashboard', relid) if relation: relation.data[self.model.unit]['mon-ready'] = 'True' def on_dashboard_relation_joined(self, event): self._dashboard_relation(None) "," def on_dashboard_relation_joined(self, event): hooks.dashboard_relation()",58,37
openstack%2Fcharm-ceph-mon~master~I6444aa401565a8aa97b1ba90296fc239583b727b,openstack/charm-ceph-mon,master,I6444aa401565a8aa97b1ba90296fc239583b727b,Rewrite the 'get-or-create-user' action with ops-framework,NEW,2022-09-29 20:38:03.000000000,2022-10-13 22:10:23.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-29 20:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/b749f433de71d3943059f72e9bf7e92f86a5c456', 'message': ""Rewrite the 'get-or-create-user' action with ops-framework\n\nChange-Id: I6444aa401565a8aa97b1ba90296fc239583b727b\n""}, {'number': 2, 'created': '2022-09-29 21:27:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/effcf98e94a7d196130aa6af187b6ad950b9b172', 'message': ""Rewrite the 'get-or-create-user' action with ops-framework\n\nChange-Id: I6444aa401565a8aa97b1ba90296fc239583b727b\n""}, {'number': 3, 'created': '2022-09-29 21:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/36169939987865ff5a8140264c6188caef151546', 'message': ""Rewrite the 'get-or-create-user' action with ops-framework\n\nChange-Id: I6444aa401565a8aa97b1ba90296fc239583b727b\n""}, {'number': 4, 'created': '2022-10-13 19:57:50.000000000', 'files': ['unit_tests/test_action_get_or_create_user.py', 'src/ops_actions/__init__.py', 'actions/get_or_create_user.py', 'src/ops_actions/get_or_create_user.py', 'src/charm.py', 'actions/get-or-create-user'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/e2d99c56e0463a3ca630b1548e027b36e1b1a2e6', 'message': ""Rewrite the 'get-or-create-user' action with ops-framework\n\nChange-Id: I6444aa401565a8aa97b1ba90296fc239583b727b\n""}]",2,859899,e2d99c56e0463a3ca630b1548e027b36e1b1a2e6,12,2,4,33717,,,0,"Rewrite the 'get-or-create-user' action with ops-framework

Change-Id: I6444aa401565a8aa97b1ba90296fc239583b727b
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/99/859899/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_action_get_or_create_user.py', 'src/ops_actions/__init__.py', 'actions/get_or_create_user.py', 'src/ops_actions/get_or_create_user.py', 'src/charm.py', 'actions/get-or-create-user']",6,b749f433de71d3943059f72e9bf7e92f86a5c456,ops-get-or-create-user,,get_or_create_user.py,88,81
openstack%2Fcharm-ceph-mon~master~I850f7421a81cf0ad79acc689bcb29583013fbb7c,openstack/charm-ceph-mon,master,I850f7421a81cf0ad79acc689bcb29583013fbb7c,Operator Native rewrite of actions,NEW,2022-10-07 08:50:50.000000000,2022-10-13 21:50:05.000000000,,"[{'_account_id': 15382}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-07 08:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/72bdaefdca79d799da1ad4d8f2acc45b4110130d', 'message': 'Operator Native rewrite of actions\n\ncreate-cache-tier and delete-erasure-profile are re-written\nusing the event paradigm of operator framework.\n\nChange-Id: I850f7421a81cf0ad79acc689bcb29583013fbb7c\n'}, {'number': 2, 'created': '2022-10-07 10:46:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/5a7cc3495c80fdb9d0f4c6155cf1a91e0f2563ec', 'message': 'Operator Native rewrite of actions\n\ncreate-cache-tier and delete-erasure-profile are re-written\nusing the event paradigm of operator framework.\n\nChange-Id: I850f7421a81cf0ad79acc689bcb29583013fbb7c\n'}, {'number': 3, 'created': '2022-10-12 09:56:58.000000000', 'files': ['actions/create-cache-tier', 'unit_tests/test_ceph_actions.py', 'src/ops_actions/delete_erasure_profile.py', 'actions/delete-erasure-profile', 'src/ops_actions/__init__.py', 'src/charm.py', 'src/ops_actions/create_cache_tier.py', 'actions/create_cache_tier.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/aa453ff9cd5383ea59504992c9f5fa103bcbdb1d', 'message': 'Operator Native rewrite of actions\n\ncreate-cache-tier and delete-erasure-profile are re-written\nusing the event paradigm of operator framework.\n\nChange-Id: I850f7421a81cf0ad79acc689bcb29583013fbb7c\n'}]",13,860648,aa453ff9cd5383ea59504992c9f5fa103bcbdb1d,16,3,3,34952,,,0,"Operator Native rewrite of actions

create-cache-tier and delete-erasure-profile are re-written
using the event paradigm of operator framework.

Change-Id: I850f7421a81cf0ad79acc689bcb29583013fbb7c
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/48/860648/1 && git format-patch -1 --stdout FETCH_HEAD,"['actions/create-cache-tier', 'unit_tests/test_ceph_actions.py', 'src/ops_actions/delete_erasure_profile.py', 'actions/delete-erasure-profile', 'src/ops_actions/__init__.py', 'src/charm.py', 'src/ops_actions/create_cache_tier.py', 'actions/create_cache_tier.py']",8,72bdaefdca79d799da1ad4d8f2acc45b4110130d,action-op-rewrite,,"#!/usr/bin/env python3 # # Copyright 2016 Canonical Ltd # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. from subprocess import CalledProcessError from charmhelpers.contrib.storage.linux.ceph import Pool, pool_exists from charmhelpers.core.hookenv import action_get, log, action_fail def make_cache_tier(): backer_pool = action_get(""backer-pool"") cache_pool = action_get(""cache-pool"") cache_mode = action_get(""cache-mode"") # Pre flight checks if not pool_exists('admin', backer_pool): log(""Please create {} pool before calling create-cache-tier"".format( backer_pool)) action_fail(""create-cache-tier failed. Backer pool {} must exist "" ""before calling this"".format(backer_pool)) if not pool_exists('admin', cache_pool): log(""Please create {} pool before calling create-cache-tier"".format( cache_pool)) action_fail(""create-cache-tier failed. Cache pool {} must exist "" ""before calling this"".format(cache_pool)) pool = Pool(service='admin', name=backer_pool) try: pool.add_cache_tier(cache_pool=cache_pool, mode=cache_mode) except CalledProcessError as err: log(""Add cache tier failed with message: {}"" .format(str(err))) action_fail(""create-cache-tier failed. Add cache tier failed with "" ""message: {}"".format(str(err))) if __name__ == '__main__': make_cache_tier() ",153,65
openstack%2Fkayobe~master~I840a56339c826d05da663f8cc8eb0623ad12c468,openstack/kayobe,master,I840a56339c826d05da663f8cc8eb0623ad12c468,Fix bug trying to decrypt a plaintext file,MERGED,2022-09-22 13:17:49.000000000,2022-10-13 21:40:03.000000000,2022-10-13 21:38:14.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-22 13:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f1829010f78c78d84678890561403d49990c243d', 'message': 'Fix bug from by trying to decrypt a plaintext file\n\nStory: 2010315\nTask: 46382\nChange-Id: I840a56339c826d05da663f8cc8eb0623ad12c468\n'}, {'number': 2, 'created': '2022-09-22 13:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/cf8d97920f41adf38e7309c4e1ac7fa45b57ea95', 'message': 'Fix bug trying to decrypt a plaintext file\n\nStory: 2010315\nTask: 46382\nChange-Id: I840a56339c826d05da663f8cc8eb0623ad12c468\n'}, {'number': 3, 'created': '2022-10-04 07:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3a55a55efffe6043075f507120b054bf3b0af051', 'message': 'Fix bug trying to decrypt a plaintext file\n\nStory: 2010315\nTask: 46382\nChange-Id: I840a56339c826d05da663f8cc8eb0623ad12c468\n'}, {'number': 4, 'created': '2022-10-12 13:56:04.000000000', 'files': ['ansible/roles/kolla-ansible/library/kolla_passwords.py', 'releasenotes/notes/fix-unnecessary-decryption-bug-adaf2f6385a77f48.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c81d9e8b2c887171fbf5e62a1cd66051fc295bd9', 'message': 'Fix bug trying to decrypt a plaintext file\n\nStory: 2010315\nTask: 46382\nChange-Id: I840a56339c826d05da663f8cc8eb0623ad12c468\n'}]",8,858925,c81d9e8b2c887171fbf5e62a1cd66051fc295bd9,20,3,4,35264,,,0,"Fix bug trying to decrypt a plaintext file

Story: 2010315
Task: 46382
Change-Id: I840a56339c826d05da663f8cc8eb0623ad12c468
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/25/858925/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-ansible/library/kolla_passwords.py', 'releasenotes/notes/fix-unnecessary-decryption-bug-adaf2f6385a77f48.yaml']",2,f1829010f78c78d84678890561403d49990c243d,decryption_bug_fix,--- fixes: - | Fixes an issue causing various commands to fail on TASK [kolla-ansible : Ensure the Kolla passwords file exists] when passwords.yml is not encrypted but a password has been supplied.,,12,0
openstack%2Fkayobe~master~Iccfd043d1818a3ebcd4fc3cd49ce24da05ca6b5d,openstack/kayobe,master,Iccfd043d1818a3ebcd4fc3cd49ce24da05ca6b5d,docs: add missing apt tag,MERGED,2022-10-13 15:21:41.000000000,2022-10-13 21:39:12.000000000,2022-10-13 21:38:04.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-13 15:21:41.000000000', 'files': ['doc/source/configuration/reference/hosts.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9dd4b62aa3fae3653bc3b0f5e44e7fabdebde29a', 'message': 'docs: add missing apt tag\n\nChange-Id: Iccfd043d1818a3ebcd4fc3cd49ce24da05ca6b5d\n'}]",1,861195,9dd4b62aa3fae3653bc3b0f5e44e7fabdebde29a,8,3,1,14826,,,0,"docs: add missing apt tag

Change-Id: Iccfd043d1818a3ebcd4fc3cd49ce24da05ca6b5d
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/95/861195/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/reference/hosts.rst'],1,9dd4b62aa3fae3653bc3b0f5e44e7fabdebde29a,,*tags:* | ``apt``,,2,0
openstack%2Fkayobe~stable%2Fyoga~I4c3afb71600781dffe8072303d775cbfad16cbac,openstack/kayobe,stable/yoga,I4c3afb71600781dffe8072303d775cbfad16cbac,Update to latest CentOS Stream 8 cloud image,MERGED,2022-09-30 12:41:00.000000000,2022-10-13 21:39:03.000000000,2022-10-13 21:38:01.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-09-30 12:41:00.000000000', 'files': ['etc/kayobe/infra-vms.yml', 'ansible/group_vars/all/infra-vms', 'ansible/group_vars/all/seed-vm', 'releasenotes/notes/update-centos-cloud-image-20220913-4862bfdc89f8de3a.yaml', 'etc/kayobe/seed-vm.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/fd25eb9e04c86ce5faec70ef5cff15057bea3ca3', 'message': 'Update to latest CentOS Stream 8 cloud image\n\nChange-Id: I4c3afb71600781dffe8072303d775cbfad16cbac\n(cherry picked from commit 0db7684428d04dc8b5c24905ca3ff52ec6e63bd9)\n'}]",0,859982,fd25eb9e04c86ce5faec70ef5cff15057bea3ca3,8,3,1,15197,,,0,"Update to latest CentOS Stream 8 cloud image

Change-Id: I4c3afb71600781dffe8072303d775cbfad16cbac
(cherry picked from commit 0db7684428d04dc8b5c24905ca3ff52ec6e63bd9)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/82/859982/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/infra-vms.yml', 'ansible/group_vars/all/infra-vms', 'ansible/group_vars/all/seed-vm', 'releasenotes/notes/update-centos-cloud-image-20220913-4862bfdc89f8de3a.yaml', 'etc/kayobe/seed-vm.yml']",5,fd25eb9e04c86ce5faec70ef5cff15057bea3ca3,,"# ""https://cloud.centos.org/centos/8-stream/x86_64/images/CentOS-Stream-GenericCloud-8-20220913.0.x86_64.qcow2""","# ""https://cloud.centos.org/centos/8-stream/x86_64/images/CentOS-Stream-GenericCloud-8-20210603.0.x86_64.qcow2""",11,6
openstack%2Fkayobe~stable%2Fwallaby~I4c3afb71600781dffe8072303d775cbfad16cbac,openstack/kayobe,stable/wallaby,I4c3afb71600781dffe8072303d775cbfad16cbac,Update to latest CentOS Stream 8 cloud image,MERGED,2022-09-30 12:48:33.000000000,2022-10-13 21:38:58.000000000,2022-10-13 21:37:59.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-09-30 12:48:33.000000000', 'files': ['ansible/group_vars/all/seed-vm', 'releasenotes/notes/update-centos-cloud-image-20220913-4862bfdc89f8de3a.yaml', 'etc/kayobe/seed-vm.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9af442ea7b66b7b548b69a783b7187ce78f21dd4', 'message': 'Update to latest CentOS Stream 8 cloud image\n\nChange-Id: I4c3afb71600781dffe8072303d775cbfad16cbac\n(cherry picked from commit 0db7684428d04dc8b5c24905ca3ff52ec6e63bd9)\n'}]",0,859985,9af442ea7b66b7b548b69a783b7187ce78f21dd4,8,3,1,15197,,,0,"Update to latest CentOS Stream 8 cloud image

Change-Id: I4c3afb71600781dffe8072303d775cbfad16cbac
(cherry picked from commit 0db7684428d04dc8b5c24905ca3ff52ec6e63bd9)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/85/859985/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/seed-vm', 'releasenotes/notes/update-centos-cloud-image-20220913-4862bfdc89f8de3a.yaml', 'etc/kayobe/seed-vm.yml']",3,9af442ea7b66b7b548b69a783b7187ce78f21dd4,,"# ""https://cloud.centos.org/centos/8-stream/x86_64/images/CentOS-Stream-GenericCloud-8-20220913.0.x86_64.qcow2""","# ""https://cloud.centos.org/centos/8-stream/x86_64/images/CentOS-Stream-GenericCloud-8-20210210.0.x86_64.qcow2""",8,3
openstack%2Fkayobe~master~I56a25a82ad696122a37ffb1a347d72f0722b5757,openstack/kayobe,master,I56a25a82ad696122a37ffb1a347d72f0722b5757,Fix comment in OvercloudPostConfigure,MERGED,2022-10-07 14:07:28.000000000,2022-10-13 21:38:11.000000000,2022-10-13 21:38:11.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-07 14:07:28.000000000', 'files': ['kayobe/cli/commands.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/642486d8216cc08dccb2d81a791d4797e674c649', 'message': 'Fix comment in OvercloudPostConfigure\n\nChange-Id: I56a25a82ad696122a37ffb1a347d72f0722b5757\n'}]",0,860706,642486d8216cc08dccb2d81a791d4797e674c649,6,2,1,15197,,,0,"Fix comment in OvercloudPostConfigure

Change-Id: I56a25a82ad696122a37ffb1a347d72f0722b5757
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/06/860706/1 && git format-patch -1 --stdout FETCH_HEAD,['kayobe/cli/commands.py'],1,642486d8216cc08dccb2d81a791d4797e674c649,fix-comment, * Register a provisioning network with neutron., * Register a provisioning network with glance.,1,1
openstack%2Fkayobe~master~I249ec3e3417db31d1f0d880ac9b101f88cac2fe5,openstack/kayobe,master,I249ec3e3417db31d1f0d880ac9b101f88cac2fe5,Update comments for host configure commands,MERGED,2022-10-07 14:05:06.000000000,2022-10-13 21:38:09.000000000,2022-10-13 21:38:09.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-07 14:05:06.000000000', 'files': ['kayobe/cli/commands.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/cd46e1524ce4650a382917241704a5e77b2d021d', 'message': 'Update comments for host configure commands\n\nChange-Id: I249ec3e3417db31d1f0d880ac9b101f88cac2fe5\n'}]",0,860705,cd46e1524ce4650a382917241704a5e77b2d021d,6,2,1,15197,,,0,"Update comments for host configure commands

Change-Id: I249ec3e3417db31d1f0d880ac9b101f88cac2fe5
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/05/860705/1 && git format-patch -1 --stdout FETCH_HEAD,['kayobe/cli/commands.py'],1,cd46e1524ce4650a382917241704a5e77b2d021d,host-configure-comments, * Configure SELinux. * Configure IP routing and source NAT. * Configure timezone and ntp., * Configure timezone.,3,1
openstack%2Fkayobe~master~I7c863d1875908d2b885918ec7caed747ae6e345b,openstack/kayobe,master,I7c863d1875908d2b885918ec7caed747ae6e345b,Remove trailing whitespace,MERGED,2022-10-07 14:24:05.000000000,2022-10-13 21:38:07.000000000,2022-10-13 21:38:07.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-07 14:24:05.000000000', 'files': ['playbooks/kayobe-overcloud-host-configure-base/tests/test_overcloud_host_configure.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/69ef2b3b3ea113b0c920f23cc6985a4831b235c2', 'message': 'Remove trailing whitespace\n\nChange-Id: I7c863d1875908d2b885918ec7caed747ae6e345b\n'}]",0,860709,69ef2b3b3ea113b0c920f23cc6985a4831b235c2,6,2,1,15197,,,0,"Remove trailing whitespace

Change-Id: I7c863d1875908d2b885918ec7caed747ae6e345b
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/09/860709/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/kayobe-overcloud-host-configure-base/tests/test_overcloud_host_configure.py'],1,69ef2b3b3ea113b0c920f23cc6985a4831b235c2,whitespace, if ('centos' in host.system_info.distribution.lower() or, if ('centos' in host.system_info.distribution.lower() or ,1,1
openstack%2Fpuppet-tripleo~master~Ie4711ace66846b10252bccdddae84e045af3f604,openstack/puppet-tripleo,master,Ie4711ace66846b10252bccdddae84e045af3f604,Allow passing aditional arguments to wsrep_provider_options,MERGED,2022-09-28 11:42:03.000000000,2022-10-13 21:37:44.000000000,2022-10-13 21:36:44.000000000,"[{'_account_id': 6926}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}, {'_account_id': 30396}, {'_account_id': 32962}, {'_account_id': 34598}]","[{'number': 1, 'created': '2022-09-28 11:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/72b9f5337ab5df1fd71306f5493118280262eb00', 'message': ""Allow passing aditional arguments to wsrep_provider_options\n\nThis commit allows to inject arbitrary arguments into the\nwsrep_provider_options string.\nOperators should be extremely careful in doing so as there is no\nvalidation or syntax checking whatsoever.\n\nExample:\n\nExtraconfig:\n  tripleo::profile::pacemaker::database::mysql_bundle::provider_options: 'evs.suspect_timeout=PT30S'\n\nresults in:\n\nwsrep_provider_options = evs.suspect_timeout=PT30S;gcache.recover=no;gmcast.listen_addr=tcp://172.17.0.151:4567;socket.ssl_key=/etc/pki/tls/private/mysql.key;socket.ssl_cert=/etc/pki/tls/certs/mysql.crt;socket.ssl_cipher=AES128-SHA256;socket.ssl_ca=/etc/ipa/ca.crt;\n\nChange-Id: Ie4711ace66846b10252bccdddae84e045af3f604\n""}, {'number': 2, 'created': '2022-09-29 09:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7a98c70c681fe043fe1858dcf1bd44c33c113b0b', 'message': ""Allow passing aditional arguments to wsrep_provider_options\n\nThis commit allows to inject arbitrary arguments into the\nwsrep_provider_options string.\nOperators should be extremely careful in doing so as there is no\nvalidation or syntax checking whatsoever.\n\nExample:\n\nExtraConfig:\n  tripleo::profile::pacemaker::database::mysql_bundle::provider_options: 'evs.suspect_timeout=PT30S'\n\nresults in:\n\nwsrep_provider_options = evs.suspect_timeout=PT30S;gcache.recover=no;gmcast.listen_addr=tcp://172.17.0.151:4567;socket.ssl_key=/etc/pki/tls/private/mysql.key;socket.ssl_cert=/etc/pki/tls/certs/mysql.crt;socket.ssl_cipher=AES128-SHA256;socket.ssl_ca=/etc/ipa/ca.crt;\n\nChange-Id: Ie4711ace66846b10252bccdddae84e045af3f604\n""}, {'number': 3, 'created': '2022-10-04 11:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0df2457a3588e472a7219377f62b3fb276642c6a', 'message': ""Allow passing aditional arguments to wsrep_provider_options\n\nThis commit allows to inject arbitrary arguments into the\nwsrep_provider_options string.\nOperators should be extremely careful in doing so as there is no\nvalidation or syntax checking whatsoever.\n\nExample:\n\nExtraConfig:\n  tripleo::profile::pacemaker::database::mysql_bundle::provider_options: 'evs.suspect_timeout=PT30S'\n\nresults in:\n\nwsrep_provider_options = evs.suspect_timeout=PT30S;gcache.recover=no;gmcast.listen_addr=tcp://172.17.0.151:4567;socket.ssl_key=/etc/pki/tls/private/mysql.key;socket.ssl_cert=/etc/pki/tls/certs/mysql.crt;socket.ssl_cipher=AES128-SHA256;socket.ssl_ca=/etc/ipa/ca.crt;\n\nChange-Id: Ie4711ace66846b10252bccdddae84e045af3f604\n""}, {'number': 4, 'created': '2022-10-06 13:24:44.000000000', 'files': ['releasenotes/notes/mysql_bundle_options-b5ecf4c4472cca01.yaml', 'manifests/profile/pacemaker/database/mysql_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/171814ebbab2db3d1554d580f48fb92f95617e3a', 'message': ""Allow passing aditional arguments to wsrep_provider_options\n\nThis commit allows to inject arbitrary arguments into the\nwsrep_provider_options string.\nOperators should be extremely careful in doing so as there is no\nvalidation or syntax checking whatsoever.\n\nExample:\n\nExtraConfig:\n  tripleo::profile::pacemaker::database::mysql_bundle::provider_options: 'evs.suspect_timeout=PT30S'\n\nresults in:\n\nwsrep_provider_options = evs.suspect_timeout=PT30S;gcache.recover=no;gmcast.listen_addr=tcp://172.17.0.151:4567;socket.ssl_key=/etc/pki/tls/private/mysql.key;socket.ssl_cert=/etc/pki/tls/certs/mysql.crt;socket.ssl_cipher=AES128-SHA256;socket.ssl_ca=/etc/ipa/ca.crt;\n\nChange-Id: Ie4711ace66846b10252bccdddae84e045af3f604\n""}]",11,859553,171814ebbab2db3d1554d580f48fb92f95617e3a,47,8,4,30126,,,0,"Allow passing aditional arguments to wsrep_provider_options

This commit allows to inject arbitrary arguments into the
wsrep_provider_options string.
Operators should be extremely careful in doing so as there is no
validation or syntax checking whatsoever.

Example:

ExtraConfig:
  tripleo::profile::pacemaker::database::mysql_bundle::provider_options: 'evs.suspect_timeout=PT30S'

results in:

wsrep_provider_options = evs.suspect_timeout=PT30S;gcache.recover=no;gmcast.listen_addr=tcp://172.17.0.151:4567;socket.ssl_key=/etc/pki/tls/private/mysql.key;socket.ssl_cert=/etc/pki/tls/certs/mysql.crt;socket.ssl_cipher=AES128-SHA256;socket.ssl_ca=/etc/ipa/ca.crt;

Change-Id: Ie4711ace66846b10252bccdddae84e045af3f604
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/53/859553/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/database/mysql_bundle.pp'],1,72b9f5337ab5df1fd71306f5493118280262eb00,,"# [*provider_options*] # (optional) Allows passing extra options to wsrep_provider_options. # Defaults to undef # $provider_options = undef, if $provider_options { $extra_options = ""${provider_options};"" } else { $extra_options = '' } if $ipv6 { $wsrep_provider_options = ""${extra_options}${gcache_options}gmcast.listen_addr=tcp://[::]:4567;${tls_options}"" } else { $wsrep_provider_options = ""${extra_options}${gcache_options}gmcast.listen_addr=tcp://${gmcast_listen_addr}:4567;${tls_options}"""," if $ipv6 { $wsrep_provider_options = ""${gcache_options}gmcast.listen_addr=tcp://[::]:4567;${tls_options}"" } else { $wsrep_provider_options = ""${gcache_options}gmcast.listen_addr=tcp://${gmcast_listen_addr}:4567;${tls_options}""",13,3
openstack%2Fironic-inspector~stable%2Fqueens~I8389391f0f4ff270460341f42729cd01d01e2172,openstack/ironic-inspector,stable/queens,I8389391f0f4ff270460341f42729cd01d01e2172,CI: Zuul no longer respects queue,ABANDONED,2022-10-03 21:49:13.000000000,2022-10-13 21:23:39.000000000,,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-03 21:49:13.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/6e027ac216c3cd5f74a83a572a8fe123352f0348', 'message': 'CI: Zuul no longer respects queue\n\nChange-Id: I8389391f0f4ff270460341f42729cd01d01e2172\n'}]",0,860169,6e027ac216c3cd5f74a83a572a8fe123352f0348,4,2,1,10342,,,0,"CI: Zuul no longer respects queue

Change-Id: I8389391f0f4ff270460341f42729cd01d01e2172
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/69/860169/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,6e027ac216c3cd5f74a83a572a8fe123352f0348,,, queue: ironic,0,1
openstack%2Fironic-python-agent~bugfix%2F8.1~If721dfe1caa5915326482969e55fbf4697538231,openstack/ironic-python-agent,bugfix/8.1,If721dfe1caa5915326482969e55fbf4697538231,Fix software raid output poisoning,ABANDONED,2022-09-20 16:48:08.000000000,2022-10-13 21:22:57.000000000,,[{'_account_id': 11655}],"[{'number': 1, 'created': '2022-09-20 16:48:08.000000000', 'files': ['ironic_python_agent/hardware.py', 'releasenotes/notes/fix-softraid-name-poisoning-4e934dd4e60830b1.yaml', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/samples/hardware_samples.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/186154ddd57ba508b15a9acde83d77d8505d2c9b', 'message': 'Fix software raid output poisoning\n\nIn the event a device name is set to contain a raid device path,\nit is possible for the Name and Events field values of mdadm\'s\ndetailed output to contain text which inadvertently gets captured and\nmapped as component data for the ""holder"" devices of the RAID set.\n\nThis would cause invalid values to get passed to UEFI methods\nwhich would cause a deployment to fail under these circumstances.\n\nWe now ignore the Name and Events fields in mdadm output.\n\nChange-Id: If721dfe1caa5915326482969e55fbf4697538231\n(cherry picked from commit f3e3de8097f05cc830768da7d3f3e9eae04b40a1)\n(cherry picked from commit 6660e01e1f8a6e7a40b798eea5215b1eddcbe0c3)\n(cherry picked from commit 5751f60353f3a4bf325a8c9335d743eec45fbcd1)\n'}]",1,858465,186154ddd57ba508b15a9acde83d77d8505d2c9b,4,1,1,10342,,,0,"Fix software raid output poisoning

In the event a device name is set to contain a raid device path,
it is possible for the Name and Events field values of mdadm's
detailed output to contain text which inadvertently gets captured and
mapped as component data for the ""holder"" devices of the RAID set.

This would cause invalid values to get passed to UEFI methods
which would cause a deployment to fail under these circumstances.

We now ignore the Name and Events fields in mdadm output.

Change-Id: If721dfe1caa5915326482969e55fbf4697538231
(cherry picked from commit f3e3de8097f05cc830768da7d3f3e9eae04b40a1)
(cherry picked from commit 6660e01e1f8a6e7a40b798eea5215b1eddcbe0c3)
(cherry picked from commit 5751f60353f3a4bf325a8c9335d743eec45fbcd1)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/65/858465/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'releasenotes/notes/fix-softraid-name-poisoning-4e934dd4e60830b1.yaml', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/samples/hardware_samples.py']",4,186154ddd57ba508b15a9acde83d77d8505d2c9b,,"# NOTE(TheJulia): The name and events field, in some cases can # match the regex causing parsing of the text to fail. MDADM_DETAIL_POISONED = (""""""/dev/md0: Version : 1.2 Creation Time : Wed Aug 17 16:09:19 2022 Raid Level : raid1 Array Size : 4673536 (4.46 GiB 4.79 GB) Used Dev Size : 4673536 (4.46 GiB 4.79 GB) Raid Devices : 2 Total Devices : 2 Persistence : Superblock is persistent Update Time : Wed Aug 17 16:10:03 2022 State : clean Active Devices : 2 Working Devices : 2 Failed Devices : 0 Spare Devices : 0 Name : box:/dev/md0 (local to host box) UUID : e50fb152:aa80db1d:3c901b03:dd280e35 Events : 21/dev/md/dev/md Number Major Minor RaidDevice State 0 251 1 0 active sync /dev/vda1 1 251 17 1 active sync /dev/vdb1 """""")",,42,1
openstack%2Fdiskimage-builder~master~I6519fba3e8f1d078b99d3c03f2ac85f7b6e37d8a,openstack/diskimage-builder,master,I6519fba3e8f1d078b99d3c03f2ac85f7b6e37d8a,Added cloud-init growpart element,MERGED,2022-09-05 08:21:03.000000000,2022-10-13 20:43:10.000000000,2022-10-13 20:41:55.000000000,"[{'_account_id': 4571}, {'_account_id': 7118}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 34411}]","[{'number': 1, 'created': '2022-09-05 08:21:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/0d59bbad160148674c24ca53e58e1f810548223a', 'message': 'Added growpart for LVM element.\n\nChange-Id: I6519fba3e8f1d078b99d3c03f2ac85f7b6e37d8a\n'}, {'number': 2, 'created': '2022-09-06 09:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/23c2d1ba8ec09fe831494f317b300a0e01a3075e', 'message': 'Added growpart for LVM element.\n\nChange-Id: I6519fba3e8f1d078b99d3c03f2ac85f7b6e37d8a\n'}, {'number': 3, 'created': '2022-09-21 09:28:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/09b5319b203f136a8c25f30877d5741337df22ca', 'message': 'Added cloud-init growpart element\n\nIt allows for growing specific partitions during the deployment.\n\nChange-Id: I6519fba3e8f1d078b99d3c03f2ac85f7b6e37d8a\n'}, {'number': 4, 'created': '2022-09-21 11:25:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6923e4c36cd5037e113e508058f8837aa3dc89ce', 'message': 'Added cloud-init growpart element\n\nIt allows for growing specific partitions during the deployment.\n\nChange-Id: I6519fba3e8f1d078b99d3c03f2ac85f7b6e37d8a\n'}, {'number': 5, 'created': '2022-09-21 12:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d6cb3b1c862b9c8f6bd08068daad084ba0244670', 'message': 'Added cloud-init growpart element\n\nIt allows for growing specific partitions during the deployment.\n\nChange-Id: I6519fba3e8f1d078b99d3c03f2ac85f7b6e37d8a\n'}, {'number': 6, 'created': '2022-09-21 13:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/421d3f46b420ba5318e828dab86cd8fff68b6ed1', 'message': 'Added cloud-init growpart element\n\nIt allows for growing specific partitions during the deployment.\n\nChange-Id: I6519fba3e8f1d078b99d3c03f2ac85f7b6e37d8a\n'}, {'number': 7, 'created': '2022-09-22 07:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3596466dbcf278651be55b740703f0f6f74fac0d', 'message': 'Added cloud-init growpart element\n\nIt allows for growing specific partitions during the deployment.\n\nChange-Id: I6519fba3e8f1d078b99d3c03f2ac85f7b6e37d8a\n'}, {'number': 8, 'created': '2022-09-22 07:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/69fb75ce458e364ed4f63f6ce1e158371b8001e5', 'message': 'Added cloud-init growpart element\n\nIt allows for growing specific partitions during the deployment.\n\nChange-Id: I6519fba3e8f1d078b99d3c03f2ac85f7b6e37d8a\n'}, {'number': 9, 'created': '2022-09-23 06:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5f7b6f948a34e5d7abfe8643c653184e9df5d3f6', 'message': 'Added cloud-init growpart element\n\nIt allows for growing specific partitions during the deployment.\n\nChange-Id: I6519fba3e8f1d078b99d3c03f2ac85f7b6e37d8a\n'}, {'number': 10, 'created': '2022-09-27 09:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f311d07090ff3a5456c9e9b096c888efc8929427', 'message': 'Added cloud-init growpart element\n\nIt allows for growing specific partitions during the deployment.\n\nChange-Id: I6519fba3e8f1d078b99d3c03f2ac85f7b6e37d8a\n'}, {'number': 11, 'created': '2022-09-28 13:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9cfe4d668254605486cf4bb5fc2e5f7e67923da9', 'message': 'Add cloud-init growpart element\n\nIt allows for growing specific partitions during the deployment.\n\nChange-Id: I6519fba3e8f1d078b99d3c03f2ac85f7b6e37d8a\n'}, {'number': 12, 'created': '2022-10-06 07:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/fd080359b012559a05467b477bf330b16c197da5', 'message': 'Added cloud-init growpart element\n\nAdded growpart element. It allows for growing specific partitions\nduring the deployment, which will result in less post deploy actions\nneeded for the server to be ready for use.\n\nChange-Id: I6519fba3e8f1d078b99d3c03f2ac85f7b6e37d8a\n'}, {'number': 13, 'created': '2022-10-06 10:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/646595d45205c6dcb0589046ae4eebed0533d316', 'message': 'Added cloud-init growpart element\n\nAdded growpart element. It allows for growing specific partitions\nduring the deployment, which will result in less post deploy actions\nneeded for the server to be ready for use.\n\nChange-Id: I6519fba3e8f1d078b99d3c03f2ac85f7b6e37d8a\n'}, {'number': 14, 'created': '2022-10-06 11:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f6440bb0ac819acff8a4d7fa16ca212300cca70e', 'message': 'Added cloud-init growpart element\n\nAdded growpart element. It allows for growing specific partitions\nduring the deployment, which will result in less post deploy actions\nneeded for the server to be ready for use.\n\nChange-Id: I6519fba3e8f1d078b99d3c03f2ac85f7b6e37d8a\n'}, {'number': 15, 'created': '2022-10-10 08:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c88066bea8e36c4f2470f0be2e5eb7df613c01f5', 'message': 'Added cloud-init growpart element\n\nAdded growpart element. It allows for growing specific partitions\nduring the deployment, which will result in less post deploy actions\nneeded for the server to be ready for use.\n\nChange-Id: I6519fba3e8f1d078b99d3c03f2ac85f7b6e37d8a\n'}, {'number': 16, 'created': '2022-10-11 11:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ae3d0370fe992b5f43e5ee684607256b3a382717', 'message': 'Added cloud-init growpart element\n\nAdded growpart element. It allows for growing specific partitions\nduring the deployment, which will result in less post deploy actions\nneeded for the server to be ready for use.\n\nChange-Id: I6519fba3e8f1d078b99d3c03f2ac85f7b6e37d8a\n'}, {'number': 17, 'created': '2022-10-11 13:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/19cebb2aac97a95269dc9603977b3f4e432efcba', 'message': 'Added cloud-init growpart element\n\nAdded growpart element. It allows for growing specific partitions\nduring the deployment, which will result in less post deploy actions\nneeded for the server to be ready for use.\n\nChange-Id: I6519fba3e8f1d078b99d3c03f2ac85f7b6e37d8a\n'}, {'number': 18, 'created': '2022-10-11 14:58:37.000000000', 'files': ['diskimage_builder/elements/cloud-init-growpart/releasenotes/notes/added_growpart_for_lvm-0ce76ba71710c720.yaml', 'diskimage_builder/elements/cloud-init-growpart/element-deps', 'diskimage_builder/elements/cloud-init-growpart/package-installs.yaml', 'diskimage_builder/elements/cloud-init-growpart/post-install.d/55-growpart', 'diskimage_builder/elements/cloud-init-growpart/pkg-map', 'diskimage_builder/elements/cloud-init-growpart/README.rst'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b73048f98d92f1f92b42e333c77c27fc657babf3', 'message': 'Added cloud-init growpart element\n\nAdded growpart element. It allows for growing specific partitions\nduring the deployment, which will result in less post deploy actions\nneeded for the server to be ready for use.\n\nChange-Id: I6519fba3e8f1d078b99d3c03f2ac85f7b6e37d8a\n'}]",37,855856,b73048f98d92f1f92b42e333c77c27fc657babf3,86,5,18,34940,,,0,"Added cloud-init growpart element

Added growpart element. It allows for growing specific partitions
during the deployment, which will result in less post deploy actions
needed for the server to be ready for use.

Change-Id: I6519fba3e8f1d078b99d3c03f2ac85f7b6e37d8a
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/56/855856/17 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/cloud-init-growpart-lvm/README.rst', 'diskimage_builder/elements/cloud-init-growpart-lvm/element-deps', 'diskimage_builder/elements/cloud-init-growpart-lvm/releasenotes/notes/added_growpart_for_lvm-0ce76ba71710c720.yaml', 'diskimage_builder/elements/cloud-init-growpart-lvm/pkg-map', 'diskimage_builder/elements/cloud-init-growpart-lvm/post-install.d/55-growpart-lvm', 'diskimage_builder/elements/cloud-init-growpart-lvm/package-installs.yaml']",6,0d59bbad160148674c24ca53e58e1f810548223a,growpart_lvm,growpart_package: ,,52,0
openstack%2Fmanila~master~Ibd05406b4af7c99795f1bca2d4989790430b616b,openstack/manila,master,Ibd05406b4af7c99795f1bca2d4989790430b616b,Set configured_ip_versions fact in cephfs driver,MERGED,2022-10-11 20:50:19.000000000,2022-10-13 20:29:30.000000000,2022-10-13 20:28:09.000000000,"[{'_account_id': 6413}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-10-11 20:50:19.000000000', 'files': ['releasenotes/notes/bug-1991776-cephfs-configured-ip-versions-fd87976fdb848e8c.yaml', 'manila/share/drivers/cephfs/driver.py', 'manila/tests/share/drivers/cephfs/test_driver.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/bdfafcdada6c4912c7bc93c59c9690a18296dc8a', 'message': 'Set configured_ip_versions fact in cephfs driver\n\nWithout it, we lose the memoization optimization\nin the ""get_configured_ip_versions"" method, and\ncause a warning log to be emitted one too many\ntimes than desired.\n\nChange-Id: Ibd05406b4af7c99795f1bca2d4989790430b616b\nCloses-Bug: #1991776\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",2,860982,bdfafcdada6c4912c7bc93c59c9690a18296dc8a,13,3,1,16643,,,0,"Set configured_ip_versions fact in cephfs driver

Without it, we lose the memoization optimization
in the ""get_configured_ip_versions"" method, and
cause a warning log to be emitted one too many
times than desired.

Change-Id: Ibd05406b4af7c99795f1bca2d4989790430b616b
Closes-Bug: #1991776
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/82/860982/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1991776-cephfs-configured-ip-versions-fd87976fdb848e8c.yaml', 'manila/share/drivers/cephfs/driver.py', 'manila/tests/share/drivers/cephfs/test_driver.py']",3,bdfafcdada6c4912c7bc93c59c9690a18296dc8a,bug/1991776," self.assertEqual(set(configured_ip_version), helper.configured_ip_versions)",,9,1
openstack%2Fcharm-ceph-mon~master~Id0ad91108474ea12bd46d6570cfe609682dd6b70,openstack/charm-ceph-mon,master,Id0ad91108474ea12bd46d6570cfe609682dd6b70,Second phase of the ceph-mon rewrite,ABANDONED,2022-08-18 00:10:07.000000000,2022-10-13 19:59:43.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-18 00:10:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/b5d76274a1d9d01c565aa7ad7011ceb7e5bba3eb', 'message': ""Second phase of the ceph-mon rewrite\n\nThis patchset implements all the actions for the ceph-mon\nusing the operator framework. It consists of a simple refactoring\nusing a compatibility library that's embedded in the charm.\n\nChange-Id: Id0ad91108474ea12bd46d6570cfe609682dd6b70\n""}, {'number': 2, 'created': '2022-08-18 13:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/28d67a07b692f7f682ea4093c3d617de9597b2a9', 'message': ""Second phase of the ceph-mon rewrite\n\nThis patchset implements all the actions for the ceph-mon\nusing the operator framework. It consists of a simple refactoring\nusing a compatibility library that's embedded in the charm.\n\nChange-Id: Id0ad91108474ea12bd46d6570cfe609682dd6b70\n""}, {'number': 3, 'created': '2022-08-18 14:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/402972eb3a96e00ec9f8d2ae037973313201d8f3', 'message': ""Second phase of the ceph-mon rewrite\n\nThis patchset implements all the actions for the ceph-mon\nusing the operator framework. It consists of a simple refactoring\nusing a compatibility library that's embedded in the charm.\n\nChange-Id: Id0ad91108474ea12bd46d6570cfe609682dd6b70\n""}, {'number': 4, 'created': '2022-08-18 14:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/0fb08f9871d04402fadfbf962bafe3c87f66978c', 'message': ""Second phase of the ceph-mon rewrite\n\nThis patchset implements all the actions for the ceph-mon\nusing the operator framework. It consists of a simple refactoring\nusing a compatibility library that's embedded in the charm.\n\nChange-Id: Id0ad91108474ea12bd46d6570cfe609682dd6b70\n""}, {'number': 5, 'created': '2022-08-19 00:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/27c25b8eae6c810c05f9c4276204bd4d71274cac', 'message': ""Second phase of the ceph-mon rewrite\n\nThis patchset implements all the actions for the ceph-mon\nusing the operator framework. It consists of a simple refactoring\nusing a compatibility library that's embedded in the charm.\n\nChange-Id: Id0ad91108474ea12bd46d6570cfe609682dd6b70\n""}, {'number': 6, 'created': '2022-08-19 00:39:30.000000000', 'files': ['actions/unset-noout', 'actions/purge-osd', 'actions/pool-get', 'actions/delete-user', 'actions/get-or-create-user', 'src/actions/pg_repair.py', 'src/actions/pool_get.py', 'src/actions/create_erasure_profile.py', 'src/actions/crushmap_update.py', 'src/actions/list_inconsistent_objs.py', 'actions/get-health', 'actions/create-crush-rule', 'src/actions/get_versions_report.py', 'src/actions/purge_osd.py', 'src/actions/list_crush_rules.py', 'actions/list-inconsistent-objs', 'src/actions/create_pool.py', 'src/actions/set_noout.py', 'unit_tests/__init__.py', 'actions/snapshot-pool', 'src/actions/remove_pool_snapshot.py', 'src/actions/delete_erasure_profile.py', 'src/actions/unset_noout.py', 'src/actions/__init__.py', 'actions/pool-statistics', 'actions/change-osd-weight', 'actions/get-versions-report', 'actions/get-erasure-profile', 'actions/create-pool', 'actions/__init__.py', 'tox.ini', 'src/actions/set_pool_max_bytes.py', 'src/actions/pool_set.py', 'src/actions/list_pools.py', 'actions/list-erasure-profiles', 'src/actions/get_or_create_user.py', 'actions/list-pools', 'actions/pg-repair', 'src/actions/show_disk_free.py', 'actions/remove-pool-snapshot', 'actions/set-noout', 'src/actions/ops_utils/ops.py', 'src/actions/pool_statistics.py', 'src/actions/copy_pool.py', 'actions/list-crush-rules', 'src/actions/change_osd_weight.py', 'src/actions/delete_user.py', 'src/actions/list_erasure_profiles.py', 'src/actions/delete_pool.py', 'src/actions/create_cache_tier.py', 'src/actions/get_quorum_status.py', 'src/actions/create_crush_rule.py', 'actions/get-quorum-status', 'src/actions/rename_pool.py', 'actions/copy-pool', 'actions/create-cache-tier', 'src/actions/resume_health.py', 'actions/delete-pool', 'unit_tests/test_ceph_actions.py', 'actions/security-checklist', 'src/actions/pause_health.py', 'actions/delete-erasure-profile', 'src/actions/snapshot_pool.py', 'actions/set-pool-max-bytes', 'actions/show-disk-free', 'src/actions/get_erasure_profile.py', 'src/actions/ops_utils/__init__.py', 'actions/rename-pool', 'src/actions/get_health.py', 'src/actions/security_checklist.py', 'charmcraft.yaml', 'src/actions/remove_cache_tier.py', 'actions/pool-set', 'src/charm.py', 'src/actions/ceph_ops.py', 'actions/create-erasure-profile', 'actions/crushmap-update', 'actions/remove-cache-tier', 'actions/resume-health'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/8178811f8d8d6b4346c9e16e89c4cba9eac291cb', 'message': ""Second phase of the ceph-mon rewrite\n\nThis patchset implements all the actions for the ceph-mon\nusing the operator framework. It consists of a simple refactoring\nusing a compatibility library that's embedded in the charm.\n\nChange-Id: Id0ad91108474ea12bd46d6570cfe609682dd6b70\n""}]",12,853567,8178811f8d8d6b4346c9e16e89c4cba9eac291cb,16,2,6,33717,,,0,"Second phase of the ceph-mon rewrite

This patchset implements all the actions for the ceph-mon
using the operator framework. It consists of a simple refactoring
using a compatibility library that's embedded in the charm.

Change-Id: Id0ad91108474ea12bd46d6570cfe609682dd6b70
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/67/853567/1 && git format-patch -1 --stdout FETCH_HEAD,"['actions/unset-noout', 'actions/purge-osd', 'actions/pool-get', 'actions/delete-user', 'actions/get-or-create-user', 'src/actions/pg_repair.py', 'src/actions/pool_get.py', 'src/actions/create_erasure_profile.py', 'src/actions/crushmap_update.py', 'src/actions/list_inconsistent_objs.py', 'actions/get-health', 'actions/create-crush-rule', 'src/actions/get_versions_report.py', 'src/actions/purge_osd.py', 'src/actions/list_crush_rules.py', 'src/actions/ops_utils.py', 'actions/list-inconsistent-objs', 'src/actions/create_pool.py', 'src/actions/set_noout.py', 'unit_tests/__init__.py', 'actions/snapshot-pool', 'src/actions/remove_pool_snapshot.py', 'src/actions/delete_erasure_profile.py', 'src/actions/unset_noout.py', 'src/actions/__init__.py', 'actions/pool-statistics', 'actions/change-osd-weight', 'actions/get-versions-report', 'actions/get-erasure-profile', 'actions/create-pool', 'actions/__init__.py', 'src/actions/set_pool_max_bytes.py', 'src/actions/pool_set.py', 'src/actions/list_pools.py', 'actions/list-erasure-profiles', 'src/actions/get_or_create_user.py', 'actions/list-pools', 'actions/pg-repair', 'src/actions/show_disk_free.py', 'actions/remove-pool-snapshot', 'actions/set-noout', 'src/actions/pool_statistics.py', 'src/actions/copy_pool.py', 'actions/list-crush-rules', 'src/actions/change_osd_weight.py', 'src/actions/delete_user.py', 'src/actions/list_erasure_profiles.py', 'src/actions/delete_pool.py', 'src/actions/create_cache_tier.py', 'src/actions/get_quorum_status.py', 'src/actions/create_crush_rule.py', 'actions/get-quorum-status', 'src/actions/rename_pool.py', 'actions/copy-pool', 'actions/create-cache-tier', 'src/actions/resume_health.py', 'actions/delete-pool', 'unit_tests/test_ceph_actions.py', 'actions/security-checklist', 'src/actions/pause_health.py', 'actions/delete-erasure-profile', 'src/actions/snapshot_pool.py', 'actions/set-pool-max-bytes', 'actions/show-disk-free', 'src/actions/get_erasure_profile.py', 'actions/rename-pool', 'src/actions/get_health.py', 'src/actions/security_checklist.py', 'src/actions/remove_cache_tier.py', 'actions/pool-set', 'src/charm.py', 'src/actions/ceph_ops.py', 'actions/create-erasure-profile', 'actions/crushmap-update', 'actions/remove-cache-tier', 'actions/resume-health']",76,b5d76274a1d9d01c565aa7ad7011ceb7e5bba3eb,rewrite-2,,"#!/bin/bash # # Copyright 2016 Canonical Ltd # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. set -eux ceph osd unset nodown ceph osd unset noout ",284,143
openstack%2Fswift~master~I649574e687eb7c20247373d80b4ac5796e62c2c5,openstack/swift,master,I649574e687eb7c20247373d80b4ac5796e62c2c5,WIP:Testing Tacker jobs in Ubuntu jammy (22.04),NEW,2022-10-13 17:48:53.000000000,2022-10-13 19:53:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-10-13 17:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f0510d2237c09e0a968d3f5516913c2502fbeef6', 'message': 'WIP:Testing Tacker jobs in Ubuntu jammy (22.04)\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nChange-Id: I649574e687eb7c20247373d80b4ac5796e62c2c5\n'}, {'number': 2, 'created': '2022-10-13 17:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4bda27b9c84ab8b1b197869703b31029fc33dd3d', 'message': 'WIP:Testing Tacker jobs in Ubuntu jammy (22.04)\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nChange-Id: I649574e687eb7c20247373d80b4ac5796e62c2c5\n'}, {'number': 3, 'created': '2022-10-13 18:21:40.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/swift/commit/7b931cdcd145fe6a8e6341366c48dc9a492a1c92', 'message': 'WIP:Testing Tacker jobs in Ubuntu jammy (22.04)\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nChange-Id: I649574e687eb7c20247373d80b4ac5796e62c2c5\n'}]",1,861208,7b931cdcd145fe6a8e6341366c48dc9a492a1c92,8,1,3,28619,,,0,"WIP:Testing Tacker jobs in Ubuntu jammy (22.04)

Depends-On: https://review.opendev.org/c/openstack/tempest/+/861110
Change-Id: I649574e687eb7c20247373d80b4ac5796e62c2c5
",git fetch https://review.opendev.org/openstack/swift refs/changes/08/861208/2 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', '.zuul.yaml', 'tox.ini']",3,f0510d2237c09e0a968d3f5516913c2502fbeef6,migrate-to-jammy,"envlist = py37,py27,pep8,py310[testenv:py310] deps = {[testenv:py36]deps} ","envlist = py37,py27,pep8",64,40
openstack%2Fovn-octavia-provider~master~I86aba3eee88b3da3cae7b57da2eabc6c3cb5d953,openstack/ovn-octavia-provider,master,I86aba3eee88b3da3cae7b57da2eabc6c3cb5d953,Ensure LB are removed from LS not connected to the LB LR,MERGED,2022-10-10 15:19:56.000000000,2022-10-13 19:32:41.000000000,2022-10-13 19:31:32.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-10-10 15:19:56.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/464cb97fadd7134814cadd171b4de8cd2eda530e', 'message': 'Ensure LB are removed from LS not connected to the LB LR\n\nOnce the logical_switch (neutron subnet) is removed from the\nlogical_router (neutron router) where the OVN-LB VIP and members\nare connected to, there is no need to keep the LB added to that\nlogical_switch\n\nCloses-Bug: #1992356\nChange-Id: I86aba3eee88b3da3cae7b57da2eabc6c3cb5d953\n'}]",5,860779,464cb97fadd7134814cadd171b4de8cd2eda530e,20,3,1,23567,,,0,"Ensure LB are removed from LS not connected to the LB LR

Once the logical_switch (neutron subnet) is removed from the
logical_router (neutron router) where the OVN-LB VIP and members
are connected to, there is no need to keep the LB added to that
logical_switch

Closes-Bug: #1992356
Change-Id: I86aba3eee88b3da3cae7b57da2eabc6c3cb5d953
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/79/860779/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,464cb97fadd7134814cadd171b4de8cd2eda530e,," self.helper.ovn_nbdb_api.ls_lb_del.assert_called_once_with( self.network.uuid, self.ref_lb1.uuid, if_exists=True)", self.helper.ovn_nbdb_api.ls_lb_del.assert_not_called(),6,2
openstack%2Fironic-python-agent~bugfix%2F8.6~I9cfb8bc59103c7f8989e8558d1cd01164ad6b02f,openstack/ironic-python-agent,bugfix/8.6,I9cfb8bc59103c7f8989e8558d1cd01164ad6b02f,Pin bugfix 8.6 ci jobs to zed,MERGED,2022-09-26 09:53:20.000000000,2022-10-13 18:48:52.000000000,2022-10-13 18:46:59.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-09-26 09:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ed2361f544088d6af1f25269c6b64795825a21be', 'message': 'Pin bugfix 8.6 ci jobs to zed\n\nChange-Id: I9cfb8bc59103c7f8989e8558d1cd01164ad6b02f\n'}, {'number': 2, 'created': '2022-09-26 09:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/63bed9601301da5e0ab0a31e1743840a62365039', 'message': 'Pin bugfix 8.6 ci jobs to zed\n\nChange-Id: I9cfb8bc59103c7f8989e8558d1cd01164ad6b02f\n'}, {'number': 3, 'created': '2022-09-26 10:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/fffe3c1fcf005fbf460c7bc63ffa0e2f7f273ae2', 'message': 'Pin bugfix 8.6 ci jobs to zed\n\nChange-Id: I9cfb8bc59103c7f8989e8558d1cd01164ad6b02f\n'}, {'number': 4, 'created': '2022-09-27 12:30:31.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/849c4de3a9cdb0b637e16993fcc3b751b41da04e', 'message': 'Pin bugfix 8.6 ci jobs to zed\n\nChange-Id: I9cfb8bc59103c7f8989e8558d1cd01164ad6b02f\n'}]",11,859253,849c4de3a9cdb0b637e16993fcc3b751b41da04e,32,3,4,23851,,,0,"Pin bugfix 8.6 ci jobs to zed

Change-Id: I9cfb8bc59103c7f8989e8558d1cd01164ad6b02f
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/53/859253/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-python-agent-jobs.yaml', 'zuul.d/project.yaml']",2,ed2361f544088d6af1f25269c6b64795825a21be,ci-bugfix86, - openstack-cover-jobs-ipa-bugfix86 - openstack-python3-zed-jobs-ipa-bugfix86 - openstack-tox-functional: required-projects: - name: openstack/requirements override-checkout: stable/zed - openstack-tox-cover: required-projects: - name: openstack/requirements override-checkout: stable/zed - openstack-tox-functional: required-projects: - name: openstack/requirements override-checkout: stable/zed - openstack-tox-cover: required-projects: - name: openstack/requirements override-checkout: stable/zed, - openstack-cover-jobs - openstack-lower-constraints-master-branch-jobs - openstack-python3-zed-jobs - openstack-tox-functional - openstack-tox-functional,111,9
openstack%2Fneutron~stable%2Fwallaby~Iaee5608c9581228a83f7ad75dbf2cc31dafaa9ea,openstack/neutron,stable/wallaby,Iaee5608c9581228a83f7ad75dbf2cc31dafaa9ea,Allow to pass EUI64 IP address as fixed ip for the port,MERGED,2022-10-05 07:22:44.000000000,2022-10-13 18:07:39.000000000,2022-10-13 18:06:18.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-10-05 07:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/874377adbe56dc24204ae14ec3b3b386c776644d', 'message': ""Allow to pass EUI64 IP address as fixed ip for the port\n\nWhen port with IP address from the auto allocation subnet (SLAAC or\ndhcp_stateless) is created or updated and fixed IP address is specified,\nNeutron will fail as in case of such subnets IP address is assigned\nautomatically based on the subnet's prefix and port's MAC address.\nBut in case when given IP address is actually correct EUI64 generated IP\naddress (the same as Neutron would generate for that port) there is no\nneed to raise an exception and fail request.\n\nAdditionally this patch fixes imports sections in the\nipam_pluggable_backend module.\n\nCloses-bug: #1991398\nChange-Id: Iaee5608c9581228a83f7ad75dbf2cc31dafaa9ea\n(cherry picked from commit d7b44f7218ff665045adb923b1aa92c35b371af9)\n""}, {'number': 2, 'created': '2022-10-10 12:32:41.000000000', 'files': ['neutron/db/ipam_pluggable_backend.py', 'neutron/tests/unit/db/test_ipam_pluggable_backend.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1197d8e73504277e4087fca3efe6f9cbbc96c447', 'message': ""Allow to pass EUI64 IP address as fixed ip for the port\n\nWhen port with IP address from the auto allocation subnet (SLAAC or\ndhcp_stateless) is created or updated and fixed IP address is specified,\nNeutron will fail as in case of such subnets IP address is assigned\nautomatically based on the subnet's prefix and port's MAC address.\nBut in case when given IP address is actually correct EUI64 generated IP\naddress (the same as Neutron would generate for that port) there is no\nneed to raise an exception and fail request.\n\nAdditionally this patch fixes imports sections in the\nipam_pluggable_backend module.\n\nCloses-bug: #1991398\nChange-Id: Iaee5608c9581228a83f7ad75dbf2cc31dafaa9ea\n(cherry picked from commit d7b44f7218ff665045adb923b1aa92c35b371af9)\n""}]",4,860329,1197d8e73504277e4087fca3efe6f9cbbc96c447,30,4,2,11975,,,0,"Allow to pass EUI64 IP address as fixed ip for the port

When port with IP address from the auto allocation subnet (SLAAC or
dhcp_stateless) is created or updated and fixed IP address is specified,
Neutron will fail as in case of such subnets IP address is assigned
automatically based on the subnet's prefix and port's MAC address.
But in case when given IP address is actually correct EUI64 generated IP
address (the same as Neutron would generate for that port) there is no
need to raise an exception and fail request.

Additionally this patch fixes imports sections in the
ipam_pluggable_backend module.

Closes-bug: #1991398
Change-Id: Iaee5608c9581228a83f7ad75dbf2cc31dafaa9ea
(cherry picked from commit d7b44f7218ff665045adb923b1aa92c35b371af9)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/860329/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/ipam_pluggable_backend.py', 'neutron/tests/unit/db/test_ipam_pluggable_backend.py']",2,874377adbe56dc24204ae14ec3b3b386c776644d,bug/1991398-stable/zed-stable/yoga-stable/xena-stable/wallaby,"from neutron.ipam import exceptions as ipam_exc ""aa:bb:cc:dd:ee:ff"", def test_test_fixed_ips_for_port_allocation_on_auto_address_subnet(self): context = mock.Mock() pluggable_backend = ipam_pluggable_backend.IpamPluggableBackend() with self.subnet(cidr=""2001:db8::/64"", ip_version=constants.IP_VERSION_6, ipv6_ra_mode=constants.IPV6_SLAAC, ipv6_address_mode=constants.IPV6_SLAAC) as subnet: subnet = subnet['subnet'] bad_fixed_ip = [{'subnet_id': subnet['id'], 'ip_address': '2001:db8::22'}] eui64_fixed_ip = [{'subnet_id': subnet['id'], 'ip_address': '2001:db8::a8bb:ccff:fedd:eeff'}] self.assertRaises( ipam_exc.AllocationOnAutoAddressSubnet, pluggable_backend._test_fixed_ips_for_port, context, subnet['network_id'], bad_fixed_ip, ""device_owner"", ""aa:bb:cc:dd:ee:ff"", [subnet]) filtered_ips = pluggable_backend._test_fixed_ips_for_port( context, subnet['network_id'], eui64_fixed_ip, ""device_owner"", ""aa:bb:cc:dd:ee:ff"", [subnet]) self.assertEqual(1, len(filtered_ips)) self.assertEqual(subnet['id'], filtered_ips[0]['subnet_id']) 'mac_address': 'aa:bb:cc:dd:ee:ff', 'mac_address': 'aa:bb:cc:dd:ee:ff', 'mac_address': 'aa:bb:cc:dd:ee:ff',",,39,5
openstack%2Fneutron~master~Ic6e82a31efe7798c9ec0c5e6bc743db4c280fd1a,openstack/neutron,master,Ic6e82a31efe7798c9ec0c5e6bc743db4c280fd1a,Nit: network_update in ovs_neutron_agent has a bad LOG,MERGED,2022-10-13 12:35:21.000000000,2022-10-13 18:07:39.000000000,2022-10-13 18:06:13.000000000,"[{'_account_id': 5948}, {'_account_id': 7730}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-13 12:35:21.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7c1a894ce5c27a40f527c1a7c5f2d02723de93d8', 'message': ""Nit: network_update in ovs_neutron_agent has a bad LOG\n\nThe log entry had %(tag)s but the dict has 'segmentation_id' as key,\nso let's change tag to segmentation_id.\n\nChange-Id: Ic6e82a31efe7798c9ec0c5e6bc743db4c280fd1a\nPartial-Bug: #1956435\nPartial-Bug: #1764738\n""}]",2,861177,7c1a894ce5c27a40f527c1a7c5f2d02723de93d8,14,5,1,8313,,,0,"Nit: network_update in ovs_neutron_agent has a bad LOG

The log entry had %(tag)s but the dict has 'segmentation_id' as key,
so let's change tag to segmentation_id.

Change-Id: Ic6e82a31efe7798c9ec0c5e6bc743db4c280fd1a
Partial-Bug: #1956435
Partial-Bug: #1764738
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/861177/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,7c1a894ce5c27a40f527c1a7c5f2d02723de93d8,segments," ""%(network_id)s, tag: %(segmentation_id)s, """," ""%(network_id)s, tag: %(tag)s, """,1,1
openstack%2Fbarbican~stable%2Ftrain~I271a3d50dba5f1c7c58c01838fa68b4c8adbd72c,openstack/barbican,stable/train,I271a3d50dba5f1c7c58c01838fa68b4c8adbd72c,Fix Barbican gate,MERGED,2022-09-28 20:59:33.000000000,2022-10-13 17:50:50.000000000,2022-10-13 17:48:42.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-28 20:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/f98908a9b64fbe63bd0abfec29ae2524f439d6a2', 'message': 'Fix Barbican gate\n\nThis patch fixes a zuul syntax error due to a deprecated definition that\nwas still in use in our configuration.\n\nIt also makes the grenade job non-voting as it is currently failing.  A\nfollow up patch will fix grenade and re-enable voting.\n\n(cherry picked from commit ed463af88b01753153211f040982b36b6d6fee12)\n\nChange-Id: I271a3d50dba5f1c7c58c01838fa68b4c8adbd72c\n'}, {'number': 2, 'created': '2022-10-13 16:12:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/barbican/commit/c979fdfbb9b493c9e03cec6f1e63e7370e686582', 'message': 'Fix Barbican gate\n\nThis patch fixes a zuul syntax error due to a deprecated definition that\nwas still in use in our configuration.\n\nIt also makes the grenade job non-voting as it is currently failing.  A\nfollow up patch will fix grenade and re-enable voting.\n\n(cherry picked from commit ed463af88b01753153211f040982b36b6d6fee12)\n\nChange-Id: I271a3d50dba5f1c7c58c01838fa68b4c8adbd72c\n'}]",0,859726,c979fdfbb9b493c9e03cec6f1e63e7370e686582,10,2,2,7973,,,0,"Fix Barbican gate

This patch fixes a zuul syntax error due to a deprecated definition that
was still in use in our configuration.

It also makes the grenade job non-voting as it is currently failing.  A
follow up patch will fix grenade and re-enable voting.

(cherry picked from commit ed463af88b01753153211f040982b36b6d6fee12)

Change-Id: I271a3d50dba5f1c7c58c01838fa68b4c8adbd72c
",git fetch https://review.opendev.org/openstack/barbican refs/changes/26/859726/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f98908a9b64fbe63bd0abfec29ae2524f439d6a2,, queue: barbican, queue: barbican,1,1
openstack%2Ftripleo-validations~master~I2204e6a5a98b0c61630c750682954622d31db514,openstack/tripleo-validations,master,I2204e6a5a98b0c61630c750682954622d31db514,Explicitly setting constraints on linters tox env,MERGED,2022-06-03 08:46:08.000000000,2022-10-13 17:40:10.000000000,2022-10-13 17:39:06.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-06-03 08:46:08.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ca9c032fd3587aca6461e2fc26375b7fe5a917bb', 'message': 'Explicitly setting constraints on linters tox env\n\nSpecification of constraints in derived environment should improve\ntest stability on local machines.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I2204e6a5a98b0c61630c750682954622d31db514\n'}]",2,844560,ca9c032fd3587aca6461e2fc26375b7fe5a917bb,14,5,1,32926,,,0,"Explicitly setting constraints on linters tox env

Specification of constraints in derived environment should improve
test stability on local machines.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I2204e6a5a98b0c61630c750682954622d31db514
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/60/844560/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ca9c032fd3587aca6461e2fc26375b7fe5a917bb,, -c {env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},,1,0
openstack%2Ftripleo-ansible~master~If3f2fde6a40fe3e72b16eee2d93d01aeb773966a,openstack/tripleo-ansible,master,If3f2fde6a40fe3e72b16eee2d93d01aeb773966a,Support standalone variable names in tripleo_ceph_client,MERGED,2022-09-23 21:40:47.000000000,2022-10-13 17:39:11.000000000,2022-10-13 17:39:11.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 30396}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-09-23 21:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f8e2d3dc11a3659ee4a69532cdbaad1e7d4f214a', 'message': 'Support standalone variable names in tripleo_ceph_client\n\nUpdate default variable handling in tripleo_ceph_client role.\nIf a variable name used in standalone Ansible roles, like\ntripleo_nova_libvirt is used, then tripleo_ceph_client will\nsupport that variable. The following substitutions are now\nsuported:\n\n  tripleo_ceph_client_cluster | tripleo_ceph_cluster_name\n  tripleo_ceph_client_fsid    | tripleo_ceph_cluster_fsid\n  tripleo_ceph_client_keys    | tripleo_ceph_cluster_keys\n\nAlso update multiple_external_ceph_clusters.yml so that it\ncan handle if each \'multiple\' item contained in the variable\ntripleo_ceph_cluster_multi_config has a ""tripleo_ceph_cluster_""\nprefix as above. These changes let the role remain backwards\ncompatible with supported examples in older versions but also\nallow the new conventions to be used.\n\nChange-Id: If3f2fde6a40fe3e72b16eee2d93d01aeb773966a\n'}, {'number': 2, 'created': '2022-10-08 18:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f7ccecc6bbfec9d5bbadf4f81358282541843ffd', 'message': 'Support standalone variable names in tripleo_ceph_client\n\nUpdate default variable handling in tripleo_ceph_client role.\nIf a variable name used in standalone Ansible roles, like\ntripleo_nova_libvirt is used, then tripleo_ceph_client will\nsupport that variable. The following substitutions are now\nsuported:\n\n  tripleo_ceph_client_cluster | tripleo_ceph_cluster_name\n  tripleo_ceph_client_fsid    | tripleo_ceph_cluster_fsid\n  tripleo_ceph_client_keys    | tripleo_ceph_cluster_keys\n\nAlso update multiple_external_ceph_clusters.yml so that it\ncan handle if each \'multiple\' item contained in the variable\ntripleo_ceph_cluster_multi_config has a ""tripleo_ceph_cluster_""\nprefix as above. These changes let the role remain backwards\ncompatible with supported examples in older versions but also\nallow the new conventions to be used.\n\nChange-Id: If3f2fde6a40fe3e72b16eee2d93d01aeb773966a\n'}, {'number': 3, 'created': '2022-10-10 12:44:02.000000000', 'files': ['tripleo_ansible/roles/tripleo_ceph_client/tasks/multiple_external_ceph_clusters.yml', 'tripleo_ansible/roles/tripleo_ceph_client/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c15abb9b958cab4d35cbb8ee13929bfdf181cc08', 'message': 'Support standalone variable names in tripleo_ceph_client\n\nUpdate default variable handling in tripleo_ceph_client role.\nIf a variable name used in standalone Ansible roles, like\ntripleo_nova_libvirt is used, then tripleo_ceph_client will\nsupport that variable. The following substitutions are now\nsuported:\n\n  tripleo_ceph_client_cluster | tripleo_ceph_cluster_name\n  tripleo_ceph_client_fsid    | tripleo_ceph_cluster_fsid\n  tripleo_ceph_client_keys    | tripleo_ceph_cluster_keys\n\nAlso update multiple_external_ceph_clusters.yml so that it\ncan handle if each \'multiple\' item contained in the variable\ntripleo_ceph_cluster_multi_config has a ""tripleo_ceph_cluster_""\nprefix as above. These changes let the role remain backwards\ncompatible with supported examples in older versions but also\nallow the new conventions to be used.\n\nChange-Id: If3f2fde6a40fe3e72b16eee2d93d01aeb773966a\n'}]",7,859149,c15abb9b958cab4d35cbb8ee13929bfdf181cc08,35,7,3,18002,,,0,"Support standalone variable names in tripleo_ceph_client

Update default variable handling in tripleo_ceph_client role.
If a variable name used in standalone Ansible roles, like
tripleo_nova_libvirt is used, then tripleo_ceph_client will
support that variable. The following substitutions are now
suported:

  tripleo_ceph_client_cluster | tripleo_ceph_cluster_name
  tripleo_ceph_client_fsid    | tripleo_ceph_cluster_fsid
  tripleo_ceph_client_keys    | tripleo_ceph_cluster_keys

Also update multiple_external_ceph_clusters.yml so that it
can handle if each 'multiple' item contained in the variable
tripleo_ceph_cluster_multi_config has a ""tripleo_ceph_cluster_""
prefix as above. These changes let the role remain backwards
compatible with supported examples in older versions but also
allow the new conventions to be used.

Change-Id: If3f2fde6a40fe3e72b16eee2d93d01aeb773966a
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/49/859149/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_ceph_client/tasks/multiple_external_ceph_clusters.yml', 'tripleo_ansible/roles/tripleo_ceph_client/defaults/main.yml']",2,f8e2d3dc11a3659ee4a69532cdbaad1e7d4f214a,standalone-roles,"tripleo_ceph_client_cluster: ""{{ tripleo_ceph_cluster_name | default('ceph', true) }}"" tripleo_ceph_client_fsid: ""{{ tripleo_ceph_cluster_fsid | default('', true) }}""tripleo_ceph_client_keys: ""{{ tripleo_ceph_cluster_keys | default([], true) }}""","tripleo_ceph_client_cluster: ""ceph"" tripleo_ceph_client_fsid: ''tripleo_ceph_client_keys: []",6,6
openstack%2Ftripleo-upgrade~stable%2Fwallaby~I0f3d115512c5593eff9556d1ca1aca4e465fb29b,openstack/tripleo-upgrade,stable/wallaby,I0f3d115512c5593eff9556d1ca1aca4e465fb29b,Bump Cirros to 0.6.0,MERGED,2022-10-13 11:27:43.000000000,2022-10-13 17:39:09.000000000,2022-10-13 17:39:09.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-10-13 11:27:43.000000000', 'files': ['README.rst', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/cfc09ece5f402f11b7bcd38a7d689580eadcee15', 'message': 'Bump Cirros to 0.6.0\n\nDue to [1] cirros should be bumped to 0.6.0\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1991231\n\nChange-Id: I0f3d115512c5593eff9556d1ca1aca4e465fb29b\n(cherry picked from commit f3be13b37e30fa0a3c504e928ddcb335ce597f8a)\n'}]",0,861165,cfc09ece5f402f11b7bcd38a7d689580eadcee15,7,5,1,33080,,,0,"Bump Cirros to 0.6.0

Due to [1] cirros should be bumped to 0.6.0

[1] https://bugs.launchpad.net/tripleo/+bug/1991231

Change-Id: I0f3d115512c5593eff9556d1ca1aca4e465fb29b
(cherry picked from commit f3be13b37e30fa0a3c504e928ddcb335ce597f8a)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/65/861165/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'defaults/main.yml']",2,cfc09ece5f402f11b7bcd38a7d689580eadcee15,,"workload_image_url: ""https://download.cirros-cloud.net/0.6.0/cirros-0.6.0-x86_64-disk.img""","workload_image_url: ""https://download.cirros-cloud.net/0.5.2/cirros-0.5.2-x86_64-disk.img""",2,2
openstack%2Frequirements~stable%2Fyoga~I3ab232c38a3a238a8cf8129d94ca17b1fa2d687e,openstack/requirements,stable/yoga,I3ab232c38a3a238a8cf8129d94ca17b1fa2d687e,update constraint for stevedore to new release 3.5.1,MERGED,2022-10-13 10:51:25.000000000,2022-10-13 16:37:46.000000000,2022-10-13 16:37:46.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-10-13 10:51:25.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1b2ab2e8b1351800522eed36c3df121b201686cc', 'message': 'update constraint for stevedore to new release 3.5.1\n\nmeta: version: 3.5.1\nmeta: diff-start: -\nmeta: series: yoga\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Stephen Finucane <sfinucan@redhat.com>\nmeta: release:Commit: Stephen Finucane <sfinucan@redhat.com>\nmeta: release:Change-Id: I0b20ab77852e67262ea9eb8088b0eb8265ae7e3e\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I3ab232c38a3a238a8cf8129d94ca17b1fa2d687e\n'}]",2,861162,1b2ab2e8b1351800522eed36c3df121b201686cc,13,3,1,11131,,,0,"update constraint for stevedore to new release 3.5.1

meta: version: 3.5.1
meta: diff-start: -
meta: series: yoga
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Stephen Finucane <sfinucan@redhat.com>
meta: release:Commit: Stephen Finucane <sfinucan@redhat.com>
meta: release:Change-Id: I0b20ab77852e67262ea9eb8088b0eb8265ae7e3e
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I3ab232c38a3a238a8cf8129d94ca17b1fa2d687e
",git fetch https://review.opendev.org/openstack/requirements refs/changes/62/861162/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,1b2ab2e8b1351800522eed36c3df121b201686cc,new-release,stevedore===3.5.1,stevedore===3.5.0,1,1
openstack%2Foctavia~master~Ie739cd582103d1aab3021c56654e395b5919358f,openstack/octavia,master,Ie739cd582103d1aab3021c56654e395b5919358f,Fix prometheus-proxy service name in Red Hat-based distros,MERGED,2022-10-13 07:48:56.000000000,2022-10-13 16:37:38.000000000,2022-10-13 16:36:15.000000000,"[{'_account_id': 8367}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 32458}, {'_account_id': 32962}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-10-13 07:48:56.000000000', 'files': ['elements/amphora-agent/post-install.d/12-enable-prometheus-proxy-systemd', 'elements/amphora-agent/svc-map'], 'web_link': 'https://opendev.org/openstack/octavia/commit/344d6d76ce4481f30fe295114551243d61e7eea8', 'message': ""Fix prometheus-proxy service name in Red Hat-based distros\n\nThe prometheus-proxy service is called octavia-prometheus-proxy in RDO's\nRPMs [0].\nAdd a svc-map for the service name to fix the amphora-agent element for\nthese distros.\n\n[0] https://review.rdoproject.org/r/c/openstack/octavia-distgit/+/44152\n\nPartial-Bug: 1992668\n\nChange-Id: Ie739cd582103d1aab3021c56654e395b5919358f\n""}]",4,861145,344d6d76ce4481f30fe295114551243d61e7eea8,13,7,1,29244,,,0,"Fix prometheus-proxy service name in Red Hat-based distros

The prometheus-proxy service is called octavia-prometheus-proxy in RDO's
RPMs [0].
Add a svc-map for the service name to fix the amphora-agent element for
these distros.

[0] https://review.rdoproject.org/r/c/openstack/octavia-distgit/+/44152

Partial-Bug: 1992668

Change-Id: Ie739cd582103d1aab3021c56654e395b5919358f
",git fetch https://review.opendev.org/openstack/octavia refs/changes/45/861145/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/amphora-agent/post-install.d/12-enable-prometheus-proxy-systemd', 'elements/amphora-agent/svc-map']",2,344d6d76ce4481f30fe295114551243d61e7eea8,,prometheus-proxy: default: prometheus-proxy redhat: octavia-prometheus-proxy,,4,1
openstack%2Fironic~stable%2Fxena~Idca63219ee0491404bcecdc3ff74160e220d6511,openstack/ironic,stable/xena,Idca63219ee0491404bcecdc3ff74160e220d6511,Stable only: Factor out addition of packaging lib,MERGED,2022-10-04 19:49:38.000000000,2022-10-13 16:26:28.000000000,2022-10-13 01:29:10.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 30566}]","[{'number': 1, 'created': '2022-10-04 19:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/85ffa4e42b0528a63f7a0f3b8ae31f4bd7de95a5', 'message': ""Stable only: Factor out addition of packaging lib\n\nAdding a new library to a stable branch is against stable policy,\nbut we landed the patch anyway. In order to faciliate making a\nrelease without violating policy against stable versions not\nintroducing new requirements, we've imported the relevant needed\nmethods from the packaging library locally.\n\nChange-Id: Idca63219ee0491404bcecdc3ff74160e220d6511\n""}, {'number': 2, 'created': '2022-10-04 19:50:04.000000000', 'files': ['ironic/drivers/modules/irmc/common.py', 'requirements.txt', 'ironic/drivers/modules/irmc/packaging_version.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2e84420a44018d28cefe04f3c62117dfceb8bfee', 'message': ""Stable only: Factor out addition of packaging lib\n\nAdding a new library to a stable branch is against stable policy,\nbut we landed the patch anyway. In order to faciliate making a\nrelease without violating policy against stable versions not\nintroducing new requirements, we've imported the relevant needed\nmethods from the packaging library locally.\n\nChange-Id: Idca63219ee0491404bcecdc3ff74160e220d6511\n""}]",3,860142,2e84420a44018d28cefe04f3c62117dfceb8bfee,23,3,2,10342,,,0,"Stable only: Factor out addition of packaging lib

Adding a new library to a stable branch is against stable policy,
but we landed the patch anyway. In order to faciliate making a
release without violating policy against stable versions not
introducing new requirements, we've imported the relevant needed
methods from the packaging library locally.

Change-Id: Idca63219ee0491404bcecdc3ff74160e220d6511
",git fetch https://review.opendev.org/openstack/ironic refs/changes/42/860142/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/irmc/common.py', 'requirements.txt', 'ironic/drivers/modules/irmc/packaging_version.py']",3,85ffa4e42b0528a63f7a0f3b8ae31f4bd7de95a5,,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # note(JayF): Contents of this file come from https://github.com/pypa/packaging # and were provided under a dual BSD/Apache license. It has been adapted # for use here to prevent the need add additional libraries for released stable # branches. Zed release and newer use the packaging library directly. import collections import itertools import re from typing import Callable from typing import Optional from typing import SupportsInt from typing import Tuple from typing import Union __all__ = [""VERSION_PATTERN"", ""parse"", ""Version"", ""InvalidVersion""] class InfinityType: def __repr__(self) -> str: return ""Infinity"" def __hash__(self) -> int: return hash(repr(self)) def __lt__(self, other: object) -> bool: return False def __le__(self, other: object) -> bool: return False def __eq__(self, other: object) -> bool: return isinstance(other, self.__class__) def __gt__(self, other: object) -> bool: return True def __ge__(self, other: object) -> bool: return True def __neg__(self: object) -> ""NegativeInfinityType"": return NegativeInfinity Infinity = InfinityType() class NegativeInfinityType: def __repr__(self) -> str: return ""-Infinity"" def __hash__(self) -> int: return hash(repr(self)) def __lt__(self, other: object) -> bool: return True def __le__(self, other: object) -> bool: return True def __eq__(self, other: object) -> bool: return isinstance(other, self.__class__) def __gt__(self, other: object) -> bool: return False def __ge__(self, other: object) -> bool: return False def __neg__(self: object) -> InfinityType: return Infinity NegativeInfinity = NegativeInfinityType() InfiniteTypes = Union[InfinityType, NegativeInfinityType] PrePostDevType = Union[InfiniteTypes, Tuple[str, int]] SubLocalType = Union[InfiniteTypes, int, str] LocalType = Union[ NegativeInfinityType, Tuple[ Union[ SubLocalType, Tuple[SubLocalType, str], Tuple[NegativeInfinityType, SubLocalType], ], ..., ], ] CmpKey = Tuple[ int, Tuple[int, ...], PrePostDevType, PrePostDevType, PrePostDevType, LocalType # noqa ] VersionComparisonMethod = Callable[[CmpKey, CmpKey], bool] _Version = collections.namedtuple( ""_Version"", [""epoch"", ""release"", ""dev"", ""pre"", ""post"", ""local""] ) def parse(version: str) -> ""Version"": """"""Parse the given version string. >>> parse('1.0.dev1') <Version('1.0.dev1')> :param version: The version string to parse. :raises InvalidVersion: When the version string is not a valid version. """""" return Version(version) class InvalidVersion(ValueError): """"""Raised when a version string is not a valid version. >>> Version(""invalid"") Traceback (most recent call last): ... packaging.version.InvalidVersion: Invalid version: 'invalid' """""" class _BaseVersion: _key: CmpKey def __hash__(self) -> int: return hash(self._key) # Please keep the duplicated `isinstance` check # in the six comparisons hereunder # unless you find a way to avoid adding overhead function calls. def __lt__(self, other: ""_BaseVersion"") -> bool: if not isinstance(other, _BaseVersion): return NotImplemented return self._key < other._key def __le__(self, other: ""_BaseVersion"") -> bool: if not isinstance(other, _BaseVersion): return NotImplemented return self._key <= other._key def __eq__(self, other: object) -> bool: if not isinstance(other, _BaseVersion): return NotImplemented return self._key == other._key def __ge__(self, other: ""_BaseVersion"") -> bool: if not isinstance(other, _BaseVersion): return NotImplemented return self._key >= other._key def __gt__(self, other: ""_BaseVersion"") -> bool: if not isinstance(other, _BaseVersion): return NotImplemented return self._key > other._key def __ne__(self, other: object) -> bool: if not isinstance(other, _BaseVersion): return NotImplemented return self._key != other._key # Deliberately not anchored to the start and end of the string, to make it # easier for 3rd party code to reuse _VERSION_PATTERN = r"""""" v? (?: (?:(?P<epoch>[0-9]+)!)? # epoch (?P<release>[0-9]+(?:\.[0-9]+)*) # release segment (?P<pre> # pre-release [-_\.]? (?P<pre_l>(a|b|c|rc|alpha|beta|pre|preview)) [-_\.]? (?P<pre_n>[0-9]+)? )? (?P<post> # post release (?:-(?P<post_n1>[0-9]+)) | (?: [-_\.]? (?P<post_l>post|rev|r) [-_\.]? (?P<post_n2>[0-9]+)? ) )? (?P<dev> # dev release [-_\.]? (?P<dev_l>dev) [-_\.]? (?P<dev_n>[0-9]+)? )? ) (?:\+(?P<local>[a-z0-9]+(?:[-_\.][a-z0-9]+)*))? # local version """""" VERSION_PATTERN = _VERSION_PATTERN """""" A string containing the regular expression used to match a valid version. The pattern is not anchored at either end, and is intended for embedding in larger expressions (for example, matching a version number as part of a file name). The regular expression should be compiled with the ``re.VERBOSE`` and ``re.IGNORECASE`` flags set. :meta hide-value: """""" class Version(_BaseVersion): """"""This class abstracts handling of a project's versions. A :class:`Version` instance is comparison aware and can be compared and sorted using the standard Python interfaces. >>> v1 = Version(""1.0a5"") >>> v2 = Version(""1.0"") >>> v1 <Version('1.0a5')> >>> v2 <Version('1.0')> >>> v1 < v2 True >>> v1 == v2 False >>> v1 > v2 False >>> v1 >= v2 False >>> v1 <= v2 True """""" _regex = re.compile(r""^\s*"" + VERSION_PATTERN + r""\s*$"", re.VERBOSE | re.IGNORECASE) # noqa def __init__(self, version: str) -> None: """"""Initialize a Version object. :param version: The string representation of a version which will be parsed and normalized before use. :raises InvalidVersion: If the ``version`` does not conform to PEP 440 in any way then this exception will be raised. """""" # Validate the version and parse it into pieces match = self._regex.search(version) if not match: raise InvalidVersion(f""Invalid version: '{version}'"") # Store the parsed out pieces of the version self._version = _Version( epoch=int(match.group(""epoch"")) if match.group(""epoch"") else 0, release=tuple(int(i) for i in match.group(""release"").split(""."")), pre=_parse_letter_version(match.group(""pre_l""), match.group(""pre_n"")), # noqa post=_parse_letter_version( match.group(""post_l""), match.group(""post_n1"") or match.group(""post_n2"") # noqa ), dev=_parse_letter_version(match.group(""dev_l""), match.group(""dev_n"")), # noqa local=_parse_local_version(match.group(""local"")), ) # Generate a key which will be used for sorting self._key = _cmpkey( self._version.epoch, self._version.release, self._version.pre, self._version.post, self._version.dev, self._version.local, ) def __repr__(self) -> str: """"""A representation of the Version that shows all internal state. >>> Version('1.0.0') <Version('1.0.0')> """""" return f""<Version('{self}')>"" def __str__(self) -> str: """"""A string representation of the version that can be rounded-tripped. >>> str(Version(""1.0a5"")) '1.0a5' """""" parts = [] # Epoch if self.epoch != 0: parts.append(f""{self.epoch}!"") # Release segment parts.append(""."".join(str(x) for x in self.release)) # Pre-release if self.pre is not None: parts.append("""".join(str(x) for x in self.pre)) # Post-release if self.post is not None: parts.append(f"".post{self.post}"") # Development release if self.dev is not None: parts.append(f"".dev{self.dev}"") # Local version segment if self.local is not None: parts.append(f""+{self.local}"") return """".join(parts) @property def epoch(self) -> int: """"""The epoch of the version. >>> Version(""2.0.0"").epoch 0 >>> Version(""1!2.0.0"").epoch 1 """""" _epoch: int = self._version.epoch return _epoch @property def release(self) -> Tuple[int, ...]: """"""The components of the ""release"" segment of the version. >>> Version(""1.2.3"").release (1, 2, 3) >>> Version(""2.0.0"").release (2, 0, 0) >>> Version(""1!2.0.0.post0"").release (2, 0, 0) Includes trailing zeroes but not the epoch or any pre-release / development / post-release suffixes. """""" _release: Tuple[int, ...] = self._version.release return _release @property def pre(self) -> Optional[Tuple[str, int]]: """"""The pre-release segment of the version. >>> print(Version(""1.2.3"").pre) None >>> Version(""1.2.3a1"").pre ('a', 1) >>> Version(""1.2.3b1"").pre ('b', 1) >>> Version(""1.2.3rc1"").pre ('rc', 1) """""" _pre: Optional[Tuple[str, int]] = self._version.pre return _pre @property def post(self) -> Optional[int]: """"""The post-release number of the version. >>> print(Version(""1.2.3"").post) None >>> Version(""1.2.3.post1"").post 1 """""" return self._version.post[1] if self._version.post else None @property def dev(self) -> Optional[int]: """"""The development number of the version. >>> print(Version(""1.2.3"").dev) None >>> Version(""1.2.3.dev1"").dev 1 """""" return self._version.dev[1] if self._version.dev else None @property def local(self) -> Optional[str]: """"""The local version segment of the version. >>> print(Version(""1.2.3"").local) None >>> Version(""1.2.3+abc"").local 'abc' """""" if self._version.local: return ""."".join(str(x) for x in self._version.local) else: return None @property def public(self) -> str: """"""The public portion of the version. >>> Version(""1.2.3"").public '1.2.3' >>> Version(""1.2.3+abc"").public '1.2.3' >>> Version(""1.2.3+abc.dev1"").public '1.2.3' """""" return str(self).split(""+"", 1)[0] @property def base_version(self) -> str: """"""The ""base version"" of the version. >>> Version(""1.2.3"").base_version '1.2.3' >>> Version(""1.2.3+abc"").base_version '1.2.3' >>> Version(""1!1.2.3+abc.dev1"").base_version '1!1.2.3' The ""base version"" is the public version of the project without any pre or post release markers. """""" parts = [] # Epoch if self.epoch != 0: parts.append(f""{self.epoch}!"") # Release segment parts.append(""."".join(str(x) for x in self.release)) return """".join(parts) @property def is_prerelease(self) -> bool: """"""Whether this version is a pre-release. >>> Version(""1.2.3"").is_prerelease False >>> Version(""1.2.3a1"").is_prerelease True >>> Version(""1.2.3b1"").is_prerelease True >>> Version(""1.2.3rc1"").is_prerelease True >>> Version(""1.2.3dev1"").is_prerelease True """""" return self.dev is not None or self.pre is not None @property def is_postrelease(self) -> bool: """"""Whether this version is a post-release. >>> Version(""1.2.3"").is_postrelease False >>> Version(""1.2.3.post1"").is_postrelease True """""" return self.post is not None @property def is_devrelease(self) -> bool: """"""Whether this version is a development release. >>> Version(""1.2.3"").is_devrelease False >>> Version(""1.2.3.dev1"").is_devrelease True """""" return self.dev is not None @property def major(self) -> int: """"""The first item of :attr:`release` or ``0`` if unavailable. >>> Version(""1.2.3"").major 1 """""" return self.release[0] if len(self.release) >= 1 else 0 @property def minor(self) -> int: """"""The second item of :attr:`release` or ``0`` if unavailable. >>> Version(""1.2.3"").minor 2 >>> Version(""1"").minor 0 """""" return self.release[1] if len(self.release) >= 2 else 0 @property def micro(self) -> int: """"""The third item of :attr:`release` or ``0`` if unavailable. >>> Version(""1.2.3"").micro 3 >>> Version(""1"").micro 0 """""" return self.release[2] if len(self.release) >= 3 else 0 def _parse_letter_version( letter: str, number: Union[str, bytes, SupportsInt] ) -> Optional[Tuple[str, int]]: if letter: # We consider there to be an implicit 0 in a pre-release if there is # not a numeral associated with it. if number is None: number = 0 # We normalize any letters to their lower case form letter = letter.lower() # We consider some words to be alternate spellings of other words and # in those cases we want to normalize the spellings to our preferred # spelling. if letter == ""alpha"": letter = ""a"" elif letter == ""beta"": letter = ""b"" elif letter in [""c"", ""pre"", ""preview""]: letter = ""rc"" elif letter in [""rev"", ""r""]: letter = ""post"" return letter, int(number) if not letter and number: # We assume if we are given a number, but we are not given a letter # then this is using the implicit post release syntax (e.g. 1.0-1) letter = ""post"" return letter, int(number) return None _local_version_separators = re.compile(r""[\._-]"") def _parse_local_version(local: str) -> Optional[LocalType]: """"""Takes a string like abc.1.twelve and turns into (""abc"", 1, ""twelve"")."""""" if local is not None: return tuple( part.lower() if not part.isdigit() else int(part) for part in _local_version_separators.split(local) ) return None def _cmpkey( epoch: int, release: Tuple[int, ...], pre: Optional[Tuple[str, int]], post: Optional[Tuple[str, int]], dev: Optional[Tuple[str, int]], local: Optional[Tuple[SubLocalType]], ) -> CmpKey: # When we compare a release version, we want to compare it with all of the # trailing zeros removed. So we'll use a reverse the list, drop all the now # leading zeros until we come to something non zero, then take the rest # re-reverse it back into the correct order and make it a tuple and use # that for our sorting key. _release = tuple( reversed(list(itertools.dropwhile(lambda x: x == 0, reversed(release)))) # noqa ) # We need to ""trick"" the sorting algorithm to put 1.0.dev0 before 1.0a0. # We'll do this by abusing the pre segment, but we _only_ want to do this # if there is not a pre or a post segment. If we have one of those then # the normal sorting rules will handle this case correctly. if pre is None and post is None and dev is not None: _pre: PrePostDevType = NegativeInfinity # Versions without a pre-release (except as noted above) should sort after # those with one. elif pre is None: _pre = Infinity else: _pre = pre # Versions without a post segment should sort before those with one. if post is None: _post: PrePostDevType = NegativeInfinity else: _post = post # Versions without a development segment should sort after those with one. if dev is None: _dev: PrePostDevType = Infinity else: _dev = dev if local is None: # Versions without a local segment should sort before those with one. _local: LocalType = NegativeInfinity else: # Versions with a local segment need that segment parsed to implement # the sorting rules in PEP440. # - Alpha numeric segments sort before numeric segments # - Alpha numeric segments sort lexicographically # - Numeric segments sort numerically # - Shorter versions sort before longer versions when the prefixes # match exactly _local = tuple( (i, """") if isinstance(i, int) else (NegativeInfinity, i) for i in local # noqa ) return epoch, _release, _pre, _post, _dev, _local ",,636,1
openstack%2Fcinder~master~Iea92cc59bc0d7d9a5c6e3046487c3eff8ba615e5,openstack/cinder,master,Iea92cc59bc0d7d9a5c6e3046487c3eff8ba615e5,SQLAlchemy API: Remove unused ref_get methods,NEW,2022-03-30 17:25:06.000000000,2022-10-13 16:22:47.000000000,,"[{'_account_id': 9236}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-30 17:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7cc637833378b8c26ba17e7e025472e8af5d651e', 'message': 'SQLAlchemy API: Remove unused ref_get methods\n\nThese methods are not called from anywhere.\n\nChange-Id: Iea92cc59bc0d7d9a5c6e3046487c3eff8ba615e5\n'}, {'number': 2, 'created': '2022-04-05 12:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c5ba5abf10633722684295dcd54b1320e87cfeb4', 'message': 'SQLAlchemy API: Remove unused ref_get methods\n\nThese methods are not called from anywhere.\n\nChange-Id: Iea92cc59bc0d7d9a5c6e3046487c3eff8ba615e5\n'}, {'number': 3, 'created': '2022-07-15 14:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e2bdc3ca158567e1999cb6f79530768ce7531b38', 'message': 'SQLAlchemy API: Remove unused ref_get methods\n\nThese methods are not called from anywhere.\n\nChange-Id: Iea92cc59bc0d7d9a5c6e3046487c3eff8ba615e5\n'}, {'number': 4, 'created': '2022-09-22 17:46:45.000000000', 'files': ['cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/079902117f7437772ccdd20188348cf633fece92', 'message': 'SQLAlchemy API: Remove unused ref_get methods\n\nThese methods are not called from anywhere.\n\nChange-Id: Iea92cc59bc0d7d9a5c6e3046487c3eff8ba615e5\n'}]",2,835878,079902117f7437772ccdd20188348cf633fece92,109,2,4,4523,,,0,"SQLAlchemy API: Remove unused ref_get methods

These methods are not called from anywhere.

Change-Id: Iea92cc59bc0d7d9a5c6e3046487c3eff8ba615e5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/78/835878/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/api.py'],1,7cc637833378b8c26ba17e7e025472e8af5d651e,,,"def _volume_type_ref_get(context, id, session=None, inactive=False): read_deleted = ""yes"" if inactive else ""no"" result = model_query(context, models.VolumeType, session=session, read_deleted=read_deleted).\ options(joinedload('extra_specs')).\ filter_by(id=id).\ first() if not result: raise exception.VolumeTypeNotFound(volume_type_id=id) return result @require_context def _group_type_ref_get(context, id, session=None, inactive=False): read_deleted = ""yes"" if inactive else ""no"" result = model_query(context, models.GroupType, session=session, read_deleted=read_deleted).\ options(joinedload('group_specs')).\ filter_by(id=id).\ first() if not result: raise exception.GroupTypeNotFound(group_type_id=id) return result @require_context",0,34
openstack%2Ftripleo-ansible~master~I9fa9488846485fc4a881e38de2e3fab6664242d2,openstack/tripleo-ansible,master,I9fa9488846485fc4a881e38de2e3fab6664242d2,tripleo_sshd: update for standalone roles,MERGED,2022-05-17 15:58:29.000000000,2022-10-13 16:20:26.000000000,2022-10-13 16:20:26.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-05-17 15:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bbed302e798b2414a6a06e097d4e3ca98b2f15ef', 'message': ""Add tripleo_sshd role to operating system playbooks\n\nThe role is refactored into install, config, and run tasks. The role's\ntasks/main.yml imports all 3 to maintain backwards compatibility.\n\nChange-Id: I9fa9488846485fc4a881e38de2e3fab6664242d2\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 2, 'created': '2022-05-18 21:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/09392845d2cfa1202347616cb916f392103589c0', 'message': ""Add tripleo_sshd role to operating system playbooks\n\nThe role is refactored into install, config, and run tasks. The role's\ntasks/main.yml imports all 3 to maintain backwards compatibility.\n\nChange-Id: I9fa9488846485fc4a881e38de2e3fab6664242d2\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 3, 'created': '2022-05-18 21:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1373d728092284542f8f0f10a515c4e3efc4bec6', 'message': ""Add tripleo_sshd role to operating system playbooks\n\nThe role is refactored into install, config, and run tasks. The role's\ntasks/main.yml imports all 3 to maintain backwards compatibility.\n\nChange-Id: I9fa9488846485fc4a881e38de2e3fab6664242d2\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 4, 'created': '2022-05-19 20:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3a51121fa82f4a1b46ef88541f54e41b17c76492', 'message': ""Add tripleo_sshd role to operating system playbooks\n\nThe role is refactored into install, config, and run tasks. The role's\ntasks/main.yml imports all 3 to maintain backwards compatibility.\n\nChange-Id: I9fa9488846485fc4a881e38de2e3fab6664242d2\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 5, 'created': '2022-05-25 02:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6ce4521e2d0f06c9e4a52e4d0c44f2d703636077', 'message': ""Add tripleo_sshd role to operating system playbooks\n\nThe role is refactored into install, config, and run tasks. The role's\ntasks/main.yml imports all 3 to maintain backwards compatibility.\n\nChange-Id: I9fa9488846485fc4a881e38de2e3fab6664242d2\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 6, 'created': '2022-05-25 21:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5ab6169f005b7788577b4181c78a3060e88eee6e', 'message': ""Add tripleo_sshd role to operating system playbooks\n\nThe role is refactored into install, config, and run tasks. The role's\ntasks/main.yml imports all 3 to maintain backwards compatibility.\n\nChange-Id: I9fa9488846485fc4a881e38de2e3fab6664242d2\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 7, 'created': '2022-05-31 20:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/96200ec18c81ec3278048399420b37d9778b74aa', 'message': ""Add tripleo_sshd role to operating system playbooks\n\nThe role is refactored into install, config, and run tasks. The role's\ntasks/main.yml imports all 3 to maintain backwards compatibility.\n\nChange-Id: I9fa9488846485fc4a881e38de2e3fab6664242d2\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 8, 'created': '2022-06-01 13:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7f1e27855f85dc12a49ca9096831d7403db8ce31', 'message': ""Add tripleo_sshd role to operating system playbooks\n\nThe role is refactored into install, config, and run tasks. The role's\ntasks/main.yml imports all 3 to maintain backwards compatibility.\n\nChange-Id: I9fa9488846485fc4a881e38de2e3fab6664242d2\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 9, 'created': '2022-06-09 21:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/46bec8ce40456a618893e6fc056224d7c8102286', 'message': ""Add tripleo_sshd role to operating system playbooks\n\nThe role is refactored into install, config, and run tasks. The role's\ntasks/main.yml imports all 3 to maintain backwards compatibility.\n\nChange-Id: I9fa9488846485fc4a881e38de2e3fab6664242d2\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 10, 'created': '2022-06-21 12:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/61ac2cf4c2ea5f224917078f48ae6ade15da4469', 'message': ""Add tripleo_sshd role to operating system playbooks\n\nThe role is refactored into install, config, and run tasks. The role's\ntasks/main.yml imports all 3 to maintain backwards compatibility.\n\nChange-Id: I9fa9488846485fc4a881e38de2e3fab6664242d2\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 11, 'created': '2022-06-23 13:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e82c675c397e0a8ca2d2faa5a937cfecf95b6522', 'message': ""Add tripleo_sshd role to operating system playbooks\n\nThe role is refactored into install, config, and run tasks. The role's\ntasks/main.yml imports all 3 to maintain backwards compatibility.\n\nChange-Id: I9fa9488846485fc4a881e38de2e3fab6664242d2\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 12, 'created': '2022-06-27 15:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f88c77e6a799038a66a4499868596a6d7e86083d', 'message': ""Add tripleo_sshd role to operating system playbooks\n\nThe role is refactored into install, config, and run tasks. The role's\ntasks/main.yml imports all 3 to maintain backwards compatibility.\n\nChange-Id: I9fa9488846485fc4a881e38de2e3fab6664242d2\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 13, 'created': '2022-07-06 15:41:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6570aca4c87076ead05ccb24068b875fb361650e', 'message': ""tripleo_sshd: update for standalone roles\n\nThe role is refactored into install, config, and run tasks. The role's\ntasks/main.yml imports all 3 to maintain backwards compatibility.\n\nChange-Id: I9fa9488846485fc4a881e38de2e3fab6664242d2\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 14, 'created': '2022-07-08 15:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/250031ea2199cd175686978eb36a6f9a93c57c37', 'message': ""tripleo_sshd: update for standalone roles\n\nThe role is refactored into install, config, and run tasks. The role's\ntasks/main.yml imports all 3 to maintain backwards compatibility.\n\nChange-Id: I9fa9488846485fc4a881e38de2e3fab6664242d2\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 15, 'created': '2022-07-08 16:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5310c40eb79a1c19182bf361cac932e6c6e17c7b', 'message': ""tripleo_sshd: update for standalone roles\n\nThe role is refactored into install, config, and run tasks. The role's\ntasks/main.yml imports all 3 to maintain backwards compatibility.\n\nChange-Id: I9fa9488846485fc4a881e38de2e3fab6664242d2\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 16, 'created': '2022-09-23 00:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1b965db11ea2dd42542bc48cd052fa392c4fca0b', 'message': ""tripleo_sshd: update for standalone roles\n\nThe role is refactored into install, config, and run tasks. The role's\ntasks/main.yml imports all 3 to maintain backwards compatibility.\n\nChange-Id: I9fa9488846485fc4a881e38de2e3fab6664242d2\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 17, 'created': '2022-09-23 17:50:13.000000000', 'files': ['tripleo_ansible/roles/tripleo_sshd/molecule/banners/molecule.yml', 'tripleo_ansible/roles/tripleo_sshd/tasks/load_vars.yml', 'tripleo_ansible/roles/tripleo_sshd/tasks/configure.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/gssapi/molecule.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_sshd/tasks/run.yml', 'tripleo_ansible/roles/tripleo_sshd/defaults/main.yml', 'tripleo_ansible/roles/tripleo_sshd/tasks/install.yml', 'ansible-test-env-podman.rc', 'tripleo_ansible/roles/tripleo_sshd/tasks/main.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/default/Dockerfile.j2', 'tripleo_ansible/roles/tripleo_sshd/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/212936fb33533bd79fc2852992f9a9ac77a10d2c', 'message': ""tripleo_sshd: update for standalone roles\n\nThe role is refactored into install, config, and run tasks. The role's\ntasks/main.yml imports all 3 to maintain backwards compatibility.\n\nChange-Id: I9fa9488846485fc4a881e38de2e3fab6664242d2\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}]",17,842150,212936fb33533bd79fc2852992f9a9ac77a10d2c,77,5,17,7144,,,0,"tripleo_sshd: update for standalone roles

The role is refactored into install, config, and run tasks. The role's
tasks/main.yml imports all 3 to maintain backwards compatibility.

Change-Id: I9fa9488846485fc4a881e38de2e3fab6664242d2
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/50/842150/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_sshd/defaults/main.yml', 'tripleo_ansible/playbooks/deploy-tripleo-os-run.yaml', 'tripleo_ansible/roles/tripleo_sshd/tasks/install.yml', 'tripleo_ansible/roles/tripleo_sshd/tasks/configure.yml', 'tripleo_ansible/playbooks/deploy-tripleo-os-configure.yaml', 'tripleo_ansible/playbooks/deploy-tripleo-os-install.yaml', 'tripleo_ansible/roles/tripleo_sshd/tasks/main.yml', 'tripleo_ansible/roles/tripleo_sshd/tasks/run.yml']",8,bbed302e798b2414a6a06e097d4e3ca98b2f15ef,standalone-roles,"--- # Copyright 2022 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # found within the ""vars/"" path. If no OS files are found the task will skip. - name: Gather variables for each operating system include_vars: ""{{ item }}"" with_first_found: - skip: true files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" tags: - always - name: Run sshd tasks as root become: true block: - name: Enable sshd systemd: name: sshd enabled: true - name: Start sshd systemd: name: sshd state: started - name: Restart sshd due to config change systemd: name: sshd state: reloaded when: - _sshd_config_result_changed | default(false) ",,220,92
openstack%2Fneutron~stable%2Fzed~I27af495f96a3ea88dd31345dbfb55f1be8faabd6,openstack/neutron,stable/zed,I27af495f96a3ea88dd31345dbfb55f1be8faabd6,ovn: Use ovsdb-client to create neutron_pg_drop,MERGED,2022-10-11 17:38:39.000000000,2022-10-13 16:15:54.000000000,2022-10-13 16:14:24.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-11 17:38:39.000000000', 'files': ['neutron/common/ovn/utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/common/ovn/test_utils.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5deea002aa4da506dc7c931c97cfc2414e66868b', 'message': 'ovn: Use ovsdb-client to create neutron_pg_drop\n\nPreviously we used short living OVN database connection to create\nneutron_pg_drop Port Group before workers were spawned. The\npre_fork_initialize actually happens after the api workers are spawned\nanyways and it blocks spawning of other workers, such as maintenance,\nrpc or periodic. If the OVN database was large it may take several\nminutes to connect to the database at scale and this blocks spawning of\nother workers. That means connecting to OVN in pre_fork is not a good\nidea.\n\nThis patch replaces the mechanism by using ovsdb-client to send a\ntransaction without connecting to the database and downloading the whole\ncontent. The command does following, everything is on the server side:\n\n 1) With timeout 0 it waits for neutron_pg_drop Port Group. If the PG is\n    present, the transaction finishes and nothing happens.\n\n 2) If the PG is not present, it times out immediately and commits new\n    entries that effectivelly creates neutron_pg_drop Port Group with\n    implicit ACLs to block ingress and egress traffic.\n\nConflicts:\n\tneutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n\nCloses-Bug: #1991579\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\n\nChange-Id: I27af495f96a3ea88dd31345dbfb55f1be8faabd6\n(cherry picked from commit 50eee19723b2d762c2b5653e7a2c75e470f44cdf)\n'}]",1,860968,5deea002aa4da506dc7c931c97cfc2414e66868b,9,3,1,8655,,,0,"ovn: Use ovsdb-client to create neutron_pg_drop

Previously we used short living OVN database connection to create
neutron_pg_drop Port Group before workers were spawned. The
pre_fork_initialize actually happens after the api workers are spawned
anyways and it blocks spawning of other workers, such as maintenance,
rpc or periodic. If the OVN database was large it may take several
minutes to connect to the database at scale and this blocks spawning of
other workers. That means connecting to OVN in pre_fork is not a good
idea.

This patch replaces the mechanism by using ovsdb-client to send a
transaction without connecting to the database and downloading the whole
content. The command does following, everything is on the server side:

 1) With timeout 0 it waits for neutron_pg_drop Port Group. If the PG is
    present, the transaction finishes and nothing happens.

 2) If the PG is not present, it times out immediately and commits new
    entries that effectivelly creates neutron_pg_drop Port Group with
    implicit ACLs to block ingress and egress traffic.

Conflicts:
	neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py

Closes-Bug: #1991579
Co-Authored-By: Terry Wilson <twilson@redhat.com>

Change-Id: I27af495f96a3ea88dd31345dbfb55f1be8faabd6
(cherry picked from commit 50eee19723b2d762c2b5653e7a2c75e470f44cdf)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/68/860968/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ovn/utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/common/ovn/test_utils.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",9,5deea002aa4da506dc7c931c97cfc2414e66868b,bug/1991579," ovn_utils.create_neutron_pg_drop() cmd = [ ""OVN_Southbound"", { ""op"": ""delete"", ""table"": ""MAC_Binding"", ""where"": [ [""ip"", ""=="", external_ip] ] } ] return ovn_utils.OvsdbClientTransactCommand.run(cmd)","from oslo_concurrency import processutilsfrom neutron.plugins.ml2.drivers.ovn.mech_driver.ovsdb import ovsdb_monitor self._create_neutron_pg_drop() def _create_neutron_pg_drop(self): """"""Create neutron_pg_drop Port Group. The method creates a short living connection to the Northbound database. Because of multiple controllers can attempt to create the Port Group at the same time the transaction can fail and raise RuntimeError. In such case, we make sure the Port Group was created, otherwise the error is something else and it's raised to the caller. """""" idl = ovsdb_monitor.OvnInitPGNbIdl.from_server( ovn_conf.get_ovn_nb_connection(), self.nb_schema_helper, self) # Only one server should try to create the port group idl.set_lock('pg_drop_creation') with ovsdb_monitor.short_living_ovsdb_api( impl_idl_ovn.OvsdbNbOvnIdl, idl) as pre_ovn_nb_api: try: create_default_drop_port_group(pre_ovn_nb_api) except KeyError: # Due to a bug in python-ovs, we can send transactions before # the initial OVSDB is populated in memory. This can break # the AddCommand post_commit method which tries to return a # row looked up by the newly commited row's uuid. Since we # don't care about the return value from the PgAddCommand, we # can just catch the KeyError and continue. This can be # removed when the python-ovs bug is resolved. pass except RuntimeError as re: # If we don't get the lock, and the port group didn't exist # when we tried to create it, it might still have been # created by another server and we just haven't gotten the # update yet. LOG.info(""Waiting for Port Group %(pg)s to be created"", {'pg': ovn_const.OVN_DROP_PORT_GROUP_NAME}) if not idl.neutron_pg_drop_event.wait(): LOG.error(""Port Group %(pg)s was not created in time"", {'pg': ovn_const.OVN_DROP_PORT_GROUP_NAME}) raise re LOG.info(""Porg Group %(pg)s was created by another server"", {'pg': ovn_const.OVN_DROP_PORT_GROUP_NAME}) cmd = ['ovsdb-client', 'transact', ovn_conf.get_ovn_sb_connection(), '--timeout', str(ovn_conf.get_ovn_ovsdb_timeout())] if ovn_conf.get_ovn_sb_private_key(): cmd += ['-p', ovn_conf.get_ovn_sb_private_key(), '-c', ovn_conf.get_ovn_sb_certificate(), '-C', ovn_conf.get_ovn_sb_ca_cert()] cmd += ['[""OVN_Southbound"", {""op"": ""delete"", ""table"": ""MAC_Binding"", ' '""where"": [[""ip"", ""=="", ""%s""]]}]' % external_ip] return processutils.execute(*cmd, log_errors=processutils.LOG_FINAL_ERROR)def create_default_drop_port_group(nb_idl): pg_name = ovn_const.OVN_DROP_PORT_GROUP_NAME if nb_idl.get_port_group(pg_name): LOG.debug(""Port Group %s already exists"", pg_name) return with nb_idl.transaction(check_error=True) as txn: # If drop Port Group doesn't exist yet, create it. txn.add(nb_idl.pg_add(pg_name, acls=[], may_exist=True)) # Add ACLs to this Port Group so that all traffic is dropped. acls = ovn_acl.add_acls_for_drop_port_group(pg_name) for acl in acls: txn.add(nb_idl.pg_acl_add(may_exist=True, **acl)) ports_with_pg = set() for pg in nb_idl.get_sg_port_groups().values(): ports_with_pg.update(pg['ports']) if ports_with_pg: # Add the ports to the default Port Group txn.add(nb_idl.pg_add_ports(pg_name, list(ports_with_pg))) ",315,291
openstack%2Fcharm-cinder-netapp~stable%2Fussuri~I4cd1b67996aa48673a61b497a038e2d30c08086e,openstack/charm-cinder-netapp,stable/ussuri,I4cd1b67996aa48673a61b497a038e2d30c08086e,Pin build.lock for all layers to the commit hash,MERGED,2022-09-28 13:18:53.000000000,2022-10-13 16:11:48.000000000,2022-10-13 16:11:48.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-28 13:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-netapp/commit/c274e1305428d9d5e575613ec69aa96c739ff8ed', 'message': ""Pin build.lock for all layers to the commit hash\n\nThis charm was missing the build.lock file, so it wasn't actually\nlocking any of the files.\n\nChange-Id: I4cd1b67996aa48673a61b497a038e2d30c08086e\n""}, {'number': 2, 'created': '2022-10-10 10:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-netapp/commit/7951cf5878d678276eb884af55fab5d60bdc9b01', 'message': ""Pin build.lock for all layers to the commit hash\n\nThis charm was missing the build.lock file, so it wasn't actually\nlocking any of the files.\n\nChange-Id: I4cd1b67996aa48673a61b497a038e2d30c08086e\n""}, {'number': 3, 'created': '2022-10-10 11:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-netapp/commit/35c57cb5fb5e65ab2e43d28c39bd55fb0c7975d5', 'message': ""Pin build.lock for all layers to the commit hash\n\nThis charm was missing the build.lock file, so it wasn't actually\nlocking any of the files.\n\nChange-Id: I4cd1b67996aa48673a61b497a038e2d30c08086e\n""}, {'number': 4, 'created': '2022-10-10 13:30:03.000000000', 'files': ['test-requirements.txt', 'src/wheelhouse.txt', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-cinder-netapp/commit/6d2c70afe1874b6c099e2429a2588b5d1a6c3c87', 'message': ""Pin build.lock for all layers to the commit hash\n\nThis charm was missing the build.lock file, so it wasn't actually\nlocking any of the files.\n\nChange-Id: I4cd1b67996aa48673a61b497a038e2d30c08086e\n""}]",0,859582,6d2c70afe1874b6c099e2429a2588b5d1a6c3c87,15,3,4,20870,,,0,"Pin build.lock for all layers to the commit hash

This charm was missing the build.lock file, so it wasn't actually
locking any of the files.

Change-Id: I4cd1b67996aa48673a61b497a038e2d30c08086e
",git fetch https://review.opendev.org/openstack/charm-cinder-netapp refs/changes/82/859582/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,c274e1305428d9d5e575613ec69aa96c739ff8ed,ussuri-lock-layers,"{ ""locks"": [ { ""type"": ""layer"", ""item"": ""layer:options"", ""url"": ""https://github.com/juju-solutions/layer-options.git"", ""vcs"": null, ""branch"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"", ""commit"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"" }, { ""type"": ""layer"", ""item"": ""layer:basic"", ""url"": ""https://github.com/juju-solutions/layer-basic.git"", ""vcs"": null, ""branch"": ""edec607e05812df8d226b4aed71d09373767c0d7"", ""commit"": ""edec607e05812df8d226b4aed71d09373767c0d7"" }, { ""type"": ""layer"", ""item"": ""layer:openstack"", ""url"": ""https://github.com/openstack/charm-layer-openstack"", ""vcs"": null, ""branch"": ""f9a11fde2e136fc45ee619f3e94eb93fcffb117d"", ""commit"": ""f9a11fde2e136fc45ee619f3e94eb93fcffb117d"" }, { ""type"": ""layer"", ""item"": ""cinder-netapp"", ""url"": null, ""vcs"": null, ""branch"": ""3030d88452d4783ad50d413e0b64d442c3cafa34"", ""commit"": ""3030d88452d4783ad50d413e0b64d442c3cafa34"" }, { ""type"": ""layer"", ""item"": ""interface:tls-certificates"", ""url"": ""https://github.com/juju-solutions/interface-tls-certificates"", ""vcs"": null, ""branch"": ""d9850016d930a6d507b9fd45e2598d327922b140"", ""commit"": ""d9850016d930a6d507b9fd45e2598d327922b140"" }, { ""type"": ""layer"", ""item"": ""interface:cinder-backend"", ""url"": ""https://github.com/openstack/charm-interface-cinder-backend.git"", ""vcs"": null, ""branch"": ""baa1b4f61ff610caf60a7b13841e8d68ce3842d1"", ""commit"": ""baa1b4f61ff610caf60a7b13841e8d68ce3842d1"" }, { ""type"": ""python_module"", ""package"": ""netifaces"", ""vcs"": null, ""version"": ""0.11.0"" }, { ""type"": ""python_module"", ""package"": ""charms.openstack"", ""url"": ""git+https://github.com/openstack/charms.openstack.git"", ""branch"": ""bf2e867e9e18c28b0e1ba813440ec771b520b2aa"", ""version"": ""bf2e867e9e18c28b0e1ba813440ec771b520b2aa"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""wheel"", ""vcs"": null, ""version"": ""0.33.6"" }, { ""type"": ""python_module"", ""package"": ""six"", ""vcs"": null, ""version"": ""1.16.0"" }, { ""type"": ""python_module"", ""package"": ""pbr"", ""vcs"": null, ""version"": ""5.10.0"" }, { ""type"": ""python_module"", ""package"": ""dnspython"", ""vcs"": null, ""version"": ""2.2.1"" }, { ""type"": ""python_module"", ""package"": ""setuptools"", ""vcs"": null, ""version"": ""41.6.0"" }, { ""type"": ""python_module"", ""package"": ""pyaml"", ""vcs"": null, ""version"": ""21.10.1"" }, { ""type"": ""python_module"", ""package"": ""MarkupSafe"", ""vcs"": null, ""version"": ""2.0.1"" }, { ""type"": ""python_module"", ""package"": ""Jinja2"", ""vcs"": null, ""version"": ""3.0.3"" }, { ""type"": ""python_module"", ""package"": ""setuptools_scm"", ""vcs"": null, ""version"": ""1.17.0"" }, { ""type"": ""python_module"", ""package"": ""pip"", ""vcs"": null, ""version"": ""18.1"" }, { ""type"": ""python_module"", ""package"": ""netaddr"", ""vcs"": null, ""version"": ""0.7.19"" }, { ""type"": ""python_module"", ""package"": ""psutil"", ""vcs"": null, ""version"": ""5.9.2"" }, { ""type"": ""python_module"", ""package"": ""charmhelpers"", ""url"": ""git+https://github.com/juju/charm-helpers"", ""branch"": ""stable/ussuri"", ""version"": ""cb00da6179b1f87c87d22e7ee3b3868ce37d1bbb"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""charms.reactive"", ""vcs"": null, ""version"": ""1.5.1"" }, { ""type"": ""python_module"", ""package"": ""PyYAML"", ""vcs"": null, ""version"": ""5.3.1"" } ] }",,158,0
openstack%2Fcharm-cinder-netapp~stable%2Ftrain~Iac6e56f9b5954da827cc80bd48a4e33e19397dbf,openstack/charm-cinder-netapp,stable/train,Iac6e56f9b5954da827cc80bd48a4e33e19397dbf,Pin build.lock for all layers to the commit hash,MERGED,2022-09-28 15:35:31.000000000,2022-10-13 16:11:47.000000000,2022-10-13 16:11:47.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-28 15:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-netapp/commit/c32eb016cfbb3d99f4df8f315eb8c6b13070636c', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: Iac6e56f9b5954da827cc80bd48a4e33e19397dbf\n'}, {'number': 2, 'created': '2022-10-10 10:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-netapp/commit/ed1f333f7fa105b5e11e35b8fe7da3dbaeac63d6', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: Iac6e56f9b5954da827cc80bd48a4e33e19397dbf\n'}, {'number': 3, 'created': '2022-10-10 11:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-netapp/commit/516b8045b0203bd63e30700235337234574bc316', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: Iac6e56f9b5954da827cc80bd48a4e33e19397dbf\n'}, {'number': 4, 'created': '2022-10-10 13:29:15.000000000', 'files': ['test-requirements.txt', 'src/wheelhouse.txt', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-cinder-netapp/commit/b53c5fd0a0da81987f5bf615d7de9b067ab9812c', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: Iac6e56f9b5954da827cc80bd48a4e33e19397dbf\n'}]",1,859633,b53c5fd0a0da81987f5bf615d7de9b067ab9812c,16,3,4,20870,,,0,"Pin build.lock for all layers to the commit hash

The build.lock branch points to master which means that the layer is not
locked.  Lock the layers to the commit hash instead; this ensures
reproducible builds as much as possible.

Change-Id: Iac6e56f9b5954da827cc80bd48a4e33e19397dbf
",git fetch https://review.opendev.org/openstack/charm-cinder-netapp refs/changes/33/859633/4 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,c32eb016cfbb3d99f4df8f315eb8c6b13070636c,train-lock-layers,"{ ""locks"": [ { ""type"": ""layer"", ""item"": ""layer:options"", ""url"": ""https://github.com/juju-solutions/layer-options.git"", ""vcs"": null, ""branch"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"", ""commit"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"" }, { ""type"": ""layer"", ""item"": ""layer:basic"", ""url"": ""https://github.com/juju-solutions/layer-basic.git"", ""vcs"": null, ""branch"": ""edec607e05812df8d226b4aed71d09373767c0d7"", ""commit"": ""edec607e05812df8d226b4aed71d09373767c0d7"" }, { ""type"": ""layer"", ""item"": ""layer:openstack"", ""url"": ""https://github.com/openstack/charm-layer-openstack"", ""vcs"": null, ""branch"": ""f9a11fde2e136fc45ee619f3e94eb93fcffb117d"", ""commit"": ""f9a11fde2e136fc45ee619f3e94eb93fcffb117d"" }, { ""type"": ""layer"", ""item"": ""cinder-netapp"", ""url"": null, ""vcs"": null, ""branch"": ""4a3d3c618147d11c42186146dda767a598c0fc75"", ""commit"": ""4a3d3c618147d11c42186146dda767a598c0fc75"" }, { ""type"": ""layer"", ""item"": ""interface:tls-certificates"", ""url"": ""https://github.com/juju-solutions/interface-tls-certificates"", ""vcs"": null, ""branch"": ""d9850016d930a6d507b9fd45e2598d327922b140"", ""commit"": ""d9850016d930a6d507b9fd45e2598d327922b140"" }, { ""type"": ""layer"", ""item"": ""interface:cinder-backend"", ""url"": ""https://github.com/openstack/charm-interface-cinder-backend.git"", ""vcs"": null, ""branch"": ""baa1b4f61ff610caf60a7b13841e8d68ce3842d1"", ""commit"": ""baa1b4f61ff610caf60a7b13841e8d68ce3842d1"" }, { ""type"": ""python_module"", ""package"": ""Jinja2"", ""vcs"": null, ""version"": ""3.0.3"" }, { ""type"": ""python_module"", ""package"": ""pyaml"", ""vcs"": null, ""version"": ""21.10.1"" }, { ""type"": ""python_module"", ""package"": ""dnspython"", ""vcs"": null, ""version"": ""2.2.1"" }, { ""type"": ""python_module"", ""package"": ""netaddr"", ""vcs"": null, ""version"": ""0.7.19"" }, { ""type"": ""python_module"", ""package"": ""MarkupSafe"", ""vcs"": null, ""version"": ""2.0.1"" }, { ""type"": ""python_module"", ""package"": ""setuptools_scm"", ""vcs"": null, ""version"": ""1.17.0"" }, { ""type"": ""python_module"", ""package"": ""setuptools"", ""vcs"": null, ""version"": ""41.6.0"" }, { ""type"": ""python_module"", ""package"": ""PyYAML"", ""vcs"": null, ""version"": ""5.3.1"" }, { ""type"": ""python_module"", ""package"": ""psutil"", ""vcs"": null, ""version"": ""5.9.2"" }, { ""type"": ""python_module"", ""package"": ""charms.reactive"", ""vcs"": null, ""version"": ""1.5.1"" }, { ""type"": ""python_module"", ""package"": ""netifaces"", ""vcs"": null, ""version"": ""0.11.0"" }, { ""type"": ""python_module"", ""package"": ""wheel"", ""vcs"": null, ""version"": ""0.33.6"" }, { ""type"": ""python_module"", ""package"": ""charms.openstack"", ""url"": ""git+https://github.com/openstack/charms.openstack.git"", ""branch"": ""bf2e867e9e18c28b0e1ba813440ec771b520b2aa"", ""version"": ""bf2e867e9e18c28b0e1ba813440ec771b520b2aa"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""pip"", ""vcs"": null, ""version"": ""18.1"" }, { ""type"": ""python_module"", ""package"": ""pbr"", ""vcs"": null, ""version"": ""5.10.0"" }, { ""type"": ""python_module"", ""package"": ""charmhelpers"", ""url"": ""git+https://github.com/juju/charm-helpers"", ""branch"": ""stable/train"", ""version"": ""13fc2babe1999df87aaf149c549d8140289837a3"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""six"", ""vcs"": null, ""version"": ""1.16.0"" } ] }",,158,0
openstack%2Fcharm-cinder-netapp~stable%2Fxena~Id9938cd701b1ca9aad50ab423c5f4de3b824a07e,openstack/charm-cinder-netapp,stable/xena,Id9938cd701b1ca9aad50ab423c5f4de3b824a07e,Pin build.lock for all layers to the commit hash,MERGED,2022-09-28 18:55:59.000000000,2022-10-13 16:11:46.000000000,2022-10-13 16:11:46.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-28 18:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-netapp/commit/483bba81bc79ae7bd5a15efb862730bd22d41d14', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: Id9938cd701b1ca9aad50ab423c5f4de3b824a07e\n'}, {'number': 2, 'created': '2022-10-10 10:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-netapp/commit/f70cc704da3ac7e2fa5e9e20dd242508d1825880', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: Id9938cd701b1ca9aad50ab423c5f4de3b824a07e\n'}, {'number': 3, 'created': '2022-10-10 11:53:06.000000000', 'files': ['src/wheelhouse.txt', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-cinder-netapp/commit/c61ef90214e30f9c04703cae35e2e81ced0e7ab3', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: Id9938cd701b1ca9aad50ab423c5f4de3b824a07e\n'}]",6,859694,c61ef90214e30f9c04703cae35e2e81ced0e7ab3,19,3,3,20870,,,0,"Pin build.lock for all layers to the commit hash

The build.lock branch points to master which means that the layer is not
locked.  Lock the layers to the commit hash instead; this ensures
reproducible builds as much as possible.

Change-Id: Id9938cd701b1ca9aad50ab423c5f4de3b824a07e
",git fetch https://review.opendev.org/openstack/charm-cinder-netapp refs/changes/94/859694/2 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,483bba81bc79ae7bd5a15efb862730bd22d41d14,xena-lock-layers,"{ ""locks"": [ { ""type"": ""layer"", ""item"": ""layer:options"", ""url"": ""https://github.com/juju-solutions/layer-options.git"", ""vcs"": null, ""branch"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"", ""commit"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"" }, { ""type"": ""layer"", ""item"": ""layer:basic"", ""url"": ""https://github.com/juju-solutions/layer-basic.git"", ""vcs"": null, ""branch"": ""edec607e05812df8d226b4aed71d09373767c0d7"", ""commit"": ""edec607e05812df8d226b4aed71d09373767c0d7"" }, { ""type"": ""layer"", ""item"": ""layer:openstack"", ""url"": ""https://github.com/openstack/charm-layer-openstack"", ""vcs"": null, ""branch"": ""f9a11fde2e136fc45ee619f3e94eb93fcffb117d"", ""commit"": ""f9a11fde2e136fc45ee619f3e94eb93fcffb117d"" }, { ""type"": ""layer"", ""item"": ""cinder-netapp"", ""url"": null, ""vcs"": null, ""branch"": ""f59773564409f49820f3edaf0e5ed93765a351e1"", ""commit"": ""f59773564409f49820f3edaf0e5ed93765a351e1"" }, { ""type"": ""layer"", ""item"": ""interface:tls-certificates"", ""url"": ""https://github.com/juju-solutions/interface-tls-certificates"", ""vcs"": null, ""branch"": ""d9850016d930a6d507b9fd45e2598d327922b140"", ""commit"": ""d9850016d930a6d507b9fd45e2598d327922b140"" }, { ""type"": ""layer"", ""item"": ""interface:cinder-backend"", ""url"": ""https://github.com/openstack/charm-interface-cinder-backend.git"", ""vcs"": null, ""branch"": ""baa1b4f61ff610caf60a7b13841e8d68ce3842d1"", ""commit"": ""baa1b4f61ff610caf60a7b13841e8d68ce3842d1"" }, { ""type"": ""python_module"", ""package"": ""Jinja2"", ""vcs"": null, ""version"": ""3.1.2"" }, { ""type"": ""python_module"", ""package"": ""pyaml"", ""vcs"": null, ""version"": ""21.10.1"" }, { ""type"": ""python_module"", ""package"": ""charms.openstack"", ""url"": ""git+https://github.com/openstack/charms.openstack.git"", ""branch"": ""bf2e867e9e18c28b0e1ba813440ec771b520b2aa"", ""version"": ""bf2e867e9e18c28b0e1ba813440ec771b520b2aa"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""netifaces"", ""vcs"": null, ""version"": ""0.11.0"" }, { ""type"": ""python_module"", ""package"": ""packaging"", ""vcs"": null, ""version"": ""21.3"" }, { ""type"": ""python_module"", ""package"": ""pyparsing"", ""vcs"": null, ""version"": ""3.0.9"" }, { ""type"": ""python_module"", ""package"": ""netaddr"", ""vcs"": null, ""version"": ""0.7.19"" }, { ""type"": ""python_module"", ""package"": ""pbr"", ""vcs"": null, ""version"": ""5.10.0"" }, { ""type"": ""python_module"", ""package"": ""six"", ""vcs"": null, ""version"": ""1.16.0"" }, { ""type"": ""python_module"", ""package"": ""dnspython"", ""vcs"": null, ""version"": ""2.2.1"" }, { ""type"": ""python_module"", ""package"": ""wheel"", ""vcs"": null, ""version"": ""0.37.1"" }, { ""type"": ""python_module"", ""package"": ""pip"", ""vcs"": null, ""version"": ""22.0.4"" }, { ""type"": ""python_module"", ""package"": ""setuptools"", ""vcs"": null, ""version"": ""62.1.0"" }, { ""type"": ""python_module"", ""package"": ""charms.reactive"", ""vcs"": null, ""version"": ""1.5.1"" }, { ""type"": ""python_module"", ""package"": ""setuptools_scm"", ""vcs"": null, ""version"": ""6.4.2"" }, { ""type"": ""python_module"", ""package"": ""charmhelpers"", ""url"": ""git+https://github.com/juju/charm-helpers"", ""branch"": ""stable/xena"", ""version"": ""dce5a1380270d84c418682dc0fde1a352a67fa30"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""flit_core"", ""vcs"": null, ""version"": ""3.7.1"" }, { ""type"": ""python_module"", ""package"": ""PyYAML"", ""vcs"": null, ""version"": ""5.3.1"" }, { ""type"": ""python_module"", ""package"": ""MarkupSafe"", ""vcs"": null, ""version"": ""2.1.1"" }, { ""type"": ""python_module"", ""package"": ""psutil"", ""vcs"": null, ""version"": ""5.9.2"" }, { ""type"": ""python_module"", ""package"": ""tomli"", ""vcs"": null, ""version"": ""2.0.1"" } ] } ",,182,0
openstack%2Fcharm-keystone-saml-mellon~stable%2Fvictoria~I1d4e5c886d98c00b89034f1d404b17032d91f748,openstack/charm-keystone-saml-mellon,stable/victoria,I1d4e5c886d98c00b89034f1d404b17032d91f748,Pin build.lock for all layers to the commit hash,MERGED,2022-09-21 13:48:16.000000000,2022-10-13 16:10:23.000000000,2022-10-13 16:10:23.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-21 13:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/260ea06cb98e19c6febe38f17c7ab8844ea6ac85', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: I1d4e5c886d98c00b89034f1d404b17032d91f748\n'}, {'number': 2, 'created': '2022-10-11 11:02:31.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/b508734f41e08a710e8997f567747ea3c8c2194d', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: I1d4e5c886d98c00b89034f1d404b17032d91f748\n'}]",1,858714,b508734f41e08a710e8997f567747ea3c8c2194d,10,3,2,20870,,,0,"Pin build.lock for all layers to the commit hash

The build.lock branch points to master which means that the layer is not
locked.  Lock the layers to the commit hash instead; this ensures
reproducible builds as much as possible.

Change-Id: I1d4e5c886d98c00b89034f1d404b17032d91f748
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/14/858714/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,260ea06cb98e19c6febe38f17c7ab8844ea6ac85,victoria-lock-layers," ""branch"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"", ""branch"": ""a3ff62c32c993d80417f6e093e3ef95e42f62083"", ""branch"": ""207bac8bec837edc6a4d6003f51d5b59d2d75adb"", ""branch"": ""cc5bd3f49b2fa5e6c3ab2336763c313ec8bf083f"", ""branch"": ""d9850016d930a6d507b9fd45e2598d327922b140"", ""branch"": ""be0926efafaa9ffe1df84f2fbd6b8a5d3d58b270"", ""branch"": ""b7c066abf22edec30af17c3da4612cd398b1306a"", ""branch"": ""4e2f90052b3c02031d09f10900c9e9cb22565dee"","," ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"",",8,8
openstack%2Fneutron~stable%2Fxena~Ib3945d294601b35f9b268c25841cd284b52c4ca3,openstack/neutron,stable/xena,Ib3945d294601b35f9b268c25841cd284b52c4ca3,[L3HA] Don't update HA router's ports if router isn't active on agents,MERGED,2022-10-11 03:39:32.000000000,2022-10-13 16:09:28.000000000,2022-10-13 16:07:58.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-11 03:39:32.000000000', 'files': ['neutron/tests/unit/db/test_l3_hamode_db.py', 'neutron/api/rpc/handlers/l3_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d44fa77319b129c15eb94cc8a3c1b128010a7ef2', 'message': '[L3HA] Don\'t update HA router\'s ports if router isn\'t active on agents\n\nIn case when HA router isn\'t active on any L3 agent,\n_ensure_host_set_on_port method shouldn\'t try to update port\'s host to\nthe host from which there was an rpc message sent, as this can be host\non which router is in the ""standby"" mode.\nThis method should only update port\'s host to the router\'s ""active_host""\nif there is such active_host found already.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/841489\n\nCloses-Bug: #1973162\nCloses-Bug: #1942190\nChange-Id: Ib3945d294601b35f9b268c25841cd284b52c4ca3\n(cherry picked from commit cd8bf18150c8b0a4bc64979d800726483d9cdb6e)\n'}]",0,860894,d44fa77319b129c15eb94cc8a3c1b128010a7ef2,12,3,1,9531,,,0,"[L3HA] Don't update HA router's ports if router isn't active on agents

In case when HA router isn't active on any L3 agent,
_ensure_host_set_on_port method shouldn't try to update port's host to
the host from which there was an rpc message sent, as this can be host
on which router is in the ""standby"" mode.
This method should only update port's host to the router's ""active_host""
if there is such active_host found already.

Depends-On: https://review.opendev.org/c/openstack/requirements/+/841489

Closes-Bug: #1973162
Closes-Bug: #1942190
Change-Id: Ib3945d294601b35f9b268c25841cd284b52c4ca3
(cherry picked from commit cd8bf18150c8b0a4bc64979d800726483d9cdb6e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/860894/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_hamode_db.py', 'neutron/api/rpc/handlers/l3_rpc.py']",2,d44fa77319b129c15eb94cc8a3c1b128010a7ef2,bug/1973162," if not active_host: LOG.debug(""Router %(router)s is not active on any "" ""host. Port %(port)s will not be updated "" ""now."", {'router': router_id, 'port': port['id']}) return ""host"": active_host}) {'port': {portbindings.HOST_ID: active_host}})"," if active_host: host = active_host # If there is currently no active router instance (For # example it's a new router), the host that requested # the routers (Essentially a random host) will do. The # port binding will be corrected when an active is # elected. ""host"": host}) {'port': {portbindings.HOST_ID: host}})",19,10
openstack%2Fneutron~stable%2Fyoga~Ib3945d294601b35f9b268c25841cd284b52c4ca3,openstack/neutron,stable/yoga,Ib3945d294601b35f9b268c25841cd284b52c4ca3,[L3HA] Don't update HA router's ports if router isn't active on agents,MERGED,2022-10-11 03:39:11.000000000,2022-10-13 16:09:22.000000000,2022-10-13 16:07:54.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-11 03:39:11.000000000', 'files': ['neutron/tests/unit/db/test_l3_hamode_db.py', 'neutron/api/rpc/handlers/l3_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3867f3c872828b34130162b979a2725e1855f6fd', 'message': '[L3HA] Don\'t update HA router\'s ports if router isn\'t active on agents\n\nIn case when HA router isn\'t active on any L3 agent,\n_ensure_host_set_on_port method shouldn\'t try to update port\'s host to\nthe host from which there was an rpc message sent, as this can be host\non which router is in the ""standby"" mode.\nThis method should only update port\'s host to the router\'s ""active_host""\nif there is such active_host found already.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/841489\n\nCloses-Bug: #1973162\nCloses-Bug: #1942190\nChange-Id: Ib3945d294601b35f9b268c25841cd284b52c4ca3\n(cherry picked from commit cd8bf18150c8b0a4bc64979d800726483d9cdb6e)\n'}]",2,860893,3867f3c872828b34130162b979a2725e1855f6fd,16,3,1,9531,,,0,"[L3HA] Don't update HA router's ports if router isn't active on agents

In case when HA router isn't active on any L3 agent,
_ensure_host_set_on_port method shouldn't try to update port's host to
the host from which there was an rpc message sent, as this can be host
on which router is in the ""standby"" mode.
This method should only update port's host to the router's ""active_host""
if there is such active_host found already.

Depends-On: https://review.opendev.org/c/openstack/requirements/+/841489

Closes-Bug: #1973162
Closes-Bug: #1942190
Change-Id: Ib3945d294601b35f9b268c25841cd284b52c4ca3
(cherry picked from commit cd8bf18150c8b0a4bc64979d800726483d9cdb6e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/860893/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_hamode_db.py', 'neutron/api/rpc/handlers/l3_rpc.py']",2,3867f3c872828b34130162b979a2725e1855f6fd,bug/1973162," if not active_host: LOG.debug(""Router %(router)s is not active on any "" ""host. Port %(port)s will not be updated "" ""now."", {'router': router_id, 'port': port['id']}) return ""host"": active_host}) {'port': {portbindings.HOST_ID: active_host}})"," if active_host: host = active_host # If there is currently no active router instance (For # example it's a new router), the host that requested # the routers (Essentially a random host) will do. The # port binding will be corrected when an active is # elected. ""host"": host}) {'port': {portbindings.HOST_ID: host}})",19,10
openstack%2Fcharm-placement~stable%2Fxena~I5d5b8a1044e4151fe502ffa94de32a145377511f,openstack/charm-placement,stable/xena,I5d5b8a1044e4151fe502ffa94de32a145377511f,Pin build.lock for all layers to the commit hash,MERGED,2022-09-28 18:36:27.000000000,2022-10-13 16:08:25.000000000,2022-10-13 16:08:25.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-28 18:36:27.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/cb2095d91df2ae619f29c05dafd1e16aaadfd176', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nCloses-Bug: #1990062\nChange-Id: I5d5b8a1044e4151fe502ffa94de32a145377511f\n'}]",2,859676,cb2095d91df2ae619f29c05dafd1e16aaadfd176,9,3,1,20870,,,0,"Pin build.lock for all layers to the commit hash

The build.lock branch points to master which means that the layer is not
locked.  Lock the layers to the commit hash instead; this ensures
reproducible builds as much as possible.

Closes-Bug: #1990062
Change-Id: I5d5b8a1044e4151fe502ffa94de32a145377511f
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/76/859676/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,cb2095d91df2ae619f29c05dafd1e16aaadfd176,bug/1990062," ""branch"": ""cc5bd3f49b2fa5e6c3ab2336763c313ec8bf083f"", ""branch"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"", ""branch"": ""a3ff62c32c993d80417f6e093e3ef95e42f62083"", ""branch"": ""207bac8bec837edc6a4d6003f51d5b59d2d75adb"", ""branch"": ""8100de4b24ab361423363c75599124708169d871"", ""branch"": ""34311a62e963d0ce903b7ddb9d70b8f071f71651"", ""branch"": ""d9850016d930a6d507b9fd45e2598d327922b140"", ""branch"": ""06675c43c9f48ffa98b2abf2ddca137f8d18f31c"", ""branch"": ""383121fc584d2d3bf9d233eba0d3708398a4c468"", ""branch"": ""a48a1e826ac0a74ab05a16c441cda4e4b34b1241"", ""branch"": ""8125a7baecccf9b0869e515b92300dde3a86f31b"", ""branch"": ""a3b00e5b5fd857d130698c5cfe4b918877f0ab80"", ""branch"": ""6c9ba2c5d83085ff904d636f51c63ed82cbd236d"","," ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"",",13,13
openstack%2Fneutron~master~Ic313f6476d0c7a69acb0ac32cd9510f2d5afc227,openstack/neutron,master,Ic313f6476d0c7a69acb0ac32cd9510f2d5afc227,CI: Add tick-tick grenade jobs to check queue,MERGED,2022-10-06 09:56:28.000000000,2022-10-13 16:04:20.000000000,2022-10-13 16:02:17.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-06 09:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/77464f2ef1a0a5187d1793ae4f3949efe9fbb9d1', 'message': 'CI: Add neutron-ovs-grenade-multinode-tick-tick job to check queue\n\nChange-Id: Ic313f6476d0c7a69acb0ac32cd9510f2d5afc227\n'}, {'number': 2, 'created': '2022-10-06 12:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0a281c5793c0e38734e8f91b8aec8f9434dab674', 'message': ""CI: Add tick-tick grenade jobs to check queue\n\nLet's add neutron-ovs-grenade-multinode-tick-tick and\nneutron-ovn-grenade-multinode-tick-tick to check queue, as both jobs\nseems to be green.\n\nChange-Id: Ic313f6476d0c7a69acb0ac32cd9510f2d5afc227\n""}, {'number': 3, 'created': '2022-10-10 09:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ece27c94df7a1cb323fe64d59f93de53e285c33', 'message': ""CI: Add tick-tick grenade jobs to check queue\n\nLet's add neutron-ovs-grenade-multinode-tick-tick and\nneutron-ovn-grenade-multinode-tick-tick to check queue, as both jobs\nseems to be green.\n\nChange-Id: Ic313f6476d0c7a69acb0ac32cd9510f2d5afc227\n""}, {'number': 4, 'created': '2022-10-11 15:52:20.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/job-templates.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/963f8e30d821386bb334188e63454bf40bcc62ed', 'message': ""CI: Add tick-tick grenade jobs to check queue\n\nLet's add neutron-ovs-grenade-multinode-tick-tick and\nneutron-ovn-grenade-multinode-tick-tick to check queue, as both jobs\nseems to be green.\n\nChange-Id: Ic313f6476d0c7a69acb0ac32cd9510f2d5afc227\n""}]",9,860541,963f8e30d821386bb334188e63454bf40bcc62ed,40,5,4,8313,,,0,"CI: Add tick-tick grenade jobs to check queue

Let's add neutron-ovs-grenade-multinode-tick-tick and
neutron-ovn-grenade-multinode-tick-tick to check queue, as both jobs
seems to be green.

Change-Id: Ic313f6476d0c7a69acb0ac32cd9510f2d5afc227
",git fetch https://review.opendev.org/openstack/neutron refs/changes/41/860541/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,77464f2ef1a0a5187d1793ae4f3949efe9fbb9d1,grenade-skiplevel, - neutron-ovs-grenade-multinode-tick-tick,,1,0
openstack%2Fcharm-manila-ganesha~stable%2Fxena~Ia7cbd8e52dcca4cff62fa76a6497b01ae9e63242,openstack/charm-manila-ganesha,stable/xena,Ia7cbd8e52dcca4cff62fa76a6497b01ae9e63242,Pin build.lock for all layers to the commit hash,MERGED,2022-09-28 18:35:53.000000000,2022-10-13 16:03:39.000000000,2022-10-13 16:03:39.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-28 18:35:53.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/74eb8bbc6d70af37b7f1b92f087ea010df4afba4', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nCloses-Bug: #1990062\nChange-Id: Ia7cbd8e52dcca4cff62fa76a6497b01ae9e63242\n'}]",2,859675,74eb8bbc6d70af37b7f1b92f087ea010df4afba4,9,3,1,20870,,,0,"Pin build.lock for all layers to the commit hash

The build.lock branch points to master which means that the layer is not
locked.  Lock the layers to the commit hash instead; this ensures
reproducible builds as much as possible.

Closes-Bug: #1990062
Change-Id: Ia7cbd8e52dcca4cff62fa76a6497b01ae9e63242
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/75/859675/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,74eb8bbc6d70af37b7f1b92f087ea010df4afba4,bug/1990062," ""branch"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"", ""branch"": ""a3ff62c32c993d80417f6e093e3ef95e42f62083"", ""branch"": ""207bac8bec837edc6a4d6003f51d5b59d2d75adb"", ""branch"": ""8100de4b24ab361423363c75599124708169d871"", ""branch"": ""34311a62e963d0ce903b7ddb9d70b8f071f71651"", ""branch"": ""d9850016d930a6d507b9fd45e2598d327922b140"", ""branch"": ""06675c43c9f48ffa98b2abf2ddca137f8d18f31c"", ""branch"": ""383121fc584d2d3bf9d233eba0d3708398a4c468"", ""branch"": ""a48a1e826ac0a74ab05a16c441cda4e4b34b1241"", ""branch"": ""5fc5216f51dcf98530d45e137d55fd94b39d150a"", ""branch"": ""a3b00e5b5fd857d130698c5cfe4b918877f0ab80"", ""branch"": ""53e93b8820899f2251d207ed5d5c3b212ceb64de"", ""branch"": ""14cb348a09b30c92de89878c58e790779ebdad23"",}"," ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"",} ",14,14
openstack%2Fcharm-octavia-dashboard~stable%2Fxena~I67d4ca941cca7be649f3872f78981b0064643b9e,openstack/charm-octavia-dashboard,stable/xena,I67d4ca941cca7be649f3872f78981b0064643b9e,Pin build.lock for all layers to the commit hash,MERGED,2022-09-28 19:00:36.000000000,2022-10-13 16:02:21.000000000,2022-10-13 16:02:21.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-28 19:00:36.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/121660f97f5cf8fbdbfd4e7520934266273a5993', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: I67d4ca941cca7be649f3872f78981b0064643b9e\n'}]",6,859708,121660f97f5cf8fbdbfd4e7520934266273a5993,15,3,1,20870,,,0,"Pin build.lock for all layers to the commit hash

The build.lock branch points to master which means that the layer is not
locked.  Lock the layers to the commit hash instead; this ensures
reproducible builds as much as possible.

Change-Id: I67d4ca941cca7be649f3872f78981b0064643b9e
",git fetch https://review.opendev.org/openstack/charm-octavia-dashboard refs/changes/08/859708/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,121660f97f5cf8fbdbfd4e7520934266273a5993,xena-lock-layers," ""branch"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"", ""branch"": ""a3ff62c32c993d80417f6e093e3ef95e42f62083"", ""branch"": ""207bac8bec837edc6a4d6003f51d5b59d2d75adb"", ""branch"": ""d9850016d930a6d507b9fd45e2598d327922b140"", ""branch"": ""06031deac8b37e912dc69f1c6d2e2634696d2547"","," ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"",",5,5
openstack%2Fcharm-keystone-saml-mellon~stable%2Fxena~Ibdd936844371a9e4cda9f8f8bcb392cc2f8e8d9f,openstack/charm-keystone-saml-mellon,stable/xena,Ibdd936844371a9e4cda9f8f8bcb392cc2f8e8d9f,Pin build.lock for all layers to the commit hash,MERGED,2022-09-28 18:57:37.000000000,2022-10-13 16:00:37.000000000,2022-10-13 16:00:37.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-28 18:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/fa6c8411a359b225d7f8336a58bb8da696169208', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: Ibdd936844371a9e4cda9f8f8bcb392cc2f8e8d9f\n'}, {'number': 2, 'created': '2022-10-10 11:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/bb662fa12d87da17cd11fc16cb1a820734b298e7', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: Ibdd936844371a9e4cda9f8f8bcb392cc2f8e8d9f\n'}, {'number': 3, 'created': '2022-10-10 13:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/065d07cd1d4daea2a057acacd80e46f28e498e7d', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: Ibdd936844371a9e4cda9f8f8bcb392cc2f8e8d9f\n'}, {'number': 4, 'created': '2022-10-10 16:54:34.000000000', 'files': ['src/tests/bundles/focal-xena-ha.yaml', 'src/tests/bundles/focal-wallaby-ha.yaml', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/7c9de45703e2c5e0a1fc5c047ecc6b0c7e774be9', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: Ibdd936844371a9e4cda9f8f8bcb392cc2f8e8d9f\n'}]",5,859698,7c9de45703e2c5e0a1fc5c047ecc6b0c7e774be9,22,3,4,20870,,,0,"Pin build.lock for all layers to the commit hash

The build.lock branch points to master which means that the layer is not
locked.  Lock the layers to the commit hash instead; this ensures
reproducible builds as much as possible.

Change-Id: Ibdd936844371a9e4cda9f8f8bcb392cc2f8e8d9f
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/98/859698/3 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,fa6c8411a359b225d7f8336a58bb8da696169208,xena-lock-layers," ""branch"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"", ""branch"": ""a3ff62c32c993d80417f6e093e3ef95e42f62083"", ""branch"": ""207bac8bec837edc6a4d6003f51d5b59d2d75adb"", ""branch"": ""cc5bd3f49b2fa5e6c3ab2336763c313ec8bf083f"", ""branch"": ""d9850016d930a6d507b9fd45e2598d327922b140"", ""branch"": ""be0926efafaa9ffe1df84f2fbd6b8a5d3d58b270"", ""branch"": ""b7c066abf22edec30af17c3da4612cd398b1306a"", ""branch"": ""4e2f90052b3c02031d09f10900c9e9cb22565dee"","," ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"",",8,8
openstack%2Fcharm-keystone-saml-mellon~stable%2Fwallaby~I62b79e7a8b66b7d6e90ebc534198c5d1f5bfbc04,openstack/charm-keystone-saml-mellon,stable/wallaby,I62b79e7a8b66b7d6e90ebc534198c5d1f5bfbc04,Pin build.lock for all layers to the commit hash,MERGED,2022-09-21 18:37:32.000000000,2022-10-13 16:00:36.000000000,2022-10-13 16:00:36.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-21 18:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/588d14cbafaec45bb6dcf74c94cbe554a347792b', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: I62b79e7a8b66b7d6e90ebc534198c5d1f5bfbc04\n'}, {'number': 2, 'created': '2022-10-11 10:45:01.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/b1b73998c33a853b2dc22ac9539f8029fc866f53', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: I62b79e7a8b66b7d6e90ebc534198c5d1f5bfbc04\n'}]",2,858800,b1b73998c33a853b2dc22ac9539f8029fc866f53,12,3,2,20870,,,0,"Pin build.lock for all layers to the commit hash

The build.lock branch points to master which means that the layer is not
locked.  Lock the layers to the commit hash instead; this ensures
reproducible builds as much as possible.

Change-Id: I62b79e7a8b66b7d6e90ebc534198c5d1f5bfbc04
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/00/858800/2 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,588d14cbafaec45bb6dcf74c94cbe554a347792b,wallaby-lock-layers," ""branch"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"", ""branch"": ""a3ff62c32c993d80417f6e093e3ef95e42f62083"", ""branch"": ""207bac8bec837edc6a4d6003f51d5b59d2d75adb"", ""branch"": ""cc5bd3f49b2fa5e6c3ab2336763c313ec8bf083f"", ""branch"": ""d9850016d930a6d507b9fd45e2598d327922b140"", ""branch"": ""be0926efafaa9ffe1df84f2fbd6b8a5d3d58b270"", ""branch"": ""b7c066abf22edec30af17c3da4612cd398b1306a"", ""branch"": ""4e2f90052b3c02031d09f10900c9e9cb22565dee"","," ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"",",8,8
openstack%2Fgovernance~master~I07ace283a8255f106c141d7bea06618f802e3b51,openstack/governance,master,I07ace283a8255f106c141d7bea06618f802e3b51,Add project for managing zuul jobs for charms,MERGED,2022-10-12 08:51:42.000000000,2022-10-13 15:48:13.000000000,2022-10-13 15:47:02.000000000,"[{'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 15993}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-12 08:51:42.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/e7defda523f761b46d0430a579ff75a05f7b2c32', 'message': 'Add project for managing zuul jobs for charms\n\nAdd a project for defining the zuul jobs for testing charms.\n\nDepends-On: I69a9c9f388371a7a8ad1c7fe5cfc8f6c444d4f45\nChange-Id: I07ace283a8255f106c141d7bea06618f802e3b51\n'}]",2,861044,e7defda523f761b46d0430a579ff75a05f7b2c32,14,5,1,12549,,,0,"Add project for managing zuul jobs for charms

Add a project for defining the zuul jobs for testing charms.

Depends-On: I69a9c9f388371a7a8ad1c7fe5cfc8f6c444d4f45
Change-Id: I07ace283a8255f106c141d7bea06618f802e3b51
",git fetch https://review.opendev.org/openstack/governance refs/changes/44/861044/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,e7defda523f761b46d0430a579ff75a05f7b2c32,project-update, charm-zuul-jobs: release-management: external repos: - openstack/charm-zuul-jobs,,4,0
openstack%2Fironic-python-agent~bugfix%2F9.0~I55e1e1b74c6ecf35a9f04b4577f0b5b3fc4ecf84,openstack/ironic-python-agent,bugfix/9.0,I55e1e1b74c6ecf35a9f04b4577f0b5b3fc4ecf84,Pin bugfix 9.0 ci jobs to zed,MERGED,2022-09-26 10:05:03.000000000,2022-10-13 15:47:00.000000000,2022-10-13 15:45:06.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-09-26 10:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a5ad6fdbffa6110679f0e4b34054555d36c20e52', 'message': 'Pin bgufix 9.0 ci jobs to zed\n\nChange-Id: I55e1e1b74c6ecf35a9f04b4577f0b5b3fc4ecf84\n'}, {'number': 2, 'created': '2022-10-13 09:45:43.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/01f21adab6268bf52c35f6242324fc29b33af978', 'message': 'Pin bugfix 9.0 ci jobs to zed\n\nChange-Id: I55e1e1b74c6ecf35a9f04b4577f0b5b3fc4ecf84\n'}]",4,859255,01f21adab6268bf52c35f6242324fc29b33af978,20,3,2,23851,,,0,"Pin bugfix 9.0 ci jobs to zed

Change-Id: I55e1e1b74c6ecf35a9f04b4577f0b5b3fc4ecf84
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/55/859255/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-python-agent-jobs.yaml', 'zuul.d/project.yaml']",2,a5ad6fdbffa6110679f0e4b34054555d36c20e52,ci-bugfix90, - openstack-cover-jobs-ipa-bugfix90 - openstack-python3-zed-jobs-ipa-bugfix90 - openstack-tox-functional: required-projects: - name: openstack/requirements override-checkout: stable/zed - openstack-tox-cover: required-projects: - name: openstack/requirements override-checkout: stable/zed - openstack-tox-functional: required-projects: - name: openstack/requirements override-checkout: stable/zed - openstack-tox-cover: required-projects: - name: openstack/requirements override-checkout: stable/zed, - openstack-cover-jobs - openstack-python3-zed-jobs - openstack-tox-functional - openstack-tox-functional,126,10
openstack%2Foslo.db~master~If49ecb73f63339772f56dc96545d922330ae7620,openstack/oslo.db,master,If49ecb73f63339772f56dc96545d922330ae7620,Add Python3 antelope unit tests,MERGED,2022-09-09 09:16:38.000000000,2022-10-13 15:39:03.000000000,2022-10-13 15:37:07.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30491}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-09-09 09:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/857b2e838d28f8a73293aec6eba0698bff93f677', 'message': 'Add Python3 antelope unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for antelope.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: If49ecb73f63339772f56dc96545d922330ae7620\n'}, {'number': 2, 'created': '2022-10-11 08:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/7a62c822740afac9c283bf81d599a237c8be2095', 'message': 'Add Python3 antelope unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for antelope.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: If49ecb73f63339772f56dc96545d922330ae7620\n'}, {'number': 3, 'created': '2022-10-13 11:19:28.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/629e613e843c8516b611a33042238109b6fd1760', 'message': 'Add Python3 antelope unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for antelope.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: If49ecb73f63339772f56dc96545d922330ae7620\n'}]",13,856635,629e613e843c8516b611a33042238109b6fd1760,29,5,3,22816,,,0,"Add Python3 antelope unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for antelope.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: If49ecb73f63339772f56dc96545d922330ae7620
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/35/856635/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,857b2e838d28f8a73293aec6eba0698bff93f677,add-antelope-python-jobtemplates, - openstack-python3-antelope-jobs, - openstack-python3-zed-jobs,1,1
openstack%2Fironic~bugfix%2F20.2~Ib30a5994394c0d05c6171feeaa5225c5d54b086a,openstack/ironic,bugfix/20.2,Ib30a5994394c0d05c6171feeaa5225c5d54b086a,Pin bugfix 20.2 ci jobs to zed,MERGED,2022-09-26 09:26:58.000000000,2022-10-13 15:17:06.000000000,2022-10-13 15:14:31.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-26 09:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d73ac15ea4fa1600c67f00e606611e671bb6a306', 'message': 'Pin bugfix 20.2 ci jobs to zed\n\nChange-Id: Ib30a5994394c0d05c6171feeaa5225c5d54b086a\n'}, {'number': 2, 'created': '2022-09-26 09:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a04673ced77af94da576647852459ad1a285528b', 'message': 'Pin bugfix 20.2 ci jobs to zed\n\nChange-Id: Ib30a5994394c0d05c6171feeaa5225c5d54b086a\n'}, {'number': 3, 'created': '2022-09-26 09:31:00.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/3884c799d212a46bd4ac3614b0a6efdb7b6690ea', 'message': 'Pin bugfix 20.2 ci jobs to zed\n\nChange-Id: Ib30a5994394c0d05c6171feeaa5225c5d54b086a\n'}]",4,859250,3884c799d212a46bd4ac3614b0a6efdb7b6690ea,16,2,3,23851,,,0,"Pin bugfix 20.2 ci jobs to zed

Change-Id: Ib30a5994394c0d05c6171feeaa5225c5d54b086a
",git fetch https://review.opendev.org/openstack/ironic refs/changes/50/859250/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'zuul.d/project.yaml']",2,d73ac15ea4fa1600c67f00e606611e671bb6a306,ci-bugfix202, - openstack-cover-jobs-ironic-bugfix202 - openstack-python3-zed-jobs-ironic-bugfix202 - openstack-python3-zed-jobs-ironic-bugfix202-arm64, - openstack-cover-jobs - openstack-python3-zed-jobs - openstack-python3-zed-jobs-arm64,88,6
openstack%2Fneutron~stable%2Fwallaby~I69200f8236e65ea50d1ad3ac322441554634c9c3,openstack/neutron,stable/wallaby,I69200f8236e65ea50d1ad3ac322441554634c9c3,"Execute ""IpMonitorTestCase"" tests always inside a namespace",MERGED,2022-10-10 10:04:24.000000000,2022-10-13 14:57:05.000000000,2022-10-13 14:55:21.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 33543}]","[{'number': 1, 'created': '2022-10-10 10:04:24.000000000', 'files': ['neutron/tests/functional/agent/linux/test_ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6b7fbf949529f8bb00e73cfe637c66a563ec8372', 'message': 'Execute ""IpMonitorTestCase"" tests always inside a namespace\n\nTo improve the execution isolation of ""IpMonitorTestCase"", the test\ncases will be executed inside a network namespace only.\n\nCloses-Bug: #1991798\nChange-Id: I69200f8236e65ea50d1ad3ac322441554634c9c3\n(cherry picked from commit a8a43c80455dac21651c5240dfdaa4acec49d6c9)\n'}]",0,860842,6b7fbf949529f8bb00e73cfe637c66a563ec8372,12,5,1,16688,,,0,"Execute ""IpMonitorTestCase"" tests always inside a namespace

To improve the execution isolation of ""IpMonitorTestCase"", the test
cases will be executed inside a network namespace only.

Closes-Bug: #1991798
Change-Id: I69200f8236e65ea50d1ad3ac322441554634c9c3
(cherry picked from commit a8a43c80455dac21651c5240dfdaa4acec49d6c9)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/42/860842/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/linux/test_ip_lib.py'],1,6b7fbf949529f8bb00e73cfe637c66a563ec8372,bug/1991798-stable/wallaby,class IpMonitorTestCase(functional_base.BaseLoggingTestCase): self.namespace = 'ns_' + uuidutils.generate_uuid() priv_ip_lib.create_netns(self.namespace) priv_ip_lib.remove_netns(self.namespace),"import testscenariosclass IpMonitorTestCase(testscenarios.WithScenarios, functional_base.BaseLoggingTestCase): scenarios = [ ('namespace', {'namespace': 'ns_' + uuidutils.generate_uuid()}), ('no_namespace', {'namespace': None}) ] if self.namespace: priv_ip_lib.create_netns(self.namespace) if self.namespace: priv_ip_lib.remove_netns(self.namespace) else: for device in self.devices: try: priv_ip_lib.delete_interface(device, self.namespace) except priv_ip_lib.NetworkInterfaceNotFound: pass",4,18
openstack%2Fneutron~stable%2Fxena~I69200f8236e65ea50d1ad3ac322441554634c9c3,openstack/neutron,stable/xena,I69200f8236e65ea50d1ad3ac322441554634c9c3,"Execute ""IpMonitorTestCase"" tests always inside a namespace",MERGED,2022-10-10 10:04:12.000000000,2022-10-13 14:57:04.000000000,2022-10-13 14:55:17.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 33543}]","[{'number': 1, 'created': '2022-10-10 10:04:12.000000000', 'files': ['neutron/tests/functional/agent/linux/test_ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/55df77f92c2aeab8f2d6f97d0bd5455a352e34f2', 'message': 'Execute ""IpMonitorTestCase"" tests always inside a namespace\n\nTo improve the execution isolation of ""IpMonitorTestCase"", the test\ncases will be executed inside a network namespace only.\n\nCloses-Bug: #1991798\nChange-Id: I69200f8236e65ea50d1ad3ac322441554634c9c3\n(cherry picked from commit a8a43c80455dac21651c5240dfdaa4acec49d6c9)\n'}]",0,860841,55df77f92c2aeab8f2d6f97d0bd5455a352e34f2,12,5,1,16688,,,0,"Execute ""IpMonitorTestCase"" tests always inside a namespace

To improve the execution isolation of ""IpMonitorTestCase"", the test
cases will be executed inside a network namespace only.

Closes-Bug: #1991798
Change-Id: I69200f8236e65ea50d1ad3ac322441554634c9c3
(cherry picked from commit a8a43c80455dac21651c5240dfdaa4acec49d6c9)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/41/860841/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/linux/test_ip_lib.py'],1,55df77f92c2aeab8f2d6f97d0bd5455a352e34f2,bug/1991798-stable/xena,class IpMonitorTestCase(functional_base.BaseLoggingTestCase): self.namespace = 'ns_' + uuidutils.generate_uuid() priv_ip_lib.create_netns(self.namespace) priv_ip_lib.remove_netns(self.namespace),"import testscenariosclass IpMonitorTestCase(testscenarios.WithScenarios, functional_base.BaseLoggingTestCase): scenarios = [ ('namespace', {'namespace': 'ns_' + uuidutils.generate_uuid()}), ('no_namespace', {'namespace': None}) ] if self.namespace: priv_ip_lib.create_netns(self.namespace) if self.namespace: priv_ip_lib.remove_netns(self.namespace) else: for device in self.devices: try: priv_ip_lib.delete_interface(device, self.namespace) except priv_ip_lib.NetworkInterfaceNotFound: pass",4,18
openstack%2Fneutron~stable%2Fyoga~I69200f8236e65ea50d1ad3ac322441554634c9c3,openstack/neutron,stable/yoga,I69200f8236e65ea50d1ad3ac322441554634c9c3,"Execute ""IpMonitorTestCase"" tests always inside a namespace",MERGED,2022-10-10 10:03:57.000000000,2022-10-13 14:56:47.000000000,2022-10-13 14:55:13.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 33543}]","[{'number': 1, 'created': '2022-10-10 10:03:57.000000000', 'files': ['neutron/tests/functional/agent/linux/test_ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/de561baf797edd9eb41696ca19cee52d150c91f5', 'message': 'Execute ""IpMonitorTestCase"" tests always inside a namespace\n\nTo improve the execution isolation of ""IpMonitorTestCase"", the test\ncases will be executed inside a network namespace only.\n\nCloses-Bug: #1991798\nChange-Id: I69200f8236e65ea50d1ad3ac322441554634c9c3\n(cherry picked from commit a8a43c80455dac21651c5240dfdaa4acec49d6c9)\n'}]",1,860840,de561baf797edd9eb41696ca19cee52d150c91f5,11,5,1,16688,,,0,"Execute ""IpMonitorTestCase"" tests always inside a namespace

To improve the execution isolation of ""IpMonitorTestCase"", the test
cases will be executed inside a network namespace only.

Closes-Bug: #1991798
Change-Id: I69200f8236e65ea50d1ad3ac322441554634c9c3
(cherry picked from commit a8a43c80455dac21651c5240dfdaa4acec49d6c9)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/40/860840/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/linux/test_ip_lib.py'],1,de561baf797edd9eb41696ca19cee52d150c91f5,bug/1991798-stable/yoga,class IpMonitorTestCase(functional_base.BaseLoggingTestCase): self.namespace = 'ns_' + uuidutils.generate_uuid() priv_ip_lib.create_netns(self.namespace) priv_ip_lib.remove_netns(self.namespace),"import testscenariosclass IpMonitorTestCase(testscenarios.WithScenarios, functional_base.BaseLoggingTestCase): scenarios = [ ('namespace', {'namespace': 'ns_' + uuidutils.generate_uuid()}), ('no_namespace', {'namespace': None}) ] if self.namespace: priv_ip_lib.create_netns(self.namespace) if self.namespace: priv_ip_lib.remove_netns(self.namespace) else: for device in self.devices: try: priv_ip_lib.delete_interface(device, self.namespace) except priv_ip_lib.NetworkInterfaceNotFound: pass",4,18
openstack%2Fneutron~stable%2Fzed~I69200f8236e65ea50d1ad3ac322441554634c9c3,openstack/neutron,stable/zed,I69200f8236e65ea50d1ad3ac322441554634c9c3,"Execute ""IpMonitorTestCase"" tests always inside a namespace",MERGED,2022-10-10 10:03:43.000000000,2022-10-13 14:52:47.000000000,2022-10-13 14:51:33.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 33543}]","[{'number': 1, 'created': '2022-10-10 10:03:43.000000000', 'files': ['neutron/tests/functional/agent/linux/test_ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3406f67c925f56b78dbbc8203a78619d01b730d0', 'message': 'Execute ""IpMonitorTestCase"" tests always inside a namespace\n\nTo improve the execution isolation of ""IpMonitorTestCase"", the test\ncases will be executed inside a network namespace only.\n\nCloses-Bug: #1991798\nChange-Id: I69200f8236e65ea50d1ad3ac322441554634c9c3\n(cherry picked from commit a8a43c80455dac21651c5240dfdaa4acec49d6c9)\n'}]",0,860839,3406f67c925f56b78dbbc8203a78619d01b730d0,10,5,1,16688,,,0,"Execute ""IpMonitorTestCase"" tests always inside a namespace

To improve the execution isolation of ""IpMonitorTestCase"", the test
cases will be executed inside a network namespace only.

Closes-Bug: #1991798
Change-Id: I69200f8236e65ea50d1ad3ac322441554634c9c3
(cherry picked from commit a8a43c80455dac21651c5240dfdaa4acec49d6c9)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/39/860839/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/linux/test_ip_lib.py'],1,3406f67c925f56b78dbbc8203a78619d01b730d0,bug/1991798-stable/zed,class IpMonitorTestCase(functional_base.BaseLoggingTestCase): self.namespace = 'ns_' + uuidutils.generate_uuid() priv_ip_lib.create_netns(self.namespace) priv_ip_lib.remove_netns(self.namespace),"import testscenariosclass IpMonitorTestCase(testscenarios.WithScenarios, functional_base.BaseLoggingTestCase): scenarios = [ ('namespace', {'namespace': 'ns_' + uuidutils.generate_uuid()}), ('no_namespace', {'namespace': None}) ] if self.namespace: priv_ip_lib.create_netns(self.namespace) if self.namespace: priv_ip_lib.remove_netns(self.namespace) else: for device in self.devices: try: priv_ip_lib.delete_interface(device, self.namespace) except priv_ip_lib.NetworkInterfaceNotFound: pass",4,18
openstack%2Fkeystone~stable%2Fwallaby~Ifef262cfca4ecb8ad1222da3c43e5749f40c1f24,openstack/keystone,stable/wallaby,Ifef262cfca4ecb8ad1222da3c43e5749f40c1f24,Move fips job to centos-9,MERGED,2022-09-19 08:49:05.000000000,2022-10-13 14:46:54.000000000,2022-10-13 14:44:23.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-09-19 08:49:05.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/ed16a1c3104edc480136313986aa840d75d2e439', 'message': 'Move fips job to centos-9\n\nMove FIPS job to centos 9 and add new required nslookup_target variable.\n\nChange-Id: Ifef262cfca4ecb8ad1222da3c43e5749f40c1f24\n(cherry picked from commit 950dd5e5032afd73527c82c6ce63ee2ad94dc252)\n(cherry picked from commit 1daa8e70c943d5b0723f5cf821db99539cef0a15)\n(cherry picked from commit 4799025f5755e31f8cb44fa8b34ff465aba27635)\n'}]",0,858041,ed16a1c3104edc480136313986aa840d75d2e439,11,4,1,34120,,,0,"Move fips job to centos-9

Move FIPS job to centos 9 and add new required nslookup_target variable.

Change-Id: Ifef262cfca4ecb8ad1222da3c43e5749f40c1f24
(cherry picked from commit 950dd5e5032afd73527c82c6ce63ee2ad94dc252)
(cherry picked from commit 1daa8e70c943d5b0723f5cf821db99539cef0a15)
(cherry picked from commit 4799025f5755e31f8cb44fa8b34ff465aba27635)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/41/858041/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ed16a1c3104edc480136313986aa840d75d2e439,add-dns-target-for-fips-stable/yoga-stable/xena-stable/wallaby, nodeset: devstack-single-node-centos-9-stream Functional testing for a FIPS enabled Centos 9 system vars: nslookup_target: 'opendev.org', nodeset: devstack-single-node-centos-8-stream Functional testing for a FIPS enabled Centos 8 system,4,2
openstack%2Freleases~master~I6284595825e2f4dfddd5bac81357c82b50aea8fb,openstack/releases,master,I6284595825e2f4dfddd5bac81357c82b50aea8fb,Release OpenStackSDK 0.102.0,MERGED,2022-09-28 10:51:49.000000000,2022-10-13 14:41:45.000000000,2022-10-13 14:41:45.000000000,"[{'_account_id': 308}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-28 10:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/2c8f77ec84cfe7f44f9a2707eedd507132e3f449', 'message': 'Cut new OpenStackSDK release to resolve OSC dependency\n\nIn order to be able to merge things into OSC we need to have new SDK\nrelease.\n\nChange-Id: I6284595825e2f4dfddd5bac81357c82b50aea8fb\n'}, {'number': 2, 'created': '2022-10-12 09:35:34.000000000', 'files': ['deliverables/antelope/openstacksdk.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7fe40a4f08741d72cee85d1feeb9fdcb6d0e56a9', 'message': 'Release OpenStackSDK 0.102.0\n\nMake first release in Antelope.\n\nChange-Id: I6284595825e2f4dfddd5bac81357c82b50aea8fb\n'}]",2,859546,7fe40a4f08741d72cee85d1feeb9fdcb6d0e56a9,13,4,2,27900,,,0,"Release OpenStackSDK 0.102.0

Make first release in Antelope.

Change-Id: I6284595825e2f4dfddd5bac81357c82b50aea8fb
",git fetch https://review.opendev.org/openstack/releases refs/changes/46/859546/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/zed/openstacksdk.yaml'],1,2c8f77ec84cfe7f44f9a2707eedd507132e3f449,, - version: 0.102.0 projects: - repo: openstack/openstacksdk hash: 2fbefe648179389293fffbf4df8386d7a10cd047,,4,0
openstack%2Fopenstack-manuals~master~Ifd6aa5ecad14749f3f347a19f944634d1f220d53,openstack/openstack-manuals,master,Ifd6aa5ecad14749f3f347a19f944634d1f220d53,[www] Set Pike series state as End of Life,MERGED,2022-07-29 19:37:26.000000000,2022-10-13 14:36:18.000000000,2022-10-13 14:04:24.000000000,"[{'_account_id': 6547}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-07-29 19:37:26.000000000', 'files': ['tools/www-generator.py'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/eb78fd85e2c16a6834c459454695407866a3691c', 'message': '[www] Set Pike series state as End of Life\n\nPike transitioned to End of Life [1], this patch sets the status to EOL\nin docs.openstack.org.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-July/029769.html\n\nChange-Id: Ifd6aa5ecad14749f3f347a19f944634d1f220d53\n'}]",2,851609,eb78fd85e2c16a6834c459454695407866a3691c,11,4,1,17685,,,0,"[www] Set Pike series state as End of Life

Pike transitioned to End of Life [1], this patch sets the status to EOL
in docs.openstack.org.

[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-July/029769.html

Change-Id: Ifd6aa5ecad14749f3f347a19f944634d1f220d53
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/09/851609/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/www-generator.py'],1,eb78fd85e2c16a6834c459454695407866a3691c,pike-eol," 'pike': SeriesInfo(date='August 2017', status='EOL'),"," 'pike': SeriesInfo(date='August 2017', status='extended-maintenance'),",1,1
openstack%2Fbarbican~stable%2Fussuri~I271a3d50dba5f1c7c58c01838fa68b4c8adbd72c,openstack/barbican,stable/ussuri,I271a3d50dba5f1c7c58c01838fa68b4c8adbd72c,Fix Barbican gate,MERGED,2022-09-28 20:56:33.000000000,2022-10-13 14:16:58.000000000,2022-10-13 14:14:39.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-28 20:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/592bbe2ec3b619c6387b3cbfac9a63ad6bc1c039', 'message': 'Fix Barbican gate\n\nThis patch fixes a zuul syntax error due to a deprecated definition that\nwas still in use in our configuration.\n\nIt also makes the grenade job non-voting as it is currently failing.  A\nfollow up patch will fix grenade and re-enable voting.\n\n(cherry picked from commit 4cc1070d941bbe453d5ee3b5f25bee2d3d400c73)\n\nChange-Id: I271a3d50dba5f1c7c58c01838fa68b4c8adbd72c\n(cherry picked from commit d9443a7f035f255a37d0abed5a6a1330620e43b3)\n'}, {'number': 2, 'created': '2022-09-28 20:58:22.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/barbican/commit/ed463af88b01753153211f040982b36b6d6fee12', 'message': 'Fix Barbican gate\n\nThis patch fixes a zuul syntax error due to a deprecated definition that\nwas still in use in our configuration.\n\nIt also makes the grenade job non-voting as it is currently failing.  A\nfollow up patch will fix grenade and re-enable voting.\n\n(cherry picked from commit d9443a7f035f255a37d0abed5a6a1330620e43b3)\n\nChange-Id: I271a3d50dba5f1c7c58c01838fa68b4c8adbd72c\n'}]",0,859725,ed463af88b01753153211f040982b36b6d6fee12,10,2,2,7973,,,0,"Fix Barbican gate

This patch fixes a zuul syntax error due to a deprecated definition that
was still in use in our configuration.

It also makes the grenade job non-voting as it is currently failing.  A
follow up patch will fix grenade and re-enable voting.

(cherry picked from commit d9443a7f035f255a37d0abed5a6a1330620e43b3)

Change-Id: I271a3d50dba5f1c7c58c01838fa68b4c8adbd72c
",git fetch https://review.opendev.org/openstack/barbican refs/changes/25/859725/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,592bbe2ec3b619c6387b3cbfac9a63ad6bc1c039,, queue: barbican, queue: barbican,1,1
openstack%2Ftripleo-heat-templates~master~Ieecb8ce044123fbfcca9ee2d70ca9bad616b7cda,openstack/tripleo-heat-templates,master,Ieecb8ce044123fbfcca9ee2d70ca9bad616b7cda,Allow overriding corosync token_timeout,MERGED,2022-09-28 11:59:36.000000000,2022-10-13 14:12:45.000000000,2022-10-13 14:11:29.000000000,"[{'_account_id': 6926}, {'_account_id': 9976}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 30126}, {'_account_id': 30396}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-09-28 11:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/71e75c31a672a635b087eff31caba5b05f94f77f', 'message': 'Allow overriding corosync token_timeout\n\nThere are cases where the default allotted time (10s) is not enough.\nThis only works during cluster setup.\n\nChange-Id: Ieecb8ce044123fbfcca9ee2d70ca9bad616b7cda\n'}, {'number': 2, 'created': '2022-09-29 05:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8d0d7bd013bbb50a4f7be20c6b98298267554181', 'message': 'Allow overriding corosync token_timeout\n\nThere are cases where the default allotted time (10s) is not enough.\nThis only works during cluster setup.\n\nChange-Id: Ieecb8ce044123fbfcca9ee2d70ca9bad616b7cda\n'}, {'number': 3, 'created': '2022-10-03 15:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/11caea223b2d2cd1860b4dc8793c6ed3da812d34', 'message': 'Allow overriding corosync token_timeout\n\nThere are cases where the default allotted time (10s) is not enough.\nThis only works during cluster setup.\n\nChange-Id: Ieecb8ce044123fbfcca9ee2d70ca9bad616b7cda\n'}, {'number': 4, 'created': '2022-10-04 11:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c018f6c61ba415e35bc24d4200ac77d76551716d', 'message': 'Allow overriding corosync token_timeout\n\nThere are cases where the default allotted time (10s) is not enough.\nThis only works during cluster setup.\n\nChange-Id: Ieecb8ce044123fbfcca9ee2d70ca9bad616b7cda\n'}, {'number': 5, 'created': '2022-10-06 13:06:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1b85fe3bb390d738a8b8dda6a4fd621545ad0dca', 'message': 'Allow overriding corosync token_timeout\n\nThere are cases where the default allotted time (10s) is not enough.\nThis only works during cluster setup.\n\nChange-Id: Ieecb8ce044123fbfcca9ee2d70ca9bad616b7cda\n'}, {'number': 6, 'created': '2022-10-06 14:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/310a8859f00fd2d17259c207aa0841df631bc18a', 'message': 'Allow overriding corosync token_timeout\n\nThere are cases where the default allotted time (10s) is not enough.\nThis only works during cluster setup.\n\nChange-Id: Ieecb8ce044123fbfcca9ee2d70ca9bad616b7cda\n'}, {'number': 7, 'created': '2022-10-12 18:42:03.000000000', 'files': ['releasenotes/notes/corosync_token_timeout-d674c873c505cfe6.yaml', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8a22c7170f19e1393e8dedcbb02a0573fc6bc272', 'message': 'Allow overriding corosync token_timeout\n\nThere are cases where the default allotted time (10s) is not enough.\nThis only works during cluster setup.\n\nChange-Id: Ieecb8ce044123fbfcca9ee2d70ca9bad616b7cda\n'}]",8,859568,8a22c7170f19e1393e8dedcbb02a0573fc6bc272,51,10,7,30126,,,0,"Allow overriding corosync token_timeout

There are cases where the default allotted time (10s) is not enough.
This only works during cluster setup.

Change-Id: Ieecb8ce044123fbfcca9ee2d70ca9bad616b7cda
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/68/859568/6 && git format-patch -1 --stdout FETCH_HEAD,['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'],1,71e75c31a672a635b087eff31caba5b05f94f77f,, CorosyncTokenTimeout: type: number descriptin: Time in milliseconds until a token loss is declared after not receiving a token. default: 10000 corosync_token_timeout: {get_param: CorosyncTokenTimeout}, corosync_token_timeout: 10000,6,1
openstack%2Ftripleo-upgrade~stable%2Fwallaby~Ic153bc80d77e712b513e881d8bded7e1070e4e8a,openstack/tripleo-upgrade,stable/wallaby,Ic153bc80d77e712b513e881d8bded7e1070e4e8a,Fixes readme file,MERGED,2022-10-13 11:21:43.000000000,2022-10-13 14:11:33.000000000,2022-10-13 14:11:33.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-10-13 11:21:43.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/88db9a6bde8a6f474f81f4d1041cce9a2789259c', 'message': 'Fixes readme file\n\nThis change fixes readme file.\nWhat changed:\n - switches order of variables and descriptions of variables.\n - fixed parallel advance upgrade options example.\n\nSigned-off-by: mciecierski <mciecier@redhat.com>\nChange-Id: Ic153bc80d77e712b513e881d8bded7e1070e4e8a\n(cherry picked from commit 521cfb9988dea9b5b6268c7cb4b8226ea2c1bf1f)\n'}]",0,861164,88db9a6bde8a6f474f81f4d1041cce9a2789259c,7,5,1,33080,,,0,"Fixes readme file

This change fixes readme file.
What changed:
 - switches order of variables and descriptions of variables.
 - fixed parallel advance upgrade options example.

Signed-off-by: mciecierski <mciecier@redhat.com>
Change-Id: Ic153bc80d77e712b513e881d8bded7e1070e4e8a
(cherry picked from commit 521cfb9988dea9b5b6268c7cb4b8226ea2c1bf1f)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/64/861164/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,88db9a6bde8a6f474f81f4d1041cce9a2789259c,readme-fix,"Available variables are listed below. upgrade_noop: false update_noop: false undercloud_upgrade: false containerized_undercloud_upgrade: false overcloud_upgrade: false undercloud_update: false overcloud_update: false overcloud_images_validate: false overcloud_deploy_script: ""~/overcloud_deploy.sh"" undercloud_upgrade_script: ""~/undercloud_upgrade.sh"" overcloud_composable_upgrade_script: ""~/composable_docker_upgrade.sh"" overcloud_converge_upgrade_script: ""~/converge_docker_upgrade.sh"" undercloud_rc: ""~/stackrc"" overcloud_rc: ""~/overcloudrc"" upgrade_workarounds: false use_oooq: false workload_launch: false workload_cleanup: false external_network_name: ""public"" workload_image_url: ""https://download.cirros-cloud.net/0.5.2/cirros-0.5.2-x86_64-disk.img"" workload_memory: ""512"" workload_sriov: false tripleo_ci: false Bash commands, defines a custom upgrade init to be taken into account during overcloud upgrade:: Set it to true to get a multi-cell update. It changes the way the oc_roles_hosts is calculated::When set to true add a vm with attached fip and monitor ping from the undercloud. If ping loss time is higher than `loss_threshold` seconds or `loss_threshold_percent` in percentage we fail:: l3_agent_connectivity_check: false For update run tasks we set a 0 seconds loss threshold by default:: update_loss_threshold: 0 Default time is 60 seconds for ping loss:: loss_threshold: 60 Failsafe percentage check for loss threashold in percentage:: loss_threshold_percent: 1 -e 'roles_upgrade_order=ControllerOpenstack,Database;Messaging'","Available variables are listed below:: upgrade_noop: false update_noop: false undercloud_upgrade: false containerized_undercloud_upgrade: false overcloud_upgrade: false undercloud_update: false overcloud_update: false overcloud_deploy_script: ""~/overcloud_deploy.sh"" overcloud_images_validate: false undercloud_upgrade_script: ""~/undercloud_upgrade.sh"" overcloud_composable_upgrade_script: ""~/composable_docker_upgrade.sh"" overcloud_converge_upgrade_script: ""~/converge_docker_upgrade.sh"" undercloud_rc: ""~/stackrc"" overcloud_rc: ""~/overcloudrc"" upgrade_workarounds: false use_oooq: false workload_launch: false workload_cleanup: false external_network_name: ""public"" workload_image_url: ""https://download.cirros-cloud.net/0.5.2/cirros-0.5.2-x86_64-disk.img"" workload_memory: ""512"" workload_sriov: false tripleo_ci: falseBash commands, defines a custom upgrade init to be taken into account during overcloud upgrade.Set it to true to get a multi-cell update. It changes the way the oc_roles_hosts is calculated. l3_agent_connectivity_check: false When set to true add a vm with attached fip and monitor ping from the undercloud. If ping loss time is higher than `loss_threshold` seconds or `loss_threshold_percent` in percentage we fail. update_loss_threshold: 0 For update run tasks we set a 0 seconds loss threshold by default. loss_threshold: 60 Default time is second for ping loss. loss_threshold_percent: 1 Failsafe percentage check for loss threashold in percentage -e 'roles_upgrade_order=ControllerOpenstack;Database;Messaging'",37,37
openstack%2Fpython-aodhclient~master~I5a030d76cffe88b8c93e8decac1c34f0f6a8ced6,openstack/python-aodhclient,master,I5a030d76cffe88b8c93e8decac1c34f0f6a8ced6,Remove unicode prefixes,ABANDONED,2022-08-06 16:27:34.000000000,2022-10-13 14:09:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-08-06 16:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/70c7055a15694ed114de25477701c9b68f7ff902', 'message': 'Remove unicode prefixes\n\nA unicode prefix is meaningless in Python 3. Because now this library\nsupports only Python 3, we can remove the prefix.\n\nChange-Id: I5a030d76cffe88b8c93e8decac1c34f0f6a8ced6\n'}, {'number': 2, 'created': '2022-08-06 17:16:19.000000000', 'files': ['aodhclient/tests/functional/test_alarm.py', 'aodhclient/tests/functional/test_alarm_history.py', 'doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/0d2a1cd3512f4087e4d89ee4a0fd6dd044a8699c', 'message': 'Remove unicode prefixes\n\nA unicode prefix is meaningless in Python 3. Because now this library\nsupports only Python 3, we can remove the prefix.\n\nChange-Id: I5a030d76cffe88b8c93e8decac1c34f0f6a8ced6\n'}]",3,852299,0d2a1cd3512f4087e4d89ee4a0fd6dd044a8699c,7,1,2,9816,,,0,"Remove unicode prefixes

A unicode prefix is meaningless in Python 3. Because now this library
supports only Python 3, we can remove the prefix.

Change-Id: I5a030d76cffe88b8c93e8decac1c34f0f6a8ced6
",git fetch https://review.opendev.org/openstack/python-aodhclient refs/changes/99/852299/1 && git format-patch -1 --stdout FETCH_HEAD,"['aodhclient/tests/functional/test_alarm.py', 'aodhclient/tests/functional/test_alarm_history.py', 'doc/source/conf.py', 'releasenotes/source/conf.py']",4,70c7055a15694ed114de25477701c9b68f7ff902,,"copyright = '2015-present, Aodh developers' 'Aodh Client Release Notes Documentation', 'Aodh developers', 'manual'), ('index', 'pythonaodhclient', 'Aodh Client Release Notes Documentation', ['Aodh developers'], 1) ('index', 'PythonAodhClient', 'Aodh Client Release Notes Documentation', 'Aodh developers', 'PythonAodhClient',","copyright = u'2015-present, Aodh developers' u'Aodh Client Release Notes Documentation', u'Aodh developers', 'manual'), ('index', 'pythonaodhclient', u'Aodh Client Release Notes Documentation', [u'Aodh developers'], 1) ('index', 'PythonAodhClient', u'Aodh Client Release Notes Documentation', u'Aodh developers', 'PythonAodhClient',",31,31
openstack%2Foslo.db~master~Id2c8eec202d128d142b8a8a8f904fcc14b6f52d7,openstack/oslo.db,master,Id2c8eec202d128d142b8a8a8f904fcc14b6f52d7,tests: Fix compatibility with PostgreSQL 14+,MERGED,2022-09-09 16:39:03.000000000,2022-10-13 13:54:01.000000000,2022-10-13 13:53:03.000000000,"[{'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30396}, {'_account_id': 30491}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-09-09 16:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/4c8182e35fe9bbb2cf974c0ac0ce963693827788', 'message': 'tests: Fix compatibility with PostgreSQL 14+\n\nIt seems postgres-client has changed the format of error messages.\nPreviously we saw messages like:\n\n  fatal: database ""non_existent_database"" does not exist\n\nThese are now prefixed. For example:\n\n  connection to server at ""localhost"" (::1), port 5432 failed: fatal:\n  database ""non_existent_database"" does not exist\n\nYou can see this in the docs. Compare the ""Client Connection Problems""\nsection for Postgres 13 [1] to Postgres 14 [2].\n\n[1] https://www.postgresql.org/docs/13/server-start.html\n[2] https://www.postgresql.org/docs/14/server-start.html\n\nChange-Id: Id2c8eec202d128d142b8a8a8f904fcc14b6f52d7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2022-09-09 16:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/2a949a837a2a140bd10777435e6472894bd4c586', 'message': 'tests: Fix compatibility with PostgreSQL 14+\n\nIt seems postgres-client has changed the format of error messages.\nPreviously we saw messages like:\n\n  fatal: database ""non_existent_database"" does not exist\n\nThese are now prefixed. For example:\n\n  connection to server at ""localhost"" (::1), port 5432 failed: fatal:\n  database ""non_existent_database"" does not exist\n\nYou can see this in the docs. Compare the ""Client Connection Problems""\nsection for Postgres 13 [1] to Postgres 14 [2].\n\n[1] https://www.postgresql.org/docs/13/server-start.html\n[2] https://www.postgresql.org/docs/14/server-start.html\n\nChange-Id: Id2c8eec202d128d142b8a8a8f904fcc14b6f52d7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-bug: #1989208\n'}, {'number': 3, 'created': '2022-10-13 10:23:22.000000000', 'files': ['oslo_db/tests/sqlalchemy/test_exc_filters.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/437a19703d63801997f2ccece516a2790d438cee', 'message': 'tests: Fix compatibility with PostgreSQL 14+\n\nIt seems postgres-client has changed the format of error messages.\nPreviously we saw messages like:\n\n  fatal: database ""non_existent_database"" does not exist\n\nThese are now prefixed. For example:\n\n  connection to server at ""localhost"" (::1), port 5432 failed: fatal:\n  database ""non_existent_database"" does not exist\n\nYou can see this in the docs. Compare the ""Client Connection Problems""\nsection for Postgres 13 [1] to Postgres 14 [2].\n\n[1] https://www.postgresql.org/docs/13/server-start.html\n[2] https://www.postgresql.org/docs/14/server-start.html\n\nChange-Id: Id2c8eec202d128d142b8a8a8f904fcc14b6f52d7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-bug: #1989208\n'}]",2,856836,437a19703d63801997f2ccece516a2790d438cee,15,5,3,15334,,,0,"tests: Fix compatibility with PostgreSQL 14+

It seems postgres-client has changed the format of error messages.
Previously we saw messages like:

  fatal: database ""non_existent_database"" does not exist

These are now prefixed. For example:

  connection to server at ""localhost"" (::1), port 5432 failed: fatal:
  database ""non_existent_database"" does not exist

You can see this in the docs. Compare the ""Client Connection Problems""
section for Postgres 13 [1] to Postgres 14 [2].

[1] https://www.postgresql.org/docs/13/server-start.html
[2] https://www.postgresql.org/docs/14/server-start.html

Change-Id: Id2c8eec202d128d142b8a8a8f904fcc14b6f52d7
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-bug: #1989208
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/36/856836/3 && git format-patch -1 --stdout FETCH_HEAD,['oslo_db/tests/sqlalchemy/test_exc_filters.py'],1,4c8182e35fe9bbb2cf974c0ac0ce963693827788,bug/1989208," # NOTE(stephenfin): As above, we cannot use assertInnerException since # the error messages vary depending on the version of PostgreSQL self.assertIsInstance( matched.inner_exception, ) # On Postgres 13: # fatal: database ""non_existent_database"" does not exist # On Postgres 14 or later: # connection to server at ""localhost"" (::1), port 5432 failed: fatal: # database ""non_existent_database"" does not exist self.assertIn( 'fatal: database ""non_existent_database"" does not exist', str(matched.inner_exception),"," self.assertInnerException( matched, 'fatal: database ""non_existent_database"" does not exist\n',",13,3
openstack%2Fovn-octavia-provider~stable%2Fxena~Iddd96fd9015230b3dd75aa2182055cf43eb608c1,openstack/ovn-octavia-provider,stable/xena,Iddd96fd9015230b3dd75aa2182055cf43eb608c1,Ensure lbs are properly configured for router gateway set/unset,MERGED,2022-10-10 05:44:49.000000000,2022-10-13 13:51:08.000000000,2022-10-13 13:50:01.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 30396}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-10-10 05:44:49.000000000', 'files': ['ovn_octavia_provider/event.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/4f4c80c98e160a415d5b5129e40f0018811a68d2', 'message': ""Ensure lbs are properly configured for router gateway set/unset\n\nBefore adding support for lbs with VIPs on the provider networks,\nthere was no need to react to gateway chassis creation events, and\nnothing was done for its deletion. However, after adding the support\nfor that, there is a need of properly handling the creation event\nfor that type of port.\n\nFor the loadbalancer VIPs on the provider network, processing the\nevent and triggering the lb_creat_lrp_assoc_handler means that the\ninformation about the logical router will be added, i.e., the router\nis added to the loadbalancer external_ids as a lr_ref, while the\nloadbalancer is also added into the logical_router object\n(loadbalancer entry). In addition, the lb is also added to the logical\nswitches connected to the router.\n\nFor the loadbalancer VIPs on tenant networks (which should not be\naffected by the gateway port creation/deletion), this patch ensures\nthe lb is not added to the logical switch representing the provider\nnetwork that is connected to the router. Therefore differentiating\nbetween lrp ports which has gateway_chassis and the ones that don't,\ni.e., adding the lb to the switch when the lrp port is the one\nconnecting a subnet with the router, and not doing so when it is the\ngateway port for the router to the provider network.\n\nCloses-Bug: #1991509\n\nChange-Id: Iddd96fd9015230b3dd75aa2182055cf43eb608c1\n(cherry picked from commit d889812f3c2deaf630892d65c90cdbafd4435d21)\n""}]",1,860666,4f4c80c98e160a415d5b5129e40f0018811a68d2,15,5,1,23567,,,0,"Ensure lbs are properly configured for router gateway set/unset

Before adding support for lbs with VIPs on the provider networks,
there was no need to react to gateway chassis creation events, and
nothing was done for its deletion. However, after adding the support
for that, there is a need of properly handling the creation event
for that type of port.

For the loadbalancer VIPs on the provider network, processing the
event and triggering the lb_creat_lrp_assoc_handler means that the
information about the logical router will be added, i.e., the router
is added to the loadbalancer external_ids as a lr_ref, while the
loadbalancer is also added into the logical_router object
(loadbalancer entry). In addition, the lb is also added to the logical
switches connected to the router.

For the loadbalancer VIPs on tenant networks (which should not be
affected by the gateway port creation/deletion), this patch ensures
the lb is not added to the logical switch representing the provider
network that is connected to the router. Therefore differentiating
between lrp ports which has gateway_chassis and the ones that don't,
i.e., adding the lb to the switch when the lrp port is the one
connecting a subnet with the router, and not doing so when it is the
gateway port for the router to the provider network.

Closes-Bug: #1991509

Change-Id: Iddd96fd9015230b3dd75aa2182055cf43eb608c1
(cherry picked from commit d889812f3c2deaf630892d65c90cdbafd4435d21)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/66/860666/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/event.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",3,4f4c80c98e160a415d5b5129e40f0018811a68d2,," 'network': self.network, 'gateway_chassis': []}, expected = { 'info': {'router': self.router, 'network': self.network, 'gateway_chassis': ['temp-gateway-chassis']}, 'type': 'lb_create_lrp_assoc'} self.mock_add_request.assert_called_once_with(expected) lrp = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'gateway_chassis': []}) 'network': self.network, 'gateway_chassis': []}, 'gateway_chassis': [], 'gateway_chassis': [], 'gateway_chassis': 'fake-chassis', 'gateway_chassis': 'fake-chassis',"," 'network': self.network}, self.mock_add_request.assert_not_called() lrp = fakes.FakeOvsdbRow.create_one_ovsdb_row() 'network': self.network},",28,7
openstack%2Fdesignate-tempest-plugin~master~I9e90196e2df945855ef7d6a74afac13834a1339a,openstack/designate-tempest-plugin,master,I9e90196e2df945855ef7d6a74afac13834a1339a,Fix blacklist scenario test conflicts,MERGED,2022-10-12 21:50:41.000000000,2022-10-13 13:46:16.000000000,2022-10-13 13:45:07.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 28609}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-10-12 21:50:41.000000000', 'files': ['designate_tempest_plugin/tests/scenario/v2/test_blacklists.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/e52be15f300c5cb3aae56839a55b19e5f493119b', 'message': 'Fix blacklist scenario test conflicts\n\nA recent patch[1] reverted a fix for broad blacklists in scenario tests interferring with other test suites. This patch puts that fix[2] back in to stop cross-test suite failures due to blacklist collisions.\n\n[1] https://review.opendev.org/c/openstack/designate-tempest-plugin/+/853873\n[2] https://review.opendev.org/c/openstack/designate-tempest-plugin/+/816910\n\nChange-Id: I9e90196e2df945855ef7d6a74afac13834a1339a\n'}]",0,861115,e52be15f300c5cb3aae56839a55b19e5f493119b,10,5,1,11628,,,0,"Fix blacklist scenario test conflicts

A recent patch[1] reverted a fix for broad blacklists in scenario tests interferring with other test suites. This patch puts that fix[2] back in to stop cross-test suite failures due to blacklist collisions.

[1] https://review.opendev.org/c/openstack/designate-tempest-plugin/+/853873
[2] https://review.opendev.org/c/openstack/designate-tempest-plugin/+/816910

Change-Id: I9e90196e2df945855ef7d6a74afac13834a1339a
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/15/861115/1 && git format-patch -1 --stdout FETCH_HEAD,['designate_tempest_plugin/tests/scenario/v2/test_blacklists.py'],1,e52be15f300c5cb3aae56839a55b19e5f493119b,," {'pattern': '^blacklistnameregextest2.*', 'description': 'Zone starts with ""blacklistnameregextest2""'}, name='blacklistnameregextest2{}'.format(zone_name_to_deny)) name='blacklistnameregextest2{}'.format(zone_name_to_deny),"," {'pattern': '^a.*', 'description': 'Zone starts with ""a"" char'}, name='a{}'.format(zone_name_to_deny)) name='a{}'.format(zone_name_to_deny),",4,4
openstack%2Freleases~master~I621dfe3fb032c4b550d8e6840cb41e2509300a51,openstack/releases,master,I621dfe3fb032c4b550d8e6840cb41e2509300a51,Release glance-store 4.1.1,ABANDONED,2022-10-10 16:26:05.000000000,2022-10-13 13:36:33.000000000,,"[{'_account_id': 8122}, {'_account_id': 17685}, {'_account_id': 19138}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-10 16:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7e765bb5edcd88299b0a5c8eea067c98ce7e23b8', 'message': 'Release glance-store 4.1.1\n\nChange-Id: I621dfe3fb032c4b550d8e6840cb41e2509300a51\n'}, {'number': 2, 'created': '2022-10-10 17:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/19558c7a89acf7a8470313dc7734338c28f840c7', 'message': 'Release glance-store 4.1.1\n\nChange-Id: I621dfe3fb032c4b550d8e6840cb41e2509300a51\n'}, {'number': 3, 'created': '2022-10-10 17:38:12.000000000', 'files': ['deliverables/antelope/glance-store.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c814001bcd484b3ccf454a5dd799c0a60adba219', 'message': 'Release glance-store 4.1.1\n\nChange-Id: I621dfe3fb032c4b550d8e6840cb41e2509300a51\n'}]",2,860857,c814001bcd484b3ccf454a5dd799c0a60adba219,9,4,3,4393,,,0,"Release glance-store 4.1.1

Change-Id: I621dfe3fb032c4b550d8e6840cb41e2509300a51
",git fetch https://review.opendev.org/openstack/releases refs/changes/57/860857/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/zed/glance-store.yaml'],1,7e765bb5edcd88299b0a5c8eea067c98ce7e23b8,glance-store-411, - version: 4.1.1 projects: - repo: openstack/glance_store hash: d2dfe692f366bf0ae55532c9509a6fd11fff410a,,4,0
openstack%2Fpython-tripleoclient~master~Ia2801c535cc81591cbbda64b3c63530e6e533d88,openstack/python-tripleoclient,master,Ia2801c535cc81591cbbda64b3c63530e6e533d88,Fix password file path message,MERGED,2022-10-11 01:52:52.000000000,2022-10-13 13:15:05.000000000,2022-10-13 13:14:01.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-10-11 01:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1251d9fff1f2762362d0b91e71845455f6d07075', 'message': 'Fix password file path message\n\nThis change fixes the path printed by the UNDERCLOUD_COMPLETION_MESSAGE.\nIf output_dir is defined in the config, we will use that. Else, we default\nto /home/stack/tripleo-deploy/undercloud\n\nResolves: rhbz#2133508\nChange-Id: Ia2801c535cc81591cbbda64b3c63530e6e533d88\n'}, {'number': 2, 'created': '2022-10-11 07:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3cc305b3f0fd71365cbcdab1aad9234c34c3b2ef', 'message': 'Fix password file path message\n\nThis change fixes the path printed by the UNDERCLOUD_COMPLETION_MESSAGE.\nIf output_dir is defined in the config, we will use that. Else, we default\nto /home/stack/tripleo-deploy/undercloud\n\nResolves: rhbz#2133508\nChange-Id: Ia2801c535cc81591cbbda64b3c63530e6e533d88\n'}, {'number': 3, 'created': '2022-10-12 06:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4457f7d60a46a2170fb3470625972ddeb05f76b4', 'message': 'Fix password file path message\n\nThis change fixes the path printed by the UNDERCLOUD_COMPLETION_MESSAGE.\nIf output_dir is defined in the config, we will use that. Else, we default\nto /home/stack/tripleo-deploy/undercloud\n\nResolves: rhbz#2133508\nChange-Id: Ia2801c535cc81591cbbda64b3c63530e6e533d88\n'}, {'number': 4, 'created': '2022-10-12 07:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/63670d2921e62d7e5d3de8f1bea00ac11b98b510', 'message': 'Fix password file path message\n\nThis change fixes the path printed by the UNDERCLOUD_COMPLETION_MESSAGE.\nIf output_dir is defined in the config, we will use that. Else, we default\nto /home/stack/tripleo-deploy/undercloud\n\nResolves: rhbz#2133508\nChange-Id: Ia2801c535cc81591cbbda64b3c63530e6e533d88\n'}, {'number': 5, 'created': '2022-10-12 09:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8f7aac5c7e0b3caed45214dfd65a0715549e90f1', 'message': 'Fix password file path message\n\nThis change fixes the path printed by the UNDERCLOUD_COMPLETION_MESSAGE.\nIf output_dir is defined in the config, we will use that. Else, we default\nto /home/stack/tripleo-deploy/undercloud\n\nResolves: rhbz#2133508\nChange-Id: Ia2801c535cc81591cbbda64b3c63530e6e533d88\n'}, {'number': 6, 'created': '2022-10-12 09:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6b09dc2dc10de983d9622854ff52616ceb23cd78', 'message': 'Fix password file path message\n\nThis change fixes the path printed by the UNDERCLOUD_COMPLETION_MESSAGE.\nIf output_dir is defined in the config, we will use that. Else, we default\nto /home/stack/tripleo-deploy/undercloud\n\nResolves: rhbz#2133508\nChange-Id: Ia2801c535cc81591cbbda64b3c63530e6e533d88\n'}, {'number': 7, 'created': '2022-10-12 14:10:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d907d7a10e5d0ac6fc65fd5a79fc450dab5a51ff', 'message': 'Fix password file path message\n\nThis change fixes the path printed by the UNDERCLOUD_COMPLETION_MESSAGE.\nIf output_dir is defined in the config, we will use that. Else, we default\nto /home/stack/tripleo-deploy/undercloud\n\nResolves: rhbz#2133508\nChange-Id: Ia2801c535cc81591cbbda64b3c63530e6e533d88\n'}, {'number': 8, 'created': '2022-10-12 21:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2650f0d2c2fad170a5c135debd8d12758a671491', 'message': 'Fix password file path message\n\nThis change fixes the path printed by the UNDERCLOUD_COMPLETION_MESSAGE.\nIf output_dir is defined in the config, we will use that. Else, we default\nto /home/stack/tripleo-deploy/undercloud\n\nResolves: rhbz#2133508\nChange-Id: Ia2801c535cc81591cbbda64b3c63530e6e533d88\n'}, {'number': 9, 'created': '2022-10-13 02:32:47.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/utils.py', 'tripleoclient/v1/undercloud.py', 'tripleoclient/v1/undercloud_preflight.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/17bf3ed4f8f54290f03592d5005b60e326f0a414', 'message': 'Fix password file path message\n\nThis change fixes the path printed by the UNDERCLOUD_COMPLETION_MESSAGE.\nIf output_dir is defined in the config, we will use that. Else, we default\nto /home/stack/tripleo-deploy/undercloud\n\nResolves: rhbz#2133508\nChange-Id: Ia2801c535cc81591cbbda64b3c63530e6e533d88\n'}]",26,860889,17bf3ed4f8f54290f03592d5005b60e326f0a414,44,6,9,30073,,,0,"Fix password file path message

This change fixes the path printed by the UNDERCLOUD_COMPLETION_MESSAGE.
If output_dir is defined in the config, we will use that. Else, we default
to /home/stack/tripleo-deploy/undercloud

Resolves: rhbz#2133508
Change-Id: Ia2801c535cc81591cbbda64b3c63530e6e533d88
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/89/860889/8 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud.py'],1,1251d9fff1f2762362d0b91e71845455f6d07075,password-dir,"if not cfg.CONF.get('output_dir'): _OUTPUT_DIR = os.path.join(constants.UNDERCLOUD_OUTPUT_DIR, 'tripleo-deploy', 'undercloud') else: _OUTPUT_DIR = cfg.CONF.get['output_dir'] _OUTPUT_DIR, _OUTPUT_DIR,"," constants.UNDERCLOUD_OUTPUT_DIR, constants.UNDERCLOUD_OUTPUT_DIR,",8,2
openstack%2Foslo.config~stable%2Fzed~I8396b4f3ba74a9ea023bff2e3027710f16a74af4,openstack/oslo.config,stable/zed,I8396b4f3ba74a9ea023bff2e3027710f16a74af4,fix CLI mismatch in unit tests,MERGED,2022-09-09 14:44:40.000000000,2022-10-13 13:14:24.000000000,2022-10-13 13:13:25.000000000,"[{'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30396}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-09-09 14:44:40.000000000', 'files': ['oslo_config/tests/test_cfg.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/c9aeb2bf3c9b68c7c4156b1f4415456e049e4536', 'message': 'fix CLI mismatch in unit tests\n\nSince cliff > 3.4.0 we can see mismatch errors with unit tests, this\npatch fix this error.\n\nAlso this patch fix some issues with deprecation messages.\n\nAll these issues needs to be fixed together to unlock our gates.\n\nCloses-bug: #1908934\nChange-Id: I8396b4f3ba74a9ea023bff2e3027710f16a74af4\n(cherry picked from commit 78098e6b18026ff9ef03a948b57348f02d42e13b)\n'}]",0,856775,c9aeb2bf3c9b68c7c4156b1f4415456e049e4536,9,4,1,15334,,,0,"fix CLI mismatch in unit tests

Since cliff > 3.4.0 we can see mismatch errors with unit tests, this
patch fix this error.

Also this patch fix some issues with deprecation messages.

All these issues needs to be fixed together to unlock our gates.

Closes-bug: #1908934
Change-Id: I8396b4f3ba74a9ea023bff2e3027710f16a74af4
(cherry picked from commit 78098e6b18026ff9ef03a948b57348f02d42e13b)
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/75/856775/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_config/tests/test_cfg.py'],1,c9aeb2bf3c9b68c7c4156b1f4415456e049e4536,," 'usage: test [-h] [--aa AA] [--bb BB] [--cc CC] ' '[--config-dir DIR]', expected = ('Deprecated: ' + cfg._Namespace._deprecated_opt_message % self.assertEqual(expected + '\n', self.log_fixture.output) expected = ('Deprecated: Option ""foo"" from group ""DEFAULT"" is ' 'deprecated for removal. Its value may be silently ' 'ignored in the future.\n') self.assertEqual(expected, self.log_fixture.output) expected = ('Deprecated: Option ""foo"" from group ""other"" is ' 'deprecated for removal. Its value may be silently ' 'ignored in the future.\n') self.assertEqual(expected, self.log_fixture.output) expected = ('Deprecated: ' + cfg._Namespace._deprecated_opt_message % self.assertEqual(expected, self.log_fixture.output)"," 'usage: test [-h] [--aa AA] [--bb BB] [--cc CC] [--config-dir DIR]' '\n [--config-file PATH] [--version]', expected = (cfg._Namespace._deprecated_opt_message % self.assertEqual(self.log_prefix + expected + '\n', self.log_fixture.output) expected = ('Option ""foo"" from group ""DEFAULT"" is deprecated for ' 'removal. Its value may be silently ignored in the ' 'future.\n') self.assertEqual(self.log_prefix + expected, self.log_fixture.output) expected = ('Option ""foo"" from group ""other"" is deprecated for ' 'removal. Its value may be silently ignored in the ' 'future.\n') self.assertEqual(self.log_prefix + expected, self.log_fixture.output) expected = (cfg._Namespace._deprecated_opt_message % self.assertEqual(self.log_prefix + expected, self.log_fixture.output)",14,15
