id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Ftripleo-ci~master~I7902c285bcf4574624b7ad50bb953aeb2af74a9e,openstack/tripleo-ci,master,I7902c285bcf4574624b7ad50bb953aeb2af74a9e,Add multinode minion job,MERGED,2019-05-30 22:42:20.000000000,2019-08-01 05:47:43.000000000,2019-08-01 05:47:42.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-05-30 22:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/dd24ebab68978371550af60ab1517e64c89632b1', 'message': 'WIP: Add multinode minion job\n\nDepends-On: https://review.opendev.org/#/c/662343/\nDepends-On: https://review.opendev.org/#/c/662349/\nChange-Id: I7902c285bcf4574624b7ad50bb953aeb2af74a9e\n'}, {'number': 2, 'created': '2019-05-30 22:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b476cad8746c5b7629df6ba717f9161cdcc5c42d', 'message': 'WIP: Add multinode minion job\n\nDepends-On: https://review.opendev.org/#/c/662343/\nDepends-On: https://review.opendev.org/#/c/662349/\nChange-Id: I7902c285bcf4574624b7ad50bb953aeb2af74a9e\n'}, {'number': 3, 'created': '2019-06-03 16:10:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9ad45b46bf6b92e26377f0ebf93262c833dd71d0', 'message': 'WIP: Add multinode minion job\n\nDepends-On: https://review.opendev.org/#/c/662343/\nDepends-On: https://review.opendev.org/#/c/662349/\nChange-Id: I7902c285bcf4574624b7ad50bb953aeb2af74a9e\n'}, {'number': 4, 'created': '2019-06-06 15:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/934c594320bc79fb1c99f063657e74c63aa37d3a', 'message': 'WIP: Add multinode minion job\n\nDepends-On: https://review.opendev.org/#/c/662343/\nDepends-On: https://review.opendev.org/#/c/662349/\nChange-Id: I7902c285bcf4574624b7ad50bb953aeb2af74a9e\n'}, {'number': 5, 'created': '2019-06-13 15:57:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cb34482c7f430ab878959a8cccdc5afb6e703217', 'message': 'Add multinode minion job\n\nDepends-On: https://review.opendev.org/#/c/662343/\nDepends-On: https://review.opendev.org/#/c/662349/\nChange-Id: I7902c285bcf4574624b7ad50bb953aeb2af74a9e\n'}, {'number': 6, 'created': '2019-06-17 21:51:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/15c7c49bf7845576503d60c027e422be06fa84fc', 'message': 'Add multinode minion job\n\nDepends-On: https://review.opendev.org/#/c/662343/\nDepends-On: https://review.opendev.org/#/c/662349/\nChange-Id: I7902c285bcf4574624b7ad50bb953aeb2af74a9e\n'}, {'number': 7, 'created': '2019-06-28 19:24:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8f7df191423c4b62d586f67c933d04e681a2b297', 'message': 'Add multinode minion job\n\nDepends-On: https://review.opendev.org/#/c/662343/\nDepends-On: https://review.opendev.org/#/c/662349/\nChange-Id: I7902c285bcf4574624b7ad50bb953aeb2af74a9e\n'}, {'number': 8, 'created': '2019-07-23 15:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/11e45ab1484f99215b5a3dab64707b264646fb3e', 'message': 'Add multinode minion job\n\nDepends-On: https://review.opendev.org/#/c/662343/\nDepends-On: https://review.opendev.org/#/c/662349/\nChange-Id: I7902c285bcf4574624b7ad50bb953aeb2af74a9e\n'}, {'number': 9, 'created': '2019-07-30 13:39:02.000000000', 'files': ['toci-quickstart/config/testenv/multinode.yml', 'zuul.d/layout.yaml', 'zuul.d/multinode-jobs.yaml', 'toci-quickstart/config/testenv/multinode-rdocloud.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a9feeae6b2fc2c402fae7f9c2a5e12a0b49b6268', 'message': 'Add multinode minion job\n\nDepends-On: https://review.opendev.org/#/c/662343/\nDepends-On: https://review.opendev.org/#/c/662349/\nDepends-On: https://review.opendev.org/#/c/672380/\nChange-Id: I7902c285bcf4574624b7ad50bb953aeb2af74a9e\n'}]",1,662350,a9feeae6b2fc2c402fae7f9c2a5e12a0b49b6268,52,9,9,14985,,,0,"Add multinode minion job

Depends-On: https://review.opendev.org/#/c/662343/
Depends-On: https://review.opendev.org/#/c/662349/
Depends-On: https://review.opendev.org/#/c/672380/
Change-Id: I7902c285bcf4574624b7ad50bb953aeb2af74a9e
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/50/662350/9 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,dd24ebab68978371550af60ab1517e64c89632b1,bp/undercloud-minion, name: tripleo-ci-centos-7-undercloud-minion parent: tripleo-ci-base-multinode branches: ^(?!stable/(ocata|pike|queens|rocky|stein)).*$ voting: false vars: nodes: 1minion featureset: '061' playbooks: - multinode-minion.yml - job:,,11,0
openstack%2Fpython-tripleoclient~master~I510457333aadcabe0f02c05a39c7c10b221410ae,openstack/python-tripleoclient,master,I510457333aadcabe0f02c05a39c7c10b221410ae,Write minion preflight checks,MERGED,2019-07-26 19:41:50.000000000,2019-08-01 05:12:13.000000000,2019-08-01 05:12:13.000000000,"[{'_account_id': 3153}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-26 19:41:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d721be62a2a56a67f945ce4088d71bec2883d896', 'message': 'Write minion preflight checks\n\nThere are some basics we should check before running the install.\n\nChange-Id: I510457333aadcabe0f02c05a39c7c10b221410ae\nBlueprint: undercloud-minion\n'}, {'number': 2, 'created': '2019-07-26 19:51:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/28b036feb275e59d8c666416243846ddc96778ab', 'message': 'Write minion preflight checks\n\nThere are some basics we should check before running the install.\n\nChange-Id: I510457333aadcabe0f02c05a39c7c10b221410ae\nBlueprint: undercloud-minion\n'}, {'number': 3, 'created': '2019-07-26 22:32:01.000000000', 'files': ['tripleoclient/v1/undercloud_preflight.py', 'tripleoclient/v1/minion_config.py', 'tripleoclient/tests/v1/undercloud/minion/test_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d242ad7cfefdb2494b11752791764bd7cedbe2a8', 'message': 'Write minion preflight checks\n\nThere are some basics we should check before running the install.\n\nChange-Id: I510457333aadcabe0f02c05a39c7c10b221410ae\nBlueprint: undercloud-minion\n'}]",2,673099,d242ad7cfefdb2494b11752791764bd7cedbe2a8,14,5,3,14985,,,0,"Write minion preflight checks

There are some basics we should check before running the install.

Change-Id: I510457333aadcabe0f02c05a39c7c10b221410ae
Blueprint: undercloud-minion
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/99/673099/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/minion_config.py', 'tripleoclient/v1/undercloud_preflight.py', 'tripleoclient/tests/v1/undercloud/minion/test_config.py']",3,d721be62a2a56a67f945ce4088d71bec2883d896,bug/1837623," @mock.patch('tripleoclient.v1.undercloud_preflight.minion_check') mock_images_config, mock_isdir, mock_ans_symlink, mock_check): @mock.patch('tripleoclient.v1.undercloud_preflight.minion_check') mock_ans_symlink, mock_check):"," mock_images_config, mock_isdir, mock_ans_symlink): mock_ans_symlink):",47,8
openstack%2Fpython-tripleoclient~master~Ib1444f8b21d90a00dd1d775f5eac633c43f39741,openstack/python-tripleoclient,master,Ib1444f8b21d90a00dd1d775f5eac633c43f39741,Remove rhsm cli options,MERGED,2019-07-31 15:25:09.000000000,2019-08-01 05:02:17.000000000,2019-08-01 05:02:17.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-31 15:25:09.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/constants.py', 'releasenotes/notes/deployment-rhel-registration-cli-removal-cf36ac9fb4d81a04.yaml', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1be46111e68d79f8e172a31f24ddd776c743a0a5', 'message': 'Remove rhsm cli options\n\nThe code behind these options has been removed in tripleo-heat-templates\nso we no longer need these cli options. Additionally we do not want\nfolks using them since they do nothing.\n\nhttps://review.opendev.org/#/c/669951/\n\nChange-Id: Ib1444f8b21d90a00dd1d775f5eac633c43f39741\n'}]",0,673847,1be46111e68d79f8e172a31f24ddd776c743a0a5,8,3,1,14985,,,0,"Remove rhsm cli options

The code behind these options has been removed in tripleo-heat-templates
so we no longer need these cli options. Additionally we do not want
folks using them since they do nothing.

https://review.opendev.org/#/c/669951/

Change-Id: Ib1444f8b21d90a00dd1d775f5eac633c43f39741
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/47/673847/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/constants.py', 'releasenotes/notes/deployment-rhel-registration-cli-removal-cf36ac9fb4d81a04.yaml', 'tripleoclient/v1/overcloud_deploy.py']",4,1be46111e68d79f8e172a31f24ddd776c743a0a5,rhel-reg-removal,," def _create_registration_env(self, args, tht_root): user_tht_root = args.templates registry = os.path.join( user_tht_root, constants.RHEL_REGISTRATION_EXTRACONFIG_NAME, 'rhel-registration-resource-registry.yaml') user_env = {'rhel_reg_method': args.reg_method, 'rhel_reg_org': args.reg_org, 'rhel_reg_force': args.reg_force, 'rhel_reg_sat_url': args.reg_sat_url, 'rhel_reg_activation_key': args.reg_activation_key} parameter_defaults = {""parameter_defaults"": user_env} env_path, swift_path = self._write_user_environment( parameter_defaults, 'tripleoclient-registration-parameters.yaml', tht_root, args.stack) return [registry], {""parameter_defaults"": user_env} if parsed_args.rhel_reg: reg_env_files, reg_env = self._create_registration_env( parsed_args, tht_root) created_env_files.extend(reg_env_files) template_utils.deep_update(env, reg_env) reg_group = parser.add_argument_group('Registration Parameters') reg_group.add_argument( '--rhel-reg', action='store_true', help=_('Register overcloud nodes to the customer portal or a ' 'satellite.') ) reg_group.add_argument( '--reg-method', choices=['satellite', 'portal'], default='satellite', help=_('RHEL registration method to use for the overcloud nodes.') ) reg_group.add_argument( '--reg-org', default='', help=_('Organization key to use for registration.') ) reg_group.add_argument( '--reg-force', action='store_true', help=_('Register the system even if it is already registered.') ) reg_group.add_argument( '--reg-sat-url', default='', help=_('Satellite server to register overcloud nodes.') ) reg_group.add_argument( '--reg-activation-key', default='', help=_('Activation key to use for registration.') ) if parsed_args.rhel_reg: if parsed_args.reg_method == 'satellite': sat_required_args = (parsed_args.reg_org and parsed_args.reg_sat_url and parsed_args.reg_activation_key) if not sat_required_args: raise exceptions.DeploymentError( ""ERROR: In order to use satellite registration, "" ""you must specify --reg-org, --reg-sat-url, and "" ""--reg-activation-key."") else: portal_required_args = (parsed_args.reg_org and parsed_args.reg_activation_key) if not portal_required_args: raise exceptions.DeploymentError( ""ERROR: In order to use portal registration, you "" ""must specify --reg-org, and "" ""--reg-activation-key."") ",6,276
openstack%2Fnova~master~Ibea4f6e47898f4868fead1f3c94785101e0950fd,openstack/nova,master,Ibea4f6e47898f4868fead1f3c94785101e0950fd,fixed merge conflict,ABANDONED,2019-08-01 03:30:56.000000000,2019-08-01 04:50:13.000000000,,[{'_account_id': 15751}],"[{'number': 1, 'created': '2019-08-01 03:30:56.000000000', 'files': ['nova/tests/unit/accelerator/__init__.py', 'nova/conf/__init__.py', 'nova/conf/cyborg.py', 'nova/tests/unit/accelerator/test_cyborg.py', 'nova/accelerator/__init__.py', 'nova/accelerator/cyborg.py', 'nova/context.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/80ec97f71b704e8f02e1e80ccd08aa98a00ae66e', 'message': 'fixed merge conflict\n\nChange-Id: Ibea4f6e47898f4868fead1f3c94785101e0950fd\n'}]",0,673938,80ec97f71b704e8f02e1e80ccd08aa98a00ae66e,3,1,1,27458,,,0,"fixed merge conflict

Change-Id: Ibea4f6e47898f4868fead1f3c94785101e0950fd
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/673938/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/accelerator/__init__.py', 'nova/conf/__init__.py', 'nova/conf/cyborg.py', 'nova/tests/unit/accelerator/test_cyborg.py', 'nova/accelerator/__init__.py', 'nova/accelerator/cyborg.py', 'nova/context.py']",7,80ec97f71b704e8f02e1e80ccd08aa98a00ae66e,," 'key-manager', 'placement', 'network', 'accelerator')]"," 'key-manager', 'placement', 'network')]",116,1
openstack%2Fsushy~master~I6609e5613e7657cf1f9772cea7cfb48923aac05e,openstack/sushy,master,I6609e5613e7657cf1f9772cea7cfb48923aac05e,Cache message registries,MERGED,2019-07-16 15:48:31.000000000,2019-08-01 04:25:04.000000000,2019-08-01 04:25:04.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-07-16 15:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/b185444e4af93ea8096f6b76a59d25f1ed6651f8', 'message': ""Cache message registries\n\nRedfish message registries can be quite bulky. Depending on BMC's\nversatility, fishing message registries can become expensive.\n\nThis patch caches once downloaded message registries for all\nresources consuming them.\n\nChange-Id: I6609e5613e7657cf1f9772cea7cfb48923aac05e\n""}, {'number': 2, 'created': '2019-07-22 07:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/a009312bb71b925699f0474ee6f808ba9f993f65', 'message': ""Cache message registries\n\nRedfish message registries can be quite bulky. Depending on BMC's\nversatility, fishing message registries can become expensive.\n\nThis patch caches once downloaded message registries for all\nresources consuming them.\n\nChange-Id: I6609e5613e7657cf1f9772cea7cfb48923aac05e\n""}, {'number': 3, 'created': '2019-07-31 13:07:09.000000000', 'files': ['sushy/tests/unit/test_main.py', 'sushy/main.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/ba1b8220e7d2de2f689ab014284e938ee8190709', 'message': ""Cache message registries\n\nRedfish message registries can be quite bulky. Depending on BMC's\nversatility, fishing message registries can become expensive.\n\nThis patch caches once downloaded message registries for all\nresources consuming them.\n\nChange-Id: I6609e5613e7657cf1f9772cea7cfb48923aac05e\n""}]",4,671091,ba1b8220e7d2de2f689ab014284e938ee8190709,14,4,3,26340,,,0,"Cache message registries

Redfish message registries can be quite bulky. Depending on BMC's
versatility, fishing message registries can become expensive.

This patch caches once downloaded message registries for all
resources consuming them.

Change-Id: I6609e5613e7657cf1f9772cea7cfb48923aac05e
",git fetch https://review.opendev.org/openstack/sushy refs/changes/91/671091/3 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/tests/unit/test_main.py', 'sushy/main.py']",2,b185444e4af93ea8096f6b76a59d25f1ed6651f8,02-cache-registries,from sushy import utils @utils.cache_it,,38,0
openstack%2Foctavia~master~I276188530a83598ed75560f02ed9d80ce9afca2f,openstack/octavia,master,I276188530a83598ed75560f02ed9d80ce9afca2f,Add support for oslo_middleware http_proxy_to_wsgi,MERGED,2019-02-27 16:34:29.000000000,2019-08-01 04:21:52.000000000,2019-08-01 04:21:52.000000000,"[{'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 13323}, {'_account_id': 18955}, {'_account_id': 20408}, {'_account_id': 22348}, {'_account_id': 28058}]","[{'number': 1, 'created': '2019-02-27 16:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6e7756c705c1b5127dd218d035fa142292fd2279', 'message': 'WIP: Add support for the oslo_middleware.http_proxy_to_wsgi\n\nTODO:\n1. release note\n2. task in the storyboard\n\nChange-Id: I276188530a83598ed75560f02ed9d80ce9afca2f\n'}, {'number': 2, 'created': '2019-02-27 20:22:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/65375b6cbf891e971ad2578df7cc82685761cc94', 'message': 'Add support for the oslo_middleware.http_proxy_to_wsgi\n\nAdd oslo_middleware.http_proxy_to_wsgi for application\n\nIt can be enabled with the option in octavia.conf:\n[oslo_middleware] enable_proxy_headers_parsing=True\n\nTODO:\n1. release note\n\nStory: 2005105\nTask: 29732\n\nChange-Id: I276188530a83598ed75560f02ed9d80ce9afca2f\n'}, {'number': 3, 'created': '2019-02-27 20:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3e45a47564b38452b829d08c8dd3163269fe308c', 'message': 'Add support for the oslo_middleware.http_proxy_to_wsgi\n\nAdd oslo_middleware http_proxy_to_wsgi for application\n\nIt can be enabled with the option in octavia.conf:\n[oslo_middleware] enable_proxy_headers_parsing=True\n\nTODO:\n1. release note\n\nStory: 2005105\nTask: 29732\n\nChange-Id: I276188530a83598ed75560f02ed9d80ce9afca2f\n'}, {'number': 4, 'created': '2019-02-27 20:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6a79892838485e697ae56ece3e72478c6aea6bc7', 'message': 'Add support for the oslo_middleware http_proxy_to_wsgi\n\nAdd oslo_middleware.http_proxy_to_wsgi for application\n\nIt can be enabled with the option in octavia.conf:\n[oslo_middleware] enable_proxy_headers_parsing=True\n\nTODO:\n1. release note\n\nStory: 2005105\nTask: 29732\n\nChange-Id: I276188530a83598ed75560f02ed9d80ce9afca2f\n'}, {'number': 5, 'created': '2019-02-27 20:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7f88d499a022fbc77c56dfd349695d620cf8759b', 'message': ""Add support for the oslo_middleware http_proxy_to_wsgi\n\nThis sets up the HTTPProxyToWSGI middleware in front of Octavia API. The\npurpose of this middleware is to set up the request URL correctly in\nthe case there is a proxy (For instance, a loadbalancer such as HAProxy)\nin front of Octavia API.\n\nSo, when TLS connections are terminated at the proxy, and one tries to\nget the versions from the '/' resource from Octavia API, one will notice\nthat the protocol is incorrect; It will show 'http' instead of 'https'.\nSo this middleware handles such cases.\n\nThe HTTPProxyToWSGI is off by default and needs to be enabled via a\nconfiguration value.\n\nIt can be enabled with the option in octavia.conf:\n[oslo_middleware]\nenable_proxy_headers_parsing=True\n\nStory: 2005105\nTask: 29732\nChange-Id: I276188530a83598ed75560f02ed9d80ce9afca2f\n""}, {'number': 6, 'created': '2019-02-27 21:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6d327ecce5b63dd09edfdf0405f75034f0f043e2', 'message': ""Add support for the oslo_middleware http_proxy_to_wsgi\n\nThis sets up the HTTPProxyToWSGI middleware in front of Octavia API. The\npurpose of this middleware is to set up the request URL correctly in\nthe case there is a proxy (For instance, a loadbalancer such as HAProxy)\nin front of Octavia API.\n\nSo, when TLS connections are terminated at the proxy, and one tries to\nget the versions from the '/' resource from Octavia API, one will notice\nthat the protocol is incorrect; It will show 'http' instead of 'https'.\nSo this middleware handles such cases.\n\nThe HTTPProxyToWSGI is off by default and needs to be enabled via a\nconfiguration value.\n\nIt can be enabled with the option in octavia.conf:\n[oslo_middleware]\nenable_proxy_headers_parsing=True\n\nStory: 2005105\nTask: 29732\nChange-Id: I276188530a83598ed75560f02ed9d80ce9afca2f\n""}, {'number': 7, 'created': '2019-08-01 00:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2e23b6680febb67c5347f652310e43c549196fba', 'message': ""Add support for the oslo_middleware http_proxy_to_wsgi\n\nThis sets up the HTTPProxyToWSGI middleware in front of Octavia API. The\npurpose of this middleware is to set up the request URL correctly in\nthe case there is a proxy (For instance, a loadbalancer such as HAProxy)\nin front of Octavia API.\n\nSo, when TLS connections are terminated at the proxy, and one tries to\nget the versions from the '/' resource from Octavia API, one will notice\nthat the protocol is incorrect; It will show 'http' instead of 'https'.\nSo this middleware handles such cases.\n\nThe HTTPProxyToWSGI is off by default and needs to be enabled via a\nconfiguration value.\n\nIt can be enabled with the option in octavia.conf:\n[oslo_middleware]\nenable_proxy_headers_parsing=True\n\nStory: 2005105\nTask: 29732\nChange-Id: I276188530a83598ed75560f02ed9d80ce9afca2f\n""}, {'number': 8, 'created': '2019-08-01 00:11:35.000000000', 'files': ['releasenotes/notes/support-oslo_middleware-http_proxy_to_wsgi-928c6fc5ec3d421c.yaml', 'octavia/api/app.py', 'etc/octavia.conf'], 'web_link': 'https://opendev.org/openstack/octavia/commit/ec83c69372d647aaeec02fea6eea29c7ee11115a', 'message': ""Add support for oslo_middleware http_proxy_to_wsgi\n\nThis sets up the HTTPProxyToWSGI middleware in front of Octavia API. The\npurpose of this middleware is to set up the request URL correctly in\nthe case there is a proxy (For instance, a loadbalancer such as HAProxy)\nin front of Octavia API.\n\nSo, when TLS connections are terminated at the proxy, and one tries to\nget the versions from the '/' resource from Octavia API, one will notice\nthat the protocol is incorrect; It will show 'http' instead of 'https'.\nSo this middleware handles such cases.\n\nThe HTTPProxyToWSGI is off by default and needs to be enabled via a\nconfiguration value.\n\nIt can be enabled with the option in octavia.conf:\n[oslo_middleware]\nenable_proxy_headers_parsing=True\n\nStory: 2005105\nTask: 29732\nChange-Id: I276188530a83598ed75560f02ed9d80ce9afca2f\n""}]",0,639736,ec83c69372d647aaeec02fea6eea29c7ee11115a,23,9,8,9373,,,0,"Add support for oslo_middleware http_proxy_to_wsgi

This sets up the HTTPProxyToWSGI middleware in front of Octavia API. The
purpose of this middleware is to set up the request URL correctly in
the case there is a proxy (For instance, a loadbalancer such as HAProxy)
in front of Octavia API.

So, when TLS connections are terminated at the proxy, and one tries to
get the versions from the '/' resource from Octavia API, one will notice
that the protocol is incorrect; It will show 'http' instead of 'https'.
So this middleware handles such cases.

The HTTPProxyToWSGI is off by default and needs to be enabled via a
configuration value.

It can be enabled with the option in octavia.conf:
[oslo_middleware]
enable_proxy_headers_parsing=True

Story: 2005105
Task: 29732
Change-Id: I276188530a83598ed75560f02ed9d80ce9afca2f
",git fetch https://review.opendev.org/openstack/octavia refs/changes/36/639736/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/api/app.py'],1,6e7756c705c1b5127dd218d035fa142292fd2279,http_proxy_to_wsgi,from oslo_middleware import http_proxy_to_wsgi app = http_proxy_to_wsgi.HTTPProxyToWSGI(app),,2,0
openstack%2Fbarbican~master~Ie9a9f7262b6909c919de68f3159422f7efd8ee8f,openstack/barbican,master,Ie9a9f7262b6909c919de68f3159422f7efd8ee8f,fix secret_type_doc,ABANDONED,2019-07-23 07:38:21.000000000,2019-08-01 02:44:09.000000000,,"[{'_account_id': 10068}, {'_account_id': 22348}, {'_account_id': 29071}, {'_account_id': 30498}]","[{'number': 1, 'created': '2019-07-23 07:38:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/cad6acf4bcfa7f4534c19260d01a18f228c92396', 'message': 'fix secret_type_doc\n\nChange-Id: Ie9a9f7262b6909c919de68f3159422f7efd8ee8f\n'}, {'number': 2, 'created': '2019-07-23 07:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/99690a6832d88f8624426ef096c8c557dad1b02b', 'message': ""fix secret_type_doc\n\nThe example to create secret type in offcial document by using single POST request is failed, because the RSA keypair created by OpenSSL is separated with '\\n'.\nIt is necessary to remove '\\n' before creating PUB_BASE64.\n\nChange-Id: Ie9a9f7262b6909c919de68f3159422f7efd8ee8f\n""}, {'number': 3, 'created': '2019-07-23 12:09:48.000000000', 'files': ['doc/source/api/reference/secret_types.rst'], 'web_link': 'https://opendev.org/openstack/barbican/commit/82b1bd23c0be4520d4129528b1dd0ea28b9786f7', 'message': ""fix secret_type_doc\n\nThe example to create secret type in offcial document by using single POST request is failed, because the RSA keypair created by OpenSSL is separated with '\\n'.\nIt is necessary to remove '\\n' before creating PUB_BASE64.\n\nChange-Id: Ie9a9f7262b6909c919de68f3159422f7efd8ee8f\n""}]",0,672211,82b1bd23c0be4520d4129528b1dd0ea28b9786f7,10,4,3,30736,,,0,"fix secret_type_doc

The example to create secret type in offcial document by using single POST request is failed, because the RSA keypair created by OpenSSL is separated with '\n'.
It is necessary to remove '\n' before creating PUB_BASE64.

Change-Id: Ie9a9f7262b6909c919de68f3159422f7efd8ee8f
",git fetch https://review.opendev.org/openstack/barbican refs/changes/11/672211/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/api/reference/secret_types.rst'],1,cad6acf4bcfa7f4534c19260d01a18f228c92396,bugfix001, PUB_BASE64=$(base64 public.pem | tr -d '\n'), PUB_BASE64=$(base64 < public.pem),1,1
openstack%2Ftripleo-heat-templates~master~I8a20ce8785077824d7e6c8d851716f622e77788f,openstack/tripleo-heat-templates,master,I8a20ce8785077824d7e6c8d851716f622e77788f,Change NeutronMechanismDrivers in ml2-ansible environments,MERGED,2019-07-28 15:22:35.000000000,2019-08-01 02:41:08.000000000,2019-08-01 02:41:07.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-28 15:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f614eaf491c5cf3816c6bb710f69bc1fc1d532bb', 'message': 'Disable OVN Services for ml2-ansible\n\nThis should have been done when we moved to ovn as the\ndefault.\n\nNote: Not sure why we maintain two different environments.\nProbably should remove one in a subsequent patch.\n\nChange-Id: I8a20ce8785077824d7e6c8d851716f622e77788f\nCloses-Bug: #1838196\n'}, {'number': 2, 'created': '2019-07-29 09:41:44.000000000', 'files': ['environments/neutron-ml2-ansible.yaml', 'environments/services/neutron-ml2-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/afcd787deb0223bf875183bdcc8160e76c2e7af2', 'message': 'Change NeutronMechanismDrivers in ml2-ansible environments\n\nThis should have been done when we moved to ovn as the\ndefault.\n\nNote: Not sure why we maintain two different environments.\nProbably should remove one in a subsequent patch.\n\nChange-Id: I8a20ce8785077824d7e6c8d851716f622e77788f\nCloses-Bug: #1838196\n'}]",0,673180,afcd787deb0223bf875183bdcc8160e76c2e7af2,29,6,2,8833,,,0,"Change NeutronMechanismDrivers in ml2-ansible environments

This should have been done when we moved to ovn as the
default.

Note: Not sure why we maintain two different environments.
Probably should remove one in a subsequent patch.

Change-Id: I8a20ce8785077824d7e6c8d851716f622e77788f
Closes-Bug: #1838196
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/80/673180/2 && git format-patch -1 --stdout FETCH_HEAD,"['environments/neutron-ml2-ansible.yaml', 'environments/services/neutron-ml2-ansible.yaml']",2,f614eaf491c5cf3816c6bb710f69bc1fc1d532bb,bug/1838196, # Disable OVN services OS::TripleO::Services::OVNController: OS::Heat::None OS::TripleO::Services::OVNDBs: OS::Heat::None OS::TripleO::Services::OVNMetadataAgent: OS::Heat::None ,,9,0
openstack%2Fneutron~master~I8daf498fa5ad29c088b90ece0e8971febad1877d,openstack/neutron,master,I8daf498fa5ad29c088b90ece0e8971febad1877d,Fix init of RequestConstructor in test_rpc.py,MERGED,2019-07-20 04:01:00.000000000,2019-08-01 02:17:41.000000000,2019-08-01 02:17:41.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 30103}]","[{'number': 1, 'created': '2019-07-20 04:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/06ab0dc45e60d474956a792297e990c399873150', 'message': ""Fix init of RequestConstructor in test_rpc.py\n\ntest_rpc.py:348:15: E1123: Unexpected keyword argument 'tenant'\nin constructor call (unexpected-keyword-arg)\n\n'project_id' is the preferred name now.\n\nChange-Id: I8daf498fa5ad29c088b90ece0e8971febad1877d\n""}, {'number': 2, 'created': '2019-07-29 16:06:25.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e394c06de15c52976ecdcc6d60ba6e361a8f4531', 'message': ""Fix init of RequestConstructor in test_rpc.py\n\ntest_rpc.py:348:15: E1123: Unexpected keyword argument 'tenant'\nin constructor call (unexpected-keyword-arg)\n\n'project_id' is the preferred name now.\n\nChange-Id: I8daf498fa5ad29c088b90ece0e8971febad1877d\n""}]",0,671880,e394c06de15c52976ecdcc6d60ba6e361a8f4531,15,8,2,1131,,,0,"Fix init of RequestConstructor in test_rpc.py

test_rpc.py:348:15: E1123: Unexpected keyword argument 'tenant'
in constructor call (unexpected-keyword-arg)

'project_id' is the preferred name now.

Change-Id: I8daf498fa5ad29c088b90ece0e8971febad1877d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/671880/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/plugins/ml2/test_rpc.py'],1,06ab0dc45e60d474956a792297e990c399873150,oslo_context, project_id='fake_project'), tenant='fake_project'),1,1
openstack%2Fpuppet-openstack-integration~master~If2f2d987b5857244d4bfb2e81144286b17dcb42f,openstack/puppet-openstack-integration,master,If2f2d987b5857244d4bfb2e81144286b17dcb42f,"Revert ""Reparent puppet-openstack-base to legacy-base""",MERGED,2019-06-28 07:29:55.000000000,2019-08-01 01:39:46.000000000,2019-08-01 01:39:46.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-28 07:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/46cc3203b6cc1fa4f444bc826904cc409606a9fa', 'message': 'Revert ""Reparent puppet-openstack-base to legacy-base""\n\nLet\'s see if it works after removing all zuul-cloner usage, need to do a DNM patch to test module unit jobs as well.\n\nThis reverts commit 2bb40bb6fea5978c24a6e98149176567c4ce9dd1.\n\nChange-Id: If2f2d987b5857244d4bfb2e81144286b17dcb42f\n'}, {'number': 2, 'created': '2019-07-31 20:09:12.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/8fa926cdc7434ab0855da65f999ec263f80a47c8', 'message': 'Revert ""Reparent puppet-openstack-base to legacy-base""\n\nLet\'s see if it works after removing all zuul-cloner usage, need to do a DNM patch to test module unit jobs as well.\n\nThis reverts commit 2bb40bb6fea5978c24a6e98149176567c4ce9dd1.\n\nChange-Id: If2f2d987b5857244d4bfb2e81144286b17dcb42f\n'}]",0,668105,8fa926cdc7434ab0855da65f999ec263f80a47c8,19,5,2,16137,,,0,"Revert ""Reparent puppet-openstack-base to legacy-base""

Let's see if it works after removing all zuul-cloner usage, need to do a DNM patch to test module unit jobs as well.

This reverts commit 2bb40bb6fea5978c24a6e98149176567c4ce9dd1.

Change-Id: If2f2d987b5857244d4bfb2e81144286b17dcb42f
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/05/668105/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,46cc3203b6cc1fa4f444bc826904cc409606a9fa,fix-zuul-cloner,, # NOTE(mwhahaha): needed for zuul-cloner (we should probably remove this usage) parent: legacy-base,0,2
openstack%2Fpuppet-octavia~stable%2Fqueens~I5c2629d9e7700fe1dd6f915bc257b1f058e40617,openstack/puppet-octavia,stable/queens,I5c2629d9e7700fe1dd6f915bc257b1f058e40617,Configure 32 chars length server_certs_key_passphrase for Octavia,MERGED,2019-07-09 09:23:06.000000000,2019-08-01 01:13:44.000000000,2019-08-01 01:13:44.000000000,"[{'_account_id': 6579}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-09 09:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/ae4c7f458ac28fc28bccd072522d84349aca10a7', 'message': 'Configure 32 chars length server_certs_key_passphrase for Octavia\n\nThis change is related to I886f2b8ac7092d9b3da38852e92a615d5666eea7\nand Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989.\n\nRelated-Bug: #1833942\n\nChange-Id: I5c2629d9e7700fe1dd6f915bc257b1f058e40617\n(cherry picked from commit d9564d7c235bc3073ef6eb444a6f1561fb6dffc5)\n(cherry picked from commit 381f1a34daec7001b4a7825bc708a4314619806a)\n(cherry picked from commit b9e77891468299f8028417057070df5d1780794d)\n'}, {'number': 2, 'created': '2019-07-29 11:50:25.000000000', 'files': ['manifests/certificates.pp', 'releasenotes/notes/fix-generated-server_certs_key_passphrase-in-spec-524a44297ec76bd0.yaml', 'spec/classes/octavia_certificates_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/4967222fc785f899e80c4c96b50d47d26625db35', 'message': 'Configure 32 chars length server_certs_key_passphrase for Octavia\n\nThis change is related to I886f2b8ac7092d9b3da38852e92a615d5666eea7\nand Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989.\n\nRelated-Bug: #1833942\n\nChange-Id: I5c2629d9e7700fe1dd6f915bc257b1f058e40617\n(cherry picked from commit d9564d7c235bc3073ef6eb444a6f1561fb6dffc5)\n(cherry picked from commit 381f1a34daec7001b4a7825bc708a4314619806a)\n(cherry picked from commit 39b9d44e47309a485fdcdd35b5862159d58f9f1d)\n'}]",0,669824,4967222fc785f899e80c4c96b50d47d26625db35,15,4,2,6579,,,0,"Configure 32 chars length server_certs_key_passphrase for Octavia

This change is related to I886f2b8ac7092d9b3da38852e92a615d5666eea7
and Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989.

Related-Bug: #1833942

Change-Id: I5c2629d9e7700fe1dd6f915bc257b1f058e40617
(cherry picked from commit d9564d7c235bc3073ef6eb444a6f1561fb6dffc5)
(cherry picked from commit 381f1a34daec7001b4a7825bc708a4314619806a)
(cherry picked from commit 39b9d44e47309a485fdcdd35b5862159d58f9f1d)
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/24/669824/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/certificates.pp', 'releasenotes/notes/fix-generated-server_certs_key_passphrase-in-spec-524a44297ec76bd0.yaml', 'spec/classes/octavia_certificates_spec.rb']",3,ae4c7f458ac28fc28bccd072522d84349aca10a7,OctaviaServerCertsKeyPassphrase-32chars," :server_certs_key_passphrase => 'insecure-key-do-not-use-this-key', is_expected.to contain_octavia_config('certificates/server_certs_key_passphrase').with_value('insecure-key-do-not-use-this-key') :server_certs_key_passphrase => 'insecure-key-do-not-use-this-key', is_expected.to contain_octavia_config('certificates/server_certs_key_passphrase').with_value('insecure-key-do-not-use-this-key') :server_certs_key_passphrase => 'insecure-key-do-not-use-this-key', is_expected.to contain_octavia_config('certificates/server_certs_key_passphrase').with_value('insecure-key-do-not-use-this-key') context 'When invalid non 32 characters server_certs_key_passphrase provided' do let :params do { :server_certs_key_passphrase => 'non-32-chars-key', } end it 'fails without an invalid server_certs_key_passphrase' do is_expected.to raise_error(Puppet::Error) end end context 'When no server_certs_key_passphrase provided' do let :params do { :server_certs_key_passphrase => '', } end it 'fails without a server_certs_key_passphrase' do is_expected.to raise_error(Puppet::Error) end end "," is_expected.to contain_octavia_config('certificates/server_certs_key_passphrase').with_value('<SERVICE DEFAULT>') :server_certs_key_passphrase => 'secure123', is_expected.to contain_octavia_config('certificates/server_certs_key_passphrase').with_value('secure123') :server_certs_key_passphrase => 'secure123', is_expected.to contain_octavia_config('certificates/server_certs_key_passphrase').with_value('secure123') :server_certs_key_passphrase => 'secure123', is_expected.to contain_octavia_config('certificates/server_certs_key_passphrase').with_value('secure123')",42,11
openstack%2Ftripleo-ci~master~Ib305207dcd2b4626a7d7d340bc383dd176b11633,openstack/tripleo-ci,master,Ib305207dcd2b4626a7d7d340bc383dd176b11633,Add conditional periodic-ness to tripleo jobs,MERGED,2019-07-24 13:55:20.000000000,2019-08-01 00:32:36.000000000,2019-08-01 00:32:36.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-24 13:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/108b02ff4c3bd07254c9ae0e7ae8c7a9f13ca275', 'message': 'Add conditional periodic-ness to tripleo jobs\n\nSometimes we need to run a periodic job with repositories like\nit\'s in regular check jobs, for example periodic jobs in tripleo-ci\nwhich are forced currently to run with promotion repos:\n""force_non_periodic"" variable in job shall force job to run as\n""check"" and use regular repositories as any check job.\n\nSometimes we need to run a check job with promotion repositories\nto debug it or to try it, instead of depending on some patch\nlet\'s use a job variable for that:\n""force_periodic"" will force job to run as promotion job, using the\nsame repositories as any promotion job uses.\n\nChange-Id: Ib305207dcd2b4626a7d7d340bc383dd176b11633\n'}, {'number': 2, 'created': '2019-07-31 14:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/95caa5a77a939bf591afb57cc5a8515fc446be0b', 'message': 'Add conditional periodic-ness to tripleo jobs\n\nSometimes we need to run a periodic job with repositories like\nit\'s in regular check jobs, for example periodic jobs in tripleo-ci\nwhich are forced currently to run with promotion repos:\n""force_non_periodic"" variable in job shall force job to run as\n""check"" and use regular repositories as any check job.\n\nSometimes we need to run a check job with promotion repositories\nto debug it or to try it, instead of depending on some patch\nlet\'s use a job variable for that:\n""force_periodic"" will force job to run as promotion job, using the\nsame repositories as any promotion job uses.\n\nChange-Id: Ib305207dcd2b4626a7d7d340bc383dd176b11633\n'}, {'number': 3, 'created': '2019-07-31 14:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/564725f0072f0ffd09102e394c9ffe7746f0bbd5', 'message': 'Add conditional periodic-ness to tripleo jobs\n\nSometimes we need to run a periodic job with repositories like\nit\'s in regular check jobs, for example periodic jobs in tripleo-ci\nwhich are forced currently to run with promotion repos:\n""force_non_periodic"" variable in job shall force job to run as\n""check"" and use regular repositories as any check job.\n\nSometimes we need to run a check job with promotion repositories\nto debug it or to try it, instead of depending on some patch\nlet\'s use a job variable for that:\n""force_periodic"" will force job to run as promotion job, using the\nsame repositories as any promotion job uses.\n\nChange-Id: Ib305207dcd2b4626a7d7d340bc383dd176b11633\n'}, {'number': 4, 'created': '2019-07-31 14:59:26.000000000', 'files': ['roles/common/vars/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f8da1ddb7dcc657fa9df13b21b8286f3d9c62338', 'message': 'Add conditional periodic-ness to tripleo jobs\n\nSometimes we need to run a periodic job with repositories like\nit\'s in regular check jobs, for example periodic jobs in tripleo-ci\nwhich are forced currently to run with promotion repos:\n""force_non_periodic"" variable in job shall force job to run as\n""check"" and use regular repositories as any check job.\n\nSometimes we need to run a check job with promotion repositories\nto debug it or to try it, instead of depending on some patch\nlet\'s use a job variable for that:\n""force_periodic"" will force job to run as promotion job, using the\nsame repositories as any promotion job uses.\n\nChange-Id: Ib305207dcd2b4626a7d7d340bc383dd176b11633\n'}]",8,672528,f8da1ddb7dcc657fa9df13b21b8286f3d9c62338,30,7,4,10969,,,0,"Add conditional periodic-ness to tripleo jobs

Sometimes we need to run a periodic job with repositories like
it's in regular check jobs, for example periodic jobs in tripleo-ci
which are forced currently to run with promotion repos:
""force_non_periodic"" variable in job shall force job to run as
""check"" and use regular repositories as any check job.

Sometimes we need to run a check job with promotion repositories
to debug it or to try it, instead of depending on some patch
let's use a job variable for that:
""force_periodic"" will force job to run as promotion job, using the
same repositories as any promotion job uses.

Change-Id: Ib305207dcd2b4626a7d7d340bc383dd176b11633
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/28/672528/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/common/vars/main.yaml'],1,108b02ff4c3bd07254c9ae0e7ae8c7a9f13ca275,, {% if 'periodic' in zuul.pipeline and not force_non_periodic|default(false)|bool or force_periodic|default(false)|bool -%}, {% if 'periodic' in zuul.pipeline -%},1,1
openstack%2Fpython-neutronclient~master~I7aa4566b8f2c81da6a00e664908506f5628cd0a1,openstack/python-neutronclient,master,I7aa4566b8f2c81da6a00e664908506f5628cd0a1,Switch functional job to python3,MERGED,2019-07-24 14:01:03.000000000,2019-07-31 23:52:31.000000000,2019-07-31 23:52:30.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 14:01:03.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/1a8fdf355de233ccbc7aa0beb588fb02d436aa5c', 'message': 'Switch functional job to python3\n\nChange-Id: I7aa4566b8f2c81da6a00e664908506f5628cd0a1\n'}]",0,672532,1a8fdf355de233ccbc7aa0beb588fb02d436aa5c,8,4,1,841,,,0,"Switch functional job to python3

Change-Id: I7aa4566b8f2c81da6a00e664908506f5628cd0a1
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/32/672532/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,1a8fdf355de233ccbc7aa0beb588fb02d436aa5c,switch-to-py3,basepython = python3,,2,0
openstack%2Fpython-neutronclient~master~I714efd1bc14cbba85f7b4caf6834ce375ff89547,openstack/python-neutronclient,master,I714efd1bc14cbba85f7b4caf6834ce375ff89547,Convert legacy functional jobs to zuulv3,MERGED,2019-07-18 12:10:51.000000000,2019-07-31 23:52:30.000000000,2019-07-31 23:52:30.000000000,"[{'_account_id': 841}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-18 12:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/085382fb8f829a984ae3fa9986067b90473238dd', 'message': 'Convert legacy functional jobs to zuulv3\n\nThis commit merges the legacy functional test jobs (core and adv-svcs)\ninto neutronclient-functional. FWaaS v1 was dropped in Stein and\nadv-svcs job now checks only VPNaaS, so it looks too much to have\na separate job for VPNaaS.\n\nChange-Id: I714efd1bc14cbba85f7b4caf6834ce375ff89547\n'}, {'number': 2, 'created': '2019-07-18 12:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/1a831f9c6eeded106bfe862fc2258e16ada8c79b', 'message': 'Convert legacy functional jobs to zuulv3\n\nThis commit merges the legacy functional test jobs (core and adv-svcs)\ninto neutronclient-functional. FWaaS v1 was dropped in Stein and\nadv-svcs job now checks only VPNaaS, so it looks too much to have\na separate job for VPNaaS.\n\nChange-Id: I714efd1bc14cbba85f7b4caf6834ce375ff89547\n'}, {'number': 3, 'created': '2019-07-24 12:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/107cf413ba946e046cf9356750d1464b0af6c5a0', 'message': 'Convert legacy functional jobs to zuulv3\n\nThis commit merges the legacy functional test jobs (core and adv-svcs)\ninto neutronclient-functional. FWaaS v1 was dropped in Stein and\nadv-svcs job now checks only VPNaaS, so it looks too much to have\na separate job for VPNaaS.\n\nWIP:\ntls-proxy is disabled temporarily as the base class for functional\ntesting does not support https. it seems insecure needs to be passed\nbut I first would like to check this is the root cause of the failure.\n\nChange-Id: I714efd1bc14cbba85f7b4caf6834ce375ff89547\n'}, {'number': 4, 'created': '2019-07-24 13:44:26.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/6330cc1980958f57cb95684c8d7a1aaa89a7fbf6', 'message': 'Convert legacy functional jobs to zuulv3\n\nThis commit merges the legacy functional test jobs (core and adv-svcs)\ninto neutronclient-functional. FWaaS v1 was dropped in Stein and\nadv-svcs job now checks only VPNaaS, so it looks too much to have\na separate job for VPNaaS.\n\nNote that tls-proxy is disabled as the base class for functional tests\n(neutronclient.tests.functional.base.ClientTestBase) does not support\nHTTPS endpoints. This can be tackled separately.\n\nChange-Id: I714efd1bc14cbba85f7b4caf6834ce375ff89547\n'}]",0,671468,6330cc1980958f57cb95684c8d7a1aaa89a7fbf6,14,5,4,841,,,0,"Convert legacy functional jobs to zuulv3

This commit merges the legacy functional test jobs (core and adv-svcs)
into neutronclient-functional. FWaaS v1 was dropped in Stein and
adv-svcs job now checks only VPNaaS, so it looks too much to have
a separate job for VPNaaS.

Note that tls-proxy is disabled as the base class for functional tests
(neutronclient.tests.functional.base.ClientTestBase) does not support
HTTPS endpoints. This can be tackled separately.

Change-Id: I714efd1bc14cbba85f7b4caf6834ce375ff89547
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/68/671468/4 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,085382fb8f829a984ae3fa9986067b90473238dd,switch-to-py3, OS_TEST_PATH = ./neutronclient/tests/functional, OS_TEST_PATH = ./neutronclient/tests/functional/core OS_NEUTRONCLIENT_EXEC_DIR = {envdir}/bin [testenv:functional-adv-svcs] setenv = OS_TEST_PATH = ./neutronclient/tests/functional/adv-svcs,18,18
openstack%2Foctavia-lib~master~I9b601fe2294de2536127a6856f101f4dd0bf4e91,openstack/octavia-lib,master,I9b601fe2294de2536127a6856f101f4dd0bf4e91,Add constants to octavia-lib,MERGED,2019-07-30 20:29:08.000000000,2019-07-31 23:52:22.000000000,2019-07-31 23:52:22.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 20:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/0b0839d6bb7d7db54b10ba8b64e21ce7bc43ec71', 'message': 'Add constants to octavia-lib\n\nThis patch adds some missing constants to octavia-lib for the\nprovider driver API fields.\n\nChange-Id: I9b601fe2294de2536127a6856f101f4dd0bf4e91\n'}, {'number': 2, 'created': '2019-07-30 21:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/f62f19c564541e43bc4aaf353d48d5c51f861d4d', 'message': 'Add constants to octavia-lib\n\nThis patch adds some missing constants to octavia-lib for the\nprovider driver API fields.\n\nChange-Id: I9b601fe2294de2536127a6856f101f4dd0bf4e91\n'}, {'number': 3, 'created': '2019-07-30 23:23:30.000000000', 'files': ['octavia_lib/common/constants.py', 'releasenotes/notes/add-constants-66f52c4d4cfd0215.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/c467bf04858c8e059a9ed8c126083f5980bfbcf5', 'message': 'Add constants to octavia-lib\n\nThis patch adds some missing constants to octavia-lib for the\nprovider driver API fields.\n\nChange-Id: I9b601fe2294de2536127a6856f101f4dd0bf4e91\n'}]",0,673681,c467bf04858c8e059a9ed8c126083f5980bfbcf5,12,4,3,11628,,,0,"Add constants to octavia-lib

This patch adds some missing constants to octavia-lib for the
provider driver API fields.

Change-Id: I9b601fe2294de2536127a6856f101f4dd0bf4e91
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/81/673681/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_lib/common/constants.py', 'releasenotes/notes/add-constants-66f52c4d4cfd0215.yaml']",2,0b0839d6bb7d7db54b10ba8b64e21ce7bc43ec71,,--- fixes: - | Added some missing provider driver API field name constants. ,,81,0
openstack%2Fpython-tripleoclient~master~Icd48438719d6e0e07df0cacdf68df0fc00e19fb7,openstack/python-tripleoclient,master,Icd48438719d6e0e07df0cacdf68df0fc00e19fb7,Refactor overcloudrc location,ABANDONED,2018-05-02 13:10:25.000000000,2019-07-31 23:46:06.000000000,,"[{'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-02 13:10:25.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/v1/overcloud_credentials.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_ffwd_upgrade.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/tests/v1/overcloud_ffwd_upgrade/test_overcloud_ffwd_upgrade.py', 'tripleoclient/tests/test_overcloud_credentials.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9576d1cebfd6b8662f201500b621c9dd05fb6010', 'message': 'Refactor overcloudrc location\n\nWe are using deployment.overcloudrc\non both deployment and upgrade\nworkflows, we move the overcloudrc\ngeneration to a common library.\n\nChange-Id: Icd48438719d6e0e07df0cacdf68df0fc00e19fb7\nCloses-Bug: 1768036\n'}]",0,565750,9576d1cebfd6b8662f201500b621c9dd05fb6010,5,4,1,20775,,,0,"Refactor overcloudrc location

We are using deployment.overcloudrc
on both deployment and upgrade
workflows, we move the overcloudrc
generation to a common library.

Change-Id: Icd48438719d6e0e07df0cacdf68df0fc00e19fb7
Closes-Bug: 1768036
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/50/565750/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_credentials.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_ffwd_upgrade.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/tests/v1/overcloud_ffwd_upgrade/test_overcloud_ffwd_upgrade.py', 'tripleoclient/tests/test_overcloud_credentials.py', 'tripleoclient/v1/overcloud_deploy.py']",9,9576d1cebfd6b8662f201500b621c9dd05fb6010,bug/1768036, overcloudrcs = utils.overcloudrc(, overcloudrcs = deployment.overcloudrc(,20,22
openstack%2Fpython-tripleoclient~master~I2d63b2ced361acd9f8f816af397188c124f36291,openstack/python-tripleoclient,master,I2d63b2ced361acd9f8f816af397188c124f36291,Fixes ssh admin enablement,ABANDONED,2018-05-09 22:08:54.000000000,2019-07-31 23:45:59.000000000,,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 17280}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-09 22:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/36e7e7d8eaa23b8882283700fe306ef24f30ee42', 'message': '[WIP] Fixes ssh admin enablement\n\nCloses-Bug: 1768901\n\nChange-Id: I2d63b2ced361acd9f8f816af397188c124f36291\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n'}, {'number': 2, 'created': '2018-05-10 04:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cd25243f9523e555c9fa04e35440006a2d44a41a', 'message': '[WIP] Fixes ssh admin enablement\n\nCloses-Bug: 1768901\n\nChange-Id: I2d63b2ced361acd9f8f816af397188c124f36291\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n'}, {'number': 3, 'created': '2018-05-10 14:08:10.000000000', 'files': ['requirements.txt', 'tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4987d211668d491497fb5a95cf3ab76926c4378c', 'message': 'Fixes ssh admin enablement\n\nRather than using subprocess to call a bash script in THT to configure\nssh access, this patch converts the logic to be done in python.  This\ngives better error handling and explicit messages upon failure.\n\nCloses-Bug: 1768901\n\nChange-Id: I2d63b2ced361acd9f8f816af397188c124f36291\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n'}]",0,567436,4987d211668d491497fb5a95cf3ab76926c4378c,15,5,3,17280,,,0,"Fixes ssh admin enablement

Rather than using subprocess to call a bash script in THT to configure
ssh access, this patch converts the logic to be done in python.  This
gives better error handling and explicit messages upon failure.

Closes-Bug: 1768901

Change-Id: I2d63b2ced361acd9f8f816af397188c124f36291
Signed-off-by: Tim Rozet <trozet@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/36/567436/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py']",3,36e7e7d8eaa23b8882283700fe306ef24f30ee42,bug/1768901,"import paramikofrom cryptography.hazmat.primitives import serialization as \ crypto_serialization from cryptography.hazmat.primitives.asymmetric import rsa from cryptography.hazmat.backends import default_backend as \ crypto_default_backend def make_ssh_key(): """""" Creates public and private ssh keys with 1024 bit RSA encryption :return: private, public key """""" key = rsa.generate_private_key( backend=crypto_default_backend(), public_exponent=65537, key_size=1024 ) private_key = key.private_bytes( crypto_serialization.Encoding.PEM, crypto_serialization.PrivateFormat.PKCS8, crypto_serialization.NoEncryption()) public_key = key.public_key().public_bytes( crypto_serialization.Encoding.OpenSSH, crypto_serialization.PublicFormat.OpenSSH ) return private_key.decode('utf-8'), public_key.decode('utf-8') def ssh_and_execute(log, host, user, key, command): try: s = paramiko.SSHClient() s.load_system_host_keys() s.connect(host, 22, username=user, pkey=key) except paramiko.AuthenticationException: log.error('Authentication failed to overcloud node: {}'.format( host)) raise except paramiko.SSHException as e: log.error('Error establishing SSH connection to node:{}. Error: ' '{}'.format(host, e)) raise except Exception as e: log.error('Unknown exception occurred: {}'.format(e)) raise try: stdin, stdout, stderr = s.exec_command(command) result = stderr.read() if len(result) > 0: log.error('Unable to inject temp ssh key into' 'overcloud node {}. Error: {}'.format(host, result)) raise RuntimeError() except Exception as e: log.error('Unknown exception occurred during public key ' 'injection into overcloud node {}. ' 'Error: {}'.format(host, e)) raise",,105,19
openstack%2Fpython-tripleoclient~master~I4f37cba56d756b7d7565e5951b46067b924a8b1e,openstack/python-tripleoclient,master,I4f37cba56d756b7d7565e5951b46067b924a8b1e,Integrate the pre-upgrade and post-upgrade validations in upgrades CLI,ABANDONED,2018-07-12 08:15:49.000000000,2019-07-31 23:45:52.000000000,,"[{'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-07-12 08:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0eb0cb632762f92d7e474b199d1c8c346bf12828', 'message': 'Integrate the pre-upgrade validations before running the Undercloud upgrade\n\nThis patch enables the execution of the pre-upgrade validations\nbefore running the Undercloud Upgrade.\n\nThe validations executions are added before the Undercloud upgrade\nbecause this should be the first step when running the Upgrades workflows.\n\nChange-Id: I4f37cba56d756b7d7565e5951b46067b924a8b1e\n'}, {'number': 2, 'created': '2018-07-12 08:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/100c8ef9b2bfe3068a37377dc2059ba9304f6265', 'message': 'Integrate the pre-upgrade and post-upgrade validations in upgrades CLI\n\nThis patch enables the execution of the pre-upgrade and post-upgrade\nvalidations in the upgrades workflow.\n\nThe validations executions are added before the Undercloud upgrade\nand after the converge step in both Overcloud upgrades and fast forward upgrades.\n\nChange-Id: I4f37cba56d756b7d7565e5951b46067b924a8b1e\n'}, {'number': 3, 'created': '2018-07-12 08:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2d053fe58cd23494339852dbe2ef29ab9bd1cb14', 'message': 'Integrate the pre-upgrade and post-upgrade validations in upgrades CLI\n\nThis patch enables the execution of the pre-upgrade and post-upgrade\nvalidations in the upgrades workflow.\n\nThe validations executions are added before the Undercloud upgrade\nand after the converge step in both Overcloud upgrades and fast forward upgrades.\n\nChange-Id: I4f37cba56d756b7d7565e5951b46067b924a8b1e\n'}, {'number': 4, 'created': '2018-07-12 09:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0d8dd6e4b494839012f3f21fe322788c96987e35', 'message': 'Integrate the pre-upgrade and post-upgrade validations in upgrades CLI\n\nThis patch enables the execution of the pre-upgrade and post-upgrade\nvalidations in the upgrades workflow.\n\nThe validations executions are added before the Undercloud upgrade\nand after the converge step in both Overcloud upgrades and fast forward upgrades.\n\nDepends-On: I81ba3a8c287712e0248476e64da0136fc09e26d5\nChange-Id: I4f37cba56d756b7d7565e5951b46067b924a8b1e\n'}, {'number': 5, 'created': '2018-07-12 12:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c5d3ad8b06dc224cdf76ccf847c1b5144a9361a5', 'message': 'Integrate the pre-upgrade and post-upgrade validations in upgrades CLI\n\nThis patch enables the execution of the pre-upgrade and post-upgrade\nvalidations in the upgrades workflow.\n\nThe validations executions are added before the Undercloud upgrade\nand after the converge step in both Overcloud upgrades and fast forward upgrades.\n\nDepends-On: I81ba3a8c287712e0248476e64da0136fc09e26d5\nChange-Id: I4f37cba56d756b7d7565e5951b46067b924a8b1e\n'}, {'number': 6, 'created': '2018-07-12 13:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/16580adf54e104be62b64d6a6794511f38827c52', 'message': 'Integrate the pre-upgrade and post-upgrade validations in upgrades CLI\n\nThis patch enables the execution of the pre-upgrade and post-upgrade\nvalidations in the upgrades workflow.\n\nThe validations executions are added before the Undercloud upgrade\nand after the converge step in both Overcloud upgrades and fast forward upgrades.\n\nDepends-On: I81ba3a8c287712e0248476e64da0136fc09e26d5\nChange-Id: I4f37cba56d756b7d7565e5951b46067b924a8b1e\n'}, {'number': 7, 'created': '2018-07-17 14:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/10eaed6e3efcc6b6b95d921bc06afd76b556062b', 'message': 'Integrate the pre-upgrade and post-upgrade validations in upgrades CLI\n\nThis patch enables the execution of the pre-upgrade and post-upgrade\nvalidations in the upgrades workflow.\n\nThe validations executions are added before the Undercloud upgrade\nand after the converge step in both Overcloud upgrades and fast forward upgrades.\n\nDepends-On: I81ba3a8c287712e0248476e64da0136fc09e26d5\nChange-Id: I4f37cba56d756b7d7565e5951b46067b924a8b1e\n'}, {'number': 8, 'created': '2018-07-17 14:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/077794e0249540a51df3d22143ee5ac1ffbb407c', 'message': 'Integrate the pre-upgrade and post-upgrade validations in upgrades CLI\n\nThis patch enables the execution of the pre-upgrade and post-upgrade\nvalidations in the upgrades workflow.\n\nThe validations executions are added before the Undercloud upgrade\nand after the converge step in both Overcloud upgrades and fast forward upgrades.\n\nDepends-On: I81ba3a8c287712e0248476e64da0136fc09e26d5\nChange-Id: I4f37cba56d756b7d7565e5951b46067b924a8b1e\n'}, {'number': 9, 'created': '2018-07-17 14:17:11.000000000', 'files': ['tripleoclient/workflows/validations.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_ffwd_upgrade.py', 'tripleoclient/v1/overcloud_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a2a96969731a1311c8cfa38f2ff69d9cc615751e', 'message': 'Integrate the pre-upgrade and post-upgrade validations in upgrades CLI\n\nThis patch enables the execution of the pre-upgrade and post-upgrade\nvalidations in the upgrades workflow.\n\nThe validations executions are added before the Undercloud upgrade\nand after the converge step in both Overcloud upgrades and fast forward upgrades.\n\nDepends-On: I81ba3a8c287712e0248476e64da0136fc09e26d5\nChange-Id: I4f37cba56d756b7d7565e5951b46067b924a8b1e\n'}]",3,582088,a2a96969731a1311c8cfa38f2ff69d9cc615751e,23,6,9,20775,,,0,"Integrate the pre-upgrade and post-upgrade validations in upgrades CLI

This patch enables the execution of the pre-upgrade and post-upgrade
validations in the upgrades workflow.

The validations executions are added before the Undercloud upgrade
and after the converge step in both Overcloud upgrades and fast forward upgrades.

Depends-On: I81ba3a8c287712e0248476e64da0136fc09e26d5
Change-Id: I4f37cba56d756b7d7565e5951b46067b924a8b1e
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/88/582088/8 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/workflows/validations.py', 'tripleoclient/v1/undercloud.py']",2,0eb0cb632762f92d7e474b199d1c8c346bf12828,582088,"from tripleoclient.workflows import validations def get_parser(self, prog_name): parser = argparse.ArgumentParser( description=self.get_description(), prog=prog_name, add_help=False ) # Parameter to choose if we skip the validations parser.add_argument( '--skip-pre-upgrade-validations', dest='skip_pre_upgrade_validations', action='store_true', default=False, help=_(""Skip the pre-upgrade validations when running an Undercloud upgrade""), ) return parser def _run_validations(self, parsed_args): clients = self.app.client_manager workflow_input = { ""group_names"": [""pre-upgrade""] } LOG.debug(_('Launch the TripleO validations')) try: output = validations.run_groups(clients, workflow_input) LOG.info(output) except Exception as e: print(_(""Validations finished with errors"")) print('Output: {}'.format(e)) LOG.info(e) def take_action(self, parsed_args): if parsed_args.skip_pre_upgrade_validations == False: self._run_validations(parsed_args) "," def take_action(self, parsed_args):",75,0
openstack%2Fpython-tripleoclient~master~I2468511c7fb99a2d782f825e0cbf96b3c83fc928,openstack/python-tripleoclient,master,I2468511c7fb99a2d782f825e0cbf96b3c83fc928,[WIP] Export overcloud config to container,ABANDONED,2018-09-08 04:27:21.000000000,2019-07-31 23:45:50.000000000,,"[{'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-08 04:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ec9866423da8754a991eff48ac81714eba2964ab', 'message': '[WIP] Export overcloud config to container\n\nThis change exports the overcloud config, from config-download, and\nall dependencies, to allow the overcloud deployment to be run independant\nof an undercloud node.\n\nAdditionally supports inclusion of an extra_vars file which will be layered\ninto the config-download project directory, to allow overriding of ansible\nvars.\n\nChange-Id: I2468511c7fb99a2d782f825e0cbf96b3c83fc928\n'}, {'number': 2, 'created': '2018-09-11 20:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ccc9a197f24e4d34cc180bfe27cf911cac6d8adc', 'message': '[WIP] Export overcloud config to container\n\nThis change exports the overcloud config, from config-download, and\nall dependencies, to allow the overcloud deployment to be run independant\nof an undercloud node.\n\nAdditionally supports inclusion of an extra_vars file which will be layered\ninto the config-download project directory, to allow overriding of ansible\nvars.\n\nDepends-On: I09fca4ea80ae8246f136ea6998dfc7ad1c6bb4d2\nChange-Id: I2468511c7fb99a2d782f825e0cbf96b3c83fc928\n'}, {'number': 3, 'created': '2018-09-12 22:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/76f3d59b1dbe60bfd2d7ab9049560c3f2c122c48', 'message': '[WIP] Export overcloud config to container\n\nThis change exports the overcloud config, from config-download, and\nall dependencies, to allow the overcloud deployment to be run independant\nof an undercloud node.\n\nAdditionally supports inclusion of an extra_vars file which will be layered\ninto the config-download project directory, to allow overriding of ansible\nvars.\n\nDepends-On: I09fca4ea80ae8246f136ea6998dfc7ad1c6bb4d2\nChange-Id: I2468511c7fb99a2d782f825e0cbf96b3c83fc928\n'}, {'number': 4, 'created': '2018-09-17 22:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c924cb17622a54dbfc1c7bf193c87572b14e3004', 'message': '[WIP] Export overcloud config to container\n\nThis change exports the overcloud config, from config-download, and\nall dependencies, to allow the overcloud deployment to be run independant\nof an undercloud node.\n\nAdditionally supports inclusion of an extra_vars file which will be layered\ninto the config-download project directory, to allow overriding of ansible\nvars.\n\nDepends-On: I09fca4ea80ae8246f136ea6998dfc7ad1c6bb4d2\nChange-Id: I2468511c7fb99a2d782f825e0cbf96b3c83fc928\n'}, {'number': 5, 'created': '2018-09-17 22:34:26.000000000', 'files': ['tripleoclient/tests/v1/overcloud_config/test_overcloud_export.py', 'tripleoclient/v1/overcloud_export.py', 'tripleoclient/tests/fakes.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7ffcc2a0d551d2feaf26b3130ec41022c868ca54', 'message': '[WIP] Export overcloud config to container\n\nThis change exports the overcloud config, from config-download, and\nall dependencies, to allow the overcloud deployment to be run independant\nof an undercloud node.\n\nAdditionally supports inclusion of an extra_vars file which will be layered\ninto the config-download project directory, to allow overriding of ansible\nvars.\n\nDepends-On: I09fca4ea80ae8246f136ea6998dfc7ad1c6bb4d2\nChange-Id: I2468511c7fb99a2d782f825e0cbf96b3c83fc928\n'}]",0,600895,7ffcc2a0d551d2feaf26b3130ec41022c868ca54,16,4,5,20868,,,0,"[WIP] Export overcloud config to container

This change exports the overcloud config, from config-download, and
all dependencies, to allow the overcloud deployment to be run independant
of an undercloud node.

Additionally supports inclusion of an extra_vars file which will be layered
into the config-download project directory, to allow overriding of ansible
vars.

Depends-On: I09fca4ea80ae8246f136ea6998dfc7ad1c6bb4d2
Change-Id: I2468511c7fb99a2d782f825e0cbf96b3c83fc928
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/95/600895/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_export.py', 'setup.cfg']",2,ec9866423da8754a991eff48ac81714eba2964ab,export-config-container, overcloud_config_export = tripleoclient.v1.overcloud_export:ExportConfig,,83,0
openstack%2Fpython-tripleoclient~master~I91a592f4cd17cf247d444b39d8a2a53ba99a00dc,openstack/python-tripleoclient,master,I91a592f4cd17cf247d444b39d8a2a53ba99a00dc,Add some client libraries as requirements,ABANDONED,2018-09-17 15:01:26.000000000,2019-07-31 23:45:49.000000000,,"[{'_account_id': 2813}, {'_account_id': 3153}, {'_account_id': 5241}, {'_account_id': 6924}, {'_account_id': 8871}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-17 15:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a6c887a76d4f60d00aca43478983a72937d4e4a0', 'message': 'Add some client libraries as requirements\n\nSince we use containers, client libraries are not installed anymore on\nUndercloud host because nothing depends on them anymore outside\ncontainers.\n\nCommands like ""openstack metric ..."", ""openstack event ..."" no longuer\nwork by default. We have to manually install them, this have been\nconsidered as a regression.\n\nThis change adds them to requirements, so when tripleoclient is\ninstalled, all clients will be there.\n\nChange-Id: I91a592f4cd17cf247d444b39d8a2a53ba99a00dc\n'}, {'number': 2, 'created': '2018-09-18 05:07:06.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4913f8fcd418a61ad6038f0e8eb7e8e8d717d6ce', 'message': 'Add some client libraries as requirements\n\nSince we use containers, client libraries are not installed anymore on\nUndercloud host because nothing depends on them anymore outside\ncontainers.\n\nCommands like ""openstack metric ..."", ""openstack event ..."" no longuer\nwork by default. We have to manually install them, this have been\nconsidered as a regression.\n\nThis change adds them to requirements, so when tripleoclient is\ninstalled, all clients will be there.\n\nChange-Id: I91a592f4cd17cf247d444b39d8a2a53ba99a00dc\n'}]",0,603162,4913f8fcd418a61ad6038f0e8eb7e8e8d717d6ce,11,8,2,2813,,,0,"Add some client libraries as requirements

Since we use containers, client libraries are not installed anymore on
Undercloud host because nothing depends on them anymore outside
containers.

Commands like ""openstack metric ..."", ""openstack event ..."" no longuer
work by default. We have to manually install them, this have been
considered as a regression.

This change adds them to requirements, so when tripleoclient is
installed, all clients will be there.

Change-Id: I91a592f4cd17cf247d444b39d8a2a53ba99a00dc
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/62/603162/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,a6c887a76d4f60d00aca43478983a72937d4e4a0,, # Just to ensure all openstack XXX commands are avialable python-gnocchiclient python-pankoclient,,4,0
openstack%2Fpython-tripleoclient~master~Ied2335f6c4d1fbdc4dd41d8bb11bee5c49c7e5d1,openstack/python-tripleoclient,master,Ied2335f6c4d1fbdc4dd41d8bb11bee5c49c7e5d1,WIP PoC that initiate the work to deploy tripleo w/o heat,ABANDONED,2018-12-07 21:10:47.000000000,2019-07-31 23:45:47.000000000,,"[{'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-07 21:10:47.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bd322e289dff89fb80a46a33c6ce6d39c9831909', 'message': 'WIP PoC that initiate the work to deploy tripleo w/o heat\n\nThis first draft experiment the way to not use heat to deploy\nTripleO.\n\nThe starting point of this work is to have the THT files\nand agregate the informations and datas from it to deploy\nTripleO.\n\nThere is several ways to proceed:\n* 1st could be: to use heat engine to generate and handle\nthe templates files, to render and feed all the datas\nand then just build playbook from the outputs with the\nconfig download library.\n* 2nd could be: to not use heat engine, but just create\na parser that render the template values and then give\na Stack object the config library (that what the code\ndoes in this review)\n* 3rd could be: To create the basic Openstack objects\n(network & nova server) from the network_data and role_data,\nand then call a stack.preview that can render and feed\nall the templates with the right. The cons of this method is\nthat we are still linked with the heat stack code but the Pros\nis that Heat manage really well the HOT functions rendering.\n\nThis PoC explore those 3 ways to avoid the used of Heat.\nIn the tripleo_deploy.py file, the code gets from the\nTHT rendered the parameters, resources and services config\nfeed the values, build the output and return a stack object\nthat can be used by the Config download library.\nThen the normal code of config download runs and create\nthe playbook and files.\n\nThere is a distinction between the Openstack objects creation\nand the Services outputs.\nThe openstack objects creation can be:\n* 1 handle by feeding the required data in the network_data file\nand role_data\n* 2 handle by parsing the templates and map the heat resources to\nOpenstack Ansible syntax.\nThe result would be to generate from THT, a set of Ansible tasks\nthat creates the required neutron networks and subnets, nova\nserver and so on.\nThe code for this is not in this review, but I have build a POC\nand a resource mapping with a simple stack. (not present here)\n\nThe PROs of this approach is to decrease the layer and complexity\n, to get flexibility on how tripleo is built\nThe Cons (the major one that i see) is for the deletion of TripleO,\nsince each openstack objects is creation via ansible or shade,\neach deletion should be operate by them.\n\nChange-Id: Ied2335f6c4d1fbdc4dd41d8bb11bee5c49c7e5d1\n'}]",0,623581,bd322e289dff89fb80a46a33c6ce6d39c9831909,5,4,1,16515,,,0,"WIP PoC that initiate the work to deploy tripleo w/o heat

This first draft experiment the way to not use heat to deploy
TripleO.

The starting point of this work is to have the THT files
and agregate the informations and datas from it to deploy
TripleO.

There is several ways to proceed:
* 1st could be: to use heat engine to generate and handle
the templates files, to render and feed all the datas
and then just build playbook from the outputs with the
config download library.
* 2nd could be: to not use heat engine, but just create
a parser that render the template values and then give
a Stack object the config library (that what the code
does in this review)
* 3rd could be: To create the basic Openstack objects
(network & nova server) from the network_data and role_data,
and then call a stack.preview that can render and feed
all the templates with the right. The cons of this method is
that we are still linked with the heat stack code but the Pros
is that Heat manage really well the HOT functions rendering.

This PoC explore those 3 ways to avoid the used of Heat.
In the tripleo_deploy.py file, the code gets from the
THT rendered the parameters, resources and services config
feed the values, build the output and return a stack object
that can be used by the Config download library.
Then the normal code of config download runs and create
the playbook and files.

There is a distinction between the Openstack objects creation
and the Services outputs.
The openstack objects creation can be:
* 1 handle by feeding the required data in the network_data file
and role_data
* 2 handle by parsing the templates and map the heat resources to
Openstack Ansible syntax.
The result would be to generate from THT, a set of Ansible tasks
that creates the required neutron networks and subnets, nova
server and so on.
The code for this is not in this review, but I have build a POC
and a resource mapping with a simple stack. (not present here)

The PROs of this approach is to decrease the layer and complexity
, to get flexibility on how tripleo is built
The Cons (the major one that i see) is for the deletion of TripleO,
since each openstack objects is creation via ansible or shade,
each deletion should be operate by them.

Change-Id: Ied2335f6c4d1fbdc4dd41d8bb11bee5c49c7e5d1
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/81/623581/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/v1/overcloud_deploy.py']",2,bd322e289dff89fb80a46a33c6ce6d39c9831909,poc/remove/heat," def _create_overcloud(self, stack, parsed_args): # WIP PoC Part import shade container_path = ""/home/stack/container/"" roles_data = ""roles_data.yaml"" plan_data = ""plan-environment.yaml"" network_data = ""network_data.yaml"" cloud_user = parsed_args.overcloud_ssh_user cloud = shade.openstack_cloud() # Prepare Overcloud if cloud_user not in [k.name for k in cloud.list_keypairs()]: cloud.create_keypair(cloud_user, open(parsed_args.overcloud_ssh_key).read() ) # Parse network_data and create Neutron Network with open(""%s%s"" % (container_path, network_data)) as f: networks = yaml.load(f) for net in networks: cloud.create_network(name=net.get('name'), shared=False, admin_state_up=False, project_id=net.get('project_id'), ) cloud.create_subnet(network_name_or_id=net.get('name'), cidr=net.get('ip_subnet'), subnet_name=net.get('subnet_name'), allocation_pools=net.get('allocation_pools') ) # Parse role_data and create Nova Server: with open(""%s%s"" % (container_path, roles_data)) as f: roles = yaml.load(f) with open(""%s%s"" % (container_path, plan)) as f: plan_data = yaml.load(f) for role in roles: if role['CountDefault'] != 0: cloud.create_server(name=role.get('name').lower(), image='overcloud-full', network='ctlplane', key_name=cloud_user, flavor=plan.get( 'parameter_defaults').get( '%s%s%s' % ('Overcloud', role.get('name'), 'Flavor')) self._create_overcloud(parsed_args)"," self._deploy_tripleo_heat_templates_tmpdir(stack, parsed_args)",147,17
openstack%2Fpython-tripleoclient~master~Ie69ba77413885698326fabf82a6b7c1ad98109fa,openstack/python-tripleoclient,master,Ie69ba77413885698326fabf82a6b7c1ad98109fa,Remove merging environment files during deploy,ABANDONED,2018-12-12 10:24:47.000000000,2019-07-31 23:45:45.000000000,,"[{'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-12 10:24:47.000000000', 'files': ['tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/14a6a6840f4f34100f9d7e9c3168c94afe2e1ebe', 'message': 'Remove merging environment files during deploy\n\nRemove merging files and replace it by copying\nthem into user-environment. This will enable\nmerging params by heat instead doing this inside\nclient.\n\nChange-Id: Ie69ba77413885698326fabf82a6b7c1ad98109fa\nCloses-Bug: #1635409\nCo-Authored-By: Steven Hardy <shardy@redhat.com>\n'}]",0,624625,14a6a6840f4f34100f9d7e9c3168c94afe2e1ebe,5,4,1,11082,,,0,"Remove merging environment files during deploy

Remove merging files and replace it by copying
them into user-environment. This will enable
merging params by heat instead doing this inside
client.

Change-Id: Ie69ba77413885698326fabf82a6b7c1ad98109fa
Closes-Bug: #1635409
Co-Authored-By: Steven Hardy <shardy@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/25/624625/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py']",2,14a6a6840f4f34100f9d7e9c3168c94afe2e1ebe,bug/1635409," stack_name, env, moved_files, env_files, tht_root) @staticmethod def _correct_path_in_environment(env, moved_files, tht_root): return env def _process_and_upload_environment(self, container_name, env, moved_files, env_files, tht_root): """"""Process the environment and upload to Swift The environment at this point should be the result of the merged custom user environments. We need to look at the paths in the environment and update any that changed when they were uploaded to swift. """""" # Load plan environment plan_env = yaml.safe_load(self.object_client.get_object( container_name, constants.PLAN_ENVIRONMENT)[1]) # Set correct paths in all copied user environment files for user_env_path in env_files: file_env = yaml.safe_load(self.object_client.get_object( container_name, user_env_path)[1]) file_env = self._correct_path_in_environment(file_env, moved_files, tht_root) self._write_user_environment(file_env, user_env_path, tht_root, container_name) if user_env_path not in plan_env['environments']: plan_env['environments'].append(user_env_path) # Set correct paths in merged environment env = self._correct_path_in_environment(env, moved_files, tht_root) # Default parameters are removed from the merged environment if user_env not in plan_env['environments']: plan_env['environments'].append(user_env) yaml_string = yaml.safe_dump(plan_env, default_flow_style=False) # Default Parameters are sent to the update parameters action, this # stores them in the plan environment and means the UI can find them. # Here we have env_files with changed paths inside env_files, _localenv = utils.process_multiple_environments("," stack_name, env, moved_files, tht_root) def _process_and_upload_environment(self, container_name, env, moved_files, tht_root): """"""Process the environment and upload to Swift The environment at this point should be the result of the merged custom user environments. We need to look at the paths in the environment and update any that changed when they were uploaded to swift. """""" # Parameters are removed from the environment env = yaml.safe_load(self.object_client.get_object( container_name, constants.PLAN_ENVIRONMENT)[1]) if user_env not in env['environments']: env['environments'].append(user_env) yaml_string = yaml.safe_dump(env, default_flow_style=False) # Parameters are sent to the update parameters action, this stores them # in the plan environment and means the UI can find them. env_files, localenv = utils.process_multiple_environments( template_utils.deep_update(env, localenv)",111,83
openstack%2Fpython-tripleoclient~master~Idde8a92808b2a00283f1937885c1a9fcf9b28c7a,openstack/python-tripleoclient,master,Idde8a92808b2a00283f1937885c1a9fcf9b28c7a,WIP: Handle config loading in tripleo deploy,ABANDONED,2018-05-18 23:13:36.000000000,2019-07-31 23:45:35.000000000,,"[{'_account_id': 3153}, {'_account_id': 8871}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-18 23:13:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/52d4767cca4fed4ab047d25ac3906cc76cd6046f', 'message': 'WIP: Handle config loading in tripleo deploy\n\nChange-Id: Idde8a92808b2a00283f1937885c1a9fcf9b28c7a\n'}, {'number': 2, 'created': '2018-05-19 04:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2ed68ed6864ec29bb2677e02a004cdad72ee2c5a', 'message': 'WIP: Handle config loading in tripleo deploy\n\nChange-Id: Idde8a92808b2a00283f1937885c1a9fcf9b28c7a\n'}, {'number': 3, 'created': '2018-05-22 14:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f619371efc7e5833805a2684d3924d6af33b6831', 'message': 'WIP: Handle config loading in tripleo deploy\n\nChange-Id: Idde8a92808b2a00283f1937885c1a9fcf9b28c7a\n'}, {'number': 4, 'created': '2018-05-23 13:05:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/48ed1678e66e2b3c11cb773a591eafc58c8a2a2a', 'message': 'WIP: Handle config loading in tripleo deploy\n\nChange-Id: Idde8a92808b2a00283f1937885c1a9fcf9b28c7a\n'}, {'number': 5, 'created': '2018-05-23 16:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8e70cb010528f3881ddfce01a4ed4b1c688f1f99', 'message': 'WIP: Handle config loading in tripleo deploy\n\nChange-Id: Idde8a92808b2a00283f1937885c1a9fcf9b28c7a\n'}, {'number': 6, 'created': '2018-05-24 14:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a6bbab5ce17721513ef381921cfac9fd1b3af43c', 'message': 'WIP: Handle config loading in tripleo deploy\n\nChange-Id: Idde8a92808b2a00283f1937885c1a9fcf9b28c7a\n'}, {'number': 7, 'created': '2019-02-14 23:36:53.000000000', 'files': ['tripleoclient/config/standalone.py', 'tripleoclient/v1/tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/174632622f985a2c81c5a224ebc4583ed8a3fb24', 'message': 'WIP: Handle config loading in tripleo deploy\n\nChange-Id: Idde8a92808b2a00283f1937885c1a9fcf9b28c7a\n'}]",0,569535,174632622f985a2c81c5a224ebc4583ed8a3fb24,29,6,7,14985,,,0,"WIP: Handle config loading in tripleo deploy

Change-Id: Idde8a92808b2a00283f1937885c1a9fcf9b28c7a
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/35/569535/5 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/config/standalone.py', 'tripleoclient/v1/tripleo_deploy.py']",2,52d4767cca4fed4ab047d25ac3906cc76cd6046f,bp/all-in-one,"from oslo_config import cfgCONF = cfg.CONF def _load_config(self, role='Standalone', config=None): conf_params = [] if config: #TODO(aschultz): handle this config_path=config else config_path = os.path.expanduser(""~/%s.conf"" % role.lower()) if os.path.isfile(config_path): conf_params += ['--config-file', config_path] else: self.log.warning('%s does not exist. Using defaults.' % config_path) CONF(conf_params) parser.add_argument('--standalone-config', metavar='<ROLE_NAME>.conf', help=_('Deployment configuration file. If not ' 'specified, the default falls back to ' '~/<ROLE_NAME>.conf. The <ROLE_NAME> is ' 'the lowercase version of ' '--standalone-role. If neither are ' 'supplied, ~/standalone.conf is used.')) self._load_config(parsed_args.standalone_role, parsed_args.standalone_config) ",,36,1
openstack%2Ftripleo-quickstart~master~I24ef3b9e13dfe805847b59f90c903e2e6859e835,openstack/tripleo-quickstart,master,I24ef3b9e13dfe805847b59f90c903e2e6859e835,[RHEL8] Fixed rdo_dlrn in release file,MERGED,2019-07-31 06:21:03.000000000,2019-07-31 23:43:32.000000000,2019-07-31 23:43:32.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-31 06:21:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b03d49aa04afc64bb36866d3b73333a3961e1fdf', 'message': '[RHEL8] Fixed rdo_dlrn in release file\n\nIn initial release file, dlrn_hash_path_newest was added but\nit is used master release file not in promotion to testing hash\nrelease file leading to undefined var.\n\nMoving to dlrn_hash_path fixes the issue.\n\nChange-Id: I24ef3b9e13dfe805847b59f90c903e2e6859e835\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2019-07-31 07:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/42535436363882f5f53f17477c261646dace5d71', 'message': '[RHEL8] Fixed rdo_dlrn in release file\n\ndlrn_hash_path_newest is used in the master release config\nbut promotion-testing-hash should use dlrn_hash_path.\n\nIt fixes the RHEL-8 promotion pipeline.\n\nChange-Id: I24ef3b9e13dfe805847b59f90c903e2e6859e835\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2019-07-31 14:18:18.000000000', 'files': ['config/release/tripleo-ci/RedHat-8/promotion-testing-hash-master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e6ed118bba71bc0952c5bd2661f49b5ba82a7ce6', 'message': '[RHEL8] Fixed rdo_dlrn in release file\n\ndlrn_hash_path_newest is used in the master release config\nbut promotion-testing-hash should use dlrn_hash_path.\n\nIt fixes the RHEL-8 promotion pipeline.\n\nChange-Id: I24ef3b9e13dfe805847b59f90c903e2e6859e835\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",2,673738,e6ed118bba71bc0952c5bd2661f49b5ba82a7ce6,16,9,3,12393,,,0,"[RHEL8] Fixed rdo_dlrn in release file

dlrn_hash_path_newest is used in the master release config
but promotion-testing-hash should use dlrn_hash_path.

It fixes the RHEL-8 promotion pipeline.

Change-Id: I24ef3b9e13dfe805847b59f90c903e2e6859e835
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/38/673738/2 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/RedHat-8/promotion-testing-hash-master.yml'],1,b03d49aa04afc64bb36866d3b73333a3961e1fdf,rhel8," rdo_dlrn=`curl --silent ${NODEPOOL_RDO_PROXY}/{{ distro_ver }}-{{ release }}/{{ dlrn_hash_path|default(dlrn_hash_tag, true) }}/delorean.repo -S 2>>~/dlrn_repo_curl_errors.log | grep baseurl | cut -d= -f2`"," rdo_dlrn=`curl --silent ${NODEPOOL_RDO_PROXY}/{{ distro_ver }}-{{ release }}/{{ dlrn_hash_path_newest|default(dlrn_hash_tag_newest, true) }}/delorean.repo -S 2>>~/dlrn_repo_curl_errors.log | grep baseurl | cut -d= -f2`",1,1
openstack%2Fpython-tripleoclient~stable%2Frocky~I40ee028366222f38f5ba1db58d171f98be75d009,openstack/python-tripleoclient,stable/rocky,I40ee028366222f38f5ba1db58d171f98be75d009,Remove execution from workflow message send,MERGED,2019-06-06 13:22:22.000000000,2019-07-31 23:43:32.000000000,2019-07-31 23:43:32.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-06 13:22:22.000000000', 'files': ['tripleoclient/tests/v1/test_overcloud_plan_roles.py', 'tripleoclient/tests/v1/test_overcloud_plan.py', 'tripleoclient/tests/workflows/test_parameters.py', 'tripleoclient/tests/workflows/test_baremetal.py', 'tripleoclient/tests/workflows/test_base.py', 'tripleoclient/workflows/base.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/test_plugin.py', 'tripleoclient/tests/workflows/test_plan_management.py', 'tripleoclient/tests/fakes.py', 'tripleoclient/tests/v1/test_overcloud_raid.py', 'tripleoclient/tests/test_overcloud_credentials.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/99ac7f9e119c5366ed0b1ebb112c7ee90be863ec', 'message': 'Remove execution from workflow message send\n\nSerializing all the execution in a message can make the message too big.\nThis change was done in tripleo-common. this supports that change\nThis change still supports the old format and is backwards compatible.\n\nPartial-Bug: #1812172\nChange-Id: I40ee028366222f38f5ba1db58d171f98be75d009\n(cherry picked from commit cad7916ce8d21295992c2efe0e18657c6e56604d)\n'}]",0,663657,99ac7f9e119c5366ed0b1ebb112c7ee90be863ec,17,7,1,9712,,,0,"Remove execution from workflow message send

Serializing all the execution in a message can make the message too big.
This change was done in tripleo-common. this supports that change
This change still supports the old format and is backwards compatible.

Partial-Bug: #1812172
Change-Id: I40ee028366222f38f5ba1db58d171f98be75d009
(cherry picked from commit cad7916ce8d21295992c2efe0e18657c6e56604d)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/57/663657/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/test_overcloud_plan_roles.py', 'tripleoclient/tests/v1/test_overcloud_plan.py', 'tripleoclient/tests/workflows/test_parameters.py', 'tripleoclient/tests/workflows/test_baremetal.py', 'tripleoclient/tests/workflows/test_base.py', 'tripleoclient/workflows/base.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/test_plugin.py', 'tripleoclient/tests/workflows/test_plan_management.py', 'tripleoclient/tests/fakes.py', 'tripleoclient/tests/v1/test_overcloud_raid.py', 'tripleoclient/tests/test_overcloud_credentials.py']",12,99ac7f9e119c5366ed0b1ebb112c7ee90be863ec,," ""execution_id"": ""IDID"","," ""execution"": {""id"": ""IDID""},",197,56
openstack%2Fpython-tripleoclient~stable%2Frocky~Ie6473d6a1044cdf76552d62645b4d63da2df9398,openstack/python-tripleoclient,stable/rocky,Ie6473d6a1044cdf76552d62645b4d63da2df9398,Filter messages not from waiting execution,MERGED,2019-06-06 13:22:22.000000000,2019-07-31 23:21:33.000000000,2019-07-31 23:21:33.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 9712}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-06 13:22:22.000000000', 'files': ['tripleoclient/tests/v1/test_overcloud_plan_roles.py', 'tripleoclient/tests/v1/test_overcloud_plan.py', 'tripleoclient/tests/workflows/test_parameters.py', 'tripleoclient/tests/v1/overcloud_upgrade/fakes.py', 'tripleoclient/tests/workflows/test_baremetal.py', 'tripleoclient/tests/workflows/test_base.py', 'tripleoclient/tests/v1/overcloud_deploy/fakes.py', 'tripleoclient/workflows/base.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/workflows/test_plan_management.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py', 'tripleoclient/tests/v1/test_overcloud_raid.py', 'tripleoclient/tests/test_overcloud_credentials.py', 'tripleoclient/tests/v1/overcloud_ffwd_upgrade/fakes.py', 'tripleoclient/tests/v1/overcloud_update/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e9849d04c7d234b7289e387f9acee0aa1fbac028', 'message': 'Filter messages not from waiting execution\n\nThe convention is to use the same queue name (""tripleo"") for all\nworkflows. This can lead to messages showing from other tripleoclient\ntriggered workflows showing up during message polling if multiple\nworkflows are running at the same time.\n\nThis patch adds a check that will filter out any messages that do not\nbelong to the execution that is being waited on by comparing the\nexecution id with the root_execution_id returned in the execution\npayload.\n\nDepends-On: Icbe80c338d69efc6ce8fceb0f73f833bec588536\nChange-Id: Ie6473d6a1044cdf76552d62645b4d63da2df9398\nRelated-Bug: #1794277\n(cherry picked from commit 339c1f334c5b4dba7a95740e35b63aab931601a1)\n'}]",0,663656,e9849d04c7d234b7289e387f9acee0aa1fbac028,23,6,1,9712,,,0,"Filter messages not from waiting execution

The convention is to use the same queue name (""tripleo"") for all
workflows. This can lead to messages showing from other tripleoclient
triggered workflows showing up during message polling if multiple
workflows are running at the same time.

This patch adds a check that will filter out any messages that do not
belong to the execution that is being waited on by comparing the
execution id with the root_execution_id returned in the execution
payload.

Depends-On: Icbe80c338d69efc6ce8fceb0f73f833bec588536
Change-Id: Ie6473d6a1044cdf76552d62645b4d63da2df9398
Related-Bug: #1794277
(cherry picked from commit 339c1f334c5b4dba7a95740e35b63aab931601a1)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/56/663656/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/test_overcloud_plan_roles.py', 'tripleoclient/tests/v1/test_overcloud_plan.py', 'tripleoclient/tests/workflows/test_parameters.py', 'tripleoclient/tests/v1/overcloud_upgrade/fakes.py', 'tripleoclient/tests/workflows/test_baremetal.py', 'tripleoclient/tests/workflows/test_base.py', 'tripleoclient/tests/v1/overcloud_deploy/fakes.py', 'tripleoclient/workflows/base.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/workflows/test_plan_management.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py', 'tripleoclient/tests/v1/test_overcloud_raid.py', 'tripleoclient/tests/test_overcloud_credentials.py', 'tripleoclient/tests/v1/overcloud_ffwd_upgrade/fakes.py', 'tripleoclient/tests/v1/overcloud_update/fakes.py']",15,e9849d04c7d234b7289e387f9acee0aa1fbac028,," workflow = execution = mock.Mock() execution.id = ""IDID"" workflow.executions.create.return_value = execution self.app.client_manager.workflow_engine = workflow", self.app.client_manager.workflow_engine = mock.Mock(),145,22
openstack%2Fpuppet-tripleo~master~I3adaa442b8c53ff902761d1dba283a79494c8ae6,openstack/puppet-tripleo,master,I3adaa442b8c53ff902761d1dba283a79494c8ae6,Allow for customization of the Manila CephFS pool name,MERGED,2019-07-18 18:14:00.000000000,2019-07-31 23:16:47.000000000,2019-07-31 22:51:30.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 16643}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-07-18 18:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/475d1d0c94ee14501bb52c16988269ed280a3d21', 'message': 'Allow for customization of the Manila CephFS pool name\n\nManila needs to know the CephFS pool name, which the deployer\nmight want to customize when the Ceph cluster is externally managed.\n\nChange-Id: I3adaa442b8c53ff902761d1dba283a79494c8ae6\nPartial-Bug: 1837099\n'}, {'number': 2, 'created': '2019-07-30 10:55:39.000000000', 'files': ['manifests/profile/base/manila/share.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e3b39a8d67466ff6ccebaf95fa1ed527582e6389', 'message': 'Allow for customization of the Manila CephFS pool name\n\nManila needs to know the CephFS pool name, which the deployer\nmight want to customize when the Ceph cluster is externally managed.\n\nChange-Id: I3adaa442b8c53ff902761d1dba283a79494c8ae6\nPartial-Bug: 1837099\n'}]",0,671538,e3b39a8d67466ff6ccebaf95fa1ed527582e6389,19,8,2,6796,,,0,"Allow for customization of the Manila CephFS pool name

Manila needs to know the CephFS pool name, which the deployer
might want to customize when the Ceph cluster is externally managed.

Change-Id: I3adaa442b8c53ff902761d1dba283a79494c8ae6
Partial-Bug: 1837099
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/38/671538/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/manila/share.pp'],1,475d1d0c94ee14501bb52c16988269ed280a3d21,bug/1837099," $manila_cephfs_pool_name = hiera('manila::backend::cephfs::pool_name', 'manila_data') ""${manila_cephfs_backend}/ganesha_rados_store_pool_name"": value => $manila_cephfs_pool_name;"," ""${manila_cephfs_backend}/ganesha_rados_store_pool_name"": value => 'manila_data';",2,1
openstack%2Frequirements~master~Id3d711b5aadb504eea8bac9b356ffecfb2de553e,openstack/requirements,master,Id3d711b5aadb504eea8bac9b356ffecfb2de553e,update constraint for ironic-lib to new release 2.19.0,MERGED,2019-07-31 15:01:20.000000000,2019-07-31 22:45:56.000000000,2019-07-31 22:45:56.000000000,"[{'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-31 15:01:20.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/468e3a3b74aee8b46260b909354e2c0ec38ab88c', 'message': 'update constraint for ironic-lib to new release 2.19.0\n\nChange-Id: Id3d711b5aadb504eea8bac9b356ffecfb2de553e\nmeta:version: 2.19.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta:release:Commit: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta:release:Change-Id: I00cd63593ad2bb7243cf12789983d73c200b4f14\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,673839,468e3a3b74aee8b46260b909354e2c0ec38ab88c,7,4,1,11131,,,0,"update constraint for ironic-lib to new release 2.19.0

Change-Id: Id3d711b5aadb504eea8bac9b356ffecfb2de553e
meta:version: 2.19.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Dmitry Tantsur <dtantsur@protonmail.com>
meta:release:Commit: Dmitry Tantsur <dtantsur@protonmail.com>
meta:release:Change-Id: I00cd63593ad2bb7243cf12789983d73c200b4f14
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/39/673839/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,468e3a3b74aee8b46260b909354e2c0ec38ab88c,new-release,ironic-lib===2.19.0,ironic-lib===2.18.0,1,1
openstack%2Fpuppet-tripleo~stable%2Fqueens~I798304a472df41b86a88611c97c2c99131faa0ad,openstack/puppet-tripleo,stable/queens,I798304a472df41b86a88611c97c2c99131faa0ad,Add dateext and related parameters for logrotate,MERGED,2019-07-16 00:50:02.000000000,2019-07-31 22:35:25.000000000,2019-07-31 22:35:25.000000000,"[{'_account_id': 3153}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25613}]","[{'number': 1, 'created': '2019-07-16 00:50:02.000000000', 'files': ['templates/logrotate/containers_logrotate.conf.erb', 'manifests/profile/base/logging/logrotate.pp', 'releasenotes/notes/add-dateext-and-related-parameters-58dd288c74b818f7.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c939f4e61d67f535390f2ce30700e9210f84fe86', 'message': 'Add dateext and related parameters for logrotate\n\nlogrotate.pp should support dateext and related parameters.\nBy this change, a filename of a rotated file can be easily distinguished\nby rotated date.\n\nChange-Id: I798304a472df41b86a88611c97c2c99131faa0ad\n(cherry picked from commit 1eafeb67bf6d613d891fc26ee4452cded8115741)\n(cherry picked from commit 964fe8cc62192e180a93f215e8bf038cf7ba0ad8)\n(cherry picked from commit 9d62bf52a4e3b3d095a6a8231cd0508d80a301ad)\n'}]",0,670929,c939f4e61d67f535390f2ce30700e9210f84fe86,27,6,1,25613,,,0,"Add dateext and related parameters for logrotate

logrotate.pp should support dateext and related parameters.
By this change, a filename of a rotated file can be easily distinguished
by rotated date.

Change-Id: I798304a472df41b86a88611c97c2c99131faa0ad
(cherry picked from commit 1eafeb67bf6d613d891fc26ee4452cded8115741)
(cherry picked from commit 964fe8cc62192e180a93f215e8bf038cf7ba0ad8)
(cherry picked from commit 9d62bf52a4e3b3d095a6a8231cd0508d80a301ad)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/29/670929/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/logrotate/containers_logrotate.conf.erb', 'manifests/profile/base/logging/logrotate.pp', 'releasenotes/notes/add-dateext-and-related-parameters-58dd288c74b818f7.yaml']",3,c939f4e61d67f535390f2ce30700e9210f84fe86,add_dateext-stable/stein-stable/rocky-stable/queens,--- other: - | Add dateext and related paramters for containerized logrotate service to find easily when logfiles were rotated. ,,29,0
openstack%2Fnova~master~I6dfa0b226ab0b99864fc27209ebb7b73e3f73512,openstack/nova,master,I6dfa0b226ab0b99864fc27209ebb7b73e3f73512,Remove Request Spec Migration upgrade status check,MERGED,2019-07-30 17:01:09.000000000,2019-07-31 22:24:27.000000000,2019-07-31 22:24:27.000000000,"[{'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-30 17:01:09.000000000', 'files': ['nova/tests/unit/cmd/test_status.py', 'doc/source/cli/nova-status.rst', 'nova/cmd/status.py', 'doc/source/install/verify.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/2e57826a7767a0af8e2c8dbc3f4af6ac4325f01b', 'message': 'Remove Request Spec Migration upgrade status check\n\nThe ""Request Spec Migration"" upgrade status check was added\nin Rocky [1] and the related online data migration was removed\nin Stein [2]. Now that we\'re in Train we should be able to\nremove the upgrade status check.\n\nThe verify install docs are updated to remove the now-removed\ncheck along with ""Console Auths"" which were removed in Train [3].\n\n[1] I1fb63765f0b0e8f35d6a66dccf9d12cc20e9c661\n[2] Ib0de49b3c0d6b3d807c4eb321976848773c1a9e8\n[3] I5c7e54259857d9959f5a2dfb99102602a0cf9bb7\n\nChange-Id: I6dfa0b226ab0b99864fc27209ebb7b73e3f73512\n'}]",0,673580,2e57826a7767a0af8e2c8dbc3f4af6ac4325f01b,25,11,1,6873,,,0,"Remove Request Spec Migration upgrade status check

The ""Request Spec Migration"" upgrade status check was added
in Rocky [1] and the related online data migration was removed
in Stein [2]. Now that we're in Train we should be able to
remove the upgrade status check.

The verify install docs are updated to remove the now-removed
check along with ""Console Auths"" which were removed in Train [3].

[1] I1fb63765f0b0e8f35d6a66dccf9d12cc20e9c661
[2] Ib0de49b3c0d6b3d807c4eb321976848773c1a9e8
[3] I5c7e54259857d9959f5a2dfb99102602a0cf9bb7

Change-Id: I6dfa0b226ab0b99864fc27209ebb7b73e3f73512
",git fetch https://review.opendev.org/openstack/nova refs/changes/80/673580/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/cmd/test_status.py', 'doc/source/cli/nova-status.rst', 'nova/cmd/status.py', 'doc/source/install/verify.rst']",4,2e57826a7767a0af8e2c8dbc3f4af6ac4325f01b,bp/request-spec-use-by-compute, | Check: Cinder API |, | Check: Request Spec Migration | | Result: Success | | Details: None | +--------------------------------------------------------------------+ | Check: Console Auths |,2,174
openstack%2Fneutron~stable%2Fstein~Ie581809f24f9547b55a87423dac7db933862d66a,openstack/neutron,stable/stein,Ie581809f24f9547b55a87423dac7db933862d66a,Retry trunk status updates failing with StaleDataError,MERGED,2019-07-30 21:37:40.000000000,2019-07-31 22:09:20.000000000,2019-07-31 22:09:20.000000000,"[{'_account_id': 1131}, {'_account_id': 8150}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-07-30 21:37:40.000000000', 'files': ['neutron/services/trunk/rpc/server.py', 'neutron/tests/unit/services/trunk/rpc/test_server.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d090fb9a3cbad6c4c3f5c524907a94cb5f95b205', 'message': ""Retry trunk status updates failing with StaleDataError\n\nThis is an approximate partial fix to #1828375.\n\nupdate_trunk_status and update_subport_bindings rpc messages are\nprocessed concurrently and possibly out of order on the server side.\nTherefore they may race with each other.\n\nThe status update race combined with\n1) the versioning feature of sqlalchemy used in the standardattributes\n   table and\n2) the less than serializable isolation level of some DB backends (like\n   MySQL InnoDB)\ndoes raise StaleDataErrors and by that leaves some trunk subports in\nDOWN status.\n\nThis change retries the trunk status update (to BUILD) blindly when\nStaleDataError was caught. In my local testbed this practically\nfixes #1828375.\n\nHowever theoretically the retry may cover up other real errors (when the\ncause of the StaleDataError was a different status not just a different\nrevision count).\n\nTo the best of my understanding a proper fix would entail guaranteeing\nthe in order processing of the above rpc messages - which likely won't\never happen.\n\nI'm not sure at all if this change is worth merging - let me know what\nyou think.\n\nConflicts:\n    neutron/services/trunk/rpc/server.py\n    neutron/tests/unit/services/trunk/rpc/test_server.py\n\nChange-Id: Ie581809f24f9547b55a87423dac7db933862d66a\nPartial-Bug: #1828375\n(cherry picked from commit 618e24e241241c7323702a815542f11e91fd32a1)\n""}]",0,673696,d090fb9a3cbad6c4c3f5c524907a94cb5f95b205,17,7,1,11975,,,0,"Retry trunk status updates failing with StaleDataError

This is an approximate partial fix to #1828375.

update_trunk_status and update_subport_bindings rpc messages are
processed concurrently and possibly out of order on the server side.
Therefore they may race with each other.

The status update race combined with
1) the versioning feature of sqlalchemy used in the standardattributes
   table and
2) the less than serializable isolation level of some DB backends (like
   MySQL InnoDB)
does raise StaleDataErrors and by that leaves some trunk subports in
DOWN status.

This change retries the trunk status update (to BUILD) blindly when
StaleDataError was caught. In my local testbed this practically
fixes #1828375.

However theoretically the retry may cover up other real errors (when the
cause of the StaleDataError was a different status not just a different
revision count).

To the best of my understanding a proper fix would entail guaranteeing
the in order processing of the above rpc messages - which likely won't
ever happen.

I'm not sure at all if this change is worth merging - let me know what
you think.

Conflicts:
    neutron/services/trunk/rpc/server.py
    neutron/tests/unit/services/trunk/rpc/test_server.py

Change-Id: Ie581809f24f9547b55a87423dac7db933862d66a
Partial-Bug: #1828375
(cherry picked from commit 618e24e241241c7323702a815542f11e91fd32a1)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/673696/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/trunk/rpc/server.py', 'neutron/tests/unit/services/trunk/rpc/test_server.py']",2,d090fb9a3cbad6c4c3f5c524907a94cb5f95b205,bug/1828375,"from sqlalchemy.orm import exc def test_udate_subport_bindings_staledataerror(self): with self.port() as _parent_port: parent_port = _parent_port trunk = self._create_test_trunk(parent_port) port_data = {portbindings.HOST_ID: 'trunk_host_id'} self.core_plugin.update_port( self.context, parent_port['port']['id'], {'port': port_data}) subports = [] for vid in range(0, 3): with self.port() as new_port: new_port[portbindings.HOST_ID] = 'trunk_host_id' obj = trunk_obj.SubPort( context=self.context, trunk_id=trunk['id'], port_id=new_port['port']['id'], segmentation_type='vlan', segmentation_id=vid) subports.append(obj) test_obj = server.TrunkSkeleton() test_obj._trunk_plugin = self.trunk_plugin test_obj._core_plugin = self.core_plugin self.mock_update_port.return_value = {portbindings.VIF_TYPE: portbindings.VIF_TYPE_BINDING_FAILED} mock_trunk_obj = mock.Mock(port_id=parent_port['port']['id']) mock_trunk_obj.update.side_effect = exc.StaleDataError with mock.patch.object( trunk_obj.Trunk, 'get_object', return_value=mock_trunk_obj): self.assertRaises( exc.StaleDataError, test_obj.update_subport_bindings, self.context, subports=subports) self.assertEqual(3, mock_trunk_obj.update.call_count) def test_udate_subport_bindings_noretryerror(self): with self.port() as _parent_port: parent_port = _parent_port trunk = self._create_test_trunk(parent_port) port_data = {portbindings.HOST_ID: 'trunk_host_id'} self.core_plugin.update_port( self.context, parent_port['port']['id'], {'port': port_data}) subports = [] for vid in range(0, 3): with self.port() as new_port: new_port[portbindings.HOST_ID] = 'trunk_host_id' obj = trunk_obj.SubPort( context=self.context, trunk_id=trunk['id'], port_id=new_port['port']['id'], segmentation_type='vlan', segmentation_id=vid) subports.append(obj) test_obj = server.TrunkSkeleton() test_obj._trunk_plugin = self.trunk_plugin test_obj._core_plugin = self.core_plugin self.mock_update_port.return_value = {portbindings.VIF_TYPE: portbindings.VIF_TYPE_BINDING_FAILED} mock_trunk_obj = mock.Mock(port_id=parent_port['port']['id']) mock_trunk_obj.update.side_effect = KeyError with mock.patch.object( trunk_obj.Trunk, 'get_object', return_value=mock_trunk_obj): self.assertRaises( KeyError, test_obj.update_subport_bindings, self.context, subports=subports) self.assertEqual(1, mock_trunk_obj.update.call_count) ",,95,5
openstack%2Fnova~master~Ied1980d1cb0a17dd51c6e6c7eeae393c6739c943,openstack/nova,master,Ied1980d1cb0a17dd51c6e6c7eeae393c6739c943,Move adding vlans to interfaces to privsep.,MERGED,2019-02-07 06:18:20.000000000,2019-07-31 21:56:10.000000000,2019-07-31 21:56:10.000000000,"[{'_account_id': 2271}, {'_account_id': 4393}, {'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-02-07 06:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7079917451deab02811fb17c5716e3fe070fd6cb', 'message': 'Move adding vlans to interfaces to privsep.\n\nRinse, repeat.\n\nChange-Id: Ied1980d1cb0a17dd51c6e6c7eeae393c6739c943\n'}, {'number': 2, 'created': '2019-02-13 00:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0f08c2b0cc572292d1946bf4a0b7587a757fc9fd', 'message': 'Move adding vlans to interfaces to privsep.\n\nRinse, repeat.\n\nChange-Id: Ied1980d1cb0a17dd51c6e6c7eeae393c6739c943\n'}, {'number': 3, 'created': '2019-02-20 02:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/279dab5db28f8be915382786d92197d509f53ac7', 'message': 'Move adding vlans to interfaces to privsep.\n\nRinse, repeat.\n\nChange-Id: Ied1980d1cb0a17dd51c6e6c7eeae393c6739c943\n'}, {'number': 4, 'created': '2019-02-26 09:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a3a06e6b07ac699d8392bf388597cef729e129f8', 'message': 'Move adding vlans to interfaces to privsep.\n\nRinse, repeat.\n\nChange-Id: Ied1980d1cb0a17dd51c6e6c7eeae393c6739c943\n'}, {'number': 5, 'created': '2019-03-05 22:35:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/582d169103c2945acdcda50d991660cfd79739db', 'message': 'Move adding vlans to interfaces to privsep.\n\nRinse, repeat.\n\nChange-Id: Ied1980d1cb0a17dd51c6e6c7eeae393c6739c943\n'}, {'number': 6, 'created': '2019-03-06 19:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58771c4a45df233f6761e9c589493b9b0ddb7406', 'message': 'Move adding vlans to interfaces to privsep.\n\nRinse, repeat.\n\nChange-Id: Ied1980d1cb0a17dd51c6e6c7eeae393c6739c943\n'}, {'number': 7, 'created': '2019-03-07 12:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0baace4094c082c17472725a151c11866f152758', 'message': 'Move adding vlans to interfaces to privsep.\n\nRinse, repeat.\n\nChange-Id: Ied1980d1cb0a17dd51c6e6c7eeae393c6739c943\n'}, {'number': 8, 'created': '2019-03-08 05:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e2f0a51b5cb11574d386a59fe125aa820b4a5491', 'message': 'Move adding vlans to interfaces to privsep.\n\nRinse, repeat.\n\nChange-Id: Ied1980d1cb0a17dd51c6e6c7eeae393c6739c943\n'}, {'number': 9, 'created': '2019-03-18 05:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00c79e6595a1cd5d2b5fb0ebdd63a3045dcdf823', 'message': 'Move adding vlans to interfaces to privsep.\n\nRinse, repeat.\n\nChange-Id: Ied1980d1cb0a17dd51c6e6c7eeae393c6739c943\n'}, {'number': 10, 'created': '2019-03-21 09:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a548107759e72b1d35076e894fb17a1a20e28bf5', 'message': 'Move adding vlans to interfaces to privsep.\n\nRinse, repeat.\n\nChange-Id: Ied1980d1cb0a17dd51c6e6c7eeae393c6739c943\n'}, {'number': 11, 'created': '2019-03-27 04:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3bf22c496e55fd9c686b24412178c1814b7f17e2', 'message': 'Move adding vlans to interfaces to privsep.\n\nRinse, repeat.\n\nChange-Id: Ied1980d1cb0a17dd51c6e6c7eeae393c6739c943\n'}, {'number': 12, 'created': '2019-03-29 04:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/40600b6b457d25bdb377a3c6683604181bcbee3a', 'message': 'Move adding vlans to interfaces to privsep.\n\nRinse, repeat.\n\nChange-Id: Ied1980d1cb0a17dd51c6e6c7eeae393c6739c943\n'}, {'number': 13, 'created': '2019-03-29 06:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/004e4aada3d3e2b110d940d7f89d05f84178813c', 'message': 'Move adding vlans to interfaces to privsep.\n\nRinse, repeat.\n\nChange-Id: Ied1980d1cb0a17dd51c6e6c7eeae393c6739c943\n'}, {'number': 14, 'created': '2019-03-29 20:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd23fb40f9f60a234ec30f1d3a0b734b61c4b2b1', 'message': 'Move adding vlans to interfaces to privsep.\n\nRinse, repeat.\n\nChange-Id: Ied1980d1cb0a17dd51c6e6c7eeae393c6739c943\n'}, {'number': 15, 'created': '2019-04-01 21:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/91b9bfcd902f3f67a03c7d6ae993f748613ac402', 'message': 'Move adding vlans to interfaces to privsep.\n\nRinse, repeat.\n\nChange-Id: Ied1980d1cb0a17dd51c6e6c7eeae393c6739c943\n'}, {'number': 16, 'created': '2019-04-02 10:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba695fa8a37ad40c2baad6ae7e8342b260696a87', 'message': 'Move adding vlans to interfaces to privsep.\n\nRinse, repeat.\n\nChange-Id: Ied1980d1cb0a17dd51c6e6c7eeae393c6739c943\n'}, {'number': 17, 'created': '2019-04-04 08:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a1cd2849cce6b50e4ac6a1328ed1b432a67a417', 'message': 'Move adding vlans to interfaces to privsep.\n\nRinse, repeat.\n\nChange-Id: Ied1980d1cb0a17dd51c6e6c7eeae393c6739c943\n'}, {'number': 18, 'created': '2019-04-04 20:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba014db8e86257e6f866dc8895ec0be4907ece37', 'message': 'Move adding vlans to interfaces to privsep.\n\nRinse, repeat.\n\nChange-Id: Ied1980d1cb0a17dd51c6e6c7eeae393c6739c943\n'}, {'number': 19, 'created': '2019-04-12 06:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2cd2df24f0030f4daeb87efaea05f643e3f3a0d7', 'message': 'Move adding vlans to interfaces to privsep.\n\nRinse, repeat.\n\nChange-Id: Ied1980d1cb0a17dd51c6e6c7eeae393c6739c943\n'}, {'number': 20, 'created': '2019-04-24 01:44:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0acd49399a98f4ec54596b6c55a6e7bf6989815f', 'message': 'Move adding vlans to interfaces to privsep.\n\nRinse, repeat.\n\nChange-Id: Ied1980d1cb0a17dd51c6e6c7eeae393c6739c943\n'}, {'number': 21, 'created': '2019-06-25 16:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1dd08b93c9b0f9d3f4be7afaedb60ce7f483aaa2', 'message': 'Move adding vlans to interfaces to privsep.\n\nRinse, repeat.\n\nChange-Id: Ied1980d1cb0a17dd51c6e6c7eeae393c6739c943\n'}, {'number': 22, 'created': '2019-06-25 16:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/23e27d86280fbbff79ef44dc9d5ce2f2aa9cf8d7', 'message': 'Move adding vlans to interfaces to privsep.\n\nRinse, repeat.\n\nChange-Id: Ied1980d1cb0a17dd51c6e6c7eeae393c6739c943\n'}, {'number': 23, 'created': '2019-06-25 16:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1073d738d5cfca9b9885ba880b0af3e527c1ec4e', 'message': 'Move adding vlans to interfaces to privsep.\n\nRinse, repeat.\n\nChange-Id: Ied1980d1cb0a17dd51c6e6c7eeae393c6739c943\n'}, {'number': 24, 'created': '2019-06-26 14:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a51cf2e3b7f9da86c51a40579a6235d8fc96441', 'message': 'Move adding vlans to interfaces to privsep.\n\nRinse, repeat.\n\nChange-Id: Ied1980d1cb0a17dd51c6e6c7eeae393c6739c943\n'}, {'number': 25, 'created': '2019-07-29 17:34:51.000000000', 'files': ['nova/tests/unit/network/test_linux_net.py', 'nova/tests/functional/api_sample_tests/api_sample_base.py', 'nova/tests/unit/virt/xenapi/test_xenapi.py', 'nova/network/linux_net.py', 'nova/privsep/linux_net.py', 'nova/tests/unit/privsep/test_linux_net.py', 'nova/tests/unit/network/test_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/90f98b8447950ce60632c864d5b221825153bd10', 'message': 'Move adding vlans to interfaces to privsep.\n\nRinse, repeat.\n\nChange-Id: Ied1980d1cb0a17dd51c6e6c7eeae393c6739c943\n'}]",9,635436,90f98b8447950ce60632c864d5b221825153bd10,205,19,25,2271,,,0,"Move adding vlans to interfaces to privsep.

Rinse, repeat.

Change-Id: Ied1980d1cb0a17dd51c6e6c7eeae393c6739c943
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/635436/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/network/test_linux_net.py', 'nova/tests/functional/api_sample_tests/api_sample_base.py', 'nova/tests/unit/virt/xenapi/test_xenapi.py', 'nova/network/linux_net.py', 'nova/privsep/linux_net.py', 'nova/tests/unit/network/test_manager.py']",6,7079917451deab02811fb17c5716e3fe070fd6cb,my-own-personal-alternative-universe," @mock.patch('nova.privsep.linux_net.add_vlan') def test_allocate_for_instance(self, mock_add_vlan, mock_modify_ebtables, @mock.patch('nova.privsep.linux_net.add_vlan') def test_allocate_for_instance_with_mac(self, mock_add_vlan, mock_forwarding_enable,"," def test_allocate_for_instance(self, mock_modify_ebtables, def test_allocate_for_instance_with_mac(self, mock_forwarding_enable,",23,17
openstack%2Fhorizon~master~I987b39d620a037834cb2d05a234a1ad089276108,openstack/horizon,master,I987b39d620a037834cb2d05a234a1ad089276108,Cleanup unused util functions,MERGED,2019-06-21 14:55:42.000000000,2019-07-31 21:48:05.000000000,2019-07-01 10:47:59.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-06-21 14:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/48f81eed267881717a883dd73f18f46606809c2c', 'message': 'Cleanup unused utils function\n\nThere are a lot of util funtions that are not used nor in Horizon,\nnot in plugins. This patch removes them.\n\nChange-Id: I987b39d620a037834cb2d05a234a1ad089276108\n'}, {'number': 2, 'created': '2019-06-21 15:01:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/af7cca37d9df79793082a573608b1fdeb649ef1e', 'message': 'Cleanup unused utils function\n\nThere are a lot of util funtions that are not used nor in Horizon,\nnot in plugins. This patch removes them.\n\nChange-Id: I987b39d620a037834cb2d05a234a1ad089276108\n'}, {'number': 3, 'created': '2019-06-21 15:11:00.000000000', 'files': ['horizon/utils/units.py', 'openstack_dashboard/dashboards/project/instances/utils.py', 'horizon/test/unit/utils/test_units.py', 'openstack_dashboard/dashboards/project/images/utils.py', 'openstack_dashboard/dashboards/project/volumes/utils.py', 'openstack_dashboard/dashboards/project/containers/utils.py', 'openstack_auth/utils.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/26eebd4abbbabc1475bae61c51d1cfcf14dba770', 'message': 'Cleanup unused util functions\n\nThere are a lot of util funtions that are not used neither in Horizon,\nnor in plugins. This patch removes them.\n\nChange-Id: I987b39d620a037834cb2d05a234a1ad089276108\n'}]",0,666858,26eebd4abbbabc1475bae61c51d1cfcf14dba770,12,4,3,1736,,,0,"Cleanup unused util functions

There are a lot of util funtions that are not used neither in Horizon,
nor in plugins. This patch removes them.

Change-Id: I987b39d620a037834cb2d05a234a1ad089276108
",git fetch https://review.opendev.org/openstack/horizon refs/changes/58/666858/2 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/utils/units.py', 'openstack_dashboard/dashboards/project/instances/utils.py', 'horizon/test/unit/utils/test_units.py', 'openstack_dashboard/dashboards/project/images/utils.py', 'openstack_dashboard/dashboards/project/volumes/utils.py', 'openstack_dashboard/dashboards/project/containers/utils.py', 'openstack_auth/utils.py']",7,48f81eed267881717a883dd73f18f46606809c2c,cleanup-utils,,"_TOKEN_TIMEOUT_MARGIN = getattr(settings, 'TOKEN_TIMEOUT_MARGIN', 0) ",0,304
openstack%2Ftripleo-heat-templates~stable%2Fstein~I01a95be975011d2419a523da572503e0ebcfa49b,openstack/tripleo-heat-templates,stable/stein,I01a95be975011d2419a523da572503e0ebcfa49b,Move the Hiera symlink task from post configuration to deployment steps.,MERGED,2019-07-31 12:35:43.000000000,2019-07-31 21:46:06.000000000,2019-07-31 21:46:06.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-31 12:35:43.000000000', 'files': ['common/deploy-steps.j2', 'extraconfig/post_deploy/undercloud_post.sh', 'extraconfig/post_deploy/standalone_post.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eb2cfcdb4dde474b8d98890a9241a04b57423660', 'message': 'Move the Hiera symlink task from post configuration to deployment steps.\n\nThis helps to consolidate the Undercloud and Standalone deployments. It\nalso avoids an issue where the Ansible Python interperter cannot be\nfound.\n\nConflicts:\n    common/deploy-steps.j2\n    extraconfig/post_deploy/standalone_post.yaml\n\nChange-Id: I01a95be975011d2419a523da572503e0ebcfa49b\nResolves: rhbz#1733608\nSigned-off-by: Luke Short <ekultails@gmail.com>\n(cherry picked from commit 3b813d845cba18977afea00ca62ea6e6d6d5ba45)\n'}]",0,673804,eb2cfcdb4dde474b8d98890a9241a04b57423660,8,4,1,25877,,,0,"Move the Hiera symlink task from post configuration to deployment steps.

This helps to consolidate the Undercloud and Standalone deployments. It
also avoids an issue where the Ansible Python interperter cannot be
found.

Conflicts:
    common/deploy-steps.j2
    extraconfig/post_deploy/standalone_post.yaml

Change-Id: I01a95be975011d2419a523da572503e0ebcfa49b
Resolves: rhbz#1733608
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit 3b813d845cba18977afea00ca62ea6e6d6d5ba45)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/04/673804/1 && git format-patch -1 --stdout FETCH_HEAD,"['common/deploy-steps.j2', 'extraconfig/post_deploy/undercloud_post.sh', 'extraconfig/post_deploy/standalone_post.yaml']",3,eb2cfcdb4dde474b8d98890a9241a04b57423660,,, StandalonePostConfig: type: OS::Heat::SoftwareConfig properties: group: ansible inputs: - name: ansible_python_interpreter description: Python interpreter to use for the ansible execution default: {get_param: PythonInterpreter} config: | --- - name: StandalonePostConfig connection: local hosts: localhost tasks: - name: Hiera symlink file: src: /etc/puppet/hiera.yaml dest: /etc/hiera.yaml state: link force: yes StandalonePostDeployment: type: OS::Heat::SoftwareDeployments properties: name: StandalonePostDeployment servers: {get_param: servers} config: {get_resource: StandalonePostConfig} ,7,30
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I1353020f874b348afd98e7ed3832033f85a5267f,openstack/tripleo-heat-templates,stable/queens,I1353020f874b348afd98e7ed3832033f85a5267f,QDR for metrics collection purposes,MERGED,2019-03-15 13:32:10.000000000,2019-07-31 21:46:04.000000000,2019-07-31 21:46:04.000000000,"[{'_account_id': 5241}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28504}]","[{'number': 1, 'created': '2019-03-15 13:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ed8a8a9fa89a45ab8f480afa7a445982f0ebb26a', 'message': ""QDR for metrics collection purposes\n\nThis patch adds composable new service (QDR) for containerized deployments.\nMetrics QDR will run on each overcloud node in 'edge' mode. This basically\nmeans that there is a possibility that there will be two QDRs running\non controllers in case that oslo messaging is deployed. This is a reason why\nwe need separate composable service for this use case.\n\nDepends-On: If9e3658d304c3071f53ecb1c42796d2603875fcd\nDepends-On: I68f39b6bda02ba3920f2ab1cf2df0bd54ad7453f\nDepends-On: I73f988d05840eca44949f13f248f86d094a57c46\nChange-Id: I1353020f874b348afd98e7ed3832033f85a5267f\n(cherry picked from commit b76d7623ac15c94f80fbbc1a5701331147fee52d)\n""}, {'number': 2, 'created': '2019-03-28 09:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b09cd9cd7103eaf01c4036e50b71161d88e93098', 'message': ""QDR for metrics collection purposes\n\nThis patch adds composable new service (QDR) for containerized deployments.\nMetrics QDR will run on each overcloud node in 'edge' mode. This basically\nmeans that there is a possibility that there will be two QDRs running\non controllers in case that oslo messaging is deployed. This is a reason why\nwe need separate composable service for this use case.\n\nPartial-Bug: #1822054\nDepends-On: If9e3658d304c3071f53ecb1c42796d2603875fcd\nDepends-On: I68f39b6bda02ba3920f2ab1cf2df0bd54ad7453f\nDepends-On: I73f988d05840eca44949f13f248f86d094a57c46\nChange-Id: I1353020f874b348afd98e7ed3832033f85a5267f\n(cherry picked from commit b76d7623ac15c94f80fbbc1a5701331147fee52d)\n""}, {'number': 3, 'created': '2019-06-25 18:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c00c5c9d4db840b2f4e24a2db963919504266b87', 'message': ""QDR for metrics collection purposes\n\nThis patch adds composable new service (QDR) for containerized deployments.\nMetrics QDR will run on each overcloud node in 'edge' mode. This basically\nmeans that there is a possibility that there will be two QDRs running\non controllers in case that oslo messaging is deployed. This is a reason why\nwe need separate composable service for this use case.\n\nPartial-Bug: #1822054\nDepends-On: If9e3658d304c3071f53ecb1c42796d2603875fcd\nDepends-On: I68f39b6bda02ba3920f2ab1cf2df0bd54ad7453f\nDepends-On: I73f988d05840eca44949f13f248f86d094a57c46\nChange-Id: I1353020f874b348afd98e7ed3832033f85a5267f\n(cherry picked from commit b76d7623ac15c94f80fbbc1a5701331147fee52d)\n""}, {'number': 4, 'created': '2019-06-25 18:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/52512ee6057ab95e5a801100015db49323d58dc9', 'message': ""QDR for metrics collection purposes\n\nThis patch adds composable new service (QDR) for containerized deployments.\nMetrics QDR will run on each overcloud node in 'edge' mode. This basically\nmeans that there is a possibility that there will be two QDRs running\non controllers in case that oslo messaging is deployed. This is a reason why\nwe need separate composable service for this use case.\n\nPartial-Bug: #1822054\nDepends-On: If9e3658d304c3071f53ecb1c42796d2603875fcd\nDepends-On: I73f988d05840eca44949f13f248f86d094a57c46\nChange-Id: I1353020f874b348afd98e7ed3832033f85a5267f\n(cherry picked from commit b76d7623ac15c94f80fbbc1a5701331147fee52d)\n""}, {'number': 5, 'created': '2019-07-22 21:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/91ed49d62cfe76d348dbfc341082406557ac0a00', 'message': ""QDR for metrics collection purposes\n\nThis patch adds composable new service (QDR) for containerized deployments.\nMetrics QDR will run on each overcloud node in 'edge' mode. This basically\nmeans that there is a possibility that there will be two QDRs running\non controllers in case that oslo messaging is deployed. This is a reason why\nwe need separate composable service for this use case.\n\nPartial-Bug: #1822054\nDepends-On: If9e3658d304c3071f53ecb1c42796d2603875fcd\nDepends-On: I73f988d05840eca44949f13f248f86d094a57c46\nChange-Id: I1353020f874b348afd98e7ed3832033f85a5267f\n(cherry picked from commit b76d7623ac15c94f80fbbc1a5701331147fee52d)\n""}, {'number': 6, 'created': '2019-07-25 18:32:49.000000000', 'files': ['docker/services/metrics/collectd.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/HciCephAll.yaml', 'roles/HciCephObject.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'releasenotes/notes/metrics-qdr-97c00cc8059963fa.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'roles/HciCephMon.yaml', 'docker/services/metrics/qdr.yaml', 'roles/ComputeDVR.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'roles/CephStorage.yaml', 'roles/ComputeSriov.yaml', 'roles/CephObject.yaml', 'roles/ComputeSriovRT.yaml', 'roles/Controller.yaml', 'roles/ComputeRealTime.yaml', 'tools/yaml-validate.py', 'roles/CephFile.yaml', 'network/service_net_map.j2.yaml', 'environments/hyperconverged-ceph.yaml', 'roles/ControllerOpenstack.yaml', 'roles/ControllerStorageNfs.yaml', 'roles/HciCephFile.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'roles/ComputeInstanceHA.yaml', 'roles/Messaging.yaml', 'roles/CephAll.yaml', 'roles/Novacontrol.yaml', 'roles/BlockStorage.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'roles/Compute.yaml', 'environments/metrics/collectd-standalone.yaml', 'roles/Telemetry.yaml', 'roles/ComputeLiquidio.yaml', 'roles/ComputeHCI.yaml', 'roles/ComputeHCIOvsDpdk.yaml', 'roles/ControllerNoCeph.yaml', 'roles/Database.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles/ObjectStorage.yaml', 'roles/IronicConductor.yaml', 'roles/Networker.yaml', 'environments/services/collectd.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ed9797c9a8f6260c3626224cc1139d611955323c', 'message': ""QDR for metrics collection purposes\n\nThis patch adds composable new service (QDR) for containerized deployments.\nMetrics QDR will run on each overcloud node in 'edge' mode. This basically\nmeans that there is a possibility that there will be two QDRs running\non controllers in case that oslo messaging is deployed. This is a reason why\nwe need separate composable service for this use case.\n\nPartial-Bug: #1822054\nDepends-On: If9e3658d304c3071f53ecb1c42796d2603875fcd\nDepends-On: I73f988d05840eca44949f13f248f86d094a57c46\nChange-Id: I1353020f874b348afd98e7ed3832033f85a5267f\n(cherry picked from commit b76d7623ac15c94f80fbbc1a5701331147fee52d)\n""}]",1,643582,ed9797c9a8f6260c3626224cc1139d611955323c,31,5,6,5241,,,0,"QDR for metrics collection purposes

This patch adds composable new service (QDR) for containerized deployments.
Metrics QDR will run on each overcloud node in 'edge' mode. This basically
means that there is a possibility that there will be two QDRs running
on controllers in case that oslo messaging is deployed. This is a reason why
we need separate composable service for this use case.

Partial-Bug: #1822054
Depends-On: If9e3658d304c3071f53ecb1c42796d2603875fcd
Depends-On: I73f988d05840eca44949f13f248f86d094a57c46
Change-Id: I1353020f874b348afd98e7ed3832033f85a5267f
(cherry picked from commit b76d7623ac15c94f80fbbc1a5701331147fee52d)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/82/643582/5 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/metrics/collectd.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/HciCephAll.yaml', 'roles/HciCephObject.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'releasenotes/notes/metrics-qdr-97c00cc8059963fa.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'roles/HciCephMon.yaml', 'docker/services/metrics/qdr.yaml', 'roles/ComputeDVR.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'roles/CephStorage.yaml', 'roles/ComputeSriov.yaml', 'roles/CephObject.yaml', 'roles/ComputeSriovRT.yaml', 'roles/Controller.yaml', 'roles/ComputeRealTime.yaml', 'tools/yaml-validate.py', 'roles/CephFile.yaml', 'network/service_net_map.j2.yaml', 'environments/hyperconverged-ceph.yaml', 'roles/ControllerOpenstack.yaml', 'roles/ControllerStorageNfs.yaml', 'roles/HciCephFile.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'roles/ComputeInstanceHA.yaml', 'roles/Messaging.yaml', 'roles/CephAll.yaml', 'roles/Novacontrol.yaml', 'environments/collectd-environment.yaml', 'roles/BlockStorage.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'roles/Compute.yaml', 'roles/Telemetry.yaml', 'roles/ComputeLiquidio.yaml', 'roles/ComputeHCI.yaml', 'roles/ControllerNoCeph.yaml', 'roles/Database.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles/ObjectStorage.yaml', 'roles/IronicConductor.yaml', 'roles/Networker.yaml', 'environments/services/collectd.yaml']",44,ed8a8a9fa89a45ab8f480afa7a445982f0ebb26a,saf_client_side, OS::TripleO::Services::Collectd: ../../docker/services/metrics/collectd.yaml, OS::TripleO::Services::Collectd: ../../docker/services/collectd.yaml,280,7
openstack%2Ftripleo-common~stable%2Fqueens~I73f988d05840eca44949f13f248f86d094a57c46,openstack/tripleo-common,stable/queens,I73f988d05840eca44949f13f248f86d094a57c46,Make MetricsQdr service use qdrouterd image,MERGED,2019-03-15 13:42:28.000000000,2019-07-31 21:46:03.000000000,2019-07-31 21:46:03.000000000,"[{'_account_id': 5241}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-15 13:42:28.000000000', 'files': ['container-images/overcloud_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1bcb125384ee2f270c9a3e705fe50d911ceb6cd3', 'message': 'Make MetricsQdr service use qdrouterd image\n\nThere is no reason to not have MetricsQdr service use the same image\nas Qdrouterd service for Oslo messaging.\n\nChange-Id: I73f988d05840eca44949f13f248f86d094a57c46\n(cherry picked from commit 3406cf04803482bf91c2a0ca1ef954f697a90a49)\n'}]",0,643586,1bcb125384ee2f270c9a3e705fe50d911ceb6cd3,10,4,1,5241,,,0,"Make MetricsQdr service use qdrouterd image

There is no reason to not have MetricsQdr service use the same image
as Qdrouterd service for Oslo messaging.

Change-Id: I73f988d05840eca44949f13f248f86d094a57c46
(cherry picked from commit 3406cf04803482bf91c2a0ca1ef954f697a90a49)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/86/643586/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/overcloud_containers.yaml.j2'],1,1bcb125384ee2f270c9a3e705fe50d911ceb6cd3,qdr-collectd-queens, - DockerMetricsQdrConfigImage - DockerMetricsQdrImage - OS::TripleO::Services::MetricsQdr,,3,0
openstack%2Fopenstack-helm~master~Id3cda737895451c2261bf9adfe54995db28c2f63,openstack/openstack-helm,master,Id3cda737895451c2261bf9adfe54995db28c2f63,Cinder: Make image conversion dir an emptydir,MERGED,2019-07-31 20:06:21.000000000,2019-07-31 21:43:35.000000000,2019-07-31 21:43:35.000000000,"[{'_account_id': 7769}, {'_account_id': 17119}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 29974}]","[{'number': 1, 'created': '2019-07-31 20:06:21.000000000', 'files': ['cinder/templates/deployment-volume.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d4cf8f8c71ac21ccb12fdf6776398d0d7da0c4c8', 'message': 'Cinder: Make image conversion dir an emptydir\n\nThis PS makes the image conversion directory an emptydir, so that\nwe can use read only containers and sill convert images from glance\ninto volumes.\n\nChange-Id: Id3cda737895451c2261bf9adfe54995db28c2f63\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,673906,d4cf8f8c71ac21ccb12fdf6776398d0d7da0c4c8,12,8,1,23928,,,0,"Cinder: Make image conversion dir an emptydir

This PS makes the image conversion directory an emptydir, so that
we can use read only containers and sill convert images from glance
into volumes.

Change-Id: Id3cda737895451c2261bf9adfe54995db28c2f63
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/06/673906/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/templates/deployment-volume.yaml'],1,d4cf8f8c71ac21ccb12fdf6776398d0d7da0c4c8,, - name: cinder-conversion mountPath: /var/lib/cinder/conversion - name: cinder-conversion emptyDir: {},,4,0
openstack%2Fpuppet-ceph~stable%2Fmimic~If78f60687f8979cc53a69718318d5d3aa9fed777,openstack/puppet-ceph,stable/mimic,If78f60687f8979cc53a69718318d5d3aa9fed777,Use stable/rocky spec helper,MERGED,2019-06-26 19:31:50.000000000,2019-07-31 21:38:03.000000000,2019-07-31 21:38:03.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 19:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/64f9958f303de0f9f9c0f45f25c4f78660390ad5', 'message': 'Use stable/rocky spec helper\n\nChange-Id: If78f60687f8979cc53a69718318d5d3aa9fed777\n'}, {'number': 2, 'created': '2019-06-26 19:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/0b571acb66250b999076974a609a9bfa14e6ded7', 'message': 'Use stable/rocky spec helper\n\nDepends-On: https://review.opendev.org/#/c/667387/\nChange-Id: If78f60687f8979cc53a69718318d5d3aa9fed777\n'}, {'number': 3, 'created': '2019-07-31 16:52:12.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/021cc6425e31921fec3ed11fc7ffb6a2691b04cb', 'message': 'Use stable/rocky spec helper\n\nDepends-On: https://review.opendev.org/#/c/673876/\nChange-Id: If78f60687f8979cc53a69718318d5d3aa9fed777\n'}]",0,667714,021cc6425e31921fec3ed11fc7ffb6a2691b04cb,11,3,3,14985,,,0,"Use stable/rocky spec helper

Depends-On: https://review.opendev.org/#/c/673876/
Change-Id: If78f60687f8979cc53a69718318d5d3aa9fed777
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/14/667714/3 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,64f9958f303de0f9f9c0f45f25c4f78660390ad5,fix-mimic-spec-helper," :branch => 'stable/rocky',",,1,0
openstack%2Fpuppet-ceph~stable%2Fmimic~I1a0016a330daee98b79124190e8d0e069d1bd01e,openstack/puppet-ceph,stable/mimic,I1a0016a330daee98b79124190e8d0e069d1bd01e,Update .gitreview for stable/mimic,MERGED,2019-03-25 21:21:06.000000000,2019-07-31 21:38:03.000000000,2019-07-31 21:38:03.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-25 21:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/ca48dce7e9775bea2cfb8bd38192befa970cd66a', 'message': 'Update .gitreview for stable/mimic\n\nChange-Id: I1a0016a330daee98b79124190e8d0e069d1bd01e\n'}, {'number': 2, 'created': '2019-04-16 07:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/5a106257d7a1c074472b92a3c26c68eaf5539b61', 'message': 'Update .gitreview for stable/mimic\n\nChange-Id: I1a0016a330daee98b79124190e8d0e069d1bd01e\n'}, {'number': 3, 'created': '2019-04-29 20:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/f112d755192d1c1f8850291ac2e81ec89a2d1e3e', 'message': 'Update .gitreview for stable/mimic\n\nChange-Id: I1a0016a330daee98b79124190e8d0e069d1bd01e\n'}, {'number': 4, 'created': '2019-04-29 20:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/86ce64d454c9a02be6922a95464dfd96e2cec7a7', 'message': 'Update .gitreview for stable/mimic\n\nDepends-On: https://review.opendev.org/656390\nChange-Id: I1a0016a330daee98b79124190e8d0e069d1bd01e\n'}, {'number': 5, 'created': '2019-04-29 20:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/51d20775f84a438089c7901d48f2b91898d23d03', 'message': 'Update .gitreview for stable/mimic\n\nDepends-On: https://review.opendev.org/656390\nChange-Id: I1a0016a330daee98b79124190e8d0e069d1bd01e\n'}, {'number': 6, 'created': '2019-04-29 20:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/b99bcf92e86a0c507afaf88138bb8749bac2ecf2', 'message': 'Update .gitreview for stable/mimic\n\nDepends-On: https://review.opendev.org/#/c/656393\nChange-Id: I1a0016a330daee98b79124190e8d0e069d1bd01e\n'}, {'number': 7, 'created': '2019-04-30 21:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/77529af45ddb17c8596527ed5be69f585cfc3b8d', 'message': 'Update .gitreview for stable/mimic\n\nChange-Id: I1a0016a330daee98b79124190e8d0e069d1bd01e\n'}, {'number': 8, 'created': '2019-04-30 21:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/8235c1d191194a96cba0b89e500b0dd44bb760a5', 'message': 'Update .gitreview for stable/mimic\n\nDepends-On: Ib954dd3abd1b2c8a513f3d5db4f2680d1b79c9be\nChange-Id: I1a0016a330daee98b79124190e8d0e069d1bd01e\n'}, {'number': 9, 'created': '2019-04-30 23:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/915dd72519e73899d0b0799e2b8941fd498aa629', 'message': 'Update .gitreview for stable/mimic\n\nDepends-On: https://review.opendev.org/656606\nChange-Id: I1a0016a330daee98b79124190e8d0e069d1bd01e\n'}, {'number': 10, 'created': '2019-06-26 18:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/5f9480297e464eb92e260532a49fc818fa6703e1', 'message': 'Update .gitreview for stable/mimic\n\nDepends-On: https://review.opendev.org/#/c/667387/\nChange-Id: I1a0016a330daee98b79124190e8d0e069d1bd01e\n'}, {'number': 11, 'created': '2019-06-26 19:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/d27c96a2831a105f021d77b787656705b51335b6', 'message': 'Update .gitreview for stable/mimic\n\nDepends-On: https://review.opendev.org/#/c/667387/\nChange-Id: I1a0016a330daee98b79124190e8d0e069d1bd01e\n'}, {'number': 12, 'created': '2019-07-31 16:52:17.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/7c99266d828edf1f87cc63b077e0baedd7ceabc2', 'message': 'Update .gitreview for stable/mimic\n\nDepends-On: https://review.opendev.org/#/c/667387/\nChange-Id: I1a0016a330daee98b79124190e8d0e069d1bd01e\n'}]",0,647612,7c99266d828edf1f87cc63b077e0baedd7ceabc2,32,4,12,22816,,,0,"Update .gitreview for stable/mimic

Depends-On: https://review.opendev.org/#/c/667387/
Change-Id: I1a0016a330daee98b79124190e8d0e069d1bd01e
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/12/647612/8 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,ca48dce7e9775bea2cfb8bd38192befa970cd66a,create-mimic,defaultbranch=stable/mimic,,1,0
openstack%2Ftripleo-common~master~I77f98455ebf402dbeea955c6d8203ebbddf4c051,openstack/tripleo-common,master,I77f98455ebf402dbeea955c6d8203ebbddf4c051,Import image name functions and update_nodes_deploy_data from tripleoclient,ABANDONED,2018-01-25 07:00:47.000000000,2019-07-31 21:14:41.000000000,,"[{'_account_id': 4571}, {'_account_id': 12898}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-01-25 07:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4e1ad55ed2ae0b8307e9f10dce6110c067fa7653', 'message': 'Import image name functions and update_nodes_deploy_data from tripleoclient\n\nThese functions were developed in tripleoclient but belong in\ntripleo-common duplicated them here.  Once this review is released and\ntripleoclient can rely on these function being available here we can\nremove them from tripleoclient.\n\nChange-Id: I77f98455ebf402dbeea955c6d8203ebbddf4c051\n'}, {'number': 2, 'created': '2018-06-29 03:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5906a186dd9116b3cc2fdc95ac89f99e11f5ee20', 'message': 'Import image name functions and update_nodes_deploy_data from tripleoclient\n\nThese functions were developed in tripleoclient but belong in\ntripleo-common duplicated them here.  Once this review is released and\ntripleoclient can rely on these function being available here we can\nremove them from tripleoclient.\n\nChange-Id: I77f98455ebf402dbeea955c6d8203ebbddf4c051\n'}, {'number': 3, 'created': '2018-07-08 04:57:30.000000000', 'files': ['tripleo_common/tests/utils/test_nodes.py', 'tripleo_common/tests/utils/test_images.py', 'tripleo_common/utils/images.py', 'tripleo_common/utils/nodes.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9f59831b5376cb6e70a74917d8de06627a903506', 'message': 'Import image name functions and update_nodes_deploy_data from tripleoclient\n\nThese functions were developed in tripleoclient but belong in\ntripleo-common duplicated them here.  Once this review is released and\ntripleoclient can rely on these function being available here we can\nremove them from tripleoclient.\n\nChange-Id: I77f98455ebf402dbeea955c6d8203ebbddf4c051\n'}]",0,537768,9f59831b5376cb6e70a74917d8de06627a903506,17,5,3,12898,,,0,"Import image name functions and update_nodes_deploy_data from tripleoclient

These functions were developed in tripleoclient but belong in
tripleo-common duplicated them here.  Once this review is released and
tripleoclient can rely on these function being available here we can
remove them from tripleoclient.

Change-Id: I77f98455ebf402dbeea955c6d8203ebbddf4c051
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/68/537768/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/utils/test_nodes.py', 'tripleo_common/tests/utils/test_images.py', 'tripleo_common/utils/images.py', 'tripleo_common/utils/nodes.py']",4,4e1ad55ed2ae0b8307e9f10dce6110c067fa7653,bp/multiarch-support,"from tripleo_common.utils import images def update_nodes_deploy_data(imageclient, nodes): """"""Add specific kernel and ramdisk IDs to a node. Look at all images and update node data with the most specific deploy_kernel and deploy_ramdisk for the architecture/platform comination platform. """""" # NOTE(tonyb): There are times when we can be called without a valid # imageclient. In that case we clearly wont be able to find any images so # we exit early if imageclient is None: return img_map = {} for image in imageclient.images.list(): name = image.name # NOTE(tonyb): We don't want to include the default kernel or ramdisk # in the map as that will short-circuit logic elesewhere. if (name != images.deploy_kernel()[0] and name != images.deploy_ramdisk()[0]): img_map[image.name] = image.id for node in nodes: arch = node.get('arch') platform = node.get('platform') # NOTE(tonyb): Check to see if we have a specific kernel for this node # and use that. for kernel in [images.deploy_kernel(arch=arch, platform=platform)[0], images.deploy_kernel(arch=arch)[0]]: if 'kernel_id' not in node and kernel in img_map: node['kernel_id'] = img_map[kernel] break # NOTE(tonyb): As above except for ramdisks for ramdisk in [images.deploy_ramdisk(arch=arch, platform=platform)[0], images.deploy_ramdisk(arch=arch)[0]]: if 'ramdisk_id' not in node and ramdisk in img_map: node['ramdisk_id'] = img_map[ramdisk] break",,308,0
openstack%2Ftripleo-common~master~I69c4aa082e019099b6d70d201153b55e988635a6,openstack/tripleo-common,master,I69c4aa082e019099b6d70d201153b55e988635a6,WiP: Use update_nodes_deploy_data,ABANDONED,2018-01-25 07:00:47.000000000,2019-07-31 21:14:39.000000000,,"[{'_account_id': 12898}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-01-25 07:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cb1a513fd08ac13bfe4b5df0eb679abc241110c8', 'message': 'WiP: Use update_nodes_deploy_data\n\nChange-Id: I69c4aa082e019099b6d70d201153b55e988635a6\n'}, {'number': 2, 'created': '2018-06-29 03:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ec915701308c41b46ff3b9a8e50ddfe8e54ace3f', 'message': 'WiP: Use update_nodes_deploy_data\n\nChange-Id: I69c4aa082e019099b6d70d201153b55e988635a6\n'}, {'number': 3, 'created': '2018-07-08 04:57:30.000000000', 'files': ['tripleo_common/tests/utils/test_nodes.py', 'tripleo_common/utils/nodes.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c95d56ffb9ba74aebd913317e4d772f2dd74ff1f', 'message': 'WiP: Use update_nodes_deploy_data\n\nChange-Id: I69c4aa082e019099b6d70d201153b55e988635a6\n'}]",0,537769,c95d56ffb9ba74aebd913317e4d772f2dd74ff1f,18,4,3,12898,,,0,"WiP: Use update_nodes_deploy_data

Change-Id: I69c4aa082e019099b6d70d201153b55e988635a6
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/69/537769/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/utils/test_nodes.py', 'tripleo_common/utils/nodes.py']",2,cb1a513fd08ac13bfe4b5df0eb679abc241110c8,bp/multiarch-support," # FIXME(tonyb): When update_nodes_deploy_data() is no longer cladded # directly from tripleoclient update update_nodes_deploy_data() to also # handle the default case and remove the double handling update_nodes_deploy_data(glance_client, nodes_list) ",,49,0
openstack%2Ftripleo-common~master~Ib0072f8f43af4df998b69f80263dd77bed186fae,openstack/tripleo-common,master,Ib0072f8f43af4df998b69f80263dd77bed186fae,Remove ignore_errors for deployment run,ABANDONED,2018-03-22 07:47:54.000000000,2019-07-31 21:14:36.000000000,,"[{'_account_id': 6133}, {'_account_id': 7144}, {'_account_id': 11090}, {'_account_id': 11391}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-22 07:47:54.000000000', 'files': ['tripleo_common/templates/deployments.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a471b67a9393b8b333563bee0f7716eb8736b35e', 'message': 'Remove ignore_errors for deployment run\n\nErrors from this deployment task shall be\nconsidered as fatal since it includes\nSoftwareDeploymentGroup resources that are\nnot from deploy-steps.j2, such as:\n\nPre_deployments:\n\n  - NetworkDeployment\n  - NovaComputeUpgradeInitDeployment\n  - UpdateDeployment\n  - NovaComputeDeployment\n  - SshHostPubKeyDeployment\n  - ComputeHostsDeployment\n  - ComputeSshKnownHostsDeployment\n  - ComputeAllNodesDeployment\n  - ComputeAllNodesValidationDeployment\n  - ComputeHostPrepDeployment\n  - ComputeArtifactsDeplo\n\nPost_deployments:\n\n  - ExtraDeployments\n\nAny failure from above resources may cause\nunexpected results. and the outer loop of\nthese tasks in deploy-steps.j2 has\nany_errors_fatal flag set to yes.\n\nChange-Id: Ib0072f8f43af4df998b69f80263dd77bed186fae\n'}]",2,555184,a471b67a9393b8b333563bee0f7716eb8736b35e,8,7,1,21151,,,0,"Remove ignore_errors for deployment run

Errors from this deployment task shall be
considered as fatal since it includes
SoftwareDeploymentGroup resources that are
not from deploy-steps.j2, such as:

Pre_deployments:

  - NetworkDeployment
  - NovaComputeUpgradeInitDeployment
  - UpdateDeployment
  - NovaComputeDeployment
  - SshHostPubKeyDeployment
  - ComputeHostsDeployment
  - ComputeSshKnownHostsDeployment
  - ComputeAllNodesDeployment
  - ComputeAllNodesValidationDeployment
  - ComputeHostPrepDeployment
  - ComputeArtifactsDeplo

Post_deployments:

  - ExtraDeployments

Any failure from above resources may cause
unexpected results. and the outer loop of
these tasks in deploy-steps.j2 has
any_errors_fatal flag set to yes.

Change-Id: Ib0072f8f43af4df998b69f80263dd77bed186fae
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/84/555184/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/templates/deployments.yaml'],1,a471b67a9393b8b333563bee0f7716eb8736b35e,,, ignore_errors: yes,0,1
openstack%2Ftripleo-common~master~I2c656ec15c60aee58e3b21f515b4137ebbd29ac8,openstack/tripleo-common,master,I2c656ec15c60aee58e3b21f515b4137ebbd29ac8,WIP Change put_object by upload,ABANDONED,2018-04-09 18:24:25.000000000,2019-07-31 21:14:35.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-09 18:24:25.000000000', 'files': ['tripleo_common/actions/container_images.py', 'tripleo_common/utils/swift.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0ffc1abdeafb1e500f7dd71c8ddcf7862e3d0a1a', 'message': 'WIP Change put_object by upload\n\nChanging the client implementation for the\nservice implementation for the swift\nupload files.\n\nThis will allow uploading big files (+5GB)\n\nChange-Id: I2c656ec15c60aee58e3b21f515b4137ebbd29ac8\n'}]",0,559809,0ffc1abdeafb1e500f7dd71c8ddcf7862e3d0a1a,5,3,1,20775,,,0,"WIP Change put_object by upload

Changing the client implementation for the
service implementation for the swift
upload files.

This will allow uploading big files (+5GB)

Change-Id: I2c656ec15c60aee58e3b21f515b4137ebbd29ac8
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/09/559809/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/container_images.py', 'tripleo_common/utils/swift.py']",2,0ffc1abdeafb1e500f7dd71c8ddcf7862e3d0a1a,change-put-by-upload," def upload_to_swift(swiftservice, container, file_name, delete_after=3600, segment_size=1048576000, use_slo=True, segment_container=None, leave_segments=False, changed=None, skip_identical=False, fail_fast=True, dir_marker=False): """"""Upload file to swift. This method allows to upload files bigger than 5GB. It will create 2 swift containers to store the segments and one container to reference the manifest with the segment pointers """""" try: objs = [SwiftUploadObject(file_name, object_name=file_name)] options = {'meta': [], 'header': ['X-Delete-After: ' + str(delete_after)], 'segment_size': segment_size, 'use_slo': use_slo, 'segment_container': segment_container, 'leave_segments': leave_segments, 'changed': changed, 'skip_identical': skip_identical, 'fail_fast': fail_fast, 'dir_marker': dir_marker } for r in swiftservice.upload(container, objs, options=options): if r['success']: if 'object' in r: print(r['object']) elif 'for_object' in r: print( '%s segment %s' % (r['for_object'], r['segment_index']) ) else: error = r['error'] if r['action'] == ""create_container"": LOG.warning( 'Warning: failed to create container ' ""'%s'%s"", container, error ) elif r['action'] == ""upload_object"": LOG.error( ""Failed to upload object %s to container %s: %s"" % (container, r['object'], error) ) else: LOG.error(""%s"" % error) except SwiftError as e: LOG.error(e.value)",,75,7
openstack%2Ftripleo-common~master~If81e26af9fa3053947d544985dbbe2b0c5d8b957,openstack/tripleo-common,master,If81e26af9fa3053947d544985dbbe2b0c5d8b957,WIP: add mistral action to list next index for each role,ABANDONED,2018-05-04 18:03:00.000000000,2019-07-31 21:14:33.000000000,,"[{'_account_id': 7065}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2018-05-04 18:03:00.000000000', 'files': ['tripleo_common/actions/deployment.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/17af5216902fb02640e3b9347ef7bd0dffcf1a7c', 'message': 'WIP: add mistral action to list next index for each role\n\nChange-Id: If81e26af9fa3053947d544985dbbe2b0c5d8b957\n'}]",0,566374,17af5216902fb02640e3b9347ef7bd0dffcf1a7c,7,5,1,23811,,,0,"WIP: add mistral action to list next index for each role

Change-Id: If81e26af9fa3053947d544985dbbe2b0c5d8b957
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/74/566374/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/deployment.py', 'setup.cfg']",2,17af5216902fb02640e3b9347ef7bd0dffcf1a7c,, tripleo.deployment.roles_index = tripleo_common.actions.deployment:OvercloudRolesIndexAction,,38,0
openstack%2Ftripleo-common~master~Id86088a4703e59bff663a0238673d3df9a02efb5,openstack/tripleo-common,master,Id86088a4703e59bff663a0238673d3df9a02efb5,WIP - Group sudoers by aliases,ABANDONED,2018-07-19 13:09:23.000000000,2019-07-31 21:14:31.000000000,,"[{'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-19 13:09:23.000000000', 'files': ['sudoers'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d4dfa660220a844703c505dc0f3597c58606361f', 'message': 'WIP - Group sudoers by aliases\n\nGroup the sudoers file by aliases for better understanding\nand readability.\n\nChange-Id: Id86088a4703e59bff663a0238673d3df9a02efb5\nCloses-Bug: 1782344\nCo-Authored-By: Sergii Golovatiuk <sgolovat@redhat.com>\n'}]",0,583956,d4dfa660220a844703c505dc0f3597c58606361f,3,3,1,20775,,,0,"WIP - Group sudoers by aliases

Group the sudoers file by aliases for better understanding
and readability.

Change-Id: Id86088a4703e59bff663a0238673d3df9a02efb5
Closes-Bug: 1782344
Co-Authored-By: Sergii Golovatiuk <sgolovat@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/56/583956/1 && git format-patch -1 --stdout FETCH_HEAD,['sudoers'],1,d4dfa660220a844703c505dc0f3597c58606361f,bug/1782344,"Cmnd_Alias RUN_VALIDATIONS = /usr/bin/run-validation Cmnd_Alias VALIDATIONS = /usr/bin/chown -h validations\: /tmp/validations_identity_[A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_], \ !/usr/bin/chown /tmp/validations_identity_* *, !/usr/bin/chown /tmp/validations_identity_*..*, \ /usr/bin/rm -f /tmp/validations_identity_[A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_], \Cmnd_Alias NOVA = /bin/nova-manage cell_v2 discover_hosts * Cmnd_Alias BACKUP = /usr/bin/tar --ignore-failed-read -C / -cf /var/tmp/undercloud-backup-*.tar *, /usr/bin/chown mistral. /var/tmp/undercloud-backup-*/filesystem-*.tar Cmnd_Alias OCTAVIA = /usr/bin/yum -y install octavia-amphora-image mistral ALL = (validations) NOPASSWD:SETENV: RUN_VALIDATIONS mistral ALL = NOPASSWD: VALIDATIONS mistral ALL = NOPASSWD: NOVA mistral ALL = NOPASSWD: OCTAVIA mistral ALL = NOPASSWD: BACKUP","mistral ALL = (validations) NOPASSWD:SETENV: /usr/bin/run-validation mistral ALL = NOPASSWD: /usr/bin/chown -h validations\: /tmp/validations_identity_[A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_], \ !/usr/bin/chown /tmp/validations_identity_* *, !/usr/bin/chown /tmp/validations_identity_*..* mistral ALL = NOPASSWD: /usr/bin/rm -f /tmp/validations_identity_[A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_], \mistral ALL = NOPASSWD: /bin/nova-manage cell_v2 discover_hosts * mistral ALL = NOPASSWD: /usr/bin/tar --ignore-failed-read -C / -cf /var/tmp/undercloud-backup-*.tar * mistral ALL = NOPASSWD: /usr/bin/chown mistral. /var/tmp/undercloud-backup-*/filesystem-*.tar mistral ALL = NOPASSWD: /usr/bin/yum -y install octavia-amphora-image",12,8
openstack%2Ftripleo-common~master~I6afa91cbc5e351c7fc3e47f2bd4b04079709f555,openstack/tripleo-common,master,I6afa91cbc5e351c7fc3e47f2bd4b04079709f555,:Update user plan with env and settings informations,ABANDONED,2018-07-13 09:08:42.000000000,2019-07-31 21:14:14.000000000,,"[{'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-13 09:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f7ae900180ed9dc31dcc55b3d832904bbc99df48', 'message': 'Update user plan with env and settings informations\n\nCommit message in WIP\nThe goal of this review is stored and update the\nenv files provided by the user, stored the settings\nto then used it for the life cycle management of\nthe plan.\n\nA refactoring change will be pushed in the client\nside, to remove useless code and add the keep_env\nbehavior to true\n\nChange-Id: I6afa91cbc5e351c7fc3e47f2bd4b04079709f555\n'}, {'number': 2, 'created': '2018-07-13 12:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4b45e40e4a0e5830fa88723ae202ae9f4bc55da1', 'message': 'Update user plan with env and settings informations\n\nCommit message in WIP\nThe goal of this review is stored and update the\nenv files provided by the user, stored the settings\nto then used it for the life cycle management of\nthe plan.\n\nA refactoring change will be pushed in the client\nside, to remove useless code and add the keep_env\nbehavior to true\n\nChange-Id: I6afa91cbc5e351c7fc3e47f2bd4b04079709f555\n'}, {'number': 3, 'created': '2018-07-17 09:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bd5d6ec301b574b11593538496b17ace1b7af869', 'message': ':Update user plan with env and settings informations\n\nCommit message in WIP\nThe goal of this review is stored and update the\nenv files provided by the user, stored the settings\nto then used it for the life cycle management of\nthe plan.\n\nA refactoring change will be pushed in the client\nside, to remove useless code and add the keep_env\nbehavior to true\n\nChange-Id: I6afa91cbc5e351c7fc3e47f2bd4b04079709f555\n'}, {'number': 4, 'created': '2018-07-17 09:33:51.000000000', 'files': ['workbooks/plan_management.yaml', 'setup.cfg', 'tripleo_common/actions/plan.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/02f542ca7ebfc4e9aee6a3b7a8fcc9fe96a03ed8', 'message': ':Update user plan with env and settings informations\n\nCommit message in WIP\nThe goal of this review is stored and update the\nenv files provided by the user, stored the settings\nto then used it for the life cycle management of\nthe plan.\n\nA refactoring change will be pushed in the client\nside, to remove useless code and add the keep_env\nbehavior to true\n\nChange-Id: I6afa91cbc5e351c7fc3e47f2bd4b04079709f555\n'}]",0,582473,02f542ca7ebfc4e9aee6a3b7a8fcc9fe96a03ed8,10,3,4,16515,,,0,":Update user plan with env and settings informations

Commit message in WIP
The goal of this review is stored and update the
env files provided by the user, stored the settings
to then used it for the life cycle management of
the plan.

A refactoring change will be pushed in the client
side, to remove useless code and add the keep_env
behavior to true

Change-Id: I6afa91cbc5e351c7fc3e47f2bd4b04079709f555
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/73/582473/1 && git format-patch -1 --stdout FETCH_HEAD,"['workbooks/plan_management.yaml', 'setup.cfg', 'tripleo_common/actions/plan.py']",3,f7ae900180ed9dc31dcc55b3d832904bbc99df48,user-plan-management,"from heatclient.common import template_utils class UpdateUserPlanAction(base.TripleOAction): """"""Updates User Plan values WIP """""" def __init__(self, container, env_files, templates_path=constants.DEFAULT_TEMPLATES_PATH, parameter=None): super(UpdateUserPlanAction, self).__init__() self.container = container self.templates_path = templates_path self.env_files = env_files self.parameter = parameter def _update_user_files(self, swift, content, container, file_path, update=True): if isintance(content, str): with open(content) as c: content = yaml.safe_load(c) try: old = yaml.safe_load(swift.get_object(container, file_path)[1]) # Update old with content template_utils.deep_update(old, content) except swiftexceptions.ClientException as err: pass swift.put_object(container, file_path, yaml.safe_dump(content, default_flow_style=False)) def run(self, context): swift = self.get_object_client(context) try: plan_env = plan_utils.get_env(swift, self.container) except swiftexceptions.ClientException as err: err_msg = (""Error retrieving environment for plan %s: %s"" % ( self.container, err)) LOG.exception(err_msg) return actions.Result(error=error_text) # Upload environment files into swift under user-files/ user_files = [] for user_env_file in self.env_files: # If env file is in the tht dir then take the one in swift if self.templates_path in user_env_file: user_files.append( '%s/%s/%s' % (swift.url, self.container, user_env_file.replace(self.templates_path, '').lstrip('/'))) else: user_files.append(os.path.abspath(user_env_file)) # Put only user files for tracking or update it if differents file_path = 'user-environments/%s' % user_env_file.lstrip('/') self._update_user_files(swift, self.container, user_env_file, file_path) # Process env files env_files, env = plan_utils.process_environments_and_files(swift, user_files) # Add the env files under user-files/ directory in swift for f in env_files.keys(): if f.startswith('file://'): file_path = '%s' % f.replace('file://', 'user-files') elif f.startswith(swift.url): file_path = '%s' % f.replace(swift.url, 'user-files') self._update_user_files(swift, self.container, f, file_path) # Upload user settings self._update_user_files(swift, self.container, env, constants.PLAN_ENVIRONMENT)",,109,0
openstack%2Ftripleo-common~master~I883056f770f0ae3789fef8a0a1f4c3be1a376510,openstack/tripleo-common,master,I883056f770f0ae3789fef8a0a1f4c3be1a376510,Update OS_VOLUME_API_VERSION for Rocky,ABANDONED,2018-08-09 20:52:47.000000000,2019-07-31 21:14:12.000000000,,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-08-09 20:52:47.000000000', 'files': ['tripleo_common/constants.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1b014163fc9e354f295868061b9cbd3035ceed94', 'message': 'Update OS_VOLUME_API_VERSION for Rocky\n\nUpdate OS_VOLUME_API_VERSION to highest microversion supported in Rocky\nper [1].\n\n[1] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/rest_api_version_history.rst#355-maximum-in-rocky\n\nChange-Id: I883056f770f0ae3789fef8a0a1f4c3be1a376510\n'}]",0,590511,1b014163fc9e354f295868061b9cbd3035ceed94,12,5,1,21129,,,0,"Update OS_VOLUME_API_VERSION for Rocky

Update OS_VOLUME_API_VERSION to highest microversion supported in Rocky
per [1].

[1] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/rest_api_version_history.rst#355-maximum-in-rocky

Change-Id: I883056f770f0ae3789fef8a0a1f4c3be1a376510
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/11/590511/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/constants.py'],1,1b014163fc9e354f295868061b9cbd3035ceed94,rocky-os-volume-api-version,DEFAULT_VOLUME_API_VERSION = '3.55',DEFAULT_VOLUME_API_VERSION = '3.52',1,1
openstack%2Ftripleo-common~master~I04966bd28a6ca32bda7b416374e9550f79b0483d,openstack/tripleo-common,master,I04966bd28a6ca32bda7b416374e9550f79b0483d,WIP Part of remove heat POC,ABANDONED,2018-12-07 20:53:04.000000000,2019-07-31 21:14:10.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-07 20:53:04.000000000', 'files': ['tripleo_common/utils/config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/da8164b739133146a99a7fdf1bbb6844062649f1', 'message': 'WIP Part of remove heat POC\n\nChange-Id: I04966bd28a6ca32bda7b416374e9550f79b0483d\n'}]",0,623577,da8164b739133146a99a7fdf1bbb6844062649f1,4,3,1,16515,,,0,"WIP Part of remove heat POC

Change-Id: I04966bd28a6ca32bda7b416374e9550f79b0483d
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/77/623577/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/config.py'],1,da8164b739133146a99a7fdf1bbb6844062649f1,remove/heat," if isinstance(name, str): stack = self.client.stacks.get(name) else: # lets assume for now its a stack object stack = name", stack = self.client.stacks.get(name),5,1
openstack%2Ftripleo-common~master~Ifbcafff2d0a6b8c6ce2bb8a9d62fd737b78c8988,openstack/tripleo-common,master,Ifbcafff2d0a6b8c6ce2bb8a9d62fd737b78c8988,Tweak modify playbook,ABANDONED,2018-09-10 21:04:50.000000000,2019-07-31 21:14:08.000000000,,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 7144}, {'_account_id': 7385}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-10 21:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0de7b42d99a985fc1ba56b54dbbf1452c655819c', 'message': 'Tweak modify playbook\n\nThis change does the following:\n- uses the recommended approach for a local connection to\n  avoid a warning about localhost\n- switches off fact gathering for a saving of 5 seconds per play\n\nChange-Id: Ifbcafff2d0a6b8c6ce2bb8a9d62fd737b78c8988\n'}, {'number': 2, 'created': '2018-09-12 15:13:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3b088aab5e2ed45f2ab5d14028e1618969a00b30', 'message': 'Tweak modify playbook\n\nThis change does the following:\n- uses the recommended approach for a local connection to\n  avoid a warning about localhost\n- switches off fact gathering for a saving of 5 seconds per play\n\nChange-Id: Ifbcafff2d0a6b8c6ce2bb8a9d62fd737b78c8988\n'}, {'number': 3, 'created': '2018-09-23 23:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/096b4a70a13a5e82bfdbc92345349c2b24a063a4', 'message': 'Tweak modify playbook\n\nThis change does the following:\n- uses the recommended approach for a local connection to\n  avoid a warning about localhost\n- switches off fact gathering for a saving of 5 seconds per play\n\nChange-Id: Ifbcafff2d0a6b8c6ce2bb8a9d62fd737b78c8988\n'}, {'number': 4, 'created': '2018-10-14 12:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8412e295551a354c11d536a54698f1f0569ad2c8', 'message': 'Tweak modify playbook\n\nThis change does the following:\n- uses the recommended approach for a local connection to\n  avoid a warning about localhost\n- switches off fact gathering for a saving of 5 seconds per play\n\nChange-Id: Ifbcafff2d0a6b8c6ce2bb8a9d62fd737b78c8988\n'}, {'number': 5, 'created': '2019-01-31 12:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a73852b30a4bf41747167c3752a228b7061c552a', 'message': 'Tweak modify playbook\n\nThis change does the following:\n- uses the recommended approach for a local connection to\n  avoid a warning about localhost\n- switches off fact gathering for a saving of 5 seconds per play\n\nChange-Id: Ifbcafff2d0a6b8c6ce2bb8a9d62fd737b78c8988\n'}, {'number': 6, 'created': '2019-02-10 22:15:46.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/79ed289a96a023482eac39a3ac4cf850baed819e', 'message': 'Tweak modify playbook\n\nThis change does the following:\n- uses the recommended approach for a local connection to\n  avoid a warning about localhost\n- switches off fact gathering for a saving of 5 seconds per play\n\nChange-Id: Ifbcafff2d0a6b8c6ce2bb8a9d62fd737b78c8988\n'}]",1,601426,79ed289a96a023482eac39a3ac4cf850baed819e,36,9,6,4571,,,0,"Tweak modify playbook

This change does the following:
- uses the recommended approach for a local connection to
  avoid a warning about localhost
- switches off fact gathering for a saving of 5 seconds per play

Change-Id: Ifbcafff2d0a6b8c6ce2bb8a9d62fd737b78c8988
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/26/601426/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py']",2,0de7b42d99a985fc1ba56b54dbbf1452c655819c,modify-playbook," 'hosts': '127.0.0.1', 'connection': 'local', 'gather_facts': False,"," 'hosts': 'localhost',",9,3
openstack%2Ftripleo-common~master~Ib37466e78242f43f72a05bb32a6ce5ad9da743e5,openstack/tripleo-common,master,Ib37466e78242f43f72a05bb32a6ce5ad9da743e5,WIP: Add unit test for upload with 404 http code,ABANDONED,2019-02-12 16:17:17.000000000,2019-07-31 21:14:07.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-12 16:17:17.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d8a74ab615c8afcb88e6a14bc56c55aec59c7154', 'message': 'WIP: Add unit test for upload with 404 http code\n\nChange-Id: Ib37466e78242f43f72a05bb32a6ce5ad9da743e5\n'}]",0,636369,d8a74ab615c8afcb88e6a14bc56c55aec59c7154,4,3,1,27898,,,0,"WIP: Add unit test for upload with 404 http code

Change-Id: Ib37466e78242f43f72a05bb32a6ce5ad9da743e5
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/69/636369/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/tests/image/test_image_uploader.py'],1,d8a74ab615c8afcb88e6a14bc56c55aec59c7154,," @mock.patch('six.moves.urllib.parse.ParseResult') @mock.patch('requests.Session') def test_has_to_retry_if_not_found(self, mock_parse_result, mock_session): response = requests.models.Response() response.status_code = 404 #TODO: Pass the fake response as result of post mock assert(False) self.uploader._cross_repo_mount(target_image_url=mock_parse_result, image_layers={""foo"": mock_parse_result}, source_layers=[""foo""], session=mock_session)",,11,0
openstack%2Ftripleo-common~master~I3d5eac900afc72e79d1e342e000240d377d13c07,openstack/tripleo-common,master,I3d5eac900afc72e79d1e342e000240d377d13c07,"WIP, opendaylight container failed to build stein",ABANDONED,2019-04-09 21:02:53.000000000,2019-07-31 21:14:05.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-09 21:02:53.000000000', 'files': ['container-images/overcloud_containers.yaml', 'container-images/tripleo_kolla_template_overrides.j2', 'container-images/overcloud_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/895bf8fa182072f5f56346a6a9bda88084d55a5e', 'message': 'WIP, opendaylight container failed to build stein\n\nGetting container build issues on opendaylight.\nWondering how to proceed here.\n\nChange-Id: I3d5eac900afc72e79d1e342e000240d377d13c07\n'}]",0,651379,895bf8fa182072f5f56346a6a9bda88084d55a5e,4,3,1,9592,,,0,"WIP, opendaylight container failed to build stein

Getting container build issues on opendaylight.
Wondering how to proceed here.

Change-Id: I3d5eac900afc72e79d1e342e000240d377d13c07
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/79/651379/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/overcloud_containers.yaml', 'container-images/tripleo_kolla_template_overrides.j2', 'container-images/overcloud_containers.yaml.j2']",3,895bf8fa182072f5f56346a6a9bda88084d55a5e,,"{% if neutron_driver == ""ovn"" %}","{% if neutron_driver == ""odl"" %} - imagename: ""{{namespace}}/{{name_prefix}}neutron-server-opendaylight{{name_suffix}}:{{tag}}"" image_source: kolla params: - DockerNeutronApiImage - DockerNeutronConfigImage services: - OS::TripleO::Services::NeutronApi - OS::TripleO::Services::NeutronDhcpAgent - OS::TripleO::Services::NeutronMetadataAgent - OS::TripleO::Services::NeutronServer - OS::TripleO::Services::OpenDaylightApi {% elif neutron_driver == ""ovn"" %}",1,35
openstack%2Ftripleo-common~master~I50f33b0074b147ad3c902b372f8c747fa88811b4,openstack/tripleo-common,master,I50f33b0074b147ad3c902b372f8c747fa88811b4,WIP: Use process-templates.py and cache templates to speed up plan ops.,ABANDONED,2018-07-09 22:53:41.000000000,2019-07-31 21:14:03.000000000,,"[{'_account_id': 360}, {'_account_id': 2011}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 7065}, {'_account_id': 7385}, {'_account_id': 7509}, {'_account_id': 11166}, {'_account_id': 13039}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-09 22:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a28b3f98c7cbe256b516b91b74b6cbf5180e4839', 'message': ""WIP: Use process-templates.py and cache templates to speed up plan ops.\n\nWIP: Doesn't work yet :)\n\nInstead of storing the templates in the swift container we store\nthe whole tarball as a single file.  We also have a local cache\nof the templates, verified by checksum, that we use.  Also templates\nare now processed using process-templates.py instead of the code\nhere.  This speeds up template processing functions drastically\nwhich makes the UI experience much better.\n\nChange-Id: I50f33b0074b147ad3c902b372f8c747fa88811b4\nCo-Authored-By: Dan Prince <dprince@redhat.com>\n""}, {'number': 2, 'created': '2018-07-16 20:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bf85403a8075952348a2182fe6831d7e3734bf5c', 'message': ""WIP: Use process-templates.py and cache templates to speed up plan ops.\n\nWIP: Doesn't work yet :)\n\nInstead of storing the templates in the swift container we store\nthe whole tarball as a single file.  We also have a local cache\nof the templates, verified by checksum, that we use.  Also templates\nare now processed using process-templates.py instead of the code\nhere.  This speeds up template processing functions drastically\nwhich makes the UI experience much better.\n\nChange-Id: I50f33b0074b147ad3c902b372f8c747fa88811b4\nCo-Authored-By: Dan Prince <dprince@redhat.com>\n""}, {'number': 3, 'created': '2018-07-23 20:06:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9f211478a9d266e3e6ccc25d5b03014e5eb7b30f', 'message': 'WIP: Use process-templates.py and cache templates to speed up plan ops.\n\nInstead of storing the templates in the swift container we store\nthe whole tarball as a single file.  We also have a local cache\nof the templates, verified by checksum, that we use.  Also templates\nare now processed using process-templates.py instead of the code\nhere.  This speeds up template processing functions drastically\nwhich makes the UI experience much better.\n\nChange-Id: I50f33b0074b147ad3c902b372f8c747fa88811b4\nCo-Authored-By: Dan Prince <dprince@redhat.com>\n'}, {'number': 4, 'created': '2018-07-24 02:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b168ad0f89a11414e815386c0e02c836c56ef161', 'message': 'WIP: Use process-templates.py and cache templates to speed up plan ops.\n\nInstead of storing the templates in the swift container we store\nthe whole tarball as a single file.  We also have a local cache\nof the templates, verified by checksum, that we use.  Also templates\nare now processed using process-templates.py instead of the code\nhere.  This speeds up template processing functions drastically\nwhich makes the UI experience much better.\n\nChange-Id: I50f33b0074b147ad3c902b372f8c747fa88811b4\nCo-Authored-By: Dan Prince <dprince@redhat.com>\n'}, {'number': 5, 'created': '2018-07-26 20:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/47402c0609bb58ab3f1f84f6042e8644b0369a3b', 'message': 'WIP: Use process-templates.py and cache templates to speed up plan ops.\n\nInstead of storing the templates in the swift container we store\nthe whole tarball as a single file.  We also have a local cache\nof the templates, verified by checksum, that we use.  Also templates\nare now processed using process-templates.py instead of the code\nhere.  This speeds up template processing functions drastically\nwhich makes the UI experience much better.\n\nDepends-On: I21caef1a3e6206d6c427140fd28b5f2ea6c68ef0\n\nChange-Id: I50f33b0074b147ad3c902b372f8c747fa88811b4\nCo-Authored-By: Dan Prince <dprince@redhat.com>\n'}, {'number': 6, 'created': '2018-08-01 23:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f1d465bc273c963fed3930149af608d6dc52a1a8', 'message': 'WIP: Use process-templates.py and cache templates to speed up plan ops.\n\nInstead of storing the templates in the swift container we store\nthe whole tarball as a single file.  We also have a local cache\nof the templates that we use for some operations.  Also templates\nare now processed using process-templates.py instead of the code\nhere.  This speeds up template processing functions drastically\nwhich makes the UI experience much better.\n\nDepends-On: I21caef1a3e6206d6c427140fd28b5f2ea6c68ef0\n\nChange-Id: I50f33b0074b147ad3c902b372f8c747fa88811b4\nCo-Authored-By: Dan Prince <dprince@redhat.com>\n'}, {'number': 7, 'created': '2018-08-10 00:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0452bb971ca0576dc315c595c913c29ee52934d6', 'message': 'WIP: Use process-templates.py and cache templates to speed up plan ops.\n\nInstead of storing the templates in the swift container we store\nthe whole tarball as a single file.  We also have a local cache\nof the templates that we use for some operations.  Also templates\nare now processed using process-templates.py instead of the code\nhere.  This speeds up template processing functions drastically\nwhich makes the UI experience much better.\n\nDepends-On: I21caef1a3e6206d6c427140fd28b5f2ea6c68ef0\n\nChange-Id: I50f33b0074b147ad3c902b372f8c747fa88811b4\nCo-Authored-By: Dan Prince <dprince@redhat.com>\n'}, {'number': 8, 'created': '2018-08-10 00:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8cb100d1d7746faefae9fc373d89bc8bfac000c9', 'message': 'WIP: Use process-templates.py and cache templates to speed up plan ops.\n\nInstead of storing the templates in the swift container we store\nthe whole tarball as a single file.  We also have a local cache\nof the templates that we use for some operations.  Also templates\nare now processed using process-templates.py instead of the code\nhere.  This speeds up template processing functions drastically\nwhich makes the UI experience much better.\n\nDepends-On: I21caef1a3e6206d6c427140fd28b5f2ea6c68ef0\n\nChange-Id: I50f33b0074b147ad3c902b372f8c747fa88811b4\nCo-Authored-By: Dan Prince <dprince@redhat.com>\n'}, {'number': 9, 'created': '2018-08-21 00:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/263f9251155c854e50b6ead0c6ddf0d392078483', 'message': 'WIP: Use process-templates.py and cache templates to speed up plan ops.\n\nInstead of storing the templates in the swift container we store\nthe whole tarball as a single file.  We also have a local cache of\nthe templates that we use for some operations.  Also templates are\nnow processed using process-templates.py instead of the code here.\nThis speeds up template processing functions drastically which makes\nthe UI experience much better.\n\nDepends-On: I21caef1a3e6206d6c427140fd28b5f2ea6c68ef0\nCo-Authored-By: Dan Prince <dprince@redhat.com>\n\nChange-Id: I50f33b0074b147ad3c902b372f8c747fa88811b4\n'}, {'number': 10, 'created': '2018-08-27 18:50:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a4fa98bf108f903d9c4f783025248f4a6cacb532', 'message': 'WIP: Use process-templates.py and cache templates to speed up plan ops.\n\nInstead of storing the templates in the swift container we store\nthe whole tarball as a single file.  We also have a local cache of\nthe templates that we use for some operations.  Also templates are\nnow processed using process-templates.py instead of the code here.\nThis speeds up template processing functions drastically which makes\nthe UI experience much better.\n\nDepends-On: I21caef1a3e6206d6c427140fd28b5f2ea6c68ef0\nCo-Authored-By: Dan Prince <dprince@redhat.com>\n\nChange-Id: I50f33b0074b147ad3c902b372f8c747fa88811b4\n'}, {'number': 11, 'created': '2018-09-11 22:12:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f19d5da451c55d1e123313a0d4796b3b5579da05', 'message': 'WIP: Use process-templates.py and cache templates to speed up plan ops.\n\nInstead of storing the templates in the swift container we store\nthe whole tarball as a single file.  We also have a local cache of\nthe templates that we use for some operations.  Also templates are\nnow processed using process-templates.py instead of the code here.\nThis speeds up template processing functions drastically which makes\nthe UI experience much better.\n\nDepends-On: I21caef1a3e6206d6c427140fd28b5f2ea6c68ef0\nCo-Authored-By: Dan Prince <dprince@redhat.com>\nCo-Authored-By: Brad P. Crochet <brad@redhat.com>\n\nChange-Id: I50f33b0074b147ad3c902b372f8c747fa88811b4\n'}, {'number': 12, 'created': '2018-09-11 22:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/da001971ce105940a09e0ac0e3c5a539c3b1c868', 'message': 'WIP: Use process-templates.py and cache templates to speed up plan ops.\n\nInstead of storing the templates in the swift container we store\nthe whole tarball as a single file.  We also have a local cache of\nthe templates that we use for some operations.  Also templates are\nnow processed using process-templates.py instead of the code here.\nThis speeds up template processing functions drastically which makes\nthe UI experience much better.\n\nDepends-On: I21caef1a3e6206d6c427140fd28b5f2ea6c68ef0\nCo-Authored-By: Dan Prince <dprince@redhat.com>\nCo-Authored-By: Brad P. Crochet <brad@redhat.com>\n\nChange-Id: I50f33b0074b147ad3c902b372f8c747fa88811b4\n'}, {'number': 13, 'created': '2018-09-12 15:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/94785c217bba0fa366b12d9a78931c6ebe97ffc0', 'message': 'WIP: Use process-templates.py and cache templates to speed up plan ops.\n\nInstead of storing the templates in the swift container we store\nthe whole tarball as a single file.  We also have a local cache of\nthe templates that we use for some operations.  Also templates are\nnow processed using process-templates.py instead of the code here.\nThis speeds up template processing functions drastically which makes\nthe UI experience much better.\n\nDepends-On: I21caef1a3e6206d6c427140fd28b5f2ea6c68ef0\nCo-Authored-By: Dan Prince <dprince@redhat.com>\nCo-Authored-By: Brad P. Crochet <brad@redhat.com>\n\nChange-Id: I50f33b0074b147ad3c902b372f8c747fa88811b4\n'}, {'number': 14, 'created': '2018-09-17 14:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8c130e3b5cdb47ea41283a7428962d0fa6648f66', 'message': 'WIP: Use process-templates.py and cache templates to speed up plan ops.\n\nInstead of storing the templates in the swift container we store\nthe whole tarball as a single file.  We also have a local cache of\nthe templates that we use for some operations.  Also templates are\nnow processed using process-templates.py instead of the code here.\nThis speeds up template processing functions drastically which makes\nthe UI experience much better.\n\nDepends-On: I21caef1a3e6206d6c427140fd28b5f2ea6c68ef0\nCo-Authored-By: Dan Prince <dprince@redhat.com>\nCo-Authored-By: Brad P. Crochet <brad@redhat.com>\n\nChange-Id: I50f33b0074b147ad3c902b372f8c747fa88811b4\n'}, {'number': 15, 'created': '2018-09-24 20:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/03431961980d3b2e75c361108d13d82e1c5961e7', 'message': 'WIP: Use process-templates.py and cache templates to speed up plan ops.\n\nInstead of storing the templates in the swift container we store\nthe whole tarball as a single file.  We also have a local cache of\nthe templates that we use for some operations.  Also templates are\nnow processed using process-templates.py instead of the code here.\nThis speeds up template processing functions drastically which makes\nthe UI experience much better.\n\nDepends-On: I21caef1a3e6206d6c427140fd28b5f2ea6c68ef0\nCo-Authored-By: Dan Prince <dprince@redhat.com>\nCo-Authored-By: Brad P. Crochet <brad@redhat.com>\n\nChange-Id: I50f33b0074b147ad3c902b372f8c747fa88811b4\n'}, {'number': 16, 'created': '2019-04-16 21:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/aaf06a1a3c0164c17da00e8226c48fd044b05d62', 'message': 'WIP: Use process-templates.py and cache templates to speed up plan ops.\n\nInstead of storing the templates in the swift container we store\nthe whole tarball as a single file.  We also have a local cache of\nthe templates that we use for some operations.  Also templates are\nnow processed using process-templates.py instead of the code here.\nThis speeds up template processing functions drastically which makes\nthe UI experience much better.\n\nDepends-On: I21caef1a3e6206d6c427140fd28b5f2ea6c68ef0\nCo-Authored-By: Dan Prince <dprince@redhat.com>\nCo-Authored-By: Brad P. Crochet <brad@redhat.com>\n\nChange-Id: I50f33b0074b147ad3c902b372f8c747fa88811b4\n'}, {'number': 17, 'created': '2019-04-16 22:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e4d95b857dd9bdde8be868bde979c787dab896ba', 'message': 'WIP: Use process-templates.py and cache templates to speed up plan ops.\n\nInstead of storing the templates in the swift container we store\nthe whole tarball as a single file.  We also have a local cache of\nthe templates that we use for some operations.  Also templates are\nnow processed using process-templates.py instead of the code here.\nThis speeds up template processing functions drastically which makes\nthe UI experience much better.\n\nDepends-On: I21caef1a3e6206d6c427140fd28b5f2ea6c68ef0\nCo-Authored-By: Dan Prince <dprince@redhat.com>\nCo-Authored-By: Brad P. Crochet <brad@redhat.com>\n\nChange-Id: I50f33b0074b147ad3c902b372f8c747fa88811b4\n'}, {'number': 18, 'created': '2019-04-17 20:18:24.000000000', 'files': ['tripleo_common/actions/deployment.py', 'tripleo_common/constants.py', 'tripleo_common/tests/utils/test_plan.py', 'tripleo_common/tests/actions/test_heat_capabilities.py', 'tripleo_common/actions/templates.py', 'tripleo_common/actions/parameters.py', 'tripleo_common/tests/actions/test_templates.py', 'tripleo_common/tests/actions/test_deployment.py', 'tripleo_common/actions/heat_capabilities.py', 'tripleo_common/utils/templates.py', 'tripleo_common/tests/actions/test_scale.py', 'tripleo_common/actions/container_images.py', 'tripleo_common/tests/actions/test_parameters.py', 'tripleo_common/utils/plan.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f6c90d5e57aa0b77955e6ea7a6f39889db48ff42', 'message': 'WIP: Use process-templates.py and cache templates to speed up plan ops.\n\nInstead of storing the templates in the swift container we store\nthe whole tarball as a single file.  We also have a local cache of\nthe templates that we use for some operations.  Also templates are\nnow processed using process-templates.py instead of the code here.\nThis speeds up template processing functions drastically which makes\nthe UI experience much better.\n\nDepends-On: I21caef1a3e6206d6c427140fd28b5f2ea6c68ef0\nCo-Authored-By: Dan Prince <dprince@redhat.com>\nCo-Authored-By: Brad P. Crochet <brad@redhat.com>\n\nChange-Id: I50f33b0074b147ad3c902b372f8c747fa88811b4\n'}]",20,581153,f6c90d5e57aa0b77955e6ea7a6f39889db48ff42,61,14,18,2011,,,0,"WIP: Use process-templates.py and cache templates to speed up plan ops.

Instead of storing the templates in the swift container we store
the whole tarball as a single file.  We also have a local cache of
the templates that we use for some operations.  Also templates are
now processed using process-templates.py instead of the code here.
This speeds up template processing functions drastically which makes
the UI experience much better.

Depends-On: I21caef1a3e6206d6c427140fd28b5f2ea6c68ef0
Co-Authored-By: Dan Prince <dprince@redhat.com>
Co-Authored-By: Brad P. Crochet <brad@redhat.com>

Change-Id: I50f33b0074b147ad3c902b372f8c747fa88811b4
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/53/581153/6 && git format-patch -1 --stdout FETCH_HEAD,"['sudoers', 'tripleo_common/actions/deployment.py', 'tripleo_common/constants.py', 'tripleo_common/actions/templates.py', 'tripleo_common/utils/plan.py', 'tripleo_common/actions/parameters.py']",6,a28b3f98c7cbe256b516b91b74b6cbf5180e4839,plan_speedup,"import os def __init__(self, container=constants.DEFAULT_CONTAINER_NAME, cleanup=False): super(GetParametersAction, self).__init__(container, cleanup) tdir = plan_utils.ensure_local_cache_dir(swift, self.container) os.chdir(tdir) #cd into templates directory super(UpdateParametersAction, self).__init__(container, False) tdir = plan_utils.ensure_local_cache_dir(swift, self.container) os.chdir(tdir) #cd into templates directory super(GetNetworkConfigAction, self).__init__(container=container, cleanup=False) tdir = plan_utils.ensure_local_cache_dir(swift, self.container) os.chdir(tdir) #cd into templates directory "," super(UpdateParametersAction, self).__init__() super(GetNetworkConfigAction, self).__init__(container=container)",132,283
openstack%2Ftripleo-heat-templates~stable%2Fpike~I070f9e95d1dc0c617da82ddaf1ba854be7624117,openstack/tripleo-heat-templates,stable/pike,I070f9e95d1dc0c617da82ddaf1ba854be7624117,Match Net:SoftwareConfig resource in scenario000 to other scenarios,ABANDONED,2018-04-05 19:19:13.000000000,2019-07-31 21:07:19.000000000,,"[{'_account_id': 12715}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-05 19:19:13.000000000', 'files': ['ci/environments/scenario000-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/94053b26bf04364818c28e4c2cc1de26264ff807', 'message': 'Match Net:SoftwareConfig resource in scenario000 to other scenarios\n\nChange-Id: I070f9e95d1dc0c617da82ddaf1ba854be7624117\n'}]",0,559155,94053b26bf04364818c28e4c2cc1de26264ff807,5,4,1,12715,,,0,"Match Net:SoftwareConfig resource in scenario000 to other scenarios

Change-Id: I070f9e95d1dc0c617da82ddaf1ba854be7624117
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/559155/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario000-multinode-containers.yaml'],1,94053b26bf04364818c28e4c2cc1de26264ff807,keystone-only-stable/pike, OS::TripleO::Controller::Net::SoftwareConfig: ../common/net-config-multinode.yaml OS::TripleO::Compute::Net::SoftwareConfig: ../common/net-config-multinode.yaml, OS::TripleO::Controller::Net::SoftwareConfig: ../common/net-config-multinode-os-net-config.yaml OS::TripleO::Compute::Net::SoftwareConfig: ../common/net-config-multinode-os-net-config.yaml,2,2
openstack%2Ftripleo-heat-templates~master~Ica59111b2299739660e2634d3cee3b3285b0b579,openstack/tripleo-heat-templates,master,Ica59111b2299739660e2634d3cee3b3285b0b579,WIP DNR pre_update non-rolling task,ABANDONED,2018-07-16 21:24:38.000000000,2019-07-31 21:07:17.000000000,,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-16 21:24:38.000000000', 'files': ['common/services.yaml', 'docker/services/pacemaker/rabbitmq.yaml', 'common/deploy-steps.j2', 'tools/yaml-validate.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1208740d82e9d678935fb915113174b9fcfde068', 'message': 'WIP DNR pre_update non-rolling task\n\nSome cases seem to be cropping up where doing a node-by-node rolling\nupdate just does not cut it anymore:\n- certain minor versions of rabbitmq are incompatible and need a global\n  stop, update, start\n- pacemaker rebases need a special ""update core cluster on all hosts\n  before any bundles""\n\nChange-Id: Ica59111b2299739660e2634d3cee3b3285b0b579\n'}]",0,583048,1208740d82e9d678935fb915113174b9fcfde068,5,5,1,20172,,,0,"WIP DNR pre_update non-rolling task

Some cases seem to be cropping up where doing a node-by-node rolling
update just does not cut it anymore:
- certain minor versions of rabbitmq are incompatible and need a global
  stop, update, start
- pacemaker rebases need a special ""update core cluster on all hosts
  before any bundles""

Change-Id: Ica59111b2299739660e2634d3cee3b3285b0b579
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/583048/1 && git format-patch -1 --stdout FETCH_HEAD,"['common/services.yaml', 'docker/services/pacemaker/rabbitmq.yaml', 'common/deploy-steps.j2', 'tools/yaml-validate.py']",4,1208740d82e9d678935fb915113174b9fcfde068,," 'pre_update_tasks',",,51,0
openstack%2Ftripleo-heat-templates~master~I3bb1017dead37ec638125be9268ddfcb934ffafd,openstack/tripleo-heat-templates,master,I3bb1017dead37ec638125be9268ddfcb934ffafd,Deploy RGW's Swift compatibility API on / in scenario004,ABANDONED,2018-07-18 14:14:55.000000000,2019-07-31 21:07:15.000000000,,"[{'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 9592}, {'_account_id': 10459}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-18 14:14:55.000000000', 'files': ['ci/environments/scenario004-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1cda97d6de8ea2b8ad3b4f3b609d641c3a4d1271', 'message': ""Deploy RGW's Swift compatibility API on / in scenario004\n\nChange-Id: I3bb1017dead37ec638125be9268ddfcb934ffafd\n""}]",0,583587,1cda97d6de8ea2b8ad3b4f3b609d641c3a4d1271,7,8,1,6796,,,0,"Deploy RGW's Swift compatibility API on / in scenario004

Change-Id: I3bb1017dead37ec638125be9268ddfcb934ffafd
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/87/583587/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario004-multinode-containers.yaml'],1,1cda97d6de8ea2b8ad3b4f3b609d641c3a4d1271,, # So that RGW responds to Swift API on / and we can run tempest against it CephConfigOverrides: rgw_swift_url_prefix: /,,3,0
openstack%2Ftripleo-heat-templates~master~I74efb8bdb2f14bdd86a40d806adab5b205249221,openstack/tripleo-heat-templates,master,I74efb8bdb2f14bdd86a40d806adab5b205249221,Switch back to client-local queue masters,ABANDONED,2018-07-30 13:46:16.000000000,2019-07-31 21:07:14.000000000,,"[{'_account_id': 3153}, {'_account_id': 9257}, {'_account_id': 14985}, {'_account_id': 15206}, {'_account_id': 20172}, {'_account_id': 20936}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-30 13:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f350ecac8566213d53ccf462211182684d29e07c', 'message': ""Switch back to client-local queue masters\n\nAlthough min-masters is preferrable in theory, sometimes it doesn't\nwork correctly.  So until min-masters can be more reliable, we need to\ngo back to client-local so queue declarations don't fail.\n\nResolves: rhbz#1585032\n\nChange-Id: I74efb8bdb2f14bdd86a40d806adab5b205249221\n""}, {'number': 2, 'created': '2018-08-24 10:02:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3155e61cd911f397645227e6a107d0b5edad5170', 'message': ""Switch back to client-local queue masters\n\nAlthough min-masters is preferrable in theory, sometimes it doesn't\nwork correctly.  So until min-masters can be more reliable, we need to\ngo back to client-local so queue declarations don't fail.\n\nResolves: rhbz#1585032\n\nChange-Id: I74efb8bdb2f14bdd86a40d806adab5b205249221\n""}, {'number': 3, 'created': '2018-08-24 11:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5e5491d58c0a959cea081750d691b4542511f6c8', 'message': ""Switch back to client-local queue masters\n\nAlthough min-masters is preferrable in theory, sometimes it doesn't\nwork correctly.  So until min-masters can be more reliable, we need to\ngo back to client-local so queue declarations don't fail.\n\nResolves: rhbz#1585032\n\nChange-Id: I74efb8bdb2f14bdd86a40d806adab5b205249221\n""}, {'number': 4, 'created': '2018-08-28 07:45:12.000000000', 'files': ['puppet/services/rabbitmq.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b58c7c09510fe40f6fd014351dc8630164e9736d', 'message': ""Switch back to client-local queue masters\n\nAlthough min-masters is preferrable in theory, sometimes it doesn't\nwork correctly. So until min-masters can be more reliable, we need to\ngo back to client-local so queue declarations don't fail.\n\nWhile we're at it, we add a RabbitQueueMasterLocator parameter in order\nto make the changing of this setting simpler for the operator.\n\nCloses-Bug: #1789373\nResolves: rhbz#1585032\n\nChange-Id: I74efb8bdb2f14bdd86a40d806adab5b205249221\n""}]",2,587064,b58c7c09510fe40f6fd014351dc8630164e9736d,23,8,4,9257,,,0,"Switch back to client-local queue masters

Although min-masters is preferrable in theory, sometimes it doesn't
work correctly. So until min-masters can be more reliable, we need to
go back to client-local so queue declarations don't fail.

While we're at it, we add a RabbitQueueMasterLocator parameter in order
to make the changing of this setting simpler for the operator.

Closes-Bug: #1789373
Resolves: rhbz#1585032

Change-Id: I74efb8bdb2f14bdd86a40d806adab5b205249221
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/64/587064/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/rabbitmq.yaml'],1,f350ecac8566213d53ccf462211182684d29e07c,client-local-queues," queue_master_locator: '<<""client-local"">>'"," queue_master_locator: '<<""min-masters"">>'",1,1
openstack%2Ftripleo-heat-templates~master~Ie3976653a1f947de974cfddd51023ef13c47d969,openstack/tripleo-heat-templates,master,Ie3976653a1f947de974cfddd51023ef13c47d969,Configure coordination backend for Designate,ABANDONED,2018-12-05 22:52:49.000000000,2019-07-31 21:07:04.000000000,,"[{'_account_id': 6928}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-05 22:52:49.000000000', 'files': ['puppet/services/designate-producer.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0fb3aeb285a4d2c2b46e1713d3c286425d463ae6', 'message': 'Configure coordination backend for Designate\n\nThis will prevent duplicate processing when Designate is deployed\nin HA.\n\nChange-Id: Ie3976653a1f947de974cfddd51023ef13c47d969\n'}]",0,623094,0fb3aeb285a4d2c2b46e1713d3c286425d463ae6,5,4,1,6928,,,0,"Configure coordination backend for Designate

This will prevent duplicate processing when Designate is deployed
in HA.

Change-Id: Ie3976653a1f947de974cfddd51023ef13c47d969
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/94/623094/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/designate-producer.yaml'],1,0fb3aeb285a4d2c2b46e1713d3c286425d463ae6,designate," RedisPassword: description: The password for the redis service account. type: string hidden: true - designate::producer::coordination_backend_url: str_replace: template: ""redis://:$PASSWORD@%{hiera('redis_vip')}"" params: $PASSWORD: {get_param: RedisPassword}",,10,0
openstack%2Ftripleo-heat-templates~master~I3ef9c6e98cb63da6ca272bee9806fb743df74045,openstack/tripleo-heat-templates,master,I3ef9c6e98cb63da6ca272bee9806fb743df74045,Regex pci passthrough whitelist automation,ABANDONED,2019-01-03 04:24:04.000000000,2019-07-31 21:07:03.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-03 04:24:04.000000000', 'files': ['puppet/extraconfig/pre_deploy/compute/per_sriov_node.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/66e5b9e0803a114d6686efa38bc420c8255b8f62', 'message': 'Regex pci passthrough whitelist automation\n\nThis change is used to convert the derived pci_passthrough_whitelist\nparameters as regex format for all the SR-IOV nodes.\n\nChange-Id: I3ef9c6e98cb63da6ca272bee9806fb743df74045\n'}]",0,628098,66e5b9e0803a114d6686efa38bc420c8255b8f62,5,4,1,22865,,,0,"Regex pci passthrough whitelist automation

This change is used to convert the derived pci_passthrough_whitelist
parameters as regex format for all the SR-IOV nodes.

Change-Id: I3ef9c6e98cb63da6ca272bee9806fb743df74045
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/628098/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/extraconfig/pre_deploy/compute/per_sriov_node.yaml'],1,66e5b9e0803a114d6686efa38bc420c8255b8f62,pci_passthrough_whitelist_regex," def get_range_list(num_list): num_list.sort() range_list = [] range_min = num_list[0] for num in num_list: next_val = num + 1 if next_val not in num_list: if range_min != num: range_list.append(str(range_min) + '-' + str(num)) else: range_list.append(str(range_min)) next_index = num_list.index(num) + 1 if next_index < len(num_list): range_min = num_list[next_index] return range_list pci_passthrough_list = {} pci_params = re.split('[:.]+', pci) key = pci_params[1] + "":"" + pci_params[2] if not key in pci_passthrough_list: pci_passthrough_list[key] = [pci_params[2]] else: pci_passthrough_list[key].append(pci_params[2]) pci_passthrough_regex_list = {} for key, fun_vals in pci_passthrough_list.items(): range_list = get_range_list(fun_vals) for range_val in range_list: key_params = key.split("":"") address['bus'] = key_params[0] address['slot'] = key_params[1] address['function'] = range_val pci_passthrough_regex_list.append(pci_passthrough) pci_passthrough_whitelist['nova::compute::pci::passthrough'] = str(json.dumps(pci_passthrough_regex_list))"," pci_passthrough_list = [] pci_params = re.split('[:.]+', pci) address['bus'] = pci_params[1] address['slot'] = pci_params[2] address['function'] = pci_params[3] pci_passthrough_list.append(pci_passthrough) pci_passthrough_whitelist['nova::compute::pci::passthrough'] = str(json.dumps(pci_passthrough_list))",33,7
openstack%2Ftripleo-heat-templates~master~I07943244d9b5059a6ebdc32c2a5f76a75559da94,openstack/tripleo-heat-templates,master,I07943244d9b5059a6ebdc32c2a5f76a75559da94,Fix incorrect location of Tenant VLAN in DPDK NIC configs,ABANDONED,2019-01-24 20:57:54.000000000,2019-07-31 21:07:01.000000000,,"[{'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-01-24 20:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2995999f14cdd9f380f5a6ac575f92f65d9a611d', 'message': 'Fix incorrect location of Tenant VLAN in DPDK NIC configs\n\nIn DPDK Compute nodes, there is an OVS user bridge that takes the\nplace of the OVS kernel bridge that is usually used. The Tenant\nnetwork was originally placed directly on a Linux bond using a\nVLAN interface, but this causes traffic to go through the kernel.\n\nBy placing the Tenant VLAN directly on the OVS user bridge, the\ntunneled traffic is handled by OVS in userspace, without having\nto go through the kernel. This change applies to the\nbond-with-vlans NIC config templates, which have special\nhandling for DPDK Compute nodes.\n\nChange-Id: I07943244d9b5059a6ebdc32c2a5f76a75559da94\n'}, {'number': 2, 'created': '2019-01-24 23:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7ac1a7a1be6056daa8af24a1238353e4b29f3cf7', 'message': 'Fix incorrect location of Tenant VLAN in DPDK NIC configs\n\nIn DPDK Compute nodes, there is an OVS user bridge that takes the\nplace of the OVS kernel bridge that is usually used. The Tenant\nnetwork was originally placed directly on a Linux bond using a\nVLAN interface, but this causes traffic to go through the kernel.\n\nBy placing the Tenant VLAN directly on the OVS user bridge, the\ntunneled traffic is handled by OVS in userspace, without having\nto go through the kernel. This change applies to the\nbond-with-vlans and 2-linux-bonds-vlans NIC config templates,\nwhich have special handling for DPDK Compute nodes.\n\nPlacing the Tenant VLAN on the DPDK user bridge/bond has\nimplications for MTU. The underlying MTU on the bridge and\nbond and NIC has to be at least as large as the Tenant\nVLAN. This change adds the DpdkInterfaceMinMtu parameter\nwhich specifies a minimum MTU for the underlying ports\nand interfaces, which may be larger than the Tenant MTU.\nIf unspecified, it will default to 1500 or the Tenant MTU,\nwhichever is larger.\n\nChange-Id: I07943244d9b5059a6ebdc32c2a5f76a75559da94\n'}, {'number': 3, 'created': '2019-01-24 23:46:03.000000000', 'files': ['network/config/bond-with-vlans/role.role.j2.yaml', 'network/config/2-linux-bonds-vlans/role.role.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b8cefab1243270776282e9e5a2edbb4cce13e16b', 'message': 'Fix incorrect location of Tenant VLAN in DPDK NIC configs\n\nIn DPDK Compute nodes, there is an OVS user bridge that takes the\nplace of the OVS kernel bridge that is usually used. The Tenant\nnetwork was originally placed directly on a Linux bond using a\nVLAN interface, but this causes traffic to go through the kernel.\n\nBy placing the Tenant VLAN directly on the OVS user bridge, the\ntunneled traffic is handled by OVS in userspace, without having\nto go through the kernel. This change applies to the\nbond-with-vlans and 2-linux-bonds-vlans NIC config templates,\nwhich have special handling for DPDK Compute nodes.\n\nPlacing the Tenant VLAN on the DPDK user bridge/bond has\nimplications for MTU. The underlying MTU on the bridge and\nbond and NIC has to be at least as large as the Tenant\nVLAN. This change adds the DpdkInterfaceMinMtu parameter\nwhich specifies a minimum MTU for the underlying ports\nand interfaces, which may be larger than the Tenant MTU.\nIf unspecified, it will default to 1500 or the Tenant MTU,\nwhichever is larger.\n\nCloses-bug: 1806976\nChange-Id: I07943244d9b5059a6ebdc32c2a5f76a75559da94\n'}]",2,633057,b8cefab1243270776282e9e5a2edbb4cce13e16b,10,8,3,12398,,,0,"Fix incorrect location of Tenant VLAN in DPDK NIC configs

In DPDK Compute nodes, there is an OVS user bridge that takes the
place of the OVS kernel bridge that is usually used. The Tenant
network was originally placed directly on a Linux bond using a
VLAN interface, but this causes traffic to go through the kernel.

By placing the Tenant VLAN directly on the OVS user bridge, the
tunneled traffic is handled by OVS in userspace, without having
to go through the kernel. This change applies to the
bond-with-vlans and 2-linux-bonds-vlans NIC config templates,
which have special handling for DPDK Compute nodes.

Placing the Tenant VLAN on the DPDK user bridge/bond has
implications for MTU. The underlying MTU on the bridge and
bond and NIC has to be at least as large as the Tenant
VLAN. This change adds the DpdkInterfaceMinMtu parameter
which specifies a minimum MTU for the underlying ports
and interfaces, which may be larger than the Tenant MTU.
If unspecified, it will default to 1500 or the Tenant MTU,
whichever is larger.

Closes-bug: 1806976
Change-Id: I07943244d9b5059a6ebdc32c2a5f76a75559da94
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/57/633057/3 && git format-patch -1 --stdout FETCH_HEAD,['network/config/bond-with-vlans/role.role.j2.yaml'],1,2995999f14cdd9f380f5a6ac575f92f65d9a611d,bug/1806976,{%- for network in networks if network.enabled|default(true) and network.name in _role_networks and not network.name.startswith('Tenant')%} {%- for network in networks if network.name.startswith('Tenant') and network.name in _role_networks and network.enabled|default(true) %} ovs_extra: - str_replace: template: set port br-dpdk0 tag=_VLAN_TAG_ params: _VLAN_TAG_: {get_param: {{network.name}}NetworkVlanID} addresses: - ip_netmask: {get_param: {{network.name}}IpSubnet} routes: list_concat_unique: - get_param: {{network.name}}InterfaceRoutes {%- if network.name in role.default_route_networks %} - - default: true next_hop: get_param: {{network.name}}InterfaceDefaultRoute {%- endif %} {%- endfor %},{%- for network in networks if network.enabled|default(true) and network.name in _role_networks %},18,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I9af1028314859b63cab9f55d2c906b1344ca2300,openstack/tripleo-heat-templates,stable/queens,I9af1028314859b63cab9f55d2c906b1344ca2300,GATE CHECK for TripleO,ABANDONED,2018-04-11 14:42:15.000000000,2019-07-31 21:06:52.000000000,,"[{'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-11 14:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7aadb2f88e852adcb21422ece529d8945b26f086', 'message': 'GATE CHECK for TripleO\n\nThis change is used to check the health of our stable branch gate jobs\nin the most direct way possible, by running the real gates on a noop\nchange.\n\nChange-Id: I9af1028314859b63cab9f55d2c906b1344ca2300\n'}, {'number': 2, 'created': '2018-04-12 10:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/346ae02e6ffcf9c313a8888d7d9ff81672489a9c', 'message': 'GATE CHECK for TripleO\n\nThis change is used to check the health of our stable branch gate jobs\nin the most direct way possible, by running the real gates on a noop\nchange.\n\nChange-Id: I9af1028314859b63cab9f55d2c906b1344ca2300\n'}, {'number': 3, 'created': '2018-04-18 10:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6dbf4ad4452ad58d0941f1cc08c787c9fcd4ddb2', 'message': 'GATE CHECK for TripleO\n\nThis change is used to check the health of our stable branch gate jobs\nin the most direct way possible, by running the real gates on a noop\nchange.\n\nChange-Id: I9af1028314859b63cab9f55d2c906b1344ca2300\n'}, {'number': 4, 'created': '2018-04-19 15:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/051fcdb99572e4d240e94711f8ecea2dce4c6c76', 'message': 'GATE CHECK for TripleO\n\nThis change is used to check the health of our stable branch gate jobs\nin the most direct way possible, by running the real gates on a noop\nchange.\n\nChange-Id: I9af1028314859b63cab9f55d2c906b1344ca2300\n'}, {'number': 5, 'created': '2018-04-20 00:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9c303eac8b354f93776d700f361ab4d049ed8036', 'message': 'GATE CHECK for TripleO\n\nThis change is used to check the health of our stable branch gate jobs\nin the most direct way possible, by running the real gates on a noop\nchange.\n\nChange-Id: I9af1028314859b63cab9f55d2c906b1344ca2300\n'}, {'number': 6, 'created': '2018-04-21 08:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/85a8cd3387731b81e2a5d10a2504edf1bff3f3f0', 'message': 'GATE CHECK for TripleO\n\nThis change is used to check the health of our stable branch gate jobs\nin the most direct way possible, by running the real gates on a noop\nchange.\n\nChange-Id: I9af1028314859b63cab9f55d2c906b1344ca2300\n'}, {'number': 7, 'created': '2018-04-21 16:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5ba6b73a5250e329866c94423c8d2921b7aab2ae', 'message': 'GATE CHECK for TripleO\n\nThis change is used to check the health of our stable branch gate jobs\nin the most direct way possible, by running the real gates on a noop\nchange.\n\nChange-Id: I9af1028314859b63cab9f55d2c906b1344ca2300\n'}, {'number': 8, 'created': '2018-04-22 00:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3980a108fc74c8f2d2fc7c5f890f943ae56133c9', 'message': 'GATE CHECK for TripleO\n\nThis change is used to check the health of our stable branch gate jobs\nin the most direct way possible, by running the real gates on a noop\nchange.\n\nChange-Id: I9af1028314859b63cab9f55d2c906b1344ca2300\n'}, {'number': 9, 'created': '2018-04-23 16:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b22f5ff063d5634a884cdb85f9b97f66e5c05820', 'message': 'GATE CHECK for TripleO\n\nThis change is used to check the health of our stable branch gate jobs\nin the most direct way possible, by running the real gates on a noop\nchange.\n\nChange-Id: I9af1028314859b63cab9f55d2c906b1344ca2300\n'}, {'number': 10, 'created': '2018-04-24 08:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/333c7864ce92a711ce4f88a2c19db7b4acdd1b52', 'message': 'GATE CHECK for TripleO\n\nThis change is used to check the health of our stable branch gate jobs\nin the most direct way possible, by running the real gates on a noop\nchange.\n\nChange-Id: I9af1028314859b63cab9f55d2c906b1344ca2300\n'}, {'number': 11, 'created': '2018-04-24 16:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3000d839456cdb4eff4c5b9ed1c310be0b9015e9', 'message': 'GATE CHECK for TripleO\n\nThis change is used to check the health of our stable branch gate jobs\nin the most direct way possible, by running the real gates on a noop\nchange.\n\nChange-Id: I9af1028314859b63cab9f55d2c906b1344ca2300\n'}, {'number': 12, 'created': '2018-04-25 00:00:04.000000000', 'files': ['environments/GATE-CHECK.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/64ee34ca315b9923a10dd5c58d1cd21be02ec922', 'message': 'GATE CHECK for TripleO\n\nThis change is used to check the health of our stable branch gate jobs\nin the most direct way possible, by running the real gates on a noop\nchange.\n\nChange-Id: I9af1028314859b63cab9f55d2c906b1344ca2300\n'}]",0,560452,64ee34ca315b9923a10dd5c58d1cd21be02ec922,64,4,12,8652,,,0,"GATE CHECK for TripleO

This change is used to check the health of our stable branch gate jobs
in the most direct way possible, by running the real gates on a noop
change.

Change-Id: I9af1028314859b63cab9f55d2c906b1344ca2300
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/52/560452/8 && git format-patch -1 --stdout FETCH_HEAD,['environments/GATE-CHECK.yaml'],1,7aadb2f88e852adcb21422ece529d8945b26f086,,,,0,0
openstack%2Ftripleo-heat-templates~stable%2Fpike~Ib2aa91afd415c19d06570a0dba073f5d6282c814,openstack/tripleo-heat-templates,stable/pike,Ib2aa91afd415c19d06570a0dba073f5d6282c814,DNM: test compute extraconfig,ABANDONED,2018-08-29 21:00:38.000000000,2019-07-31 21:06:51.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-08-29 21:00:38.000000000', 'files': ['environments/low-memory-usage.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c10393eac1d44856833b51dd736ea8154efc78f3', 'message': 'DNM: test compute extraconfig\n\nChange-Id: Ib2aa91afd415c19d06570a0dba073f5d6282c814\n'}]",0,597705,c10393eac1d44856833b51dd736ea8154efc78f3,4,3,1,23811,,,0,"DNM: test compute extraconfig

Change-Id: Ib2aa91afd415c19d06570a0dba073f5d6282c814
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/597705/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/low-memory-usage.yaml'],1,c10393eac1d44856833b51dd736ea8154efc78f3,, 'nova::network::neutron::neutron_url_timeout': '60' nova::config::nova_config: DEFAULT/default_availability_zone: value: dc1 DEFAULT/node_availability_zone: value: dc1 DEFAULT/default_schedule_zone: value: dc1 cinder/cross_az_attach: value: false DEFAULT/max_local_block_devices: value: 0 ComputeExtraConfig: nova::config::nova_config: DEFAULT/node_availability_zone: value: dc1 cinder/cross_az_attach: value: false DEFAULT/max_local_block_devices: value: 0, 'nova::network::neutron::neutron_url_timeout': '60',21,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I9fd3b54279b8449c62f2b5d4f6a8ec72c11b3134,openstack/tripleo-heat-templates,stable/queens,I9fd3b54279b8449c62f2b5d4f6a8ec72c11b3134,DNM: Test Gnocchi Upgrades P->Q.,ABANDONED,2018-04-30 14:38:19.000000000,2019-07-31 21:06:49.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-30 14:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8e12b727e8c01d043c98efb96b67f5f7083596e3', 'message': 'DNM: Test Undercloud Upgrades P->Q.\n\nChange-Id: I9fd3b54279b8449c62f2b5d4f6a8ec72c11b3134\nDepends-On: I3c9d2396988bd3125740f0054c66e8243e85f437\n'}, {'number': 2, 'created': '2018-07-27 12:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1b39f23142f2aae487173bff6e06bf91517865ba', 'message': 'DNM: Test Gnocchi Upgrades P->Q.\n\nChange-Id: I9fd3b54279b8449c62f2b5d4f6a8ec72c11b3134\n'}, {'number': 3, 'created': '2018-07-30 07:33:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/25149f3bcb1c5700801fd5b2b026b8dca425fea4', 'message': 'DNM: Test Gnocchi Upgrades P->Q.\n\nChange-Id: I9fd3b54279b8449c62f2b5d4f6a8ec72c11b3134\n'}, {'number': 4, 'created': '2018-08-31 06:50:59.000000000', 'files': ['docker/services/nova-api.yaml', 'ci/environments/scenario003-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/11691651d2efad9e134d6b36b71aa210c484c7d2', 'message': 'DNM: Test Gnocchi Upgrades P->Q.\n\nChange-Id: I9fd3b54279b8449c62f2b5d4f6a8ec72c11b3134\n'}]",0,565231,11691651d2efad9e134d6b36b71aa210c484c7d2,15,3,4,26343,,,0,"DNM: Test Gnocchi Upgrades P->Q.

Change-Id: I9fd3b54279b8449c62f2b5d4f6a8ec72c11b3134
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/31/565231/3 && git format-patch -1 --stdout FETCH_HEAD,['roles_data.yaml'],1,8e12b727e8c01d043c98efb96b67f5f7083596e3,,#,,1,0
openstack%2Ftripleo-heat-templates~master~I8c9e9a434db48ee28677dcec0842e8438053f7dd,openstack/tripleo-heat-templates,master,I8c9e9a434db48ee28677dcec0842e8438053f7dd,WIP/DNR Add support for the new rabbitmqra bundle,ABANDONED,2018-09-04 20:09:39.000000000,2019-07-31 21:06:48.000000000,,"[{'_account_id': 9257}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-04 20:09:39.000000000', 'files': ['docker/services/pacemaker/rabbitmq-newra.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1bcd2e510a583c1b23b91423467c4612ee65bfc3', 'message': 'WIP/DNR Add support for the new rabbitmqra bundle\n\nChange-Id: I8c9e9a434db48ee28677dcec0842e8438053f7dd\n'}]",0,599828,1bcd2e510a583c1b23b91423467c4612ee65bfc3,5,5,1,20172,,,0,"WIP/DNR Add support for the new rabbitmqra bundle

Change-Id: I8c9e9a434db48ee28677dcec0842e8438053f7dd
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/28/599828/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/pacemaker/rabbitmq-newra.yaml'],1,1bcd2e510a583c1b23b91423467c4612ee65bfc3,upstream-rabbitmq-ra,"heat_template_version: queens description: > OpenStack containerized Rabbitmq service parameters: DockerRabbitmqImage: description: image type: string DockerRabbitmqConfigImage: description: The container image to use for the rabbitmq config_volume type: string EndpointMap: default: {} description: Mapping of service endpoint -> protocol. Typically set via parameter_defaults in the resource registry. type: json ServiceData: default: {} description: Dictionary packing service data type: json ServiceNetMap: default: {} description: Mapping of service_name -> network name. Typically set via parameter_defaults in the resource registry. This mapping overrides those in ServiceNetMapDefaults. type: json DefaultPasswords: default: {} type: json RabbitCookie: type: string default: '' hidden: true RoleName: default: '' description: Role name on which the service is applied type: string RoleParameters: default: {} description: Parameters specific to the role type: json ConfigDebug: default: false description: Whether to run config management (e.g. Puppet) in debug mode. type: boolean PcmkConfigRestartTimeout: default: 600 description: Time in seconds to wait for a pcmk resource to restart when a config change is detected and the resource is being restarted type: number DeployIdentifier: default: '' type: string description: > Setting this to a unique value will re-run any deployment tasks which perform configuration on a Heat stack-update. conditions: puppet_debug_enabled: {get_param: ConfigDebug} resources: ContainersCommon: type: ../containers-common.yaml RabbitmqBase: type: ../../../puppet/services/rabbitmq.yaml properties: EndpointMap: {get_param: EndpointMap} ServiceData: {get_param: ServiceData} ServiceNetMap: {get_param: ServiceNetMap} DefaultPasswords: {get_param: DefaultPasswords} RoleName: {get_param: RoleName} RoleParameters: {get_param: RoleParameters} outputs: role_data: description: Role data for the Rabbitmq API role. value: service_name: {get_attr: [RabbitmqBase, role_data, service_name]} config_settings: map_merge: - {get_attr: [RabbitmqBase, role_data, config_settings]} - rabbitmq::service_manage: false tripleo::profile::pacemaker::rabbitmq_bundle::rabbitmq_docker_image: &rabbitmq_image_pcmklatest list_join: - ':' - - yaql: data: {get_param: DockerRabbitmqImage} expression: $.data.rightSplit(separator => "":"", maxSplits => 1)[0] - 'pcmklatest' tripleo::profile::pacemaker::rabbitmq_bundle::control_port: 3122 tripleo.rabbitmq.firewall_rules: '109 rabbitmq-bundle': dport: - 3122 - 4369 - 5672 - 25672 logging_source: {get_attr: [RabbitmqBase, role_data, logging_source]} logging_groups: {get_attr: [RabbitmqBase, role_data, logging_groups]} service_config_settings: {get_attr: [RabbitmqBase, role_data, service_config_settings]} # BEGIN DOCKER SETTINGS puppet_config: config_volume: rabbitmq puppet_tags: file step_config: list_join: - ""\n"" - - ""['Rabbitmq_policy', 'Rabbitmq_user'].each |String $val| { noop_resource($val) }"" - get_attr: [RabbitmqBase, role_data, step_config] config_image: {get_param: DockerRabbitmqConfigImage} kolla_config: /var/lib/kolla/config_files/rabbitmq.json: command: /usr/sbin/pacemaker_remoted config_files: - dest: /etc/libqb/force-filesystem-sockets source: /dev/null owner: root perm: '0644' - source: ""/var/lib/kolla/config_files/src/*"" dest: ""/"" merge: true preserve_properties: true - source: ""/var/lib/kolla/config_files/src-tls/*"" dest: ""/"" merge: true optional: true preserve_properties: true permissions: - path: /var/lib/rabbitmq owner: rabbitmq:rabbitmq recurse: true - path: /var/log/rabbitmq owner: rabbitmq:rabbitmq recurse: true - path: /etc/pki/tls/certs/rabbitmq.crt owner: rabbitmq:rabbitmq perm: '0600' optional: true - path: /etc/pki/tls/private/rabbitmq.key owner: rabbitmq:rabbitmq perm: '0600' optional: true # When using pacemaker we don't launch the container, instead that is done by pacemaker # itself. docker_config_scripts: {get_attr: [ContainersCommon, docker_config_scripts]} docker_config: step_1: rabbitmq_bootstrap: start_order: 0 image: {get_param: DockerRabbitmqImage} net: host privileged: false volumes: - /var/lib/kolla/config_files/rabbitmq.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/rabbitmq/:/var/lib/kolla/config_files/src:ro - /etc/hosts:/etc/hosts:ro - /etc/localtime:/etc/localtime:ro - /var/lib/rabbitmq:/var/lib/rabbitmq environment: - KOLLA_CONFIG_STRATEGY=COPY_ALWAYS - KOLLA_BOOTSTRAP=True - list_join: - '=' - - 'RABBITMQ_CLUSTER_COOKIE' - yaql: expression: $.data.passwords.where($ != '').first() data: passwords: - {get_param: RabbitCookie} - {get_param: [DefaultPasswords, rabbit_cookie]} rabbitmq_image_tag: start_order: 1 detach: false net: host user: root command: - '/bin/bash' - '-c' - str_replace: template: ""/usr/bin/docker tag 'RABBITMQ_IMAGE' 'RABBITMQ_IMAGE_PCMKLATEST'"" params: RABBITMQ_IMAGE: {get_param: DockerRabbitmqImage} RABBITMQ_IMAGE_PCMKLATEST: *rabbitmq_image_pcmklatest image: {get_param: DockerRabbitmqImage} volumes: - /etc/hosts:/etc/hosts:ro - /etc/localtime:/etc/localtime:ro - /dev/shm:/dev/shm:rw - /etc/sysconfig/docker:/etc/sysconfig/docker:ro - /usr/bin:/usr/bin:ro - /var/run/docker.sock:/var/run/docker.sock:rw step_2: rabbitmq_restart_bundle: start_order: 0 config_volume: rabbitmq detach: false net: host user: root command: - '/usr/bin/bootstrap_host_exec' - 'rabbitmq' - str_replace: template: 'if /usr/sbin/pcs resource show rabbitmq-bundle; then /usr/sbin/pcs resource restart --wait=PCMKTIMEOUT rabbitmq-bundle; echo ""rabbitmq-bundle restart invoked""; fi' params: PCMKTIMEOUT: {get_param: PcmkConfigRestartTimeout} image: {get_param: DockerRabbitmqImage} volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /etc/corosync/corosync.conf:/etc/corosync/corosync.conf:ro - /dev/shm:/dev/shm:rw - /var/lib/config-data/puppet-generated/rabbitmq/:/var/lib/kolla/config_files/src:ro rabbitmq_init_bundle: start_order: 1 detach: false net: host user: root command: # '/docker_puppet_apply.sh ""STEP"" ""TAGS"" ""CONFIG"" ""DEBUG""' list_concat: - - '/docker_puppet_apply.sh' - '2' - 'file,file_line,concat,augeas,pacemaker::resource::bundle,pacemaker::property,pacemaker::resource::ocf,pacemaker::constraint::order,pacemaker::constraint::colocation,rabbitmq_policy,rabbitmq_user,rabbitmq_ready' - 'include ::tripleo::profile::base::pacemaker;include ::tripleo::profile::pacemaker::rabbitmq_bundle_newra' - if: - puppet_debug_enabled - - '--debug' - - '' image: {get_param: DockerRabbitmqImage} volumes: list_concat: - {get_attr: [ContainersCommon, docker_puppet_apply_volumes]} - - /etc/corosync/corosync.conf:/etc/corosync/corosync.conf:ro - /dev/shm:/dev/shm:rw - /bin/true:/bin/epmd environment: # NOTE: this should force this container to re-run on each # update (scale-out, etc.) - list_join: - '' - - 'TRIPLEO_DEPLOY_IDENTIFIER=' - {get_param: DeployIdentifier} host_prep_tasks: - name: create persistent directories file: path: ""{{ item }}"" state: directory with_items: - /var/lib/rabbitmq - /var/log/containers/rabbitmq - name: rabbitmq logs readme copy: dest: /var/log/rabbitmq/readme.txt content: | Log files from rabbitmq containers can be found under /var/log/containers/rabbitmq. ignore_errors: true - name: stop the Erlang port mapper on the host and make sure it cannot bind to the port used by container shell: | echo 'export ERL_EPMD_ADDRESS=127.0.0.1' > /etc/rabbitmq/rabbitmq-env.conf echo 'export ERL_EPMD_PORT=4370' >> /etc/rabbitmq/rabbitmq-env.conf for pid in $(pgrep epmd --ns 1 --nslist pid); do kill $pid; done metadata_settings: get_attr: [RabbitmqBase, role_data, metadata_settings] update_tasks: - name: Rabbit fetch and retag container image for pacemaker when: step|int == 2 block: &rabbitmq_fetch_retag_container_tasks - name: Get docker Rabbitmq image set_fact: docker_image: {get_param: DockerRabbitmqImage} docker_image_latest: *rabbitmq_image_pcmklatest - name: Get previous Rabbitmq image id shell: ""docker images | awk '/rabbitmq.* pcmklatest/{print $3}' | uniq"" register: rabbitmq_image_id - block: - name: Get a list of container using Rabbitmq image shell: ""docker ps -a -q -f 'ancestor={{rabbitmq_image_id.stdout}}'"" register: rabbitmq_containers_to_destroy # It will be recreated with the delpoy step. - name: Remove any container using the same Rabbitmq image shell: ""docker rm -fv {{item}}"" with_items: ""{{ rabbitmq_containers_to_destroy.stdout_lines }}"" - name: Remove previous Rabbitmq images shell: ""docker rmi -f {{rabbitmq_image_id.stdout}}"" when: - rabbitmq_image_id.stdout != '' - name: Pull latest Rabbitmq images command: ""docker pull {{docker_image}}"" - name: Retag pcmklatest to latest Rabbitmq image shell: ""docker tag {{docker_image}} {{docker_image_latest}}"" # Got to check that pacemaker_is_active is working fine with bundle. # TODO: pacemaker_is_active resource doesn't support bundle. upgrade_tasks: - name: Get docker Rabbitmq image set_fact: rabbitmq_docker_image_latest: *rabbitmq_image_pcmklatest - name: Check for Rabbitmq Kolla configuration stat: path: /var/lib/config-data/puppet-generated/rabbitmq register: rabbit_kolla_config - name: Check if Rabbitmq is already containerized set_fact: rabbit_containerized: ""{{rabbit_kolla_config.stat.isdir | default(false)}}"" - name: get bootstrap nodeid command: hiera -c /etc/puppet/hiera.yaml bootstrap_nodeid register: bootstrap_node - name: set is_bootstrap_node fact set_fact: is_bootstrap_node={{bootstrap_node.stdout|lower == ansible_hostname|lower}} - name: Rabbitmq baremetal to container upgrade tasks when: - step|int == 1 - not rabbit_containerized|bool block: - name: Check cluster resource status of rabbitmq pacemaker_resource: resource: {get_attr: [RabbitmqBase, role_data, service_name]} check_mode: false state: show ignore_errors: true register: rabbitmq_res - when: (is_bootstrap_node) and (rabbitmq_res|succeeded) block: - name: Disable the rabbitmq cluster resource. pacemaker_resource: resource: {get_attr: [RabbitmqBase, role_data, service_name]} state: disable wait_for_resource: true register: output retries: 5 until: output.rc == 0 - name: Delete the stopped rabbitmq cluster resource. pacemaker_resource: resource: {get_attr: [RabbitmqBase, role_data, service_name]} state: delete wait_for_resource: true register: output retries: 5 until: output.rc == 0 - name: Disable rabbitmq service service: name=rabbitmq-server enabled=no - name: Prepare the switch to new rabbitmq container image name in pacemaker when: - step|int == 0 - rabbit_containerized|bool block: - name: Get rabbitmq image id currently used by pacemaker shell: ""docker images | awk '/rabbitmq.* pcmklatest/{print $3}' | uniq"" register: rabbitmq_current_pcmklatest_id - name: Temporarily tag the current rabbitmq image id with the upgraded image name shell: ""docker tag {{rabbitmq_current_pcmklatest_id.stdout}} {{rabbitmq_docker_image_latest}}"" when: rabbitmq_current_pcmklatest_id.stdout != '' - name: Check rabbitmq-bundle cluster resource status pacemaker_resource: resource: rabbitmq-bundle state: show check_mode: false ignore_errors: true register: rabbit_pcs_res - name: Update rabbitmq-bundle pcs resource bundle for new container image when: - step|int == 1 - rabbit_containerized|bool - is_bootstrap_node - rabbit_pcs_res|succeeded block: - name: Disable the rabbitmq cluster resource before container upgrade pacemaker_resource: resource: rabbitmq-bundle state: disable wait_for_resource: true register: output retries: 5 until: output.rc == 0 - name: Move rabbitmq logging to /var/log/containers block: - name: Check rabbitmq logging configuration in pacemaker command: cibadmin --query --xpath ""//storage-mapping[@id='rabbitmq-log']"" ignore_errors: true register: rabbitmq_logs_moved - name: Add a bind mount for logging in the rabbitmq bundle # rc == 6 means the configuration doesn't exist in the CIB when: rabbitmq_logs_moved.rc == 6 command: pcs resource bundle update rabbitmq-bundle storage-map add id=rabbitmq-log source-dir=/var/log/containers/rabbitmq target-dir=/var/log/rabbitmq options=rw - name: Update the rabbitmq bundle to use the new container image name command: ""pcs resource bundle update rabbitmq-bundle container image={{rabbitmq_docker_image_latest}}"" - name: Enable the rabbitmq cluster resource pacemaker_resource: resource: rabbitmq-bundle state: enable wait_for_resource: true register: output retries: 5 until: output.rc == 0 - name: Retag the pacemaker image if containerized when: - step|int == 3 - rabbit_containerized|bool block: *rabbitmq_fetch_retag_container_tasks fast_forward_upgrade_tasks: - name: Check cluster resource status of rabbitmq pacemaker_resource: resource: {get_attr: [RabbitmqBase, role_data, service_name]} state: show check_mode: false ignore_errors: true register: rabbitmq_res_result when: - step|int == 0 - release == 'ocata' - is_bootstrap_node|bool - name: Set fact rabbitmq_res set_fact: rabbitmq_res: ""{{ rabbitmq_res_result.rc == 0 }}"" when: - step|int == 0 - release == 'ocata' - is_bootstrap_node|bool - name: Disable the rabitmq cluster resource pacemaker_resource: resource: {get_attr: [RabbitmqBase, role_data, service_name]} state: disable wait_for_resource: true register: rabbitmq_output retries: 5 until: rabbitmq_output.rc == 0 when: - step|int == 2 - release == 'ocata' - is_bootstrap_node|bool - rabbitmq_res|bool ",,438,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~I9c40e97a9fbc850962605b2a46420e6c645d5c23,openstack/tripleo-heat-templates,stable/rocky,I9c40e97a9fbc850962605b2a46420e6c645d5c23,GATE CHECK for TripleO,ABANDONED,2018-09-06 08:57:47.000000000,2019-07-31 21:06:46.000000000,,"[{'_account_id': 14985}, {'_account_id': 21686}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-06 08:57:47.000000000', 'files': ['environments/GATE-CHECK.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a9e1458c60a348ce0a0553f2decda3f425863a78', 'message': 'GATE CHECK for TripleO\n\nThis change is used to check the health of our stable branch gate jobs\nin the most direct way possible, by running the real gates on a noop\nchange.\n\nChange-Id: I9c40e97a9fbc850962605b2a46420e6c645d5c23\n'}]",0,600387,a9e1458c60a348ce0a0553f2decda3f425863a78,3,3,1,27898,,,0,"GATE CHECK for TripleO

This change is used to check the health of our stable branch gate jobs
in the most direct way possible, by running the real gates on a noop
change.

Change-Id: I9c40e97a9fbc850962605b2a46420e6c645d5c23
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/87/600387/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/GATE-CHECK.yaml'],1,a9e1458c60a348ce0a0553f2decda3f425863a78,,somekey: someval ,,1,0
openstack%2Ftripleo-heat-templates~master~I684ed6f88bb2bfb322ccbf3d19ccffcbb85c3bc5,openstack/tripleo-heat-templates,master,I684ed6f88bb2bfb322ccbf3d19ccffcbb85c3bc5,DNM -- CI Test,ABANDONED,2018-09-17 12:37:36.000000000,2019-07-31 21:06:45.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-17 12:37:36.000000000', 'files': ['ci/environments/scenario000-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6ee9e1954ae80ce35165acbe70ac2267ad68d8fd', 'message': 'DNM -- CI Test\n\nChange-Id: I684ed6f88bb2bfb322ccbf3d19ccffcbb85c3bc5\n'}]",0,603116,6ee9e1954ae80ce35165acbe70ac2267ad68d8fd,4,3,1,16515,,,0,"DNM -- CI Test

Change-Id: I684ed6f88bb2bfb322ccbf3d19ccffcbb85c3bc5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/16/603116/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario000-multinode-containers.yaml'],1,6ee9e1954ae80ce35165acbe70ac2267ad68d8fd,CI-test, ,,2,0
openstack%2Ftripleo-heat-templates~master~I449dbf663d54228f5d03a7571f980ce137f2e00e,openstack/tripleo-heat-templates,master,I449dbf663d54228f5d03a7571f980ce137f2e00e,Add missing services in baremetal-services,ABANDONED,2018-08-02 07:23:55.000000000,2019-07-31 21:06:43.000000000,,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 6730}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 16690}, {'_account_id': 17823}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25241}]","[{'number': 1, 'created': '2018-08-02 07:23:55.000000000', 'files': ['environments/baremetal-services.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/205af82ac4ba66be2f99800a8dff06c7a4a87360', 'message': 'Add missing services in baremetal-services\n\nChange-Id: I449dbf663d54228f5d03a7571f980ce137f2e00e\n'}]",1,588162,205af82ac4ba66be2f99800a8dff06c7a4a87360,12,12,1,28523,,,0,"Add missing services in baremetal-services

Change-Id: I449dbf663d54228f5d03a7571f980ce137f2e00e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/62/588162/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/baremetal-services.yaml'],1,205af82ac4ba66be2f99800a8dff06c7a4a87360,, OS::TripleO::Services::Keepalived: ../puppet/services/keepalived.yaml OS::TripleO::Services::Pacemaker: ../puppet/services/pacemaker.yaml OS::TripleO::Services::PacemakerRemote: ../puppet/services/pacemaker_remote.yaml,,3,0
openstack%2Ftripleo-heat-templates~master~Ie6364fb57524cff09f4dab99512980b091fcf8e3,openstack/tripleo-heat-templates,master,Ie6364fb57524cff09f4dab99512980b091fcf8e3,Implement Global Galera database,ABANDONED,2018-10-11 15:14:14.000000000,2019-07-31 21:06:41.000000000,,"[{'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2018-10-11 15:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c21e85b13b86547d90cf77bcac7f1b92694ea0f1', 'message': 'Implement Global Galera database\n\nWIP: This is the patch used from the proof of concept so far.\nChanges will include that we might want to no longer use\nthe term ""stretch"" in favor of ""global"".\n\nChange-Id: Ie6364fb57524cff09f4dab99512980b091fcf8e3\nPartial: blueprint global-database\n'}, {'number': 2, 'created': '2018-10-12 17:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/263091fe68c5c519900fc3c7b044326eba52f2d6', 'message': 'Implement Global Galera database\n\nWIP: This is the patch used from the proof of concept so far.\nChanges will include that we might want to no longer use\nthe term ""stretch"" in favor of ""global"".\n\nChange-Id: Ie6364fb57524cff09f4dab99512980b091fcf8e3\nPartial: blueprint global-database\n'}, {'number': 3, 'created': '2018-10-24 17:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/169865b518e03f2849b995c90dc68c3a98d5d0e6', 'message': 'Implement Global Galera database\n\nWIP: This is the patch used from the proof of concept so far.\nChanges will include that we might want to no longer use\nthe term ""stretch"" in favor of ""global"".\n\nAlso includes some KeystoneRegion additions.  this may be\nbetter as a separate patch, and it needs to be determined where\nthis attribute needs to be set up and where it does not.\nfor the moment this gerrit is used as a single source for the\nproof of concept.\n\nChange-Id: Ie6364fb57524cff09f4dab99512980b091fcf8e3\nPartial: blueprint global-database\n'}, {'number': 4, 'created': '2018-10-24 17:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/af59fb1659cc37c7de690f7afd82c9b502bad59a', 'message': 'Implement Global Galera database\n\nWIP: This is the patch used from the proof of concept so far.\nChanges will include that we might want to no longer use\nthe term ""stretch"" in favor of ""global"".\n\nAlso includes some KeystoneRegion additions.  this may be\nbetter as a separate patch, and it needs to be determined where\nthis attribute needs to be set up and where it does not.\nfor the moment this gerrit is used as a single source for the\nproof of concept.\n\nChange-Id: Ie6364fb57524cff09f4dab99512980b091fcf8e3\nPartial: blueprint global-database\n'}, {'number': 5, 'created': '2018-10-24 17:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f45ac305334a5f347c4ed5f4df6d276a9b23304d', 'message': 'Implement Global Galera database\n\nWIP: This is the patch used from the proof of concept so far.\nChanges will include that we might want to no longer use\nthe term ""stretch"" in favor of ""global"".\n\nAlso includes some KeystoneRegion additions.  this may be\nbetter as a separate patch, and it needs to be determined where\nthis attribute needs to be set up and where it does not.\nfor the moment this gerrit is used as a single source for the\nproof of concept.\n\nChange-Id: Ie6364fb57524cff09f4dab99512980b091fcf8e3\nPartial: blueprint global-database\n'}, {'number': 6, 'created': '2018-10-24 17:58:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f232b1d3f30b23171791e386989d58699a233764', 'message': 'Implement Global Galera database\n\nWIP: This is the patch used from the proof of concept so far.\nChanges will include that we might want to no longer use\nthe term ""stretch"" in favor of ""global"".\n\nAlso includes some KeystoneRegion additions.  this may be\nbetter as a separate patch, and it needs to be determined where\nthis attribute needs to be set up and where it does not.\nfor the moment this gerrit is used as a single source for the\nproof of concept.\n\nChange-Id: Ie6364fb57524cff09f4dab99512980b091fcf8e3\nPartial: blueprint global-database\n'}, {'number': 7, 'created': '2018-10-25 14:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/73ac4c46d84bd821778ef51ac60f2c2137fe661e', 'message': 'Implement Global Galera database\n\nWIP: This is the patch used from the proof of concept so far.\nChanges will include that we might want to no longer use\nthe term ""stretch"" in favor of ""global"".\n\nAlso includes some KeystoneRegion additions.  this may be\nbetter as a separate patch, and it needs to be determined where\nthis attribute needs to be set up and where it does not.\nfor the moment this gerrit is used as a single source for the\nproof of concept.\n\nChange-Id: Ie6364fb57524cff09f4dab99512980b091fcf8e3\nPartial: blueprint global-database\n'}, {'number': 8, 'created': '2018-10-25 19:35:14.000000000', 'files': ['puppet/services/database/mysql-client.yaml', 'environments/docker-stretch-galera.yaml', 'docker/services/pacemaker/database/stretch-mysql.yaml', 'puppet/services/cinder-api.yaml', 'roles_data.yaml', 'docker/services/nova-placement.yaml', 'puppet/services/neutron-api.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'network/endpoints/endpoint_data.yaml', 'puppet/services/keystone.yaml', 'network/service_net_map.j2.yaml', 'puppet/services/nova-api.yaml', 'docker/services/pacemaker/stretch-clustercheck.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1231e398a14159cf7c14dc2e22913abf37a539b4', 'message': 'Implement Global Galera database\n\nWIP: This is the patch used from the proof of concept so far.\nChanges will include that we might want to no longer use\nthe term ""stretch"" in favor of ""global"".\n\nAlso includes some KeystoneRegion additions.  this may be\nbetter as a separate patch, and it needs to be determined where\nthis attribute needs to be set up and where it does not.\nfor the moment this gerrit is used as a single source for the\nproof of concept.\n\nChange-Id: Ie6364fb57524cff09f4dab99512980b091fcf8e3\nPartial: blueprint global-database\n'}]",0,609738,1231e398a14159cf7c14dc2e22913abf37a539b4,18,5,8,11816,,,0,"Implement Global Galera database

WIP: This is the patch used from the proof of concept so far.
Changes will include that we might want to no longer use
the term ""stretch"" in favor of ""global"".

Also includes some KeystoneRegion additions.  this may be
better as a separate patch, and it needs to be determined where
this attribute needs to be set up and where it does not.
for the moment this gerrit is used as a single source for the
proof of concept.

Change-Id: Ie6364fb57524cff09f4dab99512980b091fcf8e3
Partial: blueprint global-database
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/609738/8 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/database/mysql-client.yaml', 'docker/services/pacemaker/stretch_clustercheck.yaml', 'environments/docker_stretch_galera.yaml', 'docker/services/nova-placement.yaml', 'puppet/services/pacemaker/haproxy.yaml', 'docker/services/pacemaker/database/stretch_mysql.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'network/endpoints/endpoint_data.yaml', 'roles_data.yaml', 'puppet/services/keystone.yaml']",10,c21e85b13b86547d90cf77bcac7f1b92694ea0f1,bp/global-database," KeystoneStretchEnabled: type: boolean default: false keystone_stretch_enabled: {equals: [{get_param: KeystoneStretchEnabled}, True]} scheme: if: - keystone_stretch_enabled - {get_param: [EndpointMap, StretchMysqlInternal, protocol]} - {get_param: [EndpointMap, MysqlInternal, protocol]} host: if: - keystone_stretch_enabled - {get_param: [EndpointMap, StretchMysqlInternal, host]} - {get_param: [EndpointMap, MysqlInternal, host]} read_default_group: {if: [keystone_stretch_enabled, ""tripleo-stretch"", ""tripleo""]}"," scheme: {get_param: [EndpointMap, MysqlInternal, protocol]} host: {get_param: [EndpointMap, MysqlInternal, host]} read_default_group: tripleo",655,5
openstack%2Ftripleo-heat-templates~master~Ifa3dc1393439527ab2833a7e05f8cb90f0522ce9,openstack/tripleo-heat-templates,master,Ifa3dc1393439527ab2833a7e05f8cb90f0522ce9,Update of vpp-agent,ABANDONED,2018-11-09 07:50:04.000000000,2019-07-31 21:06:40.000000000,,"[{'_account_id': 14985}, {'_account_id': 20971}, {'_account_id': 22348}, {'_account_id': 23618}]","[{'number': 1, 'created': '2018-11-09 07:50:04.000000000', 'files': ['puppet/services/vpp.yaml', 'environments/neutron-ml2-vpp.yaml', 'puppet/services/neutron-vpp-agent.yaml', 'docker/services/neutron-vpp-agent.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/afff0381f101bde07c180722aa1179e72dfd3aef', 'message': 'Update of vpp-agent\n\n- the service is now in a container\n- add support for vpp driver/agent extensions\n\nDepends-On: I0c466e941573a00f1ed2f73e9f2c9ec4fd2309e3\nChange-Id: Ifa3dc1393439527ab2833a7e05f8cb90f0522ce9\n'}]",0,616842,afff0381f101bde07c180722aa1179e72dfd3aef,4,4,1,23618,,,0,"Update of vpp-agent

- the service is now in a container
- add support for vpp driver/agent extensions

Depends-On: I0c466e941573a00f1ed2f73e9f2c9ec4fd2309e3
Change-Id: Ifa3dc1393439527ab2833a7e05f8cb90f0522ce9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/616842/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/vpp.yaml', 'environments/neutron-ml2-vpp.yaml', 'puppet/services/neutron-vpp-agent.yaml', 'docker/services/neutron-vpp-agent.yaml']",4,afff0381f101bde07c180722aa1179e72dfd3aef,ml2_vpp_agent,"heat_template_version: rocky description: > OpenStack Neutron ML2/VPP agent service parameters: DockerNeutronVppAgentImage: description: The container image to use for the Neutron SR-IOV agent type: string DockerNeutronConfigImage: description: The container image to use for the neutron config_volume type: string ServiceData: default: {} description: Dictionary packing service data type: json ServiceNetMap: default: {} description: Mapping of service_name -> network name. Typically set via parameter_defaults in the resource registry. This mapping overrides those in ServiceNetMapDefaults. type: json DefaultPasswords: default: {} type: json RoleName: default: '' description: Role name on which the service is applied type: string RoleParameters: default: {} description: Parameters specific to the role type: json EndpointMap: default: {} description: Mapping of service endpoint -> protocol. Typically set via parameter_defaults in the resource registry. type: json NeutronVPPAgentPhysnets: description: > List of <physical_network>:<VPP Interface> Example: ""physnet1:GigabitEthernet2/2/0,physnet2:GigabitEthernet2/3/0"" type: comma_delimited_list default: """" tags: - role_specific NeutronVhostuserSocketDir: description: The vhost-user socket directory for VPP type: string default: ""/var/lib/vhost_sockets"" tags: - role_specific resources: RoleParametersValue: type: OS::Heat::Value properties: type: json value: map_replace: - map_replace: - NeutronVhostuserSocketDir: NeutronVhostuserSocketDir NeutronVPPAgentPhysnets: NeutronVPPAgentPhysnets - values: {get_param: [RoleParameters]} - values: NeutronVPPAgentPhysnets: {get_param: NeutronVPPAgentPhysnets} NeutronVhostuserSocketDir: {get_param: NeutronVhostuserSocketDir} ContainersCommon: type: ./containers-common.yaml NeutronVppAgentBase: type: ../../puppet/services/neutron-vpp-agent.yaml properties: EndpointMap: {get_param: EndpointMap} ServiceData: {get_param: ServiceData} ServiceNetMap: {get_param: ServiceNetMap} DefaultPasswords: {get_param: DefaultPasswords} RoleName: {get_param: RoleName} RoleParameters: {get_param: RoleParameters} NeutronLogging: type: OS::TripleO::Services::Logging::NeutronCommon properties: NeutronServiceName: vpp-agent outputs: role_data: description: Role data for Neutron ML2/VPP agent service value: service_name: {get_attr: [NeutronVppAgentBase, role_data, service_name]} config_settings: map_merge: - get_attr: [NeutronVppAgentBase, role_data, config_settings] - get_attr: [NeutronLogging, config_settings] puppet_config: config_volume: neutron puppet_tags: neutron_config,neutron_agent_vpp step_config: get_attr: [NeutronVppAgentBase, role_data, step_config] config_image: {get_param: DockerNeutronConfigImage} kolla_config: /var/lib/kolla/config_files/neutron_vpp_agent.json: command: /usr/bin/vpp-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini --config-file /etc/neutron/plugins/ml2/vpp_agent.ini --log-file=/var/log/neutron/vpp-agent.log config_files: - source: ""/var/lib/kolla/config_files/src/*"" dest: ""/"" merge: true preserve_properties: true permissions: - path: /var/log/neutron owner: neutron:neutron recurse: true docker_config_scripts: neutron_vpp_agent_launcher.sh: mode: ""0755"" content: | #!/bin/bash set -xe /usr/bin/vpp-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini --config-dir /etc/neutron/conf.d/common --log-file=/var/log/vpp/vpp-agent.log docker_config: step_2: get_attr: [NeutronLogging, docker_config, step_2] step_3: # Neutron VPP-Agent should start after etcd (step2), but before neutron-server (step4) # in order to have etcd populated with the appropriate infos when neutron-api starts neutron_vpp_agent: image: {get_param: DockerNeutronVppAgentImage} net: host restart: always volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - {get_attr: [NeutronLogging, volumes]} - - /var/lib/kolla/config_files/neutron_vpp_agent.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/neutron/:/var/lib/kolla/config_files/src:ro - /run/vpp-api.sock:/run/vpp-api.sock:rw - /dev/shm/global_vm:/dev/shm/global_vm:rw - /dev/shm/vpe-api:/dev/shm/vpe-api:rw - /var/lib/vhost_sockets:/var/lib/vhost_sockets:rw environment: - KOLLA_CONFIG_STRATEGY=COPY_ALWAYS host_prep_tasks: {get_attr: [NeutronLogging, host_prep_tasks]} metadata_settings: get_attr: [NeutronVppAgentBase, role_data, metadata_settings] upgrade_tasks: - when: step|int == 0 tags: common block: - name: Check if neutron_vpp_agent is deployed command: systemctl is-enabled --quiet neutron-vpp-agent ignore_errors: True register: neutron_vpp_agent_enabled_result - name: Set fact neutron_vpp_agent_enabled set_fact: neutron_vpp_agent_enabled: ""{{ neutron_vpp_agent_enabled_result.rc == 0 }}"" - name: ""PreUpgrade step0,validation: Check service neutron-vpp-agent is running"" command: systemctl is-active --quiet neutron-vpp-agent when: neutron_vpp_agent_enabled|bool tags: validation - when: step|int == 2 block: - name: Stop and disable neutron_vpp_agent service when: neutron_vpp_agent_enabled|bool service: name=neutron-vpp-agent state=stopped enabled=no ",,261,5
openstack%2Ftripleo-heat-templates~master~Ide534bc29a6cd0b6128525b0c58141b591eb1f6c,openstack/tripleo-heat-templates,master,Ide534bc29a6cd0b6128525b0c58141b591eb1f6c,WIP turn NodeExtraConfig to ansible,ABANDONED,2018-12-10 11:08:32.000000000,2019-07-31 21:06:38.000000000,,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-10 11:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bb12195e2b0e7617a5b9be3ea3bca165fec88c2f', 'message': 'WIP turn NodeExtraConfig to ansible\n\nChange-Id: Ide534bc29a6cd0b6128525b0c58141b591eb1f6c\n'}, {'number': 2, 'created': '2018-12-10 17:28:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1aef9c0f7bd8c3bb1222be7d11ebaca62df87fca', 'message': 'WIP turn NodeExtraConfig to ansible\n\nChange-Id: Ide534bc29a6cd0b6128525b0c58141b591eb1f6c\n'}, {'number': 3, 'created': '2018-12-11 07:49:17.000000000', 'files': ['overcloud-resource-registry-puppet.j2.yaml', 'common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d7eb974a62cb210c5f5e245ee107ae5e0abbe4f3', 'message': 'WIP turn NodeExtraConfig to ansible\n\nChange-Id: Ide534bc29a6cd0b6128525b0c58141b591eb1f6c\n'}]",0,624054,d7eb974a62cb210c5f5e245ee107ae5e0abbe4f3,10,4,3,7385,,,0,"WIP turn NodeExtraConfig to ansible

Change-Id: Ide534bc29a6cd0b6128525b0c58141b591eb1f6c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/54/624054/2 && git format-patch -1 --stdout FETCH_HEAD,"['environments/undercloud.yaml', 'extraconfig/pre_deploy/undercloud_pre.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'common/deploy-steps.j2']",4,bb12195e2b0e7617a5b9be3ea3bca165fec88c2f,ansible-extra-config," ExtraConfigTasks: type: OS::TripleO::ExtraConfigTasks - hosts: all name: Extra config tasks: {get_attr: [ExtraConfigTasks, value]}",,14,21
openstack%2Ftripleo-heat-templates~master~I82b92e3bfddfc6542d1940050378454f3db10e25,openstack/tripleo-heat-templates,master,I82b92e3bfddfc6542d1940050378454f3db10e25,Escalate privilege the ansible way,ABANDONED,2018-11-22 12:35:30.000000000,2019-07-31 21:06:37.000000000,,"[{'_account_id': 360}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-11-22 12:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/384052653d218f750029b9c43e6548c8060e8517', 'message': 'Don\'t use sudo for tripleo-container-image-prepare\n\nThis works without privilege escalation and at present throws a\nwarning ""[WARNING]: Consider using \'become\', \'become_method\',\nand \'become_user\' rather than running sudo"".\n\nChange-Id: I82b92e3bfddfc6542d1940050378454f3db10e25\n'}, {'number': 2, 'created': '2018-11-22 15:46:10.000000000', 'files': ['puppet/services/container-image-prepare.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/75d3dc188e66f225b8e76d8ea792c5ccf828d894', 'message': 'Escalate privilege the ansible way\n\nAt present it gives a warning:\n\n""[WARNING]: Consider using \'become\', \'become_method\',\nand \'become_user\' rather than running sudo"".\n\nChange-Id: I82b92e3bfddfc6542d1940050378454f3db10e25\n'}]",0,619555,75d3dc188e66f225b8e76d8ea792c5ccf828d894,10,6,2,8833,,,0,"Escalate privilege the ansible way

At present it gives a warning:

""[WARNING]: Consider using 'become', 'become_method',
and 'become_user' rather than running sudo"".

Change-Id: I82b92e3bfddfc6542d1940050378454f3db10e25
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/619555/2 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/container-image-prepare.j2.yaml'],1,384052653d218f750029b9c43e6548c8060e8517,, shell: /usr/bin/tripleo-container-image-prepare --roles-file {{ '{{' }} role_data.path {{ '}}' }} --environment-file {{ '{{' }} prepare_param.path {{ '}}' }} --cleanup partial --log-file {{ '{{' }} log_file {{ '}}' }}, shell: sudo /usr/bin/tripleo-container-image-prepare --roles-file {{ '{{' }} role_data.path {{ '}}' }} --environment-file {{ '{{' }} prepare_param.path {{ '}}' }} --cleanup partial --log-file {{ '{{' }} log_file {{ '}}' }},1,1
openstack%2Ftripleo-heat-templates~master~I12994957eeba93f015c5f00e3136dc7b3ab664f9,openstack/tripleo-heat-templates,master,I12994957eeba93f015c5f00e3136dc7b3ab664f9,DNM: test include_role adoption,ABANDONED,2019-01-15 12:50:44.000000000,2019-07-31 21:06:35.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-15 12:50:44.000000000', 'files': ['environments/foo-bar.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6ba952d8ed76120cde39ac64c64f0588e7423fe0', 'message': 'DNM: test include_role adoption\n\nDepends-On: https://review.openstack.org/#/c/620146/\nChange-Id: I12994957eeba93f015c5f00e3136dc7b3ab664f9\n'}]",0,630962,6ba952d8ed76120cde39ac64c64f0588e7423fe0,4,3,1,24162,,,0,"DNM: test include_role adoption

Depends-On: https://review.openstack.org/#/c/620146/
Change-Id: I12994957eeba93f015c5f00e3136dc7b3ab664f9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/62/630962/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/foo-bar.yaml'],1,6ba952d8ed76120cde39ac64c64f0588e7423fe0,,,,0,0
openstack%2Ftripleo-heat-templates~stable%2Fpike~I868a368161f4a529e5e7dc3593dc6862e3196247,openstack/tripleo-heat-templates,stable/pike,I868a368161f4a529e5e7dc3593dc6862e3196247,Add a way to override base path when file driver is used,ABANDONED,2018-09-10 15:05:57.000000000,2019-07-31 21:06:34.000000000,,"[{'_account_id': 2813}, {'_account_id': 3153}, {'_account_id': 6924}, {'_account_id': 7144}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-10 15:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e6f9d5d428ecc81fbdef911cc3c1f4d2c6bef93c', 'message': 'Add a way to override base path when file driver is used\n\nThe goal is to be able to point the Gnocchi file driver directory\nto an NFS share.\n\nA new parameter GnocchiFileBasePath allows to customize\nthe bind mount to /var/lib/gnocchi.\n\nChange-Id: I868a368161f4a529e5e7dc3593dc6862e3196247\n(cherry picked from commit b3b027e731ddef17c857326409f680b9245516c4)\n'}, {'number': 2, 'created': '2018-09-13 07:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/657469ed892f49bad19b7f05af8f2bba3970402d', 'message': 'Add a way to override base path when file driver is used\n\nThe goal is to be able to point the Gnocchi file driver directory\nto an NFS share.\n\nA new parameter GnocchiFileBasePath allows to customize\nthe bind mount to /var/lib/gnocchi.\n\nChange-Id: I868a368161f4a529e5e7dc3593dc6862e3196247\n(cherry picked from commit b3b027e731ddef17c857326409f680b9245516c4)\n'}, {'number': 3, 'created': '2018-09-20 14:56:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d65f0941f8d905a5064d9e26b77b41d979a954ef', 'message': 'Add a way to override base path when file driver is used\n\nThe goal is to be able to point the Gnocchi file driver directory\nto an NFS share.\n\nA new parameter GnocchiFileBasePath allows to customize\nthe bind mount to /var/lib/gnocchi.\n\nChange-Id: I868a368161f4a529e5e7dc3593dc6862e3196247\n(cherry picked from commit b3b027e731ddef17c857326409f680b9245516c4)\n'}, {'number': 4, 'created': '2018-09-28 12:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cfeb79d0805b1f8ef310b234144dffb86a3bc3bb', 'message': 'Add a way to override base path when file driver is used\n\nThe goal is to be able to point the Gnocchi file driver directory\nto an NFS share.\n\nA new parameter GnocchiFileBasePath allows to customize\nthe bind mount to /var/lib/gnocchi.\n\nChange-Id: I868a368161f4a529e5e7dc3593dc6862e3196247\n(cherry picked from commit b3b027e731ddef17c857326409f680b9245516c4)\n'}, {'number': 5, 'created': '2018-12-12 07:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/55ed781c7d77aaa60d50dd9a9f9c4a9521df8299', 'message': 'Add a way to override base path when file driver is used\n\nThe goal is to be able to point the Gnocchi file driver directory\nto an NFS share.\n\nA new parameter GnocchiFileBasePath allows to customize\nthe bind mount to /var/lib/gnocchi.\n\nChange-Id: I868a368161f4a529e5e7dc3593dc6862e3196247\n(cherry picked from commit b3b027e731ddef17c857326409f680b9245516c4)\n'}, {'number': 6, 'created': '2019-01-03 08:19:39.000000000', 'files': ['docker/services/gnocchi-api.yaml', 'docker/services/gnocchi-metricd.yaml', 'puppet/services/gnocchi-base.yaml', 'docker/services/gnocchi-statsd.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d249ecf3d1817c0936b1a254bb7acbaf623cd5c6', 'message': 'Add a way to override base path when file driver is used\n\nThe goal is to be able to point the Gnocchi file driver directory\nto an NFS share.\n\nA new parameter GnocchiFileBasePath allows to customize\nthe bind mount to /var/lib/gnocchi.\n\nChange-Id: I868a368161f4a529e5e7dc3593dc6862e3196247\n(cherry picked from commit b3b027e731ddef17c857326409f680b9245516c4)\n'}]",0,601286,d249ecf3d1817c0936b1a254bb7acbaf623cd5c6,46,8,6,2813,,,0,"Add a way to override base path when file driver is used

The goal is to be able to point the Gnocchi file driver directory
to an NFS share.

A new parameter GnocchiFileBasePath allows to customize
the bind mount to /var/lib/gnocchi.

Change-Id: I868a368161f4a529e5e7dc3593dc6862e3196247
(cherry picked from commit b3b027e731ddef17c857326409f680b9245516c4)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/86/601286/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/gnocchi-api.yaml', 'docker/services/gnocchi-metricd.yaml', 'puppet/services/gnocchi-base.yaml', 'docker/services/gnocchi-statsd.yaml']",4,e6f9d5d428ecc81fbdef911cc3c1f4d2c6bef93c,, GnocchiFileBasePath: default: '/var/lib/gnocchi' description: Path to use when file driver is used. This could be NFS or a flat file. - str_replace: template: GNOCCHI_FILE_BASE_PATH:GNOCCHI_FILE_BASE_PATH params: {GNOCCHI_FILE_BASE_PATH: {get_param: GnocchiFileBasePath}}, - /var/lib/gnocchi:/var/lib/gnocchi:rw,42,8
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ib6d2e19febdff00fb1a92302e2777948332dfa42,openstack/tripleo-heat-templates,stable/queens,Ib6d2e19febdff00fb1a92302e2777948332dfa42,Add parameter to set amp_secgroup_allowed_projects,ABANDONED,2019-04-01 12:44:54.000000000,2019-07-31 21:06:32.000000000,,"[{'_account_id': 6469}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-01 12:44:54.000000000', 'files': ['puppet/services/octavia-controller.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d7b76ade41e902f6262c5eea11f7eb48970e3965', 'message': 'Add parameter to set amp_secgroup_allowed_projects\n\nEnables admins/installers to set amp_secgroup_allowed_projects for those\nwho have imported I2346c8a3f2fa4b4eb8a004b4aaab93986228c371 in to their\nOctavia code base.\n\nDepends-On: https://review.openstack.org/#/c/648955/\n\nChange-Id: Ib6d2e19febdff00fb1a92302e2777948332dfa42\n(cherry picked from commit 285f2f6684a147003b27b1354d54106ef95ccc50)\n(cherry picked from commit 4188f060197da648e6760c0d3e22446bfdc2b5e4)\n'}]",0,648965,d7b76ade41e902f6262c5eea11f7eb48970e3965,5,4,1,6469,,,0,"Add parameter to set amp_secgroup_allowed_projects

Enables admins/installers to set amp_secgroup_allowed_projects for those
who have imported I2346c8a3f2fa4b4eb8a004b4aaab93986228c371 in to their
Octavia code base.

Depends-On: https://review.openstack.org/#/c/648955/

Change-Id: Ib6d2e19febdff00fb1a92302e2777948332dfa42
(cherry picked from commit 285f2f6684a147003b27b1354d54106ef95ccc50)
(cherry picked from commit 4188f060197da648e6760c0d3e22446bfdc2b5e4)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/648965/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/octavia-controller.yaml'],1,d7b76ade41e902f6262c5eea11f7eb48970e3965,, OctaviaAmphoraSecGroupAllowedProjects: description: List of project ids that are allowed to have Load balancer security groups belonging to them. type: comma_delimited_list octavia::controller::amp_secgroup_allowed_projects: {get_param: OctaviaAmphoraSecGroupAllowedProjects},,5,0
openstack%2Ftripleo-heat-templates~master~Id136e6910fbb7d3b38916b1f365357a702c034da,openstack/tripleo-heat-templates,master,Id136e6910fbb7d3b38916b1f365357a702c034da,[DNM] Hack br-ex to test scenario001-standalone for Nautilus,ABANDONED,2019-04-09 13:13:46.000000000,2019-07-31 21:06:31.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-09 13:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eeea6e61fbe64aceb8b4cd4500f7e62fd1ff4f93', 'message': '[DNM] Hack br-ex to test scenario001-standalone for Nautilus\n\nChange-Id: Id136e6910fbb7d3b38916b1f365357a702c034da\n'}, {'number': 2, 'created': '2019-04-10 08:36:55.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7bf6a2c78e0d700ba61de73f069ef155542f476f', 'message': '[DNM] Hack br-ex to test scenario001-standalone for Nautilus\n\nChange-Id: Id136e6910fbb7d3b38916b1f365357a702c034da\n'}]",0,651231,7bf6a2c78e0d700ba61de73f069ef155542f476f,7,3,2,25402,,,0,"[DNM] Hack br-ex to test scenario001-standalone for Nautilus

Change-Id: Id136e6910fbb7d3b38916b1f365357a702c034da
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/31/651231/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,eeea6e61fbe64aceb8b4cd4500f7e62fd1ff4f93,, - name: Hack br-ex shell: | ip a r 192.168.24.2/24 dev br-ex; ovs-vsctl del-br br-ex; sleep 2; ovs-vsctl add-br br-ex; ip a a 192.168.24.2/24 dev br-ex; ip link set br-ex up;,,8,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Id96b1913c03850b3839d22208578a473900ffd21,openstack/tripleo-heat-templates,stable/queens,Id96b1913c03850b3839d22208578a473900ffd21,Include InternalApi network for Ceph role.,ABANDONED,2019-04-25 20:07:03.000000000,2019-07-31 21:06:29.000000000,,"[{'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28504}]","[{'number': 1, 'created': '2019-04-25 20:07:03.000000000', 'files': ['roles_data.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a430d16c949b050ee79b25e226b0950dfb3e87db', 'message': ""Include InternalApi network for Ceph role.\n\nWe need to include InternalApi network for\nCeph role. Otherwise this could break the\ndeployment as MetricsQdr is running on InternalApi\nnetwork, and tls_everywhere couldn't get any\ncertificate for metrics_qdr.\n\nChange-Id: Id96b1913c03850b3839d22208578a473900ffd21\n""}]",0,655785,a430d16c949b050ee79b25e226b0950dfb3e87db,7,5,1,28504,,,0,"Include InternalApi network for Ceph role.

We need to include InternalApi network for
Ceph role. Otherwise this could break the
deployment as MetricsQdr is running on InternalApi
network, and tls_everywhere couldn't get any
certificate for metrics_qdr.

Change-Id: Id96b1913c03850b3839d22208578a473900ffd21
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/85/655785/1 && git format-patch -1 --stdout FETCH_HEAD,['roles_data.yaml'],1,a430d16c949b050ee79b25e226b0950dfb3e87db,metrics_qdr_ceph_role, - InternalApi,,1,0
openstack%2Fpuppet-tripleo~master~I8f075a5ad869ef0dc72a700dcb7be0b6efca787a,openstack/puppet-tripleo,master,I8f075a5ad869ef0dc72a700dcb7be0b6efca787a,Make host param for nova/neutron/ceilometer immutable during upgrade,ABANDONED,2018-03-23 10:40:02.000000000,2019-07-31 21:00:59.000000000,,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6681}, {'_account_id': 6924}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 8788}, {'_account_id': 11166}, {'_account_id': 13039}, {'_account_id': 14985}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2018-03-23 10:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d089ca37155646b4664fb02299faff91e63398ed', 'message': 'WIP: fail hard if we detect that the neutron/nova/ceilometer host has changed\n\nChange-Id: I8f075a5ad869ef0dc72a700dcb7be0b6efca787a\n'}, {'number': 2, 'created': '2018-04-13 13:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/38d9eb68d302e50cd7d9060a47b13b9545295dc0', 'message': 'Prevent change in host parameter for nova/neutron/ceilometer.\n\nThis makes possible to have the host parameter immutable during\nupgrade/update/ffu and prevents FIP (in case of neutron.conf) to\nbecome unavailable when it happens.\n\nBy default this makes the process fail with a procedure for the\noperator.\n\nCo-Authored-By: Sofer Athlan-Guyot <sathlang@redhat.com>\nPartial-Bug: #1763322\n\nChange-Id: I8f075a5ad869ef0dc72a700dcb7be0b6efca787a\n'}, {'number': 3, 'created': '2018-04-13 14:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/24b855c33ea3d36a5306a46fe0d9677bdeceada6', 'message': 'Prevent change in host parameter for nova/neutron/ceilometer.\n\nThis makes possible to have the host parameter immutable during\nupgrade/update/ffu and prevents FIP (in case of neutron.conf) to\nbecome unavailable when it happens.\n\nBy default this makes the process fail with a procedure for the\noperator.\n\nCo-Authored-By: Sofer Athlan-Guyot <sathlang@redhat.com>\nPartial-Bug: #1763322\n\nChange-Id: I8f075a5ad869ef0dc72a700dcb7be0b6efca787a\n'}, {'number': 4, 'created': '2018-04-18 12:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/43684354b022dc6d3fe0cd10d1fc038eb4571661', 'message': ""Prevent change in host parameter for nova/neutron/ceilometer.\n\nWARNING WIP before you -2: I'm just keeping this review for any future\nreference of all crazy things you can do in a fact.  Going to go use a\nmuch simpler solution.\n\nThis makes possible to have the host parameter immutable during\nupgrade/update/ffu and prevents FIP (in case of neutron.conf) to\nbecome unavailable when it happens.\n\nBy default this makes the process fail with a procedure for the\noperator.\n\nCo-Authored-By: Sofer Athlan-Guyot <sathlang@redhat.com>\nPartial-Bug: #1763322\n\nChange-Id: I8f075a5ad869ef0dc72a700dcb7be0b6efca787a\n""}, {'number': 5, 'created': '2018-04-18 13:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1fa45e01fec78ba7adb036c90ca4382cee7368ba', 'message': 'Make host param for nova/neutron/ceilometer immutable during upgrade\n\nWe set the host value of those three services to whatever is returned\nby $fdqn.  Unfortunately this can change because of system change on\nthe host.  Worse, in Mitaka to Newton upgrade we explicitly change its\nvalue (from not set to $fqdn).\n\nMost of the services are recovering fine from the ""lost"" agent (which\nuse the previous host value) and use the ""new"" one to handle the load.\nWe have failed services displayed by agent-list command, that may\nconfuse the operator though.  But there is no impact on the Openstack\nsystem.\n\nOne exception are l3-agents.  They are set in an HA configuration, so\nthe new agents are not taking over the previous workload.  The impact\nis a complete lost of FIP connectivity.\n\nCo-Authored-By: Sofer Athlan-Guyot <sathlang@redhat.com>\nCloses-Bug: #1763322\n\nChange-Id: I8f075a5ad869ef0dc72a700dcb7be0b6efca787a\n'}, {'number': 6, 'created': '2018-04-18 14:09:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9eea99b088ccb217afb67ff936bab7e64af9b34e', 'message': 'Make host param for nova/neutron/ceilometer immutable during upgrade\n\nWe set the host value of those three services to whatever is returned\nby $fdqn.  Unfortunately this can change because of system change on\nthe host.  Worse, in Mitaka to Newton upgrade we explicitly change its\nvalue (from not set to $fqdn).\n\nMost of the services are recovering fine from the ""lost"" agent (which\nuse the previous host value) and use the ""new"" one to handle the load.\nWe have failed services displayed by agent-list command, that may\nconfuse the operator though.  But there is no impact on the Openstack\nsystem.\n\nOne exception are l3-agents.  They are set in an HA configuration, so\nthe new agents are not taking over the previous workload.  The impact\nis a complete lost of FIP connectivity.\n\nCo-Authored-By: Sofer Athlan-Guyot <sathlang@redhat.com>\nCloses-Bug: #1763322\n\nChange-Id: I8f075a5ad869ef0dc72a700dcb7be0b6efca787a\n'}, {'number': 7, 'created': '2018-04-23 11:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5e3c1462842a351dbfeb129f81a2aea81bf21f6f', 'message': 'Make host param for nova/neutron/ceilometer immutable during upgrade\n\nWe set the host value of those three services to whatever is returned\nby $fdqn.  Unfortunately this can change because of system change on\nthe host.  Worse, in Mitaka to Newton upgrade we explicitly change its\nvalue (from not set to $fqdn).\n\nThe main impact for neutron are l3-agents.  They are set in an HA\nconfiguration, so the new agents are not taking over the previous\nworkload.  The impact is a complete lost of FIP connectivity.\n\nFor nova, we lose the ability to manipulate vm after the upgrade.\n\nDepends-On: I6ada9c603f123039395f05e7a3e0cc0087023e43\n\nCo-Authored-By: Sofer Athlan-Guyot <sathlang@redhat.com>\nPartial-Bug: #1763322\n\nChange-Id: I8f075a5ad869ef0dc72a700dcb7be0b6efca787a\n'}, {'number': 8, 'created': '2018-05-02 08:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3972ff8abe4f8f8973b88e77232640a12b4ee708', 'message': 'Make host param for nova/neutron/ceilometer immutable during upgrade\n\nWe set the host value of those three services to whatever is returned\nby $fdqn.  Unfortunately this can change because of system change on\nthe host.  Worse, in Mitaka to Newton upgrade we explicitly change its\nvalue (from not set to $fqdn).\n\nThe main impact for neutron are l3-agents.  They are set in an HA\nconfiguration, so the new agents are not taking over the previous\nworkload.  The impact is a complete lost of FIP connectivity.\n\nFor nova, we lose the ability to manipulate vm after the upgrade.\n\nDepends-On: I6ada9c603f123039395f05e7a3e0cc0087023e43\n\nCo-Authored-By: Sofer Athlan-Guyot <sathlang@redhat.com>\nPartial-Bug: #1763322\n\nChange-Id: I8f075a5ad869ef0dc72a700dcb7be0b6efca787a\n'}, {'number': 9, 'created': '2018-05-02 09:06:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0db8ff3644229fca68f07c02bae9c66eb5156c73', 'message': 'Make host param for nova/neutron/ceilometer immutable during upgrade\n\nWe used to set the host value of those three services to whatever is\nreturned by $fdqn during upgrade/update.\n\nThis is no longer the case[1] but we have to handle stack deployed\nbefore that patch as well.  Furthermore that very patch may break\ncurrent deployment if the new default is different than the current\nvalue.\n\nAs a matter of fact this parameter can change because of system change\non the host[1] and in Mitaka to Newton upgrade we explicitly change\nits value (from not set to $fqdn).\n\nThe main impact for neutron are l3-agents.  They are set in an HA\nconfiguration, so the new agents are not taking over the previous\nworkload.  The impact is a complete lost of FIP connectivity.\n\nFor nova, we lose the ability to manipulate vm after the upgrade.\n\n[1] See https://review.openstack.org/#/c/555278/ for further explanation.\n\nDepends-On: I6ada9c603f123039395f05e7a3e0cc0087023e43\n\nCo-Authored-By: Sofer Athlan-Guyot <sathlang@redhat.com>\nPartial-Bug: #1763322\n\nChange-Id: I8f075a5ad869ef0dc72a700dcb7be0b6efca787a\n'}, {'number': 10, 'created': '2018-05-02 15:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/91f6f0467dabce175ea2c84194bbb75c81afbc9b', 'message': 'Make host param for nova/neutron/ceilometer immutable during upgrade\n\nWe used to set the host value of those three services to whatever is\nreturned by $fdqn during upgrade/update.\n\nThis is no longer the case[1] but we have to handle stack deployed\nbefore that patch as well.  Furthermore that very patch may break\ncurrent deployment if the new default is different than the current\nvalue.\n\nAs a matter of fact this parameter can change because of system change\non the host[1] and in Mitaka to Newton upgrade we explicitly change\nits value (from not set to $fqdn).\n\nThe main impact for neutron are l3-agents.  They are set in an HA\nconfiguration, so the new agents are not taking over the previous\nworkload.  The impact is a complete lost of FIP connectivity.\n\nFor nova, we lose the ability to manipulate vm after the upgrade.\n\n[1] See https://review.openstack.org/#/c/555278/ for further explanation.\n\nDepends-On: I6ada9c603f123039395f05e7a3e0cc0087023e43\n\nCo-Authored-By: Sofer Athlan-Guyot <sathlang@redhat.com>\nPartial-Bug: #1763322\n\nChange-Id: I8f075a5ad869ef0dc72a700dcb7be0b6efca787a\n'}, {'number': 11, 'created': '2018-06-29 16:42:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c72163fce206da7785f2977bd2975905e49d6db2', 'message': ""Make host param for nova/neutron/ceilometer immutable during upgrade\n\nWe used to set the host value of those three services to whatever is\nreturned by $fdqn during upgrade/update.\n\nThis is no longer the case[1] but we have to handle stack deployed\nbefore that patch as well.  Furthermore that very patch may break\ncurrent deployment if the new default is different than the current\nvalue.\n\nAs a matter of fact this parameter can change because of system change\non the host[1] and in Mitaka to Newton upgrade we explicitly change\nits value (from not set to $fqdn).\n\nThe main impact for neutron are l3-agents.  They are set in an HA\nconfiguration, so the new agents are not taking over the previous\nworkload.  The impact is a complete lost of FIP connectivity.\n\nFor nova, we lose the ability to manipulate vm after the upgrade.\n\nWe can't set this host_real to undef as puppet will then fall back to\nthe hiera value, which is exactly what we don't want in this case.\n\nThat's why we use the '$::os_immutable' fact value, that in the same\nvein as os_service_default, will just keep the current value\nuntouched.\n\nDepends-On: Iaea44309db9b1b075425fa15890ba592d8bc9b7e\n\n[1] See https://review.openstack.org/#/c/555278/ for further explanation.\n\nDepends-On: I6ada9c603f123039395f05e7a3e0cc0087023e43\n\nCo-Authored-By: Sofer Athlan-Guyot <sathlang@redhat.com>\nPartial-Bug: #1763322\n\nChange-Id: I8f075a5ad869ef0dc72a700dcb7be0b6efca787a\n""}, {'number': 12, 'created': '2018-06-29 16:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e3e0f67e2d5e01e6cdb2f1d4284308f71e2c2ab5', 'message': ""Make host param for nova/neutron/ceilometer immutable during upgrade\n\nWe used to set the host value of those three services to whatever is\nreturned by $fdqn during upgrade/update.\n\nThis is no longer the case[1] but we have to handle stack deployed\nbefore that patch as well.  Furthermore that very patch may break\ncurrent deployment if the new default is different than the current\nvalue.\n\nAs a matter of fact this parameter can change because of system change\non the host[1] and in Mitaka to Newton upgrade we explicitly change\nits value (from not set to $fqdn).\n\nThe main impact for neutron are l3-agents.  They are set in an HA\nconfiguration, so the new agents are not taking over the previous\nworkload.  The impact is a complete lost of FIP connectivity.\n\nFor nova, we lose the ability to manipulate vm after the upgrade.\n\nWe can't set this host_real to undef as puppet will then fall back to\nthe hiera value, which is exactly what we don't want in this case.\n\nThat's why we use the '$::os_immutable' fact value, that in the same\nvein as os_service_default, will just keep the current value\nuntouched.\n\n[1] See https://review.openstack.org/#/c/555278/ for further explanation.\n\nDepends-On: Iaea44309db9b1b075425fa15890ba592d8bc9b7e\nCo-Authored-By: Sofer Athlan-Guyot <sathlang@redhat.com>\nPartial-Bug: #1763322\n\nChange-Id: I8f075a5ad869ef0dc72a700dcb7be0b6efca787a\n""}, {'number': 13, 'created': '2018-07-10 13:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3a150dddb6d23f80acfeeb421f77697a948c4133', 'message': ""Make host param for nova/neutron/ceilometer immutable during upgrade\n\nWe used to set the host value of those three services to whatever is\nreturned by $fdqn during upgrade/update.\n\nThis is no longer the case[1] but we have to handle stack deployed\nbefore that patch as well.  Furthermore that very patch may break\ncurrent deployment if the new default is different than the current\nvalue.\n\nAs a matter of fact this parameter can change because of system change\non the host[1] and in Mitaka to Newton upgrade we explicitly change\nits value (from not set to $fqdn).\n\nThe main impact for neutron are l3-agents.  They are set in an HA\nconfiguration, so the new agents are not taking over the previous\nworkload.  The impact is a complete lost of FIP connectivity.\n\nFor nova, we lose the ability to manipulate vm after the upgrade.\n\nWe can't set this host_real to undef as puppet will then fall back to\nthe hiera value, which is exactly what we don't want in this case.\n\nThat's why we use the '$::os_immutable' fact value, that in the same\nvein as os_service_default, will just keep the current value\nuntouched.\n\n[1] See https://review.openstack.org/#/c/555278/ for further explanation.\n\nDepends-On: Iaea44309db9b1b075425fa15890ba592d8bc9b7e\nCo-Authored-By: Sofer Athlan-Guyot <sathlang@redhat.com>\nPartial-Bug: #1763322\n\nChange-Id: I8f075a5ad869ef0dc72a700dcb7be0b6efca787a\n""}, {'number': 14, 'created': '2018-07-10 13:48:26.000000000', 'files': ['manifests/profile/base/nova.pp', 'spec/classes/tripleo_profile_base_nova_spec.rb', 'spec/spec_helper.rb', 'manifests/profile/base/neutron.pp', 'spec/fixtures/hiera.yaml', 'spec/fixtures/hieradata/host_param_update.yaml', 'spec/classes/tripleo_profile_base_ceilometer_spec.rb', 'manifests/profile/base/ceilometer.pp', 'spec/fixtures/hieradata/host_param.yaml', 'spec/classes/tripleo_profile_base_neutron_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/fa6630abf8c802ecaff02373a3b38d4657da79a3', 'message': ""Make host param for nova/neutron/ceilometer immutable during upgrade\n\nWe used to set the host value of those three services to whatever is\nreturned by $fdqn during upgrade/update.\n\nThis is no longer the case[1] but we have to handle stack deployed\nbefore that patch as well.  Furthermore that very patch may break\ncurrent deployment if the new default is different than the current\nvalue.\n\nAs a matter of fact this parameter can change because of system change\non the host[1] and in Mitaka to Newton upgrade we explicitly change\nits value (from not set to $fqdn).\n\nThe main impact for neutron are l3-agents.  They are set in an HA\nconfiguration, so the new agents are not taking over the previous\nworkload.  The impact is a complete lost of FIP connectivity.\n\nFor nova, we lose the ability to manipulate vm after the upgrade.\n\nWe can't set this host_real to undef as puppet will then fall back to\nthe hiera value, which is exactly what we don't want in this case.\n\nThat's why we use the '$::os_immutable' fact value, that in the same\nvein as os_service_default, will just keep the current value\nuntouched.\n\n[1] See https://review.openstack.org/#/c/555278/ for further explanation.\n\nDepends-On: Iaea44309db9b1b075425fa15890ba592d8bc9b7e\nCo-Authored-By: Sofer Athlan-Guyot <sathlang@redhat.com>\nPartial-Bug: #1763322\n\nChange-Id: I8f075a5ad869ef0dc72a700dcb7be0b6efca787a\n""}]",27,555732,fa6630abf8c802ecaff02373a3b38d4657da79a3,73,15,14,23811,,,0,"Make host param for nova/neutron/ceilometer immutable during upgrade

We used to set the host value of those three services to whatever is
returned by $fdqn during upgrade/update.

This is no longer the case[1] but we have to handle stack deployed
before that patch as well.  Furthermore that very patch may break
current deployment if the new default is different than the current
value.

As a matter of fact this parameter can change because of system change
on the host[1] and in Mitaka to Newton upgrade we explicitly change
its value (from not set to $fqdn).

The main impact for neutron are l3-agents.  They are set in an HA
configuration, so the new agents are not taking over the previous
workload.  The impact is a complete lost of FIP connectivity.

For nova, we lose the ability to manipulate vm after the upgrade.

We can't set this host_real to undef as puppet will then fall back to
the hiera value, which is exactly what we don't want in this case.

That's why we use the '$::os_immutable' fact value, that in the same
vein as os_service_default, will just keep the current value
untouched.

[1] See https://review.openstack.org/#/c/555278/ for further explanation.

Depends-On: Iaea44309db9b1b075425fa15890ba592d8bc9b7e
Co-Authored-By: Sofer Athlan-Guyot <sathlang@redhat.com>
Partial-Bug: #1763322

Change-Id: I8f075a5ad869ef0dc72a700dcb7be0b6efca787a
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/32/555732/2 && git format-patch -1 --stdout FETCH_HEAD,"['lib/facter/current_config_hosts.rb', 'manifests/profile/base/nova.pp', 'manifests/profile/base/neutron.pp', 'manifests/profile/base/ceilometer.pp']",4,d089ca37155646b4664fb02299faff91e63398ed,bug/1763322," $correct_host = hiera('ceilometer::host') if $current_ceilometer_host != undef and !empty($current_ceilometer_host) and $current_ceilometer_host != $correct_host { if hiera('allow_incorrect_host_config', false) { warning(""The current ceilometer::host value is incorrect. \ Expected: '${correct_host}' Current: '${current_ceilometer_host}'"") $host_real = $current_ceilometer_host } else { fail(""The current ceilometer::host value is incorrect. \ Expected: '${correct_host}' Current: '${current_ceilometer_host}'. \ Not changing this as there are potential side-effects requiring manual \ intervention. \ Please refer to allow_incorrect_host_config.yaml for more info"") } } else { $host_real = $correct_host } host => $host_real,",,82,0
openstack%2Fpuppet-tripleo~master~Ia3fd1f465b389ff01a5dfd6845d782d24aaf4c16,openstack/puppet-tripleo,master,Ia3fd1f465b389ff01a5dfd6845d782d24aaf4c16,Update VPP ML2 and Agent parameters,ABANDONED,2018-09-03 20:08:30.000000000,2019-07-31 21:00:58.000000000,,"[{'_account_id': 14985}, {'_account_id': 20971}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-03 20:08:30.000000000', 'files': ['lib/puppet/parser/functions/vpp_physnet_mapping.rb', 'manifests/profile/base/neutron/agents/vpp.pp', 'manifests/profile/base/neutron/plugins/ml2/vpp.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2d9f98f55c621c75ea8d71e6decd1f8db670ec6c', 'message': 'Update VPP ML2 and Agent parameters\n\nThe latest release of networking-vpp ML2 drvier/agent requires the\nfollowing addtional configs:\n- For ML2 driver, we need to configure L3 vpp-routing hosts\n- For VPP agent, we need to configure type_drivers and serivce_plugins\n- Also add phynet_mapping parameter to make deployment easier when the\n  user specifies a kernel device name like eth1 instead of a VPP interface\n  name like GigabitEthernet0/1/0\n\nCloses-Bug: #1790526\n\nChange-Id: Ia3fd1f465b389ff01a5dfd6845d782d24aaf4c16\nSigned-off-by: Feng Pan <fpan@redhat.com>\n'}]",0,599455,2d9f98f55c621c75ea8d71e6decd1f8db670ec6c,5,4,1,20971,,,0,"Update VPP ML2 and Agent parameters

The latest release of networking-vpp ML2 drvier/agent requires the
following addtional configs:
- For ML2 driver, we need to configure L3 vpp-routing hosts
- For VPP agent, we need to configure type_drivers and serivce_plugins
- Also add phynet_mapping parameter to make deployment easier when the
  user specifies a kernel device name like eth1 instead of a VPP interface
  name like GigabitEthernet0/1/0

Closes-Bug: #1790526

Change-Id: Ia3fd1f465b389ff01a5dfd6845d782d24aaf4c16
Signed-off-by: Feng Pan <fpan@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/55/599455/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/parser/functions/vpp_physnet_mapping.rb', 'manifests/profile/base/neutron/agents/vpp.pp', 'manifests/profile/base/neutron/plugins/ml2/vpp.pp']",3,2d9f98f55c621c75ea8d71e6decd1f8db670ec6c,bug/1790526," if $::hostname in hiera('controller_node_names') { $l3_hosts = ""${hiera('controller_node_names').split(',')[0]}.${::domain}"" } else { $l3_hosts = undef } l3_hosts => $l3_hosts,",,57,5
openstack%2Fpuppet-tripleo~master~Ia222d767bfca462bed03d546a942adf473fdb6b2,openstack/puppet-tripleo,master,Ia222d767bfca462bed03d546a942adf473fdb6b2,Nothing to see here,ABANDONED,2018-12-06 14:04:56.000000000,2019-07-31 21:00:48.000000000,,"[{'_account_id': 6928}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2018-12-06 14:04:56.000000000', 'files': ['manifests/profile/base/designate/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/63916091d978a46c801882a0f19daea628a68e9c', 'message': ""Nothing to see here\n\nJust testing the Designate coordination backend patch since the\npuppet repo doesn't run the tripleo job.\n\nChange-Id: Ia222d767bfca462bed03d546a942adf473fdb6b2\nDepends-On: https://review.openstack.org/623095/\n""}]",0,623214,63916091d978a46c801882a0f19daea628a68e9c,6,5,1,6928,,,0,"Nothing to see here

Just testing the Designate coordination backend patch since the
puppet repo doesn't run the tripleo job.

Change-Id: Ia222d767bfca462bed03d546a942adf473fdb6b2
Depends-On: https://review.openstack.org/623095/
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/14/623214/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/designate/api.pp'],1,63916091d978a46c801882a0f19daea628a68e9c,,,,1,0
openstack%2Fpuppet-tripleo~master~Ifeaae3ea5e703d50b2b48cd1be13210bd44587c0,openstack/puppet-tripleo,master,Ifeaae3ea5e703d50b2b48cd1be13210bd44587c0,WIP: Adding Tacker conductor puppet class,ABANDONED,2018-04-24 16:19:03.000000000,2019-07-31 21:00:46.000000000,,"[{'_account_id': 14985}, {'_account_id': 17280}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-24 16:19:03.000000000', 'files': ['manifests/profile/base/tacker.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/338dc56e94e92efff79f7a88c95cb487c3ebdcdf', 'message': 'WIP: Adding Tacker conductor puppet class\n\nDepends-On: I6286cd57af8d0d3416903f71de995fd7cb667614\nChange-Id: Ifeaae3ea5e703d50b2b48cd1be13210bd44587c0\nSigned-off-by: Ricardo Noriega <rnoriega@redhat.com>\n'}]",0,564021,338dc56e94e92efff79f7a88c95cb487c3ebdcdf,3,3,1,21626,,,0,"WIP: Adding Tacker conductor puppet class

Depends-On: I6286cd57af8d0d3416903f71de995fd7cb667614
Change-Id: Ifeaae3ea5e703d50b2b48cd1be13210bd44587c0
Signed-off-by: Ricardo Noriega <rnoriega@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/21/564021/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/tacker.pp'],1,338dc56e94e92efff79f7a88c95cb487c3ebdcdf,tacker_conductor, include ::tacker::conductor,,1,0
openstack%2Fpuppet-tripleo~master~Ie8c0900687b71bc8fbbfbbe5750c6bb7278e3019,openstack/puppet-tripleo,master,Ie8c0900687b71bc8fbbfbbe5750c6bb7278e3019,WIP Use the non-fqdn name when creating stonith levels,ABANDONED,2018-05-16 17:43:52.000000000,2019-07-31 21:00:44.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-16 17:43:52.000000000', 'files': ['manifests/fencing.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/22af7f3687d779e6d1bd2f18964e97e606661927', 'message': 'WIP Use the non-fqdn name when creating stonith levels\n\nCluster nodes are always non-fqdn. When an operator configures\nhostnames to be fqdn, they will still be short hostnames in the\ncluster and in pacemaker remote. The exception to this is crm_node -n\nwhich will end up returning the `hostname`.\n\nLet\'s replace $(crm_node -n) which returns an FQDN in this case\nwith $::hostname which gives always the short hostname.\n\nThis way we will avoid errors like this:\n""Error: pcs -f\n/var/lib/pacemaker/cib/puppet-cib-backup20180516-27473-xsh5h create\nfailed: Error: Node \'overcloud-novacomputeiha-0.redhat.local\' does not\nappear to exist in configuration, use --force to override"",\n\nChange-Id: Ie8c0900687b71bc8fbbfbbe5750c6bb7278e3019\n'}]",0,568913,22af7f3687d779e6d1bd2f18964e97e606661927,4,3,1,20172,,,0,"WIP Use the non-fqdn name when creating stonith levels

Cluster nodes are always non-fqdn. When an operator configures
hostnames to be fqdn, they will still be short hostnames in the
cluster and in pacemaker remote. The exception to this is crm_node -n
which will end up returning the `hostname`.

Let's replace $(crm_node -n) which returns an FQDN in this case
with $::hostname which gives always the short hostname.

This way we will avoid errors like this:
""Error: pcs -f
/var/lib/pacemaker/cib/puppet-cib-backup20180516-27473-xsh5h create
failed: Error: Node 'overcloud-novacomputeiha-0.redhat.local' does not
appear to exist in configuration, use --force to override"",

Change-Id: Ie8c0900687b71bc8fbbfbbe5750c6bb7278e3019
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/13/568913/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/fencing.pp'],1,22af7f3687d779e6d1bd2f18964e97e606661927,iha-fqdn-compute-hostnames," target => $::hostname,"," target => '$(/usr/sbin/crm_node -n)',",1,1
openstack%2Fpuppet-tripleo~master~Ie796d67ef84821b485f938307c3be1a51936b02e,openstack/puppet-tripleo,master,Ie796d67ef84821b485f938307c3be1a51936b02e,WIP use rabbitmq directly with rabbit bundle,ABANDONED,2018-07-29 12:27:05.000000000,2019-07-31 21:00:43.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-29 12:27:05.000000000', 'files': ['manifests/profile/pacemaker/rabbitmq_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8f4f919e12b60b7987593ec9b62a7a1ad637c91e', 'message': 'WIP use rabbitmq directly with rabbit bundle\n\nChange-Id: Ie796d67ef84821b485f938307c3be1a51936b02e\n'}]",0,586876,8f4f919e12b60b7987593ec9b62a7a1ad637c91e,4,3,1,20172,,,0,"WIP use rabbitmq directly with rabbit bundle

Change-Id: Ie796d67ef84821b485f938307c3be1a51936b02e
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/76/586876/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/rabbitmq_bundle.pp'],1,8f4f919e12b60b7987593ec9b62a7a1ad637c91e,," options => '--user=rabbitmq --log-driver=journald -e KOLLA_CONFIG_STRATEGY=COPY_ALWAYS',"," options => '--user=root --log-driver=journald -e KOLLA_CONFIG_STRATEGY=COPY_ALWAYS',",1,1
openstack%2Fpuppet-tripleo~master~I521a8ed26a4532728d41cd9f79001c3a29a1ce00,openstack/puppet-tripleo,master,I521a8ed26a4532728d41cd9f79001c3a29a1ce00,WIP/DNR Add a new bundle that uses upstream rabbitmqRA,ABANDONED,2018-09-04 20:08:21.000000000,2019-07-31 21:00:41.000000000,,"[{'_account_id': 9257}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-04 20:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/71a40e87b7b9dc8cb7e505767634bef59ba2f785', 'message': 'WIP/DNR Add a new bundle that uses upstream rabbitmqRA\n\nNothing to see\n\nChange-Id: I521a8ed26a4532728d41cd9f79001c3a29a1ce00\n'}, {'number': 2, 'created': '2018-09-10 20:44:54.000000000', 'files': ['manifests/profile/pacemaker/rabbitmq_bundle_newra.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8c2aee84864425edd344473314bd2b933878b7fb', 'message': 'WIP/DNR Add a new bundle that uses upstream rabbitmqRA\n\nNothing to see\n\nChange-Id: I521a8ed26a4532728d41cd9f79001c3a29a1ce00\n'}]",0,599827,8c2aee84864425edd344473314bd2b933878b7fb,8,5,2,20172,,,0,"WIP/DNR Add a new bundle that uses upstream rabbitmqRA

Nothing to see

Change-Id: I521a8ed26a4532728d41cd9f79001c3a29a1ce00
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/27/599827/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/rabbitmq_bundle_newra.pp'],1,71a40e87b7b9dc8cb7e505767634bef59ba2f785,upstream-rabbitmq-ra,"# Copyright 2017 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # == Class: tripleo::profile::pacemaker::rabbitmq_bundle # # Containerized RabbitMQ Pacemaker HA profile for tripleo # # === Parameters # # [*rabbitmq_docker_image*] # (Optional) The docker image to use for creating the pacemaker bundle # Defaults to hiera('tripleo::profile::pacemaker::rabbitmq_bundle::rabbitmq_docker_image', undef) # # [*rabbitmq_docker_control_port*] # (Optional) The bundle's pacemaker_remote control port on the host # Defaults to hiera('tripleo::profile::pacemaker::rabbitmq_bundle::control_port', '3122') # # [*bootstrap_node*] # (Optional) The hostname of the node responsible for bootstrapping tasks # Defaults to hiera('rabbitmq_short_bootstrap_node_name') # # [*erlang_cookie*] # (Optional) Content of erlang cookie. # Defaults to hiera('rabbitmq::erlang_cookie'). # # [*user_ha_queues*] # (Optional) The number of HA queues in to be configured in rabbitmq # Defaults to hiera('rabbitmq::nr_ha_queues'), which is usually 0 meaning # that the queues number will be CEIL(N/2) where N is the number of rabbitmq # nodes. # # [*rabbit_nodes*] # (Optional) The list of rabbitmq nodes names # Defaults to hiera('rabbitmq_node_names') # # [*enable_internal_tls*] # (Optional) Whether TLS in the internal network is enabled or not. # Defaults to hiera('enable_internal_tls', false) # # [*step*] # (Optional) The current step in deployment. See tripleo-heat-templates # for more details. # Defaults to hiera('step') # # [*pcs_tries*] # (Optional) The number of times pcs commands should be retried. # Defaults to hiera('pcs_tries', 20) # class tripleo::profile::pacemaker::rabbitmq_bundle_newra ( $rabbitmq_docker_image = hiera('tripleo::profile::pacemaker::rabbitmq_bundle::rabbitmq_docker_image', undef), $rabbitmq_docker_control_port = hiera('tripleo::profile::pacemaker::rabbitmq_bundle::control_port', '3122'), $bootstrap_node = hiera('rabbitmq_short_bootstrap_node_name'), $erlang_cookie = hiera('rabbitmq::erlang_cookie'), $user_ha_queues = hiera('rabbitmq::nr_ha_queues', 0), $rabbit_nodes = hiera('rabbitmq_node_names'), $enable_internal_tls = hiera('enable_internal_tls', false), $pcs_tries = hiera('pcs_tries', 20), $step = Integer(hiera('step')), ) { if $::hostname == downcase($bootstrap_node) { $pacemaker_master = true } else { $pacemaker_master = false } include ::tripleo::profile::base::rabbitmq file { '/var/lib/rabbitmq/.erlang.cookie': ensure => file, owner => 'rabbitmq', group => 'rabbitmq', mode => '0400', content => $erlang_cookie, replace => true, require => Class['::rabbitmq'], } if $step >= 1 and $pacemaker_master and hiera('stack_action') == 'UPDATE' { tripleo::pacemaker::resource_restart_flag { 'rabbitmq-clone': subscribe => Class['rabbitmq::service'], } } if $step >= 2 { if $pacemaker_master { $rabbitmq_short_node_names = hiera('rabbitmq_short_node_names') $rabbitmq_nodes_count = count($rabbitmq_short_node_names) $rabbitmq_short_node_names.each |String $node_name| { pacemaker::property { ""rabbitmq-role-${node_name}"": property => 'rabbitmq-role', value => true, tries => $pcs_tries, node => downcase($node_name), before => Pacemaker::Resource::Bundle['rabbitmq-bundle'], } } $storage_maps = { 'ocf-from-host' => { 'source-dir' => '/usr/lib/ocf', 'target-dir' => '/usr/lib/ocf', 'options' => 'rw', }, 'rabbitmq-cfg-files' => { 'source-dir' => '/var/lib/kolla/config_files/rabbitmq.json', 'target-dir' => '/var/lib/kolla/config_files/config.json', 'options' => 'ro', }, 'rabbitmq-cfg-files' => { 'source-dir' => '/var/lib/kolla/config_files/rabbitmq.json', 'target-dir' => '/var/lib/kolla/config_files/config.json', 'options' => 'ro', }, 'rabbitmq-cfg-data' => { 'source-dir' => '/var/lib/config-data/puppet-generated/rabbitmq/', 'target-dir' => '/var/lib/kolla/config_files/src', 'options' => 'ro', }, 'rabbitmq-hosts' => { 'source-dir' => '/etc/hosts', 'target-dir' => '/etc/hosts', 'options' => 'ro', }, 'rabbitmq-localtime' => { 'source-dir' => '/etc/localtime', 'target-dir' => '/etc/localtime', 'options' => 'ro', }, 'rabbitmq-lib' => { 'source-dir' => '/var/lib/rabbitmq', 'target-dir' => '/var/lib/rabbitmq', 'options' => 'rw', }, 'rabbitmq-pki-extracted' => { 'source-dir' => '/etc/pki/ca-trust/extracted', 'target-dir' => '/etc/pki/ca-trust/extracted', 'options' => 'ro', }, 'rabbitmq-pki-ca-bundle-crt' => { 'source-dir' => '/etc/pki/tls/certs/ca-bundle.crt', 'target-dir' => '/etc/pki/tls/certs/ca-bundle.crt', 'options' => 'ro', }, 'rabbitmq-pki-ca-bundle-trust-crt' => { 'source-dir' => '/etc/pki/tls/certs/ca-bundle.trust.crt', 'target-dir' => '/etc/pki/tls/certs/ca-bundle.trust.crt', 'options' => 'ro', }, 'rabbitmq-pki-cert' => { 'source-dir' => '/etc/pki/tls/cert.pem', 'target-dir' => '/etc/pki/tls/cert.pem', 'options' => 'ro', }, 'rabbitmq-log' => { 'source-dir' => '/var/log/containers/rabbitmq', 'target-dir' => '/var/log/rabbitmq', 'options' => 'rw', }, 'rabbitmq-dev-log' => { 'source-dir' => '/dev/log', 'target-dir' => '/dev/log', 'options' => 'rw', }, } if $enable_internal_tls { $storage_maps_tls = { 'rabbitmq-pki-cert' => { 'source-dir' => '/etc/pki/tls/certs/rabbitmq.crt', 'target-dir' => '/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/rabbitmq.crt', 'options' => 'ro', }, 'rabbitmq-pki-key' => { 'source-dir' => '/etc/pki/tls/private/rabbitmq.key', 'target-dir' => '/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/rabbitmq.key', 'options' => 'ro', }, } } else { $storage_maps_tls = {} } pacemaker::resource::bundle { 'rabbitmq-bundle': image => $rabbitmq_docker_image, masters => $rabbitmq_nodes_count, location_rule => { resource_discovery => 'exclusive', score => 0, expression => ['rabbitmq-role eq true'], }, container_options => 'network=host', options => '--user=root --log-driver=journald -e KOLLA_CONFIG_STRATEGY=COPY_ALWAYS --privileged', run_command => '/bin/bash /usr/local/bin/kolla_start', network => ""control-port=${rabbitmq_docker_control_port}"", storage_maps => merge($storage_maps, $storage_maps_tls), } # The default nr of ha queues is ceiling(N/2) #if $user_ha_queues == 0 { # $nr_rabbit_nodes = size($rabbit_nodes) # $nr_ha_queues = $nr_rabbit_nodes / 2 + ($nr_rabbit_nodes % 2) # $params = ""set_policy='ha-all ^(?!amq\\.).* {\""ha-mode\"":\""exactly\"",\""ha-params\"":${nr_ha_queues}}'"" #} elsif $user_ha_queues == -1 { # $params = 'set_policy=\'ha-all ^(?!amq\.).* {""ha-mode"":""all""}\'' #} else { # $nr_ha_queues = $user_ha_queues # $params = ""set_policy='ha-all ^(?!amq\\.).* {\""ha-mode\"":\""exactly\"",\""ha-params\"":${nr_ha_queues}}'"" #} pacemaker::resource::ocf { 'rabbitmq': ocf_agent_name => 'rabbitmq:rabbitmq-server-ha', #resource_params => $params, meta_params => 'notify=true container-attribute-target=host', op_params => 'start timeout=200s stop timeout=200s', tries => $pcs_tries, location_rule => { resource_discovery => 'exclusive', score => 0, expression => ['rabbitmq-role eq true'], }, bundle => 'rabbitmq-bundle', require => [Class['::rabbitmq'], Pacemaker::Resource::Bundle['rabbitmq-bundle']], before => Exec['rabbitmq-ready'], } if size($rabbit_nodes) == 1 { $check_command = 'rabbitmqctl status | grep -F ""{rabbit,""' } else { # This grep makes sure the rabbit app in erlang is up and running # which is enough to guarantee that the user will eventually get # replicated around the cluster $check_command = 'rabbitmqctl eval ""rabbit_mnesia:is_clustered()."" | grep -q true' } exec { 'rabbitmq-ready': path => '/usr/sbin:/usr/bin:/sbin:/bin', command => $check_command, unless => $check_command, timeout => 30, tries => 180, try_sleep => 10, tag => 'rabbitmq_ready', } # Make sure that if we create rabbitmq users at the same step it happens # after the cluster is up Exec['rabbitmq-ready'] -> Rabbitmq_user<||> Exec['rabbitmq-ready'] -> Rabbitmq_policy<||> } } } ",,262,0
openstack%2Fpuppet-tripleo~master~Ie6364fb57524cff09f4dab99512980b091fcf8e3,openstack/puppet-tripleo,master,Ie6364fb57524cff09f4dab99512980b091fcf8e3,Implement Global Galera database,ABANDONED,2018-10-11 15:07:16.000000000,2019-07-31 21:00:40.000000000,,"[{'_account_id': 10873}, {'_account_id': 11816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2018-10-11 15:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/029e99fb228a141a95466f5b68d05edd401d183e', 'message': 'Implement Global Galera database\n\nWIP: This is the patch used from the proof of concept so far.\nChanges will include that we might want to no longer use\nthe term ""stretch"" in favor of ""global"".\n\nChange-Id: Ie6364fb57524cff09f4dab99512980b091fcf8e3\nPartial: blueprint global-database\n'}, {'number': 2, 'created': '2018-10-12 15:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/141b21be870694a4baa395b3146fd1fe739b05b1', 'message': 'Implement Global Galera database\n\nWIP: This is the patch used from the proof of concept so far.\nChanges will include that we might want to no longer use\nthe term ""stretch"" in favor of ""global"".\n\nChange-Id: Ie6364fb57524cff09f4dab99512980b091fcf8e3\nPartial: blueprint global-database\n'}, {'number': 3, 'created': '2018-10-12 16:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/441f06758b51cf08e33b2052872c49d086c7a203', 'message': 'Implement Global Galera database\n\nWIP: This is the patch used from the proof of concept so far.\nChanges will include that we might want to no longer use\nthe term ""stretch"" in favor of ""global"".\n\nChange-Id: Ie6364fb57524cff09f4dab99512980b091fcf8e3\nPartial: blueprint global-database\n'}, {'number': 4, 'created': '2018-10-12 20:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/66f1fe919af00fac6d99268a47366f2ec2f42f94', 'message': 'Implement Global Galera database\n\nWIP: This is the patch used from the proof of concept so far.\nChanges will include that we might want to no longer use\nthe term ""stretch"" in favor of ""global"".\n\nChange-Id: Ie6364fb57524cff09f4dab99512980b091fcf8e3\nPartial: blueprint global-database\n'}, {'number': 5, 'created': '2018-10-24 17:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e182bc86f06dfc5b66b76708ccda8e43b110c240', 'message': 'Implement Global Galera database\n\nWIP: This is the patch used from the proof of concept so far.\nChanges will include that we might want to no longer use\nthe term ""stretch"" in favor of ""global"".\n\nChange-Id: Ie6364fb57524cff09f4dab99512980b091fcf8e3\nPartial: blueprint global-database\n'}, {'number': 6, 'created': '2018-11-05 20:39:15.000000000', 'files': ['manifests/profile/pacemaker/stretch_clustercheck.pp', 'manifests/profile/base/database/mysql/client.pp', 'manifests/profile/pacemaker/database/stretch_mysql_bundle.pp', 'manifests/profile/base/database/mysql.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1d3f8a331dc8ec054c3258c2517739ba6ffe14be', 'message': 'Implement Global Galera database\n\nWIP: This is the patch used from the proof of concept so far.\nChanges will include that we might want to no longer use\nthe term ""stretch"" in favor of ""global"".\n\nChange-Id: Ie6364fb57524cff09f4dab99512980b091fcf8e3\nPartial: blueprint global-database\n'}]",3,609734,1d3f8a331dc8ec054c3258c2517739ba6ffe14be,20,6,6,11816,,,0,"Implement Global Galera database

WIP: This is the patch used from the proof of concept so far.
Changes will include that we might want to no longer use
the term ""stretch"" in favor of ""global"".

Change-Id: Ie6364fb57524cff09f4dab99512980b091fcf8e3
Partial: blueprint global-database
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/34/609734/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/haproxy.pp', 'manifests/profile/pacemaker/stretch_clustercheck.pp', 'manifests/profile/base/database/mysql/client.pp', 'manifests/profile/pacemaker/database/stretch_mysql_bundle.pp', 'manifests/profile/base/database/mysql.pp']",5,029e99fb228a141a95466f5b68d05edd401d183e,bp/global-database," $is_stretch_mysql = false, if hiera('keystone_enabled', false) and ( str2bool(hiera(""keystone_stretch_enabled"")) == $is_stretch_mysql ) { if ! $is_stretch_mysql { if hiera('aodh_api_enabled', false) { include ::aodh::db::mysql } if hiera('ceilometer_collector_enabled', false) { include ::ceilometer::db::mysql } if hiera('cinder_api_enabled', false) { include ::cinder::db::mysql } if hiera('barbican_api_enabled', false) { include ::barbican::db::mysql } if hiera('congress_enabled', false) { include ::congress::db::mysql } if hiera('designate_api_enabled', false) { include ::designate::db::mysql } if hiera('glance_api_enabled', false) { include ::glance::db::mysql } if hiera('gnocchi_api_enabled', false) { include ::gnocchi::db::mysql } if hiera('heat_engine_enabled', false) { include ::heat::db::mysql } if hiera('ironic_api_enabled', false) { include ::ironic::db::mysql } if hiera('ironic_inspector_enabled', false) { include ::ironic::inspector::db::mysql } if hiera('manila_api_enabled', false) { include ::manila::db::mysql } if hiera('mistral_api_enabled', false) { include ::mistral::db::mysql } if hiera('neutron_api_enabled', false) { include ::neutron::db::mysql } if hiera('nova_api_enabled', false) { include ::nova::db::mysql include ::nova::db::mysql_api } if hiera('nova_placement_enabled', false) { include ::nova::db::mysql_placement } if hiera('octavia_api_enabled', false) { include ::octavia::db::mysql } if hiera('sahara_api_enabled', false) { include ::sahara::db::mysql } if hiera('tacker_enabled', false) { include ::tacker::db::mysql } if hiera('trove_api_enabled', false) { include ::trove::db::mysql } if hiera('panko_api_enabled', false) { include ::panko::db::mysql } if hiera('ec2_api_enabled', false) { include ::ec2api::db::mysql } if hiera('zaqar_api_enabled', false) and hiera('zaqar::db::mysql::user', '') == 'zaqar' { # NOTE: by default zaqar uses mongodb include ::zaqar::db::mysql } if hiera('veritas_hyperscale_controller_enabled', false) { include ::veritas_hyperscale::db::mysql }"," if hiera('aodh_api_enabled', false) { include ::aodh::db::mysql } if hiera('ceilometer_collector_enabled', false) { include ::ceilometer::db::mysql } if hiera('cinder_api_enabled', false) { include ::cinder::db::mysql } if hiera('barbican_api_enabled', false) { include ::barbican::db::mysql } if hiera('congress_enabled', false) { include ::congress::db::mysql } if hiera('designate_api_enabled', false) { include ::designate::db::mysql } if hiera('glance_api_enabled', false) { include ::glance::db::mysql } if hiera('gnocchi_api_enabled', false) { include ::gnocchi::db::mysql } if hiera('heat_engine_enabled', false) { include ::heat::db::mysql } if hiera('ironic_api_enabled', false) { include ::ironic::db::mysql } if hiera('ironic_inspector_enabled', false) { include ::ironic::inspector::db::mysql } if hiera('keystone_enabled', false) { if hiera('manila_api_enabled', false) { include ::manila::db::mysql } if hiera('mistral_api_enabled', false) { include ::mistral::db::mysql } if hiera('neutron_api_enabled', false) { include ::neutron::db::mysql } if hiera('nova_api_enabled', false) { include ::nova::db::mysql include ::nova::db::mysql_api } if hiera('nova_placement_enabled', false) { include ::nova::db::mysql_placement } if hiera('octavia_api_enabled', false) { include ::octavia::db::mysql } if hiera('sahara_api_enabled', false) { include ::sahara::db::mysql } if hiera('tacker_enabled', false) { include ::tacker::db::mysql } if hiera('trove_api_enabled', false) { include ::trove::db::mysql } if hiera('panko_api_enabled', false) { include ::panko::db::mysql } if hiera('ec2_api_enabled', false) { include ::ec2api::db::mysql } if hiera('zaqar_api_enabled', false) and hiera('zaqar::db::mysql::user', '') == 'zaqar' { # NOTE: by default zaqar uses mongodb include ::zaqar::db::mysql } if hiera('veritas_hyperscale_controller_enabled', false) { include ::veritas_hyperscale::db::mysql",664,77
openstack%2Fpuppet-tripleo~master~I13b7eb52f27e0ebaefc783526c002857c1dbf4af,openstack/puppet-tripleo,master,I13b7eb52f27e0ebaefc783526c002857c1dbf4af,Updates OpenDaylight websocket haproxy healthcheck,ABANDONED,2018-10-23 20:29:42.000000000,2019-07-31 21:00:38.000000000,,"[{'_account_id': 8871}, {'_account_id': 11240}, {'_account_id': 14985}, {'_account_id': 17280}, {'_account_id': 19684}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-23 20:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/fa20d5f857e6ebb328971b62d0dea17d4e0ce652', 'message': 'Updates OpenDaylight websocket haproxy healthcheck\n\nThere is an issue where OpenDaylight may be up on port 8185, but it is\nunable to accept websocket connections on that port. This creates a\nfalse positive for the current health check as it only checks if the TCP\nport is open. This adds a more robust check to ensure a websocket\nconnection can be made.\n\nChange-Id: I13b7eb52f27e0ebaefc783526c002857c1dbf4af\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n'}, {'number': 2, 'created': '2018-11-15 14:35:49.000000000', 'files': ['manifests/haproxy.pp', 'releasenotes/notes/opendaylight_websocket_healthcheck-4904390048aa3d4c.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c0ca378810e21b57da5d20fdfd68ee092ee68010', 'message': 'Updates OpenDaylight websocket haproxy healthcheck\n\nThere is an issue where OpenDaylight may be up on port 8185, but it is\nunable to accept websocket connections on that port. This creates a\nfalse positive for the current health check as it only checks if the TCP\nport is open. This adds a more robust check to ensure a websocket\nconnection can be made.\n\nCloses-Bug: #1803557\n\nChange-Id: I13b7eb52f27e0ebaefc783526c002857c1dbf4af\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n'}]",0,612794,c0ca378810e21b57da5d20fdfd68ee092ee68010,11,7,2,17280,,,0,"Updates OpenDaylight websocket haproxy healthcheck

There is an issue where OpenDaylight may be up on port 8185, but it is
unable to accept websocket connections on that port. This creates a
false positive for the current health check as it only checks if the TCP
port is open. This adds a more robust check to ensure a websocket
connection can be made.

Closes-Bug: #1803557

Change-Id: I13b7eb52f27e0ebaefc783526c002857c1dbf4af
Signed-off-by: Tim Rozet <trozet@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/94/612794/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/haproxy.pp', 'releasenotes/notes/opendaylight_websocket_healthcheck-4904390048aa3d4c.yaml']",2,fa20d5f857e6ebb328971b62d0dea17d4e0ce652,bug/1803557,"--- fixes: - | Adds a more accurate health check for OpenDaylight websocket with HA Proxy. The previous health check only checked if the TCP port was open, the new check ensures that a websocket connection can be opened to the desired URL. ",,17,0
openstack%2Fpuppet-tripleo~master~Iaf50fc13f103f832567f3ed12225d38a113c3291,openstack/puppet-tripleo,master,Iaf50fc13f103f832567f3ed12225d38a113c3291,WIP DNR Unify rabbitmq bind mounts,ABANDONED,2018-09-27 06:48:28.000000000,2019-07-31 21:00:26.000000000,,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-27 06:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/af91c2e95da6e25978484d1bc3ebfae5be85d183', 'message': 'WIP DNR Unify rabbitmq bind mounts\n\nDepends-On: Ib6e49523dc0b25d167c68595ec976f4724ac48cb\nChange-Id: Iaf50fc13f103f832567f3ed12225d38a113c3291\n'}, {'number': 2, 'created': '2018-10-03 06:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ad02985fbae4a9b5006644002af28d4c0b130425', 'message': 'WIP DNR Unify rabbitmq bind mounts\n\nDepends-On: Ib6e49523dc0b25d167c68595ec976f4724ac48cb\nChange-Id: Iaf50fc13f103f832567f3ed12225d38a113c3291\n'}, {'number': 3, 'created': '2018-11-16 07:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/fdbeee48536ceb6b0edadfda3b2f3d7ba8a8bf7b', 'message': 'WIP DNR Unify rabbitmq bind mounts\n\nChange-Id: Iaf50fc13f103f832567f3ed12225d38a113c3291\n'}, {'number': 4, 'created': '2018-11-17 17:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6e5bb6ae91499b021f04cfa2dbf68faf8cc054c6', 'message': 'WIP DNR Unify rabbitmq bind mounts\n\nChange-Id: Iaf50fc13f103f832567f3ed12225d38a113c3291\n'}, {'number': 5, 'created': '2018-11-17 20:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3768285d6434de43671b90f240556510ef82e85c', 'message': 'WIP DNR Unify rabbitmq bind mounts\n\nChange-Id: Iaf50fc13f103f832567f3ed12225d38a113c3291\n'}, {'number': 6, 'created': '2018-11-17 21:35:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ab8d04327cfa5c7ba3a560aa3fc68c2058c3c158', 'message': 'WIP DNR Unify rabbitmq bind mounts\n\nChange-Id: Iaf50fc13f103f832567f3ed12225d38a113c3291\n'}, {'number': 7, 'created': '2018-11-18 07:08:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/724ae93b61039cc5faa3aacc2ac0a6173d78ff37', 'message': 'WIP DNR Unify rabbitmq bind mounts\n\nWe eventually want to avoid hard-coding the list of bind mounts used in\nthe rabbitmq bundle. In the same spirit as done for the cinder services,\nwe add two class parameters that can override volumes and environment\nvariable. If unset nothing will change as to the current status. A THT\npatch will set those parameters so volumes can be defined and overridden\n(and customized) via THT.\n\nChange-Id: Iaf50fc13f103f832567f3ed12225d38a113c3291\n'}, {'number': 8, 'created': '2018-12-12 09:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/016c4bb8f4f4c20461c697e9819dfe9f99a3f377', 'message': 'WIP DNR Unify rabbitmq bind mounts\n\nWe eventually want to avoid hard-coding the list of bind mounts used in\nthe rabbitmq bundle. In the same spirit as done for the cinder services,\nwe add two class parameters that can override volumes and environment\nvariable. If unset nothing will change as to the current status. A THT\npatch will set those parameters so volumes can be defined and overridden\n(and customized) via THT.\n\nChange-Id: Iaf50fc13f103f832567f3ed12225d38a113c3291\n'}, {'number': 9, 'created': '2019-01-30 15:11:14.000000000', 'files': ['manifests/profile/pacemaker/rabbitmq_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/25fb5b04d7ae290addbb33a9eb367b6dac391b44', 'message': 'WIP DNR Unify rabbitmq bind mounts\n\nWe eventually want to avoid hard-coding the list of bind mounts used in\nthe rabbitmq bundle. In the same spirit as done for the cinder services,\nwe add two class parameters that can override volumes and environment\nvariable. If unset nothing will change as to the current status. A THT\npatch will set those parameters so volumes can be defined and overridden\n(and customized) via THT.\n\nChange-Id: Iaf50fc13f103f832567f3ed12225d38a113c3291\n'}]",0,605599,25fb5b04d7ae290addbb33a9eb367b6dac391b44,37,4,9,20172,,,0,"WIP DNR Unify rabbitmq bind mounts

We eventually want to avoid hard-coding the list of bind mounts used in
the rabbitmq bundle. In the same spirit as done for the cinder services,
we add two class parameters that can override volumes and environment
variable. If unset nothing will change as to the current status. A THT
patch will set those parameters so volumes can be defined and overridden
(and customized) via THT.

Change-Id: Iaf50fc13f103f832567f3ed12225d38a113c3291
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/99/605599/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/rabbitmq_bundle.pp'],1,af91c2e95da6e25978484d1bc3ebfae5be85d183,unify-ha-bindmounts,"# [*docker_volumes*] # (Optional) The list of volumes to be mounted in the docker container # Defaults to [] # # [*docker_environment*] # (Optional) The list of environment variables set in the docker container # Defaults to ['KOLLA_CONFIG_STRATEGY=COPY_ALWAYS'] # $docker_volumes = [], $docker_environment = ['KOLLA_CONFIG_STRATEGY=COPY_ALWAYS'], $docker_vol_arr = delete(any2array($docker_volumes), '').flatten() unless empty($docker_vol_arr) { $storage_maps_real = docker_volumes_to_storage_maps($docker_vol_arr, 'rabbitmq') } else { notice('Using fixed list of docker volumes for cinder-volume bundle') # Default to previous hard-coded list $storage_maps = { 'rabbitmq-cfg-files' => { 'source-dir' => '/var/lib/kolla/config_files/rabbitmq.json', 'target-dir' => '/var/lib/kolla/config_files/config.json', 'rabbitmq-cfg-data' => { 'source-dir' => '/var/lib/config-data/puppet-generated/rabbitmq/', 'target-dir' => '/var/lib/kolla/config_files/src', 'rabbitmq-hosts' => { 'source-dir' => '/etc/hosts', 'target-dir' => '/etc/hosts', 'options' => 'ro', }, 'rabbitmq-localtime' => { 'source-dir' => '/etc/localtime', 'target-dir' => '/etc/localtime', 'options' => 'ro', }, 'rabbitmq-lib' => { 'source-dir' => '/var/lib/rabbitmq', 'target-dir' => '/var/lib/rabbitmq', 'options' => 'rw', }, 'rabbitmq-pki-extracted' => { 'source-dir' => '/etc/pki/ca-trust/extracted', 'target-dir' => '/etc/pki/ca-trust/extracted', 'options' => 'ro', }, 'rabbitmq-pki-ca-bundle-crt' => { 'source-dir' => '/etc/pki/tls/certs/ca-bundle.crt', 'target-dir' => '/etc/pki/tls/certs/ca-bundle.crt', 'options' => 'ro', }, 'rabbitmq-pki-ca-bundle-trust-crt' => { 'source-dir' => '/etc/pki/tls/certs/ca-bundle.trust.crt', 'target-dir' => '/etc/pki/tls/certs/ca-bundle.trust.crt', 'options' => 'ro', }, 'rabbitmq-pki-cert' => { 'source-dir' => '/etc/pki/tls/cert.pem', 'target-dir' => '/etc/pki/tls/cert.pem', 'options' => 'ro', }, 'rabbitmq-log' => { 'source-dir' => '/var/log/containers/rabbitmq', 'target-dir' => '/var/log/rabbitmq', 'options' => 'rw', }, 'rabbitmq-dev-log' => { 'source-dir' => '/dev/log', 'target-dir' => '/dev/log', 'options' => 'rw', }, } if $enable_internal_tls { $storage_maps_tls = { 'rabbitmq-pki-cert' => { 'source-dir' => '/etc/pki/tls/certs/rabbitmq.crt', 'target-dir' => '/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/rabbitmq.crt', 'options' => 'ro', }, 'rabbitmq-pki-key' => { 'source-dir' => '/etc/pki/tls/private/rabbitmq.key', 'target-dir' => '/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/rabbitmq.key', 'options' => 'ro', }, } } else { $storage_maps_tls = {} } $storage_maps_real = merge($storage_maps, $storage_maps_tls) options => ""--user=root --log-driver=journald ${docker_env}"", storage_maps => $storage_maps_real,"," $storage_maps = { 'rabbitmq-cfg-files' => { 'source-dir' => '/var/lib/kolla/config_files/rabbitmq.json', 'target-dir' => '/var/lib/kolla/config_files/config.json', 'options' => 'ro', }, 'rabbitmq-cfg-data' => { 'source-dir' => '/var/lib/config-data/puppet-generated/rabbitmq/', 'target-dir' => '/var/lib/kolla/config_files/src', 'options' => 'ro', }, 'rabbitmq-hosts' => { 'source-dir' => '/etc/hosts', 'target-dir' => '/etc/hosts', 'options' => 'ro', }, 'rabbitmq-localtime' => { 'source-dir' => '/etc/localtime', 'target-dir' => '/etc/localtime', 'options' => 'ro', }, 'rabbitmq-lib' => { 'source-dir' => '/var/lib/rabbitmq', 'target-dir' => '/var/lib/rabbitmq', 'options' => 'rw', }, 'rabbitmq-pki-extracted' => { 'source-dir' => '/etc/pki/ca-trust/extracted', 'target-dir' => '/etc/pki/ca-trust/extracted', 'options' => 'ro', }, 'rabbitmq-pki-ca-bundle-crt' => { 'source-dir' => '/etc/pki/tls/certs/ca-bundle.crt', 'target-dir' => '/etc/pki/tls/certs/ca-bundle.crt', 'options' => 'ro', }, 'rabbitmq-pki-ca-bundle-trust-crt' => { 'source-dir' => '/etc/pki/tls/certs/ca-bundle.trust.crt', 'target-dir' => '/etc/pki/tls/certs/ca-bundle.trust.crt', 'options' => 'ro', }, 'rabbitmq-pki-cert' => { 'source-dir' => '/etc/pki/tls/cert.pem', 'target-dir' => '/etc/pki/tls/cert.pem', 'options' => 'ro', }, 'rabbitmq-log' => { 'source-dir' => '/var/log/containers/rabbitmq', 'target-dir' => '/var/log/rabbitmq', 'options' => 'rw', }, 'rabbitmq-dev-log' => { 'source-dir' => '/dev/log', 'target-dir' => '/dev/log', 'options' => 'rw', }, } if $enable_internal_tls { $storage_maps_tls = { 'rabbitmq-pki-cert' => { 'source-dir' => '/etc/pki/tls/certs/rabbitmq.crt', 'target-dir' => '/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/rabbitmq.crt', 'rabbitmq-pki-key' => { 'source-dir' => '/etc/pki/tls/private/rabbitmq.key', 'target-dir' => '/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/rabbitmq.key', } } else { $storage_maps_tls = {} options => '--user=root --log-driver=journald -e KOLLA_CONFIG_STRATEGY=COPY_ALWAYS', storage_maps => merge($storage_maps, $storage_maps_tls),",88,70
openstack%2Fpuppet-tripleo~master~I9b32890717d7ddebcc282736bee60360834930d4,openstack/puppet-tripleo,master,I9b32890717d7ddebcc282736bee60360834930d4,WIP cinder-* bundles and manila-share to not need to be run as root,ABANDONED,2018-07-04 10:36:18.000000000,2019-07-31 20:57:00.000000000,,"[{'_account_id': 4523}, {'_account_id': 6413}, {'_account_id': 6926}, {'_account_id': 8871}, {'_account_id': 9003}, {'_account_id': 9535}, {'_account_id': 10237}, {'_account_id': 16643}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-04 10:36:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/78c6171522ec444b0d939d65d828d5c0756255d0', 'message': 'WIP cinder-* bundles to not need to be run as root\n\nCinder bundles do not need to be run as root as they already\nuser the cinder user by default. This change should be fine\neven in an update because we explicitely chown the logs to the\ncinder-user inside the container:\n- cinder-volume [1]\n- cinder-backup [2]\n\nNote that other bundles like (redis/rabbit/galera drop their privileges\nautomatically so this is not needed)\n\n[1] https://github.com/openstack/tripleo-heat-templates/blob/master/docker/services/pacemaker/cinder-volume.yaml#L176\n[2] https://github.com/openstack/tripleo-heat-templates/blob/master/docker/services/pacemaker/cinder-backup.yaml#L182\n\nWIP as this needs some testing and discussion around manila-share/ovn\nbundles\n\nChange-Id: I9b32890717d7ddebcc282736bee60360834930d4\nCo-Authored-By: Alan Bishop <abishop@redhat.com>\n'}, {'number': 2, 'created': '2018-07-04 10:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/38e7a3b6cb063170d9a45c55671ef08c95b35c12', 'message': 'WIP cinder-* bundles and manila-share to not need to be run as root\n\nCinder bundles do not need to be run as root as they already\nuser the cinder user by default. This change should be fine\neven in an update because we explicitely chown the logs to the\ncinder-user inside the container:\n- cinder-volume [1]\n- cinder-backup [2]\n- manila-share [3]\n\nNote that other bundles like (redis/rabbit/galera drop their privileges\nautomatically so this is not needed)\n\n[1] https://github.com/openstack/tripleo-heat-templates/blob/master/docker/services/pacemaker/cinder-volume.yaml#L176\n[2] https://github.com/openstack/tripleo-heat-templates/blob/master/docker/services/pacemaker/cinder-backup.yaml#L182\n[3] https://github.com/openstack/tripleo-heat-templates/blob/master/docker/services/pacemaker/manila-share.yaml#L152\n\nWIP as this needs some testing and discussion around ovn bundles\n\nChange-Id: I9b32890717d7ddebcc282736bee60360834930d4\nCo-Authored-By: Alan Bishop <abishop@redhat.com>\n'}, {'number': 3, 'created': '2018-07-04 20:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/387701c0703de06a8046d40944f70069ea2b9f13', 'message': 'WIP cinder-* bundles and manila-share to not need to be run as root\n\nCinder bundles do not need to be run as root as they already\nuser the cinder user by default. This change should be fine\neven in an update because we explicitely chown the logs to the\ncinder-user inside the container:\n- cinder-volume [1]\n- cinder-backup [2]\n- manila-share [3]\n\nNote that other bundles like (redis/rabbit/galera drop their privileges\nautomatically so this is not needed)\n\n[1] https://github.com/openstack/tripleo-heat-templates/blob/master/docker/services/pacemaker/cinder-volume.yaml#L176\n[2] https://github.com/openstack/tripleo-heat-templates/blob/master/docker/services/pacemaker/cinder-backup.yaml#L182\n[3] https://github.com/openstack/tripleo-heat-templates/blob/master/docker/services/pacemaker/manila-share.yaml#L152\n\nWIP as this needs some testing and discussion around ovn bundles\n\nChange-Id: I9b32890717d7ddebcc282736bee60360834930d4\nCo-Authored-By: Alan Bishop <abishop@redhat.com>\n'}, {'number': 4, 'created': '2018-07-13 07:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/949809b67aefa76c27126642f66664c4f6045f2e', 'message': 'WIP cinder-* bundles and manila-share to not need to be run as root\n\nCinder bundles do not need to be run as root as they already\nuser the cinder user by default. This change should be fine\neven in an update because we explicitely chown the logs to the\ncinder-user inside the container:\n- cinder-volume [1]\n- cinder-backup [2]\n- manila-share [3]\n\nNote that other bundles like (redis/rabbit/galera drop their privileges\nautomatically so this is not needed)\n\n[1] https://github.com/openstack/tripleo-heat-templates/blob/master/docker/services/pacemaker/cinder-volume.yaml#L176\n[2] https://github.com/openstack/tripleo-heat-templates/blob/master/docker/services/pacemaker/cinder-backup.yaml#L182\n[3] https://github.com/openstack/tripleo-heat-templates/blob/master/docker/services/pacemaker/manila-share.yaml#L152\n\nWIP as this needs some testing and discussion around ovn bundles\n\nCloses-Bug: #582456\n\nDepends-On: Ia8a87b7dad3b0c2932d8f770d5d76842609a377f\nChange-Id: I9b32890717d7ddebcc282736bee60360834930d4\nCo-Authored-By: Alan Bishop <abishop@redhat.com>\n'}, {'number': 5, 'created': '2018-07-13 07:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3a156dda8fafc20d11513f303c3a3fc0e54fc27f', 'message': 'WIP cinder-* bundles and manila-share to not need to be run as root\n\nCinder bundles do not need to be run as root as they already\nuser the cinder user by default. This change should be fine\neven in an update because we explicitely chown the logs to the\ncinder-user inside the container:\n- cinder-volume [1]\n- cinder-backup [2]\n- manila-share [3]\n\nNote that other bundles like (redis/rabbit/galera drop their privileges\nautomatically so this is not needed)\n\n[1] https://github.com/openstack/tripleo-heat-templates/blob/master/docker/services/pacemaker/cinder-volume.yaml#L176\n[2] https://github.com/openstack/tripleo-heat-templates/blob/master/docker/services/pacemaker/cinder-backup.yaml#L182\n[3] https://github.com/openstack/tripleo-heat-templates/blob/master/docker/services/pacemaker/manila-share.yaml#L152\n\nWIP as this needs some testing and discussion around ovn bundles\n\nCloses-Bug: #582456\n\nDepends-On: Ia8a87b7dad3b0c2932d8f770d5d76842609a377f\nChange-Id: I9b32890717d7ddebcc282736bee60360834930d4\nCo-Authored-By: Alan Bishop <abishop@redhat.com>\n'}, {'number': 6, 'created': '2018-07-13 08:29:05.000000000', 'files': ['spec/classes/tripleo_profile_pacemaker_cinder_backup_bundle_spec.rb', 'spec/classes/tripleo_profile_pacemaker_cinder_volume_bundle_spec.rb', 'manifests/profile/pacemaker/cinder/volume_bundle.pp', 'manifests/profile/pacemaker/manila/share_bundle.pp', 'manifests/profile/pacemaker/cinder/backup_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2a00928b8993aa965472074f3e32b1f5b43c9875', 'message': 'WIP cinder-* bundles and manila-share to not need to be run as root\n\nCinder bundles do not need to be run as root as they already\nuser the cinder user by default. This change should be fine\neven in an update because we explicitely chown the logs to the\ncinder-user inside the container:\n- cinder-volume [1]\n- cinder-backup [2]\n- manila-share [3]\n\nNote that other bundles like (redis/rabbit/galera drop their privileges\nautomatically so this is not needed)\n\n[1] https://github.com/openstack/tripleo-heat-templates/blob/master/docker/services/pacemaker/cinder-volume.yaml#L176\n[2] https://github.com/openstack/tripleo-heat-templates/blob/master/docker/services/pacemaker/cinder-backup.yaml#L182\n[3] https://github.com/openstack/tripleo-heat-templates/blob/master/docker/services/pacemaker/manila-share.yaml#L152\n\nWIP as this needs some testing and discussion around ovn bundles\n\nThe depends-on will take care of changing ownership at the start of\nthe bundle (via kolla_start) mechanism.\n\nCloses-Bug: #582456\n\nDepends-On: Ia8a87b7dad3b0c2932d8f770d5d76842609a377f\nChange-Id: I9b32890717d7ddebcc282736bee60360834930d4\nCo-Authored-By: Alan Bishop <abishop@redhat.com>\n'}]",0,580127,2a00928b8993aa965472074f3e32b1f5b43c9875,28,13,6,20172,,,0,"WIP cinder-* bundles and manila-share to not need to be run as root

Cinder bundles do not need to be run as root as they already
user the cinder user by default. This change should be fine
even in an update because we explicitely chown the logs to the
cinder-user inside the container:
- cinder-volume [1]
- cinder-backup [2]
- manila-share [3]

Note that other bundles like (redis/rabbit/galera drop their privileges
automatically so this is not needed)

[1] https://github.com/openstack/tripleo-heat-templates/blob/master/docker/services/pacemaker/cinder-volume.yaml#L176
[2] https://github.com/openstack/tripleo-heat-templates/blob/master/docker/services/pacemaker/cinder-backup.yaml#L182
[3] https://github.com/openstack/tripleo-heat-templates/blob/master/docker/services/pacemaker/manila-share.yaml#L152

WIP as this needs some testing and discussion around ovn bundles

The depends-on will take care of changing ownership at the start of
the bundle (via kolla_start) mechanism.

Closes-Bug: #582456

Depends-On: Ia8a87b7dad3b0c2932d8f770d5d76842609a377f
Change-Id: I9b32890717d7ddebcc282736bee60360834930d4
Co-Authored-By: Alan Bishop <abishop@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/27/580127/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/pacemaker/cinder/volume_bundle.pp', 'manifests/profile/pacemaker/cinder/backup_bundle.pp']",2,78c6171522ec444b0d939d65d828d5c0756255d0,bundles-nonroot," options => ""--ipc=host --privileged=true --log-driver=journald ${docker_env}"","," options => ""--ipc=host --privileged=true --user=root --log-driver=journald ${docker_env}"",",2,2
openstack%2Fpuppet-manila~master~I99fe50cb5e112bcad85494dc755725d3444f717b,openstack/puppet-manila,master,I99fe50cb5e112bcad85494dc755725d3444f717b,Support cephfs_ganesha_export_ips parameter,MERGED,2019-07-22 19:22:26.000000000,2019-07-31 20:55:53.000000000,2019-07-31 20:55:53.000000000,"[{'_account_id': 3153}, {'_account_id': 9003}, {'_account_id': 14985}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 19:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/0a8000a52cd31673d7b4dd25c8a22e3a2a71d967', 'message': 'Support cephfs_ganesha_export_ips parameter\n\nManila now [1] supports configuring a list of IP addresses\nor hostnames on which NFS-ganesha will listen for mounts and\nprovide NFS service.\n\nExpose this parameter in the backend manifests for manila with\nCephFS.\n\n[1] https://review.opendev.org/#/c/670510\nChange-Id: I99fe50cb5e112bcad85494dc755725d3444f717b\n'}, {'number': 2, 'created': '2019-07-22 20:29:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/b90b449d65c999f494866014c18dd5ad1b948a9d', 'message': 'Support cephfs_ganesha_export_ips parameter\n\nManila now [1] supports configuring a list of IP addresses\nor hostnames on which NFS-ganesha will listen for mounts and\nprovide NFS service.\n\nExpose this parameter in the backend manifests for manila with\nCephFS.\n\n[1] https://review.opendev.org/#/c/670510\nChange-Id: I99fe50cb5e112bcad85494dc755725d3444f717b\n'}, {'number': 3, 'created': '2019-07-23 11:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/2b514251ce1fb194b735ae592364f0f57272e21b', 'message': 'Support cephfs_ganesha_export_ips parameter\n\nManila now [1] supports configuring a list of IP addresses\nor hostnames on which NFS-ganesha will listen for mounts and\nprovide NFS service.\n\nExpose this parameter in the backend manifests for manila with\nCephFS.\n\n[1] https://review.opendev.org/#/c/670510\nChange-Id: I99fe50cb5e112bcad85494dc755725d3444f717b\n'}, {'number': 4, 'created': '2019-07-23 14:14:41.000000000', 'files': ['releasenotes/notes/add-cephfs_ganesha_export_ips-parameter-e13d48ae6969bba3.yaml', 'manifests/backend/cephfs.pp', 'spec/defines/manila_backend_cephfs_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/97e1dab0dd15f3be02b12008019c94a6b4ee9312', 'message': 'Support cephfs_ganesha_export_ips parameter\n\nManila now [1] supports configuring a list of IP addresses\nor hostnames on which NFS-ganesha will listen for mounts and\nprovide NFS service.\n\nExpose this parameter in the backend manifests for manila with\nCephFS.\n\n[1] https://review.opendev.org/#/c/670510\nChange-Id: I99fe50cb5e112bcad85494dc755725d3444f717b\n'}]",2,672148,97e1dab0dd15f3be02b12008019c94a6b4ee9312,20,5,4,9003,,,0,"Support cephfs_ganesha_export_ips parameter

Manila now [1] supports configuring a list of IP addresses
or hostnames on which NFS-ganesha will listen for mounts and
provide NFS service.

Expose this parameter in the backend manifests for manila with
CephFS.

[1] https://review.opendev.org/#/c/670510
Change-Id: I99fe50cb5e112bcad85494dc755725d3444f717b
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/48/672148/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backend/cephfs.pp', 'spec/defines/manila_backend_cephfs_spec.rb']",2,0a8000a52cd31673d7b4dd25c8a22e3a2a71d967,CephFS-NFS-IPv6," :cephfs_ganesha_export_ips => '10.0.0.1,1001::1001' '10.0.0.1,1001::1001') is_expected.to contain_manila_config('cephfs/cephfs_ganesha_export_ips').with_value( '10.0.0.1,')", '10.0.0.1'),10,1
openstack%2Ftripleo-quickstart~master~Ia35d16e59db2565accc4d6ba2a25ab607d70a4f3,openstack/tripleo-quickstart,master,Ia35d16e59db2565accc4d6ba2a25ab607d70a4f3,Add single minion node config,MERGED,2019-05-30 22:42:04.000000000,2019-07-31 20:47:05.000000000,2019-07-31 20:47:05.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 29755}]","[{'number': 1, 'created': '2019-05-30 22:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7bc893ec2ccce0ab5963b507d17f46e171ed942b', 'message': 'Add single minion node config\n\nChange-Id: Ia35d16e59db2565accc4d6ba2a25ab607d70a4f3\nRelated-Blueprint: undercloud-minion\n'}, {'number': 2, 'created': '2019-05-31 21:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f5eca37ab0a59027cc255253e3b02c4e0f249a1d', 'message': 'Add single minion node config\n\nChange-Id: Ia35d16e59db2565accc4d6ba2a25ab607d70a4f3\nRelated-Blueprint: undercloud-minion\n'}, {'number': 3, 'created': '2019-06-03 14:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/bd24b79fd54f1a4c8b36111dd6063ac3a812620a', 'message': 'Add single minion node config\n\nChange-Id: Ia35d16e59db2565accc4d6ba2a25ab607d70a4f3\nRelated-Blueprint: undercloud-minion\n'}, {'number': 4, 'created': '2019-06-03 16:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f43ee2d59fee22b7bc71fc6d988d5bc48be56ebe', 'message': 'Add single minion node config\n\nChange-Id: Ia35d16e59db2565accc4d6ba2a25ab607d70a4f3\nRelated-Blueprint: undercloud-minion\n'}, {'number': 5, 'created': '2019-06-03 22:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2cfd8dc7b65efebda5d3d1fcba20266d48cf017b', 'message': 'Add single minion node config\n\nChange-Id: Ia35d16e59db2565accc4d6ba2a25ab607d70a4f3\nRelated-Blueprint: undercloud-minion\n'}, {'number': 6, 'created': '2019-06-04 22:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/eb73e5e3b552d0c87836c2d310389ac2f2b096a3', 'message': 'Add single minion node config\n\nChange-Id: Ia35d16e59db2565accc4d6ba2a25ab607d70a4f3\nRelated-Blueprint: undercloud-minion\n'}, {'number': 7, 'created': '2019-06-05 13:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/be5fac825ca84dbd650a9cd6f0cacaacd81fe872', 'message': 'Add single minion node config\n\nChange-Id: Ia35d16e59db2565accc4d6ba2a25ab607d70a4f3\nRelated-Blueprint: undercloud-minion\n'}, {'number': 8, 'created': '2019-06-06 15:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0dffd8d7cb0518de43cbd4c46e542d2649afb340', 'message': 'Add single minion node config\n\nChange-Id: Ia35d16e59db2565accc4d6ba2a25ab607d70a4f3\nRelated-Blueprint: undercloud-minion\n'}, {'number': 9, 'created': '2019-06-28 19:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/495c3496a635530cbc533a20edc19a026671e0b1', 'message': 'Add single minion node config\n\nChange-Id: Ia35d16e59db2565accc4d6ba2a25ab607d70a4f3\nRelated-Blueprint: undercloud-minion\n'}, {'number': 10, 'created': '2019-07-23 15:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2720b420840f05c128f113a7486fd4f92d58e258', 'message': 'Add single minion node config\n\nChange-Id: Ia35d16e59db2565accc4d6ba2a25ab607d70a4f3\nRelated-Blueprint: undercloud-minion\n'}, {'number': 11, 'created': '2019-07-23 19:04:33.000000000', 'files': ['config/nodes/1minion.yml', 'config/general_config/featureset061.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/831cc07dd97f2e3466749f2df6eb6a670761487b', 'message': 'Add single minion node config\n\nChange-Id: Ia35d16e59db2565accc4d6ba2a25ab607d70a4f3\nRelated-Blueprint: undercloud-minion\n'}]",3,662349,831cc07dd97f2e3466749f2df6eb6a670761487b,44,11,11,14985,,,0,"Add single minion node config

Change-Id: Ia35d16e59db2565accc4d6ba2a25ab607d70a4f3
Related-Blueprint: undercloud-minion
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/49/662349/6 && git format-patch -1 --stdout FETCH_HEAD,"['config/nodes/1minion.yml', 'config/general_config/featureset061.yml']",2,7bc893ec2ccce0ab5963b507d17f46e171ed942b,bp/undercloud-minion,"####################################### # FEATURESET061 - Undercloud + Minion # ####################################### extra_args: '' network_isolation: false enable_pacemaker: false overcloud_ipv6: false undercloud_check_sanity: true # containers config containerized_overcloud: false containerized_undercloud: true undercloud_templates_path: /usr/share/openstack-tripleo-heat-templates undercloud_custom_env_files: ""{{ working_dir }}/undercloud-parameter-defaults.yaml"" undercloud_cloud_domain: ""localdomain"" undercloud_undercloud_hostname: ""undercloud.{{ undercloud_cloud_domain }}"" undercloud_undercloud_public_host: ""{{ ansible_fqdn }}-unique"" tripleo_set_unique_hostname: true undercloud_resource_registry_args: ""OS::TripleO::Undercloud::Net::SoftwareConfig"": ""{{ undercloud_templates_path }}/net-config-undercloud.yaml"" # turn off image prep step_overcloud_image: false step_glance_upload: false step_register: false step_root_device_size: false step_root_device_hints: false step_introspect: false # TODO(aschultz): enable ssl once it works # This enables TLS for the undercloud which will also make haproxy bind to the # configured public-vip and admin-vip. undercloud_generate_service_certificate: false undercloud_enable_swift_encryption: false # options below direct automatic doc generation by tripleo-collect-logs artcl_gen_docs: true artcl_create_docs_payload: included_deployment_scripts: - undercloud-deploy - overcloud-custom-tht-script - overcloud-prep-containers - overcloud-prep-flavors - overcloud-prep-images - overcloud-prep-network - tempest-setup - ""{% if run_tempest|bool and tempest_format|default('packages') == 'containers' -%}tempest_container{%- endif -%}"" included_static_docs: - env-setup-virt table_of_contents: - env-setup-virt - undercloud-deploy - overcloud-custom-tht-script - overcloud-prep-containers - overcloud-prep-flavors - overcloud-prep-images - overcloud-prep-network - tempest-setup - ""{% if run_tempest|bool and tempest_format|default('packages') == 'containers' -%}tempest_container{%- endif -%}"" # Tempest configuration, keep always at the end of the file # If `run_tempest` is `true`, run tempests tests, otherwise do not # run them. test_ping: false run_tempest: true test_regex: '' # Enable tempest container undercloud_enable_tempest: true # Run tempest in containers when at least undercloud is containerized tempest_format: container tempest_undercloud: true tempest_overcloud: false tempest_whitelist: {{ tempest_whitelist_uc }} # default tempest tests for UC tempest_whitelist_uc: - 'tempest.api.identity' - 'tempest.api.image.v2.test_images.BasicOperationsImagesTest' - 'tempest.api.image.v2.test_images_tags_negative.ImagesTagsNegativeTest' - 'tempest.api.image.v2.test_images_member_negative.ImagesMemberNegativeTest' - 'tempest.api.compute.admin.test_flavors' - 'tempest.api.compute.flavors' - 'tempest.api.compute.keypairs' - 'tempest.api.compute.admin.test_quotas' - 'tempest.api.compute.admin.test_aggregates_negative' - 'tempest.api.compute.security_groups' - 'tempest.api.network.test_networks' - 'tempest.api.network.test_networks_negative' - 'tempest.api.network.test_security_groups_negative' - 'tempest.api.network.test_ports' - 'tempest.api.network.test_routers_negative' test_black_regex: [] undercloud_container_cli: podman ",,114,0
openstack%2Fdevstack~stable%2Fpike~Ia001badca179c3f3436d5ecd26b0755a3f3a3078,openstack/devstack,stable/pike,Ia001badca179c3f3436d5ecd26b0755a3f3a3078,zuul job: write the enable_plugin lines last,MERGED,2019-07-30 07:45:44.000000000,2019-07-31 20:45:17.000000000,2019-07-31 20:45:17.000000000,"[{'_account_id': 7118}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 07:45:44.000000000', 'files': ['roles/write-devstack-local-conf/library/devstack_local_conf.py'], 'web_link': 'https://opendev.org/openstack/devstack/commit/38edaa3ba60b3500e2f3199cf16dcfc8c7c89fe8', 'message': 'zuul job: write the enable_plugin lines last\n\nPlugins must be the last items in the local.conf file\notherwise the configuration set in the rest of the file\nis not applied to them (for example a different value of DEST.)\n\nChange-Id: Ia001badca179c3f3436d5ecd26b0755a3f3a3078\n(cherry picked from commit 610927f4255f0ed4877a3e85d628202e4af2f7d4)\n'}]",0,673432,38edaa3ba60b3500e2f3199cf16dcfc8c7c89fe8,15,3,1,10459,,,0,"zuul job: write the enable_plugin lines last

Plugins must be the last items in the local.conf file
otherwise the configuration set in the rest of the file
is not applied to them (for example a different value of DEST.)

Change-Id: Ia001badca179c3f3436d5ecd26b0755a3f3a3078
(cherry picked from commit 610927f4255f0ed4877a3e85d628202e4af2f7d4)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/32/673432/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/write-devstack-local-conf/library/devstack_local_conf.py'],1,38edaa3ba60b3500e2f3199cf16dcfc8c7c89fe8,," # Plugins must be the last items in localrc, otherwise # the configuration lines which follows them in the file are # not applied to the plugins (for example, the value of DEST.) if plugins: self.handle_plugins(plugins)", if plugins: self.handle_plugins(plugins),5,2
openstack%2Fnova~master~Iccda422a3900821ca5476d8888e935568884f321,openstack/nova,master,Iccda422a3900821ca5476d8888e935568884f321,neutron: log something more useful in _get_instance_nw_info,MERGED,2019-07-30 21:24:50.000000000,2019-07-31 20:45:13.000000000,2019-07-31 20:45:13.000000000,"[{'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-30 21:24:50.000000000', 'files': ['nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/72b979f92cb71b4b417e7be03e2377cacc449ea9', 'message': 'neutron: log something more useful in _get_instance_nw_info\n\nThis method is currently logging something like this:\n\n  Jul 30 20:47:58 devstack nova-compute[23811]: DEBUG \\\n  nova.network.neutronv2.api [None req-1bba63ae-86d8-4a97-be63-18f18c9ae662 \\\n  None None] [instance: 3e0a7f65-34ac-4d73-83ed-96d36fdefd54] \\\n  _get_instance_nw_info() {{(pid=23811) _get_instance_nw_info \\\n  /opt/stack/nova/nova/network/neutronv2/api.py:1751}}\n\nLogging the method name, which already gets logged, is not very\nuseful.\n\nThis change uses the parameters to the method to add some more useful\nlog messages.\n\nCurrently the only time force_refresh is True is when the\n_heal_instance_info_cache periodic task runs.\n\nCurrently refresh_vif_id is only ever not None when a network-changed\nevent is received with a particular port id in the event tag parameter.\n\nChange-Id: Iccda422a3900821ca5476d8888e935568884f321\n'}]",0,673694,72b979f92cb71b4b417e7be03e2377cacc449ea9,15,11,1,6873,,,0,"neutron: log something more useful in _get_instance_nw_info

This method is currently logging something like this:

  Jul 30 20:47:58 devstack nova-compute[23811]: DEBUG \
  nova.network.neutronv2.api [None req-1bba63ae-86d8-4a97-be63-18f18c9ae662 \
  None None] [instance: 3e0a7f65-34ac-4d73-83ed-96d36fdefd54] \
  _get_instance_nw_info() {{(pid=23811) _get_instance_nw_info \
  /opt/stack/nova/nova/network/neutronv2/api.py:1751}}

Logging the method name, which already gets logged, is not very
useful.

This change uses the parameters to the method to add some more useful
log messages.

Currently the only time force_refresh is True is when the
_heal_instance_info_cache periodic task runs.

Currently refresh_vif_id is only ever not None when a network-changed
event is received with a particular port id in the event tag parameter.

Change-Id: Iccda422a3900821ca5476d8888e935568884f321
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/673694/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/neutronv2/api.py'],1,72b979f92cb71b4b417e7be03e2377cacc449ea9,_get_instance_nw_info," if force_refresh: LOG.debug('Forcefully refreshing network info cache for instance', instance=instance) elif refresh_vif_id: LOG.debug('Refreshing network info cache for port %s', refresh_vif_id, instance=instance) else: LOG.debug('Building network info cache for instance', instance=instance)"," LOG.debug('_get_instance_nw_info()', instance=instance)",9,1
openstack%2Ftripleo-heat-templates~master~If6b4f9de29a9826921f81faef3688719b0ee9c25,openstack/tripleo-heat-templates,master,If6b4f9de29a9826921f81faef3688719b0ee9c25,Add ANSIBLE_CONFIG to Octavia Ansible playbook run,MERGED,2019-07-28 13:11:41.000000000,2019-07-31 20:41:36.000000000,2019-07-31 20:41:36.000000000,"[{'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-28 13:11:41.000000000', 'files': ['deployment/octavia/octavia-deployment-config.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3036ba174401dfb8d730d22271af3667e1bcb46c', 'message': 'Add ANSIBLE_CONFIG to Octavia Ansible playbook run\n\nChange-Id: If6b4f9de29a9826921f81faef3688719b0ee9c25\n'}]",0,673170,3036ba174401dfb8d730d22271af3667e1bcb46c,11,8,1,6469,,,0,"Add ANSIBLE_CONFIG to Octavia Ansible playbook run

Change-Id: If6b4f9de29a9826921f81faef3688719b0ee9c25
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/70/673170/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-deployment-config.j2.yaml'],1,3036ba174401dfb8d730d22271af3667e1bcb46c,," - - ANSIBLE_CONFIG=""{{playbook_dir}}/ansible.cfg"" ansible-playbook -i ""{{playbook_dir}}/octavia-ansible/inventory.yaml"""," - - ansible-playbook -i ""{{playbook_dir}}/octavia-ansible/inventory.yaml""",1,1
openstack%2Fopenstack-helm-infra~master~Ia2c53556be650899fdd67c1ec06f5c68ae63c9d4,openstack/openstack-helm-infra,master,Ia2c53556be650899fdd67c1ec06f5c68ae63c9d4,Provide option to switch between dpdk and non-dpdk,MERGED,2019-07-18 11:50:05.000000000,2019-07-31 20:38:22.000000000,2019-07-31 20:38:22.000000000,"[{'_account_id': 8898}, {'_account_id': 9963}, {'_account_id': 12281}, {'_account_id': 16077}, {'_account_id': 16353}, {'_account_id': 17068}, {'_account_id': 20466}, {'_account_id': 20469}, {'_account_id': 21883}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 29668}, {'_account_id': 29954}, {'_account_id': 30220}]","[{'number': 1, 'created': '2019-07-18 11:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/be07bfa98781d897882a64f75d2f966bfa93c41b', 'message': 'Provide option to switch between dpdk and non-dpdk\n\nWe can select if we want an image with dpdk support by adding:\n\nCONTAINER_DISTRO_VERSION=bionic-dpdk\n\nor\n\nCONTAINER_DISTRO_VERSION=15-dpdk\n\nThat way we can reuse the same script for different distros by using the\nscript openstack-helm/tools/deployment/common/get-values-overrides.sh\n\nChange-Id: Ia2c53556be650899fdd67c1ec06f5c68ae63c9d4\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 2, 'created': '2019-07-24 08:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f86a5b2586a1f512499e06050ff442cdffccfda4', 'message': 'Provide option to switch between dpdk and non-dpdk\n\nWe can select if we want an image with dpdk support by adding:\n\nFEATURE_GATES=dpdk\n\nThat way we can reuse the same script for different distros by using\nopenstack-helm/tools/deployment/common/get-values-overrides.sh\n\nChange-Id: Ia2c53556be650899fdd67c1ec06f5c68ae63c9d4\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 3, 'created': '2019-07-24 08:00:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5a3a067e43e7375e88a8eb5f39303da98d21b2f6', 'message': 'Provide option to switch between dpdk and non-dpdk\n\nWe can select if we want an image with dpdk support by adding:\n\nFEATURE_GATES=dpdk\n\nThat way we can reuse the same script for different distros by using\nopenstack-helm/tools/deployment/common/get-values-overrides.sh\n\nChange-Id: Ia2c53556be650899fdd67c1ec06f5c68ae63c9d4\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 4, 'created': '2019-07-24 11:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/719d22f28385f20de014aecb11a32d6e65b49080', 'message': 'Provide option to switch between dpdk and non-dpdk\n\nWe can select if we want an image with dpdk support by adding:\n\nFEATURE_GATES=dpdk\n\nThat way we can reuse the same script for different distros by using\nopenstack-helm/tools/deployment/common/get-values-overrides.sh\n\nChange-Id: Ia2c53556be650899fdd67c1ec06f5c68ae63c9d4\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 5, 'created': '2019-07-31 15:54:51.000000000', 'files': ['openvswitch/values_overrides/dpdk-opensuse_15.yaml', 'openvswitch/values_overrides/dpdk-ubuntu_bionic.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a71f1b4d3312cd281bf612d7934fa531441f8698', 'message': 'Provide option to switch between dpdk and non-dpdk\n\nWe can select if we want an image with dpdk support by adding:\n\nFEATURE_GATES=dpdk\n\nThat way we can reuse the same script for different distros by using\nopenstack-helm/tools/deployment/common/get-values-overrides.sh\n\nChange-Id: Ia2c53556be650899fdd67c1ec06f5c68ae63c9d4\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}]",1,671462,a71f1b4d3312cd281bf612d7934fa531441f8698,37,15,5,21883,,,0,"Provide option to switch between dpdk and non-dpdk

We can select if we want an image with dpdk support by adding:

FEATURE_GATES=dpdk

That way we can reuse the same script for different distros by using
openstack-helm/tools/deployment/common/get-values-overrides.sh

Change-Id: Ia2c53556be650899fdd67c1ec06f5c68ae63c9d4
Signed-off-by: Manuel Buil <mbuil@suse.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/62/671462/5 && git format-patch -1 --stdout FETCH_HEAD,"['openvswitch/values_overrides/rocky-opensuse_15-dpdk.yaml', 'openvswitch/values_overrides/rocky-ubuntu_bionic-dpdk.yaml']",2,be07bfa98781d897882a64f75d2f966bfa93c41b,,--- images: tags: openvswitch_db_server: docker.io/openstackhelm/openvswitch:latest-ubuntu_bionic-dpdk openvswitch_vswitchd: docker.io/openstackhelm/openvswitch:latest-ubuntu_bionic-dpdk ,,10,0
openstack%2Fpuppet-tripleo~master~Ic8ef0bcb3c9b789ef35bf82a60ed85785f0665f1,openstack/puppet-tripleo,master,Ic8ef0bcb3c9b789ef35bf82a60ed85785f0665f1,Wrap bind IP for docker registry if IPv6,ABANDONED,2018-03-20 16:04:01.000000000,2019-07-31 20:33:42.000000000,,"[{'_account_id': 1926}, {'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-03-20 16:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5a2e49620f742301a08b9f0b9fdf62d03046048c', 'message': 'Wrap bind IP for docker registry if IPv6\n\nChange-Id: Ic8ef0bcb3c9b789ef35bf82a60ed85785f0665f1\nCloses-Bug: #1755455\n'}, {'number': 2, 'created': '2018-03-26 11:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0ebb1aeec74af99cd0ed3fc7cc78c98749bca3f9', 'message': 'Wrap bind IP for docker registry if IPv6\n\nChange-Id: Ic8ef0bcb3c9b789ef35bf82a60ed85785f0665f1\nCloses-Bug: #1755455\n'}, {'number': 3, 'created': '2019-04-19 06:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/32d54b3a4db5c441a8cb798987a781d0c24c9fc4', 'message': 'Wrap bind IP for docker registry if IPv6\n\nChange-Id: Ic8ef0bcb3c9b789ef35bf82a60ed85785f0665f1\nCloses-Bug: #1755455\n'}, {'number': 4, 'created': '2019-04-26 20:10:02.000000000', 'files': ['templates/docker_distribution/registry_config.yml.erb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f79c7025203a24b0694d4eaa4124c3b7545c1f77', 'message': 'Wrap bind IP for docker registry if IPv6\n\nChange-Id: Ic8ef0bcb3c9b789ef35bf82a60ed85785f0665f1\nCloses-Bug: #1755455\n'}]",4,554608,f79c7025203a24b0694d4eaa4124c3b7545c1f77,41,8,4,1926,,,0,"Wrap bind IP for docker registry if IPv6

Change-Id: Ic8ef0bcb3c9b789ef35bf82a60ed85785f0665f1
Closes-Bug: #1755455
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/08/554608/4 && git format-patch -1 --stdout FETCH_HEAD,['templates/docker_distribution/registry_config.yml.erb'],1,5a2e49620f742301a08b9f0b9fdf62d03046048c,ipv6-prov,<% if @registry_host =~ /:/ -%> addr: [<%= @registry_host %>]:<%= @registry_port %> <% else -%><% end -%>,,4,0
openstack%2Fpuppet-openstack-integration~stable%2Frocky~I3f3bf2b13186d8f3708de0cc7221605d8fc56450,openstack/puppet-openstack-integration,stable/rocky,I3f3bf2b13186d8f3708de0cc7221605d8fc56450,Fix checkout for stable/mimic,MERGED,2019-07-31 16:51:22.000000000,2019-07-31 20:27:39.000000000,2019-07-31 20:27:39.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-31 16:51:22.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/aaf659f9d2754580fc0e2efe1f29cd0915db2f98', 'message': ""Fix checkout for stable/mimic\n\nSince puppet-ceph stable/mimic and puppet-pacemaker stable/0.7.x don't\nfollow the standard openstack conventions. So when the jobs try and\ncheckout the code, it is currently getting the master version which\ndoesn't work as expected. In order to fix this we need to specific the\nrocky/mimic branches explicitly in the zuul job config. We did something\nsimilar for stable/jewel in Ie11af4944178fa057a189f4e0c7e4809dc694b86\n\nChange-Id: I3f3bf2b13186d8f3708de0cc7221605d8fc56450\n""}]",0,673876,aaf659f9d2754580fc0e2efe1f29cd0915db2f98,7,2,1,14985,,,0,"Fix checkout for stable/mimic

Since puppet-ceph stable/mimic and puppet-pacemaker stable/0.7.x don't
follow the standard openstack conventions. So when the jobs try and
checkout the code, it is currently getting the master version which
doesn't work as expected. In order to fix this we need to specific the
rocky/mimic branches explicitly in the zuul job config. We did something
similar for stable/jewel in Ie11af4944178fa057a189f4e0c7e4809dc694b86

Change-Id: I3f3bf2b13186d8f3708de0cc7221605d8fc56450
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/76/673876/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,aaf659f9d2754580fc0e2efe1f29cd0915db2f98,fix-mimic-ci, branches: ^stable/(mimic|rocky|0.7x).*$ override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky override-checkout: stable/rocky,,42,0
openstack%2Freleases~master~Ia421ed500fbc15bf0088a8436ddeb5d8d1196256,openstack/releases,master,Ia421ed500fbc15bf0088a8436ddeb5d8d1196256,Release os-traits 0.16.0,MERGED,2019-07-29 13:52:48.000000000,2019-07-31 20:13:40.000000000,2019-07-31 20:13:40.000000000,"[{'_account_id': 308}, {'_account_id': 11564}, {'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 27614}]","[{'number': 1, 'created': '2019-07-29 13:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/254ffedad989c3df3e80933890d40c435342b243', 'message': 'Release os-traits 0.16.0\n\n...to pick up AVX512-VNNI trait from [1].\n\n[1] Id12ed38c1648b006c20cf5875a9b2ffe1690ecd6\n\nChange-Id: Ia421ed500fbc15bf0088a8436ddeb5d8d1196256\n'}, {'number': 2, 'created': '2019-07-30 13:52:00.000000000', 'files': ['deliverables/_independent/os-traits.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/11df3a66f32ceacd36174f72cd291da9d645e4c6', 'message': 'Release os-traits 0.16.0\n\n...to pick up AVX512-VNNI trait from [1] and live migrate flags from [2].\n\n[1] Id12ed38c1648b006c20cf5875a9b2ffe1690ecd6\n[2] I6afd7ef33edd5187c6242d0e0e58c871cb83250e\n\nChange-Id: Ia421ed500fbc15bf0088a8436ddeb5d8d1196256\n'}]",0,673294,11df3a66f32ceacd36174f72cd291da9d645e4c6,15,7,2,14070,,,0,"Release os-traits 0.16.0

...to pick up AVX512-VNNI trait from [1] and live migrate flags from [2].

[1] Id12ed38c1648b006c20cf5875a9b2ffe1690ecd6
[2] I6afd7ef33edd5187c6242d0e0e58c871cb83250e

Change-Id: Ia421ed500fbc15bf0088a8436ddeb5d8d1196256
",git fetch https://review.opendev.org/openstack/releases refs/changes/94/673294/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/os-traits.yaml'],1,254ffedad989c3df3e80933890d40c435342b243,os-traits_0.16.0,include-pypi-link: true - version: 0.16.0 projects: - repo: openstack/os-traits hash: 77c39a10378da572ac6400d9575137aec971a210,include-pypi-link: yes,5,1
openstack%2Fironic~master~I56c54e110bdacc9c4b8ab19b8a3a38b1b4e8ee66,openstack/ironic,master,I56c54e110bdacc9c4b8ab19b8a3a38b1b4e8ee66,DNM: test nova power-update event,ABANDONED,2019-07-23 16:46:43.000000000,2019-07-31 20:01:57.000000000,,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-23 16:46:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cc8292b29bd44f1ff7fda9341adb3adce54862db', 'message': 'DNM: test nova power-update event\n\nTests I6d105524e1645d9a40dfeae2850c33cf2d110826 with\nthe nova 2.75 microversion where ironic sends the power-update\nevent. This is needed to test the series of changes before\nthe novaclient change is released.\n\nChange-Id: I56c54e110bdacc9c4b8ab19b8a3a38b1b4e8ee66\n'}, {'number': 2, 'created': '2019-07-23 16:48:14.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'ironic/tests/unit/common/test_nova.py', 'ironic/common/nova.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f421d5f88e0bd4ab5ccca6280bc0dccc26887145', 'message': 'DNM: test nova power-update event\n\nTests I6d105524e1645d9a40dfeae2850c33cf2d110826 with\nthe nova 2.75 microversion where ironic sends the power-update\nevent. This is needed to test the series of changes before\nthe novaclient change is released.\n\nChange-Id: I56c54e110bdacc9c4b8ab19b8a3a38b1b4e8ee66\n'}]",1,672327,f421d5f88e0bd4ab5ccca6280bc0dccc26887145,9,5,2,6873,,,0,"DNM: test nova power-update event

Tests I6d105524e1645d9a40dfeae2850c33cf2d110826 with
the nova 2.75 microversion where ironic sends the power-update
event. This is needed to test the series of changes before
the novaclient change is released.

Change-Id: I56c54e110bdacc9c4b8ab19b8a3a38b1b4e8ee66
",git fetch https://review.opendev.org/openstack/ironic refs/changes/27/672327/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'ironic/tests/unit/common/test_nova.py', 'ironic/common/nova.py']",3,cc8292b29bd44f1ff7fda9341adb3adce54862db,bp/nova-support-instance-power-update, api_version = '2.75', api_version = '2.74',7,6
openstack%2Fopenstack-ansible-os_ironic~master~Ibc4859326c39e07411a55c03b95d106a5a563130,openstack/openstack-ansible-os_ironic,master,Ibc4859326c39e07411a55c03b95d106a5a563130,Add integrated coverage,MERGED,2019-05-20 10:33:22.000000000,2019-07-31 20:00:40.000000000,2019-07-12 17:09:43.000000000,"[{'_account_id': 1004}, {'_account_id': 17068}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-05-20 10:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/8a43aea3825d816785a52e5004fa0cfd0b99ec7a', 'message': ""Add integrated coverage\n\nCurrently this role doesn't test the integrated jobs.\n\nThis is a problem because it's not consistent with other jobs.\n\nChange-Id: Ibc4859326c39e07411a55c03b95d106a5a563130\n""}, {'number': 2, 'created': '2019-05-20 17:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/e1f530a786b3093d7c8f7bf2f1263339563e10b3', 'message': ""Add integrated coverage\n\nCurrently this role doesn't test the integrated jobs.\n\nThis is a problem because it's not consistent with other jobs.\n\nDepends-On: I2f992cb2396ac6198a5a5ab2348d7af96da6d77e\nChange-Id: Ibc4859326c39e07411a55c03b95d106a5a563130\n""}, {'number': 3, 'created': '2019-06-14 19:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/4f739512447140095ccd406d6f4ee3ef3f0b803a', 'message': ""Add integrated coverage\n\nCurrently this role doesn't test the integrated jobs.\n\nThis is a problem because it's not consistent with other jobs.\n\nDepends-On: I2f992cb2396ac6198a5a5ab2348d7af96da6d77e\nDepends-On: I89be92c55be9d892afc133d3a95a8227174d0b80\nChange-Id: Ibc4859326c39e07411a55c03b95d106a5a563130\n""}, {'number': 4, 'created': '2019-06-18 08:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/acd13e694843b1aa852063c8b02cbec0f8db7a91', 'message': ""Add integrated coverage\n\nCurrently this role doesn't test the integrated jobs.\n\nThis is a problem because it's not consistent with other jobs.\n\nDepends-On: I2f992cb2396ac6198a5a5ab2348d7af96da6d77e\nDepends-On: I89be92c55be9d892afc133d3a95a8227174d0b80\nChange-Id: Ibc4859326c39e07411a55c03b95d106a5a563130\n""}, {'number': 5, 'created': '2019-06-18 08:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/52014c1589cee522bfd5fe98b4fcf10a63544a1e', 'message': ""Add integrated coverage\n\nCurrently this role doesn't test the integrated jobs.\n\nThis is a problem because it's not consistent with other jobs.\n\nChange-Id: Ibc4859326c39e07411a55c03b95d106a5a563130\n""}, {'number': 6, 'created': '2019-06-18 08:36:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/d5258b882e66248f87d12af589d5d93cf4363f8a', 'message': ""Add integrated coverage\n\nCurrently this role doesn't test the integrated jobs.\n\nThis is a problem because it's not consistent with other jobs.\n\nChange-Id: Ibc4859326c39e07411a55c03b95d106a5a563130\n""}, {'number': 7, 'created': '2019-06-18 09:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/5ea4de08e9faade96d0a80666f7fd9ccc771d7c3', 'message': ""Add integrated coverage\n\nCurrently this role doesn't test the integrated jobs.\n\nThis is a problem because it's not consistent with other jobs.\n\nChange-Id: Ibc4859326c39e07411a55c03b95d106a5a563130\n""}, {'number': 8, 'created': '2019-06-27 13:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/bcb2e7af3460331d25372200b84c2f28876ddc7d', 'message': ""Add integrated coverage\n\nCurrently this role doesn't test the integrated jobs.\n\nThis is a problem because it's not consistent with other jobs.\n\nChange-Id: Ibc4859326c39e07411a55c03b95d106a5a563130\n""}, {'number': 9, 'created': '2019-06-28 06:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/d7a7ecf281ed2fc5038ce884fe253accf27b160c', 'message': ""Add integrated coverage\n\nCurrently this role doesn't test the integrated jobs.\n\nThis is a problem because it's not consistent with other jobs.\n\nChange-Id: Ibc4859326c39e07411a55c03b95d106a5a563130\n""}, {'number': 10, 'created': '2019-07-10 11:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/e0b62016e3910b4c68866abdeccf2a346c5595d0', 'message': ""Add integrated coverage\n\nCurrently this role doesn't test the integrated jobs.\n\nThis is a problem because it's not consistent with other jobs.\n\nDepends-On: https://review.opendev.org/670040\nChange-Id: Ibc4859326c39e07411a55c03b95d106a5a563130\n""}, {'number': 11, 'created': '2019-07-11 12:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/077daa9111cc57dbe3a765e7fa56a574947b5cf4', 'message': ""Add integrated coverage\n\nCurrently this role doesn't test the integrated jobs.\n\nThis is a problem because it's not consistent with other jobs.\n\nDepends-On: https://review.opendev.org/670294\nChange-Id: Ibc4859326c39e07411a55c03b95d106a5a563130\n""}, {'number': 12, 'created': '2019-07-11 12:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/807aef16600df48400592f47e378f5a5fb753826', 'message': ""Add integrated coverage\n\nCurrently this role doesn't test the integrated jobs.\n\nThis is a problem because it's not consistent with other jobs.\n\nDepends-On: https://review.opendev.org/670294\nChange-Id: Ibc4859326c39e07411a55c03b95d106a5a563130\n""}, {'number': 13, 'created': '2019-07-11 12:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/201e4fe014002ac1bb584f654c4bc84192ea5980', 'message': ""Add integrated coverage\n\nCurrently this role doesn't test the integrated jobs.\n\nThis is a problem because it's not consistent with other jobs.\n\nChange-Id: Ibc4859326c39e07411a55c03b95d106a5a563130\n""}, {'number': 14, 'created': '2019-07-11 15:37:51.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/1388c2abd06f29a91a7e575d92ccd0570a1d4fd2', 'message': ""Add integrated coverage\n\nCurrently this role doesn't test the integrated jobs.\n\nThis is a problem because it's not consistent with other jobs.\n\nChange-Id: Ibc4859326c39e07411a55c03b95d106a5a563130\n""}]",0,660083,1388c2abd06f29a91a7e575d92ccd0570a1d4fd2,38,5,14,17068,,,0,"Add integrated coverage

Currently this role doesn't test the integrated jobs.

This is a problem because it's not consistent with other jobs.

Change-Id: Ibc4859326c39e07411a55c03b95d106a5a563130
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/83/660083/8 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,8a43aea3825d816785a52e5004fa0cfd0b99ec7a,use-integrated-repo-for-all-tests,,"--- # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - job: name: openstack-ansible-deploy-aio_metal_ironic-centos-7 parent: openstack-ansible-deploy-aio nodeset: centos-7 vars: action: deploy scenario: aio_metal_ironic - job: name: openstack-ansible-deploy-aio_metal_ironic-opensuse-150 parent: openstack-ansible-deploy-aio nodeset: opensuse-150 vars: action: deploy scenario: aio_metal_ironic - job: name: openstack-ansible-deploy-aio_metal_ironic-ubuntu-bionic parent: openstack-ansible-deploy-aio nodeset: ubuntu-bionic vars: action: deploy scenario: aio_metal_ironic - job: name: openstack-ansible-deploy-aio_metal_ironic-debian-stable parent: openstack-ansible-deploy-aio nodeset: debian-stable vars: action: deploy scenario: aio_metal_ironic ",2,57
openstack%2Ftripleo-quickstart~master~I387c43d7c16628f11327c80b0ff0ca17ba92a6c1,openstack/tripleo-quickstart,master,I387c43d7c16628f11327c80b0ff0ca17ba92a6c1,Bump ansible version to 2.6.x,ABANDONED,2019-02-07 09:17:28.000000000,2019-07-31 19:50:12.000000000,,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-02-07 09:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/361e71c5ab126af8d77716d1db843e713337d589', 'message': ""[DNM] Bump ansible version to 2.6.11\n\nAnsible filter dict2items is introduced in ansible-2.6.\nUpdate version to unblock multinode-oooq-container-updates job that\nfails with next error msg:\n  template error while templating string: no filter named 'dict2items'.\n\nChange-Id: I387c43d7c16628f11327c80b0ff0ca17ba92a6c1\n""}, {'number': 2, 'created': '2019-02-08 09:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/087a1a1798bd041959d2bebfca399ae46f0697d0', 'message': ""Bump ansible version to 2.6.x\n\nAnsible filter dict2items is introduced in ansible-2.6.\nUpdate version to unblock multinode-oooq-container-updates job that\nfails with next error msg:\n  template error while templating string: no filter named 'dict2items'.\n\nOther notable fixes:\n- blockinfile\n- lineinfile\n- docker modules\n- loop\n\nFull list of fixes: https://github.com/ansible/ansible/blob/v2.6.11/changelogs/CHANGELOG-v2.6.rst\n\nChange-Id: I387c43d7c16628f11327c80b0ff0ca17ba92a6c1\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/386\n""}, {'number': 3, 'created': '2019-02-08 09:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/cc401359b10a4b22f7a7154aad3f0e0f4942b9e2', 'message': ""Bump ansible version to 2.6.x\n\nAnsible filter dict2items is introduced in ansible-2.6.\nUpdate version to unblock multinode-oooq-container-updates job that\nfails with next error msg:\n  template error while templating string: no filter named 'dict2items'.\n\nOther notable fixes:\n- blockinfile\n- lineinfile\n- docker modules\n- loop\n\nFull list of fixes: https://github.com/ansible/ansible/blob/v2.6.13/changelogs/CHANGELOG-v2.6.rst\n\nChange-Id: I387c43d7c16628f11327c80b0ff0ca17ba92a6c1\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/386\n""}, {'number': 4, 'created': '2019-03-20 20:33:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/fd2e96be4159f119278d407729da28b11b0699af', 'message': ""Bump ansible version to 2.6.x\n\nAnsible filter dict2items is introduced in ansible-2.6.\nUpdate version to unblock multinode-oooq-container-updates job that\nfails with next error msg:\n  template error while templating string: no filter named 'dict2items'.\n\nOther notable fixes:\n- blockinfile\n- lineinfile\n- docker modules\n- loop\n\nFull list of fixes: https://github.com/ansible/ansible/blob/v2.6.13/changelogs/CHANGELOG-v2.6.rst\n\nChange-Id: I387c43d7c16628f11327c80b0ff0ca17ba92a6c1\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/386\n""}, {'number': 5, 'created': '2019-05-27 11:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a037b1cd9d4863219182d110647f67b3d62197da', 'message': ""Bump ansible version to 2.6.x\n\nAnsible filter dict2items is introduced in ansible-2.6.\nUpdate version to unblock multinode-oooq-container-updates job that\nfails with next error msg:\n  template error while templating string: no filter named 'dict2items'.\n\nOther notable fixes:\n- blockinfile\n- lineinfile\n- docker modules\n- loop\n\nFull list of fixes: https://github.com/ansible/ansible/blob/v2.6.13/changelogs/CHANGELOG-v2.6.rst\n\nChange-Id: I387c43d7c16628f11327c80b0ff0ca17ba92a6c1\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/386\n""}, {'number': 6, 'created': '2019-06-04 08:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ba558b2d264b461e6920fce5d08f73fcc4a87887', 'message': ""Bump ansible version to 2.6.x\n\nAnsible filter dict2items is introduced in ansible-2.6.\nUpdate version to unblock multinode-oooq-container-updates job that\nfails with next error msg:\n  template error while templating string: no filter named 'dict2items'.\n\nOther notable fixes:\n- blockinfile\n- lineinfile\n- docker modules\n- loop\n\nFull list of fixes: https://github.com/ansible/ansible/blob/v2.6.13/changelogs/CHANGELOG-v2.6.rst\n\nChange-Id: I387c43d7c16628f11327c80b0ff0ca17ba92a6c1\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/386\n""}, {'number': 7, 'created': '2019-06-11 09:38:47.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9a3afc7b578e0d22e810cbf7c116dedca76aa88d', 'message': ""Bump ansible version to 2.6.x\n\nAnsible filter dict2items is introduced in ansible-2.6.\nUpdate version to unblock multinode-oooq-container-updates job that\nfails with next error msg:\n  template error while templating string: no filter named 'dict2items'.\n\nOther notable fixes:\n- blockinfile\n- lineinfile\n- docker modules\n- loop\n\nFull list of fixes: https://github.com/ansible/ansible/blob/v2.6.13/changelogs/CHANGELOG-v2.6.rst\n\nChange-Id: I387c43d7c16628f11327c80b0ff0ca17ba92a6c1\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/386\n""}]",2,635459,9a3afc7b578e0d22e810cbf7c116dedca76aa88d,31,10,7,21537,,,0,"Bump ansible version to 2.6.x

Ansible filter dict2items is introduced in ansible-2.6.
Update version to unblock multinode-oooq-container-updates job that
fails with next error msg:
  template error while templating string: no filter named 'dict2items'.

Other notable fixes:
- blockinfile
- lineinfile
- docker modules
- loop

Full list of fixes: https://github.com/ansible/ansible/blob/v2.6.13/changelogs/CHANGELOG-v2.6.rst

Change-Id: I387c43d7c16628f11327c80b0ff0ca17ba92a6c1
Story: https://tree.taiga.io/project/tripleo-ci-board/task/386
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/59/635459/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,361e71c5ab126af8d77716d1db843e713337d589,oooq/ansible26,ansible==2.6.11,ansible==2.5.7,1,1
openstack%2Ftripleo-heat-templates~master~Ieed65a755b8c5f1ce0ee1727f65cb6cbe76d68ea,openstack/tripleo-heat-templates,master,Ieed65a755b8c5f1ce0ee1727f65cb6cbe76d68ea,Change name of former openshift files in Heat templates,MERGED,2019-07-30 12:18:39.000000000,2019-07-31 19:46:38.000000000,2019-07-31 19:46:38.000000000,"[{'_account_id': 3153}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 13039}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-30 12:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cdea892bc3edde1a9720576e95a29dbff2e67cfa', 'message': 'Change name of former openshift-node file in Heat templates\n\nWhile renaming files in https://review.opendev.org/#/c/671140/\nwe should rename them in Heat templates too.\nRename previous openshift-node.yaml to openshift-node-baremetal-ansible.yaml\nChange-Id: Ieed65a755b8c5f1ce0ee1727f65cb6cbe76d68ea\n'}, {'number': 2, 'created': '2019-07-30 23:06:11.000000000', 'files': ['deployment/openshift/openshift-master-baremetal-ansible.yaml', 'deployment/openshift/openshift-infra-baremetal-ansible.yaml', 'deployment/openshift/openshift-worker-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/163fc6d783cfc2f5996486bd57b72ea003e237b6', 'message': 'Change name of former openshift files in Heat templates\n\nWhile renaming files in https://review.opendev.org/#/c/671140/\nwe should rename them in Heat templates too.\nRename previous openshift-*.yaml to openshift-*-baremetal-ansible.yaml\nChange-Id: Ieed65a755b8c5f1ce0ee1727f65cb6cbe76d68ea\n'}]",0,673494,163fc6d783cfc2f5996486bd57b72ea003e237b6,18,7,2,10969,,,0,"Change name of former openshift files in Heat templates

While renaming files in https://review.opendev.org/#/c/671140/
we should rename them in Heat templates too.
Rename previous openshift-*.yaml to openshift-*-baremetal-ansible.yaml
Change-Id: Ieed65a755b8c5f1ce0ee1727f65cb6cbe76d68ea
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/94/673494/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/openshift/openshift-master-baremetal-ansible.yaml', 'deployment/openshift/openshift-worker-baremetal-ansible.yaml']",2,cdea892bc3edde1a9720576e95a29dbff2e67cfa,, type: ./openshift-node-baremetal-ansible.yaml, type: ./openshift-node.yaml,2,2
openstack%2Ftripleo-quickstart~master~Icf28ecc6fcf28cedcf319817baebccf6d9a91fba,openstack/tripleo-quickstart,master,Icf28ecc6fcf28cedcf319817baebccf6d9a91fba,Add dependency validation check to quickstart.sh,ABANDONED,2019-05-28 07:37:47.000000000,2019-07-31 19:45:13.000000000,,"[{'_account_id': 8449}, {'_account_id': 10022}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-05-28 07:37:47.000000000', 'files': ['quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/175e2971e6b4b2a12c71a17868ec32401fa2afb8', 'message': 'Add dependency validation check to quickstart.sh\n\nThis should avoid case where people run quickstart with unsupported\nversion of dependencies (like ansible 2.8).\n\nOur code should fail fast instead of creating bad user experience and\nadditional bug requests. Compatibility ranges should be introduced in\nrequirements.txt in follow-ups.\n\nCapping maximum version should be added when we discover that newer\nversion does not work with quickstart.\n\nChange-Id: Icf28ecc6fcf28cedcf319817baebccf6d9a91fba\n'}]",0,661692,175e2971e6b4b2a12c71a17868ec32401fa2afb8,4,5,1,24162,,,0,"Add dependency validation check to quickstart.sh

This should avoid case where people run quickstart with unsupported
version of dependencies (like ansible 2.8).

Our code should fail fast instead of creating bad user experience and
additional bug requests. Compatibility ranges should be introduced in
requirements.txt in follow-ups.

Capping maximum version should be added when we discover that newer
version does not work with quickstart.

Change-Id: Icf28ecc6fcf28cedcf319817baebccf6d9a91fba
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/92/661692/1 && git format-patch -1 --stdout FETCH_HEAD,['quickstart.sh'],1,175e2971e6b4b2a12c71a17868ec32401fa2afb8,ansible-2.8, # check for dependency conflicts (like unsupported ansible) $(python_cmd) -m pip check,,2,0
openstack%2Ftripleo-quickstart-extras~master~Ice95c916dc614c73df42507ab70f846b190255c0,openstack/tripleo-quickstart-extras,master,Ice95c916dc614c73df42507ab70f846b190255c0,Test undercloud_ara enablement,ABANDONED,2018-11-26 20:01:01.000000000,2019-07-31 19:39:27.000000000,,"[{'_account_id': 8449}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2018-11-26 20:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3397ce986275b05ebed069c708aeb7b4b6dc4817', 'message': 'Use include_role on tempest to avoid misleading output\n\nUse of role is deprecarted and the use of newer include_role\ncall allows Ansible to completly skip the entire section instead\nof spamming output with skipped tasks, skipped because the original\ninclusion was conditional.\n\nChange-Id: Ice95c916dc614c73df42507ab70f846b190255c0\n'}, {'number': 2, 'created': '2018-11-27 10:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7dcc29b6560302f26ef87588b55cb4340dbf7e4e', 'message': 'Use include_role on tempest to avoid misleading output\n\nUse of role is deprecarted and the use of newer include_role\ncall allows Ansible to completly skip the entire section instead\nof spamming output with skipped tasks, skipped because the original\ninclusion was conditional.\n\nChange-Id: Ice95c916dc614c73df42507ab70f846b190255c0\n'}, {'number': 3, 'created': '2018-11-27 10:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e4dbafd84dc14be5c9c8640fea417ad3b35c9660', 'message': 'Use include_role on tempest to avoid misleading output\n\nUse of role is deprecarted and the use of newer include_role\ncall allows Ansible to completly skip the entire section instead\nof spamming output with skipped tasks, skipped because the original\ninclusion was conditional.\n\nChange-Id: Ice95c916dc614c73df42507ab70f846b190255c0\n'}, {'number': 4, 'created': '2018-12-13 18:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/46747c32c18c0bfde9166188fe52e8c3a928fce8', 'message': 'Migrate from role to include_role\n\nUse of role is deprecated and the use of newer include_role\ncall allows Ansible to completly skip the entire section instead\nof spamming output with skipped tasks, skipped because the original\ninclusion was conditional.\n\nChange-Id: Ice95c916dc614c73df42507ab70f846b190255c0\n'}, {'number': 5, 'created': '2019-01-09 09:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e923019691f210ea8e8f9d8c6d795c992907642c', 'message': 'Migrate from role to include_role\n\nUse of role is deprecated and the use of newer include_role\ncall allows Ansible to completly skip the entire section instead\nof spamming output with skipped tasks, skipped because the original\ninclusion was conditional.\n\nChange-Id: Ice95c916dc614c73df42507ab70f846b190255c0\n'}, {'number': 6, 'created': '2019-01-09 16:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8fd4200c805b0bd5652308fabf2ce0b2415f50ee', 'message': 'Migrate from role to include_role\n\nUse of role is deprecated and the use of newer include_role\ncall allows Ansible to completly skip the entire section instead\nof spamming output with skipped tasks, skipped because the original\ninclusion was conditional.\n\nChange-Id: Ice95c916dc614c73df42507ab70f846b190255c0\n'}, {'number': 7, 'created': '2019-01-18 13:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/62603140ddef76a0feb40b9ada85cd2dca5c3df9', 'message': 'Migrate from role to include_role\n\nUse of role is deprecated and the use of newer include_role\ncall allows Ansible to completly skip the entire section instead\nof spamming output with skipped tasks, skipped because the original\ninclusion was conditional.\n\nChange-Id: Ice95c916dc614c73df42507ab70f846b190255c0\n'}, {'number': 8, 'created': '2019-01-18 13:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/84860c2a82b996c176e3ee0e70908c6b674aba75', 'message': 'Test undercloud_ara enablement\n\nMainly for testing previous patch.\n\nChange-Id: Ice95c916dc614c73df42507ab70f846b190255c0\nPartial-Bug: https://bugs.launchpad.net/tripleo/+bug/1811778\n'}, {'number': 9, 'created': '2019-01-18 13:51:31.000000000', 'files': ['roles/undercloud-setup/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/badc5ef7f29655f2f6afe29a65023923fbf2134b', 'message': 'Test undercloud_ara enablement\n\nMainly for testing previous patch.\n\nChange-Id: Ice95c916dc614c73df42507ab70f846b190255c0\nPartial-Bug: https://bugs.launchpad.net/tripleo/+bug/1811778\n'}]",13,620146,badc5ef7f29655f2f6afe29a65023923fbf2134b,42,8,9,24162,,,0,"Test undercloud_ara enablement

Mainly for testing previous patch.

Change-Id: Ice95c916dc614c73df42507ab70f846b190255c0
Partial-Bug: https://bugs.launchpad.net/tripleo/+bug/1811778
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/46/620146/7 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/multinode-standalone.yml'],1,3397ce986275b05ebed069c708aeb7b4b6dc4817,bug/1795009, tasks: - name: include validate-tempest role include_role: validate-tempest when: run_tempest|bool," roles: - {role: validate-tempest, when: run_tempest|bool}",4,2
openstack%2Ftripleo-quickstart-extras~master~Ia1245a423e608273120b2c6b9668e2126073cccc,openstack/tripleo-quickstart-extras,master,Ia1245a423e608273120b2c6b9668e2126073cccc,Allow creating Stack for non centos images,MERGED,2019-07-30 07:29:01.000000000,2019-07-31 19:00:43.000000000,2019-07-31 19:00:43.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-30 07:29:01.000000000', 'files': ['roles/nodepool-setup/tasks/main.yml', 'roles/multinodes/tasks/main.yml', 'roles/multinodes/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/cf6b8259ba275f434d1ce717f8eb2ea962844858', 'message': 'Allow creating Stack for non centos images\n\nThis patch updates nodepool-setup and multinodes\nroles to work with non centos images. It updates following:-\n\n- Add a role variable: ""default_image_user"" which defaults to\n  \'centos\'. It can be used to configure image_user like \'fedora\'.\n- Use \'package\' module instead of \'yum\' so it can work with non\n  yum systems.\n- yum_contentdir is not needed for Fedora, so skipped.\n- centos-release-openstack and epel repos are not needed for\n  Fedora, so skipped.\n\nChange-Id: Ia1245a423e608273120b2c6b9668e2126073cccc\n'}]",2,673418,cf6b8259ba275f434d1ce717f8eb2ea962844858,10,9,1,13861,,,0,"Allow creating Stack for non centos images

This patch updates nodepool-setup and multinodes
roles to work with non centos images. It updates following:-

- Add a role variable: ""default_image_user"" which defaults to
  'centos'. It can be used to configure image_user like 'fedora'.
- Use 'package' module instead of 'yum' so it can work with non
  yum systems.
- yum_contentdir is not needed for Fedora, so skipped.
- centos-release-openstack and epel repos are not needed for
  Fedora, so skipped.

Change-Id: Ia1245a423e608273120b2c6b9668e2126073cccc
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/18/673418/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/nodepool-setup/tasks/main.yml', 'roles/multinodes/tasks/main.yml', 'roles/multinodes/defaults/main.yml']",3,cf6b8259ba275f434d1ce717f8eb2ea962844858,,default_image_user: centos,,7,5
openstack%2Fkolla~master~I17a25633a0df3547cce59ad00730b0cab0018253,openstack/kolla,master,I17a25633a0df3547cce59ad00730b0cab0018253,Enable support for fedora distro in kolla,ABANDONED,2019-02-07 13:53:29.000000000,2019-07-31 18:50:07.000000000,,"[{'_account_id': 12882}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23717}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-02-07 13:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/898cac26744cd43321c8afe2f25feab012b3f1e5', 'message': 'WIP: enable support for fedora in kolla\n\nChange-Id: I17a25633a0df3547cce59ad00730b0cab0018253\n'}, {'number': 2, 'created': '2019-02-07 14:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/27f5cd98e8ca9d5522546f5d6298c183878957db', 'message': 'WIP: enable support for fedora in kolla\n\nChange-Id: I17a25633a0df3547cce59ad00730b0cab0018253\n'}, {'number': 3, 'created': '2019-02-11 13:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/784bf71a48d1a3864a71a1d88004ed3294e541f9', 'message': 'Enable support for fedora distro in kolla\n\nChange-Id: I17a25633a0df3547cce59ad00730b0cab0018253\n'}, {'number': 4, 'created': '2019-03-14 16:00:50.000000000', 'files': ['kolla/image/build.py', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ebe2ef40ddb179b2595f42b83e20acac147aa122', 'message': 'Enable support for fedora distro in kolla\n\nChange-Id: I17a25633a0df3547cce59ad00730b0cab0018253\n'}]",2,635512,ebe2ef40ddb179b2595f42b83e20acac147aa122,18,6,4,24162,,,0,"Enable support for fedora distro in kolla

Change-Id: I17a25633a0df3547cce59ad00730b0cab0018253
",git fetch https://review.opendev.org/openstack/kolla refs/changes/12/635512/4 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,898cac26744cd43321c8afe2f25feab012b3f1e5,,"BASE_OS_DISTRO = ['centos', 'fedora', 'rhel', 'ubuntu', 'oraclelinux', 'debian'] 'fedora': '28', 'fedora': '28',","BASE_OS_DISTRO = ['centos', 'rhel', 'ubuntu', 'oraclelinux', 'debian']",3,1
openstack%2Fmanila-specs~master~Id51ff66105ef72b263904eb0f5279654b588bcf9,openstack/manila-specs,master,Id51ff66105ef72b263904eb0f5279654b588bcf9,Add a new mv to the share type API,MERGED,2019-07-23 09:46:58.000000000,2019-07-31 18:48:53.000000000,2019-07-31 18:48:53.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2019-07-23 09:46:58.000000000', 'files': ['specs/train/update-share-type-name-or-description.rst'], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/19d03629eeed1c5dce021c0e6aa858fff0cd3de8', 'message': 'Add a new mv to the share type API\n\nBump up the API Microversion.\n\nChange-Id: Id51ff66105ef72b263904eb0f5279654b588bcf9\n'}]",0,672244,19d03629eeed1c5dce021c0e6aa858fff0cd3de8,7,3,1,30407,,,0,"Add a new mv to the share type API

Bump up the API Microversion.

Change-Id: Id51ff66105ef72b263904eb0f5279654b588bcf9
",git fetch https://review.opendev.org/openstack/manila-specs refs/changes/44/672244/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/update-share-type-name-or-description.rst'],1,19d03629eeed1c5dce021c0e6aa858fff0cd3de8,,Add a new microversion to the share type API. ,,2,0
openstack%2Fpython-manilaclient~master~I4e3ba86c38a58c8fa56b5fd23839551f4b6c2366,openstack/python-manilaclient,master,I4e3ba86c38a58c8fa56b5fd23839551f4b6c2366,Fix `manila list --count True` command,ABANDONED,2019-06-26 22:38:34.000000000,2019-07-31 18:45:46.000000000,,"[{'_account_id': 6413}, {'_account_id': 7102}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 29958}]","[{'number': 1, 'created': '2019-06-26 22:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/e90407d49a1cd4341b4ef4f0a2972d9c41ff02b3', 'message': 'Fix `manila list --count True` command\n\nWhen doing `manila list --count True` without shares, the user gets\nan error. This happens because there is no control of the retrieving\nand showing of shares when the `--count` param is used. This patch-set\nadds a fix for this case.\n\nCloses-bug: #bug/1822815\nChange-Id: I4e3ba86c38a58c8fa56b5fd23839551f4b6c2366\n'}, {'number': 2, 'created': '2019-07-04 20:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/d44561ba6bcdb0ea010f7b47a9e5e3a6f89a1259', 'message': 'Fix `manila list --count True` command\n\nWhen doing `manila list --count True` without shares, the user gets\nan error. This happens because there is no control of the retrieving\nand showing of shares when the `--count` param is used. This patch-set\nadds a fix for this case.\n\nCloses-bug: #bug/1822815\nChange-Id: I4e3ba86c38a58c8fa56b5fd23839551f4b6c2366\n'}, {'number': 3, 'created': '2019-07-05 16:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/e5aa982bc6e21f7c810fe6eb96f8deda1e27805c', 'message': 'Fix `manila list --count True` command\n\nWhen doing `manila list --count True` without shares, the user gets\nan error. This happens because there is no control of the retrieving\nand showing of shares when the `--count` param is used. This patch-set\nadds a fix for this case.\n\nCloses-bug: #bug/1822815\nChange-Id: I4e3ba86c38a58c8fa56b5fd23839551f4b6c2366\n'}, {'number': 4, 'created': '2019-07-08 12:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/8d4a8e82ec3e3bf1bb583984868b9fde7f7653f8', 'message': 'Fix `manila list --count True` command\n\nWhen doing `manila list --count True` without shares, the user gets\nan error. This happens because there is no control of the retrieving\nand showing of shares when the `--count` param is used. This patch-set\nadds a fix for this case.\n\nCloses-bug: #1822815\nChange-Id: I4e3ba86c38a58c8fa56b5fd23839551f4b6c2366\n'}, {'number': 5, 'created': '2019-07-09 15:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/7b990d06080a8241eab594946af3c71a1735c545', 'message': 'Fix `manila list --count True` command\n\nWhen doing `manila list --count True` without shares, the user gets\nan error. This happens because there is no control of the retrieving\nand showing of shares when the `--count` param is used. This patch-set\nadds a fix for this case.\n\nCloses-bug: #1822815\nChange-Id: I4e3ba86c38a58c8fa56b5fd23839551f4b6c2366\n'}, {'number': 6, 'created': '2019-07-19 20:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/d3e4d06588a379275444cd45feba5e3542001f4c', 'message': 'Fix `manila list --count True` command\n\nWhen doing `manila list --count True` without shares, the user gets\nan error. This happens because there is no control of the retrieving\nand showing of shares when the `--count` param is used. This patch-set\nadds a fix for this case.\n\nCloses-bug: #bug/1822815\nChange-Id: I4e3ba86c38a58c8fa56b5fd23839551f4b6c2366\n'}, {'number': 7, 'created': '2019-07-24 14:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/9061705efb7820b4da9bc5fe3cbcce7933555401', 'message': 'Fix `manila list --count True` command\n\nWhen doing `manila list --count True` without shares, the user gets\nan error. This happens because there is no control of the retrieving\nand showing of shares when the `--count` param is used. This patch-set\nadds a fix for this case.\n\nCloses-bug: #bug/1822815\nChange-Id: I4e3ba86c38a58c8fa56b5fd23839551f4b6c2366\n'}, {'number': 8, 'created': '2019-07-26 14:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/7deab55f6ea196b5640d6d313643035f47c3bb6a', 'message': 'Fix `manila list --count True` command\n\nWhen doing `manila list --count True` without shares, the user gets\nan error. This happens because there is no control of the retrieving\nand showing of shares when the `--count` param is used. This patch-set\nadds a fix for this case.\n\nCloses-bug: #1822815\nChange-Id: I4e3ba86c38a58c8fa56b5fd23839551f4b6c2366\n'}, {'number': 9, 'created': '2019-07-26 15:27:47.000000000', 'files': ['manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/v2/shell.py', 'releasenotes/notes/bug-667744-fix-25401bc71e3be50b.yaml'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/c852f9f44af36d80c36f7af3e7d8bd635b9cd875', 'message': 'Fix `manila list --count True` command\n\nWhen doing `manila list --count True` without shares, the user gets\nan error. This happens because there is no control of the retrieving\nand showing of shares when the `--count` param is used. This patch-set\nadds a fix for this case.\n\nCloses-bug: #1822815\nChange-Id: I4e3ba86c38a58c8fa56b5fd23839551f4b6c2366\n'}]",17,667744,c852f9f44af36d80c36f7af3e7d8bd635b9cd875,39,7,9,29958,,,0,"Fix `manila list --count True` command

When doing `manila list --count True` without shares, the user gets
an error. This happens because there is no control of the retrieving
and showing of shares when the `--count` param is used. This patch-set
adds a fix for this case.

Closes-bug: #1822815
Change-Id: I4e3ba86c38a58c8fa56b5fd23839551f4b6c2366
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/44/667744/3 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/v2/shell.py'],1,e90407d49a1cd4341b4ef4f0a2972d9c41ff02b3,bug/1822815," try: shares, total_count = cs.shares.list( ) except ValueError: shares, total_count = [], 0 else: shares = cs.shares.list( )"," shares, total_count = cs.shares.list( ) else: shares = cs.shares.list( )",8,5
openstack%2Fopenstack-ansible~stable%2Fstein~Id582f85f1390ad96bc003c774b2ec8f4dfeb1edb,openstack/openstack-ansible,stable/stein,Id582f85f1390ad96bc003c774b2ec8f4dfeb1edb,Update ansible to 2.7.12,MERGED,2019-07-30 12:54:02.000000000,2019-07-31 18:27:01.000000000,2019-07-31 18:27:01.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-30 12:54:02.000000000', 'files': ['scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/780cade40d00b82c07f9e74e8f634c93fdae6af9', 'message': 'Update ansible to 2.7.12\n\nChange-Id: Id582f85f1390ad96bc003c774b2ec8f4dfeb1edb\n'}]",0,673507,780cade40d00b82c07f9e74e8f634c93fdae6af9,7,3,1,25023,,,0,"Update ansible to 2.7.12

Change-Id: Id582f85f1390ad96bc003c774b2ec8f4dfeb1edb
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/07/673507/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/bootstrap-ansible.sh'],1,780cade40d00b82c07f9e74e8f634c93fdae6af9,osa-update-ansible,"export ANSIBLE_PACKAGE=${ANSIBLE_PACKAGE:-""ansible==2.7.12""}","export ANSIBLE_PACKAGE=${ANSIBLE_PACKAGE:-""ansible==2.7.9""}",1,1
openstack%2Frequirements~master~Id633d3f591e86483cc23d26423ace581e8a977ce,openstack/requirements,master,Id633d3f591e86483cc23d26423ace581e8a977ce,Add cinder extras python-lefthandclient,ABANDONED,2019-05-09 14:20:07.000000000,2019-07-31 18:23:51.000000000,,"[{'_account_id': 5997}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-09 14:20:07.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7c7c8d62a35bb0d4f9e2f3eb65adec2f7f7cea44', 'message': ""Add cinder extras python-lefthandclient\n\nThis patch adds the cinder lefthandclient driver's library.\n\nactive: yes\ngood code: mostly, bunch of open, simple pull requests\npy3: kinda? only states py34...\nlicense compat: yes\npackaged: eh?\ncovered by other libs: no\nneeded by: cinder\nmanaged by openstack: no\n\nChange-Id: Id633d3f591e86483cc23d26423ace581e8a977ce\n""}]",0,658103,7c7c8d62a35bb0d4f9e2f3eb65adec2f7f7cea44,11,4,1,5997,,,0,"Add cinder extras python-lefthandclient

This patch adds the cinder lefthandclient driver's library.

active: yes
good code: mostly, bunch of open, simple pull requests
py3: kinda? only states py34...
license compat: yes
packaged: eh?
covered by other libs: no
needed by: cinder
managed by openstack: no

Change-Id: Id633d3f591e86483cc23d26423ace581e8a977ce
",git fetch https://review.opendev.org/openstack/requirements refs/changes/03/658103/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,7c7c8d62a35bb0d4f9e2f3eb65adec2f7f7cea44,cinder_extras,python-lefthandclient===2.1.0,,2,0
openstack%2Fopenstack-helm-infra~master~I3886c792fe28bc8b80504d8c91e9524039131b15,openstack/openstack-helm-infra,master,I3886c792fe28bc8b80504d8c91e9524039131b15,Removing deprecated option usage in gatther pod logs logic,MERGED,2019-07-29 23:31:49.000000000,2019-07-31 18:22:34.000000000,2019-07-31 18:22:33.000000000,"[{'_account_id': 1091}, {'_account_id': 12281}, {'_account_id': 17068}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 28618}, {'_account_id': 29668}, {'_account_id': 29928}]","[{'number': 1, 'created': '2019-07-29 23:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/476ba25ce233d4388dcdf44ce1483f524a6a11a0', 'message': ""Removing deprecated option usage in gatther pod logs logic\n\nAs per PR, https://github.com/kubernetes/kubernetes/pull/60210 is\ndeprecated and no longer needed as that's the default.\n\nAlso in gathering logs logic, we are interested in capturing only\npod names, so removing that option is harmless.\n\nWe are seeing failures in local CI when kubectl version is 1.15.x\nSo removing this option.\n\nChange-Id: I3886c792fe28bc8b80504d8c91e9524039131b15\n""}, {'number': 2, 'created': '2019-07-30 15:23:57.000000000', 'files': ['roles/gather-pod-logs/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7a8bb7058beb75a690a35e3d4998d1338aea9a58', 'message': ""Removing deprecated option usage in gatther pod logs logic\n\nAs per PR, https://github.com/kubernetes/kubernetes/pull/60210,\nin kubectl get show-all option is deprecated and no longer needed.\nPresumably now that's the default behavior.\n\nAlso in current logs gathering logic, we are interested in capturing\nonly pod names, so removing that option is harmless.\n\nWe are seeing related failures in local CI when kubectl version is\n1.15.x. So removing this option.\n\nChange-Id: I3886c792fe28bc8b80504d8c91e9524039131b15\n""}]",0,673372,7a8bb7058beb75a690a35e3d4998d1338aea9a58,18,8,2,1091,,,0,"Removing deprecated option usage in gatther pod logs logic

As per PR, https://github.com/kubernetes/kubernetes/pull/60210,
in kubectl get show-all option is deprecated and no longer needed.
Presumably now that's the default behavior.

Also in current logs gathering logic, we are interested in capturing
only pod names, so removing that option is harmless.

We are seeing related failures in local CI when kubectl version is
1.15.x. So removing this option.

Change-Id: I3886c792fe28bc8b80504d8c91e9524039131b15
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/72/673372/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/gather-pod-logs/tasks/main.yaml'],1,476ba25ce233d4388dcdf44ce1483f524a6a11a0,pod_log_fix, kubectl get pods -n ${NAMESPACE} -o name | awk -F '/' '{ print $NF }' | xargs -L1 -P 1 -I {} echo ${NAMESPACE} {}, kubectl get pods -n ${NAMESPACE} -o name --show-all | awk -F '/' '{ print $NF }' | xargs -L1 -P 1 -I {} echo ${NAMESPACE} {},1,1
openstack%2Fnetworking-ovn~stable%2Fstein~Ie4a4bbcdd1e2619fc6830bf86eeb37604d91c49a,openstack/networking-ovn,stable/stein,Ie4a4bbcdd1e2619fc6830bf86eeb37604d91c49a,TrivialFixes to networking-ovn repo,MERGED,2019-07-25 07:20:29.000000000,2019-07-31 18:21:06.000000000,2019-07-31 18:21:06.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-07-25 07:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/aa01a4353ff2124e43741f9e132ec7e7f1a81283', 'message': 'TrivialFixes to networking-ovn repo\n\n- Debug logging information is added to\nget_candidates_for_scheduling() to provide more information when no\nchassis information is available for a physnet.\n- Use the chassisredirect constant from networking_ovn.common.constants\n\nChange-Id: Ie4a4bbcdd1e2619fc6830bf86eeb37604d91c49a\n(cherry picked from commit 8bb5e7ec20e107a3440f405c41d1b301a325cc2f)\n'}, {'number': 2, 'created': '2019-07-31 08:33:17.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/common/constants.py', 'networking_ovn/ovsdb/ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/75b9f3f309d3778153454ed9affdbad11f32d09e', 'message': 'TrivialFixes to networking-ovn repo\n\n- Debug logging information is added to\nget_candidates_for_scheduling() to provide more information when no\nchassis information is available for a physnet.\n- Use the chassisredirect constant from networking_ovn.common.constants\n\nChange-Id: Ie4a4bbcdd1e2619fc6830bf86eeb37604d91c49a\n(cherry picked from commit 8bb5e7ec20e107a3440f405c41d1b301a325cc2f)\n'}]",0,672644,75b9f3f309d3778153454ed9affdbad11f32d09e,11,4,2,24791,,,0,"TrivialFixes to networking-ovn repo

- Debug logging information is added to
get_candidates_for_scheduling() to provide more information when no
chassis information is available for a physnet.
- Use the chassisredirect constant from networking_ovn.common.constants

Change-Id: Ie4a4bbcdd1e2619fc6830bf86eeb37604d91c49a
(cherry picked from commit 8bb5e7ec20e107a3440f405c41d1b301a325cc2f)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/44/672644/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/common/constants.py', 'networking_ovn/ovsdb/ovsdb_monitor.py']",3,aa01a4353ff2124e43741f9e132ec7e7f1a81283,ovn_driver_stein_cherry_picks," events, table, (('type', '=', ovn_const.OVN_CHASSIS_REDIRECT),))"," events, table, (('type', '=', 'chassisredirect'),))",3,2
openstack%2Fkayobe~stable%2Frocky~Id090348a6f22f251555fa286a7d24923087122a9,openstack/kayobe,stable/rocky,Id090348a6f22f251555fa286a7d24923087122a9,Provide keystone.conf to kolla-ansible by default,MERGED,2019-07-17 16:57:22.000000000,2019-07-31 18:17:40.000000000,2019-07-31 18:17:40.000000000,"[{'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-17 16:57:22.000000000', 'files': ['ansible/roles/kolla-openstack/vars/main.yml', 'ansible/group_vars/all/kolla', 'ansible/roles/kolla-openstack/molecule/default/tests/test_default.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d2bf18f1873125a0ea8ec95417a13862ac495939', 'message': ""Provide keystone.conf to kolla-ansible by default\n\nCommit d8ee0fa027140fb8a7504bd6685b6dcdfe3ac8fe introduced the variable\nkolla_enable_keystone without setting a default value and used it to\ncheck whether to template and provide keystone.conf to kolla-ansible,\nunlike the extended keystone configuration which was always copied. This\nresulted in non-intuitive behaviour if kolla_enable_keystone wasn't\nexplicitly set by the operator.\n\nThis commit sets kolla_enable_keystone to true by default, which matches\nthe default in kolla-ansible, and uses it instead of hardcoded true\nvalues.\n\nConflicts:\n\tansible/roles/kolla-openstack/vars/main.yml\n\nChange-Id: Id090348a6f22f251555fa286a7d24923087122a9\nStory: 2005930\nTask: 34273\n(cherry picked from commit ec9b4826515f28dab43846cb80dcb58b9a5b0a6e)\n""}]",0,671332,d2bf18f1873125a0ea8ec95417a13862ac495939,7,3,1,17669,,,0,"Provide keystone.conf to kolla-ansible by default

Commit d8ee0fa027140fb8a7504bd6685b6dcdfe3ac8fe introduced the variable
kolla_enable_keystone without setting a default value and used it to
check whether to template and provide keystone.conf to kolla-ansible,
unlike the extended keystone configuration which was always copied. This
resulted in non-intuitive behaviour if kolla_enable_keystone wasn't
explicitly set by the operator.

This commit sets kolla_enable_keystone to true by default, which matches
the default in kolla-ansible, and uses it instead of hardcoded true
values.

Conflicts:
	ansible/roles/kolla-openstack/vars/main.yml

Change-Id: Id090348a6f22f251555fa286a7d24923087122a9
Story: 2005930
Task: 34273
(cherry picked from commit ec9b4826515f28dab43846cb80dcb58b9a5b0a6e)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/32/671332/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-openstack/vars/main.yml', 'ansible/group_vars/all/kolla', 'ansible/roles/kolla-openstack/molecule/default/tests/test_default.py']",3,d2bf18f1873125a0ea8ec95417a13862ac495939,," 'fluentd/output']) 'keystone',"," 'fluentd/output', 'keystone'])",5,4
openstack%2Fkayobe~stable%2Frocky~Iaa304221b8093ac71f9cdbb23edc84d1517578da,openstack/kayobe,stable/rocky,Iaa304221b8093ac71f9cdbb23edc84d1517578da,Multiple updates for Kayobe,MERGED,2019-06-26 16:17:36.000000000,2019-07-31 18:17:40.000000000,2019-07-31 18:17:40.000000000,"[{'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 20301}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 16:17:36.000000000', 'files': ['ansible/group_vars/all/monitoring', 'ansible/group_vars/all/seed', 'ansible/group_vars/all/controllers', 'ansible/kolla-ansible.yml', 'ansible/roles/kolla-openstack/molecule/enable-everything/tests/test_default.py', 'ansible/group_vars/all/storage', 'ansible/roles/kolla-openstack/molecule/enable-everything/molecule.yml', 'ansible/kolla-openstack.yml', 'ansible/group_vars/all/seed-hypervisor', 'ansible/roles/kolla-openstack/tasks/config.yml', 'ansible/roles/kolla-openstack/templates/keystone.conf.j2', 'etc/kayobe/kolla.yml', 'doc/source/configuration/kolla-ansible.rst', 'ansible/roles/kolla-openstack/defaults/main.yml', 'releasenotes/notes/ignore-unconfigured-nets-93beaf96f43af1ed.yaml', 'ansible/group_vars/all/compute'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0a133818016fbc11eed26554817b6e65f358a756', 'message': ""Multiple updates for Kayobe\n\n---\n\n1. Gather facts for localhost in kolla-ansible.yml\n2. Don't include unconfigured networks in network_interfaces\n3. Added Keystone configuration extra config merge\n\n---\n\n1. Facts are necessary for the kolla-ansible role,\nwhich references the ansible_user_uid fact\n\n2. It is possible to skip configuring a network,\nby setting its name to None\n\nThis is done in networks.yml as follows:\n\nadmin_oc_net_name:\n\nCurrently, these networks may still be included in the 'network_interfaces'\nlist for each host, despite the fact that they are not in use.\n\nA classic example is when ironic is not enabled, it is currently still\nnecessary to define provisioning and cleaning networks.\n\nThis change avoids including any networks that have their name set to None\nin network_interfaces.\n\n3. Added support for Keystone custom configuration\n\nAdded tests and documentation to add support for keystone extra configuration\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com\n\nChange-Id: Iaa304221b8093ac71f9cdbb23edc84d1517578da\n(cherry picked from commit d8ee0fa027140fb8a7504bd6685b6dcdfe3ac8fe)\n""}]",0,667672,0a133818016fbc11eed26554817b6e65f358a756,10,4,1,14826,,,0,"Multiple updates for Kayobe

---

1. Gather facts for localhost in kolla-ansible.yml
2. Don't include unconfigured networks in network_interfaces
3. Added Keystone configuration extra config merge

---

1. Facts are necessary for the kolla-ansible role,
which references the ansible_user_uid fact

2. It is possible to skip configuring a network,
by setting its name to None

This is done in networks.yml as follows:

admin_oc_net_name:

Currently, these networks may still be included in the 'network_interfaces'
list for each host, despite the fact that they are not in use.

A classic example is when ironic is not enabled, it is currently still
necessary to define provisioning and cleaning networks.

This change avoids including any networks that have their name set to None
in network_interfaces.

3. Added support for Keystone custom configuration

Added tests and documentation to add support for keystone extra configuration

Co-Authored-By: Mark Goddard <mark@stackhpc.com

Change-Id: Iaa304221b8093ac71f9cdbb23edc84d1517578da
(cherry picked from commit d8ee0fa027140fb8a7504bd6685b6dcdfe3ac8fe)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/72/667672/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/monitoring', 'ansible/group_vars/all/seed', 'ansible/group_vars/all/controllers', 'ansible/kolla-ansible.yml', 'ansible/roles/kolla-openstack/molecule/enable-everything/tests/test_default.py', 'ansible/group_vars/all/storage', 'ansible/roles/kolla-openstack/molecule/enable-everything/molecule.yml', 'ansible/kolla-openstack.yml', 'ansible/group_vars/all/seed-hypervisor', 'ansible/roles/kolla-openstack/tasks/config.yml', 'ansible/roles/kolla-openstack/templates/keystone.conf.j2', 'etc/kayobe/kolla.yml', 'doc/source/configuration/kolla-ansible.rst', 'ansible/roles/kolla-openstack/defaults/main.yml', 'releasenotes/notes/ignore-unconfigured-nets-93beaf96f43af1ed.yaml', 'ansible/group_vars/all/compute']",16,0a133818016fbc11eed26554817b6e65f358a756,, compute_extra_network_interfaces) | reject('none') | unique | list }} (external_net_names if kolla_enable_neutron_provider_networks | bool else [])) | reject('none') | unique | list }}, compute_extra_network_interfaces) | unique | list }} (external_net_names if kolla_enable_neutron_provider_networks | bool else [])) | unique | list }},49,12
openstack%2Ftripleo-quickstart~master~I9d14a4a7db93bffd2cb54fda1082ce4c24e3fa33,openstack/tripleo-quickstart,master,I9d14a4a7db93bffd2cb54fda1082ce4c24e3fa33,Remove ARA install from ci-scripts,ABANDONED,2018-10-28 15:52:19.000000000,2019-07-31 18:16:11.000000000,,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-10-28 15:52:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/99335633f1bdbe3067c73b50dd2f1c2bf38bc1e4', 'message': 'Make ARA execution on collect logs a best efforth attempt\n\nAvoid collect-log failure if somethign goes wrong with ARA.\n\nNot setting build status as failure due to ARA failure, or even worse\nfailing to perform the rest of the collection.\n\nChange-Id: I9d14a4a7db93bffd2cb54fda1082ce4c24e3fa33\n'}, {'number': 2, 'created': '2019-02-08 17:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4269af2d4fcd2793724eb57aab0f50705ce6d6ca', 'message': 'Remove ARA direct dependency\n\nARA is called from collect-logs role and is not a direct dependency\nof quickstart.\n\nFor this reason we should not even list it in requirements as the\nroles is supposed to install it on the host(s) when called.\n\nChange-Id: I9d14a4a7db93bffd2cb54fda1082ce4c24e3fa33\n'}, {'number': 3, 'created': '2019-02-11 10:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e194a05ace5b8442843da5cfade00073a6ea59bc', 'message': 'Remove ARA install from ci-scripts\n\nARA is called from collect-logs role and we should not install it\nourselves in ci code.\n\nChange-Id: I9d14a4a7db93bffd2cb54fda1082ce4c24e3fa33\n'}, {'number': 4, 'created': '2019-04-03 12:28:26.000000000', 'files': ['ci-scripts/collect-logs.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/32b462bb4d6ca89ef8eafff73b8d89793cd6154e', 'message': 'Remove ARA install from ci-scripts\n\nARA is called from collect-logs role and we should not install it\nourselves in ci code.\n\nChange-Id: I9d14a4a7db93bffd2cb54fda1082ce4c24e3fa33\n'}]",2,613795,32b462bb4d6ca89ef8eafff73b8d89793cd6154e,22,10,4,24162,,,0,"Remove ARA install from ci-scripts

ARA is called from collect-logs role and we should not install it
ourselves in ci code.

Change-Id: I9d14a4a7db93bffd2cb54fda1082ce4c24e3fa33
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/95/613795/4 && git format-patch -1 --stdout FETCH_HEAD,['ci-scripts/collect-logs.sh'],1,99335633f1bdbe3067c73b50dd2f1c2bf38bc1e4,ara,"$WORKSPACE/bin/ara generate html $WORKSPACE/ara && \ gzip --recursive --best $WORKSPACE/ara || \ echo ""WARNING: ara failure detected.""",$WORKSPACE/bin/ara generate html $WORKSPACE/ara gzip --recursive --best $WORKSPACE/ara,3,2
openstack%2Fdevstack~stable%2Fpike~I91093a424f8d5e8007f140083e1ea36a81fe849f,openstack/devstack,stable/pike,I91093a424f8d5e8007f140083e1ea36a81fe849f,Allow plugin names to contain non-letter characters,MERGED,2019-07-30 07:45:44.000000000,2019-07-31 18:10:26.000000000,2019-07-31 18:10:26.000000000,"[{'_account_id': 7118}, {'_account_id': 10459}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 07:45:44.000000000', 'files': ['roles/write-devstack-local-conf/library/devstack_local_conf.py', 'roles/write-devstack-local-conf/library/test.py'], 'web_link': 'https://opendev.org/openstack/devstack/commit/ab661a25f11cf6818da94d5e1db31a6023e9ac59', 'message': 'Allow plugin names to contain non-letter characters\n\nThere are already devstack plugins that contain a hyphen in the name,\nlike `networking-baremetal`. In order to allow ordering for these to\nwork properly, amend the regexes we are using to match any\nnon-whitespace characters instead of only alphanumerics.\n\nAmend the test to cover this use case.\n\nChange-Id: I91093a424f8d5e8007f140083e1ea36a81fe849f\nCloses-Bug: 1809016\n(cherry picked from commit 0b855007f8d44662ad4fd52bda7df85f94b241c2)\n'}]",0,673431,ab661a25f11cf6818da94d5e1db31a6023e9ac59,14,4,1,10459,,,0,"Allow plugin names to contain non-letter characters

There are already devstack plugins that contain a hyphen in the name,
like `networking-baremetal`. In order to allow ordering for these to
work properly, amend the regexes we are using to match any
non-whitespace characters instead of only alphanumerics.

Amend the test to cover this use case.

Change-Id: I91093a424f8d5e8007f140083e1ea36a81fe849f
Closes-Bug: 1809016
(cherry picked from commit 0b855007f8d44662ad4fd52bda7df85f94b241c2)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/31/673431/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/write-devstack-local-conf/library/devstack_local_conf.py', 'roles/write-devstack-local-conf/library/test.py']",2,ab661a25f11cf6818da94d5e1db31a6023e9ac59,," f.write('define_plugin foo-plugin\n') f.write('define_plugin bar-plugin\n') f.write('plugin_requires bar-plugin foo-plugin\n') ('bar-plugin', 'git://git.openstack.org/openstack/bar-plugin'), ('foo-plugin', 'git://git.openstack.org/openstack/foo-plugin'), self.assertEqual(['foo-plugin', 'bar-plugin'], plugins)"," f.write('define_plugin foo\n') f.write('define_plugin bar\n') f.write('plugin_requires bar foo\n') ('bar', 'git://git.openstack.org/openstack/bar-plugin'), ('foo', 'git://git.openstack.org/openstack/foo-plugin'), self.assertEqual(['foo', 'bar'], plugins)",8,8
openstack%2Fnova~master~I361af845d6a733618ecd056aa7df973191184ae9,openstack/nova,master,I361af845d6a733618ecd056aa7df973191184ae9,Get rid of args to RBDDriver.__init__(),MERGED,2019-07-01 22:11:41.000000000,2019-07-31 18:10:19.000000000,2019-07-31 18:10:19.000000000,"[{'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-01 22:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3eb01df1a86ccb6bce99872f64eb13431ed2c65d', 'message': 'Get rid of args to RBDDriver.__init__()\n\nWhile reviewing [1] I noticed an annoying and unnecessary\ncoupling/duplication of references to the CONF variables for RBD. This\ncommit consolidates them down to a single source, the guts of\nRBDDriver.__init__().\n\n[1] https://review.opendev.org/667421\n\nChange-Id: I361af845d6a733618ecd056aa7df973191184ae9\n'}, {'number': 2, 'created': '2019-07-03 07:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b4d919324fd0becab10e5c2274b615c4ba203a9', 'message': 'Get rid of args to RBDDriver.__init__()\n\nWhile reviewing [1] I noticed an annoying and unnecessary\ncoupling/duplication of references to the CONF variables for RBD. This\ncommit consolidates them down to a single source, the guts of\nRBDDriver.__init__().\n\n[1] https://review.opendev.org/667421\n\nChange-Id: I361af845d6a733618ecd056aa7df973191184ae9\n'}, {'number': 3, 'created': '2019-07-04 10:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8cae950fb62c5d3d2124bd3dab46b287d27505bf', 'message': 'Get rid of args to RBDDriver.__init__()\n\nWhile reviewing [1] I noticed an annoying and unnecessary\ncoupling/duplication of references to the CONF variables for RBD. This\ncommit consolidates them down to a single source, the guts of\nRBDDriver.__init__().\n\nAs part of this a workaround is also removed concerning the passing of\nconffile=None to RADOS via python-rbd. The following change merged in\n2014 so we can now return None when ``[libvirt]/images_rbd_ceph_conf``\nis not set:\n\nMake python rados.Rados accept conffile=None\nhttps://github.com/ceph/ceph/pull/1787\n\n[1] https://review.opendev.org/667421\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nChange-Id: I361af845d6a733618ecd056aa7df973191184ae9\n'}, {'number': 4, 'created': '2019-07-05 08:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a994ffa676cf3c37dc0d2336f7f637d14f58eb1', 'message': 'Get rid of args to RBDDriver.__init__()\n\nWhile reviewing [1] I noticed an annoying and unnecessary\ncoupling/duplication of references to the CONF variables for RBD. This\ncommit consolidates them down to a single source, the guts of\nRBDDriver.__init__().\n\nAs part of this a workaround is also removed concerning the passing of\nconffile=None to RADOS via python-rbd. The following change merged in\n2014 so we can now return None when ``[libvirt]/images_rbd_ceph_conf``\nis not set:\n\nMake python rados.Rados accept conffile=None\nhttps://github.com/ceph/ceph/pull/1787\n\n[1] https://review.opendev.org/667421\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nChange-Id: I361af845d6a733618ecd056aa7df973191184ae9\n'}, {'number': 5, 'created': '2019-07-05 12:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a2d23a7e7f134d530577566ad61bfcda144cb62', 'message': 'Get rid of args to RBDDriver.__init__()\n\nWhile reviewing [1] I noticed an annoying and unnecessary\ncoupling/duplication of references to the CONF variables for RBD. This\ncommit consolidates them down to a single source, the guts of\nRBDDriver.__init__().\n\nAs part of this a workaround is also removed concerning the passing of\nconffile=None to RADOS via python-rbd. The following change merged in\n2014 so we can now return None when ``[libvirt]/images_rbd_ceph_conf``\nis not set:\n\nMake python rados.Rados accept conffile=None\nhttps://github.com/ceph/ceph/pull/1787\n\n[1] https://review.opendev.org/667421\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nChange-Id: I361af845d6a733618ecd056aa7df973191184ae9\n'}, {'number': 6, 'created': '2019-07-16 11:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e550db9f7e908fb97685d98e1cb1d7ac3941f1a5', 'message': 'Get rid of args to RBDDriver.__init__()\n\nWhile reviewing [1] I noticed an annoying and unnecessary\ncoupling/duplication of references to the CONF variables for RBD. This\ncommit consolidates them down to a single source, the guts of\nRBDDriver.__init__().\n\nAs part of this a workaround is also removed concerning the passing of\nconffile=None to RADOS via python-rbd. The following change merged in\n2014 so we can now return None when ``[libvirt]/images_rbd_ceph_conf``\nis not set:\n\nMake python rados.Rados accept conffile=None\nhttps://github.com/ceph/ceph/pull/1787\n\n[1] https://review.opendev.org/667421\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nChange-Id: I361af845d6a733618ecd056aa7df973191184ae9\n'}, {'number': 7, 'created': '2019-07-29 08:02:19.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/tests/unit/virt/libvirt/storage/test_rbd.py', 'nova/virt/libvirt/storage/rbd_utils.py', 'nova/virt/libvirt/imagebackend.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/45026cb5c1b0d40324a6183006b4a397c2d9342c', 'message': 'Get rid of args to RBDDriver.__init__()\n\nWhile reviewing [1] I noticed an annoying and unnecessary\ncoupling/duplication of references to the CONF variables for RBD. This\ncommit consolidates them down to a single source, the guts of\nRBDDriver.__init__().\n\nAs part of this a workaround is also removed concerning the passing of\nconffile=None to RADOS via python-rbd. The following change merged in\n2014 so we can now return None when ``[libvirt]/images_rbd_ceph_conf``\nis not set:\n\nMake python rados.Rados accept conffile=None\nhttps://github.com/ceph/ceph/pull/1787\n\n[1] https://review.opendev.org/667421\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nChange-Id: I361af845d6a733618ecd056aa7df973191184ae9\n'}]",5,668564,45026cb5c1b0d40324a6183006b4a397c2d9342c,91,16,7,14070,,,0,"Get rid of args to RBDDriver.__init__()

While reviewing [1] I noticed an annoying and unnecessary
coupling/duplication of references to the CONF variables for RBD. This
commit consolidates them down to a single source, the guts of
RBDDriver.__init__().

As part of this a workaround is also removed concerning the passing of
conffile=None to RADOS via python-rbd. The following change merged in
2014 so we can now return None when ``[libvirt]/images_rbd_ceph_conf``
is not set:

Make python rados.Rados accept conffile=None
https://github.com/ceph/ceph/pull/1787

[1] https://review.opendev.org/667421

Co-Authored-By: Lee Yarwood <lyarwood@redhat.com>
Change-Id: I361af845d6a733618ecd056aa7df973191184ae9
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/668564/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/storage/test_rbd.py', 'nova/virt/libvirt/storage/rbd_utils.py', 'nova/virt/libvirt/imagebackend.py']",4,3eb01df1a86ccb6bce99872f64eb13431ed2c65d,nix-RBDDriver-init-args, self.driver = rbd_utils.RBDDriver() self.pool = self.driver.pool self.rbd_user = self.driver.rbd_user if self.driver.ceph_conf: path += ':conf=' + self.driver.ceph_conf," self.pool = CONF.libvirt.images_rbd_pool self.rbd_user = CONF.libvirt.rbd_user self.rbd_connect_timeout = CONF.libvirt.rbd_connect_timeout self.ceph_conf = CONF.libvirt.images_rbd_ceph_conf if self.ceph_conf: path += ':conf=' + self.ceph_conf self.driver = rbd_utils.RBDDriver( pool=self.pool, ceph_conf=self.ceph_conf, rbd_user=self.rbd_user, rbd_connect_timeout=self.rbd_connect_timeout) ",22,31
openstack%2Fkolla-ansible~master~I6d205fe327f198e699519ebe9d589b9ee77a62d2,openstack/kolla-ansible,master,I6d205fe327f198e699519ebe9d589b9ee77a62d2,Fix fluentd monasca pos path for Debian/Ubuntu x86_64,MERGED,2019-07-30 10:50:09.000000000,2019-07-31 18:09:53.000000000,2019-07-31 18:09:53.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-30 10:50:09.000000000', 'files': ['ansible/roles/common/templates/conf/input/09-monasca.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/19b345de3eae2266f13dcb3c3efa1b3c49fe892a', 'message': 'Fix fluentd monasca pos path for Debian/Ubuntu x86_64\n\nChange-Id: I6d205fe327f198e699519ebe9d589b9ee77a62d2\nCloses-Bug: #1837274\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}]",0,673479,19b345de3eae2266f13dcb3c3efa1b3c49fe892a,10,5,1,30491,,,0,"Fix fluentd monasca pos path for Debian/Ubuntu x86_64

Change-Id: I6d205fe327f198e699519ebe9d589b9ee77a62d2
Closes-Bug: #1837274
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/79/673479/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/input/09-monasca.conf.j2'],1,19b345de3eae2266f13dcb3c3efa1b3c49fe892a,bug/1837274,"{% set fluentd_dir = 'td-agent' if (kolla_base_distro in ['ubuntu', 'debian'] and ansible_architecture == 'x86_64') else 'fluentd' %} pos_file /var/run/{{ fluentd_dir }}/monasca-agent.pos pos_file /var/run/{{ fluentd_dir }}/monasca-grafana.pos", pos_file /var/run/fluentd/monasca-agent.pos pos_file /var/run/fluentd/monasca-grafana.pos,3,3
openstack%2Fopenstack-ansible-os_nova~master~Id2f266def07e0ba6967746738efd07cff628a19a,openstack/openstack-ansible-os_nova,master,Id2f266def07e0ba6967746738efd07cff628a19a,Ensure that UEFI firmware is present for aarch64,MERGED,2018-11-26 12:18:16.000000000,2019-07-31 17:48:54.000000000,2019-07-31 17:48:54.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29574}]","[{'number': 1, 'created': '2018-11-26 12:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/8c674c6a2d8d4d9a7a95b4589a73d6fd9ec2647c', 'message': 'Ensure that UEFI firmware is present\n\nImages that require UEFI boot need the OVMF firmaware to be present\non the compute host.\n\nThe qemu-efi bionic package will also satisy this requirement for\naarch64 as it has a dependancy on qemu-efi-aarch64.\n\nChange-Id: Id2f266def07e0ba6967746738efd07cff628a19a\n'}, {'number': 2, 'created': '2018-11-26 14:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/7f3c42272be76321211045a50f65bd21495fdecf', 'message': 'Ensure that UEFI firmware is present\n\nImages that require UEFI boot need the OVMF firmaware to be present\non the compute host.\n\nThe qemu-efi bionic package will also satisy this requirement for\naarch64 as it has a dependancy on qemu-efi-aarch64.\n\nChange-Id: Id2f266def07e0ba6967746738efd07cff628a19a\n'}, {'number': 3, 'created': '2018-11-26 16:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/1bd095e606055884c069effef6243c89dbb7ac98', 'message': 'Ensure that UEFI firmware is present\n\nImages that require UEFI boot need the OVMF firmaware to be present\non the compute host.\n\nThe qemu-efi bionic package will also satisy this requirement for\naarch64 as it has a dependancy on qemu-efi-aarch64.\n\nChange-Id: Id2f266def07e0ba6967746738efd07cff628a19a\n'}, {'number': 4, 'created': '2018-11-28 07:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/a6ed1a7ad38de9e384519c0676d26669e64df55e', 'message': 'Ensure that UEFI firmware is present\n\nImages that require UEFI boot need the OVMF firmaware to be present\non the compute host.\n\nThe qemu-efi bionic package will also satisfy this requirement for\naarch64 as it has a dependancy on qemu-efi-aarch64.\n\nChange-Id: Id2f266def07e0ba6967746738efd07cff628a19a\n'}, {'number': 5, 'created': '2019-07-27 16:35:56.000000000', 'files': ['vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/999e1b91a0a0f8e8a78203ffdce7b55d93c3a74c', 'message': 'Ensure that UEFI firmware is present for aarch64\n\nThe qemu-efi package will pull in the x86_64 and aarch64 uefi firmware\nensuring both architectures are supported on debian/ubuntu\n\nChange-Id: Id2f266def07e0ba6967746738efd07cff628a19a\n'}]",0,620026,999e1b91a0a0f8e8a78203ffdce7b55d93c3a74c,23,5,5,25023,,,0,"Ensure that UEFI firmware is present for aarch64

The qemu-efi package will pull in the x86_64 and aarch64 uefi firmware
ensuring both architectures are supported on debian/ubuntu

Change-Id: Id2f266def07e0ba6967746738efd07cff628a19a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/26/620026/4 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat-7.yml', 'vars/ubuntu.yml', 'vars/suse.yml']",3,8c674c6a2d8d4d9a7a95b4589a73d6fd9ec2647c,620026, - ovmf,,3,0
openstack%2Fnetworking-sfc~master~I799b976d1e8764de344e7dc8efe27767800611e0,openstack/networking-sfc,master,I799b976d1e8764de344e7dc8efe27767800611e0,Update the constraints url,MERGED,2019-07-03 09:40:33.000000000,2019-07-31 17:46:48.000000000,2019-07-31 17:46:48.000000000,"[{'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 17130}, {'_account_id': 18955}, {'_account_id': 21883}, {'_account_id': 22348}, {'_account_id': 26222}]","[{'number': 1, 'created': '2019-07-03 09:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/22b0e17ccd4409eee87544bb524b1de42a951351', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I799b976d1e8764de344e7dc8efe27767800611e0\n'}, {'number': 2, 'created': '2019-07-05 13:25:30.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/7fb02079435f3963c95da3514e3f19d04fdea2e4', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I799b976d1e8764de344e7dc8efe27767800611e0\n'}]",0,668848,7fb02079435f3963c95da3514e3f19d04fdea2e4,12,7,2,18955,,,0,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I799b976d1e8764de344e7dc8efe27767800611e0
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/48/668848/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,22b0e17ccd4409eee87544bb524b1de42a951351,,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},1,1
openstack%2Ftripleo-heat-templates~master~I657bfa8ed565c9283d8736dd078f5efe316472fd,openstack/tripleo-heat-templates,master,I657bfa8ed565c9283d8736dd078f5efe316472fd,Convert THT file to use new role,MERGED,2019-07-16 16:46:33.000000000,2019-07-31 17:40:37.000000000,2019-07-31 17:40:37.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-16 16:46:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/843d70c6986cef52fdeadc4afa98c6f7dcde1a11', 'message': 'Convert THT file to use new role\n\nThe THT file has been converted to use a newly created role found within\nTripleO-Ansible. The THT process will now run all tasks through the role\nusing ""include_role"". To ensure we\'re keeping things separated, all of\nthe data transformations will still be taken care of in the heat template.\nThis ensures we have clean lines of separation allowing both services to\nwork as expected, without nuance or confusion.\n\nChange-Id: I657bfa8ed565c9283d8736dd078f5efe316472fd\nStory: 2006017\nTask: 34602\nDepends-On: Ia7fd611320d2f29b330a04484dca3146d74d8d82\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-07-18 15:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9cf238d8450035f4e093eff186637598509c5887', 'message': 'Convert THT file to use new role\n\nThe THT file has been converted to use a newly created role found within\nTripleO-Ansible. The THT process will now run all tasks through the role\nusing ""include_role"". To ensure we\'re keeping things separated, all of\nthe data transformations will still be taken care of in the heat template.\nThis ensures we have clean lines of separation allowing both services to\nwork as expected, without nuance or confusion.\n\nChange-Id: I657bfa8ed565c9283d8736dd078f5efe316472fd\nStory: 2006017\nTask: 34602\nDepends-On: Ia7fd611320d2f29b330a04484dca3146d74d8d82\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2019-07-19 13:51:39.000000000', 'files': ['deployment/podman/podman-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8b0b12e77d638e67c847ae7f2ad38394e0db024f', 'message': 'Convert THT file to use new role\n\nThe THT file has been converted to use a newly created role found within\nTripleO-Ansible. The THT process will now run all tasks through the role\nusing ""include_role"". To ensure we\'re keeping things separated, all of\nthe data transformations will still be taken care of in the heat template.\nThis ensures we have clean lines of separation allowing both services to\nwork as expected, without nuance or confusion.\n\nChange-Id: I657bfa8ed565c9283d8736dd078f5efe316472fd\nStory: 2006017\nTask: 34602\nDepends-On: Ia7fd611320d2f29b330a04484dca3146d74d8d82\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",8,671107,8b0b12e77d638e67c847ae7f2ad38394e0db024f,25,7,3,7353,,,0,"Convert THT file to use new role

The THT file has been converted to use a newly created role found within
TripleO-Ansible. The THT process will now run all tasks through the role
using ""include_role"". To ensure we're keeping things separated, all of
the data transformations will still be taken care of in the heat template.
This ensures we have clean lines of separation allowing both services to
work as expected, without nuance or confusion.

Change-Id: I657bfa8ed565c9283d8736dd078f5efe316472fd
Story: 2006017
Task: 34602
Depends-On: Ia7fd611320d2f29b330a04484dca3146d74d8d82
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/671107/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/podman/podman-baremetal-ansible.yaml'],1,843d70c6986cef52fdeadc4afa98c6f7dcde1a11,THT2TA," - name: Run podman install include_role: name: tripleo-podman tasks_from: tripleo_podman_install.yml vars_from: ""redhat.yml"" vars: tripleo_container_registry_insecure_registries: ""{{ container_registry_insecure_registries }}"" - name: Run podman login include_role: name: tripleo-podman tasks_from: tripleo_podman_login.yml vars: tripleo_container_registry_logins: ""{{ container_registry_logins }}"" tripleo_container_registry_login: ""{{ container_registry_login | bool }}"" - name: Run podman docker stop include_role: name: tripleo-podman tasks_from: tripleo_docker_stop.yml - name: Run podman install when: - (step | int) == 1 include_role: name: tripleo-podman tasks_from: tripleo_podman_install.yml vars_from: ""redhat.yml"" post_upgrade_tasks: - name: Run podman docker purge when: - (step | int) == 3 include_role: name: tripleo-podman tasks_from: tripleo_docker_purge.yml - name: Run podman docker stop include_role: name: tripleo-podman tasks_from: tripleo_docker_stop.yml - name: Purge Podman when: - (step | int) == 3 include_role: name: tripleo-podman tasks_from: tripleo_podman_purge.yml post_update_tasks: - name: Purge Podman when: - (step | int) == 3 include_role: name: tripleo-podman tasks_from: tripleo_podman_purge.yml"," - name: ensure podman and deps are installed package: name: podman state: latest - name: Remove default cni config for cni0 if exists copy: dest: /etc/cni/net.d/87-podman-bridge.conflist content: '' force: yes ignore_errors: True - name: Delete cni0 interface if exists command: ip link delete cni0 ignore_errors: True - name: configure insecure registries /etc/containers/registries.conf ini_file: path: /etc/containers/registries.conf section: 'registries.insecure' option: registries value: ""{{ container_registry_insecure_registries }}"" when: container_registry_insecure_registries | length > 0 - name: Perform container registry login(s) shell: podman login --username=$REGISTRY_USERNAME --password=$REGISTRY_PASSWORD $REGISTRY environment: REGISTRY_USERNAME: ""{{ lookup('dict', item.value).key }}"" REGISTRY_PASSWORD: ""{{ lookup('dict', item.value).value }}"" REGISTRY: ""{{ item.key }}"" loop: ""{{ query('dict', container_registry_logins | default({})) }}"" when: - container_registry_login | bool - container_registry_logins - block: - name: Stop all services by stopping all Docker containers when: step|int == 3 shell: docker ps -q | xargs --no-run-if-empty -n1 docker stop # Upgrade tasks for Pacemaker-managed services tasks pull # container images in step 2, we need insecure registries # configured in step 1. - name: Install and configure Podman when: step|int == 1 block: *install_and_configure_podman post_upgrade_tasks: - name: Purge everything about Docker on the host when: step|int == 3 block: - name: Check if docker has some data stat: path: /var/lib/docker register: docker_path_stat - name: Purge Docker when: docker_path_stat.stat.exists block: - name: Ensure docker service is running systemd: name: docker register: docker_service_state - name: Run docker system prune shell: docker system prune -a -f when: docker_service_state.status['SubState'] == 'running' - name: Stop and disable Docker service when: docker_service_state.status['SubState'] == 'running' systemd: name: docker state: stopped enabled: no - name: Uninstall Docker rpm package: name: docker state: absent - name: Get the list of directory mounted under /var/lib/docker/ orderer. shell: | mount | awk '/\/var\/lib\/docker\/[^/]+\// {print $3}'; mount | awk '/\/var\/lib\/docker\/[^/]+$/ {print $3}'; register: unmounted_dirs - name: Unmount those directories mount: path: ""{{ item }}"" state: unmounted loop: ""{{ unmounted_dirs.stdout_lines }}"" - name: Purge /var/lib/docker file: path: /var/lib/docker state: absent - name: Clean podman when: - step|int == 3 block: - name: Purge Podman block: - name: Clean podman images shell: podman image prune -a - name: Clean podman volumes shell: podman volume prune -f post_update_tasks: - name: Clean podman when: - step|int == 3 block: - name: Purge Podman block: - name: Clean podman images shell: podman image prune -a - name: Clean podman volumes shell: podman volume prune -f",53,100
openstack%2Fpython-tripleoclient~master~I0668241a1675dd4e344cc24b6ff2cbb8f93b7a45,openstack/python-tripleoclient,master,I0668241a1675dd4e344cc24b6ff2cbb8f93b7a45,Add gathering_policy parameter to run_ansible_playbook function,MERGED,2019-07-23 12:33:23.000000000,2019-07-31 17:40:34.000000000,2019-07-31 17:40:34.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-23 12:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/48d62eb49da88bc7e46b29abc752e0860950da3d', 'message': ""Add gathering_policy parameter to run_ansible_playbook function\n\nThis patch adds a new parameter called 'gathering_policy' (Defaults to\nNone) to the 'run_ansible_playbook' function. This parameter will\ncontrol the default policy of the Ansible fact gathering. Sets to None\nby default, it will use the default policy for Ansible (ie. 'implicit').\n\nChange-Id: I0668241a1675dd4e344cc24b6ff2cbb8f93b7a45\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 2, 'created': '2019-07-23 14:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0f9d5ae200f366a126e8103fa866f1577432961b', 'message': ""Add gathering_policy parameter to run_ansible_playbook function\n\nThis patch adds a new parameter called 'gathering_policy' (Defaults to\nNone) to the 'run_ansible_playbook' function. This parameter will\ncontrol the default policy of the Ansible fact gathering. Sets to None\nby default, it will use the default policy for Ansible (ie. 'implicit').\n\nChange-Id: I0668241a1675dd4e344cc24b6ff2cbb8f93b7a45\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 3, 'created': '2019-07-31 08:44:44.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d7793ce1a5eef8b076318aecc17ecbe5dcb418d6', 'message': ""Add gathering_policy parameter to run_ansible_playbook function\n\nThis patch adds a new parameter called 'gathering_policy' (Defaults to\nNone) to the 'run_ansible_playbook' function. This parameter will\ncontrol the default policy of the Ansible fact gathering. Sets to None\nby default, it will use the default policy for Ansible (ie. 'implicit').\n\nChange-Id: I0668241a1675dd4e344cc24b6ff2cbb8f93b7a45\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}]",0,672278,d7793ce1a5eef8b076318aecc17ecbe5dcb418d6,13,6,3,11491,,,0,"Add gathering_policy parameter to run_ansible_playbook function

This patch adds a new parameter called 'gathering_policy' (Defaults to
None) to the 'run_ansible_playbook' function. This parameter will
control the default policy of the Ansible fact gathering. Sets to None
by default, it will use the default policy for Ansible (ie. 'implicit').

Change-Id: I0668241a1675dd4e344cc24b6ff2cbb8f93b7a45
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/78/672278/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py']",4,48d62eb49da88bc7e46b29abc752e0860950da3d,bp/validation-framework," python_interpreter=python_interpreter, gathering_policy='explicit')", python_interpreter=python_interpreter),64,3
openstack%2Fpython-tripleoclient~master~Ibdc3fc7ea9d3dec9531a2ce29ec8a1477c33c780,openstack/python-tripleoclient,master,Ibdc3fc7ea9d3dec9531a2ce29ec8a1477c33c780,Use static inventory YAML file for saving execution time,MERGED,2019-07-19 08:50:29.000000000,2019-07-31 17:40:33.000000000,2019-07-31 17:40:33.000000000,"[{'_account_id': 11082}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-19 08:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/89137b6b568b4935cacbeb973cf625d1b84f8ab4', 'message': 'Use static inventory YAML file for saving execution time\n\nThe validations execution will use now a static inventory file to speed\nup things a bit.\n\nChange-Id: Ibdc3fc7ea9d3dec9531a2ce29ec8a1477c33c780\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2019-07-19 09:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8ef27869a39fecb9c8e2bcf7dbe8374689ec6675', 'message': 'Use static inventory YAML file for saving execution time\n\nThe validations execution will use now a static inventory file to speed\nup things a bit. Note that this file will be removed after execution.\n\nChange-Id: Ibdc3fc7ea9d3dec9531a2ce29ec8a1477c33c780\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2019-07-23 09:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fe023527d17266136bc2c7177775138f3c2a655b', 'message': 'Use static inventory YAML file for saving execution time\n\nThe validations execution will use now a static inventory file to speed\nup things a bit. Note that this file will be removed after execution.\n\nChange-Id: Ibdc3fc7ea9d3dec9531a2ce29ec8a1477c33c780\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 4, 'created': '2019-07-23 09:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a20ea74738e42e2f05ab1c4b36205c7f822d3f8d', 'message': 'Use static inventory YAML file for saving execution time\n\nThe validations execution will use now a static inventory file to speed\nup things a bit. Note that this file will be removed after execution.\n\nChange-Id: Ibdc3fc7ea9d3dec9531a2ce29ec8a1477c33c780\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 5, 'created': '2019-07-23 10:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5d21388c11150815dcfa9c6171c51df6d6944c7b', 'message': 'Use static inventory YAML file for saving execution time\n\nThe validations execution will use now a static inventory file to speed\nup things a bit. Note that this file will be removed after execution.\n\nChange-Id: Ibdc3fc7ea9d3dec9531a2ce29ec8a1477c33c780\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 6, 'created': '2019-07-23 11:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fd7ecd2b2633bb23f03e9b25ef1afb8ddd344c51', 'message': 'Use static inventory YAML file for saving execution time\n\nThe validations execution will use now a static inventory file to speed\nup things a bit. Note that this file will be removed after execution.\n\nChange-Id: Ibdc3fc7ea9d3dec9531a2ce29ec8a1477c33c780\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 7, 'created': '2019-07-23 14:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/66698a1c0c842314af76c7bd709c1b8611ed1e91', 'message': 'Use static inventory YAML file for saving execution time\n\nThe validations execution will use now a static inventory file to speed\nup things a bit. Note that this file will be removed after execution.\n\nChange-Id: Ibdc3fc7ea9d3dec9531a2ce29ec8a1477c33c780\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 8, 'created': '2019-07-31 08:44:17.000000000', 'files': ['tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4f55cdf59ad871dccf107e191c9c738c22fe26f4', 'message': 'Use static inventory YAML file for saving execution time\n\nThe validations execution will use now a static inventory file to speed\nup things a bit. Note that this file will be removed after execution.\n\nChange-Id: Ibdc3fc7ea9d3dec9531a2ce29ec8a1477c33c780\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}]",4,671683,4f55cdf59ad871dccf107e191c9c738c22fe26f4,28,6,8,11491,,,0,"Use static inventory YAML file for saving execution time

The validations execution will use now a static inventory file to speed
up things a bit. Note that this file will be removed after execution.

Change-Id: Ibdc3fc7ea9d3dec9531a2ce29ec8a1477c33c780
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/83/671683/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py']",2,89137b6b568b4935cacbeb973cf625d1b84f8ab4,bp/validation-framework," static_inventory = oooutils.get_tripleo_ansible_inventory( ssh_user='heat-admin', stack=parsed_args.plan, return_inventory_file_path=True) inventory=static_inventory,"," inventory='/usr/bin/tripleo-ansible-inventory',",13,5
openstack%2Fpython-tripleoclient~master~I188604f7767b51a0f485bd79ff3497af56586b13,openstack/python-tripleoclient,master,I188604f7767b51a0f485bd79ff3497af56586b13,Don't use local connection by default for the validations,MERGED,2019-07-18 13:44:47.000000000,2019-07-31 17:40:32.000000000,2019-07-31 17:40:32.000000000,"[{'_account_id': 3153}, {'_account_id': 11082}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-18 13:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c845b98fa3d0208bbafebf25812ca937010860c8', 'message': ""Don't use local connection by default for the validations\n\nWhen using local connection, all the validations targeting the overcloud\nnodes are failing. Let's use the connection mode from the Ansible\ninventory.\n\nChange-Id: I188604f7767b51a0f485bd79ff3497af56586b13\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 2, 'created': '2019-07-23 09:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d1fe7685d6934b30b45ed32131d28c461c204836', 'message': ""Don't use local connection by default for the validations\n\nWhen using local connection, all the validations targeting the overcloud\nnodes are failing. Let's use the connection mode from the Ansible\ninventory.\n\nChange-Id: I188604f7767b51a0f485bd79ff3497af56586b13\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 3, 'created': '2019-07-31 08:43:39.000000000', 'files': ['tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/82887ef228659c7494f51b7e37eb177ff98b69bc', 'message': ""Don't use local connection by default for the validations\n\nWhen using local connection, all the validations targeting the overcloud\nnodes are failing. Let's use the connection mode from the Ansible\ninventory.\n\nChange-Id: I188604f7767b51a0f485bd79ff3497af56586b13\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}]",0,671491,82887ef228659c7494f51b7e37eb177ff98b69bc,21,9,3,11491,,,0,"Don't use local connection by default for the validations

When using local connection, all the validations targeting the overcloud
nodes are failing. Let's use the connection mode from the Ansible
inventory.

Change-Id: I188604f7767b51a0f485bd79ff3497af56586b13
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/91/671491/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'tripleoclient/v1/tripleo_validator.py']",2,c845b98fa3d0208bbafebf25812ca937010860c8,bp/validation-framework,," connection='local',",0,2
openstack%2Fpython-tripleoclient~master~I6f8f55963f3f5261ec1497b650e0ca509d31dd32,openstack/python-tripleoclient,master,I6f8f55963f3f5261ec1497b650e0ca509d31dd32,Add plan parameter to run_ansible_playbook function,MERGED,2019-07-17 13:33:24.000000000,2019-07-31 17:40:31.000000000,2019-07-31 17:40:31.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-17 13:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/aa4af6dd4c1a3d94426704f25bc1a32a3dd3efb9', 'message': 'Add plan parameter to run_ansible_playbook function\n\nThis patch adds a new parameter called \'plan\' (Defaults to ""overcloud"")\nto the \'run_ansible_playbook\' function. It will allow to execute\nValidations with Ansible in a different plan or stack that the\ndefault one through the TripleO CLI.\n\nNote: This was already possible only while using Mistral but not for\nAnsible.\n\nChange-Id: I6f8f55963f3f5261ec1497b650e0ca509d31dd32\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2019-07-17 15:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f46c6265d6ed921975ff6c193d62a51476181de9', 'message': 'Add plan parameter to run_ansible_playbook function\n\nThis patch adds a new parameter called \'plan\' (Defaults to ""overcloud"")\nto the \'run_ansible_playbook\' function. It will allow to execute\nValidations with Ansible in a different plan or stack that the default\none through the TripleO CLI. Note That it was already possible only\nwhile using Mistral but not for Ansible.\n\nThis patch also changes the default values of the \'tags\' and \'skip_tags\'\narguments to \'None\' and fixes their non Pythonic tests.\n\nChange-Id: I6f8f55963f3f5261ec1497b650e0ca509d31dd32\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2019-07-18 11:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/14369d2ddf0817edf37c817389b9c39debbaf8d5', 'message': 'Add plan parameter to run_ansible_playbook function\n\nThis patch adds a new parameter called \'plan\' (Defaults to ""overcloud"")\nto the \'run_ansible_playbook\' function. It will allow to execute\nValidations with Ansible in a different plan or stack that the default\none through the TripleO CLI. Note That it was already possible only\nwhile using Mistral but not for Ansible.\n\nThis patch also brings:\n- Change the default values of the \'tags\' and \'skip_tags\' arguments\n  to \'None\' and fixes their non Pythonic tests.\n- Add \'--stack\' alias to the \'--plan\' argument for \'validator run\'\n  command.\n\nChange-Id: I6f8f55963f3f5261ec1497b650e0ca509d31dd32\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 4, 'created': '2019-07-18 13:11:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1f8bcaf28c462e751de8710d868026c6508758e8', 'message': 'Add plan parameter to run_ansible_playbook function\n\nThis patch adds a new parameter called \'plan\' (Defaults to ""overcloud"")\nto the \'run_ansible_playbook\' function. It will allow to execute\nValidations with Ansible in a different plan or stack that the default\none through the TripleO CLI. Note That it was already possible only\nwhile using Mistral but not for Ansible.\n\nThis patch also brings:\n- Change the default values of the \'tags\' and \'skip_tags\' arguments\n  to \'None\' and fixes their non Pythonic tests.\n- Add \'--stack\' alias to the \'--plan\' argument for \'validator run\'\n  command.\n\nChange-Id: I6f8f55963f3f5261ec1497b650e0ca509d31dd32\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 5, 'created': '2019-07-23 09:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2a4099b48887ee2854b13c43392c8bc038037537', 'message': 'Add plan parameter to run_ansible_playbook function\n\nThis patch adds a new parameter called \'plan\' (Defaults to ""overcloud"")\nto the \'run_ansible_playbook\' function. It will allow to execute\nValidations with Ansible in a different plan or stack that the default\none through the TripleO CLI. Note That it was already possible only\nwhile using Mistral but not for Ansible.\n\nThis patch also brings:\n- Change the default values of the \'tags\' and \'skip_tags\' arguments\n  to \'None\' and fixes their non Pythonic tests.\n- Add \'--stack\' alias to the \'--plan\' argument for \'validator run\'\n  command.\n\nChange-Id: I6f8f55963f3f5261ec1497b650e0ca509d31dd32\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 6, 'created': '2019-07-31 08:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7469a080e6ebbe4f1ea19bc7bdda228bde8dabf0', 'message': 'Add plan parameter to run_ansible_playbook function\n\nThis patch adds a new parameter called \'plan\' (Defaults to ""overcloud"")\nto the \'run_ansible_playbook\' function. It will allow to execute\nValidations with Ansible in a different plan or stack that the default\none through the TripleO CLI. Note That it was already possible only\nwhile using Mistral but not for Ansible.\n\nThis patch also brings:\n- Change the default values of the \'tags\' and \'skip_tags\' arguments\n  to \'None\' and fixes their non Pythonic tests.\n- Add \'--stack\' alias to the \'--plan\' argument for \'validator run\'\n  command.\n\nChange-Id: I6f8f55963f3f5261ec1497b650e0ca509d31dd32\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 7, 'created': '2019-07-31 08:43:10.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/17e56a01d5d1efbb9307addb80a92fe242595412', 'message': 'Add plan parameter to run_ansible_playbook function\n\nThis patch adds a new parameter called \'plan\' (Defaults to ""overcloud"")\nto the \'run_ansible_playbook\' function. It will allow to execute\nValidations with Ansible in a different plan or stack that the default\none through the TripleO CLI. Note That it was already possible only\nwhile using Mistral but not for Ansible.\n\nThis patch also brings:\n- Change the default values of the \'tags\' and \'skip_tags\' arguments\n  to \'None\' and fixes their non Pythonic tests.\n- Add \'--stack\' alias to the \'--plan\' argument for \'validator run\'\n  command.\n\nChange-Id: I6f8f55963f3f5261ec1497b650e0ca509d31dd32\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}]",3,671289,17e56a01d5d1efbb9307addb80a92fe242595412,32,9,7,11491,,,0,"Add plan parameter to run_ansible_playbook function

This patch adds a new parameter called 'plan' (Defaults to ""overcloud"")
to the 'run_ansible_playbook' function. It will allow to execute
Validations with Ansible in a different plan or stack that the default
one through the TripleO CLI. Note That it was already possible only
while using Mistral but not for Ansible.

This patch also brings:
- Change the default values of the 'tags' and 'skip_tags' arguments
  to 'None' and fixes their non Pythonic tests.
- Add '--stack' alias to the '--plan' argument for 'validator run'
  command.

Change-Id: I6f8f55963f3f5261ec1497b650e0ca509d31dd32
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/89/671289/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py']",4,aa4af6dd4c1a3d94426704f25bc1a32a3dd3efb9,bp/validation-framework," plan=parsed_args.plan,",,14,1
openstack%2Fpython-tripleoclient~stable%2Fstein~I6e2255c0d490ee8105f0757d02f5d8fba1d4fa20,openstack/python-tripleoclient,stable/stein,I6e2255c0d490ee8105f0757d02f5d8fba1d4fa20,Add --parameters and --create-vars-file arguments to the list subcommand,MERGED,2019-07-31 08:40:14.000000000,2019-07-31 17:40:30.000000000,2019-07-31 17:40:30.000000000,"[{'_account_id': 3153}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-31 08:40:14.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'releasenotes/notes/Add_parameters_and_create-vars-file_arguments_to_the_list_subcommand-2e0944e5440c4216.yaml', 'tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/55fe3842a347f628a91dfd1d8343b0f6afc01a42', 'message': 'Add --parameters and --create-vars-file arguments to the list subcommand\n\nThe \'openstack tripleo validator list\' subcommand can now get only the\navailable parameters for the validations using the new --parameters\nargument.\n\n```\n$ openstack tripleo validator list \\\n    --parameters                   \\\n    [--validation-name <validation_id>[,<validation_id>,...] |\n     --group <group>[,<group>,...]]\n```\n\nHere is an output example:\n\n```\nWaiting for messages on queue \'tripleo\' with no timeout.\n{\n    ""undercloud-cpu"": {\n        ""parameters"": {\n            ""min_undercloud_cpu_count"": 8\n        }\n    },\n    ""undercloud-ram"": {\n        ""parameters"": {\n            ""min_undercloud_ram_gb"": 24\n        }\n    }\n}\n```\n\nThe --create-vars-file allow the operator to generate either a JSON or a\nYAML file containing only the parameters of one or multiple validations.\nThis file will be available to pass as extra vars to the validations\nexecution.\n\n```\n$ openstack tripleo validator list \\\n    --parameters                   \\\n    --create-vars-file [json|yaml] /home/stack/myvars \\\n    [--validation-name <validation_id>[,<validation_id>,...] |\n     --group <group>[,<group>,...]]\n```\n\nChange-Id: I6e2255c0d490ee8105f0757d02f5d8fba1d4fa20\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit d1084193f6d60559f28b8b71fc0f0f6c032b09c7)\n'}]",0,673759,55fe3842a347f628a91dfd1d8343b0f6afc01a42,8,6,1,11491,,,0,"Add --parameters and --create-vars-file arguments to the list subcommand

The 'openstack tripleo validator list' subcommand can now get only the
available parameters for the validations using the new --parameters
argument.

```
$ openstack tripleo validator list \
    --parameters                   \
    [--validation-name <validation_id>[,<validation_id>,...] |
     --group <group>[,<group>,...]]
```

Here is an output example:

```
Waiting for messages on queue 'tripleo' with no timeout.
{
    ""undercloud-cpu"": {
        ""parameters"": {
            ""min_undercloud_cpu_count"": 8
        }
    },
    ""undercloud-ram"": {
        ""parameters"": {
            ""min_undercloud_ram_gb"": 24
        }
    }
}
```

The --create-vars-file allow the operator to generate either a JSON or a
YAML file containing only the parameters of one or multiple validations.
This file will be available to pass as extra vars to the validations
execution.

```
$ openstack tripleo validator list \
    --parameters                   \
    --create-vars-file [json|yaml] /home/stack/myvars \
    [--validation-name <validation_id>[,<validation_id>,...] |
     --group <group>[,<group>,...]]
```

Change-Id: I6e2255c0d490ee8105f0757d02f5d8fba1d4fa20
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit d1084193f6d60559f28b8b71fc0f0f6c032b09c7)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/59/673759/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'releasenotes/notes/Add_parameters_and_create-vars-file_arguments_to_the_list_subcommand-2e0944e5440c4216.yaml', 'tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py']",5,55fe3842a347f628a91dfd1d8343b0f6afc01a42,bp/validation-framework-stable/stein," '--parameters', action='store_true', default=False, help=_(""List available validations parameters"") ) parser.add_argument( '--create-vars-file', metavar=('[json|yaml]', '/tmp/myvars'), action='store', default=[], nargs=2, help=_(""Create a json or a yaml file "" ""containing all the variables "" ""available for the validations: "" ""[yaml|json] /tmp/myvars"") ) ex_group = parser.add_mutually_exclusive_group(required=False) ex_group.add_argument( '--validation-name', metavar='<validation_id>[,<validation_id>,...]', action=_CommaListAction, default=[], help=_(""List specific validations, "" ""if more than one validation is required "" ""separate the names with commas: "" ""--validation-name check-ftype,512e | "" ""--validation-name 512e"") ) ex_group.add_argument( def _create_variables_file(self, data, varsfile): msg = (_(""The file %s already exists on the filesystem, "" ""do you still want to continue [y/N] "")) if varsfile[0] not in ['json', 'yaml']: raise RuntimeError(_('Wrong file type: %s') % varsfile[0]) else: LOG.debug(_('Launch variables file creation')) try: if os.path.exists(varsfile[-1]): confirm = oooutils.prompt_user_for_confirmation( message=msg % varsfile[-1], logger=LOG) if not confirm: raise RuntimeError(_(""Action not confirmed, exiting"")) with open(varsfile[-1], 'w') as f: params = {} for val_name in data.keys(): for k, v in data[val_name].get('parameters').items(): params[k] = v if varsfile[0] == 'json': f.write(oooutils.get_validations_json(params)) elif varsfile[0] == 'yaml': f.write(oooutils.get_validations_yaml(params)) print( _('The file %s has been created successfully') % varsfile[-1]) except Exception as e: print(_(""Creating variables file finished with errors"")) print('Output: {}'.format(e)) if parsed_args.parameters: out = oooutils.get_validations_parameters( {'validations': output}, parsed_args.validation_name, parsed_args.group ) if parsed_args.create_vars_file: self._create_variables_file(out, parsed_args.create_vars_file) else: print(oooutils.get_validations_json(out)) else: if parsed_args.output == 'json': out = oooutils.get_validations_json( {'validations': output}) elif parsed_args.output == 'yaml': out = oooutils.get_validations_yaml( {'validations': output}) else: out = oooutils.get_validations_table( {'validations': output}) print(out)", if parsed_args.output == 'json': out = oooutils.get_validations_json({'validations': output}) elif parsed_args.output == 'yaml': out = oooutils.get_validations_yaml({'validations': output}) else: out = oooutils.get_validations_table({'validations': output}) print(out),185,12
openstack%2Fpython-tripleoclient~stable%2Fstein~Idff6bcebc041db483d64396249b040e6bdd778bd,openstack/python-tripleoclient,stable/stein,Idff6bcebc041db483d64396249b040e6bdd778bd,Allow running validations with custom extra variables,MERGED,2019-07-31 08:35:52.000000000,2019-07-31 17:40:30.000000000,2019-07-31 17:40:29.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-31 08:35:52.000000000', 'files': ['tripleoclient/tests/v1/test_validator.py', 'releasenotes/notes/allow-running-validations-with-custom-extra-variables-12c7277b30eb791d.yaml', 'tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f42e42629a0e1aa55ac82eb6486e34987e414ac2', 'message': 'Allow running validations with custom extra variables\n\nThis patch adds the ability to pass extra variables to the validations\nexecution through Mistral and \'ansible-playbook\'.\n\nBy default, the CLI is running the validations through\n\'ansible-playbook\', then the operator will have two possible ways to\nprocess it;\n\nEither passing a Dict with the new --extra-vars argument\n\n```\n$ openstack tripleo validator run \\\n    --extra-vars \'{""min_undercloud_ram_gb"": 2}\'\n    --validation-name undercloud-ram\n```\n\nor passing the absolute path of a JSON/YAML file using --extra-vars-file\nargument.\n\n```\n$ cat /home/stack/vars.json\n{\n  ""volumes"": [\n    {""min_size"": 10, ""mount"": ""/var/lib/docker""},\n    {""min_size"": 3,  ""mount"": ""/var/lib/config-data""},\n    {""min_size"": 3,  ""mount"": ""/var/log""},\n    {""min_size"": 5,  ""mount"": ""/usr""},\n    {""min_size"": 20, ""mount"": ""/var""},\n    {""min_size"": 25, ""mount"": ""/""}\n  ]\n}\n$ openstack tripleo validator run \\\n    --extra-vars-file /home/stack/vars.json\n    --validation-name undercloud-disk-space\n```\n\nIf the operator wants to use Mistral, she/he will just need to add the\n--use-mistral argument to the command line in the previous\nexamples.\n\nNote that Mistral will only support a valid JSON file as input.\n\nChange-Id: Idff6bcebc041db483d64396249b040e6bdd778bd\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit d13a7d501eba4b25091f16cb9edc374b40ceb8ce)\n'}]",0,673756,f42e42629a0e1aa55ac82eb6486e34987e414ac2,7,7,1,11491,,,0,"Allow running validations with custom extra variables

This patch adds the ability to pass extra variables to the validations
execution through Mistral and 'ansible-playbook'.

By default, the CLI is running the validations through
'ansible-playbook', then the operator will have two possible ways to
process it;

Either passing a Dict with the new --extra-vars argument

```
$ openstack tripleo validator run \
    --extra-vars '{""min_undercloud_ram_gb"": 2}'
    --validation-name undercloud-ram
```

or passing the absolute path of a JSON/YAML file using --extra-vars-file
argument.

```
$ cat /home/stack/vars.json
{
  ""volumes"": [
    {""min_size"": 10, ""mount"": ""/var/lib/docker""},
    {""min_size"": 3,  ""mount"": ""/var/lib/config-data""},
    {""min_size"": 3,  ""mount"": ""/var/log""},
    {""min_size"": 5,  ""mount"": ""/usr""},
    {""min_size"": 20, ""mount"": ""/var""},
    {""min_size"": 25, ""mount"": ""/""}
  ]
}
$ openstack tripleo validator run \
    --extra-vars-file /home/stack/vars.json
    --validation-name undercloud-disk-space
```

If the operator wants to use Mistral, she/he will just need to add the
--use-mistral argument to the command line in the previous
examples.

Note that Mistral will only support a valid JSON file as input.

Change-Id: Idff6bcebc041db483d64396249b040e6bdd778bd
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit d13a7d501eba4b25091f16cb9edc374b40ceb8ce)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/56/673756/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/test_validator.py', 'releasenotes/notes/allow-running-validations-with-custom-extra-variables-12c7277b30eb791d.yaml', 'tripleoclient/v1/tripleo_validator.py']",3,f42e42629a0e1aa55ac82eb6486e34987e414ac2,bp/validation-framework-stable/stein,"import json formatter_class=argparse.ArgumentDefaultsHelpFormatter, help=_(""Change the default output: "" ""--output json|yaml"") ""separate the group names with commas: "" ""--group pre-upgrade,prep | "" ""--group openshift-on-openstack"") formatter_class=argparse.ArgumentDefaultsHelpFormatter, help=_(""Execute the validations using a custom plan name"") help=_(""Execute the validations using Mistral"") ) extra_vars_group = parser.add_mutually_exclusive_group(required=False) extra_vars_group.add_argument( '--extra-vars', action='store', default={}, type=json.loads, help=_( ""Add a dictionary as extra variable to a validation: "" ""--extra-vars '{\""min_undercloud_ram_gb\"": 24}'"") ) extra_vars_group.add_argument( '--extra-vars-file', action='store', default='', help=_( ""Add a JSON/YAML file containing extra variable "" ""to a validation: "" ""--extra-vars-file /home/stack/vars.[json|yaml] "" ""If using Mistral, only a valid JSON file will be "" ""supported."" ) ""separate the names with commas: "" ""--validation-name check-ftype,512e | "" ""--validation-name 512e"") ""separate the group names with commas: "" ""--group pre-upgrade,prep | "" ""--group openshift-on-openstack"") def _run_validation_run_with_mistral(self, parsed_args): clients = self.app.client_manager LOG = logging.getLogger(__name__ + "".ValidationsRunWithMistral"") extra_vars_input = {} if parsed_args.extra_vars: extra_vars_input = parsed_args.extra_vars if parsed_args.extra_vars_file: try: with open(parsed_args.extra_vars_file, 'r') as vars_file: extra_vars_input = json.load(vars_file) except ValueError as e: raise RuntimeError( 'Error occured while decoding extra vars JSON file: %s' % e) if not parsed_args.validation_name: workflow_input = { ""plan"": parsed_args.plan, ""group_names"": parsed_args.group } else: workflow_input = { ""plan"": parsed_args.plan, ""validation_names"": parsed_args.validation_name, ""validation_inputs"": extra_vars_input } LOG.debug(_('Running the validations with Mistral')) output = validations.run_validations(clients, workflow_input) for out in output: print('[{}] - {}\n{}'.format( out.get('status'), out.get('validation_name'), oooutils.indent(out.get('stdout')))) LOG = logging.getLogger(__name__ + "".ValidationsRunAnsible"") extra_vars_input = {} if parsed_args.extra_vars: extra_vars_input = parsed_args.extra_vars if parsed_args.extra_vars_file: extra_vars_input = parsed_args.extra_vars_file if parsed_args.group: workflow_input = { ""group_names"": parsed_args.group } LOG.debug(_('Getting the validations list by group')) try: output = validations.list_validations( clients, workflow_input) for val in output: playbooks.append(val.get('id') + '.yaml') except Exception as e: print( _(""Validations listing by group finished with errors"")) print('Output: {}'.format(e)) else: for pb in parsed_args.validation_name: playbooks.append(pb + '.yaml') python_interpreter = \ ""/usr/bin/python{}"".format(sys.version_info[0]) for playbook in playbooks: try: LOG.debug(_('Running the validations with Ansible')) rc, output = oooutils.run_ansible_playbook( logger=LOG, workdir=constants.ANSIBLE_VALIDATION_DIR, log_path_dir=pwd.getpwuid(os.getuid()).pw_dir, playbook=playbook, inventory='/usr/bin/tripleo-ansible-inventory', retries=False, connection='local', output_callback='validation_output', extra_vars=extra_vars_input, python_interpreter=python_interpreter) print('[SUCCESS] - {}\n{}'.format( playbook, oooutils.indent(output))) except Exception as e: print('[FAILED] - {}\n{}'.format( playbook, oooutils.indent(e.args[0]))) if parsed_args.use_mistral: self._run_validation_run_with_mistral(parsed_args) else: self._run_validator_run(parsed_args)"," help=_(""Change the default output. "" ""Defaults to: json "" ""i.e. --output json"" "" --output yaml"") ""separate the group names with commas"" ""Defaults to: [] "" ""i.e. --group pre-upgrade,prep "" "" --group openshift-on-openstack"") help=_(""Execute the validations using a "" ""custom plan name. "" ""Defaults to: overcloud"") help=_(""Execute the validations using "" ""Mistral. "" ""Defaults to: false"") ""separate the names with commas"" ""Defaults to: [] "" ""i.e. --validation-name check-ftype,512e "" "" --validation-name 512e"") ""separate the group names with commas"" ""Defaults to: ['pre-deployment'] "" ""i.e. --group pre-upgrade,prep "" "" --group openshift-on-openstack"") LOG = logging.getLogger(__name__ + "".ValidationsRun"") if parsed_args.use_mistral: if not parsed_args.validation_name: workflow_input = { ""plan"": parsed_args.plan, ""group_names"": parsed_args.group } else: workflow_input = { ""plan"": parsed_args.plan, ""validation_names"": parsed_args.validation_name } LOG.debug(_('Running the validations with Mistral')) output = validations.run_validations(clients, workflow_input) for out in output: print('[{}] - {}\n{}'.format( out.get('status'), out.get('validation_name'), oooutils.indent(out.get('stdout')))) else: if parsed_args.group: workflow_input = { ""group_names"": parsed_args.group } LOG.debug(_('Getting the validations list by group')) try: output = validations.list_validations( clients, workflow_input) for val in output: playbooks.append(val.get('id') + '.yaml') except Exception as e: print( _(""Validations listing by group finished with errors"")) print('Output: {}'.format(e)) else: for pb in parsed_args.validation_name: playbooks.append(pb + '.yaml') python_interpreter = \ ""/usr/bin/python{}"".format(sys.version_info[0]) for playbook in playbooks: try: LOG.debug(_('Running the validations with Ansible')) rc, output = oooutils.run_ansible_playbook( logger=LOG, workdir=constants.ANSIBLE_VALIDATION_DIR, log_path_dir=pwd.getpwuid(os.getuid()).pw_dir, playbook=playbook, inventory='/usr/bin/tripleo-ansible-inventory', retries=False, connection='local', output_callback='validation_output', python_interpreter=python_interpreter) print('[SUCCESS] - {}\n{}'.format( playbook, oooutils.indent(output))) except Exception as e: print('[FAILED] - {}\n{}'.format( playbook, oooutils.indent(e.args[0]))) self._run_validator_run(parsed_args)",142,84
openstack%2Ftripleo-heat-templates~master~I34dcc5d5c918c9ae3df14f8434225e4a0835fc27,openstack/tripleo-heat-templates,master,I34dcc5d5c918c9ae3df14f8434225e4a0835fc27,Drop HeatApiCfn service from undercloud,MERGED,2019-07-30 04:40:44.000000000,2019-07-31 17:30:32.000000000,2019-07-31 17:30:32.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-30 04:40:44.000000000', 'files': ['environments/undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/65c7f166f75a08a12eaa932165a00de79cf782b4', 'message': ""Drop HeatApiCfn service from undercloud\n\nWe don't use heat-api-cfn service on the undercloud. In\npre config-download times it was used for default deployment\nsignaling.\n\nChange-Id: I34dcc5d5c918c9ae3df14f8434225e4a0835fc27\n""}]",0,673398,65c7f166f75a08a12eaa932165a00de79cf782b4,11,6,1,8833,,,0,"Drop HeatApiCfn service from undercloud

We don't use heat-api-cfn service on the undercloud. In
pre config-download times it was used for default deployment
signaling.

Change-Id: I34dcc5d5c918c9ae3df14f8434225e4a0835fc27
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/673398/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/undercloud.yaml'],1,65c7f166f75a08a12eaa932165a00de79cf782b4,bp/reduce-deployment-resources, OS::TripleO::Services::HeatApiCfn: OS::Heat::None,,1,0
openstack%2Fnova-powervm~master~I97907720925901b2c789d3da38fdd62772e0a6a8,openstack/nova-powervm,master,I97907720925901b2c789d3da38fdd62772e0a6a8,Updated Libraries:,MERGED,2019-07-22 18:16:56.000000000,2019-07-31 17:24:06.000000000,2019-07-22 18:57:24.000000000,"[{'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 18:16:56.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/5de7a5ebdca34ba56407c9e8cece6953278ce27f', 'message': 'Updated Libraries:\n\nAdded/Updated the versions of libraris used to be in sync with\nopenstack-nova\n\nChange-Id: I97907720925901b2c789d3da38fdd62772e0a6a8\n'}]",1,672125,5de7a5ebdca34ba56407c9e8cece6953278ce27f,8,2,1,28063,,,0,"Updated Libraries:

Added/Updated the versions of libraris used to be in sync with
openstack-nova

Change-Id: I97907720925901b2c789d3da38fdd62772e0a6a8
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/25/672125/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,5de7a5ebdca34ba56407c9e8cece6953278ce27f,,libxml2-python==2.6.21 lxml==4.3.4cryptography==2.1.4enum34==1.0.4eventlet==0.20.0futurist==1.8.0jsonpath-rw-ext==1.1.3keystonemiddleware==4.20.0msgpack-python==0.5.6os-brick==2.6.1os-resource-classes==0.1.0os-traits==0.12.0 os-vif==1.14.0oslo.config==6.1.0oslo.db==4.44.0oslo.messaging==7.0.0oslo.privsep==1.32.0oslo.serialization==2.21.1 oslo.service==1.34.0 oslo.upgradecheck==0.1.1oslo.versionedobjects==1.35.0ovs==2.10.0 ovsdbapp==0.15.0pyasn1-modules==0.2.1pycodestyle==2.0.0pyroute2==0.5.4 PyJWT==1.7.0python-ironicclient==2.7.0requests-mock==1.2.0rfc3986==1.1.0sortedcontainers==2.1.0 SQLAlchemy==1.0.10,enum34==1.0.4cryptography==2.1eventlet==0.18.2futurist==1.6.0jsonpath-rw-ext==1.1.3keystonemiddleware==4.17.0os-brick==2.5.0os-resource-classes==0.1.0 # Apache-2.0os-traits==0.4.0 os-vif==1.7.0oslo.config==5.2.0oslo.db==4.27.0oslo.messaging==6.3.0oslo.privsep==1.23.0oslo.serialization==2.18.0 oslo.service==1.24.0oslo.versionedobjects==1.31.2pyasn1-modules==0.2.1pycodestyle==2.0.0pyroute2==0.4.21python-ironicclient==2.3.0requests-mock==1.2.0rfc3986==0.3.1SQLAlchemy==1.0.10,34,26
openstack%2Fopenstack-ansible~master~I4bd706cfc58034a3d8052ad44cea7c8ad6e2fd2c,openstack/openstack-ansible,master,I4bd706cfc58034a3d8052ad44cea7c8ad6e2fd2c,doc: stop marking CentOS as experimental,MERGED,2019-07-25 14:09:30.000000000,2019-07-31 17:12:40.000000000,2019-07-25 20:08:12.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-25 14:09:30.000000000', 'files': ['deploy-guide/source/overview-requirements.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1db702d0e99bf72c8e9b724212ca9476002f5be3', 'message': 'doc: stop marking CentOS as experimental\n\nChange-Id: I4bd706cfc58034a3d8052ad44cea7c8ad6e2fd2c\n'}]",0,672735,1db702d0e99bf72c8e9b724212ca9476002f5be3,8,3,1,1004,,,0,"doc: stop marking CentOS as experimental

Change-Id: I4bd706cfc58034a3d8052ad44cea7c8ad6e2fd2c
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/35/672735/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/overview-requirements.rst'],1,1db702d0e99bf72c8e9b724212ca9476002f5be3,make-centos-great,* CentOS,* CentOS (support is experimental),1,1
openstack%2Fopenstack-ansible-os_nova~master~Ic5548f08d200402538a0334f801834ee7ef8a39b,openstack/openstack-ansible-os_nova,master,Ic5548f08d200402538a0334f801834ee7ef8a39b,tasks: add conditionals for ironic,MERGED,2019-07-29 15:48:13.000000000,2019-07-31 17:12:28.000000000,2019-07-29 21:30:38.000000000,"[{'_account_id': 21314}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-29 15:48:13.000000000', 'files': ['tasks/main.yml', 'tasks/nova_compute.yml', 'tasks/nova_install.yml', 'tasks/nova_virt_detect.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/efe094aa674c1444473e55a178dfc98ea80e59ad', 'message': ""tasks: add conditionals for ironic\n\nThis patch avoids running the nova_compute.yml playbook\nentirely because we already skip the setup portion and we\ndon't need to setup SSH keys (as there's no live migration)\nnor setting up NFS.\n\nIt also gets rid of the set_fact inside nova_virt_detect.yml\nbecause it was non-functional in the first place.  This is\nbecause the nova_virt_type was set to 'ironic' in the\ngroup_vars which meant that the autodetect code was\nskipped and therefore that portion never ran.\n\nChange-Id: Ic5548f08d200402538a0334f801834ee7ef8a39b\n""}]",0,673316,efe094aa674c1444473e55a178dfc98ea80e59ad,10,5,1,1004,,,0,"tasks: add conditionals for ironic

This patch avoids running the nova_compute.yml playbook
entirely because we already skip the setup portion and we
don't need to setup SSH keys (as there's no live migration)
nor setting up NFS.

It also gets rid of the set_fact inside nova_virt_detect.yml
because it was non-functional in the first place.  This is
because the nova_virt_type was set to 'ironic' in the
group_vars which meant that the autodetect code was
skipped and therefore that portion never ran.

Change-Id: Ic5548f08d200402538a0334f801834ee7ef8a39b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/16/673316/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/nova_compute.yml', 'tasks/nova_install.yml', 'tasks/nova_virt_detect.yml']",4,efe094aa674c1444473e55a178dfc98ea80e59ad,fix-ironic, - nova_virt_type is not defined, - nova_virt_type is not defined - name: Remove lib linking for kvm with ironic set_fact: nova_compute_kvm_packages_to_symlink: [] when: - nova_virt_type == 'ironic' ,4,10
openstack%2Fopenstack-ansible-tests~stable%2Fstein~I335e0cefa7b97c0a1ada2d8c54d03e031af823c5,openstack/openstack-ansible-tests,stable/stein,I335e0cefa7b97c0a1ada2d8c54d03e031af823c5,Update ansible to 2.7.12,MERGED,2019-07-30 12:55:47.000000000,2019-07-31 17:06:22.000000000,2019-07-31 17:06:22.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-30 12:55:47.000000000', 'files': ['test-ansible-deps.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/eb4c04a9e1c00610210f508cac84ceade8c95df9', 'message': 'Update ansible to 2.7.12\n\nChange-Id: I335e0cefa7b97c0a1ada2d8c54d03e031af823c5\n'}]",0,673508,eb4c04a9e1c00610210f508cac84ceade8c95df9,7,3,1,25023,,,0,"Update ansible to 2.7.12

Change-Id: I335e0cefa7b97c0a1ada2d8c54d03e031af823c5
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/08/673508/1 && git format-patch -1 --stdout FETCH_HEAD,['test-ansible-deps.txt'],1,eb4c04a9e1c00610210f508cac84ceade8c95df9,osa-update-ansible,ansible==2.7.12,ansible==2.7.9,1,1
openstack%2Fdevstack~master~If7f43ac32da46c95e02b77241ad56d8bd22be378,openstack/devstack,master,If7f43ac32da46c95e02b77241ad56d8bd22be378,"When deploying to hardware in ironic, do not configure libvirt",ABANDONED,2019-04-17 15:12:21.000000000,2019-07-31 17:02:30.000000000,,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 10343}, {'_account_id': 11655}, {'_account_id': 14595}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-17 15:12:21.000000000', 'files': ['lib/nova_plugins/hypervisor-ironic'], 'web_link': 'https://opendev.org/openstack/devstack/commit/c7beec70095a77db2b860e6913fd640e6f37899c', 'message': 'When deploying to hardware in ironic, do not configure libvirt\n\nWhen deploying to hardware in ironic, devstack will skip the install\nof libvirt, as it is not used. [0] Currently the hypervisor-ironic\nnova plugin configures libvirt even if libvirt install is skipped. This\ncauses failures in environments that deploys to hardware targets rather\nthan VM targets. [1]\n\n[0] https://github.com/openstack-dev/devstack/blob/master/lib/nova_plugins/hypervisor-ironic#L60-L62\n[1] https://dal05.objectstorage.softlayer.net/v1/AUTH_3d8e6ecb-f597-448c-8ec2-164e9f710dd6/pkvmci/ironic/82/648382/4/check-ironic/tempest-dsvm-ironic-agent_ipmitool/e84c583/devstacklog.txt.gz\n\nChange-Id: If7f43ac32da46c95e02b77241ad56d8bd22be378\n'}]",0,653463,c7beec70095a77db2b860e6913fd640e6f37899c,8,6,1,11929,,,0,"When deploying to hardware in ironic, do not configure libvirt

When deploying to hardware in ironic, devstack will skip the install
of libvirt, as it is not used. [0] Currently the hypervisor-ironic
nova plugin configures libvirt even if libvirt install is skipped. This
causes failures in environments that deploys to hardware targets rather
than VM targets. [1]

[0] https://github.com/openstack-dev/devstack/blob/master/lib/nova_plugins/hypervisor-ironic#L60-L62
[1] https://dal05.objectstorage.softlayer.net/v1/AUTH_3d8e6ecb-f597-448c-8ec2-164e9f710dd6/pkvmci/ironic/82/648382/4/check-ironic/tempest-dsvm-ironic-agent_ipmitool/e84c583/devstacklog.txt.gz

Change-Id: If7f43ac32da46c95e02b77241ad56d8bd22be378
",git fetch https://review.opendev.org/openstack/devstack refs/changes/63/653463/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova_plugins/hypervisor-ironic'],1,c7beec70095a77db2b860e6913fd640e6f37899c,ironic/skip-libvirt-config," if ! is_ironic_hardware; then configure_libvirt LIBVIRT_FIREWALL_DRIVER=${LIBVIRT_FIREWALL_DRIVER:-""nova.virt.firewall.NoopFirewallDriver""} fi"," configure_libvirt LIBVIRT_FIREWALL_DRIVER=${LIBVIRT_FIREWALL_DRIVER:-""nova.virt.firewall.NoopFirewallDriver""}",4,2
openstack%2Fpuppet-ceph~stable%2Fjewel~I0a1adb01f9cd2d154581102b8b62df067cd7b845,openstack/puppet-ceph,stable/jewel,I0a1adb01f9cd2d154581102b8b62df067cd7b845,DNM trying to fix mimic ci,ABANDONED,2019-07-31 16:34:46.000000000,2019-07-31 16:55:53.000000000,,[],"[{'number': 1, 'created': '2019-07-31 16:34:46.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/d8ee7f5cd4d9265461a681c91dcf00b98f040380', 'message': 'DNM trying to fix mimic ci\n\nChange-Id: I0a1adb01f9cd2d154581102b8b62df067cd7b845\n'}]",0,673869,d8ee7f5cd4d9265461a681c91dcf00b98f040380,2,0,1,14985,,,0,"DNM trying to fix mimic ci

Change-Id: I0a1adb01f9cd2d154581102b8b62df067cd7b845
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/69/673869/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,d8ee7f5cd4d9265461a681c91dcf00b98f040380,meh,#,,1,0
openstack%2Fcinderlib~master~I5a4663b286a5181924c0c1eab62fdf2e52863f80,openstack/cinderlib,master,I5a4663b286a5181924c0c1eab62fdf2e52863f80,Allow overriding CL_FTEST_CFG,ABANDONED,2019-07-30 15:27:02.000000000,2019-07-31 16:54:05.000000000,,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 15:27:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/9d5abc7fcdb23686d4d6a86701588a994e35089a', 'message': 'Allow overriding CL_FTEST_CFG\n\nOtherwise it is not possible for tests to set a full path.\n\nChange-Id: I5a4663b286a5181924c0c1eab62fdf2e52863f80\n'}, {'number': 2, 'created': '2019-07-30 18:59:30.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/4bad953a43b905bdc8ffc75209ddc08a8fae81ed', 'message': 'Allow overriding CL_FTEST_CFG\n\nOtherwise it is not possible for tests to set a full path.\n\nChange-Id: I5a4663b286a5181924c0c1eab62fdf2e52863f80\n'}]",0,673558,4bad953a43b905bdc8ffc75209ddc08a8fae81ed,7,2,2,10459,,,0,"Allow overriding CL_FTEST_CFG

Otherwise it is not possible for tests to set a full path.

Change-Id: I5a4663b286a5181924c0c1eab62fdf2e52863f80
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/58/673558/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,9d5abc7fcdb23686d4d6a86701588a994e35089a,allow-overwrite-test-config, CL_FTEST_CFG={env:CL_FTEST_CFG:{toxinidir}/cinderlib/tests/functional/lvm.yaml}, CL_FTEST_CFG={toxinidir}/{env:CL_FTEST_CFG:cinderlib/tests/functional/lvm.yaml},2,2
openstack%2Fmanila-ui~master~I5dbf20a04afea7db1fbff93b8584db853d4a1a6d,openstack/manila-ui,master,I5dbf20a04afea7db1fbff93b8584db853d4a1a6d,Replace the old-operator in installation docs,MERGED,2019-07-31 11:59:13.000000000,2019-07-31 16:47:17.000000000,2019-07-31 16:47:16.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-31 11:59:13.000000000', 'files': ['doc/source/install/installation.rst'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/09dd8bc773623606f4d341c1a5dad8aca0606939', 'message': ""Replace the old-operator in installation docs\n\nNow the *Shares* in Horizon Dashboard under the 'Project' -> 'Share',\nnot under the 'Compute'.\n\nChange-Id: I5dbf20a04afea7db1fbff93b8584db853d4a1a6d\n""}]",0,673796,09dd8bc773623606f4d341c1a5dad8aca0606939,6,2,1,26458,,,0,"Replace the old-operator in installation docs

Now the *Shares* in Horizon Dashboard under the 'Project' -> 'Share',
not under the 'Compute'.

Change-Id: I5dbf20a04afea7db1fbff93b8584db853d4a1a6d
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/96/673796/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/installation.rst'],1,09dd8bc773623606f4d341c1a5dad8aca0606939,,the Shares tab under Project > Share. You can access Horizon with,the Shares tab under Project > Compute. You can access Horizon with,1,1
openstack%2Fplacement~master~I2809c6be60ac102b40c942483a6cdbc0d113117f,openstack/placement,master,I2809c6be60ac102b40c942483a6cdbc0d113117f,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-31 08:42:35.000000000,2019-07-31 16:45:51.000000000,2019-07-31 16:45:50.000000000,"[{'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-31 08:42:35.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/placement/commit/835081ac363a122153323df26c173ddee305801c', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: I2809c6be60ac102b40c942483a6cdbc0d113117f\n'}]",0,673760,835081ac363a122153323df26c173ddee305801c,8,4,1,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: I2809c6be60ac102b40c942483a6cdbc0d113117f
",git fetch https://review.opendev.org/openstack/placement refs/changes/60/673760/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,835081ac363a122153323df26c173ddee305801c,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.3;python_version>='3.4' #BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.3;python_version>='3.4' #BSD",1,1
openstack%2Fkeystone~master~I63e3715032cd8edb11fbff7651f5ba1af506dc9d,openstack/keystone,master,I63e3715032cd8edb11fbff7651f5ba1af506dc9d,Fix python3 compatibility on LDAP search DN from id,MERGED,2019-07-24 13:24:28.000000000,2019-07-31 16:45:49.000000000,2019-07-31 16:45:49.000000000,"[{'_account_id': 1916}, {'_account_id': 5707}, {'_account_id': 8482}, {'_account_id': 8866}, {'_account_id': 11805}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-07-24 13:24:28.000000000', 'files': ['keystone/identity/backends/ldap/common.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/03531a56910b12922afde32b40e270b7d68a334b', 'message': 'Fix python3 compatibility on LDAP search DN from id\n\nIn Python 3, python-ldap no longer allows bytes for some fields (DNs,\nRDNs, attribute names, queries). Instead, text values are represented\nas str, the Unicode text type.\n\n[1] More details about byte/str usage in python-ldap can be found at:\nhttp://www.python-ldap.org/en/latest/bytes_mode.html#bytes-mode\n\nChange-Id: I63e3715032cd8edb11fbff7651f5ba1af506dc9d\nRelated-Bug: #1798184\n'}]",0,672519,03531a56910b12922afde32b40e270b7d68a334b,18,7,1,8866,,,0,"Fix python3 compatibility on LDAP search DN from id

In Python 3, python-ldap no longer allows bytes for some fields (DNs,
RDNs, attribute names, queries). Instead, text values are represented
as str, the Unicode text type.

[1] More details about byte/str usage in python-ldap can be found at:
http://www.python-ldap.org/en/latest/bytes_mode.html#bytes-mode

Change-Id: I63e3715032cd8edb11fbff7651f5ba1af506dc9d
Related-Bug: #1798184
",git fetch https://review.opendev.org/openstack/keystone refs/changes/19/672519/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/identity/backends/ldap/common.py'],1,03531a56910b12922afde32b40e270b7d68a334b,utf8-decode, if self.id_attr == ldap.dn.str2dn(dn)[0][0][0].lower(): return ldap.dn.str2dn(dn)[0][0][1], if self.id_attr == utf8_decode( ldap.dn.str2dn(utf8_encode(dn))[0][0][0].lower()): return utf8_decode(ldap.dn.str2dn(utf8_encode(dn))[0][0][1]),2,3
openstack%2Fcinder~master~I8d46acade9d3e7b9e5f959f6591ec276183e6fd7,openstack/cinder,master,I8d46acade9d3e7b9e5f959f6591ec276183e6fd7,Update json module to jsonutils,ABANDONED,2019-02-17 14:42:27.000000000,2019-07-31 16:43:51.000000000,,"[{'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 15296}, {'_account_id': 15670}, {'_account_id': 16897}, {'_account_id': 17130}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 26285}, {'_account_id': 26297}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 27781}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-02-17 14:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d0187126795f988589e32d01d7c5689a635bf775', 'message': 'Update json module to jsonutils\n\njson is not recommend, should use oslo_serialization.jsonutils\ninstead.\n\nChange-Id: I8d46acade9d3e7b9e5f959f6591ec276183e6fd7\n'}, {'number': 2, 'created': '2019-03-07 00:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1d778649e049eb9b01a1ac4f62c4a8ba88fc6000', 'message': 'Update json module to jsonutils\n\njson is not recommend, should use oslo_serialization.jsonutils\ninstead.\n\nChange-Id: I8d46acade9d3e7b9e5f959f6591ec276183e6fd7\n'}, {'number': 3, 'created': '2019-03-07 00:44:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fe22d99f65620e10b6630c1418530c86b121070e', 'message': 'Update json module to jsonutils\n\njson is not recommend, should use oslo_serialization.jsonutils\ninstead.\n\nChange-Id: I8d46acade9d3e7b9e5f959f6591ec276183e6fd7\n'}, {'number': 4, 'created': '2019-03-07 08:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/64d6fd282802d1f15302fa85bbd64ff135b8ce0a', 'message': 'Update json module to jsonutils\n\nhttps://github.com/openstack/cinder/search?q=jsonutils&unscoped_q=jsonutils\n\nChange-Id: I8d46acade9d3e7b9e5f959f6591ec276183e6fd7\n'}, {'number': 5, 'created': '2019-03-07 09:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9d855096830474ae2d13d5c8249117af196368e7', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and cinder use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/cinder/search?q=jsonutils&unscoped_q=jsonutils\n\nChange-Id: I8d46acade9d3e7b9e5f959f6591ec276183e6fd7\n'}, {'number': 6, 'created': '2019-03-08 05:38:42.000000000', 'files': ['cinder/tests/unit/backup/fake_swift_client.py', 'cinder/tests/unit/api/v3/test_volumes.py', 'cinder/volume/drivers/ibm/ibm_storage/ds8k_proxy.py', 'cinder/volume/drivers/veritas/utils.py', 'cinder/scheduler/scheduler_options.py', 'cinder/volume/drivers/nimble.py', 'cinder/volume/drivers/huawei/rest_client.py', 'cinder/volume/drivers/huawei/huawei_driver.py', 'cinder/tests/unit/volume/drivers/dell_emc/scaleio/test_create_snapshot.py', 'cinder/volume/drivers/dell_emc/vnx/adapter.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py', 'cinder/volume/drivers/prophetstor/dplcommon.py', 'cinder/tests/unit/backup/drivers/test_backup_tsm.py', 'cinder/tests/unit/targets/test_spdknvmf.py', 'cinder/zonemanager/drivers/brocade/brcd_rest_fc_zone_client.py', 'cinder/tests/unit/volume/drivers/fusionstorage/test_utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/sc/test_scapi.py', 'cinder/volume/drivers/rbd.py', 'cinder/volume/drivers/huawei/fc_zone_helper.py', 'cinder/volume/drivers/solidfire.py', 'cinder/tests/unit/volume/drivers/veritas_access/test_veritas_iscsi.py', 'cinder/tests/unit/volume/drivers/dell_emc/scaleio/mocks.py', 'cinder/tests/unit/backup/fake_google_client.py', 'cinder/volume/drivers/fusionstorage/dsware.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py', 'cinder/volume/drivers/zfssa/restclient.py', 'cinder/volume/utils.py', 'cinder/volume/targets/spdknvmf.py', 'cinder/volume/drivers/datacore/passwd.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/utils/test_utils.py', 'cinder/volume/drivers/fusionstorage/fs_client.py', 'cinder/volume/drivers/netapp/dataontap/utils/utils.py', 'cinder/volume/drivers/huawei/huawei_utils.py', 'cinder/volume/drivers/tintri.py', 'cinder/backup/drivers/tsm.py', 'cinder/tests/unit/volume/drivers/test_zfssa.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_api.py', 'cinder/volume/drivers/huawei/smartx.py', 'cinder/volume/drivers/datera/datera_common.py', 'cinder/volume/drivers/veritas_access/veritas_iscsi.py', 'cinder/volume/drivers/vzstorage.py', 'cinder/volume/drivers/inspur/as13000/as13000_driver.py', 'cinder/tests/unit/fake_notifier.py', 'cinder/volume/drivers/nexenta/nexentaedge/jsonrpc.py', 'cinder/tests/unit/volume/drivers/fusionstorage/test_dsware.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpelefthand.py', 'cinder/volume/drivers/ibm/ibm_storage/ds8k_restclient.py', 'cinder/volume/drivers/synology/synology_common.py', 'cinder/tests/unit/volume/drivers/test_spdk.py', 'cinder/tests/unit/volume/drivers/dell_emc/scaleio/test_groups.py', 'cinder/tests/unit/volume/drivers/synology/test_synology_common.py', 'cinder/tests/unit/api/v2/test_volumes.py', 'cinder/tests/unit/volume/drivers/fusionstorage/test_fs_client.py', 'cinder/volume/drivers/drbdmanagedrv.py', 'cinder/api/common.py', 'cinder/tests/unit/volume/drivers/nexenta/test_nexenta_edge.py', 'cinder/volume/drivers/zfssa/zfssarest.py', 'cinder/volume/drivers/dell_emc/scaleio/driver.py', 'cinder/volume/drivers/huawei/replication.py', 'cinder/tests/unit/volume/drivers/dell_emc/scaleio/test_create_volume_from_snapshot.py', 'cinder/tests/unit/volume/drivers/inspur/instorage/test_replication.py', 'cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py', 'cinder/tests/unit/volume/drivers/datacore/test_datacore_passwd.py', 'cinder/volume/drivers/hedvig/rest_client.py', 'cinder/volume/drivers/spdk.py', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/vmware/volumeops.py', 'cinder/tests/unit/backup/test_chunkeddriver.py', 'cinder/volume/drivers/dell_emc/xtremio.py', 'cinder/tests/unit/test_utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/scaleio/test_create_cloned_volume.py', 'cinder/volume/drivers/remotefs.py', 'cinder/backup/chunkeddriver.py', 'cinder/tests/unit/volume/drivers/ibm/test_ds8k_proxy.py', 'cinder/tests/unit/volume/drivers/inspur/as13000/test_as13000_driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d2ff8da8d6974e261c954f637402d12e421731a4', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and cinder use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/cinder/search?q=jsonutils&unscoped_q=jsonutils\n\nChange-Id: I8d46acade9d3e7b9e5f959f6591ec276183e6fd7\n'}]",4,637428,d2ff8da8d6974e261c954f637402d12e421731a4,88,30,6,27781,,,0,"Update json module to jsonutils

oslo project provide jsonutils, and cinder use it in many place[1],
this PS to update the remained json module to oslo jsonutils for
consistency.

[1]: https://github.com/openstack/cinder/search?q=jsonutils&unscoped_q=jsonutils

Change-Id: I8d46acade9d3e7b9e5f959f6591ec276183e6fd7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/28/637428/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/utils.py', 'cinder/volume/drivers/rbd.py', 'cinder/volume/targets/spdknvmf.py', 'cinder/volume/drivers/veritas/utils.py', 'cinder/volume/drivers/spdk.py', 'cinder/volume/drivers/tintri.py', 'cinder/volume/drivers/remotefs.py', 'tools/generate_driver_list.py']",8,d0187126795f988589e32d01d7c5689a635bf775,,from oslo_serialization import jsonutils as json ,import json,9,9
openstack%2Fkeystone-tempest-plugin~master~I7ec5b27c2f9c40fc85f63fc94eff8f12d83e91ce,openstack/keystone-tempest-plugin,master,I7ec5b27c2f9c40fc85f63fc94eff8f12d83e91ce,fix the url in doc,NEW,2018-12-26 07:21:08.000000000,2019-07-31 16:42:41.000000000,,"[{'_account_id': 8482}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 27621}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-12-26 07:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/d9c47b63693ce8f207bce7fa1fca95f9b514ccc0', 'message': 'fix the url in doc\n\nChange-Id: I7ec5b27c2f9c40fc85f63fc94eff8f12d83e91ce\n'}, {'number': 2, 'created': '2018-12-26 08:35:01.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/3cbb97318880512ae572ee14373fe0181c747508', 'message': 'fix the url in doc\n\nChange-Id: I7ec5b27c2f9c40fc85f63fc94eff8f12d83e91ce\n'}]",2,627357,3cbb97318880512ae572ee14373fe0181c747508,10,7,2,28543,,,0,"fix the url in doc

Change-Id: I7ec5b27c2f9c40fc85f63fc94eff8f12d83e91ce
",git fetch https://review.opendev.org/openstack/keystone-tempest-plugin refs/changes/57/627357/2 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,d9c47b63693ce8f207bce7fa1fca95f9b514ccc0,,* Documentation: https://docs.openstack.org/tripleo-docs/latest/install/basic_deployment/tempest_plugins.html ,* Documentation: http://docs.openstack.org/developer/openstack,1,1
openstack%2Ftripleo-heat-templates~stable%2Frocky~I4f2f69f00cad54c3c767f54de54dc9a061b02b8d,openstack/tripleo-heat-templates,stable/rocky,I4f2f69f00cad54c3c767f54de54dc9a061b02b8d,Make sure libvirt-guests get started,MERGED,2019-07-29 10:04:54.000000000,2019-07-31 16:41:08.000000000,2019-07-31 16:41:08.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-07-29 10:04:54.000000000', 'files': ['puppet/services/nova-compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c93ea353f01312c62f581c68958dea1533634855', 'message': 'Make sure libvirt-guests get started\n\nRight now the libvirt-guests gets enabled, but not started during\ninitial deploy. Make sure we start the service.\n\n Conflicts:\n\tdeployment/nova/nova-compute-container-puppet.yaml\n\nChange-Id: I4f2f69f00cad54c3c767f54de54dc9a061b02b8d\n(cherry picked from commit cf2e5926e480a36246c912ff7ff4ab58095fe7cd)\n(cherry picked from commit 5b681900cbacdb2e30ba2833b0e8719e802d50e6)\n'}]",0,673254,c93ea353f01312c62f581c68958dea1533634855,11,8,1,17216,,,0,"Make sure libvirt-guests get started

Right now the libvirt-guests gets enabled, but not started during
initial deploy. Make sure we start the service.

 Conflicts:
	deployment/nova/nova-compute-container-puppet.yaml

Change-Id: I4f2f69f00cad54c3c767f54de54dc9a061b02b8d
(cherry picked from commit cf2e5926e480a36246c912ff7ff4ab58095fe7cd)
(cherry picked from commit 5b681900cbacdb2e30ba2833b0e8719e802d50e6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/54/673254/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/nova-compute.yaml'],1,c93ea353f01312c62f581c68958dea1533634855,libvirt-guests_started-rocky, state: started,,1,0
openstack%2Frally-openstack~master~I6b1d0e97ecdf9a2befa2a052a1743916d662d136,openstack/rally-openstack,master,I6b1d0e97ecdf9a2befa2a052a1743916d662d136,Add vars and enable manila jobs,MERGED,2019-07-29 23:41:27.000000000,2019-07-31 16:38:54.000000000,2019-07-31 16:38:54.000000000,"[{'_account_id': 9545}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-29 23:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/aedfe71434a63f8e653764b000372d20300dcfb2', 'message': 'Add vars and enable manila jobs\n\nManila needs a ""backend"" to be configured; the\none provided by default is unsuitable to test\nperformance of the API since we may have too many\nfalse positives if tests fail.\n\nAdd a ""rally-task-manila-ss"" job alongside\n""rally-task-manila-no-ss"" job to cover both driver\nmodes supported by manila.\n\nChange-Id: I6b1d0e97ecdf9a2befa2a052a1743916d662d136\n'}, {'number': 2, 'created': '2019-07-29 23:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/678329fbfd33247ca4e1590e667dd8a26a543d6a', 'message': 'Add vars and enable manila jobs\n\nManila needs a ""backend"" to be configured; the\none provided by default is unsuitable to test\nperformance of the API since we may have too many\nfalse positives if tests fail.\n\nAdd a ""rally-task-manila-ss"" job alongside\n""rally-task-manila-no-ss"" job to cover both driver\nmodes supported by manila.\n\nChange-Id: I6b1d0e97ecdf9a2befa2a052a1743916d662d136\n'}, {'number': 3, 'created': '2019-07-30 00:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/3ad97aba39064b4be615a86a2e3fc50fcb899ffb', 'message': 'Add vars and enable manila jobs\n\nManila needs a ""backend"" to be configured; the\none provided by default is unsuitable to test\nperformance of the API since we may have too many\nfalse positives if tests fail.\n\nAdd a ""rally-task-manila-ss"" job alongside\n""rally-task-manila-no-ss"" job to cover both driver\nmodes supported by manila.\n\nChange-Id: I6b1d0e97ecdf9a2befa2a052a1743916d662d136\n'}, {'number': 4, 'created': '2019-07-30 12:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/0dc92985b2ab6e6d58d012e8b9a1301db73281ef', 'message': 'Add vars and enable manila jobs\n\nManila needs a ""backend"" to be configured; the\none provided by default is unsuitable to test\nperformance of the API since we may have too many\nfalse positives if tests fail.\n\nAdd a ""rally-task-manila-ss"" job alongside\n""rally-task-manila-no-ss"" job to cover both driver\nmodes supported by manila.\n\nChange-Id: I6b1d0e97ecdf9a2befa2a052a1743916d662d136\n'}, {'number': 5, 'created': '2019-07-30 16:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/ed5b7c4d5feb2735442a36a64d83f3a048a45f3b', 'message': 'Add vars and enable manila jobs\n\nManila needs a ""backend"" to be configured; the\none provided by default is unsuitable to test\nperformance of the API since we may have too many\nfalse positives if tests fail.\n\nAdd a ""rally-task-manila-ss"" job alongside\n""rally-task-manila-no-ss"" job to cover both driver\nmodes supported by manila.\n\nChange-Id: I6b1d0e97ecdf9a2befa2a052a1743916d662d136\n'}, {'number': 6, 'created': '2019-07-30 19:08:12.000000000', 'files': ['.zuul.d/rally-task-manila.yaml', '.zuul.d/zuul.yaml'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/68f86c94473c32d4798869346b8ac88d971ffe91', 'message': 'Add vars and enable manila jobs\n\nManila needs a ""backend"" to be configured; the\none provided by default is unsuitable to test\nperformance of the API since we may have too many\nfalse positives if tests fail.\n\nAdd a ""rally-task-manila-ss"" job alongside\n""rally-task-manila-no-ss"" job to cover both driver\nmodes supported by manila.\n\nChange-Id: I6b1d0e97ecdf9a2befa2a052a1743916d662d136\n'}]",6,673374,68f86c94473c32d4798869346b8ac88d971ffe91,17,3,6,16643,,,0,"Add vars and enable manila jobs

Manila needs a ""backend"" to be configured; the
one provided by default is unsuitable to test
performance of the API since we may have too many
false positives if tests fail.

Add a ""rally-task-manila-ss"" job alongside
""rally-task-manila-no-ss"" job to cover both driver
modes supported by manila.

Change-Id: I6b1d0e97ecdf9a2befa2a052a1743916d662d136
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/74/673374/4 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/rally-task-manila.yaml', '.zuul.d/zuul.yaml']",2,aedfe71434a63f8e653764b000372d20300dcfb2,manila, - rally-task-manila-ss: voting: false - rally-task-manila-no-ss: voting: false, # NOTE(andreykurilin): manila requires some specific configuration. # Calling special hook can help. # https://github.com/openstack/manila/blob/master/playbooks/legacy/rally-dsvm-manila-multibackend/run.yaml #- rally-task-manila #- rally-task-manila-no-ss,97,6
openstack%2Fopenstack-ansible-os_placement~master~I342dd945b823b2b8134d759df2e2e2dd06a74ad4,openstack/openstack-ansible-os_placement,master,I342dd945b823b2b8134d759df2e2e2dd06a74ad4,Add example playbbok,MERGED,2019-07-31 08:43:30.000000000,2019-07-31 16:32:31.000000000,2019-07-31 16:32:31.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-07-31 08:43:30.000000000', 'files': ['examples/playbook.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/67f77de713324a8b83dffb9d5d3da5e05d6dc6a8', 'message': 'Add example playbbok\n\nAdd playbook as an example, since it was included in docs,\nbut was empty.\n\nChange-Id: I342dd945b823b2b8134d759df2e2e2dd06a74ad4\n'}]",0,673761,67f77de713324a8b83dffb9d5d3da5e05d6dc6a8,7,3,1,28619,,,0,"Add example playbbok

Add playbook as an example, since it was included in docs,
but was empty.

Change-Id: I342dd945b823b2b8134d759df2e2e2dd06a74ad4
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_placement refs/changes/61/673761/1 && git format-patch -1 --stdout FETCH_HEAD,['examples/playbook.yml'],1,67f77de713324a8b83dffb9d5d3da5e05d6dc6a8,example_playbook,"- name: Install placement components hosts: placement_all gather_facts: ""{{ osa_gather_facts | default(True) }}"" environment: ""{{ deployment_environment_variables | default({}) }}"" user: root tags: - placement roles: - role: ""os_placement"" - role: ""system_crontab_coordination"" tags: - crontab",,12,0
openstack%2Ftripleo-validations~master~Id1f37466134b6506582bcea319fdbabc266cca5f,openstack/tripleo-validations,master,Id1f37466134b6506582bcea319fdbabc266cca5f,Update tox requirements for Molecule tests.,ABANDONED,2019-07-30 21:02:35.000000000,2019-07-31 16:26:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-07-30 21:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2e37be75cc15d6ad36d16a827b6d5392a94e3c13', 'message': 'Update tox requirements for Molecule tests.\n\nThis puts tripleo-validations in-line with how tripleo-common\nhandles Molecule tests. It also helps address dependency\nissues encountered in CI with the Stein branch.\n\nChange-Id: Id1f37466134b6506582bcea319fdbabc266cca5f\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 2, 'created': '2019-07-30 21:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6c7c3d5b7e141e056d722d8389c2a1ac9c5ce09f', 'message': 'Update tox requirements for Molecule tests.\n\nThis puts tripleo-validations in-line with how tripleo-common\nhandles Molecule tests. It also helps address dependency\nissues encountered in CI with the Stein branch.\n\nChange-Id: Id1f37466134b6506582bcea319fdbabc266cca5f\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 3, 'created': '2019-07-31 12:25:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/89cdb99f90fa2a3c016d6c67fe2b401724c3f5ed', 'message': 'Update tox requirements for Molecule tests.\n\nThis puts tripleo-validations in-line with how tripleo-common\nhandles Molecule tests. It also helps address dependency\nissues encountered in CI with the Stein branch.\n\nChange-Id: Id1f37466134b6506582bcea319fdbabc266cca5f\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}]",0,673691,89cdb99f90fa2a3c016d6c67fe2b401724c3f5ed,6,1,3,25877,,,0,"Update tox requirements for Molecule tests.

This puts tripleo-validations in-line with how tripleo-common
handles Molecule tests. It also helps address dependency
issues encountered in CI with the Stein branch.

Change-Id: Id1f37466134b6506582bcea319fdbabc266cca5f
Signed-off-by: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/91/673691/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2e37be75cc15d6ad36d16a827b6d5392a94e3c13,,"setenv = ANSIBLE_FORCE_COLOR=1 ANSIBLE_INVENTORY={toxinidir}/tests/hosts.ini ANSIBLE_NOCOWS=1 ANSIBLE_RETRY_FILES_ENABLED=0 ANSIBLE_STDOUT_CALLBACK=debug PY_COLORS=1 VIRTUAL_ENV={envdir} # pip: Avoid 2020-01-01 warnings: https://github.com/pypa/pip/issues/6207 # paramiko CryptographyDeprecationWarning: https://github.com/ansible/ansible/issues/52598 PYTHONWARNINGS=ignore:DEPRECATION::pip._internal.cli.base_command,ignore::UserWarning PIP_DISABLE_PIP_VERSION_CHECK=1 passenv = ANSIBLE_* DOCKER_* MOLECULE_* PYTEST* SSH_AUTH_SOCK TERM install_command = pip install {opts} {packages} deps = ""ansible>=2"" ""pre-commit>=1.10"" -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txtwhitelist_externals = bash tox","install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages} ""ansible>=2"" ""pre-commit>=1.10"" setenv = VIRTUAL_ENV={envdir} deps = -r{toxinidir}/test-requirements.txtwhitelist_externals = bash",29,4
openstack%2Fnova~master~I14314ea73c60317ebd2e091631411f26d2f7c550,openstack/nova,master,I14314ea73c60317ebd2e091631411f26d2f7c550,rt: remove misleading log in _remove_deleted_instances_allocations,ABANDONED,2019-07-30 22:27:43.000000000,2019-07-31 16:22:18.000000000,,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-30 22:27:43.000000000', 'files': ['nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b4c478c77c9712c8fddd2d476363900d5668fadf', 'message': 'rt: remove misleading log in _remove_deleted_instances_allocations\n\nThe ResourceTracker has not ""healed"" allocations since ironic\ndriver specific support was removed [1] and before that Ocata\ncompute compat was removed [2]. This change simply removes the\npart of the log message saying allocation healing will be skipped\nwhen there is an instance with allocations against the compute but\nthe instance.host is not yet set, e.g. if the instance build is\nwaiting to acquire the COMPUTE_RESOURCE_SEMAPHORE lock.\n\n[1] If272365e58a583e2831a15a5c2abad2d77921729\n[2] I39d93dbf8552605e34b9f146e3613e6af62a1774\n\nChange-Id: I14314ea73c60317ebd2e091631411f26d2f7c550\n'}]",8,673706,b4c478c77c9712c8fddd2d476363900d5668fadf,13,10,1,6873,,,0,"rt: remove misleading log in _remove_deleted_instances_allocations

The ResourceTracker has not ""healed"" allocations since ironic
driver specific support was removed [1] and before that Ocata
compute compat was removed [2]. This change simply removes the
part of the log message saying allocation healing will be skipped
when there is an instance with allocations against the compute but
the instance.host is not yet set, e.g. if the instance build is
waiting to acquire the COMPUTE_RESOURCE_SEMAPHORE lock.

[1] If272365e58a583e2831a15a5c2abad2d77921729
[2] I39d93dbf8552605e34b9f146e3613e6af62a1774

Change-Id: I14314ea73c60317ebd2e091631411f26d2f7c550
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/673706/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/resource_tracker.py'],1,b4c478c77c9712c8fddd2d476363900d5668fadf,," ""host, the scheduler has made an allocation (%s) "" ""yet to start."", instance_uuid, alloc)"," ""host, the scheduler has made an allocation "" ""yet to start. Skipping heal of allocation: %s."", instance_uuid, alloc)",2,3
openstack%2Ftripleo-heat-templates~stable%2Fstein~I4f2f69f00cad54c3c767f54de54dc9a061b02b8d,openstack/tripleo-heat-templates,stable/stein,I4f2f69f00cad54c3c767f54de54dc9a061b02b8d,Make sure libvirt-guests get started,MERGED,2019-07-29 10:02:28.000000000,2019-07-31 16:16:04.000000000,2019-07-31 16:16:03.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 30133}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-29 10:02:28.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5b681900cbacdb2e30ba2833b0e8719e802d50e6', 'message': 'Make sure libvirt-guests get started\n\nRight now the libvirt-guests gets enabled, but not started during\ninitial deploy. Make sure we start the service.\n\nChange-Id: I4f2f69f00cad54c3c767f54de54dc9a061b02b8d\n(cherry picked from commit cf2e5926e480a36246c912ff7ff4ab58095fe7cd)\n'}]",0,673253,5b681900cbacdb2e30ba2833b0e8719e802d50e6,14,9,1,17216,,,0,"Make sure libvirt-guests get started

Right now the libvirt-guests gets enabled, but not started during
initial deploy. Make sure we start the service.

Change-Id: I4f2f69f00cad54c3c767f54de54dc9a061b02b8d
(cherry picked from commit cf2e5926e480a36246c912ff7ff4ab58095fe7cd)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/53/673253/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,5b681900cbacdb2e30ba2833b0e8719e802d50e6,libvirt-guests_started-stein, state: started state: started,,2,0
openstack%2Ftripleo-ci~master~I6d4f68f26b8b541bb79ae17f08015d5f27c9b7c3,openstack/tripleo-ci,master,I6d4f68f26b8b541bb79ae17f08015d5f27c9b7c3,Fix python shebang to match python3,MERGED,2019-07-25 14:53:02.000000000,2019-07-31 16:16:02.000000000,2019-07-31 16:16:02.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-25 14:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/40ef3118ea66433768676c112ecc33dd1263918f', 'message': 'Fix python shebang to match python3\n\nIn some of scripts we still have python shebang ""#!/usr/bin/env python""\nwhich fails in python3 hosts.\nIn packages it\'s fixed by adding pathfix.py tasks to spec files.\nAdd the same behavior here as we build from source, not packages.\n\nChange-Id: I6d4f68f26b8b541bb79ae17f08015d5f27c9b7c3\n'}, {'number': 2, 'created': '2019-07-26 13:21:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/971f50fb29e593c212fefb4c50c3b59e78b42a25', 'message': 'Fix python shebang to match python3\n\nIn some of scripts we still have python shebang ""#!/usr/bin/env python""\nwhich fails in python3 hosts.\nIn packages it\'s fixed by adding pathfix.py tasks to spec files.\nAdd the same behavior here as we build from source, not packages.\n\nChange-Id: I6d4f68f26b8b541bb79ae17f08015d5f27c9b7c3\n'}, {'number': 3, 'created': '2019-07-29 12:46:51.000000000', 'files': ['roles/oooci-build-images/tasks/pre.yaml', 'roles/oooci-build-images/templates/pathfix_repos.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/91292bca8299bb9c301d2784a614bfbeee561242', 'message': 'Fix python shebang to match python3\n\nIn some of scripts we still have python shebang ""#!/usr/bin/env python""\nwhich fails in python3 hosts.\nIn packages it\'s fixed by adding pathfix.py tasks to spec files.\nAdd the same behavior here as we build from source, not packages.\n\nChange-Id: I6d4f68f26b8b541bb79ae17f08015d5f27c9b7c3\n'}]",10,672750,91292bca8299bb9c301d2784a614bfbeee561242,26,8,3,10969,,,0,"Fix python shebang to match python3

In some of scripts we still have python shebang ""#!/usr/bin/env python""
which fails in python3 hosts.
In packages it's fixed by adding pathfix.py tasks to spec files.
Add the same behavior here as we build from source, not packages.

Change-Id: I6d4f68f26b8b541bb79ae17f08015d5f27c9b7c3
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/50/672750/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/oooci-build-images/tasks/pre.yaml', 'roles/oooci-build-images/templates/pathfix_repos.sh.j2']",2,40ef3118ea66433768676c112ecc33dd1263918f,rhel8-build-images,"#!/usr/bin/bash for python_file in "" {{ openstack_git_root }}/tripleo-image-elements/elements/os-svc-install/bin/map-services-tripleo {{ openstack_git_root }}/diskimage-builder/diskimage_builder/lib/outfilter.py {{ openstack_git_root }}/diskimage-builder/diskimage_builder/elements/package-installs/bin/package-installs-squash {{ openstack_git_root }}/diskimage-builder/diskimage_builder/elements/svc-map/extra-data.d/10-merge-svc-map-files {{ openstack_git_root }}/diskimage-builder/diskimage_builder/elements/pypi/pre-install.d/04-configure-pypi-mirror {{ openstack_git_root }}/diskimage-builder/diskimage_builder/elements/deploy-targetcli/extra-data.d/module/targetcli-wrapper "" do /usr/bin/pathfix.py -pni /usr/bin/python3 $python_file done ",,35,0
openstack%2Fironic~master~I33b99bc7fc1033b693a3748322c1878e4c9231d7,openstack/ironic,master,I33b99bc7fc1033b693a3748322c1878e4c9231d7,CI Documentation,MERGED,2019-07-25 16:15:44.000000000,2019-07-31 16:14:30.000000000,2019-07-31 10:21:29.000000000,"[{'_account_id': 10206}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-07-25 16:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/074ceacb233a34f86642dd0580e23345ef70c70b', 'message': '[WIP] CI Documentation\n\nChange-Id: I33b99bc7fc1033b693a3748322c1878e4c9231d7\n'}, {'number': 2, 'created': '2019-07-26 14:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1254d6811d9426c51a824af44486e50267bfc7e0', 'message': 'CI Documentation\n\n- Jobs description: Help people understand\nwhat each job does in our CI.\n- How to add a new Job\n- How to initially debug failures in jobs.\n\nChange-Id: I33b99bc7fc1033b693a3748322c1878e4c9231d7\n'}, {'number': 3, 'created': '2019-07-29 13:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/18092dca90e465f5368e19f9c87a3a28a6fb0303', 'message': 'CI Documentation\n\n- Jobs description: Help people understand\nwhat each job does in our CI.\n- How to add a new Job\n- How to initially debug failures in jobs.\n\nChange-Id: I33b99bc7fc1033b693a3748322c1878e4c9231d7\n'}, {'number': 4, 'created': '2019-07-29 14:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2418e8033226a50c4c926afb8a6701d8bc72ea32', 'message': 'CI Documentation\n\n- Jobs description: Help people understand\nwhat each job does in our CI.\n- How to add a new Job\n- How to initially debug failures in jobs.\n\nChange-Id: I33b99bc7fc1033b693a3748322c1878e4c9231d7\n'}, {'number': 5, 'created': '2019-07-31 08:41:30.000000000', 'files': ['doc/source/contributor/adding-new-job.rst', 'doc/source/contributor/debug-ci-failures.rst', 'doc/source/contributor/index.rst', 'doc/source/contributor/jobs-description.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/083cd44604005fefc03647f49d0c719857b76097', 'message': 'CI Documentation\n\n- Jobs description: Help people understand\nwhat each job does in our CI.\n- How to add a new Job\n- How to initially debug failures in jobs.\n\nChange-Id: I33b99bc7fc1033b693a3748322c1878e4c9231d7\n'}]",58,672778,083cd44604005fefc03647f49d0c719857b76097,33,6,5,15519,,,0,"CI Documentation

- Jobs description: Help people understand
what each job does in our CI.
- How to add a new Job
- How to initially debug failures in jobs.

Change-Id: I33b99bc7fc1033b693a3748322c1878e4c9231d7
",git fetch https://review.opendev.org/openstack/ironic refs/changes/78/672778/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/adding-new-job.rst', 'doc/source/contributor/debug-ci-failures.rst', 'doc/source/contributor/index.rst', 'doc/source/contributor/jobs-description.rst']",4,074ceacb233a34f86642dd0580e23345ef70c70b,ci,".. _jobs-description: ================ Jobs description ================ In the table below you can find the name and the description of all specific jobs that runs when you submit a patch under `openstack/ironic`. .. _table_jobs_description: .. list-table:: Table. OpenStack Ironic CI jobs description :widths: 53 47 :header-rows: 1 * - Job name - Description * - ironic-tox-unit-with-driver-libs - Runs Ironic unit tests with the driver dependencies installed under Python2 * - ironic-tox-unit-with-driver-libs-python3 - Runs Ironic unit tests with the driver dependencies installed under Python3 * - ironic-standalone - Deploys Ironic in standalone mode and runs tempest tests that matches the regex `ironic_standalone`. * - ironic-tempest-functional-python2 - Deploys Ironic in standalone mode and runs tempest tests that matches the regex `ironic_tempest_plugin.tests.api` under Python2 * - ironic-tempest-functional-python3 - Deploys Ironic in standalone mode and runs tempest tests that matches the regex `ironic_tempest_plugin.tests.api` under Python3 * - ironic-grenade-dsvm - Deploy a DevStack with Ironic enable and runs upgrade for all services. * - ironic-grenade-dsvm-multinode-multitenant - Deploy a multinode DevStack with Ironic enable and runs upgrade for all services. * - ironic-tempest-ipa-partition-pxe_ipmitool-tinyipa-python3 - Deploys Ironic in DevStack under Python3, runs tempest tests that matches the regex `ironic_tempest_plugin.tests.scenario`, also deploys 1 virtual baremetal using tinyipa ramdisk partition image with pxe boot and `ipmi` driver. * - ironic-tempest-ipa-partition-redfish-tinyipa - Deploys Ironic in DevStack, runs tempest tests that matches the regex `ironic_tempest_plugin.tests.scenario`, also deploys 1 virtual baremetal using tinyipa ramdisk partition image with pxe boot and `redfish` driver. * - ironic-tempest-ipa-partition-uefi-pxe_ipmitool-tinyipa - Deploys Ironic in DevStack, runs tempest tests that matches the regex `ironic_tempest_plugin.tests.scenario`, also deploys 1 virtual baremetal using tinyipa ramdisk partition image with uefi boot and `ipmi` driver. * - ironic-tempest-ipa-wholedisk-direct-tinyipa-multinode - # TODO * - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa - Deploys Ironic in DevStack, runs tempest tests that matches the regex `ironic_tempest_plugin.tests.scenario`, also deploys 1 virtual baremetal using a pre-build tinyipa ramdisk wholedisk image with pxe boot and `ipmi` driver. The image is downloaded from a Swift temporary url. * - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa-indirect - Deploys Ironic in DevStack, runs tempest tests that matches the regex `ironic_tempest_plugin.tests.scenario`, also deploys 1 virtual baremetal using a pre-build tinyipa ramdisk wholedisk image with pxe boot and `ipmi` driver. The image is downloaded from a http url. * - ironic-tempest-ipa-partition-bios-agent_ipmitool-tinyipa-indirect - # TODO * - ironic-tempest-bfv - # TODO * - ironic-tempest-ipa-partition-uefi-pxe-grub2 - # TODO * - ironic-tox-bandit - Runs bandit security tests in a tox environment to find know issues in the Ironic code. * - ironic-tempest-ipa-wholedisk-bios-pxe_snmp-tinyipa - # TODO * - ironic-inspector-tempest - # TODO * - bifrost-integration-tinyipa-ubuntu-xenial - # TODO * - metalsmith-integration-glance-localboot-centos7 - # TODO * - ironic-tempest-pxe_ipmitool-postgres - # TODO ",,108,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~Icac13112655cd1d51170829fb0ac897473d30eaf,openstack/tripleo-heat-templates,stable/stein,Icac13112655cd1d51170829fb0ac897473d30eaf,Updates the cephfs_pools format to match that of openstack_pools,MERGED,2019-07-30 15:49:15.000000000,2019-07-31 16:13:59.000000000,2019-07-31 16:13:59.000000000,"[{'_account_id': 8449}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-30 15:49:15.000000000', 'files': ['deployment/ceph-ansible/ceph-mds.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3746b91335397ba9dd6f1e3b305f474b069001fa', 'message': 'Updates the cephfs_pools format to match that of openstack_pools\n\nWe did not keep the cephfs_pools format updated as we did with\nopenstack_pools; ceph-ansible rc11 has a backward incompat issue\nwith the old format.\n\nChange-Id: Icac13112655cd1d51170829fb0ac897473d30eaf\nCloses-Bug: 1837195\n(cherry picked from commit 51624fa82da3daa5b4cdce664648f9d736bbc4ab)\n'}]",0,673569,3746b91335397ba9dd6f1e3b305f474b069001fa,8,4,1,6796,,,0,"Updates the cephfs_pools format to match that of openstack_pools

We did not keep the cephfs_pools format updated as we did with
openstack_pools; ceph-ansible rc11 has a backward incompat issue
with the old format.

Change-Id: Icac13112655cd1d51170829fb0ac897473d30eaf
Closes-Bug: 1837195
(cherry picked from commit 51624fa82da3daa5b4cdce664648f9d736bbc4ab)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/69/673569/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-mds.yaml'],1,3746b91335397ba9dd6f1e3b305f474b069001fa,, cephfs_data_pool: application: cephfs name: {get_param: ManilaCephFSDataPoolName} pg_num: if: - deprecated_data_pool_pgnum - {get_param: ManilaCephFSDataPoolPGNum} - {get_param: CephPoolDefaultPgNum} rule_name: replicated_rule cephfs_metadata_pool: application: cephfs name: {get_param: ManilaCephFSMetadataPoolName} pg_num: if: - deprecated_metadata_pool_pgnum - {get_param: ManilaCephFSMetadataPoolPGNum} - {get_param: CephPoolDefaultPgNum} rule_name: replicated_rule cephfs: {get_param: ManilaCephFSShareBackendName}," cephfs_data: {get_param: ManilaCephFSDataPoolName} cephfs_metadata: {get_param: ManilaCephFSMetadataPoolName} cephfs: {get_param: ManilaCephFSShareBackendName} if: - or: - deprecated_data_pool_pgnum - deprecated_metadata_pool_pgnum - cephfs_pools: - { name: {get_param: ManilaCephFSDataPoolName}, pgs: {get_param: ManilaCephFSDataPoolPGNum} } - { name: {get_param: ManilaCephFSMetadataPoolName}, pgs: {get_param: ManilaCephFSMetadataPoolPGNum} } - cephfs_pools: - { name: {get_param: ManilaCephFSDataPoolName}, pgs: {get_param: CephPoolDefaultPgNum} } - { name: {get_param: ManilaCephFSMetadataPoolName}, pgs: {get_param: CephPoolDefaultPgNum} }",19,13
openstack%2Ftripleo-quickstart~master~I507414a4df0a011a6babb784d7db64ace3cb36f3,openstack/tripleo-quickstart,master,I507414a4df0a011a6babb784d7db64ace3cb36f3,DNM: step by step repos,ABANDONED,2019-07-31 13:35:40.000000000,2019-07-31 16:09:59.000000000,,[],"[{'number': 1, 'created': '2019-07-31 13:35:40.000000000', 'files': ['config/release/tripleo-ci/RedHat-8/promotion-testing-hash-master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/fccc0c356c4acaf5c413f42baab24c597961ebc4', 'message': 'DNM: step by step repos\n\nChange-Id: I507414a4df0a011a6babb784d7db64ace3cb36f3\n'}]",0,673811,fccc0c356c4acaf5c413f42baab24c597961ebc4,2,0,1,10969,,,0,"DNM: step by step repos

Change-Id: I507414a4df0a011a6babb784d7db64ace3cb36f3
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/11/673811/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/RedHat-8/promotion-testing-hash-master.yml'],1,fccc0c356c4acaf5c413f42baab24c597961ebc4,,"devmode: trueovercloud_as_undercloud: true use_specific_hash: true docker_registry_host: trunk.registry.rdoproject.org docker_registry_namespace: tripleomaster delorean_hash_label: &promotion-testing-tag ""{{ dlrn_hash|default(dlrn_hash_tag) }}"" distro_deps_repo_name: deps docker_image_tag: *promotion-testing-tag dlrn_hash_tag_newest: current sudo dnf clean all;","overcloud_as_undercloud: trueuse_specific_hash: truedistro_deps_repo_name: depsdelorean_hash_label: &promotion-testing-tag ""{{ dlrn_hash|default(dlrn_hash_tag) }}"" dlrn_hash_tag_newest: current docker_registry_host: trunk.registry.rdoproject.org docker_registry_namespace: tripleomaster docker_image_tag: *promotion-testing-tag undercloud_docker_insecure_registries: ""{{ docker_registry_host }}"" docker_prep_prefix: rhel-binary docker_ceph_namespace: docker.io/ceph docker_openshift_tag: v3.11.0 # TODO(chkumar246): Currently RHUI repos are disabled by default # Once it is fixed, it will remove this. sudo dnf config-manager --enable rhui-*; sudo dnf clean all;",11,17
openstack%2Frequirements~master~I5af1190650048c2afec43feb08f2f5486fcfca26,openstack/requirements,master,I5af1190650048c2afec43feb08f2f5486fcfca26,Exclude pyghmi 1.4.0,MERGED,2019-07-29 14:42:29.000000000,2019-07-31 15:57:45.000000000,2019-07-31 15:57:44.000000000,"[{'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-29 14:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/073db921cd790325e2b489dfa431c6f4b2866c17', 'message': ""Exclude pyghmi 1.4.0\n\nIt seems to break virtualbmc, and thus ironic. It hasn't hit\nupper-constraints yet, but for some reason ironic jobs use pyghmi\nfrom git.\n\nChange-Id: I5af1190650048c2afec43feb08f2f5486fcfca26\nStory: #2006301\nTask: #36014\n""}, {'number': 2, 'created': '2019-07-29 14:45:05.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f7b60f6b3261bb6fb4e23ae217fc2c0d886e86ee', 'message': ""Exclude pyghmi 1.4.0\n\nIt seems to break virtualbmc, and thus ironic. It hasn't hit\nupper-constraints yet, but for some reason ironic jobs use pyghmi\nfrom git.\n\nChange-Id: I5af1190650048c2afec43feb08f2f5486fcfca26\nStory: #2006301\nTask: #36015\n""}]",0,673305,f7b60f6b3261bb6fb4e23ae217fc2c0d886e86ee,11,4,2,10239,,,0,"Exclude pyghmi 1.4.0

It seems to break virtualbmc, and thus ironic. It hasn't hit
upper-constraints yet, but for some reason ironic jobs use pyghmi
from git.

Change-Id: I5af1190650048c2afec43feb08f2f5486fcfca26
Story: #2006301
Task: #36015
",git fetch https://review.opendev.org/openstack/requirements refs/changes/05/673305/2 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,073db921cd790325e2b489dfa431c6f4b2866c17,pyghmi,pyghmi!=1.4.0 # Apache-2.0,pyghmi # Apache-2.0,1,1
openstack%2Fnova~master~I1641cbe06b7fd3f773a0a9779c94f3efb0c8dac8,openstack/nova,master,I1641cbe06b7fd3f773a0a9779c94f3efb0c8dac8,Use OpenStack SDK for placement,MERGED,2019-04-26 21:38:21.000000000,2019-07-31 15:57:36.000000000,2019-07-31 15:57:36.000000000,"[{'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-04-26 21:38:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eda5b2a682320f4c789f093d5ec8d2870bbd293c', 'message': ""WIP: Use OpenStack SDK for placement\n\nThis swaps the SchedulerReportClient's raw KSA Adapter for the placement\nProxy (which is an Adapter subclass) from an OpenStack SDK Connection.\n\nTODO: Put the fixture in the previous patch?\nTODO: tests\nTODO: conf so clouds.yaml can (optionally) be used instead of ksa\n      oslo.config\nTODO: reno for ^\n\nPart of blueprint openstacksdk-in-nova\n\nChange-Id: I1641cbe06b7fd3f773a0a9779c94f3efb0c8dac8\n""}, {'number': 2, 'created': '2019-04-30 18:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ccabc326293a90b4637c2eacf1ef1950934871cd', 'message': ""WIP: Use OpenStack SDK for placement\n\nThis swaps the SchedulerReportClient's raw KSA Adapter for the placement\nProxy (which is an Adapter subclass) from an OpenStack SDK Connection.\n\nTODO: Put the fixture in the previous patch?\nTODO: tests\nTODO: conf so clouds.yaml can (optionally) be used instead of ksa\n      oslo.config\nTODO: reno for ^\n\nPart of blueprint openstacksdk-in-nova\n\nChange-Id: I1641cbe06b7fd3f773a0a9779c94f3efb0c8dac8\n""}, {'number': 3, 'created': '2019-04-30 22:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f1aed84b6ef3be6aeb5ce0de4baec142786237a0', 'message': ""WIP: Use OpenStack SDK for placement\n\nThis swaps the SchedulerReportClient's raw KSA Adapter for the placement\nProxy (which is an Adapter subclass) from an OpenStack SDK Connection.\n\nTODO: conf so clouds.yaml can (optionally) be used instead of ksa\n      oslo.config\nTODO: reno for ^\n\nPart of blueprint openstacksdk-in-nova\n\nChange-Id: I1641cbe06b7fd3f773a0a9779c94f3efb0c8dac8\n""}, {'number': 4, 'created': '2019-05-17 18:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3aee43cf695a5930ea8a851a358dc06a244605a6', 'message': ""WIP: Use OpenStack SDK for placement\n\nThis swaps the SchedulerReportClient's raw KSA Adapter for the placement\nProxy (which is an Adapter subclass) from an OpenStack SDK Connection.\n\nTODO: conf so clouds.yaml can (optionally) be used instead of ksa\n      oslo.config\nTODO: reno for ^\n\nPart of blueprint openstacksdk-in-nova\n\nChange-Id: I1641cbe06b7fd3f773a0a9779c94f3efb0c8dac8\n""}, {'number': 5, 'created': '2019-05-17 18:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9c3ede18757713d0fa8a6b7296e3af1c05c1cd55', 'message': ""WIP: Use OpenStack SDK for placement\n\nThis swaps the SchedulerReportClient's raw KSA Adapter for the placement\nProxy (which is an Adapter subclass) from an OpenStack SDK Connection.\n\nTODO: conf so clouds.yaml can (optionally) be used instead of ksa\n      oslo.config\nTODO: reno for ^\n\nPart of blueprint openstacksdk-in-nova\n\nChange-Id: I1641cbe06b7fd3f773a0a9779c94f3efb0c8dac8\n""}, {'number': 6, 'created': '2019-06-06 18:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c07e26cf340ff3a5943b636f2f408988a75ae312', 'message': ""Use OpenStack SDK for placement\n\nThis swaps the SchedulerReportClient's raw KSA Adapter for the placement\nProxy (which is an Adapter subclass) from an OpenStack SDK Connection.\n\nPart of blueprint openstacksdk-in-nova\n\nChange-Id: I1641cbe06b7fd3f773a0a9779c94f3efb0c8dac8\n""}, {'number': 7, 'created': '2019-06-07 04:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/121b7d2bb5e8f6555b34817e0c52a008185bab3b', 'message': ""Use OpenStack SDK for placement\n\nThis swaps the SchedulerReportClient's raw KSA Adapter for the placement\nProxy (which is an Adapter subclass) from an OpenStack SDK Connection.\n\nPart of blueprint openstacksdk-in-nova\n\nChange-Id: I1641cbe06b7fd3f773a0a9779c94f3efb0c8dac8\n""}, {'number': 8, 'created': '2019-06-11 20:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a3493c1d13340c7d1db75cf358195ba2121ecdeb', 'message': ""Use OpenStack SDK for placement\n\nThis swaps the SchedulerReportClient's raw KSA Adapter for the placement\nProxy (which is an Adapter subclass) from an OpenStack SDK Connection.\n\nPart of blueprint openstacksdk-in-nova\n\nChange-Id: I1641cbe06b7fd3f773a0a9779c94f3efb0c8dac8\n""}, {'number': 9, 'created': '2019-07-09 22:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/11518ce4454eadce227382f87e2070493d650c6e', 'message': ""Use OpenStack SDK for placement\n\nThis swaps the SchedulerReportClient's raw KSA Adapter for the placement\nProxy (which is an Adapter subclass) from an OpenStack SDK Connection.\n\nPart of blueprint openstacksdk-in-nova\n\nChange-Id: I1641cbe06b7fd3f773a0a9779c94f3efb0c8dac8\n""}, {'number': 10, 'created': '2019-07-10 22:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c98bddf61d418a0eb5e7877d845f2740d2fc3c4b', 'message': ""Use OpenStack SDK for placement\n\nThis swaps the SchedulerReportClient's raw KSA Adapter for the placement\nProxy (which is an Adapter subclass) from an OpenStack SDK Connection.\n\nPart of blueprint openstacksdk-in-nova\n\nChange-Id: I1641cbe06b7fd3f773a0a9779c94f3efb0c8dac8\n""}, {'number': 11, 'created': '2019-07-23 14:34:53.000000000', 'files': ['nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2a2379a63cab4414676882c068d25163874cf08e', 'message': ""Use OpenStack SDK for placement\n\nThis swaps the SchedulerReportClient's raw KSA Adapter for the placement\nProxy (which is an Adapter subclass) from an OpenStack SDK Connection.\n\nPart of blueprint openstacksdk-in-nova\n\nChange-Id: I1641cbe06b7fd3f773a0a9779c94f3efb0c8dac8\n""}]",3,656023,2a2379a63cab4414676882c068d25163874cf08e,162,22,11,14070,,,0,"Use OpenStack SDK for placement

This swaps the SchedulerReportClient's raw KSA Adapter for the placement
Proxy (which is an Adapter subclass) from an OpenStack SDK Connection.

Part of blueprint openstacksdk-in-nova

Change-Id: I1641cbe06b7fd3f773a0a9779c94f3efb0c8dac8
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/656023/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/fixtures.py', 'nova/test.py', 'nova/scheduler/client/report.py']",3,eda5b2a682320f4c789f093d5ec8d2870bbd293c,bp/openstacksdk-in-nova, client = self._adapter or utils.get_sdk_adapter('placement'), client = self._adapter or utils.get_ksa_adapter('placement'),15,1
openstack%2Fnova~master~I49f364e01e2a18de0c95674654fc72acea019e76,openstack/nova,master,I49f364e01e2a18de0c95674654fc72acea019e76,Introduces the openstacksdk to nova,MERGED,2019-03-15 19:21:55.000000000,2019-07-31 15:57:29.000000000,2019-07-31 15:57:29.000000000,"[{'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29745}]","[{'number': 1, 'created': '2019-03-15 19:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a53282aa3ef555367bd122f936500c6521f96ae', 'message': ""WIP/PoC: Use openstacksdk for placement\n\nThis patch introduces openstacksdk to nova, and proves that it works as\na passthrough to its keystoneauth1 Adapter by swapping out the\nSchedulerReportClient's ksa adapter with one from an sdk Connection\nconstructed in a very similar way.\n\nDepends-On: https://review.openstack.org/643601\nChange-Id: I49f364e01e2a18de0c95674654fc72acea019e76\n""}, {'number': 2, 'created': '2019-03-15 19:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/842903de1720f9f6dbb1024a0e687db341f28bc3', 'message': ""WIP/PoC: Use openstacksdk for placement\n\nThis patch introduces openstacksdk to nova, and proves that it works as\na passthrough to its keystoneauth1 Adapter by swapping out the\nSchedulerReportClient's ksa adapter with one from an sdk Connection\nconstructed in a very similar way.\n\nDepends-On: https://review.openstack.org/643601\nChange-Id: I49f364e01e2a18de0c95674654fc72acea019e76\n""}, {'number': 3, 'created': '2019-03-17 19:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fcf2981642c7b3558c1e7dd888aaaa5a15ecc3cb', 'message': ""WIP/PoC: Use openstacksdk for placement\n\nThis patch introduces openstacksdk to nova, and proves that it works as\na passthrough to its keystoneauth1 Adapter by swapping out the\nSchedulerReportClient's ksa adapter with one from an sdk Connection\nconstructed in a very similar way.\n\nDepends-On: https://review.openstack.org/643601\nChange-Id: I49f364e01e2a18de0c95674654fc72acea019e76\n""}, {'number': 4, 'created': '2019-03-18 19:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19561148d6b4f865077820245a74147dd9980046', 'message': ""WIP/PoC: Use openstacksdk for placement\n\nThis patch introduces openstacksdk to nova, and proves that it works as\na passthrough to its keystoneauth1 Adapter by swapping out the\nSchedulerReportClient's ksa adapter with one from an sdk Connection\nconstructed in a very similar way.\n\nDepends-On: https://review.openstack.org/643601\nChange-Id: I49f364e01e2a18de0c95674654fc72acea019e76\n""}, {'number': 5, 'created': '2019-03-19 23:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e10078bd8a59cd7042144457cdf5b92689712d45', 'message': ""WIP/PoC: Use openstacksdk for placement\n\nThis patch introduces openstacksdk to nova, and proves that it works as\na passthrough to its keystoneauth1 Adapter by swapping out the\nSchedulerReportClient's ksa adapter with one from an sdk Connection\nconstructed in a very similar way.\n\nDepends-On: https://review.openstack.org/643601\nChange-Id: I49f364e01e2a18de0c95674654fc72acea019e76\n""}, {'number': 6, 'created': '2019-04-11 22:13:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d969d6d1efa392aa92f6fd0ce89e0732ad417d73', 'message': 'WIP/PoC: Introduces the openstacksdk to nova\n\nEnables the use of the sdk instead of ksa adapter or python-*client.\nIt is provided by a get_sdk_adapter method which constructs an\nauthenticated SDK Connection object using provided service configuration.\nThis change should be transparent to operators of services which already\nuse ksa as get_sdk_adapter uses the same conf options from keystoneauth1.\n\nCo-Authored-By: Dustin Cowles <dustin.cowles@intel.com>\nDepends-On: https://review.openstack.org/643601\nChange-Id: I49f364e01e2a18de0c95674654fc72acea019e76\n'}, {'number': 7, 'created': '2019-04-12 16:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a985e06fb5d4055fcf26aad644c70e335b4f39bd', 'message': 'WIP/PoC: Introduces the openstacksdk to nova\n\nEnables the use of the sdk instead of ksa adapter or python-*client.\nIt is provided by a get_sdk_adapter method which constructs an\nauthenticated SDK Connection object using provided service configuration.\nThis change should be transparent to operators of services which already\nuse ksa as get_sdk_adapter uses the same conf options from keystoneauth1.\n\nCo-Authored-By: Dustin Cowles <dustin.cowles@intel.com>\nDepends-On: https://review.openstack.org/643601\nChange-Id: I49f364e01e2a18de0c95674654fc72acea019e76\n'}, {'number': 8, 'created': '2019-04-13 01:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b63682181f8d5d2fa9d7cf4c948af404a70bc52', 'message': 'WIP/PoC: Introduces the openstacksdk to nova\n\nEnables the use of the sdk instead of ksa adapter or python-*client.\nIt is provided by a get_sdk_adapter method which constructs an\nauthenticated SDK Connection object using provided service configuration.\nThis change should be transparent to operators of services which already\nuse ksa as get_sdk_adapter uses the same conf options from keystoneauth1.\n\nCo-Authored-By: Dustin Cowles <dustin.cowles@intel.com>\nDepends-On: https://review.openstack.org/643601\nChange-Id: I49f364e01e2a18de0c95674654fc72acea019e76\n'}, {'number': 9, 'created': '2019-04-13 01:38:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eae8d96c4fa8b1489772877d55c4ff69f154fedf', 'message': 'Introduces the openstacksdk to nova\n\nEnables the use of the sdk instead of ksa adapter or python-*client.\nIt is provided by a get_sdk_adapter method which constructs an\nauthenticated SDK Connection object using provided service configuration.\nThis change should be transparent to operators of services which already\nuse ksa as get_sdk_adapter uses the same conf options from keystoneauth1.\n\nCo-Authored-By: Dustin Cowles <dustin.cowles@intel.com>\nDepends-On: https://review.openstack.org/643601\nChange-Id: I49f364e01e2a18de0c95674654fc72acea019e76\n'}, {'number': 10, 'created': '2019-04-16 01:05:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14113ab164916de9fca771be4daff30eba71c520', 'message': 'Introduces the openstacksdk to nova\n\nEnables the use of the sdk instead of ksa adapter or python-*client.\nIt is provided by a get_sdk_adapter method which constructs an\nauthenticated SDK Connection object using provided service configuration.\nThis change should be transparent to operators of services which already\nuse ksa as get_sdk_adapter uses the same conf options from keystoneauth1.\n\nCo-Authored-By: Dustin Cowles <dustin.cowles@intel.com>\nDepends-On: https://review.openstack.org/643601\nChange-Id: I49f364e01e2a18de0c95674654fc72acea019e76\n'}, {'number': 11, 'created': '2019-04-16 21:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a3afe3f731e75fce95012da8071e805921fb106', 'message': 'Introduces the openstacksdk to nova\n\nEnables the use of the sdk instead of ksa adapter or python-*client.\nIt is provided by a get_sdk_adapter method which constructs an\nauthenticated SDK Connection object using provided service configuration.\nThis change should be transparent to operators of services which already\nuse ksa as get_sdk_adapter uses the same conf options from keystoneauth1.\n\nCo-Authored-By: Dustin Cowles <dustin.cowles@intel.com>\nDepends-On: https://review.openstack.org/643601\nChange-Id: I49f364e01e2a18de0c95674654fc72acea019e76\n'}, {'number': 12, 'created': '2019-04-17 22:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/27ee081626bad97bd8a04fd667a46939476589c2', 'message': 'Introduces the openstacksdk to nova\n\nEnables the use of the sdk instead of ksa adapter or python-*client.\nIt is provided by a get_sdk_adapter method which constructs an\nauthenticated SDK Connection object using provided service configuration.\nThis change should be transparent to operators of services which already\nuse ksa as get_sdk_adapter uses the same conf options from keystoneauth1.\n\nBlueprint: openstacksdk-in-nova\nCo-Authored-By: Dustin Cowles <dustin.cowles@intel.com>\nDepends-On: https://review.openstack.org/643601\nChange-Id: I49f364e01e2a18de0c95674654fc72acea019e76\n'}, {'number': 13, 'created': '2019-04-27 00:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3b61b994147f6d36e1f1f89a2fbc3b5d1fc2b346', 'message': 'Introduces the openstacksdk to nova\n\nEnables the use of the sdk instead of ksa adapter or python-*client.\nIt is provided by a get_sdk_adapter method which constructs an\nauthenticated SDK Connection object using provided service configuration.\nThis change should be transparent to operators of services which already\nuse ksa as get_sdk_adapter uses the same conf options from keystoneauth1.\n\nBlueprint: openstacksdk-in-nova\nCo-Authored-By: Dustin Cowles <dustin.cowles@intel.com>\nDepends-On: https://review.openstack.org/643601\nChange-Id: I49f364e01e2a18de0c95674654fc72acea019e76\n'}, {'number': 14, 'created': '2019-04-27 01:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ea88068e2081f0ff2903e405b2e8a1a2df1d42cf', 'message': 'Introduces the openstacksdk to nova\n\nEnables the use of the sdk instead of ksa adapter or python-*client.\nIt is provided by a get_sdk_adapter method which constructs an\nauthenticated SDK Connection object using provided service configuration.\nThis change should be transparent to operators of services which already\nuse ksa as get_sdk_adapter uses the same conf options from keystoneauth1.\n\nBlueprint: openstacksdk-in-nova\nCo-Authored-By: Dustin Cowles <dustin.cowles@intel.com>\nDepends-On: https://review.openstack.org/643601\nChange-Id: I49f364e01e2a18de0c95674654fc72acea019e76\n'}, {'number': 15, 'created': '2019-04-30 18:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bdaf1b4680fd4eac71e505abc50cf06fdf2bd500', 'message': 'Introduces the openstacksdk to nova\n\nEnables the use of the sdk instead of ksa adapter or python-*client.\nIt is provided by a get_sdk_adapter method which constructs an\nauthenticated SDK Connection object using provided service configuration.\nThis change should be transparent to operators of services which already\nuse ksa as get_sdk_adapter uses the same conf options from keystoneauth1.\n\nBlueprint: openstacksdk-in-nova\nCo-Authored-By: Dustin Cowles <dustin.cowles@intel.com>\nDepends-On: https://review.openstack.org/643601\nChange-Id: I49f364e01e2a18de0c95674654fc72acea019e76\n'}, {'number': 16, 'created': '2019-05-17 18:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2da593615ce44c2b20e82377d4da8b784751417', 'message': 'Introduces the openstacksdk to nova\n\nEnables the use of the sdk instead of ksa adapter or python-*client.\nIt is provided by a get_sdk_adapter method which constructs an\nauthenticated SDK Connection object using provided service configuration.\nThis change should be transparent to operators of services which already\nuse ksa as get_sdk_adapter uses the same conf options from keystoneauth1.\n\nBlueprint: openstacksdk-in-nova\nCo-Authored-By: Dustin Cowles <dustin.cowles@intel.com>\nDepends-On: https://review.openstack.org/643601\nChange-Id: I49f364e01e2a18de0c95674654fc72acea019e76\n'}, {'number': 17, 'created': '2019-05-17 18:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/35e68dbca08f3bb74a50dad2b7f0a67e4ce2b1ec', 'message': 'Introduces the openstacksdk to nova\n\nEnables the use of the sdk instead of ksa adapter or python-*client.\nIt is provided by a get_sdk_adapter method which constructs an\nauthenticated SDK Connection object using provided service configuration.\nThis change should be transparent to operators of services which already\nuse ksa as get_sdk_adapter uses the same conf options from keystoneauth1.\n\nBlueprint: openstacksdk-in-nova\nCo-Authored-By: Dustin Cowles <dustin.cowles@intel.com>\nDepends-On: https://review.opendev.org/643601\nChange-Id: I49f364e01e2a18de0c95674654fc72acea019e76\n'}, {'number': 18, 'created': '2019-06-06 18:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b7893cd5cf8cc577448659b39518dd7a934fbb0', 'message': 'Introduces the openstacksdk to nova\n\nEnables the use of the sdk instead of ksa adapter or python-*client.\nIt is provided by a get_sdk_adapter method which constructs an\nauthenticated SDK Connection object using provided service configuration.\nThis change should be transparent to operators of services which already\nuse ksa as get_sdk_adapter uses the same conf options from keystoneauth1.\n\nBlueprint: openstacksdk-in-nova\nCo-Authored-By: Dustin Cowles <dustin.cowles@intel.com>\nChange-Id: I49f364e01e2a18de0c95674654fc72acea019e76\n'}, {'number': 19, 'created': '2019-06-07 04:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ec5cc43a01d149312c18f24615e0a8a04c9384f', 'message': 'Introduces the openstacksdk to nova\n\nEnables the use of the sdk instead of ksa adapter or python-*client.\nIt is provided by a get_sdk_adapter method which constructs an\nauthenticated SDK Connection object using provided service configuration.\nThis change should be transparent to operators of services which already\nuse ksa as get_sdk_adapter uses the same conf options from keystoneauth1.\n\nBlueprint: openstacksdk-in-nova\nCo-Authored-By: Dustin Cowles <dustin.cowles@intel.com>\nChange-Id: I49f364e01e2a18de0c95674654fc72acea019e76\n'}, {'number': 20, 'created': '2019-06-11 20:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b53000ecf9e65b4797b7917a843850ea201adc5f', 'message': 'Introduces the openstacksdk to nova\n\nEnables the use of the sdk instead of ksa adapter or python-*client.\nIt is provided by a get_sdk_adapter method which constructs an\nauthenticated SDK Connection object using provided service configuration.\nThis change should be transparent to operators of services which already\nuse ksa as get_sdk_adapter uses the same conf options from keystoneauth1.\n\nBlueprint: openstacksdk-in-nova\nCo-Authored-By: Dustin Cowles <dustin.cowles@intel.com>\nChange-Id: I49f364e01e2a18de0c95674654fc72acea019e76\n'}, {'number': 21, 'created': '2019-07-09 22:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f3d24b8671097c12dab1ded3ecee3c44102ac15', 'message': 'Introduces the openstacksdk to nova\n\nEnables the use of the sdk instead of ksa adapter or python-*client.\nIt is provided by a get_sdk_adapter method which constructs an\nauthenticated SDK Connection object using provided service configuration.\nThis change should be transparent to operators of services which already\nuse ksa as get_sdk_adapter uses the same conf options from keystoneauth1.\n\nBlueprint: openstacksdk-in-nova\nCo-Authored-By: Dustin Cowles <dustin.cowles@intel.com>\nChange-Id: I49f364e01e2a18de0c95674654fc72acea019e76\n'}, {'number': 22, 'created': '2019-07-10 22:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/41e8648a35e97de39656f56235493f618be46e1d', 'message': 'Introduces the openstacksdk to nova\n\nEnables the use of the sdk instead of ksa adapter or python-*client.\nIt is provided by a get_sdk_adapter method which constructs an\nauthenticated SDK Connection object using provided service configuration.\nThis change should be transparent to operators of services which already\nuse ksa as get_sdk_adapter uses the same conf options from keystoneauth1.\n\nBlueprint: openstacksdk-in-nova\nCo-Authored-By: Dustin Cowles <dustin.cowles@intel.com>\nChange-Id: I49f364e01e2a18de0c95674654fc72acea019e76\n'}, {'number': 23, 'created': '2019-07-22 22:50:42.000000000', 'files': ['requirements.txt', 'nova/tests/fixtures.py', 'nova/test.py', 'nova/tests/unit/test_utils.py', 'lower-constraints.txt', 'nova/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9f64b9900e705e040aadb07ec3b9db140b4fc11b', 'message': 'Introduces the openstacksdk to nova\n\nEnables the use of the sdk instead of ksa adapter or python-*client.\nIt is provided by a get_sdk_adapter method which constructs an\nauthenticated SDK Connection object using provided service configuration.\nThis change should be transparent to operators of services which already\nuse ksa as get_sdk_adapter uses the same conf options from keystoneauth1.\n\nBlueprint: openstacksdk-in-nova\nCo-Authored-By: Dustin Cowles <dustin.cowles@intel.com>\nChange-Id: I49f364e01e2a18de0c95674654fc72acea019e76\n'}]",37,643664,9f64b9900e705e040aadb07ec3b9db140b4fc11b,258,22,23,14070,,,0,"Introduces the openstacksdk to nova

Enables the use of the sdk instead of ksa adapter or python-*client.
It is provided by a get_sdk_adapter method which constructs an
authenticated SDK Connection object using provided service configuration.
This change should be transparent to operators of services which already
use ksa as get_sdk_adapter uses the same conf options from keystoneauth1.

Blueprint: openstacksdk-in-nova
Co-Authored-By: Dustin Cowles <dustin.cowles@intel.com>
Change-Id: I49f364e01e2a18de0c95674654fc72acea019e76
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/643664/10 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'nova/scheduler/client/report.py', 'lower-constraints.txt', 'nova/utils.py']",4,3a53282aa3ef555367bd122f936500c6521f96ae,bp/openstacksdk-in-nova,"from openstack import connectiondef _get_conf_group(service_type): # Get the conf group corresponding to the service type. confgrp = _SERVICE_TYPES.get_project_name(service_type) if not confgrp or not hasattr(CONF, confgrp): # Try the service type as the conf group. This is necessary for e.g. # placement, while it's still part of the nova project. # Note that this might become the first thing we try if/as we move to # using service types for conf group names in general. confgrp = service_type if not confgrp or not hasattr(CONF, confgrp): raise exception.ConfGroupForServiceTypeNotFound(stype=service_type) return confgrp def _get_auth_and_session(confgrp, ksa_auth=None, ksa_session=None): # Ensure we have an auth. # NOTE(efried): This could be None, and that could be okay - e.g. if the # result is being used for get_endpoint() and the conf only contains # endpoint_override. if not ksa_auth: if ksa_session and ksa_session.auth: ksa_auth = ksa_session.auth else: ksa_auth = ks_loading.load_auth_from_conf_options(CONF, confgrp) if not ksa_session: ksa_session = ks_loading.load_session_from_conf_options( CONF, confgrp, auth=ksa_auth) return ksa_auth, ksa_session confgrp = _get_conf_group(service_type) ksa_auth, ksa_session = _get_auth_and_session( confgrp, ksa_auth, ksa_session)def get_sdk_adapter(service_type): confgrp = _get_conf_group(service_type) _, sess = _get_auth_and_session(confgrp) conn = connection.Connection(session=sess, oslo_conf=CONF) return getattr(conn, service_type) "," # Get the conf group corresponding to the service type. confgrp = _SERVICE_TYPES.get_project_name(service_type) if not confgrp or not hasattr(CONF, confgrp): # Try the service type as the conf group. This is necessary for e.g. # placement, while it's still part of the nova project. # Note that this might become the first thing we try if/as we move to # using service types for conf group names in general. confgrp = service_type if not confgrp or not hasattr(CONF, confgrp): raise exception.ConfGroupForServiceTypeNotFound(stype=service_type) # Ensure we have an auth. # NOTE(efried): This could be None, and that could be okay - e.g. if the # result is being used for get_endpoint() and the conf only contains # endpoint_override. if not ksa_auth: if ksa_session and ksa_session.auth: ksa_auth = ksa_session.auth else: ksa_auth = ks_loading.load_auth_from_conf_options(CONF, confgrp) if not ksa_session: ksa_session = ks_loading.load_session_from_conf_options( CONF, confgrp, auth=ksa_auth)",45,25
openstack%2Ftripleo-heat-templates~stable%2Fstein~I630a4a65c30928a8dd8cca59c39792afd7302ca6,openstack/tripleo-heat-templates,stable/stein,I630a4a65c30928a8dd8cca59c39792afd7302ca6,Prefer CephPoolDefaultPgNum over counterintuitive Manila specific params,MERGED,2019-07-30 15:49:15.000000000,2019-07-31 15:52:30.000000000,2019-07-31 15:52:30.000000000,"[{'_account_id': 8449}, {'_account_id': 9003}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-30 15:49:15.000000000', 'files': ['deployment/ceph-ansible/ceph-mds.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3719af16661c118ef810dd4b5b4b01cac5b0dba0', 'message': 'Prefer CephPoolDefaultPgNum over counterintuitive Manila specific params\n\nWe used to look at CephPoolDefaultPgNum to set the pg_num of all but\nthe Manila pools. This seems counterintuitive, especially because specific\npools pg_num can be overridden using the CephPools parameter. This\nchange deprecates the old Manila specific parameters.\n\nChange-Id: I630a4a65c30928a8dd8cca59c39792afd7302ca6\n(cherry picked from commit 634be405da07195dc7e107c575e715cf3960a250)\n'}]",0,673568,3719af16661c118ef810dd4b5b4b01cac5b0dba0,10,6,1,6796,,,0,"Prefer CephPoolDefaultPgNum over counterintuitive Manila specific params

We used to look at CephPoolDefaultPgNum to set the pg_num of all but
the Manila pools. This seems counterintuitive, especially because specific
pools pg_num can be overridden using the CephPools parameter. This
change deprecates the old Manila specific parameters.

Change-Id: I630a4a65c30928a8dd8cca59c39792afd7302ca6
(cherry picked from commit 634be405da07195dc7e107c575e715cf3960a250)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/68/673568/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-mds.yaml'],1,3719af16661c118ef810dd4b5b4b01cac5b0dba0,," CephPoolDefaultPgNum: description: default pg_num to use for the RBD pools type: number default: 128 # DEPRECATED options for compatibility with older versions ManilaCephFSDataPoolPGNum: default: 128 type: number ManilaCephFSMetadataPoolPGNum: default: 128 type: number parameter_groups: - label: deprecated description: Do not use deprecated params, they will be removed. parameters: - ManilaCephFSDataPoolPGNum - ManilaCephFSMetadataPoolPGNum conditions: deprecated_data_pool_pgnum: {not: {equals: [{get_param: ManilaCephFSDataPoolPGNum}, 128]}} deprecated_metadata_pool_pgnum: {not: {equals: [{get_param: ManilaCephFSMetadataPoolPGNum}, 128]}} # Prefer CephPoolDefaultPgNum unless the (deprecated) # params value is different from their default. if: - or: - deprecated_data_pool_pgnum - deprecated_metadata_pool_pgnum - cephfs_pools: - { name: {get_param: ManilaCephFSDataPoolName}, pgs: {get_param: ManilaCephFSDataPoolPGNum} } - { name: {get_param: ManilaCephFSMetadataPoolName}, pgs: {get_param: ManilaCephFSMetadataPoolPGNum} } - cephfs_pools: - { name: {get_param: ManilaCephFSDataPoolName}, pgs: {get_param: CephPoolDefaultPgNum} } - { name: {get_param: ManilaCephFSMetadataPoolName}, pgs: {get_param: CephPoolDefaultPgNum} }"," ManilaCephFSDataPoolPGNum: default: 128 type: number ManilaCephFSMetadataPoolPGNum: default: 128 type: number cephfs_pools: - { name: {get_param: ManilaCephFSDataPoolName}, pgs: {get_param: ManilaCephFSDataPoolPGNum} } - { name: {get_param: ManilaCephFSMetadataPoolName}, pgs: {get_param: ManilaCephFSMetadataPoolPGNum} }",34,9
openstack%2Fnova~master~I43e34b3ff1424d42632a3e8f842c93508905aa1a,openstack/nova,master,I43e34b3ff1424d42632a3e8f842c93508905aa1a,Fix AttributeError in RT._update_usage_from_migration,MERGED,2019-06-26 17:38:25.000000000,2019-07-31 15:45:48.000000000,2019-07-31 15:04:47.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-26 17:38:25.000000000', 'files': ['nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/818419c9d313bd6151d1a05b3a087a15116f61b8', 'message': 'Fix AttributeError in RT._update_usage_from_migration\n\nChange Ieb539c9a0cfbac743c579a1633234537a8e3e3ee in Stein\nadded some logging in _update_usage_from_migration to log\nthe flavor for an inbound and outbound migration.\n\nIf an instance is resized and then the resize is immediately\nconfirmed, it\'s possible to race with ComputeManager._confirm_resize\nsetting the instance.old_flavor to None before the migration\nstatus is changed to ""confirmed"" while the update_available_resource\nperiodic is running which will result in _update_usage_from_migration\nhitting an AttributeError when trying to log instance.old_flavor.flavorid\nsince instance.old_flavor is None.\n\nThere are a few key points there:\n\n- We get into _update_usage_from_migration because the\n  _update_available_resource method gets in-progress migrations\n  related to the host (in this case the source compute) and the\n  migration is consider in-progress until its status is ""confirmed"".\n\n- The instance is not in the tracked_instances dict when\n  _update_usage_from_migration runs because RT only tracks instances\n  where the instance.host matches the RT.host and in this case the\n  instance has been resized to another compute and the instance.host\n  is pointing at the dest compute.\n\nThe fix here is to simply check if we got the instance.old_flavor and\nnot log the message if we do not have it, which gets us back to the old\nbehavior.\n\nThis bug was found by noticing it in CI job logs - there is a link to\nhits in logstash in the bug report.\n\nAs for the ""incoming and not tracked"" case in _update_usage_from_migration\nI have not modified that since I am not sure we have the same race nor\nhave I seen it in CI logs.\n\nChange-Id: I43e34b3ff1424d42632a3e8f842c93508905aa1a\nCloses-Bug: #1834349\n'}]",1,667687,818419c9d313bd6151d1a05b3a087a15116f61b8,26,13,1,6873,,,0,"Fix AttributeError in RT._update_usage_from_migration

Change Ieb539c9a0cfbac743c579a1633234537a8e3e3ee in Stein
added some logging in _update_usage_from_migration to log
the flavor for an inbound and outbound migration.

If an instance is resized and then the resize is immediately
confirmed, it's possible to race with ComputeManager._confirm_resize
setting the instance.old_flavor to None before the migration
status is changed to ""confirmed"" while the update_available_resource
periodic is running which will result in _update_usage_from_migration
hitting an AttributeError when trying to log instance.old_flavor.flavorid
since instance.old_flavor is None.

There are a few key points there:

- We get into _update_usage_from_migration because the
  _update_available_resource method gets in-progress migrations
  related to the host (in this case the source compute) and the
  migration is consider in-progress until its status is ""confirmed"".

- The instance is not in the tracked_instances dict when
  _update_usage_from_migration runs because RT only tracks instances
  where the instance.host matches the RT.host and in this case the
  instance has been resized to another compute and the instance.host
  is pointing at the dest compute.

The fix here is to simply check if we got the instance.old_flavor and
not log the message if we do not have it, which gets us back to the old
behavior.

This bug was found by noticing it in CI job logs - there is a link to
hits in logstash in the bug report.

As for the ""incoming and not tracked"" case in _update_usage_from_migration
I have not modified that since I am not sure we have the same race nor
have I seen it in CI logs.

Change-Id: I43e34b3ff1424d42632a3e8f842c93508905aa1a
Closes-Bug: #1834349
",git fetch https://review.opendev.org/openstack/nova refs/changes/87/667687/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/resource_tracker.py']",2,818419c9d313bd6151d1a05b3a087a15116f61b8,bug/1834349," # We could be racing with confirm_resize setting the # instance.old_flavor field to None before the migration status # is ""confirmed"" so if we did not find the flavor in the outgoing # resized instance we won't track it. if itype: LOG.debug('Starting to track outgoing migration %s with ' 'flavor %s', migration.uuid, itype.flavorid, instance=instance)"," LOG.debug('Starting to track outgoing migration %s with flavor %s', migration.uuid, itype.flavorid, instance=instance)",31,2
openstack%2Fironic-python-agent~master~I855e6e02a33bcf146497089319445d76652f0691,openstack/ironic-python-agent,master,I855e6e02a33bcf146497089319445d76652f0691,CI: stop using pyghmi from git master,MERGED,2019-07-30 08:34:27.000000000,2019-07-31 15:43:49.000000000,2019-07-31 02:31:39.000000000,"[{'_account_id': 9542}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-07-30 08:34:27.000000000', 'files': ['playbooks/legacy/ipa-tempest-dsvm-wholedisk-bios-ipmi-direct-coreos-src/run.yaml', 'playbooks/legacy/ipa-tempest-dsvm-wholedisk-bios-ipmi-iscsi-coreos-src/run.yaml', 'playbooks/legacy/ipa-tempest-dsvm-partition-bios-ipmi-iscsi-coreos-src/run.yaml', 'playbooks/legacy/ipa-tempest-dsvm-partition-bios-ipmi-direct-coreos-src/run.yaml', 'zuul.d/legacy-ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/e1b630dd841363d1e1d322628ce667705f309467', 'message': 'CI: stop using pyghmi from git master\n\nChange-Id: I855e6e02a33bcf146497089319445d76652f0691\n'}]",0,673450,e1b630dd841363d1e1d322628ce667705f309467,12,6,1,10239,,,0,"CI: stop using pyghmi from git master

Change-Id: I855e6e02a33bcf146497089319445d76652f0691
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/50/673450/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/ipa-tempest-dsvm-wholedisk-bios-ipmi-direct-coreos-src/run.yaml', 'playbooks/legacy/ipa-tempest-dsvm-wholedisk-bios-ipmi-iscsi-coreos-src/run.yaml', 'playbooks/legacy/ipa-tempest-dsvm-partition-bios-ipmi-iscsi-coreos-src/run.yaml', 'playbooks/legacy/ipa-tempest-dsvm-partition-bios-ipmi-direct-coreos-src/run.yaml', 'zuul.d/legacy-ironic-jobs.yaml']",5,e1b630dd841363d1e1d322628ce667705f309467,gate,, - x/pyghmi,0,5
openstack%2Fproject-config~master~I515ef671541456927bf914d2ff0b8fc6521228ab,openstack/project-config,master,I515ef671541456927bf914d2ff0b8fc6521228ab,Set auto-floating-ip to False for fortnebula,ABANDONED,2019-07-31 15:37:41.000000000,2019-07-31 15:39:21.000000000,,[],"[{'number': 1, 'created': '2019-07-31 15:37:41.000000000', 'files': ['nodepool/nl02.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d840e9187cbb3142d0f3cfcbdb0f066f7ac28992', 'message': 'Set auto-floating-ip to False for fortnebula\n\nChange-Id: I515ef671541456927bf914d2ff0b8fc6521228ab\n'}]",0,673852,d840e9187cbb3142d0f3cfcbdb0f066f7ac28992,2,0,1,3099,,,0,"Set auto-floating-ip to False for fortnebula

Change-Id: I515ef671541456927bf914d2ff0b8fc6521228ab
",git fetch https://review.opendev.org/openstack/project-config refs/changes/52/673852/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl02.openstack.org.yaml'],1,d840e9187cbb3142d0f3cfcbdb0f066f7ac28992,fortnebula-fip, auto-floating-ip: False,,1,0
openstack%2Fopenstack-helm-images~master~I16326bcecf6f5c89229d2904027c795af08d8f17,openstack/openstack-helm-images,master,I16326bcecf6f5c89229d2904027c795af08d8f17,Nagios: Update Nagios Core version to 4.4.3,MERGED,2019-07-16 13:17:51.000000000,2019-07-31 15:36:10.000000000,2019-07-31 15:33:24.000000000,"[{'_account_id': 8749}, {'_account_id': 17068}, {'_account_id': 18295}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28618}]","[{'number': 1, 'created': '2019-07-16 13:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/8ea25b6afd78af834978af3e01c7b54f189d9f64', 'message': 'Nagios: Update Nagios Core version to 4.4.3\n\nChange-Id: I16326bcecf6f5c89229d2904027c795af08d8f17\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-07-19 17:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/8660e800c38012e451112b7f3d86d4a6fd8862bc', 'message': 'Nagios: Update Nagios Core version to 4.4.3\n\nChange-Id: I16326bcecf6f5c89229d2904027c795af08d8f17\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 3, 'created': '2019-07-30 15:02:30.000000000', 'files': ['nagios/Dockerfile.ubuntu_xenial'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/1b7da480c49353bc3050d514729c49e4bf953690', 'message': 'Nagios: Update Nagios Core version to 4.4.3\n\nChange-Id: I16326bcecf6f5c89229d2904027c795af08d8f17\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,671030,1b7da480c49353bc3050d514729c49e4bf953690,17,8,3,17591,,,0,"Nagios: Update Nagios Core version to 4.4.3

Change-Id: I16326bcecf6f5c89229d2904027c795af08d8f17
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/30/671030/1 && git format-patch -1 --stdout FETCH_HEAD,['nagios/Dockerfile.ubuntu_xenial'],1,8ea25b6afd78af834978af3e01c7b54f189d9f64,nagios-version-update,ENV VERSION=4.4.3,ENV VERSION=4.4.1,1,1
openstack%2Fkolla-cli~master~I764599673d44c33ce6622bf97988f372a7a26285,openstack/kolla-cli,master,I764599673d44c33ce6622bf97988f372a7a26285,Add service and host check for API,MERGED,2019-07-30 14:26:57.000000000,2019-07-31 15:31:25.000000000,2019-07-31 15:31:25.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-07-30 14:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/bf0b97860ac5627a1999dcf8b5bc79743e58b600', 'message': '[WIP]Add service and host check for cli\n\nChange-Id: I764599673d44c33ce6622bf97988f372a7a26285\n'}, {'number': 2, 'created': '2019-07-30 16:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/9dee448e1a59096c437281da59bb43868ba1eb6a', 'message': '[WIP]Add service and host check for cli\n\nChange-Id: I764599673d44c33ce6622bf97988f372a7a26285\n'}, {'number': 3, 'created': '2019-07-30 16:04:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/8dbf83a85d16bbf5857240b062b1e07220aba5fd', 'message': '[WIP]Add service and host check for cli\n\nChange-Id: I764599673d44c33ce6622bf97988f372a7a26285\n'}, {'number': 4, 'created': '2019-07-31 10:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/d866dba27f14c505b4ece526849769e0eb2ccd8d', 'message': '[WIP]Add service and host check for cli\n\nChange-Id: I764599673d44c33ce6622bf97988f372a7a26285\n'}, {'number': 5, 'created': '2019-07-31 11:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/a547b269e9cf6710b16b1c88653df317a4d1359a', 'message': '[WIP]Add service and host check for cli\n\nChange-Id: I764599673d44c33ce6622bf97988f372a7a26285\n'}, {'number': 6, 'created': '2019-07-31 12:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/a37f2a6dce0c272a391595e9e82060918b822724', 'message': 'Add service and host check for API\n\nnow, the action will run even though the service or the host are\ninvaild, this PS to check them before the action executed.\n\nChange-Id: I764599673d44c33ce6622bf97988f372a7a26285\n'}, {'number': 7, 'created': '2019-07-31 14:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/c1423975839d0cabb268d34764679304ebc13111', 'message': 'Add service and host check for API\n\nnow, the action will run even though the service or the host are\ninvaild, this PS to check them before the action executed.\n\nChange-Id: I764599673d44c33ce6622bf97988f372a7a26285\n'}, {'number': 8, 'created': '2019-07-31 15:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/c973421376bde69cdd46780a82dfe057e1193e42', 'message': 'Add service and host check for API\n\nnow, the action will run even though the service or the host are\ninvaild, this PS to check them before the action executed.\n\nChange-Id: I764599673d44c33ce6622bf97988f372a7a26285\n'}, {'number': 9, 'created': '2019-07-31 15:06:35.000000000', 'files': ['kolla_cli/common/ansible/utils.py', 'kolla_cli/api/control_plane.py', 'kolla_cli/api/exceptions.py'], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/679824b687e8dddc5d7f964a4d833cc4133eb373', 'message': 'Add service and host check for API\n\nnow, the action will run even though the service or the host are\ninvaild, this PS to check them before the action executed.\n\nChange-Id: I764599673d44c33ce6622bf97988f372a7a26285\n'}]",3,673537,679824b687e8dddc5d7f964a4d833cc4133eb373,28,3,9,30356,,,0,"Add service and host check for API

now, the action will run even though the service or the host are
invaild, this PS to check them before the action executed.

Change-Id: I764599673d44c33ce6622bf97988f372a7a26285
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/37/673537/8 && git format-patch -1 --stdout FETCH_HEAD,"['kolla_cli/common/kollautils.py', 'kolla_cli/api/control_plane.py', 'kolla_cli/common/utils.py']",3,bf0b97860ac5627a1999dcf8b5bc79743e58b600,,def check_services(servicenames=[]): if not servicenames: return inventory = Inventory.load() ,,30,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~I718cd33513607efefb2cef3ebe110c523f6c6c6a,openstack/tripleo-heat-templates,stable/stein,I718cd33513607efefb2cef3ebe110c523f6c6c6a,Disable ceph-dashboard by default in Stein,MERGED,2019-07-30 20:11:48.000000000,2019-07-31 15:11:13.000000000,2019-07-31 15:11:13.000000000,"[{'_account_id': 6796}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-07-30 20:11:48.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d89fe28b3ede2b02066de66fb4555423993827fc', 'message': 'Disable ceph-dashboard by default in Stein\n\nceph-ansible 4 recently changed defaults and now\ndeploys dashboard by default. This will cause a\nTripleO Stein deployment to fail unless additional\nparameters are added which Stein does not support.\nOpt to override this new ceph-ansible default in\nStein (master, the future Train) will support it\nhowever.\n\nThis patch is going directly into Stein instead of\nbeing added to master and then being backported,\nsince master has a CephEnableDashboard parameter\nin addition to plenty of code to correctly set up\nthe dashboard which would be too much to backport.\nInstead of misleading the user with a non-working\nCephEnableDashboard parameter, we just directly\npass a flag to ceph-ansible to disable it.\n\nCloses-Bug: #1838460\n\nChange-Id: I718cd33513607efefb2cef3ebe110c523f6c6c6a\n'}]",0,673675,d89fe28b3ede2b02066de66fb4555423993827fc,9,5,1,18002,,,0,"Disable ceph-dashboard by default in Stein

ceph-ansible 4 recently changed defaults and now
deploys dashboard by default. This will cause a
TripleO Stein deployment to fail unless additional
parameters are added which Stein does not support.
Opt to override this new ceph-ansible default in
Stein (master, the future Train) will support it
however.

This patch is going directly into Stein instead of
being added to master and then being backported,
since master has a CephEnableDashboard parameter
in addition to plenty of code to correctly set up
the dashboard which would be too much to backport.
Instead of misleading the user with a non-working
CephEnableDashboard parameter, we just directly
pass a flag to ceph-ansible to disable it.

Closes-Bug: #1838460

Change-Id: I718cd33513607efefb2cef3ebe110c523f6c6c6a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/673675/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,d89fe28b3ede2b02066de66fb4555423993827fc,bug/1838460, dashboard_enabled: false,,1,0
openstack%2Fnova~master~I56b145dd9ac8896c14a054125d178a7b3578e54e,openstack/nova,master,I56b145dd9ac8896c14a054125d178a7b3578e54e,Fix RT init arg order in test_unsupported_move_type,MERGED,2019-06-26 17:38:25.000000000,2019-07-31 15:04:57.000000000,2019-07-31 15:04:57.000000000,"[{'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-26 17:38:25.000000000', 'files': ['nova/tests/unit/compute/test_resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7460f267418ee4ba35427e80c673483900ea818a', 'message': ""Fix RT init arg order in test_unsupported_move_type\n\nThe RT init args are (host, driver) so this fixes the\nsimple, and apparently doesn't really matter, args\nin the test. I'm fixing here so those copying and building\non that test don't make the same mistake where it does matter.\n\nChange-Id: I56b145dd9ac8896c14a054125d178a7b3578e54e\n""}]",0,667688,7460f267418ee4ba35427e80c673483900ea818a,13,9,1,6873,,,0,"Fix RT init arg order in test_unsupported_move_type

The RT init args are (host, driver) so this fixes the
simple, and apparently doesn't really matter, args
in the test. I'm fixing here so those copying and building
on that test don't make the same mistake where it does matter.

Change-Id: I56b145dd9ac8896c14a054125d178a7b3578e54e
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/667688/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/compute/test_resource_tracker.py'],1,7460f267418ee4ba35427e80c673483900ea818a,bug/1834349," rt = resource_tracker.ResourceTracker(_HOSTNAME, mock.sentinel.virt_driver)"," rt = resource_tracker.ResourceTracker(mock.sentinel.virt_driver, _HOSTNAME)",2,2
openstack%2Fmonasca-transform~master~I9786d49d9fa21e13fbfc81265e12af046dfb59dd,openstack/monasca-transform,master,I9786d49d9fa21e13fbfc81265e12af046dfb59dd,Add Python 3 Train unit tests,MERGED,2019-07-05 17:16:05.000000000,2019-07-31 14:51:19.000000000,2019-07-31 14:51:18.000000000,"[{'_account_id': 10311}, {'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 23735}]","[{'number': 1, 'created': '2019-07-05 17:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-transform/commit/8700c3377cc3d72dad67be350eaadeca7a206857', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I9786d49d9fa21e13fbfc81265e12af046dfb59dd\nStory: #2005924\nTask: #34223\n'}, {'number': 2, 'created': '2019-07-29 08:05:14.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-transform/commit/0184fd27cd9e7aa8ffdc71fa59e8ab9eac91e165', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I9786d49d9fa21e13fbfc81265e12af046dfb59dd\nStory: #2005924\nTask: #34223\n'}]",0,669407,0184fd27cd9e7aa8ffdc71fa59e8ab9eac91e165,12,4,2,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I9786d49d9fa21e13fbfc81265e12af046dfb59dd
Story: #2005924
Task: #34223
",git fetch https://review.opendev.org/openstack/monasca-transform refs/changes/07/669407/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,8700c3377cc3d72dad67be350eaadeca7a206857,python3-train,"envlist = py27,py37,pep8","envlist = py27,pep8",5,3
openstack%2Fironic-prometheus-exporter~master~Ia70aa2b2476f2b3f2a35c8e9bd2add2345c3f985,openstack/ironic-prometheus-exporter,master,Ia70aa2b2476f2b3f2a35c8e9bd2add2345c3f985,Payload Timestamp Metric,MERGED,2019-07-18 15:45:39.000000000,2019-07-31 14:50:12.000000000,2019-07-29 18:58:05.000000000,"[{'_account_id': 6794}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-07-18 15:45:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/78d4ace862902157384768e3bbdc2f987b1751b6', 'message': 'Payload Timestamp Metric\n\nAdds a metric that shows when was the last collection\nof the sensor data\n\nChange-Id: Ia70aa2b2476f2b3f2a35c8e9bd2add2345c3f985\n'}, {'number': 2, 'created': '2019-07-22 12:39:22.000000000', 'files': ['ironic_prometheus_exporter/tests/test_ipmi_parser.py', 'ironic_prometheus_exporter/parsers/ipmi.py', 'ironic_prometheus_exporter/messaging.py'], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/80e6fc9c867b4d8a5e285536637a1c0136c11d38', 'message': 'Payload Timestamp Metric\n\nAdds a metric that shows when was the last collection\nof the sensor data\n\nChange-Id: Ia70aa2b2476f2b3f2a35c8e9bd2add2345c3f985\n'}]",22,671514,80e6fc9c867b4d8a5e285536637a1c0136c11d38,21,5,2,15519,,,0,"Payload Timestamp Metric

Adds a metric that shows when was the last collection
of the sensor data

Change-Id: Ia70aa2b2476f2b3f2a35c8e9bd2add2345c3f985
",git fetch https://review.opendev.org/openstack/ironic-prometheus-exporter refs/changes/14/671514/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_prometheus_exporter/tests/test_ipmi_parser.py', 'ironic_prometheus_exporter/parsers/ipmi.py', 'ironic_prometheus_exporter/messaging.py']",3,78d4ace862902157384768e3bbdc2f987b1751b6,timestamp_metric," timestamp = message['payload']['timestamp'] ipmi.timestamp_registry(timestamp, node_name, node_uuid, instance_uuid, registry)",,29,0
openstack%2Freleases~master~I00cd63593ad2bb7243cf12789983d73c200b4f14,openstack/releases,master,I00cd63593ad2bb7243cf12789983d73c200b4f14,Release ironic-lib 2.19.0 for Train,MERGED,2019-07-31 14:03:02.000000000,2019-07-31 14:31:58.000000000,2019-07-31 14:31:58.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-31 14:03:02.000000000', 'files': ['deliverables/train/ironic-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2c9de5d689c85f1762e6c886f0ea91d7ba8ad19e', 'message': 'Release ironic-lib 2.19.0 for Train\n\nChange-Id: I00cd63593ad2bb7243cf12789983d73c200b4f14\n'}]",0,673826,2c9de5d689c85f1762e6c886f0ea91d7ba8ad19e,6,2,1,10239,,,0,"Release ironic-lib 2.19.0 for Train

Change-Id: I00cd63593ad2bb7243cf12789983d73c200b4f14
",git fetch https://review.opendev.org/openstack/releases refs/changes/26/673826/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/ironic-lib.yaml'],1,2c9de5d689c85f1762e6c886f0ea91d7ba8ad19e,ironic-lib,include-pypi-link: true - version: 2.19.0 projects: - repo: openstack/ironic-lib hash: cd51319528bb2333139c7cefb68e7e6e27df740a,include-pypi-link: yes,5,1
openstack%2Ftripleo-common~master~I1190888e6016e7c6b1fcdad7b87b6e433b0f0019,openstack/tripleo-common,master,I1190888e6016e7c6b1fcdad7b87b6e433b0f0019,Remove the tripleo.plan_management.v1.select_roles workflow,MERGED,2019-07-04 12:25:41.000000000,2019-07-31 14:16:28.000000000,2019-07-31 14:16:28.000000000,"[{'_account_id': 3153}, {'_account_id': 9712}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-04 12:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a9596fbffb82ff0f91eb2b0a449d8ea62a94a5de', 'message': 'Remove the tripleo.plan_management.v1.select_roles workflow\n\nThis was only used by tripleo-ui and is no longer needed.\n\nRelated-bug: #1835242\nChange-Id: I1190888e6016e7c6b1fcdad7b87b6e433b0f0019\n'}, {'number': 2, 'created': '2019-07-04 12:26:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f3f822aec5a6c110c5816490ebde08599caa87bb', 'message': 'Remove the tripleo.plan_management.v1.select_roles workflow\n\nThis was only used by tripleo-ui and is no longer needed.\n\nRelated-bug: #1835242\nChange-Id: I1190888e6016e7c6b1fcdad7b87b6e433b0f0019\n'}, {'number': 3, 'created': '2019-07-04 13:15:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c9f5bfb17acc5c4794d6653831852bf237fc44cf', 'message': 'Remove the tripleo.plan_management.v1.select_roles workflow\n\nThis was only used by tripleo-ui and is no longer needed.\n\nRelated-bug: #1835242\nChange-Id: I1190888e6016e7c6b1fcdad7b87b6e433b0f0019\n'}, {'number': 4, 'created': '2019-07-25 15:06:11.000000000', 'files': ['workbooks/plan_management.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9483cd7f4dfae76436931f997cd4d1fe6f02857e', 'message': 'Remove the tripleo.plan_management.v1.select_roles workflow\n\nThis was only used by tripleo-ui and is no longer needed.\n\nRelated-bug: #1835242\nChange-Id: I1190888e6016e7c6b1fcdad7b87b6e433b0f0019\n'}]",0,669164,9483cd7f4dfae76436931f997cd4d1fe6f02857e,18,6,4,9712,,,0,"Remove the tripleo.plan_management.v1.select_roles workflow

This was only used by tripleo-ui and is no longer needed.

Related-bug: #1835242
Change-Id: I1190888e6016e7c6b1fcdad7b87b6e433b0f0019
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/64/669164/2 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/plan_management.yaml'],1,a9596fbffb82ff0f91eb2b0a449d8ea62a94a5de,mistral-removal,," select_roles: description: > takes a list of role names as input and populates roles_data.yaml in container in Swift with respective roles from 'roles directory' input: - container - role_names - roles_data_file: 'roles_data.yaml' - replace_all: true - queue_name: tripleo tags: - tripleo-common-managed tasks: get_available_roles: workflow: list_available_roles input: container: <% $.container %> queue_name: <% $.queue_name %> publish: available_roles: <% task().result.available_roles %> on-success: get_current_roles on-error: send_message publish-on-error: status: FAILED message: <% task().result %> get_current_roles: workflow: list_roles input: container: <% $.container %> roles_data_file: <% $.roles_data_file %> queue_name: <% $.queue_name %> publish: current_roles: <% task().result.roles_data %> on-success: gather_roles on-error: send_message publish-on-error: status: FAILED message: <% task().result %> gather_roles: description: > for each role name from the input, check if it exists in roles_data.yaml, if yes, use that role definition, if not, get the role definition from roles directory. Use the gathered roles definitions as input to updateRolesWorkflow - this ensures configuration of the roles which are already in roles_data.yaml will not get overridden by data from roles directory action: tripleo.plan.gather_roles input: role_names: <% $.role_names %> current_roles: <% $.current_roles %> available_roles: <% $.available_roles %> publish: gathered_roles: <% task().result.gathered_roles %> on-success: call_update_roles_workflow on-error: send_message publish-on-error: status: FAILED message: <% task().result %> call_update_roles_workflow: workflow: update_roles input: container: <% $.container %> roles: <% $.gathered_roles %> roles_data_file: <% $.roles_data_file %> replace_all: <% $.replace_all %> queue_name: <% $.queue_name %> on-complete: send_message publish: selected_roles: <% task().result.updated_roles %> status: SUCCESS publish-on-error: status: FAILED message: <% task().result %> send_message: workflow: tripleo.messaging.v1.send input: queue_name: <% $.queue_name %> type: <% execution().name %> status: <% $.status %> execution: <% execution() %> plan_name: <% $.container %> message: <% $.get('message', '') %> payload: selected_roles: <% $.get('selected_roles', []) %> ",0,90
openstack%2Fironic-lib~master~Ic3963e5c4a1886aeabed6c5994599e72040a251e,openstack/ironic-lib,master,Ic3963e5c4a1886aeabed6c5994599e72040a251e,Use last digit to determine paritition naming scheme,MERGED,2019-07-04 11:46:23.000000000,2019-07-31 13:58:04.000000000,2019-07-04 17:16:40.000000000,"[{'_account_id': 11292}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-07-04 11:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/780f0e996097885df4972d704a883d20a9fdc772', 'message': 'Use last digit to determine paritition naming scheme\n\nThis matches the behaviour of the linux kernel, see:\n\nhttps://github.com/torvalds/linux/blob/d3511f53bb2475f2a4e8460bee5a1ae6dea2a433/block/partition-generic.c#L39\n\nChange-Id: Ic3963e5c4a1886aeabed6c5994599e72040a251e\nStory: 2006154\nTask: 35656\n'}, {'number': 2, 'created': '2019-07-04 13:20:05.000000000', 'files': ['ironic_lib/tests/test_disk_utils.py', 'releasenotes/notes/fix-metadisk-partitioning-32d3fca274290dd6.yaml', 'ironic_lib/disk_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/cd51319528bb2333139c7cefb68e7e6e27df740a', 'message': 'Use last digit to determine paritition naming scheme\n\nThis matches the behaviour of the linux kernel, see:\n\nhttps://github.com/torvalds/linux/blob/d3511f53bb2475f2a4e8460bee5a1ae6dea2a433/block/partition-generic.c#L39\n\nChange-Id: Ic3963e5c4a1886aeabed6c5994599e72040a251e\nStory: 2006154\nTask: 35656\n'}]",3,669153,cd51319528bb2333139c7cefb68e7e6e27df740a,17,5,2,28048,,,0,"Use last digit to determine paritition naming scheme

This matches the behaviour of the linux kernel, see:

https://github.com/torvalds/linux/blob/d3511f53bb2475f2a4e8460bee5a1ae6dea2a433/block/partition-generic.c#L39

Change-Id: Ic3963e5c4a1886aeabed6c5994599e72040a251e
Story: 2006154
Task: 35656
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/53/669153/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_lib/tests/test_disk_utils.py', 'releasenotes/notes/fix-metadisk-partitioning-32d3fca274290dd6.yaml', 'ironic_lib/disk_utils.py']",3,780f0e996097885df4972d704a883d20a9fdc772,p-scheme,"def is_last_char_digit(dev): """"""check whether device name ends with a digit"""""" if len(dev) >= 1: return dev[-1].isdigit() return False elif is_last_char_digit(dev): elif is_last_char_digit(device):", elif is_nvme_device(dev): elif is_nvme_device(device):,16,3
openstack%2Fpuppet-tripleo~master~Ib385c75dc9efe4832a43e8143bd70fcacb7411f6,openstack/puppet-tripleo,master,Ib385c75dc9efe4832a43e8143bd70fcacb7411f6,Apache MPM event for better TCP keep alive in WSGI,ABANDONED,2019-07-03 10:52:11.000000000,2019-07-31 13:56:11.000000000,,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-07-03 10:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/72a386152fbc5e0feae754441b2af49e12a5d243', 'message': 'Apache MPM event for better TCP keep alive in WSGI\n\nWe are used to tune httpd MPM for mod_wsgi, like:\nWSGIDaemonProcess ... processes=<api workers> threads=1\nSee [2] for details.\n\nTune it further for using event [0] MPM instead of the default\nprefork [1] in order to w/a multithreading issues with nova-api with\neventlet monkey patching enabled.\n\n[0] https://httpd.apache.org/docs/current/mod/event.html\n[1] https://httpd.apache.org/docs/current/mod/prefork.html\n[2] https://bugs.launchpad.net/tripleo/+bug/1829062/comments/7\n\nChange-Id: Ib385c75dc9efe4832a43e8143bd70fcacb7411f6\nRelated-Bug: #1829062\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2019-07-04 13:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/63cb6011be9c2a9bb6d3de7ce912764e41880380', 'message': 'Apache MPM event for better TCP keep alive in WSGI\n\nWe are used to tune httpd MPM for mod_wsgi, like:\nWSGIDaemonProcess ... processes=<api workers> threads=1\nSee [2] for details.\n\nTune it further for using event [0] MPM instead of the default\nprefork [1] in order to w/a multithreading issues with nova-api with\neventlet monkey patching enabled.\n\n[0] https://httpd.apache.org/docs/current/mod/event.html\n[1] https://httpd.apache.org/docs/current/mod/prefork.html\n[2] https://bugs.launchpad.net/tripleo/+bug/1829062/comments/7\n\nDepends-On: https://review.opendev.org/669178\nChange-Id: Ib385c75dc9efe4832a43e8143bd70fcacb7411f6\nRelated-Bug: #1829062\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2019-07-05 14:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2393b7e9425f903bbff860abe61d8b1d18fdfef8', 'message': 'Apache MPM event for better TCP keep alive in WSGI\n\nWe are used to tune httpd MPM for mod_wsgi, like:\nWSGIDaemonProcess ... processes=<api workers> threads=1\nSee [2] for details.\n\nTune it further for using event [0] MPM instead of the default\nprefork [1] in order to w/a multithreading issues with nova-api with\neventlet monkey patching enabled.\n\n[0] https://httpd.apache.org/docs/current/mod/event.html\n[1] https://httpd.apache.org/docs/current/mod/prefork.html\n[2] https://bugs.launchpad.net/tripleo/+bug/1829062/comments/7\n\nDepends-On: https://review.opendev.org/669178\nChange-Id: Ib385c75dc9efe4832a43e8143bd70fcacb7411f6\nRelated-Bug: #1829062\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2019-07-09 08:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9b6d07aa913acc56a61524d4a213808359bbfd12', 'message': 'Apache MPM event for better TCP keep alive in WSGI\n\nWe are used to tune httpd MPM for mod_wsgi, like:\nWSGIDaemonProcess ... processes=<api workers> threads=1\nSee [2] for details.\n\nTune it further for using event [0] MPM instead of the default\nprefork [1] in order to w/a multithreading issues with nova-api with\neventlet monkey patching enabled.\n\n[0] https://httpd.apache.org/docs/current/mod/event.html\n[1] https://httpd.apache.org/docs/current/mod/prefork.html\n[2] https://bugs.launchpad.net/tripleo/+bug/1829062/comments/7\n\nDepends-On: https://review.opendev.org/669178\nChange-Id: Ib385c75dc9efe4832a43e8143bd70fcacb7411f6\nRelated-Bug: #1829062\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2019-07-09 12:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2c8d1455a0007c4151a595af3bdadd6379c1761d', 'message': 'Apache MPM event for better TCP keep alive in WSGI\n\nWe are used to tune httpd MPM for mod_wsgi, like:\nWSGIDaemonProcess ... processes=<api workers> threads=1\nSee [2] for details.\n\nTune it further for using event [0] MPM instead of the default\nprefork [1] in order to w/a multithreading issues with nova-api with\neventlet monkey patching enabled.\n\n[0] https://httpd.apache.org/docs/current/mod/event.html\n[1] https://httpd.apache.org/docs/current/mod/prefork.html\n[2] https://bugs.launchpad.net/tripleo/+bug/1829062/comments/7\n\nDepends-On: https://review.opendev.org/669178\nChange-Id: Ib385c75dc9efe4832a43e8143bd70fcacb7411f6\nRelated-Bug: #1829062\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 6, 'created': '2019-07-09 17:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c28e3c143b09dc72b2a1de784705923ed44ac785', 'message': 'Apache MPM event for better TCP keep alive in WSGI\n\nWe are used to tune httpd MPM for mod_wsgi, like:\nWSGIDaemonProcess ... processes=<api workers> threads=1\nSee [2] for details.\n\nTune it further for using event [0] MPM instead of the default\nprefork [1] in order to w/a multithreading issues with nova-api with\neventlet monkey patching enabled.\n\n[0] https://httpd.apache.org/docs/current/mod/event.html\n[1] https://httpd.apache.org/docs/current/mod/prefork.html\n[2] https://bugs.launchpad.net/tripleo/+bug/1829062/comments/7\n\nDepends-On: https://review.opendev.org/669178\nChange-Id: Ib385c75dc9efe4832a43e8143bd70fcacb7411f6\nRelated-Bug: #1829062\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 7, 'created': '2019-07-11 10:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/83302d0a71d9e937e1d6b9362837f90e7fb54066', 'message': 'Apache MPM event for better TCP keep alive in WSGI\n\nWe are used to tune httpd MPM for mod_wsgi, like:\nWSGIDaemonProcess ... processes=<api workers> threads=1\nSee [2] for details.\n\nTune it further for using event [0] MPM instead of the default\nprefork [1] in order to w/a multithreading issues with nova-api with\neventlet monkey patching enabled.\n\n[0] https://httpd.apache.org/docs/current/mod/event.html\n[1] https://httpd.apache.org/docs/current/mod/prefork.html\n[2] https://bugs.launchpad.net/tripleo/+bug/1829062/comments/7\n\nDepends-On: https://review.opendev.org/669178\nChange-Id: Ib385c75dc9efe4832a43e8143bd70fcacb7411f6\nRelated-Bug: #1829062\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 8, 'created': '2019-07-11 10:27:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/34bdfc833cd17ba710b4942bb9e97bbcf5ea5ecd', 'message': 'Apache MPM event for better TCP keep alive in WSGI\n\nWe are used to tune httpd MPM for mod_wsgi, like:\nWSGIDaemonProcess ... processes=<api workers> threads=1\nSee [2] for details.\n\nTune it further for using event [0] MPM instead of the default\nprefork [1] in order to w/a multithreading issues with nova-api with\neventlet monkey patching enabled.\n\n[0] https://httpd.apache.org/docs/current/mod/event.html\n[1] https://httpd.apache.org/docs/current/mod/prefork.html\n[2] https://bugs.launchpad.net/tripleo/+bug/1829062/comments/7\n\nDepends-On: https://review.opendev.org/669178\nChange-Id: Ib385c75dc9efe4832a43e8143bd70fcacb7411f6\nRelated-Bug: #1829062\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 9, 'created': '2019-07-11 16:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5d12590ed136071d9dbb121a9711e9d5b0628fc6', 'message': 'Apache MPM event for better TCP keep alive in WSGI\n\nWe are used to tune httpd MPM for mod_wsgi, like:\nWSGIDaemonProcess ... processes=<api workers> threads=1\nSee [2] for details.\n\nTune it further for using event [0] MPM instead of the default\nprefork [1] in order to w/a multithreading issues with nova-api with\neventlet monkey patching enabled.\n\n[0] https://httpd.apache.org/docs/current/mod/event.html\n[1] https://httpd.apache.org/docs/current/mod/prefork.html\n[2] https://bugs.launchpad.net/tripleo/+bug/1829062/comments/7\n\nDepends-On: https://review.opendev.org/669178\nChange-Id: Ib385c75dc9efe4832a43e8143bd70fcacb7411f6\nRelated-Bug: #1829062\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 10, 'created': '2019-07-15 09:59:40.000000000', 'files': ['releasenotes/notes/apache_mpm_tuning-deafdf6610ce57b2.yaml', 'manifests/profile/base/apache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/dec62a3341cfeca0ed3904e778095dfaf63b7f47', 'message': 'Apache MPM event for better TCP keep alive in WSGI\n\nWe are used to tune httpd MPM for mod_wsgi, like:\nWSGIDaemonProcess ... processes=<api workers> threads=1\nSee [2] for details.\n\nTune it further for using event [0] MPM instead of the default\nprefork [1] in order to w/a multithreading issues with nova-api with\neventlet monkey patching enabled.\n\n[0] https://httpd.apache.org/docs/current/mod/event.html\n[1] https://httpd.apache.org/docs/current/mod/prefork.html\n[2] https://bugs.launchpad.net/tripleo/+bug/1829062/comments/7\n\nDepends-On: https://review.opendev.org/669178\nChange-Id: Ib385c75dc9efe4832a43e8143bd70fcacb7411f6\nRelated-Bug: #1829062\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",6,668862,dec62a3341cfeca0ed3904e778095dfaf63b7f47,80,9,10,6926,,,0,"Apache MPM event for better TCP keep alive in WSGI

We are used to tune httpd MPM for mod_wsgi, like:
WSGIDaemonProcess ... processes=<api workers> threads=1
See [2] for details.

Tune it further for using event [0] MPM instead of the default
prefork [1] in order to w/a multithreading issues with nova-api with
eventlet monkey patching enabled.

[0] https://httpd.apache.org/docs/current/mod/event.html
[1] https://httpd.apache.org/docs/current/mod/prefork.html
[2] https://bugs.launchpad.net/tripleo/+bug/1829062/comments/7

Depends-On: https://review.opendev.org/669178
Change-Id: Ib385c75dc9efe4832a43e8143bd70fcacb7411f6
Related-Bug: #1829062
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/62/668862/8 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/apache_mpm_tuning-deafdf6610ce57b2.yaml', 'manifests/profile/base/apache.pp']",2,72a386152fbc5e0feae754441b2af49e12a5d243,bug/1829062," # NOTE(bogdando): LP#1829062, use 'event' for better TCP keep alive handling mpm_module => 'event', } } else { class { '::apache': mpm_module => 'event',",,13,0
openstack%2Ftripleo-docs~master~Iba7d977c47dc1d584a7fb799c93dc9e8b2b75c70,openstack/tripleo-docs,master,Iba7d977c47dc1d584a7fb799c93dc9e8b2b75c70,[Docs] Make cell_v2 docs better,ABANDONED,2019-07-16 21:53:24.000000000,2019-07-31 13:51:22.000000000,,"[{'_account_id': 7353}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-07-16 21:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/ce91562d0371518f0f2ba44243611c5b4eadcccd', 'message': '[Docs] Make cell_v2 docs better\n\nThere are some inconsistencies in the cell_v2 docs deployment\n\nChange-Id: Iba7d977c47dc1d584a7fb799c93dc9e8b2b75c70\n'}, {'number': 2, 'created': '2019-07-17 09:47:19.000000000', 'files': ['doc/source/install/advanced_deployment/deploy_cellv2.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/889d7f0ccc6b878ea53d902a549633170fba8356', 'message': '[Docs] Make cell_v2 docs better\n\nThere are some inconsistencies in the cell_v2 docs deployment\n\nChange-Id: Iba7d977c47dc1d584a7fb799c93dc9e8b2b75c70\n'}]",10,671161,889d7f0ccc6b878ea53d902a549633170fba8356,10,4,2,30133,,,0,"[Docs] Make cell_v2 docs better

There are some inconsistencies in the cell_v2 docs deployment

Change-Id: Iba7d977c47dc1d584a7fb799c93dc9e8b2b75c70
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/61/671161/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/advanced_deployment/deploy_cellv2.rst'],1,ce91562d0371518f0f2ba44243611c5b4eadcccd,cellv2_docs_fix,"The above deployed overcloud shows the nodes from the first stack and should be ALLNODESCFG=$(openstack stack output show overcloud AllNodesConfig --format json) GLOBALCFG=$(openstack stack output show overcloud GlobalConfig --format json) (echo $ALLNODESCFG | jq '.output_value | {oslo_messaging_notify_short_bootstrap_node_name: .oslo_messaging_notify_short_bootstrap_node_name, oslo_messaging_notify_node_names: .oslo_messaging_notify_node_names, oslo_messaging_rpc_node_names: .oslo_messaging_rpc_node_names, memcached_node_ips: .memcached_node_ips}';\ echo $GLOBALCFG | jq '.output_value') |\ jq -s '.[0] * .[1]| {""parameter_defaults"": openstack object save --file plan-env.yaml overcloud plan-environment.yaml cat plan-env.yaml | python3 -c 'import yaml as y, sys as s; \ CellControllerCount: 1 ControllerCount: 0 .. note:: #. Create network configuration for `cellcontroller` and add to environemnt file. .. code:: resource_registry: OS::TripleO::BlockStorage::Net::SoftwareConfig: three-nics-vlans//cinder-storage.yaml OS::TripleO::CephStorage::Net::SoftwareConfig: three-nics-vlans//ceph-storage.yaml OS::TripleO::Compute::Net::SoftwareConfig: three-nics-vlans//compute.yaml OS::TripleO::Controller::Net::SoftwareConfig: three-nics-vlans//controller.yaml OS::TripleO::CellController::Net::SoftwareConfig: three-nics-vlans//cellcontroller.yaml OS::TripleO::ObjectStorage::Net::SoftwareConfig: three-nics-vlans//swift-storage.yaml .. note:: For details on network configuration consult network_isolation_ guide, chpater *Customizing the Interface Templates*. ","The above deployed overcloud shows the nodes from the first stach and should be (openstack stack output show overcloud AllNodesConfig --format json \ | jq '.output_value | {oslo_messaging_notify_short_bootstrap_node_name: \ .oslo_messaging_notify_short_bootstrap_node_name, \ oslo_messaging_notify_node_names: .oslo_messaging_notify_node_names, \ oslo_messaging_rpc_node_names: .oslo_messaging_rpc_node_names, \ memcached_node_ips: .memcached_node_ips}'; \ openstack stack output show overcloud GlobalConfig --format json \ | jq '.output_value') |jq -s '.[0] * .[1]| {""parameter_defaults"": \ openstack object save --file - overcloud plan-environment.yaml \ | python -c 'import yaml as y, sys as s; \ ControllerCount: 1 -e /usr/share/openstack-tripleo-heat-templates/environments/docker-ha.yaml \",37,13
openstack%2Fheat~master~Ifdfe8dc074f7e3bb4ea0df4cd78e95842fc322ab,openstack/heat,master,Ifdfe8dc074f7e3bb4ea0df4cd78e95842fc322ab,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-02 06:15:42.000000000,2019-07-31 13:49:37.000000000,2019-07-31 13:49:37.000000000,"[{'_account_id': 4257}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-02 06:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7b4b532efad2b01a4f69f04ba5d870a2504bbbc1', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\nDepend-On: https://review.opendev.org/#/c/663060/\n\nChange-Id: Ifdfe8dc074f7e3bb4ea0df4cd78e95842fc322ab\n'}, {'number': 2, 'created': '2019-07-30 08:54:47.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/heat/commit/e08a81100f68bd5850c4f3baa0d7fc2a41f93ad9', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: Ifdfe8dc074f7e3bb4ea0df4cd78e95842fc322ab\n'}]",1,668603,e08a81100f68bd5850c4f3baa0d7fc2a41f93ad9,9,3,2,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: Ifdfe8dc074f7e3bb4ea0df4cd78e95842fc322ab
",git fetch https://review.opendev.org/openstack/heat refs/changes/03/668603/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,7b4b532efad2b01a4f69f04ba5d870a2504bbbc1,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Fdevstack~stable%2Frocky~I9f1fa2755e16871ff9d6ba33fdeaf3023eedf8d4,openstack/devstack,stable/rocky,I9f1fa2755e16871ff9d6ba33fdeaf3023eedf8d4,zuul: new variable to easily populate TEMPEST_PLUGINS,MERGED,2019-07-30 07:40:47.000000000,2019-07-31 13:44:20.000000000,2019-07-31 13:44:20.000000000,"[{'_account_id': 7118}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 07:40:47.000000000', 'files': ['roles/write-devstack-local-conf/library/devstack_local_conf.py', 'roles/write-devstack-local-conf/library/test.py', 'roles/write-devstack-local-conf/tasks/main.yaml', 'roles/write-devstack-local-conf/README.rst', 'doc/source/zuul_ci_jobs_migration.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/f0d1896d0acdf0aa9198442f0642e8a7fd3ff422', 'message': 'zuul: new variable to easily populate TEMPEST_PLUGINS\n\nTEMPEST_PLUGINS contains the list of the tempest plugins installed\nalongside tempest by lib/tempest.\nIf TEMPEST_PLUGINS is not explicitly set, the new tempest_plugins\nvariable is used to fill it by combining its items with\nthe base devstack path.\n\nChange-Id: I9f1fa2755e16871ff9d6ba33fdeaf3023eedf8d4\n(cherry picked from commit 70d043dd6039fb55aa9d40d593839037bb8c43cf)\n'}]",0,673423,f0d1896d0acdf0aa9198442f0642e8a7fd3ff422,10,3,1,10459,,,0,"zuul: new variable to easily populate TEMPEST_PLUGINS

TEMPEST_PLUGINS contains the list of the tempest plugins installed
alongside tempest by lib/tempest.
If TEMPEST_PLUGINS is not explicitly set, the new tempest_plugins
variable is used to fill it by combining its items with
the base devstack path.

Change-Id: I9f1fa2755e16871ff9d6ba33fdeaf3023eedf8d4
(cherry picked from commit 70d043dd6039fb55aa9d40d593839037bb8c43cf)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/23/673423/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/write-devstack-local-conf/library/devstack_local_conf.py', 'roles/write-devstack-local-conf/library/test.py', 'roles/write-devstack-local-conf/tasks/main.yaml', 'roles/write-devstack-local-conf/README.rst', 'doc/source/zuul_ci_jobs_migration.rst']",5,f0d1896d0acdf0aa9198442f0642e8a7fd3ff422,, tempest_plugins: - kuryr-tempest-plugin, TEMPEST_PLUGINS: '/opt/stack/kuryr-tempest-plugin',96,43
openstack%2Fpuppet-openstack-integration~master~Idc68600a8730da300df273ac8e2946fb2841ec95,openstack/puppet-openstack-integration,master,Idc68600a8730da300df273ac8e2946fb2841ec95,Updated from Puppet OpenStack modules constraints,MERGED,2019-07-31 06:08:11.000000000,2019-07-31 13:35:02.000000000,2019-07-31 13:35:02.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-31 06:08:11.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/74dca2636d5c5a9bf97ef23582b80275870c5d50', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: Idc68600a8730da300df273ac8e2946fb2841ec95\n'}]",0,673736,74dca2636d5c5a9bf97ef23582b80275870c5d50,7,3,1,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: Idc68600a8730da300df273ac8e2946fb2841ec95
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/36/673736/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,74dca2636d5c5a9bf97ef23582b80275870c5d50,openstack/puppet/constraints, :ref => '2.3.1' :ref => '6.2.0', :ref => '2.3.0' :ref => '6.1.0',2,2
openstack%2Fdevstack~stable%2Frocky~Ia001badca179c3f3436d5ecd26b0755a3f3a3078,openstack/devstack,stable/rocky,Ia001badca179c3f3436d5ecd26b0755a3f3a3078,zuul job: write the enable_plugin lines last,MERGED,2019-07-30 07:40:47.000000000,2019-07-31 13:33:24.000000000,2019-07-31 13:33:24.000000000,"[{'_account_id': 7118}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 07:40:47.000000000', 'files': ['roles/write-devstack-local-conf/library/devstack_local_conf.py'], 'web_link': 'https://opendev.org/openstack/devstack/commit/b89e9d211188acb824677b42d27e870a82ee77cf', 'message': 'zuul job: write the enable_plugin lines last\n\nPlugins must be the last items in the local.conf file\notherwise the configuration set in the rest of the file\nis not applied to them (for example a different value of DEST.)\n\nChange-Id: Ia001badca179c3f3436d5ecd26b0755a3f3a3078\n(cherry picked from commit 610927f4255f0ed4877a3e85d628202e4af2f7d4)\n'}]",0,673422,b89e9d211188acb824677b42d27e870a82ee77cf,11,3,1,10459,,,0,"zuul job: write the enable_plugin lines last

Plugins must be the last items in the local.conf file
otherwise the configuration set in the rest of the file
is not applied to them (for example a different value of DEST.)

Change-Id: Ia001badca179c3f3436d5ecd26b0755a3f3a3078
(cherry picked from commit 610927f4255f0ed4877a3e85d628202e4af2f7d4)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/22/673422/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/write-devstack-local-conf/library/devstack_local_conf.py'],1,b89e9d211188acb824677b42d27e870a82ee77cf,," # Plugins must be the last items in localrc, otherwise # the configuration lines which follows them in the file are # not applied to the plugins (for example, the value of DEST.) if plugins: self.handle_plugins(plugins)", if plugins: self.handle_plugins(plugins),5,2
openstack%2Ftripleo-quickstart-extras~master~I4ba8506260171975e32f5561e3ceee4f6ca6db58,openstack/tripleo-quickstart-extras,master,I4ba8506260171975e32f5561e3ceee4f6ca6db58,Replace old ZUUL* vars with zuul v3 native vars in to_build check,ABANDONED,2019-05-17 15:30:20.000000000,2019-07-31 12:59:38.000000000,,"[{'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-05-17 15:30:20.000000000', 'files': ['roles/check-to-build-or-not-to-build/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/811af648ca91e1726e37277d00adfb0146618706', 'message': 'Replace old ZUUL* vars with zuul v3 native vars in to_build check\n\nThe image build check was moved into a role.\nAs a follow on to that change, this review updates the role\nto use the zuul v3 native variables.\n\nChange-Id: I4ba8506260171975e32f5561e3ceee4f6ca6db58\n'}]",0,659822,811af648ca91e1726e37277d00adfb0146618706,7,6,1,9976,,,0,"Replace old ZUUL* vars with zuul v3 native vars in to_build check

The image build check was moved into a role.
As a follow on to that change, this review updates the role
to use the zuul v3 native variables.

Change-Id: I4ba8506260171975e32f5561e3ceee4f6ca6db58
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/22/659822/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/check-to-build-or-not-to-build/tasks/main.yml'],1,811af648ca91e1726e37277d00adfb0146618706,update-to-build-role-vars,"# We can intersect the zuul changes and projects- name: Create zuul_changes var from zuul.items[x].project.short_name set_fact: change_items: ""{{ change_items|default([]) + [ item.project.short_name ] }}"" with_items: zuul.items register: change_projects - name: Create zuul_changes as a list set_fact: zuul_changes: ""{{ change_projects.results | map(attribute='ansible_facts.change_items') | list }}"" when: periodic|default(false)|bool","# The next two tasks make the list of ZUUL_CHANGES look like our build list # after we cleanup the extra stuff there, we can just intersect the two- name: Cleanup front of ZUUL_CHANGES set_fact: zuul_changes: ""{{ lookup('env', 'ZUUL_CHANGES')|regex_replace('openstack/', '') }}"" - name: Cleanup end of ZUUL_CHANGES set_fact: zuul_changes: ""{{ zuul_changes|regex_replace(':[a-z]*:refs/changes/\\d{2}/\\d+/\\d+','') }}"" - name: Split zuul_changes to a list set_fact: zuul_changes: ""{{ zuul_changes.split('^') }}"" when: lookup('env', 'PERIODIC')|default('0')|int == 1",8,11
openstack%2Ftripleo-heat-templates~stable%2Frocky~I886f2b8ac7092d9b3da38852e92a615d5666eea7,openstack/tripleo-heat-templates,stable/rocky,I886f2b8ac7092d9b3da38852e92a615d5666eea7,Adds constraint: OctaviaServerCertsKeyPassphrase must be 32 chars long,MERGED,2019-07-09 11:53:15.000000000,2019-07-31 12:58:56.000000000,2019-07-31 12:58:56.000000000,"[{'_account_id': 3153}, {'_account_id': 6579}, {'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-09 11:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fb7503fd11084786dfc0bf15de154168ec9698e0', 'message': 'Adds constraint: OctaviaServerCertsKeyPassphrase must be 32 chars long\n\nConflicts:\n      deployment/octavia/octavia-base.yaml\n\nCloses-bug: #1833942\n\nDepends-On: I5c2629d9e7700fe1dd6f915bc257b1f058e40617\nDepends-On: Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989\nChange-Id: I886f2b8ac7092d9b3da38852e92a615d5666eea7\n(cherry picked from commit a6fef3aad6f6f3171eb38b7d25c62a5bb485e67f)\n(cherry picked from commit cfb8e97867e2cd546efcb46303ae8583765d3876)\n'}, {'number': 2, 'created': '2019-07-28 08:47:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/687a0c81331400e12b9eff123016afdb584ac92c', 'message': 'Adds constraint: OctaviaServerCertsKeyPassphrase must be 32 chars long\n\nConflicts:\n      deployment/octavia/octavia-base.yaml\n\nCloses-bug: #1833942\n\nDepends-On: https://review.opendev.org/#/c/669822/\nDepends-On: https://review.opendev.org/#/c/669825/\nChange-Id: I886f2b8ac7092d9b3da38852e92a615d5666eea7\n(cherry picked from commit a6fef3aad6f6f3171eb38b7d25c62a5bb485e67f)\n(cherry picked from commit cfb8e97867e2cd546efcb46303ae8583765d3876)\n'}, {'number': 3, 'created': '2019-07-28 09:23:41.000000000', 'files': ['puppet/services/octavia-base.yaml', 'docker/services/octavia/octavia-deployment-config.yaml', 'releasenotes/notes/input-validation-server_certs_key_passphrase-908471f31d09f088.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/992ad5437cf21696958ca86f6675d23848f7c547', 'message': 'Adds constraint: OctaviaServerCertsKeyPassphrase must be 32 chars long\n\nConflicts:\n      deployment/octavia/octavia-base.yaml\n\nCloses-bug: #1833942\n\nDepends-On: https://review.opendev.org/#/c/669822/\nDepends-On: https://review.opendev.org/#/c/669825/\nChange-Id: I886f2b8ac7092d9b3da38852e92a615d5666eea7\n(cherry picked from commit a6fef3aad6f6f3171eb38b7d25c62a5bb485e67f)\n(cherry picked from commit cfb8e97867e2cd546efcb46303ae8583765d3876)\n'}]",0,669856,992ad5437cf21696958ca86f6675d23848f7c547,37,6,3,6579,,,0,"Adds constraint: OctaviaServerCertsKeyPassphrase must be 32 chars long

Conflicts:
      deployment/octavia/octavia-base.yaml

Closes-bug: #1833942

Depends-On: https://review.opendev.org/#/c/669822/
Depends-On: https://review.opendev.org/#/c/669825/
Change-Id: I886f2b8ac7092d9b3da38852e92a615d5666eea7
(cherry picked from commit a6fef3aad6f6f3171eb38b7d25c62a5bb485e67f)
(cherry picked from commit cfb8e97867e2cd546efcb46303ae8583765d3876)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/56/669856/2 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/octavia-base.yaml', 'docker/services/octavia/octavia-deployment-config.yaml', 'releasenotes/notes/input-validation-server_certs_key_passphrase-908471f31d09f088.yaml']",3,fb7503fd11084786dfc0bf15de154168ec9698e0,OctaviaServerCertsKeyPassphrase-32chars,"--- fixes: - The passphrase for config option 'server_certs_key_passphrase', is used as a Fernet key in Octavia and thus must be 32 bytes long. In the case of an operator-provided passphrase, TripleO will validate that. ",,11,2
openstack%2Fmonasca-agent~master~I744e2f029df54410394341e60a46b56658e4175c,openstack/monasca-agent,master,I744e2f029df54410394341e60a46b56658e4175c,Update api-ref location,MERGED,2019-07-30 17:51:11.000000000,2019-07-31 12:57:49.000000000,2019-07-31 12:57:48.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-07-30 17:51:11.000000000', 'files': ['monasca_agent/common/keystone.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/ea9f2ebc15c35a72f57c614a4b0501a08b8e66eb', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I744e2f029df54410394341e60a46b56658e4175c\n""}]",0,673596,ea9f2ebc15c35a72f57c614a4b0501a08b8e66eb,7,3,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I744e2f029df54410394341e60a46b56658e4175c
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/96/673596/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_agent/common/keystone.py'],1,ea9f2ebc15c35a72f57c614a4b0501a08b8e66eb,retire-api-site, .. _v3_api: https://docs.openstack.org/api-ref/identity/v3/index.html?expanded=token-authe, .. _v3_api: https://developer.openstack.org/api-ref/identity/v3/index.html?expanded=token-authe,1,1
openstack%2Ftempest~master~Iaff1e01dd7ffab238ec73668ae4eee0683f70ffd,openstack/tempest,master,Iaff1e01dd7ffab238ec73668ae4eee0683f70ffd,Unskip test_stamp_pattern,MERGED,2018-11-04 12:56:46.000000000,2019-07-31 12:55:39.000000000,2019-07-31 12:55:39.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 23625}, {'_account_id': 27078}]","[{'number': 1, 'created': '2018-11-04 12:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a9f1be2468b822182bb22a2498d727f3721f0578', 'message': 'Unskip test_stamp_pattern\n\ntest_stamp_pattern had issues before becuse the test attached volumes\nin VM state when it does not detects hotplug events.\n\nThis change have the test to ssh the machine first,\nalternativly a pci rescan could be forced.\n\nChange-Id: Iaff1e01dd7ffab238ec73668ae4eee0683f70ffd\n'}, {'number': 2, 'created': '2018-11-05 10:19:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/25fcf0b33ab3f926e56a2951073420b981a455d1', 'message': 'Unskip test_stamp_pattern\n\ntest_stamp_pattern had issues before because the test attached volumes\nin VM state when it does not detects hotplug events.\n\nThis change have the test to ssh the machine first,\nalternativly a pci rescan could be forced.\n\nChange-Id: Iaff1e01dd7ffab238ec73668ae4eee0683f70ffd\n'}, {'number': 3, 'created': '2019-03-28 16:26:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6de349281c5f88caa63c398d579f8763385b5846', 'message': 'Unskip test_stamp_pattern\n\ntest_stamp_pattern had issues before because the test attached volumes\nin VM state when it does not detects hotplug events.\n\nThis change have the test to ssh the machine first,\nalternativly a pci rescan could be forced.\n\nNotes:\nhttps://docs.google.com/presentation/d/1Im-iYVzroKwXKP23p12Q5vsUGdk2V26SPpLWF3I5dbA/edit#slide=id.p\n\nChange-Id: Iaff1e01dd7ffab238ec73668ae4eee0683f70ffd\n'}, {'number': 4, 'created': '2019-03-29 12:53:11.000000000', 'files': ['tempest/scenario/test_stamp_pattern.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/ba18426fd990fad19f429e0aa1673f549f2c77e8', 'message': 'Unskip test_stamp_pattern\n\ntest_stamp_pattern had issues before because the test attached volumes\nin VM state when it does not detects hotplug events.\n\nThis change have the test to ssh the machine first,\nalternativly a pci rescan could be forced.\n\nNotes:\nhttps://docs.google.com/presentation/d/1Im-iYVzroKwXKP23p12Q5vsUGdk2V26SPpLWF3I5dbA/edit#slide=id.p\n\nCloses-bug: #1664793\nChange-Id: Iaff1e01dd7ffab238ec73668ae4eee0683f70ffd\n'}]",6,615434,ba18426fd990fad19f429e0aa1673f549f2c77e8,41,10,4,5803,,,0,"Unskip test_stamp_pattern

test_stamp_pattern had issues before because the test attached volumes
in VM state when it does not detects hotplug events.

This change have the test to ssh the machine first,
alternativly a pci rescan could be forced.

Notes:
https://docs.google.com/presentation/d/1Im-iYVzroKwXKP23p12Q5vsUGdk2V26SPpLWF3I5dbA/edit#slide=id.p

Closes-bug: #1664793
Change-Id: Iaff1e01dd7ffab238ec73668ae4eee0683f70ffd
",git fetch https://review.opendev.org/openstack/tempest refs/changes/34/615434/3 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_stamp_pattern.py'],1,a9f1be2468b822182bb22a2498d727f3721f0578,unskip-stamp," # Make sure the machine ssh-able before attching the volume self.get_remote_client(ip_for_server, private_key=keypair['private_key'], server=server) # Make sure the machine ssh-able before attching the volume self.get_remote_client(ip_for_snapshot, private_key=keypair['private_key'], server=server_from_snapshot) "," @decorators.skip_because(bug=""1664793"")",10,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~I3ffd1c11a1851e62992a6a63e8abb130db82856f,openstack/tripleo-heat-templates,stable/stein,I3ffd1c11a1851e62992a6a63e8abb130db82856f,Enable VFIO module on boot for SR-IOV deployments,MERGED,2019-07-30 07:43:30.000000000,2019-07-31 12:22:13.000000000,2019-07-31 12:22:13.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-30 07:43:30.000000000', 'files': ['releasenotes/notes/enable-vfio-for-sriov-62b7bd67df250840.yaml', 'extraconfig/pre_network/boot_param_tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ac5001004da5214d92fbac64904d824375854416', 'message': 'Enable VFIO module on boot for SR-IOV deployments\n\nOn SR-IOV capable deployments when rebooting a compute node,\nvfio_iommu_type1 will not be loaded which will cause guest\ninstances with VF/PF fail to start/spawn.\n\nManually loading the kernel module will allow to spawn guest\ninstances successfully.\n\nChange-Id: I3ffd1c11a1851e62992a6a63e8abb130db82856f\nCloses-Bug: 1838159\n(cherry picked from commit 3878bd3e47c500f90d3c5cb110162b39a0d7e870)\n'}]",0,673429,ac5001004da5214d92fbac64904d824375854416,11,8,1,30133,,,0,"Enable VFIO module on boot for SR-IOV deployments

On SR-IOV capable deployments when rebooting a compute node,
vfio_iommu_type1 will not be loaded which will cause guest
instances with VF/PF fail to start/spawn.

Manually loading the kernel module will allow to spawn guest
instances successfully.

Change-Id: I3ffd1c11a1851e62992a6a63e8abb130db82856f
Closes-Bug: 1838159
(cherry picked from commit 3878bd3e47c500f90d3c5cb110162b39a0d7e870)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/673429/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/enable-vfio-for-sriov-62b7bd67df250840.yaml', 'extraconfig/pre_network/boot_param_tasks.yaml']",2,ac5001004da5214d92fbac64904d824375854416,bug/1838159," # Kernel modules loading - name: Load VFIO kernel module on boot import_role: name: tripleo-module-load vars: modules: - name: vfio when: _KERNEL_ARGS_ is search(""iommu"") ",,17,0
openstack%2Fpuppet-tripleo~master~If1a111662203896ee51fd61183f720a4cef18a3e,openstack/puppet-tripleo,master,If1a111662203896ee51fd61183f720a4cef18a3e,Add ceph grafana dashboard endpoint to haproxy,MERGED,2019-07-24 14:24:23.000000000,2019-07-31 12:11:44.000000000,2019-07-31 12:11:44.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-07-24 14:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bb6653fbd195a805dc1f2c353e9095a5dbab9966', 'message': 'Add ceph grafana dashboard endpoint to haproxy\n\nThis review adds the ceph grafana endpoint to\nhaproxy.\nThe change adds also the required section to\nmake the cert request to address the ssl\nscenario.\n\nDepends-On: https://review.opendev.org/#/c/672536\nChange-Id: If1a111662203896ee51fd61183f720a4cef18a3e\n'}, {'number': 2, 'created': '2019-07-24 14:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/94a3504626e4530a0792abaf96d2942bbd930fd9', 'message': '[WIP] Add ceph grafana dashboard endpoint to haproxy\n\nThis review adds the ceph grafana endpoint to\nhaproxy.\nThe change adds also the required section to\nmake the cert request to address the ssl\nscenario.\n\nDepends-On: https://review.opendev.org/#/c/672536\nChange-Id: If1a111662203896ee51fd61183f720a4cef18a3e\n'}, {'number': 3, 'created': '2019-07-25 10:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7f1f453ea49657a49440a7b0ba6257eb1f9e53e8', 'message': '[WIP] Add ceph grafana dashboard endpoint to haproxy\n\nThis review adds the ceph grafana endpoint to\nhaproxy.\nThe change adds also the required section to\nmake the cert request to address the internaltls\nscenario.\n\nDepends-On: https://review.opendev.org/#/c/672536\nChange-Id: If1a111662203896ee51fd61183f720a4cef18a3e\n'}, {'number': 4, 'created': '2019-07-25 11:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/cd743c878eab364316079831094a92f2f445aeea', 'message': '[WIP] Add ceph grafana dashboard endpoint to haproxy\n\nThis review adds the ceph grafana endpoint to\nhaproxy.\n\nDepends-On: https://review.opendev.org/#/c/672536\nChange-Id: If1a111662203896ee51fd61183f720a4cef18a3e\n'}, {'number': 5, 'created': '2019-07-25 11:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5813a185e7cdf0489e48989716e85dfd46cbbd91', 'message': '[WIP] Add ceph grafana dashboard endpoint to haproxy\n\nThis review adds the ceph grafana endpoint to\nhaproxy.\n\nDepends-On: https://review.opendev.org/#/c/672536\nChange-Id: If1a111662203896ee51fd61183f720a4cef18a3e\n'}, {'number': 6, 'created': '2019-07-26 13:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7b39ef74041c0c58e9f0042009404964c6f2e908', 'message': 'Add ceph grafana dashboard endpoint to haproxy\n\nThis review adds the ceph grafana endpoint to\nhaproxy.\n\nDepends-On: https://review.opendev.org/#/c/672536\nChange-Id: If1a111662203896ee51fd61183f720a4cef18a3e\n'}, {'number': 7, 'created': '2019-07-26 15:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8b3aab8783f062f36a1dd0e7396c231253db9e4a', 'message': 'Add ceph grafana dashboard endpoint to haproxy\n\nThis review adds the ceph grafana endpoint to\nhaproxy.\n\nDepends-On: https://review.opendev.org/#/c/672536\nChange-Id: If1a111662203896ee51fd61183f720a4cef18a3e\n'}, {'number': 8, 'created': '2019-07-29 16:03:50.000000000', 'files': ['manifests/haproxy.pp', 'releasenotes/notes/ceph_grafana_endpoint-0e220cb59ee679e0.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/548b966aa04b1d339453a2c50d7dbbb67c664391', 'message': 'Add ceph grafana dashboard endpoint to haproxy\n\nThis review adds the ceph grafana endpoint to\nhaproxy.\n\nDepends-On: https://review.opendev.org/#/c/672536\nChange-Id: If1a111662203896ee51fd61183f720a4cef18a3e\n'}]",4,672538,548b966aa04b1d339453a2c50d7dbbb67c664391,34,6,8,25402,,,0,"Add ceph grafana dashboard endpoint to haproxy

This review adds the ceph grafana endpoint to
haproxy.

Depends-On: https://review.opendev.org/#/c/672536
Change-Id: If1a111662203896ee51fd61183f720a4cef18a3e
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/38/672538/8 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/haproxy.pp', 'manifests/certmonger/ceph_grafana.pp', 'manifests/profile/base/certmonger_user.pp', 'manifests/profile/base/ceph/grafana.pp']",4,bb6653fbd195a805dc1f2c353e9095a5dbab9966,ceph_dashboard,"class tripleo::profile::base::ceph::grafana ( $step = Integer(hiera('step')), $ceph_grafana_network = hiera('ceph_grafana-server_network', undef), $certificates_specs = hiera('apache_certificates_specs', {}), $enable_internal_tls = hiera('enable_internal_tls', false), ) { if $enable_internal_tls { if !$ceph_grafana_network { fail('ceph_grafana_network is not set in the hieradata.') } $tls_certfile = $certificates_specs[""httpd-${ceph_grafana_network}""]['service_certificate'] $tls_keyfile = $certificates_specs[""httpd-${ceph_grafana_network}""]['service_key'] } else { $tls_certfile = undef $tls_keyfile = undef } class { '::ceph_grafana::wsgi::apache': ssl_cert => $tls_certfile, ssl_key => $tls_keyfile, } } ",,84,0
openstack%2Ftripleo-heat-templates~master~I19d660168c98887a5e352b3413235888c800760d,openstack/tripleo-heat-templates,master,I19d660168c98887a5e352b3413235888c800760d,Create /run/netns if does not exist,MERGED,2019-01-15 11:22:06.000000000,2019-07-31 12:00:15.000000000,2019-01-22 16:18:36.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 10873}, {'_account_id': 12398}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-01-15 11:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a236ed0dae3da26a395e3e590adb7934faa0d11f', 'message': 'Create /run/netns if does not exist\n\nChange-Id: I19d660168c98887a5e352b3413235888c800760d\n'}, {'number': 2, 'created': '2019-01-15 12:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/963f1151e1b4d8f261b1cc4a0fa19b514991940e', 'message': 'Create /run/netns if does not exist\n\nChange-Id: I19d660168c98887a5e352b3413235888c800760d\nRelated-Bug: #1799638\n'}, {'number': 3, 'created': '2019-01-17 06:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/afe4e808a06ba8adde0b5d031545392e21e325eb', 'message': ""Create /run/netns if does not exist\n\nUnlike docker with podman you can't mount a host directory\nthat does not exist. We did some work as part of bug\ntake care of this for reboots. However, we need it to be created\nfor fresh installations, as nodes are not necessarily rebooted\nafter installing paunch. The real issue without reboots did not\nsurface before the next patch in this series, as we were using\ncni0 bridge network for some containers and that resulted in\nnamespace being created and the directory existing for\nneutron_dhcp and neutron_l3 containers in step 4 to mount them.\n\nThis patch creates/removes a temp namespace in host_prep_tasks\nto ensure that the directory exists.\n\nChange-Id: I19d660168c98887a5e352b3413235888c800760d\nRelated-Bug: #1799638\n""}, {'number': 4, 'created': '2019-01-17 06:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/49c4ba2fc6b55edf457f6e99b1c071cd8c4cb74f', 'message': ""Create /run/netns if does not exist\n\nUnlike docker with podman you can't mount a host directory\nthat does not exist. We did some work as part of bug 1799638\ntake care of this for reboots. However, we need it to be created\nfor fresh installations, as nodes are not necessarily rebooted\nafter installing paunch. The real issue without reboots did not\nsurface before the next patch in this series, as we were using\ncni0 bridge network for some containers and that resulted in\nnamespace being created and the directory existing for\nneutron_dhcp and neutron_l3 containers in step 4 to mount them.\n\nThis patch creates/removes a temp namespace in host_prep_tasks\nto ensure that the directory exists.\n\nChange-Id: I19d660168c98887a5e352b3413235888c800760d\nRelated-Bug: #1799638\n""}, {'number': 5, 'created': '2019-01-17 16:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9fe6feeb8a304d0d48473515704742a6f6d45e45', 'message': ""Create /run/netns if does not exist\n\nUnlike docker with podman you can't mount a host directory\nthat does not exist. We did some work as part of bug 1799638\ntake care of this for reboots. However, we need it to be created\nfor fresh installations, as nodes are not necessarily rebooted\nafter installing paunch. The real issue without reboots did not\nsurface before the next patch in this series, as we were using\ncni0 bridge network for some containers and that resulted in\nnamespace being created and the directory existing for\nneutron_dhcp and neutron_l3 containers in step 4 to mount them.\n\nThis patch creates/removes a temp namespace in host_prep_tasks\nto ensure that the directory exists.\n\nChange-Id: I19d660168c98887a5e352b3413235888c800760d\nRelated-Bug: #1799638\n""}, {'number': 6, 'created': '2019-01-21 14:47:54.000000000', 'files': ['docker/services/neutron-l3.yaml', 'docker/services/neutron-dhcp.yaml', 'docker/services/ovn-metadata.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9b284e74cbdcf43253edaf424534b71a483fdb69', 'message': ""Create /run/netns if does not exist\n\nUnlike docker with podman you can't mount a host directory\nthat does not exist. We did some work as part of bug 1799638\ntake care of this for reboots. However, we need it to be created\nfor fresh installations, as nodes are not necessarily rebooted\nafter installing paunch. The real issue without reboots did not\nsurface before the next patch in this series, as we were using\ncni0 bridge network for some containers and that resulted in\nnamespace being created and the directory existing for\nneutron_dhcp and neutron_l3 containers in step 4 to mount them.\n\nThis patch creates/removes a temp namespace in host_prep_tasks\nto ensure that the directory exists.\n\nChange-Id: I19d660168c98887a5e352b3413235888c800760d\nRelated-Bug: #1799638\n""}]",14,630936,9b284e74cbdcf43253edaf424534b71a483fdb69,52,11,6,8833,,,0,"Create /run/netns if does not exist

Unlike docker with podman you can't mount a host directory
that does not exist. We did some work as part of bug 1799638
take care of this for reboots. However, we need it to be created
for fresh installations, as nodes are not necessarily rebooted
after installing paunch. The real issue without reboots did not
surface before the next patch in this series, as we were using
cni0 bridge network for some containers and that resulted in
namespace being created and the directory existing for
neutron_dhcp and neutron_l3 containers in step 4 to mount them.

This patch creates/removes a temp namespace in host_prep_tasks
to ensure that the directory exists.

Change-Id: I19d660168c98887a5e352b3413235888c800760d
Related-Bug: #1799638
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/36/630936/4 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/neutron-l3.yaml', 'docker/services/neutron-dhcp.yaml', 'docker/services/ovn-metadata.yaml']",3,a236ed0dae3da26a395e3e590adb7934faa0d11f,remove_cni0, - - name: create /run/netns file: path: /run/netns state: directory setype: svirt_sandbox_file_t,,15,0
openstack%2Ftripleo-upgrade~master~Ib83e508950df729901fffa072402b581be95c746,openstack/tripleo-upgrade,master,Ib83e508950df729901fffa072402b581be95c746,Upgrade undercloud.conf with the right parameters,MERGED,2019-04-23 15:15:19.000000000,2019-07-31 11:50:07.000000000,2019-06-07 10:20:54.000000000,"[{'_account_id': 8042}, {'_account_id': 8532}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-04-23 15:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/392fbfd5457ff14d0684b06948d9228ba7a0522e', 'message': 'Upgrade undercloud.conf with the right parameters\n\nThis patch adds the new parameters required for the OSP15 major\nupgrades workflow.  This patch also adds the undercloud_hiera and\nlocal_imags files also needed.\n\nChange-Id: Ib83e508950df729901fffa072402b581be95c746\n'}, {'number': 2, 'created': '2019-04-24 14:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a4c1d1745d9c4be60338315127dd4c106e871f00', 'message': 'Upgrade undercloud.conf with the right parameters\n\nThis patch adds the new parameters required for the OSP15 major\nupgrades workflow.  This patch also adds the undercloud_hiera and\nlocal_imags files also needed.\n\nChange-Id: Ib83e508950df729901fffa072402b581be95c746\n'}, {'number': 3, 'created': '2019-04-24 20:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/bfda2669429a0a320479fa4bfde6373c63d2617a', 'message': 'Upgrade undercloud.conf with the right parameters\n\nThis patch adds the new parameters required for the OSP15 major\nupgrades workflow.  This patch also adds the undercloud_hiera and\nlocal_imags files also needed.\n\nChange-Id: Ib83e508950df729901fffa072402b581be95c746\n'}, {'number': 4, 'created': '2019-05-21 20:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9a46e26c00f068bbcaff112e4d24e2340efdf36b', 'message': '[WIP]Upgrade undercloud.conf with the right parameters\n\nThis patch adds the new parameters required for the OSP15 major\nupgrades workflow.  This patch also adds the undercloud_hiera and\nlocal_imags files also needed.\n\nChange-Id: Ib83e508950df729901fffa072402b581be95c746\n'}, {'number': 5, 'created': '2019-05-22 13:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6c7c85fc2b212bd9d13e5ff79c73b04d8b6382f3', 'message': '[WIP]Upgrade undercloud.conf with the right parameters\n\nThis patch adds the new parameters required for the OSP15 major\nupgrades workflow.  This patch also adds the undercloud_hiera and\nlocal_imags files also needed.\n\nChange-Id: Ib83e508950df729901fffa072402b581be95c746\n'}, {'number': 6, 'created': '2019-05-28 16:00:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/41a2d36629ed6c92bd7c57282a84c7c12b944e6d', 'message': ""Upgrade undercloud.conf with the right parameters\n\nThis patch adds the new parameters required for the OSP15 major\nupgrades workflow.  This patch also adds the undercloud_hiera file.\nIf the docker_insecure_registries option exists in the file, it's\nvalue is merged with new namespace values and set as\ncontainer_insecure_registries.  The docker_insecure_registries is\nremoved after the value is used.\n\nChange-Id: Ib83e508950df729901fffa072402b581be95c746\n""}, {'number': 7, 'created': '2019-05-29 14:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7c60b547394af98d6b181cc5d40fa5ff339017cc', 'message': ""Upgrade undercloud.conf with the right parameters\n\nThis patch adds the new parameters required for the OSP15 major\nupgrades workflow.  This patch also adds the undercloud_hiera file.\nIf the docker_insecure_registries option exists in the file, it's\nvalue is merged with new namespace values and set as\ncontainer_insecure_registries.  The docker_insecure_registries is\nremoved after the value is used.\n\nChange-Id: Ib83e508950df729901fffa072402b581be95c746\n""}, {'number': 8, 'created': '2019-06-05 10:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/049a1503669a2f63ed974c5a389d1aeac646f3a4', 'message': ""Upgrade undercloud.conf with the right parameters\n\nThis patch adds the new parameters required for the OSP15 major\nupgrades workflow.  This patch also adds the undercloud_hiera file\nif the hieradata_override is not defined in undercloud.conf, if it\nis then it will append the needed hiera configuration into the existing\nfile.\nIf the docker_insecure_registries option exists in the file, it's\nvalue is merged with new namespace values and set as\ncontainer_insecure_registries.  The docker_insecure_registries is\nremoved after the value is used.\n\nChange-Id: Ib83e508950df729901fffa072402b581be95c746\n""}, {'number': 9, 'created': '2019-06-06 12:09:13.000000000', 'files': ['defaults/main.yml', 'tasks/upgrade/configure_uc_containers.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3a97b561fa3becea25d0c2385850c1139358228d', 'message': ""Upgrade undercloud.conf with the right parameters\n\nThis patch adds the new parameters required for the OSP15 major\nupgrades workflow.  This patch also adds the undercloud_hiera file\nif the hieradata_override is not defined in undercloud.conf, if it\nis then it will append the needed hiera configuration into the existing\nfile.\nIf the docker_insecure_registries option exists in the file, it's\nvalue is merged with new namespace values and set as\ncontainer_insecure_registries.  The docker_insecure_registries is\nremoved after the value is used.\n\nChange-Id: Ib83e508950df729901fffa072402b581be95c746\n""}]",9,655182,3a97b561fa3becea25d0c2385850c1139358228d,34,7,9,8532,,,0,"Upgrade undercloud.conf with the right parameters

This patch adds the new parameters required for the OSP15 major
upgrades workflow.  This patch also adds the undercloud_hiera file
if the hieradata_override is not defined in undercloud.conf, if it
is then it will append the needed hiera configuration into the existing
file.
If the docker_insecure_registries option exists in the file, it's
value is merged with new namespace values and set as
container_insecure_registries.  The docker_insecure_registries is
removed after the value is used.

Change-Id: Ib83e508950df729901fffa072402b581be95c746
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/82/655182/9 && git format-patch -1 --stdout FETCH_HEAD,"['defaults/main.yml', 'tasks/upgrade/configure_uc_containers.yml']",2,392fbfd5457ff14d0684b06948d9228ba7a0522e,adapt-tripleo-upgrade,"- name: Create a backup copy of {{ undercloud_conf }} copy: src: ""{{ undercloud_conf }}"" dest: ""{{ undercloud_conf }}.old"" remote_src: yes - name: Create undercloud config file copy: dest: ""{{ undercloud_conf }}"" content: | [DEFAULT] # Network interface on the Undercloud that will be handling the PXE # boots and DHCP for Overcloud instances. (string value) # eth0 might need to change depending on your setup (infrared uses eth0 for the ctlplane network) local_interface = eth0 local_ip = 192.168.24.1/24 undercloud_public_host = 192.168.24.2 undercloud_admin_host = 192.168.24.3 container_images_file = /home/stack/local_images.yaml container_insecure_registries=brew-pulp-docker01.web.prod.ext.phx2.redhat.com:8888 undercloud_ntp_servers = clock.redhat.com,clock2.redhat.com hieradata_override = /home/stack/undercloud_hiera.yaml undercloud_enable_selinux = false [ctlplane-subnet] local_subnet = ctlplane-subnet cidr = 192.168.24.0/24 dhcp_start = 192.168.24.5 dhcp_end = 192.168.24.24 gateway = 192.168.24.1 inspection_iprange = 192.168.24.100,192.168.24.120 masquerade = true - name: Create undercloud hiera file copy: dest: ""{{ undercloud_hiera }}"" content: | glance_backend: 'file' - name: Create undercloud local images file copy: dest: ""{{ local_images }}"" content: | parameter_defaults: NeutronMechanismDrivers: ovn ContainerImagePrepare: - set: name_prefix: openstack- namespace: brew-pulp-docker01.web.prod.ext.phx2.redhat.com:8888/rhosp15 tag: latest ",,57,0
openstack%2Ftripleo-upgrade~master~I70d387b381b6ce297507cbfe669ea7be902df605,openstack/tripleo-upgrade,master,I70d387b381b6ce297507cbfe669ea7be902df605,Migrate from with_X loop.,MERGED,2019-01-29 13:23:43.000000000,2019-07-31 11:47:52.000000000,2019-05-30 15:50:07.000000000,"[{'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 18575}, {'_account_id': 20775}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 25403}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-01-29 13:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c36b9e38138c2449a3ea72366e9034655604cc22', 'message': 'Migrate from with_X loop.\n\nWith the release of Ansible 2.5, the recommended way to perform\n loops is the use the new loop keyword instead of with_X style loops.\nThis review addresses aforementioned change for common tasks\nwithin tripleo-upgrade role.\n\nChange-Id: I70d387b381b6ce297507cbfe669ea7be902df605\n'}, {'number': 2, 'created': '2019-01-29 13:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/bc6c872db66c2966aa219a6eaf068fc9fe4146df', 'message': 'Migrate from with_X loop.\n\nWith the release of Ansible 2.5, the recommended way to perform\n loops is the use the new loop keyword instead of with_X style loops.\nThis review addresses aforementioned change for common tasks\nwithin tripleo-upgrade role.\n\nChange-Id: I70d387b381b6ce297507cbfe669ea7be902df605\n'}, {'number': 3, 'created': '2019-01-29 15:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4c1e3b510b09fcc3cfa39f894663d3b0a9370483', 'message': 'Migrate from with_X loop.\n\nWith the release of Ansible 2.5, the recommended way to perform\n loops is the use the new loop keyword instead of with_X style loops.\nThis review addresses aforementioned change for common tasks\nwithin tripleo-upgrade role.\n\nChange-Id: I70d387b381b6ce297507cbfe669ea7be902df605\n'}, {'number': 4, 'created': '2019-02-07 09:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/68942a1fe4d64449d2d11fb986f3c991610223ae', 'message': 'Migrate from with_X loop.\n\nWith the release of Ansible 2.5, the recommended way to perform\n loops is the use the new loop keyword instead of with_X style loops.\nThis review addresses aforementioned change for common tasks\nwithin tripleo-upgrade role.\n\nChange-Id: I70d387b381b6ce297507cbfe669ea7be902df605\nDepends-On: https://review.openstack.org/#/c/635459/\n'}, {'number': 5, 'created': '2019-02-08 07:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/11c760025e63eb7414ac19305f45853e48fb2d68', 'message': 'Migrate from with_X loop.\n\nWith the release of Ansible 2.5, the recommended way to perform\n loops is the use the new loop keyword instead of with_X style loops.\nThis review addresses aforementioned change for common tasks\nwithin tripleo-upgrade role.\n\nChange-Id: I70d387b381b6ce297507cbfe669ea7be902df605\nDepends-On: https://review.openstack.org/#/c/596282\n'}, {'number': 6, 'created': '2019-02-11 14:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/31d3644627bf3757a50e9081ce40a1ef6adab6bb', 'message': 'Migrate from with_X loop.\n\nWith the release of Ansible 2.5, the recommended way to perform\n loops is the use the new loop keyword instead of with_X style loops.\nThis review addresses aforementioned change for common tasks\nwithin tripleo-upgrade role.\n\nChange-Id: I70d387b381b6ce297507cbfe669ea7be902df605\nDepends-On: https://review.openstack.org/#/c/635459/\n'}, {'number': 7, 'created': '2019-05-27 11:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f94dc0414d51bace153898103178251d613914ba', 'message': 'Migrate from with_X loop.\n\nWith the release of Ansible 2.5, the recommended way to perform\n loops is the use the new loop keyword instead of with_X style loops.\nThis review addresses aforementioned change for common tasks\nwithin tripleo-upgrade role.\n\nChange-Id: I70d387b381b6ce297507cbfe669ea7be902df605\n'}, {'number': 8, 'created': '2019-05-27 11:54:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/1eaba1f47032de1b54f5709d4554114d10e26067', 'message': 'Migrate from with_X loop.\n\nWith the release of Ansible 2.5, the recommended way to perform\n loops is the use the new loop keyword instead of with_X style loops.\nThis review addresses aforementioned change for common tasks\nwithin tripleo-upgrade role.\n\nChange-Id: I70d387b381b6ce297507cbfe669ea7be902df605\n'}, {'number': 9, 'created': '2019-05-27 12:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/2d0f94cf247d0681317ab5bd2bbfbc755e0b534d', 'message': 'Migrate from with_X loop.\n\nWith the release of Ansible 2.5, the recommended way to perform\n loops is the use the new loop keyword instead of with_X style loops.\nThis review addresses aforementioned change for common tasks\nwithin tripleo-upgrade role.\n\nChange-Id: I70d387b381b6ce297507cbfe669ea7be902df605\n'}, {'number': 10, 'created': '2019-05-28 09:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/bcdcf8691311d9eaafaa481d82de9e42f3f30e6d', 'message': 'Migrate from with_X loop.\n\nWith the release of Ansible 2.5, the recommended way to perform\n loops is the use the new loop keyword instead of with_X style loops.\nThis review addresses aforementioned change for common tasks\nwithin tripleo-upgrade role.\n\nChange-Id: I70d387b381b6ce297507cbfe669ea7be902df605\n'}, {'number': 11, 'created': '2019-05-29 08:03:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d5c4cd688d76924a7d99631d45f7aeb25612547a', 'message': 'Migrate from with_X loop.\n\nWith the release of Ansible 2.5, the recommended way to perform\n loops is the use the new loop keyword instead of with_X style loops.\nThis review addresses aforementioned change for common tasks\nwithin tripleo-upgrade role.\n\nChange-Id: I70d387b381b6ce297507cbfe669ea7be902df605\n'}, {'number': 12, 'created': '2019-05-29 13:45:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/670f19c7ae4d79c7dcc3d67ec4f7fc93f4dae1f7', 'message': 'Migrate from with_X loop.\n\nWith the release of Ansible 2.5, the recommended way to perform\n loops is the use the new loop keyword instead of with_X style loops.\nThis review addresses aforementioned change for common tasks\nwithin tripleo-upgrade role.\n\nChange-Id: I70d387b381b6ce297507cbfe669ea7be902df605\n'}, {'number': 13, 'created': '2019-05-30 08:56:39.000000000', 'files': ['tasks/common/controller_post_script.yml', 'tasks/common/load_roles_from_inventory.yaml', 'tasks/update/create-overcloud-update-scripts.yaml', 'tasks/upgrade/controller_node_upgrade.yml', 'tasks/common/create_http_test_scripts.yml', 'tasks/update/overcloud_update_run.yml', 'tasks/upgrade/create-overcloud-upgrade-scripts.yaml', 'tasks/common/controller_post_scripts.yml', 'tasks/upgrade/use_oooq.yaml', 'tasks/upgrade/controller_post_upgrade.yml', 'tasks/common/convert_ceph_params.yaml', 'tasks/fast-forward-upgrade/overcloud_bulk.yaml', 'tasks/common/adjust-roles-data.yaml', 'tasks/common/convert_roles_data.yaml', 'tasks/common/convert_nic_templates.yaml', 'tasks/fast-forward-upgrade/convert_roles_data.yaml', 'tasks/fast-forward-upgrade/create-prepare-scripts.yaml', 'tasks/upgrade/overcloud_upgrade_run.yml', 'tasks/upgrade/create-undercloud-upgrade-scripts.yaml', 'tasks/common/queens_to_rocky_adjust_nic_templates.yaml', 'tasks/upgrade/undercloud_ssl_camap.yaml', 'tasks/fast-forward-upgrade/main.yml', 'tasks/fast-forward-upgrade/overcloud_role.yaml', 'tasks/update/create-undercloud-update-scripts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b25817a233bcb5f836319cce10bb04bbb732c4f7', 'message': 'Migrate from with_X loop.\n\nWith the release of Ansible 2.5, the recommended way to perform\n loops is the use the new loop keyword instead of with_X style loops.\nThis review addresses aforementioned change for common tasks\nwithin tripleo-upgrade role.\n\nChange-Id: I70d387b381b6ce297507cbfe669ea7be902df605\n'}]",24,633731,b25817a233bcb5f836319cce10bb04bbb732c4f7,46,10,13,21537,,,0,"Migrate from with_X loop.

With the release of Ansible 2.5, the recommended way to perform
 loops is the use the new loop keyword instead of with_X style loops.
This review addresses aforementioned change for common tasks
within tripleo-upgrade role.

Change-Id: I70d387b381b6ce297507cbfe669ea7be902df605
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/31/633731/5 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/adjust-roles-data.yaml', 'tasks/common/controller_post_script.yml', 'tasks/common/load_roles_from_inventory.yaml', 'tasks/common/convert_roles_data.yaml', 'tasks/common/convert_nic_templates.yaml', 'tasks/common/queens_to_rocky_adjust_nic_templates.yaml', 'tasks/common/controller_post_scripts.yml', 'tasks/common/create_http_test_scripts.yml', 'tasks/common/convert_ceph_params.yaml', 'tasks/common/get_compute_role.yml']",10,c36b9e38138c2449a3ea72366e9034655604cc22,refactor_flatten,"--- - name: get list of Enabled services shell: | source {{ undercloud_rc }} ; openstack stack output show -f yaml {{ overcloud_stack_name }} EnabledServices register: enabled_services - name: set oc_enabled_services fact set_fact: oc_enabled_services: ""{{ enabled_services.stdout|from_yaml }}"" - name: get role with nova_compute service set_fact: nova_compute_role: ""{{ item }}"" when: ""'nova_compute' in oc_enabled_services.output_value[item]"" loop: ""{{ oc_enabled_services.output_value.keys()|flatten(levels=1) }}"" - name: set fallback for nova_compute_role set_fact: nova_compute_role: false when: nova_compute_role is not defined ",,60,48
openstack%2Ftripleo-upgrade~master~I542b82b0bec05faf320861027f2f51572fe931c2,openstack/tripleo-upgrade,master,I542b82b0bec05faf320861027f2f51572fe931c2,Remove check for openvswitch package.,MERGED,2019-06-28 11:10:44.000000000,2019-07-31 11:44:08.000000000,2019-06-28 17:24:26.000000000,"[{'_account_id': 3153}, {'_account_id': 8042}, {'_account_id': 8532}, {'_account_id': 11090}, {'_account_id': 20775}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 22895}]","[{'number': 1, 'created': '2019-06-28 11:10:44.000000000', 'files': ['tasks/common/undercloud_prerequisites.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b5f00e5c3e663b0ebcfe3277e38a71a3bf91e7d9', 'message': ""Remove check for openvswitch package.\n\nThe package task does ensure that a package is installed,\nwhen the intention of this task was to simply check if\nthe openvswitch package was installed. However, if it's\ninstalled, Ansible will try to install the latest available\nversion and that update needs to be handled in the Undercloud\nupgrade itself, not in the previous steps. For that reason,\nthis patch removes the task and relies on the following one\nwhich checks that the OpenVSwitch service is running to fail\nif the package wasn't installed.\n\nChange-Id: I542b82b0bec05faf320861027f2f51572fe931c2\n""}]",0,668143,b5f00e5c3e663b0ebcfe3277e38a71a3bf91e7d9,8,8,1,26343,,,0,"Remove check for openvswitch package.

The package task does ensure that a package is installed,
when the intention of this task was to simply check if
the openvswitch package was installed. However, if it's
installed, Ansible will try to install the latest available
version and that update needs to be handled in the Undercloud
upgrade itself, not in the previous steps. For that reason,
this patch removes the task and relies on the following one
which checks that the OpenVSwitch service is running to fail
if the package wasn't installed.

Change-Id: I542b82b0bec05faf320861027f2f51572fe931c2
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/43/668143/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_prerequisites.yaml'],1,b5f00e5c3e663b0ebcfe3277e38a71a3bf91e7d9,,,"- name: Ensure Openvswitch is installed package: name: ""{{ 'openvswitch' if use_oooq|bool else 'rhosp-openvswitch' }}"" state: present ",0,5
openstack%2Fnetworking-ovn~stable%2Fstein~I0faa19ef48f2dc5591c0337ae5a0599abc2e4168,openstack/networking-ovn,stable/stein,I0faa19ef48f2dc5591c0337ae5a0599abc2e4168,Maintenance task: Enhance debug logging,MERGED,2019-07-26 15:06:25.000000000,2019-07-31 11:41:05.000000000,2019-07-31 11:41:05.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-26 15:06:25.000000000', 'files': ['networking_ovn/common/maintenance.py', 'networking_ovn/tests/unit/common/test_maintenance.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4232a2fabdefb124f9abdfa0b399a01aba14299a', 'message': 'Maintenance task: Enhance debug logging\n\nThis patch is enhancing the maintenance task debug logs by:\n\n* Logging a summary with the number of failures on each resource type\n* Logging the UUID and type of the resource being fixed at that time\n* Changing the prefix of the maintenance logs for easy grepping\n\nConflicts:\n\tnetworking_ovn/common/maintenance.py\n\nCloses-Bug: #1837003\nChange-Id: I0faa19ef48f2dc5591c0337ae5a0599abc2e4168\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit f59acf38968ce9c6129f1a1bffd277af8406a2d0)\n'}]",0,673000,4232a2fabdefb124f9abdfa0b399a01aba14299a,8,4,1,6773,,,0,"Maintenance task: Enhance debug logging

This patch is enhancing the maintenance task debug logs by:

* Logging a summary with the number of failures on each resource type
* Logging the UUID and type of the resource being fixed at that time
* Changing the prefix of the maintenance logs for easy grepping

Conflicts:
	networking_ovn/common/maintenance.py

Closes-Bug: #1837003
Change-Id: I0faa19ef48f2dc5591c0337ae5a0599abc2e4168
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit f59acf38968ce9c6129f1a1bffd277af8406a2d0)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/00/673000/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/maintenance.py', 'networking_ovn/tests/unit/common/test_maintenance.py']",2,4232a2fabdefb124f9abdfa0b399a01aba14299a,bug/1837003,"from networking_ovn.common import config as ovn_config @mock.patch.object(maintenance.LOG, 'debug') def test__log_maintenance_inconsistencies(self, mock_log): ovn_config.cfg.CONF.set_override('debug', True) # Create fake inconsistencies: 2 networks, 4 subnets and 8 ports incst = [] incst += [mock.Mock(resource_type=constants.TYPE_NETWORKS)] * 2 incst += [mock.Mock(resource_type=constants.TYPE_SUBNETS)] * 4 incst += [mock.Mock(resource_type=constants.TYPE_PORTS)] * 8 # Create fake inconsistencies for delete: 3 routers and 6 router ports incst_del = [] incst_del += [mock.Mock(resource_type=constants.TYPE_ROUTERS)] * 3 incst_del += [mock.Mock(resource_type=constants.TYPE_ROUTER_PORTS)] * 6 self.periodic._log_maintenance_inconsistencies(incst, incst_del) # Assert LOG.debug was called twice self.assertEqual(2, len(mock_log.call_args_list)) # Assert the log matches the number of inconsistencies fail_str_create_update = mock_log.call_args_list[0][0][1]['fail_str'] self.assertIn('networks=2', fail_str_create_update) self.assertIn('subnets=4', fail_str_create_update) self.assertIn('ports=8', fail_str_create_update) fail_str_delete = mock_log.call_args_list[1][0][1]['fail_str'] self.assertIn('routers=3', fail_str_delete) self.assertIn('router_ports=6', fail_str_delete) @mock.patch.object(maintenance.LOG, 'debug') def test__log_maintenance_inconsistencies_debug_disabled(self, mock_log): ovn_config.cfg.CONF.set_override('debug', False) incst = [mock.Mock(resource_type=constants.TYPE_NETWORKS)] * 2 self.periodic._log_maintenance_inconsistencies(incst, []) self.assertFalse(mock_log.called)",,84,5
openstack%2Ftripleo-quickstart~master~I21400f36d4599be76b56e448459523c5a66a2e5c,openstack/tripleo-quickstart,master,I21400f36d4599be76b56e448459523c5a66a2e5c,Add dlrn_hash_tag_newest to RHEL-8 repo file,MERGED,2019-07-30 23:01:06.000000000,2019-07-31 11:36:08.000000000,2019-07-31 11:36:08.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-30 23:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ab5e1449e776da4de34e4181c673b4a644143e06', 'message': 'Add dlrn_hash_tag_newest to RHEL-8 repo file\n\nChange-Id: I21400f36d4599be76b56e448459523c5a66a2e5c\n'}, {'number': 2, 'created': '2019-07-30 23:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/156347e3f6033a7b37521c67684a4850a840ce12', 'message': 'Add dlrn_hash_tag_newest to RHEL-8 repo file\n\nAlso enable rhui repos.\n\nChange-Id: I21400f36d4599be76b56e448459523c5a66a2e5c\n'}, {'number': 3, 'created': '2019-07-31 01:44:46.000000000', 'files': ['config/release/tripleo-ci/RedHat-8/promotion-testing-hash-master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d268d31b6a6909ed024ba636a7489367298c936a', 'message': 'Add dlrn_hash_tag_newest to RHEL-8 repo file\n\nAlso enable rhui repos.\n\nChange-Id: I21400f36d4599be76b56e448459523c5a66a2e5c\n'}]",2,673709,d268d31b6a6909ed024ba636a7489367298c936a,12,5,3,10969,,,0,"Add dlrn_hash_tag_newest to RHEL-8 repo file

Also enable rhui repos.

Change-Id: I21400f36d4599be76b56e448459523c5a66a2e5c
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/09/673709/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/RedHat-8/promotion-testing-hash-master.yml'],1,ab5e1449e776da4de34e4181c673b4a644143e06,,dlrn_hash_tag_newest: current,,1,0
openstack%2Fneutron~master~I11d82380aad8655a4fdc9656737b912b16e2859b,openstack/neutron,master,I11d82380aad8655a4fdc9656737b912b16e2859b,Add RPC method to get networks for L3 and DHCP agents,MERGED,2019-07-14 13:25:38.000000000,2019-07-31 11:33:35.000000000,2019-07-31 11:33:35.000000000,"[{'_account_id': 841}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 12171}, {'_account_id': 20437}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28714}]","[{'number': 1, 'created': '2019-07-14 13:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/505dc6ebbb7b9b66182b2031bfead48c07bd53bb', 'message': '[POC][DNM] Add RPC method to get networks for L3 and DHCP agents\n\n- Added get_networks() RPC call for DHCP agent\n- Added get_networks() RPC call for L3 agent\n\nThis change is required in order to support out of tree\nMultiInterfaceDriver and IPoIBInterfaceDriver interface drivers\nas they require information on the network a port is being plugged\nto.\n\nThese RPCs will be passed as kwargs then loading the relevant\ninterface driver.\n\nget_networks() accepts **kwargs that directly map to the keyword\nattributes of:\nneutron.neutron_plugin_base_v2.NeutronPluginBaseV2.get_networks()\n\nChange-Id: I11d82380aad8655a4fdc9656737b912b16e2859b\nPartial-Bug: #1834176\n'}, {'number': 2, 'created': '2019-07-15 10:23:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d22d24a2801eba6bfcd4e05ca43272832ee2a40e', 'message': '[POC][DNM] Add RPC method to get networks for L3 and DHCP agents\n\n- Added get_networks() RPC call for DHCP agent\n- Added get_networks() RPC call for L3 agent\n\nThis change is required in order to support out of tree\nMultiInterfaceDriver and IPoIBInterfaceDriver interface drivers\nas they require information on the network a port is being plugged\nto.\n\nThese RPCs will be passed as kwargs then loading the relevant\ninterface driver.\n\nget_networks() accepts **kwargs that directly map to the keyword\nattributes of:\nneutron.neutron_plugin_base_v2.NeutronPluginBaseV2.get_networks()\n\nChange-Id: I11d82380aad8655a4fdc9656737b912b16e2859b\nPartial-Bug: #1834176\n'}, {'number': 3, 'created': '2019-07-21 13:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c7f1e21e72ba47229a25545d4cace469178b8202', 'message': 'Add RPC method to get networks for L3 and DHCP agents\n\n- Added get_networks() RPC call for DHCP agent\n- Added get_networks() RPC call for L3 agent\n\nThis change is required in order to support out of tree\nMultiInterfaceDriver and IPoIBInterfaceDriver interface drivers\nas they require information on the network a port is being plugged\nto.\n\nThese RPCs will be passed as kwargs when loading the relevant\ninterface driver.\n\nget_networks() keyword args directly map to the keyword arguments of:\nneutron.neutron_plugin_base_v2.NeutronPluginBaseV2.get_networks()\n\nChange-Id: I11d82380aad8655a4fdc9656737b912b16e2859b\nPartial-Bug: #1834176\n'}, {'number': 4, 'created': '2019-07-21 14:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3889cddf0521a98ff1a64efcd7cae6e286a2560a', 'message': 'Add RPC method to get networks for L3 and DHCP agents\n\n- Added get_networks() RPC call for DHCP agent\n- Added get_networks() RPC call for L3 agent\n\nThis change is required in order to support out of tree\nMultiInterfaceDriver and IPoIBInterfaceDriver interface drivers\nas they require information on the network a port is being plugged\nto.\n\nThese RPCs will be passed as kwargs when loading the relevant\ninterface driver.\n\nget_networks() keyword args directly map to the keyword arguments of:\nneutron.neutron_plugin_base_v2.NeutronPluginBaseV2.get_networks()\n\nChange-Id: I11d82380aad8655a4fdc9656737b912b16e2859b\nPartial-Bug: #1834176\n'}, {'number': 5, 'created': '2019-07-23 10:25:14.000000000', 'files': ['neutron/api/rpc/handlers/dhcp_rpc.py', 'neutron/agent/dhcp/agent.py', 'neutron/agent/l3/agent.py', 'neutron/api/rpc/handlers/l3_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c62c67f413865c4fa5a8d07fb8033d587e730a85', 'message': 'Add RPC method to get networks for L3 and DHCP agents\n\n- Added get_networks() RPC call for DHCP agent\n- Added get_networks() RPC call for L3 agent\n\nThis change is required in order to support out of tree\nMultiInterfaceDriver and IPoIBInterfaceDriver interface drivers\nas they require information on the network a port is being plugged\nto.\n\nThese RPCs will be passed as kwargs when loading the relevant\ninterface driver.\n\nget_networks() keyword args map to the keyword arguments of:\nneutron.neutron_plugin_base_v2.NeutronPluginBaseV2.get_networks()\n\nChange-Id: I11d82380aad8655a4fdc9656737b912b16e2859b\nPartial-Bug: #1834176\n'}]",6,670722,c62c67f413865c4fa5a8d07fb8033d587e730a85,35,8,5,28714,,,0,"Add RPC method to get networks for L3 and DHCP agents

- Added get_networks() RPC call for DHCP agent
- Added get_networks() RPC call for L3 agent

This change is required in order to support out of tree
MultiInterfaceDriver and IPoIBInterfaceDriver interface drivers
as they require information on the network a port is being plugged
to.

These RPCs will be passed as kwargs when loading the relevant
interface driver.

get_networks() keyword args map to the keyword arguments of:
neutron.neutron_plugin_base_v2.NeutronPluginBaseV2.get_networks()

Change-Id: I11d82380aad8655a4fdc9656737b912b16e2859b
Partial-Bug: #1834176
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/670722/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/api/rpc/handlers/dhcp_rpc.py', 'neutron/agent/dhcp/agent.py', 'neutron/agent/l3/agent.py', 'neutron/api/rpc/handlers/l3_rpc.py']",4,505dc6ebbb7b9b66182b2031bfead48c07bd53bb,bug/1834176," # 1.12 Added get_networks target = oslo_messaging.Target(version='1.12') def get_networks(self, context, **kwargs): """"""Retrieve and return a list of networks."""""" return self.plugin.get_networks(context, **kwargs)", target = oslo_messaging.Target(version='1.11'),25,2
openstack%2Fmasakari~master~I69bcd33e76d4847229abcf55f659d7218fa4c6c2,openstack/masakari,master,I69bcd33e76d4847229abcf55f659d7218fa4c6c2,Resolve functional gate job failure,MERGED,2019-07-30 12:55:56.000000000,2019-07-31 11:31:53.000000000,2019-07-31 11:31:53.000000000,"[{'_account_id': 1011}, {'_account_id': 3085}, {'_account_id': 8716}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 12:55:56.000000000', 'files': ['masakari/tests/functional/notification_base.py', 'masakari/tests/functional/test_hosts.py', 'masakari/tests/functional/test_segments.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/9a2ce34e64fff16f806b23d5a9bd575026d1094a', 'message': ""Resolve functional gate job failure\n\nWith switch to resource layer in openstacksdk [1], a wrong hypervisor\nattribute 'hypervisor_hostname' disappeared. Used a proper 'name'\nattribute instead.\n\n[1]: https://github.com/openstack/openstacksdk/commit/10447761405c7a4bab263d2b30b80641f54a36be\n\nChange-Id: I69bcd33e76d4847229abcf55f659d7218fa4c6c2\n""}]",0,673509,9a2ce34e64fff16f806b23d5a9bd575026d1094a,7,4,1,27302,,,0,"Resolve functional gate job failure

With switch to resource layer in openstacksdk [1], a wrong hypervisor
attribute 'hypervisor_hostname' disappeared. Used a proper 'name'
attribute instead.

[1]: https://github.com/openstack/openstacksdk/commit/10447761405c7a4bab263d2b30b80641f54a36be

Change-Id: I69bcd33e76d4847229abcf55f659d7218fa4c6c2
",git fetch https://review.opendev.org/openstack/masakari refs/changes/09/673509/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/tests/functional/notification_base.py', 'masakari/tests/functional/test_hosts.py', 'masakari/tests/functional/test_segments.py']",3,9a2ce34e64fff16f806b23d5a9bd575026d1094a,resolve_functional_gate_job_failure, host_name = self.hypervisors[0]['name'] host_name = self.hypervisors[0]['name'], host_name = self.hypervisors[0]['hypervisor_hostname'] host_name = self.hypervisors[0]['hypervisor_hostname'],10,10
openstack%2Fmurano-dashboard~master~I9f2b640b1d58bc4f3f559458d9eed92c9594e686,openstack/murano-dashboard,master,I9f2b640b1d58bc4f3f559458d9eed92c9594e686,Fix py27 UT gate,MERGED,2019-07-29 01:59:07.000000000,2019-07-31 11:15:03.000000000,2019-07-31 11:15:03.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-29 01:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/970da1f9b4e728625173f0d156f0804445024240', 'message': 'TEST\n\nChange-Id: I9f2b640b1d58bc4f3f559458d9eed92c9594e686\n'}, {'number': 2, 'created': '2019-07-29 08:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/4f4243f5bf21a1bd6faf31894847020b1def817b', 'message': 'TEST\n\nChange-Id: I9f2b640b1d58bc4f3f559458d9eed92c9594e686\n'}, {'number': 3, 'created': '2019-07-31 07:32:17.000000000', 'files': ['muranodashboard/tests/unit/environments/test_views.py', 'muranodashboard/tests/settings.py'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/3cb13c6c261aa75dad69faff4465f416870b25d5', 'message': ""Fix py27 UT gate\n\n1.Fix TypeError: 'Mock' object is not iterable error\n2.import openstack_dashboard.test.settings\n\nChange-Id: I9f2b640b1d58bc4f3f559458d9eed92c9594e686\n""}]",0,673193,3cb13c6c261aa75dad69faff4465f416870b25d5,10,2,3,14107,,,0,"Fix py27 UT gate

1.Fix TypeError: 'Mock' object is not iterable error
2.import openstack_dashboard.test.settings

Change-Id: I9f2b640b1d58bc4f3f559458d9eed92c9594e686
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/93/673193/3 && git format-patch -1 --stdout FETCH_HEAD,['muranodashboard/tests/settings.py'],1,970da1f9b4e728625173f0d156f0804445024240,,from horizon.test.settings import * # noqa , from horizon.test.settings import * # noqa ,2,3
openstack%2Fnova~master~I146cc9d4caafd0abd6b2642edb6eb59cd7e339b7,openstack/nova,master,I146cc9d4caafd0abd6b2642edb6eb59cd7e339b7,libvirt: Enable driver configures PMEM namespace,ABANDONED,2019-02-02 10:45:32.000000000,2019-07-31 11:13:54.000000000,,"[{'_account_id': 4393}, {'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23598}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-02-02 10:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e4435ec9878b3374411a7c63f91c7aab8081e71', 'message': 'libvirt: Enable driver configures PMEM namespace when initiating libvirt driver\n\nAdd two configure options for configuring the namespace:\n`CONF.libvirt.pmem_namespace_sizes`:\n    The sizes of namespaces on regions. e.g. region0:4096|8192\n`CONF.libvirt.pmem_namespace_prefix`:\n    The prefix is used to build the name for each namespace.\n    The namespace name will be the prefix + region_name + index.\n\nLibvirt driver will update PMEM namespaces by getting PMEM\nnamespaces info from db, host or config file and creating new\nPMEM namespaces if necessary.\n\nPartiallly-Implements: blueprint supporting virtual persistent memory\n\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n\nChange-Id: I146cc9d4caafd0abd6b2642edb6eb59cd7e339b7\n'}, {'number': 2, 'created': '2019-02-02 10:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/671fe84c256c9afa1f775d6775ed9a1e0c740f9b', 'message': 'libvirt: Enable driver configures PMEM namespace when initiating libvirt driver\n\nAdd two configure options for configuring the namespace:\n`CONF.libvirt.pmem_namespace_sizes`:\n    The sizes of namespaces on regions. e.g. region0:4096|8192\n`CONF.libvirt.pmem_namespace_prefix`:\n    The prefix is used to build the name for each namespace.\n    The namespace name will be the prefix + region_name + index.\n\nLibvirt driver will update PMEM namespaces by getting PMEM\nnamespaces info from db, host or config file and creating new\nPMEM namespaces if necessary.\n\nPartiallly-Implements: blueprint virtual-persistent-memory\n\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n\nChange-Id: I146cc9d4caafd0abd6b2642edb6eb59cd7e339b7\n'}, {'number': 3, 'created': '2019-02-03 01:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dfc035742236a8ed8dcb144aeebf06dbbea711c3', 'message': 'libvirt: Enable driver configures PMEM namespace when initiating libvirt driver\n\nAdd two configure options for configuring the namespace:\n`CONF.libvirt.pmem_namespace_sizes`:\n    The sizes of namespaces on regions. e.g. region0:4096|8192\n`CONF.libvirt.pmem_namespace_prefix`:\n    The prefix is used to build the name for each namespace.\n    The namespace name will be the prefix + region_name + index.\n\nLibvirt driver will update PMEM namespaces by getting PMEM\nnamespaces info from db, host or config file and creating new\nPMEM namespaces if necessary.\n\nPartiallly-Implements: blueprint supporting virtual persistent memory\n\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n\nChange-Id: I146cc9d4caafd0abd6b2642edb6eb59cd7e339b7\n'}, {'number': 4, 'created': '2019-02-03 01:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/469b5dac5426bc2ac6be522dabd1f164a5b3e970', 'message': 'libvirt: Enable driver configures PMEM namespace when initiating libvirt driver\n\nAdd two configure options for configuring the namespace:\n`CONF.libvirt.pmem_namespace_sizes`:\n    The sizes of namespaces on regions. e.g. region0:4096|8192\n`CONF.libvirt.pmem_namespace_prefix`:\n    The prefix is used to build the name for each namespace.\n    The namespace name will be the prefix + region_name + index.\n\nLibvirt driver will update PMEM namespaces by getting PMEM\nnamespaces info from db, host or config file and creating new\nPMEM namespaces if necessary.\n\nPartiallly-Implements: blueprint virtual-persistent-memory\n\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n\nChange-Id: I146cc9d4caafd0abd6b2642edb6eb59cd7e339b7\n'}, {'number': 5, 'created': '2019-02-22 07:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70a4da83ee71c1d405003e6118194bde1e6dfd36', 'message': 'libvirt: Enable driver configures PMEM namespace when initiating libvirt driver\n\nAdd two configure options for configuring the namespace:\n`CONF.libvirt.pmem_namespace_sizes`:\n    The sizes of namespaces on regions. e.g. region0:4096|8192\n`CONF.libvirt.pmem_namespace_prefix`:\n    The prefix is used to build the name for each namespace.\n    The namespace name will be the prefix + region_name + index.\n\nLibvirt driver will update PMEM namespaces by getting PMEM\nnamespaces info from db, host or config file and creating new\nPMEM namespaces if necessary.\n\nPartiallly-Implements: blueprint virtual-persistent-memory\n\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n\nChange-Id: I146cc9d4caafd0abd6b2642edb6eb59cd7e339b7\n'}, {'number': 6, 'created': '2019-02-22 10:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f950a45499406f70005684e3261fc7f925569a50', 'message': 'libvirt: Enable driver configures PMEM namespace when initiating libvirt driver\n\nAdd two configure options for configuring the namespace:\n`CONF.libvirt.pmem_namespace_sizes`:\n    The sizes of namespaces on regions. e.g. region0:4096|8192\n`CONF.libvirt.pmem_namespace_prefix`:\n    The prefix is used to build the name for each namespace.\n    The namespace name will be the prefix + region_name + index.\n\nLibvirt driver will update PMEM namespaces by getting PMEM\nnamespaces info from db, host or config file and creating new\nPMEM namespaces if necessary.\n\nPartiallly-Implements: blueprint virtual-persistent-memory\n\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n\nChange-Id: I146cc9d4caafd0abd6b2642edb6eb59cd7e339b7\n'}, {'number': 7, 'created': '2019-03-05 02:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/348eac9fd09db9af0ecbc94591efa7795cb9b4da', 'message': 'libvirt: Enable driver configures PMEM namespace when initiating libvirt driver\n\nAdd two configure options for configuring the namespace:\n`CONF.libvirt.pmem_namespace_sizes`:\n    The sizes of namespaces on regions. e.g. region0:4096|8192\n`CONF.libvirt.pmem_namespace_prefix`:\n    The prefix is used to build the name for each namespace.\n    The namespace name will be the prefix + region_name + index.\n\nLibvirt driver will update PMEM namespaces by getting PMEM\nnamespaces info from db, host or config file and creating new\nPMEM namespaces if necessary.\n\nPartiallly-Implements: blueprint virtual-persistent-memory\n\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n\nChange-Id: I146cc9d4caafd0abd6b2642edb6eb59cd7e339b7\n'}, {'number': 8, 'created': '2019-03-06 05:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c889add4bc521e392f2b88e33384adf7649c5522', 'message': 'libvirt: Enable driver configures PMEM namespace when initiating libvirt driver\n\nAdd two configure options for configuring the namespace:\n`CONF.libvirt.pmem_namespace_sizes`:\n    The sizes of namespaces on regions. e.g. region0:4096|8192\n`CONF.libvirt.pmem_namespace_prefix`:\n    The prefix is used to build the name for each namespace.\n    The namespace name will be the prefix + region_name + index.\n\nLibvirt driver will update PMEM namespaces by getting PMEM\nnamespaces info from db, host or config file and creating new\nPMEM namespaces if necessary.\n\nPartiallly-Implements: blueprint virtual-persistent-memory\n\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n\nChange-Id: I146cc9d4caafd0abd6b2642edb6eb59cd7e339b7\n'}, {'number': 9, 'created': '2019-03-14 05:20:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/79ef5d7cde49a771568faf8a4f19adf5e3dce617', 'message': 'libvirt: Enable driver configures PMEM namespace when initiating libvirt driver\n\nAdd two configure options for configuring the namespace:\n`CONF.libvirt.pmem_namespace_sizes`:\n    The sizes of namespaces on regions. e.g. region0:4096|8192\n`CONF.libvirt.pmem_namespace_prefix`:\n    The prefix is used to build the name for each namespace.\n    The namespace name will be the prefix + region_name + index.\n\nLibvirt driver will update PMEM namespaces by getting PMEM\nnamespaces info from db, host or config file and creating new\nPMEM namespaces if necessary.\n\nPartiallly-Implements: blueprint virtual-persistent-memory\n\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n\nChange-Id: I146cc9d4caafd0abd6b2642edb6eb59cd7e339b7\n'}, {'number': 10, 'created': '2019-06-03 07:50:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f1d484ec0b3ff4ec6aff66e7a48bd21eeb4e5e1d', 'message': 'libvirt: Enable driver configures PMEM namespace\n\nAdd one configure option for configuring the namespace:\n`CONF.libvirt.pmem_namespace_sizes`:\n    The sizes of namespaces.\n    e.g. ns0:4GB, ns1:SMALL, ns2:LARGE\n\nLibvirt driver will get and update PMEM namespaces info\nfrom host and config file.\n\nChange-Id: I146cc9d4caafd0abd6b2642edb6eb59cd7e339b7\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 11, 'created': '2019-07-04 03:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/68fe051cc9efcaa021d45a5a3032d4d057cd26ca', 'message': 'libvirt: Enable driver configures PMEM namespace\n\nAdd one configure option for configuring the namespace:\n`CONF.libvirt.pmem_namespaces` of string type in below format:\n""$LABEL:$NSNAME[|$NSNAME][,$LABEL:$NSNAME[|$NSNAME]]""\n\ne.g. ""128G:ns0|ns1|ns2|ns3,262144MB:ns4|ns5,MEDIUM:ns6|ns7""\n\nLibvirt driver will get and update PMEM namespaces info\nfrom host and config file.\n\nChange-Id: I146cc9d4caafd0abd6b2642edb6eb59cd7e339b7\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 12, 'created': '2019-07-04 03:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1ab48eb14f6c38374edbb368b9074f8701ee5bf9', 'message': 'libvirt: Enable driver configures PMEM namespace\n\nAdd one configure option for configuring the namespace:\n`CONF.libvirt.pmem_namespaces` of string type in below format:\n""$LABEL:$NSNAME[|$NSNAME][,$LABEL:$NSNAME[|$NSNAME]]""\n\ne.g. ""128G:ns0|ns1|ns2|ns3,262144MB:ns4|ns5,MEDIUM:ns6|ns7""\n\nLibvirt driver will get and update PMEM namespaces info\nfrom host and config file.\n\nChange-Id: I146cc9d4caafd0abd6b2642edb6eb59cd7e339b7\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 13, 'created': '2019-07-04 10:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5bb5ada95b538c69cfd3c4d4bbcdc59f979f43c', 'message': 'libvirt: Enable driver configures PMEM namespace\n\nAdd one configure option CONF.libvirt.pmem_namespaces:\n""$LABEL:$NSNAME[|$NSNAME][,$LABEL:$NSNAME[|$NSNAME]]""\n\ne.g. ""128G:ns0|ns1|ns2|ns3,262144MB:ns4|ns5,MEDIUM:ns6|ns7""\n\nLibvirt driver will get and update PMEM namespaces info\nfrom host and config file.\n\nChange-Id: I146cc9d4caafd0abd6b2642edb6eb59cd7e339b7\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 14, 'created': '2019-07-10 09:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7226501c202eb3a78ed64e066435f0145b555eb6', 'message': 'libvirt: Enable driver configures PMEM namespace\n\nSuppose that the configuration option CONF.libvirt.pmem_namespaces\nis introduced. Libvirt driver will get and update PMEM namespaces info\nfrom host and configuration.\n\nChange-Id: I146cc9d4caafd0abd6b2642edb6eb59cd7e339b7\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 15, 'created': '2019-07-26 11:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b3c6c0c004de6d54001f7dec3d0001683a8f506d', 'message': 'libvirt: Enable driver configures PMEM namespace\n\nAdd one configuration option CONF.libvirt.pmem_namespaces:\n""$LABEL:$NSNAME[|$NSNAME][,$LABEL:$NSNAME[|$NSNAME]]""\n\ne.g. ""128G:ns0|ns1|ns2|ns3,262144MB:ns4|ns5,MEDIUM:ns6|ns7""\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces info from host and config file.\n\nChange-Id: I146cc9d4caafd0abd6b2642edb6eb59cd7e339b7\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 16, 'created': '2019-07-27 05:32:44.000000000', 'files': ['nova/exception.py', 'nova/virt/libvirt/driver.py', 'nova/privsep/libvirt.py', 'nova/conf/libvirt.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3bbf0b01f1d4553934d0dae065862c58eec20f52', 'message': 'libvirt: Enable driver configures PMEM namespace\n\nAdd one configuration option CONF.libvirt.pmem_namespaces:\n""$LABEL:$NSNAME[|$NSNAME][,$LABEL:$NSNAME[|$NSNAME]]""\n\ne.g. ""128G:ns0|ns1|ns2|ns3,262144MB:ns4|ns5,MEDIUM:ns6|ns7""\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces info from host and config file.\n\nChange-Id: I146cc9d4caafd0abd6b2642edb6eb59cd7e339b7\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}]",104,634549,3bbf0b01f1d4553934d0dae065862c58eec20f52,130,16,16,23598,,,0,"libvirt: Enable driver configures PMEM namespace

Add one configuration option CONF.libvirt.pmem_namespaces:
""$LABEL:$NSNAME[|$NSNAME][,$LABEL:$NSNAME[|$NSNAME]]""

e.g. ""128G:ns0|ns1|ns2|ns3,262144MB:ns4|ns5,MEDIUM:ns6|ns7""

Add related functions to enable libvirt driver to get PMEM
namespaces info from host and config file.

Change-Id: I146cc9d4caafd0abd6b2642edb6eb59cd7e339b7
Partially-Implements: blueprint virtual-persistent-memory
Co-Authored-By: He Jie Xu <hejie.xu@intel.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/634549/16 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/virt/libvirt/driver.py', 'nova/privsep/libvirt.py', 'nova/conf/libvirt.py', 'nova/virt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",6,7e4435ec9878b3374411a7c63f91c7aab8081e71,bp/virtual-persistent-memory," class LibvirtPMEMNamespaceTests(test.NoDBTestCase): def setUp(self): super(LibvirtPMEMNamespaceTests, self).setUp() self.useFixture(fakelibvirt.FakeLibvirtFixture()) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver.' 'get_pmem_namespaces') def test_get_pmem_nss_in_config(self, mock_get_pmem_nss): CONF.set_override(""pmem_namespace_sizes"", ['region0:4096|4096'], group='libvirt') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) pmem_nss_in_config = drvr.get_pmem_namespaces_in_config() expected_pmem_nss_in_config = {} expected_pmem_nss_in_config['pmem_namespace_region0_0'] = \ libvirt_driver.PMEMNamespace( uuid=None, name='pmem_namespace_region0_0', region=0, dev=None, size_mb=4096, alignment=None, numa_node=None, assigned=None) expected_pmem_nss_in_config['pmem_namespace_region0_1'] = \ libvirt_driver.PMEMNamespace( uuid=None, name='pmem_namespace_region0_1', region=0, dev=None, size_mb=4096, alignment=None, numa_node=None, assigned=None) self.assertEqual(expected_pmem_nss_in_config, pmem_nss_in_config) @mock.patch('nova.privsep.libvirt.get_pmem_namespaces') def test_get_pmem_nss_on_host(self, mock_get_nss): mock_get_nss.return_value = \ '[{""dev"":""namespace0.0"",' + \ '""mode"":""devdax"",' + \ '""map"":""mem"",' + \ '""size"":""4.00 GiB (4.29 GB)"",' + \ '""uuid"":""uuid_0"",' + \ '""daxregion"":{""id"": 0, ""size"": ""4.00 GiB (4.29 GB)"",""align"": 2097152,' + \ '""devices"":[{""chardev"":""dax0.0"",' + \ '""size"":""4.00 GiB (4.29 GB)""}]},' + \ '""name"":""pmem_namespace_region0_0""},' + \ '{""dev"":""namespace0.1"",' + \ '""mode"":""devdax"",' + \ '""map"":""mem"",' + \ '""size"":""4.00 GiB (4.29 GB)"",' + \ '""uuid"":""uuid_1"",' + \ '""daxregion"":{""id"": 0, ""size"": ""4.00 GiB (4.29 GB)"",""align"": 2097152,' + \ '""devices"":[{""chardev"":""dax0.1"",' + \ '""size"":""4.00 GiB (4.29 GB)""}]},' + \ '""name"":""pmem_namespace_region0_1""}]' drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) pmem_nss_on_host = drvr.get_pmem_namespaces_on_host() expected_pmem_nss_on_host = {} expected_pmem_nss_on_host['pmem_namespace_region0_0'] = \ libvirt_driver.PMEMNamespace( uuid='uuid_0', name='pmem_namespace_region0_0', region=0, dev='dax0.0', size_mb=None, alignment=2097152, numa_node=None, assigned=None) expected_pmem_nss_on_host['pmem_namespace_region0_1'] = \ libvirt_driver.PMEMNamespace( uuid='uuid_1', name='pmem_namespace_region0_1', region=0, dev='dax0.1', size_mb=None, alignment=2097152, numa_node=None, assigned=None) self.assertEqual(expected_pmem_nss_on_host, pmem_nss_on_host) @mock.patch.object(libvirt_driver.LibvirtDriver, '_get_host_numa_topology_from_db') def test_get_pmem_nss_from_db(self, mock_get_numatopo): pmem_namespaces = [ objects.PMEMNamespace( uuid='uuid_0', name='pmem_namespace_region0_0', region=0, dev='dax0.0', size_mb=4096, alignment=2097152, assigned=False), objects.PMEMNamespace( uuid='uuid_1', name='pmem_namespace_region0_1', region=0, dev='dax0.1', size_mb=4096, alignment=2097152, assigned=True)] mock_get_numatopo.return_value = objects.NUMATopology( cells=[ objects.NUMACell( id=0, cpuset=set([1, 2]), siblings=[set([1]), set([2])], memory=1024, mempages=[], pmem_namespaces=pmem_namespaces)]) expected_pmem_nss_from_db = {} expected_pmem_nss_from_db['pmem_namespace_region0_0'] = \ libvirt_driver.PMEMNamespace( uuid='uuid_0', name='pmem_namespace_region0_0', region=0, dev='dax0.0', size_mb=4096, alignment=2097152, numa_node=0, assigned=False) expected_pmem_nss_from_db['pmem_namespace_region0_1'] = \ libvirt_driver.PMEMNamespace( uuid='uuid_1', name='pmem_namespace_region0_1', region=0, dev='dax0.1', size_mb=4096, alignment=2097152, numa_node=0, assigned=True) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) pmem_nss_from_db = drvr.get_pmem_namespaces_from_db() self.assertEqual(expected_pmem_nss_from_db, pmem_nss_from_db) @mock.patch.object(libvirt_driver.LibvirtDriver, 'get_pmem_namespaces_from_db') @mock.patch.object(libvirt_driver.LibvirtDriver, 'get_pmem_namespaces_on_host') def test_get_pmem_namespaces(self, mock_pmem_nss_on_host, mock_pmem_nss_from_db): CONF.set_override(""pmem_namespace_sizes"", ['region0:4096|4096'], group='libvirt') pmem_nss_on_host = {} pmem_nss_on_host['pmem_namespace_region0_0'] = \ libvirt_driver.PMEMNamespace( uuid='uuid_0', name='pmem_namespace_region0_0', region=0, dev='dax0.0', size_mb=None, alignment=2097152, numa_node=None, assigned=None) pmem_nss_on_host['pmem_namespace_region0_1'] = \ libvirt_driver.PMEMNamespace( uuid='uuid_1', name='pmem_namespace_region0_1', region=0, dev='dax0.1', size_mb=None, alignment=2097152, numa_node=None, assigned=None) mock_pmem_nss_on_host.return_value = pmem_nss_on_host pmem_nss_from_db = {} pmem_nss_from_db['pmem_namespace_region0_0'] = \ libvirt_driver.PMEMNamespace( uuid='uuid_0', name='pmem_namespace_region0_0', region=0, dev='dax0.0', size_mb=4096, alignment=2097152, numa_node=0, assigned=False) pmem_nss_from_db['pmem_namespace_region0_1'] = \ libvirt_driver.PMEMNamespace( uuid='uuid_1', name='pmem_namespace_region0_1', region=0, dev='dax0.1', size_mb=4096, alignment=2097152, numa_node=0, assigned=True) mock_pmem_nss_from_db.return_value = pmem_nss_from_db expected_pmem_nss = {0: [ libvirt_driver.PMEMNamespace( uuid='uuid_0', name='pmem_namespace_region0_0', region=0, dev='dax0.0', size_mb=4096, alignment=2097152, numa_node=0, assigned=False), libvirt_driver.PMEMNamespace( uuid='uuid_1', name='pmem_namespace_region0_1', region=0, dev='dax0.1', size_mb=4096, alignment=2097152, numa_node=0, assigned=False)]} drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) pmem_nss = drvr.get_pmem_namespaces() for key in expected_pmem_nss.keys(): self.assertEqual(sorted(expected_pmem_nss[key]), sorted(pmem_nss[key])) @mock.patch('nova.privsep.libvirt.create_pmem_namespace') def test_pmem_ns_create(self, mock_create_ns): mock_create_ns.return_value = \ '{""dev"":""namespace0.0"",' + \ '""mode"":""devdax"",' + \ '""map"":""mem"",' + \ '""size"":""4.00 GiB (4.29 GB)"",' + \ '""uuid"":""uuid_0"",' + \ '""raw_uuid"":""raw_uuid_0"",' + \ '""daxregion"":{""id"": 0, ""size"": ""4.00 GiB (4.29 GB)"",""align"": 2097152,' + \ '""devices"":[{""chardev"":""dax0.0"",' + \ '""size"":""4.00 GiB (4.29 GB)""}]},' + \ '""name"":""pmem_namespace_region0_0"",' + \ '""numa_node"":0}' drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) pmem_ns_created = drvr._create_namespace( name='pmem_namespace_region0_0', region=0, size=4096) expected_pmem_ns = libvirt_driver.PMEMNamespace( uuid=""uuid_0"", name='pmem_namespace_region0_0', region=0, dev='dax0.0', size_mb=4096, alignment=2097152, numa_node=0, assigned=False ) self.assertEqual(expected_pmem_ns, pmem_ns_created) @mock.patch('nova.privsep.libvirt.create_pmem_namespace') def test_pmem_ns_create_failed(self, mock_create_ns): mock_create_ns.return_value = \ 'failed to create namespace: ' + \ 'No such device or address' drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) self.assertRaises(exception.PMEMNamespaceCreateFailed, drvr._create_namespace, 'pmem_namespace_region0_0', 0, 4096)",,401,0
openstack%2Ftripleo-upgrade~master~Ife7cc6e6ca261ccfd2ea50a145ef26092f543b1f,openstack/tripleo-upgrade,master,Ife7cc6e6ca261ccfd2ea50a145ef26092f543b1f,Drop MongoDB service from custom roles_data.,MERGED,2019-07-10 09:19:35.000000000,2019-07-31 11:10:59.000000000,2019-07-30 14:18:47.000000000,"[{'_account_id': 8042}, {'_account_id': 11090}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 27141}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-07-10 09:19:35.000000000', 'files': ['tasks/common/adjust-roles-data.yaml', 'tasks/upgrade/overcloud_upgrade_prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/359db7c0006c13e4f754003e911ce861f577b3e8', 'message': 'Drop MongoDB service from custom roles_data.\n\nAs documented in the Stein upgrades guide [0], we need to\nremove the MongDB service from the roles_data in the case\na custom one was appended during upgrade prepare step.\n\n[0] - https://gitlab.cee.redhat.com/osp15/osp-upgrade-el8/tree/master#only-for-composable-roles-deployments-skip-this-line-in-monolithic-setup\n\nChange-Id: Ife7cc6e6ca261ccfd2ea50a145ef26092f543b1f\n'}]",2,670019,359db7c0006c13e4f754003e911ce861f577b3e8,15,7,1,26343,,,0,"Drop MongoDB service from custom roles_data.

As documented in the Stein upgrades guide [0], we need to
remove the MongDB service from the roles_data in the case
a custom one was appended during upgrade prepare step.

[0] - https://gitlab.cee.redhat.com/osp15/osp-upgrade-el8/tree/master#only-for-composable-roles-deployments-skip-this-line-in-monolithic-setup

Change-Id: Ife7cc6e6ca261ccfd2ea50a145ef26092f543b1f
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/19/670019/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/adjust-roles-data.yaml', 'tasks/upgrade/overcloud_upgrade_prepare.yml']",2,359db7c0006c13e4f754003e911ce861f577b3e8,,- name: adjust role-data for R->S upgrade,- name: adjust role-data for P->Q upgrade,7,1
openstack%2Ftempest~master~I8efedb8c5ae073bd2cb4034369bfcff4b67eb868,openstack/tempest,master,I8efedb8c5ae073bd2cb4034369bfcff4b67eb868,Use memcached based cache in nova in all devstack-tempest jobs,MERGED,2019-07-25 12:49:07.000000000,2019-07-31 11:07:31.000000000,2019-07-30 10:02:03.000000000,"[{'_account_id': 4146}, {'_account_id': 4694}, {'_account_id': 5689}, {'_account_id': 5690}, {'_account_id': 5803}, {'_account_id': 6873}, {'_account_id': 8449}, {'_account_id': 8556}, {'_account_id': 11604}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 14070}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 28006}]","[{'number': 1, 'created': '2019-07-25 12:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/494d0ded8fb283c4f0156790998ee904db29d5c0', 'message': ""Use memcached based cache in nova in all devstack-tempest jobs\n\nUsing memcached based cache for metadata api to cache data for\ninstance always after firts metadata request is send can solve\nproblems with unable to ssh to instance due to not configured\npublic-key on instance.\n\nIn Nova metadata api service data related to one instance should\nbe cached after it is collected first time. So e.g. CirrOS based\nimage first sends request to get instance-id and next request is\nto get public-key.\nIf those two requests will be processed by 2 different workers on\nNova's side, it will collect all data for instance twice. And if\nthis will take more than 10 seconds in case of request to get\npublic-keys, CirrOS script will fail and not configure public-key\non guest VM.\n\nUsing memcached based script will make this cached data available\nfor each worker so it will be cached always during processing\ninstance-id request. And this request for instance-id is retried\nby CirrOS image in case of failure so this shoudn't cause problems.\n\nChange-Id: I8efedb8c5ae073bd2cb4034369bfcff4b67eb868\nClose-bug: #1836642\n""}, {'number': 2, 'created': '2019-07-26 07:34:54.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/eb0a2cc5f240d52efa3a58c5a1ba8821bae3147e', 'message': ""Use memcached based cache in nova in all devstack-tempest jobs\n\nUsing memcached based cache for metadata api to cache data for\ninstance always after firts metadata request is send can solve\nproblems with unable to ssh to instance due to not configured\npublic-key on instance.\n\nIn Nova metadata api service data related to one instance should\nbe cached after it is collected first time. So e.g. CirrOS based\nimage first sends request to get instance-id and next request is\nto get public-key.\nIf those two requests will be processed by 2 different workers on\nNova's side, it will collect all data for instance twice. And if\nthis will take more than 10 seconds in case of request to get\npublic-keys, CirrOS script will fail and not configure public-key\non guest VM.\n\nUsing memcached based script will make this cached data available\nfor each worker so it will be cached always during processing\ninstance-id request. And this request for instance-id is retried\nby CirrOS image in case of failure so this shoudn't cause problems.\n\nChange-Id: I8efedb8c5ae073bd2cb4034369bfcff4b67eb868\nCloses-bug: #1836642\nCloses-bug: #1808010\n""}]",11,672715,eb0a2cc5f240d52efa3a58c5a1ba8821bae3147e,30,15,2,11975,,,0,"Use memcached based cache in nova in all devstack-tempest jobs

Using memcached based cache for metadata api to cache data for
instance always after firts metadata request is send can solve
problems with unable to ssh to instance due to not configured
public-key on instance.

In Nova metadata api service data related to one instance should
be cached after it is collected first time. So e.g. CirrOS based
image first sends request to get instance-id and next request is
to get public-key.
If those two requests will be processed by 2 different workers on
Nova's side, it will collect all data for instance twice. And if
this will take more than 10 seconds in case of request to get
public-keys, CirrOS script will fail and not configure public-key
on guest VM.

Using memcached based script will make this cached data available
for each worker so it will be cached always during processing
instance-id request. And this request for instance-id is retried
by CirrOS image in case of failure so this shoudn't cause problems.

Change-Id: I8efedb8c5ae073bd2cb4034369bfcff4b67eb868
Closes-bug: #1836642
Closes-bug: #1808010
",git fetch https://review.opendev.org/openstack/tempest refs/changes/15/672715/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,494d0ded8fb283c4f0156790998ee904db29d5c0,bug/1836642," post-config: $NOVA_CONF: cache: memcache_servers: ""localhost:11211"" backend: ""dogpile.cache.memcached"" enabled: ""True""",,6,0
openstack%2Fopenstack-helm-images~master~I678cdaf4a7f2072d5dd9bb8618e0beb8f3a05655,openstack/openstack-helm-images,master,I678cdaf4a7f2072d5dd9bb8618e0beb8f3a05655,Add jq package for neutron image,MERGED,2019-07-19 09:45:50.000000000,2019-07-31 10:33:10.000000000,2019-07-31 10:27:07.000000000,"[{'_account_id': 1091}, {'_account_id': 9963}, {'_account_id': 16353}, {'_account_id': 17068}, {'_account_id': 17130}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 21883}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 29668}, {'_account_id': 30220}]","[{'number': 1, 'created': '2019-07-19 09:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/705805bd4628349296069d4bb8dadd002b6acaf9', 'message': ""Add jq package for neutron image\n\nIn neutron-openvswitch-init.sh script, auto_bridge_add json file is\nparsed. As of now the json file is very simple, we parse it with command\n'sed' and 'tr'[1]. While we are working on ovs-dpdk support, which makes\nthe auto_bridge_add json file more complicated(pci_id, n_rxq, etc.).\n\nThis patch is to include jq package to parse json.\n\n[1]\nhttps://github.com/openstack/openstack-helm/blob/dadf9946e076df2b09556f4a18107dc487788cdd/neutron/templates/bin/_neutron-openvswitch-agent-init.sh.tpl#L40\n\nChange-Id: I678cdaf4a7f2072d5dd9bb8618e0beb8f3a05655\n""}, {'number': 2, 'created': '2019-07-19 11:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/0f71b07a99ed59747219e9cd6e5a4eb26704412c', 'message': ""Add jq package for neutron image\n\nIn neutron-openvswitch-init.sh script, auto_bridge_add json file is\nparsed. As of now the json file is very simple, we parse it with command\n'sed' and 'tr'[1]. While we are working on ovs-dpdk support, which makes\nthe auto_bridge_add json file more complicated(pci_id, n_rxq, etc.).\n\nThis patch is to include jq package to parse json.\n\n[1]\nhttps://github.com/openstack/openstack-helm/blob/dadf9946e076df2b09556f4a18107dc487788cdd/neutron/templates/bin/_neutron-openvswitch-agent-init.sh.tpl#L40\n\nChange-Id: I678cdaf4a7f2072d5dd9bb8618e0beb8f3a05655\n""}, {'number': 3, 'created': '2019-07-20 09:05:04.000000000', 'files': ['zuul.d/openstack-loci.yaml', 'openstack/loci/build.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/ab9cc8a78a3f3aeddd0e5daf1be4bd414f30b9f4', 'message': ""Add jq package for neutron image\n\nIn neutron-openvswitch-init.sh script, auto_bridge_add json file is\nparsed. As of now the json file is very simple, we parse it with command\n'sed' and 'tr'[1]. While we are working on ovs-dpdk support, which makes\nthe auto_bridge_add json file more complicated(pci_id, n_rxq, etc.).\n\nThis patch is to include jq package to parse json.\n\n[1]\nhttps://github.com/openstack/openstack-helm/blob/dadf9946e076df2b09556f4a18107dc487788cdd/neutron/templates/bin/_neutron-openvswitch-agent-init.sh.tpl#L40\n\nChange-Id: I678cdaf4a7f2072d5dd9bb8618e0beb8f3a05655\n""}]",4,671696,ab9cc8a78a3f3aeddd0e5daf1be4bd414f30b9f4,24,12,3,29668,,,0,"Add jq package for neutron image

In neutron-openvswitch-init.sh script, auto_bridge_add json file is
parsed. As of now the json file is very simple, we parse it with command
'sed' and 'tr'[1]. While we are working on ovs-dpdk support, which makes
the auto_bridge_add json file more complicated(pci_id, n_rxq, etc.).

This patch is to include jq package to parse json.

[1]
https://github.com/openstack/openstack-helm/blob/dadf9946e076df2b09556f4a18107dc487788cdd/neutron/templates/bin/_neutron-openvswitch-agent-init.sh.tpl#L40

Change-Id: I678cdaf4a7f2072d5dd9bb8618e0beb8f3a05655
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/96/671696/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/openstack-loci.yaml', 'openstack/loci/build.sh']",2,705805bd4628349296069d4bb8dadd002b6acaf9,add_jq,"neutron_dist_packages=${neutron_sriov_dist_packages:-""'jq'""}",,2,0
openstack%2Ftripleo-upgrade~master~Ic5289010ad874037c779a573e2baef0709b7c900,openstack/tripleo-upgrade,master,Ic5289010ad874037c779a573e2baef0709b7c900,Adapt nic templates play for Rocky to Stein upgrade.,MERGED,2019-07-08 13:09:32.000000000,2019-07-31 10:21:07.000000000,2019-07-31 10:21:07.000000000,"[{'_account_id': 8042}, {'_account_id': 8532}, {'_account_id': 11090}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-07-08 13:09:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e23e3dc23b15b2770842c9a55094406c594b837c', 'message': ""Adapt nic templates play for Rocky to Stein upgrade.\n\nAs well as in the rocky upgrade, some NIC parameters have been modified\nand a nic templates adaptation is needed. As this upgrade covers the\nRocky to Stein upgrade, we'll simply reuse (and adapt) the tasks existing\nin the Rocky upgrade.\n\nChange-Id: Ic5289010ad874037c779a573e2baef0709b7c900\n""}, {'number': 2, 'created': '2019-07-08 15:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4d8ec9d334b0838ec118ef818e0d5a267a7dfb6a', 'message': ""Adapt nic templates play for Rocky to Stein upgrade.\n\nAs well as in the rocky upgrade, some NIC parameters have been modified\nand a nic templates adaptation is needed. As this upgrade covers the\nRocky to Stein upgrade, we'll simply reuse (and adapt) the tasks existing\nin the Rocky upgrade.\n\nChange-Id: Ic5289010ad874037c779a573e2baef0709b7c900\n""}, {'number': 3, 'created': '2019-07-10 06:38:13.000000000', 'files': ['tasks/common/rocky_to_stein_adjust_nic_templates.yaml', 'tasks/upgrade/create-overcloud-upgrade-scripts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4a0ec40b192b1b6d7cf7027ccec358fd8d00cad3', 'message': ""Adapt nic templates play for Rocky to Stein upgrade.\n\nAs well as in the rocky upgrade, some NIC parameters have been modified [0]\nand a nic templates adaptation is needed. As this upgrade covers the\nRocky to Stein upgrade, we'll simply reuse (and adapt) the tasks existing\nin the Rocky upgrade.\n\n[0] - https://review.opendev.org/#/c/604943/\n\nChange-Id: Ic5289010ad874037c779a573e2baef0709b7c900\n""}]",3,669659,4a0ec40b192b1b6d7cf7027ccec358fd8d00cad3,18,7,3,26343,,,0,"Adapt nic templates play for Rocky to Stein upgrade.

As well as in the rocky upgrade, some NIC parameters have been modified [0]
and a nic templates adaptation is needed. As this upgrade covers the
Rocky to Stein upgrade, we'll simply reuse (and adapt) the tasks existing
in the Rocky upgrade.

[0] - https://review.opendev.org/#/c/604943/

Change-Id: Ic5289010ad874037c779a573e2baef0709b7c900
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/59/669659/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/rocky_to_stein_adjust_nic_templates.yaml', 'tasks/upgrade/create-overcloud-upgrade-scripts.yaml']",2,e23e3dc23b15b2770842c9a55094406c594b837c,,- name: update nic configs to stein format import_tasks: ../common/rocky_to_stein_adjust_nic_templates.yaml,- name: update nic configs to rocky format import_tasks: ../common/queens_to_rocky_adjust_nic_templates.yaml,5,4
openstack%2Fneutron-lib~master~Ia756506e25d7b74030f55d1032b5cb71f5e1925b,openstack/neutron-lib,master,Ia756506e25d7b74030f55d1032b5cb71f5e1925b,Update api-ref location,MERGED,2019-07-30 17:41:22.000000000,2019-07-31 10:03:54.000000000,2019-07-31 10:03:54.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-07-30 17:41:22.000000000', 'files': ['neutron_lib/placement/constants.py', 'api-ref/source/v2/lbaas-v2.inc'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/d27313f42588c397fd8d8f6d84e199404385eb54', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: Ia756506e25d7b74030f55d1032b5cb71f5e1925b\n""}]",0,673589,d27313f42588c397fd8d8f6d84e199404385eb54,8,4,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: Ia756506e25d7b74030f55d1032b5cb71f5e1925b
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/89/673589/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/placement/constants.py', 'api-ref/source/v2/lbaas-v2.inc']",2,d27313f42588c397fd8d8f6d84e199404385eb54,retire-api-site, <https://docs.openstack.org/api-ref/load-balancer/v2/index.html>`_ is, <https://developer.openstack.org/api-ref/load-balancer/v2/index.html>`_ is,2,2
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I4f2f69f00cad54c3c767f54de54dc9a061b02b8d,openstack/tripleo-heat-templates,stable/queens,I4f2f69f00cad54c3c767f54de54dc9a061b02b8d,Make sure libvirt-guests get started,MERGED,2019-07-29 10:07:47.000000000,2019-07-31 09:38:33.000000000,2019-07-31 09:38:32.000000000,"[{'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-07-29 10:07:47.000000000', 'files': ['puppet/services/nova-compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/55f64af267cd13de2ee6adfa25e53c47a51a1738', 'message': 'Make sure libvirt-guests get started\n\nRight now the libvirt-guests gets enabled, but not started during\ninitial deploy. Make sure we start the service.\n\n Conflicts:\n\tdeployment/nova/nova-compute-container-puppet.yaml\n\nChange-Id: I4f2f69f00cad54c3c767f54de54dc9a061b02b8d\n(cherry picked from commit cf2e5926e480a36246c912ff7ff4ab58095fe7cd)\n(cherry picked from commit 5b681900cbacdb2e30ba2833b0e8719e802d50e6)\n(cherry picked from commit c93ea353f01312c62f581c68958dea1533634855)\n'}]",0,673256,55f64af267cd13de2ee6adfa25e53c47a51a1738,13,6,1,17216,,,0,"Make sure libvirt-guests get started

Right now the libvirt-guests gets enabled, but not started during
initial deploy. Make sure we start the service.

 Conflicts:
	deployment/nova/nova-compute-container-puppet.yaml

Change-Id: I4f2f69f00cad54c3c767f54de54dc9a061b02b8d
(cherry picked from commit cf2e5926e480a36246c912ff7ff4ab58095fe7cd)
(cherry picked from commit 5b681900cbacdb2e30ba2833b0e8719e802d50e6)
(cherry picked from commit c93ea353f01312c62f581c68958dea1533634855)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/56/673256/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/nova-compute.yaml'],1,55f64af267cd13de2ee6adfa25e53c47a51a1738,bug/1778216-4, state: started,,1,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I9e13491b6f86143f507d2b56fa1eed83204418d0,openstack/tripleo-heat-templates,stable/queens,I9e13491b6f86143f507d2b56fa1eed83204418d0,Fix resume_guests_state_on_host_boot_enabled fact,MERGED,2019-07-26 11:36:51.000000000,2019-07-31 09:38:31.000000000,2019-07-31 09:38:30.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-07-26 11:36:51.000000000', 'files': ['puppet/services/nova-compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2fac9b80f5ea135a5a2e7c50c80fa93e420e8afa', 'message': 'Fix resume_guests_state_on_host_boot_enabled fact\n\nNovaResumeGuestsStateOnHostBoot is a role parameter so we\nneed to get the value from there.\n\nConflicts:\n      deployment/nova/nova-compute-container-puppet.yaml\n\nChange-Id: I9e13491b6f86143f507d2b56fa1eed83204418d0\nCloses-Bug: 1837731\n(cherry picked from commit 835dcd56c95c304830ed14c8393a99ce2881ed5e)\n(cherry picked from commit 8fe366434d622f446babc0d62acd65d44efce50d)\n(cherry picked from commit 28fb474e7880135649b3cac70e4dc286d9ee4ab4)\n'}]",0,672959,2fac9b80f5ea135a5a2e7c50c80fa93e420e8afa,8,6,1,17216,,,0,"Fix resume_guests_state_on_host_boot_enabled fact

NovaResumeGuestsStateOnHostBoot is a role parameter so we
need to get the value from there.

Conflicts:
      deployment/nova/nova-compute-container-puppet.yaml

Change-Id: I9e13491b6f86143f507d2b56fa1eed83204418d0
Closes-Bug: 1837731
(cherry picked from commit 835dcd56c95c304830ed14c8393a99ce2881ed5e)
(cherry picked from commit 8fe366434d622f446babc0d62acd65d44efce50d)
(cherry picked from commit 28fb474e7880135649b3cac70e4dc286d9ee4ab4)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/59/672959/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/nova-compute.yaml'],1,2fac9b80f5ea135a5a2e7c50c80fa93e420e8afa,bug/1837731," resume_guests_state_on_host_boot: NovaResumeGuestsStateOnHostBoot resume_guests_state_on_host_boot_enabled: {get_attr: [RoleParametersValue, value, resume_guests_state_on_host_boot]}", resume_guests_state_on_host_boot_enabled: {get_param: NovaResumeGuestsStateOnHostBoot},2,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ic4b7b427827114fcec0f4973a200461e811ee53a,openstack/tripleo-heat-templates,stable/queens,Ic4b7b427827114fcec0f4973a200461e811ee53a,Add customized libvirt-guests unit file to properly shutdown instances,MERGED,2019-07-24 09:02:10.000000000,2019-07-31 09:38:29.000000000,2019-07-31 09:38:29.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-07-24 09:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8af327e5f1e83f2f05c48b987b9cd7e56c593de9', 'message': ""Add customized libvirt-guests unit file to properly shutdown instances\n\nIf resume_guests_state_on_host_boot is set in nova.conf instances\nneed to be shutdown using libvirt-guests after nova_compute container\nis shut down. Therefore we need a customized libvirt-guests unit file\nwhich:\n1) removes the dependency to libvirt (non container) that it don't\n   get started as a dependency and make the nova_libvirt container\n   to fail.\n2) adds a dependency to docker related services that a shutdown of\n   nova_compute container is possible on system reboot.\n3) stops nova_compute container\n4) shutdown VMs\n\nThis is a missing part of Bug 1778216.\n\nChange-Id: Ic4b7b427827114fcec0f4973a200461e811ee53a\nRelated-bug: 1778216\n(cherry picked from commit 9f478ee18e15696822a014b9ffe31638b7bc89fb)\n(cherry picked from commit 959aa9d9a5b7d9d9d921c8c545dd173368328420)\n""}, {'number': 2, 'created': '2019-07-24 09:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/643ea46fc8e8767fc4d6ad11c76986f2b09975d3', 'message': ""Add customized libvirt-guests unit file to properly shutdown instances\n\nIf resume_guests_state_on_host_boot is set in nova.conf instances\nneed to be shutdown using libvirt-guests after nova_compute container\nis shut down. Therefore we need a customized libvirt-guests unit file\nwhich:\n1) removes the dependency to libvirt (non container) that it don't\n   get started as a dependency and make the nova_libvirt container\n   to fail.\n2) adds a dependency to docker related services that a shutdown of\n   nova_compute container is possible on system reboot.\n3) stops nova_compute container\n4) shutdown VMs\n\nThis is a missing part of Bug 1778216.\n\nDepends-On: https://review.opendev.org/672472\n\nChange-Id: Ic4b7b427827114fcec0f4973a200461e811ee53a\nRelated-bug: 1778216\n(cherry picked from commit 9f478ee18e15696822a014b9ffe31638b7bc89fb)\n(cherry picked from commit 959aa9d9a5b7d9d9d921c8c545dd173368328420)\n""}, {'number': 3, 'created': '2019-07-25 08:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9003cb417aedd408708dda58561e81eddfee4b4b', 'message': ""Add customized libvirt-guests unit file to properly shutdown instances\n\nIf resume_guests_state_on_host_boot is set in nova.conf instances\nneed to be shutdown using libvirt-guests after nova_compute container\nis shut down. Therefore we need a customized libvirt-guests unit file\nwhich:\n1) removes the dependency to libvirt (non container) that it don't\n   get started as a dependency and make the nova_libvirt container\n   to fail.\n2) adds a dependency to docker related services that a shutdown of\n   nova_compute container is possible on system reboot.\n3) stops nova_compute container\n4) shutdown VMs\n\nThis is a missing part of Bug 1778216.\n\nDepends-On: https://review.opendev.org/672472\n\nChange-Id: Ic4b7b427827114fcec0f4973a200461e811ee53a\nRelated-bug: 1778216\n(cherry picked from commit 9f478ee18e15696822a014b9ffe31638b7bc89fb)\n(cherry picked from commit 959aa9d9a5b7d9d9d921c8c545dd173368328420)\n""}, {'number': 4, 'created': '2019-07-25 08:30:51.000000000', 'files': ['puppet/services/nova-compute.yaml', 'releasenotes/notes/nova_custom_libvirt-guests_unit-7ac2c4b5511ca549.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/74660dd93df0dfd4460a59ea2d4e6793d93c9240', 'message': ""Add customized libvirt-guests unit file to properly shutdown instances\n\nIf resume_guests_state_on_host_boot is set in nova.conf instances\nneed to be shutdown using libvirt-guests after nova_compute container\nis shut down. Therefore we need a customized libvirt-guests unit file\nwhich:\n1) removes the dependency to libvirt (non container) that it don't\n   get started as a dependency and make the nova_libvirt container\n   to fail.\n2) adds a dependency to docker related services that a shutdown of\n   nova_compute container is possible on system reboot.\n3) stops nova_compute container\n4) shutdown VMs\n\nThis is a missing part of Bug 1778216.\n\nDepends-On: https://review.opendev.org/672472\n\nChange-Id: Ic4b7b427827114fcec0f4973a200461e811ee53a\nRelated-bug: 1778216\n(cherry picked from commit 9f478ee18e15696822a014b9ffe31638b7bc89fb)\n(cherry picked from commit 959aa9d9a5b7d9d9d921c8c545dd173368328420)\n""}]",3,672474,74660dd93df0dfd4460a59ea2d4e6793d93c9240,21,7,4,17216,,,0,"Add customized libvirt-guests unit file to properly shutdown instances

If resume_guests_state_on_host_boot is set in nova.conf instances
need to be shutdown using libvirt-guests after nova_compute container
is shut down. Therefore we need a customized libvirt-guests unit file
which:
1) removes the dependency to libvirt (non container) that it don't
   get started as a dependency and make the nova_libvirt container
   to fail.
2) adds a dependency to docker related services that a shutdown of
   nova_compute container is possible on system reboot.
3) stops nova_compute container
4) shutdown VMs

This is a missing part of Bug 1778216.

Depends-On: https://review.opendev.org/672472

Change-Id: Ic4b7b427827114fcec0f4973a200461e811ee53a
Related-bug: 1778216
(cherry picked from commit 9f478ee18e15696822a014b9ffe31638b7bc89fb)
(cherry picked from commit 959aa9d9a5b7d9d9d921c8c545dd173368328420)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/74/672474/4 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/nova-compute.yaml', 'releasenotes/notes/nova_custom_libvirt-guests_unit-7ac2c4b5511ca549.yaml']",2,8af327e5f1e83f2f05c48b987b9cd7e56c593de9,bug/1778216,--- fixes: - | Add customized libvirt-guests unit file to properly shutdown instances If resume_guests_state_on_host_boot is set in nova.conf instances need to be shutdown using libvirt-guests after nova_compute container is shut down. Therefore we need a customized libvirt-guests unit file 1) removes the dependency to libvirt (non container) that it don't get started as a dependency and make the nova_libvirt container to fail. 2) adds a dependency to docker related services that a shutdown of nova_compute container is possible on system reboot. 3) stops nova_compute container 4) shutdown VMs This is a missing part of Bug 1778216. ,,57,0
openstack%2Fosc-placement~master~Ib9e2658f123e1d4a12261f54cf91415c2c339dda,openstack/osc-placement,master,Ib9e2658f123e1d4a12261f54cf91415c2c339dda,Update api-ref location,MERGED,2019-07-25 16:08:41.000000000,2019-07-31 09:37:52.000000000,2019-07-31 09:37:51.000000000,"[{'_account_id': 11564}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-25 16:08:41.000000000', 'files': ['doc/source/user/index.rst'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/f40eb5047a59f0cb525fcd1201eabf373a0cad13', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: Ib9e2658f123e1d4a12261f54cf91415c2c339dda\n""}]",0,672769,f40eb5047a59f0cb525fcd1201eabf373a0cad13,6,2,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: Ib9e2658f123e1d4a12261f54cf91415c2c339dda
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/69/672769/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/index.rst'],1,f40eb5047a59f0cb525fcd1201eabf373a0cad13,retire-api-site, https://docs.openstack.org/api-ref/placement/, https://developer.openstack.org/api-ref/placement/,1,1
openstack%2Fopenstack-helm~master~Ief7244bf134ccd64bf47a9978abff8c68177e5e3,openstack/openstack-helm,master,Ief7244bf134ccd64bf47a9978abff8c68177e5e3,Imported Translations from Zanata,MERGED,2019-07-27 08:18:41.000000000,2019-07-31 09:35:18.000000000,2019-07-31 09:35:17.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-27 08:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/26878484a19bb55ad4a0e036d5657d5e30d1b578', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ief7244bf134ccd64bf47a9978abff8c68177e5e3\n'}, {'number': 2, 'created': '2019-07-30 09:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/00e4ca91b9e7421741c8bad0aac1d7c8aa2ad226', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ief7244bf134ccd64bf47a9978abff8c68177e5e3\n'}, {'number': 3, 'created': '2019-07-31 09:19:08.000000000', 'files': ['doc/source/locale/de/LC_MESSAGES/doc.po'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c3e727410d90f1b08f420c62e6f750e14733b774', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ief7244bf134ccd64bf47a9978abff8c68177e5e3\n'}]",0,673130,c3e727410d90f1b08f420c62e6f750e14733b774,11,2,3,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ief7244bf134ccd64bf47a9978abff8c68177e5e3
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/30/673130/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/locale/de/LC_MESSAGES/doc.po'],1,26878484a19bb55ad4a0e036d5657d5e30d1b578,zanata/translations,"# Robert Simai <robert.simai@suse.com>, 2019. #zanata""POT-Creation-Date: 2019-07-25 14:53+0000\n""""PO-Revision-Date: 2019-07-26 12:03+0000\n"" ""Last-Translator: Robert Simai <robert.simai@suse.com>\n""msgid """" ""Community IRC Meetings: [Every Tuesday @ 3PM UTC], #openstack-meeting-4 on "" ""freenode"" msgstr """" ""Community IRC Meetings: [Jeden Dienstag um 15:00 UTC], #openstack-meeting-4 "" ""auf freenode"" msgid """" ""`OpenStack-Helm git repository <https://opendev.org/openstack/openstack-helm/"" "">`_"" msgstr """" ""`OpenStack-Helm git Repository <https://opendev.org/openstack/openstack-helm/"" "">`_"" ","""POT-Creation-Date: 2019-05-27 21:13+0000\n""""PO-Revision-Date: 2018-10-25 07:41+0000\n"" ""Last-Translator: Andreas Jaeger <jaegerandi@gmail.com>\n""",18,3
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I946600ebbc3afd88385ca89015e8f6a6c46f46ef,openstack/tripleo-heat-templates,stable/queens,I946600ebbc3afd88385ca89015e8f6a6c46f46ef,Add NovaResumeGuestsStateOnHostBoot and NovaResumeGuestsShutdownTimeout,MERGED,2019-07-24 08:55:24.000000000,2019-07-31 09:28:40.000000000,2019-07-31 09:28:39.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-07-24 08:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3fe7d4fd58f622ae1e230fdbf9a5546c26abd710', 'message': 'Add NovaResumeGuestsStateOnHostBoot and NovaResumeGuestsShutdownTimeout\n\nNovaResumeGuestsStateOnHostBoot (true/false) parameter which\nconfigures whether or not to start again instances which were running at\nthe time of a compute reboot.\nThis will set the resume_guests_state_on_host_boot parameter in nova.conf\nand configures and enables libvirt-guests with a dependency to the\ndocker service to shutdown instances before the libvirt container gets\nstopped.\nNovaResumeGuestsShutdownTimeout specifies the number in seconds for an\ninstance to allow to shutdown.\n\nConflicts:\n  puppet/services/nova-compute.yaml\n\nChange-Id: I946600ebbc3afd88385ca89015e8f6a6c46f46ef\nCloses-Bug: 1778216\nDepends-On: I2766cdd66ff17756daaf1a75ad516a7af6eebddc\nDepends-On: Id1cc2e75af316b864cebf601395f1111b7fb049a\n(cherry picked from commit 9654393f24a33c768f7a4e6e77cf40b099cfb2ff)\n'}, {'number': 2, 'created': '2019-07-24 10:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/00e238d91031903306f9423481f5019b411b98b9', 'message': 'Add NovaResumeGuestsStateOnHostBoot and NovaResumeGuestsShutdownTimeout\n\nNovaResumeGuestsStateOnHostBoot (true/false) parameter which\nconfigures whether or not to start again instances which were running at\nthe time of a compute reboot.\nThis will set the resume_guests_state_on_host_boot parameter in nova.conf\nand configures and enables libvirt-guests with a dependency to the\ndocker service to shutdown instances before the libvirt container gets\nstopped.\nNovaResumeGuestsShutdownTimeout specifies the number in seconds for an\ninstance to allow to shutdown.\n\nConflicts:\n  puppet/services/nova-compute.yaml\n\nChange-Id: I946600ebbc3afd88385ca89015e8f6a6c46f46ef\nCloses-Bug: 1778216\nDepends-On: I2766cdd66ff17756daaf1a75ad516a7af6eebddc\nDepends-On: Id1cc2e75af316b864cebf601395f1111b7fb049a\n(cherry picked from commit 9654393f24a33c768f7a4e6e77cf40b099cfb2ff)\n'}, {'number': 3, 'created': '2019-07-25 08:30:51.000000000', 'files': ['roles/HciCephAll.yaml', 'roles/HciCephFile.yaml', 'roles/HciCephObject.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'roles/ComputeInstanceHA.yaml', 'puppet/services/nova-libvirt-guests.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'roles/Compute.yaml', 'roles/HciCephMon.yaml', 'releasenotes/notes/compute-resume-guests-state-on-host-boot-090507db3ffad0d4.yaml', 'roles/ComputeLiquidio.yaml', 'roles/ComputeDVR.yaml', 'roles/ComputeHCI.yaml', 'roles/ComputeHCIOvsDpdk.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles/ComputeSriov.yaml', 'roles/ComputeSriovRT.yaml', 'puppet/services/nova-compute.yaml', 'roles/ComputeRealTime.yaml', 'environments/hyperconverged-ceph.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c611f04e0fd1705238a7ccdac3bdf96569c7542a', 'message': 'Add NovaResumeGuestsStateOnHostBoot and NovaResumeGuestsShutdownTimeout\n\nNovaResumeGuestsStateOnHostBoot (true/false) parameter which\nconfigures whether or not to start again instances which were running at\nthe time of a compute reboot.\nThis will set the resume_guests_state_on_host_boot parameter in nova.conf\nand configures and enables libvirt-guests with a dependency to the\ndocker service to shutdown instances before the libvirt container gets\nstopped.\nNovaResumeGuestsShutdownTimeout specifies the number in seconds for an\ninstance to allow to shutdown.\n\nConflicts:\n  puppet/services/nova-compute.yaml\n\nChange-Id: I946600ebbc3afd88385ca89015e8f6a6c46f46ef\nCloses-Bug: 1778216\nDepends-On: I2766cdd66ff17756daaf1a75ad516a7af6eebddc\nDepends-On: Id1cc2e75af316b864cebf601395f1111b7fb049a\n(cherry picked from commit 9654393f24a33c768f7a4e6e77cf40b099cfb2ff)\n'}]",0,672472,c611f04e0fd1705238a7ccdac3bdf96569c7542a,17,7,3,17216,,,0,"Add NovaResumeGuestsStateOnHostBoot and NovaResumeGuestsShutdownTimeout

NovaResumeGuestsStateOnHostBoot (true/false) parameter which
configures whether or not to start again instances which were running at
the time of a compute reboot.
This will set the resume_guests_state_on_host_boot parameter in nova.conf
and configures and enables libvirt-guests with a dependency to the
docker service to shutdown instances before the libvirt container gets
stopped.
NovaResumeGuestsShutdownTimeout specifies the number in seconds for an
instance to allow to shutdown.

Conflicts:
  puppet/services/nova-compute.yaml

Change-Id: I946600ebbc3afd88385ca89015e8f6a6c46f46ef
Closes-Bug: 1778216
Depends-On: I2766cdd66ff17756daaf1a75ad516a7af6eebddc
Depends-On: Id1cc2e75af316b864cebf601395f1111b7fb049a
(cherry picked from commit 9654393f24a33c768f7a4e6e77cf40b099cfb2ff)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/672472/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/HciCephAll.yaml', 'roles/HciCephFile.yaml', 'roles/HciCephObject.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'roles/ComputeInstanceHA.yaml', 'puppet/services/nova-libvirt-guests.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'roles/Compute.yaml', 'roles/HciCephMon.yaml', 'releasenotes/notes/compute-resume-guests-state-on-host-boot-090507db3ffad0d4.yaml', 'roles/ComputeLiquidio.yaml', 'roles/ComputeDVR.yaml', 'roles/ComputeHCI.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles/ComputeSriov.yaml', 'roles/ComputeSriovRT.yaml', 'puppet/services/nova-compute.yaml', 'roles/ComputeRealTime.yaml', 'environments/hyperconverged-ceph.yaml']",21,3fe7d4fd58f622ae1e230fdbf9a5546c26abd710,bug/1778216, - OS::TripleO::Services::NovaLibvirtGuests,,111,0
openstack%2Fpuppet-tripleo~stable%2Fqueens~Id1cc2e75af316b864cebf601395f1111b7fb049a,openstack/puppet-tripleo,stable/queens,Id1cc2e75af316b864cebf601395f1111b7fb049a,New profile to configure libvirt-guests on compute host,MERGED,2019-07-24 08:43:14.000000000,2019-07-31 09:28:38.000000000,2019-07-31 09:28:38.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-07-24 08:43:14.000000000', 'files': ['manifests/profile/base/nova/compute/libvirt_guests.pp', 'manifests/releasenotes/notes/nova_libvirt_guests-d0e5424d40d9e26e.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d7508d2a54016b7706345b41e7522bed9bb5a52b', 'message': 'New profile to configure libvirt-guests on compute host\n\nOn compute shutdown we might want to gracefully shutdown instances\nusing libvirt-guests. If it gets configured is managed via a tht\nparameter NovaResumeGuestsStateOnHostBoot. This triggers config\nof /etc/sysconfig/libvirt-guests via puppet-nova, configures a\ndependency for virt-guest-shutdown.target to\npaunch-container-shutdown.service that instances get shutdown\nbefore the libvirt container gets stopped.\n\nChange-Id: Id1cc2e75af316b864cebf601395f1111b7fb049a\nCloses-Bug: 1778216\nDepends-On: I2766cdd66ff17756daaf1a75ad516a7af6eebddc\n(cherry picked from commit c482a3ce5a9ab4074c61903c5b9e8e2af7d39bfe)\n'}]",0,672470,d7508d2a54016b7706345b41e7522bed9bb5a52b,16,8,1,17216,,,0,"New profile to configure libvirt-guests on compute host

On compute shutdown we might want to gracefully shutdown instances
using libvirt-guests. If it gets configured is managed via a tht
parameter NovaResumeGuestsStateOnHostBoot. This triggers config
of /etc/sysconfig/libvirt-guests via puppet-nova, configures a
dependency for virt-guest-shutdown.target to
paunch-container-shutdown.service that instances get shutdown
before the libvirt container gets stopped.

Change-Id: Id1cc2e75af316b864cebf601395f1111b7fb049a
Closes-Bug: 1778216
Depends-On: I2766cdd66ff17756daaf1a75ad516a7af6eebddc
(cherry picked from commit c482a3ce5a9ab4074c61903c5b9e8e2af7d39bfe)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/70/672470/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/nova/compute/libvirt_guests.pp', 'manifests/releasenotes/notes/nova_libvirt_guests-d0e5424d40d9e26e.yaml']",2,d7508d2a54016b7706345b41e7522bed9bb5a52b,bug/1778216-stable/queens,"--- features: - | New profile to configure libvirt-guests on compute host. On compute shutdown we might want to gracefully shutdown instances using libvirt-guests. If it gets configured is managed with the tht NovaResumeGuestsStateOnHostBoot parameter. This triggers config of /etc/sysconfig/libvirt-guests via puppet-nova, configures a dependency for virt-guest-shutdown.target to the docker service that instances get shutdown before the libvirt container gets stopped. ",,66,0
openstack%2Ftrove~master~I7a522b1f6d421ecbed0cedcdb2edd1f90b9b672b,openstack/trove,master,I7a522b1f6d421ecbed0cedcdb2edd1f90b9b672b,Re-define the 'nics' parameter for creating database,MERGED,2019-07-29 03:22:29.000000000,2019-07-31 09:25:02.000000000,2019-07-31 09:25:02.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-29 03:22:29.000000000', 'files': ['api-ref/source/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/trove/commit/dae5bc1bc7922ee35dffe5e283fc8529299b3081', 'message': ""Re-define the 'nics' parameter for creating database\n\nChange-Id: I7a522b1f6d421ecbed0cedcdb2edd1f90b9b672b\n""}]",0,673200,dae5bc1bc7922ee35dffe5e283fc8529299b3081,6,2,1,6732,,,0,"Re-define the 'nics' parameter for creating database

Change-Id: I7a522b1f6d421ecbed0cedcdb2edd1f90b9b672b
",git fetch https://review.opendev.org/openstack/trove refs/changes/00/673200/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/parameters.yaml'],1,dae5bc1bc7922ee35dffe5e283fc8529299b3081,fix-api," Network interfaces for database service inside Nova instances. ``NOTE:`` For backward compatibility, this parameter uses the same schema as novaclient creating servers, but only ``net-id`` is supported ans can only be specified once. This parameter is required in service tenant deployment model.", Network interfaces when creating underlying Nova instances. ``NOTE:`` this parameter use the same schema when novaclient creating servers.,5,4
openstack%2Fcharm-percona-cluster~master~I5da6da4ddde25219e06ef47bba5f3004ccf678ee,openstack/charm-percona-cluster,master,I5da6da4ddde25219e06ef47bba5f3004ccf678ee,Ensure ocf file is installed,MERGED,2019-07-27 12:15:08.000000000,2019-07-31 08:56:34.000000000,2019-07-31 08:56:34.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-27 12:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/5f2bb71b7599009d05b840639f08c4358aaff47e', 'message': 'Ensure ocf file is installed\n\nEnsure ocf file is installed early so that mysql monitor resource can\nstart as soon as it is defined. Otherwise it will be down and may\nnot come backup without manual intervention.\n\nChange-Id: I5da6da4ddde25219e06ef47bba5f3004ccf678ee\nCloses-Bug: #1837401\n'}, {'number': 2, 'created': '2019-07-30 21:49:03.000000000', 'files': ['hooks/percona_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/9391662e19ad3bde997258d9f665d238692c971c', 'message': 'Ensure ocf file is installed\n\nEnsure ocf file is installed early so that mysql monitor resource can\nstart as soon as it is defined. Otherwise it will be down and may\nnot come backup without manual intervention.\n\nChange-Id: I5da6da4ddde25219e06ef47bba5f3004ccf678ee\nCloses-Bug: #1837401\n'}]",0,673137,9391662e19ad3bde997258d9f665d238692c971c,17,5,2,12549,,,0,"Ensure ocf file is installed

Ensure ocf file is installed early so that mysql monitor resource can
start as soon as it is defined. Otherwise it will be down and may
not come backup without manual intervention.

Change-Id: I5da6da4ddde25219e06ef47bba5f3004ccf678ee
Closes-Bug: #1837401
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/37/673137/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/percona_hooks.py'],1,5f2bb71b7599009d05b840639f08c4358aaff47e,bug/1837401, # (re)install pcmkr agent install_mysql_ocf() , # (re)install pcmkr agent install_mysql_ocf() ,3,3
openstack%2Fpython-tripleoclient~master~Idff6bcebc041db483d64396249b040e6bdd778bd,openstack/python-tripleoclient,master,Idff6bcebc041db483d64396249b040e6bdd778bd,Allow running validations with custom extra variables,MERGED,2019-07-10 15:19:17.000000000,2019-07-31 08:35:52.000000000,2019-07-31 03:43:35.000000000,"[{'_account_id': 7144}, {'_account_id': 11082}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-10 15:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/82b6ca158e64e71bcb899fdb17f701ca2a6956ec', 'message': '[WIP] Allow running validations with custom extra_args\n\nChange-Id: Idff6bcebc041db483d64396249b040e6bdd778bd\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2019-07-10 16:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0313851018f8d5bccc5a36ab69e12cea1493bcaa', 'message': '[WIP] Allow running validations with custom extra_args\n\nChange-Id: Idff6bcebc041db483d64396249b040e6bdd778bd\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2019-07-10 16:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5d8ec8be09d20da5792a4ec065ec290193fc4a73', 'message': '[WIP] Allow running validations with custom extra_args\n\nChange-Id: Idff6bcebc041db483d64396249b040e6bdd778bd\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 4, 'created': '2019-07-10 17:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e1c9d30d07467d4cb421c6ab88c4959d4c3a8a01', 'message': '[WIP] Allow running validations with custom extra_args\n\nChange-Id: Idff6bcebc041db483d64396249b040e6bdd778bd\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 5, 'created': '2019-07-11 10:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e546d4ef50044ba5643d322529f22e7b040c15d4', 'message': '[WIP] Allow running validations with custom extra_args\n\nChange-Id: Idff6bcebc041db483d64396249b040e6bdd778bd\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 6, 'created': '2019-07-11 10:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/60d50a941f88b61e68779095542d58ca94dd1063', 'message': '[WIP] Allow running validations with custom extra_args\n\nChange-Id: Idff6bcebc041db483d64396249b040e6bdd778bd\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 7, 'created': '2019-07-11 13:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7ec40ac84b8d66ac0b4e0e38f13253b5d93929b1', 'message': '[WIP] Allow running validations with custom extra variables\n\nThis patch adds the ability to pass extra variables to the validations\nexecution through Mistral and \'ansible-playbook\'.\n\nBy default, the CLI is running the validations through\n\'ansible-playbook\', then the operator will have two possible ways to\nprocess it:\n\nEither passing a Dict with the new --extra-vars argument\n\n```\n$ openstack tripleo validator run \\\n    --extra-vars \'{""min_undercloud_ram_gb"": 2}\'\n    --validation-name undercloud-ram\n```\n\nor passing the absolute path of a JSON/YAML file using --extra-vars-file\nargument.\n\n```\n$ cat /home/stack/vars.json\n{\n  ""volumes"": [\n    {""min_size"": 10, ""mount"": ""/var/lib/docker""},\n    {""min_size"": 3,  ""mount"": ""/var/lib/config-data""},\n    {""min_size"": 3,  ""mount"": ""/var/log""},\n    {""min_size"": 5,  ""mount"": ""/usr""},\n    {""min_size"": 20, ""mount"": ""/var""},\n    {""min_size"": 25, ""mount"": ""/""}\n  ]\n}\n$ openstack tripleo validator run \\\n    --extra-vars-file /home/stack/vars.json\n    --validation-name undercloud-disk-space\n```\n\nIf the operator wants to use Mistral, she/he will just need to add the\n--use-mistral argument to the command line in the previous examples.\n\nChange-Id: Idff6bcebc041db483d64396249b040e6bdd778bd\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 8, 'created': '2019-07-11 14:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5ba186ffacc514b857e7991552f93dc7df233e14', 'message': 'Allow running validations with custom extra variables\n\nThis patch adds the ability to pass extra variables to the validations\nexecution through Mistral and \'ansible-playbook\'.\n\nBy default, the CLI is running the validations through\n\'ansible-playbook\', then the operator will have two possible ways to\nprocess it;\n\nEither passing a Dict with the new --extra-vars argument\n\n```\n$ openstack tripleo validator run \\\n    --extra-vars \'{""min_undercloud_ram_gb"": 2}\'\n    --validation-name undercloud-ram\n```\n\nor passing the absolute path of a JSON/YAML file using --extra-vars-file\nargument.\n\n```\n$ cat /home/stack/vars.json\n{\n  ""volumes"": [\n    {""min_size"": 10, ""mount"": ""/var/lib/docker""},\n    {""min_size"": 3,  ""mount"": ""/var/lib/config-data""},\n    {""min_size"": 3,  ""mount"": ""/var/log""},\n    {""min_size"": 5,  ""mount"": ""/usr""},\n    {""min_size"": 20, ""mount"": ""/var""},\n    {""min_size"": 25, ""mount"": ""/""}\n  ]\n}\n$ openstack tripleo validator run \\\n    --extra-vars-file /home/stack/vars.json\n    --validation-name undercloud-disk-space\n```\n\nIf the operator wants to use Mistral, she/he will just need to add the\n--use-mistral argument to the command line in the previous\nexamples.\n\nNote that Mistral will only support a valid JSON file as input.\n\nChange-Id: Idff6bcebc041db483d64396249b040e6bdd778bd\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 9, 'created': '2019-07-11 20:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/939849d51e85f9f6a15577be82e21cfcec649f17', 'message': 'Allow running validations with custom extra variables\n\nThis patch adds the ability to pass extra variables to the validations\nexecution through Mistral and \'ansible-playbook\'.\n\nBy default, the CLI is running the validations through\n\'ansible-playbook\', then the operator will have two possible ways to\nprocess it;\n\nEither passing a Dict with the new --extra-vars argument\n\n```\n$ openstack tripleo validator run \\\n    --extra-vars \'{""min_undercloud_ram_gb"": 2}\'\n    --validation-name undercloud-ram\n```\n\nor passing the absolute path of a JSON/YAML file using --extra-vars-file\nargument.\n\n```\n$ cat /home/stack/vars.json\n{\n  ""volumes"": [\n    {""min_size"": 10, ""mount"": ""/var/lib/docker""},\n    {""min_size"": 3,  ""mount"": ""/var/lib/config-data""},\n    {""min_size"": 3,  ""mount"": ""/var/log""},\n    {""min_size"": 5,  ""mount"": ""/usr""},\n    {""min_size"": 20, ""mount"": ""/var""},\n    {""min_size"": 25, ""mount"": ""/""}\n  ]\n}\n$ openstack tripleo validator run \\\n    --extra-vars-file /home/stack/vars.json\n    --validation-name undercloud-disk-space\n```\n\nIf the operator wants to use Mistral, she/he will just need to add the\n--use-mistral argument to the command line in the previous\nexamples.\n\nNote that Mistral will only support a valid JSON file as input.\n\nChange-Id: Idff6bcebc041db483d64396249b040e6bdd778bd\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 10, 'created': '2019-07-15 09:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bfd7517a6768c02bde1a3b7dc782d93fe9aff666', 'message': 'Allow running validations with custom extra variables\n\nThis patch adds the ability to pass extra variables to the validations\nexecution through Mistral and \'ansible-playbook\'.\n\nBy default, the CLI is running the validations through\n\'ansible-playbook\', then the operator will have two possible ways to\nprocess it;\n\nEither passing a Dict with the new --extra-vars argument\n\n```\n$ openstack tripleo validator run \\\n    --extra-vars \'{""min_undercloud_ram_gb"": 2}\'\n    --validation-name undercloud-ram\n```\n\nor passing the absolute path of a JSON/YAML file using --extra-vars-file\nargument.\n\n```\n$ cat /home/stack/vars.json\n{\n  ""volumes"": [\n    {""min_size"": 10, ""mount"": ""/var/lib/docker""},\n    {""min_size"": 3,  ""mount"": ""/var/lib/config-data""},\n    {""min_size"": 3,  ""mount"": ""/var/log""},\n    {""min_size"": 5,  ""mount"": ""/usr""},\n    {""min_size"": 20, ""mount"": ""/var""},\n    {""min_size"": 25, ""mount"": ""/""}\n  ]\n}\n$ openstack tripleo validator run \\\n    --extra-vars-file /home/stack/vars.json\n    --validation-name undercloud-disk-space\n```\n\nIf the operator wants to use Mistral, she/he will just need to add the\n--use-mistral argument to the command line in the previous\nexamples.\n\nNote that Mistral will only support a valid JSON file as input.\n\nChange-Id: Idff6bcebc041db483d64396249b040e6bdd778bd\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 11, 'created': '2019-07-17 09:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/031ed5855ea3ab7e4a626006ac7dcd394361c48a', 'message': 'Allow running validations with custom extra variables\n\nThis patch adds the ability to pass extra variables to the validations\nexecution through Mistral and \'ansible-playbook\'.\n\nBy default, the CLI is running the validations through\n\'ansible-playbook\', then the operator will have two possible ways to\nprocess it;\n\nEither passing a Dict with the new --extra-vars argument\n\n```\n$ openstack tripleo validator run \\\n    --extra-vars \'{""min_undercloud_ram_gb"": 2}\'\n    --validation-name undercloud-ram\n```\n\nor passing the absolute path of a JSON/YAML file using --extra-vars-file\nargument.\n\n```\n$ cat /home/stack/vars.json\n{\n  ""volumes"": [\n    {""min_size"": 10, ""mount"": ""/var/lib/docker""},\n    {""min_size"": 3,  ""mount"": ""/var/lib/config-data""},\n    {""min_size"": 3,  ""mount"": ""/var/log""},\n    {""min_size"": 5,  ""mount"": ""/usr""},\n    {""min_size"": 20, ""mount"": ""/var""},\n    {""min_size"": 25, ""mount"": ""/""}\n  ]\n}\n$ openstack tripleo validator run \\\n    --extra-vars-file /home/stack/vars.json\n    --validation-name undercloud-disk-space\n```\n\nIf the operator wants to use Mistral, she/he will just need to add the\n--use-mistral argument to the command line in the previous\nexamples.\n\nNote that Mistral will only support a valid JSON file as input.\n\nChange-Id: Idff6bcebc041db483d64396249b040e6bdd778bd\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 12, 'created': '2019-07-23 09:09:24.000000000', 'files': ['tripleoclient/tests/v1/test_validator.py', 'releasenotes/notes/allow-running-validations-with-custom-extra-variables-12c7277b30eb791d.yaml', 'tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d13a7d501eba4b25091f16cb9edc374b40ceb8ce', 'message': 'Allow running validations with custom extra variables\n\nThis patch adds the ability to pass extra variables to the validations\nexecution through Mistral and \'ansible-playbook\'.\n\nBy default, the CLI is running the validations through\n\'ansible-playbook\', then the operator will have two possible ways to\nprocess it;\n\nEither passing a Dict with the new --extra-vars argument\n\n```\n$ openstack tripleo validator run \\\n    --extra-vars \'{""min_undercloud_ram_gb"": 2}\'\n    --validation-name undercloud-ram\n```\n\nor passing the absolute path of a JSON/YAML file using --extra-vars-file\nargument.\n\n```\n$ cat /home/stack/vars.json\n{\n  ""volumes"": [\n    {""min_size"": 10, ""mount"": ""/var/lib/docker""},\n    {""min_size"": 3,  ""mount"": ""/var/lib/config-data""},\n    {""min_size"": 3,  ""mount"": ""/var/log""},\n    {""min_size"": 5,  ""mount"": ""/usr""},\n    {""min_size"": 20, ""mount"": ""/var""},\n    {""min_size"": 25, ""mount"": ""/""}\n  ]\n}\n$ openstack tripleo validator run \\\n    --extra-vars-file /home/stack/vars.json\n    --validation-name undercloud-disk-space\n```\n\nIf the operator wants to use Mistral, she/he will just need to add the\n--use-mistral argument to the command line in the previous\nexamples.\n\nNote that Mistral will only support a valid JSON file as input.\n\nChange-Id: Idff6bcebc041db483d64396249b040e6bdd778bd\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}]",1,670091,d13a7d501eba4b25091f16cb9edc374b40ceb8ce,49,9,12,11491,,,0,"Allow running validations with custom extra variables

This patch adds the ability to pass extra variables to the validations
execution through Mistral and 'ansible-playbook'.

By default, the CLI is running the validations through
'ansible-playbook', then the operator will have two possible ways to
process it;

Either passing a Dict with the new --extra-vars argument

```
$ openstack tripleo validator run \
    --extra-vars '{""min_undercloud_ram_gb"": 2}'
    --validation-name undercloud-ram
```

or passing the absolute path of a JSON/YAML file using --extra-vars-file
argument.

```
$ cat /home/stack/vars.json
{
  ""volumes"": [
    {""min_size"": 10, ""mount"": ""/var/lib/docker""},
    {""min_size"": 3,  ""mount"": ""/var/lib/config-data""},
    {""min_size"": 3,  ""mount"": ""/var/log""},
    {""min_size"": 5,  ""mount"": ""/usr""},
    {""min_size"": 20, ""mount"": ""/var""},
    {""min_size"": 25, ""mount"": ""/""}
  ]
}
$ openstack tripleo validator run \
    --extra-vars-file /home/stack/vars.json
    --validation-name undercloud-disk-space
```

If the operator wants to use Mistral, she/he will just need to add the
--use-mistral argument to the command line in the previous
examples.

Note that Mistral will only support a valid JSON file as input.

Change-Id: Idff6bcebc041db483d64396249b040e6bdd778bd
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/91/670091/6 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,82b6ca158e64e71bcb899fdb17f701ca2a6956ec,bp/validation-framework,"import json extra_vars_group = parser.add_mutually_exclusive_group(required=True) extra_vars_group.add_argument( '--extra-vars', action='store', default={}, type=json.loads, help=_( ""Add a dictionary as extra variable to a validation."" ""Defaults to: {}"" ""ie. --extra-vars '{\""min_undercloud_ram_gb\"": 24}'"") ) extra_vars_group.add_argument( '--extra-vars-file', action='store', default='', help=_( ""Add a JSON file containing extra variable to a validation."" ""Defaults to: ''"" ""ie. --extra-vars-file /home/stack/extravars"") ) def _run_validation_run_with_mistral(self, parsed_args): LOG = logging.getLogger(__name__ + "".ValidationsRunWithMistral"") def _run_validator_run(self, parsed_args): clients = self.app.client_manager LOG = logging.getLogger(__name__ + "".ValidationsRunAnsible"") playbooks = [] if parsed_args.extra_args: extra_args_input = parsed_args.extra_args else: extra_args_input = {} if parsed_args.group: workflow_input = { ""group_names"": parsed_args.group } LOG.debug(_('Getting the validations list by group')) try: output = validations.list_validations( clients, workflow_input) for val in output: playbooks.append(val.get('id') + '.yaml') except Exception as e: print( _(""Validations listing by group finished with errors"")) print('Output: {}'.format(e)) else: for pb in parsed_args.validation_name: playbooks.append(pb + '.yaml') python_interpreter = \ ""/usr/bin/python{}"".format(sys.version_info[0]) for playbook in playbooks: try: LOG.debug(_('Running the validations with Ansible')) rc, output = oooutils.run_ansible_playbook( logger=LOG, workdir=constants.ANSIBLE_VALIDATION_DIR, log_path_dir=pwd.getpwuid(os.getuid()).pw_dir, playbook=playbook, inventory='/usr/bin/tripleo-ansible-inventory', retries=False, connection='local', output_callback='validation_output', extra_vars=extra_args_input, python_interpreter=python_interpreter) print('[SUCCESS] - {}\n{}'.format( playbook, oooutils.indent(output))) except Exception as e: print('[FAILED] - {}\n{}'.format( playbook, oooutils.indent(e.args[0]))) if parsed_args.use_mistral: self._run_validation_run_with_mistral(parsed_args) else: self._run_validator_run(parsed_args)"," def _run_validator_run(self, parsed_args): LOG = logging.getLogger(__name__ + "".ValidationsRun"") playbooks = [] else: if parsed_args.group: workflow_input = { ""group_names"": parsed_args.group } LOG.debug(_('Getting the validations list by group')) try: output = validations.list_validations( clients, workflow_input) for val in output: playbooks.append(val.get('id') + '.yaml') except Exception as e: print( _(""Validations listing by group finished with errors"")) print('Output: {}'.format(e)) else: for pb in parsed_args.validation_name: playbooks.append(pb + '.yaml') python_interpreter = \ ""/usr/bin/python{}"".format(sys.version_info[0]) for playbook in playbooks: try: LOG.debug(_('Running the validations with Ansible')) rc, output = oooutils.run_ansible_playbook( logger=LOG, workdir=constants.ANSIBLE_VALIDATION_DIR, log_path_dir=pwd.getpwuid(os.getuid()).pw_dir, playbook=playbook, inventory='/usr/bin/tripleo-ansible-inventory', retries=False, connection='local', output_callback='validation_output', python_interpreter=python_interpreter) print('[SUCCESS] - {}\n{}'.format( playbook, oooutils.indent(output))) except Exception as e: print('[FAILED] - {}\n{}'.format( playbook, oooutils.indent(e.args[0]))) self._run_validator_run(parsed_args)",78,41
openstack%2Fkolla-cli~master~I3e754f4e7594eb23f73b8da6bee3af0b91f44ad4,openstack/kolla-cli,master,I3e754f4e7594eb23f73b8da6bee3af0b91f44ad4,Add pull action functional test,MERGED,2019-07-31 07:41:28.000000000,2019-07-31 08:31:23.000000000,2019-07-31 08:31:23.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-07-31 07:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/ea7011d059779d67aaa7bdc832b0d696020c2a60', 'message': 'Add pull action functional test\n\nChange-Id: I3e754f4e7594eb23f73b8da6bee3af0b91f44ad4\n'}, {'number': 2, 'created': '2019-07-31 07:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/a79cf40dc4be4daf15183685937a630647c32c2e', 'message': 'Add pull action functional test\n\nChange-Id: I3e754f4e7594eb23f73b8da6bee3af0b91f44ad4\n'}, {'number': 3, 'created': '2019-07-31 07:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/6cfe3e125414902c2991c154b70ad1d8faf22eb1', 'message': 'Add pull action functional test\n\nChange-Id: I3e754f4e7594eb23f73b8da6bee3af0b91f44ad4\n'}, {'number': 4, 'created': '2019-07-31 07:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/3af432bc7e2a1675c222fa513084910d00df9330', 'message': 'Add pull action functional test\n\nChange-Id: I3e754f4e7594eb23f73b8da6bee3af0b91f44ad4\n'}, {'number': 5, 'created': '2019-07-31 07:54:26.000000000', 'files': ['kolla_cli/tests/functional/test_deploy.py'], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/6b63c009670b85d1675c568dc3ee8f6c1e4c7879', 'message': 'Add pull action functional test\n\nChange-Id: I3e754f4e7594eb23f73b8da6bee3af0b91f44ad4\n'}]",0,673747,6b63c009670b85d1675c568dc3ee8f6c1e4c7879,11,3,5,28614,,,0,"Add pull action functional test

Change-Id: I3e754f4e7594eb23f73b8da6bee3af0b91f44ad4
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/47/673747/3 && git format-patch -1 --stdout FETCH_HEAD,['kolla_cli/tests/functional/test_deploy.py'],1,ea7011d059779d67aaa7bdc832b0d696020c2a60,, def test_pull(self): ,,2,0
openstack%2Fproject-config~master~I0e67fdc5a2079b6bc4aa282217b5654c169fb65d,openstack/project-config,master,I0e67fdc5a2079b6bc4aa282217b5654c169fb65d,"Add new job ""tempest-ipv6-only"" to neutron CI dashboard",MERGED,2019-07-31 07:37:26.000000000,2019-07-31 08:30:04.000000000,2019-07-31 08:30:03.000000000,"[{'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-31 07:37:26.000000000', 'files': ['grafana/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/68270d90738433a6195045830d4d5650c9d238dd', 'message': 'Add new job ""tempest-ipv6-only"" to neutron CI dashboard\n\nNew job was added to neutron CI queues in [1]\n\n[1] https://review.opendev.org/#/c/671899/\n\nChange-Id: I0e67fdc5a2079b6bc4aa282217b5654c169fb65d\n'}]",0,673746,68270d90738433a6195045830d4d5650c9d238dd,7,3,1,11975,,,0,"Add new job ""tempest-ipv6-only"" to neutron CI dashboard

New job was added to neutron CI queues in [1]

[1] https://review.opendev.org/#/c/671899/

Change-Id: I0e67fdc5a2079b6bc4aa282217b5654c169fb65d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/46/673746/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/neutron.yaml'],1,68270d90738433a6195045830d4d5650c9d238dd,update-neutron-dashboard," - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.tempest-ipv6-only.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.tempest-ipv6-only.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tempest-ipv6-only') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.tempest-ipv6-only.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'tempest-ipv6-only') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.tempest-ipv6-only.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.tempest-ipv6-only.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tempest-ipv6-only') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.tempest-ipv6-only.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'tempest-ipv6-only')",,4,0
openstack%2Fproject-config~master~I2a93ab39b28e89679b4f24e7d090059da4f97471,openstack/project-config,master,I2a93ab39b28e89679b4f24e7d090059da4f97471,Finish retiring tc-as-a-service,MERGED,2019-07-30 15:35:31.000000000,2019-07-31 08:30:02.000000000,2019-07-31 08:30:02.000000000,"[{'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 15:35:31.000000000', 'files': ['zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml', 'gerrit/acls/x/tc-as-a-service.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d5b1537891d6285b4e3c3dfd372cba4df6aa014f', 'message': 'Finish retiring tc-as-a-service\n\nThis removes the repo from Zuul and retires it.\n\nDepends-On: https://review.opendev.org/673560\nChange-Id: I2a93ab39b28e89679b4f24e7d090059da4f97471\n'}]",0,673563,d5b1537891d6285b4e3c3dfd372cba4df6aa014f,7,3,1,6547,,,0,"Finish retiring tc-as-a-service

This removes the repo from Zuul and retires it.

Depends-On: https://review.opendev.org/673560
Change-Id: I2a93ab39b28e89679b4f24e7d090059da4f97471
",git fetch https://review.opendev.org/openstack/project-config refs/changes/63/673563/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/x/tc-as-a-service.config']",4,d5b1537891d6285b4e3c3dfd372cba4df6aa014f,tc-as-a-service,,"[access ""refs/heads/*""] abandon = group tc-as-a-service-core create = group tc-as-a-service-release label-Code-Review = -2..+2 group tc-as-a-service-core label-Workflow = -1..+1 group tc-as-a-service-core [access ""refs/tags/*""] pushSignedTag = group tc-as-a-service-release [receive] requireChangeId = true requireContributorAgreement = true [submit] mergeContent = true ",2,22
openstack%2Fmurano~master~I222964e47eebed6b3593b1954766a0691802ffef,openstack/murano,master,I222964e47eebed6b3593b1954766a0691802ffef,Update api-ref location,MERGED,2019-07-30 17:52:09.000000000,2019-07-31 08:28:54.000000000,2019-07-31 08:28:54.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 17:52:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/murano/commit/f83cbd4a388af486513de30e2dba9191bbbba7e9', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I222964e47eebed6b3593b1954766a0691802ffef\n""}]",0,673597,f83cbd4a388af486513de30e2dba9191bbbba7e9,6,2,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I222964e47eebed6b3593b1954766a0691802ffef
",git fetch https://review.opendev.org/openstack/murano refs/changes/97/673597/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f83cbd4a388af486513de30e2dba9191bbbba7e9,retire-api-site,# the API Ref to docs.openstack.org.,# the API Ref to developer.openstack.org.,1,1
openstack%2Fnova~master~I347096a527c257075cefe7b81210622f6cd87daf,openstack/nova,master,I347096a527c257075cefe7b81210622f6cd87daf,Don't generate service UUID for deleted services,MERGED,2018-07-12 22:05:33.000000000,2019-07-31 08:25:45.000000000,2019-07-31 08:25:45.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-12 22:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/644d235c569e7be4f04d31f80c2a8467660ec1b6', 'message': ""Don't generate service UUID for deleted services\n\nIn Pike, we added a UUID field to services and during an upgrade from\nOcata => Pike, when instances are accessed joined with their associated\nservices, we generate a UUID for the services on-the-fly.\n\nThis causes a problem in the scenario where an operator upgrades their\ncluster and has old, deleted services with hostnames matching existing\nservices associated with instances. When we go to generate the service\nUUID for the old, deleted service, we hit a ServiceTooOld exception.\n\nThis addresses the problem by not bothering to generate a UUID for a\ndeleted service. One alternative would be to exclude deleted services\nwhen we join the 'instances' and 'services' tables, but I'm not sure\nwhether that approach might cause unintended effects where service\ninformation that used to be viewable for instances becomes hidden.\n\nCloses-Bug: #1778305\n\nChange-Id: I347096a527c257075cefe7b81210622f6cd87daf\n""}, {'number': 2, 'created': '2018-07-13 01:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4153bfc10f4f4bdac1f4d89f31be10d9b1545577', 'message': ""Don't generate service UUID for deleted services\n\nIn Pike, we added a UUID field to services and during an upgrade from\nOcata => Pike, when instances are accessed joined with their associated\nservices, we generate a UUID for the services on-the-fly.\n\nThis causes a problem in the scenario where an operator upgrades their\ncluster and has old, deleted services with hostnames matching existing\nservices associated with instances. When we go to generate the service\nUUID for the old, deleted service, we hit a ServiceTooOld exception.\n\nThis addresses the problem by not bothering to generate a UUID for a\ndeleted service. One alternative would be to exclude deleted services\nwhen we join the 'instances' and 'services' tables, but I'm not sure\nwhether that approach might cause unintended effects where service\ninformation that used to be viewable for instances becomes hidden.\n\nCloses-Bug: #1778305\nCloses-Bug: #1764556\n\nChange-Id: I347096a527c257075cefe7b81210622f6cd87daf\n""}, {'number': 3, 'created': '2018-10-25 19:07:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc4f2d599b8b380ab0d9b0a8e53c8f410fce41b1', 'message': ""Don't generate service UUID for deleted services\n\nIn Pike, we added a UUID field to services and during an upgrade from\nOcata => Pike, when instances are accessed joined with their associated\nservices, we generate a UUID for the services on-the-fly.\n\nThis causes a problem in the scenario where an operator upgrades their\ncluster and has old, deleted services with hostnames matching existing\nservices associated with instances. When we go to generate the service\nUUID for the old, deleted service, we hit a ServiceTooOld exception.\n\nThis addresses the problem by not bothering to generate a UUID for a\ndeleted service. One alternative would be to exclude deleted services\nwhen we join the 'instances' and 'services' tables, but I'm not sure\nwhether that approach might cause unintended effects where service\ninformation that used to be viewable for instances becomes hidden.\n\nCloses-Bug: #1778305\nCloses-Bug: #1764556\n\nChange-Id: I347096a527c257075cefe7b81210622f6cd87daf\n""}, {'number': 4, 'created': '2018-10-25 19:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1854ea11ae15374b2215ad5b18361ae6a822f329', 'message': ""Don't generate service UUID for deleted services\n\nIn Pike, we added a UUID field to services and during an upgrade from\nOcata => Pike, when instances are accessed joined with their associated\nservices, we generate a UUID for the services on-the-fly.\n\nThis causes a problem in the scenario where an operator upgrades their\ncluster and has old, deleted services with hostnames matching existing\nservices associated with instances. When we go to generate the service\nUUID for the old, deleted service, we hit a ServiceTooOld exception.\n\nThis addresses the problem by not bothering to generate a UUID for a\ndeleted service. One alternative would be to exclude deleted services\nwhen we join the 'instances' and 'services' tables, but I'm not sure\nwhether that approach might cause unintended effects where service\ninformation that used to be viewable for instances becomes hidden.\n\nCloses-Bug: #1778305\nCloses-Bug: #1764556\n\nChange-Id: I347096a527c257075cefe7b81210622f6cd87daf\n""}, {'number': 5, 'created': '2019-04-10 16:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/08f60c377e7cece81a19474fae9301f5d75db3bc', 'message': ""Don't generate service UUID for deleted services\n\nIn Pike, we added a UUID field to services and during an upgrade from\nOcata => Pike, when instances are accessed joined with their associated\nservices, we generate a UUID for the services on-the-fly.\n\nThis causes a problem in the scenario where an operator upgrades their\ncluster and has old, deleted services with hostnames matching existing\nservices associated with instances. When we go to generate the service\nUUID for the old, deleted service, we hit a ServiceTooOld exception.\n\nThis addresses the problem by not bothering to generate a UUID for a\ndeleted service. One alternative would be to exclude deleted services\nwhen we join the 'instances' and 'services' tables, but I'm not sure\nwhether that approach might cause unintended effects where service\ninformation that used to be viewable for instances becomes hidden.\n\nCloses-Bug: #1778305\nCloses-Bug: #1764556\n\nChange-Id: I347096a527c257075cefe7b81210622f6cd87daf\n""}, {'number': 6, 'created': '2019-04-10 20:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fdc1ec02035d6439df652f11567850378fbd6194', 'message': ""Don't generate service UUID for deleted services\n\nIn Pike, we added a UUID field to services and during an upgrade from\nOcata => Pike, when instances are accessed joined with their associated\nservices, we generate a UUID for the services on-the-fly.\n\nThis causes a problem in the scenario where an operator upgrades their\ncluster and has old, deleted services with hostnames matching existing\nservices associated with instances. When we go to generate the service\nUUID for the old, deleted service, we hit a ServiceTooOld exception.\n\nThis addresses the problem by not bothering to generate a UUID for a\ndeleted service. One alternative would be to exclude deleted services\nwhen we join the 'instances' and 'services' tables, but I'm not sure\nwhether that approach might cause unintended effects where service\ninformation that used to be viewable for instances becomes hidden.\n\nCloses-Bug: #1778305\nCloses-Bug: #1764556\n\nChange-Id: I347096a527c257075cefe7b81210622f6cd87daf\n""}, {'number': 7, 'created': '2019-07-30 13:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/977a93af8c2a619c23205e066f9c7d7eb53854a4', 'message': ""Don't generate service UUID for deleted services\n\nIn Pike, we added a UUID field to services and during an upgrade from\nOcata => Pike, when instances are accessed joined with their associated\nservices, we generate a UUID for the services on-the-fly.\n\nThis causes a problem in the scenario where an operator upgrades their\ncluster and has old, deleted services with hostnames matching existing\nservices associated with instances. When we go to generate the service\nUUID for the old, deleted service, we hit a ServiceTooOld exception.\n\nThis addresses the problem by not bothering to generate a UUID for a\ndeleted service. One alternative would be to exclude deleted services\nwhen we join the 'instances' and 'services' tables, but I'm not sure\nwhether that approach might cause unintended effects where service\ninformation that used to be viewable for instances becomes hidden.\n\nCloses-Bug: #1778305\nCloses-Bug: #1764556\n\nChange-Id: I347096a527c257075cefe7b81210622f6cd87daf\n""}, {'number': 8, 'created': '2019-07-30 18:49:12.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1778305.py', 'nova/objects/service.py', 'nova/tests/functional/regressions/test_bug_1764556.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/16e163053ca39886f11fdb8a3af10a28619fc105', 'message': ""Don't generate service UUID for deleted services\n\nIn Pike, we added a UUID field to services and during an upgrade from\nOcata => Pike, when instances are accessed joined with their associated\nservices, we generate a UUID for the services on-the-fly.\n\nThis causes a problem in the scenario where an operator upgrades their\ncluster and has old, deleted services with hostnames matching existing\nservices associated with instances. When we go to generate the service\nUUID for the old, deleted service, we hit a ServiceTooOld exception.\n\nThis addresses the problem by not bothering to generate a UUID for a\ndeleted service. One alternative would be to exclude deleted services\nwhen we join the 'instances' and 'services' tables, but I'm not sure\nwhether that approach might cause unintended effects where service\ninformation that used to be viewable for instances becomes hidden.\n\nCloses-Bug: #1778305\nCloses-Bug: #1764556\n\nChange-Id: I347096a527c257075cefe7b81210622f6cd87daf\n""}]",6,582408,16e163053ca39886f11fdb8a3af10a28619fc105,81,20,8,4690,,,0,"Don't generate service UUID for deleted services

In Pike, we added a UUID field to services and during an upgrade from
Ocata => Pike, when instances are accessed joined with their associated
services, we generate a UUID for the services on-the-fly.

This causes a problem in the scenario where an operator upgrades their
cluster and has old, deleted services with hostnames matching existing
services associated with instances. When we go to generate the service
UUID for the old, deleted service, we hit a ServiceTooOld exception.

This addresses the problem by not bothering to generate a UUID for a
deleted service. One alternative would be to exclude deleted services
when we join the 'instances' and 'services' tables, but I'm not sure
whether that approach might cause unintended effects where service
information that used to be viewable for instances becomes hidden.

Closes-Bug: #1778305
Closes-Bug: #1764556

Change-Id: I347096a527c257075cefe7b81210622f6cd87daf
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/582408/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/regressions/test_bug_1778305.py', 'nova/objects/service.py']",2,644d235c569e7be4f04d31f80c2a8467660ec1b6,bug/1764556, if 'uuid' not in service and not service.deleted:, if 'uuid' not in service:,10,16
openstack%2Fneutron-vpnaas~master~If5ecd53888b339701ee162b66ae988c9cd9efd36,openstack/neutron-vpnaas,master,If5ecd53888b339701ee162b66ae988c9cd9efd36,Update api-ref location,MERGED,2019-07-30 17:55:19.000000000,2019-07-31 08:20:31.000000000,2019-07-31 08:20:31.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 17:55:19.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/66dfa3f57c2a4747b81b25bd4c2e3ecf30134b8b', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: If5ecd53888b339701ee162b66ae988c9cd9efd36\n""}]",0,673601,66dfa3f57c2a4747b81b25bd4c2e3ecf30134b8b,7,3,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: If5ecd53888b339701ee162b66ae988c9cd9efd36
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/01/673601/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,66dfa3f57c2a4747b81b25bd4c2e3ecf30134b8b,retire-api-site,.. _`VPNaaS API`: https://docs.openstack.org/api-ref/network/v2/index.html#vpnaas-2-0-vpn-vpnservices-ikepolicies-ipsecpolicies-endpoint-groups-ipsec-site-connections API reference <https://docs.openstack.org/api-ref/network/v2/index.html#vpnaas-2-0-vpn-vpnservices-ikepolicies-ipsecpolicies-endpoint-groups-ipsec-site-connections>,.. _`VPNaaS API`: https://developer.openstack.org/api-ref/network/v2/index.html#vpnaas-2-0-vpn-vpnservices-ikepolicies-ipsecpolicies-endpoint-groups-ipsec-site-connections API reference <https://developer.openstack.org/api-ref/network/v2/index.html#vpnaas-2-0-vpn-vpnservices-ikepolicies-ipsecpolicies-endpoint-groups-ipsec-site-connections>,2,2
openstack%2Fpython-glanceclient~master~I63be5a18a8221f0ca2b1f2a96367288833e4a096,openstack/python-glanceclient,master,I63be5a18a8221f0ca2b1f2a96367288833e4a096,Modify the url of upper_constraints_file,MERGED,2019-06-19 04:41:49.000000000,2019-07-31 08:12:49.000000000,2019-07-31 08:12:49.000000000,"[{'_account_id': 2537}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-19 04:41:49.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/69ef9d81ced4db4acac225ad81288c9f4d78c77b', 'message': 'Modify the url of upper_constraints_file\n\nDepends-On: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I63be5a18a8221f0ca2b1f2a96367288833e4a096\n'}]",0,666216,69ef9d81ced4db4acac225ad81288c9f4d78c77b,7,6,1,27822,,,0,"Modify the url of upper_constraints_file

Depends-On: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I63be5a18a8221f0ca2b1f2a96367288833e4a096
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/16/666216/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,69ef9d81ced4db4acac225ad81288c9f4d78c77b,Bug#2, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},1,1
openstack%2Fpython-glanceclient~master~I392f25b3ee0ee9ac6024e1670053191e4bba937a,openstack/python-glanceclient,master,I392f25b3ee0ee9ac6024e1670053191e4bba937a,Trivial: fix image format typo,MERGED,2019-07-30 10:42:21.000000000,2019-07-31 08:10:10.000000000,2019-07-31 08:10:10.000000000,"[{'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 10:42:21.000000000', 'files': ['glanceclient/v1/shell.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/a56106092e521f811034041a4e2ee6f8f1295be1', 'message': 'Trivial: fix image format typo\n\nThe Glance V1 image format list contains ""VDHX"", which is a typo.\nThis change fixes it, using the correct format name, which is ""VHDX"".\n\nLuckily, this seems to be used only as part of a help string.\n\nChange-Id: I392f25b3ee0ee9ac6024e1670053191e4bba937a\n'}]",0,673472,a56106092e521f811034041a4e2ee6f8f1295be1,7,3,1,8543,,,0,"Trivial: fix image format typo

The Glance V1 image format list contains ""VDHX"", which is a typo.
This change fixes it, using the correct format name, which is ""VHDX"".

Luckily, this seems to be used only as part of a help string.

Change-Id: I392f25b3ee0ee9ac6024e1670053191e4bba937a
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/72/673472/1 && git format-patch -1 --stdout FETCH_HEAD,['glanceclient/v1/shell.py'],1,a56106092e521f811034041a4e2ee6f8f1295be1,,"DISK_FORMATS = ('Acceptable formats: ami, ari, aki, vhd, vhdx, vmdk, raw, '","DISK_FORMATS = ('Acceptable formats: ami, ari, aki, vhd, vdhx, vmdk, raw, '",1,1
openstack%2Fmistral~master~Id5f629085e0ecfb4fc75ff82c1ed0283f3d2c490,openstack/mistral,master,Id5f629085e0ecfb4fc75ff82c1ed0283f3d2c490,Update api-ref location,MERGED,2019-07-30 17:50:44.000000000,2019-07-31 08:04:26.000000000,2019-07-31 08:04:26.000000000,"[{'_account_id': 6547}, {'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 17:50:44.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral/commit/2c3c3b1b117c3d198ca0af2c25d8fab6d27b36c0', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: Id5f629085e0ecfb4fc75ff82c1ed0283f3d2c490\n""}]",0,673595,2c3c3b1b117c3d198ca0af2c25d8fab6d27b36c0,10,3,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: Id5f629085e0ecfb4fc75ff82c1ed0283f3d2c490
",git fetch https://review.opendev.org/openstack/mistral refs/changes/95/673595/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2c3c3b1b117c3d198ca0af2c25d8fab6d27b36c0,retire-api-site,# the API Ref to docs.openstack.org.,# the API Ref to developer.openstack.org.,1,1
openstack%2Fcinder~stable%2Fqueens~Ie5195bba0515f4f390cca1d763f428cbe769f80c,openstack/cinder,stable/queens,Ie5195bba0515f4f390cca1d763f428cbe769f80c,ds,ABANDONED,2019-07-31 02:36:54.000000000,2019-07-31 07:49:39.000000000,,[{'_account_id': 24921}],"[{'number': 1, 'created': '2019-07-31 02:36:54.000000000', 'files': ['cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/45dcd34afdf411195f607c56b0b9c35da6008304', 'message': 'ds\n\nChange-Id: Ie5195bba0515f4f390cca1d763f428cbe769f80c\n'}]",0,673718,45dcd34afdf411195f607c56b0b9c35da6008304,3,1,1,30754,,,0,"ds

Change-Id: Ie5195bba0515f4f390cca1d763f428cbe769f80c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/673718/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/api.py'],1,45dcd34afdf411195f607c56b0b9c35da6008304,new-branch,"def query_volume_get_fjk(context, session=None, project_only=False,","def query_volume_get_query(context, session=None, project_only=False,",1,1
openstack%2Fcharm-deployment-guide~master~I0f5dfab62860adbb5189171efa55a9a78cd22079,openstack/charm-deployment-guide,master,I0f5dfab62860adbb5189171efa55a9a78cd22079,Fix reference name,MERGED,2019-07-30 17:21:38.000000000,2019-07-31 07:42:46.000000000,2019-07-31 07:42:46.000000000,"[{'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 17:21:38.000000000', 'files': ['deploy-guide/source/install-openstack.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/bf72ebfcc43cb58246068b97d7454e1cc69a3dce', 'message': 'Fix reference name\n\nThe document is called ""from a bundle"", update name of link.\n\nChange-Id: I0f5dfab62860adbb5189171efa55a9a78cd22079\n'}]",0,673583,bf72ebfcc43cb58246068b97d7454e1cc69a3dce,6,2,1,6547,,,0,"Fix reference name

The document is called ""from a bundle"", update name of link.

Change-Id: I0f5dfab62860adbb5189171efa55a9a78cd22079
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/83/673583/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/install-openstack.rst'],1,bf72ebfcc43cb58246068b97d7454e1cc69a3dce,broken-links,"Alternatively, jump to :doc:`Deploying OpenStack from a","Alternatively, jump to :doc:`Deploying OpenStack as a",1,1
openstack%2Fneutron~master~I6a1d8e40a8cb606b60ebede99bac7e570f761a5a,openstack/neutron,master,I6a1d8e40a8cb606b60ebede99bac7e570f761a5a,Run 'tempest-ipv6-only' job in gate,MERGED,2019-07-20 17:37:23.000000000,2019-07-31 07:37:55.000000000,2019-07-31 02:00:17.000000000,"[{'_account_id': 4694}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-07-20 17:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6be8efa0000593741ae2b5eb7e31fc22df3bb159', 'message': ""Run 'tempest-ipv6-only' job in gate\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nTempest has defined the new job 'tempest-ipv6-only'(adding\nin Depends-On patch) which will deploy services on IPv6 and run smoke\ntests and IPv6 related tests present in Tempest.\n\nThis job will be part of Nova, Neutron, Cinder, Keystone, Glance, Swift\ngate.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- 'tempest-ipv6-only' will run the smoke + IPv6 related test case.\n\nThis commit adds the new job 'tempest-ipv6-only' run on gate.\n\nStory: #2005477\nTask: #35908\n\nDepends-On: https://review.opendev.org/#/c/671231/\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I6a1d8e40a8cb606b60ebede99bac7e570f761a5a\n""}, {'number': 2, 'created': '2019-07-24 08:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fcf9100c95b8713a1d2b9e1adbedcf46443de881', 'message': ""Run 'tempest-ipv6-only' job in gate\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nTempest has defined the new job 'tempest-ipv6-only'(adding\nin Depends-On patch) which will deploy services on IPv6 and run smoke\ntests and IPv6 related tests present in Tempest.\n\nThis job will be part of Nova, Neutron, Cinder, Keystone, Glance, Swift\ngate.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- 'tempest-ipv6-only' will run the smoke + IPv6 related test case.\n\nThis commit adds the new job 'tempest-ipv6-only' run on gate.\n\nStory: #2005477\nTask: #35908\n\nDepends-On: https://review.opendev.org/#/c/671231/\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I6a1d8e40a8cb606b60ebede99bac7e570f761a5a\n""}, {'number': 3, 'created': '2019-07-24 08:40:54.000000000', 'files': ['.zuul.yaml', 'doc/source/contributor/testing/ci_scenario_jobs.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f4bdcb0031c155aec75aca8db5f34eabc79e2026', 'message': ""Run 'tempest-ipv6-only' job in gate\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nTempest has defined the new job 'tempest-ipv6-only'(adding\nin Depends-On patch) which will deploy services on IPv6 and run smoke\ntests and IPv6 related tests present in Tempest.\n\nThis job will be part of Nova, Neutron, Cinder, Keystone, Glance, Swift\ngate.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- 'tempest-ipv6-only' will run the smoke + IPv6 related test case.\n\nThis commit adds the new job 'tempest-ipv6-only' run on gate.\n\nStory: #2005477\nTask: #35908\n\nDepends-On: https://review.opendev.org/#/c/671231/\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I6a1d8e40a8cb606b60ebede99bac7e570f761a5a\n""}]",3,671899,f4bdcb0031c155aec75aca8db5f34eabc79e2026,26,8,3,8556,,,0,"Run 'tempest-ipv6-only' job in gate

As part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],
Tempest has defined the new job 'tempest-ipv6-only'(adding
in Depends-On patch) which will deploy services on IPv6 and run smoke
tests and IPv6 related tests present in Tempest.

This job will be part of Nova, Neutron, Cinder, Keystone, Glance, Swift
gate.

Verification structure will be:
- 'devstack-IPv6' deploy the service on IPv6
- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address
- 'tempest-ipv6-only' will run the smoke + IPv6 related test case.

This commit adds the new job 'tempest-ipv6-only' run on gate.

Story: #2005477
Task: #35908

Depends-On: https://review.opendev.org/#/c/671231/

[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html

Change-Id: I6a1d8e40a8cb606b60ebede99bac7e570f761a5a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/99/671899/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6be8efa0000593741ae2b5eb7e31fc22df3bb159,ipv6-only-deployment-and-testing, - tempest-ipv6-only: irrelevant-files: *tempest-irrelevant-files - tempest-ipv6-only: irrelevant-files: *tempest-irrelevant-files,,4,0
openstack%2Fkolla~master~I85dbea0debb3ef97ef7dd679964c9888f4775a3f,openstack/kolla,master,I85dbea0debb3ef97ef7dd679964c9888f4775a3f,[DO NOT MERGE] Build Fedora28 based images with python3 only,ABANDONED,2018-07-12 15:57:07.000000000,2019-07-31 07:26:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-07-12 15:57:07.000000000', 'files': ['docker/openstack-base/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/68d024724d8e4a533006b84272c102bea42a1018', 'message': '[DO NOT MERGE] Build Fedora28 based images with python3 only\n\nThis patch demonstrates how to build fedora 28 based images with\nminimal code change by pretending it is centos based.\n\nThis will be used to test python3 packages.\n\nChange-Id: I85dbea0debb3ef97ef7dd679964c9888f4775a3f\n'}]",0,582290,68d024724d8e4a533006b84272c102bea42a1018,3,1,1,13039,,,0,"[DO NOT MERGE] Build Fedora28 based images with python3 only

This patch demonstrates how to build fedora 28 based images with
minimal code change by pretending it is centos based.

This will be used to test python3 packages.

Change-Id: I85dbea0debb3ef97ef7dd679964c9888f4775a3f
",git fetch https://review.opendev.org/openstack/kolla refs/changes/90/582290/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/openstack-base/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'kolla/common/config.py']",3,68d024724d8e4a533006b84272c102bea42a1018,fedora-py3," # This is really a fedora 28, don't be tricked by the centos name 'centos': '28',DELOREAN = ""https://trunk.rdoproject.org/fedora/current/delorean.repo"" DELOREAN_DEPS = ""https://trunk.rdoproject.org/fedora/delorean-deps.repo"""," 'centos': '7',DELOREAN = \ ""https://trunk.rdoproject.org/centos7/current-passed-ci/delorean.repo"" DELOREAN_DEPS = ""https://trunk.rdoproject.org/centos7/delorean-deps.repo""",21,17
openstack%2Ftripleo-heat-templates~stable%2Frocky~Ic674aca2dfac22e948c967eb30cffc5a8ddda663,openstack/tripleo-heat-templates,stable/rocky,Ic674aca2dfac22e948c967eb30cffc5a8ddda663,[DNM] Check scenario009,ABANDONED,2019-03-15 07:39:39.000000000,2019-07-31 07:26:01.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-15 07:39:39.000000000', 'files': ['ci/environments/scenario009-multinode.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1742482e22123b941ab4d4d834fcccdad0fc6505', 'message': '[DNM] Check scenario009\n\nChange-Id: Ic674aca2dfac22e948c967eb30cffc5a8ddda663\nDepends-On: If692291d50118f38ec6657938f87d21bcda257ab\n'}]",0,643518,1742482e22123b941ab4d4d834fcccdad0fc6505,4,2,1,13039,,,0,"[DNM] Check scenario009

Change-Id: Ic674aca2dfac22e948c967eb30cffc5a8ddda663
Depends-On: If692291d50118f38ec6657938f87d21bcda257ab
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/643518/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario009-multinode.yaml'],1,1742482e22123b941ab4d4d834fcccdad0fc6505,,# DNM,,1,0
openstack%2Ftripleo-heat-templates~master~Ic674aca2dfac22e948c967eb30cffc5a8ddda663,openstack/tripleo-heat-templates,master,Ic674aca2dfac22e948c967eb30cffc5a8ddda663,[DNM] Check scenario009,ABANDONED,2019-03-14 09:36:56.000000000,2019-07-31 07:25:48.000000000,,"[{'_account_id': 13039}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-14 09:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/88182ac3a820f26021a9e090eaf6b1e614c15f71', 'message': '[DNM] Check scenario009\n\nChange-Id: Ic674aca2dfac22e948c967eb30cffc5a8ddda663\n'}, {'number': 2, 'created': '2019-03-14 17:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/720821aa2bd9241ec890d4ed9c0cc9c1f9ee8ac3', 'message': '[DNM] Check scenario009\n\nChange-Id: Ic674aca2dfac22e948c967eb30cffc5a8ddda663\n'}, {'number': 3, 'created': '2019-03-22 07:37:17.000000000', 'files': ['ci/environments/scenario009-multinode.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/02342e5243e406ad9f4561762324dfa5e63e1e62', 'message': '[DNM] Check scenario009\n\nChange-Id: Ic674aca2dfac22e948c967eb30cffc5a8ddda663\n'}]",0,643261,02342e5243e406ad9f4561762324dfa5e63e1e62,13,3,3,13039,,,0,"[DNM] Check scenario009

Change-Id: Ic674aca2dfac22e948c967eb30cffc5a8ddda663
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/61/643261/2 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario009-multinode.yaml'],1,88182ac3a820f26021a9e090eaf6b1e614c15f71,check-tripleo-openshift,# DNM ,,2,0
openstack%2Fpython-mistralclient~master~I5715d0602758cb4a0129ce2fc4c35d3e3f46cb70,openstack/python-mistralclient,master,I5715d0602758cb4a0129ce2fc4c35d3e3f46cb70,Rename the test class so it will be PyCharm friendly,MERGED,2019-07-30 14:37:30.000000000,2019-07-31 06:48:37.000000000,2019-07-31 06:48:37.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 14:37:30.000000000', 'files': ['mistralclient/tests/unit/test_client.py'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/345e0706e595005fd215e21dcb773b6dccbaeba1', 'message': 'Rename the test class so it will be PyCharm friendly\n\nIn order to run from PyCharm test classed need to end or start\nwith the word test\n\nChange-Id: I5715d0602758cb4a0129ce2fc4c35d3e3f46cb70\n'}]",0,673541,345e0706e595005fd215e21dcb773b6dccbaeba1,6,2,1,19134,,,0,"Rename the test class so it will be PyCharm friendly

In order to run from PyCharm test classed need to end or start
with the word test

Change-Id: I5715d0602758cb4a0129ce2fc4c35d3e3f46cb70
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/41/673541/1 && git format-patch -1 --stdout FETCH_HEAD,['mistralclient/tests/unit/test_client.py'],1,345e0706e595005fd215e21dcb773b6dccbaeba1,eyalb/test_names,class BaseClientTest(base.BaseTestCase):,class BaseClientTests(base.BaseTestCase):,1,1
openstack%2Fnova~master~I1c62a0a5be6c44176b5714af00cc181eb5437585,openstack/nova,master,I1c62a0a5be6c44176b5714af00cc181eb5437585,Add functional regression test for bug 1778305,MERGED,2018-07-12 22:05:33.000000000,2019-07-31 06:31:58.000000000,2019-07-31 06:31:58.000000000,"[{'_account_id': 4690}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-12 22:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c80c1d049c818d5782af3267dae6c5595bd34fb', 'message': 'Add functional regression test for bug 1778305\n\nThis tests the scenario where an operator has upgraded from Ocata =>\nPike but has old, deleted services that share the same hostname with\ncurrently existing, running services. The current behavior is that\nServiceTooOld is raised when we try to generate a UUID for the old,\ndeleted service while querying for a list of instances. After the bug\nis fixed, we should be able to successfully query for a list of\ninstances.\n\nRelated-Bug: #1778305\n\nChange-Id: I1c62a0a5be6c44176b5714af00cc181eb5437585\n'}, {'number': 2, 'created': '2018-07-13 01:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/90504883cfba21357a8324240320801d3f954055', 'message': 'Add functional regression test for bug 1778305\n\nThis tests the scenario where an operator has upgraded from Ocata =>\nPike but has old, deleted services that share the same hostname with\ncurrently existing, running services. The current behavior is that\nServiceTooOld is raised when we try to generate a UUID for the old,\ndeleted service while querying for a list of instances. After the bug\nis fixed, we should be able to successfully query for a list of\ninstances.\n\nRelated-Bug: #1778305\n\nChange-Id: I1c62a0a5be6c44176b5714af00cc181eb5437585\n'}, {'number': 3, 'created': '2018-10-25 19:07:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bfdfc01e823347e2a2d2b3b0604a79de66240533', 'message': 'Add functional regression test for bug 1778305\n\nThis tests the scenario where an operator has upgraded from Ocata =>\nPike but has old, deleted services that share the same hostname with\ncurrently existing, running services. The current behavior is that\nServiceTooOld is raised when we try to generate a UUID for the old,\ndeleted service while querying for a list of instances. After the bug\nis fixed, we should be able to successfully query for a list of\ninstances.\n\nRelated-Bug: #1778305\n\nChange-Id: I1c62a0a5be6c44176b5714af00cc181eb5437585\n'}, {'number': 4, 'created': '2018-10-25 19:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c7eac6307812dec597e4467b90498201fd94854a', 'message': 'Add functional regression test for bug 1778305\n\nThis tests the scenario where an operator has upgraded from Ocata =>\nPike but has old, deleted services that share the same hostname with\ncurrently existing, running services. The current behavior is that\nServiceTooOld is raised when we try to generate a UUID for the old,\ndeleted service while querying for a list of instances. After the bug\nis fixed, we should be able to successfully query for a list of\ninstances.\n\nRelated-Bug: #1778305\n\nChange-Id: I1c62a0a5be6c44176b5714af00cc181eb5437585\n'}, {'number': 5, 'created': '2019-04-10 16:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/da0969c0aad03a71bfbdc551a28ade0cdc790de5', 'message': 'Add functional regression test for bug 1778305\n\nThis tests the scenario where an operator has upgraded from Ocata =>\nPike but has old, deleted services that share the same hostname with\ncurrently existing, running services. The current behavior is that\nServiceTooOld is raised when we try to generate a UUID for the old,\ndeleted service while querying for a list of instances. After the bug\nis fixed, we should be able to successfully query for a list of\ninstances.\n\nRelated-Bug: #1778305\n\nChange-Id: I1c62a0a5be6c44176b5714af00cc181eb5437585\n'}, {'number': 6, 'created': '2019-04-10 20:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/18a2d3860e246d149334ad85783afe2993374ee6', 'message': 'Add functional regression test for bug 1778305\n\nThis tests the scenario where an operator has upgraded from Ocata =>\nPike but has old, deleted services that share the same hostname with\ncurrently existing, running services. The current behavior is that\nServiceTooOld is raised when we try to generate a UUID for the old,\ndeleted service while querying for a list of instances. After the bug\nis fixed, we should be able to successfully query for a list of\ninstances.\n\nRelated-Bug: #1778305\n\nChange-Id: I1c62a0a5be6c44176b5714af00cc181eb5437585\n'}, {'number': 7, 'created': '2019-07-30 13:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d54d2a043c329a5ca5d82bdb8c7e354565da8a77', 'message': 'Add functional regression test for bug 1778305\n\nThis tests the scenario where an operator has upgraded from Ocata =>\nPike but has old, deleted services that share the same hostname with\ncurrently existing, running services. The current behavior is that\nServiceTooOld is raised when we try to generate a UUID for the old,\ndeleted service while querying for a list of instances. After the bug\nis fixed, we should be able to successfully query for a list of\ninstances.\n\nRelated-Bug: #1778305\n\nChange-Id: I1c62a0a5be6c44176b5714af00cc181eb5437585\n'}, {'number': 8, 'created': '2019-07-30 18:49:12.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1778305.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1d9aaef3d1c880b02d6b7c186e8de79cbaac9ae0', 'message': 'Add functional regression test for bug 1778305\n\nThis tests the scenario where an operator has upgraded from Ocata =>\nPike but has old, deleted services that share the same hostname with\ncurrently existing, running services. The current behavior is that\nServiceTooOld is raised when we try to generate a UUID for the old,\ndeleted service while querying for a list of instances. After the bug\nis fixed, we should be able to successfully query for a list of\ninstances.\n\nRelated-Bug: #1778305\n\nChange-Id: I1c62a0a5be6c44176b5714af00cc181eb5437585\n'}]",0,582407,1d9aaef3d1c880b02d6b7c186e8de79cbaac9ae0,67,13,8,4690,,,0,"Add functional regression test for bug 1778305

This tests the scenario where an operator has upgraded from Ocata =>
Pike but has old, deleted services that share the same hostname with
currently existing, running services. The current behavior is that
ServiceTooOld is raised when we try to generate a UUID for the old,
deleted service while querying for a list of instances. After the bug
is fixed, we should be able to successfully query for a list of
instances.

Related-Bug: #1778305

Change-Id: I1c62a0a5be6c44176b5714af00cc181eb5437585
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/582407/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1778305.py'],1,3c80c1d049c818d5782af3267dae6c5595bd34fb,bug/1764556,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import nova.context from nova.db import api as db from nova import objects from nova import test class InstanceListWithOldDeletedServiceTestCase(test.TestCase): def setUp(self): super(InstanceListWithOldDeletedServiceTestCase, self).setUp() self.context = nova.context.RequestContext('fake-user', 'fake-project') def test_instance_list_old_deleted_service_with_no_uuid(self): # Create a nova-compute service record with a host that will match the # instance's host, with no uuid. We can't do this through the # Service object because it will automatically generate a uuid. # Use service version 9, which is too old compared to the minimum # version in the rest of the deployment. service = db.service_create(self.context, {'host': 'fake-host', 'binary': 'nova-compute', 'version': 9}) self.assertIsNone(service['uuid']) # Now delete it. db.service_destroy(self.context, service['id']) # Create a new service with the same host name that has a UUID and a # current version. new_service = objects.Service(context=self.context, host='fake-host', binary='nova-compute') new_service.create() # Create an instance whose host will match both services, including the # deleted one. inst = objects.Instance(context=self.context, project_id=self.context.project_id, host='fake-host') inst.create() # TODO(melwitt): Remove this assert when the bug is fixed. self.assertRaises(nova.exception.ServiceTooOld, objects.InstanceList.get_by_filters, self.context, {}, expected_attrs=['services']) # TODO(melwitt): Uncomment these asserts when the bug is fixed. #insts = objects.InstanceList.get_by_filters( # self.context, {}, expected_attrs=['services']) #self.assertEqual(1, len(insts)) #self.assertEqual(2, len(insts[0].services)) # Deleted service should not have a UUID #for service in insts[0].services: # if service.deleted: # self.assertIsNone(service.uuid) # else: # self.assertIsNotNone(service.uuid) ",,67,0
openstack%2Fmistral~master~I69ca615ed446214463f8fa7a3e303ff0bf32b460,openstack/mistral,master,I69ca615ed446214463f8fa7a3e303ff0bf32b460,When installing devstack enable the bash completion,MERGED,2019-07-21 05:38:52.000000000,2019-07-31 06:27:45.000000000,2019-07-31 06:27:45.000000000,"[{'_account_id': 8731}, {'_account_id': 18955}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 29124}]","[{'number': 1, 'created': '2019-07-21 05:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/060611d1f87a8e07e8c749e69819a9a5ce89b798', 'message': 'When installing devstack enable the bash completion\n\nIn devstack if we install the client then copy the bash\ncompletion script to its folder.\nalso use the standart devstack function to install the\nmistral client\n\nChange-Id: I69ca615ed446214463f8fa7a3e303ff0bf32b460\n'}, {'number': 2, 'created': '2019-07-21 06:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/9f913bb551aae4f0d617b49fbf06d0938e51250b', 'message': 'When installing devstack enable the bash completion\n\nIn devstack if we install the client then copy the bash\ncompletion script to its folder.\nalso use the standart devstack function to install the\nmistral client\n\nChange-Id: I69ca615ed446214463f8fa7a3e303ff0bf32b460\n'}, {'number': 3, 'created': '2019-07-21 07:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/1cbded8acfec031590d8841ad29c2ca09d6b664c', 'message': 'When installing devstack enable the bash completion\n\nIn devstack if we install the client then copy the bash\ncompletion script to its folder.\nalso use the standart devstack function to install the\nmistral client\n\nChange-Id: I69ca615ed446214463f8fa7a3e303ff0bf32b460\n'}, {'number': 4, 'created': '2019-07-21 07:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/c21bb4520365bcb829fbe9a022d13b595133fa44', 'message': 'When installing devstack enable the bash completion\n\nIn devstack if we install the client then copy the bash\ncompletion script to its folder.\nalso use the standart devstack function to install the\nmistral client\n\nChange-Id: I69ca615ed446214463f8fa7a3e303ff0bf32b460\n'}, {'number': 5, 'created': '2019-07-21 10:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/85503d2f72066701e56adc7da55c8bbb999737e4', 'message': 'When installing devstack enable the bash completion\n\nIn devstack if we install the client then copy the bash\ncompletion script to its folder.\nalso use the standart devstack function to install the\nmistral client\n\nChange-Id: I69ca615ed446214463f8fa7a3e303ff0bf32b460\n'}, {'number': 6, 'created': '2019-07-25 11:10:12.000000000', 'files': ['devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/mistral/commit/90a9a48f21cbbf9ccf270799d0fc2aa25895636f', 'message': 'When installing devstack enable the bash completion\n\nIn devstack if we install the client then copy the bash\ncompletion script to its folder.\nalso use the standart devstack function to install the\nmistral client\n\nChange-Id: I69ca615ed446214463f8fa7a3e303ff0bf32b460\n'}]",2,671914,90a9a48f21cbbf9ccf270799d0fc2aa25895636f,20,5,6,19134,,,0,"When installing devstack enable the bash completion

In devstack if we install the client then copy the bash
completion script to its folder.
also use the standart devstack function to install the
mistral client

Change-Id: I69ca615ed446214463f8fa7a3e303ff0bf32b460
",git fetch https://review.opendev.org/openstack/mistral refs/changes/14/671914/6 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/settings']",2,060611d1f87a8e07e8c749e69819a9a5ce89b798,eyalb/devstack,,MISTRAL_PYTHONCLIENT_REPO=${MISTRAL_PYTHONCLIENT_REPO:-${GIT_BASE}/openstack/python-mistralclient.git} MISTRAL_PYTHONCLIENT_BRANCH=${MISTRAL_PYTHONCLIENT_BRANCH:-master} MISTRAL_PYTHONCLIENT_DIR=$DEST/python-mistralclient ,3,10
openstack%2Fcinder~stable%2Fqueens~Id04c49006ce0a13a149b080956a3456db1c44099,openstack/cinder,stable/queens,Id04c49006ce0a13a149b080956a3456db1c44099,function supplement,ABANDONED,2019-07-31 02:10:57.000000000,2019-07-31 06:16:02.000000000,,[{'_account_id': 24921}],"[{'number': 1, 'created': '2019-07-31 02:10:57.000000000', 'files': ['cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b441fd3bd6ad42055fad63bf0a772e9c502a36cb', 'message': 'function supplement\n\nChange-Id: Id04c49006ce0a13a149b080956a3456db1c44099\n'}]",0,673715,b441fd3bd6ad42055fad63bf0a772e9c502a36cb,3,1,1,30754,,,0,"function supplement

Change-Id: Id04c49006ce0a13a149b080956a3456db1c44099
",git fetch https://review.opendev.org/openstack/cinder refs/changes/15/673715/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/api.py'],1,b441fd3bd6ad42055fad63bf0a772e9c502a36cb,new-branch,"@require_context def query_volume_get_query(context, session=None, project_only=False, joined_load=True,volume_id = None,user_id = None): """"""Get the query to retrieve the volume. :param context: the context used to run the method _volume_get_query :param session: the session to use :param project_only: the boolean used to decide whether to query the volume in the current project or all projects :param joined_load: the boolean used to decide whether the query loads the other models, which join the volume model in the database. Currently, the False value for this parameter is specially for the case of updating database during volume migration :returns: updated query or None """""" if not joined_load: return model_query(context, models.Volume, session=session, project_only=project_only) if is_admin_context(context): query = model_query(context, models.Volume, session=session, project_only=project_only).\ options(joinedload('volume_metadata')).\ options(joinedload('volume_admin_metadata')).\ options(joinedload('volume_type')).\ options(joinedload('volume_attachment')).\ options(joinedload('consistencygroup')).\ options(joinedload('group')) else: query = model_query(context, models.Volume, session=session, project_only=project_only).\ options(joinedload('volume_metadata')).\ options(joinedload('volume_type')).\ options(joinedload('volume_attachment')).\ options(joinedload('consistencygroup')).\ options(joinedload('group')) if volume_id and user_id: return query.filter(or_(models.Volume.id.in_(volume_id),models.Volume.user_id.in_(user_id))) elif volume_id and not user_id: return query.filter(models.Volume.id.in_(volume_id)) elif not volume_id and user_id: return query.filter(models.Volume.user_id.in_(user_id)) else: return query",,44,0
openstack%2Fmistral~master~I85b9cc76ad7c10a9ffac7ae61232460381723b8f,openstack/mistral,master,I85b9cc76ad7c10a9ffac7ae61232460381723b8f,Rename the test class so it will be PyCharm friendly,MERGED,2019-07-30 14:44:01.000000000,2019-07-31 05:48:17.000000000,2019-07-31 05:48:17.000000000,"[{'_account_id': 8731}, {'_account_id': 11391}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 14:44:01.000000000', 'files': ['mistral/tests/unit/executors/test_local_executor.py', 'mistral/tests/unit/lang/v2/test_workflows.py', 'mistral/tests/unit/test_exception_base.py', 'mistral/tests/unit/notifiers/test_notifier_servers.py', 'mistral/tests/unit/lang/v2/test_actions.py', 'mistral/tests/unit/api/test_access_control.py', 'mistral/tests/unit/rpc/kombu/test_kombu_hosts.py', 'mistral/tests/unit/lang/v2/test_tasks.py', 'mistral/tests/unit/executors/test_server_plugins.py', 'mistral/tests/unit/test_context.py', 'mistral/tests/unit/rpc/kombu/test_kombu_server.py', 'mistral/tests/unit/rpc/kombu/test_kombu_client.py', 'mistral/tests/unit/lang/v2/test_workbook.py', 'mistral/tests/unit/rpc/kombu/test_kombu_listener.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/77118d3bb90fd7a27f4eafd1da569a73e7b6acb1', 'message': ""Rename the test class so it will be PyCharm friendly\n\nIn order to run from PyCharm test classed need to end or start\nwith the word 'Test'\n\nChange-Id: I85b9cc76ad7c10a9ffac7ae61232460381723b8f\n""}]",0,673544,77118d3bb90fd7a27f4eafd1da569a73e7b6acb1,7,3,1,19134,,,0,"Rename the test class so it will be PyCharm friendly

In order to run from PyCharm test classed need to end or start
with the word 'Test'

Change-Id: I85b9cc76ad7c10a9ffac7ae61232460381723b8f
",git fetch https://review.opendev.org/openstack/mistral refs/changes/44/673544/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/tests/unit/executors/test_local_executor.py', 'mistral/tests/unit/lang/v2/test_workflows.py', 'mistral/tests/unit/test_exception_base.py', 'mistral/tests/unit/notifiers/test_notifier_servers.py', 'mistral/tests/unit/lang/v2/test_actions.py', 'mistral/tests/unit/api/test_access_control.py', 'mistral/tests/unit/rpc/kombu/test_kombu_hosts.py', 'mistral/tests/unit/lang/v2/test_tasks.py', 'mistral/tests/unit/executors/test_server_plugins.py', 'mistral/tests/unit/test_context.py', 'mistral/tests/unit/rpc/kombu/test_kombu_server.py', 'mistral/tests/unit/rpc/kombu/test_kombu_client.py', 'mistral/tests/unit/lang/v2/test_workbook.py', 'mistral/tests/unit/rpc/kombu/test_kombu_listener.py']",14,77118d3bb90fd7a27f4eafd1da569a73e7b6acb1,eyalb/test_names,"class KombuListenerTest(base.KombuTestCase): super(KombuListenerTest, self).setUp()","class KombuListenerTestCase(base.KombuTestCase): super(KombuListenerTestCase, self).setUp()",32,32
openstack%2Fproject-config~master~I571afd0557f52ec9bf470c9ede46b9e3a0bb308f,openstack/project-config,master,I571afd0557f52ec9bf470c9ede46b9e3a0bb308f,"Rename ""tripleo-ci-centos-7-scenario007-standalone"" in Neutron",MERGED,2019-07-23 13:43:09.000000000,2019-07-31 05:45:55.000000000,2019-07-31 05:45:55.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-23 13:43:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ee282bc26a11f3221d10c6fc74dc703b95f53181', 'message': 'Rename ""tripleo-ci-centos-7-scenario007-standalone"" in Neutron\n\nJob ""tripleo-ci-centos-7-scenario007-standalone"" defined in Neutron\nrepo had to be renamed to not conflict with same job proposed in\nTripleo-ci repo.\nNow this job in Neutron is called\n""tripleo-ci-centos-7-scenario007-standalone"".\n\nChange-Id: I571afd0557f52ec9bf470c9ede46b9e3a0bb308f\n'}, {'number': 2, 'created': '2019-07-23 14:07:25.000000000', 'files': ['grafana/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/003a174f37e75f5d63030eecbbbb157ebc96149e', 'message': 'Rename ""tripleo-ci-centos-7-scenario007-standalone"" in Neutron\n\nJob ""tripleo-ci-centos-7-scenario007-standalone"" defined in Neutron\nrepo had to be renamed to not conflict with same job proposed in\nTripleo-ci repo.\nNow this job in Neutron is called\n""neutron-centos-7-tripleo-standalone"".\n\nChange-Id: I571afd0557f52ec9bf470c9ede46b9e3a0bb308f\n'}]",3,672290,003a174f37e75f5d63030eecbbbb157ebc96149e,12,4,2,11975,,,0,"Rename ""tripleo-ci-centos-7-scenario007-standalone"" in Neutron

Job ""tripleo-ci-centos-7-scenario007-standalone"" defined in Neutron
repo had to be renamed to not conflict with same job proposed in
Tripleo-ci repo.
Now this job in Neutron is called
""neutron-centos-7-tripleo-standalone"".

Change-Id: I571afd0557f52ec9bf470c9ede46b9e3a0bb308f
",git fetch https://review.opendev.org/openstack/project-config refs/changes/90/672290/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/neutron.yaml'],1,ee282bc26a11f3221d10c6fc74dc703b95f53181,update-neutron-dashboard," - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-centos-7-tripleo-standalone.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-centos-7-tripleo-standalone.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-centos-7-tripleo-standalone (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-centos-7-tripleo-standalone.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-centos-7-tripleo-standalone (non-voting)')"," - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.tripleo-ci-centos-7-scenario007-standalone.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.tripleo-ci-centos-7-scenario007-standalone.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tripleo-ci-centos-7-scenario007-standalone (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.tripleo-ci-centos-7-scenario007-standalone.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'tripleo-ci-centos-7-scenario007-standalone (non-voting)')",2,2
openstack%2Fpuppet-cinder~master~I02786009cf59cc113c390aa59a9297575ceb328c,openstack/puppet-cinder,master,I02786009cf59cc113c390aa59a9297575ceb328c,Customize roles assigned to cinder user,MERGED,2019-06-25 00:12:19.000000000,2019-07-31 05:40:15.000000000,2019-07-31 05:40:15.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-25 00:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/36ea7b1fb35349953fcfd78035a37d358110f5ef', 'message': 'Customize roles assigned to cinder user\n\nThis patch introduces a new hieradata cinder::keystone::auth::roles,\nto configure customized role assigned to cinder user.\n\nThis is required to configure service token feature, as it requires\nspecial role is assigned to the user who uses the feature.\n\nChange-Id: I02786009cf59cc113c390aa59a9297575ceb328c\n'}, {'number': 2, 'created': '2019-06-25 01:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/f7357c56e645fcd886c34fbec32b77e1ad666314', 'message': 'Customize roles assigned to cinder user\n\nThis patch introduces a new hieradata cinder::keystone::auth::roles,\nto configure customized role assigned to cinder user.\n\nThis is required to configure service token feature, as it requires\nspecial role is assigned to the user who uses the feature.\n\nChange-Id: I02786009cf59cc113c390aa59a9297575ceb328c\n'}, {'number': 3, 'created': '2019-07-12 01:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/f5dc61c9f48724eddba9f72ede192e990c70faf4', 'message': 'Customize roles assigned to cinder user\n\nThis patch introduces a new hieradata cinder::keystone::auth::roles,\nto configure customized role assigned to cinder user.\n\nThis is required to configure service token feature, as it requires\nspecial role is assigned to the user who uses the feature.\n\nChange-Id: I02786009cf59cc113c390aa59a9297575ceb328c\n'}, {'number': 4, 'created': '2019-07-16 07:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/01f4d96a4a598fe5eed7369f25d35ebe512deb88', 'message': 'Customize roles assigned to cinder user\n\nThis patch introduces a new hieradata cinder::keystone::auth::roles,\nto configure customized role assigned to cinder user.\n\nThis is required to configure service token feature, as it requires\nspecial role is assigned to the user who uses the feature.\n\nChange-Id: I02786009cf59cc113c390aa59a9297575ceb328c\n'}, {'number': 5, 'created': '2019-07-16 10:23:14.000000000', 'files': ['releasenotes/notes/keystone_authtoken-service_token_roles-e698dd87b9cd2598.yaml', 'spec/classes/cinder_keystone_auth_spec.rb', 'spec/classes/cinder_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp', 'manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/0e78a0faaef9e9a75b1a6607cddcc3e657f29cf1', 'message': 'Customize roles assigned to cinder user\n\nThis patch introduces a new hieradata cinder::keystone::auth::roles,\nto configure customized role assigned to cinder user.\n\nThis is required to configure service token feature, as it requires\nspecial role is assigned to the user who uses the feature.\n\nChange-Id: I02786009cf59cc113c390aa59a9297575ceb328c\n'}]",0,667252,0e78a0faaef9e9a75b1a6607cddcc3e657f29cf1,30,5,5,9816,,,0,"Customize roles assigned to cinder user

This patch introduces a new hieradata cinder::keystone::auth::roles,
to configure customized role assigned to cinder user.

This is required to configure service token feature, as it requires
special role is assigned to the user who uses the feature.

Change-Id: I02786009cf59cc113c390aa59a9297575ceb328c
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/52/667252/4 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/cinder_keystone_auth_spec.rb', 'manifests/keystone/auth.pp']",2,36ea7b1fb35349953fcfd78035a37d358110f5ef,customized-user-role,"# [*roles*] # (Optional) List of roles assigned to Cinder user # Defaults to ['admin'] # # [*roles_v2*] # (Optional) List of roles assigned to Cinder v2 user # Defaults to ['admin'] # # [*roles_V3*] # (Optional) List of roles assigned to Cinder v3 user # Defaults to ['admin'] # $roles = ['admin'], $roles_v2 = ['admin'], $roles_v3 = ['admin'], roles => $roles, roles => $roles_v2, roles => $roles_v3,",,24,0
openstack%2Fpython-tripleoclient~master~I6e2255c0d490ee8105f0757d02f5d8fba1d4fa20,openstack/python-tripleoclient,master,I6e2255c0d490ee8105f0757d02f5d8fba1d4fa20,Add --parameters and --create-vars-file arguments to the list subcommand,MERGED,2019-07-11 16:44:35.000000000,2019-07-31 05:21:56.000000000,2019-07-31 05:21:56.000000000,"[{'_account_id': 11082}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-11 16:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e44be1a78aac32dddf1d82f0ed8972f3cba594ac', 'message': '[WIP] Add --parameters argument to get only the variables\n\nAllow to list only the available variables for a specific validation or a\ngroup of validations.\n\nChange-Id: I6e2255c0d490ee8105f0757d02f5d8fba1d4fa20\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2019-07-11 16:47:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7a0819cf5500b946eb13a90a66b9af479d91efa0', 'message': '[WIP] Add --parameters argument to get only the variables\n\nAllow to list only the available variables for a specific validation or a\ngroup of validations.\n\nChange-Id: I6e2255c0d490ee8105f0757d02f5d8fba1d4fa20\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2019-07-11 20:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a104b7a513d5d577eb8dc972e6fa35563092c08e', 'message': '[WIP] Add --parameters argument to get only the variables\n\nAllow to list only the available variables for a specific validation or a\ngroup of validations.\n\nChange-Id: I6e2255c0d490ee8105f0757d02f5d8fba1d4fa20\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 4, 'created': '2019-07-11 21:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d294ed10a5d3fb569797b0ce13029918a22cc9cd', 'message': '[WIP] Add --parameters argument to get only the variables\n\nAllow to list only the available variables for a specific validation or a\ngroup of validations.\n\nChange-Id: I6e2255c0d490ee8105f0757d02f5d8fba1d4fa20\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 5, 'created': '2019-07-12 12:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a89f5f78157492a2b4da6c28c98c916df9a29cab', 'message': 'Add --parameters and --create-vars-file arguments to the list subcommand\n\nThe \'openstack tripleo validator list\' subcommand can now get only the\navailable parameters for the validations using the new --parameters\nargument.\n\n```\n$ openstack tripleo validator list \\\n    --parameters                   \\\n    [--validation-name <validation_id>[,<validation_id>,...] |\n     --group <group>[,<group>,...]]\n```\n\nHere is an output example:\n\n```\nWaiting for messages on queue \'tripleo\' with no timeout.\n{\n    ""undercloud-cpu"": {\n        ""parameters"": {\n            ""min_undercloud_cpu_count"": 8\n        }\n    },\n    ""undercloud-ram"": {\n        ""parameters"": {\n            ""min_undercloud_ram_gb"": 24\n        }\n    }\n}\n```\n\nThe --create-vars-file allow the operator to generate either a JSON or a\nYAML file containing only the parameters of one or multiple validations.\nThis file will be available to pass as extra vars to the validations\nexecution.\n\n```\n$ openstack tripleo validator list \\\n    --parameters                   \\\n    --create-vars-file [json|yaml] /home/stack/myvars \\\n    [--validation-name <validation_id>[,<validation_id>,...] |\n     --group <group>[,<group>,...]]\n```\n\nChange-Id: I6e2255c0d490ee8105f0757d02f5d8fba1d4fa20\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 6, 'created': '2019-07-12 13:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/aa55cce38ffd634da7c780dc9f23a93a093c2037', 'message': 'Add --parameters and --create-vars-file arguments to the list subcommand\n\nThe \'openstack tripleo validator list\' subcommand can now get only the\navailable parameters for the validations using the new --parameters\nargument.\n\n```\n$ openstack tripleo validator list \\\n    --parameters                   \\\n    [--validation-name <validation_id>[,<validation_id>,...] |\n     --group <group>[,<group>,...]]\n```\n\nHere is an output example:\n\n```\nWaiting for messages on queue \'tripleo\' with no timeout.\n{\n    ""undercloud-cpu"": {\n        ""parameters"": {\n            ""min_undercloud_cpu_count"": 8\n        }\n    },\n    ""undercloud-ram"": {\n        ""parameters"": {\n            ""min_undercloud_ram_gb"": 24\n        }\n    }\n}\n```\n\nThe --create-vars-file allow the operator to generate either a JSON or a\nYAML file containing only the parameters of one or multiple validations.\nThis file will be available to pass as extra vars to the validations\nexecution.\n\n```\n$ openstack tripleo validator list \\\n    --parameters                   \\\n    --create-vars-file [json|yaml] /home/stack/myvars \\\n    [--validation-name <validation_id>[,<validation_id>,...] |\n     --group <group>[,<group>,...]]\n```\n\nChange-Id: I6e2255c0d490ee8105f0757d02f5d8fba1d4fa20\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 7, 'created': '2019-07-12 13:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/311e09adc0f2014c96c9eca891329f902879bc50', 'message': 'Add --parameters and --create-vars-file arguments to the list subcommand\n\nThe \'openstack tripleo validator list\' subcommand can now get only the\navailable parameters for the validations using the new --parameters\nargument.\n\n```\n$ openstack tripleo validator list \\\n    --parameters                   \\\n    [--validation-name <validation_id>[,<validation_id>,...] |\n     --group <group>[,<group>,...]]\n```\n\nHere is an output example:\n\n```\nWaiting for messages on queue \'tripleo\' with no timeout.\n{\n    ""undercloud-cpu"": {\n        ""parameters"": {\n            ""min_undercloud_cpu_count"": 8\n        }\n    },\n    ""undercloud-ram"": {\n        ""parameters"": {\n            ""min_undercloud_ram_gb"": 24\n        }\n    }\n}\n```\n\nThe --create-vars-file allow the operator to generate either a JSON or a\nYAML file containing only the parameters of one or multiple validations.\nThis file will be available to pass as extra vars to the validations\nexecution.\n\n```\n$ openstack tripleo validator list \\\n    --parameters                   \\\n    --create-vars-file [json|yaml] /home/stack/myvars \\\n    [--validation-name <validation_id>[,<validation_id>,...] |\n     --group <group>[,<group>,...]]\n```\n\nChange-Id: I6e2255c0d490ee8105f0757d02f5d8fba1d4fa20\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 8, 'created': '2019-07-12 13:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8bfb075d9abd82b4230a44622dcdfa83efbdf23e', 'message': 'Add --parameters and --create-vars-file arguments to the list subcommand\n\nThe \'openstack tripleo validator list\' subcommand can now get only the\navailable parameters for the validations using the new --parameters\nargument.\n\n```\n$ openstack tripleo validator list \\\n    --parameters                   \\\n    [--validation-name <validation_id>[,<validation_id>,...] |\n     --group <group>[,<group>,...]]\n```\n\nHere is an output example:\n\n```\nWaiting for messages on queue \'tripleo\' with no timeout.\n{\n    ""undercloud-cpu"": {\n        ""parameters"": {\n            ""min_undercloud_cpu_count"": 8\n        }\n    },\n    ""undercloud-ram"": {\n        ""parameters"": {\n            ""min_undercloud_ram_gb"": 24\n        }\n    }\n}\n```\n\nThe --create-vars-file allow the operator to generate either a JSON or a\nYAML file containing only the parameters of one or multiple validations.\nThis file will be available to pass as extra vars to the validations\nexecution.\n\n```\n$ openstack tripleo validator list \\\n    --parameters                   \\\n    --create-vars-file [json|yaml] /home/stack/myvars \\\n    [--validation-name <validation_id>[,<validation_id>,...] |\n     --group <group>[,<group>,...]]\n```\n\nChange-Id: I6e2255c0d490ee8105f0757d02f5d8fba1d4fa20\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 9, 'created': '2019-07-12 15:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9e414794382c9608c224490f67f0976aec2653a0', 'message': 'Add --parameters and --create-vars-file arguments to the list subcommand\n\nThe \'openstack tripleo validator list\' subcommand can now get only the\navailable parameters for the validations using the new --parameters\nargument.\n\n```\n$ openstack tripleo validator list \\\n    --parameters                   \\\n    [--validation-name <validation_id>[,<validation_id>,...] |\n     --group <group>[,<group>,...]]\n```\n\nHere is an output example:\n\n```\nWaiting for messages on queue \'tripleo\' with no timeout.\n{\n    ""undercloud-cpu"": {\n        ""parameters"": {\n            ""min_undercloud_cpu_count"": 8\n        }\n    },\n    ""undercloud-ram"": {\n        ""parameters"": {\n            ""min_undercloud_ram_gb"": 24\n        }\n    }\n}\n```\n\nThe --create-vars-file allow the operator to generate either a JSON or a\nYAML file containing only the parameters of one or multiple validations.\nThis file will be available to pass as extra vars to the validations\nexecution.\n\n```\n$ openstack tripleo validator list \\\n    --parameters                   \\\n    --create-vars-file [json|yaml] /home/stack/myvars \\\n    [--validation-name <validation_id>[,<validation_id>,...] |\n     --group <group>[,<group>,...]]\n```\n\nChange-Id: I6e2255c0d490ee8105f0757d02f5d8fba1d4fa20\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 10, 'created': '2019-07-13 14:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/440951ca931eb3e78bf8217ffc414a7b0a557741', 'message': 'Add --parameters and --create-vars-file arguments to the list subcommand\n\nThe \'openstack tripleo validator list\' subcommand can now get only the\navailable parameters for the validations using the new --parameters\nargument.\n\n```\n$ openstack tripleo validator list \\\n    --parameters                   \\\n    [--validation-name <validation_id>[,<validation_id>,...] |\n     --group <group>[,<group>,...]]\n```\n\nHere is an output example:\n\n```\nWaiting for messages on queue \'tripleo\' with no timeout.\n{\n    ""undercloud-cpu"": {\n        ""parameters"": {\n            ""min_undercloud_cpu_count"": 8\n        }\n    },\n    ""undercloud-ram"": {\n        ""parameters"": {\n            ""min_undercloud_ram_gb"": 24\n        }\n    }\n}\n```\n\nThe --create-vars-file allow the operator to generate either a JSON or a\nYAML file containing only the parameters of one or multiple validations.\nThis file will be available to pass as extra vars to the validations\nexecution.\n\n```\n$ openstack tripleo validator list \\\n    --parameters                   \\\n    --create-vars-file [json|yaml] /home/stack/myvars \\\n    [--validation-name <validation_id>[,<validation_id>,...] |\n     --group <group>[,<group>,...]]\n```\n\nChange-Id: I6e2255c0d490ee8105f0757d02f5d8fba1d4fa20\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 11, 'created': '2019-07-13 14:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d28f8bedcf27b746e9f5c661fb44f0991e1702dd', 'message': 'Add --parameters and --create-vars-file arguments to the list subcommand\n\nThe \'openstack tripleo validator list\' subcommand can now get only the\navailable parameters for the validations using the new --parameters\nargument.\n\n```\n$ openstack tripleo validator list \\\n    --parameters                   \\\n    [--validation-name <validation_id>[,<validation_id>,...] |\n     --group <group>[,<group>,...]]\n```\n\nHere is an output example:\n\n```\nWaiting for messages on queue \'tripleo\' with no timeout.\n{\n    ""undercloud-cpu"": {\n        ""parameters"": {\n            ""min_undercloud_cpu_count"": 8\n        }\n    },\n    ""undercloud-ram"": {\n        ""parameters"": {\n            ""min_undercloud_ram_gb"": 24\n        }\n    }\n}\n```\n\nThe --create-vars-file allow the operator to generate either a JSON or a\nYAML file containing only the parameters of one or multiple validations.\nThis file will be available to pass as extra vars to the validations\nexecution.\n\n```\n$ openstack tripleo validator list \\\n    --parameters                   \\\n    --create-vars-file [json|yaml] /home/stack/myvars \\\n    [--validation-name <validation_id>[,<validation_id>,...] |\n     --group <group>[,<group>,...]]\n```\n\nChange-Id: I6e2255c0d490ee8105f0757d02f5d8fba1d4fa20\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 12, 'created': '2019-07-13 14:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ca75aef6e515e241f49adf10e934f4daaeb9abfc', 'message': 'Add --parameters and --create-vars-file arguments to the list subcommand\n\nThe \'openstack tripleo validator list\' subcommand can now get only the\navailable parameters for the validations using the new --parameters\nargument.\n\n```\n$ openstack tripleo validator list \\\n    --parameters                   \\\n    [--validation-name <validation_id>[,<validation_id>,...] |\n     --group <group>[,<group>,...]]\n```\n\nHere is an output example:\n\n```\nWaiting for messages on queue \'tripleo\' with no timeout.\n{\n    ""undercloud-cpu"": {\n        ""parameters"": {\n            ""min_undercloud_cpu_count"": 8\n        }\n    },\n    ""undercloud-ram"": {\n        ""parameters"": {\n            ""min_undercloud_ram_gb"": 24\n        }\n    }\n}\n```\n\nThe --create-vars-file allow the operator to generate either a JSON or a\nYAML file containing only the parameters of one or multiple validations.\nThis file will be available to pass as extra vars to the validations\nexecution.\n\n```\n$ openstack tripleo validator list \\\n    --parameters                   \\\n    --create-vars-file [json|yaml] /home/stack/myvars \\\n    [--validation-name <validation_id>[,<validation_id>,...] |\n     --group <group>[,<group>,...]]\n```\n\nChange-Id: I6e2255c0d490ee8105f0757d02f5d8fba1d4fa20\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 13, 'created': '2019-07-15 09:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cad574f67a40cc9d1d7624186f572f8b34d39bbf', 'message': 'Add --parameters and --create-vars-file arguments to the list subcommand\n\nThe \'openstack tripleo validator list\' subcommand can now get only the\navailable parameters for the validations using the new --parameters\nargument.\n\n```\n$ openstack tripleo validator list \\\n    --parameters                   \\\n    [--validation-name <validation_id>[,<validation_id>,...] |\n     --group <group>[,<group>,...]]\n```\n\nHere is an output example:\n\n```\nWaiting for messages on queue \'tripleo\' with no timeout.\n{\n    ""undercloud-cpu"": {\n        ""parameters"": {\n            ""min_undercloud_cpu_count"": 8\n        }\n    },\n    ""undercloud-ram"": {\n        ""parameters"": {\n            ""min_undercloud_ram_gb"": 24\n        }\n    }\n}\n```\n\nThe --create-vars-file allow the operator to generate either a JSON or a\nYAML file containing only the parameters of one or multiple validations.\nThis file will be available to pass as extra vars to the validations\nexecution.\n\n```\n$ openstack tripleo validator list \\\n    --parameters                   \\\n    --create-vars-file [json|yaml] /home/stack/myvars \\\n    [--validation-name <validation_id>[,<validation_id>,...] |\n     --group <group>[,<group>,...]]\n```\n\nChange-Id: I6e2255c0d490ee8105f0757d02f5d8fba1d4fa20\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 14, 'created': '2019-07-15 10:37:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0ce94eef970abf73652c147942bb7614abf11f75', 'message': 'Add --parameters and --create-vars-file arguments to the list subcommand\n\nThe \'openstack tripleo validator list\' subcommand can now get only the\navailable parameters for the validations using the new --parameters\nargument.\n\n```\n$ openstack tripleo validator list \\\n    --parameters                   \\\n    [--validation-name <validation_id>[,<validation_id>,...] |\n     --group <group>[,<group>,...]]\n```\n\nHere is an output example:\n\n```\nWaiting for messages on queue \'tripleo\' with no timeout.\n{\n    ""undercloud-cpu"": {\n        ""parameters"": {\n            ""min_undercloud_cpu_count"": 8\n        }\n    },\n    ""undercloud-ram"": {\n        ""parameters"": {\n            ""min_undercloud_ram_gb"": 24\n        }\n    }\n}\n```\n\nThe --create-vars-file allow the operator to generate either a JSON or a\nYAML file containing only the parameters of one or multiple validations.\nThis file will be available to pass as extra vars to the validations\nexecution.\n\n```\n$ openstack tripleo validator list \\\n    --parameters                   \\\n    --create-vars-file [json|yaml] /home/stack/myvars \\\n    [--validation-name <validation_id>[,<validation_id>,...] |\n     --group <group>[,<group>,...]]\n```\n\nChange-Id: I6e2255c0d490ee8105f0757d02f5d8fba1d4fa20\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 15, 'created': '2019-07-15 11:25:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/02b12197631086f841a43a68ff40e5a7d2f5b6fc', 'message': 'Add --parameters and --create-vars-file arguments to the list subcommand\n\nThe \'openstack tripleo validator list\' subcommand can now get only the\navailable parameters for the validations using the new --parameters\nargument.\n\n```\n$ openstack tripleo validator list \\\n    --parameters                   \\\n    [--validation-name <validation_id>[,<validation_id>,...] |\n     --group <group>[,<group>,...]]\n```\n\nHere is an output example:\n\n```\nWaiting for messages on queue \'tripleo\' with no timeout.\n{\n    ""undercloud-cpu"": {\n        ""parameters"": {\n            ""min_undercloud_cpu_count"": 8\n        }\n    },\n    ""undercloud-ram"": {\n        ""parameters"": {\n            ""min_undercloud_ram_gb"": 24\n        }\n    }\n}\n```\n\nThe --create-vars-file allow the operator to generate either a JSON or a\nYAML file containing only the parameters of one or multiple validations.\nThis file will be available to pass as extra vars to the validations\nexecution.\n\n```\n$ openstack tripleo validator list \\\n    --parameters                   \\\n    --create-vars-file [json|yaml] /home/stack/myvars \\\n    [--validation-name <validation_id>[,<validation_id>,...] |\n     --group <group>[,<group>,...]]\n```\n\nChange-Id: I6e2255c0d490ee8105f0757d02f5d8fba1d4fa20\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 16, 'created': '2019-07-17 09:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/184c07ef0f7d57aaacd4109b04df4b35bcd942f4', 'message': 'Add --parameters and --create-vars-file arguments to the list subcommand\n\nThe \'openstack tripleo validator list\' subcommand can now get only the\navailable parameters for the validations using the new --parameters\nargument.\n\n```\n$ openstack tripleo validator list \\\n    --parameters                   \\\n    [--validation-name <validation_id>[,<validation_id>,...] |\n     --group <group>[,<group>,...]]\n```\n\nHere is an output example:\n\n```\nWaiting for messages on queue \'tripleo\' with no timeout.\n{\n    ""undercloud-cpu"": {\n        ""parameters"": {\n            ""min_undercloud_cpu_count"": 8\n        }\n    },\n    ""undercloud-ram"": {\n        ""parameters"": {\n            ""min_undercloud_ram_gb"": 24\n        }\n    }\n}\n```\n\nThe --create-vars-file allow the operator to generate either a JSON or a\nYAML file containing only the parameters of one or multiple validations.\nThis file will be available to pass as extra vars to the validations\nexecution.\n\n```\n$ openstack tripleo validator list \\\n    --parameters                   \\\n    --create-vars-file [json|yaml] /home/stack/myvars \\\n    [--validation-name <validation_id>[,<validation_id>,...] |\n     --group <group>[,<group>,...]]\n```\n\nChange-Id: I6e2255c0d490ee8105f0757d02f5d8fba1d4fa20\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 17, 'created': '2019-07-23 09:09:24.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'releasenotes/notes/Add_parameters_and_create-vars-file_arguments_to_the_list_subcommand-2e0944e5440c4216.yaml', 'tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d1084193f6d60559f28b8b71fc0f0f6c032b09c7', 'message': 'Add --parameters and --create-vars-file arguments to the list subcommand\n\nThe \'openstack tripleo validator list\' subcommand can now get only the\navailable parameters for the validations using the new --parameters\nargument.\n\n```\n$ openstack tripleo validator list \\\n    --parameters                   \\\n    [--validation-name <validation_id>[,<validation_id>,...] |\n     --group <group>[,<group>,...]]\n```\n\nHere is an output example:\n\n```\nWaiting for messages on queue \'tripleo\' with no timeout.\n{\n    ""undercloud-cpu"": {\n        ""parameters"": {\n            ""min_undercloud_cpu_count"": 8\n        }\n    },\n    ""undercloud-ram"": {\n        ""parameters"": {\n            ""min_undercloud_ram_gb"": 24\n        }\n    }\n}\n```\n\nThe --create-vars-file allow the operator to generate either a JSON or a\nYAML file containing only the parameters of one or multiple validations.\nThis file will be available to pass as extra vars to the validations\nexecution.\n\n```\n$ openstack tripleo validator list \\\n    --parameters                   \\\n    --create-vars-file [json|yaml] /home/stack/myvars \\\n    [--validation-name <validation_id>[,<validation_id>,...] |\n     --group <group>[,<group>,...]]\n```\n\nChange-Id: I6e2255c0d490ee8105f0757d02f5d8fba1d4fa20\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}]",7,670352,d1084193f6d60559f28b8b71fc0f0f6c032b09c7,51,8,17,11491,,,0,"Add --parameters and --create-vars-file arguments to the list subcommand

The 'openstack tripleo validator list' subcommand can now get only the
available parameters for the validations using the new --parameters
argument.

```
$ openstack tripleo validator list \
    --parameters                   \
    [--validation-name <validation_id>[,<validation_id>,...] |
     --group <group>[,<group>,...]]
```

Here is an output example:

```
Waiting for messages on queue 'tripleo' with no timeout.
{
    ""undercloud-cpu"": {
        ""parameters"": {
            ""min_undercloud_cpu_count"": 8
        }
    },
    ""undercloud-ram"": {
        ""parameters"": {
            ""min_undercloud_ram_gb"": 24
        }
    }
}
```

The --create-vars-file allow the operator to generate either a JSON or a
YAML file containing only the parameters of one or multiple validations.
This file will be available to pass as extra vars to the validations
execution.

```
$ openstack tripleo validator list \
    --parameters                   \
    --create-vars-file [json|yaml] /home/stack/myvars \
    [--validation-name <validation_id>[,<validation_id>,...] |
     --group <group>[,<group>,...]]
```

Change-Id: I6e2255c0d490ee8105f0757d02f5d8fba1d4fa20
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/52/670352/6 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py']",2,e44be1a78aac32dddf1d82f0ed8972f3cba594ac,bp/validation-framework," '--parameters', action='store_true', default=False, help=_(""List available validations parameters"") ) ex_group = parser.add_mutually_exclusive_group(required=False) ex_group.add_argument( '--validation-name', metavar='<validation_id>[,<validation_id>,...]', action=_CommaListAction, default=[], help=_(""List specific validations, "" ""if more than one validation is required "" ""separate the names with commas: "" ""--validation-name check-ftype,512e | "" ""--validation-name 512e"") ) ex_group.add_argument( ""separate the group names with commas: "" ""--group pre-upgrade,prep | "" ""--group openshift-on-openstack"") if parsed_args.parameters: out = oooutils.get_validations_parameters( {'validations': output}) else: if parsed_args.output == 'json': out = oooutils.get_validations_json( {'validations': output}) elif parsed_args.output == 'yaml': out = oooutils.get_validations_yaml( {'validations': output}) else: out = oooutils.get_validations_table( {'validations': output})"," ""separate the group names with commas"" ""Defaults to: [] "" ""i.e. --group pre-upgrade,prep "" "" --group openshift-on-openstack"") if parsed_args.output == 'json': out = oooutils.get_validations_json({'validations': output}) elif parsed_args.output == 'yaml': out = oooutils.get_validations_yaml({'validations': output}) else: out = oooutils.get_validations_table({'validations': output})",52,9
openstack%2Fplacement~master~I82cf1aec44e251b30295b6119949a5995c0b6e3f,openstack/placement,master,I82cf1aec44e251b30295b6119949a5995c0b6e3f,Extra gabbi tests for same_subtree,MERGED,2019-07-09 19:30:12.000000000,2019-07-31 04:42:41.000000000,2019-07-31 04:42:41.000000000,"[{'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-07-09 19:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/73512978bd545d58185b0c2525d7eefe8746f356', 'message': 'WIP: Extra gabbi tests for same_subtree\n\nChange-Id: I82cf1aec44e251b30295b6119949a5995c0b6e3f\n'}, {'number': 2, 'created': '2019-07-09 20:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/41340e85b8e6ba36e368b91526163fe6fa903fad', 'message': 'Extra gabbi tests for same_subtree\n\nThis is a followon for test gaps in the same_subtree patch [1].\n\n[1] https://review.opendev.org/#/c/668376/8/placement/tests/functional/gabbits/granular-same-subtree.yaml\n\nChange-Id: I82cf1aec44e251b30295b6119949a5995c0b6e3f\n'}, {'number': 3, 'created': '2019-07-26 22:00:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/2af4d15de73f27e9e79ad53b3ee8a6c0ce86e24e', 'message': 'Extra gabbi tests for same_subtree\n\nThis is a followon for test gaps in the same_subtree patch [1].\n\n[1] https://review.opendev.org/#/c/668376/8/placement/tests/functional/gabbits/granular-same-subtree.yaml\n\nChange-Id: I82cf1aec44e251b30295b6119949a5995c0b6e3f\n'}, {'number': 4, 'created': '2019-07-29 15:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/0f213556c2b3478620ec683817b5e1fd5deba60a', 'message': 'Extra gabbi tests for same_subtree\n\nThis is a followon for test gaps in the same_subtree patch [1].\n\n[1] https://review.opendev.org/#/c/668376/8/placement/tests/functional/gabbits/granular-same-subtree.yaml\n\nChange-Id: I82cf1aec44e251b30295b6119949a5995c0b6e3f\n'}, {'number': 5, 'created': '2019-07-30 14:43:48.000000000', 'files': ['placement/tests/functional/gabbits/granular-same-subtree.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/3b484c80d50a3d9a418535dc8b488b2f9c0f2a28', 'message': 'Extra gabbi tests for same_subtree\n\nThis is a followon for test gaps in the same_subtree patch [1].\n\n[1] https://review.opendev.org/#/c/668376/8/placement/tests/functional/gabbits/granular-same-subtree.yaml\n\nChange-Id: I82cf1aec44e251b30295b6119949a5995c0b6e3f\n'}]",14,669930,3b484c80d50a3d9a418535dc8b488b2f9c0f2a28,30,4,5,14070,,,0,"Extra gabbi tests for same_subtree

This is a followon for test gaps in the same_subtree patch [1].

[1] https://review.opendev.org/#/c/668376/8/placement/tests/functional/gabbits/granular-same-subtree.yaml

Change-Id: I82cf1aec44e251b30295b6119949a5995c0b6e3f
",git fetch https://review.opendev.org/openstack/placement refs/changes/30/669930/1 && git format-patch -1 --stdout FETCH_HEAD,['placement/tests/functional/gabbits/granular-same-subtree.yaml'],1,73512978bd545d58185b0c2525d7eefe8746f356,nested-magic,"- name: resourceless with same subtree 2+1+1 VFs GET: /allocation_candidates query_parameters: resources: VCPU:1 required_NIC: CUSTOM_HW_NIC_ROOT resources_PORT1: CUSTOM_VF:2 required_PORT1: CUSTOM_PHYSNET1 resources_PORT2A: CUSTOM_VF:1 required_PORT2A: CUSTOM_PHYSNET2 resources_PORT2B: CUSTOM_VF:1 required_PORT2B: CUSTOM_PHYSNET2 same_subtree: _NIC,_PORT1,_PORT2A,_PORT2B group_policy: none response_json_paths: $.allocation_requests.`len`: 9 $.allocation_requests..allocations['$ENVIRON[""CN2_UUID""]'].resources.VCPU: [1, 1, 1, 1, 1, 1, 1, 1, 1] $.allocation_requests..allocations['$ENVIRON[""PF1_1_UUID""]'].resources.CUSTOM_VF: 2 $.allocation_requests..allocations['$ENVIRON[""PF1_2_UUID""]'].resources.CUSTOM_VF: 2 # The four extra candidates still have both PHYSNET1 VFs from the same provider... $.allocation_requests..allocations['$ENVIRON[""PF2_1_UUID""]'].resources.CUSTOM_VF: [2, 2, 2, 2] $.allocation_requests..allocations['$ENVIRON[""PF2_3_UUID""]'].resources.CUSTOM_VF: [2, 2, 2, 2] # ...but one PHYSNET2 VF from each of PF2_2 and PF2_4 # TODO(efried): Some way to prove that these are actually {1, 1, 1, 1, 2, 2} # $.allocation_requests..allocations['$ENVIRON[""PF2_2_UUID""]'].resources.CUSTOM_VF.`sorted`: [1, 1, 1, 1, 2, 2] # $.allocation_requests..allocations['$ENVIRON[""PF2_2_UUID""]'].resources.CUSTOM_VF.`len`: 4 $.allocation_requests..allocations['$ENVIRON[""PF2_2_UUID""]'].resources.CUSTOM_VF: /1|2/ # $.allocation_requests..allocations['$ENVIRON[""PF2_4_UUID""]'].resources.CUSTOM_VF.`sorted`: [1, 1, 1, 1, 2, 2] # $.allocation_requests..allocations['$ENVIRON[""PF2_4_UUID""]'].resources.CUSTOM_VF.`len`: 4 $.allocation_requests..allocations['$ENVIRON[""PF2_4_UUID""]'].resources.CUSTOM_VF: /1|2/ - name: resourceless with same subtree 2+1+1 VFs isolate GET: /allocation_candidates query_parameters: resources: VCPU:1 required_NIC: CUSTOM_HW_NIC_ROOT resources_PORT1: CUSTOM_VF:2 required_PORT1: CUSTOM_PHYSNET1 resources_PORT2A: CUSTOM_VF:1 required_PORT2A: CUSTOM_PHYSNET2 resources_PORT2B: CUSTOM_VF:1 required_PORT2B: CUSTOM_PHYSNET2 same_subtree: _NIC,_PORT1,_PORT2A,_PORT2B group_policy: isolate response_json_paths: # Delta from above - by isolating, we lose: # - the candidate under nic1 because we can't isolate VFs on NET2 there. # - the four candidates under nic2 involving both PHYSNET2 VFs coming # from the same provider. $.allocation_requests.`len`: 4 $.allocation_requests..allocations['$ENVIRON[""CN2_UUID""]'].resources.VCPU: [1, 1, 1, 1] $.allocation_requests..allocations['$ENVIRON[""PF2_1_UUID""]'].resources.CUSTOM_VF: [2, 2] $.allocation_requests..allocations['$ENVIRON[""PF2_3_UUID""]'].resources.CUSTOM_VF: [2, 2] $.allocation_requests..allocations['$ENVIRON[""PF2_2_UUID""]'].resources.CUSTOM_VF: [1, 1, 1, 1] $.allocation_requests..allocations['$ENVIRON[""PF2_4_UUID""]'].resources.CUSTOM_VF: [1, 1, 1, 1] - name: duplicate suffixes are squashed GET: /allocation_candidates query_parameters: required_NUMA: HW_NUMA_ROOT resources_ACCEL1: CUSTOM_FPGA:1 resources_ACCEL2: CUSTOM_FPGA:1 # This test is identical to the above except for duplicated suffixes here same_subtree: _NUMA,_ACCEL1,_ACCEL2,_NUMA,_ACCEL1 group_policy: isolate response_json_paths: $.allocation_requests.`len`: 2 $.allocation_requests..allocations['$ENVIRON[""FPGA1_0_UUID""]'].resources.CUSTOM_FPGA: [1, 1] $.allocation_requests..allocations['$ENVIRON[""FPGA1_1_UUID""]'].resources.CUSTOM_FPGA: [1, 1] $.allocation_requests..mappings.`len`: [3, 3] $.allocation_requests..mappings['_NUMA'][0]: /(?:$ENVIRON['NUMA1_UUID']|$ENVIRON['NUMA1_UUID'])/ $.allocation_requests..mappings['_ACCEL1'][0]: /(?:$ENVIRON['FPGA1_0_UUID']|$ENVIRON['FPGA1_1_UUID'])/ $.allocation_requests..mappings['_ACCEL2'][0]: /(?:$ENVIRON['FPGA1_0_UUID']|$ENVIRON['FPGA1_1_UUID'])/ ",,73,0
openstack%2Fdevstack~master~I8a6c3403192d1416cb66cc9e92ec827b339f1270,openstack/devstack,master,I8a6c3403192d1416cb66cc9e92ec827b339f1270,Update api-ref location,MERGED,2019-07-30 15:53:12.000000000,2019-07-31 04:42:40.000000000,2019-07-31 04:42:40.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 15:53:12.000000000', 'files': ['doc/source/guides/devstack-with-lbaas-v2.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/0fc6b2c5a87a1884bf3cff086081b3a253cd9302', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I8a6c3403192d1416cb66cc9e92ec827b339f1270\n""}]",0,673573,0fc6b2c5a87a1884bf3cff086081b3a253cd9302,6,2,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I8a6c3403192d1416cb66cc9e92ec827b339f1270
",git fetch https://review.opendev.org/openstack/devstack refs/changes/73/673573/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/guides/devstack-with-lbaas-v2.rst'],1,0fc6b2c5a87a1884bf3cff086081b3a253cd9302,retire-api-site,.. _Octavia API: https://docs.openstack.org/api-ref/load-balancer/v2/index.html,.. _Octavia API: https://developer.openstack.org/api-ref/load-balancer/v2/index.html,1,1
openstack%2Fdevstack~stable%2Fqueens~I9f1fa2755e16871ff9d6ba33fdeaf3023eedf8d4,openstack/devstack,stable/queens,I9f1fa2755e16871ff9d6ba33fdeaf3023eedf8d4,zuul: new variable to easily populate TEMPEST_PLUGINS,MERGED,2019-07-30 07:41:42.000000000,2019-07-31 04:42:39.000000000,2019-07-31 04:42:39.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 07:41:42.000000000', 'files': ['roles/write-devstack-local-conf/library/devstack_local_conf.py', 'roles/write-devstack-local-conf/library/test.py', 'roles/write-devstack-local-conf/tasks/main.yaml', 'roles/write-devstack-local-conf/README.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/b3a817956af9c383635475ae690f346b6a0821c4', 'message': 'zuul: new variable to easily populate TEMPEST_PLUGINS\n\nTEMPEST_PLUGINS contains the list of the tempest plugins installed\nalongside tempest by lib/tempest.\nIf TEMPEST_PLUGINS is not explicitly set, the new tempest_plugins\nvariable is used to fill it by combining its items with\nthe base devstack path.\n\nChange-Id: I9f1fa2755e16871ff9d6ba33fdeaf3023eedf8d4\n(cherry picked from commit 70d043dd6039fb55aa9d40d593839037bb8c43cf)\n'}]",0,673428,b3a817956af9c383635475ae690f346b6a0821c4,6,2,1,10459,,,0,"zuul: new variable to easily populate TEMPEST_PLUGINS

TEMPEST_PLUGINS contains the list of the tempest plugins installed
alongside tempest by lib/tempest.
If TEMPEST_PLUGINS is not explicitly set, the new tempest_plugins
variable is used to fill it by combining its items with
the base devstack path.

Change-Id: I9f1fa2755e16871ff9d6ba33fdeaf3023eedf8d4
(cherry picked from commit 70d043dd6039fb55aa9d40d593839037bb8c43cf)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/28/673428/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/write-devstack-local-conf/library/devstack_local_conf.py', 'roles/write-devstack-local-conf/library/test.py', 'roles/write-devstack-local-conf/tasks/main.yaml', 'roles/write-devstack-local-conf/README.rst']",4,b3a817956af9c383635475ae690f346b6a0821c4,," .. zuul:rolevar:: tempest_plugins :type: list A list of tempest plugins which are installed alongside tempest. The list of values will be combined with the base devstack directory and used to populate the ``TEMPEST_PLUGINS`` variable. If the variable already exists, its value is *not* changed.",,94,42
openstack%2Fdevstack~stable%2Fqueens~Ia001badca179c3f3436d5ecd26b0755a3f3a3078,openstack/devstack,stable/queens,Ia001badca179c3f3436d5ecd26b0755a3f3a3078,zuul job: write the enable_plugin lines last,MERGED,2019-07-30 07:41:42.000000000,2019-07-31 04:42:38.000000000,2019-07-31 04:42:38.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 07:41:42.000000000', 'files': ['roles/write-devstack-local-conf/library/devstack_local_conf.py'], 'web_link': 'https://opendev.org/openstack/devstack/commit/9219134cb0bc8563bd66843be03dea4877847c6c', 'message': 'zuul job: write the enable_plugin lines last\n\nPlugins must be the last items in the local.conf file\notherwise the configuration set in the rest of the file\nis not applied to them (for example a different value of DEST.)\n\nChange-Id: Ia001badca179c3f3436d5ecd26b0755a3f3a3078\n(cherry picked from commit 610927f4255f0ed4877a3e85d628202e4af2f7d4)\n'}]",0,673427,9219134cb0bc8563bd66843be03dea4877847c6c,6,2,1,10459,,,0,"zuul job: write the enable_plugin lines last

Plugins must be the last items in the local.conf file
otherwise the configuration set in the rest of the file
is not applied to them (for example a different value of DEST.)

Change-Id: Ia001badca179c3f3436d5ecd26b0755a3f3a3078
(cherry picked from commit 610927f4255f0ed4877a3e85d628202e4af2f7d4)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/27/673427/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/write-devstack-local-conf/library/devstack_local_conf.py'],1,9219134cb0bc8563bd66843be03dea4877847c6c,," # Plugins must be the last items in localrc, otherwise # the configuration lines which follows them in the file are # not applied to the plugins (for example, the value of DEST.) if plugins: self.handle_plugins(plugins)", if plugins: self.handle_plugins(plugins),5,2
openstack%2Fironic~stable%2Fqueens~I83bbd3c77f13aaab0912354c3ec9cdd5e1123d0f,openstack/ironic,stable/queens,I83bbd3c77f13aaab0912354c3ec9cdd5e1123d0f,Filter security group list on the ID's we expect,MERGED,2019-07-30 10:46:03.000000000,2019-07-31 04:36:05.000000000,2019-07-30 15:20:25.000000000,"[{'_account_id': 10118}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-07-30 10:46:03.000000000', 'files': ['ironic/tests/unit/common/test_neutron.py', 'releasenotes/notes/fix-security-group-list-add-query-filters-f72cfcefa1e093d2.yaml', 'ironic/common/neutron.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4f95c2fd0ef33f41e24866dbb54135d4a98c9938', 'message': ""Filter security group list on the ID's we expect\n\nFilter the list of security groups based on the security\ngroup IDs we plan on using for the network. Also only\nget the id field as this is all we need to compare.\n\nFixes an issue where deployment fail on systems with a\nhigh number of security groups.\n\nStory: 2006256\nTask: 35871\nChange-Id: I83bbd3c77f13aaab0912354c3ec9cdd5e1123d0f\n(cherry picked from commit 59787768cbf1d757611be27406777a088fb16659)\n""}]",0,673475,4f95c2fd0ef33f41e24866dbb54135d4a98c9938,9,6,1,10239,,,0,"Filter security group list on the ID's we expect

Filter the list of security groups based on the security
group IDs we plan on using for the network. Also only
get the id field as this is all we need to compare.

Fixes an issue where deployment fail on systems with a
high number of security groups.

Story: 2006256
Task: 35871
Change-Id: I83bbd3c77f13aaab0912354c3ec9cdd5e1123d0f
(cherry picked from commit 59787768cbf1d757611be27406777a088fb16659)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/75/673475/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/common/test_neutron.py', 'releasenotes/notes/fix-security-group-list-add-query-filters-f72cfcefa1e093d2.yaml', 'ironic/common/neutron.py']",3,4f95c2fd0ef33f41e24866dbb54135d4a98c9938,story/2006256-stable/queens," client.list_security_groups(id=security_groups, fields='id').get( 'security_groups', [])) if set(security_groups).issubset(x['id'] for x in neutron_sec_groups): return missing_sec_groups = set(security_groups).difference( x['id'] for x in neutron_sec_groups) msg = (_('Could not find these security groups (specified via ironic ' 'config) in neutron: %(ir-sg)s') % {'ir-sg': list(missing_sec_groups)}) LOG.error(msg) raise exception.NetworkError(msg)"," client.list_security_groups().get('security_groups', [])) existing_sec_groups = [sec_group['id'] for sec_group in neutron_sec_groups] missing_sec_groups = set(security_groups) - set(existing_sec_groups) if missing_sec_groups: msg = (_('Could not find these security groups (specified via ironic ' 'config) in neutron: %(ir-sg)s') % {'ir-sg': list(missing_sec_groups)}) LOG.error(msg) raise exception.NetworkError(msg)",32,17
openstack%2Fdevstack~stable%2Fqueens~I91093a424f8d5e8007f140083e1ea36a81fe849f,openstack/devstack,stable/queens,I91093a424f8d5e8007f140083e1ea36a81fe849f,Allow plugin names to contain non-letter characters,MERGED,2019-07-30 07:41:42.000000000,2019-07-31 04:14:38.000000000,2019-07-31 04:14:38.000000000,"[{'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 07:41:42.000000000', 'files': ['roles/write-devstack-local-conf/library/devstack_local_conf.py', 'roles/write-devstack-local-conf/library/test.py'], 'web_link': 'https://opendev.org/openstack/devstack/commit/b80c66e730d120e1988d1e09a7cbf9aadb3f959d', 'message': 'Allow plugin names to contain non-letter characters\n\nThere are already devstack plugins that contain a hyphen in the name,\nlike `networking-baremetal`. In order to allow ordering for these to\nwork properly, amend the regexes we are using to match any\nnon-whitespace characters instead of only alphanumerics.\n\nAmend the test to cover this use case.\n\nChange-Id: I91093a424f8d5e8007f140083e1ea36a81fe849f\nCloses-Bug: 1809016\n(cherry picked from commit 0b855007f8d44662ad4fd52bda7df85f94b241c2)\n'}]",0,673426,b80c66e730d120e1988d1e09a7cbf9aadb3f959d,6,3,1,10459,,,0,"Allow plugin names to contain non-letter characters

There are already devstack plugins that contain a hyphen in the name,
like `networking-baremetal`. In order to allow ordering for these to
work properly, amend the regexes we are using to match any
non-whitespace characters instead of only alphanumerics.

Amend the test to cover this use case.

Change-Id: I91093a424f8d5e8007f140083e1ea36a81fe849f
Closes-Bug: 1809016
(cherry picked from commit 0b855007f8d44662ad4fd52bda7df85f94b241c2)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/26/673426/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/write-devstack-local-conf/library/devstack_local_conf.py', 'roles/write-devstack-local-conf/library/test.py']",2,b80c66e730d120e1988d1e09a7cbf9aadb3f959d,," f.write('define_plugin foo-plugin\n') f.write('define_plugin bar-plugin\n') f.write('plugin_requires bar-plugin foo-plugin\n') ('bar-plugin', 'https://git.openstack.org/openstack/bar-plugin'), ('foo-plugin', 'https://git.openstack.org/openstack/foo-plugin'), self.assertEqual(['foo-plugin', 'bar-plugin'], plugins)"," f.write('define_plugin foo\n') f.write('define_plugin bar\n') f.write('plugin_requires bar foo\n') ('bar', 'https://git.openstack.org/openstack/bar-plugin'), ('foo', 'https://git.openstack.org/openstack/foo-plugin'), self.assertEqual(['foo', 'bar'], plugins)",8,8
openstack%2Fdevstack~stable%2Fqueens~I125870b13d2581cdec0dede11157b19b702565cd,openstack/devstack,stable/queens,I125870b13d2581cdec0dede11157b19b702565cd,Fix testing for the write-devstack-local-conf role,MERGED,2019-07-30 07:41:42.000000000,2019-07-31 04:14:37.000000000,2019-07-31 04:14:37.000000000,"[{'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 07:41:42.000000000', 'files': ['roles/write-devstack-local-conf/library/test.py'], 'web_link': 'https://opendev.org/openstack/devstack/commit/7b001f5d6c4eb95a27c73aa7eb45970167ce5c1a', 'message': 'Fix testing for the write-devstack-local-conf role\n\nThe test_plugin_deps function in the test code for the\nwrite-devstack-local-conf role was missing the import part of actually\nexecuting the code under test and asserting the expected result.\n\nChange-Id: I125870b13d2581cdec0dede11157b19b702565cd\n(cherry picked from commit 6d103a7ff845076da984afbd317cd8cf4504fb7a)\n'}]",0,673425,7b001f5d6c4eb95a27c73aa7eb45970167ce5c1a,6,3,1,10459,,,0,"Fix testing for the write-devstack-local-conf role

The test_plugin_deps function in the test code for the
write-devstack-local-conf role was missing the import part of actually
executing the code under test and asserting the expected result.

Change-Id: I125870b13d2581cdec0dede11157b19b702565cd
(cherry picked from commit 6d103a7ff845076da984afbd317cd8cf4504fb7a)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/25/673425/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/write-devstack-local-conf/library/test.py'],1,7b001f5d6c4eb95a27c73aa7eb45970167ce5c1a,," lc = LocalConf(p.get('localrc'), p.get('local_conf'), p.get('base_services'), p.get('services'), p.get('plugins'), p.get('base_dir'), p.get('projects'), p.get('project')) lc.write(p['path']) plugins = [] with open(p['path']) as f: for line in f: if line.startswith('enable_plugin'): plugins.append(line.split()[1]) self.assertEqual(['foo', 'bar'], plugins)",,16,0
openstack%2Ftempest-lib~master~I8e64c7d8c46e81d0ec59a167ef587c1c61762cc6,openstack/tempest-lib,master,I8e64c7d8c46e81d0ec59a167ef587c1c61762cc6,Update api-ref location,ABANDONED,2019-07-30 17:17:55.000000000,2019-07-31 04:10:28.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 17:17:55.000000000', 'files': ['tempest_lib/services/compute/interfaces_client.py', 'tempest_lib/services/compute/migrations_client.py', 'tempest_lib/services/compute/floating_ips_client.py', 'tempest_lib/services/compute/keypairs_client.py', 'tempest_lib/services/compute/security_groups_client.py', 'tempest_lib/services/network/networks_client.py', 'tempest_lib/services/network/ports_client.py', 'tempest_lib/services/compute/agents_client.py', 'tempest_lib/services/compute/security_group_default_rules_client.py', 'tempest_lib/services/network/subnets_client.py', 'tempest_lib/services/compute/quotas_client.py', 'tempest_lib/services/compute/security_group_rules_client.py', 'tempest_lib/services/compute/snapshots_client.py', 'tempest_lib/services/compute/volumes_client.py', 'tempest_lib/services/compute/hosts_client.py', 'tempest_lib/services/compute/servers_client.py', 'tempest_lib/services/compute/images_client.py', 'tempest_lib/services/compute/server_groups_client.py', 'tempest_lib/services/compute/aggregates_client.py', 'tempest_lib/services/compute/flavors_client.py', 'tempest_lib/services/compute/services_client.py', 'tempest_lib/services/compute/quota_classes_client.py', 'tempest_lib/services/compute/fixed_ips_client.py'], 'web_link': 'https://opendev.org/openstack/tempest-lib/commit/0224cb58e323a6d29884132b326f9110c78e999f', 'message': 'Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that the links here were for ancient versions of the API reference,\nthey have all been replaced by current ones.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I8e64c7d8c46e81d0ec59a167ef587c1c61762cc6\n'}]",0,673582,0224cb58e323a6d29884132b326f9110c78e999f,4,2,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that the links here were for ancient versions of the API reference,
they have all been replaced by current ones.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I8e64c7d8c46e81d0ec59a167ef587c1c61762cc6
",git fetch https://review.opendev.org/openstack/tempest-lib refs/changes/82/673582/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest_lib/services/compute/interfaces_client.py', 'tempest_lib/services/compute/migrations_client.py', 'tempest_lib/services/compute/floating_ips_client.py', 'tempest_lib/services/compute/keypairs_client.py', 'tempest_lib/services/compute/security_groups_client.py', 'tempest_lib/services/network/networks_client.py', 'tempest_lib/services/network/ports_client.py', 'tempest_lib/services/compute/agents_client.py', 'tempest_lib/services/compute/security_group_default_rules_client.py', 'tempest_lib/services/network/subnets_client.py', 'tempest_lib/services/compute/quotas_client.py', 'tempest_lib/services/compute/security_group_rules_client.py', 'tempest_lib/services/compute/snapshots_client.py', 'tempest_lib/services/compute/volumes_client.py', 'tempest_lib/services/compute/hosts_client.py', 'tempest_lib/services/compute/servers_client.py', 'tempest_lib/services/compute/images_client.py', 'tempest_lib/services/compute/server_groups_client.py', 'tempest_lib/services/compute/aggregates_client.py', 'tempest_lib/services/compute/flavors_client.py', 'tempest_lib/services/compute/services_client.py', 'tempest_lib/services/compute/quota_classes_client.py', 'tempest_lib/services/compute/fixed_ips_client.py']",23,0224cb58e323a6d29884132b326f9110c78e999f,, Available params: see https://docs.openstack.org/api-ref/compute/#reserve-or-release-a-fixed-ip, Available params: see http://developer.openstack.org/ api-ref-compute-v2.1.html#reserveIP,132,133
openstack%2Foctavia-lib~master~I4573e3465fcdfb90c53480e5eddcf7091318fbfb,openstack/octavia-lib,master,I4573e3465fcdfb90c53480e5eddcf7091318fbfb,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-26 06:31:57.000000000,2019-07-31 04:00:20.000000000,2019-07-31 04:00:20.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-26 06:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/47dffdc992b0ca51d1ae94c151feadd8d443bc94', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\nDepend-On: https://review.opendev.org/#/c/663060/\n\nChange-Id: I4573e3465fcdfb90c53480e5eddcf7091318fbfb\n'}, {'number': 2, 'created': '2019-07-30 08:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/c2cfbcba61ec78de163a35a301b629f3f8ace0f7', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: I4573e3465fcdfb90c53480e5eddcf7091318fbfb\n'}, {'number': 3, 'created': '2019-07-30 23:58:12.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/e0769bac21993a9e4764da9a437172f65e48ac96', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: I4573e3465fcdfb90c53480e5eddcf7091318fbfb\n'}]",1,672878,e0769bac21993a9e4764da9a437172f65e48ac96,15,5,3,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: I4573e3465fcdfb90c53480e5eddcf7091318fbfb
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/78/672878/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,47dffdc992b0ca51d1ae94c151feadd8d443bc94,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Foctavia~master~I1cbf4dff958a36d2af2883cb2596fab53741cef1,openstack/octavia,master,I1cbf4dff958a36d2af2883cb2596fab53741cef1,"Add missing test requirement ""fixtures""",MERGED,2019-07-23 19:53:00.000000000,2019-07-31 04:00:19.000000000,2019-07-31 04:00:19.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-23 19:53:00.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/octavia/commit/a84352af56f922f85c31fba5863d330ef1f1c033', 'message': 'Add missing test requirement ""fixtures""\n\nChange-Id: I1cbf4dff958a36d2af2883cb2596fab53741cef1\n'}]",0,672349,a84352af56f922f85c31fba5863d330ef1f1c033,7,3,1,11628,,,0,"Add missing test requirement ""fixtures""

Change-Id: I1cbf4dff958a36d2af2883cb2596fab53741cef1
",git fetch https://review.opendev.org/openstack/octavia refs/changes/49/672349/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,a84352af56f922f85c31fba5863d330ef1f1c033,,fixtures>=3.0.0 # Apache-2.0/BSD,,1,0
openstack%2Finstack-undercloud~stable%2Frocky~I96f5e4e51947da6919724d8ffb8531b8ecf87ff8,openstack/instack-undercloud,stable/rocky,I96f5e4e51947da6919724d8ffb8531b8ecf87ff8,[queens-only] Rename the systemctl-daemon-reload exec,MERGED,2019-07-30 23:41:34.000000000,2019-07-31 03:43:36.000000000,2019-07-31 03:43:36.000000000,"[{'_account_id': 3153}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-30 23:41:34.000000000', 'files': ['elements/puppet-stack-config/puppet-stack-config.pp'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/764aaf6a5cfc6906e673322fac82d7b58419907e', 'message': ""[queens-only] Rename the systemctl-daemon-reload exec\n\nWhile rebasing puppet-rabbitmq due to other reasons, I noticed that the\nundercloud (re) deploy would fail with:\n\n2019-05-31 09:59:00,919 INFO: Error: Evaluation Error: Error while evaluating a Resource Statement, Evaluation Error: Error while evaluating a Resource Statement, Duplicate declaration: Exec[systemctl-daemon-reload] is already declared in file /etc/puppet/manifests/puppet-stack-config.pp:99; cannot redeclare at /etc/puppet/modules/systemd/manifests/systemctl/daemon_reload.pp:5 at /etc/puppet/modules/systemd/manifests/systemctl/daemon_reload.pp:5:3 at /etc/puppet/modules/rabbitmq/manifests/config.pp:231 on node undercloud-0.redhat.local\n2019-05-31 09:59:00,982 INFO: + rc=1\n\nThis is because a newer puppet-rabbitmq introduced:\n+\n+ if $::facts['systemd'] {\n+ Class['systemd::systemctl::daemon_reload'] -> Service['rabbitmq-server']\n+ }\n   }\n\nWhich then pulls in the exec called 'systemctl-daemon-reload' from the\nsystemd module which conflicts with the same call we do in undercloud\npuppet manifest.\nLet's just rename this exact to 'systemctl-daemon-undercloud' so we do\nnot duplicate this resource ever. Tested this on a queens undercloud\nwith a puppet-rabbitmq that triggers the problematic exec and got a\ncorrectly redeployed undercloud.\n\nWe could have used the systemd module instead but that might require\nother backports and this seems the smallest possible approach to solve\nthis.\n\nChange-Id: I96f5e4e51947da6919724d8ffb8531b8ecf87ff8\nCloses-Bug: #1831253\n(cherry picked from commit d12465b4a0134a2ecc0d5e5d9fb96cf55a730b6e)\n""}]",0,673711,764aaf6a5cfc6906e673322fac82d7b58419907e,7,4,1,14985,,,0,"[queens-only] Rename the systemctl-daemon-reload exec

While rebasing puppet-rabbitmq due to other reasons, I noticed that the
undercloud (re) deploy would fail with:

2019-05-31 09:59:00,919 INFO: Error: Evaluation Error: Error while evaluating a Resource Statement, Evaluation Error: Error while evaluating a Resource Statement, Duplicate declaration: Exec[systemctl-daemon-reload] is already declared in file /etc/puppet/manifests/puppet-stack-config.pp:99; cannot redeclare at /etc/puppet/modules/systemd/manifests/systemctl/daemon_reload.pp:5 at /etc/puppet/modules/systemd/manifests/systemctl/daemon_reload.pp:5:3 at /etc/puppet/modules/rabbitmq/manifests/config.pp:231 on node undercloud-0.redhat.local
2019-05-31 09:59:00,982 INFO: + rc=1

This is because a newer puppet-rabbitmq introduced:
+
+ if $::facts['systemd'] {
+ Class['systemd::systemctl::daemon_reload'] -> Service['rabbitmq-server']
+ }
   }

Which then pulls in the exec called 'systemctl-daemon-reload' from the
systemd module which conflicts with the same call we do in undercloud
puppet manifest.
Let's just rename this exact to 'systemctl-daemon-undercloud' so we do
not duplicate this resource ever. Tested this on a queens undercloud
with a puppet-rabbitmq that triggers the problematic exec and got a
correctly redeployed undercloud.

We could have used the systemd module instead but that might require
other backports and this seems the smallest possible approach to solve
this.

Change-Id: I96f5e4e51947da6919724d8ffb8531b8ecf87ff8
Closes-Bug: #1831253
(cherry picked from commit d12465b4a0134a2ecc0d5e5d9fb96cf55a730b6e)
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/11/673711/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/puppet-stack-config/puppet-stack-config.pp'],1,764aaf6a5cfc6906e673322fac82d7b58419907e,bug/1831253-stable/rocky,"exec { 'systemctl-daemon-reload-undercloud': notify => [Exec['systemctl-daemon-reload-undercloud'], Service['mysqld']], } Exec['systemctl-daemon-reload-undercloud'] -> Service['mysqld']","exec { 'systemctl-daemon-reload': notify => [Exec['systemctl-daemon-reload'], Service['mysqld']], } Exec['systemctl-daemon-reload'] -> Service['mysqld']",3,3
openstack%2Ftripleo-heat-templates~master~I0e2429dc22a4ed03619b9c3f52b0dd1108aea56b,openstack/tripleo-heat-templates,master,I0e2429dc22a4ed03619b9c3f52b0dd1108aea56b,"Fix misspelling of ""errors"" in deploy-steps.j2",MERGED,2019-07-26 19:52:05.000000000,2019-07-31 03:23:53.000000000,2019-07-31 03:23:53.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-07-26 19:52:05.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/efae2298ad58779f4ba074e3a920b2745c012751', 'message': 'Fix misspelling of ""errors"" in deploy-steps.j2\n\nChange-Id: I0e2429dc22a4ed03619b9c3f52b0dd1108aea56b\nCloses-Bug: #1838099\n'}]",0,673102,efae2298ad58779f4ba074e3a920b2745c012751,18,7,1,18002,,,0,"Fix misspelling of ""errors"" in deploy-steps.j2

Change-Id: I0e2429dc22a4ed03619b9c3f52b0dd1108aea56b
Closes-Bug: #1838099
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/673102/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,efae2298ad58779f4ba074e3a920b2745c012751,bug/1838099," path: {{ '""{{' }} lookup('first_found', NetworkConfig_paths, errors='ignore') {{ '}}""' }}"," path: {{ '""{{' }} lookup('first_found', NetworkConfig_paths, errros='ignore') {{ '}}""' }}",1,1
openstack%2Fdevstack~stable%2Frocky~I91093a424f8d5e8007f140083e1ea36a81fe849f,openstack/devstack,stable/rocky,I91093a424f8d5e8007f140083e1ea36a81fe849f,Allow plugin names to contain non-letter characters,MERGED,2019-07-30 07:40:47.000000000,2019-07-31 03:23:49.000000000,2019-07-31 03:23:49.000000000,"[{'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 07:40:47.000000000', 'files': ['roles/write-devstack-local-conf/library/devstack_local_conf.py', 'roles/write-devstack-local-conf/library/test.py'], 'web_link': 'https://opendev.org/openstack/devstack/commit/03d90d452c5b44d89733f247a7cd322b1f9bb22c', 'message': 'Allow plugin names to contain non-letter characters\n\nThere are already devstack plugins that contain a hyphen in the name,\nlike `networking-baremetal`. In order to allow ordering for these to\nwork properly, amend the regexes we are using to match any\nnon-whitespace characters instead of only alphanumerics.\n\nAmend the test to cover this use case.\n\nChange-Id: I91093a424f8d5e8007f140083e1ea36a81fe849f\nCloses-Bug: 1809016\n(cherry picked from commit 0b855007f8d44662ad4fd52bda7df85f94b241c2)\n'}]",0,673421,03d90d452c5b44d89733f247a7cd322b1f9bb22c,6,3,1,10459,,,0,"Allow plugin names to contain non-letter characters

There are already devstack plugins that contain a hyphen in the name,
like `networking-baremetal`. In order to allow ordering for these to
work properly, amend the regexes we are using to match any
non-whitespace characters instead of only alphanumerics.

Amend the test to cover this use case.

Change-Id: I91093a424f8d5e8007f140083e1ea36a81fe849f
Closes-Bug: 1809016
(cherry picked from commit 0b855007f8d44662ad4fd52bda7df85f94b241c2)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/21/673421/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/write-devstack-local-conf/library/devstack_local_conf.py', 'roles/write-devstack-local-conf/library/test.py']",2,03d90d452c5b44d89733f247a7cd322b1f9bb22c,," f.write('define_plugin foo-plugin\n') f.write('define_plugin bar-plugin\n') f.write('plugin_requires bar-plugin foo-plugin\n') ('bar-plugin', 'https://git.openstack.org/openstack/bar-plugin'), ('foo-plugin', 'https://git.openstack.org/openstack/foo-plugin'), self.assertEqual(['foo-plugin', 'bar-plugin'], plugins)"," f.write('define_plugin foo\n') f.write('define_plugin bar\n') f.write('plugin_requires bar foo\n') ('bar', 'https://git.openstack.org/openstack/bar-plugin'), ('foo', 'https://git.openstack.org/openstack/foo-plugin'), self.assertEqual(['foo', 'bar'], plugins)",8,8
openstack%2Fdevstack~stable%2Frocky~I125870b13d2581cdec0dede11157b19b702565cd,openstack/devstack,stable/rocky,I125870b13d2581cdec0dede11157b19b702565cd,Fix testing for the write-devstack-local-conf role,MERGED,2019-07-30 07:40:47.000000000,2019-07-31 03:23:48.000000000,2019-07-31 03:23:48.000000000,"[{'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 07:40:47.000000000', 'files': ['roles/write-devstack-local-conf/library/test.py'], 'web_link': 'https://opendev.org/openstack/devstack/commit/d86f3dbc89d8594c32cb4d20f527a8ffb2ed0cd6', 'message': 'Fix testing for the write-devstack-local-conf role\n\nThe test_plugin_deps function in the test code for the\nwrite-devstack-local-conf role was missing the import part of actually\nexecuting the code under test and asserting the expected result.\n\nChange-Id: I125870b13d2581cdec0dede11157b19b702565cd\n(cherry picked from commit 6d103a7ff845076da984afbd317cd8cf4504fb7a)\n'}]",0,673420,d86f3dbc89d8594c32cb4d20f527a8ffb2ed0cd6,6,3,1,10459,,,0,"Fix testing for the write-devstack-local-conf role

The test_plugin_deps function in the test code for the
write-devstack-local-conf role was missing the import part of actually
executing the code under test and asserting the expected result.

Change-Id: I125870b13d2581cdec0dede11157b19b702565cd
(cherry picked from commit 6d103a7ff845076da984afbd317cd8cf4504fb7a)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/20/673420/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/write-devstack-local-conf/library/test.py'],1,d86f3dbc89d8594c32cb4d20f527a8ffb2ed0cd6,," lc = LocalConf(p.get('localrc'), p.get('local_conf'), p.get('base_services'), p.get('services'), p.get('plugins'), p.get('base_dir'), p.get('projects'), p.get('project')) lc.write(p['path']) plugins = [] with open(p['path']) as f: for line in f: if line.startswith('enable_plugin'): plugins.append(line.split()[1]) self.assertEqual(['foo', 'bar'], plugins)",,16,0
openstack%2Fmanila-tempest-plugin~master~I960b6bf8f283ea928fd512811f8d88268b0945d2,openstack/manila-tempest-plugin,master,I960b6bf8f283ea928fd512811f8d88268b0945d2,Comment test tags,MERGED,2019-07-29 21:09:51.000000000,2019-07-31 03:15:49.000000000,2019-07-31 03:15:49.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2019-07-29 21:09:51.000000000', 'files': ['manila_tempest_tests/tests/api/base.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/69f9696b0a2450b2664298be7b4af06159e68916', 'message': 'Comment test tags\n\nAdd comments to the definitions of the test tags related\nto service involvement matching the documentation on\nrunning a subset of manila tempest tests based on\nservice involvement [1].\n\n[1] https://docs.openstack.org/manila/latest/contributor/tempest_tests.html#running-a-subset-of-tests-based-on-service-involvement\nChange-Id: I960b6bf8f283ea928fd512811f8d88268b0945d2\n'}]",0,673365,69f9696b0a2450b2664298be7b4af06159e68916,19,4,1,9003,,,0,"Comment test tags

Add comments to the definitions of the test tags related
to service involvement matching the documentation on
running a subset of manila tempest tests based on
service involvement [1].

[1] https://docs.openstack.org/manila/latest/contributor/tempest_tests.html#running-a-subset-of-tests-based-on-service-involvement
Change-Id: I960b6bf8f283ea928fd512811f8d88268b0945d2
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/65/673365/1 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/tests/api/base.py'],1,69f9696b0a2450b2664298be7b4af06159e68916,,"# Only requires that manila-api service running.# Requires all manila services running, intended to test back-end # (manila-share) behavior.# Requires all manila services running, intended to test API behavior.",,4,0
openstack%2Ftripleo-heat-templates~master~I01a95be975011d2419a523da572503e0ebcfa49b,openstack/tripleo-heat-templates,master,I01a95be975011d2419a523da572503e0ebcfa49b,Move the Hiera symlink task from post configuration to deployment steps.,MERGED,2019-07-29 16:08:43.000000000,2019-07-31 02:27:36.000000000,2019-07-31 02:27:36.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-07-29 16:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8370beb81d96fdb76cbe6d35b0c144e9ff02bf19', 'message': 'Move the Hiera symlink task from post configuration to deployment steps.\n\nChange-Id: I01a95be975011d2419a523da572503e0ebcfa49b\nResolves: rhbz#1733608\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 2, 'created': '2019-07-29 16:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7acb2eba53f61e04d53151a845f9aef2c49ff5f9', 'message': 'Move the Hiera symlink task from post configuration to deployment steps.\n\nThis helps to consolidate the Undercloud and Standalone deployments. It\nalso avoids an issue where the Ansible Python interperter cannot be\nfound.\n\nChange-Id: I01a95be975011d2419a523da572503e0ebcfa49b\nResolves: rhbz#1733608\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 3, 'created': '2019-07-29 20:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/da6dde49af48f534df4363ab85c194f3a4efcbab', 'message': 'Move the Hiera symlink task from post configuration to deployment steps.\n\nChange-Id: I01a95be975011d2419a523da572503e0ebcfa49b\nResolves: rhbz#1733608\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 4, 'created': '2019-07-29 20:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f1d039b19f39ed2cfa14cdac235fea663a038410', 'message': 'Move the Hiera symlink task from post configuration to deployment steps.\n\nThis helps to consolidate the Undercloud and Standalone deployments. It\nalso avoids an issue where the Ansible Python interperter cannot be\nfound.\n\nChange-Id: I01a95be975011d2419a523da572503e0ebcfa49b\nResolves: rhbz#1733608\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 5, 'created': '2019-07-29 20:48:09.000000000', 'files': ['common/deploy-steps.j2', 'extraconfig/post_deploy/undercloud_post.sh', 'extraconfig/post_deploy/standalone_post.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3b813d845cba18977afea00ca62ea6e6d6d5ba45', 'message': 'Move the Hiera symlink task from post configuration to deployment steps.\n\nThis helps to consolidate the Undercloud and Standalone deployments. It\nalso avoids an issue where the Ansible Python interperter cannot be\nfound.\n\nChange-Id: I01a95be975011d2419a523da572503e0ebcfa49b\nResolves: rhbz#1733608\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}]",2,673328,3b813d845cba18977afea00ca62ea6e6d6d5ba45,20,5,5,25877,,,0,"Move the Hiera symlink task from post configuration to deployment steps.

This helps to consolidate the Undercloud and Standalone deployments. It
also avoids an issue where the Ansible Python interperter cannot be
found.

Change-Id: I01a95be975011d2419a523da572503e0ebcfa49b
Resolves: rhbz#1733608
Signed-off-by: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/28/673328/1 && git format-patch -1 --stdout FETCH_HEAD,"['extraconfig/post_deploy/undercloud_post.sh', 'common/deploy-steps-tasks.yaml', 'extraconfig/post_deploy/standalone_post.yaml']",3,8370beb81d96fdb76cbe6d35b0c144e9ff02bf19,bz_1733608,, StandalonePostConfig: type: OS::Heat::SoftwareConfig properties: group: ansible inputs: - name: ansible_python_interpreter description: Python interpreter to use for the ansible execution default: {get_param: PythonInterpreter} config: | --- - name: StandalonePostConfig connection: local hosts: localhost tasks: - name: Hiera symlink file: src: /etc/puppet/hiera.yaml dest: /etc/hiera.yaml state: link force: yes StandalonePostDeployment: type: OS::Heat::SoftwareDeploymentGroup properties: name: StandalonePostDeployment servers: {get_param: servers} config: {get_resource: StandalonePostConfig} ,9,30
openstack%2Fdevstack~stable%2Fpike~I125870b13d2581cdec0dede11157b19b702565cd,openstack/devstack,stable/pike,I125870b13d2581cdec0dede11157b19b702565cd,Fix testing for the write-devstack-local-conf role,MERGED,2019-07-30 07:45:44.000000000,2019-07-31 02:09:44.000000000,2019-07-31 02:09:44.000000000,"[{'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 07:45:44.000000000', 'files': ['roles/write-devstack-local-conf/library/test.py'], 'web_link': 'https://opendev.org/openstack/devstack/commit/a069e496023528e4ee0de62bbcde10f9691cdcef', 'message': 'Fix testing for the write-devstack-local-conf role\n\nThe test_plugin_deps function in the test code for the\nwrite-devstack-local-conf role was missing the import part of actually\nexecuting the code under test and asserting the expected result.\n\nChange-Id: I125870b13d2581cdec0dede11157b19b702565cd\n(cherry picked from commit 6d103a7ff845076da984afbd317cd8cf4504fb7a)\n'}]",0,673430,a069e496023528e4ee0de62bbcde10f9691cdcef,6,3,1,10459,,,0,"Fix testing for the write-devstack-local-conf role

The test_plugin_deps function in the test code for the
write-devstack-local-conf role was missing the import part of actually
executing the code under test and asserting the expected result.

Change-Id: I125870b13d2581cdec0dede11157b19b702565cd
(cherry picked from commit 6d103a7ff845076da984afbd317cd8cf4504fb7a)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/30/673430/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/write-devstack-local-conf/library/test.py'],1,a069e496023528e4ee0de62bbcde10f9691cdcef,," lc = LocalConf(p.get('localrc'), p.get('local_conf'), p.get('base_services'), p.get('services'), p.get('plugins'), p.get('base_dir'), p.get('projects'), p.get('project')) lc.write(p['path']) plugins = [] with open(p['path']) as f: for line in f: if line.startswith('enable_plugin'): plugins.append(line.split()[1]) self.assertEqual(['foo', 'bar'], plugins)",,16,0
openstack%2Fnova~master~I4d60da26fcf0a77628d1fdf4e818884614fa4f02,openstack/nova,master,I4d60da26fcf0a77628d1fdf4e818884614fa4f02,Add functional recreate test for bug 1764556,MERGED,2018-04-17 20:21:54.000000000,2019-07-31 02:00:11.000000000,2019-07-31 02:00:11.000000000,"[{'_account_id': 4690}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 8768}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-17 20:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fbf38297aee23ba10ed59229c8273dc4461ff62a', 'message': ""WIP: Add functional recreate test for bug 1764556\n\nThis doesn't show the recreate yet, so still thinking.\nPosting this for more eyeballs.\n\nChange-Id: I4d60da26fcf0a77628d1fdf4e818884614fa4f02\nRelated-Bug: #1764556\n""}, {'number': 2, 'created': '2018-04-17 20:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d580a27127468343531d086d8b84be819af0772', 'message': ""WIP: Add functional recreate test for bug 1764556\n\nThis doesn't show the recreate yet, so still thinking.\nPosting this for more eyeballs.\n\nChange-Id: I4d60da26fcf0a77628d1fdf4e818884614fa4f02\nRelated-Bug: #1764556\n""}, {'number': 3, 'created': '2018-04-17 22:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c7c13faca6a0fb07f785ec2dd3a06e1f12f6cfc', 'message': ""WIP: Add functional recreate test for bug 1764556\n\nThis doesn't show the recreate yet, so still thinking.\nPosting this for more eyeballs.\n\nChange-Id: I4d60da26fcf0a77628d1fdf4e818884614fa4f02\nRelated-Bug: #1764556\n""}, {'number': 4, 'created': '2018-04-18 18:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bbedd77096bbcfccc9ee2b5f24b8ac70157f4aa5', 'message': 'Add functional recreate test for bug 1764556\n\nThis attempts to recreate the following scenario:\n\n1) boot instance on ocata host where the compute service\n   does not have a uuid\n2) migrate instance\n3) delete the ocata service (thus deleting the compute node)\n4) start compute service with the same name\n5) migrate instance to newly-created compute node\n6) upgrade to pike where services.uuid data migration happens\n7) list instances as admin to join on the services table\n\nThe failure occurs when listing instances because the deleted\nservice with the same name as the compute host that the instance\nis running on gets pulled from the DB and the Service object\nattempts to set a uuid on it, which fails since it\'s not using\na read_deleted=""yes"" context.\n\nWhile working on this, the service_get_all_by_binary DB API\nmethod had to be fixed to not hard-code read_deleted=""no"" since\nthe test needs to be able to read deleted services, which it can\ncontrol via its own context object (note that\nRequestContext.read_deleted already defaults to ""no"" so the\nhard-coding in the DB API is unnecessarily restrictive).\n\nChange-Id: I4d60da26fcf0a77628d1fdf4e818884614fa4f02\nRelated-Bug: #1764556\n'}, {'number': 5, 'created': '2018-10-25 19:07:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d9562d3699db91c79b53ce734f470a80ac10d7fc', 'message': 'Add functional recreate test for bug 1764556\n\nThis attempts to recreate the following scenario:\n\n1) boot instance on ocata host where the compute service\n   does not have a uuid\n2) migrate instance\n3) delete the ocata service (thus deleting the compute node)\n4) start compute service with the same name\n5) migrate instance to newly-created compute node\n6) upgrade to pike where services.uuid data migration happens\n7) list instances as admin to join on the services table\n\nThe failure occurs when listing instances because the deleted\nservice with the same name as the compute host that the instance\nis running on gets pulled from the DB and the Service object\nattempts to set a uuid on it, which fails since it\'s not using\na read_deleted=""yes"" context.\n\nWhile working on this, the service_get_all_by_binary DB API\nmethod had to be fixed to not hard-code read_deleted=""no"" since\nthe test needs to be able to read deleted services, which it can\ncontrol via its own context object (note that\nRequestContext.read_deleted already defaults to ""no"" so the\nhard-coding in the DB API is unnecessarily restrictive).\n\nChange-Id: I4d60da26fcf0a77628d1fdf4e818884614fa4f02\nRelated-Bug: #1764556\n'}, {'number': 6, 'created': '2018-10-25 19:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed0a670f705a31ceabf666b08770ca6ea5d415bf', 'message': 'Add functional recreate test for bug 1764556\n\nThis attempts to recreate the following scenario:\n\n1) boot instance on ocata host where the compute service\n   does not have a uuid\n2) migrate instance\n3) delete the ocata service (thus deleting the compute node)\n4) start compute service with the same name\n5) migrate instance to newly-created compute node\n6) upgrade to pike where services.uuid data migration happens\n7) list instances as admin to join on the services table\n\nThe failure occurs when listing instances because the deleted\nservice with the same name as the compute host that the instance\nis running on gets pulled from the DB and the Service object\nattempts to set a uuid on it, which fails since it\'s not using\na read_deleted=""yes"" context.\n\nWhile working on this, the service_get_all_by_binary DB API\nmethod had to be fixed to not hard-code read_deleted=""no"" since\nthe test needs to be able to read deleted services, which it can\ncontrol via its own context object (note that\nRequestContext.read_deleted already defaults to ""no"" so the\nhard-coding in the DB API is unnecessarily restrictive).\n\nChange-Id: I4d60da26fcf0a77628d1fdf4e818884614fa4f02\nRelated-Bug: #1764556\n'}, {'number': 7, 'created': '2019-04-10 16:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a8e2fe2fd2b6b84ed5a032c915934c2861a33eb', 'message': 'Add functional recreate test for bug 1764556\n\nThis attempts to recreate the following scenario:\n\n1) boot instance on ocata host where the compute service\n   does not have a uuid\n2) migrate instance\n3) delete the ocata service (thus deleting the compute node)\n4) start compute service with the same name\n5) migrate instance to newly-created compute node\n6) upgrade to pike where services.uuid data migration happens\n7) list instances as admin to join on the services table\n\nThe failure occurs when listing instances because the deleted\nservice with the same name as the compute host that the instance\nis running on gets pulled from the DB and the Service object\nattempts to set a uuid on it, which fails since it\'s not using\na read_deleted=""yes"" context.\n\nWhile working on this, the service_get_all_by_binary DB API\nmethod had to be fixed to not hard-code read_deleted=""no"" since\nthe test needs to be able to read deleted services, which it can\ncontrol via its own context object (note that\nRequestContext.read_deleted already defaults to ""no"" so the\nhard-coding in the DB API is unnecessarily restrictive).\n\nChange-Id: I4d60da26fcf0a77628d1fdf4e818884614fa4f02\nRelated-Bug: #1764556\n'}, {'number': 8, 'created': '2019-04-10 20:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f59d83803185136be6c7cda1c875cc4afff65166', 'message': 'Add functional recreate test for bug 1764556\n\nThis attempts to recreate the following scenario:\n\n1) boot instance on ocata host where the compute service\n   does not have a uuid\n2) migrate instance\n3) delete the ocata service (thus deleting the compute node)\n4) start compute service with the same name\n5) migrate instance to newly-created compute node\n6) upgrade to pike where services.uuid data migration happens\n7) list instances as admin to join on the services table\n\nThe failure occurs when listing instances because the deleted\nservice with the same name as the compute host that the instance\nis running on gets pulled from the DB and the Service object\nattempts to set a uuid on it, which fails since it\'s not using\na read_deleted=""yes"" context.\n\nWhile working on this, the service_get_all_by_binary DB API\nmethod had to be fixed to not hard-code read_deleted=""no"" since\nthe test needs to be able to read deleted services, which it can\ncontrol via its own context object (note that\nRequestContext.read_deleted already defaults to ""no"" so the\nhard-coding in the DB API is unnecessarily restrictive).\n\nChange-Id: I4d60da26fcf0a77628d1fdf4e818884614fa4f02\nRelated-Bug: #1764556\n'}, {'number': 9, 'created': '2019-07-30 13:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bef8354f1eddd33dcba211964864dcd9675d2655', 'message': 'Add functional recreate test for bug 1764556\n\nThis attempts to recreate the following scenario:\n\n1) boot instance on ocata host where the compute service\n   does not have a uuid\n2) migrate instance\n3) delete the ocata service (thus deleting the compute node)\n4) start compute service with the same name\n5) migrate instance to newly-created compute node\n6) upgrade to pike where services.uuid data migration happens\n7) list instances as admin to join on the services table\n\nThe failure occurs when listing instances because the deleted\nservice with the same name as the compute host that the instance\nis running on gets pulled from the DB and the Service object\nattempts to set a uuid on it, which fails since it\'s not using\na read_deleted=""yes"" context.\n\nWhile working on this, the service_get_all_by_binary DB API\nmethod had to be fixed to not hard-code read_deleted=""no"" since\nthe test needs to be able to read deleted services, which it can\ncontrol via its own context object (note that\nRequestContext.read_deleted already defaults to ""no"" so the\nhard-coding in the DB API is unnecessarily restrictive).\n\nChange-Id: I4d60da26fcf0a77628d1fdf4e818884614fa4f02\nRelated-Bug: #1764556\n'}, {'number': 10, 'created': '2019-07-30 18:49:12.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1764556.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/81f05f53d357a546c7f9a53cae6ef45b92e28bc1', 'message': 'Add functional recreate test for bug 1764556\n\nThis attempts to recreate the following scenario:\n\n1) boot instance on ocata host where the compute service\n   does not have a uuid\n2) migrate instance\n3) delete the ocata service (thus deleting the compute node)\n4) start compute service with the same name\n5) migrate instance to newly-created compute node\n6) upgrade to pike where services.uuid data migration happens\n7) list instances as admin to join on the services table\n\nThe failure occurs when listing instances because the deleted\nservice with the same name as the compute host that the instance\nis running on gets pulled from the DB and the Service object\nattempts to set a uuid on it, which fails since it\'s not using\na read_deleted=""yes"" context.\n\nWhile working on this, the service_get_all_by_binary DB API\nmethod had to be fixed to not hard-code read_deleted=""no"" since\nthe test needs to be able to read deleted services, which it can\ncontrol via its own context object (note that\nRequestContext.read_deleted already defaults to ""no"" so the\nhard-coding in the DB API is unnecessarily restrictive).\n\nChange-Id: I4d60da26fcf0a77628d1fdf4e818884614fa4f02\nRelated-Bug: #1764556\n'}]",10,562041,81f05f53d357a546c7f9a53cae6ef45b92e28bc1,106,21,10,6873,,,0,"Add functional recreate test for bug 1764556

This attempts to recreate the following scenario:

1) boot instance on ocata host where the compute service
   does not have a uuid
2) migrate instance
3) delete the ocata service (thus deleting the compute node)
4) start compute service with the same name
5) migrate instance to newly-created compute node
6) upgrade to pike where services.uuid data migration happens
7) list instances as admin to join on the services table

The failure occurs when listing instances because the deleted
service with the same name as the compute host that the instance
is running on gets pulled from the DB and the Service object
attempts to set a uuid on it, which fails since it's not using
a read_deleted=""yes"" context.

While working on this, the service_get_all_by_binary DB API
method had to be fixed to not hard-code read_deleted=""no"" since
the test needs to be able to read deleted services, which it can
control via its own context object (note that
RequestContext.read_deleted already defaults to ""no"" so the
hard-coding in the DB API is unnecessarily restrictive).

Change-Id: I4d60da26fcf0a77628d1fdf4e818884614fa4f02
Related-Bug: #1764556
",git fetch https://review.opendev.org/openstack/nova refs/changes/41/562041/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/regressions/test_bug_1764556.py', 'nova/db/sqlalchemy/api.py']",2,fbf38297aee23ba10ed59229c8273dc4461ff62a,bug/1764556," query = model_query(context, models.Service).filter_by(binary=binary)"," query = model_query(context, models.Service, read_deleted=""no"").\ filter_by(binary=binary)",149,2
openstack%2Fkarbor~master~Ib43e63ffdc58615f1ea2d273306c7170a1f97f1b,openstack/karbor,master,Ib43e63ffdc58615f1ea2d273306c7170a1f97f1b,Update api-ref location,MERGED,2019-07-22 16:32:20.000000000,2019-07-31 01:47:56.000000000,2019-07-31 01:47:56.000000000,"[{'_account_id': 2023}, {'_account_id': 13070}, {'_account_id': 17151}, {'_account_id': 19346}, {'_account_id': 20883}, {'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 29272}]","[{'number': 1, 'created': '2019-07-22 16:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/62535fde8419808da5af6f0f7a26491f06d6b0da', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: Ib43e63ffdc58615f1ea2d273306c7170a1f97f1b\n""}, {'number': 2, 'created': '2019-07-29 09:55:45.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/karbor/commit/e8199ce65fa0293c769e726df8f5e802f31675c5', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: Ib43e63ffdc58615f1ea2d273306c7170a1f97f1b\n""}]",0,672091,e8199ce65fa0293c769e726df8f5e802f31675c5,11,9,2,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: Ib43e63ffdc58615f1ea2d273306c7170a1f97f1b
",git fetch https://review.opendev.org/openstack/karbor refs/changes/91/672091/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,62535fde8419808da5af6f0f7a26491f06d6b0da,retire-api-site,# the API Ref to docs.openstack.org.,# the API Ref to developer.openstack.org.,1,1
openstack%2Fpuppet-openstack_spec_helper~master~I40cb2a5b855236bdf74e495415ccfddb79813840,openstack/puppet-openstack_spec_helper,master,I40cb2a5b855236bdf74e495415ccfddb79813840,"Revert ""Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7""",MERGED,2019-07-30 12:15:30.000000000,2019-07-31 01:30:02.000000000,2019-07-31 01:30:02.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 12:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/97191e2467016c194b37d76f0a84773c48c633f2', 'message': 'Revert ""Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7""\n\nThis reverts commit 15c70194db831d25f13a49098159289bad05bac9.\n\nChange-Id: I40cb2a5b855236bdf74e495415ccfddb79813840\n'}, {'number': 2, 'created': '2019-07-30 12:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/7be34b6273a8f8dd8ba85f068ea7661bd2ca7f30', 'message': 'Revert ""Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7""\n\nThis reverts commit 15c70194db831d25f13a49098159289bad05bac9.\n\nChange-Id: I40cb2a5b855236bdf74e495415ccfddb79813840\n'}, {'number': 3, 'created': '2019-07-30 12:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/c3deddb4e35903a01224a2d476ef69916ef173b1', 'message': 'Revert ""Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7""\n\nThis reverts commit 15c70194db831d25f13a49098159289bad05bac9.\n\nDepends-On: I1127679bb2cb2bc4023598536924f38f0e206b1e\nChange-Id: I40cb2a5b855236bdf74e495415ccfddb79813840\n'}, {'number': 4, 'created': '2019-07-30 13:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/1e3187cfb250ca7a56be9cf42d28d64613e7d523', 'message': 'Revert ""Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7""\n\nThis reverts commit 15c70194db831d25f13a49098159289bad05bac9.\n\nDepends-On: I1127679bb2cb2bc4023598536924f38f0e206b1e\nChange-Id: I40cb2a5b855236bdf74e495415ccfddb79813840\n'}, {'number': 5, 'created': '2019-07-30 18:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/d21504a85a450b9ad433d7c22115ffca04956b0c', 'message': 'Revert ""Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7""\n\nThis reverts commit 15c70194db831d25f13a49098159289bad05bac9.\n\nDepends-On: I1127679bb2cb2bc4023598536924f38f0e206b1e\nChange-Id: I40cb2a5b855236bdf74e495415ccfddb79813840\n'}, {'number': 6, 'created': '2019-07-30 20:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/86f1e7e685e1fadbc4612c86af5431231f62d357', 'message': 'Revert ""Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7""\n\nThis reverts commit 15c70194db831d25f13a49098159289bad05bac9.\n\nDepends-On: I1127679bb2cb2bc4023598536924f38f0e206b1e\n\nChange-Id: I40cb2a5b855236bdf74e495415ccfddb79813840\n'}, {'number': 7, 'created': '2019-07-30 20:53:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/f3bb5ca9bce9ebf386e5707c7a202e47e8101fe1', 'message': 'Revert ""Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7""\n\nThis reverts commit 15c70194db831d25f13a49098159289bad05bac9.\n\nDepends-On: I1127679bb2cb2bc4023598536924f38f0e206b1e\n\nChange-Id: I40cb2a5b855236bdf74e495415ccfddb79813840\n'}, {'number': 8, 'created': '2019-07-31 00:15:19.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/d646e76d5a4185c373f6dce673e09ca0eaa9e627', 'message': 'Revert ""Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7""\n\nThis reverts commit 15c70194db831d25f13a49098159289bad05bac9.\n\nChange-Id: I40cb2a5b855236bdf74e495415ccfddb79813840\n'}]",0,673492,d646e76d5a4185c373f6dce673e09ca0eaa9e627,27,3,8,3153,,,0,"Revert ""Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7""

This reverts commit 15c70194db831d25f13a49098159289bad05bac9.

Change-Id: I40cb2a5b855236bdf74e495415ccfddb79813840
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/92/673492/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,97191e2467016c194b37d76f0a84773c48c633f2,revert,, - puppet-openstack-libraries-puppet-beaker-rspec-centos-7: voting: false,0,2
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Idc3328658a4c5c21fd011c6c4f791e7993559f1a,openstack/tripleo-heat-templates,stable/queens,Idc3328658a4c5c21fd011c6c4f791e7993559f1a,OVS Revalidator and handler threads,MERGED,2019-06-11 14:08:14.000000000,2019-07-31 00:57:19.000000000,2019-07-31 00:57:19.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30229}]","[{'number': 1, 'created': '2019-06-11 14:08:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/57613a94e9cc7ec4cb8e5bab35eecfdb3e27091f', 'message': 'OVS Revalidator and handler threads\n\nRevalidator and handler threads are not coherent with lcore\nConfigure these threads accoding to confgiure lcores\n\nConflicts:\n        puppet/services/openvswitch.yaml\n\nChange-Id: Idc3328658a4c5c21fd011c6c4f791e7993559f1a\nCloses-Bug: #1822571\nDepends-On: https://review.openstack.org/664239\n(cherry picked from commit 3c5ad2aab98fa9a1ab26cc6c348a64806276e8b9)\n'}, {'number': 2, 'created': '2019-07-08 10:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/edc224cf98ab9fe4a4784ec25c61fed863d2dbf2', 'message': 'OVS Revalidator and handler threads\n\nRevalidator and handler threads are not coherent with lcore\nConfigure these threads accoding to confgiure lcores\n\nConflicts:\n        puppet/services/openvswitch.yaml\n\nChange-Id: Idc3328658a4c5c21fd011c6c4f791e7993559f1a\nCloses-Bug: #1822571\nDepends-On: https://review.openstack.org/650626\n(cherry picked from commit 3c5ad2aab98fa9a1ab26cc6c348a64806276e8b9)\n'}, {'number': 3, 'created': '2019-07-16 14:18:34.000000000', 'files': ['releasenotes/notes/ovs-revalidator-handler-threads.yaml-f5a12d1066b042f1.yaml', 'puppet/services/openvswitch.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/87ba89813397bad46b9b7ce377b4452033a36874', 'message': 'OVS Revalidator and handler threads\n\nRevalidator and handler threads are not coherent with lcore\nConfigure these threads accoding to confgiure lcores\n\nConflicts:\n        puppet/services/openvswitch.yaml\n\nChange-Id: Idc3328658a4c5c21fd011c6c4f791e7993559f1a\nCloses-Bug: #1822571\nDepends-On: https://review.opendev.org/#/c/664239/\n(cherry picked from commit 3c5ad2aab98fa9a1ab26cc6c348a64806276e8b9)\n'}]",1,664600,87ba89813397bad46b9b7ce377b4452033a36874,29,5,3,30229,,,0,"OVS Revalidator and handler threads

Revalidator and handler threads are not coherent with lcore
Configure these threads accoding to confgiure lcores

Conflicts:
        puppet/services/openvswitch.yaml

Change-Id: Idc3328658a4c5c21fd011c6c4f791e7993559f1a
Closes-Bug: #1822571
Depends-On: https://review.opendev.org/#/c/664239/
(cherry picked from commit 3c5ad2aab98fa9a1ab26cc6c348a64806276e8b9)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/664600/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ovs-revalidator-handler-threads.yaml-f5a12d1066b042f1.yaml', 'puppet/services/openvswitch.yaml']",2,57613a94e9cc7ec4cb8e5bab35eecfdb3e27091f,bug/1822571, OvsHandlerCores: description: > Number of cores to be used for ovs handler threads. type: number default: 1 tags: - role_specific OvsRevalidatorCores: description: > Number of cores to be used for ovs revalidator threads. type: number default: 1 tags: - role_specific vswitch::dpdk::revalidator_cores: OvsRevalidatorCores vswitch::dpdk::handler_cores: OvsHandlerCores OvsRevalidatorCores: {get_param: OvsRevalidatorCores} OvsHandlerCores: {get_param: OvsHandlerCores}," upgrade_tasks: - name: Check openvswitch version. when: step|int == 2 register: ovs_version ignore_errors: true shell: rpm -qa | awk -F- '/^openvswitch-2/{print $2 ""-"" $3}' - name: Check openvswitch packaging. when: step|int == 2 shell: rpm -q --scripts openvswitch | awk '/postuninstall/,/*/' | grep -q ""systemctl.*try-restart"" register: ovs_packaging_issue ignore_errors: true - block: - name: ""Ensure empty directory: emptying."" file: state: absent path: /root/OVS_UPGRADE - name: ""Ensure empty directory: creating."" file: state: directory path: /root/OVS_UPGRADE owner: root group: root mode: 0750 - name: Make yum cache. command: yum makecache - name: Download OVS packages. command: yumdownloader --destdir /root/OVS_UPGRADE --resolve openvswitch - name: Get rpm list for manual upgrade of OVS. shell: ls -1 /root/OVS_UPGRADE/*.rpm register: ovs_list_of_rpms - name: Manual upgrade of OVS shell: | rpm -U --test {{item}} 2>&1 | grep ""already installed"" || \ rpm -U --replacepkgs --notriggerun --nopostun {{item}}; args: chdir: /root/OVS_UPGRADE with_items: - ""{{ovs_list_of_rpms.stdout_lines}}"" when: - step|int == 2 - ""'2.5.0-14' in ovs_version.stdout|default('') or ovs_packaging_issue|default(false)|succeeded""",21,43
openstack%2Fironic~stable%2Fqueens~Ib1b1e32bc60d7ec271098dcd17086f79518c09df,openstack/ironic,stable/queens,Ib1b1e32bc60d7ec271098dcd17086f79518c09df,CI: stop using pyghmi from git master,MERGED,2019-07-30 08:32:05.000000000,2019-07-31 00:50:21.000000000,2019-07-30 14:47:58.000000000,"[{'_account_id': 10118}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 08:32:05.000000000', 'files': ['playbooks/legacy/tempest-dsvm-ironic-ipa-partition-uefi-pxe_ipmitool-tinyipa/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-inspector/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-ipa-wholedisk-agent_ipmitool-tinyipa-multinode/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-ipa-wholedisk-bios-agent_ipmitool-tinyipa/run.yaml', 'playbooks/legacy/grenade-dsvm-ironic-multinode-multitenant/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-ipa-partition-redfish-tinyipa/run.yaml', 'playbooks/legacy/grenade-dsvm-ironic/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-pxe_ipmitool-postgres/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-bfv/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-ipa-wholedisk-bios-pxe_snmp-tinyipa/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-pxe_ipa-full/run.yaml', 'zuul.d/legacy-ironic-jobs.yaml', 'playbooks/legacy/tempest-dsvm-ironic-ipa-partition-pxe_ipmitool-tinyipa-python3/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-ipa-resourceclasses-partition-pxe_ipmitool-tinyipa/run.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9bba2ca165fb75db1191eb0ba5e64d335b5725ff', 'message': ""CI: stop using pyghmi from git master\n\nIt's just a library we consume, there is no reason to use its\ngit head. Currently 1.4.0 is breaking us.\n\nThe stable version of this patch was reworked to cover legacy jobs.\n\nStory: #2006301\nTask: #36014\nChange-Id: Ib1b1e32bc60d7ec271098dcd17086f79518c09df\n(cherry picked from commit 3dfce5f2de6377d74632bb2a7fe3d382ccc629b0)\n""}]",0,673448,9bba2ca165fb75db1191eb0ba5e64d335b5725ff,9,5,1,10239,,,0,"CI: stop using pyghmi from git master

It's just a library we consume, there is no reason to use its
git head. Currently 1.4.0 is breaking us.

The stable version of this patch was reworked to cover legacy jobs.

Story: #2006301
Task: #36014
Change-Id: Ib1b1e32bc60d7ec271098dcd17086f79518c09df
(cherry picked from commit 3dfce5f2de6377d74632bb2a7fe3d382ccc629b0)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/48/673448/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/tempest-dsvm-ironic-ipa-partition-uefi-pxe_ipmitool-tinyipa/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-inspector/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-ipa-wholedisk-agent_ipmitool-tinyipa-multinode/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-ipa-wholedisk-bios-agent_ipmitool-tinyipa/run.yaml', 'playbooks/legacy/grenade-dsvm-ironic-multinode-multitenant/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-ipa-partition-redfish-tinyipa/run.yaml', 'playbooks/legacy/grenade-dsvm-ironic/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-pxe_ipmitool-postgres/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-bfv/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-ipa-wholedisk-bios-pxe_snmp-tinyipa/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-pxe_ipa-full/run.yaml', 'zuul.d/legacy-ironic-jobs.yaml', 'playbooks/legacy/tempest-dsvm-ironic-ipa-partition-pxe_ipmitool-tinyipa-python3/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-ipa-resourceclasses-partition-pxe_ipmitool-tinyipa/run.yaml']",14,9bba2ca165fb75db1191eb0ba5e64d335b5725ff,,," export PROJECTS=""x/pyghmi $PROJECTS""",0,18
openstack%2Fpuppet-nova~stable%2Fqueens~I2766cdd66ff17756daaf1a75ad516a7af6eebddc,openstack/puppet-nova,stable/queens,I2766cdd66ff17756daaf1a75ad516a7af6eebddc,Add functionality to manage /etc/sysconfig/libvirt-guests,MERGED,2019-07-24 08:41:58.000000000,2019-07-31 00:06:50.000000000,2019-07-31 00:06:50.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-07-24 08:41:58.000000000', 'files': ['releasenotes/notes/compute-libvirt-guests-b51fdee7cf4d0289.yaml', 'spec/classes/nova_compute_libvirt_guests_spec.rb', 'manifests/compute/libvirt_guests.pp', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/88cff3858f331e2a88c4f3d8ce838aeaf6e6e46e', 'message': 'Add functionality to manage /etc/sysconfig/libvirt-guests\n\nIf resume_guests_state_on_host_boot is set in nova.conf also\nlibvirt-guests need to be configured in the right way to shutdown\nrunning instances on a compute reboot.\n\nCloses-bug: 1778216\nChange-Id: I2766cdd66ff17756daaf1a75ad516a7af6eebddc\n(cherry picked from commit df325e8f6db80b4ef65d88a9a0369b6802c44a86)\n'}]",0,672469,88cff3858f331e2a88c4f3d8ce838aeaf6e6e46e,16,7,1,17216,,,0,"Add functionality to manage /etc/sysconfig/libvirt-guests

If resume_guests_state_on_host_boot is set in nova.conf also
libvirt-guests need to be configured in the right way to shutdown
running instances on a compute reboot.

Closes-bug: 1778216
Change-Id: I2766cdd66ff17756daaf1a75ad516a7af6eebddc
(cherry picked from commit df325e8f6db80b4ef65d88a9a0369b6802c44a86)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/69/672469/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/compute-libvirt-guests-b51fdee7cf4d0289.yaml', 'spec/classes/nova_compute_libvirt_guests_spec.rb', 'manifests/compute/libvirt_guests.pp', 'manifests/params.pp']",4,88cff3858f331e2a88c4f3d8ce838aeaf6e6e46e,bug/1778216-stable/queens, $libvirt_guests_package_name = 'libvirt-client' $libvirt_guests_service_name = 'libvirt-guests',,181,0
openstack%2Fproject-config~master~I691e2bd676816884f732601229c98b578efc46b3,openstack/project-config,master,I691e2bd676816884f732601229c98b578efc46b3,"Revert ""Enable IAD opendev.org mirror""",MERGED,2019-07-30 23:38:17.000000000,2019-07-31 00:03:09.000000000,2019-07-31 00:03:08.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 23:38:17.000000000', 'files': ['zuul/site-variables.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/644805b7b6589cd29c29dc3ce6044d51ed731e72', 'message': 'Revert ""Enable IAD opendev.org mirror""\n\nThis reverts commit 3e5df9727f246f6504fc41bf5d9354b6fec67b2b.\n\nWe have been testing with the kernel referenced in the original for\nseveral days and have enough data.  There is an open issue with oops\nin fscache which we need to resolve for this to be stable.\n\nChange-Id: I691e2bd676816884f732601229c98b578efc46b3\n'}]",0,673710,644805b7b6589cd29c29dc3ce6044d51ed731e72,7,3,1,7118,,,0,"Revert ""Enable IAD opendev.org mirror""

This reverts commit 3e5df9727f246f6504fc41bf5d9354b6fec67b2b.

We have been testing with the kernel referenced in the original for
several days and have enough data.  There is an open issue with oops
in fscache which we need to resolve for this to be stable.

Change-Id: I691e2bd676816884f732601229c98b578efc46b3
",git fetch https://review.opendev.org/openstack/project-config refs/changes/10/673710/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/site-variables.yaml'],1,644805b7b6589cd29c29dc3ce6044d51ed731e72,kafs-iad," {%- if nodepool.region + ""."" + nodepool.cloud in [ ""DFW.rax"", ""ORD.rax"", ""regionOne.fortnebula"" ] -%}"," {%- if nodepool.region + ""."" + nodepool.cloud in [ ""IAD.rax"", ""DFW.rax"", ""ORD.rax"", ""regionOne.fortnebula"" ] -%}",1,1
openstack%2Fopenstack-ansible~master~I77b7e090aa4331e6a9547e0526a0f291f06a57c0,openstack/openstack-ansible,master,I77b7e090aa4331e6a9547e0526a0f291f06a57c0,Change haproxy http-check expect for nova_console,MERGED,2019-07-23 07:47:33.000000000,2019-07-30 23:59:30.000000000,2019-07-30 19:47:41.000000000,"[{'_account_id': 1004}, {'_account_id': 14805}, {'_account_id': 21785}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-07-23 07:47:33.000000000', 'files': ['inventory/group_vars/haproxy/haproxy.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dc409a98e3d8b3c28cc884442776bd9b525cc851', 'message': ""Change haproxy http-check expect for nova_console\n\nChange the haproxy_backend_httpcheck_options to expect an 'OK' string\nrather than a 200 response to avoid constant logging of broken pipe\nerrors in the console proxy services' logs.\n\nChange-Id: I77b7e090aa4331e6a9547e0526a0f291f06a57c0\n""}]",0,672215,dc409a98e3d8b3c28cc884442776bd9b525cc851,11,5,1,14805,,,0,"Change haproxy http-check expect for nova_console

Change the haproxy_backend_httpcheck_options to expect an 'OK' string
rather than a 200 response to avoid constant logging of broken pipe
errors in the console proxy services' logs.

Change-Id: I77b7e090aa4331e6a9547e0526a0f291f06a57c0
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/15/672215/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/haproxy/haproxy.yml'],1,dc409a98e3d8b3c28cc884442776bd9b525cc851,nova_console_httpchk," - ""expect string OK"""," - ""expect status 200""",1,1
openstack%2Finstack-undercloud~stable%2Fqueens~I96f5e4e51947da6919724d8ffb8531b8ecf87ff8,openstack/instack-undercloud,stable/queens,I96f5e4e51947da6919724d8ffb8531b8ecf87ff8,[queens-only] Rename the systemctl-daemon-reload exec,MERGED,2019-05-31 14:37:51.000000000,2019-07-30 23:41:34.000000000,2019-05-31 22:38:19.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-31 14:37:51.000000000', 'files': ['elements/puppet-stack-config/puppet-stack-config.pp'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/d12465b4a0134a2ecc0d5e5d9fb96cf55a730b6e', 'message': ""[queens-only] Rename the systemctl-daemon-reload exec\n\nWhile rebasing puppet-rabbitmq due to other reasons, I noticed that the\nundercloud (re) deploy would fail with:\n\n2019-05-31 09:59:00,919 INFO: Error: Evaluation Error: Error while evaluating a Resource Statement, Evaluation Error: Error while evaluating a Resource Statement, Duplicate declaration: Exec[systemctl-daemon-reload] is already declared in file /etc/puppet/manifests/puppet-stack-config.pp:99; cannot redeclare at /etc/puppet/modules/systemd/manifests/systemctl/daemon_reload.pp:5 at /etc/puppet/modules/systemd/manifests/systemctl/daemon_reload.pp:5:3 at /etc/puppet/modules/rabbitmq/manifests/config.pp:231 on node undercloud-0.redhat.local\n2019-05-31 09:59:00,982 INFO: + rc=1\n\nThis is because a newer puppet-rabbitmq introduced:\n+\n+ if $::facts['systemd'] {\n+ Class['systemd::systemctl::daemon_reload'] -> Service['rabbitmq-server']\n+ }\n   }\n\nWhich then pulls in the exec called 'systemctl-daemon-reload' from the\nsystemd module which conflicts with the same call we do in undercloud\npuppet manifest.\nLet's just rename this exact to 'systemctl-daemon-undercloud' so we do\nnot duplicate this resource ever. Tested this on a queens undercloud\nwith a puppet-rabbitmq that triggers the problematic exec and got a\ncorrectly redeployed undercloud.\n\nWe could have used the systemd module instead but that might require\nother backports and this seems the smallest possible approach to solve\nthis.\n\nChange-Id: I96f5e4e51947da6919724d8ffb8531b8ecf87ff8\nCloses-Bug: #1831253\n""}]",0,662488,d12465b4a0134a2ecc0d5e5d9fb96cf55a730b6e,8,3,1,20172,,,0,"[queens-only] Rename the systemctl-daemon-reload exec

While rebasing puppet-rabbitmq due to other reasons, I noticed that the
undercloud (re) deploy would fail with:

2019-05-31 09:59:00,919 INFO: Error: Evaluation Error: Error while evaluating a Resource Statement, Evaluation Error: Error while evaluating a Resource Statement, Duplicate declaration: Exec[systemctl-daemon-reload] is already declared in file /etc/puppet/manifests/puppet-stack-config.pp:99; cannot redeclare at /etc/puppet/modules/systemd/manifests/systemctl/daemon_reload.pp:5 at /etc/puppet/modules/systemd/manifests/systemctl/daemon_reload.pp:5:3 at /etc/puppet/modules/rabbitmq/manifests/config.pp:231 on node undercloud-0.redhat.local
2019-05-31 09:59:00,982 INFO: + rc=1

This is because a newer puppet-rabbitmq introduced:
+
+ if $::facts['systemd'] {
+ Class['systemd::systemctl::daemon_reload'] -> Service['rabbitmq-server']
+ }
   }

Which then pulls in the exec called 'systemctl-daemon-reload' from the
systemd module which conflicts with the same call we do in undercloud
puppet manifest.
Let's just rename this exact to 'systemctl-daemon-undercloud' so we do
not duplicate this resource ever. Tested this on a queens undercloud
with a puppet-rabbitmq that triggers the problematic exec and got a
correctly redeployed undercloud.

We could have used the systemd module instead but that might require
other backports and this seems the smallest possible approach to solve
this.

Change-Id: I96f5e4e51947da6919724d8ffb8531b8ecf87ff8
Closes-Bug: #1831253
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/88/662488/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/puppet-stack-config/puppet-stack-config.pp'],1,d12465b4a0134a2ecc0d5e5d9fb96cf55a730b6e,bug/1831253,"exec { 'systemctl-daemon-reload-undercloud': notify => [Exec['systemctl-daemon-reload-undercloud'], Service['mysqld']], } Exec['systemctl-daemon-reload-undercloud'] -> Service['mysqld']","exec { 'systemctl-daemon-reload': notify => [Exec['systemctl-daemon-reload'], Service['mysqld']], } Exec['systemctl-daemon-reload'] -> Service['mysqld']",3,3
openstack%2Fproject-config~master~I012b49f4d1ecc58ad6483cb6a2ab2e6ea9067e98,openstack/project-config,master,I012b49f4d1ecc58ad6483cb6a2ab2e6ea9067e98,projects: add vexxhost/openstack-monitoring,MERGED,2019-07-30 22:57:54.000000000,2019-07-30 23:37:09.000000000,2019-07-30 23:37:09.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 22:57:54.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/505137fa5af1722c04f760b79ad71be01fe1711e', 'message': 'projects: add vexxhost/openstack-monitoring\n\nThis will be used for a set of playbooks that can be used to deploy\nOpenStack monitoring on Sensu infrastructure.\n\nChange-Id: I012b49f4d1ecc58ad6483cb6a2ab2e6ea9067e98\n'}]",0,673708,505137fa5af1722c04f760b79ad71be01fe1711e,7,3,1,1004,,,0,"projects: add vexxhost/openstack-monitoring

This will be used for a set of playbooks that can be used to deploy
OpenStack monitoring on Sensu infrastructure.

Change-Id: I012b49f4d1ecc58ad6483cb6a2ab2e6ea9067e98
",git fetch https://review.opendev.org/openstack/project-config refs/changes/08/673708/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml']",2,505137fa5af1722c04f760b79ad71be01fe1711e,add-monitoring, - vexxhost/openstack-monitoring,,4,0
openstack%2Fpython-tripleoclient~master~I9faee9ab133e34466a79aa1176a16106bda1f15d,openstack/python-tripleoclient,master,I9faee9ab133e34466a79aa1176a16106bda1f15d,Add --concurrency argument to introspect commands,MERGED,2019-07-24 01:15:17.000000000,2019-07-30 23:17:41.000000000,2019-07-30 23:17:41.000000000,"[{'_account_id': 4571}, {'_account_id': 9712}, {'_account_id': 14985}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-24 01:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c261c787fc593463bc40911566586ea1e5c17fde', 'message': 'Add --concurrency argument to introspect commands\n\nThe default concurrency of 20 may be too high for small underclouds\n(especially CI environments), so this change adds a --concurrency\nargument so callers can control the maximum number of nodes\nto introspect concurrently.\n\nDepends-On: https://review.opendev.org/#/c/672389/\nChange-Id: I9faee9ab133e34466a79aa1176a16106bda1f15d\nCloses-Bug: #1836976\n'}, {'number': 2, 'created': '2019-07-24 21:11:10.000000000', 'files': ['tripleoclient/workflows/baremetal.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/workflows/test_baremetal.py', 'tripleoclient/v1/overcloud_node.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3e03e3b78cce8a6babe75bc99c5142232f8a07c2', 'message': 'Add --concurrency argument to introspect commands\n\nThe default concurrency of 20 may be too high for small underclouds\n(especially CI environments), so this change adds a --concurrency\nargument so callers can control the maximum number of nodes\nto introspect concurrently.\n\nDepends-On: https://review.opendev.org/#/c/672389/\nChange-Id: I9faee9ab133e34466a79aa1176a16106bda1f15d\nCloses-Bug: #1836976\n'}]",0,672392,3e03e3b78cce8a6babe75bc99c5142232f8a07c2,17,6,2,4571,,,0,"Add --concurrency argument to introspect commands

The default concurrency of 20 may be too high for small underclouds
(especially CI environments), so this change adds a --concurrency
argument so callers can control the maximum number of nodes
to introspect concurrently.

Depends-On: https://review.opendev.org/#/c/672389/
Change-Id: I9faee9ab133e34466a79aa1176a16106bda1f15d
Closes-Bug: #1836976
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/92/672392/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/workflows/baremetal.py', 'tripleoclient/tests/workflows/test_baremetal.py', 'tripleoclient/v1/overcloud_node.py']",3,c261c787fc593463bc40911566586ea1e5c17fde,bug/1836976," parser.add_argument('--concurrency', type=int, default=20, help=_('Maximum number of nodes to introspect at ' 'once.')) run_validations=parsed_args.run_validations, concurrency=parsed_args.concurrency run_validations=parsed_args.run_validations, concurrency=parsed_args.concurrency parser.add_argument('--concurrency', type=int, default=20, help=_('Maximum number of nodes to introspect at ' 'once.')) run_validations=parsed_args.run_validations, concurrency=parsed_args.concurrency parser.add_argument('--concurrency', type=int, default=20, help=_('Maximum number of nodes to introspect at ' 'once.')) run_validations=parsed_args.run_validations, concurrency=parsed_args.concurrency", run_validations=parsed_args.run_validations run_validations=parsed_args.run_validations run_validations=parsed_args.run_validations run_validations=parsed_args.run_validations,39,11
openstack%2Fneutron-tempest-plugin~master~I5ce1a34f7d5d635002baa1e5b14c288e6d2bc43e,openstack/neutron-tempest-plugin,master,I5ce1a34f7d5d635002baa1e5b14c288e6d2bc43e,Refactor the test_qos.QoSTestMixin._check_bw function,MERGED,2019-07-26 17:20:37.000000000,2019-07-30 23:06:19.000000000,2019-07-30 23:06:19.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-26 17:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b8de9decc6251f6c2e8ccf0306af2648955bae94', 'message': 'Refactor the test_qos.QoSTestMixin._check_bw function\n\nImproved the robustness of this function:\n- The remote process (""nc""), will be stopped both at the beginning and\n  the end of this function, just to ensure the process is not left\n  running at the beginning of the next check.\n- The socket connection is closed when the file is received (or in case\n  of exception). This will close the client socket and will end the ""nc""\n  process in the remote VM.\n- Set a socket timeout. This timeout, specifically defined for each\n  iteration, depending on the expected bandwidth, will force a quick\n  timeout while receiving from the remote VM. The check will fail and it\n  will be tested again, if the ""FILE_DOWNLOAD_TIMEOUT"" didn\'t happen yet.\n\nChange-Id: I5ce1a34f7d5d635002baa1e5b14c288e6d2bc43e\nCloses-Bug: #1838068\n'}, {'number': 2, 'created': '2019-07-27 18:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/497cc97fbbe3b8d2855bc9b27a5512b56677e238', 'message': 'Refactor the test_qos.QoSTestMixin._check_bw function\n\nImproved the robustness of this function:\n- The remote process (""nc""), will be stopped both at the beginning and\n  the end of this function, just to ensure the process is not left\n  running at the beginning of the next check.\n- The socket connection is closed when the file is received (or in case\n  of exception). This will close the client socket and will end the ""nc""\n  process in the remote VM.\n- Set a socket timeout. This timeout, specifically defined for each\n  iteration, depending on the expected bandwidth, will force a quick\n  timeout while receiving from the remote VM. The check will fail and it\n  will be tested again, if the ""FILE_DOWNLOAD_TIMEOUT"" didn\'t happen yet.\n\nChange-Id: I5ce1a34f7d5d635002baa1e5b14c288e6d2bc43e\nCloses-Bug: #1838068\n'}, {'number': 3, 'created': '2019-07-30 13:46:04.000000000', 'files': ['neutron_tempest_plugin/scenario/test_qos.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/fa5ebc4b98e4964b73210e38772af50e2524be3b', 'message': 'Refactor the test_qos.QoSTestMixin._check_bw function\n\nImproved the robustness of this function:\n- The remote process (""nc""), will be stopped both at the beginning and\n  the end of this function, just to ensure the process is not left\n  running at the beginning of the next check.\n- The socket connection is closed when the file is received (or in case\n  of exception). This will close the client socket and will end the ""nc""\n  process in the remote VM.\n- Set a socket timeout. This timeout, specifically defined for each\n  iteration, depending on the expected bandwidth, will force a quick\n  timeout while receiving from the remote VM. The check will fail and it\n  will be tested again, if the ""FILE_DOWNLOAD_TIMEOUT"" didn\'t happen yet.\n\nChange-Id: I5ce1a34f7d5d635002baa1e5b14c288e6d2bc43e\nCloses-Bug: #1838068\n'}]",4,673023,fa5ebc4b98e4964b73210e38772af50e2524be3b,14,4,3,16688,,,0,"Refactor the test_qos.QoSTestMixin._check_bw function

Improved the robustness of this function:
- The remote process (""nc""), will be stopped both at the beginning and
  the end of this function, just to ensure the process is not left
  running at the beginning of the next check.
- The socket connection is closed when the file is received (or in case
  of exception). This will close the client socket and will end the ""nc""
  process in the remote VM.
- Set a socket timeout. This timeout, specifically defined for each
  iteration, depending on the expected bandwidth, will force a quick
  timeout while receiving from the remote VM. The check will fail and it
  will be tested again, if the ""FILE_DOWNLOAD_TIMEOUT"" didn't happen yet.

Change-Id: I5ce1a34f7d5d635002baa1e5b14c288e6d2bc43e
Closes-Bug: #1838068
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/23/673023/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_qos.py'],1,b8de9decc6251f6c2e8ccf0306af2648955bae94,bug/1838068,"def _try_connect(host_ip, port, socket_timeout): client_socket.settimeout(socket_timeout)def _connect_socket(host, port, socket_timeout): return _try_connect(host, port, socket_timeout) FILE_SIZE = 1024 * 1024 COUNT = FILE_SIZE / BS BUFFER_SIZE = BS @staticmethod def _kill_nc_process(ssh_client): def _check_bw(self, ssh_client, host, port, expected_bw=LIMIT_BYTES_SEC): self._kill_nc_process(ssh_client) socket_timeout = self.FILE_SIZE * self.TOLERANCE_FACTOR / expected_bw client_socket = _connect_socket(host, port, socket_timeout) try: while total_bytes_read < QoSTestMixin.FILE_SIZE: data = client_socket.recv(QoSTestMixin.BUFFER_SIZE) total_bytes_read += len(data) except socket.timeout: LOG.warning('Socket timeout while reading the remote file, bytes ' 'read: %s', total_bytes_read) client_socket.close() self._kill_nc_process(ssh_client) return False client_socket.close() self._kill_nc_process(ssh_client)","def _try_connect(host_ip, port):def _connect_socket(host, port): return _try_connect(host, port) BUFFER_SIZE = 1024 * 1024 COUNT = BUFFER_SIZE / BS FILE_SIZE = BS * COUNT def _check_bw(self, ssh_client, host, port, expected_bw=LIMIT_BYTES_SEC): client_socket = _connect_socket(host, port) while total_bytes_read < QoSTestMixin.FILE_SIZE: data = client_socket.recv(QoSTestMixin.BUFFER_SIZE) total_bytes_read += len(data)",27,11
openstack%2Fpuppet-openstack_spec_helper~stable%2Fstein~I40cb2a5b855236bdf74e495415ccfddb79813840,openstack/puppet-openstack_spec_helper,stable/stein,I40cb2a5b855236bdf74e495415ccfddb79813840,"Revert ""Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7""",MERGED,2019-07-30 20:50:30.000000000,2019-07-30 23:03:37.000000000,2019-07-30 23:03:37.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 20:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/4cb85af55cef1395d3b0fc4bb768d32d9e18d8dd', 'message': 'Revert ""Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7""\n\nThis reverts commit 15c70194db831d25f13a49098159289bad05bac9.\n\nDepends-On: I1127679bb2cb2bc4023598536924f38f0e206b1e\n\nChange-Id: I40cb2a5b855236bdf74e495415ccfddb79813840\n'}, {'number': 2, 'created': '2019-07-30 20:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/f1802caa16de3330bbe786b6357be7c9a22be2d7', 'message': 'Revert ""Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7""\n\nThis reverts commit 15c70194db831d25f13a49098159289bad05bac9.\n\nChange-Id: I40cb2a5b855236bdf74e495415ccfddb79813840\n'}, {'number': 3, 'created': '2019-07-30 20:53:49.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/1cb40c73c93ed6b24ee03ed02080f0ca7c2af370', 'message': 'Revert ""Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7""\n\nThis reverts commit 15c70194db831d25f13a49098159289bad05bac9.\n\nChange-Id: I40cb2a5b855236bdf74e495415ccfddb79813840\n'}]",0,673684,1cb40c73c93ed6b24ee03ed02080f0ca7c2af370,9,2,3,3153,,,0,"Revert ""Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7""

This reverts commit 15c70194db831d25f13a49098159289bad05bac9.

Change-Id: I40cb2a5b855236bdf74e495415ccfddb79813840
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/84/673684/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4cb85af55cef1395d3b0fc4bb768d32d9e18d8dd,revert-stable/stein,, - puppet-openstack-libraries-puppet-beaker-rspec-centos-7: voting: false,0,2
openstack%2Fpuppet-openstack_spec_helper~stable%2Frocky~I50ac9b7df74200a199743f46a7cb5d7de0f1962f,openstack/puppet-openstack_spec_helper,stable/rocky,I50ac9b7df74200a199743f46a7cb5d7de0f1962f,"Revert ""Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7""",MERGED,2019-07-30 20:51:44.000000000,2019-07-30 22:48:04.000000000,2019-07-30 22:48:04.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 20:51:44.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/762ae6ad14291ea5c781c173e9d06cb49122eb7b', 'message': 'Revert ""Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7""\n\nChange-Id: I50ac9b7df74200a199743f46a7cb5d7de0f1962f\n'}]",0,673685,762ae6ad14291ea5c781c173e9d06cb49122eb7b,7,2,1,3153,,,0,"Revert ""Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7""

Change-Id: I50ac9b7df74200a199743f46a7cb5d7de0f1962f
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/85/673685/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,762ae6ad14291ea5c781c173e9d06cb49122eb7b,rocky/revert,, check: jobs: - puppet-openstack-libraries-puppet-beaker-rspec-centos-7: voting: false gate: jobs: - puppet-openstack-libraries-puppet-beaker-rspec-centos-7: voting: false,0,8
openstack%2Fpuppet-openstack_spec_helper~stable%2Fqueens~I50ac9b7df74200a199743f46a7cb5d7de0f1962f,openstack/puppet-openstack_spec_helper,stable/queens,I50ac9b7df74200a199743f46a7cb5d7de0f1962f,"Revert ""Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7""",MERGED,2019-07-30 20:52:07.000000000,2019-07-30 22:30:54.000000000,2019-07-30 22:30:54.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 20:52:07.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/e3034ac209dba4aa7cc88ff3a12c684a6bd8d349', 'message': 'Revert ""Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7""\n\nChange-Id: I50ac9b7df74200a199743f46a7cb5d7de0f1962f\n'}]",0,673686,e3034ac209dba4aa7cc88ff3a12c684a6bd8d349,6,2,1,3153,,,0,"Revert ""Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7""

Change-Id: I50ac9b7df74200a199743f46a7cb5d7de0f1962f
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/86/673686/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e3034ac209dba4aa7cc88ff3a12c684a6bd8d349,rocky/revert-stable/queens,, check: jobs: - puppet-openstack-libraries-puppet-beaker-rspec-centos-7: voting: false gate: jobs: - puppet-openstack-libraries-puppet-beaker-rspec-centos-7: voting: false,0,8
openstack%2Fcharm-vault~master~I2d7a100b77c8fa6a5302ed0b453b420dd3c89dc1,openstack/charm-vault,master,I2d7a100b77c8fa6a5302ed0b453b420dd3c89dc1,Add missing repo to layers.yaml,ABANDONED,2019-07-30 04:57:16.000000000,2019-07-30 22:18:23.000000000,,"[{'_account_id': 8097}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 04:57:16.000000000', 'files': ['src/layer.yaml'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/800f1ca31443d3bf22d8cde54d939d1cc09bf70d', 'message': 'Add missing repo to layers.yaml\n\nWithout it, it will inherit from other layers and display incorrectly\nin the charm store, see LP: #1833502\n\nChange-Id: I2d7a100b77c8fa6a5302ed0b453b420dd3c89dc1\nCloses-Bug: 1833502\n'}]",0,673399,800f1ca31443d3bf22d8cde54d939d1cc09bf70d,6,4,1,8097,,,0,"Add missing repo to layers.yaml

Without it, it will inherit from other layers and display incorrectly
in the charm store, see LP: #1833502

Change-Id: I2d7a100b77c8fa6a5302ed0b453b420dd3c89dc1
Closes-Bug: 1833502
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/99/673399/1 && git format-patch -1 --stdout FETCH_HEAD,['src/layer.yaml'],1,800f1ca31443d3bf22d8cde54d939d1cc09bf70d,bug/1833502,repo: https://github.com/openstack/charm-vault.git ,,2,0
openstack%2Fmurano~stable%2Focata~I37d64aca485eb81ac16d7d85d5b695e573c8793c,openstack/murano,stable/ocata,I37d64aca485eb81ac16d7d85d5b695e573c8793c,Add local bindep.txt,MERGED,2019-06-28 14:03:33.000000000,2019-07-30 22:07:47.000000000,2019-07-30 22:07:46.000000000,"[{'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 14:03:33.000000000', 'files': ['bindep.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/murano/commit/54aa55c6da1b5bdd1270e12f5a15bc54859ed2ad', 'message': 'Add local bindep.txt\n\nAs it was announced [1] global bindep-fallback.txt was removed and now\nprojects need to have a local bindep.txt to be able to install binary\ndependencies for testing.\n\nIn test jobs the script tools/test-setup.sh is called which requires\nmysql and postgres servers and clients to be installed.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\nChange-Id: I37d64aca485eb81ac16d7d85d5b695e573c8793c\n(cherry picked from commit ddd5378ac8535b48e5ae2885b3187a5b1b88b766)\n(cherry picked from commit 61f8206c45d18872782dbcedbc99bd26ecfbeaba)\n(cherry picked from commit 83cbcc50f5d10aa52ea1762a196f214f80bbb058)\n(cherry picked from commit 1f2d572cfa82a426360b1611040d7330ecc48634)\n'}]",1,668181,54aa55c6da1b5bdd1270e12f5a15bc54859ed2ad,19,3,1,17685,,,0,"Add local bindep.txt

As it was announced [1] global bindep-fallback.txt was removed and now
projects need to have a local bindep.txt to be able to install binary
dependencies for testing.

In test jobs the script tools/test-setup.sh is called which requires
mysql and postgres servers and clients to be installed.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: I37d64aca485eb81ac16d7d85d5b695e573c8793c
(cherry picked from commit ddd5378ac8535b48e5ae2885b3187a5b1b88b766)
(cherry picked from commit 61f8206c45d18872782dbcedbc99bd26ecfbeaba)
(cherry picked from commit 83cbcc50f5d10aa52ea1762a196f214f80bbb058)
(cherry picked from commit 1f2d572cfa82a426360b1611040d7330ecc48634)
",git fetch https://review.opendev.org/openstack/murano refs/changes/81/668181/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'tox.ini']",2,54aa55c6da1b5bdd1270e12f5a15bc54859ed2ad,bindep-fallback," [testenv:bindep] basepython = python3 # Do not install any requirements. We want this to be fast and work even if # system dependencies are missing, since it's used to tell you what system # dependencies are missing! This also means that bindep must be installed # separately, outside of the requirements files, and develop mode disabled # explicitly to avoid unnecessarily installing the checked-out repo too (this # further relies on ""tox.skipsdist = True"" above). deps = bindep commands = bindep test usedevelop = False",,21,0
openstack%2Fcharm-percona-cluster~master~I00fe3c7c32a000c6b697263a9ad32273515952a7,openstack/charm-percona-cluster,master,I00fe3c7c32a000c6b697263a9ad32273515952a7,Switch to using DDL for root password update,MERGED,2019-07-30 16:33:31.000000000,2019-07-30 21:47:51.000000000,2019-07-30 21:47:51.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 16:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/ab0e67e25e98930c777be2c29903f6b0a138021f', 'message': 'Switch to using DDL for root password update\n\nUsing DDL for the root password update triggers the cluster to\nreplicate the password rather than relying on the charm to apply it\nto each unit. This means that only the leader should update the\npassword.\n\nTo avoid a password update via config being missed the implicit save\nof config data is turned off on update-status hooks.\n\nChange-Id: I00fe3c7c32a000c6b697263a9ad32273515952a7\nCloses-Bug: #1838124\nCloses-Bug: #1838125\n'}, {'number': 2, 'created': '2019-07-30 19:31:34.000000000', 'files': ['unit_tests/test_percona_utils.py', 'unit_tests/test_percona_hooks.py', 'hooks/percona_hooks.py', 'hooks/percona_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/e27006e98b9d0c090c2b07ead0ef12cd1630fe03', 'message': 'Switch to using DDL for root password update\n\nUsing DDL for the root password update triggers the cluster to\nreplicate the password rather than relying on the charm to apply it\nto each unit. This means that only the leader should update the\npassword.\n\nTo avoid a password update via config being missed the implicit save\nof config data is turned off on update-status hooks.\n\nChange-Id: I00fe3c7c32a000c6b697263a9ad32273515952a7\nCloses-Bug: #1838124\nCloses-Bug: #1838125\n'}]",0,673577,e27006e98b9d0c090c2b07ead0ef12cd1630fe03,14,4,2,12549,,,0,"Switch to using DDL for root password update

Using DDL for the root password update triggers the cluster to
replicate the password rather than relying on the charm to apply it
to each unit. This means that only the leader should update the
password.

To avoid a password update via config being missed the implicit save
of config data is turned off on update-status hooks.

Change-Id: I00fe3c7c32a000c6b697263a9ad32273515952a7
Closes-Bug: #1838124
Closes-Bug: #1838125
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/77/673577/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_percona_utils.py', 'unit_tests/test_percona_hooks.py', 'hooks/percona_hooks.py', 'hooks/percona_utils.py']",4,ab0e67e25e98930c777be2c29903f6b0a138021f,bug/1838124," log(""Root password update not required"", level=DEBUG) log(""Updating root password"", level=DEBUG) current_password = m_helper.get_mysql_password(username=None) m_helper.connect(user='root', password=current_password) # Covers root and root@127.0.0.1 m_helper.execute(""""""SET PASSWORD = '{}';"""""".format(new_root_passwd)) # Covers root and root@localhost m_helper.execute( """"""SET PASSWORD FOR 'root'@'localhost' = '{}';"""""".format( new_root_passwd)) if check_mysql_connection(password=new_root_passwd): log(""Root password update succeeded"", level=DEBUG) leader_set({'root-password': new_root_passwd}) leader_set({'mysql.passwd': new_root_passwd})def check_mysql_connection(password=None): :param password: Password to use for connection test. :type password: str password = password or m_helper.get_mysql_root_password() try: m_helper.connect(password=password)"," m_helper.set_mysql_root_password(new_root_passwd) m_helper.connect(user='root', password=new_root_passwd) m_helper.execute('select 1;')def check_mysql_connection(): try: m_helper.connect(password=m_helper.get_mysql_root_password())",59,31
openstack%2Fheat~stable%2Frocky~I0f6a30e06bb214bb673930b31a2db946600926b0,openstack/heat,stable/rocky,I0f6a30e06bb214bb673930b31a2db946600926b0,Show an engine as down if service record is not updated twice,MERGED,2019-07-29 04:53:33.000000000,2019-07-30 21:44:13.000000000,2019-07-30 21:44:13.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-29 04:53:33.000000000', 'files': ['heat/tests/test_common_service_utils.py', 'heat/common/service_utils.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/ead38da7d12a7530bfee4d103e63af7501209e76', 'message': ""Show an engine as down if service record is not updated twice\n\nWe use the same periodic_interval to update the service record\nand compare it with current time when doing 'service list'. So, It's\npossible there will be a small window where 'service list' would show\nthe engine as down. Tools that use service list for monitoring would\nwrongly assume the service as down. Let's change service list to\nreport the service as down if it's not updated in 2*periodic_interval.\n\nChange-Id: I0f6a30e06bb214bb673930b31a2db946600926b0\nTask: 35946\n(cherry picked from commit fd23308f6ec20e4441d8da486a4f6930a2ba366d)\n""}]",0,673206,ead38da7d12a7530bfee4d103e63af7501209e76,8,3,1,8833,,,0,"Show an engine as down if service record is not updated twice

We use the same periodic_interval to update the service record
and compare it with current time when doing 'service list'. So, It's
possible there will be a small window where 'service list' would show
the engine as down. Tools that use service list for monitoring would
wrongly assume the service as down. Let's change service list to
report the service as down if it's not updated in 2*periodic_interval.

Change-Id: I0f6a30e06bb214bb673930b31a2db946600926b0
Task: 35946
(cherry picked from commit fd23308f6ec20e4441d8da486a4f6930a2ba366d)
",git fetch https://review.opendev.org/openstack/heat refs/changes/06/673206/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_common_service_utils.py', 'heat/common/service_utils.py']",2,ead38da7d12a7530bfee4d103e63af7501209e76,, last_updated = service.updated_at or service.created_at check_interval = (timeutils.utcnow() - last_updated).total_seconds() if check_interval <= 2 * service.report_interval: status = 'up', if service.updated_at is not None: if ((timeutils.utcnow() - service.updated_at).total_seconds() <= service.report_interval): status = 'up' else: if ((timeutils.utcnow() - service.created_at).total_seconds() <= service.report_interval): status = 'up',10,14
openstack%2Fneutron~master~Iac38e915baeef4eab42c6bbca68304b6d195699f,openstack/neutron,master,Iac38e915baeef4eab42c6bbca68304b6d195699f,[DVR] Add gateway port to subscribers list after it is configured,ABANDONED,2019-07-26 15:07:24.000000000,2019-07-30 21:43:21.000000000,,"[{'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-07-26 15:07:24.000000000', 'files': ['neutron/agent/l3/dvr_fip_ns.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4ffc97abd2e42f7e4f2064065b39d4be04c4ba9d', 'message': ""[DVR] Add gateway port to subscribers list after it is configured\n\nIn case of DVR and FIP namespace for external network, FipNamespace\nobject is storing IDs of gateway ports for various routers which are\nusing same fip namespace.\nThis patch changes order when new port is added to subsribers list.\nIt is now added after namespace is configured to avoid race condition\nwhen 2 different routers are configuring gateway which is from same\nnetwork and one of them can fail as namespace of interface in this\nnamespace don't exists yet.\n\nChange-Id: Iac38e915baeef4eab42c6bbca68304b6d195699f\nCloses-Bug: #1830763\n""}]",0,673004,4ffc97abd2e42f7e4f2064065b39d4be04c4ba9d,5,3,1,11975,,,0,"[DVR] Add gateway port to subscribers list after it is configured

In case of DVR and FIP namespace for external network, FipNamespace
object is storing IDs of gateway ports for various routers which are
using same fip namespace.
This patch changes order when new port is added to subsribers list.
It is now added after namespace is configured to avoid race condition
when 2 different routers are configuring gateway which is from same
network and one of them can fail as namespace of interface in this
namespace don't exists yet.

Change-Id: Iac38e915baeef4eab42c6bbca68304b6d195699f
Closes-Bug: #1830763
",git fetch https://review.opendev.org/openstack/neutron refs/changes/04/673004/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/dvr_fip_ns.py'],1,4ffc97abd2e42f7e4f2064065b39d4be04c4ba9d,bug/1830763, def is_first(self): if self.is_first(): self.subscribe(agent_gateway_port['network_id']), def has_subscribers(self): is_first = not self.has_subscribers() return is_first return not self.has_subscribers() is_first = self.subscribe(agent_gateway_port['network_id']) if is_first:,3,6
openstack%2Fopenstack-ansible-lxc_container_create~master~Iba966b14c97cc3bfc0d6effe7a3df7b588639cfb,openstack/openstack-ansible-lxc_container_create,master,Iba966b14c97cc3bfc0d6effe7a3df7b588639cfb,Fix path of pre-up-down oneshot service file,MERGED,2019-07-25 01:38:14.000000000,2019-07-30 21:34:58.000000000,2019-07-30 17:42:24.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-07-25 01:38:14.000000000', 'files': ['tasks/lxc_container_config.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/605bfb83fec3edd338c4be15626630deca00612a', 'message': 'Fix path of pre-up-down oneshot service file\n\nThe pre-up-down oneshot service template was mistakenly being written to\nthe same path as the post-up-down oneshot service file.\n\nChange-Id: Iba966b14c97cc3bfc0d6effe7a3df7b588639cfb\n'}]",0,672616,605bfb83fec3edd338c4be15626630deca00612a,9,3,1,14805,,,0,"Fix path of pre-up-down oneshot service file

The pre-up-down oneshot service template was mistakenly being written to
the same path as the post-up-down oneshot service file.

Change-Id: Iba966b14c97cc3bfc0d6effe7a3df7b588639cfb
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/16/672616/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/lxc_container_config.yml'],1,605bfb83fec3edd338c4be15626630deca00612a,pre-up-service-file,"- name: Create post-up-down oneshot service- name: Create pre-up-down oneshot service dest: ""/etc/systemd/system/pre-up-down-{{ item.value.interface }}.service""","- name: Create post-up-down onshot service- name: Create pre-up-down onshot service dest: ""/etc/systemd/system/post-up-down-{{ item.value.interface }}.service""",3,3
openstack%2Ftripleo-heat-templates~master~Ifffaff6f044e334491b8f00cc6c6c8779d7bf7e5,openstack/tripleo-heat-templates,master,Ifffaff6f044e334491b8f00cc6c6c8779d7bf7e5,Remove DeploymentSwiftDataMap parameter,MERGED,2019-07-22 08:09:58.000000000,2019-07-30 21:08:49.000000000,2019-07-30 21:08:49.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-22 08:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/759886edb0bbf910dfcbfa86e92b7e91ee9fea02', 'message': 'WIP Drop DeploymentSwiftDataMap interface\n\nNow that we do the configuration using config-download,\nthis interface is not useful anymore.\n\nChange-Id: Ifffaff6f044e334491b8f00cc6c6c8779d7bf7e5\n'}, {'number': 2, 'created': '2019-07-23 05:31:26.000000000', 'files': ['releasenotes/notes/remove-deployment-swift-data-11afcb4e9925d7b2.yaml', 'deployed-server/deployed-server-environment-output.yaml', 'puppet/role.role.j2.yaml', 'deployed-server/deployed-server.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7c1599a4131ebaed026bc18b636bcaf4bcf489d0', 'message': 'Remove DeploymentSwiftDataMap parameter\n\nNow that we do all node configurations using config-download,\nthis interface is not useful anymore.\n\nChange-Id: Ifffaff6f044e334491b8f00cc6c6c8779d7bf7e5\n'}]",0,671981,7c1599a4131ebaed026bc18b636bcaf4bcf489d0,14,6,2,8833,,,0,"Remove DeploymentSwiftDataMap parameter

Now that we do all node configurations using config-download,
this interface is not useful anymore.

Change-Id: Ifffaff6f044e334491b8f00cc6c6c8779d7bf7e5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/81/671981/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployed-server/deployed-server-environment-output.yaml', 'puppet/role.role.j2.yaml', 'deployed-server/deployed-server.yaml']",3,759886edb0bbf910dfcbfa86e92b7e91ee9fea02,bp/reduce-deployment-resources, description: DEPRECATED for removal, deployment_swift_data: {get_param: deployment_swift_data},3,27
openstack%2Fopenstack-ansible~master~Ib7f2fde163a3d3b965a61fee1dd456a186b84e23,openstack/openstack-ansible,master,Ib7f2fde163a3d3b965a61fee1dd456a186b84e23,Drop creation of log directories,MERGED,2019-07-19 17:49:59.000000000,2019-07-30 21:06:27.000000000,2019-07-30 21:06:27.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-19 17:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/989d882049c7f68a8d543b0df3a5448844030682', 'message': '[WIP] Drop creation of lig directories\n\nDepends-On: https://review.opendev.org/671775\nChange-Id: Ib7f2fde163a3d3b965a61fee1dd456a186b84e23\n'}, {'number': 2, 'created': '2019-07-22 17:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cc741ac6152f79da8b410ef40552857be2ea5289', 'message': '[WIP] Drop creation of log directories\n\nChange-Id: Ib7f2fde163a3d3b965a61fee1dd456a186b84e23\n'}, {'number': 3, 'created': '2019-07-23 11:27:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0afa2d17b697b868b09e554d0fc8860b4221c894', 'message': '[WIP] Drop creation of log directories\n\nDepends-On: https://review.opendev.org/672059\nChange-Id: Ib7f2fde163a3d3b965a61fee1dd456a186b84e23\n'}, {'number': 4, 'created': '2019-07-24 13:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f13b665afa0d92e28f84aa296adcf47e4d2b66dd', 'message': '[WIP] Drop creation of log directories\n\nDepends-On: https://review.opendev.org/672059\nDepends-On: https://review.opendev.org/672506\nChange-Id: Ib7f2fde163a3d3b965a61fee1dd456a186b84e23\n'}, {'number': 5, 'created': '2019-07-24 14:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f97972478c4930fb1c7290e3bc4f9f5b92c6be80', 'message': '[WIP] Drop creation of log directories\n\nDepends-On: https://review.opendev.org/672059\nDepends-On: https://review.opendev.org/672506\nChange-Id: Ib7f2fde163a3d3b965a61fee1dd456a186b84e23\n'}, {'number': 6, 'created': '2019-07-24 21:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c8e0e2822db9ba56fca81d2cc97d29f05dece25d', 'message': '[WIP] Drop creation of log directories\n\nDepends-On: https://review.opendev.org/672059\nDepends-On: https://review.opendev.org/672506\nChange-Id: Ib7f2fde163a3d3b965a61fee1dd456a186b84e23\n'}, {'number': 7, 'created': '2019-07-25 05:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bf676d7b9bbb1917fc247ecf4bcd8cb007a39845', 'message': '[WIP] Drop creation of log directories\n\nDepends-On: https://review.opendev.org/672059\nDepends-On: https://review.opendev.org/672506\nChange-Id: Ib7f2fde163a3d3b965a61fee1dd456a186b84e23\n'}, {'number': 8, 'created': '2019-07-26 05:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/888e1f1061279c15ec56f42d2640a5bf808748dc', 'message': '[WIP] Drop creation of log directories\n\nDepends-On: https://review.opendev.org/672059\nDepends-On: https://review.opendev.org/672506\nChange-Id: Ib7f2fde163a3d3b965a61fee1dd456a186b84e23\n'}, {'number': 9, 'created': '2019-07-29 14:48:35.000000000', 'files': ['playbooks/os-congress-install.yml', 'playbooks/os-magnum-install.yml', 'playbooks/os-octavia-install.yml', 'playbooks/os-masakari-install.yml', 'playbooks/os-mistral-install.yml', 'playbooks/os-swift-install.yml', 'playbooks/ceph-install.yml', 'playbooks/os-blazar-install.yml', 'playbooks/os-placement-install.yml', 'playbooks/os-sahara-install.yml', 'releasenotes/notes/use_journalctl-a9a19f80b14f4f87.yaml', 'playbooks/os-horizon-install.yml', 'playbooks/os-trove-install.yml', 'playbooks/os-panko-install.yml', 'playbooks/common-playbooks/glance.yml', 'playbooks/os-manila-install.yml', 'inventory/group_vars/neutron_agent.yml', 'playbooks/os-aodh-install.yml', 'playbooks/common-playbooks/nova.yml', 'playbooks/galera-install.yml', 'playbooks/common-tasks/ceph-server.yml', 'playbooks/common-playbooks/neutron.yml', 'scripts/log-collect.sh', 'playbooks/ceph-rgw-install.yml', 'playbooks/os-gnocchi-install.yml', 'playbooks/os-heat-install.yml', 'playbooks/defaults/ceph_ansible.yml', 'playbooks/common-playbooks/cinder.yml', 'playbooks/os-tacker-install.yml', 'playbooks/os-ceilometer-install.yml', 'playbooks/memcached-install.yml', 'playbooks/os-designate-install.yml', 'playbooks/os-keystone-install.yml', 'playbooks/os-ironic-install.yml', 'playbooks/os-barbican-install.yml', 'playbooks/haproxy-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/aa2607f85c395a134080a59e573c9843f7d69397', 'message': 'Drop creation of log directories\n\nThis patch finalizes migration to journald with cleanup of\nunnecesary tasks, like mapping log directories or launching\nrsyslog_client role.\n\nDepends-On: https://review.opendev.org/672059\nDepends-On: https://review.opendev.org/672506\nChange-Id: Ib7f2fde163a3d3b965a61fee1dd456a186b84e23\n'}]",0,671783,aa2607f85c395a134080a59e573c9843f7d69397,40,4,9,28619,,,0,"Drop creation of log directories

This patch finalizes migration to journald with cleanup of
unnecesary tasks, like mapping log directories or launching
rsyslog_client role.

Depends-On: https://review.opendev.org/672059
Depends-On: https://review.opendev.org/672506
Change-Id: Ib7f2fde163a3d3b965a61fee1dd456a186b84e23
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/83/671783/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/os-congress-install.yml', 'playbooks/os-magnum-install.yml', 'playbooks/os-octavia-install.yml', 'playbooks/os-masakari-install.yml', 'playbooks/os-mistral-install.yml', 'playbooks/os-swift-install.yml', 'playbooks/os-blazar-install.yml', 'playbooks/os-placement-install.yml', 'playbooks/os-sahara-install.yml', 'playbooks/os-trove-install.yml', 'playbooks/os-panko-install.yml', 'playbooks/common-playbooks/glance.yml', 'playbooks/os-manila-install.yml', 'inventory/group_vars/neutron_agent.yml', 'playbooks/os-aodh-install.yml', 'playbooks/common-playbooks/nova.yml', 'playbooks/common-playbooks/neutron.yml', 'playbooks/os-gnocchi-install.yml', 'playbooks/os-heat-install.yml', 'playbooks/common-playbooks/cinder.yml', 'playbooks/os-tacker-install.yml', 'playbooks/os-ceilometer-install.yml', 'playbooks/os-designate-install.yml', 'playbooks/os-keystone-install.yml', 'playbooks/os-barbican-install.yml']",25,989d882049c7f68a8d543b0df3a5448844030682,use_journalctl,," - include_tasks: common-tasks/os-log-dir-setup.yml vars: log_dirs: - src: ""/openstack/log/{{ inventory_hostname }}-barbican"" dest: ""/var/log/barbican"" ",0,161
openstack%2Fopenstack-ansible-repo_server~master~I2791656f04bd5c814dd89ca0d39366bc50e77a25,openstack/openstack-ansible-repo_server,master,I2791656f04bd5c814dd89ca0d39366bc50e77a25,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:46:20.000000000,2019-07-30 20:51:05.000000000,2019-07-30 20:51:05.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-07-30 19:46:20.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/0b3147252dcb4994981ac636dc25090bc0896ff5', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I2791656f04bd5c814dd89ca0d39366bc50e77a25\n'}]",0,673664,0b3147252dcb4994981ac636dc25090bc0896ff5,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I2791656f04bd5c814dd89ca0d39366bc50e77a25
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/64/673664/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,0b3147252dcb4994981ac636dc25090bc0896ff5,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fansible-role-openstack-operations~master~Ib4c4abaff35776c6b4e254ca16fda43b44de7072,openstack/ansible-role-openstack-operations,master,Ib4c4abaff35776c6b4e254ca16fda43b44de7072,Mailing lists change openstack-dev to openstack-discuss,MERGED,2019-07-01 10:56:14.000000000,2019-07-30 20:45:31.000000000,2019-07-30 20:45:31.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-01 10:56:14.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ansible-role-openstack-operations/commit/ddccab09062bbf1bdf650fc659254ca87c32dcc0', 'message': 'Mailing lists change openstack-dev to openstack-discuss\n\nChange-Id: Ib4c4abaff35776c6b4e254ca16fda43b44de7072\n'}]",0,668419,ddccab09062bbf1bdf650fc659254ca87c32dcc0,6,2,1,27565,,,0,"Mailing lists change openstack-dev to openstack-discuss

Change-Id: Ib4c4abaff35776c6b4e254ca16fda43b44de7072
",git fetch https://review.opendev.org/openstack/ansible-role-openstack-operations refs/changes/19/668419/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,ddccab09062bbf1bdf650fc659254ca87c32dcc0,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Ftripleo-ci~master~Ie4d48b76a79ff66bb799341c77741d8789f4a038,openstack/tripleo-ci,master,Ie4d48b76a79ff66bb799341c77741d8789f4a038,Add selenium job,ABANDONED,2018-10-02 17:19:03.000000000,2019-07-30 20:45:10.000000000,,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 20970}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-02 17:19:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/372f2ed0935de5da4739024bcff09f3846666324', 'message': 'Add selenium job\n\nChange-Id: Ie4d48b76a79ff66bb799341c77741d8789f4a038\nPartially-implements: blueprint automated-ui-testing\nDepends-On: I7a3829592ce80daee5222d6ced8aae52fea9f25d\n'}, {'number': 2, 'created': '2018-10-25 12:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bc39bb1f4e97150d27ca911b10492bc5c3104042', 'message': 'Add selenium job\n\nChange-Id: Ie4d48b76a79ff66bb799341c77741d8789f4a038\nPartially-implements: blueprint automated-ui-testing\nDepends-On: I7a3829592ce80daee5222d6ced8aae52fea9f25d\n'}, {'number': 3, 'created': '2018-11-22 16:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6c39ae1bb397dcffabbdd19fee716f465f9dbec8', 'message': 'Add selenium job\n\nChange-Id: Ie4d48b76a79ff66bb799341c77741d8789f4a038\nPartially-implements: blueprint automated-ui-testing\nDepends-On: I7a3829592ce80daee5222d6ced8aae52fea9f25d\n'}, {'number': 4, 'created': '2019-01-14 17:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b9aaddc6ebb2a32ae381d0d06a059cdd917534cc', 'message': 'Add selenium job\n\nChange-Id: Ie4d48b76a79ff66bb799341c77741d8789f4a038\nPartially-implements: blueprint automated-ui-testing\nDepends-On: I7a3829592ce80daee5222d6ced8aae52fea9f25d\n'}, {'number': 5, 'created': '2019-01-18 13:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1e4d5d69845baeafc98379398cc1c6fe9d39c6c8', 'message': 'Add selenium job\n\nChange-Id: Ie4d48b76a79ff66bb799341c77741d8789f4a038\nPartially-implements: blueprint automated-ui-testing\nDepends-On: I7a3829592ce80daee5222d6ced8aae52fea9f25d\n'}, {'number': 6, 'created': '2019-01-25 07:35:49.000000000', 'files': ['zuul.d/undercloud-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cf6dfdd5eef762febb920ecb2c6ebc77878a3380', 'message': 'Add selenium job\n\nChange-Id: Ie4d48b76a79ff66bb799341c77741d8789f4a038\nPartially-implements: blueprint automated-ui-testing\n'}]",7,607327,cf6dfdd5eef762febb920ecb2c6ebc77878a3380,32,7,6,20970,,,0,"Add selenium job

Change-Id: Ie4d48b76a79ff66bb799341c77741d8789f4a038
Partially-implements: blueprint automated-ui-testing
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/27/607327/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/undercloud-jobs.yaml'],1,372f2ed0935de5da4739024bcff09f3846666324,bp/automated-ui-testing, - tripleo-ci-centos-7-undercloud-oooq-selenium - tripleo-ci-centos-7-undercloud-oooq-selenium - job: name: tripleo-ci-centos-7-undercloud-oooq-selenium parent: tripleo-ci-base-singlenode nodeset: single-centos-7-node branches: ^(stable/(newton|ocata|pike|queens|rocky)).*$ vars: environment_type: singlenode featureset: '056',,11,0
openstack%2Fopenstack-ansible-plugins~master~I00d14427984e4636066f165b55f5e84c618a7742,openstack/openstack-ansible-plugins,master,I00d14427984e4636066f165b55f5e84c618a7742,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:45:40.000000000,2019-07-30 20:41:40.000000000,2019-07-30 20:41:40.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-07-30 19:45:40.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/f76632232dfea521aae52fa2945132f717b380c1', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I00d14427984e4636066f165b55f5e84c618a7742\n'}]",0,673661,f76632232dfea521aae52fa2945132f717b380c1,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I00d14427984e4636066f165b55f5e84c618a7742
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/61/673661/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,f76632232dfea521aae52fa2945132f717b380c1,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fansible-role-systemd_networkd~master~Idf1bd29ba1aafbfed2ca654ae6decff46000d873,openstack/ansible-role-systemd_networkd,master,Idf1bd29ba1aafbfed2ca654ae6decff46000d873,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:48:07.000000000,2019-07-30 20:40:12.000000000,2019-07-30 20:40:12.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-07-30 19:48:07.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/f35908ef963e21dee67159f8f140694892e2d5f3', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Idf1bd29ba1aafbfed2ca654ae6decff46000d873\n'}]",0,673669,f35908ef963e21dee67159f8f140694892e2d5f3,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Idf1bd29ba1aafbfed2ca654ae6decff46000d873
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_networkd refs/changes/69/673669/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,f35908ef963e21dee67159f8f140694892e2d5f3,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-pip_install~master~I14649f867f6953c24e9db0990290913dfbcea294,openstack/openstack-ansible-pip_install,master,I14649f867f6953c24e9db0990290913dfbcea294,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:45:27.000000000,2019-07-30 20:37:50.000000000,2019-07-30 20:37:50.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-07-30 19:45:27.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/89facfacc37c69ecddc83bca57805df0ae27590c', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I14649f867f6953c24e9db0990290913dfbcea294\n'}]",0,673660,89facfacc37c69ecddc83bca57805df0ae27590c,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I14649f867f6953c24e9db0990290913dfbcea294
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/60/673660/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,89facfacc37c69ecddc83bca57805df0ae27590c,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fansible-role-systemd_service~master~I85746f7f3e66646930d4c33f60ac3a6370d8eba9,openstack/ansible-role-systemd_service,master,I85746f7f3e66646930d4c33f60ac3a6370d8eba9,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:48:20.000000000,2019-07-30 20:34:56.000000000,2019-07-30 20:34:55.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-30 19:48:20.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/44066f4c6f0fe2f23f11e74d88899facf995969c', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I85746f7f3e66646930d4c33f60ac3a6370d8eba9\n'}]",0,673670,44066f4c6f0fe2f23f11e74d88899facf995969c,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I85746f7f3e66646930d4c33f60ac3a6370d8eba9
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_service refs/changes/70/673670/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,44066f4c6f0fe2f23f11e74d88899facf995969c,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-rsyslog_client~master~Id5d7ebcfbc8f1832a981f897ed82e36c83666b94,openstack/openstack-ansible-rsyslog_client,master,Id5d7ebcfbc8f1832a981f897ed82e36c83666b94,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:46:34.000000000,2019-07-30 20:33:16.000000000,2019-07-30 20:33:15.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-30 19:46:34.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/bc170a8a3f591f4c9a0f77bc69238dd07b3c58a6', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Id5d7ebcfbc8f1832a981f897ed82e36c83666b94\n'}]",0,673665,bc170a8a3f591f4c9a0f77bc69238dd07b3c58a6,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Id5d7ebcfbc8f1832a981f897ed82e36c83666b94
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_client refs/changes/65/673665/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,bc170a8a3f591f4c9a0f77bc69238dd07b3c58a6,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-os_glance~master~I11d724580533cb6df709317d2cac800b99fcbf4a,openstack/openstack-ansible-os_glance,master,I11d724580533cb6df709317d2cac800b99fcbf4a,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:39:07.000000000,2019-07-30 20:32:57.000000000,2019-07-30 20:32:57.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 19:39:07.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/02d12f3da837b0c5997e3e0fc530b8ba7b311744', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I11d724580533cb6df709317d2cac800b99fcbf4a\n'}]",0,673639,02d12f3da837b0c5997e3e0fc530b8ba7b311744,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I11d724580533cb6df709317d2cac800b99fcbf4a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/39/673639/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,02d12f3da837b0c5997e3e0fc530b8ba7b311744,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-os_glance~master~I55162bc2bf3cbb8858950e4abcf60a3de9929008,openstack/openstack-ansible-os_glance,master,I55162bc2bf3cbb8858950e4abcf60a3de9929008,Add missing pre-reqs for glance cinder store,MERGED,2019-06-26 18:40:09.000000000,2019-07-30 20:32:56.000000000,2019-07-30 20:32:56.000000000,"[{'_account_id': 1004}, {'_account_id': 10068}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 30204}]","[{'number': 1, 'created': '2019-06-26 18:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/75a357419c7d33587da7e281404307e3cbc6bcf4', 'message': 'Add oslo.rootwrap to glance_pip_packages\n\nThere is a dependency on olso.rootwrapper when using cinder store\nwith glance, however this was not included in glance_pip_packages\n\nChange-Id: I55162bc2bf3cbb8858950e4abcf60a3de9929008\nPartial-Bug: #1833725\n'}, {'number': 2, 'created': '2019-06-26 19:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/38283bf0063637af567f1a7a95a55103476b51e7', 'message': 'Add missing pre-reqs for glance cinder store\n\nThere are a number of missing dependencies when using cinder store\nwith glance:\n\n - olso.rootwrapper is was not included in glance_pip_packages\n\n - files/rootwrap.d/glance_cinder_store.filters\n\n - glance user is not added to sudoers\n\nglance_pip_packages updated, missing files now dropped in to\nrequired locations by glance_post_install.yml task\n\nChange-Id: I55162bc2bf3cbb8858950e4abcf60a3de9929008\nPartial-Bug: #1833725\n'}, {'number': 3, 'created': '2019-06-27 16:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/6cf9d31d024bf21cd5ad47ae1f0efe4929e89da8', 'message': 'Add missing pre-reqs for glance cinder store\n\nThere are a number of missing dependencies in the role when using cinder\nstore with glance. Specifically rootwrap is required for elevating access\nwhen using os-brick to connect to cinder iscsi/fc volume back end storage.\nThis patch addresses the following:\n\n - olso.rootwrap is not included in glance_pip_packages\n\n - files/rootwrap.d/glance_cinder_store.filters is missing\n\n - glance user is not added to sudoers\n\nglance_pip_packages updated, missing rootwrap.d and sudoer files now dropped in to\nTheir required locations by glance_post_install.yml task\n\nChange-Id: I55162bc2bf3cbb8858950e4abcf60a3de9929008\nCloses-Bug: #1833725\n'}, {'number': 4, 'created': '2019-06-27 20:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/bdce898942387f292804ee2626345f77071ae077', 'message': 'Add missing pre-reqs for glance cinder store\n\nThere are a number of missing dependencies in the role when using cinder\nstore with glance. Specifically rootwrap is required for elevating access\nwhen using os-brick to connect to cinder iscsi/fc volume back end storage.\nThis patch addresses the following:\n\n - olso.rootwrap is not included in glance_pip_packages\n\n - files/rootwrap.d/glance_cinder_store.filters is missing\n\n - glance user is not added to sudoers\n\nglance_pip_packages updated, missing rootwrap.d and sudoer files now dropped in to\nTheir required locations by glance_post_install.yml task\n\nChange-Id: I55162bc2bf3cbb8858950e4abcf60a3de9929008\nCloses-Bug: #1833725\n'}, {'number': 5, 'created': '2019-07-30 14:53:03.000000000', 'files': ['tasks/glance_post_install.yml', 'templates/sudoers.j2', 'files/rootwrap.d/glance_cinder_store.filters', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/2636d7eaea6a22ccde8510b2de3d52de269a6445', 'message': 'Add missing pre-reqs for glance cinder store\n\nThere are a number of missing dependencies in the role when using cinder\nstore with glance. Specifically rootwrap is required for elevating access\nwhen using os-brick to connect to cinder iscsi/fc volume back end storage.\nThis patch addresses the following:\n\n - olso.rootwrap is not included in glance_pip_packages\n\n - files/rootwrap.d/glance_cinder_store.filters is missing\n\n - glance user is not added to sudoers\n\nglance_pip_packages updated, missing rootwrap.d and sudoer files now dropped in to\nTheir required locations by glance_post_install.yml task\n\nChange-Id: I55162bc2bf3cbb8858950e4abcf60a3de9929008\nCloses-Bug: #1833725\n'}]",35,667704,2636d7eaea6a22ccde8510b2de3d52de269a6445,25,7,5,30204,,,0,"Add missing pre-reqs for glance cinder store

There are a number of missing dependencies in the role when using cinder
store with glance. Specifically rootwrap is required for elevating access
when using os-brick to connect to cinder iscsi/fc volume back end storage.
This patch addresses the following:

 - olso.rootwrap is not included in glance_pip_packages

 - files/rootwrap.d/glance_cinder_store.filters is missing

 - glance user is not added to sudoers

glance_pip_packages updated, missing rootwrap.d and sudoer files now dropped in to
Their required locations by glance_post_install.yml task

Change-Id: I55162bc2bf3cbb8858950e4abcf60a3de9929008
Closes-Bug: #1833725
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/04/667704/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,75a357419c7d33587da7e281404307e3cbc6bcf4,bug/1833725, - oslo.rootwrap ## (CeeMac) added as pre-req for glance cinder store bug#1833725#glance_glance_image_import_conf_location: /path/to/local/glance-image-import.conf ,#glance_glance_image_import_conf_location: /path/to/local/glance-image-import.conf,2,1
openstack%2Fopenstack-ansible-os_rally~master~I97e13961b284461f61da702a31a4da914d190b06,openstack/openstack-ansible-os_rally,master,I97e13961b284461f61da702a31a4da914d190b06,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:43:26.000000000,2019-07-30 20:27:01.000000000,2019-07-30 20:27:00.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-30 19:43:26.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/08bae09cb9791d105fedefb499c6a0ed019b12fb', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I97e13961b284461f61da702a31a4da914d190b06\n'}]",0,673653,08bae09cb9791d105fedefb499c6a0ed019b12fb,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I97e13961b284461f61da702a31a4da914d190b06
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/53/673653/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,08bae09cb9791d105fedefb499c6a0ed019b12fb,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-os_ironic~master~I484f637124471e3c16346da228cf8b46246b7199,openstack/openstack-ansible-os_ironic,master,I484f637124471e3c16346da228cf8b46246b7199,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:40:05.000000000,2019-07-30 20:25:26.000000000,2019-07-30 20:25:26.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-30 19:40:05.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/ed43b3d570c1137ab2b94625c7ce6073b8d68747', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I484f637124471e3c16346da228cf8b46246b7199\n'}]",0,673642,ed43b3d570c1137ab2b94625c7ce6073b8d68747,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I484f637124471e3c16346da228cf8b46246b7199
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/42/673642/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,ed43b3d570c1137ab2b94625c7ce6073b8d68747,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fpuppet-openstack_spec_helper~stable%2Fqueens~Ieb0d994e9430e5bbb7d9c305e824c14397015807,openstack/puppet-openstack_spec_helper,stable/queens,Ieb0d994e9430e5bbb7d9c305e824c14397015807,Align stars to fix CI,MERGED,2019-07-30 18:09:23.000000000,2019-07-30 20:25:25.000000000,2019-07-30 20:25:24.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 18:09:23.000000000', 'files': ['puppet-openstack_spec_helper.gemspec', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/d54fbede62839748ca9a5a83ffe4c1b2faf39b1b', 'message': ""Align stars to fix CI\n\nDisable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7\n\nThe job is failing because we removed the usage of zuul cloner and it's\nlooking for the old location of p-o-i. We need to update the zuul job\ndefinition in p-o-i, but first we'll need Ieb0d994e9430e5bbb7d9c305e824c14397015807.\n\nAdd upper limit for rspec-puppet-facts\n\n1.9.5 of rspect-puppet-facts introduces a ruby >= 2.1.0 requirement\nwhich doesn't work on centos7. This change add a upper limit if the ruby\nversion doesn't meat this 2.1.0 limit.\n\nChange-Id: Ieb0d994e9430e5bbb7d9c305e824c14397015807\n(cherry picked from commit a06a32d09d6d8925fe4afbf3371ebcd4c80429e3)\n""}]",0,673610,d54fbede62839748ca9a5a83ffe4c1b2faf39b1b,6,2,1,3153,,,0,"Align stars to fix CI

Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7

The job is failing because we removed the usage of zuul cloner and it's
looking for the old location of p-o-i. We need to update the zuul job
definition in p-o-i, but first we'll need Ieb0d994e9430e5bbb7d9c305e824c14397015807.

Add upper limit for rspec-puppet-facts

1.9.5 of rspect-puppet-facts introduces a ruby >= 2.1.0 requirement
which doesn't work on centos7. This change add a upper limit if the ruby
version doesn't meat this 2.1.0 limit.

Change-Id: Ieb0d994e9430e5bbb7d9c305e824c14397015807
(cherry picked from commit a06a32d09d6d8925fe4afbf3371ebcd4c80429e3)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/10/673610/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet-openstack_spec_helper.gemspec', '.zuul.yaml']",2,d54fbede62839748ca9a5a83ffe4c1b2faf39b1b,ci/rocky-stable/queens, check: jobs: - puppet-openstack-libraries-puppet-beaker-rspec-centos-7: voting: false gate: jobs: - puppet-openstack-libraries-puppet-beaker-rspec-centos-7: voting: false,,12,2
openstack%2Fopenstack-ansible-os_octavia~master~Ic44e30b259539b5e1dd0817639211722570f62a9,openstack/openstack-ansible-os_octavia,master,Ic44e30b259539b5e1dd0817639211722570f62a9,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:42:46.000000000,2019-07-30 20:25:24.000000000,2019-07-30 20:25:23.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-30 19:42:46.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/a18639c4e84fd978d3be3629986847accc7bdaf7', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ic44e30b259539b5e1dd0817639211722570f62a9\n'}]",0,673650,a18639c4e84fd978d3be3629986847accc7bdaf7,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ic44e30b259539b5e1dd0817639211722570f62a9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/50/673650/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,a18639c4e84fd978d3be3629986847accc7bdaf7,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-os_octavia~stable%2Fstein~I750d117086ee0c9b7756e8079379a5aa7705063c,openstack/openstack-ansible-os_octavia,stable/stein,I750d117086ee0c9b7756e8079379a5aa7705063c,Save iptables rules for all Debian derivative operating systems,MERGED,2019-07-24 16:06:06.000000000,2019-07-30 20:25:23.000000000,2019-07-30 20:25:23.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-24 16:06:06.000000000', 'files': ['tasks/octavia_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/5ed3ed7e8fe977a3566455a61b5529707b979435', 'message': 'Save iptables rules for all Debian derivative operating systems\n\nThis task was previously restricted to Ubuntu 16.04 and would be skipped\non other debian derivative OS.\n\nChange-Id: I750d117086ee0c9b7756e8079379a5aa7705063c\n(cherry picked from commit 9c4e9cbe2c81f98b9a4b4f9347b1108a955f7b75)\n'}]",0,672555,5ed3ed7e8fe977a3566455a61b5529707b979435,9,4,1,25023,,,0,"Save iptables rules for all Debian derivative operating systems

This task was previously restricted to Ubuntu 16.04 and would be skipped
on other debian derivative OS.

Change-Id: I750d117086ee0c9b7756e8079379a5aa7705063c
(cherry picked from commit 9c4e9cbe2c81f98b9a4b4f9347b1108a955f7b75)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/55/672555/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/octavia_post_install.yml'],1,5ed3ed7e8fe977a3566455a61b5529707b979435,,- name: save iptables rules (Debian/Ubuntu) when: ansible_os_family == 'Debian',- name: save iptables rules (Ubuntu 16.04) when: ansible_distribution == 'Ubuntu' and ansible_distribution_version == '16.04',2,2
openstack%2Fopenstack-ansible-os_octavia~stable%2Fstein~I26f838490d1f6ed08028d9c70d5202fe27ec0a74,openstack/openstack-ansible-os_octavia,stable/stein,I26f838490d1f6ed08028d9c70d5202fe27ec0a74,Fixed octavia-health-manager group name,MERGED,2019-07-25 21:03:56.000000000,2019-07-30 20:25:22.000000000,2019-07-30 20:25:22.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 26647}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-25 21:03:56.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/0cfcadf0a81911b848cf69171505a54ce778e920', 'message': 'Fixed octavia-health-manager group name\n\nChange-Id: I26f838490d1f6ed08028d9c70d5202fe27ec0a74\n(cherry picked from commit f28f02e96ccf5d0a57607ab4c04c75c2cd9bd964)\n'}]",0,672825,0cfcadf0a81911b848cf69171505a54ce778e920,8,4,1,25023,,,0,"Fixed octavia-health-manager group name

Change-Id: I26f838490d1f6ed08028d9c70d5202fe27ec0a74
(cherry picked from commit f28f02e96ccf5d0a57607ab4c04c75c2cd9bd964)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/25/672825/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,0cfcadf0a81911b848cf69171505a54ce778e920,, group: octavia-health-manager, group: octavia-health_manager,1,1
openstack%2Fopenstack-ansible-os_nova~master~I4af1f97e086758248502456dbc149b15339a1844,openstack/openstack-ansible-os_nova,master,I4af1f97e086758248502456dbc149b15339a1844,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:42:33.000000000,2019-07-30 20:25:20.000000000,2019-07-30 20:25:19.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-30 19:42:33.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/54befc8f239e4cf8cc7bebf2c80b0db2679cf0b1', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I4af1f97e086758248502456dbc149b15339a1844\n'}]",0,673649,54befc8f239e4cf8cc7bebf2c80b0db2679cf0b1,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I4af1f97e086758248502456dbc149b15339a1844
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/49/673649/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,54befc8f239e4cf8cc7bebf2c80b0db2679cf0b1,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-os_zun~master~Ib640ec1c12cdde8bd805d3af76a54bab89fa4660,openstack/openstack-ansible-os_zun,master,Ib640ec1c12cdde8bd805d3af76a54bab89fa4660,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:45:13.000000000,2019-07-30 20:25:18.000000000,2019-07-30 20:25:18.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-30 19:45:13.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/ed5ece944a53634a820c60748d27ee5b76e5ae88', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ib640ec1c12cdde8bd805d3af76a54bab89fa4660\n'}]",0,673659,ed5ece944a53634a820c60748d27ee5b76e5ae88,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ib640ec1c12cdde8bd805d3af76a54bab89fa4660
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/59/673659/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,ed5ece944a53634a820c60748d27ee5b76e5ae88,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-rsyslog_server~master~I098123fbaf9967559e031780a4637cf45c6a031a,openstack/openstack-ansible-rsyslog_server,master,I098123fbaf9967559e031780a4637cf45c6a031a,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:46:47.000000000,2019-07-30 20:23:47.000000000,2019-07-30 20:23:46.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-30 19:46:47.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_server/commit/cd782be5cccff0f9fbb0fd9a61ffb10ada95f597', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I098123fbaf9967559e031780a4637cf45c6a031a\n'}]",0,673666,cd782be5cccff0f9fbb0fd9a61ffb10ada95f597,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I098123fbaf9967559e031780a4637cf45c6a031a
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_server refs/changes/66/673666/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,cd782be5cccff0f9fbb0fd9a61ffb10ada95f597,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-rabbitmq_server~master~I3b2bcb1758b29f91af66d9bd0c64ab640ecbcd37,openstack/openstack-ansible-rabbitmq_server,master,I3b2bcb1758b29f91af66d9bd0c64ab640ecbcd37,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:45:54.000000000,2019-07-30 20:23:45.000000000,2019-07-30 20:23:45.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-30 19:45:54.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/4104374d63f6efb37fc4ea2b34b38e18245a3800', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I3b2bcb1758b29f91af66d9bd0c64ab640ecbcd37\n'}]",0,673662,4104374d63f6efb37fc4ea2b34b38e18245a3800,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I3b2bcb1758b29f91af66d9bd0c64ab640ecbcd37
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/62/673662/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,4104374d63f6efb37fc4ea2b34b38e18245a3800,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fpuppet-openstack_spec_helper~stable%2Frocky~Ieb0d994e9430e5bbb7d9c305e824c14397015807,openstack/puppet-openstack_spec_helper,stable/rocky,Ieb0d994e9430e5bbb7d9c305e824c14397015807,Align stars to fix CI,MERGED,2019-07-30 18:09:03.000000000,2019-07-30 20:23:41.000000000,2019-07-30 20:23:41.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 18:09:03.000000000', 'files': ['puppet-openstack_spec_helper.gemspec', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/6a4994b54b2e212f35b5a23021a142c81e65aca8', 'message': ""Align stars to fix CI\n\nDisable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7\n\nThe job is failing because we removed the usage of zuul cloner and it's\nlooking for the old location of p-o-i. We need to update the zuul job\ndefinition in p-o-i, but first we'll need Ieb0d994e9430e5bbb7d9c305e824c14397015807.\n\nAdd upper limit for rspec-puppet-facts\n\n1.9.5 of rspect-puppet-facts introduces a ruby >= 2.1.0 requirement\nwhich doesn't work on centos7. This change add a upper limit if the ruby\nversion doesn't meat this 2.1.0 limit.\n\nChange-Id: Ieb0d994e9430e5bbb7d9c305e824c14397015807\n(cherry picked from commit a06a32d09d6d8925fe4afbf3371ebcd4c80429e3)\n""}]",0,673609,6a4994b54b2e212f35b5a23021a142c81e65aca8,7,2,1,3153,,,0,"Align stars to fix CI

Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7

The job is failing because we removed the usage of zuul cloner and it's
looking for the old location of p-o-i. We need to update the zuul job
definition in p-o-i, but first we'll need Ieb0d994e9430e5bbb7d9c305e824c14397015807.

Add upper limit for rspec-puppet-facts

1.9.5 of rspect-puppet-facts introduces a ruby >= 2.1.0 requirement
which doesn't work on centos7. This change add a upper limit if the ruby
version doesn't meat this 2.1.0 limit.

Change-Id: Ieb0d994e9430e5bbb7d9c305e824c14397015807
(cherry picked from commit a06a32d09d6d8925fe4afbf3371ebcd4c80429e3)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/09/673609/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet-openstack_spec_helper.gemspec', '.zuul.yaml']",2,6a4994b54b2e212f35b5a23021a142c81e65aca8,ci/rocky, check: jobs: - puppet-openstack-libraries-puppet-beaker-rspec-centos-7: voting: false gate: jobs: - puppet-openstack-libraries-puppet-beaker-rspec-centos-7: voting: false,,12,2
openstack%2Fpuppet-openstack_spec_helper~stable%2Fstein~Ieb0d994e9430e5bbb7d9c305e824c14397015807,openstack/puppet-openstack_spec_helper,stable/stein,Ieb0d994e9430e5bbb7d9c305e824c14397015807,Align stars to fix CI,MERGED,2019-07-30 18:03:31.000000000,2019-07-30 20:23:41.000000000,2019-07-30 20:23:40.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 18:03:31.000000000', 'files': ['puppet-openstack_spec_helper.gemspec', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/63d4e601a99aee006ccbfc5ffdfaedc5a90bdbcf', 'message': ""Align stars to fix CI\n\nDisable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7\n\nThe job is failing because we removed the usage of zuul cloner and it's\nlooking for the old location of p-o-i. We need to update the zuul job\ndefinition in p-o-i, but first we'll need Ieb0d994e9430e5bbb7d9c305e824c14397015807.\n\nAdd upper limit for rspec-puppet-facts\n\n1.9.5 of rspect-puppet-facts introduces a ruby >= 2.1.0 requirement\nwhich doesn't work on centos7. This change add a upper limit if the ruby\nversion doesn't meat this 2.1.0 limit.\n\nChange-Id: Ieb0d994e9430e5bbb7d9c305e824c14397015807\n(cherry picked from commit a06a32d09d6d8925fe4afbf3371ebcd4c80429e3)\n""}]",0,673607,63d4e601a99aee006ccbfc5ffdfaedc5a90bdbcf,6,2,1,3153,,,0,"Align stars to fix CI

Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7

The job is failing because we removed the usage of zuul cloner and it's
looking for the old location of p-o-i. We need to update the zuul job
definition in p-o-i, but first we'll need Ieb0d994e9430e5bbb7d9c305e824c14397015807.

Add upper limit for rspec-puppet-facts

1.9.5 of rspect-puppet-facts introduces a ruby >= 2.1.0 requirement
which doesn't work on centos7. This change add a upper limit if the ruby
version doesn't meat this 2.1.0 limit.

Change-Id: Ieb0d994e9430e5bbb7d9c305e824c14397015807
(cherry picked from commit a06a32d09d6d8925fe4afbf3371ebcd4c80429e3)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/07/673607/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet-openstack_spec_helper.gemspec', '.zuul.yaml']",2,63d4e601a99aee006ccbfc5ffdfaedc5a90bdbcf,ci/stein, - puppet-openstack-libraries-puppet-beaker-rspec-centos-7: voting: false - puppet-openstack-libraries-puppet-beaker-rspec-centos-7: voting: false,,7,1
openstack%2Fansible-role-python_venv_build~master~I05043ef481080b465002e51570c4cc3e0dc5dd3e,openstack/ansible-role-python_venv_build,master,I05043ef481080b465002e51570c4cc3e0dc5dd3e,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:47:42.000000000,2019-07-30 20:23:17.000000000,2019-07-30 20:23:17.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-30 19:47:42.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/6aacb52e88f616d5f2722936ef13668ffc3ee55c', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I05043ef481080b465002e51570c4cc3e0dc5dd3e\n'}]",0,673667,6aacb52e88f616d5f2722936ef13668ffc3ee55c,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I05043ef481080b465002e51570c4cc3e0dc5dd3e
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/67/673667/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,6aacb52e88f616d5f2722936ef13668ffc3ee55c,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-os_masakari~master~I33345e56c29b9f7d3fe3bcb905e4e4546033b262,openstack/openstack-ansible-os_masakari,master,I33345e56c29b9f7d3fe3bcb905e4e4546033b262,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:41:19.000000000,2019-07-30 20:23:07.000000000,2019-07-30 20:23:06.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-30 19:41:19.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/8218d12339774bc9460afbae49e3b155b1c3cd4c', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I33345e56c29b9f7d3fe3bcb905e4e4546033b262\n'}]",0,673646,8218d12339774bc9460afbae49e3b155b1c3cd4c,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I33345e56c29b9f7d3fe3bcb905e4e4546033b262
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/46/673646/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,8218d12339774bc9460afbae49e3b155b1c3cd4c,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fansible-role-systemd_mount~master~I1d4dd85fd6840420884857ed40af7d665ad26fba,openstack/ansible-role-systemd_mount,master,I1d4dd85fd6840420884857ed40af7d665ad26fba,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:47:54.000000000,2019-07-30 20:23:04.000000000,2019-07-30 20:23:04.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-30 19:47:54.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/98a83ad3bfce244348dd2d155c51ac4c32f0e493', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I1d4dd85fd6840420884857ed40af7d665ad26fba\n'}]",0,673668,98a83ad3bfce244348dd2d155c51ac4c32f0e493,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I1d4dd85fd6840420884857ed40af7d665ad26fba
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_mount refs/changes/68/673668/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,98a83ad3bfce244348dd2d155c51ac4c32f0e493,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-os_mistral~master~I11ffcad8479470945f17dbd01b2220d5ecc5008a,openstack/openstack-ansible-os_mistral,master,I11ffcad8479470945f17dbd01b2220d5ecc5008a,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:41:32.000000000,2019-07-30 20:22:57.000000000,2019-07-30 20:22:57.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-30 19:41:32.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/dd5008154e03a1de4d7376ec732c5bb6707dea7e', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I11ffcad8479470945f17dbd01b2220d5ecc5008a\n'}]",0,673647,dd5008154e03a1de4d7376ec732c5bb6707dea7e,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I11ffcad8479470945f17dbd01b2220d5ecc5008a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/47/673647/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,dd5008154e03a1de4d7376ec732c5bb6707dea7e,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-os_trove~master~Idc16ea8d6e8bd415db4aef180f958ca86492b83e,openstack/openstack-ansible-os_trove,master,Idc16ea8d6e8bd415db4aef180f958ca86492b83e,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:44:44.000000000,2019-07-30 20:21:39.000000000,2019-07-30 20:21:39.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-30 19:44:44.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/d8822dcc8c9e9ab6fac71b86a2b526c222d2a4bb', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Idc16ea8d6e8bd415db4aef180f958ca86492b83e\n'}]",0,673658,d8822dcc8c9e9ab6fac71b86a2b526c222d2a4bb,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Idc16ea8d6e8bd415db4aef180f958ca86492b83e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/58/673658/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,d8822dcc8c9e9ab6fac71b86a2b526c222d2a4bb,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-os_placement~master~I35fcfca99851182e0b71a0e1237af33f2e856834,openstack/openstack-ansible-os_placement,master,I35fcfca99851182e0b71a0e1237af33f2e856834,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:43:12.000000000,2019-07-30 20:21:04.000000000,2019-07-30 20:21:04.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-30 19:43:12.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/d9e04c6c08959f43c7d6f90599f3c73b1280ee7b', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I35fcfca99851182e0b71a0e1237af33f2e856834\n'}]",0,673652,d9e04c6c08959f43c7d6f90599f3c73b1280ee7b,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I35fcfca99851182e0b71a0e1237af33f2e856834
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_placement refs/changes/52/673652/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,d9e04c6c08959f43c7d6f90599f3c73b1280ee7b,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-repo_build~master~I4c7ff9b0de0aaaab72aa8705edf7db60139480c0,openstack/openstack-ansible-repo_build,master,I4c7ff9b0de0aaaab72aa8705edf7db60139480c0,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:46:07.000000000,2019-07-30 20:20:59.000000000,2019-07-30 20:20:59.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-30 19:46:07.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/23bbbab45a50c7af43c431fd0544fce21036dce1', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I4c7ff9b0de0aaaab72aa8705edf7db60139480c0\n'}]",0,673663,23bbbab45a50c7af43c431fd0544fce21036dce1,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I4c7ff9b0de0aaaab72aa8705edf7db60139480c0
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_build refs/changes/63/673663/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,23bbbab45a50c7af43c431fd0544fce21036dce1,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-os_tempest~master~Ie3b58b3773ef63d28d134c650bb08a3fc2e9e899,openstack/openstack-ansible-os_tempest,master,Ie3b58b3773ef63d28d134c650bb08a3fc2e9e899,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:44:31.000000000,2019-07-30 20:20:03.000000000,2019-07-30 20:20:03.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-30 19:44:31.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/6f5e0518dd055678b94df995ac7f841faa4359b4', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ie3b58b3773ef63d28d134c650bb08a3fc2e9e899\n'}]",0,673657,6f5e0518dd055678b94df995ac7f841faa4359b4,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ie3b58b3773ef63d28d134c650bb08a3fc2e9e899
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/57/673657/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,6f5e0518dd055678b94df995ac7f841faa4359b4,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-os_panko~master~I45051c5de526ab83014e4e2c8408d3b365f5ba1a,openstack/openstack-ansible-os_panko,master,I45051c5de526ab83014e4e2c8408d3b365f5ba1a,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:42:59.000000000,2019-07-30 20:19:44.000000000,2019-07-30 20:19:44.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-30 19:42:59.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_panko/commit/46bb2417ea8bc8c62f75b0e48b58aac1ee1150c0', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I45051c5de526ab83014e4e2c8408d3b365f5ba1a\n'}]",0,673651,46bb2417ea8bc8c62f75b0e48b58aac1ee1150c0,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I45051c5de526ab83014e4e2c8408d3b365f5ba1a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_panko refs/changes/51/673651/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,46bb2417ea8bc8c62f75b0e48b58aac1ee1150c0,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-os_tacker~master~I6214ef8fd6f590e424e9a0cfa5286fd3e808af2c,openstack/openstack-ansible-os_tacker,master,I6214ef8fd6f590e424e9a0cfa5286fd3e808af2c,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:44:16.000000000,2019-07-30 20:19:32.000000000,2019-07-30 20:19:31.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-30 19:44:16.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/7d854c91d47e6383fbd6526502e6bc72d1bb68a7', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I6214ef8fd6f590e424e9a0cfa5286fd3e808af2c\n'}]",0,673656,7d854c91d47e6383fbd6526502e6bc72d1bb68a7,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I6214ef8fd6f590e424e9a0cfa5286fd3e808af2c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/56/673656/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,7d854c91d47e6383fbd6526502e6bc72d1bb68a7,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-os_swift~master~Ie8feb2e0a0d229aed75461257199bc4af20abbfc,openstack/openstack-ansible-os_swift,master,Ie8feb2e0a0d229aed75461257199bc4af20abbfc,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:44:03.000000000,2019-07-30 20:18:55.000000000,2019-07-30 20:18:54.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-30 19:44:03.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/94870a6c67e0cd3fdd9b3695d47e0b261523fe38', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ie8feb2e0a0d229aed75461257199bc4af20abbfc\n'}]",0,673655,94870a6c67e0cd3fdd9b3695d47e0b261523fe38,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ie8feb2e0a0d229aed75461257199bc4af20abbfc
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/55/673655/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,94870a6c67e0cd3fdd9b3695d47e0b261523fe38,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-os_neutron~master~Ic455dbc369f1ecab5f1bd9f42875991c82bc9441,openstack/openstack-ansible-os_neutron,master,Ic455dbc369f1ecab5f1bd9f42875991c82bc9441,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:42:19.000000000,2019-07-30 20:18:28.000000000,2019-07-30 20:18:27.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-30 19:42:19.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/8f08a8c52bcfead99d4365b2a9f1892a72e106b9', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ic455dbc369f1ecab5f1bd9f42875991c82bc9441\n'}]",0,673648,8f08a8c52bcfead99d4365b2a9f1892a72e106b9,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ic455dbc369f1ecab5f1bd9f42875991c82bc9441
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/48/673648/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,8f08a8c52bcfead99d4365b2a9f1892a72e106b9,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-os_horizon~master~Iefd32ea8d264ff70623b30e8bce898060b0476cd,openstack/openstack-ansible-os_horizon,master,Iefd32ea8d264ff70623b30e8bce898060b0476cd,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:39:51.000000000,2019-07-30 20:17:54.000000000,2019-07-30 20:17:54.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 19:39:51.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/adcb328348568c8a519bd6f6f305003e4a3f182c', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Iefd32ea8d264ff70623b30e8bce898060b0476cd\n'}]",0,673641,adcb328348568c8a519bd6f6f305003e4a3f182c,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Iefd32ea8d264ff70623b30e8bce898060b0476cd
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/41/673641/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,adcb328348568c8a519bd6f6f305003e4a3f182c,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-os_keystone~master~I04f938ead0be6a3ea62a14dfd5d6c4244dda88ef,openstack/openstack-ansible-os_keystone,master,I04f938ead0be6a3ea62a14dfd5d6c4244dda88ef,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:40:27.000000000,2019-07-30 20:16:51.000000000,2019-07-30 20:16:51.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 19:40:27.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/3fc75ea13d3e5dff5d6a5f3a1fc4e7c1849800ed', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I04f938ead0be6a3ea62a14dfd5d6c4244dda88ef\n'}]",0,673643,3fc75ea13d3e5dff5d6a5f3a1fc4e7c1849800ed,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I04f938ead0be6a3ea62a14dfd5d6c4244dda88ef
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/43/673643/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,3fc75ea13d3e5dff5d6a5f3a1fc4e7c1849800ed,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-os_heat~master~Iba9576ab47db61e54ed0f466a14f0e02ac864c45,openstack/openstack-ansible-os_heat,master,Iba9576ab47db61e54ed0f466a14f0e02ac864c45,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:39:38.000000000,2019-07-30 20:16:50.000000000,2019-07-30 20:16:50.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 19:39:38.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/0179a68aaa0c9a4a8d3b09d4dd6f2d3ac93a3344', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Iba9576ab47db61e54ed0f466a14f0e02ac864c45\n'}]",0,673640,0179a68aaa0c9a4a8d3b09d4dd6f2d3ac93a3344,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Iba9576ab47db61e54ed0f466a14f0e02ac864c45
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/40/673640/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,0179a68aaa0c9a4a8d3b09d4dd6f2d3ac93a3344,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-os_sahara~master~Ie2f5e562908d90638436a6a6f3da1062ff2f621d,openstack/openstack-ansible-os_sahara,master,Ie2f5e562908d90638436a6a6f3da1062ff2f621d,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:43:39.000000000,2019-07-30 20:16:42.000000000,2019-07-30 20:16:42.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 19:43:39.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/cf8df2f2d850ab704fe67b64651974fe558f5170', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ie2f5e562908d90638436a6a6f3da1062ff2f621d\n'}]",0,673654,cf8df2f2d850ab704fe67b64651974fe558f5170,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ie2f5e562908d90638436a6a6f3da1062ff2f621d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/54/673654/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,cf8df2f2d850ab704fe67b64651974fe558f5170,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-os_cloudkitty~master~I808042f2518b2ee89663763e17b2c07be6f7d13a,openstack/openstack-ansible-os_cloudkitty,master,I808042f2518b2ee89663763e17b2c07be6f7d13a,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:38:26.000000000,2019-07-30 20:16:31.000000000,2019-07-30 20:16:30.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 19:38:26.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/140deda53b5804fdd5d6a8ac275ad7978c9b34d4', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I808042f2518b2ee89663763e17b2c07be6f7d13a\n'}]",0,673636,140deda53b5804fdd5d6a8ac275ad7978c9b34d4,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I808042f2518b2ee89663763e17b2c07be6f7d13a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/36/673636/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,140deda53b5804fdd5d6a8ac275ad7978c9b34d4,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-memcached_server~master~I07edccec818c2f2e1969026c058a804d50f59b67,openstack/openstack-ansible-memcached_server,master,I07edccec818c2f2e1969026c058a804d50f59b67,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:35:41.000000000,2019-07-30 20:15:55.000000000,2019-07-30 20:15:54.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 19:35:41.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/f3027df769e523fb691fe29121a0c9db98991afe', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I07edccec818c2f2e1969026c058a804d50f59b67\n'}]",0,673628,f3027df769e523fb691fe29121a0c9db98991afe,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I07edccec818c2f2e1969026c058a804d50f59b67
",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/28/673628/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,f3027df769e523fb691fe29121a0c9db98991afe,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-os_magnum~master~Icbc584b442824fa46682ee9935a87b55f76f5dcc,openstack/openstack-ansible-os_magnum,master,Icbc584b442824fa46682ee9935a87b55f76f5dcc,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:40:40.000000000,2019-07-30 20:15:47.000000000,2019-07-30 20:15:47.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 19:40:40.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/8d0ebd57a24bc8c655216b24988ac2a6146a2b66', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Icbc584b442824fa46682ee9935a87b55f76f5dcc\n'}]",0,673644,8d0ebd57a24bc8c655216b24988ac2a6146a2b66,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Icbc584b442824fa46682ee9935a87b55f76f5dcc
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/44/673644/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,8d0ebd57a24bc8c655216b24988ac2a6146a2b66,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-openstack_hosts~master~I7af695c45d4a556e7695efaecb3fa1f21db405df,openstack/openstack-ansible-openstack_hosts,master,I7af695c45d4a556e7695efaecb3fa1f21db405df,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:36:19.000000000,2019-07-30 20:15:17.000000000,2019-07-30 20:15:17.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 19:36:19.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/5ec996021cd694016b98c30a19fcc710aa18696c', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I7af695c45d4a556e7695efaecb3fa1f21db405df\n'}]",0,673631,5ec996021cd694016b98c30a19fcc710aa18696c,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I7af695c45d4a556e7695efaecb3fa1f21db405df
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/31/673631/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,5ec996021cd694016b98c30a19fcc710aa18696c,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-os_designate~master~Idf62e041939b25fb767bfa710652ba8a8992ee82,openstack/openstack-ansible-os_designate,master,Idf62e041939b25fb767bfa710652ba8a8992ee82,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:38:52.000000000,2019-07-30 20:14:57.000000000,2019-07-30 20:14:57.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 19:38:52.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/6d24a51730d50c49603703353973fee605da3b6b', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Idf62e041939b25fb767bfa710652ba8a8992ee82\n'}]",0,673638,6d24a51730d50c49603703353973fee605da3b6b,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Idf62e041939b25fb767bfa710652ba8a8992ee82
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/38/673638/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,6d24a51730d50c49603703353973fee605da3b6b,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-os_cinder~master~Ie644626e01fdd0e62bc72ac89a5e27edee50d2c4,openstack/openstack-ansible-os_cinder,master,Ie644626e01fdd0e62bc72ac89a5e27edee50d2c4,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:38:13.000000000,2019-07-30 20:14:31.000000000,2019-07-30 20:14:31.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 19:38:13.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/0dec7b8dedb8a349289c56b1daea1166b24fcfca', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ie644626e01fdd0e62bc72ac89a5e27edee50d2c4\n'}]",0,673635,0dec7b8dedb8a349289c56b1daea1166b24fcfca,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ie644626e01fdd0e62bc72ac89a5e27edee50d2c4
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/35/673635/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,0dec7b8dedb8a349289c56b1daea1166b24fcfca,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-os_manila~master~I91aaef5e95035718897b5d4c8cb923139700ee71,openstack/openstack-ansible-os_manila,master,I91aaef5e95035718897b5d4c8cb923139700ee71,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:40:53.000000000,2019-07-30 20:13:25.000000000,2019-07-30 20:13:25.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 19:40:53.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/0293d596bbe07bc9d147e13bdab0338ef53b5115', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I91aaef5e95035718897b5d4c8cb923139700ee71\n'}]",0,673645,0293d596bbe07bc9d147e13bdab0338ef53b5115,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I91aaef5e95035718897b5d4c8cb923139700ee71
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/45/673645/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,0293d596bbe07bc9d147e13bdab0338ef53b5115,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fansible-role-python_venv_build~master~I10d85fa08af6ac4034a50e1a679cef0c52bf75ce,openstack/ansible-role-python_venv_build,master,I10d85fa08af6ac4034a50e1a679cef0c52bf75ce,Update to opendev,MERGED,2019-04-23 02:48:50.000000000,2019-07-30 20:11:55.000000000,2019-07-30 20:11:55.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-04-23 02:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/e052347f5fc4b7870dca3a4ac1ecd67f17da3e1e', 'message': 'Update to opendev\n\nChange-Id: I10d85fa08af6ac4034a50e1a679cef0c52bf75ce\n'}, {'number': 2, 'created': '2019-04-23 04:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/2a588ec114c7182e25f4e6849dc540d6071117ce', 'message': 'Update to opendev\n\nChange-Id: I10d85fa08af6ac4034a50e1a679cef0c52bf75ce\n'}, {'number': 3, 'created': '2019-04-23 04:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/4376fc5c2ccfbef84e8b1c7c9812fbee741bd32d', 'message': 'Update to opendev\n\nChange-Id: I10d85fa08af6ac4034a50e1a679cef0c52bf75ce\n'}, {'number': 4, 'created': '2019-04-24 01:11:50.000000000', 'files': ['tests/ansible-role-requirements.yml', 'doc/source/conf.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/593c6b309919d821487d9b6fe07ba9bbf9b36827', 'message': 'Update to opendev\n\nChange-Id: I10d85fa08af6ac4034a50e1a679cef0c52bf75ce\n'}]",0,654682,593c6b309919d821487d9b6fe07ba9bbf9b36827,15,3,4,26584,,,0,"Update to opendev

Change-Id: I10d85fa08af6ac4034a50e1a679cef0c52bf75ce
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/82/654682/2 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'bindep.txt', 'tests/ansible-role-requirements.yml', 'Vagrantfile', 'doc/source/conf.py', 'tox.ini']",6,e052347f5fc4b7870dca3a4ac1ecd67f17da3e1e,, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages}# http://opendev.org/openstack/openstack-ansible-tests/raw/branch/master/test-ansible-deps.txt # or for a stable branch: # http://opendev.org/openstack/openstack-ansible-tests/raw/branch/master/test-ansible-deps.txt?h=stable/queens, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages}# http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/queens,15,15
openstack%2Fopenstack-ansible-os_congress~master~Id773ed7c7a07f2733f4d0fde8d437fe6132bd67b,openstack/openstack-ansible-os_congress,master,Id773ed7c7a07f2733f4d0fde8d437fe6132bd67b,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:38:39.000000000,2019-07-30 20:11:24.000000000,2019-07-30 20:11:24.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 19:38:39.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_congress/commit/8273d5ec2c7edacb4ee0cfc2622fe39d05098721', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Id773ed7c7a07f2733f4d0fde8d437fe6132bd67b\n'}]",0,673637,8273d5ec2c7edacb4ee0cfc2622fe39d05098721,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Id773ed7c7a07f2733f4d0fde8d437fe6132bd67b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_congress refs/changes/37/673637/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,8273d5ec2c7edacb4ee0cfc2622fe39d05098721,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-galera_server~master~I5b5e514f8ffb2037e3a88b5b23f16e33f8062d64,openstack/openstack-ansible-galera_server,master,I5b5e514f8ffb2037e3a88b5b23f16e33f8062d64,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:34:47.000000000,2019-07-30 20:11:21.000000000,2019-07-30 20:11:21.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 19:34:47.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/5f1115cee968e6b93ca80d2b7a127d5c75857278', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I5b5e514f8ffb2037e3a88b5b23f16e33f8062d64\n'}]",0,673624,5f1115cee968e6b93ca80d2b7a127d5c75857278,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I5b5e514f8ffb2037e3a88b5b23f16e33f8062d64
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/24/673624/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,5f1115cee968e6b93ca80d2b7a127d5c75857278,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-galera_server~master~I0e530e67238a42e63f25ce0d59eefca2b7a2099a,openstack/openstack-ansible-galera_server,master,I0e530e67238a42e63f25ce0d59eefca2b7a2099a,Use a private namespaced var for cluster name check,MERGED,2019-05-30 21:27:29.000000000,2019-07-30 20:11:20.000000000,2019-07-30 20:11:20.000000000,"[{'_account_id': 1004}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-05-30 21:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/c8b9225c8bd7c641e002003b0305206ea4090d7c', 'message': 'Use a private namespaced var for cluster name check\n\nThe galera cluster check uses ""cluster_name"" as a task return variable\nwhen pulling the cluster name from an existing cluster. As one\nmight imagine, the cluster_name variable is very ambiguous and could\nexist in a user\'s user_variables or inventory somewhere, which breaks\nthis check and fails the role execution. Instead of using \'cluster_name\'\nwe can just return the task result to a private namespaced var\n\'_cluster_name\' and use that for the assertion instead.\n\nChange-Id: I0e530e67238a42e63f25ce0d59eefca2b7a2099a\n'}, {'number': 2, 'created': '2019-05-30 21:28:32.000000000', 'files': ['tasks/galera_cluster_state.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/13598110846ce8e34c7e59c90ef8aff0539f99af', 'message': 'Use a private namespaced var for cluster name check\n\nThe galera cluster check uses ""cluster_name"" as a task return variable\nwhen pulling the cluster name from an existing cluster. As one\nmight imagine, the cluster_name variable is very ambiguous and could\nexist in a user\'s user_variables or inventory somewhere, which breaks\nthis check and fails the role execution. Instead of using \'cluster_name\'\nwe can just return the task result to a private namespaced var\n\'_cluster_name\' and use that for the assertion instead.\n\n\'node_status\' is a similar check, also changed to \'_node_status\'\n\nChange-Id: I0e530e67238a42e63f25ce0d59eefca2b7a2099a\n'}]",0,662338,13598110846ce8e34c7e59c90ef8aff0539f99af,12,4,2,17799,,,0,"Use a private namespaced var for cluster name check

The galera cluster check uses ""cluster_name"" as a task return variable
when pulling the cluster name from an existing cluster. As one
might imagine, the cluster_name variable is very ambiguous and could
exist in a user's user_variables or inventory somewhere, which breaks
this check and fails the role execution. Instead of using 'cluster_name'
we can just return the task result to a private namespaced var
'_cluster_name' and use that for the assertion instead.

'node_status' is a similar check, also changed to '_node_status'

Change-Id: I0e530e67238a42e63f25ce0d59eefca2b7a2099a
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/38/662338/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/galera_cluster_state.yml'],1,c8b9225c8bd7c641e002003b0305206ea4090d7c,, register: _cluster_name - _cluster_name.rc != 0 - (_cluster_name.stdout.split()[-1] | default(false)) != galera_cluster_name, register: cluster_name - cluster_name.rc != 0 - (cluster_name.stdout.split()[-1] | default(false)) != galera_cluster_name,3,3
openstack%2Fopenstack-ansible-os_blazar~master~Ia91bf1a2dd2c2d9c83dfb75d9417efa1702f38b3,openstack/openstack-ansible-os_blazar,master,Ia91bf1a2dd2c2d9c83dfb75d9417efa1702f38b3,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:37:41.000000000,2019-07-30 20:10:33.000000000,2019-07-30 20:10:33.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 19:37:41.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/4eccd1b0900591217e8e98c69e3d4cb54c50c2db', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ia91bf1a2dd2c2d9c83dfb75d9417efa1702f38b3\n'}]",0,673634,4eccd1b0900591217e8e98c69e3d4cb54c50c2db,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ia91bf1a2dd2c2d9c83dfb75d9417efa1702f38b3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_blazar refs/changes/34/673634/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,4eccd1b0900591217e8e98c69e3d4cb54c50c2db,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-galera_client~master~I099614f666312c1a27d77bb2e8be8b33a5db1cbf,openstack/openstack-ansible-galera_client,master,I099614f666312c1a27d77bb2e8be8b33a5db1cbf,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:34:33.000000000,2019-07-30 20:09:26.000000000,2019-07-30 20:09:25.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 19:34:33.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/fc0e88c1d5e81928b511703d948e3b0ec1be4580', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I099614f666312c1a27d77bb2e8be8b33a5db1cbf\n'}]",0,673623,fc0e88c1d5e81928b511703d948e3b0ec1be4580,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I099614f666312c1a27d77bb2e8be8b33a5db1cbf
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_client refs/changes/23/673623/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,fc0e88c1d5e81928b511703d948e3b0ec1be4580,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fnova~master~I29a1faa53eabb270785369d6da908484f18adbb0,openstack/nova,master,I29a1faa53eabb270785369d6da908484f18adbb0,Add functional regression test for bug 1764556,ABANDONED,2018-07-13 01:34:42.000000000,2019-07-30 20:09:17.000000000,,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-13 01:34:42.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1764556.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c3fc6b56a10598de8b61431a0abb16154d541d7e', 'message': 'Add functional regression test for bug 1764556\n\nThis tests the scenario where an operator has upgraded from Ocata =>\nPike but has deleted services that share the same hostname with\ncurrently existing, running services. The current behavior is that\nServiceNotFound is raised when we try to generate a UUID for the\ndeleted service while querying for a list of instances. After the bug\nis fixed, we should be able to successfully query for a list of\ninstances.\n\nRelated-Bug: #1764556\n\nChange-Id: I29a1faa53eabb270785369d6da908484f18adbb0\n'}]",0,582435,c3fc6b56a10598de8b61431a0abb16154d541d7e,13,10,1,4690,,,0,"Add functional regression test for bug 1764556

This tests the scenario where an operator has upgraded from Ocata =>
Pike but has deleted services that share the same hostname with
currently existing, running services. The current behavior is that
ServiceNotFound is raised when we try to generate a UUID for the
deleted service while querying for a list of instances. After the bug
is fixed, we should be able to successfully query for a list of
instances.

Related-Bug: #1764556

Change-Id: I29a1faa53eabb270785369d6da908484f18adbb0
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/582435/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1764556.py'],1,c3fc6b56a10598de8b61431a0abb16154d541d7e,bug/1778305,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import nova.context from nova.db import api as db from nova import objects from nova import test class InstanceListWithDeletedServiceTestCase(test.TestCase): def setUp(self): super(InstanceListWithDeletedServiceTestCase, self).setUp() self.context = nova.context.RequestContext('fake-user', 'fake-project') def test_instance_list_old_deleted_service_with_no_uuid(self): # Create a nova-compute service record with a host that will match the # instance's host, with no uuid. We can't do this through the # Service object because it will automatically generate a uuid. current_version = objects.service.SERVICE_VERSION service = db.service_create(self.context, {'host': 'fake-host', 'binary': 'nova-compute', 'version': current_version}) self.assertIsNone(service['uuid']) # Now delete it. db.service_destroy(self.context, service['id']) # Create a new service with the same host name that has a UUID. new_service = objects.Service(context=self.context, host='fake-host', binary='nova-compute') new_service.create() # Create an instance whose host will match both services, including the # deleted one. inst = objects.Instance(context=self.context, project_id=self.context.project_id, host='fake-host') inst.create() # TODO(melwitt): Remove this assert when the bug is fixed. self.assertRaises(nova.exception.ServiceNotFound, objects.InstanceList.get_by_filters, self.context, {}, expected_attrs=['services']) # TODO(melwitt): Uncomment these asserts when the bug is fixed. # insts = objects.InstanceList.get_by_filters( # self.context, {}, expected_attrs=['services']) # self.assertEqual(1, len(insts)) # self.assertEqual(2, len(insts[0].services)) # Deleted service should not have a UUID # for service in insts[0].services: # if service.deleted: # self.assertNotIn('uuid', service) # else: # self.assertIsNotNone(service.uuid) ",,65,0
openstack%2Fopenstack-ansible-ops~master~I1cd74c31bf76a248835ebc3d5ab4b115b554cf7b,openstack/openstack-ansible-ops,master,I1cd74c31bf76a248835ebc3d5ab4b115b554cf7b,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:36:47.000000000,2019-07-30 20:07:40.000000000,2019-07-30 20:07:40.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 19:36:47.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/4e9c5c5c3949959201db54138974b88a51435777', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I1cd74c31bf76a248835ebc3d5ab4b115b554cf7b\n'}]",0,673633,4e9c5c5c3949959201db54138974b88a51435777,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I1cd74c31bf76a248835ebc3d5ab4b115b554cf7b
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/33/673633/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,4e9c5c5c3949959201db54138974b88a51435777,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-nspawn_container_create~master~Ia044eb3118eeffbe5c2facb9c9f921959427c27b,openstack/openstack-ansible-nspawn_container_create,master,Ia044eb3118eeffbe5c2facb9c9f921959427c27b,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:35:53.000000000,2019-07-30 20:07:36.000000000,2019-07-30 20:07:35.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 19:35:53.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/bb0fc86e19578d97937b095dc9015f660b53409f', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ia044eb3118eeffbe5c2facb9c9f921959427c27b\n'}]",0,673629,bb0fc86e19578d97937b095dc9015f660b53409f,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ia044eb3118eeffbe5c2facb9c9f921959427c27b
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_container_create refs/changes/29/673629/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,bb0fc86e19578d97937b095dc9015f660b53409f,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-nspawn_hosts~master~Ie6f8586f4aed79f923dd87e2f3b972ddfdfd2f08,openstack/openstack-ansible-nspawn_hosts,master,Ie6f8586f4aed79f923dd87e2f3b972ddfdfd2f08,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:36:06.000000000,2019-07-30 20:07:12.000000000,2019-07-30 20:07:12.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 19:36:06.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/51e792f590af65d44cd51d5451efcfaa9db34b1f', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ie6f8586f4aed79f923dd87e2f3b972ddfdfd2f08\n'}]",0,673630,51e792f590af65d44cd51d5451efcfaa9db34b1f,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ie6f8586f4aed79f923dd87e2f3b972ddfdfd2f08
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_hosts refs/changes/30/673630/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,51e792f590af65d44cd51d5451efcfaa9db34b1f,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-haproxy_server~master~I04d66fd8668497786718d785e8bccaf6abddffc9,openstack/openstack-ansible-haproxy_server,master,I04d66fd8668497786718d785e8bccaf6abddffc9,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:35:01.000000000,2019-07-30 20:06:01.000000000,2019-07-30 20:06:01.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 19:35:01.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/979c303388f048612696e73d09d1c12217cf53ed', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I04d66fd8668497786718d785e8bccaf6abddffc9\n'}]",0,673625,979c303388f048612696e73d09d1c12217cf53ed,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I04d66fd8668497786718d785e8bccaf6abddffc9
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/25/673625/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,979c303388f048612696e73d09d1c12217cf53ed,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-os_nova~master~I052f50cd527ea222e74fdc3684613499f2b55d8e,openstack/openstack-ansible-os_nova,master,I052f50cd527ea222e74fdc3684613499f2b55d8e,rbd: add var for inuse and enable setting secret,MERGED,2019-07-30 16:36:57.000000000,2019-07-30 20:05:46.000000000,2019-07-30 20:05:46.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-30 16:36:57.000000000', 'files': ['tasks/main.yml', 'templates/nova.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/12a5bc7a9f0bb4bfef4b6d5fc565e9dfeba17690', 'message': 'rbd: add var for inuse and enable setting secret\n\nThis patch refactors a variable to determine if we RBD is in\nuse (either directly or via cinder-volume).\n\nIt also uses this to make sure to always set rbd_user and the\nrbd_secret_uuid both are set so booting from Cinder with local\nstorage works.\n\nChange-Id: I052f50cd527ea222e74fdc3684613499f2b55d8e\n'}]",2,673578,12a5bc7a9f0bb4bfef4b6d5fc565e9dfeba17690,10,4,1,1004,,,0,"rbd: add var for inuse and enable setting secret

This patch refactors a variable to determine if we RBD is in
use (either directly or via cinder-volume).

It also uses this to make sure to always set rbd_user and the
rbd_secret_uuid both are set so booting from Cinder with local
storage works.

Change-Id: I052f50cd527ea222e74fdc3684613499f2b55d8e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/78/673578/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/nova.conf.j2', 'defaults/main.yml']",3,12a5bc7a9f0bb4bfef4b6d5fc565e9dfeba17690,,"# Used to determine if we need a Ceph client nova_rbd_inuse: ""(nova_libvirt_images_rbd_pool is defined) or (nova_cinder_rbd_inuse | bool)"" ",,8,4
openstack%2Fopenstack-ansible-lxc_container_create~master~Ic2baf362b53d2c1e71ef98a712be33bf086ac566,openstack/openstack-ansible-lxc_container_create,master,Ic2baf362b53d2c1e71ef98a712be33bf086ac566,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:35:14.000000000,2019-07-30 20:05:14.000000000,2019-07-30 20:05:14.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 19:35:14.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/ac0ea6bf1b48dd46477b924ff55c276f19377c35', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ic2baf362b53d2c1e71ef98a712be33bf086ac566\n'}]",0,673626,ac0ea6bf1b48dd46477b924ff55c276f19377c35,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ic2baf362b53d2c1e71ef98a712be33bf086ac566
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/26/673626/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,ac0ea6bf1b48dd46477b924ff55c276f19377c35,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-openstack_openrc~master~I465cd760471016c92227ab89926e813157e8ebf1,openstack/openstack-ansible-openstack_openrc,master,I465cd760471016c92227ab89926e813157e8ebf1,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:36:32.000000000,2019-07-30 20:04:51.000000000,2019-07-30 20:04:50.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 19:36:32.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/53fcf7994ab786226729d16111e0c34596ced13f', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I465cd760471016c92227ab89926e813157e8ebf1\n'}]",0,673632,53fcf7994ab786226729d16111e0c34596ced13f,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I465cd760471016c92227ab89926e813157e8ebf1
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_openrc refs/changes/32/673632/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,53fcf7994ab786226729d16111e0c34596ced13f,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-lxc_hosts~master~I5432f09a28cdbe66b60910188327da9a9fe3255b,openstack/openstack-ansible-lxc_hosts,master,I5432f09a28cdbe66b60910188327da9a9fe3255b,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:35:28.000000000,2019-07-30 20:03:38.000000000,2019-07-30 20:03:38.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 19:35:28.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/9a1a57d99b7621ca43119b6f61121f76446608b6', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I5432f09a28cdbe66b60910188327da9a9fe3255b\n'}]",0,673627,9a1a57d99b7621ca43119b6f61121f76446608b6,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I5432f09a28cdbe66b60910188327da9a9fe3255b
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/27/673627/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,9a1a57d99b7621ca43119b6f61121f76446608b6,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-ceph_client~master~Iba67e40659b459676c9cba55b4334d2e45be0252,openstack/openstack-ansible-ceph_client,master,Iba67e40659b459676c9cba55b4334d2e45be0252,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:34:20.000000000,2019-07-30 20:02:54.000000000,2019-07-30 20:02:53.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 19:34:20.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/cbc3ed12165c6be9813b3a7b99a50e7aa868cf18', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Iba67e40659b459676c9cba55b4334d2e45be0252\n'}]",0,673622,cbc3ed12165c6be9813b3a7b99a50e7aa868cf18,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Iba67e40659b459676c9cba55b4334d2e45be0252
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/22/673622/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,cbc3ed12165c6be9813b3a7b99a50e7aa868cf18,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-apt_package_pinning~master~I490a4edae8ad05297e8cd0303353caa5103f8b23,openstack/openstack-ansible-apt_package_pinning,master,I490a4edae8ad05297e8cd0303353caa5103f8b23,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:34:06.000000000,2019-07-30 20:02:51.000000000,2019-07-30 20:02:51.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 19:34:06.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-apt_package_pinning/commit/f51ba20ae7cd0fabcf26fc31cbb2ee4385cae69a', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I490a4edae8ad05297e8cd0303353caa5103f8b23\n'}]",0,673621,f51ba20ae7cd0fabcf26fc31cbb2ee4385cae69a,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I490a4edae8ad05297e8cd0303353caa5103f8b23
",git fetch https://review.opendev.org/openstack/openstack-ansible-apt_package_pinning refs/changes/21/673621/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,f51ba20ae7cd0fabcf26fc31cbb2ee4385cae69a,openstack/openstack-ansible-tests/sync-tests,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fopenstack-ansible~master~I4f79aae844f4ca0a508a887f915072635feb9283,openstack/openstack-ansible,master,I4f79aae844f4ca0a508a887f915072635feb9283,Bump sha of heat,MERGED,2019-07-26 10:15:35.000000000,2019-07-30 20:01:41.000000000,2019-07-30 20:01:41.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-26 10:15:35.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/37f0008f73265a240b6198c7321cd65b31f0ca74', 'message': 'Bump sha of heat\n\nThis brings in https://review.opendev.org/#/c/650967/ as a required\nbugfix\n\nChange-Id: I4f79aae844f4ca0a508a887f915072635feb9283\n'}]",0,672943,37f0008f73265a240b6198c7321cd65b31f0ca74,14,4,1,25023,,,0,"Bump sha of heat

This brings in https://review.opendev.org/#/c/650967/ as a required
bugfix

Change-Id: I4f79aae844f4ca0a508a887f915072635feb9283
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/43/672943/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/defaults/repo_packages/openstack_services.yml'],1,37f0008f73265a240b6198c7321cd65b31f0ca74,,heat_git_install_branch: 98f08fe079d94422ff1a59fd4531c5af850d1639 # HEAD as of 26.07.2019,heat_git_install_branch: e42ef32b419aa175351dce22320d7ffeadd981dd # HEAD as of 14.07.2019,1,1
openstack%2Fopenstack-ansible~master~I1b1432c0fccae7a6a1718f2849bb9f3c089c4703,openstack/openstack-ansible,master,I1b1432c0fccae7a6a1718f2849bb9f3c089c4703,[DOCS] Replace env.d with conf.d in provnet_groups docs,MERGED,2019-05-22 11:30:29.000000000,2019-07-30 20:01:40.000000000,2019-07-30 20:01:39.000000000,"[{'_account_id': 1004}, {'_account_id': 10607}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-05-22 11:30:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7ba76dd6a1788d478f8f855da6bf9be185b806f3', 'message': '[DOCS] Replace env.d with conf.d in provnet_groups docs\n\nThis patch corrects a typo related to the provider network groups\ndocumentation, replacing env.d with conf.d in the appropriate place.\n\nChange-Id: I1b1432c0fccae7a6a1718f2849bb9f3c089c4703\nCloses-Bug: #1829900\n'}, {'number': 2, 'created': '2019-07-22 11:56:05.000000000', 'files': ['doc/source/user/prod/provnet_groups.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9be0ff0bcebc2e11483fed4018760cd66a26e32a', 'message': '[DOCS] Replace env.d with conf.d in provnet_groups docs\n\nThis patch corrects a typo related to the provider network groups\ndocumentation, replacing env.d with conf.d in the appropriate place.\n\nChange-Id: I1b1432c0fccae7a6a1718f2849bb9f3c089c4703\nCloses-Bug: #1829900\n'}]",0,660684,9be0ff0bcebc2e11483fed4018760cd66a26e32a,10,4,2,16011,,,0,"[DOCS] Replace env.d with conf.d in provnet_groups docs

This patch corrects a typo related to the provider network groups
documentation, replacing env.d with conf.d in the appropriate place.

Change-Id: I1b1432c0fccae7a6a1718f2849bb9f3c089c4703
Closes-Bug: #1829900
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/84/660684/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/prod/provnet_groups.rst'],1,7ba76dd6a1788d478f8f855da6bf9be185b806f3,bug/1829900,``/etc/openstack_deploy/conf.d/custom2_hosts.yml`` consisting of a single,``/etc/openstack_deploy/env.d/custom2_hosts.yml`` consisting of a single,1,1
openstack%2Fopenstack-ansible~stable%2Fstein~I59e259e749be8932d03886831904cc7085fa40d4,openstack/openstack-ansible,stable/stein,I59e259e749be8932d03886831904cc7085fa40d4,Install placement osc plugin on utility machines,MERGED,2019-07-20 23:49:42.000000000,2019-07-30 20:01:38.000000000,2019-07-30 20:01:38.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-20 23:49:42.000000000', 'files': ['playbooks/utility-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/85f6ee42f18a7f174719758696e63010bb88435d', 'message': 'Install placement osc plugin on utility machines\n\nInclude the placement OpenStack client plugin in the list of OpenStack\nclients to be installed on utility machines.\n\nChange-Id: I59e259e749be8932d03886831904cc7085fa40d4\n(cherry picked from commit f1aa51b20e04def439f6a37983e7ba099fc50d84)\n'}]",0,671911,85f6ee42f18a7f174719758696e63010bb88435d,8,4,1,14805,,,0,"Install placement osc plugin on utility machines

Include the placement OpenStack client plugin in the list of OpenStack
clients to be installed on utility machines.

Change-Id: I59e259e749be8932d03886831904cc7085fa40d4
(cherry picked from commit f1aa51b20e04def439f6a37983e7ba099fc50d84)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/11/671911/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/utility-install.yml'],1,85f6ee42f18a7f174719758696e63010bb88435d,utility-placement-client-stable/stein, {%- if (l is match('^python-.*client==.*$')) or (l is match('^(aodh|gnocchi)client==.*$')) or (l is match('^osc-placement==.*$')) %}, {%- if (l is match('^python-.*client==.*$')) or (l is match('^(aodh|gnocchi)client==.*$')) %},4,1
openstack%2Fopenstack-ansible~master~If082340fad330f70786ff9a7e847caee9a88a3ca,openstack/openstack-ansible,master,If082340fad330f70786ff9a7e847caee9a88a3ca,Update static inventory example,MERGED,2019-07-22 21:36:10.000000000,2019-07-30 20:01:37.000000000,2019-07-30 20:01:37.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-22 21:36:10.000000000', 'files': ['inventory/inventory.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/439bf4a1513a9b1cde54c587f19ac336cb6433a3', 'message': 'Update static inventory example\n\nThe example static inventory did not contain the required child\ngroups so was not a valid inventory file.\n\nChange-Id: If082340fad330f70786ff9a7e847caee9a88a3ca\n'}]",0,672180,439bf4a1513a9b1cde54c587f19ac336cb6433a3,7,3,1,25023,,,0,"Update static inventory example

The example static inventory did not contain the required child
groups so was not a valid inventory file.

Change-Id: If082340fad330f70786ff9a7e847caee9a88a3ca
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/80/672180/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/inventory.ini'],1,439bf4a1513a9b1cde54c587f19ac336cb6433a3,,[manila_api] [manila_scheduler] [manila_data] [manila_share][mistral_api] [mistral_engine] [mistral_executor] [mistral_notifier] [panko_api][placement_api],,11,0
openstack%2Fopenstack-ansible~stable%2Frocky~Ie5c8d65aee11d6dba18a0388467783cc6e9e5d36,openstack/openstack-ansible,stable/rocky,Ie5c8d65aee11d6dba18a0388467783cc6e9e5d36,Set nodepool mirror PIP_OPTS consistently,MERGED,2019-07-17 08:19:08.000000000,2019-07-30 20:01:36.000000000,2019-07-30 20:01:36.000000000,"[{'_account_id': 1004}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-17 08:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2c51d8307b35c191ac4c0ed8f4369fc3af9a694e', 'message': 'Set nodepool mirror PIP_OPTS consistently\n\nThe bootstrap-ansible script does not always run as a child of the\ngate-check-commit, so bootstrap-ansible should be prepared to load\nthe nodepool PIP mirrors itself. Move the nodepool mirror detection\ninto a common function so it can be used in both bootstrap-ansible\nand gate-check-commit.\n\nChange-Id: Ie5c8d65aee11d6dba18a0388467783cc6e9e5d36\n(cherry picked from commit bd36689c2ce122ffd35b74187bd4b9feb5fde5d6)\n'}, {'number': 2, 'created': '2019-07-17 13:50:20.000000000', 'files': ['scripts/gate-check-commit.sh', 'scripts/scripts-library.sh', 'scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/117fe2b17e9e77156528fe1a786f62eeca30ab04', 'message': 'Set nodepool mirror PIP_OPTS consistently\n\nThe bootstrap-ansible script does not always run as a child of the\ngate-check-commit, so bootstrap-ansible should be prepared to load\nthe nodepool PIP mirrors itself. Move the nodepool mirror detection\ninto a common function so it can be used in both bootstrap-ansible\nand gate-check-commit.\n\nChange-Id: Ie5c8d65aee11d6dba18a0388467783cc6e9e5d36\n(cherry picked from commit bd36689c2ce122ffd35b74187bd4b9feb5fde5d6)\n'}]",1,671207,117fe2b17e9e77156528fe1a786f62eeca30ab04,13,4,2,25023,,,0,"Set nodepool mirror PIP_OPTS consistently

The bootstrap-ansible script does not always run as a child of the
gate-check-commit, so bootstrap-ansible should be prepared to load
the nodepool PIP mirrors itself. Move the nodepool mirror detection
into a common function so it can be used in both bootstrap-ansible
and gate-check-commit.

Change-Id: Ie5c8d65aee11d6dba18a0388467783cc6e9e5d36
(cherry picked from commit bd36689c2ce122ffd35b74187bd4b9feb5fde5d6)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/07/671207/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/gate-check-commit.sh', 'scripts/scripts-library.sh', 'scripts/bootstrap-ansible.sh']",3,2c51d8307b35c191ac4c0ed8f4369fc3af9a694e,,# Load nodepool PIP mirror settings load_nodepool_pip_opts ,,50,10
openstack%2Fopenstack-ansible~master~I9ba2915bedda9271682e7dac912a0e70ebfd80fc,openstack/openstack-ansible,master,I9ba2915bedda9271682e7dac912a0e70ebfd80fc,Switch nova console type from spice to novnc,MERGED,2019-07-19 19:21:13.000000000,2019-07-30 20:01:34.000000000,2019-07-30 20:01:34.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-19 19:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ca1a699e8c37435f9ec232e3bdd0316d9d63bc4a', 'message': 'Switch nova console type from spice to novnc\n\nSee https://review.opendev.org/662302\n\nChange-Id: I9ba2915bedda9271682e7dac912a0e70ebfd80fc\n'}, {'number': 2, 'created': '2019-07-20 08:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1a47503f1fc29384204c8b7ef72e4df136afe04f', 'message': 'Switch nova console type from spice to novnc\n\nThis patch removes the integrated repo override selecing spice as the\nconsole type, allowing the os_nova role default to select novnc.\nSee https://review.opendev.org/662302\n\nChange-Id: I9ba2915bedda9271682e7dac912a0e70ebfd80fc\n'}, {'number': 3, 'created': '2019-07-20 17:56:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b2ec302827ca8a7a062ae46624e635aa0da29134', 'message': 'Switch nova console type from spice to novnc\n\nThis patch removes the integrated repo override selecing spice as the\nconsole type, allowing the os_nova role default to select novnc.\nSee https://review.opendev.org/662302\n\nChange-Id: I9ba2915bedda9271682e7dac912a0e70ebfd80fc\n'}, {'number': 4, 'created': '2019-07-22 22:01:48.000000000', 'files': ['inventory/group_vars/nova_all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2b0c3ef053c6b172eaecde711d900cffb8cc68c1', 'message': 'Switch nova console type from spice to novnc\n\nThis patch switches the integrated repo override selecing spice as the\nconsole type to novnc.\nSee https://review.opendev.org/662302\n\nChange-Id: I9ba2915bedda9271682e7dac912a0e70ebfd80fc\n'}]",3,671848,2b0c3ef053c6b172eaecde711d900cffb8cc68c1,23,4,4,25023,,,0,"Switch nova console type from spice to novnc

This patch switches the integrated repo override selecing spice as the
console type to novnc.
See https://review.opendev.org/662302

Change-Id: I9ba2915bedda9271682e7dac912a0e70ebfd80fc
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/48/671848/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/nova_all.yml'],1,ca1a699e8c37435f9ec232e3bdd0316d9d63bc4a,,nova_console_type: novnc,nova_console_type: spice,1,1
openstack%2Fheat~stable%2Fqueens~Ibee3382887cffebd8a368dc5d411b168be6e7c97,openstack/heat,stable/queens,Ibee3382887cffebd8a368dc5d411b168be6e7c97,DNM Testing sdk bump,ABANDONED,2019-03-20 18:12:16.000000000,2019-07-30 19:59:51.000000000,,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-20 18:12:16.000000000', 'files': ['heat/version.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/c43f1d1ed1b1c61b53374208256e2b3ae89fe350', 'message': 'DNM Testing sdk bump\n\nChange-Id: Ibee3382887cffebd8a368dc5d411b168be6e7c97\nDepends-On: https://review.openstack.org/644960\n'}]",0,644961,c43f1d1ed1b1c61b53374208256e2b3ae89fe350,4,2,1,2,,,0,"DNM Testing sdk bump

Change-Id: Ibee3382887cffebd8a368dc5d411b168be6e7c97
Depends-On: https://review.openstack.org/644960
",git fetch https://review.opendev.org/openstack/heat refs/changes/61/644961/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/version.py'],1,c43f1d1ed1b1c61b53374208256e2b3ae89fe350,,,#,0,1
openstack%2Fdiskimage-builder~master~Ib7a7756c2835dfdeb28b2d7305f8597c80dc13fc,openstack/diskimage-builder,master,Ib7a7756c2835dfdeb28b2d7305f8597c80dc13fc,WIP Build Docker image of diskimage-builder,NEW,2019-02-08 18:06:53.000000000,2019-07-30 19:51:09.000000000,,"[{'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-08 18:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/04044e215d8bd26427e87d1556c412b4674cfd10', 'message': ""WIP Build Docker image of diskimage-builder\n\nUse python-builder to build a docker image of diskimage builder.\n\nThis should potentially go in openstackinfra/diskimage-builder, but\nwe'll need to do secrets for that. For now, just make sure it works\nat all.\n\nChange-Id: Ib7a7756c2835dfdeb28b2d7305f8597c80dc13fc\n""}, {'number': 2, 'created': '2019-02-08 18:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2ec2ed45962dc4b489f928c4fee3877c3fe24c59', 'message': ""WIP Build Docker image of diskimage-builder\n\nUse python-builder to build a docker image of diskimage builder.\n\nThis should potentially go in openstackinfra/diskimage-builder, but\nwe'll need to do secrets for that. For now, just make sure it works\nat all.\n\nChange-Id: Ib7a7756c2835dfdeb28b2d7305f8597c80dc13fc\n""}, {'number': 3, 'created': '2019-02-08 18:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/28f344bcf546b55a897f7bc3afe4bf016c689a42', 'message': ""WIP Build Docker image of diskimage-builder\n\nUse python-builder to build a docker image of diskimage builder.\n\nThis should potentially go in openstackinfra/diskimage-builder, but\nwe'll need to do secrets for that. For now, just make sure it works\nat all.\n\nChange-Id: Ib7a7756c2835dfdeb28b2d7305f8597c80dc13fc\n""}, {'number': 4, 'created': '2019-02-08 19:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8be8723dcb6b54691d1c5625dae50133ac6df723', 'message': ""WIP Build Docker image of diskimage-builder\n\nUse python-builder to build a docker image of diskimage builder.\n\nThis should potentially go in openstackinfra/diskimage-builder, but\nwe'll need to do secrets for that. For now, just make sure it works\nat all.\n\nWe also pull down the stretch-backports repository in order to install\nthe latest version of debootstrap which has support for building\nbionic images.\n\nChange-Id: Ib7a7756c2835dfdeb28b2d7305f8597c80dc13fc\n""}, {'number': 5, 'created': '2019-02-08 22:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/fb4a482204c9d4951ab0511e78e89fca066eb5fa', 'message': ""WIP Build Docker image of diskimage-builder\n\nUse python-builder to build a docker image of diskimage builder.\n\nThis should potentially go in openstackinfra/diskimage-builder, but\nwe'll need to do secrets for that. For now, just make sure it works\nat all.\n\nWe also pull down the stretch-backports repository in order to install\nthe latest version of debootstrap which has support for building\nbionic images.\n\nAlso, build backport packages of zypper.\n\nChange-Id: Ib7a7756c2835dfdeb28b2d7305f8597c80dc13fc\n""}, {'number': 6, 'created': '2019-02-08 22:06:29.000000000', 'files': ['Dockerfile', 'tools/backport-zypper.sh', '.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/fa6e2c23661cea69b599c3ddcf63e77426412461', 'message': ""WIP Build Docker image of diskimage-builder\n\nUse python-builder to build a docker image of diskimage builder.\n\nThis should potentially go in openstackinfra/diskimage-builder, but\nwe'll need to do secrets for that. For now, just make sure it works\nat all.\n\nWe also pull down the stretch-backports repository in order to install\nthe latest version of debootstrap which has support for building\nbionic images.\n\nAlso, build backport packages of zypper.\n\nChange-Id: Ib7a7756c2835dfdeb28b2d7305f8597c80dc13fc\n""}]",0,635908,fa6e2c23661cea69b599c3ddcf63e77426412461,15,3,6,2,,,0,"WIP Build Docker image of diskimage-builder

Use python-builder to build a docker image of diskimage builder.

This should potentially go in openstackinfra/diskimage-builder, but
we'll need to do secrets for that. For now, just make sure it works
at all.

We also pull down the stretch-backports repository in order to install
the latest version of debootstrap which has support for building
bionic images.

Also, build backport packages of zypper.

Change-Id: Ib7a7756c2835dfdeb28b2d7305f8597c80dc13fc
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/08/635908/3 && git format-patch -1 --stdout FETCH_HEAD,"['Dockerfile', '.zuul.d/jobs.yaml']",2,04044e215d8bd26427e87d1556c412b4674cfd10,add-docker-images, - dib-build-image - job: name: dib-build-image parent: build-docker-image description: Build Docker images. vars: &dib_image_vars docker_images: - context: . repository: openstackinfra/diskimage-builder,,35,0
openstack%2Fopenstack-ansible~stable%2Frocky~I156e0143991c79cc2f664a98b6cd22353c01b55d,openstack/openstack-ansible,stable/rocky,I156e0143991c79cc2f664a98b6cd22353c01b55d,Skip boostrap-ansible on upgrades if already run,MERGED,2019-04-25 14:15:08.000000000,2019-07-30 19:47:40.000000000,2019-07-30 19:47:40.000000000,"[{'_account_id': 290}, {'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 30427}]","[{'number': 1, 'created': '2019-04-25 14:15:08.000000000', 'files': ['scripts/run-upgrade.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/81701f80d26495261acfa5a6338bb164f259b55a', 'message': ""Skip boostrap-ansible on upgrades if already run\n\nSkips bootstrap-ansible on a rerun if it has already run\npreviously.\n\nMoves the working directory creation to it's own function\nso that the lock directory is created earlier.\n\nChange-Id: I156e0143991c79cc2f664a98b6cd22353c01b55d\n(cherry picked from commit e4ae0931f19242f947e463b41132826f83c5c278)\n""}]",0,655703,81701f80d26495261acfa5a6338bb164f259b55a,22,5,1,290,,,0,"Skip boostrap-ansible on upgrades if already run

Skips bootstrap-ansible on a rerun if it has already run
previously.

Moves the working directory creation to it's own function
so that the lock directory is created earlier.

Change-Id: I156e0143991c79cc2f664a98b6cd22353c01b55d
(cherry picked from commit e4ae0931f19242f947e463b41132826f83c5c278)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/03/655703/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/run-upgrade.sh'],1,81701f80d26495261acfa5a6338bb164f259b55a,skip_bootstrap_if_ran-stable/rocky,"function create_working_dir { if [ ! -d ""/etc/openstack_deploy/upgrade-${TARGET_SERIES}"" ]; then mkdir -p ""/etc/openstack_deploy/upgrade-${TARGET_SERIES}"" fi } function bootstrap_ansible { if [ ! -f ""/etc/openstack_deploy/upgrade-${TARGET_SERIES}/bootstrap-ansible.complete"" ]; then ""${SCRIPTS_PATH}/bootstrap-ansible.sh"" touch /etc/openstack_deploy/upgrade-${TARGET_SERIES}/bootstrap-ansible.complete else echo ""Ansible has been bootstrapped for ${TARGET_SERIES} already, skipping..."" fi } create_working_dir bootstrap_ansible"," if [ ! -d ""/etc/openstack_deploy/upgrade-${TARGET_SERIES}"" ]; then mkdir -p ""/etc/openstack_deploy/upgrade-${TARGET_SERIES}"" fi ""${SCRIPTS_PATH}/bootstrap-ansible.sh""",17,5
openstack%2Fopenstack-ansible~master~I6f251e1d0af23f865e68b0bf89e1a16c9d25d358,openstack/openstack-ansible,master,I6f251e1d0af23f865e68b0bf89e1a16c9d25d358,Update ansible to 2.8.3,MERGED,2019-07-25 21:01:46.000000000,2019-07-30 19:47:39.000000000,2019-07-30 19:47:38.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-25 21:01:46.000000000', 'files': ['scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3f8a484f18d700ebe5c3bbdcc59326a26f1def0d', 'message': 'Update ansible to 2.8.3\n\nChange-Id: I6f251e1d0af23f865e68b0bf89e1a16c9d25d358\n'}]",0,672824,3f8a484f18d700ebe5c3bbdcc59326a26f1def0d,14,4,1,25023,,,0,"Update ansible to 2.8.3

Change-Id: I6f251e1d0af23f865e68b0bf89e1a16c9d25d358
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/24/672824/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/bootstrap-ansible.sh'],1,3f8a484f18d700ebe5c3bbdcc59326a26f1def0d,osa-update-ansible,"export ANSIBLE_PACKAGE=${ANSIBLE_PACKAGE:-""ansible==2.8.3""}","export ANSIBLE_PACKAGE=${ANSIBLE_PACKAGE:-""ansible==2.8.2""}",1,1
openstack%2Fopenstack-ansible-os_ironic~master~I7adcd474091c02556772f4358d95abc5c9e558b1,openstack/openstack-ansible-os_ironic,master,I7adcd474091c02556772f4358d95abc5c9e558b1,Adding ironic_service_timeout,ABANDONED,2019-04-24 20:03:53.000000000,2019-07-30 19:46:26.000000000,,"[{'_account_id': 1004}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-24 20:03:53.000000000', 'files': ['releasenotes/notes/ironic_service_timeout-b5d71053c469f2bc.yaml', 'templates/ironic-uwsgi.ini.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/3d6018ef2fd94c179634deec3d57de6640f35186', 'message': 'Adding ironic_service_timeout\n\nThe override `ironic_service_timeout` is introduced to allow\nmultiple service components to use the same frontend/backend\ntimeouts. The default value is 60 (seconds).\n\nChange-Id: I7adcd474091c02556772f4358d95abc5c9e558b1\nCloses-Bug: 1826250\n'}]",0,655545,3d6018ef2fd94c179634deec3d57de6640f35186,5,3,1,14552,,,0,"Adding ironic_service_timeout

The override `ironic_service_timeout` is introduced to allow
multiple service components to use the same frontend/backend
timeouts. The default value is 60 (seconds).

Change-Id: I7adcd474091c02556772f4358d95abc5c9e558b1
Closes-Bug: 1826250
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/45/655545/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ironic_service_timeout-b5d71053c469f2bc.yaml', 'templates/ironic-uwsgi.ini.j2', 'defaults/main.yml']",3,3d6018ef2fd94c179634deec3d57de6640f35186,bug/1826250,"# ironic_service_timeout sets the timeout in seconds (without unit) # The unit is added inside templates when needed ironic_service_timeout: ""{{ openstack_service_timeout | default('60') }}""",,12,0
openstack%2Fopenstack-ansible-os_nova~master~Iff287fdd40446dc9c72c14c0234ff2c23c7dc6ac,openstack/openstack-ansible-os_nova,master,Iff287fdd40446dc9c72c14c0234ff2c23c7dc6ac,Adding nova_service_timeout,ABANDONED,2019-04-24 18:57:13.000000000,2019-07-30 19:46:22.000000000,,"[{'_account_id': 1004}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-24 18:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/655ee7862f760870e51be9ec20196b8342d9b708', 'message': 'Adding nova_service_timeout\n\nThe override `nova_service_timeout` is introduced to allow\nmultiple service components to use the same frontend/backend\ntimeouts. The default value is 60 (seconds).\n\nChange-Id: Iff287fdd40446dc9c72c14c0234ff2c23c7dc6ac\nCloses-Bug: 1826250\n'}, {'number': 2, 'created': '2019-04-24 20:16:39.000000000', 'files': ['templates/nova-uwsgi.ini.j2', 'releasenotes/notes/nova_service_timeout-3b2593a7ea7a9359.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/213d866b69a957b25bc492e065d589ac1ab86997', 'message': 'Adding nova_service_timeout\n\nThe override `nova_service_timeout` is introduced to allow\nmultiple service components to use the same frontend/backend\ntimeouts. The default value is 60 (seconds).\n\nChange-Id: Iff287fdd40446dc9c72c14c0234ff2c23c7dc6ac\nCloses-Bug: 1826250\n'}]",0,655534,213d866b69a957b25bc492e065d589ac1ab86997,6,3,2,14552,,,0,"Adding nova_service_timeout

The override `nova_service_timeout` is introduced to allow
multiple service components to use the same frontend/backend
timeouts. The default value is 60 (seconds).

Change-Id: Iff287fdd40446dc9c72c14c0234ff2c23c7dc6ac
Closes-Bug: 1826250
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/34/655534/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/nova-uwsgi.ini.j2', 'releasenotes/notes/releasenotes/notes-3b2593a7ea7a9359.yaml', 'defaults/main.yml']",3,655ee7862f760870e51be9ec20196b8342d9b708,bug/1826250,"# nova_service_timeout sets the timeout in seconds (without unit) # The unit is added inside templates when needed nova_service_timeout: ""{{ openstack_service_timeout | default('60') }}""",,12,0
openstack%2Fopenstack-ansible-os_octavia~master~Ic7d598bf5ac25300e0c85b2e558b47c789f7aeef,openstack/openstack-ansible-os_octavia,master,Ic7d598bf5ac25300e0c85b2e558b47c789f7aeef,Adding octavia_service_timeout,ABANDONED,2019-04-24 19:15:55.000000000,2019-07-30 19:46:19.000000000,,"[{'_account_id': 1004}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-24 19:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/5057bb01e77cbdfde2496b578bb75146a587b544', 'message': 'Adding octavia_service_timeout\n\nThe override `octavia_service_timeout` is introduced to allow\nmultiple service components to use the same frontend/backend\ntimeouts. The default value is 60 (seconds).\n\nChange-Id: Ic7d598bf5ac25300e0c85b2e558b47c789f7aeef\nCloses-Bug: 1826250\n'}, {'number': 2, 'created': '2019-04-24 20:17:57.000000000', 'files': ['releasenotes/notes/octavia_service_timeout-dff0e13010928562.yaml', 'templates/octavia-uwsgi.ini.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/c468e1c5ba105ca033b3eb07ba8a16f69fbd4478', 'message': 'Adding octavia_service_timeout\n\nThe override `octavia_service_timeout` is introduced to allow\nmultiple service components to use the same frontend/backend\ntimeouts. The default value is 60 (seconds).\n\nChange-Id: Ic7d598bf5ac25300e0c85b2e558b47c789f7aeef\nCloses-Bug: 1826250\n'}]",0,655538,c468e1c5ba105ca033b3eb07ba8a16f69fbd4478,6,3,2,14552,,,0,"Adding octavia_service_timeout

The override `octavia_service_timeout` is introduced to allow
multiple service components to use the same frontend/backend
timeouts. The default value is 60 (seconds).

Change-Id: Ic7d598bf5ac25300e0c85b2e558b47c789f7aeef
Closes-Bug: 1826250
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/38/655538/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/octavia-uwsgi.ini.j2', 'releasenotes/notes/releasenotes/notes-dff0e13010928562.yaml', 'defaults/main.yml']",3,5057bb01e77cbdfde2496b578bb75146a587b544,bug/1826250,"# octavia_service_timeout sets the timeout in seconds (without unit) # The unit is added inside templates when needed octavia_service_timeout: ""{{ openstack_service_timeout | default('60') }}""",,12,0
openstack%2Fopenstack-ansible-os_keystone~master~Icb8e51f2a5ec31c3ac3230733908ee8849414d94,openstack/openstack-ansible-os_keystone,master,Icb8e51f2a5ec31c3ac3230733908ee8849414d94,Adding keystone_service_timeout,ABANDONED,2019-04-24 17:10:31.000000000,2019-07-30 19:46:16.000000000,,"[{'_account_id': 1004}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-24 17:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/7ad981c14fdfbf091611ff317d5823fa0872f345', 'message': 'Adding keystone_service_timeout\n\nThe override `keystone_service_timeout` is introduced to allow\nmultiple service components to use the same frontend/backend\ntimeouts. The default value is 60 (seconds).\n\nCloses-Bug: 1826250\n\nChange-Id: Icb8e51f2a5ec31c3ac3230733908ee8849414d94\n'}, {'number': 2, 'created': '2019-04-24 20:07:18.000000000', 'files': ['templates/keystone-uwsgi.ini.j2', 'templates/keystone_nginx.conf.j2', 'templates/keystone-httpd.conf.j2', 'defaults/main.yml', 'releasenotes/notes/keystone_service_timeout-2af90d2c9a592eaf.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/fbeb131b2188b5d0c67917fd54bf5c7cb06c9610', 'message': 'Adding keystone_service_timeout\n\nThe override `keystone_service_timeout` is introduced to allow\nmultiple service components to use the same frontend/backend\ntimeouts. The default value is 60 (seconds).\n\nCloses-Bug: 1826250\n\nChange-Id: Icb8e51f2a5ec31c3ac3230733908ee8849414d94\n'}]",0,655500,fbeb131b2188b5d0c67917fd54bf5c7cb06c9610,7,3,2,14552,,,0,"Adding keystone_service_timeout

The override `keystone_service_timeout` is introduced to allow
multiple service components to use the same frontend/backend
timeouts. The default value is 60 (seconds).

Closes-Bug: 1826250

Change-Id: Icb8e51f2a5ec31c3ac3230733908ee8849414d94
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/00/655500/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/keystone-uwsgi.ini.j2', 'templates/keystone_nginx.conf.j2', 'releasenotes/notes/releasenotes/notes-2af90d2c9a592eaf.yaml', 'templates/keystone-httpd.conf.j2', 'defaults/main.yml']",5,7ad981c14fdfbf091611ff317d5823fa0872f345,bug/1826250,"# keystone_service_timeout sets the timeout in seconds (without unit) # The unit is added inside templates when needed keystone_service_timeout: ""{{ openstack_service_timeout | default('60') }}""",,14,0
openstack%2Fopenstack-ansible-os_mistral~master~Ie2ad65c2645e3f9363ac96ab2f3d61ece38acde8,openstack/openstack-ansible-os_mistral,master,Ie2ad65c2645e3f9363ac96ab2f3d61ece38acde8,Adding mistral_service_timeout,ABANDONED,2019-04-24 20:30:30.000000000,2019-07-30 19:46:14.000000000,,"[{'_account_id': 1004}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-24 20:30:30.000000000', 'files': ['releasenotes/notes/mistral_service_timeout-aa10ae24158a511b.yaml', 'templates/mistral-uwsgi.ini.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/fb8505a647e4c2438616a57b09d7da93ef0f39d5', 'message': 'Adding mistral_service_timeout\n\nThe override `mistral_service_timeout` is introduced to allow\nmultiple service components to use the same frontend/backend\ntimeouts. The default value is 60 (seconds).\n\nChange-Id: Ie2ad65c2645e3f9363ac96ab2f3d61ece38acde8\nCloses-Bug: 1826250\n'}]",0,655561,fb8505a647e4c2438616a57b09d7da93ef0f39d5,5,3,1,14552,,,0,"Adding mistral_service_timeout

The override `mistral_service_timeout` is introduced to allow
multiple service components to use the same frontend/backend
timeouts. The default value is 60 (seconds).

Change-Id: Ie2ad65c2645e3f9363ac96ab2f3d61ece38acde8
Closes-Bug: 1826250
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/61/655561/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/mistral_service_timeout-aa10ae24158a511b.yaml', 'templates/mistral-uwsgi.ini.j2', 'defaults/main.yml']",3,fb8505a647e4c2438616a57b09d7da93ef0f39d5,bug/1826250,"# mistral_service_timeout sets the timeout in seconds (without unit) # The unit is added inside templates when needed mistral_service_timeout: ""{{ openstack_service_timeout | default('60') }}""",,13,1
openstack%2Fopenstack-ansible-os_magnum~master~I881037f97cd5fd2ed25b2959abc1f85eabb56ac6,openstack/openstack-ansible-os_magnum,master,I881037f97cd5fd2ed25b2959abc1f85eabb56ac6,Adding magnum_service_timeout,ABANDONED,2019-04-24 18:46:12.000000000,2019-07-30 19:46:11.000000000,,"[{'_account_id': 1004}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-24 18:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/d034bbd0246b5da4d2767be22983a3aa1f789194', 'message': 'Adding magnum_service_timeout\n\nThe override `magnum_service_timeout` is introduced to allow\nmultiple service components to use the same frontend/backend\ntimeouts. The default value is 60 (seconds).\n\nChange-Id: I881037f97cd5fd2ed25b2959abc1f85eabb56ac6\nCloses-Bug: 1826250\n'}, {'number': 2, 'created': '2019-04-24 20:15:35.000000000', 'files': ['releasenotes/notes/magnum_service_timeout-2e787ebc30a9aeb9.yaml', 'templates/magnum-uwsgi.ini.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/a10b9e7d5e00a5bfc60592305473f572babf1ca1', 'message': 'Adding magnum_service_timeout\n\nThe override `magnum_service_timeout` is introduced to allow\nmultiple service components to use the same frontend/backend\ntimeouts. The default value is 60 (seconds).\n\nChange-Id: I881037f97cd5fd2ed25b2959abc1f85eabb56ac6\nCloses-Bug: 1826250\n'}]",0,655529,a10b9e7d5e00a5bfc60592305473f572babf1ca1,7,3,2,14552,,,0,"Adding magnum_service_timeout

The override `magnum_service_timeout` is introduced to allow
multiple service components to use the same frontend/backend
timeouts. The default value is 60 (seconds).

Change-Id: I881037f97cd5fd2ed25b2959abc1f85eabb56ac6
Closes-Bug: 1826250
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/29/655529/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/magnum-uwsgi.ini.j2', 'releasenotes/notes/releasenotes/notes-2e787ebc30a9aeb9.yaml', 'defaults/main.yml']",3,d034bbd0246b5da4d2767be22983a3aa1f789194,bug/1826250,"# magnum_service_timeout sets the timeout in seconds (without unit) # The unit is added inside templates when needed magnum_service_timeout: ""{{ openstack_service_timeout | default('60') }}""",,13,0
openstack%2Fopenstack-ansible-os_glance~master~Ifb6f2bd4537ceff58808cff937d9d997c1f06a72,openstack/openstack-ansible-os_glance,master,Ifb6f2bd4537ceff58808cff937d9d997c1f06a72,Adding glance_service_timeout,ABANDONED,2019-04-24 18:37:24.000000000,2019-07-30 19:46:08.000000000,,"[{'_account_id': 1004}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-24 18:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/df6f3caac90ce2d2895a5954a25a8bb50dfc0d70', 'message': 'Adding glance_service_timeout\n\nThe override `glance_service_timeout` is introduced to allow\nmultiple service components to use the same frontend/backend\ntimeouts. The default value is 60 (seconds).\n\nChange-Id: Ifb6f2bd4537ceff58808cff937d9d997c1f06a72\nCloses-Bug: 1826250\n'}, {'number': 2, 'created': '2019-04-24 20:11:21.000000000', 'files': ['templates/glance-uwsgi.ini.j2', 'releasenotes/notes/glance_service_timeout-60e3e8133f9d1f8f.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/4b6cd0c0338e32c806f01a3d01d474cf05767a8f', 'message': 'Adding glance_service_timeout\n\nThe override `glance_service_timeout` is introduced to allow\nmultiple service components to use the same frontend/backend\ntimeouts. The default value is 60 (seconds).\n\nChange-Id: Ifb6f2bd4537ceff58808cff937d9d997c1f06a72\nCloses-Bug: 1826250\n'}]",0,655525,4b6cd0c0338e32c806f01a3d01d474cf05767a8f,6,3,2,14552,,,0,"Adding glance_service_timeout

The override `glance_service_timeout` is introduced to allow
multiple service components to use the same frontend/backend
timeouts. The default value is 60 (seconds).

Change-Id: Ifb6f2bd4537ceff58808cff937d9d997c1f06a72
Closes-Bug: 1826250
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/25/655525/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/glance-uwsgi.ini.j2', 'releasenotes/notes/releasenotes/notes-60e3e8133f9d1f8f.yaml', 'defaults/main.yml']",3,df6f3caac90ce2d2895a5954a25a8bb50dfc0d70,bug/1826250,"# glance_service_timeout sets the timeout in seconds (without unit) # The unit is added inside templates when needed glance_service_timeout: ""{{ openstack_service_timeout | default('60') }}""",,12,0
openstack%2Fopenstack-ansible-os_gnocchi~master~I2c952b52c2a812df1b7db96abbeb26092a6db80d,openstack/openstack-ansible-os_gnocchi,master,I2c952b52c2a812df1b7db96abbeb26092a6db80d,Adding gnocchi_service_timeout,ABANDONED,2019-04-24 19:58:14.000000000,2019-07-30 19:46:05.000000000,,"[{'_account_id': 1004}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-24 19:58:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/071f6c6b7eb10f881b0841756c66d85db6c3d996', 'message': 'Adding gnocchi_service_timeout\n\nThe override `gnocchi_service_timeout` is introduced to allow\nmultiple service components to use the same frontend/backend\ntimeouts. The default value is 60 (seconds).\n\nChange-Id: I2c952b52c2a812df1b7db96abbeb26092a6db80d\nCloses-Bug: 1826250\n'}, {'number': 2, 'created': '2019-04-24 20:12:20.000000000', 'files': ['releasenotes/notes/gnocchi_service_timeout-e17c2cfc567e9c32.yaml', 'templates/gnocchi-httpd.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/1375094a4b595ad142564a962c4bfed3e8da0d0e', 'message': 'Adding gnocchi_service_timeout\n\nThe override `gnocchi_service_timeout` is introduced to allow\nmultiple service components to use the same frontend/backend\ntimeouts. The default value is 60 (seconds).\n\nChange-Id: I2c952b52c2a812df1b7db96abbeb26092a6db80d\nCloses-Bug: 1826250\n'}]",0,655544,1375094a4b595ad142564a962c4bfed3e8da0d0e,6,3,2,14552,,,0,"Adding gnocchi_service_timeout

The override `gnocchi_service_timeout` is introduced to allow
multiple service components to use the same frontend/backend
timeouts. The default value is 60 (seconds).

Change-Id: I2c952b52c2a812df1b7db96abbeb26092a6db80d
Closes-Bug: 1826250
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/44/655544/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/releasenotes/notes-e17c2cfc567e9c32.yaml', 'templates/gnocchi-httpd.conf.j2', 'defaults/main.yml']",3,071f6c6b7eb10f881b0841756c66d85db6c3d996,bug/1826250,"# gnocchi_service_timeout sets the timeout in seconds (without unit) # The unit is added inside templates when needed gnocchi_service_timeout: ""{{ openstack_service_timeout | default('60') }}""",,12,1
openstack%2Fopenstack-ansible-os_aodh~master~I819feb9489902329adccde46883dc5c802259df4,openstack/openstack-ansible-os_aodh,master,I819feb9489902329adccde46883dc5c802259df4,Adding aodh_service_timeout,ABANDONED,2019-04-24 17:19:34.000000000,2019-07-30 19:46:03.000000000,,"[{'_account_id': 1004}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-24 17:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/f8b4f24280486468c56bb1820499821c9806be7c', 'message': 'Adding aodh_service_timeout\n\nThe override `aodh_service_timeout` is introduced to allow\nmultiple service components to use the same frontend/backend\ntimeouts. The default value is 60 (seconds).\n\nChange-Id: I819feb9489902329adccde46883dc5c802259df4\nCloses-Bug: 1826250\n'}, {'number': 2, 'created': '2019-04-24 20:06:00.000000000', 'files': ['releasenotes/notes/aodh_service_timeout-14c4560bb5c7c84e.yaml', 'templates/aodh-httpd.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/8a45fb684600eb35079570ec98cc1fa841b62141', 'message': 'Adding aodh_service_timeout\n\nThe override `aodh_service_timeout` is introduced to allow\nmultiple service components to use the same frontend/backend\ntimeouts. The default value is 60 (seconds).\n\nChange-Id: I819feb9489902329adccde46883dc5c802259df4\nCloses-Bug: 1826250\n'}]",0,655503,8a45fb684600eb35079570ec98cc1fa841b62141,7,3,2,14552,,,0,"Adding aodh_service_timeout

The override `aodh_service_timeout` is introduced to allow
multiple service components to use the same frontend/backend
timeouts. The default value is 60 (seconds).

Change-Id: I819feb9489902329adccde46883dc5c802259df4
Closes-Bug: 1826250
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/03/655503/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/releasenotes/notes-14c4560bb5c7c84e.yaml', 'templates/aodh-httpd.conf.j2', 'defaults/main.yml']",3,f8b4f24280486468c56bb1820499821c9806be7c,bug/1826250,"# aodh_service_timeout sets the timeout in seconds (without unit) # The unit is added inside templates when needed aodh_service_timeout: ""{{ openstack_service_timeout | default('60') }}""",,13,1
openstack%2Fopenstack-ansible-os_cinder~master~I57fccb5debbf3a53c9978d55915bda5691be796f,openstack/openstack-ansible-os_cinder,master,I57fccb5debbf3a53c9978d55915bda5691be796f,Adding cinder_service_timeout,ABANDONED,2019-04-24 18:25:08.000000000,2019-07-30 19:46:01.000000000,,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-24 18:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/20583f5bdeffcf8d2ed89dfd53115806f7dcb74b', 'message': 'Adding cinder_service_timeout\n\nThe override `cinder_service_timeout` is introduced to allow\nmultiple service components to use the same frontend/backend\ntimeouts. The default value is 60 (seconds).\n\nChange-Id: I57fccb5debbf3a53c9978d55915bda5691be796f\nCloses-Bug: 1826250\n'}, {'number': 2, 'created': '2019-04-24 20:09:46.000000000', 'files': ['releasenotes/notes/cinder_service_timeout-f2d29a1651683d59.yaml', 'templates/cinder-uwsgi.ini.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/fd6f5d1926c2536100a9f8394344d0571ac2fc6d', 'message': 'Adding cinder_service_timeout\n\nThe override `cinder_service_timeout` is introduced to allow\nmultiple service components to use the same frontend/backend\ntimeouts. The default value is 60 (seconds).\n\nChange-Id: I57fccb5debbf3a53c9978d55915bda5691be796f\nCloses-Bug: 1826250\n'}]",0,655519,fd6f5d1926c2536100a9f8394344d0571ac2fc6d,6,2,2,14552,,,0,"Adding cinder_service_timeout

The override `cinder_service_timeout` is introduced to allow
multiple service components to use the same frontend/backend
timeouts. The default value is 60 (seconds).

Change-Id: I57fccb5debbf3a53c9978d55915bda5691be796f
Closes-Bug: 1826250
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/19/655519/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/cinder-uwsgi.ini.j2', 'releasenotes/notes/releasenotes/notes-f2d29a1651683d59.yaml', 'defaults/main.yml']",3,20583f5bdeffcf8d2ed89dfd53115806f7dcb74b,bug/1826250,"# cinder_service_timeout sets the timeout in seconds (without unit) # The unit is added inside templates when needed cinder_service_timeout: ""{{ openstack_service_timeout | default('60') }}""",,12,0
openstack%2Fopenstack-ansible-os_sahara~master~Ice43fd1f2a6882146d28820176341a65ce87ed49,openstack/openstack-ansible-os_sahara,master,Ice43fd1f2a6882146d28820176341a65ce87ed49,Adding sahara_service_timeout,ABANDONED,2019-04-24 20:42:33.000000000,2019-07-30 19:45:58.000000000,,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-24 20:42:33.000000000', 'files': ['templates/sahara-uwsgi.ini.j2', 'releasenotes/notes/sahara_service_timeout-379dff8d1efcf0c5.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/88c2f3e6430c181f3e7be17fbbb186a4972e4b74', 'message': 'Adding sahara_service_timeout\n\nThe override `sahara_service_timeout` is introduced to allow\nmultiple service components to use the same frontend/backend\ntimeouts. The default value is 60 (seconds).\n\nChange-Id: Ice43fd1f2a6882146d28820176341a65ce87ed49\nCloses-Bug: 1826250\n'}]",0,655567,88c2f3e6430c181f3e7be17fbbb186a4972e4b74,4,2,1,14552,,,0,"Adding sahara_service_timeout

The override `sahara_service_timeout` is introduced to allow
multiple service components to use the same frontend/backend
timeouts. The default value is 60 (seconds).

Change-Id: Ice43fd1f2a6882146d28820176341a65ce87ed49
Closes-Bug: 1826250
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/67/655567/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/sahara-uwsgi.ini.j2', 'releasenotes/notes/sahara_service_timeout-379dff8d1efcf0c5.yaml', 'defaults/main.yml']",3,88c2f3e6430c181f3e7be17fbbb186a4972e4b74,bug/1826250,"# sahara_service_timeout sets the timeout in seconds (without unit) # The unit is added inside templates when needed sahara_service_timeout: ""{{ openstack_service_timeout | default('60') }}""",,12,0
openstack%2Fopenstack-ansible-os_heat~master~Ic8e57e2523073a1a1b8d4bd20efdc2c45660fc49,openstack/openstack-ansible-os_heat,master,Ic8e57e2523073a1a1b8d4bd20efdc2c45660fc49,Adding heat_service_timeout,ABANDONED,2019-04-24 18:41:06.000000000,2019-07-30 19:45:56.000000000,,"[{'_account_id': 1004}, {'_account_id': 14552}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-24 18:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/7e088615e20a1d77cd0743ce870b517b19f947de', 'message': 'Adding heat_service_timeout\n\nThe override `heat_service_timeout` is introduced to allow\nmultiple service components to use the same frontend/backend\ntimeouts. The default value is 60 (seconds).\n\nChange-Id: Ic8e57e2523073a1a1b8d4bd20efdc2c45660fc49\nCloses-Bug: 1826250\n'}, {'number': 2, 'created': '2019-04-24 20:13:36.000000000', 'files': ['releasenotes/notes/heat_service_timeout-8b89d404db4bdb00.yaml', 'templates/heat-uwsgi.ini.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/d52e19abc9d4c9d16e83576984ed6df6a127086a', 'message': 'Adding heat_service_timeout\n\nThe override `heat_service_timeout` is introduced to allow\nmultiple service components to use the same frontend/backend\ntimeouts. The default value is 60 (seconds).\n\nChange-Id: Ic8e57e2523073a1a1b8d4bd20efdc2c45660fc49\nCloses-Bug: 1826250\n'}]",2,655526,d52e19abc9d4c9d16e83576984ed6df6a127086a,11,4,2,14552,,,0,"Adding heat_service_timeout

The override `heat_service_timeout` is introduced to allow
multiple service components to use the same frontend/backend
timeouts. The default value is 60 (seconds).

Change-Id: Ic8e57e2523073a1a1b8d4bd20efdc2c45660fc49
Closes-Bug: 1826250
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/26/655526/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/heat-uwsgi.ini.j2', 'defaults/main.yml', 'releasenotes/notes/releasenotes/notes-8b89d404db4bdb00.yaml']",3,7e088615e20a1d77cd0743ce870b517b19f947de,bug/1826250,"--- features: - | The override `heat_service_timeout` is introduced to allow multiple service components to use the same frontend/backend timeouts, for example haproxy, nginx, uwsgi. The default value is 60 (seconds). ",,12,0
openstack%2Fopenstack-ansible-os_manila~master~I604ec0b84557bd02208bd3e6b93d3a30559a321c,openstack/openstack-ansible-os_manila,master,I604ec0b84557bd02208bd3e6b93d3a30559a321c,Adding manila_service_timeout,ABANDONED,2019-04-24 20:25:14.000000000,2019-07-30 19:45:53.000000000,,"[{'_account_id': 1004}, {'_account_id': 14288}, {'_account_id': 14552}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-24 20:25:14.000000000', 'files': ['templates/manila-uwsgi.ini.j2', 'releasenotes/notes/manila_service_timeout-ab7faec04c5ef788.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/7ede8e76ae8fbe504682877ccf75f6222f9213d9', 'message': 'Adding manila_service_timeout\n\nThe override `manila_service_timeout` is introduced to allow\nmultiple service components to use the same frontend/backend\ntimeouts. The default value is 60 (seconds).\n\nChange-Id: I604ec0b84557bd02208bd3e6b93d3a30559a321c\nCloses-Bug: 1826250\n'}]",0,655559,7ede8e76ae8fbe504682877ccf75f6222f9213d9,8,5,1,14552,,,0,"Adding manila_service_timeout

The override `manila_service_timeout` is introduced to allow
multiple service components to use the same frontend/backend
timeouts. The default value is 60 (seconds).

Change-Id: I604ec0b84557bd02208bd3e6b93d3a30559a321c
Closes-Bug: 1826250
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/59/655559/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/manila-uwsgi.ini.j2', 'releasenotes/notes/manila_service_timeout-ab7faec04c5ef788.yaml', 'defaults/main.yml']",3,7ede8e76ae8fbe504682877ccf75f6222f9213d9,bug/1826250,"# manila_service_timeout sets the timeout in seconds (without unit) # The unit is added inside templates when needed manila_service_timeout: ""{{ openstack_service_timeout | default('60') }}""",,12,0
openstack%2Fnova~master~I11dd1a94054ed29f70330906c1d95967b3de718c,openstack/nova,master,I11dd1a94054ed29f70330906c1d95967b3de718c,"Replace ""integrated-gate-py3"" template with new ""integrated-gate-compute""",MERGED,2019-07-18 19:02:01.000000000,2019-07-30 19:42:41.000000000,2019-07-30 19:42:41.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}]","[{'number': 1, 'created': '2019-07-18 19:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/01157eaf2095250608c17e98aa663daa89858e86', 'message': 'Replace ""integrated-gate-py3"" template with new ""integrated-gate-storage""\n\ntempest-full-py3 job run all services API and scenario tests (non slow)\nand this job is part of Integrated-gate-py3 gate template which run on\nmultiple services (nova, neutron, cinder, glance, placement, swift, keystone)\ncheck and gate pipeline.\nDue to all services tests run in single tempest-full-py3 job, it has\nbeen not so stable. Many times unrelated service test break other\nproject gate.\n\nBut not all those services are dependent of Nova. Dependent in term of\nboth way, not all services used by Nova or use Nova. Nova gate\ndoes not need to run all those independent services tests. It can run only\nNova, Neutron, Cinder and Glance related tests.\n\nIdea here is to make integrated-gate testing more stable without losing\nthe test coverage.\n\nTempest has new ""integrated-gate-compute"" template which will run only\nNova, Neutron, Cinder and Glance related tests[1].\n\nThis commit replaces the ""integrated-gate-py3"" template with new\n""integrated-gate-compute"".\n\nML discussion: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/005871.html\n\n[1] https://opendev.org/openstack/tempest/src/branch/master/.zuul.yaml#L594\n\nChange-Id: I11dd1a94054ed29f70330906c1d95967b3de718c\n'}, {'number': 2, 'created': '2019-07-19 03:09:46.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/153cb54e678af2c4ec81654a0cd8d757400c5dba', 'message': 'Replace ""integrated-gate-py3"" template with new ""integrated-gate-compute""\n\ntempest-full-py3 job run all services API and scenario tests (non slow)\nand this job is part of Integrated-gate-py3 gate template which run on\nmultiple services (nova, neutron, cinder, glance, placement, swift, keystone)\ncheck and gate pipeline.\nDue to all services tests run in single tempest-full-py3 job, it has\nbeen not so stable. Many times unrelated service test break other\nproject gate.\n\nBut not all those services are dependent of Nova. Dependent in term of\nboth way, not all services used by Nova or use Nova. Nova gate\ndoes not need to run all those independent services tests. It can run only\nNova, Neutron, Cinder and Glance related tests.\n\nIdea here is to make integrated-gate testing more stable without losing\nthe test coverage.\n\nTempest has new ""integrated-gate-compute"" template which will run only\nNova, Neutron, Cinder and Glance related tests[1].\n\nThis commit replaces the ""integrated-gate-py3"" template with new\n""integrated-gate-compute"".\n\nML discussion: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/005871.html\n\n[1] https://opendev.org/openstack/tempest/src/branch/master/.zuul.yaml#L594\n\nChange-Id: I11dd1a94054ed29f70330906c1d95967b3de718c\n'}]",6,671551,153cb54e678af2c4ec81654a0cd8d757400c5dba,27,12,2,8556,,,0,"Replace ""integrated-gate-py3"" template with new ""integrated-gate-compute""

tempest-full-py3 job run all services API and scenario tests (non slow)
and this job is part of Integrated-gate-py3 gate template which run on
multiple services (nova, neutron, cinder, glance, placement, swift, keystone)
check and gate pipeline.
Due to all services tests run in single tempest-full-py3 job, it has
been not so stable. Many times unrelated service test break other
project gate.

But not all those services are dependent of Nova. Dependent in term of
both way, not all services used by Nova or use Nova. Nova gate
does not need to run all those independent services tests. It can run only
Nova, Neutron, Cinder and Glance related tests.

Idea here is to make integrated-gate testing more stable without losing
the test coverage.

Tempest has new ""integrated-gate-compute"" template which will run only
Nova, Neutron, Cinder and Glance related tests[1].

This commit replaces the ""integrated-gate-py3"" template with new
""integrated-gate-compute"".

ML discussion: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/005871.html

[1] https://opendev.org/openstack/tempest/src/branch/master/.zuul.yaml#L594

Change-Id: I11dd1a94054ed29f70330906c1d95967b3de718c
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/671551/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,01157eaf2095250608c17e98aa663daa89858e86,refactor-integrated-gate-testing, - integrated-gate-compute - tempest-integrated-compute: - tempest-integrated-compute:, - integrated-gate-py3 - tempest-full-py3: - tempest-full-py3:,3,3
openstack%2Fpuppet-openstack_spec_helper~stable%2Focata~Ieb0d994e9430e5bbb7d9c305e824c14397015807,openstack/puppet-openstack_spec_helper,stable/ocata,Ieb0d994e9430e5bbb7d9c305e824c14397015807,Align stars to fix CI,ABANDONED,2019-07-30 18:16:07.000000000,2019-07-30 19:39:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-07-30 18:16:07.000000000', 'files': ['puppet-openstack_spec_helper.gemspec', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/b338fd7f4bc5f3263083235c288d7c979ab763b1', 'message': ""Align stars to fix CI\n\nDisable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7\n\nThe job is failing because we removed the usage of zuul cloner and it's\nlooking for the old location of p-o-i. We need to update the zuul job\ndefinition in p-o-i, but first we'll need Ieb0d994e9430e5bbb7d9c305e824c14397015807.\n\nAdd upper limit for rspec-puppet-facts\n\n1.9.5 of rspect-puppet-facts introduces a ruby >= 2.1.0 requirement\nwhich doesn't work on centos7. This change add a upper limit if the ruby\nversion doesn't meat this 2.1.0 limit.\n\nChange-Id: Ieb0d994e9430e5bbb7d9c305e824c14397015807\n(cherry picked from commit a06a32d09d6d8925fe4afbf3371ebcd4c80429e3)\n(cherry picked from commit d54fbede62839748ca9a5a83ffe4c1b2faf39b1b)\n""}]",0,673612,b338fd7f4bc5f3263083235c288d7c979ab763b1,3,1,1,3153,,,0,"Align stars to fix CI

Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7

The job is failing because we removed the usage of zuul cloner and it's
looking for the old location of p-o-i. We need to update the zuul job
definition in p-o-i, but first we'll need Ieb0d994e9430e5bbb7d9c305e824c14397015807.

Add upper limit for rspec-puppet-facts

1.9.5 of rspect-puppet-facts introduces a ruby >= 2.1.0 requirement
which doesn't work on centos7. This change add a upper limit if the ruby
version doesn't meat this 2.1.0 limit.

Change-Id: Ieb0d994e9430e5bbb7d9c305e824c14397015807
(cherry picked from commit a06a32d09d6d8925fe4afbf3371ebcd4c80429e3)
(cherry picked from commit d54fbede62839748ca9a5a83ffe4c1b2faf39b1b)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/12/673612/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet-openstack_spec_helper.gemspec', '.zuul.yaml']",2,b338fd7f4bc5f3263083235c288d7c979ab763b1,ci/pike-stable/ocata, check: jobs: - puppet-openstack-libraries-puppet-beaker-rspec-centos-7: voting: false gate: jobs: - puppet-openstack-libraries-puppet-beaker-rspec-centos-7: voting: false,,12,2
openstack%2Fpuppet-openstack_spec_helper~stable%2Fpike~Ieb0d994e9430e5bbb7d9c305e824c14397015807,openstack/puppet-openstack_spec_helper,stable/pike,Ieb0d994e9430e5bbb7d9c305e824c14397015807,Align stars to fix CI,ABANDONED,2019-07-30 18:15:52.000000000,2019-07-30 19:38:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-07-30 18:15:52.000000000', 'files': ['puppet-openstack_spec_helper.gemspec', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/d303d7fd245f2a0f9bceac9f30c734f4e85d6f9e', 'message': ""Align stars to fix CI\n\nDisable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7\n\nThe job is failing because we removed the usage of zuul cloner and it's\nlooking for the old location of p-o-i. We need to update the zuul job\ndefinition in p-o-i, but first we'll need Ieb0d994e9430e5bbb7d9c305e824c14397015807.\n\nAdd upper limit for rspec-puppet-facts\n\n1.9.5 of rspect-puppet-facts introduces a ruby >= 2.1.0 requirement\nwhich doesn't work on centos7. This change add a upper limit if the ruby\nversion doesn't meat this 2.1.0 limit.\n\nChange-Id: Ieb0d994e9430e5bbb7d9c305e824c14397015807\n(cherry picked from commit a06a32d09d6d8925fe4afbf3371ebcd4c80429e3)\n(cherry picked from commit d54fbede62839748ca9a5a83ffe4c1b2faf39b1b)\n""}]",0,673611,d303d7fd245f2a0f9bceac9f30c734f4e85d6f9e,4,1,1,3153,,,0,"Align stars to fix CI

Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7

The job is failing because we removed the usage of zuul cloner and it's
looking for the old location of p-o-i. We need to update the zuul job
definition in p-o-i, but first we'll need Ieb0d994e9430e5bbb7d9c305e824c14397015807.

Add upper limit for rspec-puppet-facts

1.9.5 of rspect-puppet-facts introduces a ruby >= 2.1.0 requirement
which doesn't work on centos7. This change add a upper limit if the ruby
version doesn't meat this 2.1.0 limit.

Change-Id: Ieb0d994e9430e5bbb7d9c305e824c14397015807
(cherry picked from commit a06a32d09d6d8925fe4afbf3371ebcd4c80429e3)
(cherry picked from commit d54fbede62839748ca9a5a83ffe4c1b2faf39b1b)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/11/673611/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet-openstack_spec_helper.gemspec', '.zuul.yaml']",2,d303d7fd245f2a0f9bceac9f30c734f4e85d6f9e,ci/pike, check: jobs: - puppet-openstack-libraries-puppet-beaker-rspec-centos-7: voting: false gate: jobs: - puppet-openstack-libraries-puppet-beaker-rspec-centos-7: voting: false,,12,2
openstack%2Fopenstack-ansible-os_cloudkitty~master~I4cd3270ef873b6f595b151014e82c8b4b35f12aa,openstack/openstack-ansible-os_cloudkitty,master,I4cd3270ef873b6f595b151014e82c8b4b35f12aa,Use systemd-journald instead of log files,MERGED,2019-07-30 14:13:50.000000000,2019-07-30 19:37:08.000000000,2019-07-30 19:37:08.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-30 14:13:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/892a2f9b728314070a6c858a43ce3d87442ec86e', 'message': 'Use systemd-journald instead of log files\n\nThis patch aims to migrate service from usage of regular syslog files\nto journald. We also disable uwsgi logging, since it dublicates\nrequests that are logged by service itself.\n\nChange-Id: I4cd3270ef873b6f595b151014e82c8b4b35f12aa\n'}, {'number': 2, 'created': '2019-07-30 14:16:51.000000000', 'files': ['extras/os-cloudkitty-install.yml', 'templates/cloudkitty.conf.j2', 'templates/cloudkitty-uwsgi.ini.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/6fb1e18a97a6803abf71a8d30e0aaefc5b057d35', 'message': 'Use systemd-journald instead of log files\n\nThis patch aims to migrate service from usage of regular syslog files\nto journald. We also disable uwsgi logging, since it dublicates\nrequests that are logged by service itself.\n\nChange-Id: I4cd3270ef873b6f595b151014e82c8b4b35f12aa\n'}]",0,673530,6fb1e18a97a6803abf71a8d30e0aaefc5b057d35,10,4,2,28619,,,0,"Use systemd-journald instead of log files

This patch aims to migrate service from usage of regular syslog files
to journald. We also disable uwsgi logging, since it dublicates
requests that are logged by service itself.

Change-Id: I4cd3270ef873b6f595b151014e82c8b4b35f12aa
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/30/673530/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/cloudkitty.conf.j2', 'templates/cloudkitty-uwsgi.ini.j2', 'defaults/main.yml']",3,892a2f9b728314070a6c858a43ce3d87442ec86e,use_journalctl,,cloudkitty_log_dir: /var/log/cloudkitty,2,2
openstack%2Fopenstack-ansible-tests~master~Iac130cf465b44a730193547bab4da626cce59e5c,openstack/openstack-ansible-tests,master,Iac130cf465b44a730193547bab4da626cce59e5c,Bump the openstackdocstheme extension to 1.20,MERGED,2019-07-26 07:50:34.000000000,2019-07-30 19:26:00.000000000,2019-07-30 19:26:00.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-07-26 07:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/0f937c4355915ab9ba81bb3212736c283bdaf934', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nChange-Id: Iac130cf465b44a730193547bab4da626cce59e5c\n'}, {'number': 2, 'created': '2019-07-29 03:17:02.000000000', 'files': ['sync/doc/requirements.txt', 'doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/07b736f4072777136e0f8ad804b29d9705707bcd', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release\n\nChange-Id: Iac130cf465b44a730193547bab4da626cce59e5c\n'}]",1,672904,07b736f4072777136e0f8ad804b29d9705707bcd,14,3,2,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release

Change-Id: Iac130cf465b44a730193547bab4da626cce59e5c
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/04/672904/2 && git format-patch -1 --stdout FETCH_HEAD,['sync/doc/requirements.txt'],1,0f937c4355915ab9ba81bb3212736c283bdaf934,openstackdocstheme,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fcharm-guide~master~Iaf249e603c79d28913dee1ba9860ae72439e033d,openstack/charm-guide,master,Iaf249e603c79d28913dee1ba9860ae72439e033d,Add nova-cc ssh changes to 1907 release notes,MERGED,2019-07-24 16:20:24.000000000,2019-07-30 19:25:35.000000000,2019-07-30 19:25:35.000000000,"[{'_account_id': 7730}, {'_account_id': 20635}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2019-07-24 16:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/3e91a0a5675d629545f190b161aa56e25d9be668', 'message': 'Add nova-cc ssh changes to 1907 release notes\n\nChange-Id: Iaf249e603c79d28913dee1ba9860ae72439e033d\n'}, {'number': 2, 'created': '2019-07-26 13:51:20.000000000', 'files': ['doc/source/1907.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/f6b7159b353c1e53aaad9dcff2c4585af1432490', 'message': 'Add nova-cc ssh changes to 1907 release notes\n\nChange-Id: Iaf249e603c79d28913dee1ba9860ae72439e033d\n'}]",3,672558,f6b7159b353c1e53aaad9dcff2c4585af1432490,13,5,2,20870,,,0,"Add nova-cc ssh changes to 1907 release notes

Change-Id: Iaf249e603c79d28913dee1ba9860ae72439e033d
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/58/672558/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/1907.rst'],1,3e91a0a5675d629545f190b161aa56e25d9be668,19.07-release-notes,"nova-cloud-controller: improved SSH knownhosts and key handling for migration support ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The Nova compute service uses direct machine-to-machine SSH to perform migrations. This means that each machine needs to have its SSH key distributed to every other compute unit, and also for the knownhosts to be populated so that the SSH connection is secure. This release of the nova-cloud-controller charm has a re-worked SSH discovery and distribution system which streamlines the process. This means that the deployment of multiple nova-compute hosts is accelerated, and that the upgrade-charm hook should run much more quickly. An EXPERIMENTAL option is the caching of SSH host lookups (for the knownhosts files for each machine). The config key is ``cache-known-hosts``, and if set, then the hosts lookups for each compute unit is performed *once*. As this is (potentially) an time-expensive operation. A new action ``clear-unit-knownhost-cache`` is provided to clear the cache for a unit, service or entire nova-cloud-controller application. This is provided if DNS resolution has changed in the cloud or DNS resolution changed during deployment leading to an inconsistent set of knownhosts files. Note that using the action *causes* DNS resolution to be performed for unit/service/application, thus (potentially) triggering a relation-set on the nova-cloud-controller unit(s) and subsequent changed hook on the related nova-compute units. In a high-available setup, the action should be run on *all** the nova-cloud-controller units. The action is used as follows: juju run-action nova-cloud-controller/0 clear-unit-knownhost-cache juju run-action nova-cloud-controller/0 clear-unit-knownhost-cache target=nova-compute juju run-action nova-cloud-controller/0 clear-unit-knownhost-cache target=nova-compute/2 .. note:: if the config option ``cache-known-hosts`` is not set, then the action is not needed. Also, an OpenStack cloud can be deployed with the option set to ``false``, and when deployment is complete, can be set to ``true``. The hosts will already be cached at that point. The config option only controls *whether* the cache is used. ",,43,0
openstack%2Foctavia-lib~master~Ie04d6358b9651dfc98ad4533e68ba3aed5398eb2,openstack/octavia-lib,master,Ie04d6358b9651dfc98ad4533e68ba3aed5398eb2,Bump the openstackdocstheme extension to 1.20,MERGED,2019-07-26 06:36:22.000000000,2019-07-30 19:19:34.000000000,2019-07-30 19:19:34.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-26 06:36:22.000000000', 'files': ['doc/source/conf.py', 'doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/cf60c08ab0cef79044481565788f028de2b72099', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: Ie04d6358b9651dfc98ad4533e68ba3aed5398eb2\n'}]",0,672879,cf60c08ab0cef79044481565788f028de2b72099,7,3,1,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: Ie04d6358b9651dfc98ad4533e68ba3aed5398eb2
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/79/672879/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'doc/requirements.txt', 'releasenotes/source/conf.py']",3,cf60c08ab0cef79044481565788f028de2b72099,openstackdocstheme,,"project = u'octavia_lib Release Notes'html_last_updated_fmt = '%Y-%m-%d %H:%M' # The version info for the project you're documenting, acts as replacement for # |version| and |release|, also used in various other places throughout the # built documents. # # The short X.Y version. # The full version, including alpha/beta/rc tags. release = '' # The short X.Y version. version = ''latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } ",4,30
openstack%2Fpuppet-openstack_spec_helper~master~Ieb0d994e9430e5bbb7d9c305e824c14397015807,openstack/puppet-openstack_spec_helper,master,Ieb0d994e9430e5bbb7d9c305e824c14397015807,Align stars to fix CI,MERGED,2019-07-29 21:25:04.000000000,2019-07-30 19:17:42.000000000,2019-07-30 19:17:42.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-29 21:25:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/9e4150dec86e55e7598cb34c17ac82558c4b5f2b', 'message': ""Add upper limit for rspec-puppet-facts\n\n1.9.5 of rspect-puppet-facts introduces a ruby >= 2.1.0 requirement\nwhich doesn't work on centos7. This change add a upper limit if the ruby\nversion doesn't meat this 2.1.0 limit.\n\nChange-Id: Ieb0d994e9430e5bbb7d9c305e824c14397015807\n""}, {'number': 2, 'created': '2019-07-30 12:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/a3bcde4952b087fd6ff8e1e7a548e657856f31e2', 'message': ""Add upper limit for rspec-puppet-facts\n\n1.9.5 of rspect-puppet-facts introduces a ruby >= 2.1.0 requirement\nwhich doesn't work on centos7. This change add a upper limit if the ruby\nversion doesn't meat this 2.1.0 limit.\n\nChange-Id: Ieb0d994e9430e5bbb7d9c305e824c14397015807\n""}, {'number': 3, 'created': '2019-07-30 12:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/3fd541034c5d5c4f9196e13a16d3e3f6b250d0e0', 'message': ""Add upper limit for rspec-puppet-facts\n\n1.9.5 of rspect-puppet-facts introduces a ruby >= 2.1.0 requirement\nwhich doesn't work on centos7. This change add a upper limit if the ruby\nversion doesn't meat this 2.1.0 limit.\n\nChange-Id: Ieb0d994e9430e5bbb7d9c305e824c14397015807\n""}, {'number': 4, 'created': '2019-07-30 13:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/a3c845cb3b0b829a0c1dcec1ec4a4c4f14ba7774', 'message': ""Add upper limit for rspec-puppet-facts\n\n1.9.5 of rspect-puppet-facts introduces a ruby >= 2.1.0 requirement\nwhich doesn't work on centos7. This change add a upper limit if the ruby\nversion doesn't meat this 2.1.0 limit.\n\nChange-Id: Ieb0d994e9430e5bbb7d9c305e824c14397015807\n""}, {'number': 5, 'created': '2019-07-30 18:00:59.000000000', 'files': ['puppet-openstack_spec_helper.gemspec', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/a06a32d09d6d8925fe4afbf3371ebcd4c80429e3', 'message': ""Align stars to fix CI\n\nDisable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7\n\nThe job is failing because we removed the usage of zuul cloner and it's\nlooking for the old location of p-o-i. We need to update the zuul job\ndefinition in p-o-i, but first we'll need Ieb0d994e9430e5bbb7d9c305e824c14397015807.\n\nAdd upper limit for rspec-puppet-facts\n\n1.9.5 of rspect-puppet-facts introduces a ruby >= 2.1.0 requirement\nwhich doesn't work on centos7. This change add a upper limit if the ruby\nversion doesn't meat this 2.1.0 limit.\n\nChange-Id: Ieb0d994e9430e5bbb7d9c305e824c14397015807\n""}]",0,673367,a06a32d09d6d8925fe4afbf3371ebcd4c80429e3,20,4,5,14985,,,0,"Align stars to fix CI

Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7

The job is failing because we removed the usage of zuul cloner and it's
looking for the old location of p-o-i. We need to update the zuul job
definition in p-o-i, but first we'll need Ieb0d994e9430e5bbb7d9c305e824c14397015807.

Add upper limit for rspec-puppet-facts

1.9.5 of rspect-puppet-facts introduces a ruby >= 2.1.0 requirement
which doesn't work on centos7. This change add a upper limit if the ruby
version doesn't meat this 2.1.0 limit.

Change-Id: Ieb0d994e9430e5bbb7d9c305e824c14397015807
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/67/673367/4 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,9e4150dec86e55e7598cb34c17ac82558c4b5f2b,fix-ci," # TODO(aschultz): 1.9.5 requires ruby >= 2.1.0 which breaks on centos7 rspec_puppet_facts_version = RUBY_VERSION < '2.1.0' ? ['>= 1.7.0', '< 1.9.5'] : ['>= 1.7.0'] spec.add_dependency 'rspec-puppet-facts', rspec_puppet_facts_version"," spec.add_dependency 'rspec-puppet-facts', ['>= 1.7.0']",3,1
openstack%2Fopenstack-ansible-plugins~master~I3f7038f3add6a05c2b2fb038818aa92d370e2e81,openstack/openstack-ansible-plugins,master,I3f7038f3add6a05c2b2fb038818aa92d370e2e81,Removing unused filters from osa plugins,MERGED,2019-07-26 11:23:12.000000000,2019-07-30 19:08:40.000000000,2019-07-30 19:08:40.000000000,"[{'_account_id': 1004}, {'_account_id': 21785}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-26 11:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/e52852048fc37ffc2cb954c0ffbd337614c6bb1f', 'message': 'Removing unused filters from osa plugins\n\npip_requirement_names filter has no reference inside OSA\nhence removing the same.\n\nChange-Id: I3f7038f3add6a05c2b2fb038818aa92d370e2e81\nPartial-Bug: 1826249\n'}, {'number': 2, 'created': '2019-07-26 11:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/d1a155e1f30894e6d2184e1c711e4c7ec96f3864', 'message': 'Removing unused filters from osa plugins\n\npip_requirement_names filter has no reference inside OSA\nhence removing the same.\n\nChange-Id: I3f7038f3add6a05c2b2fb038818aa92d370e2e81\nPartial-Bug: 1826249\n'}, {'number': 3, 'created': '2019-07-26 11:59:39.000000000', 'files': ['filter/osa-filters.py', 'doc/source/filters.rst', 'tests/test-filters.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/aba5c08446db1016f142bb988071cc491425cb05', 'message': 'Removing unused filters from osa plugins\n\npip_requirement_names filter has no reference inside OSA\nhence removing the same.\n\nChange-Id: I3f7038f3add6a05c2b2fb038818aa92d370e2e81\nPartial-Bug: 1826245\n'}]",7,672955,aba5c08446db1016f142bb988071cc491425cb05,13,5,3,21785,,,0,"Removing unused filters from osa plugins

pip_requirement_names filter has no reference inside OSA
hence removing the same.

Change-Id: I3f7038f3add6a05c2b2fb038818aa92d370e2e81
Partial-Bug: 1826245
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/55/672955/1 && git format-patch -1 --stdout FETCH_HEAD,"['filter/osa-filters.py', 'doc/source/filters.rst', 'tests/test-filters.yml']",3,e52852048fc37ffc2cb954c0ffbd337614c6bb1f,bug/1826245," pip_package_list_1_names_filtered: ""{{ pip_package_list_1}}"""," pip_package_list_1_names_filtered: ""{{ pip_package_list_1 | pip_requirement_names }}""",1,35
openstack%2Ftripleo-heat-templates~stable%2Fstein~I480786ed4d6b0a5544535ce232ae8206d04299b1,openstack/tripleo-heat-templates,stable/stein,I480786ed4d6b0a5544535ce232ae8206d04299b1,Correct jinja loop logic for role_networks,MERGED,2019-07-27 16:34:10.000000000,2019-07-30 18:55:47.000000000,2019-07-30 18:55:47.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-27 16:34:10.000000000', 'files': ['environments/network-isolation.j2.yaml', 'network/config/single-nic-linux-bridge-vlans/role.role.j2.yaml', 'environments/network-isolation-v6.j2.yaml', 'network/config/bond-with-vlans/role.role.j2.yaml', 'network/config/multiple-nics/role.role.j2.yaml', 'environments/network-isolation-no-tunneling.j2.yaml', 'network/config/single-nic-vlans/role.role.j2.yaml', 'network/config/2-linux-bonds-vlans/role.role.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7bedd167e9dace1698fa11cb5ce2fb890b8dc6f3', 'message': ""Correct jinja loop logic for role_networks\n\nThe `_role_networks` variable in network loops was being defined and then\npotentially redefined in a larger loop. If this option is first populated\nwith a None type and then later discovers a hash the deployment will fail\nwith a stack trace:\n\n    'None' has no attribute 'append'\n\nA full traceback from the error can be seen here[0]. To reolsve this\nissue the empty array, `_role_networks` has been moved into the\n`role.networks` case statement which will ensure the option is type safe\nfor every round.\n\n[0] - https://pasted.tech/pastes/edba7903977c841901c0e655850d4f8b08b32e6c.raw\n\nCloses-Bug: #1831885\nChange-Id: I480786ed4d6b0a5544535ce232ae8206d04299b1\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 8833c2da2dcd7c78282d0d5494bb6280f03dd115)\n""}]",0,673148,7bedd167e9dace1698fa11cb5ce2fb890b8dc6f3,9,5,1,7353,,,0,"Correct jinja loop logic for role_networks

The `_role_networks` variable in network loops was being defined and then
potentially redefined in a larger loop. If this option is first populated
with a None type and then later discovers a hash the deployment will fail
with a stack trace:

    'None' has no attribute 'append'

A full traceback from the error can be seen here[0]. To reolsve this
issue the empty array, `_role_networks` has been moved into the
`role.networks` case statement which will ensure the option is type safe
for every round.

[0] - https://pasted.tech/pastes/edba7903977c841901c0e655850d4f8b08b32e6c.raw

Closes-Bug: #1831885
Change-Id: I480786ed4d6b0a5544535ce232ae8206d04299b1
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 8833c2da2dcd7c78282d0d5494bb6280f03dd115)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/673148/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/network-isolation.j2.yaml', 'network/config/single-nic-linux-bridge-vlans/role.role.j2.yaml', 'environments/network-isolation-v6.j2.yaml', 'network/config/bond-with-vlans/role.role.j2.yaml', 'network/config/multiple-nics/role.role.j2.yaml', 'environments/network-isolation-no-tunneling.j2.yaml', 'network/config/single-nic-vlans/role.role.j2.yaml', 'network/config/2-linux-bonds-vlans/role.role.j2.yaml']",8,7bedd167e9dace1698fa11cb5ce2fb890b8dc6f3,bug/1831885-stable/stein,"{%- set _role_networks = [] %} {%- for key, val in role.networks.items() %} {%- set _ = _role_networks.append(key) %}","{%- set _role_networks = [] %}{%- for key,val in role.networks.items() %} {%- set _role_networks = _role_networks.append(key) %}",24,24
openstack%2Fneutron~stable%2Frocky~Ic9b17a420068c0c76748e2c24d97be1ed7c460c7,openstack/neutron,stable/rocky,Ic9b17a420068c0c76748e2c24d97be1ed7c460c7,Don't crash ovs agent during reconfigure of phys bridges,MERGED,2019-07-28 07:46:00.000000000,2019-07-30 18:49:34.000000000,2019-07-30 18:49:33.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 30103}]","[{'number': 1, 'created': '2019-07-28 07:46:00.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/41db09c434281977fb02196278613b1284990525', 'message': ""Don't crash ovs agent during reconfigure of phys bridges\n\nIn case when physical bridge was recreated on host, ovs agent\nis trying to reconfigure it.\nIf there will be e.g. timeout while getting bridge's datapath_id,\nRuntimeError will be raised and that caused crash of whole agent.\n\nThis patch changes that to not crash agent in such case but try to\nreconfigure everything in next rpc_loop iteration once again.\n\nConflicts:\n    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py\n    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py\n\nChange-Id: Ic9b17a420068c0c76748e2c24d97be1ed7c460c7\nCloses-Bug: #1837380\n(cherry picked from commit b63809715a0b9b8ea0f354dfd6f1b3fd7a713352)\n""}]",0,673161,41db09c434281977fb02196278613b1284990525,16,6,1,11975,,,0,"Don't crash ovs agent during reconfigure of phys bridges

In case when physical bridge was recreated on host, ovs agent
is trying to reconfigure it.
If there will be e.g. timeout while getting bridge's datapath_id,
RuntimeError will be raised and that caused crash of whole agent.

This patch changes that to not crash agent in such case but try to
reconfigure everything in next rpc_loop iteration once again.

Conflicts:
    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py
    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py

Change-Id: Ic9b17a420068c0c76748e2c24d97be1ed7c460c7
Closes-Bug: #1837380
(cherry picked from commit b63809715a0b9b8ea0f354dfd6f1b3fd7a713352)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/61/673161/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",2,41db09c434281977fb02196278613b1284990525,bug/1837380," def _test_ext_br_recreated(self, setup_bridges_side_effect): bridges_added = ['br-ex0'] expected_added_bridges = ( bridges_added if setup_bridges_side_effect else []) bm_mock.bridges_added = bridges_added setup_physical_bridges.side_effect = setup_bridges_side_effect # Setup bridges should be called once even if it will raise Runtime # Error because there is raised TypeError in _agent_has_updates to stop # agent after first loop iteration setup_physical_bridges.assert_called_once_with({'physnet0': 'br-ex0'}) self.assertEqual(expected_added_bridges, self.agent.added_bridges) def test_ext_br_recreated(self): self._test_ext_br_recreated(setup_bridges_side_effect=None) def test_ext_br_recreated_fail_setup_physical_bridge(self): self._test_ext_br_recreated(setup_bridges_side_effect=RuntimeError)", def test_ext_br_recreated(self): bm_mock.bridges_added = ['br-ex0'] setup_physical_bridges.assert_called_once_with( {'physnet0': 'br-ex0'}),37,5
openstack%2Fkeystone~master~I9802c8a5c187bae16de89893ca8639b01cd7cb1b,openstack/keystone,master,I9802c8a5c187bae16de89893ca8639b01cd7cb1b,Add new attribute to the federation protocol API,MERGED,2019-02-15 20:59:02.000000000,2019-07-30 18:49:30.000000000,2019-07-30 18:49:30.000000000,"[{'_account_id': 2903}, {'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 29369}]","[{'number': 1, 'created': '2019-02-15 20:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/306f3ca6c9412b338583cfbad1b63ac161b2cc63', 'message': 'Add new attribute to the federation protocol API\n\nModify the FederationProtocolModel class and add the\nremote_id_atributte to the federation_protocol table.\n\nWIP\n\nChange-Id: I9802c8a5c187bae16de89893ca8639b01cd7cb1b\n'}, {'number': 2, 'created': '2019-02-15 22:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/049a4c1e52e44e65b03979aa227aa45692a2eb23', 'message': 'Add new attribute to the federation protocol API\n\nModify the FederationProtocolModel class and add the\nremote_id_atributte to the federation_protocol table.\nAnd add the respective migration files.\n\nWIP\n\nChange-Id: I9802c8a5c187bae16de89893ca8639b01cd7cb1b\n'}, {'number': 3, 'created': '2019-02-15 22:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a90a8fa97e963dd35ca54cdae965f4a70de2364c', 'message': 'Add new attribute to the federation protocol API\n\nModify the FederationProtocolModel class and add the\nremote_id_atributte to the federation_protocol table.\nAnd add the respective migration files.\n\nChange-Id: I9802c8a5c187bae16de89893ca8639b01cd7cb1b\n'}, {'number': 4, 'created': '2019-02-16 14:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2fbf6dd03d6c23f23bb34fc251dc520895a4c519', 'message': 'Add new attribute to the federation protocol API\n\nModify the FederationProtocolModel class and add the\nremote_id_atributte to the federation_protocol table.\nAnd add the respective migration files.\n\nChange-Id: I9802c8a5c187bae16de89893ca8639b01cd7cb1b\n'}, {'number': 5, 'created': '2019-02-19 20:34:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/bd08cce4702b6ff31d3ad587d4a5dc43e7da5cad', 'message': 'Add new attribute to the federation protocol API\n\nModify the FederationProtocolModel class and add the\nremote_id_atributte to the federation_protocol table.\nAnd add the respective migration and tests files.\n\nPartial-bug: #1724645\n\nChange-Id: I9802c8a5c187bae16de89893ca8639b01cd7cb1b\n'}, {'number': 6, 'created': '2019-02-21 11:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/511d0737c1e6055ee0a6ba221cb95cf87b33c3aa', 'message': 'Add new attribute to the federation protocol API\n\nModify the FederationProtocolModel class and add the\nremote_id_atributte to the federation_protocol table.\nAnd add the respective migration and tests files.\n\nPartial-bug: #1724645\n\nChange-Id: I9802c8a5c187bae16de89893ca8639b01cd7cb1b\n'}, {'number': 7, 'created': '2019-02-21 16:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0752e443356e003a6c87c13a764be785ca6c146c', 'message': 'Add new attribute to the federation protocol API\n\nModify the FederationProtocolModel class and add the\nremote_id_atributte to the federation_protocol table.\nAdd the respective migration and tests files. And\nalso modify the schema to expect a remote_it_attribute\nproperty.\n\nPartial-bug: #1724645\n\nChange-Id: I9802c8a5c187bae16de89893ca8639b01cd7cb1b\n'}, {'number': 8, 'created': '2019-02-27 22:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9ae747cc85d9c206c13922f2e59659956fcebdca', 'message': 'Add new attribute to the federation protocol API\n\nModify the FederationProtocolModel class and add the\nremote_id_atributte to the federation_protocol table.\nAdd the respective migration and tests files. And\nalso modify the schema to expect a remote_it_attribute\nproperty.\n\nPartial-bug: #1724645\n\nChange-Id: I9802c8a5c187bae16de89893ca8639b01cd7cb1b\n'}, {'number': 9, 'created': '2019-03-14 20:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2aaa5071a97ef5a7049ed21013d2b72b8567a536', 'message': 'Add new attribute to the federation protocol API\n\nModify the FederationProtocolModel class and add the\nremote_id_atributte to the federation_protocol table.\nAdd the respective migration and tests files. And\nalso modify the schema to expect a remote_it_attribute\nproperty.\n\nPartial-bug: #1724645\n\nChange-Id: I9802c8a5c187bae16de89893ca8639b01cd7cb1b\n'}, {'number': 10, 'created': '2019-03-18 12:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ac4a5cc86258f99aabf9f796e31849202b3e1a37', 'message': 'Add new attribute to the federation protocol API\n\nModify the FederationProtocolModel class and add the\nremote_id_atributte to the federation_protocol table.\nAdd the respective migration and tests files. And\nalso modify the schema to expect a remote_it_attribute\nproperty.\n\nPartial-bug: #1724645\n\nChange-Id: I9802c8a5c187bae16de89893ca8639b01cd7cb1b\n'}, {'number': 11, 'created': '2019-03-18 15:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c5caf424aed29c35aa94ddd3eac9ed6d017323f5', 'message': 'Add new attribute to the federation protocol API\n\nModify the FederationProtocolModel class and add the\nremote_id_atributte to the federation_protocol table.\nAdd the respective migration and tests files. And\nalso modify the schema to expect a remote_it_attribute\nproperty.\n\nCloses-bug: #1724645\n\nChange-Id: I9802c8a5c187bae16de89893ca8639b01cd7cb1b\n'}, {'number': 12, 'created': '2019-03-19 15:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5a2a3144c0b3de5186fc2ab2d5a4978cdaa8359a', 'message': 'Add new attribute to the federation protocol API\n\nModify the FederationProtocolModel class and add the\nremote_id_atributte to the federation_protocol table.\nAdd the respective migration and tests files. And\nalso modify the schema to expect a remote_it_attribute\nproperty.\n\nCloses-bug: #1724645\n\nChange-Id: I9802c8a5c187bae16de89893ca8639b01cd7cb1b\n'}, {'number': 13, 'created': '2019-04-10 20:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d295b798f8303d060943a71cba062ccd9aae0244', 'message': 'Add new attribute to the federation protocol API\n\nModify the FederationProtocolModel class and add the\nremote_id_atributte to the federation_protocol table.\nAdd the respective migration and tests files. And\nalso modify the schema to expect a remote_it_attribute\nproperty.\n\nCloses-bug: #1724645\n\nChange-Id: I9802c8a5c187bae16de89893ca8639b01cd7cb1b\n'}, {'number': 14, 'created': '2019-04-10 20:53:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e64236cd792eee154824615ab283e79508b9d7a5', 'message': 'Add new attribute to the federation protocol API\n\nModify the FederationProtocolModel class and add the\nremote_id_atributte to the federation_protocol table.\nAdd the respective migration and tests files. And\nalso modify the schema to expect a remote_it_attribute\nproperty.\n\nCloses-bug: #1724645\n\nChange-Id: I9802c8a5c187bae16de89893ca8639b01cd7cb1b\n'}, {'number': 15, 'created': '2019-04-10 20:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9e6277acf3401b7adb7619352759324b5eed34d0', 'message': 'Add new attribute to the federation protocol API\n\nModify the FederationProtocolModel class and add the\nremote_id_atributte to the federation_protocol table.\nAdd the respective migration and tests files. And\nalso modify the schema to expect a remote_it_attribute\nproperty.\n\nCloses-bug: #1724645\n\nChange-Id: I9802c8a5c187bae16de89893ca8639b01cd7cb1b\n'}, {'number': 16, 'created': '2019-04-10 21:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d60c2ab1e3bbdfbb0cf6f5a40bd54e0dd655e443', 'message': 'Add new attribute to the federation protocol API\n\nModify the FederationProtocolModel class and add the\nremote_id_atributte to the federation_protocol table.\nAdd the respective migration and tests files. And\nalso modify the schema to expect a remote_it_attribute\nproperty.\nAdd two tests in test_v3_federation.py for getting and\nupdating the protocol and then attempt to get the\nunscoped token from the cli and also for horizon too.\n\nCloses-bug: #1724645\n\nChange-Id: I9802c8a5c187bae16de89893ca8639b01cd7cb1b\n'}, {'number': 17, 'created': '2019-04-13 03:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/87302d9d15ec2f7768487f1b177268fa5eb0be18', 'message': 'Add new attribute to the federation protocol API\n\nModify the FederationProtocolModel class and add the\nremote_id_atributte to the federation_protocol table.\nAdd the respective migration and tests files. And\nalso modify the schema to expect a remote_it_attribute\nproperty.\nAdd two tests in test_v3_federation.py for getting and\nupdating the protocol and then attempt to get the\nunscoped token from the cli and also for horizon too.\n\nCloses-bug: #1724645\n\nChange-Id: I9802c8a5c187bae16de89893ca8639b01cd7cb1b\n'}, {'number': 18, 'created': '2019-04-14 22:20:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a7fc19fc4f8e2f533d6e939fc8e5436e846fea00', 'message': 'Add new attribute to the federation protocol API\n\nModify the FederationProtocolModel class and add the\nremote_id_atributte to the federation_protocol table.\nAdd the respective migration and tests files. And\nalso modify the schema to expect a remote_it_attribute\nproperty.\nAdd two tests in test_v3_federation.py for getting and\nupdating the protocol and then attempt to get the\nunscoped token from the cli and also for horizon too.\n\nCloses-bug: #1724645\n\nChange-Id: I9802c8a5c187bae16de89893ca8639b01cd7cb1b\n'}, {'number': 19, 'created': '2019-06-18 21:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d2c6831b95365509995419ec7c41a640b631f6d8', 'message': 'Add new attribute to the federation protocol API\n\nModify the FederationProtocolModel class and add the\nremote_id_atributte to the federation_protocol table.\nAdd the respective migration and tests files. And\nalso modify the schema to expect a remote_it_attribute\nproperty.\n\nCloses-bug: #1724645\n\nChange-Id: I9802c8a5c187bae16de89893ca8639b01cd7cb1b\n'}, {'number': 20, 'created': '2019-07-16 15:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ce40ab24ed4d772454e9e8e43789e5c3fc38752d', 'message': 'Add new attribute to the federation protocol API\n\nModify the FederationProtocolModel class and add the\nremote_id_atributte to the federation_protocol table.\nAdd the respective migration and tests files. And\nalso modify the schema to expect a remote_it_attribute\nproperty.\n\nCloses-bug: #1724645\n\nChange-Id: I9802c8a5c187bae16de89893ca8639b01cd7cb1b\n'}, {'number': 21, 'created': '2019-07-17 17:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a0cc8fc40a7e388e4452315e3e416a96a022d5bc', 'message': 'Add new attribute to the federation protocol API\n\nModify the FederationProtocolModel class and add the\nremote_id_atributte to the federation_protocol table.\nAdd the respective migration and tests files. And\nalso modify the schema to expect a remote_id_attribute\nproperty.\n\nCloses-bug: #1724645\n\nCo-authored-by: Colleen Murphy<colleen@gazlene.net>\n\nChange-Id: I9802c8a5c187bae16de89893ca8639b01cd7cb1b\n'}, {'number': 22, 'created': '2019-07-19 17:46:35.000000000', 'files': ['keystone/common/sql/data_migration_repo/versions/064_migrate_add_remote_id_attribute_to_federation_protocol_table.py', 'keystone/federation/utils.py', 'keystone/tests/unit/test_backend_federation_sql.py', 'keystone/federation/schema.py', 'keystone/api/auth.py', 'keystone/tests/unit/test_sql_upgrade.py', 'keystone/common/sql/expand_repo/versions/064_expand_add_remote_id_attribute_to_federation_protocol_table.py', 'keystone/tests/unit/test_v3_federation.py', 'keystone/common/sql/contract_repo/versions/064_contract_add_remote_id_attribute_to_federation_protocol_table.py', 'api-ref/source/v3-ext/federation.inc', 'keystone/federation/backends/sql.py', 'releasenotes/notes/bug-1724645-a94659dfd0f45b9a.yaml', 'keystone/conf/federation.py', 'keystone/tests/unit/federation/test_core.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/bf67b3c88409d2f0b2086d363ed91394953d85ba', 'message': 'Add new attribute to the federation protocol API\n\nModify the FederationProtocolModel class and add the\nremote_id_atributte to the federation_protocol table.\nAdd the respective migration and tests files. And\nalso modify the schema to expect a remote_id_attribute\nproperty.\n\nCloses-bug: #1724645\n\nCo-authored-by: Colleen Murphy<colleen@gazlene.net>\n\nChange-Id: I9802c8a5c187bae16de89893ca8639b01cd7cb1b\n'}]",20,637305,bf67b3c88409d2f0b2086d363ed91394953d85ba,71,6,22,29369,,,0,"Add new attribute to the federation protocol API

Modify the FederationProtocolModel class and add the
remote_id_atributte to the federation_protocol table.
Add the respective migration and tests files. And
also modify the schema to expect a remote_id_attribute
property.

Closes-bug: #1724645

Co-authored-by: Colleen Murphy<colleen@gazlene.net>

Change-Id: I9802c8a5c187bae16de89893ca8639b01cd7cb1b
",git fetch https://review.opendev.org/openstack/keystone refs/changes/05/637305/16 && git format-patch -1 --stdout FETCH_HEAD,['keystone/federation/backends/sql.py'],1,306f3ca6c9412b338583cfbad1b63ac161b2cc63,bug/1724645," attributes = ['id', 'idp_id', 'mapping_id', 'remote_id_attribute'] remote_id_attribute = sql.Column(sql.String(64))"," attributes = ['id', 'idp_id', 'mapping_id']",2,1
openstack%2Fnova~master~I21cba258e4ad55681468c66060f4e0c1f4becbd4,openstack/nova,master,I21cba258e4ad55681468c66060f4e0c1f4becbd4,Run 'tempest-ipv6-only' job in gate,MERGED,2019-07-20 17:42:14.000000000,2019-07-30 18:49:20.000000000,2019-07-30 18:49:20.000000000,"[{'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-20 17:42:14.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/f582ef397c80886f6303d29dc41b6b1e77c32ffd', 'message': ""Run 'tempest-ipv6-only' job in gate\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nTempest has defined the new job 'tempest-ipv6-only'(adding\nin Depends-On patch) which will deploy services on IPv6 and run smoke\ntests and IPv6 related tests present in Tempest.\n\nThis job will be part of Nova, Neutron, Cinder, Keystone, Glance, Swift\ngate.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- 'tempest-ipv6-only' will run the smoke + IPv6 related test case.\n\nThis commit adds the new job 'tempest-ipv6-only' run on gate.\n\nStory: #2005477\nTask: #35909\n\nDepends-On: https://review.opendev.org/#/c/671231/\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I21cba258e4ad55681468c66060f4e0c1f4becbd4\n""}]",1,671900,f582ef397c80886f6303d29dc41b6b1e77c32ffd,34,13,1,8556,,,0,"Run 'tempest-ipv6-only' job in gate

As part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],
Tempest has defined the new job 'tempest-ipv6-only'(adding
in Depends-On patch) which will deploy services on IPv6 and run smoke
tests and IPv6 related tests present in Tempest.

This job will be part of Nova, Neutron, Cinder, Keystone, Glance, Swift
gate.

Verification structure will be:
- 'devstack-IPv6' deploy the service on IPv6
- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address
- 'tempest-ipv6-only' will run the smoke + IPv6 related test case.

This commit adds the new job 'tempest-ipv6-only' run on gate.

Story: #2005477
Task: #35909

Depends-On: https://review.opendev.org/#/c/671231/

[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html

Change-Id: I21cba258e4ad55681468c66060f4e0c1f4becbd4
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/671900/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f582ef397c80886f6303d29dc41b6b1e77c32ffd,ipv6-only-deployment-and-testing, - tempest-ipv6-only: irrelevant-files: *dsvm-irrelevant-files - tempest-ipv6-only: irrelevant-files: *dsvm-irrelevant-files,,4,0
openstack%2Fos-resource-classes~master~I9386b30e3bb2b5b734f5136374fdafbcc29f5137,openstack/os-resource-classes,master,I9386b30e3bb2b5b734f5136374fdafbcc29f5137,Update api-ref location,MERGED,2019-07-30 17:59:30.000000000,2019-07-30 18:46:10.000000000,2019-07-30 18:46:10.000000000,"[{'_account_id': 11564}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 17:59:30.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/os-resource-classes/commit/4387894de2aa3757b75df43deb5571fc1dbd8e2b', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I9386b30e3bb2b5b734f5136374fdafbcc29f5137\n""}]",0,673604,4387894de2aa3757b75df43deb5571fc1dbd8e2b,6,2,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I9386b30e3bb2b5b734f5136374fdafbcc29f5137
",git fetch https://review.opendev.org/openstack/os-resource-classes refs/changes/04/673604/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,4387894de2aa3757b75df43deb5571fc1dbd8e2b,retire-api-site,.. _placement API: https://docs.openstack.org/api-ref/placement/,.. _placement API: https://developer.openstack.org/api-ref/placement/,1,1
openstack%2Ftripleo-heat-templates~master~I3ffd1c11a1851e62992a6a63e8abb130db82856f,openstack/tripleo-heat-templates,master,I3ffd1c11a1851e62992a6a63e8abb130db82856f,Enable VFIO module on boot for SR-IOV deployments,MERGED,2019-07-27 22:30:19.000000000,2019-07-30 18:44:47.000000000,2019-07-30 18:44:47.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-07-27 22:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/94a0774a128c9a1ac44eccccb527abafdef7f32a', 'message': 'Enable VFIO module on boot for SR-IOV deployments\n\nOn SR-IOV capable deployments when rebooting a compute node,\nvfio_iommu_type1 will not be loaded which will cause guest\ninstances with VF/PF fail to start/spawn.\n\nManually loading the kernel module will allow to spawn guest\ninstances successfully.\n\nChange-Id: I3ffd1c11a1851e62992a6a63e8abb130db82856f\nCloses-Bug: 1838159\n'}, {'number': 2, 'created': '2019-07-27 22:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5ce3658f4cc8181ea731a68f777dc8c0e687f1de', 'message': 'Enable VFIO module on boot for SR-IOV deployments\n\nOn SR-IOV capable deployments when rebooting a compute node,\nvfio_iommu_type1 will not be loaded which will cause guest\ninstances with VF/PF fail to start/spawn.\n\nManually loading the kernel module will allow to spawn guest\ninstances successfully.\n\nChange-Id: I3ffd1c11a1851e62992a6a63e8abb130db82856f\nCloses-Bug: 1838159\n'}, {'number': 3, 'created': '2019-07-27 22:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/19be60af8ac01e8285a601cf55488dcd433cb391', 'message': 'Enable VFIO module on boot for SR-IOV deployments\n\nOn SR-IOV capable deployments when rebooting a compute node,\nvfio_iommu_type1 will not be loaded which will cause guest\ninstances with VF/PF fail to start/spawn.\n\nManually loading the kernel module will allow to spawn guest\ninstances successfully.\n\nChange-Id: I3ffd1c11a1851e62992a6a63e8abb130db82856f\nCloses-Bug: 1838159\n'}, {'number': 4, 'created': '2019-07-29 22:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9a87a62847a92b0bac18f8e87b5c4d6c72b164b4', 'message': 'Enable VFIO module on boot for SR-IOV deployments\n\nOn SR-IOV capable deployments when rebooting a compute node,\nvfio_iommu_type1 will not be loaded which will cause guest\ninstances with VF/PF fail to start/spawn.\n\nManually loading the kernel module will allow to spawn guest\ninstances successfully.\n\nChange-Id: I3ffd1c11a1851e62992a6a63e8abb130db82856f\nCloses-Bug: 1838159\n'}, {'number': 5, 'created': '2019-07-29 22:21:43.000000000', 'files': ['releasenotes/notes/enable-vfio-for-sriov-62b7bd67df250840.yaml', 'extraconfig/pre_network/boot_param_tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3878bd3e47c500f90d3c5cb110162b39a0d7e870', 'message': 'Enable VFIO module on boot for SR-IOV deployments\n\nOn SR-IOV capable deployments when rebooting a compute node,\nvfio_iommu_type1 will not be loaded which will cause guest\ninstances with VF/PF fail to start/spawn.\n\nManually loading the kernel module will allow to spawn guest\ninstances successfully.\n\nChange-Id: I3ffd1c11a1851e62992a6a63e8abb130db82856f\nCloses-Bug: 1838159\n'}]",1,673153,3878bd3e47c500f90d3c5cb110162b39a0d7e870,22,9,5,30133,,,0,"Enable VFIO module on boot for SR-IOV deployments

On SR-IOV capable deployments when rebooting a compute node,
vfio_iommu_type1 will not be loaded which will cause guest
instances with VF/PF fail to start/spawn.

Manually loading the kernel module will allow to spawn guest
instances successfully.

Change-Id: I3ffd1c11a1851e62992a6a63e8abb130db82856f
Closes-Bug: 1838159
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/53/673153/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-sriov-host-config.yaml'],1,94a0774a128c9a1ac44eccccb527abafdef7f32a,bug/1838159, host_prep_tasks: - name: load vfio module on boot import_role: name: tripleo-module-load vars: modules: - name: vfio,,7,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~Id01951bca724417db91225efeaaeb1b85e06eb70,openstack/tripleo-heat-templates,stable/stein,Id01951bca724417db91225efeaaeb1b85e06eb70,Moving NeutronMechanismDrivers value to be list in neutron-ml2-mlnx-sdn.yaml,MERGED,2019-07-30 07:00:18.000000000,2019-07-30 18:44:45.000000000,2019-07-30 18:44:45.000000000,"[{'_account_id': 6926}, {'_account_id': 12171}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-30 07:00:18.000000000', 'files': ['environments/neutron-ml2-mlnx-sdn.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4aa55749474b283fe1079becd14fef91ac7491f8', 'message': 'Moving NeutronMechanismDrivers value to be list in neutron-ml2-mlnx-sdn.yaml\n\nHaving NeutronMechanismDrivers as a string causing issues\nspecially with non-ovn deployments and if the value contains a\nsub-string(ovn) like sriovnicswitch, so just moving it to be a list of\nstrings\n\nChange-Id: Id01951bca724417db91225efeaaeb1b85e06eb70\nRelated-Bug: #1836011\n(cherry picked from commit 68c2d3ae072d2bb152996f69bf8531d8c5eb40da)\n'}]",0,673410,4aa55749474b283fe1079becd14fef91ac7491f8,8,6,1,25241,,,0,"Moving NeutronMechanismDrivers value to be list in neutron-ml2-mlnx-sdn.yaml

Having NeutronMechanismDrivers as a string causing issues
specially with non-ovn deployments and if the value contains a
sub-string(ovn) like sriovnicswitch, so just moving it to be a list of
strings

Change-Id: Id01951bca724417db91225efeaaeb1b85e06eb70
Related-Bug: #1836011
(cherry picked from commit 68c2d3ae072d2bb152996f69bf8531d8c5eb40da)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/10/673410/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/neutron-ml2-mlnx-sdn.yaml'],1,4aa55749474b283fe1079becd14fef91ac7491f8,bug/1836011-stable/stein," NeutronMechanismDrivers: ['mlnx_sdn_assist','sriovnicswitch','openvswitch']"," NeutronMechanismDrivers: 'mlnx_sdn_assist,sriovnicswitch,openvswitch'",1,1
openstack%2Ftripleo-ansible~master~I277eabfeeafb393ea11379bc0d27d2022f0b04db,openstack/tripleo-ansible,master,I277eabfeeafb393ea11379bc0d27d2022f0b04db,Correct role documentation heading,MERGED,2019-07-29 21:29:12.000000000,2019-07-30 18:27:33.000000000,2019-07-30 18:27:33.000000000,"[{'_account_id': 11491}, {'_account_id': 18002}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-29 21:29:12.000000000', 'files': ['doc/source/roles/role-tripleo-persist.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e413851d8c729cd51b56ae51a7a7b92f671ab314', 'message': 'Correct role documentation heading\n\nThis change updates the role documentation heading to ensure\nconsistency. These docs were merged using the old name, which\nis too long making it hard to read within the openstack\ndocumentation navigation bar.\n\nChange-Id: I277eabfeeafb393ea11379bc0d27d2022f0b04db\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,673368,e413851d8c729cd51b56ae51a7a7b92f671ab314,8,3,1,7353,,,0,"Correct role documentation heading

This change updates the role documentation heading to ensure
consistency. These docs were merged using the old name, which
is too long making it hard to read within the openstack
documentation navigation bar.

Change-Id: I277eabfeeafb393ea11379bc0d27d2022f0b04db
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/68/673368/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/roles/role-tripleo-persist.rst'],1,e413851d8c729cd51b56ae51a7a7b92f671ab314,,====================== Role - tripleo-persist ======================,====================================== TripleO-Ansible Role - tripleo-persist ======================================,3,3
openstack%2Fpuppet-openstack_spec_helper~master~Ibfc0fe136c4baff0d812189893fba55691c4f0c8,openstack/puppet-openstack_spec_helper,master,Ibfc0fe136c4baff0d812189893fba55691c4f0c8,Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7,ABANDONED,2019-07-30 12:12:48.000000000,2019-07-30 18:24:42.000000000,,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 12:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/50baee32a4a92a3f8b8b1e3ebc4fb0da65892ff4', 'message': ""Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7\n\nThe job is failing because we removed the usage of zuul cloner and it's\nlooking for the old location of p-o-i. We need to update the zuul job\ndefinition in p-o-i, but first we'll need Ieb0d994e9430e5bbb7d9c305e824c14397015807.\n\nChange-Id: Ibfc0fe136c4baff0d812189893fba55691c4f0c8\n""}, {'number': 2, 'created': '2019-07-30 12:13:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/15c70194db831d25f13a49098159289bad05bac9', 'message': ""Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7\n\nThe job is failing because we removed the usage of zuul cloner and it's\nlooking for the old location of p-o-i. We need to update the zuul job\ndefinition in p-o-i, but first we'll need Ieb0d994e9430e5bbb7d9c305e824c14397015807.\n\nChange-Id: Ibfc0fe136c4baff0d812189893fba55691c4f0c8\n""}, {'number': 3, 'created': '2019-07-30 13:52:37.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/d938d31b9ccb8af3527eb8e86f53fec56d330e31', 'message': ""Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7\n\nThe job is failing because we removed the usage of zuul cloner and it's\nlooking for the old location of p-o-i. We need to update the zuul job\ndefinition in p-o-i, but first we'll need Ieb0d994e9430e5bbb7d9c305e824c14397015807.\n\nChange-Id: Ibfc0fe136c4baff0d812189893fba55691c4f0c8\n""}]",0,673490,d938d31b9ccb8af3527eb8e86f53fec56d330e31,15,3,3,3153,,,0,"Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7

The job is failing because we removed the usage of zuul cloner and it's
looking for the old location of p-o-i. We need to update the zuul job
definition in p-o-i, but first we'll need Ieb0d994e9430e5bbb7d9c305e824c14397015807.

Change-Id: Ibfc0fe136c4baff0d812189893fba55691c4f0c8
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/90/673490/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,50baee32a4a92a3f8b8b1e3ebc4fb0da65892ff4,fixci, jobs: - puppet-openstack-libraries-puppet-beaker-rspec-centos-7: voting: false,,3,0
openstack%2Foctavia-dashboard~master~I74d6587d3f753fbe3318ec2041344e6b95e11e21,openstack/octavia-dashboard,master,I74d6587d3f753fbe3318ec2041344e6b95e11e21,Update api-ref location,MERGED,2019-07-30 17:55:42.000000000,2019-07-30 18:19:52.000000000,2019-07-30 18:19:52.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 17:55:42.000000000', 'files': ['octavia_dashboard/static/dashboard/project/lbaasv2/workflow/certificates/certificates.help.html'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/f141cae29cee692803e266ef3adcf34784dced58', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I74d6587d3f753fbe3318ec2041344e6b95e11e21\n""}]",0,673602,f141cae29cee692803e266ef3adcf34784dced58,7,3,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I74d6587d3f753fbe3318ec2041344e6b95e11e21
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/02/673602/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia_dashboard/static/dashboard/project/lbaasv2/workflow/certificates/certificates.help.html'],1,f141cae29cee692803e266ef3adcf34784dced58,retire-api-site," <a target=""_blank"" href=""https://docs.openstack.org/api-guide/key-manager/containers.html#certificate-containers"">"," <a target=""_blank"" href=""https://developer.openstack.org/api-guide/key-manager/containers.html#certificate-containers"">",1,1
openstack%2Foctavia-dashboard~master~I8896f9b3cb78cacb2dc9aa495ed2ac606a75e842,openstack/octavia-dashboard,master,I8896f9b3cb78cacb2dc9aa495ed2ac606a75e842,Imported Translations from Zanata,MERGED,2019-07-30 06:45:05.000000000,2019-07-30 18:09:02.000000000,2019-07-30 18:09:02.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 06:45:05.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/9dd33b6ea2c913d922e8cb43da8a6fe74622eacc', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8896f9b3cb78cacb2dc9aa495ed2ac606a75e842\n'}]",0,673409,9dd33b6ea2c913d922e8cb43da8a6fe74622eacc,7,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I8896f9b3cb78cacb2dc9aa495ed2ac606a75e842
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/09/673409/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po'],1,9dd33b6ea2c913d922e8cb43da8a6fe74622eacc,zanata/translations,"""POT-Creation-Date: 2019-07-29 10:30+0000\n""""PO-Revision-Date: 2019-07-29 06:41+0000\n""msgid ""1.0.1-7"" msgstr ""1.0.1-7""msgid ""2.0.0-9"" msgstr ""2.0.0-9""","""POT-Creation-Date: 2019-07-18 14:27+0000\n""""PO-Revision-Date: 2019-07-24 04:18+0000\n""msgid ""1.0.1-6"" msgstr ""1.0.1-6""msgid ""2.0.0-8"" msgstr ""2.0.0-8""msgid ""3.0.0-14"" msgstr ""3.0.0-14"" ",6,9
openstack%2Fnetworking-ovn~stable%2Fstein~I3c75d96791cf189a9a20de04fe4fdebdb35d800a,openstack/networking-ovn,stable/stein,I3c75d96791cf189a9a20de04fe4fdebdb35d800a,Update Octavia OVN Driver to handle corner cases,MERGED,2019-07-25 07:20:29.000000000,2019-07-30 18:06:58.000000000,2019-07-30 18:06:58.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-07-25 07:20:29.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/functional/octavia/test_ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c87e501a0d159ce2b5a3275e4bb356aed99c3087', 'message': ""Update Octavia OVN Driver to handle corner cases\n\nThe following patch has the following updates:\n- Allow deletion of VIP port if the Loadbalancer cannot be\n  created by OVN.\n- If Loadbalancer is not created, allow deletion of the loadbalancer\n  from Octavia's DB.\n- Also delete the VIP port when loadbalancer is going to be deleted.\n\nChange-Id: I3c75d96791cf189a9a20de04fe4fdebdb35d800a\n(cherry picked from commit 970138909d2cda64e09316810af09fa7b5f6e4d0)\n""}]",1,672643,c87e501a0d159ce2b5a3275e4bb356aed99c3087,13,4,1,24791,,,0,"Update Octavia OVN Driver to handle corner cases

The following patch has the following updates:
- Allow deletion of VIP port if the Loadbalancer cannot be
  created by OVN.
- If Loadbalancer is not created, allow deletion of the loadbalancer
  from Octavia's DB.
- Also delete the VIP port when loadbalancer is going to be deleted.

Change-Id: I3c75d96791cf189a9a20de04fe4fdebdb35d800a
(cherry picked from commit 970138909d2cda64e09316810af09fa7b5f6e4d0)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/43/672643/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/functional/octavia/test_ovn_driver.py']",2,c87e501a0d159ce2b5a3275e4bb356aed99c3087,ovn_driver_stein_cherry_picks," admin_state_up=True, only_model=False): if only_model: return lb_data def test_delete_lb_on_nonexisting_lb(self): # LoadBalancer doesnt exist anymore, so just create a model and delete lb_data = self._create_load_balancer_and_validate( {'vip_network': 'vip_network', 'cidr': '19.0.0.0/24'}, only_model=True) self.ovn_driver.loadbalancer_delete(lb_data['model']) expected_status = { 'loadbalancers': [{""id"": lb_data['model'].loadbalancer_id, ""provisioning_status"": ""DELETED"", ""operating_status"": ""OFFLINE""}] } del lb_data['model'] self._wait_for_status_and_validate(lb_data, [expected_status]) ", admin_state_up=True):,39,4
openstack%2Fnova~master~Ic028ae803c7d0a9b388581380f8805b8ab7d0574,openstack/nova,master,Ic028ae803c7d0a9b388581380f8805b8ab7d0574,WIP: Provider config file schema and loading,ABANDONED,2018-12-04 23:53:15.000000000,2019-07-30 18:03:39.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-12-04 23:53:15.000000000', 'files': ['requirements.txt', 'nova/tests/unit/provider_config/__init__.py', 'nova/tests/unit/provider_config/data/example_provider.yaml', 'nova/provider_config/schema.yaml', 'nova/tests/unit/provider_config/test_loading.py', 'nova/provider_config/__init__.py', 'nova/provider_config/loading.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e0acaa29e133482481ad253f816a13de26c1d89c', 'message': 'WIP: Provider config file schema and loading\n\nPer the referenced blueprint, provides a JSON schema (written in YAML)\nand a method to parse a provider config YAML file and validate it\nagainst said schema.\n\nThe files for this effort are added to a new package,\nnova.provider_config, and reference (almost) nothing nova-specific. This\nis to facilitate future extraction of this code into its own library,\nprobably under placement governance. It is in nova for now because nova\nwill be the first project to consume it.\n\nWIP: moar tests\n\nChange-Id: Ic028ae803c7d0a9b388581380f8805b8ab7d0574\nblueprint: provider-config-file\n'}]",0,622622,e0acaa29e133482481ad253f816a13de26c1d89c,12,11,1,14070,,,0,"WIP: Provider config file schema and loading

Per the referenced blueprint, provides a JSON schema (written in YAML)
and a method to parse a provider config YAML file and validate it
against said schema.

The files for this effort are added to a new package,
nova.provider_config, and reference (almost) nothing nova-specific. This
is to facilitate future extraction of this code into its own library,
probably under placement governance. It is in nova for now because nova
will be the first project to consume it.

WIP: moar tests

Change-Id: Ic028ae803c7d0a9b388581380f8805b8ab7d0574
blueprint: provider-config-file
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/622622/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'nova/tests/unit/provider_config/__init__.py', 'nova/tests/unit/provider_config/data/example_provider.yaml', 'nova/provider_config/schema.yaml', 'nova/tests/unit/provider_config/test_loading.py', 'nova/provider_config/__init__.py', 'nova/provider_config/loading.py']",7,e0acaa29e133482481ad253f816a13de26c1d89c,bp/provider-config-file,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import jsonschema import pkg_resources import yaml _SCHEMA_FILE = 'schema.yaml' _SCHEMA_DICT = None def _load_schema(): global _SCHEMA_DICT if _SCHEMA_DICT is None: with pkg_resources.resource_stream(__name__, _SCHEMA_FILE) as f: _SCHEMA_DICT = yaml.safe_load(f) return _SCHEMA_DICT def parse_provider_yaml(path): """"""Loads, validates, and parses a provider.yaml file into a dict. :param path: File system path to the file to parse. :return: dict representing the contents of the file. :raise: jsonschema.exceptions.ValidationError if the specified file does not validate against the schema. """""" with open(path) as f: ret = yaml.safe_load(f) jsonschema.validate(ret, _load_schema()) return ret ",,386,0
openstack%2Fproject-config~master~I6bfcd7ce762ea16d6b78f13fcb85754f46cc5763,openstack/project-config,master,I6bfcd7ce762ea16d6b78f13fcb85754f46cc5763,Remove old install-guide-jobs from murano,MERGED,2019-07-30 16:01:42.000000000,2019-07-30 17:38:30.000000000,2019-07-30 17:38:30.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 16:01:42.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/72410de82687c9fde6ac42a2f53f65a48fd562da', 'message': 'Remove old install-guide-jobs from murano\n\nIn newer brances (pike, queens, ..., master) install-guide-jobs does\nnot do anything:\n\nAs install-guide-jobs template [1] includes the\nbuild-openstack-install-guide job [2], which runs only for branches\nstable/newton and stable/ocata, but murano does not have install\nguides in those branches, the install-guide-jobs can be safely removed.\n\n[1] https://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/zuul.d/project-templates.yaml#L1139-L1151\n[2] https://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/zuul.d/jobs.yaml#L687-L704\n\nChange-Id: I6bfcd7ce762ea16d6b78f13fcb85754f46cc5763\n'}]",0,673574,72410de82687c9fde6ac42a2f53f65a48fd562da,8,5,1,17685,,,0,"Remove old install-guide-jobs from murano

In newer brances (pike, queens, ..., master) install-guide-jobs does
not do anything:

As install-guide-jobs template [1] includes the
build-openstack-install-guide job [2], which runs only for branches
stable/newton and stable/ocata, but murano does not have install
guides in those branches, the install-guide-jobs can be safely removed.

[1] https://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/zuul.d/project-templates.yaml#L1139-L1151
[2] https://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/zuul.d/jobs.yaml#L687-L704

Change-Id: I6bfcd7ce762ea16d6b78f13fcb85754f46cc5763
",git fetch https://review.opendev.org/openstack/project-config refs/changes/74/673574/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,72410de82687c9fde6ac42a2f53f65a48fd562da,,, - install-guide-jobs,0,1
openstack%2Foslo.messaging~master~I4a80d8c6b162a99176eadb052f6201dc38dbc5f9,openstack/oslo.messaging,master,I4a80d8c6b162a99176eadb052f6201dc38dbc5f9,Correcting typo in acknowledge spelling,MERGED,2019-07-30 13:16:14.000000000,2019-07-30 17:37:34.000000000,2019-07-30 17:37:34.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 13:16:14.000000000', 'files': ['oslo_messaging/_drivers/amqpdriver.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/042caf8a53fda895eeef987a6ef22d67a7556e5e', 'message': 'Correcting typo in acknowledge spelling\n\nThere is a typographical errors in amqpdriver.py. Correcting spelling\nfrom acknowlege to acknowledge.\n\nChange-Id: I4a80d8c6b162a99176eadb052f6201dc38dbc5f9\n'}]",0,673514,042caf8a53fda895eeef987a6ef22d67a7556e5e,7,2,1,29775,,,0,"Correcting typo in acknowledge spelling

There is a typographical errors in amqpdriver.py. Correcting spelling
from acknowlege to acknowledge.

Change-Id: I4a80d8c6b162a99176eadb052f6201dc38dbc5f9
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/14/673514/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/amqpdriver.py'],1,042caf8a53fda895eeef987a6ef22d67a7556e5e,fix-acknowledge-spell," LOG.warning(""Discarding RPC request due to failed acknowledge: %s"","," LOG.warning(""Discarding RPC request due to failed acknowlege: %s"",",1,1
openstack%2Fopenstack-ansible-plugins~master~I9e2b3e10ec42d246d203e363f0c737b8824ccd47,openstack/openstack-ansible-plugins,master,I9e2b3e10ec42d246d203e363f0c737b8824ccd47,Remove bit_length_power_of_2,MERGED,2019-05-08 10:27:21.000000000,2019-07-30 17:37:30.000000000,2019-07-30 17:37:30.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-05-08 10:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/02bbe0ad245b570e150e08f4c2993f1045c22a88', 'message': 'Remove bit_length_power_of_2\n\nThis change is to remove bit_length_power_of_2 from this repo since\nit has been moved to openstack-ansible-openstack_hosts. This is\nbecause it is only used by that repo.\n\nDepends-on: https://review.opendev.org/656798/\nChange-Id: I9e2b3e10ec42d246d203e363f0c737b8824ccd47\nCloses-bug: #1826242\n'}, {'number': 2, 'created': '2019-05-08 10:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/9efe83b5d9ef3bd9a67e0626d7eb803e74cc4ad9', 'message': 'Remove bit_length_power_of_2\n\nThis change is to remove bit_length_power_of_2 from this repo since\nit has been moved to openstack-ansible-openstack_hosts. This is\nbecause it is only used by that repo.\n\nDepends-on: I543328db49dc6b7bbb05878503dbb3d337a18558\nChange-Id: I9e2b3e10ec42d246d203e363f0c737b8824ccd47\nCloses-bug: #1826242\n'}, {'number': 3, 'created': '2019-05-08 12:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/73d3d9249e28fde65d11a4be2f1fd28b0de39dc9', 'message': 'Remove bit_length_power_of_2\n\nThis change is to remove bit_length_power_of_2 from this repo since\nit has been moved to openstack-ansible-openstack_hosts. This is\nbecause it is only used by that repo.\n\nDepends-On: I543328db49dc6b7bbb05878503dbb3d337a18558\nChange-Id: I9e2b3e10ec42d246d203e363f0c737b8824ccd47\nCloses-bug: #1826242\n'}, {'number': 4, 'created': '2019-07-27 21:37:47.000000000', 'files': ['filter/osa-filters.py', 'doc/source/filters.rst', 'tests/test-filters.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/fc9e016e90ca49d3630dcbc0bbf970277740edc7', 'message': 'Remove bit_length_power_of_2\n\nThis change is to remove bit_length_power_of_2 from this repo since\nit has been moved to openstack-ansible-openstack_hosts. This is\nbecause it is only used by that repo.\n\nDepends-On: I543328db49dc6b7bbb05878503dbb3d337a18558\nChange-Id: I9e2b3e10ec42d246d203e363f0c737b8824ccd47\nCloses-bug: #1826242\n'}]",0,657773,fc9e016e90ca49d3630dcbc0bbf970277740edc7,17,4,4,29866,,,0,"Remove bit_length_power_of_2

This change is to remove bit_length_power_of_2 from this repo since
it has been moved to openstack-ansible-openstack_hosts. This is
because it is only used by that repo.

Depends-On: I543328db49dc6b7bbb05878503dbb3d337a18558
Change-Id: I9e2b3e10ec42d246d203e363f0c737b8824ccd47
Closes-bug: #1826242
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/73/657773/4 && git format-patch -1 --stdout FETCH_HEAD,"['filter/osa-filters.py', 'doc/source/filters.rst', 'tests/test-filters.yml']",3,02bbe0ad245b570e150e08f4c2993f1045c22a88,bug/1826242,," - name: Validate bit_length_power_of_2 filter assert: that: - ""{{ 1024 | bit_length_power_of_2 }} == 1024"" - ""{{ 9600 | bit_length_power_of_2 }} == 16384"" ",0,26
openstack%2Fcharm-deployment-guide~master~Ieae398aecb48c2e26de5c50261e700f8790e64ce,openstack/charm-deployment-guide,master,Ieae398aecb48c2e26de5c50261e700f8790e64ce,Fix links - and make them robust,MERGED,2019-07-26 14:08:17.000000000,2019-07-30 17:34:39.000000000,2019-07-30 17:34:39.000000000,"[{'_account_id': 935}, {'_account_id': 6547}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2019-07-26 14:08:17.000000000', 'files': ['deploy-guide/source/install-openstack-bundle.rst', 'requirements.txt', 'deploy-guide/source/install-juju.rst', 'deploy-guide/source/install-maas.rst', 'deploy-guide/source/install-openstack.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/60069b02769bfec639247661aa3ddf8cca900995', 'message': ""Fix links - and make them robust\n\nThere's no .md file in here, so change links. Looking at the used links,\nthese are all external links and thus sphinx cannot test whether they\nwork. Use internal links so that all links work - and work even after\nrenames.\n\nThis shows up as e.g.:\n WARNING: unknown document: install-maas.html\n\nUpdate tox.ini so that these are hard errors.\n\nRemove dead requirement oslosphinx, it's not needed anymore here since\nopenstackdocstheme is used.\n\nChange-Id: Ieae398aecb48c2e26de5c50261e700f8790e64ce\n""}]",2,672985,60069b02769bfec639247661aa3ddf8cca900995,12,5,1,6547,,,0,"Fix links - and make them robust

There's no .md file in here, so change links. Looking at the used links,
these are all external links and thus sphinx cannot test whether they
work. Use internal links so that all links work - and work even after
renames.

This shows up as e.g.:
 WARNING: unknown document: install-maas.html

Update tox.ini so that these are hard errors.

Remove dead requirement oslosphinx, it's not needed anymore here since
openstackdocstheme is used.

Change-Id: Ieae398aecb48c2e26de5c50261e700f8790e64ce
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/85/672985/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/install-openstack-bundle.rst', 'requirements.txt', 'deploy-guide/source/install-juju.rst', 'deploy-guide/source/install-maas.rst', 'deploy-guide/source/install-openstack.rst', 'tox.ini']",6,60069b02769bfec639247661aa3ddf8cca900995,broken-links,commands = sphinx-build -a -W -d deploy-guide/build/doctrees -b html deploy-guide/source deploy-guide/build/html,commands = sphinx-build -a -d deploy-guide/build/doctrees -b html deploy-guide/source deploy-guide/build/html,17,14
openstack%2Fnetworking-ovn~stable%2Fstein~Idbd844d97228b042c94a13bdf9337ec99c60637f,openstack/networking-ovn,stable/stein,Idbd844d97228b042c94a13bdf9337ec99c60637f,Add Octavia OVN Driver's UT,MERGED,2019-07-25 07:20:29.000000000,2019-07-30 17:32:11.000000000,2019-07-30 17:32:11.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-07-25 07:20:29.000000000', 'files': ['networking_ovn/tests/unit/octavia/__init__.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6e8986ab210f7af7af4fb20335c2f6f13330790d', 'message': ""Add Octavia OVN Driver's UT\n\nThis patch adds basic Unit Testing for Octavia OVN Driver which\nimproves the test coverage for networking-ovn.\n\nCo-Authored-By: Maciej Jzefczyk <mjozefcz@redhat.com>\n\nChange-Id: Idbd844d97228b042c94a13bdf9337ec99c60637f\nCloses-Bug: #1789885\n(cherry picked from commit 48cac11283b32e829d34f57c9f87bc207d184347)\n""}]",0,672642,6e8986ab210f7af7af4fb20335c2f6f13330790d,13,4,1,24791,,,0,"Add Octavia OVN Driver's UT

This patch adds basic Unit Testing for Octavia OVN Driver which
improves the test coverage for networking-ovn.

Co-Authored-By: Maciej Jzefczyk <mjozefcz@redhat.com>

Change-Id: Idbd844d97228b042c94a13bdf9337ec99c60637f
Closes-Bug: #1789885
(cherry picked from commit 48cac11283b32e829d34f57c9f87bc207d184347)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/42/672642/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/unit/octavia/__init__.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py']",2,6e8986ab210f7af7af4fb20335c2f6f13330790d,ovn_driver_stein_cherry_picks,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # import collections import mock from neutron.tests import base from octavia_lib.api.drivers import data_models from octavia_lib.api.drivers import exceptions from octavia_lib.common import constants from oslo_utils import uuidutils from networking_ovn.octavia import ovn_driver class MockedLB(data_models.LoadBalancer): def __init__(self, *args, **kwargs): self.external_ids = kwargs.pop('ext_ids') self.uuid = kwargs.pop('uuid') super(MockedLB, self).__init__(*args, **kwargs) def __hash__(self): # Required for Python3, not for Python2 return self.__sizeof__() class TestOvnOctaviaBase(base.BaseTestCase): def setUp(self): super(TestOvnOctaviaBase, self).setUp() self.listener_id = uuidutils.generate_uuid() self.loadbalancer_id = uuidutils.generate_uuid() self.member_id = uuidutils.generate_uuid() self.member_subnet_id = uuidutils.generate_uuid() self.pool_id = uuidutils.generate_uuid() self.port1_id = uuidutils.generate_uuid() self.port2_id = uuidutils.generate_uuid() self.project_id = uuidutils.generate_uuid() self.vip_network_id = uuidutils.generate_uuid() self.vip_port_id = uuidutils.generate_uuid() self.vip_subnet_id = uuidutils.generate_uuid() mock.patch(""networking_ovn.common.utils.get_ovsdb_connection"").start() self.member_address = ""192.168.2.149"" self.vip_address = '192.148.210.109' self.member_port = ""1010"" self.member_pool_id = self.pool_id self.member_subnet_id = uuidutils.generate_uuid() mock.patch( 'ovsdbapp.backend.ovs_idl.idlutils.get_schema_helper').start() class TestOvnProviderDriver(TestOvnOctaviaBase): def setUp(self): super(TestOvnProviderDriver, self).setUp() self.driver = ovn_driver.OvnProviderDriver() add_req_thread = mock.patch.object(ovn_driver.OvnProviderHelper, 'add_request') self.ovn_lb = mock.MagicMock() self.mock_add_request = add_req_thread.start() self.project_id = uuidutils.generate_uuid() self.fail_member = data_models.Member( address='198.51.100.4', admin_state_up=True, member_id=self.member_id, monitor_address=""100.200.200.100"", monitor_port=66, name='Amazin', pool_id=self.pool_id, protocol_port=99, subnet_id=self.member_subnet_id, weight=55) self.ref_member = data_models.Member( address='198.52.100.4', admin_state_up=True, member_id=self.member_id, monitor_address=data_models.Unset, monitor_port=data_models.Unset, name='Amazing', pool_id=self.pool_id, protocol_port=99, subnet_id=self.member_subnet_id, weight=55) self.update_member = data_models.Member( address='198.53.100.4', admin_state_up=False, member_id=self.member_id, monitor_address=data_models.Unset, monitor_port=data_models.Unset, name='Amazin', pool_id=self.pool_id, protocol_port=99, subnet_id=self.member_subnet_id, weight=55) self.ref_update_pool = data_models.Pool( admin_state_up=False, description='pool', name='Peter', lb_algorithm=constants.LB_ALGORITHM_ROUND_ROBIN, loadbalancer_id=self.loadbalancer_id, listener_id=self.listener_id, members=[self.ref_member], pool_id=self.pool_id, protocol='TCP', session_persistence={'type': 'fix'}) self.ref_pool = data_models.Pool( admin_state_up=True, description='pool', name='Peter', lb_algorithm=constants.LB_ALGORITHM_ROUND_ROBIN, loadbalancer_id=self.loadbalancer_id, listener_id=self.listener_id, members=[self.ref_member], pool_id=self.pool_id, protocol='TCP', session_persistence={'type': 'fix'}) self.ref_http_pool = data_models.Pool( admin_state_up=True, description='pool', lb_algorithm=constants.LB_ALGORITHM_ROUND_ROBIN, loadbalancer_id=self.loadbalancer_id, listener_id=self.listener_id, members=[self.ref_member], name='Groot', pool_id=self.pool_id, protocol='HTTP', session_persistence={'type': 'fix'}) self.ref_lc_pool = data_models.Pool( admin_state_up=True, description='pool', lb_algorithm=constants.LB_ALGORITHM_LEAST_CONNECTIONS, loadbalancer_id=self.loadbalancer_id, listener_id=self.listener_id, members=[self.ref_member], name='Groot', pool_id=self.pool_id, protocol='HTTP', session_persistence={'type': 'fix'}) self.ref_listener = data_models.Listener( admin_state_up=False, connection_limit=5, default_pool=self.ref_pool, default_pool_id=self.pool_id, listener_id=self.listener_id, loadbalancer_id=self.loadbalancer_id, name='listener', protocol='TCP', protocol_port=42) self.ref_listener_udp = data_models.Listener( admin_state_up=False, connection_limit=5, default_pool=self.ref_pool, default_pool_id=self.pool_id, listener_id=self.listener_id, loadbalancer_id=self.loadbalancer_id, name='listener', protocol='UDP', protocol_port=42) self.fail_listener = data_models.Listener( admin_state_up=False, connection_limit=5, default_pool=self.ref_pool, default_pool_id=self.pool_id, listener_id=self.listener_id, loadbalancer_id=self.loadbalancer_id, name='listener', protocol='http', protocol_port=42) self.ref_lb0 = data_models.LoadBalancer( admin_state_up=False, listeners=[self.ref_listener], loadbalancer_id=self.loadbalancer_id, name='favorite_lb0', project_id=self.project_id, vip_address=self.vip_address, vip_network_id=self.vip_network_id) self.ref_lb1 = data_models.LoadBalancer( admin_state_up=True, listeners=[self.ref_listener], loadbalancer_id=self.loadbalancer_id, name='favorite_lb1', project_id=self.project_id, vip_address=self.vip_address, vip_network_id=self.vip_network_id) mock.patch.object(ovn_driver.OvnProviderHelper, '_find_ovn_lb', return_value=self.ovn_lb).start() mock.patch.object( ovn_driver.OvnProviderHelper, 'get_member_info', return_value=[ (self.ref_member.member_id, ""198.52.100.4:99""), (self.fail_member.member_id, ""198.51.100.4:99"")]).start() mock.patch.object(ovn_driver.OvnProviderHelper, '_find_ovn_lb_with_pool_key', return_value=self.ovn_lb).start() self.vip_dict = {'vip_network_id': uuidutils.generate_uuid(), 'vip_subnet_id': uuidutils.generate_uuid()} self.vip_output = {'vip_network_id': self.vip_dict['vip_network_id'], 'vip_subnet_id': self.vip_dict['vip_subnet_id']} def test_member_create(self): info = {'id': self.ref_member.member_id, 'address': self.ref_member.address, 'protocol_port': self.ref_member.protocol_port, 'pool_id': self.ref_member.pool_id, 'subnet_id': self.ref_member.subnet_id, 'admin_state_up': self.ref_member.admin_state_up} expected_dict = {'type': ovn_driver.REQ_TYPE_MEMBER_CREATE, 'info': info} self.driver.member_create(self.ref_member) self.mock_add_request.assert_called_once_with(expected_dict) def test_member_create_failure(self): self.assertRaises(exceptions.UnsupportedOptionError, self.driver.member_create, self.fail_member) def test_member_update(self): info = {'id': self.update_member.member_id, 'address': self.ref_member.address, 'protocol_port': self.ref_member.protocol_port, 'pool_id': self.ref_member.pool_id, 'admin_state_up': self.update_member.admin_state_up, 'subnet_id': self.ref_member.subnet_id} expected_dict = {'type': ovn_driver.REQ_TYPE_MEMBER_UPDATE, 'info': info} self.driver.member_update(self.ref_member, self.update_member) self.mock_add_request.assert_called_once_with(expected_dict) def test_member_update_batch(self): self.driver.member_batch_update([self.ref_member, self.update_member]) self.assertEqual(self.mock_add_request.call_count, 3) def test_member_update_failure(self): self.assertRaises(exceptions.UnsupportedOptionError, self.driver.member_update, self.ref_member, self.fail_member) def test_member_delete(self): info = {'id': self.ref_member.member_id, 'address': self.ref_member.address, 'protocol_port': self.ref_member.protocol_port, 'pool_id': self.ref_member.pool_id, 'subnet_id': self.ref_member.subnet_id} expected_dict = {'type': ovn_driver.REQ_TYPE_MEMBER_DELETE, 'info': info} self.driver.member_delete(self.ref_member) self.mock_add_request.assert_called_once_with(expected_dict) def test_listener_create(self): info = {'id': self.ref_listener.listener_id, 'protocol': self.ref_listener.protocol, 'protocol_port': self.ref_listener.protocol_port, 'default_pool_id': self.ref_listener.default_pool_id, 'admin_state_up': self.ref_listener.admin_state_up, 'loadbalancer_id': self.ref_listener.loadbalancer_id} expected_dict = {'type': ovn_driver.REQ_TYPE_LISTENER_CREATE, 'info': info} self.driver.listener_create(self.ref_listener) self.mock_add_request.assert_called_once_with(expected_dict) def test_listener_update(self): info = {'id': self.ref_listener.listener_id, 'protocol_port': self.ref_listener.protocol_port, 'admin_state_up': self.ref_listener.admin_state_up, 'loadbalancer_id': self.ref_listener.loadbalancer_id} if self.ref_listener.default_pool_id: info['default_pool_id'] = self.ref_listener.default_pool_id expected_dict = {'type': ovn_driver.REQ_TYPE_LISTENER_UPDATE, 'info': info} self.driver.listener_update(self.ref_listener, self.ref_listener) self.mock_add_request.assert_called_once_with(expected_dict) @mock.patch.object(ovn_driver.OvnProviderHelper, '_is_listener_in_lb', return_value=True) def test_listener_failure(self, mock_listener): self.assertRaises(exceptions.UnsupportedOptionError, self.driver.listener_create, self.fail_listener) self.assertRaises(exceptions.UnsupportedOptionError, self.driver.listener_update, self.ref_listener, self.fail_listener) self.ovn_lb.protocol = ['TCP'] self.assertRaises(exceptions.UnsupportedOptionError, self.driver.listener_create, self.ref_listener_udp) def test_listener_delete(self): info = {'id': self.ref_listener.listener_id, 'protocol_port': self.ref_listener.protocol_port, 'loadbalancer_id': self.ref_listener.loadbalancer_id} expected_dict = {'type': ovn_driver.REQ_TYPE_LISTENER_DELETE, 'info': info} self.driver.listener_delete(self.ref_listener) self.mock_add_request.assert_called_once_with(expected_dict) def test_loadbalancer_create(self): info = {'id': self.ref_lb0.loadbalancer_id, 'vip_address': self.ref_lb0.vip_address, 'vip_network_id': self.ref_lb0.vip_network_id, 'admin_state_up': self.ref_lb0.admin_state_up} expected_dict = {'type': ovn_driver.REQ_TYPE_LB_CREATE, 'info': info} self.driver.loadbalancer_create(self.ref_lb0) self.mock_add_request.assert_called_once_with(expected_dict) def test_loadbalancer_update(self): info = {'id': self.ref_lb1.loadbalancer_id, 'admin_state_up': self.ref_lb1.admin_state_up} expected_dict = {'type': ovn_driver.REQ_TYPE_LB_UPDATE, 'info': info} self.driver.loadbalancer_update(self.ref_lb0, self.ref_lb1) self.mock_add_request.assert_called_once_with(expected_dict) def test_loadbalancer_delete(self): info = {'id': self.ref_lb0.loadbalancer_id, 'cascade': False} expected_dict = {'type': ovn_driver.REQ_TYPE_LB_DELETE, 'info': info} self.driver.loadbalancer_delete(self.ref_lb1) self.mock_add_request.assert_called_once_with(expected_dict) def test_loadbalancer_failover(self): info = {'id': self.ref_lb0.loadbalancer_id} expected_dict = {'type': ovn_driver.REQ_TYPE_LB_FAILOVER, 'info': info} self.driver.loadbalancer_failover(info['id']) self.mock_add_request.assert_called_once_with(expected_dict) def test_pool_create_http(self): self.assertRaises(exceptions.UnsupportedOptionError, self.driver.pool_create, self.ref_http_pool) def test_pool_create_leastcount_algo(self): self.assertRaises(exceptions.UnsupportedOptionError, self.driver.pool_create, self.ref_lc_pool) def test_pool_create_tcp(self): info = {'id': self.ref_pool.pool_id, 'loadbalancer_id': self.ref_pool.loadbalancer_id, 'listener_id': self.ref_pool.listener_id, 'admin_state_up': self.ref_pool.admin_state_up} expected_dict = {'type': ovn_driver.REQ_TYPE_POOL_CREATE, 'info': info} self.driver.pool_create(self.ref_pool) self.mock_add_request.assert_called_once_with(expected_dict) def test_pool_delete(self): # Pretent we don't have members self.ref_pool.members = [] info = {'id': self.ref_pool.pool_id, 'loadbalancer_id': self.ref_pool.loadbalancer_id} expected = {'type': ovn_driver.REQ_TYPE_POOL_DELETE, 'info': info} self.driver.pool_delete(self.ref_pool) self.mock_add_request.assert_called_once_with(expected) def test_pool_delete_with_members(self): info = {'id': self.ref_pool.pool_id, 'loadbalancer_id': self.ref_pool.loadbalancer_id} expected = {'type': ovn_driver.REQ_TYPE_POOL_DELETE, 'info': info} info_member = {'id': self.ref_member.member_id, 'pool_id': self.ref_member.pool_id, 'subnet_id': self.ref_member.subnet_id, 'protocol_port': self.ref_member.protocol_port, 'address': self.ref_member.address} expected_members = { 'type': ovn_driver.REQ_TYPE_MEMBER_DELETE, 'info': info_member} calls = [mock.call(expected_members), mock.call(expected)] self.driver.pool_delete(self.ref_pool) self.mock_add_request.assert_has_calls(calls) def test_pool_update(self): info = {'id': self.ref_update_pool.pool_id, 'loadbalancer_id': self.ref_update_pool.loadbalancer_id, 'admin_state_up': self.ref_update_pool.admin_state_up} expected_dict = {'type': ovn_driver.REQ_TYPE_POOL_UPDATE, 'info': info} self.driver.pool_update(self.ref_pool, self.ref_update_pool) self.mock_add_request.assert_called_once_with(expected_dict) def test_create_vip_port(self): with mock.patch.object(ovn_driver, 'get_network_driver'): port_dict = self.driver.create_vip_port(self.loadbalancer_id, self.project_id, self.vip_dict) for key, value in self.vip_output.items(): self.assertEqual(value, port_dict[key]) self.vip_dict['vip_address'] = '10.1.10.1' port_dict = self.driver.create_vip_port(self.loadbalancer_id, self.project_id, self.vip_dict) # The network_driver function is mocked, therefore the # created port vip_address is also mocked. Check if it exists # and move on. self.assertIsNotNone(port_dict.pop('vip_address', None)) for key, value in self.vip_output.items(): self.assertEqual(value, port_dict[key]) class TestOvnProviderHelper(TestOvnOctaviaBase): def setUp(self): super(TestOvnProviderHelper, self).setUp() self.helper = ovn_driver.OvnProviderHelper() mock.patch.object(self.helper, '_update_status_to_octavia').start() self.listener = {'id': self.listener_id, 'loadbalancer_id': self.loadbalancer_id, 'protocol': ""TCP"", 'protocol_port': 80, 'default_pool_id': self.pool_id, 'admin_state_up': False} self.lb = {'id': self.loadbalancer_id, 'vip_address': self.vip_address, 'cascade': False, 'vip_network_id': self.vip_network_id, 'admin_state_up': False} self.ports = {'ports': [{ 'fixed_ips': [{'ip_address': self.vip_address}], 'id': self.port1_id}]} self.pool = {'id': self.pool_id, 'loadbalancer_id': self.loadbalancer_id, 'listener_id': self.listener_id, 'admin_state_up': False} self.member = {'id': self.member_id, 'address': self.member_address, 'protocol_port': self.member_port, 'subnet_id': self.member_subnet_id, 'pool_id': self.member_pool_id, 'admin_state_up': True} mock.patch.object(self.helper, 'ovn_nbdb_api').start() add_req_thread = mock.patch.object(ovn_driver.OvnProviderHelper, 'add_request') self.mock_add_request = add_req_thread.start() self.logical_sw = self.helper.ovn_nbdb_api.ls_get.return_value self.logical_sw.execute.return_value.ports = [] self.ovn_lb = mock.MagicMock() self.ovn_lb.uuid = uuidutils.generate_uuid() self.ovn_lb.external_ids.get.return_value = {} self.helper.ovn_nbdb_api.db_find.return_value.\ execute.return_value = [self.ovn_lb] self.helper.ovn_nbdb_api.db_list_rows.return_value.\ execute.return_value = [self.ovn_lb] ref_lb1 = MockedLB( uuid=uuidutils.generate_uuid(), admin_state_up=True, listeners=[], loadbalancer_id=self.loadbalancer_id, name='favorite_lb1', project_id=self.project_id, vip_address=self.vip_address, vip_network_id=self.vip_network_id, ext_ids={ovn_driver.LB_EXT_IDS_LR_REF_KEY: '1'}) ref_lb2 = MockedLB( uuid=uuidutils.generate_uuid(), admin_state_up=True, listeners=[], loadbalancer_id=self.loadbalancer_id, name='favorite_lb2', project_id=self.project_id, vip_address=self.vip_address, vip_network_id=self.vip_network_id, ext_ids={ovn_driver.LB_EXT_IDS_LR_REF_KEY: '1'}) loadbalancer = collections.namedtuple(""LoadBalancer"", ""load_balancer name uuid"") mock.patch.object(self.helper, '_find_ovn_lb_with_pool_key', return_value=self.ovn_lb).start() mock.patch.object(self.helper, '_get_pool_listeners', return_value=[]).start() mock.patch.object(self.helper, '_update_lb_to_ls_association', return_value=[]).start() mock.patch.object(self.helper, '_update_lb_to_lr_association', return_value=[]).start() self.router = loadbalancer(load_balancer=[ref_lb1], name='router_lb', uuid=uuidutils.generate_uuid()) self.network = loadbalancer(load_balancer=[ref_lb2], name='network_lb', uuid=uuidutils.generate_uuid()) @mock.patch('networking_ovn.octavia.ovn_driver.get_network_driver') def test_lb_create(self, net_dr): net_dr.return_value.neutron_client.list_ports.return_value = ( self.ports) status = self.helper.lb_create(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.OFFLINE) self.lb['admin_state_up'] = True status = self.helper.lb_create(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ONLINE) @mock.patch('networking_ovn.octavia.ovn_driver.OvnProviderHelper.' '_find_ovn_lb') @mock.patch('networking_ovn.octavia.ovn_driver.get_network_driver') def test_lb_delete(self, net_dr, lb): net_dr.return_value.neutron_client.delete_port.return_value = None lb.return_value.external_ids.get.return_value = {} status = self.helper.lb_delete(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.DELETED) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.OFFLINE) @mock.patch('networking_ovn.octavia.ovn_driver.OvnProviderHelper.' '_find_ovn_lb') @mock.patch('networking_ovn.octavia.ovn_driver.get_network_driver') def test_lb_cascade_delete(self, net_dr, lb): net_dr.return_value.neutron_client.delete_port.return_value = None lb.return_value.external_ids.get.return_value = {} self.lb['cascade'] = True status = self.helper.lb_delete(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.DELETED) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.OFFLINE) def test_lb_update(self): status = self.helper.lb_update(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.OFFLINE) self.lb['admin_state_up'] = True status = self.helper.lb_update(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ONLINE) def test_listener_update(self): status = self.helper.listener_update(self.listener) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'], []) self.listener['admin_state_up'] = True status = self.helper.listener_update(self.listener) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'], []) def test_listener_create(self): status = self.helper.listener_create(self.listener) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.OFFLINE) self.listener['admin_state_up'] = True status = self.helper.listener_create(self.listener) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.ONLINE) mock.patch.object(self.helper, ""_is_listener_in_lb"", return_value=True).start() status = self.helper.listener_create(self.listener) def test_listener_delete(self): status = self.helper.listener_delete(self.listener) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.DELETED) self.assertEqual(status['listeners'][0]['operating_status'], constants.OFFLINE) def test_pool_create(self): status = self.helper.pool_create(self.pool) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['operating_status'], constants.OFFLINE) self.pool['admin_state_up'] = True # Pool Operating status shouldnt change if member isnt present. status = self.helper.pool_create(self.pool) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['operating_status'], constants.OFFLINE) def test_pool_update(self): status = self.helper.pool_update(self.pool) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['operating_status'], constants.OFFLINE) self.pool['admin_state_up'] = True status = self.helper.pool_update(self.pool) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['operating_status'], constants.ONLINE) def test_pool_delete(self): status = self.helper.pool_delete(self.pool) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.DELETED) def test_member_create(self): status = self.helper.member_create(self.member) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['provisioning_status'], constants.ACTIVE) self.member['admin_state_up'] = False status = self.helper.member_create(self.member) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['provisioning_status'], constants.ACTIVE) def test_member_update(self): status = self.helper.member_update(self.member) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['operating_status'], constants.ONLINE) self.member['admin_state_up'] = False status = self.helper.member_update(self.member) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['operating_status'], constants.OFFLINE) @mock.patch('networking_ovn.octavia.ovn_driver.OvnProviderHelper.' '_refresh_lb_vips') def test_member_delete(self, mock_vip_command): self.ovn_lb.external_ids = { 'pool_' + self.pool_id: 'member_' + self.member_id + '_' + self.member_address + ':' + self.member_port} status = self.helper.member_delete(self.member) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['provisioning_status'], constants.DELETED) ",,686,0
openstack%2Fopenstack-ansible-ops~master~I92a894e31f725a20c684165f93dd4c34b9c8b450,openstack/openstack-ansible-ops,master,I92a894e31f725a20c684165f93dd4c34b9c8b450,Duplicate of elk_metrics_6x to elk_metrics_7x,MERGED,2019-07-09 11:27:16.000000000,2019-07-30 17:29:09.000000000,2019-07-30 17:29:09.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-07-09 11:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/f725ae9b8f7c0290e9dbfab4fca6a39a1e461e8c', 'message': 'Duplicate of elk_metrics_6x to elk_metrics_7x\n\nChange-Id: I92a894e31f725a20c684165f93dd4c34b9c8b450\n'}, {'number': 2, 'created': '2019-07-09 21:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/b0bb7604f9d7ae427c8e67bdbb7590b05c3cd923', 'message': 'Duplicate of elk_metrics_6x to elk_metrics_7x\n\nChange-Id: I92a894e31f725a20c684165f93dd4c34b9c8b450\n'}, {'number': 3, 'created': '2019-07-10 16:53:07.000000000', 'files': ['elk_metrics_7x/roles/elastic_dependencies/vars/vars_elasticsearch.yml', 'elk_metrics_7x/roles/elastic_heartbeat/templates/heartbeat.yml.j2', 'elk_metrics_7x/env.d/elk.yml', 'elk_metrics_7x/roles/elastic_filebeat/meta/main.yml', 'elk_metrics_7x/templates/openstack-log-dashboard.json', 'elk_metrics_7x/createElasticIndexes.yml', 'elk_metrics_7x/roles/elastic_apm_server/defaults/main.yml', 'elk_metrics_7x/showElasticCluster.yml', 'elk_metrics_7x/roles/elastic_kibana/tasks/systemd.general-overrides.conf.j2', 'elk_metrics_7x/roles/elastic_logstash/templates/extras', 'elk_metrics_7x/roles/elastic_curator/handlers/main.yml', 'elk_metrics_7x/roles/elastic_journalbeat/vars/suse.yml', 'elk_metrics_7x/roles/elastic_filebeat/defaults/main.yml', 'elk_metrics_7x/installLogstash.yml', 'elk_metrics_7x/roles/elastic_packetbeat/defaults/main.yml', 'elk_metrics_7x/installPacketbeat.yml', 'elk_metrics_7x/ansible-role-requirements.yml', 'elk_metrics_7x/roles/elastic_data_hosts/tasks/main.yml', 'elk_metrics_7x/setupKibanaDashboard.yml', 'elk_metrics_7x/installAuditbeat.yml', 'elk_metrics_7x/site-elka.yml', 'elk_metrics_7x/roles/elastic_apm_server/vars/redhat.yml', 'elk_metrics_7x/roles/elastic_data_hosts/vars/data-node-variables.yml', 'elk_metrics_7x/roles/elastic_packetbeat/tasks/systemd.general-overrides.conf.j2', 'elk_metrics_7x/roles/elastic_repositories/tasks/elastic_zypper_repos.yml', 'elk_metrics_7x/roles/elastic_metricbeat/tasks/systemd.general-overrides.conf.j2', 'elk_metrics_7x/roles/elastic_logstash/vars/ubuntu.yml', 'elk_metrics_7x/assets/openstack-kibana-custom-dashboard.png', 'elk_metrics_7x/tests/run-cleanup.sh', 'elk_metrics_7x/roles/elastic_metricbeat/tasks/main.yml', 'elk_metrics_7x/roles/elastic_apm_server/meta/main.yml', 'elk_metrics_7x/roles/elastic_metricbeat/handlers/main.yml', 'elk_metrics_7x/roles/elastic_journalbeat/vars/redhat.yml', 'elk_metrics_7x/tests/post-run.yml', 'elk_metrics_7x/roles/elasticsearch/templates/systemd.elasticsearch-overrides.conf.j2', 'elk_metrics_7x/roles/elastic_logstash/vars/redhat.yml', 'elk_metrics_7x/templates/jvm.options.j2', 'elk_metrics_7x/roles/elastic_curator/vars/ubuntu-14.04.yml', 'elk_metrics_7x/roles/elastic_curator/templates/curator-actions-age.yml.j2', 'elk_metrics_7x/roles/elastic_logstash/defaults/main.yml', 'elk_metrics_7x/roles/elasticsearch/tasks/elasticsearch_nfs_setup.yml', 'elk_metrics_7x/installElastic.yml', 'elk_metrics_7x/roles/elastic_dependencies/templates/logrotate.j2', 'elk_metrics_7x/roles/elastic_heartbeat/vars/ubuntu.yml', 'elk_metrics_7x/roles/elasticsearch/templates/elasticsearch.yml.j2', 'elk_metrics_7x/roles/elastic_journalbeat/defaults/main.yml', 'elk_metrics_7x/bootstrap-embedded-ansible.sh', 'elk_metrics_7x/tests/run-tests.sh', 'elk_metrics_7x/roles/elastic_heartbeat/vars/redhat.yml', 'elk_metrics_7x/roles/elastic_metricbeat/templates/apache-status.conf.j2', 'elk_metrics_7x/roles/elastic_metricbeat/templates/metricbeat.yml.j2', 'elk_metrics_7x/assets/Elastic-dataflow.svg', 'elk_metrics_7x/roles/elastic_retention/defaults/main.yml', 'elk_metrics_7x/roles/elastic_kibana/defaults/main.yml', 'elk_metrics_7x/roles/elasticsearch/templates/systemd.general-overrides.conf.j2', 'elk_metrics_7x/roles/elastic_curator/templates/curator-actions-size.yml.j2', 'elk_metrics_7x/roles/elastic_rollup/meta/main.yml', 'elk_metrics_7x/roles/elastic_beat_setup/defaults/main.yml', 'elk_metrics_7x/roles/elastic_auditbeat/tasks/main.yml', 'elk_metrics_7x/roles/elastic_packetbeat/vars/suse.yml', 'elk_metrics_7x/roles/elasticsearch/vars/suse.yml', 'elk_metrics_7x/roles/elastic_logstash/handlers/main.yml', 'elk_metrics_7x/roles/elastic_dependencies/vars/ubuntu.yml', 'elk_metrics_7x/roles/elastic_journalbeat/meta/main.yml', 'elk_metrics_7x/roles/elasticsearch/tasks/elasticsearch_plugins.yml', 'elk_metrics_7x/roles/elastic_filebeat/handlers/main.yml', 'elk_metrics_7x/roles/elastic_logstash/templates/logstash.yml.j2', 'elk_metrics_7x/roles/elastic_metricbeat/defaults/main.yml', 'elk_metrics_7x/roles/elasticsearch/templates/es-log4j2.properties.j2', 'elk_metrics_7x/roles/elastic_repositories/tasks/elastic_apt_repos.yml', 'elk_metrics_7x/installJournalbeat.yml', 'elk_metrics_7x/roles/elastic_auditbeat/vars/ubuntu.yml', 'elk_metrics_7x/roles/elastic_heartbeat/vars/suse.yml', 'elk_metrics_7x/templates/_macros.j2', 'elk_metrics_7x/roles/elastic_retention/vars/calculate_index_retention_default.yml', 'elk_metrics_7x/roles/elasticsearch/meta/main.yml', 'elk_metrics_7x/roles/elastic_kibana/handlers/main.yml', 'elk_metrics_7x/fieldRefresh.yml', 'elk_metrics_7x/roles/elastic_dependencies/vars/redhat.yml', 'elk_metrics_7x/tests/functional.yml', 'elk_metrics_7x/roles/elastic_repositories/tasks/elastic_yum_repos.yml', 'elk_metrics_7x/roles/elastic_dependencies/defaults/main.yml', 'elk_metrics_7x/roles/elastic_curator/tasks/curator_upstart.yml', 'elk_metrics_7x/roles/elastic_auditbeat/vars/redhat.yml', 'elk_metrics_7x/roles/elastic_heartbeat/defaults/main.yml', 'elk_metrics_7x/roles/elastic_packetbeat/meta/main.yml', 'elk_metrics_7x/installKibana.yml', 'elk_metrics_7x/tests/manual-test.rc', 'elk_metrics_7x/roles/elastic_heartbeat/meta/main.yml', 'elk_metrics_7x/roles/elastic_kibana/templates/nginx_default.j2', 'elk_metrics_7x/roles/elastic_logstash/tasks/logstash_arcsight.yml', 'elk_metrics_7x/roles/elastic_metricbeat/meta/main.yml', 'elk_metrics_7x/templates/systemd.general-overrides.conf.j2', 'elk_metrics_7x/roles/elastic_kibana/vars/suse.yml', 'elk_metrics_7x/roles/elastic_curator/vars/suse.yml', 'elk_metrics_7x/roles/elastic_journalbeat/templates/journalbeat.yml.j2', 'elk_metrics_7x/roles/elasticsearch/tasks/main.yml', 'elk_metrics_7x/tests/testLayout.yml', 'elk_metrics_7x/roles/elastic_curator/templates/curator.yml.j2', 'elk_metrics_7x/roles/elastic_kibana/templates/kibana.yml.j2', 'elk_metrics_7x/roles/elastic_packetbeat/tasks/main.yml', 'elk_metrics_7x/installAPMserver.yml', 'elk_metrics_7x/roles/elastic_auditbeat/defaults/main.yml', 'elk_metrics_7x/roles/elastic_apm_server/tasks/main.yml', 'elk_metrics_7x/templates/logstash-pipelines.yml.j2', 'elk_metrics_7x/roles/elastic_auditbeat/meta/main.yml', 'elk_metrics_7x/roles/elastic_metricbeat/vars/ubuntu.yml', 'elk_metrics_7x/installFilebeat.yml', 'elk_metrics_7x/roles/elastic_curator/vars/redhat.yml', 'elk_metrics_7x/tests/run-setup.yml', 'elk_metrics_7x/installCurator.yml', 'elk_metrics_7x/roles/elastic_rollup/tasks/main.yml', 'elk_metrics_7x/roles/elastic_apm_server/handlers/main.yml', 'elk_metrics_7x/roles/elastic_repositories/vars/ubuntu.yml', 'elk_metrics_7x/roles/elasticsearch/handlers/main.yml', 'elk_metrics_7x/tests/_container-setup.yml', 'elk_metrics_7x/roles/elastic_logstash/tasks/logstash_kafka_ssl.yml', 'elk_metrics_7x/tests/inventory/test-metal-inventory.yml', 'elk_metrics_7x/roles/elastic_packetbeat/templates/packetbeat.yml.j2', 'elk_metrics_7x/roles/elastic_heartbeat/handlers/main.yml', 'elk_metrics_7x/roles/elastic_rollup/defaults/main.yml', 'elk_metrics_7x/tests/test.yml', 'elk_metrics_7x/installMonitorStack.yml', 'elk_metrics_7x/roles/elastic_filebeat/tasks/systemd.general-overrides.conf.j2', 'elk_metrics_7x/roles/elastic_auditbeat/vars/suse.yml', 'elk_metrics_7x/roles/elastic_beat_setup/tasks/main.yml', 'elk_metrics_7x/roles/elastic_repositories/vars/redhat.yml', 'elk_metrics_7x/roles/elastic_metricbeat/vars/redhat.yml', 'elk_metrics_7x/roles/elastic_repositories/defaults/main.yml', 'elk_metrics_7x/roles/elastic_apm_server/templates/apm-server.yml.j2', 'elk_metrics_7x/roles/elastic_data_hosts/meta/main.yml', 'elk_metrics_7x/roles/elastic_heartbeat/tasks/systemd.general-overrides.conf.j2', 'elk_metrics_7x/roles/elasticsearch/vars/redhat.yml', 'elk_metrics_7x/assets/Elastic-Stack-Diagram.svg', 'elk_metrics_7x/roles/elastic_curator/tasks/curator_systemd.yml', 'elk_metrics_7x/roles/elastic_kibana/vars/redhat.yml', 'elk_metrics_7x/roles/elastic_filebeat/tasks/main.yml', 'elk_metrics_7x/installHeartbeat.yml', 'elk_metrics_7x/roles/elastic_packetbeat/vars/ubuntu.yml', 'elk_metrics_7x/roles/elastic_apm_server/tasks/systemd.general-overrides.conf.j2', 'elk_metrics_7x/tests/test-vars.yml', 'elk_metrics_7x/roles/elastic_logstash/templates/systemd.logstash-mem-queue.conf.j2', 'elk_metrics_7x/roles/elastic_filebeat/templates/filebeat.yml.j2', 'elk_metrics_7x/roles/elasticsearch/vars/ubuntu.yml', 'elk_metrics_7x/roles/elastic_kibana/tasks/main.yml', 'elk_metrics_7x/roles/elastic_kibana/vars/ubuntu.yml', 'elk_metrics_7x/roles/elastic_auditbeat/tasks/systemd.general-overrides.conf.j2', 'elk_metrics_7x/roles/elastic_retention/tasks/main.yml', 'elk_metrics_7x/site.yml', 'elk_metrics_7x/roles/elastic_packetbeat/vars/redhat.yml', 'elk_metrics_7x/roles/elastic_repositories/tasks/main.yml', 'elk_metrics_7x/roles/elastic_curator/meta/main.yml', 'elk_metrics_7x/roles/elastic_dependencies/meta/main.yml', 'elk_metrics_7x/roles/elastic_curator/tasks/main.yml', 'elk_metrics_7x/roles/elastic_heartbeat/tasks/main.yml', 'elk_metrics_7x/roles/elastic_metricbeat/templates/nginx-status.conf.j2', 'elk_metrics_7x/roles/elastic_journalbeat/vars/ubuntu.yml', 'elk_metrics_7x/vars/variables.yml', 'elk_metrics_7x/roles/elastic_apm_server/vars/ubuntu.yml', 'elk_metrics_7x/roles/elastic_dependencies/vars/vars_logstash.yml', 'elk_metrics_7x/roles/elastic_beat_setup/meta/main.yml', 'elk_metrics_7x/roles/elasticsearch/vars/vars_default.yml', 'elk_metrics_7x/roles/elasticsearch/defaults/main.yml', 'elk_metrics_7x/roles/elastic_kibana/meta/main.yml', 'elk_metrics_7x/roles/elastic_logstash/vars/suse.yml', 'elk_metrics_7x/roles/elastic_journalbeat/handlers/main.yml', 'elk_metrics_7x/roles/elastic_data_hosts/defaults/main.yml', 'elk_metrics_7x/roles/elasticsearch/vars/vars_kibana.yml', 'elk_metrics_7x/site-beats-core.yml', 'elk_metrics_7x/roles/elastic_apm_server/vars/suse.yml', 'elk_metrics_7x/tests/inventory/test-container-inventory.yml', 'elk_metrics_7x/roles/elastic_repositories/meta/main.yml', 'elk_metrics_7x/roles/elastic_journalbeat/tasks/main.yml', 'elk_metrics_7x/roles/elastic_auditbeat/templates/auditbeat.yml.j2', 'elk_metrics_7x/roles/elastic_retention/meta/main.yml', 'elk_metrics_7x/README.rst', 'elk_metrics_7x/roles/elastic_filebeat/vars/ubuntu.yml', 'elk_metrics_7x/roles/elastic_curator/vars/ubuntu.yml', 'elk_metrics_7x/roles/elastic_logstash/tasks/main.yml', 'elk_metrics_7x/roles/elastic_dependencies/vars/suse.yml', 'elk_metrics_7x/roles/elastic_filebeat/vars/suse.yml', 'elk_metrics_7x/roles/elastic_repositories/vars/suse.yml', 'elk_metrics_7x/tests/_key-setup.yml', 'elk_metrics_7x/tests/ansible-role-requirements.yml', 'elk_metrics_7x/roles/elastic_dependencies/tasks/main.yml', 'elk_metrics_7x/roles/elastic_metricbeat/vars/suse.yml', 'elk_metrics_7x/roles/elastic_auditbeat/handlers/main.yml', 'elk_metrics_7x/conf.d/elk.yml', 'elk_metrics_7x/tests/testAPI.yml', 'elk_metrics_7x/roles/elastic_filebeat/vars/redhat.yml', 'elk_metrics_7x/roles/elastic_packetbeat/handlers/main.yml', 'elk_metrics_7x/installMetricbeat.yml', 'elk_metrics_7x/roles/elastic_repositories/vars/ubuntu-14.04.yml', 'elk_metrics_7x/roles/elastic_logstash/meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/5e968441238f388f171669e2b080709b10ff1ca1', 'message': 'Duplicate of elk_metrics_6x to elk_metrics_7x\n\nChange-Id: I92a894e31f725a20c684165f93dd4c34b9c8b450\n'}]",0,669851,5e968441238f388f171669e2b080709b10ff1ca1,11,3,3,29865,,,0,"Duplicate of elk_metrics_6x to elk_metrics_7x

Change-Id: I92a894e31f725a20c684165f93dd4c34b9c8b450
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/51/669851/1 && git format-patch -1 --stdout FETCH_HEAD,"['elk_metrics_7x/roles/elastic_dependencies/vars/vars_elasticsearch.yml', 'elk_metrics_7x/roles/elastic_heartbeat/templates/heartbeat.yml.j2', 'elk_metrics_7x/env.d/elk.yml', 'elk_metrics_7x/roles/elastic_filebeat/meta/main.yml', 'elk_metrics_7x/templates/openstack-log-dashboard.json', 'elk_metrics_7x/createElasticIndexes.yml', 'elk_metrics_7x/roles/elastic_apm_server/defaults/main.yml', 'elk_metrics_7x/showElasticCluster.yml', 'elk_metrics_7x/roles/elastic_kibana/tasks/systemd.general-overrides.conf.j2', 'elk_metrics_7x/roles/elastic_logstash/templates/extras', 'elk_metrics_7x/roles/elastic_curator/handlers/main.yml', 'elk_metrics_7x/roles/elastic_journalbeat/vars/suse.yml', 'elk_metrics_7x/roles/elastic_filebeat/defaults/main.yml', 'elk_metrics_7x/installLogstash.yml', 'elk_metrics_7x/roles/elastic_packetbeat/defaults/main.yml', 'elk_metrics_7x/installPacketbeat.yml', 'elk_metrics_7x/ansible-role-requirements.yml', 'elk_metrics_7x/roles/elastic_data_hosts/tasks/main.yml', 'elk_metrics_7x/setupKibanaDashboard.yml', 'elk_metrics_7x/installAuditbeat.yml', 'elk_metrics_7x/site-elka.yml', 'elk_metrics_7x/roles/elastic_apm_server/vars/redhat.yml', 'elk_metrics_7x/roles/elastic_data_hosts/vars/data-node-variables.yml', 'elk_metrics_7x/roles/elastic_packetbeat/tasks/systemd.general-overrides.conf.j2', 'elk_metrics_7x/roles/elastic_repositories/tasks/elastic_zypper_repos.yml', 'elk_metrics_7x/roles/elastic_metricbeat/tasks/systemd.general-overrides.conf.j2', 'elk_metrics_7x/roles/elastic_logstash/vars/ubuntu.yml', 'elk_metrics_7x/assets/openstack-kibana-custom-dashboard.png', 'elk_metrics_7x/tests/run-cleanup.sh', 'elk_metrics_7x/roles/elastic_metricbeat/tasks/main.yml', 'elk_metrics_7x/roles/elastic_apm_server/meta/main.yml', 'elk_metrics_7x/roles/elastic_metricbeat/handlers/main.yml', 'elk_metrics_7x/roles/elastic_journalbeat/vars/redhat.yml', 'elk_metrics_7x/tests/post-run.yml', 'elk_metrics_7x/roles/elasticsearch/templates/systemd.elasticsearch-overrides.conf.j2', 'elk_metrics_7x/roles/elastic_logstash/vars/redhat.yml', 'elk_metrics_7x/templates/jvm.options.j2', 'elk_metrics_7x/roles/elastic_curator/vars/ubuntu-14.04.yml', 'elk_metrics_7x/roles/elastic_curator/templates/curator-actions-age.yml.j2', 'elk_metrics_7x/roles/elastic_logstash/defaults/main.yml', 'elk_metrics_7x/roles/elasticsearch/tasks/elasticsearch_nfs_setup.yml', 'elk_metrics_7x/installElastic.yml', 'elk_metrics_7x/roles/elastic_dependencies/templates/logrotate.j2', 'elk_metrics_7x/roles/elastic_heartbeat/vars/ubuntu.yml', 'elk_metrics_7x/roles/elasticsearch/templates/elasticsearch.yml.j2', 'elk_metrics_7x/roles/elastic_journalbeat/defaults/main.yml', 'elk_metrics_7x/bootstrap-embedded-ansible.sh', 'elk_metrics_7x/tests/run-tests.sh', 'elk_metrics_7x/roles/elastic_heartbeat/vars/redhat.yml', 'elk_metrics_7x/roles/elastic_metricbeat/templates/apache-status.conf.j2', 'elk_metrics_7x/roles/elastic_metricbeat/templates/metricbeat.yml.j2', 'elk_metrics_7x/assets/Elastic-dataflow.svg', 'elk_metrics_7x/roles/elastic_retention/defaults/main.yml', 'elk_metrics_7x/roles/elastic_kibana/defaults/main.yml', 'elk_metrics_7x/roles/elasticsearch/templates/systemd.general-overrides.conf.j2', 'elk_metrics_7x/roles/elastic_curator/templates/curator-actions-size.yml.j2', 'elk_metrics_7x/roles/elastic_rollup/meta/main.yml', 'elk_metrics_7x/roles/elastic_beat_setup/defaults/main.yml', 'elk_metrics_7x/roles/elastic_auditbeat/tasks/main.yml', 'elk_metrics_7x/roles/elastic_packetbeat/vars/suse.yml', 'elk_metrics_7x/roles/elasticsearch/vars/suse.yml', 'elk_metrics_7x/roles/elastic_logstash/handlers/main.yml', 'elk_metrics_7x/roles/elastic_dependencies/vars/ubuntu.yml', 'elk_metrics_7x/roles/elastic_journalbeat/meta/main.yml', 'elk_metrics_7x/roles/elasticsearch/tasks/elasticsearch_plugins.yml', 'elk_metrics_7x/roles/elastic_filebeat/handlers/main.yml', 'elk_metrics_7x/roles/elastic_logstash/templates/logstash.yml.j2', 'elk_metrics_7x/roles/elastic_metricbeat/defaults/main.yml', 'elk_metrics_7x/roles/elasticsearch/templates/es-log4j2.properties.j2', 'elk_metrics_7x/roles/elastic_repositories/tasks/elastic_apt_repos.yml', 'elk_metrics_7x/installJournalbeat.yml', 'elk_metrics_7x/roles/elastic_auditbeat/vars/ubuntu.yml', 'elk_metrics_7x/roles/elastic_heartbeat/vars/suse.yml', 'elk_metrics_7x/templates/_macros.j2', 'elk_metrics_7x/roles/elastic_retention/vars/calculate_index_retention_default.yml', 'elk_metrics_7x/roles/elasticsearch/meta/main.yml', 'elk_metrics_7x/roles/elastic_kibana/handlers/main.yml', 'elk_metrics_7x/fieldRefresh.yml', 'elk_metrics_7x/roles/elastic_dependencies/vars/redhat.yml', 'elk_metrics_7x/tests/functional.yml', 'elk_metrics_7x/roles/elastic_repositories/tasks/elastic_yum_repos.yml', 'elk_metrics_7x/roles/elastic_dependencies/defaults/main.yml', 'elk_metrics_7x/roles/elastic_curator/tasks/curator_upstart.yml', 'elk_metrics_7x/roles/elastic_auditbeat/vars/redhat.yml', 'elk_metrics_7x/roles/elastic_heartbeat/defaults/main.yml', 'elk_metrics_7x/roles/elastic_packetbeat/meta/main.yml', 'elk_metrics_7x/installKibana.yml', 'elk_metrics_7x/tests/manual-test.rc', 'elk_metrics_7x/roles/elastic_heartbeat/meta/main.yml', 'elk_metrics_7x/roles/elastic_kibana/templates/nginx_default.j2', 'elk_metrics_7x/roles/elastic_logstash/tasks/logstash_arcsight.yml', 'elk_metrics_7x/roles/elastic_metricbeat/meta/main.yml', 'elk_metrics_7x/templates/systemd.general-overrides.conf.j2', 'elk_metrics_7x/roles/elastic_kibana/vars/suse.yml', 'elk_metrics_7x/roles/elastic_curator/vars/suse.yml', 'elk_metrics_7x/roles/elastic_journalbeat/templates/journalbeat.yml.j2', 'elk_metrics_7x/roles/elasticsearch/tasks/main.yml', 'elk_metrics_7x/tests/testLayout.yml', 'elk_metrics_7x/roles/elastic_curator/templates/curator.yml.j2', 'elk_metrics_7x/roles/elastic_kibana/templates/kibana.yml.j2', 'elk_metrics_7x/roles/elastic_packetbeat/tasks/main.yml', 'elk_metrics_7x/installAPMserver.yml', 'elk_metrics_7x/roles/elastic_auditbeat/defaults/main.yml', 'elk_metrics_7x/roles/elastic_apm_server/tasks/main.yml', 'elk_metrics_7x/templates/logstash-pipelines.yml.j2', 'elk_metrics_7x/roles/elastic_auditbeat/meta/main.yml', 'elk_metrics_7x/roles/elastic_metricbeat/vars/ubuntu.yml', 'elk_metrics_7x/installFilebeat.yml', 'elk_metrics_7x/roles/elastic_curator/vars/redhat.yml', 'elk_metrics_7x/tests/run-setup.yml', 'elk_metrics_7x/installCurator.yml', 'elk_metrics_7x/roles/elastic_rollup/tasks/main.yml', 'elk_metrics_7x/roles/elastic_apm_server/handlers/main.yml', 'elk_metrics_7x/roles/elastic_repositories/vars/ubuntu.yml', 'elk_metrics_7x/roles/elasticsearch/handlers/main.yml', 'elk_metrics_7x/tests/_container-setup.yml', 'elk_metrics_7x/roles/elastic_logstash/tasks/logstash_kafka_ssl.yml', 'elk_metrics_7x/tests/inventory/test-metal-inventory.yml', 'elk_metrics_7x/roles/elastic_packetbeat/templates/packetbeat.yml.j2', 'elk_metrics_7x/roles/elastic_heartbeat/handlers/main.yml', 'elk_metrics_7x/roles/elastic_rollup/defaults/main.yml', 'elk_metrics_7x/tests/test.yml', 'elk_metrics_7x/installMonitorStack.yml', 'elk_metrics_7x/roles/elastic_filebeat/tasks/systemd.general-overrides.conf.j2', 'elk_metrics_7x/roles/elastic_auditbeat/vars/suse.yml', 'elk_metrics_7x/roles/elastic_beat_setup/tasks/main.yml', 'elk_metrics_7x/roles/elastic_repositories/vars/redhat.yml', 'elk_metrics_7x/roles/elastic_metricbeat/vars/redhat.yml', 'elk_metrics_7x/roles/elastic_repositories/defaults/main.yml', 'elk_metrics_7x/roles/elastic_apm_server/templates/apm-server.yml.j2', 'elk_metrics_7x/roles/elastic_data_hosts/meta/main.yml', 'elk_metrics_7x/roles/elastic_heartbeat/tasks/systemd.general-overrides.conf.j2', 'elk_metrics_7x/roles/elasticsearch/vars/redhat.yml', 'elk_metrics_7x/assets/Elastic-Stack-Diagram.svg', 'elk_metrics_7x/roles/elastic_curator/tasks/curator_systemd.yml', 'elk_metrics_7x/roles/elastic_kibana/vars/redhat.yml', 'elk_metrics_7x/roles/elastic_filebeat/tasks/main.yml', 'elk_metrics_7x/installHeartbeat.yml', 'elk_metrics_7x/roles/elastic_packetbeat/vars/ubuntu.yml', 'elk_metrics_7x/roles/elastic_apm_server/tasks/systemd.general-overrides.conf.j2', 'elk_metrics_7x/tests/test-vars.yml', 'elk_metrics_7x/roles/elastic_logstash/templates/systemd.logstash-mem-queue.conf.j2', 'elk_metrics_7x/roles/elastic_filebeat/templates/filebeat.yml.j2', 'elk_metrics_7x/roles/elasticsearch/vars/ubuntu.yml', 'elk_metrics_7x/roles/elastic_kibana/tasks/main.yml', 'elk_metrics_7x/roles/elastic_kibana/vars/ubuntu.yml', 'elk_metrics_7x/roles/elastic_auditbeat/tasks/systemd.general-overrides.conf.j2', 'elk_metrics_7x/roles/elastic_retention/tasks/main.yml', 'elk_metrics_7x/site.yml', 'elk_metrics_7x/roles/elastic_packetbeat/vars/redhat.yml', 'elk_metrics_7x/roles/elastic_repositories/tasks/main.yml', 'elk_metrics_7x/roles/elastic_curator/meta/main.yml', 'elk_metrics_7x/roles/elastic_dependencies/meta/main.yml', 'elk_metrics_7x/roles/elastic_curator/tasks/main.yml', 'elk_metrics_7x/roles/elastic_heartbeat/tasks/main.yml', 'elk_metrics_7x/roles/elastic_metricbeat/templates/nginx-status.conf.j2', 'elk_metrics_7x/roles/elastic_journalbeat/vars/ubuntu.yml', 'elk_metrics_7x/vars/variables.yml', 'elk_metrics_7x/roles/elastic_apm_server/vars/ubuntu.yml', 'elk_metrics_7x/roles/elastic_dependencies/vars/vars_logstash.yml', 'elk_metrics_7x/roles/elastic_beat_setup/meta/main.yml', 'elk_metrics_7x/roles/elasticsearch/vars/vars_default.yml', 'elk_metrics_7x/roles/elasticsearch/defaults/main.yml', 'elk_metrics_7x/roles/elastic_kibana/meta/main.yml', 'elk_metrics_7x/roles/elastic_logstash/vars/suse.yml', 'elk_metrics_7x/roles/elastic_journalbeat/handlers/main.yml', 'elk_metrics_7x/roles/elastic_data_hosts/defaults/main.yml', 'elk_metrics_7x/roles/elasticsearch/vars/vars_kibana.yml', 'elk_metrics_7x/site-beats-core.yml', 'elk_metrics_7x/roles/elastic_apm_server/vars/suse.yml', 'elk_metrics_7x/tests/inventory/test-container-inventory.yml', 'elk_metrics_7x/roles/elastic_repositories/meta/main.yml', 'elk_metrics_7x/roles/elastic_journalbeat/tasks/main.yml', 'elk_metrics_7x/roles/elastic_auditbeat/templates/auditbeat.yml.j2', 'elk_metrics_7x/roles/elastic_retention/meta/main.yml', 'elk_metrics_7x/README.rst', 'elk_metrics_7x/roles/elastic_filebeat/vars/ubuntu.yml', 'elk_metrics_7x/roles/elastic_curator/vars/ubuntu.yml', 'elk_metrics_7x/roles/elastic_logstash/tasks/main.yml', 'elk_metrics_7x/roles/elastic_dependencies/vars/suse.yml', 'elk_metrics_7x/roles/elastic_filebeat/vars/suse.yml', 'elk_metrics_7x/roles/elastic_repositories/vars/suse.yml', 'elk_metrics_7x/tests/_key-setup.yml', 'elk_metrics_7x/tests/ansible-role-requirements.yml', 'elk_metrics_7x/roles/elastic_dependencies/tasks/main.yml', 'elk_metrics_7x/roles/elastic_metricbeat/vars/suse.yml', 'elk_metrics_7x/roles/elastic_auditbeat/handlers/main.yml', 'elk_metrics_7x/conf.d/elk.yml', 'elk_metrics_7x/tests/testAPI.yml', 'elk_metrics_7x/roles/elastic_filebeat/vars/redhat.yml', 'elk_metrics_7x/roles/elastic_packetbeat/handlers/main.yml', 'elk_metrics_7x/installMetricbeat.yml', 'elk_metrics_7x/roles/elastic_repositories/vars/ubuntu-14.04.yml', 'elk_metrics_7x/roles/elastic_logstash/meta/main.yml']",194,f725ae9b8f7c0290e9dbfab4fca6a39a1e461e8c,669852,"--- # Copyright 2018, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. galaxy_info: author: OpenStack description: Elastic v6.x logstash role company: Rackspace license: Apache2 min_ansible_version: 2.5 platforms: - name: Ubuntu versions: - trusty - xenial - bionic categories: - cloud - development - elasticsearch - elastic-stack dependencies: - role: elastic_data_hosts - role: elastic_repositories - role: elastic_dependencies service_name: logstash service_owner: logstash service_group: logstash ",,16967,0
openstack%2Fmanila~master~I21c08069ff82b3bfb52ef7ac960183ddc866c2ee,openstack/manila,master,I21c08069ff82b3bfb52ef7ac960183ddc866c2ee,Make manila-tempest-plugin installation optional,MERGED,2019-07-30 00:17:02.000000000,2019-07-30 17:18:41.000000000,2019-07-30 17:18:41.000000000,"[{'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2019-07-30 00:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/72ad3c958b2d14f2180993ec87c894a933209c33', 'message': ""Make manila-tempest-plugin installation optional\n\nmanila-tempest-plugin can be installed with its\ndevstack plugin; Installing it via manila's plugin\nis unnecessary. So, deprecate its installation\nin the DevStack plugin.\n\nChange-Id: I21c08069ff82b3bfb52ef7ac960183ddc866c2ee\n""}, {'number': 2, 'created': '2019-07-30 00:54:19.000000000', 'files': ['playbooks/legacy/manila-tempest-minimal-dsvm-lvm/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-postgres-zfsonlinux/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-hdfs/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-container-scenario-custom-image/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-native-centos-7/run.yaml', 'devstack/settings', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-native/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-dummy-py2/run.yaml', 'contrib/ci/pre_test_hook.sh', 'playbooks/legacy/manila-tempest-dsvm-postgres-container/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-postgres-generic-singlebackend/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-generic-scenario-custom-image/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-nfs/run.yaml', 'playbooks/legacy/grenade-dsvm-manila/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-generic-no-share-servers/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-mysql-generic/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-glusterfs-native-heketi/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-glusterfs-nfs/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-dummy/run.yaml', 'devstack/plugin.sh', 'playbooks/legacy/manila-tempest-dsvm-glusterfs-nfs-heketi/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-nfs-centos-7/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-scenario/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-glusterfs-native/run.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/8d03a2a46e233b3628ffe59af67c1feb789e1669', 'message': ""Make manila-tempest-plugin installation optional\n\nmanila-tempest-plugin can be installed with its\ndevstack plugin; Installing it via manila's plugin\nis unnecessary. So, deprecate its installation\nin the DevStack plugin.\n\nChange-Id: I21c08069ff82b3bfb52ef7ac960183ddc866c2ee\n""}]",0,673377,8d03a2a46e233b3628ffe59af67c1feb789e1669,17,9,2,16643,,,0,"Make manila-tempest-plugin installation optional

manila-tempest-plugin can be installed with its
devstack plugin; Installing it via manila's plugin
is unnecessary. So, deprecate its installation
in the DevStack plugin.

Change-Id: I21c08069ff82b3bfb52ef7ac960183ddc866c2ee
",git fetch https://review.opendev.org/openstack/manila refs/changes/77/673377/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/rally-dsvm-manila-multibackend-no-ss/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-lvm/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-postgres-zfsonlinux/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-hdfs/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-container-scenario-custom-image/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-native-centos-7/run.yaml', 'devstack/settings', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-native/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-dummy-py2/run.yaml', 'contrib/ci/pre_test_hook.sh', 'playbooks/legacy/manila-tempest-dsvm-postgres-container/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-postgres-generic-singlebackend/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-generic-scenario-custom-image/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-nfs/run.yaml', 'playbooks/legacy/grenade-dsvm-manila/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-generic-no-share-servers/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-mysql-generic/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-glusterfs-native-heketi/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-glusterfs-nfs/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-dummy/run.yaml', 'devstack/plugin.sh', 'playbooks/legacy/manila-tempest-dsvm-glusterfs-nfs-heketi/run.yaml', 'playbooks/legacy/rally-dsvm-manila-multibackend/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-nfs-centos-7/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-scenario/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-glusterfs-native/run.yaml']",26,72ad3c958b2d14f2180993ec87c894a933209c33,tempest-plugin, enable_plugin manila-tempest-plugin https://opendev.org/openstack/manila-tempest-plugin export MANILA_INSTALL_TEMPEST_PLUGIN_SYSTEMWIDE=False," export PROJECTS=""openstack/manila-tempest-plugin $PROJECTS""",59,27
openstack%2Fopenstack-ansible-os_ironic~stable%2Fstein~I2a10ce390815962b55897ddc45da995e4e45f9c0,openstack/openstack-ansible-os_ironic,stable/stein,I2a10ce390815962b55897ddc45da995e4e45f9c0,Fix ironic package list,MERGED,2019-07-26 16:41:35.000000000,2019-07-30 17:18:14.000000000,2019-07-30 17:18:13.000000000,"[{'_account_id': 1004}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-26 16:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/43d44db105d332c1b53d7d4eabb273ccbc364190', 'message': ""Fix ironic package list\n\nWithout this patch, ironic would fail to install on CentOS, as\nlibffi-dev doesn't exist (and other packages have the same problem).\n\nThis should fix it.\n\nChange-Id: I2a10ce390815962b55897ddc45da995e4e45f9c0\n(cherry picked from commit c9b91a2585f7f4082d4f18544580c0f4153a3313)\n""}, {'number': 2, 'created': '2019-07-30 13:22:42.000000000', 'files': ['vars/redhat-7.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/d47ff1dc7e216c1bb626382ecdd8d6d4e4e43a08', 'message': ""Fix ironic package list\n\nWithout this patch, ironic would fail to install on CentOS, as\nlibffi-dev doesn't exist (and other packages have the same problem).\n\nThis should fix it.\n\nThis is a combined backport of https://review.opendev.org/670294 and\nhttps://review.opendev.org/670040\n\nChange-Id: I2a10ce390815962b55897ddc45da995e4e45f9c0\n""}]",4,673017,d47ff1dc7e216c1bb626382ecdd8d6d4e4e43a08,19,6,2,28008,,,0,"Fix ironic package list

Without this patch, ironic would fail to install on CentOS, as
libffi-dev doesn't exist (and other packages have the same problem).

This should fix it.

This is a combined backport of https://review.opendev.org/670294 and
https://review.opendev.org/670040

Change-Id: I2a10ce390815962b55897ddc45da995e4e45f9c0
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/17/673017/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-7.yml'],1,43d44db105d332c1b53d7d4eabb273ccbc364190,fix_ironic_packages-stable/stein, - libffi-devel - libxml2-devel - libxml2-devel - syslinux-tftpboot - libxslt-devel - qemu-kvm-tools - libiscsi-utils - iscsi-initiator-utils - tftp-server, - libffi-dev - libxml2-dev - libxml2-dev - pxelinux - libxslt1-dev - qemu-utils - libpq-dev - python-yaml - open-iscsi - tftpd-hpa,9,10
openstack%2Fnova-specs~master~Ia597059a9b3f2154488ac77ea29c87901fcbeac7,openstack/nova-specs,master,Ia597059a9b3f2154488ac77ea29c87901fcbeac7,Fix URL to blueprint for Secure Boot,MERGED,2019-07-30 10:48:36.000000000,2019-07-30 17:04:03.000000000,2019-07-30 17:04:03.000000000,"[{'_account_id': 6962}, {'_account_id': 7634}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 10:48:36.000000000', 'files': ['specs/train/approved/allow-secure-boot-for-qemu-kvm-guests.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e3d3caef31e0028a89bbdc4766dea78058bef596', 'message': 'Fix URL to blueprint for Secure Boot\n\nThe spec had the wrong URL.\n\nChange-Id: Ia597059a9b3f2154488ac77ea29c87901fcbeac7\n'}]",0,673477,e3d3caef31e0028a89bbdc4766dea78058bef596,7,4,1,2394,,,0,"Fix URL to blueprint for Secure Boot

The spec had the wrong URL.

Change-Id: Ia597059a9b3f2154488ac77ea29c87901fcbeac7
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/77/673477/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/approved/allow-secure-boot-for-qemu-kvm-guests.rst'],1,e3d3caef31e0028a89bbdc4766dea78058bef596,fix-secure-boot-bp-URL,https://blueprints.launchpad.net/nova/+spec/allow-secure-boot-for-qemu-kvm-guests,https://blueprints.launchpad.net/nova/+spec/allow-secure-boot-for-nova-instances,1,1
openstack%2Fopenstacksdk~master~I9c2dd35c1c5f823d8c482f0177e87d49024242a4,openstack/openstacksdk,master,I9c2dd35c1c5f823d8c482f0177e87d49024242a4,Add node traits support to baremetal,MERGED,2019-07-23 09:05:22.000000000,2019-07-30 16:53:45.000000000,2019-07-30 16:53:44.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-07-23 09:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1a211a6859bdf689bdb92087114af3bbccd9e8ed', 'message': 'Add basic node traits support to baremetal\n\nThis patch adds add-trait and remove-trait methods to the\nbaremetal module.\n\nChange-Id: I9c2dd35c1c5f823d8c482f0177e87d49024242a4\n'}, {'number': 2, 'created': '2019-07-23 11:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/21c5164e688b9cb87b524e7d12716bb2a158d954', 'message': 'Add basic node traits support to baremetal\n\nThis patch adds add-trait and remove-trait methods to the\nbaremetal module.\n\nChange-Id: I9c2dd35c1c5f823d8c482f0177e87d49024242a4\n'}, {'number': 3, 'created': '2019-07-23 13:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/06d660db84fded6507dce556ee23c064e4141f3a', 'message': 'Add basic node traits support to baremetal\n\nThis patch adds add-trait and remove-trait methods to the\nbaremetal module.\n\nChange-Id: I9c2dd35c1c5f823d8c482f0177e87d49024242a4\n'}, {'number': 4, 'created': '2019-07-24 00:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1f09c9ab560d9fe9651a29c89dc15e66af4f50ba', 'message': 'Add node traits support to baremetal\n\nThis patch adds add-trait, remove-trait and set-traits\nmethods to the baremetal module.\n\nChange-Id: I9c2dd35c1c5f823d8c482f0177e87d49024242a4\n'}, {'number': 5, 'created': '2019-07-24 00:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/21713b360d5b57a95a02d6ed6901f90e084355cf', 'message': 'Add node traits support to baremetal\n\nThis patch adds add-trait, remove-trait and set-traits\nmethods to the baremetal module.\n\nChange-Id: I9c2dd35c1c5f823d8c482f0177e87d49024242a4\n'}, {'number': 6, 'created': '2019-07-24 00:05:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a34348934ad1bc5f15e2273273c24378e68f632b', 'message': 'Add node traits support to baremetal\n\nThis patch adds add-trait, remove-trait and set-traits\nmethods to the baremetal module.\n\nChange-Id: I9c2dd35c1c5f823d8c482f0177e87d49024242a4\n'}, {'number': 7, 'created': '2019-07-24 08:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0e6c88612976b9c4953794eea03d29bd5dcb24d2', 'message': 'Add node traits support to baremetal\n\nThis patch adds add-trait, remove-trait and set-traits\nmethods to the baremetal module.\n\nChange-Id: I9c2dd35c1c5f823d8c482f0177e87d49024242a4\n'}, {'number': 8, 'created': '2019-07-24 10:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8289933a0844b9a4e800732b38beebb1a1d4bac6', 'message': 'Add node traits support to baremetal\n\nThis patch adds add-trait, remove-trait and set-traits\nmethods to the baremetal module.\n\nChange-Id: I9c2dd35c1c5f823d8c482f0177e87d49024242a4\n'}, {'number': 9, 'created': '2019-07-24 15:52:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/726d6394f738126eff0a4f095e2093d51d2f0e4b', 'message': 'Add node traits support to baremetal\n\nThis patch adds add-trait, remove-trait and set-traits\nmethods to the baremetal module.\n\nChange-Id: I9c2dd35c1c5f823d8c482f0177e87d49024242a4\n'}, {'number': 10, 'created': '2019-07-24 22:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ce763c7c729140a82de10de3bc32220a0c552ca7', 'message': 'Add node traits support to baremetal\n\nThis patch adds add-trait, remove-trait and set-traits\nmethods to the baremetal module.\n\nChange-Id: I9c2dd35c1c5f823d8c482f0177e87d49024242a4\n'}, {'number': 11, 'created': '2019-07-24 22:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/92b36647b32e69dc5a7d7a98dc0e82c4bbd52ad7', 'message': 'Add node traits support to baremetal\n\nThis patch adds add-trait, remove-trait and set-traits\nmethods to the baremetal module.\n\nChange-Id: I9c2dd35c1c5f823d8c482f0177e87d49024242a4\n'}, {'number': 12, 'created': '2019-07-25 14:03:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8ed9b111772ce1c081ea3d4806019950f9c5d174', 'message': 'Add node traits support to baremetal\n\nThis patch adds add-trait, remove-trait and set-traits\nmethods to the baremetal module.\n\nChange-Id: I9c2dd35c1c5f823d8c482f0177e87d49024242a4\n'}, {'number': 13, 'created': '2019-07-25 16:34:57.000000000', 'files': ['openstack/tests/unit/baremetal/v1/test_node.py', 'openstack/baremetal/v1/_proxy.py', 'releasenotes/notes/baremetal-traits-d1137318db33b8d1.yaml', 'openstack/tests/functional/baremetal/test_baremetal_node.py', 'openstack/baremetal/v1/node.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f162b71cb84439dfeef27f84afc79d1d34c38a9b', 'message': 'Add node traits support to baremetal\n\nThis patch adds add-trait, remove-trait and set-traits\nmethods to the baremetal module.\n\nChange-Id: I9c2dd35c1c5f823d8c482f0177e87d49024242a4\n'}]",34,672233,f162b71cb84439dfeef27f84afc79d1d34c38a9b,44,4,13,23851,,,0,"Add node traits support to baremetal

This patch adds add-trait, remove-trait and set-traits
methods to the baremetal module.

Change-Id: I9c2dd35c1c5f823d8c482f0177e87d49024242a4
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/33/672233/13 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/baremetal/v1/test_node.py', 'openstack/baremetal/v1/_proxy.py', 'openstack/baremetal/v1/node.py']",3,1a211a6859bdf689bdb92087114af3bbccd9e8ed,basic-traits," def add_trait(self, session, trait): """"""Add a trait to a node. :param session: The session to use for making this request. :param trait: The trait to add to the node. :returns: The updated :class:`~openstack.baremetal.v1.node.Node` """""" session = self._get_session(session) version = utils.pick_microversion(session, None) request = self._prepare_request(requires_id=True) request.url = utils.urljoin(request.url, 'traits', trait) response = session.put( request.url, json=None, headers=request.headers, microversion=version, retriable_status_codes=_common.RETRIABLE_STATUS_CODES) msg = (""Failed to add trait {trait} for node {node}"" .format(trait=trait, node=self.id)) exceptions.raise_from_response(response, error_message=msg) def remove_trait(self, session, trait): """"""Remove a trait from a node. :param session: The session to use for making this request. :param trait: The trait to remove from the node. :returns: The updated :class:`~openstack.baremetal.v1.node.Node` """""" session = self._get_session(session) version = utils.pick_microversion(session, None) request = self._prepare_request(requires_id=True) request.url = utils.urljoin(request.url, 'traits', trait) response = session.delete( request.url, headers=request.headers, microversion=version, retriable_status_codes=_common.RETRIABLE_STATUS_CODES) if response.status_code == 400: session.log.debug( 'Trait %(trait)s was already removed from node %(node)s', {'trait': trait, 'node': self.id}) return False msg = (""Failed to remove trait {trait} from bare metal node {node}"" .format(node=self.id, trait=trait)) exceptions.raise_from_response(response, error_message=msg) return True ",,95,0
openstack%2Fplacement~master~Iff0e8d91048a4644cca4fd9242535b940b721d3b,openstack/placement,master,Iff0e8d91048a4644cca4fd9242535b940b721d3b,Run 'tempest-ipv6-only' job in gate,MERGED,2019-07-20 17:54:27.000000000,2019-07-30 16:52:03.000000000,2019-07-30 16:52:03.000000000,"[{'_account_id': 8556}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-20 17:54:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/8eedcfcea5c3cc5b8d43d656a659efa00c6f7f37', 'message': ""Run 'tempest-ipv6-only' job in gate\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nTempest has defined the new job 'tempest-ipv6-only'(adding\nin Depends-On patch) which will deploy services on IPv6 and run smoke\ntests and IPv6 related tests present in Tempest.\n\nThis job will be part of Nova, Neutron, Cinder, Keystone, Glance, Swift\ngate.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- 'tempest-ipv6-only' will run the smoke + IPv6 related test case.\n\nThis commit adds the new job 'tempest-ipv6-only' run on gate.\n\nStory: #2005477\nTask: #35919\n\nDepends-On: https://review.opendev.org/#/c/671231/\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: Iff0e8d91048a4644cca4fd9242535b940b721d3b\n""}]",1,671904,8eedcfcea5c3cc5b8d43d656a659efa00c6f7f37,11,4,1,8556,,,0,"Run 'tempest-ipv6-only' job in gate

As part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],
Tempest has defined the new job 'tempest-ipv6-only'(adding
in Depends-On patch) which will deploy services on IPv6 and run smoke
tests and IPv6 related tests present in Tempest.

This job will be part of Nova, Neutron, Cinder, Keystone, Glance, Swift
gate.

Verification structure will be:
- 'devstack-IPv6' deploy the service on IPv6
- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address
- 'tempest-ipv6-only' will run the smoke + IPv6 related test case.

This commit adds the new job 'tempest-ipv6-only' run on gate.

Story: #2005477
Task: #35919

Depends-On: https://review.opendev.org/#/c/671231/

[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html

Change-Id: Iff0e8d91048a4644cca4fd9242535b940b721d3b
",git fetch https://review.opendev.org/openstack/placement refs/changes/04/671904/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8eedcfcea5c3cc5b8d43d656a659efa00c6f7f37,ipv6-only-deployment-and-testing, - tempest-ipv6-only: irrelevant-files: *gate-irrelevant-files - tempest-ipv6-only: irrelevant-files: *gate-irrelevant-files,,4,0
openstack%2Fkolla~master~I9b0a162513ed436930c4541b758fc9cb2ef97e96,openstack/kolla,master,I9b0a162513ed436930c4541b758fc9cb2ef97e96,Add prometheus_client to monasca-agent image,MERGED,2019-07-30 12:09:08.000000000,2019-07-30 16:49:18.000000000,2019-07-30 16:49:17.000000000,"[{'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-30 12:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/dccba176e0225c234508ee3d03a1b9fd5328ba85', 'message': 'Add prometheus_client to monasca-agent image\n\nThe prometheus_client package is required to use the Prometheus plugin.\nIt makes sense to include this dependency by default given the level of\nintegration of Prometheus in Kolla. The increase in size of the\ncontainer image is negligible.\n\nChange-Id: I9b0a162513ed436930c4541b758fc9cb2ef97e96\n'}, {'number': 2, 'created': '2019-07-30 12:31:57.000000000', 'files': ['docker/monasca/monasca-agent/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a74aa1bd21b04eceede6cf425a5e56dcacec1412', 'message': 'Add prometheus_client to monasca-agent image\n\nThe prometheus_client package is required to use the Prometheus plugin.\nIt makes sense to include this dependency by default since Kolla Ansible\ncan deploy many Prometheus exporters, making it easy to scrape their\nmetrics and store them in Monasca. The increase in size of the container\nimage is negligible.\n\nChange-Id: I9b0a162513ed436930c4541b758fc9cb2ef97e96\n'}]",0,673489,a74aa1bd21b04eceede6cf425a5e56dcacec1412,14,6,2,15197,,,0,"Add prometheus_client to monasca-agent image

The prometheus_client package is required to use the Prometheus plugin.
It makes sense to include this dependency by default since Kolla Ansible
can deploy many Prometheus exporters, making it easy to scrape their
metrics and store them in Monasca. The increase in size of the container
image is negligible.

Change-Id: I9b0a162513ed436930c4541b758fc9cb2ef97e96
",git fetch https://review.opendev.org/openstack/kolla refs/changes/89/673489/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/monasca/monasca-agent/Dockerfile.j2'],1,dccba176e0225c234508ee3d03a1b9fd5328ba85,monasca-prometheus," '/monasca-agent', 'prometheus_client'", '/monasca-agent',2,1
openstack%2Fopenstack-helm~master~I6f8d4eaa482fcdf3e877bd38caa9b24358ea5be0,openstack/openstack-helm,master,I6f8d4eaa482fcdf3e877bd38caa9b24358ea5be0,RabbitMQ: Dont mirror reply queues,MERGED,2019-07-30 14:55:50.000000000,2019-07-30 16:44:01.000000000,2019-07-30 16:44:01.000000000,"[{'_account_id': 7769}, {'_account_id': 17591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 14:55:50.000000000', 'files': ['heat/values.yaml', 'cinder/values.yaml', 'nova/values.yaml', 'keystone/values.yaml', 'neutron/values.yaml', 'glance/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/59a017d834d0c3b676b13406ee79ccbc81704533', 'message': 'RabbitMQ: Dont mirror reply queues\n\nThis PS updates the default RMQ policy to not mirror reply queues\nas they cause signifigant blocking when resorting a rabbit node to\na cluster, with no advantage.\n\nChange-Id: I6f8d4eaa482fcdf3e877bd38caa9b24358ea5be0\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,673549,59a017d834d0c3b676b13406ee79ccbc81704533,7,3,1,23928,,,0,"RabbitMQ: Dont mirror reply queues

This PS updates the default RMQ policy to not mirror reply queues
as they cause signifigant blocking when resorting a rabbit node to
a cluster, with no advantage.

Change-Id: I6f8d4eaa482fcdf3e877bd38caa9b24358ea5be0
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/49/673549/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/values.yaml', 'cinder/values.yaml', 'nova/values.yaml', 'keystone/values.yaml', 'neutron/values.yaml', 'glance/values.yaml']",6,59a017d834d0c3b676b13406ee79ccbc81704533,rmq-policy, pattern: '^(?!(amq\.|reply_)).*', pattern: '^(?!amq\.).*',6,6
openstack%2Frally-openstack~master~If44169ff71461eacca1084001b1bd490869af6bb,openstack/rally-openstack,master,If44169ff71461eacca1084001b1bd490869af6bb,[wip] Add env cleanup for existing users,NEW,2019-07-30 14:53:17.000000000,2019-07-30 16:43:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-07-30 14:53:17.000000000', 'files': ['rally_openstack/platforms/existing.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/15e9b295abf44700ca3524b0cc6c1ce1263e9ad4', 'message': '[wip] Add env cleanup for existing users\n\nChange-Id: If44169ff71461eacca1084001b1bd490869af6bb\n'}]",0,673547,15e9b295abf44700ca3524b0cc6c1ce1263e9ad4,2,1,1,9545,,,0,"[wip] Add env cleanup for existing users

Change-Id: If44169ff71461eacca1084001b1bd490869af6bb
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/47/673547/1 && git format-patch -1 --stdout FETCH_HEAD,['rally_openstack/platforms/existing.py'],1,15e9b295abf44700ca3524b0cc6c1ce1263e9ad4,cleanup," if task_uuid is not None: return { ""message"": ""Failed"", ""discovered"": 0, ""deleted"": 0, ""failed"": 0, ""resources"": {}, ""errors"": [{ ""message"": ""The cleanup of existing@openstack platform "" ""doesn't support cleanup by task_uuid yet."" }] } # case 1: only existing users were specified. the simplest case. if self.platform_data[""users""] and not self.platform_data[""admin""]: from rally_openstack.cleanup import manager from rally_openstack import credential from rally_openstack import osclients from rally_openstack import scenario from rally.task import context users = [] for user in self.platform_data[""users""]: creds = credential.OpenStackCredential( api_info=self.platform_data.get(""api_info"", {}), **user) user_clients = osclients.Clients(creds) user_id = user_clients.keystone.auth_ref.user_id tenant_id = user_clients.keystone.auth_ref.project_id users.append({ ""credential"": creds, ""id"": user_id, ""tenant_id"": tenant_id }) services_to_cleanup = set( r._service for r in manager.find_resource_managers(admin_required=False)) LOG.info(""Trying to find & delete resources created during "" ""executing workloads."") manager.cleanup(names=services_to_cleanup, users=users, superclass=scenario.OpenStackScenario) LOG.info(""Trying to find & delete resources created during "" ""executing contexts."") manager.cleanup(names=services_to_cleanup, users=users, superclass=context.Context) LOG.info(""Trying to find & delete resources all other resources."") manager.cleanup(names=services_to_cleanup, users=users) return { ""message"": ""Succeeded! (note: stats are not available yet)"", ""discovered"": 0, ""deleted"": 0, ""failed"": 0, ""resources"": {}, ""errors"": [] } ",,65,0
openstack%2Ftripleo-heat-templates~master~I4f2f69f00cad54c3c767f54de54dc9a061b02b8d,openstack/tripleo-heat-templates,master,I4f2f69f00cad54c3c767f54de54dc9a061b02b8d,Make sure libvirt-guests get started,MERGED,2019-07-29 08:37:49.000000000,2019-07-30 16:34:33.000000000,2019-07-30 16:34:33.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-07-29 08:37:49.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cf2e5926e480a36246c912ff7ff4ab58095fe7cd', 'message': 'Make sure libvirt-guests get started\n\nRight now the libvirt-guests gets enabled, but not started during\ninitial deploy. Make sure we start the service.\n\nChange-Id: I4f2f69f00cad54c3c767f54de54dc9a061b02b8d\n'}]",0,673231,cf2e5926e480a36246c912ff7ff4ab58095fe7cd,8,7,1,17216,,,0,"Make sure libvirt-guests get started

Right now the libvirt-guests gets enabled, but not started during
initial deploy. Make sure we start the service.

Change-Id: I4f2f69f00cad54c3c767f54de54dc9a061b02b8d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/31/673231/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,cf2e5926e480a36246c912ff7ff4ab58095fe7cd,libvirt-guests_started, state: started state: started,,2,0
openstack%2Fopenstack-ansible~master~I141cb426939929f8db361cdabe12134c1e1bb791,openstack/openstack-ansible,master,I141cb426939929f8db361cdabe12134c1e1bb791,rbd: define nova_cinder_rbd_inuse properly,ABANDONED,2019-07-25 22:29:08.000000000,2019-07-30 16:30:15.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-25 22:29:08.000000000', 'files': ['playbooks/common-playbooks/nova.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/88638861d7ca7dc4a23e9738d15bef1f39d4bf5b', 'message': 'rbd: define nova_cinder_rbd_inuse properly\n\nPreviously, the logic that determines nova_cinder_rbd_inuse ran\non the localhost and set the fact only on the localhost.\n\nDue to this, the variable `nova_cinder_rbd_inuse` was always set\nto false on the hosts when they ran.\n\nThis moves it into the vars section so it runs globally against\nall hosts.\n\nChange-Id: I141cb426939929f8db361cdabe12134c1e1bb791\n'}]",0,672835,88638861d7ca7dc4a23e9738d15bef1f39d4bf5b,7,4,1,1004,,,0,"rbd: define nova_cinder_rbd_inuse properly

Previously, the logic that determines nova_cinder_rbd_inuse ran
on the localhost and set the fact only on the localhost.

Due to this, the variable `nova_cinder_rbd_inuse` was always set
to false on the hosts when they ran.

This moves it into the vars section so it runs globally against
all hosts.

Change-Id: I141cb426939929f8db361cdabe12134c1e1bb791
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/35/672835/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/common-playbooks/nova.yml'],1,88638861d7ca7dc4a23e9738d15bef1f39d4bf5b,fix-ceph," vars: nova_cinder_rbd_inuse: ""{{ True in groups['cinder_volume'] | map('extract', hostvars, 'cinder_backend_rbd_inuse') }}"""," # Enable execution of ceph_client on the nova compute hosts if cinder RBD # backends are used. This is necessary to ensure that volume-backed Nova # instances can function when RBD is the volume backend. - name: Set cinder RBD inuse fact set_fact: nova_cinder_rbd_inuse: ""{{ True in groups['cinder_volume'] | map('extract', hostvars, 'cinder_backend_rbd_inuse') }}"" delegate_to: localhost delegate_facts: True when: - ""'nova_compute' in group_names"" - ""inventory_hostname == ((groups['nova_compute'] | intersect(ansible_play_hosts)) | list)[0]"" - ""hostvars['localhost']['nova_cinder_rbd_inuse'] is not defined"" tags: - always ",2,15
openstack%2Fpython-tripleoclient~master~I5dc103452f3e7484ea81df15d75b606d2c74859a,openstack/python-tripleoclient,master,I5dc103452f3e7484ea81df15d75b606d2c74859a,Output oslo messaging info for the minion,MERGED,2019-07-23 22:19:46.000000000,2019-07-30 16:30:13.000000000,2019-07-30 16:30:13.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-23 22:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/de93bde74af414b44d1797f0fe82074a73dd0d80', 'message': 'Output oslo messaging info for the minion\n\nThe oslo messaging host configuration does not actually use the endpoint\nmap so we need to be able to provide this information as part of the\noutput yaml file for use with a minion. This code grabs the ctlplane\nhostname out of the ansible vars and uses it to construct the oslo\nmessaging values that get used when configuring the service.\n\nChange-Id: I5dc103452f3e7484ea81df15d75b606d2c74859a\n'}, {'number': 2, 'created': '2019-07-23 22:33:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2bbc457a186d43c791a2a8fbb60d19e630793e11', 'message': 'Output oslo messaging info for the minion\n\nThe oslo messaging host configuration does not actually use the endpoint\nmap so we need to be able to provide this information as part of the\noutput yaml file for use with a minion. This code grabs the ctlplane\nhostname out of the ansible vars and uses it to construct the oslo\nmessaging values that get used when configuring the service.\n\nBlueprint: undercloud-minion\nChange-Id: I5dc103452f3e7484ea81df15d75b606d2c74859a\n'}, {'number': 3, 'created': '2019-07-25 20:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/91a2afa88cce626c2bde929eefed1e0e366b0a64', 'message': 'Output oslo messaging info for the minion\n\nThe oslo messaging host configuration does not actually use the endpoint\nmap so we need to be able to provide this information as part of the\noutput yaml file for use with a minion. This code grabs the ctlplane\nhostname out of the ansible vars and uses it to construct the oslo\nmessaging values that get used when configuring the service.\n\nBlueprint: undercloud-minion\nChange-Id: I5dc103452f3e7484ea81df15d75b606d2c74859a\n'}, {'number': 4, 'created': '2019-07-25 20:29:12.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b1bd2829fedf0a77cbd4e9efb1affc8212dbeb0c', 'message': 'Output oslo messaging info for the minion\n\nThe oslo messaging host configuration does not actually use the endpoint\nmap so we need to be able to provide this information as part of the\noutput yaml file for use with a minion. This code grabs the ctlplane\nip out of the rolenetmap for the undercloud and uses it to construct the\noslo messaging node names value that is used when configuring the service.\n\nBlueprint: undercloud-minion\nChange-Id: I5dc103452f3e7484ea81df15d75b606d2c74859a\n'}]",0,672380,b1bd2829fedf0a77cbd4e9efb1affc8212dbeb0c,30,4,4,14985,,,0,"Output oslo messaging info for the minion

The oslo messaging host configuration does not actually use the endpoint
map so we need to be able to provide this information as part of the
output yaml file for use with a minion. This code grabs the ctlplane
ip out of the rolenetmap for the undercloud and uses it to construct the
oslo messaging node names value that is used when configuring the service.

Blueprint: undercloud-minion
Change-Id: I5dc103452f3e7484ea81df15d75b606d2c74859a
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/80/672380/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_deploy.py'],1,de93bde74af414b44d1797f0fe82074a73dd0d80,bug/1837623," hostvars = utils.get_stack_output_item(stack, 'AnsibleHostVarsMap') # unfortunately oslo messaging doesn't use the standard endpoint # configurations so we need to build out the node name vars and # we want to grab it for the undercloud for use by a minion if ('Undercloud' in hostvars and 'undercloud' in hostvars['Undercloud']): name = hostvars['Undercloud']['undercloud']['fqdn_ctlplane'] globalcfg['oslo_messaging_rpc_node_name'] = [name] globalcfg['oslo_messaging_notify_node_name'] = [name]",,9,0
openstack%2Floci~master~Id1a5413ce36a82063301c011b7adf8d8ac5d06ba,openstack/loci,master,Id1a5413ce36a82063301c011b7adf8d8ac5d06ba,Bypass trollius building,MERGED,2019-07-30 07:41:06.000000000,2019-07-30 16:21:06.000000000,2019-07-30 16:21:06.000000000,"[{'_account_id': 7822}, {'_account_id': 12281}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-07-30 07:41:06.000000000', 'files': ['scripts/requirements.sh'], 'web_link': 'https://opendev.org/openstack/loci/commit/c64ea7529b4152d7628c5cc841ccd4dd6dba1615', 'message': ""Bypass trollius building\n\nTrollius cannot build (not present on pypi anymore), and is only\nused for Zaqar. If we don't bypass this, we can't build LOCI\nin older branches. I have proposed fixes in requirements and\nzaqar, when these merge in the eldest branches, we can revert\nthis.\n\nChange-Id: Id1a5413ce36a82063301c011b7adf8d8ac5d06ba\n""}]",0,673424,c64ea7529b4152d7628c5cc841ccd4dd6dba1615,9,5,1,17068,,,0,"Bypass trollius building

Trollius cannot build (not present on pypi anymore), and is only
used for Zaqar. If we don't bypass this, we can't build LOCI
in older branches. I have proposed fixes in requirements and
zaqar, when these merge in the eldest branches, we can revert
this.

Change-Id: Id1a5413ce36a82063301c011b7adf8d8ac5d06ba
",git fetch https://review.opendev.org/openstack/loci refs/changes/24/673424/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/requirements.sh'],1,c64ea7529b4152d7628c5cc841ccd4dd6dba1615,fix_trollius,"# Remove trollius 2.1 because of multiple problems: # - It is not published on pypi anymore (only 2.1.post2 is) # - Trollius is a py2 only software, and the current requirement from # u-c doesn't have python version matcher. # - I have proposed a list of fix which should make things right in u-c: # https://review.opendev.org/#/c/673415/ # https://review.opendev.org/#/c/673414/ sed -i '/trollius===2.1/d' /upper-constraints.txt ",,9,0
openstack%2Fnova~stable%2Frocky~I78fc2312274471a7bd85a263de12cc5a0b19fd10,openstack/nova,stable/rocky,I78fc2312274471a7bd85a263de12cc5a0b19fd10,Handle placement error during re-schedule,ABANDONED,2019-07-30 14:57:00.000000000,2019-07-30 16:18:16.000000000,,"[{'_account_id': 6873}, {'_account_id': 10118}]","[{'number': 1, 'created': '2019-07-30 14:57:00.000000000', 'files': ['nova/tests/functional/integrated_helpers.py', 'nova/conductor/manager.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c5501d3c404ffacbd333b5e6bb0aa8c735123445', 'message': 'Handle placement error during re-schedule\n\nIf claim_resources or _fill_provider_mapping calls fail due to placement\nerror then the re-scheduling stops and the instance is not put into\nERROR state.\n\nThis patch adds proper exception handling to these cases.\n\nConflicts:\n      nova/conductor/manager.py\n      nova/tests/functional/test_servers.py\n\nNOTE(mriedem): The conflicts in manager.py are due to change\nIf8a13f74d2b3c99f05365eb49dcfa01d9042fefa not being in Rocky,\nso there is no legacy_request_spec variable and there is no call\nto _fill_provider_mapping. The conflict in the test is due to\nnot having test_boot_reschedule_fill_provider_mapping_raises\nin Rocky.\n\nChange-Id: I78fc2312274471a7bd85a263de12cc5a0b19fd10\nCloses-Bug: #1819460\n(cherry picked from commit b096d9303acfea81ca56394cab681d2b2eed2d91)\n(cherry picked from commit 1c774315a5134937909f674b5c5a65f06efb3cb7)\n'}]",1,673550,c5501d3c404ffacbd333b5e6bb0aa8c735123445,4,2,1,6873,,,0,"Handle placement error during re-schedule

If claim_resources or _fill_provider_mapping calls fail due to placement
error then the re-scheduling stops and the instance is not put into
ERROR state.

This patch adds proper exception handling to these cases.

Conflicts:
      nova/conductor/manager.py
      nova/tests/functional/test_servers.py

NOTE(mriedem): The conflicts in manager.py are due to change
If8a13f74d2b3c99f05365eb49dcfa01d9042fefa not being in Rocky,
so there is no legacy_request_spec variable and there is no call
to _fill_provider_mapping. The conflict in the test is due to
not having test_boot_reschedule_fill_provider_mapping_raises
in Rocky.

Change-Id: I78fc2312274471a7bd85a263de12cc5a0b19fd10
Closes-Bug: #1819460
(cherry picked from commit b096d9303acfea81ca56394cab681d2b2eed2d91)
(cherry picked from commit 1c774315a5134937909f674b5c5a65f06efb3cb7)
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/673550/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/integrated_helpers.py', 'nova/conductor/manager.py', 'nova/tests/functional/test_servers.py']",3,c5501d3c404ffacbd333b5e6bb0aa8c735123445,bug/1819460," self.admin_api, server, 'ERROR')"," # NOTE(gibi): Due to bug 1819460 the server stuck in BUILD state # instead of going to ERROR state self.admin_api, server, 'ERROR', fail_when_run_out_of_retries=False) self.assertEqual('BUILD', server['status'])",31,22
openstack%2Fnova~stable%2Frocky~If80c4e4776b81cc06293989ee41d39b53735352b,openstack/nova,stable/rocky,If80c4e4776b81cc06293989ee41d39b53735352b,Reproduce bug #1819460 in functional test,ABANDONED,2019-07-30 14:45:35.000000000,2019-07-30 16:18:11.000000000,,[{'_account_id': 6873}],"[{'number': 1, 'created': '2019-07-30 14:45:35.000000000', 'files': ['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/189d49d09e757d4d8822538019aeb709eccd2fb2', 'message': 'Reproduce bug #1819460 in functional test\n\nThere are two calls during ConductorTaskManager.build_instances,\nused during re-schedule, that could potentially raise exceptions\nwhich leads to that the instance is stuck in BUILD state instead\nof going to ERROR state.\n\nThis patch adds two functional testcase to reproduce the problems.\n\nConflicts:\n      nova/tests/functional/test_servers.py\n\nNOTE(mriedem): This backport really only deals with the one\nclaim_resources call that could fail since _fill_provider_mappings\nand the port resource request feature did not exist in Rocky.\nAs such the test conflicts are due to changes from\nblueprint use-nested-allocation-candidates in Stein. Test\ntest_boot_reschedule_fill_provider_mapping_raises is omitted.\nFinally, the message string for AllocationUpdateFailed needed\nto be tweaked in this backport since change\nIba230201803ef3d33bccaaf83eb10453eea43f20 is not in Rocky.\n\nChange-Id: If80c4e4776b81cc06293989ee41d39b53735352b\nRelated-Bug: #1819460\n(cherry picked from commit b63c42a0d4836fd0364cb306145d3474619f1e19)\n(cherry picked from commit 07a1a8ff7dcb00283ba7ebb6f59a70002a4ee4db)\n'}]",1,673546,189d49d09e757d4d8822538019aeb709eccd2fb2,3,1,1,6873,,,0,"Reproduce bug #1819460 in functional test

There are two calls during ConductorTaskManager.build_instances,
used during re-schedule, that could potentially raise exceptions
which leads to that the instance is stuck in BUILD state instead
of going to ERROR state.

This patch adds two functional testcase to reproduce the problems.

Conflicts:
      nova/tests/functional/test_servers.py

NOTE(mriedem): This backport really only deals with the one
claim_resources call that could fail since _fill_provider_mappings
and the port resource request feature did not exist in Rocky.
As such the test conflicts are due to changes from
blueprint use-nested-allocation-candidates in Stein. Test
test_boot_reschedule_fill_provider_mapping_raises is omitted.
Finally, the message string for AllocationUpdateFailed needed
to be tweaked in this backport since change
Iba230201803ef3d33bccaaf83eb10453eea43f20 is not in Rocky.

Change-Id: If80c4e4776b81cc06293989ee41d39b53735352b
Related-Bug: #1819460
(cherry picked from commit b63c42a0d4836fd0364cb306145d3474619f1e19)
(cherry picked from commit 07a1a8ff7dcb00283ba7ebb6f59a70002a4ee4db)
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/673546/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/test_servers.py']",2,189d49d09e757d4d8822538019aeb709eccd2fb2,bug/1819460,"from nova.scheduler import utils def test_allocation_fails_during_reschedule(self): """"""Verify that if nova fails to allocate resources during re-schedule then the server is put into ERROR state properly. """""" server_req = self._build_minimal_create_server_request( self.api, 'some-server', flavor_id=self.flavor1['id'], image_uuid='155d900f-4e14-4e4c-a73d-069cbf4541e6', networks='none') orig_claim = utils.claim_resources # First call is during boot, we want that to succeed normally. Then the # fake virt driver triggers a re-schedule. During that re-schedule we # simulate that the placement call fails. with mock.patch('nova.scheduler.utils.claim_resources', side_effect=[ orig_claim, exception.AllocationUpdateFailed( instance=uuids.inst1, error='testing')]): server = self.api.post_server({'server': server_req}) # NOTE(gibi): Due to bug 1819460 the server stuck in BUILD state # instead of going to ERROR state server = self._wait_for_state_change( self.admin_api, server, 'ERROR', fail_when_run_out_of_retries=False) self.assertEqual('BUILD', server['status']) self._delete_and_check_allocations(server) ",,44,6
openstack%2Ftripleo-common~master~I8b6671d9b0813e04fbe5fb3c9a3009117b82064c,openstack/tripleo-common,master,I8b6671d9b0813e04fbe5fb3c9a3009117b82064c,nova-less-deploy: update to metalsmith 0.13,MERGED,2019-07-24 07:37:11.000000000,2019-07-30 15:49:35.000000000,2019-07-30 15:49:35.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-24 07:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/70f1377ddf6458f980b296fd9cff2d90b106ad25', 'message': 'nova-less-deploy: update to metalsmith 0.13\n\nInstanceConfig was deprecated in favour of GenericConfig and CloudInitConfig\nto make it clear which format is used. We use the latter.\n\nImplements: blueprint nova-less-deploy\nChange-Id: I8b6671d9b0813e04fbe5fb3c9a3009117b82064c\n'}, {'number': 2, 'created': '2019-07-24 07:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5dad5a36c7c71cb3091d0fec91a18c32e12f8d85', 'message': 'nova-less-deploy: update to metalsmith 0.13\n\nInstanceConfig was deprecated in favour of GenericConfig and CloudInitConfig\nto make it clear which format is used. We use the latter.\n\nImplements: blueprint nova-less-deploy\nChange-Id: I8b6671d9b0813e04fbe5fb3c9a3009117b82064c\n'}, {'number': 3, 'created': '2019-07-26 11:59:03.000000000', 'files': ['tripleo_common/actions/baremetal_deploy.py', 'requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9b40aa8a4cd93d635352d3e546fd2fff9e8dbe16', 'message': 'nova-less-deploy: update to metalsmith 0.13\n\nInstanceConfig was deprecated in favour of GenericConfig and CloudInitConfig\nto make it clear which format is used. We use the latter.\n\nImplements: blueprint nova-less-deploy\nChange-Id: I8b6671d9b0813e04fbe5fb3c9a3009117b82064c\n'}]",0,672414,9b40aa8a4cd93d635352d3e546fd2fff9e8dbe16,20,5,3,10239,,,0,"nova-less-deploy: update to metalsmith 0.13

InstanceConfig was deprecated in favour of GenericConfig and CloudInitConfig
to make it clear which format is used. We use the latter.

Implements: blueprint nova-less-deploy
Change-Id: I8b6671d9b0813e04fbe5fb3c9a3009117b82064c
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/14/672414/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tripleo_common/actions/baremetal_deploy.py', 'lower-constraints.txt']",3,70f1377ddf6458f980b296fd9cff2d90b106ad25,metalsmith-12,metalsmith==0.13.0,metalsmith==0.9.0,3,3
openstack%2Fproject-config~master~I8dbd83cc82a093d3b564310198dc6fa6c113c38a,openstack/project-config,master,I8dbd83cc82a093d3b564310198dc6fa6c113c38a,Start retiring tc-as-a-service,MERGED,2019-07-30 14:43:15.000000000,2019-07-30 15:47:24.000000000,2019-07-30 15:47:24.000000000,"[{'_account_id': 1004}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 14:43:15.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/53cca6293a291ecb7462f6ab179326f14dcf05fd', 'message': 'Start retiring tc-as-a-service\n\nThis repo was only imported and never used, retire it.\n\nAs first step, add noop-jobs.\n\nAnnouncement email:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/008120.html\n\nChange-Id: I8dbd83cc82a093d3b564310198dc6fa6c113c38a\n'}]",0,673543,53cca6293a291ecb7462f6ab179326f14dcf05fd,7,3,1,6547,,,0,"Start retiring tc-as-a-service

This repo was only imported and never used, retire it.

As first step, add noop-jobs.

Announcement email:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/008120.html

Change-Id: I8dbd83cc82a093d3b564310198dc6fa6c113c38a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/43/673543/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,53cca6293a291ecb7462f6ab179326f14dcf05fd,tc-as-a-service, - noop-jobs, - openstack-python-jobs,1,1
openstack%2Fkolla-cli~master~Ic470dbe73ce2d24def93f64ce8e6b63657a5ba38,openstack/kolla-cli,master,Ic470dbe73ce2d24def93f64ce8e6b63657a5ba38,Add host support for genconfig action,MERGED,2019-07-30 14:34:44.000000000,2019-07-30 15:40:50.000000000,2019-07-30 15:40:50.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-07-30 14:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/b67b5d886d7d9261cd104b88b43ff64f2cd8f425', 'message': 'Add host support for genconfig action\n\nChange-Id: Ic470dbe73ce2d24def93f64ce8e6b63657a5ba38\n'}, {'number': 2, 'created': '2019-07-30 14:42:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/56610e68563dc2850dc4b608e8bf73cb2fd6b868', 'message': 'Add host support for genconfig action\n\nChange-Id: Ic470dbe73ce2d24def93f64ce8e6b63657a5ba38\n'}, {'number': 3, 'created': '2019-07-30 15:10:58.000000000', 'files': ['kolla_cli/common/ansible/actions.py', 'kolla_cli/api/control_plane.py', 'kolla_cli/commands/kolla_action.py'], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/c5ba7f2704294f1debb0f2bf565458cd67d949bb', 'message': 'Add host support for genconfig action\n\nChange-Id: Ic470dbe73ce2d24def93f64ce8e6b63657a5ba38\n'}]",3,673539,c5ba7f2704294f1debb0f2bf565458cd67d949bb,13,3,3,30356,,,0,"Add host support for genconfig action

Change-Id: Ic470dbe73ce2d24def93f64ce8e6b63657a5ba38
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/39/673539/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla_cli/common/ansible/actions.py', 'kolla_cli/api/control_plane.py', 'kolla_cli/commands/kolla_action.py']",3,b67b5d886d7d9261cd104b88b43ff64f2cd8f425,simplify," parser.add_argument('--hosts', nargs='?', metavar='<host_list>', help=u._('genarate configs host list')) hosts = [] services = [] try: verbose_level = self.app.options.verbose_level if parsed_args.hosts: host_list = parsed_args.hosts.strip() hosts = host_list.split(',') job = CLIENT.genconfig(verbose_level, hosts, services)"," services = None try: verbose_level = self.app.options.verbose_level job = CLIENT.genconfig(verbose_level, services)",18,7
openstack%2Fmonasca-notification~master~Ib1dba51a57fdce028a6b20da06201f0597085047,openstack/monasca-notification,master,Ib1dba51a57fdce028a6b20da06201f0597085047,Json loads error,MERGED,2019-07-26 08:41:48.000000000,2019-07-30 15:38:52.000000000,2019-07-30 15:38:52.000000000,"[{'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-26 08:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/f11457ce18c4b7958e633175459563eeb98e1163', 'message': 'Json loads error\n\nPyhton version below 3.6,function json.loads() throw decoder error.\n3.6 version input option can bytes or bytearray,below 3.6 version\ntype of bytes not cimpatible.\n\nChange-Id: Ib1dba51a57fdce028a6b20da06201f0597085047\nTask: 35991\nStory: 2006285\n'}, {'number': 2, 'created': '2019-07-29 10:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/0f96fd652cf4fcb97360249c947337313f00ec77', 'message': 'Json loads error\n\nPyhton version below 3.6,function json.loads() throw decoder error.\n3.6 version input option can bytes or bytearray,below 3.6 version\ntype of bytes not cimpatible.\n\nTask: 35991\nStory: 2006285\nChange-Id: Ib1dba51a57fdce028a6b20da06201f0597085047\n'}, {'number': 3, 'created': '2019-07-30 00:23:06.000000000', 'files': ['requirements.txt', 'monasca_notification/periodic_engine.py'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/22d7c9bb514c9199fce45440ea4b452721ce2a96', 'message': 'Json loads error\n\nPyhton version below 3.6,function json.loads() throw decoder error.\n3.6 version input option can bytes or bytearray,below 3.6 version\ntype of bytes not cimpatible.\n\nTask: 35991\nStory: 2006285\nChange-Id: Ib1dba51a57fdce028a6b20da06201f0597085047\n'}]",3,672915,22d7c9bb514c9199fce45440ea4b452721ce2a96,13,3,3,29970,,,0,"Json loads error

Pyhton version below 3.6,function json.loads() throw decoder error.
3.6 version input option can bytes or bytearray,below 3.6 version
type of bytes not cimpatible.

Task: 35991
Story: 2006285
Change-Id: Ib1dba51a57fdce028a6b20da06201f0597085047
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/15/672915/3 && git format-patch -1 --stdout FETCH_HEAD,['monasca_notification/periodic_engine.py'],1,f11457ce18c4b7958e633175459563eeb98e1163,fix-python-json-bug,from six import PY3 message = message.decode('UTF-8') if PY3 else message,,2,0
openstack%2Frequirements~stable%2Fqueens~Ia4162512eeb584870e7184cb19f07a9b94074871,openstack/requirements,stable/queens,Ia4162512eeb584870e7184cb19f07a9b94074871,Trollius 2.1 isn't on pypi anymore,ABANDONED,2019-07-30 07:21:24.000000000,2019-07-30 15:27:18.000000000,,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 17068}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-07-30 07:21:24.000000000', 'files': ['openstack_requirements/tests/files/upper-constraints.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ba56e1d2c333186ff31133afb3c40fcba4e49109', 'message': ""Trollius 2.1 isn't on pypi anymore\n\nOn the 2.1 branch of Trollius, only 2.1.post2 remains.\nTo continue insuring co-installability, we should bump to post2.\n\nI also added a python version matcher, as it doesn't make sense\nto have trollius installed for py3.\n\nChange-Id: Ia4162512eeb584870e7184cb19f07a9b94074871\n""}]",0,673414,ba56e1d2c333186ff31133afb3c40fcba4e49109,11,6,1,17068,,,0,"Trollius 2.1 isn't on pypi anymore

On the 2.1 branch of Trollius, only 2.1.post2 remains.
To continue insuring co-installability, we should bump to post2.

I also added a python version matcher, as it doesn't make sense
to have trollius installed for py3.

Change-Id: Ia4162512eeb584870e7184cb19f07a9b94074871
",git fetch https://review.opendev.org/openstack/requirements refs/changes/14/673414/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_requirements/tests/files/upper-constraints.txt', 'upper-constraints.txt']",2,ba56e1d2c333186ff31133afb3c40fcba4e49109,fix_trollius,trollius===2.1.post2;python_version=='2.7',trollius===2.1,2,2
openstack%2Ftripleo-heat-templates~master~Icac13112655cd1d51170829fb0ac897473d30eaf,openstack/tripleo-heat-templates,master,Icac13112655cd1d51170829fb0ac897473d30eaf,Updates the cephfs_pools format to match that of openstack_pools,MERGED,2019-07-19 09:04:23.000000000,2019-07-30 15:25:57.000000000,2019-07-30 15:25:57.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 15205}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-07-19 09:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/75729fa35b5d3412e5bc0d962fcf8ed0d6b5d0e3', 'message': 'Updates the cephfs_pools format to match that of openstack_pools\n\nWe did not keep the cephfs_pools format updated as we did with\nopenstack_pools; ceph-ansible rc11 has a backward incompat issue\nwith the old format.\n\nChange-Id: Icac13112655cd1d51170829fb0ac897473d30eaf\nCloses-Bug: 1837195\n'}, {'number': 2, 'created': '2019-07-29 13:53:44.000000000', 'files': ['deployment/ceph-ansible/ceph-mds.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/51624fa82da3daa5b4cdce664648f9d736bbc4ab', 'message': 'Updates the cephfs_pools format to match that of openstack_pools\n\nWe did not keep the cephfs_pools format updated as we did with\nopenstack_pools; ceph-ansible rc11 has a backward incompat issue\nwith the old format.\n\nChange-Id: Icac13112655cd1d51170829fb0ac897473d30eaf\nCloses-Bug: 1837195\n'}]",0,671686,51624fa82da3daa5b4cdce664648f9d736bbc4ab,13,7,2,6796,,,0,"Updates the cephfs_pools format to match that of openstack_pools

We did not keep the cephfs_pools format updated as we did with
openstack_pools; ceph-ansible rc11 has a backward incompat issue
with the old format.

Change-Id: Icac13112655cd1d51170829fb0ac897473d30eaf
Closes-Bug: 1837195
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/86/671686/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-mds.yaml'],1,75729fa35b5d3412e5bc0d962fcf8ed0d6b5d0e3,bug/1837195, cephfs_data_pool: application: cephfs name: {get_param: ManilaCephFSDataPoolName} pg_num: if: - deprecated_data_pool_pgnum - {get_param: ManilaCephFSDataPoolPGNum} - {get_param: CephPoolDefaultPgNum} rule_name: replicated_rule cephfs_metadata_pool: application: cephfs name: {get_param: ManilaCephFSMetadataPoolName} pg_num: if: - deprecated_metadata_pool_pgnum - {get_param: ManilaCephFSMetadataPoolPGNum} - {get_param: CephPoolDefaultPgNum} rule_name: replicated_rule cephfs: {get_param: ManilaCephFSShareBackendName}," cephfs_data: {get_param: ManilaCephFSDataPoolName} cephfs_metadata: {get_param: ManilaCephFSMetadataPoolName} cephfs: {get_param: ManilaCephFSShareBackendName} if: - or: - deprecated_data_pool_pgnum - deprecated_metadata_pool_pgnum - cephfs_pools: - { name: {get_param: ManilaCephFSDataPoolName}, pgs: {get_param: ManilaCephFSDataPoolPGNum} } - { name: {get_param: ManilaCephFSMetadataPoolName}, pgs: {get_param: ManilaCephFSMetadataPoolPGNum} } - cephfs_pools: - { name: {get_param: ManilaCephFSDataPoolName}, pgs: {get_param: CephPoolDefaultPgNum} } - { name: {get_param: ManilaCephFSMetadataPoolName}, pgs: {get_param: CephPoolDefaultPgNum} }",19,13
openstack%2Fpaunch~master~Ibc458d3badb807a0deef5a799db6682d7128dbc1,openstack/paunch,master,Ibc458d3badb807a0deef5a799db6682d7128dbc1,Check if volume paths exist before executing Docker.,MERGED,2019-07-23 09:17:10.000000000,2019-07-30 14:55:45.000000000,2019-07-29 18:47:40.000000000,"[{'_account_id': 3153}, {'_account_id': 8958}, {'_account_id': 9098}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-23 09:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/645554bb5fb2d8162d4e1cc2b7a4508426264ce6', 'message': ""Check if volume paths exist before executing Docker.\n\nIf the file to be mounted doesn't exist, Docker version\n1.13.1 creates a directory in it's place. This behavior is different\nfrom Podman's, which throws an error. We want to replicate the Podman\nbehavior. Creating directories in place of files causes errors which\nare very difficult to diagnose.\n\nRelated-Bug #1830734\n\nChange-Id: Ibc458d3badb807a0deef5a799db6682d7128dbc1\n""}, {'number': 2, 'created': '2019-07-23 09:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/4923d2669f4ca296eadaf7e144ec053b3526d61d', 'message': ""Check if volume paths exist before executing Docker.\n\nIf the file to be mounted doesn't exist, Docker version 1.13.1\ncreates a directory in it's place. This behavior is different from\nPodman's, which throws an error. We want to replicate the Podman\nbehavior. Creating directories in place of files causes errors\nwhich are very difficult to diagnose.\n\nRelated-Bug #1830734\n\nChange-Id: Ibc458d3badb807a0deef5a799db6682d7128dbc1\n""}, {'number': 3, 'created': '2019-07-23 09:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/8c184db5b67979cc4ed12e9443014481579c988c', 'message': ""Check if volume paths exist before executing Docker.\n\nIf the file to be mounted doesn't exist, Docker version 1.13.1\ncreates a directory in it's place. This behavior is different from\nPodman's, which throws an error. We want to replicate the Podman\nbehavior. Creating directories in place of files causes errors\nwhich are very difficult to diagnose.\n\nRelated-Bug #1830734\n\nChange-Id: Ibc458d3badb807a0deef5a799db6682d7128dbc1\n""}, {'number': 4, 'created': '2019-07-23 11:53:43.000000000', 'files': ['paunch/builder/podman.py', 'paunch/tests/test_builder_compose1.py', 'paunch/builder/compose1.py', 'paunch/tests/test_builder_base.py', 'paunch/builder/base.py', 'paunch/__init__.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/6ca0170eebfad694d6d9e5e0d25f9f1b2fa971ce', 'message': ""Check if volume paths exist before executing Docker.\n\nIf the file to be mounted doesn't exist, Docker version 1.13.1\ncreates a directory in it's place. This behavior is different from\nPodman's, which throws an error. We want to replicate the Podman\nbehavior. Creating directories in place of files causes errors\nwhich are very difficult to diagnose.\n\nRelated-Bug #1830734\n\nChange-Id: Ibc458d3badb807a0deef5a799db6682d7128dbc1\n""}]",0,672239,6ca0170eebfad694d6d9e5e0d25f9f1b2fa971ce,18,10,4,14250,,,0,"Check if volume paths exist before executing Docker.

If the file to be mounted doesn't exist, Docker version 1.13.1
creates a directory in it's place. This behavior is different from
Podman's, which throws an error. We want to replicate the Podman
behavior. Creating directories in place of files causes errors
which are very difficult to diagnose.

Related-Bug #1830734

Change-Id: Ibc458d3badb807a0deef5a799db6682d7128dbc1
",git fetch https://review.opendev.org/openstack/paunch refs/changes/39/672239/2 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/builder/podman.py', 'paunch/tests/test_builder_compose1.py', 'paunch/builder/compose1.py', 'paunch/builder/base.py', 'paunch/tests/test_builder_base.py', 'paunch/__init__.py']",6,645554bb5fb2d8162d4e1cc2b7a4508426264ce6,," if builder.container_run_args(cmd, container_name): return r.execute_interactive(cmd, log)"," builder.container_run_args(cmd, container_name) return r.execute_interactive(cmd, log)",93,5
openstack%2Fopenstack-helm~master~I2e5f08cdde91c842c574d5318b8ae3113dd6fa80,openstack/openstack-helm,master,I2e5f08cdde91c842c574d5318b8ae3113dd6fa80,Add 'PATCH' to request method in order to enable 'PATCH' method in Horizon,MERGED,2019-07-30 08:25:24.000000000,2019-07-30 14:45:56.000000000,2019-07-30 14:45:56.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 27614}]","[{'number': 1, 'created': '2019-07-30 08:25:24.000000000', 'files': ['horizon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/058769c49c9ad4f3c624bd241bd79b2edc308b9b', 'message': ""Add 'PATCH' to request method in order to enable 'PATCH' method in Horizon\n\nChange-Id: I2e5f08cdde91c842c574d5318b8ae3113dd6fa80\nCloses-Bug: #1821213\n""}]",0,673444,058769c49c9ad4f3c624bd241bd79b2edc308b9b,7,4,1,30451,,,0,"Add 'PATCH' to request method in order to enable 'PATCH' method in Horizon

Change-Id: I2e5f08cdde91c842c574d5318b8ae3113dd6fa80
Closes-Bug: #1821213
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/44/673444/1 && git format-patch -1 --stdout FETCH_HEAD,['horizon/values.yaml'],1,058769c49c9ad4f3c624bd241bd79b2edc308b9b,bug/1821213, RewriteCond %{REQUEST_METHOD} !^(POST|PUT|GET|DELETE|PATCH), RewriteCond %{REQUEST_METHOD} !^(POST|PUT|GET|DELETE),1,1
openstack%2Fopenstack-zuul-jobs~master~I0397579c3ce6d7ee992108d4a2bcb123e8623e86,openstack/openstack-zuul-jobs,master,I0397579c3ce6d7ee992108d4a2bcb123e8623e86,Enable tox_install_siblings for tox-linters,ABANDONED,2017-10-21 14:14:58.000000000,2019-07-30 14:31:20.000000000,,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-21 14:14:58.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/695bd224823923c8e1f0a5879dcfae9ca3563693', 'message': ""Enable tox_install_siblings for tox-linters\n\nThe tox-linters job in this repo requires the install-siblings repo to\nwork when we depends-on a roles change in zuul-jobs. Enable it\nexplicitly while it's turned off globally.\n\nChange-Id: I0397579c3ce6d7ee992108d4a2bcb123e8623e86\n""}]",0,513933,695bd224823923c8e1f0a5879dcfae9ca3563693,8,3,1,2,,,0,"Enable tox_install_siblings for tox-linters

The tox-linters job in this repo requires the install-siblings repo to
work when we depends-on a roles change in zuul-jobs. Enable it
explicitly while it's turned off globally.

Change-Id: I0397579c3ce6d7ee992108d4a2bcb123e8623e86
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/33/513933/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,695bd224823923c8e1f0a5879dcfae9ca3563693,python-sdist-pti, vars: tox_install_siblings: true vars: tox_install_siblings: true,,4,0
openstack%2Ftripleo-ansible~master~I079ec835e346e4cee6d10fd2a379209307f80ee5,openstack/tripleo-ansible,master,I079ec835e346e4cee6d10fd2a379209307f80ee5,Add spec file to install tripleo-ansible,ABANDONED,2018-10-09 20:21:39.000000000,2019-07-30 14:20:16.000000000,,"[{'_account_id': 20868}, {'_account_id': 22348}, {'_account_id': 27253}]","[{'number': 1, 'created': '2018-10-09 20:21:39.000000000', 'files': ['tripleo-ansible.spec'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a8efbf9bc369d1519e0c3cfb7e08a40a1ff985bb', 'message': 'Add spec file to install tripleo-ansible\n\nChange-Id: I079ec835e346e4cee6d10fd2a379209307f80ee5\n'}]",0,609120,a8efbf9bc369d1519e0c3cfb7e08a40a1ff985bb,5,3,1,27253,,,0,"Add spec file to install tripleo-ansible

Change-Id: I079ec835e346e4cee6d10fd2a379209307f80ee5
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/20/609120/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo-ansible.spec'],1,a8efbf9bc369d1519e0c3cfb7e08a40a1ff985bb,spec-file,"%global srcname tripleo-ansible %{!?upstream_version: %global upstream_version %{version}%{?milestone}} Name: %{srcname} Version: 0.0.1.dev1 Release: 99999 Summary: Ansible project for TripleO Group: System Environment/Base License: ASL 2.0 URL: https://git.openstack.org/cgit/openstack/tripleo-ansible Source0: tripleo-ansible-master.tar.gz BuildArch: noarch BuildRequires: git BuildRequires: python2-devel BuildRequires: python2-setuptools BuildRequires: python-d2to1 BuildRequires: python2-pbr Requires: ansible %description Ansible playbooks, modules, and plugins used by TripleO %prep %autosetup -n %{srcname}-%{upstream_version} -S git %build %py2_build %install export PBR_VERSION=%{version} export SKIP_PIP_INSTALL=1 %py2_install %files %doc README* %license LICENSE %{python2_sitelib}/%{srcname}-*.egg-info %{_datadir}/ansible/plugins/modules/podman_image.py %changelog ",,46,0
openstack%2Ftripleo-ci~master~Iafc4f5cd9be0dafaed1681d00a39002590b1999d,openstack/tripleo-ci,master,Iafc4f5cd9be0dafaed1681d00a39002590b1999d,Fix passing repositories to DIB,MERGED,2019-07-25 10:37:55.000000000,2019-07-30 14:18:46.000000000,2019-07-30 14:18:46.000000000,"[{'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-25 10:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b60f6b75203ae6fb9ff3bee186f319072ab3469f', 'message': 'Fix passing repositories to DIB\n\nRepositories list is string with spaces, we need to passed it\nquoted in bash variable.\n\nChange-Id: Iafc4f5cd9be0dafaed1681d00a39002590b1999d\n'}, {'number': 2, 'created': '2019-07-29 12:34:34.000000000', 'files': ['roles/oooci-build-images/templates/build-images.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b7e60a2d9e78d97f14f6fd2bd9f067c31ce7728d', 'message': 'Fix passing repositories to DIB\n\nRepositories list is string with spaces, we need to passed it\nquoted in bash variable.\n\nChange-Id: Iafc4f5cd9be0dafaed1681d00a39002590b1999d\n'}]",0,672687,b7e60a2d9e78d97f14f6fd2bd9f067c31ce7728d,15,4,2,10969,,,0,"Fix passing repositories to DIB

Repositories list is string with spaces, we need to passed it
quoted in bash variable.

Change-Id: Iafc4f5cd9be0dafaed1681d00a39002590b1999d
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/87/672687/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/oooci-build-images/templates/build-images.sh.j2'],1,b60f6b75203ae6fb9ff3bee186f319072ab3469f,rhel8-build-images,export DIB_YUM_REPO_CONF='{{ dib_yum_repo_conf }}',export DIB_YUM_REPO_CONF={{ dib_yum_repo_conf }},1,1
openstack%2Ftripleo-ci~master~Ia397b0a9dd55bcf8bd44b38b4861e9377f6f1033,openstack/tripleo-ci,master,Ia397b0a9dd55bcf8bd44b38b4861e9377f6f1033,Collect more logs in buildimages job,MERGED,2019-07-24 11:44:20.000000000,2019-07-30 14:18:45.000000000,2019-07-30 14:18:45.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-24 11:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d6c044c296020f393d135ab54e2dc6d269a5b6fd', 'message': 'Collect more logs in buildimages job\n\nChange-Id: Ia397b0a9dd55bcf8bd44b38b4861e9377f6f1033\n'}, {'number': 2, 'created': '2019-07-24 12:03:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/769597ce66c87c4942774cf6d9b9aff8546719da', 'message': 'Collect more logs in buildimages job\n\nChange-Id: Ia397b0a9dd55bcf8bd44b38b4861e9377f6f1033\n'}, {'number': 3, 'created': '2019-07-24 12:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/09125a6b6ed96866ea6f9b7997a315bb880c5e1d', 'message': 'Collect more logs in buildimages job\n\nChange-Id: Ia397b0a9dd55bcf8bd44b38b4861e9377f6f1033\n'}, {'number': 4, 'created': '2019-07-25 10:40:47.000000000', 'files': ['roles/oooci-build-images/tasks/post.yaml', 'roles/oooci-build-images/templates/build-images.sh.j2', 'roles/oooci-build-images/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/637440c0c0cc957cb4d3728e53fbb0013d715d42', 'message': 'Collect more logs in buildimages job\n\nChange-Id: Ia397b0a9dd55bcf8bd44b38b4861e9377f6f1033\n'}]",5,672505,637440c0c0cc957cb4d3728e53fbb0013d715d42,18,5,4,10969,,,0,"Collect more logs in buildimages job

Change-Id: Ia397b0a9dd55bcf8bd44b38b4861e9377f6f1033
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/05/672505/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/oooci-build-images/templates/build-images.sh.j2'],1,d6c044c296020f393d135ab54e2dc6d269a5b6fd,rhel8-build-images,cp -r *.log *.sh /etc/yum.repos.d {{ workspace }}/logs/,mv *.log {{ workspace }}/logs/,1,1
openstack%2Fneutron~stable%2Fqueens~Ic9b17a420068c0c76748e2c24d97be1ed7c460c7,openstack/neutron,stable/queens,Ic9b17a420068c0c76748e2c24d97be1ed7c460c7,Don't crash ovs agent during reconfigure of phys bridges,MERGED,2019-07-28 13:18:48.000000000,2019-07-30 14:02:42.000000000,2019-07-30 14:02:42.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-07-28 13:18:48.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fa2863be864f75cd4a11584bcbeeb761a5380883', 'message': ""Don't crash ovs agent during reconfigure of phys bridges\n\nIn case when physical bridge was recreated on host, ovs agent\nis trying to reconfigure it.\nIf there will be e.g. timeout while getting bridge's datapath_id,\nRuntimeError will be raised and that caused crash of whole agent.\n\nThis patch changes that to not crash agent in such case but try to\nreconfigure everything in next rpc_loop iteration once again.\n\nConflicts:\n    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py\n    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py\n\nChange-Id: Ic9b17a420068c0c76748e2c24d97be1ed7c460c7\nCloses-Bug: #1837380\n(cherry picked from commit b63809715a0b9b8ea0f354dfd6f1b3fd7a713352)\n""}]",0,673171,fa2863be864f75cd4a11584bcbeeb761a5380883,14,5,1,11975,,,0,"Don't crash ovs agent during reconfigure of phys bridges

In case when physical bridge was recreated on host, ovs agent
is trying to reconfigure it.
If there will be e.g. timeout while getting bridge's datapath_id,
RuntimeError will be raised and that caused crash of whole agent.

This patch changes that to not crash agent in such case but try to
reconfigure everything in next rpc_loop iteration once again.

Conflicts:
    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py
    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py

Change-Id: Ic9b17a420068c0c76748e2c24d97be1ed7c460c7
Closes-Bug: #1837380
(cherry picked from commit b63809715a0b9b8ea0f354dfd6f1b3fd7a713352)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/71/673171/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",2,fa2863be864f75cd4a11584bcbeeb761a5380883,bug/1837380-stable/queens," def _test_ext_br_recreated(self, setup_bridges_side_effect): bridges_added = ['br-ex0'] expected_added_bridges = ( bridges_added if setup_bridges_side_effect else []) bm_mock.bridges_added = bridges_added setup_physical_bridges.side_effect = setup_bridges_side_effect # Setup bridges should be called once even if it will raise Runtime # Error because there is raised TypeError in _agent_has_updates to stop # agent after first loop iteration setup_physical_bridges.assert_called_once_with({'physnet0': 'br-ex0'}) self.assertEqual(expected_added_bridges, self.agent.added_bridges) def test_ext_br_recreated(self): self._test_ext_br_recreated(setup_bridges_side_effect=None) def test_ext_br_recreated_fail_setup_physical_bridge(self): self._test_ext_br_recreated(setup_bridges_side_effect=RuntimeError)", def test_ext_br_recreated(self): bm_mock.bridges_added = ['br-ex0'] setup_physical_bridges.assert_called_once_with( {'physnet0': 'br-ex0'}),37,5
openstack%2Fhorizon~master~I4f25958d400aa8f0eaddeaedf4d9101a0c48b504,openstack/horizon,master,I4f25958d400aa8f0eaddeaedf4d9101a0c48b504,Imported Translations from Zanata,MERGED,2019-07-30 08:37:54.000000000,2019-07-30 14:01:14.000000000,2019-07-30 14:01:14.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-07-30 08:37:54.000000000', 'files': ['doc/source/locale/ne/LC_MESSAGES/doc.po', 'openstack_auth/locale/ne/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/abb23c672fe3ff67c2865c0650a7902546ae8160', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I4f25958d400aa8f0eaddeaedf4d9101a0c48b504\n'}]",0,673451,abb23c672fe3ff67c2865c0650a7902546ae8160,7,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I4f25958d400aa8f0eaddeaedf4d9101a0c48b504
",git fetch https://review.opendev.org/openstack/horizon refs/changes/51/673451/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/ne/LC_MESSAGES/doc.po', 'openstack_auth/locale/ne/LC_MESSAGES/django.po']",2,abb23c672fe3ff67c2865c0650a7902546ae8160,zanata/translations,"# Surit Aryal <aryalsurit@gmail.com>, 2019. #zanata msgid """" msgstr """" ""Project-Id-Version: horizon VERSION\n"" ""Report-Msgid-Bugs-To: https://bugs.launchpad.net/openstack-i18n/\n"" ""POT-Creation-Date: 2019-07-29 11:00+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2019-07-30 05:17+0000\n"" ""Last-Translator: Surit Aryal <aryalsurit@gmail.com>\n"" ""Language-Team: Nepali\n"" ""Language: ne\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=2; plural=(n != 1)\n"" msgid ""An error occurred authenticating. Please try again later."" msgstr ""        "" msgid ""Authenticate using"" msgstr ""  "" msgid ""Could not find service provider ID on keystone."" msgstr ""      "" msgid ""Default Region"" msgstr "" "" msgid ""Domain"" msgstr """" msgid ""Identity provider authentication failed."" msgstr ""    "" msgid ""Invalid credentials."" msgstr "" "" msgid ""K2K Federation not setup for this session"" msgstr ""   K2K   "" msgid """" ""No authentication backend could be determined to handle the provided "" ""credentials."" msgstr """" ""          "" msgid ""Password"" msgstr """" #, python-format msgid ""Please consider changing your password, it will expire in %s minutes"" msgstr ""      ,  %s   "" #, python-format msgid ""Project switch failed for user \""%(username)s\""."" msgstr ""  \""%(username)s\""    "" msgid ""Region"" msgstr """" #, python-format msgid ""Service provider authentication failed. %s"" msgstr ""     %s"" #, python-format msgid ""Switch to Keystone Provider \""%(keystone_provider)s\"" successful."" msgstr ""Keystone Provider \""%(keystone_provider)s    "" #, python-format msgid ""Switch to project \""%(project_name)s\"" successful."" msgstr ""\""%(project_name)s\""    "" msgid ""The authentication token issued by the Identity service has expired."" msgstr ""         "" msgid ""Unable to establish connection to keystone endpoint."" msgstr ""     "" msgid ""Unable to retrieve authorized domains."" msgstr ""    "" msgid ""Unable to retrieve authorized projects."" msgstr ""    "" msgid ""User Name"" msgstr "" "" msgid ""You are not authorized for any projects or domains."" msgstr ""         "" msgid ""You are not authorized for any projects."" msgstr ""      "" ",,209,0
openstack%2Fos-traits~master~I89a67614cbd2da2840dc9f6a2fdf4f4633ca149f,openstack/os-traits,master,I89a67614cbd2da2840dc9f6a2fdf4f4633ca149f,Followup: spec ref for auto-converge/post-copy,MERGED,2019-07-30 13:41:26.000000000,2019-07-30 14:01:00.000000000,2019-07-30 14:01:00.000000000,"[{'_account_id': 11564}, {'_account_id': 22348}, {'_account_id': 27614}]","[{'number': 1, 'created': '2019-07-30 13:41:26.000000000', 'files': ['os_traits/compute/migrate.py'], 'web_link': 'https://opendev.org/openstack/os-traits/commit/274e7395cc4f1d791b99f9e2048481f5c7a96827', 'message': 'Followup: spec ref for auto-converge/post-copy\n\nAdds a comment with a link to the spec for the recently-added\nCOMPUTE_MIGRATE_AUTO_CONVERGE and COMPUTE_MIGRATE_POST_COPY traits.\n\nblueprint expose-auto-converge-post-copy\n\nChange-Id: I89a67614cbd2da2840dc9f6a2fdf4f4633ca149f\n'}]",0,673523,274e7395cc4f1d791b99f9e2048481f5c7a96827,6,3,1,14070,,,0,"Followup: spec ref for auto-converge/post-copy

Adds a comment with a link to the spec for the recently-added
COMPUTE_MIGRATE_AUTO_CONVERGE and COMPUTE_MIGRATE_POST_COPY traits.

blueprint expose-auto-converge-post-copy

Change-Id: I89a67614cbd2da2840dc9f6a2fdf4f4633ca149f
",git fetch https://review.opendev.org/openstack/os-traits refs/changes/23/673523/1 && git format-patch -1 --stdout FETCH_HEAD,['os_traits/compute/migrate.py'],1,274e7395cc4f1d791b99f9e2048481f5c7a96827,bp/expose-auto-converge-post-copy, # ref: http://specs.openstack.org/openstack/nova-specs/specs/train/approved/expose-auto-converge-post-copy.html#proposed-change # noqa,,1,0
openstack%2Fmonasca-agent~master~Id2a98d9a4b3d1f36ed47b8cb36931e4267b69dcf,openstack/monasca-agent,master,Id2a98d9a4b3d1f36ed47b8cb36931e4267b69dcf,trivial fix: Correct some spelling errors,MERGED,2018-11-08 09:38:51.000000000,2019-07-30 13:58:33.000000000,2019-07-30 13:58:33.000000000,"[{'_account_id': 14123}, {'_account_id': 16222}, {'_account_id': 18955}, {'_account_id': 21922}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-08 09:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/b7e5f16b92b7dfd618097b5bd2503815554d7339', 'message': 'trivial fix: Correct some spelling errors\n\nSmall modification to correct spelling mistake.\n\nChange-Id: Id2a98d9a4b3d1f36ed47b8cb36931e4267b69dcf\n'}, {'number': 2, 'created': '2019-07-15 10:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/37d693fb8f79033a69894612944481f8ccf95cd2', 'message': 'trivial fix: Correct some spelling errors\n\nSmall modification to correct spelling mistake.\n\nChange-Id: Id2a98d9a4b3d1f36ed47b8cb36931e4267b69dcf\n'}, {'number': 3, 'created': '2019-07-15 10:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/c656f9196f36551aba7dcfbe3cea10566321e40d', 'message': 'trivial fix: Correct some spelling errors\n\nSmall modification to correct spelling mistake.\n\nChange-Id: Id2a98d9a4b3d1f36ed47b8cb36931e4267b69dcf\n'}, {'number': 4, 'created': '2019-07-15 11:45:47.000000000', 'files': ['docs/Libvirt.md', 'docs/DeveloperDocs/agent_internals.md', 'docs/MonascaMetrics.md'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/f9b34043bf014a459507cff58b10ad754c72f16c', 'message': 'trivial fix: Correct some spelling errors\n\nSmall modification to correct spelling mistake.\n\nChange-Id: Id2a98d9a4b3d1f36ed47b8cb36931e4267b69dcf\n'}]",8,616473,f9b34043bf014a459507cff58b10ad754c72f16c,16,5,4,28956,,,0,"trivial fix: Correct some spelling errors

Small modification to correct spelling mistake.

Change-Id: Id2a98d9a4b3d1f36ed47b8cb36931e4267b69dcf
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/73/616473/1 && git format-patch -1 --stdout FETCH_HEAD,"['docs/Libvirt.md', 'conf.d/http_check.yaml.example', 'conf.d/http_metrics.yaml.example', 'docs/DeveloperDocs/agent_internals.md', 'docs/MonascaMetrics.md']",5,b7e5f16b92b7dfd618097b5bd2503815554d7339,typo,## StatsD Protocol Compatibility The monasca-statsd daemon supports the following parts of the StatsD protocol and its extensions:,## StatsD Protocol Compatiblity The moansca-statsd daemon supports the following parts of the StatsD protocol and its extensions:,6,6
openstack%2Fpuppet-cinder~master~I94e8ee30cadcd0882fc0ef423a3a3bee12c84f99,openstack/puppet-cinder,master,I94e8ee30cadcd0882fc0ef423a3a3bee12c84f99,adding description related to if not defined,ABANDONED,2019-07-30 13:30:20.000000000,2019-07-30 13:54:14.000000000,,[],"[{'number': 1, 'created': '2019-07-30 13:30:20.000000000', 'files': ['manifests/backend/iscsi.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/2452acad746a33f4b859e6655642500265ecf5aa', 'message': 'adding description related to if not defined\n\nChange-Id: I94e8ee30cadcd0882fc0ef423a3a3bee12c84f99\n'}]",4,673520,2452acad746a33f4b859e6655642500265ecf5aa,3,0,1,30698,,,0,"adding description related to if not defined

Change-Id: I94e8ee30cadcd0882fc0ef423a3a3bee12c84f99
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/20/673520/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/backend/iscsi.pp'],1,2452acad746a33f4b859e6655642500265ecf5aa,bugfix-Debian-iscsi-multiple-backends," # NOTE(radupantiru): If ! defined() is required for using this defined type # more than once. if ! defined(Package['tgt']) { package { 'tgt': ensure => present, name => $::cinder::params::tgt_package_name, tag => 'cinder-support-package', } if ! defined(Service['tgtd']) { service { 'tgtd': ensure => running, name => $::cinder::params::tgt_service_name, enable => true, tag => 'cinder-support-service', } } } 'lioadm': { if ! defined(Service['target']) { } if ! defined(Package['targetcli']) { package { 'targetcli': ensure => present, name => $::cinder::params::lio_package_name, tag => 'cinder-support-package', }"," package { 'tgt': ensure => present, name => $::cinder::params::tgt_package_name, tag => 'cinder-support-package', service { 'tgtd': ensure => running, name => $::cinder::params::tgt_service_name, enable => true, tag => 'cinder-support-service', } } 'lioadm': { package { 'targetcli': ensure => present, name => $::cinder::params::lio_package_name, tag => 'cinder-support-package', }",25,16
openstack%2Fcinder~stable%2Fqueens~I6d1982f83966a2653ea848d306c726b0c74e84f3,openstack/cinder,stable/queens,I6d1982f83966a2653ea848d306c726b0c74e84f3,volume list function supplement,ABANDONED,2019-07-30 07:27:02.000000000,2019-07-30 13:49:07.000000000,,"[{'_account_id': 4523}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 19933}, {'_account_id': 22348}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2019-07-30 07:27:02.000000000', 'files': ['cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/eb58ca94cd42905aeaab9c2ac21e2176993e8a88', 'message': 'volume list function supplement\n\nChange-Id: I6d1982f83966a2653ea848d306c726b0c74e84f3\n'}]",0,673416,eb58ca94cd42905aeaab9c2ac21e2176993e8a88,10,8,1,30754,,,0,"volume list function supplement

Change-Id: I6d1982f83966a2653ea848d306c726b0c74e84f3
",git fetch https://review.opendev.org/openstack/cinder refs/changes/16/673416/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/api.py'],1,eb58ca94cd42905aeaab9c2ac21e2176993e8a88,,"@require_context def query_volume_get_query(context, session=None, project_only=False, joined_load=True,volume_id_test = None,user_id_test = None): """"""Get the query to retrieve the volume. :param context: the context used to run the method query_volume_get_query :param session: the session to use :param project_only: the boolean used to decide whether to query the volume in the current project or all projects :param joined_load: the boolean used to decide whether the query loads the other models, which join the volume model in the database. Currently, the False value for this parameter is specially for the case of updating database during volume migration :returns: updated query or None """""" if not joined_load: return model_query(context, models.Volume, session=session, project_only=project_only) if is_admin_context(context): query = model_query(context, models.Volume, session=session, project_only=project_only).\ options(joinedload('volume_metadata')).\ options(joinedload('volume_admin_metadata')).\ options(joinedload('volume_type')).\ options(joinedload('volume_attachment')).\ options(joinedload('consistencygroup')).\ options(joinedload('group')) else: query = model_query(context, models.Volume, session=session, project_only=project_only).\ options(joinedload('volume_metadata')).\ options(joinedload('volume_type')).\ options(joinedload('volume_attachment')).\ options(joinedload('consistencygroup')).\ options(joinedload('group')) if volume_id_test and user_id_test: return query.filter(or_(models.Volume.id.in_(volume_id_test),models.Volume.user_id.in_(user_id_test))) elif volume_id_test and not user_id_test: return query.filter(models.Volume.id.in_(volume_id_test)) elif not volume_id_test and user_id_test: return query.filter(models.Volume.user_id.in_(user_id_test)) else: return query",,44,0
openstack%2Fpython-glanceclient~master~Ia19a4417cd05d228adc26f9d7c82f4aa3c24488c,openstack/python-glanceclient,master,Ia19a4417cd05d228adc26f9d7c82f4aa3c24488c,Correcting typo in shell.py - enviroment to environment.,MERGED,2019-07-30 01:10:17.000000000,2019-07-30 13:39:34.000000000,2019-07-30 13:39:34.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 01:10:17.000000000', 'files': ['glanceclient/v2/shell.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/c2465987894a538ca4ed0013623ae7c75c0eb9d2', 'message': 'Correcting typo in shell.py - enviroment to environment.\n\nThere is a typographical error in glanceclient/v2/shell.py. Correcting\nspelling from enviroment to environment.\n\nChange-Id: Ia19a4417cd05d228adc26f9d7c82f4aa3c24488c\n'}]",0,673380,c2465987894a538ca4ed0013623ae7c75c0eb9d2,6,2,1,29775,,,0,"Correcting typo in shell.py - enviroment to environment.

There is a typographical error in glanceclient/v2/shell.py. Correcting
spelling from enviroment to environment.

Change-Id: Ia19a4417cd05d228adc26f9d7c82f4aa3c24488c
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/80/673380/1 && git format-patch -1 --stdout FETCH_HEAD,['glanceclient/v2/shell.py'],1,c2465987894a538ca4ed0013623ae7c75c0eb9d2,fix-environment-spelling, 'You can also set the environment variable ', 'You can also set the enviroment variable ',1,1
openstack%2Fos-traits~master~I6afd7ef33edd5187c6242d0e0e58c871cb83250e,openstack/os-traits,master,I6afd7ef33edd5187c6242d0e0e58c871cb83250e,Add new traits to flag live migration features,MERGED,2019-07-30 05:23:33.000000000,2019-07-30 13:37:27.000000000,2019-07-30 13:37:27.000000000,"[{'_account_id': 5754}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2019-07-30 05:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-traits/commit/4072b0cbf8e3d64346e136aa95bf13c5b2c721dd', 'message': 'Add new traits to flag live migration features\n\nAdd two new tratis:\n- COMPUTE_MIGRATE_AUTO_CONVERGE\n- COMPUTE_MIGRATE_POST_COPY\n\nChange-Id: I6afd7ef33edd5187c6242d0e0e58c871cb83250e\n'}, {'number': 2, 'created': '2019-07-30 05:48:41.000000000', 'files': ['os_traits/compute/migrate.py'], 'web_link': 'https://opendev.org/openstack/os-traits/commit/9de1fa7b3b5dd6a34a1823a780279c71b517feff', 'message': 'Add new traits to flag live migration features\n\nAdd two new tratis:\n- COMPUTE_MIGRATE_AUTO_CONVERGE\n- COMPUTE_MIGRATE_POST_COPY\n\nImplements: blueprint expose-auto-converge-post-copy\n\nChange-Id: I6afd7ef33edd5187c6242d0e0e58c871cb83250e\n'}]",2,673402,9de1fa7b3b5dd6a34a1823a780279c71b517feff,12,5,2,27614,,,0,"Add new traits to flag live migration features

Add two new tratis:
- COMPUTE_MIGRATE_AUTO_CONVERGE
- COMPUTE_MIGRATE_POST_COPY

Implements: blueprint expose-auto-converge-post-copy

Change-Id: I6afd7ef33edd5187c6242d0e0e58c871cb83250e
",git fetch https://review.opendev.org/openstack/os-traits refs/changes/02/673402/2 && git format-patch -1 --stdout FETCH_HEAD,['os_traits/compute/migrate.py'],1,4072b0cbf8e3d64346e136aa95bf13c5b2c721dd,bp/expose-auto-converge-post-copy,"# -*- coding: utf-8 -*- # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. TRAITS = [ 'AUTO_CONVERGE', 'POST_COPY', ] ",,18,0
openstack%2Fproject-config~master~I92b05b5b57c64ca0e29be75c864b33adaa79ac54,openstack/project-config,master,I92b05b5b57c64ca0e29be75c864b33adaa79ac54,set FN to boot from volume for Cinder NVME backend,MERGED,2019-07-30 00:32:27.000000000,2019-07-30 13:36:19.000000000,2019-07-30 13:36:18.000000000,"[{'_account_id': 5263}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 00:32:27.000000000', 'files': ['nodepool/nl02.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a4e46ad6a1262ae400ee5b9a234164a8c771006d', 'message': 'set FN to boot from volume for Cinder NVME backend\n\nChange-Id: I92b05b5b57c64ca0e29be75c864b33adaa79ac54\n'}]",0,673378,a4e46ad6a1262ae400ee5b9a234164a8c771006d,7,3,1,20754,,,0,"set FN to boot from volume for Cinder NVME backend

Change-Id: I92b05b5b57c64ca0e29be75c864b33adaa79ac54
",git fetch https://review.opendev.org/openstack/project-config refs/changes/78/673378/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl02.openstack.org.yaml'],1,a4e46ad6a1262ae400ee5b9a234164a8c771006d,, boot-from-volume: true volume-size: 80 boot-from-volume: true volume-size: 80 boot-from-volume: true volume-size: 80 boot-from-volume: true volume-size: 80 boot-from-volume: true volume-size: 80 boot-from-volume: true volume-size: 80 boot-from-volume: true volume-size: 80 boot-from-volume: true volume-size: 80 boot-from-volume: true volume-size: 80 boot-from-volume: true volume-size: 80 boot-from-volume: true volume-size: 80 boot-from-volume: true volume-size: 80 boot-from-volume: true volume-size: 80,,26,0
openstack%2Fkeystoneauth~master~I1f9de98dae5719842f03d45e5a9d724199d5718b,openstack/keystoneauth,master,I1f9de98dae5719842f03d45e5a9d724199d5718b,Allow requesting fixed retry delay instead of exponential,MERGED,2019-07-26 09:39:32.000000000,2019-07-30 13:33:03.000000000,2019-07-30 13:33:03.000000000,"[{'_account_id': 2}, {'_account_id': 8482}, {'_account_id': 10239}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-07-26 09:39:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/195475d3dfd8c372b38c2dd2fe8bd1e3246c042b', 'message': 'Allow requesting fixed retry delay instead of exponential\n\nClients like ironicclient and swiftclient use fixed delay for their\nbuild-in retry functionality. To replace it without changing behavior\nwe need a similar feature.\n\nChange-Id: I1f9de98dae5719842f03d45e5a9d724199d5718b\n'}, {'number': 2, 'created': '2019-07-29 11:07:50.000000000', 'files': ['keystoneauth1/tests/unit/loading/test_adapter.py', 'releasenotes/notes/retry-delay-68d0c0a1dffcf2fd.yaml', 'keystoneauth1/session.py', 'keystoneauth1/tests/unit/test_session.py', 'keystoneauth1/adapter.py', 'keystoneauth1/loading/adapter.py'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/bca9ee7d3cb4202a529c454a8828890ece141d37', 'message': 'Allow requesting fixed retry delay instead of exponential\n\nClients like ironicclient and swiftclient use fixed delay for their\nbuild-in retry functionality. To replace it without changing behavior\nwe need a similar feature.\n\nChange-Id: I1f9de98dae5719842f03d45e5a9d724199d5718b\n'}]",12,672930,bca9ee7d3cb4202a529c454a8828890ece141d37,16,6,2,10239,,,0,"Allow requesting fixed retry delay instead of exponential

Clients like ironicclient and swiftclient use fixed delay for their
build-in retry functionality. To replace it without changing behavior
we need a similar feature.

Change-Id: I1f9de98dae5719842f03d45e5a9d724199d5718b
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/30/672930/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneauth1/tests/unit/loading/test_adapter.py', 'keystoneauth1/session.py', 'keystoneauth1/tests/unit/test_session.py', 'releasenotes/notes/retry-delay-68d0c0a1dffcf2fd.yaml', 'keystoneauth1/adapter.py', 'keystoneauth1/loading/adapter.py']",6,195475d3dfd8c372b38c2dd2fe8bd1e3246c042b,retry-delay," cfg.FloatOpt('connect-retry-delay', deprecated_opts=deprecated_opts.get( 'connect-retry-delay'), help='Delay (in seconds) between two retries ' 'for connection errors. If not set, ' 'exponential retry starting with 0.5 ' 'seconds is used.'), cfg.FloatOpt('status-code-retry-delay', deprecated_opts=deprecated_opts.get( 'status-code-retry-delay'), help='Delay (in seconds) between two retries ' 'for retriable status codes. If not set, ' 'exponential retry starting with 0.5 ' 'seconds is used.'), kwargs.setdefault('connect_retry_delay', confgrp.connect_retry_delay) kwargs.setdefault('status_code_retry_delay', confgrp.status_code_retry_delay)",,145,23
openstack%2Fosc-placement~master~I63493c527ff833ff03611b18712957e29a34290b,openstack/osc-placement,master,I63493c527ff833ff03611b18712957e29a34290b,Add support for 1.24 microversion,ABANDONED,2019-07-30 13:29:29.000000000,2019-07-30 13:31:26.000000000,,[],"[{'number': 1, 'created': '2019-07-30 13:29:29.000000000', 'files': ['osc_placement/tests/functional/base.py', 'osc_placement/resources/resource_provider.py', 'osc_placement/resources/common.py', 'releasenotes/notes/microversion-1.24-multiple-member-of-df0b676b4fcb8edc.yaml', 'osc_placement/tests/functional/test_resource_provider.py', 'osc_placement/version.py'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/b0d6984f963e2542a2b6e097c224cfbfdb23d453', 'message': 'Add support for 1.24 microversion\n\nIntroduction of --member-of and --member-in options for filtering listed\nresource providers based on their association with other resource\nproviders.\n\nChange-Id: I63493c527ff833ff03611b18712957e29a34290b\n'}]",0,673519,b0d6984f963e2542a2b6e097c224cfbfdb23d453,2,0,1,30143,,,0,"Add support for 1.24 microversion

Introduction of --member-of and --member-in options for filtering listed
resource providers based on their association with other resource
providers.

Change-Id: I63493c527ff833ff03611b18712957e29a34290b
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/19/673519/1 && git format-patch -1 --stdout FETCH_HEAD,"['osc_placement/tests/functional/base.py', 'osc_placement/resources/resource_provider.py', 'osc_placement/resources/common.py', 'osc_placement/tests/functional/test_resource_provider.py', 'releasenotes/notes/microversion-1.24-multiple-member-of-df0b676b4fcb8edc.yaml', 'osc_placement/version.py']",6,b0d6984f963e2542a2b6e097c224cfbfdb23d453,," '1.23', # unused '1.24',",,195,3
openstack%2Ftripleo-ansible~master~I242f7bb718b08724da21cafa86d3e8853d0ff453,openstack/tripleo-ansible,master,I242f7bb718b08724da21cafa86d3e8853d0ff453,Use internal endpoints for configuration in octavia nodes,MERGED,2019-07-15 12:03:53.000000000,2019-07-30 13:28:09.000000000,2019-07-30 13:28:09.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-15 12:03:53.000000000', 'files': ['tripleo_ansible/playbooks/octavia-files.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6deec581ac00b3901570f9f4e4768a266cea37e1', 'message': 'Use internal endpoints for configuration in octavia nodes\n\nWhen running configuration steps for octavia in octavia nodes, use\ninternal endpoints since public endpoints may not be available due to\nnetwork topology (spine-leaf network + octavia in networkers).\n\nDepends-On: https://review.opendev.org/#/c/669195/\n\nCloses-Bug: #1835171\nChange-Id: I242f7bb718b08724da21cafa86d3e8853d0ff453\n'}]",0,670820,6deec581ac00b3901570f9f4e4768a266cea37e1,10,6,1,29244,,,0,"Use internal endpoints for configuration in octavia nodes

When running configuration steps for octavia in octavia nodes, use
internal endpoints since public endpoints may not be available due to
network topology (spine-leaf network + octavia in networkers).

Depends-On: https://review.opendev.org/#/c/669195/

Closes-Bug: #1835171
Change-Id: I242f7bb718b08724da21cafa86d3e8853d0ff453
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/20/670820/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/octavia-files.yaml'],1,6deec581ac00b3901570f9f4e4768a266cea37e1,bug/1835171," OS_AUTH_URL: ""{{ os_int_auth_url }}"" OS_INTERFACE: ""internal"" OS_ENDPOINT_TYPE: ""internal"" OS_AUTH_URL: ""{{ os_int_auth_url }}"" OS_INTERFACE: ""internal"" OS_ENDPOINT_TYPE: ""internal"""," OS_AUTH_URL: ""{{ os_auth_url }}"" OS_AUTH_URL: ""{{ os_auth_url }}""",6,2
openstack%2Ftripleo-ansible~master~I90bb377c76f51db906de64c134271ec866d11bb5,openstack/tripleo-ansible,master,I90bb377c76f51db906de64c134271ec866d11bb5,Allow distribution of non-autogenerated certs,MERGED,2019-07-24 13:59:14.000000000,2019-07-30 13:19:48.000000000,2019-07-30 13:19:48.000000000,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-07-24 13:59:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/41543b9cb376037dacd37d377dc6b09947d45de6', 'message': ""Certs shouldn't be written on updates\n\n<wip> needs a bug and it might be better to find a way to skip this\ndepending on  CREATE or UPDATE from the deploy run.\n\nChange-Id: I90bb377c76f51db906de64c134271ec866d11bb5\n""}, {'number': 2, 'created': '2019-07-26 14:55:57.000000000', 'files': ['tripleo_ansible/roles/octavia-controller-config/tasks/main.yml', 'tripleo_ansible/roles/octavia-controller-config/tasks/certificate.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cb692576145b97beadb0116ea50a102a50eb3ef5', 'message': 'Allow distribution of non-autogenerated certs\n\nThis patch changes the conditional run of the certs generation from\nbeing dependent on the value of generate_certs to whether there are\nactual certs present.\n\nRelated-Bug: #1838039\n\nChange-Id: I90bb377c76f51db906de64c134271ec866d11bb5\n'}]",5,672529,cb692576145b97beadb0116ea50a102a50eb3ef5,16,9,2,6681,,,0,"Allow distribution of non-autogenerated certs

This patch changes the conditional run of the certs generation from
being dependent on the value of generate_certs to whether there are
actual certs present.

Related-Bug: #1838039

Change-Id: I90bb377c76f51db906de64c134271ec866d11bb5
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/29/672529/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/octavia-controller-config/tasks/certificate.yml'],1,41543b9cb376037dacd37d377dc6b09947d45de6,bug/1838039,"- name: deployment should not overwrite certificates if they already exist stat: path: ""{{ ca_private_key_path }}"" register: certs_exist- name: Copying key info to octavia if not already there when: certs_exist.stat.exists == False",- name: Copying key info to octavia,6,1
openstack%2Ftripleo-heat-templates~master~I7aac7782e4a6d99419b4ec28787e0904a7838e8c,openstack/tripleo-heat-templates,master,I7aac7782e4a6d99419b4ec28787e0904a7838e8c,ceph-base: Disable ceph-ansible firewall tasks,ABANDONED,2019-07-29 15:57:21.000000000,2019-07-30 13:11:11.000000000,,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-07-29 15:57:21.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/63270d98f2a1dd490734abc13347b2414deaab62', 'message': ""ceph-base: Disable ceph-ansible firewall tasks\n\nTripleO already manages firewall rules so we don't need to have both\nenabled in the same time.\nIt's currently not an issue because the firewall rules aren't apply by\nceph-ansible on containerized deployment but it will be enabled soon.\n\nChange-Id: I7aac7782e4a6d99419b4ec28787e0904a7838e8c\n""}]",0,673324,63270d98f2a1dd490734abc13347b2414deaab62,9,5,1,14270,,,0,"ceph-base: Disable ceph-ansible firewall tasks

TripleO already manages firewall rules so we don't need to have both
enabled in the same time.
It's currently not an issue because the firewall rules aren't apply by
ceph-ansible on containerized deployment but it will be enabled soon.

Change-Id: I7aac7782e4a6d99419b4ec28787e0904a7838e8c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/24/673324/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,63270d98f2a1dd490734abc13347b2414deaab62,ceph_disable_firewall, configure_firewall: false,,1,0
openstack%2Fcookbook-openstack-common~master~I711ff0c0f8d35c581d2a419debe50425ec0d51c2,openstack/cookbook-openstack-common,master,I711ff0c0f8d35c581d2a419debe50425ec0d51c2,Clean up URI handling,MERGED,2019-05-06 08:55:09.000000000,2019-07-30 13:06:07.000000000,2019-07-30 13:06:07.000000000,"[{'_account_id': 13252}, {'_account_id': 19193}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 08:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/b1ab560216b873d75ae746c1083c0fb0f5511da6', 'message': ""Clean up URI handling\n\nThe two functions auth_uri_transform() and identity_uri_transform()\nimplicitly assume that the identity endpoint has no path component other\nthan 'v2.0'. This blocks modern deployment designs, so drop these\nfunctions.\n\nProbably will need some dependencies to clean up consumers of these\nfunctions.\n\nChange-Id: I711ff0c0f8d35c581d2a419debe50425ec0d51c2\n""}, {'number': 2, 'created': '2019-05-06 12:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/ade72829d6dd574e6a11dbea4916a65050c4895a', 'message': ""Clean up URI handling\n\nThe two functions auth_uri_transform() and identity_uri_transform()\nimplicitly assume that the identity endpoint has no path component other\nthan 'v2.0'. This blocks modern deployment designs, so drop these\nfunctions.\n\nProbably will need some dependencies to clean up consumers of these\nfunctions.\n\nChange-Id: I711ff0c0f8d35c581d2a419debe50425ec0d51c2\n""}, {'number': 3, 'created': '2019-07-17 08:18:26.000000000', 'files': ['libraries/uri.rb', 'spec/uri_spec.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/29e07f27b2057293f35dc00c0c4eb8e016556e41', 'message': ""Clean up URI handling\n\nThe two functions auth_uri_transform() and identity_uri_transform()\nimplicitly assume that the identity endpoint has no path component other\nthan 'v2.0'. This blocks modern deployment designs, so drop these\nfunctions.\n\nProbably will need some dependencies to clean up consumers of these\nfunctions.\n\nChange-Id: I711ff0c0f8d35c581d2a419debe50425ec0d51c2\n""}]",0,657351,29e07f27b2057293f35dc00c0c4eb8e016556e41,14,3,3,13252,,,0,"Clean up URI handling

The two functions auth_uri_transform() and identity_uri_transform()
implicitly assume that the identity endpoint has no path component other
than 'v2.0'. This blocks modern deployment designs, so drop these
functions.

Probably will need some dependencies to clean up consumers of these
functions.

Change-Id: I711ff0c0f8d35c581d2a419debe50425ec0d51c2
",git fetch https://review.opendev.org/openstack/cookbook-openstack-common refs/changes/51/657351/3 && git format-patch -1 --stdout FETCH_HEAD,['libraries/uri.rb'],1,b1ab560216b873d75ae746c1083c0fb0f5511da6,654936,," def auth_uri_transform(auth_uri, auth_version) case auth_version when 'v2.0' auth_uri when 'v3.0' # The auth_uri should contain /v2.0 in most cases, but if the # auth_version is v3.0, we set it to v3. This is only necessary # for environments that need to support V3 non-default-domain # tokens, which is really the only reason to set version to # something other than v2.0 (the default) auth_uri.gsub('/v2.0', '/v3') end end # Helper for creating identity_uri value for the auth_token section # of component config files. # The definition of identity is: the unversioned root # identity endpoint e.g. https://localhost:5000/ # This method will make sure the path is removed from the uri. def identity_uri_transform(identity_uri) uri = ::URI.parse ::URI.encode(identity_uri.to_s) uri.path = '/' uri.to_s end",0,25
openstack%2Fcookbook-openstack-common~master~I8d518b2a940333a76e21b22929272e60ed493dbf,openstack/cookbook-openstack-common,master,I8d518b2a940333a76e21b22929272e60ed493dbf,"Revert ""Add contentdir yum variable""",MERGED,2019-07-11 00:40:09.000000000,2019-07-30 13:06:06.000000000,2019-07-30 13:06:06.000000000,"[{'_account_id': 13252}, {'_account_id': 19193}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-11 00:40:09.000000000', 'files': ['recipes/default.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/782bfbfe645e627600e059d0cfba7b10bba6c8b6', 'message': 'Revert ""Add contentdir yum variable""\n\nThis is no longer needed as this file seems to be created on a freshly\ninstalled system.\n\nThis reverts commit 80706ed6e3505605de41fad308df85c6166b98f8.\n\nChange-Id: I8d518b2a940333a76e21b22929272e60ed493dbf\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,670217,782bfbfe645e627600e059d0cfba7b10bba6c8b6,7,3,1,21961,,,0,"Revert ""Add contentdir yum variable""

This is no longer needed as this file seems to be created on a freshly
installed system.

This reverts commit 80706ed6e3505605de41fad308df85c6166b98f8.

Change-Id: I8d518b2a940333a76e21b22929272e60ed493dbf
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-common refs/changes/17/670217/1 && git format-patch -1 --stdout FETCH_HEAD,['recipes/default.rb'],1,782bfbfe645e627600e059d0cfba7b10bba6c8b6,revert-add_contentdir,, # TODO(sc): workaround to add $contentdir # removable when centos is updated bash 'yum_contentdir' do cwd ::File.dirname('/etc/yum/vars') code <<-EOH echo 'centos' > /etc/yum/vars/contentdir EOH not_if { ::File.exist?('/etc/yum/vars/contentdir') } end ,0,10
openstack%2Fpuppet-cinder~master~I1872b14e3b800957b4d2d882f010870e92e92655,openstack/puppet-cinder,master,I1872b14e3b800957b4d2d882f010870e92e92655,Adding aditional if ! defined checks for the iscsi defined type,ABANDONED,2019-07-30 12:58:42.000000000,2019-07-30 13:04:10.000000000,,[],"[{'number': 1, 'created': '2019-07-30 12:58:42.000000000', 'files': ['manifests/backend/iscsi.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/14e0dbfa5a7ad7ac7cb938b03b6c13f402fee24b', 'message': 'Adding aditional if ! defined checks for the iscsi defined type\n\nChange-Id: I1872b14e3b800957b4d2d882f010870e92e92655\n'}]",0,673511,14e0dbfa5a7ad7ac7cb938b03b6c13f402fee24b,2,0,1,30698,,,0,"Adding aditional if ! defined checks for the iscsi defined type

Change-Id: I1872b14e3b800957b4d2d882f010870e92e92655
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/11/673511/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/backend/iscsi.pp'],1,14e0dbfa5a7ad7ac7cb938b03b6c13f402fee24b,bugfix-Debian-iscsi-multiple-backends," if ! defined(Package['tgt']) { package { 'tgt': ensure => present, name => $::cinder::params::tgt_package_name, tag => 'cinder-support-package', } if ! defined(Service['tgtd']) { service { 'tgtd': ensure => running, name => $::cinder::params::tgt_service_name, enable => true, tag => 'cinder-support-service', } } } 'lioadm': { if ! defined(Service['target']) { } if ! defined(Package['targetcli']) { package { 'targetcli': ensure => present, name => $::cinder::params::lio_package_name, tag => 'cinder-support-package', }"," package { 'tgt': ensure => present, name => $::cinder::params::tgt_package_name, tag => 'cinder-support-package', service { 'tgtd': ensure => running, name => $::cinder::params::tgt_service_name, enable => true, tag => 'cinder-support-service', } } 'lioadm': { package { 'targetcli': ensure => present, name => $::cinder::params::lio_package_name, tag => 'cinder-support-package', }",22,16
openstack%2Fkuryr-kubernetes~master~I52bac93ba3570e29ae69ea4de196cf5c9c743c01,openstack/kuryr-kubernetes,master,I52bac93ba3570e29ae69ea4de196cf5c9c743c01,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-26 06:25:46.000000000,2019-07-30 12:47:35.000000000,2019-07-30 12:47:35.000000000,"[{'_account_id': 11600}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-07-26 06:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/cd6c70a4a5e382f0df3df4f427728474b432eb0b', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\nDepend-On: https://review.opendev.org/#/c/663060/\n\nChange-Id: I52bac93ba3570e29ae69ea4de196cf5c9c743c01\n'}, {'number': 2, 'created': '2019-07-30 08:58:34.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0421973c25e5348557c28993bb3f95fb8e63a612', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: I52bac93ba3570e29ae69ea4de196cf5c9c743c01\n'}]",1,672874,0421973c25e5348557c28993bb3f95fb8e63a612,11,4,2,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: I52bac93ba3570e29ae69ea4de196cf5c9c743c01
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/74/672874/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,cd6c70a4a5e382f0df3df4f427728474b432eb0b,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Ftripleo-validations~master~I6914576ac7569f2dc53d700c11610764b2588b34,openstack/tripleo-validations,master,I6914576ac7569f2dc53d700c11610764b2588b34,DNM - CI Testing,ABANDONED,2019-07-30 12:38:55.000000000,2019-07-30 12:40:01.000000000,,[],"[{'number': 1, 'created': '2019-07-30 12:38:55.000000000', 'files': ['roles/undercloud-ram/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3cc021179cf0b4afd881f4e6ca0213c3a04df876', 'message': 'DNM - CI Testing\n\nChange-Id: I6914576ac7569f2dc53d700c11610764b2588b34\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}]",0,673502,3cc021179cf0b4afd881f4e6ca0213c3a04df876,2,0,1,11491,,,0,"DNM - CI Testing

Change-Id: I6914576ac7569f2dc53d700c11610764b2588b34
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/02/673502/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/undercloud-ram/defaults/main.yml'],1,3cc021179cf0b4afd881f4e6ca0213c3a04df876,bp/validation-framework-infra,my_var_test: 2,,1,1
openstack%2Foctavia~master~I25030e46ced9b1c77fad543aa9285c053a388f14,openstack/octavia,master,I25030e46ced9b1c77fad543aa9285c053a388f14,Bump the openstackdocstheme extension to 1.20,MERGED,2019-07-16 09:10:36.000000000,2019-07-30 12:38:48.000000000,2019-07-30 12:38:48.000000000,"[{'_account_id': 2245}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-16 09:10:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ab7fa2b40d64e02bd8472e16ee6903d3e9b4278c', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I25030e46ced9b1c77fad543aa9285c053a388f14\n'}, {'number': 2, 'created': '2019-07-22 01:44:43.000000000', 'files': ['doc/source/conf.py', 'api-ref/source/conf.py', 'doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/6b056dac251350add9e09002577899cb26bb914b', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I25030e46ced9b1c77fad543aa9285c053a388f14\n'}]",1,670986,6b056dac251350add9e09002577899cb26bb914b,13,4,2,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: I25030e46ced9b1c77fad543aa9285c053a388f14
",git fetch https://review.opendev.org/openstack/octavia refs/changes/86/670986/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/conf.py', 'doc/source/conf.py', 'doc/requirements.txt', 'releasenotes/source/conf.py']",4,ab7fa2b40d64e02bd8472e16ee6903d3e9b4278c,openstackdocstheme,,"project = u'Octavia Release Notes'# The full version, including alpha/beta/rc tags. release = '' # The short X.Y version. version = '' # If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. # html_last_updated_fmt = '%b %d, %Y' html_last_updated_fmt = '%Y-%m-%d %H:%M' latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } ",1,67
openstack%2Fproject-config~master~I2f886a57c6d54702f96330231c51f6d735c4c069,openstack/project-config,master,I2f886a57c6d54702f96330231c51f6d735c4c069,Create repository for ceilometer-dashboard plugin,ABANDONED,2018-11-21 13:06:36.000000000,2019-07-30 12:29:14.000000000,,"[{'_account_id': 1736}, {'_account_id': 2472}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 10068}, {'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 27416}]","[{'number': 1, 'created': '2018-11-21 13:06:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/54b3348736c1013adfb20d37c7ab124f69fd64bd', 'message': 'Create repository for ceilometer-dashboard plugin\n\nGrafana can be used to display data from Ceilometer. This plugin will help\nDashboard to create basic structure in Grafana and users to view graphs\nwithout need to authenticate against Grafana.\n\nChange-Id: I2f886a57c6d54702f96330231c51f6d735c4c069\n'}, {'number': 2, 'created': '2018-11-22 12:13:44.000000000', 'files': ['gerritbot/channels.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml', 'gerrit/acls/openstack/ceilometer-dashboard.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/eb5fe294eba54ace9e35d31398af933329ecd8d7', 'message': 'Create repository for ceilometer-dashboard plugin\n\nGrafana can be used to display data from Ceilometer. This Horizon plugin can\nmanage structures in Grafana (via API) for Horizon users as they can directly\nlook on graphs without need to authenticate against Grafana UI.\n\nNeeded-By: I65de712b1bd21faa6b5e3c095689ac0ac9e8d5c9\nChange-Id: I2f886a57c6d54702f96330231c51f6d735c4c069\n'}]",4,619235,eb5fe294eba54ace9e35d31398af933329ecd8d7,18,8,2,27416,,,0,"Create repository for ceilometer-dashboard plugin

Grafana can be used to display data from Ceilometer. This Horizon plugin can
manage structures in Grafana (via API) for Horizon users as they can directly
look on graphs without need to authenticate against Grafana UI.

Needed-By: I65de712b1bd21faa6b5e3c095689ac0ac9e8d5c9
Change-Id: I2f886a57c6d54702f96330231c51f6d735c4c069
",git fetch https://review.opendev.org/openstack/project-config refs/changes/35/619235/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'gerrit/acls/openstack/ceilometer-dashboard.config']",2,54b3348736c1013adfb20d37c7ab124f69fd64bd,ceilometer-dashboard-repository,"[access ""refs/heads/*""] abandon = group ceilometer-dashboard-core create = group ceilometer-dashboard-release label-Code-Review = -2..+2 group ceilometer-dashboard-core label-Workflow = -1..+1 group ceilometer-dashboard-core [access ""refs/tags/*""] pushSignedTag = group ceilometer-dashboard-release [receive] requireChangeId = true requireContributorAgreement = true [submit] mergeContent = true ",,17,0
openstack%2Fnetworking-ovn~stable%2Frocky~Icebf4a82f64989112c3ca810b4358de490108c2d,openstack/networking-ovn,stable/rocky,Icebf4a82f64989112c3ca810b4358de490108c2d,Always add NAT rule to a LR when updating a FIP,MERGED,2019-07-22 07:04:30.000000000,2019-07-30 12:25:04.000000000,2019-07-30 12:25:04.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-07-22 07:04:30.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9490a84f21eef0c112c625227748a61738334d7a', 'message': ""Always add NAT rule to a LR when updating a FIP\n\nBefore this patch, the NAT rule was attempted to be updated when a\nFIP was reassigned to another port. However, this was a noop\nsince the NAT rule didn't exist anymore causing the reassigning to\nbe ineffective and to fail silently.\n\nThis patch is always adding the NAT rule to the Logical Router\nno matter if the Neutron FIP is being added or updated.\n\nThe bug that this patch addresses was being hit in the gate with\naround a 30% ratio because the maintenance task was fixing it while\ntempest was still rying to SSH into it.\n\nConflicts:\n\tnetworking_ovn/common/ovn_client.py\n\nChange-Id: Icebf4a82f64989112c3ca810b4358de490108c2d\nCloses-Bug: #1835029\nCloses-Bug: #1833820\nCo-Authored-By: Jakub Libosvar <jlibosva@redhat.com>\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit d662f444280f5dc0a304a0b4de4767c91304c747)\n(cherry picked from commit 13689522d6b97b4d2246e5de6af0447b39ec50ed)\n""}]",0,671970,9490a84f21eef0c112c625227748a61738334d7a,13,5,1,8655,,,0,"Always add NAT rule to a LR when updating a FIP

Before this patch, the NAT rule was attempted to be updated when a
FIP was reassigned to another port. However, this was a noop
since the NAT rule didn't exist anymore causing the reassigning to
be ineffective and to fail silently.

This patch is always adding the NAT rule to the Logical Router
no matter if the Neutron FIP is being added or updated.

The bug that this patch addresses was being hit in the gate with
around a 30% ratio because the maintenance task was fixing it while
tempest was still rying to SSH into it.

Conflicts:
	networking_ovn/common/ovn_client.py

Change-Id: Icebf4a82f64989112c3ca810b4358de490108c2d
Closes-Bug: #1835029
Closes-Bug: #1833820
Co-Authored-By: Jakub Libosvar <jlibosva@redhat.com>
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
(cherry picked from commit d662f444280f5dc0a304a0b4de4767c91304c747)
(cherry picked from commit 13689522d6b97b4d2246e5de6af0447b39ec50ed)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/70/671970/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py']",2,9490a84f21eef0c112c625227748a61738334d7a,bug/1835029," self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( 'neutron-router-id',"," self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_not_called() self.l3_inst._ovn.set_nat_rule_in_lrouter.assert_called_once_with( 'neutron-router-id', 'uuid1',",5,21
openstack%2Fnetworking-ovn~master~I0f57a1706d41836b35ffd33bb154af6a5667b7cd,openstack/networking-ovn,master,I0f57a1706d41836b35ffd33bb154af6a5667b7cd,Replace httplib2 with requests in metadata agent,MERGED,2019-07-25 10:48:37.000000000,2019-07-30 12:25:03.000000000,2019-07-30 12:25:03.000000000,"[{'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 6854}, {'_account_id': 8655}, {'_account_id': 10237}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-07-25 10:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/aacf8b27edc8bc3b74162fbed29acd046da06b8d', 'message': 'Replace httplib2 with requests in metadata agent\n\nhttplib2 uses PROTOCOL_TLSv1 which in fact restricts\nconnection to TLS v1.0 only.\nThis patch moves to use requests library that uses\nPROTOCOL_TLS, that supports all versions supported\nSSL library.\n\nChange-Id: I0f57a1706d41836b35ffd33bb154af6a5667b7cd\nCloses-Bug: #1837870\n'}, {'number': 2, 'created': '2019-07-25 13:29:19.000000000', 'files': ['networking_ovn/agent/metadata/server.py', 'requirements.txt', 'networking_ovn/tests/unit/agent/metadata/test_server.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c3b9cdccd6422d22f904e6594b392131fff7ed98', 'message': 'Replace httplib2 with requests in metadata agent\n\nhttplib2 uses PROTOCOL_TLSv1 which in fact restricts\nconnection to TLS v1.0 only.\nThis patch moves to use requests library that uses\nPROTOCOL_TLS, that supports all versions supported\nSSL library.\nSame change was made a while ago in neutron [0].\n\n[0] https://review.opendev.org/#/c/593641/\n\nCo-Authored-By: James Page <james.page@ubuntu.com>\n\nChange-Id: I0f57a1706d41836b35ffd33bb154af6a5667b7cd\nCloses-Bug: #1837870\n'}]",5,672689,c3b9cdccd6422d22f904e6594b392131fff7ed98,28,11,2,24791,,,0,"Replace httplib2 with requests in metadata agent

httplib2 uses PROTOCOL_TLSv1 which in fact restricts
connection to TLS v1.0 only.
This patch moves to use requests library that uses
PROTOCOL_TLS, that supports all versions supported
SSL library.
Same change was made a while ago in neutron [0].

[0] https://review.opendev.org/#/c/593641/

Co-Authored-By: James Page <james.page@ubuntu.com>

Change-Id: I0f57a1706d41836b35ffd33bb154af6a5667b7cd
Closes-Bug: #1837870
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/89/672689/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/agent/metadata/server.py', 'networking_ovn/tests/unit/agent/metadata/test_server.py']",2,aacf8b27edc8bc3b74162fbed29acd046da06b8d,," resp = mock.MagicMock(status_code=response_code) resp.status.__str__.side_effect = AttributeError resp.content = 'content' with mock.patch('requests.request') as mock_request: resp.headers = {'content-type': 'text/plain'} mock_request.return_value = resp mock_request.assert_called_once_with( method=method, url='http://9.9.9.9:8775/the_path', headers={ 'X-Forwarded-For': '8.8.8.8', 'X-Instance-ID-Signature': 'signed', 'X-Instance-ID': 'the_id', 'X-Tenant-ID': 'tenant_id' }, data=body, cert=(self.fake_conf.nova_client_cert, self.fake_conf.nova_client_priv_key), verify=False)"," resp = mock.MagicMock(status=response_code) with mock.patch('httplib2.Http') as mock_http: resp.__getitem__.return_value = ""text/plain"" mock_http.return_value.request.return_value = (resp, 'content') mock_http.assert_called_once_with( ca_certs=None, disable_ssl_certificate_validation=True) mock_http.assert_has_calls([ mock.call().add_certificate( self.fake_conf.nova_client_priv_key, self.fake_conf.nova_client_cert, ""%s:%s"" % (self.fake_conf.nova_metadata_host, self.fake_conf.nova_metadata_port) ), mock.call().request( 'http://9.9.9.9:8775/the_path', method=method, headers={ 'X-Forwarded-For': '8.8.8.8', 'X-Instance-ID-Signature': 'signed', 'X-Instance-ID': 'the_id', 'X-Tenant-ID': 'tenant_id' }, body=body )] )",53,53
openstack%2Frally~master~I6038f8a2be51ae359e9b2e2faab9486ca3d229e6,openstack/rally,master,I6038f8a2be51ae359e9b2e2faab9486ca3d229e6,Dropping the py35 testing,ABANDONED,2019-04-22 03:18:20.000000000,2019-07-30 12:17:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-04-22 03:18:20.000000000', 'files': ['.zuul.d/zuul.yaml', '.zuul.d/python-jobs.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/rally/commit/2246369e473e24b077500b71fe4321e6cb300461', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I6038f8a2be51ae359e9b2e2faab9486ca3d229e6\n'}]",0,654280,2246369e473e24b077500b71fe4321e6cb300461,3,1,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I6038f8a2be51ae359e9b2e2faab9486ca3d229e6
",git fetch https://review.opendev.org/openstack/rally refs/changes/80/654280/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/zuul.yaml', '.zuul.d/python-jobs.yaml', 'setup.cfg', 'tox.ini']",4,2246369e473e24b077500b71fe4321e6cb300461,dropping-py35-testing,"envlist = py36,py34,py27,pep8,samples","envlist = py35,py34,py27,pep8,samples[testenv:py35] basepython = python3.5 ",1,18
openstack%2Fcharm-interface-service-control~master~I2c4ea8842d5e0a65891387c376ebb22f844e0c2b,openstack/charm-interface-service-control,master,I2c4ea8842d5e0a65891387c376ebb22f844e0c2b,Dropping the py35 testing,ABANDONED,2019-04-23 22:27:48.000000000,2019-07-30 12:16:33.000000000,,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 22:27:48.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-interface-service-control/commit/a7d8814649657a3761c9bc7487d01db9c561f701', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I2c4ea8842d5e0a65891387c376ebb22f844e0c2b\n'}]",0,655255,a7d8814649657a3761c9bc7487d01db9c561f701,9,3,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I2c4ea8842d5e0a65891387c376ebb22f844e0c2b
",git fetch https://review.opendev.org/openstack/charm-interface-service-control refs/changes/55/655255/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,a7d8814649657a3761c9bc7487d01db9c561f701,dropping-py35-testing,,[testenv:py35] basepython = python3.5 deps = -r{toxinidir}/test-requirements.txt commands = ostestr {posargs} ,1,6
openstack%2Fcharm-panko~master~I092f15dcb71c7ffe32e6bbb82c8b5692b357ff63,openstack/charm-panko,master,I092f15dcb71c7ffe32e6bbb82c8b5692b357ff63,Dropping the py35 testing,ABANDONED,2019-04-23 05:24:38.000000000,2019-07-30 12:16:15.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 05:24:38.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-panko/commit/10aa9dc9e625487b805ed3535c7dd5871683f66a', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I092f15dcb71c7ffe32e6bbb82c8b5692b357ff63\n'}]",0,654720,10aa9dc9e625487b805ed3535c7dd5871683f66a,4,2,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I092f15dcb71c7ffe32e6bbb82c8b5692b357ff63
",git fetch https://review.opendev.org/openstack/charm-panko refs/changes/20/654720/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,10aa9dc9e625487b805ed3535c7dd5871683f66a,dropping-py35-testing,"envlist = pep8,py36,py27[testenv:py36] basepython = python3.6","envlist = pep8,py34,py35,py27[testenv:py34] basepython = python3.4 deps = -r{toxinidir}/test-requirements.txt commands = ostestr {posargs} [testenv:py35] basepython = python3.5",4,9
openstack%2Fcharm-ceilometer~master~Ibe0fff604f554550d943c780afd1006d5faa6228,openstack/charm-ceilometer,master,Ibe0fff604f554550d943c780afd1006d5faa6228,Dropping the py35 testing,ABANDONED,2019-04-23 05:03:34.000000000,2019-07-30 12:16:09.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 05:03:34.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/d6f53a713b7919e21649de4017fe55f13842a4ef', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Ibe0fff604f554550d943c780afd1006d5faa6228\n'}]",0,654701,d6f53a713b7919e21649de4017fe55f13842a4ef,4,2,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: Ibe0fff604f554550d943c780afd1006d5faa6228
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/01/654701/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,d6f53a713b7919e21649de4017fe55f13842a4ef,dropping-py35-testing,,[testenv:py35] basepython = python3.5 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt ,1,6
openstack%2Fcharm-ceph-mon~master~I666684a6921bf0704f2cdb5b0076384413acf7f6,openstack/charm-ceph-mon,master,I666684a6921bf0704f2cdb5b0076384413acf7f6,Dropping the py35 testing,ABANDONED,2019-04-23 11:11:04.000000000,2019-07-30 12:16:03.000000000,,"[{'_account_id': 8556}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 11:11:04.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/60987916bc1af70663612a7654895d9522ed6c47', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nDepends-On: https://review.opendev.org/#/c/654954/\nChange-Id: I666684a6921bf0704f2cdb5b0076384413acf7f6\n'}]",1,654955,60987916bc1af70663612a7654895d9522ed6c47,8,3,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Depends-On: https://review.opendev.org/#/c/654954/
Change-Id: I666684a6921bf0704f2cdb5b0076384413acf7f6
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/55/654955/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,60987916bc1af70663612a7654895d9522ed6c47,dropping-py35-testing,,; keep zuul happy until we change the py35 job [testenv:py35] basepython = python3.5 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt ,1,7
openstack%2Fcharm-interface-nova-compute~master~Ic7555b73e986cdeaacd33fb40aff627c0ae380a4,openstack/charm-interface-nova-compute,master,Ic7555b73e986cdeaacd33fb40aff627c0ae380a4,Dropping the py35 testing,ABANDONED,2019-04-23 22:16:33.000000000,2019-07-30 12:15:58.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 22:16:33.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-interface-nova-compute/commit/413bee2ece22c1b9bd158e6ca2a44ce9264c8b3d', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Ic7555b73e986cdeaacd33fb40aff627c0ae380a4\n'}]",0,655252,413bee2ece22c1b9bd158e6ca2a44ce9264c8b3d,4,2,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: Ic7555b73e986cdeaacd33fb40aff627c0ae380a4
",git fetch https://review.opendev.org/openstack/charm-interface-nova-compute refs/changes/52/655252/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,413bee2ece22c1b9bd158e6ca2a44ce9264c8b3d,dropping-py35-testing,"envlist = pep8,py36","envlist = pep8,py35[testenv:py35] basepython = python3 deps = -r{toxinidir}/test-requirements.txt commands = ostestr {posargs} ",2,7
openstack%2Fcharm-interface-pacemaker-remote~master~Ieaf4470d635267d53c81ec6abde2427235cb5e9c,openstack/charm-interface-pacemaker-remote,master,Ieaf4470d635267d53c81ec6abde2427235cb5e9c,Dropping the py35 testing,ABANDONED,2019-04-23 22:19:02.000000000,2019-07-30 12:15:51.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 22:19:02.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-interface-pacemaker-remote/commit/98956773bf3f7e77554ee99abc2efe55abb1cffa', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Ieaf4470d635267d53c81ec6abde2427235cb5e9c\n'}]",0,655254,98956773bf3f7e77554ee99abc2efe55abb1cffa,4,2,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: Ieaf4470d635267d53c81ec6abde2427235cb5e9c
",git fetch https://review.opendev.org/openstack/charm-interface-pacemaker-remote refs/changes/54/655254/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,98956773bf3f7e77554ee99abc2efe55abb1cffa,dropping-py35-testing,"envlist = pep8,py36[testenv:py36] basepython = python3.6","envlist = pep8,py35[testenv:py35] basepython = python3.5",4,4
openstack%2Fcharm-keystone~master~Ic1289161c0fa499d1903305e5aea3096074b024b,openstack/charm-keystone,master,Ic1289161c0fa499d1903305e5aea3096074b024b,Dropping the py35 testing,ABANDONED,2019-04-23 22:33:59.000000000,2019-07-30 12:15:39.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 22:33:59.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/3d11847a783d19f39dc017e526c2b651d4ccbc1c', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Ic1289161c0fa499d1903305e5aea3096074b024b\n'}]",0,655256,3d11847a783d19f39dc017e526c2b651d4ccbc1c,4,2,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: Ic1289161c0fa499d1903305e5aea3096074b024b
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/56/655256/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,3d11847a783d19f39dc017e526c2b651d4ccbc1c,dropping-py35-testing,,[testenv:py35] basepython = python3.5 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt ,1,6
openstack%2Fcharm-manila-generic~master~I63014ea59cce0e9b20fa76903fed2c2ffdd62eae,openstack/charm-manila-generic,master,I63014ea59cce0e9b20fa76903fed2c2ffdd62eae,Dropping the py35 testing,ABANDONED,2019-04-23 22:44:08.000000000,2019-07-30 12:15:33.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 22:44:08.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/b5565d3fe6260a11b4fd1302fd70e08d000b0e46', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I63014ea59cce0e9b20fa76903fed2c2ffdd62eae\n'}]",0,655259,b5565d3fe6260a11b4fd1302fd70e08d000b0e46,4,2,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I63014ea59cce0e9b20fa76903fed2c2ffdd62eae
",git fetch https://review.opendev.org/openstack/charm-manila-generic refs/changes/59/655259/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,b5565d3fe6260a11b4fd1302fd70e08d000b0e46,dropping-py35-testing,"envlist = pep8,py36","envlist = pep8,py34,py35[testenv:py34] basepython = python3.4 deps = -r{toxinidir}/test-requirements.txt commands = stestr run {posargs} [testenv:py35] basepython = python3.5 deps = -r{toxinidir}/test-requirements.txt commands = stestr run {posargs} ",2,12
openstack%2Fmasakari~master~I388c78ad7c61395ddd7cbc5d4cace2a440cd73e6,openstack/masakari,master,I388c78ad7c61395ddd7cbc5d4cace2a440cd73e6,Dropping the py35 testing,ABANDONED,2019-04-14 23:20:52.000000000,2019-07-30 12:14:58.000000000,,"[{'_account_id': 1011}, {'_account_id': 8716}, {'_account_id': 11805}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 25267}, {'_account_id': 25553}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-04-14 23:20:52.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/masakari/commit/0dbcc5a4bbf3ac7c99c3cfcb49c5f05cb9132e93', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I388c78ad7c61395ddd7cbc5d4cace2a440cd73e6\n'}]",0,652402,0dbcc5a4bbf3ac7c99c3cfcb49c5f05cb9132e93,14,8,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I388c78ad7c61395ddd7cbc5d4cace2a440cd73e6
",git fetch https://review.opendev.org/openstack/masakari refs/changes/02/652402/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,0dbcc5a4bbf3ac7c99c3cfcb49c5f05cb9132e93,dropping-py35-testing,"envlist = pep8,py27,py36","envlist = pep8,py27,py35,py36[testenv:py35] basepython = python3 commands = {[testenv]commands} stestr run {posargs} ",2,9
openstack%2Fpython-karborclient~master~I551a7562ef4074afd6349e96e8732404a1c09806,openstack/python-karborclient,master,I551a7562ef4074afd6349e96e8732404a1c09806,Dropping the py35 testing,ABANDONED,2019-04-14 22:38:08.000000000,2019-07-30 12:14:47.000000000,,"[{'_account_id': 11805}, {'_account_id': 21224}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-14 22:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-karborclient/commit/3752ce0dc6d7eac9754c76bd868770b419878c81', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I551a7562ef4074afd6349e96e8732404a1c09806\n'}, {'number': 2, 'created': '2019-04-15 18:06:41.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-karborclient/commit/0c61b72541fa0c918865eed933d2f745913accb8', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I551a7562ef4074afd6349e96e8732404a1c09806\n'}]",0,652389,0c61b72541fa0c918865eed933d2f745913accb8,7,3,2,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I551a7562ef4074afd6349e96e8732404a1c09806
",git fetch https://review.opendev.org/openstack/python-karborclient refs/changes/89/652389/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,3752ce0dc6d7eac9754c76bd868770b419878c81,dropping-py35-testing,"envlist = py27,pypy,pep8","envlist = py35,py27,pypy,pep8",1,3
openstack%2Fos-acc~master~I4c8d2387439cd92b5c796428c1bd7281c5b69f21,openstack/os-acc,master,I4c8d2387439cd92b5c796428c1bd7281c5b69f21,Dropping the py35 testing,ABANDONED,2019-04-14 19:29:15.000000000,2019-07-30 12:14:38.000000000,,"[{'_account_id': 11805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-14 19:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-acc/commit/be3979704ac6e647955a2dfcd4e002b36405c5f4', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I4c8d2387439cd92b5c796428c1bd7281c5b69f21\n'}, {'number': 2, 'created': '2019-04-15 18:04:35.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-acc/commit/e63254ca64e231de88c2a6b6c71b290c8055f555', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I4c8d2387439cd92b5c796428c1bd7281c5b69f21\n'}]",0,652295,e63254ca64e231de88c2a6b6c71b290c8055f555,7,2,2,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I4c8d2387439cd92b5c796428c1bd7281c5b69f21
",git fetch https://review.opendev.org/openstack/os-acc refs/changes/95/652295/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,be3979704ac6e647955a2dfcd4e002b36405c5f4,dropping-py35-testing,"envlist = py27,pep8","envlist = py35,py27,pep8",3,4
openstack%2Fcharm-nova-lxd~master~I3c4aacb9a4b0e036ada33e6e2bdd369b1b03203f,openstack/charm-nova-lxd,master,I3c4aacb9a4b0e036ada33e6e2bdd369b1b03203f,Dropping the py35 testing,ABANDONED,2019-04-23 22:40:52.000000000,2019-07-30 12:14:29.000000000,,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 22:40:52.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-nova-lxd/commit/a430b041b824e62928cc866ee7b902d4a2e105e6', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I3c4aacb9a4b0e036ada33e6e2bdd369b1b03203f\n'}]",1,655258,a430b041b824e62928cc866ee7b902d4a2e105e6,8,4,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I3c4aacb9a4b0e036ada33e6e2bdd369b1b03203f
",git fetch https://review.opendev.org/openstack/charm-nova-lxd refs/changes/58/655258/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,a430b041b824e62928cc866ee7b902d4a2e105e6,dropping-py35-testing,,[testenv:py35] basepython = python3.5 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt ,1,6
openstack%2Fcharm-neutron-api~master~I1af62568ffdeaf3305fbe3ab1b2e6b1f5ad8c10b,openstack/charm-neutron-api,master,I1af62568ffdeaf3305fbe3ab1b2e6b1f5ad8c10b,Dropping the py35 testing,ABANDONED,2019-04-23 22:53:49.000000000,2019-07-30 12:13:29.000000000,,"[{'_account_id': 7730}, {'_account_id': 11805}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-04-23 22:53:49.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/e190ca9557c8b469f457e4875fc8cc3cd1e5c3ad', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I1af62568ffdeaf3305fbe3ab1b2e6b1f5ad8c10b\n'}]",0,655260,e190ca9557c8b469f457e4875fc8cc3cd1e5c3ad,11,6,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I1af62568ffdeaf3305fbe3ab1b2e6b1f5ad8c10b
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/60/655260/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,e190ca9557c8b469f457e4875fc8cc3cd1e5c3ad,dropping-py35-testing,"envlist = pep8,py27,py36","envlist = pep8,py27,py35[testenv:py35] basepython = python3.5 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt ",2,7
openstack%2Fcharm-ceph-rbd-mirror~master~Ib5389a5d301aec30d00d99ca6f59ea6bd5fd5c1d,openstack/charm-ceph-rbd-mirror,master,Ib5389a5d301aec30d00d99ca6f59ea6bd5fd5c1d,Dropping the py35 testing,ABANDONED,2019-04-23 23:15:05.000000000,2019-07-30 12:13:22.000000000,,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 23:15:05.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/ae5bb5bb122d722fe1e8344a23164214a5e786d2', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Ib5389a5d301aec30d00d99ca6f59ea6bd5fd5c1d\n'}]",0,655272,ae5bb5bb122d722fe1e8344a23164214a5e786d2,6,3,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: Ib5389a5d301aec30d00d99ca6f59ea6bd5fd5c1d
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/72/655272/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,ae5bb5bb122d722fe1e8344a23164214a5e786d2,dropping-py35-testing,, [testenv:py35] basepython = python3.5 deps = -r{toxinidir}/test-requirements.txt setenv = {[testenv]setenv} PYTHON=coverage run commands = coverage erase stestr run {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xml coverage report ,1,16
openstack%2Fcharm-interface-barbican-secrets~master~I493ea43cd05319b825d52c9b03f2baca2c699106,openstack/charm-interface-barbican-secrets,master,I493ea43cd05319b825d52c9b03f2baca2c699106,Dropping the py35 testing,ABANDONED,2019-04-23 23:11:31.000000000,2019-07-30 12:13:16.000000000,,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 23:11:31.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-interface-barbican-secrets/commit/ff422b9c9ae96234187a8897d9d5e6227205c001', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I493ea43cd05319b825d52c9b03f2baca2c699106\n'}]",0,655270,ff422b9c9ae96234187a8897d9d5e6227205c001,6,3,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I493ea43cd05319b825d52c9b03f2baca2c699106
",git fetch https://review.opendev.org/openstack/charm-interface-barbican-secrets refs/changes/70/655270/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,ff422b9c9ae96234187a8897d9d5e6227205c001,dropping-py35-testing,"envlist = pep8,py36","envlist = pep8,py35[testenv:py35] basepython = python3 deps = -r{toxinidir}/test-requirements.txt commands = ostestr {posargs} ",2,7
openstack%2Fcharm-interface-neutron-load-balancer~master~I31ff74f29b34d47d07ba189e920b1ac16dcb24a8,openstack/charm-interface-neutron-load-balancer,master,I31ff74f29b34d47d07ba189e920b1ac16dcb24a8,Dropping the py35 testing,ABANDONED,2019-04-23 23:10:04.000000000,2019-07-30 12:13:10.000000000,,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 23:10:04.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-interface-neutron-load-balancer/commit/bd9ace03e22d6073ba56a7e13485c723a188ca4a', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I31ff74f29b34d47d07ba189e920b1ac16dcb24a8\n'}]",0,655269,bd9ace03e22d6073ba56a7e13485c723a188ca4a,6,3,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I31ff74f29b34d47d07ba189e920b1ac16dcb24a8
",git fetch https://review.opendev.org/openstack/charm-interface-neutron-load-balancer refs/changes/69/655269/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,bd9ace03e22d6073ba56a7e13485c723a188ca4a,dropping-py35-testing,,[testenv:py35] basepython = python3.5 deps = -r{toxinidir}/test-requirements.txt commands = ostestr {posargs} ,1,6
openstack%2Fcharm-interface-keystone~master~Icb760828f8ec3b234859c4910e3a73770ba55da3,openstack/charm-interface-keystone,master,Icb760828f8ec3b234859c4910e3a73770ba55da3,Dropping the py35 testing,ABANDONED,2019-04-23 23:08:40.000000000,2019-07-30 12:13:05.000000000,,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 23:08:40.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-interface-keystone/commit/83d76a6f7022168713ff0846b8225f9751b8738b', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Icb760828f8ec3b234859c4910e3a73770ba55da3\n'}]",0,655267,83d76a6f7022168713ff0846b8225f9751b8738b,6,3,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: Icb760828f8ec3b234859c4910e3a73770ba55da3
",git fetch https://review.opendev.org/openstack/charm-interface-keystone refs/changes/67/655267/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,83d76a6f7022168713ff0846b8225f9751b8738b,dropping-py35-testing,"envlist = pep8,py36","envlist = pep8,py35[testenv:py35] basepython = python3 deps = -r{toxinidir}/test-requirements.txt commands = ostestr {posargs} ",2,7
openstack%2Fcharm-neutron-api-genericswitch~master~Ifaebafbb739c9c2e19d365662648b744ba3f90ef,openstack/charm-neutron-api-genericswitch,master,Ifaebafbb739c9c2e19d365662648b744ba3f90ef,Dropping the py35 testing,ABANDONED,2019-04-23 22:57:20.000000000,2019-07-30 12:12:59.000000000,,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 22:57:20.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-genericswitch/commit/232a02044451da25ced8fa616d6e5cdc4090403d', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Ifaebafbb739c9c2e19d365662648b744ba3f90ef\n'}]",0,655261,232a02044451da25ced8fa616d6e5cdc4090403d,6,3,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: Ifaebafbb739c9c2e19d365662648b744ba3f90ef
",git fetch https://review.opendev.org/openstack/charm-neutron-api-genericswitch refs/changes/61/655261/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,232a02044451da25ced8fa616d6e5cdc4090403d,dropping-py35-testing,"envlist = pep8,py27,py36[testenv:py36]basepython = python3.6exclude = */charmhelpers ","envlist = pep8,py27,py35[testenv:py34] basepython = python3.4 deps = -r{toxinidir}/test-requirements.txt commands = ostestr {posargs} [testenv:py35]basepython = python3.5exclude = */charmhelpers",5,10
openstack%2Fcharm-interface-bgp~master~I9ede082b86ba360826734307395dbad13fab058c,openstack/charm-interface-bgp,master,I9ede082b86ba360826734307395dbad13fab058c,Dropping the py35 testing,ABANDONED,2019-04-23 22:59:25.000000000,2019-07-30 12:12:29.000000000,,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 22:59:25.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-interface-bgp/commit/9d4508778509bcebee4646ff0a1f598459be29cb', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I9ede082b86ba360826734307395dbad13fab058c\n'}]",0,655262,9d4508778509bcebee4646ff0a1f598459be29cb,6,3,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I9ede082b86ba360826734307395dbad13fab058c
",git fetch https://review.opendev.org/openstack/charm-interface-bgp refs/changes/62/655262/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,9d4508778509bcebee4646ff0a1f598459be29cb,dropping-py35-testing,"envlist = pep8,py36[testenv:py36]","envlist = pep8,py35[testenv:py35]",3,3
openstack%2Fcharm-interface-dashboard-plugin~master~I6d3273c1dfa2b1818ebf88128ce3ce8e3fb23322,openstack/charm-interface-dashboard-plugin,master,I6d3273c1dfa2b1818ebf88128ce3ce8e3fb23322,Dropping the py35 testing,ABANDONED,2019-04-23 23:02:53.000000000,2019-07-30 12:12:20.000000000,,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 23:02:53.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-interface-dashboard-plugin/commit/95da6e63a471b29a453ad0a316e9845760778363', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I6d3273c1dfa2b1818ebf88128ce3ce8e3fb23322\n'}]",0,655265,95da6e63a471b29a453ad0a316e9845760778363,6,3,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I6d3273c1dfa2b1818ebf88128ce3ce8e3fb23322
",git fetch https://review.opendev.org/openstack/charm-interface-dashboard-plugin refs/changes/65/655265/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,95da6e63a471b29a453ad0a316e9845760778363,dropping-py35-testing,,[testenv:py35] basepython = python3.5 deps = -r{toxinidir}/test-requirements.txt commands = ostestr {posargs} ,1,6
openstack%2Fcharm-interface-hacluster~master~I7ac3761e93f12c128426681f7cfc17e5cbf090cd,openstack/charm-interface-hacluster,master,I7ac3761e93f12c128426681f7cfc17e5cbf090cd,Dropping the py35 testing,ABANDONED,2019-04-23 23:06:34.000000000,2019-07-30 12:12:14.000000000,,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 23:06:34.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-interface-hacluster/commit/e545abbfd32e02a2cb94d699543d6210e4adb55d', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I7ac3761e93f12c128426681f7cfc17e5cbf090cd\n'}]",0,655266,e545abbfd32e02a2cb94d699543d6210e4adb55d,6,3,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I7ac3761e93f12c128426681f7cfc17e5cbf090cd
",git fetch https://review.opendev.org/openstack/charm-interface-hacluster refs/changes/66/655266/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,e545abbfd32e02a2cb94d699543d6210e4adb55d,dropping-py35-testing,"envlist = pep8,py36","envlist = pep8,py34,py35,py36[testenv:py34] basepython = python3.4 deps = -r{toxinidir}/test-requirements.txt commands = ostestr {posargs} [testenv:py35] basepython = python3.5 deps = -r{toxinidir}/test-requirements.txt commands = ostestr {posargs} ",2,12
openstack%2Fcharm-interface-ceph-rbd-mirror~master~Ic1e209126e0cde7e5e843023d296e77202f13999,openstack/charm-interface-ceph-rbd-mirror,master,Ic1e209126e0cde7e5e843023d296e77202f13999,Dropping the py35 testing,ABANDONED,2019-04-23 23:00:49.000000000,2019-07-30 12:12:08.000000000,,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 23:00:49.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-interface-ceph-rbd-mirror/commit/1d29c0c8a935f879df11587f54ea9f831534b67f', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Ic1e209126e0cde7e5e843023d296e77202f13999\n'}]",0,655263,1d29c0c8a935f879df11587f54ea9f831534b67f,6,3,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: Ic1e209126e0cde7e5e843023d296e77202f13999
",git fetch https://review.opendev.org/openstack/charm-interface-ceph-rbd-mirror refs/changes/63/655263/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,1d29c0c8a935f879df11587f54ea9f831534b67f,dropping-py35-testing,,[testenv:py35] basepython = python3.5 deps = -r{toxinidir}/test-requirements.txt setenv = {[testenv]setenv} PYTHON=coverage run commands = coverage erase stestr run {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xml coverage report ,1,15
openstack%2Fnetworking-ovn~stable%2Fstein~I4d402f3057490622d368683e8689850d12426430,openstack/networking-ovn,stable/stein,I4d402f3057490622d368683e8689850d12426430,Modify Member operations and Pool status changes,MERGED,2019-07-25 07:20:29.000000000,2019-07-30 12:11:30.000000000,2019-07-30 12:11:30.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-07-25 07:20:29.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/functional/octavia/test_ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/0c41d20d59dd81618709ef73374d57e2d895ac84', 'message': 'Modify Member operations and Pool status changes\n\nThe patch handles the following changes:\n\n- Since HealthMonitors are a not a part of OVN Octavia LB Driver,\nhandle the changes for Member operations.\n- Pools should be OFFLINE till a member to it.\n- Change the behavior of the Member Update functionality.\n\nChange-Id: I4d402f3057490622d368683e8689850d12426430\n(cherry picked from commit c0b2e0bc0071d183c79ad3196a7b54aae70e1719)\n'}]",1,672641,0c41d20d59dd81618709ef73374d57e2d895ac84,15,4,1,24791,,,0,"Modify Member operations and Pool status changes

The patch handles the following changes:

- Since HealthMonitors are a not a part of OVN Octavia LB Driver,
handle the changes for Member operations.
- Pools should be OFFLINE till a member to it.
- Change the behavior of the Member Update functionality.

Change-Id: I4d402f3057490622d368683e8689850d12426430
(cherry picked from commit c0b2e0bc0071d183c79ad3196a7b54aae70e1719)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/41/672641/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/functional/octavia/test_ovn_driver.py']",2,0c41d20d59dd81618709ef73374d57e2d895ac84,ovn_driver_stein_cherry_picks," 'operating_status': o_constants.OFFLINE}], ""provisioning_status"": o_constants.ACTIVE, ""operating_status"": o_constants.ONLINE}], if p.members: # If Pool has members, delete all members of the pool. When the # last member is processed set Operating status of Pool as Offline expected_status[-1]['pools'][0][ 'operating_status'] = o_constants.OFFLINE pool_status = {'id': pool.pool_id, 'provisioning_status': o_constants.ACTIVE, 'operating_status': o_constants.ONLINE} 'pools': [pool_status], 'provisioning_status': 'ACTIVE'}], if getattr(member, 'admin_state_up', None): expected_status['members'][0]['operating_status'] = \ ""ONLINE"" else: expected_status['members'][0]['operating_status'] = \ ""OFFLINE"" pool_status = {""id"": pool.pool_id, ""provisioning_status"": o_constants.ACTIVE, ""operating_status"": o_constants.ONLINE} if not pool.members: pool_status['operating_status'] = o_constants.OFFLINE 'pools': [pool_status],"," 'operating_status': o_constants.ONLINE}], ""provisioning_status"": ""ACTIVE""}], 'pools': [{'id': pool.pool_id, 'provisioning_status': 'ACTIVE'}], 'provisioning_status': 'ACTIVE', 'operating_status': 'ONLINE'}], 'pools': [{""id"": pool.pool_id, ""provisioning_status"": ""ACTIVE""}],",93,28
openstack%2Fnetworking-ovn~stable%2Fstein~I1505328670c4d276b22b1ba038058fbfb00a8506,openstack/networking-ovn,stable/stein,I1505328670c4d276b22b1ba038058fbfb00a8506,Update LoadBalancer Documentation,MERGED,2019-07-25 07:20:29.000000000,2019-07-30 12:11:29.000000000,2019-07-30 12:11:29.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-07-25 07:20:29.000000000', 'files': ['doc/source/contributor/design/loadbalancer.rst', 'doc/source/contributor/design/index.rst'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3884d0d1228873253203806725992f7d7352732a', 'message': 'Update LoadBalancer Documentation\n\n* Add Loadbalancer design documentation\n* Add CLI information for ovn-nbctl\n\nChange-Id: I1505328670c4d276b22b1ba038058fbfb00a8506\n(cherry picked from commit 2629ca342fc6ab857ab97b2b5398ad3f2842a02f)\n'}]",0,672640,3884d0d1228873253203806725992f7d7352732a,11,4,1,24791,,,0,"Update LoadBalancer Documentation

* Add Loadbalancer design documentation
* Add CLI information for ovn-nbctl

Change-Id: I1505328670c4d276b22b1ba038058fbfb00a8506
(cherry picked from commit 2629ca342fc6ab857ab97b2b5398ad3f2842a02f)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/40/672640/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/design/loadbalancer.rst', 'doc/source/contributor/design/index.rst']",2,3884d0d1228873253203806725992f7d7352732a,ovn_driver_stein_cherry_picks, loadbalancer,,303,0
openstack%2Fnetworking-ovn~stable%2Fstein~Ic5f0f96632da6c307ab49f276db5ce757fd96139,openstack/networking-ovn,stable/stein,Ic5f0f96632da6c307ab49f276db5ce757fd96139,Update functional tests,MERGED,2019-07-25 07:20:29.000000000,2019-07-30 12:11:28.000000000,2019-07-30 12:11:28.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-07-25 07:20:29.000000000', 'files': ['networking_ovn/tests/functional/octavia/test_ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/18b9363aa5285ec3430a22b77a1cf846f1657a0f', 'message': 'Update functional tests\n\nThis patch modifies the functional tests for OVN Provider driver for\nOctavia which includes cleanup of created resources\n\nChange-Id: Ic5f0f96632da6c307ab49f276db5ce757fd96139\n(cherry picked from commit ab492c336737a61361a53a894cf1b34b11c60efd)\n'}]",0,672639,18b9363aa5285ec3430a22b77a1cf846f1657a0f,16,4,1,24791,,,0,"Update functional tests

This patch modifies the functional tests for OVN Provider driver for
Octavia which includes cleanup of created resources

Change-Id: Ic5f0f96632da6c307ab49f276db5ce757fd96139
(cherry picked from commit ab492c336737a61361a53a894cf1b34b11c60efd)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/39/672639/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/tests/functional/octavia/test_ovn_driver.py'],1,18b9363aa5285ec3430a22b77a1cf846f1657a0f,ovn_driver_stein_cherry_picks," self.fake_network_driver.neutron_client.\ delete_port.return_value = True self.lb_count = None # useful for Multiple LB scenarios self._o_driver_lib.update_loadbalancer_status.assert_has_calls( expected_calls, any_order=True) lb_data['vip_net_info'][0], '10.0.0.4') self._delete_member_and_validate(lb_data, pool_id, net_info[0], '20.0.0.4') self._delete_member_and_validate(lb_data, pool_id, lb_data['vip_net_info'][0], '10.0.0.4') self._delete_pool_and_validate(lb_data, ""p1"") self._delete_load_balancer_and_validate(lb_data) self._delete_load_balancer_and_validate(lb_data) self._delete_load_balancer_and_validate(lb_data)"," try: self._o_driver_lib.update_loadbalancer_status.assert_has_calls( expected_calls, any_order=True) except Exception: raise Exception( self._o_driver_lib.update_loadbalancer_status.mock_calls) self._validate_loadbalancers([]) lb_data['vip_net_info'][0], '10.0.0.10')",15,9
openstack%2Fkarbor~master~I4a48a48454bf91b7aba8ebd834a9cde0e3be5fc2,openstack/karbor,master,I4a48a48454bf91b7aba8ebd834a9cde0e3be5fc2,Dropping the py35 testing,ABANDONED,2019-04-14 22:43:37.000000000,2019-07-30 12:10:36.000000000,,"[{'_account_id': 11805}, {'_account_id': 21224}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-14 22:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/733f96af8ee662ac756860c822490c505781b865', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I4a48a48454bf91b7aba8ebd834a9cde0e3be5fc2\n'}, {'number': 2, 'created': '2019-04-15 18:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/c9845cace2873f6fcba8fa9983c334c375dc0e7d', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I4a48a48454bf91b7aba8ebd834a9cde0e3be5fc2\n'}, {'number': 3, 'created': '2019-07-30 05:55:08.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/karbor/commit/2966f4e922d5ad0ca3f5b04a995ea8c8c1f93ae2', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I4a48a48454bf91b7aba8ebd834a9cde0e3be5fc2\n'}]",0,652390,2966f4e922d5ad0ca3f5b04a995ea8c8c1f93ae2,9,3,3,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I4a48a48454bf91b7aba8ebd834a9cde0e3be5fc2
",git fetch https://review.opendev.org/openstack/karbor refs/changes/90/652390/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,733f96af8ee662ac756860c822490c505781b865,dropping-py35-testing,"envlist = py27,pypy,pep8","envlist = py35,py27,pypy,pep8",2,3
openstack%2Fhorizon~master~Ie8c7c7b3a120062c3bf03ecd96840f2c50d59214,openstack/horizon,master,Ie8c7c7b3a120062c3bf03ecd96840f2c50d59214,Add the unit test for flavor,MERGED,2019-07-05 06:27:34.000000000,2019-07-30 12:02:36.000000000,2019-07-30 12:02:36.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-07-05 06:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4e629da8d0be21c171b7aa1345054919b6815957', 'message': 'Add the unit test for flavor\n\nChange-Id: Ie8c7c7b3a120062c3bf03ecd96840f2c50d59214\n'}, {'number': 2, 'created': '2019-07-05 08:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d723b843f149fdae1f9eeb5ee517b1ea637cf9b2', 'message': 'Add the unit test for flavor\n\nChange-Id: Ie8c7c7b3a120062c3bf03ecd96840f2c50d59214\n'}, {'number': 3, 'created': '2019-07-30 07:09:36.000000000', 'files': ['openstack_dashboard/static/app/core/flavors/flavors.module.spec.js', 'openstack_dashboard/static/app/core/flavors/actions/actions.module.spec.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/e0d0c9b7b26ea5d4bc88dd83612bb8519378d48b', 'message': 'Add the unit test for flavor\n\nChange-Id: Ie8c7c7b3a120062c3bf03ecd96840f2c50d59214\n'}]",1,669258,e0d0c9b7b26ea5d4bc88dd83612bb8519378d48b,13,4,3,27822,,,0,"Add the unit test for flavor

Change-Id: Ie8c7c7b3a120062c3bf03ecd96840f2c50d59214
",git fetch https://review.opendev.org/openstack/horizon refs/changes/58/669258/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/static/app/core/flavors/flavors.module.spec.js', 'openstack_dashboard/static/app/core/flavors/actions/actions.module.spec.js']",2,4e629da8d0be21c171b7aa1345054919b6815957,test,"/** * * Licensed under the Apache License, Version 2.0 (the ""License""); you may * not use this file except in compliance with the License. You may obtain * a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * License for the specific language governing permissions and limitations * under the License. */ (function() { 'use strict'; describe('flavor actions module', function() { var registry; beforeEach(module('horizon.app.core.flavors.actions')); beforeEach(inject(function($injector) { registry = $injector.get('horizon.framework.conf.resource-type-registry.service'); })); it('registers Delete Flavor as a batch action', function() { var actions = registry.getResourceType('OS::Nova::Flavor').batchActions; expect(actionHasId(actions, 'batchDeleteFlavorAction')).toBe(true); }); it('registers Delete Flavor as a batch action', function() { var actions = registry.getResourceType('OS::Nova::Flavor').itemActions; expect(actionHasId(actions, 'deleteFlavorAction')).toBe(true); }); it('registers Update Metadata as a batch action', function() { var actions = registry.getResourceType('OS::Nova::Flavor').itemActions; expect(actionHasId(actions, 'updateMetadataService')).toBe(true); }); function actionHasId(list, value) { return list.filter(matchesId).length === 1; function matchesId(action) { if (action.id === value) { return true; } } } }); })(); ",,108,0
openstack%2Ftripleo-heat-templates~master~I8b66ceb23480ad6fafc487da35b6d9bf4fceff06,openstack/tripleo-heat-templates,master,I8b66ceb23480ad6fafc487da35b6d9bf4fceff06,Allow skipping puppet tags with puppet_tags,ABANDONED,2019-07-16 13:19:17.000000000,2019-07-30 11:52:22.000000000,,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-16 13:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dd920ae1e0be37cdfe011b948a98b652faae1ec0', 'message': 'Allow skipping puppet tags with puppet_tags\n\nSupport skipping puppet tags with container-puppet (new feature as of\nPuppet 4.4).\n\nChange-Id: I8b66ceb23480ad6fafc487da35b6d9bf4fceff06\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2019-07-16 15:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/24b3358c4c377cff39b37dcc69d397f084a70e3a', 'message': 'Allow skipping puppet tags with puppet_tags\n\nSupport skipping puppet tags with container-puppet (new feature as of\nPuppet 4.4).\n\nChange-Id: I8b66ceb23480ad6fafc487da35b6d9bf4fceff06\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2019-07-17 11:51:35.000000000', 'files': ['common/container-puppet.py', 'releasenotes/notes/puppet_skip_tags-1081f2baecf5aec0.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3c94f4a2da0be381906fa06716ebe073b4375bab', 'message': 'Allow skipping puppet tags with puppet_tags\n\nSupport skipping puppet tags with container-puppet (new feature as of\nPuppet 4.4).\n\nChange-Id: I8b66ceb23480ad6fafc487da35b6d9bf4fceff06\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,671032,3c94f4a2da0be381906fa06716ebe073b4375bab,16,4,3,6926,,,0,"Allow skipping puppet tags with puppet_tags

Support skipping puppet tags with container-puppet (new feature as of
Puppet 4.4).

Change-Id: I8b66ceb23480ad6fafc487da35b6d9bf4fceff06
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/32/671032/2 && git format-patch -1 --stdout FETCH_HEAD,"['common/container-puppet.py', 'releasenotes/notes/puppet_skip_tags-1081f2baecf5aec0.yaml']",2,dd920ae1e0be37cdfe011b948a98b652faae1ec0,bug/1835414,"--- features: - | The 'puppet_tags' parameter of the 'puppet_config' and 'container_puppet_tasks' interfaces also allows to define tags to be skipped. For example: .. code-block:: yaml container_puppet_tasks: puppet_tags: 'foo,bar --skip_tags baz,qux' ",,28,4
openstack%2Fopenstack-ansible~stable%2Fpike~Ia1c0fb5e54c82aea981643fff25772b400c09946,openstack/openstack-ansible,stable/pike,Ia1c0fb5e54c82aea981643fff25772b400c09946,Bump SHAs for stable/pike,MERGED,2019-07-28 14:36:17.000000000,2019-07-30 11:43:43.000000000,2019-07-30 11:43:43.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-28 14:36:17.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7e27db73e05b69bbdeffb0c3f2284375cb946ab1', 'message': 'Bump SHAs for stable/pike\n\nChange-Id: Ia1c0fb5e54c82aea981643fff25772b400c09946\n'}]",0,673179,7e27db73e05b69bbdeffb0c3f2284375cb946ab1,19,4,1,17068,,,0,"Bump SHAs for stable/pike

Change-Id: Ia1c0fb5e54c82aea981643fff25772b400c09946
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/79/673179/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml']",2,7e27db73e05b69bbdeffb0c3f2284375cb946ab1,bump_osa,gnocchi_git_install_branch: a63ffcecea023b36de1c88801a8ed6833267fe4f # HEAD as of 28.07.2019,gnocchi_git_install_branch: a63ffcecea023b36de1c88801a8ed6833267fe4f # HEAD as of 14.07.2019,33,33
openstack%2Ftrove-specs~master~Ic1007ffe2c9602cb7d4d51418fa1768a6b89e4d8,openstack/trove-specs,master,Ic1007ffe2c9602cb7d4d51418fa1768a6b89e4d8,Support AWS S3 Storage,NEW,2019-07-29 09:17:10.000000000,2019-07-30 11:43:19.000000000,,"[{'_account_id': 6732}, {'_account_id': 8037}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-29 09:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-specs/commit/abe38d0f8b26206cf14786ea3d9668b3026250cb', 'message': 'Support AWS S3 Storage\n\nAmazone S3 service restful API is a popular object storage API,\nmore and more storage system are compatible with S3 restful API\nfor enabling object storage capability, e.g. ceph radosgw,\ngluster s3, swift s3api middleware.\n\nChange-Id: Ic1007ffe2c9602cb7d4d51418fa1768a6b89e4d8\nStory: #2006299\nTask: #36012\n'}, {'number': 2, 'created': '2019-07-30 11:34:06.000000000', 'files': ['specs/train/support_s3_storage_strategy.rst'], 'web_link': 'https://opendev.org/openstack/trove-specs/commit/5338ebac47d42360dc5ee963b34ab2bb76718274', 'message': 'Support AWS S3 Storage\n\nAmazone S3 service restful API is a popular object storage API,\nmore and more storage system are compatible with S3 restful API\nfor enabling object storage capability, e.g. ceph radosgw,\ngluster s3, swift s3api middleware.\n\nChange-Id: Ic1007ffe2c9602cb7d4d51418fa1768a6b89e4d8\nStory: #2006299\nTask: #36012\n'}]",1,673240,5338ebac47d42360dc5ee963b34ab2bb76718274,7,3,2,8037,,,0,"Support AWS S3 Storage

Amazone S3 service restful API is a popular object storage API,
more and more storage system are compatible with S3 restful API
for enabling object storage capability, e.g. ceph radosgw,
gluster s3, swift s3api middleware.

Change-Id: Ic1007ffe2c9602cb7d4d51418fa1768a6b89e4d8
Story: #2006299
Task: #36012
",git fetch https://review.opendev.org/openstack/trove-specs refs/changes/40/673240/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/support_s3_storage_strategy.rst'],1,abe38d0f8b26206cf14786ea3d9668b3026250cb,bp/support_s3_storage_strategy,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode Sections of this template were taken directly from the Nova spec template at: https://github.com/openstack/nova-specs/blob/master/specs/juno-template.rst .. ============================ Support S3 Storage Strategy ============================ Amazone S3 service restful API is a popular object storage API, more and more storage system are compatible with S3 restful API for enabling object storage capability, e.g. ceph radosgw, gluster s3, swift s3api middleware. This spec target is to support S3 object storage strategy. Launchpad Blueprint: https://blueprints.launchpad.net/trove/+spec/support_s3_storage_strategy Problem Description =================== Currently, Trove only support SwiftStorage as database backup storage store and many hard code about swift storage store, eventhough storage strategy have been modularized. Proposed Change =============== * **Trove API** Add HTTP header `X-Storage-Catalog` for user-defined backup storage access. Database backup cloud be uploaded to user-defined backup storage with storage access information from request http header:: X-Storage-Catalog: {'s3_url': 'http://s3.test.com', 'service': 's3', 'access_key': 'your_access_key', 'secret_access_key': 'secret_access_key', 'bucket': 'your_bucket' } * **Storage Strategy** Add S3 storage strategy. The database backup storage cloud be defined by user api * **TroveContext** When HTTP request header `X-Storage-Catalog` exists, TroveContext add storage authorization in request context object. Configuration ------------- - Replace storage_strategy storage_namespace in default section wtih **default_storage_strategy** **default_storage_namespace**. - S3 service domconfiguration * s3_endpoint_url Default S3 service URL, if API request doesn't include `X-Storage-Catalog` and `s3_url`, trove will set default S3 service as backup store. * backup_s3_bucket Default backup s3 bucket name for trove instance backup. * remote_s3_client Remote S3 client implementation. * s3_proxy_url Default S3 proxy service URL. * s3_default_access_key Default S3 access key. * s3_default_secret_access_key Default s3 secret access key. Database -------- None Public API ---------- 1. Backup API add HTTP header X-Storage-Catalog Json format value for setting user-defined storage access information. S3 storage HTTP header example: * **Backup Create**:: POST /v1.0/{PROJECT_ID}/backup X-Auth-Token: token X-User-ID: user1 X-Stroage-Catalog: '{""service"" : ""s3"", ""s3_url"": ""http://127.0.0.1"", ""access_key"": ""testkey"", ""secret_key"": ""testsecret"", ""bucket"": ""test"", ""proxy"": ""http://proxy_url""}' { ""backup"": { ""description"": ""My Backup"", ""incremental"": 0, ""instance"": ""44b277eb-39be-4921-be31-3d61b43651d7"", ""name"": ""s3_backup"" } } * **Backup Delete**:: DELETE /v1.0/{PROJECT_ID}/backup/{BACKUP_ID} X-Auth-Token: token X-User-ID: user1 X-Stroage-Catalog: '{""service"" : ""s3"", ""s3_url"": ""http://127.0.0.1"", ""access_key"": ""testkey"", ""secret_key"": ""testsecret"", ""bucket"": ""test"", ""proxy"": ""http://proxy_url""}' 2. Instance create from Backup or master server Instance create from backup or master server, Trove will create or download backup from user-defined external storage service which user provide external storage authorization in API request http header `X-Storage-Catalog` for storage read-write permission. Public API Security ------------------- None Python API ---------- CLI (python-troveclient) ------------------------ * **Backup Create**:: usage: trove backup-create <instance> <name> [--description <description>] [--parent <parent>] [--incremental] [--snapshot] [--storage ""opt=<value>[,opt=<value> ...] ""] * **Backup Delete**:: usage: trove backup-delete <backup> [--storage ""opt=<value>[,opt=<value> ...] ""] * **Instance create**:: usage: trove create <name> <flavor> [--size <size>] [--volume_type <volume_type>] [--databases <database> [<database> ...]] [--users <user:password> [<user:password> ...]] [--backup <backup>] [--availability_zone <availability_zone>] [--datastore <datastore>] [--datastore_version <datastore_version>] [--nic <net-id=<net-uuid>,v4-fixed-ip=<ip-addr>,port-id=<port-uuid>>] [--configuration <configuration>] [--replica_of <source_instance>] [--replica_count <count>] [--module <module>] [--locality <policy>] [--volume_clone] [--storage ""opt=<value>[,opt=<value> ...] ""] Internal API ------------ Guest Agent ----------- Alternatives ------------ Dashboard Impact (UX) ===================== None Implementation ============== Assignee(s) ----------- renminmin<renmm6@chinaunicom.cn> Milestones ---------- Work Items ---------- Upgrade Implications ==================== Dependencies ============ Testing ======= Documentation Impact ==================== References ========== Appendix ======== ",,250,0
openstack%2Ftripleo-validations~master~Ic7252cd7387c350f3d87e761de0c6c8e03b6ddbb,openstack/tripleo-validations,master,Ic7252cd7387c350f3d87e761de0c6c8e03b6ddbb,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-26 03:11:22.000000000,2019-07-30 11:33:25.000000000,2019-07-30 11:33:25.000000000,"[{'_account_id': 11491}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-26 03:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f56a645c05569245a9c87bdb28be59d2d738f27e', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\nDepend-On: https://review.opendev.org/#/c/663060/\n\nChange-Id: Ic7252cd7387c350f3d87e761de0c6c8e03b6ddbb\n'}, {'number': 2, 'created': '2019-07-30 08:57:45.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ae5bba3989bc39e6332a447b50c258d733258126', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: Ic7252cd7387c350f3d87e761de0c6c8e03b6ddbb\n'}]",1,672850,ae5bba3989bc39e6332a447b50c258d733258126,11,4,2,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: Ic7252cd7387c350f3d87e761de0c6c8e03b6ddbb
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/50/672850/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,f56a645c05569245a9c87bdb28be59d2d738f27e,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Ftripleo-validations~master~I89c8ac57d3983d4e4bd5ff64640042be633e2e1b,openstack/tripleo-validations,master,I89c8ac57d3983d4e4bd5ff64640042be633e2e1b,Bump the openstackdocstheme extension to 1.20,MERGED,2019-07-26 03:13:08.000000000,2019-07-30 11:33:24.000000000,2019-07-30 11:33:24.000000000,"[{'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-26 03:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f675091a09c46cf113270f9d2373686d2e11991c', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I89c8ac57d3983d4e4bd5ff64640042be633e2e1b\n'}, {'number': 2, 'created': '2019-07-26 03:15:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ca955291a5981ae78b38ffc86a9908de2c36b7a0', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I89c8ac57d3983d4e4bd5ff64640042be633e2e1b\n'}, {'number': 3, 'created': '2019-07-26 03:16:47.000000000', 'files': ['test-requirements.txt', 'doc/source/conf.py', 'lower-constraints.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5a10ad8825e4814b568a4e8b0a4b0bf4bae51871', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I89c8ac57d3983d4e4bd5ff64640042be633e2e1b\n'}]",0,672851,5a10ad8825e4814b568a4e8b0a4b0bf4bae51871,9,3,3,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: I89c8ac57d3983d4e4bd5ff64640042be633e2e1b
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/51/672851/3 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,f675091a09c46cf113270f9d2373686d2e11991c,openstackdocstheme,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Ftripleo-heat-templates~master~I1681a5e5ac7842500fc5e9dd0900ee6121773537,openstack/tripleo-heat-templates,master,I1681a5e5ac7842500fc5e9dd0900ee6121773537,Handle edge cases in staged upgrade hiera data,MERGED,2019-07-10 13:45:04.000000000,2019-07-30 11:33:23.000000000,2019-07-30 11:33:23.000000000,"[{'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-07-10 13:45:04.000000000', 'files': ['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2b427970a36a63cc2b9afbd61f10fe033287aca5', 'message': ""Handle edge cases in staged upgrade hiera data\n\nWe make sure the hiera is set in an either-or branches so that we\nprevent from executing both at the same time or none at all.\n\nEdge case 1 which is not that much of an edge case --\nsingle-controller environment with Pacemaker. Previously we ran both\nbranches resulting in duplicate entries.\n\nEdge case 2 -- having the service in roles data but having no node\nassigned to that role. In that case previously we wouldn't set the\nvariables and the upgrade would fail.\n\nChange-Id: I1681a5e5ac7842500fc5e9dd0900ee6121773537\nPartial-Bug: #1831690\n""}]",0,670062,2b427970a36a63cc2b9afbd61f10fe033287aca5,16,7,1,8042,,,0,"Handle edge cases in staged upgrade hiera data

We make sure the hiera is set in an either-or branches so that we
prevent from executing both at the same time or none at all.

Edge case 1 which is not that much of an edge case --
single-controller environment with Pacemaker. Previously we ran both
branches resulting in duplicate entries.

Edge case 2 -- having the service in roles data but having no node
assigned to that role. In that case previously we wouldn't set the
variables and the upgrade would fail.

Change-Id: I1681a5e5ac7842500fc5e9dd0900ee6121773537
Partial-Bug: #1831690
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/62/670062/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",7,2b427970a36a63cc2b9afbd61f10fe033287aca5,leapp," when: groups['oslo_messaging_rpc'] | length <= 1 when: - groups['oslo_messaging_rpc'] | length > 1 - item.split('.')[0] in ansible_limit.split(',')"," when: groups['oslo_messaging_rpc'] | length == 1 when: item.split('.')[0] in ansible_limit.split(',')",28,14
openstack%2Fnova~master~Ic3839eeca02c50451c884d23d313a135f04994ba,openstack/nova,master,Ic3839eeca02c50451c884d23d313a135f04994ba,Fix wrong huge pages in doc,MERGED,2019-07-29 09:54:51.000000000,2019-07-30 11:09:01.000000000,2019-07-30 11:09:01.000000000,"[{'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-29 09:54:51.000000000', 'files': ['doc/source/admin/huge-pages.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/e8f5641aef4696374026b887c713175899f0719b', 'message': 'Fix wrong huge pages in doc\n\nChange-Id: Ic3839eeca02c50451c884d23d313a135f04994ba\nRelated-Bug: #1816454\n'}]",0,673252,e8f5641aef4696374026b887c713175899f0719b,11,7,1,12860,,,0,"Fix wrong huge pages in doc

Change-Id: Ic3839eeca02c50451c884d23d313a135f04994ba
Related-Bug: #1816454
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/673252/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/huge-pages.rst'],1,e8f5641aef4696374026b887c713175899f0719b,bug/1816454, $ openstack flavor set m1.large --property hw:mem_page_size=2MB, $ openstack flavor set m1.large --property hw:mem_page_size=2Mb,1,1
openstack%2Fnova~master~Icb5c4cadd1c552f44bfadefd055c07ea38df0eaa,openstack/nova,master,Icb5c4cadd1c552f44bfadefd055c07ea38df0eaa,doc: fix links for server actions in api guide,MERGED,2019-07-26 19:48:04.000000000,2019-07-30 11:08:53.000000000,2019-07-30 11:08:53.000000000,"[{'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-26 19:48:04.000000000', 'files': ['api-guide/source/faults.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/163482e0e102aeedc7c7ff94e4b576ecb3786d72', 'message': 'doc: fix links for server actions in api guide\n\nThe section about server actions is talking about the\nos-instance-actions API but linking to the server actions\nsection in the API reference. This retains the link to the\nserver actions section but changes the ""for more details""\nlink to the actual os-instance-actions reference.\n\nChange-Id: Icb5c4cadd1c552f44bfadefd055c07ea38df0eaa\n'}]",0,673101,163482e0e102aeedc7c7ff94e4b576ecb3786d72,14,10,1,6873,,,0,"doc: fix links for server actions in api guide

The section about server actions is talking about the
os-instance-actions API but linking to the server actions
section in the API reference. This retains the link to the
server actions section but changes the ""for more details""
link to the actual os-instance-actions reference.

Change-Id: Icb5c4cadd1c552f44bfadefd055c07ea38df0eaa
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/673101/1 && git format-patch -1 --stdout FETCH_HEAD,['api-guide/source/faults.rst'],1,163482e0e102aeedc7c7ff94e4b576ecb3786d72,api-guide-server-action,"There is an API for end users to list the outcome of `Server Actions`_,https://docs.openstack.org/api-ref/compute/#servers-actions-servers-os-instance-actions .. _Server Actions: https://docs.openstack.org/api-ref/compute/#servers-run-an-action-servers-action","There is an API for end users to list the outcome of Server Actions,https://docs.openstack.org/api-ref/compute/#servers-run-an-action-servers-action",4,2
openstack%2Ftempest~master~Ie1e5e5e02ee45ab7a4aae0f35bdb42afc2c3fe2e,openstack/tempest,master,Ie1e5e5e02ee45ab7a4aae0f35bdb42afc2c3fe2e,Setup framework for IPv6-only deployment verification,MERGED,2019-07-17 09:51:52.000000000,2019-07-30 11:08:47.000000000,2019-07-30 11:08:47.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 11564}, {'_account_id': 17887}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-17 09:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1f20fd9978723fe9da5ba38a4c0c6cad184ccd30', 'message': ""Setup framework for IPv6-only deployment verification\n\nDevstack IPv6 base job 'devstack-IPv6' setup the IPv6 setting\nto deploy the services to listen on IPv6 address.\n\nTempest 'devstack-tempest-ipv6' job derived from 'devstack-IPv6'\njob adds the playbooks to run the tests.\n\nAs part of Train community goal 'Support IPv6-Only Deployments',\nwe will expand the 'devstack-tempest-ipv6' job to do\nIPv6-only deployments verification.\n\nThis commit define the new roles of 'ipv6-only-deployments-verification'\nwhich will be invoked as part of run phase of 'devstack-tempest-ipv6' job.\nThis role will do IPv6-only setting and deployments verification via\ntools/verify-ipv6-only-deployement.sh\n\nIPv6 verification script can be extended further to perform more checks\nand via project specific test case. Those tests will run as part of project\nspecific child jobs.\n\nThe 'devstack-tempest-ipv6' job will be used as parent for project specific\nIPv6-only job. Those child job can extend the project specific IPv6 verification\nby defining new playebook for post-run. That way the base verification\ndone in 'devstack-tempest-ipv6' will still run in addition to project specific\nverificaiton and tests run.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- Child jobs derived from 'devstack-tempest-ipv6' will run the IPv6 related test case or\n  any further IPv6 deployment verification.\n\nThis commit also adds the new job 'tempest-ipv6-only' which will run smoke\nand ipv6 related tests present in Tempest. This job will be used to run\non 6 services (Nova, Neutron, Cinder, Keystone, Glance, Swift) deployed\nby devstack.\n\nChange-Id: Ie1e5e5e02ee45ab7a4aae0f35bdb42afc2c3fe2e\n""}, {'number': 2, 'created': '2019-07-17 11:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b452cf651ccee534a1219a9c831bc37f4d226366', 'message': ""Setup framework for IPv6-only deployment verification\n\nDevstack IPv6 base job 'devstack-IPv6' setup the IPv6 setting\nto deploy the services to listen on IPv6 address.\n\nTempest 'devstack-tempest-ipv6' job derived from 'devstack-IPv6'\njob adds the playbooks to run the tests.\n\nAs part of Train community goal 'Support IPv6-Only Deployments',\nwe will expand the 'devstack-tempest-ipv6' job to do\nIPv6-only deployments verification.\n\nThis commit define the new roles of 'ipv6-only-deployments-verification'\nwhich will be invoked as part of run phase of 'devstack-tempest-ipv6' job.\nThis role will do IPv6-only setting and deployments verification via\ntools/verify-ipv6-only-deployement.sh\n\nIPv6 verification script can be extended further to perform more checks\nand via project specific test case. Those tests will run as part of project\nspecific child jobs.\n\nThe 'devstack-tempest-ipv6' job will be used as parent for project specific\nIPv6-only job. Those child job can extend the project specific IPv6 verification\nby defining new playebook for post-run. That way the base verification\ndone in 'devstack-tempest-ipv6' will still run in addition to project specific\nverificaiton and tests run.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- Child jobs derived from 'devstack-tempest-ipv6' will run the IPv6 related test case or\n  any further IPv6 deployment verification.\n\nThis commit also adds the new job 'tempest-ipv6-only' which will run smoke\nand ipv6 related tests present in Tempest. This job will be used to run\non 6 services (Nova, Neutron, Cinder, Keystone, Glance, Swift) deployed\nby devstack.\n\nChange-Id: Ie1e5e5e02ee45ab7a4aae0f35bdb42afc2c3fe2e\n""}, {'number': 3, 'created': '2019-07-17 13:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f45c0923af56c6aa5c4cb8f8ad3c145585fa7a51', 'message': ""Setup framework for IPv6-only deployment verification\n\nDevstack IPv6 base job 'devstack-IPv6' setup the IPv6 setting\nto deploy the services to listen on IPv6 address.\n\nTempest 'devstack-tempest-ipv6' job derived from 'devstack-IPv6'\njob adds the playbooks to run the tests.\n\nAs part of Train community goal 'Support IPv6-Only Deployments',\nwe will expand the 'devstack-tempest-ipv6' job to do\nIPv6-only deployments verification.\n\nThis commit define the new roles of 'ipv6-only-deployments-verification'\nwhich will be invoked as part of run phase of 'devstack-tempest-ipv6' job.\nThis role will do IPv6-only setting and deployments verification via\ntools/verify-ipv6-only-deployement.sh\n\nIPv6 verification script can be extended further to perform more checks\nand via project specific test case. Those tests will run as part of project\nspecific child jobs.\n\nThe 'devstack-tempest-ipv6' job will be used as parent for project specific\nIPv6-only job. Those child job can extend the project specific IPv6 verification\nby defining new playebook for post-run. That way the base verification\ndone in 'devstack-tempest-ipv6' will still run in addition to project specific\nverificaiton and tests run.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- Child jobs derived from 'devstack-tempest-ipv6' will run the IPv6 related test case or\n  any further IPv6 deployment verification.\n\nThis commit also adds the new job 'tempest-ipv6-only' which will run smoke\nand ipv6 related tests present in Tempest. This job will be used to run\non 6 services (Nova, Neutron, Cinder, Keystone, Glance, Swift) deployed\nby devstack.\n\nChange-Id: Ie1e5e5e02ee45ab7a4aae0f35bdb42afc2c3fe2e\n""}, {'number': 4, 'created': '2019-07-17 14:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/02e6cb13ed32927fdb453b4e6f7a14453125bb0e', 'message': ""Setup framework for IPv6-only deployment verification\n\nDevstack IPv6 base job 'devstack-IPv6' setup the IPv6 setting\nto deploy the services to listen on IPv6 address.\n\nTempest 'devstack-tempest-ipv6' job derived from 'devstack-IPv6'\njob adds the playbooks to run the tests.\n\nAs part of Train community goal 'Support IPv6-Only Deployments',\nwe will expand the 'devstack-tempest-ipv6' job to do\nIPv6-only deployments verification.\n\nThis commit define the new roles of 'ipv6-only-deployments-verification'\nwhich will be invoked as part of run phase of 'devstack-tempest-ipv6' job.\nThis role will do IPv6-only setting and deployments verification via\ntools/verify-ipv6-only-deployement.sh\n\nIPv6 verification script can be extended further to perform more checks\nand via project specific test case. Those tests will run as part of project\nspecific child jobs.\n\nThe 'devstack-tempest-ipv6' job will be used as parent for project specific\nIPv6-only job. Those child job can extend the project specific IPv6 verification\nby defining new playebook for post-run. That way the base verification\ndone in 'devstack-tempest-ipv6' will still run in addition to project specific\nverificaiton and tests run.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- Child jobs derived from 'devstack-tempest-ipv6' will run the IPv6 related test case or\n  any further IPv6 deployment verification.\n\nThis commit also adds the new job 'tempest-ipv6-only' which will run smoke\nand ipv6 related tests present in Tempest. This job will be used to run\non 6 services (Nova, Neutron, Cinder, Keystone, Glance, Swift) deployed\nby devstack.\n\nChange-Id: Ie1e5e5e02ee45ab7a4aae0f35bdb42afc2c3fe2e\n""}, {'number': 5, 'created': '2019-07-17 15:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/30efb57e88551f71c6e13e5f0d5a473eacead55c', 'message': ""Setup framework for IPv6-only deployment verification\n\nDevstack IPv6 base job 'devstack-IPv6' setup the IPv6 setting\nto deploy the services to listen on IPv6 address.\n\nTempest 'devstack-tempest-ipv6' job derived from 'devstack-IPv6'\njob adds the playbooks to run the tests.\n\nAs part of Train community goal 'Support IPv6-Only Deployments',\nwe will expand the 'devstack-tempest-ipv6' job to do\nIPv6-only deployments verification.\n\nThis commit define the new roles of 'ipv6-only-deployments-verification'\nwhich will be invoked as part of run phase of 'devstack-tempest-ipv6' job.\nThis role will do IPv6-only setting and deployments verification via\ntools/verify-ipv6-only-deployement.sh\n\nIPv6 verification script can be extended further to perform more checks\nand via project specific test case. Those tests will run as part of project\nspecific child jobs.\n\nThe 'devstack-tempest-ipv6' job will be used as parent for project specific\nIPv6-only job. Those child job can extend the project specific IPv6 verification\nby defining new playebook for post-run. That way the base verification\ndone in 'devstack-tempest-ipv6' will still run in addition to project specific\nverificaiton and tests run.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- Child jobs derived from 'devstack-tempest-ipv6' will run the IPv6 related test case or\n  any further IPv6 deployment verification.\n\nThis commit also adds the new job 'tempest-ipv6-only' which will run smoke\nand ipv6 related tests present in Tempest. This job will be used to run\non 6 services (Nova, Neutron, Cinder, Keystone, Glance, Swift) deployed\nby devstack.\n\nChange-Id: Ie1e5e5e02ee45ab7a4aae0f35bdb42afc2c3fe2e\n""}, {'number': 6, 'created': '2019-07-18 10:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a8fe45b5f3be4676e5bebd36a200aa420af0948e', 'message': ""Setup framework for IPv6-only deployment verification\n\nDevstack IPv6 base job 'devstack-IPv6' setup the IPv6 setting\nto deploy the services to listen on IPv6 address.\n\nTempest 'devstack-tempest-ipv6' job derived from 'devstack-IPv6'\njob adds the playbooks to run the tests.\n\nAs part of Train community goal 'Support IPv6-Only Deployments',\nwe will expand the 'devstack-tempest-ipv6' job to do\nIPv6-only deployments verification.\n\nThis commit define the new roles of 'ipv6-only-deployments-verification'\nwhich will be invoked as part of run phase of 'devstack-tempest-ipv6' job.\nThis role will do IPv6-only setting and deployments verification via\ntools/verify-ipv6-only-deployement.sh\n\nIPv6 verification script can be extended further to perform more checks\nand via project specific test case. Those tests will run as part of project\nspecific child jobs.\n\nThe 'devstack-tempest-ipv6' job will be used as parent for project specific\nIPv6-only job. Those child job can extend the project specific IPv6 verification\nby defining new playebook for post-run. That way the base verification\ndone in 'devstack-tempest-ipv6' will still run in addition to project specific\nverificaiton and tests run.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- Child jobs derived from 'devstack-tempest-ipv6' will run the IPv6 related test case or\n  any further IPv6 deployment verification.\n\nThis commit also adds the new job 'tempest-ipv6-only' which will run smoke\nand ipv6 related tests present in Tempest. This job will be used to run\non 6 services (Nova, Neutron, Cinder, Keystone, Glance, Swift) deployed\nby devstack.\n\nChange-Id: Ie1e5e5e02ee45ab7a4aae0f35bdb42afc2c3fe2e\n""}, {'number': 7, 'created': '2019-07-18 10:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ea055f0884c458f0b1c0e6145223c911dc2b146c', 'message': ""Setup framework for IPv6-only deployment verification\n\nDevstack IPv6 base job 'devstack-IPv6' setup the IPv6 setting\nto deploy the services to listen on IPv6 address.\n\nTempest 'devstack-tempest-ipv6' job derived from 'devstack-IPv6'\njob adds the playbooks to run the tests.\n\nAs part of Train community goal 'Support IPv6-Only Deployments',\nwe will expand the 'devstack-tempest-ipv6' job to do\nIPv6-only deployments verification.\n\nThis commit define the new roles of 'ipv6-only-deployments-verification'\nwhich will be invoked as part of run phase of 'devstack-tempest-ipv6' job.\nThis role will do IPv6-only setting and deployments verification via\ntools/verify-ipv6-only-deployement.sh\n\nIPv6 verification script can be extended further to perform more checks\nand via project specific test case. Those tests will run as part of project\nspecific child jobs.\n\nThe 'devstack-tempest-ipv6' job will be used as parent for project specific\nIPv6-only job. Those child job can extend the project specific IPv6 verification\nby defining new playebook for post-run. That way the base verification\ndone in 'devstack-tempest-ipv6' will still run in addition to project specific\nverificaiton and tests run.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- Child jobs derived from 'devstack-tempest-ipv6' will run the IPv6 related test case or\n  any further IPv6 deployment verification.\n\nThis commit also adds the new job 'tempest-ipv6-only' which will run smoke\nand ipv6 related tests present in Tempest. This job will be used to run\non 6 services (Nova, Neutron, Cinder, Keystone, Glance, Swift) deployed\nby devstack.\n\nChange-Id: Ie1e5e5e02ee45ab7a4aae0f35bdb42afc2c3fe2e\n""}, {'number': 8, 'created': '2019-07-20 17:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ee1bd226f4bbe967c49de1716f7b6e187eaa2b02', 'message': ""Setup framework for IPv6-only deployment verification\n\nDevstack IPv6 base job 'devstack-IPv6' setup the IPv6 setting\nto deploy the services to listen on IPv6 address.\n\nTempest 'devstack-tempest-ipv6' job derived from 'devstack-IPv6'\njob adds the playbooks to run the tests.\n\nAs part of Train community goal 'Support IPv6-Only Deployments',\nwe will expand the 'devstack-tempest-ipv6' job to do\nIPv6-only deployments verification.\n\nThis commit define the new roles of 'ipv6-only-deployments-verification'\nwhich will be invoked as part of run phase of 'devstack-tempest-ipv6' job.\nThis role will do IPv6-only setting and deployments verification via\ntools/verify-ipv6-only-deployement.sh\n\nIPv6 verification script can be extended further to perform more checks\nand via project specific test case. Those tests will run as part of project\nspecific child jobs.\n\nThe 'devstack-tempest-ipv6' job will be used as parent for project specific\nIPv6-only job. Those child job can extend the project specific IPv6 verification\nby defining new playebook for post-run. That way the base verification\ndone in 'devstack-tempest-ipv6' will still run in addition to project specific\nverificaiton and tests run.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- Child jobs derived from 'devstack-tempest-ipv6' will run the IPv6 related test case or\n  any further IPv6 deployment verification.\n\nThis commit also adds the new job 'tempest-ipv6-only' which will run smoke\nand ipv6 related tests present in Tempest. This job will be used to run\non 6 services (Nova, Neutron, Cinder, Keystone, Glance, Swift) deployed\nby devstack.\n\nChange-Id: Ie1e5e5e02ee45ab7a4aae0f35bdb42afc2c3fe2e\n""}, {'number': 9, 'created': '2019-07-20 17:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1d38b029a614f8136a532adcc3a96c888ddcc3cb', 'message': ""Setup framework for IPv6-only deployment verification\n\nDevstack IPv6 base job 'devstack-IPv6' setup the IPv6 setting\nto deploy the services to listen on IPv6 address.\n\nTempest 'devstack-tempest-ipv6' job derived from 'devstack-IPv6'\njob adds the playbooks to run the tests.\n\nAs part of Train community goal 'Support IPv6-Only Deployments',\nwe will expand the 'devstack-tempest-ipv6' job to do\nIPv6-only deployments verification.\n\nThis commit define the new roles of 'ipv6-only-deployments-verification'\nwhich will be invoked as part of run phase of 'devstack-tempest-ipv6' job.\nThis role will do IPv6-only setting and deployments verification via\ntools/verify-ipv6-only-deployement.sh\n\nIPv6 verification script can be extended further to perform more checks\nand via project specific test case. Those tests will run as part of project\nspecific child jobs.\n\nThe 'devstack-tempest-ipv6' job will be used as parent for project specific\nIPv6-only job. Those child job can extend the project specific IPv6 verification\nby defining new playebook for post-run. That way the base verification\ndone in 'devstack-tempest-ipv6' will still run in addition to project specific\nverificaiton and tests run.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- Child jobs derived from 'devstack-tempest-ipv6' will run the IPv6 related test case or\n  any further IPv6 deployment verification.\n\nThis commit also adds the new job 'tempest-ipv6-only' which will run smoke\nand ipv6 related tests present in Tempest. This job will be used to run\non 6 services (Nova, Neutron, Cinder, Keystone, Glance, Swift) deployed\nby devstack.\n\nStory: #2005477\nTask: #35923\n\nChange-Id: Ie1e5e5e02ee45ab7a4aae0f35bdb42afc2c3fe2e\n""}, {'number': 10, 'created': '2019-07-20 17:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4d20a4efb4c4bccb6ddc8f99f2135ffef9cac106', 'message': ""Setup framework for IPv6-only deployment verification\n\nDevstack IPv6 base job 'devstack-IPv6' setup the IPv6 setting\nto deploy the services to listen on IPv6 address.\n\nTempest 'devstack-tempest-ipv6' job derived from 'devstack-IPv6'\njob adds the playbooks to run the tests.\n\nAs part of Train community goal 'Support IPv6-Only Deployments',\nwe will expand the 'devstack-tempest-ipv6' job to do\nIPv6-only deployments verification.\n\nThis commit define the new roles of 'ipv6-only-deployments-verification'\nwhich will be invoked as part of run phase of 'devstack-tempest-ipv6' job.\nThis role will do IPv6-only setting and deployments verification via\ntools/verify-ipv6-only-deployement.sh\n\nIPv6 verification script can be extended further to perform more checks\nand via project specific test case. Those tests will run as part of project\nspecific child jobs.\n\nThe 'devstack-tempest-ipv6' job will be used as parent for project specific\nIPv6-only job. Those child job can extend the project specific IPv6 verification\nby defining new playebook for post-run. That way the base verification\ndone in 'devstack-tempest-ipv6' will still run in addition to project specific\nverificaiton and tests run.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- Child jobs derived from 'devstack-tempest-ipv6' will run the IPv6 related test case or\n  any further IPv6 deployment verification.\n\nThis commit also adds the new job 'tempest-ipv6-only' which will run smoke\nand ipv6 related tests present in Tempest. This job will be used to run\non 6 services (Nova, Neutron, Cinder, Keystone, Glance, Swift) deployed\nby devstack.\n\nStory: #2005477\nTask: #35923\n\nChange-Id: Ie1e5e5e02ee45ab7a4aae0f35bdb42afc2c3fe2e\n""}, {'number': 11, 'created': '2019-07-24 10:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4d803c585b25c710f72f76fdfa58a5d5fbcf5fef', 'message': ""Setup framework for IPv6-only deployment verification\n\nDevstack IPv6 base job 'devstack-IPv6' setup the IPv6 setting\nto deploy the services to listen on IPv6 address.\n\nTempest 'devstack-tempest-ipv6' job derived from 'devstack-IPv6'\njob adds the playbooks to run the tests.\n\nAs part of Train community goal 'Support IPv6-Only Deployments',\nwe will expand the 'devstack-tempest-ipv6' job to do\nIPv6-only deployments verification.\n\nThis commit define the new roles of 'ipv6-only-deployments-verification'\nwhich will be invoked as part of run phase of 'devstack-tempest-ipv6' job.\nThis role will do IPv6-only setting and deployments verification via\ntools/verify-ipv6-only-deployement.sh\n\nIPv6 verification script can be extended further to perform more checks\nand via project specific test case. Those tests will run as part of project\nspecific child jobs.\n\nThe 'devstack-tempest-ipv6' job will be used as parent for project specific\nIPv6-only job. Those child job can extend the project specific IPv6 verification\nby defining new playebook for post-run. That way the base verification\ndone in 'devstack-tempest-ipv6' will still run in addition to project specific\nverificaiton and tests run.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- Child jobs derived from 'devstack-tempest-ipv6' will run the IPv6 related test case or\n  any further IPv6 deployment verification.\n\nThis commit also adds the new job 'tempest-ipv6-only' which will run smoke\nand ipv6 related tests present in Tempest. This job will be used to run\non 6 services (Nova, Neutron, Cinder, Keystone, Glance, Swift) deployed\nby devstack.\n\nDepends-On: https://review.opendev.org/#/c/672493\n\nStory: #2005477\nTask: #35923\n\nChange-Id: Ie1e5e5e02ee45ab7a4aae0f35bdb42afc2c3fe2e\n""}, {'number': 12, 'created': '2019-07-26 08:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c1036d1ca12edfee56de283526b34945ab98a9ee', 'message': ""Setup framework for IPv6-only deployment verification\n\nDevstack IPv6 base job 'devstack-IPv6' setup the IPv6 setting\nto deploy the services to listen on IPv6 address.\n\nTempest 'devstack-tempest-ipv6' job derived from 'devstack-IPv6'\njob adds the playbooks to run the tests.\n\nAs part of Train community goal 'Support IPv6-Only Deployments',\nwe will expand the 'devstack-tempest-ipv6' job to do\nIPv6-only deployments verification.\n\nThis commit define the new roles of 'ipv6-only-deployments-verification'\nwhich will be invoked as part of run phase of 'devstack-tempest-ipv6' job.\nThis role will do IPv6-only setting and deployments verification via\ntools/verify-ipv6-only-deployement.sh\n\nIPv6 verification script can be extended further to perform more checks\nand via project specific test case. Those tests will run as part of project\nspecific child jobs.\n\nThe 'devstack-tempest-ipv6' job will be used as parent for project specific\nIPv6-only job. Those child job can extend the project specific IPv6 verification\nby defining new playebook for post-run. That way the base verification\ndone in 'devstack-tempest-ipv6' will still run in addition to project specific\nverificaiton and tests run.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- Child jobs derived from 'devstack-tempest-ipv6' will run the IPv6 related test case or\n  any further IPv6 deployment verification.\n\nThis commit also adds the new job 'tempest-ipv6-only' which will run smoke\nand ipv6 related tests present in Tempest. This job will be used to run\non 6 services (Nova, Neutron, Cinder, Keystone, Glance, Swift) deployed\nby devstack.\n\nStory: #2005477\nTask: #35923\n\nChange-Id: Ie1e5e5e02ee45ab7a4aae0f35bdb42afc2c3fe2e\n""}, {'number': 13, 'created': '2019-07-28 12:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1f86d4d9c09bb965b0788aa4ecf7a52988b96e24', 'message': ""Setup framework for IPv6-only deployment verification\n\nDevstack IPv6 base job 'devstack-IPv6' setup the IPv6 setting\nto deploy the services to listen on IPv6 address.\n\nTempest 'devstack-tempest-ipv6' job derived from 'devstack-IPv6'\njob adds the playbooks to run the tests.\n\nAs part of Train community goal 'Support IPv6-Only Deployments',\nwe will expand the 'devstack-tempest-ipv6' job to do\nIPv6-only deployments verification.\n\nThis commit define the new roles of 'ipv6-only-deployments-verification'\nwhich will be invoked as part of run phase of 'devstack-tempest-ipv6' job.\nThis role will do IPv6-only setting and deployments verification via\ntools/verify-ipv6-only-deployement.sh\n\nIPv6 verification script can be extended further to perform more checks\nand via project specific test case. Those tests will run as part of project\nspecific child jobs.\n\nThe 'devstack-tempest-ipv6' job will be used as parent for project specific\nIPv6-only job. Those child job can extend the project specific IPv6 verification\nby defining new playebook for post-run. That way the base verification\ndone in 'devstack-tempest-ipv6' will still run in addition to project specific\nverificaiton and tests run.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- Child jobs derived from 'devstack-tempest-ipv6' will run the IPv6 related test case or\n  any further IPv6 deployment verification.\n\nThis commit also adds the new job 'tempest-ipv6-only' which will run smoke\nand ipv6 related tests present in Tempest. This job will be used to run\non 6 services (Nova, Neutron, Cinder, Keystone, Glance, Swift) deployed\nby devstack.\n\nStory: #2005477\nTask: #35923\n\nChange-Id: Ie1e5e5e02ee45ab7a4aae0f35bdb42afc2c3fe2e\n""}, {'number': 14, 'created': '2019-07-28 13:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4f4dcc2d1b95c88b6e2482c2d5abcc38e97c8409', 'message': ""Setup framework for IPv6-only deployment verification\n\nDevstack IPv6 base job 'devstack-IPv6' setup the IPv6 setting\nto deploy the services to listen on IPv6 address.\n\nTempest 'devstack-tempest-ipv6' job derived from 'devstack-IPv6'\njob adds the playbooks to run the tests.\n\nAs part of Train community goal 'Support IPv6-Only Deployments',\nwe will expand the 'devstack-tempest-ipv6' job to do\nIPv6-only deployments verification.\n\nThis commit define the new roles of 'ipv6-only-deployments-verification'\nwhich will be invoked as part of run phase of 'devstack-tempest-ipv6' job.\nThis role will do IPv6-only setting and deployments verification via\ntools/verify-ipv6-only-deployement.sh\n\nIPv6 verification script can be extended further to perform more checks\nand via project specific test case. Those tests will run as part of project\nspecific child jobs.\n\nThe 'devstack-tempest-ipv6' job will be used as parent for project specific\nIPv6-only job. Those child job can extend the project specific IPv6 verification\nby defining new playebook for post-run. That way the base verification\ndone in 'devstack-tempest-ipv6' will still run in addition to project specific\nverificaiton and tests run.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- Child jobs derived from 'devstack-tempest-ipv6' will run the IPv6 related test case or\n  any further IPv6 deployment verification.\n\nThis commit also adds the new job 'tempest-ipv6-only' which will run smoke\nand ipv6 related tests present in Tempest. This job will be used to run\non 6 services (Nova, Neutron, Cinder, Keystone, Glance, Swift) deployed\nby devstack.\n\nStory: #2005477\nTask: #35923\n\nChange-Id: Ie1e5e5e02ee45ab7a4aae0f35bdb42afc2c3fe2e\n""}, {'number': 15, 'created': '2019-07-29 06:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/40033489237e30f3be12779cea06beac16c67880', 'message': ""Setup framework for IPv6-only deployment verification\n\nDevstack IPv6 base job 'devstack-IPv6' setup the IPv6 setting\nto deploy the services to listen on IPv6 address.\n\nTempest 'devstack-tempest-ipv6' job derived from 'devstack-IPv6'\njob adds the playbooks to run the tests.\n\nAs part of Train community goal 'Support IPv6-Only Deployments',\nwe will expand the 'devstack-tempest-ipv6' job to do\nIPv6-only deployments verification.\n\nThis commit define the new roles of 'ipv6-only-deployments-verification'\nwhich will be invoked as part of run phase of 'devstack-tempest-ipv6' job.\nThis role will do IPv6-only setting and deployments verification via\ntools/verify-ipv6-only-deployement.sh\n\nIPv6 verification script can be extended further to perform more checks\nand via project specific test case. Those tests will run as part of project\nspecific child jobs.\n\nThe 'devstack-tempest-ipv6' job will be used as parent for project specific\nIPv6-only job. Those child job can extend the project specific IPv6 verification\nby defining new playebook for post-run. That way the base verification\ndone in 'devstack-tempest-ipv6' will still run in addition to project specific\nverificaiton and tests run.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- Child jobs derived from 'devstack-tempest-ipv6' will run the IPv6 related test case or\n  any further IPv6 deployment verification.\n\nThis commit also adds the new job 'tempest-ipv6-only' which will run smoke\nand ipv6 related tests present in Tempest. This job will be used to run\non 6 services (Nova, Neutron, Cinder, Keystone, Glance, Swift) deployed\nby devstack.\n\nStory: #2005477\nTask: #35923\n\nChange-Id: Ie1e5e5e02ee45ab7a4aae0f35bdb42afc2c3fe2e\n""}, {'number': 16, 'created': '2019-07-29 07:37:45.000000000', 'files': ['tools/verify-ipv6-only-deployments.sh', '.zuul.yaml', 'roles/ipv6-only-deployments-verification/defaults/main.yaml', 'roles/ipv6-only-deployments-verification/tasks/main.yaml', 'roles/ipv6-only-deployments-verification/README.rst', 'tox.ini', 'playbooks/devstack-tempest-ipv6.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/a0b8ca43e498da4b514f46c165d8c395070a17e4', 'message': ""Setup framework for IPv6-only deployment verification\n\nDevstack IPv6 base job 'devstack-IPv6' setup the IPv6 setting\nto deploy the services to listen on IPv6 address.\n\nTempest 'devstack-tempest-ipv6' job derived from 'devstack-IPv6'\njob adds the playbooks to run the tests.\n\nAs part of Train community goal 'Support IPv6-Only Deployments',\nwe will expand the 'devstack-tempest-ipv6' job to do\nIPv6-only deployments verification.\n\nThis commit define the new roles of 'ipv6-only-deployments-verification'\nwhich will be invoked as part of run phase of 'devstack-tempest-ipv6' job.\nThis role will do IPv6-only setting and deployments verification via\ntools/verify-ipv6-only-deployement.sh\n\nIPv6 verification script can be extended further to perform more checks\nand via project specific test case. Those tests will run as part of project\nspecific child jobs.\n\nThe 'devstack-tempest-ipv6' job will be used as parent for project specific\nIPv6-only job. Those child job can extend the project specific IPv6 verification\nby defining new playebook for post-run. That way the base verification\ndone in 'devstack-tempest-ipv6' will still run in addition to project specific\nverificaiton and tests run.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- Child jobs derived from 'devstack-tempest-ipv6' will run the IPv6 related test case or\n  any further IPv6 deployment verification.\n\nThis commit also adds the new job 'tempest-ipv6-only' which will run smoke\nand ipv6 related tests present in Tempest. This job will be used to run\non 6 services (Nova, Neutron, Cinder, Keystone, Glance, Swift) deployed\nby devstack.\n\nStory: #2005477\nTask: #35923\n\nChange-Id: Ie1e5e5e02ee45ab7a4aae0f35bdb42afc2c3fe2e\n""}]",1,671231,a0b8ca43e498da4b514f46c165d8c395070a17e4,51,6,16,8556,,,0,"Setup framework for IPv6-only deployment verification

Devstack IPv6 base job 'devstack-IPv6' setup the IPv6 setting
to deploy the services to listen on IPv6 address.

Tempest 'devstack-tempest-ipv6' job derived from 'devstack-IPv6'
job adds the playbooks to run the tests.

As part of Train community goal 'Support IPv6-Only Deployments',
we will expand the 'devstack-tempest-ipv6' job to do
IPv6-only deployments verification.

This commit define the new roles of 'ipv6-only-deployments-verification'
which will be invoked as part of run phase of 'devstack-tempest-ipv6' job.
This role will do IPv6-only setting and deployments verification via
tools/verify-ipv6-only-deployement.sh

IPv6 verification script can be extended further to perform more checks
and via project specific test case. Those tests will run as part of project
specific child jobs.

The 'devstack-tempest-ipv6' job will be used as parent for project specific
IPv6-only job. Those child job can extend the project specific IPv6 verification
by defining new playebook for post-run. That way the base verification
done in 'devstack-tempest-ipv6' will still run in addition to project specific
verificaiton and tests run.

Verification structure will be:
- 'devstack-IPv6' deploy the service on IPv6
- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address
- Child jobs derived from 'devstack-tempest-ipv6' will run the IPv6 related test case or
  any further IPv6 deployment verification.

This commit also adds the new job 'tempest-ipv6-only' which will run smoke
and ipv6 related tests present in Tempest. This job will be used to run
on 6 services (Nova, Neutron, Cinder, Keystone, Glance, Swift) deployed
by devstack.

Story: #2005477
Task: #35923

Change-Id: Ie1e5e5e02ee45ab7a4aae0f35bdb42afc2c3fe2e
",git fetch https://review.opendev.org/openstack/tempest refs/changes/31/671231/7 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'roles/ipv6-only-deployments-verification/defaults/main.yaml', 'roles/ipv6-only-deployments-verification/tasks/main.yaml', 'roles/ipv6-only-deployments-verification/README.rst', 'tox.ini', 'playbooks/devstack-tempest-ipv6.yaml', 'tools/verify-ipv6-only-deployement.sh']",7,1f20fd9978723fe9da5ba38a4c0c6cad184ccd30,ipv6-only-deployment-and-testing,"#!/bin/bash # # # NOTE(gmann): This script is used in 'devstack-ipv6' zuul job to verify that services are deployed # on IPv6 properly or not. This will capture if any service's devstack plugins is missing the # required setting to listen on IPv6 address. This is run as post-run of zuul job so any child # job can expand the IPv6 verification specific to project via defining new post-run script which # will run along with this base script. # If there are more common verification for IPv6 then we can always extent this script. # Keep track of the DevStack directory TOP_DIR=$(cd $(dirname ""$0"")/.. && pwd) echo $TOP_DIR source $TOP_DIR/stackrc source $TOP_DIR/openrc admin admin function verify_devstack_ipv6_setting { local _service_host=$(echo $SERVICE_HOST | tr -d []) local _host_ipv6=$(echo $HOST_IPV6 | tr -d []) if [[ ""$SERVICE_IP_VERSION"" != 6 ]]; then echo $SERVICE_IP_VERSION ""SERVICE_IP_VERSION is not set to 6 which is must for devstack to deploy services with IPv6 address."" exit 1 fi if [[ ""$_service_host"" != ""$_host_ipv6"" ]]; then echo $_service_host $_host_ipv6 ""SERVICE_HOST and HOST_IPV6 are set with different value. Do not set SERVICE_HOST explicitly to let Devstack deploy serviecs on IPv6."" exit 1 fi is_service_host_ipv6=$(python -c 'import oslo_utils.netutils as nutils; print nutils.is_valid_ipv6(""'$_service_host'"")') if [[ ""$is_service_host_ipv6"" != ""True"" ]]; then echo $SERVICE_HOST ""SERVICE_HOST is not ipv6 which means devstack cannot deploy services on IPv6 address."" exit 1 fi } function sanity_check_system_ipv6_enabled { system_ipv6_enabled=$(python -c 'import oslo_utils.netutils as nutils; print nutils.is_ipv6_enabled()') if [[ $system_ipv6_enabled != ""True"" ]]; then echo ""IPv6 is disabled in system"" exit 1 fi } function verify_service_listen_address_is_ipv6 { endpoints=$(openstack endpoint list -f value -c URL) local all_ipv6=True for endpoint in ${endpoints}; do local endpoint_address=$(echo ""$endpoint"" | awk -F/ '{print $3}' | awk -F] '{print $1}') endpoint_address=$(echo $endpoint_address | tr -d []) local is_endpoint_ipv6=$(python -c 'import oslo_utils.netutils as nutils; print nutils.is_valid_ipv6(""'$endpoint_address'"")') if [[ ""$is_endpoint_ipv6"" != ""True"" ]]; then all_ipv6=False echo $endpoint "": This is not ipv6 endpoint which means corresponding service is not listening on IPv6 address."" continue fi done if [[ ""$all_ipv6"" == ""False"" ]]; then exit 1 fi } #First thing to verify if system has IPv6 enabled or not sanity_check_system_ipv6_enabled #Verify whether devstack is configured properly with IPv6 setting verify_devstack_ipv6_setting #Get all registrfed endpoints by devstack in keystone and verify that each endpoints address is IPv6. verify_service_listen_address_is_ipv6 ",,244,113
openstack%2Fpython-octaviaclient~master~If95cc0c91df4c6831d91995ca0cf849986be951e,openstack/python-octaviaclient,master,If95cc0c91df4c6831d91995ca0cf849986be951e,"Adds ""unset"" action to the quota command",MERGED,2019-05-31 22:52:22.000000000,2019-07-30 11:00:19.000000000,2019-07-30 11:00:19.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 22:52:22.000000000', 'files': ['releasenotes/notes/Add-unset-commands-15490df414a70df0.yaml', 'octaviaclient/tests/unit/osc/v2/test_quota.py', 'octaviaclient/osc/v2/quota.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/8d791ec69e969d5fbb3ac7848e59e54f05f36e42', 'message': 'Adds ""unset"" action to the quota command\n\nThis patch adds ""openstack loadbalancer quota unset"" action to the\noctavia client. This allows the user to reset the quota to the default\nvalue.\n\nChange-Id: If95cc0c91df4c6831d91995ca0cf849986be951e\n'}]",0,662588,8d791ec69e969d5fbb3ac7848e59e54f05f36e42,8,3,1,11628,,,0,"Adds ""unset"" action to the quota command

This patch adds ""openstack loadbalancer quota unset"" action to the
octavia client. This allows the user to reset the quota to the default
value.

Change-Id: If95cc0c91df4c6831d91995ca0cf849986be951e
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/88/662588/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/Add-unset-commands-15490df414a70df0.yaml', 'octaviaclient/tests/unit/osc/v2/test_quota.py', 'octaviaclient/osc/v2/quota.py', 'setup.cfg']",4,8d791ec69e969d5fbb3ac7848e59e54f05f36e42,unsets, loadbalancer_quota_unset = octaviaclient.osc.v2.quota:UnsetQuota,,129,0
openstack%2Fpython-octaviaclient~master~I4931c024392889e75c9f428a0c7a6053e8a1abf4,openstack/python-octaviaclient,master,I4931c024392889e75c9f428a0c7a6053e8a1abf4,"Adds ""unset"" action to the l7rule command",MERGED,2019-05-31 18:38:45.000000000,2019-07-30 11:00:18.000000000,2019-07-30 11:00:18.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 18:38:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/29354836b169daa513da572813120354a89d2ea5', 'message': 'Adds ""unset"" action to the l7rule command\n\nThis patch adds ""openstack loadbalancer l7rule unset"" action to the\noctavia client. This allows the user to unset the invert, value,\netc. setings.\n\nThis is a patch in a chain adding ""unset"" to all of the octavia\ncommands. A follow on patch will include the release note.\n\nChange-Id: I4931c024392889e75c9f428a0c7a6053e8a1abf4\n'}, {'number': 2, 'created': '2019-05-31 18:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/b1709abb339266236655fe760b5da0ce148f475f', 'message': 'Adds ""unset"" action to the l7rule command\n\nThis patch adds ""openstack loadbalancer l7rule unset"" action to the\noctavia client. This allows the user to unset the invert, value,\netc. setings.\n\nThis is a patch in a chain adding ""unset"" to all of the octavia\ncommands. A follow on patch will include the release note.\n\nChange-Id: I4931c024392889e75c9f428a0c7a6053e8a1abf4\n'}, {'number': 3, 'created': '2019-05-31 20:03:35.000000000', 'files': ['octaviaclient/tests/unit/osc/v2/test_l7rule.py', 'octaviaclient/osc/v2/l7rule.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/3bb83c0ec5c672cbc6040f136daf8db6d28ba5ef', 'message': 'Adds ""unset"" action to the l7rule command\n\nThis patch adds ""openstack loadbalancer l7rule unset"" action to the\noctavia client. This allows the user to unset the invert, key,\netc. setings.\n\nThis is a patch in a chain adding ""unset"" to all of the octavia\ncommands. A follow on patch will include the release note.\n\nChange-Id: I4931c024392889e75c9f428a0c7a6053e8a1abf4\n'}]",0,662540,3bb83c0ec5c672cbc6040f136daf8db6d28ba5ef,10,3,3,11628,,,0,"Adds ""unset"" action to the l7rule command

This patch adds ""openstack loadbalancer l7rule unset"" action to the
octavia client. This allows the user to unset the invert, key,
etc. setings.

This is a patch in a chain adding ""unset"" to all of the octavia
commands. A follow on patch will include the release note.

Change-Id: I4931c024392889e75c9f428a0c7a6053e8a1abf4
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/40/662540/1 && git format-patch -1 --stdout FETCH_HEAD,"['octaviaclient/tests/unit/osc/v2/test_l7rule.py', 'octaviaclient/osc/v2/l7rule.py', 'setup.cfg']",3,29354836b169daa513da572813120354a89d2ea5,unsets, loadbalancer_l7rule_unset = octaviaclient.osc.v2.l7rule:UnsetL7Rule,,109,0
openstack%2Fpython-octaviaclient~master~Ieb24ce5ed94f305a7a76d033ea5b7a7a1872c3ed,openstack/python-octaviaclient,master,Ieb24ce5ed94f305a7a76d033ea5b7a7a1872c3ed,"Adds ""unset"" action to the l7policy command",MERGED,2019-05-31 16:43:52.000000000,2019-07-30 10:59:26.000000000,2019-07-30 10:59:26.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 16:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/bd3541a6599cbfbfc4a5e46ec20033ad1b76fab3', 'message': 'Adds ""unset"" action to the l7policy command\n\nThis patch adds ""openstack loadbalancer l7policy unset"" action to the\noctavia client. This allows the user to unset the name, description,\netc. setings.\n\nThis is a patch in a chain adding ""unset"" to all of the octavia\ncommands. A follow on patch will include the release note.\n\nChange-Id: Ieb24ce5ed94f305a7a76d033ea5b7a7a1872c3ed\n'}, {'number': 2, 'created': '2019-05-31 17:05:03.000000000', 'files': ['octaviaclient/osc/v2/l7policy.py', 'octaviaclient/tests/unit/osc/v2/test_l7policy.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/3d9d888f3a31e0283dfc55ef96a05149729d73fa', 'message': 'Adds ""unset"" action to the l7policy command\n\nThis patch adds ""openstack loadbalancer l7policy unset"" action to the\noctavia client. This allows the user to unset the name, description,\netc. setings.\n\nThis is a patch in a chain adding ""unset"" to all of the octavia\ncommands. A follow on patch will include the release note.\n\nChange-Id: Ieb24ce5ed94f305a7a76d033ea5b7a7a1872c3ed\n'}]",0,662518,3d9d888f3a31e0283dfc55ef96a05149729d73fa,8,3,2,11628,,,0,"Adds ""unset"" action to the l7policy command

This patch adds ""openstack loadbalancer l7policy unset"" action to the
octavia client. This allows the user to unset the name, description,
etc. setings.

This is a patch in a chain adding ""unset"" to all of the octavia
commands. A follow on patch will include the release note.

Change-Id: Ieb24ce5ed94f305a7a76d033ea5b7a7a1872c3ed
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/18/662518/2 && git format-patch -1 --stdout FETCH_HEAD,"['octaviaclient/osc/v2/l7policy.py', 'octaviaclient/tests/unit/osc/v2/test_l7policy.py', 'setup.cfg']",3,bd3541a6599cbfbfc4a5e46ec20033ad1b76fab3,unsets, loadbalancer_l7policy_unset = octaviaclient.osc.v2.l7policy:UnsetL7Policy,,104,0
openstack%2Fpython-octaviaclient~master~Ie56cd94e345f27fe99b8669b56c319f1f15290ab,openstack/python-octaviaclient,master,Ie56cd94e345f27fe99b8669b56c319f1f15290ab,"Adds ""unset"" action to the flavor command",MERGED,2019-05-30 22:35:35.000000000,2019-07-30 10:58:48.000000000,2019-07-30 10:58:48.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 22:35:35.000000000', 'files': ['octaviaclient/osc/v2/flavor.py', 'octaviaclient/tests/unit/osc/v2/test_flavor.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/60318de14d990b18053fe70fe3e5bd155d28bee5', 'message': 'Adds ""unset"" action to the flavor command\n\nThis patch adds ""openstack loadbalancer flavor unset"" action to the\noctavia client. This allows the user to unset the description.\n\nThis is a patch in a chain adding ""unset"" to all of the octavia\ncommands. A follow on patch will include the release note.\n\nChange-Id: Ie56cd94e345f27fe99b8669b56c319f1f15290ab\n'}]",0,662348,60318de14d990b18053fe70fe3e5bd155d28bee5,7,3,1,11628,,,0,"Adds ""unset"" action to the flavor command

This patch adds ""openstack loadbalancer flavor unset"" action to the
octavia client. This allows the user to unset the description.

This is a patch in a chain adding ""unset"" to all of the octavia
commands. A follow on patch will include the release note.

Change-Id: Ie56cd94e345f27fe99b8669b56c319f1f15290ab
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/48/662348/1 && git format-patch -1 --stdout FETCH_HEAD,"['octaviaclient/osc/v2/flavor.py', 'octaviaclient/tests/unit/osc/v2/test_flavor.py', 'setup.cfg']",3,60318de14d990b18053fe70fe3e5bd155d28bee5,unsets, loadbalancer_flavor_unset = octaviaclient.osc.v2.flavor:UnsetFlavor,,87,0
openstack%2Fpython-octaviaclient~master~Id04b740567fec5ca4b27daafffc6c4759ea520db,openstack/python-octaviaclient,master,Id04b740567fec5ca4b27daafffc6c4759ea520db,"Adds ""unset"" action to the healthmonitor command",MERGED,2019-05-30 15:47:32.000000000,2019-07-30 10:58:47.000000000,2019-07-30 10:58:47.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 15:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/bb1af143c645bc379e466d48b8257639bf4815a2', 'message': 'Adds ""unset"" action to the healthmonitor command\n\nThis patch adds ""openstack loadbalancer healthmonitor unset"" action to the\noctavia client. This allows the user to unset the name, delay,\netc. setings.\n\nThis is a patch in a chain adding ""unset"" to all of the octavia\ncommands. A follow on patch will include the release note.\n\nChange-Id: Id04b740567fec5ca4b27daafffc6c4759ea520db\n'}, {'number': 2, 'created': '2019-05-30 17:23:36.000000000', 'files': ['octaviaclient/osc/v2/health_monitor.py', 'octaviaclient/tests/unit/osc/v2/test_health_monitor.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/947a7f57d2f15040d82eb9b1c01549eca54c3369', 'message': 'Adds ""unset"" action to the healthmonitor command\n\nThis patch adds ""openstack loadbalancer healthmonitor unset"" action to the\noctavia client. This allows the user to unset the name, domain_name,\netc. setings.\n\nThis is a patch in a chain adding ""unset"" to all of the octavia\ncommands. A follow on patch will include the release note.\n\nChange-Id: Id04b740567fec5ca4b27daafffc6c4759ea520db\n'}]",5,662246,947a7f57d2f15040d82eb9b1c01549eca54c3369,13,4,2,11628,,,0,"Adds ""unset"" action to the healthmonitor command

This patch adds ""openstack loadbalancer healthmonitor unset"" action to the
octavia client. This allows the user to unset the name, domain_name,
etc. setings.

This is a patch in a chain adding ""unset"" to all of the octavia
commands. A follow on patch will include the release note.

Change-Id: Id04b740567fec5ca4b27daafffc6c4759ea520db
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/46/662246/1 && git format-patch -1 --stdout FETCH_HEAD,"['octaviaclient/osc/v2/health_monitor.py', 'octaviaclient/tests/unit/osc/v2/test_health_monitor.py', 'setup.cfg']",3,bb1af143c645bc379e466d48b8257639bf4815a2,unsets, loadbalancer_healthmonitor_unset = octaviaclient.osc.v2.health_monitor:UnsetHealthMonitor,,165,2
openstack%2Foctavia-lib~master~Ia69d1f61571a1a65dee585037affb317999d7ade,openstack/octavia-lib,master,Ia69d1f61571a1a65dee585037affb317999d7ade,Add get methods to the driver-lib,MERGED,2019-06-12 22:31:29.000000000,2019-07-30 10:55:11.000000000,2019-07-30 10:55:11.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 20363}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-12 22:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/cba3027059c4313c7e8e4c75ad3a16713ffefc58', 'message': 'Add get methods to the driver-lib\n\nThis patch adds get methods to the driver-lib which allows provider\ndrivers to query for objects by ID.\n\nChange-Id: Ia69d1f61571a1a65dee585037affb317999d7ade\nStory: 2005870\nTask: 33682\n'}, {'number': 2, 'created': '2019-06-20 00:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/dc28cae69c3fd8fb39a732155e99fe7592816042', 'message': 'Add get methods to the driver-lib\n\nThis patch adds get methods to the driver-lib which allows provider\ndrivers to query for objects by ID.\n\nChange-Id: Ia69d1f61571a1a65dee585037affb317999d7ade\nStory: 2005870\nTask: 33682\n'}, {'number': 3, 'created': '2019-06-20 01:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/ad08b208af30f5b73e29d0994d2ffc69c221fc00', 'message': 'Add get methods to the driver-lib\n\nThis patch adds get methods to the driver-lib which allows provider\ndrivers to query for objects by ID.\n\nChange-Id: Ia69d1f61571a1a65dee585037affb317999d7ade\nStory: 2005870\nTask: 33682\n'}, {'number': 4, 'created': '2019-06-20 18:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/b4df76c6e29f07175065211e7bb06d6813b93484', 'message': 'Add get methods to the driver-lib\n\nThis patch adds get methods to the driver-lib which allows provider\ndrivers to query for objects by ID.\nIt also improves connecting to the driver agent sockets and adds a\ntimeout while waiting to receive data from the driver-agent.\n\nChange-Id: Ia69d1f61571a1a65dee585037affb317999d7ade\nStory: 2005870\nTask: 33682\n'}, {'number': 5, 'created': '2019-06-20 18:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/10438eb0719e455e02ffcfb420ffe23c465e2d10', 'message': 'Add get methods to the driver-lib\n\nThis patch adds get methods to the driver-lib which allows provider\ndrivers to query for objects by ID.\nIt also improves connecting to the driver agent sockets and adds a\ntimeout while waiting to receive data from the driver-agent.\n\nChange-Id: Ia69d1f61571a1a65dee585037affb317999d7ade\nStory: 2005870\nTask: 33682\n'}, {'number': 6, 'created': '2019-06-20 18:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/b049fe1e42646d880b54e0e862964ad05edd7318', 'message': 'Add get methods to the driver-lib\n\nThis patch adds get methods to the driver-lib which allows provider\ndrivers to query for objects by ID.\nIt also improves connecting to the driver agent sockets and adds a\ntimeout while waiting to receive data from the driver-agent.\n\nChange-Id: Ia69d1f61571a1a65dee585037affb317999d7ade\nStory: 2005870\nTask: 33682\n'}, {'number': 7, 'created': '2019-06-20 20:18:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/24f0c78fd3787275cb5b953256133232b1abaf30', 'message': 'Add get methods to the driver-lib\n\nThis patch adds get methods to the driver-lib which allows provider\ndrivers to query for objects by ID.\nIt also improves connecting to the driver agent sockets and adds a\ntimeout while waiting to receive data from the driver-agent.\n\nChange-Id: Ia69d1f61571a1a65dee585037affb317999d7ade\nStory: 2005870\nTask: 33682\n'}, {'number': 8, 'created': '2019-06-20 21:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/03cd013585f3976dd8b3dbf752b46a9902cb5460', 'message': 'Add get methods to the driver-lib\n\nThis patch adds get methods to the driver-lib which allows provider\ndrivers to query for objects by ID.\nIt also improves connecting to the driver agent sockets and adds a\ntimeout while waiting to receive data from the driver-agent.\n\nChange-Id: Ia69d1f61571a1a65dee585037affb317999d7ade\nStory: 2005870\nTask: 33682\n'}, {'number': 9, 'created': '2019-06-20 21:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/61c9a832134dcf0e9bac7fa60891a73e5d3e4e72', 'message': 'Add get methods to the driver-lib\n\nThis patch adds get methods to the driver-lib which allows provider\ndrivers to query for objects by ID.\nIt also improves connecting to the driver agent sockets and adds a\ntimeout while waiting to receive data from the driver-agent.\n\nChange-Id: Ia69d1f61571a1a65dee585037affb317999d7ade\nStory: 2005870\nTask: 33682\n'}, {'number': 10, 'created': '2019-07-29 18:30:45.000000000', 'files': ['octavia_lib/api/drivers/driver_lib.py', 'octavia_lib/tests/unit/api/drivers/test_driver_lib.py', 'requirements.txt', 'octavia_lib/common/constants.py', 'lower-constraints.txt', 'releasenotes/notes/Add-get-methods-to-driver-lib-dae3c217e7ac9e82.yaml', 'octavia_lib/api/drivers/exceptions.py', 'octavia_lib/api/drivers/data_models.py'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/d700c00a90fd62b4f6cb9eb30ebe5f619dd6bfda', 'message': 'Add get methods to the driver-lib\n\nThis patch adds get methods to the driver-lib which allows provider\ndrivers to query for objects by ID.\nIn support of the get methods, this patch fixes a bug in the data\nmodel to_dict() where it may not properly recurse the objects.\nIt also improves connecting to the driver agent sockets and adds a\ntimeout while waiting to receive data from the driver-agent.\n\nChange-Id: Ia69d1f61571a1a65dee585037affb317999d7ade\nStory: 2005870\nTask: 33682\n'}]",15,665027,d700c00a90fd62b4f6cb9eb30ebe5f619dd6bfda,32,5,10,11628,,,0,"Add get methods to the driver-lib

This patch adds get methods to the driver-lib which allows provider
drivers to query for objects by ID.
In support of the get methods, this patch fixes a bug in the data
model to_dict() where it may not properly recurse the objects.
It also improves connecting to the driver agent sockets and adds a
timeout while waiting to receive data from the driver-agent.

Change-Id: Ia69d1f61571a1a65dee585037affb317999d7ade
Story: 2005870
Task: 33682
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/27/665027/8 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_lib/api/drivers/driver_lib.py', 'octavia_lib/common/constants.py']",2,cba3027059c4313c7e8e4c75ad3a16713ffefc58,,OBJECT = 'object',,101,0
openstack%2Fsecurity-doc~master~Icc79dd5a78c6d7ccd3da7879e53e584cce49fca0,openstack/security-doc,master,Icc79dd5a78c6d7ccd3da7879e53e584cce49fca0,Correcting typo in environment spelling.,MERGED,2019-07-30 02:18:45.000000000,2019-07-30 10:47:45.000000000,2019-07-30 10:47:45.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 02:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/ef70d15192744e64257be56ff8ffb6b58a6d6dae', 'message': 'Correcting typo in environment spelling.\n\nThere are typographical errors in security-guide.po and\nsecrets-management-use-cases.rst. Correcting spelling from enviroment to\nenvironment.\n\nChange-Id: Icc79dd5a78c6d7ccd3da7879e53e584cce49fca0\n'}, {'number': 2, 'created': '2019-07-30 09:59:38.000000000', 'files': ['security-guide/source/secrets-management/secrets-management-use-cases.rst'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/60d6900f656bfd9a8c1275c390dd62ea879cd059', 'message': 'Correcting typo in environment spelling.\n\nThere is a typographical error in secrets-management-use-cases.rst.\nCorrecting spelling from enviroment to environment.\n\nChange-Id: Icc79dd5a78c6d7ccd3da7879e53e584cce49fca0\n'}]",0,673387,60d6900f656bfd9a8c1275c390dd62ea879cd059,9,2,2,29775,,,0,"Correcting typo in environment spelling.

There is a typographical error in secrets-management-use-cases.rst.
Correcting spelling from enviroment to environment.

Change-Id: Icc79dd5a78c6d7ccd3da7879e53e584cce49fca0
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/87/673387/1 && git format-patch -1 --stdout FETCH_HEAD,"['security-guide/source/locale/id/LC_MESSAGES/security-guide.po', 'security-guide/source/locale/de/LC_MESSAGES/security-guide.po', 'security-guide/source/secrets-management/secrets-management-use-cases.rst']",3,ef70d15192744e64257be56ff8ffb6b58a6d6dae,fix-environment-spellings,not suitable for a production environment.,not suitable for a production enviroment.,3,3
openstack%2Fironic~master~I83bbd3c77f13aaab0912354c3ec9cdd5e1123d0f,openstack/ironic,master,I83bbd3c77f13aaab0912354c3ec9cdd5e1123d0f,Filter security group list on the ID's we expect,MERGED,2019-07-19 11:15:22.000000000,2019-07-30 10:46:03.000000000,2019-07-30 10:30:11.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10379}, {'_account_id': 11655}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 19339}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-07-19 11:15:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/19cc3d3aabea3707da81b32d58ba415e60e70a63', 'message': ""Filter secuirty group list on the ID's we expect\n\nFilter the list of security groups based on the security\ngroup IDs we plan on using for the network. Also only\nget the id field as this is all we need to compare.\n\nFixes an issue where deployment fail on systems with a\nhigh number of security groups.\n\nStory: 2006256\nTask: 35871\nChange-Id: I83bbd3c77f13aaab0912354c3ec9cdd5e1123d0f\n""}, {'number': 2, 'created': '2019-07-19 13:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9a2e1b7c156e27dbf0b20bd4662c6069a409a50f', 'message': ""Filter secuirty group list on the ID's we expect\n\nFilter the list of security groups based on the security\ngroup IDs we plan on using for the network. Also only\nget the id field as this is all we need to compare.\n\nFixes an issue where deployment fail on systems with a\nhigh number of security groups.\n\nStory: 2006256\nTask: 35871\nChange-Id: I83bbd3c77f13aaab0912354c3ec9cdd5e1123d0f\n""}, {'number': 3, 'created': '2019-07-19 15:53:58.000000000', 'files': ['ironic/tests/unit/common/test_neutron.py', 'releasenotes/notes/fix-security-group-list-add-query-filters-f72cfcefa1e093d2.yaml', 'ironic/common/neutron.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/59787768cbf1d757611be27406777a088fb16659', 'message': ""Filter security group list on the ID's we expect\n\nFilter the list of security groups based on the security\ngroup IDs we plan on using for the network. Also only\nget the id field as this is all we need to compare.\n\nFixes an issue where deployment fail on systems with a\nhigh number of security groups.\n\nStory: 2006256\nTask: 35871\nChange-Id: I83bbd3c77f13aaab0912354c3ec9cdd5e1123d0f\n""}]",20,671705,59787768cbf1d757611be27406777a088fb16659,31,11,3,24245,,,0,"Filter security group list on the ID's we expect

Filter the list of security groups based on the security
group IDs we plan on using for the network. Also only
get the id field as this is all we need to compare.

Fixes an issue where deployment fail on systems with a
high number of security groups.

Story: 2006256
Task: 35871
Change-Id: I83bbd3c77f13aaab0912354c3ec9cdd5e1123d0f
",git fetch https://review.opendev.org/openstack/ironic refs/changes/05/671705/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/common/test_neutron.py', 'releasenotes/notes/fix-security-group-list-add-query-filters-f72cfcefa1e093d2.yaml', 'ironic/common/neutron.py']",3,19cc3d3aabea3707da81b32d58ba415e60e70a63,story/2006256," client.list_security_groups(id=security_groups, fields='id').get( 'security_groups', [])) missing_sec_groups = (set(security_groups) - set(x['id'] for x in neutron_sec_groups))"," client.list_security_groups().get('security_groups', [])) existing_sec_groups = [sec_group['id'] for sec_group in neutron_sec_groups] missing_sec_groups = set(security_groups) - set(existing_sec_groups)",24,11
openstack%2Fpuppet-openstack_spec_helper~master~I8f57ae99a25e78740a8c09905e63a27b3fa7e31a,openstack/puppet-openstack_spec_helper,master,I8f57ae99a25e78740a8c09905e63a27b3fa7e31a,Pin rspec-puppet-facts to 1.9.2,ABANDONED,2019-07-30 08:55:57.000000000,2019-07-30 10:44:12.000000000,,"[{'_account_id': 17216}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 08:55:57.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/46a2bb554917d70d44610222c834b9780f96d765', 'message': 'Pin rspec-puppet-facts to 1.9.2\n\nrspec-puppet-facts 1.9.5 requires Ruby version >= 2.1.0\nwhich is not available in centos.\n\nThis pins rspec-puppet-facts to 1.9.2 .\n\nSee example failure [1].\n\nRelated-Bug: #1838376\n\n[1] https://review.opendev.org/#/c/672469/\n\nChange-Id: I8f57ae99a25e78740a8c09905e63a27b3fa7e31a\n'}]",0,673455,46a2bb554917d70d44610222c834b9780f96d765,5,2,1,17216,,,0,"Pin rspec-puppet-facts to 1.9.2

rspec-puppet-facts 1.9.5 requires Ruby version >= 2.1.0
which is not available in centos.

This pins rspec-puppet-facts to 1.9.2 .

See example failure [1].

Related-Bug: #1838376

[1] https://review.opendev.org/#/c/672469/

Change-Id: I8f57ae99a25e78740a8c09905e63a27b3fa7e31a
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/55/673455/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,46a2bb554917d70d44610222c834b9780f96d765,bug/1838376," # Force rspec-puppet-facts 1.9.2 as 1.9.5 requires ruby >= 2.3.0 which # CentOS does not provide. spec.add_dependency 'rspec-puppet-facts', ['= 1.9.2']"," spec.add_dependency 'rspec-puppet-facts', ['>= 1.7.0']",3,1
openstack%2Fkolla-cli~master~I72c8252d0f5b43920ca488a9d5205edbf54342b0,openstack/kolla-cli,master,I72c8252d0f5b43920ca488a9d5205edbf54342b0,Add pull aciton default hosts,MERGED,2019-07-30 10:05:04.000000000,2019-07-30 10:41:14.000000000,2019-07-30 10:41:14.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 10:05:04.000000000', 'files': ['kolla_cli/commands/kolla_action.py'], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/13a009179ae106b9483ea15fdd93afe8bce6949e', 'message': 'Add pull aciton default hosts\n\nChange-Id: I72c8252d0f5b43920ca488a9d5205edbf54342b0\n'}]",0,673464,13a009179ae106b9483ea15fdd93afe8bce6949e,6,2,1,22165,,,0,"Add pull aciton default hosts

Change-Id: I72c8252d0f5b43920ca488a9d5205edbf54342b0
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/64/673464/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla_cli/commands/kolla_action.py'],1,13a009179ae106b9483ea15fdd93afe8bce6949e,, hosts = [],,1,0
openstack%2Fnova~master~I67f341bf895d6cc5d503da274c089d443295199e,openstack/nova,master,I67f341bf895d6cc5d503da274c089d443295199e,libvirt: Add a rbd_connect_timeout configurable,MERGED,2019-06-25 17:44:26.000000000,2019-07-30 10:33:57.000000000,2019-07-04 12:32:25.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-25 17:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e16f77a24ba31af8e6ffe97a5a1ca3273265a5c', 'message': 'WIP libvirt: Add rbd_connect_timeout configurable\n\nPreviously the initial call to connect to a RBD cluster via the RADOS\nAPI could hang indefinitely if network or other infrastructure related\nissues were encountered.\n\nWhen such hangs were seen during update_available_resource calls this\ncould result in the local n-cpu service reporting as UP while never\nbeing able to break out of the constant RADOS client hang and subsequent\nAMQP timeout loop as documented in bug #1834048.\n\nThis change adds a simple configurable setting a timeout when initially\nconnecting to the cluster [1][2][3]. The default timeout is sufficiently\nsmall enough to ensure that if encountered the n-cpu service will be\nable to be marked as DOWN before an AMQP timeout is seen.\n\nTODO\n- Tests\n- releasenote\n\nCloses-bug: #1834048\n\n[1] http://docs.ceph.com/docs/luminous/rados/api/python/#rados.Rados.connect\n[2] http://docs.ceph.com/docs/mimic/rados/api/python/#rados.Rados.connect\n[3] http://docs.ceph.com/docs/nautilus/rados/api/python/#rados.Rados.connect\n\nChange-Id: I67f341bf895d6cc5d503da274c089d443295199e\nCloses-bug:\n'}, {'number': 2, 'created': '2019-06-26 13:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4bdb3c95634576b78ee58893d14f61d8b3bc2285', 'message': 'libvirt: Add a rbd_connect_timeout configurable\n\nPreviously the initial call to connect to a RBD cluster via the RADOS\nAPI could hang indefinitely if network or other environmental related\nissues were encountered.\n\nWhen encountered during a call to update_available_resource this can\nresult in the local n-cpu service reporting as UP while never being able\nto break out of a subsequent RPC timeout loop as documented in bug\n\nThis change adds a simple timeout configurable to be used when initially\nconnecting to the cluster [1][2][3]. The default timeout of 5 seconds\nbeing sufficiently small enough to ensure that if encountered the n-cpu\nservice will be able to be marked as DOWN before a RPC timeout is seen.\n\n[1] http://docs.ceph.com/docs/luminous/rados/api/python/#rados.Rados.connect\n[2] http://docs.ceph.com/docs/mimic/rados/api/python/#rados.Rados.connect\n[3] http://docs.ceph.com/docs/nautilus/rados/api/python/#rados.Rados.connect\n\nCloses-bug: #1834048\nChange-Id: I67f341bf895d6cc5d503da274c089d443295199e\n'}, {'number': 3, 'created': '2019-06-26 17:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/98fe39a94c15acd9f44bfc2d3f99e57afeb8f001', 'message': 'libvirt: Add a rbd_connect_timeout configurable\n\nPreviously the initial call to connect to a RBD cluster via the RADOS\nAPI could hang indefinitely if network or other environmental related\nissues were encountered.\n\nWhen encountered during a call to update_available_resource this can\nresult in the local n-cpu service reporting as UP while never being able\nto break out of a subsequent RPC timeout loop as documented in bug\n\nThis change adds a simple timeout configurable to be used when initially\nconnecting to the cluster [1][2][3]. The default timeout of 5 seconds\nbeing sufficiently small enough to ensure that if encountered the n-cpu\nservice will be able to be marked as DOWN before a RPC timeout is seen.\n\n[1] http://docs.ceph.com/docs/luminous/rados/api/python/#rados.Rados.connect\n[2] http://docs.ceph.com/docs/mimic/rados/api/python/#rados.Rados.connect\n[3] http://docs.ceph.com/docs/nautilus/rados/api/python/#rados.Rados.connect\n\nCloses-bug: #1834048\nChange-Id: I67f341bf895d6cc5d503da274c089d443295199e\n'}, {'number': 4, 'created': '2019-07-02 18:38:53.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1834048-8b19ae1c5048b801.yaml', 'nova/conf/libvirt.py', 'nova/tests/unit/virt/libvirt/storage/test_rbd.py', 'nova/virt/libvirt/storage/rbd_utils.py', 'nova/virt/libvirt/imagebackend.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/03f7dc29b75d1099ef44a034ed7e23d2a4444ac6', 'message': 'libvirt: Add a rbd_connect_timeout configurable\n\nPreviously the initial call to connect to a RBD cluster via the RADOS\nAPI could hang indefinitely if network or other environmental related\nissues were encountered.\n\nWhen encountered during a call to update_available_resource this can\nresult in the local n-cpu service reporting as UP while never being able\nto break out of a subsequent RPC timeout loop as documented in bug\n\nThis change adds a simple timeout configurable to be used when initially\nconnecting to the cluster [1][2][3]. The default timeout of 5 seconds\nbeing sufficiently small enough to ensure that if encountered the n-cpu\nservice will be able to be marked as DOWN before a RPC timeout is seen.\n\n[1] http://docs.ceph.com/docs/luminous/rados/api/python/#rados.Rados.connect\n[2] http://docs.ceph.com/docs/mimic/rados/api/python/#rados.Rados.connect\n[3] http://docs.ceph.com/docs/nautilus/rados/api/python/#rados.Rados.connect\n\nCloses-bug: #1834048\nChange-Id: I67f341bf895d6cc5d503da274c089d443295199e\n'}]",9,667421,03f7dc29b75d1099ef44a034ed7e23d2a4444ac6,84,15,4,10135,,,0,"libvirt: Add a rbd_connect_timeout configurable

Previously the initial call to connect to a RBD cluster via the RADOS
API could hang indefinitely if network or other environmental related
issues were encountered.

When encountered during a call to update_available_resource this can
result in the local n-cpu service reporting as UP while never being able
to break out of a subsequent RPC timeout loop as documented in bug

This change adds a simple timeout configurable to be used when initially
connecting to the cluster [1][2][3]. The default timeout of 5 seconds
being sufficiently small enough to ensure that if encountered the n-cpu
service will be able to be marked as DOWN before a RPC timeout is seen.

[1] http://docs.ceph.com/docs/luminous/rados/api/python/#rados.Rados.connect
[2] http://docs.ceph.com/docs/mimic/rados/api/python/#rados.Rados.connect
[3] http://docs.ceph.com/docs/nautilus/rados/api/python/#rados.Rados.connect

Closes-bug: #1834048
Change-Id: I67f341bf895d6cc5d503da274c089d443295199e
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/667421/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/conf/libvirt.py', 'nova/tests/unit/virt/libvirt/storage/test_rbd.py', 'nova/virt/libvirt/storage/rbd_utils.py', 'nova/virt/libvirt/imagebackend.py']",5,1e16f77a24ba31af8e6ffe97a5a1ca3273265a5c,bug/1834048," self.rbd_connect_timeout = CONF.libvirt.rbd_connect_timeout rbd_user=self.rbd_user, rbd_connect_timeout=self.rbd_connect_timeout)", rbd_user=self.rbd_user),14,5
openstack%2Fnova~master~Iaa59f346030680f7dc38cf17c907b31d2292a837,openstack/nova,master,Iaa59f346030680f7dc38cf17c907b31d2292a837,Privsep the ebtables modification code.,MERGED,2019-02-07 06:18:20.000000000,2019-07-30 10:11:53.000000000,2019-07-30 00:38:40.000000000,"[{'_account_id': 2271}, {'_account_id': 4393}, {'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 13915}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-02-07 06:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4007d7a8b5da599db892c7395c480dc10ec15cdf', 'message': 'Privsep the ebtables modification code.\n\nThe same pattern as previous changes, although with some slightly\nbigger unit test fallout.\n\nChange-Id: Iaa59f346030680f7dc38cf17c907b31d2292a837\n'}, {'number': 2, 'created': '2019-02-13 00:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b009b019828aba0707171e50ab71b2354395e10b', 'message': 'Privsep the ebtables modification code.\n\nThe same pattern as previous changes, although with some slightly\nbigger unit test fallout.\n\nChange-Id: Iaa59f346030680f7dc38cf17c907b31d2292a837\n'}, {'number': 3, 'created': '2019-02-20 02:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d7c9edc5e3b101273043641d146719e243b53cf', 'message': 'Privsep the ebtables modification code.\n\nThe same pattern as previous changes, although with some slightly\nbigger unit test fallout.\n\nChange-Id: Iaa59f346030680f7dc38cf17c907b31d2292a837\n'}, {'number': 4, 'created': '2019-02-26 09:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fcc4ffdb6deb3445e16a6b451dba7d4faf0ccaea', 'message': 'Privsep the ebtables modification code.\n\nThe same pattern as previous changes, although with some slightly\nbigger unit test fallout.\n\nChange-Id: Iaa59f346030680f7dc38cf17c907b31d2292a837\n'}, {'number': 5, 'created': '2019-03-05 22:35:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96c7635c5fc71def3009573354144c0ce5a865e9', 'message': 'Privsep the ebtables modification code.\n\nThe same pattern as previous changes, although with some slightly\nbigger unit test fallout.\n\nChange-Id: Iaa59f346030680f7dc38cf17c907b31d2292a837\n'}, {'number': 6, 'created': '2019-03-06 19:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/932d698b8c1ad277d83a2fe1c0c7beef85c4e479', 'message': 'Privsep the ebtables modification code.\n\nThe same pattern as previous changes, although with some slightly\nbigger unit test fallout.\n\nChange-Id: Iaa59f346030680f7dc38cf17c907b31d2292a837\n'}, {'number': 7, 'created': '2019-03-07 12:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3bbfea461ee1bded6d28c878f1738784524b1c5', 'message': 'Privsep the ebtables modification code.\n\nThe same pattern as previous changes, although with some slightly\nbigger unit test fallout.\n\nChange-Id: Iaa59f346030680f7dc38cf17c907b31d2292a837\n'}, {'number': 8, 'created': '2019-03-08 05:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/79ed853dd527f2c64f4aa4958582fe8817c2a37b', 'message': 'Privsep the ebtables modification code.\n\nThe same pattern as previous changes, although with some slightly\nbigger unit test fallout.\n\nChange-Id: Iaa59f346030680f7dc38cf17c907b31d2292a837\n'}, {'number': 9, 'created': '2019-03-18 05:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2187102aab94ba80f128d93a10209f8f881368ce', 'message': 'Privsep the ebtables modification code.\n\nThe same pattern as previous changes, although with some slightly\nbigger unit test fallout.\n\nChange-Id: Iaa59f346030680f7dc38cf17c907b31d2292a837\n'}, {'number': 10, 'created': '2019-03-21 09:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/81272eb8c86ceffca39a916ee4515e1dc8b63e09', 'message': 'Privsep the ebtables modification code.\n\nThe same pattern as previous changes, although with some slightly\nbigger unit test fallout.\n\nChange-Id: Iaa59f346030680f7dc38cf17c907b31d2292a837\n'}, {'number': 11, 'created': '2019-03-27 04:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0145c6ba1ee3c65ab3dd24cd48af23cb00715ee', 'message': 'Privsep the ebtables modification code.\n\nThe same pattern as previous changes, although with some slightly\nbigger unit test fallout.\n\nChange-Id: Iaa59f346030680f7dc38cf17c907b31d2292a837\n'}, {'number': 12, 'created': '2019-03-29 04:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3952dd298712dc1791f320107af4ce4814627229', 'message': 'Privsep the ebtables modification code.\n\nThe same pattern as previous changes, although with some slightly\nbigger unit test fallout.\n\nChange-Id: Iaa59f346030680f7dc38cf17c907b31d2292a837\n'}, {'number': 13, 'created': '2019-03-29 06:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2210539cbb139f49c7f6d0355728ffd4b0018c7b', 'message': 'Privsep the ebtables modification code.\n\nThe same pattern as previous changes, although with some slightly\nbigger unit test fallout.\n\nChange-Id: Iaa59f346030680f7dc38cf17c907b31d2292a837\n'}, {'number': 14, 'created': '2019-03-29 20:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/47bb6d6f964f0c0c1a52475bd58d679672787cc3', 'message': 'Privsep the ebtables modification code.\n\nThe same pattern as previous changes, although with some slightly\nbigger unit test fallout.\n\nChange-Id: Iaa59f346030680f7dc38cf17c907b31d2292a837\n'}, {'number': 15, 'created': '2019-04-01 21:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/211821837eb07fbc4f0788ed571051b53c9d8bf3', 'message': 'Privsep the ebtables modification code.\n\nThe same pattern as previous changes, although with some slightly\nbigger unit test fallout.\n\nChange-Id: Iaa59f346030680f7dc38cf17c907b31d2292a837\n'}, {'number': 16, 'created': '2019-04-02 10:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0d5f39a708ee15d864f916ac275727ce2a8147b9', 'message': 'Privsep the ebtables modification code.\n\nThe same pattern as previous changes, although with some slightly\nbigger unit test fallout.\n\nChange-Id: Iaa59f346030680f7dc38cf17c907b31d2292a837\n'}, {'number': 17, 'created': '2019-04-04 08:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4c17c3be7cc226842a6b1e79403415c6f8ba898', 'message': 'Privsep the ebtables modification code.\n\nThe same pattern as previous changes, although with some slightly\nbigger unit test fallout.\n\nChange-Id: Iaa59f346030680f7dc38cf17c907b31d2292a837\n'}, {'number': 18, 'created': '2019-04-04 20:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/faf624bad2ac6713dedd9664b39b6c24e986505d', 'message': 'Privsep the ebtables modification code.\n\nThe same pattern as previous changes, although with some slightly\nbigger unit test fallout.\n\nChange-Id: Iaa59f346030680f7dc38cf17c907b31d2292a837\n'}, {'number': 19, 'created': '2019-04-12 06:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fa417a25bd5f51daff3e61474b4666070f6a68d1', 'message': 'Privsep the ebtables modification code.\n\nThe same pattern as previous changes, although with some slightly\nbigger unit test fallout.\n\nChange-Id: Iaa59f346030680f7dc38cf17c907b31d2292a837\n'}, {'number': 20, 'created': '2019-04-24 01:44:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6f2113ee64fe6ffd97d768f13db7340799a99ed6', 'message': 'Privsep the ebtables modification code.\n\nThe same pattern as previous changes, although with some slightly\nbigger unit test fallout.\n\nChange-Id: Iaa59f346030680f7dc38cf17c907b31d2292a837\n'}, {'number': 21, 'created': '2019-06-25 16:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab836258ac99cc68753d371e4fdaa58590ea2e7e', 'message': 'Privsep the ebtables modification code.\n\nThe same pattern as previous changes, although with some slightly\nbigger unit test fallout.\n\nChange-Id: Iaa59f346030680f7dc38cf17c907b31d2292a837\n'}, {'number': 22, 'created': '2019-06-25 16:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce0d973c81fc423aa3b75d7cda575571c120f168', 'message': 'Privsep the ebtables modification code.\n\nThe same pattern as previous changes, although with some slightly\nbigger unit test fallout.\n\nChange-Id: Iaa59f346030680f7dc38cf17c907b31d2292a837\nCo-Authored-By: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 23, 'created': '2019-06-25 16:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed12f700db54e51b99fe24d2ff5e47a7ac90b6c4', 'message': 'Privsep the ebtables modification code.\n\nThe same pattern as previous changes, although with some slightly\nbigger unit test fallout.\n\nChange-Id: Iaa59f346030680f7dc38cf17c907b31d2292a837\nCo-Authored-By: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 24, 'created': '2019-06-26 14:32:23.000000000', 'files': ['nova/tests/unit/network/test_linux_net.py', 'nova/network/linux_net.py', 'nova/privsep/linux_net.py', 'nova/tests/unit/privsep/test_linux_net.py', 'nova/tests/unit/network/test_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cc76d7cfb33b7a4bc84d148230208714a7b33770', 'message': 'Privsep the ebtables modification code.\n\nThe same pattern as previous changes, although with some slightly\nbigger unit test fallout.\n\nChange-Id: Iaa59f346030680f7dc38cf17c907b31d2292a837\nCo-Authored-By: Stephen Finucane <sfinucan@redhat.com>\n'}]",6,635435,cc76d7cfb33b7a4bc84d148230208714a7b33770,217,20,24,2271,,,0,"Privsep the ebtables modification code.

The same pattern as previous changes, although with some slightly
bigger unit test fallout.

Change-Id: Iaa59f346030680f7dc38cf17c907b31d2292a837
Co-Authored-By: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/635435/24 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/network/test_linux_net.py', 'nova/network/linux_net.py', 'nova/privsep/linux_net.py', 'nova/tests/unit/network/test_manager.py']",4,4007d7a8b5da599db892c7395c480dc10ec15cdf,my-own-personal-alternative-universe," @mock.patch('nova.privsep.linux_net.modify_ebtables') def test_init_host_iptables_defer_apply(self, modify_ebtables, bind_ip, iptable_apply, @mock.patch('nova.privsep.linux_net.modify_ebtables') self, modify_ebtables, clean_conntrack, unbind_ip, bind_ip, net_get, fixed_get): @mock.patch('nova.privsep.linux_net.modify_ebtables') def test_init_host_iptables_defer_apply(self, modify_ebtables, bind_ip, iptable_apply, @mock.patch('nova.privsep.linux_net.modify_ebtables') def test_allocate_for_instance(self, mock_modify_ebtables, mock_forwarding_enable, @mock.patch('nova.privsep.linux_net.modify_ebtables') def test_deallocation_deleted_instance(self, mock_modify_ebtables, mock_clean_conntrack, @mock.patch('nova.privsep.linux_net.modify_ebtables') def test_deallocation_duplicate_floating_ip(self, mock_modify_ebtables, mock_clean_conntrack,"," def test_init_host_iptables_defer_apply(self, bind_ip, iptable_apply, self, clean_conntrack, unbind_ip, bind_ip, net_get, fixed_get): def test_init_host_iptables_defer_apply(self, bind_ip, iptable_apply, def test_allocate_for_instance(self, mock_forwarding_enable, def test_deallocation_deleted_instance(self, mock_clean_conntrack, def test_deallocation_duplicate_floating_ip(self, mock_clean_conntrack,",152,131
openstack%2Fheat~stable%2Fstein~Ic7fa6a2bef3db1f6f2548d1c792e0cef29787586,openstack/heat,stable/stein,Ic7fa6a2bef3db1f6f2548d1c792e0cef29787586,Add periodic job template,MERGED,2019-07-01 14:36:49.000000000,2019-07-30 10:07:34.000000000,2019-07-30 10:07:33.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-01 14:36:49.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/7d49ff235c756903ee8df3110987940bdeaceb91', 'message': ""Add periodic job template\n\nPeriodic stable jobs don't run on stein, only up till rocky as\nperiodic-stable-jobs template is missing from master and stein\nbranches.\n\nConflicts:\n      .zuul.yaml\n\nChange-Id: Ic7fa6a2bef3db1f6f2548d1c792e0cef29787586\n(cherry picked from commit 8e784ff9c4d3dd9f37f23118b819d646f8dab3ed)\n""}]",0,668480,7d49ff235c756903ee8df3110987940bdeaceb91,19,6,1,17685,,,0,"Add periodic job template

Periodic stable jobs don't run on stein, only up till rocky as
periodic-stable-jobs template is missing from master and stein
branches.

Conflicts:
      .zuul.yaml

Change-Id: Ic7fa6a2bef3db1f6f2548d1c792e0cef29787586
(cherry picked from commit 8e784ff9c4d3dd9f37f23118b819d646f8dab3ed)
",git fetch https://review.opendev.org/openstack/heat refs/changes/80/668480/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7d49ff235c756903ee8df3110987940bdeaceb91,add-periodic, - periodic-stable-jobs,,1,0
openstack%2Fironic~master~I21c9bb8cdff3fc10c31a49a001437be2ecac703b,openstack/ironic,master,I21c9bb8cdff3fc10c31a49a001437be2ecac703b,Change debug to error for heartbeats,MERGED,2019-04-02 19:58:10.000000000,2019-07-30 09:59:52.000000000,2019-07-30 09:59:52.000000000,"[{'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 28429}, {'_account_id': 30100}]","[{'number': 1, 'created': '2019-04-02 19:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/89efed646f047069c6ff9f1282ae98b53bb96c75', 'message': ""Change debug to error for heartbeats\n\nIf a node is heartbeating and shouldn't be heartbeating,\nit seems like an error generating worthy log message.\n\nSo lets actually log it!\n\nChange-Id: I21c9bb8cdff3fc10c31a49a001437be2ecac703b\n""}, {'number': 2, 'created': '2019-04-02 22:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7b4320ac3fcc80d4a37938e705455e26fbc71515', 'message': ""Change debug to error for heartbeats\n\nIf a node is heartbeating and shouldn't be heartbeating,\nit seems like an error generating worthy log message.\n\nSo lets actually log it!\n\nAlso log to the node object and drop the lock so API users\ncan see an indication of hearbeat failures occuring.\n\nChange-Id: I21c9bb8cdff3fc10c31a49a001437be2ecac703b\n""}, {'number': 3, 'created': '2019-07-29 18:41:32.000000000', 'files': ['ironic/drivers/modules/agent_base_vendor.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2b8581af8c4faec1ca4b2c9714c6c2b491c5578a', 'message': ""Change debug to error for heartbeats\n\nIf a node is heartbeating and shouldn't be heartbeating,\nit seems like an error generating worthy log message.\n\nSo lets actually log it!\n\nChange-Id: I21c9bb8cdff3fc10c31a49a001437be2ecac703b\n""}]",7,649443,2b8581af8c4faec1ca4b2c9714c6c2b491c5578a,32,13,3,11655,,,0,"Change debug to error for heartbeats

If a node is heartbeating and shouldn't be heartbeating,
it seems like an error generating worthy log message.

So lets actually log it!

Change-Id: I21c9bb8cdff3fc10c31a49a001437be2ecac703b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/43/649443/2 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/agent_base_vendor.py'],1,89efed646f047069c6ff9f1282ae98b53bb96c75,649443-patch1, LOG.error('Heartbeat from node %(node)s in unsupported ', LOG.debug('Heartbeat from node %(node)s in unsupported ',1,1
openstack%2Fkuryr-libnetwork~master~I1465f265e631c7f3c55cc0634ec3516b40d5bc83,openstack/kuryr-libnetwork,master,I1465f265e631c7f3c55cc0634ec3516b40d5bc83,Update api-ref location,MERGED,2019-07-25 15:59:44.000000000,2019-07-30 08:59:58.000000000,2019-07-30 08:59:58.000000000,"[{'_account_id': 6598}, {'_account_id': 9820}, {'_account_id': 11343}, {'_account_id': 11536}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-07-25 15:59:44.000000000', 'files': ['kuryr_libnetwork/tests/unit/test_kuryr.py', 'kuryr_libnetwork/tests/unit/test_kuryr_endpoint.py', 'kuryr_libnetwork/tests/unit/base.py', 'kuryr_libnetwork/tests/unit/test_ipam_pool.py'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/f55538348c4145c6734bb88e31af4799c52c511a', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location. This also updates some ancient links.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I1465f265e631c7f3c55cc0634ec3516b40d5bc83\n""}]",0,672765,f55538348c4145c6734bb88e31af4799c52c511a,10,9,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location. This also updates some ancient links.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I1465f265e631c7f3c55cc0634ec3516b40d5bc83
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/65/672765/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_libnetwork/tests/unit/test_kuryr.py', 'kuryr_libnetwork/tests/unit/test_kuryr_endpoint.py', 'kuryr_libnetwork/tests/unit/base.py', 'kuryr_libnetwork/tests/unit/test_ipam_pool.py']",4,f55538348c4145c6734bb88e31af4799c52c511a,retire-api-site, https://docs.openstack.org/api-ref/network/v2/index.html#subnet-pools-extension-subnetpools # noqa, http://developer.openstack.org/api-ref/networking/v2/index.html#subnet-pools-extension-subnetpools # noqa,18,18
openstack%2Fblazar~master~I521640f2b0f0be50816cae8064fb7e22cbcc6d80,openstack/blazar,master,I521640f2b0f0be50816cae8064fb7e22cbcc6d80,Add project_id query parameter to the Lease List API,NEW,2018-10-01 02:31:14.000000000,2019-07-30 08:56:58.000000000,,"[{'_account_id': 8878}, {'_account_id': 13192}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-01 02:31:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/01e5d5b1f287171f9b75383eec3cbc34cbc58b3f', 'message': ""Add project_id query parameter to the Lease List API\n\nThe lease list API returns all existing leases when admin users\ncall the API. It creates a huge response body if there are multiple\nproject and leases.\n\nThis patch add 'project_id' query parameter to the API. This\nparameter enables admin to filter the API response based on the\nproject id. Only admin user can use this parameter since non-admin\nuser only can see their leases by the API.\n\nChange-Id: I521640f2b0f0be50816cae8064fb7e22cbcc6d80\nCloses-Bug: #1304435\n""}, {'number': 2, 'created': '2018-10-02 08:26:08.000000000', 'files': ['api-ref/source/v1/parameters.yaml', 'blazar/api/v1/leases/service.py', 'blazar/tests/api/v1/leases/test_service.py', 'api-ref/source/v1/leases.inc'], 'web_link': 'https://opendev.org/openstack/blazar/commit/bfe46b8039e154059e111f0d82d1f05d9c1ae3ba', 'message': ""Add project_id query parameter to the Lease List API\n\nThe lease list API returns all existing leases when admin users\ncall the API. It creates a huge response body if there are multiple\nproject and leases.\n\nThis patch add 'project_id' query parameter to the API. This\nparameter enables admin to filter the API response based on the\nproject id. Only admin user can use this parameter since non-admin\nuser only can see their leases by the API.\n\nChange-Id: I521640f2b0f0be50816cae8064fb7e22cbcc6d80\nCloses-Bug: #1304435\n""}]",0,606875,bfe46b8039e154059e111f0d82d1f05d9c1ae3ba,12,4,2,8878,,,0,"Add project_id query parameter to the Lease List API

The lease list API returns all existing leases when admin users
call the API. It creates a huge response body if there are multiple
project and leases.

This patch add 'project_id' query parameter to the API. This
parameter enables admin to filter the API response based on the
project id. Only admin user can use this parameter since non-admin
user only can see their leases by the API.

Change-Id: I521640f2b0f0be50816cae8064fb7e22cbcc6d80
Closes-Bug: #1304435
",git fetch https://review.opendev.org/openstack/blazar refs/changes/75/606875/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v1/parameters.yaml', 'blazar/api/v1/leases/service.py', 'blazar/tests/api/v1/leases/test_service.py', 'api-ref/source/v1/leases.inc']",4,01e5d5b1f287171f9b75383eec3cbc34cbc58b3f,bug/1304435,.. rest_parameters:: parameters.yaml - project_id: lease_project_id_query,"No body content, path, nor query option.",48,11
openstack%2Ffreezer-web-ui~master~I038830d135a470958ab74b92f5acc6f3e30f2967,openstack/freezer-web-ui,master,I038830d135a470958ab74b92f5acc6f3e30f2967,Fix the lower-constraints failed,ABANDONED,2019-07-14 14:47:54.000000000,2019-07-30 08:55:06.000000000,,"[{'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-14 14:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/cf18a08e1dd0099ed28c55284dc0c8e7ee01ebe8', 'message': 'Fix the lower-constraints failed\n\nmore info http://logs.openstack.org/06/652306/2/check/openstack-tox-lower-constraints/0f39f8c/job-output.txt.gz\n\nChange-Id: I038830d135a470958ab74b92f5acc6f3e30f2967\n'}, {'number': 2, 'created': '2019-07-15 05:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/218aa6742d8bebbeeeca37fb56f83ca3e2c90969', 'message': 'Fix the lower-constraints failed\n\nmore info http://logs.openstack.org/06/652306/2/check/openstack-tox-lower-constraints/0f39f8c/job-output.txt.gz\n\nChange-Id: I038830d135a470958ab74b92f5acc6f3e30f2967\n'}]",0,670731,218aa6742d8bebbeeeca37fb56f83ca3e2c90969,6,2,2,30356,,,0,"Fix the lower-constraints failed

more info http://logs.openstack.org/06/652306/2/check/openstack-tox-lower-constraints/0f39f8c/job-output.txt.gz

Change-Id: I038830d135a470958ab74b92f5acc6f3e30f2967
",git fetch https://review.opendev.org/openstack/freezer-web-ui refs/changes/31/670731/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,cf18a08e1dd0099ed28c55284dc0c8e7ee01ebe8,,keystoneauth1==3.14.0,keystoneauth1==3.11.0,1,1
openstack%2Fkolla-cli~master~Idf4505cdddad8845a37c0ff4cb7704fe44b8ff06,openstack/kolla-cli,master,Idf4505cdddad8845a37c0ff4cb7704fe44b8ff06,[Part4]: Optimise and simplify action code,MERGED,2019-07-29 11:23:56.000000000,2019-07-30 08:50:08.000000000,2019-07-30 08:50:07.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-07-29 11:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/40ea560c4c8544aa13455270cc0500b7d8a17b0d', 'message': '[Part4]: Optimise and simplify action code\n\n1. complete deploy action\n\nChange-Id: Idf4505cdddad8845a37c0ff4cb7704fe44b8ff06\n'}, {'number': 2, 'created': '2019-07-29 13:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/81c02071528ae9bb881d0b742fffc5d99fbee806', 'message': '[Part4]: Optimise and simplify action code\n\n1. complete deploy action\n\nChange-Id: Idf4505cdddad8845a37c0ff4cb7704fe44b8ff06\n'}, {'number': 3, 'created': '2019-07-29 14:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/f98410c970bea4fa470cf3ab4d7a7e6a4f3d2941', 'message': '[Part4]: Optimise and simplify action code\n\n1. complete deploy action\n\nChange-Id: Idf4505cdddad8845a37c0ff4cb7704fe44b8ff06\n'}, {'number': 4, 'created': '2019-07-29 15:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/80a3a579b82e0f2ce92d09c75cf9acc2d98a7dde', 'message': '[Part4]: Optimise and simplify action code\n\n1. complete deploy action\n2. complete reconfigure action\n\nChange-Id: Idf4505cdddad8845a37c0ff4cb7704fe44b8ff06\n'}, {'number': 5, 'created': '2019-07-29 15:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/a1b4907d81aa9a66c0698dd8a081bc9a719d0db2', 'message': '[Part4]: Optimise and simplify action code\n\n1. complete deploy action\n2. complete reconfigure action\n\nChange-Id: Idf4505cdddad8845a37c0ff4cb7704fe44b8ff06\n'}, {'number': 6, 'created': '2019-07-29 15:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/7a531141af9c275ef62703176148241b2ced5958', 'message': '[Part4]: Optimise and simplify action code\n\n1. complete deploy action\n2. complete reconfigure action\n\nChange-Id: Idf4505cdddad8845a37c0ff4cb7704fe44b8ff06\n'}, {'number': 7, 'created': '2019-07-30 00:48:39.000000000', 'files': ['kolla_cli/common/ansible/actions.py', 'kolla_cli/api/control_plane.py'], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/5949587d101badcf66e7c3046f5e8aa166a97d4c', 'message': '[Part4]: Optimise and simplify action code\n\n1. complete deploy action\n2. complete reconfigure action\n\nChange-Id: Idf4505cdddad8845a37c0ff4cb7704fe44b8ff06\n'}]",2,673271,5949587d101badcf66e7c3046f5e8aa166a97d4c,19,3,7,30356,,,0,"[Part4]: Optimise and simplify action code

1. complete deploy action
2. complete reconfigure action

Change-Id: Idf4505cdddad8845a37c0ff4cb7704fe44b8ff06
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/71/673271/7 && git format-patch -1 --stdout FETCH_HEAD,['kolla_cli/common/ansible/actions.py'],1,40ea560c4c8544aa13455270cc0500b7d8a17b0d,simplify," def deploy(self, hostnames=[], serial_flag=False, servicenames=[]): self.playbook.extra_vars = 'kolla_action=deploy' self.playbook.hosts = hostnames self.playbook.serial = serial_flag self.playbook.services = servicenames _run_deploy_rules(self.playbook) job = self.playbook.run() return job ","def deploy(hostnames=[], serial_flag=False, verbose_level=1, servicenames=[]): playbook = AnsiblePlaybook() kolla_home = get_kolla_ansible_home() playbook.playbook_path = os.path.join(kolla_home, 'ansible/site.yml') playbook.extra_vars = 'kolla_action=deploy' playbook.hosts = hostnames playbook.serial = serial_flag playbook.verbose_level = verbose_level playbook.services = servicenames _run_deploy_rules(playbook) job = playbook.run() return job ",11,18
openstack%2Fironic~master~Ib1b1e32bc60d7ec271098dcd17086f79518c09df,openstack/ironic,master,Ib1b1e32bc60d7ec271098dcd17086f79518c09df,CI: stop using pyghmi from git master,MERGED,2019-07-29 14:34:49.000000000,2019-07-30 08:27:23.000000000,2019-07-29 22:11:40.000000000,"[{'_account_id': 9542}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-07-29 14:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/be0816906e3fc40c1704c5e18ad15b603e59b8fd', 'message': '[DNM] Try blocking pyghmi 1.4.0\n\nChange-Id: Ib1b1e32bc60d7ec271098dcd17086f79518c09df\n'}, {'number': 2, 'created': '2019-07-29 14:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7c7cca8d0e4dab0277850e3331f25d1348f19abd', 'message': ""CI: stop using pyghmi from git master\n\nIt's just a library we consume, there is no reason to use its\ngit head. Currently 1.4.0 is breaking us.\n\nStory: #2006301\nTask: #36014\nChange-Id: Ib1b1e32bc60d7ec271098dcd17086f79518c09df\n""}, {'number': 3, 'created': '2019-07-29 15:53:01.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'playbooks/legacy/grenade-dsvm-ironic-multinode-multitenant/run.yaml', 'zuul.d/legacy-ironic-jobs.yaml', 'playbooks/legacy/grenade-dsvm-ironic/run.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/3dfce5f2de6377d74632bb2a7fe3d382ccc629b0', 'message': ""CI: stop using pyghmi from git master\n\nIt's just a library we consume, there is no reason to use its\ngit head. Currently 1.4.0 is breaking us.\n\nStory: #2006301\nTask: #36014\nChange-Id: Ib1b1e32bc60d7ec271098dcd17086f79518c09df\n""}]",0,673301,3dfce5f2de6377d74632bb2a7fe3d382ccc629b0,21,8,3,10239,,,0,"CI: stop using pyghmi from git master

It's just a library we consume, there is no reason to use its
git head. Currently 1.4.0 is breaking us.

Story: #2006301
Task: #36014
Change-Id: Ib1b1e32bc60d7ec271098dcd17086f79518c09df
",git fetch https://review.opendev.org/openstack/ironic refs/changes/01/673301/3 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,be0816906e3fc40c1704c5e18ad15b603e59b8fd,gate," sudo pip install ""pyghmi!=1.4.0""",,1,0
openstack%2Ftacker~master~I4f010420d4278aa538c0b86e9ab8b41cdbe11858,openstack/tacker,master,I4f010420d4278aa538c0b86e9ab8b41cdbe11858,[Trivial Fix],MERGED,2019-07-23 07:38:41.000000000,2019-07-30 08:23:45.000000000,2019-07-30 08:23:45.000000000,"[{'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 26588}]","[{'number': 1, 'created': '2019-07-23 07:38:41.000000000', 'files': ['devstack/lib/tacker'], 'web_link': 'https://opendev.org/openstack/tacker/commit/456e7ef61799d849f159bea4b0487531daf6dda0', 'message': '[Trivial Fix]\n\ntacker cli is depricated since rocky.\nRefactor use of tackr cli from code.\n\nChange-Id: I4f010420d4278aa538c0b86e9ab8b41cdbe11858\n'}]",0,672212,456e7ef61799d849f159bea4b0487531daf6dda0,10,4,1,18955,,,0,"[Trivial Fix]

tacker cli is depricated since rocky.
Refactor use of tackr cli from code.

Change-Id: I4f010420d4278aa538c0b86e9ab8b41cdbe11858
",git fetch https://review.opendev.org/openstack/tacker refs/changes/12/672212/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/tacker'],1,456e7ef61799d849f159bea4b0487531daf6dda0,,"openstack --os-username nfv_user --os-project-name nfv --os-password devstack --os-auth-url ${KEYSTONE_SERVICE_URI} --os-project-domain-name Default --os-user-domain-name Default vim register --is-default --description ""Default VIM"" --config-file $VIM_CONFIG_FILE $DEFAULT_VIM_NAME","tacker --os-username nfv_user --os-project-name nfv --os-password devstack --os-auth-url ${KEYSTONE_SERVICE_URI} --os-project-domain-name Default --os-user-domain-name Default vim-register --is-default --description ""Default VIM"" --config-file $VIM_CONFIG_FILE $DEFAULT_VIM_NAME",1,1
openstack%2Fkuryr~master~Iff96760f90ea1bf71070577ed26ec6767860ea83,openstack/kuryr,master,Iff96760f90ea1bf71070577ed26ec6767860ea83,Update api-ref location,MERGED,2019-07-25 16:06:25.000000000,2019-07-30 08:23:40.000000000,2019-07-30 08:23:40.000000000,"[{'_account_id': 6598}, {'_account_id': 11343}, {'_account_id': 11536}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-07-25 16:06:25.000000000', 'files': ['kuryr/tests/unit/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr/commit/d16ed926852f53092d02b1405e38773c681ee0e0', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: Iff96760f90ea1bf71070577ed26ec6767860ea83\n""}]",0,672768,d16ed926852f53092d02b1405e38773c681ee0e0,9,8,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: Iff96760f90ea1bf71070577ed26ec6767860ea83
",git fetch https://review.opendev.org/openstack/kuryr refs/changes/68/672768/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr/tests/unit/base.py'],1,d16ed926852f53092d02b1405e38773c681ee0e0,retire-api-site, # https://docs.openstack.org/api-ref/network/v2/index.html#create-subnet # noqa # https://docs.openstack.org/api-ref/network/v2/index.html#create-port # noqa, # http://developer.openstack.org/api-ref-networking-v2.html#createSubnet # noqa # http://developer.openstack.org/api-ref-networking-v2.html#createPort # noqa,2,2
openstack%2Fswift~master~I1152c47c52f6482ec877142c96845b00bf6dcc5b,openstack/swift,master,I1152c47c52f6482ec877142c96845b00bf6dcc5b,py3: Fix title-casing in HeaderKeyDict,MERGED,2019-07-25 18:09:45.000000000,2019-07-30 08:14:52.000000000,2019-07-30 08:13:26.000000000,"[{'_account_id': 597}, {'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-25 18:09:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b1c6fb2759b475ed21a76f3f17306b626b6a46fd', 'message': 'py3: Fix title-casing in HeaderKeyDict\n\nChange-Id: I1152c47c52f6482ec877142c96845b00bf6dcc5b\nRelated-Change: I130ba5014b7eff458d87ab29eb42fe45607c9a12\n'}, {'number': 2, 'created': '2019-07-25 18:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/077787a760b546bbd87a203c836c8a549ee4b70a', 'message': 'py3: Fix title-casing in HeaderKeyDict\n\nChange-Id: I1152c47c52f6482ec877142c96845b00bf6dcc5b\nRelated-Change: I130ba5014b7eff458d87ab29eb42fe45607c9a12\n'}, {'number': 3, 'created': '2019-07-25 19:55:11.000000000', 'files': ['swift/common/middleware/s3api/controllers/obj.py', 'test/unit/common/middleware/s3api/test_obj.py', 'test/unit/common/test_header_key_dict.py', 'test/unit/obj/test_updater.py', 'swift/common/header_key_dict.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/60c27d3aef6e7412b41e04445d72aa62ea9883d3', 'message': 'py3: Fix title-casing in HeaderKeyDict\n\nChange-Id: I1152c47c52f6482ec877142c96845b00bf6dcc5b\nRelated-Change: I130ba5014b7eff458d87ab29eb42fe45607c9a12\n'}]",3,672803,60c27d3aef6e7412b41e04445d72aa62ea9883d3,13,4,3,15343,,,0,"py3: Fix title-casing in HeaderKeyDict

Change-Id: I1152c47c52f6482ec877142c96845b00bf6dcc5b
Related-Change: I130ba5014b7eff458d87ab29eb42fe45607c9a12
",git fetch https://review.opendev.org/openstack/swift refs/changes/03/672803/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_header_key_dict.py', 'swift/common/header_key_dict.py']",2,b1c6fb2759b475ed21a76f3f17306b626b6a46fd,,"def _title(s): if six.PY2: return s.title() else: return s.encode('latin1').title().decode('latin1') Note that all keys and values are expected to be wsgi strings, though some allowances are made when setting values. self[_title(key)] = other[key] self[_title(key)] = value return dict.get(self, _title(key)) self.pop(_title(key), None) elif six.PY2 and isinstance(value, six.text_type): return dict.__setitem__(self, _title(key), value.encode('utf-8')) elif six.PY3 and isinstance(value, six.binary_type): return dict.__setitem__(self, _title(key), value.decode('latin-1')) else: return dict.__setitem__(self, _title(key), str(value)) return dict.__contains__(self, _title(key)) return dict.__delitem__(self, _title(key)) return dict.get(self, _title(key), default) return dict.pop(self, _title(key), default)"," self[key.title()] = other[key] self[key.title()] = value return dict.get(self, key.title()) self.pop(key.title(), None) elif six.PY2 and isinstance(value, six.text_type): return dict.__setitem__(self, key.title(), value.encode('utf-8')) elif six.PY3 and isinstance(value, six.binary_type): return dict.__setitem__(self, key.title(), value.decode('latin-1')) else: return dict.__setitem__(self, key.title(), str(value)) return dict.__contains__(self, key.title()) return dict.__delitem__(self, key.title()) return dict.get(self, key.title(), default) return dict.pop(self, key.title(), default)",36,11
openstack%2Fopenstack-ansible-os_gnocchi~master~I06bbcb2f15108fc517742208ac5291719627ffe2,openstack/openstack-ansible-os_gnocchi,master,I06bbcb2f15108fc517742208ac5291719627ffe2,Migrate gnocchi to use uWSGI,MERGED,2019-07-25 12:03:21.000000000,2019-07-30 08:04:57.000000000,2019-07-30 08:04:57.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-25 12:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/f4e68f14909be9de84ffe955fb450fce3a2c2acb', 'message': ""Fix gnocchi wsgi scrpt\n\nGnocchi wsgi launch method has changed a bit, so we're bringing it\ninto accordance with gnocchi-api binary\n\nChange-Id: I06bbcb2f15108fc517742208ac5291719627ffe2\n""}, {'number': 2, 'created': '2019-07-25 14:06:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/61db936eb75f3eff9ba73e025092cca70eb6d41c', 'message': ""Fix gnocchi launch\n\nGnocchi wsgi launch method has changed a bit, so we're bringing it\ninto accordance with gnocchi-api binary\n\nSince gnocchi is using apache, it's logs should be forwarded as well.\nOtherwise apache will fail to start with undefined log directory.\n\nChange-Id: I06bbcb2f15108fc517742208ac5291719627ffe2\n""}, {'number': 3, 'created': '2019-07-25 19:47:58.000000000', 'files': ['releasenotes/notes/use_uwsgi-298612ec01592808.yaml', 'tasks/gnocchi_post_install.yml', 'templates/gnocchi-ports.conf.j2', 'tasks/main.yml', 'templates/gnocchi-uwsgi.ini.j2', 'templates/gnocchi-wsgi.py.j2', 'vars/debian.yml', 'handlers/main.yml', 'tasks/gnocchi_pre_install.yml', 'defaults/main.yml', 'tests/os_gnocchi-overrides.yml', 'tasks/gnocchi_apache.yml', 'vars/redhat-7.yml', 'templates/gnocchi-httpd.conf.j2', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/57b88ebc65e516322a0268509816ec1b8640b1db', 'message': ""Migrate gnocchi to use uWSGI\n\nThis patch moves gnocchi-api from usage of apache with mod_wsgi\nto uWSGI, which means unification across another roles and\nreduced maintenance costs\n\nDuring migration period tasks that ensures apache won't listen\non gnocchi_service_port are present, but they are supposed to be removed\nafter train release.\n\nDepends-On: https://review.opendev.org/671988\nChange-Id: I06bbcb2f15108fc517742208ac5291719627ffe2\n""}]",0,672706,57b88ebc65e516322a0268509816ec1b8640b1db,18,4,3,28619,,,0,"Migrate gnocchi to use uWSGI

This patch moves gnocchi-api from usage of apache with mod_wsgi
to uWSGI, which means unification across another roles and
reduced maintenance costs

During migration period tasks that ensures apache won't listen
on gnocchi_service_port are present, but they are supposed to be removed
after train release.

Depends-On: https://review.opendev.org/671988
Change-Id: I06bbcb2f15108fc517742208ac5291719627ffe2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/06/672706/3 && git format-patch -1 --stdout FETCH_HEAD,['templates/gnocchi-wsgi.py.j2'],1,f4e68f14909be9de84ffe955fb450fce3a2c2acb,use_uwsgi,from gnocchi.cli import api application = api.wsgi(),from gnocchi.rest import app from gnocchi import service application = app.load_app(service.prepare_service()),2,3
openstack%2Fcloudkitty~master~I89ff3af5de275dcfeef7a0411ec0fb9d4df58ab3,openstack/cloudkitty,master,I89ff3af5de275dcfeef7a0411ec0fb9d4df58ab3,Make cloudkitty timezone-aware,MERGED,2019-07-04 14:28:45.000000000,2019-07-30 08:03:38.000000000,2019-07-30 08:03:38.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-07-04 14:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/99d835b2215b4e84421e2f6af64d2faf9aa26fd5', 'message': 'Make cloudkitty timezone-aware\n\nThis makes the naive datetime objects used in the codebase timezone-aware.\n\nChange-Id: I89ff3af5de275dcfeef7a0411ec0fb9d4df58ab3\nStory: 2005319\nTask: 30238\n'}, {'number': 2, 'created': '2019-07-05 08:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/93be768b59958c429b80e4f8df6a4a69a7f30a5c', 'message': 'Make cloudkitty timezone-aware\n\nThis makes the naive datetime objects used in the codebase timezone-aware.\n\nChange-Id: I89ff3af5de275dcfeef7a0411ec0fb9d4df58ab3\nStory: 2005319\nTask: 30238\n'}, {'number': 3, 'created': '2019-07-05 09:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/b457c471690b3eddccf4ea912194c4d1dc40e90a', 'message': 'Make cloudkitty timezone-aware\n\nThis makes the naive datetime objects used in the codebase timezone-aware.\n\nChange-Id: I89ff3af5de275dcfeef7a0411ec0fb9d4df58ab3\nStory: 2005319\nTask: 30238\n'}, {'number': 4, 'created': '2019-07-05 09:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/b896284cfc37758d304f8c29739b923f573c0d46', 'message': 'Make cloudkitty timezone-aware\n\nThis makes the naive datetime objects used in the codebase timezone-aware.\n\nChange-Id: I89ff3af5de275dcfeef7a0411ec0fb9d4df58ab3\nStory: 2005319\nTask: 30238\n'}, {'number': 5, 'created': '2019-07-19 09:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/b16f9cc28ab3d3edeca028ddba9b6286686cdbb2', 'message': 'Make cloudkitty timezone-aware\n\nThis makes the naive datetime objects used in the codebase timezone-aware.\n\nChange-Id: I89ff3af5de275dcfeef7a0411ec0fb9d4df58ab3\nStory: 2005319\nTask: 30238\n'}, {'number': 6, 'created': '2019-07-24 12:13:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/86eb901108c312af2655e610df4624c881b7b171', 'message': 'Make cloudkitty timezone-aware\n\nThis makes the naive datetime objects used in the codebase timezone-aware.\n\nChange-Id: I89ff3af5de275dcfeef7a0411ec0fb9d4df58ab3\nStory: 2005319\nTask: 30238\n'}, {'number': 7, 'created': '2019-07-24 14:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/5783a9960021c608226fb7b0c24c8ef7e9849e4c', 'message': 'Make cloudkitty timezone-aware\n\nThis makes the naive datetime objects used in the codebase timezone-aware.\n\nChange-Id: I89ff3af5de275dcfeef7a0411ec0fb9d4df58ab3\nStory: 2005319\nTask: 30238\n'}, {'number': 8, 'created': '2019-07-29 08:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/73d406814938f1c1e97123520d3141ff01a65568', 'message': 'Make cloudkitty timezone-aware\n\nThis makes the naive datetime objects used in the codebase timezone-aware.\n\nChange-Id: I89ff3af5de275dcfeef7a0411ec0fb9d4df58ab3\nStory: 2005319\nTask: 30238\n'}, {'number': 9, 'created': '2019-07-29 09:56:23.000000000', 'files': ['cloudkitty/tzutils.py', 'cloudkitty/api/v1/controllers/storage.py', 'cloudkitty/api/v2/scope/state.py', 'cloudkitty/tests/storage/v2/influx_utils.py', 'cloudkitty/api/v1/controllers/report.py', 'cloudkitty/orchestrator.py', 'cloudkitty/tests/gabbi/fixtures.py', 'cloudkitty/tests/storage/v2/test_storage_unit.py', 'cloudkitty/storage_state/__init__.py', 'cloudkitty/tests/test_orchestrator.py', 'cloudkitty/utils.py', 'cloudkitty/tests/storage/v1/test_storage.py', 'cloudkitty/storage/__init__.py', 'cloudkitty/api/v2/summary/summary.py', 'cloudkitty/storage/v2/influx.py', 'releasenotes/notes/make-cloudkitty-timezone-aware-2b65edc42e913d6c.yaml', 'cloudkitty/tests/utils.py', 'cloudkitty/tests/gabbi/gabbits/no_auth.yaml', 'cloudkitty/json_utils.py', 'cloudkitty/tests/test_json.py', 'cloudkitty/tests/test_tzutils.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/e552c3851fa4bb98096228a89613ceb823d45e72', 'message': 'Make cloudkitty timezone-aware\n\nThis makes the naive datetime objects used in the codebase timezone-aware.\n\nChange-Id: I89ff3af5de275dcfeef7a0411ec0fb9d4df58ab3\nStory: 2005319\nTask: 30238\n'}]",0,669192,e552c3851fa4bb98096228a89613ceb823d45e72,24,3,9,23060,,,0,"Make cloudkitty timezone-aware

This makes the naive datetime objects used in the codebase timezone-aware.

Change-Id: I89ff3af5de275dcfeef7a0411ec0fb9d4df58ab3
Story: 2005319
Task: 30238
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/92/669192/8 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/tzutils.py', 'cloudkitty/api/v1/controllers/storage.py', 'cloudkitty/tests/storage/v2/influx_utils.py', 'cloudkitty/api/v1/controllers/report.py', 'cloudkitty/orchestrator.py', 'cloudkitty/tests/gabbi/fixtures.py', 'cloudkitty/tests/storage/v2/test_storage_unit.py', 'cloudkitty/storage_state/__init__.py', 'cloudkitty/utils.py', 'cloudkitty/tests/storage/v1/test_storage.py', 'cloudkitty/storage/__init__.py', 'cloudkitty/api/v2/summary/summary.py', 'cloudkitty/storage/v2/influx.py', 'releasenotes/notes/make-cloudkitty-timezone-aware-2b65edc42e913d6c.yaml', 'cloudkitty/tests/utils.py', 'cloudkitty/tests/gabbi/gabbits/no_auth.yaml', 'cloudkitty/tests/test_tzutils.py']",17,99d835b2215b4e84421e2f6af64d2faf9aa26fd5,add-tzinfo,"# Copyright 2019 Objectif Libre # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # import datetime import unittest from dateutil import tz from oslo_utils import timeutils from cloudkitty import tzutils from cloudkitty import utils class TestTZUtils(unittest.TestCase): def setUp(self): self.local_now = tzutils.localized_now() self.naive_now = utils.utcnow().replace(microsecond=0) def test_localized_now(self): self.assertEqual( self.local_now.astimezone(tz.UTC).replace(tzinfo=None), self.naive_now) self.assertIsNotNone(self.local_now.tzinfo) def test_local_to_utc_naive(self): naive_local = tzutils.local_to_utc(self.local_now, naive=True) naive_naive = tzutils.local_to_utc(self.naive_now, naive=True) self.assertIsNone(naive_local.tzinfo) self.assertIsNone(naive_naive.tzinfo) self.assertEqual(naive_local, naive_naive) def test_local_to_utc_not_naive(self): local = tzutils.local_to_utc(self.local_now) naive = tzutils.local_to_utc(self.naive_now) self.assertIsNotNone(local.tzinfo) self.assertIsNotNone(naive.tzinfo) self.assertEqual(local, naive) def test_utc_to_local(self): self.assertEqual(tzutils.utc_to_local(self.naive_now), self.local_now) def test_dt_from_iso(self): tester = '2019-06-06T16:30:54+02:00' tester_utc = '2019-06-06T14:30:54+00:00' self.assertEqual(tzutils.dt_from_iso(tester).isoformat(), tester) self.assertEqual(tzutils.dt_from_iso(tester, as_utc=True).isoformat(), tester_utc) def _test_add_delta(self, obj, tzone): delta = datetime.timedelta(seconds=3600) naive = obj.astimezone(tz.UTC).replace(tzinfo=None) self.assertEqual( tzutils.add_delta(obj, delta).astimezone(tzone), (naive + delta).replace(tzinfo=tz.UTC).astimezone(tzone), ) def test_add_delta_summertime(self): tzone = tz.gettz('Europe/Paris') obj = datetime.datetime(2019, 3, 31, 1, tzinfo=tzone) self._test_add_delta(obj, tzone) def test_add_delta(self): tzone = tz.gettz('Europe/Paris') obj = datetime.datetime(2019, 1, 1, tzinfo=tzone) self._test_add_delta(obj, tzone) def test_get_month_start_no_arg(self): naive_utc_now = timeutils.utcnow() naive_month_start = datetime.datetime( naive_utc_now.year, naive_utc_now.month, 1) month_start = tzutils.get_month_start() self.assertIsNotNone(month_start.tzinfo) self.assertEqual( naive_month_start, month_start.replace(tzinfo=None)) def test_get_month_start_with_arg(self): param = datetime.datetime(2019, 1, 3, 4, 5) month_start = tzutils.get_month_start(param) self.assertIsNotNone(month_start.tzinfo) self.assertEqual(month_start.replace(tzinfo=None), datetime.datetime(2019, 1, 1)) ",,342,81
openstack%2Ftacker-specs~master~I0dd8a0757ab21fb8f681495de6acf77fd1e3c3c8,openstack/tacker-specs,master,I0dd8a0757ab21fb8f681495de6acf77fd1e3c3c8,Develop Prometheus plugin for Tacker VNFM to monitor both vm-based and container-based VNFs.,ABANDONED,2019-07-30 08:02:56.000000000,2019-07-30 08:03:35.000000000,,[],"[{'number': 1, 'created': '2019-07-30 08:02:56.000000000', 'files': ['specs/train/prometheus-plugin.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/4f6e31c39ff2be7f90452be8bc188ffa541db52e', 'message': 'Develop Prometheus plugin for Tacker VNFM to monitor both vm-based and container-based VNFs.\n\nChange-Id: I0dd8a0757ab21fb8f681495de6acf77fd1e3c3c8\n'}]",0,673434,4f6e31c39ff2be7f90452be8bc188ffa541db52e,2,0,1,27334,,,0,"Develop Prometheus plugin for Tacker VNFM to monitor both vm-based and container-based VNFs.

Change-Id: I0dd8a0757ab21fb8f681495de6acf77fd1e3c3c8
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/34/673434/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/prometheus-plugin.rst'],1,4f6e31c39ff2be7f90452be8bc188ffa541db52e,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ===================================================== Prometheus plugin for container-based VNFs monitoring ===================================================== https://blueprints.launchpad.net/tacker/+spec/prometheus-plugin Develop a Prometheus plugin in Tacker VNFM to monitor container-based VNFs. Problem description =================== The current monitoring drivers of Tacker can only handle a limited number of system properties such as Ceilometer only supports hardware infrastructure resource-related parameters (e.g. CPU or memory usage). Other drivers such as ping and http_ping drivers support basic checking for VNFs reachability. Therefore, to guarantee the availability and stability of network services provided by VNFs which are in form of VMs or containers, a more sophisticated monitoring tool is required for Tacker VNFM. Prometheus is an extensible open source monitoring system. Because it stores all the data in a time series database, Prometheus can offers a multi-dimensional data-model and a powerful query language, allowing system administrators to not only easily fine tune the definitions of their metrics, but also generate more accurate reports. Prometheus can monitor the following targets: * Machines: the Node Exporter [#f1]_ exposes an extensive set of machine-level metrics on Linux and other Unix systems such as CPU usage, memory, disk utilization, filesystem fullness, and network bandwidth. * Network devices: the SNMP Exporter [#f2]_ allows monitoring of devices that support SNMP. * Batch jobs: using the Pushgateway [#f3]_. See also the best practices [#f4]_ for monitoring batch jobs. * Many applications that Prometheus can monitor out of the box [#f5]_ * Containers and container ochestrators such as Kubernetes. This is supported by integrating with cAdvisor as exporter. * Custom monitoring targets using Prometheus client libraries [#f6]_ Depends on what kind of application you would deploy to a VNF, the Prometheus driver will download and install a specific exporter for that VNF. If that application is not supported yet, an exception will be raised. Its client libraries can be plugged into each VDU to expose the pre-defined metric data for Prometheus server to pull. Those clients are called exporters for services. Prometheus then uses the data it gets to offer visual monitoring graphs, maps and provides triggers and send alerts to the Alertmanager [#f7]_ to promptly notify when a user-defined threshold value is exceeded. Depending on these triggers, user-defined commands/scripts can be performed to quickly recover from the failure. User-defined commands can be executed through the exporter in the VDU. In addition, Prometheus's time series data can be used to build a more sophisticated alert thresholds that served in the more complex situations. By using this Prometheus plugin, Tacker can add these features to its VNF monitoring: * Infrastructure monitoring (both containerized-vim and original-vim) * Application monitoring (for now, only possible to VM applications) * Collected data can be graphically displayed * Custom trigger conditions can be set for alerting Proposed changes ================ Template Policy, Service Monitoring Driver and Prometheus Plugin are required for interoperation with Prometheus. In Tacker, the IP address, name, etc. for the targeted VDU must be transmitted to the Prometheus server using the instrumented client. Also, it is necessary to transmit a request for generating Template, Item, Alert, Graph, etc... for monitoring the server/container through the exporters. In addition, Service Monitoring Policy should be defined in Tosca-Template to allow user to define conditional value to trigger notification about the monitored application, CPU load, and status. Prometheus can collect data (CPU, RAM, disk, network usage) from VNFs using special exporters that are installed in each single VM/container. We monitor and get all the information from Grafana, Prometheus's frontend dashboard, as graphs or maps. In Tacker VNF descriptor, the user defines Prometheus node exporter via user-data, user also defines policies and resources for Prometheus such as thresholds, which metrics will be monitored, etc. .. code-block:: yaml prom_monitoring_policy: name: prometheus prometheus_server_ip: 192.168.10.254 prometheus_server_port: 9090 prometheus_server_targets_path: '/etc/prometheus/tacker_targets.yaml' target_exporter_port: 9100 parameters: alert: alert_memory: condition: node_memory_Active > 10000 for: 5s labels: severity: major annotations: summary: ""High Memory Usage on {{ $labels.instance }}"" description: ""{{ $labels.job }} Memory Usage: {{ $value }}"" alert_memory: condition: node_memory_Active > 10000 for: 5s labels: severity: major annotations: summary: ""High Memory Usage on {{ $labels.instance }}"" description: ""{{ $labels.job }} Memory Usage: {{ $value }}"" We can create some triggers with alert parameter. And the triggers can be configured by providing the necessary information for the alerts parameter. * prometheus_server_ip : it receives the ip of the server where prometheus is installed. * prometheus_server_port : it receives the port that prometheus is listening on. And when the new node information is registered, the path of the file added to the Prometheus is automatically written. And the port number used by the exporter also should be written. * alert_memory : The name of the alert. In this case, checks your node's memory. * condition : The PromQL expression to evaluate. Every evaluation cycle this is evaluated at the current time, and the result recorded as a new set of time series with the metric name. * for : The 'for' clause causes Prometheus to wait for a certain duration between first encountering a new expression output vector element and counting an alert as firing for this element. * labels : The 'labels' clause allows specifying a set of additional labels to be attached to be attached to the alert. Any existing conflicting labels will be overwritten. The label values can be templated. * severity : Defines the severity of this alert. * summary : The title of the alert. * description : The description of this alert. You can view alerts in the AlertManager dashboard when the alerts issued. .. code-block:: console user_data: | #!/bin/bash cp /etc/hosts /etc/hosts.org echo ""127.0.0.1 localhost $HOSTNAME"" > /etc/hosts wget https://github.com/prometheus/node_exporter/releases/download/v0.15.2/node_exporter-0.15.2.linux-amd64.tar.gz tar -xf node_exporter-0.15.2.linux-amd64.tar.gz mv node_exporter-0.15.2.linux-amd64/node_exporter /usr/local/bin useradd -rs /bin/false node_exporter touch /etc/systemd/system/node_exporter.service echo ""[Unit]"" >> /etc/systemd/system/node_exporter.service echo ""Description=Node Exporter"" >> /etc/systemd/system/node_exporter.service echo ""After=network.target"" >> /etc/systemd/system/node_exporter.service echo ""[Service]"" >> /etc/systemd/system/node_exporter.service echo ""User=node_exporter"" >> /etc/systemd/system/node_exporter.service echo ""Group=node_exporter"" >> /etc/systemd/system/node_exporter.service echo ""Type=simple"" >> /etc/systemd/system/node_exporter.service echo ""ExecStart=/usr/local/bin/node_exporter"" >> /etc/systemd/system/node_exporter.service echo ""[Install]"" >> /etc/systemd/system/node_exporter.service echo ""WantedBy=multi-user.target"" >> /etc/systemd/system/node_exporter.service systemctl daemon-reload systemctl enable node_exporter systemctl start node_exporter echo 'ubuntu:ubuntu' | chpasswd echo 'root:root' | chpasswd The above command lines are the scripts that install the node exporter. If necessary, you can install it by replacing the above lines with another exporter. After the installation finished, configure the system daemon to ensure that the exporter is always running even when VDU is rebooted. The echo command line is the process of creating the systemd file needed to run exporter as a daemon. As a result of this process, the node exporter is installed, Prometheus plugin is activated, and installed VNF's mgmt ip is read and registered in Prometheus. Also, based on the information of alert rules, it can provide users the alerts of the monitored results that users want. Tacker collects the status of VDU. If VDU responds to Respwan action in policy or an additional VDU needs to be created for scaling, information about additional VDU is registered as a new monitoring host by requesting Prometheus server for IP information of new VDU through Prometheus exporters. The same mechanism should also be applied when a VDU need to be deleted. The overall workflow is as follow: :: +----------------+ +--------------+ +-------------------------+ | | | | | | | Grafana Web UI | | Alertmanager | | Tosca_template.yaml | | | | | | | +-------^--------+ +^-------------+ +-----+-------------------+ | | | +-------v--------+ | +------------------v-------------------+ | | | | Tacker | | <--+ | +----------------------------------+ | | | | | VNFM | | | | | | +-------------+ +------------+ | | | Prometheus | | | | | | Service | | | | Server | | | | Prometheus | | Monitoring | | | | <---------> Plugin <---+ Driver | | | | | | | | | | | | | | | | | +-------------+ +------------+ | | | | | +----------------------------------+ | +--^----------^--+ +--------------------------------------+ | | | +-------------------------------------+ +--------+ | +-----------|---------------------------------------|---------+ | | NFVI | | | +---------|---------------------------------------|-------+ | | | | VNF / c-VNF | | | | | +-------|----------------+ +------------------|-----+ | | | | | | VDU | | C-VDU | | | | | | | +-----+--------------+ | | +----------------+---+ | | | | | | | Exporters | | | | kube-state-metrics | | | | | | | +-----^--------------+ | | +----------------^---+ | | | | | | | | | | | | | | | | +-----v--------------+ | | +----------------v---+ | | | | | | | Application / OS / | | | | Pod / Container | | | | | | | | or container Info | | | | Containerzied | | | | | | | | Or user define | | | | Applications | | | | | | | +--------------------+ | | +--------------------+ | | | | | +------------------------+ +------------------------+ | | | +---------------------------------------------------------+ | +-------------------------------------------------------------+ The Prometheus server requests the Prometheus instrumented jobs or exporters built in each VDU to monitor the items to be collected, and the Prometheus instrumented jobs or exporters execute the monitoring script for the embedded item. The collected data is sent to the Prometheus server by the Prometheus exporter, which determines whether the trigger is generated. Triggers can be generated according to the average value of collected data and so on. Tacker VNFM requires Prometheus Server with Service Monitoring Driver and Prometheus Plugin for data exchange. Normally, Prometheus Server uses pull method to collect data so a modification on Prometheus Server side need to be made. This allows VDU to be monitored. The Service Monitoring Driver extracts the service monitoring policy from the Tosca template and makes it into a dictionary and delivers it to the Prometheus Plugin. Prometheus Plugin generates a new configuration file which defines the generated VDU as monitoring host. That configuration file also includes an action trigger value and application information to perform monitoring for each VDU. Prometheus server then use the file-based service discovery [#f10]_ to collect the above file and add a new monitoring host. All of these processes require authentication. In order for Prometheus to monitor the containers, cAdvisor (Container Advisor) [#f8]_ need to be installed as well. cAdvisor provides container users an understanding of the resource usage and performance characteristics of their running containers. It is a running daemon that collects, aggregates, processes, and exports information about running containers. Specifically, for each container it keeps resource isolation parameters, historical resource usage, histograms of complete historical resource usage and network statistics. This data is exported by container and machine-wide. And, the most important thing is cAdvisor has native support for Docker containers and other container type out of the box. Alternatives ------------ * Zabbix with Zabbix Tacker monitoring plugin [#f9]_ Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Jaewook Oh <kyle.oh95@gmail.com> Other contributors: Trinh Nguyen <dangtrinhnt@gmail.com> Work Items ---------- 1. Prometheus-plugin in monitoring_driver 2. Plugin in VNFM for the called Prometheus-plugin 3. Additional features in the alarm-receiver for receiving alerts from the Prometheus server or Alert Manager 4. Authentication information for requesting Prometheus server from Prometheus-plugin in tacker.conf 5. Extract app_monitoring_policy defined in template from utils, translate_template Dependencies ============ * Prometheus-Server Installation * Prometheus-AlertManager Installation * Prometheus-Exporter (Node Exporter, cAdvisor) Installation * Grafana Installation (Prometheus's front end interface) Testing ======= * Add test function for vnf service (for both VM and container) monitoring * Performance test for vnf failure recovery and detection in Prometheus * Service monitoring policy based on the overall workflow test Documentation Impact ==================== None References ========== .. [#first] https://prometheus.io/docs/introduction/overview/ .. [#second] https://docs.docker.com/config/thirdparty/prometheus/ .. [#third] https://medium.com/@timfpark/simple-kubernetes-cluster-monitoring-with-prometheus-and-grafana-dd27edb1641 .. [#fourth] http://blog.wercker.com/how-to-setup-alerts-on-prometheus .. [#fifth] https://ordina-jworks.github.io/monitoring/2016/09/23/Monitoring-with-Prometheus.html#alert-alert .. rubric:: Footnotes .. [#f1] https://github.com/prometheus/node_exporter .. [#f2] https://github.com/prometheus/snmp_exporter .. [#f3] https://prometheus.io/docs/instrumenting/pushing/ .. [#f4] https://prometheus.io/docs/practices/instrumentation/#batch-jobs .. [#f5] https://prometheus.io/docs/instrumenting/exporters/ .. [#f6] https://prometheus.io/docs/instrumenting/clientlibs/ .. [#f7] https://prometheus.io/docs/alerting/overview/ .. [#f8] https://github.com/google/cadvisor .. [#f9] https://github.com/openstack/tacker-specs/blob/master/specs/queens/zabbix-plugin.rst .. [#f10] https://prometheus.io/docs/prometheus/latest/configuration/configuration/#file_sd_config ",,373,0
openstack%2Fhorizon~master~I3977861148422453645e2894bfc12bdcf21e364f,openstack/horizon,master,I3977861148422453645e2894bfc12bdcf21e364f,Make evacuate successful if target is not selected,NEW,2019-06-26 03:06:25.000000000,2019-07-30 07:42:06.000000000,,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-06-26 03:06:25.000000000', 'files': ['openstack_dashboard/api/nova.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/c8af475526bfc1ab14e49d9e1680513ddc05be01', 'message': 'Make evacuate successful if target is not selected\n\nChange-Id: I3977861148422453645e2894bfc12bdcf21e364f\n'}]",1,667496,c8af475526bfc1ab14e49d9e1680513ddc05be01,8,4,1,30199,,,0,"Make evacuate successful if target is not selected

Change-Id: I3977861148422453645e2894bfc12bdcf21e364f
",git fetch https://review.opendev.org/openstack/horizon refs/changes/96/667496/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/api/nova.py'],1,c8af475526bfc1ab14e49d9e1680513ddc05be01,bug/1793694," if target == """": target = None",,2,0
openstack%2Fcinder~stable%2Fqueens~I33feda3737a156d84d7c3c320c69e9367a1d4a09,openstack/cinder,stable/queens,I33feda3737a156d84d7c3c320c69e9367a1d4a09,volume list function enhancement,ABANDONED,2019-07-30 03:16:36.000000000,2019-07-30 07:25:10.000000000,,"[{'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 19933}, {'_account_id': 22348}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2019-07-30 03:16:36.000000000', 'files': ['cinder/objects/volume.py', 'cinder/db/api.py', 'cinder/api/v3/query_volumes.py', 'cinder/db/sqlalchemy/api.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/69fea1a18f69cf1ef71acdfb0c335c811517d936', 'message': 'volume list function enhancement\n\nChange-Id: I33feda3737a156d84d7c3c320c69e9367a1d4a09\n'}]",0,673391,69fea1a18f69cf1ef71acdfb0c335c811517d936,9,7,1,30754,,,0,"volume list function enhancement

Change-Id: I33feda3737a156d84d7c3c320c69e9367a1d4a09
",git fetch https://review.opendev.org/openstack/cinder refs/changes/91/673391/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/objects/volume.py', 'cinder/api/v3/query_volumes.py', 'cinder/db/api.py', 'cinder/db/sqlalchemy/api.py', 'cinder/volume/api.py']",5,69fea1a18f69cf1ef71acdfb0c335c811517d936,," def query_get_all(self, context, marker=None, limit=None, sort_keys=None, sort_dirs=None, filters=None, viewable_admin_meta=False, offset=None, volume_id_test=None, user_id_test=None): context.authorize(vol_policy.GET_ALL_POLICY) if filters is None: filters = {} allTenants = utils.get_bool_param('all_tenants', filters) try: if limit is not None: limit = int(limit) if limit < 0: msg = _('limit param must be positive') raise exception.InvalidInput(reason=msg) except ValueError: msg = _('limit param must be an integer') raise exception.InvalidInput(reason=msg) # Non-admin shouldn't see temporary target of a volume migration, add # unique filter data to reflect that only volumes with a NULL # 'migration_status' or a 'migration_status' that does not start with # 'target:' should be returned (processed in db/sqlalchemy/api.py) if not context.is_admin: filters['no_migration_targets'] = True if filters: LOG.debug(""Searching by: %s."", six.text_type(filters)) if context.is_admin and allTenants: # Need to remove all_tenants to pass the filtering below. del filters['all_tenants'] volumes = objects.VolumeList.get_all(context, marker, limit, sort_keys=sort_keys, sort_dirs=sort_dirs, filters=filters, offset=offset) else: if viewable_admin_meta: context = context.elevated() volumes = objects.VolumeList.query_get_all_by_project( context, context.project_id, marker, limit, sort_keys=sort_keys, sort_dirs=sort_dirs, filters=filters, offset=offset, volume_id_test=volume_id_test, user_id_test=user_id_test) LOG.info(""Get all volumes completed successfully."") return volumes ",,399,0
openstack%2Fheat~stable%2Fstein~I0f6a30e06bb214bb673930b31a2db946600926b0,openstack/heat,stable/stein,I0f6a30e06bb214bb673930b31a2db946600926b0,Show an engine as down if service record is not updated twice,MERGED,2019-07-29 04:53:16.000000000,2019-07-30 07:16:15.000000000,2019-07-30 07:16:15.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-29 04:53:16.000000000', 'files': ['heat/tests/test_common_service_utils.py', 'heat/common/service_utils.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/98bacfb9dcb65472b35a5af4eb8a43e9531b4dc2', 'message': ""Show an engine as down if service record is not updated twice\n\nWe use the same periodic_interval to update the service record\nand compare it with current time when doing 'service list'. So, It's\npossible there will be a small window where 'service list' would show\nthe engine as down. Tools that use service list for monitoring would\nwrongly assume the service as down. Let's change service list to\nreport the service as down if it's not updated in 2*periodic_interval.\n\nChange-Id: I0f6a30e06bb214bb673930b31a2db946600926b0\nTask: 35946\n(cherry picked from commit fd23308f6ec20e4441d8da486a4f6930a2ba366d)\n""}]",0,673205,98bacfb9dcb65472b35a5af4eb8a43e9531b4dc2,14,3,1,8833,,,0,"Show an engine as down if service record is not updated twice

We use the same periodic_interval to update the service record
and compare it with current time when doing 'service list'. So, It's
possible there will be a small window where 'service list' would show
the engine as down. Tools that use service list for monitoring would
wrongly assume the service as down. Let's change service list to
report the service as down if it's not updated in 2*periodic_interval.

Change-Id: I0f6a30e06bb214bb673930b31a2db946600926b0
Task: 35946
(cherry picked from commit fd23308f6ec20e4441d8da486a4f6930a2ba366d)
",git fetch https://review.opendev.org/openstack/heat refs/changes/05/673205/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_common_service_utils.py', 'heat/common/service_utils.py']",2,98bacfb9dcb65472b35a5af4eb8a43e9531b4dc2,, last_updated = service.updated_at or service.created_at check_interval = (timeutils.utcnow() - last_updated).total_seconds() if check_interval <= 2 * service.report_interval: status = 'up', if service.updated_at is not None: if ((timeutils.utcnow() - service.updated_at).total_seconds() <= service.report_interval): status = 'up' else: if ((timeutils.utcnow() - service.created_at).total_seconds() <= service.report_interval): status = 'up',10,14
openstack%2Ftripleo-heat-templates~master~Id01951bca724417db91225efeaaeb1b85e06eb70,openstack/tripleo-heat-templates,master,Id01951bca724417db91225efeaaeb1b85e06eb70,Moving NeutronMechanismDrivers value to be list in neutron-ml2-mlnx-sdn.yaml,MERGED,2019-07-10 08:23:39.000000000,2019-07-30 07:00:18.000000000,2019-07-29 16:31:32.000000000,"[{'_account_id': 6926}, {'_account_id': 12171}, {'_account_id': 14985}, {'_account_id': 16690}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-10 08:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/914d3fa9cf6a806b1cf14ba6bc6cb8beefc546c6', 'message': 'Moving all NeutronMechanismDrivers value to be list not a string\n\nHaving NeutronMechanismDrivers as a string may cause issues\nspecially with non-ovn deployments and if the value contains a\nsub-string(ovn) like sriovnicswitch, so this condition [1]\nwill be achieved even the deployment is not ovn\n./deployment/neutron/neutron-api-container-puppet.yaml#L172\n\nChange-Id: Id01951bca724417db91225efeaaeb1b85e06eb70\nRelated-Bug: #1836011\n'}, {'number': 2, 'created': '2019-07-23 06:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5094f752c20fe9fc016539cb1eef815c9efb7cfc', 'message': 'Moving NeutronMechanismDrivers value to be list not a string\n\nHaving NeutronMechanismDrivers as a string causing issues\nspecially with non-ovn deployments and if the value contains a\nsub-string(ovn) like sriovnicswitch\n\nChange-Id: Id01951bca724417db91225efeaaeb1b85e06eb70\nRelated-Bug: #1836011\n'}, {'number': 3, 'created': '2019-07-23 06:43:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2b267e0a292e722459f3e8326f9e222e37b7f8ad', 'message': 'Moving NeutronMechanismDrivers value to be list not a string\n\nHaving NeutronMechanismDrivers as a string causing issues\nspecially with non-ovn deployments and if the value contains a\nsub-string(ovn) like sriovnicswitch\n\nChange-Id: Id01951bca724417db91225efeaaeb1b85e06eb70\nRelated-Bug: #1836011\n'}, {'number': 4, 'created': '2019-07-29 06:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fa4ec9671464ed6de9dc067a9c41dd279d6ef024', 'message': 'Moving NeutronMechanismDrivers value to be list in neutron-ml2-mlnx-sdn.yaml\n\nHaving NeutronMechanismDrivers as a string causing issues\nspecially with non-ovn deployments and if the value contains a\nsub-string(ovn) like sriovnicswitch, so just moving it to be a list of\nstrings\n\nChange-Id: Id01951bca724417db91225efeaaeb1b85e06eb70\nRelated-Bug: #1836011\n'}, {'number': 5, 'created': '2019-07-29 06:34:39.000000000', 'files': ['environments/neutron-ml2-mlnx-sdn.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/68c2d3ae072d2bb152996f69bf8531d8c5eb40da', 'message': 'Moving NeutronMechanismDrivers value to be list in neutron-ml2-mlnx-sdn.yaml\n\nHaving NeutronMechanismDrivers as a string causing issues\nspecially with non-ovn deployments and if the value contains a\nsub-string(ovn) like sriovnicswitch, so just moving it to be a list of\nstrings\n\nChange-Id: Id01951bca724417db91225efeaaeb1b85e06eb70\nRelated-Bug: #1836011\n'}]",0,670011,68c2d3ae072d2bb152996f69bf8531d8c5eb40da,20,7,5,25241,,,0,"Moving NeutronMechanismDrivers value to be list in neutron-ml2-mlnx-sdn.yaml

Having NeutronMechanismDrivers as a string causing issues
specially with non-ovn deployments and if the value contains a
sub-string(ovn) like sriovnicswitch, so just moving it to be a list of
strings

Change-Id: Id01951bca724417db91225efeaaeb1b85e06eb70
Related-Bug: #1836011
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/11/670011/2 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services/neutron-ovn-standalone.yaml', 'environments/services-baremetal/neutron-ml2-cisco-vts.yaml', 'environments/neutron-ml2-vpp.yaml', 'environments/updates/update-from-ml2-ovs-from-rocky.yaml', 'environments/services/neutron-ml2-ansible.yaml', 'environments/neutron-ml2-cisco-vts.yaml', 'environments/services/neutron-opendaylight.yaml', 'environments/neutron-nuage-config.yaml', 'environments/services/neutron-ml2-cisco-vts.yaml', 'environments/neutron-ml2-ansible.yaml', 'environments/services-baremetal/neutron-ovn-ha.yaml', 'environments/neutron-ml2-bigswitch.yaml', 'environments/services-baremetal/neutron-ovn-dvr-ha.yaml', 'environments/neutron-ml2-mlnx-sdn.yaml', 'environments/services-baremetal/neutron-opendaylight.yaml']",15,914d3fa9cf6a806b1cf14ba6bc6cb8beefc546c6,bug/1836011, NeutronMechanismDrivers: ['opendaylight_v2'], NeutronMechanismDrivers: 'opendaylight_v2',15,15
openstack%2Fkeystone~master~Ife501adf7b122d2c987e132dbfafe0717760c1bb,openstack/keystone,master,Ife501adf7b122d2c987e132dbfafe0717760c1bb,Deprecate [federation] federated_domain_name,MERGED,2019-04-10 17:23:30.000000000,2019-07-30 06:30:27.000000000,2019-07-30 06:30:27.000000000,"[{'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-04-10 17:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6764472d55d82de1833f5e23ab5730577627ef1c', 'message': 'Deprecate [federation] federated_domain_name\n\nPrior to introducing per idp domains, all ephemeral users lived\nin the Federated domain. That is not the case anymore, since they\nnow live in the domain of the idp.\n\nChange-Id: Ife501adf7b122d2c987e132dbfafe0717760c1bb\nPartial-Bug: 1754048\n'}, {'number': 2, 'created': '2019-06-06 14:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/26635669b4e3a5289810af92cd01ad9843b5368b', 'message': 'Deprecate [federation] federated_domain_name\n\nPrior to introducing per idp domains, all ephemeral users lived\nin the Federated domain. That is not the case anymore, since they\nnow live in the domain of the idp.\n\nChange-Id: Ife501adf7b122d2c987e132dbfafe0717760c1bb\nPartial-Bug: 1754048\n'}, {'number': 3, 'created': '2019-06-06 14:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2885bb7c4544b38af23011b88a10b7d725724554', 'message': 'Deprecate [federation] federated_domain_name\n\nPrior to introducing per idp domains, all ephemeral users lived\nin the Federated domain. That is not the case anymore, since they\nnow live in the domain of the idp.\n\nChange-Id: Ife501adf7b122d2c987e132dbfafe0717760c1bb\nPartial-Bug: 1754048\n'}, {'number': 4, 'created': '2019-07-16 15:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/887117df869f182bdc4889ba52a7efe05526a3de', 'message': 'Deprecate [federation] federated_domain_name\n\nPrior to introducing per idp domains, all ephemeral users lived\nin the Federated domain. That is not the case anymore, since they\nnow live in the domain of the idp.\n\nChange-Id: Ife501adf7b122d2c987e132dbfafe0717760c1bb\nPartial-Bug: 1754048\n'}, {'number': 5, 'created': '2019-07-16 15:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4f80a91f7a0b15a65b37290e0e38cc49a17912ec', 'message': 'Deprecate [federation] federated_domain_name\n\nPrior to introducing per idp domains, all ephemeral users lived\nin the Federated domain. That is not the case anymore, since they\nnow live in the domain of the idp.\n\nChange-Id: Ife501adf7b122d2c987e132dbfafe0717760c1bb\nPartial-Bug: 1754048\nPartial-Bug: 1829454\n'}, {'number': 6, 'created': '2019-07-16 19:31:34.000000000', 'files': ['releasenotes/notes/deprecated-as-of-train-de3fe41ff2251385.yaml', 'keystone/conf/federation.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/d78ac78395e05bbcce6674d7150e8ec25c3a558e', 'message': 'Deprecate [federation] federated_domain_name\n\nPrior to introducing per idp domains, all ephemeral users lived\nin the Federated domain. That is not the case anymore, since they\nnow live in the domain of the idp.\n\nChange-Id: Ife501adf7b122d2c987e132dbfafe0717760c1bb\nPartial-Bug: 1754048\nPartial-Bug: 1829454\n'}]",5,651614,d78ac78395e05bbcce6674d7150e8ec25c3a558e,40,5,6,16465,,,0,"Deprecate [federation] federated_domain_name

Prior to introducing per idp domains, all ephemeral users lived
in the Federated domain. That is not the case anymore, since they
now live in the domain of the idp.

Change-Id: Ife501adf7b122d2c987e132dbfafe0717760c1bb
Partial-Bug: 1754048
Partial-Bug: 1829454
",git fetch https://review.opendev.org/openstack/keystone refs/changes/14/651614/4 && git format-patch -1 --stdout FETCH_HEAD,['keystone/conf/federation.py'],1,6764472d55d82de1833f5e23ab5730577627ef1c,bug/1754048,"from oslo_log import versionutils_DEPRECATED_MSG = utils.fmt("""""" This option has been superseded by ephemeral users existing in the domain of their identity provider. """""") deprecated_for_removal=True, deprecated_reason=_DEPRECATED_MSG, deprecated_since=versionutils.deprecated.TRAIN,",,9,0
openstack%2Fdevstack~stable%2Fpike~Ibbdd8a86e0ff55f67bef73e08e693b34a61b24df,openstack/devstack,stable/pike,Ibbdd8a86e0ff55f67bef73e08e693b34a61b24df,Add the project under test to LIBS_FROM_GIT,MERGED,2019-07-21 15:06:40.000000000,2019-07-30 06:30:26.000000000,2019-07-30 06:30:26.000000000,"[{'_account_id': 1}, {'_account_id': 7118}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-21 15:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b1afc57c265452cbde8cfc0dcdb7ae06e353f3f8', 'message': 'Add the project under test to LIBS_FROM_GIT\n\nThis automatically always adds the project under test to LIBS_FROM_GIT\nwhich effectively makes the normal ""tempest full"" job the same as the\n""forward testing"" job when it is applied to a library repo.\n\nChange-Id: Ibbdd8a86e0ff55f67bef73e08e693b34a61b24df\n(cherry picked from commit 8e5f8c29b27c8dc83da31fbce5d92a173b91ba10)\n'}, {'number': 2, 'created': '2019-07-26 10:04:28.000000000', 'files': ['roles/write-devstack-local-conf/library/devstack_local_conf.py', 'roles/write-devstack-local-conf/library/test.py', 'roles/write-devstack-local-conf/tasks/main.yaml', 'roles/write-devstack-local-conf/README.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/1a99135f00d629538f5dfb26f7c9f313a641d6e0', 'message': 'Add the project under test to LIBS_FROM_GIT\n\nThis automatically always adds the project under test to LIBS_FROM_GIT\nwhich effectively makes the normal ""tempest full"" job the same as the\n""forward testing"" job when it is applied to a library repo.\n\nChange-Id: Ibbdd8a86e0ff55f67bef73e08e693b34a61b24df\n(cherry picked from commit 8e5f8c29b27c8dc83da31fbce5d92a173b91ba10)\n'}]",0,671938,1a99135f00d629538f5dfb26f7c9f313a641d6e0,12,4,2,10459,,,0,"Add the project under test to LIBS_FROM_GIT

This automatically always adds the project under test to LIBS_FROM_GIT
which effectively makes the normal ""tempest full"" job the same as the
""forward testing"" job when it is applied to a library repo.

Change-Id: Ibbdd8a86e0ff55f67bef73e08e693b34a61b24df
(cherry picked from commit 8e5f8c29b27c8dc83da31fbce5d92a173b91ba10)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/38/671938/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/write-devstack-local-conf/library/devstack_local_conf.py', 'roles/write-devstack-local-conf/library/test.py', 'roles/write-devstack-local-conf/tasks/main.yaml', 'roles/write-devstack-local-conf/README.rst']",4,b1afc57c265452cbde8cfc0dcdb7ae06e353f3f8,stablepike-zuulfixes," ``required-projects`` list defined by the job plus the project of the change under test. To instruct devstack to install a library from source rather than pypi, simply add that library to the job's ``required-projects`` list. To override the automatically-generated value, set ``LIBS_FROM_GIT`` in ``devstack_localrc`` to the desired value."," ``required-projects`` list defined by the job. To instruct devstack to install a library from source rather than pypi, simply add that library to the job's ``required-projects`` list. To override the automatically-generated value, set ``LIBS_FROM_GIT`` in ``devstack_localrc`` to the desired value.",32,16
openstack%2Fdevstack~stable%2Fpike~Ifcf3ad008cf42d3d4762cfb3b6c31c93cfeb40db,openstack/devstack,stable/pike,Ifcf3ad008cf42d3d4762cfb3b6c31c93cfeb40db,Automatically set LIBS_FROM_GIT based on required projects,MERGED,2019-07-21 15:06:40.000000000,2019-07-30 06:17:40.000000000,2019-07-30 06:17:40.000000000,"[{'_account_id': 1}, {'_account_id': 7118}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-21 15:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9090afe0bd9bb00b3272e01480beeca1c5665d31', 'message': 'Automatically set LIBS_FROM_GIT based on required projects\n\nIf a project shows up in zuul\'s required-projects list, add it\nto LIBS_FROM_GIT automatically.  This way, when a user specifies\nthat a job requires a zuul-project, it gets used in testing, but\notherwise, it doesn\'t (pypi is used instead).\n\nAlso add information about what happens behind the scenes for both\nLIBS_FROM_GIT and plugin dependencies.\n\nThis moves the check performed in check_libs_from_git to\na helper function which is installed for most kinds of\ninstallations.  This means that if someone sets LIBS_FROM_GIT to\n""foobar"", devstack won\'t error anymore, as nothing is going to\ntry to install foobar, therefore the check won\'t run on that.\nHowever, as we move to automated generation of the local config,\nthat error is not likely to happen.  This check was originally\nadded due to an error in the upper-constraints file (where a\nconstraint name did not match a package name).  This location of\nthe check would still catch that type of error.\n\nChange-Id: Ifcf3ad008cf42d3d4762cfb3b6c31c93cfeb40db\n(cherry picked from commit e1edde38edb697f56e111f55e5992e7bf22f6284)\n'}, {'number': 2, 'created': '2019-07-26 10:04:28.000000000', 'files': ['inc/python', 'roles/write-devstack-local-conf/library/devstack_local_conf.py', 'roles/write-devstack-local-conf/library/test.py', 'roles/write-devstack-local-conf/tasks/main.yaml', 'roles/write-devstack-local-conf/README.rst', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/1b674f9a8cc2e086227c458336496019632789b0', 'message': 'Automatically set LIBS_FROM_GIT based on required projects\n\nIf a project shows up in zuul\'s required-projects list, add it\nto LIBS_FROM_GIT automatically.  This way, when a user specifies\nthat a job requires a zuul-project, it gets used in testing, but\notherwise, it doesn\'t (pypi is used instead).\n\nAlso add information about what happens behind the scenes for both\nLIBS_FROM_GIT and plugin dependencies.\n\nThis moves the check performed in check_libs_from_git to\na helper function which is installed for most kinds of\ninstallations.  This means that if someone sets LIBS_FROM_GIT to\n""foobar"", devstack won\'t error anymore, as nothing is going to\ntry to install foobar, therefore the check won\'t run on that.\nHowever, as we move to automated generation of the local config,\nthat error is not likely to happen.  This check was originally\nadded due to an error in the upper-constraints file (where a\nconstraint name did not match a package name).  This location of\nthe check would still catch that type of error.\n\nChange-Id: Ifcf3ad008cf42d3d4762cfb3b6c31c93cfeb40db\n(cherry picked from commit e1edde38edb697f56e111f55e5992e7bf22f6284)\n'}]",0,671937,1b674f9a8cc2e086227c458336496019632789b0,12,4,2,10459,,,0,"Automatically set LIBS_FROM_GIT based on required projects

If a project shows up in zuul's required-projects list, add it
to LIBS_FROM_GIT automatically.  This way, when a user specifies
that a job requires a zuul-project, it gets used in testing, but
otherwise, it doesn't (pypi is used instead).

Also add information about what happens behind the scenes for both
LIBS_FROM_GIT and plugin dependencies.

This moves the check performed in check_libs_from_git to
a helper function which is installed for most kinds of
installations.  This means that if someone sets LIBS_FROM_GIT to
""foobar"", devstack won't error anymore, as nothing is going to
try to install foobar, therefore the check won't run on that.
However, as we move to automated generation of the local config,
that error is not likely to happen.  This check was originally
added due to an error in the upper-constraints file (where a
constraint name did not match a package name).  This location of
the check would still catch that type of error.

Change-Id: Ifcf3ad008cf42d3d4762cfb3b6c31c93cfeb40db
(cherry picked from commit e1edde38edb697f56e111f55e5992e7bf22f6284)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/37/671937/1 && git format-patch -1 --stdout FETCH_HEAD,"['inc/python', 'roles/write-devstack-local-conf/library/devstack_local_conf.py', 'roles/write-devstack-local-conf/library/test.py', 'roles/write-devstack-local-conf/tasks/main.yaml', 'roles/write-devstack-local-conf/README.rst', 'stack.sh']",6,9090afe0bd9bb00b3272e01480beeca1c5665d31,stablepike-zuulfixes,,"# ensure that all the libraries we think we installed from git, # actually were. check_libs_from_git ",110,34
openstack%2Fdevstack~stable%2Fpike~I81302e8988fe6498fea9f08ed66f5d0cc1fce161,openstack/devstack,stable/pike,I81302e8988fe6498fea9f08ed66f5d0cc1fce161,Zuul: support plugin dependencies,MERGED,2019-07-21 15:06:40.000000000,2019-07-30 06:17:39.000000000,2019-07-30 06:17:39.000000000,"[{'_account_id': 1}, {'_account_id': 7118}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-21 15:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/cd6b35695f95359e3f7768fda7ecda889ed6edf1', 'message': 'Zuul: support plugin dependencies\n\nChange-Id: I81302e8988fe6498fea9f08ed66f5d0cc1fce161\n(cherry picked from commit 6f27fca4a76aceaadab3776c87c48743671ce502)\n'}, {'number': 2, 'created': '2019-07-26 10:04:28.000000000', 'files': ['.gitignore', 'roles/write-devstack-local-conf/library/devstack_local_conf.py', 'roles/write-devstack-local-conf/library/test.py', 'roles/write-devstack-local-conf/tasks/main.yaml', 'tests/test_write_devstack_local_conf_role.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/0b4351efdb2bc10fc3321879a613929597d69d90', 'message': 'Zuul: support plugin dependencies\n\nChange-Id: I81302e8988fe6498fea9f08ed66f5d0cc1fce161\n(cherry picked from commit 6f27fca4a76aceaadab3776c87c48743671ce502)\n'}]",0,671936,0b4351efdb2bc10fc3321879a613929597d69d90,15,4,2,10459,,,0,"Zuul: support plugin dependencies

Change-Id: I81302e8988fe6498fea9f08ed66f5d0cc1fce161
(cherry picked from commit 6f27fca4a76aceaadab3776c87c48743671ce502)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/36/671936/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'roles/write-devstack-local-conf/library/devstack_local_conf.py', 'roles/write-devstack-local-conf/library/test.py', 'roles/write-devstack-local-conf/tasks/main.yaml', 'tests/test_write_devstack_local_conf_role.sh']",5,cd6b35695f95359e3f7768fda7ecda889ed6edf1,stablepike-zuulfixes,"#!/usr/bin/env bash TOP=$(cd $(dirname ""$0"")/.. && pwd) # Import common functions source $TOP/functions source $TOP/tests/unittest.sh python ./roles/write-devstack-local-conf/library/test.py ",,339,53
openstack%2Fkarbor-dashboard~master~I3ba06e23519177c05352b97c42dd95d2674d5b0a,openstack/karbor-dashboard,master,I3ba06e23519177c05352b97c42dd95d2674d5b0a,Sync Sphinx requirement,MERGED,2019-06-03 02:21:21.000000000,2019-07-30 06:00:29.000000000,2019-07-30 06:00:29.000000000,"[{'_account_id': 21224}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 27822}, {'_account_id': 28614}, {'_account_id': 29313}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-06-03 02:21:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor-dashboard/commit/5c31594030980a4a8630bf078e144aa79674fd1f', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nThis change fixes `requirements-check` Zuul job.\n\nChange-Id: I3ba06e23519177c05352b97c42dd95d2674d5b0a\nCloses-Bug: #1831401\n'}, {'number': 2, 'created': '2019-06-20 03:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor-dashboard/commit/6f1094172b0ffbd0e976941c72036028cc210ecf', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Remove unncessary ""==""\n\nChange-Id: I3ba06e23519177c05352b97c42dd95d2674d5b0a\n'}, {'number': 3, 'created': '2019-06-20 03:24:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor-dashboard/commit/22175bf73a3fca788de7307df849030dc0740cd5', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Remove unncessary ""==""\n\nChange-Id: I3ba06e23519177c05352b97c42dd95d2674d5b0a\n'}, {'number': 4, 'created': '2019-07-03 15:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor-dashboard/commit/111115f91cd8606c0866a6a645cec6c74dc90be5', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Remove unncessary ""==""\n\nChange-Id: I3ba06e23519177c05352b97c42dd95d2674d5b0a\n'}, {'number': 5, 'created': '2019-07-18 14:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor-dashboard/commit/d1df631522c7cddccb94a99e130438f006005b97', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Remove unncessary ""==""\n\nChange-Id: I3ba06e23519177c05352b97c42dd95d2674d5b0a\n'}, {'number': 6, 'created': '2019-07-18 14:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor-dashboard/commit/f54c788fb2b60817a81fdb6de3f5c88008f97ab3', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Remove unncessary ""==""\n\nChange-Id: I3ba06e23519177c05352b97c42dd95d2674d5b0a\n'}, {'number': 7, 'created': '2019-07-29 09:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor-dashboard/commit/4e27470fd23aa4bbcaf0404dd5fe436a4d4e2ca8', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Remove unncessary ""==""\n\nChange-Id: I3ba06e23519177c05352b97c42dd95d2674d5b0a\n'}, {'number': 8, 'created': '2019-07-29 09:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor-dashboard/commit/9ab1e49f44886437561a4fbd6f85b77ca910fcaa', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Remove unncessary ""==""\n\nChange-Id: I3ba06e23519177c05352b97c42dd95d2674d5b0a\n'}, {'number': 9, 'created': '2019-07-29 09:57:54.000000000', 'files': ['CONTRIBUTING.rst', 'test-requirements.txt', 'README.rst', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/karbor-dashboard/commit/4a7fbd3ad81e88bd6ba011a0af97b3b13c3a06e3', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Remove unncessary ""==""\n\nChange-Id: I3ba06e23519177c05352b97c42dd95d2674d5b0a\n'}]",6,662664,4a7fbd3ad81e88bd6ba011a0af97b3b13c3a06e3,32,8,9,30356,,,0,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.
2. Remove unncessary ""==""

Change-Id: I3ba06e23519177c05352b97c42dd95d2674d5b0a
",git fetch https://review.opendev.org/openstack/karbor-dashboard refs/changes/64/662664/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,5c31594030980a4a8630bf078e144aa79674fd1f,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Ftripleo-common~stable%2Fstein~I372d4fb11e9de6ec628707e5152957ce49876374,openstack/tripleo-common,stable/stein,I372d4fb11e9de6ec628707e5152957ce49876374,[Stein Only] Enable centos-ceph-nautilus repo in CentOS7,ABANDONED,2019-06-10 11:01:41.000000000,2019-07-30 05:35:24.000000000,,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-10 11:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fb17f5f82fb4c302b634fb5c3891fcdbb57a95ad', 'message': '[Stein Only] Enable centos-ceph-nautilus repo\n\n[1] https://review.opendev.org/#/c/651601 disabled\nceph-nautilus repo as it conflicted with ceph upstream\nrepos used in kolla. In TripleO we need ceph repos to\nbe enabled to consume ceph packages from CentOS Storage\nSIG repos.\n\nChange-Id: I372d4fb11e9de6ec628707e5152957ce49876374\n'}, {'number': 2, 'created': '2019-06-14 12:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4c55676924174a1c75cb335c5490077a70575be4', 'message': '[Stein Only] Enable centos-ceph-nautilus repo in CentOS7\n\n[1] https://review.opendev.org/#/c/651601 disabled\nceph-nautilus repo as it conflicted with ceph upstream\nrepos used in kolla. In TripleO we need ceph repos to\nbe enabled to consume ceph packages from CentOS Storage\nSIG repos.\n\nChange-Id: I372d4fb11e9de6ec628707e5152957ce49876374\n'}, {'number': 3, 'created': '2019-06-14 14:00:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e9183daf2e8779d9a9f5d9bcbaad3d623fb77a04', 'message': '[Stein Only] Enable centos-ceph-nautilus repo in CentOS7\n\n[1] https://review.opendev.org/#/c/651601 disabled\nceph-nautilus repo as it conflicted with ceph upstream\nrepos used in kolla. In TripleO we need ceph repos to\nbe enabled to consume ceph packages from CentOS Storage\nSIG repos.\n\nChange-Id: I372d4fb11e9de6ec628707e5152957ce49876374\n'}, {'number': 4, 'created': '2019-06-18 09:10:06.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/19811a61fcb2adf1a502f77014fe1b242e6df31f', 'message': '[Stein Only] Enable centos-ceph-nautilus repo in CentOS7\n\n[1] https://review.opendev.org/#/c/651601 disabled\nceph-nautilus repo as it conflicted with ceph upstream\nrepos used in kolla. In TripleO we need ceph repos to\nbe enabled to consume ceph packages from CentOS Storage\nSIG repos.\n\nChange-Id: I372d4fb11e9de6ec628707e5152957ce49876374\n'}]",13,664244,19811a61fcb2adf1a502f77014fe1b242e6df31f,33,8,4,13861,,,0,"[Stein Only] Enable centos-ceph-nautilus repo in CentOS7

[1] https://review.opendev.org/#/c/651601 disabled
ceph-nautilus repo as it conflicted with ceph upstream
repos used in kolla. In TripleO we need ceph repos to
be enabled to consume ceph packages from CentOS Storage
SIG repos.

Change-Id: I372d4fb11e9de6ec628707e5152957ce49876374
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/44/664244/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,fb17f5f82fb4c302b634fb5c3891fcdbb57a95ad,centos-rdo-stein,# Enable ceph-nautilus repo disabled in https://review.opendev.org/#/c/651601 RUN yum-config-manager --enable centos-ceph-nautilus,,2,0
openstack%2Fdevstack~master~Id6580e8b29b6b04e34c2c1eca3125fa08920eb1d,openstack/devstack,master,Id6580e8b29b6b04e34c2c1eca3125fa08920eb1d,Make 'devstack-ipv6' job as voting,MERGED,2019-07-25 06:54:10.000000000,2019-07-30 05:16:25.000000000,2019-07-30 05:16:25.000000000,"[{'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-25 06:54:10.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/420d3df48125a276974741a4f14a50df55184b8d', 'message': ""Make 'devstack-ipv6' job as voting\n\n'devstack-ipv6' job set the devstack to deploy\nthe services on IPv6. As part of community goal\n'Support IPv6-Only Deployments'[1], this is going\nto be the base job for all project specific or tempest\nIPv6 jobs. Running this as voting make sure any devstack\nsetting or changes would not break the IPv6 jobs.\n\nStory: #2005477\nTask: #35923\n\n[1] https://storyboard.openstack.org/#!/story/2005477\n\nChange-Id: Id6580e8b29b6b04e34c2c1eca3125fa08920eb1d\n""}]",0,672635,420d3df48125a276974741a4f14a50df55184b8d,10,4,1,8556,,,0,"Make 'devstack-ipv6' job as voting

'devstack-ipv6' job set the devstack to deploy
the services on IPv6. As part of community goal
'Support IPv6-Only Deployments'[1], this is going
to be the base job for all project specific or tempest
IPv6 jobs. Running this as voting make sure any devstack
setting or changes would not break the IPv6 jobs.

Story: #2005477
Task: #35923

[1] https://storyboard.openstack.org/#!/story/2005477

Change-Id: Id6580e8b29b6b04e34c2c1eca3125fa08920eb1d
",git fetch https://review.opendev.org/openstack/devstack refs/changes/35/672635/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,420d3df48125a276974741a4f14a50df55184b8d,ipv6-only-deployment-and-testing, - devstack-ipv6 - devstack-ipv6, - devstack-ipv6: voting: false,2,2
openstack%2Fcinder~stable%2Fqueens~I12bd617a6ad55ca31a922be3bc8c51a1d64bb695,openstack/cinder,stable/queens,I12bd617a6ad55ca31a922be3bc8c51a1d64bb695,"volume list query modify,add the query function",ABANDONED,2019-07-30 03:01:40.000000000,2019-07-30 04:56:58.000000000,,[{'_account_id': 24921}],"[{'number': 1, 'created': '2019-07-30 03:01:40.000000000', 'files': ['cinder/objects/volume.py', '.zuul.yaml', 'cinder/db/api.py', 'cinder/api/v3/query_volumes.py', 'cinder/db/sqlalchemy/api.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a4be42780ab7b36d9056d72e373da02fb0dd74a5', 'message': 'volume list query modify,add the query function\n\nChange-Id: I12bd617a6ad55ca31a922be3bc8c51a1d64bb695\n'}]",0,673388,a4be42780ab7b36d9056d72e373da02fb0dd74a5,3,1,1,30754,,,0,"volume list query modify,add the query function

Change-Id: I12bd617a6ad55ca31a922be3bc8c51a1d64bb695
",git fetch https://review.opendev.org/openstack/cinder refs/changes/88/673388/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/objects/volume.py', '.zuul.yaml', 'cinder/api/v3/query_volumes.py', 'cinder/db/api.py', 'cinder/db/sqlalchemy/api.py', 'cinder/volume/api.py']",6,a4be42780ab7b36d9056d72e373da02fb0dd74a5,," def query_get_all(self, context, marker=None, limit=None, sort_keys=None, sort_dirs=None, filters=None, viewable_admin_meta=False, offset=None, volume_id_test=None, user_id_test=None): context.authorize(vol_policy.GET_ALL_POLICY) if filters is None: filters = {} allTenants = utils.get_bool_param('all_tenants', filters) try: if limit is not None: limit = int(limit) if limit < 0: msg = _('limit param must be positive') raise exception.InvalidInput(reason=msg) except ValueError: msg = _('limit param must be an integer') raise exception.InvalidInput(reason=msg) # Non-admin shouldn't see temporary target of a volume migration, add # unique filter data to reflect that only volumes with a NULL # 'migration_status' or a 'migration_status' that does not start with # 'target:' should be returned (processed in db/sqlalchemy/api.py) if not context.is_admin: filters['no_migration_targets'] = True if filters: LOG.debug(""Searching by: %s."", six.text_type(filters)) if context.is_admin and allTenants: # Need to remove all_tenants to pass the filtering below. del filters['all_tenants'] volumes = objects.VolumeList.get_all(context, marker, limit, sort_keys=sort_keys, sort_dirs=sort_dirs, filters=filters, offset=offset) else: if viewable_admin_meta: context = context.elevated() volumes = objects.VolumeList.query_get_all_by_project( context, context.project_id, marker, limit, sort_keys=sort_keys, sort_dirs=sort_dirs, filters=filters, offset=offset, volume_id_test=volume_id_test, user_id_test=user_id_test) LOG.info(""Get all volumes completed successfully."") return volumes ",,399,30
openstack%2Fcinder~stable%2Fqueens~I8a4fd6caec06471665d3434d97d4bf4498492e54,openstack/cinder,stable/queens,I8a4fd6caec06471665d3434d97d4bf4498492e54,volume list function enhancement,ABANDONED,2019-07-30 03:14:10.000000000,2019-07-30 04:26:37.000000000,,[{'_account_id': 24921}],"[{'number': 1, 'created': '2019-07-30 03:14:10.000000000', 'files': ['cinder/objects/volume.py', 'readmeByFengjiankui.md', 'cinder/db/api.py', 'cinder/api/v3/query_volumes.py', 'cinder/db/sqlalchemy/api.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f595770d3c85938563dbc1c8607bab6aa35e5c37', 'message': 'volume list function enhancement\n\nChange-Id: I8a4fd6caec06471665d3434d97d4bf4498492e54\n'}]",0,673390,f595770d3c85938563dbc1c8607bab6aa35e5c37,3,1,1,30754,,,0,"volume list function enhancement

Change-Id: I8a4fd6caec06471665d3434d97d4bf4498492e54
",git fetch https://review.opendev.org/openstack/cinder refs/changes/90/673390/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/objects/volume.py', 'readmeByFengjiankui.md', 'cinder/api/v3/query_volumes.py', 'cinder/db/api.py', 'cinder/db/sqlalchemy/api.py', 'cinder/volume/api.py']",6,f595770d3c85938563dbc1c8607bab6aa35e5c37,," def query_get_all(self, context, marker=None, limit=None, sort_keys=None, sort_dirs=None, filters=None, viewable_admin_meta=False, offset=None, volume_id_test=None, user_id_test=None): context.authorize(vol_policy.GET_ALL_POLICY) if filters is None: filters = {} allTenants = utils.get_bool_param('all_tenants', filters) try: if limit is not None: limit = int(limit) if limit < 0: msg = _('limit param must be positive') raise exception.InvalidInput(reason=msg) except ValueError: msg = _('limit param must be an integer') raise exception.InvalidInput(reason=msg) # Non-admin shouldn't see temporary target of a volume migration, add # unique filter data to reflect that only volumes with a NULL # 'migration_status' or a 'migration_status' that does not start with # 'target:' should be returned (processed in db/sqlalchemy/api.py) if not context.is_admin: filters['no_migration_targets'] = True if filters: LOG.debug(""Searching by: %s."", six.text_type(filters)) if context.is_admin and allTenants: # Need to remove all_tenants to pass the filtering below. del filters['all_tenants'] volumes = objects.VolumeList.get_all(context, marker, limit, sort_keys=sort_keys, sort_dirs=sort_dirs, filters=filters, offset=offset) else: if viewable_admin_meta: context = context.elevated() volumes = objects.VolumeList.query_get_all_by_project( context, context.project_id, marker, limit, sort_keys=sort_keys, sort_dirs=sort_dirs, filters=filters, offset=offset, volume_id_test=volume_id_test, user_id_test=user_id_test) LOG.info(""Get all volumes completed successfully."") return volumes ",,499,0
