id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fopenstack-ansible-ops~master~I3d059d06c5e7839b6ce2e0d39de3e88299a2e6bb,openstack/openstack-ansible-ops,master,I3d059d06c5e7839b6ce2e0d39de3e88299a2e6bb,Change the overlay service start vars,MERGED,2019-02-11 06:51:59.000000000,2019-02-11 07:14:42.000000000,2019-02-11 07:14:42.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-11 06:51:59.000000000', 'files': ['overlay-inventories/osa-integration-inventory.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/dec795501728acb8aa69525a7be278da38e03ec0', 'message': 'Change the overlay service start vars\n\nThe beat service starts were overly complex this simplifies them.\n\nChange-Id: I3d059d06c5e7839b6ce2e0d39de3e88299a2e6bb\nSigned-off-by: cloudnull <kevin@cloudnull.com>\n'}]",0,636095,dec795501728acb8aa69525a7be278da38e03ec0,6,2,1,7353,,,0,"Change the overlay service start vars

The beat service starts were overly complex this simplifies them.

Change-Id: I3d059d06c5e7839b6ce2e0d39de3e88299a2e6bb
Signed-off-by: cloudnull <kevin@cloudnull.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/95/636095/1 && git format-patch -1 --stdout FETCH_HEAD,['overlay-inventories/osa-integration-inventory.yml'],1,dec795501728acb8aa69525a7be278da38e03ec0,," auditbeat_service_state: ""{{ (inventory_hostname in (groups['hosts'] | default([]))) | ternary('restarted', 'stopped') }}"" filebeat_service_state: ""{{ (inventory_hostname in (groups['hosts'] | default([]))) | ternary('restarted', 'stopped') }}"" heartbeat_service_state: ""{{ (inventory_hostname in (groups['kibana_all'] | default([]))) | ternary('restarted', 'stopped') }}"" journalbeat_service_state: ""{{ (inventory_hostname in (groups['hosts'] | default([]))) | ternary('restarted', 'stopped') }}"" metricbeat_service_state: ""{{ (inventory_hostname in (groups['hosts'] | default([]))) | ternary('restarted', 'stopped') }}"" packetbeat_service_state: ""{{ (inventory_hostname in (groups['network_hosts'] | default([]))) | ternary('restarted', 'stopped') }}"""," beat_service_states: true: state: restarted false: state: stopped auditbeat_service_state: ""{{ auditbeat_service_state | default(beat_service_states[(inventory_hostname in (groups['hosts'] | default([])) | string | lower)]['state']) }}"" filebeat_service_state: ""{{ filebeat_service_state | default(beat_service_states[(inventory_hostname in (groups['hosts'] | default([])) | string | lower)]['state']) }}"" heartbeat_service_state: ""{{ heartbeat_service_state | default(beat_service_states[(inventory_hostname in (groups['kibana_all'] | default([])) | string | lower)]['state']) }}"" journalbeat_service_state: ""{{ journalbeat_service_state | default(beat_service_states[(inventory_hostname in (groups['hosts'] | default([])) | string | lower)]['state']) }}"" metricbeat_service_state: ""{{ metricbeat_service_state | default(beat_service_states[(inventory_hostname in (groups['hosts'] | default([])) | string | lower)]['state']) }}"" packetbeat_service_state: ""{{ packetbeat_service_state | default(beat_service_states[(inventory_hostname in (groups['network_hosts'] | default([])) | string | lower)]['state']) }}""",6,11
openstack%2Fopenstack-ansible-ops~master~I995c0db69fc68d5f5bcae27ce16956876368e2a8,openstack/openstack-ansible-ops,master,I995c0db69fc68d5f5bcae27ce16956876368e2a8,Add logstash ingestion for collectd,MERGED,2019-02-07 04:22:27.000000000,2019-02-11 07:05:50.000000000,2019-02-11 07:05:50.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-07 04:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/f91d3e29c26a9aeb336ef672efe9abf2695a571d', 'message': 'Add logstash ingestion for collectd\n\nThis change will allow logstash to ingest metrics from collectd. New\noptions have been added to enable the deployment and configure it.\n\nChange-Id: I995c0db69fc68d5f5bcae27ce16956876368e2a8\nSigned-off-by: cloudnull <kevin@cloudnull.com>\n'}, {'number': 2, 'created': '2019-02-11 06:14:03.000000000', 'files': ['elk_metrics_6x/templates/logstash-pipelines.yml.j2', 'elk_metrics_6x/roles/elastic_logstash/defaults/main.yml', 'elk_metrics_6x/roles/elastic_logstash/tasks/main.yml', 'elk_metrics_6x/vars/variables.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/03d25dce3d86685d1c2a59847fa9dfb9f4519005', 'message': 'Add logstash ingestion for collectd\n\nThis change will allow logstash to ingest metrics from collectd. New\noptions have been added to enable the deployment and configure it.\n\nChange-Id: I995c0db69fc68d5f5bcae27ce16956876368e2a8\nSigned-off-by: cloudnull <kevin@cloudnull.com>\n'}]",0,635418,03d25dce3d86685d1c2a59847fa9dfb9f4519005,8,2,2,7353,,,0,"Add logstash ingestion for collectd

This change will allow logstash to ingest metrics from collectd. New
options have been added to enable the deployment and configure it.

Change-Id: I995c0db69fc68d5f5bcae27ce16956876368e2a8
Signed-off-by: cloudnull <kevin@cloudnull.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/18/635418/1 && git format-patch -1 --stdout FETCH_HEAD,"['elk_metrics_6x/roles/elastic_logstash/defaults/main.yml', 'elk_metrics_6x/templates/logstash-pipelines.yml.j2', 'elk_metrics_6x/roles/elastic_logstash/tasks/main.yml', 'elk_metrics_6x/vars/variables.yml']",4,f91d3e29c26a9aeb336ef672efe9abf2695a571d,,"logstash_collectd_input_enabled: false logstash_collectd_port: 25826 logstash_collectd_buffer_size: 1452 # Security level can be [""Sign"", ""Encrypt""]. logstash_collectd_security_level: Sign # To enable security the auth file is required. #logstash_collectd_authfile: /etc/collectd/passwd",,48,0
openstack%2Fnova~master~I85e567181cdeefde0a9ef91cd460cd200e79bdba,openstack/nova,master,I85e567181cdeefde0a9ef91cd460cd200e79bdba,Move retry from _update to _update_to_placement,MERGED,2019-01-31 15:08:36.000000000,2019-02-11 07:02:55.000000000,2019-02-06 02:21:00.000000000,"[{'_account_id': 7}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-01-31 15:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/090de70d9333cc3c5646de022544e0533c897268', 'message': ""WIP: Move retry from _update to _update_to_placement\n\nIt was noted [1] that we don't need to wrap all of _update in a retry on\nResourceProviderUpdateConflict; only _update_to_placement can raise that\nexception, and that exception only indicates a need to redrive with data\nret-GETted from within that method. So this patch moves the retry\ndecorator further in, to _update_to_placement, to avoid the additional\nredundant compute node and pci tracker writes.\n\nWIP: fix tests\n\n[1] https://review.openstack.org/#/c/615705/20/nova/compute/resource_tracker.py@974\n\nChange-Id: I85e567181cdeefde0a9ef91cd460cd200e79bdba\n""}, {'number': 2, 'created': '2019-01-31 18:18:59.000000000', 'files': ['nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6443abaac93ec99e1594da15fd21d7876ad46dde', 'message': ""Move retry from _update to _update_to_placement\n\nIt was noted [1] that we don't need to wrap all of _update in a retry on\nResourceProviderUpdateConflict; only _update_to_placement can raise that\nexception, and that exception only indicates a need to redrive with data\nret-GETted from within that method. So this patch moves the retry\ndecorator further in, to _update_to_placement, to avoid the additional\nredundant compute node and pci tracker writes.\n\n[1] https://review.openstack.org/#/c/615705/20/nova/compute/resource_tracker.py@974\n\nChange-Id: I85e567181cdeefde0a9ef91cd460cd200e79bdba\n""}]",0,634252,6443abaac93ec99e1594da15fd21d7876ad46dde,39,13,2,14070,,,0,"Move retry from _update to _update_to_placement

It was noted [1] that we don't need to wrap all of _update in a retry on
ResourceProviderUpdateConflict; only _update_to_placement can raise that
exception, and that exception only indicates a need to redrive with data
ret-GETted from within that method. So this patch moves the retry
decorator further in, to _update_to_placement, to avoid the additional
redundant compute node and pci tracker writes.

[1] https://review.openstack.org/#/c/615705/20/nova/compute/resource_tracker.py@974

Change-Id: I85e567181cdeefde0a9ef91cd460cd200e79bdba
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/634252/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/resource_tracker.py'],1,090de70d9333cc3c5646de022544e0533c897268,retry-_update_to_placement," @retrying.retry(stop_max_attempt_number=4, retry_on_exception=lambda e: isinstance( e, exception.ResourceProviderUpdateConflict))"," @retrying.retry(stop_max_attempt_number=4, retry_on_exception=lambda e: isinstance( e, exception.ResourceProviderUpdateConflict))",3,3
openstack%2Fnova~master~I4473cb192447b5bfa9d1dfcc0dd5216c536caf73,openstack/nova,master,I4473cb192447b5bfa9d1dfcc0dd5216c536caf73,Read port resource request from Neutron,MERGED,2019-01-14 16:29:33.000000000,2019-02-11 06:59:45.000000000,2019-02-03 00:45:41.000000000,"[{'_account_id': 7}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-01-14 16:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b49444fbf37e97c7b12eae187651c9eece872ab1', 'message': 'Read port resource request from Neutron\n\nThis patch collects the resource requests from each neutron port\ninvolved in a server create request. Converts each request to\na RequestGroup object.\n\nblueprint bandwidth-resource-provider\n\nChange-Id: I4473cb192447b5bfa9d1dfcc0dd5216c536caf73\n'}, {'number': 2, 'created': '2019-01-24 16:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f8c83fde8db0918f0e6e295d618622dbbcd050cf', 'message': 'Read port resource request from Neutron\n\nThis patch collects the resource requests from each neutron port\ninvolved in a server create request. Converts each request to\na RequestGroup object.\n\nblueprint bandwidth-resource-provider\n\nChange-Id: I4473cb192447b5bfa9d1dfcc0dd5216c536caf73\n'}, {'number': 3, 'created': '2019-01-26 16:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3e02f17c35dc3e8e04f2c93168b18bfcc431a1cd', 'message': 'Read port resource request from Neutron\n\nThis patch collects the resource requests from each neutron port\ninvolved in a server create request. Converts each request to\na RequestGroup object.\n\nblueprint bandwidth-resource-provider\n\nChange-Id: I4473cb192447b5bfa9d1dfcc0dd5216c536caf73\n'}, {'number': 4, 'created': '2019-01-28 14:51:40.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py', 'nova/network/api.py', 'nova/network/base_api.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9ba910bb539b0172bab899852692a49d30645a14', 'message': 'Read port resource request from Neutron\n\nThis patch collects the resource requests from each neutron port\ninvolved in a server create request. Converts each request to\na RequestGroup object.\n\nblueprint bandwidth-resource-provider\n\nChange-Id: I4473cb192447b5bfa9d1dfcc0dd5216c536caf73\n'}]",11,630720,9ba910bb539b0172bab899852692a49d30645a14,65,16,4,9708,,,0,"Read port resource request from Neutron

This patch collects the resource requests from each neutron port
involved in a server create request. Converts each request to
a RequestGroup object.

blueprint bandwidth-resource-provider

Change-Id: I4473cb192447b5bfa9d1dfcc0dd5216c536caf73
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/630720/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py', 'nova/network/api.py', 'nova/network/base_api.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/compute/api.py']",7,b49444fbf37e97c7b12eae187651c9eece872ab1,bp/bandwidth-resource-provider," result = self.network_api.create_resource_requests( network_metadata, port_resource_requests = result", network_metadata = self.network_api.create_resource_requests(,123,36
openstack%2Fnova~master~I1439b76be3febbd89d933928d6419144eb8689ed,openstack/nova,master,I1439b76be3febbd89d933928d6419144eb8689ed,Fix config docs for handle_virt_lifecycle_events,MERGED,2019-01-30 22:53:16.000000000,2019-02-11 06:57:38.000000000,2019-01-31 10:38:28.000000000,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-01-30 22:53:16.000000000', 'files': ['nova/conf/compute.py', 'nova/conf/workarounds.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/24f0902e2d3b89b931400c615cffe8095c32f244', 'message': 'Fix config docs for handle_virt_lifecycle_events\n\n* Fixes the ""workarounds_group"" typo.\n* Fixes the formatting on the referenced bug.\n\nChange-Id: I1439b76be3febbd89d933928d6419144eb8689ed\n'}]",0,634058,24f0902e2d3b89b931400c615cffe8095c32f244,15,10,1,6873,,,0,"Fix config docs for handle_virt_lifecycle_events

* Fixes the ""workarounds_group"" typo.
* Fixes the formatting on the referenced bug.

Change-Id: I1439b76be3febbd89d933928d6419144eb8689ed
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/634058/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/compute.py', 'nova/conf/workarounds.py']",2,24f0902e2d3b89b931400c615cffe8095c32f244,handle_virt_lifecycle_events-docs,https://bugs.launchpad.net/bugs/1444630, https://bugs.launchpad.net/bugs/1444630,2,3
openstack%2Frequirements~master~I8e419c11f62a8bcaf939a33469a2b21334771175,openstack/requirements,master,I8e419c11f62a8bcaf939a33469a2b21334771175,Updated from generate-constraints,ABANDONED,2019-02-11 06:14:45.000000000,2019-02-11 06:20:50.000000000,,[],"[{'number': 1, 'created': '2019-02-11 06:14:45.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/2d5892b865733d3744e4ade9c56024a0be8bae3e', 'message': 'Updated from generate-constraints\n\nChange-Id: I8e419c11f62a8bcaf939a33469a2b21334771175\n'}]",0,636091,2d5892b865733d3744e4ade9c56024a0be8bae3e,2,0,1,11131,,,0,"Updated from generate-constraints

Change-Id: I8e419c11f62a8bcaf939a33469a2b21334771175
",git fetch https://review.opendev.org/openstack/requirements refs/changes/91/636091/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,2d5892b865733d3744e4ade9c56024a0be8bae3e,openstack/requirements/constraints,tornado===4.5.3;python_version=='3.4' tornado===4.5.3;python_version=='3.5' tornado===4.5.3;python_version=='3.6' tornado===5.1.1;python_version=='2.7'opentracing===2.0.0dogpile.cache===0.7.1salt===2018.3.3,tornado===4.5.3opentracing===1.3.0dogpile.cache===0.6.8salt===2018.3.2,7,4
openstack%2Fnova~master~I327894839a892a976cf314d4292b22ce247b0afa,openstack/nova,master,I327894839a892a976cf314d4292b22ce247b0afa,Add support for vrouter HW datapath offloads,MERGED,2018-06-04 11:32:30.000000000,2019-02-11 06:14:10.000000000,2019-02-05 02:17:18.000000000,"[{'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7730}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11604}, {'_account_id': 12171}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25733}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-06-04 11:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1815ca8a34a21ceaa819810e850cb51215b6dc8b', 'message': ""[WIP] Add support for vrouter HW offloads\n\nAdd plumbing for Contrail/Tungsten Fabric offloads\n\n* This change expands the VNIC type support for the vrouter VIF type by\n  adding 'direct' and 'virtio-forwarder' plugging support.\n\n* After this change, the vrouter VIF type will support the following four\n  modes:\n  * 'normal': the 'classic' tap-style VNIC plugged into the instance,\n  * 'normal' with vhostuser: a dpdk-vhostuser VNIC plugged into the\n    instance,\n  * 'direct': a PCI Virtual Function is passed through to the instance,\n  * 'virtio-forwarder': a PCI Virtual Function is proxied to the\n    instance via a vhost-user virtio forwarder.\n\n* The OS-VIF conversion function was extended to support the two new\n  plugging modes.\n\n* Unit tests were added for the OS-VIF conversion functions.\n\n* TODO: The vrouter VIF unit test cases need to be extended.\n\n* The corresponding review on OpenContrail is currently at:\n  https://review.opencontrail.org/#/c/42850/\n\nChange-Id: I327894839a892a976cf314d4292b22ce247b0afa\nDepends-On: I401ee6370dad68e62bc2d089e786a840d91d0267\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\n""}, {'number': 2, 'created': '2018-06-06 14:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd39d81d3371e708c340a1bd789801503864aded', 'message': ""Add support for vrouter HW offloads\n\nAdd plumbing for Contrail/Tungsten Fabric offloads\n\n* This change expands the VNIC type support for the vrouter VIF type by\n  adding 'direct' and 'virtio-forwarder' plugging support.\n\n* After this change, the vrouter VIF type will support the following four\n  modes:\n  * 'normal': the 'classic' tap-style VNIC plugged into the instance,\n  * 'normal' with vhostuser: a dpdk-vhostuser VNIC plugged into the\n    instance,\n  * 'direct': a PCI Virtual Function is passed through to the instance,\n  * 'virtio-forwarder': a PCI Virtual Function is proxied to the\n    instance via a vhost-user virtio forwarder.\n\n* The OS-VIF conversion function was extended to support the two new\n  plugging modes.\n\n* Unit tests were added for the OS-VIF conversion functions.\n\n* The corresponding review on OpenContrail is currently at:\n  https://review.opencontrail.org/#/c/42850/\n\n* NOTE: Unit tests will fail until Nova depends on a newer OS-VIF\n  release. It's possible to check them by adding the following line to\n  'commands' in the [testenv] section of tox.ini:\n\n  pip install git+https://git.openstack.org/openstack/os-vif@refs/changes/81/572081/2\n\n* The spec for this design is on:\n  https://review.openstack.org/567148\n\nChange-Id: I327894839a892a976cf314d4292b22ce247b0afa\nDepends-On: I401ee6370dad68e62bc2d089e786a840d91d0267\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\n""}, {'number': 3, 'created': '2019-01-09 11:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf0ca87933686e31d0a2d9c494dab2b3760042a2', 'message': ""Add support for vrouter HW datapath offloads\n\nAdd plumbing for Contrail/Tungsten Fabric datapath offloads\n\n* This change expands the VNIC type support for the vrouter VIF type by\n  adding 'direct' and 'virtio-forwarder' plugging support.\n\n* After this change, the vrouter VIF type will support the following modes:\n  * 'normal': the 'classic' tap-style VNIC plugged into the instance,\n  * 'direct': a PCI Virtual Function is passed through to the instance,\n  * 'virtio-forwarder': a PCI Virtual Function is proxied to the\n    instance via a vhost-user virtio forwarder.\n\n* The OS-VIF conversion function was extended to support the two new\n  plugging modes.\n\n* Unit tests were added for the OS-VIF conversion functions.\n\n* The corresponding review on OpenContrail is currently at:\n  https://review.opencontrail.org/#/c/42850/\n\n* NOTE: Unit tests will fail until Nova depends on a newer OS-VIF\n  release. It's possible to check them by adding the following line to\n  'commands' in the [testenv] section of tox.ini:\n\n  pip install git+https://git.openstack.org/openstack/os-vif@refs/changes/81/572081/11\n\nChange-Id: I327894839a892a976cf314d4292b22ce247b0afa\nDepends-On: I401ee6370dad68e62bc2d089e786a840d91d0267\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\nblueprint: vrouter-hw-offloads\n""}, {'number': 4, 'created': '2019-01-24 12:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fddd3bdaf27968ad0edbed53091485bb3b385c63', 'message': ""Add support for vrouter HW datapath offloads\n\nAdd plumbing for Contrail/Tungsten Fabric datapath offloads\n\n* This change expands the VNIC type support for the vrouter VIF type by\n  adding 'direct' and 'virtio-forwarder' plugging support.\n\n* After this change, the vrouter VIF type will support the following modes:\n  * 'normal': the 'classic' tap-style VNIC plugged into the instance,\n  * 'direct': a PCI Virtual Function is passed through to the instance,\n  * 'virtio-forwarder': a PCI Virtual Function is proxied to the\n    instance via a vhost-user virtio forwarder.\n\n* The os-vif conversion function was extended to support the two new\n  plugging modes.\n\n* Unit tests were added for the os-vif conversion functions.\n\n* OpenContrail / Tungsten Fabric is planning to consume this\n  functionality for the 5.1 release.\n\n* os-vif 1.14.0 is required to pass the metadata\n\nChange-Id: I327894839a892a976cf314d4292b22ce247b0afa\nDepends-On: I401ee6370dad68e62bc2d089e786a840d91d0267\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\nblueprint: vrouter-hw-offloads\n""}, {'number': 5, 'created': '2019-01-25 15:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e2b06c569fe9da12c8dda634f086f33cdc9b7bc6', 'message': ""Add support for vrouter HW datapath offloads\n\nAdd plumbing for Contrail/Tungsten Fabric datapath offloads\n\n* This change expands the VNIC type support for the vrouter VIF type by\n  adding 'direct' and 'virtio-forwarder' plugging support.\n\n* After this change, the vrouter VIF type will support the following modes:\n  * 'normal': the 'classic' tap-style VNIC plugged into the instance,\n  * 'direct': a PCI Virtual Function is passed through to the instance,\n  * 'virtio-forwarder': a PCI Virtual Function is proxied to the\n    instance via a vhost-user virtio forwarder.\n\n* The os-vif conversion function was extended to support the two new\n  plugging modes.\n\n* Unit tests were added for the os-vif conversion functions.\n\n* OpenContrail / Tungsten Fabric is planning to consume this\n  functionality for the 5.1 release.\n\n* os-vif 1.14.0 is required to pass the metadata\n\nChange-Id: I327894839a892a976cf314d4292b22ce247b0afa\nDepends-On: I401ee6370dad68e62bc2d089e786a840d91d0267\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\nblueprint: vrouter-hw-offloads\n""}, {'number': 6, 'created': '2019-01-31 12:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a69e80ca6f40ede4d6b81fda517ed68524222a2', 'message': ""Add support for vrouter HW datapath offloads\n\nAdd plumbing for Contrail/Tungsten Fabric datapath offloads\n\n* This change expands the VNIC type support for the vrouter VIF type by\n  adding 'direct' and 'virtio-forwarder' plugging support.\n\n* After this change, the vrouter VIF type will support the following modes:\n  * 'normal': the 'classic' tap-style VNIC plugged into the instance,\n  * 'direct': a PCI Virtual Function is passed through to the instance,\n  * 'virtio-forwarder': a PCI Virtual Function is proxied to the\n    instance via a vhost-user virtio forwarder.\n\n* The os-vif conversion function was extended to support the two new\n  plugging modes.\n\n* Unit tests were added for the os-vif conversion functions.\n\n* OpenContrail / Tungsten Fabric is planning to consume this\n  functionality for the 5.1 release.\n\n* os-vif 1.14.0 is required to pass the metadata\n\nChange-Id: I327894839a892a976cf314d4292b22ce247b0afa\nDepends-On: I401ee6370dad68e62bc2d089e786a840d91d0267\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\nblueprint: vrouter-hw-offloads\n""}, {'number': 7, 'created': '2019-01-31 13:55:52.000000000', 'files': ['requirements.txt', 'nova/tests/unit/network/test_os_vif_util.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'lower-constraints.txt', 'nova/network/os_vif_util.py', 'releasenotes/notes/vrouter-hw-offloads-38257f49ac1d3a60.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/4d32b45c152c4dedcb9d01380f557338c3acb81e', 'message': ""Add support for vrouter HW datapath offloads\n\nAdd plumbing for Contrail/Tungsten Fabric datapath offloads\n\n* This change expands the VNIC type support for the vrouter VIF type by\n  adding 'direct' and 'virtio-forwarder' plugging support.\n\n* After this change, the vrouter VIF type will support the following modes:\n  * 'normal': the 'classic' tap-style VNIC plugged into the instance,\n  * 'direct': a PCI Virtual Function is passed through to the instance,\n  * 'virtio-forwarder': a PCI Virtual Function is proxied to the\n    instance via a vhost-user virtio forwarder.\n\n* The os-vif conversion function was extended to support the two new\n  plugging modes.\n\n* Unit tests were added for the os-vif conversion functions.\n\n* OpenContrail / Tungsten Fabric is planning to consume this\n  functionality for the 5.1 release.\n\n* os-vif 1.14.0 is required to pass the metadata\n\nChange-Id: I327894839a892a976cf314d4292b22ce247b0afa\nDepends-On: I401ee6370dad68e62bc2d089e786a840d91d0267\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\nblueprint: vrouter-hw-offloads\n""}]",23,572082,4d32b45c152c4dedcb9d01380f557338c3acb81e,120,21,7,25733,,,0,"Add support for vrouter HW datapath offloads

Add plumbing for Contrail/Tungsten Fabric datapath offloads

* This change expands the VNIC type support for the vrouter VIF type by
  adding 'direct' and 'virtio-forwarder' plugging support.

* After this change, the vrouter VIF type will support the following modes:
  * 'normal': the 'classic' tap-style VNIC plugged into the instance,
  * 'direct': a PCI Virtual Function is passed through to the instance,
  * 'virtio-forwarder': a PCI Virtual Function is proxied to the
    instance via a vhost-user virtio forwarder.

* The os-vif conversion function was extended to support the two new
  plugging modes.

* Unit tests were added for the os-vif conversion functions.

* OpenContrail / Tungsten Fabric is planning to consume this
  functionality for the 5.1 release.

* os-vif 1.14.0 is required to pass the metadata

Change-Id: I327894839a892a976cf314d4292b22ce247b0afa
Depends-On: I401ee6370dad68e62bc2d089e786a840d91d0267
Signed-off-by: Jan Gutter <jan.gutter@netronome.com>
blueprint: vrouter-hw-offloads
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/572082/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/network/test_os_vif_util.py', 'nova/network/os_vif_util.py']",2,1815ca8a34a21ceaa819810e850cb51215b6dc8b,bp/vrouter-hw-offloads," elif vnic_type == model.VNIC_TYPE_DIRECT: profile = objects.vif.VIFPortProfileGenericepresentor( representor_name=_get_vif_name(vif), representor_address=vif[""profile""][""pci_slot""]) ) obj = _get_vif_instance( vif, objects.vif.VIFHostDevice, port_profile=profile, plugin=""vrouter"", dev_address=vif[""profile""][""pci_slot""], dev_type=objects.fields.VIFHostDeviceDevType.ETHERNET ) elif vnic_type == model.VNIC_TYPE_VIRTIO_FORWARDER: profile = objects.vif.VIFPortProfileGenericepresentor( representor_name=_get_vif_name(vif), representor_address=vif[""profile""][""pci_slot""]) ) obj = _get_vif_instance(vif, objects.vif.VIFVHostUser, port_profile=profile, plugin=""vrouter"", vif_name=_get_vif_name(vif) ) _set_vhostuser_settings(vif, obj)",,107,0
openstack%2Fdevstack~master~I5f82aa40e9d84114e7b7b5cf19ec4942d6552490,openstack/devstack,master,I5f82aa40e9d84114e7b7b5cf19ec4942d6552490,Set ETCD_USE_RAMDISK=True by default,MERGED,2019-02-05 16:29:51.000000000,2019-02-11 05:37:48.000000000,2019-02-11 05:37:48.000000000,"[{'_account_id': 4690}, {'_account_id': 7118}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-05 16:29:51.000000000', 'files': ['lib/etcd3'], 'web_link': 'https://opendev.org/openstack/devstack/commit/1516e720ce1d6eb6eca38feb1ca18dc7fc8c105c', 'message': ""Set ETCD_USE_RAMDISK=True by default\n\nCinder and etcd are enabled by default and by default\ncinder uses etcd as a distributed lock manager with\ntooz as an intermediary. We see a lot of ToozConnectionErrors [1]\nin the cinder logs when etcd is backed up [2] which results in\ncinder operations timing out causing test failures, like\nwhen a volume is not deleted within a given time.\n\nThis changes ETCD_USE_RAMDISK=True by default to try and\nalleviate some of the pressure. An alternative is if we know\nwe're in a single-node job we could just not use a DLM for\nCinder.\n\n[1] http://status.openstack.org/elastic-recheck/#1810526\n[2] etcd[26824]: sync duration of 12.076762123s, expected less than 1s\n\nChange-Id: I5f82aa40e9d84114e7b7b5cf19ec4942d6552490\nPartial-Bug: #1810526\n""}]",0,634970,1516e720ce1d6eb6eca38feb1ca18dc7fc8c105c,11,8,1,6873,,,0,"Set ETCD_USE_RAMDISK=True by default

Cinder and etcd are enabled by default and by default
cinder uses etcd as a distributed lock manager with
tooz as an intermediary. We see a lot of ToozConnectionErrors [1]
in the cinder logs when etcd is backed up [2] which results in
cinder operations timing out causing test failures, like
when a volume is not deleted within a given time.

This changes ETCD_USE_RAMDISK=True by default to try and
alleviate some of the pressure. An alternative is if we know
we're in a single-node job we could just not use a DLM for
Cinder.

[1] http://status.openstack.org/elastic-recheck/#1810526
[2] etcd[26824]: sync duration of 12.076762123s, expected less than 1s

Change-Id: I5f82aa40e9d84114e7b7b5cf19ec4942d6552490
Partial-Bug: #1810526
",git fetch https://review.opendev.org/openstack/devstack refs/changes/70/634970/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/etcd3'],1,1516e720ce1d6eb6eca38feb1ca18dc7fc8c105c,bug/1810526,ETCD_USE_RAMDISK=$(trueorfalse True ETCD_USE_RAMDISK),ETCD_USE_RAMDISK=$(trueorfalse False ETCD_USE_RAMDISK),1,1
openstack%2Fnova~master~Ia9cc1c250483c31f44cdbba4f6342ac8d7fbe92b,openstack/nova,master,Ia9cc1c250483c31f44cdbba4f6342ac8d7fbe92b,Add configuration of maximum disk devices to attach,MERGED,2018-11-09 05:55:07.000000000,2019-02-11 05:37:11.000000000,2019-01-31 10:33:56.000000000,"[{'_account_id': 1063}, {'_account_id': 4690}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7730}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 24132}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 27594}]","[{'number': 1, 'created': '2018-11-09 05:55:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/97865392e4d22960a455901a5428a9995b93c90e', 'message': 'WIP Add configuration of maximum disk devices to attach\n\nThis adds a new config option to control the maximum number of disk\ndevices allowed to attach to a single instance.\n\nPart of blueprint conf-max-attach-volumes\n\nTODO: needs functional tests\n\nChange-Id: Ia9cc1c250483c31f44cdbba4f6342ac8d7fbe92b\n'}, {'number': 2, 'created': '2018-12-13 00:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8638892d95a5027f1d2a013b95f96f2bfa80e7a2', 'message': 'WIP Add configuration of maximum disk devices to attach\n\nThis adds a new config option to control the maximum number of disk\ndevices allowed to attach to a single instance.\n\nPart of blueprint conf-max-attach-volumes\n\nTODO: needs functional tests\n\nChange-Id: Ia9cc1c250483c31f44cdbba4f6342ac8d7fbe92b\n'}, {'number': 3, 'created': '2018-12-13 17:35:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e06ce8d3ce0a2152b0314808b29166620c971b1b', 'message': 'WIP Add configuration of maximum disk devices to attach\n\nThis adds a new config option to control the maximum number of disk\ndevices allowed to attach to a single instance.\n\nPart of blueprint conf-max-attach-volumes\n\nTODO: needs functional tests\n\nChange-Id: Ia9cc1c250483c31f44cdbba4f6342ac8d7fbe92b\n'}, {'number': 4, 'created': '2018-12-20 08:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/883b10f7a45ba6493c6f38c1e1d7e15000a3e455', 'message': 'Add configuration of maximum disk devices to attach\n\nThis adds a new config option to control the maximum number of disk\ndevices allowed to attach to a single instance.\n\nIt also updates the behavior of the volume attach API to raise a 403\nforbidden exception if the device limit is exceeded instead of the\ncurrent behavior of returning a 500 to the user.\n\nPart of blueprint conf-max-attach-volumes\n\nChange-Id: Ia9cc1c250483c31f44cdbba4f6342ac8d7fbe92b\n'}, {'number': 5, 'created': '2018-12-20 08:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f10b84a8690c7bf0146e180329d3dffcfcc4730', 'message': 'Add configuration of maximum disk devices to attach\n\nThis adds a new config option to control the maximum number of disk\ndevices allowed to attach to a single instance.\n\nIt also updates the behavior of the volume attach API to raise a 403\nforbidden exception if the device limit is exceeded instead of the\ncurrent behavior of returning a 500 to the user.\n\nPart of blueprint conf-max-attach-volumes\n\nChange-Id: Ia9cc1c250483c31f44cdbba4f6342ac8d7fbe92b\n'}, {'number': 6, 'created': '2018-12-20 19:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/444441ec30e089761b7f4db68787b7b4e4dcf606', 'message': 'Add configuration of maximum disk devices to attach\n\nThis adds a new config option to control the maximum number of disk\ndevices allowed to attach to a single instance.\n\nIt also updates the behavior of the volume attach API to raise a 403\nforbidden exception if the device limit is exceeded instead of the\ncurrent behavior of returning a 500 to the user.\n\nPart of blueprint conf-max-attach-volumes\n\nChange-Id: Ia9cc1c250483c31f44cdbba4f6342ac8d7fbe92b\n'}, {'number': 7, 'created': '2019-01-15 06:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58ead788aac71adf85ea38533ae10a33a8a48b0b', 'message': 'Add configuration of maximum disk devices to attach\n\nThis adds a new config option to control the maximum number of disk\ndevices allowed to attach to a single instance.\n\nIt also updates the behavior of the volume attach API to raise a 403\nforbidden exception if the device limit is exceeded instead of the\ncurrent behavior of returning a 500 to the user.\n\nPart of blueprint conf-max-attach-volumes\n\nChange-Id: Ia9cc1c250483c31f44cdbba4f6342ac8d7fbe92b\n'}, {'number': 8, 'created': '2019-01-15 19:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/75f96dad42ca60435a66c7710e5a2513ac700eb6', 'message': 'Add configuration of maximum disk devices to attach\n\nThis adds a new config option to control the maximum number of disk\ndevices allowed to attach to a single instance.\n\nIt also updates the behavior of the volume attach API to raise a 403\nforbidden exception if the device limit is exceeded instead of the\ncurrent behavior of returning a 500 to the user.\n\nThe server create API returns a 500 error to the user because any\nfailure that occurs during instance build in nova-compute will raise\na BuildAbortException, which is treated as a 500.\n\nPart of blueprint conf-max-attach-volumes\n\nChange-Id: Ia9cc1c250483c31f44cdbba4f6342ac8d7fbe92b\n'}, {'number': 9, 'created': '2019-01-24 03:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ced9a92117946ab8fa544540fe8f3b6ede76665d', 'message': 'Add configuration of maximum disk devices to attach\n\nThis adds a new config option to control the maximum number of disk\ndevices allowed to attach to a single instance, which can be set per\ncompute host.\n\nThe configured maximum is enforced when device names are generated\nduring server create, rebuild, evacuate, unshelve, live migrate, and\nattach volume. When the maximum is exceeded during server create,\nrebuild, evacuate, unshelve, or live migrate, the server will go into\nERROR state and the server fault will contain the reason. When the\nmaximum is exceeded during an attach volume request, the request fails\nfast in the API with a 403 error.\n\nThe configured maximum on the destination is not enforced before cold\nmigrate because the maximum is enforced in-place only (the destination\nis not checked over RPC). The configured maximum is also not enforced\non shelved offloaded servers because they have no compute host, and the\noption is implemented at the nova-compute level.\n\nPart of blueprint conf-max-attach-volumes\n\nChange-Id: Ia9cc1c250483c31f44cdbba4f6342ac8d7fbe92b\n'}, {'number': 10, 'created': '2019-01-24 17:37:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/68ef2f501ca263cec2c8ac16d761decde31719ba', 'message': 'Add configuration of maximum disk devices to attach\n\nThis adds a new config option to control the maximum number of disk\ndevices allowed to attach to a single instance, which can be set per\ncompute host.\n\nThe configured maximum is enforced when device names are generated\nduring server create, rebuild, evacuate, unshelve, live migrate, and\nattach volume. When the maximum is exceeded during server create,\nrebuild, evacuate, unshelve, or live migrate, the server will go into\nERROR state and the server fault will contain the reason. When the\nmaximum is exceeded during an attach volume request, the request fails\nfast in the API with a 403 error.\n\nThe configured maximum on the destination is not enforced before cold\nmigrate because the maximum is enforced in-place only (the destination\nis not checked over RPC). The configured maximum is also not enforced\non shelved offloaded servers because they have no compute host, and the\noption is implemented at the nova-compute level.\n\nPart of blueprint conf-max-attach-volumes\n\nChange-Id: Ia9cc1c250483c31f44cdbba4f6342ac8d7fbe92b\n'}, {'number': 11, 'created': '2019-01-25 01:29:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3885bb228a7eea6e14dbea21d3c14d45068364e2', 'message': 'Add configuration of maximum disk devices to attach\n\nThis adds a new config option to control the maximum number of disk\ndevices allowed to attach to a single instance, which can be set per\ncompute host.\n\nThe configured maximum is enforced when device names are generated\nduring server create, rebuild, evacuate, unshelve, live migrate, and\nattach volume. When the maximum is exceeded during server create,\nrebuild, evacuate, unshelve, or live migrate, the server will go into\nERROR state and the server fault will contain the reason. When the\nmaximum is exceeded during an attach volume request, the request fails\nfast in the API with a 403 error.\n\nThe configured maximum on the destination is not enforced before cold\nmigrate because the maximum is enforced in-place only (the destination\nis not checked over RPC). The configured maximum is also not enforced\non shelved offloaded servers because they have no compute host, and the\noption is implemented at the nova-compute level.\n\nPart of blueprint conf-max-attach-volumes\n\nChange-Id: Ia9cc1c250483c31f44cdbba4f6342ac8d7fbe92b\n'}, {'number': 12, 'created': '2019-01-29 15:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff4c7959b06425cf39f4fcd1111de589ad5d4ff3', 'message': 'Add configuration of maximum disk devices to attach\n\nThis adds a new config option to control the maximum number of disk\ndevices allowed to attach to a single instance, which can be set per\ncompute host.\n\nThe configured maximum is enforced when device names are generated\nduring server create, rebuild, evacuate, unshelve, live migrate, and\nattach volume. When the maximum is exceeded during server create,\nrebuild, evacuate, unshelve, or live migrate, the server will go into\nERROR state and the server fault will contain the reason. When the\nmaximum is exceeded during an attach volume request, the request fails\nfast in the API with a 403 error.\n\nThe configured maximum on the destination is not enforced before cold\nmigrate because the maximum is enforced in-place only (the destination\nis not checked over RPC). The configured maximum is also not enforced\non shelved offloaded servers because they have no compute host, and the\noption is implemented at the nova-compute level.\n\nPart of blueprint conf-max-attach-volumes\n\nChange-Id: Ia9cc1c250483c31f44cdbba4f6342ac8d7fbe92b\n'}, {'number': 13, 'created': '2019-01-30 15:47:12.000000000', 'files': ['nova/conf/compute.py', 'nova/virt/libvirt/blockinfo.py', 'nova/tests/functional/test_conf_max_attach_disk_devices.py', 'releasenotes/notes/conf-max-attach-disk-devices-82dc1e0825e00b35.yaml', 'doc/source/user/block-device-mapping.rst', 'nova/compute/manager.py', 'doc/source/user/launch-instance-from-volume.rst', 'nova/compute/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bb0906f4f3199295e9f65bd4c8f6cab995f4ec42', 'message': 'Add configuration of maximum disk devices to attach\n\nThis adds a new config option to control the maximum number of disk\ndevices allowed to attach to a single instance, which can be set per\ncompute host.\n\nThe configured maximum is enforced when device names are generated\nduring server create, rebuild, evacuate, unshelve, live migrate, and\nattach volume. When the maximum is exceeded during server create,\nrebuild, evacuate, unshelve, or live migrate, the server will go into\nERROR state and the server fault will contain the reason. When the\nmaximum is exceeded during an attach volume request, the request fails\nfast in the API with a 403 error.\n\nThe configured maximum on the destination is not enforced before cold\nmigrate because the maximum is enforced in-place only (the destination\nis not checked over RPC). The configured maximum is also not enforced\non shelved offloaded servers because they have no compute host, and the\noption is implemented at the nova-compute level.\n\nPart of blueprint conf-max-attach-volumes\n\nChange-Id: Ia9cc1c250483c31f44cdbba4f6342ac8d7fbe92b\n'}]",94,616777,bb0906f4f3199295e9f65bd4c8f6cab995f4ec42,193,26,13,4690,,,0,"Add configuration of maximum disk devices to attach

This adds a new config option to control the maximum number of disk
devices allowed to attach to a single instance, which can be set per
compute host.

The configured maximum is enforced when device names are generated
during server create, rebuild, evacuate, unshelve, live migrate, and
attach volume. When the maximum is exceeded during server create,
rebuild, evacuate, unshelve, or live migrate, the server will go into
ERROR state and the server fault will contain the reason. When the
maximum is exceeded during an attach volume request, the request fails
fast in the API with a 403 error.

The configured maximum on the destination is not enforced before cold
migrate because the maximum is enforced in-place only (the destination
is not checked over RPC). The configured maximum is also not enforced
on shelved offloaded servers because they have no compute host, and the
option is implemented at the nova-compute level.

Part of blueprint conf-max-attach-volumes

Change-Id: Ia9cc1c250483c31f44cdbba4f6342ac8d7fbe92b
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/616777/9 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/compute.py', 'nova/virt/libvirt/blockinfo.py', 'nova/exception.py', 'nova/block_device.py', 'nova/compute/utils.py']",5,97865392e4d22960a455901a5428a9995b93c90e,bp/conf-max-attach-volumes,def check_max_disk_devices_to_attach(num_devices): if CONF.compute.max_disk_devices_to_attach == -1: return if num_devices > CONF.compute.max_disk_devices_to_attach: raise exception.TooManyDiskDevices() check_max_disk_devices_to_attach(len(used_letters) + 1) # Return the first unused device letter index = 0 while True: letter = block_device.generate_device_letter(index) if letter not in used_letters: return letter index += 1,"import string doubles = [first + second for second in string.ascii_lowercase for first in string.ascii_lowercase] all_letters = set(list(string.ascii_lowercase) + doubles) letters = list(all_letters - used_letters) # NOTE(vish): prepend ` so all shorter sequences sort first letters.sort(key=lambda x: x.rjust(2, '`')) return letters[0]",53,14
openstack%2Fnova~master~I9598008deff92fae704786b467ef622848f55cf9,openstack/nova,master,I9598008deff92fae704786b467ef622848f55cf9,Make 'plugin' a required argument for '_get_vif_instance',MERGED,2018-10-05 14:33:12.000000000,2019-02-11 05:25:43.000000000,2019-02-01 00:18:58.000000000,"[{'_account_id': 7}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 24791}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-10-05 14:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/43d3bb222b4335e762e35c972c230f2dcf3ce900', 'message': ""Make 'plugin' a required argument for '_get_vif_instance'\n\n'plugin' is the one argument for 'os_vif.objects.vif.VIFBase' (and\ntherefore all subclasses) that doesn't have a default and is therefore\nrequired [1]. Enforce this on the nova side and prevent possible slip\nups like those seen in [2].\n\n[1] https://github.com/openstack/os-vif/blob/1.11.1/os_vif/objects/vif.py#L27-L52\n[2] https://review.openstack.org/#/c/565471/4/nova/network/os_vif_util.py@408\n\nChange-Id: I9598008deff92fae704786b467ef622848f55cf9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2018-10-05 14:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba5d2f36316870b0a67f7b567baf37c0659ab01e', 'message': ""Make 'plugin' a required argument for '_get_vif_instance'\n\n'plugin' is the one argument for 'os_vif.objects.vif.VIFBase' (and\ntherefore all subclasses) that doesn't have a default and is therefore\nrequired [1]. Enforce this on the nova side and prevent possible slip\nups like those seen in [2].\n\n[1] https://github.com/openstack/os-vif/blob/1.11.1/os_vif/objects/vif.py#L27-L52\n[2] https://review.openstack.org/#/c/565471/4/nova/network/os_vif_util.py@408\n\nChange-Id: I9598008deff92fae704786b467ef622848f55cf9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2018-10-08 09:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ebd31089d537522221dd1d08f7dab8d0d5232fe1', 'message': ""Make 'plugin' a required argument for '_get_vif_instance'\n\n'plugin' is the one argument for 'os_vif.objects.vif.VIFBase' (and\ntherefore all subclasses) that doesn't have a default and is therefore\nrequired [1]. Enforce this on the nova side and prevent possible slip\nups like those seen in [2].\n\n[1] https://github.com/openstack/os-vif/blob/1.11.1/os_vif/objects/vif.py#L27-L52\n[2] https://review.openstack.org/#/c/565471/4/nova/network/os_vif_util.py@408\n\nChange-Id: I9598008deff92fae704786b467ef622848f55cf9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-01-23 17:11:50.000000000', 'files': ['nova/network/os_vif_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c43ff8ac4bb35c76d94a9691feab293fb43bc9f7', 'message': ""Make 'plugin' a required argument for '_get_vif_instance'\n\n'plugin' is the one argument for 'os_vif.objects.vif.VIFBase' (and\ntherefore all subclasses) that doesn't have a default and is therefore\nrequired [1]. Enforce this on the nova side and prevent possible slip\nups like those seen in [2].\n\n[1] https://github.com/openstack/os-vif/blob/1.11.1/os_vif/objects/vif.py#L27-L52\n[2] https://review.openstack.org/#/c/565471/4/nova/network/os_vif_util.py@408\n\nChange-Id: I9598008deff92fae704786b467ef622848f55cf9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",4,608279,c43ff8ac4bb35c76d94a9691feab293fb43bc9f7,83,22,4,15334,,,0,"Make 'plugin' a required argument for '_get_vif_instance'

'plugin' is the one argument for 'os_vif.objects.vif.VIFBase' (and
therefore all subclasses) that doesn't have a default and is therefore
required [1]. Enforce this on the nova side and prevent possible slip
ups like those seen in [2].

[1] https://github.com/openstack/os-vif/blob/1.11.1/os_vif/objects/vif.py#L27-L52
[2] https://review.openstack.org/#/c/565471/4/nova/network/os_vif_util.py@408

Change-Id: I9598008deff92fae704786b467ef622848f55cf9
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/608279/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/os_vif_util.py'],1,43d3bb222b4335e762e35c972c230f2dcf3ce900,add-noop-plugin,"def _get_vif_instance(vif, cls, plugin, **kwargs):","def _get_vif_instance(vif, cls, **kwargs):",1,1
openstack%2Fnova~master~Id28858b623812812f14eabd38113990a3daec387,openstack/nova,master,Id28858b623812812f14eabd38113990a3daec387,Collect duplicate codepaths in os_vif_util,MERGED,2019-01-31 12:36:03.000000000,2019-02-11 05:25:40.000000000,2019-02-07 12:32:06.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 25733}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-01-31 12:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc8bf4fa023a0b58ca56e8f7519e712a3a6f732c', 'message': ""Collect duplicate codepaths in os_vif_util\n\nThis change collects a number of associated codepaths into helper\nfunctions. The following steps have been broken out into functions:\n\n* Creating an os-vif instance for VNIC_TYPE_DIRECT VIFs.\n* Creating an os-vif port profile for ovs representor datapath offloads\n* Populating representor datapath offloads metadata in a VIF's port profile\n\nThis commit also harmonises indentation style a bit in the agilio_ovs\nand vrouter conversion functions.\n\nChange-Id: Id28858b623812812f14eabd38113990a3daec387\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\nblueprint: generic-os-vif-offloads\n""}, {'number': 2, 'created': '2019-01-31 13:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/79729058c8b51245c5b65b4ef8ad541a3e17b1c4', 'message': ""Collect duplicate codepaths in os_vif_util\n\nThis change collects a number of associated codepaths into helper\nfunctions. The following steps have been broken out into functions:\n\n* Creating an os-vif instance for VNIC_TYPE_DIRECT VIFs.\n* Creating an os-vif port profile for ovs representor datapath offloads\n* Populating representor datapath offloads metadata in a VIF's port profile\n\nThis commit also harmonises indentation style a bit in the agilio_ovs\nand vrouter conversion functions.\n\nChange-Id: Id28858b623812812f14eabd38113990a3daec387\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\nblueprint: generic-os-vif-offloads\n""}, {'number': 3, 'created': '2019-01-31 15:19:13.000000000', 'files': ['nova/network/os_vif_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e710df769b460b2a489cf620598504bc875c3b08', 'message': ""Collect duplicate codepaths in os_vif_util\n\nThis change collects a number of associated codepaths into helper\nfunctions. The following steps have been broken out into functions:\n\n* Creating an os-vif instance for VNIC_TYPE_DIRECT VIFs.\n* Creating an os-vif port profile for ovs representor datapath offloads\n* Populating representor datapath offloads metadata in a VIF's port profile\n\nThis commit also harmonises indentation style a bit in the agilio_ovs\nand vrouter conversion functions.\n\nChange-Id: Id28858b623812812f14eabd38113990a3daec387\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\nblueprint: generic-os-vif-offloads\n""}]",1,634219,e710df769b460b2a489cf620598504bc875c3b08,51,12,3,25733,,,0,"Collect duplicate codepaths in os_vif_util

This change collects a number of associated codepaths into helper
functions. The following steps have been broken out into functions:

* Creating an os-vif instance for VNIC_TYPE_DIRECT VIFs.
* Creating an os-vif port profile for ovs representor datapath offloads
* Populating representor datapath offloads metadata in a VIF's port profile

This commit also harmonises indentation style a bit in the agilio_ovs
and vrouter conversion functions.

Change-Id: Id28858b623812812f14eabd38113990a3daec387
Signed-off-by: Jan Gutter <jan.gutter@netronome.com>
blueprint: generic-os-vif-offloads
",git fetch https://review.opendev.org/openstack/nova refs/changes/19/634219/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/os_vif_util.py'],1,fc8bf4fa023a0b58ca56e8f7519e712a3a6f732c,bp/generic-os-vif-offloads,"def _set_representor_datapath_offload_settings(vif, obj): """"""Populate the representor datapath offload metadata in the port profile. This function should only be called if the VIF's ``vnic_type`` is in the VNIC_TYPES_SRIOV list, and the ``port_profile`` field of ``obj`` has been populated. :param vif: the nova.network.model.VIF instance :param obj: an os_vif.objects.vif.VIFBase instance """""" datapath_offload = objects.vif.DatapathOffloadRepresentor( representor_name=_get_vif_name(vif), representor_address=vif[""profile""][""pci_slot""]) obj.port_profile.datapath_offload = datapath_offload def _get_vnic_direct_vif_instance(vif, port_profile, plugin, set_bridge=True): """"""Instantiate an os-vif VIF instance for ``vnic_type`` = VNIC_TYPE_DIRECT :param vif: the nova.network.model.VIF instance :param port_profile: an os_vif.objects.vif.VIFPortProfileBase instance :param plugin: the os-vif plugin name :param set_bridge: if True, populate obj.network.bridge :returns: an os_vif.objects.vif.VIFHostDevice instance """""" obj = _get_vif_instance( vif, objects.vif.VIFHostDevice, port_profile=port_profile, plugin=plugin, dev_address=vif[""profile""][""pci_slot""], dev_type=objects.fields.VIFHostDeviceDevType.ETHERNET ) if set_bridge and vif[""network""][""bridge""] is not None: obj.network.bridge = vif[""network""][""bridge""] return obj def _get_ovs_representor_port_profile(vif): """"""Instantiate an os-vif port_profile object. :param vif: the nova.network.model.VIF instance :returns: an os_vif.objects.vif.VIFPortProfileOVSRepresentor instance """""" # TODO(jangutter): in accordance with the generic-os-vif-offloads spec, # the datapath offload info is duplicated in both interfaces for Stein. # The port profile should be transitioned to VIFPortProfileOpenVSwitch # during Train. return objects.vif.VIFPortProfileOVSRepresentor( interface_id=vif.get('ovs_interfaceid') or vif['id'], representor_name=_get_vif_name(vif), representor_address=vif[""profile""]['pci_slot']) obj = _get_vnic_direct_vif_instance( port_profile=_get_ovs_representor_port_profile(vif), plugin=""ovs"") _set_representor_datapath_offload_settings(vif, obj) if vnic_type == model.VNIC_TYPE_DIRECT: obj = _get_vnic_direct_vif_instance( vif, plugin=""agilio_ovs"", port_profile=_get_ovs_representor_port_profile(vif)) _set_representor_datapath_offload_settings(vif, obj) elif vnic_type == model.VNIC_TYPE_VIRTIO_FORWARDER: objects.vif.VIFVHostUser, port_profile=_get_ovs_representor_port_profile(vif), vif_name=_get_vif_name(vif)) _set_representor_datapath_offload_settings(vif, obj) vif_name=_get_vif_name(vif)) elif vnic_type == model.VNIC_TYPE_DIRECT: obj = _get_vnic_direct_vif_instance( port_profile=objects.vif.VIFPortProfileBase(), set_bridge=False) _set_representor_datapath_offload_settings(vif, obj) elif vnic_type == model.VNIC_TYPE_VIRTIO_FORWARDER: port_profile=objects.vif.VIFPortProfileBase(), vif_name=_get_vif_name(vif)) _set_representor_datapath_offload_settings(vif, obj)","from os_vif.objects import fields as os_vif_fields datapath_offload = objects.vif.DatapathOffloadRepresentor( representor_name=_get_vif_name(vif), representor_address=vif[""profile""][""pci_slot""] ) # NOTE(jangutter): in accordance with the generic-os-vif-offloads spec, # the datapath offload info is duplicated in both interfaces for Stein. # The port profile should be transitioned to # VIFPortProfileOpenVSwitch during Train. profile = objects.vif.VIFPortProfileOVSRepresentor( interface_id=vif.get('ovs_interfaceid') or vif['id'], representor_name=_get_vif_name(vif), representor_address=vif[""profile""]['pci_slot'], datapath_offload=datapath_offload) obj = _get_vif_instance( objects.vif.VIFHostDevice, port_profile=profile, plugin=""ovs"", dev_address=vif[""profile""]['pci_slot'], dev_type=os_vif_fields.VIFHostDeviceDevType.ETHERNET) if vif[""network""][""bridge""] is not None: obj.network.bridge = vif[""network""][""bridge""] # In practice, vif_name gets its value from vif[""devname""], passed by # the mechanism driver. vif_name = _get_vif_name(vif) agilio_vnic_types = [model.VNIC_TYPE_DIRECT, model.VNIC_TYPE_VIRTIO_FORWARDER] if vnic_type in agilio_vnic_types: # Note: passing representor_name asks os-vif to rename the # representor, setting this to vif_name is helpful for tracing. # VIF.port_profile.representor_address is used by the os-vif plugin's # plug/unplug, this should be the same as VIF.dev_address in the # VNIC_TYPE_DIRECT case. datapath_offload = objects.vif.DatapathOffloadRepresentor( representor_name=_get_vif_name(vif), representor_address=vif[""profile""][""pci_slot""] ) # NOTE(jangutter): in accordance with the generic-os-vif-offloads spec, # the datapath offload info is duplicated in both interfaces for Stein. # The port profile should be transitioned to # VIFPortProfileOpenVSwitch during Train. profile = objects.vif.VIFPortProfileOVSRepresentor( interface_id=vif.get('ovs_interfaceid') or vif['id'], representor_name=vif_name, representor_address=vif[""profile""][""pci_slot""], datapath_offload=datapath_offload) if vnic_type == model.VNIC_TYPE_DIRECT: # VIF.dev_address is used by the hypervisor to plug the instance into # the PCI device. objects.vif.VIFHostDevice, port_profile=profile, dev_address=vif[""profile""][""pci_slot""], dev_type=objects.fields.VIFHostDeviceDevType.ETHERNET) if vif[""network""][""bridge""] is not None: obj.network.bridge = vif[""network""][""bridge""] elif vnic_type == model.VNIC_TYPE_VIRTIO_FORWARDER: obj = _get_vif_instance(vif, objects.vif.VIFVHostUser, port_profile=profile, plugin=""agilio_ovs"", vif_name=vif_name) vif_name=_get_vif_name(vif) ) elif vnic_type == model.VNIC_TYPE_DIRECT: datapath_offload = objects.vif.DatapathOffloadRepresentor( representor_name=_get_vif_name(vif), representor_address=vif[""profile""][""pci_slot""] ) profile = objects.vif.VIFPortProfileBase( datapath_offload=datapath_offload ) obj = _get_vif_instance( objects.vif.VIFHostDevice, port_profile=profile, dev_address=vif[""profile""][""pci_slot""], dev_type=objects.fields.VIFHostDeviceDevType.ETHERNET ) elif vnic_type == model.VNIC_TYPE_VIRTIO_FORWARDER: datapath_offload = objects.vif.DatapathOffloadRepresentor( representor_name=_get_vif_name(vif), representor_address=vif[""profile""][""pci_slot""] ) profile = objects.vif.VIFPortProfileBase( datapath_offload=datapath_offload ) port_profile=profile, vif_name=_get_vif_name(vif) )",81,83
openstack%2Fnova~master~I1cb58292896642e557e8257c42b2713aed06fc37,openstack/nova,master,I1cb58292896642e557e8257c42b2713aed06fc37,Duplicate os-vif datapath offload metadata,MERGED,2019-01-31 12:36:03.000000000,2019-02-11 05:24:15.000000000,2019-02-05 17:47:33.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 25733}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-01-31 12:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3020ed0558e08f6a721cd1a0b28e772adfe78272', 'message': 'Duplicate os-vif datapath offload metadata\n\nThis patch duplicates the datapath offload metadata for the openvswitch\nand agilio_ovs os-vif plugins. The aim is to transition to the\ncomposed interface rather than the inherited class, while still\nproviding overlap for at least one release cycle.\n\nChange-Id: I1cb58292896642e557e8257c42b2713aed06fc37\nDepends-On: I401ee6370dad68e62bc2d089e786a840d91d0267\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\nblueprint: generic-os-vif-offloads\n'}, {'number': 2, 'created': '2019-01-31 13:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba3fe17b0390ef7027a37d2577b6a3ea14548ce9', 'message': 'Duplicate os-vif datapath offload metadata\n\nThis patch duplicates the datapath offload metadata for the openvswitch\nand agilio_ovs os-vif plugins. The aim is to transition to the\ncomposed interface rather than the inherited class, while still\nproviding overlap for at least one release cycle.\n\nChange-Id: I1cb58292896642e557e8257c42b2713aed06fc37\nDepends-On: I401ee6370dad68e62bc2d089e786a840d91d0267\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\nblueprint: generic-os-vif-offloads\n'}, {'number': 3, 'created': '2019-01-31 15:19:13.000000000', 'files': ['nova/tests/unit/network/test_os_vif_util.py', 'nova/network/os_vif_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ecfdec5a6ed0de56c4a5b1649a17f5f229d9470b', 'message': 'Duplicate os-vif datapath offload metadata\n\nThis patch duplicates the datapath offload metadata for the openvswitch\nand agilio_ovs os-vif plugins. The aim is to transition to the\ncomposed interface rather than the inherited class, while still\nproviding overlap for at least one release cycle.\n\nChange-Id: I1cb58292896642e557e8257c42b2713aed06fc37\nDepends-On: I401ee6370dad68e62bc2d089e786a840d91d0267\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\nblueprint: generic-os-vif-offloads\n'}]",6,634218,ecfdec5a6ed0de56c4a5b1649a17f5f229d9470b,53,13,3,25733,,,0,"Duplicate os-vif datapath offload metadata

This patch duplicates the datapath offload metadata for the openvswitch
and agilio_ovs os-vif plugins. The aim is to transition to the
composed interface rather than the inherited class, while still
providing overlap for at least one release cycle.

Change-Id: I1cb58292896642e557e8257c42b2713aed06fc37
Depends-On: I401ee6370dad68e62bc2d089e786a840d91d0267
Signed-off-by: Jan Gutter <jan.gutter@netronome.com>
blueprint: generic-os-vif-offloads
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/634218/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/network/test_os_vif_util.py', 'nova/network/os_vif_util.py']",2,3020ed0558e08f6a721cd1a0b28e772adfe78272,bp/generic-os-vif-offloads," datapath_offload = objects.vif.DatapathOffloadRepresentor( representor_name=_get_vif_name(vif), representor_address=vif[""profile""][""pci_slot""] ) # NOTE(jangutter): in accordance with the generic-os-vif-offloads spec, # the datapath offload info is duplicated in both interfaces for Stein. # The port profile should be transitioned to # VIFPortProfileOpenVSwitch during Train. representor_address=vif[""profile""]['pci_slot'], datapath_offload=datapath_offload) datapath_offload = objects.vif.DatapathOffloadRepresentor( representor_name=_get_vif_name(vif), representor_address=vif[""profile""][""pci_slot""] ) # NOTE(jangutter): in accordance with the generic-os-vif-offloads spec, # the datapath offload info is duplicated in both interfaces for Stein. # The port profile should be transitioned to # VIFPortProfileOpenVSwitch during Train. representor_address=vif[""profile""][""pci_slot""], datapath_offload=datapath_offload)"," representor_address=vif[""profile""]['pci_slot']) representor_address=vif[""profile""][""pci_slot""])",32,5
openstack%2Fnova~master~I7e1edede827cf8469771c0496b1dce55c627cf5d,openstack/nova,master,I7e1edede827cf8469771c0496b1dce55c627cf5d,Reject networks with QoS policy,MERGED,2018-05-22 23:32:17.000000000,2019-02-11 05:16:12.000000000,2019-02-02 17:58:36.000000000,"[{'_account_id': 7}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15554}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 17685}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-22 23:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/699cc474aed0919688ba3ee5f07c6fcc66eb7f80', 'message': 'Reject networks with QoS policy\n\nWhen nova needs to create ports in neutron in a network that has minimum\nbandwidth policy nova would need to create allocation for the bandwidth\nresources. The port creation happens in the compute manager after the\nscheduling and resource claiming. Supporting this considered out of\nscope for the first iteration of this feature.\n\nTo avoid resource allocation inconsistencies this patch propose to\nreject such request.\n\nChange-Id: I7e1edede827cf8469771c0496b1dce55c627cf5d\nblueprint: bandwidth-resource-provider\n'}, {'number': 2, 'created': '2018-05-31 09:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a68727063116fae252ac2f3cca904494b072516d', 'message': 'Reject networks with QoS policy\n\nWhen nova needs to create ports in Neutron in a network that has minimum\nbandwidth policy Nova would need to create allocation for the bandwidth\nresources. The port creation happens in the compute manager after the\nscheduling and resource claiming. Supporting for this is considered out\nof scope for the first iteration of this feature.\n\nTo avoid resource allocation inconsistencies this patch propose to\nreject such request. This rejection does not break any existing as\nminimum bandwidth policy rule only supported by the SRIOV Neutron\nbackend but Nova only support booting with SRIOV port if those ports\nare precreated in Neutron.\n\nChange-Id: I7e1edede827cf8469771c0496b1dce55c627cf5d\nblueprint: bandwidth-resource-provider\n'}, {'number': 3, 'created': '2018-06-14 17:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b6591211b37f12a27ff48fbb8e61d77cae419e57', 'message': 'Reject networks with QoS policy\n\nWhen nova needs to create ports in Neutron in a network that has minimum\nbandwidth policy Nova would need to create allocation for the bandwidth\nresources. The port creation happens in the compute manager after the\nscheduling and resource claiming. Supporting for this is considered out\nof scope for the first iteration of this feature.\n\nTo avoid resource allocation inconsistencies this patch propose to\nreject such request. This rejection does not break any existing as\nminimum bandwidth policy rule only supported by the SRIOV Neutron\nbackend but Nova only support booting with SRIOV port if those ports\nare precreated in Neutron.\n\nChange-Id: I7e1edede827cf8469771c0496b1dce55c627cf5d\nblueprint: bandwidth-resource-provider\n'}, {'number': 4, 'created': '2018-09-27 15:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab7c1ac1de64d55af12d8c75972b4b6c424b2f92', 'message': 'Reject networks with QoS policy\n\nWhen nova needs to create ports in Neutron in a network that has minimum\nbandwidth policy Nova would need to create allocation for the bandwidth\nresources. The port creation happens in the compute manager after the\nscheduling and resource claiming. Supporting for this is considered out\nof scope for the first iteration of this feature.\n\nTo avoid resource allocation inconsistencies this patch propose to\nreject such request. This rejection does not break any existing as\nminimum bandwidth policy rule only supported by the SRIOV Neutron\nbackend but Nova only support booting with SRIOV port if those ports\nare precreated in Neutron.\n\nChange-Id: I7e1edede827cf8469771c0496b1dce55c627cf5d\nblueprint: bandwidth-resource-provider\n'}, {'number': 5, 'created': '2018-09-28 15:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3bf3b069307942beb18d3632c7cd6a39103ba16a', 'message': 'Reject networks with QoS policy\n\nWhen nova needs to create ports in Neutron in a network that has minimum\nbandwidth policy Nova would need to create allocation for the bandwidth\nresources. The port creation happens in the compute manager after the\nscheduling and resource claiming. Supporting for this is considered out\nof scope for the first iteration of this feature.\n\nTo avoid resource allocation inconsistencies this patch propose to\nreject such request. This rejection does not break any existing as\nminimum bandwidth policy rule only supported by the SRIOV Neutron\nbackend but Nova only support booting with SRIOV port if those ports\nare precreated in Neutron.\n\nChange-Id: I7e1edede827cf8469771c0496b1dce55c627cf5d\nblueprint: bandwidth-resource-provider\n'}, {'number': 6, 'created': '2018-10-31 17:01:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7fa035e1e4191145fe8d971fa0158fa5297bdcb1', 'message': 'Reject networks with QoS policy\n\nWhen nova needs to create ports in Neutron in a network that has minimum\nbandwidth policy Nova would need to create allocation for the bandwidth\nresources. The port creation happens in the compute manager after the\nscheduling and resource claiming. Supporting for this is considered out\nof scope for the first iteration of this feature.\n\nTo avoid resource allocation inconsistencies this patch propose to\nreject such request. This rejection does not break any existing as\nminimum bandwidth policy rule only supported by the SRIOV Neutron\nbackend but Nova only support booting with SRIOV port if those ports\nare precreated in Neutron.\n\nChange-Id: I7e1edede827cf8469771c0496b1dce55c627cf5d\nblueprint: bandwidth-resource-provider\n'}, {'number': 7, 'created': '2018-11-05 22:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8790a18433db0df7b0267ff96f8ed0db34096243', 'message': 'Reject networks with QoS policy\n\nWhen nova needs to create ports in Neutron in a network that has minimum\nbandwidth policy Nova would need to create allocation for the bandwidth\nresources. The port creation happens in the compute manager after the\nscheduling and resource claiming. Supporting for this is considered out\nof scope for the first iteration of this feature.\n\nTo avoid resource allocation inconsistencies this patch propose to\nreject such request. This rejection does not break any existing as\nminimum bandwidth policy rule only supported by the SRIOV Neutron\nbackend but Nova only support booting with SRIOV port if those ports\nare precreated in Neutron.\n\nChange-Id: I7e1edede827cf8469771c0496b1dce55c627cf5d\nblueprint: bandwidth-resource-provider\n'}, {'number': 8, 'created': '2018-12-03 12:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1148c604d40c4e469b8f24a1c6439deaab82fc55', 'message': 'Reject networks with QoS policy\n\nWhen nova needs to create ports in Neutron in a network that has minimum\nbandwidth policy Nova would need to create allocation for the bandwidth\nresources. The port creation happens in the compute manager after the\nscheduling and resource claiming. Supporting for this is considered out\nof scope for the first iteration of this feature.\n\nTo avoid resource allocation inconsistencies this patch propose to\nreject such request. This rejection does not break any existing as\nminimum bandwidth policy rule only supported by the SRIOV Neutron\nbackend but Nova only support booting with SRIOV port if those ports\nare precreated in Neutron.\n\nCo-Authored-By: Elod Illes <elod.illes@ericsson.com>\n\nChange-Id: I7e1edede827cf8469771c0496b1dce55c627cf5d\nblueprint: bandwidth-resource-provider\n'}, {'number': 9, 'created': '2018-12-03 12:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ebd39f10cf45a4ba7bbd12d37b6e5b05c2a60253', 'message': 'Reject networks with QoS policy\n\nWhen nova needs to create ports in Neutron in a network that has minimum\nbandwidth policy Nova would need to create allocation for the bandwidth\nresources. The port creation happens in the compute manager after the\nscheduling and resource claiming. Supporting for this is considered out\nof scope for the first iteration of this feature.\n\nTo avoid resource allocation inconsistencies this patch propose to\nreject such request. This rejection does not break any existing as\nminimum bandwidth policy rule only supported by the SRIOV Neutron\nbackend but Nova only support booting with SRIOV port if those ports\nare precreated in Neutron.\n\nCo-Authored-By: Elod Illes <elod.illes@ericsson.com>\n\nChange-Id: I7e1edede827cf8469771c0496b1dce55c627cf5d\nblueprint: bandwidth-resource-provider\n'}, {'number': 10, 'created': '2018-12-03 15:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c7f0765bad59f7602cb77e15994c23f735165cab', 'message': 'Reject networks with QoS policy\n\nWhen nova needs to create ports in Neutron in a network that has minimum\nbandwidth policy Nova would need to create allocation for the bandwidth\nresources. The port creation happens in the compute manager after the\nscheduling and resource claiming. Supporting for this is considered out\nof scope for the first iteration of this feature.\n\nTo avoid resource allocation inconsistencies this patch propose to\nreject such request. This rejection does not break any existing as\nminimum bandwidth policy rule only supported by the SRIOV Neutron\nbackend but Nova only support booting with SRIOV port if those ports\nare precreated in Neutron.\n\nCo-Authored-By: Elod Illes <elod.illes@ericsson.com>\n\nChange-Id: I7e1edede827cf8469771c0496b1dce55c627cf5d\nblueprint: bandwidth-resource-provider\n'}, {'number': 11, 'created': '2018-12-10 09:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c5083927a35c60b53aca9c65bfb8baebd1dcff5', 'message': 'Reject networks with QoS policy\n\nWhen nova needs to create ports in Neutron in a network that has minimum\nbandwidth policy Nova would need to create allocation for the bandwidth\nresources. The port creation happens in the compute manager after the\nscheduling and resource claiming. Supporting for this is considered out\nof scope for the first iteration of this feature.\n\nTo avoid resource allocation inconsistencies this patch propose to\nreject such request. This rejection does not break any existing as\nminimum bandwidth policy rule only supported by the SRIOV Neutron\nbackend but Nova only support booting with SRIOV port if those ports\nare precreated in Neutron.\n\nCo-Authored-By: Elod Illes <elod.illes@ericsson.com>\n\nChange-Id: I7e1edede827cf8469771c0496b1dce55c627cf5d\nblueprint: bandwidth-resource-provider\n'}, {'number': 12, 'created': '2018-12-14 14:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07c031eb608ead153a5ac9275592e37fa2d6705b', 'message': 'Reject networks with QoS policy\n\nWhen nova needs to create ports in Neutron in a network that has minimum\nbandwidth policy Nova would need to create allocation for the bandwidth\nresources. The port creation happens in the compute manager after the\nscheduling and resource claiming. Supporting for this is considered out\nof scope for the first iteration of this feature.\n\nTo avoid resource allocation inconsistencies this patch propose to\nreject such request. This rejection does not break any existing as\nminimum bandwidth policy rule only supported by the SRIOV Neutron\nbackend but Nova only support booting with SRIOV port if those ports\nare precreated in Neutron.\n\nCo-Authored-By: Elod Illes <elod.illes@ericsson.com>\n\nChange-Id: I7e1edede827cf8469771c0496b1dce55c627cf5d\nblueprint: bandwidth-resource-provider\n'}, {'number': 13, 'created': '2018-12-18 15:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e75ed76179777a689f0052b8ac3d840bb1974890', 'message': 'Reject networks with QoS policy\n\nWhen nova needs to create ports in Neutron in a network that has minimum\nbandwidth policy Nova would need to create allocation for the bandwidth\nresources. The port creation happens in the compute manager after the\nscheduling and resource claiming. Supporting for this is considered out\nof scope for the first iteration of this feature.\n\nTo avoid resource allocation inconsistencies this patch propose to\nreject such request. This rejection does not break any existing as\nminimum bandwidth policy rule only supported by the SRIOV Neutron\nbackend but Nova only support booting with SRIOV port if those ports\nare precreated in Neutron.\n\nCo-Authored-By: Elod Illes <elod.illes@ericsson.com>\n\nChange-Id: I7e1edede827cf8469771c0496b1dce55c627cf5d\nblueprint: bandwidth-resource-provider\n'}, {'number': 14, 'created': '2018-12-19 15:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a24378b70466618a15b4b02043c7e4a7e4a085c', 'message': 'Reject networks with QoS policy\n\nWhen nova needs to create ports in Neutron in a network that has minimum\nbandwidth policy Nova would need to create allocation for the bandwidth\nresources. The port creation happens in the compute manager after the\nscheduling and resource claiming. Supporting for this is considered out\nof scope for the first iteration of this feature.\n\nTo avoid resource allocation inconsistencies this patch propose to\nreject such request. This rejection does not break any existing as\nminimum bandwidth policy rule only supported by the SRIOV Neutron\nbackend but Nova only support booting with SRIOV port if those ports\nare precreated in Neutron.\n\nCo-Authored-By: Elod Illes <elod.illes@ericsson.com>\n\nChange-Id: I7e1edede827cf8469771c0496b1dce55c627cf5d\nblueprint: bandwidth-resource-provider\n'}, {'number': 15, 'created': '2018-12-20 10:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b4552d37f13a649129bec8de95f45676a6a7470', 'message': 'Reject networks with QoS policy\n\nWhen nova needs to create ports in Neutron in a network that has minimum\nbandwidth policy Nova would need to create allocation for the bandwidth\nresources. The port creation happens in the compute manager after the\nscheduling and resource claiming. Supporting for this is considered out\nof scope for the first iteration of this feature.\n\nTo avoid resource allocation inconsistencies this patch propose to\nreject such request. This rejection does not break any existing as\nminimum bandwidth policy rule only supported by the SRIOV Neutron\nbackend but Nova only support booting with SRIOV port if those ports\nare precreated in Neutron.\n\nCo-Authored-By: Elod Illes <elod.illes@ericsson.com>\n\nChange-Id: I7e1edede827cf8469771c0496b1dce55c627cf5d\nblueprint: bandwidth-resource-provider\n'}, {'number': 16, 'created': '2018-12-20 16:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b7879442ce7d60c7a90b7d6ca6e82f0e7e4040a', 'message': 'Reject networks with QoS policy\n\nWhen nova needs to create ports in Neutron in a network that has minimum\nbandwidth policy Nova would need to create allocation for the bandwidth\nresources. The port creation happens in the compute manager after the\nscheduling and resource claiming. Supporting for this is considered out\nof scope for the first iteration of this feature.\n\nTo avoid resource allocation inconsistencies this patch propose to\nreject such request. This rejection does not break any existing as\nminimum bandwidth policy rule only supported by the SRIOV Neutron\nbackend but Nova only support booting with SRIOV port if those ports\nare precreated in Neutron.\n\nCo-Authored-By: Elod Illes <elod.illes@ericsson.com>\n\nChange-Id: I7e1edede827cf8469771c0496b1dce55c627cf5d\nblueprint: bandwidth-resource-provider\n'}, {'number': 17, 'created': '2019-01-14 16:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c5af4404c68de70d24e66e7c7d41d09f05c9f27', 'message': 'Reject networks with QoS policy\n\nWhen nova needs to create ports in Neutron in a network that has minimum\nbandwidth policy Nova would need to create allocation for the bandwidth\nresources. The port creation happens in the compute manager after the\nscheduling and resource claiming. Supporting for this is considered out\nof scope for the first iteration of this feature.\n\nTo avoid resource allocation inconsistencies this patch propose to\nreject such request. This rejection does not break any existing as\nminimum bandwidth policy rule only supported by the SRIOV Neutron\nbackend but Nova only support booting with SRIOV port if those ports\nare precreated in Neutron.\n\nCo-Authored-By: Elod Illes <elod.illes@ericsson.com>\n\nChange-Id: I7e1edede827cf8469771c0496b1dce55c627cf5d\nblueprint: bandwidth-resource-provider\n'}, {'number': 18, 'created': '2019-01-24 16:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fbd57c388c5442cde6e53eeb3f4cae48faa46d1f', 'message': 'Reject networks with QoS policy\n\nWhen nova needs to create ports in Neutron in a network that has minimum\nbandwidth policy Nova would need to create allocation for the bandwidth\nresources. The port creation happens in the compute manager after the\nscheduling and resource claiming. Supporting for this is considered out\nof scope for the first iteration of this feature.\n\nTo avoid resource allocation inconsistencies this patch propose to\nreject such request. This rejection does not break any existing as\nminimum bandwidth policy rule only supported by the SRIOV Neutron\nbackend but Nova only support booting with SRIOV port if those ports\nare precreated in Neutron.\n\nCo-Authored-By: Elod Illes <elod.illes@ericsson.com>\n\nChange-Id: I7e1edede827cf8469771c0496b1dce55c627cf5d\nblueprint: bandwidth-resource-provider\n'}, {'number': 19, 'created': '2019-01-26 16:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/651318bf522a4b997f5cb39df50bf9f07d6e15d0', 'message': 'Reject networks with QoS policy\n\nWhen nova needs to create ports in Neutron in a network that has minimum\nbandwidth policy Nova would need to create allocation for the bandwidth\nresources. The port creation happens in the compute manager after the\nscheduling and resource claiming. Supporting for this is considered out\nof scope for the first iteration of this feature.\n\nTo avoid resource allocation inconsistencies this patch propose to\nreject such request. This rejection does not break any existing use\ncase as minimum bandwidth policy rule only supported by the SRIOV\nNeutron backend but Nova only support booting with SRIOV port if those\nports are precreated in Neutron.\n\nCo-Authored-By: Elod Illes <elod.illes@ericsson.com>\n\nChange-Id: I7e1edede827cf8469771c0496b1dce55c627cf5d\nblueprint: bandwidth-resource-provider\n'}, {'number': 20, 'created': '2019-01-28 14:50:39.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py', 'nova/api/openstack/compute/attach_interfaces.py', 'nova/exception.py', 'nova/virt/fake.py', 'nova/compute/manager.py', 'nova/tests/functional/test_servers.py', 'releasenotes/notes/reject-networks-with-qos-policy-2746c74fd1f3ff26.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/8364abecfafdbe2a7f65ea5e7b787bcbb6412844', 'message': 'Reject networks with QoS policy\n\nWhen nova needs to create ports in Neutron in a network that has minimum\nbandwidth policy Nova would need to create allocation for the bandwidth\nresources. The port creation happens in the compute manager after the\nscheduling and resource claiming. Supporting for this is considered out\nof scope for the first iteration of this feature.\n\nTo avoid resource allocation inconsistencies this patch propose to\nreject such request. This rejection does not break any existing use\ncase as minimum bandwidth policy rule only supported by the SRIOV\nNeutron backend but Nova only support booting with SRIOV port if those\nports are precreated in Neutron.\n\nCo-Authored-By: Elod Illes <elod.illes@ericsson.com>\n\nChange-Id: I7e1edede827cf8469771c0496b1dce55c627cf5d\nblueprint: bandwidth-resource-provider\n'}]",42,570079,8364abecfafdbe2a7f65ea5e7b787bcbb6412844,303,22,20,9708,,,0,"Reject networks with QoS policy

When nova needs to create ports in Neutron in a network that has minimum
bandwidth policy Nova would need to create allocation for the bandwidth
resources. The port creation happens in the compute manager after the
scheduling and resource claiming. Supporting for this is considered out
of scope for the first iteration of this feature.

To avoid resource allocation inconsistencies this patch propose to
reject such request. This rejection does not break any existing use
case as minimum bandwidth policy rule only supported by the SRIOV
Neutron backend but Nova only support booting with SRIOV port if those
ports are precreated in Neutron.

Co-Authored-By: Elod Illes <elod.illes@ericsson.com>

Change-Id: I7e1edede827cf8469771c0496b1dce55c627cf5d
blueprint: bandwidth-resource-provider
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/570079/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/exception.py']",2,699cc474aed0919688ba3ee5f07c6fcc66eb7f80,bp/bandwidth-resource-provider,"class NetworksWithQoSPolicyNotSupported(Invalid): msg_fmt = _(""Using networks with QoS policy is not supported for "" ""instance %(instance_uuid)s."") ",,10,0
openstack%2Fnova~master~Id3813d8b064f0981b51c9ffbb90fc819e9617e42,openstack/nova,master,Id3813d8b064f0981b51c9ffbb90fc819e9617e42,Create RequestGroup from neutron port,MERGED,2018-12-18 15:49:46.000000000,2019-02-11 05:09:27.000000000,2019-02-03 00:43:41.000000000,"[{'_account_id': 7}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-12-18 15:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/62c09a335c586ab176aba3de5a13febc36f29940', 'message': 'Create RequestGroup from neutron port\n\nThis patch adds a factory method for the RequestGroup ovo that\nconsutruct an object based on the resource request in a neutron port.\n\nblueprint bandwidth-resource-provider\n\nChange-Id: Id3813d8b064f0981b51c9ffbb90fc819e9617e42\n'}, {'number': 2, 'created': '2018-12-19 15:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0d641b0636ad1910219ee12786894b72fc0092b', 'message': 'Create RequestGroup from neutron port\n\nThis patch adds a factory method for the RequestGroup ovo that\nconstructs an object based on the resource request in a neutron port.\n\nblueprint bandwidth-resource-provider\n\nChange-Id: Id3813d8b064f0981b51c9ffbb90fc819e9617e42\n'}, {'number': 3, 'created': '2018-12-20 10:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/01ecde1e16fa469d411d5c1f95225dd44ae13af0', 'message': 'Create RequestGroup from neutron port\n\nThis patch adds a factory method for the RequestGroup ovo that\nconstructs an object based on the resource request in a neutron port.\n\nblueprint bandwidth-resource-provider\n\nChange-Id: Id3813d8b064f0981b51c9ffbb90fc819e9617e42\n'}, {'number': 4, 'created': '2019-01-14 16:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a24bf1c5089b7cdd114a652c695487bcbb53e53', 'message': 'Create RequestGroup from neutron port\n\nThis patch adds a factory method for the RequestGroup ovo that\nconstructs an object based on the resource request in a neutron port.\n\nblueprint bandwidth-resource-provider\n\nChange-Id: Id3813d8b064f0981b51c9ffbb90fc819e9617e42\n'}, {'number': 5, 'created': '2019-01-24 16:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c500670449fede4ec993a262199753d931653646', 'message': 'Create RequestGroup from neutron port\n\nThis patch adds a factory method for the RequestGroup ovo that\nconstructs an object based on the resource request in a neutron port.\n\nblueprint bandwidth-resource-provider\n\nChange-Id: Id3813d8b064f0981b51c9ffbb90fc819e9617e42\n'}, {'number': 6, 'created': '2019-01-26 16:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a5c2e52dbeb3e915b096c802e49d25d4b1059c6', 'message': 'Create RequestGroup from neutron port\n\nThis patch adds a factory method for the RequestGroup ovo that\nconstructs an object based on the resource request in a neutron port.\n\nblueprint bandwidth-resource-provider\n\nChange-Id: Id3813d8b064f0981b51c9ffbb90fc819e9617e42\n'}, {'number': 7, 'created': '2019-01-28 14:51:40.000000000', 'files': ['nova/objects/request_spec.py', 'nova/tests/unit/objects/test_request_spec.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1d44fbddefb11421523c8ae5815642da0e22f8ea', 'message': 'Create RequestGroup from neutron port\n\nThis patch adds a factory method for the RequestGroup ovo that\nconstructs an object based on the resource request in a neutron port.\n\nblueprint bandwidth-resource-provider\n\nChange-Id: Id3813d8b064f0981b51c9ffbb90fc819e9617e42\n'}]",3,625941,1d44fbddefb11421523c8ae5815642da0e22f8ea,117,17,7,9708,,,0,"Create RequestGroup from neutron port

This patch adds a factory method for the RequestGroup ovo that
constructs an object based on the resource request in a neutron port.

blueprint bandwidth-resource-provider

Change-Id: Id3813d8b064f0981b51c9ffbb90fc819e9617e42
",git fetch https://review.opendev.org/openstack/nova refs/changes/41/625941/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/request_spec.py', 'nova/tests/unit/objects/test_request_spec.py']",2,62c09a335c586ab176aba3de5a13febc36f29940,bp/bandwidth-resource-provider," def test_from_port_request(self): port_resource_request = { ""resources"": { ""NET_BW_IGR_KILOBIT_PER_SEC"": 1000, ""NET_BW_EGR_KILOBIT_PER_SEC"": 1000}, ""required"": [""CUSTOM_PHYSNET_2"", ""CUSTOM_VNIC_TYPE_NORMAL""] } rg = request_spec.RequestGroup.from_port_request( self.context, port_resource_request) self.assertTrue(rg.use_same_provider) self.assertEqual( {""NET_BW_IGR_KILOBIT_PER_SEC"": 1000, ""NET_BW_EGR_KILOBIT_PER_SEC"": 1000}, rg.resources) self.assertEqual({""CUSTOM_PHYSNET_2"", ""CUSTOM_VNIC_TYPE_NORMAL""}, rg.required_traits) # and the rest is defaulted self.assertEqual(set(), rg.forbidden_traits) self.assertEqual([], rg.aggregates) def test_from_port_request_without_traits(self): port_resource_request = { ""resources"": { ""NET_BW_IGR_KILOBIT_PER_SEC"": 1000, ""NET_BW_EGR_KILOBIT_PER_SEC"": 1000}} rg = request_spec.RequestGroup.from_port_request( self.context, port_resource_request) self.assertTrue(rg.use_same_provider) self.assertEqual( {""NET_BW_IGR_KILOBIT_PER_SEC"": 1000, ""NET_BW_EGR_KILOBIT_PER_SEC"": 1000}, rg.resources) # and the rest is defaulted self.assertEqual(set(), rg.required_traits) self.assertEqual(set(), rg.forbidden_traits) self.assertEqual([], rg.aggregates)",,72,0
openstack%2Fnova~master~Iece924e85409bd4d9cd38ce6ced7883ffc905310,openstack/nova,master,Iece924e85409bd4d9cd38ce6ced7883ffc905310,Consolidate inventory refresh,MERGED,2018-11-06 00:04:47.000000000,2019-02-11 04:55:39.000000000,2019-01-30 22:21:07.000000000,"[{'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 2033}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 13692}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26936}, {'_account_id': 29344}]","[{'number': 1, 'created': '2018-11-06 00:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7eb8c9f299d5fec10df591b486b572db21a007c2', 'message': 'WIP: Remove redundant inventory refresh\n\nget_provider_tree_and_ensure_root already refreshes inventories via the\n_ensure_resource_provider code path, so the additional call to\n_refresh_and_get_inventories in get_provider_tree_and_ensure_root is not\nnecessary.\n\nChange-Id: Iece924e85409bd4d9cd38ce6ced7883ffc905310\nWIP: Test\n'}, {'number': 2, 'created': '2018-11-06 22:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ab928e3f0e05dd4861723d888507727a7efb037', 'message': 'WIP: Remove redundant inventory refresh\n\nget_provider_tree_and_ensure_root already refreshes inventories via the\n_ensure_resource_provider code path, so the additional call to\n_refresh_and_get_inventories in get_provider_tree_and_ensure_root is not\nnecessary.\n\nChange-Id: Iece924e85409bd4d9cd38ce6ced7883ffc905310\nWIP: Test\n'}, {'number': 3, 'created': '2018-11-06 23:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/95d8a56a57358cad41c821415750c59ba9a58f4e', 'message': 'Consolidate inventory refresh\n\nget_provider_tree_and_ensure_root now refreshes inventories via the\n_ensure_resource_provider code path, so the call to\n_refresh_and_get_inventories in get_provider_tree_and_ensure_root is no\nlonger necessary.\n\nChange-Id: Iece924e85409bd4d9cd38ce6ced7883ffc905310\n'}, {'number': 4, 'created': '2018-11-06 23:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/27ab7b52a68ddd658b5950147de018cce66f1d84', 'message': 'Consolidate inventory refresh\n\nget_provider_tree_and_ensure_root now refreshes inventories via the\n_ensure_resource_provider code path, so the call to\n_refresh_and_get_inventories in get_provider_tree_and_ensure_root is no\nlonger necessary.\n\nChange-Id: Iece924e85409bd4d9cd38ce6ced7883ffc905310\n'}, {'number': 5, 'created': '2018-11-08 23:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/940358200bbedac57c32db51c33a004b826c171e', 'message': 'Consolidate inventory refresh\n\nget_provider_tree_and_ensure_root now refreshes inventories via the\n_ensure_resource_provider code path, so the call to\n_refresh_and_get_inventories in get_provider_tree_and_ensure_root is no\nlonger necessary.\n\nChange-Id: Iece924e85409bd4d9cd38ce6ced7883ffc905310\n'}, {'number': 6, 'created': '2018-11-08 23:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce1fe804df14a96f094191808432bb50bbd75c04', 'message': 'Consolidate inventory refresh\n\nget_provider_tree_and_ensure_root now refreshes inventories via the\n_ensure_resource_provider code path, so the call to\n_refresh_and_get_inventories in get_provider_tree_and_ensure_root is no\nlonger necessary.\n\nChange-Id: Iece924e85409bd4d9cd38ce6ced7883ffc905310\n'}, {'number': 7, 'created': '2018-11-09 22:18:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3e81bc51be2d92316894d985f54668186780ac57', 'message': 'Consolidate inventory refresh\n\nget_provider_tree_and_ensure_root now refreshes inventories via the\n_ensure_resource_provider code path, so the call to\n_refresh_and_get_inventories in get_provider_tree_and_ensure_root is no\nlonger necessary.\n\nChange-Id: Iece924e85409bd4d9cd38ce6ced7883ffc905310\n'}, {'number': 8, 'created': '2018-11-10 01:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5cdb825394f3015ef4b1224eb7d9f55633d217e9', 'message': 'Consolidate inventory refresh\n\nget_provider_tree_and_ensure_root now refreshes inventories via the\n_ensure_resource_provider code path, so the call to\n_refresh_and_get_inventories in get_provider_tree_and_ensure_root is no\nlonger necessary.\n\nChange-Id: Iece924e85409bd4d9cd38ce6ced7883ffc905310\n'}, {'number': 9, 'created': '2018-11-27 20:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7b6e01396c102bf37e0e2c08c99cd7319dbd02dc', 'message': 'Consolidate inventory refresh\n\nget_provider_tree_and_ensure_root now refreshes inventories via the\n_ensure_resource_provider code path, so the call to\n_refresh_and_get_inventories in get_provider_tree_and_ensure_root is no\nlonger necessary.\n\nChange-Id: Iece924e85409bd4d9cd38ce6ced7883ffc905310\n'}, {'number': 10, 'created': '2018-11-29 21:45:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd9b0b408250a9168ed26079f20d71ecd6c9e5a0', 'message': 'Consolidate inventory refresh\n\nget_provider_tree_and_ensure_root now refreshes inventories via the\n_ensure_resource_provider code path, so the call to\n_refresh_and_get_inventories in get_provider_tree_and_ensure_root is no\nlonger necessary.\n\nChange-Id: Iece924e85409bd4d9cd38ce6ced7883ffc905310\n'}, {'number': 11, 'created': '2018-11-29 22:56:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/49a6f48cabe14e43080fa05834486dc2f35e1d72', 'message': 'Consolidate inventory refresh\n\nget_provider_tree_and_ensure_root now refreshes inventories via the\n_ensure_resource_provider code path, so the call to\n_refresh_and_get_inventories in get_provider_tree_and_ensure_root is no\nlonger necessary.\n\nChange-Id: Iece924e85409bd4d9cd38ce6ced7883ffc905310\n'}, {'number': 12, 'created': '2018-11-30 17:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de1467a5b31c19b4c3443efb635059d0287ff806', 'message': 'Consolidate inventory refresh\n\nget_provider_tree_and_ensure_root now refreshes inventories via the\n_ensure_resource_provider code path, so the call to\n_refresh_and_get_inventories in get_provider_tree_and_ensure_root is no\nlonger necessary.\n\nChange-Id: Iece924e85409bd4d9cd38ce6ced7883ffc905310\n'}, {'number': 13, 'created': '2018-11-30 22:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7b9ed01d6a3dc1aaaf4a4f38a431b351df62e305', 'message': 'Consolidate inventory refresh\n\nget_provider_tree_and_ensure_root now refreshes inventories via the\n_ensure_resource_provider code path, so the call to\n_refresh_and_get_inventories in get_provider_tree_and_ensure_root is no\nlonger necessary.\n\nChange-Id: Iece924e85409bd4d9cd38ce6ced7883ffc905310\n'}, {'number': 14, 'created': '2018-12-04 15:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6622b228a6521200c169495dd51e06cf23080669', 'message': 'Consolidate inventory refresh\n\nget_provider_tree_and_ensure_root now refreshes inventories via the\n_ensure_resource_provider code path, so the call to\n_refresh_and_get_inventories in get_provider_tree_and_ensure_root is no\nlonger necessary.\n\nChange-Id: Iece924e85409bd4d9cd38ce6ced7883ffc905310\n'}, {'number': 15, 'created': '2019-01-11 22:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db49e921b3f60f854e737df027ced2c0887da51e', 'message': 'Consolidate inventory refresh\n\nget_provider_tree_and_ensure_root now refreshes inventories via the\n_ensure_resource_provider code path, so the call to\n_refresh_and_get_inventories in get_provider_tree_and_ensure_root is no\nlonger necessary.\n\nChange-Id: Iece924e85409bd4d9cd38ce6ced7883ffc905310\n'}, {'number': 16, 'created': '2019-01-11 23:13:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/167754f2fdfef7340ec87ac95561efc7b7233e85', 'message': 'Consolidate inventory refresh\n\nget_provider_tree_and_ensure_root now refreshes inventories via the\n_ensure_resource_provider code path, so the call to\n_refresh_and_get_inventories in get_provider_tree_and_ensure_root is no\nlonger necessary.\n\nChange-Id: Iece924e85409bd4d9cd38ce6ced7883ffc905310\n'}, {'number': 17, 'created': '2019-01-12 19:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6e49978b91e53d40dca766134340233163da374a', 'message': 'Consolidate inventory refresh\n\nget_provider_tree_and_ensure_root now refreshes inventories via the\n_ensure_resource_provider code path, so the call to\n_refresh_and_get_inventories in get_provider_tree_and_ensure_root is no\nlonger necessary.\n\nChange-Id: Iece924e85409bd4d9cd38ce6ced7883ffc905310\n'}, {'number': 18, 'created': '2019-01-15 20:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c1d48fa18829258497435bc75da15b305546d46e', 'message': 'Consolidate inventory refresh\n\nget_provider_tree_and_ensure_root now refreshes inventories via the\n_ensure_resource_provider code path, so the call to\n_refresh_and_get_inventories in get_provider_tree_and_ensure_root is no\nlonger necessary.\n\nChange-Id: Iece924e85409bd4d9cd38ce6ced7883ffc905310\n'}, {'number': 19, 'created': '2019-01-15 22:30:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d3a1d6f0aec99f06ed9af61313910561109a4886', 'message': 'Consolidate inventory refresh\n\nget_provider_tree_and_ensure_root now refreshes inventories via the\n_ensure_resource_provider code path, so the call to\n_refresh_and_get_inventories in get_provider_tree_and_ensure_root is no\nlonger necessary.\n\nChange-Id: Iece924e85409bd4d9cd38ce6ced7883ffc905310\n'}, {'number': 20, 'created': '2019-01-16 18:57:29.000000000', 'files': ['nova/conf/compute.py', 'nova/tests/functional/test_report_client.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py', 'nova/api/openstack/placement/handlers/reshaper.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2f77e7ad90300458f4cdaefabb8e62aadec6c5fd', 'message': 'Consolidate inventory refresh\n\nget_provider_tree_and_ensure_root now refreshes inventories via the\n_ensure_resource_provider code path, so the call to\n_refresh_and_get_inventories in get_provider_tree_and_ensure_root is no\nlonger necessary.\n\nChange-Id: Iece924e85409bd4d9cd38ce6ced7883ffc905310\n'}]",49,615695,2f77e7ad90300458f4cdaefabb8e62aadec6c5fd,288,24,20,14070,,,0,"Consolidate inventory refresh

get_provider_tree_and_ensure_root now refreshes inventories via the
_ensure_resource_provider code path, so the call to
_refresh_and_get_inventories in get_provider_tree_and_ensure_root is no
longer necessary.

Change-Id: Iece924e85409bd4d9cd38ce6ced7883ffc905310
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/615695/9 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/client/report.py'],1,7eb8c9f299d5fec10df591b486b572db21a007c2,static-rt-in-compute-mgr,," # Ensure inventories are up to date (for *all* cached RPs) for uuid in self._provider_tree.get_provider_uuids(): self._refresh_and_get_inventory(context, uuid)",0,3
openstack%2Fnova~master~I7b2718f1a97417693e1176a204d0133f6f5ac098,openstack/nova,master,I7b2718f1a97417693e1176a204d0133f6f5ac098,Include requested_resources to allocation candidate query,MERGED,2018-12-18 15:49:46.000000000,2019-02-11 04:52:15.000000000,2019-02-03 00:45:34.000000000,"[{'_account_id': 7}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-12-18 15:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c637958a0e1ab7839be560fa4430d73968d66336', 'message': 'Include requested_resources to allocation candidate query\n\nThe RequestSpec.requested_resources now can hold RequestGroup objects\ndescribing extra resources that needed for this instance. So this patch\nmakes sure that such RequestGroups are included into the allocation\ncandidate query.\n\nblueprint bandwidth-resource-provider\n\nChange-Id: I7b2718f1a97417693e1176a204d0133f6f5ac098\n'}, {'number': 2, 'created': '2018-12-19 15:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a0fd2af6a0e3022cd94afca555223980b3d70b30', 'message': 'Include requested_resources to allocation candidate query\n\nThe RequestSpec.requested_resources now can hold RequestGroup objects\ndescribing extra resources that are needed for this instance. So this\npatch makes sure that such RequestGroups are included into the\nallocation candidate query.\n\nblueprint bandwidth-resource-provider\n\nChange-Id: I7b2718f1a97417693e1176a204d0133f6f5ac098\n'}, {'number': 3, 'created': '2018-12-20 10:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6670c67fd74d0f6f5f566aacbca846758c3ce87', 'message': 'Include requested_resources to allocation candidate query\n\nThe RequestSpec.requested_resources now can hold RequestGroup objects\ndescribing extra resources that are needed for this instance. So this\npatch makes sure that such RequestGroups are included into the\nallocation candidate query.\n\nblueprint bandwidth-resource-provider\n\nChange-Id: I7b2718f1a97417693e1176a204d0133f6f5ac098\n'}, {'number': 4, 'created': '2019-01-14 16:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a87c0ddeb4ec67bdb3dd1b5db3b9ad3e4462c18', 'message': 'Include requested_resources to allocation candidate query\n\nThe RequestSpec.requested_resources now can hold RequestGroup objects\ndescribing extra resources that are needed for this instance. So this\npatch makes sure that such RequestGroups are included into the\nallocation candidate query.\n\nblueprint bandwidth-resource-provider\n\nChange-Id: I7b2718f1a97417693e1176a204d0133f6f5ac098\n'}, {'number': 5, 'created': '2019-01-24 16:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e97af04af5b3fad99862f8c0faf5a60edfb34336', 'message': 'Include requested_resources to allocation candidate query\n\nThe RequestSpec.requested_resources now can hold RequestGroup objects\ndescribing extra resources that are needed for this instance. So this\npatch makes sure that such RequestGroups are included into the\nallocation candidate query.\n\nblueprint bandwidth-resource-provider\n\nChange-Id: I7b2718f1a97417693e1176a204d0133f6f5ac098\n'}, {'number': 6, 'created': '2019-01-26 16:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/27c895ee13f1a1552babed0ccf116a92ea8b3f78', 'message': 'Include requested_resources to allocation candidate query\n\nThe RequestSpec.requested_resources now can hold RequestGroup objects\ndescribing extra resources that are needed for this instance. So this\npatch makes sure that such RequestGroups are included into the\nallocation candidate query.\n\nblueprint bandwidth-resource-provider\n\nChange-Id: I7b2718f1a97417693e1176a204d0133f6f5ac098\n'}, {'number': 7, 'created': '2019-01-28 14:51:40.000000000', 'files': ['nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a5d6833d77c961ea75488f0992b91d3166424381', 'message': 'Include requested_resources to allocation candidate query\n\nThe RequestSpec.requested_resources now can hold RequestGroup objects\ndescribing extra resources that are needed for this instance. So this\npatch makes sure that such RequestGroups are included into the\nallocation candidate query.\n\nblueprint bandwidth-resource-provider\n\nChange-Id: I7b2718f1a97417693e1176a204d0133f6f5ac098\n'}]",9,625942,a5d6833d77c961ea75488f0992b91d3166424381,112,20,7,9708,,,0,"Include requested_resources to allocation candidate query

The RequestSpec.requested_resources now can hold RequestGroup objects
describing extra resources that are needed for this instance. So this
patch makes sure that such RequestGroups are included into the
allocation candidate query.

blueprint bandwidth-resource-provider

Change-Id: I7b2718f1a97417693e1176a204d0133f6f5ac098
",git fetch https://review.opendev.org/openstack/nova refs/changes/42/625942/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py']",2,c637958a0e1ab7839be560fa4430d73968d66336,bp/bandwidth-resource-provider," fake_spec = objects.RequestSpec(flavor=flavor, image=image, requested_resources=[]) fake_spec = objects.RequestSpec(flavor=flavor, requested_resources=[]) requested_destination=destination, requested_resources=[]) reqspec = objects.RequestSpec(flavor=flavor, requested_resources=[]) fake_spec = objects.RequestSpec(flavor=flavor, requested_resources=[]) fake_spec = objects.RequestSpec(flavor=flavor, requested_resources=[]) fake_spec = objects.RequestSpec(flavor=flavor, requested_resources=[]) fake_spec = objects.RequestSpec(flavor=flavor, force_nodes=['test'], requested_resources=[]) fake_spec = objects.RequestSpec(flavor=flavor, force_hosts=['test'], requested_resources=[]) def test_resources_from_request_spec_having_requested_resources(self): flavor = objects.Flavor( vcpus=1, memory_mb=1024, root_gb=10, ephemeral_gb=5, swap=0) rg1 = objects.RequestGroup() rg2 = objects.RequestGroup() reqspec = objects.RequestSpec(flavor=flavor, requested_resources=[rg1, rg2]) req = utils.resources_from_request_spec(reqspec) self.assertEqual({'MEMORY_MB': 1024, 'DISK_GB': 15, 'VCPU': 1}, req.get_request_group(None).resources) self.assertIs(rg1, req.get_request_group(1)) self.assertIs(rg2, req.get_request_group(2)) def test_resource_request_add_group_inserts_the_group(self): req = utils.ResourceRequest() rg1 = objects.RequestGroup() req.add_request_group(rg1) rg2 = objects.RequestGroup() req.add_request_group(rg2) self.assertIs(rg1, req.get_request_group(1)) self.assertIs(rg2, req.get_request_group(2)) def test_resource_request_add_group_inserts_the_group_implicit_group(self): req = utils.ResourceRequest() # this implicitly creates the unnumbered group unnumbered_rg = req.get_request_group(None) rg1 = objects.RequestGroup() req.add_request_group(rg1) rg2 = objects.RequestGroup() req.add_request_group(rg2) self.assertIs(rg1, req.get_request_group(1)) self.assertIs(rg2, req.get_request_group(2)) self.assertIs(unnumbered_rg, req.get_request_group(None)) "," fake_spec = objects.RequestSpec(flavor=flavor, image=image) fake_spec = objects.RequestSpec(flavor=flavor) requested_destination=destination) reqspec = objects.RequestSpec(flavor=flavor) fake_spec = objects.RequestSpec(flavor=flavor) fake_spec = objects.RequestSpec(flavor=flavor) fake_spec = objects.RequestSpec(flavor=flavor) fake_spec = objects.RequestSpec(flavor=flavor, force_nodes=['test']) fake_spec = objects.RequestSpec(flavor=flavor, force_hosts=['test'])",70,9
openstack%2Fnova~master~I40a435b8e97c8552c2f5f0ca3a24de2edd9f81bd,openstack/nova,master,I40a435b8e97c8552c2f5f0ca3a24de2edd9f81bd,Fix using template cell urls with nova-manage,MERGED,2019-01-17 21:29:46.000000000,2019-02-11 04:44:23.000000000,2019-01-31 13:34:29.000000000,"[{'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 28885}]","[{'number': 1, 'created': '2019-01-17 21:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f459010b9d92ae92e57961e96c29b9638bf15c98', 'message': 'Fix using template cell urls with nova-manage\n\nWhen nova-manage went to validate the transport-url given in config or on the\ncommand line, it was not doing the translation before passing the url to the\noslo.messaging parse routine to check it. This exposes the format functions\nfrom the CellMapping object, and makes our _validate_transport_url() format\nthe url before passing it to parse.\n\nThis also adds a test that makes sure the template makes it into the database\n(as a template) and that it gets loaded out in translated form with an\nobject load.\n\nChange-Id: I40a435b8e97c8552c2f5f0ca3a24de2edd9f81bd\nCloses-Bug: #1812196\n'}, {'number': 2, 'created': '2019-01-17 22:18:23.000000000', 'files': ['nova/objects/cell_mapping.py', 'nova/tests/unit/test_nova_manage.py', 'nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/edd1cd9ee4d149b01a388f03fb423374020033d7', 'message': 'Fix using template cell urls with nova-manage\n\nWhen nova-manage went to validate the transport-url given in config or on the\ncommand line, it was not doing the translation before passing the url to the\noslo.messaging parse routine to check it. This exposes the format functions\nfrom the CellMapping object, and makes our _validate_transport_url() format\nthe url before passing it to parse.\n\nThis also adds a test that makes sure the template makes it into the database\n(as a template) and that it gets loaded out in translated form with an\nobject load.\n\nChange-Id: I40a435b8e97c8552c2f5f0ca3a24de2edd9f81bd\nCloses-Bug: #1812196\n'}]",0,631649,edd1cd9ee4d149b01a388f03fb423374020033d7,112,21,2,4393,,,0,"Fix using template cell urls with nova-manage

When nova-manage went to validate the transport-url given in config or on the
command line, it was not doing the translation before passing the url to the
oslo.messaging parse routine to check it. This exposes the format functions
from the CellMapping object, and makes our _validate_transport_url() format
the url before passing it to parse.

This also adds a test that makes sure the template makes it into the database
(as a template) and that it gets loaded out in translated form with an
object load.

Change-Id: I40a435b8e97c8552c2f5f0ca3a24de2edd9f81bd
Closes-Bug: #1812196
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/631649/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/cell_mapping.py', 'nova/tests/unit/test_nova_manage.py', 'nova/cmd/manage.py']",3,f459010b9d92ae92e57961e96c29b9638bf15c98,bug/1812196," messaging.TransportURL.parse(conf=CONF, url=objects.CellMapping.format_mq_url( transport_url))"," messaging.TransportURL.parse(conf=CONF, url=transport_url)",35,5
openstack%2Fnova~master~I047856982251fddc631679fb2dbcea0f3b0db097,openstack/nova,master,I047856982251fddc631679fb2dbcea0f3b0db097,Convert vrouter legacy plugging to os-vif,MERGED,2018-05-30 22:21:58.000000000,2019-02-11 04:23:07.000000000,2019-01-30 10:40:01.000000000,"[{'_account_id': 7}, {'_account_id': 6873}, {'_account_id': 7730}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25733}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-30 22:21:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93b2da07c5e741834ffe565ed7c936ffe261f29b', 'message': 'Convert vrouter legacy plugging to os-vif\n\nBefore this change, the vrouter VIF type used legacy VIF plugging. This\nchangeset ports the plugging methods over to an external os-vif plugin,\nsimplifying the in-tree code.\n\nMiscellaneous notes:\n\n * There are two ""vrouter"" VIF types:\n    * ""contrail_vrouter"" supporting vhostuser plugging, and\n    * ""vrouter"", supporting kernel datapath plugging.\n * This change extends the functionality of the ""vrouter""\n   VIF type to also support vhostuser plugging, should the Neutron\n   plugin wish to unify VIF types.\n * The VIFGeneric os-vif type is used for the kernel TAP based\n   plugging.\n * In order to pass the multiqueue hint to the os-vif plugin, os-vif\n   needs to be extended with https://review.openstack.org/#/c/570959\n * It\'s possible to pass this hint via the VIF object, but it\'s a\n   lot less invasive to pass it via the instance information.\n * The review for the OpenContrail/Tungsten Fabric side of this work is\n   at https://review.opencontrail.org/#/c/43399\n\nChange-Id: I047856982251fddc631679fb2dbcea0f3b0db097\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\n'}, {'number': 2, 'created': '2018-05-31 12:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5af60cab9a2eba211d7df2bc5e73735b36f45735', 'message': 'Convert vrouter legacy plugging to os-vif\n\nBefore this change, the vrouter VIF type used legacy VIF plugging. This\nchangeset ports the plugging methods over to an external os-vif plugin,\nsimplifying the in-tree code.\n\nMiscellaneous notes:\n\n * There are two ""vrouter"" VIF types:\n    * ""contrail_vrouter"" supporting vhostuser plugging, and\n    * ""vrouter"", supporting kernel datapath plugging.\n * This change extends the functionality of the ""vrouter""\n   VIF type to also support vhostuser plugging, should the Neutron\n   plugin wish to unify VIF types.\n * The VIFGeneric os-vif type is used for the kernel TAP based\n   plugging.\n * The review for the OpenContrail/Tungsten Fabric side of this work is\n   at https://review.opencontrail.org/#/c/43399\n\nChange-Id: I047856982251fddc631679fb2dbcea0f3b0db097\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\n'}, {'number': 3, 'created': '2018-05-31 21:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/190fb8646f914b580fa195c96e3fd5428be5f5a0', 'message': 'Convert vrouter legacy plugging to os-vif\n\nBefore this change, the vrouter VIF type used legacy VIF plugging. This\nchangeset ports the plugging methods over to an external os-vif plugin,\nsimplifying the in-tree code.\n\nMiscellaneous notes:\n\n * There are two ""vrouter"" Neutron VIF types:\n    * ""contrail_vrouter"" supporting vhostuser plugging, and\n    * ""vrouter"", supporting kernel datapath plugging.\n * This change extends the functionality of the ""vrouter""\n   VIF type to also support vhostuser plugging, should the Neutron\n   plugin wish to unify VIF types.\n * The VIFGeneric os-vif type is used for the kernel TAP based\n   plugging.\n * The VIFPortProfileGenericMultiqueue port profile is used to pass\n   multiqueue settings to the plugin.\n * The review for the OpenContrail/Tungsten Fabric side of this work is\n   at https://review.opencontrail.org/#/c/43399\n\nDepends-On: I1a449c3d77309193b22caadb9e48323d7b1510c6\nChange-Id: I047856982251fddc631679fb2dbcea0f3b0db097\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\n'}, {'number': 4, 'created': '2018-06-01 13:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b7e518f0dbb325e0a288b912e18d4adc8a4bcac6', 'message': 'Convert vrouter legacy plugging to os-vif\n\nBefore this change, the vrouter VIF type used legacy VIF plugging. This\nchangeset ports the plugging methods over to an external os-vif plugin,\nsimplifying the in-tree code.\n\nMiscellaneous notes:\n\n * There are two ""vrouter"" Neutron VIF types:\n    * ""contrail_vrouter"" supporting vhostuser plugging, and\n    * ""vrouter"", supporting kernel datapath plugging.\n * This change extends the functionality of the ""vrouter""\n   VIF type to also support vhostuser plugging, should the Neutron\n   plugin wish to unify VIF types.\n * The VIFGeneric os-vif type is used for the kernel TAP based\n   plugging.\n * For multiqueue support, the minimum version of libvirt 1.3.3 is\n   required. In that case, libvirt creates the TAP device, rather than\n   the os-vif plugin.\n * The review for the OpenContrail/Tungsten Fabric side of this work is\n   at https://review.opencontrail.org/#/c/43399\n\nChange-Id: I047856982251fddc631679fb2dbcea0f3b0db097\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\n'}, {'number': 5, 'created': '2018-06-04 11:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a86c8cf7b49f2e47f866e3c73da8268cf9cb60b', 'message': 'Convert vrouter legacy plugging to os-vif\n\nBefore this change, the vrouter VIF type used legacy VIF plugging. This\nchangeset ports the plugging methods over to an external os-vif plugin,\nsimplifying the in-tree code.\n\nMiscellaneous notes:\n\n * There are two ""vrouter"" Neutron VIF types:\n    * ""contrail_vrouter"" supporting vhostuser plugging, and\n    * ""vrouter"", supporting kernel datapath plugging.\n * This change extends the functionality of the ""vrouter""\n   VIF type to also support vhostuser plugging, should the Neutron\n   plugin wish to unify VIF types.\n * The VIFGeneric os-vif type is used for the kernel TAP based\n   plugging.\n * For multiqueue support, the minimum version of libvirt 1.3.1 is\n   required. In that case, libvirt creates the TAP device, rather than\n   the os-vif plugin. (This is the planned minimum version for Rocky.)\n   ref: https://bugs.launchpad.net/ubuntu/+source/libvirt/+bug/1574957\n * The review for the OpenContrail/Tungsten Fabric side of this work is\n   at https://review.opencontrail.org/#/c/43399\n\nChange-Id: I047856982251fddc631679fb2dbcea0f3b0db097\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\n'}, {'number': 6, 'created': '2018-06-28 11:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ab75e1842d8a89219e3b0e38d15d9dd6eab3439', 'message': 'Convert vrouter legacy plugging to os-vif\n\nBefore this change, the vrouter VIF type used legacy VIF plugging. This\nchangeset ports the plugging methods over to an external os-vif plugin,\nsimplifying the in-tree code.\n\nMiscellaneous notes:\n\n * There are two ""vrouter"" Neutron VIF types:\n    * ""contrail_vrouter"" supporting vhostuser plugging, and\n    * ""vrouter"", supporting kernel datapath plugging.\n * The VIFGeneric os-vif type is used for the kernel TAP based\n   plugging when the vnic_type is \'normal\'.\n * For multiqueue support, the minimum version of libvirt 1.3.1 is\n   required. In that case, libvirt creates the TAP device, rather than\n   the os-vif plugin. (This is the planned minimum version for Rocky.)\n   ref: https://bugs.launchpad.net/ubuntu/+source/libvirt/+bug/1574957\n * The review for the OpenContrail/Tungsten Fabric side of this work\n   starts at https://review.opencontrail.org/#/c/43359 and ends at\n   https://review.opencontrail.org/#/c/43399\n\nChange-Id: I047856982251fddc631679fb2dbcea0f3b0db097\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\n'}, {'number': 7, 'created': '2019-01-09 09:48:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f88773805fc184d9c74c9c755c0314c6ea04f5fb', 'message': 'Convert vrouter legacy plugging to os-vif\n\nBefore this change, the vrouter VIF type used legacy VIF plugging. This\nchangeset ports the plugging methods over to an external os-vif plugin,\nsimplifying the in-tree code.\n\nMiscellaneous notes:\n\n * There are two ""vrouter"" Neutron VIF types:\n    * ""contrail_vrouter"" supporting vhostuser plugging, and\n    * ""vrouter"", supporting kernel datapath plugging.\n * The VIFGeneric os-vif type is used for the kernel TAP based\n   plugging when the vnic_type is \'normal\'.\n * For multiqueue support, the minimum version of libvirt 1.3.1 is\n   required. In that case, libvirt creates the TAP device, rather than\n   the os-vif plugin. (This is the minimum version for Rocky and later)\n   ref: https://bugs.launchpad.net/ubuntu/+source/libvirt/+bug/1574957\n * The review for the OpenContrail/Tungsten Fabric side of this work\n   starts at https://review.opencontrail.org/#/c/43359 and ends at\n   https://review.opencontrail.org/#/c/43399\n\nChange-Id: I047856982251fddc631679fb2dbcea0f3b0db097\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\n'}, {'number': 8, 'created': '2019-01-14 17:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/440f3af3261724304eb0411dd4d5d66828f40959', 'message': 'Convert vrouter legacy plugging to os-vif\n\nBefore this change, the vrouter VIF type used legacy VIF plugging. This\nchangeset ports the plugging methods over to an external os-vif plugin,\nsimplifying the in-tree code.\n\nMiscellaneous notes:\n\n * There are two ""vrouter"" Neutron VIF types:\n    * ""contrail_vrouter"" supporting vhostuser plugging, and\n    * ""vrouter"", supporting kernel datapath plugging.\n * The VIFGeneric os-vif type is used for the kernel TAP based\n   plugging when the vnic_type is \'normal\'.\n * For multiqueue support, the minimum version of libvirt 1.3.1 is\n   required. In that case, libvirt creates the TAP device, rather than\n   the os-vif plugin. (This is the minimum version for Rocky and later)\n   ref: https://bugs.launchpad.net/ubuntu/+source/libvirt/+bug/1574957\n * The corresponding commit on Tungsten Fabric / OpenContrail for this\n   work is at:\n   https://github.com/Juniper/contrail-nova-vif-driver/commit/ed01d315e5707b4f670468454729dc2031c5f780\n\nChange-Id: I047856982251fddc631679fb2dbcea0f3b0db097\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\nblueprint: vrouter-os-vif-conversion\n'}, {'number': 9, 'created': '2019-01-15 08:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b9c30bb981b5bba933bbf7ce8df5e9c52929bce', 'message': 'Convert vrouter legacy plugging to os-vif\n\nBefore this change, the vrouter VIF type used legacy VIF plugging. This\nchangeset ports the plugging methods over to an external os-vif plugin,\nsimplifying the in-tree code.\n\nMiscellaneous notes:\n\n * There are two ""vrouter"" Neutron VIF types:\n    * ""contrail_vrouter"" supporting vhostuser plugging, and\n    * ""vrouter"", supporting kernel datapath plugging.\n * The VIFGeneric os-vif type is used for the kernel TAP based\n   plugging when the vnic_type is \'normal\'.\n * For multiqueue support, the minimum version of libvirt 1.3.1 is\n   required. In that case, libvirt creates the TAP device, rather than\n   the os-vif plugin. (This is the minimum version for Rocky and later)\n   ref: https://bugs.launchpad.net/ubuntu/+source/libvirt/+bug/1574957\n * The corresponding commit on Tungsten Fabric / OpenContrail for this\n   work is at:\n   https://github.com/Juniper/contrail-nova-vif-driver/commit/ed01d315e5707b4f670468454729dc2031c5f780\n\nChange-Id: I047856982251fddc631679fb2dbcea0f3b0db097\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\nblueprint: vrouter-os-vif-conversion\n'}, {'number': 10, 'created': '2019-01-25 15:35:36.000000000', 'files': ['nova/tests/unit/network/test_os_vif_util.py', 'nova/virt/libvirt/vif.py', 'nova/privsep/libvirt.py', 'releasenotes/notes/move-vrouter-plug-unplug-to-separate-os-vif-plugin-5557c9cd6f926fd8.yaml', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/network/os_vif_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/172855f293b6a48b4b64fd9e47c377c7124e192c', 'message': 'Convert vrouter legacy plugging to os-vif\n\nBefore this change, the vrouter VIF type used legacy VIF plugging. This\nchangeset ports the plugging methods over to an external os-vif plugin,\nsimplifying the in-tree code.\n\nMiscellaneous notes:\n\n * There are two ""vrouter"" Neutron VIF types:\n    * ""contrail_vrouter"" supporting vhostuser plugging, and\n    * ""vrouter"", supporting kernel datapath plugging.\n * The VIFGeneric os-vif type is used for the kernel TAP based\n   plugging when the vnic_type is \'normal\'.\n * For multiqueue support, the minimum version of libvirt 1.3.1 is\n   required. In that case, libvirt creates the TAP device, rather than\n   the os-vif plugin. (This is the minimum version for Rocky and later)\n   ref: https://bugs.launchpad.net/ubuntu/+source/libvirt/+bug/1574957\n * The corresponding commit on Tungsten Fabric / OpenContrail for this\n   work is at:\n   https://github.com/Juniper/contrail-nova-vif-driver/commit/ed01d315e5707b4f670468454729dc2031c5f780\n\nChange-Id: I047856982251fddc631679fb2dbcea0f3b0db097\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\nblueprint: vrouter-os-vif-conversion\n'}]",29,571325,172855f293b6a48b4b64fd9e47c377c7124e192c,179,20,10,25733,,,0,"Convert vrouter legacy plugging to os-vif

Before this change, the vrouter VIF type used legacy VIF plugging. This
changeset ports the plugging methods over to an external os-vif plugin,
simplifying the in-tree code.

Miscellaneous notes:

 * There are two ""vrouter"" Neutron VIF types:
    * ""contrail_vrouter"" supporting vhostuser plugging, and
    * ""vrouter"", supporting kernel datapath plugging.
 * The VIFGeneric os-vif type is used for the kernel TAP based
   plugging when the vnic_type is 'normal'.
 * For multiqueue support, the minimum version of libvirt 1.3.1 is
   required. In that case, libvirt creates the TAP device, rather than
   the os-vif plugin. (This is the minimum version for Rocky and later)
   ref: https://bugs.launchpad.net/ubuntu/+source/libvirt/+bug/1574957
 * The corresponding commit on Tungsten Fabric / OpenContrail for this
   work is at:
   https://github.com/Juniper/contrail-nova-vif-driver/commit/ed01d315e5707b4f670468454729dc2031c5f780

Change-Id: I047856982251fddc631679fb2dbcea0f3b0db097
Signed-off-by: Jan Gutter <jan.gutter@netronome.com>
blueprint: vrouter-os-vif-conversion
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/571325/10 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/network/test_os_vif_util.py', 'nova/virt/libvirt/vif.py', 'nova/privsep/libvirt.py', 'releasenotes/notes/move-vrouter-plug-unplug-to-separate-os-vif-plugin-5557c9cd6f926fd8.yaml', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/network/os_vif_util.py']",6,93b2da07c5e741834ffe565ed7c936ffe261f29b,bp/vrouter-hw-offloads,"# VIF_TYPE_VROUTER = 'vrouter' def _nova_to_osvif_vif_vrouter(vif): vnic_type = vif.get('vnic_type', model.VNIC_TYPE_NORMAL) if 'details' in vif: vhostuser_enabled = vif['details'].get( model.VIF_DETAILS_VHOSTUSER_VROUTER_PLUG, False ) else: vhostuser_enabled = False if vnic_type == model.VNIC_TYPE_NORMAL: if vhostuser_enabled: obj = _get_vif_instance( vif, objects.vif.VIFVHostUser, plugin=""vrouter"", vif_name=_get_vif_name(vif) ) _set_vhostuser_settings(vif, obj) else: obj = _get_vif_instance( vif, objects.vif.VIFGeneric, plugin=""vrouter"", vif_name=_get_vif_name(vif) ) else: raise NotImplementedError() return obj ",# VIF_TYPE_VROUTER = 'vrouter' def _nova_to_osvif_vif_vrouter(vif): raise NotImplementedError() ,205,161
openstack%2Fdevstack~master~I3fcd82f24b85eec0593b35154d23f6d85cb8719e,openstack/devstack,master,I3fcd82f24b85eec0593b35154d23f6d85cb8719e,[wip] allow for a tcpdump during run,ABANDONED,2019-02-08 00:47:57.000000000,2019-02-11 03:37:43.000000000,,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 00:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/6a6971bba1ce19431aaf7abfb8e461681a00f88b', 'message': '[wip] allow for a tcpdump during run\n\nChange-Id: I3fcd82f24b85eec0593b35154d23f6d85cb8719e\n'}, {'number': 2, 'created': '2019-02-08 01:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/bab7a17902bec37f9cb29df3ff764a01a8f069ae', 'message': '[wip] allow for a tcpdump during run\n\nChange-Id: I3fcd82f24b85eec0593b35154d23f6d85cb8719e\n'}, {'number': 3, 'created': '2019-02-08 01:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1fef8ceb6a1b53fa6e8e8481ba3700337ba08b83', 'message': '[wip] allow for a tcpdump during run\n\n* quote args\n\nChange-Id: I3fcd82f24b85eec0593b35154d23f6d85cb8719e\n'}, {'number': 4, 'created': '2019-02-08 01:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/dc1c9d2f7ea30860d52a5f19270ac50370d18055', 'message': '[wip] allow for a tcpdump during run\n\n* quote args\n\nChange-Id: I3fcd82f24b85eec0593b35154d23f6d85cb8719e\n'}, {'number': 5, 'created': '2019-02-08 03:13:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/86cb74c62816a7404dfdc225444e8e77826573de', 'message': '[wip] allow for a tcpdump during run\n\n* quote args\n\nChange-Id: I3fcd82f24b85eec0593b35154d23f6d85cb8719e\n'}, {'number': 6, 'created': '2019-02-08 12:58:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1e803229b781e20d46db740728e72196c40d813b', 'message': '[wip] allow for a tcpdump during run\n\n* quote args\n\nChange-Id: I3fcd82f24b85eec0593b35154d23f6d85cb8719e\n'}, {'number': 7, 'created': '2019-02-10 23:51:40.000000000', 'files': ['roles/capture-system-logs/tasks/main.yaml', 'roles/export-devstack-journal/tasks/main.yaml', 'roles/write-devstack-local-conf/library/devstack_local_conf.py', '.zuul.yaml', 'roles/export-devstack-journal/templates/devstack.journal.README.txt.j2', 'lib/tcpdump', 'roles/export-devstack-journal/README.rst', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/4827a1851b7663519fb461ea0b8725856b8861bd', 'message': '[wip] allow for a tcpdump during run\n\n* quote args\n* enable iscsid debug\n* export full journal\n\nChange-Id: I3fcd82f24b85eec0593b35154d23f6d85cb8719e\n'}]",0,635702,4827a1851b7663519fb461ea0b8725856b8861bd,20,4,7,7118,,,0,"[wip] allow for a tcpdump during run

* quote args
* enable iscsid debug
* export full journal

Change-Id: I3fcd82f24b85eec0593b35154d23f6d85cb8719e
",git fetch https://review.opendev.org/openstack/devstack refs/changes/02/635702/5 && git format-patch -1 --stdout FETCH_HEAD,"['roles/capture-system-logs/tasks/main.yaml', '.zuul.yaml', 'lib/tcpdump', 'stack.sh']",4,6a6971bba1ce19431aaf7abfb8e461681a00f88b,fedora-latest,source $TOP_DIR/lib/tcpdump# Run a background tcpdump for debugging # Note: must set TCPDUMP_ARGS with the enabled service if is_service_enabled tcpdump start_tcpdump fi ,,60,0
openstack%2Fmagnum~master~I1b1a65987b8a3c0823a23d87f42cfe4b9802ce2c,openstack/magnum,master,I1b1a65987b8a3c0823a23d87f42cfe4b9802ce2c,[DNM] Testing,ABANDONED,2019-01-15 23:03:14.000000000,2019-02-11 03:34:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-01-15 23:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e9cedecf56deb9ef5ac561f22feedadb30678eda', 'message': '[DNM] Testing py36\n\nDepends-On: https://review.openstack.org/#/c/629126/\nDepends-On: https://review.openstack.org/#/c/631083/\nChange-Id: I1b1a65987b8a3c0823a23d87f42cfe4b9802ce2c\n'}, {'number': 2, 'created': '2019-01-15 23:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/593de0fa5a8093b0742e16b36add1bfbe15cec43', 'message': '[DNM] Testing py36\n\nDepends-On: https://review.openstack.org/#/c/629126/\nDepends-On: https://review.openstack.org/#/c/631083/\nChange-Id: I1b1a65987b8a3c0823a23d87f42cfe4b9802ce2c\n'}, {'number': 3, 'created': '2019-02-11 01:27:37.000000000', 'files': ['devstack/lib/magnum', 'magnum/__init__.py', 'README.rst', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/579dd3028faf6c6fb7ebb5d67971ac3ab6d978f4', 'message': '[DNM] Testing\n\nChange-Id: I1b1a65987b8a3c0823a23d87f42cfe4b9802ce2c\n'}]",0,631092,579dd3028faf6c6fb7ebb5d67971ac3ab6d978f4,9,1,3,22623,,,0,"[DNM] Testing

Change-Id: I1b1a65987b8a3c0823a23d87f42cfe4b9802ce2c
",git fetch https://review.opendev.org/openstack/magnum refs/changes/92/631092/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,e9cedecf56deb9ef5ac561f22feedadb30678eda,631092,,,1,0
openstack%2Fnova~master~Ib1799feebbd8f4b0f389168939df7e5e90c8add1,openstack/nova,master,Ib1799feebbd8f4b0f389168939df7e5e90c8add1,Don't call begin_detaching when detaching volume from shelved vm,MERGED,2018-12-13 11:33:54.000000000,2019-02-11 03:24:48.000000000,2019-01-30 13:20:40.000000000,"[{'_account_id': 1653}, {'_account_id': 4393}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-12-13 11:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b81cb00971c1ad61a1dc29b544f815d5ef0bfcb6', 'message': ""WIP don't call begin_detaching when detaching volume from sheved vm\n\nWIP, still need to figure out the different behavior between shelve\nand resize.\n\nChange-Id: Ib1799feebbd8f4b0f389168939df7e5e90c8add1\ncloses-bug: #1808089\n""}, {'number': 2, 'created': '2018-12-21 08:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c9d745cb9aed1565e45002ff2a375bda9fa9417', 'message': ""Don't call begin_detaching when detaching volume from sheved vm\n\nWhen shelve an instance, if the instance has volume attached,\nwith new attach/detach flow, we will delete the old attachment\nand create a new attachment, the volume status will be ``reserved``\nin Cinder side, it will cause error if we call begin_detaching()\nas it will check whether the status is ``in-use``.\n\nAcutally for shelved instances, we can just skip this step and\ndirectly detach it.\n\nChange-Id: Ib1799feebbd8f4b0f389168939df7e5e90c8add1\ncloses-bug: #1808089\n""}, {'number': 3, 'created': '2018-12-24 03:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1118c31b6ae526ec0b657f01a237a00c24dfe397', 'message': ""Don't call begin_detaching when detaching volume from sheveld vm\n\nWhen shelve an instance, if the instance has volume attached,\nwith new attach/detach flow, we will delete the old attachment\nand create a new attachment, the volume status will be ``reserved``.\n\nIf the user tries to detach these volumes, it fails due to that\nCinder does not allow a begin_detaching() call on a `reserved` volume.\n\nAcutally for shelved instances, we can just skip this step and\ndirectly detach it.\n\nChange-Id: Ib1799feebbd8f4b0f389168939df7e5e90c8add1\ncloses-bug: #1808089\n""}, {'number': 4, 'created': '2019-01-21 02:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/68d9f4baf745d0b54d80e6e750212a1e1c71e882', 'message': ""Don't call begin_detaching when detaching volume from sheveld vm\n\nWhen shelve an instance, if the instance has volume attached,\nwith new attach/detach flow, we will delete the old attachment\nand create a new attachment, the volume status will be ``reserved``.\n\nIf the user tries to detach these volumes, it fails due to that\nCinder does not allow a begin_detaching() call on a `reserved` volume.\n\nAcutally for shelved instances, we can just skip this step and\ndirectly detach it.\n\nChange-Id: Ib1799feebbd8f4b0f389168939df7e5e90c8add1\ncloses-bug: #1808089\n""}, {'number': 5, 'created': '2019-01-22 22:24:57.000000000', 'files': ['nova/tests/unit/compute/test_compute.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/41b982c9feec3105247bc72d23d1470bcabc3a0f', 'message': ""Don't call begin_detaching when detaching volume from shelved vm\n\nWhen shelve an instance, if the instance has volume attached,\nwith new attach/detach flow, we will delete the old attachment\nand create a new attachment, the volume status will be ``reserved``.\n\nIf the user tries to detach these volumes, it fails due to that\nCinder does not allow a begin_detaching() call on a `reserved` volume.\n\nActually for shelved instances, we can just skip this step and\ndirectly detach it.\n\nChange-Id: Ib1799feebbd8f4b0f389168939df7e5e90c8add1\ncloses-bug: #1808089\n""}]",14,624959,41b982c9feec3105247bc72d23d1470bcabc3a0f,142,18,5,15888,,,0,"Don't call begin_detaching when detaching volume from shelved vm

When shelve an instance, if the instance has volume attached,
with new attach/detach flow, we will delete the old attachment
and create a new attachment, the volume status will be ``reserved``.

If the user tries to detach these volumes, it fails due to that
Cinder does not allow a begin_detaching() call on a `reserved` volume.

Actually for shelved instances, we can just skip this step and
directly detach it.

Change-Id: Ib1799feebbd8f4b0f389168939df7e5e90c8add1
closes-bug: #1808089
",git fetch https://review.opendev.org/openstack/nova refs/changes/59/624959/5 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/api.py'],1,b81cb00971c1ad61a1dc29b544f815d5ef0bfcb6,bug/1808089," context, volume['id'], instance.uuid)] if not bdms[0].attachment_id: try: self.volume_api.begin_detaching(context, volume['id']) except exception.InvalidInput as exc: raise exception.InvalidVolume(reason=exc.format_message())"," try: self.volume_api.begin_detaching(context, volume['id']) except exception.InvalidInput as exc: raise exception.InvalidVolume(reason=exc.format_message()) context, volume['id'], instance.uuid)]",6,5
openstack%2Fnova~master~Ib89c2e407bea5168f2eebb12cfb2d50e4566ff7a,openstack/nova,master,Ib89c2e407bea5168f2eebb12cfb2d50e4566ff7a,unused images are always deleted (add to in-tree hper-v code),MERGED,2019-01-07 01:01:49.000000000,2019-02-11 03:23:14.000000000,2019-01-31 13:07:11.000000000,"[{'_account_id': 5754}, {'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22013}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-01-07 01:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/40a151d12b2792e5f690e20ff53ad858b2773d26', 'message': 'Hyper-v - unused images are always deleted (add to in-tree hper-v code)\n\nThis is to apply changes applied to openstack/computer-hyperv to the in-tree hyper-v code.\n\nChange-Id: Ib89c2e407bea5168f2eebb12cfb2d50e4566ff7a\nCloses-Bug: #1773342\n'}, {'number': 2, 'created': '2019-01-07 01:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e402962ea7a37483a3b78e6c81c718a330dbf7e3', 'message': 'unused images are always deleted (add to in-tree hper-v code)\n\nThis is to apply changes applied to openstack/computer-hyperv\nto the in-tree hyper-v code.\n\nChange-Id: Ib89c2e407bea5168f2eebb12cfb2d50e4566ff7a\nCloses-Bug: #1773342\n'}, {'number': 3, 'created': '2019-01-08 02:28:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/51d1e00e359d3307231f547d3600dd8f09feeb63', 'message': 'unused images are always deleted (add to in-tree hper-v code)\n\nThis is to apply changes applied to openstack/computer-hyperv\nto the in-tree hyper-v code.\n\nChange-Id: Ib89c2e407bea5168f2eebb12cfb2d50e4566ff7a\nCloses-Bug: #1773342\n'}, {'number': 4, 'created': '2019-01-19 04:22:26.000000000', 'files': ['nova/tests/unit/virt/hyperv/test_imagecache.py', 'releasenotes/notes/bug-1773342-52b6a1460c7bee64.yaml', 'nova/virt/hyperv/imagecache.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/716d17e05491b5d319025cfce221eca5f78e02c0', 'message': 'unused images are always deleted (add to in-tree hper-v code)\n\nThis is to apply changes applied to openstack/computer-hyperv\nto the in-tree hyper-v code.\n\nChange-Id: Ib89c2e407bea5168f2eebb12cfb2d50e4566ff7a\nCloses-Bug: #1773342\n'}]",1,628793,716d17e05491b5d319025cfce221eca5f78e02c0,89,17,4,22013,,,0,"unused images are always deleted (add to in-tree hper-v code)

This is to apply changes applied to openstack/computer-hyperv
to the in-tree hyper-v code.

Change-Id: Ib89c2e407bea5168f2eebb12cfb2d50e4566ff7a
Closes-Bug: #1773342
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/628793/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/hyperv/test_imagecache.py', 'nova/virt/hyperv/imagecache.py']",2,40a151d12b2792e5f690e20ff53ad858b2773d26,bug/1773342, elif CONF.remove_unused_base_images:, else:,13,5
openstack%2Fopenstack-helm-infra~master~Ib2b659d225d73165c2136b409db55f8bd1db4b59,openstack/openstack-helm-infra,master,Ib2b659d225d73165c2136b409db55f8bd1db4b59,[WIP] Adding debug section to PostgreSQL,ABANDONED,2019-02-06 23:37:25.000000000,2019-02-11 03:22:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-02-06 23:37:25.000000000', 'files': ['postgresql/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/60512c07ffe440ea4876c4382f88b87c0eb6f6fe', 'message': '[WIP] Adding debug section to PostgreSQL\n\nChange-Id: Ib2b659d225d73165c2136b409db55f8bd1db4b59\n'}]",0,635356,60512c07ffe440ea4876c4382f88b87c0eb6f6fe,3,1,1,29117,,,0,"[WIP] Adding debug section to PostgreSQL

Change-Id: Ib2b659d225d73165c2136b409db55f8bd1db4b59
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/56/635356/1 && git format-patch -1 --stdout FETCH_HEAD,['postgresql/values.yaml'],1,60512c07ffe440ea4876c4382f88b87c0eb6f6fe,, max_connections: 105, max_connections: 100,1,1
openstack%2Fnova~master~I97f06d0ec34cbd75c182caaa686b8de5c777a576,openstack/nova,master,I97f06d0ec34cbd75c182caaa686b8de5c777a576,Reject server create with port having resource request,MERGED,2019-01-14 16:29:33.000000000,2019-02-11 03:18:54.000000000,2019-02-03 00:45:48.000000000,"[{'_account_id': 7}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-01-14 16:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19332cfca3581cad60e9018bd7f784e241cdcb2e', 'message': 'Reject server create with port having resource request\n\nNova does not consider the resource request of a Neutron port as of now.\nSo this patch makes sure that server create request is rejected if it\ninvolves a port that has resource request. When the feature is ready on\nthe nova side this limitation will be lifted.\n\nChange-Id: I97f06d0ec34cbd75c182caaa686b8de5c777a576\nblueprint: bandwidth-resource-provider\n'}, {'number': 2, 'created': '2019-01-24 16:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/27fa3f88dc0a7b1888efec55e6cd5a11f7c55e4e', 'message': 'Reject server create with port having resource request\n\nNova does not consider the resource request of a Neutron port as of now.\nSo this patch makes sure that server create request is rejected if it\ninvolves a port that has resource request. When the feature is ready on\nthe nova side this limitation will be lifted.\n\nChange-Id: I97f06d0ec34cbd75c182caaa686b8de5c777a576\nblueprint: bandwidth-resource-provider\n'}, {'number': 3, 'created': '2019-01-26 16:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b4314825f490767f781bd713908dfdd70e2ba094', 'message': 'Reject server create with port having resource request\n\nNova does not consider the resource request of a Neutron port as of now.\nSo this patch makes sure that server create request is rejected if it\ninvolves a port that has resource request. When the feature is ready on\nthe nova side this limitation will be lifted.\n\nChange-Id: I97f06d0ec34cbd75c182caaa686b8de5c777a576\nblueprint: bandwidth-resource-provider\n'}, {'number': 4, 'created': '2019-01-28 14:51:40.000000000', 'files': ['nova/exception.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/api/openstack/common.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/735c2181dc450195454cf4dc62a814ff1679abda', 'message': 'Reject server create with port having resource request\n\nNova does not consider the resource request of a Neutron port as of now.\nSo this patch makes sure that server create request is rejected if it\ninvolves a port that has resource request. When the feature is ready on\nthe nova side this limitation will be lifted.\n\nChange-Id: I97f06d0ec34cbd75c182caaa686b8de5c777a576\nblueprint: bandwidth-resource-provider\n'}]",16,630721,735c2181dc450195454cf4dc62a814ff1679abda,63,17,4,9708,,,0,"Reject server create with port having resource request

Nova does not consider the resource request of a Neutron port as of now.
So this patch makes sure that server create request is rejected if it
involves a port that has resource request. When the feature is ready on
the nova side this limitation will be lifted.

Change-Id: I97f06d0ec34cbd75c182caaa686b8de5c777a576
blueprint: bandwidth-resource-provider
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/630721/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/api/openstack/common.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py']",6,19332cfca3581cad60e9018bd7f784e241cdcb2e,bp/bandwidth-resource-provider," supports_port_resource_request = \ common.supports_port_resource_request(req) inst_type, image_uuid, display_name=name, display_description=description, availability_zone=availability_zone, forced_host=host, forced_node=node, metadata=server_dict.get('metadata', {}), admin_password=password, requested_networks=requested_networks, check_server_group_quota=True, supports_multiattach=supports_multiattach, supports_port_resource_request=supports_port_resource_request, **create_kwargs) exception.CertificateValidationFailed, exception.ServerCreateWithQoSPortNotSupported) as error:"," inst_type, image_uuid, display_name=name, display_description=description, availability_zone=availability_zone, forced_host=host, forced_node=node, metadata=server_dict.get('metadata', {}), admin_password=password, requested_networks=requested_networks, check_server_group_quota=True, supports_multiattach=supports_multiattach, **create_kwargs) exception.CertificateValidationFailed) as error:",127,34
openstack%2Fzaqar~master~Iaf75c33e9b637f2fbe53999685d9042c120f40d8,openstack/zaqar,master,Iaf75c33e9b637f2fbe53999685d9042c120f40d8,Bug #1439568 fixed pep8 compatibility,ABANDONED,2019-01-19 13:51:03.000000000,2019-02-11 02:45:42.000000000,,"[{'_account_id': 8846}, {'_account_id': 22348}, {'_account_id': 29823}]","[{'number': 1, 'created': '2019-01-19 13:51:03.000000000', 'files': ['doc/source/contributor/development.environment.rst'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/8dbf31fdababaa493e60d9e505a36b1f4067d7c9', 'message': 'Bug #1439568 fixed pep8 compatibility\n\nThe instructions on README.rst to create a sample queue was outdated.\nFixed PEP8 compatibility.\n\nCloses-Bug: #1439568\nChange-Id: Iaf75c33e9b637f2fbe53999685d9042c120f40d8\n'}]",0,631920,8dbf31fdababaa493e60d9e505a36b1f4067d7c9,7,3,1,29823,,,0,"Bug #1439568 fixed pep8 compatibility

The instructions on README.rst to create a sample queue was outdated.
Fixed PEP8 compatibility.

Closes-Bug: #1439568
Change-Id: Iaf75c33e9b637f2fbe53999685d9042c120f40d8
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/20/631920/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/development.environment.rst'],1,8dbf31fdababaa493e60d9e505a36b1f4067d7c9,bug/1439568,, ,1,1
openstack%2Fzaqar~master~I032d88057d8abda2eb69ee9e6549e13c3db77304,openstack/zaqar,master,I032d88057d8abda2eb69ee9e6549e13c3db77304,Bug #1439568 instructions on README.rst were not working,ABANDONED,2019-01-19 10:08:07.000000000,2019-02-11 02:43:32.000000000,,"[{'_account_id': 7233}, {'_account_id': 8846}, {'_account_id': 10068}, {'_account_id': 22348}, {'_account_id': 29823}]","[{'number': 1, 'created': '2019-01-19 10:08:07.000000000', 'files': ['doc/source/contributor/development.environment.rst'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/f02055090c0d06b1b670e7299d60130cf67f6fe0', 'message': 'Bug #1439568 instructions on README.rst were not working\n\nThe instructions on README.rst to create a sample queue was outdated.\n\nCloses-Bug: #1439568\nChange-Id: I032d88057d8abda2eb69ee9e6549e13c3db77304\n'}]",1,631918,f02055090c0d06b1b670e7299d60130cf67f6fe0,8,5,1,29823,,,0,"Bug #1439568 instructions on README.rst were not working

The instructions on README.rst to create a sample queue was outdated.

Closes-Bug: #1439568
Change-Id: I032d88057d8abda2eb69ee9e6549e13c3db77304
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/18/631918/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/development.environment.rst'],1,f02055090c0d06b1b670e7299d60130cf67f6fe0,bug/1439568," $ curl -i -X PUT http://localhost:8888/v2/queues/samplequeue -H ""Content-type: application/json"" -H 'Client-ID: 123e4567-e89b-12d3-a456-426655440000' -H 'X-PROJECT-ID: 12345' .. note:: ``Client-ID`` expects a valid UUID. ``X-PROJECT-ID`` expects a user-defined project identifier. "," $ curl -i -X PUT http://localhost:8888/v1/queues/samplequeue -H ""Content-type: application/json""",8,1
openstack%2Ftempest~master~I3db71c6662d9137a4b75381de7d6dbddd3de4e09,openstack/tempest,master,I3db71c6662d9137a4b75381de7d6dbddd3de4e09,Fix tempest cleanup for python3,MERGED,2019-01-20 15:32:38.000000000,2019-02-11 02:23:03.000000000,2019-02-11 02:23:03.000000000,"[{'_account_id': 5803}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}, {'_account_id': 27078}]","[{'number': 1, 'created': '2019-01-20 15:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c568bdcfd15b07695153f0f8bfdaf4e1102ead47', 'message': 'Fix tempest cleanup for python3\n\npython2 codecs library can deal with string and byte format\nof new data, however, python3 expects to have the data only\nin byte format.\n\nCloses-Bug: #1806089\nChange-Id: I3db71c6662d9137a4b75381de7d6dbddd3de4e09\n'}, {'number': 2, 'created': '2019-02-07 14:51:12.000000000', 'files': ['tempest/cmd/cleanup.py', 'tempest/tests/cmd/test_cleanup.py', 'tempest/tests/cmd/test_saved_state_json.json'], 'web_link': 'https://opendev.org/openstack/tempest/commit/6caf3fabbbded0790142edfd51dc693166d669c2', 'message': ""Fix tempest cleanup for python3\n\nWhen using python3 the file which is read and\nloaded by jsonutils needs to be opened in binary\nmode, otherwise, it's causing problems.\nIt is a known bug [1] in jsonutils from\noslo.serialization module.\nThe patch also adds a unit test which tests\nthe loading of a json file.\n\n[1] https://bugs.launchpad.net/oslo.serialization/+bug/1515231\n\nCloses-Bug: #1806089\nChange-Id: I3db71c6662d9137a4b75381de7d6dbddd3de4e09\n""}]",0,631982,6caf3fabbbded0790142edfd51dc693166d669c2,33,8,2,22873,,,0,"Fix tempest cleanup for python3

When using python3 the file which is read and
loaded by jsonutils needs to be opened in binary
mode, otherwise, it's causing problems.
It is a known bug [1] in jsonutils from
oslo.serialization module.
The patch also adds a unit test which tests
the loading of a json file.

[1] https://bugs.launchpad.net/oslo.serialization/+bug/1515231

Closes-Bug: #1806089
Change-Id: I3db71c6662d9137a4b75381de7d6dbddd3de4e09
",git fetch https://review.opendev.org/openstack/tempest refs/changes/82/631982/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/cmd/cleanup.py'],1,c568bdcfd15b07695153f0f8bfdaf4e1102ead47,bug/1806089," with open(SAVED_STATE_JSON, 'rb') as json_file:", with open(SAVED_STATE_JSON) as json_file:,1,1
openstack%2Fnova~master~I35335b501f8961b9ac8e5f92e0686e402b78617b,openstack/nova,master,I35335b501f8961b9ac8e5f92e0686e402b78617b,Fix port dns_name reset,MERGED,2019-01-18 01:00:48.000000000,2019-02-11 01:47:31.000000000,2019-01-30 02:16:57.000000000,"[{'_account_id': 7}, {'_account_id': 4694}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28159}]","[{'number': 1, 'created': '2019-01-18 01:00:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ab8220bb0848bd5a5322783bd6e404da6d3f855', 'message': ""Fix port dns_name reset\n\nWhen external DNS service is enabled, use user's context to request\ndns_name reset instead of using admin context. The dns record need\nbe found in user's zone and recordset.\n\nChange-Id: I35335b501f8961b9ac8e5f92e0686e402b78617b\nCloses-Bug: #1812110\n""}, {'number': 2, 'created': '2019-01-23 20:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d0d51a653a25a651e204b940957d0eb3c85798e5', 'message': ""Fix port dns_name reset\n\nWhen external DNS service is enabled, use user's context to request\ndns_name reset instead of using admin context. The dns record need\nbe found in user's zone and recordset.\n\nChange-Id: I35335b501f8961b9ac8e5f92e0686e402b78617b\nCloses-Bug: #1812110\n""}, {'number': 3, 'created': '2019-01-28 22:58:06.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1b797f6f7e99fdef380340d6fe29e4004be48781', 'message': ""Fix port dns_name reset\n\nWhen external DNS service is enabled, use user's context to request\ndns_name reset instead of using admin context. The dns record need\nbe found in user's zone and recordset.\n\nChange-Id: I35335b501f8961b9ac8e5f92e0686e402b78617b\nCloses-Bug: #1812110\n""}]",15,631684,1b797f6f7e99fdef380340d6fe29e4004be48781,86,18,3,28159,,,0,"Fix port dns_name reset

When external DNS service is enabled, use user's context to request
dns_name reset instead of using admin context. The dns record need
be found in user's zone and recordset.

Change-Id: I35335b501f8961b9ac8e5f92e0686e402b78617b
Closes-Bug: #1812110
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/631684/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/neutronv2/api.py'],1,3ab8220bb0848bd5a5322783bd6e404da6d3f855,bug/1812110," port = None fields=[BINDING_PROFILE, 'network_id']) network = neutron.show_network(port.get('network_id'), fields='dns_domain').get('network') # NOTE: for internal DNS integration, we use the admin client to # reset the dns_name if self._has_dns_extension() and not network.get('dns_domain'): port_req_body['port']['dns_name'] = '' # NOTE: for external DNS integration, we use the neutron client with # user's context to reset the dns_name since the recordset is under # user's zone. self._reset_port_dns_name(network, port_id, neutron) def _reset_port_dns_name(self, network, port_id, neutron): """"""Reset an instance port dns_name attribute to empty when using external DNS service. """""" if self._has_dns_extension() and network.get('dns_domain'): try: port_req_body = {'port': {'dns_name': ''}} neutron.update_port(port_id, port_req_body) except neutron_client_exc.NeutronClientException: LOG.exception(""Failed to reset dns_name for port %s"", port_id) ", fields=BINDING_PROFILE) if self._has_dns_extension(): port_req_body['port']['dns_name'] = '' ,23,3
openstack%2Ftacker-specs~master~Id0eb5138d0be9228f3cc9bfa360b92aaf1f4dbfb,openstack/tacker-specs,master,Id0eb5138d0be9228f3cc9bfa360b92aaf1f4dbfb,Add reservation-vnfm spec,MERGED,2018-04-17 09:10:24.000000000,2019-02-11 01:35:43.000000000,2019-02-11 01:35:43.000000000,"[{'_account_id': 1011}, {'_account_id': 2874}, {'_account_id': 8878}, {'_account_id': 12455}, {'_account_id': 16511}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 23840}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 27068}, {'_account_id': 27180}]","[{'number': 1, 'created': '2018-04-17 09:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/7bce140fb20ac2168b68503acff675647ff9b15d', 'message': 'Add reservation-vnfm spec\n\nThis proposal aims at providing VNFM function regarding reservation\nresource management. The spec is referred to management of resouce\nreservations in ETSI standard.\n\nChange-Id: Id0eb5138d0be9228f3cc9bfa360b92aaf1f4dbfb\nblueprint: reservation-vnfm\nCo-Authored-By: Keiko Kuriu <keiko.kuriu@lab.ntt.co.jp>\n'}, {'number': 2, 'created': '2018-04-18 08:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/596652da1f060f752d2cc4c49e990f3fe0e9e559', 'message': 'Add reservation-vnfm spec\n\nThis proposal aims at providing VNFM function regarding reservation\nresource management. The spec is referred to management of resouce\nreservations in ETSI standard.\n\nChange-Id: Id0eb5138d0be9228f3cc9bfa360b92aaf1f4dbfb\nblueprint: reservation-vnfm\nCo-Authored-By: Keiko Kuriu <keiko.kuriu@lab.ntt.co.jp>\n'}, {'number': 3, 'created': '2018-04-23 06:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/1736395ec4e03e8013c19ce915a3df30614caf87', 'message': 'Add reservation-vnfm spec\n\nThis proposal aims at providing VNFM function regarding reservation\nresource management. The spec is referred to management of resouce\nreservations in ETSI standard.\n\nChange-Id: Id0eb5138d0be9228f3cc9bfa360b92aaf1f4dbfb\nblueprint: reservation-vnfm\nCo-Authored-By: Keiko Kuriu <keiko.kuriu@lab.ntt.co.jp>\n'}, {'number': 4, 'created': '2018-05-08 06:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/b2a21f9aa485cf42061233e64058281dfda4ee8b', 'message': 'Add reservation-vnfm spec\n\nThis proposal aims at providing VNFM function regarding reservation\nresource management. The spec is referred to management of resouce\nreservations in ETSI standard.\n\nChange-Id: Id0eb5138d0be9228f3cc9bfa360b92aaf1f4dbfb\nblueprint: reservation-vnfm\nCo-Authored-By: Keiko Kuriu <keiko.kuriu@lab.ntt.co.jp>\n'}, {'number': 5, 'created': '2018-06-05 09:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/02dbdc3afb59324c80b9c33eb056d849cba68621', 'message': 'Add reservation-vnfm spec\n\nThis proposal aims at providing VNFM function regarding reservation\nresource management. The spec is referred to management of resouce\nreservations in ETSI standard.\n\nChange-Id: Id0eb5138d0be9228f3cc9bfa360b92aaf1f4dbfb\nblueprint: reservation-vnfm\nCo-Authored-By: Keiko Kuriu <keiko.kuriu@lab.ntt.co.jp>\n'}, {'number': 6, 'created': '2018-09-18 09:10:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/e2e792acc4d5741bcbbf9eb17eefc2a0c01857ff', 'message': '[WIP]Add reservation-vnfm spec\n\nThis proposal aims at providing VNFM function regarding reservation\nresource management. The spec is referred to management of resouce\nreservations in ETSI standard.\n\nChange-Id: Id0eb5138d0be9228f3cc9bfa360b92aaf1f4dbfb\nblueprint: reservation-vnfm\n'}, {'number': 7, 'created': '2018-09-21 06:48:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/b0efbdd600038ee1ebbe12db5df3a6aab9ea3641', 'message': '[WIP]Add reservation-vnfm spec\n\nThis proposal aims at providing VNFM function regarding reservation\nresource management. The spec is referred to management of resouce\nreservations in ETSI standard.\n\nChange-Id: Id0eb5138d0be9228f3cc9bfa360b92aaf1f4dbfb\nImplements: blueprint reservation-vnfm\nCo-Authored-By: Tushar Patil <tushar.vitthal.patil@gmail.com>\n'}, {'number': 8, 'created': '2018-10-17 05:29:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/fdd5aeec144fe4ff431ce8ff42688d5fe1e84ff2', 'message': '[WIP]Add reservation-vnfm spec\n\nThis proposal aims at providing VNFM function regarding reservation\nresource management. The spec is referred to management of resouce\nreservations in ETSI standard.\n\nChange-Id: Id0eb5138d0be9228f3cc9bfa360b92aaf1f4dbfb\nImplements: blueprint reservation-vnfm\nCo-Authored-By: Tushar Patil <tushar.vitthal.patil@gmail.com>\n'}, {'number': 9, 'created': '2019-01-25 06:21:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/ade843c9713a8bb978c47a4266f9661a5ad2112b', 'message': 'Add reservation-vnfm spec\n\nThis proposal aims at providing VNFM function regarding reservation\nresource management. The spec is referred to management of resouce\nreservations in ETSI standard.\n\nChange-Id: Id0eb5138d0be9228f3cc9bfa360b92aaf1f4dbfb\nImplements: blueprint reservation-vnfm\nCo-Authored-By: Tushar Patil <tushar.vitthal.patil@gmail.com>\n'}, {'number': 10, 'created': '2019-02-07 07:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/af55bcb6e47eb36fa3de56bf356020e24427534e', 'message': 'Add reservation-vnfm spec\n\nThis proposal aims at providing VNFM function regarding reservation\nresource management. The spec is referred to management of resouce\nreservations in ETSI standard.\n\nChange-Id: Id0eb5138d0be9228f3cc9bfa360b92aaf1f4dbfb\nImplements: blueprint reservation-vnfm\nCo-Authored-By: Tushar Patil <tushar.vitthal.patil@gmail.com>\n'}, {'number': 11, 'created': '2019-02-07 08:16:03.000000000', 'files': ['specs/stein/reservation-vnfm.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/37e35389ebcda9344c8408e1a2f07028085a3307', 'message': 'Add reservation-vnfm spec\n\nThis proposal aims at providing VNFM function regarding reservation\nresource management. The spec is referred to management of resouce\nreservations in ETSI standard.\n\nChange-Id: Id0eb5138d0be9228f3cc9bfa360b92aaf1f4dbfb\nImplements: blueprint reservation-vnfm\nCo-Authored-By: Tushar Patil <tushar.vitthal.patil@gmail.com>\n'}]",126,561840,37e35389ebcda9344c8408e1a2f07028085a3307,49,12,11,26588,,,0,"Add reservation-vnfm spec

This proposal aims at providing VNFM function regarding reservation
resource management. The spec is referred to management of resouce
reservations in ETSI standard.

Change-Id: Id0eb5138d0be9228f3cc9bfa360b92aaf1f4dbfb
Implements: blueprint reservation-vnfm
Co-Authored-By: Tushar Patil <tushar.vitthal.patil@gmail.com>
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/40/561840/11 && git format-patch -1 --stdout FETCH_HEAD,['specs/rocky/reservation-vnfm.rst'],1,7bce140fb20ac2168b68503acff675647ff9b15d,bp/reservation-vnfm,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================= Enable using resources reserved by Blazar for VNF ================================================= https://blueprints.launchpad.net/tacker/+spec/reservation-vnfm This proposal aims at providing VNFM function regarding reservation resource management. The spec is referred to management of resouce reservations in ETSI standard [#first]_. Problem description =================== Currently Tacker doesn't support resource reservation, however in telcom system resource reservation is often needed for VNF stable operation. VNF could be operated under conditions with limited infrastructure resources. In such situation, resource reservation is useful for upcoming scaling-out, maintenance works, disaster recovery [#second]_. For example, some VNFs are deployed in different priority on limited infra resources and scaling-out of the higher priority VNF will be expected due to increase of demand in certain period. Operators of higher priority VNF need to reserve resources for their VNF not to all resources are cosumed by other VNFs. Architecture of reservation feature in NFV is specified in ""Management of resource reservations"" ETSI GS NFV-IFA010 [#first]_. Accoding to this standard, each component in MANO shall support features as below. * NFVO * decides if and when a resource reservation is needed * requests a reservation to VIM * infrom a reservation identifier provided by VIM to VNFM * VNFM * requesting reserved resource with reservation identifier * VIM * provide resource reservation interface Resource reservation interfaces are implemented by Blazar project and now available. Tacker finally shall support VNFM and NVFO part but NFVO part does not concrete enough in NFV standard so this spec proposes VNFM part of reservation function using Blazar. Proposed change =============== Following is a proposed sequence of resource reservation and consuming reserved resource by VNF. :: +----+ +------+ |user| |Blazar| +----+ +------+ | (1)request | | reservation | |--------------->| | reservation ID | +------+ |<---------------| |Tacker| | | +------+ | (2)create/update VNF with | +----+ | reservation info | |Heat| |--------------------------------->| +----+ | | | (3)create/update| | | | Heat Stack | | | |---------------->| | | |<----------------| | | | | | | (4)notify start | | | | of reservation | | | |---------------->| instruct | | | | start actions | | | |---------------->| | | | | | | (5)notify before | | | end of reservation | | |---------------->| instruct before | | | | end actions | | | |---------------->| | | | | | | (6)notify end | | | | of reservation | | | |---------------->| instruct end | | | | actions | | | |---------------->| | | | | | | | update Heat | | | | stack | | | |---------------->| | | | | (1). An user (it can be NFVO finally) makes a reservation. (2). The user informs reservation info, such as lease-id, reservatin-id and some actions which are instructed start, a certain time before end and end of the reservation, to Tacker (3). Tacker updates Heat Orchstration Template of the VNF and registers it to Heat. New Heat Oorchstration Template includes reservation info. (4). Blazar sends a notice of the start of reservation to Tacker. Tacker instructs start_actions. (5). Blazar sends a notice before the end of reservation to Tacker. Tacker instructs before_end_actions. (6). Blazar sends a notice of the end of reservation to Tacker. Tacker instructs end_actions. After completing of end_actions, Tacker deletes reservation info added at (3) from Heat Orchestration Template and registers the HOT to Heat. Followings are chages: * adding a new property ""reservation-id"" to tosca.nodes.nfv.VDU.Tacker If a VDU with this property is specified in a VNFD, Tacker (and Heat) requests a VM to Nova from reservated resource of the reservation ID. See an example VNFD below. * adding a new policy ""tosca.policies.tacker.Reservation"" This policy can specify actions when notifications of the start, the end and a certain time before the end of the reservation. Here an example VNFD including a reseravtion: .. code-block:: yaml tosca_definitions_version: xxxxxxxxx resources: - VDU_RSV: type: OS::Nova::Server properties: <snip> reservation_id: <reservation-id> policies: - RSV: type: tosca.policies.tacker.Reservation properties: lease_id: <lease-id> start_actions: [SP_RSV_out] before_end_actions: [SP_RSV_in] end_action: noop - SP_RSV: type: tosca.policies.tacker.Scaling properties: increment: 5 min_instances: 1 max_instances: 5 default_instances: 0 targets: [VDU_RSV] * translating to Heat Orchestration Template The example VNFD above is tranlated to Heat Orchestration Template as below. .. code-block:: yaml heat_template_version: xxxxxx resources: SP_RSV_group: <snip> resource: {type: SP_RSV.yaml} SP_RSV_scale_in: <snip> SP_RSV_scle_out: <snip> .. code-block:: yaml heat_template_version: xxxxxx resources: VDU_RSV: type: OS::Nova::Server <snip> reservation_id: <reservation-id> * creating alarm to aodh Blazar sends notifications to aodh at the timings of the start, the end and a certain time before the end of the reservation. ``Types`` of alarms are ``lease.event.start_lease``, ``lease.event.end_lease``, ``lease.event.before_end_lease`` respectively. Tacker create alarms to aodh to be infromed these alarms. Alarms includes parameters of ``alarm_actions`` that is a url Tacker calls. Example of request parameters to aodh .. code-block:: json { ""name"": ""start_of_reservation_<VNF-ID>"", ""description"": ""start_of_reservation_<VNF-ID>"", ""type"": ""lease.event.start_lease"", ""alarm_actions"": [ ""http://url_of_action/ ], ""ok_actions"": null, ""repeat_actions"": false, ""user_id"": <user-id> } * instructing actions when notifications of the reservation When Tacker receives a alarm form Blazar through aodh, Tacker instruct a action in the ``alarm_actions`` field in the alarm. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: joxyuki <jo.hiroyuki@lab.ntt.co.jp> Other contributors: keiko <kuriu.keiko@lab.ntt.co.jp> Work Items ---------- * adding a new property ""reservation-id"" to tosca.nodes.nfv.VDU.Tacker * adding a new policy ""tosca.policies.tacker.Reservation"" * translating to Heat Orchestration Template * create alarm to aodh * instruct scaling out/in when a notice of start/end of registered * documentation Dependencies ============ None Testing ======= Tox tests are needed. Documentation Impact ==================== * add documentations of Tacker reservation feature * update installation guide. Blazar is required. References ========== .. [#first] http://www.etsi.org/deliver/etsi_gs/NFV-IFA/001_099/010/02.03.01_60/gs_NFV-IFA010v020301p.pdf .. [#second] https://github.com/openstack/development-proposals/blob/master/development-proposals/proposed/capacity-management.rst#usage-scenarios-examples ",,311,0
openstack%2Fnova~stable%2Frocky~I99c5cc24c7e9bf5e2e72ffc868990b87b0e8e3f8,openstack/nova,stable/rocky,I99c5cc24c7e9bf5e2e72ffc868990b87b0e8e3f8,Fix InstanceMapping to always default queued_for_delete=False,MERGED,2019-02-07 15:17:20.000000000,2019-02-11 01:14:45.000000000,2019-02-11 01:14:45.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 26936}]","[{'number': 1, 'created': '2019-02-07 15:17:20.000000000', 'files': ['nova/objects/instance_mapping.py', 'nova/tests/unit/objects/test_instance_mapping.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cb65d3d69c2b36a1a18d3fe4347b445f17f6d856', 'message': 'Fix InstanceMapping to always default queued_for_delete=False\n\nThis object has a default=False setting for queued_for_delete, but never\nactually sets that value. All newly created records should have a non-NULL\nvalue for this field, and we have a migration to fix them, so this\nchange explicitly forces that =False, unless the object is being created\nwith a value set.\n\nCloses-Bug: #1814913\nChange-Id: I99c5cc24c7e9bf5e2e72ffc868990b87b0e8e3f8\n(cherry picked from commit ccec9ba82de7c9525981a34bb126e9ca98042d04)\n'}]",0,635534,cb65d3d69c2b36a1a18d3fe4347b445f17f6d856,18,10,1,26936,,,0,"Fix InstanceMapping to always default queued_for_delete=False

This object has a default=False setting for queued_for_delete, but never
actually sets that value. All newly created records should have a non-NULL
value for this field, and we have a migration to fix them, so this
change explicitly forces that =False, unless the object is being created
with a value set.

Closes-Bug: #1814913
Change-Id: I99c5cc24c7e9bf5e2e72ffc868990b87b0e8e3f8
(cherry picked from commit ccec9ba82de7c9525981a34bb126e9ca98042d04)
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/635534/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/instance_mapping.py', 'nova/tests/unit/objects/test_instance_mapping.py']",2,cb65d3d69c2b36a1a18d3fe4347b445f17f6d856,bug/1814913," 'queued_for_delete': False, 'queued_for_delete': False, @mock.patch.object(instance_mapping.InstanceMapping, '_create_in_db') def test_create_cell_mapping_with_qfd_true(self, create_in_db): db_mapping = get_db_mapping(cell_mapping=None, cell_id=None) create_in_db.return_value = db_mapping mapping_obj = objects.InstanceMapping(self.context) mapping_obj.instance_uuid = db_mapping['instance_uuid'] mapping_obj.cell_mapping = None mapping_obj.project_id = db_mapping['project_id'] mapping_obj.queued_for_delete = True mapping_obj.create() create_in_db.assert_called_once_with(self.context, {'instance_uuid': db_mapping['instance_uuid'], 'queued_for_delete': True, 'project_id': db_mapping['project_id']}) ",,23,0
openstack%2Fzaqar~master~I4752ba84fce488de25b5a0b109fb465888a5dbc4,openstack/zaqar,master,I4752ba84fce488de25b5a0b109fb465888a5dbc4,Imported Translations from Zanata,MERGED,2018-11-08 06:45:39.000000000,2019-02-11 00:50:22.000000000,2019-02-11 00:50:22.000000000,"[{'_account_id': 6159}, {'_account_id': 6413}, {'_account_id': 6427}, {'_account_id': 6484}, {'_account_id': 6547}, {'_account_id': 7385}, {'_account_id': 8846}, {'_account_id': 12321}, {'_account_id': 14203}, {'_account_id': 21387}, {'_account_id': 22348}, {'_account_id': 28035}]","[{'number': 1, 'created': '2018-11-08 06:45:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/1e13c3b74b6a9ba315fa59e4e5b096301ad87da1', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I4752ba84fce488de25b5a0b109fb465888a5dbc4\n'}, {'number': 2, 'created': '2018-11-10 06:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/a3a13f83fadd9e2399ed09dfc577f5e7bee117c7', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I4752ba84fce488de25b5a0b109fb465888a5dbc4\n'}, {'number': 3, 'created': '2018-11-15 06:42:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/4fc09d9eeb56885b2de83febaccb0012653c19f3', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I4752ba84fce488de25b5a0b109fb465888a5dbc4\n'}, {'number': 4, 'created': '2018-11-19 06:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/3565f48437fb50f7b4914ba142166094249b1109', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I4752ba84fce488de25b5a0b109fb465888a5dbc4\n'}, {'number': 5, 'created': '2018-12-04 10:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/21b6cb3d95670ce41d8a38a892b9b366558179d2', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I4752ba84fce488de25b5a0b109fb465888a5dbc4\n'}, {'number': 6, 'created': '2018-12-12 06:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/5ebbb2d27b3cec0d07415bc79fa057c78b26e3c5', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I4752ba84fce488de25b5a0b109fb465888a5dbc4\n'}, {'number': 7, 'created': '2018-12-13 06:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/245e7ce64703ab9e2777cd4b6990430c1a9751a2', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I4752ba84fce488de25b5a0b109fb465888a5dbc4\n'}, {'number': 8, 'created': '2018-12-14 06:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/43e08b2cb61f7ae6d3d93948a47725c5fe82f275', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I4752ba84fce488de25b5a0b109fb465888a5dbc4\n'}, {'number': 9, 'created': '2018-12-24 06:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/913e8ad9d4c0fbf4d05e78f664027d3633a81dee', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I4752ba84fce488de25b5a0b109fb465888a5dbc4\n'}, {'number': 10, 'created': '2018-12-25 06:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/f2db18464e0780419f7973a579387630ab3bcb18', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I4752ba84fce488de25b5a0b109fb465888a5dbc4\n'}, {'number': 11, 'created': '2018-12-26 06:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/f46eaf273a7dec35d30801e6615ca46e39fb350d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I4752ba84fce488de25b5a0b109fb465888a5dbc4\n'}, {'number': 12, 'created': '2018-12-27 06:18:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/9a2e7db9817ffbe536d82c1f3ed5e397ead7ed6d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I4752ba84fce488de25b5a0b109fb465888a5dbc4\n'}, {'number': 13, 'created': '2019-01-09 07:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/459e4e4ebe8df5cb1cb4f74c75ebb9dd0b9791a7', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I4752ba84fce488de25b5a0b109fb465888a5dbc4\n'}, {'number': 14, 'created': '2019-01-12 07:28:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/06ff0831187403c23c043d5ac26cb92938b63bf9', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I4752ba84fce488de25b5a0b109fb465888a5dbc4\n'}, {'number': 15, 'created': '2019-01-30 08:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/023d757add47061b68acabef790fe71eb47615b3', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I4752ba84fce488de25b5a0b109fb465888a5dbc4\n'}, {'number': 16, 'created': '2019-02-01 08:08:31.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'zaqar/locale/en_GB/LC_MESSAGES/zaqar.po', 'zaqar/locale/de/LC_MESSAGES/zaqar.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'zaqar/locale/id/LC_MESSAGES/zaqar.po'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/56390fe51f9016c7327f866d37a3dcd4577b9774', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I4752ba84fce488de25b5a0b109fb465888a5dbc4\n'}]",0,616432,56390fe51f9016c7327f866d37a3dcd4577b9774,40,12,16,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I4752ba84fce488de25b5a0b109fb465888a5dbc4
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/32/616432/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,1e13c3b74b6a9ba315fa59e4e5b096301ad87da1,zanata/translations,"""POT-Creation-Date: 2018-11-07 00:59+0000\n""""PO-Revision-Date: 2018-11-07 05:35+0000\n""msgid ""7.0.0-15"" msgstr ""7.0.0-15""","""POT-Creation-Date: 2018-11-02 02:26+0000\n""""PO-Revision-Date: 2018-11-05 09:09+0000\n""msgid ""7.0.0-14"" msgstr ""7.0.0-14""",4,4
openstack%2Fmagnum~stable%2Frocky~I7d889a054cd5feb2eeef523b20607a6c7630d777,openstack/magnum,stable/rocky,I7d889a054cd5feb2eeef523b20607a6c7630d777,Support octavia-ingress-controller,MERGED,2019-02-05 10:59:07.000000000,2019-02-10 23:43:33.000000000,2019-02-10 23:43:33.000000000,"[{'_account_id': 6484}, {'_account_id': 6732}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-02-05 10:59:07.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-octavia.sh', 'doc/source/user/index.rst', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-controller.sh', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.yaml', 'magnum/drivers/heat/k8s_template_def.py', 'magnum/common/neutron.py', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/tests/unit/common/test_neutron.py', 'magnum/drivers/common/templates/kubernetes/fragments/write-kube-os-config.sh', 'releasenotes/notes/k8s-octavia-ingress-controller-32c0b97031fd0dd4.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/b153fb5ed408fc92bef33fc176bc3a870c33a9cd', 'message': 'Support octavia-ingress-controller\n\n- Add ""octavia"" as one of the ""ingress_controller"" options.\n- Add label ""octavia_ingress_controller_tag"".\n- Use external network ID in the heat templates.\n\nStory: 2004838\nChange-Id: I7d889a054cd5feb2eeef523b20607a6c7630d777\n(cherry picked from commit a941822c8ecffa50f3b16ff137eba3f7c9897ca5)\n'}]",4,634911,b153fb5ed408fc92bef33fc176bc3a870c33a9cd,9,5,1,6732,,,0,"Support octavia-ingress-controller

- Add ""octavia"" as one of the ""ingress_controller"" options.
- Add label ""octavia_ingress_controller_tag"".
- Use external network ID in the heat templates.

Story: 2004838
Change-Id: I7d889a054cd5feb2eeef523b20607a6c7630d777
(cherry picked from commit a941822c8ecffa50f3b16ff137eba3f7c9897ca5)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/11/634911/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-octavia.sh', 'doc/source/user/index.rst', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-controller.sh', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.yaml', 'magnum/drivers/heat/k8s_template_def.py', 'magnum/common/neutron.py', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/tests/unit/common/test_neutron.py', 'magnum/drivers/common/templates/kubernetes/fragments/write-kube-os-config.sh', 'releasenotes/notes/k8s-octavia-ingress-controller-32c0b97031fd0dd4.yaml']",13,b153fb5ed408fc92bef33fc176bc3a870c33a9cd,add-octavia-ingress-controller-support-stable/rocky,--- features: - | Add a new option 'octavia' for the label 'ingress_controller' and a new label 'octavia_ingress_controller_tag' to enable the deployment of `octavia-ingress-controller <https://github.com/kubernetes/cloud-provider-openstack/blob/master/docs/using-octavia-ingress-controller.md>`_ in the kubernetes cluster. The 'ingress_controller_role' label is not used for this option. ,,492,20
openstack%2Fneutron-lib~master~I46d89ef6d7630ec2c44d619c022aa8bbb6e51b63,openstack/neutron-lib,master,I46d89ef6d7630ec2c44d619c022aa8bbb6e51b63,Exceptions for: Drive binding by placement allocation,MERGED,2019-02-06 14:02:11.000000000,2019-02-10 23:33:21.000000000,2019-02-10 23:33:21.000000000,"[{'_account_id': 4187}, {'_account_id': 5367}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-06 14:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/2bf7845d87f0603835393fe8b78b83c8e34016c3', 'message': 'Exceptions for: Drive binding by placement allocation\n\nNew exception types used in https://review.openstack.org/574783.\n\nChange-Id: I46d89ef6d7630ec2c44d619c022aa8bbb6e51b63\nNeeded-By: https://review.openstack.org/574783\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}, {'number': 2, 'created': '2019-02-07 09:25:05.000000000', 'files': ['releasenotes/notes/placement-binding-exceptions-6362d52391b7023e.yaml', 'neutron_lib/exceptions/placement.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b71eaf4256a2887fa80b61760c633e0d5c37340c', 'message': 'Exceptions for: Drive binding by placement allocation\n\nNew exception types used in https://review.openstack.org/574783.\n\nChange-Id: I46d89ef6d7630ec2c44d619c022aa8bbb6e51b63\nNeeded-By: https://review.openstack.org/574783\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}]",4,635160,b71eaf4256a2887fa80b61760c633e0d5c37340c,13,6,2,15554,,,0,"Exceptions for: Drive binding by placement allocation

New exception types used in https://review.openstack.org/574783.

Change-Id: I46d89ef6d7630ec2c44d619c022aa8bbb6e51b63
Needed-By: https://review.openstack.org/574783
Partial-Bug: #1578989
See-Also: https://review.openstack.org/502306 (nova spec)
See-Also: https://review.openstack.org/508149 (neutron spec)
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/60/635160/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/placement-binding-exceptions-6362d52391b7023e.yaml', 'neutron_lib/exceptions/placement.py']",2,2bf7845d87f0603835393fe8b78b83c8e34016c3,minimum-bandwidth-allocation-placement-api," class UnknownResourceProvider(exceptions.BadRequest): """"""Resource provider not known by neutron backends."""""" message = _(""No such resource provider known by Neutron: %(rsc_provider)s"") class AmbiguousResponsibilityForResourceProvider(exceptions.NeutronException): """"""Not clear who's responsible for resource provider."""""" message = _(""Expected one driver to be responsible for resource provider "" ""%(rsc_provider)s, but got many: %(drivers)s"")",,16,0
openstack%2Ftacker~master~I74d90298f8862e04b44d9a87d42d79eac8d57355,openstack/tacker,master,I74d90298f8862e04b44d9a87d42d79eac8d57355,Correct log message inside plugin module,MERGED,2019-02-08 06:35:24.000000000,2019-02-10 20:30:11.000000000,2019-02-10 20:30:10.000000000,"[{'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 26222}]","[{'number': 1, 'created': '2019-02-08 06:35:24.000000000', 'files': ['tacker/vnfm/plugin.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/4b228aa987d6e4483246eba57f2fe380c4459c97', 'message': ""Correct log message inside plugin module\n\nCorrected log message inside _handle_vnf_monitoring method in\nplugin module. Earlier in log message it was not replacing the\n'status' and 'vnfid' with actual value because of missing of\noperator '%'\n\nChange-Id: I74d90298f8862e04b44d9a87d42d79eac8d57355\n""}]",0,635712,4b228aa987d6e4483246eba57f2fe380c4459c97,8,3,1,29236,,,0,"Correct log message inside plugin module

Corrected log message inside _handle_vnf_monitoring method in
plugin module. Earlier in log message it was not replacing the
'status' and 'vnfid' with actual value because of missing of
operator '%'

Change-Id: I74d90298f8862e04b44d9a87d42d79eac8d57355
",git fetch https://review.opendev.org/openstack/tacker refs/changes/12/635712/1 && git format-patch -1 --stdout FETCH_HEAD,['tacker/vnfm/plugin.py'],1,4b228aa987d6e4483246eba57f2fe380c4459c97,Log message correction in plugin module," ""%(status)s for vnf %(vnfid)s"") %"," ""%(status)s for vnf %(vnfid)s""),",1,1
openstack%2Ftacker~master~I0c4a07b4fe1e6c87dc17e24c22f34e34fa6fd71e,openstack/tacker,master,I0c4a07b4fe1e6c87dc17e24c22f34e34fa6fd71e,nsd-create failed abnormally if import sesction missing in template,MERGED,2019-02-07 10:40:24.000000000,2019-02-10 20:30:10.000000000,2019-02-10 20:30:10.000000000,"[{'_account_id': 18955}, {'_account_id': 19644}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 26222}]","[{'number': 1, 'created': '2019-02-07 10:40:24.000000000', 'files': ['tacker/tests/unit/nfvo/test_nfvo_plugin.py', 'tacker/nfvo/nfvo_plugin.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/af30f95205e31c59f589f48dc6ccac8c86e1ed1c', 'message': 'nsd-create failed abnormally if import sesction missing in template\n\nWhile creating ns descriptor with a template which missing import section,\ncreate command failed abnormally with error message: internal server error.\nThis patch will fix the issue and will raise TOSCA parser error.\n\nChange-Id: I0c4a07b4fe1e6c87dc17e24c22f34e34fa6fd71e\nCloses-bug: #1814855\n'}]",0,635473,af30f95205e31c59f589f48dc6ccac8c86e1ed1c,7,5,1,18955,,,0,"nsd-create failed abnormally if import sesction missing in template

While creating ns descriptor with a template which missing import section,
create command failed abnormally with error message: internal server error.
This patch will fix the issue and will raise TOSCA parser error.

Change-Id: I0c4a07b4fe1e6c87dc17e24c22f34e34fa6fd71e
Closes-bug: #1814855
",git fetch https://review.opendev.org/openstack/tacker refs/changes/73/635473/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/tests/unit/nfvo/test_nfvo_plugin.py', 'tacker/nfvo/nfvo_plugin.py']",2,af30f95205e31c59f589f48dc6ccac8c86e1ed1c,bug/1814855, vnfd_imports = inner_nsd_dict.get('imports') if not vnfd_imports: LOG.error('VNFD import section is missing') raise nfvo.ToscaParserFailed( error_msg_details='VNFD import section is missing'), vnfd_imports = inner_nsd_dict['imports'],15,1
openstack%2Fcharm-ceph-radosgw~master~Ie7b99dfa4cbe00a03acf1b2cc2eeecc7f84fbe17,openstack/charm-ceph-radosgw,master,Ie7b99dfa4cbe00a03acf1b2cc2eeecc7f84fbe17,Update pre-install hooks to fail on error,MERGED,2019-02-08 21:33:35.000000000,2019-02-10 19:52:46.000000000,2019-02-10 19:52:46.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 21:33:35.000000000', 'files': ['hooks/install', 'hooks/upgrade-charm', 'hooks/install_deps'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/c4e5565799fa761494cce96f75e5baca10da290f', 'message': 'Update pre-install hooks to fail on error\n\nThe pre-install operations may fail, yet that failure is not\nelevated to the user. This masks the failure and makes early\npackage install issues difficult to troubleshoot.\n\nIf the basic pre-install script fails, the charm should not\nproceed to later hooks as the requirements may not be met.\n\nHashbangs for bash should specify -e (errexit) on all of the\npre-install bash scripts.\n\nChange-Id: Ie7b99dfa4cbe00a03acf1b2cc2eeecc7f84fbe17\nCloses-bug: #1815243\nPartial-bug: #1815231\n'}]",0,635940,c4e5565799fa761494cce96f75e5baca10da290f,7,3,1,20635,,,0,"Update pre-install hooks to fail on error

The pre-install operations may fail, yet that failure is not
elevated to the user. This masks the failure and makes early
package install issues difficult to troubleshoot.

If the basic pre-install script fails, the charm should not
proceed to later hooks as the requirements may not be met.

Hashbangs for bash should specify -e (errexit) on all of the
pre-install bash scripts.

Change-Id: Ie7b99dfa4cbe00a03acf1b2cc2eeecc7f84fbe17
Closes-bug: #1815243
Partial-bug: #1815231
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/40/635940/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/install', 'hooks/upgrade-charm', 'hooks/install_deps']",3,c4e5565799fa761494cce96f75e5baca10da290f,bug/1815243,#!/bin/bash -e,#!/bin/bash,3,3
openstack%2Fcharm-ceph-mon~master~I6e015c2e0a28f9b990bfd7b84a2317d339abbb4e,openstack/charm-ceph-mon,master,I6e015c2e0a28f9b990bfd7b84a2317d339abbb4e,Update pre-install hooks to fail on error,MERGED,2019-02-08 21:30:33.000000000,2019-02-10 19:52:20.000000000,2019-02-10 19:52:20.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 21:30:33.000000000', 'files': ['hooks/install', 'hooks/upgrade-charm', 'hooks/install_deps'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/be74c0fd1c6ebfc4d5da1f6e583abc8047438e0c', 'message': 'Update pre-install hooks to fail on error\n\nThe pre-install operations may fail, yet that failure is not\nelevated to the user. This masks the failure and makes early\npackage install issues difficult to troubleshoot.\n\nIf the basic pre-install script fails, the charm should not\nproceed to later hooks as the requirements may not be met.\n\nHashbangs for bash should specify -e (errexit) on all of the\npre-install bash scripts.\n\nChange-Id: I6e015c2e0a28f9b990bfd7b84a2317d339abbb4e\nCloses-bug: #1815243\nPartial-bug: #1815231\n'}]",0,635937,be74c0fd1c6ebfc4d5da1f6e583abc8047438e0c,7,3,1,20635,,,0,"Update pre-install hooks to fail on error

The pre-install operations may fail, yet that failure is not
elevated to the user. This masks the failure and makes early
package install issues difficult to troubleshoot.

If the basic pre-install script fails, the charm should not
proceed to later hooks as the requirements may not be met.

Hashbangs for bash should specify -e (errexit) on all of the
pre-install bash scripts.

Change-Id: I6e015c2e0a28f9b990bfd7b84a2317d339abbb4e
Closes-bug: #1815243
Partial-bug: #1815231
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/37/635937/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/install', 'hooks/upgrade-charm', 'hooks/install_deps']",3,be74c0fd1c6ebfc4d5da1f6e583abc8047438e0c,bug/1815243,#!/bin/bash -e,#!/bin/bash,3,3
openstack%2Fcharm-swift-proxy~master~I0f41092fac7259863c215505ca305ff92cfae69a,openstack/charm-swift-proxy,master,I0f41092fac7259863c215505ca305ff92cfae69a,Update pre-install hooks to fail on error,MERGED,2019-02-08 21:40:40.000000000,2019-02-10 19:52:09.000000000,2019-02-10 19:52:09.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 21:40:40.000000000', 'files': ['hooks/install'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/5e2ed7f212686f4ef1eb19e04c41dc421fcbc593', 'message': 'Update pre-install hooks to fail on error\n\nThe pre-install operations may fail, yet that failure is not\nelevated to the user. This masks the failure and makes early\npackage install issues difficult to troubleshoot.\n\nIf the basic pre-install script fails, the charm should not\nproceed to later hooks as the requirements may not be met.\n\nHashbangs for bash should specify -e (errexit) on all of the\npre-install bash scripts.\n\nChange-Id: I0f41092fac7259863c215505ca305ff92cfae69a\nCloses-bug: #1815243\nPartial-bug: #1815231\n'}]",0,635945,5e2ed7f212686f4ef1eb19e04c41dc421fcbc593,7,3,1,20635,,,0,"Update pre-install hooks to fail on error

The pre-install operations may fail, yet that failure is not
elevated to the user. This masks the failure and makes early
package install issues difficult to troubleshoot.

If the basic pre-install script fails, the charm should not
proceed to later hooks as the requirements may not be met.

Hashbangs for bash should specify -e (errexit) on all of the
pre-install bash scripts.

Change-Id: I0f41092fac7259863c215505ca305ff92cfae69a
Closes-bug: #1815243
Partial-bug: #1815231
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/45/635945/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/install'],1,5e2ed7f212686f4ef1eb19e04c41dc421fcbc593,bug/1815243,#!/bin/bash -e,#!/bin/bash,1,1
openstack%2Fcharm-ceph-osd~master~If6ddd58fc6aeb1e9bf359a037a85a2ce2ae05d3c,openstack/charm-ceph-osd,master,If6ddd58fc6aeb1e9bf359a037a85a2ce2ae05d3c,Update pre-install hooks to fail on error,MERGED,2019-02-08 21:35:13.000000000,2019-02-10 19:51:50.000000000,2019-02-10 19:51:50.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 21:35:13.000000000', 'files': ['hooks/install', 'hooks/upgrade-charm', 'hooks/install_deps'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/f1fffb788517b829b537000b75667724cce24efc', 'message': 'Update pre-install hooks to fail on error\n\nThe pre-install operations may fail, yet that failure is not\nelevated to the user. This masks the failure and makes early\npackage install issues difficult to troubleshoot.\n\nIf the basic pre-install script fails, the charm should not\nproceed to later hooks as the requirements may not be met.\n\nHashbangs for bash should specify -e (errexit) on all of the\npre-install bash scripts.\n\nChange-Id: If6ddd58fc6aeb1e9bf359a037a85a2ce2ae05d3c\nCloses-bug: #1815243\nPartial-bug: #1815231\n'}]",0,635942,f1fffb788517b829b537000b75667724cce24efc,7,3,1,20635,,,0,"Update pre-install hooks to fail on error

The pre-install operations may fail, yet that failure is not
elevated to the user. This masks the failure and makes early
package install issues difficult to troubleshoot.

If the basic pre-install script fails, the charm should not
proceed to later hooks as the requirements may not be met.

Hashbangs for bash should specify -e (errexit) on all of the
pre-install bash scripts.

Change-Id: If6ddd58fc6aeb1e9bf359a037a85a2ce2ae05d3c
Closes-bug: #1815243
Partial-bug: #1815231
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/42/635942/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/install', 'hooks/upgrade-charm', 'hooks/install_deps']",3,f1fffb788517b829b537000b75667724cce24efc,bug/1815243,#!/bin/bash -e,#!/bin/bash,3,3
openstack%2Fcharm-ceph-proxy~master~I97e2d9fa092fd6af5f426977cf99ab735e520496,openstack/charm-ceph-proxy,master,I97e2d9fa092fd6af5f426977cf99ab735e520496,Update pre-install hooks to fail on error,MERGED,2019-02-08 21:37:34.000000000,2019-02-10 19:51:27.000000000,2019-02-10 19:51:27.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 21:37:34.000000000', 'files': ['hooks/install'], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/a90b30a8f2018933da52195934a4c4c4e5eef0e9', 'message': 'Update pre-install hooks to fail on error\n\nThe pre-install operations may fail, yet that failure is not\nelevated to the user. This masks the failure and makes early\npackage install issues difficult to troubleshoot.\n\nIf the basic pre-install script fails, the charm should not\nproceed to later hooks as the requirements may not be met.\n\nHashbangs for bash should specify -e (errexit) on all of the\npre-install bash scripts.\n\nChange-Id: I97e2d9fa092fd6af5f426977cf99ab735e520496\nCloses-bug: #1815243\nPartial-bug: #1815231\n'}]",0,635943,a90b30a8f2018933da52195934a4c4c4e5eef0e9,7,3,1,20635,,,0,"Update pre-install hooks to fail on error

The pre-install operations may fail, yet that failure is not
elevated to the user. This masks the failure and makes early
package install issues difficult to troubleshoot.

If the basic pre-install script fails, the charm should not
proceed to later hooks as the requirements may not be met.

Hashbangs for bash should specify -e (errexit) on all of the
pre-install bash scripts.

Change-Id: I97e2d9fa092fd6af5f426977cf99ab735e520496
Closes-bug: #1815243
Partial-bug: #1815231
",git fetch https://review.opendev.org/openstack/charm-ceph-proxy refs/changes/43/635943/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/install'],1,a90b30a8f2018933da52195934a4c4c4e5eef0e9,bug/1815243,#!/bin/bash -e,#!/bin/bash,1,1
openstack%2Fneutron~master~I194c918d859172c31ae5ce1af925fdbb388f9cfb,openstack/neutron,master,I194c918d859172c31ae5ce1af925fdbb388f9cfb,Clear old rules that have been applied before applying new rules.,MERGED,2019-01-21 04:32:36.000000000,2019-02-10 13:31:44.000000000,2019-02-10 13:31:44.000000000,"[{'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 25643}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-01-21 04:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aa3126be724254b5c3c27548359ef329c3690735', 'message': 'Clear old rules that have been applied before applying new rules.\nEnsure that the server, l2-agent and real application data are synchronized.\n\nChange-Id: I194c918d859172c31ae5ce1af925fdbb388f9cfb\nCloses-Bug: #1812576\n'}, {'number': 2, 'created': '2019-01-21 06:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b16b206ccad26d029481dca0c77d0e2a416dadd0', 'message': 'Clear old rules that have been applied before applying new rules.\nEnsure that the server, l2-agent and real application data are synchronized.\n\nChange-Id: I194c918d859172c31ae5ce1af925fdbb388f9cfb\nCloses-Bug: #1812576\n'}, {'number': 3, 'created': '2019-01-21 10:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c6e2b73bfc3dfaff01c420abae4d0581b2972591', 'message': 'Clear old rules that have been applied before applying new rules.\n\nEnsure that the server, l2-agent and real application data are\nsynchronized.\n\nChange-Id: I194c918d859172c31ae5ce1af925fdbb388f9cfb\nCloses-Bug: #1812576\n'}, {'number': 4, 'created': '2019-01-21 11:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8b4c7c1f739da730fa6b5309e9bbbc050617a8cc', 'message': 'Clear old rules that have been applied before applying new rules.\n\nEnsure that the server, l2-agent and real application data are\nsynchronized.\n\nChange-Id: I194c918d859172c31ae5ce1af925fdbb388f9cfb\nCloses-Bug: #1812576\n'}, {'number': 5, 'created': '2019-01-22 00:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a910c73d72cdf70b79cbf56b6e8f7ee90f4886e', 'message': 'Clear old rules that have been applied before applying new rules.\n\nEnsure that the server, l2-agent and real application data are\nsynchronized.\n\nChange-Id: I194c918d859172c31ae5ce1af925fdbb388f9cfb\nCloses-Bug: #1812576\n'}, {'number': 6, 'created': '2019-01-26 14:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/25b03b261cb99c27ca702c48685a01daad97c215', 'message': 'Clear old rules that have been applied before applying new rules.\n\nTo prevent data from being out of sync in the following situations:\n1. Create a policy with two rules bound to the virtual machine\n2. Stop l2-agent\n3. Delete or clear policy rule\n4. Start l2-agent (the rule is still there, out-of-sync)\n\nChange-Id: I194c918d859172c31ae5ce1af925fdbb388f9cfb\nCloses-Bug: #1812576\n'}, {'number': 7, 'created': '2019-01-28 13:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c4c41b425eb8c2eb18e3b0f6a318dcb6dda44064', 'message': 'Clear old rules that have been applied before applying new rules.\n\nTo prevent data from being out of sync in the following situations:\n1. Create a policy with two rules bound to the virtual machine\n2. Stop l2-agent\n3. Delete or clear policy rule\n4. Start l2-agent (the rule is still there, out-of-sync)\n\nChange-Id: I194c918d859172c31ae5ce1af925fdbb388f9cfb\nCloses-Bug: #1812576\n'}, {'number': 8, 'created': '2019-01-28 16:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b9f5faa0651451e30ec05138ab14745f111be685', 'message': 'Clear old rules that have been applied before applying new rules.\n\nTo prevent data from being out of sync in the following situations:\n1. Create a policy with two rules bound to the virtual machine\n2. Stop l2-agent\n3. Delete or clear policy rule\n4. Start l2-agent (the rule is still there, out-of-sync)\n\nChange-Id: I194c918d859172c31ae5ce1af925fdbb388f9cfb\nCloses-Bug: #1812576\n'}, {'number': 9, 'created': '2019-01-29 03:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4e82edc543433542c83e0a64432279876111bfd9', 'message': 'Clear old rules that have been applied before applying new rules.\n\nTo prevent data from being out of sync in the following situations:\n1. Create a policy with two rules bound to the virtual machine\n2. Stop l2-agent\n3. Delete/change/clear policy rule\n4. Start l2-agent (the rule is still there, out-of-sync)\n\nChange-Id: I194c918d859172c31ae5ce1af925fdbb388f9cfb\nCloses-Bug: #1812576\n'}, {'number': 10, 'created': '2019-01-29 09:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/663f8c24f0ff2930ea7928ca5fb1b3f91fa3669a', 'message': 'Clear old rules that have been applied before applying new rules.\n\nTo prevent data from being out of sync in the following situations:\n1. Create a policy with two rules bound to the virtual machine\n2. Stop l2-agent\n3. Delete/change/clear policy rule\n4. Start l2-agent (the rule is still there, out-of-sync)\n\nChange-Id: I194c918d859172c31ae5ce1af925fdbb388f9cfb\nCloses-Bug: #1812576\n'}, {'number': 11, 'created': '2019-01-29 12:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0bbc750b274f1f4220e8bbbc3ce581c4991b6f86', 'message': 'Clear old rules that have been applied before applying new rules.\n\nTo prevent data from being out of sync in the following situations:\n1. Create a policy with two rules bound to the virtual machine\n2. Stop l2-agent\n3. Delete/change/clear policy rule\n4. Start l2-agent (the rule is still there, out-of-sync)\n\nChange-Id: I194c918d859172c31ae5ce1af925fdbb388f9cfb\nCloses-Bug: #1812576\n'}, {'number': 12, 'created': '2019-01-29 16:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e854af13c1d444d9b92b61169184fcc20acf786c', 'message': 'Clear old rules that have been applied before applying new rules.\n\nTo prevent data from being out of sync in the following situations:\n1. Create a policy with two rules bound to the virtual machine\n2. Stop l2-agent\n3. Delete/change/clear policy rule\n4. Start l2-agent (the rule is still there, out-of-sync)\n\nChange-Id: I194c918d859172c31ae5ce1af925fdbb388f9cfb\nCloses-Bug: #1812576\n'}, {'number': 13, 'created': '2019-01-30 01:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b8969582a1a3d72e3b24b097c469087a227f48b0', 'message': 'Clear old rules that have been applied before applying new rules.\n\nTo prevent data from being out of sync in the following situations:\n1. Create a policy with two rules bound to the virtual machine\n2. Stop l2-agent\n3. Delete/change/clear policy rule\n4. Start l2-agent (the rule is still there, out-of-sync)\n\nChange-Id: I194c918d859172c31ae5ce1af925fdbb388f9cfb\nCloses-Bug: #1812576\n'}, {'number': 14, 'created': '2019-01-30 05:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/127eecff3056c5a57dffdad2ce88844656f29f8b', 'message': 'Clear old rules that have been applied before applying new rules.\n\nTo prevent data from being out of sync in the following situations:\n1. Create a policy with two rules bound to the virtual machine\n2. Stop l2-agent\n3. Delete/change/clear policy rule\n4. Start l2-agent (the rule is still there, out-of-sync)\n\nChange-Id: I194c918d859172c31ae5ce1af925fdbb388f9cfb\nCloses-Bug: #1812576\n'}, {'number': 15, 'created': '2019-01-30 06:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e9cc93596f35f3279ceaa25ddaadb0ebb7174790', 'message': 'Clear old rules that have been applied before applying new rules.\n\nTo prevent data from being out of sync in the following situations:\n1. Create a policy with two rules bound to the virtual machine\n2. Stop l2-agent\n3. Delete/change/clear policy rule\n4. Start l2-agent (the rule is still there, out-of-sync)\n\nChange-Id: I194c918d859172c31ae5ce1af925fdbb388f9cfb\nCloses-Bug: #1812576\n'}, {'number': 16, 'created': '2019-01-30 09:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/677cdd11326fef77e39cd4a9c8112ed3b643a6aa', 'message': 'Clear old rules that have been applied before applying new rules.\n\n    To prevent data from being out of sync in the following situations:\n    1. Create a policy with two rules bound to the virtual machine\n    2. Stop l2-agent\n    3. Delete/change/clear policy rule\n    4. Start l2-agent (the rule is still there, out-of-sync)\n\nChange-Id: I194c918d859172c31ae5ce1af925fdbb388f9cfb\nCloses-Bug: #1812576\n'}, {'number': 17, 'created': '2019-01-30 09:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b82b5bba5eec4b70b3fa50f23c8941414ea32aad', 'message': 'Clear old rules that have been applied before applying new rules.\n\nTo prevent data from being out of sync in the following situations:\n1. Create a policy with two rules bound to the virtual machine\n2. Stop l2-agent\n3. Delete/change/clear policy rule\n4. Start l2-agent (the rule is still there, out-of-sync)\n\nChange-Id: I194c918d859172c31ae5ce1af925fdbb388f9cfb\nCloses-Bug: #1812576\n'}, {'number': 18, 'created': '2019-01-30 13:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5861350e560601f589c0a9419dec6c21925c046a', 'message': 'Clear old rules that have been applied before applying new rules.\n\nTo prevent data from being out of sync in the following situations:\n1. Create a policy with two rules bound to the virtual machine\n2. Stop l2-agent\n3. Delete/change/clear policy rule\n4. Start l2-agent (the rule is still there, out-of-sync)\n\nChange-Id: I194c918d859172c31ae5ce1af925fdbb388f9cfb\nCloses-Bug: #1812576\n'}, {'number': 19, 'created': '2019-01-30 15:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b907a4f50159065ff2be8e2992a73bb45305da56', 'message': 'Clear old rules that have been applied before applying new rules.\n\nTo prevent data from being out of sync in the following situations:\n1. Create a policy with two rules bound to the virtual machine\n2. Stop l2-agent\n3. Delete/change/clear policy rule\n4. Start l2-agent (the rule is still there, out-of-sync)\n\nChange-Id: I194c918d859172c31ae5ce1af925fdbb388f9cfb\nCloses-Bug: #1812576\n'}, {'number': 20, 'created': '2019-01-31 00:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/055d399c9a498f1031121e7f92f3698b5dd87c51', 'message': 'Clear old rules that have been applied before applying new rules.\n\nTo prevent data from being out of sync in the following situations:\n1. Create a policy with two rules bound to the virtual machine\n2. Stop l2-agent\n3. Delete/change/clear policy rule\n4. Start l2-agent (the rule is still there, out-of-sync)\n\nChange-Id: I194c918d859172c31ae5ce1af925fdbb388f9cfb\nCloses-Bug: #1812576\n'}, {'number': 21, 'created': '2019-01-31 08:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8312a27b1429bf5b689d307a34bf597a19372df5', 'message': 'Clear old rules that have been applied before applying new rules.\n\nTo prevent data from being out of sync in the following situations:\n1. Create a policy with two rules bound to the virtual machine\n2. Stop l2-agent\n3. Delete/change/clear policy rule\n4. Start l2-agent (the rule is still there, out-of-sync)\n\nChange-Id: I194c918d859172c31ae5ce1af925fdbb388f9cfb\nCloses-Bug: #1812576\n'}, {'number': 22, 'created': '2019-01-31 16:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bdefcdeee734e3fe69ae0c1340e8fc57e511310c', 'message': 'Clear old rules that have been applied before applying new rules.\n\nTo prevent data from being out of sync in the following situations:\n1. Create a policy with two rules bound to the virtual machine\n2. Stop l2-agent\n3. Delete/change/clear policy rule\n4. Start l2-agent (the rule is still there, out-of-sync)\n\nChange-Id: I194c918d859172c31ae5ce1af925fdbb388f9cfb\nCloses-Bug: #1812576\n'}, {'number': 23, 'created': '2019-02-01 12:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/29ff45c37a42af295de174d9d7574e299e4bab37', 'message': 'Clear old rules that have been applied before applying new rules.\n\nTo prevent data from being out of sync in the following situations:\n1. Create a policy with two rules bound to the virtual machine\n2. Stop l2-agent\n3. Delete/change/clear policy rule\n4. Start l2-agent (the rule is still there, out-of-sync)\n\nChange-Id: I194c918d859172c31ae5ce1af925fdbb388f9cfb\nCloses-Bug: #1812576\n'}, {'number': 24, 'created': '2019-02-01 16:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c0eb80fd7af325aaf213e37d86f117b9bdecd6b3', 'message': 'Clear old rules that have been applied before applying new rules.\n\nTo prevent data from being out of sync in the following situations:\n1. Create a policy with two rules bound to the virtual machine\n2. Stop l2-agent\n3. Delete/change/clear policy rule\n4. Start l2-agent (the rule is still there, out-of-sync)\n\nChange-Id: I194c918d859172c31ae5ce1af925fdbb388f9cfb\nCloses-Bug: #1812576\n'}, {'number': 25, 'created': '2019-02-02 05:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/351b401ff8ae3d33751c399cdd4163bf79f133c5', 'message': 'Clear old rules that have been applied before applying new rules.\n\nTo prevent data from being out of sync in the following situations:\n1. Create a policy with two rules bound to the virtual machine\n2. Stop l2-agent\n3. Delete/change/clear policy rule\n4. Start l2-agent (the rule is still there, out-of-sync)\n\nChange-Id: I194c918d859172c31ae5ce1af925fdbb388f9cfb\nCloses-Bug: #1812576\n'}, {'number': 26, 'created': '2019-02-02 07:07:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a42cd051aa562482b73ff0241e8092e9c595e488', 'message': 'Clear old rules that have been applied before applying new rules.\n\nTo prevent data from being out of sync in the following situations:\n1. Create a policy with two rules bound to the virtual machine\n2. Stop l2-agent\n3. Delete/change/clear policy rule\n4. Start l2-agent (the rule is still there, out-of-sync)\n\nChange-Id: I194c918d859172c31ae5ce1af925fdbb388f9cfb\nCloses-Bug: #1812576\n'}, {'number': 27, 'created': '2019-02-08 02:57:27.000000000', 'files': ['neutron/tests/unit/agent/l2/extensions/test_qos.py', 'neutron/tests/fullstack/test_qos.py', 'neutron/agent/l2/extensions/qos.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6f927cc11970b683305c96412d248e63cc15c12b', 'message': 'Clear old rules that have been applied before applying new rules.\n\nTo prevent data from being out of sync in the following situations:\n1. Create a policy with two rules bound to the virtual machine\n2. Stop l2-agent\n3. Delete/change/clear policy rule\n4. Start l2-agent (the rule is still there, out-of-sync)\n\nChange-Id: I194c918d859172c31ae5ce1af925fdbb388f9cfb\nCloses-Bug: #1812576\n'}]",19,632014,6f927cc11970b683305c96412d248e63cc15c12b,100,10,27,25643,,,0,"Clear old rules that have been applied before applying new rules.

To prevent data from being out of sync in the following situations:
1. Create a policy with two rules bound to the virtual machine
2. Stop l2-agent
3. Delete/change/clear policy rule
4. Start l2-agent (the rule is still there, out-of-sync)

Change-Id: I194c918d859172c31ae5ce1af925fdbb388f9cfb
Closes-Bug: #1812576
",git fetch https://review.opendev.org/openstack/neutron refs/changes/14/632014/27 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l2/extensions/qos.py'],1,aa3126be724254b5c3c27548359ef329c3690735,bug/1812576," # Before applying the new rules, the old rules should be cleared, # even if the old_qos_policy is None, # to avoid the data being out of sync before the l2-agent starts. self.qos_driver.delete(port, old_qos_policy) if qos_policy.rules:"," if old_qos_policy: self.qos_driver.delete(port, old_qos_policy) self.qos_driver.update(port, qos_policy) elif not qos_policy.rules: # There are no rules in new qos_policy, # so it should be deleted. # But new policy has a relationship with the port, # so reseting should not be called. self.qos_driver.delete(port) else:",5,10
openstack%2Fneutron~master~Ia54472f93588465f01625e84f436186821be0c92,openstack/neutron,master,Ia54472f93588465f01625e84f436186821be0c92,Retry on ovs db_find during port processing,ABANDONED,2018-12-20 17:24:17.000000000,2019-02-10 12:47:38.000000000,,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 8871}, {'_account_id': 9373}, {'_account_id': 9531}, {'_account_id': 10385}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2018-12-20 17:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3c5f62e6943a2d9f411d8fce26877c7b87e7b53f', 'message': ""Retry on ovs db_find during port processing\n\nIt has a race condition between the deleting action of 'replace_port'\nand the 'db_find' in ovs_lib. Sometimes it will not get the port from\nthe ovs db, and then we lost the flows for it. So this patch adds a\nsimple retry on it to prvent such issue.\n\nRelated-Bug: #1798475\nChange-Id: Ia54472f93588465f01625e84f436186821be0c92\n""}, {'number': 2, 'created': '2018-12-21 10:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a971b3f30a2710a40520143f1fec0814da623ec0', 'message': ""Retry on ovs db_find during port processing\n\nIt has a race condition between the deleting action of 'replace_port'\nand the 'db_find' in ovs_lib. Sometimes it will not get the port from\nthe ovs db, and then we lost the flows for it. So this patch adds a\nsimple retry on it to prevent such issue.\n\nRelated-Bug: #1798475\nChange-Id: Ia54472f93588465f01625e84f436186821be0c92\n""}, {'number': 3, 'created': '2018-12-22 14:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b89ba0803083b9b3ca9df444033cd9a9ec6b283b', 'message': ""Retry on ovs db_find during port processing\n\nIt has a race condition between the deleting action of 'replace_port'\nand the 'db_find' in ovs_lib. Sometimes it will not get the port from\nthe ovs db, and then we lost the flows for it. So this patch adds a\nsimple retry on it to prevent such issue.\n\nRelated-Bug: #1798475\nChange-Id: Ia54472f93588465f01625e84f436186821be0c92\n""}, {'number': 4, 'created': '2018-12-23 03:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dc9a15a6f407c5a1bf2f784a8fdb2ab7321b50ae', 'message': ""Retry on ovs db_find during port processing\n\nIt has a race condition between the deleting action of 'replace_port'\nand the 'db_find' in ovs_lib. Sometimes it will not get the port from\nthe ovs db, and then we lost the flows for it. So this patch adds a\nsimple retry on it to prevent such issue.\n\nRelated-Bug: #1798475\nChange-Id: Ia54472f93588465f01625e84f436186821be0c92\n""}, {'number': 5, 'created': '2018-12-23 08:32:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aa553555d3426f89cd7cede5852144b7be034c21', 'message': ""Retry on ovs db_find during port processing\n\nIt has a race condition between the deleting action of 'replace_port'\nand the 'db_find' in ovs_lib. Sometimes it will not get the port from\nthe ovs db, and then we lost the flows for it. So this patch adds a\nsimple retry on it to prevent such issue.\n\nRelated-Bug: #1798475\nChange-Id: Ia54472f93588465f01625e84f436186821be0c92\n""}, {'number': 6, 'created': '2018-12-25 11:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/690761d290445eab8d25bb9605e49d7ceff9cce8', 'message': ""Retry on ovs db_find during port processing\n\nIt has a race condition between the deleting action of 'replace_port'\nand the 'db_find' in ovs_lib. Sometimes it will not get the port from\nthe ovs db, and then we lost the flows for it. So this patch adds a\nsimple retry on it to prevent such issue.\n\nRelated-Bug: #1798475\nChange-Id: Ia54472f93588465f01625e84f436186821be0c92\n""}, {'number': 7, 'created': '2019-01-25 03:10:29.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/agent/common/ovs_lib.py', 'neutron/tests/unit/agent/common/test_ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/613a6534e330a37e084016adc5bef4e9cac2843a', 'message': ""Retry on ovs db_find during port processing\n\nIt has a race condition between the deleting action of 'replace_port'\nand the 'db_find' in ovs_lib. Sometimes it will not get the port from\nthe ovs db, and then we lost the flows for it. So this patch adds a\nsimple retry on it to prevent such issue.\n\nRelated-Bug: #1798475\nChange-Id: Ia54472f93588465f01625e84f436186821be0c92\n""}]",15,626628,613a6534e330a37e084016adc5bef4e9cac2843a,48,10,7,9531,,,0,"Retry on ovs db_find during port processing

It has a race condition between the deleting action of 'replace_port'
and the 'db_find' in ovs_lib. Sometimes it will not get the port from
the ovs db, and then we lost the flows for it. So this patch adds a
simple retry on it to prevent such issue.

Related-Bug: #1798475
Change-Id: Ia54472f93588465f01625e84f436186821be0c92
",git fetch https://review.opendev.org/openstack/neutron refs/changes/28/626628/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/common/ovs_lib.py'],1,3c5f62e6943a2d9f411d8fce26877c7b87e7b53f,bug/1798475," # Sometimes the port may be processing under 'replace_port', so it has # a race condition between delete of the 'replace_port' and # the 'db_find' here. Sometimes here will not get the port from the # bridge, and we lost the flows for it. So we just retry 10 # times in 10 seconds to ensure that. for _ in range(0, 10): ports = self.ovsdb.db_find( 'Interface', ('external_ids', '=', {'iface-id': port_id}), ('external_ids', '!=', {'attached-mac': ''}), columns=['external_ids', 'name', 'ofport']).execute() for port in ports: if self.br_name != self.get_bridge_for_iface(port['name']): continue if not self._check_ofport(port_id, port): continue mac = port['external_ids'].get('attached-mac') return VifPort(port['name'], port['ofport'], port_id, mac, self) time.sleep(1) # port is really deleted from the bridge."," ports = self.ovsdb.db_find( 'Interface', ('external_ids', '=', {'iface-id': port_id}), ('external_ids', '!=', {'attached-mac': ''}), columns=['external_ids', 'name', 'ofport']).execute() for port in ports: if self.br_name != self.get_bridge_for_iface(port['name']): continue if not self._check_ofport(port_id, port): continue mac = port['external_ids'].get('attached-mac') return VifPort(port['name'], port['ofport'], port_id, mac, self)",20,11
openstack%2Frequirements~master~I4df911192bb1d7d249bd480d9645ff52e4a812f9,openstack/requirements,master,I4df911192bb1d7d249bd480d9645ff52e4a812f9,Updated from generate-constraints,MERGED,2019-02-09 06:10:44.000000000,2019-02-10 11:51:03.000000000,2019-02-10 11:51:02.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-09 06:10:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/708ae4e91933c0e95b951e040d3ba6eaea3e1968', 'message': 'Updated from generate-constraints\n\nChange-Id: I4df911192bb1d7d249bd480d9645ff52e4a812f9\n'}, {'number': 2, 'created': '2019-02-10 06:13:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/6a96c7a95bbe446a7eb3a865afc5d9871e939ee4', 'message': 'Updated from generate-constraints\n\nChange-Id: I4df911192bb1d7d249bd480d9645ff52e4a812f9\n'}, {'number': 3, 'created': '2019-02-10 06:21:39.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/94ad643c23a987686405d212afd2c4d1ecf27147', 'message': 'Updated from generate-constraints\n\nChange-Id: I4df911192bb1d7d249bd480d9645ff52e4a812f9\n'}]",0,635999,94ad643c23a987686405d212afd2c4d1ecf27147,11,2,3,11131,,,0,"Updated from generate-constraints

Change-Id: I4df911192bb1d7d249bd480d9645ff52e4a812f9
",git fetch https://review.opendev.org/openstack/requirements refs/changes/99/635999/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,708ae4e91933c0e95b951e040d3ba6eaea3e1968,openstack/requirements/constraints/noclob,scipy===1.2.1rsd-lib===0.4.0tornado===4.5.3;python_version=='3.4' tornado===4.5.3;python_version=='3.5' tornado===4.5.3;python_version=='3.6' tornado===5.1.1;python_version=='2.7'mypy===0.670;python_version=='3.4' mypy===0.670;python_version=='3.5' mypy===0.670;python_version=='3.6'opentracing===2.0.0dogpile.cache===0.7.1salt===2018.3.3botocore===1.12.91typed-ast===1.3.1;python_version=='3.4' typed-ast===1.3.1;python_version=='3.5' typed-ast===1.3.1;python_version=='3.6',scipy===1.2.0rsd-lib===0.3.2tornado===4.5.3mypy===0.660;python_version=='3.4' mypy===0.660;python_version=='3.5' mypy===0.660;python_version=='3.6'opentracing===1.3.0dogpile.cache===0.6.8salt===2018.3.2botocore===1.12.90typed-ast===1.2.0;python_version=='3.4' typed-ast===1.2.0;python_version=='3.5' typed-ast===1.2.0;python_version=='3.6',16,13
openstack%2Fkuryr-kubernetes~master~I0f58239660048b9100ee3ca1872df677c3463ebd,openstack/kuryr-kubernetes,master,I0f58239660048b9100ee3ca1872df677c3463ebd,Remove dragonflow job from experimental jobs,MERGED,2019-02-07 17:30:13.000000000,2019-02-10 08:35:43.000000000,2019-02-10 08:35:43.000000000,"[{'_account_id': 6598}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-02-07 17:30:13.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/faa95934b48dee70ebc56f7589dbfe984e924912', 'message': ""Remove dragonflow job from experimental jobs\n\nThis job is failing on DevStack's execution for a while and nobody seems\nto care, so let's remove it from our experimental job list. This will\nconserve some infra resources. Note that I'm leaving its definition in\nthe yaml files and will happily welcome it back once there's someone who\nfixes it.\n\nChange-Id: I0f58239660048b9100ee3ca1872df677c3463ebd\n""}]",0,635581,faa95934b48dee70ebc56f7589dbfe984e924912,7,5,1,11600,,,0,"Remove dragonflow job from experimental jobs

This job is failing on DevStack's execution for a while and nobody seems
to care, so let's remove it from our experimental job list. This will
conserve some infra resources. Note that I'm leaving its definition in
the yaml files and will happily welcome it back once there's someone who
fixes it.

Change-Id: I0f58239660048b9100ee3ca1872df677c3463ebd
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/81/635581/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,faa95934b48dee70ebc56f7589dbfe984e924912,remove-dragonflow,, - kuryr-kubernetes-tempest-dragonflow,0,1
openstack%2Fpython-octaviaclient~master~Iaf7d251ef4054fa28ef61e02fdebc05c83786e9e,openstack/python-octaviaclient,master,Iaf7d251ef4054fa28ef61e02fdebc05c83786e9e,[WIP]: Attribute names should not use underscore,ABANDONED,2017-11-20 10:27:43.000000000,2019-02-10 08:23:09.000000000,,"[{'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 11628}, {'_account_id': 12024}, {'_account_id': 22348}, {'_account_id': 25239}]","[{'number': 1, 'created': '2017-11-20 10:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/8d49f876e8df9299e2e599ebb7e54dfd6d91ff4a', 'message': '[WIP]: Attribute names should not use underscore\n\nThis is a follow up to I336477e723867b5da2a041b441a25a7a611596ee\nAnd as a follow up to:\n""All long options names shall begin with two dashes (\'--\') and use a single\ndash (\'-\') internally between words (--like-this). Underscores (\'_\')\nshall not be used in option names.""\n\nSince we already released a client, we would have to play nice and keep\nbackwards compatibility.\n\nChange-Id: Iaf7d251ef4054fa28ef61e02fdebc05c83786e9e\nSource: https://wiki.openstack.org/wiki/OpenStackClient/HumanInterfaceGuidelines#Command_Structure\n'}, {'number': 2, 'created': '2017-11-20 10:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/e7dd936930de35b028ced32007d0510ba8dfba2a', 'message': '[WIP]: Attribute names should not use underscore\n\nThis is a follow up to I336477e723867b5da2a041b441a25a7a611596ee\nAnd as a follow up to:\n""All long options names shall begin with two dashes (\'--\') and use a single\ndash (\'-\') internally between words (--like-this). Underscores (\'_\')\nshall not be used in option names.""\n\nSince we already released a client, we would have to play nice and keep\nbackwards compatibility.\n\nChange-Id: Iaf7d251ef4054fa28ef61e02fdebc05c83786e9e\nSource: https://wiki.openstack.org/wiki/OpenStackClient/HumanInterfaceGuidelines#Command_Structure\n'}, {'number': 3, 'created': '2017-11-20 10:35:27.000000000', 'files': ['octaviaclient/osc/v2/health_monitor.py', 'octaviaclient/osc/plugin.py', 'octaviaclient/osc/v2/load_balancer.py', 'octaviaclient/osc/v2/listener.py', 'octaviaclient/tests/unit/osc/v2/test_pool.py', 'octaviaclient/osc/v2/pool.py'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/62c897ef0a9ddfc2f7273ad6df5ff85c1e056c30', 'message': '[WIP]: Attribute names should not use underscore\n\nThis is a follow up to I336477e723867b5da2a041b441a25a7a611596ee\nAnd as a follow up to:\n""All long options names shall begin with two dashes (\'--\') and use a single\ndash (\'-\') internally between words (--like-this). Underscores (\'_\')\nshall not be used in option names.""\n\nSince we already released a client, we would have to play nice and keep\nbackwards compatibility.\n\nChange-Id: Iaf7d251ef4054fa28ef61e02fdebc05c83786e9e\nSource: https://wiki.openstack.org/wiki/OpenStackClient/HumanInterfaceGuidelines#Command_Structure\n'}]",12,521482,62c897ef0a9ddfc2f7273ad6df5ff85c1e056c30,9,6,3,6579,,,0,"[WIP]: Attribute names should not use underscore

This is a follow up to I336477e723867b5da2a041b441a25a7a611596ee
And as a follow up to:
""All long options names shall begin with two dashes ('--') and use a single
dash ('-') internally between words (--like-this). Underscores ('_')
shall not be used in option names.""

Since we already released a client, we would have to play nice and keep
backwards compatibility.

Change-Id: Iaf7d251ef4054fa28ef61e02fdebc05c83786e9e
Source: https://wiki.openstack.org/wiki/OpenStackClient/HumanInterfaceGuidelines#Command_Structure
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/82/521482/1 && git format-patch -1 --stdout FETCH_HEAD,"['octaviaclient/osc/v2/health_monitor.py', 'octaviaclient/osc/plugin.py', 'octaviaclient/osc/v2/load_balancer.py', 'octaviaclient/osc/v2/listener.py', 'octaviaclient/tests/unit/osc/v2/test_pool.py', 'octaviaclient/osc/v2/pool.py']",6,8d49f876e8df9299e2e599ebb7e54dfd6d91ff4a,attr_underscore_to_hyphen," parent_group.add_argument(q '--load-balancer', metavar='<loadbalancer>',"," parent_group.add_argument( '--loadbalancer', metavar='<load_balancer>',",12,12
openstack%2Fkuryr-libnetwork~stable%2Frocky~Iee23b16fd4905e3ce21ff8a463253641dc191541,openstack/kuryr-libnetwork,stable/rocky,Iee23b16fd4905e3ce21ff8a463253641dc191541,Remove unnecessary code,MERGED,2019-02-08 03:33:06.000000000,2019-02-10 07:53:18.000000000,2019-02-10 07:53:18.000000000,"[{'_account_id': 6598}, {'_account_id': 9820}, {'_account_id': 11343}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 03:33:06.000000000', 'files': ['kuryr_libnetwork/tests/unit/test_kuryr_ipam.py', 'kuryr_libnetwork/controllers.py'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/a313a7fa597fa07f8cc2b20ea4431ad8e22d789a', 'message': 'Remove unnecessary code\n\nThe population of mac address on creating port is unnecessary\nbecause the mac address will be updated on creating endpoint.\n\nRelated-Bug: #1800375\nChange-Id: Iee23b16fd4905e3ce21ff8a463253641dc191541\n(cherry picked from commit f0e48ebaa037572cb948ee6afd05485550e114a2)\n'}]",0,635708,a313a7fa597fa07f8cc2b20ea4431ad8e22d789a,8,6,1,11536,,,0,"Remove unnecessary code

The population of mac address on creating port is unnecessary
because the mac address will be updated on creating endpoint.

Related-Bug: #1800375
Change-Id: Iee23b16fd4905e3ce21ff8a463253641dc191541
(cherry picked from commit f0e48ebaa037572cb948ee6afd05485550e114a2)
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/08/635708/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_libnetwork/tests/unit/test_kuryr_ipam.py', 'kuryr_libnetwork/controllers.py']",2,a313a7fa597fa07f8cc2b20ea4431ad8e22d789a,bug/1800375-stable/rocky,, if req_mac_address: port['mac_address'] = req_mac_address,0,6
openstack%2Fkuryr-libnetwork~stable%2Fqueens~Iee23b16fd4905e3ce21ff8a463253641dc191541,openstack/kuryr-libnetwork,stable/queens,Iee23b16fd4905e3ce21ff8a463253641dc191541,Remove unnecessary code,MERGED,2019-02-08 03:33:14.000000000,2019-02-10 07:53:17.000000000,2019-02-10 07:53:17.000000000,"[{'_account_id': 6598}, {'_account_id': 9820}, {'_account_id': 11343}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 03:33:14.000000000', 'files': ['kuryr_libnetwork/tests/unit/test_kuryr_ipam.py', 'kuryr_libnetwork/controllers.py'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/1d858e13ab8a6f9340ef907e58bf693a1f36ec2a', 'message': 'Remove unnecessary code\n\nThe population of mac address on creating port is unnecessary\nbecause the mac address will be updated on creating endpoint.\n\nRelated-Bug: #1800375\nChange-Id: Iee23b16fd4905e3ce21ff8a463253641dc191541\n(cherry picked from commit f0e48ebaa037572cb948ee6afd05485550e114a2)\n'}]",0,635709,1d858e13ab8a6f9340ef907e58bf693a1f36ec2a,7,6,1,11536,,,0,"Remove unnecessary code

The population of mac address on creating port is unnecessary
because the mac address will be updated on creating endpoint.

Related-Bug: #1800375
Change-Id: Iee23b16fd4905e3ce21ff8a463253641dc191541
(cherry picked from commit f0e48ebaa037572cb948ee6afd05485550e114a2)
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/09/635709/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_libnetwork/tests/unit/test_kuryr_ipam.py', 'kuryr_libnetwork/controllers.py']",2,1d858e13ab8a6f9340ef907e58bf693a1f36ec2a,bug/1800375-stable/rocky-stable/queens,, if req_mac_address: port['mac_address'] = req_mac_address,0,6
openstack%2Fneutron~master~I57b91cc52ed31e4ea0242edb8de8b1beff6706ab,openstack/neutron,master,I57b91cc52ed31e4ea0242edb8de8b1beff6706ab,"Debug neutron-lib failures for ""Run revision bump operations en masse""",ABANDONED,2019-02-08 16:25:18.000000000,2019-02-09 23:55:52.000000000,,"[{'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-02-08 16:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8b0208f2a3aa57e29cba032a08ecd8f13b334503', 'message': 'Debug neutron-lib failures for ""Run revision bump operations en masse""\n\nChange id I2fef298041c59a03dfd06912764973995b80690c is failing, related\nto a behavior in neutron-lib and only in a tempest run.    Unlink event\nhooks, re-link to local ones so we can get more debugging info in the logs.\n\nTrying some expedient ways to get info on tempest failures\nwithout yet figuring out how to run tempest locally.   suggestions\nwelcome.\n\nChange-Id: I57b91cc52ed31e4ea0242edb8de8b1beff6706ab\n'}, {'number': 2, 'created': '2019-02-08 20:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c8e3a726deb4f247e1d2592bf9f39d0f7e07e8bc', 'message': 'Debug neutron-lib failures for ""Run revision bump operations en masse""\n\nChange id I2fef298041c59a03dfd06912764973995b80690c is failing, related\nto a behavior in neutron-lib and only in a tempest run.    Unlink event\nhooks, re-link to local ones so we can get more debugging info in the logs.\n\nTrying some expedient ways to get info on tempest failures\nwithout yet figuring out how to run tempest locally.   suggestions\nwelcome.\n\nChange-Id: I57b91cc52ed31e4ea0242edb8de8b1beff6706ab\n'}, {'number': 3, 'created': '2019-02-08 23:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/738a4521919be2d1e2aa30e3537159a489a7d890', 'message': 'Debug neutron-lib failures for ""Run revision bump operations en masse""\n\nChange id I2fef298041c59a03dfd06912764973995b80690c is failing, related\nto a behavior in neutron-lib and only in a tempest run.    Unlink event\nhooks, re-link to local ones so we can get more debugging info in the logs.\n\nThis also vendors I8d0321487e4b406ead7a237156ef2f221fb512b9 as the same event\nlogic was happening in two places, causing all the tempest runs to continue\nto fail.\n\nTrying some expedient ways to get info on tempest failures\nwithout yet figuring out how to run tempest locally.   suggestions\nwelcome.\n\nChange-Id: I57b91cc52ed31e4ea0242edb8de8b1beff6706ab\n'}, {'number': 4, 'created': '2019-02-09 02:41:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/430d5720a2d34c1d9c2f410434a7e40c9064accb', 'message': 'Debug neutron-lib failures for ""Run revision bump operations en masse""\n\nChange id I2fef298041c59a03dfd06912764973995b80690c is failing, related\nto a behavior in neutron-lib and only in a tempest run.    Unlink event\nhooks, re-link to local ones so we can get more debugging info in the logs.\n\nThis also vendors I8d0321487e4b406ead7a237156ef2f221fb512b9 as the same event\nlogic was happening in two places, causing all the tempest runs to continue\nto fail.\n\nTrying some expedient ways to get info on tempest failures\nwithout yet figuring out how to run tempest locally.   suggestions\nwelcome.\n\nChange-Id: I57b91cc52ed31e4ea0242edb8de8b1beff6706ab\n'}, {'number': 5, 'created': '2019-02-09 04:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8faa26ed4e246b466520fcf9f9b9b8deff6c8703', 'message': 'Debug neutron-lib failures for ""Run revision bump operations en masse""\n\nChange id I2fef298041c59a03dfd06912764973995b80690c is failing, related\nto a behavior in neutron-lib and only in a tempest run.    Unlink event\nhooks, re-link to local ones so we can get more debugging info in the logs.\n\nThis also vendors I8d0321487e4b406ead7a237156ef2f221fb512b9 as the same event\nlogic was happening in two places, causing all the tempest runs to continue\nto fail.\n\nTrying some expedient ways to get info on tempest failures\nwithout yet figuring out how to run tempest locally.   suggestions\nwelcome.\n\nChange-Id: I57b91cc52ed31e4ea0242edb8de8b1beff6706ab\n'}, {'number': 6, 'created': '2019-02-09 06:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/896f74f96a4e1a77d732b474683c137a39eb07a7', 'message': 'Debug neutron-lib failures for ""Run revision bump operations en masse""\n\nChange id I2fef298041c59a03dfd06912764973995b80690c is failing, related\nto a behavior in neutron-lib and only in a tempest run.    Unlink event\nhooks, re-link to local ones so we can get more debugging info in the logs.\n\nThis also vendors I8d0321487e4b406ead7a237156ef2f221fb512b9 as the same event\nlogic was happening in two places, causing all the tempest runs to continue\nto fail.\n\nTrying some expedient ways to get info on tempest failures\nwithout yet figuring out how to run tempest locally.   suggestions\nwelcome.\n\nChange-Id: I57b91cc52ed31e4ea0242edb8de8b1beff6706ab\n'}, {'number': 7, 'created': '2019-02-09 15:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0451802fae17cadae369725da0c069521496d697', 'message': 'Debug neutron-lib failures for ""Run revision bump operations en masse""\n\nChange id I2fef298041c59a03dfd06912764973995b80690c is failing, related\nto a behavior in neutron-lib and only in a tempest run.    Unlink event\nhooks, re-link to local ones so we can get more debugging info in the logs.\n\nThis also vendors I8d0321487e4b406ead7a237156ef2f221fb512b9 as the same event\nlogic was happening in two places, causing all the tempest runs to continue\nto fail.\n\nTrying some expedient ways to get info on tempest failures\nwithout yet figuring out how to run tempest locally.   suggestions\nwelcome.\n\nChange-Id: I57b91cc52ed31e4ea0242edb8de8b1beff6706ab\n'}, {'number': 8, 'created': '2019-02-09 17:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d1747797c7f43bac0c3a00e2c775a9e267ed4218', 'message': 'Debug neutron-lib failures for ""Run revision bump operations en masse""\n\nChange id I2fef298041c59a03dfd06912764973995b80690c is failing, related\nto a behavior in neutron-lib and only in a tempest run.    Unlink event\nhooks, re-link to local ones so we can get more debugging info in the logs.\n\nThis also vendors I8d0321487e4b406ead7a237156ef2f221fb512b9 as the same event\nlogic was happening in two places, causing all the tempest runs to continue\nto fail.\n\nTrying some expedient ways to get info on tempest failures\nwithout yet figuring out how to run tempest locally.   suggestions\nwelcome.\n\nChange-Id: I57b91cc52ed31e4ea0242edb8de8b1beff6706ab\n'}, {'number': 9, 'created': '2019-02-09 19:36:22.000000000', 'files': ['neutron/db/db_base_plugin_common.py', 'neutron/services/revisions/revision_plugin.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/tests/unit/services/revisions/test_revision_plugin.py', 'neutron/db/models_v2.py', 'neutron/db/standard_attr.py', 'neutron/db/mikes_neutronlib.py', 'neutron/db/api.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8c33985f60cf516f6633778d5e1c0da6093f42b', 'message': 'Debug neutron-lib failures for ""Run revision bump operations en masse""\n\nChange id I2fef298041c59a03dfd06912764973995b80690c is failing, related\nto a behavior in neutron-lib and only in a tempest run.    Unlink event\nhooks, re-link to local ones so we can get more debugging info in the logs.\n\nThis also vendors I8d0321487e4b406ead7a237156ef2f221fb512b9 as the same event\nlogic was happening in two places, causing all the tempest runs to continue\nto fail.\n\nTrying some expedient ways to get info on tempest failures\nwithout yet figuring out how to run tempest locally.   suggestions\nwelcome.\n\nChange-Id: I57b91cc52ed31e4ea0242edb8de8b1beff6706ab\n'}]",0,635880,d8c33985f60cf516f6633778d5e1c0da6093f42b,32,4,9,11816,,,0,"Debug neutron-lib failures for ""Run revision bump operations en masse""

Change id I2fef298041c59a03dfd06912764973995b80690c is failing, related
to a behavior in neutron-lib and only in a tempest run.    Unlink event
hooks, re-link to local ones so we can get more debugging info in the logs.

This also vendors I8d0321487e4b406ead7a237156ef2f221fb512b9 as the same event
logic was happening in two places, causing all the tempest runs to continue
to fail.

Trying some expedient ways to get info on tempest failures
without yet figuring out how to run tempest locally.   suggestions
welcome.

Change-Id: I57b91cc52ed31e4ea0242edb8de8b1beff6706ab
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/635880/9 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/revisions/revision_plugin.py', 'neutron/tests/unit/services/revisions/test_revision_plugin.py', 'neutron/db/standard_attr.py', 'neutron/db/mikes_neutronlib.py']",4,8b0208f2a3aa57e29cba032a08ecd8f13b334503,mike_testing,"import weakref from neutron_lib.db import api from neutron_lib.db import model_base import sqlalchemy from sqlalchemy import event from sqlalchemy import orm # this is mike's recipe from # https://github.com/sqlalchemy/sqlalchemy/wiki/ExpireRelationshipOnFKChange # which is now in neutron lib at neutron_lib/db/api.py . # Here we are going to switch off the neutron-lib one and re-implement here # to figure out how it is failing event.remove(orm.session.Session, ""pending_to_persistent"", api._pending_callables) event.remove(orm.session.Session, ""persistent_to_deleted"", api._persistent_to_deleted) event.remove(model_base.BASEV2, ""attribute_instrument"", api._listen_for_changes) def _debug(sess, target, related, key): insp = sqlalchemy.inspect(related) return ( ""Encountered related object on key '.%s' in a different session than its parent\n"" ""Lead session: %s, neutron context %s context reports session as %s\n"" ""Related object session: %s, neutron context %s context reports session as %s\n"" ""Target object: %s\n"" ""Related object: %s\n"" ""Target key in dict: %s\n"" % ( key, sess, sess.info.get('using_context', None), sess.info['using_context'].session if sess.info.get('using_context', None) else None, insp.session, insp.session.info.get('using_context', None) if insp.session else None, insp.session.info['using_context'].session if insp.session and insp.session.info.get('using_context', None) else None, target, related, target.__dict__.get(key, None) ) ) def _expire_for_fk_change(target, fk_value, relationship_prop, column_attr): """"""Expire relationship attributes when a many-to-one column changes."""""" sess = orm.object_session(target) # subnets and network's many-to-one relationship is used as example in the # comments in this function if sess is not None: # optional behavior #1 - expire the ""Network.subnets"" # collection on the existing ""network"" object if relationship_prop.back_populates and \ relationship_prop.key in target.__dict__: obj = getattr(target, relationship_prop.key) if obj is not None: insp = sqlalchemy.inspect(obj) if insp.persistent: if insp.session is not sess: raise Exception( _debug(sess, target, obj, relationship_prop.key)) if insp.persistent and insp.session is sess: sess.expire(obj, [relationship_prop.back_populates]) # optional behavior #2 - expire the ""Subnet.network"" if sqlalchemy.inspect(target).persistent: sess.expire(target, [relationship_prop.key]) # optional behavior #3 - ""trick"" the ORM by actually # setting the value ahead of time, then emitting a load # for the attribute so that the *new* Subnet.network # is loaded. Then, expire Network.subnets on *that*. # Other techniques here including looking in the identity # map for ""value"", if this is a simple many-to-one get. if relationship_prop.back_populates: target.__dict__[column_attr] = fk_value new = getattr(target, relationship_prop.key) if new is not None: insp = sqlalchemy.inspect(new) if insp.persistent: if insp.session is not sess: raise Exception( _debug(sess, target, obj, relationship_prop.key)) if insp.persistent and insp.session is sess: sess.expire(new, [relationship_prop.back_populates]) else: # no Session yet, do it later. This path is reached from the 'expire' # listener setup by '_expire_prop_on_col' below, when a foreign key # is directly assigned to in the many to one side of a relationship. # i.e. assigning directly to Subnet.network_id before Subnet is added # to the session # THE BUG (at least part of it) - these objects are getting associated # with a different session. if target not in _emit_on_pending: _emit_on_pending[target] = [] _emit_on_pending[target].append( (fk_value, relationship_prop, column_attr)) _emit_on_pending = weakref.WeakKeyDictionary() @event.listens_for(orm.session.Session, ""pending_to_persistent"") def _pending_callables(session, obj): """"""Expire relationships when a new object w/ a FK becomes persistent"""""" if obj is None: return args = _emit_on_pending.pop(obj, []) for a in args: if a is not None: _expire_for_fk_change(obj, *a) @event.listens_for(orm.session.Session, ""persistent_to_deleted"") def _persistent_to_deleted(session, obj): """"""Expire relationships when an object w/ a foreign key becomes deleted"""""" mapper = sqlalchemy.inspect(obj).mapper for prop in mapper.relationships: if prop.direction is orm.interfaces.MANYTOONE: for col in prop.local_columns: colkey = mapper.get_property_by_column(col).key _expire_for_fk_change(obj, None, prop, colkey) @event.listens_for(model_base.BASEV2, ""attribute_instrument"", propagate=True) def _listen_for_changes(cls, key, inst): mapper = sqlalchemy.inspect(cls) if key not in mapper.relationships: return prop = inst.property if prop.direction is orm.interfaces.MANYTOONE: for col in prop.local_columns: colkey = mapper.get_property_by_column(col).key _expire_prop_on_col(cls, prop, colkey) elif prop.direction is orm.interfaces.ONETOMANY: remote_mapper = prop.mapper # the collection *has* to have a MANYTOONE backref so we # can look up the parent. so here we make one if it doesn't # have it already, as is the case in this example if not prop.back_populates: name = ""_%s_backref"" % prop.key backref_prop = orm.relationship( prop.parent, back_populates=prop.key) remote_mapper.add_property(name, backref_prop) prop.back_populates = name def _expire_prop_on_col(cls, prop, colkey): @event.listens_for(getattr(cls, colkey), ""set"") def expire(target, value, oldvalue, initiator): """"""Expire relationships when FK attribute on an object changes"""""" _expire_for_fk_change(target, value, prop, colkey) ",,284,30
openstack%2Fkolla~master~I3b9624a4d919c0ee1d5968e5d1705919b0641f01,openstack/kolla,master,I3b9624a4d919c0ee1d5968e5d1705919b0641f01,macros: workaround PIP 19 issue #6197,ABANDONED,2019-01-31 15:09:42.000000000,2019-02-09 23:46:33.000000000,,"[{'_account_id': 14826}, {'_account_id': 16282}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23942}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-01-31 15:09:42.000000000', 'files': ['docker/macros.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/3a94db269ddabe11962b250c9c5d6f25ab3989d0', 'message': 'macros: workaround PIP 19 issue #6197\n\npip 19+ fails badly when it has to build something:\n\nINFO:kolla.common.utils.openstack-base:Traceback (most recent call last):\nINFO:kolla.common.utils.openstack-base:  File ""/var/lib/kolla/venv/local/lib/python2.7/site-packages/pip/_internal/cli/base_command.py"", line 176, in main\nINFO:kolla.common.utils.openstack-base:    status = self.run(options, args)\nINFO:kolla.common.utils.openstack-base:  File ""/var/lib/kolla/venv/local/lib/python2.7/site-packages/pip/_internal/commands/install.py"", line 346, in run\nINFO:kolla.common.utils.openstack-base:    session=session, autobuilding=True\nINFO:kolla.common.utils.openstack-base:  File ""/var/lib/kolla/venv/local/lib/python2.7/site-packages/pip/_internal/wheel.py"", line 886, in build\nINFO:kolla.common.utils.openstack-base:    assert have_directory_for_build\nINFO:kolla.common.utils.openstack-base:AssertionError\n\nAdding --no-use-pep517 is most popular workaround. Other is downgrading pip to\nlast working version (18.1).\n\nhttps://github.com/pypa/pip/issues/6197\n\nChange-Id: I3b9624a4d919c0ee1d5968e5d1705919b0641f01\n'}]",1,634253,3a94db269ddabe11962b250c9c5d6f25ab3989d0,11,6,1,24072,,,0,"macros: workaround PIP 19 issue #6197

pip 19+ fails badly when it has to build something:

INFO:kolla.common.utils.openstack-base:Traceback (most recent call last):
INFO:kolla.common.utils.openstack-base:  File ""/var/lib/kolla/venv/local/lib/python2.7/site-packages/pip/_internal/cli/base_command.py"", line 176, in main
INFO:kolla.common.utils.openstack-base:    status = self.run(options, args)
INFO:kolla.common.utils.openstack-base:  File ""/var/lib/kolla/venv/local/lib/python2.7/site-packages/pip/_internal/commands/install.py"", line 346, in run
INFO:kolla.common.utils.openstack-base:    session=session, autobuilding=True
INFO:kolla.common.utils.openstack-base:  File ""/var/lib/kolla/venv/local/lib/python2.7/site-packages/pip/_internal/wheel.py"", line 886, in build
INFO:kolla.common.utils.openstack-base:    assert have_directory_for_build
INFO:kolla.common.utils.openstack-base:AssertionError

Adding --no-use-pep517 is most popular workaround. Other is downgrading pip to
last working version (18.1).

https://github.com/pypa/pip/issues/6197

Change-Id: I3b9624a4d919c0ee1d5968e5d1705919b0641f01
",git fetch https://review.opendev.org/openstack/kolla refs/changes/53/634253/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/macros.j2'],1,3a94db269ddabe11962b250c9c5d6f25ab3989d0,, pip --no-cache-dir install --no-use-pep517 --upgrade{{ ' ' }}, pip --no-cache-dir install --upgrade{{ ' ' }},1,1
openstack%2Fopenstack-ansible-nspawn_hosts~master~Ie565b683d2f06e47f7a46497ce3c38d604a0fed6,openstack/openstack-ansible-nspawn_hosts,master,Ie565b683d2f06e47f7a46497ce3c38d604a0fed6,Set the dnsmasq aa profile to complain,MERGED,2019-02-09 06:43:40.000000000,2019-02-09 23:32:26.000000000,2019-02-09 23:32:26.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-09 06:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/242a0e6deb123c086824d802284d2c38d8ffaa33', 'message': 'Set the dnsmasq aa profile to complain\n\nIf a stock aa profile exists for dnsmasq (SUSE, Ubuntu) the nspawn\ndeployment will fail due to the profile being strict. This change\nsets the profile to complain, which allows the deployment to\nsucceed. The new tasks will detect a stock dnsmasq aa profile and\nset it to complain if found.\n\nChange-Id: Ie565b683d2f06e47f7a46497ce3c38d604a0fed6\n'}, {'number': 2, 'created': '2019-02-09 18:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/3d2a3d9ce5af2eb2b314d0e5cb580f6c69cde49f', 'message': 'Set the dnsmasq aa profile to complain\n\nIf a stock aa profile exists for dnsmasq (SUSE, Ubuntu) the nspawn\ndeployment will fail due to the profile being strict. This change\nsets the profile to complain, which allows the deployment to\nsucceed. The new tasks will detect a stock dnsmasq aa profile and\nset it to complain if found.\n\nChange-Id: Ie565b683d2f06e47f7a46497ce3c38d604a0fed6\n'}, {'number': 3, 'created': '2019-02-09 18:54:36.000000000', 'files': ['vars/main.yml', 'tasks/nspawn_networking.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/2f76119d7ad7423287937d1c1bf21d212b686c08', 'message': 'Set the dnsmasq aa profile to complain\n\nIf a stock aa profile exists for dnsmasq (SUSE, Ubuntu) the nspawn\ndeployment will fail due to the profile being strict. This change\nsets the profile to complain, which allows the deployment to\nsucceed. The new tasks will detect a stock dnsmasq aa profile and\nset it to complain if found.\n\nChange-Id: Ie565b683d2f06e47f7a46497ce3c38d604a0fed6\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}]",0,636000,2f76119d7ad7423287937d1c1bf21d212b686c08,10,2,3,7353,,,0,"Set the dnsmasq aa profile to complain

If a stock aa profile exists for dnsmasq (SUSE, Ubuntu) the nspawn
deployment will fail due to the profile being strict. This change
sets the profile to complain, which allows the deployment to
succeed. The new tasks will detect a stock dnsmasq aa profile and
set it to complain if found.

Change-Id: Ie565b683d2f06e47f7a46497ce3c38d604a0fed6
Signed-off-by: Kevin Carter <kevin@cloudnull.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_hosts refs/changes/00/636000/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/nspawn_networking.yml', 'vars/main.yml']",2,242a0e6deb123c086824d802284d2c38d8ffaa33,, nspawn_network_utils: apt: iptables: /sbin/iptables ip: /sbin/ip yum: iptables: /usr/sbin/iptables ip: /usr/sbin/ip zypper: iptables: /usr/sbin/iptables ip: /sbin/ip emerge: iptables: /usr/sbin/iptables ip: /bin/ip,,28,3
openstack%2Fneutron-lib~master~I85a209fe129641e6ba0ef9365026aa2fc69f87a3,openstack/neutron-lib,master,I85a209fe129641e6ba0ef9365026aa2fc69f87a3,Ensure object is a member of Session before calling expire,ABANDONED,2019-02-08 02:48:35.000000000,2019-02-09 23:16:14.000000000,,"[{'_account_id': 4187}, {'_account_id': 5367}, {'_account_id': 9656}, {'_account_id': 11816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 02:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b4286c6be67665040c1c2819a49f448728e41232', 'message': ""Ensure object is a member of Session before calling expire\n\nIn some tempest runs I am seeing:\n\nsqlalchemy.exc.InvalidRequestError: Instance\n'<Network at 0x7fd7fcf417f0>' is not persistent\nwithin this Session\n\nlinked to this stack trace.  I don't know how this\nissue can occur unless the two objects are in different sessions\nor if there is some kind thread-unsafe mutation going on\nin neutron-lib.   The issue is corresponding to another\nchange I am making in I2fef298041c59a03dfd06912764973995b80690c.\n\nChange-Id: I85a209fe129641e6ba0ef9365026aa2fc69f87a3\n""}, {'number': 2, 'created': '2019-02-09 18:04:58.000000000', 'files': ['neutron_lib/db/api.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/1e7db804d9eec12e2f7ff9d2bec125596287d7a2', 'message': 'Ensure object is a member of Session before calling expire\n\nA race condition has been identified where two Network\nobjects can exist in the same session with the same\nidentity.   The origin of this condition is still\nbeing debugged.  However it can lead to a condition in the\n""expire relationship on FKs logic"" where the object does not\nfully validate as persistent in the Session, when the recipe\nitself is invoked within the flush process.  Here we add\nthe additional check so that the expire operation will not proceed\nif the object is not definitely in the Session.\n\nNote that the whole ""expire relationship on FKs"" approach is not\nrecommended as a long term production pattern, as it works in the\nopposite way in which the SQLAlchemy ORM was designed to operate.\n\nThe issue is corresponding to another\nchange I am making in I2fef298041c59a03dfd06912764973995b80690c\nhowever it is not yet clear what the relationship to these two\nareas of code is.\n\nChange-Id: I85a209fe129641e6ba0ef9365026aa2fc69f87a3\n'}]",0,635706,1e7db804d9eec12e2f7ff9d2bec125596287d7a2,9,5,2,11816,,,0,"Ensure object is a member of Session before calling expire

A race condition has been identified where two Network
objects can exist in the same session with the same
identity.   The origin of this condition is still
being debugged.  However it can lead to a condition in the
""expire relationship on FKs logic"" where the object does not
fully validate as persistent in the Session, when the recipe
itself is invoked within the flush process.  Here we add
the additional check so that the expire operation will not proceed
if the object is not definitely in the Session.

Note that the whole ""expire relationship on FKs"" approach is not
recommended as a long term production pattern, as it works in the
opposite way in which the SQLAlchemy ORM was designed to operate.

The issue is corresponding to another
change I am making in I2fef298041c59a03dfd06912764973995b80690c
however it is not yet clear what the relationship to these two
areas of code is.

Change-Id: I85a209fe129641e6ba0ef9365026aa2fc69f87a3
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/06/635706/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/db/api.py'],1,b4286c6be67665040c1c2819a49f448728e41232,harden_expiration," if obj is not None: insp = sqlalchemy.inspect(obj) if insp.persistent and insp.session is sess: sess.expire(obj, [relationship_prop.back_populates]) insp = sqlalchemy.inspect(new) if insp.persistent and insp.session is sess:"," if obj is not None and sqlalchemy.inspect(obj).persistent: sess.expire(obj, [relationship_prop.back_populates]) if sqlalchemy.inspect(new).persistent:",6,3
openstack%2Fmanila~stable%2Frocky~Ic94ce9698e4926c428ecf63e862df5a3a34b1889,openstack/manila,stable/rocky,Ic94ce9698e4926c428ecf63e862df5a3a34b1889,Add tripleo scenario004 job  to experimental queu,ABANDONED,2019-02-09 13:43:58.000000000,2019-02-09 22:39:12.000000000,,"[{'_account_id': 9003}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-02-09 13:43:58.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/c6d1fc716b7433e6aea617ce5131dac53ddf889c', 'message': 'Add tripleo scenario004 job  to experimental queu\n\nNow that we have a all-in-one CI for tripleo called standalone we can\nstart to test that at manila in the experimental pipeline.\n\nChange-Id: Ic94ce9698e4926c428ecf63e862df5a3a34b1889\n(cherry picked from commit fd5da8bef748009f61c4b7611c140f0a65036b68)\n'}]",0,636016,c6d1fc716b7433e6aea617ce5131dac53ddf889c,12,4,1,9003,,,0,"Add tripleo scenario004 job  to experimental queu

Now that we have a all-in-one CI for tripleo called standalone we can
start to test that at manila in the experimental pipeline.

Change-Id: Ic94ce9698e4926c428ecf63e862df5a3a34b1889
(cherry picked from commit fd5da8bef748009f61c4b7611c140f0a65036b68)
",git fetch https://review.opendev.org/openstack/manila refs/changes/16/636016/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c6d1fc716b7433e6aea617ce5131dac53ddf889c,, - tripleo-ci-centos-7-scenario004-standalone,,1,0
openstack%2Ftripleo-quickstart~master~I1a900b94fe5bcf4d93d93b96a530f9dfbae86794,openstack/tripleo-quickstart,master,I1a900b94fe5bcf4d93d93b96a530f9dfbae86794,write out the libvirt node ip addresses,MERGED,2019-01-29 22:49:28.000000000,2019-02-09 21:10:42.000000000,2019-02-09 21:10:42.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-29 22:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0eb62e9a06f82d57cc91bb9dab8090684cd582d2', 'message': 'write out the libvirt node ip addresses\n\nChange-Id: I1a900b94fe5bcf4d93d93b96a530f9dfbae86794\n'}, {'number': 2, 'created': '2019-01-29 22:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/06320a762aa47860e6ff8354f6a0109043aff20d', 'message': 'write out the libvirt node ip addresses\n\nChange-Id: I1a900b94fe5bcf4d93d93b96a530f9dfbae86794\n'}, {'number': 3, 'created': '2019-01-30 20:25:12.000000000', 'files': ['roles/libvirt/setup/overcloud/tasks/libvirt_nodepool.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/221d36229d447c7b92a694e66d72721d20e19fd5', 'message': 'write out the libvirt node ip addresses\n\nwrite out the nodepool ips to the working dir\nas nodepool_ips.  This will help folks log into\ntheir locally running nodes.\n\nChange-Id: I1a900b94fe5bcf4d93d93b96a530f9dfbae86794\n'}]",8,633843,221d36229d447c7b92a694e66d72721d20e19fd5,27,6,3,9592,,,0,"write out the libvirt node ip addresses

write out the nodepool ips to the working dir
as nodepool_ips.  This will help folks log into
their locally running nodes.

Change-Id: I1a900b94fe5bcf4d93d93b96a530f9dfbae86794
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/43/633843/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/libvirt/setup/overcloud/tasks/libvirt_nodepool.yml'],1,0eb62e9a06f82d57cc91bb9dab8090684cd582d2,I1a900b94fe5bcf4d93d93b96a530f9dfbae86794,"- name: dump nodepool node ip's address to disk shell: > echo ""{{ subnode_0_ip }},{{ subnode_1_ip }}"" > ""{{ working_dir }}/subnode_ip_address""; delegate_to: localhost ",,6,0
openstack%2Fkolla~master~I47b29cb637d7d7cf2629e92f469b9c9ef036ec7c,openstack/kolla,master,I47b29cb637d7d7cf2629e92f469b9c9ef036ec7c,Introduce sub_url macro,ABANDONED,2018-11-19 00:11:07.000000000,2019-02-09 21:07:23.000000000,,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23942}]","[{'number': 1, 'created': '2018-11-19 00:11:07.000000000', 'files': ['docker/monasca/monasca-grafana/Dockerfile.j2', 'docker/kubernetes-entrypoint/Dockerfile.j2', 'docker/prometheus/prometheus-blackbox-exporter/Dockerfile.j2', 'docker/storm/Dockerfile.j2', 'docker/prometheus/prometheus-haproxy-exporter/Dockerfile.j2', 'docker/logstash/Dockerfile.j2', 'docker/prometheus/prometheus-node-exporter/Dockerfile.j2', 'docker/zookeeper/Dockerfile.j2', 'kolla/common/config.py', 'docker/prometheus/prometheus-memcached-exporter/Dockerfile.j2', 'docker/openstack-base/Dockerfile.j2', 'docker/prometheus/prometheus-server/Dockerfile.j2', 'docker/skydive/skydive-base/Dockerfile.j2', 'docker/prometheus/prometheus-cadvisor/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'docker/kafka/Dockerfile.j2', 'docker/macros.j2', 'docker/base/distros-rpm.j2', 'docker/kube/kube-base/Dockerfile.j2', 'docker/kolla-toolbox/Dockerfile.j2', 'docker/prometheus/prometheus-mysqld-exporter/Dockerfile.j2', 'releasenotes/notes/add-sub-url-6386713dca112282.yaml', 'docker/crane/Dockerfile.j2', 'docker/helm-repository/Dockerfile.j2', 'docker/prometheus/prometheus-alertmanager/Dockerfile.j2', 'docker/fluentd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/392babe9afecf01512a45d6d21dbebcf74eaab9c', 'message': 'Introduce sub_url macro\n\nThe new macro allows simple URLs substitution. Accessing\ninternet resources might be troublesome in enterprise\nenvironments. URLs can be replaced so resources are\ndownloaded from local cache rather than directly from\ninternet.\n\nChange-Id: I47b29cb637d7d7cf2629e92f469b9c9ef036ec7c\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n'}]",1,618657,392babe9afecf01512a45d6d21dbebcf74eaab9c,7,4,1,23942,,,0,"Introduce sub_url macro

The new macro allows simple URLs substitution. Accessing
internet resources might be troublesome in enterprise
environments. URLs can be replaced so resources are
downloaded from local cache rather than directly from
internet.

Change-Id: I47b29cb637d7d7cf2629e92f469b9c9ef036ec7c
Signed-off-by: Maciej Kucia <maciej@kucia.net>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/57/618657/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/monasca/monasca-grafana/Dockerfile.j2', 'docker/kubernetes-entrypoint/Dockerfile.j2', 'docker/prometheus/prometheus-blackbox-exporter/Dockerfile.j2', 'docker/storm/Dockerfile.j2', 'docker/prometheus/prometheus-haproxy-exporter/Dockerfile.j2', 'docker/logstash/Dockerfile.j2', 'docker/prometheus/prometheus-node-exporter/Dockerfile.j2', 'docker/zookeeper/Dockerfile.j2', 'kolla/common/config.py', 'docker/prometheus/prometheus-memcached-exporter/Dockerfile.j2', 'docker/openstack-base/Dockerfile.j2', 'docker/prometheus/prometheus-server/Dockerfile.j2', 'docker/skydive/skydive-base/Dockerfile.j2', 'docker/prometheus/prometheus-cadvisor/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'docker/kafka/Dockerfile.j2', 'docker/macros.j2', 'docker/base/distros-rpm.j2', 'docker/kube/kube-base/Dockerfile.j2', 'docker/kolla-toolbox/Dockerfile.j2', 'docker/prometheus/prometheus-mysqld-exporter/Dockerfile.j2', 'releasenotes/notes/add-sub-url-6386713dca112282.yaml', 'docker/crane/Dockerfile.j2', 'docker/helm-repository/Dockerfile.j2', 'docker/prometheus/prometheus-alertmanager/Dockerfile.j2', 'docker/fluentd/Dockerfile.j2']",26,392babe9afecf01512a45d6d21dbebcf74eaab9c,,ARG monasca_output_plugin_url={{ macros.sub_url('https://github.com/monasca/fluentd-monasca/archive/$monasca_output_plugin_tag.tar.gz') }},ARG monasca_output_plugin_url=https://github.com/monasca/fluentd-monasca/archive/$monasca_output_plugin_tag.tar.gz,60,27
openstack%2Fkolla~master~I14460637ed0c6db43e8faba5555f3e01c413c526,openstack/kolla,master,I14460637ed0c6db43e8faba5555f3e01c413c526,"base, rpm: Remove dead code and comments",ABANDONED,2018-10-28 21:13:37.000000000,2019-02-09 21:07:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-28 21:13:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/dff1347542a6f448907dcc3173eb698ee94e537b', 'message': 'base, rpm: Remove dead code and comments\n\nChange-Id: I14460637ed0c6db43e8faba5555f3e01c413c526\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n'}, {'number': 2, 'created': '2018-11-18 21:34:33.000000000', 'files': ['docker/base/distros-rpm.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9eefd8d1ba1a9cd19c0a3524d562bf0767b5743c', 'message': 'base, rpm: Remove dead code and comments\n\nChange-Id: I14460637ed0c6db43e8faba5555f3e01c413c526\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n'}]",0,613809,9eefd8d1ba1a9cd19c0a3524d562bf0767b5743c,5,1,2,23942,,,0,"base, rpm: Remove dead code and comments

Change-Id: I14460637ed0c6db43e8faba5555f3e01c413c526
Signed-off-by: Maciej Kucia <maciej@kucia.net>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/09/613809/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/distros-rpm.j2'],1,dff1347542a6f448907dcc3173eb698ee94e537b,," && cat /tmp/kolla_bashrc >> /etc/bashrc{% set base_yum_repo_files = [ ] %} {% set base_yum_url_packages = [ ] %} {% set base_yum_repo_keys = [ ] %} {% if install_metatype in ['rdo', 'mixed'] %}{% endif %} {% if install_metatype == 'rhos' %}{% endif %} {% if base_distro == 'centos' %}{% endif %} {% if base_distro == 'rhel' %}{% endif %} {% if base_distro == 'oraclelinux' %}{% endif %} {% if install_type == 'binary' %}{% endif %} {% if install_type == 'source' %}","# For RPM Variants, enable the correct repositories - this should all be done # in the base image so repos are consistent throughout the system. This also # enables to provide repo overrides at a later date in a simple fashion if we # desire such functionality. I think we will :) && cat /tmp/kolla_bashrc >> /etc/bashrc \ && sed -i 's|^\(override_install_langs=.*\)|# \1|' /etc/yum.conf#### BEGIN REPO ENABLEMENT {% set base_yum_repo_files = [ ] %} {% set base_yum_url_packages = [ ] %} {% set base_yum_repo_keys = [ ] %} {% if install_metatype in ['rdo', 'mixed'] %} {% endif %} {# endif for repo setup for all RHEL except RHEL OSP #} {% if install_metatype == 'rhos' %} {% endif %} {% if base_distro == 'centos' %} {% endif %} {# Endif for base_distro centos #} {% if base_distro == 'rhel' %} {% endif %} {# Endif for base_distro RHEL #} {% if base_distro == 'oraclelinux' %} {% endif %} {# Endif for base_distro oraclelinux #} #### END REPO ENABLEMENT {# We are back to the basic if conditional here which is: if base_distro in ['centos', 'oraclelinux', 'rhel'] #} {% if install_type == 'binary' %}# Install base packages {% endif %} {# Endif for install_type binary #} {% if install_type == 'source' %} # Update packages",24,39
openstack%2Fkolla~master~I8fb85b16f18dc8d29daa8e1a4d3bb4fffa23c5c0,openstack/kolla,master,I8fb85b16f18dc8d29daa8e1a4d3bb4fffa23c5c0,"base: Arrange files by package manager type (deb, rpm)",ABANDONED,2018-10-28 20:48:03.000000000,2019-02-09 21:07:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-28 20:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ca1ae677b44a046946f4d201d7c2874acdd9d3b8', 'message': 'base: Arrange files by package manager type (deb, rpm)\n\nSegregate files for dpkg and yum separately.\n\nChange-Id: I8fb85b16f18dc8d29daa8e1a4d3bb4fffa23c5c0\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n'}, {'number': 2, 'created': '2018-11-18 21:34:33.000000000', 'files': ['docker/base/apt/sources.list.ubuntu.aarch64', 'docker/base/distros-apt.j2', 'doc/source/admin/image-building.rst', 'docker/base/apt/apt_preferences.ubuntu', 'docker/base/yum/percona-release.repo', 'docker/base/apt/apt_preferences.debian', 'docker/base/yum/rabbitmq_rabbitmq-server.repo', 'docker/base/apt/sources.list.debian', 'docker/base/distros-rpm.j2', 'docker/base/yum/td.repo', 'docker/base/yum/elasticsearch.repo', 'docker/base/apt/sources.list.ubuntu.ppc64le', 'docker/base/yum/yum.conf', 'docker/base/yum/nfs_ganesha.repo', 'docker/base/apt/sources.list.ubuntu', 'docker/base/yum/crane.repo', 'docker/base/yum/influxdb.repo', 'docker/base/apt/dpkg_reducing_disk_footprint', 'docker/base/yum/oraclelinux-extras.repo', 'docker/base/yum/grafana.repo', 'docker/base/yum/opendaylight.repo'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0439eb8b71f5253e2ba68e787c20266e1099cc5f', 'message': 'base: Arrange files by package manager type (deb, rpm)\n\nSegregate files for dpkg and yum separately.\n\nChange-Id: I8fb85b16f18dc8d29daa8e1a4d3bb4fffa23c5c0\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n'}]",0,613806,0439eb8b71f5253e2ba68e787c20266e1099cc5f,5,1,2,23942,,,0,"base: Arrange files by package manager type (deb, rpm)

Segregate files for dpkg and yum separately.

Change-Id: I8fb85b16f18dc8d29daa8e1a4d3bb4fffa23c5c0
Signed-off-by: Maciej Kucia <maciej@kucia.net>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/06/613806/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/apt/sources.list.ubuntu.aarch64', 'docker/base/distros-apt.j2', 'doc/source/admin/image-building.rst', 'docker/base/apt/apt_preferences.ubuntu', 'docker/base/apt/apt_preferences.debian', 'docker/base/yum/rabbitmq_rabbitmq-server.repo', 'docker/base/apt/sources.list.debian', 'docker/base/distros-rpm.j2', 'docker/base/yum/td.repo', 'docker/base/yum/elasticsearch.repo', 'docker/base/apt/sources.list.ubuntu.ppc64le', 'docker/base/yum/yum.conf', 'docker/base/yum/nfs_ganesha.repo', 'docker/base/apt/sources.list.ubuntu', 'docker/base/yum/crane.repo', 'docker/base/yum/influxdb.repo', 'docker/base/apt/dpkg_reducing_disk_footprint', 'docker/base/yum/oraclelinux-extras.repo', 'docker/base/yum/grafana.repo', 'docker/base/yum/opendaylight.repo']",20,ca1ae677b44a046946f4d201d7c2874acdd9d3b8,,,,9,9
openstack%2Fkolla~master~I19b7e54019c3432debdc8d986dc6489815c9af79,openstack/kolla,master,I19b7e54019c3432debdc8d986dc6489815c9af79,base: Duplicate Dockerfile to distros-* to preserve history,ABANDONED,2018-10-28 20:48:03.000000000,2019-02-09 21:07:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-28 20:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/48961ba05c5e8eae8b3a70686386481108a62b2b', 'message': 'base: Duplicate Dockerfile to distros-* to preserve history\n\nThis change is to preserve git history in new files\n distros-apt.j2\n distros-rpm.j2\n\nIn the next change those filles will be reduced to appropriate\ncontents. Without this change history of new filess would be\nlimited to commit of creation.\n\nChange-Id: I19b7e54019c3432debdc8d986dc6489815c9af79\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n'}, {'number': 2, 'created': '2018-11-18 21:34:33.000000000', 'files': ['docker/base/distros-apt.j2', 'docker/base/distros-rpm.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/cce32400088d7761008d71da22d021499a0202d3', 'message': 'base: Duplicate Dockerfile to distros-* to preserve history\n\nThis change is to preserve git history in new files\n distros-apt.j2\n distros-rpm.j2\n\nIn the next change those filles will be reduced to appropriate\ncontents. Without this change history of new filess would be\nlimited to commit of creation.\n\nChange-Id: I19b7e54019c3432debdc8d986dc6489815c9af79\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n'}]",0,613804,cce32400088d7761008d71da22d021499a0202d3,5,1,2,23942,,,0,"base: Duplicate Dockerfile to distros-* to preserve history

This change is to preserve git history in new files
 distros-apt.j2
 distros-rpm.j2

In the next change those filles will be reduced to appropriate
contents. Without this change history of new filess would be
limited to commit of creation.

Change-Id: I19b7e54019c3432debdc8d986dc6489815c9af79
Signed-off-by: Maciej Kucia <maciej@kucia.net>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/04/613804/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/distros-apt.j2', 'docker/base/distros-rpm.j2']",2,48961ba05c5e8eae8b3a70686386481108a62b2b,,"FROM {{ base_image }}:{{ base_distro_tag }} LABEL maintainer=""{{ maintainer }}"" name=""{{ image_name }}"" build-date=""{{ build_date }}"" {# NOTE(SamYaple): Avoid uid/gid conflicts by creating each user/group up front. #} {# Specifics required such as homedir or shell are configured within the service specific image #} {%- for name, user in users | dictsort() %} {% if loop.first -%}RUN {% else %} && {% endif -%} groupadd --force --gid {{ user.gid }} {{ name }} \ && useradd -M --shell /usr/sbin/nologin --uid {{ user.uid }} --gid {{ user.gid }} {{ name }} {%- if not loop.last %} \{% endif -%} {%- endfor %} LABEL kolla_version=""{{ kolla_version }}"" {% import ""macros.j2"" as macros with context %} {% block base_header %}{% endblock %} ENV KOLLA_BASE_DISTRO={{ base_distro }} \ KOLLA_INSTALL_TYPE={{ install_type }} \ KOLLA_INSTALL_METATYPE={{ install_metatype }} #### Customize PS1 to be used with bash shell COPY kolla_bashrc /tmp/ RUN cat /tmp/kolla_bashrc >> /etc/skel/.bashrc \ && cat /tmp/kolla_bashrc >> /root/.bashrc # PS1 var when used /bin/sh shell ENV PS1=""$(tput bold)($(printenv KOLLA_SERVICE_NAME))$(tput sgr0)[$(id -un)@$(hostname -s) $(pwd)]$ "" {% if base_distro in ['centos', 'oraclelinux', 'rhel'] %} # For RPM Variants, enable the correct repositories - this should all be done # in the base image so repos are consistent throughout the system. This also # enables to provide repo overrides at a later date in a simple fashion if we # desire such functionality. I think we will :) RUN CURRENT_DISTRO_RELEASE=$(awk '{match($0, /[0-9]+/,version)}END{print version[0]}' /etc/system-release); \ if [ $CURRENT_DISTRO_RELEASE != ""{{ supported_distro_release }}"" ]; then \ echo ""Only release '{{ supported_distro_release }}' is supported on {{ base_distro }}""; false; \ fi \ && cat /tmp/kolla_bashrc >> /etc/bashrc \ && sed -i 's|^\(override_install_langs=.*\)|# \1|' /etc/yum.conf {% block base_yum_conf %} COPY yum.conf /etc/yum.conf {% endblock %} #### BEGIN REPO ENABLEMENT {% set base_yum_repo_files = [ ] %} {% set base_yum_url_packages = [ ] %} {% set base_yum_repo_keys = [ ] %} {% if base_arch == 'x86_64' %} {% set base_yum_repo_files = [ 'crane.repo', 'elasticsearch.repo', 'grafana.repo', 'influxdb.repo', 'nfs_ganesha.repo', 'opendaylight.repo', 'td.repo', 'rabbitmq_rabbitmq-server.repo' ] %} {% set base_yum_repo_keys = [ 'https://artifacts.elastic.co/GPG-KEY-elasticsearch', 'https://repos.influxdata.com/influxdb.key', 'https://packagecloud.io/gpg.key', 'https://grafanarel.s3.amazonaws.com/RPM-GPG-KEY-grafana', 'https://packages.treasuredata.com/GPG-KEY-td-agent' ] %} {% endif %} {%- for repo_file in base_yum_repo_files | customizable('yum_repo_files') %} COPY {{ repo_file }} /etc/yum.repos.d/{{ repo_file }} {%- endfor %} {{ macros.install_packages(base_yum_url_packages | customizable(""yum_url_packages"")) }} {% for key in base_yum_repo_keys | customizable('yum_repo_keys') %} {%- if loop.first %}RUN {% else %} && {% endif -%} rpm --import {{ key }} {%- if not loop.last %} \{% endif %} {% endfor -%} {% if install_metatype in ['rdo', 'mixed'] %} {% for cmd in rpm_setup %} {{ cmd }} {% endfor %} {% endif %} {# endif for repo setup for all RHEL except RHEL OSP #} {% if install_metatype == 'rhos' %} {% block base_rhos_repo_enablement %} # Turn on the RHOS 7.0 repo for RHOS RUN yum-config-manager --enable rhel-7-server-rpms \ && yum-config-manager --enable rhel-7-server-openstack-7.0-rpms {% endblock %} {% endif %} {% if base_distro == 'centos' %} {% block base_centos_gpg_key_import %} RUN rpm --import /etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7 {% endblock %} {% set base_centos_yum_repo_keys = [ '/etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-OpsTools', '/etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-Storage', '/etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-Virtualization' ] %} {% set base_centos_yum_repo_packages = [ 'centos-release-ceph-luminous', 'centos-release-opstools', 'centos-release-qemu-ev', 'epel-release', 'yum-plugin-priorities' ] %} {{ macros.install_packages(base_centos_yum_repo_packages | customizable(""centos_yum_repo_packages"")) }} {% for key in base_centos_yum_repo_keys | customizable('centos_yum_repo_keys') %} {%- if loop.first %}RUN {% else %} && {% endif -%} rpm --import {{ key }} \ {% endfor -%} {%- if base_centos_yum_repo_keys|customizable('centos_yum_repo_keys')|length == 0 %}RUN {% else %} && {% endif -%} yum -y update --security --sec-severity=Important --sec-severity=Critical \ && yum clean all \ && rm -rf /var/cache/yum {% endif %} {# Endif for base_distro centos #} {% if base_distro == 'rhel' %} {% block base_rhel_package_installation %} # Enable couple required repositories for all RHEL builds # Turn on EPEL throughout the build RUN yum-config-manager --enable rhel-7-server-optional-rpms \ && yum -y install \ yum-plugin-priorities \ {% if install_type != 'binary' or install_metatype != 'rdo' %} && yum -y install \ https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm \ && rpm --import /etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7 \ {% endif %} && yum-config-manager --enable rhel-7-server-extras-rpms \ && yum-config-manager --enable rhel-7-server-rhceph-2-osd-rpms \ && yum-config-manager --enable rhel-7-server-rhceph-2-mon-rpms \ && yum-config-manager --enable rhel-7-server-rhceph-2-tools-rpms \ && yum -y update --security --sec-severity=Important --sec-severity=Critical \ && yum clean all \ && rm -rf /var/cache/yum {% endblock %} {% endif %} {# Endif for base_distro RHEL #} {% if base_distro == 'oraclelinux' %} {% block base_oraclelinux_package_installation %} COPY oraclelinux-extras.repo /etc/yum.repos.d/oraclelinux-extras.repo RUN yum -y install \ tar \ yum-utils \ https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm \ && rpm -Uvh --nodeps \ http://mirror.centos.org/centos-7/7/extras/x86_64/Packages/centos-release-ceph-luminous-1.0-1.el7.centos.noarch.rpm \ http://mirror.centos.org/centos-7/7/extras/x86_64/Packages/centos-release-opstools-1-7.el7.centos.noarch.rpm \ http://mirror.centos.org/centos-7/7/extras/x86_64/Packages/centos-release-qemu-ev-1.0-2.el7.noarch.rpm \ http://mirror.centos.org/centos-7/7/extras/x86_64/Packages/centos-release-virt-common-1-1.el7.centos.noarch.rpm \ http://mirror.centos.org/centos-7/7/extras/x86_64/Packages/centos-release-storage-common-1-2.el7.centos.noarch.rpm \ && sed -i 's/\$releasever/7/g' /etc/yum.repos.d/CentOS-*.repo \ && rpm --import /etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7 \ && rpm --import /etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-OpsTools \ && rpm --import /etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-Storage \ && rpm --import /etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-Virtualization \ && yum-config-manager --enable ol7_optional_latest ol7_addons \ && yum -y install \ yum-plugin-priorities \ && yum -y update --security --sec-severity=Important --sec-severity=Critical \ && yum clean all \ && rm -rf /var/cache/yum {% endblock %} {% endif %} {# Endif for base_distro oraclelinux #} #### END REPO ENABLEMENT {# We are back to the basic if conditional here which is: if base_distro in ['centos', 'oraclelinux', 'rhel'] #} {% set base_compiler_packages = [ 'gcc', 'glibc-static' ] %} {% block base_redhat_binary_versionlock %}{% endblock %} {% if install_type == 'binary' %} {% set base_centos_binary_packages = [ 'iproute', 'iscsi-initiator-utils', 'lvm2', 'python', 'scsi-target-utils', 'socat', 'sudo', 'which' ] %} # Install base packages {{ macros.install_packages( base_centos_binary_packages | customizable(""centos_binary_packages"")) }} {% endif %} {# Endif for install_type binary #} {% if install_type == 'source' %} {% set base_centos_source_packages = [ 'curl', 'iproute', 'iscsi-initiator-utils', 'lvm2', 'scsi-target-utils', 'socat', 'sudo', 'tar', 'which' ] %} # Update packages {{ macros.install_packages( base_centos_source_packages | customizable(""centos_source_packages"")) }} {% endif %} {# endif for install type is source for RPM based distros #} {# endif for base_distro centos,oraclelinux,rhel #} {% elif base_distro in ['debian', 'ubuntu'] %} RUN if [ $(awk -F '=' '/DISTRIB_RELEASE/{print $2}' /etc/lsb-release) != ""{{ supported_distro_release }}"" ]; then \ echo ""Only release '{{ supported_distro_release }}' is supported on {{ base_distro }}""; false; fi # Customize PS1 bash shell RUN cat /tmp/kolla_bashrc >> /etc/bash.bashrc # This will prevent questions from being asked during the install ENV DEBIAN_FRONTEND noninteractive # Reducing disk footprint COPY dpkg_reducing_disk_footprint /etc/dpkg/dpkg.cfg.d/dpkg_reducing_disk_footprint {% block base_ubuntu_package_pre %} # Need apt-transport-https and ca-certificates before replacing sources.list or # apt-get update will not work if any repositories are accessed via HTTPS {% set base_ubuntu_package_pre_packages = [ 'apt-transport-https', 'ca-certificates', 'curl', 'dirmngr', 'gnupg' ] %} {{ macros.install_packages(base_ubuntu_package_pre_packages | customizable(""base_ubuntu_package_pre_packages"")) }} {% endblock %} {% block base_ubuntu_package_sources_list %} {% if base_distro == 'debian' or ( base_distro == 'ubuntu' and base_arch == 'x86_64' ) %} COPY sources.list.{{ base_distro }} /etc/apt/sources.list {% else %} COPY sources.list.{{ base_distro }}.{{ base_arch }} /etc/apt/sources.list {% endif %} {% endblock %} {% block base_ubuntu_package_apt_preferences %} COPY apt_preferences.{{ base_distro }} /etc/apt/preferences {% endblock %} {% set base_apt_packages = [ 'apt-utils', 'curl', 'gawk', 'iproute2', 'kmod', 'lvm2', 'netbase', 'open-iscsi', 'python', 'socat', 'sudo', 'tgt'] %} {% if base_distro in ['debian'] %} {% set base_apt_packages = base_apt_packages + [ 'udev/stretch-backports' ] %} {% endif %} {% set base_compiler_packages = [ 'build-essential' ] %} {% if base_distro == 'ubuntu' %} {# 05CE15085FC09D18E99EFB22684A14CF2582E0C5 -- InfluxDB Packaging Service <support@influxdb.com> #} {# 177F4010FE56CA3336300305F1656F24C74CD1D8 -- MariaDB Signing Key <signing-key@mariadb.org> #} {# 391A9AA2147192839E9DB0315EDB1B62EC4926EA -- Canonical Cloud Archive Signing Key <ftpmaster@canonical.com> #} {# 418A7F2FB0E1E6E7EABF6FE8C2E73424D59097AB -- packagecloud ops (production key) <ops@packagecloud.io> #} {# 46095ACC8548582C1A2699A9D27D666CD88E42B4 -- Elasticsearch (Elasticsearch Signing Key) <dev_ops@elasticsearch.org> #} {# 49B07274951063870A8B7EAE7B8AA1A344C05248 -- Opendaylight Signing Key <https://launchpad.net/~odl-team> #} {# 4D1BB29D63D98E422B2113B19334A25F8507EFA5 -- Percona MySQL Development Team (Packaging key) <mysql-dev@percona.com> #} {# 58118E89F3A912897C070ADBF76221572C52609D -- Docker Release Tool (releasedocker) <docker@docker.com> #} {# 4D8EB5FDA37AB55F41A135203BF88A0C6A770882 -- Apache Qpid PPA Signing Key <dev@qpid.apache.org> #} {# 901F9177AB97ACBE -- Treasure Data, Inc (Treasure Agent Official Signing key) <support@treasure-data.com> #} {# A20F259AEB9C94BB -- Sensuapp (Freight) <support@hw-ops.com> #} {% set base_apt_keys = [ '05CE15085FC09D18E99EFB22684A14CF2582E0C5', '177F4010FE56CA3336300305F1656F24C74CD1D8', '391A9AA2147192839E9DB0315EDB1B62EC4926EA', '418A7F2FB0E1E6E7EABF6FE8C2E73424D59097AB', '46095ACC8548582C1A2699A9D27D666CD88E42B4', '49B07274951063870A8B7EAE7B8AA1A344C05248', '4D1BB29D63D98E422B2113B19334A25F8507EFA5', '58118E89F3A912897C070ADBF76221572C52609D', '4D8EB5FDA37AB55F41A135203BF88A0C6A770882', '901F9177AB97ACBE', 'A20F259AEB9C94BB' ] %} {% set remote_apt_keys = [ 'https://packagecloud.io/rabbitmq/rabbitmq-server/gpgkey' ] %} {% elif base_distro == 'debian' %} {% set base_apt_keys = [ '58118E89F3A912897C070ADBF76221572C52609D', '0xcbcb082a1bb943db', 'D27D666CD88E42B4', '05CE15085FC09D18E99EFB22684A14CF2582E0C5', '418A7F2FB0E1E6E7EABF6FE8C2E73424D59097AB', '901F9177AB97ACBE', ] %} {% set remote_apt_keys = [ 'http://obs.linaro.org/ERP:/18.06/Debian_9/Release.key', 'https://download.docker.com/linux/debian/gpg', 'https://packagecloud.io/rabbitmq/rabbitmq-server/gpgkey' ] %} {% set base_apt_packages = base_apt_packages + ['sudo',] %} {% endif %} {% block base_ubuntu_package_installation %} {%- block base_ubuntu_package_key_installation %} {% for key in base_apt_keys | customizable('apt_keys') %} {%- if loop.first %}RUN {% else %} && {% endif %}apt-key adv --recv-keys --keyserver hkp://keyserver.ubuntu.com:80 {{ key }} {%- if not loop.last %} \ {% endif -%} {% endfor %} {% for key in remote_apt_keys | customizable('remote_apt_keys') %} {%- if loop.first %} RUN {% else %} && {% endif %}curl -L {{ key }} | apt-key add - {%- if not loop.last %} \ {% endif -%} {% endfor %} {% endblock %} RUN apt-get update \ && apt-get -y upgrade \ && apt-get -y dist-upgrade \ && apt-get -y install --no-install-recommends \ {%- for package in base_apt_packages | customizable('apt_packages') %} {{ package }} \ {%- endfor %} && apt-get clean \ && rm -rf /var/lib/apt/lists/* {% endblock %} {% if base_distro == 'ubuntu' %} RUN sed -i \ -e ""s|\('purelib': '\$base/\)local/\(lib/python\$py_version_short/dist-packages',\)|\1\2|"" \ -e ""s|\('platlib': '\$platbase/\)local/\(lib/python\$py_version_short/dist-packages',\)|\1\2|"" \ -e ""s|\('headers': '\$base/\)local/\(include/python\$py_version_short/\$dist_name',\)|\1\2|"" \ -e ""s|\('scripts': '\$base/\)local/\(bin',\)|\1\2|"" \ -e ""s|\('data' : '\$base\)/local\(',\)|\1\2|"" \ /usr/lib/python2.7/distutils/command/install.py \ && rm -rf /usr/lib/python2.7/site-packages \ && ln -s dist-packages /usr/lib/python2.7/site-packages {% endif %} {# endif for base_distro debian, ubuntu #} {% endif %} COPY set_configs.py /usr/local/bin/kolla_set_configs COPY start.sh /usr/local/bin/kolla_start COPY sudoers /etc/sudoers COPY curlrc /root/.curlrc {% block dumb_init_installation %} {% if base_arch == 'x86_64' %} RUN curl -sSL https://github.com/Yelp/dumb-init/releases/download/v1.1.3/dumb-init_1.1.3_amd64 -o /usr/local/bin/dumb-init \ && chmod +x /usr/local/bin/dumb-init \ && sed -i 's|#!|#!/usr/local/bin/dumb-init |' /usr/local/bin/kolla_start {% else %} {{ macros.install_packages(base_compiler_packages) }} RUN curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py \ && python get-pip.py \ && rm get-pip.py \ && pip --no-cache-dir install --prefix='/usr/local' dumb-init==1.1.3 \ && chmod +x /usr/local/bin/dumb-init \ && sed -i 's|#!|#!/usr/local/bin/dumb-init |' /usr/local/bin/kolla_start {% endif %} {% endblock %} RUN touch /usr/local/bin/kolla_extend_start \ && chmod 755 /usr/local/bin/kolla_start /usr/local/bin/kolla_extend_start /usr/local/bin/kolla_set_configs \ && chmod 440 /etc/sudoers \ && mkdir -p /var/log/kolla \ && chown :kolla /var/log/kolla \ && chmod 2775 /var/log/kolla \ && rm -f /tmp/kolla_bashrc {% block base_footer %}{% endblock %} CMD [""kolla_start""] ",,856,0
openstack%2Fkolla~master~I04629c4ae29ccfa19f5d64598183485d1e21e7a7,openstack/kolla,master,I04629c4ae29ccfa19f5d64598183485d1e21e7a7,base: Extract templates for different distros into sepearate files,ABANDONED,2018-10-28 20:48:03.000000000,2019-02-09 21:07:01.000000000,,"[{'_account_id': 22348}, {'_account_id': 23942}]","[{'number': 1, 'created': '2018-10-28 20:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/09d73413d80e0568f813c23f9d5aa33302e0c26e', 'message': 'base: Extract templates for different distros into sepearate files\n\nDockerfile for base image had became quite complex.\nSplit part related to repositories preparation into\n2 new files: one for rpm based distros, the other for\ndpkg based ones.\n\nChange-Id: I04629c4ae29ccfa19f5d64598183485d1e21e7a7\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n'}, {'number': 2, 'created': '2018-11-18 21:34:33.000000000', 'files': ['docker/base/distros-apt.j2', 'docker/base/Dockerfile.j2', 'docker/base/distros-rpm.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a2ac5b56bbab39604639930c7a39281005d88ea8', 'message': 'base: Extract templates for different distros into sepearate files\n\nDockerfile for base image had became quite complex.\nSplit part related to repositories preparation into\n2 new files: one for rpm based distros, the other for\ndpkg based ones.\n\nChange-Id: I04629c4ae29ccfa19f5d64598183485d1e21e7a7\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n'}]",2,613805,a2ac5b56bbab39604639930c7a39281005d88ea8,7,2,2,23942,,,0,"base: Extract templates for different distros into sepearate files

Dockerfile for base image had became quite complex.
Split part related to repositories preparation into
2 new files: one for rpm based distros, the other for
dpkg based ones.

Change-Id: I04629c4ae29ccfa19f5d64598183485d1e21e7a7
Signed-off-by: Maciej Kucia <maciej@kucia.net>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/05/613805/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/distros-apt.j2', 'docker/base/Dockerfile.j2', 'docker/base/distros-rpm.j2']",3,09d73413d80e0568f813c23f9d5aa33302e0c26e,,,"FROM {{ base_image }}:{{ base_distro_tag }} LABEL maintainer=""{{ maintainer }}"" name=""{{ image_name }}"" build-date=""{{ build_date }}"" {# NOTE(SamYaple): Avoid uid/gid conflicts by creating each user/group up front. #} {# Specifics required such as homedir or shell are configured within the service specific image #} {%- for name, user in users | dictsort() %} {% if loop.first -%}RUN {% else %} && {% endif -%} groupadd --force --gid {{ user.gid }} {{ name }} \ && useradd -M --shell /usr/sbin/nologin --uid {{ user.uid }} --gid {{ user.gid }} {{ name }} {%- if not loop.last %} \{% endif -%} {%- endfor %} LABEL kolla_version=""{{ kolla_version }}"" {% import ""macros.j2"" as macros with context %} {% block base_header %}{% endblock %} ENV KOLLA_BASE_DISTRO={{ base_distro }} \ KOLLA_INSTALL_TYPE={{ install_type }} \ KOLLA_INSTALL_METATYPE={{ install_metatype }} #### Customize PS1 to be used with bash shell COPY kolla_bashrc /tmp/ RUN cat /tmp/kolla_bashrc >> /etc/skel/.bashrc \ && cat /tmp/kolla_bashrc >> /root/.bashrc # PS1 var when used /bin/sh shell ENV PS1=""$(tput bold)($(printenv KOLLA_SERVICE_NAME))$(tput sgr0)[$(id -un)@$(hostname -s) $(pwd)]$ "" {% if base_distro in ['centos', 'oraclelinux', 'rhel'] %} {% endif %} {# endif for install type is source for RPM based distros #} {# endif for base_distro centos,oraclelinux,rhel #} {% elif base_distro in ['debian', 'ubuntu'] %} RUN if [ $(awk -F '=' '/DISTRIB_RELEASE/{print $2}' /etc/lsb-release) != ""{{ supported_distro_release }}"" ]; then \ echo ""Only release '{{ supported_distro_release }}' is supported on {{ base_distro }}""; false; fi # Customize PS1 bash shell RUN cat /tmp/kolla_bashrc >> /etc/bash.bashrc # This will prevent questions from being asked during the install ENV DEBIAN_FRONTEND noninteractive # Reducing disk footprint COPY dpkg_reducing_disk_footprint /etc/dpkg/dpkg.cfg.d/dpkg_reducing_disk_footprint {% block base_ubuntu_package_pre %} # Need apt-transport-https and ca-certificates before replacing sources.list or # apt-get update will not work if any repositories are accessed via HTTPS {% set base_ubuntu_package_pre_packages = [ 'apt-transport-https', 'ca-certificates', 'curl', 'dirmngr', 'gnupg' ] %} {{ macros.install_packages(base_ubuntu_package_pre_packages | customizable(""base_ubuntu_package_pre_packages"")) }} {% endblock %} {% block base_ubuntu_package_sources_list %} {% if base_distro == 'debian' or ( base_distro == 'ubuntu' and base_arch == 'x86_64' ) %} COPY sources.list.{{ base_distro }} /etc/apt/sources.list {% else %} COPY sources.list.{{ base_distro }}.{{ base_arch }} /etc/apt/sources.list{% endblock %} {% block base_ubuntu_package_apt_preferences %} COPY apt_preferences.{{ base_distro }} /etc/apt/preferences {% endblock %} {% set base_apt_packages = [ 'apt-utils', 'curl', 'gawk', 'iproute2', 'kmod', 'lvm2', 'netbase', 'open-iscsi', 'python', 'socat', 'sudo', 'tgt'] %} {% if base_distro in ['debian'] %} {% set base_apt_packages = base_apt_packages + [ 'udev/stretch-backports' ] %} {% endif %} {% set base_compiler_packages = [ 'build-essential' ] %} {% if base_distro == 'ubuntu' %} {# 05CE15085FC09D18E99EFB22684A14CF2582E0C5 -- InfluxDB Packaging Service <support@influxdb.com> #} {# 177F4010FE56CA3336300305F1656F24C74CD1D8 -- MariaDB Signing Key <signing-key@mariadb.org> #} {# 391A9AA2147192839E9DB0315EDB1B62EC4926EA -- Canonical Cloud Archive Signing Key <ftpmaster@canonical.com> #} {# 418A7F2FB0E1E6E7EABF6FE8C2E73424D59097AB -- packagecloud ops (production key) <ops@packagecloud.io> #} {# 46095ACC8548582C1A2699A9D27D666CD88E42B4 -- Elasticsearch (Elasticsearch Signing Key) <dev_ops@elasticsearch.org> #} {# 49B07274951063870A8B7EAE7B8AA1A344C05248 -- Opendaylight Signing Key <https://launchpad.net/~odl-team> #} {# 4D1BB29D63D98E422B2113B19334A25F8507EFA5 -- Percona MySQL Development Team (Packaging key) <mysql-dev@percona.com> #} {# 58118E89F3A912897C070ADBF76221572C52609D -- Docker Release Tool (releasedocker) <docker@docker.com> #} {# 4D8EB5FDA37AB55F41A135203BF88A0C6A770882 -- Apache Qpid PPA Signing Key <dev@qpid.apache.org> #} {# 901F9177AB97ACBE -- Treasure Data, Inc (Treasure Agent Official Signing key) <support@treasure-data.com> #} {# A20F259AEB9C94BB -- Sensuapp (Freight) <support@hw-ops.com> #} {% set base_apt_keys = [ '05CE15085FC09D18E99EFB22684A14CF2582E0C5', '177F4010FE56CA3336300305F1656F24C74CD1D8', '391A9AA2147192839E9DB0315EDB1B62EC4926EA', '418A7F2FB0E1E6E7EABF6FE8C2E73424D59097AB', '46095ACC8548582C1A2699A9D27D666CD88E42B4', '49B07274951063870A8B7EAE7B8AA1A344C05248', '4D1BB29D63D98E422B2113B19334A25F8507EFA5', '58118E89F3A912897C070ADBF76221572C52609D', '4D8EB5FDA37AB55F41A135203BF88A0C6A770882', '901F9177AB97ACBE', 'A20F259AEB9C94BB' ] %} {% set remote_apt_keys = [ 'https://packagecloud.io/rabbitmq/rabbitmq-server/gpgkey' ] %} {% elif base_distro == 'debian' %} {% set base_apt_keys = [ '58118E89F3A912897C070ADBF76221572C52609D', '0xcbcb082a1bb943db', 'D27D666CD88E42B4', '05CE15085FC09D18E99EFB22684A14CF2582E0C5', '418A7F2FB0E1E6E7EABF6FE8C2E73424D59097AB', '901F9177AB97ACBE', ] %} {% set remote_apt_keys = [ 'http://obs.linaro.org/ERP:/18.06/Debian_9/Release.key', 'https://download.docker.com/linux/debian/gpg', 'https://packagecloud.io/rabbitmq/rabbitmq-server/gpgkey' ] %} {% set base_apt_packages = base_apt_packages + ['sudo',] %} {% endif %} {% block base_ubuntu_package_installation %} {%- block base_ubuntu_package_key_installation %} {% for key in base_apt_keys | customizable('apt_keys') %} {%- if loop.first %}RUN {% else %} && {% endif %}apt-key adv --recv-keys --keyserver hkp://keyserver.ubuntu.com:80 {{ key }} {%- if not loop.last %} \ {% endif -%} {% endfor %} {% for key in remote_apt_keys | customizable('remote_apt_keys') %} {%- if loop.first %} RUN {% else %} && {% endif %}curl -L {{ key }} | apt-key add - {%- if not loop.last %} \ {% endif -%} {% endfor %} {% endblock %} RUN apt-get update \ && apt-get -y upgrade \ && apt-get -y dist-upgrade \ && apt-get -y install --no-install-recommends \ {%- for package in base_apt_packages | customizable('apt_packages') %} {{ package }} \ {%- endfor %} && apt-get clean \ && rm -rf /var/lib/apt/lists/* {% endblock %} {% if base_distro == 'ubuntu' %} RUN sed -i \ -e ""s|\('purelib': '\$base/\)local/\(lib/python\$py_version_short/dist-packages',\)|\1\2|"" \ -e ""s|\('platlib': '\$platbase/\)local/\(lib/python\$py_version_short/dist-packages',\)|\1\2|"" \ -e ""s|\('headers': '\$base/\)local/\(include/python\$py_version_short/\$dist_name',\)|\1\2|"" \ -e ""s|\('scripts': '\$base/\)local/\(bin',\)|\1\2|"" \ -e ""s|\('data' : '\$base\)/local\(',\)|\1\2|"" \ /usr/lib/python2.7/distutils/command/install.py \ && rm -rf /usr/lib/python2.7/site-packages \ && ln -s dist-packages /usr/lib/python2.7/site-packages {% endif %} {# endif for base_distro debian, ubuntu #} {% endif %} COPY set_configs.py /usr/local/bin/kolla_set_configs COPY start.sh /usr/local/bin/kolla_start COPY sudoers /etc/sudoers COPY curlrc /root/.curlrc {% block dumb_init_installation %} {% if base_arch == 'x86_64' %} RUN curl -sSL https://github.com/Yelp/dumb-init/releases/download/v1.1.3/dumb-init_1.1.3_amd64 -o /usr/local/bin/dumb-init \ && chmod +x /usr/local/bin/dumb-init \ && sed -i 's|#!|#!/usr/local/bin/dumb-init |' /usr/local/bin/kolla_start {% else %} {{ macros.install_packages(base_compiler_packages) }} RUN curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py \ && python get-pip.py \ && rm get-pip.py \ && pip --no-cache-dir install --prefix='/usr/local' dumb-init==1.1.3 \ && chmod +x /usr/local/bin/dumb-init \ && sed -i 's|#!|#!/usr/local/bin/dumb-init |' /usr/local/bin/kolla_start {% endif %} {% endblock %} RUN touch /usr/local/bin/kolla_extend_start \ && chmod 755 /usr/local/bin/kolla_start /usr/local/bin/kolla_extend_start /usr/local/bin/kolla_set_configs \ && chmod 440 /etc/sudoers \ && mkdir -p /var/log/kolla \ && chown :kolla /var/log/kolla \ && chmod 2775 /var/log/kolla \ && rm -f /tmp/kolla_bashrc {% block base_footer %}{% endblock %} CMD [""kolla_start""]",2,861
openstack%2Fopenstack-ansible-nspawn_container_create~master~I7e406d6c7bd562e38620510dcbcd84c4dcb5d831,openstack/openstack-ansible-nspawn_container_create,master,I7e406d6c7bd562e38620510dcbcd84c4dcb5d831,Change openstack-dev to openstack-discuss,MERGED,2018-12-04 03:53:55.000000000,2019-02-09 19:09:19.000000000,2019-02-09 19:09:19.000000000,"[{'_account_id': 7353}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-12-04 03:53:55.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/5d44e3a4f8a80ea95506c21b2b879de18045d1b9', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: I7e406d6c7bd562e38620510dcbcd84c4dcb5d831\n'}]",0,621961,5d44e3a4f8a80ea95506c21b2b879de18045d1b9,8,4,1,28935,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: I7e406d6c7bd562e38620510dcbcd84c4dcb5d831
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_container_create refs/changes/61/621961/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5d44e3a4f8a80ea95506c21b2b879de18045d1b9,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fopenstack-ansible-nspawn_container_create~master~I48c9f2496d242bc5c07704ae933e7db0dc5335bb,openstack/openstack-ansible-nspawn_container_create,master,I48c9f2496d242bc5c07704ae933e7db0dc5335bb,Change openstack-dev to openstack-discuss in setup.cfg,ABANDONED,2019-01-22 11:40:26.000000000,2019-02-09 18:49:38.000000000,,"[{'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-01-22 11:40:26.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/b6b41ea5b124142fc89cafbcde744560c49ba0be', 'message': 'Change openstack-dev to openstack-discuss in setup.cfg\n\nChange-Id: I48c9f2496d242bc5c07704ae933e7db0dc5335bb\n'}]",0,632429,b6b41ea5b124142fc89cafbcde744560c49ba0be,5,3,1,29423,,,0,"Change openstack-dev to openstack-discuss in setup.cfg

Change-Id: I48c9f2496d242bc5c07704ae933e7db0dc5335bb
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_container_create refs/changes/29/632429/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,b6b41ea5b124142fc89cafbcde744560c49ba0be,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Ftripleo-quickstart-extras~master~I5d4480ed3cd0189435f9c17eefd6ef789fa3ac1b,openstack/tripleo-quickstart-extras,master,I5d4480ed3cd0189435f9c17eefd6ef789fa3ac1b,add some formatting to the repro doc,MERGED,2019-02-07 18:12:46.000000000,2019-02-09 17:47:43.000000000,2019-02-09 17:47:43.000000000,"[{'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-07 18:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5c716d84d11927b3575e8b3ac811258a79f1dc7a', 'message': 'add some formatting to the repro doc\n\nChange-Id: I5d4480ed3cd0189435f9c17eefd6ef789fa3ac1b\n'}, {'number': 2, 'created': '2019-02-08 23:02:38.000000000', 'files': ['roles/create-zuul-based-reproducer/templates/README-reproducer-zuul-based-quickstart.html.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/de3faa4c8b89542769b7d54be4346b7a55fb306b', 'message': 'add some formatting to the repro doc\n\nChange-Id: I5d4480ed3cd0189435f9c17eefd6ef789fa3ac1b\n'}]",0,635591,de3faa4c8b89542769b7d54be4346b7a55fb306b,13,5,2,9592,,,0,"add some formatting to the repro doc

Change-Id: I5d4480ed3cd0189435f9c17eefd6ef789fa3ac1b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/91/635591/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/create-zuul-based-reproducer/templates/README-reproducer-zuul-based-quickstart.html.j2'],1,5c716d84d11927b3575e8b3ac811258a79f1dc7a,generate-zuul-based-reproducer,"<meta name=""viewport"" content=""width=device-width, initial-scale=1""> <style> .collapsible { background-color: #777; color: white; cursor: pointer; padding: 18px; width: 100%; border: none; text-align: left; outline: none; font-size: 15px; } .active, .collapsible:hover { background-color: #555; } .content { padding: 0 18px; max-height: 0; overflow: hidden; transition: max-height 0.2s ease-out; background-color: #f1f1f1; } </style> </head><button class=""collapsible"">Setting up to run the Zuul-based reproducer</button> <div class=""content""></div> <button class=""collapsible"">Running the Zuul-based reproducer - using the Bash script</button> <div class=""content""></div> <button class=""collapsible"">Running the Zuul-based reproducer - using the playbooks directly</button> <div class=""content""></div> <button class=""collapsible"">Ansible tags and running repeatedly</button> <div class=""content""></div> <button class=""collapsible"">Monitoring the launched job</button> <div class=""content""></div> <button class=""collapsible"">Known Issues and FAQ</button> <div class=""content""></div> <script> var coll = document.getElementsByClassName(""collapsible""); var i; for (i = 0; i < coll.length; i++) { coll[i].addEventListener(""click"", function() { this.classList.toggle(""active""); var content = this.nextElementSibling; if (content.style.maxHeight){ content.style.maxHeight = null; } else { content.style.maxHeight = content.scrollHeight + ""px""; } }); } </script>",<h1>Setting up to run the Zuul-based reproducer</h1> <h1>Running the Zuul-based reproducer - using the Bash script</h1> <h1>Running the Zuul-based reproducer - using the playbooks directly</h1> <h1>Ansible tags and running repeatedly</h1> <h1>Monitoring the launched job</h1> <h1>User notes</h1>,62,6
openstack%2Fironic~master~I8a6811485baa1219781b7083479af2d8811e4c67,openstack/ironic,master,I8a6811485baa1219781b7083479af2d8811e4c67,Make power sync unit test operational,MERGED,2019-02-08 16:19:36.000000000,2019-02-09 17:18:38.000000000,2019-02-09 17:18:37.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 16:19:36.000000000', 'files': ['ironic/tests/unit/conductor/test_manager.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2dfb0650d052b663c985e25b345a5047ed2cbcda', 'message': 'Make power sync unit test operational\n\nThe ParallelPowerSyncTestCase did not inherit from unit test\ntherefore never actually run. This patch fixes this problem.\n\nChange-Id: I8a6811485baa1219781b7083479af2d8811e4c67\n'}]",0,635878,2dfb0650d052b663c985e25b345a5047ed2cbcda,9,5,1,26340,,,0,"Make power sync unit test operational

The ParallelPowerSyncTestCase did not inherit from unit test
therefore never actually run. This patch fixes this problem.

Change-Id: I8a6811485baa1219781b7083479af2d8811e4c67
",git fetch https://review.opendev.org/openstack/ironic refs/changes/78/635878/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/conductor/test_manager.py'],1,2dfb0650d052b663c985e25b345a5047ed2cbcda,fix-power-sync-tests,"class ParallelPowerSyncTestCase(mgr_utils.CommonMixIn, db_base.DbTestCase): self.assertEqual(1, sync_mock.call_count)","class ParallelPowerSyncTestCase(mgr_utils.CommonMixIn): self.assertEqual(9, sync_mock.call_count)",2,2
openstack%2Fopenstack-helm-infra~master~If525389191b82dc7fb10cd2941bbe48fb0bbdb3c,openstack/openstack-helm-infra,master,If525389191b82dc7fb10cd2941bbe48fb0bbdb3c,Libvirt: Move ceph config to remain on host,MERGED,2019-02-08 22:06:31.000000000,2019-02-09 17:11:26.000000000,2019-02-09 17:11:26.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 26686}]","[{'number': 1, 'created': '2019-02-08 22:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/874f2fc24d764668066a47819c394bc28d510c1f', 'message': 'Libvirt: Move ceph config to remain on host\n\nChange-Id: If525389191b82dc7fb10cd2941bbe48fb0bbdb3c\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-02-08 22:21:00.000000000', 'files': ['libvirt/templates/daemonset-libvirt.yaml', 'libvirt/templates/bin/_ceph-keyring.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d3c3c35365016854575fadb085a67752ac9d13ee', 'message': 'Libvirt: Move ceph config to remain on host\n\nChange-Id: If525389191b82dc7fb10cd2941bbe48fb0bbdb3c\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,635966,d3c3c35365016854575fadb085a67752ac9d13ee,11,5,2,23928,,,0,"Libvirt: Move ceph config to remain on host

Change-Id: If525389191b82dc7fb10cd2941bbe48fb0bbdb3c
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/66/635966/2 && git format-patch -1 --stdout FETCH_HEAD,"['libvirt/templates/daemonset-libvirt.yaml', 'libvirt/templates/bin/_ceph-keyring.sh.tpl']",2,874f2fc24d764668066a47819c394bc28d510c1f,kubelet-mount-ns-issue,cp -fv /etc/ceph/ceph.conf.template /etc/ceph/ceph.conf ,,11,6
openstack%2Fopenstack-helm~master~I786f9fec553eb8b65faa5b8b022d6c971f7dfba1,openstack/openstack-helm,master,I786f9fec553eb8b65faa5b8b022d6c971f7dfba1,Nova: Move ceph config to remain on host,MERGED,2019-02-08 22:03:26.000000000,2019-02-09 17:03:55.000000000,2019-02-09 17:03:54.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 26686}]","[{'number': 1, 'created': '2019-02-08 22:03:26.000000000', 'files': ['nova/templates/bin/_ceph-keyring.sh.tpl', 'nova/templates/daemonset-compute.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/65df9acaf8a34cb213104ec9396d15b6be8f3ddb', 'message': 'Nova: Move ceph config to remain on host\n\nChange-Id: I786f9fec553eb8b65faa5b8b022d6c971f7dfba1\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,635964,65df9acaf8a34cb213104ec9396d15b6be8f3ddb,8,4,1,23928,,,0,"Nova: Move ceph config to remain on host

Change-Id: I786f9fec553eb8b65faa5b8b022d6c971f7dfba1
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/64/635964/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/templates/bin/_ceph-keyring.sh.tpl', 'nova/templates/daemonset-compute.yaml']",2,65df9acaf8a34cb213104ec9396d15b6be8f3ddb,kubelet-mount-ns-issue," - name: ceph-perms {{ tuple $envAll ""nova_compute"" | include ""helm-toolkit.snippets.image"" | indent 10 }} securityContext: runAsUser: 0 command: - chown - -R - ""nova:"" - /etc/ceph volumeMounts: - name: etcceph mountPath: /etc/ceph mountPath: /etc/ceph/ceph.conf.template {{- if or ( gt .Capabilities.KubeVersion.Major ""1"" ) ( ge .Capabilities.KubeVersion.Minor ""10"" ) }} mountPropagation: Bidirectional {{- end }} hostPath: path: /var/lib/openstack-helm/compute/nova", mountPath: /etc/ceph/ceph.conf - name: ceph-etc mountPath: /etc/ceph/ceph.conf subPath: ceph.conf readOnly: true emptyDir: {},20,6
openstack%2Fneutron~master~I2e38457942518c8a3e07e606091bb6720317b77e,openstack/neutron,master,I2e38457942518c8a3e07e606091bb6720317b77e,Fix update of ports cache in router_info class,MERGED,2019-01-28 23:07:17.000000000,2019-02-09 15:18:57.000000000,2019-02-09 14:46:56.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 7233}, {'_account_id': 9732}, {'_account_id': 10980}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-01-28 23:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/102347f74005adbc702d650f6d19a97424a09fc5', 'message': 'Fix update of ports cache in router_info class\n\nRouterInfo class has got internal_ports cache which is updated\nin _process_internal_ports() method.\nThere was an issue in this updates logic because it was\niterating through enumerate local variable ""internal_ports""\nwhich represents current router ports and if such current port\nwas found in updated_ports list it was storred in\nRouterInfo().internal_ports variable under same index as was\nfound in ""internal_ports"" local variable.\nThis sometimes leads to an issue because same port can be\nstored under different index in internal_ports and\nRouterInfo().internal_ports lists thus wrong port in\nRouterInfo().internal_ports was overwritten.\n\nSuch issue leads to problem with generating radvd config file\nbecause in ports cache list there was duplicate info about same port\nso radvd config file contained duplicate interface definitions too.\n\nChange-Id: I2e38457942518c8a3e07e606091bb6720317b77e\nCloses-Bug: #1813279\n'}, {'number': 2, 'created': '2019-01-29 10:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c6e06a7883f368bca8ef0ab84652df551726e9e8', 'message': 'Fix update of ports cache in router_info class\n\nRouterInfo class has got internal_ports cache which is updated\nin _process_internal_ports() method.\nThere was an issue in this updates logic because it was\niterating through enumerate local variable ""internal_ports""\nwhich represents current router ports and if such current port\nwas found in updated_ports list it was storred in\nRouterInfo().internal_ports variable under same index as was\nfound in ""internal_ports"" local variable.\nThis sometimes leads to an issue because same port can be\nstored under different index in internal_ports and\nRouterInfo().internal_ports lists thus wrong port in\nRouterInfo().internal_ports was overwritten.\n\nSuch issue leads to problem with generating radvd config file\nbecause in ports cache list there was duplicate info about same port\nso radvd config file contained duplicate interface definitions too.\n\nChange-Id: I2e38457942518c8a3e07e606091bb6720317b77e\nCloses-Bug: #1813279\n'}, {'number': 3, 'created': '2019-01-29 20:53:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1e7451258b2a987ea38523d3c95364c512044aa4', 'message': 'Fix update of ports cache in router_info class\n\nRouterInfo class has got internal_ports cache which is updated\nin _process_internal_ports() method.\nThere was an issue in this updates logic because it was\niterating through enumerate local variable ""internal_ports""\nwhich represents current router ports and if such current port\nwas found in updated_ports list it was storred in\nRouterInfo().internal_ports variable under same index as was\nfound in ""internal_ports"" local variable.\nThis sometimes leads to an issue because same port can be\nstored under different index in internal_ports and\nRouterInfo().internal_ports lists thus wrong port in\nRouterInfo().internal_ports was overwritten.\n\nSuch issue leads to problem with generating radvd config file\nbecause in ports cache list there was duplicate info about same port\nso radvd config file contained duplicate interface definitions too.\n\nChange-Id: I2e38457942518c8a3e07e606091bb6720317b77e\nCloses-Bug: #1813279\n'}, {'number': 4, 'created': '2019-01-30 13:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1e1b7282bc9d5b8de20e2942b085b525544ec8a4', 'message': 'Fix update of ports cache in router_info class\n\nRouterInfo class has got internal_ports cache which is updated\nin _process_internal_ports() method.\nThere was an issue in this updates logic because it was\niterating through enumerate local variable ""internal_ports""\nwhich represents current router ports and if such current port\nwas found in updated_ports list it was storred in\nRouterInfo().internal_ports variable under same index as was\nfound in ""internal_ports"" local variable.\nThis sometimes leads to an issue because same port can be\nstored under different index in internal_ports and\nRouterInfo().internal_ports lists thus wrong port in\nRouterInfo().internal_ports was overwritten.\n\nSuch issue leads to problem with generating radvd config file\nbecause in ports cache list there was duplicate info about same port\nso radvd config file contained duplicate interface definitions too.\n\nChange-Id: I2e38457942518c8a3e07e606091bb6720317b77e\nCloses-Bug: #1813279\n'}, {'number': 5, 'created': '2019-02-03 21:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/216933b97e54dc90e94baf729cf600e1f6d5fba4', 'message': 'Fix update of ports cache in router_info class\n\nRouterInfo class has got internal_ports cache which is updated\nin _process_internal_ports() method.\nThere was an issue in this updates logic because it was\niterating through enumerate local variable ""internal_ports""\nwhich represents current router ports and if such current port\nwas found in updated_ports list it was storred in\nRouterInfo().internal_ports variable under same index as was\nfound in ""internal_ports"" local variable.\nThis sometimes leads to an issue because same port can be\nstored under different index in internal_ports and\nRouterInfo().internal_ports lists thus wrong port in\nRouterInfo().internal_ports was overwritten.\n\nSuch issue leads to problem with generating radvd config file\nbecause in ports cache list there was duplicate info about same port\nso radvd config file contained duplicate interface definitions too.\n\nThis should be properly fixed by changing RouterInfo.internal_ports\nto be a dict instead of list of ports but such patch would be much\nbigger and (possibly) harded to backport to stable branches.\n\nChange-Id: I2e38457942518c8a3e07e606091bb6720317b77e\nCloses-Bug: #1813279\n'}, {'number': 6, 'created': '2019-02-05 15:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c5bcd2550d9d53793c825e966cab2a44452f7226', 'message': 'Fix ports cache in router_info class\n\nRouterInfo class has got internal_ports cache which was stored as\nlist.\nThat caused issues with updating cache in in _process_internal_ports()\nmethod sometimes because of mismatch of indexes in ports cache and\nupdated_ports list.\nThere was an issue in this updates logic because it was\niterating through enumerate local variable ""internal_ports""\nwhich represents current router ports and if such current port\nwas found in updated_ports list it was storred in\nRouterInfo().internal_ports variable under same index as was\nfound in ""internal_ports"" local variable.\nThis sometimes leads to an issue because same port can be\nstored under different index in internal_ports and\nRouterInfo().internal_ports lists thus wrong port in\nRouterInfo().internal_ports was overwritten.\n\nSuch issue leads to problem with generating radvd config file\nbecause in ports cache list there was duplicate info about same port\nso radvd config file contained duplicate interface definitions too.\n\nNow RouterInfo.internal_ports is a dict with port id as key\nso updating of this cache is easier and will not cause such problems\nanymore.\n\nChange-Id: I2e38457942518c8a3e07e606091bb6720317b77e\nCloses-Bug: #1813279\n'}, {'number': 7, 'created': '2019-02-07 14:50:25.000000000', 'files': ['neutron/tests/unit/agent/l3/test_router_info.py', 'neutron/agent/l3/router_info.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/21cddc47b446fdfb5535b347c1d7825a04e02c62', 'message': 'Fix update of ports cache in router_info class\n\nRouterInfo class has got internal_ports cache which is updated\nin _process_internal_ports() method.\nThere was an issue in this updates logic because it was\niterating through enumerate local variable ""internal_ports""\nwhich represents current router ports and if such current port\nwas found in updated_ports list it was storred in\nRouterInfo().internal_ports variable under same index as was\nfound in ""internal_ports"" local variable.\nThis sometimes leads to an issue because same port can be\nstored under different index in internal_ports and\nRouterInfo().internal_ports lists thus wrong port in\nRouterInfo().internal_ports was overwritten.\n\nSuch issue leads to problem with generating radvd config file\nbecause in ports cache list there was duplicate info about same port\nso radvd config file contained duplicate interface definitions too.\n\nThis should be properly fixed by changing RouterInfo.internal_ports\nto be a dict instead of list of ports but such patch would be much\nbigger and (possibly) harded to backport to stable branches.\n\nChange-Id: I2e38457942518c8a3e07e606091bb6720317b77e\nCloses-Bug: #1813279\n'}]",10,633618,21cddc47b446fdfb5535b347c1d7825a04e02c62,70,12,7,11975,,,0,"Fix update of ports cache in router_info class

RouterInfo class has got internal_ports cache which is updated
in _process_internal_ports() method.
There was an issue in this updates logic because it was
iterating through enumerate local variable ""internal_ports""
which represents current router ports and if such current port
was found in updated_ports list it was storred in
RouterInfo().internal_ports variable under same index as was
found in ""internal_ports"" local variable.
This sometimes leads to an issue because same port can be
stored under different index in internal_ports and
RouterInfo().internal_ports lists thus wrong port in
RouterInfo().internal_ports was overwritten.

Such issue leads to problem with generating radvd config file
because in ports cache list there was duplicate info about same port
so radvd config file contained duplicate interface definitions too.

This should be properly fixed by changing RouterInfo.internal_ports
to be a dict instead of list of ports but such patch would be much
bigger and (possibly) harded to backport to stable branches.

Change-Id: I2e38457942518c8a3e07e606091bb6720317b77e
Closes-Bug: #1813279
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/633618/6 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/l3/test_router_info.py', 'neutron/agent/l3/router_info.py']",2,102347f74005adbc702d650f6d19a97424a09fc5,bug/1813279-patch5," def _update_internal_ports_cache(self, port): for p in self.internal_ports: if p['id'] == port['id']: index = self.internal_ports.index(p) self.internal_ports[index] = port break else: self.internal_ports.append(port) updated_ports = [] updated_ports.append(current_port) self._update_internal_ports_cache(p) for p in updated_ports: self._update_internal_ports_cache(p) interface_name = self.get_internal_device_name(p['id']) ip_cidrs = common_utils.fixed_ip_cidrs(p['fixed_ips']) LOG.debug(""updating internal network for port %s"", p) updated_cidrs += ip_cidrs self.internal_network_updated( interface_name, ip_cidrs, p['mtu']) enable_ra = enable_ra or self._port_has_ipv6_subnet(p)"," updated_ports = dict() updated_ports[current_port['id']] = current_port self.internal_ports.append(p) if updated_ports: for index, p in enumerate(internal_ports): if not updated_ports.get(p['id']): continue self.internal_ports[index] = updated_ports[p['id']] interface_name = self.get_internal_device_name(p['id']) ip_cidrs = common_utils.fixed_ip_cidrs(p['fixed_ips']) LOG.debug(""updating internal network for port %s"", p) updated_cidrs += ip_cidrs self.internal_network_updated( interface_name, ip_cidrs, p['mtu']) enable_ra = enable_ra or self._port_has_ipv6_subnet(p)",43,15
openstack%2Fmanila~master~Ic94ce9698e4926c428ecf63e862df5a3a34b1889,openstack/manila,master,Ic94ce9698e4926c428ecf63e862df5a3a34b1889,Add tripleo scenario004 job  to experimental queu,MERGED,2019-02-01 11:09:55.000000000,2019-02-09 13:43:58.000000000,2019-02-09 12:58:03.000000000,"[{'_account_id': 8449}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 13861}, {'_account_id': 14384}, {'_account_id': 15439}, {'_account_id': 16643}, {'_account_id': 20695}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-02-01 11:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fb27f1afd65d120e910cb9f911e5c197336c78e1', 'message': 'Add tripleo jobs to experimetnal\n\nNow that we have a all-in-one CI for tripleo called standalone we can\nstart to test that at manila in the experimental pipeline.\n\nChange-Id: Ic94ce9698e4926c428ecf63e862df5a3a34b1889\n'}, {'number': 2, 'created': '2019-02-06 18:37:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3dc517a7ba8d5ea85dc67e7d6ddb3faf342dcdeb', 'message': 'Add tripleo scenario004 job  to experimental queu\n\nNow that we have a all-in-one CI for tripleo called standalone we can\nstart to test that at manila in the experimental pipeline.\n\nChange-Id: Ic94ce9698e4926c428ecf63e862df5a3a34b1889\n'}, {'number': 3, 'created': '2019-02-08 11:14:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/fd5da8bef748009f61c4b7611c140f0a65036b68', 'message': 'Add tripleo scenario004 job  to experimental queu\n\nNow that we have a all-in-one CI for tripleo called standalone we can\nstart to test that at manila in the experimental pipeline.\n\nChange-Id: Ic94ce9698e4926c428ecf63e862df5a3a34b1889\n'}]",4,634396,fd5da8bef748009f61c4b7611c140f0a65036b68,57,17,3,27898,,,0,"Add tripleo scenario004 job  to experimental queu

Now that we have a all-in-one CI for tripleo called standalone we can
start to test that at manila in the experimental pipeline.

Change-Id: Ic94ce9698e4926c428ecf63e862df5a3a34b1889
",git fetch https://review.opendev.org/openstack/manila refs/changes/96/634396/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fb27f1afd65d120e910cb9f911e5c197336c78e1,, - tripleo-ci-centos-7-scenario001-standalone - tripleo-ci-centos-7-scenario002-standalone - tripleo-ci-centos-7-scenario003-standalone - tripleo-ci-centos-7-scenario004-standalone,,4,0
openstack%2Fnova~stable%2Fqueens~Ibd1cbe0e9b5cf3ede542dbf62b1a7d503ba7ea06,openstack/nova,stable/queens,Ibd1cbe0e9b5cf3ede542dbf62b1a7d503ba7ea06,Update port device_owner when unshelving,MERGED,2018-12-19 23:22:50.000000000,2019-02-09 13:42:40.000000000,2019-02-09 13:42:40.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 9373}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 14595}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-12-19 23:22:50.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/245364ece1689853bf33ac25d7319618d064d909', 'message': ""Update port device_owner when unshelving\n\nWhen we shelve offload an instance, we unplug VIFs, delete\nthe guest from the compute host, etc. The instance is still\nlogically attached to its ports but they aren't connected\non any host.\n\nWhen we unshelve an instance, it is scheduled and created\non a potentially new host, in a potentially new availability\nzone. During unshelve, the compute manager will call the\nsetup_instance_network_on_host() method to update the port\nhost binding information for the new host, but was not\nupdating the device_owner, which reflects the availability\nzone that the instance is in. Because of this, an instance\ncan be created in az1, shelved, and then unshelved in az2\nbut the port device_owner still says az1 even though the\nport host binding is for a compute host in az2.\n\nThis change simply updates the port device_owner when\nupdating the port binding host during unshelve.\n\nA TODO is left in the cleanup_instance_network_on_host()\nmethod which is called during shelve offload but is currently\nnot implemented. We should unbind ports when shelve offloading,\nbut that is a bit of a bigger change and left for a separate\npatch since it is not technically needed for this bug fix.\n\nChange-Id: Ibd1cbe0e9b5cf3ede542dbf62b1a7d503ba7ea06\nCloses-Bug: #1759924\n(cherry picked from commit 93802619adde69bf84d26d7231480abb4da07c91)\n(cherry picked from commit 3e38d1cf16ca29948be499aa37e2494ffd001f12)\n""}]",0,626408,245364ece1689853bf33ac25d7319618d064d909,20,11,1,6873,,,0,"Update port device_owner when unshelving

When we shelve offload an instance, we unplug VIFs, delete
the guest from the compute host, etc. The instance is still
logically attached to its ports but they aren't connected
on any host.

When we unshelve an instance, it is scheduled and created
on a potentially new host, in a potentially new availability
zone. During unshelve, the compute manager will call the
setup_instance_network_on_host() method to update the port
host binding information for the new host, but was not
updating the device_owner, which reflects the availability
zone that the instance is in. Because of this, an instance
can be created in az1, shelved, and then unshelved in az2
but the port device_owner still says az1 even though the
port host binding is for a compute host in az2.

This change simply updates the port device_owner when
updating the port binding host during unshelve.

A TODO is left in the cleanup_instance_network_on_host()
method which is called during shelve offload but is currently
not implemented. We should unbind ports when shelve offloading,
but that is a bit of a bigger change and left for a separate
patch since it is not technically needed for this bug fix.

Change-Id: Ibd1cbe0e9b5cf3ede542dbf62b1a7d503ba7ea06
Closes-Bug: #1759924
(cherry picked from commit 93802619adde69bf84d26d7231480abb4da07c91)
(cherry picked from commit 3e38d1cf16ca29948be499aa37e2494ffd001f12)
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/626408/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py']",2,245364ece1689853bf33ac25d7319618d064d909,bug/1759924," 'device_owner': 'compute:%s' % instance.availability_zone, uuids.portid, {'port': {neutronapi.BINDING_HOST_ID: 'my-host', 'device_owner': 'compute:%s' % instance.availability_zone}}) {'port': {neutronapi.BINDING_HOST_ID: instance.host, 'device_owner': 'compute:%s' % instance.availability_zone}}) 'device_owner': 'compute:%s' % instance.availability_zone, {neutronapi.BINDING_HOST_ID: expected_bind_host, 'device_owner': 'compute:%s' % self.instance['availability_zone']}}"," uuids.portid, {'port': {neutronapi.BINDING_HOST_ID: 'my-host'}}) {'port': {neutronapi.BINDING_HOST_ID: instance.host}}) {neutronapi.BINDING_HOST_ID: expected_bind_host}}",25,3
openstack%2Ftripleo-quickstart-extras~master~I483164e8df1b8d487ee03af223794a93aa92e72f,openstack/tripleo-quickstart-extras,master,I483164e8df1b8d487ee03af223794a93aa92e72f,Add playbook for FreeIPA job,MERGED,2019-02-07 17:32:52.000000000,2019-02-09 12:15:35.000000000,2019-02-09 12:15:35.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-02-07 17:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ddd6cb290ec207c037d6b47690db11dba80a6f9d', 'message': 'Add playbook for FreeIPA job\n\nChange-Id: I483164e8df1b8d487ee03af223794a93aa92e72f\n'}, {'number': 2, 'created': '2019-02-07 17:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ce520499323094f711344761c03d05cc54b7e836', 'message': 'Add playbook for FreeIPA job\n\nChange-Id: I483164e8df1b8d487ee03af223794a93aa92e72f\n'}, {'number': 3, 'created': '2019-02-08 05:41:35.000000000', 'files': ['playbooks/baremetal-full-deploy.yml', 'playbooks/baremetal-full-freeipa.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/33780ddaec1cbfa07f0c264b3e6e7c3b369bf45c', 'message': 'Add playbook for FreeIPA job\n\nChange-Id: I483164e8df1b8d487ee03af223794a93aa92e72f\n'}]",0,635582,33780ddaec1cbfa07f0c264b3e6e7c3b369bf45c,14,7,3,10969,,,0,"Add playbook for FreeIPA job

Change-Id: I483164e8df1b8d487ee03af223794a93aa92e72f
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/82/635582/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/baremetal-full-freeipa.yml'],1,ddd6cb290ec207c037d6b47690db11dba80a6f9d,suppl,--- - name: Run inventory to add supplemental node gather_facts: false tags: - freeipa-setup tasks: - include_role: name: tripleo-inventory - name: Deploy the FreeIPA server hosts: supplemental gather_facts: true tags: - freeipa-setup tasks: - include_role: name: freeipa-setup ,,19,0
openstack%2Foctavia~master~Ic71059da24e0d2c3f0ac3af5375906d8e8aa43f4,openstack/octavia,master,Ic71059da24e0d2c3f0ac3af5375906d8e8aa43f4,Fix functional tests under Python >= 3.6,MERGED,2019-02-08 22:58:28.000000000,2019-02-09 11:17:07.000000000,2019-02-09 10:45:37.000000000,"[{'_account_id': 2245}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 22:58:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/63703ec4290e4f72259fd1cef1a21aea495f685f', 'message': ""Fix functional tests under Python >= 3.6\n\nNewer Python versions don't like passing a mock in to an os.path.join:\n\n  TypeError: join() argument must be str or bytes, not 'MagicMock'\n\nThis patch also adds openstack-tox-functional-py36 to the gate queue.\nRecent and major LTS distributions ship Python 3.6 or greater.\n\nChange-Id: Ic71059da24e0d2c3f0ac3af5375906d8e8aa43f4\n""}, {'number': 2, 'created': '2019-02-08 23:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/56c822ee9cf78567c125a88c9a4175261cfd782e', 'message': ""Fix functional tests under Python >= 3.6\n\nNewer Python versions don't like passing a mock in to an os.path.join:\n\n  TypeError: join() argument must be str or bytes, not 'MagicMock'\n\nThis patch also adds openstack-tox-functional-py36 to the gate queue.\nRecent and major LTS distributions ship Python 3.6 or greater.\n\nChange-Id: Ic71059da24e0d2c3f0ac3af5375906d8e8aa43f4\n""}, {'number': 3, 'created': '2019-02-09 01:09:00.000000000', 'files': ['zuul.d/projects.yaml', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_keepalivedlvs.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b5dda3ce0570dbc888d77bfff9b13321eb33608c', 'message': ""Fix functional tests under Python >= 3.6\n\nNewer Python versions don't like passing a mock in to an os.path.join:\n\n  TypeError: join() argument must be str or bytes, not 'MagicMock'\n\nThis patch also adds openstack-tox-functional-py36 to the gate queue.\nRecent and major LTS distributions ship Python 3.6 or greater.\n\nChange-Id: Ic71059da24e0d2c3f0ac3af5375906d8e8aa43f4\n""}]",1,635977,b5dda3ce0570dbc888d77bfff9b13321eb33608c,11,3,3,6469,,,0,"Fix functional tests under Python >= 3.6

Newer Python versions don't like passing a mock in to an os.path.join:

  TypeError: join() argument must be str or bytes, not 'MagicMock'

This patch also adds openstack-tox-functional-py36 to the gate queue.
Recent and major LTS distributions ship Python 3.6 or greater.

Change-Id: Ic71059da24e0d2c3f0ac3af5375906d8e8aa43f4
",git fetch https://review.opendev.org/openstack/octavia refs/changes/77/635977/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_keepalivedlvs.py']",2,63703ec4290e4f72259fd1cef1a21aea495f685f,python3.7," 'get_keepalivedlvs_pid', return_value=""12345"") 'get_keepalivedlvs_pid', return_value=""12345"") 'get_keepalivedlvs_pid', return_value=""12345"") 'get_keepalivedlvs_pid', return_value=""12345"")", 'get_keepalivedlvs_pid') 'get_keepalivedlvs_pid') 'get_keepalivedlvs_pid') 'get_keepalivedlvs_pid'),18,4
openstack%2Foslo.versionedobjects~master~Ife866af6e07c887774689fd98ac6fde6fa55d6de,openstack/oslo.versionedobjects,master,Ife866af6e07c887774689fd98ac6fde6fa55d6de,Add ListOfUUIDField,MERGED,2019-02-04 14:34:49.000000000,2019-02-09 10:44:31.000000000,2019-02-09 10:44:30.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9708}, {'_account_id': 9796}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-04 14:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/5f17aa6dde1de32c073190e30563daed40660122', 'message': 'Add ListOfUUIDField\n\nThis adds a simple ListOfUUIDField which is copied from\nkuryr-kubernetes and is also needed in nova.\n\nChange-Id: Ife866af6e07c887774689fd98ac6fde6fa55d6de\n'}, {'number': 2, 'created': '2019-02-04 17:00:32.000000000', 'files': ['oslo_versionedobjects/tests/test_fields.py', 'oslo_versionedobjects/fields.py'], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/6d622630095bbd50dfba0c6ed57f504b5a13d5ae', 'message': 'Add ListOfUUIDField\n\nThis adds a simple ListOfUUIDField which is copied from\nkuryr-kubernetes and is also needed in nova.\n\nChange-Id: Ife866af6e07c887774689fd98ac6fde6fa55d6de\n'}]",2,634700,6d622630095bbd50dfba0c6ed57f504b5a13d5ae,13,6,2,6873,,,0,"Add ListOfUUIDField

This adds a simple ListOfUUIDField which is copied from
kuryr-kubernetes and is also needed in nova.

Change-Id: Ife866af6e07c887774689fd98ac6fde6fa55d6de
",git fetch https://review.opendev.org/openstack/oslo.versionedobjects refs/changes/00/634700/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_versionedobjects/tests/test_fields.py', 'oslo_versionedobjects/fields.py']",2,5f17aa6dde1de32c073190e30563daed40660122,ListOfUUIDField,class ListOfUUIDField(AutoTypedField): AUTO_TYPE = List(UUID()) ,,22,0
openstack%2Fneutron~stable%2Fpike~I34e41a128f28211f2e7ab814a2611ce22620fcf3,openstack/neutron,stable/pike,I34e41a128f28211f2e7ab814a2611ce22620fcf3,Fix performance regression adding rules to security groups,MERGED,2019-01-25 05:55:17.000000000,2019-02-09 10:38:24.000000000,2019-02-09 10:38:24.000000000,"[{'_account_id': 4694}, {'_account_id': 10980}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-01-25 05:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/83c98652fa15ac60eced13d15e2940a109167049', 'message': ""Fix performance regression adding rules to security groups\n\nSometime between liberty and pike, adding rules to SG's got\nslow, and slower with every rule. Streamline the rule create path,\nand get close to the old performance back.\n\nTwo performance fixes:\n1. Get rid of an n^2 duplicate check, using a hash table instead,\non bulk creates. This is more memory intensive than the previous loop,\nbut usable far past where the other becomes too slow to be useful.\n2. Use an object existence check in a few places where we do not\nwant to load all of the child rules.\n\nCo-Authored-By: William Hager <whager@salesforce.com>\nChange-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3\nCloses-bug: 1810563\n(cherry picked from commit 2eb31f84c9a6c9fc6340819f756a7a82cbf395f3)\n""}, {'number': 2, 'created': '2019-02-02 04:10:58.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/objects/base.py', 'neutron/tests/unit/extensions/test_securitygroup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f9cbd939b998f6b8d29c8d347d1b9322c699825f', 'message': ""Fix performance regression adding rules to security groups\n\nSometime between liberty and pike, adding rules to SG's got\nslow, and slower with every rule. Streamline the rule create path,\nand get close to the old performance back.\n\nTwo performance fixes:\n1. Get rid of an n^2 duplicate check, using a hash table instead,\non bulk creates. This is more memory intensive than the previous loop,\nbut usable far past where the other becomes too slow to be useful.\n2. Use an object existence check in a few places where we do not\nwant to load all of the child rules.\n\nAlso squashed in:\nRestore tenant_id check on security group rule adds to previous semantic\n\nWe switched from swapping the tenant_id in the context to explicitly\nchecking the db column. Switch back, and a test that checks for\nnot breaking this rather odd behavior. At least, until we decide\nto fix it as a bug.\n\nCo-Authored-By: William Hager <whager@salesforce.com>\nChange-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3\nCloses-bug: 1810563\n(cherry picked from commit 2eb31f84c9a6c9fc6340819f756a7a82cbf395f3)\n(squashed patch from commit bd4c291cdfb5a75976b1f846f6d7ca88d2d154e9)\n""}]",0,633145,f9cbd939b998f6b8d29c8d347d1b9322c699825f,19,5,2,10980,,,0,"Fix performance regression adding rules to security groups

Sometime between liberty and pike, adding rules to SG's got
slow, and slower with every rule. Streamline the rule create path,
and get close to the old performance back.

Two performance fixes:
1. Get rid of an n^2 duplicate check, using a hash table instead,
on bulk creates. This is more memory intensive than the previous loop,
but usable far past where the other becomes too slow to be useful.
2. Use an object existence check in a few places where we do not
want to load all of the child rules.

Also squashed in:
Restore tenant_id check on security group rule adds to previous semantic

We switched from swapping the tenant_id in the context to explicitly
checking the db column. Switch back, and a test that checks for
not breaking this rather odd behavior. At least, until we decide
to fix it as a bug.

Co-Authored-By: William Hager <whager@salesforce.com>
Change-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3
Closes-bug: 1810563
(cherry picked from commit 2eb31f84c9a6c9fc6340819f756a7a82cbf395f3)
(squashed patch from commit bd4c291cdfb5a75976b1f846f6d7ca88d2d154e9)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/633145/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/objects/base.py']",3,83c98652fa15ac60eced13d15e2940a109167049,bug/1810563, return bool(obj_db_api.count(, return bool(obj_db_api.get_object(,86,114
openstack%2Fneutron~stable%2Fqueens~I34e41a128f28211f2e7ab814a2611ce22620fcf3,openstack/neutron,stable/queens,I34e41a128f28211f2e7ab814a2611ce22620fcf3,Fix performance regression adding rules to security groups,MERGED,2019-01-25 05:49:38.000000000,2019-02-09 10:38:21.000000000,2019-02-09 10:38:21.000000000,"[{'_account_id': 4694}, {'_account_id': 9373}, {'_account_id': 10980}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-01-25 05:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8860fa225224dd290e49c89294b63ca5ddcd18b6', 'message': ""Fix performance regression adding rules to security groups\n\nSometime between liberty and pike, adding rules to SG's got\nslow, and slower with every rule. Streamline the rule create path,\nand get close to the old performance back.\n\nTwo performance fixes:\n1. Get rid of an n^2 duplicate check, using a hash table instead,\non bulk creates. This is more memory intensive than the previous loop,\nbut usable far past where the other becomes too slow to be useful.\n2. Use an object existence check in a few places where we do not\nwant to load all of the child rules.\n\nCo-Authored-By: William Hager <whager@salesforce.com>\nChange-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3\nCloses-bug: 1810563\n(cherry picked from commit 2eb31f84c9a6c9fc6340819f756a7a82cbf395f3)\n""}, {'number': 2, 'created': '2019-02-02 04:12:02.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/objects/base.py', 'neutron/tests/unit/extensions/test_securitygroup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/026f24a94df6c2131896cc69f096faa0e1ebb2f9', 'message': ""Fix performance regression adding rules to security groups\n\nSometime between liberty and pike, adding rules to SG's got\nslow, and slower with every rule. Streamline the rule create path,\nand get close to the old performance back.\n\nTwo performance fixes:\n1. Get rid of an n^2 duplicate check, using a hash table instead,\non bulk creates. This is more memory intensive than the previous loop,\nbut usable far past where the other becomes too slow to be useful.\n2. Use an object existence check in a few places where we do not\nwant to load all of the child rules.\n\nAlso squashed in:\nRestore tenant_id check on security group rule adds to previous semantic\n\nWe switched from swapping the tenant_id in the context to explicitly\nchecking the db column. Switch back, and a test that checks for\nnot breaking this rather odd behavior. At least, until we decide\nto fix it as a bug.\n\nCo-Authored-By: William Hager <whager@salesforce.com>\nChange-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3\nCloses-bug: 1810563\n(cherry picked from commit 2eb31f84c9a6c9fc6340819f756a7a82cbf395f3)\n(squashed patch from commit bd4c291cdfb5a75976b1f846f6d7ca88d2d154e9)\n""}]",0,633144,026f24a94df6c2131896cc69f096faa0e1ebb2f9,25,7,2,10980,,,0,"Fix performance regression adding rules to security groups

Sometime between liberty and pike, adding rules to SG's got
slow, and slower with every rule. Streamline the rule create path,
and get close to the old performance back.

Two performance fixes:
1. Get rid of an n^2 duplicate check, using a hash table instead,
on bulk creates. This is more memory intensive than the previous loop,
but usable far past where the other becomes too slow to be useful.
2. Use an object existence check in a few places where we do not
want to load all of the child rules.

Also squashed in:
Restore tenant_id check on security group rule adds to previous semantic

We switched from swapping the tenant_id in the context to explicitly
checking the db column. Switch back, and a test that checks for
not breaking this rather odd behavior. At least, until we decide
to fix it as a bug.

Co-Authored-By: William Hager <whager@salesforce.com>
Change-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3
Closes-bug: 1810563
(cherry picked from commit 2eb31f84c9a6c9fc6340819f756a7a82cbf395f3)
(squashed patch from commit bd4c291cdfb5a75976b1f846f6d7ca88d2d154e9)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/44/633144/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/objects/base.py']",3,8860fa225224dd290e49c89294b63ca5ddcd18b6,bug/1810563, return bool(obj_db_api.count(, return bool(obj_db_api.get_object(,86,114
openstack%2Fneutron~stable%2Frocky~I34e41a128f28211f2e7ab814a2611ce22620fcf3,openstack/neutron,stable/rocky,I34e41a128f28211f2e7ab814a2611ce22620fcf3,Fix performance regression adding rules to security groups,MERGED,2019-01-25 05:47:51.000000000,2019-02-09 10:38:17.000000000,2019-02-09 10:38:17.000000000,"[{'_account_id': 4694}, {'_account_id': 10980}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-01-25 05:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4dfa86e265098e5dc8c3cf67f81649903072bb9d', 'message': ""Fix performance regression adding rules to security groups\n\nSometime between liberty and pike, adding rules to SG's got\nslow, and slower with every rule. Streamline the rule create path,\nand get close to the old performance back.\n\nTwo performance fixes:\n1. Get rid of an n^2 duplicate check, using a hash table instead,\non bulk creates. This is more memory intensive than the previous loop,\nbut usable far past where the other becomes too slow to be useful.\n2. Use an object existence check in a few places where we do not\nwant to load all of the child rules.\n\nCo-Authored-By: William Hager <whager@salesforce.com>\nChange-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3\nCloses-bug: 1810563\n(cherry picked from commit 2eb31f84c9a6c9fc6340819f756a7a82cbf395f3)\n""}, {'number': 2, 'created': '2019-01-25 05:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b281171427759c021a00cd6f0d3c5dc92cd12fdd', 'message': ""Fix performance regression adding rules to security groups\n\nSometime between liberty and pike, adding rules to SG's got\nslow, and slower with every rule. Streamline the rule create path,\nand get close to the old performance back.\n\nTwo performance fixes:\n1. Get rid of an n^2 duplicate check, using a hash table instead,\non bulk creates. This is more memory intensive than the previous loop,\nbut usable far past where the other becomes too slow to be useful.\n2. Use an object existence check in a few places where we do not\nwant to load all of the child rules.\n\nCo-Authored-By: William Hager <whager@salesforce.com>\nChange-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3\nCloses-bug: 1810563\n(cherry picked from commit 2eb31f84c9a6c9fc6340819f756a7a82cbf395f3)\n""}, {'number': 3, 'created': '2019-02-02 04:09:15.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/objects/base.py', 'neutron/tests/unit/extensions/test_securitygroup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f8a192e22e39bfb64e506388f5d5c07fc30d7753', 'message': ""Fix performance regression adding rules to security groups\n\nSometime between liberty and pike, adding rules to SG's got\nslow, and slower with every rule. Streamline the rule create path,\nand get close to the old performance back.\n\nTwo performance fixes:\n1. Get rid of an n^2 duplicate check, using a hash table instead,\non bulk creates. This is more memory intensive than the previous loop,\nbut usable far past where the other becomes too slow to be useful.\n2. Use an object existence check in a few places where we do not\nwant to load all of the child rules.\n\nAlso squashed in:\nRestore tenant_id check on security group rule adds to previous semantic\n\nWe switched from swapping the tenant_id in the context to explicitly\nchecking the db column. Switch back, and a test that checks for\nnot breaking this rather odd behavior. At least, until we decide\nto fix it as a bug.\n\nCo-Authored-By: William Hager <whager@salesforce.com>\nChange-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3\nCloses-bug: 1810563\n(cherry picked from commit 2eb31f84c9a6c9fc6340819f756a7a82cbf395f3)\n(squashed patch from commit bd4c291cdfb5a75976b1f846f6d7ca88d2d154e9)\n""}]",0,633143,f8a192e22e39bfb64e506388f5d5c07fc30d7753,25,6,3,10980,,,0,"Fix performance regression adding rules to security groups

Sometime between liberty and pike, adding rules to SG's got
slow, and slower with every rule. Streamline the rule create path,
and get close to the old performance back.

Two performance fixes:
1. Get rid of an n^2 duplicate check, using a hash table instead,
on bulk creates. This is more memory intensive than the previous loop,
but usable far past where the other becomes too slow to be useful.
2. Use an object existence check in a few places where we do not
want to load all of the child rules.

Also squashed in:
Restore tenant_id check on security group rule adds to previous semantic

We switched from swapping the tenant_id in the context to explicitly
checking the db column. Switch back, and a test that checks for
not breaking this rather odd behavior. At least, until we decide
to fix it as a bug.

Co-Authored-By: William Hager <whager@salesforce.com>
Change-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3
Closes-bug: 1810563
(cherry picked from commit 2eb31f84c9a6c9fc6340819f756a7a82cbf395f3)
(squashed patch from commit bd4c291cdfb5a75976b1f846f6d7ca88d2d154e9)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/43/633143/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/objects/base.py']",3,4dfa86e265098e5dc8c3cf67f81649903072bb9d,bug/1810563, return bool(obj_db_api.count(, return bool(obj_db_api.get_object(,87,115
openstack%2Ftripleo-heat-templates~master~I62c9c0a01ab723347e724c46b9b7be78ec6213c0,openstack/tripleo-heat-templates,master,I62c9c0a01ab723347e724c46b9b7be78ec6213c0,Remove upgrade_tasks added during nova services flatten.,MERGED,2019-02-08 07:21:08.000000000,2019-02-09 10:31:15.000000000,2019-02-09 10:31:15.000000000,"[{'_account_id': 3153}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 11082}, {'_account_id': 20868}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-02-08 07:21:08.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/nova/nova-consoleauth-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a40a4927bf96163bf2584f5e8b970e4751f9bb0f', 'message': 'Remove upgrade_tasks added during nova services flatten.\n\nThe check and stop for systemd services during upgrade tasks was\nremoved in [0], however the task to stop them was re-included by\nmistake.\n\n[0] - e4ee042a2aaf880e9863461a7423549be3bb0aa1\nCloses-Bug: #1815170\n\nChange-Id: I62c9c0a01ab723347e724c46b9b7be78ec6213c0\n'}]",0,635715,a40a4927bf96163bf2584f5e8b970e4751f9bb0f,13,10,1,26343,,,0,"Remove upgrade_tasks added during nova services flatten.

The check and stop for systemd services during upgrade tasks was
removed in [0], however the task to stop them was re-included by
mistake.

[0] - e4ee042a2aaf880e9863461a7423549be3bb0aa1
Closes-Bug: #1815170

Change-Id: I62c9c0a01ab723347e724c46b9b7be78ec6213c0
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/15/635715/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/nova/nova-consoleauth-container-puppet.yaml']",3,a40a4927bf96163bf2584f5e8b970e4751f9bb0f,bug/1815170,, - name: Stop nova_consoleauth service when: step|int == 1 service: name=openstack-nova-consoleauth state=stopped,0,9
openstack%2Fhorizon~master~Ib230ad775070ee089c8f82e7df3ec30c1cda7aa0,openstack/horizon,master,Ib230ad775070ee089c8f82e7df3ec30c1cda7aa0,Table checkbox display problem when updating row,MERGED,2018-10-25 06:57:04.000000000,2019-02-09 09:23:50.000000000,2019-02-09 09:23:50.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6763}, {'_account_id': 22348}, {'_account_id': 25946}, {'_account_id': 27336}, {'_account_id': 27822}, {'_account_id': 29313}]","[{'number': 1, 'created': '2018-10-25 06:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/48e8f2be666be7c959932439f6d39a8a32e67ee1', 'message': 'table checkbox display problem when updating row\n\nChange-Id: Ib230ad775070ee089c8f82e7df3ec30c1cda7aa0\n'}, {'number': 2, 'created': '2018-10-25 07:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/2aae06a1a05e403404861a066175769ede826f5b', 'message': 'table checkbox display problem when updating row\n\nChange-Id: Ib230ad775070ee089c8f82e7df3ec30c1cda7aa0\nCloses-Bug: #1799151\n'}, {'number': 3, 'created': '2018-10-25 08:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ba154b526b21b06246d7beaa5186556f54553837', 'message': 'table checkbox display problem when updating row\n\nChange-Id: Ib230ad775070ee089c8f82e7df3ec30c1cda7aa0\nCloses-Bug: #1799151\n'}, {'number': 4, 'created': '2018-10-25 11:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/96d4d1be3b5727d89b77fec26304130670495452', 'message': 'table checkbox display problem when updating row\n\nChange-Id: Ib230ad775070ee089c8f82e7df3ec30c1cda7aa0\nCloses-Bug: #1799151\n'}, {'number': 5, 'created': '2018-10-26 10:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/da75e5a27041e6c84b99935435ee81c7b611e6cd', 'message': 'table checkbox display problem when updating row\n\nChange-Id: Ib230ad775070ee089c8f82e7df3ec30c1cda7aa0\nCloses-Bug: #1799151\n'}, {'number': 6, 'created': '2018-10-29 04:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e26b4f1f26110d4c1d20a8278d50364c1626dd86', 'message': 'table checkbox display problem when updating row\n\nChange-Id: Ib230ad775070ee089c8f82e7df3ec30c1cda7aa0\nCloses-Bug: #1799151\n'}, {'number': 7, 'created': '2018-11-06 02:33:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/fa2aca673f083976ea257e9ff06303e8bed7d135', 'message': 'Table checkbox display problem when updating row\n\nInit checkbox in Meta-class according to BatchActions\ninstead of table actions.\n  reference: https://review.openstack.org/#/c/527900/\n\nMulti-process:\n  If there only one table action, DeleteAction.\n  Assume the first time retrieving an empty table in one\n  process, the checkbox is hidden.\n  In the other process, creating a item, like a instance.\n  Now, the checkbox is shown in second process.\n  Then updating the item state in first process, the checkbox\n  will be hidden. In second process, the checkbox will be shown.\n\n  For above case, we need set the checkbox visibility every time\n  when updating single row by ajax.\n\nChange-Id: Ib230ad775070ee089c8f82e7df3ec30c1cda7aa0\nCloses-Bug: #1799151\n'}, {'number': 8, 'created': '2018-11-30 03:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/220d8ed62cc55a11fd6a1357e5be329f7f7bb7f3', 'message': 'Table checkbox display problem when updating row\n\nInit checkbox in Meta-class according to BatchActions\ninstead of table actions.\n  reference: https://review.openstack.org/#/c/527900/\n\nMulti-process:\n  If there only one table action, DeleteAction.\n  Assume the first time retrieving an empty table in one\n  process, the checkbox is hidden.\n  In the other process, creating a item, like a instance.\n  Now, the checkbox is shown in second process.\n  Then updating the item state in first process, the checkbox\n  will be hidden. In second process, the checkbox will be shown.\n\n  For above case, we need set the checkbox visibility every time\n  when updating single row by ajax.\n\nChange-Id: Ib230ad775070ee089c8f82e7df3ec30c1cda7aa0\nCloses-Bug: #1799151\n'}, {'number': 9, 'created': '2019-01-09 10:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/393154103cf467de1fd342e377efbd2107fa4f9f', 'message': 'Table checkbox display problem when updating row\n\nMulti-process:\n  If there only one table action, DeleteAction.\n  Assume the first time retrieving an empty table in one\n  process, the checkbox is hidden.\n  In the other process, creating a item, like a instance.\n  Now, the checkbox is shown in second process.\n  Then updating the item state in first process, the checkbox\n  will be hidden. In second process, the checkbox will be shown.\n\n  For above case, we need set the checkbox visibility every time\n  when updating single row by ajax.\n\nChange-Id: Ib230ad775070ee089c8f82e7df3ec30c1cda7aa0\nCloses-Bug: #1799151\n'}, {'number': 10, 'created': '2019-02-09 07:57:19.000000000', 'files': ['horizon/tables/actions.py', 'openstack_dashboard/dashboards/project/volumes/tests.py', 'horizon/tables/base.py', 'openstack_dashboard/dashboards/project/instances/tests.py', 'horizon/test/unit/tables/test_tables.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/3ac9037677e3dbfa42b8df42f3758c5a0078d3e6', 'message': 'Table checkbox display problem when updating row\n\nMulti-process:\n  If there only one table action, DeleteAction.\n  Assume the first time retrieving an empty table in one\n  process, the checkbox is hidden.\n  In the other process, creating a item, like a instance.\n  Now, the checkbox is shown in second process.\n  Then updating the item state in first process, the checkbox\n  will be hidden. In second process, the checkbox will be shown.\n\n  For above case, we need set the checkbox visibility every time\n  when updating single row by ajax.\n\nChange-Id: Ib230ad775070ee089c8f82e7df3ec30c1cda7aa0\nCloses-Bug: #1799151\n'}]",7,613217,3ac9037677e3dbfa42b8df42f3758c5a0078d3e6,40,8,10,25946,,,0,"Table checkbox display problem when updating row

Multi-process:
  If there only one table action, DeleteAction.
  Assume the first time retrieving an empty table in one
  process, the checkbox is hidden.
  In the other process, creating a item, like a instance.
  Now, the checkbox is shown in second process.
  Then updating the item state in first process, the checkbox
  will be hidden. In second process, the checkbox will be shown.

  For above case, we need set the checkbox visibility every time
  when updating single row by ajax.

Change-Id: Ib230ad775070ee089c8f82e7df3ec30c1cda7aa0
Closes-Bug: #1799151
",git fetch https://review.opendev.org/openstack/horizon refs/changes/17/613217/3 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/tables/actions.py', 'horizon/tables/base.py']",2,48e8f2be666be7c959932439f6d39a8a32e67ee1,bug/1799151," batch_actions = [action for action in self.table_actions if issubclass(action, BatchAction)] len(self.batch_actions) > 0) # For multi-process, we need to set the multi_column to be visible # or hidden each time. # Example: first process the multi_column visible but second # process the column is hidden. Updating row by ajax will # make the bug#1799151 bound_actions = self.get_table_actions() batch_actions = [action for action in bound_actions if isinstance(action, BatchAction)] self.set_multiselect_column_visibility(len(batch_actions) > 0)", len(self.table_actions) > 0),15,2
openstack%2Fhorizon~master~I36d37407eb208586fb7bacdb941b445c5ea33bcb,openstack/horizon,master,I36d37407eb208586fb7bacdb941b445c5ea33bcb,Correct error message for volume size in Launch Instance,MERGED,2019-01-23 07:46:27.000000000,2019-02-09 08:58:08.000000000,2019-02-09 08:58:08.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 5623}, {'_account_id': 8648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-23 07:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/11d0b16c84abfcbbe650cf5c4731cbf2e02a1922', 'message': 'Modify the prompt information\n\nIn the source form, first select a image,\nthe volume size enters a decimal number such as 1.1,\nthe prompt information is incorrect.\n\nChange-Id: I36d37407eb208586fb7bacdb941b445c5ea33bcb\nCloses-Bug: #1812959\n'}, {'number': 2, 'created': '2019-01-24 07:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/34efc4e04ba64a2fd9a9fd7bfd9848c4078ceb98', 'message': 'Modify the prompt information\n\nIn the source form, first select a image,\nthe volume size enters a decimal number such as 1.1,\nthe prompt information is incorrect.\n\nChange-Id: I36d37407eb208586fb7bacdb941b445c5ea33bcb\nCloses-Bug: #1812959\n'}, {'number': 3, 'created': '2019-02-09 07:13:44.000000000', 'files': ['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/source/source.html', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/source/source.controller.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a06e7de97a7b0353f1cf6e76c30af5998b7527ea', 'message': 'Correct error message for volume size in Launch Instance\n\nIn the ""Source"" tab of the ""Launch Instance"" form,\nwhen some image is selected as a boot source and\n""Create New Volume"" is selected, if a decimal number\nsuch as 1.1 is provided in the volume size, the error message\nstill says ""The volume size must be at least 1 GB"" even if\nthe specified value is larger than min_disk.\nThis is incorrect. This commit corrects the message\nfor this case.\n\nChange-Id: I36d37407eb208586fb7bacdb941b445c5ea33bcb\nCloses-Bug: #1812959\n'}]",0,632633,a06e7de97a7b0353f1cf6e76c30af5998b7527ea,11,5,3,27822,,,0,"Correct error message for volume size in Launch Instance

In the ""Source"" tab of the ""Launch Instance"" form,
when some image is selected as a boot source and
""Create New Volume"" is selected, if a decimal number
such as 1.1 is provided in the volume size, the error message
still says ""The volume size must be at least 1 GB"" even if
the specified value is larger than min_disk.
This is incorrect. This commit corrects the message
for this case.

Change-Id: I36d37407eb208586fb7bacdb941b445c5ea33bcb
Closes-Bug: #1812959
",git fetch https://review.opendev.org/openstack/horizon refs/changes/33/632633/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/source/source.html'],1,11d0b16c84abfcbbe650cf5c4731cbf2e02a1922,bug/1812959," validate-number-min=""{$ ctrl.minVolumeSize $}"" ng-show=""launchInstanceSourceForm['volume-size'].$error.validateNumberMin""> {$ ctrl.volumeSizeError $} </span> <span class=""help-block"" ng-show=""(launchInstanceSourceForm['volume-size'].$error.pattern || launchInstanceSourceForm['volume-size'].$error.required || launchInstanceSourceForm['volume-size'].$error.number) && !launchInstanceSourceForm['volume-size'].$error.validateNumberMin"" translate> Volume size is required and must be an integer"," min=""{$ ctrl.minVolumeSize $}"" ng-show=""launchInstanceSourceForm['volume-size'].$invalid""> {$ launchInstanceSourceForm['volume-size'].$error.validateNumberMin ? ctrl.minVolumeSizeError : ctrl.volumeSizeError $}",8,3
openstack%2Fhorizon~master~Iea18913765cda146a0fcae7abe64c999a29cccfe,openstack/horizon,master,Iea18913765cda146a0fcae7abe64c999a29cccfe,Add volume group-type list/show support for admin panel,MERGED,2019-02-06 18:55:08.000000000,2019-02-09 08:19:36.000000000,2019-02-09 08:19:36.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-02-06 18:55:08.000000000', 'files': ['openstack_dashboard/dashboards/admin/group_types/__init__.py', 'openstack_dashboard/dashboards/admin/group_types/forms.py', 'openstack_dashboard/dashboards/admin/group_types/templates/group_types/create_group_type.html', 'openstack_dashboard/api/cinder.py', 'openstack_dashboard/enabled/_2270_admin_group_types_panel.py', 'openstack_dashboard/dashboards/admin/group_types/tables.py', 'openstack_dashboard/dashboards/admin/group_types/views.py', 'openstack_dashboard/dashboards/admin/group_types/urls.py', 'openstack_dashboard/dashboards/admin/group_types/templates/group_types/_update_group_type.html', 'openstack_dashboard/dashboards/admin/group_types/templates/group_types/_create_group_type.html', 'openstack_dashboard/dashboards/admin/group_types/templates/group_types/update_group_type.html', 'openstack_dashboard/dashboards/admin/group_types/tests.py', 'openstack_dashboard/dashboards/admin/group_types/panel.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/5764aa588cc2464313461681d6ceee000da81f37', 'message': 'Add volume group-type list/show support for admin panel\n\nThis commit allow admin to list/show cinder volume group-type\nusing horizon dashboard and user can perform the following\ntable action :\n1. group-type-create\n2. group-type-delete\n3. group-type-update\n\nTODO:\n1.group-type-specs support\n\nPartially-Implements blueprint cinder-generic-volume-groups\n\nChange-Id: Iea18913765cda146a0fcae7abe64c999a29cccfe\n'}]",3,635247,5764aa588cc2464313461681d6ceee000da81f37,13,5,1,29313,,,0,"Add volume group-type list/show support for admin panel

This commit allow admin to list/show cinder volume group-type
using horizon dashboard and user can perform the following
table action :
1. group-type-create
2. group-type-delete
3. group-type-update

TODO:
1.group-type-specs support

Partially-Implements blueprint cinder-generic-volume-groups

Change-Id: Iea18913765cda146a0fcae7abe64c999a29cccfe
",git fetch https://review.opendev.org/openstack/horizon refs/changes/47/635247/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/admin/group_types/__init__.py', 'openstack_dashboard/dashboards/admin/group_types/forms.py', 'openstack_dashboard/dashboards/admin/group_types/templates/group_types/create_group_type.html', 'openstack_dashboard/api/cinder.py', 'openstack_dashboard/enabled/_2270_admin_group_types_panel.py', 'openstack_dashboard/dashboards/admin/group_types/tables.py', 'openstack_dashboard/dashboards/admin/group_types/views.py', 'openstack_dashboard/dashboards/admin/group_types/urls.py', 'openstack_dashboard/dashboards/admin/group_types/templates/group_types/_update_group_type.html', 'openstack_dashboard/dashboards/admin/group_types/templates/group_types/_create_group_type.html', 'openstack_dashboard/dashboards/admin/group_types/templates/group_types/update_group_type.html', 'openstack_dashboard/dashboards/admin/group_types/tests.py', 'openstack_dashboard/dashboards/admin/group_types/panel.py']",13,5764aa588cc2464313461681d6ceee000da81f37,bp/cinder-generic-volume-groups,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from django.utils.translation import ugettext_lazy as _ import horizon class GroupTypes(horizon.Panel): name = _(""Group Types"") slug = 'group_types' permissions = ( ('openstack.services.volume', 'openstack.services.volumev3'), ) policy_rules = ((""volume"", ""group:group_types_manage""),) ",,567,2
openstack%2Fswift~master~Ibf658d69fce075c76c0870a542348f220376c87a,openstack/swift,master,Ibf658d69fce075c76c0870a542348f220376c87a,Stop using duplicate dev IDs in write_fake_ring,MERGED,2019-02-08 17:42:38.000000000,2019-02-09 07:08:21.000000000,2019-02-09 07:08:21.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 17:42:38.000000000', 'files': ['test/unit/__init__.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/8a6159f67b6a3e7917e68310e4c24aae819fe187', 'message': 'Stop using duplicate dev IDs in write_fake_ring\n\nThis would cause some weird issues where get_more_nodes() would actually\nyield out something, despite us only having two drives.\n\nChange-Id: Ibf658d69fce075c76c0870a542348f220376c87a\n'}]",0,635899,8a6159f67b6a3e7917e68310e4c24aae819fe187,10,3,1,15343,,,0,"Stop using duplicate dev IDs in write_fake_ring

This would cause some weird issues where get_more_nodes() would actually
yield out something, despite us only having two drives.

Change-Id: Ibf658d69fce075c76c0870a542348f220376c87a
",git fetch https://review.opendev.org/openstack/swift refs/changes/99/635899/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/__init__.py'],1,8a6159f67b6a3e7917e68310e4c24aae819fe187,," dev2 = {'id': 1, 'zone': 0, 'device': 'sdb1', 'ip': '127.0.0.1',"," dev2 = {'id': 0, 'zone': 0, 'device': 'sdb1', 'ip': '127.0.0.1',",1,1
openstack%2Fopenstack-ansible~stable%2Frocky~I6a05d3b73838fa646a635831d655f7470df3378f,openstack/openstack-ansible,stable/rocky,I6a05d3b73838fa646a635831d655f7470df3378f,Define OSA clone dir in the openstack-ansible.sh script,MERGED,2019-02-08 12:18:39.000000000,2019-02-09 05:28:16.000000000,2019-02-09 05:28:16.000000000,"[{'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 12:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/06908a9d8470e8bd878e72732632baf12165fa6a', 'message': 'Define OSA clone dir in the openstack-ansible.sh script\n\nWhen the openstack-ansible.sh was extracted from bootstrap.sh,\nthe resolving from the OSA_CLONE_DIR was broken.\n\nDue to this, the OSA_CLONE_DIR value is empty, and the comparison\nin the openstack-ansible is always true, which is not what we\nwant for external use.\n\nChange-Id: I6a05d3b73838fa646a635831d655f7470df3378f\n(cherry picked from commit ecdd3822b6007eb804d9e3681959cc382859103f)\n'}, {'number': 2, 'created': '2019-02-08 12:20:07.000000000', 'files': ['scripts/openstack-ansible.sh', 'releasenotes/notes/osa-wrapper-path-fix-91e8c56b72c968b0.yaml', 'scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f18e56b45e25554493afa23b2e95c692fa296355', 'message': 'Define OSA clone dir in the openstack-ansible.sh script\n\nWhen the openstack-ansible.sh was extracted from bootstrap.sh,\nthe resolving from the OSA_CLONE_DIR was broken.\n\nDue to this, the OSA_CLONE_DIR value is empty, and the comparison\nin the openstack-ansible is always true, which is not what we\nwant for external use.\n\nChange-Id: I6a05d3b73838fa646a635831d655f7470df3378f\n(cherry picked from commit ecdd3822b6007eb804d9e3681959cc382859103f)\n'}]",0,635821,f18e56b45e25554493afa23b2e95c692fa296355,7,3,2,6816,,,0,"Define OSA clone dir in the openstack-ansible.sh script

When the openstack-ansible.sh was extracted from bootstrap.sh,
the resolving from the OSA_CLONE_DIR was broken.

Due to this, the OSA_CLONE_DIR value is empty, and the comparison
in the openstack-ansible is always true, which is not what we
want for external use.

Change-Id: I6a05d3b73838fa646a635831d655f7470df3378f
(cherry picked from commit ecdd3822b6007eb804d9e3681959cc382859103f)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/21/635821/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/openstack-ansible.sh', 'scripts/bootstrap-ansible.sh']",2,06908a9d8470e8bd878e72732632baf12165fa6a,fix_osa_wrapper-stable/rocky,"sed -i ""s|OSA_CLONE_DIR|${OSA_CLONE_DIR}|g"" /usr/local/bin/openstack-ansible",,2,1
openstack%2Fopenstack-ansible-os_aodh~master~I811fa941aa18352fc410f578d849a68ad0d50bfe,openstack/openstack-ansible-os_aodh,master,I811fa941aa18352fc410f578d849a68ad0d50bfe,venv: use inventory_hostname instead of ansible_hostname,MERGED,2019-02-06 14:33:38.000000000,2019-02-09 04:59:06.000000000,2019-02-09 04:59:06.000000000,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-02-06 14:33:38.000000000', 'files': ['tasks/aodh_install_source.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/798986061a0d5411c4e961cf09312b24c9319679', 'message': 'venv: use inventory_hostname instead of ansible_hostname\n\nIt is possible that the hostname of the system does not match the\none in the inventory which means that the delegate_to or the\ncomparision to inventory_hostname will fail in the tasks later.\n\nChange-Id: I811fa941aa18352fc410f578d849a68ad0d50bfe\n'}]",0,635165,798986061a0d5411c4e961cf09312b24c9319679,10,5,1,28521,,,0,"venv: use inventory_hostname instead of ansible_hostname

It is possible that the hostname of the system does not match the
one in the inventory which means that the delegate_to or the
comparision to inventory_hostname will fail in the tasks later.

Change-Id: I811fa941aa18352fc410f578d849a68ad0d50bfe
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/65/635165/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/aodh_install_source.yml'],1,798986061a0d5411c4e961cf09312b24c9319679,," venv_build_host: ""{{ inventory_hostname }}"""," venv_build_host: ""{{ ansible_hostname }}""",1,2
openstack%2Fcinder~master~I218f76e94101b8b1345667d3f44d18de1c70bfc4,openstack/cinder,master,I218f76e94101b8b1345667d3f44d18de1c70bfc4,Drop nova-multiattach job,MERGED,2018-10-01 15:45:35.000000000,2019-02-09 04:52:10.000000000,2019-02-09 04:52:10.000000000,"[{'_account_id': 2243}, {'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 9562}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}]","[{'number': 1, 'created': '2018-10-01 15:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9c345263f341f3253a87a2d8ff6e224166439eff', 'message': ""Drop nova-multiattach job\n\nThe dependent Tempest change enables the volume multiattach tests\nin the tempest-full and tempest-slow jobs, so we can drop the\nnova-multiattach job. Note that we'll still run that job on\nstable/queens and stable/rocky changes.\n\nDepends-On: https://review.openstack.org/606978\nChange-Id: I218f76e94101b8b1345667d3f44d18de1c70bfc4\n""}, {'number': 2, 'created': '2018-12-07 19:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/58da24a2351c6cddc56b68c7bb81dc0337b00c71', 'message': ""Drop nova-multiattach job\n\nThe dependent Tempest change enables the volume multiattach tests\nin the tempest-full and tempest-slow jobs, so we can drop the\nnova-multiattach job. Note that we'll still run that job on\nstable/queens and stable/rocky changes.\n\nDepends-On: https://review.openstack.org/606978\nChange-Id: I218f76e94101b8b1345667d3f44d18de1c70bfc4\n""}, {'number': 3, 'created': '2019-02-05 14:12:06.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6d899b612c4bd64986f985a1aa0b5f23667e0fd4', 'message': ""Drop nova-multiattach job\n\nThe dependent Tempest change enables the volume multiattach tests\nin the tempest-full and tempest-slow jobs, so we can drop the\nnova-multiattach job. Note that we'll still run that job on\nstable/queens and stable/rocky changes.\n\nDepends-On: https://review.openstack.org/606978\nChange-Id: I218f76e94101b8b1345667d3f44d18de1c70bfc4\n""}]",0,606985,6d899b612c4bd64986f985a1aa0b5f23667e0fd4,112,46,3,6873,,,0,"Drop nova-multiattach job

The dependent Tempest change enables the volume multiattach tests
in the tempest-full and tempest-slow jobs, so we can drop the
nova-multiattach job. Note that we'll still run that job on
stable/queens and stable/rocky changes.

Depends-On: https://review.openstack.org/606978
Change-Id: I218f76e94101b8b1345667d3f44d18de1c70bfc4
",git fetch https://review.opendev.org/openstack/cinder refs/changes/85/606985/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9c345263f341f3253a87a2d8ff6e224166439eff,drop-multiattach-job,, - nova-multiattach - nova-multiattach,0,2
openstack%2Fopenstack-ansible-os_aodh~stable%2Frocky~I8ab51d6035d06fea1ee1d7d6427be03115f41924,openstack/openstack-ansible-os_aodh,stable/rocky,I8ab51d6035d06fea1ee1d7d6427be03115f41924,Enable overriding the service setup host python interpreter,MERGED,2019-02-07 16:37:57.000000000,2019-02-09 04:24:00.000000000,2019-02-09 04:24:00.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-02-07 16:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/0f75bdd87a4ec5a79c34b688ba7d844e1c44c248', 'message': ""Enable overriding the service setup host python interpreter\n\nIn order to enable the service setup host python interpreter to\nbe changed easily, we make it a variable. This will be useful\nwhen someone sets the service setup host to be the utility\ncontainer, because we'll be able to set this var by default.\n\nDepends-On: https://review.openstack.org/632125\nChange-Id: I8ab51d6035d06fea1ee1d7d6427be03115f41924\n(cherry picked from commit c21c3ca0ef3516a138352e540d71c5fbf497b72c)\n""}, {'number': 2, 'created': '2019-02-07 16:38:10.000000000', 'files': ['tasks/aodh_service_setup.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/e0439b40c2911ebe44b492969f791f09b0d63c0c', 'message': ""Enable overriding the service setup host python interpreter\n\nIn order to enable the service setup host python interpreter to\nbe changed easily, we make it a variable. This will be useful\nwhen someone sets the service setup host to be the utility\ncontainer, because we'll be able to set this var by default.\n\nChange-Id: I8ab51d6035d06fea1ee1d7d6427be03115f41924\n(cherry picked from commit c21c3ca0ef3516a138352e540d71c5fbf497b72c)\n""}]",0,635564,e0439b40c2911ebe44b492969f791f09b0d63c0c,8,3,2,6816,,,0,"Enable overriding the service setup host python interpreter

In order to enable the service setup host python interpreter to
be changed easily, we make it a variable. This will be useful
when someone sets the service setup host to be the utility
container, because we'll be able to set this var by default.

Change-Id: I8ab51d6035d06fea1ee1d7d6427be03115f41924
(cherry picked from commit c21c3ca0ef3516a138352e540d71c5fbf497b72c)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/64/635564/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/aodh_service_setup.yml', 'defaults/main.yml']",2,0f75bdd87a4ec5a79c34b688ba7d844e1c44c248,bp/python-build-simplification-stable/rocky,"aodh_service_setup_host_python_interpreter: ""{{ openstack_service_setup_host_python_interpreter | default((aodh_service_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable'])) }}""",,2,2
openstack%2Fswift~master~I871ff743f0a30d2639b937f338dd37ce2eabd1f9,openstack/swift,master,I871ff743f0a30d2639b937f338dd37ce2eabd1f9,docs: clean up Object Versioning page,MERGED,2019-01-31 21:55:32.000000000,2019-02-09 04:13:52.000000000,2019-02-09 04:13:52.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-31 21:55:32.000000000', 'files': ['swift/common/middleware/versioned_writes.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/b2b1f96b0eb2062676f01ef46ec12f6badc73ff3', 'message': 'docs: clean up Object Versioning page\n\nBefore, there were some ugly blockquotes getting added for no good\nreason.\n\nChange-Id: I871ff743f0a30d2639b937f338dd37ce2eabd1f9\n'}]",0,634320,b2b1f96b0eb2062676f01ef46ec12f6badc73ff3,19,2,1,15343,,,0,"docs: clean up Object Versioning page

Before, there were some ugly blockquotes getting added for no good
reason.

Change-Id: I871ff743f0a30d2639b937f338dd37ce2eabd1f9
",git fetch https://review.opendev.org/openstack/swift refs/changes/20/634320/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/middleware/versioned_writes.py'],1,b2b1f96b0eb2062676f01ef46ec12f6badc73ff3,,"* ``X-History-Location`` On ``DELETE``, copy the current version of the object to the archive container, write a zero-byte ""delete marker"" object that notes when the delete took place, and delete the object from the versioned container. The object will no longer appear in container listings for the versioned container and future requests there will return ``404 Not Found``. However, the content will still be recoverable from the archive container. * ``X-Versions-Location`` On ``DELETE``, only remove the current version of the object. If any previous versions exist in the archive container, the most recent one is copied over the current version, and the copy in the archive container is deleted. As a result, if you have 5 total versions of the object, you must delete the object 5 times for that object name to start responding with ``404 Not Found``... note:: You need to add the middleware to the proxy pipeline and set ``allow_versioned_writes = True`` to use ``X-History-Location``. Setting ``allow_versions = True`` in the container server is not sufficient to enable the use of ``X-History-Location``. Upgrade considerations ++++++++++++++++++++++"," * ``X-History-Location`` On ``DELETE``, copy the current version of the object to the archive container, write a zero-byte ""delete marker"" object that notes when the delete took place, and delete the object from the versioned container. The object will no longer appear in container listings for the versioned container and future requests there will return ``404 Not Found``. However, the content will still be recoverable from the archive container. * ``X-Versions-Location`` On ``DELETE``, only remove the current version of the object. If any previous versions exist in the archive container, the most recent one is copied over the current version, and the copy in the archive container is deleted. As a result, if you have 5 total versions of the object, you must delete the object 5 times for that object name to start responding with ``404 Not Found``. .. note:: You need to add the middleware to the proxy pipeline and set ``allow_versioned_writes = True`` to use ``X-History-Location``. Setting ``allow_versions = True`` in the container server is not sufficient to enable the use of ``X-History-Location``. Upgrade considerations: +++++++++++++++++++++++",21,21
openstack%2Fnova~stable%2Fqueens~Iaf185b98c236df47e44cda0732ee0aed1fd6323d,openstack/nova,stable/queens,Iaf185b98c236df47e44cda0732ee0aed1fd6323d,Skip checking of target_dev for vhostuser,MERGED,2019-01-31 14:00:16.000000000,2019-02-09 04:13:43.000000000,2019-02-09 04:13:43.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-01-31 14:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f1a66374b6cf87a7172dcd2d364c18d8e35fb7e3', 'message': 'Skip checking of target_dev for vhostuser\n\nNova skips detaching of ovs dpdk interfaces\nthinking that it\'s already detached because\nget_interface_by_cfg() return no inteface.\nThis is due to _set_config_VIFVHostUser()\nnot setting target_dev in configuration while\nLibvirtConfigGuestInterface sets target_dev\nif tag ""target"" is found in the interface.\n\nAs target_dev is not a valid value for\nvhostuser interface, it will not be checked\nfor vhostuser type.\n\nChange-Id: Iaf185b98c236df47e44cda0732ee0aed1fd6323d\nCloses-Bug: #1807340\n(cherry picked from commit a19c38a6ab13cdf2509a1f9f9d39c7f0a70ba121)\n'}, {'number': 2, 'created': '2019-01-31 14:01:23.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6d38ba1589e58d13113b1a2e3549927c091ee17c', 'message': 'Skip checking of target_dev for vhostuser\n\nNova skips detaching of ovs dpdk interfaces\nthinking that it\'s already detached because\nget_interface_by_cfg() return no inteface.\nThis is due to _set_config_VIFVHostUser()\nnot setting target_dev in configuration while\nLibvirtConfigGuestInterface sets target_dev\nif tag ""target"" is found in the interface.\n\nAs target_dev is not a valid value for\nvhostuser interface, it will not be checked\nfor vhostuser type.\n\nChange-Id: Iaf185b98c236df47e44cda0732ee0aed1fd6323d\nCloses-Bug: #1807340\n(cherry picked from commit a19c38a6ab13cdf2509a1f9f9d39c7f0a70ba121)\n(cherry picked from commit 1ac56a403876fa109385ef6281c525335a613b34)\n'}]",1,634236,6d38ba1589e58d13113b1a2e3549927c091ee17c,13,7,2,27794,,,0,"Skip checking of target_dev for vhostuser

Nova skips detaching of ovs dpdk interfaces
thinking that it's already detached because
get_interface_by_cfg() return no inteface.
This is due to _set_config_VIFVHostUser()
not setting target_dev in configuration while
LibvirtConfigGuestInterface sets target_dev
if tag ""target"" is found in the interface.

As target_dev is not a valid value for
vhostuser interface, it will not be checked
for vhostuser type.

Change-Id: Iaf185b98c236df47e44cda0732ee0aed1fd6323d
Closes-Bug: #1807340
(cherry picked from commit a19c38a6ab13cdf2509a1f9f9d39c7f0a70ba121)
(cherry picked from commit 1ac56a403876fa109385ef6281c525335a613b34)
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/634236/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py']",2,f1a66374b6cf87a7172dcd2d364c18d8e35fb7e3,bug/1807340, # NOTE(arches) Skip checking target_dev for vhostuser # vif type; target_dev is not a valid value for vhostuser. (cfg.net_type == 'vhostuser' or interface.target_dev == cfg.target_dev) and, interface.target_dev == cfg.target_dev and,32,1
openstack%2Fnova~stable%2Fqueens~Iaa47304755db66a834dde38dcd55cc259c1008a3,openstack/nova,stable/queens,Iaa47304755db66a834dde38dcd55cc259c1008a3,Send context.global_id on neutron calls,MERGED,2018-12-28 05:52:34.000000000,2019-02-09 04:13:36.000000000,2019-02-09 04:13:36.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9373}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 25113}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-12-28 05:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb87fbe9771f83968951fae1d45574e49115ee1c', 'message': 'Send context.global_id on neutron calls\n\nIn I866b8c6593c76c089da6bed55cf863ac556c9a8e nova sends global_id\non neutron calls, but in I41724a612a5f3eabd504f3eaa9d2f9d141ca3f69\nit changed to global_request_id which may be None.\n\nCloses-Bug:#1809943\n\nChange-Id: Iaa47304755db66a834dde38dcd55cc259c1008a3\n'}, {'number': 2, 'created': '2019-01-15 17:01:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c42e705eb5f5573b049bfe89d469c1f351b013c', 'message': 'Send context.global_id on neutron calls\n\nIn I866b8c6593c76c089da6bed55cf863ac556c9a8e nova sends global_id\non neutron calls, but in I41724a612a5f3eabd504f3eaa9d2f9d141ca3f69\nit changed to global_request_id which may be None.\n\nA simple unit test wrinkle is added to avoid future regressions.\n\nCloses-Bug:#1809943\n\nChange-Id: Iaa47304755db66a834dde38dcd55cc259c1008a3\n(cherry picked from commit 2672fa3f81495bcaba2d0540387f15034758ea92)\n(cherry picked from commit 28759b4221b2987779e85b08a76b97755ce03c9c)\n'}, {'number': 3, 'created': '2019-01-18 14:18:13.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/dcd7a30c9548512eaee91b96d0ed0f4b18bcdbff', 'message': 'Send context.global_id on neutron calls\n\nIn I866b8c6593c76c089da6bed55cf863ac556c9a8e nova sends global_id\non neutron calls, but in I41724a612a5f3eabd504f3eaa9d2f9d141ca3f69\nit changed to global_request_id which may be None.\n\nA simple unit test wrinkle is added to avoid future regressions.\n\nCloses-Bug:#1809943\n\nChange-Id: Iaa47304755db66a834dde38dcd55cc259c1008a3\n(cherry picked from commit a31157c527ae88af2e8c283e8b5156e9ace55dfa)\n(cherry picked from commit 6e1120ae3025a532ff8957a6952f445152a69967)\n'}]",3,627604,dcd7a30c9548512eaee91b96d0ed0f4b18bcdbff,35,12,3,27581,,,0,"Send context.global_id on neutron calls

In I866b8c6593c76c089da6bed55cf863ac556c9a8e nova sends global_id
on neutron calls, but in I41724a612a5f3eabd504f3eaa9d2f9d141ca3f69
it changed to global_request_id which may be None.

A simple unit test wrinkle is added to avoid future regressions.

Closes-Bug:#1809943

Change-Id: Iaa47304755db66a834dde38dcd55cc259c1008a3
(cherry picked from commit a31157c527ae88af2e8c283e8b5156e9ace55dfa)
(cherry picked from commit 6e1120ae3025a532ff8957a6952f445152a69967)
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/627604/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/neutronv2/api.py'],1,bb87fbe9771f83968951fae1d45574e49115ee1c,bug/1809943, global_request_id=context.global_id), global_request_id=context.global_request_id),1,1
openstack%2Fnova~stable%2Fqueens~Ib1799feebbd8f4b0f389168939df7e5e90c8add1,openstack/nova,stable/queens,Ib1799feebbd8f4b0f389168939df7e5e90c8add1,Don't call begin_detaching when detaching volume from shelved vm,MERGED,2019-01-30 14:27:04.000000000,2019-02-09 04:13:30.000000000,2019-02-09 04:13:30.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-01-30 14:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1aca6d6b4e0badc4dfcc0f5fcc46d39f0bf64576', 'message': ""Don't call begin_detaching when detaching volume from shelved vm\n\nWhen shelve an instance, if the instance has volume attached,\nwith new attach/detach flow, we will delete the old attachment\nand create a new attachment, the volume status will be ``reserved``.\n\nIf the user tries to detach these volumes, it fails due to that\nCinder does not allow a begin_detaching() call on a `reserved` volume.\n\nActually for shelved instances, we can just skip this step and\ndirectly detach it.\n\nChange-Id: Ib1799feebbd8f4b0f389168939df7e5e90c8add1\ncloses-bug: #1808089\n(cherry picked from commit 41b982c9feec3105247bc72d23d1470bcabc3a0f)\n""}, {'number': 2, 'created': '2019-01-31 14:04:12.000000000', 'files': ['nova/tests/unit/compute/test_compute.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b8704a1d1cfe0b1fecfb21fb9373b0659f9a611d', 'message': ""Don't call begin_detaching when detaching volume from shelved vm\n\nWhen shelve an instance, if the instance has volume attached,\nwith new attach/detach flow, we will delete the old attachment\nand create a new attachment, the volume status will be ``reserved``.\n\nIf the user tries to detach these volumes, it fails due to that\nCinder does not allow a begin_detaching() call on a `reserved` volume.\n\nActually for shelved instances, we can just skip this step and\ndirectly detach it.\n\nChange-Id: Ib1799feebbd8f4b0f389168939df7e5e90c8add1\ncloses-bug: #1808089\n(cherry picked from commit 41b982c9feec3105247bc72d23d1470bcabc3a0f)\n(cherry picked from commit e7dc43bf848105fdd24b89216676e3a56f1f6689)\n""}]",1,633962,b8704a1d1cfe0b1fecfb21fb9373b0659f9a611d,18,7,2,15888,,,0,"Don't call begin_detaching when detaching volume from shelved vm

When shelve an instance, if the instance has volume attached,
with new attach/detach flow, we will delete the old attachment
and create a new attachment, the volume status will be ``reserved``.

If the user tries to detach these volumes, it fails due to that
Cinder does not allow a begin_detaching() call on a `reserved` volume.

Actually for shelved instances, we can just skip this step and
directly detach it.

Change-Id: Ib1799feebbd8f4b0f389168939df7e5e90c8add1
closes-bug: #1808089
(cherry picked from commit 41b982c9feec3105247bc72d23d1470bcabc3a0f)
(cherry picked from commit e7dc43bf848105fdd24b89216676e3a56f1f6689)
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/633962/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py']",3,1aca6d6b4e0badc4dfcc0f5fcc46d39f0bf64576,bug/1808089," # The begin_detaching() call only works with in-use volumes, # which will not be the case for volumes attached to a shelved # offloaded server via the attachments API since those volumes # will have `reserved` status. if not bdms[0].attachment_id: try: self.volume_api.begin_detaching(context, volume['id']) except exception.InvalidInput as exc: raise exception.InvalidVolume(reason=exc.format_message())"," try: self.volume_api.begin_detaching(context, volume['id']) except exception.InvalidInput as exc: raise exception.InvalidVolume(reason=exc.format_message())",12,11
openstack%2Fopenstack-ansible-os_designate~master~I8acb48e8a3fe9721b97be8a87c7be28974642e72,openstack/openstack-ansible-os_designate,master,I8acb48e8a3fe9721b97be8a87c7be28974642e72,"Revert ""Get the adminuri variable from adminurl variable""",MERGED,2019-01-31 21:57:26.000000000,2019-02-09 04:06:45.000000000,2019-02-09 04:06:45.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 26405}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-01-31 21:57:26.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/34fdbcf9b0e4c17318959520a35ff9df18fbe974', 'message': 'Revert ""Get the adminuri variable from adminurl variable""\n\nThis change broke the admin URL because there is no variable\nwith the value designate_service_adminurl.\n\nThis reverts commit 2950db130db08b4c6662551d0d6e24ac8ba0bb1a.\n\nChange-Id: I8acb48e8a3fe9721b97be8a87c7be28974642e72\n'}]",0,634321,34fdbcf9b0e4c17318959520a35ff9df18fbe974,8,6,1,1004,,,0,"Revert ""Get the adminuri variable from adminurl variable""

This change broke the admin URL because there is no variable
with the value designate_service_adminurl.

This reverts commit 2950db130db08b4c6662551d0d6e24ac8ba0bb1a.

Change-Id: I8acb48e8a3fe9721b97be8a87c7be28974642e72
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/21/634321/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,34fdbcf9b0e4c17318959520a35ff9df18fbe974,clean-url-vars,"designate_service_adminuri_proto: ""{{ openstack_service_adminuri_proto | default(designate_service_proto) }}""designate_service_adminuri: ""{{ designate_service_adminuri_proto }}://{{ internal_lb_vip_address }}:{{ designate_service_port }}""","designate_service_adminuri: ""{{ (designate_service_adminurl | default('http://localhost')) | netorigin }}""",2,1
openstack%2Fopenstack-ansible-tests~master~Ie3d8fb921dfedff0852b630a0a0af17b97c1bffa,openstack/openstack-ansible-tests,master,Ie3d8fb921dfedff0852b630a0a0af17b97c1bffa,Add mistral_install_method for distro installations,MERGED,2019-02-05 18:52:39.000000000,2019-02-09 04:05:27.000000000,2019-02-09 04:05:27.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-02-05 18:52:39.000000000', 'files': ['test-distro_install-vars.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/c94ab7685b7662e5c6a220eb4f353639a42ce463', 'message': 'Add mistral_install_method for distro installations\n\nThis patch adds mistral_install_method of distro in the extra\nvars file that we use for testing in order for tests to properly\nrun for Mistral.\n\nChange-Id: Ie3d8fb921dfedff0852b630a0a0af17b97c1bffa\n'}]",0,635007,c94ab7685b7662e5c6a220eb4f353639a42ce463,7,3,1,1004,,,0,"Add mistral_install_method for distro installations

This patch adds mistral_install_method of distro in the extra
vars file that we use for testing in order for tests to properly
run for Mistral.

Change-Id: Ie3d8fb921dfedff0852b630a0a0af17b97c1bffa
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/07/635007/1 && git format-patch -1 --stdout FETCH_HEAD,['test-distro_install-vars.yml'],1,c94ab7685b7662e5c6a220eb4f353639a42ce463,,mistral_install_method: distro,,1,0
openstack%2Fopenstack-ansible-os_ceilometer~stable%2Frocky~I64d63352a7a8afab86deb86cd3e6d5e1f6387d08,openstack/openstack-ansible-os_ceilometer,stable/rocky,I64d63352a7a8afab86deb86cd3e6d5e1f6387d08,Fixes gnocchi resource-type list being empty after setup,MERGED,2019-02-06 15:23:14.000000000,2019-02-09 04:00:21.000000000,2019-02-09 04:00:21.000000000,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-02-06 15:23:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/39ed34791e5330924a3e7440c3263fbc11bb548f', 'message': ""Fixes gnocchi resource-type list being empty after setup\n\nWe don't have /etc/ceilometer/gnocchi_resources.yaml by default,\nand this file is not currently distributed.\nSo after gnocchi and ceilometer setup, ceilometer-upgrade is not runned,\nwhich results in empty resource-type.\n\nThis patch checks gnocchi_resources.yaml in it's default location\nrather than in etc.\n\nChange-Id: I64d63352a7a8afab86deb86cd3e6d5e1f6387d08\n(cherry picked from commit 31378141ab8cecc37624fe93d23eddc646f2f084)\n""}, {'number': 2, 'created': '2019-02-07 10:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/816b0acaf8d15bcd664bda9af6509d4817d0488b', 'message': ""Fixes gnocchi resource-type list being empty after setup\n\nWe don't have /etc/ceilometer/gnocchi_resources.yaml by default,\nand this file is not currently distributed.\nSo after gnocchi and ceilometer setup, ceilometer-upgrade is not runned,\nwhich results in empty resource-type.\n\nThis patch checks gnocchi_resources.yaml in it's default location\nrather than in etc.\n\nChange-Id: I64d63352a7a8afab86deb86cd3e6d5e1f6387d08\n(cherry picked from commit 31378141ab8cecc37624fe93d23eddc646f2f084)\n""}, {'number': 3, 'created': '2019-02-07 18:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/89abb3aff271ef2cee5a059ffbb2b2f4b0ccf78a', 'message': ""Fixes gnocchi resource-type list being empty after setup\n\nWe don't have /etc/ceilometer/gnocchi_resources.yaml by default,\nand this file is not currently distributed.\nSo after gnocchi and ceilometer setup, ceilometer-upgrade is not runned,\nwhich results in empty resource-type.\n\nThis patch checks gnocchi_resources.yaml in it's default location\nrather than in etc.\n\nChange-Id: I64d63352a7a8afab86deb86cd3e6d5e1f6387d08\n(cherry picked from commit 31378141ab8cecc37624fe93d23eddc646f2f084)\n""}, {'number': 4, 'created': '2019-02-07 19:13:39.000000000', 'files': ['vars/source_install.yml', 'tasks/ceilometer_db_setup.yml', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'vars/ubuntu.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/6aca261a7c3ed5e6a7561cb66d8956df89657b78', 'message': ""Fixes gnocchi resource-type list being empty after setup\n\nWe don't have /etc/ceilometer/gnocchi_resources.yaml by default,\nand this file is not currently distributed.\nSo after gnocchi and ceilometer setup, ceilometer-upgrade is not runned,\nwhich results in empty resource-type.\n\nThis patch checks gnocchi_resources.yaml in it's default location\nrather than in etc.\n\nChange-Id: I64d63352a7a8afab86deb86cd3e6d5e1f6387d08\n(cherry picked from commit 31378141ab8cecc37624fe93d23eddc646f2f084)\n""}]",0,635189,6aca261a7c3ed5e6a7561cb66d8956df89657b78,17,5,4,28619,,,0,"Fixes gnocchi resource-type list being empty after setup

We don't have /etc/ceilometer/gnocchi_resources.yaml by default,
and this file is not currently distributed.
So after gnocchi and ceilometer setup, ceilometer-upgrade is not runned,
which results in empty resource-type.

This patch checks gnocchi_resources.yaml in it's default location
rather than in etc.

Change-Id: I64d63352a7a8afab86deb86cd3e6d5e1f6387d08
(cherry picked from commit 31378141ab8cecc37624fe93d23eddc646f2f084)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/89/635189/3 && git format-patch -1 --stdout FETCH_HEAD,['tasks/ceilometer_db_setup.yml'],1,39ed34791e5330924a3e7440c3263fbc11bb548f,," path: ""{{ ceilometer_lib_dir }}/ceilometer/publisher/data/gnocchi_resources.yaml"""," path: ""/etc/ceilometer/gnocchi_resources.yaml""",1,1
openstack%2Fnova~stable%2Fqueens~I8355372da93b93cc1c7f7a1501af0fbd01eee615,openstack/nova,stable/queens,I8355372da93b93cc1c7f7a1501af0fbd01eee615,Removing pip-missing-reqs from default tox jobs,MERGED,2019-01-07 13:09:26.000000000,2019-02-09 03:57:55.000000000,2019-02-09 03:57:54.000000000,"[{'_account_id': 7}, {'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-01-07 13:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f2a3711dc1e410075c169fa3c67290ebb4989616', 'message': 'Removing pip-missing-reqs from default tox jobs\n\nChange I1b02384494ae9f440b72b98d9ae5f31d88dc8967 removed the\ntox env entry for pip-missing-reqs but did not remove the job\nfrom the envlist.\n\nThis means that if you run tox with no args it will run that job,\nusing the default venv setup with takes time but runs no tests.\n\nChange-Id: I8355372da93b93cc1c7f7a1501af0fbd01eee615\n'}, {'number': 2, 'created': '2019-01-07 13:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/77f6f921aad1512b844b04ad3b282108d444ec38', 'message': 'Removing pip-missing-reqs from default tox jobs\n\nChange I1b02384494ae9f440b72b98d9ae5f31d88dc8967 removed the\ntox env entry for pip-missing-reqs but did not remove the job\nfrom the envlist.\n\nThis means that if you run tox with no args it will run that job,\nusing the default venv setup with takes time but runs no tests.\n\nChange-Id: I8355372da93b93cc1c7f7a1501af0fbd01eee615\n(cherry picked from commit a8253805dffb5598c311c23b854f987a18e69a15)\n'}, {'number': 3, 'created': '2019-01-16 15:27:26.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/187ad17728051971583cdc8ff03f9f464b26f30b', 'message': 'Removing pip-missing-reqs from default tox jobs\n\nChange I1b02384494ae9f440b72b98d9ae5f31d88dc8967 removed the\ntox env entry for pip-missing-reqs but did not remove the job\nfrom the envlist.\n\nThis means that if you run tox with no args it will run that job,\nusing the default venv setup with takes time but runs no tests.\n\nChange-Id: I8355372da93b93cc1c7f7a1501af0fbd01eee615\n(cherry picked from commit a8253805dffb5598c311c23b854f987a18e69a15)\n'}]",0,628956,187ad17728051971583cdc8ff03f9f464b26f30b,16,15,3,20676,,,0,"Removing pip-missing-reqs from default tox jobs

Change I1b02384494ae9f440b72b98d9ae5f31d88dc8967 removed the
tox env entry for pip-missing-reqs but did not remove the job
from the envlist.

This means that if you run tox with no args it will run that job,
using the default venv setup with takes time but runs no tests.

Change-Id: I8355372da93b93cc1c7f7a1501af0fbd01eee615
(cherry picked from commit a8253805dffb5598c311c23b854f987a18e69a15)
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/628956/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f2a3711dc1e410075c169fa3c67290ebb4989616,,"envlist = py{35,27},functional,pep8","envlist = py{35,27},functional,pep8,pip-missing-reqs",1,1
openstack%2Fnova~stable%2Fqueens~I1b02384494ae9f440b72b98d9ae5f31d88dc8967,openstack/nova,stable/queens,I1b02384494ae9f440b72b98d9ae5f31d88dc8967,Remove stale pip-missing-reqs tox test,MERGED,2019-01-03 09:23:34.000000000,2019-02-09 03:52:57.000000000,2019-02-09 03:52:57.000000000,"[{'_account_id': 7}, {'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 20676}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-01-03 09:23:34.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/051a6690cee89121fe1ea5e34598432dd197613a', 'message': 'Remove stale pip-missing-reqs tox test\n\npip_missing_reqs tool is no longer maintained and has broken with\nrelease 10 of pip\n\nRefer to:\n http://lists.openstack.org/pipermail/openstack-dev/2018-April/130027.html\n\nChange-Id: I1b02384494ae9f440b72b98d9ae5f31d88dc8967\n(cherry picked from commit 35759d5e4bff7352caf44b4690ebbf2bbb453e3c)\n'}]",3,628128,051a6690cee89121fe1ea5e34598432dd197613a,16,17,1,20676,,,0,"Remove stale pip-missing-reqs tox test

pip_missing_reqs tool is no longer maintained and has broken with
release 10 of pip

Refer to:
 http://lists.openstack.org/pipermail/openstack-dev/2018-April/130027.html

Change-Id: I1b02384494ae9f440b72b98d9ae5f31d88dc8967
(cherry picked from commit 35759d5e4bff7352caf44b4690ebbf2bbb453e3c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/628128/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,051a6690cee89121fe1ea5e34598432dd197613a,pip-check-reqs_removal-stable/queens,,"[testenv:pip-missing-reqs] # do not install test-requirements as that will pollute the virtualenv for # determining missing packages # this also means that pip-missing-reqs must be installed separately, outside # of the requirements.txt files deps = pip_check_reqs commands=pip-missing-reqs -d --ignore-file=nova/tests/* --ignore-file=nova/test.py nova ",0,8
openstack%2Fopenstack-ansible-plugins~master~I5bfa14e0b7d97eb75756b7e40c93f48ae13fe087,openstack/openstack-ansible-plugins,master,I5bfa14e0b7d97eb75756b7e40c93f48ae13fe087,Prevent interface map from being built for neutron_server container,MERGED,2019-02-06 15:19:59.000000000,2019-02-09 03:51:22.000000000,2019-02-09 03:51:22.000000000,"[{'_account_id': 7353}, {'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-02-06 15:19:59.000000000', 'files': ['library/provider_networks'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/a5f35327001ad23e3681e3e1c4c0c029deca7480', 'message': 'Prevent interface map from being built for neutron_server container\n\nThis patch updates the provider_network library by removing neutron_server\nfrom the list of groups that require provider interface maps, as\nneutron_server is not in-path of instance traffic, and all interface mappings\nshould exist only where network agents are configured. Removing this logic\nwill allow container_interface to become an optional parameter for provider\nnetwork definitions.\n\nChange-Id: I5bfa14e0b7d97eb75756b7e40c93f48ae13fe087\n'}]",0,635188,a5f35327001ad23e3681e3e1c4c0c029deca7480,9,4,1,16011,,,0,"Prevent interface map from being built for neutron_server container

This patch updates the provider_network library by removing neutron_server
from the list of groups that require provider interface maps, as
neutron_server is not in-path of instance traffic, and all interface mappings
should exist only where network agents are configured. Removing this logic
will allow container_interface to become an optional parameter for provider
network definitions.

Change-Id: I5bfa14e0b7d97eb75756b7e40c93f48ae13fe087
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/88/635188/1 && git format-patch -1 --stdout FETCH_HEAD,['library/provider_networks'],1,a5f35327001ad23e3681e3e1c4c0c029deca7480,, ).intersection(group_names)," ).intersection(group_names) or ""neutron_server"" in group_names",1,2
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Frocky~I1d3b7990e462140fdb402883f8d25422eafca66b,openstack/openstack-ansible-lxc_hosts,stable/rocky,I1d3b7990e462140fdb402883f8d25422eafca66b,Increase LXC container default shutdown delay,MERGED,2019-01-29 15:51:53.000000000,2019-02-09 03:45:13.000000000,2019-02-09 03:45:13.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29638}]","[{'number': 1, 'created': '2019-01-29 15:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/9965144ce0c98a2ee78818c9228e3ab234d9e04c', 'message': 'Increase LXC container default shutdown delay\n\nIncrease container shutdown delay before force-killing to avoid db\ncorruption after controller reboots\nParameterize SHUTDOWNDELAY envvar as lxc_container_shutdown_delay\nwith default value 60 seconds\nRename lxc.default.j2 template to lxc-net.default.j2 to align with\ndestination config file name lxc-net\nAdd new lxc.default.j2 template to use the lxc_container_shutdown_delay\nvariable and allow user-defined value\n\nRelated-Bug: 1806696\n\nChange-Id: I1d3b7990e462140fdb402883f8d25422eafca66b\n'}, {'number': 2, 'created': '2019-01-29 15:55:44.000000000', 'files': ['tasks/lxc_post_install.yml', 'templates/lxc-net.default.j2', 'templates/lxc.default.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/3138838ff8f169ae0cf413c459785d5f20306f33', 'message': 'Increase LXC container default shutdown delay\n\nIncrease container shutdown delay before force-killing to avoid db\ncorruption after controller reboots\nParameterize SHUTDOWNDELAY envvar as lxc_container_shutdown_delay\nwith default value 60 seconds\nRename lxc.default.j2 template to lxc-net.default.j2 to align with\ndestination config file name lxc-net\nAdd new lxc.default.j2 template to use the lxc_container_shutdown_delay\nvariable and allow user-defined value\n\nRelated-Bug: 1806696\n\nChange-Id: I1d3b7990e462140fdb402883f8d25422eafca66b\n(cherry picked from commit d0d9384aee36277e899aa664bc9f64835c33d6c4)\n'}]",0,633767,3138838ff8f169ae0cf413c459785d5f20306f33,8,4,2,4128,,,0,"Increase LXC container default shutdown delay

Increase container shutdown delay before force-killing to avoid db
corruption after controller reboots
Parameterize SHUTDOWNDELAY envvar as lxc_container_shutdown_delay
with default value 60 seconds
Rename lxc.default.j2 template to lxc-net.default.j2 to align with
destination config file name lxc-net
Add new lxc.default.j2 template to use the lxc_container_shutdown_delay
variable and allow user-defined value

Related-Bug: 1806696

Change-Id: I1d3b7990e462140fdb402883f8d25422eafca66b
(cherry picked from commit d0d9384aee36277e899aa664bc9f64835c33d6c4)
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/67/633767/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/lxc_post_install.yml', 'templates/lxc-net.default.j2', 'templates/lxc.default.j2', 'defaults/main.yml']",4,9965144ce0c98a2ee78818c9228e3ab234d9e04c,bug/1806696,# LXC container shutdown delay before force-killing running container lxc_container_shutdown_delay: 60 ,,45,11
openstack%2Fopenstack-ansible-os_neutron~master~I2ece43cd6dfa71556dac99d01ac4e60411b4fc70,openstack/openstack-ansible-os_neutron,master,I2ece43cd6dfa71556dac99d01ac4e60411b4fc70,Fix README.rst,MERGED,2019-01-03 02:17:13.000000000,2019-02-09 03:40:37.000000000,2019-02-09 03:40:37.000000000,"[{'_account_id': 7353}, {'_account_id': 21883}, {'_account_id': 22348}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-01-03 02:17:13.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/7006960fab5a3b71f9499bb5062557f95f5d4fc6', 'message': 'Fix README.rst\n\nChange-Id: I2ece43cd6dfa71556dac99d01ac4e60411b4fc70\n'}]",0,628085,7006960fab5a3b71f9499bb5062557f95f5d4fc6,8,4,1,29423,,,0,"Fix README.rst

Change-Id: I2ece43cd6dfa71556dac99d01ac4e60411b4fc70
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/85/628085/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,7006960fab5a3b71f9499bb5062557f95f5d4fc6,, The project bug tracker is located at: https://bugs.launchpad.net/openstack-ansible,,3,0
openstack%2Fopenstack-ansible-os_tempest~master~I34a3603f0f8406d3e3f5fcc5b8b74825e5e1b9d1,openstack/openstack-ansible-os_tempest,master,I34a3603f0f8406d3e3f5fcc5b8b74825e5e1b9d1,Improve overview subpage,MERGED,2019-01-30 12:58:52.000000000,2019-02-09 03:38:36.000000000,2019-02-09 03:38:36.000000000,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 27379}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-01-30 12:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/01a214b44cd2a37b4923118b37b9aa3473c8b44a', 'message': 'Improve overview subpage\n\nThe patch adds some information about the reason why the roles\nexists, what we want to achieve by the role and what are the\nadvantages of using it.\n\nChange-Id: I34a3603f0f8406d3e3f5fcc5b8b74825e5e1b9d1\n'}, {'number': 2, 'created': '2019-01-30 13:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/e2adb2e918e58cdd3c91f32dbe51a660cfdef316', 'message': 'Improve overview subpage\n\nThe patch adds some information about the reason why the roles\nexists, what we want to achieve by the role and what are the\nadvantages of using it.\n\nChange-Id: I34a3603f0f8406d3e3f5fcc5b8b74825e5e1b9d1\n'}, {'number': 3, 'created': '2019-02-01 08:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/a4af4a47f29f0616d1cbbe89ebbad7018c9380b0', 'message': 'Improve overview subpage\n\nThe patch adds some information about the reason why the role\nexists, what we want to achieve by the role and what are the\nadvantages of using it.\n\nChange-Id: I34a3603f0f8406d3e3f5fcc5b8b74825e5e1b9d1\n'}, {'number': 4, 'created': '2019-02-01 19:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/0365b2ce76240b2ae421919e53d9ee9296ce09bb', 'message': 'Improve overview subpage\n\nThe patch adds some information about the reason why the role\nexists, what we want to achieve by the role and what are the\nadvantages of using it.\n\nChange-Id: I34a3603f0f8406d3e3f5fcc5b8b74825e5e1b9d1\n'}, {'number': 5, 'created': '2019-02-04 09:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/904d12d2bd51a54135287aa7146d818be43c0e8e', 'message': 'Improve overview subpage\n\nThe patch adds some information about the reason why the role\nexists, what we want to achieve by the role and what are the\nadvantages of using it.\n\nChange-Id: I34a3603f0f8406d3e3f5fcc5b8b74825e5e1b9d1\n'}, {'number': 6, 'created': '2019-02-07 07:04:04.000000000', 'files': ['doc/source/overview.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/070f2945a68075325a23cd34a475afe95608d7e4', 'message': 'Improve overview subpage\n\nThe patch adds some information about the reason why the role\nexists, what we want to achieve by the role and what are the\nadvantages of using it.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/490\n\nChange-Id: I34a3603f0f8406d3e3f5fcc5b8b74825e5e1b9d1\n'}]",8,633934,070f2945a68075325a23cd34a475afe95608d7e4,27,9,6,22873,,,0,"Improve overview subpage

The patch adds some information about the reason why the role
exists, what we want to achieve by the role and what are the
advantages of using it.

https://tree.taiga.io/project/tripleo-ci-board/task/490

Change-Id: I34a3603f0f8406d3e3f5fcc5b8b74825e5e1b9d1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/34/633934/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/overview.rst'],1,01a214b44cd2a37b4923118b37b9aa3473c8b44a,doc," `Tempest <https://docs.openstack.org/tempest/latest/>`_ is the testing framework consisting a set of integration tests and framework to test any deployed OpenStack cloud. os_tempest mission ------------------ To provide a re-usable ansible role which installs, configure and run Tempest. Why? ---- The reason why we have come up with this idea is because every OpenStack project uses playbooks and shell scripts to install, run and configure Tempest which are only slightly different but the purpose is the same. When every project uses its own way how to use Tempest it's really harder to cooperate (cross projects) together to solve any issues which may occur. That's where the re-usability steps in. By using the same role we can faster react to any issues which occurred in one project and may have an affect on other one. Advanteges ---------- * maintenance of only one set of playbooks and scripts * heads-up for issues related to particular tests * bigger focus on development and maintenance of the one set of playbooks and scripts * decreasing of time consumption needed to install, configure and run Tempest for new OpenStack projects - they don't have to write they CI Tempest procedures from scratch",,39,0
openstack%2Fopenstack-ansible-lxc_hosts~master~I352d2fb269ea00e2d92b5012328fc503a503fb0a,openstack/openstack-ansible-lxc_hosts,master,I352d2fb269ea00e2d92b5012328fc503a503fb0a,Switch to using mirrors instead of direct download,MERGED,2019-02-02 22:14:05.000000000,2019-02-09 03:35:44.000000000,2019-02-09 03:35:44.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-02-02 22:14:05.000000000', 'files': ['tasks/lxc_install_dnf.yml', 'tasks/lxc_install_yum.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/e6b194d8b5047f5c21273abf2031d27cb5432a5c', 'message': 'Switch to using mirrors instead of direct download\n\nThe dl.fp.o domains point to direct download servers which might not be\nthe best place to go to when we can hit a local mirror instead.\n\nChange-Id: I352d2fb269ea00e2d92b5012328fc503a503fb0a\n'}]",0,634581,e6b194d8b5047f5c21273abf2031d27cb5432a5c,8,4,1,1004,,,0,"Switch to using mirrors instead of direct download

The dl.fp.o domains point to direct download servers which might not be
the best place to go to when we can hit a local mirror instead.

Change-Id: I352d2fb269ea00e2d92b5012328fc503a503fb0a
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/81/634581/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/lxc_install_dnf.yml', 'tasks/lxc_install_yum.yml']",2,e6b194d8b5047f5c21273abf2031d27cb5432a5c,," key: ""http://download.fedoraproject.org/pub/epel/RPM-GPG-KEY-EPEL-7"""," key: ""http://dl.fedoraproject.org/pub/epel/RPM-GPG-KEY-EPEL-7""",2,2
openstack%2Fpuppet-tripleo~master~I79c1080605611c5c7748a28d2afcc9c7275a2e5d,openstack/puppet-tripleo,master,I79c1080605611c5c7748a28d2afcc9c7275a2e5d,cell_v2 multi-cell,MERGED,2018-09-07 00:10:26.000000000,2019-02-09 03:27:37.000000000,2019-02-09 03:27:37.000000000,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-07 00:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/530436cbe1104e04d2cf531d18f00cf19c288fa3', 'message': ""WIP: cell_v2 multi-cell POC\n\n- move nova dbsync from nova-api to nova-conductor\n  - nova db is tightly coupled to conductor/computes, not api\n  - we don't have a nova-api services on a CellController\n- use IPs instead of hostname for transport_uri for now\n  - hack until I figure out how to update /etc/hosts on main stack\n\nbp tripleo-multicell-basic\n\nChange-Id: I79c1080605611c5c7748a28d2afcc9c7275a2e5d\n""}, {'number': 2, 'created': '2018-09-09 03:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d00087706284363e72384ed392c79edfc234cb7c', 'message': ""WIP: cell_v2 multi-cell POC\n\n- move nova dbsync from nova-api to nova-conductor\n  - nova db is more tightly coupled to conductor/computes\n  - we don't have a nova-api services on a CellController\n  - super-conductor on Controller will sync cell0 db\n- duplicate service node name hiera to for transport_urls on cell stack\n  - nova -> oslo_messaging_rpc_cell_node_names\n  - neutron agent -> oslo_messaging_rpc_node_names\n\nExample in https://github.com/olliewalsh/split/tree/fix_computes\n\nbp tripleo-multicell-basic\n\nChange-Id: I79c1080605611c5c7748a28d2afcc9c7275a2e5d\n""}, {'number': 3, 'created': '2019-01-29 09:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/34180fbc6d4d1a0aacdba045b5dc5ca70232b89c', 'message': ""WIP: cell_v2 multi-cell POC\n\n- move nova dbsync from nova-api to nova-conductor\n  - nova db is more tightly coupled to conductor/computes\n  - we don't have a nova-api services on a CellController\n  - super-conductor on Controller will sync cell0 db\n- duplicate service node name hiera to for transport_urls on cell stack\n  - nova -> oslo_messaging_rpc_cell_node_names\n  - neutron agent -> oslo_messaging_rpc_node_names\n\nExample in https://github.com/olliewalsh/split/tree/fix_computes\n\nbp tripleo-multicell-basic\n\nChange-Id: I79c1080605611c5c7748a28d2afcc9c7275a2e5d\n""}, {'number': 4, 'created': '2019-02-04 16:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/182107a72b433764d3f16c9258f95c5693bf5fb0', 'message': ""cell_v2 multi-cell\n\n- move nova dbsync from nova-api to nova-conductor\n  - nova db is more tightly coupled to conductor/computes\n  - we don't have a nova-api services on a CellController\n  - super-conductor on Controller will sync cell0 db\n- when additional cell\n  - duplicate service node name hiera for transport_urls on cell stack\n  - nova -> oslo_messaging_rpc_cell_node_names\n  - neutron agent -> oslo_messaging_rpc_node_names\n  - rabbit -> rabbit nodes are cell controllers\n\nbp tripleo-multicell-basic\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\n\nChange-Id: I79c1080605611c5c7748a28d2afcc9c7275a2e5d\n""}, {'number': 5, 'created': '2019-02-05 07:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1dc1ecb775805be49fe60a2ad7a5c8e356098f60', 'message': ""cell_v2 multi-cell\n\n- move nova dbsync from nova-api to nova-conductor\n  - nova db is more tightly coupled to conductor/computes\n  - we don't have a nova-api services on a CellController\n  - super-conductor on Controller will sync cell0 db\n- when additional cell\n  - duplicate service node name hiera for transport_urls on cell stack\n  - nova -> oslo_messaging_rpc_cell_node_names\n  - neutron agent -> oslo_messaging_rpc_node_names\n  - rabbit -> rabbit nodes are cell controllers\n\nbp tripleo-multicell-basic\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\n\nChange-Id: I79c1080605611c5c7748a28d2afcc9c7275a2e5d\n""}, {'number': 6, 'created': '2019-02-05 07:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a308bed5848f2b46fb92e17471cfd1dc048ef722', 'message': ""cell_v2 multi-cell\n\n- move nova dbsync from nova-api to nova-conductor\n  - nova db is more tightly coupled to conductor/computes\n  - we don't have a nova-api services on a CellController\n  - super-conductor on Controller will sync cell0 db\n- when additional cell\n  - duplicate service node name hiera for transport_urls on cell stack\n  - nova -> oslo_messaging_rpc_cell_node_names\n  - neutron agent -> oslo_messaging_rpc_node_names\n  - rabbit -> rabbit nodes are cell controllers\n\nbp tripleo-multicell-basic\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\n\nChange-Id: I79c1080605611c5c7748a28d2afcc9c7275a2e5d\n""}, {'number': 7, 'created': '2019-02-05 08:01:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ef747fbb50159c261213cc91dba65aea1dbb2089', 'message': ""cell_v2 multi-cell\n\n- move nova dbsync from nova-api to nova-conductor\n  - nova db is more tightly coupled to conductor/computes\n  - we don't have a nova-api services on a CellController\n  - super-conductor on Controller will sync cell0 db\n- when additional cell\n  - duplicate service node name hiera for transport_urls on cell stack\n  - nova -> oslo_messaging_rpc_cell_node_names\n  - neutron agent -> oslo_messaging_rpc_node_names\n  - rabbit -> rabbit nodes are cell controllers\n\nbp tripleo-multicell-basic\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\n\nChange-Id: I79c1080605611c5c7748a28d2afcc9c7275a2e5d\n""}, {'number': 8, 'created': '2019-02-05 08:54:06.000000000', 'files': ['manifests/profile/base/nova/conductor.pp', 'manifests/profile/pacemaker/rabbitmq_bundle.pp', 'manifests/profile/base/nova.pp', 'manifests/profile/base/neutron.pp', 'manifests/profile/base/database/mysql.pp', 'manifests/profile/pacemaker/database/mysql_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/035de7493d80417cb54004ac50ba6688403b81c7', 'message': ""cell_v2 multi-cell\n\n- move nova dbsync from nova-api to nova-conductor\n  - nova db is more tightly coupled to conductor/computes\n  - we don't have a nova-api services on a CellController\n  - super-conductor on Controller will sync cell0 db\n- when additional cell\n  - duplicate service node name hiera for transport_urls on cell stack\n  - nova -> oslo_messaging_rpc_cell_node_names\n  - neutron agent -> oslo_messaging_rpc_node_names\n  - rabbit -> rabbit nodes are cell controllers\n\nbp tripleo-multicell-basic\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\n\nChange-Id: I79c1080605611c5c7748a28d2afcc9c7275a2e5d\n""}]",0,600588,035de7493d80417cb54004ac50ba6688403b81c7,24,11,8,23811,,,0,"cell_v2 multi-cell

- move nova dbsync from nova-api to nova-conductor
  - nova db is more tightly coupled to conductor/computes
  - we don't have a nova-api services on a CellController
  - super-conductor on Controller will sync cell0 db
- when additional cell
  - duplicate service node name hiera for transport_urls on cell stack
  - nova -> oslo_messaging_rpc_cell_node_names
  - neutron agent -> oslo_messaging_rpc_node_names
  - rabbit -> rabbit nodes are cell controllers

bp tripleo-multicell-basic

Co-Authored-By: Martin Schuppert <mschuppert@redhat.com>

Change-Id: I79c1080605611c5c7748a28d2afcc9c7275a2e5d
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/88/600588/5 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/nova/conductor.pp', 'manifests/profile/base/nova.pp']",2,530436cbe1104e04d2cf531d18f00cf19c288fa3,bp/tripleo-multicell-basic," # FIXME: (owalsh) need to use oslo_messaging_rpc_node_ips until I figure out how to update /etc/host on the main stack $oslomsg_rpc_hosts = any2array(hiera('oslo_messaging_rpc_node_ips', undef)),"," $oslomsg_rpc_hosts = any2array(hiera('oslo_messaging_rpc_node_names', undef)),",14,1
openstack%2Fironic~master~Idf1a30d1a90b8c626d3b912c92844297e920d68c,openstack/ironic,master,Idf1a30d1a90b8c626d3b912c92844297e920d68c,Allocation API: REST API implementation,MERGED,2019-01-08 16:49:42.000000000,2019-02-09 03:05:36.000000000,2019-02-08 23:21:19.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 14826}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 28429}]","[{'number': 1, 'created': '2019-01-08 16:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d4341bd316e83ab898e6deb908cb968946927381', 'message': '[WIP] Allocation API: implementation\n\nChange-Id: Idf1a30d1a90b8c626d3b912c92844297e920d68c\nStory: #2004341\nTask: #28739\n'}, {'number': 2, 'created': '2019-01-09 14:42:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7e00ac608979eb0c33c5e35eb29921b0d96c06b7', 'message': '[WIP] Allocation API: implementation\n\nChange-Id: Idf1a30d1a90b8c626d3b912c92844297e920d68c\nStory: #2004341\nTask: #28739\n'}, {'number': 3, 'created': '2019-01-10 14:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/16d66fc74a3287892bcb1c318ee91c2e91e3a206', 'message': '[WIP] Allocation API: implementation\n\nChange-Id: Idf1a30d1a90b8c626d3b912c92844297e920d68c\nStory: #2004341\nTask: #28739\n'}, {'number': 4, 'created': '2019-01-23 14:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/65f7941e934f8c913e6d18bc5d15e43b03348742', 'message': '[WIP] Allocation API: implementation\n\nChange-Id: Idf1a30d1a90b8c626d3b912c92844297e920d68c\nStory: #2004341\nTask: #28739\n'}, {'number': 5, 'created': '2019-01-24 20:26:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2ef915dde011f8d3c9d7053d3c13bb49d5fdb12b', 'message': 'Allocation API: REST API implementation\n\nThis change introduces the API endpoints for allocation API:\n* GET/POST /v1/allocations\n* GET/DELETE /v1/allocations/<ID or name>\n* GET/DELETE /v1/nodes/<ID or name>/allocation\n\nChange-Id: Idf1a30d1a90b8c626d3b912c92844297e920d68c\nStory: #2004341\nTask: #28739\n'}, {'number': 6, 'created': '2019-01-28 10:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/67f25af9dc6a864d69f97bf4b037a3fc3a6c1697', 'message': 'Allocation API: REST API implementation\n\nThis change introduces the API endpoints for allocation API:\n* GET/POST /v1/allocations\n* GET/DELETE /v1/allocations/<ID or name>\n* GET/DELETE /v1/nodes/<ID or name>/allocation\n\nChange-Id: Idf1a30d1a90b8c626d3b912c92844297e920d68c\nStory: #2004341\nTask: #28739\n'}, {'number': 7, 'created': '2019-01-30 15:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2d3c80db645a55ef6a5da8925266bf445288eb12', 'message': 'Allocation API: REST API implementation\n\nThis change introduces the API endpoints for allocation API:\n* GET/POST /v1/allocations\n* GET/DELETE /v1/allocations/<ID or name>\n* GET/DELETE /v1/nodes/<ID or name>/allocation\n\nChange-Id: Idf1a30d1a90b8c626d3b912c92844297e920d68c\nStory: #2004341\nTask: #28739\n'}, {'number': 8, 'created': '2019-01-31 12:01:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b61d8cb8aee6cde10668ff12ad7d814f7e4133c8', 'message': 'Allocation API: REST API implementation\n\nThis change introduces the API endpoints for allocation API:\n* GET/POST /v1/allocations\n* GET/DELETE /v1/allocations/<ID or name>\n* GET/DELETE /v1/nodes/<ID or name>/allocation\n\nChange-Id: Idf1a30d1a90b8c626d3b912c92844297e920d68c\nStory: #2004341\nTask: #28739\n'}, {'number': 9, 'created': '2019-02-08 11:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/93def7141b32fbf68e075ae1c307cdcb2fdf7ed0', 'message': 'Allocation API: REST API implementation\n\nThis change introduces the API endpoints for allocation API:\n* GET/POST /v1/allocations\n* GET/DELETE /v1/allocations/<ID or name>\n* GET/DELETE /v1/nodes/<ID or name>/allocation\n\nChange-Id: Idf1a30d1a90b8c626d3b912c92844297e920d68c\nStory: #2004341\nTask: #28739\n'}, {'number': 10, 'created': '2019-02-08 17:47:43.000000000', 'files': ['ironic/tests/unit/api/utils.py', 'ironic/api/controllers/v1/__init__.py', 'ironic/objects/allocation.py', 'releasenotes/notes/allocation-api-6ac2d262689f5f59.yaml', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/api/controllers/v1/allocation.py', 'ironic/tests/unit/api/controllers/v1/test_allocation.py', 'doc/source/contributor/webapi-version-history.rst', 'ironic/api/controllers/v1/versions.py', 'ironic/api/controllers/v1/notification_utils.py', 'ironic/api/controllers/v1/utils.py', 'ironic/common/policy.py', 'ironic/api/controllers/v1/node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/390a1c9a74ec307b8b482be10e9358e2b49a1413', 'message': 'Allocation API: REST API implementation\n\nThis change introduces the API endpoints for allocation API:\n* GET/POST /v1/allocations\n* GET/DELETE /v1/allocations/<ID or name>\n* GET/DELETE /v1/nodes/<ID or name>/allocation\n\nChange-Id: Idf1a30d1a90b8c626d3b912c92844297e920d68c\nStory: #2004341\nTask: #28739\n'}]",32,629260,390a1c9a74ec307b8b482be10e9358e2b49a1413,89,11,10,10239,,,0,"Allocation API: REST API implementation

This change introduces the API endpoints for allocation API:
* GET/POST /v1/allocations
* GET/DELETE /v1/allocations/<ID or name>
* GET/DELETE /v1/nodes/<ID or name>/allocation

Change-Id: Idf1a30d1a90b8c626d3b912c92844297e920d68c
Story: #2004341
Task: #28739
",git fetch https://review.opendev.org/openstack/ironic refs/changes/60/629260/10 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/api/controllers/v1/__init__.py', 'ironic/api/controllers/v1/versions.py', 'ironic/api/controllers/v1/utils.py', 'ironic/common/policy.py', 'ironic/common/release_mappings.py', 'ironic/api/controllers/v1/allocation.py', 'ironic/api/controllers/v1/node.py']",7,d4341bd316e83ab898e6deb908cb968946927381,story/2004341,"from ironic.api.controllers.v1 import allocation _allocation_uuid = None def _get_allocation_uuid(self): return self._allocation_uuid allocation_uuid = wsme.wsproperty(types.uuid, _get_allocation_uuid) """"""The UUID of the allocation this node belongs"""""" # NOTE(dtantsur): ditto re allocation_uuid fields.append('allocation_uuid') if (api_utils.allow_allocations() and (fields is None or 'allocation_uuid' in fields)): try: allocation = objects.Allocation.get_by_id( rpc_node.allocation_id) node.allocation = allocation.uuid except exception.AllocationNotFound: node.allocation = None self.allocation_id = wtypes.Unset sample._allocation_uuid = '982ddb5b-bce5-4d23-8fb8-7f710f648cd5' '/fault', '/conductor', '/allocation_uuid'] 'allocation': allocation.AllocationsController, not api_utils.allow_bios_interface()) or (remainder[0] == 'allocation' and not api_utils.allow_allocations())):"," '/fault', '/conductor'] not api_utils.allow_bios_interface())):",470,4
openstack%2Fnova~stable%2Fqueens~I25a4f36027390def83cfe25f4f3b4af9660da502,openstack/nova,stable/queens,I25a4f36027390def83cfe25f4f3b4af9660da502,Null out instance.availability_zone on shelve offload,MERGED,2018-09-28 18:12:04.000000000,2019-02-09 03:00:52.000000000,2019-02-09 03:00:52.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-28 18:12:04.000000000', 'files': ['nova/compute/manager.py', 'nova/tests/functional/test_servers.py', 'doc/notification_samples/instance-shelve_offload-end.json'], 'web_link': 'https://opendev.org/openstack/nova/commit/437211bf37aacb6bc9490e2443984a4428c70779', 'message': ""Null out instance.availability_zone on shelve offload\n\nWhen a user shelve offloads a server, the compute manager\nnulls out the instance host and node attributes. However\nthe availability_zone attribute is left set on the instance\nso the API will show the instance as in an AZ when really\nit's not, because an instance that is not on a host is not\nin a host aggregate so it can't be in an AZ.\n\nKeep in mind that there are two ways an instance can be in\nan AZ:\n\n1. The user specifically requests to create the server in\n   the AZ.\n\n2. The user does not request an AZ and one is assigned via\n   the selected host during server create (or resize, etc).\n\nFor the first case, the server will always remain in the\nuser-requested AZ even after shelve/unshelve. But in the\nsecond case, unshelving the server can result in the server\nbeing spawned on a new host in a different AZ - the scheduler\ndoes not restrict the AZ in that second case.\n\nThis change nulls out the instance.availability_zone just like\nthe host and node fields on shelve offload since it's\nconfusing to show a shelved offloaded server in an AZ that\ndoesn't have a host.\n\nFinal note: the _nil_out_instance_obj_host_and_node method\nis also called during server create if the build fails and\nis aborted or rescheduled to another host, and in the case\nthat unshelve fails. In the case of a server build reschedule,\nconductor will set the instance.availability_zone appropriately\nbased on the alternate host for the reschedule. In the other\nfailure cases, leaving the instance AZ null is appropriate.\n\nConflicts:\n      doc/notification_samples/instance-shelve_offload-end.json\n\nNOTE(mriedem): The conflict is due to not having change\nIc64f89d33a985cf6121ddc198380902a5e936ec4 in Queens.\n\nChange-Id: I25a4f36027390def83cfe25f4f3b4af9660da502\nCloses-Bug: #1790221\n(cherry picked from commit 771b9eaa71742b7a158c2e7759a3046ea5a6fc3a)\n(cherry picked from commit b3060a9d3103fb8ade6ebeaa53cb4dd39308f8af)\n""}]",0,606155,437211bf37aacb6bc9490e2443984a4428c70779,9,5,1,6873,,,0,"Null out instance.availability_zone on shelve offload

When a user shelve offloads a server, the compute manager
nulls out the instance host and node attributes. However
the availability_zone attribute is left set on the instance
so the API will show the instance as in an AZ when really
it's not, because an instance that is not on a host is not
in a host aggregate so it can't be in an AZ.

Keep in mind that there are two ways an instance can be in
an AZ:

1. The user specifically requests to create the server in
   the AZ.

2. The user does not request an AZ and one is assigned via
   the selected host during server create (or resize, etc).

For the first case, the server will always remain in the
user-requested AZ even after shelve/unshelve. But in the
second case, unshelving the server can result in the server
being spawned on a new host in a different AZ - the scheduler
does not restrict the AZ in that second case.

This change nulls out the instance.availability_zone just like
the host and node fields on shelve offload since it's
confusing to show a shelved offloaded server in an AZ that
doesn't have a host.

Final note: the _nil_out_instance_obj_host_and_node method
is also called during server create if the build fails and
is aborted or rescheduled to another host, and in the case
that unshelve fails. In the case of a server build reschedule,
conductor will set the instance.availability_zone appropriately
based on the alternate host for the reschedule. In the other
failure cases, leaving the instance AZ null is appropriate.

Conflicts:
      doc/notification_samples/instance-shelve_offload-end.json

NOTE(mriedem): The conflict is due to not having change
Ic64f89d33a985cf6121ddc198380902a5e936ec4 in Queens.

Change-Id: I25a4f36027390def83cfe25f4f3b4af9660da502
Closes-Bug: #1790221
(cherry picked from commit 771b9eaa71742b7a158c2e7759a3046ea5a6fc3a)
(cherry picked from commit b3060a9d3103fb8ade6ebeaa53cb4dd39308f8af)
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/606155/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/manager.py', 'nova/tests/functional/test_servers.py', 'doc/notification_samples/instance-shelve_offload-end.json']",3,437211bf37aacb6bc9490e2443984a4428c70779,bug/1790221," ""availability_zone"": null,"," ""availability_zone"": ""nova"",",6,2
openstack%2Fpuppet-keystone~stable%2Frocky~Ic4b17a2c750c3162cc609a9469d7422c2084b977,openstack/puppet-keystone,stable/rocky,Ic4b17a2c750c3162cc609a9469d7422c2084b977,Keystone_user should not use disabled projects,MERGED,2019-02-06 19:38:47.000000000,2019-02-09 02:50:20.000000000,2019-02-09 02:50:20.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-06 19:38:47.000000000', 'files': ['spec/unit/provider/keystone_user/openstack_spec.rb', 'releasenotes/notes/keystone_user-bug-1814906-06781a797cd2e051.yaml', 'lib/puppet/provider/keystone_user/openstack.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/2707b13628c575c69cb02ad15e0a9d50bc2bbbc6', 'message': 'Keystone_user should not use disabled projects\n\nWhen testing the password for a keystone_user\nresource we need to ensure the project id that\nis used for testing auth is not disabled causing\nit to fail and puppet things the password should\nbe changed.\n\nChange-Id: Ic4b17a2c750c3162cc609a9469d7422c2084b977\nCloses-Bug: 1814906\n(cherry picked from commit c2456fcaa849d16273f6d00cf8cf07d02b949272)\n'}]",0,635249,2707b13628c575c69cb02ad15e0a9d50bc2bbbc6,8,3,1,16137,,,0,"Keystone_user should not use disabled projects

When testing the password for a keystone_user
resource we need to ensure the project id that
is used for testing auth is not disabled causing
it to fail and puppet things the password should
be changed.

Change-Id: Ic4b17a2c750c3162cc609a9469d7422c2084b977
Closes-Bug: 1814906
(cherry picked from commit c2456fcaa849d16273f6d00cf8cf07d02b949272)
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/49/635249/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/provider/keystone_user/openstack_spec.rb', 'releasenotes/notes/keystone_user-bug-1814906-06781a797cd2e051.yaml', 'lib/puppet/provider/keystone_user/openstack.rb']",3,2707b13628c575c69cb02ad15e0a9d50bc2bbbc6,bug/1814906-stable/rocky," # all of the projects for the user, and use the id for the first one # that is enabled then fallback to domain id only. first_project = nil if projects && projects.respond_to?(:each) first_project = projects.detect { |p| p && p[:id] && p[:enabled] == 'True' } end if not first_project.nil? credentials.project_id = first_project[:id]"," # all of the projects for the user, and use the id from the first one. if projects && projects[0] && projects[0][:id] credentials.project_id = projects[0][:id]",44,3
openstack%2Fironic~master~I5e7f1b82fe75c7984bd9fa9fd9979d27703ce048,openstack/ironic,master,I5e7f1b82fe75c7984bd9fa9fd9979d27703ce048,[Trivial] Allocation API: correct syntax in API version history docs,MERGED,2019-02-08 17:54:07.000000000,2019-02-09 02:22:24.000000000,2019-02-08 23:21:22.000000000,"[{'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 17:54:07.000000000', 'files': ['doc/source/contributor/webapi-version-history.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e64510e75cdb83a374001aff74848d3ce8f62381', 'message': '[Trivial] Allocation API: correct syntax in API version history docs\n\nChange-Id: I5e7f1b82fe75c7984bd9fa9fd9979d27703ce048\nStory: #2004341\n'}]",0,635904,e64510e75cdb83a374001aff74848d3ce8f62381,7,3,1,10239,,,0,"[Trivial] Allocation API: correct syntax in API version history docs

Change-Id: I5e7f1b82fe75c7984bd9fa9fd9979d27703ce048
Story: #2004341
",git fetch https://review.opendev.org/openstack/ironic refs/changes/04/635904/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/webapi-version-history.rst'],1,e64510e75cdb83a374001aff74848d3ce8f62381,story/2004341,* ``DELETE /v1/allocations/<ID or name>`` to remove the allocation. * ``DELETE /v1/nodes/<ID or name>/allocation`` to remove an allocation,* ``DELETE /v1/allocations/<ID or name`` to remove the allocation. * ``DELETE /v1/nodes/<ID or name/allocation`` to remove an allocation,2,2
openstack%2Fpuppet-keystone~stable%2Fpike~I46ec675fb959c5d1b8f9cbf300e480026e803a66,openstack/puppet-keystone,stable/pike,I46ec675fb959c5d1b8f9cbf300e480026e803a66,Add a LDAP param group_members_are_ids,MERGED,2019-02-05 10:12:11.000000000,2019-02-09 02:07:11.000000000,2019-02-09 02:07:11.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 16339}, {'_account_id': 22348}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-02-05 10:12:11.000000000', 'files': ['manifests/ldap_backend.pp', 'spec/classes/keystone_ldap_spec.rb', 'spec/defines/keystone_ldap_backend_spec.rb', 'manifests/ldap.pp', 'releasenotes/notes/add-group_members_are_ids-7decbef235d0afd8.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/5a3ee13aa4b2df4f7923fac786a74d5c7a2de362', 'message': 'Add a LDAP param group_members_are_ids\n\nEnable this option if the members of the group\nobject class are keystone user IDs rather than LDAP DNs.\nThis is thecase when using posixGroup as the group object\nclass in Open Directory.\n\nCloses-Bug: #1805801\n\nChange-Id: I46ec675fb959c5d1b8f9cbf300e480026e803a66\nSigned-off-by: Cyril Lopez <cylopez@redhat.com>\n'}]",0,634900,5a3ee13aa4b2df4f7923fac786a74d5c7a2de362,23,5,1,29222,,,0,"Add a LDAP param group_members_are_ids

Enable this option if the members of the group
object class are keystone user IDs rather than LDAP DNs.
This is thecase when using posixGroup as the group object
class in Open Directory.

Closes-Bug: #1805801

Change-Id: I46ec675fb959c5d1b8f9cbf300e480026e803a66
Signed-off-by: Cyril Lopez <cylopez@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/00/634900/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/ldap_backend.pp', 'spec/classes/keystone_ldap_spec.rb', 'spec/defines/keystone_ldap_backend_spec.rb', 'manifests/ldap.pp', 'releasenotes/notes/add-group_members_are_ids-7decbef235d0afd8.yaml']",5,5a3ee13aa4b2df4f7923fac786a74d5c7a2de362,bug/1805801,"--- features: - | In Keystone, we can set group_members_are_ids option. This parameter enables the members of the group object class to be keystone user IDs rather than LDAP DNs. This is the case when using posixGroup as the group object class in Open Directory. ",,23,0
openstack%2Ftripleo-quickstart-extras~master~I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6,openstack/tripleo-quickstart-extras,master,I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6,Design new role for zuul-based reproducer,MERGED,2019-01-15 21:15:24.000000000,2019-02-09 02:02:45.000000000,2019-02-09 02:02:45.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27898}, {'_account_id': 29814}]","[{'number': 1, 'created': '2019-01-15 21:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6eeaaff20076eebe1de4bea73214858ae804db6d', 'message': 'WIP: Design new role for zuul-based reproducer\n\nDNM - for discussion\n\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 2, 'created': '2019-01-17 13:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5a7545e6796ed832d225c583250ff166b1f10f85', 'message': 'WIP: Design new role for zuul-based reproducer\n\nDNM - for discussion\n\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 3, 'created': '2019-01-17 13:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/683845d5810110bc6b6acbe11ab7872addc254e0', 'message': 'WIP: Design new role for zuul-based reproducer\n\nDNM - for discussion\n\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 4, 'created': '2019-01-17 20:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/40a5c0e9f5e3afcde57b265a6953bafcc8ef3bfa', 'message': 'WIP: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 5, 'created': '2019-01-17 20:43:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1757d7fe91d6b573864b40b48071f6f044d04b3b', 'message': 'WIP: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 6, 'created': '2019-01-17 20:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ae6d9d98774a563cd94d345e024d13c2d157af05', 'message': 'WIP: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 7, 'created': '2019-01-17 22:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7be22c13f8b1956e821758cb2ff8ecb5ea48b83f', 'message': 'WIP: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.openstack.org/631669\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 8, 'created': '2019-01-18 16:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/03bf80f74f0e198560e638665efd0fd9d6f0a381', 'message': 'WIP: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.openstack.org/622575\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 9, 'created': '2019-01-18 19:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7ca28730a8bc63796178a26b1628b5632585b141', 'message': 'WIP: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.openstack.org/622575\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 10, 'created': '2019-01-18 19:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8ee66e38284f569fe402073e6c2a9c2b8decab55', 'message': 'WIP: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.openstack.org/622575\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 11, 'created': '2019-01-18 20:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/023d8255c1c69c5032bc1101b575485d2f7a3146', 'message': 'WIP: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.openstack.org/622575\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 12, 'created': '2019-01-18 20:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/23dc533b7b03555c5a2016d52549dcdf3ecb37ec', 'message': 'Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.openstack.org/622575\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 13, 'created': '2019-01-20 22:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/836f2750ffc8794fd04f85964e9ba29247f5878c', 'message': 'WIP: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.openstack.org/622575\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 14, 'created': '2019-01-20 22:45:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b5d0dc59ce249d9b97920b76797a8025be8ab9fd', 'message': 'WIP: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.openstack.org/622575\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 15, 'created': '2019-01-21 01:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/35f67270e6b0672df6e9eb63c855fa4e22b3c081', 'message': 'WIP: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.openstack.org/622575\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 16, 'created': '2019-01-21 01:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/af66e06c7a3548ea5eb5ab48f5d65b89da50a804', 'message': 'WIP: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.openstack.org/622575\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 17, 'created': '2019-01-22 00:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1408eaccbf8958937115f2703d31a2ca49abdc01', 'message': 'WIP: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.openstack.org/622575\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 18, 'created': '2019-01-22 03:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ac37f7b7a7d253d49d036d50365d7883197f5ce2', 'message': 'WIP: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.openstack.org/622575\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 19, 'created': '2019-01-23 16:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ef9008973f55942013448c2753e4260ad5ffbcff', 'message': 'WIP: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.openstack.org/622575\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 20, 'created': '2019-01-23 19:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/131fe60d009da1689acc51c9c618d149c1c5992e', 'message': 'WIP: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.openstack.org/622575\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 21, 'created': '2019-01-23 19:45:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5514deaeeb082a5fb04e24bf128124133becf99a', 'message': 'WIP: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.openstack.org/622575\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 22, 'created': '2019-01-25 14:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/10c1aa064292b433ce38b423ff933fc73febc93d', 'message': 'WIP: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.openstack.org/622575\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 23, 'created': '2019-01-25 21:05:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e5da59b5960f09a4102b4ecb382bc374b7e069ee', 'message': 'WIP: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.openstack.org/622575\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 24, 'created': '2019-01-28 15:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ef998ab15b759a2985de6d3ef4b5864e7ead41a6', 'message': 'WIP: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.openstack.org/622575\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 25, 'created': '2019-01-28 15:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8dd334db38457f8b5cf2f020fd7f1add8bd24d00', 'message': 'WIP: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.openstack.org/622575\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 26, 'created': '2019-01-28 16:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0719f7426b5ae6ba72d8cf0c3db0977157db25b2', 'message': 'WIP: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.openstack.org/622575\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 27, 'created': '2019-01-28 16:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4e82fc3b09b17edb51a851458bf675fbf9a5a1dd', 'message': 'WIP: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.openstack.org/622575\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 28, 'created': '2019-01-28 20:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9d50addc731bf6cdec1cb7b157676273dd6668c0', 'message': 'WIP: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 29, 'created': '2019-01-28 23:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e682492fa98aba1a6ec2d72753215883c7e7d1f6', 'message': 'WIP: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 30, 'created': '2019-01-29 01:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/db0f915644c6ac07849e605ead8f56aab7b06d5b', 'message': 'WIP: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 31, 'created': '2019-01-29 16:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/56fc6914e938ca98b5ab6da186fa7c54b291af6b', 'message': 'WIP: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 32, 'created': '2019-01-29 17:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f59d5bde9141b8eea9601c5f1a385fdf04dc44ef', 'message': 'WIP: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 33, 'created': '2019-01-29 17:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6aa2cbf26d50236e5c58419ea56602588f09f248', 'message': 'WIP: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 34, 'created': '2019-01-29 19:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/446c08357b66cb04c3bf72dedf3151e4310d4d33', 'message': 'Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 35, 'created': '2019-01-29 19:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/75b295f5db4cc5d2b316208b585132850b5a1ea7', 'message': 'Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 36, 'created': '2019-01-29 20:51:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bad334e0ba52a804f93eb96027b54b62884ec067', 'message': 'Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 37, 'created': '2019-01-29 22:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/46c18b98e26b81c90f3cecbafb867b70bd25ec21', 'message': 'Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 38, 'created': '2019-01-29 22:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3129339fd8fb4081b630d177df38d3a1858c24ca', 'message': 'Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 39, 'created': '2019-01-30 13:07:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1587e7e2288cb3c31bbf1d0c7b7cd84dcadbda3b', 'message': 'Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 40, 'created': '2019-01-30 18:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0547d6b50678d6a2714e6468f6b03dceaa2eb0d6', 'message': 'Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 41, 'created': '2019-01-31 22:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d1f0bd2aa627054ee3f03d882fa929d338c841af', 'message': 'WIP: DNM: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 42, 'created': '2019-02-01 20:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2e854ef8a3cbdf911626b04e22bc960fe6545faf', 'message': 'WIP: DNM: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.rdoproject.org/r/#/c/18664/\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 43, 'created': '2019-02-01 20:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/90800ab390f4ab85c234fd13e330b704aa828ab8', 'message': 'WIP: DNM: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.rdoproject.org/r/#/c/18664/\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 44, 'created': '2019-02-01 23:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/58dfcdbe9729aa533bdda4f8ec54f6d3b58d301f', 'message': 'WIP: DNM: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.rdoproject.org/r/#/c/18664/\nDepends-On: https://review.openstack.org/#/c/634329/\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 45, 'created': '2019-02-03 18:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/db9e12f6c3e483e61fd9c8d190b61d27cd591323', 'message': 'WIP: DNM: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.rdoproject.org/r/#/c/18664/\nDepends-On: https://review.openstack.org/#/c/634329/\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 46, 'created': '2019-02-04 16:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/08df3e5d50427e7549f281adf3c53b8c7e6c79ac', 'message': 'WIP: DNM: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.rdoproject.org/r/#/c/18664/\nDepends-On: https://review.openstack.org/#/c/634329/\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 47, 'created': '2019-02-04 20:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d475bc618bbcb519363853b6c3dd80221e768e10', 'message': 'WIP: DNM: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.rdoproject.org/r/#/c/18664/\nDepends-On: https://review.openstack.org/#/c/634329/\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/607\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 48, 'created': '2019-02-04 20:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/025b9c281c7707907dadfe5e854c3f96c62fbc1e', 'message': 'WIP: DNM: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.rdoproject.org/r/#/c/18664/\nDepends-On: https://review.openstack.org/#/c/634329/\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/607\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 49, 'created': '2019-02-04 23:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/86f956562c303aec6b45001aa28091337ee533aa', 'message': 'WIP: DNM: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.rdoproject.org/r/#/c/18664/\nDepends-On: https://review.openstack.org/#/c/634329/\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/607\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 50, 'created': '2019-02-05 02:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/76aece19d01414d95b38856de9bceb11bb89b7f2', 'message': 'WIP: DNM: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.rdoproject.org/r/#/c/18664/\nDepends-On: https://review.openstack.org/#/c/634329/\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/607\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 51, 'created': '2019-02-05 14:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fd765a8c3090f737cd3b8ca8a47ad481f2d2459b', 'message': 'WIP: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.rdoproject.org/r/#/c/18664/\nDepends-On: https://review.openstack.org/#/c/634329/\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/607\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 52, 'created': '2019-02-05 16:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b268b0f8171b52c4f93b3a6bc4ab2523714c07ea', 'message': 'WIP: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.rdoproject.org/r/#/c/18664/\nDepends-On: https://review.openstack.org/#/c/634329/\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/607\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 53, 'created': '2019-02-05 22:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a8b66696ce5d1121bfc4f2bf1c2ec5e22ccbbf68', 'message': 'WIP: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.rdoproject.org/r/#/c/18664/\nDepends-On: https://review.openstack.org/#/c/634329/\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/607\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 54, 'created': '2019-02-06 23:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/30752ec3913ebe1c2fddd92701f0c1ab4a3075f1', 'message': 'WIP: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.rdoproject.org/r/#/c/18664/\nDepends-On: https://review.openstack.org/#/c/634329/\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/607\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 55, 'created': '2019-02-06 23:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1c7e4d8d7937131ab370780fd15bfee1c0f909c8', 'message': 'WIP: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.rdoproject.org/r/#/c/18664/\nDepends-On: https://review.openstack.org/#/c/634329/\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/607\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 56, 'created': '2019-02-07 12:21:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ee1fd98ee8e55aa65f51ad3663743518bde79de3', 'message': 'WIP: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.rdoproject.org/r/#/c/18664/\nDepends-On: https://review.openstack.org/#/c/634329/\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/607\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 57, 'created': '2019-02-07 12:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d583866dafd50a413a60e40ef54932147dce3cd7', 'message': 'WIP: Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.rdoproject.org/r/#/c/18664/\nDepends-On: https://review.openstack.org/#/c/634329/\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/607\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 58, 'created': '2019-02-07 15:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/78ad83c50c36d001a2ef9e3e27ac808092abbb0a', 'message': 'Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.rdoproject.org/r/#/c/18664/\nDepends-On: https://review.openstack.org/#/c/634329/\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/607\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 59, 'created': '2019-02-07 16:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c81bde34e0f578ca69cf491cd08e0af906b57575', 'message': 'Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.rdoproject.org/r/#/c/18664/\nDepends-On: https://review.openstack.org/#/c/635550\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/607\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 60, 'created': '2019-02-07 16:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4016fa4cb018618c3cf438944309594ce9d9db87', 'message': 'Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.rdoproject.org/r/#/c/18664/\nDepends-On: https://review.openstack.org/#/c/635550\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/607\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 61, 'created': '2019-02-07 23:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9879b51283c5f95c0af1dfb1ba8124659d4d018e', 'message': 'Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.rdoproject.org/r/#/c/18664/\nDepends-On: https://review.openstack.org/#/c/635550\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/607\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}, {'number': 62, 'created': '2019-02-08 16:39:17.000000000', 'files': ['roles/create-zuul-based-reproducer/defaults/main.yml', 'roles/create-zuul-based-reproducer/templates/launcher-env-setup-playbook.yaml.j2', 'roles/create-zuul-based-reproducer/templates/reproducer-zuul-based-quickstart.sh.j2', 'roles/collect-logs/tasks/publish.yml', 'roles/create-zuul-based-reproducer/templates/README-reproducer-zuul-based-quickstart.html.j2', 'roles/create-zuul-based-reproducer/README.md', 'roles/create-zuul-based-reproducer/meta/main.yml', 'roles/create-zuul-based-reproducer/templates/launcher-playbook.yaml.j2', 'roles/create-zuul-based-reproducer/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/891a7148890ff6dbd5c3ba57ae068561531c5b8e', 'message': 'Design new role for zuul-based reproducer\n\nThis role creates a minimal bash script\nto launch the reproducer via zuul/nodepool\nand friends with the same variables as used\nin the CI job.\n\nDepends-On: https://review.rdoproject.org/r/#/c/18664/\nDepends-On: https://review.openstack.org/#/c/635550\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/607\nChange-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6\n'}]",139,631067,891a7148890ff6dbd5c3ba57ae068561531c5b8e,251,11,62,9976,,,0,"Design new role for zuul-based reproducer

This role creates a minimal bash script
to launch the reproducer via zuul/nodepool
and friends with the same variables as used
in the CI job.

Depends-On: https://review.rdoproject.org/r/#/c/18664/
Depends-On: https://review.openstack.org/#/c/635550
Story: https://tree.taiga.io/project/tripleo-ci-board/task/607
Change-Id: I9cdfa3e9d710257cdcd15979dcf0c65222ff3ac6
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/67/631067/50 && git format-patch -1 --stdout FETCH_HEAD,"['roles/create-zuul-based-reproducer/defaults/main.yml', 'roles/create-zuul-based-reproducer/templates/zuul.yaml.j2', 'roles/create-zuul-based-reproducer/templates/reproducer-zuul-based-quickstart.sh.j2', 'roles/create-zuul-based-reproducer/templates/README-reproducer-zuul-based-quickstart.html.j2', 'roles/create-zuul-based-reproducer/README.md', 'roles/create-zuul-based-reproducer/meta/main.yml', 'roles/create-zuul-based-reproducer/tasks/main.yml']",7,6eeaaff20076eebe1de4bea73214858ae804db6d,generate-zuul-based-reproducer,"--- - name: Check if collect directory exists stat: path: ""{{ artcl_collect_dir }}"" register: collect_dir - name: Create collect directory file: path: ""{{ artcl_collect_dir }}"" state: directory when: not collect_dir.stat.exists - name: Create the reproducer-zuul-based-quickstart directory file: path: ""{{ artcl_collect_dir }}/reproducer-zuul-based-quickstart"" state: directory ###### Do we want to keep this??? - name: Create the reproducer-quickstart/scripts directory file: path: ""{{ artcl_collect_dir }}/reproducer-quickstart/scripts"" state: directory - name: Copy the generate toci templates and files copy: src: ""/home/{{ undercloud_user }}/src/git.openstack.org/openstack/tripleo-ci/{{ item }}"" dest: ""{{ artcl_collect_dir }}/reproducer-quickstart/{{ item }}"" mode: 0755 with_items: - ""toci_gate_test.sh"" - ""toci_quickstart.sh"" - ""scripts/common_vars.bash"" - ""scripts/oooq_common_functions.sh"" - name: Check if featureset-override exists stat: path: ""/home/{{ undercloud_user }}/src/git.openstack.org/openstack/tripleo-ci/featureset-override.yaml"" register: featureset_override_file - name: Add the featureset-override if it exists copy: src: ""/home/{{ undercloud_user }}/src/git.openstack.org/openstack/tripleo-ci/featureset-override.yaml"" dest: ""{{ artcl_collect_dir }}/reproducer-quickstart/featureset-override.yaml"" mode: 0755 when: featureset_override_file.stat.exists ################################### - name: Create the zuul-based reproducer file from template template: src: ""{{ reproducer_zuul_based_quickstart_script }}"" dest: ""{{ artcl_collect_dir }}/reproducer-zuul-based-quickstart.sh"" mode: 0755 - name: Create zuul-based reproducer script documentation from template template: src: README-reproducer-zuul-based-quickstart.html.j2 dest: ""{{ reproducer_zuul_based_quickstart_readme_file }}"" ",,297,0
openstack%2Fcharm-rabbitmq-server~master~Ib9bc7a096972bac1b91d53d662b5f0469d9e0ffe,openstack/charm-rabbitmq-server,master,Ib9bc7a096972bac1b91d53d662b5f0469d9e0ffe,Update pre-install hooks to fail on error,MERGED,2019-02-08 21:57:26.000000000,2019-02-09 00:34:05.000000000,2019-02-09 00:34:05.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 21:57:26.000000000', 'files': ['hooks/install'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/0e35fadab38f4a4b1ff30a821100f8481f7491f4', 'message': 'Update pre-install hooks to fail on error\n\nThe pre-install operations may fail, yet that failure is not\nelevated to the user. This masks the failure and makes early\npackage install issues difficult to troubleshoot.\n\nIf the basic pre-install script fails, the charm should not\nproceed to later hooks as the requirements may not be met.\n\nHashbangs for bash should specify -e (errexit) on all of the\npre-install bash scripts.\n\nChange-Id: Ib9bc7a096972bac1b91d53d662b5f0469d9e0ffe\nCloses-bug: #1815243\nPartial-bug: #1815231\n'}]",0,635962,0e35fadab38f4a4b1ff30a821100f8481f7491f4,7,3,1,20635,,,0,"Update pre-install hooks to fail on error

The pre-install operations may fail, yet that failure is not
elevated to the user. This masks the failure and makes early
package install issues difficult to troubleshoot.

If the basic pre-install script fails, the charm should not
proceed to later hooks as the requirements may not be met.

Hashbangs for bash should specify -e (errexit) on all of the
pre-install bash scripts.

Change-Id: Ib9bc7a096972bac1b91d53d662b5f0469d9e0ffe
Closes-bug: #1815243
Partial-bug: #1815231
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/62/635962/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/install'],1,0e35fadab38f4a4b1ff30a821100f8481f7491f4,bug/1815243,#!/bin/bash -e,#!/bin/bash,1,1
openstack%2Fcharm-glance-simplestreams-sync~master~I61301f3ed953f685bca3c4060907ccda8cec6f49,openstack/charm-glance-simplestreams-sync,master,I61301f3ed953f685bca3c4060907ccda8cec6f49,Update pre-install hooks to fail on error,MERGED,2019-02-08 22:07:38.000000000,2019-02-09 00:27:46.000000000,2019-02-09 00:27:46.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 22:07:38.000000000', 'files': ['hooks/install'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/d597eaedbb672c68b3c730ba4c039db9e4cdeaec', 'message': 'Update pre-install hooks to fail on error\n\nThe pre-install operations may fail, yet that failure is not\nelevated to the user. This masks the failure and makes early\npackage install issues difficult to troubleshoot.\n\nIf the basic pre-install script fails, the charm should not\nproceed to later hooks as the requirements may not be met.\n\nHashbangs for bash should specify -e (errexit) on all of the\npre-install bash scripts.\n\nChange-Id: I61301f3ed953f685bca3c4060907ccda8cec6f49\nCloses-bug: #1815243\nPartial-bug: #1815231\n'}]",0,635967,d597eaedbb672c68b3c730ba4c039db9e4cdeaec,7,3,1,20635,,,0,"Update pre-install hooks to fail on error

The pre-install operations may fail, yet that failure is not
elevated to the user. This masks the failure and makes early
package install issues difficult to troubleshoot.

If the basic pre-install script fails, the charm should not
proceed to later hooks as the requirements may not be met.

Hashbangs for bash should specify -e (errexit) on all of the
pre-install bash scripts.

Change-Id: I61301f3ed953f685bca3c4060907ccda8cec6f49
Closes-bug: #1815243
Partial-bug: #1815231
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/67/635967/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/install'],1,d597eaedbb672c68b3c730ba4c039db9e4cdeaec,bug/1815243,#!/bin/bash -e,#!/bin/bash,1,1
openstack%2Fcharm-nova-compute~master~I5532e6468fe4a9caffab81f890ab245bf441dfd4,openstack/charm-nova-compute,master,I5532e6468fe4a9caffab81f890ab245bf441dfd4,Update pre-install hooks to fail on error,MERGED,2019-02-08 21:56:20.000000000,2019-02-09 00:26:58.000000000,2019-02-09 00:26:58.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 21:56:20.000000000', 'files': ['hooks/install'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/6868b47b3e67f17009651742a84e17de3fc7f41f', 'message': 'Update pre-install hooks to fail on error\n\nThe pre-install operations may fail, yet that failure is not\nelevated to the user. This masks the failure and makes early\npackage install issues difficult to troubleshoot.\n\nIf the basic pre-install script fails, the charm should not\nproceed to later hooks as the requirements may not be met.\n\nHashbangs for bash should specify -e (errexit) on all of the\npre-install bash scripts.\n\nChange-Id: I5532e6468fe4a9caffab81f890ab245bf441dfd4\nCloses-bug: #1815243\nPartial-bug: #1815231\n'}]",0,635960,6868b47b3e67f17009651742a84e17de3fc7f41f,7,3,1,20635,,,0,"Update pre-install hooks to fail on error

The pre-install operations may fail, yet that failure is not
elevated to the user. This masks the failure and makes early
package install issues difficult to troubleshoot.

If the basic pre-install script fails, the charm should not
proceed to later hooks as the requirements may not be met.

Hashbangs for bash should specify -e (errexit) on all of the
pre-install bash scripts.

Change-Id: I5532e6468fe4a9caffab81f890ab245bf441dfd4
Closes-bug: #1815243
Partial-bug: #1815231
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/60/635960/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/install'],1,6868b47b3e67f17009651742a84e17de3fc7f41f,bug/1815243,#!/bin/bash -e,#!/bin/bash,1,1
openstack%2Fcharm-openstack-dashboard~master~If36f0df0a8be40c82cf2244584e9531ada005c92,openstack/charm-openstack-dashboard,master,If36f0df0a8be40c82cf2244584e9531ada005c92,Update pre-install hooks to fail on error,MERGED,2019-02-08 21:58:56.000000000,2019-02-09 00:24:05.000000000,2019-02-09 00:24:05.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 21:58:56.000000000', 'files': ['hooks/install'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/56358d1d335bc59ad6af4fed675119ceb95a6ef9', 'message': 'Update pre-install hooks to fail on error\n\nThe pre-install operations may fail, yet that failure is not\nelevated to the user. This masks the failure and makes early\npackage install issues difficult to troubleshoot.\n\nIf the basic pre-install script fails, the charm should not\nproceed to later hooks as the requirements may not be met.\n\nHashbangs for bash should specify -e (errexit) on all of the\npre-install bash scripts.\n\nChange-Id: If36f0df0a8be40c82cf2244584e9531ada005c92\nCloses-bug: #1815243\nPartial-bug: #1815231\n'}]",0,635963,56358d1d335bc59ad6af4fed675119ceb95a6ef9,7,3,1,20635,,,0,"Update pre-install hooks to fail on error

The pre-install operations may fail, yet that failure is not
elevated to the user. This masks the failure and makes early
package install issues difficult to troubleshoot.

If the basic pre-install script fails, the charm should not
proceed to later hooks as the requirements may not be met.

Hashbangs for bash should specify -e (errexit) on all of the
pre-install bash scripts.

Change-Id: If36f0df0a8be40c82cf2244584e9531ada005c92
Closes-bug: #1815243
Partial-bug: #1815231
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/63/635963/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/install'],1,56358d1d335bc59ad6af4fed675119ceb95a6ef9,bug/1815243,#!/bin/bash -e,#!/bin/bashset -e ,1,3
openstack%2Fnetworking-baremetal~stable%2Fqueens~I416acf75c3db3cdf202a6bc49d96d1abb73b2d6e,openstack/networking-baremetal,stable/queens,I416acf75c3db3cdf202a6bc49d96d1abb73b2d6e,Avoid tox_install.sh,MERGED,2018-09-13 09:13:49.000000000,2019-02-09 00:21:31.000000000,2019-02-09 00:21:31.000000000,"[{'_account_id': 6547}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 12898}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-09-13 09:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/049110609e17bc33f95281c6720b8fbb45578b6f', 'message': 'Avoid tox_install.sh\n\nInstead of using tox-install.sh, we can install neutron now directly from pypi\n- or use the current branch in CI system using tox-siblings.\n\nUpdate tox.ini for this change and add neutron to\nrequirements file.\n\nConflicts:\n\ttools/tox_install.sh\n\ttox.ini\n\nChange-Id: I416acf75c3db3cdf202a6bc49d96d1abb73b2d6e\n(cherry picked from commit 9443e4e7a252347cd0bdb57e66ec51e3c8aaae3f)\n'}, {'number': 2, 'created': '2019-02-07 13:39:54.000000000', 'files': ['requirements.txt', 'tools/tox_install.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/573866866c5f6d73c948f018e54526d96ed0c496', 'message': 'Avoid tox_install.sh\n\nInstead of using tox-install.sh, we can install neutron now directly from pypi\n- or use the current branch in CI system using tox-siblings.\n\nUpdate tox.ini for this change and add neutron to\nrequirements file.\n\nConflicts:\n\ttools/tox_install.sh\n\ttox.ini\n\nThe backport caps neutron below 13.0.0 because upper-constraints in queens\ndoes not have neutron.\n\nChange-Id: I416acf75c3db3cdf202a6bc49d96d1abb73b2d6e\n(cherry picked from commit 9443e4e7a252347cd0bdb57e66ec51e3c8aaae3f)\n'}]",0,602273,573866866c5f6d73c948f018e54526d96ed0c496,12,6,2,10239,,,0,"Avoid tox_install.sh

Instead of using tox-install.sh, we can install neutron now directly from pypi
- or use the current branch in CI system using tox-siblings.

Update tox.ini for this change and add neutron to
requirements file.

Conflicts:
	tools/tox_install.sh
	tox.ini

The backport caps neutron below 13.0.0 because upper-constraints in queens
does not have neutron.

Change-Id: I416acf75c3db3cdf202a6bc49d96d1abb73b2d6e
(cherry picked from commit 9443e4e7a252347cd0bdb57e66ec51e3c8aaae3f)
",git fetch https://review.opendev.org/openstack/networking-baremetal refs/changes/73/602273/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tools/tox_install.sh', 'tox.ini']",3,049110609e17bc33f95281c6720b8fbb45578b6f,story/2004933,install_command = pip install {opts} {packages}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/queens} -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt,install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/queens} {opts} {packages} VIRTUAL_ENV={envdir}deps = -r{toxinidir}/test-requirements.txt,6,48
openstack%2Fironic-python-agent~master~Id446a67a31d25a21b086f85b459c0bec6b58ca7e,openstack/ironic-python-agent,master,Id446a67a31d25a21b086f85b459c0bec6b58ca7e,Building tinyipa with python3 by default,MERGED,2019-02-07 11:50:26.000000000,2019-02-09 00:17:21.000000000,2019-02-09 00:17:21.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-02-07 11:50:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/8d46b818c70e01b5ab284034710d5e329d4adab9', 'message': '[WIP] Building tinyipa with python3 by default\n\nTinycore is the base image for testing Ironic Python Agent.\nIn the effort of moving toward a full python3 friendly\nenvironment, with this patch we start building the tinyipa\nimage with python3 by default.\n\nChange-Id: Id446a67a31d25a21b086f85b459c0bec6b58ca7e\n'}, {'number': 2, 'created': '2019-02-07 13:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/8293789223bbf884ce0c4ab834402fbcd6316cd7', 'message': 'Building tinyipa with python3 by default\n\nTinycore is the base image for testing Ironic Python Agent.\nIn the effort of moving toward a full python3 friendly\nenvironment, with this patch we start building the tinyipa\nimage with python3 by default.\n\nThis patch is a Follow-up to\nhttps://review.openstack.org/#/c/635487/\n\nChange-Id: Id446a67a31d25a21b086f85b459c0bec6b58ca7e\n'}, {'number': 3, 'created': '2019-02-08 13:15:23.000000000', 'files': ['imagebuild/tinyipa/build-tinyipa.sh', 'releasenotes/notes/tinyipa-python3-default-b8434793e17465db.yaml', 'imagebuild/tinyipa/finalise-tinyipa.sh'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d94ad626ec8c5fead38e880bfdd6ab8124776ff0', 'message': 'Building tinyipa with python3 by default\n\nTinycore is the base image for testing Ironic Python Agent.\nIn the effort of moving toward a full python3 friendly\nenvironment, with this patch we start building the tinyipa\nimage with python3 by default.\n\nThis patch is a Follow-up to\nhttps://review.openstack.org/#/c/635487/\n\nChange-Id: Id446a67a31d25a21b086f85b459c0bec6b58ca7e\n'}]",2,635487,d94ad626ec8c5fead38e880bfdd6ab8124776ff0,13,4,3,23851,,,0,"Building tinyipa with python3 by default

Tinycore is the base image for testing Ironic Python Agent.
In the effort of moving toward a full python3 friendly
environment, with this patch we start building the tinyipa
image with python3 by default.

This patch is a Follow-up to
https://review.openstack.org/#/c/635487/

Change-Id: Id446a67a31d25a21b086f85b459c0bec6b58ca7e
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/87/635487/2 && git format-patch -1 --stdout FETCH_HEAD,"['imagebuild/tinyipa/build-tinyipa.sh', 'imagebuild/tinyipa/finalise-tinyipa.sh']",2,8d46b818c70e01b5ab284034710d5e329d4adab9,tinyipa_python3_default,USE_PYTHON3=${USE_PYTHON3:-True},USE_PYTHON3=${USE_PYTHON3:-False},2,2
openstack%2Fswift~master~I7dda8a25c9e13b0d81293f0a966c34713c93f6ad,openstack/swift,master,I7dda8a25c9e13b0d81293f0a966c34713c93f6ad,s3api: Look for more indications of aws-chunked uploads,MERGED,2018-11-30 01:56:11.000000000,2019-02-08 23:52:36.000000000,2019-02-08 23:52:36.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-30 01:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e7a945e0e6aba3787e675c3786c0254df82a0c93', 'message': 's3api: Look for more indications of aws-chunked uploads\n\nChange-Id: I7dda8a25c9e13b0d81293f0a966c34713c93f6ad\n'}, {'number': 2, 'created': '2018-11-30 18:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8a97421d86d81992d9958e92b4f91b86bf383866', 'message': 's3api: Look for more indications of aws-chunked uploads\n\nChange-Id: I7dda8a25c9e13b0d81293f0a966c34713c93f6ad\n'}, {'number': 3, 'created': '2018-11-30 19:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/359fb350ebbffe78e703342cf06f996a67b70b42', 'message': 's3api: Look for more indications of aws-chunked uploads\n\nChange-Id: I7dda8a25c9e13b0d81293f0a966c34713c93f6ad\n'}, {'number': 4, 'created': '2019-01-08 19:24:46.000000000', 'files': ['swift/common/middleware/s3api/s3request.py', 'test/unit/common/middleware/s3api/test_s3api.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/1a51604b26e7cd1b3f3e7d30176b251501070e07', 'message': 's3api: Look for more indications of aws-chunked uploads\n\nChange-Id: I7dda8a25c9e13b0d81293f0a966c34713c93f6ad\nRelated-Bug: 1810026\n'}]",3,621055,1a51604b26e7cd1b3f3e7d30176b251501070e07,14,3,4,15343,,,0,"s3api: Look for more indications of aws-chunked uploads

Change-Id: I7dda8a25c9e13b0d81293f0a966c34713c93f6ad
Related-Bug: 1810026
",git fetch https://review.opendev.org/openstack/swift refs/changes/55/621055/2 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/s3api/s3request.py', 'test/unit/common/middleware/s3api/test_s3api.py']",2,e7a945e0e6aba3787e675c3786c0254df82a0c93,," # Some clients skip the content-encoding, such as minio-go prior to # https://github.com/minio/minio-go/pull/1048 self._test_unsupported_header('x-amz-content-sha256', 'STREAMING-AWS4-HMAC-SHA256-PAYLOAD') self._test_unsupported_header('x-amz-decoded-content-length')",,10,1
openstack%2Fcharm-percona-cluster~master~I9f6990cc8601abb703e27a56c4cb243245031234,openstack/charm-percona-cluster,master,I9f6990cc8601abb703e27a56c4cb243245031234,Update pre-install hooks to fail on error,MERGED,2019-02-08 21:56:54.000000000,2019-02-08 23:36:29.000000000,2019-02-08 23:36:29.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 21:56:54.000000000', 'files': ['hooks/install'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/3ca3cd3f870fd28f29c4cee12ca456e6d76b9a8f', 'message': 'Update pre-install hooks to fail on error\n\nThe pre-install operations may fail, yet that failure is not\nelevated to the user. This masks the failure and makes early\npackage install issues difficult to troubleshoot.\n\nIf the basic pre-install script fails, the charm should not\nproceed to later hooks as the requirements may not be met.\n\nHashbangs for bash should specify -e (errexit) on all of the\npre-install bash scripts.\n\nChange-Id: I9f6990cc8601abb703e27a56c4cb243245031234\nCloses-bug: #1815243\nPartial-bug: #1815231\n'}]",0,635961,3ca3cd3f870fd28f29c4cee12ca456e6d76b9a8f,7,3,1,20635,,,0,"Update pre-install hooks to fail on error

The pre-install operations may fail, yet that failure is not
elevated to the user. This masks the failure and makes early
package install issues difficult to troubleshoot.

If the basic pre-install script fails, the charm should not
proceed to later hooks as the requirements may not be met.

Hashbangs for bash should specify -e (errexit) on all of the
pre-install bash scripts.

Change-Id: I9f6990cc8601abb703e27a56c4cb243245031234
Closes-bug: #1815243
Partial-bug: #1815231
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/61/635961/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/install'],1,3ca3cd3f870fd28f29c4cee12ca456e6d76b9a8f,bug/1815243,#!/bin/bash -e,#!/bin/bash,1,1
openstack%2Fcharm-nova-lxd~master~I6178e2cb6665b7a4bdbe66a63b29616067932352,openstack/charm-nova-lxd,master,I6178e2cb6665b7a4bdbe66a63b29616067932352,Update pre-install hooks to fail on error,MERGED,2019-02-08 21:52:21.000000000,2019-02-08 23:36:17.000000000,2019-02-08 23:36:17.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 21:52:21.000000000', 'files': ['hooks/install'], 'web_link': 'https://opendev.org/openstack/charm-nova-lxd/commit/2996db663ffe78ef4754233f9ab565cc92551c9c', 'message': 'Update pre-install hooks to fail on error\n\nThe pre-install operations may fail, yet that failure is not\nelevated to the user. This masks the failure and makes early\npackage install issues difficult to troubleshoot.\n\nIf the basic pre-install script fails, the charm should not\nproceed to later hooks as the requirements may not be met.\n\nHashbangs for bash should specify -e (errexit) on all of the\npre-install bash scripts.\n\nChange-Id: I6178e2cb6665b7a4bdbe66a63b29616067932352\nCloses-bug: #1815243\nPartial-bug: #1815231\n'}]",0,635958,2996db663ffe78ef4754233f9ab565cc92551c9c,7,3,1,20635,,,0,"Update pre-install hooks to fail on error

The pre-install operations may fail, yet that failure is not
elevated to the user. This masks the failure and makes early
package install issues difficult to troubleshoot.

If the basic pre-install script fails, the charm should not
proceed to later hooks as the requirements may not be met.

Hashbangs for bash should specify -e (errexit) on all of the
pre-install bash scripts.

Change-Id: I6178e2cb6665b7a4bdbe66a63b29616067932352
Closes-bug: #1815243
Partial-bug: #1815231
",git fetch https://review.opendev.org/openstack/charm-nova-lxd refs/changes/58/635958/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/install'],1,2996db663ffe78ef4754233f9ab565cc92551c9c,bug/1815243,#!/bin/bash -e,#!/bin/bash,1,1
openstack%2Fcharm-heat~master~Ibadb518bfccc3e6a83ec054fc1fb5b1cac096d33,openstack/charm-heat,master,Ibadb518bfccc3e6a83ec054fc1fb5b1cac096d33,Update pre-install hooks to fail on error,MERGED,2019-02-08 21:51:04.000000000,2019-02-08 23:34:07.000000000,2019-02-08 23:34:07.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 21:51:04.000000000', 'files': ['hooks/install'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/2b6943ddad5d572329391d7b88ba2d5173c044d1', 'message': 'Update pre-install hooks to fail on error\n\nThe pre-install operations may fail, yet that failure is not\nelevated to the user. This masks the failure and makes early\npackage install issues difficult to troubleshoot.\n\nIf the basic pre-install script fails, the charm should not\nproceed to later hooks as the requirements may not be met.\n\nHashbangs for bash should specify -e (errexit) on all of the\npre-install bash scripts.\n\nChange-Id: Ibadb518bfccc3e6a83ec054fc1fb5b1cac096d33\nCloses-bug: #1815243\nPartial-bug: #1815231\n'}]",0,635956,2b6943ddad5d572329391d7b88ba2d5173c044d1,7,3,1,20635,,,0,"Update pre-install hooks to fail on error

The pre-install operations may fail, yet that failure is not
elevated to the user. This masks the failure and makes early
package install issues difficult to troubleshoot.

If the basic pre-install script fails, the charm should not
proceed to later hooks as the requirements may not be met.

Hashbangs for bash should specify -e (errexit) on all of the
pre-install bash scripts.

Change-Id: Ibadb518bfccc3e6a83ec054fc1fb5b1cac096d33
Closes-bug: #1815243
Partial-bug: #1815231
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/56/635956/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/install'],1,2b6943ddad5d572329391d7b88ba2d5173c044d1,bug/1815243,#!/bin/bash -e,#!/bin/bash,1,1
openstack%2Fcharm-nova-cloud-controller~master~Ie6c8f84dc72802897d3a9c9fab6a57953d5eb2f8,openstack/charm-nova-cloud-controller,master,Ie6c8f84dc72802897d3a9c9fab6a57953d5eb2f8,Update pre-install hooks to fail on error,MERGED,2019-02-08 21:55:44.000000000,2019-02-08 23:31:24.000000000,2019-02-08 23:31:24.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 21:55:44.000000000', 'files': ['hooks/install'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/3edfdfd152a106fb5a3a5a27db5b28e39655b52f', 'message': 'Update pre-install hooks to fail on error\n\nThe pre-install operations may fail, yet that failure is not\nelevated to the user. This masks the failure and makes early\npackage install issues difficult to troubleshoot.\n\nIf the basic pre-install script fails, the charm should not\nproceed to later hooks as the requirements may not be met.\n\nHashbangs for bash should specify -e (errexit) on all of the\npre-install bash scripts.\n\nChange-Id: Ie6c8f84dc72802897d3a9c9fab6a57953d5eb2f8\nCloses-bug: #1815243\nPartial-bug: #1815231\n'}]",0,635959,3edfdfd152a106fb5a3a5a27db5b28e39655b52f,7,3,1,20635,,,0,"Update pre-install hooks to fail on error

The pre-install operations may fail, yet that failure is not
elevated to the user. This masks the failure and makes early
package install issues difficult to troubleshoot.

If the basic pre-install script fails, the charm should not
proceed to later hooks as the requirements may not be met.

Hashbangs for bash should specify -e (errexit) on all of the
pre-install bash scripts.

Change-Id: Ie6c8f84dc72802897d3a9c9fab6a57953d5eb2f8
Closes-bug: #1815243
Partial-bug: #1815231
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/59/635959/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/install'],1,3edfdfd152a106fb5a3a5a27db5b28e39655b52f,bug/1815243,#!/bin/bash -e,#!/bin/bash,1,1
openstack%2Fneutron-lib~master~I3e702b99fd5084e8090f93c384aa1f704edceaff,openstack/neutron-lib,master,I3e702b99fd5084e8090f93c384aa1f704edceaff,rehome db api orm event listener functions,MERGED,2018-12-14 19:08:44.000000000,2019-02-08 23:11:37.000000000,2019-01-10 00:00:07.000000000,"[{'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-14 19:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/7e9c0b8fcacdf2d0e44df9584e0467ff5c07f4cd', 'message': ""rehome db api orm event listener functions\n\nThe rehome/consumption of the db api caused some errors in consumer\nprojects related to the ORM event listeners no longer getting\ninitialized [1]. While the short term fix [1] was to import neutron's\ndb api elsewhere, this doesn't work longer term as consumers need to\ndecouple from neutron, thus not importing neutron modules.\n\nThis patch rehomes the db api ORM event listeners into neutron-lib and\ninitializes them upon import of neutron_lib (top-level). This change\nwill allow consumers to load the event listeners by importing anything\nfrom neutron-lib, thus breaking the dependency on neutron.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1802369\n\nRelated-Bug: 1802369\n\nChange-Id: I3e702b99fd5084e8090f93c384aa1f704edceaff\n""}, {'number': 2, 'created': '2018-12-17 14:13:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/cee79adedaa02add73c85fa909e8b1e57a51413a', 'message': ""rehome db api orm event listener functions\n\nThe rehome/consumption of the db api caused some errors in consumer\nprojects related to the ORM event listeners no longer getting\ninitialized [1]. While the short term fix [1] was to import neutron's\ndb api elsewhere, this doesn't work longer term as consumers need to\ndecouple from neutron, thus not importing neutron modules.\n\nThis patch rehomes the db api ORM event listeners into neutron-lib and\ninitializes them upon import of neutron_lib (top-level). This change\nwill allow consumers to load the event listeners by importing anything\nfrom neutron-lib, thus breaking the dependency on neutron.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1802369\n\nRelated-Bug: 1802369\n\nChange-Id: I3e702b99fd5084e8090f93c384aa1f704edceaff\n""}, {'number': 3, 'created': '2018-12-17 18:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/81b2b47df64370685cbc04129d85e83f1761b3da', 'message': ""rehome db api orm event listener functions\n\nThe rehome/consumption of the db api caused some errors in consumer\nprojects related to the ORM event listeners no longer getting\ninitialized [1]. While the short term fix [1] was to import neutron's\ndb api elsewhere, this doesn't work longer term as consumers need to\ndecouple from neutron, thus not importing neutron modules.\n\nThis patch rehomes the db api ORM event listeners into neutron-lib and\ninitializes them upon import of neutron_lib (top-level). This change\nwill allow consumers to load the event listeners by importing anything\nfrom neutron-lib, thus breaking the dependency on neutron.\n\nThis patch also bumps the requirement for SQLAlchemy to match neutrons.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1802369\n\nRelated-Bug: 1802369\n\nChange-Id: I3e702b99fd5084e8090f93c384aa1f704edceaff\n""}, {'number': 4, 'created': '2018-12-31 17:28:49.000000000', 'files': ['requirements.txt', 'neutron_lib/db/api.py', 'lower-constraints.txt', 'releasenotes/notes/rehome-db-api-event-listeners-2fb5256166e2a4e8.yaml', 'neutron_lib/__init__.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/14bc0d940841de31f055fa3170289e0fa671b7bb', 'message': ""rehome db api orm event listener functions\n\nThe rehome/consumption of the db api caused some errors in consumer\nprojects related to the ORM event listeners no longer getting\ninitialized [1]. While the short term fix [1] was to import neutron's\ndb api elsewhere, this doesn't work longer term as consumers need to\ndecouple from neutron, thus not importing neutron modules.\n\nThis patch rehomes the db api ORM event listeners into neutron-lib and\ninitializes them upon import of neutron_lib (top-level). This change\nwill allow consumers to load the event listeners by importing anything\nfrom neutron-lib, thus breaking the dependency on neutron.\n\nThis patch also bumps the requirement for SQLAlchemy to match neutrons.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1802369\n\nRelated-Bug: 1802369\n\nChange-Id: I3e702b99fd5084e8090f93c384aa1f704edceaff\n""}]",4,625332,14bc0d940841de31f055fa3170289e0fa671b7bb,20,5,4,5367,,,0,"rehome db api orm event listener functions

The rehome/consumption of the db api caused some errors in consumer
projects related to the ORM event listeners no longer getting
initialized [1]. While the short term fix [1] was to import neutron's
db api elsewhere, this doesn't work longer term as consumers need to
decouple from neutron, thus not importing neutron modules.

This patch rehomes the db api ORM event listeners into neutron-lib and
initializes them upon import of neutron_lib (top-level). This change
will allow consumers to load the event listeners by importing anything
from neutron-lib, thus breaking the dependency on neutron.

This patch also bumps the requirement for SQLAlchemy to match neutrons.

[1] https://bugs.launchpad.net/neutron/+bug/1802369

Related-Bug: 1802369

Change-Id: I3e702b99fd5084e8090f93c384aa1f704edceaff
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/32/625332/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/db/api.py', 'releasenotes/notes/rehome-db-api-event-listeners-2fb5256166e2a4e8.yaml', 'neutron_lib/__init__.py']",3,7e9c0b8fcacdf2d0e44df9584e0467ff5c07f4cd,bug/1802369,from neutron_lib.db import api # noqa # NOTE(boden): neutron_lib.db.api is imported to ensure the ORM event listeners # are registered upon importing any neutron-lib module. For more details see # defect https://bugs.launchpad.net/networking-ovn/+bug/1802369,,135,0
openstack%2Fcharm-cinder~master~I3e421d586df341113bbcd1888f280a2ea24c52b9,openstack/charm-cinder,master,I3e421d586df341113bbcd1888f280a2ea24c52b9,Update pre-install hooks to fail on error,MERGED,2019-02-08 21:47:49.000000000,2019-02-08 23:11:33.000000000,2019-02-08 23:11:33.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 21:47:49.000000000', 'files': ['hooks/install'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/9eb22b894914f36da8ceaa71eb243e465b6a9731', 'message': 'Update pre-install hooks to fail on error\n\nThe pre-install operations may fail, yet that failure is not\nelevated to the user. This masks the failure and makes early\npackage install issues difficult to troubleshoot.\n\nIf the basic pre-install script fails, the charm should not\nproceed to later hooks as the requirements may not be met.\n\nHashbangs for bash should specify -e (errexit) on all of the\npre-install bash scripts.\n\nChange-Id: I3e421d586df341113bbcd1888f280a2ea24c52b9\nCloses-bug: #1815243\nPartial-bug: #1815231\n'}]",0,635949,9eb22b894914f36da8ceaa71eb243e465b6a9731,7,3,1,20635,,,0,"Update pre-install hooks to fail on error

The pre-install operations may fail, yet that failure is not
elevated to the user. This masks the failure and makes early
package install issues difficult to troubleshoot.

If the basic pre-install script fails, the charm should not
proceed to later hooks as the requirements may not be met.

Hashbangs for bash should specify -e (errexit) on all of the
pre-install bash scripts.

Change-Id: I3e421d586df341113bbcd1888f280a2ea24c52b9
Closes-bug: #1815243
Partial-bug: #1815231
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/49/635949/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/install'],1,9eb22b894914f36da8ceaa71eb243e465b6a9731,bug/1815243,#!/bin/bash -e,#!/bin/bash,1,1
openstack%2Fcharm-ceilometer~master~Ibea69c2280c58f995152330f8a60f7d1babcf549,openstack/charm-ceilometer,master,Ibea69c2280c58f995152330f8a60f7d1babcf549,Update pre-install hooks to fail on error,MERGED,2019-02-08 21:46:29.000000000,2019-02-08 23:09:30.000000000,2019-02-08 23:09:30.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 21:46:29.000000000', 'files': ['hooks/install'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/554bf0af8eb2e6738cc078a7ae8440c61ecc0b04', 'message': 'Update pre-install hooks to fail on error\n\nThe pre-install operations may fail, yet that failure is not\nelevated to the user. This masks the failure and makes early\npackage install issues difficult to troubleshoot.\n\nIf the basic pre-install script fails, the charm should not\nproceed to later hooks as the requirements may not be met.\n\nHashbangs for bash should specify -e (errexit) on all of the\npre-install bash scripts.\n\nChange-Id: Ibea69c2280c58f995152330f8a60f7d1babcf549\nCloses-bug: #1815243\nPartial-bug: #1815231\n'}]",0,635947,554bf0af8eb2e6738cc078a7ae8440c61ecc0b04,7,3,1,20635,,,0,"Update pre-install hooks to fail on error

The pre-install operations may fail, yet that failure is not
elevated to the user. This masks the failure and makes early
package install issues difficult to troubleshoot.

If the basic pre-install script fails, the charm should not
proceed to later hooks as the requirements may not be met.

Hashbangs for bash should specify -e (errexit) on all of the
pre-install bash scripts.

Change-Id: Ibea69c2280c58f995152330f8a60f7d1babcf549
Closes-bug: #1815243
Partial-bug: #1815231
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/47/635947/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/install'],1,554bf0af8eb2e6738cc078a7ae8440c61ecc0b04,bug/1815243,#!/bin/bash -e,#!/bin/bash,1,1
openstack%2Fcharm-hacluster~master~I4e03103789100aca944ad79d2e59abfa6a65ab3f,openstack/charm-hacluster,master,I4e03103789100aca944ad79d2e59abfa6a65ab3f,Update pre-install hooks to fail on error,MERGED,2019-02-08 21:50:36.000000000,2019-02-08 23:08:57.000000000,2019-02-08 23:08:57.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 21:50:36.000000000', 'files': ['hooks/install'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/84ca05beb859f75268d25a986ef189fd8924ece5', 'message': 'Update pre-install hooks to fail on error\n\nThe pre-install operations may fail, yet that failure is not\nelevated to the user. This masks the failure and makes early\npackage install issues difficult to troubleshoot.\n\nIf the basic pre-install script fails, the charm should not\nproceed to later hooks as the requirements may not be met.\n\nHashbangs for bash should specify -e (errexit) on all of the\npre-install bash scripts.\n\nChange-Id: I4e03103789100aca944ad79d2e59abfa6a65ab3f\nCloses-bug: #1815243\nPartial-bug: #1815231\n'}]",0,635955,84ca05beb859f75268d25a986ef189fd8924ece5,7,3,1,20635,,,0,"Update pre-install hooks to fail on error

The pre-install operations may fail, yet that failure is not
elevated to the user. This masks the failure and makes early
package install issues difficult to troubleshoot.

If the basic pre-install script fails, the charm should not
proceed to later hooks as the requirements may not be met.

Hashbangs for bash should specify -e (errexit) on all of the
pre-install bash scripts.

Change-Id: I4e03103789100aca944ad79d2e59abfa6a65ab3f
Closes-bug: #1815243
Partial-bug: #1815231
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/55/635955/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/install'],1,84ca05beb859f75268d25a986ef189fd8924ece5,bug/1815243,#!/bin/bash -e,#!/bin/bash,1,1
openstack%2Fcharm-swift-storage~master~Ie2a9e473e35eb8067db2890c62b4af9adce3ed43,openstack/charm-swift-storage,master,Ie2a9e473e35eb8067db2890c62b4af9adce3ed43,Update pre-install hooks to fail on error,MERGED,2019-02-08 21:41:30.000000000,2019-02-08 23:07:05.000000000,2019-02-08 23:07:05.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 21:41:30.000000000', 'files': ['hooks/install'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/30466da23da2b962280ccbd5c2438080db77b49f', 'message': 'Update pre-install hooks to fail on error\n\nThe pre-install operations may fail, yet that failure is not\nelevated to the user. This masks the failure and makes early\npackage install issues difficult to troubleshoot.\n\nIf the basic pre-install script fails, the charm should not\nproceed to later hooks as the requirements may not be met.\n\nHashbangs for bash should specify -e (errexit) on all of the\npre-install bash scripts.\n\nChange-Id: Ie2a9e473e35eb8067db2890c62b4af9adce3ed43\nCloses-bug: #1815243\nPartial-bug: #1815231\n'}]",0,635946,30466da23da2b962280ccbd5c2438080db77b49f,7,3,1,20635,,,0,"Update pre-install hooks to fail on error

The pre-install operations may fail, yet that failure is not
elevated to the user. This masks the failure and makes early
package install issues difficult to troubleshoot.

If the basic pre-install script fails, the charm should not
proceed to later hooks as the requirements may not be met.

Hashbangs for bash should specify -e (errexit) on all of the
pre-install bash scripts.

Change-Id: Ie2a9e473e35eb8067db2890c62b4af9adce3ed43
Closes-bug: #1815243
Partial-bug: #1815231
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/46/635946/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/install'],1,30466da23da2b962280ccbd5c2438080db77b49f,bug/1815243,#!/bin/bash -e,#!/bin/bash,1,1
openstack%2Fcharm-cinder-ceph~master~I67b3a965b11844a2768800225396927f17864116,openstack/charm-cinder-ceph,master,I67b3a965b11844a2768800225396927f17864116,Update pre-install hooks to fail on error,MERGED,2019-02-08 21:48:24.000000000,2019-02-08 23:06:57.000000000,2019-02-08 23:06:57.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 21:48:24.000000000', 'files': ['hooks/install'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/d3cfc3ff1300175674338ebc6cafb2225e5bee59', 'message': 'Update pre-install hooks to fail on error\n\nThe pre-install operations may fail, yet that failure is not\nelevated to the user. This masks the failure and makes early\npackage install issues difficult to troubleshoot.\n\nIf the basic pre-install script fails, the charm should not\nproceed to later hooks as the requirements may not be met.\n\nHashbangs for bash should specify -e (errexit) on all of the\npre-install bash scripts.\n\nChange-Id: I67b3a965b11844a2768800225396927f17864116\nCloses-bug: #1815243\nPartial-bug: #1815231\n'}]",0,635950,d3cfc3ff1300175674338ebc6cafb2225e5bee59,7,3,1,20635,,,0,"Update pre-install hooks to fail on error

The pre-install operations may fail, yet that failure is not
elevated to the user. This masks the failure and makes early
package install issues difficult to troubleshoot.

If the basic pre-install script fails, the charm should not
proceed to later hooks as the requirements may not be met.

Hashbangs for bash should specify -e (errexit) on all of the
pre-install bash scripts.

Change-Id: I67b3a965b11844a2768800225396927f17864116
Closes-bug: #1815243
Partial-bug: #1815231
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/50/635950/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/install'],1,d3cfc3ff1300175674338ebc6cafb2225e5bee59,bug/1815243,#!/bin/bash -e,#!/bin/bash,1,1
openstack%2Fcharm-glance~master~Iac27d10d928bd0cca60a52564fab4d8082ca1edb,openstack/charm-glance,master,Iac27d10d928bd0cca60a52564fab4d8082ca1edb,Update pre-install hooks to fail on error,MERGED,2019-02-08 21:49:36.000000000,2019-02-08 23:05:01.000000000,2019-02-08 23:05:01.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 21:49:36.000000000', 'files': ['hooks/install'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/8b2c46cff7035db47af8ca344feaebd4ebac6633', 'message': 'Update pre-install hooks to fail on error\n\nThe pre-install operations may fail, yet that failure is not\nelevated to the user. This masks the failure and makes early\npackage install issues difficult to troubleshoot.\n\nIf the basic pre-install script fails, the charm should not\nproceed to later hooks as the requirements may not be met.\n\nHashbangs for bash should specify -e (errexit) on all of the\npre-install bash scripts.\n\nChange-Id: Iac27d10d928bd0cca60a52564fab4d8082ca1edb\nCloses-bug: #1815243\nPartial-bug: #1815231\n'}]",0,635954,8b2c46cff7035db47af8ca344feaebd4ebac6633,7,3,1,20635,,,0,"Update pre-install hooks to fail on error

The pre-install operations may fail, yet that failure is not
elevated to the user. This masks the failure and makes early
package install issues difficult to troubleshoot.

If the basic pre-install script fails, the charm should not
proceed to later hooks as the requirements may not be met.

Hashbangs for bash should specify -e (errexit) on all of the
pre-install bash scripts.

Change-Id: Iac27d10d928bd0cca60a52564fab4d8082ca1edb
Closes-bug: #1815243
Partial-bug: #1815231
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/54/635954/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/install'],1,8b2c46cff7035db47af8ca344feaebd4ebac6633,bug/1815243,#!/bin/bash -e,#!/bin/bash,1,1
openstack%2Fnova~stable%2Frocky~Ia5504da9a00bad689766aeda20255e10b7629f63,openstack/nova,stable/rocky,Ia5504da9a00bad689766aeda20255e10b7629f63,Allow ability for non admin users to use all filters on server list.,ABANDONED,2019-01-30 10:42:43.000000000,2019-02-08 23:02:55.000000000,,"[{'_account_id': 3031}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-01-30 10:42:43.000000000', 'files': ['nova/tests/unit/test_policy.py', 'nova/tests/unit/fake_policy.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/policies/servers.py', 'releasenotes/notes/add-server-use_all_filters-policy-3ddfe1885056f0ca.yaml', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7f10e31e82fd2cab6fc1a765981ce67fb0648a16', 'message': 'Allow ability for non admin users to use all filters on server list.\n\nAdds a new policy rule ""os_compute_api:servers:allow_all_filters""\nto control whether a user can use all filters when listing servers.\n\nCloses-bug: #1737050\n\nChange-Id: Ia5504da9a00bad689766aeda20255e10b7629f63\n(cherry picked from commit 7c56588647be64a2248b1f37d40369765bc6b977)\n'}]",0,633910,7f10e31e82fd2cab6fc1a765981ce67fb0648a16,13,9,1,4690,,,0,"Allow ability for non admin users to use all filters on server list.

Adds a new policy rule ""os_compute_api:servers:allow_all_filters""
to control whether a user can use all filters when listing servers.

Closes-bug: #1737050

Change-Id: Ia5504da9a00bad689766aeda20255e10b7629f63
(cherry picked from commit 7c56588647be64a2248b1f37d40369765bc6b977)
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/633910/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/test_policy.py', 'nova/tests/unit/fake_policy.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/policies/servers.py', 'releasenotes/notes/add-server-use_all_filters-policy-3ddfe1885056f0ca.yaml', 'nova/api/openstack/compute/servers.py']",6,7f10e31e82fd2cab6fc1a765981ce67fb0648a16,bug/1737050-stable/rocky," """"""Remove search options that are not permitted unless policy allows."""""" if context.can(server_policies.SERVERS % 'allow_all_filters', fatal=False):"," """"""Remove search options that are not valid for non-admin API/context."""""" if context.is_admin:",63,2
openstack%2Fopenstack-zuul-jobs~master~I5bc6dbff0901f05d551eaf9a7ef18704ad00a469,openstack/openstack-zuul-jobs,master,I5bc6dbff0901f05d551eaf9a7ef18704ad00a469,Remove revoke-sudo from puppet-tarball playbook,ABANDONED,2019-01-23 11:15:25.000000000,2019-02-08 23:00:08.000000000,,"[{'_account_id': 1}, {'_account_id': 4162}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 9414}, {'_account_id': 13252}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-23 11:15:25.000000000', 'files': ['playbooks/puppet-tarball/pre.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/966892bdfa87b219ce352cd588ab62c329f623c6', 'message': 'Remove revoke-sudo from puppet-tarball playbook\n\nOn the latest test run of release flow for puppet-aodh\nthat uses the new puppetforge post playbook that uses\nthe new role upload-puppetforge it failed with a\nMODULE FAILURE [1] [2].\n\nAfter checking we can see that the puppet-tarball playbook\nthat is building the tarball of the puppet module includes\nthe revoke-sudo role, this blocks the upload-puppetforge\nrole which needs to escalate it\'s privileges using ""become""\nto install system packages and gems as was merged in [3].\n\nThis removes the revoke-sudo role from the pre playbook for\nthe puppet-tarball job.\n\n[1] http://zuul.openstack.org/build/5d1f3d688f72474fa46ca147a2a693e5\n[2] http://logs.openstack.org/61/617ffad84b633618490ca1023f8a31d9694b31a9/release/release-openstack-puppet/5d1f3d6/job-output.txt.gz#_2019-01-23_10_32_27_857276\n[3] https://review.openstack.org/#/c/632163/\n\nChange-Id: I5bc6dbff0901f05d551eaf9a7ef18704ad00a469\n'}]",0,632699,966892bdfa87b219ce352cd588ab62c329f623c6,19,8,1,16137,,,0,"Remove revoke-sudo from puppet-tarball playbook

On the latest test run of release flow for puppet-aodh
that uses the new puppetforge post playbook that uses
the new role upload-puppetforge it failed with a
MODULE FAILURE [1] [2].

After checking we can see that the puppet-tarball playbook
that is building the tarball of the puppet module includes
the revoke-sudo role, this blocks the upload-puppetforge
role which needs to escalate it's privileges using ""become""
to install system packages and gems as was merged in [3].

This removes the revoke-sudo role from the pre playbook for
the puppet-tarball job.

[1] http://zuul.openstack.org/build/5d1f3d688f72474fa46ca147a2a693e5
[2] http://logs.openstack.org/61/617ffad84b633618490ca1023f8a31d9694b31a9/release/release-openstack-puppet/5d1f3d6/job-output.txt.gz#_2019-01-23_10_32_27_857276
[3] https://review.openstack.org/#/c/632163/

Change-Id: I5bc6dbff0901f05d551eaf9a7ef18704ad00a469
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/99/632699/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/puppet-tarball/pre.yaml'],1,966892bdfa87b219ce352cd588ab62c329f623c6,remove-puppet-tarball-revoke,, - revoke-sudo,0,1
openstack%2Fproject-config~master~I852a6362c35dd6aa17b0f767fceea811402dd90c,openstack/project-config,master,I852a6362c35dd6aa17b0f767fceea811402dd90c,Fix use of old site_logs secerts,MERGED,2019-02-08 20:04:27.000000000,2019-02-08 22:46:16.000000000,2019-02-08 22:46:16.000000000,"[{'_account_id': 1}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 20:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/edbcbc3a20adf811b84ceb45d4b640d2e834bc98', 'message': 'Fix use of old site_logs secerts\n\nThe site_logs secret moved into opendev/basejobs and we renamed the\nsite_logs secret here into site_logs_project_config and site_specs.\nUnfortauntely many of our playbooks in this repo were not updated to use\nthe new secret name so they cause some jobs to fail.\n\nFix this by updated the playbooks to use site_logs_project_config and\nsite_specs as appropriate.\n\nChange-Id: I852a6362c35dd6aa17b0f767fceea811402dd90c\n'}, {'number': 2, 'created': '2019-02-08 20:27:40.000000000', 'files': ['playbooks/base-ozj/post-logs.yaml', 'playbooks/base-minimal/post-logs.yaml', 'playbooks/publish/service-types.yaml', 'playbooks/publish/openstack-specs.yaml', 'tests/vars.yaml', 'playbooks/publish/openstack-specs-site.yaml', 'playbooks/base-test/post-logs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4deddced0d707b72737c3d7f76855911e9506565', 'message': 'Fix use of old site_logs secerts\n\nThe site_logs secret moved into opendev/basejobs and we renamed the\nsite_logs secret here into site_logs_project_config and site_specs.\nUnfortauntely many of our playbooks in this repo were not updated to use\nthe new secret name so they cause some jobs to fail.\n\nFix this by updated the playbooks to use site_logs_project_config and\nsite_specs as appropriate.\n\nChange-Id: I852a6362c35dd6aa17b0f767fceea811402dd90c\n'}]",0,635925,4deddced0d707b72737c3d7f76855911e9506565,10,3,2,4146,,,0,"Fix use of old site_logs secerts

The site_logs secret moved into opendev/basejobs and we renamed the
site_logs secret here into site_logs_project_config and site_specs.
Unfortauntely many of our playbooks in this repo were not updated to use
the new secret name so they cause some jobs to fail.

Fix this by updated the playbooks to use site_logs_project_config and
site_specs as appropriate.

Change-Id: I852a6362c35dd6aa17b0f767fceea811402dd90c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/25/635925/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/base-ozj/post-logs.yaml', 'playbooks/base-minimal/post-logs.yaml', 'playbooks/publish/service-types.yaml', 'playbooks/publish/openstack-specs.yaml', 'tests/vars.yaml', 'playbooks/publish/openstack-specs-site.yaml']",6,edbcbc3a20adf811b84ceb45d4b640d2e834bc98,cleanup-base," fileserver: ""{{ site_specs }}"" - hosts: ""{{ site_specs.fqdn }}"""," fileserver: ""{{ site_logs }}"" - hosts: ""{{ site_logs.fqdn }}""",13,11
openstack%2Fproject-config~master~I23d58a667af5b1b47caa251cbf1e74d6dce60ba4,openstack/project-config,master,I23d58a667af5b1b47caa251cbf1e74d6dce60ba4,Add noop jobs to opendev/base-jobs,MERGED,2019-02-08 20:08:40.000000000,2019-02-08 22:44:51.000000000,2019-02-08 22:44:51.000000000,"[{'_account_id': 1}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-02-08 20:08:40.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a630e261c2cb3d5587d6919abd5259d649f172af', 'message': 'Add noop jobs to opendev/base-jobs\n\nThis is bare minimum job setup on opendev/base-jobs so that we can start\nto merge changes to that repo.\n\nChange-Id: I23d58a667af5b1b47caa251cbf1e74d6dce60ba4\n'}]",0,635926,a630e261c2cb3d5587d6919abd5259d649f172af,8,4,1,4146,,,0,"Add noop jobs to opendev/base-jobs

This is bare minimum job setup on opendev/base-jobs so that we can start
to merge changes to that repo.

Change-Id: I23d58a667af5b1b47caa251cbf1e74d6dce60ba4
",git fetch https://review.opendev.org/openstack/project-config refs/changes/26/635926/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,a630e261c2cb3d5587d6919abd5259d649f172af,base-jobs-jobs,# Minimal setup to allow us to merge changes to opendev/base-jobs - project: name: opendev/base-jobs templates: - noop-jobs ,,6,0
openstack%2Freleases~master~Id84e66e4fac5fb5bdcd55d88565514e787bfa4f6,openstack/releases,master,Id84e66e4fac5fb5bdcd55d88565514e787bfa4f6,Switch Cloudkitty service to cycle-with-rc,MERGED,2019-02-07 21:43:21.000000000,2019-02-08 22:27:51.000000000,2019-02-08 22:27:51.000000000,"[{'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 23060}]","[{'number': 1, 'created': '2019-02-07 21:43:21.000000000', 'files': ['deliverables/stein/cloudkitty.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e57b08af0f840b2dc93353c37641172ad4649d83', 'message': 'Switch Cloudkitty service to cycle-with-rc\n\nThere were several deliverables set as cycle-with-intermediary that have\nnot been doing intermediary releases. That release model is intended for\ndeliverables that will be releases multiple times throughout the\ndevelopment cycle.\n\nWith the newer cycle-with-rc release model, teams have the option of not\nrequiring releases during the cycle and just making sure they are done\nnear the end of the cycle. See [1] for more details.\n\nThis proposes to change from a cycle-with-intermediary deliverable to be\ncycle-with-rc. Please confirm this is acceptable for the team and feel\nfree to ask any questions about this change.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2018-December/000465.html\n\nChange-Id: Id84e66e4fac5fb5bdcd55d88565514e787bfa4f6\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,635657,e57b08af0f840b2dc93353c37641172ad4649d83,12,5,1,11904,,,0,"Switch Cloudkitty service to cycle-with-rc

There were several deliverables set as cycle-with-intermediary that have
not been doing intermediary releases. That release model is intended for
deliverables that will be releases multiple times throughout the
development cycle.

With the newer cycle-with-rc release model, teams have the option of not
requiring releases during the cycle and just making sure they are done
near the end of the cycle. See [1] for more details.

This proposes to change from a cycle-with-intermediary deliverable to be
cycle-with-rc. Please confirm this is acceptable for the team and feel
free to ask any questions about this change.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2018-December/000465.html

Change-Id: Id84e66e4fac5fb5bdcd55d88565514e787bfa4f6
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/57/635657/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/cloudkitty.yaml'],1,e57b08af0f840b2dc93353c37641172ad4649d83,cloudkitty,release-model: cycle-with-rc,release-model: cycle-with-intermediary,1,1
openstack%2Fcharm-glance-simplestreams-sync~master~If75a51633526a586ffdadfbca39b48190f093c68,openstack/charm-glance-simplestreams-sync,master,If75a51633526a586ffdadfbca39b48190f093c68,Update pre-install hooks to fail on error,ABANDONED,2019-02-08 22:08:39.000000000,2019-02-08 22:11:26.000000000,,[],"[{'number': 1, 'created': '2019-02-08 22:08:39.000000000', 'files': ['hooks/install'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/071c900b234f72ec95f4db620c726f036ff2a1a0', 'message': 'Update pre-install hooks to fail on error\n\nThe pre-install operations may fail, yet that failure is not\nelevated to the user. This masks the failure and makes early\npackage install issues difficult to troubleshoot.\n\nIf the basic pre-install script fails, the charm should not\nproceed to later hooks as the requirements may not be met.\n\nHashbangs for bash should specify -e (errexit) on all of the\npre-install bash scripts.\n\nChange-Id: If75a51633526a586ffdadfbca39b48190f093c68\nCloses-bug: #1815243\nPartial-bug: #1815231\n'}]",0,635968,071c900b234f72ec95f4db620c726f036ff2a1a0,2,0,1,20805,,,0,"Update pre-install hooks to fail on error

The pre-install operations may fail, yet that failure is not
elevated to the user. This masks the failure and makes early
package install issues difficult to troubleshoot.

If the basic pre-install script fails, the charm should not
proceed to later hooks as the requirements may not be met.

Hashbangs for bash should specify -e (errexit) on all of the
pre-install bash scripts.

Change-Id: If75a51633526a586ffdadfbca39b48190f093c68
Closes-bug: #1815243
Partial-bug: #1815231
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/68/635968/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/install'],1,071c900b234f72ec95f4db620c726f036ff2a1a0,bug/1815243,#!/bin/bash -e,#!/bin/bash,1,1
openstack%2Fsahara~master~Iaae3a75cd75b06e94bc4492e5dc654a6281fdff4,openstack/sahara,master,Iaae3a75cd75b06e94bc4492e5dc654a6281fdff4,Dynamically loading plugins,MERGED,2019-01-17 19:28:49.000000000,2019-02-08 22:07:02.000000000,2019-02-08 22:07:02.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-01-17 19:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/acdf14bc2aa3f6e4721aa3d0ae3f748c2f70fdc2', 'message': 'Dynamically loading plugins\n\nSince plugins are not part of Sahara core anymore, loading plugins\nlike we currently do fails when plugins are not installed.\nCurrently we check the list of loaded plugins by checking the CONF\nfile plugins session. To fix that, we are changing to check the list\nof loaded plugins on the PluginManager variable loaded_plugins, this\nway we can instead of failing to start sahara if a desired plugin\nis not installed, we can warn that the plugin was not loaded and\ncontinue the application.\n\nChange-Id: Iaae3a75cd75b06e94bc4492e5dc654a6281fdff4\n'}, {'number': 2, 'created': '2019-01-18 20:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/41f51835733f572008b8c4c780f25a5db760d28f', 'message': 'Dynamically loading plugins\n\nSince plugins are not part of Sahara core anymore, loading plugins\nlike we currently do fails when plugins are not installed.\nCurrently we check the list of loaded plugins by checking the CONF\nfile plugins session. To fix that, we are changing to check the list\nof loaded plugins on the PluginManager variable loaded_plugins, this\nway we can instead of failing to start sahara if a desired plugin\nis not installed, we can warn that the plugin was not loaded and\ncontinue the application.\n\nChange-Id: Iaae3a75cd75b06e94bc4492e5dc654a6281fdff4\n'}, {'number': 3, 'created': '2019-01-21 13:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/34342ae8143c95294be728123e0dd4b70ba5ec21', 'message': 'Dynamically loading plugins\n\nSince plugins are not part of Sahara core anymore, loading plugins\nlike we currently do fails when plugins are not installed.\nCurrently we check the list of loaded plugins by checking the CONF\nfile plugins session. To fix that, we are changing to check the list\nof loaded plugins on the PluginManager variable loaded_plugins, this\nway we can instead of failing to start sahara if a desired plugin\nis not installed, we can warn that the plugin was not loaded and\ncontinue the application.\n\nChange-Id: Iaae3a75cd75b06e94bc4492e5dc654a6281fdff4\n'}, {'number': 4, 'created': '2019-01-21 16:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/3380c47b0cd3541fa38d6784c2df7dcd589c89ea', 'message': 'Dynamically loading plugins\n\nSince plugins are not part of Sahara core anymore, loading plugins\nlike we currently do fails when plugins are not installed.\nCurrently we check the list of loaded plugins by checking the CONF\nfile plugins session. To fix that, we are changing to check the list\nof loaded plugins on the PluginManager variable loaded_plugins, this\nway we can instead of failing to start sahara if a desired plugin\nis not installed, we can warn that the plugin was not loaded and\ncontinue the application.\n\nChange-Id: Iaae3a75cd75b06e94bc4492e5dc654a6281fdff4\n'}, {'number': 5, 'created': '2019-01-21 17:58:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/d3d4bf8ecd0e0b7616e96fb99775d2a605d8378a', 'message': 'Dynamically loading plugins\n\nSince plugins are not part of Sahara core anymore, loading plugins\nlike we currently do fails when plugins are not installed.\nCurrently we check the list of loaded plugins by checking the CONF\nfile plugins session. To fix that, we are changing to check the list\nof loaded plugins on the PluginManager variable loaded_plugins, this\nway we can instead of failing to start sahara if a desired plugin\nis not installed, we can warn that the plugin was not loaded and\ncontinue the application.\n\nChange-Id: Iaae3a75cd75b06e94bc4492e5dc654a6281fdff4\n'}, {'number': 6, 'created': '2019-01-30 20:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/03773d681eadba13d5d04a0ad1d293dd77009fcd', 'message': 'Dynamically loading plugins\n\nSince plugins are not part of Sahara core anymore, loading plugins\nlike we currently do fails when plugins are not installed.\nCurrently we check the list of loaded plugins by checking the CONF\nfile plugins session. To fix that, we are changing to check the list\nof loaded plugins on the PluginManager variable loaded_plugins, this\nway we can instead of failing to start sahara if a desired plugin\nis not installed, we can warn that the plugin was not loaded and\ncontinue the application.\n\nChange-Id: Iaae3a75cd75b06e94bc4492e5dc654a6281fdff4\n'}, {'number': 7, 'created': '2019-01-31 12:18:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/e757f2319587ba6eafef0c6f52a8e06e0889b0cf', 'message': 'Dynamically loading plugins\n\nSince plugins are not part of Sahara core anymore, loading plugins\nlike we currently do fails when plugins are not installed.\nCurrently we check the list of loaded plugins by checking the CONF\nfile plugins session. To fix that, we are changing to check the list\nof loaded plugins on the PluginManager variable loaded_plugins, this\nway we can instead of failing to start sahara if a desired plugin\nis not installed, we can warn that the plugin was not loaded and\ncontinue the application.\n\nChange-Id: Iaae3a75cd75b06e94bc4492e5dc654a6281fdff4\n'}, {'number': 8, 'created': '2019-01-31 14:13:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/71501fff333973661fa5af1fcd1d20284f7379d3', 'message': 'Dynamically loading plugins\n\nSince plugins are not part of Sahara core anymore, loading plugins\nlike we currently do fails when plugins are not installed.\nCurrently we check the list of loaded plugins by checking the CONF\nfile plugins session. To fix that, we are changing to check the list\nof loaded plugins on the PluginManager variable loaded_plugins, this\nway we can instead of failing to start sahara if a desired plugin\nis not installed, we can warn that the plugin was not loaded and\ncontinue the application.\n\nChange-Id: Iaae3a75cd75b06e94bc4492e5dc654a6281fdff4\n'}, {'number': 9, 'created': '2019-02-01 10:47:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/e808779a2586f96f8b4341424b668211cc39b7f3', 'message': 'Dynamically loading plugins\n\nSince plugins are not part of Sahara core anymore, loading plugins\nlike we currently do fails when plugins are not installed.\nCurrently we check the list of loaded plugins by checking the CONF\nfile plugins session. To fix that, we are changing to check the list\nof loaded plugins on the PluginManager variable loaded_plugins, this\nway we can instead of failing to start sahara if a desired plugin\nis not installed, we can warn that the plugin was not loaded and\ncontinue the application.\n\nChange-Id: Iaae3a75cd75b06e94bc4492e5dc654a6281fdff4\n'}, {'number': 10, 'created': '2019-02-01 17:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/7bfbe30f22d16015d5993fff1ad5b52bf4c50838', 'message': 'Dynamically loading plugins\n\nSince plugins are not part of Sahara core anymore, loading plugins\nlike we currently do fails when plugins are not installed.\nCurrently we check the list of loaded plugins by checking the CONF\nfile plugins session. To fix that, we are changing to check the list\nof loaded plugins on the PluginManager variable loaded_plugins, this\nway we can instead of failing to start sahara if a desired plugin\nis not installed, we can warn that the plugin was not loaded and\ncontinue the application.\n\nChange-Id: Iaae3a75cd75b06e94bc4492e5dc654a6281fdff4\n'}, {'number': 11, 'created': '2019-02-05 13:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/b0c60d5b41d134dd955709afb97614269826c5cf', 'message': 'Dynamically loading plugins\n\nSince plugins are not part of Sahara core anymore, loading plugins\nlike we currently do fails when plugins are not installed.\nCurrently we check the list of loaded plugins by checking the CONF\nfile plugins session. To fix that, we are changing to check the list\nof loaded plugins on the PluginManager variable loaded_plugins, this\nway we can instead of failing to start sahara if a desired plugin\nis not installed, we can warn that the plugin was not loaded and\ncontinue the application.\n\nChange-Id: Iaae3a75cd75b06e94bc4492e5dc654a6281fdff4\n'}, {'number': 12, 'created': '2019-02-05 14:30:17.000000000', 'files': ['sahara/cli/image_pack/api.py', 'tools/gate/build-images', 'roles/build-sahara-images-cli/tasks/main.yaml', 'sahara/plugins/base.py', '.zuul.yaml', 'sahara/cli/image_pack/cli.py', 'devstack/plugin.sh', 'devstack/settings', 'sahara/tests/unit/plugins/test_base_plugins_support.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/55bd5da57f505fe97043e19108fee3aa31708bb9', 'message': 'Dynamically loading plugins\n\nSince plugins are not part of Sahara core anymore, loading plugins\nlike we currently do fails when plugins are not installed.\nCurrently we check the list of loaded plugins by checking the CONF\nfile plugins session. To fix that, we are changing to check the list\nof loaded plugins on the PluginManager variable loaded_plugins, this\nway we can instead of failing to start sahara if a desired plugin\nis not installed, we can warn that the plugin was not loaded and\ncontinue the application.\n\nChange-Id: Iaae3a75cd75b06e94bc4492e5dc654a6281fdff4\n'}]",5,631603,55bd5da57f505fe97043e19108fee3aa31708bb9,54,4,12,8932,,,0,"Dynamically loading plugins

Since plugins are not part of Sahara core anymore, loading plugins
like we currently do fails when plugins are not installed.
Currently we check the list of loaded plugins by checking the CONF
file plugins session. To fix that, we are changing to check the list
of loaded plugins on the PluginManager variable loaded_plugins, this
way we can instead of failing to start sahara if a desired plugin
is not installed, we can warn that the plugin was not loaded and
continue the application.

Change-Id: Iaae3a75cd75b06e94bc4492e5dc654a6281fdff4
",git fetch https://review.opendev.org/openstack/sahara refs/changes/03/631603/12 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/cli/image_pack/api.py', 'sahara/plugins/base.py', 'sahara/cli/image_pack/cli.py']",3,acdf14bc2aa3f6e4721aa3d0ae3f748c2f70fdc2,plugins_loading, for plugin in api.get_loaded_plugins():, for plugin in CONF.plugins:,15,6
openstack%2Fneutron-lbaas~master~Ifb0d8336acaefadb607485b11221134fb579e9da,openstack/neutron-lbaas,master,Ifb0d8336acaefadb607485b11221134fb579e9da,Fix the neutron-lbaas-to-octavia-migration job,ABANDONED,2019-02-08 20:56:15.000000000,2019-02-08 21:50:02.000000000,,[{'_account_id': 9008}],"[{'number': 1, 'created': '2019-02-08 20:56:15.000000000', 'files': ['playbooks/migration-test/run.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/3e43527250169eb6cd7f6cd8b6c51aa66fdf15d9', 'message': 'Fix the neutron-lbaas-to-octavia-migration job\n\nA patch[1] changed the behavior for the VIP port security group migration.\nThis patch updates the test job to reflect that change.\n\n[1] https://review.openstack.org/#/c/592471/\n\nChange-Id: Ifb0d8336acaefadb607485b11221134fb579e9da\n'}]",0,635931,3e43527250169eb6cd7f6cd8b6c51aa66fdf15d9,3,1,1,11628,,,0,"Fix the neutron-lbaas-to-octavia-migration job

A patch[1] changed the behavior for the VIP port security group migration.
This patch updates the test job to reflect that change.

[1] https://review.openstack.org/#/c/592471/

Change-Id: Ifb0d8336acaefadb607485b11221134fb579e9da
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/31/635931/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/migration-test/run.yaml'],1,3e43527250169eb6cd7f6cd8b6c51aa66fdf15d9,,, - name: Validate VIP port security group ownership command: openstack security group show -f value -c project_id {{ lb_sg_id.stdout }} register: result failed_when: result.stdout.find(octavia_account_id.stdout) == -1 ,0,5
openstack%2Fcharm-ceph-radosgw~master~Ie9e68d465fbaba150d32b50b826734895ddf036e,openstack/charm-ceph-radosgw,master,Ie9e68d465fbaba150d32b50b826734895ddf036e,Update pre-install hooks to fail on error,ABANDONED,2019-02-08 21:13:49.000000000,2019-02-08 21:33:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-02-08 21:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/261d8dd4424c2f036c3cad26bb52c9e36dbbb4db', 'message': 'Update pre-install hooks to fail on error\n\nThe pre-install operations may fail, yet that failure is not\nelevated to the user.  This masks the failure and makes the\nissue difficult to troubleshoot.\n\nIf the basic pre-install script fails, the charm should not\nproceed to later hooks as the basic requirements cannot be\nmet.\n\nChange-Id: Ie9e68d465fbaba150d32b50b826734895ddf036e\nPartial-bug: #1815231\n'}, {'number': 2, 'created': '2019-02-08 21:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/e832e277c18e53442666b19cecb7e497fa121f93', 'message': 'Update pre-install hooks to fail on error\n\nThe pre-install operations may fail, yet that failure is not\nelevated to the user.  This masks the failure and makes the\nissue difficult to troubleshoot.\n\nIf the basic pre-install script fails, the charm should not\nproceed to later hooks as the basic requirements cannot be\nmet.\n\nChange-Id: Ie9e68d465fbaba150d32b50b826734895ddf036e\nCloses-bug: #1815243\nPartial-bug: #1815231\n'}, {'number': 3, 'created': '2019-02-08 21:33:08.000000000', 'files': ['hooks/install', 'hooks/upgrade-charm', 'hooks/install_deps'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/9bef5258a18bee667ea53c83b1c5d4f32673d487', 'message': 'Update pre-install hooks to fail on error\n\nThe pre-install operations may fail, yet that failure is not\nelevated to the user.  This masks the failure and makes the\nissue difficult to troubleshoot.\n\nIf the basic pre-install script fails, the charm should not\nproceed to later hooks as the basic requirements cannot be\nmet.\n\nChange-Id: Ie9e68d465fbaba150d32b50b826734895ddf036e\nCloses-bug: #1815243\nPartial-bug: #1815231\n'}]",0,635933,9bef5258a18bee667ea53c83b1c5d4f32673d487,6,1,3,20635,,,0,"Update pre-install hooks to fail on error

The pre-install operations may fail, yet that failure is not
elevated to the user.  This masks the failure and makes the
issue difficult to troubleshoot.

If the basic pre-install script fails, the charm should not
proceed to later hooks as the basic requirements cannot be
met.

Change-Id: Ie9e68d465fbaba150d32b50b826734895ddf036e
Closes-bug: #1815243
Partial-bug: #1815231
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/33/635933/3 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/install', 'hooks/install_deps']",2,261d8dd4424c2f036c3cad26bb52c9e36dbbb4db,bug/1815243,#!/bin/bash -e,#!/bin/bash,2,2
openstack%2Fsahara~master~If8db759ab40ca858594498bc5e6f94f416da2545,openstack/sahara,master,If8db759ab40ca858594498bc5e6f94f416da2545,Changing hdfs fs to hdfs dfs,MERGED,2019-01-31 17:34:57.000000000,2019-02-08 20:33:47.000000000,2019-02-08 20:33:47.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-01-31 17:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/7bed86c7d32819b894e4a68579c2e0296bd700a8', 'message': 'Changing hdfs fs to hdfs dfs\n\nThe command hdfs fs has been deprecated in favor of hdfs dfs.\n\nChange-Id: If8db759ab40ca858594498bc5e6f94f416da2545\n'}, {'number': 2, 'created': '2019-02-06 11:35:06.000000000', 'files': ['releasenotes/notes/hdfs-dfs-94a9c4f64cf8994f.yaml', 'sahara/tests/unit/service/edp/test_hdfs_helper.py', 'sahara/service/edp/hdfs_helper.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/21791d1f8929af24196150b70db5864836ac8c83', 'message': 'Changing hdfs fs to hdfs dfs\n\nThe command hdfs fs has been deprecated in favor of hdfs dfs.\n\nStory: #2004952\nTask: #29368\nChange-Id: If8db759ab40ca858594498bc5e6f94f416da2545\n'}]",0,634285,21791d1f8929af24196150b70db5864836ac8c83,10,3,2,8932,,,0,"Changing hdfs fs to hdfs dfs

The command hdfs fs has been deprecated in favor of hdfs dfs.

Story: #2004952
Task: #29368
Change-Id: If8db759ab40ca858594498bc5e6f94f416da2545
",git fetch https://review.opendev.org/openstack/sahara refs/changes/85/634285/1 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/tests/unit/service/edp/test_hdfs_helper.py', 'sahara/service/edp/hdfs_helper.py']",2,7bed86c7d32819b894e4a68579c2e0296bd700a8,," r.execute_command('sudo su - -c ""hdfs dfs -put -p %s %s"" hdfs'"," r.execute_command('sudo su - -c ""hdfs fs -put -p %s %s"" hdfs'",2,2
openstack%2Ftripleo-quickstart~master~I0100f41f26cf0c55e95e13de8baa2b3df3758373,openstack/tripleo-quickstart,master,I0100f41f26cf0c55e95e13de8baa2b3df3758373,use a single bindep config file,MERGED,2019-02-07 15:56:51.000000000,2019-02-08 20:28:22.000000000,2019-02-08 20:28:21.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-07 15:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/72aef736733d59f08c20f6986fb7b72ce0ce945e', 'message': 'use a single bindep config file\n\nThe correct way to use bindep is to only\nhave a single bindep config file.\n\nChange-Id: I0100f41f26cf0c55e95e13de8baa2b3df3758373\n'}, {'number': 2, 'created': '2019-02-07 20:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d961872f26d73bd9d509bafe1943998be914376c', 'message': 'use a single bindep config file\n\nThe correct way to use bindep is to only\nhave a single bindep config file.\n\nChange-Id: I0100f41f26cf0c55e95e13de8baa2b3df3758373\n'}, {'number': 3, 'created': '2019-02-07 21:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b0dd5c1b6ad1e12b442995e8ecad491d6284219a', 'message': 'use a single bindep config file\n\nThe correct way to use bindep is to only\nhave a single bindep config file.\n\nChange-Id: I0100f41f26cf0c55e95e13de8baa2b3df3758373\n'}, {'number': 4, 'created': '2019-02-07 21:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9ea4470c13fd3e586cc81c7655ec22e514cb90c2', 'message': 'use a single bindep config file\n\nThe correct way to use bindep is to only\nhave a single bindep config file.\n\nChange-Id: I0100f41f26cf0c55e95e13de8baa2b3df3758373\n'}, {'number': 5, 'created': '2019-02-07 21:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1805de019a438372f07620a4fb2f531433ce9aad', 'message': 'use a single bindep config file\n\nThe correct way to use bindep is to only\nhave a single bindep config file.\n\nChange-Id: I0100f41f26cf0c55e95e13de8baa2b3df3758373\n'}, {'number': 6, 'created': '2019-02-07 22:20:38.000000000', 'files': ['bindep.txt', 'bindep_python3.txt', 'install-deps.sh', 'bindep_python2.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9c7c547bc80e10f5da5318d7068f9a881216e257', 'message': 'use a single bindep config file\n\nThe correct way to use bindep is to only\nhave a single bindep config file.\n\nChange-Id: I0100f41f26cf0c55e95e13de8baa2b3df3758373\n'}]",0,635550,9c7c547bc80e10f5da5318d7068f9a881216e257,27,5,6,9592,,,0,"use a single bindep config file

The correct way to use bindep is to only
have a single bindep config file.

Change-Id: I0100f41f26cf0c55e95e13de8baa2b3df3758373
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/50/635550/2 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'bindep_python3.txt', 'install-deps.sh', 'bindep_python2.txt']",4,72aef736733d59f08c20f6986fb7b72ce0ce945e,generate-zuul-based-reproducer,,gcc git iproute libyaml libffi-devel openssl-devel python2-libselinux [platform:fedora] python3-libselinux [platform:fedora] python2-netaddr [platform:fedora] python2-setuptools [platform:fedora] python2-virtualenv [platform:fedora] python2-pip [platform:fedora] libselinux-python [platform:centos] python-netaddr [platform:centos] python-setuptools [platform:centos] python-virtualenv [platform:centos] python-pip [platform:centos] redhat-rpm-config ,38,38
openstack%2Ftripleo-quickstart~master~Ia3ab6318e663bffa5f39900fdfedd5abe38c038c,openstack/tripleo-quickstart,master,Ia3ab6318e663bffa5f39900fdfedd5abe38c038c,Make custom nameserver optional,MERGED,2018-05-02 16:41:37.000000000,2019-02-08 19:39:34.000000000,2019-02-08 19:39:34.000000000,"[{'_account_id': 3153}, {'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-05-02 16:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/17cdf27200d3c9c1f57d2d53e3998192cdeff236', 'message': ""Make custom nameserver optional\n\n8.8.8.8 doesn't work in some networks and when unbound server\nstarts it replaces first nameserver to be 127.0.0.1, which ends up\nwith resolv.conf containing only 8.8.8.8.\nmake custom nameserver optional, because not working nameservers\nis unusual situation.\n\nChange-Id: Ia3ab6318e663bffa5f39900fdfedd5abe38c038c\n""}, {'number': 2, 'created': '2018-05-02 16:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/962c4e62d6f17c45e97e771c4e82ac31ed14d70d', 'message': ""Make custom nameserver optional\n\n8.8.8.8 doesn't work in some networks and when unbound server\nstarts it replaces first nameserver to be 127.0.0.1, which ends up\nwith resolv.conf containing only 8.8.8.8.\nmake custom nameserver optional, because not working nameservers\nis unusual situation.\n\nChange-Id: Ia3ab6318e663bffa5f39900fdfedd5abe38c038c\n""}, {'number': 3, 'created': '2018-05-08 06:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5a7ba0c9fbcd9596ca91cc507c1eb55d21fda2cb', 'message': ""Make custom nameserver optional\n\n8.8.8.8 doesn't work in some networks and when unbound server\nstarts it replaces first nameserver to be 127.0.0.1, which ends up\nwith resolv.conf containing only 8.8.8.8.\nmake custom nameserver optional, because not working nameservers\nis unusual situation.\n\nDepends-On: I998ffa98da5e2df783908bf003816a06dff30bbb\nChange-Id: Ia3ab6318e663bffa5f39900fdfedd5abe38c038c\n""}, {'number': 4, 'created': '2018-12-12 10:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/87615d061340f7efceeb1ab01155b4c7b5ebbe24', 'message': ""Make custom nameserver optional\n\n8.8.8.8 doesn't work in some networks and when unbound server\nstarts it replaces first nameserver to be 127.0.0.1, which ends up\nwith resolv.conf containing only 8.8.8.8.\nmake custom nameserver optional, because not working nameservers\nis unusual situation.\n\nDepends-On: I998ffa98da5e2df783908bf003816a06dff30bbb\nChange-Id: Ia3ab6318e663bffa5f39900fdfedd5abe38c038c\n""}, {'number': 5, 'created': '2018-12-27 15:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/782d6e6462ff2182a67b4937ab9e4f66181dc43f', 'message': ""Make custom nameserver optional\n\n8.8.8.8 doesn't work in some networks and when unbound server\nstarts it replaces first nameserver to be 127.0.0.1, which ends up\nwith resolv.conf containing only 8.8.8.8.\nmake custom nameserver optional, because not working nameservers\nis unusual situation.\n\nChange-Id: Ia3ab6318e663bffa5f39900fdfedd5abe38c038c\n""}, {'number': 6, 'created': '2019-01-03 19:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d6f686cfb9bb03de55b3afe8b752093233183b10', 'message': ""Make custom nameserver optional\n\n8.8.8.8 doesn't work in some networks and when unbound server\nstarts it replaces first nameserver to be 127.0.0.1, which ends up\nwith resolv.conf containing only 8.8.8.8.\nmake custom nameserver optional, because not working nameservers\nis unusual situation.\n\nChange-Id: Ia3ab6318e663bffa5f39900fdfedd5abe38c038c\n""}, {'number': 7, 'created': '2019-01-20 03:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ddc4769698eec59b95b1edcbaa9f52342c95aab6', 'message': ""Make custom nameserver optional\n\n8.8.8.8 doesn't work in some networks and when unbound server\nstarts it replaces first nameserver to be 127.0.0.1, which ends up\nwith resolv.conf containing only 8.8.8.8.\nmake custom nameserver optional, because not working nameservers\nis unusual situation.\n\nChange-Id: Ia3ab6318e663bffa5f39900fdfedd5abe38c038c\n""}, {'number': 8, 'created': '2019-02-01 21:05:10.000000000', 'files': ['roles/libvirt/setup/overcloud/tasks/libvirt_nodepool.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a7826702f84f65a2d42625408a71f2710465a4e3', 'message': ""Make custom nameserver optional\n\n8.8.8.8 doesn't work in some networks and when unbound server\nstarts it replaces first nameserver to be 127.0.0.1, which ends up\nwith resolv.conf containing only 8.8.8.8.\nmake custom nameserver optional, because not working nameservers\nis unusual situation.\n\nChange-Id: Ia3ab6318e663bffa5f39900fdfedd5abe38c038c\n""}]",6,565839,a7826702f84f65a2d42625408a71f2710465a4e3,67,14,8,10969,,,0,"Make custom nameserver optional

8.8.8.8 doesn't work in some networks and when unbound server
starts it replaces first nameserver to be 127.0.0.1, which ends up
with resolv.conf containing only 8.8.8.8.
make custom nameserver optional, because not working nameservers
is unusual situation.

Change-Id: Ia3ab6318e663bffa5f39900fdfedd5abe38c038c
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/39/565839/6 && git format-patch -1 --stdout FETCH_HEAD,['roles/libvirt/setup/overcloud/tasks/libvirt_nodepool.yml'],1,17cdf27200d3c9c1f57d2d53e3998192cdeff236,dns," {% if custom_nameserver is defined and custom_nameserver %} echo ""nameserver {{ custom_nameserver }} "" >> /etc/resolv.conf; echo ""append domain-name-servers {{ custom_nameserver }};"" >> /etc/dhcp/dhclient.conf {% endif %} {% if custom_nameserver is defined and custom_nameserver %} {% endif %}"," echo ""nameserver {{ custom_nameserver|default('8.8.8.8') }} "" >> /etc/resolv.conf; echo ""append domain-name-servers {{ custom_nameserver|default('8.8.8.8') }};"" >> /etc/dhcp/dhclient.conf",6,2
openstack%2Fironic~master~I71feefa3d0593fd185a286bec4ce38607203641d,openstack/ironic,master,I71feefa3d0593fd185a286bec4ce38607203641d,Log a warning for Gen8 Inspection,MERGED,2019-02-06 03:58:42.000000000,2019-02-08 19:38:45.000000000,2019-02-08 19:38:45.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10379}, {'_account_id': 11076}, {'_account_id': 11297}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 28429}, {'_account_id': 29745}]","[{'number': 1, 'created': '2019-02-06 03:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/442693237ed49f906d3db213a15739041ea68968', 'message': ""Log a warning for Gen8 Inspection\n\nThis patch adds a warning for Prolaint Gen8 server's\ninspection.\n\nstory: #2004950\n\nChange-Id: I71feefa3d0593fd185a286bec4ce38607203641d\n""}, {'number': 2, 'created': '2019-02-07 05:18:06.000000000', 'files': ['ironic/tests/unit/drivers/modules/ilo/test_inspect.py', 'ironic/drivers/modules/ilo/inspect.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/913e4cebb2bdb96dad0562a09926d9aed76eaf13', 'message': ""Log a warning for Gen8 Inspection\n\nThis patch adds a warning for Prolaint Gen8 server's\nNIC inspection. The proliantutils will start returning\nonly active NICs starting this patch\nIca624aae8f956a2da061801def6ddc43152a5b09.\n\nstory: #2004950\ntask: #29366\n\nDepends-On: Ica624aae8f956a2da061801def6ddc43152a5b09\nChange-Id: I71feefa3d0593fd185a286bec4ce38607203641d\n""}]",12,635089,913e4cebb2bdb96dad0562a09926d9aed76eaf13,35,12,2,11297,,,0,"Log a warning for Gen8 Inspection

This patch adds a warning for Prolaint Gen8 server's
NIC inspection. The proliantutils will start returning
only active NICs starting this patch
Ica624aae8f956a2da061801def6ddc43152a5b09.

story: #2004950
task: #29366

Depends-On: Ica624aae8f956a2da061801def6ddc43152a5b09
Change-Id: I71feefa3d0593fd185a286bec4ce38607203641d
",git fetch https://review.opendev.org/openstack/ironic refs/changes/89/635089/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/ilo/test_inspect.py', 'ironic/drivers/modules/ilo/inspect.py']",2,442693237ed49f906d3db213a15739041ea68968,nic_gen8_warning," model = None if capabilities: model = capabilities.get('server_model') if model is not None and 'Gen8' in model: LOG.warning('iLO cannot detect if the NICs are physically ' 'connected or not for ProLiant Gen8 servers. ' 'Hence returns all the MACs present on the server.' 'Node %(node) is %(model)', {""node"": task.node.uuid, ""model"": model})", if capabilities:,57,3
openstack%2Fironic~master~I53fd5f86dfcee5b14318d4324c43d5f02b86702c,openstack/ironic,master,I53fd5f86dfcee5b14318d4324c43d5f02b86702c,Add a voting CI job running unit tests with driver-requirements,MERGED,2019-02-06 18:16:14.000000000,2019-02-08 19:38:44.000000000,2019-02-08 19:38:43.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 28429}]","[{'number': 1, 'created': '2019-02-06 18:16:14.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/15fafe686c968d228b24f69818600cea7d312353', 'message': 'Add a voting CI job running unit tests with driver-requirements\n\nThis seems to get broken quite often (RDO runs something similar).\n\nChange-Id: I53fd5f86dfcee5b14318d4324c43d5f02b86702c\n'}]",1,635237,15fafe686c968d228b24f69818600cea7d312353,20,8,1,10239,,,0,"Add a voting CI job running unit tests with driver-requirements

This seems to get broken quite often (RDO runs something similar).

Change-Id: I53fd5f86dfcee5b14318d4324c43d5f02b86702c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/37/635237/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'zuul.d/project.yaml']",2,15fafe686c968d228b24f69818600cea7d312353,gate, - ironic-tox-unit-with-driver-libs - ironic-tox-unit-with-driver-libs,,10,0
openstack%2Fsahara-dashboard~master~I007f6cb5528e658fa8a0211a833500385a4aa07a,openstack/sahara-dashboard,master,I007f6cb5528e658fa8a0211a833500385a4aa07a,Increasing max number fields,MERGED,2019-01-25 12:45:58.000000000,2019-02-08 19:31:10.000000000,2019-02-08 19:31:10.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-01-25 12:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/c9c8df7e6813c1c20962e1bab390e0bb6d4c478c', 'message': 'Increasing max number fields\n\nIncreasing the max number fields to allow CDH node group templates creation\n\nChange-Id: I007f6cb5528e658fa8a0211a833500385a4aa07a\n'}, {'number': 2, 'created': '2019-01-25 13:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/d49a106725aefcf50bfa706816d26a8dbc0ed9ac', 'message': 'Increasing max number fields\n\nIncreasing the max number fields to allow CDH node group templates creation\n\nStory: 2004866\nTask: 29110\n\nChange-Id: I007f6cb5528e658fa8a0211a833500385a4aa07a\n'}, {'number': 3, 'created': '2019-02-06 13:06:43.000000000', 'files': ['sahara_dashboard/local_settings.d/_12_toggle_data_upload_max_number_fields.py', 'releasenotes/notes/increase-max-fields-91b921991f1e8978.yaml'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/f8649ba63aa337a7451c212874570edfa596441a', 'message': 'Increasing max number fields\n\nIncreasing the max number fields to allow CDH node group templates creation\n\nStory: 2004866\nTask: 29110\n\nChange-Id: I007f6cb5528e658fa8a0211a833500385a4aa07a\n'}]",0,633193,f8649ba63aa337a7451c212874570edfa596441a,18,3,3,8932,,,0,"Increasing max number fields

Increasing the max number fields to allow CDH node group templates creation

Story: 2004866
Task: 29110

Change-Id: I007f6cb5528e658fa8a0211a833500385a4aa07a
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/93/633193/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara_dashboard/local_settings.d/_12_toggle_data_upload_max_number_fields.py'],1,c9c8df7e6813c1c20962e1bab390e0bb6d4c478c,,DATA_UPLOAD_MAX_NUMBER_FIELDS = 2100,DATA_UPLOAD_MAX_NUMBER_FIELDS = 2000,1,1
openstack%2Foctavia~master~Ief40a3de554886c66f2063a0855b22ee1b5b758e,openstack/octavia,master,Ief40a3de554886c66f2063a0855b22ee1b5b758e,Cleaning up logging,MERGED,2019-02-07 06:41:50.000000000,2019-02-08 18:57:58.000000000,2019-02-08 18:57:58.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 28377}]","[{'number': 1, 'created': '2019-02-07 06:41:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/97546185e8ac5d1e56e64651c2cbc47dc2d11312', 'message': ""Cleaning up logging\n\n* Don't shadow LOG from outer scope.\n* Always lazy-load logging.\n* Fixed an invalid log line.\n\nChange-Id: Ief40a3de554886c66f2063a0855b22ee1b5b758e\n""}, {'number': 2, 'created': '2019-02-07 06:45:16.000000000', 'files': ['octavia/common/utils.py', 'octavia/common/keystone.py', 'octavia/compute/drivers/nova_driver.py', 'octavia/controller/healthmanager/health_drivers/update_db.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/404600e0e25b83804dd0dd4c063dd7aef80d1992', 'message': ""Cleaning up logging\n\n* Don't shadow LOG from outer scope.\n* Always lazy-load logging.\n* Fixed an invalid log line.\n\nChange-Id: Ief40a3de554886c66f2063a0855b22ee1b5b758e\n""}]",1,635439,404600e0e25b83804dd0dd4c063dd7aef80d1992,10,5,2,22623,,,0,"Cleaning up logging

* Don't shadow LOG from outer scope.
* Always lazy-load logging.
* Fixed an invalid log line.

Change-Id: Ief40a3de554886c66f2063a0855b22ee1b5b758e
",git fetch https://review.opendev.org/openstack/octavia refs/changes/39/635439/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/utils.py', 'octavia/common/keystone.py', 'octavia/compute/drivers/nova_driver.py', 'octavia/controller/healthmanager/health_drivers/update_db.py']",4,97546185e8ac5d1e56e64651c2cbc47dc2d11312,," {'amp': health['id'], 'err': e}) LOG.debug('Health Update finished in: %s seconds', timeit.default_timer() - start_time) LOG.debug('Received a health heartbeat from amphora %s with ' 'IP %s that should not exist. This amphora may be ' 'times', health['id'], srcaddr) if not amp: LOG.warning('The amphora %s with IP %s is missing from ' 'compute service.', health['id'], srcaddr) LOG.info(""Error deleting amp %s with IP %s Error: %s"", health['id'], srcaddr, e) 'processing stats for amphora %s with IP ' '%s', health_message['id'], srcaddr) 'listener %s for amphora %s with IP ' '%s.', listener_id, amphora_id, srcaddr)"," {'amp': health['id'], 'err': str(e)}) LOG.debug('Health Update finished in: {0} seconds'.format( timeit.default_timer() - start_time)) LOG.debug('Received a health heartbeat from amphora {0} with ' 'IP {1} that should not exist. This amphora may be ' 'times'.format(health['id'], srcaddr)) if not amp: LOG.warning('The amphora {0} with IP {1} is missing from ' 'compute service.'.format(health['id'], srcaddr)) LOG.info(""Error deleting amp {0} with IP {1}"".format( health['id'], srcaddr), e) 'processing stats for amphora {0} with IP ' '{1}'.format(health_message['id'], srcaddr)) 'listener {0} for amphora {1} with IP ' '{2}.'.format(listener_id, amphora_id, srcaddr))",36,34
openstack%2Fswift~feature%2Flosf~I332ed692b959a76f1e275fbc451d7aaa44ec6bfa,openstack/swift,feature/losf,I332ed692b959a76f1e275fbc451d7aaa44ec6bfa,Update .gitreview for feature/losf,MERGED,2019-02-08 14:16:19.000000000,2019-02-08 18:49:23.000000000,2019-02-08 18:49:22.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 14:16:19.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/swift/commit/bdd83920eb0cea7cbf1d576faf9258173a870bfc', 'message': 'Update .gitreview for feature/losf\n\nChange-Id: I332ed692b959a76f1e275fbc451d7aaa44ec6bfa\n'}]",0,635845,bdd83920eb0cea7cbf1d576faf9258173a870bfc,6,2,1,22816,,,0,"Update .gitreview for feature/losf

Change-Id: I332ed692b959a76f1e275fbc451d7aaa44ec6bfa
",git fetch https://review.opendev.org/openstack/swift refs/changes/45/635845/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,bdd83920eb0cea7cbf1d576faf9258173a870bfc,create-losf,defaultbranch=feature/losf,,1,0
openstack%2Fcinder~stable%2Fpike~Ic011fe30b4840e5098db1a594ea276ec98768bff,openstack/cinder,stable/pike,Ic011fe30b4840e5098db1a594ea276ec98768bff,cinder-volume: Stop masking IOError different than ENOSPC,MERGED,2019-01-24 15:18:42.000000000,2019-02-08 18:49:21.000000000,2019-02-08 18:49:21.000000000,"[{'_account_id': 4128}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 13144}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2019-01-24 15:18:42.000000000', 'files': ['releasenotes/notes/bug-1799221-fix-truncated-volumes-in-case-of-glance-errors-6cae19218249c3cf.yaml', 'cinder/image/image_utils.py', 'cinder/tests/unit/image/test_glance.py', 'cinder/exception.py', 'cinder/tests/unit/test_image_utils.py', 'cinder/image/glance.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0551f0a9ff7b787fcb3e1b686b83e25f99cad874', 'message': ""cinder-volume: Stop masking IOError different than ENOSPC\n\nWhen glanceclient raises an IOError with a different errno than ENOSPC,\ncinder-volume silently masked it and continued its volume creation\nprocess. The result was volumes with invalid content being successfuly\ncreated.\n\nWith the patch, an ImageDownloadFailed exception is raised in this case,\nwhich makes the volume creation process fail and gives enough\ninformation to operators for troubleshooting.\n\nAs explained in detail below, this patch is a squash of four cherry\npicks to fix Bug #1799221.  The cherry-picks are being squashed\ninstead of done separately per normal cinder practice because they\nare dependent; this will make sure that one of them isn't further\nbackported without the supporting patches.\n\nHere's the relationship between the four cherry-picks:\n(1) The purpose of this backport is to fix Bug #1799221, which was\n    introduced in Pike.  It is fixed in Stein and Rocky by\n    Ic011fe30b4840e5098db1a594ea276ec98768bff\n(2) That change requires an exception introduced in Stein and backported\n    to Rocky by If7c22ac4516f8c2a6ccd8bf6b6ed98409312b138 to fix Bug\n    #1798147 (which defect is also present in Queens and Pike)\n(3) The change in (2) introduced Bug #1808443 which was fixed in Stein\n    and Rocky by I6d8dedfd056add3414f8f4bf7f7279eae4763286\n(4) The change in (2) also introduced Bug #1811184, which is fixed by\n    I6d8dedfd056add3414f8f4bf7f7279eae4763286 in Stein and Rocky, and\n    which adds a unit test for Bug #1798147.\nIn short, in order to backport the fix for (1), we need to backport (2),\nbut in order to backport (2) we need to follow up immediately with\nbackports of (3) and (4) to fix the defects (2) introduces.\n\nThe attentive reader will note that this patch smuggles in the fix for\nBug #1798147.  We could have left this out, but it's a very small\nisolated change, the defect is present in Queens and Pike (remember that\nBug #1799221, the subject of this patch, was introduced in Pike), and it\nhas a unit test (see (4), above).  Finally, leaving out the fix for\nBug #1798147 and backporting only the exception would still require\nbackporting the fixes for Bug #1808443 and Bug #1811184, so it really\nwould not simplify this patch.\n\nTo summarize what's being included here:\ncommit   changeId                                    fixed bug\n805368e  If7c22ac4516f8c2a6ccd8bf6b6ed98409312b138   Bug #1798147\n9c696ce  I2aa56da73660794c6dedcbb8a66e84bcec511a9c   Bug #1808443\n844b627  I6d8dedfd056add3414f8f4bf7f7279eae4763286   Bug #1811184\nbf89f76  Ic011fe30b4840e5098db1a594ea276ec98768bff   Bug #1799221\n\nChange-Id: Ic011fe30b4840e5098db1a594ea276ec98768bff\nCloses-Bug: #1799221\n(cherry picked from commit 864c074ff15db601c896dadc2842ae703861c0dd)\n(cherry picked from commit bf89f76fb1b7a52299c17467106018eae01608e8)\nRelated-Bug: #1798147\n(cherry picked from commit d3afc39467c6532344118e8e491409878da9c2dd)\n(cherry picked from commit 805368e902ada4c63e2e6e4d6692cf8cc2531a1e)\nRelated-Bug: #1808443\n(cherry picked from commit 80fdc0a71b55659d92efdda826807d60d8bd4ab9)\n(cherry picked from commit 9c696ce29f63275ec229a943a9b9bcf63f688f0c)\nRelated-bug: #1811184\n(cherry picked from commit 16b4346171d2027bb3c2630d5f28f6f002878870)\n(cherry picked from commit 844b627c38bb810abd3ef0b464577191f193ad7d)\n(cherry picked from commit 937af5be0e7c17b34860e25cc434a219d7143387)\n""}]",0,633015,0551f0a9ff7b787fcb3e1b686b83e25f99cad874,20,18,1,5314,,,0,"cinder-volume: Stop masking IOError different than ENOSPC

When glanceclient raises an IOError with a different errno than ENOSPC,
cinder-volume silently masked it and continued its volume creation
process. The result was volumes with invalid content being successfuly
created.

With the patch, an ImageDownloadFailed exception is raised in this case,
which makes the volume creation process fail and gives enough
information to operators for troubleshooting.

As explained in detail below, this patch is a squash of four cherry
picks to fix Bug #1799221.  The cherry-picks are being squashed
instead of done separately per normal cinder practice because they
are dependent; this will make sure that one of them isn't further
backported without the supporting patches.

Here's the relationship between the four cherry-picks:
(1) The purpose of this backport is to fix Bug #1799221, which was
    introduced in Pike.  It is fixed in Stein and Rocky by
    Ic011fe30b4840e5098db1a594ea276ec98768bff
(2) That change requires an exception introduced in Stein and backported
    to Rocky by If7c22ac4516f8c2a6ccd8bf6b6ed98409312b138 to fix Bug
    #1798147 (which defect is also present in Queens and Pike)
(3) The change in (2) introduced Bug #1808443 which was fixed in Stein
    and Rocky by I6d8dedfd056add3414f8f4bf7f7279eae4763286
(4) The change in (2) also introduced Bug #1811184, which is fixed by
    I6d8dedfd056add3414f8f4bf7f7279eae4763286 in Stein and Rocky, and
    which adds a unit test for Bug #1798147.
In short, in order to backport the fix for (1), we need to backport (2),
but in order to backport (2) we need to follow up immediately with
backports of (3) and (4) to fix the defects (2) introduces.

The attentive reader will note that this patch smuggles in the fix for
Bug #1798147.  We could have left this out, but it's a very small
isolated change, the defect is present in Queens and Pike (remember that
Bug #1799221, the subject of this patch, was introduced in Pike), and it
has a unit test (see (4), above).  Finally, leaving out the fix for
Bug #1798147 and backporting only the exception would still require
backporting the fixes for Bug #1808443 and Bug #1811184, so it really
would not simplify this patch.

To summarize what's being included here:
commit   changeId                                    fixed bug
805368e  If7c22ac4516f8c2a6ccd8bf6b6ed98409312b138   Bug #1798147
9c696ce  I2aa56da73660794c6dedcbb8a66e84bcec511a9c   Bug #1808443
844b627  I6d8dedfd056add3414f8f4bf7f7279eae4763286   Bug #1811184
bf89f76  Ic011fe30b4840e5098db1a594ea276ec98768bff   Bug #1799221

Change-Id: Ic011fe30b4840e5098db1a594ea276ec98768bff
Closes-Bug: #1799221
(cherry picked from commit 864c074ff15db601c896dadc2842ae703861c0dd)
(cherry picked from commit bf89f76fb1b7a52299c17467106018eae01608e8)
Related-Bug: #1798147
(cherry picked from commit d3afc39467c6532344118e8e491409878da9c2dd)
(cherry picked from commit 805368e902ada4c63e2e6e4d6692cf8cc2531a1e)
Related-Bug: #1808443
(cherry picked from commit 80fdc0a71b55659d92efdda826807d60d8bd4ab9)
(cherry picked from commit 9c696ce29f63275ec229a943a9b9bcf63f688f0c)
Related-bug: #1811184
(cherry picked from commit 16b4346171d2027bb3c2630d5f28f6f002878870)
(cherry picked from commit 844b627c38bb810abd3ef0b464577191f193ad7d)
(cherry picked from commit 937af5be0e7c17b34860e25cc434a219d7143387)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/15/633015/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1799221-fix-truncated-volumes-in-case-of-glance-errors-6cae19218249c3cf.yaml', 'cinder/image/image_utils.py', 'cinder/tests/unit/image/test_glance.py', 'cinder/exception.py', 'cinder/tests/unit/test_image_utils.py', 'cinder/image/glance.py']",6,0551f0a9ff7b787fcb3e1b686b83e25f99cad874,bug/1799221-stable/rocky-stable/queens-stable/pike," if image_chunks is None: raise exception.ImageDownloadFailed( image_href=image_id, reason=_('image contains no data.')) ",,55,0
openstack%2Fbarbican~master~Ia42d14a1163f53d220e243ae0ecd5138e278db14,openstack/barbican,master,Ia42d14a1163f53d220e243ae0ecd5138e278db14,Fix secret-stores functional tests,MERGED,2019-01-31 23:04:34.000000000,2019-02-08 18:40:16.000000000,2019-02-08 18:40:16.000000000,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 11561}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-31 23:04:34.000000000', 'files': ['functionaltests/api/v1/functional/test_secretstores.py', 'functionaltests/api/v1/functional/test_secrets.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/8eeff8d03ee8554c0b476ffd83367f4498ae2b8f', 'message': 'Fix secret-stores functional tests\n\nThis patch fixes some broken tests that were incorrectly\nlooking for a ""secret-stores"" key in API responses.  The\ncorrect key is ""secret_stores"".\n\nChange-Id: Ia42d14a1163f53d220e243ae0ecd5138e278db14\n'}]",0,634340,8eeff8d03ee8554c0b476ffd83367f4498ae2b8f,16,5,1,7973,,,0,"Fix secret-stores functional tests

This patch fixes some broken tests that were incorrectly
looking for a ""secret-stores"" key in API responses.  The
correct key is ""secret_stores"".

Change-Id: Ia42d14a1163f53d220e243ae0ecd5138e278db14
",git fetch https://review.opendev.org/openstack/barbican refs/changes/40/634340/1 && git format-patch -1 --stdout FETCH_HEAD,"['functionaltests/api/v1/functional/test_secretstores.py', 'functionaltests/api/v1/functional/test_secrets.py']",2,8eeff8d03ee8554c0b476ffd83367f4498ae2b8f,fix-functional-tests, for store in stores['secret_stores']:, for store in stores['secret-stores']:,5,5
openstack%2Fdevstack~master~Ib42e08a2656ccbee780d15948a0390d9ab4ffc89,openstack/devstack,master,Ib42e08a2656ccbee780d15948a0390d9ab4ffc89,Replace cp -l with --reflink=auto,ABANDONED,2019-01-07 15:34:26.000000000,2019-02-08 18:23:16.000000000,,"[{'_account_id': 4146}, {'_account_id': 4162}, {'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-01-07 15:34:26.000000000', 'files': ['roles/setup-devstack-cache/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/a215d16ff7988b63cc22bd4f421fa9c94364f6b6', 'message': 'Replace cp -l with --reflink=auto\n\nHardlinking in cp has special file permission requirements that can\nmake it fail.\n\nUsing --reflink=auto is much safer and does not have the same\nrequirements, while preserving its advantages.\n\nThis allows us to undo the unsecure chmod done on src dir .\nhttps://review.openstack.org/#/c/625576/\n\nChange-Id: Ib42e08a2656ccbee780d15948a0390d9ab4ffc89\n'}]",2,628999,a215d16ff7988b63cc22bd4f421fa9c94364f6b6,11,10,1,24162,,,0,"Replace cp -l with --reflink=auto

Hardlinking in cp has special file permission requirements that can
make it fail.

Using --reflink=auto is much safer and does not have the same
requirements, while preserving its advantages.

This allows us to undo the unsecure chmod done on src dir .
https://review.openstack.org/#/c/625576/

Change-Id: Ib42e08a2656ccbee780d15948a0390d9ab4ffc89
",git fetch https://review.opendev.org/openstack/devstack refs/changes/99/628999/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/setup-devstack-cache/tasks/main.yaml'],1,a215d16ff7988b63cc22bd4f421fa9c94364f6b6,fix/cp-reflink," command: ""find {{ devstack_cache_dir }}/files -mindepth 1 -maxdepth 1 -exec cp --reflink=auto {} {{ devstack_base_dir }}/devstack/files/ ;"""," # This uses hard links to avoid using extra space. command: ""find {{ devstack_cache_dir }}/files -mindepth 1 -maxdepth 1 -exec cp -l {} {{ devstack_base_dir }}/devstack/files/ ;""",1,2
openstack%2Fnetworking-bagpipe~master~Ie766430b5f938df273f7b061d93c4325412d34ed,openstack/networking-bagpipe,master,Ie766430b5f938df273f7b061d93c4325412d34ed,stop using common db mixin methods,MERGED,2019-02-07 14:22:17.000000000,2019-02-08 18:20:44.000000000,2019-02-08 18:20:44.000000000,"[{'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-07 14:22:17.000000000', 'files': ['networking_bagpipe/driver/sfc.py'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/8e7613ce40eb688557f79dd7b771c796100802cf', 'message': ""stop using common db mixin methods\n\nAll of the methods of common db mixin are available via neutron-lib\nand the mixin will be removed before long.\nThis patch switches the code over to use neutron-lib's APIs rather\nthan those of the mixin.\n\nChange-Id: Ie766430b5f938df273f7b061d93c4325412d34ed\n""}]",0,635517,8e7613ce40eb688557f79dd7b771c796100802cf,7,2,1,5367,,,0,"stop using common db mixin methods

All of the methods of common db mixin are available via neutron-lib
and the mixin will be removed before long.
This patch switches the code over to use neutron-lib's APIs rather
than those of the mixin.

Change-Id: Ie766430b5f938df273f7b061d93c4325412d34ed
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/17/635517/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_bagpipe/driver/sfc.py'],1,8e7613ce40eb688557f79dd7b771c796100802cf,bp/neutronlib-decouple-db,from neutron_lib.db import model_query port = model_query.get_by_id(, port = self._get_by_id(,2,1
openstack%2Fswift~master~Ia7e872220d8e69c87969187271b8ed9d103f93c1,openstack/swift,master,Ia7e872220d8e69c87969187271b8ed9d103f93c1,Be more tolerant of success in test setup,ABANDONED,2019-02-08 15:35:36.000000000,2019-02-08 18:16:57.000000000,,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 15:35:36.000000000', 'files': ['test/unit/common/middleware/crypto/test_encryption.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/1e9a976788a7fa55223129e8bcf8a1a3c2aa4555', 'message': 'Be more tolerant of success in test setup\n\nI saw this failure in the gate:\n\n\tFAIL: test_crypto_max_length_path (test.unit.common.middleware.crypto.test_encryption.TestCryptoPipelineChanges)\n\t----------------------------------------------------------------------\n\tTraceback (most recent call last):\n\t  File ""/home/zuul/src/git.openstack.org/openstack/swift/test/unit/common/middleware/crypto/test_encryption.py"", line 634, in test_crypto_max_length_path\n\t    container_path=self.container_path)\n\t  File ""/home/zuul/src/git.openstack.org/openstack/swift/test/unit/common/middleware/crypto/test_encryption.py"", line 89, in _create_container\n\t    self.assertEqual(\'201 Created\', resp.status)\n\tAssertionError: \'201 Created\' != \'202 Accepted\'\n\nThe logs showed one of the container nodes getting a request, which\n201\'d after 19s but the proxy logged it as a 10s timeout.  Then the\ncontainer logged a *second* PUT which 202\'d.  I don\'t really understand\nwhere the retry behavior is coming from.\n\nChange-Id: Ia7e872220d8e69c87969187271b8ed9d103f93c1\n'}]",0,635864,1e9a976788a7fa55223129e8bcf8a1a3c2aa4555,5,2,1,1179,,,0,"Be more tolerant of success in test setup

I saw this failure in the gate:

	FAIL: test_crypto_max_length_path (test.unit.common.middleware.crypto.test_encryption.TestCryptoPipelineChanges)
	----------------------------------------------------------------------
	Traceback (most recent call last):
	  File ""/home/zuul/src/git.openstack.org/openstack/swift/test/unit/common/middleware/crypto/test_encryption.py"", line 634, in test_crypto_max_length_path
	    container_path=self.container_path)
	  File ""/home/zuul/src/git.openstack.org/openstack/swift/test/unit/common/middleware/crypto/test_encryption.py"", line 89, in _create_container
	    self.assertEqual('201 Created', resp.status)
	AssertionError: '201 Created' != '202 Accepted'

The logs showed one of the container nodes getting a request, which
201'd after 19s but the proxy logged it as a 10s timeout.  Then the
container logged a *second* PUT which 202'd.  I don't really understand
where the retry behavior is coming from.

Change-Id: Ia7e872220d8e69c87969187271b8ed9d103f93c1
",git fetch https://review.opendev.org/openstack/swift refs/changes/64/635864/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/common/middleware/crypto/test_encryption.py'],1,1e9a976788a7fa55223129e8bcf8a1a3c2aa4555,fix-test," self.assertIn(resp.status, ('201 Created', '202 Accepted'))"," self.assertEqual('201 Created', resp.status)",1,1
openstack%2Fproject-config~master~I08ef6a6fba2706803d2e9de6197e0ef8d695e313,openstack/project-config,master,I08ef6a6fba2706803d2e9de6197e0ef8d695e313,Stop using OpenDNS,MERGED,2019-02-08 17:34:50.000000000,2019-02-08 18:02:54.000000000,2019-02-08 18:02:54.000000000,"[{'_account_id': 1}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 17:34:50.000000000', 'files': ['nodepool/elements/nodepool-base/README.rst', 'nodepool/elements/nodepool-base/finalise.d/89-unbound', 'nodepool/elements/nodepool-base/environment.d/75-nodepool-base-env'], 'web_link': 'https://opendev.org/openstack/project-config/commit/82e14dee9c747a918a5535c4a94004cb563e5a99', 'message': 'Stop using OpenDNS\n\nIanw noticed problems on fedora29 with unbound. That resulted in a bug\nfiled upstream,\nhttps://www.nlnetlabs.nl/bugs-script/show_bug.cgi?id=4226. In this bug\nthe helpful unbound maintainers point out that OpenDNS servers are\nhaving trouble with RRSIG records which leads to not validating dnssec\nwhich we require in our unbound config.\n\nAddress this by switching to CloudFlare DNS which is suppsoed to be\nsuper localized (aka responsive), and not record queries against it.\nAlso if we want to we can update our config to do dns over tls against\nthese servers.\n\nChange-Id: I08ef6a6fba2706803d2e9de6197e0ef8d695e313\n'}]",0,635895,82e14dee9c747a918a5535c4a94004cb563e5a99,7,3,1,4146,,,0,"Stop using OpenDNS

Ianw noticed problems on fedora29 with unbound. That resulted in a bug
filed upstream,
https://www.nlnetlabs.nl/bugs-script/show_bug.cgi?id=4226. In this bug
the helpful unbound maintainers point out that OpenDNS servers are
having trouble with RRSIG records which leads to not validating dnssec
which we require in our unbound config.

Address this by switching to CloudFlare DNS which is suppsoed to be
super localized (aka responsive), and not record queries against it.
Also if we want to we can update our config to do dns over tls against
these servers.

Change-Id: I08ef6a6fba2706803d2e9de6197e0ef8d695e313
",git fetch https://review.opendev.org/openstack/project-config refs/changes/95/635895/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/elements/nodepool-base/README.rst', 'nodepool/elements/nodepool-base/finalise.d/89-unbound', 'nodepool/elements/nodepool-base/environment.d/75-nodepool-base-env']",3,82e14dee9c747a918a5535c4a94004cb563e5a99,cloudflare-dns,export NODEPOOL_STATIC_NAMESERVER_V6=${NODEPOOL_STATIC_NAMESERVER_V6:-2606:4700:4700::1111} export NODEPOOL_STATIC_NAMESERVER_V4=${NODEPOOL_STATIC_NAMESERVER_V4:-1.1.1.1},export NODEPOOL_STATIC_NAMESERVER_V6=${NODEPOOL_STATIC_NAMESERVER_V6:-2620:0:ccc::2} export NODEPOOL_STATIC_NAMESERVER_V4=${NODEPOOL_STATIC_NAMESERVER_V4:-208.67.222.222},6,6
openstack%2Fos-brick~master~Ie74a663b147bde12456d9f64edca05cfb4a29136,openstack/os-brick,master,Ie74a663b147bde12456d9f64edca05cfb4a29136,Add slowest test output to end of test run,MERGED,2019-02-07 20:43:39.000000000,2019-02-08 17:50:04.000000000,2019-02-08 17:50:04.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 10118}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24230}, {'_account_id': 27710}]","[{'number': 1, 'created': '2019-02-07 20:43:39.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/959ec5d54deb725409cc322a3bdffaaa924dd400', 'message': 'Add slowest test output to end of test run\n\nChange-Id: Ie74a663b147bde12456d9f64edca05cfb4a29136\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,635637,959ec5d54deb725409cc322a3bdffaaa924dd400,19,15,1,11904,,,0,"Add slowest test output to end of test run

Change-Id: Ie74a663b147bde12456d9f64edca05cfb4a29136
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/37/635637/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,959ec5d54deb725409cc322a3bdffaaa924dd400,slowest,commands = stestr run {posargs} stestr slowest,commands = stestr run {posargs},3,1
openstack%2Fproject-config~master~I91ca9304f720bb9aa6f2d3c291860e12c8dc81c8,openstack/project-config,master,I91ca9304f720bb9aa6f2d3c291860e12c8dc81c8,Devstack for PowerMax/ VMAX,MERGED,2019-02-08 17:09:46.000000000,2019-02-08 17:49:57.000000000,2019-02-08 17:49:57.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 17:09:46.000000000', 'files': ['gerrit/acls/openstack/devstack-plugin-vmax.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/92763e25e8a4814d3ca3af59398e089cdec44fa3', 'message': 'Devstack for PowerMax/ VMAX\n\nAmending devstack-plugin-vmax.config to allow for creation\nof branches.\n\nChange-Id: I91ca9304f720bb9aa6f2d3c291860e12c8dc81c8\n'}]",0,635890,92763e25e8a4814d3ca3af59398e089cdec44fa3,7,3,1,12670,,,0,"Devstack for PowerMax/ VMAX

Amending devstack-plugin-vmax.config to allow for creation
of branches.

Change-Id: I91ca9304f720bb9aa6f2d3c291860e12c8dc81c8
",git fetch https://review.opendev.org/openstack/project-config refs/changes/90/635890/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/acls/openstack/devstack-plugin-vmax.config'],1,92763e25e8a4814d3ca3af59398e089cdec44fa3,devstack-vmax,create = group devstack-plugin-vmax-release,,1,0
openstack%2Ftripleo-ci~master~I7acce43694b76f65647eda6a4a69c5f3e60a41d5,openstack/tripleo-ci,master,I7acce43694b76f65647eda6a4a69c5f3e60a41d5,Improve speed of collect_logs.sh,ABANDONED,2018-12-14 12:07:04.000000000,2019-02-08 17:48:54.000000000,,"[{'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-12-14 12:07:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ef763200b500db4603f4223548a6cd7ab6a8c939', 'message': 'Improve speed of collect_logs.sh\n\n- Use hardlinking for cp\n- Avoid storing uncompressed temp files\n- Run gzip in parallel to optimize core usage\n\nChange-Id: I7acce43694b76f65647eda6a4a69c5f3e60a41d5\n'}, {'number': 2, 'created': '2018-12-14 13:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0e6edfc0e51f513ad6d28999477a112139b0a856', 'message': 'Improve speed of collect_logs.sh\n\n- Use hardlinking for cp\n- Avoid storing uncompressed temp files\n- Run gzip in parallel to optimize core usage\n\nChange-Id: I7acce43694b76f65647eda6a4a69c5f3e60a41d5\n'}, {'number': 3, 'created': '2018-12-14 15:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/40b64476d3106f82896d7dce2844087586553534', 'message': 'Improve speed of collect_logs.sh\n\n- Use hardlinking for cp\n- Avoid storing uncompressed temp files\n- Run gzip in parallel to optimize core usage\n- Combine subunit files to a single one\n- Makes collection logic easier to read and maintain\n\nChange-Id: I7acce43694b76f65647eda6a4a69c5f3e60a41d5\n'}, {'number': 4, 'created': '2018-12-14 15:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2d9f3b8a6f6a0f2876b278bd2d993d95549706e9', 'message': 'Improve speed of collect_logs.sh\n\n- Use hardlinking for cp\n- Avoid storing uncompressed temp files\n- Run gzip in parallel to optimize core usage\n- Combine subunit files to a single one\n- Makes collection logic easier to read and maintain\n\nChange-Id: I7acce43694b76f65647eda6a4a69c5f3e60a41d5\n'}, {'number': 5, 'created': '2018-12-17 20:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/887b8f003f2fc09b6d1e74847fd09ea2eb2b1366', 'message': 'Improve speed of collect_logs.sh\n\n- Use hardlinking for cp\n- Avoid storing uncompressed temp files\n- Run gzip in parallel to optimize core usage\n- Combine subunit files to a single one\n- Makes collection logic easier to read and maintain\n\nChange-Id: I7acce43694b76f65647eda6a4a69c5f3e60a41d5\n'}, {'number': 6, 'created': '2018-12-18 11:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ce45721f81c382b8a7a01068ca1df0a90dfa1298', 'message': 'Improve speed of collect_logs.sh\n\n- Adds --reflink=auto to cp\n- Avoid storing uncompressed temp files\n- Run gzip in parallel to optimize core usage\n- Combine subunit files to a single one\n- Makes collection logic easier to read and maintain\n- Avoid misleading ignored errors on missing files as we expect to\nmiss some files on failed builds. If deployment failed, obviously that\nwe would not have any tempest files to collect.\n\nChange-Id: I7acce43694b76f65647eda6a4a69c5f3e60a41d5\n'}, {'number': 7, 'created': '2018-12-18 11:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d6722f80dc0a3862f9911c1e3c60001a97181680', 'message': 'Improve speed of collect_logs.sh\n\n- Adds --reflink=auto to cp\n- Avoid storing uncompressed temp files\n- Run gzip in parallel to optimize core usage\n- Combine subunit files to a single one\n- Makes collection logic easier to read and maintain\n- Avoid misleading ignored errors on missing files as we expect to\nmiss some files on failed builds. If deployment failed, obviously that\nwe would not have any tempest files to collect.\n\nChange-Id: I7acce43694b76f65647eda6a4a69c5f3e60a41d5\n'}, {'number': 8, 'created': '2018-12-18 15:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b21d044c3f0f9cb9274cc368c2330c306e6829c0', 'message': 'Improve speed of collect_logs.sh\n\n- Adds --reflink=auto to cp\n- Avoid storing uncompressed temp files\n- Run gzip in parallel to optimize core usage\n- Combine subunit files to a single one\n- Makes collection logic easier to read and maintain\n- Avoid misleading ignored errors on missing files as we expect to\nmiss some files on failed builds. If deployment failed, obviously that\nwe would not have any tempest files to collect.\n\nChange-Id: I7acce43694b76f65647eda6a4a69c5f3e60a41d5\n'}, {'number': 9, 'created': '2019-01-09 10:09:34.000000000', 'files': ['toci_quickstart.sh', 'scripts/oooq_common_functions.sh', 'roles/run-test/templates/oooq_common_functions.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b7aa130186a4dc7783d2669e8842b2c6cb03e44a', 'message': 'Improve speed of collect_logs.sh\n\n- Adds --reflink=auto to cp\n- Avoid storing uncompressed temp files\n- Run gzip in parallel to optimize core usage\n- Combine subunit files to a single one\n- Makes collection logic easier to read and maintain\n- Avoid misleading ignored errors on missing files as we expect to\nmiss some files on failed builds. If deployment failed, obviously that\nwe would not have any tempest files to collect.\n\nChange-Id: I7acce43694b76f65647eda6a4a69c5f3e60a41d5\n'}]",4,625229,b7aa130186a4dc7783d2669e8842b2c6cb03e44a,21,7,9,24162,,,0,"Improve speed of collect_logs.sh

- Adds --reflink=auto to cp
- Avoid storing uncompressed temp files
- Run gzip in parallel to optimize core usage
- Combine subunit files to a single one
- Makes collection logic easier to read and maintain
- Avoid misleading ignored errors on missing files as we expect to
miss some files on failed builds. If deployment failed, obviously that
we would not have any tempest files to collect.

Change-Id: I7acce43694b76f65647eda6a4a69c5f3e60a41d5
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/29/625229/9 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tripleo-ci/templates/oooq_common_functions.sh.j2'],1,ef763200b500db4603f4223548a6cd7ab6a8c939,clean,"sudo unbound-control dump_cache | gzip - > $LOGS_DIR/dns_cache.txt.gzfind $LOCAL_WORKING_DIR -maxdepth 1 -type f -not -name ""*sqlite"" | \ xarg -0 -P -I @@ \ gzip -cf @@ > $LOGS_DIR/quickstart_files/\$(basename @@).txt.gz $QUICKSTART_COLLECTLOGS_CMD > $LOGS_DIR/quickstart_collect_logs.log || \cp -l $LOGS_DIR/undercloud/var/log/postci.txt.gz $LOGS_DIR/ || true cp -l $LOGS_DIR/undercloud/home/$USER/tempest/testrepository.subunit.gz ${LOGS_DIR}/testrepository.subunit.gz cp -l $LOGS_DIR/undercloud/home/$USER/pingtest.subunit.gz ${LOGS_DIR}/testrepository.subunit.gz cp -l $LOGS_DIR/undercloud/home/$USER/undercloud_sanity.subunit.gz ${LOGS_DIR}/testrepository.subunit.gzcp -l $LOGS_DIR/undercloud/home/$USER/tempest/tempest.html.gz ${LOGS_DIR} || truesudo cp -lRf $LOGS_DIR/undercloud/home/$USER/tempest /opt/stack/new || true","sudo unbound-control dump_cache > /tmp/dns_cache.txt sudo chown {{ ansible_user_id }}: /tmp/dns_cache.txt cat /tmp/dns_cache.txt | gzip - > $LOGS_DIR/dns_cache.txt.gzfind $LOCAL_WORKING_DIR -maxdepth 1 -type f -not -name ""*sqlite"" | while read i; do gzip -cf \$i > $LOGS_DIR/quickstart_files/\$(basename \$i).txt.gz; done $QUICKSTART_COLLECTLOGS_CMD > $LOGS_DIR/quickstart_collect_logs.log || \cp $LOGS_DIR/undercloud/var/log/postci.txt.gz $LOGS_DIR/ || true cp $LOGS_DIR/undercloud/home/$USER/tempest/testrepository.subunit.gz ${LOGS_DIR}/testrepository.subunit.gz cp $LOGS_DIR/undercloud/home/$USER/pingtest.subunit.gz ${LOGS_DIR}/testrepository.subunit.gz cp $LOGS_DIR/undercloud/home/$USER/undercloud_sanity.subunit.gz ${LOGS_DIR}/testrepository.subunit.gzcp $LOGS_DIR/undercloud/home/$USER/tempest/tempest.html.gz ${LOGS_DIR} || truesudo cp -Rf $LOGS_DIR/undercloud/home/$USER/tempest /opt/stack/new || true",11,11
openstack%2Fswift~feature%2Flosf~I63b9b377b3b6604be246f34c60607fc22bb74b93,openstack/swift,feature/losf,I63b9b377b3b6604be246f34c60607fc22bb74b93,update default gerrit review branch,ABANDONED,2019-02-08 17:29:03.000000000,2019-02-08 17:32:25.000000000,,"[{'_account_id': 330}, {'_account_id': 15343}]","[{'number': 1, 'created': '2019-02-08 17:29:03.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/swift/commit/a0756e487ea7c63eff31f9f344fe3ac30d84c3bb', 'message': 'update default gerrit review branch\n\nChange-Id: I63b9b377b3b6604be246f34c60607fc22bb74b93\n'}]",0,635893,a0756e487ea7c63eff31f9f344fe3ac30d84c3bb,5,2,1,330,,,0,"update default gerrit review branch

Change-Id: I63b9b377b3b6604be246f34c60607fc22bb74b93
",git fetch https://review.opendev.org/openstack/swift refs/changes/93/635893/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,a0756e487ea7c63eff31f9f344fe3ac30d84c3bb,,defaultbranch=feature/losf,,1,0
openstack%2Fkayobe~master~Ia30173abf185329098ace621baf0ad1be75c0b74,openstack/kayobe,master,Ia30173abf185329098ace621baf0ad1be75c0b74,Don't pull registry image from private registry,MERGED,2019-02-05 12:08:59.000000000,2019-02-08 17:31:06.000000000,2019-02-08 17:31:06.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-02-05 12:08:59.000000000', 'files': ['ansible/roles/docker-registry/defaults/main.yml', 'doc/source/configuration/hosts.rst', 'doc/source/configuration/kolla.rst', 'releasenotes/notes/docker-registry-on-seed-2eb4fb643d6fda9a.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3b1a8a6a00decad98f8ab1bd0000b56c00cd231c', 'message': ""Don't pull registry image from private registry\n\nThis avoids a potential circular dependency where the registry is the\nsource of its own image.\n\nAlso fixes up the image building documentation about the default value\nof kolla_docker_registry.\n\nChange-Id: Ia30173abf185329098ace621baf0ad1be75c0b74\nStory: 2004820\nTask: 29345\n""}]",0,634921,3b1a8a6a00decad98f8ab1bd0000b56c00cd231c,7,3,1,14826,,,0,"Don't pull registry image from private registry

This avoids a potential circular dependency where the registry is the
source of its own image.

Also fixes up the image building documentation about the default value
of kolla_docker_registry.

Change-Id: Ia30173abf185329098ace621baf0ad1be75c0b74
Story: 2004820
Task: 29345
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/21/634921/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/docker-registry/defaults/main.yml', 'doc/source/configuration/hosts.rst', 'doc/source/configuration/kolla.rst', 'releasenotes/notes/docker-registry-on-seed-2eb4fb643d6fda9a.yaml']",4,3b1a8a6a00decad98f8ab1bd0000b56c00cd231c,story/2004820, - | Modifies the default value of ``docker_registry_image`` variable to not use a private registry in the image name by default. This avoids a potential circular dependency during deployment of the registry container.,,9,3
openstack%2Fkayobe~master~Iff5b9f2a33ad2320f62fae7328c097069cb4f416,openstack/kayobe,master,Iff5b9f2a33ad2320f62fae7328c097069cb4f416,Support custom HAProxy config,MERGED,2019-02-01 13:11:09.000000000,2019-02-08 17:31:06.000000000,2019-02-08 17:31:06.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-02-01 13:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5cd4fb44b5049dfe1c4b8477317d997dfcb23394', 'message': 'Support custom HAProxy config\n\nChange-Id: Iff5b9f2a33ad2320f62fae7328c097069cb4f416\n'}, {'number': 2, 'created': '2019-02-05 12:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/98540a05fc7ef19d0418e4b0452519c81851bea0', 'message': 'Support custom HAProxy config\n\nNote that in the Stein release of Kolla-Ansible haproxy.cfg was refactored and\nthis override will no longer work as expected.\n\nChange-Id: Iff5b9f2a33ad2320f62fae7328c097069cb4f416\n'}, {'number': 3, 'created': '2019-02-05 12:17:16.000000000', 'files': ['ansible/roles/kolla-openstack/vars/main.yml', 'ansible/roles/kolla-openstack/molecule/enable-everything/molecule.yml', 'ansible/roles/kolla-openstack/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d935f55f7c7a5044946b919957c452f88bf287f0', 'message': 'Support custom HAProxy config\n\nNote that in the Stein release of Kolla-Ansible haproxy.cfg was refactored and\nthis override will no longer work as expected.\n\nChange-Id: Iff5b9f2a33ad2320f62fae7328c097069cb4f416\n'}]",0,634404,d935f55f7c7a5044946b919957c452f88bf287f0,18,4,3,17669,,,0,"Support custom HAProxy config

Note that in the Stein release of Kolla-Ansible haproxy.cfg was refactored and
this override will no longer work as expected.

Change-Id: Iff5b9f2a33ad2320f62fae7328c097069cb4f416
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/04/634404/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/kolla-openstack/vars/main.yml'],1,5cd4fb44b5049dfe1c4b8477317d997dfcb23394,custom_haproxy," # HAProxy. - src: ""{{ kolla_extra_config_path }}/haproxy"" dest: ""{{ kolla_node_custom_config_path }}/haproxy"" patterns: ""*"" enabled: ""{{ kolla_enable_haproxy }}""",,5,0
openstack%2Fkayobe~stable%2Fqueens~Ib8fe11cdf7e2571f99eb13c0e5ebd3e200c77c6e,openstack/kayobe,stable/queens,Ib8fe11cdf7e2571f99eb13c0e5ebd3e200c77c6e,Use a fork of the yatesr.timezone role,MERGED,2019-02-05 12:19:37.000000000,2019-02-08 17:20:38.000000000,2019-02-08 17:20:38.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-02-05 12:19:37.000000000', 'files': ['ansible/ntp.yml', 'requirements.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/be19d9e0e8c973528589c95d2aead8c3acf9aab3', 'message': 'Use a fork of the yatesr.timezone role\n\nThe yatesr.timezone role has been forked to stackhpc.timezone, since the\nupstream role includes symlinks which do not play nicely with PBR. Once\nthe PBR issue is fixed, we can revert to using the upstream role.\n\nChange-Id: Ib8fe11cdf7e2571f99eb13c0e5ebd3e200c77c6e\nStory: 2004252\nTask: 27787\n'}]",0,634923,be19d9e0e8c973528589c95d2aead8c3acf9aab3,9,4,1,14826,,,0,"Use a fork of the yatesr.timezone role

The yatesr.timezone role has been forked to stackhpc.timezone, since the
upstream role includes symlinks which do not play nicely with PBR. Once
the PBR issue is fixed, we can revert to using the upstream role.

Change-Id: Ib8fe11cdf7e2571f99eb13c0e5ebd3e200c77c6e
Story: 2004252
Task: 27787
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/23/634923/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/ntp.yml', 'requirements.yml']",2,be19d9e0e8c973528589c95d2aead8c3acf9aab3,,"# We are currently using a fork of this role since the upstream yatesr.timezone # role includes symlinks which do not play nicely with PBR. Once that issue has # been resolved in PBR, we can revert to using the upstream yatesr.timezone # role. - src: stackhpc.timezone version: 1.2.0",- src: yatesr.timezone version: 1.1.0,7,3
openstack%2Fmistral~master~I460686c2852e3eb642506049ad5c33705697ecd8,openstack/mistral,master,I460686c2852e3eb642506049ad5c33705697ecd8,Sending TASK_FAILED event in case of MistralException,MERGED,2018-11-21 10:03:17.000000000,2019-02-08 17:18:22.000000000,2019-02-08 17:18:22.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 21970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-21 10:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/c5b73aa5db043340c49a3822d2ed9bfa788ce44b', 'message': ""Sending TASK_FAILED event in case of MistralException\n\nIf task was failed by unhandled exceptions, Mistral was not sending\nTASK_FAILED event, which could be critical for Mistral's clients, who\nuse notifications mechanism to handle issues.\n\nChange-Id: I460686c2852e3eb642506049ad5c33705697ecd8\nCloses-Bug: #1803746\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n""}, {'number': 2, 'created': '2018-11-21 12:17:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/f08a923b7297c85dba31a8361b5facaef5a755b9', 'message': ""Sending TASK_FAILED event in case of MistralException\n\nIf task was failed by unhandled exceptions, Mistral was not sending\nTASK_FAILED event, which could be critical for Mistral's clients, who\nuse notifications mechanism to handle issues.\n\nChange-Id: I460686c2852e3eb642506049ad5c33705697ecd8\nCloses-Bug: #1803746\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n""}, {'number': 3, 'created': '2019-02-07 19:33:10.000000000', 'files': ['mistral/engine/task_handler.py', 'mistral/tests/unit/notifiers/test_notify.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/87200f6aea54eb4f47146f6bebd502c8c8fe9dbc', 'message': ""Sending TASK_FAILED event in case of MistralException\n\nIf task was failed by unhandled exceptions, Mistral was not sending\nTASK_FAILED event, which could be critical for Mistral's clients, who\nuse notifications mechanism to handle issues.\n\nChange-Id: I460686c2852e3eb642506049ad5c33705697ecd8\nCloses-Bug: #1803746\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n""}]",0,619192,87200f6aea54eb4f47146f6bebd502c8c8fe9dbc,17,4,3,29124,,,0,"Sending TASK_FAILED event in case of MistralException

If task was failed by unhandled exceptions, Mistral was not sending
TASK_FAILED event, which could be critical for Mistral's clients, who
use notifications mechanism to handle issues.

Change-Id: I460686c2852e3eb642506049ad5c33705697ecd8
Closes-Bug: #1803746
Signed-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>
",git fetch https://review.opendev.org/openstack/mistral refs/changes/92/619192/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/engine/task_handler.py', 'mistral/tests/unit/notifiers/test_notify.py']",2,c5b73aa5db043340c49a3822d2ed9bfa788ce44b,bug/1803746," def test_notify_task_input_error(self): wf_def = """"""--- version: '2.0' wf: tasks: task1: input: url: <% $.ItWillBeError %> action: std.http on-error: task2 task2: action: std.noop """""" wf_svc.create_workflows(wf_def) notify_options = [{'type': 'webhook'}] params = {'notify': notify_options} wf_ex = self.engine.start_workflow('wf', '', **params) self.await_workflow_error(wf_ex.id) with db_api.transaction(): wf_ex = db_api.get_workflow_execution(wf_ex.id) task_exs = wf_ex.task_executions self.assertEqual(1, len(task_exs)) t1_ex = self._assert_single_item(task_exs, name='task1') self.assertEqual(states.ERROR, t1_ex.state) expected_order = [ (wf_ex.id, events.WORKFLOW_LAUNCHED), (t1_ex.id, events.TASK_LAUNCHED), (t1_ex.id, events.TASK_FAILED), (wf_ex.id, events.WORKFLOW_FAILED) ] self.assertTrue(self.publishers['wbhk'].publish.called) self.assertListEqual(expected_order, EVENT_LOGS)",,60,0
openstack%2Fopenstack-ansible-lxc_hosts~master~I9e2dcced64877e3b27709e4088c9c554092006cb,openstack/openstack-ansible-lxc_hosts,master,I9e2dcced64877e3b27709e4088c9c554092006cb,Enable forwarding for all ipv4 interfaces,ABANDONED,2019-02-08 12:28:42.000000000,2019-02-08 17:05:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-02-08 12:28:42.000000000', 'files': ['templates/lxc-system-manage.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/2b474e99879ce51c08c1685aa297001e887b2db9', 'message': 'Enable forwarding for all ipv4 interfaces\n\nCentOS-7 is defaulting forwarding=0 which is preventing forwarding\nfrom br-vlan bridge to the lxcbr0 bridge during tempest testing.\n\nChange-Id: I9e2dcced64877e3b27709e4088c9c554092006cb\n'}]",0,635823,2b474e99879ce51c08c1685aa297001e887b2db9,3,1,1,28665,,,0,"Enable forwarding for all ipv4 interfaces

CentOS-7 is defaulting forwarding=0 which is preventing forwarding
from br-vlan bridge to the lxcbr0 bridge during tempest testing.

Change-Id: I9e2dcced64877e3b27709e4088c9c554092006cb
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/23/635823/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/lxc-system-manage.j2'],1,2b474e99879ce51c08c1685aa297001e887b2db9,centos_forwarding, # Set ip_forwarding sysctl -w net.ipv4.conf.all.forwarding=1 > /dev/null 2>&1, # Set ip_prwarding,2,1
openstack%2Fironic~master~I43787ad19ba1a5d7837d61d881dd3f4d394760b5,openstack/ironic,master,I43787ad19ba1a5d7837d61d881dd3f4d394760b5,Redfish inspect attempts local_gb via System extn,NEW,2019-02-01 06:58:03.000000000,2019-02-08 16:59:17.000000000,,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 16635}, {'_account_id': 18781}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 26340}, {'_account_id': 28429}]","[{'number': 1, 'created': '2019-02-01 06:58:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/378f2bc935c500a62514c5e9524d2c1e9b85556c', 'message': ""Redfish inspect attempts local_gb via System extn\n\nRedfish inspection will now first attempt to get the ``local_gb``\nvalue from Sushy System extension discovered during the inspection\nprocess. This is in addition to the existing logic of getting the\n``local_gb`` value from Sushy system's ``SimpleStorage`` and\n``Storage`` capabilities. Things introduced here are:\n\n  * Include an optional property ``redfish_oem_property_name`` in\n    the node's ``driver_info`` field for redfish driver.\n  * Establishes a common API definition for ``get_local_gb()`` for\n    the Redfish Sushy System OEM extension which provides the size\n    of system attached local disk (or configured local volume) in\n    GB.\n\nStory: 2004878\nTask: 29156\nDepends-On: I6d64d27ec456e46c2cb5052f93a91d9e06ba82de\n\nChange-Id: I43787ad19ba1a5d7837d61d881dd3f4d394760b5\n""}, {'number': 2, 'created': '2019-02-01 07:35:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e81bdd6efe5ae69c7f7469f20248b8c82eacfc5c', 'message': ""Redfish inspect attempts local_gb via System extn\n\nRedfish inspection will now first attempt to get the ``local_gb``\nvalue from Sushy System extension discovered during the inspection\nprocess. This is in addition to the existing logic of getting the\n``local_gb`` value from Sushy system's ``SimpleStorage`` and\n``Storage`` capabilities. Things introduced here are:\n\n  * Include an optional property ``redfish_oem_property_name`` in\n    the node's ``driver_info`` field for redfish driver.\n  * Establishes a common API definition for ``get_local_gb()`` for\n    the Redfish Sushy System OEM extension which provides the size\n    of system attached local disk (or configured local volume) in\n    GB.\n\nStory: 2004878\nTask: 29156\nDepends-On: I6d64d27ec456e46c2cb5052f93a91d9e06ba82de\n\nChange-Id: I43787ad19ba1a5d7837d61d881dd3f4d394760b5\n""}, {'number': 3, 'created': '2019-02-01 07:38:21.000000000', 'files': ['ironic/drivers/modules/redfish/utils.py', 'ironic/tests/unit/drivers/modules/redfish/test_inspect.py', 'releasenotes/notes/redfish-allow-local_gb-size-from-vendor-defined-extension-af215e828170de3f.yaml', 'ironic/drivers/modules/redfish/inspect.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1dd21249f2d83b6adb1cf02ccb81102a3527d61e', 'message': ""Redfish inspect attempts local_gb via System extn\n\nRedfish inspection will now first attempt to get the ``local_gb``\nvalue from Sushy System extension discovered during the inspection\nprocess. This is in addition to the existing logic of getting the\n``local_gb`` value from Sushy system's ``SimpleStorage`` and\n``Storage`` capabilities. Things introduced here are:\n\n  * Include an optional property ``redfish_oem_property_name`` in\n    the node's ``driver_info`` field for redfish driver.\n  * Establishes a common API definition for ``get_local_gb()`` for\n    the Redfish Sushy System OEM extension which provides the size\n    of system attached local disk (or configured local volume) in\n    GB.\n\nStory: 2004878\nTask: 29156\nDepends-On: I6d64d27ec456e46c2cb5052f93a91d9e06ba82de\n\nChange-Id: I43787ad19ba1a5d7837d61d881dd3f4d394760b5\n""}]",24,634373,1dd21249f2d83b6adb1cf02ccb81102a3527d61e,18,11,3,16635,,,0,"Redfish inspect attempts local_gb via System extn

Redfish inspection will now first attempt to get the ``local_gb``
value from Sushy System extension discovered during the inspection
process. This is in addition to the existing logic of getting the
``local_gb`` value from Sushy system's ``SimpleStorage`` and
``Storage`` capabilities. Things introduced here are:

  * Include an optional property ``redfish_oem_property_name`` in
    the node's ``driver_info`` field for redfish driver.
  * Establishes a common API definition for ``get_local_gb()`` for
    the Redfish Sushy System OEM extension which provides the size
    of system attached local disk (or configured local volume) in
    GB.

Story: 2004878
Task: 29156
Depends-On: I6d64d27ec456e46c2cb5052f93a91d9e06ba82de

Change-Id: I43787ad19ba1a5d7837d61d881dd3f4d394760b5
",git fetch https://review.opendev.org/openstack/ironic refs/changes/73/634373/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/utils.py', 'ironic/tests/unit/drivers/modules/redfish/test_inspect.py', 'ironic/drivers/modules/redfish/inspect.py']",3,378f2bc935c500a62514c5e9524d2c1e9b85556c,add-system-extn-local-gb,"def _get_system_simple_storage_size(node, system_inst): simple_storage_size = 0 try: LOG.debug(""Attempting to discover system simple storage size for "" ""node %(node)s"", {'node': node.uuid}) if (system_inst.simple_storage and system_inst.simple_storage.disks_sizes_bytes): simple_storage_size = [ size for size in system_inst.simple_storage.disks_sizes_bytes if size >= 4 * units.Gi ] or [0] simple_storage_size = simple_storage_size[0] except sushy.exceptions.SushyError as ex: LOG.debug(""No simple storage information discovered "" ""for node %(node)s: %(err)s"", {'node': node.uuid, 'err': ex}) return simple_storage_size def _get_system_storage_size(node, system_inst): storage_size = 0 try: LOG.debug(""Attempting to discover system storage volume size for "" ""node %(node)s"", {'node': node.uuid}) if system_inst.storage and system_inst.storage.volumes_sizes_bytes: storage_size = [ size for size in system_inst.storage.volumes_sizes_bytes if size >= 4 * units.Gi ] or [0] storage_size = storage_size[0] except sushy.exceptions.SushyError as ex: LOG.debug(""No storage volume information discovered "" ""for node %(node)s: %(err)s"", {'node': node.uuid, 'err': ex}) try: if not storage_size: LOG.debug(""Attempting to discover system storage drive size "" ""for node %(node)s"", {'node': node.uuid}) if system_inst.storage and system_inst.storage.drives_sizes_bytes: storage_size = [ size for size in system_inst.storage.drives_sizes_bytes if size >= 4 * units.Gi ] or [0] storage_size = storage_size[0] except sushy.exceptions.SushyError as ex: LOG.debug(""No storage drive information discovered "" ""for node %(node)s: %(err)s"", {'node': node.uuid, 'err': ex}) return storage_size local_gb = 0 LOG.debug(""Attempting to discover local_gb size from system OEM "" ""extension for node %(node)s"", {'node': task.node.uuid}) oem_property_name = redfish_utils.get_oem_property_name(task.node) if oem_property_name is None: LOG.debug( ""No Redfish property name set in driver_info/"" ""redfish_oem_property_name on node %(node)s. Not attempting "" ""to discover system OEM extension."", {'node': task.node.uuid}) else: try: oem_system_extn = system.get_oem_extension(oem_property_name) if hasattr(oem_system_extn, 'get_local_gb'): local_gb = oem_system_extn.get_local_gb() except sushy.exceptions.SushyError as ex: LOG.debug(""No system OEM extension discovered for OEM vendor "" ""property %(oem_property)s on %(node)s: %(err)s"", {'oem_property': oem_property_name, 'node': task.node.uuid, 'err': ex}) if not local_gb: simple_storage_size = _get_system_simple_storage_size( task.node, system) storage_size = _get_system_storage_size(task.node, system) # NOTE(etingof): pick the smallest disk larger than 4G among # available if simple_storage_size and storage_size: local_gb = min(simple_storage_size, storage_size) / units.Gi else: local_gb = max(simple_storage_size, storage_size) / units.Gi local_gb = max(0, int(local_gb - 1))"," simple_storage_size = 0 try: LOG.debug(""Attempting to discover system simple storage size for "" ""node %(node)s"", {'node': task.node.uuid}) if (system.simple_storage and system.simple_storage.disks_sizes_bytes): simple_storage_size = [ size for size in system.simple_storage.disks_sizes_bytes if size >= 4 * units.Gi ] or [0] simple_storage_size = simple_storage_size[0] except sushy.exceptions.SushyError as ex: LOG.debug(""No simple storage information discovered "" ""for node %(node)s: %(err)s"", {'node': task.node.uuid, 'err': ex}) storage_size = 0 try: LOG.debug(""Attempting to discover system storage volume size for "" ""node %(node)s"", {'node': task.node.uuid}) if system.storage and system.storage.volumes_sizes_bytes: storage_size = [ size for size in system.storage.volumes_sizes_bytes if size >= 4 * units.Gi ] or [0] storage_size = storage_size[0] except sushy.exceptions.SushyError as ex: LOG.debug(""No storage volume information discovered "" ""for node %(node)s: %(err)s"", {'node': task.node.uuid, 'err': ex}) try: if not storage_size: LOG.debug(""Attempting to discover system storage drive size "" ""for node %(node)s"", {'node': task.node.uuid}) if system.storage and system.storage.drives_sizes_bytes: storage_size = [ size for size in system.storage.drives_sizes_bytes if size >= 4 * units.Gi ] or [0] storage_size = storage_size[0] except sushy.exceptions.SushyError as ex: LOG.debug(""No storage drive information discovered "" ""for node %(node)s: %(err)s"", {'node': task.node.uuid, 'err': ex}) # NOTE(etingof): pick the smallest disk larger than 4G among available if simple_storage_size and storage_size: local_gb = min(simple_storage_size, storage_size) else: local_gb = max(simple_storage_size, storage_size) local_gb = max(0, int(local_gb / units.Gi - 1))",127,60
openstack%2Fmonasca-agent~master~Ifc0a1bca747f655765aaa23b23751b52d4586133,openstack/monasca-agent,master,Ifc0a1bca747f655765aaa23b23751b52d4586133,Improve error message when plugin detection fails.,MERGED,2019-01-03 19:16:59.000000000,2019-02-08 16:42:57.000000000,2019-02-08 16:42:57.000000000,"[{'_account_id': 10290}, {'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-03 19:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/b70be14d31a5da0866808ddc1d8ca6f274cdfabb', 'message': ""Improve error message when plugin detection fails.\n\nThe previous message didn't give much detail, which has led to\nsome confusion and questions from users. This change attempts to\nadd some more detail and help in debugging why a plugin detection\nmight fail.\n\nChange-Id: Ifc0a1bca747f655765aaa23b23751b52d4586133\n""}, {'number': 2, 'created': '2019-01-03 19:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/d9663fb3431d975a5ee51515da3844483bd74d19', 'message': ""Improve error message when plugin detection fails.\n\nThe previous message didn't give much detail, which has led to\nsome confusion and questions from users. This change attempts to\nadd some more detail and help in debugging why a plugin detection\nmight fail.\n\nChange-Id: Ifc0a1bca747f655765aaa23b23751b52d4586133\n""}, {'number': 3, 'created': '2019-01-03 19:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/cceb1b8a3118ed8d399ead57eebbfa0216fa7bce', 'message': ""Improve error message when plugin detection fails.\n\nThe previous message didn't give much detail, which has led to\nsome confusion and questions from users. This change attempts to\nadd some more detail and help in debugging why a plugin detection\nmight fail.\n\nChange-Id: Ifc0a1bca747f655765aaa23b23751b52d4586133\n""}, {'number': 4, 'created': '2019-01-03 19:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/51fa84ed3dfa8adaf2f0e8797640d004442ac9ec', 'message': ""Improve error message when plugin detection fails.\n\nThe previous message didn't give much detail, which has led to\nsome confusion and questions from users. This change attempts to\nadd some more detail and help in debugging why a plugin detection\nmight fail.\n\nStory: 2004696\nChange-Id: Ifc0a1bca747f655765aaa23b23751b52d4586133\n""}, {'number': 5, 'created': '2019-02-08 15:37:26.000000000', 'files': ['monasca_setup/main.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/710253232f8d6da6d84e4164af9e83590a51456a', 'message': ""Improve error message when plugin detection fails.\n\nThe previous message didn't give much detail, which has led to\nsome confusion and questions from users. This change attempts to\nadd some more detail and help in debugging why a plugin detection\nmight fail.\n\nStory: 2004696\nTask: 28712\nChange-Id: Ifc0a1bca747f655765aaa23b23751b52d4586133\n""}]",0,628272,710253232f8d6da6d84e4164af9e83590a51456a,12,3,5,10311,,,0,"Improve error message when plugin detection fails.

The previous message didn't give much detail, which has led to
some confusion and questions from users. This change attempts to
add some more detail and help in debugging why a plugin detection
might fail.

Story: 2004696
Task: 28712
Change-Id: Ifc0a1bca747f655765aaa23b23751b52d4586133
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/72/628272/2 && git format-patch -1 --stdout FETCH_HEAD,['monasca_setup/main.py'],1,b70be14d31a5da0866808ddc1d8ca6f274cdfabb,improve-detect-message," ""\n\tPossible causes: Service not found or missing "" ""arguments. For services, the service is required "" ""to be running at detection time. For other plugins "" ""check the args (paths, urls, etc)."", detect.name)"," ""\n\tPossible causes: Service not found or missing"" ""arguments."", detect.name)",4,2
openstack%2Fopenstack-ansible-os_tempest~master~I24d1b93f88efe04dfab2b7790daa357a880e2c56,openstack/openstack-ansible-os_tempest,master,I24d1b93f88efe04dfab2b7790daa357a880e2c56,Ping router once it is created,MERGED,2019-01-30 08:02:49.000000000,2019-02-08 16:36:29.000000000,2019-02-08 16:36:29.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 27379}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-01-30 08:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/55ae2d9d3af066217d79b29ba1cc5dc243f8aedd', 'message': 'Ping router once it is created\n\nOnce router gets created. It is necessary to check from that router\nwe can ping public_network or not. It helps to debug what wents wrong\nwith in container.\n\nChange-Id: I24d1b93f88efe04dfab2b7790daa357a880e2c56\n'}, {'number': 2, 'created': '2019-01-30 10:34:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/de0c8b7eff3518cefbff8e7dd6781f196d33463c', 'message': 'Ping router once it is created\n\nOnce router gets created. It is necessary to check from that router\nwe can ping public_network or not. It helps to debug what wents wrong\nwith in container.\n\nChange-Id: I24d1b93f88efe04dfab2b7790daa357a880e2c56\n'}, {'number': 3, 'created': '2019-01-31 08:11:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/cf746fbd6edc7b0f17ddd6e292fadc26fd654f8a', 'message': 'Ping router once it is created\n\nOnce router gets created. It is necessary to check from that router\nwe can ping public_network or not. It helps to debug what wents wrong\nwith in container. It should be only checked when router\nadmin_state_up is true\n\nChange-Id: I24d1b93f88efe04dfab2b7790daa357a880e2c56\n'}, {'number': 4, 'created': '2019-01-31 10:00:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/46092867d27a48e4affb08465bb192669eec5455', 'message': 'Ping router once it is created\n\nOnce router gets created. It is necessary to check from that router\nwe can ping public_network or not. It helps to debug what wents wrong\nwith in container. It should be only checked when router\nadmin_state_up is true\n\nChange-Id: I24d1b93f88efe04dfab2b7790daa357a880e2c56\n'}, {'number': 5, 'created': '2019-01-31 12:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/f9e3ca27713138f9a43bc08f7630e96392879153', 'message': 'Ping router once it is created\n\nOnce router gets created. It is necessary to check from that router\nwe can ping public_network or not. It helps to debug what wents wrong\nwith in container. It should be only checked when router\nadmin_state_up is true\n\nChange-Id: I24d1b93f88efe04dfab2b7790daa357a880e2c56\n'}, {'number': 6, 'created': '2019-02-01 05:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/6416843d70697bba185a9febcb182c6e6d0af23e', 'message': 'Ping router once it is created\n\nOnce router gets created. It is necessary to check from that router\nwe can ping public_network or not. It helps to debug what wents wrong\nwith in container. It should be only checked when router\nadmin_state_up is true\n\nChange-Id: I24d1b93f88efe04dfab2b7790daa357a880e2c56\n'}, {'number': 7, 'created': '2019-02-04 05:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/6e576fae063de29c87e7ec5f8f1176bc90fced50', 'message': 'Ping router once it is created\n\nOnce router gets created. It is necessary to check from that router\nwe can ping public_network or not. It helps to debug what wents wrong\nwith in container. It should be only checked when router\nadmin_state_up is true\n\nChange-Id: I24d1b93f88efe04dfab2b7790daa357a880e2c56\n'}, {'number': 8, 'created': '2019-02-05 03:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/1d92901eb698cb483ffb79b9970a6cdedbbbbbec', 'message': 'Ping router once it is created\n\nOnce router gets created. It is necessary to check from that router\nwe can ping public_network or not. It helps to debug what wents wrong\nwith in container. It should be only checked when router\nadmin_state_up is true\n\nChange-Id: I24d1b93f88efe04dfab2b7790daa357a880e2c56\n'}, {'number': 9, 'created': '2019-02-05 06:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/4e918c6c456344c50f4a87b6765905be9d2a1330', 'message': 'Ping router once it is created\n\nOnce router gets created. It is necessary to check from that router\nwe can ping public_network or not. It helps to debug what wents wrong\nwith in container. It should be only checked when router\nadmin_state_up is true\n\nChange-Id: I24d1b93f88efe04dfab2b7790daa357a880e2c56\n'}, {'number': 10, 'created': '2019-02-05 09:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/9a9c010130e002fc83fcc6f23589931001bc1ccf', 'message': 'Ping router once it is created\n\nOnce router gets created. It is necessary to check from that router\nwe can ping public_network or not. It helps to debug what wents wrong\nwith in container. It should be only checked when router\nadmin_state_up is true\n\nChange-Id: I24d1b93f88efe04dfab2b7790daa357a880e2c56\n'}, {'number': 11, 'created': '2019-02-06 11:22:58.000000000', 'files': ['tasks/tempest_resources.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/f30f002d4b5db1cb30a0b7d669ba19e774e99e8e', 'message': 'Ping router once it is created\n\nOnce router gets created. It is necessary to check from that router\nwe can ping public_network or not. It helps to debug what wents wrong\nwith in container. It should be only checked when router\nadmin_state_up is true\n\nChange-Id: I24d1b93f88efe04dfab2b7790daa357a880e2c56\n'}]",4,633883,f30f002d4b5db1cb30a0b7d669ba19e774e99e8e,33,8,11,12393,,,0,"Ping router once it is created

Once router gets created. It is necessary to check from that router
we can ping public_network or not. It helps to debug what wents wrong
with in container. It should be only checked when router
admin_state_up is true

Change-Id: I24d1b93f88efe04dfab2b7790daa357a880e2c56
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/83/633883/9 && git format-patch -1 --stdout FETCH_HEAD,['tasks/tempest_resources.yml'],1,55ae2d9d3af066217d79b29ba1cc5dc243f8aedd,ping_router," - name: Ping router shell: | set -e ip netns exec ""{{ _add_router }}"" ping -c1 ""{{ tempest_public_network_name }}"" register: _router_ping ",,6,0
openstack%2Fpython-tripleoclient~master~Ifd675b005ca6c27657b3447484b76fa0b3bd31ff,openstack/python-tripleoclient,master,Ifd675b005ca6c27657b3447484b76fa0b3bd31ff,Undercloud: reno followup for ironic bios interface configuration,MERGED,2019-01-11 13:43:33.000000000,2019-02-08 16:32:59.000000000,2019-02-08 16:32:59.000000000,"[{'_account_id': 10239}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-01-11 13:43:33.000000000', 'files': ['releasenotes/notes/add-ironic-bios-interface-3fdd5587a60fdb31.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2c282fbb5c95543dab65bbf997b768f6e0b4dba0', 'message': 'Undercloud: reno followup for ironic bios interface configuration\n\nFollowing up Change-Id: I19d4ae45c4e08d4e02bae194e49f63ed0a1d3d8e\n\nChange-Id: Ifd675b005ca6c27657b3447484b76fa0b3bd31ff\nStory: 2001791\nTask: 28731\n'}]",0,630227,2c282fbb5c95543dab65bbf997b768f6e0b4dba0,9,5,1,26340,,,0,"Undercloud: reno followup for ironic bios interface configuration

Following up Change-Id: I19d4ae45c4e08d4e02bae194e49f63ed0a1d3d8e

Change-Id: Ifd675b005ca6c27657b3447484b76fa0b3bd31ff
Story: 2001791
Task: 28731
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/27/630227/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/add-ironic-bios-interface-3fdd5587a60fdb31.yaml'],1,2c282fbb5c95543dab65bbf997b768f6e0b4dba0,add-ironic-bios-interface-followup,--- features: - | Automatically enables ironic BIOS management interfaces based on enabled ironic hardware types supporting BIOS management. ,,5,0
openstack%2Fpython-tripleoclient~master~I778582f2d1980610b0fa9a961e18151a7a34e48a,openstack/python-tripleoclient,master,I778582f2d1980610b0fa9a961e18151a7a34e48a,Add Python 3.6 classifier to setup.cfg,MERGED,2018-11-30 07:37:49.000000000,2019-02-08 16:32:58.000000000,2019-02-08 16:32:58.000000000,"[{'_account_id': 10239}, {'_account_id': 11082}, {'_account_id': 11444}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2018-11-30 07:37:49.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d2afa792e6daf343c50c3ada5e6dca7b70807aad', 'message': 'Add Python 3.6 classifier to setup.cfg\n\nChange-Id: I778582f2d1980610b0fa9a961e18151a7a34e48a\n'}]",0,621112,d2afa792e6daf343c50c3ada5e6dca7b70807aad,10,6,1,17499,,,0,"Add Python 3.6 classifier to setup.cfg

Change-Id: I778582f2d1980610b0fa9a961e18151a7a34e48a
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/12/621112/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,d2afa792e6daf343c50c3ada5e6dca7b70807aad,, Programming Language :: Python :: 3.6,,1,0
openstack%2Ftripleo-common~master~I1038cdad4d1fda0f8d77799c15f55ca71d4f9ab8,openstack/tripleo-common,master,I1038cdad4d1fda0f8d77799c15f55ca71d4f9ab8,Remove python-notario package from mistral-executor image,MERGED,2019-01-23 20:49:53.000000000,2019-02-08 16:32:57.000000000,2019-02-08 16:32:57.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-23 20:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f341644b958ca6a2aeb59b3c3619f01470ab512a', 'message': ""Remove python-notario package from mistral-executor image\n\nThis package was added to this image in change\nIccaace4ee84f46e01b9dfd62b9985f889d12ea37 for ceph-ansible, however it\nwon't be required once external deploy tasks are run via localhost\nssh.\n\nChange-Id: I1038cdad4d1fda0f8d77799c15f55ca71d4f9ab8\nDepends-On: Ic841701d2751b87d1b5bae685a9112f0af31ccd9\nRelated-Bug: #1806065\n""}, {'number': 2, 'created': '2019-02-01 02:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1bdfef6ea889a107a4912a6164d40fbd3ed2aa71', 'message': ""Remove python-notario package from mistral-executor image\n\nThis package was added to this image in change\nIccaace4ee84f46e01b9dfd62b9985f889d12ea37 for ceph-ansible, however it\nwon't be required once external deploy tasks are run via localhost\nssh.\n\nChange-Id: I1038cdad4d1fda0f8d77799c15f55ca71d4f9ab8\nDepends-On: Ic841701d2751b87d1b5bae685a9112f0af31ccd9\nRelated-Bug: #1806065\n""}, {'number': 3, 'created': '2019-02-05 03:29:56.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b47cb439ca16988a6a44c9c488e50a31784ade9b', 'message': ""Remove python-notario package from mistral-executor image\n\nThis package was added to this image in change\nIccaace4ee84f46e01b9dfd62b9985f889d12ea37 for ceph-ansible, however it\nwon't be required once external deploy tasks are run via localhost\nssh.\n\nChange-Id: I1038cdad4d1fda0f8d77799c15f55ca71d4f9ab8\nRelated-Bug: #1806065\n""}]",3,632807,b47cb439ca16988a6a44c9c488e50a31784ade9b,24,7,3,4571,,,0,"Remove python-notario package from mistral-executor image

This package was added to this image in change
Iccaace4ee84f46e01b9dfd62b9985f889d12ea37 for ceph-ansible, however it
won't be required once external deploy tasks are run via localhost
ssh.

Change-Id: I1038cdad4d1fda0f8d77799c15f55ca71d4f9ab8
Related-Bug: #1806065
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/07/632807/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,f341644b958ca6a2aeb59b3c3619f01470ab512a,bug/1806065,"{% set mistral_executor_packages_append = ['openstack-tripleo-validations', 'openstack-nova-common', 'openstack-tripleo-heat-templates', 'ipmitool'] %}","# python-notario: ceph-ansible depends on this but it is bind mounted from host{% set mistral_executor_packages_append = ['openstack-tripleo-validations', 'openstack-nova-common', 'openstack-tripleo-heat-templates', 'python2-notario', 'ipmitool'] %}",1,2
openstack%2Frequirements~master~Idc1f08b26272d8c7bd8dfbf6227aad8373946007,openstack/requirements,master,Idc1f08b26272d8c7bd8dfbf6227aad8373946007,Updated from generate-constraints,MERGED,2019-02-05 06:19:03.000000000,2019-02-08 16:32:40.000000000,2019-02-08 16:32:40.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-05 06:19:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/896690f261ff6405870a4fd7dd091c6b96d76381', 'message': 'Updated from generate-constraints\n\nChange-Id: Idc1f08b26272d8c7bd8dfbf6227aad8373946007\n'}, {'number': 2, 'created': '2019-02-06 06:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/e4596d0d6abecabf391138d2284f648b46646031', 'message': 'Updated from generate-constraints\n\nChange-Id: Idc1f08b26272d8c7bd8dfbf6227aad8373946007\n'}, {'number': 3, 'created': '2019-02-07 06:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/de1794f941e07d5712347fdc1258833e0f6c1ef2', 'message': 'Updated from generate-constraints\n\nChange-Id: Idc1f08b26272d8c7bd8dfbf6227aad8373946007\n'}, {'number': 4, 'created': '2019-02-08 06:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c4f04ac3b787d5146bf09424aa283bf8cba5d6d5', 'message': 'Updated from generate-constraints\n\nChange-Id: Idc1f08b26272d8c7bd8dfbf6227aad8373946007\n'}, {'number': 5, 'created': '2019-02-08 06:34:52.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5fe858fad58b474e00049e62d8d5e766081e912a', 'message': 'Updated from generate-constraints\n\nChange-Id: Idc1f08b26272d8c7bd8dfbf6227aad8373946007\n'}]",0,634858,5fe858fad58b474e00049e62d8d5e766081e912a,14,2,5,11131,,,0,"Updated from generate-constraints

Change-Id: Idc1f08b26272d8c7bd8dfbf6227aad8373946007
",git fetch https://review.opendev.org/openstack/requirements refs/changes/58/634858/5 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,896690f261ff6405870a4fd7dd091c6b96d76381,openstack/requirements/constraints/noclob,tornado===4.5.3;python_version=='3.4' tornado===4.5.3;python_version=='3.5' tornado===4.5.3;python_version=='3.6' tornado===5.1.1;python_version=='2.7'opentracing===2.0.0dogpile.cache===0.7.1salt===2018.3.3botocore===1.12.87distro===1.4.0,tornado===4.5.3opentracing===1.3.0dogpile.cache===0.6.8salt===2018.3.2botocore===1.12.86distro===1.3.0,9,6
openstack%2Fswift~feature%2Flosf~I901e9c047aa18513fdd293c1f2a5415b0a37061e,openstack/swift,feature/losf,I901e9c047aa18513fdd293c1f2a5415b0a37061e,Update UPPER_CONSTRAINTS_FILE for feature/losf,ABANDONED,2019-02-08 14:16:21.000000000,2019-02-08 16:19:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-02-08 14:16:21.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/swift/commit/8af8b96b756992ba386d8e3a99a7f603c1afd6c7', 'message': ""Update UPPER_CONSTRAINTS_FILE for feature/losf\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: I901e9c047aa18513fdd293c1f2a5415b0a37061e\n""}]",0,635846,8af8b96b756992ba386d8e3a99a7f603c1afd6c7,3,1,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for feature/losf

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: I901e9c047aa18513fdd293c1f2a5415b0a37061e
",git fetch https://review.opendev.org/openstack/swift refs/changes/46/635846/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8af8b96b756992ba386d8e3a99a7f603c1afd6c7,create-losf,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=feature/losf} -U {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -U {opts} {packages},1,1
openstack%2Fansible-role-python_venv_build~master~I4d45501844c3d8fe569927fd9ccab231ab093966,openstack/ansible-role-python_venv_build,master,I4d45501844c3d8fe569927fd9ccab231ab093966,Add tripleo-ci-centos-7-standalone-os-tempest job,MERGED,2019-02-01 08:08:03.000000000,2019-02-08 16:18:10.000000000,2019-02-08 16:18:09.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27379}]","[{'number': 1, 'created': '2019-02-01 08:08:03.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/64019c52443637f53f0d9a389f5eda9dce33efdd', 'message': 'Add tripleo-ci-centos-7-standalone-os-tempest job\n\nSince https://review.openstack.org/#/c/627500 marks the integration\nof os_tempest in tripleo ci, it is good to have a job here to make\nsure that it does not break tripleo integration.\n\npython_venv_build is used in os_tempest so adding tripleo os_tempest\n(non-voting) jobs makes sure that it does not break the tripleo\nos_tempest integration.\n\nChange-Id: I4d45501844c3d8fe569927fd9ccab231ab093966\n'}]",0,634377,64019c52443637f53f0d9a389f5eda9dce33efdd,8,8,1,12393,,,0,"Add tripleo-ci-centos-7-standalone-os-tempest job

Since https://review.openstack.org/#/c/627500 marks the integration
of os_tempest in tripleo ci, it is good to have a job here to make
sure that it does not break tripleo integration.

python_venv_build is used in os_tempest so adding tripleo os_tempest
(non-voting) jobs makes sure that it does not break the tripleo
os_tempest integration.

Change-Id: I4d45501844c3d8fe569927fd9ccab231ab093966
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/77/634377/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,64019c52443637f53f0d9a389f5eda9dce33efdd,tripleo, check: jobs: - tripleo-ci-centos-7-standalone-os-tempest gate: jobs: - tripleo-ci-centos-7-standalone-os-tempest,,6,0
openstack%2Frpm-packaging~stable%2Frocky~I81244e2cc0f996989ab22d860c2fef2a75d8f01c,openstack/rpm-packaging,stable/rocky,I81244e2cc0f996989ab22d860c2fef2a75d8f01c,monasca-notification: Fix %attr for /etc/monasca,MERGED,2019-02-08 15:59:36.000000000,2019-02-08 16:14:04.000000000,2019-02-08 16:14:04.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-08 15:59:36.000000000', 'files': ['openstack/monasca-notification/monasca-notification.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/bb2aec4b9a0af8f233bb6ea83f4ff3200486b67d', 'message': 'monasca-notification: Fix %attr for /etc/monasca\n\nThis must be in sync with other packages that also own\n/etc/monasca (like monasca-transformer)\n\nChange-Id: I81244e2cc0f996989ab22d860c2fef2a75d8f01c\n'}]",0,635874,bb2aec4b9a0af8f233bb6ea83f4ff3200486b67d,8,4,1,6593,,,0,"monasca-notification: Fix %attr for /etc/monasca

This must be in sync with other packages that also own
/etc/monasca (like monasca-transformer)

Change-Id: I81244e2cc0f996989ab22d860c2fef2a75d8f01c
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/74/635874/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/monasca-notification/monasca-notification.spec.j2'],1,bb2aec4b9a0af8f233bb6ea83f4ff3200486b67d,,"%dir %attr(-, root, %{groupname}) %{notification_conf_dir}",%dir %{notification_conf_dir},1,1
openstack%2Frpm-packaging~master~I81244e2cc0f996989ab22d860c2fef2a75d8f01c,openstack/rpm-packaging,master,I81244e2cc0f996989ab22d860c2fef2a75d8f01c,monasca-notification: Fix %attr for /etc/monasca,MERGED,2019-02-08 15:43:10.000000000,2019-02-08 16:14:03.000000000,2019-02-08 16:14:03.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-08 15:43:10.000000000', 'files': ['openstack/monasca-notification/monasca-notification.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a183379369cf9b6cf02b865493365046e516d781', 'message': 'monasca-notification: Fix %attr for /etc/monasca\n\nThis must be in sync with other packages that also own\n/etc/monasca (like monasca-transformer)\n\nChange-Id: I81244e2cc0f996989ab22d860c2fef2a75d8f01c\n'}]",0,635865,a183379369cf9b6cf02b865493365046e516d781,11,5,1,7102,,,0,"monasca-notification: Fix %attr for /etc/monasca

This must be in sync with other packages that also own
/etc/monasca (like monasca-transformer)

Change-Id: I81244e2cc0f996989ab22d860c2fef2a75d8f01c
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/65/635865/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/monasca-notification/monasca-notification.spec.j2'],1,a183379369cf9b6cf02b865493365046e516d781,,"%dir %attr(-, root, %{groupname}) %{notification_conf_dir}",%dir %{notification_conf_dir},1,1
openstack%2Fdevstack-plugin-ceph~master~Ia9bd6a42f33a7d9fe3041cf5c751ab691df19cb7,openstack/devstack-plugin-ceph,master,Ia9bd6a42f33a7d9fe3041cf5c751ab691df19cb7,Disable volume multiattach testing,MERGED,2019-02-05 16:50:08.000000000,2019-02-08 16:11:22.000000000,2019-02-08 16:11:22.000000000,"[{'_account_id': 4523}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-05 16:50:08.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/f4e44320a9b3d29b7233a0471151ae8eda494fc3', 'message': 'Disable volume multiattach testing\n\nTempest change I522a15ba3dbfee5d8ef417e43288a12319abf6ff is\nenabling volume multiattach testing in the tempest-full and\ntempest-full-py3 job configurations which we inherit for\ndevstack-plugin-ceph-tempest and devstack-plugin-ceph-tempest-py3\nrespectively. Since the rbd driver in cinder does not support\nmultiattach yet we need to disable multiattach testing for these\njobs.\n\nChange-Id: Ia9bd6a42f33a7d9fe3041cf5c751ab691df19cb7\n'}]",0,634977,f4e44320a9b3d29b7233a0471151ae8eda494fc3,8,4,1,6873,,,0,"Disable volume multiattach testing

Tempest change I522a15ba3dbfee5d8ef417e43288a12319abf6ff is
enabling volume multiattach testing in the tempest-full and
tempest-full-py3 job configurations which we inherit for
devstack-plugin-ceph-tempest and devstack-plugin-ceph-tempest-py3
respectively. Since the rbd driver in cinder does not support
multiattach yet we need to disable multiattach testing for these
jobs.

Change-Id: Ia9bd6a42f33a7d9fe3041cf5c751ab691df19cb7
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/77/634977/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f4e44320a9b3d29b7233a0471151ae8eda494fc3,drop-multiattach-job, ENABLE_VOLUME_MULTIATTACH: false ENABLE_VOLUME_MULTIATTACH: false,,2,0
openstack%2Freleases~master~I9c08bb4f25a0db57ac946ce6204a760f3491fb6e,openstack/releases,master,I9c08bb4f25a0db57ac946ce6204a760f3491fb6e,Switch some Telemetry services to cycle-with-rc,MERGED,2019-02-07 21:41:41.000000000,2019-02-08 16:09:21.000000000,2019-02-08 16:09:20.000000000,"[{'_account_id': 1669}, {'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-07 21:41:41.000000000', 'files': ['deliverables/stein/panko.yaml', 'deliverables/stein/ceilometer.yaml', 'deliverables/stein/aodh.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3024596a97ad430410e7faed98048bd9dd21efea', 'message': 'Switch some Telemetry services to cycle-with-rc\n\nThere were several deliverables set as cycle-with-intermediary that have\nnot been doing intermediary releases. That release model is intended for\ndeliverables that will be releases multiple times throughout the\ndevelopment cycle.\n\nWith the newer cycle-with-rc release model, teams have the option of not\nrequiring releases during the cycle and just making sure they are done\nnear the end of the cycle. See [1] for more details.\n\nThis proposes to change a few cycle-with-intermediary deliverables to be\ncycle-with-rc. Please confirm this is acceptable for the team and feel\nfree to ask any questions about this change.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2018-December/000465.html\n\nChange-Id: I9c08bb4f25a0db57ac946ce6204a760f3491fb6e\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,635656,3024596a97ad430410e7faed98048bd9dd21efea,8,3,1,11904,,,0,"Switch some Telemetry services to cycle-with-rc

There were several deliverables set as cycle-with-intermediary that have
not been doing intermediary releases. That release model is intended for
deliverables that will be releases multiple times throughout the
development cycle.

With the newer cycle-with-rc release model, teams have the option of not
requiring releases during the cycle and just making sure they are done
near the end of the cycle. See [1] for more details.

This proposes to change a few cycle-with-intermediary deliverables to be
cycle-with-rc. Please confirm this is acceptable for the team and feel
free to ask any questions about this change.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2018-December/000465.html

Change-Id: I9c08bb4f25a0db57ac946ce6204a760f3491fb6e
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/56/635656/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/stein/panko.yaml', 'deliverables/stein/ceilometer.yaml', 'deliverables/stein/aodh.yaml']",3,3024596a97ad430410e7faed98048bd9dd21efea,telemetry,release-model: cycle-with-rc,release-model: cycle-with-intermediary,3,3
openstack%2Foctavia~master~Id0f347f9d89e6ca801edb9044302216da4ffbb3b,openstack/octavia,master,Id0f347f9d89e6ca801edb9044302216da4ffbb3b,Fix check redirect pool for creating a fully populated load balancer.,MERGED,2019-02-06 14:34:56.000000000,2019-02-08 15:55:44.000000000,2019-02-08 15:44:50.000000000,"[{'_account_id': 6469}, {'_account_id': 9373}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 27256}]","[{'number': 1, 'created': '2019-02-06 14:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a95997ec621b07b8ee11523ee0754170def0dff0', 'message': 'Fix check redirect pool for creating a fully populated load balancer.\n\nChange-Id: Id0f347f9d89e6ca801edb9044302216da4ffbb3b\n'}, {'number': 2, 'created': '2019-02-07 14:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/35b91731b9f51569739212d54e7b56a2f2dfca4b', 'message': 'Fix check redirect pool for creating a fully populated load balancer.\n\nChange-Id: Id0f347f9d89e6ca801edb9044302216da4ffbb3b\nStory: 2004961\n'}, {'number': 3, 'created': '2019-02-07 15:18:41.000000000', 'files': ['octavia/api/v2/controllers/load_balancer.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'releasenotes/notes/fix-creating-fully-populated-load-balancer-ae57ffae5c017ac3.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/05e16a3498a1a128d30d7ce08b9bce7d9d639627', 'message': 'Fix check redirect pool for creating a fully populated load balancer.\n\nChange-Id: Id0f347f9d89e6ca801edb9044302216da4ffbb3b\nStory: 2004961\n'}]",0,635167,05e16a3498a1a128d30d7ce08b9bce7d9d639627,14,6,3,27256,,,0,"Fix check redirect pool for creating a fully populated load balancer.

Change-Id: Id0f347f9d89e6ca801edb9044302216da4ffbb3b
Story: 2004961
",git fetch https://review.opendev.org/openstack/octavia refs/changes/67/635167/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/api/v2/controllers/load_balancer.py'],1,a95997ec621b07b8ee11523ee0754170def0dff0,, if redirect_pool and not pool_name:, if default_pool and not pool_name:,1,1
openstack%2Fneutron~master~Id70493045e0aef59e20274bafe98723c21488180,openstack/neutron,master,Id70493045e0aef59e20274bafe98723c21488180,DNM: Illustrate differences with new and legacy DB facade in unit tests,ABANDONED,2019-02-06 19:51:07.000000000,2019-02-08 15:50:44.000000000,,"[{'_account_id': 4187}, {'_account_id': 9845}, {'_account_id': 11536}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-02-06 19:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cf6b800e2c23f419801f7a7374a5186857c114d4', 'message': 'DNM: Illustrate differences with new and legacy DB facade in unit tests\n\nThis is meant to illustrate the differences in behavior between the\nnew and legacy DB engine facades in subnet onboard. This uses the\nlegacy facade and there are no failures observed. This illustrates\nhow subnet pool prefixes are persisted differently. Here, at the\nend of onboard_network_subnets(), the subnetpool is read from the DB\nand the proper prefixes have been persisted. When using the new\nfacade onboard_network_subnets() must return before reading the\nsubnetpool will yield an updated prefix list.\n\nIt should be noted that in a real environment the behavior obseved\nis that the prefix data does get persisted and can be read with\n""openstack subnet pool show"" after performing the onboard.\n\nThis is for illustration purposes only, do not merge.\n\nChange-Id: Id70493045e0aef59e20274bafe98723c21488180\n'}, {'number': 2, 'created': '2019-02-06 22:54:21.000000000', 'files': ['neutron/db/db_base_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/febf860a69a137c81356bf1a5e7df83634d5deed', 'message': 'DNM: Illustrate differences with new and legacy DB facade in unit tests\n\nThis is meant to illustrate the differences in behavior between the\nnew and legacy DB engine facades in subnet onboard. This uses the\nlegacy facade and there are no failures observed. This illustrates\nhow subnet pool prefixes are persisted differently. Here, at the\nend of onboard_network_subnets(), the subnetpool is read from the DB\nand the proper prefixes have been persisted. When using the new\nfacade onboard_network_subnets() must return before reading the\nsubnetpool will yield an updated prefix list.\n\nIt should be noted that in a real environment the behavior obseved\nis that the prefix data does get persisted and can be read with\n""openstack subnet pool show"" after performing the onboard.\n\nThis is for illustration purposes only, do not merge.\n\nChange-Id: Id70493045e0aef59e20274bafe98723c21488180\n'}]",1,635253,febf860a69a137c81356bf1a5e7df83634d5deed,12,7,2,4187,,,0,"DNM: Illustrate differences with new and legacy DB facade in unit tests

This is meant to illustrate the differences in behavior between the
new and legacy DB engine facades in subnet onboard. This uses the
legacy facade and there are no failures observed. This illustrates
how subnet pool prefixes are persisted differently. Here, at the
end of onboard_network_subnets(), the subnetpool is read from the DB
and the proper prefixes have been persisted. When using the new
facade onboard_network_subnets() must return before reading the
subnetpool will yield an updated prefix list.

It should be noted that in a real environment the behavior obseved
is that the prefix data does get persisted and can be read with
""openstack subnet pool show"" after performing the onboard.

This is for illustration purposes only, do not merge.

Change-Id: Id70493045e0aef59e20274bafe98723c21488180
",git fetch https://review.opendev.org/openstack/neutron refs/changes/53/635253/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/db_base_plugin_v2.py'],1,cf6b800e2c23f419801f7a7374a5186857c114d4,, with db_api.autonested_transaction(context.session): with db_api.autonested_transaction(context.session):, with db_api.CONTEXT_WRITER.using(context): with db_api.CONTEXT_WRITER.using(context):,2,2
openstack%2Fcharm-ceilometer~master~Idcc26df53542e78f0671942c99edfcbf61eccf6c,openstack/charm-ceilometer,master,Idcc26df53542e78f0671942c99edfcbf61eccf6c,Use leader set for ceilometer-upgrade checks,MERGED,2019-02-07 20:47:00.000000000,2019-02-08 15:48:23.000000000,2019-02-08 15:48:22.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-07 20:47:00.000000000', 'files': ['lib/ceilometer_utils.py', 'hooks/ceilometer_hooks.py', 'hooks/leader-settings-changed', 'unit_tests/test_ceilometer_hooks.py', 'unit_tests/test_ceilometer_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/0a59a19ad20221b088843458e3b1cc8c3cdca6c3', 'message': 'Use leader set for ceilometer-upgrade checks\n\nThe previous attempt at addressing Bug#1811108 was a bit naive.\nIt was not HA aware and it failed to handle upgrade-charm.\n\nThis change moves from kv to leader-set as only the leader needs to run\nthe action and then inform the other nodes.\n\nNote: on upgrade-charm we must assume the deployment has run\nceilometer-upgrade as there is no mechanism to determine this\nindependently. If we do not do this, the charm is in blocked state after\ncharm-upgrade. A warning is logged that this assumption has occurred.\n\nPartial-Bug: #1811108\nChange-Id: Idcc26df53542e78f0671942c99edfcbf61eccf6c\n'}]",0,635639,0a59a19ad20221b088843458e3b1cc8c3cdca6c3,9,4,1,20805,,,0,"Use leader set for ceilometer-upgrade checks

The previous attempt at addressing Bug#1811108 was a bit naive.
It was not HA aware and it failed to handle upgrade-charm.

This change moves from kv to leader-set as only the leader needs to run
the action and then inform the other nodes.

Note: on upgrade-charm we must assume the deployment has run
ceilometer-upgrade as there is no mechanism to determine this
independently. If we do not do this, the charm is in blocked state after
charm-upgrade. A warning is logged that this assumption has occurred.

Partial-Bug: #1811108
Change-Id: Idcc26df53542e78f0671942c99edfcbf61eccf6c
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/39/635639/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/ceilometer_utils.py', 'hooks/ceilometer_hooks.py', 'hooks/leader-settings-changed', 'unit_tests/test_ceilometer_hooks.py', 'unit_tests/test_ceilometer_utils.py']",5,0a59a19ad20221b088843458e3b1cc8c3cdca6c3,bug/1811108," 'leader_set', 'leader_get', def test_check_ceilometer_upgraded(self): self.is_leader.return_value = True self.leader_get.return_value = False (""blocked"", ""Run the ceilometer-upgrade action on the leader "" ""to initialize ceilometer and gnocchi""), self.leader_get.return_value = True"," @patch.object(utils, 'kv') def test_check_ceilometer_upgraded(self, mock_kv): _kv = MagicMock() mock_kv.return_value = _kv _kv.get.return_value = False (""blocked"", ""Run the ceilometer-upgrade action to initialize "" ""ceilometer and gnocchi""), _kv.get.return_value = True",47,22
openstack%2Fkayobe~master~Ib721f8658284ba1419a4f8f81548d1cd88b0a89c,openstack/kayobe,master,Ib721f8658284ba1419a4f8f81548d1cd88b0a89c,Document support for configuring LVM on seed hypervisor,MERGED,2019-02-06 17:00:48.000000000,2019-02-08 15:44:49.000000000,2019-02-08 15:44:49.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-02-06 17:00:48.000000000', 'files': ['doc/source/configuration/hosts.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/971ad0b9cc2da3879face9943c996745cff3bd3d', 'message': 'Document support for configuring LVM on seed hypervisor\n\nChange-Id: Ib721f8658284ba1419a4f8f81548d1cd88b0a89c\n'}]",0,635223,971ad0b9cc2da3879face9943c996745cff3bd3d,7,3,1,15197,,,0,"Document support for configuring LVM on seed hypervisor

Change-Id: Ib721f8658284ba1419a4f8f81548d1cd88b0a89c
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/23/635223/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/hosts.rst'],1,971ad0b9cc2da3879face9943c996745cff3bd3d,seed-hypervisor-lvm,"* ``seed_hypervisor_lvm_groups``LVM for libvirt --------------- LVM is not configured by default on the seed hypervisor. It is possible to configure LVM to provide storage for a ``libvirt`` storage pool, typically mounted at ``/var/lib/libvirt/images``. To use this configuration, set the ``seed_hypervisor_lvm_groups`` variable to ``""{{ seed_hypervisor_lvm_groups_with_data }}""`` and provide a list of disks via the ``seed_hypervisor_lvm_group_data_disks`` variable. ",Note that LVM is not configured on the seed hypervisor. ,12,2
openstack%2Fkayobe~master~Ic36faaff37333f5af03a130dd97d31b26b7ff97f,openstack/kayobe,master,Ic36faaff37333f5af03a130dd97d31b26b7ff97f,Fix generation of globals.yml,MERGED,2019-02-08 11:05:40.000000000,2019-02-08 15:32:48.000000000,2019-02-08 15:26:04.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-02-08 11:05:40.000000000', 'files': ['ansible/roles/kolla-ansible/templates/globals.yml.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/68c50520b3625376882ee63d68a6407f9f7a9004', 'message': 'Fix generation of globals.yml\n\nkolla_inspector_* variables are identified by Jinja as empty strings\nrather than none, so globals.yml is generated with a syntax error:\n\nironic_dnsmasq_dhcp_range: ,\n                           ^ here\n\nChange-Id: Ic36faaff37333f5af03a130dd97d31b26b7ff97f\n'}]",0,635788,68c50520b3625376882ee63d68a6407f9f7a9004,9,3,1,15197,,,0,"Fix generation of globals.yml

kolla_inspector_* variables are identified by Jinja as empty strings
rather than none, so globals.yml is generated with a syntax error:

ironic_dnsmasq_dhcp_range: ,
                           ^ here

Change-Id: Ic36faaff37333f5af03a130dd97d31b26b7ff97f
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/88/635788/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/kolla-ansible/templates/globals.yml.j2'],1,68c50520b3625376882ee63d68a6407f9f7a9004,globals-fix,{% if kolla_inspector_dhcp_pool_start and kolla_inspector_dhcp_pool_end %}{% if kolla_inspector_default_gateway %},{% if kolla_inspector_dhcp_pool_start is not none and kolla_inspector_dhcp_pool_end is not none %}{% if kolla_inspector_default_gateway is not none %},2,2
openstack%2Fpuppet-tripleo~master~Icca33ec759a9ef5abca6da4cd2e59f0a5d9b7061,openstack/puppet-tripleo,master,Icca33ec759a9ef5abca6da4cd2e59f0a5d9b7061,mysql: use clustercheck credentials to poll galera state,MERGED,2018-09-19 09:07:31.000000000,2019-02-08 14:48:25.000000000,2018-10-31 07:50:15.000000000,"[{'_account_id': 6926}, {'_account_id': 10873}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2018-09-19 09:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9192d7f00d874037788cd4348b609beb906839a7', 'message': 'mysql: use clustercheck credentials to poll galera state\n\nIn the galera container, clustercheck is currently configured to\nuse root credentials to poll the state of the local galera node.\n\nconfigure clustercheck to use the clustercheck credentials instead.\n\nChange-Id: Icca33ec759a9ef5abca6da4cd2e59f0a5d9b7061\nRelated-Bug: #1792416\n'}, {'number': 2, 'created': '2018-10-01 14:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/36232681ed90a729cdf86dc6238807df3b63563a', 'message': 'mysql: use clustercheck credentials to poll galera state\n\nIn the galera container, clustercheck is currently configured to\nuse root credentials to poll the state of the local galera node.\n\nconfigure clustercheck to use the clustercheck credentials instead.\n\nChange-Id: Icca33ec759a9ef5abca6da4cd2e59f0a5d9b7061\nRelated-Bug: #1792416\n'}, {'number': 3, 'created': '2018-10-01 15:04:47.000000000', 'files': ['manifests/profile/pacemaker/database/mysql_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8fe26972a0777f8e7bc7aa0e5e16774d1df5d15d', 'message': 'mysql: use clustercheck credentials to poll galera state\n\nIn the galera container, clustercheck is currently configured to\nuse root credentials to poll the state of the local galera node.\n\nconfigure clustercheck to use the clustercheck credentials instead.\n\nChange-Id: Icca33ec759a9ef5abca6da4cd2e59f0a5d9b7061\nRelated-Bug: #1792416\n'}]",0,603612,8fe26972a0777f8e7bc7aa0e5e16774d1df5d15d,53,7,3,20778,,,0,"mysql: use clustercheck credentials to poll galera state

In the galera container, clustercheck is currently configured to
use root credentials to poll the state of the local galera node.

configure clustercheck to use the clustercheck credentials instead.

Change-Id: Icca33ec759a9ef5abca6da4cd2e59f0a5d9b7061
Related-Bug: #1792416
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/12/603612/3 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/database/mysql_bundle.pp'],1,9192d7f00d874037788cd4348b609beb906839a7,bug/1792416,"# [*clustercheck_user*] # (Optional) The name of the clustercheck user. # Defaults to 'clustercheck' # # [*clustercheck_password*] # (Optional) The password for the clustercheck user. # Defaults to hiera('mysql_clustercheck_password') # $clustercheck_user = 'clustercheck', $clustercheck_password = hiera('mysql_clustercheck_password'), content => ""MYSQL_USERNAME=${clustercheck_user}\n MYSQL_PASSWORD='${clustercheck_password}'\n"," content => ""MYSQL_USERNAME=root\n MYSQL_PASSWORD='${mysql_root_password}'\n",12,2
openstack%2Fopenstack-ansible-os_placement~master~Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb,openstack/openstack-ansible-os_placement,master,Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb,Add initial placement role,MERGED,2018-11-19 20:15:05.000000000,2019-02-08 14:47:59.000000000,2019-02-08 14:47:59.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 10135}, {'_account_id': 11564}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 27143}, {'_account_id': 28008}]","[{'number': 1, 'created': '2018-11-19 20:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/ebde09e284c56fb7fe6f478e2acdc7a899c49965', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 2, 'created': '2018-11-19 20:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/993cc5835c96835ff28564ac1485bf54b554823a', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 3, 'created': '2018-11-19 20:17:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/405575ec6b5d330b4a5e84d43ae872c3be8a7e93', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 4, 'created': '2018-11-20 00:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/940e69f1c94e2e5ff5430cc390278928d7da59f5', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 5, 'created': '2018-11-20 13:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/98493084e95a27fd791d5430cd08caa1f62c1dce', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 6, 'created': '2018-11-20 14:05:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/10fbfe68132c446305aa4fd540fce11a178ba72e', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 7, 'created': '2018-11-20 14:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/666911eb4189ab2c46762996813033d0e4fe5b2a', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 8, 'created': '2018-11-20 14:27:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/d51eaa946cd37371989916c00f72a6479c975898', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 9, 'created': '2018-11-20 19:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/6e39bad6fb62679cb9dd85a809fe9e1659e210df', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 10, 'created': '2018-11-21 12:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/ec8d095f8356bc43b15b55759229a5ac5ceea724', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 11, 'created': '2018-11-21 12:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/77ec6309b933d8d75fc2d5f357fa8142412dd9aa', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 12, 'created': '2018-11-21 12:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/309b49fcc65ae8fb83c8ff79f829f141160c3ee7', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 13, 'created': '2018-11-21 12:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/d265a289cdc0ea417458d9071988990b69247e41', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 14, 'created': '2018-11-21 13:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/05009ba473baaa937e9ea31d87c4a78a74381ebe', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 15, 'created': '2018-11-21 13:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/97f27da12d899c29aa28f25197e8eb625d7572af', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 16, 'created': '2018-11-22 13:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/7c8d5ea5a7ba3e45893d44fcfffe4d5895e8b1b2', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 17, 'created': '2018-11-22 14:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/1c9f9b6a08c83cb8cebfd816e95e1b1b8c0cfb0b', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 18, 'created': '2018-11-23 00:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/8cd0615d26cb78d08e55f078936744aa1941df46', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 19, 'created': '2018-11-23 11:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/cf0f590abf865535cedf9802a4fced7096641db2', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 20, 'created': '2018-11-23 12:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/37e2d45f5728c5324d37eef4a67d8e8c494479d9', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 21, 'created': '2018-11-23 14:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/0624af5ac26e0ea17b87471a62b62c533f7d9eda', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 22, 'created': '2018-11-24 13:41:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/fcb3d36b81b51b70e0143ace3d2f3462e3dbdb33', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 23, 'created': '2018-11-24 13:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/c96e00b1f531d268d6cf636af69d3ac2fdd313fb', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 24, 'created': '2018-11-24 18:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/7c7839874fa3e94d8883b122cce8c661eb0c2268', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 25, 'created': '2018-11-24 19:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/bbe910729ac5bfb91cc012d46693f65f18770904', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 26, 'created': '2018-11-26 19:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/5e455c1ebe76007bef02790b70e5798a6548d13b', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 27, 'created': '2018-11-26 20:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/601c652de0d0774814c53763ea2567471f06c558', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 28, 'created': '2018-11-27 01:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/31a0cc0bc478a6398efe6d940d49bc1f3922e038', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 29, 'created': '2018-11-27 13:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/6eb5e9384ee4ed1633c18a80446b542bbe05b8ac', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 30, 'created': '2018-11-27 19:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/280ea6eea498ac1f02cb16a90a16c46ece3f824d', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 31, 'created': '2018-11-27 23:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/620e08f25eea29530a7184c7b850c364d0163b4c', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 32, 'created': '2018-11-28 01:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/c31e9680ae89d960d606fc91efaa12aae707288e', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 33, 'created': '2018-11-28 13:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/7cacf7dc96a8f512f5254a918cca1b868643cb3a', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 34, 'created': '2018-11-28 14:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/fbb66cd8cd75f15e1c610c1c9fab362a2baf3e30', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 35, 'created': '2018-11-28 17:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/42b9a9c793384b4de300bfdb645c4cca4b4d9483', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 36, 'created': '2018-11-29 20:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/940c72e5ac6dce27d628267c1da7de7313087f40', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 37, 'created': '2018-11-30 12:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/582fe7c0a1fad89c5d7ff0f9a3e2d2b0ec701ae8', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 38, 'created': '2018-11-30 23:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/fd5c936a9314c6e95511a30bb1b7e4aa782a4f11', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 39, 'created': '2018-12-01 04:27:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/e8c00dc23c0b490a92a4adbdd2725f938d373e26', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 40, 'created': '2018-12-03 13:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/e556e7b198324a0baa2f83dedb0cf5aac249594a', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 41, 'created': '2018-12-03 17:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/5275e9a337b6d3bb3f3a8b82145a47c5d29679af', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 42, 'created': '2018-12-04 19:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/676e647d3cc21426b181f1a77d0151821d1a4b6a', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 43, 'created': '2018-12-05 01:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/1786e127f926c61d67d780ddbd6d813febbbc1ec', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 44, 'created': '2018-12-05 02:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/3e958446c8ea38d625f97fa6ae248360298fe981', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 45, 'created': '2018-12-05 04:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/64ef1431943ef6b438895258c16c9716d9b25203', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 46, 'created': '2018-12-05 12:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/ff4b0433473c39dc3394b57244650556c2156f92', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 47, 'created': '2018-12-05 14:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/e236abb23cc922ef8fb0526fb23fec1ee4ddeaf2', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nDepends-On: https://review.openstack.org/622551/\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 48, 'created': '2018-12-06 13:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/e500d16c97ca114c00c0e3ca1ae7fc29e5a176e3', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 49, 'created': '2018-12-17 17:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/17bbc0157c90d03069fe883ec829332a6a438599', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 50, 'created': '2018-12-18 04:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/28e0a288fcb8b0a4491ecc8762dc65f2e942607a', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 51, 'created': '2018-12-18 13:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/e1d369537c0c17b351a1fd1d77d0fdd371d29f5a', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 52, 'created': '2018-12-18 16:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/6a8388075c1533365298a4db164af978defc8583', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 53, 'created': '2019-01-10 18:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/410fe1e088408eca2a1b30de6f387c3c07be2510', 'message': '[WIP] Create base files to install placement\n\nThis patch aims to create the basic directories and files\nto deploy placement service. This is only the ground work\nfor the overall role. We still need to create tests and than\nadd jobs for the CI system.\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 54, 'created': '2019-02-06 19:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/090d4a21ee55dbbb4d1c335be9484957aff9a9b9', 'message': 'Add initial placement role\n\nThis patch adds the support for the placement service with\na simple functional test which hits the API (which in turn\nhits the database and keystone for authorization).\n\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}, {'number': 55, 'created': '2019-02-06 20:48:35.000000000', 'files': ['tasks/main.yml', 'vars/distro_install.yml', '.gitignore', 'tasks/placement_db_setup.yml', 'tasks/placement_install.yml', 'tasks/placement_install_source.yml', 'defaults/main.yml', 'tasks/placement_post_install.yml', 'tasks/placement_pre_install.yml', 'tests/ansible-role-requirements.yml', 'meta/openstack-ansible.yml', 'vars/redhat-7.yml', 'tests/group_vars/all_containers.yml', 'tests/test-install-placement.yml', 'tests/test-placement-functional.yml', 'tasks/placement_service_setup.yml', 'tests/host_vars/localhost.yml', 'tests/inventory', 'vars/source_install.yml', 'templates/placement.conf.j2', 'tests/host_vars/infra1.yml', 'handlers/main.yml', 'tests/test.yml', 'vars/main.yml', 'run_tests.sh', 'vars/ubuntu.yml', 'templates/placement-uwsgi.ini.j2', 'tests/host_vars/openstack1.yml', 'tests/os_placement-overrides.yml', 'zuul.d/project.yaml', 'tox.ini', 'meta/main.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/32c1eb8488e78f2fdb623770913d2a98a1a817ed', 'message': 'Add initial placement role\n\nThis patch adds the support for the placement service with\na simple functional test which hits the API (which in turn\nhits the database and keystone for authorization).\n\nDepends-On: I878e8c479d8963b339b5e1f6031f649c0f87082f\nChange-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb\n'}]",47,618820,32c1eb8488e78f2fdb623770913d2a98a1a817ed,139,10,55,28008,,,0,"Add initial placement role

This patch adds the support for the placement service with
a simple functional test which hits the API (which in turn
hits the database and keystone for authorization).

Depends-On: I878e8c479d8963b339b5e1f6031f649c0f87082f
Change-Id: Iaa11a8cc4d945712b62c3b9c2cb6ad168def34eb
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_placement refs/changes/20/618820/36 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/placement_post_install.yml', 'tasks/placement_pre_install.yml', 'tasks/placement_db_setup.yml', 'tasks/placement_install.yml', 'tasks/placement_service_setup.yml']",6,ebde09e284c56fb7fe6f478e2acdc7a899c49965,os-placement,"--- # Copyright 2018, Vexxhost, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # We set the python interpreter to the ansible runtime venv if # the delegation is to localhost so that we get access to the # appropriate python libraries in that venv. If the delegation # is to another host, we assume that it is accessible by the # system python instead. ",,204,0
openstack%2Fironic-python-agent~master~I26c557dcb2be29ae41576527c2649ee7ff43bc87,openstack/ironic-python-agent,master,I26c557dcb2be29ae41576527c2649ee7ff43bc87,Deprecate CoreOS ramdisk support,MERGED,2019-01-18 17:42:22.000000000,2019-02-08 14:33:01.000000000,2019-02-08 14:33:01.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 29209}]","[{'number': 1, 'created': '2019-01-18 17:42:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/29a5d7bada967da3acc2168bdd77be56624efbc5', 'message': ""Deprecate CoreOS ramdisk support\n\nDerecates ironic's CoreOS IPA image ramdisks and removes the\nbulk of CoreOS based CI testing in order to save resources.\n\nChange-Id: I26c557dcb2be29ae41576527c2649ee7ff43bc87\n""}, {'number': 2, 'created': '2019-02-06 03:53:29.000000000', 'files': ['releasenotes/notes/deprecate-coreos-8b01bcf796c0dc54.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/074eb288f7705f8fb7099031ca7a22605eb3726d', 'message': ""Deprecate CoreOS ramdisk support\n\nDeprecates ironic's CoreOS IPA image ramdisks and removes the\nbulk of CoreOS based CI testing in order to save resources.\n\nChange-Id: I26c557dcb2be29ae41576527c2649ee7ff43bc87\n""}]",18,631847,074eb288f7705f8fb7099031ca7a22605eb3726d,15,6,2,11655,,,0,"Deprecate CoreOS ramdisk support

Deprecates ironic's CoreOS IPA image ramdisks and removes the
bulk of CoreOS based CI testing in order to save resources.

Change-Id: I26c557dcb2be29ae41576527c2649ee7ff43bc87
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/47/631847/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-coreos-8b01bcf796c0dc54.yaml', 'zuul.d/project.yaml']",2,29a5d7bada967da3acc2168bdd77be56624efbc5,631847,, - ipa-tempest-dsvm-partition-bios-ipmi-direct-coreos-src: voting: false - ipa-tempest-dsvm-partition-bios-ipmi-iscsi-coreos-src: voting: false - ipa-tempest-dsvm-wholedisk-bios-ipmi-iscsi-coreos-src: voting: false,30,6
openstack%2Fgovernance~master~I12486244c8507a943ef039443bb36b5f3518dc28,openstack/governance,master,I12486244c8507a943ef039443bb36b5f3518dc28,Fix list name reference in /tc/index.html,MERGED,2019-02-08 12:07:25.000000000,2019-02-08 14:22:44.000000000,2019-02-08 14:22:43.000000000,"[{'_account_id': 2472}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 12:07:25.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/ff983903996f95ff3fc5a04396e925428e2e8f42', 'message': 'Fix list name reference in /tc/index.html\n\nopenstack-dev was still listed, must have been missed somewhere\nalong the way. This corrects it to openstack-discuss.\n\nChange-Id: I12486244c8507a943ef039443bb36b5f3518dc28\n'}]",0,635819,ff983903996f95ff3fc5a04396e925428e2e8f42,8,3,1,11564,,,0,"Fix list name reference in /tc/index.html

openstack-dev was still listed, must have been missed somewhere
along the way. This corrects it to openstack-discuss.

Change-Id: I12486244c8507a943ef039443bb36b5f3518dc28
",git fetch https://review.opendev.org/openstack/governance refs/changes/19/635819/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,ff983903996f95ff3fc5a04396e925428e2e8f42,typo-fix,"""[tc]"" thread to the openstack-discuss@lists.openstack.org mailing-list.","""[tc]"" thread to the openstack-dev@lists.openstack.org mailing-list.",1,1
openstack%2Freleases~master~Ib845cf996cf0391485b1f0a668bb88bf0fa5dfce,openstack/releases,master,Ib845cf996cf0391485b1f0a668bb88bf0fa5dfce,fix ownership of python-tempestconf,MERGED,2019-02-08 13:52:02.000000000,2019-02-08 14:21:14.000000000,2019-02-08 14:21:14.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 13:52:02.000000000', 'files': ['deliverables/_independent/python-tempestconf.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4783b64a5ea8bee5e90ad77573b694a5856ddc54', 'message': 'fix ownership of python-tempestconf\n\nThe repo is now owned by the Interop Working Group instead of the old\nRefStack team.\n\nChange-Id: Ib845cf996cf0391485b1f0a668bb88bf0fa5dfce\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,635842,4783b64a5ea8bee5e90ad77573b694a5856ddc54,6,2,1,2472,,,0,"fix ownership of python-tempestconf

The repo is now owned by the Interop Working Group instead of the old
RefStack team.

Change-Id: Ib845cf996cf0391485b1f0a668bb88bf0fa5dfce
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/42/635842/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/python-tempestconf.yaml'],1,4783b64a5ea8bee5e90ad77573b694a5856ddc54,635818,team: Interop Working Group,team: RefStack,1,1
openstack%2Freleases~master~I5c9e93ef1b87aee4c2c22bacd4b6b676d7dd7f66,openstack/releases,master,I5c9e93ef1b87aee4c2c22bacd4b6b676d7dd7f66,create feature/losf branch in swift,MERGED,2019-02-08 00:14:13.000000000,2019-02-08 14:08:50.000000000,2019-02-08 14:08:50.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 00:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/8df147e45f8ccc0b674bded47d49d5443882c242', 'message': 'create feature/losf branch in swift\n\nChange-Id: I5c9e93ef1b87aee4c2c22bacd4b6b676d7dd7f66\n'}, {'number': 2, 'created': '2019-02-08 13:45:18.000000000', 'files': ['deliverables/stein/swift.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/baeedafa0937d7faf82ce88f4c9a565c0c3a35d8', 'message': 'create feature/losf branch in swift\n\nChange-Id: I5c9e93ef1b87aee4c2c22bacd4b6b676d7dd7f66\n'}]",1,635697,baeedafa0937d7faf82ce88f4c9a565c0c3a35d8,9,2,2,330,,,0,"create feature/losf branch in swift

Change-Id: I5c9e93ef1b87aee4c2c22bacd4b6b676d7dd7f66
",git fetch https://review.opendev.org/openstack/releases refs/changes/97/635697/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/swift.yaml'],1,8df147e45f8ccc0b674bded47d49d5443882c242,swift_losf,branches: - name: feature/losf location: 6c6bb80e40313733b28dae920acc28889016a114,,3,0
openstack%2Fmanila~stable%2Fqueens~Ib620ec3c2a9999ea9908a7c23aa7172c40a4cbd9,openstack/manila,stable/queens,Ib620ec3c2a9999ea9908a7c23aa7172c40a4cbd9,Only run the needed services for CephFS jobs,MERGED,2018-12-21 11:06:05.000000000,2019-02-08 14:04:45.000000000,2019-02-08 14:04:45.000000000,"[{'_account_id': 7102}, {'_account_id': 9003}, {'_account_id': 14567}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 25243}]","[{'number': 1, 'created': '2018-12-21 11:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ca6768460f6c058c4c3501ee30385f75f31045b3', 'message': 'Only run the needed services for CephFS jobs\n\nThese jobs often fail due to timeouts so only enable the services\nrequired for devstack tests with these back ends.\n\nChange-Id: Ib620ec3c2a9999ea9908a7c23aa7172c40a4cbd9\n(cherry picked from commit f096d1145c7b14fae2c666b8d088574e570bffd4)\n(cherry picked from commit a950ce0da5cc0e0757a82d921ca38be557c0bbfc)\n'}, {'number': 2, 'created': '2019-01-29 17:27:15.000000000', 'files': ['playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-nfs-centos-7/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-native-centos-7/run.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/13f121ad2044a2f553c7eb30beb28741bca2ad7e', 'message': 'Only run the needed services for CephFS jobs\n\nThese jobs often fail due to timeouts so only enable the services\nrequired for devstack tests with these back ends.\n\nChange-Id: Ib620ec3c2a9999ea9908a7c23aa7172c40a4cbd9\n(cherry picked from commit f096d1145c7b14fae2c666b8d088574e570bffd4)\n(cherry picked from commit a950ce0da5cc0e0757a82d921ca38be557c0bbfc)\n'}]",0,626879,13f121ad2044a2f553c7eb30beb28741bca2ad7e,32,7,2,9003,,,0,"Only run the needed services for CephFS jobs

These jobs often fail due to timeouts so only enable the services
required for devstack tests with these back ends.

Change-Id: Ib620ec3c2a9999ea9908a7c23aa7172c40a4cbd9
(cherry picked from commit f096d1145c7b14fae2c666b8d088574e570bffd4)
(cherry picked from commit a950ce0da5cc0e0757a82d921ca38be557c0bbfc)
",git fetch https://review.opendev.org/openstack/manila refs/changes/79/626879/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-nfs-centos-7/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-native-centos-7/run.yaml']",2,ca6768460f6c058c4c3501ee30385f75f31045b3,," OVERRIDE_ENABLED_SERVICES=key,mysql,rabbit,tempest export OVERRIDE_ENABLED_SERVICES",,4,0
openstack%2Ftripleo-heat-templates~master~Icb66ce49a14c85a5aec680a73acb6ca761d26ec1,openstack/tripleo-heat-templates,master,Icb66ce49a14c85a5aec680a73acb6ca761d26ec1,Make sure we get my.cnf installed on upgrade re-provisionning.,ABANDONED,2019-01-24 13:55:50.000000000,2019-02-08 13:51:51.000000000,,"[{'_account_id': 8042}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-24 13:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dc74e3e2ea5714337df8cae892b1871829979483', 'message': 'Make sure we get my.cnf installed on upgrade re-provisionning.\n\nDuring upgrade we are reprovisioning the pacemaker cluster so we are\nin heat state UPDATE but the node is empty (no password to keep).  So\nwe need to make sure that my.cnf is correctly installed.\n\nWe add a check that looks for a specific hiera variable that is\npresent only during reprovisioning.\n\nChange-Id: Icb66ce49a14c85a5aec680a73acb6ca761d26ec1\nImplements: blueprint upgrades-with-os\n'}, {'number': 2, 'created': '2019-01-24 14:04:32.000000000', 'files': ['docker/docker-puppet.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0f08f92fab3bcf394deafd492d41f8235c69a3cf', 'message': 'Make sure we get my.cnf installed on upgrade re-provisionning.\n\nDuring upgrade we are reprovisioning the pacemaker cluster so we are\nin heat state UPDATE but the node is empty (no password to keep).  So\nwe need to make sure that my.cnf is correctly installed.\n\nWe add a check that looks for a specific hiera variable that is\npresent only during reprovisioning.\n\nChange-Id: Icb66ce49a14c85a5aec680a73acb6ca761d26ec1\nImplements: blueprint upgrades-with-os\n'}]",0,633003,0f08f92fab3bcf394deafd492d41f8235c69a3cf,9,4,2,8297,,,0,"Make sure we get my.cnf installed on upgrade re-provisionning.

During upgrade we are reprovisioning the pacemaker cluster so we are
in heat state UPDATE but the node is empty (no password to keep).  So
we need to make sure that my.cnf is correctly installed.

We add a check that looks for a specific hiera variable that is
present only during reprovisioning.

Change-Id: Icb66ce49a14c85a5aec680a73acb6ca761d26ec1
Implements: blueprint upgrades-with-os
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/03/633003/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/docker-puppet.py'],1,dc74e3e2ea5714337df8cae892b1871829979483,bp/upgrades-with-os," # In latest upgrade we reprovision the entire overcloud, so we # don't want to skip password creation. reprovisioning=""$(hiera -c /etc/puppet/hiera.yaml mysql_short_node_names_override)"" if [ ""x$action"" = ""xUPDATE"" -a -z ""${reprovisioning}"" ];then"," if [ ""x$action"" = ""xUPDATE"" ];then",4,1
openstack%2Ftripleo-heat-templates~master~Ib6efd03584c95ed4ab997f614aa3178b01877b8c,openstack/tripleo-heat-templates,master,Ib6efd03584c95ed4ab997f614aa3178b01877b8c,run docker_puppet_tasks on any role,MERGED,2018-12-13 18:10:29.000000000,2019-02-08 12:57:29.000000000,2019-02-08 12:57:29.000000000,"[{'_account_id': 4328}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 18851}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-12-13 18:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/228b5573558c640f478814e5d049d5f36025c2d0', 'message': ""WIP run docker_puppet_tasks on any role\n\nCurrently this assumes all tasks will run on the primary controller\nbut because of composable roles, that may not be the case.\n\nAn example is if you deploy keystone on any role other than the\nrole tagged primary e.g Controller by default, we don't create\nany of the users/endpoints because the tasks aren't written to\nthe role unless keystone actually runs there.\n\nRelated-Bug: #1792613\nChange-Id: Ib6efd03584c95ed4ab997f614aa3178b01877b8c\n""}, {'number': 2, 'created': '2018-12-20 14:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7ab0b0de67a8ce2877c2fa5ee99f83023c34e615', 'message': ""WIP run docker_puppet_tasks on any role\n\nCurrently this assumes all tasks will run on the primary controller\nbut because of composable roles, that may not be the case.\n\nAn example is if you deploy keystone on any role other than the\nrole tagged primary e.g Controller by default, we don't create\nany of the users/endpoints because the tasks aren't written to\nthe role unless keystone actually runs there.\n\nRelated-Bug: #1792613\nChange-Id: Ib6efd03584c95ed4ab997f614aa3178b01877b8c\n""}, {'number': 3, 'created': '2019-01-02 10:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d66d0a97b25846ba32102fb3236c0252a4cae799', 'message': ""WIP run docker_puppet_tasks on any role\n\nCurrently this assumes all tasks will run on the primary controller\nbut because of composable roles, that may not be the case.\n\nAn example is if you deploy keystone on any role other than the\nrole tagged primary e.g Controller by default, we don't create\nany of the users/endpoints because the tasks aren't written to\nthe role unless keystone actually runs there.\n\nRelated-Bug: #1792613\nChange-Id: Ib6efd03584c95ed4ab997f614aa3178b01877b8c\n""}, {'number': 4, 'created': '2019-01-03 15:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c8782793c128f865d8611f780c263b31251d7696', 'message': ""WIP run docker_puppet_tasks on any role\n\nCurrently this assumes all tasks will run on the primary controller\nbut because of composable roles, that may not be the case.\n\nAn example is if you deploy keystone on any role other than the\nrole tagged primary e.g Controller by default, we don't create\nany of the users/endpoints because the tasks aren't written to\nthe role unless keystone actually runs there.\n\nRelated-Bug: #1792613\nChange-Id: Ib6efd03584c95ed4ab997f614aa3178b01877b8c\n""}, {'number': 5, 'created': '2019-01-11 16:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/48a69eb578f834589b9df2514369c9e492b33442', 'message': ""WIP run docker_puppet_tasks on any role\n\nCurrently this assumes all tasks will run on the primary controller\nbut because of composable roles, that may not be the case.\n\nAn example is if you deploy keystone on any role other than the\nrole tagged primary e.g Controller by default, we don't create\nany of the users/endpoints because the tasks aren't written to\nthe role unless keystone actually runs there.\n\nRelated-Bug: #1792613\nChange-Id: Ib6efd03584c95ed4ab997f614aa3178b01877b8c\n""}, {'number': 6, 'created': '2019-01-16 20:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6c7825b9e0b7983f8cbb014c25538ab58e9be84a', 'message': ""WIP run docker_puppet_tasks on any role\n\nCurrently this assumes all tasks will run on the primary controller\nbut because of composable roles, that may not be the case.\n\nAn example is if you deploy keystone on any role other than the\nrole tagged primary e.g Controller by default, we don't create\nany of the users/endpoints because the tasks aren't written to\nthe role unless keystone actually runs there.\n\nRelated-Bug: #1792613\nChange-Id: Ib6efd03584c95ed4ab997f614aa3178b01877b8c\n""}, {'number': 7, 'created': '2019-01-23 12:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/edf2174b3ecb180bea7d770a95962c8efbb08be7', 'message': ""WIP run docker_puppet_tasks on any role\n\nCurrently this assumes all tasks will run on the primary controller\nbut because of composable roles, that may not be the case.\n\nAn example is if you deploy keystone on any role other than the\nrole tagged primary e.g Controller by default, we don't create\nany of the users/endpoints because the tasks aren't written to\nthe role unless keystone actually runs there.\n\nRelated-Bug: #1792613\nChange-Id: Ib6efd03584c95ed4ab997f614aa3178b01877b8c\n""}, {'number': 8, 'created': '2019-01-29 09:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0be8a56b92820271688e0c57462df035e4751e4e', 'message': ""run docker_puppet_tasks on any role\n\nCurrently this assumes all tasks will run on the primary controller\nbut because of composable roles, that may not be the case.\n\nAn example is if you deploy keystone on any role other than the\nrole tagged primary e.g Controller by default, we don't create\nany of the users/endpoints because the tasks aren't written to\nthe role unless keystone actually runs there.\n\nCloses-Bug: #1792613\nChange-Id: Ib6efd03584c95ed4ab997f614aa3178b01877b8c\n""}, {'number': 9, 'created': '2019-01-31 18:17:56.000000000', 'files': ['common/services.yaml', 'common/deploy-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a0a09d29aac1ad44fa48dae5d1db72e3905aeb69', 'message': ""run docker_puppet_tasks on any role\n\nCurrently this assumes all tasks will run on the primary controller\nbut because of composable roles, that may not be the case.\n\nAn example is if you deploy keystone on any role other than the\nrole tagged primary e.g Controller by default, we don't create\nany of the users/endpoints because the tasks aren't written to\nthe role unless keystone actually runs there.\n\nCloses-Bug: #1792613\nChange-Id: Ib6efd03584c95ed4ab997f614aa3178b01877b8c\n""}]",6,625078,a0a09d29aac1ad44fa48dae5d1db72e3905aeb69,54,9,9,4328,,,0,"run docker_puppet_tasks on any role

Currently this assumes all tasks will run on the primary controller
but because of composable roles, that may not be the case.

An example is if you deploy keystone on any role other than the
role tagged primary e.g Controller by default, we don't create
any of the users/endpoints because the tasks aren't written to
the role unless keystone actually runs there.

Closes-Bug: #1792613
Change-Id: Ib6efd03584c95ed4ab997f614aa3178b01877b8c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/78/625078/9 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks.yaml'],1,228b5573558c640f478814e5d049d5f36025c2d0,bug/1792613, # Bootstrap tasks," # Bootstrap tasks, only performed on bootstrap_server_id when: deploy_server_id == bootstrap_server_id when: deploy_server_id == bootstrap_server_id",1,3
openstack%2Fos-traits~master~I8ebfeac3cabbb64a7913f0b8193010a1b712382b,openstack/os-traits,master,I8ebfeac3cabbb64a7913f0b8193010a1b712382b,Add HW_CPU_AMD_SEV trait,MERGED,2019-02-07 19:28:14.000000000,2019-02-08 12:56:29.000000000,2019-02-08 12:56:29.000000000,"[{'_account_id': 7}, {'_account_id': 2697}, {'_account_id': 6593}, {'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 11604}, {'_account_id': 13478}, {'_account_id': 22348}, {'_account_id': 24938}]","[{'number': 1, 'created': '2019-02-07 19:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-traits/commit/7fda20693e08f299eaec02365cfb4d4b8e3f59b2', 'message': ""Add HW_CPU_AMD_SEV trait\n\nAdd a trait reflecting a compute host's capability to offer AMD's\non-chip Secure Encrypted Virtualization functionality:\n\nhttps://en.wikipedia.org/wiki/Zen_(microarchitecture)#Enhanced_security_and_virtualization_support\nhttps://developer.amd.com/sev/\n\nThis will facilitate booting of security-sensitive VMs only on hosts\nwhich offer additional security via SEV.  More details available here:\n\nhttps://specs.openstack.org/openstack/nova-specs/specs/stein/approved/amd-sev-libvirt-support.html\n\nChange-Id: I8ebfeac3cabbb64a7913f0b8193010a1b712382b\nblueprint: amd-sev-libvirt-support\n""}, {'number': 2, 'created': '2019-02-08 00:49:09.000000000', 'files': ['os_traits/hw/cpu/amd.py', 'doc/source/reference/index.rst'], 'web_link': 'https://opendev.org/openstack/os-traits/commit/7f43b7e9a91ef56d3442a67a9f6a169779bbffe6', 'message': ""Add HW_CPU_AMD_SEV trait\n\nAdd a trait reflecting a compute host's capability to offer AMD's\non-chip Secure Encrypted Virtualization functionality:\n\nhttps://en.wikipedia.org/wiki/Zen_(microarchitecture)#Enhanced_security_and_virtualization_support\nhttps://developer.amd.com/sev/\n\nThis will facilitate booting of security-sensitive VMs only on hosts\nwhich offer additional security via SEV.  More details available here:\n\nhttps://specs.openstack.org/openstack/nova-specs/specs/stein/approved/amd-sev-libvirt-support.html\n\nChange-Id: I8ebfeac3cabbb64a7913f0b8193010a1b712382b\nblueprint: amd-sev-libvirt-support\n""}]",0,635608,7f43b7e9a91ef56d3442a67a9f6a169779bbffe6,10,11,2,2394,,,0,"Add HW_CPU_AMD_SEV trait

Add a trait reflecting a compute host's capability to offer AMD's
on-chip Secure Encrypted Virtualization functionality:

https://en.wikipedia.org/wiki/Zen_(microarchitecture)#Enhanced_security_and_virtualization_support
https://developer.amd.com/sev/

This will facilitate booting of security-sensitive VMs only on hosts
which offer additional security via SEV.  More details available here:

https://specs.openstack.org/openstack/nova-specs/specs/stein/approved/amd-sev-libvirt-support.html

Change-Id: I8ebfeac3cabbb64a7913f0b8193010a1b712382b
blueprint: amd-sev-libvirt-support
",git fetch https://review.opendev.org/openstack/os-traits refs/changes/08/635608/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_traits/hw/cpu/amd.py', 'doc/source/reference/index.rst']",2,7fda20693e08f299eaec02365cfb4d4b8e3f59b2,bp/amd-sev-libvirt-support,".. contents:: :local: AMD SEV ------- While data is typically encrypted today when stored on disk, it is stored in DRAM in the clear. This can leave the data vulnerable to snooping by unauthorized administrators or software, or by hardware probing. New non-volatile memory technology (NVDIMM) exacerbates this problem since an NVDIMM chip can be physically removed from a system with the data intact, similar to a hard drive. Without encryption any stored information such as sensitive data, passwords, or secret keys can be easily compromised. AMD's SEV offers a VM protection technology which transparently encrypts the memory of each VM with a unique key. It can also calculate a signature of the memory contents, which can be sent to the VM's owner as an attestation that the memory was encrypted correctly by the firmware. SEV is particularly applicable to cloud computing since it can reduce the amount of trust VMs need to place in the hypervisor and administrator of their host system. The ``os_traits.hw.cpu.amd.SEV`` trait can be used to indicate that a compute host contains support for SEV not only on-CPU, but also in all other layers of the hypervisor stack required in order to take advantage of this feature: the kernel, QEMU, and libvirt. This trait can be specified as required by a flavor extra spec or image property ``trait:HW_CPU_AMD_SEV=required`` in order to indicate that VMs with that flavor or image must only be booted on SEV-capable hosts with the SEV functionality enabled.",,50,0
openstack%2Fhorizon~master~Ic8a569cf0781e816e6da6f4423c5cd3bcc9e2eb7,openstack/horizon,master,Ic8a569cf0781e816e6da6f4423c5cd3bcc9e2eb7,Fixing a link in templates of CG and CG snapshots,MERGED,2019-02-07 03:39:59.000000000,2019-02-08 12:50:28.000000000,2019-02-08 12:50:28.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 10068}, {'_account_id': 22348}, {'_account_id': 25613}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-02-07 03:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/bd831a59eca5a41f9b6983da13bdc77792926851', 'message': 'Fixing a failure of creating a snapshot in Consistency Group\n\nCommit f85e0ffa9135a60ff203651ce7bfd5c0ca36ceec moved Consistency Group out of Volumes panel.\nDuring this work, project/cgroups/templates/cgroups/_create_snapshot.html was not changed.\nIt caused that user cannot create a snapshot in Consistency Group via Horizon.\nThis patch fixes the location of the template and it prevents the traceback below.\n\n~~~\nTraceback (most recent call last):\n  File ""/usr/lib/python2.7/site-packages/django/core/handlers/exception.py"", line 41, in inner\n    response = get_response(request)\n  File ""/usr/lib/python2.7/site-packages/django/core/handlers/base.py"", line 249, in _legacy_get_response\n    response = self._get_response(request)\n  File ""/usr/lib/python2.7/site-packages/django/core/handlers/base.py"", line 217, in _get_response\n    response = self.process_exception_by_middleware(e, request)\n  File ""/usr/lib/python2.7/site-packages/django/core/handlers/base.py"", line 215, in _get_response\n    response = response.render()\n...<snip>...\n  File ""/usr/lib/python2.7/site-packages/django/template/loader_tags.py"", line 204, in render\n    template = context.template.engine.get_template(template_name)\n  File ""/usr/lib/python2.7/site-packages/django/template/engine.py"", line 162, in get_template\n    template, origin = self.find_template(template_name)\n  File ""/usr/lib/python2.7/site-packages/django/template/engine.py"", line 148, in find_template\n    raise TemplateDoesNotExist(name, tried=tried)\nTemplateDoesNotExist: project/volumes/cgroups/_snapshot_limits.html\n~~~\n\nChange-Id: Ic8a569cf0781e816e6da6f4423c5cd3bcc9e2eb7\n'}, {'number': 2, 'created': '2019-02-07 08:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6c58283a1b605407a81a7c84389961b059eadc7f', 'message': 'Aligning template link in files under project/cgroups/templates/cgroups/\n\nCommit f85e0ffa9135a60ff203651ce7bfd5c0ca36ceec moved Consistency Group out of Volumes panel.\nDuring this work, some template files were not modified with new location.\nA lack of the modification caused that user cannot create a snapshot in Consistency Group via Horizon.\nThis patch fixes the location of the template and it prevents the traceback below.\n\n~~~\nTraceback (most recent call last):\n  File ""/usr/lib/python2.7/site-packages/django/core/handlers/exception.py"", line 41, in inner\n    response = get_response(request)\n  File ""/usr/lib/python2.7/site-packages/django/core/handlers/base.py"", line 249, in _legacy_get_response\n    response = self._get_response(request)\n  File ""/usr/lib/python2.7/site-packages/django/core/handlers/base.py"", line 217, in _get_response\n    response = self.process_exception_by_middleware(e, request)\n  File ""/usr/lib/python2.7/site-packages/django/core/handlers/base.py"", line 215, in _get_response\n    response = response.render()\n...<snip>...\n  File ""/usr/lib/python2.7/site-packages/django/template/loader_tags.py"", line 204, in render\n    template = context.template.engine.get_template(template_name)\n  File ""/usr/lib/python2.7/site-packages/django/template/engine.py"", line 162, in get_template\n    template, origin = self.find_template(template_name)\n  File ""/usr/lib/python2.7/site-packages/django/template/engine.py"", line 148, in find_template\n    raise TemplateDoesNotExist(name, tried=tried)\nTemplateDoesNotExist: project/volumes/cgroups/_snapshot_limits.html\n~~~\n\nChange-Id: Ic8a569cf0781e816e6da6f4423c5cd3bcc9e2eb7\n'}, {'number': 3, 'created': '2019-02-08 06:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e3c4652eb268a282e7b153842e75f9b44ea9a4dd', 'message': 'Aligning template link in files under project/cgroups/templates/cgroups/\n\nCommit f85e0ffa9135a60ff203651ce7bfd5c0ca36ceec moved Consistency Group\nout of Volumes panel.\nDuring the work, some template files were not modified with new location.\nA lack of the modification caused that user cannot create a snapshot in\nConsistency Group via Horizon.\nThis patch fixes the location of the template and it prevents the traceback.\n\nChange-Id: Ic8a569cf0781e816e6da6f4423c5cd3bcc9e2eb7\nCloses-Bug: #1815165\n'}, {'number': 4, 'created': '2019-02-08 06:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/900bee784f369683ccaf3fe4cb31d6adbb397e3d', 'message': 'Fixing a link in templates of CG and CG snapshots\n\nCommit f85e0ffa9135a60ff203651ce7bfd5c0ca36ceec moved Consistency Group\nout of Volumes panel.\nDuring the work, some template files were not modified with new location.\nA lack of the modification caused that user cannot create a snapshot in\nConsistency Group via Horizon.\nThis patch fixes the location of the template and it prevents the traceback.\n\nChange-Id: Ic8a569cf0781e816e6da6f4423c5cd3bcc9e2eb7\nCloses-Bug: #1815165\n'}, {'number': 5, 'created': '2019-02-08 10:14:37.000000000', 'files': ['openstack_dashboard/dashboards/project/cgroups/templates/cgroups/remove_vols.html', 'openstack_dashboard/dashboards/project/cg_snapshots/templates/cg_snapshots/update.html', 'openstack_dashboard/dashboards/project/cgroups/templates/cgroups/_create_snapshot.html', 'openstack_dashboard/dashboards/project/cgroups/templates/cgroups/delete.html', 'openstack_dashboard/dashboards/project/cg_snapshots/templates/cg_snapshots/create.html', 'openstack_dashboard/dashboards/project/cgroups/templates/cgroups/clone_cgroup.html', 'openstack_dashboard/dashboards/project/cgroups/templates/cgroups/update.html', 'openstack_dashboard/dashboards/project/cgroups/templates/cgroups/create_snapshot.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/2ef503465c2da54b2d462b51dcf1196d327d839d', 'message': 'Fixing a link in templates of CG and CG snapshots\n\nCommit f85e0ffa9135a60ff203651ce7bfd5c0ca36ceec moved Consistency Group\nout of Volumes panel.\nDuring the work, some template files were not modified with new location.\nA lack of the modification caused that user cannot create a snapshot in\nConsistency Group via Horizon.\nThis patch fixes the location of the template and it prevents the\ntraceback.\n\nChange-Id: Ic8a569cf0781e816e6da6f4423c5cd3bcc9e2eb7\nCloses-Bug: #1815165\n'}]",2,635400,2ef503465c2da54b2d462b51dcf1196d327d839d,25,6,5,25613,,,0,"Fixing a link in templates of CG and CG snapshots

Commit f85e0ffa9135a60ff203651ce7bfd5c0ca36ceec moved Consistency Group
out of Volumes panel.
During the work, some template files were not modified with new location.
A lack of the modification caused that user cannot create a snapshot in
Consistency Group via Horizon.
This patch fixes the location of the template and it prevents the
traceback.

Change-Id: Ic8a569cf0781e816e6da6f4423c5cd3bcc9e2eb7
Closes-Bug: #1815165
",git fetch https://review.opendev.org/openstack/horizon refs/changes/00/635400/5 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/cgroups/templates/cgroups/_create_snapshot.html'],1,bd831a59eca5a41f9b6983da13bdc77792926851,bug/1815165," {% include ""project/cgroups/_snapshot_limits.html"" with usages=usages snapshot_quota=True %}"," {% include ""project/volumes/cgroups/_snapshot_limits.html"" with usages=usages snapshot_quota=True %}",1,1
openstack%2Fhorizon~master~I21aa8d49833bef9e7673958d15674faec82a0925,openstack/horizon,master,I21aa8d49833bef9e7673958d15674faec82a0925,Fix osprofiler support in horizon,MERGED,2019-01-31 14:02:35.000000000,2019-02-08 12:36:51.000000000,2019-02-08 10:55:51.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-01-31 14:02:35.000000000', 'files': ['horizon/templatetags/angular.py', 'openstack_dashboard/contrib/developer/profiler/api.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/e531b7babea5738b375d0dc59ef6f61a46fe543d', 'message': 'Fix osprofiler support in horizon\n\nThis patch is fixing usage of osprofiler in horizon.\nIt has been merged once, but after merge to master,\nmanage.py compress starts to fail with python2.7.\n\nThis fail was caused by ""TypeError: \'encoding\' is an\ninvalid keyword argument for this function"" which is\nnow fixed by using six library.\n\nChange-Id: I21aa8d49833bef9e7673958d15674faec82a0925\nCloses-Bug: #1814028\nRelated-Bug: #1811261\n'}]",3,634238,e531b7babea5738b375d0dc59ef6f61a46fe543d,11,5,1,27339,,,0,"Fix osprofiler support in horizon

This patch is fixing usage of osprofiler in horizon.
It has been merged once, but after merge to master,
manage.py compress starts to fail with python2.7.

This fail was caused by ""TypeError: 'encoding' is an
invalid keyword argument for this function"" which is
now fixed by using six library.

Change-Id: I21aa8d49833bef9e7673958d15674faec82a0925
Closes-Bug: #1814028
Related-Bug: #1811261
",git fetch https://review.opendev.org/openstack/horizon refs/changes/38/634238/1 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/templatetags/angular.py', 'openstack_dashboard/contrib/developer/profiler/api.py']",2,e531b7babea5738b375d0dc59ef6f61a46fe543d,bug/1814028,"import six fields = ['base_id', 'timestamp', 'info.request.path', 'info'] traces = engine.list_traces(fields) if six.PY3: trace_data = [key.decode() if isinstance(key, six.binary_type) else key for key in trace_data]"," query = {""info.user_id"": request.user.id} fields = ['base_id', 'timestamp', 'info.request.path'] traces = engine.list_traces(query, fields)",15,5
openstack%2Fmonasca-log-api~master~I2208b7e27d3dbec38290ffb8ba66bc64a5129744,openstack/monasca-log-api,master,I2208b7e27d3dbec38290ffb8ba66bc64a5129744,"Use monasca-log-api.conf for doc, devstack and docker",MERGED,2019-01-22 06:48:53.000000000,2019-02-08 12:28:38.000000000,2019-02-08 12:28:38.000000000,"[{'_account_id': 7102}, {'_account_id': 10311}, {'_account_id': 16222}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2019-01-22 06:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/9a834e2b81d383cc5584d06b5e8c6d7ea13d15e5', 'message': 'Replace log-api.conf with monasca-log-api.conf\n\napi-log.conf is the deprecated path for the configuration file. The\nnew path is /etc/monasca/monasca-log-api.conf .\n\nChange-Id: I2208b7e27d3dbec38290ffb8ba66bc64a5129744\nStory: 2004831\nTask: 29024\n'}, {'number': 2, 'created': '2019-01-25 15:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/5f7bf3cd55067029ea4d4ae80fb3521208f066e2', 'message': 'Use monasca-log-api.conf for doc, devstack and docker\n\napi-log.conf is the deprecated path for the configuration file. The\nnew path is /etc/monasca/monasca-log-api.conf .\nSo use this new path in devstack, documentation and docker.\n\nChange-Id: I2208b7e27d3dbec38290ffb8ba66bc64a5129744\nStory: 2004831\nTask: 29024\n'}, {'number': 3, 'created': '2019-01-29 13:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/cb372ca1d1d6c14e35c730e27d20b74b36e7fa0d', 'message': 'Use monasca-log-api.conf for doc, devstack and docker\n\napi-log.conf is the deprecated path for the configuration file. The\nnew path is /etc/monasca/monasca-log-api.conf .\nSo use this new path in devstack, documentation and docker.\n\nChange-Id: I2208b7e27d3dbec38290ffb8ba66bc64a5129744\nStory: 2004831\nTask: 29024\n'}, {'number': 4, 'created': '2019-02-05 05:31:36.000000000', 'files': ['config-generator/monasca-log-api.conf', 'docker/monasca-log-api.conf.j2', 'devstack/lib/config.sh', 'docker/Dockerfile', 'docker/start.sh', 'docker/README.rst', 'doc/source/configuration/sample.rst', 'devstack/plugin.sh', 'doc/source/conf.py', 'doc/source/configuration/configuring.rst', 'doc/source/configuration/files.rst'], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/5c2ebbed54ed0d247522f0b430f219ac33490873', 'message': 'Use monasca-log-api.conf for doc, devstack and docker\n\napi-log.conf is the deprecated path for the configuration file. The\nnew path is /etc/monasca/monasca-log-api.conf .\nSo use this new path in devstack, documentation and docker.\n\nChange-Id: I2208b7e27d3dbec38290ffb8ba66bc64a5129744\nStory: 2004831\nTask: 29024\n'}]",2,632245,5c2ebbed54ed0d247522f0b430f219ac33490873,19,6,4,7102,,,0,"Use monasca-log-api.conf for doc, devstack and docker

api-log.conf is the deprecated path for the configuration file. The
new path is /etc/monasca/monasca-log-api.conf .
So use this new path in devstack, documentation and docker.

Change-Id: I2208b7e27d3dbec38290ffb8ba66bc64a5129744
Story: 2004831
Task: 29024
",git fetch https://review.opendev.org/openstack/monasca-log-api refs/changes/45/632245/4 && git format-patch -1 --stdout FETCH_HEAD,"['config-generator/monasca-log-api.conf', 'docker/monasca-log-api.conf.j2', 'devstack/lib/config.sh', 'docker/start.sh', 'docker/README.rst', 'doc/source/configuration/sample.rst', 'devstack/plugin.sh', 'doc/source/conf.py', 'doc/source/configuration/configuring.rst', 'doc/source/configuration/files.rst']",10,9a834e2b81d383cc5584d06b5e8c6d7ea13d15e5,632245,"monasca-log-api.conf --------------------* ``~/.monasca/monasca-log-api.conf.d/``* ``~/monasca-log-api.conf.d/``* ``/etc/monasca/monasca-log-api.conf.d/``* ``/etc/monasca-log-api.conf.d/``should always be ``monasca-log-api.conf``. For files located``/etc/monasca-log-api.conf.d/keystonemiddleware.conf``referenced from ``monasca-log-api.conf`` using, for example,the path of the file can be defined in ``monasca-log-api.conf``::","log-api.conf ------------* ``~/.monasca/log-api.conf.d/``* ``~/log-api.conf.d/``* ``/etc/monasca/log-api.conf.d/``* ``/etc/log-api.conf.d/``should always be ``log-api.conf``. For files located``/etc/log-api.conf.d/keystonemiddleware.conf``referenced from ``log-api.conf`` using, for example,the path of the file can be defined in ``log-api.conf``::",28,28
openstack%2Fdevstack-plugin-container~master~I0e10e06156e02397b5cd64efe802869d0e96b231,openstack/devstack-plugin-container,master,I0e10e06156e02397b5cd64efe802869d0e96b231,Support cri-o in CentOS and Fedora,MERGED,2019-02-05 18:57:23.000000000,2019-02-08 12:28:29.000000000,2019-02-08 12:28:29.000000000,"[{'_account_id': 11536}, {'_account_id': 14352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-05 18:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/289897b44145dc020a753be518f24d923995d9a0', 'message': 'Support for cri-o in CentOS\n\nChange-Id: I0e10e06156e02397b5cd64efe802869d0e96b231\n'}, {'number': 2, 'created': '2019-02-05 18:59:11.000000000', 'files': ['devstack/lib/crio'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/f896c2311639dd8f7ea72064bdb78570d824b164', 'message': 'Support cri-o in CentOS and Fedora\n\nThis commit adds support for installing cri-o as container engine in\nCentOS and Fedora. Tested on CentOS 7.6 and Fedora 28.\n\nChange-Id: I0e10e06156e02397b5cd64efe802869d0e96b231\n'}]",0,635008,f896c2311639dd8f7ea72064bdb78570d824b164,8,3,2,11600,,,0,"Support cri-o in CentOS and Fedora

This commit adds support for installing cri-o as container engine in
CentOS and Fedora. Tested on CentOS 7.6 and Fedora 28.

Change-Id: I0e10e06156e02397b5cd64efe802869d0e96b231
",git fetch https://review.opendev.org/openstack/devstack-plugin-container refs/changes/08/635008/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/crio'],1,289897b44145dc020a753be518f24d923995d9a0,crio," if [[ ""$lsb_dist"" = ""centos"" ]]; then sudo yum-config-manager \ --add-repo \ https://cbs.centos.org/repos/virt7-container-common-candidate/x86_64/os/ sudo yum-config-manager \ --add-repo \ https://cbs.centos.org/repos/paas7-crio-311-candidate/x86_64/os/ fi yum_install cri-o podman buildah # We're wrapping values in \""<val>\"" because that's the format cri-o wants. elif is_fedora; then local lsb_dist=${os_VENDOR,,} if [[ ""$lsb_dist"" = ""centos"" ]]; then # CentOS packages are putting runc binary in different place... iniset -sudo ${crio_conf} crio.runtime runtime \""/usr/sbin/runc\"" # CentOS version seems to only work with cgroupfs... iniset -sudo ${crio_conf} crio.runtime cgroup_manager \""cgroupfs\"" fi"," false # TODO(dulek): CentOS/Fedora support # We're wrapping values in ""\<val>\"" because that's the format cri-o wants.",20,3
openstack%2Fnova-specs~master~I93840aa852b837c03ede9e21e720c1e1c1c773f2,openstack/nova-specs,master,I93840aa852b837c03ede9e21e720c1e1c1c773f2,AMD SEV: address final feedback received prior to merge,MERGED,2019-01-03 18:21:07.000000000,2019-02-08 12:25:28.000000000,2019-02-08 12:25:28.000000000,"[{'_account_id': 7}, {'_account_id': 6873}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 24938}]","[{'number': 1, 'created': '2019-01-03 18:21:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/ac8e3b1af4661ef3d0882d50435eb2c8ec95e68b', 'message': 'AMD SEV: address final feedback received prior to merge\n\nThe AMD SEV spec was just merged, but there were a few minor nits\noutstanding, so address them here.\n\nChange-Id: I93840aa852b837c03ede9e21e720c1e1c1c773f2\n'}, {'number': 2, 'created': '2019-01-03 18:22:59.000000000', 'files': ['specs/stein/approved/amd-sev-libvirt-support.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/cd8950459e48de23b86e330542434745ac906afc', 'message': 'AMD SEV: address final feedback received prior to merge\n\nThe AMD SEV spec was just merged, but there were a few minor nits\noutstanding, so address them here.\n\nblueprint: amd-sev-libvirt-support\nChange-Id: I93840aa852b837c03ede9e21e720c1e1c1c773f2\n'}]",2,628252,cd8950459e48de23b86e330542434745ac906afc,10,5,2,2394,,,0,"AMD SEV: address final feedback received prior to merge

The AMD SEV spec was just merged, but there were a few minor nits
outstanding, so address them here.

blueprint: amd-sev-libvirt-support
Change-Id: I93840aa852b837c03ede9e21e720c1e1c1c773f2
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/52/628252/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/approved/amd-sev-libvirt-support.rst'],1,ac8e3b1af4661ef3d0882d50435eb2c8ec95e68b,bp/amd-sev-libvirt-support," tables should be rounded up to 16MB. #. Set the (largely `undocumented <https://bugs.launchpad.net/glance/+bug/1808868>`_) ``hw_cdrom_bus`` image property to ``virtio``, which is recommended as a replacement for ``ide``, and ``hw_scsi_model`` to ``virtio-scsi``. operation at which point there is no encrypted memory (although this could change since there is work underway to add support for `PMEM <https://pmem.io/>`_)- `VM guest virtual NUMA (a.k.a. vNUMA) <https://www.suse.com/documentation/sles-12/singlehtml/article_vt_best_practices/article_vt_best_practices.html#sec.vt.best.perf.numa.vmguest>`_ ``virtio``, with ``hw_cdrom_bus`` overriding this value where needed. This is likely to be more future-proof as the use of very old machine types is gradually phased out, although the ``hw_cdrom_bus=virtio`` overriding when newer machine types are required for SEV (or any other reason). Although this is `limitations`_ here too, including the impact on config drive configuration, compute host maintenance, the need to correctly calculate `reserved_host_memory_mb`_ based on the expected maximum number of SEV guests simultaneously running on the host, and the details provided above (such as memory region sizes) which cover how to calculate it correctly."," tables could be rounded up to 16MB. #. Set the (largely undocumented) ``hw_cdrom_bus`` image property to ``virtio-scsi``, which is recommended as a replacement for ``ide``. operation at which point there is no encrypted memory- vNUMA ``virtio-scsi``, with ``hw_cdrom_bus`` overriding this value where needed. This is likely to be more future-proof as the use of very old machine types is gradually phased out, although the ``hw_cdrom_bus=virtio-scsi`` overriding when newer machine types are required for SEV (or any other reason). Although this is `limitations`_ here too, including the impact on compute host maintenance, and the need to correctly calculate `reserved_host_memory_mb`_ based on the expected maximum number of SEV guests simultaneously running on the host.",22,15
openstack%2Fopenstack-ansible~master~I6a05d3b73838fa646a635831d655f7470df3378f,openstack/openstack-ansible,master,I6a05d3b73838fa646a635831d655f7470df3378f,Define OSA clone dir in the openstack-ansible.sh script,MERGED,2019-01-29 15:17:22.000000000,2019-02-08 12:18:39.000000000,2019-02-07 22:29:08.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-29 15:17:22.000000000', 'files': ['scripts/openstack-ansible.sh', 'scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ecdd3822b6007eb804d9e3681959cc382859103f', 'message': 'Define OSA clone dir in the openstack-ansible.sh script\n\nWhen the openstack-ansible.sh was extracted from bootstrap.sh,\nthe resolving from the OSA_CLONE_DIR was broken.\n\nDue to this, the OSA_CLONE_DIR value is empty, and the comparison\nin the openstack-ansible is always true, which is not what we\nwant for external use.\n\nChange-Id: I6a05d3b73838fa646a635831d655f7470df3378f\n'}]",0,633759,ecdd3822b6007eb804d9e3681959cc382859103f,18,4,1,17068,,,0,"Define OSA clone dir in the openstack-ansible.sh script

When the openstack-ansible.sh was extracted from bootstrap.sh,
the resolving from the OSA_CLONE_DIR was broken.

Due to this, the OSA_CLONE_DIR value is empty, and the comparison
in the openstack-ansible is always true, which is not what we
want for external use.

Change-Id: I6a05d3b73838fa646a635831d655f7470df3378f
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/59/633759/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/openstack-ansible.sh', 'scripts/bootstrap-ansible.sh']",2,ecdd3822b6007eb804d9e3681959cc382859103f,fix_osa_wrapper,"sed -i ""s|OSA_CLONE_DIR|${OSA_CLONE_DIR}|g"" /usr/local/bin/openstack-ansible",,2,1
openstack%2Fopenstack-ansible-os_nova~master~I3e2cb826a8deca4a8cd0f0d584d252494e32e509,openstack/openstack-ansible-os_nova,master,I3e2cb826a8deca4a8cd0f0d584d252494e32e509,Add an ip address to eth12 in OSA test containers,ABANDONED,2019-02-07 21:38:08.000000000,2019-02-08 12:04:01.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28665}]","[{'number': 1, 'created': '2019-02-07 21:38:08.000000000', 'files': ['tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/openstack1.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/896f4957e88374387ed02cb26ef4481fd60bbb6d', 'message': 'Add an ip address to eth12 in OSA test containers\n\nThe tempest tests need to ssh to booted virtual machines. The neutron\npublic network is 10.1.3.0/24, which is the flat network on br-vlan.\nFrom the container perspective this was previously reached via the\ndefault gateway on eth0 as there was no specific route to the\n10.1.3.0/24 network.\n\nOn centos traffic is no longer being forwarded to the br-vlan flat network\nvia the container eth0 and host networking, but this still works for\nother distributions.\n\nThis patch adds an IP address to the present, but previously un-addressed\ninterface eth12 in each container. This gives a direct route to the neutron\npublic network from the container and does not require the host network\nto forward the traffic. The test setup is now more decoupled from the\nhost networking which should increase reliability.\n\nChange-Id: I3e2cb826a8deca4a8cd0f0d584d252494e32e509\n'}]",0,635654,896f4957e88374387ed02cb26ef4481fd60bbb6d,7,3,1,28665,,,0,"Add an ip address to eth12 in OSA test containers

The tempest tests need to ssh to booted virtual machines. The neutron
public network is 10.1.3.0/24, which is the flat network on br-vlan.
From the container perspective this was previously reached via the
default gateway on eth0 as there was no specific route to the
10.1.3.0/24 network.

On centos traffic is no longer being forwarded to the br-vlan flat network
via the container eth0 and host networking, but this still works for
other distributions.

This patch adds an IP address to the present, but previously un-addressed
interface eth12 in each container. This gives a direct route to the neutron
public network from the container and does not require the host network
to forward the traffic. The test setup is now more decoupled from the
host networking which should increase reliability.

Change-Id: I3e2cb826a8deca4a8cd0f0d584d252494e32e509
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/54/635654/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/host_vars/infra1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/openstack1.yml']",3,896f4957e88374387ed02cb26ef4481fd60bbb6d,vlan_ip,vlan_address: 10.1.3.102,,4,1
openstack%2Ftripleo-common~master~I90c70fda0625d62d0c4a84f719a5955284798528,openstack/tripleo-common,master,I90c70fda0625d62d0c4a84f719a5955284798528,Remove docker/podman from mistral-executor,MERGED,2019-01-23 20:49:53.000000000,2019-02-08 11:42:26.000000000,2019-02-08 11:42:26.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-23 20:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5e3083b5670369886f5adab239123d63a7b338e7', 'message': 'Remove docker/podman from mistral-executor\n\nThese are not required to be inside the image once external deploy\ntasks are run via localhost ssh.\n\nlibseccomp is also removed as it was only required for podman.\n\nChange-Id: I90c70fda0625d62d0c4a84f719a5955284798528\nDepends-On: Ic841701d2751b87d1b5bae685a9112f0af31ccd9\n'}, {'number': 2, 'created': '2019-02-01 02:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b4f96875c25728b4c0e038f6b011223509a2a936', 'message': 'Remove docker/podman from mistral-executor\n\nThese are not required to be inside the image once external deploy\ntasks are run via localhost ssh.\n\nlibseccomp is also removed as it was only required for podman.\n\nChange-Id: I90c70fda0625d62d0c4a84f719a5955284798528\nDepends-On: Ic841701d2751b87d1b5bae685a9112f0af31ccd9\n'}, {'number': 3, 'created': '2019-02-05 03:29:56.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/60529b7a8c28c5d383521aed0a3aaf55be8807f6', 'message': 'Remove docker/podman from mistral-executor\n\nThese are not required to be inside the image once external deploy\ntasks are run via localhost ssh.\n\nlibseccomp is also removed as it was only required for podman.\n\nChange-Id: I90c70fda0625d62d0c4a84f719a5955284798528\n'}]",0,632806,60529b7a8c28c5d383521aed0a3aaf55be8807f6,21,6,3,4571,,,0,"Remove docker/podman from mistral-executor

These are not required to be inside the image once external deploy
tasks are run via localhost ssh.

libseccomp is also removed as it was only required for podman.

Change-Id: I90c70fda0625d62d0c4a84f719a5955284798528
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/06/632806/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,5e3083b5670369886f5adab239123d63a7b338e7,bug/1806065,"{% set mistral_executor_packages_append = ['openstack-tripleo-validations', 'openstack-nova-common', 'openstack-tripleo-heat-templates', 'python2-notario', 'ipmitool'] %}","# docker/podman: for the undercloud baremetal workflows. Undercloud mistral # executor needs to run container image operations during overcloud # deploy.{% set mistral_executor_packages_append = ['openstack-tripleo-validations', 'openstack-nova-common', 'docker', 'podman', 'libseccomp', 'openstack-tripleo-heat-templates', 'python2-notario', 'ipmitool'] %}",1,4
openstack%2Ftripleo-common~master~Iae415339308a93ad49eeb7e4d7e0be2662abf0ee,openstack/tripleo-common,master,Iae415339308a93ad49eeb7e4d7e0be2662abf0ee,Use ssh in generated inventory for undercloud,MERGED,2019-02-03 21:48:20.000000000,2019-02-08 11:39:54.000000000,2019-02-08 11:39:54.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-03 21:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/87334cad049736a9c5242281fb3449a21b523ca6', 'message': 'Use ssh in generated inventory for undercloud\n\nThis switches over to ssh for external deploy tasks, so they are run\nin the context of the undercloud host instead of inside the\nmistral-executor container.\n\nChange-Id: Iae415339308a93ad49eeb7e4d7e0be2662abf0ee\nCloses-Bug: #1813832\n'}, {'number': 2, 'created': '2019-02-04 03:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/58b970b85bd4cb19ea05511ee4dce8f9f31cfbb2', 'message': 'Use ssh in generated inventory for undercloud\n\nThis switches over to ssh for external deploy tasks, so they are run\nin the context of the undercloud host instead of inside the\nmistral-executor container.\n\nChange-Id: Iae415339308a93ad49eeb7e4d7e0be2662abf0ee\nCloses-Bug: #1813832\n'}, {'number': 3, 'created': '2019-02-04 20:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/893acfdb4e33f76e7b7dcecba7e24a0dbe21fa19', 'message': 'Use ssh in generated inventory for undercloud\n\nThis switches over to ssh for external deploy tasks, so they are run\nin the context of the undercloud host instead of inside the\nmistral-executor container.\n\nChange-Id: Iae415339308a93ad49eeb7e4d7e0be2662abf0ee\nCloses-Bug: #1813832\n'}, {'number': 4, 'created': '2019-02-04 21:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/dc401301ea9593f17126aa16e3764dfb64543f0b', 'message': 'Use ssh in generated inventory for undercloud\n\nThis switches over to ssh for external deploy tasks, so they are run\nin the context of the undercloud host instead of inside the\nmistral-executor container.\n\nChange-Id: Iae415339308a93ad49eeb7e4d7e0be2662abf0ee\nCloses-Bug: #1813832\n'}, {'number': 5, 'created': '2019-02-05 01:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/641596daa5db0496a4b4168b2ad91811e4ca2c49', 'message': 'Use ssh in generated inventory for undercloud\n\nThis switches over to ssh for external deploy tasks, so they are run\nin the context of the undercloud host instead of inside the\nmistral-executor container.\n\nChange-Id: Iae415339308a93ad49eeb7e4d7e0be2662abf0ee\nCloses-Bug: #1813832\n'}, {'number': 6, 'created': '2019-02-05 03:29:56.000000000', 'files': ['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d879b2aa99b7c2d3ddb79c2149e2c5bc2c1a1ae2', 'message': 'Use ssh in generated inventory for undercloud\n\nThis switches over to ssh for external deploy tasks, so they are run\nin the context of the undercloud host instead of inside the\nmistral-executor container.\n\nChange-Id: Iae415339308a93ad49eeb7e4d7e0be2662abf0ee\nCloses-Bug: #1813832\n'}]",0,634617,d879b2aa99b7c2d3ddb79c2149e2c5bc2c1a1ae2,20,5,6,4571,,,0,"Use ssh in generated inventory for undercloud

This switches over to ssh for external deploy tasks, so they are run
in the context of the undercloud host instead of inside the
mistral-executor container.

Change-Id: Iae415339308a93ad49eeb7e4d7e0be2662abf0ee
Closes-Bug: #1813832
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/17/634617/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/inventory.py'],1,87334cad049736a9c5242281fb3449a21b523ca6,bug/1806065," 'ansible_ssh_user': self.ansible_ssh_user,"," 'ansible_connection': 'local',",1,1
openstack%2Ftripleo-common~master~Id2ee912c456d66ed189fd5fdbaa5c1c3627bdf20,openstack/tripleo-common,master,Id2ee912c456d66ed189fd5fdbaa5c1c3627bdf20,Authorize undercloud tripleo-admin user,MERGED,2019-02-03 21:48:20.000000000,2019-02-08 11:32:59.000000000,2019-02-08 11:32:59.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-02-03 21:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/278803fa432d7a1e7b9a41bc775760c8e9b22443', 'message': ""Authorize undercloud tripleo-admin user\n\nThis adds the public key into the .ssh/authorized_keys file\nin /home/tripleo-admin. Failure is ignored because this may be running\non an undercloud which doesn't yet have a configured tripleo-admin\nuser.\n\nThis change also refactors the removal of the generate_playbook task\nsince the playbook now just invokes a role, there is no maintainence\nbenefit to justify the extra complexity.\n\nPartial-Bug: #1813832\nChange-Id: Id2ee912c456d66ed189fd5fdbaa5c1c3627bdf20\nDepends-On: I4c8ee04534636622581eb386c01790d6610e7f58\n""}, {'number': 2, 'created': '2019-02-04 20:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3e0fa65de9719c405fa94398d1c74f4d2123a724', 'message': ""Authorize undercloud tripleo-admin user\n\nThis adds the public key into the .ssh/authorized_keys file\nin /home/tripleo-admin. Failure is ignored because this may be running\non an undercloud which doesn't yet have a configured tripleo-admin\nuser.\n\nThis change also refactors the removal of the generate_playbook task\nsince the playbook now just invokes a role, there is no maintainence\nbenefit to justify the extra complexity.\n\nPartial-Bug: #1813832\nChange-Id: Id2ee912c456d66ed189fd5fdbaa5c1c3627bdf20\nDepends-On: I4c8ee04534636622581eb386c01790d6610e7f58\n""}, {'number': 3, 'created': '2019-02-04 21:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/911812d93108f636e91d918e65d2c101cff2e788', 'message': ""Authorize undercloud tripleo-admin user\n\nThis adds the public key into the .ssh/authorized_keys file\nin /home/tripleo-admin. Failure is ignored because this may be running\non an undercloud which doesn't yet have a configured tripleo-admin\nuser.\n\nThis change also refactors the removal of the generate_playbook task\nsince the playbook now just invokes a role, there is no maintainence\nbenefit to justify the extra complexity.\n\nPartial-Bug: #1813832\nChange-Id: Id2ee912c456d66ed189fd5fdbaa5c1c3627bdf20\nDepends-On: I4c8ee04534636622581eb386c01790d6610e7f58\n""}, {'number': 4, 'created': '2019-02-05 01:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/01f01720c9d47b648abc05e3345b85faec7dbb5d', 'message': ""Authorize undercloud tripleo-admin user\n\nThis adds the public key into the .ssh/authorized_keys file\nin /home/tripleo-admin. Failure is ignored because this may be running\non an undercloud which doesn't yet have a configured tripleo-admin\nuser.\n\nThis change also refactors the removal of the generate_playbook task\nsince the playbook now just invokes a role, there is no maintainence\nbenefit to justify the extra complexity.\n\nPartial-Bug: #1813832\nChange-Id: Id2ee912c456d66ed189fd5fdbaa5c1c3627bdf20\nDepends-On: I4c8ee04534636622581eb386c01790d6610e7f58\n""}, {'number': 5, 'created': '2019-02-05 03:29:56.000000000', 'files': ['workbooks/access.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c1341fc4d19a3bfa40648cf893d51f9e5dfa78ba', 'message': ""Authorize undercloud tripleo-admin user\n\nThis adds the public key into the .ssh/authorized_keys file\nin /home/tripleo-admin. Failure is ignored because this may be running\non an undercloud which doesn't yet have a configured tripleo-admin\nuser.\n\nThis change also refactors the removal of the generate_playbook task\nsince the playbook now just invokes a role, there is no maintainence\nbenefit to justify the extra complexity.\n\nPartial-Bug: #1813832\nChange-Id: Id2ee912c456d66ed189fd5fdbaa5c1c3627bdf20\nDepends-On: I4c8ee04534636622581eb386c01790d6610e7f58\n""}]",0,634616,c1341fc4d19a3bfa40648cf893d51f9e5dfa78ba,22,6,5,4571,,,0,"Authorize undercloud tripleo-admin user

This adds the public key into the .ssh/authorized_keys file
in /home/tripleo-admin. Failure is ignored because this may be running
on an undercloud which doesn't yet have a configured tripleo-admin
user.

This change also refactors the removal of the generate_playbook task
since the playbook now just invokes a role, there is no maintainence
benefit to justify the extra complexity.

Partial-Bug: #1813832
Change-Id: Id2ee912c456d66ed189fd5fdbaa5c1c3627bdf20
Depends-On: I4c8ee04534636622581eb386c01790d6610e7f58
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/16/634616/4 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/access.yaml'],1,278803fa432d7a1e7b9a41bc775760c8e9b22443,bug/1806065," on-success: authorize_undercloud_admin authorize_undercloud_admin: action: tripleo.ansible-playbook # older underclouds may not have a tripleo-admin user, # so continue on success or failure on-complete: get_blacklisted_ip_addresses input: inventory: undercloud: hosts: localhost connection: local extra_env_variables: <% $.ansible_extra_env_variables %> become: true become_user: root playbook: - hosts: undercloud tasks: - name: undercloud authorize user <% $.overcloud_admin %> import_role: name: tripleo-create-admin tasks_from: authorize_user.yml vars: tripleo_admin_user: <% $.overcloud_admin %> tripleo_admin_pubkey: <% $.pubkey %> execution_id: <% execution().id %> publish-on-error: status: FAILED message: <% task().result %> tasks: - name: create and authorize user <% $.overcloud_admin %> import_role: name: tripleo-create-admin vars: tripleo_admin_user: <% $.overcloud_admin %> tripleo_admin_pubkey: <% $.pubkey %> tasks: - name: create and authorize user <% $.overcloud_admin %> import_role: name: tripleo-create-admin vars: tripleo_admin_user: <% $.overcloud_admin %> tripleo_admin_pubkey: <% $.pubkey %>", on-success: get_blacklisted_ip_addresses on-success: generate_playbook publish-on-error: status: FAILED message: <% task().result %> generate_playbook: publish: create_admin_tasks: - name: create and authorize user <% $.overcloud_admin %> import_role: name: tripleo-create-admin vars: tripleo_admin_user: <% $.overcloud_admin %> tripleo_admin_pubkey: <% $.pubkey %> tasks: <% $.create_admin_tasks %> tasks: <% $.create_admin_tasks %>,43,17
openstack%2Fmonasca-persister~master~I2b96a8754bcc835a9288d67a23d2ddd58fbf33be,openstack/monasca-persister,master,I2b96a8754bcc835a9288d67a23d2ddd58fbf33be,"Fix the misspelling of ""available""",MERGED,2019-01-22 05:32:26.000000000,2019-02-08 11:09:23.000000000,2019-02-08 11:09:23.000000000,"[{'_account_id': 7102}, {'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-22 05:32:26.000000000', 'files': ['perf/README.md'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/874e695e6bda2dfc81d2d001fc6eaa4579869040', 'message': 'Fix the misspelling of ""available""\n\nChange-Id: I2b96a8754bcc835a9288d67a23d2ddd58fbf33be\n'}]",0,632220,874e695e6bda2dfc81d2d001fc6eaa4579869040,7,3,1,29721,,,0,"Fix the misspelling of ""available""

Change-Id: I2b96a8754bcc835a9288d67a23d2ddd58fbf33be
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/20/632220/1 && git format-patch -1 --stdout FETCH_HEAD,['perf/README.md'],1,874e695e6bda2dfc81d2d001fc6eaa4579869040,,"similar internal processing metric rest api available, the support","similar internal processing metric rest api availalbe, the support",1,1
openstack%2Fhorizon~master~I869c31d617e4a3e5be5d69714e59770c38458d33,openstack/horizon,master,I869c31d617e4a3e5be5d69714e59770c38458d33,Align default integration config values with code,MERGED,2019-02-04 15:11:36.000000000,2019-02-08 10:55:53.000000000,2019-02-08 10:55:53.000000000,"[{'_account_id': 841}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-02-04 15:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/57189123ddef7f32873eb19fd98dc62bed8c1af7', 'message': ""Change default dashboard_url for integration tests\n\nLet's use 'http://localhost/dashboard/' as a default value so it will\nwork with Devstack in the default configuration.\n\nChange-Id: I869c31d617e4a3e5be5d69714e59770c38458d33\n""}, {'number': 2, 'created': '2019-02-04 16:42:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5830693c5925d1af768986f39c221e6f49e3519d', 'message': ""Align default integration config values with code\n\nLet's make default config as an example and keep it in consistency with\na code.\n\nChange-Id: I869c31d617e4a3e5be5d69714e59770c38458d33\n""}, {'number': 3, 'created': '2019-02-04 18:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5d0c0d57e2e0315bf5096b4cf2e3f55ffc8d5305', 'message': ""Align default integration config values with code\n\nLet's make default config as an example and keep it in consistency with\na code.\n\nChange-Id: I869c31d617e4a3e5be5d69714e59770c38458d33\n""}, {'number': 4, 'created': '2019-02-04 18:47:50.000000000', 'files': ['openstack_dashboard/test/integration_tests/config.py', 'openstack_dashboard/test/integration_tests/horizon.conf'], 'web_link': 'https://opendev.org/openstack/horizon/commit/35e9338672f614fec0ee4c14c6cfa831e039a774', 'message': ""Align default integration config values with code\n\nLet's make default config as an example and keep it in consistency with\na code.\n\nChange-Id: I869c31d617e4a3e5be5d69714e59770c38458d33\n""}]",0,634712,35e9338672f614fec0ee4c14c6cfa831e039a774,14,4,4,1736,,,0,"Align default integration config values with code

Let's make default config as an example and keep it in consistency with
a code.

Change-Id: I869c31d617e4a3e5be5d69714e59770c38458d33
",git fetch https://review.opendev.org/openstack/horizon refs/changes/12/634712/4 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/test/integration_tests/config.py'],1,57189123ddef7f32873eb19fd98dc62bed8c1af7,horizon-integration-tests," default='http://localhost/dashboard/',"," default='http://localhost/',",1,1
openstack%2Fnetworking-ovn~master~I19ba651ad5b120ecb9859d9f7786b447f3218078,openstack/networking-ovn,master,I19ba651ad5b120ecb9859d9f7786b447f3218078,ovn-metadata-agent: bind haproxy to 169.254.169.254,MERGED,2019-02-05 14:38:23.000000000,2019-02-08 10:45:41.000000000,2019-02-08 10:45:41.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 10237}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-02-05 14:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5520ef9242b527e9bf81f84f3e6b6b66ac5c2267', 'message': ""ovn-metadata-agent: bind haproxy to 169.254.169.254\n\nCurrently ovn-metadata-agent spawns haproxy to bind in 0.0.0.0 inside\nthe ovnmeta namespace. This is not needed as we know that we'll always\nreceive those in 169.254.169.254 and it can have security issues.\n\nChange-Id: I19ba651ad5b120ecb9859d9f7786b447f3218078\nRelated-Bug: #1745618\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}, {'number': 2, 'created': '2019-02-05 14:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e170949896e202b25142f897d9c2cf593744cddb', 'message': ""ovn-metadata-agent: bind haproxy to 169.254.169.254\n\nCurrently ovn-metadata-agent spawns haproxy to bind in 0.0.0.0 inside\nthe ovnmeta namespace. This is not needed as we know that we'll always\nreceive those in 169.254.169.254 and it can have security issues.\n\nChange-Id: I19ba651ad5b120ecb9859d9f7786b447f3218078\nCloses-Bug: #1745618\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}, {'number': 3, 'created': '2019-02-05 14:45:39.000000000', 'files': ['networking_ovn/agent/metadata/driver.py', 'networking_ovn/agent/metadata/agent.py', 'networking_ovn/tests/unit/agent/metadata/test_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/78dcb186ef53f1ccdafcc0301aab51689eb7c7e8', 'message': ""ovn-metadata-agent: bind haproxy to 169.254.169.254\n\nCurrently ovn-metadata-agent spawns haproxy to bind in 0.0.0.0 inside\nthe ovnmeta namespace. This is not needed as we know that we'll always\nreceive those in 169.254.169.254 and it can have security issues.\n\nCloses-Bug: #1745618\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\nChange-Id: I19ba651ad5b120ecb9859d9f7786b447f3218078\n""}]",1,634947,78dcb186ef53f1ccdafcc0301aab51689eb7c7e8,17,7,3,23804,,,0,"ovn-metadata-agent: bind haproxy to 169.254.169.254

Currently ovn-metadata-agent spawns haproxy to bind in 0.0.0.0 inside
the ovnmeta namespace. This is not needed as we know that we'll always
receive those in 169.254.169.254 and it can have security issues.

Closes-Bug: #1745618
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
Change-Id: I19ba651ad5b120ecb9859d9f7786b447f3218078
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/47/634947/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/agent/metadata/agent.py', 'networking_ovn/agent/metadata/driver.py', 'networking_ovn/tests/unit/agent/metadata/test_driver.py']",3,5520ef9242b527e9bf81f84f3e6b6b66ac5c2267,bug/1745618," METADATA_DEFAULT_IP = '169.254.169.254' bind_address=self.METADATA_DEFAULT_IP,",,15,8
openstack%2Ftripleo-heat-templates~master~I46912d6cff8b8332bbe875166636523f02a8088b,openstack/tripleo-heat-templates,master,I46912d6cff8b8332bbe875166636523f02a8088b,Remove the use of tests as filters as it will be deprecated.,MERGED,2019-02-07 15:28:51.000000000,2019-02-08 10:28:39.000000000,2019-02-08 10:28:39.000000000,"[{'_account_id': 360}, {'_account_id': 8042}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-07 15:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5a995f1d4e9a3711930e51dbb44c7a6de6500b82', 'message': ""Remove the use of tests as filters as it will be deprecated.\n\nAs of Ansible 2.5, using an Ansible provided jinja test with filter syntax, will display\na deprecation error, they should be switched into using 'is' [0].\n\n[0] - https://docs.ansible.com/ansible/latest/porting_guides/porting_guide_2.5.html#id17\n\nChange-Id: I46912d6cff8b8332bbe875166636523f02a8088b\n""}, {'number': 2, 'created': '2019-02-07 15:30:26.000000000', 'files': ['deployment/swift/swift-storage-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dca57f51bcbf9befc5d4e467d0f71d7e001b5816', 'message': ""Remove the use of tests as filters as it will be deprecated.\n\nAs of Ansible 2.5, using an Ansible provided jinja test with filter syntax,\nwill display a deprecation error, they should be switched into using 'is' [0].\n\n[0] - https://docs.ansible.com/ansible/latest/porting_guides/porting_guide_2.5.html#id17\n\nChange-Id: I46912d6cff8b8332bbe875166636523f02a8088b\n""}]",0,635540,dca57f51bcbf9befc5d4e467d0f71d7e001b5816,10,8,2,26343,,,0,"Remove the use of tests as filters as it will be deprecated.

As of Ansible 2.5, using an Ansible provided jinja test with filter syntax,
will display a deprecation error, they should be switched into using 'is' [0].

[0] - https://docs.ansible.com/ansible/latest/porting_guides/porting_guide_2.5.html#id17

Change-Id: I46912d6cff8b8332bbe875166636523f02a8088b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/635540/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/swift/swift-storage-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml']",2,5a995f1d4e9a3711930e51dbb44c7a6de6500b82,, - logconfig is changed, - logconfig|changed,2,2
openstack%2Ftripleo-heat-templates~master~I4fdd3a05465fa0318b4ec5c079d59f4dd80fa9f2,openstack/tripleo-heat-templates,master,I4fdd3a05465fa0318b4ec5c079d59f4dd80fa9f2,Do not pull image while tagging pcmk images in upgrade_tasks.,MERGED,2019-01-31 14:23:46.000000000,2019-02-08 10:28:37.000000000,2019-02-08 10:28:37.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 17823}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-01-31 14:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/65d9055402703ce0575aca02151f46e0931e5535', 'message': ""Do not pull image while tagging pcmk images in upgrade_tasks.\n\nDuring the upgrad of pacemaker managed services there is\na temporary tagging of the existing container image to the\nnewly image we are going to upgrade to. The input during this\ntaggins is the container image id, in contrast to what is\npassed during deploy tasks, which is the image name with its\ntag. For that reason, we can't pull the image in these cases\notherwise the role will fail as it can't find an image to pull\nfrom a container image id.\n\nChange-Id: I4fdd3a05465fa0318b4ec5c079d59f4dd80fa9f2\nDepends-On: I6fc69f122b3f48064ed831cd622a617a02a28e02\nCloses-Bug: #1814104\n""}, {'number': 2, 'created': '2019-01-31 15:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e4f4d07010da9890fbe46654969a40eea8abce8b', 'message': ""Do not pull image while tagging pcmk images in upgrade_tasks.\n\nDuring the upgrad of pacemaker managed services there is\na temporary tagging of the existing container image to the\nnewly image we are going to upgrade to. The input during this\ntaggins is the container image id, in contrast to what is\npassed during deploy tasks, which is the image name with its\ntag. For that reason, we can't pull the image in these cases\notherwise the role will fail as it can't find an image to pull\nfrom a container image id.\n\nChange-Id: I4fdd3a05465fa0318b4ec5c079d59f4dd80fa9f2\nDepends-On: I6fc69f122b3f48064ed831cd622a617a02a28e02\nCloses-Bug: #1814104\n""}, {'number': 3, 'created': '2019-02-01 08:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c6eb68496acd3351d46c54a6db4b0ff4f943e8af', 'message': ""Do not pull image while tagging pcmk images in upgrade_tasks.\n\nDuring the upgrad of pacemaker managed services there is\na temporary tagging of the existing container image to the\nnewly image we are going to upgrade to. The input during this\ntaggins is the container image id, in contrast to what is\npassed during deploy tasks, which is the image name with its\ntag. For that reason, we can't pull the image in these cases\notherwise the role will fail as it can't find an image to pull\nfrom a container image id.\n\nChange-Id: I4fdd3a05465fa0318b4ec5c079d59f4dd80fa9f2\nDepends-On: I6fc69f122b3f48064ed831cd622a617a02a28e02\nCloses-Bug: #1814104\n""}, {'number': 4, 'created': '2019-02-05 14:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/344b932a782f772f40fd409c86f1bad91d5b4600', 'message': ""Do not pull image while tagging pcmk images in upgrade_tasks.\n\nDuring the upgrad of pacemaker managed services there is\na temporary tagging of the existing container image to the\nnewly image we are going to upgrade to. The input during this\ntaggins is the container image id, in contrast to what is\npassed during deploy tasks, which is the image name with its\ntag. For that reason, we can't pull the image in these cases\notherwise the role will fail as it can't find an image to pull\nfrom a container image id.\n\nChange-Id: I4fdd3a05465fa0318b4ec5c079d59f4dd80fa9f2\nDepends-On: I6fc69f122b3f48064ed831cd622a617a02a28e02\nCloses-Bug: #1814104\n""}, {'number': 5, 'created': '2019-02-05 16:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/056189c1a512f2fe983206cccb72a2727434f79d', 'message': ""Do not pull image while tagging pcmk images in upgrade_tasks.\n\nDuring the upgrad of pacemaker managed services there is\na temporary tagging of the existing container image to the\nnewly image we are going to upgrade to. The input during this\ntaggins is the container image id, in contrast to what is\npassed during deploy tasks, which is the image name with its\ntag. For that reason, we can't pull the image in these cases\notherwise the role will fail as it can't find an image to pull\nfrom a container image id.\n\nChange-Id: I4fdd3a05465fa0318b4ec5c079d59f4dd80fa9f2\nDepends-On: I6fc69f122b3f48064ed831cd622a617a02a28e02\nCloses-Bug: #1814104\n""}, {'number': 6, 'created': '2019-02-06 16:35:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/33cc3b053e16ddcb8a1da851749ad056ef712476', 'message': ""Do not pull image while tagging pcmk images in upgrade_tasks.\n\nDuring the upgrad of pacemaker managed services there is\na temporary tagging of the existing container image to the\nnewly image we are going to upgrade to. The input during this\ntaggins is the container image id, in contrast to what is\npassed during deploy tasks, which is the image name with its\ntag. For that reason, we can't pull the image in these cases\notherwise the role will fail as it can't find an image to pull\nfrom a container image id.\n\nChange-Id: I4fdd3a05465fa0318b4ec5c079d59f4dd80fa9f2\nCloses-Bug: #1814104\n""}, {'number': 7, 'created': '2019-02-07 13:58:53.000000000', 'files': ['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'docker/services/pacemaker/database/mysql.yaml', 'docker/services/pacemaker/database/redis.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'docker/services/pacemaker/ovn-dbs.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/58b99bf5eecb6ac427744c89186f3d0afbabc917', 'message': ""Do not pull image while tagging pcmk images in upgrade_tasks.\n\nDuring the upgrad of pacemaker managed services there is\na temporary tagging of the existing container image to the\nnewly image we are going to upgrade to. The input during this\ntaggins is the container image id, in contrast to what is\npassed during deploy tasks, which is the image name with its\ntag. For that reason, we can't pull the image in these cases\notherwise the role will fail as it can't find an image to pull\nfrom a container image id.\n\nChange-Id: I4fdd3a05465fa0318b4ec5c079d59f4dd80fa9f2\nCloses-Bug: #1814104\n""}]",4,634243,58b99bf5eecb6ac427744c89186f3d0afbabc917,49,13,7,26343,,,0,"Do not pull image while tagging pcmk images in upgrade_tasks.

During the upgrad of pacemaker managed services there is
a temporary tagging of the existing container image to the
newly image we are going to upgrade to. The input during this
taggins is the container image id, in contrast to what is
passed during deploy tasks, which is the image name with its
tag. For that reason, we can't pull the image in these cases
otherwise the role will fail as it can't find an image to pull
from a container image id.

Change-Id: I4fdd3a05465fa0318b4ec5c079d59f4dd80fa9f2
Closes-Bug: #1814104
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/634243/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/pacemaker/rabbitmq.yaml', 'docker/services/pacemaker/database/mysql.yaml', 'docker/services/pacemaker/haproxy.yaml', 'docker/services/pacemaker/rpc-rabbitmq.yaml', 'docker/services/pacemaker/database/redis.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'docker/services/pacemaker/manila-share.yaml', 'docker/services/pacemaker/ovn-dbs.yaml']",8,65d9055402703ce0575aca02151f46e0931e5535,bug/1814104, pull_image: false,,8,0
openstack%2Fdevstack~master~I2084c5577b1ee1b4cdc7e1698786df99e3e512ec,openstack/devstack,master,I2084c5577b1ee1b4cdc7e1698786df99e3e512ec,Cap virtualenv version to 16.2.0 or earlier,ABANDONED,2019-02-04 22:03:10.000000000,2019-02-08 10:21:34.000000000,,"[{'_account_id': 5756}, {'_account_id': 10118}, {'_account_id': 12640}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-04 22:03:10.000000000', 'files': ['tools/cap-virtualenv.txt', 'tools/fixup_stuff.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/9cd3d766f0764b51a0b5d301b9ca40b184b3fcf2', 'message': ""Cap virtualenv version to 16.2.0 or earlier\n\nVirtualenv version >16.2.0 uses 'pip config list' command to\nread the pip configuration. However devstack caps pip version\nto <10 and it doesn't have this command. so we have to cap\nvirtualenv to fix the breakage.\n\nCloses-Bug: #1813860\nChange-Id: I2084c5577b1ee1b4cdc7e1698786df99e3e512ec\n""}]",0,634822,9cd3d766f0764b51a0b5d301b9ca40b184b3fcf2,8,6,1,12640,,,0,"Cap virtualenv version to 16.2.0 or earlier

Virtualenv version >16.2.0 uses 'pip config list' command to
read the pip configuration. However devstack caps pip version
to <10 and it doesn't have this command. so we have to cap
virtualenv to fix the breakage.

Closes-Bug: #1813860
Change-Id: I2084c5577b1ee1b4cdc7e1698786df99e3e512ec
",git fetch https://review.opendev.org/openstack/devstack refs/changes/22/634822/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/cap-virtualenv.txt', 'tools/fixup_stuff.sh']",2,9cd3d766f0764b51a0b5d301b9ca40b184b3fcf2,bug/1813860, pip_install -U --force-reinstall virtualenv -c $TOP_DIR/tools/cap-virtualenv.txt, pip_install -U --force-reinstall virtualenv,2,1
openstack%2Fmagnum~stable%2Frocky~I7ce38e38de0d66fac340e287ce520de4c4bf679d,openstack/magnum,stable/rocky,I7ce38e38de0d66fac340e287ce520de4c4bf679d,Delete loadbalancers and floatingips for service and ingress,MERGED,2019-02-07 20:07:20.000000000,2019-02-08 10:19:50.000000000,2019-02-08 10:19:50.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-02-07 20:07:20.000000000', 'files': ['magnum/common/neutron.py', 'magnum/common/octavia.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/c056ac4ce56ffe4fd4af0caede884a42310f5911', 'message': 'Delete loadbalancers and floatingips for service and ingress\n\nThis patch makes the regex more broad to cover both services and ingresses that\ncreate load balancers in octavia. In cloud-provider-openstack repo, the load\nbalancer description is defined in:\n\n- https://github.com/kubernetes/cloud-provider-openstack/blob/f056677572b2635632abcc7dbde459cdfc4432b9/pkg/cloudprovider/providers/openstack/openstack_loadbalancer.go#L459\n- https://github.com/kubernetes/cloud-provider-openstack/blob/f056677572b2635632abcc7dbde459cdfc4432b9/pkg/ingress/controller/openstack/octavia.go#L316\n\nThe floating ip description is defined in:\n\n- https://github.com/kubernetes/cloud-provider-openstack/blob/f056677572b2635632abcc7dbde459cdfc4432b9/pkg/cloudprovider/providers/openstack/openstack_loadbalancer.go#L1063\n- https://github.com/kubernetes/cloud-provider-openstack/blob/f056677572b2635632abcc7dbde459cdfc4432b9/pkg/ingress/controller/openstack/neutron.go#L72\n\nChange-Id: I7ce38e38de0d66fac340e287ce520de4c4bf679d\nStory: 2004839\n(cherry picked from commit d2f36a2ed171f6be2c57d98a038edf1e97cc88a5)\n'}]",0,635624,c056ac4ce56ffe4fd4af0caede884a42310f5911,8,4,1,6484,,,0,"Delete loadbalancers and floatingips for service and ingress

This patch makes the regex more broad to cover both services and ingresses that
create load balancers in octavia. In cloud-provider-openstack repo, the load
balancer description is defined in:

- https://github.com/kubernetes/cloud-provider-openstack/blob/f056677572b2635632abcc7dbde459cdfc4432b9/pkg/cloudprovider/providers/openstack/openstack_loadbalancer.go#L459
- https://github.com/kubernetes/cloud-provider-openstack/blob/f056677572b2635632abcc7dbde459cdfc4432b9/pkg/ingress/controller/openstack/octavia.go#L316

The floating ip description is defined in:

- https://github.com/kubernetes/cloud-provider-openstack/blob/f056677572b2635632abcc7dbde459cdfc4432b9/pkg/cloudprovider/providers/openstack/openstack_loadbalancer.go#L1063
- https://github.com/kubernetes/cloud-provider-openstack/blob/f056677572b2635632abcc7dbde459cdfc4432b9/pkg/ingress/controller/openstack/neutron.go#L72

Change-Id: I7ce38e38de0d66fac340e287ce520de4c4bf679d
Story: 2004839
(cherry picked from commit d2f36a2ed171f6be2c57d98a038edf1e97cc88a5)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/24/635624/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/common/neutron.py', 'magnum/common/octavia.py']",2,c056ac4ce56ffe4fd4af0caede884a42310f5911,delete-lb-fip-ingress-stable/rocky," """"""Delete loadbalancers for kubernetes resources. The load balancers created for kubernetes services and ingresses are deleted. pattern = (r'Kubernetes .+ from cluster %s$' % cluster.uuid)"," """"""Delete loadbalancers for k8s service. pattern = (r'Kubernetes external service \w+ from cluster %s$' % cluster.uuid)",10,9
openstack%2Fkolla~master~I4c834e11515c9384975801e1b710fa554c726c0d,openstack/kolla,master,I4c834e11515c9384975801e1b710fa554c726c0d,remove pep8 from lower-constraints.txt,MERGED,2019-02-04 11:24:56.000000000,2019-02-08 10:17:54.000000000,2019-02-08 10:17:54.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23717}, {'_account_id': 27781}]","[{'number': 1, 'created': '2019-02-04 11:24:56.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ab9213cc6c6f4fd719df83c151e231d43d5ebdfa', 'message': 'remove pep8 from lower-constraints.txt\n\nOlder hacking version depends on pep8, but pep8 module is replaced\nby pycodestyle. This is already resolved by updating hacking\nversion in https://review.openstack.org/#/c/627148/\n\npep8 is dropped, so no longer require in lower-constraints.txt.\n\nChange-Id: I4c834e11515c9384975801e1b710fa554c726c0d\n'}]",0,634668,ab9213cc6c6f4fd719df83c151e231d43d5ebdfa,11,6,1,23717,,,0,"remove pep8 from lower-constraints.txt

Older hacking version depends on pep8, but pep8 module is replaced
by pycodestyle. This is already resolved by updating hacking
version in https://review.openstack.org/#/c/627148/

pep8 is dropped, so no longer require in lower-constraints.txt.

Change-Id: I4c834e11515c9384975801e1b710fa554c726c0d
",git fetch https://review.opendev.org/openstack/kolla refs/changes/68/634668/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,ab9213cc6c6f4fd719df83c151e231d43d5ebdfa,,,pep8==1.5.7,0,1
openstack%2Fneutron-tempest-plugin~master~I1efa87a98d032b1108fd294bf998f98453ea38cc,openstack/neutron-tempest-plugin,master,I1efa87a98d032b1108fd294bf998f98453ea38cc,[DNM] Test dependencies,ABANDONED,2019-01-29 13:31:05.000000000,2019-02-08 10:00:40.000000000,,"[{'_account_id': 22348}, {'_account_id': 28373}]","[{'number': 1, 'created': '2019-01-29 13:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/6f092ddd9d15416c487c255b6152e548ba933800', 'message': '[DNM] Test dependencies\n\nTest\n\nDepends-on: I75814e50b2c9402fe6776229d469745d7a72290b\nDepends-on: I522940fc4d054f5eec1110eb2c424e32e8ae6bad\n\nChange-Id: I1efa87a98d032b1108fd294bf998f98453ea38cc\n'}, {'number': 2, 'created': '2019-01-30 00:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/3c99d7f265e8770c521f2b4ddcae6002d626942c', 'message': '[DNM] Test dependencies\n\nTest\n\nDepends-on: I75814e50b2c9402fe6776229d469745d7a72290b\nDepends-on: I522940fc4d054f5eec1110eb2c424e32e8ae6bad\n\nChange-Id: I1efa87a98d032b1108fd294bf998f98453ea38cc\n'}, {'number': 3, 'created': '2019-01-30 01:33:52.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/578db3909a726e30b376cb2475fde86aef33b7d8', 'message': '[DNM] Test dependencies\n\nTest\n\nDepends-on: https://review.openstack.org/624709\n\nChange-Id: I1efa87a98d032b1108fd294bf998f98453ea38cc\n'}]",0,633733,578db3909a726e30b376cb2475fde86aef33b7d8,10,2,3,28373,,,0,"[DNM] Test dependencies

Test

Depends-on: https://review.openstack.org/624709

Change-Id: I1efa87a98d032b1108fd294bf998f98453ea38cc
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/33/633733/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6f092ddd9d15416c487c255b6152e548ba933800,, - network-segment-range DEFAULT: network_segment_range: true,,3,0
openstack%2Fkolla~master~I89708b8cba260d5d49ad6a7925eae7416a9f047f,openstack/kolla,master,I89708b8cba260d5d49ad6a7925eae7416a9f047f,Change rfc3986>=1.1.0 to rfc3986>=1.2.0,MERGED,2019-02-06 10:35:24.000000000,2019-02-08 09:56:38.000000000,2019-02-08 09:56:38.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 27781}]","[{'number': 1, 'created': '2019-02-06 10:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/20394263c8166b54103c86eb344a92560f358d4e', 'message': 'oslo.config>=5.2.0 which is a dependency of kolla-ansible requires rfc3986>=1.2.0\n\nChange-Id: I89708b8cba260d5d49ad6a7925eae7416a9f047f\n'}, {'number': 2, 'created': '2019-02-06 10:37:21.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/kolla/commit/195a7e296e95cfa431b550fdd223bd9ba4a11c34', 'message': 'Change rfc3986>=1.1.0 to rfc3986>=1.2.0\n\noslo.config>=5.2.0 which is a dependency of kolla\nrequires rfc3986>=1.2.0\n\nChange-Id: I89708b8cba260d5d49ad6a7925eae7416a9f047f\n'}]",0,635126,195a7e296e95cfa431b550fdd223bd9ba4a11c34,10,5,2,23717,,,0,"Change rfc3986>=1.1.0 to rfc3986>=1.2.0

oslo.config>=5.2.0 which is a dependency of kolla
requires rfc3986>=1.2.0

Change-Id: I89708b8cba260d5d49ad6a7925eae7416a9f047f
",git fetch https://review.opendev.org/openstack/kolla refs/changes/26/635126/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,20394263c8166b54103c86eb344a92560f358d4e,,rfc3986==1.2.0,rfc3986==1.1.0,1,1
openstack%2Ftripleo-common~master~I5f82aaa56d11c338443e3d5b35b6027051b6a04b,openstack/tripleo-common,master,I5f82aaa56d11c338443e3d5b35b6027051b6a04b,WIP DNM Set a variable to determine if we are inside a minor update workflow,ABANDONED,2019-02-08 08:52:29.000000000,2019-02-08 09:39:29.000000000,,[{'_account_id': 8042}],"[{'number': 1, 'created': '2019-02-08 08:52:29.000000000', 'files': ['workbooks/package_update.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3102e02fbc65a80dcbbe40416fbeee73d62e2df7', 'message': 'WIP DNM Set a variable to determine if we are inside a minor update workflow\n\nWith this we can optimize away the restart bundles if we are going to\nstop the cluster anyway.\n\nChange-Id: I5f82aaa56d11c338443e3d5b35b6027051b6a04b\n'}]",0,635720,3102e02fbc65a80dcbbe40416fbeee73d62e2df7,3,1,1,20172,,,0,"WIP DNM Set a variable to determine if we are inside a minor update workflow

With this we can optimize away the restart bundles if we are going to
stop the cluster anyway.

Change-Id: I5f82aaa56d11c338443e3d5b35b6027051b6a04b
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/20/635720/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/package_update.yaml'],1,3102e02fbc65a80dcbbe40416fbeee73d62e2df7,set-minor-update-env, MINOR_UPDATE: 'True',,1,0
openstack%2Fkuryr-kubernetes~master~I8c27f7c8584bb53bd63c036ebceaf90e893cb78d,openstack/kuryr-kubernetes,master,I8c27f7c8584bb53bd63c036ebceaf90e893cb78d,Update HA doc with corections and minor fixes,MERGED,2019-02-07 07:58:02.000000000,2019-02-08 09:37:56.000000000,2019-02-08 09:37:56.000000000,"[{'_account_id': 11600}, {'_account_id': 14570}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-07 07:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/50aebc44df95ff8393d0d2256136b185b3dcf2ea', 'message': 'Update HA doc with corections and minor fixes\n\nUpdate HA doc with corrections and fixes to typos and mistakes.\n\nChange-Id: I8c27f7c8584bb53bd63c036ebceaf90e893cb78d\n'}, {'number': 2, 'created': '2019-02-08 06:25:48.000000000', 'files': ['doc/source/devref/high_availability.rst'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d4b31ae94414c340d3fdc090b3d64971753302c2', 'message': 'Update HA doc with corections and minor fixes\n\nUpdate HA doc with corrections and fixes to typos and mistakes.\n\nChange-Id: I8c27f7c8584bb53bd63c036ebceaf90e893cb78d\n'}]",2,635446,d4b31ae94414c340d3fdc090b3d64971753302c2,10,3,2,14570,,,0,"Update HA doc with corections and minor fixes

Update HA doc with corrections and fixes to typos and mistakes.

Change-Id: I8c27f7c8584bb53bd63c036ebceaf90e893cb78d
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/46/635446/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/devref/high_availability.rst'],1,50aebc44df95ff8393d0d2256136b185b3dcf2ea,code-cleanup,"because we end up with a huge race condition, where each controller creates Neutron resources but only one succeeds to put the annotation on the Kuberneteswhere only the leader is working on the resources and the other instance waits as standby. This will be implemented by periodically calling the leader-elector shouldn't exceed 10s) some K8s resources are deleted. New leader will not","because we end up with a huge race conditon, where each controller creates Neutron resources but only on succeeds to put the annotation on the Kuberneteswhere only the leader is working on the resources and the rest waits in standby. This will be implemented by periodically calling the leader-elector shouldn't exceed 10 s) some K8s resources are deleted. New leader will not",5,5
openstack%2Ftripleo-quickstart~master~Ib8391a1cf709878c5b06b66a43e81ae1e1220261,openstack/tripleo-quickstart,master,Ib8391a1cf709878c5b06b66a43e81ae1e1220261,bump ansible from 2.5 to 2.6,ABANDONED,2018-08-24 11:23:32.000000000,2019-02-08 09:08:29.000000000,,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 18846}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-08-24 11:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/164eda049f58db1b3a24543667e618d49764ac2e', 'message': 'bump ansible to 2.6.3\n\nAdopts newer version of ansible before 2.5 branch is deprecated.\nThis change should be merged only when we are confident that our\ncode works correctly with the newer version. Implement preparatory\nchanges outside of this commit, if possible.\n\nChange-Id: Ib8391a1cf709878c5b06b66a43e81ae1e1220261\n'}, {'number': 2, 'created': '2018-09-03 11:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/296f4fde4270499c5e359d5c9abf21265e629566', 'message': 'bump ansible to 2.6.3\n\nAdopts newer version of ansible before 2.5 branch is deprecated.\nThis change should be merged only when we are confident that our\ncode works correctly with the newer version. Implement preparatory\nchanges outside of this commit, if possible.\n\nChange-Id: Ib8391a1cf709878c5b06b66a43e81ae1e1220261\n'}, {'number': 3, 'created': '2018-09-18 09:05:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/694f6bc81b7d7d8d1e9a8bfc947d13cf830c6d7b', 'message': 'bump ansible to 2.6.3\n\nAdopts newer version of ansible before 2.5 branch is deprecated.\nThis change should be merged only when we are confident that our\ncode works correctly with the newer version. Implement preparatory\nchanges outside of this commit, if possible.\n\nChange-Id: Ib8391a1cf709878c5b06b66a43e81ae1e1220261\n'}, {'number': 4, 'created': '2018-09-18 09:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/86c527f7f36535ad6151f088db4d6ec27a9dc4df', 'message': 'bump ansible to 2.6.4\n\nAdopts newer version of ansible before 2.5 branch is deprecated.\nThis change should be merged only when we are confident that our\ncode works correctly with the newer version. Implement preparatory\nchanges outside of this commit, if possible.\n\nChange-Id: Ib8391a1cf709878c5b06b66a43e81ae1e1220261\n'}, {'number': 5, 'created': '2018-10-26 11:08:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/db6f3f1f1b5a3f9a8d6fcea9341a08a16e6ede75', 'message': 'bump ansible to 2.6.4\n\nAdopts newer version of ansible before 2.5 branch is deprecated.\nThis change should be merged only when we are confident that our\ncode works correctly with the newer version. Implement preparatory\nchanges outside of this commit, if possible.\n\nChange-Id: Ib8391a1cf709878c5b06b66a43e81ae1e1220261\nDepends-On: https://review.openstack.org/#/c/613250/\n'}, {'number': 6, 'created': '2018-10-26 11:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ea6b39ed08b8c5532732ecec1802ce816634281c', 'message': 'bump ansible to 2.6.4\n\nAdopts newer version of ansible before 2.5 branch is deprecated.\nThis change should be merged only when we are confident that our\ncode works correctly with the newer version. Implement preparatory\nchanges outside of this commit, if possible.\n\nChange-Id: Ib8391a1cf709878c5b06b66a43e81ae1e1220261\nDepends-On: https://review.openstack.org/#/c/613250/\n'}, {'number': 7, 'created': '2018-10-29 17:10:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/77b4dcdb461932960c97d04d76899b2fbbbfc006', 'message': 'bump ansible to 2.6.4\n\nAdopts newer version of ansible before 2.5 branch is deprecated.\nThis change should be merged only when we are confident that our\ncode works correctly with the newer version. Implement preparatory\nchanges outside of this commit, if possible.\n\nChange-Id: Ib8391a1cf709878c5b06b66a43e81ae1e1220261\nDepends-On: https://review.openstack.org/#/c/613250/\n'}, {'number': 8, 'created': '2018-10-30 14:51:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c5df7cef8c20504fc792a0329e3d76fab924f686', 'message': 'bump ansible to 2.6.4\n\nAdopts newer version of ansible before 2.5 branch is deprecated.\nThis change should be merged only when we are confident that our\ncode works correctly with the newer version. Implement preparatory\nchanges outside of this commit, if possible.\n\nChange-Id: Ib8391a1cf709878c5b06b66a43e81ae1e1220261\nDepends-On: https://review.openstack.org/#/c/613250/\n'}, {'number': 9, 'created': '2018-11-16 10:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5473c7204c844bb78740ec1a111a63a9e2153634', 'message': 'bump ansible from 2.5 to 2.6\n\nAdopts newer version of ansible before 2.5 branch is deprecated.\nThis change should be merged only when we are confident that our\ncode works correctly with the newer version. Implement preparatory\nchanges outside of this commit, if possible.\n\nhttps://github.com/ansible/ansible/blob/v2.6.8/changelogs/CHANGELOG-v2.6.rst\n\nNotable fixes:\n- blockinfile\n- lineinfile\n- docker modules\n- loop\n\nChange-Id: Ib8391a1cf709878c5b06b66a43e81ae1e1220261\nDepends-On: https://review.openstack.org/#/c/613250/\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/386\n'}, {'number': 10, 'created': '2018-11-16 10:34:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/436851ccd9462e09bed148bfa0be5672f49e0b96', 'message': 'bump ansible from 2.5 to 2.6\n\nAdopts newer version of ansible before 2.5 branch is deprecated.\nThis change should be merged only when we are confident that our\ncode works correctly with the newer version. Implement preparatory\nchanges outside of this commit, if possible.\n\nhttps://github.com/ansible/ansible/blob/v2.6.8/changelogs/CHANGELOG-v2.6.rst\n\nNotable fixes:\n- blockinfile\n- lineinfile\n- docker modules\n- loop\n\nChange-Id: Ib8391a1cf709878c5b06b66a43e81ae1e1220261\nDepends-On: https://review.openstack.org/#/c/613250/\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/386\n'}, {'number': 11, 'created': '2019-02-08 08:43:24.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/00040a8438c3ee0657a1096941583c4172a5af13', 'message': 'bump ansible from 2.5 to 2.6\n\nAdopts newer version of ansible before 2.5 branch is deprecated.\nThis change should be merged only when we are confident that our\ncode works correctly with the newer version. Implement preparatory\nchanges outside of this commit, if possible.\n\nhttps://github.com/ansible/ansible/blob/v2.6.11/changelogs/CHANGELOG-v2.6.rst\n\nNotable fixes:\n- blockinfile\n- lineinfile\n- docker modules\n- loop\n\nChange-Id: Ib8391a1cf709878c5b06b66a43e81ae1e1220261\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/386\n'}]",0,596282,00040a8438c3ee0657a1096941583c4172a5af13,37,12,11,24162,,,0,"bump ansible from 2.5 to 2.6

Adopts newer version of ansible before 2.5 branch is deprecated.
This change should be merged only when we are confident that our
code works correctly with the newer version. Implement preparatory
changes outside of this commit, if possible.

https://github.com/ansible/ansible/blob/v2.6.11/changelogs/CHANGELOG-v2.6.rst

Notable fixes:
- blockinfile
- lineinfile
- docker modules
- loop

Change-Id: Ib8391a1cf709878c5b06b66a43e81ae1e1220261
Story: https://tree.taiga.io/project/tripleo-ci-board/task/386
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/82/596282/6 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,164eda049f58db1b3a24543667e618d49764ac2e,oooq/py3-bump-ansible,ansible==2.6.3,ansible==2.5.5,1,1
openstack%2Fkolla-ansible~master~I042f0b011c060f9dbc645dbdbb60068cb41c0cc8,openstack/kolla-ansible,master,I042f0b011c060f9dbc645dbdbb60068cb41c0cc8,"Option ""scheduler_default_filters"" from group ""DEFAULT"" is deprecated.",MERGED,2018-09-11 03:54:19.000000000,2019-02-08 08:10:24.000000000,2019-02-08 08:10:24.000000000,"[{'_account_id': 9820}, {'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23717}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-09-11 03:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4d1a97a8872296e64c57e8ef045e9dbf65e83861', 'message': 'Option ""scheduler_default_filters"" from group ""DEFAULT"" is deprecated.\n\nUse option ""enabled_filters"" from group ""filter_scheduler"".\n\nChange-Id: I042f0b011c060f9dbc645dbdbb60068cb41c0cc8\n'}, {'number': 2, 'created': '2018-09-12 02:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ca8effd1a4300fce0bb8d5222856583d1faf4930', 'message': 'Option ""scheduler_default_filters"" from group ""DEFAULT"" is deprecated.\n\nUse option ""enabled_filters"" from group ""filter_scheduler"".\n\nChange-Id: I042f0b011c060f9dbc645dbdbb60068cb41c0cc8\n'}, {'number': 3, 'created': '2018-09-12 02:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b847189b5cfe06a8d6cb642886799a3d34d56f20', 'message': 'Option ""scheduler_default_filters"" from group ""DEFAULT"" is deprecated.\n\nUse option ""enabled_filters"" from group ""filter_scheduler"".\n\nChange-Id: I042f0b011c060f9dbc645dbdbb60068cb41c0cc8\n'}, {'number': 4, 'created': '2019-02-07 10:20:33.000000000', 'files': ['doc/source/reference/networking/sriov.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cce2c53ebb64889184a03da4ec00b4bc3282c166', 'message': 'Option ""scheduler_default_filters"" from group ""DEFAULT"" is deprecated.\n\nUse option ""enabled_filters"" from group ""filter_scheduler"".\n\nChange-Id: I042f0b011c060f9dbc645dbdbb60068cb41c0cc8\n'}]",1,601486,cce2c53ebb64889184a03da4ec00b4bc3282c166,25,7,4,20663,,,0,"Option ""scheduler_default_filters"" from group ""DEFAULT"" is deprecated.

Use option ""enabled_filters"" from group ""filter_scheduler"".

Change-Id: I042f0b011c060f9dbc645dbdbb60068cb41c0cc8
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/86/601486/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/networking-guide.rst'],1,4d1a97a8872296e64c57e8ef045e9dbf65e83861,doc/sriov," [filter_scheduler] enabled_filters = <existing filters>, PciPassthroughFilter available_filters = nova.scheduler.filters.all_filters"," [DEFAULT] scheduler_default_filters = <existing filters>, PciPassthroughFilter scheduler_available_filters = nova.scheduler.filters.all_filters",3,3
openstack%2Fkolla-ansible~master~Ie82ec5fb0ac9106b39948c67d34d5ef611a8fa21,openstack/kolla-ansible,master,Ie82ec5fb0ac9106b39948c67d34d5ef611a8fa21,haproxy: Support for external IPv6 (VIP),MERGED,2019-02-07 14:57:47.000000000,2019-02-08 08:10:23.000000000,2019-02-08 08:10:23.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2019-02-07 14:57:47.000000000', 'files': ['ansible/roles/haproxy/tasks/config.yml', 'ansible/roles/haproxy/tasks/precheck.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0d32b76a33021f77e20973744a479f25949b6bc1', 'message': 'haproxy: Support for external IPv6 (VIP)\n\nThis change allows usage of IPv6 as public address\n\nChange-Id: Ie82ec5fb0ac9106b39948c67d34d5ef611a8fa21\nSigned-off-by: Maciej Kucia <m.kucia@partner.samsung.com>\n'}]",0,635528,0d32b76a33021f77e20973744a479f25949b6bc1,7,3,1,25588,,,0,"haproxy: Support for external IPv6 (VIP)

This change allows usage of IPv6 as public address

Change-Id: Ie82ec5fb0ac9106b39948c67d34d5ef611a8fa21
Signed-off-by: Maciej Kucia <m.kucia@partner.samsung.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/28/635528/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/haproxy/tasks/config.yml', 'ansible/roles/haproxy/tasks/precheck.yml']",2,0d32b76a33021f77e20973744a479f25949b6bc1,," command: ""{{ item.command }} -c 3 {{ item.address }}"" - address: ""{{ kolla_internal_vip_address }}"" command: ""{{ 'ping' if kolla_internal_vip_address|ipv4 else 'ping6' }}"" - address: ""{{ kolla_external_vip_address }}"" command: ""{{ 'ping' if kolla_external_vip_address|ipv4 else 'ping6' }}"" command: ip -o addr show dev {{ api_interface }}"," command: ping -c 3 {{ item }} - ""{{ kolla_internal_vip_address }}"" - ""{{ kolla_external_vip_address }}"" command: ip -4 -o addr show dev {{ api_interface }}",7,4
openstack%2Ftripleo-heat-templates~master~I58369124f9a44f75334e71c131b5211471a2fd12,openstack/tripleo-heat-templates,master,I58369124f9a44f75334e71c131b5211471a2fd12,Enable mistral to see the changes at overcloud_containers.yaml.j2,ABANDONED,2019-01-03 15:02:42.000000000,2019-02-08 08:02:24.000000000,,"[{'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-03 15:02:42.000000000', 'files': ['docker/services/mistral-executor.yaml', 'docker/services/mistral-engine.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/61dc1f2f4583801432bb2385a3233d1c65a4da8b', 'message': 'Enable mistral to see the changes at overcloud_containers.yaml.j2\n\nAs a developer, we might need to add some kolla images, updating\nthe /usr/share/openstack-tripleo-common-containers directory on\nthe host does not affect the folder on the container.\n\nMounting the directories as ""ro"" on the containers, makes the changes\non the host visible by mistral containers.\n\nChange-Id: I58369124f9a44f75334e71c131b5211471a2fd12\n'}]",0,628199,61dc1f2f4583801432bb2385a3233d1c65a4da8b,13,3,1,22954,,,0,"Enable mistral to see the changes at overcloud_containers.yaml.j2

As a developer, we might need to add some kolla images, updating
the /usr/share/openstack-tripleo-common-containers directory on
the host does not affect the folder on the container.

Mounting the directories as ""ro"" on the containers, makes the changes
on the host visible by mistral containers.

Change-Id: I58369124f9a44f75334e71c131b5211471a2fd12
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/628199/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/mistral-executor.yaml', 'docker/services/mistral-engine.yaml']",2,61dc1f2f4583801432bb2385a3233d1c65a4da8b,mistral_updates, - /usr/share/openstack-tripleo-common:/usr/share/openstack-tripleo-common:ro - /usr/share/openstack-tripleo-common-containers:/usr/share/openstack-tripleo-common-containers:ro,,4,0
openstack%2Fcontributor-guide~master~I74ba87e4372fe7a0cf2c5f1817bbf37473a965f7,openstack/contributor-guide,master,I74ba87e4372fe7a0cf2c5f1817bbf37473a965f7,Imported Translations from Zanata,MERGED,2019-02-08 07:38:54.000000000,2019-02-08 08:01:45.000000000,2019-02-08 08:01:45.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-08 07:38:54.000000000', 'files': ['doc/source/locale/de/LC_MESSAGES/doc-code-and-documentation.po', 'doc/source/locale/de/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/de/LC_MESSAGES/doc-common.po', 'doc/source/locale/id/LC_MESSAGES/doc-common.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/id/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/id/LC_MESSAGES/doc-code-and-documentation.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-code-and-documentation.po'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/eb180ba68a31a65afd5cf6b86a84fc1f36b69e4d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I74ba87e4372fe7a0cf2c5f1817bbf37473a965f7\n'}]",0,635717,eb180ba68a31a65afd5cf6b86a84fc1f36b69e4d,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I74ba87e4372fe7a0cf2c5f1817bbf37473a965f7
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/17/635717/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/de/LC_MESSAGES/doc-code-and-documentation.po', 'doc/source/locale/de/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/de/LC_MESSAGES/doc-common.po', 'doc/source/locale/id/LC_MESSAGES/doc-common.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/id/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/id/LC_MESSAGES/doc-code-and-documentation.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-code-and-documentation.po']",8,eb180ba68a31a65afd5cf6b86a84fc1f36b69e4d,zanata/translations,"""POT-Creation-Date: 2019-02-06 16:27+0000\n""","""POT-Creation-Date: 2019-02-02 15:11+0000\n""""Reviewing changes is often suggested as a way to get started on a project. "" ""Whether this is how you choose to get started or not, it's an important "" ""community activity. See `How to Review Changes the OpenStack Way`_ for more "" ""detailed guidance on when to use which votes on a change review."" msgstr """" ""Reviewing changes is often suggested as a way to get started on a project. "" ""Whether this is how you choose to get started or not, it's an important "" ""community activity. See `How to Review Changes the OpenStack Way`_ for more "" ""detailed guidance on when to use which votes on a change review."" msgid """"msgid """" ""elastic-recheck is built on top of an ELK (`Elastic Search`_, `Logstash`_, "" ""`Kibana`_) stack where we use Logstash to store all logs from CI jobs in an "" ""Elastic Search cluster. We also host a `Kibana dashboard`_ which can be used "" ""to run queries on the cluster and interacts with the data. elastic-recheck "" ""queries the elastic-search cluster for the fingerprints."" msgstr """" ""elastic-recheck is built on top of an ELK (`Elastic Search`_, `Logstash`_, "" ""`Kibana`_) stack where we use Logstash to store all logs from CI jobs in an "" ""Elastic Search cluster. We also host a `Kibana dashboard`_ which can be used "" ""to run queries on the cluster and interacts with the data. elastic-recheck "" ""queries the elastic-search cluster for the fingerprints."" ",69,181
openstack%2Fironic~master~If3a19f74fb0dfbcff2cde4cd5a8cc1edf5de3058,openstack/ironic,master,If3a19f74fb0dfbcff2cde4cd5a8cc1edf5de3058,Optionally preserve original system boot order upon instance deployment,MERGED,2019-01-23 16:29:24.000000000,2019-02-08 07:26:19.000000000,2019-02-08 05:16:55.000000000,"[{'_account_id': 136}, {'_account_id': 10118}, {'_account_id': 11076}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 11929}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 25547}, {'_account_id': 26340}, {'_account_id': 28429}]","[{'number': 1, 'created': '2019-01-23 16:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/aa7e8fb69ae01c74bc8502fc60d17d5741146bcb', 'message': ""Support non-persistent boot device\n\nBy default, Ironic makes persistent changes to the BIOS boot order at the end\nof an instance deployment. This may not be desired in all cases, e.g. when DC\npolicies require to leave the order untouched. While keeping the persistent\napproach as the default, this patch proposes a 'persistent_boot_device' option\nwhich allows to make these changes non-persistent and to preserve the original\nBIOS boot order upon deployment.\n\nChange-Id: If3a19f74fb0dfbcff2cde4cd5a8cc1edf5de3058\n""}, {'number': 2, 'created': '2019-01-24 07:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0ef6f7c9a3917b1cd67d9aa38fddda50dbee52bf', 'message': ""Support non-persistent boot device\n\nBy default, Ironic makes persistent changes to the BIOS boot order at\nthe end of an instance deployment. This may not be desired in all cases,\ne.g. when DC policies require to leave the order untouched. While\nkeeping the persistent approach as the default, this patch proposes a\n'persistent_boot_device' option which allows to make these changes\nnon-persistent and to preserve the original BIOS boot order upon\ndeployment.\n\nChange-Id: If3a19f74fb0dfbcff2cde4cd5a8cc1edf5de3058\nStory: #2004846\n""}, {'number': 3, 'created': '2019-01-24 09:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7108a9408cc76244a5a0721d4b441b29a6ab019a', 'message': ""Preserve BIOS boot order upon deployment\n\nBy default, Ironic makes persistent changes to the BIOS boot order at\nthe end of an instance deployment. This may not be desired in all cases,\ne.g. when DC policies require to leave the order untouched. While\nkeeping the persistent approach as the default, this patch proposes a\n'preserve_bios_boot_order' option which allows to make these changes\nnon-persistent and to preserve the original BIOS boot order upon\ndeployment.\n\nChange-Id: If3a19f74fb0dfbcff2cde4cd5a8cc1edf5de3058\nStory: #2004846\n""}, {'number': 4, 'created': '2019-01-24 10:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/23f138787f5e2df256517d0077085a808d093901', 'message': ""Preserve BIOS boot order upon deployment\n\nBy default, Ironic makes persistent changes to the BIOS boot order at\nthe end of an instance deployment. This may not be desired in all cases,\ne.g. when DC policies require to leave the order untouched. While\nkeeping the persistent approach as the default, this patch proposes a\n'preserve_bios_boot_order' option which allows to make these changes\nnon-persistent and to preserve the original BIOS boot order upon\ndeployment.\n\nChange-Id: If3a19f74fb0dfbcff2cde4cd5a8cc1edf5de3058\nStory: #2004846\nTask: #29058\n""}, {'number': 5, 'created': '2019-01-30 16:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/56be3e7c1078aaeca5837df2194d0211de64500a', 'message': ""Optionally preserve BIOS boot order upon instance deployment\n\nBy default, Ironic makes persistent changes to the BIOS boot order\nat the end of an instance deployment. This may not be desired in\nall cases, e.g. when DC policies require to leave the persistent\nBIOS boot order unchanged.\nWhile keeping the persistent approach as the default, this patch\nproposes a 'preserve_bios_boot_order' option which allows to make\nthese final changes before booting the instance non-persistent\n(with the PXE/iPXE boot interfaces).\nIf a node's driver_info has 'force_persistent_boot_order' set to\nmake all boot order changes persistent for performance reasons,\nthe proposed option takes lower priority and will be ignored.\n\nChange-Id: If3a19f74fb0dfbcff2cde4cd5a8cc1edf5de3058\nStory: #2004846\nTask: #29058\n""}, {'number': 6, 'created': '2019-02-01 14:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/14ecb99de1418eeeb7664540769fc959288d6585', 'message': ""Optionally preserve BIOS boot order upon instance deployment\n\nBy default, Ironic makes persistent changes to the BIOS boot order\nat the end of an instance deployment. This may not be desired in\nall cases, e.g. when DC policies require to leave the persistent\nBIOS boot order unchanged.\nWhile keeping the persistent approach as the default, this patch\nproposes to extent the existing 'force_persistent_boot_device'\nfield in the node's driver_info for (i)PXE in a way that allows\nto have all boot device changes to be non-persistent.\n\nChange-Id: If3a19f74fb0dfbcff2cde4cd5a8cc1edf5de3058\nStory: #2004846\nTask: #29058\n""}, {'number': 7, 'created': '2019-02-04 10:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5f1838686b9b95ef69a9a3b2cbeeca9fcfb762ad', 'message': ""Optionally preserve BIOS boot order upon instance deployment\n\nBy default, Ironic makes persistent changes to the BIOS boot order\nat the end of an instance deployment. This may not be desired in\nall cases, e.g. when DC policies require to leave the persistent\nBIOS boot order unchanged.\nWhile keeping the persistent approach as the default, this patch\nproposes to extent the existing 'force_persistent_boot_device'\nfield in the node's driver_info for (i)PXE in a way that allows\nto have all boot device changes to be non-persistent.\n\nChange-Id: If3a19f74fb0dfbcff2cde4cd5a8cc1edf5de3058\nStory: #2004846\nTask: #29058\n""}, {'number': 8, 'created': '2019-02-05 11:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/73e9aa06434ea27ef77fb2c5bc36ab98f0e2f4ca', 'message': ""Optionally preserve BIOS boot order upon instance deployment\n\nBy default, Ironic makes persistent changes to the BIOS boot order\nat the end of an instance deployment. This may not be desired in\nall cases, e.g. when DC policies require to leave the persistent\nBIOS boot order unchanged.\nWhile keeping the persistent approach as the default, this patch\nproposes to extent the existing 'force_persistent_boot_device'\nfield in the node's driver_info for (i)PXE in a way that allows\nto have all boot device changes to be non-persistent.\n\nChange-Id: If3a19f74fb0dfbcff2cde4cd5a8cc1edf5de3058\nStory: #2004846\nTask: #29058\n""}, {'number': 9, 'created': '2019-02-07 11:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/be3701c3bb3134ad78dc478e53054967df2f553c', 'message': ""Optionally preserve BIOS boot order upon instance deployment\n\nBy default, Ironic makes persistent changes to the BIOS boot order\nat the end of an instance deployment. This may not be desired in\nall cases, e.g. when DC policies require to leave the persistent\nBIOS boot order unchanged.\nWhile keeping the persistent approach as the default, this patch\nproposes to extent the existing 'force_persistent_boot_device'\nfield in the node's driver_info for (i)PXE in a way that allows\nto have all boot device changes to be non-persistent.\n\nChange-Id: If3a19f74fb0dfbcff2cde4cd5a8cc1edf5de3058\nStory: #2004846\nTask: #29058\n""}, {'number': 10, 'created': '2019-02-07 12:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/057297e8d404a5e1eb06db7ba9c325cb5267e007', 'message': ""Optionally preserve BIOS boot order upon instance deployment\n\nBy default, Ironic makes persistent changes to the BIOS boot order\nat the end of an instance deployment. This may not be desired in\nall cases, e.g. when DC policies require to leave the persistent\nBIOS boot order unchanged.\nWhile keeping the persistent approach as the default, this patch\nproposes to extent the existing 'force_persistent_boot_device'\nfield in the node's driver_info for (i)PXE in a way that allows\nto have all boot device changes to be non-persistent.\n\nChange-Id: If3a19f74fb0dfbcff2cde4cd5a8cc1edf5de3058\nStory: #2004846\nTask: #29058\n""}, {'number': 11, 'created': '2019-02-07 17:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d8a9ef8a49535c9caac8d2e2209839d710a251c2', 'message': ""Optionally preserve original system boot order upon instance deployment\n\nBy default, Ironic makes persistent changes to the system boot order\nat the end of an instance deployment. This may not be desired in\nall cases, e.g. when DC policies require to leave the persistent\nsystem boot order unchanged.\nWhile keeping the persistent approach as the default, this patch\nproposes to extent the existing 'force_persistent_boot_device'\nfield in the node's driver_info for (i)PXE in a way that allows\nto have all boot device changes to be non-persistent.\n\nChange-Id: If3a19f74fb0dfbcff2cde4cd5a8cc1edf5de3058\nStory: #2004846\nTask: #29058\n""}, {'number': 12, 'created': '2019-02-07 21:55:15.000000000', 'files': ['ironic/tests/unit/drivers/modules/test_agent_base_vendor.py', 'ironic/drivers/modules/pxe_base.py', 'ironic/drivers/modules/agent_base_vendor.py', 'ironic/tests/unit/drivers/modules/test_ipxe.py', 'ironic/drivers/modules/pxe.py', 'ironic/tests/unit/drivers/modules/test_pxe.py', 'releasenotes/notes/add-option-persistent-boot-device-139cf280fb66f4f7.yaml', 'ironic/drivers/modules/ipxe.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/206134cf58266859fc7b21cd76831955cad72b56', 'message': ""Optionally preserve original system boot order upon instance deployment\n\nBy default, Ironic makes persistent changes to the system boot order\nat the end of an instance deployment. This may not be desired in\nall cases, e.g. when DC policies require to leave the persistent\nsystem boot order unchanged.\nWhile keeping the persistent approach as the default, this patch\nproposes to extent the existing 'force_persistent_boot_device'\nfield in the node's driver_info for (i)PXE in a way that allows\nto have all boot device changes to be non-persistent.\n\nChange-Id: If3a19f74fb0dfbcff2cde4cd5a8cc1edf5de3058\nStory: #2004846\nTask: #29058\n""}]",53,632774,206134cf58266859fc7b21cd76831955cad72b56,114,16,12,11292,,,0,"Optionally preserve original system boot order upon instance deployment

By default, Ironic makes persistent changes to the system boot order
at the end of an instance deployment. This may not be desired in
all cases, e.g. when DC policies require to leave the persistent
system boot order unchanged.
While keeping the persistent approach as the default, this patch
proposes to extent the existing 'force_persistent_boot_device'
field in the node's driver_info for (i)PXE in a way that allows
to have all boot device changes to be non-persistent.

Change-Id: If3a19f74fb0dfbcff2cde4cd5a8cc1edf5de3058
Story: #2004846
Task: #29058
",git fetch https://review.opendev.org/openstack/ironic refs/changes/74/632774/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/agent.py', 'ironic/tests/unit/drivers/modules/test_agent_base_vendor.py', 'ironic/drivers/modules/agent_base_vendor.py', 'ironic/drivers/modules/pxe.py', 'releasenotes/notes/add-option-persistent-boot-device-139cf280fb66f4f7.yaml']",5,aa7e8fb69ae01c74bc8502fc60d17d5741146bcb,persistent_bootdev,"--- features: - | By default, Ironic makes persistent changes to the BIOS boot order at the end of a deployment. While keeping this behaviour as the default, the new 'persistent_boot_device' option allows to make these changes non-persistent and to preserve the original BIOS boot order after a deployment. ",,41,8
openstack%2Fironic~master~I81c5bf1be18ac4109f0e5ef66193ff66f484d107,openstack/ironic,master,I81c5bf1be18ac4109f0e5ef66193ff66f484d107,Add description field to node: api-ref,MERGED,2019-01-24 02:47:26.000000000,2019-02-08 07:03:43.000000000,2019-02-08 07:03:42.000000000,"[{'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-24 02:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ef6dec3f18f8716f46d2e758ad72a5dda1610e98', 'message': 'Add description field to node: api-ref\n\nUpdate api-ref to include the description field.\n\nAlso updated a few missing owner field.\n\nChange-Id: I81c5bf1be18ac4109f0e5ef66193ff66f484d107\nStory: 2003089\nTask: 23178\n'}, {'number': 2, 'created': '2019-01-25 07:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/df3c6f04d46ac911658029d8f6ccabb31f94adc8', 'message': 'Add description field to node: api-ref\n\nUpdate api-ref to include the description field.\n\nAlso updated a few missing owner field.\n\nChange-Id: I81c5bf1be18ac4109f0e5ef66193ff66f484d107\nStory: 2003089\nTask: 23178\n'}, {'number': 3, 'created': '2019-02-01 02:41:02.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/baremetal-api-v1-nodes.inc', 'api-ref/source/samples/nodes-list-details-response.json', 'api-ref/source/samples/node-show-response.json', 'api-ref/source/samples/node-create-response.json'], 'web_link': 'https://opendev.org/openstack/ironic/commit/96bc6729cf65db2080717b3e6f0760a7f6ba272b', 'message': 'Add description field to node: api-ref\n\nUpdate api-ref to include the description field.\n\nAlso updated a few missing owner field.\n\nChange-Id: I81c5bf1be18ac4109f0e5ef66193ff66f484d107\nStory: 2003089\nTask: 23178\n'}]",0,632877,96bc6729cf65db2080717b3e6f0760a7f6ba272b,16,5,3,24828,,,0,"Add description field to node: api-ref

Update api-ref to include the description field.

Also updated a few missing owner field.

Change-Id: I81c5bf1be18ac4109f0e5ef66193ff66f484d107
Story: 2003089
Task: 23178
",git fetch https://review.opendev.org/openstack/ironic refs/changes/77/632877/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'api-ref/source/baremetal-api-v1-nodes.inc', 'api-ref/source/samples/nodes-list-details-response.json', 'api-ref/source/samples/node-show-response.json', 'api-ref/source/samples/node-create-response.json']",5,ef6dec3f18f8716f46d2e758ad72a5dda1610e98,2003089," ""description"": null,",,48,4
openstack%2Fsenlin~master~I4c2e72f14fb326b56b029ba8c2a90fc0a5dcb528,openstack/senlin,master,I4c2e72f14fb326b56b029ba8c2a90fc0a5dcb528,Bump openstacksdk to 0.24.0,MERGED,2019-02-05 17:47:40.000000000,2019-02-08 06:25:25.000000000,2019-02-08 06:25:25.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 25674}]","[{'number': 1, 'created': '2019-02-05 17:47:40.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/senlin/commit/8a1e44dfab2b73919110f98272db22a694bcf30e', 'message': 'Bump openstacksdk to 0.24.0\n\nThis is needed to pull in the following bug fixes from openstacksdk:\n- https://review.openstack.org/#/c/631362/\n- https://review.openstack.org/#/c/629110/\n\nChange-Id: I4c2e72f14fb326b56b029ba8c2a90fc0a5dcb528\n'}]",0,634998,8a1e44dfab2b73919110f98272db22a694bcf30e,7,3,1,27224,,,0,"Bump openstacksdk to 0.24.0

This is needed to pull in the following bug fixes from openstacksdk:
- https://review.openstack.org/#/c/631362/
- https://review.openstack.org/#/c/629110/

Change-Id: I4c2e72f14fb326b56b029ba8c2a90fc0a5dcb528
",git fetch https://review.opendev.org/openstack/senlin refs/changes/98/634998/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,8a1e44dfab2b73919110f98272db22a694bcf30e,bumpsdkversion,openstacksdk==0.24.0,openstacksdk==0.17.2,2,2
openstack%2Fsenlin~master~Id925f1d99ad60bdfc4cdb76b95ad6ab460bb1f0e,openstack/senlin,master,Id925f1d99ad60bdfc4cdb76b95ad6ab460bb1f0e,Make py35 api and functional test voting,MERGED,2019-02-04 17:41:52.000000000,2019-02-08 06:25:24.000000000,2019-02-08 06:25:24.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 25674}]","[{'number': 1, 'created': '2019-02-04 17:41:52.000000000', 'files': ['playbooks/legacy/senlin-dsvm-tempest-py35-functional/run.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/senlin/commit/ad3f7bc55b36234a71874f7c9b698cc6c1ee1355', 'message': 'Make py35 api and functional test voting\n\nChange-Id: Id925f1d99ad60bdfc4cdb76b95ad6ab460bb1f0e\n'}]",0,634756,ad3f7bc55b36234a71874f7c9b698cc6c1ee1355,7,4,1,27224,,,0,"Make py35 api and functional test voting

Change-Id: Id925f1d99ad60bdfc4cdb76b95ad6ab460bb1f0e
",git fetch https://review.opendev.org/openstack/senlin refs/changes/56/634756/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/senlin-dsvm-tempest-py35-functional/run.yaml', '.zuul.yaml']",2,ad3f7bc55b36234a71874f7c9b698cc6c1ee1355,py35funcvoting, - senlin-dsvm-tempest-py35-api - senlin-dsvm-tempest-py35-functional - senlin-dsvm-tempest-py35-api - senlin-dsvm-tempest-py35-functional, - senlin-dsvm-tempest-py35-api: voting: false - senlin-dsvm-tempest-py35-functional: voting: false,5,5
openstack%2Fcharm-nova-compute~stable%2F18.11~I39b017398b95f5901d9bc57ffa0c59ff59f3a359,openstack/charm-nova-compute,stable/18.11,I39b017398b95f5901d9bc57ffa0c59ff59f3a359,Install multipath dependencies when use-multipath is True,MERGED,2019-02-07 20:54:43.000000000,2019-02-08 06:19:33.000000000,2019-02-08 06:19:33.000000000,"[{'_account_id': 8992}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-07 20:54:43.000000000', 'files': ['hooks/nova_compute_utils.py', 'unit_tests/test_nova_compute_hooks.py', 'hooks/nova_compute_hooks.py', 'unit_tests/test_nova_compute_utils.py', 'config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/e464bbaa604148f2188537d82a3d41ebca152466', 'message': 'Install multipath dependencies when use-multipath is True\n\nThis change ensures that the multipath dependencies are installed\non the compute node when the use-multipath config flag is enabled.\n\nChange-Id: I39b017398b95f5901d9bc57ffa0c59ff59f3a359\nCloses-Bug: #1806830\n(cherry picked from commit a445a33add78f9a295b2f49ca1440ad4c1c9a4fe)\n'}]",0,635643,e464bbaa604148f2188537d82a3d41ebca152466,9,4,1,8992,,,0,"Install multipath dependencies when use-multipath is True

This change ensures that the multipath dependencies are installed
on the compute node when the use-multipath config flag is enabled.

Change-Id: I39b017398b95f5901d9bc57ffa0c59ff59f3a359
Closes-Bug: #1806830
(cherry picked from commit a445a33add78f9a295b2f49ca1440ad4c1c9a4fe)
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/43/635643/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/nova_compute_utils.py', 'unit_tests/test_nova_compute_hooks.py', 'hooks/nova_compute_hooks.py', 'unit_tests/test_nova_compute_utils.py', 'config.yaml']",5,e464bbaa604148f2188537d82a3d41ebca152466,bug/lp1806830," Use a multipath connection for iSCSI or FC volumes. Enabling this feature causes libvirt to login, discover and scan available targets before", Use a multipath connection for iSCSI volumes. Enabling this feature causes libvirt to discover and login to available iscsi targets before,66,2
openstack%2Fopenstack-helm-infra~master~Ia2b24b0452463857374ecb64d3ab766ac598b219,openstack/openstack-helm-infra,master,Ia2b24b0452463857374ecb64d3ab766ac598b219,WIP-Approach A:Ceph-Journal-Automation,ABANDONED,2018-12-03 22:46:45.000000000,2019-02-08 06:05:35.000000000,,"[{'_account_id': 22348}, {'_account_id': 22713}, {'_account_id': 24165}, {'_account_id': 28372}, {'_account_id': 29268}]","[{'number': 1, 'created': '2018-12-03 22:46:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1289bcabf836b40b480654fad18b365da6e8b149', 'message': 'WIP Ceph-Journal-Automation\n\nChange-Id: Ia2b24b0452463857374ecb64d3ab766ac598b219\n'}, {'number': 2, 'created': '2018-12-04 00:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/298764e873248e2941749c1e1562f99c019b430d', 'message': 'WIP Ceph-Journal-Automation\n\nChange-Id: Ia2b24b0452463857374ecb64d3ab766ac598b219\n'}, {'number': 3, 'created': '2018-12-04 12:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/368069b2aca0f0236b548ea9f19557423f932847', 'message': 'WIP-Approach A:Ceph-Journal-Automation\n\n- Continue to use /dev/sdc1 format for desired partition\nfor journal and appropriate partition will be created.\n- this PS uses sgdisk --new=3:0:+10240M /dev/sdc1\ncommand which, in this example, creates 3rd partition\n\nChange-Id: Ia2b24b0452463857374ecb64d3ab766ac598b219\n'}, {'number': 4, 'created': '2018-12-04 21:28:14.000000000', 'files': ['ceph-osd/templates/bin/osd/_init.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b14224a98ce25248d1b94a447a84b71fd5e54ea3', 'message': 'WIP-Approach A:Ceph-Journal-Automation\n\n- Continue to use /dev/sdc1 format for desired journal\npartition and appropriate partition will be created.\n- this PS uses sgdisk --new=3:0:+10240M /dev/sdc1\ncommand which, in this example, creates 3rd partition\n\nChange-Id: Ia2b24b0452463857374ecb64d3ab766ac598b219\n'}]",1,621720,b14224a98ce25248d1b94a447a84b71fd5e54ea3,12,5,4,24165,,,0,"WIP-Approach A:Ceph-Journal-Automation

- Continue to use /dev/sdc1 format for desired journal
partition and appropriate partition will be created.
- this PS uses sgdisk --new=3:0:+10240M /dev/sdc1
command which, in this example, creates 3rd partition

Change-Id: Ia2b24b0452463857374ecb64d3ab766ac598b219
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/20/621720/2 && git format-patch -1 --stdout FETCH_HEAD,['ceph-osd/templates/bin/osd/_init.sh.tpl'],1,1289bcabf836b40b480654fad18b365da6e8b149,,"function check_and_create_journal_partition { local J_DEVICE=${1} if [ -n ""${J_DEVICE}"" ]; then if ! [ -b $J_DEVICE ]; then local JPART=`echo ${J_DEVICE} | sed 's/\(.*[^0-9]\)[0-9]*$/\1/'` if ! [ -d /sys/block/`basename $JPART`/`basename $J_DEVICE` ]; then if [ -d /sys/block/`basename $JPART`/ ]; then local J_P_NUM=`echo ${J_DEVICE} | sed 's/.*[^0-9]\([0-9]*\)$/\1/'` echo ""Call journal_partition_creation ${JPART}, ${J_P_NUM}"" journal_partition_creation $JPART $J_P_NUM sgdisk --new=${J_P_NUM}:0:+10240M ${JPART} partprobe fi fi fi fi } else # -b /dev/vde6 failed. Let's check if we need to create partition. check_and_create_journal_partition ${OSD_JOURNAL}",,23,0
openstack%2Frpm-packaging~stable%2Fpike~Id6bdb65083eabffb606e4b4a8855e04c27aa9d7c,openstack/rpm-packaging,stable/pike,Id6bdb65083eabffb606e4b4a8855e04c27aa9d7c,Update os-brick to 1.15.7,MERGED,2019-02-07 15:07:39.000000000,2019-02-08 05:58:55.000000000,2019-02-08 05:58:55.000000000,"[{'_account_id': 1916}, {'_account_id': 5997}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-07 15:07:39.000000000', 'files': ['openstack/os-brick/os-brick.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d40a3a1c71beab1cde41252d82556070154245c9', 'message': 'Update os-brick to 1.15.7\n\nChange-Id: Id6bdb65083eabffb606e4b4a8855e04c27aa9d7c\n'}]",0,635529,d40a3a1c71beab1cde41252d82556070154245c9,11,8,1,14892,,,0,"Update os-brick to 1.15.7

Change-Id: Id6bdb65083eabffb606e4b4a8855e04c27aa9d7c
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/29/635529/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-brick/os-brick.spec.j2'],1,d40a3a1c71beab1cde41252d82556070154245c9,my_pike,Version: 1.15.7,Version: 1.15.6,1,1
openstack%2Fpython-senlinclient~master~Ic0a7313788503adbd1296ca05ee85e17f39399dc,openstack/python-senlinclient,master,Ic0a7313788503adbd1296ca05ee85e17f39399dc,Bump openstacksdk to 0.24.0,MERGED,2019-02-05 17:55:11.000000000,2019-02-08 05:55:42.000000000,2019-02-08 05:55:42.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 25674}]","[{'number': 1, 'created': '2019-02-05 17:55:11.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/c24f8593d5ba7b03806d6663fd81c2e678d5e280', 'message': 'Bump openstacksdk to 0.24.0\n\nThis is needed to pull in the following bug fixes from openstacksdk:\n- https://review.openstack.org/#/c/631362/\n- https://review.openstack.org/#/c/629110/\n\nChange-Id: Ic0a7313788503adbd1296ca05ee85e17f39399dc\n'}]",0,635001,c24f8593d5ba7b03806d6663fd81c2e678d5e280,6,3,1,27224,,,0,"Bump openstacksdk to 0.24.0

This is needed to pull in the following bug fixes from openstacksdk:
- https://review.openstack.org/#/c/631362/
- https://review.openstack.org/#/c/629110/

Change-Id: Ic0a7313788503adbd1296ca05ee85e17f39399dc
",git fetch https://review.opendev.org/openstack/python-senlinclient refs/changes/01/635001/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,c24f8593d5ba7b03806d6663fd81c2e678d5e280,bumpsdkversion,openstacksdk==0.24.0,openstacksdk==0.12.0,2,2
openstack%2Fopenstack-helm~master~I355ddbc9fb1dcd0a6100ee650afd54680ef9ffbd,openstack/openstack-helm,master,I355ddbc9fb1dcd0a6100ee650afd54680ef9ffbd,Horizon: Expose additional security config params,MERGED,2019-02-04 14:56:36.000000000,2019-02-08 05:51:14.000000000,2019-02-08 05:51:14.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 17896}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 22636}, {'_account_id': 23928}, {'_account_id': 24780}]","[{'number': 1, 'created': '2019-02-04 14:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6788e45eb811c438697d2e14f1b5f58088137f20', 'message': 'Horizon: Expose additional security config params\n\nExpose additional Horizon security params in accordance with the\nOpenStack Security Guide [0]\n\n- Check-Dashboard-03: Is DISALLOW_IFRAME_EMBED parameter set to True\n- Check-Dashboard-07: Is PASSWORD_AUTOCOMPLETE set to False\n\n[0] https://docs.openstack.org/security-guide/dashboard/checklist.html\n\nChange-Id: I355ddbc9fb1dcd0a6100ee650afd54680ef9ffbd\n'}, {'number': 2, 'created': '2019-02-06 08:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3c44881256f55b6b2b211069c9a79b4f17251bd4', 'message': 'Horizon: Expose additional security config params\n\nExpose additional Horizon security params in accordance with the\nOpenStack Security Guide [0]\n\n- Check-Dashboard-03: Is DISALLOW_IFRAME_EMBED parameter set to True\n- Check-Dashboard-07: Is PASSWORD_AUTOCOMPLETE set to False\n\n[0] https://docs.openstack.org/security-guide/dashboard/checklist.html\n\nChange-Id: I355ddbc9fb1dcd0a6100ee650afd54680ef9ffbd\n'}, {'number': 3, 'created': '2019-02-06 21:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c17502d73d6c6c5bfac5379c9a9f3b94fcb2aa9d', 'message': 'Horizon: Expose additional security config params\n\nExpose additional Horizon security params in accordance with the\nOpenStack Security Guide [0]\n\n- Check-Dashboard-03: Is DISALLOW_IFRAME_EMBED parameter set to True\n- Check-Dashboard-07: Is PASSWORD_AUTOCOMPLETE set to False\n\n[0] https://docs.openstack.org/security-guide/dashboard/checklist.html\n\nChange-Id: I355ddbc9fb1dcd0a6100ee650afd54680ef9ffbd\n'}, {'number': 4, 'created': '2019-02-07 14:19:39.000000000', 'files': ['horizon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e60c91e99d526b3e77a4c3f4675184f6b0383840', 'message': 'Horizon: Expose additional security config params\n\nExpose additional Horizon security params in accordance with the\nOpenStack Security Guide [0]\n\n- Check-Dashboard-03: Is DISALLOW_IFRAME_EMBED parameter set to True\n- Check-Dashboard-07: Is PASSWORD_AUTOCOMPLETE set to False\n\n[0] https://docs.openstack.org/security-guide/dashboard/checklist.html\n\nChange-Id: I355ddbc9fb1dcd0a6100ee650afd54680ef9ffbd\n'}]",14,634705,e60c91e99d526b3e77a4c3f4675184f6b0383840,31,10,4,17896,,,0,"Horizon: Expose additional security config params

Expose additional Horizon security params in accordance with the
OpenStack Security Guide [0]

- Check-Dashboard-03: Is DISALLOW_IFRAME_EMBED parameter set to True
- Check-Dashboard-07: Is PASSWORD_AUTOCOMPLETE set to False

[0] https://docs.openstack.org/security-guide/dashboard/checklist.html

Change-Id: I355ddbc9fb1dcd0a6100ee650afd54680ef9ffbd
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/05/634705/1 && git format-patch -1 --stdout FETCH_HEAD,['horizon/values.yaml'],1,6788e45eb811c438697d2e14f1b5f58088137f20,horizon_checklist," password_autocomplete: ""off"" disallow_iframe_embed: ""False"" HORIZON_CONFIG[""password_autocomplete""] = '{{ .Values.conf.horizon.local_settings.config.password_autocomplete }}' DISALLOW_IFRAME_EMBED = '{{ .Values.conf.horizon.local_settings.config.disallow_iframe_embed }}'"," #HORIZON_CONFIG[""password_autocomplete""] = ""off"" # DISALLOW_IFRAME_EMBED = True",4,2
openstack%2Fcongress~master~I7fbc12195f5d79d7df8da3bb835f3f89c1244efc,openstack/congress,master,I7fbc12195f5d79d7df8da3bb835f3f89c1244efc,move config init from congress_servers.py to bin/congress-server,MERGED,2019-01-31 23:03:39.000000000,2019-02-08 05:45:02.000000000,2019-02-08 05:45:02.000000000,"[{'_account_id': 18591}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2019-01-31 23:03:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/7d6bebdf16f072193d0d7081a4d10e3ff214be7f', 'message': ""init command line config options once\n\nPreviously, it was observed that two separate inits were needed,\none near the beginning of congress_server.py and the other\nat the beginning of congress_server.py:main().\nIt seems no longer necessary to do it at two separate places.\n\nHere we do the initialization in bin/congress-server because it's\nthe first place that sees the command line options.\n\nChange-Id: I7fbc12195f5d79d7df8da3bb835f3f89c1244efc\n""}, {'number': 2, 'created': '2019-02-01 01:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/40065e44a3cacae578c50ee175b66947e7b66d40', 'message': ""move config init from congress_servers.py to bin/congress-server\n\nThe need to execute config init before importing harness in\ncongress_servers.py causes a style violation in hacking 1.1.0.\n\nHere we move the initialization in bin/congress-server because it's\nthe first place that sees the command line options.\n\nIt also allows the work on upping hacking to 1.1.0 to go ahead.\n\nChange-Id: I7fbc12195f5d79d7df8da3bb835f3f89c1244efc\n""}, {'number': 3, 'created': '2019-02-05 01:36:44.000000000', 'files': ['congress/server/congress_server.py', 'bin/congress-server'], 'web_link': 'https://opendev.org/openstack/congress/commit/3b5b6b92a89156fcb0a084099ed22abd1659ba0f', 'message': ""move config init from congress_servers.py to bin/congress-server\n\nThe need to execute config init before importing harness in\ncongress_servers.py causes a style violation in hacking 1.1.0.\n\nHere we move the initialization in bin/congress-server because it's\nthe first place that sees the command line options.\n\nIt also allows the work on upping hacking to 1.1.0 to go ahead.\n\nChange-Id: I7fbc12195f5d79d7df8da3bb835f3f89c1244efc\n""}]",0,634339,3b5b6b92a89156fcb0a084099ed22abd1659ba0f,18,4,3,18591,,,0,"move config init from congress_servers.py to bin/congress-server

The need to execute config init before importing harness in
congress_servers.py causes a style violation in hacking 1.1.0.

Here we move the initialization in bin/congress-server because it's
the first place that sees the command line options.

It also allows the work on upping hacking to 1.1.0 to go ahead.

Change-Id: I7fbc12195f5d79d7df8da3bb835f3f89c1244efc
",git fetch https://review.opendev.org/openstack/congress refs/changes/39/634339/3 && git format-patch -1 --stdout FETCH_HEAD,"['congress/server/congress_server.py', 'bin/congress-server']",2,7d6bebdf16f072193d0d7081a4d10e3ff214be7f,hacking,import copy# set command line config options from congress.common import config config.init(copy.copy(sys.argv[1:])),,5,17
openstack%2Ftripleo-heat-templates~master~Iec86fa7ede5486a0489e5c176d2f47158eb853f7,openstack/tripleo-heat-templates,master,Iec86fa7ede5486a0489e5c176d2f47158eb853f7,renamed docker-puppet.py and related things to container-puppet,ABANDONED,2019-02-07 11:17:21.000000000,2019-02-08 05:39:35.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-07 11:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/07114c7078eec16425b7d80d15783a12f1c4e18b', 'message': 'renamed docker-puppet.py and related things to container-puppet\n\nChange-Id: Iec86fa7ede5486a0489e5c176d2f47158eb853f7\n'}, {'number': 2, 'created': '2019-02-07 14:39:39.000000000', 'files': ['common/deploy-steps.j2', 'puppet/role.role.j2.yaml', 'docker/container-puppet.py', 'common/deploy-steps-tasks.yaml', 'docker/services/README.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/74bb0648918a8e546e6474f55dd7cbc3115c53a8', 'message': 'renamed docker-puppet.py and related things to container-puppet\n\nChange-Id: Iec86fa7ede5486a0489e5c176d2f47158eb853f7\n'}]",0,635477,74bb0648918a8e546e6474f55dd7cbc3115c53a8,7,2,2,28223,,,0,"renamed docker-puppet.py and related things to container-puppet

Change-Id: Iec86fa7ede5486a0489e5c176d2f47158eb853f7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/77/635477/1 && git format-patch -1 --stdout FETCH_HEAD,"['common/deploy-steps.j2', 'puppet/role.role.j2.yaml', 'docker/container-puppet.py', 'common/deploy-steps-tasks.yaml', 'docker/services/README.rst']",5,07114c7078eec16425b7d80d15783a12f1c4e18b,docker-puppet/container-puppet," container-puppet.py tool directly. The task is executed only once keystone endpoints, database users, etc. See container-puppet.py"," docker-puppet.py tool directly. The task is executed only once keystone endpoints, database users, etc. See docker-puppet.py",54,54
openstack%2Fnova~stable%2Focata~If04cd802ce7184dc94f94804c743faebe0d4bd8c,openstack/nova,stable/ocata,If04cd802ce7184dc94f94804c743faebe0d4bd8c,Default embedded instance.flavor.is_public attribute,MERGED,2018-11-21 22:00:03.000000000,2019-02-08 05:09:49.000000000,2019-02-08 05:09:48.000000000,"[{'_account_id': 1004}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23312}, {'_account_id': 23512}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-11-21 22:00:03.000000000', 'files': ['nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b8702ded74aad826432dcedaf65535af52835aa5', 'message': ""Default embedded instance.flavor.is_public attribute\n\nIt is possible that really old instances don't actually have this\nattribute defined which can lead to raising exceptions when loading\ntheir embedded flavors from the database.\n\nThis patch fixes this by defaulting these values to true if they\nare not set.\n\nChange-Id: If04cd802ce7184dc94f94804c743faebe0d4bd8c\nCloses-Bug: #1789423\n(cherry picked from commit c4f6b0bf6cc903cf52c4b238c3771604dda174b8)\n(cherry picked from commit c689c09996c4a3da9e05ccd5178a4b5060949889)\n(cherry picked from commit 61bf7ae5795a3dfac7afc57bed9b4195cfdb6042)\n(cherry picked from commit 9a0d338c6775803516c5fdb99f0581e40957cb0c)\n""}]",0,619366,b8702ded74aad826432dcedaf65535af52835aa5,33,14,1,6873,,,0,"Default embedded instance.flavor.is_public attribute

It is possible that really old instances don't actually have this
attribute defined which can lead to raising exceptions when loading
their embedded flavors from the database.

This patch fixes this by defaulting these values to true if they
are not set.

Change-Id: If04cd802ce7184dc94f94804c743faebe0d4bd8c
Closes-Bug: #1789423
(cherry picked from commit c4f6b0bf6cc903cf52c4b238c3771604dda174b8)
(cherry picked from commit c689c09996c4a3da9e05ccd5178a4b5060949889)
(cherry picked from commit 61bf7ae5795a3dfac7afc57bed9b4195cfdb6042)
(cherry picked from commit 9a0d338c6775803516c5fdb99f0581e40957cb0c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/619366/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py']",2,b8702ded74aad826432dcedaf65535af52835aa5,bug/1789423," {'cur': objects.Flavor(disabled=False, is_public=True).obj_to_primitive(), 'old': objects.Flavor(disabled=True, is_public=False).obj_to_primitive(), # Assert the is_public values on the flavors self.assertTrue(inst.flavor.is_public) self.assertFalse(inst.old_flavor.is_public) self.assertTrue(inst.new_flavor.is_public)"," {'cur': objects.Flavor(disabled=False).obj_to_primitive(), 'old': objects.Flavor(disabled=True).obj_to_primitive(),",19,11
openstack%2Fcongress~stable%2Frocky~Ifaeea6fd0fdf649ba164f617737e4933845e21ab,openstack/congress,stable/rocky,Ifaeea6fd0fdf649ba164f617737e4933845e21ab,Set nova_servers_addresses_table feature flag False,MERGED,2019-02-08 00:23:19.000000000,2019-02-08 04:17:20.000000000,2019-02-08 04:17:20.000000000,"[{'_account_id': 18591}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2019-02-08 00:23:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/3421b8bf902f9c9ba12c44c09e42608e7824ce29', 'message': 'Set nova_servers_addresses_table feature flag False\n\nTo skip tests as appropriate on this stable branch.\n\nChange-Id: Ifaeea6fd0fdf649ba164f617737e4933845e21ab\n'}, {'number': 2, 'created': '2019-02-08 00:24:09.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/congress/commit/fe00d00337bc623e84620f06c02d3ba3c020f308', 'message': 'Set nova_servers_addresses_table feature flag False\n\nTo skip tests as appropriate on this stable branch.\n\nDepends-On: https://review.openstack.org/#/c/635698/\n\nChange-Id: Ifaeea6fd0fdf649ba164f617737e4933845e21ab\n'}]",1,635699,fe00d00337bc623e84620f06c02d3ba3c020f308,11,3,2,18591,,,0,"Set nova_servers_addresses_table feature flag False

To skip tests as appropriate on this stable branch.

Depends-On: https://review.openstack.org/#/c/635698/

Change-Id: Ifaeea6fd0fdf649ba164f617737e4933845e21ab
",git fetch https://review.opendev.org/openstack/congress refs/changes/99/635699/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,3421b8bf902f9c9ba12c44c09e42608e7824ce29,," iniset $TEMPEST_CONFIG congress-feature-enabled nova_servers_addresses_table ""False""",,1,0
openstack%2Fcongress-tempest-plugin~master~Ie32442c38051d70720ac39c119696d488a0fcf1e,openstack/congress-tempest-plugin,master,Ie32442c38051d70720ac39c119696d488a0fcf1e,nova_servers_addresses_table feature flag,MERGED,2019-02-08 00:20:03.000000000,2019-02-08 04:17:19.000000000,2019-02-08 04:17:19.000000000,"[{'_account_id': 18591}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2019-02-08 00:20:03.000000000', 'files': ['congress_tempest_plugin/config.py'], 'web_link': 'https://opendev.org/openstack/congress-tempest-plugin/commit/842fe2acc32885618727f59a09722382cd54bbc4', 'message': 'nova_servers_addresses_table feature flag\n\nChange-Id: Ie32442c38051d70720ac39c119696d488a0fcf1e\n'}]",1,635698,842fe2acc32885618727f59a09722382cd54bbc4,8,3,1,18591,,,0,"nova_servers_addresses_table feature flag

Change-Id: Ie32442c38051d70720ac39c119696d488a0fcf1e
",git fetch https://review.opendev.org/openstack/congress-tempest-plugin refs/changes/98/635698/1 && git format-patch -1 --stdout FETCH_HEAD,['congress_tempest_plugin/config.py'],1,842fe2acc32885618727f59a09722382cd54bbc4,," cfg.BoolOpt('nova_servers_addresses_table', default=True, help=""nova driver servers.addresses table available""),",,3,0
openstack%2Fpython-novaclient~master~I6da83057dda1f27afe98a2412bc0815f100f34a4,openstack/python-novaclient,master,I6da83057dda1f27afe98a2412bc0815f100f34a4,Remove deprecated novaclient.v2.contrib modules,MERGED,2019-02-07 06:01:10.000000000,2019-02-08 03:37:37.000000000,2019-02-08 03:37:37.000000000,"[{'_account_id': 679}, {'_account_id': 6873}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-07 06:01:10.000000000', 'files': ['novaclient/v2/contrib/migrations.py', 'novaclient/v2/contrib/host_evacuate.py', 'novaclient/v2/contrib/host_servers_migrate.py', 'doc/source/conf.py', 'novaclient/v2/contrib/__init__.py', 'novaclient/v2/contrib/host_evacuate_live.py', 'novaclient/client.py', 'novaclient/v2/contrib/deferred_delete.py', 'novaclient/v2/contrib/server_external_events.py', 'novaclient/v2/contrib/assisted_volume_snapshots.py', 'releasenotes/notes/remove-contrib-8b5e35ac8dddbab3.yaml', 'novaclient/v2/contrib/cells.py', 'novaclient/v2/client.py', 'novaclient/v2/contrib/instance_action.py', 'novaclient/v2/contrib/list_extensions.py', 'novaclient/v2/contrib/metadata_extensions.py', 'novaclient/tests/unit/test_client.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/8eb7d1c5cc0d30c9e68aeb62dd7c73e4377e9fb0', 'message': ""Remove deprecated novaclient.v2.contrib modules\n\nAll modules of novaclient.v2.contrib have been removed.\nThe 'only_contrib' parameter for the\n'novaclient.client.discover_extensions' method is no longer valid.\n\nChange-Id: I6da83057dda1f27afe98a2412bc0815f100f34a4\n""}]",1,635430,8eb7d1c5cc0d30c9e68aeb62dd7c73e4377e9fb0,9,3,1,7634,,,0,"Remove deprecated novaclient.v2.contrib modules

All modules of novaclient.v2.contrib have been removed.
The 'only_contrib' parameter for the
'novaclient.client.discover_extensions' method is no longer valid.

Change-Id: I6da83057dda1f27afe98a2412bc0815f100f34a4
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/30/635430/1 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/v2/contrib/migrations.py', 'novaclient/v2/contrib/host_evacuate.py', 'novaclient/v2/contrib/host_servers_migrate.py', 'doc/source/conf.py', 'novaclient/v2/contrib/__init__.py', 'novaclient/v2/contrib/host_evacuate_live.py', 'novaclient/client.py', 'novaclient/v2/contrib/deferred_delete.py', 'novaclient/v2/contrib/server_external_events.py', 'novaclient/v2/contrib/assisted_volume_snapshots.py', 'releasenotes/notes/remove-contrib-8b5e35ac8dddbab3.yaml', 'novaclient/v2/contrib/cells.py', 'novaclient/v2/client.py', 'novaclient/v2/contrib/instance_action.py', 'novaclient/v2/contrib/list_extensions.py', 'novaclient/v2/contrib/metadata_extensions.py', 'novaclient/tests/unit/test_client.py']",17,8eb7d1c5cc0d30c9e68aeb62dd7c73e4377e9fb0,remove_contrib,," @mock.patch('novaclient.client.warnings') @mock.patch(""novaclient.client._discover_via_entry_points"") @mock.patch(""novaclient.client._discover_via_python_path"") @mock.patch(""novaclient.extension.Extension"") def test_discover_extensions_only_contrib( self, mock_extension, mock_discover_via_python_path, mock_discover_via_entry_points, mock_warnings): version = novaclient.api_versions.APIVersion(""2.0"") self.assertEqual([], novaclient.client.discover_extensions( version, only_contrib=True)) self.assertFalse(mock_discover_via_python_path.called) self.assertFalse(mock_discover_via_entry_points.called) self.assertFalse(mock_extension.called) self.assertTrue(mock_warnings.warn.called) ",6,341
openstack%2Fkuryr-libnetwork~master~Iee23b16fd4905e3ce21ff8a463253641dc191541,openstack/kuryr-libnetwork,master,Iee23b16fd4905e3ce21ff8a463253641dc191541,Remove unnecessary code,MERGED,2018-10-28 21:14:11.000000000,2019-02-08 03:33:06.000000000,2018-10-29 12:50:16.000000000,"[{'_account_id': 6598}, {'_account_id': 9820}, {'_account_id': 11343}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-28 21:14:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/50b6e49c1782730b5784b2e212adb9966f1a7ad4', 'message': '[WIP] Remove unused code\n\nChange-Id: Iee23b16fd4905e3ce21ff8a463253641dc191541\n'}, {'number': 2, 'created': '2018-10-28 21:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/b573e09adae6d353164e116a229a3de701466e96', 'message': 'Remove unnecessary code\n\nThe population of mac address on creating port is unnecessary\nbecause the mac address will be updated on creating endpoint.\n\nRelated-Bug: #1800375\nChange-Id: Iee23b16fd4905e3ce21ff8a463253641dc191541\n'}, {'number': 3, 'created': '2018-10-29 04:49:02.000000000', 'files': ['kuryr_libnetwork/tests/unit/test_kuryr_ipam.py', 'kuryr_libnetwork/controllers.py'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/f0e48ebaa037572cb948ee6afd05485550e114a2', 'message': 'Remove unnecessary code\n\nThe population of mac address on creating port is unnecessary\nbecause the mac address will be updated on creating endpoint.\n\nRelated-Bug: #1800375\nChange-Id: Iee23b16fd4905e3ce21ff8a463253641dc191541\n'}]",0,613810,f0e48ebaa037572cb948ee6afd05485550e114a2,11,6,3,11536,,,0,"Remove unnecessary code

The population of mac address on creating port is unnecessary
because the mac address will be updated on creating endpoint.

Related-Bug: #1800375
Change-Id: Iee23b16fd4905e3ce21ff8a463253641dc191541
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/10/613810/3 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_libnetwork/tests/unit/test_kuryr_ipam.py', 'kuryr_libnetwork/controllers.py', 'tox.ini']",3,50b6e49c1782730b5784b2e212adb9966f1a7ad4,bug/1800375, stestr run {posargs}, {toxinidir}/tools/ostestr_compat_shim.sh {posargs},1,7
openstack%2Fneutron-lib~master~Ic3ce87a8c3417957afe7fc1e1ebd74dcff639737,openstack/neutron-lib,master,Ic3ce87a8c3417957afe7fc1e1ebd74dcff639737,Increase tempest-full jobs timeout to 3h,MERGED,2019-01-31 09:11:44.000000000,2019-02-08 02:02:07.000000000,2019-02-08 02:02:07.000000000,"[{'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-31 09:11:44.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/2297b4ac0430a67ada7d97e0797ea2d33182ff4c', 'message': ""Increase tempest-full jobs timeout to 3h\n\nJobs tempest-full and tempest-full-py3 are included in\nneutron-lib's check and gate queues because they are in\nlib-forward-testing and lib-forward-testing-python3 templates.\nBut in those templates those jobs have 2h timeout which is sometimes\nnot enough to complete job.\n\nIn Neutron repo we increased this timeout to 3h already some time ago\nand that helped a lot with such timeouts so lets increase it also\nin neuton-lib repo to avoid some rechecks.\n\nChange-Id: Ic3ce87a8c3417957afe7fc1e1ebd74dcff639737\n""}]",0,634143,2297b4ac0430a67ada7d97e0797ea2d33182ff4c,13,3,1,11975,,,0,"Increase tempest-full jobs timeout to 3h

Jobs tempest-full and tempest-full-py3 are included in
neutron-lib's check and gate queues because they are in
lib-forward-testing and lib-forward-testing-python3 templates.
But in those templates those jobs have 2h timeout which is sometimes
not enough to complete job.

In Neutron repo we increased this timeout to 3h already some time ago
and that helped a lot with such timeouts so lets increase it also
in neuton-lib repo to avoid some rechecks.

Change-Id: Ic3ce87a8c3417957afe7fc1e1ebd74dcff639737
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/43/634143/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2297b4ac0430a67ada7d97e0797ea2d33182ff4c,fix_tempest_full_timeouts," check: jobs: # This job comes from lib-forward-testing template, # but it is limited to 2h there and we want to set # for it 3h timeout - tempest-full: timeout: 10800 # This job comes from lib-forward-testing-python3 template, # but it is limited to 2h there and we want to set # for it 3h timeout - tempest-full-py3: timeout: 10800 gate: jobs: # This job comes from lib-forward-testing template, # but it is limited to 2h there and we want to set # for it 3h timeout - tempest-full: timeout: 10800 # This job comes from lib-forward-testing-python3 template, # but it is limited to 2h there and we want to set # for it 3h timeout - tempest-full-py3: timeout: 10800",,24,0
openstack%2Fpython-novaclient~master~I891761e6e152eabb4f9ea0526d51e93f15904c1b,openstack/python-novaclient,master,I891761e6e152eabb4f9ea0526d51e93f15904c1b,Remove args/kwargs from discover_extensions(),ABANDONED,2019-02-07 17:58:17.000000000,2019-02-08 02:02:03.000000000,,"[{'_account_id': 679}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-07 17:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/34960a4c1bcc61cdec8af5e38d59b9153d7422f7', 'message': ""Remove args/kwargs from discover_extensions()\n\nThe 'only_contrib' kwarg in the discover_extensions()\nmethod was deprecated in Pike:\n\n  Ie2e3fdc4e044f6eb304724d16a7d0f1f7ba705fd\n\nSo we should be able to remove that now, along with the\nargs/kwargs in the method signature.\n\nIt's not clear to me if this is used externally so I\nhave not provided a release note.\n\nChange-Id: I891761e6e152eabb4f9ea0526d51e93f15904c1b\n""}, {'number': 2, 'created': '2019-02-07 17:58:52.000000000', 'files': ['novaclient/tests/unit/test_discover.py', 'novaclient/tests/unit/test_client.py', 'novaclient/client.py', 'novaclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/7f372ffaa5ef120391a607842219c3ced4ef8de0', 'message': ""Remove args/kwargs from discover_extensions()\n\nThe 'only_contrib' kwarg in the discover_extensions()\nmethod was deprecated in Pike:\n\n  Ie2e3fdc4e044f6eb304724d16a7d0f1f7ba705fd\n\nSo we should be able to remove that now, along with the\nargs/kwargs in the method signature.\n\nIt's not clear to me if this is used externally so I\nhave not provided a release note.\n\nChange-Id: I891761e6e152eabb4f9ea0526d51e93f15904c1b\n""}]",0,635589,7f372ffaa5ef120391a607842219c3ced4ef8de0,4,2,2,6873,,,0,"Remove args/kwargs from discover_extensions()

The 'only_contrib' kwarg in the discover_extensions()
method was deprecated in Pike:

  Ie2e3fdc4e044f6eb304724d16a7d0f1f7ba705fd

So we should be able to remove that now, along with the
args/kwargs in the method signature.

It's not clear to me if this is used externally so I
have not provided a release note.

Change-Id: I891761e6e152eabb4f9ea0526d51e93f15904c1b
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/89/635589/1 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/tests/unit/test_discover.py', 'novaclient/tests/unit/test_client.py', 'novaclient/client.py', 'novaclient/shell.py']",4,34960a4c1bcc61cdec8af5e38d59b9153d7422f7,, self.extensions = client.discover_extensions(), self.extensions = client.discover_extensions(api_version),4,31
openstack%2Fcongress~master~I343021473227899ed9460038d3b082da6c90556c,openstack/congress,master,I343021473227899ed9460038d3b082da6c90556c,Remove -u root as mysql is executed with root user,ABANDONED,2018-08-20 00:52:17.000000000,2019-02-08 01:54:48.000000000,,"[{'_account_id': 18591}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2018-08-20 00:52:17.000000000', 'files': ['doc/source/install/index.rst'], 'web_link': 'https://opendev.org/openstack/congress/commit/c8585323ec99f91e54365ba497a13505dafc1e95', 'message': 'Remove -u root as mysql is executed with root user\n\nAs openstack installation guides suggest to run mysql with root shell\nuser, mysql will not ask for password, so in\ncontroller-install-*.rst ""-u root -p"" is useless.\n\nChange-Id: I343021473227899ed9460038d3b082da6c90556c\nRelated-Bug: #1785025\n'}]",0,593457,c8585323ec99f91e54365ba497a13505dafc1e95,8,3,1,16523,,,0,"Remove -u root as mysql is executed with root user

As openstack installation guides suggest to run mysql with root shell
user, mysql will not ask for password, so in
controller-install-*.rst ""-u root -p"" is useless.

Change-Id: I343021473227899ed9460038d3b082da6c90556c
Related-Bug: #1785025
",git fetch https://review.opendev.org/openstack/congress refs/changes/57/593457/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/index.rst'],1,c8585323ec99f91e54365ba497a13505dafc1e95,bug/1785025, # mysql, $ mysql -u root -p,1,1
openstack%2Felection~master~I45d6c4d4fd454ae426883006db1e58dbd373bbdf,openstack/election,master,I45d6c4d4fd454ae426883006db1e58dbd373bbdf,Support custom local projects and legacy projects,MERGED,2019-01-19 14:37:36.000000000,2019-02-08 01:41:30.000000000,2019-02-08 01:41:30.000000000,"[{'_account_id': 12898}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-19 14:37:36.000000000', 'files': ['openstack_election/owners.py', 'openstack_election/cmds/change_owners.py', 'openstack_election/utils.py'], 'web_link': 'https://opendev.org/openstack/election/commit/bb84857d151a208aba9ab001170aa645af52f383', 'message': 'Support custom local projects and legacy projects\n\nAdd --legacy and --projects options to the owners CLI, which make it\npossible to specify local alternatives for the legacy.yaml and\nprojects.yaml files. This enables easily running the tool for\nunofficial/non-OpenStack elections which use the same Gerrit and\nsimilar rules for determining their electorates other than the\nactual repository lists.\n\nChange-Id: I45d6c4d4fd454ae426883006db1e58dbd373bbdf\n'}]",0,631923,bb84857d151a208aba9ab001170aa645af52f383,7,3,1,5263,,,0,"Support custom local projects and legacy projects

Add --legacy and --projects options to the owners CLI, which make it
possible to specify local alternatives for the legacy.yaml and
projects.yaml files. This enables easily running the tool for
unofficial/non-OpenStack elections which use the same Gerrit and
similar rules for determining their electorates other than the
actual repository lists.

Change-Id: I45d6c4d4fd454ae426883006db1e58dbd373bbdf
",git fetch https://review.opendev.org/openstack/election refs/changes/23/631923/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_election/owners.py', 'openstack_election/cmds/change_owners.py', 'openstack_election/utils.py']",3,bb84857d151a208aba9ab001170aa645af52f383,,"def load_yaml(yaml_stream): """"""Retrieve a file from the cgit interface"""""" return yaml.safe_load(yaml_stream) return load_yaml(raw.text) data = load_yaml(urlopen(url).read())", return yaml.safe_load(raw.text) data = yaml.safe_load(urlopen(url).read()),38,12
openstack%2Felection~master~I9e0220dbdb241ab6bd464fd5cdfcaf5f3e2a6399,openstack/election,master,I9e0220dbdb241ab6bd464fd5cdfcaf5f3e2a6399,Don't encode contributor names in invites,MERGED,2019-01-19 14:37:36.000000000,2019-02-08 01:41:29.000000000,2019-02-08 01:41:29.000000000,"[{'_account_id': 12898}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-19 14:37:36.000000000', 'files': ['openstack_election/owners.py'], 'web_link': 'https://opendev.org/openstack/election/commit/549cc393191b671707631485d89f81d16716c9c9', 'message': ""Don't encode contributor names in invites\n\nNow that we don't support Python 2.7 with this tooling, we can drop\nthe explicit encoding in invitee names. Without this change, they're\nrecorded as explicit byte sequences instead of normal UTF-8 strings.\n\nChange-Id: I9e0220dbdb241ab6bd464fd5cdfcaf5f3e2a6399\n""}]",0,631922,549cc393191b671707631485d89f81d16716c9c9,7,3,1,5263,,,0,"Don't encode contributor names in invites

Now that we don't support Python 2.7 with this tooling, we can drop
the explicit encoding in invitee names. Without this change, they're
recorded as explicit byte sequences instead of normal UTF-8 strings.

Change-Id: I9e0220dbdb241ab6bd464fd5cdfcaf5f3e2a6399
",git fetch https://review.opendev.org/openstack/election refs/changes/22/631922/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_election/owners.py'],1,549cc393191b671707631485d89f81d16716c9c9,, invite.append(owners[owner]['name']), invite.append(owners[owner]['name'].encode('utf-8')),1,1
openstack%2Fcongress-tempest-plugin~master~Ia1120674e44bfa3042709bfa0e12011103640b80,openstack/congress-tempest-plugin,master,Ia1120674e44bfa3042709bfa0e12011103640b80,Update home-page,MERGED,2019-01-11 09:22:18.000000000,2019-02-08 01:17:28.000000000,2019-02-08 01:17:28.000000000,"[{'_account_id': 17499}, {'_account_id': 18591}, {'_account_id': 22348}, {'_account_id': 25553}, {'_account_id': 26297}, {'_account_id': 27078}]","[{'number': 1, 'created': '2019-01-11 09:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-tempest-plugin/commit/353cf93bc42be835dcabf45f639ab33ef80e0da4', 'message': 'Updatae home-page\n\nChange-Id: Ia1120674e44bfa3042709bfa0e12011103640b80\n'}, {'number': 2, 'created': '2019-01-11 18:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-tempest-plugin/commit/3c71cdd1d26acbc32ac08e9eb7c1049645ce387f', 'message': 'Update home-page\n\nChange-Id: Ia1120674e44bfa3042709bfa0e12011103640b80\n'}, {'number': 3, 'created': '2019-02-07 22:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-tempest-plugin/commit/c0149eb6ec0c4063e8b4accbf1a108b0015928d9', 'message': 'Update home-page\n\nChange-Id: Ia1120674e44bfa3042709bfa0e12011103640b80\n'}, {'number': 4, 'created': '2019-02-07 22:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-tempest-plugin/commit/1ede839bbdbe39c8607575c48d3b22c3f55df945', 'message': 'Update home-page\n\nChange-Id: Ia1120674e44bfa3042709bfa0e12011103640b80\n'}, {'number': 5, 'created': '2019-02-07 22:29:38.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/congress-tempest-plugin/commit/773f39710de3ca0c50673c1eac2f41f3b413c91b', 'message': 'Update home-page\n\nChange-Id: Ia1120674e44bfa3042709bfa0e12011103640b80\n'}]",0,630091,773f39710de3ca0c50673c1eac2f41f3b413c91b,22,6,5,28935,,,0,"Update home-page

Change-Id: Ia1120674e44bfa3042709bfa0e12011103640b80
",git fetch https://review.opendev.org/openstack/congress-tempest-plugin refs/changes/91/630091/5 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,353cf93bc42be835dcabf45f639ab33ef80e0da4,,home-page = https://git.openstack.org/cgit/openstack/congress-tempest-plugin,home-page = http://www.openstack.org/,1,1
openstack%2Fcongress~master~I82ad0bd125ae207fe74ebccb2f0b424e8a79acbd,openstack/congress,master,I82ad0bd125ae207fe74ebccb2f0b424e8a79acbd,Add required checks in all cases of policy create API,MERGED,2018-12-08 23:50:13.000000000,2019-02-07 23:59:07.000000000,2019-02-07 23:59:07.000000000,"[{'_account_id': 11278}, {'_account_id': 18591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-08 23:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/abc8c16247bc02ecceee4b83165e72ebde54b3ea', 'message': 'Add required checks in all cases of policy create API\n\nSome required check (e.g. no id specified) is missing in some newer\ncases of policy creation. This patch fixes the oversight.\n\nChange-Id: I82ad0bd125ae207fe74ebccb2f0b424e8a79acbd\n'}, {'number': 2, 'created': '2018-12-10 04:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/71607912d791c4bdaaa57e5051e91b82694741fc', 'message': 'Add required checks in all cases of policy create API\n\nSome required check (e.g. no id specified) is missing in some newer\ncases of policy creation. This patch fixes the oversight.\n\nChange-Id: I82ad0bd125ae207fe74ebccb2f0b424e8a79acbd\n'}, {'number': 3, 'created': '2018-12-10 04:32:54.000000000', 'files': ['congress/api/policy_model.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/3153c06ae9a8570187f060e33ba396804eb7c20e', 'message': 'Add required checks in all cases of policy create API\n\nSome required check (e.g. no id specified) is missing in some newer\ncases of policy creation. This patch fixes the oversight.\n\nChange-Id: I82ad0bd125ae207fe74ebccb2f0b424e8a79acbd\n'}]",2,623681,3153c06ae9a8570187f060e33ba396804eb7c20e,12,3,3,18591,,,0,"Add required checks in all cases of policy create API

Some required check (e.g. no id specified) is missing in some newer
cases of policy creation. This patch fixes the oversight.

Change-Id: I82ad0bd125ae207fe74ebccb2f0b424e8a79acbd
",git fetch https://review.opendev.org/openstack/congress refs/changes/81/623681/2 && git format-patch -1 --stdout FETCH_HEAD,['congress/api/policy_model.py'],1,abc8c16247bc02ecceee4b83165e72ebde54b3ea,(HEAD," self._check_create_policy(id_, item, require_name=False) self._check_create_policy(id_, item) def _check_create_policy(self, id_, item, require_name=True):"," def _check_create_policy(self, id_, item):",4,1
openstack%2Ftripleo-heat-templates~master~Idf8eab2c0290c02908ffd3284543046cdf8aa5ba,openstack/tripleo-heat-templates,master,Idf8eab2c0290c02908ffd3284543046cdf8aa5ba,Move container-image-prepare.j2.yaml to deployment dir,MERGED,2019-02-06 21:27:26.000000000,2019-02-07 23:49:37.000000000,2019-02-07 23:49:36.000000000,"[{'_account_id': 360}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-06 21:27:26.000000000', 'files': ['sample-env-generator/standalone.yaml', 'environments/undercloud.yaml', 'environments/standalone/standalone-tripleo.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/container-image-prepare/container-image-prepare-baremetal-ansible.j2.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2e899f3943700fd7931652dfcb44fd6f17260722', 'message': 'Move container-image-prepare.j2.yaml to deployment dir\n\nChange-Id: Idf8eab2c0290c02908ffd3284543046cdf8aa5ba\n'}]",0,635318,2e899f3943700fd7931652dfcb44fd6f17260722,8,4,1,4571,,,0,"Move container-image-prepare.j2.yaml to deployment dir

Change-Id: Idf8eab2c0290c02908ffd3284543046cdf8aa5ba
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/635318/1 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/standalone.yaml', 'environments/undercloud.yaml', 'environments/standalone/standalone-tripleo.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/container-image-prepare/container-image-prepare-baremetal-ansible.j2.yaml', 'zuul.d/layout.yaml']",6,2e899f3943700fd7931652dfcb44fd6f17260722,bp/services-yaml-flattening, - ^deployment/container-image-prepare/.*$ - ^deployment/container-image-prepare/.*$, - ^(docker|puppet)/services/.*container-image-prepare.*$ - ^(docker|puppet)/services/.*container-image-prepare.*$,6,6
openstack%2Fnetworking-baremetal~stable%2Frocky~Ia85e1f2d603f3bae50697584375896dedb574f03,openstack/networking-baremetal,stable/rocky,Ia85e1f2d603f3bae50697584375896dedb574f03,Rocky - Fix docs job,MERGED,2019-02-07 08:34:33.000000000,2019-02-07 23:12:55.000000000,2019-02-07 23:12:55.000000000,"[{'_account_id': 10343}, {'_account_id': 12898}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-02-07 08:34:33.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/a5a1d08bb845df94a14bb4b502f89e892fd686a9', 'message': 'Rocky - Fix docs job\n\nUpdate requirements and lower constraints to use the\n13.0.0 version of neutron.\n\nChange-Id: Ia85e1f2d603f3bae50697584375896dedb574f03\n'}]",0,635454,a5a1d08bb845df94a14bb4b502f89e892fd686a9,10,5,1,24245,,,0,"Rocky - Fix docs job

Update requirements and lower constraints to use the
13.0.0 version of neutron.

Change-Id: Ia85e1f2d603f3bae50697584375896dedb574f03
",git fetch https://review.opendev.org/openstack/networking-baremetal refs/changes/54/635454/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,a5a1d08bb845df94a14bb4b502f89e892fd686a9,fix-rocky-docs-job,neutron==13.0.0,neutron==13.0.0.0b1,2,2
openstack%2Fcongress~master~I03e36ea99f0a91eb7cf7a3e40d99cb54062ad363,openstack/congress,master,I03e36ea99f0a91eb7cf7a3e40d99cb54062ad363,Omit the twice occured words in  CHANGES.txt,ABANDONED,2019-01-07 01:49:53.000000000,2019-02-07 22:32:47.000000000,,"[{'_account_id': 18591}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2019-01-07 01:49:53.000000000', 'files': ['thirdparty/antlr3-antlr-3.5/CHANGES.txt'], 'web_link': 'https://opendev.org/openstack/congress/commit/10d5ca3c4d47208815bd8bbabfc2054353a4676b', 'message': 'Omit the twice occured words in  CHANGES.txt\n\nChange-Id: I03e36ea99f0a91eb7cf7a3e40d99cb54062ad363\n'}]",0,628809,10d5ca3c4d47208815bd8bbabfc2054353a4676b,5,3,1,29423,,,0,"Omit the twice occured words in  CHANGES.txt

Change-Id: I03e36ea99f0a91eb7cf7a3e40d99cb54062ad363
",git fetch https://review.opendev.org/openstack/congress refs/changes/09/628809/1 && git format-patch -1 --stdout FETCH_HEAD,['thirdparty/antlr3-antlr-3.5/CHANGES.txt'],1,10d5ca3c4d47208815bd8bbabfc2054353a4676b,," and trees ^( <root> <children> ). You have (...)?, (...)*, (...)+"," and trees ^( <root> <children> ). You have have (...)?, (...)*, (...)+",1,1
openstack%2Fopenstack-ansible-os_glance~master~I32be3b07344d1f4846704b120d1c075e42472176,openstack/openstack-ansible-os_glance,master,I32be3b07344d1f4846704b120d1c075e42472176,Correct notification driver,ABANDONED,2019-02-07 22:29:33.000000000,2019-02-07 22:31:11.000000000,,[],"[{'number': 1, 'created': '2019-02-07 22:29:33.000000000', 'files': ['templates/glance-registry.conf.j2', 'templates/glance-api.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/8469c9c4687044c5fdc24f1c405a043f359086c4', 'message': 'Correct notification driver\n\nThe notification driver setup was resulting in the driver and connection string\non the same line. This is caused by the case statement and how jinja formats\nthe template when a case statement is present. This change modifies how the\ndriver string is created using a ternary, which will eliminate the case\nstatement and render the value of the diver correctly.\n\nChange-Id: I32be3b07344d1f4846704b120d1c075e42472176\n'}]",0,635672,8469c9c4687044c5fdc24f1c405a043f359086c4,2,0,1,7353,,,0,"Correct notification driver

The notification driver setup was resulting in the driver and connection string
on the same line. This is caused by the case statement and how jinja formats
the template when a case statement is present. This change modifies how the
driver string is created using a ternary, which will eliminate the case
statement and render the value of the diver correctly.

Change-Id: I32be3b07344d1f4846704b120d1c075e42472176
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/72/635672/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/glance-registry.conf.j2', 'templates/glance-api.conf.j2']",2,8469c9c4687044c5fdc24f1c405a043f359086c4,,"driver = {{ (glance_ceilometer_enabled | bool) | ternary('messagingv2', 'noop') }}",driver = {% if glance_ceilometer_enabled %}messagingv2{% else %}noop{% endif %},2,2
openstack%2Fcongress-tempest-plugin~master~I70bcf67982e9dd7dd4093ee6439269266b08cf88,openstack/congress-tempest-plugin,master,I70bcf67982e9dd7dd4093ee6439269266b08cf88,Change openstack-dev to openstack-discuss in setup.cfg,ABANDONED,2019-01-22 08:34:14.000000000,2019-02-07 22:30:38.000000000,,"[{'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2019-01-22 08:34:14.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/congress-tempest-plugin/commit/fe5745bed61d303e761d7ec4d0d12589267e9f0d', 'message': 'Change openstack-dev to openstack-discuss in setup.cfg\n\nChange-Id: I70bcf67982e9dd7dd4093ee6439269266b08cf88\n'}]",0,632304,fe5745bed61d303e761d7ec4d0d12589267e9f0d,4,2,1,29423,,,0,"Change openstack-dev to openstack-discuss in setup.cfg

Change-Id: I70bcf67982e9dd7dd4093ee6439269266b08cf88
",git fetch https://review.opendev.org/openstack/congress-tempest-plugin refs/changes/04/632304/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,fe5745bed61d303e761d7ec4d0d12589267e9f0d,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fopenstack-ansible~master~Ie50d26a7e6295ee15cf2ce43e78c7c808752dbc3,openstack/openstack-ansible,master,Ie50d26a7e6295ee15cf2ce43e78c7c808752dbc3,Add release note for wrapper fix,MERGED,2019-02-07 15:52:21.000000000,2019-02-07 22:29:10.000000000,2019-02-07 22:29:09.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-02-07 15:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c0e0b9f3f7f33517dce31b0f7e9b4fbc3d75cf98', 'message': 'Add release note for wrapper fix\n\nDepends-On: https://review.openstack.org/582633\nChange-Id: Ie50d26a7e6295ee15cf2ce43e78c7c808752dbc3\n'}, {'number': 2, 'created': '2019-02-07 15:52:57.000000000', 'files': ['releasenotes/notes/osa-wrapper-path-fix-91e8c56b72c968b0.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e7f11623463277210a79d2708e5d716542d441e2', 'message': 'Add release note for wrapper fix\n\nDepends-On: https://review.openstack.org/633759\nChange-Id: Ie50d26a7e6295ee15cf2ce43e78c7c808752dbc3\n'}]",0,635547,e7f11623463277210a79d2708e5d716542d441e2,12,4,2,6816,,,0,"Add release note for wrapper fix

Depends-On: https://review.openstack.org/633759
Change-Id: Ie50d26a7e6295ee15cf2ce43e78c7c808752dbc3
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/47/635547/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/osa-wrapper-path-fix-91e8c56b72c968b0.yaml'],1,c0e0b9f3f7f33517dce31b0f7e9b4fbc3d75cf98,fix_osa_wrapper,"--- fixes: - | In https://review.openstack.org/582633 an adjustment was made to the ``openstack-ansible`` wrapper which mistakenly changed the intended behaviour. The wrapper is only meant to include the extra-vars and invoke the inventory if ``ansible-playbook`` was executed from inside the ``openstack-ansible`` repository clone (typically ``/opt/openstack-ansible``), but the change made the path irrelevant. This has now been fixed - ``ansible-playbook`` and ``ansible`` will only invoke the inventory and include extra vars if it is invoked from inside the git clone path. ",,12,0
openstack%2Fdevstack-plugin-ceph~master~Ib0924e42551d25b68ee22ffb9b52caba302ac19c,openstack/devstack-plugin-ceph,master,Ib0924e42551d25b68ee22ffb9b52caba302ac19c,Always use luminous for manila,MERGED,2019-02-05 10:21:42.000000000,2019-02-07 22:18:42.000000000,2019-02-07 22:18:42.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-05 10:21:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/16b9eaeef67d3a08cf9412cadeea6b23ac912332', 'message': 'Always use luminous for manila\n\nBring CentOS in line with ubuntu and use luminous rather than\njewel for all manila builds.\n\nChange-Id: Ib0924e42551d25b68ee22ffb9b52caba302ac19c\n'}, {'number': 2, 'created': '2019-02-07 18:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/225801528566cfa81e148fff2258b7fe270e5c03', 'message': 'Always use luminous for manila\n\nBring CentOS in line with ubuntu and use luminous rather than\njewel for all manila builds.\n\nChange-Id: Ib0924e42551d25b68ee22ffb9b52caba302ac19c\n'}, {'number': 3, 'created': '2019-02-07 19:48:55.000000000', 'files': ['devstack/lib/ceph'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/74a88c0d3b902c8407e5cbf4cc3919b6585382e1', 'message': 'Always use luminous for manila\n\nBring CentOS in line with ubuntu and use luminous rather than\njewel for all manila builds.\n\nChange-Id: Ib0924e42551d25b68ee22ffb9b52caba302ac19c\n'}]",0,634905,74a88c0d3b902c8407e5cbf4cc3919b6585382e1,14,2,3,9003,,,0,"Always use luminous for manila

Bring CentOS in line with ubuntu and use luminous rather than
jewel for all manila builds.

Change-Id: Ib0924e42551d25b68ee22ffb9b52caba302ac19c
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/05/634905/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ceph'],1,16b9eaeef67d3a08cf9412cadeea6b23ac912332,," configure_repo_ceph ""yum"" ""luminous"" ""${DISTRO_TYPE}"" ""${RELEASE}"" configure_repo_nfsganesha ""yum"" ""ceph_luminous"" ""${DISTRO_TYPE}"" ""${RELEASE}"""," if [ $DISTRO_TYPE == 'centos' ]; then configure_repo_ceph ""yum"" ""luminous"" ""${DISTRO_TYPE}"" ""${RELEASE}"" configure_repo_nfsganesha ""yum"" ""ceph_luminous"" ""${DISTRO_TYPE}"" ""${RELEASE}"" fi else if [ $DISTRO_TYPE == 'centos' ]; then configure_repo_ceph ""yum"" ""jewel"" ""${DISTRO_TYPE}"" ""${RELEASE}"" fi",2,8
openstack%2Fpuppet-nova~master~Ieba521af0ec02eeabe012f66ed87bf11be3883d5,openstack/puppet-nova,master,Ieba521af0ec02eeabe012f66ed87bf11be3883d5,Install python rbd/rados from nova::compute::rbd,ABANDONED,2019-02-07 18:33:09.000000000,2019-02-07 21:47:58.000000000,,[{'_account_id': 23181}],"[{'number': 1, 'created': '2019-02-07 18:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/0301b79e964079df33cb6597d607d767abedfec8', 'message': 'Install python rbd/rados from nova::compute::rbd\n\nThis changes so that the python3-rbd and python3-rados packages\nis installed on Debian based and does nothing on RHEL based.\n\nChange-Id: Ieba521af0ec02eeabe012f66ed87bf11be3883d5\n'}, {'number': 2, 'created': '2019-02-07 20:31:28.000000000', 'files': ['manifests/compute/rbd.pp', 'spec/classes/nova_compute_rbd_spec.rb', 'manifests/params.pp', 'releasenotes/notes/nova-compute-rbd-python-packages-c055477b3e3e3fc3.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/882cc3b221f25df93e7fbc2f199c53f6562d349c', 'message': 'Install python rbd/rados from nova::compute::rbd\n\nThis changes so that the python3-rbd and python3-rados packages\nis installed on Debian based and does nothing on RHEL based.\n\nChange-Id: Ieba521af0ec02eeabe012f66ed87bf11be3883d5\n'}]",0,635595,882cc3b221f25df93e7fbc2f199c53f6562d349c,6,1,2,16137,,,0,"Install python rbd/rados from nova::compute::rbd

This changes so that the python3-rbd and python3-rados packages
is installed on Debian based and does nothing on RHEL based.

Change-Id: Ieba521af0ec02eeabe012f66ed87bf11be3883d5
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/95/635595/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute/rbd.pp', 'spec/classes/nova_compute_rbd_spec.rb', 'manifests/params.pp', 'releasenotes/notes/nova-compute-rbd-python-packages-c055477b3e3e3fc3.yaml']",4,0301b79e964079df33cb6597d607d767abedfec8,ubuntu-py3,--- features: - | The nova::compute::rbd class now installs the python3-rados and python3-rbd packages on Debian based installtions if the parameter manage_ceph_client is set to true in that class (default value is true). upgrade: - | The nova::compute::rbd class now installs the python3-rados and python3-rbd packages if manage_ceph_client is set to true (default value is true). ,,85,9
openstack%2Foctavia~master~I74af1b328b78eaca93f0d340a1b58537837b39b0,openstack/octavia,master,I74af1b328b78eaca93f0d340a1b58537837b39b0,[WIP] Ensure drivers only need to be loaded once,ABANDONED,2019-02-07 08:01:34.000000000,2019-02-07 21:47:36.000000000,,"[{'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-02-07 08:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ce6fba51fab2d37b363ccb65c63c00f0b8d5a910', 'message': 'Ensure drivers only need to be loaded once\n\nChange-Id: I74af1b328b78eaca93f0d340a1b58537837b39b0\n'}, {'number': 2, 'created': '2019-02-07 21:38:34.000000000', 'files': ['octavia/common/utils.py', 'octavia/tests/unit/controller/healthmanager/health_drivers/test_update_db.py', 'octavia/tests/unit/amphorae/drivers/health/test_heartbeat_udp.py', 'octavia/amphorae/drivers/health/heartbeat_udp.py', 'octavia/controller/healthmanager/health_drivers/update_db.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/f6bdc9fb28152def3890a043855e63bb22fd28ba', 'message': '[WIP] Ensure drivers only need to be loaded once\n\nChange-Id: I74af1b328b78eaca93f0d340a1b58537837b39b0\n'}]",0,635447,f6bdc9fb28152def3890a043855e63bb22fd28ba,5,2,2,22623,,,0,"[WIP] Ensure drivers only need to be loaded once

Change-Id: I74af1b328b78eaca93f0d340a1b58537837b39b0
",git fetch https://review.opendev.org/openstack/octavia refs/changes/47/635447/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/utils.py', 'octavia/tests/unit/controller/healthmanager/health_drivers/test_update_db.py', 'octavia/tests/unit/amphorae/drivers/health/test_heartbeat_udp.py', 'octavia/amphorae/drivers/health/heartbeat_udp.py', 'octavia/controller/healthmanager/health_drivers/update_db.py']",5,ce6fba51fab2d37b363ccb65c63c00f0b8d5a910,635447," self.compute = stevedore_driver.DriverManager( namespace='octavia.compute.drivers', name=CONF.controller_worker.compute_driver, invoke_on_load=True ).driver self.compute.delete(amp.compute_id)"," compute = stevedore_driver.DriverManager( namespace='octavia.compute.drivers', name=CONF.controller_worker.compute_driver, invoke_on_load=True ).driver compute.delete(amp.compute_id)",46,53
openstack%2Fneutron~master~I7217d36ff0413a7381e854b62ad1b55c5b2a803a,openstack/neutron,master,I7217d36ff0413a7381e854b62ad1b55c5b2a803a,[WIP] Turn on ovsdb debugging,ABANDONED,2018-12-03 13:38:12.000000000,2019-02-07 21:40:35.000000000,,"[{'_account_id': 5756}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2018-12-03 13:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0213349f3fc59deba57dc58677a7c31c3112dae1', 'message': '[WIP] Turn on ovsdb debugging\n\nChange-Id: I7217d36ff0413a7381e854b62ad1b55c5b2a803a\nRelated-Bug: #1802640\n'}, {'number': 2, 'created': '2018-12-03 18:15:15.000000000', 'files': ['neutron/conf/agent/ovsdb_api.py', 'neutron/common/config.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd7d9289d6fb7165abb35718b1a0e4415f07301c', 'message': '[WIP] Turn on ovsdb debugging\n\nChange-Id: I7217d36ff0413a7381e854b62ad1b55c5b2a803a\nRelated-Bug: #1802640\n'}]",0,621572,dd7d9289d6fb7165abb35718b1a0e4415f07301c,12,6,2,5756,,,0,"[WIP] Turn on ovsdb debugging

Change-Id: I7217d36ff0413a7381e854b62ad1b55c5b2a803a
Related-Bug: #1802640
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/621572/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/ovsdb/impl_idl.py'],1,0213349f3fc59deba57dc58677a7c31c3112dae1,bug/1802640, max_level = None # if cfg.CONF.OVS.ovsdb_debug else vlog.INFO, max_level = None if cfg.CONF.OVS.ovsdb_debug else vlog.INFO,1,1
openstack%2Fnetworking-ovn~stable%2Fpike~Idec3344136a85d73969ed8e11d358b66c14d9a4d,openstack/networking-ovn,stable/pike,Idec3344136a85d73969ed8e11d358b66c14d9a4d,Set ovsdb probe interval to 1 minute on the client side,ABANDONED,2018-06-01 19:37:34.000000000,2019-02-07 21:39:06.000000000,,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8788}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-06-01 19:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5726206073fd17af294ddddbf5effb570f009f70', 'message': 'Set ovsdb probe interval to 1 minute on the client side\n\nWhen a failover of ovsdb-server occurs, neither neutron-server nor\novn-metadata-agent detects the disconnection. Even though this should\nbe fixed in OVS Python IDL, this patch is adding a default probe\ninterval from the client side to 60 seconds. This way, when the\nconnection to the VIP is lost, clients will reconnect and the service\nwill be back up again.\n\nChange-Id: Idec3344136a85d73969ed8e11d358b66c14d9a4d\nCloses-Bug: #1772656\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit 90c2a1c26f5ec276a1154648538efd373e458afa)\n'}, {'number': 2, 'created': '2018-08-23 18:24:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3b71f47537210eaa6ec167d4b093c90b748adc15', 'message': 'Set ovsdb probe interval to 1 minute on the client side\n\nWhen a failover of ovsdb-server occurs, neither neutron-server nor\novn-metadata-agent detects the disconnection. Even though this should\nbe fixed in OVS Python IDL, this patch is adding a default probe\ninterval from the client side to 60 seconds. This way, when the\nconnection to the VIP is lost, clients will reconnect and the service\nwill be back up again.\n\nChange-Id: Idec3344136a85d73969ed8e11d358b66c14d9a4d\nCloses-Bug: #1772656\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit 90c2a1c26f5ec276a1154648538efd373e458afa)\n'}, {'number': 3, 'created': '2018-08-23 18:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ef509a148d8bfd51cc3961207d951d7299d555b1', 'message': 'Set ovsdb probe interval to 1 minute on the client side\n\nWhen a failover of ovsdb-server occurs, neither neutron-server nor\novn-metadata-agent detects the disconnection. Even though this should\nbe fixed in OVS Python IDL, this patch is adding a default probe\ninterval from the client side to 60 seconds. This way, when the\nconnection to the VIP is lost, clients will reconnect and the service\nwill be back up again.\n\nChange-Id: Idec3344136a85d73969ed8e11d358b66c14d9a4d\nCloses-Bug: #1772656\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit 90c2a1c26f5ec276a1154648538efd373e458afa)\n'}, {'number': 4, 'created': '2018-10-30 20:28:05.000000000', 'files': ['releasenotes/notes/ovsdb-probe-interval-to-60-secs-cb4d3c5ec930f4a8.yaml', 'networking_ovn/common/config.py', 'networking_ovn/tests/unit/ovsdb/test_impl_idl_ovn.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/fc6db7cd7e86b55e4dd52b435316105cdcf28d7c', 'message': 'Set ovsdb probe interval to 1 minute on the client side\n\nWhen a failover of ovsdb-server occurs, neither neutron-server nor\novn-metadata-agent detects the disconnection. Even though this should\nbe fixed in OVS Python IDL, this patch is adding a default probe\ninterval from the client side to 60 seconds. This way, when the\nconnection to the VIP is lost, clients will reconnect and the service\nwill be back up again.\n\nChange-Id: Idec3344136a85d73969ed8e11d358b66c14d9a4d\nCloses-Bug: #1772656\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit 90c2a1c26f5ec276a1154648538efd373e458afa)\n'}]",0,571802,fc6db7cd7e86b55e4dd52b435316105cdcf28d7c,16,5,4,5756,,,0,"Set ovsdb probe interval to 1 minute on the client side

When a failover of ovsdb-server occurs, neither neutron-server nor
ovn-metadata-agent detects the disconnection. Even though this should
be fixed in OVS Python IDL, this patch is adding a default probe
interval from the client side to 60 seconds. This way, when the
connection to the VIP is lost, clients will reconnect and the service
will be back up again.

Change-Id: Idec3344136a85d73969ed8e11d358b66c14d9a4d
Closes-Bug: #1772656
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
(cherry picked from commit 90c2a1c26f5ec276a1154648538efd373e458afa)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/02/571802/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ovsdb-probe-interval-to-60-secs-cb4d3c5ec930f4a8.yaml', 'networking_ovn/common/config.py', 'networking_ovn/tests/unit/ovsdb/test_impl_idl_ovn.py']",3,5726206073fd17af294ddddbf5effb570f009f70,bug/1772656, inst.idl._session.reconnect.set_probe_interval.assert_called_with( 60000) inst.idl._session.reconnect.set_probe_interval.assert_called_with( 60000), inst.idl._session.reconnect.set_probe_interval.assert_called_with(0) inst.idl._session.reconnect.set_probe_interval.assert_called_with(0),19,5
openstack%2Fneutron~master~I5055d24a40d45f3f3b13b05249d353ea67acf4d5,openstack/neutron,master,I5055d24a40d45f3f3b13b05249d353ea67acf4d5,Change agents to use get_devices_with_ip(),MERGED,2019-01-24 20:45:22.000000000,2019-02-07 21:16:49.000000000,2019-02-07 21:16:49.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-01-24 20:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/579e7d44fe221ea6f9cb1ee7aff8d389ce229ff2', 'message': ""Change agents to use get_devices_with_ip()\n\nInstead of instantiating an IPDevice object just to get\nthe list of IPs, call get_devices_with_ip() instead since\nthat's what it's doing anyways.\n\nTrivialfix\n\nChange-Id: I5055d24a40d45f3f3b13b05249d353ea67acf4d5\n""}, {'number': 2, 'created': '2019-02-05 16:40:32.000000000', 'files': ['neutron/agent/linux/interface.py', 'neutron/agent/l3/ha_router.py', 'neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py', 'neutron/agent/l3/dvr_edge_router.py', 'neutron/tests/unit/agent/linux/test_interface.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b083d39a8375a4b6fe56544f707d1fb9b2a67e78', 'message': ""Change agents to use get_devices_with_ip()\n\nInstead of instantiating an IPDevice object just to get\nthe list of IPs, call get_devices_with_ip() instead since\nthat's what it's doing anyways.\n\nTrivialfix\n\nChange-Id: I5055d24a40d45f3f3b13b05249d353ea67acf4d5\n""}]",0,633054,b083d39a8375a4b6fe56544f707d1fb9b2a67e78,17,7,2,1131,,,0,"Change agents to use get_devices_with_ip()

Instead of instantiating an IPDevice object just to get
the list of IPs, call get_devices_with_ip() instead since
that's what it's doing anyways.

Trivialfix

Change-Id: I5055d24a40d45f3f3b13b05249d353ea67acf4d5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/54/633054/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/ha_router.py', 'neutron/agent/linux/interface.py', 'neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py', 'neutron/agent/l3/dvr_edge_router.py', 'neutron/tests/unit/agent/linux/test_interface.py']",6,579e7d44fe221ea6f9cb1ee7aff8d389ce229ff2,use-get_devices_with_ip,"from neutron.common import utils self.get_devices_with_ip_p = mock.patch.object(ip_lib, 'get_devices_with_ip') self.get_devices_with_ip = self.get_devices_with_ip_p.start() self.get_devices_with_ip.return_value = addresses kwargs = {'family': utils.get_socket_address_family( constants.IP_VERSION_6), 'scope': 'link'} self.get_devices_with_ip.assert_called_with( ns, name=device_name, **kwargs)"," self.ip_dev().addr.list = mock.Mock(return_value=addresses) self.ip_dev.assert_has_calls( [mock.call(device_name, namespace=ns), mock.call().addr.list( scope='link', ip_version=constants.IP_VERSION_6)])",29,27
openstack%2Fopenstack-helm-infra~master~I575b66415d44db7bb752102e45595305d86e623b,openstack/openstack-helm-infra,master,I575b66415d44db7bb752102e45595305d86e623b,Ceph-RGW: Support rotation of s3 key pairs,MERGED,2019-02-06 21:35:20.000000000,2019-02-07 20:32:26.000000000,2019-02-07 20:32:26.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 29132}, {'_account_id': 29268}]","[{'number': 1, 'created': '2019-02-06 21:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3dde78e58217895e27b68d00dd22f27eb7207c45', 'message': 'WIP: Ceph-RGW: Support rotation of s3 key pairs\n\nChange-Id: I575b66415d44db7bb752102e45595305d86e623b\n'}, {'number': 2, 'created': '2019-02-06 23:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e4de90e0581c0b9f71bfb2fab7c86b36b300c2ab', 'message': 'WIP: Ceph-RGW: Support rotation of s3 key pairs\n\nChange-Id: I575b66415d44db7bb752102e45595305d86e623b\n'}, {'number': 3, 'created': '2019-02-07 14:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1a42dad1b423732b07e9b28dc4e454038784538b', 'message': ""Ceph-RGW: Support rotation of s3 key pairs\n\nThis updates the helm-toolkit script for creating rgw s3 users\nto first check if a user exists, then create the user if it does\nnot exist or modify the user's keys if it does exist. This is\naccomplished by using jq to identify all existing access keys for\nthe specified user, removing those key pairs using the access key,\nthen modifies the existing user with the supplied access/secret\nkey pair for the given user\n\nChange-Id: I575b66415d44db7bb752102e45595305d86e623b\n""}, {'number': 4, 'created': '2019-02-07 14:26:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f6ba4b3683b16fd0e7dba984535d1ce5a643228a', 'message': ""Ceph-RGW: Support rotation of s3 key pairs\n\nThis updates the helm-toolkit script for creating rgw s3 users\nto first check if a user exists, then create the user if it does\nnot exist or modify the user's keys if it does exist. This is\naccomplished by using jq to identify all existing access keys for\nthe specified user, removing those key pairs using the access key,\nthen modifies the existing user with the supplied access/secret\nkey pair for the given user\n\nThis also updates the ceph-rgw chart to use the helm-toolkit s3\nuser script for creating the admin s3 user instead of using a\nsimilar script defined directly in the ceph-rgw chart\n\nChange-Id: I575b66415d44db7bb752102e45595305d86e623b\n""}, {'number': 5, 'created': '2019-02-07 16:33:55.000000000', 'files': ['ceph-rgw/templates/configmap-bin.yaml', 'ceph-rgw/templates/bin/rgw/_rgw-s3-admin.sh.tpl', 'ceph-rgw/templates/job-s3-admin.yaml', 'tools/deployment/armada/manifests/armada-lma.yaml', 'helm-toolkit/templates/scripts/_create-s3-user.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cf0ed142f668ad7ec375842f08d357cd77480eac', 'message': ""Ceph-RGW: Support rotation of s3 key pairs\n\nThis updates the helm-toolkit script for creating rgw s3 users\nto first check if a user exists, then create the user if it does\nnot exist or modify the user's keys if it does exist. This is\naccomplished by using jq to identify all existing access keys for\nthe specified user, removing those key pairs using the access key,\nthen modifies the existing user with the supplied access/secret\nkey pair for the given user\n\nThis also updates the ceph-rgw chart to use the helm-toolkit s3\nuser script for creating the admin s3 user instead of using a\nsimilar script defined directly in the ceph-rgw chart\n\nChange-Id: I575b66415d44db7bb752102e45595305d86e623b\n""}]",0,635320,cf0ed142f668ad7ec375842f08d357cd77480eac,22,6,5,17591,,,0,"Ceph-RGW: Support rotation of s3 key pairs

This updates the helm-toolkit script for creating rgw s3 users
to first check if a user exists, then create the user if it does
not exist or modify the user's keys if it does exist. This is
accomplished by using jq to identify all existing access keys for
the specified user, removing those key pairs using the access key,
then modifies the existing user with the supplied access/secret
key pair for the given user

This also updates the ceph-rgw chart to use the helm-toolkit s3
user script for creating the admin s3 user instead of using a
similar script defined directly in the ceph-rgw chart

Change-Id: I575b66415d44db7bb752102e45595305d86e623b
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/20/635320/2 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-rgw/templates/configmap-bin.yaml', 'ceph-rgw/templates/bin/rgw/_rgw-s3-admin.sh.tpl', 'ceph-rgw/templates/job-s3-admin.yaml', 'zuul.d/project.yaml', 'helm-toolkit/templates/scripts/_create-s3-user.sh.tpl']",5,3dde78e58217895e27b68d00dd22f27eb7207c45,rgw/password," --display-name=${S3_USERNAME} \function update_s3_user () { # Retrieve old access keys, if they exist old_access_keys=$(radosgw-admin user info --uid=${S3_USERNAME} \ | jq -r '.keys[].access_key' || true) if [[ ! -z ${old_access_keys} ]]; then # Remove old key pairs with access key(s) for access_key in $old_access_keys; do radosgw-admin key rm --uid=${S3_USERNAME} --key-type=s3 --access-key=$access_key done fi # Modify user with new access and secret keys radosgw-admin user modify \ --uid=${S3_USERNAME}\ --access-key ${S3_ACCESS_KEY} \ --secret-key ${S3_SECRET_KEY} } user_exists=$(radosgw-admin user info --uid=${S3_USERNAME} || true) if [[ -z ${user_exists} ]]; thenelse update_s3_user fi ", --display-name=${S3_USERNAME} radosgw-admin key create \ --uid=${S3_USERNAME} \radosgw-admin user stats --uid=${S3_USERNAME} || \,33,50
openstack%2Fneutron~master~If206b943703eb638f7b22e59791ed8876f46f556,openstack/neutron,master,If206b943703eb638f7b22e59791ed8876f46f556,DHCP: fix default dns search name,MERGED,2019-02-04 14:53:58.000000000,2019-02-07 20:30:07.000000000,2019-02-07 20:30:07.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28331}]","[{'number': 1, 'created': '2019-02-04 14:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/38a6fcffc69045a148f1d26306f16a9b9644a0d9', 'message': 'DHCP: fix default dns search name\n\nChange-Id: If206b943703eb638f7b22e59791ed8876f46f556\n'}, {'number': 2, 'created': '2019-02-04 15:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/29f65a5e9d537cfc9861c499db06103461dc27c5', 'message': ""DHCP: fix default dns search name\n\nIf no override for dns_domain has been added by the user on the\ntentant network, the default dns_domain should be used. Prior to\nthis fix, dns_domain got set to '' instead.\n\nCloses-bug: #1774710\nChange-Id: If206b943703eb638f7b22e59791ed8876f46f556\n""}, {'number': 3, 'created': '2019-02-05 16:32:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e40fbc30920b5ec078459be6729dff262338d60e', 'message': ""DHCP: fix default dns search name\n\nIf no override for dns_domain has been added by the user on the\ntentant network, the default dns_domain should be used. Prior to\nthis fix, dns_domain got set to '' instead.\n\nCloses-bug: #1774710\nChange-Id: If206b943703eb638f7b22e59791ed8876f46f556\n""}, {'number': 4, 'created': '2019-02-05 20:36:35.000000000', 'files': ['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7fdd6adc7acf99e74fbe1c12606f8c867ae134ae', 'message': ""DHCP: fix default dns search name\n\nIf no override for dns_domain has been added by the user on the\ntentant network, the default dns_domain should be used. Prior to\nthis fix, dns_domain got set to '' instead.\n\nCloses-bug: #1774710\nChange-Id: If206b943703eb638f7b22e59791ed8876f46f556\n""}]",4,634704,7fdd6adc7acf99e74fbe1c12606f8c867ae134ae,21,7,4,28331,,,0,"DHCP: fix default dns search name

If no override for dns_domain has been added by the user on the
tentant network, the default dns_domain should be used. Prior to
this fix, dns_domain got set to '' instead.

Closes-bug: #1774710
Change-Id: If206b943703eb638f7b22e59791ed8876f46f556
",git fetch https://review.opendev.org/openstack/neutron refs/changes/04/634704/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-dhcp-default-dns-searchname-dbb7b83081e719c9.yaml', 'neutron/agent/linux/dhcp.py']",2,38a6fcffc69045a148f1d26306f16a9b9644a0d9,bug/1774710, self.dns_domain = self.network.get('dns_domain') or self.conf.dns_domain," self.dns_domain = self.network.get('dns_domain', self.conf.dns_domain)",4,1
openstack%2Ftripleo-ci~master~I6d15291846a884e951b2535099bbfe1230d9473f,openstack/tripleo-ci,master,I6d15291846a884e951b2535099bbfe1230d9473f,Prevent second logs collection for OVB jobs,MERGED,2019-02-07 13:40:47.000000000,2019-02-07 20:14:07.000000000,2019-02-07 20:14:06.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-02-07 13:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/551d6711e60bb8581f8c777353cce0c38213cd22', 'message': 'Prevent second logs collection for OVB jobs\n\nChange-Id: I6d15291846a884e951b2535099bbfe1230d9473f\n'}, {'number': 2, 'created': '2019-02-07 14:07:02.000000000', 'files': ['roles/run-test/templates/toci_quickstart.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/75ff68608baab31f6ac9e5395a9841c08c62e092', 'message': 'Prevent second logs collection for OVB jobs\n\n\nCloses-Bug: #1815048\nChange-Id: I6d15291846a884e951b2535099bbfe1230d9473f\n'}]",0,635510,75ff68608baab31f6ac9e5395a9841c08c62e092,10,4,2,10969,,,0,"Prevent second logs collection for OVB jobs


Closes-Bug: #1815048
Change-Id: I6d15291846a884e951b2535099bbfe1230d9473f
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/10/635510/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-test/templates/toci_quickstart.sh.j2'],1,551d6711e60bb8581f8c777353cce0c38213cd22,ovblogs, mv $LOGS_DIR/collect_logs.sh $LOGS_DIR/ovb_collect_logs.sh,,1,0
openstack%2Fneutron~master~If5522e5a975e05f195f1760d7fbd60264ac91fc3,openstack/neutron,master,If5522e5a975e05f195f1760d7fbd60264ac91fc3,Change Metering agent to log message after failure,MERGED,2019-01-24 22:22:02.000000000,2019-02-07 20:12:48.000000000,2019-02-07 20:12:48.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 25618}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-01-24 22:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/931e908e15a317409217bcba5aedb41a1136fa30', 'message': 'Change Metering agent to log message after failure\n\nIf the Metering agent fails to send its report_state\nto the server, it logs an exception:\n\n   Failed reporting state!: MessagingTimeout: Timed out...\n\nIf it then tries a second time and succeeds it just\ngoes on happily. It would be nice if it logged that\nit had success on the subsequent attempt so someone\nlooking at the logs know it recovered.\n\nChange-Id: If5522e5a975e05f195f1760d7fbd60264ac91fc3\n'}, {'number': 2, 'created': '2019-02-05 11:53:25.000000000', 'files': ['neutron/services/metering/agents/metering_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a8afd1f124472f0d8f9d6c84836b851b1187b525', 'message': 'Change Metering agent to log message after failure\n\nIf the Metering agent fails to send its report_state\nto the server, it logs an exception:\n\n   Failed reporting state!: MessagingTimeout: Timed out...\n\nIf it then tries a second time and succeeds it just\ngoes on happily. It would be nice if it logged that\nit had success on the subsequent attempt so someone\nlooking at the logs know it recovered.\n\nChange-Id: If5522e5a975e05f195f1760d7fbd60264ac91fc3\n'}]",0,633078,a8afd1f124472f0d8f9d6c84836b851b1187b525,53,10,2,1131,,,0,"Change Metering agent to log message after failure

If the Metering agent fails to send its report_state
to the server, it logs an exception:

   Failed reporting state!: MessagingTimeout: Timed out...

If it then tries a second time and succeeds it just
goes on happily. It would be nice if it logged that
it had success on the subsequent attempt so someone
looking at the logs know it recovered.

Change-Id: If5522e5a975e05f195f1760d7fbd60264ac91fc3
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/633078/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/metering/agents/metering_agent.py'],1,931e908e15a317409217bcba5aedb41a1136fa30,agent-failed-report-state," self.failed_report_state = False self.failed_report_state = True return if self.failed_report_state: self.failed_report_state = False LOG.info(""Successfully reported state after a previous failure."")",,6,0
openstack%2Fmagnum~master~I7ce38e38de0d66fac340e287ce520de4c4bf679d,openstack/magnum,master,I7ce38e38de0d66fac340e287ce520de4c4bf679d,Delete loadbalancers and floatingips for service and ingress,MERGED,2019-01-22 22:53:19.000000000,2019-02-07 20:07:20.000000000,2019-02-07 11:04:18.000000000,"[{'_account_id': 6484}, {'_account_id': 6732}, {'_account_id': 11536}, {'_account_id': 13861}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 29297}]","[{'number': 1, 'created': '2019-01-22 22:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/8e3231312d0f4646b07a4b5fe7108378b1ca26b5', 'message': 'Delete loadbalancers and floatingips for service and ingress\n\nThis patch makes the regex more broad to cover both services and ingresses that\ncreate load balancers in octavia. In cloud-provider-openstack repo, the load\nbalancer description is defined in:\n\n- https://github.com/kubernetes/cloud-provider-openstack/blob/f056677572b2635632abcc7dbde459cdfc4432b9/pkg/cloudprovider/providers/openstack/openstack_loadbalancer.go#L459\n- https://github.com/kubernetes/cloud-provider-openstack/blob/f056677572b2635632abcc7dbde459cdfc4432b9/pkg/ingress/controller/openstack/octavia.go#L316\n\nThe floating ip description is defined in:\n\n- https://github.com/kubernetes/cloud-provider-openstack/blob/f056677572b2635632abcc7dbde459cdfc4432b9/pkg/cloudprovider/providers/openstack/openstack_loadbalancer.go#L1063\n- https://github.com/kubernetes/cloud-provider-openstack/blob/f056677572b2635632abcc7dbde459cdfc4432b9/pkg/ingress/controller/openstack/neutron.go#L72\n\nChange-Id: I7ce38e38de0d66fac340e287ce520de4c4bf679d\nStory: 2004839\n'}, {'number': 2, 'created': '2019-02-04 21:14:28.000000000', 'files': ['magnum/common/neutron.py', 'magnum/common/octavia.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/d2f36a2ed171f6be2c57d98a038edf1e97cc88a5', 'message': 'Delete loadbalancers and floatingips for service and ingress\n\nThis patch makes the regex more broad to cover both services and ingresses that\ncreate load balancers in octavia. In cloud-provider-openstack repo, the load\nbalancer description is defined in:\n\n- https://github.com/kubernetes/cloud-provider-openstack/blob/f056677572b2635632abcc7dbde459cdfc4432b9/pkg/cloudprovider/providers/openstack/openstack_loadbalancer.go#L459\n- https://github.com/kubernetes/cloud-provider-openstack/blob/f056677572b2635632abcc7dbde459cdfc4432b9/pkg/ingress/controller/openstack/octavia.go#L316\n\nThe floating ip description is defined in:\n\n- https://github.com/kubernetes/cloud-provider-openstack/blob/f056677572b2635632abcc7dbde459cdfc4432b9/pkg/cloudprovider/providers/openstack/openstack_loadbalancer.go#L1063\n- https://github.com/kubernetes/cloud-provider-openstack/blob/f056677572b2635632abcc7dbde459cdfc4432b9/pkg/ingress/controller/openstack/neutron.go#L72\n\nChange-Id: I7ce38e38de0d66fac340e287ce520de4c4bf679d\nStory: 2004839\n'}]",1,632580,d2f36a2ed171f6be2c57d98a038edf1e97cc88a5,13,7,2,6732,,,0,"Delete loadbalancers and floatingips for service and ingress

This patch makes the regex more broad to cover both services and ingresses that
create load balancers in octavia. In cloud-provider-openstack repo, the load
balancer description is defined in:

- https://github.com/kubernetes/cloud-provider-openstack/blob/f056677572b2635632abcc7dbde459cdfc4432b9/pkg/cloudprovider/providers/openstack/openstack_loadbalancer.go#L459
- https://github.com/kubernetes/cloud-provider-openstack/blob/f056677572b2635632abcc7dbde459cdfc4432b9/pkg/ingress/controller/openstack/octavia.go#L316

The floating ip description is defined in:

- https://github.com/kubernetes/cloud-provider-openstack/blob/f056677572b2635632abcc7dbde459cdfc4432b9/pkg/cloudprovider/providers/openstack/openstack_loadbalancer.go#L1063
- https://github.com/kubernetes/cloud-provider-openstack/blob/f056677572b2635632abcc7dbde459cdfc4432b9/pkg/ingress/controller/openstack/neutron.go#L72

Change-Id: I7ce38e38de0d66fac340e287ce520de4c4bf679d
Story: 2004839
",git fetch https://review.opendev.org/openstack/magnum refs/changes/80/632580/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/common/neutron.py', 'magnum/common/octavia.py']",2,8e3231312d0f4646b07a4b5fe7108378b1ca26b5,delete-lb-fip-ingress," """"""Delete loadbalancers for kubernetes resources. The load balancers created for kubernetes services and ingresses are deleted. pattern = (r'Kubernetes .+ from cluster %s$' % cluster.uuid)"," """"""Delete loadbalancers for k8s service. pattern = (r'Kubernetes external service \w+ from cluster %s$' % cluster.uuid)",10,9
openstack%2Fnetworking-baremetal~master~I7b3e0db64b7b7d3372e5ca24cea88b4b897651be,openstack/networking-baremetal,master,I7b3e0db64b7b7d3372e5ca24cea88b4b897651be,Ensure notifications are consumed from non-pool queue,MERGED,2019-02-05 04:09:18.000000000,2019-02-07 19:56:26.000000000,2019-02-07 19:56:26.000000000,"[{'_account_id': 2271}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-02-05 04:09:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/52fc9a9c57378bdf1d94ee4d50f844bb79e19ec4', 'message': 'Ensure notifications are consumed from non-pool queue\n\nWhen using oslo.messaging notifications and all listeners\nare using a pool. The messages published to the default\nnotification queue is never consumed, only the pool queues\nare consumed. The queue that is not consumed keep growing\nand is using more and more RAM on the system where the\nmessage broker is running.\n\nRelated-Bug: #1814544\nStory: 2004938\nTask: 29332\nChange-Id: I7b3e0db64b7b7d3372e5ca24cea88b4b897651be\n'}, {'number': 2, 'created': '2019-02-05 05:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/5e41285d5b61fad6975c63a47e35c23b48e8590c', 'message': ""Ensure notifications are consumed from non-pool queue\n\nWhen using oslo.messaging notifications and all listeners\nare using a pool. The messages published to the default\nnotification queue is never consumed, only the pool queues\nare consumed. The queue that is not consumed keep growing\nand is using more and more RAM on the system where the\nmessage broker is running.\n\nAlso prefix the pool names so that it's easier for someone\nlooking at queues in the messaging backend to identify the\nsource.\n\nRelated-Bug: #1814544\nStory: 2004938\nTask: 29332\nChange-Id: I7b3e0db64b7b7d3372e5ca24cea88b4b897651be\n""}, {'number': 3, 'created': '2019-02-06 13:46:32.000000000', 'files': ['releasenotes/notes/fix-member-manager-notification-queue-not-consumed-449738d4fd799634.yaml', 'networking_baremetal/agent/ironic_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/9da983270343bea89c18804767b1532c39c59622', 'message': ""Ensure notifications are consumed from non-pool queue\n\nWhen using oslo.messaging notifications and all listeners\nare using a pool. The messages published to the default\nnotification queue is never consumed, only the pool queues\nare consumed. The queue that is not consumed keep growing\nand is using more and more RAM on the system where the\nmessage broker is running.\n\nAlso prefix the pool names so that it's easier for someone\nlooking at queues in the messaging backend to identify the\nsource.\n\nRelated-Bug: #1814544\nStory: 2004938\nTask: 29332\nChange-Id: I7b3e0db64b7b7d3372e5ca24cea88b4b897651be\n""}]",0,634850,9da983270343bea89c18804767b1532c39c59622,19,6,3,24245,,,0,"Ensure notifications are consumed from non-pool queue

When using oslo.messaging notifications and all listeners
are using a pool. The messages published to the default
notification queue is never consumed, only the pool queues
are consumed. The queue that is not consumed keep growing
and is using more and more RAM on the system where the
message broker is running.

Also prefix the pool names so that it's easier for someone
looking at queues in the messaging backend to identify the
source.

Related-Bug: #1814544
Story: 2004938
Task: 29332
Change-Id: I7b3e0db64b7b7d3372e5ca24cea88b4b897651be
",git fetch https://review.opendev.org/openstack/networking-baremetal refs/changes/50/634850/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-member-manager-notification-queue-not-consumed-449738d4fd799634.yaml', 'networking_baremetal/agent/ironic_neutron_agent.py']",2,52fc9a9c57378bdf1d94ee4d50f844bb79e19ec4,story/2004938," # Note(hjensas): We need to have listener consuming the non-pool queue. # See bug: https://bugs.launchpad.net/oslo.messaging/+bug/1814544 self.listener = _set_up_listener(self.transport, None) self.pool_listener = _set_up_listener(self.transport, self.agent_id) self.pool_listener.start() self.listener.start()"," self.listener = _set_up_listener(self.transport, self.agent_id) self.listener.start()",19,2
openstack%2Foctavia~master~I97bdf5188808193516509f20767e82c0f8d2f5a5,openstack/octavia,master,I97bdf5188808193516509f20767e82c0f8d2f5a5,Fix flavors support when using spares pool,MERGED,2019-01-23 02:09:14.000000000,2019-02-07 19:45:22.000000000,2019-02-07 19:45:22.000000000,"[{'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 28329}, {'_account_id': 29621}]","[{'number': 1, 'created': '2019-01-23 02:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e0acebec90e9e58765281d2b550907108f440f36', 'message': ""Allow updating the amphora agent configuration\n\nThis patch enables the ability to update a running amphora's agent\nconfiguration and have the mutatable options be adopted.\n\nChange-Id: I97bdf5188808193516509f20767e82c0f8d2f5a5\n""}, {'number': 2, 'created': '2019-01-23 18:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/20302d196f969391e366fa89c94ee5b0c10dd603', 'message': ""Fix flavors support when using spares pool\n\nThis patch validates that a flavor is compatible with using spares\npool amphora. It will also update the amphora-agent config after\na spares pool amphora has been allocated.\n\nThis patch enables the ability to update a running amphora's agent\nconfiguration and have the mutatable options be adopted.\n\nThe following amphora agent configuration options can be updated:\nheartbeat_key\ncontroller_ip_port_list\nheartbeat_interval\nloadbalancer_topology\n\nThis patch adds the support to the amphora-agent and the amphora\ndriver. A follow on patch will expose this capabililty via the\namphora admin API.\n\nChange-Id: I97bdf5188808193516509f20767e82c0f8d2f5a5\n""}, {'number': 3, 'created': '2019-01-23 22:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8861cfbbf5538cec7e953ff98976a873ca96a950', 'message': ""Fix flavors support when using spares pool\n\nThis patch validates that a flavor is compatible with using spares\npool amphora. It will also update the amphora-agent config after\na spares pool amphora has been allocated.\n\nThis patch enables the ability to update a running amphora's agent\nconfiguration and have the mutatable options be adopted.\n\nThe following amphora agent configuration options can be updated:\nheartbeat_key\ncontroller_ip_port_list\nheartbeat_interval\nloadbalancer_topology\n\nThis patch adds the support to the amphora-agent and the amphora\ndriver. A follow on patch will expose this capabililty via the\namphora admin API.\n\nChange-Id: I97bdf5188808193516509f20767e82c0f8d2f5a5\n""}, {'number': 4, 'created': '2019-01-24 00:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/695baf6815880baaf7bb2eee02ea83d3ea60c40c', 'message': ""Fix flavors support when using spares pool\n\nThis patch validates that a flavor is compatible with using spares\npool amphora. It will also update the amphora-agent config after\na spares pool amphora has been allocated.\n\nThis patch enables the ability to update a running amphora's agent\nconfiguration and have the mutatable options be adopted.\n\nThe following amphora agent configuration options can be updated:\nheartbeat_key\ncontroller_ip_port_list\nheartbeat_interval\nloadbalancer_topology\n\nThis patch adds the support to the amphora-agent and the amphora\ndriver. A follow on patch will expose this capabililty via the\namphora admin API.\n\nChange-Id: I97bdf5188808193516509f20767e82c0f8d2f5a5\n""}, {'number': 5, 'created': '2019-01-24 02:03:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/27f83cd2514bc52750ff0fa4663c37130349e6d6', 'message': ""Fix flavors support when using spares pool\n\nThis patch validates that a flavor is compatible with using spares\npool amphora. It will also update the amphora-agent config after\na spares pool amphora has been allocated.\n\nThis patch enables the ability to update a running amphora's agent\nconfiguration and have the mutatable options be adopted.\n\nThe following amphora agent configuration options can be updated:\nheartbeat_key\ncontroller_ip_port_list\nheartbeat_interval\nloadbalancer_topology\n\nThis patch adds the support to the amphora-agent and the amphora\ndriver. A follow on patch will expose this capabililty via the\namphora admin API.\n\nChange-Id: I97bdf5188808193516509f20767e82c0f8d2f5a5\n""}, {'number': 6, 'created': '2019-01-25 21:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/93974f2d7f7c8950107bc3ab33f72bac5a30ea7e', 'message': ""Fix flavors support when using spares pool\n\nThis patch validates that a flavor is compatible with using spares\npool amphora. It will also update the amphora-agent config after\na spares pool amphora has been allocated.\n\nThis patch enables the ability to update a running amphora's agent\nconfiguration and have the mutatable options be adopted.\n\nThe following amphora agent configuration options can be updated:\nheartbeat_key\ncontroller_ip_port_list\nheartbeat_interval\nloadbalancer_topology\n\nThis patch adds the support to the amphora-agent and the amphora\ndriver. A follow on patch will expose this capabililty via the\namphora admin API.\n\nChange-Id: I97bdf5188808193516509f20767e82c0f8d2f5a5\n""}, {'number': 7, 'created': '2019-02-05 22:49:11.000000000', 'files': ['octavia/tests/unit/controller/worker/test_controller_worker.py', 'octavia/amphorae/driver_exceptions/exceptions.py', 'octavia/common/config.py', 'octavia/controller/worker/flows/amphora_flows.py', 'octavia/tests/unit/common/test_validations.py', 'octavia/amphorae/backends/agent/api_server/server.py', 'octavia/amphorae/backends/health_daemon/health_sender.py', 'octavia/tests/unit/controller/worker/flows/test_amphora_flows.py', 'doc/source/contributor/api/haproxy-amphora-api.rst', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py', 'octavia/tests/unit/amphorae/backends/health_daemon/test_health_sender.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver.py', 'octavia/common/validate.py', 'octavia/common/constants.py', 'octavia/tests/unit/controller/worker/tasks/test_amphora_driver_tasks.py', 'octavia/controller/worker/tasks/database_tasks.py', 'octavia/controller/worker/tasks/amphora_driver_tasks.py', 'octavia/controller/worker/controller_worker.py', 'octavia/amphorae/drivers/noop_driver/driver.py', 'octavia/tests/unit/amphorae/drivers/test_noop_amphoraloadbalancer_driver.py', 'octavia/amphorae/drivers/driver_base.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/5d7f10f6b895779866feb183289e356b76d16d67', 'message': ""Fix flavors support when using spares pool\n\nThis patch validates that a flavor is compatible with using spares\npool amphora. It will also update the amphora-agent config after\na spares pool amphora has been allocated.\n\nThis patch enables the ability to update a running amphora's agent\nconfiguration and have the mutatable options be adopted.\n\nThe following amphora agent configuration options can be updated:\nheartbeat_key\ncontroller_ip_port_list\nheartbeat_interval\nloadbalancer_topology\n\nThis patch adds the support to the amphora-agent and the amphora\ndriver. A follow on patch will expose this capabililty via the\namphora admin API.\n\nChange-Id: I97bdf5188808193516509f20767e82c0f8d2f5a5\n""}]",6,632594,5d7f10f6b895779866feb183289e356b76d16d67,23,7,7,11628,,,0,"Fix flavors support when using spares pool

This patch validates that a flavor is compatible with using spares
pool amphora. It will also update the amphora-agent config after
a spares pool amphora has been allocated.

This patch enables the ability to update a running amphora's agent
configuration and have the mutatable options be adopted.

The following amphora agent configuration options can be updated:
heartbeat_key
controller_ip_port_list
heartbeat_interval
loadbalancer_topology

This patch adds the support to the amphora-agent and the amphora
driver. A follow on patch will expose this capabililty via the
amphora admin API.

Change-Id: I97bdf5188808193516509f20767e82c0f8d2f5a5
",git fetch https://review.opendev.org/openstack/octavia refs/changes/94/632594/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/config.py', 'octavia/amphorae/backends/agent/api_server/server.py', 'octavia/amphorae/backends/health_daemon/health_sender.py', 'doc/source/contributor/api/haproxy-amphora-api.rst', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py', 'octavia/amphorae/drivers/noop_driver/driver.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver.py', 'octavia/tests/unit/amphorae/drivers/test_noop_amphoraloadbalancer_driver.py', 'octavia/amphorae/drivers/driver_base.py']",10,e0acebec90e9e58765281d2b550907108f440f36,bp/octavia-lbaas-flavors," def update_agent_config(self, amphora, agent_config): """"""Upload and update the amphora agent configuration. :param amphora: amphora object, needs id and network ip(s) :type amphora: object :param agent_config: The new amphora agent configuration file. :type agent_config: string """""" pass ",,228,3
openstack%2Fcyborg~master~I663e6ed8ff1f99b423528d26533626466a54c530,openstack/cyborg,master,I663e6ed8ff1f99b423528d26533626466a54c530,Update the API content in the document to Rocky,MERGED,2019-01-05 03:20:27.000000000,2019-02-07 19:38:15.000000000,2019-02-07 19:38:15.000000000,"[{'_account_id': 11878}, {'_account_id': 13629}, {'_account_id': 14131}, {'_account_id': 22348}, {'_account_id': 23168}, {'_account_id': 27458}]","[{'number': 1, 'created': '2019-01-05 03:20:27.000000000', 'files': ['doc/source/admin/api.rst'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/d9516e9f140964d39995fa19acaaa7f310fd0b8b', 'message': 'Update the API content in the document to Rocky\n\nThe current API document for the Cyborg project is still in the\nPike version and is outdated.\nNeed to update it to the latest Rocky version.\n\nChange-Id: I663e6ed8ff1f99b423528d26533626466a54c530\nStory: 2004705\nTask: 28734\n'}]",0,628713,d9516e9f140964d39995fa19acaaa7f310fd0b8b,7,6,1,8021,,,0,"Update the API content in the document to Rocky

The current API document for the Cyborg project is still in the
Pike version and is outdated.
Need to update it to the latest Rocky version.

Change-Id: I663e6ed8ff1f99b423528d26533626466a54c530
Story: 2004705
Task: 28734
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/13/628713/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/api.rst'],1,d9516e9f140964d39995fa19acaaa7f310fd0b8b,task/28734,for Rocky release:: +--------+-----------------------------------------+-----------------------------------------------------------+ | Verb | URI | Description | +========+=========================================+===========================================================+ | GET | /accelerators | Return a list of accelerators | +--------+-----------------------------------------+-----------------------------------------------------------+ | GET | /accelerators/{uuid} | Retrieve a certain accelerator info identified by `{uuid}`| +--------+-----------------------------------------+-----------------------------------------------------------+ | POST | /accelerators | Create a new accelerator | +--------+-----------------------------------------+-----------------------------------------------------------+ | PUT | /accelerators/{uuid} | Update the spec for the accelerator identified by `{uuid}`| +--------+-----------------------------------------+-----------------------------------------------------------+ | DELETE | /accelerators/{uuid} | Delete the accelerator identified by `{uuid}` | +--------+-----------------------------------------+-----------------------------------------------------------+ | GET | /accelerators/deployables/ | Return a list of deployables | +--------+-----------------------------------------+-----------------------------------------------------------+ | GET | /accelerators/deployables/{uuid} | Retrieve a certain deployable info identified by `{uuid}` | +--------+-----------------------------------------+-----------------------------------------------------------+ | POST | /accelerators/deployables/ | Create a new deployable | +--------+-----------------------------------------+-----------------------------------------------------------+ | PATCH | /accelerators/deployables/{uuid}/program| Program a new deployable(FPGA) | +--------+-----------------------------------------+-----------------------------------------------------------+ | PATCH | /accelerators/deployables/{uuid} | Update the spec for the deployable identified by `{uuid}` | +--------+-----------------------------------------+-----------------------------------------------------------+ | DELETE | /accelerators/deployables/{uuid} | Delete the deployable identified by `{uuid}` | +--------+-----------------------------------------+-----------------------------------------------------------+,for Pike release:: +--------+-----------------------+-----------------------------------------------------------+ | Verb | URI | Description | +========+=======================+===========================================================+ | GET | /accelerators | Return a list of accelerators | +--------+-----------------------+-----------------------------------------------------------+ | GET | /accelerators/{uuid} | Retrieve a certain accelerator info identified by `{uuid}`| +--------+-----------------------+-----------------------------------------------------------+ | POST | /accelerators | Create a new accelerator. | +--------+-----------------------+-----------------------------------------------------------+ | PUT | /accelerators/{uuid} | Update the spec for the accelerator identified by `{uuid}`| +--------+-----------------------+-----------------------------------------------------------+ | DELETE | /accelerators/{uuid} | Delete the accelerator identified by `{uuid}` | +--------+-----------------------+-----------------------------------------------------------+ ,26,15
openstack%2Ftripleo-quickstart~master~Ifcd2f6644e809070fddec52a21ba0f28b4660705,openstack/tripleo-quickstart,master,Ifcd2f6644e809070fddec52a21ba0f28b4660705,Update FreeIPA featureset file,MERGED,2019-02-06 17:14:10.000000000,2019-02-07 19:27:52.000000000,2019-02-07 18:27:49.000000000,"[{'_account_id': 9976}, {'_account_id': 10873}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22136}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-06 17:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/635615eada815d83c873e0ca83c8015c87615bb1', 'message': 'Update FreeIPA featureset file\n\nChange-Id: Ifcd2f6644e809070fddec52a21ba0f28b4660705\n'}, {'number': 2, 'created': '2019-02-07 12:01:11.000000000', 'files': ['config/general_config/featureset039.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/114249e0262321465d798c7f6c5ffcf35e3a081c', 'message': 'Update FreeIPA featureset file\n\nChange-Id: Ifcd2f6644e809070fddec52a21ba0f28b4660705\n'}]",0,635226,114249e0262321465d798c7f6c5ffcf35e3a081c,15,7,2,10969,,,0,"Update FreeIPA featureset file

Change-Id: Ifcd2f6644e809070fddec52a21ba0f28b4660705
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/26/635226/2 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset039.yml'],1,635615eada815d83c873e0ca83c8015c87615bb1,,"ssl_overcloud: true overcloud_templates_path: /usr/share/openstack-tripleo-heat-templates undercloud_templates_path: /usr/share/openstack-tripleo-heat-templates step_introspect: true # This enables container deployements after Pike containerized_overcloud: >- {% if release in ['newton', 'ocata', 'pike'] -%} false {%- else -%} true {%- endif -%} delete_docker_cache: true containerized_undercloud: >- {% if release not in ['newton','ocata','pike','queens'] -%} true {%- else -%} false {%- endif -%} ctlplane_masquerade: >- {% if release not in ['newton','ocata','pike','queens'] -%} true {%- else -%} false {%- endif -%} undercloud_enable_routed_networks: >- {% if release not in ['newton','ocata','pike'] -%} true {%- else -%} false {%- endif -%} undercloud_clean_nodes: >- {% if release not in ['newton','ocata','pike'] -%} true {%- else -%} false {%- endif -%} undercloud_inspection_extras: false # Tell tripleo about our environment. enable_pacemaker: true network_isolation: true network_isolation_type: ""multiple-nics"" network_isolation_args: >- -e {{ overcloud_templates_path }}/ci/environments/network/multiple-nics/network-isolation-absolute.yaml -e {{ overcloud_templates_path }}/ci/environments/network/multiple-nics/network-environment.yaml # This featureset is extremely resource intensive, so we disable telemetry # in order to reduce the overall memory footprint # This is not required in newton telemetry_args: >- {% if release != 'newton' %} -e {{ overcloud_templates_path }}/environments/disable-telemetry.yaml {% endif %} extra_args: >- {% if release not in ['newton', 'ocata', 'pike'] %} -e {{ overcloud_templates_path }}/ci/environments/ovb-ha.yaml {% endif %} undercloud_ntp_servers: pool.ntp.org # keep the doc gen settings at the bottom of the config file. # options below direct automatic doc generation by tripleo-collect-logs artcl_gen_docs: true artcl_create_docs_payload: included_deployment_scripts: - undercloud-install - novajoin_prep - install_novajoin - overcloud-custom-tht-script - ""{% if release not in ['newton', 'ocata', 'pike'] -%}overcloud-prep-containers{%- endif -%}"" - overcloud-prep-flavors - overcloud-prep-images - overcloud-prep-network - overcloud-deploy - overcloud-deploy-post - overcloud-validate - ""{% if run_tempest|bool -%}tempest-setup{%- endif -%}"" - ""{% if run_tempest|bool and tempest_format|default('packages') == 'containers' -%}tempest_container{%- endif -%}"" included_static_docs: - env-setup-virt table_of_contents: - env-setup-virt - novajoin_prep - install_novajoin - undercloud-install - overcloud-custom-tht-script - ""{% if release not in ['newton', 'ocata', 'pike'] -%}overcloud-prep-containers{%- endif -%}"" - overcloud-prep-flavors - overcloud-prep-images - overcloud-prep-network - overcloud-deploy - overcloud-deploy-post - overcloud-validate - ""{% if run_tempest|bool -%}tempest-setup{%- endif -%}"" - ""{% if run_tempest|bool and tempest_format|default('packages') == 'containers' -%}tempest_container{%- endif -%}"" deploy_steps_ansible_workflow: >- {% if release not in ['newton','ocata','pike'] -%} true {%- else -%} false {%- endif -%} config_download_args: >- {% if release in ['queens'] -%} -e /usr/share/openstack-tripleo-heat-templates/environments/config-download-environment.yaml --config-download --verbose {%- endif -%} # Tempest configuration, keep always at the end of the file # Use the traditional ping test in newton, ocata and pike # Run tempest in queens+ test_ping: >- {% if release in ['newton', 'ocata', 'pike'] -%} true {%- else -%} false {%- endif -%} run_tempest: >- {% if release in ['newton', 'ocata', 'pike'] -%} false {%- else -%} true {%- endif -%} test_white_regex: '' tempest_whitelist: - 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_network_basic_ops' tempest_format: >- {% if containerized_undercloud|bool -%} container {%- else -%} packages {%- endif -%} undercloud_enable_tempest: >- {% if release not in ['newton', 'ocata', 'pike', 'queens'] -%} true {%- else -%} false {%- endif -%} undercloud_container_cli: >- {% if release in ['rocky'] -%} docker {%- else -%} podman {%- endif -%} # TLS everywhere related vars. #undercloud_cloud_domain: ""{{ tripleo_domain }}""# Define FreeIPA server as DNS server for under/overcloud. undercloud_undercloud_nameservers: [""{{ freeipa_internal_ip }}""] overcloud_dns_servers: [""{{ freeipa_internal_ip }}""] undercloud_custom_env_files: ""{{ working_dir }}/undercloud-parameter-defaults.yaml"" undercloud_resource_registry_args: ""OS::TripleO::Undercloud::Net::SoftwareConfig"": ""{{ undercloud_templates_path }}/net-config-undercloud.yaml""","# TLS everywhere related vars. # # Define FreeIPA server as DNS server for under/overcloud. undercloud_undercloud_nameservers: [""{{ freeipa_internal_ip }}""] overcloud_dns_servers: [""{{ freeipa_internal_ip }}""] # We don't need introspection in a virtual environment (because we are # creating all the ""hardware"" we really know the necessary information). step_introspect: false # Tell tripleo about our environment. network_isolation: true network_isolation_type: 'multiple-nics' extra_args: '' test_ping: true enable_pacemaker: true run_tempest: false # Options below direct automatic doc generation by tripleo-collect-logs. artcl_gen_docs: true artcl_create_docs_payload: included_deployment_scripts: - undercloud-install - novajoin_prep - install_novajoin - overcloud-custom-tht-script - overcloud-prep-flavors - overcloud-prep-images - overcloud-prep-network - overcloud-deploy - overcloud-deploy-post - overcloud-validate included_static_docs: - env-setup-virt table_of_contents: - env-setup-virt - novajoin_prep - install_novajoin - undercloud-install - overcloud-custom-tht-script - overcloud-prep-flavors - overcloud-prep-images - overcloud-prep-network - overcloud-deploy - overcloud-deploy-post - overcloud-validate",164,45
openstack%2Fopenstack-helm-infra~master~I4be603121fc227dd48f83704e99bba94341c4c09,openstack/openstack-helm-infra,master,I4be603121fc227dd48f83704e99bba94341c4c09,[CEPH] Expand the Keystone Helm tests for RGW,MERGED,2019-02-06 15:39:02.000000000,2019-02-07 19:11:42.000000000,2019-02-07 19:11:42.000000000,"[{'_account_id': 8898}, {'_account_id': 17119}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 24165}, {'_account_id': 26628}, {'_account_id': 28372}, {'_account_id': 29132}, {'_account_id': 29268}]","[{'number': 1, 'created': '2019-02-06 15:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f751af75d223d9b89a1b459872a9c2b1a671b8bb', 'message': '[CEPH] Fix the ks helm tests for RGW\n\nSince the admin key has been removed, we need to also replace\nradosrgw-admin with openstack container list.\n\nChange-Id: I4be603121fc227dd48f83704e99bba94341c4c09\n'}, {'number': 2, 'created': '2019-02-06 15:51:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bc2145dd7788e8b04f779a1bc6d777a264eb486d', 'message': '[CEPH] Fix the ks helm tests for RGW\n\nSince the admin key has been removed, we need to also replace\nradosrgw-admin with openstack container commands.\n\nChange-Id: I4be603121fc227dd48f83704e99bba94341c4c09\n'}, {'number': 3, 'created': '2019-02-06 18:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/49d54965fef87efa87cd25fda8db824774c27e4f', 'message': '[CEPH] Expand the Keystone Helm tests for RGW\n\n- Since the admin key has been removed, we need to also replace\nradosrgw-admin with openstack container commands.\n\n- Additionally expand the helm tests for keystone to also upload\nand validate an object in RGW (similiar to S3 helm tests).\n\nChange-Id: I4be603121fc227dd48f83704e99bba94341c4c09\n'}, {'number': 4, 'created': '2019-02-06 18:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7340179f704c7322ac96f366510f93da6a5deef7', 'message': '[CEPH] Expand the Keystone Helm tests for RGW\n\n- Since the admin key has been removed, we need to also replace\nradosrgw-admin with openstack container commands.\n\n- Additionally expand the helm tests for keystone to also upload\nand validate an object in RGW (similiar to S3 helm tests).\n\nChange-Id: I4be603121fc227dd48f83704e99bba94341c4c09\n'}, {'number': 5, 'created': '2019-02-06 19:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b173c17a294b0e1ef856f70b57dc38a085b3b9d5', 'message': '[CEPH] Expand the Keystone Helm tests for RGW\n\n- Since the admin key has been removed, we need to also replace\nradosrgw-admin with openstack container commands.\n\n- Additionally expand the helm tests for keystone to also upload\nand validate an object in RGW (similiar to S3 helm tests).\n\nChange-Id: I4be603121fc227dd48f83704e99bba94341c4c09\n'}, {'number': 6, 'created': '2019-02-06 20:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/74b45082baf72ed068205cb24e52ba228b3d08d5', 'message': '[CEPH] Expand the Keystone Helm tests for RGW\n\n- Since the admin key has been removed, we need to also replace\nradosrgw-admin with openstack container commands.\n\n- Additionally expand the helm tests for keystone to also upload\nand validate an object in RGW (similiar to S3 helm tests).\n\nChange-Id: I4be603121fc227dd48f83704e99bba94341c4c09\n'}, {'number': 7, 'created': '2019-02-06 20:23:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5a137f970ef0c371d9cba194e5d0c62fa5ca3a27', 'message': '[CEPH] Expand the Keystone Helm tests for RGW\n\n- Since the admin key has been removed, we need to also replace\nradosrgw-admin with openstack container commands.\n\n- Additionally expand the helm tests for keystone to also upload\nand validate an object in RGW (similiar to S3 helm tests).\n\nChange-Id: I4be603121fc227dd48f83704e99bba94341c4c09\n'}, {'number': 8, 'created': '2019-02-06 21:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f8a1e9af53edd1012ebc9b377c5dcb73b8ee767b', 'message': '[CEPH] Expand the Keystone Helm tests for RGW\n\n- Since the admin key has been removed, we need to also replace\nradosrgw-admin with openstack container commands.\n\n- Additionally expand the helm tests for keystone to also upload\nand validate an object in RGW (similiar to S3 helm tests).\n\n- Ensure the openstack-support gate is testing RGW through\nkeystone auth\n\nChange-Id: I4be603121fc227dd48f83704e99bba94341c4c09\n'}, {'number': 9, 'created': '2019-02-06 22:06:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/abbf036dee35be0c02b74f706194b05ffba5b40b', 'message': '[CEPH] Expand the Keystone Helm tests for RGW\n\n- Since the admin key has been removed, we need to also replace\nradosrgw-admin with openstack container commands.\n\n- Additionally expand the helm tests for keystone to also upload\nand validate an object in RGW (similiar to S3 helm tests).\n\n- Ensure the openstack-support gate is testing RGW through\nkeystone auth\n\nChange-Id: I4be603121fc227dd48f83704e99bba94341c4c09\n'}, {'number': 10, 'created': '2019-02-06 23:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/51fb3cbe0e998e11611519359ff5ce66fd1ff392', 'message': '[CEPH] Expand the Keystone Helm tests for RGW\n\n- Since the admin key has been removed, we need to also replace\nradosrgw-admin with openstack container commands.\n\n- Additionally expand the helm tests for keystone to also upload\nand validate an object in RGW (similiar to S3 helm tests).\n\n- Ensure the openstack-support gate is testing RGW through\nkeystone auth\n\nChange-Id: I4be603121fc227dd48f83704e99bba94341c4c09\n'}, {'number': 11, 'created': '2019-02-07 01:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f16ae8be28965fddc9f4826b7ef3092a76129224', 'message': '[CEPH] Expand the Keystone Helm tests for RGW\n\n- Since the admin key has been removed, we need to also replace\nradosrgw-admin with openstack container commands.\n\n- Additionally expand the helm tests for keystone to also upload\nand validate an object in RGW (similiar to S3 helm tests).\n\n- Ensure the openstack-support gate is testing RGW through\nkeystone auth\n\nChange-Id: I4be603121fc227dd48f83704e99bba94341c4c09\n'}, {'number': 12, 'created': '2019-02-07 02:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/62413e5363efb7172eaebe86710fc193ae20f187', 'message': '[CEPH] Expand the Keystone Helm tests for RGW\n\n- Since the admin key has been removed, we need to also replace\nradosrgw-admin with openstack container commands.\n\n- Additionally expand the helm tests for keystone to also upload\nand validate an object in RGW (similiar to S3 helm tests).\n\n- Ensure the openstack-support gate is testing RGW through\nkeystone auth\n\nChange-Id: I4be603121fc227dd48f83704e99bba94341c4c09\n'}, {'number': 13, 'created': '2019-02-07 02:43:26.000000000', 'files': ['ceph-rgw/templates/bin/_helm-tests.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e8ed3bcf76676ab6171026abcfa8ee0eec383bb4', 'message': '[CEPH] Expand the Keystone Helm tests for RGW\n\n- Since the admin key has been removed, we need to also replace\nradosrgw-admin with openstack container commands.\n\n- Additionally expand the helm tests for keystone to also upload\nand validate an object in RGW (similiar to S3 helm tests).\n\nChange-Id: I4be603121fc227dd48f83704e99bba94341c4c09\n'}]",4,635192,e8ed3bcf76676ab6171026abcfa8ee0eec383bb4,37,9,13,29268,,,0,"[CEPH] Expand the Keystone Helm tests for RGW

- Since the admin key has been removed, we need to also replace
radosrgw-admin with openstack container commands.

- Additionally expand the helm tests for keystone to also upload
and validate an object in RGW (similiar to S3 helm tests).

Change-Id: I4be603121fc227dd48f83704e99bba94341c4c09
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/92/635192/9 && git format-patch -1 --stdout FETCH_HEAD,['ceph-rgw/templates/bin/_helm-tests.sh.tpl'],1,f751af75d223d9b89a1b459872a9c2b1a671b8bb,rgw_s3_helm_test," echo ""--> list containers"" openstack container list"," echo ""--> rgw bucket list"" radosgw-admin bucket list",2,2
openstack%2Fkuryr-tempest-plugin~master~I1f8c61b3d5a384e7c9a9e1101b2d3d8cc984324e,openstack/kuryr-tempest-plugin,master,I1f8c61b3d5a384e7c9a9e1101b2d3d8cc984324e,Rerun test in a single thread if multi-thread failed,MERGED,2019-01-23 10:14:24.000000000,2019-02-07 18:55:17.000000000,2019-02-07 18:55:17.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 21041}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-01-23 10:14:24.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/fc53fd04577a6878b128d48ab12a570a2b66b074', 'message': ""Rerun test in a single thread if multi-thread failed\n\nSometimes multi-threaded connectivity tests fail, and we\ndon't really know the root cause for that.\nWith this patch, we'll rerun a test in a single thread in\ncase it failed.\n\nChange-Id: I1f8c61b3d5a384e7c9a9e1101b2d3d8cc984324e\n""}]",0,632684,fc53fd04577a6878b128d48ab12a570a2b66b074,25,5,1,21041,,,0,"Rerun test in a single thread if multi-thread failed

Sometimes multi-threaded connectivity tests fail, and we
don't really know the root cause for that.
With this patch, we'll rerun a test in a single thread in
case it failed.

Change-Id: I1f8c61b3d5a384e7c9a9e1101b2d3d8cc984324e
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/84/632684/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/tests/scenario/base.py'],1,fc53fd04577a6878b128d48ab12a570a2b66b074,mt_curl_exception," def _run_threaded_and_assert( self, fn, predicate, repetitions=100, threads=8, fn_timeout=1, retry_repetitions=10): try: results = [tp.apply_async(fn) for _ in range(repetitions)] resps = [result.get(timeout=fn_timeout) for result in results] predicate(self, resps) except Exception as e: LOG.info(""Multi threaded test failed with Exception:%s. "" ""Retry with single thread"", e) resps = [fn() for _ in range(retry_repetitions)] predicate(self, resps)"," def _run_threaded_and_assert(self, fn, predicate, repetitions=100, threads=8, fn_timeout=1): results = [tp.apply_async(fn) for _ in range(repetitions)] resps = [result.get(timeout=fn_timeout) for result in results] predicate(self, resps)",12,5
openstack%2Freleases~master~Idfaaabfe7e62fb725e1ffa095a9da8a07f41107a,openstack/releases,master,Idfaaabfe7e62fb725e1ffa095a9da8a07f41107a,Release os-brick 2.3.5,MERGED,2019-02-06 22:27:05.000000000,2019-02-07 18:44:15.000000000,2019-02-07 18:44:14.000000000,"[{'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-06 22:27:05.000000000', 'files': ['deliverables/queens/os-brick.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a57f0ec9f2709219cdde282c4a0fb46926037e27', 'message': 'Release os-brick 2.3.5\n\nRelease from stable/queens.\n\nChange-Id: Idfaaabfe7e62fb725e1ffa095a9da8a07f41107a\n'}]",0,635346,a57f0ec9f2709219cdde282c4a0fb46926037e27,7,4,1,5314,,,0,"Release os-brick 2.3.5

Release from stable/queens.

Change-Id: Idfaaabfe7e62fb725e1ffa095a9da8a07f41107a
",git fetch https://review.opendev.org/openstack/releases refs/changes/46/635346/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/queens/os-brick.yaml'],1,a57f0ec9f2709219cdde282c4a0fb46926037e27,os-brick-2.3.5, - projects: - hash: 30d7bc124e564d4a2c288f3666d8d14dc96fb9f5 repo: openstack/os-brick version: 2.3.5,,4,0
openstack%2Fopenstack-ansible-tests~master~I878e8c479d8963b339b5e1f6031f649c0f87082f,openstack/openstack-ansible-tests,master,I878e8c479d8963b339b5e1f6031f649c0f87082f,Add placement_install_method for distro installations,MERGED,2019-02-06 20:47:13.000000000,2019-02-07 18:42:09.000000000,2019-02-07 18:42:08.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-02-06 20:47:13.000000000', 'files': ['test-distro_install-vars.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/95b3c2740e2c9ee8d823247607a005dde6a6910d', 'message': 'Add placement_install_method for distro installations\n\nThis patch adds placement_install_method of distro in the extra\nvars file that we use for testing in order for tests to properly\nrun for Placement.\n\nChange-Id: I878e8c479d8963b339b5e1f6031f649c0f87082f\n'}]",0,635281,95b3c2740e2c9ee8d823247607a005dde6a6910d,8,4,1,1004,,,0,"Add placement_install_method for distro installations

This patch adds placement_install_method of distro in the extra
vars file that we use for testing in order for tests to properly
run for Placement.

Change-Id: I878e8c479d8963b339b5e1f6031f649c0f87082f
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/81/635281/1 && git format-patch -1 --stdout FETCH_HEAD,['test-distro_install-vars.yml'],1,95b3c2740e2c9ee8d823247607a005dde6a6910d,,placement_install_method: distro,,1,0
openstack%2Fopenstack-ansible-os_ceilometer~master~Ia467e20c32732152a03579216a0ced0dbb4038c4,openstack/openstack-ansible-os_ceilometer,master,Ia467e20c32732152a03579216a0ced0dbb4038c4,Cleanup files and templates using smart sources,MERGED,2019-02-01 15:17:46.000000000,2019-02-07 18:33:18.000000000,2019-02-07 18:33:18.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-02-01 15:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/19b7de2001ebad98ecae6ec3049bdc1c9a9415b3', 'message': 'Cleanup files and templates using smart sources\n\nThe files and templates we carry are almost always in a state of\nmaintenance. The upstream services are maintaining these files and\nthere\'s really no reason we need to carry duplicate copies of them. This\nchange removes all of the files we expect to get from the upstream\nservice. while the focus of this change is to remove configuration file\nmaintenance burdens it also allows the role to execute faster.\n\n  * Source installs have the configuration files within the venv at\n    ""<<VENV_PATH>>/etc/<<SERVICE_NAME>>"". The role will now link the\n    default configuration path to this directory. When the service is\n    upgraded the link will move to the new venv path.\n  * Distro installs package all of the required configuration files.\n\nTo maintain our current capabilities to override configuration the\nrole will fetch files from the disk whenever an override is provided and\nthen push the fetched file back to the target using `config_template`.\n\nChange-Id: Ia467e20c32732152a03579216a0ced0dbb4038c4\n'}, {'number': 2, 'created': '2019-02-01 17:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/7efa57d8f2a17b70a1fe23559954c137113a5272', 'message': 'Cleanup files and templates using smart sources\n\nThe files and templates we carry are almost always in a state of\nmaintenance. The upstream services are maintaining these files and\nthere\'s really no reason we need to carry duplicate copies of them. This\nchange removes all of the files we expect to get from the upstream\nservice. while the focus of this change is to remove configuration file\nmaintenance burdens it also allows the role to execute faster.\n\n  * Source installs have the configuration files within the venv at\n    ""<<VENV_PATH>>/etc/<<SERVICE_NAME>>"". The role will now link the\n    default configuration path to this directory. When the service is\n    upgraded the link will move to the new venv path.\n  * Distro installs package all of the required configuration files.\n\nTo maintain our current capabilities to override configuration the\nrole will fetch files from the disk whenever an override is provided and\nthen push the fetched file back to the target using `config_template`.\n\nChange-Id: Ia467e20c32732152a03579216a0ced0dbb4038c4\n'}, {'number': 3, 'created': '2019-02-01 18:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/e03ac83a84f04b3aa98b338d400a525e51b5ad4f', 'message': 'Cleanup files and templates using smart sources\n\nThe files and templates we carry are almost always in a state of\nmaintenance. The upstream services are maintaining these files and\nthere\'s really no reason we need to carry duplicate copies of them. This\nchange removes all of the files we expect to get from the upstream\nservice. while the focus of this change is to remove configuration file\nmaintenance burdens it also allows the role to execute faster.\n\n  * Source installs have the configuration files within the venv at\n    ""<<VENV_PATH>>/etc/<<SERVICE_NAME>>"". The role will now link the\n    default configuration path to this directory. When the service is\n    upgraded the link will move to the new venv path.\n  * Distro installs package all of the required configuration files.\n\nTo maintain our current capabilities to override configuration the\nrole will fetch files from the disk whenever an override is provided and\nthen push the fetched file back to the target using `config_template`.\n\nChange-Id: Ia467e20c32732152a03579216a0ced0dbb4038c4\n'}, {'number': 4, 'created': '2019-02-04 12:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/b8ddca76ea55bdd656e03f6a9d0f345a008758aa', 'message': 'Cleanup files and templates using smart sources\n\nThe files and templates we carry are almost always in a state of\nmaintenance. The upstream services are maintaining these files and\nthere\'s really no reason we need to carry duplicate copies of them. This\nchange removes all of the files we expect to get from the upstream\nservice. while the focus of this change is to remove configuration file\nmaintenance burdens it also allows the role to execute faster.\n\n  * Source installs have the configuration files within the venv at\n    ""<<VENV_PATH>>/etc/<<SERVICE_NAME>>"". The role will now link the\n    default configuration path to this directory. When the service is\n    upgraded the link will move to the new venv path.\n  * Distro installs package all of the required configuration files.\n\nTo maintain our current capabilities to override configuration the\nrole will fetch files from the disk whenever an override is provided and\nthen push the fetched file back to the target using `config_template`.\n\nChange-Id: Ia467e20c32732152a03579216a0ced0dbb4038c4\n'}, {'number': 5, 'created': '2019-02-04 14:17:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/3c721b82b9fdac634ecde46c0c47f64902b4bd8e', 'message': 'Cleanup files and templates using smart sources\n\nThe files and templates we carry are almost always in a state of\nmaintenance. The upstream services are maintaining these files and\nthere\'s really no reason we need to carry duplicate copies of them. This\nchange removes all of the files we expect to get from the upstream\nservice. while the focus of this change is to remove configuration file\nmaintenance burdens it also allows the role to execute faster.\n\n  * Source installs have the configuration files within the venv at\n    ""<<VENV_PATH>>/etc/<<SERVICE_NAME>>"". The role will now link the\n    default configuration path to this directory. When the service is\n    upgraded the link will move to the new venv path.\n  * Distro installs package all of the required configuration files.\n\nTo maintain our current capabilities to override configuration the\nrole will fetch files from the disk whenever an override is provided and\nthen push the fetched file back to the target using `config_template`.\n\nChange-Id: Ia467e20c32732152a03579216a0ced0dbb4038c4\n'}, {'number': 6, 'created': '2019-02-04 14:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/2c02670d01063cee5506eef5c2401ac968310030', 'message': 'Cleanup files and templates using smart sources\n\nThe files and templates we carry are almost always in a state of\nmaintenance. The upstream services are maintaining these files and\nthere\'s really no reason we need to carry duplicate copies of them. This\nchange removes all of the files we expect to get from the upstream\nservice. while the focus of this change is to remove configuration file\nmaintenance burdens it also allows the role to execute faster.\n\n  * Source installs have the configuration files within the venv at\n    ""<<VENV_PATH>>/etc/<<SERVICE_NAME>>"". The role will now link the\n    default configuration path to this directory. When the service is\n    upgraded the link will move to the new venv path.\n  * Distro installs package all of the required configuration files.\n\nTo maintain our current capabilities to override configuration the\nrole will fetch files from the disk whenever an override is provided and\nthen push the fetched file back to the target using `config_template`.\n\nChange-Id: Ia467e20c32732152a03579216a0ced0dbb4038c4\n'}, {'number': 7, 'created': '2019-02-04 18:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/8b18c0e81c054256bc94b4ce85fa4cd3f5550e79', 'message': 'Cleanup files and templates using smart sources\n\nThe files and templates we carry are almost always in a state of\nmaintenance. The upstream services are maintaining these files and\nthere\'s really no reason we need to carry duplicate copies of them. This\nchange removes all of the files we expect to get from the upstream\nservice. while the focus of this change is to remove configuration file\nmaintenance burdens it also allows the role to execute faster.\n\n  * Source installs have the configuration files within the venv at\n    ""<<VENV_PATH>>/etc/<<SERVICE_NAME>>"". The role will now link the\n    default configuration path to this directory. When the service is\n    upgraded the link will move to the new venv path.\n  * Distro installs package all of the required configuration files.\n\nTo maintain our current capabilities to override configuration the\nrole will fetch files from the disk whenever an override is provided and\nthen push the fetched file back to the target using `config_template`.\n\nChange-Id: Ia467e20c32732152a03579216a0ced0dbb4038c4\n'}, {'number': 8, 'created': '2019-02-04 19:26:08.000000000', 'files': ['tasks/ceilometer_pre_install.yml', 'releasenotes/notes/smart-sources-59cd0811dcf1ae49.yaml', 'tasks/ceilometer_post_install.yml', 'files/rootwrap.d/ipmi.filters', 'templates/rootwrap.conf.j2', 'defaults/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/ed4d7ed536227f2cd77171ab3252c6292ee8a4b7', 'message': 'Cleanup files and templates using smart sources\n\nThe files and templates we carry are almost always in a state of\nmaintenance. The upstream services are maintaining these files and\nthere\'s really no reason we need to carry duplicate copies of them. This\nchange removes all of the files we expect to get from the upstream\nservice. while the focus of this change is to remove configuration file\nmaintenance burdens it also allows the role to execute faster.\n\n  * Source installs have the configuration files within the venv at\n    ""<<VENV_PATH>>/etc/<<SERVICE_NAME>>"". The role will now link the\n    default configuration path to this directory. When the service is\n    upgraded the link will move to the new venv path.\n  * Distro installs package all of the required configuration files.\n\nTo maintain our current capabilities to override configuration the\nrole will fetch files from the disk whenever an override is provided and\nthen push the fetched file back to the target using `config_template`.\n\nChange-Id: Ia467e20c32732152a03579216a0ced0dbb4038c4\n'}]",0,634431,ed4d7ed536227f2cd77171ab3252c6292ee8a4b7,26,5,8,28619,,,0,"Cleanup files and templates using smart sources

The files and templates we carry are almost always in a state of
maintenance. The upstream services are maintaining these files and
there's really no reason we need to carry duplicate copies of them. This
change removes all of the files we expect to get from the upstream
service. while the focus of this change is to remove configuration file
maintenance burdens it also allows the role to execute faster.

  * Source installs have the configuration files within the venv at
    ""<<VENV_PATH>>/etc/<<SERVICE_NAME>>"". The role will now link the
    default configuration path to this directory. When the service is
    upgraded the link will move to the new venv path.
  * Distro installs package all of the required configuration files.

To maintain our current capabilities to override configuration the
role will fetch files from the disk whenever an override is provided and
then push the fetched file back to the target using `config_template`.

Change-Id: Ia467e20c32732152a03579216a0ced0dbb4038c4
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/31/634431/8 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/ceilometer_pre_install.yml', 'files/rootwrap.d/ipmi.filters', 'tasks/ceilometer_post_install.yml', 'templates/rootwrap.conf.j2', 'defaults/main.yml', 'vars/main.yml']",6,19b7de2001ebad98ecae6ec3049bdc1c9a9415b3,smart-sources,"_ceilometer_rootwrap_conf_overrides: DEFAULT: filters_path: ""/etc/ceilometer/rootwrap.d,/usr/share/ceilometer/rootwrap"" exec_dirs: ""{{ ceilometer_bin }},/sbin,/usr/sbin,/bin,/usr/bin,/usr/local/bin,/usr/local/sbin"" ceilometer_core_files: - tmp_f: ""/tmp/rootwrap.conf"" target_f: ""/etc/ceilometer/rootwrap.conf"" config_overrides: ""{{ _ceilometer_rootwrap_conf_overrides | combine(ceilometer_rootwrap_conf_overrides, recursive=True) }}"" config_type: ""ini"" owner: ""root"" group: ""{{ ceilometer_system_group_name }}"" mode: ""0640"" - tmp_f: ""/tmp/polling.yaml"" target_f: ""/etc/ceilometer/polling.yaml"" config_overrides: ""{{ ceilometer_polling_yaml_overrides }}"" config_type: ""yaml"" list_extend: false content: ""{{ ceilometer_polling_user_content }}"" - tmp_f: ""/tmp/loadbalancer_v2_meter_definitions.yaml"" target_f: ""/etc/ceilometer/loadbalancer_v2_meter_definitions.yaml"" config_overrides: ""{{ ceilometer_loadbalancer_v2_meter_definitions_yaml_overrides }}"" config_type: ""yaml"" list_extend: false content: ""{{ ceilometer_loadbalancer_v2_meter_definitions_user_content }}"" - tmp_f: ""/tmp/osprofiler_event_definitions.yaml"" target_f: ""/etc/ceilometer/osprofiler_event_definitions.yaml"" config_overrides: ""{{ ceilometer_osprofiler_event_definitions_yaml_overrides }}"" config_type: ""yaml"" list_extend: false content: ""{{ ceilometer_osprofiler_event_definitions_user_content }}"" - tmp_f: ""/tmp/meters.yaml"" target_f: ""{{ ceilometer_lib_dir }}/ceilometer/data/meters.d/meters.yaml"" config_overrides: ""{{ ceilometer_data_meters_yaml_overrides }}"" config_type: ""yaml"" list_extend: false content: ""{{ ceilometer_data_meters_user_content }}"" - tmp_f: ""/tmp/event_definitions.yaml"" target_f: ""{{ ceilometer_lib_dir }}/ceilometer/pipeline/data/event_definitions.yaml"" config_overrides: ""{{ ceilometer_event_definitions_yaml_overrides }}"" config_type: ""yaml"" list_extend: false content: ""{{ ceilometer_event_definitions_user_content }}"" - tmp_f: ""/tmp/gnocchi_resources.yaml"" target_f: ""{{ ceilometer_lib_dir }}/ceilometer/publisher/data/gnocchi_resources.yaml"" config_overrides: ""{{ ceilometer_gnocchi_resources_yaml_overrides }}"" config_type: ""yaml"" list_extend: false content: ""{{ ceilometer_gnocchi_resources_user_content }}""","# These vars find the appropriate result content from the with_items loop ceilometer_data_meters_default_content: | {{ _git_file_fetch.results | selectattr('item', 'equalto', ceilometer_git_config_lookup_location ~ '/' ~ ceilometer_data_meters_git_file_path) | map(attribute='content') | first }} ceilometer_event_definitions_default_content: | {{ _git_file_fetch.results | selectattr('item', 'equalto', ceilometer_git_config_lookup_location ~ '/' ~ ceilometer_event_definitions_git_file_path) | map(attribute='content') | first }} ceilometer_gnocchi_resources_default_content: | {{ _git_file_fetch.results | selectattr('item', 'equalto', ceilometer_git_config_lookup_location ~ '/' ~ ceilometer_gnocchi_resources_git_file_path) | map(attribute='content') | first }} ceilometer_loadbalancer_v2_meter_definitions_default_content: | {{ _git_file_fetch.results | selectattr('item', 'equalto', ceilometer_git_config_lookup_location ~ '/' ~ ceilometer_loadbalancer_v2_meter_definitions_git_file_path) | map(attribute='content') | first }} ceilometer_osprofiler_event_definitions_default_content: | {{ _git_file_fetch.results | selectattr('item', 'equalto', ceilometer_git_config_lookup_location ~ '/' ~ ceilometer_osprofiler_event_definitions_git_file_path) | map(attribute='content') | first }} ceilometer_polling_default_content: | {{ _git_file_fetch.results | selectattr('item', 'equalto', ceilometer_git_config_lookup_location ~ '/' ~ ceilometer_polling_git_file_path) | map(attribute='content') | first }}",144,125
openstack%2Fnetworking-l2gw~master~Iced81991bbde2fc2e409ef14156192ccae866670,openstack/networking-l2gw,master,Iced81991bbde2fc2e409ef14156192ccae866670,Change mailing list to openstack-discuss in README,MERGED,2019-01-11 10:14:33.000000000,2019-02-07 18:32:15.000000000,2019-02-07 18:32:14.000000000,"[{'_account_id': 21626}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-11 10:14:33.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/f9308feb5585d0a4c30b110b6437234affe5e516', 'message': 'Change mailing list to openstack-discuss in README\n\nMailinglists have been updated. Openstack-discuss replaces\nopenstack-dev.\n\nChange-Id: Iced81991bbde2fc2e409ef14156192ccae866670\n'}]",0,630123,f9308feb5585d0a4c30b110b6437234affe5e516,6,2,1,8313,,,0,"Change mailing list to openstack-discuss in README

Mailinglists have been updated. Openstack-discuss replaces
openstack-dev.

Change-Id: Iced81991bbde2fc2e409ef14156192ccae866670
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/23/630123/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,f9308feb5585d0a4c30b110b6437234affe5e516,mail-list,`OpenStack Discuss Mailing List <mailto:openstack-discuss@lists.openstack.org>`;,`OpenStack Development Mailing List <mailto:openstack-dev@lists.openstack.org>`;,1,1
openstack%2Ftripleo-quickstart~master~I984bca564dc53fff9fd2b6b37a613aaa42f0f9e3,openstack/tripleo-quickstart,master,I984bca564dc53fff9fd2b6b37a613aaa42f0f9e3,use bindep to install rpm deps,MERGED,2019-01-31 22:22:33.000000000,2019-02-07 18:27:51.000000000,2019-02-07 18:27:51.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-01-31 22:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/57ead44c5dc2b24731edbb4316592a02d890f367', 'message': 'WIP: use bindep to install rpm deps\n\nChange-Id: I984bca564dc53fff9fd2b6b37a613aaa42f0f9e3\n'}, {'number': 2, 'created': '2019-01-31 22:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/50a6a507d6f013d83edfac328050c04fab393bb8', 'message': 'WIP: use bindep to install rpm deps\n\nChange-Id: I984bca564dc53fff9fd2b6b37a613aaa42f0f9e3\n'}, {'number': 3, 'created': '2019-01-31 23:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0a38694c3183bd756b1643667590b69d9d8fd3ba', 'message': 'WIP: use bindep to install rpm deps\n\nChange-Id: I984bca564dc53fff9fd2b6b37a613aaa42f0f9e3\n'}, {'number': 4, 'created': '2019-02-01 13:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2d6489c214f07fec4e065838d45e531baeb0da18', 'message': 'WIP: use bindep to install rpm deps\n\nChange-Id: I984bca564dc53fff9fd2b6b37a613aaa42f0f9e3\n'}, {'number': 5, 'created': '2019-02-01 19:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9c4690f6b8919be7772df4ba76a20d1047363a1d', 'message': 'WIP: use bindep to install rpm deps\n\nChange-Id: I984bca564dc53fff9fd2b6b37a613aaa42f0f9e3\n'}, {'number': 6, 'created': '2019-02-01 20:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c05ac7bbab8289243745d9c2db2dd08adffb1536', 'message': 'use bindep to install rpm deps\n\nUse the functions in install-deps.sh to install the rpm and\npython modules required for quickstart.sh\n\nDetails:\nhttps://tree.taiga.io/project/tripleo-ci-board/us/571\n\n\nChange-Id: I984bca564dc53fff9fd2b6b37a613aaa42f0f9e3\n'}, {'number': 7, 'created': '2019-02-01 23:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7788692a646011f2f47f356d80aa44c7ffde7020', 'message': 'use bindep to install rpm deps\n\nUse the functions in install-deps.sh to install the rpm and\npython modules required for quickstart.sh\n\nDetails:\nhttps://tree.taiga.io/project/tripleo-ci-board/us/571\n\nChange-Id: I984bca564dc53fff9fd2b6b37a613aaa42f0f9e3\n'}, {'number': 8, 'created': '2019-02-02 15:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b8a5e9d52214e5767145414941e1c888f9a10eb0', 'message': 'use bindep to install rpm deps\n\nUse the functions in install-deps.sh to install the rpm and\npython modules required for quickstart.sh\n\nDetails:\nhttps://tree.taiga.io/project/tripleo-ci-board/us/571\n\nChange-Id: I984bca564dc53fff9fd2b6b37a613aaa42f0f9e3\n'}, {'number': 9, 'created': '2019-02-02 17:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ab9a4f876ff306226d1281b4a49144e417c99e28', 'message': 'use bindep to install rpm deps\n\nUse the functions in install-deps.sh to install the rpm and\npython modules required for quickstart.sh\n\nDetails:\nhttps://tree.taiga.io/project/tripleo-ci-board/us/571\n\nChange-Id: I984bca564dc53fff9fd2b6b37a613aaa42f0f9e3\n'}, {'number': 10, 'created': '2019-02-02 17:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/fddecde8e24f2a38200b3656314f913075ac76ac', 'message': 'use bindep to install rpm deps\n\nUse the functions in install-deps.sh to install the rpm and\npython modules required for quickstart.sh\n\nDetails:\nhttps://tree.taiga.io/project/tripleo-ci-board/us/571\n\nChange-Id: I984bca564dc53fff9fd2b6b37a613aaa42f0f9e3\n'}, {'number': 11, 'created': '2019-02-04 20:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ecd605171d1694046d42e3427e2e747f69188004', 'message': 'use bindep to install rpm deps\n\nUse the functions in install-deps.sh to install the rpm and\npython modules required for quickstart.sh\n\nDetails:\nhttps://tree.taiga.io/project/tripleo-ci-board/us/571\n\nChange-Id: I984bca564dc53fff9fd2b6b37a613aaa42f0f9e3\n'}, {'number': 12, 'created': '2019-02-04 22:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6fdc71e3a9361eacad15129ebbcfe4b20d8f52d3', 'message': 'use bindep to install rpm deps\n\nUse the functions in install-deps.sh to install the rpm and\npython modules required for quickstart.sh\n\nDetails:\nhttps://tree.taiga.io/project/tripleo-ci-board/us/571\n\nChange-Id: I984bca564dc53fff9fd2b6b37a613aaa42f0f9e3\n'}, {'number': 13, 'created': '2019-02-05 16:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a9867580a6f380c60b9ca91b70ca50eb3d4ef553', 'message': 'use bindep to install rpm deps\n\nUse the functions in install-deps.sh to install the rpm and\npython modules required for quickstart.sh\n\nDetails:\nhttps://tree.taiga.io/project/tripleo-ci-board/us/571\n\nChange-Id: I984bca564dc53fff9fd2b6b37a613aaa42f0f9e3\n'}, {'number': 14, 'created': '2019-02-05 19:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6d33f49cdc0077c9b3ddbe27fc247c53817610d4', 'message': 'use bindep to install rpm deps\n\nUse the functions in install-deps.sh to install the rpm and\npython modules required for quickstart.sh\n\nDetails:\nhttps://tree.taiga.io/project/tripleo-ci-board/us/571\n\nChange-Id: I984bca564dc53fff9fd2b6b37a613aaa42f0f9e3\n'}, {'number': 15, 'created': '2019-02-05 20:41:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/eb960bf29d23417787eb4b689e356b49607aabbf', 'message': 'use bindep to install rpm deps\n\nUse the functions in install-deps.sh to install the rpm and\npython modules required for quickstart.sh\n\nAdd option to quickstart.sh to override the sudo check\n-q, --override_sudo_check""\nIf passwordless sudo is not enabled, prompt for\nthe user password while installing packages\n\nDetails:\nhttps://tree.taiga.io/project/tripleo-ci-board/us/571\n\nChange-Id: I984bca564dc53fff9fd2b6b37a613aaa42f0f9e3\n'}, {'number': 16, 'created': '2019-02-06 02:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/06a7512c96a83354a04bd85fac16ea4f4f03b8bd', 'message': 'use bindep to install rpm deps\n\nUse the functions in install-deps.sh to install the rpm and\npython modules required for quickstart.sh\n\nAdd option to quickstart.sh to override the sudo check\n-q, --override_sudo_check""\nIf passwordless sudo is not enabled, prompt for\nthe user password while installing packages\n\nDetails:\nhttps://tree.taiga.io/project/tripleo-ci-board/us/571\n\nChange-Id: I984bca564dc53fff9fd2b6b37a613aaa42f0f9e3\n'}, {'number': 17, 'created': '2019-02-06 16:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c1f2bc610795e9d58d3496208588c7c30703b623', 'message': 'use bindep to install rpm deps\n\nUse the functions in install-deps.sh to install the rpm and\npython modules required for quickstart.sh\n\nAdd option to quickstart.sh to override the sudo check\n-q, --override_sudo_check""\nIf passwordless sudo is not enabled, prompt for\nthe user password while installing packages\n\nDetails:\nhttps://tree.taiga.io/project/tripleo-ci-board/us/571\n\nChange-Id: I984bca564dc53fff9fd2b6b37a613aaa42f0f9e3\n'}, {'number': 18, 'created': '2019-02-06 21:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/21cc8ed08ac91c75f0357035b935eba77569a79c', 'message': 'use bindep to install rpm deps\n\nUse the functions in install-deps.sh to install the rpm and\npython modules required for quickstart.sh\n\nAdd option to quickstart.sh to override the sudo check\n-q, --override_sudo_check""\nIf passwordless sudo is not enabled, prompt for\nthe user password while installing packages\n\nDetails:\nhttps://tree.taiga.io/project/tripleo-ci-board/us/571\n\nChange-Id: I984bca564dc53fff9fd2b6b37a613aaa42f0f9e3\n'}, {'number': 19, 'created': '2019-02-06 21:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d2e8f381079930b8f21b902a77c34742248d6848', 'message': 'use bindep to install rpm deps\n\nUse the functions in install-deps.sh to install the rpm and\npython modules required for quickstart.sh\n\nAdd option to quickstart.sh to override the sudo check\n-q, --override_sudo_check""\nIf passwordless sudo is not enabled, prompt for\nthe user password while installing packages\n\nDetails:\nhttps://tree.taiga.io/project/tripleo-ci-board/us/571\n\nChange-Id: I984bca564dc53fff9fd2b6b37a613aaa42f0f9e3\n'}, {'number': 20, 'created': '2019-02-06 22:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3671b9bda72e01529db6fa060afc51fb6e175d3d', 'message': 'use bindep to install rpm deps\n\nUse the functions in install-deps.sh to install the rpm and\npython modules required for quickstart.sh\n\nAdd option to quickstart.sh to override the sudo check\n-q, --override_sudo_check""\nIf passwordless sudo is not enabled, prompt for\nthe user password while installing packages\n\nDetails:\nhttps://tree.taiga.io/project/tripleo-ci-board/us/571\n\nChange-Id: I984bca564dc53fff9fd2b6b37a613aaa42f0f9e3\n'}, {'number': 21, 'created': '2019-02-06 22:47:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f9d64ecb5ad11d839be4d0edccdaa4b946a93f58', 'message': 'use bindep to install rpm deps\n\nUse the functions in install-deps.sh to install the rpm and\npython modules required for quickstart.sh\n\nAdd option to quickstart.sh to override the sudo check\n-q, --override_sudo_check""\nIf passwordless sudo is not enabled, prompt for\nthe user password while installing packages\n\nDetails:\nhttps://tree.taiga.io/project/tripleo-ci-board/us/571\n\nChange-Id: I984bca564dc53fff9fd2b6b37a613aaa42f0f9e3\n'}, {'number': 22, 'created': '2019-02-06 22:56:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b70eb7fcd973a0ac925b747ea84347bf1ff7fd75', 'message': 'use bindep to install rpm deps\n\nUse the functions in install-deps.sh to install the rpm and\npython modules required for quickstart.sh\n\nAdd option to quickstart.sh to override the sudo check\n-q, --override_sudo_check""\nIf passwordless sudo is not enabled, prompt for\nthe user password while installing packages\n\nDetails:\nhttps://tree.taiga.io/project/tripleo-ci-board/us/571\n\nChange-Id: I984bca564dc53fff9fd2b6b37a613aaa42f0f9e3\n'}, {'number': 23, 'created': '2019-02-06 23:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c7d38034989825797d5d9d50388d8b566e43e72a', 'message': 'use bindep to install rpm deps\n\nUse the functions in install-deps.sh to install the rpm and\npython modules required for quickstart.sh\n\nAdd option to quickstart.sh to override the sudo check\n-q, --override_sudo_check""\nIf passwordless sudo is not enabled, prompt for\nthe user password while installing packages\n\nDetails:\nhttps://tree.taiga.io/project/tripleo-ci-board/us/571\n\nChange-Id: I984bca564dc53fff9fd2b6b37a613aaa42f0f9e3\n'}, {'number': 24, 'created': '2019-02-07 00:02:13.000000000', 'files': ['bindep_python3.txt', 'install-deps.sh', 'bindep_python2.txt', 'quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/fbee853ba8987900945b9411a89c8ee0b038eacf', 'message': 'use bindep to install rpm deps\n\nUse the functions in install-deps.sh to install the rpm and\npython modules required for quickstart.sh\n\nAdd option to quickstart.sh to override the sudo check\n-q, --override_sudo_check""\nIf passwordless sudo is not enabled, prompt for\nthe user password while installing packages\n\nDetails:\nhttps://tree.taiga.io/project/tripleo-ci-board/us/571\n\nChange-Id: I984bca564dc53fff9fd2b6b37a613aaa42f0f9e3\n'}]",17,634329,fbee853ba8987900945b9411a89c8ee0b038eacf,90,10,24,9592,,,0,"use bindep to install rpm deps

Use the functions in install-deps.sh to install the rpm and
python modules required for quickstart.sh

Add option to quickstart.sh to override the sudo check
-q, --override_sudo_check""
If passwordless sudo is not enabled, prompt for
the user password while installing packages

Details:
https://tree.taiga.io/project/tripleo-ci-board/us/571

Change-Id: I984bca564dc53fff9fd2b6b37a613aaa42f0f9e3
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/29/634329/24 && git format-patch -1 --stdout FETCH_HEAD,"['bindep_python3.txt', 'install-deps.sh', 'bindep_python2.txt', 'quickstart.sh']",4,57ead44c5dc2b24731edbb4316592a02d890f367,generate-zuul-based-reproducer," # install required deps for a python virtual environment # setup the virtual environment install_virtual_env() # continue package installs with bindep if [ ""$(python_cmd)"" == ""python3"" ]; then bindep -l newline -f bindep_python3.txt bindep -f bindep_python3.txt bindep -l newline -f bindep_python2.txt bindep -f bindep_python2.txt"," # Activate the virtualenv only when it is not already activated otherwise # It create the virtualenv and then activate it. if [[ -z ${VIRTUAL_ENV+x} ]]; then $(python_cmd) -m virtualenv \ $( [ ""$OPT_SYSTEM_PACKAGES"" = 1 ] && printf -- ""--system-site-packages\n"" )\ $OPT_WORKDIR . $OPT_WORKDIR/bin/activate echo ""Warning: VIRTUAL_ENV=$VIRTUAL_ENV was found active and is being reused."" $(python_cmd) -m pip install pip --upgrade",53,20
openstack%2Fswift~master~I17097070af4e395fdb631e30f94db97e1848a577,openstack/swift,master,I17097070af4e395fdb631e30f94db97e1848a577,encryption: Be more tolerant of errors while decrypting listings,NEW,2019-02-01 23:02:57.000000000,2019-02-07 18:15:14.000000000,,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-01 23:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a6a4b22803ea9218b3ee9fd7435bb5ca8d6b38fe', 'message': 'encryption: Be more tolerant of errors while decrypting listings\n\nPreviously, if a bad root encryption secret was loaded, container\nlistings may always return 500 Internal Error; logs would show this to\nbe the result of a UnicodeDecodeError while trying to decrypt an\nobject\'s ETag.\n\nWhen we added support for multiple root encryption secrets, we already\nhad to tolerate unknown secret IDs, and would replace the ""hash"" value\nwith ""<unknown>"".\n\nNow, do that when the secret ID is known, but the secret is wrong (as\nevidenced by the fact that the decrypted hash is not UTF-8).\n\nChange-Id: I17097070af4e395fdb631e30f94db97e1848a577\nRelated-Change: I40307acf39b6c1cc9921f711a8da55d03924d232\nCloses-Bug: 1729921\n'}, {'number': 2, 'created': '2019-02-02 00:25:18.000000000', 'files': ['test/unit/common/middleware/crypto/test_decrypter.py', 'swift/common/middleware/crypto/decrypter.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/e9546d5c198a150ace2632188e736882d1d0af40', 'message': 'encryption: Be more tolerant of errors while decrypting listings\n\nPreviously, if a bad root encryption secret was loaded, container\nlistings may always return 500 Internal Error; logs would show this to\nbe the result of a UnicodeDecodeError while trying to decrypt an\nobject\'s ETag.\n\nWhen we added support for multiple root encryption secrets, we already\nhad to tolerate unknown secret IDs, and would replace the ""hash"" value\nwith ""<unknown>"".\n\nNow, do that when the secret ID is known, but the secret is wrong (as\nevidenced by the fact that the decrypted hash is not UTF-8).\n\nChange-Id: I17097070af4e395fdb631e30f94db97e1848a577\nRelated-Change: I40307acf39b6c1cc9921f711a8da55d03924d232\nCloses-Bug: 1729921\n'}]",2,634507,e9546d5c198a150ace2632188e736882d1d0af40,5,2,2,15343,,,0,"encryption: Be more tolerant of errors while decrypting listings

Previously, if a bad root encryption secret was loaded, container
listings may always return 500 Internal Error; logs would show this to
be the result of a UnicodeDecodeError while trying to decrypt an
object's ETag.

When we added support for multiple root encryption secrets, we already
had to tolerate unknown secret IDs, and would replace the ""hash"" value
with ""<unknown>"".

Now, do that when the secret ID is known, but the secret is wrong (as
evidenced by the fact that the decrypted hash is not UTF-8).

Change-Id: I17097070af4e395fdb631e30f94db97e1848a577
Related-Change: I40307acf39b6c1cc9921f711a8da55d03924d232
Closes-Bug: 1729921
",git fetch https://review.opendev.org/openstack/swift refs/changes/07/634507/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/middleware/crypto/decrypter.py'],1,a6a4b22803ea9218b3ee9fd7435bb5ca8d6b38fe,bug/1729921," except (EncryptionException, UnicodeDecodeError) as err: if not isinstance(err, UnknownSecretIdError): self.logger.error( ""Error decrypting container listing for "" ""%s/%s with key %s: %s"", req.path_info, obj_dict['name'], crypto_meta['key_id'], err) elif err.args[0] not in bad_keys:"," except EncryptionException as err: if not isinstance(err, UnknownSecretIdError) or \ err.args[0] not in bad_keys: if isinstance(err, UnknownSecretIdError):",8,4
openstack%2Fneutron~master~Ifd145370629a27549e2bc87da4cda0b8e6e371cf,openstack/neutron,master,Ifd145370629a27549e2bc87da4cda0b8e6e371cf,Secure dnsmasq process against external abuse,ABANDONED,2017-11-28 08:30:40.000000000,2019-02-07 18:12:39.000000000,,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 15309}, {'_account_id': 22348}, {'_account_id': 25618}, {'_account_id': 27193}]","[{'number': 1, 'created': '2017-11-28 08:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d9f1d059015c9f7a3c5753f4aeb2e7623100a372', 'message': 'Secure dnsmasq process against external abuse\n\nCurrently any dhcp agent instance will work as an open resolver. For\ndeployments using publicly routed addresses for tenant networks, this\nallows the agent being abused in dDoS attacks, see [1].\n\nBy setting the `--local-service` option dnsmasq will filter DNS queries\nand reply only to queries from directly attached networks.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1501206\n[2] https://review.openstack.org/256280\n\nChange-Id: Ifd145370629a27549e2bc87da4cda0b8e6e371cf\nCloses-Bug: 1501206\n'}, {'number': 2, 'created': '2017-11-30 13:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3f5a705dfe65f7835aed9fec20332ca5ec068af7', 'message': 'Secure dnsmasq process against external abuse\n\nCurrently any dhcp agent instance will work as an open resolver. For\ndeployments using publicly routed addresses for tenant networks, this\nallows the agent being abused in dDoS attacks, see [1].\n\nBy setting the `--local-service` option dnsmasq will filter DNS queries\nand reply only to queries from directly attached networks.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1501206\n[2] https://review.openstack.org/256280\n\nChange-Id: Ifd145370629a27549e2bc87da4cda0b8e6e371cf\nCloses-Bug: 1501206\n'}, {'number': 3, 'created': '2017-12-05 08:43:38.000000000', 'files': ['neutron/conf/agent/dhcp.py', 'neutron/cmd/sanity/checks.py', 'doc/source/admin/config-dns-res.rst', 'doc/source/cli/neutron-sanity-check.rst', 'neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py', 'neutron/cmd/sanity_check.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/61118906070773970f3627cb018ae1e368d288e1', 'message': 'Secure dnsmasq process against external abuse\n\nCurrently any dhcp agent instance will work as an open resolver. For\ndeployments using publicly routed addresses for tenant networks, this\nallows the agent being abused in dDoS attacks, see [1].\n\nBy setting the `--local-service` option dnsmasq will filter DNS queries\nand reply only to queries from directly attached networks.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1501206\n[2] https://review.openstack.org/256280\n\nChange-Id: Ifd145370629a27549e2bc87da4cda0b8e6e371cf\nCloses-Bug: 1501206\n'}]",9,523343,61118906070773970f3627cb018ae1e368d288e1,29,10,3,27193,,,0,"Secure dnsmasq process against external abuse

Currently any dhcp agent instance will work as an open resolver. For
deployments using publicly routed addresses for tenant networks, this
allows the agent being abused in dDoS attacks, see [1].

By setting the `--local-service` option dnsmasq will filter DNS queries
and reply only to queries from directly attached networks.

[1] https://bugs.launchpad.net/neutron/+bug/1501206
[2] https://review.openstack.org/256280

Change-Id: Ifd145370629a27549e2bc87da4cda0b8e6e371cf
Closes-Bug: 1501206
",git fetch https://review.opendev.org/openstack/neutron refs/changes/43/523343/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/cmd/sanity/checks.py', 'neutron/conf/agent/dhcp.py', 'neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py', 'neutron/cmd/sanity_check.py']",5,d9f1d059015c9f7a3c5753f4aeb2e7623100a372,bug/1501206,"def check_dnsmasq_local_service_supported(): result = checks.dnsmasq_local_service_supported() if not result: LOG.error('The installed version of dnsmasq is too old. ' 'Please update to a version supporting the ' '--local-service option.') return result BoolOptCallback('dnsmasq_local_service_supported', check_dnsmasq_local_service_supported, help=_('Check for local-service support in dnsmasq'), deprecated_for_removal=True, deprecated_since='Pike'),",,64,7
openstack%2Fpython-neutronclient~master~I3a8e3b0dedf9422e4db02b525b333d12ce012a95,openstack/python-neutronclient,master,I3a8e3b0dedf9422e4db02b525b333d12ce012a95,Update hacking version to 1.1,MERGED,2019-01-31 01:45:40.000000000,2019-02-07 17:56:55.000000000,2019-02-07 17:56:55.000000000,"[{'_account_id': 841}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-31 01:45:40.000000000', 'files': ['test-requirements.txt', 'neutronclient/neutron/v2_0/lb/v2/l7rule.py', 'neutronclient/tests/functional/core/test_readonly_neutron.py', 'neutronclient/neutron/v2_0/lb/v2/member.py', 'lower-constraints.txt', 'neutronclient/osc/v2/sfc/sfc_flow_classifier.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/f99c63f98ae8f4c43a152774dab8c9f9741de360', 'message': 'Update hacking version to 1.1\n\nOlder hacking depends on pep8, but pep8 module is replaced by\npycodestyle. This can be resolved by updating hackinng version.\n\nThis commit also fixes E117 (over-indented) and\nW605 (invalid escape sequence) warnings.\n\npep8 is dropped from lower-constraints.txt as it is no longer used.\n\nChange-Id: I3a8e3b0dedf9422e4db02b525b333d12ce012a95\n'}]",2,634089,f99c63f98ae8f4c43a152774dab8c9f9741de360,12,4,1,841,,,0,"Update hacking version to 1.1

Older hacking depends on pep8, but pep8 module is replaced by
pycodestyle. This can be resolved by updating hackinng version.

This commit also fixes E117 (over-indented) and
W605 (invalid escape sequence) warnings.

pep8 is dropped from lower-constraints.txt as it is no longer used.

Change-Id: I3a8e3b0dedf9422e4db02b525b333d12ce012a95
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/89/634089/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'neutronclient/neutron/v2_0/lb/v2/l7rule.py', 'neutronclient/tests/functional/core/test_readonly_neutron.py', 'neutronclient/neutron/v2_0/lb/v2/member.py', 'lower-constraints.txt', 'neutronclient/osc/v2/sfc/sfc_flow_classifier.py']",6,f99c63f98ae8f4c43a152774dab8c9f9741de360,update-hacking," min_port, sep, max_port = port_val.partition("":"") if not min_port: msg = (""Invalid port value '%s', expected format is "" ""min-port:max-port or min-port."") raise argparse.ArgumentTypeError(msg % port_val) if not max_port: max_port = min_port try: attrs[port_type + '_port_range_min'] = int(min_port) attrs[port_type + '_port_range_max'] = int(max_port) except ValueError: message = (_(""Protocol port value %s must be an integer "" ""or integer:integer."") % port_val) raise nc_exc.CommandError(message=message)"," min_port, sep, max_port = port_val.partition("":"") if not min_port: msg = (""Invalid port value '%s', expected format is "" ""min-port:max-port or min-port."") raise argparse.ArgumentTypeError(msg % port_val) if not max_port: max_port = min_port try: attrs[port_type + '_port_range_min'] = int(min_port) attrs[port_type + '_port_range_max'] = int(max_port) except ValueError: message = (_(""Protocol port value %s must be an integer "" ""or integer:integer."") % port_val) raise nc_exc.CommandError(message=message)",50,52
openstack%2Fswift~master~Ib52fb94f34716400224bf2654beefbcc250e3b58,openstack/swift,master,Ib52fb94f34716400224bf2654beefbcc250e3b58,Fix flakey func test setup,MERGED,2019-02-01 02:05:52.000000000,2019-02-07 17:38:31.000000000,2019-02-07 17:38:31.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-01 02:05:52.000000000', 'files': ['test/functional/test_container.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/32d2af06efd7925926dae01276c0feefde27326b', 'message': 'Fix flakey func test setup\n\nChange-Id: Ib52fb94f34716400224bf2654beefbcc250e3b58\n'}]",0,634362,32d2af06efd7925926dae01276c0feefde27326b,11,3,1,15343,,,0,"Fix flakey func test setup

Change-Id: Ib52fb94f34716400224bf2654beefbcc250e3b58
",git fetch https://review.opendev.org/openstack/swift refs/changes/62/634362/1 && git format-patch -1 --stdout FETCH_HEAD,['test/functional/test_container.py'],1,32d2af06efd7925926dae01276c0feefde27326b,," # If the request was received and processed but the container-server # timed out getting the response back to the proxy, or the proxy timed # out getting the response back to the client, the next retry will 202 self.assertIn(resp.status, (201, 202))"," self.assertEqual(resp.status, 201)",4,1
openstack%2Fswift~master~I1cf9894af01f864fab5dc71c38f0fd7fe06faec2,openstack/swift,master,I1cf9894af01f864fab5dc71c38f0fd7fe06faec2,Fix flakey func test teardown,MERGED,2019-02-01 16:25:12.000000000,2019-02-07 17:38:29.000000000,2019-02-07 17:38:29.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-01 16:25:12.000000000', 'files': ['test/functional/test_container.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/d3946d97067c651c61bd84ed987912a69dfb92dc', 'message': 'Fix flakey func test teardown\n\nChange-Id: I1cf9894af01f864fab5dc71c38f0fd7fe06faec2\n'}]",0,634449,d3946d97067c651c61bd84ed987912a69dfb92dc,7,3,1,15343,,,0,"Fix flakey func test teardown

Change-Id: I1cf9894af01f864fab5dc71c38f0fd7fe06faec2
",git fetch https://review.opendev.org/openstack/swift refs/changes/49/634449/1 && git format-patch -1 --stdout FETCH_HEAD,['test/functional/test_container.py'],1,d3946d97067c651c61bd84ed987912a69dfb92dc,," # Under load, container listing may not upate immediately, # so we may attempt to delete the same object multiple # times. Tolerate the object having already been deleted. self.assertIn(resp.status, (204, 404)) for container in (self.name, self.container): resp = retry(delete, container) resp.read() # self.container may not have been created at all, but even if it # has, for either container there may be a failure that trips the # retry despite the request having been successfully processed. self.assertIn(resp.status, (204, 404))"," self.assertEqual(resp.status, 204) resp = retry(delete, self.name) resp.read() self.assertEqual(resp.status, 204) # container may have not been created resp = retry(delete, self.container) resp.read() self.assertIn(resp.status, (204, 404))",11,9
openstack%2Fneutron~master~I733f07a8c4a2af071b3467bd710290eee11a4f4c,openstack/neutron,master,I733f07a8c4a2af071b3467bd710290eee11a4f4c,remove neutron.common.rpc,MERGED,2019-02-04 19:53:51.000000000,2019-02-07 17:38:27.000000000,2019-02-07 17:38:27.000000000,"[{'_account_id': 1131}, {'_account_id': 5367}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-02-04 19:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ee24494fc4cb053bd7d8575d0c8b94435a8ba8c9', 'message': ""remove neutron.common.rpc\n\nThe neutron.common.rpc module has been in neutron-lib for awhile now and\nneutron is shimmed to use neutron-lib already.\nThis patch removes neutron.common.rpc and switches the code over to use\nneutron-lib's implementation where needed.\n\nNeutronLibImpact\n\nChange-Id: I733f07a8c4a2af071b3467bd710290eee11a4f4c\n""}, {'number': 2, 'created': '2019-02-06 19:47:34.000000000', 'files': ['neutron/services/logapi/agent/l3/base.py', 'neutron/tests/unit/services/trunk/rpc/test_agent.py', 'neutron/cmd/eventlet/usage_audit.py', 'neutron/tests/unit/api/rpc/agentnotifiers/test_l3_rpc_agent_api.py', 'neutron/agent/l3/extensions/port_forwarding.py', 'neutron/pecan_wsgi/hooks/notifier.py', 'neutron/services/metering/metering_plugin.py', 'neutron/api/rpc/handlers/securitygroups_rpc.py', 'neutron/plugins/ml2/plugin.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/l2pop/rpc.py', 'neutron/tests/unit/agent/l3/extensions/qos/test_fip.py', 'neutron/agent/dhcp/agent.py', 'neutron/agent/l3/extensions/qos/base.py', 'neutron/extensions/dhcpagentscheduler.py', 'neutron/api/rpc/agentnotifiers/metering_rpc_agent_api.py', 'neutron/api/rpc/handlers/dvr_rpc.py', 'neutron/service.py', 'neutron/common/rpc.py', 'neutron/services/logapi/rpc/server.py', 'neutron/api/rpc/agentnotifiers/l3_rpc_agent_api.py', 'neutron/extensions/tagging.py', 'neutron/tests/unit/agent/l3/extensions/test_snat_log.py', 'neutron/tests/unit/agent/l3/extensions/test_port_forwarding.py', 'neutron/tests/unit/services/trunk/rpc/test_server.py', 'neutron/tests/unit/agent/test_rpc.py', 'neutron/api/v2/base.py', 'neutron/plugins/ml2/rpc.py', 'neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py', 'neutron/services/metering/agents/metering_agent.py', 'neutron/services/logapi/rpc/agent.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py', 'neutron/db/l3_db.py', 'neutron/tests/unit/db/test_agentschedulers_db.py', 'neutron/agent/rpc.py', 'neutron/agent/l3/agent.py', 'neutron/agent/resource_cache.py', 'neutron/services/trunk/rpc/agent.py', 'neutron/agent/metadata/agent.py', 'neutron/common/config.py', 'neutron/api/rpc/handlers/resources_rpc.py', 'neutron/services/l3_router/l3_router_plugin.py', 'neutron/services/trunk/rpc/server.py', 'neutron/tests/unit/agent/test_securitygroups_rpc.py', 'neutron/extensions/l3agentscheduler.py', 'neutron/tests/unit/agent/l3/extensions/qos/test_gateway_ip.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/024802aafd7568888c95772d30a29ed460e5d55e', 'message': ""remove neutron.common.rpc\n\nThe neutron.common.rpc module has been in neutron-lib for awhile now and\nneutron is shimmed to use neutron-lib already.\nThis patch removes neutron.common.rpc and switches the code over to use\nneutron-lib's implementation where needed.\n\nNeutronLibImpact\n\nChange-Id: I733f07a8c4a2af071b3467bd710290eee11a4f4c\n""}]",0,634790,024802aafd7568888c95772d30a29ed460e5d55e,16,8,2,5367,,,0,"remove neutron.common.rpc

The neutron.common.rpc module has been in neutron-lib for awhile now and
neutron is shimmed to use neutron-lib already.
This patch removes neutron.common.rpc and switches the code over to use
neutron-lib's implementation where needed.

NeutronLibImpact

Change-Id: I733f07a8c4a2af071b3467bd710290eee11a4f4c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/634790/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/logapi/agent/l3/base.py', 'neutron/tests/unit/services/trunk/rpc/test_agent.py', 'neutron/cmd/eventlet/usage_audit.py', 'neutron/tests/unit/api/rpc/agentnotifiers/test_l3_rpc_agent_api.py', 'neutron/agent/l3/extensions/port_forwarding.py', 'neutron/pecan_wsgi/hooks/notifier.py', 'neutron/services/metering/metering_plugin.py', 'neutron/api/rpc/handlers/securitygroups_rpc.py', 'neutron/plugins/ml2/plugin.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/l2pop/rpc.py', 'neutron/tests/unit/agent/l3/extensions/qos/test_fip.py', 'neutron/agent/dhcp/agent.py', 'neutron/agent/l3/extensions/qos/base.py', 'neutron/extensions/dhcpagentscheduler.py', 'neutron/api/rpc/agentnotifiers/metering_rpc_agent_api.py', 'neutron/api/rpc/handlers/dvr_rpc.py', 'neutron/service.py', 'neutron/common/rpc.py', 'neutron/services/logapi/rpc/server.py', 'neutron/api/rpc/agentnotifiers/l3_rpc_agent_api.py', 'neutron/extensions/tagging.py', 'neutron/tests/unit/agent/l3/extensions/test_snat_log.py', 'neutron/tests/unit/agent/l3/extensions/test_port_forwarding.py', 'neutron/tests/unit/services/trunk/rpc/test_server.py', 'neutron/tests/unit/agent/test_rpc.py', 'neutron/api/v2/base.py', 'neutron/plugins/ml2/rpc.py', 'neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py', 'neutron/services/metering/agents/metering_agent.py', 'neutron/services/logapi/rpc/agent.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py', 'neutron/db/l3_db.py', 'neutron/tests/unit/db/test_agentschedulers_db.py', 'neutron/agent/rpc.py', 'neutron/agent/l3/agent.py', 'neutron/agent/resource_cache.py', 'neutron/services/trunk/rpc/agent.py', 'neutron/agent/metadata/agent.py', 'neutron/common/config.py', 'neutron/api/rpc/handlers/resources_rpc.py', 'neutron/services/l3_router/l3_router_plugin.py', 'neutron/services/trunk/rpc/server.py', 'neutron/tests/unit/agent/test_securitygroups_rpc.py', 'neutron/extensions/l3agentscheduler.py', 'neutron/tests/unit/agent/l3/extensions/qos/test_gateway_ip.py']",46,ee24494fc4cb053bd7d8575d0c8b94435a8ba8c9,use-lib-rpc, call_to_patch = 'neutron_lib.rpc.Connection', call_to_patch = 'neutron.common.rpc.Connection',48,82
openstack%2Fopenstack-ansible~stable%2Frocky~Idfdf665992769ddef1c42a73e81018f769a7e8df,openstack/openstack-ansible,stable/rocky,Idfdf665992769ddef1c42a73e81018f769a7e8df,Bump version to 18.1.4,MERGED,2019-01-29 13:02:44.000000000,2019-02-07 17:30:35.000000000,2019-02-07 17:30:35.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-29 13:02:44.000000000', 'files': ['inventory/group_vars/all/all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ffcde4268841c342836073c80c6c7487183fd733', 'message': 'Bump version to 18.1.4\n\nDepends-On: https://review.openstack.org/633719\nChange-Id: Idfdf665992769ddef1c42a73e81018f769a7e8df\n'}]",0,633720,ffcde4268841c342836073c80c6c7487183fd733,6,2,1,17068,,,0,"Bump version to 18.1.4

Depends-On: https://review.openstack.org/633719
Change-Id: Idfdf665992769ddef1c42a73e81018f769a7e8df
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/20/633720/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/all/all.yml'],1,ffcde4268841c342836073c80c6c7487183fd733,release_osa,openstack_release: 18.1.4,openstack_release: 18.1.3,1,1
openstack%2Fopenstack-ansible~stable%2Fqueens~Ia7fa941aff5c59d81f91fbf01f7f60b6e869e523,openstack/openstack-ansible,stable/queens,Ia7fa941aff5c59d81f91fbf01f7f60b6e869e523,Bump version to 17.1.8,MERGED,2019-01-29 13:09:58.000000000,2019-02-07 17:30:34.000000000,2019-02-07 17:30:34.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-29 13:09:58.000000000', 'files': ['inventory/group_vars/all/all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e5b315ed3c10ad6945bcc2abfa792f01ca60be3a', 'message': 'Bump version to 17.1.8\n\nDepends-On: https://review.openstack.org/633722\nChange-Id: Ia7fa941aff5c59d81f91fbf01f7f60b6e869e523\n'}]",0,633725,e5b315ed3c10ad6945bcc2abfa792f01ca60be3a,6,2,1,17068,,,0,"Bump version to 17.1.8

Depends-On: https://review.openstack.org/633722
Change-Id: Ia7fa941aff5c59d81f91fbf01f7f60b6e869e523
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/25/633725/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/all/all.yml'],1,e5b315ed3c10ad6945bcc2abfa792f01ca60be3a,release_osa,openstack_release: 17.1.8,openstack_release: 17.1.7,1,1
openstack%2Fopenstack-ansible~stable%2Fpike~Ia30d7eaf5359b967c33b52f526a394f7daf4731f,openstack/openstack-ansible,stable/pike,Ia30d7eaf5359b967c33b52f526a394f7daf4731f,Bump version to 16.0.26,MERGED,2019-01-29 14:36:08.000000000,2019-02-07 17:30:33.000000000,2019-02-07 17:30:33.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-29 14:36:08.000000000', 'files': ['group_vars/all/all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ff206a7530f756d085bdfb615309b10fccc17088', 'message': 'Bump version to 16.0.26\n\nDepends-On: https://review.openstack.org/633750\nChange-Id: Ia30d7eaf5359b967c33b52f526a394f7daf4731f\n'}]",0,633751,ff206a7530f756d085bdfb615309b10fccc17088,6,2,1,17068,,,0,"Bump version to 16.0.26

Depends-On: https://review.openstack.org/633750
Change-Id: Ia30d7eaf5359b967c33b52f526a394f7daf4731f
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/51/633751/1 && git format-patch -1 --stdout FETCH_HEAD,['group_vars/all/all.yml'],1,ff206a7530f756d085bdfb615309b10fccc17088,release_osa,openstack_release: 16.0.26,openstack_release: 16.0.25,1,1
openstack%2Fopenstack-helm-infra~master~I8612e9e8ef5ec8ff61ecf0782f262a5feafd501a,openstack/openstack-helm-infra,master,I8612e9e8ef5ec8ff61ecf0782f262a5feafd501a,fix type error to streamline single-replica mariadb startup,MERGED,2019-02-06 23:34:16.000000000,2019-02-07 17:21:07.000000000,2019-02-07 17:21:07.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-02-06 23:34:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5aaad9409c0d1dd0cad9ab0bfd43625e1a6d8262', 'message': 'fix type error to streamline single-replica mariadb startup\n\nThe mariadb startup script was trying to optimize the single-replica\ncase but missed the fact that the variable it was checking was a\nstring rather than an int.\n\nConverting it to an int before doing the comparison makes it work\nas expected.\n\nChange-Id: I8612e9e8ef5ec8ff61ecf0782f262a5feafd501a\n'}, {'number': 2, 'created': '2019-02-06 23:34:35.000000000', 'files': ['mariadb/templates/bin/_start.py.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d99b1412e24335f7c4864ccc52aa5a43b4ccac2b', 'message': 'fix type error to streamline single-replica mariadb startup\n\nThe mariadb startup script was trying to optimize the single-replica\ncase but missed the fact that the variable it was checking was a\nstring rather than an int.\n\nConverting it to an int before doing the comparison makes it work\nas expected.\n\nChange-Id: I8612e9e8ef5ec8ff61ecf0782f262a5feafd501a\nSigned-off-by: Chris Friesen <chris.friesen@windriver.com>\n'}]",0,635355,d99b1412e24335f7c4864ccc52aa5a43b4ccac2b,10,3,2,8768,,,0,"fix type error to streamline single-replica mariadb startup

The mariadb startup script was trying to optimize the single-replica
case but missed the fact that the variable it was checking was a
string rather than an int.

Converting it to an int before doing the comparison makes it work
as expected.

Change-Id: I8612e9e8ef5ec8ff61ecf0782f262a5feafd501a
Signed-off-by: Chris Friesen <chris.friesen@windriver.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/55/635355/1 && git format-patch -1 --stdout FETCH_HEAD,['mariadb/templates/bin/_start.py.tpl'],1,5aaad9409c0d1dd0cad9ab0bfd43625e1a6d8262,mariadb-single-replica, if not int(mariadb_replicas) > 1:, if not mariadb_replicas > 1:,1,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I2dae3358b56946aaae7eddbf3eb501e672455565,openstack/tripleo-heat-templates,stable/queens,I2dae3358b56946aaae7eddbf3eb501e672455565,Adding dependency for NetworkDeployment in 'server_resource_name'Deployment,MERGED,2019-02-07 08:27:37.000000000,2019-02-07 16:54:09.000000000,2019-02-07 16:54:08.000000000,"[{'_account_id': 8042}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-07 08:27:37.000000000', 'files': ['puppet/role.role.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6323aa38c9e93a5fd2e0d6d83fb823500d47f7be', 'message': ""Adding dependency for NetworkDeployment in 'server_resource_name'Deployment\n\nWe removed the dependency for NetworkDeployment[1] in\nrole.role.j2.yaml after moving to Ansible the\nUpgradeInitCommand and UpgradeInitCommonCommand Heat hooks.\n\n[1]: https://review.openstack.org/#/c/632108/17/puppet/role.role.j2.yaml@649\n\nCloses-bug: 1812659\nChange-Id: I2dae3358b56946aaae7eddbf3eb501e672455565\n(cherry picked from commit aa2dc674fb3abdf4d5d2f1d41cc964cc32137b3c)\n(cherry picked from commit 5a4431d0a044074614a3f313c3f54b371103a59f)\n""}]",0,635452,6323aa38c9e93a5fd2e0d6d83fb823500d47f7be,9,4,1,20775,,,0,"Adding dependency for NetworkDeployment in 'server_resource_name'Deployment

We removed the dependency for NetworkDeployment[1] in
role.role.j2.yaml after moving to Ansible the
UpgradeInitCommand and UpgradeInitCommonCommand Heat hooks.

[1]: https://review.openstack.org/#/c/632108/17/puppet/role.role.j2.yaml@649

Closes-bug: 1812659
Change-Id: I2dae3358b56946aaae7eddbf3eb501e672455565
(cherry picked from commit aa2dc674fb3abdf4d5d2f1d41cc964cc32137b3c)
(cherry picked from commit 5a4431d0a044074614a3f313c3f54b371103a59f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/52/635452/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/role.role.j2.yaml'],1,6323aa38c9e93a5fd2e0d6d83fb823500d47f7be,bug/1812659, depends_on: NetworkDeployment,,1,0
openstack%2Fnova~master~I75dc8d5aafe9a3b3c2a6576564e32e3b31a0d232,openstack/nova,master,I75dc8d5aafe9a3b3c2a6576564e32e3b31a0d232,Set bash xtrace and errexit globally in nova/tests/live_migration/hooks/*,ABANDONED,2019-02-06 20:48:28.000000000,2019-02-07 16:47:06.000000000,,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-02-06 20:48:28.000000000', 'files': ['nova/tests/live_migration/hooks/ceph.sh', 'nova/tests/live_migration/hooks/utils.sh', 'nova/tests/live_migration/hooks/nfs.sh', 'nova/tests/live_migration/hooks/run_tests.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/6b049a0aa7afed721321ad5975ff4376d5d474c7', 'message': ""Set bash xtrace and errexit globally in nova/tests/live_migration/hooks/*\n\nThis is necessary for debug and making sure we aren't failing for\nobvious reasons.\n\nChange-Id: I75dc8d5aafe9a3b3c2a6576564e32e3b31a0d232\n""}]",0,635291,6b049a0aa7afed721321ad5975ff4376d5d474c7,9,6,1,6873,,,0,"Set bash xtrace and errexit globally in nova/tests/live_migration/hooks/*

This is necessary for debug and making sure we aren't failing for
obvious reasons.

Change-Id: I75dc8d5aafe9a3b3c2a6576564e32e3b31a0d232
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/635291/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/live_migration/hooks/ceph.sh', 'nova/tests/live_migration/hooks/nfs.sh', 'nova/tests/live_migration/hooks/utils.sh', 'nova/tests/live_migration/hooks/run_tests.sh']",4,6b049a0aa7afed721321ad5975ff4376d5d474c7,bug/1813216,#!/bin/bash -xe,#!/bin/bashset -xe,4,5
openstack%2Fpuppet-tripleo~stable%2Fqueens~I8fee040287940188f6bc6bc35bdbdaf6c234cbfd,openstack/puppet-tripleo,stable/queens,I8fee040287940188f6bc6bc35bdbdaf6c234cbfd,Allow to set log facility for HAProxy,MERGED,2019-02-07 09:36:09.000000000,2019-02-07 16:39:16.000000000,2019-02-07 16:39:15.000000000,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-02-07 09:36:09.000000000', 'files': ['manifests/haproxy.pp', 'spec/classes/tripleo_haproxy_spec.rb', 'releasenotes/notes/haproxy-facility-8196cc8e1299d79b.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7b4ac4603fb7376760f20e9ba0a93d4399aad76a', 'message': 'Allow to set log facility for HAProxy\n\nThis change allows to get a better filtering at (r)syslog level, as\nwe can now dedicate a facility for this service.\n\nPartial-Bug: #1814880\nChange-Id: I8fee040287940188f6bc6bc35bdbdaf6c234cbfd\n(cherry picked from commit 01d96ea057c1ae228b42b6c02481d409f2ec2598)\n'}]",0,635462,7b4ac4603fb7376760f20e9ba0a93d4399aad76a,8,4,1,20778,,,0,"Allow to set log facility for HAProxy

This change allows to get a better filtering at (r)syslog level, as
we can now dedicate a facility for this service.

Partial-Bug: #1814880
Change-Id: I8fee040287940188f6bc6bc35bdbdaf6c234cbfd
(cherry picked from commit 01d96ea057c1ae228b42b6c02481d409f2ec2598)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/62/635462/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/haproxy.pp', 'spec/classes/tripleo_haproxy_spec.rb', 'releasenotes/notes/haproxy-facility-8196cc8e1299d79b.yaml']",3,7b4ac4603fb7376760f20e9ba0a93d4399aad76a,bug/1814880,--- features: - Add new parameter haproxy_log_facility. ,,35,1
openstack%2Ftripleo-heat-templates~master~Ia613fc3812aa34376c3fe64c21abfed51cfc9cab,openstack/tripleo-heat-templates,master,Ia613fc3812aa34376c3fe64c21abfed51cfc9cab,Inject log-driver for podman containers,MERGED,2019-02-07 06:23:57.000000000,2019-02-07 16:39:14.000000000,2019-02-07 16:39:14.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27427}, {'_account_id': 27898}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-02-07 06:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d27a2a47f01b972203490dc82fe36e5a4464a315', 'message': 'Inject log-driver for podman containers\n\nCurrently, docker daemon runtime has a default --log-driver set\nto journald.\nPodman lack of daemon prevent such a global application, meaning\nwe have to set that driver for each and every container when we\neither create or run them.\n\nNotes:\n- podman only supports ""json-file"", and it\'s not even a json.\n- docker json-file doesn\'t support ""path"" option, making this output\n  unusable in the end: logs end in\n  /var/lib/docker/containers/ID/ID-json.log\n\nRelated-Bug: #1814897\nChange-Id: Ia613fc3812aa34376c3fe64c21abfed51cfc9cab\n'}, {'number': 2, 'created': '2019-02-07 06:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/226016b3773dbb0cc960a5a581434b62f910b4cb', 'message': 'Inject log-driver for podman containers\n\nCurrently, docker daemon runtime has a default --log-driver set\nto journald.\nPodman lack of daemon prevent such a global application, meaning\nwe have to set that driver for each and every container when we\neither create or run them.\n\nNotes:\n- podman only supports ""json-file"", and it\'s not even a json.\n- docker json-file doesn\'t support ""path"" option, making this output\n  unusable in the end: logs end in\n  /var/lib/docker/containers/ID/ID-json.log\n\nRelated-Bug: #1814897\nChange-Id: Ia613fc3812aa34376c3fe64c21abfed51cfc9cab\n'}, {'number': 3, 'created': '2019-02-07 07:05:29.000000000', 'files': ['common/deploy-steps-tasks.yaml', 'docker/docker-puppet.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/edfe180634548fc6039b7fb5b8d9799b1c030dc1', 'message': 'Inject log-driver for podman containers\n\nCurrently, docker daemon runtime has a default --log-driver set\nto journald.\nPodman lack of daemon prevent such a global application, meaning\nwe have to set that driver for each and every container when we\neither create or run them.\n\nNotes:\n- podman only supports ""json-file"", and it\'s not even a json.\n- docker json-file doesn\'t support ""path"" option, making this output\n  unusable in the end: logs end in\n  /var/lib/docker/containers/ID/ID-json.log\n\nRelated-Bug: #1814897\nChange-Id: Ia613fc3812aa34376c3fe64c21abfed51cfc9cab\n'}]",0,635437,edfe180634548fc6039b7fb5b8d9799b1c030dc1,15,15,3,28223,,,0,"Inject log-driver for podman containers

Currently, docker daemon runtime has a default --log-driver set
to journald.
Podman lack of daemon prevent such a global application, meaning
we have to set that driver for each and every container when we
either create or run them.

Notes:
- podman only supports ""json-file"", and it's not even a json.
- docker json-file doesn't support ""path"" option, making this output
  unusable in the end: logs end in
  /var/lib/docker/containers/ID/ID-json.log

Related-Bug: #1814897
Change-Id: Ia613fc3812aa34376c3fe64c21abfed51cfc9cab
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/37/635437/3 && git format-patch -1 --stdout FETCH_HEAD,"['common/deploy-steps-tasks.yaml', 'docker/docker-puppet.py']",2,d27a2a47f01b972203490dc82fe36e5a4464a315,bug/1814897," '--log-driver', 'json-file', if container_cli == 'podman': logging = ['--log-opt', 'path=/var/log/containers/stdouts/%s.log' % uname] common_dcmd.append(logging) ",,13,0
openstack%2Fopenstack-ansible-os_aodh~master~I8ab51d6035d06fea1ee1d7d6427be03115f41924,openstack/openstack-ansible-os_aodh,master,I8ab51d6035d06fea1ee1d7d6427be03115f41924,Enable overriding the service setup host python interpreter,MERGED,2018-11-30 15:28:31.000000000,2019-02-07 16:37:57.000000000,2019-02-07 16:20:27.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 8367}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-11-30 15:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/f0e246b89faad4f2f13cd677333be14e8063267a', 'message': ""Enable overriding the service setup host python interpreter\n\nIn order to enable the service setup host python interpreter to\nbe changed easily, we make it a variable. This will be useful\nwhen someone sets the service setup host to be the utility\ncontainer, because we'll be able to set this var by default.\n\nChange-Id: I8ab51d6035d06fea1ee1d7d6427be03115f41924\n""}, {'number': 2, 'created': '2019-01-21 16:17:46.000000000', 'files': ['tasks/aodh_service_setup.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/c21c3ca0ef3516a138352e540d71c5fbf497b72c', 'message': ""Enable overriding the service setup host python interpreter\n\nIn order to enable the service setup host python interpreter to\nbe changed easily, we make it a variable. This will be useful\nwhen someone sets the service setup host to be the utility\ncontainer, because we'll be able to set this var by default.\n\nDepends-On: https://review.openstack.org/632125\nChange-Id: I8ab51d6035d06fea1ee1d7d6427be03115f41924\n""}]",0,621183,c21c3ca0ef3516a138352e540d71c5fbf497b72c,23,5,2,6816,,,0,"Enable overriding the service setup host python interpreter

In order to enable the service setup host python interpreter to
be changed easily, we make it a variable. This will be useful
when someone sets the service setup host to be the utility
container, because we'll be able to set this var by default.

Depends-On: https://review.openstack.org/632125
Change-Id: I8ab51d6035d06fea1ee1d7d6427be03115f41924
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/83/621183/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/aodh_service_setup.yml', 'defaults/main.yml']",2,f0e246b89faad4f2f13cd677333be14e8063267a,bp/python-build-simplification,"aodh_service_setup_host_python_interpreter: ""{{ openstack_service_setup_host_python_interpreter | default((aodh_service_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable'])) }}""",,2,2
openstack%2Fnetworking-ovn~master~I9cd6031f88c064dba457d033aa072b6ed918840d,openstack/networking-ovn,master,I9cd6031f88c064dba457d033aa072b6ed918840d,Make ovn_migration.sh generate-inventory reference the right next step,MERGED,2019-02-05 21:28:08.000000000,2019-02-07 16:09:08.000000000,2019-02-07 16:09:08.000000000,"[{'_account_id': 6773}, {'_account_id': 10237}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-05 21:28:08.000000000', 'files': ['migration/tripleo_environment/ovn_migration.sh'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/00d919d84e3b927e45457c7cbc1b4deec6c3beb1', 'message': 'Make ovn_migration.sh generate-inventory reference the right next step\n\nOtherwise the admin could skip a step.\n\nChange-Id: I9cd6031f88c064dba457d033aa072b6ed918840d\nCloses-Bug: 1814826\n'}]",0,635048,00d919d84e3b927e45457c7cbc1b4deec6c3beb1,7,3,1,8788,,,0,"Make ovn_migration.sh generate-inventory reference the right next step

Otherwise the admin could skip a step.

Change-Id: I9cd6031f88c064dba457d033aa072b6ed918840d
Closes-Bug: 1814826
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/48/635048/1 && git format-patch -1 --stdout FETCH_HEAD,['migration/tripleo_environment/ovn_migration.sh'],1,00d919d84e3b927e45457c7cbc1b4deec6c3beb1,bug/1814826," echo ""Please review the file before running the next command - setup-mtu-t1"""," echo ""Please review the file before running the next command - reduce-mtu""",1,1
openstack%2Fnova~stable%2Fqueens~Idfe37d356b349024dfe963c934728111e1a1d314,openstack/nova,stable/queens,Idfe37d356b349024dfe963c934728111e1a1d314,Handle tags in _bury_in_cell0,MERGED,2018-12-12 22:21:20.000000000,2019-02-07 16:08:52.000000000,2019-02-07 16:08:51.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-12-12 22:21:20.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1806515.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/tests/functional/api/client.py', 'nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fa178ed4e5ab925d39f7176d851d3c735e328189', 'message': 'Handle tags in _bury_in_cell0\n\nWe allowed add instance tags when booting in\nIac54b9627cb4398e45f1f15a2f4e7d6f86242093, conductor\nwill create tags for us in the selected cell, but\nwe forgot to consider the case that no valid host\nwas found.\n\nSo we will be unable to filter those instances in\ncell0 with tags.\n\nChange-Id: Idfe37d356b349024dfe963c934728111e1a1d314\ncloses-bug: #1806515\n(cherry picked from commit 3cd439ad8a99f122566f0b5d0264ff5c8d34f998)\n(cherry picked from commit cbb9eb5b056b96ea507d65fea0e32c27bbf6cdfa)\n'}]",0,624824,fa178ed4e5ab925d39f7176d851d3c735e328189,13,10,1,6873,,,0,"Handle tags in _bury_in_cell0

We allowed add instance tags when booting in
Iac54b9627cb4398e45f1f15a2f4e7d6f86242093, conductor
will create tags for us in the selected cell, but
we forgot to consider the case that no valid host
was found.

So we will be unable to filter those instances in
cell0 with tags.

Change-Id: Idfe37d356b349024dfe963c934728111e1a1d314
closes-bug: #1806515
(cherry picked from commit 3cd439ad8a99f122566f0b5d0264ff5c8d34f998)
(cherry picked from commit cbb9eb5b056b96ea507d65fea0e32c27bbf6cdfa)
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/624824/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/regressions/test_bug_1806515.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/tests/functional/api/client.py', 'nova/conductor/manager.py']",4,fa178ed4e5ab925d39f7176d851d3c735e328189,bug/1806515," block_device_mapping=None, tags=None): self._create_tags(cctxt, instance.uuid, tags) block_device_mapping=block_device_mapping, tags=tags) block_device_mapping=block_device_mapping, tags=tags)", block_device_mapping=None): # FIXME(mriedem): If the tags are not persisted with the instance # in cell0 then the API will not show them. block_device_mapping=block_device_mapping) # FIXME(mriedem): If the tags are not persisted with the # instance in cell0 then the API will not show them. block_device_mapping=block_device_mapping),109,8
openstack%2Fsahara~stable%2Frocky~I3573523a67d7b77cd2fce8746c334fc5b04f898f,openstack/sahara,stable/rocky,I3573523a67d7b77cd2fce8746c334fc5b04f898f,archive-primary.cloudera.com -> archive.cloudera.com,MERGED,2019-02-06 10:45:25.000000000,2019-02-07 16:06:00.000000000,2019-02-07 16:06:00.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-06 10:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/7b4c9da72a64d7428dfa36169bb794a1c84f0295', 'message': 'archive-primary.cloudera.com -> archive.cloudera.com\n\nThe former is no more active.\n\nStory: 2004936\nTask: 29328\nChange-Id: I3573523a67d7b77cd2fce8746c334fc5b04f898f\n(cherry picked from commit 5c72918fb8246fc8e3edef5f8ecbb81c3a2991a1)\n'}, {'number': 2, 'created': '2019-02-06 10:48:18.000000000', 'files': ['sahara/plugins/cdh/v5_7_0/resources/images/ubuntu/wget_repo', 'sahara/plugins/cdh/v5_9_0/resources/images/ubuntu/wget_repo', 'sahara/plugins/cdh/v5_13_0/resources/images/ubuntu/wget_repo', 'sahara/plugins/cdh/v5_11_0/resources/images/ubuntu/wget_repo'], 'web_link': 'https://opendev.org/openstack/sahara/commit/3dad1a0326d3fa89431c97699949a5f8fce39350', 'message': 'archive-primary.cloudera.com -> archive.cloudera.com\n\nThe former is no more active.\n\nStory: 2004936\nTask: 29328\nChange-Id: I3573523a67d7b77cd2fce8746c334fc5b04f898f\n(cherry picked from commit 98480c8e740acc830dcde78318ee2169bfc1ec3c)\n'}]",0,635127,3dad1a0326d3fa89431c97699949a5f8fce39350,8,3,2,10459,,,0,"archive-primary.cloudera.com -> archive.cloudera.com

The former is no more active.

Story: 2004936
Task: 29328
Change-Id: I3573523a67d7b77cd2fce8746c334fc5b04f898f
(cherry picked from commit 98480c8e740acc830dcde78318ee2169bfc1ec3c)
",git fetch https://review.opendev.org/openstack/sahara refs/changes/27/635127/1 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/plugins/cdh/v5_7_0/resources/images/ubuntu/wget_repo', 'sahara/plugins/cdh/v5_9_0/resources/images/ubuntu/wget_repo', 'sahara/plugins/cdh/v5_13_0/resources/images/ubuntu/wget_repo', 'sahara/plugins/cdh/v5_11_0/resources/images/ubuntu/wget_repo']",4,7b4c9da72a64d7428dfa36169bb794a1c84f0295,fix-archive-cloudera, wget -qO - http://archive.cloudera.com/cdh5/ubuntu/xenial/amd64/cdh/archive.key | apt-key add - wget -qO - http://archive.cloudera.com/cm5/ubuntu/xenial/amd64/cm/archive.key | apt-key add -, wget -qO - http://archive-primary.cloudera.com/cdh5/ubuntu/xenial/amd64/cdh/archive.key | apt-key add - wget -qO - http://archive-primary.cloudera.com/cm5/ubuntu/xenial/amd64/cm/archive.key | apt-key add -,8,8
openstack%2Fopenstack-ansible-os_tempest~master~I53eb7c5b5247e212934c55bd66e2e4abbbe44503,openstack/openstack-ansible-os_tempest,master,I53eb7c5b5247e212934c55bd66e2e4abbbe44503,Add user and password for secure image download (optional),MERGED,2018-12-14 14:17:38.000000000,2019-02-07 16:00:56.000000000,2019-02-07 16:00:56.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 23182}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2018-12-14 14:17:38.000000000', 'files': ['tasks/tempest_resources.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/7628a5480e51e3b94dfe90a90b50a5cafbd4e740', 'message': 'Add user and password for secure image download (optional)\n\nAdd user and password option in tempest_images\n\nChange-Id: I53eb7c5b5247e212934c55bd66e2e4abbbe44503\n'}]",0,625266,7628a5480e51e3b94dfe90a90b50a5cafbd4e740,13,5,1,23182,,,0,"Add user and password for secure image download (optional)

Add user and password option in tempest_images

Change-Id: I53eb7c5b5247e212934c55bd66e2e4abbbe44503
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/66/625266/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/tempest_resources.yml'],1,7628a5480e51e3b94dfe90a90b50a5cafbd4e740,," url_username: ""{{ item.username | default(omit) }}"" url_password: ""{{ item.password | default(omit) }}""",,2,0
openstack%2Fnova~stable%2Fqueens~Ibbf2bd3cdd45bcd61eebff883c30ded525b2495d,openstack/nova,stable/queens,Ibbf2bd3cdd45bcd61eebff883c30ded525b2495d,Explicitly fail if trying to attach SR-IOV port,MERGED,2018-10-03 22:05:52.000000000,2019-02-07 15:56:53.000000000,2019-02-07 15:56:52.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-03 22:05:52.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py', 'nova/exception.py', 'doc/source/admin/pci-passthrough.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/7827890421a61a4e2029939cacf4e3fecb95282a', 'message': 'Explicitly fail if trying to attach SR-IOV port\n\nAttaching SR-IOV ports to existing instances is not supported\nsince the compute service does not perform any kind of PCI\ndevice allocation, so we should fail fast with a clear error\nif attempted. Note that the compute RPC API ""attach_interface""\nmethod is an RPC call from nova-api to nova-compute so the error\nraised here will result in a 400 response to the user.\n\nBlueprint sriov-interface-attach-detach would need to be\nimplemented to support this use case, and could arguably involve\na microversion to indicate when the feature was made available.\n\nA related neutron docs patch https://review.openstack.org/594325\nis posted for mentioning the limitation with SR-IOV port attach\nas well.\n\nConflicts:\n      doc/source/admin/pci-passthrough.rst\n\nNOTE(mriedem): The conflict is due to not having change\nIfb99e727110c4904a85bc4a13366c2cae300b8df in Queens.\n\nChange-Id: Ibbf2bd3cdd45bcd61eebff883c30ded525b2495d\nCloses-Bug: #1708433\n(cherry picked from commit 68011c40ae2ab0900674408a88f62a60a802fef7)\n(cherry picked from commit e1d55af4089fe6b76680285e36069ab0f57404ab)\n'}]",0,607729,7827890421a61a4e2029939cacf4e3fecb95282a,12,8,1,6873,,,0,"Explicitly fail if trying to attach SR-IOV port

Attaching SR-IOV ports to existing instances is not supported
since the compute service does not perform any kind of PCI
device allocation, so we should fail fast with a clear error
if attempted. Note that the compute RPC API ""attach_interface""
method is an RPC call from nova-api to nova-compute so the error
raised here will result in a 400 response to the user.

Blueprint sriov-interface-attach-detach would need to be
implemented to support this use case, and could arguably involve
a microversion to indicate when the feature was made available.

A related neutron docs patch https://review.openstack.org/594325
is posted for mentioning the limitation with SR-IOV port attach
as well.

Conflicts:
      doc/source/admin/pci-passthrough.rst

NOTE(mriedem): The conflict is due to not having change
Ifb99e727110c4904a85bc4a13366c2cae300b8df in Queens.

Change-Id: Ibbf2bd3cdd45bcd61eebff883c30ded525b2495d
Closes-Bug: #1708433
(cherry picked from commit 68011c40ae2ab0900674408a88f62a60a802fef7)
(cherry picked from commit e1d55af4089fe6b76680285e36069ab0f57404ab)
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/607729/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py', 'nova/exception.py', 'doc/source/admin/pci-passthrough.rst']",4,7827890421a61a4e2029939cacf4e3fecb95282a,bug/1708433," For information on creating servers with virtual SR-IOV devices to guests, refer to the `Networking Guide`_. Attaching SR-IOV ports to existing servers is not currently supported, see `bug 1708433 <https://bugs.launchpad.net/nova/+bug/1708433>`_ for details."," For information on attaching virtual SR-IOV devices to guests, refer to the `Networking Guide`_.",42,8
openstack%2Frally~master~Iab8f7fec3117cdcb84708f3a291a6926b3eb085f,openstack/rally,master,Iab8f7fec3117cdcb84708f3a291a6926b3eb085f,[docs] Fix readme for docker image,MERGED,2019-02-05 15:39:22.000000000,2019-02-07 15:47:32.000000000,2019-02-07 15:47:32.000000000,"[{'_account_id': 9545}, {'_account_id': 21528}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-05 15:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d84ed5726b082d9d57ec17ceba8ecd773a1832c8', 'message': '[docs] Fix readme for docker image\n\n* fix indents and code quotas\n* fix version of latest release + add unittest for checking this\n\nChange-Id: Iab8f7fec3117cdcb84708f3a291a6926b3eb085f\n'}, {'number': 2, 'created': '2019-02-05 16:15:23.000000000', 'files': ['tests/unit/doc/utils.py', 'etc/docker/README.md', 'tests/unit/doc/test_docker_readme.py', 'etc/docker/README_FIRST.rst', 'tests/unit/doc/test_docstrings.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/4e5890af435ab981021c43b707180f5c09d99bb9', 'message': '[docs] Fix readme for docker image\n\n* fix indents and code quotas\n* fix version of latest release + add unittest for checking this\n\nChange-Id: Iab8f7fec3117cdcb84708f3a291a6926b3eb085f\n'}]",0,634959,4e5890af435ab981021c43b707180f5c09d99bb9,8,3,2,9545,,,0,"[docs] Fix readme for docker image

* fix indents and code quotas
* fix version of latest release + add unittest for checking this

Change-Id: Iab8f7fec3117cdcb84708f3a291a6926b3eb085f
",git fetch https://review.opendev.org/openstack/rally refs/changes/59/634959/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/doc/utils.py', 'etc/docker/README.md', 'tests/unit/doc/test_docker_readme.py', 'etc/docker/README_FIRST.rst', 'tests/unit/doc/test_docstrings.py']",5,d84ed5726b082d9d57ec17ceba8ecd773a1832c8,dockerReadme,"from tests.unit.doc import utils parsed_docstring = utils.parse_rst(doc_info[""description""]) parsed_docstring = utils.parse_rst(docstring)","from docutils import frontendfrom docutils.parsers import rst from docutils import utilsdef _parse_rst(text): parser = rst.Parser() settings = frontend.OptionParser( components=(rst.Parser,)).get_default_values() document = utils.new_document(text, settings) parser.parse(text, document) return document.children parsed_docstring = _parse_rst(doc_info[""description""]) parsed_docstring = _parse_rst(docstring)",151,50
openstack%2Fopenstack-ansible-os_glance~master~Ifb477a405eef800b4aa224e05d882a8badf401a3,openstack/openstack-ansible-os_glance,master,Ifb477a405eef800b4aa224e05d882a8badf401a3,venv: use inventory_hostname instead of ansible_hostname,MERGED,2019-02-06 14:55:18.000000000,2019-02-07 15:44:29.000000000,2019-02-07 15:44:29.000000000,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-06 14:55:18.000000000', 'files': ['tasks/glance_install_source.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/efd079420c1dbbd7c68da768164cf7424dd2189b', 'message': 'venv: use inventory_hostname instead of ansible_hostname\n\nIt is possible that the hostname of the system does not match the\none in the inventory which means that the delegate_to or the\ncomparision to inventory_hostname will fail in the tasks later.\n\nChange-Id: Ifb477a405eef800b4aa224e05d882a8badf401a3\n'}]",0,635177,efd079420c1dbbd7c68da768164cf7424dd2189b,16,4,1,28521,,,0,"venv: use inventory_hostname instead of ansible_hostname

It is possible that the hostname of the system does not match the
one in the inventory which means that the delegate_to or the
comparision to inventory_hostname will fail in the tasks later.

Change-Id: Ifb477a405eef800b4aa224e05d882a8badf401a3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/77/635177/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/glance_install_source.yml'],1,efd079420c1dbbd7c68da768164cf7424dd2189b,," venv_build_host: ""{{ inventory_hostname }}"""," venv_build_host: ""{{ ansible_hostname }}""",1,1
openstack%2Fceilometer~master~Ic50adf5aee8d934d890ac90300e683c6762aefac,openstack/ceilometer,master,Ic50adf5aee8d934d890ac90300e683c6762aefac,Add interfaceid and bridges parameters,MERGED,2019-02-01 13:29:39.000000000,2019-02-07 15:42:53.000000000,2019-02-07 15:42:53.000000000,"[{'_account_id': 1669}, {'_account_id': 2813}, {'_account_id': 4491}, {'_account_id': 6537}, {'_account_id': 6924}, {'_account_id': 8290}, {'_account_id': 22348}, {'_account_id': 22752}]","[{'number': 1, 'created': '2019-02-01 13:29:39.000000000', 'files': ['ceilometer/compute/virt/libvirt/inspector.py', 'ceilometer/tests/unit/compute/virt/libvirt/test_inspector.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/062e02c612d1fdd8c40b9209319b32e04489c163', 'message': 'Add interfaceid and bridges parameters\n\nAdd interfaceid and bridge to parameters. These are sometimes needed to\nhelp figure out from which instance the meter is coming.\n\nChange-Id: Ic50adf5aee8d934d890ac90300e683c6762aefac\nSigned-off-by: Arnaud Morin <arnaud.morin@gmail.com>\n'}]",0,634408,062e02c612d1fdd8c40b9209319b32e04489c163,6,8,1,11583,,,0,"Add interfaceid and bridges parameters

Add interfaceid and bridge to parameters. These are sometimes needed to
help figure out from which instance the meter is coming.

Change-Id: Ic50adf5aee8d934d890ac90300e683c6762aefac
Signed-off-by: Arnaud Morin <arnaud.morin@gmail.com>
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/08/634408/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/compute/virt/libvirt/inspector.py', 'ceilometer/tests/unit/compute/virt/libvirt/test_inspector.py']",2,062e02c612d1fdd8c40b9209319b32e04489c163,dev/arnaud.morin/add_interfaceid_and_bridge," self.assertEqual( {'interfaceid': None, 'bridge': 'qbr420008b3-7c'}, vnic2.parameters)"," self.assertEqual(dict(), vnic2.parameters)",20,1
openstack%2Fopenstack-ansible-os_tempest~master~I52aa290b359a4cc022c419abbf8afc883f8b0578,openstack/openstack-ansible-os_tempest,master,I52aa290b359a4cc022c419abbf8afc883f8b0578,Add telemetry distro plugin install for aodh,MERGED,2019-01-21 16:17:07.000000000,2019-02-07 15:30:38.000000000,2019-02-07 15:30:38.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 8367}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-01-21 16:17:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/3b87b09247d3661a80ce25b0fbc04c8fa5c5efb6', 'message': 'Add telemetry distro plugin install for aodh\n\nIf aodh is enabled, the telemetry plugins must be installed.\n\nChange-Id: I52aa290b359a4cc022c419abbf8afc883f8b0578\n'}, {'number': 2, 'created': '2019-01-29 17:36:33.000000000', 'files': ['vars/redhat-7.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/a763c3c67a1e9afb3615e4b7c8206a1be33a56ae', 'message': 'Add telemetry distro plugin install for aodh\n\nIf aodh is enabled, the telemetry plugins must be installed.\n\nChange-Id: I52aa290b359a4cc022c419abbf8afc883f8b0578\n'}]",2,632125,a763c3c67a1e9afb3615e4b7c8206a1be33a56ae,15,7,2,6816,,,0,"Add telemetry distro plugin install for aodh

If aodh is enabled, the telemetry plugins must be installed.

Change-Id: I52aa290b359a4cc022c419abbf8afc883f8b0578
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/25/632125/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-7.yml'],1,3b87b09247d3661a80ce25b0fbc04c8fa5c5efb6,," - ""{{ (tempest_service_available_aodh | bool) | ternary('python-telemetry-tests-tempest', '') }}""",,1,0
openstack%2Fpanko~stable%2Fqueens~I75abcde6b02785e2b8438f02d49725e2c2d44b85,openstack/panko,stable/queens,I75abcde6b02785e2b8438f02d49725e2c2d44b85,Invalid link to static file in doc,MERGED,2018-09-12 15:14:52.000000000,2019-02-07 15:10:40.000000000,2019-02-07 15:10:40.000000000,"[{'_account_id': 1669}, {'_account_id': 11583}, {'_account_id': 18320}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-12 15:14:52.000000000', 'files': ['doc/source/configuration/sample_policy.rst'], 'web_link': 'https://opendev.org/openstack/panko/commit/5d17706d23849ccd18153f0e3aba6da698614085', 'message': 'Invalid link to static file in doc\n\nCloses-Bug: #1747627\nChange-Id: I75abcde6b02785e2b8438f02d49725e2c2d44b85\n(cherry picked from commit cbf37f5b85ae77475dc9bc2b88c68fb42b1dae10)\n'}]",0,602060,5d17706d23849ccd18153f0e3aba6da698614085,7,4,1,23913,,,0,"Invalid link to static file in doc

Closes-Bug: #1747627
Change-Id: I75abcde6b02785e2b8438f02d49725e2c2d44b85
(cherry picked from commit cbf37f5b85ae77475dc9bc2b88c68fb42b1dae10)
",git fetch https://review.opendev.org/openstack/panko refs/changes/60/602060/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/sample_policy.rst'],1,5d17706d23849ccd18153f0e3aba6da698614085,,The sample policy file can also be viewed in :download:`file form <../_static/panko.policy.yaml.sample>`. .. literalinclude:: ../_static/panko.policy.yaml.sample,The sample policy file can also be viewed in `file form <_static/panko.policy.yaml.sample>`_. .. literalinclude:: _static/panko.policy.yaml.sample,3,2
openstack%2Fcharm-ceph-radosgw~master~I41914df024eb02e5a555bc0e44993e09d310933e,openstack/charm-ceph-radosgw,master,I41914df024eb02e5a555bc0e44993e09d310933e,Switch functional testing to zaza,MERGED,2019-01-28 09:43:22.000000000,2019-02-07 14:46:29.000000000,2019-02-07 14:46:29.000000000,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-28 09:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/667d9f4a56af821552a2860b8ec1fa5703b8a3d5', 'message': 'Switch functional testing to zaza\n\nDrop amulet tests and create bundles for all target\nUbuntu/OpenStack series combinations inline with\ncurrent best practice.\n\nChange-Id: I41914df024eb02e5a555bc0e44993e09d310933e\n'}, {'number': 2, 'created': '2019-01-28 10:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/d890f7056288629980c61755c416796c8b92aa3c', 'message': 'Switch functional testing to zaza\n\nDrop amulet tests and create bundles for all target\nUbuntu/OpenStack series combinations inline with\ncurrent best practice.\n\nChange-Id: I41914df024eb02e5a555bc0e44993e09d310933e\n'}, {'number': 3, 'created': '2019-01-28 10:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/64b39916865276d87cfd832c277fe3d6e5e92f94', 'message': 'Switch functional testing to zaza\n\nDrop amulet tests and create bundles for all target\nUbuntu/OpenStack series combinations inline with\ncurrent best practice.\n\nChange-Id: I41914df024eb02e5a555bc0e44993e09d310933e\n'}, {'number': 4, 'created': '2019-01-28 11:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/614a5be3e6f1dbbeb4ff073aa21d3ec91e9ab425', 'message': 'Switch functional testing to zaza\n\nDrop amulet tests and create bundles for all target\nUbuntu/OpenStack series combinations inline with\ncurrent best practice.\n\nChange-Id: I41914df024eb02e5a555bc0e44993e09d310933e\n'}, {'number': 5, 'created': '2019-01-28 15:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/ade7b4e082f9a7a56d9f6874c4d148fced6a1ae0', 'message': 'Switch functional testing to zaza\n\nDrop amulet tests and create bundles for all target\nUbuntu/OpenStack series combinations inline with\ncurrent best practice.\n\nChange-Id: I41914df024eb02e5a555bc0e44993e09d310933e\nDepends-On: https://github.com/openstack-charmers/zaza/pull/176\n'}, {'number': 6, 'created': '2019-02-04 11:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/d3f80ab7eb8f87d6c5f8e3248a47f9fcaded7f5b', 'message': 'Switch functional testing to zaza\n\nDrop amulet tests and create bundles for all target\nUbuntu/OpenStack series combinations inline with\ncurrent best practice.\n\nZaza tests are not a direct translation from the Amulet tests;\nthe new tests focus in Ceph RADOS Gateway and integration with\nkeystone rather than deploying compute, image and block\nservices (which do not make use of the ceph-radosgw charm).\n\nChange-Id: I41914df024eb02e5a555bc0e44993e09d310933e\nDepends-On: https://github.com/openstack-charmers/zaza/pull/176\n'}, {'number': 7, 'created': '2019-02-04 11:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/9336ef9f4dcf15d8a05bd0f392e5cf832a0986f1', 'message': 'Switch functional testing to zaza\n\nDrop amulet tests and create bundles for all target\nUbuntu/OpenStack series combinations inline with\ncurrent best practice.\n\nZaza tests are not a direct translation from the Amulet tests;\nthe new tests focus in Ceph RADOS Gateway and integration with\nkeystone rather than deploying compute, image and block\nservices (which do not make use of the ceph-radosgw charm).\n\nChange-Id: I41914df024eb02e5a555bc0e44993e09d310933e\nDepends-On: https://github.com/openstack-charmers/zaza/pull/176\n'}, {'number': 8, 'created': '2019-02-04 14:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/792a3f5d2b4cab5f86ecc351b8fabc8f3969dd09', 'message': 'Switch functional testing to zaza\n\nDrop amulet tests and create bundles for all target\nUbuntu/OpenStack series combinations inline with\ncurrent best practice.\n\nZaza tests are not a direct translation from the Amulet tests;\nthe new tests focus in Ceph RADOS Gateway and integration with\nkeystone rather than deploying compute, image and block\nservices (which do not make use of the ceph-radosgw charm).\n\nChange-Id: I41914df024eb02e5a555bc0e44993e09d310933e\nDepends-On: https://github.com/openstack-charmers/zaza/pull/176\n'}, {'number': 9, 'created': '2019-02-04 14:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/8e9a821829a105a79f652b44a3dce7fcbf5c3297', 'message': 'Switch functional testing to zaza\n\nDrop amulet tests and create bundles for all target\nUbuntu/OpenStack series combinations inline with\ncurrent best practice.\n\nZaza tests are not a direct translation from the Amulet tests;\nthe new tests focus in Ceph RADOS Gateway and integration with\nkeystone rather than deploying compute, image and block\nservices (which do not make use of the ceph-radosgw charm).\n\nChange-Id: I41914df024eb02e5a555bc0e44993e09d310933e\nDepends-On: https://github.com/openstack-charmers/zaza/pull/176\n'}, {'number': 10, 'created': '2019-02-04 16:56:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/27da17414d5c414f25c8e9300f617715ee2c2831', 'message': 'Switch functional testing to zaza\n\nDrop amulet tests and create bundles for all target\nUbuntu/OpenStack series combinations inline with\ncurrent best practice.\n\nZaza tests are not a direct translation from the Amulet tests;\nthe new tests focus in Ceph RADOS Gateway and integration with\nkeystone rather than deploying compute, image and block\nservices (which do not make use of the ceph-radosgw charm).\n\nChange-Id: I41914df024eb02e5a555bc0e44993e09d310933e\nDepends-On: https://github.com/openstack-charmers/zaza/pull/176\n'}, {'number': 11, 'created': '2019-02-05 11:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/2b239b7af43318e746da3d1cb4cdf2eb72465733', 'message': 'Switch functional testing to zaza\n\nDrop amulet tests and create bundles for all target\nUbuntu/OpenStack series combinations inline with\ncurrent best practice.\n\nZaza tests are not a direct translation from the Amulet tests;\nthe new tests focus in Ceph RADOS Gateway and integration with\nkeystone rather than deploying compute, image and block\nservices (which do not make use of the ceph-radosgw charm).\n\nChange-Id: I41914df024eb02e5a555bc0e44993e09d310933e\nDepends-On: https://github.com/openstack-charmers/zaza/pull/176\n'}, {'number': 12, 'created': '2019-02-05 12:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/9f50d9251dee7bfde1aca386827539c8908ae312', 'message': 'Switch functional testing to zaza\n\nDrop amulet tests and create bundles for all target\nUbuntu/OpenStack series combinations inline with\ncurrent best practice.\n\nZaza tests are not a direct translation from the Amulet tests;\nthe new tests focus in Ceph RADOS Gateway and integration with\nkeystone rather than deploying compute, image and block\nservices (which do not make use of the ceph-radosgw charm).\n\nChange-Id: I41914df024eb02e5a555bc0e44993e09d310933e\nDepends-On: https://github.com/openstack-charmers/zaza/pull/176\n'}, {'number': 13, 'created': '2019-02-07 14:11:00.000000000', 'files': ['tests/gate-basic-xenial-pike', 'tests/bundles/xenial-ocata.yaml', 'test-requirements.txt', 'tests/gate-basic-xenial-ocata', 'tests/gate-basic-trusty-mitaka', 'tests/bundles/xenial-mitaka.yaml', 'tests/gate-basic-trusty-icehouse', 'tests/bundles/xenial-queens.yaml', 'tests/bundles/trusty-icehouse.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/README.md', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'tests/gate-basic-xenial-mitaka', 'tests/bundles/bionic-queens.yaml', 'tests/basic_deployment.py', 'tests/dev-basic-cosmic-rocky', 'tests/gate-basic-bionic-queens', 'tests/bundles/cosmic-rocky.yaml', 'tests/gate-basic-xenial-queens', 'tests/gate-basic-bionic-rocky', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/2eef15113f940bfd906f8afe5cc1c936c00c892c', 'message': 'Switch functional testing to zaza\n\nDrop amulet tests and create bundles for all target\nUbuntu/OpenStack series combinations inline with\ncurrent best practice.\n\nZaza tests are not a direct translation from the Amulet tests;\nthe new tests focus in Ceph RADOS Gateway and integration with\nkeystone rather than deploying compute, image and block\nservices (which do not make use of the ceph-radosgw charm).\n\nChange-Id: I41914df024eb02e5a555bc0e44993e09d310933e\n'}]",0,633464,2eef15113f940bfd906f8afe5cc1c936c00c892c,65,5,13,935,,,0,"Switch functional testing to zaza

Drop amulet tests and create bundles for all target
Ubuntu/OpenStack series combinations inline with
current best practice.

Zaza tests are not a direct translation from the Amulet tests;
the new tests focus in Ceph RADOS Gateway and integration with
keystone rather than deploying compute, image and block
services (which do not make use of the ceph-radosgw charm).

Change-Id: I41914df024eb02e5a555bc0e44993e09d310933e
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/64/633464/10 && git format-patch -1 --stdout FETCH_HEAD,"['tests/gate-basic-xenial-pike', 'tests/bundles/xenial-ocata.yaml', 'tests/gate-basic-xenial-ocata', 'tests/gate-basic-trusty-mitaka', 'tests/bundles/xenial-mitaka.yaml', 'tests/gate-basic-trusty-icehouse', 'tests/bundles/xenial-queens.yaml', 'tests/bundles/trusty-icehouse.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/README.md', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'tests/gate-basic-xenial-mitaka', 'tests/bundles/bionic-queens.yaml', 'tests/basic_deployment.py', 'tests/dev-basic-cosmic-rocky', 'tests/gate-basic-bionic-queens', 'tests/bundles/cosmic-rocky.yaml', 'tests/gate-basic-xenial-queens', 'tests/gate-basic-bionic-rocky']",21,667d9f4a56af821552a2860b8ec1fa5703b8a3d5,zaza-switch,,"#!/usr/bin/env python # # Copyright 2016 Canonical Ltd # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. """"""Amulet tests on a basic ceph-radosgw deployment on bionic-rocky."""""" from basic_deployment import CephRadosGwBasicDeployment if __name__ == '__main__': deployment = CephRadosGwBasicDeployment(series='bionic', openstack='cloud:bionic-rocky', source='cloud:bionic-updates/rocky') deployment.run_tests() ",985,869
openstack%2Fpython-aodhclient~master~Ia9c02fa2ca241d31787bdacbab75d6008bb60e1f,openstack/python-aodhclient,master,Ia9c02fa2ca241d31787bdacbab75d6008bb60e1f,Add metavar for alarm_id in alarm-history show,MERGED,2018-09-12 15:41:01.000000000,2019-02-07 14:42:33.000000000,2019-02-07 14:42:33.000000000,"[{'_account_id': 1669}, {'_account_id': 11583}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-12 15:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/a7e81583745509991c5c34765330055b0f14c833', 'message': 'Add metavar for alarm_id in alarm-history show\n\nTo unify help messages for positional parameters in OSC.\n\nChange-Id: Ia9c02fa2ca241d31787bdacbab75d6008bb60e1f\nCloses-Bug: #1747731\n'}, {'number': 2, 'created': '2018-09-12 16:33:43.000000000', 'files': ['aodhclient/v2/alarm_history_cli.py'], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/bb9092f7d0fcf10da3a3135683a74203a220cb40', 'message': 'Add metavar for alarm_id in alarm-history show\n\nTo unify help messages for positional parameters in OSC.\n\nChange-Id: Ia9c02fa2ca241d31787bdacbab75d6008bb60e1f\nCloses-Bug: #1747731\n'}]",0,602068,bb9092f7d0fcf10da3a3135683a74203a220cb40,9,3,2,23913,,,0,"Add metavar for alarm_id in alarm-history show

To unify help messages for positional parameters in OSC.

Change-Id: Ia9c02fa2ca241d31787bdacbab75d6008bb60e1f
Closes-Bug: #1747731
",git fetch https://review.opendev.org/openstack/python-aodhclient refs/changes/68/602068/1 && git format-patch -1 --stdout FETCH_HEAD,['aodhclient/v2/alarm_history_cli.py'],1,a7e81583745509991c5c34765330055b0f14c833,bug/1747731," parser.add_argument(""alarm_id"", metavar=""<alarm-id>"" help=""ID of an alarm"")"," parser.add_argument(""alarm_id"", help=""ID of an alarm"")",2,1
openstack%2Fcharm-neutron-dynamic-routing~master~I9467aa82f292746ab61c79e5fc9bab98399c9b4b,openstack/charm-neutron-dynamic-routing,master,I9467aa82f292746ab61c79e5fc9bab98399c9b4b,Update functional test definitions,ABANDONED,2019-02-06 20:49:05.000000000,2019-02-07 14:41:43.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-06 20:49:05.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/eb06a8389630823b62a1b9c4bd91e852adc423e2', 'message': 'Update functional test definitions\n\nRemove trusty-icehouse test combo from gate, leaving trusty-mitaka\nif/where it exists.\n\nChange-Id: I9467aa82f292746ab61c79e5fc9bab98399c9b4b\n'}]",0,635296,eb06a8389630823b62a1b9c4bd91e852adc423e2,4,2,1,20635,,,0,"Update functional test definitions

Remove trusty-icehouse test combo from gate, leaving trusty-mitaka
if/where it exists.

Change-Id: I9467aa82f292746ab61c79e5fc9bab98399c9b4b
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/96/635296/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,eb06a8389630823b62a1b9c4bd91e852adc423e2,update-func-defs,- bionic-queens-functional,- bionic-rocky-functional,1,1
openstack%2Fsahara-plugin-spark~master~I370490435d40a4a53e70d32a7a08e551a2c1ad54,openstack/sahara-plugin-spark,master,I370490435d40a4a53e70d32a7a08e551a2c1ad54,"Reduce the dependencies, add more common Zuul jobs",MERGED,2019-02-05 17:17:44.000000000,2019-02-07 14:32:08.000000000,2019-02-07 14:32:08.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-05 17:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-spark/commit/12ac6e9dbb570813d4e70feb9a2526401f483450', 'message': 'Reduce the dependencies, add more common Zuul jobs\n\nThe requirements and constraints files have been mostly\ncopied from sahara.git, but most of the dependencies\nare not needed.\n\nExplicitly depend on the pre-release of Sahara for Stein.\n\nAdd few more jobs to avoid breakages, namely:\n- add check-requirements and openstack-lower-constraints-jobs;\n- replace tempest-plugin-jobs with openstack-python-jobs,\n  openstack-python35-jobs and openstack-python36-jobs\n  now that it is possible to depend on sahara.\n\nChange-Id: I370490435d40a4a53e70d32a7a08e551a2c1ad54\n'}, {'number': 2, 'created': '2019-02-05 17:42:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-spark/commit/60315e8bb3755708458d21a5ed1cbcb713041a42', 'message': 'Reduce the dependencies, add more common Zuul jobs\n\nThe requirements and constraints files have been mostly\ncopied from sahara.git, but most of the dependencies\nare not needed.\n\nExplicitly depend on the pre-release of Sahara for Stein.\n\nAdd few more jobs to avoid breakages, namely:\n- add check-requirements and openstack-lower-constraints-jobs;\n- replace tempest-plugin-jobs with openstack-python-jobs,\n  openstack-python35-jobs and openstack-python36-jobs\n  now that it is possible to depend on sahara.\n\nDepends-On: https://review.openstack.org/631603\nChange-Id: I370490435d40a4a53e70d32a7a08e551a2c1ad54\n'}, {'number': 3, 'created': '2019-02-05 19:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-spark/commit/817af128ef8c57420b75f3e076f7971447066971', 'message': 'Reduce the dependencies, add more common Zuul jobs\n\nThe requirements files have been mostly copied from sahara.git,\nbut most of the dependencies are not needed.\n\nRefresh the content of lower-constraints.txt and ensure that\nthe lower-constraints tox environment considers also the doc\ndependencies.\n\nExplicitly depend on the pre-release of Sahara for Stein.\n\nAdd few more jobs to avoid breakages, namely:\n- add check-requirements and openstack-lower-constraints-jobs;\n- replace tempest-plugin-jobs with openstack-python-jobs,\n  openstack-python35-jobs and openstack-python36-jobs\n  now that it is possible to depend on sahara.\n\nChange-Id: I370490435d40a4a53e70d32a7a08e551a2c1ad54\n'}, {'number': 4, 'created': '2019-02-05 19:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-spark/commit/dd99c1b2bfac09a25e25a34e0feb863c0f45df86', 'message': 'Reduce the dependencies, add more common Zuul jobs\n\nThe requirements files have been mostly copied from sahara.git,\nbut most of the dependencies are not needed.\n\nRefresh the content of lower-constraints.txt and ensure that\nthe lower-constraints tox environment considers also the doc\ndependencies.\n\nExplicitly depend on the pre-release of Sahara for Stein.\n\nAdd few more jobs to avoid breakages, namely:\n- add check-requirements and openstack-lower-constraints-jobs;\n- replace tempest-plugin-jobs with openstack-python-jobs,\n  openstack-python35-jobs and openstack-python36-jobs\n  now that it is possible to depend on sahara.\n\nDepends-On: https://review.openstack.org/631603\nChange-Id: I370490435d40a4a53e70d32a7a08e551a2c1ad54\n'}, {'number': 5, 'created': '2019-02-06 10:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-spark/commit/0ffe16fab91b24834867520e4e45aebb3c783320', 'message': 'Reduce the dependencies, add more common Zuul jobs\n\nThe requirements files have been mostly copied from sahara.git,\nbut most of the dependencies are not needed.\n\nRefresh the content of lower-constraints.txt and ensure that\nthe lower-constraints tox environment considers also the doc\ndependencies.\n\nExplicitly depend on the pre-release of Sahara for Stein.\n\nAdd few more jobs to avoid breakages, namely:\n- add check-requirements and openstack-lower-constraints-jobs;\n- replace tempest-plugin-jobs with openstack-python-jobs,\n  openstack-python35-jobs and openstack-python36-jobs\n  now that it is possible to depend on sahara.\n\nDepends-On: https://review.openstack.org/631603\nChange-Id: I370490435d40a4a53e70d32a7a08e551a2c1ad54\n'}, {'number': 6, 'created': '2019-02-06 11:24:47.000000000', 'files': ['requirements.txt', 'test-requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'sahara_plugin_spark/tests/unit/plugins/spark/test_plugin.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-spark/commit/94319244b15e57f13b72d1a7d650c33b0621300a', 'message': 'Reduce the dependencies, add more common Zuul jobs\n\nThe requirements files have been mostly copied from sahara.git,\nbut most of the dependencies are not needed.\n\nRefresh the content of lower-constraints.txt and ensure that\nthe lower-constraints tox environment considers also the doc\ndependencies.\n\nExplicitly depend on the pre-release of Sahara for Stein.\n\nAdd few more jobs to avoid breakages, namely:\n- add check-requirements and openstack-lower-constraints-jobs;\n- replace tempest-plugin-jobs with openstack-python-jobs,\n  openstack-python35-jobs and openstack-python36-jobs\n  now that it is possible to depend on sahara.\n\nChange-Id: I370490435d40a4a53e70d32a7a08e551a2c1ad54\n'}]",0,634986,94319244b15e57f13b72d1a7d650c33b0621300a,16,2,6,10459,,,0,"Reduce the dependencies, add more common Zuul jobs

The requirements files have been mostly copied from sahara.git,
but most of the dependencies are not needed.

Refresh the content of lower-constraints.txt and ensure that
the lower-constraints tox environment considers also the doc
dependencies.

Explicitly depend on the pre-release of Sahara for Stein.

Add few more jobs to avoid breakages, namely:
- add check-requirements and openstack-lower-constraints-jobs;
- replace tempest-plugin-jobs with openstack-python-jobs,
  openstack-python35-jobs and openstack-python36-jobs
  now that it is possible to depend on sahara.

Change-Id: I370490435d40a4a53e70d32a7a08e551a2c1ad54
",git fetch https://review.opendev.org/openstack/sahara-plugin-spark refs/changes/86/634986/4 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', '.zuul.yaml', 'lower-constraints.txt']",4,12ac6e9dbb570813d4e70feb9a2526401f483450,clean-deps,,alabaster==0.7.10 alembic==0.8.10 amqp==2.2.2 appdirs==1.4.3 asn1crypto==0.24.0 astroid==1.3.8bandit==1.1.0bcrypt==3.1.4 botocore==1.5.1 cachetools==2.0.1 castellan==0.16.0 certifi==2018.1.18 cffi==1.11.5 chardet==3.0.4 click==6.7 cliff==2.11.0 cmd2==0.8.1 contextlib2==0.5.5cryptography==2.1.4 debtcollector==1.19.0 decorator==4.2.1 deprecation==2.0docutils==0.14 dogpile.cache==0.6.5 dulwich==0.19.0 enum-compat==0.0.2extras==1.0.0 fasteners==0.14.1Flask==1.0.2futurist==1.6.0 gitdb2==2.0.3 GitPython==2.1.8 greenlet==0.4.13idna==2.6 imagesize==1.0.0 iso8601==0.1.11 itsdangerous==0.24 Jinja2==2.10 jmespath==0.9.3 jsonpatch==1.21 jsonpointer==2.0 jsonschema==2.6.0 keystoneauth1==3.4.0 keystonemiddleware==4.17.0 kombu==4.1.0 linecache2==1.0.0 logilab-common==1.4.1 Mako==1.0.7 MarkupSafe==1.0 mccabe==0.2.1monotonic==1.4 mox3==0.25.0 msgpack==0.5.6 munch==2.2.0 netaddr==0.7.19 netifaces==0.10.6openstacksdk==0.12.0os-client-config==1.29.0 os-service-types==1.2.0 osc-lib==1.10.0 oslo.cache==1.29.0 oslo.concurrency==3.26.0 oslo.config==5.2.0 oslo.context==2.19.2 oslo.db==4.27.0oslo.messaging==5.29.0 oslo.middleware==3.31.0 oslo.policy==1.30.0 oslo.rootwrap==5.8.0oslo.service==1.24.0 oslo.upgradecheck==0.1.0packaging==17.1 paramiko==2.0.0 Paste==2.0.3 PasteDeploy==1.5.2pika-pool==0.1.3 pika==0.10.0 prettytable==0.7.2 psycopg2==2.6.2 pyasn1==0.4.2 pycadf==2.7.0 pycparser==2.18 pycodestyle==2.4.0 pyflakes==0.8.1 Pygments==2.2.0 pyinotify==0.9.6PyMySQL==0.7.6 PyNaCl==1.2.1 pyOpenSSL==17.5.0 pyparsing==2.2.0 pyperclip==1.6.0 python-barbicanclient==4.6.0 python-cinderclient==3.3.0 python-dateutil==2.7.0 python-editor==1.0.3 python-glanceclient==2.8.0 python-heatclient==1.10.0 python-keystoneclient==3.8.0 python-manilaclient==1.16.0 python-mimeparse==1.6.0 python-neutronclient==6.7.0 python-novaclient==9.1.0 python-openstackclient==3.14.0 python-saharaclient==1.4.0 python-subunit==1.2.0 python-swiftclient==3.2.0 pytz==2018.3 PyYAML==3.12repoze.lru==0.7requestsexceptions==1.4.0 restructuredtext-lint==1.1.3 rfc3986==1.1.0 Routes==2.4.1 simplejson==3.13.2smmap2==2.0.3 snowballstemmer==1.2.1sphinxcontrib-websupport==1.0.1 sqlalchemy-migrate==0.11.0 SQLAlchemy==1.0.10 sqlparse==0.2.4 statsd==3.2.2stevedore==1.20.0 Tempita==0.5.2 tenacity==4.9.0 testresources==2.0.0tooz==1.58.0 traceback2==1.4.0 unittest2==1.1.0 urllib3==1.22 vine==1.1.4 voluptuous==0.11.1 warlock==1.3.0 WebOb==1.7.1 Werkzeug==0.14.1 wrapt==1.10.11,6,173
openstack%2Fcharm-openstack-dashboard~master~I5c3e44e5daa683e14ac39979d6e9a7c2238dd120,openstack/charm-openstack-dashboard,master,I5c3e44e5daa683e14ac39979d6e9a7c2238dd120,Make fip topology check configurable,MERGED,2019-02-07 11:54:07.000000000,2019-02-07 14:31:31.000000000,2019-02-07 14:31:31.000000000,"[{'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2019-02-07 11:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/b6c746fb2d93c488e1b0d74efce98d8b9e158981', 'message': 'Make fip topology check configurable\n\nHorizon will by default check that a project has\na router with a port on an external network prior\nto allowing floating ips to be attached to\ninstances. Since it is valid to use a shared\nrouter from a different project we make this\nconfigurable to allow disabling this check.\n\nChange-Id: I5c3e44e5daa683e14ac39979d6e9a7c2238dd120\n'}, {'number': 2, 'created': '2019-02-07 11:54:38.000000000', 'files': ['hooks/horizon_contexts.py', 'templates/newton/local_settings.py', 'templates/mitaka/local_settings.py', 'unit_tests/test_horizon_contexts.py', 'config.yaml', 'templates/ocata/local_settings.py', 'templates/liberty/local_settings.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/ac7793ffee62c5356980bc0011c43939f0e755e0', 'message': 'Make fip topology check configurable\n\nHorizon will by default check that a project has\na router with a port on an external network prior\nto allowing floating ips to be attached to\ninstances. Since it is valid to use a shared\nrouter from a different project we make this\nconfigurable to allow disabling this check.\n\nCloses-Bug: #1815032\nChange-Id: I5c3e44e5daa683e14ac39979d6e9a7c2238dd120\n'}]",2,635489,ac7793ffee62c5356980bc0011c43939f0e755e0,11,5,2,6737,,,0,"Make fip topology check configurable

Horizon will by default check that a project has
a router with a port on an external network prior
to allowing floating ips to be attached to
instances. Since it is valid to use a shared
router from a different project we make this
configurable to allow disabling this check.

Closes-Bug: #1815032
Change-Id: I5c3e44e5daa683e14ac39979d6e9a7c2238dd120
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/89/635489/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/horizon_contexts.py', 'templates/newton/local_settings.py', 'templates/mitaka/local_settings.py', 'unit_tests/test_horizon_contexts.py', 'config.yaml', 'templates/ocata/local_settings.py', 'templates/liberty/local_settings.py']",7,b6c746fb2d93c488e1b0d74efce98d8b9e158981,bug/1815032," 'enable_fip_topology_check': {{ enable_fip_topology_check }},"," 'enable_fip_topology_check': True,",57,5
openstack%2Fsahara-image-elements~master~I260bf4cd3840ba2c44b85df87b89b717831b3b5c,openstack/sahara-image-elements,master,I260bf4cd3840ba2c44b85df87b89b717831b3b5c,archive-primary.cloudera.com -> archive.cloudera.com,MERGED,2019-02-04 21:07:18.000000000,2019-02-07 14:25:08.000000000,2019-02-07 14:25:08.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-04 21:07:18.000000000', 'files': ['elements/hadoop-cloudera/pre-install.d/10-add-mirror', 'elements/hadoop-cloudera/README.rst'], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/48491edb728266ffe260fba4347134526094531e', 'message': 'archive-primary.cloudera.com -> archive.cloudera.com\n\nThe former is no more active.\n\nStory: 2004936\nTask: 29329\nChange-Id: I260bf4cd3840ba2c44b85df87b89b717831b3b5c\n'}]",0,634810,48491edb728266ffe260fba4347134526094531e,7,2,1,10459,,,0,"archive-primary.cloudera.com -> archive.cloudera.com

The former is no more active.

Story: 2004936
Task: 29329
Change-Id: I260bf4cd3840ba2c44b85df87b89b717831b3b5c
",git fetch https://review.opendev.org/openstack/sahara-image-elements refs/changes/10/634810/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/hadoop-cloudera/pre-install.d/10-add-mirror', 'elements/hadoop-cloudera/README.rst']",2,48491edb728266ffe260fba4347134526094531e,fix-archive-cloudera,`cdh5 <http://archive.cloudera.com/cdh5/>`_ and `cm5 <http://archive.cloudera.com/cm5>`_.Cloudera repository: `kafka <http://archive.cloudera.com/kafka>`_.,`cdh5 <http://archive-primary.cloudera.com/cdh5/>`_ and `cm5 <http://archive-primary.cloudera.com/cm5>`_.Cloudera repository: `kafka <http://archive-primary.cloudera.com/kafka>`_.,11,11
openstack%2Ftripleo-heat-templates~stable%2Frocky~I2dae3358b56946aaae7eddbf3eb501e672455565,openstack/tripleo-heat-templates,stable/rocky,I2dae3358b56946aaae7eddbf3eb501e672455565,Adding dependency for NetworkDeployment in 'server_resource_name'Deployment,MERGED,2019-02-07 08:16:33.000000000,2019-02-07 14:13:45.000000000,2019-02-07 14:13:45.000000000,"[{'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-02-07 08:16:33.000000000', 'files': ['puppet/role.role.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5a4431d0a044074614a3f313c3f54b371103a59f', 'message': ""Adding dependency for NetworkDeployment in 'server_resource_name'Deployment\n\nWe removed the dependency for NetworkDeployment[1] in\nrole.role.j2.yaml after moving to Ansible the\nUpgradeInitCommand and UpgradeInitCommonCommand Heat hooks.\n\n[1]: https://review.openstack.org/#/c/632108/17/puppet/role.role.j2.yaml@649\n\nCloses-bug: 1812659\nChange-Id: I2dae3358b56946aaae7eddbf3eb501e672455565\n(cherry picked from commit aa2dc674fb3abdf4d5d2f1d41cc964cc32137b3c)\n""}]",0,635450,5a4431d0a044074614a3f313c3f54b371103a59f,8,4,1,20775,,,0,"Adding dependency for NetworkDeployment in 'server_resource_name'Deployment

We removed the dependency for NetworkDeployment[1] in
role.role.j2.yaml after moving to Ansible the
UpgradeInitCommand and UpgradeInitCommonCommand Heat hooks.

[1]: https://review.openstack.org/#/c/632108/17/puppet/role.role.j2.yaml@649

Closes-bug: 1812659
Change-Id: I2dae3358b56946aaae7eddbf3eb501e672455565
(cherry picked from commit aa2dc674fb3abdf4d5d2f1d41cc964cc32137b3c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/635450/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/role.role.j2.yaml'],1,5a4431d0a044074614a3f313c3f54b371103a59f,, depends_on: NetworkDeployment,,1,0
openstack%2Ftripleo-heat-templates~master~Ia77f1a82c4164f53fa90a6f05ba728787622285d,openstack/tripleo-heat-templates,master,Ia77f1a82c4164f53fa90a6f05ba728787622285d,Fix generation of configs that contain password files,MERGED,2019-01-29 15:58:52.000000000,2019-02-07 13:57:02.000000000,2019-02-07 13:57:02.000000000,"[{'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 8833}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-29 15:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4532b028bcfc4ab8dd48d76053f71b90a3a38cf2', 'message': ""Fix generation of configs that contain password files\n\nIn I8fe9a640ba36288a1f9cb18563b363159d4731c0 we added the ability\nto prevent overwriting password files during docker-puppet runs, to\ngive the service the ability to update his own user credentials.\n\nThis doesn't work in case a stack update is running and config files\ndon't exist on the host in the first place, for instance due to\na previous deploy failure, or due to a controller node replacement.\n\nChange the way password files are handled:\n\n  . if a stack update is ongoing and a previous password file exists\n    on the host, do not overwrite it with the new password. Only\n    use the new password for computing the hash.\n\n  . otherwise, always copy the newly generated password file on the\n    host.\n\nAlso, fix the config hash generation that currently considers the\npassword file twice, which makes the hash vary and cause\nunexpected service restart at each stack update.\n\nChange-Id: Ia77f1a82c4164f53fa90a6f05ba728787622285d\nCloses-bug: #1809145\n""}, {'number': 2, 'created': '2019-02-05 14:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/832784b6e1652f9e62401e59cb715a4d3235081e', 'message': ""Fix generation of configs that contain password files\n\nIn I8fe9a640ba36288a1f9cb18563b363159d4731c0 we added the ability\nto prevent overwriting password files during docker-puppet runs, to\ngive the service the ability to update his own user credentials.\n\nThis doesn't work in case a stack update is running and config files\ndon't exist on the host in the first place (e.g. because of a\nprevious deploy failure, or due to a controller node replacement).\nThis also causes complications if a password file is already present\nduring a stack creation (e.g re-creating a stack on a split-stack\nenvironment).\n\nChange the way password files are handled:\n\n  . if a previous password file exists on the host, do not overwrite\n    it with the new password. Only use the new password for\n    computing the hash.\n\n  . otherwise, always copy the newly generated password file on the\n    host.\n\nAlso, fix the config hash generation that currently considers the\npassword file twice, which makes the hash vary and cause\nunexpected service restart at each stack update.\n\nChange-Id: Ia77f1a82c4164f53fa90a6f05ba728787622285d\nCloses-bug: #1809145\n""}, {'number': 3, 'created': '2019-02-06 11:26:57.000000000', 'files': ['docker/docker-puppet.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ec5fbe8de78ad37ec8ed4f6642be0e545da7fcf9', 'message': ""Fix generation of configs that contain password files\n\nIn I8fe9a640ba36288a1f9cb18563b363159d4731c0 we added the ability\nto prevent overwriting password files during docker-puppet runs, to\ngive the service the ability to update his own user credentials.\n\nThis doesn't work in case a stack update is running and config files\ndon't exist on the host in the first place (e.g. because of a\nprevious deploy failure, or due to a controller node replacement).\nThis also causes complications if a password file is already present\nduring a stack creation (e.g re-creating a stack on a split-stack\nenvironment).\n\nChange the way password files are handled:\n\n  . if a previous password file exists on the host, do not overwrite\n    it with the new password. Only use the new password for\n    computing the hash.\n\n  . otherwise, always copy the newly generated password file on the\n    host.\n\nAlso, fix the config hash generation that currently considers the\npassword file twice, which makes the hash vary and cause\nunexpected service restart at each stack update.\n\nChange-Id: Ia77f1a82c4164f53fa90a6f05ba728787622285d\nCloses-bug: #1809145\n""}]",4,633768,ec5fbe8de78ad37ec8ed4f6642be0e545da7fcf9,33,7,3,20778,,,0,"Fix generation of configs that contain password files

In I8fe9a640ba36288a1f9cb18563b363159d4731c0 we added the ability
to prevent overwriting password files during docker-puppet runs, to
give the service the ability to update his own user credentials.

This doesn't work in case a stack update is running and config files
don't exist on the host in the first place (e.g. because of a
previous deploy failure, or due to a controller node replacement).
This also causes complications if a password file is already present
during a stack creation (e.g re-creating a stack on a split-stack
environment).

Change the way password files are handled:

  . if a previous password file exists on the host, do not overwrite
    it with the new password. Only use the new password for
    computing the hash.

  . otherwise, always copy the newly generated password file on the
    host.

Also, fix the config hash generation that currently considers the
password file twice, which makes the hash vary and cause
unexpected service restart at each stack update.

Change-Id: Ia77f1a82c4164f53fa90a6f05ba728787622285d
Closes-bug: #1809145
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/68/633768/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/docker-puppet.py'],1,4532b028bcfc4ab8dd48d76053f71b90a3a38cf2,bug/1809145," # password file in docker-puppet if the file already existed # before and let the service regenerate it instead. password_files=""/root/.my.cnf"" action=$(hiera -c /etc/puppet/hiera.yaml stack_action) if [ ""x$action"" = ""xUPDATE"" ];then for p in $password_files; do if [ -f ""$p"" -a -f ""/var/lib/config-data/${NAME}$p"" ]; then exclude_files+="" --exclude=$p"" fi done fi excluded_original_passwords="""" excluded_original_passwords+="" --exclude=/var/lib/config-data/*${p}"" EXCLUDE=--exclude='*/etc/swift/backups/*'\ --exclude='*/etc/swift/*.ring.gz'\ --exclude='*/etc/swift/*.builder'\ --exclude='*/etc/libvirt/passwd.db'\ ${excluded_original_passwords}"," # password file in docker-puppet and let the service # regenerate it instead. action=$(hiera -c /etc/puppet/hiera.yaml stack_action) if [ ""x$action"" = ""xUPDATE"" ];then password_files=""/root/.my.cnf"" else password_files="""" fi for p in $password_files; do exclude_files+="" --exclude=$p"" done EXCLUDE=--exclude='*/etc/swift/backups/*'\ --exclude='*/etc/swift/*.ring.gz'\ --exclude='*/etc/swift/*.builder'\ --exclude='*/etc/libvirt/passwd.db'",15,14
openstack%2Fnetworking-ovn~master~I26131fa898cb1bf7ef105166d5e696e3c944ff64,openstack/networking-ovn,master,I26131fa898cb1bf7ef105166d5e696e3c944ff64,Fix ovn-extras.yaml check on ovn_migration.sh,MERGED,2019-02-05 20:58:28.000000000,2019-02-07 13:52:06.000000000,2019-02-07 13:52:06.000000000,"[{'_account_id': 6773}, {'_account_id': 10237}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-02-05 20:58:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/05392230a4644b9038cdf86f0edd50e3fca419e1', 'message': 'Fix ovn-extras.yaml check on ovn_migration.sh\n\nChange-Id: I26131fa898cb1bf7ef105166d5e696e3c944ff64\nCloses-Bug: 1814820\n'}, {'number': 2, 'created': '2019-02-06 14:23:15.000000000', 'files': ['migration/tripleo_environment/ovn_migration.sh'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d0d06a80cd6137210087ce08d96c8bffeb2c73f4', 'message': 'Fix ovn-extras.yaml check on ovn_migration.sh\n\nChange-Id: I26131fa898cb1bf7ef105166d5e696e3c944ff64\nCloses-Bug: 1814820\n'}]",0,635037,d0d06a80cd6137210087ce08d96c8bffeb2c73f4,9,4,2,8788,,,0,"Fix ovn-extras.yaml check on ovn_migration.sh

Change-Id: I26131fa898cb1bf7ef105166d5e696e3c944ff64
Closes-Bug: 1814820
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/37/635037/2 && git format-patch -1 --stdout FETCH_HEAD,['migration/tripleo_environment/ovn_migration.sh'],1,05392230a4644b9038cdf86f0edd50e3fca419e1,bug/1814820," cat $OVERCLOUD_OVN_DEPLOY_SCRIPT | grep \$HOME/ovn-extras.yaml >/dev/null check1=$? cat $OVERCLOUD_OVN_DEPLOY_SCRIPT | grep $HOME/ovn-extras.yaml >/dev/null check2=$? if [ ""$check1"" == ""1"" && ""$check2"" == ""1"" ] Please add it as \"" -e \$HOME/ovn-extras.yaml\"""""," cat $OVERCLOUD_OVN_DEPLOY_SCRIPT | grep $HOME/ovn-extras.yaml >/dev/null if [ ""$?"" == ""1"" ] Please add it as \"" -e $HOME/ovn-extras.yaml\""""",7,3
openstack%2Fnetworking-baremetal~stable%2Fqueens~I8a502eb830efb5dbd61b3e0f17603911e5a78e1c,openstack/networking-baremetal,stable/queens,I8a502eb830efb5dbd61b3e0f17603911e5a78e1c,DNM - Queens gate test,ABANDONED,2019-02-06 17:30:33.000000000,2019-02-07 13:50:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-02-06 17:30:33.000000000', 'files': ['networking_baremetal/agent/ironic_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/aafb9598541c09b0652f1e41c1025dfe10408802', 'message': 'DNM - Queens gate test\n\nChange-Id: I8a502eb830efb5dbd61b3e0f17603911e5a78e1c\n'}]",0,635228,aafb9598541c09b0652f1e41c1025dfe10408802,3,1,1,24245,,,0,"DNM - Queens gate test

Change-Id: I8a502eb830efb5dbd61b3e0f17603911e5a78e1c
",git fetch https://review.opendev.org/openstack/networking-baremetal refs/changes/28/635228/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_baremetal/agent/ironic_neutron_agent.py'],1,aafb9598541c09b0652f1e41c1025dfe10408802,DNM-queens-gate-test,# GATE TEST,,1,0
openstack%2Fnetworking-ovn~master~I514100c81b8c5d5ccb451417349a7a17ae66aa3d,openstack/networking-ovn,master,I514100c81b8c5d5ccb451417349a7a17ae66aa3d,Disable oooq jobs on migration or other irrelevant,MERGED,2019-02-05 20:20:04.000000000,2019-02-07 13:20:21.000000000,2019-02-07 13:20:21.000000000,"[{'_account_id': 6773}, {'_account_id': 8788}, {'_account_id': 10237}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-02-05 20:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5bb94c53027c7df9531524419edba10cb71a4000', 'message': 'WIP: dummy attempt to disable oooq jobs on migration files\n\nChange-Id: I514100c81b8c5d5ccb451417349a7a17ae66aa3d\n'}, {'number': 2, 'created': '2019-02-05 20:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2d0e9d86d033bd4d06ab3b4a4c75b2549fe55f9a', 'message': 'WIP: dummy attempt to disable oooq jobs on migration files\n\nChange-Id: I514100c81b8c5d5ccb451417349a7a17ae66aa3d\n'}, {'number': 3, 'created': '2019-02-05 20:27:21.000000000', 'files': ['zuul.d/networkin-ovn-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2cf88a488215f5173ecabb774efe7783e9f317ac', 'message': 'Disable oooq jobs on migration or other irrelevant\n\nThe purpose of this change is to save CI resources and time.\n\nChange-Id: I514100c81b8c5d5ccb451417349a7a17ae66aa3d\n'}]",0,635029,2cf88a488215f5173ecabb774efe7783e9f317ac,13,5,3,8788,,,0,"Disable oooq jobs on migration or other irrelevant

The purpose of this change is to save CI resources and time.

Change-Id: I514100c81b8c5d5ccb451417349a7a17ae66aa3d
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/29/635029/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,5bb94c53027c7df9531524419edba10cb71a4000,, irrelevant-files: - ^migration/.*$,,2,0
openstack%2Freleases~master~Icb70e8633e458090d3e5f19cbd17f1081ed72ac5,openstack/releases,master,Icb70e8633e458090d3e5f19cbd17f1081ed72ac5,openstack-governance 0.3.0,MERGED,2019-02-07 12:48:09.000000000,2019-02-07 13:17:28.000000000,2019-02-07 13:17:28.000000000,"[{'_account_id': 308}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-07 12:48:09.000000000', 'files': ['deliverables/_independent/openstack-governance.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c2aa0950821b35b08ed3e2001b0d55f6227d0790', 'message': 'openstack-governance 0.3.0\n\nChange-Id: Icb70e8633e458090d3e5f19cbd17f1081ed72ac5\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,635501,c2aa0950821b35b08ed3e2001b0d55f6227d0790,6,2,1,2472,,,0,"openstack-governance 0.3.0

Change-Id: Icb70e8633e458090d3e5f19cbd17f1081ed72ac5
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/01/635501/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/openstack-governance.yaml'],1,c2aa0950821b35b08ed3e2001b0d55f6227d0790,openstack-governance-0.3.0, - projects: - hash: 6d1008c7b763b8a76465a2740fb492bbc5b148ca repo: openstack/governance tarball-base: openstack-governance version: 0.3.0,,5,0
openstack%2Fgoal-tools~master~I5ef5bcc265daf1185df7ffd9957cd2591bf8ea08,openstack/goal-tools,master,I5ef5bcc265daf1185df7ffd9957cd2591bf8ea08,use larger query batch size,MERGED,2019-02-07 12:46:45.000000000,2019-02-07 13:11:25.000000000,2019-02-07 13:11:25.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-07 12:46:45.000000000', 'files': ['goal_tools/python3_first/patches.py'], 'web_link': 'https://opendev.org/openstack/goal-tools/commit/7a8e653b499c66b2eb451fe386da2f28d44329cc', 'message': 'use larger query batch size\n\nChange-Id: I5ef5bcc265daf1185df7ffd9957cd2591bf8ea08\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,635498,7a8e653b499c66b2eb451fe386da2f28d44329cc,6,2,1,2472,,,0,"use larger query batch size

Change-Id: I5ef5bcc265daf1185df7ffd9957cd2591bf8ea08
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/goal-tools refs/changes/98/635498/1 && git format-patch -1 --stdout FETCH_HEAD,['goal_tools/python3_first/patches.py'],1,7a8e653b499c66b2eb451fe386da2f28d44329cc,python3-first,"BATCH_SIZE = 300 'n': str(BATCH_SIZE), offset += BATCH_SIZE 'n': str(BATCH_SIZE), offset += BATCH_SIZE"," 'n': '100', offset += 100 'n': '100', offset += 100",5,4
openstack%2Fopenstack-ansible-os_cinder~master~If57ce8571a8104a5657581aaf6ff7934047e5085,openstack/openstack-ansible-os_cinder,master,If57ce8571a8104a5657581aaf6ff7934047e5085,venv: use inventory_hostname instead of ansible_hostname,MERGED,2019-02-06 14:49:16.000000000,2019-02-07 12:56:01.000000000,2019-02-07 12:56:01.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-02-06 14:49:16.000000000', 'files': ['tasks/cinder_install_source.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/08cbc0d5d50bbb6f11ee930002ecadb32f9da1e1', 'message': 'venv: use inventory_hostname instead of ansible_hostname\n\nIt is possible that the hostname of the system does not match the\none in the inventory which means that the delegate_to or the\ncomparision to inventory_hostname will fail in the tasks later.\n\nChange-Id: If57ce8571a8104a5657581aaf6ff7934047e5085\n'}]",0,635172,08cbc0d5d50bbb6f11ee930002ecadb32f9da1e1,9,3,1,28521,,,0,"venv: use inventory_hostname instead of ansible_hostname

It is possible that the hostname of the system does not match the
one in the inventory which means that the delegate_to or the
comparision to inventory_hostname will fail in the tasks later.

Change-Id: If57ce8571a8104a5657581aaf6ff7934047e5085
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/72/635172/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/cinder_install_source.yml'],1,08cbc0d5d50bbb6f11ee930002ecadb32f9da1e1,," venv_build_host: ""{{ inventory_hostname }}"""," venv_build_host: ""{{ ansible_hostname }}""",1,1
openstack%2Fheat~master~I2f4dbb7d98fbdf5314d5771309919c5b25a72f94,openstack/heat,master,I2f4dbb7d98fbdf5314d5771309919c5b25a72f94,Use application_url in API version document,MERGED,2018-06-12 11:28:01.000000000,2019-02-07 12:29:36.000000000,2018-07-09 12:24:11.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-12 11:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6b4dd060d96e3272d8378b869d8bc53363504c69', 'message': 'Use application_url in API version document\n\nthis handles the possible vhost in Heat API path correctly\n(like http://mucloud.com/heat-api) contrary to host_url.\n\nChange-Id: I2f4dbb7d98fbdf5314d5771309919c5b25a72f94\nStory: 2002531\nTask: 22075\n'}, {'number': 2, 'created': '2018-06-13 17:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/32771a2d8c186ad38731ceeab426a1571da1b3ac', 'message': 'Use application_url in API version document\n\nthis handles the possible vhost in Heat API path correctly\n(like http://mucloud.com/heat-api) contrary to host_url.\n\nChange-Id: I2f4dbb7d98fbdf5314d5771309919c5b25a72f94\nStory: 2002531\nTask: 22075\n'}, {'number': 3, 'created': '2018-06-14 08:18:36.000000000', 'files': ['heat/api/versions.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/b2fa516a47c2278238df92ef9d7846decdce98e0', 'message': 'Use application_url in API version document\n\nthis handles the possible vhost in Heat API path correctly\n(like http://mucloud.com/heat-api) contrary to host_url.\n\nChange-Id: I2f4dbb7d98fbdf5314d5771309919c5b25a72f94\nStory: 2002531\nTask: 22075\n'}]",0,574698,b2fa516a47c2278238df92ef9d7846decdce98e0,13,3,3,9542,,,0,"Use application_url in API version document

this handles the possible vhost in Heat API path correctly
(like http://mucloud.com/heat-api) contrary to host_url.

Change-Id: I2f4dbb7d98fbdf5314d5771309919c5b25a72f94
Story: 2002531
Task: 22075
",git fetch https://review.opendev.org/openstack/heat refs/changes/98/574698/3 && git format-patch -1 --stdout FETCH_HEAD,['heat/api/versions.py'],1,6b4dd060d96e3272d8378b869d8bc53363504c69,versionnegotiation," return ""%s/v1/"" % req.application_url"," return ""%s/v1/"" % req.host_url",1,1
openstack%2Fproject-config~master~I1f90a5a68b064ff24a325337d4c85dcfe4b07c7b,openstack/project-config,master,I1f90a5a68b064ff24a325337d4c85dcfe4b07c7b,Fix releasenotes publishing after opendev/base-jobs change,MERGED,2019-02-07 10:06:23.000000000,2019-02-07 12:24:19.000000000,2019-02-07 12:24:19.000000000,"[{'_account_id': 2}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-07 10:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/666a0711ad3611bc044e8c8bb6539648a0e8cd42', 'message': ""Fix releasenotes publishing after opendev/base-jobs change\n\nThis job uses a role in openstack-zuul-jobs, which is a repo that\nused to be included in openstack's base job, but is no longer\nnow that we switched to the opendev base job.  This adds the repo\nback to the role path for this job.\n\nThe failure is:\n ERROR! the role 'write-root-marker' was not found\n\nChange-Id: I1f90a5a68b064ff24a325337d4c85dcfe4b07c7b\n""}, {'number': 2, 'created': '2019-02-07 10:43:23.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e3e36f30930ebbd7c4784151559bb89ea6b57d1c', 'message': ""Fix releasenotes publishing after opendev/base-jobs change\n\nThis job uses a role in openstack-zuul-jobs, which is a repo that\nused to be included in openstack's base job, but is no longer\nnow that we switched to the opendev base job.  This adds the repo\nback to the role path for this job.\n\nThe failure is:\n ERROR! the role 'write-root-marker' was not found\n\nChange-Id: I1f90a5a68b064ff24a325337d4c85dcfe4b07c7b\n""}]",0,635470,e3e36f30930ebbd7c4784151559bb89ea6b57d1c,9,3,2,6547,,,0,"Fix releasenotes publishing after opendev/base-jobs change

This job uses a role in openstack-zuul-jobs, which is a repo that
used to be included in openstack's base job, but is no longer
now that we switched to the opendev base job.  This adds the repo
back to the role path for this job.

The failure is:
 ERROR! the role 'write-root-marker' was not found

Change-Id: I1f90a5a68b064ff24a325337d4c85dcfe4b07c7b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/70/635470/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,666a0711ad3611bc044e8c8bb6539648a0e8cd42,releasenotes, roles: - zuul: openstack-infra/openstack-zuul-jobs,,2,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I76eb6a2572e24b6f114e38897a68cd85276af3c6,openstack/tripleo-heat-templates,stable/queens,I76eb6a2572e24b6f114e38897a68cd85276af3c6,Move UpgradeInitCommand and UpgradeInitCommonCommand to run by Ansible,MERGED,2019-02-05 09:28:15.000000000,2019-02-07 12:15:47.000000000,2019-02-07 12:15:46.000000000,"[{'_account_id': 8042}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-05 09:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/22f9f1f6d268502ec4bc15d898d4d8e8646b2602', 'message': 'Move UpgradeInitCommand and UpgradeInitCommonCommand to run by Ansible\n\nThis change moves the execution of UpgradeInitCommand\nand UpgradeInitCommonCommand to be executed with\nAnsible in the upgrade step 0 instead of Heat.\n\nCloses-bug: 1812659\nChange-Id: I76eb6a2572e24b6f114e38897a68cd85276af3c6\n(cherry picked from commit 9164e6adbdce69a2b7c10e1aea6c5cb309b6754e)\n(cherry picked from commit 5753352ee7e600f30a67a196c3c8b3d06493257e)\n'}, {'number': 2, 'created': '2019-02-05 09:32:06.000000000', 'files': ['puppet/role.role.j2.yaml', 'puppet/services/tripleo-packages.yaml', 'deployed-server/deployed-server.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/52be3ef9c15a2be05f59b97653530ff3ca2e4786', 'message': 'Move UpgradeInitCommand and UpgradeInitCommonCommand to run by Ansible\n\nThis change moves the execution of UpgradeInitCommand\nand UpgradeInitCommonCommand to be executed with\nAnsible in the upgrade step 0 instead of Heat.\n\nCloses-bug: 1812659\nChange-Id: I76eb6a2572e24b6f114e38897a68cd85276af3c6\n(cherry picked from commit 9164e6adbdce69a2b7c10e1aea6c5cb309b6754e)\n(cherry picked from commit 5753352ee7e600f30a67a196c3c8b3d06493257e)\n'}]",0,634892,52be3ef9c15a2be05f59b97653530ff3ca2e4786,11,4,2,20775,,,0,"Move UpgradeInitCommand and UpgradeInitCommonCommand to run by Ansible

This change moves the execution of UpgradeInitCommand
and UpgradeInitCommonCommand to be executed with
Ansible in the upgrade step 0 instead of Heat.

Closes-bug: 1812659
Change-Id: I76eb6a2572e24b6f114e38897a68cd85276af3c6
(cherry picked from commit 9164e6adbdce69a2b7c10e1aea6c5cb309b6754e)
(cherry picked from commit 5753352ee7e600f30a67a196c3c8b3d06493257e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/92/634892/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/role.role.j2.yaml', 'puppet/services/tripleo-packages.yaml', 'deployed-server/deployed-server.yaml']",3,22f9f1f6d268502ec4bc15d898d4d8e8646b2602,bug/1812659,," UpgradeInitConfig: type: OS::Heat::SoftwareConfig properties: group: script config: list_join: - '' - - ""#!/bin/bash\n\n"" - ""if [[ -f /etc/resolv.conf.save ]] ; then rm /etc/resolv.conf.save; fi\n\n"" - get_param: UpgradeInitCommand - get_param: UpgradeInitCommonCommand UpgradeInitDeployment: type: OS::Heat::SoftwareDeployment properties: name: UpgradeInitDeployment server: {get_resource: deployed-server} config: {get_resource: UpgradeInitConfig} depends_on: UpgradeInitDeployment",178,56
openstack%2Fpaunch~master~Id842ead687d36f6508eb8512692cde76bf914788,openstack/paunch,master,Id842ead687d36f6508eb8512692cde76bf914788,"Revert ""Always attempt a graceful container stop/remove""",MERGED,2019-02-06 13:43:46.000000000,2019-02-07 12:15:46.000000000,2019-02-07 12:15:45.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 18851}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-02-06 13:43:46.000000000', 'files': ['paunch/tests/test_runner.py', 'paunch/runner.py', 'paunch/tests/test_builder_base.py', 'paunch/builder/base.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/f1c60c4efde9bdd17a0b236180dc764e6630d069', 'message': 'Revert ""Always attempt a graceful container stop/remove""\n\nThere is no --stop-signal, --stop-timeout options for the action stop (those are for run)\n\nThis reverts commit b5a14c6cd0be76156852afdc8c664e37e88bc7b3.\n\nChange-Id: Id842ead687d36f6508eb8512692cde76bf914788\n'}]",0,635156,f1c60c4efde9bdd17a0b236180dc764e6630d069,9,11,1,6926,,,0,"Revert ""Always attempt a graceful container stop/remove""

There is no --stop-signal, --stop-timeout options for the action stop (those are for run)

This reverts commit b5a14c6cd0be76156852afdc8c664e37e88bc7b3.

Change-Id: Id842ead687d36f6508eb8512692cde76bf914788
",git fetch https://review.opendev.org/openstack/paunch refs/changes/56/635156/1 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/tests/test_runner.py', 'paunch/runner.py', 'paunch/builder/base.py', 'paunch/tests/test_builder_base.py']",4,f1c60c4efde9bdd17a0b236180dc764e6630d069,bug/1810690," '--detach=true', 'centos:7'], mock.ANY"," 'stop_signal': 'SIGKILL', 'stop_grace_period': '1m2s', # stop five ('', '', 0), # stop six ('', '', 0), # stop two, changed config data ('', '', 0), mock.call(['docker', 'stop', '--stop-signal=SIGTERM', '--stop-timeout=10.0', 'five'], quiet=True), mock.call(['docker', 'stop', '--stop-signal=SIGTERM', '--stop-timeout=10.0', 'six'], quiet=True), mock.call(['docker', 'stop', '--stop-signal=SIGKILL', '--stop-timeout=62.0', 'two-12345678'], quiet=True), '--detach=true', '--stop-signal=SIGKILL', '--stop-timeout=62.0', 'centos:7'], mock.ANY",16,108
openstack%2Fvitrage-tempest-plugin~master~I9fac4ff7d3068aa38f37c8941f7aed3b0d67fef2,openstack/vitrage-tempest-plugin,master,I9fac4ff7d3068aa38f37c8941f7aed3b0d67fef2,WIP: add a new service list api tests,ABANDONED,2019-02-07 12:02:10.000000000,2019-02-07 12:03:27.000000000,,[],"[{'number': 1, 'created': '2019-02-07 12:02:10.000000000', 'files': ['vitrage_tempest_plugin/tests/api/services/__init__.py', 'devstack/post_test_hook.sh', 'vitrage_tempest_plugin/tests/api/services/test_service.py', 'vitrage_tempest_plugin/tests/base.py'], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/86ce82482034418153239b624bee52b48bbc4022', 'message': 'WIP: add a new service list api tests\n\nChange-Id: I2996afcd4f05c87847db1f9be64a362a2593f5b6\n\nWIP: add a new service list api tests\n\nChange-Id: I9fac4ff7d3068aa38f37c8941f7aed3b0d67fef2\n'}]",0,635491,86ce82482034418153239b624bee52b48bbc4022,2,0,1,19134,,,0,"WIP: add a new service list api tests

Change-Id: I2996afcd4f05c87847db1f9be64a362a2593f5b6

WIP: add a new service list api tests

Change-Id: I9fac4ff7d3068aa38f37c8941f7aed3b0d67fef2
",git fetch https://review.opendev.org/openstack/vitrage-tempest-plugin refs/changes/91/635491/1 && git format-patch -1 --stdout FETCH_HEAD,"['vitrage_tempest_plugin/tests/api/services/__init__.py', 'devstack/post_test_hook.sh', 'vitrage_tempest_plugin/tests/api/services/test_service.py', 'vitrage_tempest_plugin/tests/base.py']",4,86ce82482034418153239b624bee52b48bbc4022,eyalb/service," def assert_set_equal(self, s1, s2, message): self.assertSetEqual(s1, s2, message) ",,69,1
openstack%2Ftripleo-heat-templates~master~Id08be90d6be89af66d94bc779f311702526eb788,openstack/tripleo-heat-templates,master,Id08be90d6be89af66d94bc779f311702526eb788,Rework nova_cell_v2_discover_host.py to use nova.conf and python novaclient,MERGED,2019-01-25 16:10:41.000000000,2019-02-07 11:56:54.000000000,2019-02-07 11:56:54.000000000,"[{'_account_id': 3153}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-01-25 16:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/90a03b83b3b69756cccfbf1049bafccc35e9ee61', 'message': 'Rework nova_wait_for_db_sync.py to use nova.conf and python novaclient\n\nPreviously nova_wait_for_db_sync.py used environment variables passed\nto the script and it got deleted right after usage. This changed to:\n- read auth information from nova.conf\n- read host information from nova.conf\n- use python novaclient to check new services instead of subprocess\ncalls\n\nChange-Id: Id08be90d6be89af66d94bc779f311702526eb788\n'}, {'number': 2, 'created': '2019-01-28 07:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e6b4d60ec3b07093191977677ef381d5460fef15', 'message': 'Rework nova_cell_v2_discover_host.py to use nova.conf and python novaclient\n\nPreviously nova_cell_v2_discover_host.py used environment variables passed\nto the script and it got deleted right after usage. This changed to:\n- read auth information from nova.conf\n- read host information from nova.conf\n- use python novaclient to check new services instead of subprocess\ncalls\n\nChange-Id: Id08be90d6be89af66d94bc779f311702526eb788\n'}, {'number': 3, 'created': '2019-01-28 12:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/74f88eb1bb238dea8480b66d27d8243a4402fdd0', 'message': 'Rework nova_cell_v2_discover_host.py to use nova.conf and python novaclient\n\nPreviously nova_cell_v2_discover_host.py used environment variables passed\nto the script and it got deleted right after usage. This changed to:\n- read auth information from nova.conf\n- read host information from nova.conf\n- use python novaclient to check new services instead of subprocess\ncalls\n\nChange-Id: Id08be90d6be89af66d94bc779f311702526eb788\n'}, {'number': 4, 'created': '2019-01-28 15:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/baa6abf1a9d2dbdb78849328a6736ab8c39eab53', 'message': 'Rework nova_cell_v2_discover_host.py to use nova.conf and python novaclient\n\nPreviously nova_cell_v2_discover_host.py used environment variables passed\nto the script and it got deleted right after usage. This changed to:\n- read auth information from nova.conf\n- read host information from nova.conf\n- use python novaclient to check new services instead of subprocess\ncalls\n\nChange-Id: Id08be90d6be89af66d94bc779f311702526eb788\n'}, {'number': 5, 'created': '2019-01-28 16:54:40.000000000', 'files': ['docker_config_scripts/nova_cell_v2_discover_host.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/df7f43974e4e5bdf6ceee773b0e22be0eb74b36c', 'message': 'Rework nova_cell_v2_discover_host.py to use nova.conf and python novaclient\n\nPreviously nova_cell_v2_discover_host.py used environment variables passed\nto the script and it got deleted right after usage. This changed to:\n- read auth information from nova.conf\n- read host information from nova.conf\n- use python novaclient to check new services instead of subprocess\ncalls\n\nChange-Id: Id08be90d6be89af66d94bc779f311702526eb788\n'}]",6,633230,df7f43974e4e5bdf6ceee773b0e22be0eb74b36c,28,10,5,17216,,,0,"Rework nova_cell_v2_discover_host.py to use nova.conf and python novaclient

Previously nova_cell_v2_discover_host.py used environment variables passed
to the script and it got deleted right after usage. This changed to:
- read auth information from nova.conf
- read host information from nova.conf
- use python novaclient to check new services instead of subprocess
calls

Change-Id: Id08be90d6be89af66d94bc779f311702526eb788
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/633230/5 && git format-patch -1 --stdout FETCH_HEAD,['docker_config_scripts/nova_cell_v2_discover_host.py'],1,90a03b83b3b69756cccfbf1049bafccc35e9ee61,nova_cell_v2_discover_host," import loggingfrom keystoneauth1 import loading from keystoneauth1 import session from novaclient import client from six.moves.configparser import SafeConfigParser logging.basicConfig(stream=sys.stdout, level=logging.DEBUG) LOG = logging.getLogger('nova_cell_v2_discover_host') nova_cfg = '/etc/nova/nova.conf' if __name__ == '__main__': if os.path.isfile(nova_cfg): config = SafeConfigParser() config.read(nova_cfg) else: LOG.error('Nova configuration file %s does not exist', nova_cfg) sys.exit(1) my_host = config.get('DEFAULT', 'host') if not my_host: # If host isn't set nova defaults to this my_host = socket.gethostname() loader = loading.get_plugin_loader('password') auth = loader.load_from_options( auth_url=config.get('neutron', 'auth_url'), username=config.get('neutron', 'username'), password=config.get('neutron', 'password'), project_name=config.get('neutron', 'project_name'), project_domain_name=config.get('neutron', 'project_domain_name'), user_domain_name=config.get('neutron', 'user_domain_name')) sess = session.Session(auth=auth, verify=False) nova = client.Client('2.11', session=sess, endpoint_type='internal') # Wait until this host is listed in the service list then # run cellv2 host discovery retries = 10 for i in range(retries): try: service_list = nova.services.list(binary='nova-compute') for entry in service_list: host = getattr(entry, 'host', '') zone = getattr(entry, 'zone', '') if host == my_host and zone != 'internal': LOG.info('(cellv2) Service registered, running discovery') sys.exit(subprocess.call([ '/usr/bin/nova-manage', 'cell_v2', 'discover_hosts', '--by-service', '--verbose' ])) if len(service_list) == 0: LOG.warning('(cellv2) no nova-compute service registered' + 'after %i checks', i) LOG.info('(cellv2) Waiting for service to register') except subprocess.CalledProcessError: LOG.info('(cellv2) Retrying') except Exception as e: LOG.exception('Error during host discovery:') time.sleep(30) sys.exit(0) # vim: set et ts=4 sw=4 :","import pwd# Delete this immediataly as it contains auth info os.unlink(__file__) # Only need root to read this script, drop to nova user nova_uid, nova_gid = pwd.getpwnam('nova')[2:4] os.setgid(nova_gid) os.setuid(nova_uid) os.environ.update( OS_PROJECT_DOMAIN_NAME='__OS_PROJECT_DOMAIN_NAME', OS_USER_DOMAIN_NAME='__OS_PROJECT_USER_NAME', OS_PROJECT_NAME='__OS_PROJECT_NAME', OS_USERNAME='__OS_USERNAME', OS_PASSWORD='__OS_PASSWORD', OS_AUTH_URL='__OS_AUTH_URL', OS_AUTH_TYPE='password', OS_IDENTITY_API_VERSION='3' ) try: my_host = subprocess.check_output([ 'crudini', '--get', '/etc/nova/nova.conf', 'DEFAULT', 'host' ], universal_newlines=True).rstrip() except subprocess.CalledProcessError: # If host isn't set nova defaults to this my_host = socket.gethostname() # Wait until this host is listed in the service list then # run cellv2 host discovery retries = 10 for i in range(retries): try: service_output = subprocess.check_output([ 'openstack', '-q', '--os-interface', 'internal', 'compute', 'service', 'list', '-c', 'Host', '-c', 'Zone', '-f', 'value' ], universal_newlines=True) service_list = service_output.split('\n') for entry in service_list: # skip any empty lines if not entry: continue host, zone = entry.split() if host == my_host and zone != 'internal': print('(cellv2) Service registered, running discovery') sys.exit(subprocess.call([ '/usr/bin/nova-manage', 'cell_v2', 'discover_hosts', '--by-service', '--verbose' ])) print('(cellv2) Waiting for service to register') except subprocess.CalledProcessError: print('(cellv2) Retrying') time.sleep(30) sys.exit(1)",69,68
openstack%2Fmanila~master~I9376bea74b54abcd36ff1124afb6dd733c183a72,openstack/manila,master,I9376bea74b54abcd36ff1124afb6dd733c183a72,Match job names in playbooks to their names,MERGED,2019-01-31 19:38:20.000000000,2019-02-07 11:54:50.000000000,2019-02-07 11:54:50.000000000,"[{'_account_id': 7102}, {'_account_id': 12016}, {'_account_id': 14384}, {'_account_id': 14567}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2019-01-31 19:38:20.000000000', 'files': ['playbooks/legacy/manila-tempest-dsvm-generic-no-share-servers/run.yaml', 'playbooks/legacy/manila-tempest-minimal-py35-dsvm-cephfs-nfs-centos-7/run.yaml', 'playbooks/legacy/rally-dsvm-manila-multibackend-no-ss/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-mysql-generic/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-lvm/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-glusterfs-native-heketi/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-glusterfs-nfs/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-postgres-zfsonlinux/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-dummy/run.yaml', 'playbooks/legacy/manila-tempest-minimal-py35-dsvm-cephfs-native-centos-7/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-glusterfs-nfs-heketi/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-native-centos-7/run.yaml', 'playbooks/legacy/rally-dsvm-manila-multibackend/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-native/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-postgres-container/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-postgres-generic-singlebackend/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-nfs-centos-7/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-scenario/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-nfs/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-glusterfs-native/run.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/3442a930f563ef953c4dba2f18277251cb3c56ec', 'message': 'Match job names in playbooks to their names\n\nin .zuul.yaml.\n\nTrivialFix\n\nChange-Id: I9376bea74b54abcd36ff1124afb6dd733c183a72\n'}]",0,634298,3442a930f563ef953c4dba2f18277251cb3c56ec,15,11,1,9003,,,0,"Match job names in playbooks to their names

in .zuul.yaml.

TrivialFix

Change-Id: I9376bea74b54abcd36ff1124afb6dd733c183a72
",git fetch https://review.opendev.org/openstack/manila refs/changes/98/634298/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/manila-tempest-dsvm-generic-no-share-servers/run.yaml', 'playbooks/legacy/manila-tempest-minimal-py35-dsvm-cephfs-nfs-centos-7/run.yaml', 'playbooks/legacy/rally-dsvm-manila-multibackend-no-ss/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-mysql-generic/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-lvm/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-glusterfs-native-heketi/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-glusterfs-nfs/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-postgres-zfsonlinux/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-dummy/run.yaml', 'playbooks/legacy/manila-tempest-minimal-py35-dsvm-cephfs-native-centos-7/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-glusterfs-nfs-heketi/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-native-centos-7/run.yaml', 'playbooks/legacy/rally-dsvm-manila-multibackend/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-native/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-postgres-container/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-postgres-generic-singlebackend/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-nfs-centos-7/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-scenario/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-nfs/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-glusterfs-native/run.yaml']",20,3442a930f563ef953c4dba2f18277251cb3c56ec,, name: Autoconverted job manila-tempest-dsvm-glusterfs-native from old job gate-manila-tempest-dsvm-glusterfs-native-ubuntu-xenial-nv, name: Autoconverted job legacy-manila-tempest-dsvm-glusterfs-native from old job gate-manila-tempest-dsvm-glusterfs-native-ubuntu-xenial-nv,20,31
openstack%2Fpuppet-tripleo~stable%2Frocky~I8fee040287940188f6bc6bc35bdbdaf6c234cbfd,openstack/puppet-tripleo,stable/rocky,I8fee040287940188f6bc6bc35bdbdaf6c234cbfd,Allow to set log facility for HAProxy,MERGED,2019-02-06 16:29:36.000000000,2019-02-07 11:26:28.000000000,2019-02-07 11:26:28.000000000,"[{'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-02-06 16:29:36.000000000', 'files': ['manifests/haproxy.pp', 'spec/classes/tripleo_haproxy_spec.rb', 'releasenotes/notes/haproxy-facility-8196cc8e1299d79b.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c5977cd0d6d0e827230ffd8264fecb94b5e48b15', 'message': 'Allow to set log facility for HAProxy\n\nThis change allows to get a better filtering at (r)syslog level, as\nwe can now dedicate a facility for this service.\n\nPartial-Bug: #1814880\n\nChange-Id: I8fee040287940188f6bc6bc35bdbdaf6c234cbfd\n(cherry picked from commit 01d96ea057c1ae228b42b6c02481d409f2ec2598)\n'}]",0,635207,c5977cd0d6d0e827230ffd8264fecb94b5e48b15,9,6,1,20778,,,0,"Allow to set log facility for HAProxy

This change allows to get a better filtering at (r)syslog level, as
we can now dedicate a facility for this service.

Partial-Bug: #1814880

Change-Id: I8fee040287940188f6bc6bc35bdbdaf6c234cbfd
(cherry picked from commit 01d96ea057c1ae228b42b6c02481d409f2ec2598)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/07/635207/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/haproxy.pp', 'spec/classes/tripleo_haproxy_spec.rb', 'releasenotes/notes/haproxy-facility-8196cc8e1299d79b.yaml']",3,c5977cd0d6d0e827230ffd8264fecb94b5e48b15,bug/1814880,--- features: - Add new parameter haproxy_log_facility. ,,35,1
openstack%2Ftripleo-heat-templates~master~I47ca1e303bd38642200ccb7f6823bcd06cd00255,openstack/tripleo-heat-templates,master,I47ca1e303bd38642200ccb7f6823bcd06cd00255,Flatten rabbitmq service - step 2,MERGED,2019-02-06 11:51:17.000000000,2019-02-07 11:26:27.000000000,2019-02-07 11:26:27.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-02-06 11:51:17.000000000', 'files': ['ci/environments/multinode-3nodes-registry.yaml', 'environments/docker-ha.yaml', 'ci/environments/scenario003-standalone.yaml', 'environments/baremetal-services.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'ci/environments/scenario001-standalone.yaml', 'ci/environments/scenario004-multinode-containers.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'sample-env-generator/messaging.yaml', 'environments/messaging/rpc-qdrouterd-notify-rabbitmq-hybrid.yaml', 'tools/yaml-validate.py', 'deployment/rabbitmq/rabbitmq-messaging-notify-shared-puppet.yaml', 'ci/environments/scenario012-multinode-containers.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario002-standalone.yaml', 'environments/nonha-arch.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'environments/messaging/rpc-rabbitmq-notify-rabbitmq-shared.yaml', 'ci/environments/scenario002-multinode-containers.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'environments/docker-uc-light.yaml', 'sample-env-generator/ssl.yaml', 'ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario000-multinode-containers.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml', 'ci/environments/scenario003-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c9adaaeb2fcae0040a1d76e096d6958af7140583', 'message': 'Flatten rabbitmq service - step 2\n\nNow that we could get rid of the puppet dedicated definitions,\nwe can move the docker/* rabbitmq related stuff to the final\nlocation, and correct the paths and some nits.\n\nChange-Id: I47ca1e303bd38642200ccb7f6823bcd06cd00255\n'}]",0,635136,c9adaaeb2fcae0040a1d76e096d6958af7140583,17,9,1,28223,,,0,"Flatten rabbitmq service - step 2

Now that we could get rid of the puppet dedicated definitions,
we can move the docker/* rabbitmq related stuff to the final
location, and correct the paths and some nits.

Change-Id: I47ca1e303bd38642200ccb7f6823bcd06cd00255
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/36/635136/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/multinode-3nodes-registry.yaml', 'environments/docker-ha.yaml', 'ci/environments/scenario003-standalone.yaml', 'environments/baremetal-services.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'ci/environments/scenario001-standalone.yaml', 'ci/environments/scenario004-multinode-containers.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'sample-env-generator/messaging.yaml', 'environments/messaging/rpc-qdrouterd-notify-rabbitmq-hybrid.yaml', 'tools/yaml-validate.py', 'deployment/rabbitmq/rabbitmq-messaging-notify-shared-puppet.yaml', 'ci/environments/scenario012-multinode-containers.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario002-standalone.yaml', 'environments/nonha-arch.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'environments/messaging/rpc-rabbitmq-notify-rabbitmq-shared.yaml', 'ci/environments/scenario002-multinode-containers.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'environments/docker-uc-light.yaml', 'sample-env-generator/ssl.yaml', 'ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario000-multinode-containers.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml', 'ci/environments/scenario003-multinode-containers.yaml']",28,c9adaaeb2fcae0040a1d76e096d6958af7140583,bp/services-yaml-flattening/rabbitmq-step2, OS::TripleO::Services::OsloMessagingNotify: ../../deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml, OS::TripleO::Services::OsloMessagingNotify: ../../docker/services/pacemaker/notify-rabbitmq.yaml,57,57
openstack%2Fmonasca-notification~master~I36b016185a450ed79dd429ac17ba9c2e235c0d44,openstack/monasca-notification,master,I36b016185a450ed79dd429ac17ba9c2e235c0d44,Fix link in HACKING.rst,ABANDONED,2018-11-16 02:50:17.000000000,2019-02-07 11:25:50.000000000,,"[{'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2018-11-16 02:50:17.000000000', 'files': ['HACKING.rst'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/c96a3780e2f7be191b50681a0c0c8305260433c6', 'message': 'Fix link in HACKING.rst\n\nChange-Id: I36b016185a450ed79dd429ac17ba9c2e235c0d44\n'}]",1,618391,c96a3780e2f7be191b50681a0c0c8305260433c6,4,2,1,29423,,,0,"Fix link in HACKING.rst

Change-Id: I36b016185a450ed79dd429ac17ba9c2e235c0d44
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/91/618391/1 && git format-patch -1 --stdout FETCH_HEAD,['HACKING.rst'],1,c96a3780e2f7be191b50681a0c0c8305260433c6,,Read the OpenStack Style Commandments https://docs.openstack.org/hacking/latest/,Read the OpenStack Style Commandments http://docs.openstack.org/developer/hacking/,1,1
openstack%2Fkayobe~master~I9e37651643c18e06f9143893bb3564ec0e9f2ccd,openstack/kayobe,master,I9e37651643c18e06f9143893bb3564ec0e9f2ccd,Remove support for deploying cAdvisor,MERGED,2019-02-04 13:47:45.000000000,2019-02-07 11:23:48.000000000,2019-02-07 11:23:48.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-04 13:47:45.000000000', 'files': ['ansible/roles/cadvisor/tasks/main.yml', 'ansible/cadvisor.yml', 'ansible/roles/cadvisor/tasks/upgrade.yml', 'ansible/roles/cadvisor/defaults/main.yml', 'releasenotes/notes/remove-overcloud-cadvisor-deployment-3866f823cd1dc0b9.yaml', 'etc/kayobe/cadvisor.yml', 'ansible/roles/cadvisor/tasks/deploy.yml', 'ansible/roles/cadvisor/tasks/reconfigure.yml', 'ansible/group_vars/all/cadvisor', 'ansible/roles/cadvisor/tasks/pull.yml', 'ansible/overcloud-extras.yml', 'ansible/roles/cadvisor/tasks/destroy.yml', 'ansible/roles/cadvisor/README.md'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5f94a31b5ae7bc57f73d41927386c83a5d0588e0', 'message': 'Remove support for deploying cAdvisor\n\nKolla-Ansible now supports deploying cAdvisor so we\nno longer need this.\n\nChange-Id: I9e37651643c18e06f9143893bb3564ec0e9f2ccd\nStory: 2004932\nTask: 29321\n'}]",0,634690,5f94a31b5ae7bc57f73d41927386c83a5d0588e0,7,3,1,17669,,,0,"Remove support for deploying cAdvisor

Kolla-Ansible now supports deploying cAdvisor so we
no longer need this.

Change-Id: I9e37651643c18e06f9143893bb3564ec0e9f2ccd
Story: 2004932
Task: 29321
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/90/634690/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/cadvisor/tasks/main.yml', 'ansible/cadvisor.yml', 'ansible/roles/cadvisor/tasks/upgrade.yml', 'ansible/roles/cadvisor/defaults/main.yml', 'releasenotes/notes/remove-overcloud-cadvisor-deployment-3866f823cd1dc0b9.yaml', 'etc/kayobe/cadvisor.yml', 'ansible/roles/cadvisor/tasks/deploy.yml', 'ansible/roles/cadvisor/tasks/reconfigure.yml', 'ansible/group_vars/all/cadvisor', 'ansible/roles/cadvisor/tasks/pull.yml', 'ansible/overcloud-extras.yml', 'ansible/roles/cadvisor/tasks/destroy.yml', 'ansible/roles/cadvisor/README.md']",13,5f94a31b5ae7bc57f73d41927386c83a5d0588e0,remove_prometheus,,cAdvisor ======== This role can be used to configure cAdvisor running in a Docker container. Requirements ------------ The host executing the role has the following requirements: * Docker engine * Python ``docker >= 2.0.0`` Role Variables -------------- ``cadvisor_enabled``: Whether the cAdvisor is enabled. Defaults to ``false``. ``cadvisor_namespace``: Docker image namespace. Defaults to ``cadvisor``. ``cadvisor_image``: Docker image name. ``cadvisor_tag``: Docker image tag. Defaults to ``v0.28.3``. ``cadvisor_image_full``: Full docker image specification. ``cadvisor_restart_policy``: Docker restart policy for cAdvisor container. Defaults to ``unless-stopped``. ``cadvisor_restart_retries``: Number of Docker restarts. Defaults to 10. Dependencies ------------ None Example Playbook ---------------- The following playbook configures cAdvisor. --- - hosts: cadvisor roles: - role: cadvisor Author Information ------------------ - Jonathan Davies (<jpds@protonmail.com>) ,4,170
openstack%2Fironic~master~I704eccea484b36cb5056fdb64d3702738c22c678,openstack/ironic,master,I704eccea484b36cb5056fdb64d3702738c22c678,[Refactor] Make caching BIOS settings explicit,MERGED,2019-02-06 18:08:42.000000000,2019-02-07 11:20:09.000000000,2019-02-07 11:20:09.000000000,"[{'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 13294}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 22348}, {'_account_id': 28429}]","[{'number': 1, 'created': '2019-02-06 18:08:42.000000000', 'files': ['ironic/drivers/modules/ilo/bios.py', 'ironic/drivers/modules/redfish/bios.py', 'ironic/tests/unit/drivers/modules/ilo/test_bios.py', 'ironic/drivers/base.py', 'ironic/tests/unit/drivers/test_base.py', 'ironic/drivers/modules/irmc/bios.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/699bd410c7346a7fbe63616222eba94503ec6641', 'message': ""[Refactor] Make caching BIOS settings explicit\n\nCurrently we cache BIOS setting after calling apply_configuration or\nfactory_reset implicitly via a wrapper added in BIOSInterface.__new__.\nIt's confusing, and we did forget about this aspect when writing\nunit tests for the new iLO BIOS interface. This results in unsufficient\nmocking that breaks unit tests with proliantutils installed.\n\nThis patch moves caching BIOS settings to an explicit decorator and\nfixes the mocking problem.\n\nChange-Id: I704eccea484b36cb5056fdb64d3702738c22c678\nStory: #2004953\nTask: #29375\n""}]",2,635235,699bd410c7346a7fbe63616222eba94503ec6641,10,7,1,10239,,,0,"[Refactor] Make caching BIOS settings explicit

Currently we cache BIOS setting after calling apply_configuration or
factory_reset implicitly via a wrapper added in BIOSInterface.__new__.
It's confusing, and we did forget about this aspect when writing
unit tests for the new iLO BIOS interface. This results in unsufficient
mocking that breaks unit tests with proliantutils installed.

This patch moves caching BIOS settings to an explicit decorator and
fixes the mocking problem.

Change-Id: I704eccea484b36cb5056fdb64d3702738c22c678
Story: #2004953
Task: #29375
",git fetch https://review.opendev.org/openstack/ironic refs/changes/35/635235/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/ilo/bios.py', 'ironic/drivers/modules/redfish/bios.py', 'ironic/tests/unit/drivers/modules/ilo/test_bios.py', 'ironic/drivers/base.py', 'ironic/tests/unit/drivers/test_base.py', 'ironic/drivers/modules/irmc/bios.py']",6,699bd410c7346a7fbe63616222eba94503ec6641,gate, @base.cache_bios_settings @base.cache_bios_settings,,31,25
openstack%2Ftripleo-heat-templates~master~If8f4daa9127aa528a2088a978494f2d6d83106e2,openstack/tripleo-heat-templates,master,If8f4daa9127aa528a2088a978494f2d6d83106e2,step1: flatten nova service configuration,MERGED,2019-01-22 17:51:36.000000000,2019-02-07 11:20:00.000000000,2019-02-06 23:43:02.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 10135}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20868}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}]","[{'number': 1, 'created': '2019-01-22 17:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/411a84bfeb2299926fc88f30b4c4b9b2c7652b98', 'message': 'step1: flatten nova service configuration\n\nThis change combines the previous puppet and docker files\ninto a single file that performs the docker service installation\nand configuration. With this patch the baremetal version of\nnova has been removed.\n\nChange-Id: If8f4daa9127aa528a2088a978494f2d6d83106e2\n'}, {'number': 2, 'created': '2019-01-22 17:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/08d9742d9808096dbb2fee869204afcf1e59215c', 'message': 'step1: flatten nova service configuration\n\nThis change combines the previous puppet and docker files\ninto a single file that performs the docker service installation\nand configuration. With this patch the baremetal version of\nnova has been removed.\n\nChange-Id: If8f4daa9127aa528a2088a978494f2d6d83106e2\n'}, {'number': 3, 'created': '2019-01-22 20:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cdfe1c55d19993471a2c577c96ce9acb64df332d', 'message': 'step1: flatten nova service configuration\n\nThis change combines the previous puppet and docker files\ninto a single file that performs the docker service installation\nand configuration. With this patch the baremetal version of\nnova has been removed.\n\nChange-Id: If8f4daa9127aa528a2088a978494f2d6d83106e2\n'}, {'number': 4, 'created': '2019-01-22 20:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/afa53f4319bb58da0b1623124f6ca0db13c00e2b', 'message': 'step1: flatten nova service configuration\n\nThis change combines the previous puppet and docker files\ninto a single file that performs the docker service installation\nand configuration. With this patch the baremetal version of\nnova has been removed.\n\nChange-Id: If8f4daa9127aa528a2088a978494f2d6d83106e2\n'}, {'number': 5, 'created': '2019-01-24 22:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/683c9442a47abf3a5fb081926a7c6c8645dbb29c', 'message': 'step1: flatten nova service configuration\n\nThis change combines the previous puppet and docker files\ninto a single file that performs the docker service installation\nand configuration. With this patch the baremetal version of\nnova has been removed.\n\nChange-Id: If8f4daa9127aa528a2088a978494f2d6d83106e2\n'}, {'number': 6, 'created': '2019-01-25 21:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c09b6345ece479403a7448617223be8173b2e5cd', 'message': 'step1: flatten nova service configuration\n\nThis change combines the previous puppet and docker files\ninto a single file that performs the docker service installation\nand configuration. With this patch the baremetal version of\nnova has been removed.\n\nChange-Id: If8f4daa9127aa528a2088a978494f2d6d83106e2\n'}, {'number': 7, 'created': '2019-01-30 18:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b5eb31a97efd111175d337a4becb7f965eb0aaf6', 'message': 'step1: flatten nova service configuration\n\nThis change combines the previous puppet and docker files\ninto a single file that performs the docker service installation\nand configuration. With this patch the baremetal version of\nnova has been removed.\n\nChange-Id: If8f4daa9127aa528a2088a978494f2d6d83106e2\n'}, {'number': 8, 'created': '2019-01-30 18:24:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/67c7e37342ed2f302156527d98502a52e50c5714', 'message': 'step1: flatten nova service configuration\n\nThis change combines the previous puppet and docker files\ninto a single file that performs the docker service installation\nand configuration. With this patch the baremetal version of\nnova has been removed.\n\nChange-Id: If8f4daa9127aa528a2088a978494f2d6d83106e2\n'}, {'number': 9, 'created': '2019-01-30 21:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f327214005bf073dfcad5f8a6aeb39a499f02031', 'message': 'step1: flatten nova service configuration\n\nThis change combines the previous puppet and docker files\ninto a single file that performs the docker service installation\nand configuration. With this patch the baremetal version of\nnova has been removed.\n\nChange-Id: If8f4daa9127aa528a2088a978494f2d6d83106e2\n'}, {'number': 10, 'created': '2019-01-30 22:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ee3d641b082fbcdb15543ebafffa292d68bd7961', 'message': 'step1: flatten nova service configuration\n\nThis change combines the previous puppet and docker files\ninto a single file that performs the docker service installation\nand configuration. With this patch the baremetal version of\nnova has been removed.\n\nChange-Id: If8f4daa9127aa528a2088a978494f2d6d83106e2\n'}, {'number': 11, 'created': '2019-01-31 17:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/73f091f60dcff74becf3decb8f0d4e9a420af3f0', 'message': 'step1: flatten nova service configuration\n\nThis change combines the previous puppet and docker files\ninto a single file that performs the docker service installation\nand configuration. With this patch the baremetal version of\nnova has been removed.\n\nChange-Id: If8f4daa9127aa528a2088a978494f2d6d83106e2\n'}, {'number': 12, 'created': '2019-01-31 22:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3df4ef021e78e5dda0e79942c3952e4da2cb9cf8', 'message': 'step1: flatten nova service configuration\n\nThis change combines the previous puppet and docker files\ninto a single file that performs the docker service installation\nand configuration. With this patch the baremetal version of\nnova has been removed.\n\nChange-Id: If8f4daa9127aa528a2088a978494f2d6d83106e2\n'}, {'number': 13, 'created': '2019-02-01 21:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f367a31e4794cced07e3f0aed2214103a398fead', 'message': 'step1: flatten nova service configuration\n\nThis change combines the previous puppet and docker files\ninto a single file that performs the docker service installation\nand configuration. With this patch the baremetal version of\nnova has been removed.\n\nChange-Id: If8f4daa9127aa528a2088a978494f2d6d83106e2\n'}, {'number': 14, 'created': '2019-02-04 16:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3fb60d1dc2669479a5b523afe64ff220fb0bcdf2', 'message': 'step1: flatten nova service configuration\n\nThis change combines the previous puppet and docker files\ninto a single file that performs the docker service installation\nand configuration. With this patch the baremetal version of\nnova has been removed.\n\nChange-Id: If8f4daa9127aa528a2088a978494f2d6d83106e2\n'}, {'number': 15, 'created': '2019-02-04 21:30:28.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'ci/environments/scenario012-multinode-containers.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'puppet/services/nova-vnc-proxy.yaml', 'docker/services/nova-metadata.yaml', 'environments/baremetal-services.yaml', 'deployment/nova/nova-consoleauth-container-puppet.yaml', 'puppet/services/nova-migration-target.yaml', 'puppet/services/nova-consoleauth.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'ci/environments/scenario006-multinode-containers.yaml', 'puppet/services/nova-ironic.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/computealt.yaml', 'environments/services/ironic.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2bae8cc78a9191b6dbe7cdb94fc9e4d5f04b9614', 'message': 'step1: flatten nova service configuration\n\nThis change combines the previous puppet and docker files\ninto a single file that performs the docker service installation\nand configuration. With this patch the baremetal version of\nnova has been removed.\n\nChange-Id: If8f4daa9127aa528a2088a978494f2d6d83106e2\n'}]",13,632522,2bae8cc78a9191b6dbe7cdb94fc9e4d5f04b9614,51,10,15,20868,,,0,"step1: flatten nova service configuration

This change combines the previous puppet and docker files
into a single file that performs the docker service installation
and configuration. With this patch the baremetal version of
nova has been removed.

Change-Id: If8f4daa9127aa528a2088a978494f2d6d83106e2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/632522/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'ci/environments/scenario012-multinode-containers.yaml', 'docker/services/nova-vnc-proxy.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'puppet/services/nova-metadata.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'puppet/services/nova-vnc-proxy.yaml', 'docker/services/nova-metadata.yaml', 'environments/baremetal-services.yaml', 'deployment/nova/nova-consoleauth-container-puppet.yaml', 'puppet/services/nova-migration-target.yaml', 'puppet/services/nova-consoleauth.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'ci/environments/scenario006-multinode-containers.yaml', 'puppet/services/nova-ironic.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/computealt.yaml', 'environments/services/ironic.yaml']",18,411a84bfeb2299926fc88f30b4c4b9b2c7652b98,bp/services-yaml-flattening, OS::TripleO::Services::NovaIronic: ../../deployment/nova/nova-ironic-container-puppet.yaml, OS::TripleO::Services::NovaIronic: ../../docker/services/nova-ironic.yaml,753,1051
openstack%2Fkayobe~master~I9242cf1ec7c19b135d7d7bdb9b803718b719ec58,openstack/kayobe,master,I9242cf1ec7c19b135d7d7bdb9b803718b719ec58,Remove support for deploying Prometheus node-exporter,MERGED,2019-02-04 13:39:48.000000000,2019-02-07 11:15:51.000000000,2019-02-07 11:15:51.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-02-04 13:39:48.000000000', 'files': ['ansible/group_vars/all/node-exporter', 'ansible/roles/node-exporter/tasks/pull.yml', 'ansible/roles/node-exporter/tasks/main.yml', 'ansible/roles/node-exporter/defaults/main.yml', 'ansible/node-exporter.yml', 'ansible/roles/node-exporter/README.md', 'ansible/roles/node-exporter/tasks/deploy.yml', 'releasenotes/notes/remove-overcloud-prometheus-deployment-75792bba2fc39385.yaml', 'ansible/overcloud-extras.yml', 'ansible/roles/node-exporter/tasks/upgrade.yml', 'ansible/roles/node-exporter/tasks/destroy.yml', 'etc/kayobe/node-exporter.yml', 'ansible/roles/node-exporter/tasks/reconfigure.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3c01fe5cc145fc2d2bbd1fbb04a05d0c598ff7a7', 'message': 'Remove support for deploying Prometheus node-exporter\n\nKolla-Ansible now supports deploying Prometheus so we\nno longer need this.\n\nStory: 2004932\nTask: 29320\nChange-Id: I9242cf1ec7c19b135d7d7bdb9b803718b719ec58\n'}]",2,634689,3c01fe5cc145fc2d2bbd1fbb04a05d0c598ff7a7,9,5,1,17669,,,0,"Remove support for deploying Prometheus node-exporter

Kolla-Ansible now supports deploying Prometheus so we
no longer need this.

Story: 2004932
Task: 29320
Change-Id: I9242cf1ec7c19b135d7d7bdb9b803718b719ec58
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/89/634689/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/node-exporter', 'ansible/roles/node-exporter/tasks/pull.yml', 'ansible/roles/node-exporter/tasks/main.yml', 'ansible/roles/node-exporter/defaults/main.yml', 'ansible/node-exporter.yml', 'ansible/roles/node-exporter/README.md', 'ansible/roles/node-exporter/tasks/deploy.yml', 'releasenotes/notes/remove-overcloud-prometheus-deployment-75792bba2fc39385.yaml', 'ansible/overcloud-extras.yml', 'ansible/roles/node-exporter/tasks/upgrade.yml', 'ansible/roles/node-exporter/tasks/destroy.yml', 'etc/kayobe/node-exporter.yml', 'ansible/roles/node-exporter/tasks/reconfigure.yml']",13,3c01fe5cc145fc2d2bbd1fbb04a05d0c598ff7a7,remove_prometheus,,deploy.yml,4,171
openstack%2Fnetworking-midonet~master~I977d46722fc61e3ca160a08dc77754393111e887,openstack/networking-midonet,master,I977d46722fc61e3ca160a08dc77754393111e887,Remove FWaaS v1 support,ABANDONED,2019-02-05 05:56:43.000000000,2019-02-07 11:14:36.000000000,,"[{'_account_id': 156}, {'_account_id': 6854}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-05 05:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/57b1a0e8687aa1f9b10af1dfbc1ed5a8b9287955', 'message': ""Remove FWaaS v1 support\n\nAs it has been removed in neutron-fwaas. [1]\n\nAlso, remove logging_resource as it's only useful with FWaaS v1.\n\nNote: api-ref needs an update. Maybe as a separate commit.\n\n[1] I4e440c854e5aa11193d38946e659481f4fefded2\n\nPartial-Bug: #1814625\nChange-Id: I977d46722fc61e3ca160a08dc77754393111e887\n""}, {'number': 2, 'created': '2019-02-05 06:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/c12c02dc5c3b74b69ad5301c0b807593f197625f', 'message': ""Remove FWaaS v1 support\n\nAs it has been removed in neutron-fwaas. [1]\n\nAlso, remove logging_resource as it's only useful with FWaaS v1.\n\nNote: api-ref needs an update. Maybe as a separate commit.\n\n[1] I4e440c854e5aa11193d38946e659481f4fefded2\n\nPartial-Bug: #1814625\nChange-Id: I977d46722fc61e3ca160a08dc77754393111e887\n""}, {'number': 3, 'created': '2019-02-05 06:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/fc60b58615b152d4d26164f912827f8f7b582d2f', 'message': ""Remove FWaaS v1 support\n\nAs it has been removed in neutron-fwaas. [1]\n\nAlso, remove logging_resource as it's only useful with FWaaS v1.\n\nNote: api-ref needs an update. Maybe as a separate commit.\n\n[1] I4e440c854e5aa11193d38946e659481f4fefded2\n\nPartial-Bug: #1814625\nChange-Id: I977d46722fc61e3ca160a08dc77754393111e887\n""}, {'number': 4, 'created': '2019-02-05 07:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/7dcbbd6872240861ee3dc2eea0857635262885fe', 'message': ""Remove FWaaS v1 support\n\nAs it has been removed in neutron-fwaas. [1]\n\nAlso, remove logging_resource as it's only useful with FWaaS v1.\n\nNote: api-ref needs an update. Maybe as a separate commit.\n\n[1] I4e440c854e5aa11193d38946e659481f4fefded2\n\nPartial-Bug: #1814625\nChange-Id: I977d46722fc61e3ca160a08dc77754393111e887\n""}, {'number': 5, 'created': '2019-02-05 07:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/18b4fb09366a5e72ed86ed2ec081e7556f561f5b', 'message': ""Remove FWaaS v1 support\n\nAs it has been removed in neutron-fwaas. [1]\n\nAlso, remove logging_resource as it's only useful with FWaaS v1.\n\nNote: api-ref needs an update. Maybe as a separate commit.\n\n[1] I4e440c854e5aa11193d38946e659481f4fefded2\n\nPartial-Bug: #1814625\nChange-Id: I977d46722fc61e3ca160a08dc77754393111e887\n""}, {'number': 6, 'created': '2019-02-05 12:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/7e155d9e7b490be2cc172989905ce679d179eba2', 'message': ""Remove FWaaS v1 support\n\nAs it has been removed in neutron-fwaas. [1]\n\nAlso, remove logging_resource as it's only useful with FWaaS v1.\n\nNote: api-ref needs an update. Maybe as a separate commit.\n\n[1] I4e440c854e5aa11193d38946e659481f4fefded2\n\nPartial-Bug: #1814625\nChange-Id: I977d46722fc61e3ca160a08dc77754393111e887\n""}, {'number': 7, 'created': '2019-02-05 14:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/013c6f16c6ec98344e04468e996afdc96a24e6d7', 'message': ""Remove FWaaS v1 support\n\nAs it has been removed in neutron-fwaas. [1]\n\nAlso, remove logging_resource as it's only useful with FWaaS v1.\n\nNote: api-ref needs an update. Maybe as a separate commit.\n\n[1] I4e440c854e5aa11193d38946e659481f4fefded2\n\nPartial-Bug: #1814625\nChange-Id: I977d46722fc61e3ca160a08dc77754393111e887\n""}, {'number': 8, 'created': '2019-02-06 04:04:41.000000000', 'files': ['api-ref/source/parameters.yaml', 'midonet/neutron/db/migration/alembic_migration/versions/CONTRACT_HEAD', 'test-requirements.txt', 'midonet/neutron/services/firewall/plugin.py', 'devstack/settings', 'midonet/neutron/db/migration/models/head.py', 'midonet/neutron/services/firewall/__init__.py', 'midonet/neutronclient/logging_resource_extension/_firewall_log.py', 'api-ref/source/samples/firewall_log/firewall_log-update-request.json', 'api-ref/source/conf.py', 'etc/policy.json', 'api-ref/source/samples/logging_resource/logging_resources-list-response.json', 'api-ref/source/index.rst', 'midonet/neutron/db/migration/alembic_migration/versions/stein/contract/f5dfd5cefbc7_drop_fwaas_v1_and_logging_resource.py', 'devstack/ci/gate_hook.sh', 'midonet/neutronclient/logging_resource_extension/__init__.py', 'api-ref/source/samples/firewall_log/firewall_log-update-response.json', 'doc/source/contributor/firewall.rst', 'midonet/neutron/services/logging_resource/plugin.py', 'api-ref/source/samples/firewall_log/firewall_log-create-response.json', 'midonet/neutron/tests/unit/neutronclient_ext/test_cli20_firewall_log.py', 'midonet/neutron/tests/unit/neutronclient_ext/test_cli20_logging_resource.py', 'api-ref/source/logging_resource.inc', 'midonet/neutron/services/logging_resource/__init__.py', 'api-ref/source/samples/logging_resource/logging_resource-show-response.json', 'setup.cfg', 'tox.ini', 'midonet/neutron/extensions/logging_resource.py', 'api-ref/source/firewall_log.inc', 'doc/source/user/features.rst', 'midonet/neutron/tests/unit/test_extension_logging_resource.py', 'api-ref/source/samples/firewall_log/firewall_log-create-request.json', 'api-ref/source/samples/logging_resource/logging_resource-update-request.json', 'releasenotes/notes/drop-fwaas-v1-and-logging_resource-d4c23094ebdeb625.yaml', 'api-ref/source/samples/firewall_log/firewall_log-show-response.json', 'api-ref/source/samples/logging_resource/logging_resource-update-response.json', 'devstack/ci/hooks/tempest_plugins_advsvc', 'doc/source/contributor/index.rst', 'midonet/neutron/tests/unit/test_extension_fwaas.py', 'api-ref/source/samples/logging_resource/logging_resource-create-response.json', 'midonet/neutronclient/logging_resource_extension/_logging_resource.py', 'midonet/neutron/db/logging_resource_model.py', 'doc/source/install/installation.rst', 'midonet/neutron/db/logging_resource_db.py', '.zuul.yaml', 'midonet/neutron/tests/unit/db/test_migrations.py', 'devstack/README.rst', 'devstack/ml2/local.conf.sample', 'api-ref/source/samples/firewall_log/firewall_logs-list-response.json', 'api-ref/source/samples/logging_resource/logging_resource-create-request.json'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/a8248d907d429936b0a6d54dff7fe988724ac255', 'message': ""Remove FWaaS v1 support\n\nAs it has been removed in neutron-fwaas. [1]\n\nAlso, remove logging_resource as it's only useful with FWaaS v1.\n\n[1] I4e440c854e5aa11193d38946e659481f4fefded2\n\nPartial-Bug: #1814625\nChange-Id: I977d46722fc61e3ca160a08dc77754393111e887\n""}]",2,634854,a8248d907d429936b0a6d54dff7fe988724ac255,17,3,8,6854,,,0,"Remove FWaaS v1 support

As it has been removed in neutron-fwaas. [1]

Also, remove logging_resource as it's only useful with FWaaS v1.

[1] I4e440c854e5aa11193d38946e659481f4fefded2

Partial-Bug: #1814625
Change-Id: I977d46722fc61e3ca160a08dc77754393111e887
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/54/634854/8 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'midonet/neutron/services/firewall/plugin.py', 'devstack/settings', 'devstack/ci/hooks/tempest_plugins_advsvc', 'midonet/neutron/services/firewall/__init__.py', 'midonet/neutronclient/logging_resource_extension/_firewall_log.py', 'midonet/neutron/tests/unit/test_extension_fwaas.py', 'midonet/neutronclient/logging_resource_extension/_logging_resource.py', 'etc/policy.json', 'midonet/neutron/db/logging_resource_model.py', 'doc/source/install/installation.rst', 'midonet/neutron/db/logging_resource_db.py', '.zuul.yaml', 'midonet/neutron/tests/unit/db/test_migrations.py', 'devstack/ci/gate_hook.sh', 'midonet/neutronclient/logging_resource_extension/__init__.py', 'midonet/neutron/services/logging_resource/plugin.py', 'devstack/README.rst', 'devstack/ml2/local.conf.sample', 'midonet/neutron/tests/unit/neutronclient_ext/test_cli20_firewall_log.py', 'midonet/neutron/tests/unit/neutronclient_ext/test_cli20_logging_resource.py', 'midonet/neutron/services/logging_resource/__init__.py', 'setup.cfg', 'tox.ini', 'midonet/neutron/extensions/logging_resource.py', 'doc/source/user/features.rst', 'midonet/neutron/tests/unit/test_extension_logging_resource.py']",27,57b1a0e8687aa1f9b10af1dfbc1ed5a8b9287955,bug/1743497,,"# Copyright (C) 2016 Midokura SARL. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import contextlib from oslo_utils import uuidutils import webob.exc from neutron.tests.unit.api import test_extensions as test_ex from neutron.tests.unit.extensions import test_l3 from neutron_fwaas.tests.unit.services.firewall import test_fwaas_plugin as tfp from midonet.neutron import extensions as midoextensions from midonet.neutron.extensions import logging_resource as log_res_ext from midonet.neutron.tests.unit import test_midonet_plugin_ml2 as test_mn_ml2 LOGGING_PLUGIN_KLASS = 'midonet_logging_resource' extensions_path = ':'.join(midoextensions.__path__) FAKE_LOG_RES_NAME = 'log_res' NEW_LOG_RES_NAME = 'new_log_res' FAKE_LOG_RES_DESC = 'log_res_description' NEW_LOG_RES_DESC = 'new_log_res_description' ENABLED_TRUE = True ENABLED_FALSE = False FAKE_FW_LOG_DESC = 'fw_log_description' NEW_FW_LOG_DESC = 'new_fw_log_description' NOT_FOUND_FW_UUID = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' NOT_FOUND_LOG_RES_UUID = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' NOT_FOUND_FW_LOG_UUID = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' class LoggingResourceTestExtensionManager(tfp.FirewallTestExtensionManager): def get_resources(self): res = super(LoggingResourceTestExtensionManager, self).get_resources() return res + log_res_ext.Logging_resource.get_resources() def get_actions(self): return [] def get_request_extensions(self): return [] class LoggingResourceTestCaseMixin(test_l3.L3NatTestCaseMixin): def setUp(self, plugin=None, service_plugins=None, ext_mgr=None): service_plugins = { 'logging_resource_plugin_name': LOGGING_PLUGIN_KLASS, 'fwaas_plugin_name': 'midonet_firewall'} log_res_mgr = LoggingResourceTestExtensionManager() super(LoggingResourceTestCaseMixin, self).setUp( service_plugins=service_plugins, ext_mgr=log_res_mgr) self.ext_api = test_ex.setup_extensions_middleware(log_res_mgr) router1 = self._make_router(self.fmt, uuidutils.generate_uuid(), 'router1', True) self._router_id1 = router1['router']['id'] router2 = self._make_router(self.fmt, uuidutils.generate_uuid(), 'router2', True) self._router_id2 = router2['router']['id'] self._tenant_id1 = uuidutils.generate_uuid() self._tenant_id2 = uuidutils.generate_uuid() fw1 = self._create_firewall(self._tenant_id1) self._fw_id1 = fw1['firewall']['id'] fw2 = self._create_firewall(self._tenant_id1) self._fw_id2 = fw2['firewall']['id'] @contextlib.contextmanager def firewall(self, tenant_id): firewall = self._create_firewall(tenant_id) yield firewall def _create_firewall(self, tenant_id): fw_policy_data = {'firewall_policy': {'tenant_id': tenant_id, 'name': 'fw_policy'}} req = self.new_create_request('fw/firewall_policies', fw_policy_data, 'json') res = self.deserialize(self.fmt, req.get_response(self.ext_api)) firewall_data = {'firewall': { 'name': 'fw', 'firewall_policy_id': res['firewall_policy']['id'], 'tenant_id': tenant_id, 'shared': False}} req = self.new_create_request('fw/firewalls', firewall_data, 'json') return self.deserialize(self.fmt, req.get_response(self.ext_api)) @contextlib.contextmanager def logging_resource(self, name=FAKE_LOG_RES_NAME, tenant_id=None, desc=FAKE_LOG_RES_DESC, enabled=ENABLED_FALSE): logging_resource = self._make_logging_resource(name, tenant_id, desc, enabled) yield logging_resource def _make_logging_resource(self, name, tenant_id, desc, enabled): res = self._create_logging_resource(name, tenant_id, desc, enabled) if res.status_int >= webob.exc.HTTPBadRequest.code: raise webob.exc.HTTPClientError(code=res.status_int) return self.deserialize(self.fmt, res) def _create_logging_resource(self, name=FAKE_LOG_RES_NAME, tenant_id=None, desc=FAKE_LOG_RES_DESC, enabled=ENABLED_FALSE): data = {'logging_resource': {'tenant_id': tenant_id or self._tenant_id, 'name': name, 'description': desc, 'enabled': enabled}} log_res_req = self.new_create_request('logging/logging_resources', data, self.fmt) return log_res_req.get_response(self.ext_api) @contextlib.contextmanager def firewall_log(self, log_res_id, firewall_id=None, desc=FAKE_FW_LOG_DESC, tenant_id=None, fw_event=log_res_ext.FW_EVENT_ALL): firewall_log = self._make_firewall_log(log_res_id, firewall_id, desc, tenant_id, fw_event) yield firewall_log def _make_firewall_log(self, log_res_id, firewall_id, desc, tenant_id, fw_event): res = self._create_firewall_log(log_res_id, firewall_id, desc, tenant_id, fw_event) if res.status_int >= webob.exc.HTTPBadRequest.code: raise webob.exc.HTTPClientError(code=res.status_int) return self.deserialize(self.fmt, res) def _create_firewall_log(self, log_res_id, firewall_id=None, desc=FAKE_FW_LOG_DESC, tenant_id=None, fw_event=log_res_ext.FW_EVENT_ALL): data = {'firewall_log': {'tenant_id': tenant_id or self._tenant_id, 'description': desc, 'fw_event': fw_event}} if firewall_id: data['firewall_log']['firewall_id'] = firewall_id f_log_req = self.new_create_request('logging/logging_resources/' + log_res_id + '/firewall_logs', data, self.fmt) return f_log_req.get_response(self.ext_api) def test_create_logging_resource(self): expected = {'name': FAKE_LOG_RES_NAME, 'description': FAKE_LOG_RES_DESC, 'enabled': ENABLED_FALSE, 'firewall_logs': []} with self.logging_resource() as log_res: self.assertDictSupersetOf(expected, log_res['logging_resource']) def test_show_logging_resource(self): expected = {'name': FAKE_LOG_RES_NAME, 'description': FAKE_LOG_RES_DESC, 'enabled': ENABLED_FALSE, 'firewall_logs': []} with self.logging_resource() as log_res: req = self.new_show_request('logging/logging_resources', log_res['logging_resource']['id']) res = self.deserialize(self.fmt, req.get_response(self.ext_api)) self.assertDictSupersetOf(expected, res['logging_resource']) def test_show_logging_resource_not_found(self): req = self.new_show_request('logging/logging_resources', NOT_FOUND_LOG_RES_UUID) res = req.get_response(self.ext_api) self.assertEqual(webob.exc.HTTPNotFound.code, res.status_int) def test_list_logging_resource(self): with self.logging_resource(), self.logging_resource(): req = self.new_list_request('logging/logging_resources') res = self.deserialize( self.fmt, req.get_response(self.ext_api)) self.assertEqual(2, len(res['logging_resources'])) def test_update_logging_resource_without_firewall_log(self): expected = {'name': NEW_LOG_RES_NAME, 'description': NEW_LOG_RES_DESC, 'enabled': ENABLED_TRUE} with self.logging_resource() as log_res: data = {'logging_resource': {'name': NEW_LOG_RES_NAME, 'description': NEW_LOG_RES_DESC, 'enabled': ENABLED_TRUE}} req = self.new_update_request('logging/logging_resources', data, log_res['logging_resource']['id']) res = self.deserialize(self.fmt, req.get_response(self.ext_api)) self.assertDictSupersetOf(expected, res['logging_resource']) self.client_mock.update_logging_resource_postcommit. \ assert_not_called() def test_update_logging_resource_with_firewall_log(self): expected = {'name': NEW_LOG_RES_NAME, 'description': NEW_LOG_RES_DESC, 'enabled': ENABLED_TRUE} with self.logging_resource() as log_res, \ self.firewall_log(log_res['logging_resource']['id'], firewall_id=self._fw_id1): data = {'logging_resource': {'name': NEW_LOG_RES_NAME, 'description': NEW_LOG_RES_DESC, 'enabled': ENABLED_TRUE}} req = self.new_update_request('logging/logging_resources', data, log_res['logging_resource']['id']) res = self.deserialize(self.fmt, req.get_response(self.ext_api)) self.assertDictSupersetOf(expected, res['logging_resource']) self.client_mock.update_logging_resource_postcommit.assert_called() def test_update_logging_resource_error_rollback_neutron_resource(self): self.client_mock.update_logging_resource_postcommit.side_effect = ( Exception(""Fake Error"")) with self.logging_resource() as log_res, \ self.firewall_log(log_res['logging_resource']['id'], firewall_id=self._fw_id1): data = {'logging_resource': {'enabled': ENABLED_TRUE}} req = self.new_update_request('logging/logging_resources', data, log_res['logging_resource']['id']) res = req.get_response(self.ext_api) self.assertEqual(webob.exc.HTTPInternalServerError.code, res.status_int) # ensure enabled are not changed. expected = {'enabled': ENABLED_FALSE} req = self.new_show_request('logging/logging_resources', log_res['logging_resource']['id']) res = self.deserialize(self.fmt, req.get_response(self.ext_api)) self.assertDictSupersetOf(expected, res['logging_resource']) def test_delete_logging_resource(self): with self.logging_resource() as log_res: req = self.new_delete_request('logging/logging_resources', log_res['logging_resource']['id']) res = req.get_response(self.ext_api) self.assertEqual(webob.exc.HTTPNoContent.code, res.status_int) def test_delete_logging_resource_with_firewall_logs(self): with self.logging_resource() as log_res, \ self.firewall_log(log_res['logging_resource']['id'], firewall_id=self._fw_id1), \ self.firewall_log(log_res['logging_resource']['id'], firewall_id=self._fw_id2): req = self.new_delete_request('logging/logging_resources', log_res['logging_resource']['id']) res = req.get_response(self.ext_api) self.assertEqual(webob.exc.HTTPNoContent.code, res.status_int) def test_delete_logging_resource_error_delete_neutron_resource(self): self.client_mock.delete_logging_resource_postcommit.side_effect = ( Exception(""Fake Error"")) with self.logging_resource() as log_res: req = self.new_delete_request('logging/logging_resources', log_res['logging_resource']['id']) res = req.get_response(self.ext_api) self.assertEqual(webob.exc.HTTPInternalServerError.code, res.status_int) # check the resource deleted in Neutron DB req = self.new_list_request('logging/logging_resources') res = self.deserialize(self.fmt, req.get_response(self.ext_api)) self.assertFalse(res['logging_resources']) def test_create_firewall_log(self): expected = {'description': FAKE_FW_LOG_DESC, 'fw_event': log_res_ext.FW_EVENT_ALL, 'firewall_id': self._fw_id1} with self.logging_resource() as log_res, \ self.firewall_log(log_res['logging_resource']['id'], firewall_id=self._fw_id1) as f_log: self.assertDictSupersetOf(expected, f_log['firewall_log']) def test_create_firewall_log_diff_log_res_diff_tenant_same_firewall(self): with self.logging_resource() as log_res, \ self.logging_resource( tenant_id=self._tenant_id2) as log_res2, \ self.firewall_log(log_res['logging_resource']['id'], firewall_id=self._fw_id1): res = self._create_firewall_log( log_res2['logging_resource']['id'], firewall_id=self._fw_id1, tenant_id=self._tenant_id2) self.assertEqual(webob.exc.HTTPCreated.code, res.status_int) def test_create_firewall_log_with_not_found_firewall(self): with self.logging_resource() as log_res: res = self._create_firewall_log( log_res['logging_resource']['id'], firewall_id=NOT_FOUND_FW_UUID) self.assertEqual(webob.exc.HTTPNotFound.code, res.status_int) def test_create_firewall_log_in_same_log_res_with_same_firewall(self): with self.logging_resource() as log_res, \ self.firewall_log(log_res['logging_resource']['id'], firewall_id=self._fw_id1): res = self._create_firewall_log( log_res['logging_resource']['id'], firewall_id=self._fw_id1) self.assertEqual(webob.exc.HTTPCreated.code, res.status_int) def test_create_firewall_log_in_diff_log_res_with_same_firewall(self): with self.logging_resource() as log_res, \ self.logging_resource() as log_res2, \ self.firewall_log(log_res['logging_resource']['id'], firewall_id=self._fw_id1): res = self._create_firewall_log( log_res2['logging_resource']['id'], firewall_id=self._fw_id1) self.assertEqual(webob.exc.HTTPCreated.code, res.status_int) def test_create_firewall_log_error_delete_neutron_resource(self): self.client_mock.create_firewall_log_postcommit.side_effect = ( Exception(""Fake Error"")) with self.logging_resource() as log_res: try: with self.firewall_log(log_res['logging_resource']['id']): self.assertTrue(False) except webob.exc.HTTPClientError: pass req = self.new_list_request('logging/logging_resources/' + log_res['logging_resource']['id'] + '/firewall_logs') res = self.deserialize(self.fmt, req.get_response(self.ext_api)) self.assertFalse(res['firewall_logs']) def test_update_firewall_log(self): expected = {'description': NEW_FW_LOG_DESC, 'fw_event': log_res_ext.FW_EVENT_DROP} with self.logging_resource() as log_res, \ self.firewall_log(log_res['logging_resource']['id'], firewall_id=self._fw_id1) as f_log: data = {'firewall_log': {'description': NEW_FW_LOG_DESC, 'fw_event': log_res_ext.FW_EVENT_DROP}} req = self.new_update_request('logging/logging_resources/' + log_res['logging_resource']['id'] + '/firewall_logs', data, f_log['firewall_log']['id']) res = self.deserialize(self.fmt, req.get_response(self.ext_api)) self.assertDictSupersetOf(expected, res['firewall_log']) def test_update_firewall_log_error_rollback_neutron_resource(self): self.client_mock.update_firewall_log_postcommit.side_effect = ( Exception(""Fake Error"")) with self.logging_resource() as log_res, \ self.firewall_log(log_res['logging_resource']['id'], firewall_id=self._fw_id1) as f_log: data = {'firewall_log': {'fw_event': log_res_ext.FW_EVENT_DROP}} req = self.new_update_request('logging/logging_resources/' + log_res['logging_resource']['id'] + '/firewall_logs', data, f_log['firewall_log']['id']) res = req.get_response(self.ext_api) self.assertEqual(webob.exc.HTTPInternalServerError.code, res.status_int) # ensure fw_event is not changed. expected = {'fw_event': log_res_ext.FW_EVENT_ALL} req = self.new_show_request('logging/logging_resources/' + log_res['logging_resource']['id'] + '/firewall_logs', f_log['firewall_log']['id']) res = self.deserialize(self.fmt, req.get_response(self.ext_api)) self.assertDictSupersetOf(expected, res['firewall_log']) def test_show_firewall_log(self): expected = {'description': FAKE_FW_LOG_DESC, 'fw_event': log_res_ext.FW_EVENT_ALL, 'firewall_id': self._fw_id1} with self.logging_resource() as log_res, \ self.firewall_log(log_res['logging_resource']['id'], firewall_id=self._fw_id1) as f_log: req = self.new_show_request('logging/logging_resources/' + log_res['logging_resource']['id'] + '/firewall_logs', f_log['firewall_log']['id']) res = self.deserialize(self.fmt, req.get_response(self.ext_api)) self.assertDictSupersetOf(expected, res['firewall_log']) def test_show_firewall_log_not_found(self): with self.logging_resource() as log_res: req = self.new_show_request('logging/logging_resources/' + log_res['logging_resource']['id'] + '/firewall_logs', NOT_FOUND_FW_LOG_UUID) res = req.get_response(self.ext_api) self.assertEqual(webob.exc.HTTPNotFound.code, res.status_int) def test_list_firewall_log(self): with self.logging_resource() as log_res, \ self.firewall_log(log_res['logging_resource']['id'], firewall_id=self._fw_id1), \ self.firewall_log(log_res['logging_resource']['id'], firewall_id=self._fw_id2): req = self.new_list_request('logging/logging_resources/' + log_res['logging_resource']['id'] + '/firewall_logs') res = self.deserialize( self.fmt, req.get_response(self.ext_api)) self.assertEqual(2, len(res['firewall_logs'])) def test_delete_firewall_log(self): with self.logging_resource() as log_res, \ self.firewall_log(log_res['logging_resource']['id'], firewall_id=self._fw_id1) as f_log: req = self.new_delete_request('logging/logging_resources/' + log_res['logging_resource']['id'] + '/firewall_logs', f_log['firewall_log']['id']) res = req.get_response(self.ext_api) self.assertEqual(webob.exc.HTTPNoContent.code, res.status_int) def test_delete_firewall_log_error_delete_neutron_resource(self): self.client_mock.delete_firewall_log_postcommit.side_effect = ( Exception(""Fake Error"")) with self.logging_resource() as log_res, \ self.firewall_log(log_res['logging_resource']['id'], firewall_id=self._fw_id1) as f_log: req = self.new_delete_request('logging/logging_resources/' + log_res['logging_resource']['id'] + '/firewall_logs', f_log['firewall_log']['id']) res = req.get_response(self.ext_api) self.assertEqual(webob.exc.HTTPInternalServerError.code, res.status_int) # check the resource deleted in Neutron DB req = self.new_list_request('logging/logging_resources') res = self.deserialize(self.fmt, req.get_response(self.ext_api)) self.assertEqual( [], res['logging_resources'][0]['firewall_logs']) def test_delete_firewall_with_firewall_log(self): with self.logging_resource() as log_res, \ self.firewall(self._tenant_id) as fw, \ self.firewall_log(log_res['logging_resource']['id'], firewall_id=fw['firewall']['id']) as f_log: req = self.new_delete_request('fw/firewalls', fw['firewall']['id']) res = req.get_response(self.ext_api) self.assertEqual(webob.exc.HTTPNoContent.code, res.status_int) req = self.new_show_request('logging/logging_resources/' + log_res['logging_resource']['id'] + '/firewall_logs', f_log['firewall_log']['id']) res = req.get_response(self.ext_api) self.assertEqual(webob.exc.HTTPNotFound.code, res.status_int) def test_delete_firewall_with_multiple_firewall_logs(self): with self.logging_resource() as log_res1, \ self.logging_resource( tenant_id=self._tenant_id2) as log_res2, \ self.firewall(self._tenant_id) as fw, \ self.firewall_log( log_res1['logging_resource']['id'], firewall_id=fw['firewall']['id']) as f_log1, \ self.firewall_log(log_res2['logging_resource']['id'], firewall_id=fw['firewall']['id'], tenant_id=self._tenant_id2) as f_log2: req = self.new_delete_request('fw/firewalls', fw['firewall']['id']) res = req.get_response(self.ext_api) self.assertEqual(webob.exc.HTTPNoContent.code, res.status_int) req = self.new_show_request('logging/logging_resources/' + log_res1['logging_resource']['id'] + '/firewall_logs', f_log1['firewall_log']['id']) res = req.get_response(self.ext_api) self.assertEqual(webob.exc.HTTPNotFound.code, res.status_int) req = self.new_show_request('logging/logging_resources/' + log_res2['logging_resource']['id'] + '/firewall_logs', f_log2['firewall_log']['id']) res = req.get_response(self.ext_api) self.assertEqual(webob.exc.HTTPNotFound.code, res.status_int) class LoggingResourceTestCaseML2(LoggingResourceTestCaseMixin, test_mn_ml2.MidonetPluginML2TestCase): pass ",2,2049
openstack%2Fnetworking-midonet~master~I77fadee48396f7590749aee142d494b5a6fe4554,openstack/networking-midonet,master,I77fadee48396f7590749aee142d494b5a6fe4554,Remove tempest plugin,MERGED,2018-01-16 05:56:21.000000000,2019-02-07 11:13:40.000000000,2019-02-07 11:13:40.000000000,"[{'_account_id': 156}, {'_account_id': 6854}, {'_account_id': 19307}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-16 05:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/15401e652cb55990701e1b40c8937d07bc446538', 'message': 'Remove tempest plugin\n\nThese test cases has been moved to neutron-tempest-plugin repository.\n\nCloses-Bug: #1743497\nDepends-On: I04fe57630d902f9aae3bb3405619d89c837a8564\nChange-Id: I77fadee48396f7590749aee142d494b5a6fe4554\n'}, {'number': 2, 'created': '2018-01-18 01:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/606a71f8327fcc768eeb8a981a585120a414d479', 'message': 'Remove tempest plugin\n\nThese test cases has been moved to neutron-tempest-plugin repository.\n\nCloses-Bug: #1743497\nDepends-On: I04fe57630d902f9aae3bb3405619d89c837a8564\nChange-Id: I77fadee48396f7590749aee142d494b5a6fe4554\n'}, {'number': 3, 'created': '2018-05-22 15:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/6f4593c2fe9828cb99c65dad9c69a2a8fc40018d', 'message': 'Remove tempest plugin\n\nThese test cases has been moved to neutron-tempest-plugin repository.\n\nCloses-Bug: #1743497\nDepends-On: I04fe57630d902f9aae3bb3405619d89c837a8564\nChange-Id: I77fadee48396f7590749aee142d494b5a6fe4554\n'}, {'number': 4, 'created': '2018-05-28 07:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/270526d63741fe7a718a50e2c5334e0cabc53881', 'message': 'Remove tempest plugin\n\nThese test cases has been moved to neutron-tempest-plugin repository.\n\nCloses-Bug: #1743497\nDepends-On: I04fe57630d902f9aae3bb3405619d89c837a8564\nChange-Id: I77fadee48396f7590749aee142d494b5a6fe4554\n'}, {'number': 5, 'created': '2018-06-19 13:28:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/8a208a85778bfefdc4f9c63becc7e02ffbd5d873', 'message': 'Remove tempest plugin\n\nThese test cases has been moved to neutron-tempest-plugin repository.\n\nCloses-Bug: #1743497\nDepends-On: I04fe57630d902f9aae3bb3405619d89c837a8564\nChange-Id: I77fadee48396f7590749aee142d494b5a6fe4554\n'}, {'number': 6, 'created': '2018-08-29 21:04:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/bcb49eedf9044b668ca4379b7c705111e3a6891b', 'message': 'Remove tempest plugin\n\nThese test cases has been moved to neutron-tempest-plugin repository.\n\nCloses-Bug: #1743497\nDepends-On: I04fe57630d902f9aae3bb3405619d89c837a8564\nChange-Id: I77fadee48396f7590749aee142d494b5a6fe4554\n'}, {'number': 7, 'created': '2018-10-08 08:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/b7f583d35d01501482caf71bcb981a941ee769dc', 'message': 'Remove tempest plugin\n\nThese test cases has been moved to neutron-tempest-plugin repository.\n\nCloses-Bug: #1743497\nDepends-On: I04fe57630d902f9aae3bb3405619d89c837a8564\nChange-Id: I77fadee48396f7590749aee142d494b5a6fe4554\n'}, {'number': 8, 'created': '2018-10-24 04:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/75f9c4428b154f631b2375756bc21b83330ae828', 'message': 'Remove tempest plugin\n\nThese test cases has been moved to neutron-tempest-plugin repository.\n\nCloses-Bug: #1743497\nDepends-On: I04fe57630d902f9aae3bb3405619d89c837a8564\nChange-Id: I77fadee48396f7590749aee142d494b5a6fe4554\n'}, {'number': 9, 'created': '2019-02-05 14:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/6a6e8f8a5ec7e5a4ca6f2e1c6d8fd38445b074a4', 'message': 'Remove tempest plugin\n\nThese test cases has been moved to neutron-tempest-plugin repository.\n\nCloses-Bug: #1743497\nDepends-On: I04fe57630d902f9aae3bb3405619d89c837a8564\nChange-Id: I77fadee48396f7590749aee142d494b5a6fe4554\n'}, {'number': 10, 'created': '2019-02-06 12:41:10.000000000', 'files': ['api-ref/source/parameters.yaml', 'midonet/neutron/tests/tempest/tests/scenario/__init__.py', 'midonet/neutron/db/migration/alembic_migration/versions/CONTRACT_HEAD', 'test-requirements.txt', 'midonet/neutron/services/firewall/plugin.py', 'devstack/settings', 'midonet/neutron/db/migration/models/head.py', 'midonet/neutron/services/firewall/__init__.py', 'midonet/neutronclient/logging_resource_extension/_firewall_log.py', 'api-ref/source/samples/firewall_log/firewall_log-update-request.json', 'api-ref/source/conf.py', 'etc/policy.json', 'api-ref/source/samples/logging_resource/logging_resources-list-response.json', 'api-ref/source/index.rst', 'midonet/neutron/db/migration/alembic_migration/versions/stein/contract/f5dfd5cefbc7_drop_fwaas_v1_and_logging_resource.py', 'midonet/neutron/tests/tempest/tests/api/test_router_interface_fip.py', 'devstack/ci/gate_hook.sh', 'midonet/neutronclient/logging_resource_extension/__init__.py', 'api-ref/source/samples/firewall_log/firewall_log-update-response.json', 'doc/source/contributor/firewall.rst', 'midonet/neutron/services/logging_resource/plugin.py', 'api-ref/source/samples/firewall_log/firewall_log-create-response.json', 'midonet/neutron/tests/unit/neutronclient_ext/test_cli20_firewall_log.py', 'midonet/neutron/tests/unit/neutronclient_ext/test_cli20_logging_resource.py', 'api-ref/source/logging_resource.inc', 'midonet/neutron/tests/tempest/tests/scenario/test_fip64.py', 'midonet/neutron/services/logging_resource/__init__.py', 'api-ref/source/samples/logging_resource/logging_resource-show-response.json', 'setup.cfg', 'tox.ini', 'midonet/neutron/extensions/logging_resource.py', 'api-ref/source/firewall_log.inc', 'doc/source/user/features.rst', 'midonet/neutron/tests/unit/test_extension_logging_resource.py', 'midonet/neutron/tests/tempest/tests/scenario/test_bgp.py', 'api-ref/source/samples/firewall_log/firewall_log-create-request.json', 'api-ref/source/samples/logging_resource/logging_resource-update-request.json', 'devstack/ci/hooks/tempest_plugins_base', 'midonet/neutron/tests/tempest/tests/__init__.py', 'releasenotes/notes/drop-fwaas-v1-and-logging_resource-d4c23094ebdeb625.yaml', 'api-ref/source/samples/firewall_log/firewall_log-show-response.json', 'api-ref/source/samples/logging_resource/logging_resource-update-response.json', 'devstack/ci/hooks/tempest_plugins_advsvc', 'midonet/neutron/tests/tempest/plugin.py', 'doc/source/contributor/index.rst', 'midonet/neutron/tests/unit/test_extension_fwaas.py', 'api-ref/source/samples/logging_resource/logging_resource-create-response.json', 'midonet/neutronclient/logging_resource_extension/_logging_resource.py', 'midonet/neutron/db/logging_resource_model.py', 'doc/source/install/installation.rst', 'midonet/neutron/db/logging_resource_db.py', '.zuul.yaml', 'midonet/neutron/tests/unit/db/test_migrations.py', 'devstack/README.rst', 'devstack/ml2/local.conf.sample', 'api-ref/source/samples/firewall_log/firewall_logs-list-response.json', 'api-ref/source/samples/logging_resource/logging_resource-create-request.json', 'midonet/neutron/tests/tempest/tests/api/__init__.py', 'midonet/neutron/tests/tempest/__init__.py'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/703097b39b478e268062e40625dcfecac45c3142', 'message': ""Remove tempest plugin\n\nThese test cases has been moved to neutron-tempest-plugin repository.\n\nThis commit also includes the following unrelated change\nto pass the gate.\n----------------------------------------\nRemove FWaaS v1 support\n\nAs it has been removed in neutron-fwaas. [1]\n\nAlso, remove logging_resource as it's only useful with FWaaS v1.\n\n[1] I4e440c854e5aa11193d38946e659481f4fefded2\n\nPartial-Bug: #1814625\nChange-Id: I977d46722fc61e3ca160a08dc77754393111e887\n----------------------------------------\n\nRef: https://midonet.atlassian.net/browse/MNA-1192\nCloses-Bug: #1743497\nDepends-On: I04fe57630d902f9aae3bb3405619d89c837a8564\nChange-Id: I77fadee48396f7590749aee142d494b5a6fe4554\n""}]",0,534090,703097b39b478e268062e40625dcfecac45c3142,51,4,10,6854,,,0,"Remove tempest plugin

These test cases has been moved to neutron-tempest-plugin repository.

This commit also includes the following unrelated change
to pass the gate.
----------------------------------------
Remove FWaaS v1 support

As it has been removed in neutron-fwaas. [1]

Also, remove logging_resource as it's only useful with FWaaS v1.

[1] I4e440c854e5aa11193d38946e659481f4fefded2

Partial-Bug: #1814625
Change-Id: I977d46722fc61e3ca160a08dc77754393111e887
----------------------------------------

Ref: https://midonet.atlassian.net/browse/MNA-1192
Closes-Bug: #1743497
Depends-On: I04fe57630d902f9aae3bb3405619d89c837a8564
Change-Id: I77fadee48396f7590749aee142d494b5a6fe4554
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/90/534090/9 && git format-patch -1 --stdout FETCH_HEAD,"['midonet/neutron/tests/tempest/tests/scenario/test_bgp.py', 'midonet/neutron/tests/tempest/tests/scenario/__init__.py', 'devstack/ci/hooks/tempest_plugins_base', 'midonet/neutron/tests/tempest/tests/__init__.py', 'midonet/neutron/tests/tempest/plugin.py', 'midonet/neutron/tests/tempest/tests/scenario/test_fip64.py', 'midonet/neutron/tests/tempest/tests/api/__init__.py', 'midonet/neutron/tests/tempest/tests/api/test_router_interface_fip.py', 'devstack/ci/gate_hook.sh', 'setup.cfg', 'midonet/neutron/tests/tempest/__init__.py']",11,15401e652cb55990701e1b40c8937d07bc446538,bug/1743497,,,1,483
openstack%2Fpuppet-openstack-integration~stable%2Focata~Ibd1ff419d13cace906d4cd9765dc7b5486bc19a7,openstack/puppet-openstack-integration,stable/ocata,Ibd1ff419d13cace906d4cd9765dc7b5486bc19a7,Workaround for installing correct version of ruby bundler,MERGED,2019-02-06 20:34:22.000000000,2019-02-07 10:54:16.000000000,2019-02-07 10:54:16.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-02-06 20:34:22.000000000', 'files': ['playbooks/run-unit-tests.yaml', 'all-in-one.sh', 'playbooks/run-syntax-tests.yaml', 'playbooks/prepare-node-integration.yaml', 'playbooks/run-beaker-tests.yaml', 'playbooks/run-lint-tests.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7c3044e50c637123c2d2966e4d6abd0ad547db95', 'message': 'Workaround for installing correct version of ruby bundler\n\nSee https://github.com/bundler/bundler/issues/6870\n\nBundler 2.x dropped support for Ruby < 2.3 so now we detect ruby\nversion and install last known to work version. This means that\nnewer OS will get newer versions of bundler.\n\nCloses-Bug: #1810401\n  (cherry picked from commit 7acca40563ebde1696a95a4ab9f646b754edeeb2)\n\nChange-Id: Ibd1ff419d13cace906d4cd9765dc7b5486bc19a7\n(cherry picked from commit d83f041db993aaad63e21c25aef8a59ff5d04ba6)\n(cherry picked from commit 44fa397d48e34ced89dd041ba1f0f02c12fb0079)\n'}]",0,635273,7c3044e50c637123c2d2966e4d6abd0ad547db95,7,4,1,16137,,,0,"Workaround for installing correct version of ruby bundler

See https://github.com/bundler/bundler/issues/6870

Bundler 2.x dropped support for Ruby < 2.3 so now we detect ruby
version and install last known to work version. This means that
newer OS will get newer versions of bundler.

Closes-Bug: #1810401
  (cherry picked from commit 7acca40563ebde1696a95a4ab9f646b754edeeb2)

Change-Id: Ibd1ff419d13cace906d4cd9765dc7b5486bc19a7
(cherry picked from commit d83f041db993aaad63e21c25aef8a59ff5d04ba6)
(cherry picked from commit 44fa397d48e34ced89dd041ba1f0f02c12fb0079)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/73/635273/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/run-unit-tests.yaml', 'all-in-one.sh', 'playbooks/run-syntax-tests.yaml', 'playbooks/prepare-node-integration.yaml', 'playbooks/run-beaker-tests.yaml', 'playbooks/run-lint-tests.yaml']",6,7c3044e50c637123c2d2966e4d6abd0ad547db95,bug/1810401, ruby <<EOF cmd = 'gem install bundler --no-rdoc --no-ri --verbose' if Gem::Version.new(RUBY_VERSION) < Gem::Version.new('2.3.0') then cmd += ' -v 1.17.3' end system(cmd) EOF, gem install bundler --no-rdoc --no-ri --verbose,48,11
openstack%2Fpuppet-openstack-integration~stable%2Fpike~Ibd1ff419d13cace906d4cd9765dc7b5486bc19a7,openstack/puppet-openstack-integration,stable/pike,Ibd1ff419d13cace906d4cd9765dc7b5486bc19a7,Workaround for installing correct version of ruby bundler,MERGED,2019-02-06 20:33:52.000000000,2019-02-07 10:54:15.000000000,2019-02-07 10:54:15.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-02-06 20:33:52.000000000', 'files': ['playbooks/run-unit-tests.yaml', 'all-in-one.sh', 'playbooks/run-syntax-tests.yaml', 'playbooks/prepare-node-integration.yaml', 'playbooks/run-beaker-tests.yaml', 'playbooks/run-lint-tests.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/44fa397d48e34ced89dd041ba1f0f02c12fb0079', 'message': 'Workaround for installing correct version of ruby bundler\n\nSee https://github.com/bundler/bundler/issues/6870\n\nBundler 2.x dropped support for Ruby < 2.3 so now we detect ruby\nversion and install last known to work version. This means that\nnewer OS will get newer versions of bundler.\n\nCloses-Bug: #1810401\n  (cherry picked from commit 7acca40563ebde1696a95a4ab9f646b754edeeb2)\n\nChange-Id: Ibd1ff419d13cace906d4cd9765dc7b5486bc19a7\n(cherry picked from commit d83f041db993aaad63e21c25aef8a59ff5d04ba6)\n'}]",0,635271,44fa397d48e34ced89dd041ba1f0f02c12fb0079,7,4,1,16137,,,0,"Workaround for installing correct version of ruby bundler

See https://github.com/bundler/bundler/issues/6870

Bundler 2.x dropped support for Ruby < 2.3 so now we detect ruby
version and install last known to work version. This means that
newer OS will get newer versions of bundler.

Closes-Bug: #1810401
  (cherry picked from commit 7acca40563ebde1696a95a4ab9f646b754edeeb2)

Change-Id: Ibd1ff419d13cace906d4cd9765dc7b5486bc19a7
(cherry picked from commit d83f041db993aaad63e21c25aef8a59ff5d04ba6)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/71/635271/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/run-unit-tests.yaml', 'all-in-one.sh', 'playbooks/run-syntax-tests.yaml', 'playbooks/prepare-node-integration.yaml', 'playbooks/run-beaker-tests.yaml', 'playbooks/run-lint-tests.yaml']",6,44fa397d48e34ced89dd041ba1f0f02c12fb0079,bug/1810401, ruby <<EOF cmd = 'gem install bundler --no-rdoc --no-ri --verbose' if Gem::Version.new(RUBY_VERSION) < Gem::Version.new('2.3.0') then cmd += ' -v 1.17.3' end system(cmd) EOF, gem install bundler --no-rdoc --no-ri --verbose,48,11
openstack%2Fcharm-ceilometer~master~I5b55f31adcf2b069ff51e387a416f9f1ac4099f8,openstack/charm-ceilometer,master,I5b55f31adcf2b069ff51e387a416f9f1ac4099f8,Make event_sink publisher configurable,MERGED,2019-01-28 17:27:28.000000000,2019-02-07 10:47:53.000000000,2019-02-07 10:47:53.000000000,"[{'_account_id': 935}, {'_account_id': 6737}, {'_account_id': 8992}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-28 17:27:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/1d421fbc9cac3c551e927331ecff793d6e4c0867', 'message': 'Make event_sink publisher configurable\n\nThe charm currently configured events to be published to\nrabbit on both the event.sample queue and alarm topic\nbut as of Queens it does not consome event.sample. This\npatch make the event publisher configurable and defaults\nto aodh to retain backwards compatibility.\n\nChange-Id: I5b55f31adcf2b069ff51e387a416f9f1ac4099f8\nPartial-Bug: #1676586\n'}, {'number': 2, 'created': '2019-02-05 12:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/52c5fdc8905e894be1be366c2d3f40a674ed14bb', 'message': 'Make event_sink publisher configurable\n\nThe charm currently configures events to be published to\nrabbit on both the event.sample queue and alarm topic\nbut as of Queens it does not consome event.sample. This\npatch make the event publisher configurable and defaults\nto aodh to retain backwards compatibility.\n\nChange-Id: I5b55f31adcf2b069ff51e387a416f9f1ac4099f8\nPartial-Bug: #1676586\n'}, {'number': 3, 'created': '2019-02-05 12:15:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/b2675e6e41b3eecdf6c5fb53852845398f7d5903', 'message': 'Make event_sink publisher configurable\n\nThe charm currently configures events to be published to\nrabbit on both the event.sample queue and alarm topic\nbut as of Queens it does not consome event.sample. This\npatch make the event publisher configurable and defaults\nto aodh to retain backwards compatibility.\n\nChange-Id: I5b55f31adcf2b069ff51e387a416f9f1ac4099f8\nPartial-Bug: #1676586\n'}, {'number': 4, 'created': '2019-02-05 15:35:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/468de8f92b929e3cdefe7e8198816767caea6233', 'message': 'Make event_sink publisher configurable\n\nThe charm currently configures events to be published to\nrabbit on both the event.sample queue and alarm topic\nbut as of Queens it does not consome event.sample. This\npatch make the event publisher configurable and defaults\nto aodh to retain backwards compatibility.\n\nChange-Id: I5b55f31adcf2b069ff51e387a416f9f1ac4099f8\nPartial-Bug: #1676586\n'}, {'number': 5, 'created': '2019-02-05 16:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/637e02f088397484d54819099b9ee3c0724b545b', 'message': 'Make event_sink publisher configurable\n\nThe charm currently configures events to be published to\nrabbit on both the event.sample queue and alarm topic\nbut as of Queens it does not consome event.sample. This\npatch make the event publisher configurable and defaults\nto aodh to retain backwards compatibility.\n\nChange-Id: I5b55f31adcf2b069ff51e387a416f9f1ac4099f8\nPartial-Bug: #1676586\n'}, {'number': 6, 'created': '2019-02-07 10:10:50.000000000', 'files': ['unit_tests/test_ceilometer_contexts.py', 'templates/queens/event_pipeline.yaml', 'config.yaml', 'lib/ceilometer_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/d398cdff364ba07a7f18f59417bb4f3af5cccbc3', 'message': 'Make event_sink publisher configurable\n\nThe charm currently configures events to be published to\nrabbit on both the config.event_topic (event.sample queue)\nand alarm topic but as of Queens Ceilometer no longer\nconsumes event.sample. This patch makes the event_sink\npublishers configurable and defaults to publishing to\naodh to retain backwards compatibility.\n\nChange-Id: I5b55f31adcf2b069ff51e387a416f9f1ac4099f8\nPartial-Bug: #1676586\n'}]",5,633564,d398cdff364ba07a7f18f59417bb4f3af5cccbc3,39,7,6,6737,,,0,"Make event_sink publisher configurable

The charm currently configures events to be published to
rabbit on both the config.event_topic (event.sample queue)
and alarm topic but as of Queens Ceilometer no longer
consumes event.sample. This patch makes the event_sink
publishers configurable and defaults to publishing to
aodh to retain backwards compatibility.

Change-Id: I5b55f31adcf2b069ff51e387a416f9f1ac4099f8
Partial-Bug: #1676586
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/64/633564/4 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_ceilometer_contexts.py', 'templates/queens/event_pipeline.yaml', 'config.yaml', 'lib/ceilometer_contexts.py']",4,1d421fbc9cac3c551e927331ecff793d6e4c0867,bug/1676586," get_os_codename_package, release = get_os_codename_package('ceilometer-common', fatal=False) if CompareOpenStackReleases(release) >= 'queens': # NOTE: see bug LP 1676586 if config('events-publisher') == ""aodh"": ctxt['event_sink_publishers'] = 'notifier://?topic=alarm.all' elif config('events-publisher') == ""gnocchi"": ctxt['event_sink_publishers'] = 'gnocchi://' else: ctxt['event_sink_publishers'] = None ",,113,4
openstack%2Freleases~master~I10d4f92f64a68f283c70c2c880c27a069f123762,openstack/releases,master,I10d4f92f64a68f283c70c2c880c27a069f123762,Allow user to generate urls for the given results.,MERGED,2019-01-17 17:25:21.000000000,2019-02-07 10:29:40.000000000,2019-02-07 10:29:40.000000000,"[{'_account_id': 308}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-01-17 17:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e1b4b05aec8632248310fedbcd9ca3d961a57829', 'message': 'Allow user to generate urls for the given results.\n\nIntroduce the flag `--url` who allow user to generate urls\nfor the given result.\n\nIntroduce the option `--distgit` to allow user to specify\nthe base url to use to generate urls.\n\nChange-Id: I10d4f92f64a68f283c70c2c880c27a069f123762\n'}, {'number': 2, 'created': '2019-01-18 22:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/baddf222cb90809a490fb062d2709274bc256290', 'message': 'Allow user to generate urls for the given results.\n\nIntroduce the flag `--url` who allow user to generate urls\nfor the given result.\n\nIntroduce the option `--distgit` to allow user to specify\nthe base url to use to generate urls.\n\nChange-Id: I10d4f92f64a68f283c70c2c880c27a069f123762\n'}, {'number': 3, 'created': '2019-02-01 14:11:00.000000000', 'files': ['doc/source/reference/using.rst', 'tools/membership_freeze_test.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/6b3259ee21e72fbed6c06519e7a86fa7d5e24030', 'message': 'Allow user to generate urls for the given results.\n\nIntroduce the flag `--url` who allow user to generate urls\nfor the given result.\n\nIntroduce the option `--distgit` to allow user to specify\nthe base url to use to generate urls.\n\nChange-Id: I10d4f92f64a68f283c70c2c880c27a069f123762\n'}]",3,631583,6b3259ee21e72fbed6c06519e7a86fa7d5e24030,17,5,3,28522,,,0,"Allow user to generate urls for the given results.

Introduce the flag `--url` who allow user to generate urls
for the given result.

Introduce the option `--distgit` to allow user to specify
the base url to use to generate urls.

Change-Id: I10d4f92f64a68f283c70c2c880c27a069f123762
",git fetch https://review.opendev.org/openstack/releases refs/changes/83/631583/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/using.rst', 'tools/membership_freeze_test.py']",2,e1b4b05aec8632248310fedbcd9ca3d961a57829,membershipt_test_url," url = '' if len(deliverable['repos']) == 1: url = deliverable['repos'][0] missing.append((tname, dname, url)) parser.add_argument( '--url', action='store_true', help='generate url for the given results found' ) parser.add_argument( '--distgit', default='https://git.openstack.org/cgit/', required=False, help='delivrable git repository url to use' ) for team, deliverable, url in missing: output = ""- {}"".format(deliverable, args.distgit, url) if args.url: output = ""{} ({}{})"".format(output, args.distgit, url) print(output) print(""-"" * 50) print(""{} project(s) missing"".format(len(missing))) print(""-"" * 50)"," missing.append((tname, dname)) for team, deliverable in missing: print(""- {}"".format(deliverable)) print('-' * 50) print('{} project(s) missing'.format(len(missing))) print('-' * 50)",36,6
openstack%2Fpuppet-openstack_spec_helper~stable%2Focata~I521affb16d8d2312be3ff507a014adddacd6cb8b,openstack/puppet-openstack_spec_helper,stable/ocata,I521affb16d8d2312be3ff507a014adddacd6cb8b,Workaround for installing correct version of ruby bundler,MERGED,2019-02-06 20:29:40.000000000,2019-02-07 10:25:38.000000000,2019-02-07 10:25:38.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-06 20:29:40.000000000', 'files': ['functions'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/5547675d52869ce2e3f2d79ed70fffb2079ff6b0', 'message': 'Workaround for installing correct version of ruby bundler\n\nSee https://github.com/bundler/bundler/issues/6870\n\nBundler 2.x dropped support for Ruby < 2.3 so now we detect ruby\nversion and install last known to work version. This means that\nnewer OS will get newer versions of bundler.\n\nChange-Id: I521affb16d8d2312be3ff507a014adddacd6cb8b\nCloses-Bug: #1810401\n(cherry picked from commit 618537771344aa91cc12759dbab1b63acf55ec6d)\n(cherry picked from commit 9b6f1e1453dfc23eb4f0e21c5565612e014d4f01)\n(cherry picked from commit c44a4bbc4b69b4f55cfc0b1aa0e26aadbfa238bc)\n'}]",0,635265,5547675d52869ce2e3f2d79ed70fffb2079ff6b0,7,3,1,16137,,,0,"Workaround for installing correct version of ruby bundler

See https://github.com/bundler/bundler/issues/6870

Bundler 2.x dropped support for Ruby < 2.3 so now we detect ruby
version and install last known to work version. This means that
newer OS will get newer versions of bundler.

Change-Id: I521affb16d8d2312be3ff507a014adddacd6cb8b
Closes-Bug: #1810401
(cherry picked from commit 618537771344aa91cc12759dbab1b63acf55ec6d)
(cherry picked from commit 9b6f1e1453dfc23eb4f0e21c5565612e014d4f01)
(cherry picked from commit c44a4bbc4b69b4f55cfc0b1aa0e26aadbfa238bc)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/65/635265/1 && git format-patch -1 --stdout FETCH_HEAD,['functions'],1,5547675d52869ce2e3f2d79ed70fffb2079ff6b0,bug/1810401-stable/rocky-stable/queens-stable/pike-stable/ocata, ruby <<EOF cmd = 'gem install bundler --no-rdoc --no-ri --verbose' if Gem::Version.new(RUBY_VERSION) < Gem::Version.new('2.3.0') then cmd += ' -v 1.17.3' end system(cmd) EOF, gem install bundler --no-rdoc --no-ri --verbose,7,1
openstack%2Fpuppet-openstack_spec_helper~stable%2Fpike~I521affb16d8d2312be3ff507a014adddacd6cb8b,openstack/puppet-openstack_spec_helper,stable/pike,I521affb16d8d2312be3ff507a014adddacd6cb8b,Workaround for installing correct version of ruby bundler,MERGED,2019-02-06 20:29:35.000000000,2019-02-07 10:25:38.000000000,2019-02-07 10:25:38.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-06 20:29:35.000000000', 'files': ['functions'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/28d12d49d3b92dd0ddb6954014da0e490bdf0eb6', 'message': 'Workaround for installing correct version of ruby bundler\n\nSee https://github.com/bundler/bundler/issues/6870\n\nBundler 2.x dropped support for Ruby < 2.3 so now we detect ruby\nversion and install last known to work version. This means that\nnewer OS will get newer versions of bundler.\n\nChange-Id: I521affb16d8d2312be3ff507a014adddacd6cb8b\nCloses-Bug: #1810401\n(cherry picked from commit 618537771344aa91cc12759dbab1b63acf55ec6d)\n(cherry picked from commit 9b6f1e1453dfc23eb4f0e21c5565612e014d4f01)\n(cherry picked from commit c44a4bbc4b69b4f55cfc0b1aa0e26aadbfa238bc)\n'}]",0,635264,28d12d49d3b92dd0ddb6954014da0e490bdf0eb6,8,3,1,16137,,,0,"Workaround for installing correct version of ruby bundler

See https://github.com/bundler/bundler/issues/6870

Bundler 2.x dropped support for Ruby < 2.3 so now we detect ruby
version and install last known to work version. This means that
newer OS will get newer versions of bundler.

Change-Id: I521affb16d8d2312be3ff507a014adddacd6cb8b
Closes-Bug: #1810401
(cherry picked from commit 618537771344aa91cc12759dbab1b63acf55ec6d)
(cherry picked from commit 9b6f1e1453dfc23eb4f0e21c5565612e014d4f01)
(cherry picked from commit c44a4bbc4b69b4f55cfc0b1aa0e26aadbfa238bc)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/64/635264/1 && git format-patch -1 --stdout FETCH_HEAD,['functions'],1,28d12d49d3b92dd0ddb6954014da0e490bdf0eb6,bug/1810401-stable/rocky-stable/queens-stable/pike, ruby <<EOF cmd = 'gem install bundler --no-rdoc --no-ri --verbose' if Gem::Version.new(RUBY_VERSION) < Gem::Version.new('2.3.0') then cmd += ' -v 1.17.3' end system(cmd) EOF, gem install bundler --no-rdoc --no-ri --verbose,7,1
openstack%2Fkolla-ansible~stable%2Frocky~I450787605f5647bdbe194607e6adf6c10535d7e3,openstack/kolla-ansible,stable/rocky,I450787605f5647bdbe194607e6adf6c10535d7e3,oslo.config>=5.2.0 which is a dependency of kolla-ansible requires rfc3986>=1.2.0,MERGED,2019-01-22 07:36:22.000000000,2019-02-07 09:58:12.000000000,2019-02-07 09:58:12.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 28637}]","[{'number': 1, 'created': '2019-01-22 07:36:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7e26144549ebe6696d27e2e0e8d4d5dafcdc654d', 'message': 'it requires rfc3986>=1.2.0 when pip install python-openstackclient\n\nChange-Id: I450787605f5647bdbe194607e6adf6c10535d7e3\n'}, {'number': 2, 'created': '2019-01-22 09:39:18.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1026ad6e8541b5d9a69abb4599f298502c948a1a', 'message': 'oslo.config>=5.2.0 which is a dependency of kolla-ansible requires rfc3986>=1.2.0\n\nChange-Id: I450787605f5647bdbe194607e6adf6c10535d7e3\n'}]",0,632259,1026ad6e8541b5d9a69abb4599f298502c948a1a,12,4,2,28637,,,0,"oslo.config>=5.2.0 which is a dependency of kolla-ansible requires rfc3986>=1.2.0

Change-Id: I450787605f5647bdbe194607e6adf6c10535d7e3
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/59/632259/2 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,7e26144549ebe6696d27e2e0e8d4d5dafcdc654d,,rfc3986==1.2.0,rfc3986==1.1.0,1,1
openstack%2Fneutron~master~I419a451633badbc3d32edcee1945fca3e3d9f6be,openstack/neutron,master,I419a451633badbc3d32edcee1945fca3e3d9f6be,Ensure dnsmasq is down before enabling it in restart method,MERGED,2019-02-01 10:11:27.000000000,2019-02-07 09:45:16.000000000,2019-02-05 23:21:58.000000000,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 10980}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-02-01 10:11:27.000000000', 'files': ['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d471a85931d6f6495efdb8ff43bf903e3e1d639d', 'message': 'Ensure dnsmasq is down before enabling it in restart method\n\nDnsmasq driver used by dhcp agent has restart() method which is\ncalling disable() and then enable() dnsmasq process again.\nWhat can be observed in functional tests from time to time it may\nhappen that start dnsmasq process will be called before old process\nis really down. That leads to error that IP address to which\ndnsmasq wants to bind is already in use and it fails to start.\n\nThis patch adds possibility to call disable() method with block flag\nset to True. In such case driver will ensure in disable() method that\nprocess is really not active.\nThis blocking disable() is used in restart() method now.\n\nChange-Id: I419a451633badbc3d32edcee1945fca3e3d9f6be\nCloses-Bug: #1811126\n'}]",0,634390,d471a85931d6f6495efdb8ff43bf903e3e1d639d,20,9,1,11975,,,0,"Ensure dnsmasq is down before enabling it in restart method

Dnsmasq driver used by dhcp agent has restart() method which is
calling disable() and then enable() dnsmasq process again.
What can be observed in functional tests from time to time it may
happen that start dnsmasq process will be called before old process
is really down. That leads to error that IP address to which
dnsmasq wants to bind is already in use and it fails to start.

This patch adds possibility to call disable() method with block flag
set to True. In such case driver will ensure in disable() method that
process is really not active.
This blocking disable() is used in restart() method now.

Change-Id: I419a451633badbc3d32edcee1945fca3e3d9f6be
Closes-Bug: #1811126
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/634390/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py']",2,d471a85931d6f6495efdb8ff43bf903e3e1d639d,bug/1811126," def disable(self, retain_port=False, block=False): self.disable(retain_port=True, block=True) def disable(self, retain_port=False, block=False): pm = self._get_process_manager() pm.disable() if block: common_utils.wait_until_true(lambda: not pm.active)"," def disable(self, retain_port=False): self.disable(retain_port=True) def disable(self, retain_port=False): self._get_process_manager().disable()",10,7
openstack%2Fproject-config~master~Id23965a2d43e555fe1f6c33de1381813fdf7239c,openstack/project-config,master,Id23965a2d43e555fe1f6c33de1381813fdf7239c,Fix translation jobs due to opendev/base-job change,MERGED,2019-02-07 07:44:26.000000000,2019-02-07 09:03:25.000000000,2019-02-07 09:03:24.000000000,"[{'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-07 07:44:26.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a588dede17a2393f8e7d29cae6944e353aeb4e9b', 'message': ""Fix translation jobs due to opendev/base-job change\n\nThese jobs uses a role in openstack-zuul-jobs, which is a repo that\nused to be included in openstack's base job, but is no longer\nnow that we switched to the opendev base job.  This adds the repo\nback to the role path for this job.\n\nFailure is:\nERROR! the role 'prepare-zanata-client' was not found...\n\nChange-Id: Id23965a2d43e555fe1f6c33de1381813fdf7239c\n""}]",0,635443,a588dede17a2393f8e7d29cae6944e353aeb4e9b,7,3,1,6547,,,0,"Fix translation jobs due to opendev/base-job change

These jobs uses a role in openstack-zuul-jobs, which is a repo that
used to be included in openstack's base job, but is no longer
now that we switched to the opendev base job.  This adds the repo
back to the role path for this job.

Failure is:
ERROR! the role 'prepare-zanata-client' was not found...

Change-Id: Id23965a2d43e555fe1f6c33de1381813fdf7239c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/43/635443/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,a588dede17a2393f8e7d29cae6944e353aeb4e9b,fix-trans, roles: - zuul: openstack-infra/openstack-zuul-jobs roles: - zuul: openstack-infra/openstack-zuul-jobs,,4,0
openstack%2Ftripleo-heat-templates~master~I2dae3358b56946aaae7eddbf3eb501e672455565,openstack/tripleo-heat-templates,master,I2dae3358b56946aaae7eddbf3eb501e672455565,Adding dependency for NetworkDeployment in 'server_resource_name'Deployment,MERGED,2019-02-06 11:25:16.000000000,2019-02-07 08:16:33.000000000,2019-02-06 18:37:54.000000000,"[{'_account_id': 7144}, {'_account_id': 8042}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-02-06 11:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cb7c3285558034d3617f0c11dc105df1195eab91', 'message': 'Adding dependency for NetworkDeployment in {{server_resource_name}}Deployment\n\nWe removed the dependency for NetworkDeployment[1] in\nrole.role.j2.yaml after moving to Ansible the\nUpgradeInitCommand and UpgradeInitCommonCommand Heat hooks.\n\n[1]: https://review.openstack.org/#/c/632108/17/puppet/role.role.j2.yaml@649\n\nChange-Id: I2dae3358b56946aaae7eddbf3eb501e672455565\n'}, {'number': 2, 'created': '2019-02-06 11:42:23.000000000', 'files': ['puppet/role.role.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aa2dc674fb3abdf4d5d2f1d41cc964cc32137b3c', 'message': ""Adding dependency for NetworkDeployment in 'server_resource_name'Deployment\n\nWe removed the dependency for NetworkDeployment[1] in\nrole.role.j2.yaml after moving to Ansible the\nUpgradeInitCommand and UpgradeInitCommonCommand Heat hooks.\n\n[1]: https://review.openstack.org/#/c/632108/17/puppet/role.role.j2.yaml@649\n\nChange-Id: I2dae3358b56946aaae7eddbf3eb501e672455565\n""}]",0,635132,aa2dc674fb3abdf4d5d2f1d41cc964cc32137b3c,14,6,2,20775,,,0,"Adding dependency for NetworkDeployment in 'server_resource_name'Deployment

We removed the dependency for NetworkDeployment[1] in
role.role.j2.yaml after moving to Ansible the
UpgradeInitCommand and UpgradeInitCommonCommand Heat hooks.

[1]: https://review.openstack.org/#/c/632108/17/puppet/role.role.j2.yaml@649

Change-Id: I2dae3358b56946aaae7eddbf3eb501e672455565
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/32/635132/2 && git format-patch -1 --stdout FETCH_HEAD,['puppet/role.role.j2.yaml'],1,cb7c3285558034d3617f0c11dc105df1195eab91,, depends_on: NetworkDeployment,,1,0
openstack%2Fdiskimage-builder~master~I74688a9e91d833b5d654056431729bed0585616c,openstack/diskimage-builder,master,I74688a9e91d833b5d654056431729bed0585616c,pip-and-virtualenv: handle centos image-based builds,MERGED,2019-02-06 23:59:19.000000000,2019-02-07 07:54:23.000000000,2019-02-07 07:54:23.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-06 23:59:19.000000000', 'files': ['diskimage_builder/elements/pip-and-virtualenv/install.d/pip-and-virtualenv-source-install/04-install-pip'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d0906ad47372a794f0a01386542171dab047ff19', 'message': 'pip-and-virtualenv: handle centos image-based builds\n\nThis fixes a regression in I041a141366099093805e6052b1bbf64efd277e1e\nwhere we starting skipping the removal of old files for image-based\nbuilds (confusingly named centos7 rather than centos for historical\nreasons).  Fix the check\n\nChange-Id: I74688a9e91d833b5d654056431729bed0585616c\n'}]",0,635365,d0906ad47372a794f0a01386542171dab047ff19,9,4,1,7118,,,0,"pip-and-virtualenv: handle centos image-based builds

This fixes a regression in I041a141366099093805e6052b1bbf64efd277e1e
where we starting skipping the removal of old files for image-based
builds (confusingly named centos7 rather than centos for historical
reasons).  Fix the check

Change-Id: I74688a9e91d833b5d654056431729bed0585616c
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/65/635365/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/pip-and-virtualenv/install.d/pip-and-virtualenv-source-install/04-install-pip'],1,d0906ad47372a794f0a01386542171dab047ff19,, if [[ $DISTRO_NAME =~ (centos|centos7|rhel7) ]]; then," if [[ $DISTRO_NAME == ""centos"" ]]; then",1,1
openstack%2Fcharm-gnocchi~master~I95b5368e969bfbafceef2594625810f13c590a82,openstack/charm-gnocchi,master,I95b5368e969bfbafceef2594625810f13c590a82,Run ceilometer-upgrade for all gnocchi tests,MERGED,2019-02-06 16:40:56.000000000,2019-02-07 07:29:27.000000000,2019-02-07 07:29:27.000000000,"[{'_account_id': 13686}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-06 16:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/b0bd7b5f2e18956bc3546b5e739723d7ed07eb2c', 'message': 'Run ceilometer-upgrade for all gnocchi tests\n\nThe ceilometer-upgrade action is required for all gnocchi tests because\nthe ceilometer-upgrade action is required whenever gnocchi is related to\nceilomter.\n\nChange-Id: I95b5368e969bfbafceef2594625810f13c590a82\n'}, {'number': 2, 'created': '2019-02-07 07:12:29.000000000', 'files': ['src/tests/basic_deployment.py'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/4f48b46f17300d60f89e54621cde32d8a2a8fb8c', 'message': 'Run ceilometer-upgrade for all gnocchi tests\n\nThe ceilometer-upgrade action is required for all gnocchi tests because\nthe ceilometer-upgrade action is required whenever gnocchi is related to\nceilomter.\n\nChange-Id: I95b5368e969bfbafceef2594625810f13c590a82\n'}]",0,635216,4f48b46f17300d60f89e54621cde32d8a2a8fb8c,17,5,2,20805,,,0,"Run ceilometer-upgrade for all gnocchi tests

The ceilometer-upgrade action is required for all gnocchi tests because
the ceilometer-upgrade action is required whenever gnocchi is related to
ceilomter.

Change-Id: I95b5368e969bfbafceef2594625810f13c590a82
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/16/635216/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/basic_deployment.py'],1,b0bd7b5f2e18956bc3546b5e739723d7ed07eb2c,ceilometer-upgrade," # Ceilometer will come up blocked until the ceilometer-upgrade # action is run self.exclude_services.append(""ceilometer"") self.run_ceilometer_upgrade_action()"," if self._get_openstack_release() >= self.xenial_pike: # Ceilometer will come up blocked until the ceilometer-upgrade # action is run self.exclude_services.append(""ceilometer"") if self._get_openstack_release() >= self.xenial_pike: self.run_ceilometer_upgrade_action()",4,6
openstack%2Fopenstack-helm-infra~master~I3513e59385313aa817648044053b105613fab4d1,openstack/openstack-helm-infra,master,I3513e59385313aa817648044053b105613fab4d1,ceph configuration generation chart for supporting multiple cluster,ABANDONED,2019-01-15 01:37:41.000000000,2019-02-07 07:26:20.000000000,,"[{'_account_id': 8181}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 29268}]","[{'number': 1, 'created': '2019-01-15 01:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b78665521b5f7cde26e5d71e70725e8650b0baea', 'message': 'ceph configuration generation chart for supporting multiple cluster\n\nThis is a simple chart that generates a ceph configuration file.\n\nIt also supports multiple ceph clusters.\n\nChange-Id: I3513e59385313aa817648044053b105613fab4d1\n'}, {'number': 2, 'created': '2019-01-15 03:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6cac2c6c8d52756e901b918edbf5e62b9cf69efc', 'message': 'ceph configuration generation chart for supporting multiple cluster\n\nThis is a simple chart that generates a ceph configuration file.\n\nIt also supports multiple ceph clusters.\n\nChange-Id: I3513e59385313aa817648044053b105613fab4d1\n'}, {'number': 3, 'created': '2019-01-15 03:16:07.000000000', 'files': ['ceph-config/requirements.yaml', 'ceph-config/Chart.yaml', 'ceph-config/templates/configmap-etc.yaml', 'ceph-config/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/26b7a7a2ed1e2a4960f88d63e671b4b57f72f9c7', 'message': 'ceph configuration generation chart for supporting multiple cluster\n\nThis is a simple chart that generates a ceph configuration file.\n\nIt also supports multiple ceph clusters.\n\nChange-Id: I3513e59385313aa817648044053b105613fab4d1\n'}]",0,630810,26b7a7a2ed1e2a4960f88d63e671b4b57f72f9c7,11,4,3,1523,,,0,"ceph configuration generation chart for supporting multiple cluster

This is a simple chart that generates a ceph configuration file.

It also supports multiple ceph clusters.

Change-Id: I3513e59385313aa817648044053b105613fab4d1
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/10/630810/3 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-config/requirements.yaml', 'ceph-config/Chart.yaml', 'ceph-config/templates/configmap-etc.yaml', 'ceph-config/values.yaml']",4,b78665521b5f7cde26e5d71e70725e8650b0baea,multiple-ceph-cluster,"conf: ceph: global: # auth mon_host: 10.0.1.10, 10.0.1.11, 10.0.1.12 public_network: 10.0.1.0/24 cluster_network: 10.0.1.0/24 osd: ms_bind_port_min: 6800 ms_bind_port_max: 7100 ceph1: global: # auth mon_host: 10.0.1.10, 10.0.1.11, 10.0.1.12 public_network: 10.0.1.0/24 cluster_network: 10.0.1.0/24 osd: ms_bind_port_min: 6800 ms_bind_port_max: 7100 ceph2: global: # auth mon_host: 10.0.2.10, 10.0.2.11, 10.0.2.12 public_network: 10.0.2.0/24 cluster_network: 10.0.2.0/24 osd: ms_bind_port_min: 6800 ms_bind_port_max: 7100 ",,77,0
openstack%2Fneutron-fwaas~master~I9401a797f1aff1b7c603b8795f9c603289e4589e,openstack/neutron-fwaas,master,I9401a797f1aff1b7c603b8795f9c603289e4589e,Load neutron_fwaas.conf with '--config-file' for neutron-server,MERGED,2018-08-10 06:12:12.000000000,2019-02-07 07:16:43.000000000,2018-08-31 07:54:16.000000000,"[{'_account_id': 841}, {'_account_id': 6995}, {'_account_id': 10850}, {'_account_id': 13702}, {'_account_id': 13995}, {'_account_id': 15905}, {'_account_id': 22348}, {'_account_id': 27153}]","[{'number': 1, 'created': '2018-08-10 06:12:12.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/e63882d43cec7dc1c966efcef8b16dc52f1ec965', 'message': ""Load neutron_fwaas.conf with '--config-file' for neutron-server\n\nThis commit enables to load neutron_fwaas.conf for neutron-server\ncorrectly and 'FIREWALL_V2' will be registered into service_provider.\n\nCloses-Bug: #1786413\nCo-Authored-By: Cao Xuan Hoang <hoangcx@vn.fujitsu.com>\nChange-Id: I9401a797f1aff1b7c603b8795f9c603289e4589e\n""}]",0,590656,e63882d43cec7dc1c966efcef8b16dc52f1ec965,17,8,1,13702,,,0,"Load neutron_fwaas.conf with '--config-file' for neutron-server

This commit enables to load neutron_fwaas.conf for neutron-server
correctly and 'FIREWALL_V2' will be registered into service_provider.

Closes-Bug: #1786413
Co-Authored-By: Cao Xuan Hoang <hoangcx@vn.fujitsu.com>
Change-Id: I9401a797f1aff1b7c603b8795f9c603289e4589e
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/56/590656/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,e63882d43cec7dc1c966efcef8b16dc52f1ec965,bug/1786413, neutron_server_config_add $NEUTRON_FWAAS_CONF,,1,0
openstack%2Ftripleo-heat-templates~master~Ib502a28db4d67434686a058562a37d1e1df3e263,openstack/tripleo-heat-templates,master,Ib502a28db4d67434686a058562a37d1e1df3e263,Fix deployment of gluster with openshift AllInOne,MERGED,2019-01-11 07:28:27.000000000,2019-02-07 06:48:09.000000000,2019-02-07 06:48:09.000000000,"[{'_account_id': 3153}, {'_account_id': 13039}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 27781}]","[{'number': 1, 'created': '2019-01-11 07:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2e19c25a8c2381545aa72c75ace853f5bd821f49', 'message': 'Fix deployment of gluster with openshift AllInOne\n\nWhen TripleO deploys openshift with CNS, it configures it to setup\ngluster for both the worker nodes and the image registry. However, the\ncode was incorrectly adding the glusterfs_registry group only for the\nInfra node and was forgetting about the AllInOne role.\n\nChange-Id: Ib502a28db4d67434686a058562a37d1e1df3e263\n'}, {'number': 2, 'created': '2019-01-11 07:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0ab4623bbe008ff3a3734f608b872f9c79abca28', 'message': 'Fix deployment of gluster with openshift AllInOne\n\nWhen TripleO deploys openshift with CNS, it configures it to setup\ngluster for both the worker nodes and the image registry. However, the\ncode was incorrectly adding the glusterfs_registry group only for the\nInfra node and was forgetting about the AllInOne role.\n\nCloses-Bug: #1811334\nChange-Id: Ib502a28db4d67434686a058562a37d1e1df3e263\n'}, {'number': 3, 'created': '2019-01-14 09:22:34.000000000', 'files': ['extraconfig/services/openshift-cns.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/87358befc0ab9ce225b5607c6069ad0973e53482', 'message': 'Fix deployment of gluster with openshift AllInOne\n\nWhen TripleO deploys openshift with CNS, it configures it to setup\ngluster for both the worker nodes and the image registry. However, the\ncode was incorrectly adding the glusterfs_registry group only for the\nInfra node and was forgetting about the AllInOne role.\n\nCloses-Bug: #1811334\nChange-Id: Ib502a28db4d67434686a058562a37d1e1df3e263\n'}]",1,630045,87358befc0ab9ce225b5607c6069ad0973e53482,22,7,3,13039,,,0,"Fix deployment of gluster with openshift AllInOne

When TripleO deploys openshift with CNS, it configures it to setup
gluster for both the worker nodes and the image registry. However, the
code was incorrectly adding the glusterfs_registry group only for the
Infra node and was forgetting about the AllInOne role.

Closes-Bug: #1811334
Change-Id: Ib502a28db4d67434686a058562a37d1e1df3e263
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/45/630045/3 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/services/openshift-cns.yaml'],1,2e19c25a8c2381545aa72c75ace853f5bd821f49,bug/1811334," {% if tripleo_node_group_name == ""node-config-infra"" or tripleo_node_group_name == 'node-config-all-in-one' -%}"," {% if tripleo_node_group_name == ""node-config-infra"" -%}",1,1
openstack%2Foctavia~master~I474dd75a380f935762710b07e916640abaf6817b,openstack/octavia,master,I474dd75a380f935762710b07e916640abaf6817b,[dnm] testing pip-and-virtualenv centos fix,ABANDONED,2019-02-07 00:03:14.000000000,2019-02-07 06:41:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-02-07 00:03:14.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b7b177fb9d6ea1342ec335a9be93bbd49e69338e', 'message': '[dnm] testing pip-and-virtualenv centos fix\n\nChange-Id: I474dd75a380f935762710b07e916640abaf6817b\nDepends-On: https://review.openstack.org/635365\n'}]",0,635371,b7b177fb9d6ea1342ec335a9be93bbd49e69338e,3,1,1,7118,,,0,"[dnm] testing pip-and-virtualenv centos fix

Change-Id: I474dd75a380f935762710b07e916640abaf6817b
Depends-On: https://review.openstack.org/635365
",git fetch https://review.opendev.org/openstack/octavia refs/changes/71/635371/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,b7b177fb9d6ea1342ec335a9be93bbd49e69338e,test-pip-and-virtualenv,, templates: - check-requirements - periodic-stable-jobs-neutron - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python-jobs - openstack-python35-jobs - openstack-python36-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - neutron-lbaasv2-dsvm-api - neutron-lbaasv2-dsvm-py3x-api - neutron-lbaasv2-dsvm-scenario: voting: false - neutron-lbaasv2-dsvm-py3x-scenario: voting: false - openstack-tox-functional: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^releasenotes/.*$ - openstack-tox-functional-py35: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^releasenotes/.*$ - octavia-v1-dsvm-scenario - octavia-v1-dsvm-py3x-scenario - octavia-v2-dsvm-noop-api - octavia-v2-dsvm-noop-py2-api - octavia-v2-dsvm-scenario - octavia-v2-dsvm-py2-scenario - octavia-v2-dsvm-scenario-ubuntu-bionic: voting: false - octavia-v2-dsvm-scenario-two-node: voting: false - octavia-v2-dsvm-py2-scenario-two-node: voting: false - octavia-grenade: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^octavia/tests/unit/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^(test-|)requirements.txt$ - ^tox.ini$ - octavia-v2-dsvm-tls-barbican: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^octavia/tests/unit/.*$ - ^releasenotes/.*$ voting: false,0,61
openstack%2Fcinder~master~Iad7932337647274dbbbc35045b4febbbc8d9d36d,openstack/cinder,master,Iad7932337647274dbbbc35045b4febbbc8d9d36d,Automate generation of volumes api-ref samples,MERGED,2018-12-03 06:14:36.000000000,2019-02-07 06:36:31.000000000,2019-02-06 19:28:36.000000000,"[{'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 20722}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2018-12-03 06:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/29617be3295460d769087b22b5d10f69fea5a51c', 'message': 'Automating generation of volumes sample files\n\nThis patch adds the following tests:\n\n1) Volumes\n2) volume-type access\n\nChange-Id: Iad7932337647274dbbbc35045b4febbbc8d9d36d\nPartially-Implements: blueprint generating-sample-files\n'}, {'number': 2, 'created': '2018-12-03 08:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f2d05c5204519663314434ffa76495f0291808fb', 'message': 'Automating generation of volumes sample files\n\nThis patch adds the following tests:\n\n1) Volumes\n2) volume-type access\n\nChange-Id: Iad7932337647274dbbbc35045b4febbbc8d9d36d\nPartially-Implements: blueprint generating-sample-files\n'}, {'number': 3, 'created': '2018-12-04 04:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0f6e800e45d2ebe9c733afde1da45b8b04764623', 'message': 'Automate generation of volumes api-ref samples\n\nThis patch adds the following tests:\n\n1) Volumes\n2) volume-type access\n\nChange-Id: Iad7932337647274dbbbc35045b4febbbc8d9d36d\nPartially-Implements: blueprint generating-sample-files\n'}, {'number': 4, 'created': '2018-12-07 08:54:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/72fb0a4a9b6834125f46913c98f9bb65b4cf9ee9', 'message': 'Automate generation of volumes api-ref samples\n\nThis patch adds the following tests:\n\n1) Volumes\n2) volume-type access\n\nChange-Id: Iad7932337647274dbbbc35045b4febbbc8d9d36d\nPartially-Implements: blueprint generating-sample-files\n'}, {'number': 5, 'created': '2018-12-14 10:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/72bbf7bafe0254d1ec76d8e9605c561af9a1d531', 'message': 'Automate generation of volumes api-ref samples\n\nThis patch adds the following tests:\n\n1) Volumes\n2) volume-type access\n\nChange-Id: Iad7932337647274dbbbc35045b4febbbc8d9d36d\nPartially-Implements: blueprint generating-sample-files\n'}, {'number': 6, 'created': '2018-12-14 13:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ac5fbef11788bd689af459e9f33758861f43acb5', 'message': 'Automate generation of volumes api-ref samples\n\nThis patch adds the following tests:\n\n1) Volumes\n2) volume-type access\n\nChange-Id: Iad7932337647274dbbbc35045b4febbbc8d9d36d\nPartially-Implements: blueprint generating-sample-files\n'}, {'number': 7, 'created': '2018-12-14 13:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fc3bb369983d964d4babc97e36f19d1f5180b121', 'message': 'Automate generation of volumes api-ref samples\n\nThis patch adds the following tests:\n\n1) Volumes\n2) volume-type access\n\nChange-Id: Iad7932337647274dbbbc35045b4febbbc8d9d36d\nPartially-Implements: blueprint generating-sample-files\n'}, {'number': 8, 'created': '2019-01-10 11:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ac66df5ea380619ca577606af4b8e502d60854a3', 'message': 'Automate generation of volumes api-ref samples\n\nThis patch adds the following tests:\n\n1) Volumes\n2) volume-type access\n\nChange-Id: Iad7932337647274dbbbc35045b4febbbc8d9d36d\nPartially-Implements: blueprint generating-sample-files\n'}, {'number': 9, 'created': '2019-01-13 14:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3b497f1c95f63748235e7a2df13dd54d6abc8c00', 'message': 'Automate generation of volumes api-ref samples\n\nThis patch adds the following tests:\n\n1) Volumes\n2) volume-type access\n\nChange-Id: Iad7932337647274dbbbc35045b4febbbc8d9d36d\nPartially-Implements: blueprint generating-sample-files\n'}, {'number': 10, 'created': '2019-01-13 14:27:51.000000000', 'files': ['api-ref/source/v3/samples/volumes/volume-update-response.json', 'api-ref/source/v3/samples/volumes/volume-metadata-show-key-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/volumes-list-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/volumes/volume-create-request.json.tpl', 'api-ref/source/v3/samples/volumes/volume-metadata-create-request.json', 'api-ref/source/v3/samples/volume-create-response.json', 'api-ref/source/v3/samples/volumes/volumes-list-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/volumes-list-detailed-response.json.tpl', 'api-ref/source/v3/volumes-v3-volumes.inc', 'api-ref/source/v3/samples/volume_type/volume-type-access-list-response.json', 'cinder/tests/functional/api_sample_tests/samples/volume_type/volume-type-access-list-response.json.tpl', 'cinder/tests/functional/api_sample_tests/test_volume_types.py', 'api-ref/source/v3/samples/versions/version-show-response.json', 'api-ref/source/v3/samples/volumes/volume-create-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/volume-metadata-update-request.json.tpl', 'api-ref/source/v3/samples/volume-metadata-show-key-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/volume-metadata-create-request.json.tpl', 'api-ref/source/v3/samples/volume-type-access-add-request.json', 'api-ref/source/v3/samples/volume-show-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/volume-metadata-show-response.json.tpl', 'cinder/tests/functional/api_sample_tests/test_volumes.py', 'api-ref/source/v3/samples/volumes/volume-metadata-update-key-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/volume-metadata-update-key-request.json.tpl', 'api-ref/source/v3/samples/volumes/volume-metadata-update-key-request.json', 'api-ref/source/v3/samples/volumes/volume-metadata-show-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/volume-metadata-show-key-response.json.tpl', 'api-ref/source/v3/samples/volume_type/volume-type-access-add-request.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/volume-show-response.json.tpl', 'api-ref/source/v3/samples/volumes/volume-create-request.json', 'api-ref/source/v3/samples/volume-update-response.json', 'api-ref/source/v3/samples/volumes/volumes-list-detailed-response.json', 'api-ref/source/v3/volume-type-access.inc', 'api-ref/source/v3/samples/volumes/volume-update-request.json', 'api-ref/source/v3/samples/volumes/volume-show-response.json', 'api-ref/source/v3/samples/volumes/volume-metadata-update-request.json', 'cinder/tests/functional/api_sample_tests/samples/volume_type/volume-type-create-request.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/volumes/volume-metadata-create-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/volumes/volume-update-request.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/volume_type/volume-type-access-add-request.json.tpl', 'api-ref/source/v3/samples/volumes/volume-metadata-update-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/volume-create-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/volumes/volume-update-response.json.tpl', 'api-ref/source/v3/samples/volumes/volume-metadata-create-response.json', 'api-ref/source/v3/samples/volume-type-access-list-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/volume-metadata-update-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/volumes/volume-metadata-update-key-response.json.tpl'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6ba39e4a9e4e1711cc498ec70c1ffa3e589e62cb', 'message': 'Automate generation of volumes api-ref samples\n\nThis patch adds the following tests:\n\n1) Volumes\n2) volume-type access\n\nChange-Id: Iad7932337647274dbbbc35045b4febbbc8d9d36d\nPartially-Implements: blueprint generating-sample-files\n'}]",4,621478,6ba39e4a9e4e1711cc498ec70c1ffa3e589e62cb,218,40,10,27615,,,0,"Automate generation of volumes api-ref samples

This patch adds the following tests:

1) Volumes
2) volume-type access

Change-Id: Iad7932337647274dbbbc35045b4febbbc8d9d36d
Partially-Implements: blueprint generating-sample-files
",git fetch https://review.opendev.org/openstack/cinder refs/changes/78/621478/4 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/samples/volumes/volume-update-response.json', 'api-ref/source/v3/samples/volumes/volume-metadata-show-key-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/volumes-list-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/volumes/volume-create-request.json.tpl', 'api-ref/source/v3/samples/volumes/volume-metadata-create-request.json', 'api-ref/source/v3/samples/volume-create-response.json', 'api-ref/source/v3/samples/volumes/volumes-list-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/volumes-list-detailed-response.json.tpl', 'api-ref/source/v3/volumes-v3-volumes.inc', 'api-ref/source/v3/samples/volume_type/volume-type-access-list-response.json', 'cinder/tests/functional/api_sample_tests/samples/volume_type/volume-type-access-list-response.json.tpl', 'cinder/tests/functional/api_sample_tests/test_volume_types.py', 'api-ref/source/v3/samples/volumes/volume-create-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/volume-metadata-update-request.json.tpl', 'api-ref/source/v3/samples/volume-metadata-show-key-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/volume-metadata-create-request.json.tpl', 'api-ref/source/v3/samples/volume-type-access-add-request.json', 'api-ref/source/v3/samples/volume-show-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/volume-metadata-show-response.json.tpl', 'cinder/tests/functional/api_sample_tests/test_volumes.py', 'api-ref/source/v3/samples/volumes/volume-metadata-update-key-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/volume-metadata-update-key-request.json.tpl', 'api-ref/source/v3/samples/volumes/volume-metadata-update-key-request.json', 'api-ref/source/v3/samples/volumes/volume-metadata-show-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/volume-metadata-show-key-response.json.tpl', 'api-ref/source/v3/samples/volume_type/volume-type-access-add-request.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/volume-show-response.json.tpl', 'api-ref/source/v3/samples/volumes/volume-create-request.json', 'api-ref/source/v3/samples/volume-update-response.json', 'api-ref/source/v3/samples/volumes/volumes-list-detailed-response.json', 'api-ref/source/v3/samples/volumes-list-detailed-response.json', 'api-ref/source/v3/samples/volumes-list-response.json', 'api-ref/source/v3/volume-type-access.inc', 'api-ref/source/v3/samples/volumes/volume-update-request.json', 'api-ref/source/v3/samples/volumes/volume-show-response.json', 'api-ref/source/v3/samples/volumes/volume-metadata-update-request.json', 'cinder/tests/functional/api_sample_tests/samples/volume_type/volume-type-create-request.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/volumes/volume-metadata-create-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/volumes/volume-update-request.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/volume_type/volume-type-access-add-request.json.tpl', 'api-ref/source/v3/samples/volumes/volume-metadata-update-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/volume-create-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/volumes/volume-update-response.json.tpl', 'api-ref/source/v3/samples/volumes/volume-metadata-create-response.json', 'api-ref/source/v3/samples/volume-type-access-list-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/volume-metadata-update-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/volumes/volume-metadata-update-key-response.json.tpl']",47,29617be3295460d769087b22b5d10f69fea5a51c,bp/generating-sample-files,},} ,541,284
openstack%2Ftripleo-heat-templates~master~Icf55fdbe0c36d86da774b5c0d1ca206d3672c8b2,openstack/tripleo-heat-templates,master,Icf55fdbe0c36d86da774b5c0d1ca206d3672c8b2,Check if mysql bootstrap is done for root password update,ABANDONED,2019-01-30 03:16:33.000000000,2019-02-07 06:08:49.000000000,,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-30 03:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/245b3fae616120a2937668d2fb5fc210fd0b9282', 'message': ""WIP Check if mysql bootstrap is done for root password update\n\nWe don't bootstrap mysql if it's aready done i.e check for\n/var/lib/mysql/mysql in mysql_bootstrap. This check would\nfail after an overcloud delete as the mysql container may be\nstill running on the deployed servers. We should atleast use\nthe same logic when updating mysql root password, else\ndocker-puppet-mysql_init_tasks would try to use the new root\npassword and fail.\n\nThis would require mounting /var/lib/mysql in docker-puppet*,\nwhich is possibly little inefficient.\n\nChange-Id: Icf55fdbe0c36d86da774b5c0d1ca206d3672c8b2\nCloses-Bug: #1813299\n""}, {'number': 2, 'created': '2019-02-04 08:55:40.000000000', 'files': ['docker/docker-puppet.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4c2fa40dee3f5c9446637b7722448858cf288120', 'message': ""Check if mysql bootstrap is done for root password update\n\nWe don't bootstrap mysql if it's aready done i.e check for\n/var/lib/mysql/mysql in mysql_bootstrap container. This check\nwould fail after an overcloud delete as the mysql container may\nbe still running on the deployed servers. We should atleast use\nthe same logic when updating mysql root password, else\ndocker-puppet-mysql_init_tasks would try to use the new root\npassword and fail.\n\nChange-Id: Icf55fdbe0c36d86da774b5c0d1ca206d3672c8b2\nCloses-Bug: #1813299\n""}]",2,633863,4c2fa40dee3f5c9446637b7722448858cf288120,13,6,2,8833,,,0,"Check if mysql bootstrap is done for root password update

We don't bootstrap mysql if it's aready done i.e check for
/var/lib/mysql/mysql in mysql_bootstrap container. This check
would fail after an overcloud delete as the mysql container may
be still running on the deployed servers. We should atleast use
the same logic when updating mysql root password, else
docker-puppet-mysql_init_tasks would try to use the new root
password and fail.

Change-Id: Icf55fdbe0c36d86da774b5c0d1ca206d3672c8b2
Closes-Bug: #1813299
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/63/633863/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/docker-puppet.py'],1,245b3fae616120a2937668d2fb5fc210fd0b9282,bug/1813299," # if a password was changed in a config file, if [ -e /var/lib/mysql/mysql ];then '--volume', '/dev/log:/dev/log:rw', # /var/lib/mysql for root password update '--volume', '/var/lib/mysql:/var/lib/mysql:ro']"," # On stack update, if a password was changed in a config file, action=$(hiera -c /etc/puppet/hiera.yaml stack_action) if [ ""x$action"" = ""xUPDATE"" ];then '--volume', '/dev/log:/dev/log:rw']",6,4
openstack%2Ftacker~master~I621b71d4af96a4bfa0f27442efe4d302c5afa96d,openstack/tacker,master,I621b71d4af96a4bfa0f27442efe4d302c5afa96d,Parameter changed from mgmt_url to mgmt_ip_address,MERGED,2017-08-03 13:10:29.000000000,2019-02-07 05:35:28.000000000,2019-02-07 05:35:28.000000000,"[{'_account_id': 3}, {'_account_id': 16237}, {'_account_id': 18955}, {'_account_id': 19316}, {'_account_id': 19644}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 27078}]","[{'number': 1, 'created': '2017-08-03 13:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/159d1411ef4759e28e64bd58edf81f5d1aa0fc70', 'message': 'Parameter changed from mgmt_url to mgmt_ip_address\n\nAt present the VNF mgmt IP address is assigned to parameter name\nof ""mgmt_url"". In this patch it is changed to ""mgmt_ip_address""\nwhich will be relevant one\n\nChange-Id: I621b71d4af96a4bfa0f27442efe4d302c5afa96d\nPartial-Bug: #1648327\n'}, {'number': 2, 'created': '2017-08-03 15:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/7b6d9e06017bdff5d5bbfa07a5bc8f662427160a', 'message': 'Parameter changed from mgmt_url to mgmt_ip_address\n\nAt present the VNF mgmt IP address is assigned to parameter name\nof ""mgmt_url"". In this patch it is changed to ""mgmt_ip_address""\nwhich will be relevant one\n\nChange-Id: I621b71d4af96a4bfa0f27442efe4d302c5afa96d\nPartial-Bug: #1648327\n'}, {'number': 3, 'created': '2017-08-04 15:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/98fedec915118f043ccb18bd7489d4e46301a21c', 'message': 'Parameter changed from mgmt_url to mgmt_ip_address\n\nAt present the VNF mgmt IP address is assigned to parameter name\nof ""mgmt_url"". In this patch it is changed to ""mgmt_ip_address""\nwhich will be relevant one\n\nChange-Id: I621b71d4af96a4bfa0f27442efe4d302c5afa96d\nPartial-Bug: #1648327\n'}, {'number': 4, 'created': '2017-08-05 01:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/85bf2aec47a80f1a7e1c4952c485f794c53ebbae', 'message': 'Parameter changed from mgmt_url to mgmt_ip_address\n\nAt present the VNF mgmt IP address is assigned to parameter name\nof ""mgmt_url"". In this patch it is changed to ""mgmt_ip_address""\nwhich will be relevant one\n\nChange-Id: I621b71d4af96a4bfa0f27442efe4d302c5afa96d\nPartial-Bug: #1648327\n'}, {'number': 5, 'created': '2017-08-15 10:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/e0cbe244b2ed5a4c2fff76fe71ea6553dc0ce258', 'message': 'Parameter changed from mgmt_url to mgmt_ip_address\n\nAt present the VNF mgmt IP address is assigned to parameter name\nof ""mgmt_url"". In this patch it is changed to ""mgmt_ip_address""\nwhich will be relevant one\n\nChange-Id: I621b71d4af96a4bfa0f27442efe4d302c5afa96d\nPartial-Bug: #1648327\n'}, {'number': 6, 'created': '2017-09-05 04:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/a1875251250835f3677921d39b37e083287a2e30', 'message': 'Parameter changed from mgmt_url to mgmt_ip_address\n\nAt present the VNF mgmt IP address is assigned to parameter name\nof ""mgmt_url"". In this patch it is changed to ""mgmt_ip_address""\nwhich will be relevant one\n\nChange-Id: I621b71d4af96a4bfa0f27442efe4d302c5afa96d\nPartial-Bug: #1648327\n'}, {'number': 7, 'created': '2017-11-12 11:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/a76ce5f7e10c8e47d88566d2de31601d1e0b0c0e', 'message': 'Parameter changed from mgmt_url to mgmt_ip_address\n\nAt present the VNF mgmt IP address is assigned to parameter name\nof ""mgmt_url"". In this patch it is changed to ""mgmt_ip_address""\nwhich will be relevant one\n\nChange-Id: I621b71d4af96a4bfa0f27442efe4d302c5afa96d\nPartial-Bug: #1648327\n'}, {'number': 8, 'created': '2019-01-24 15:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/f8c0fe9f234bf02b907099cc49369cb4994a08bd', 'message': 'Parameter changed from mgmt_url to mgmt_ip_address\n\nAt present the VNF mgmt IP address is assigned to parameter name\nof ""mgmt_url"". In this patch it is changed to ""mgmt_ip_address""\nwhich will be relevant one\n\nCo-Authored-By: Dharmendra Kushwaha <dharmendra.kushwaha@india.nec.com>\n\nChange-Id: I621b71d4af96a4bfa0f27442efe4d302c5afa96d\nPartial-Bug: #1648327\n'}, {'number': 9, 'created': '2019-01-28 12:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/21139df66a9a21e78565670796051be9d1040b03', 'message': 'Parameter changed from mgmt_url to mgmt_ip_address\n\nAt present the VNF mgmt IP address is assigned to parameter name\nof ""mgmt_url"". In this patch it is changed to ""mgmt_ip_address""\nwhich will be relevant one\n\nCo-Authored-By: Dharmendra Kushwaha <dharmendra.kushwaha@india.nec.com>\n\nChange-Id: I621b71d4af96a4bfa0f27442efe4d302c5afa96d\nPartial-Bug: #1648327\n'}, {'number': 10, 'created': '2019-01-31 10:08:41.000000000', 'files': ['tacker/tests/unit/nfvo/drivers/workflow/test_workflow_generator.py', 'tacker/tests/functional/vnfm/test_tosca_vnf_scale.py', 'tacker/extensions/vnfm.py', 'api-ref/source/v1/samples/nss/nss-list-response.json', 'api-ref/source/v1/samples/nss/nss-show-response.json', 'tacker/tests/functional/vnfm/test_tosca_vnf_floatingip.py', 'api-ref/source/v1/samples/vnfs/vnfs-create-response.json', 'tacker/tests/functional/vnfm/test_vnf.py', 'tacker/tests/functional/vnfm/test_tosca_vnf.py', 'tacker/vnfm/plugin.py', 'samples/mistral/workflows/create_vnf.yaml', 'tacker/db/nfvo/ns_db.py', 'tacker/vnfm/mgmt_drivers/abstract_driver.py', 'doc/source/contributor/encrypt_vim_auth_with_barbican.rst', 'tacker/tests/functional/vnfm/test_tosca_vnf_alarm.py', 'api-ref/source/v1/nss.inc', 'doc/source/user/multisite_vim_usage_guide.rst', 'api-ref/source/v1/parameters.yaml', 'tacker/db/migration/alembic_migrations/versions/HEAD', 'tacker/tests/functional/base.py', 'tacker/tests/functional/vnfm/test_vnfm_param.py', 'api-ref/source/v1/samples/vnfs/vnfs-update-response.json', 'api-ref/source/v1/samples/vnfs/vnfs-show-response.json', 'tacker/tests/functional/vnfm/test_tosca_vnf_multiple_vdu.py', 'api-ref/source/v1/samples/nss/nss-create-response.json', 'tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack.py', 'tacker/vnfm/infra_drivers/kubernetes/kubernetes_driver.py', 'doc/source/user/containerized_vnf_usage_guide.rst', 'tacker/db/migration/alembic_migrations/versions/cd04a8335c18_mgmt_url_to_mgmt_ip_address.py', 'api-ref/source/v1/samples/nss/nss-inline-create-response.json', 'tacker/vnfm/mgmt_drivers/noop.py', 'tacker/tests/functional/vnfm/test_tosca_vnf_block_storage.py', 'tacker/vnfm/mgmt_drivers/openwrt/openwrt.py', 'tacker/extensions/nfvo.py', 'doc/source/reference/mistral_workflows_usage_guide.rst', 'tacker/tests/functional/nfvo/test_nfvo.py', 'tacker/tests/unit/vnfm/policy_actions/vdu_autoheal/test_vdu_autoheal.py', 'tacker/tests/unit/db/utils.py', 'tacker/vnfm/monitor.py', 'tacker/tests/unit/vnfm/test_plugin.py', 'doc/source/contributor/event_logging.rst', 'tacker/vnfm/infra_drivers/openstack/openstack.py', 'tacker/tests/unit/vnfm/test_monitor.py', 'tacker/nfvo/drivers/workflow/workflow_generator.py', 'api-ref/source/v1/samples/vnfs/vnfs-list-response.json', 'doc/source/user/vnffg_usage_guide.rst', 'api-ref/source/v1/vnfs.inc', 'tacker/tests/functional/vnfm/test_tosca_vnfc.py', 'tacker/db/vnfm/vnfm_db.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/5a1e4a1ccb6eca7d1251da62db8e9a6e5951e113', 'message': 'Parameter changed from mgmt_url to mgmt_ip_address\n\nAt present the VNF mgmt IP address is assigned to parameter name\nof ""mgmt_url"". In this patch it is changed to ""mgmt_ip_address""\nwhich will be relevant one\n\nCo-Authored-By: Dharmendra Kushwaha <dharmendra.kushwaha@india.nec.com>\n\nChange-Id: I621b71d4af96a4bfa0f27442efe4d302c5afa96d\nPartial-Bug: #1648327\n'}]",13,490471,5a1e4a1ccb6eca7d1251da62db8e9a6e5951e113,37,9,10,16237,,,0,"Parameter changed from mgmt_url to mgmt_ip_address

At present the VNF mgmt IP address is assigned to parameter name
of ""mgmt_url"". In this patch it is changed to ""mgmt_ip_address""
which will be relevant one

Co-Authored-By: Dharmendra Kushwaha <dharmendra.kushwaha@india.nec.com>

Change-Id: I621b71d4af96a4bfa0f27442efe4d302c5afa96d
Partial-Bug: #1648327
",git fetch https://review.opendev.org/openstack/tacker refs/changes/71/490471/10 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/tests/unit/nfvo/drivers/workflow/test_workflow_generator.py', 'tacker/tests/functional/vnfm/test_tosca_vnf_scale.py', 'tacker/db/migration/alembic_migrations/versions/0ad3bbce1c18_create_of_network_service_tables.py', 'tacker/db/migration/alembic_migrations/versions/1c6b0d82afcd_servicevm_framework.py', 'tacker/extensions/vnfm.py', 'api-ref/source/v1/samples/nss/nss-inline-create-response.json', 'api-ref/source/v1/samples/nss/nss-list-response.json', 'api-ref/source/v1/samples/nss/nss-show-response.json', 'tacker/vnfm/mgmt_drivers/noop.py', 'tacker/tests/functional/vnfm/test_tosca_vnf_floatingip.py', 'tacker/vnfm/mgmt_drivers/openwrt/openwrt.py', 'api-ref/source/v1/samples/vnfs/vnfs-create-response.json', 'tacker/extensions/nfvo.py', 'tacker/tests/functional/vnfm/test_vnf.py', 'doc/source/reference/mistral_workflows_usage_guide.rst', 'tacker/tests/functional/vnfm/test_tosca_vnf.py', 'tacker/vnfm/plugin.py', 'tacker/tests/functional/nfvo/test_nfvo.py', 'samples/mistral/workflows/create_vnf.yaml', 'tacker/db/nfvo/ns_db.py', 'tacker/vnfm/mgmt_drivers/abstract_driver.py', 'tacker/tests/unit/db/utils.py', 'doc/source/contributor/encrypt_vim_auth_with_barbican.rst', 'tacker/tests/functional/vnfm/test_tosca_vnf_alarm.py', 'tacker/vnfm/monitor.py', 'tacker/tests/unit/vnfm/test_plugin.py', 'api-ref/source/v1/nss.inc', 'doc/source/user/multisite_vim_usage_guide.rst', 'api-ref/source/v1/parameters.yaml', 'tacker/tests/functional/base.py', 'tacker/tests/functional/vnfm/test_vnfm_param.py', 'tacker/vnfm/infra_drivers/openstack/openstack.py', 'doc/source/contributor/api/mano_api.rst', 'tacker/tests/unit/vnfm/test_monitor.py', 'api-ref/source/v1/samples/vnfs/vnfs-update-response.json', 'tacker/nfvo/drivers/workflow/workflow_generator.py', 'api-ref/source/v1/samples/vnfs/vnfs-show-response.json', 'api-ref/source/v1/samples/vnfs/vnfs-list-response.json', 'doc/source/user/vnffg_usage_guide.rst', 'tacker/tests/functional/vnfm/test_tosca_vnf_multiple_vdu.py', 'api-ref/source/v1/vnfs.inc', 'api-ref/source/v1/samples/nss/nss-create-response.json', 'tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack.py', 'tacker/tests/functional/vnfm/test_tosca_vnfc.py', 'tacker/db/migration/alembic_migrations/versions/12a57080b277_add_service_db.py', 'tacker/db/vnfm/vnfm_db.py']",46,159d1411ef4759e28e64bd58edf81f5d1aa0fc70,bug/1648327," # e.g. (driver, mgmt_ip_address) = (ssh, ip address), ... mgmt_ip_address = sa.Column(sa.String(255), nullable=True) 'mgmt_ip_address', 'error_reason', 'created_at', 'updated_at') mgmt_ip_address, vnf_dict): query.update({'instance_id': instance_id, 'mgmt_ip_address': mgmt_ip_address}) ""Mgmt URL set: %s"") % (instance_id, mgmt_ip_address) mgmt_ip_address=None): if mgmt_ip_address: vnf_db.update({'mgmt_ip_address': mgmt_ip_address})"," # e.g. (driver, mgmt_url) = (ssh, ip address), ... mgmt_url = sa.Column(sa.String(255), nullable=True) 'mgmt_url', 'error_reason', 'created_at', 'updated_at') mgmt_url, vnf_dict): query.update({'instance_id': instance_id, 'mgmt_url': mgmt_url}) ""Mgmt URL set: %s"") % (instance_id, mgmt_url) mgmt_url=None): if mgmt_url: vnf_db.update({'mgmt_url': mgmt_url})",123,123
openstack%2Fpython-tackerclient~master~I45dfe784e20f96cff12e346d34b1cce856a564db,openstack/python-tackerclient,master,I45dfe784e20f96cff12e346d34b1cce856a564db,Parameter changed from mgmt_url to mgmt_ip_address,MERGED,2019-02-04 09:20:50.000000000,2019-02-07 05:33:20.000000000,2019-02-07 05:33:20.000000000,"[{'_account_id': 19644}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 27078}]","[{'number': 1, 'created': '2019-02-04 09:20:50.000000000', 'files': ['tackerclient/osc/v1/nfvo/ns.py', 'tackerclient/tacker/v1_0/vnfm/vnf.py', 'tackerclient/osc/v1/vnfm/vnf.py', 'tackerclient/tacker/v1_0/nfvo/ns.py', 'tackerclient/tacker/v1_0/nfvo/vnfcluster.py'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/1fdf521ba9feb13bc402046d8963bd2d186915e7', 'message': 'Parameter changed from mgmt_url to mgmt_ip_address\n\nIn continuation of [1], fixing the same in tackerclient.\n[1]: https://review.openstack.org/#/c/490471\n\nChange-Id: I45dfe784e20f96cff12e346d34b1cce856a564db\n'}]",0,634651,1fdf521ba9feb13bc402046d8963bd2d186915e7,8,5,1,18955,,,0,"Parameter changed from mgmt_url to mgmt_ip_address

In continuation of [1], fixing the same in tackerclient.
[1]: https://review.openstack.org/#/c/490471

Change-Id: I45dfe784e20f96cff12e346d34b1cce856a564db
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/51/634651/1 && git format-patch -1 --stdout FETCH_HEAD,"['tackerclient/osc/v1/nfvo/ns.py', 'tackerclient/tacker/v1_0/vnfm/vnf.py', 'tackerclient/osc/v1/vnfm/vnf.py', 'tackerclient/tacker/v1_0/nfvo/ns.py', 'tackerclient/tacker/v1_0/nfvo/vnfcluster.py']",5,1fdf521ba9feb13bc402046d8963bd2d186915e7,," 'vim_id', 'mgmt_ip_address', 'lb_member_id']"," 'vim_id', 'mgmt_url', 'lb_member_id']",5,5
openstack%2Fironic~master~Iafda73900b9ebca34642e6340a114f1fa7aff86d,openstack/ironic,master,Iafda73900b9ebca34642e6340a114f1fa7aff86d,[docs] OOB RAID implementation for ilo5 based HPE Proliant servers,MERGED,2019-01-17 09:46:47.000000000,2019-02-07 05:30:01.000000000,2019-02-07 05:30:01.000000000,"[{'_account_id': 10379}, {'_account_id': 11076}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 18320}, {'_account_id': 19339}, {'_account_id': 22271}, {'_account_id': 22348}, {'_account_id': 29745}]","[{'number': 1, 'created': '2019-01-17 09:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e9d704937e40435e8ebec1df3fecfa2fbdb10beb', 'message': '[docs] OOB RAID implementation for ilo5 based HPE Proliant servers\n\nAdds documentation for OOB RAID implementation using new hardware\ntype ``ilo5``.\n\nChange-Id: Iafda73900b9ebca34642e6340a114f1fa7aff86d\nStory: 2003349\nTask: 24391\n'}, {'number': 2, 'created': '2019-01-18 09:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/24261f30e5becb673c88cc7b621cafe49e1b02c5', 'message': '[docs] OOB RAID implementation for ilo5 based HPE Proliant servers\n\nAdds documentation for OOB RAID implementation using new hardware\ntype ``ilo5``.\n\nChange-Id: Iafda73900b9ebca34642e6340a114f1fa7aff86d\nStory: 2003349\nTask: 24391\n'}, {'number': 3, 'created': '2019-01-30 05:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2f6da71c7220088bb5ead71836c090bde7a91449', 'message': '[docs] OOB RAID implementation for ilo5 based HPE Proliant servers\n\nAdds documentation for OOB RAID implementation using new hardware\ntype ``ilo5``.\n\nChange-Id: Iafda73900b9ebca34642e6340a114f1fa7aff86d\nStory: 2003349\nTask: 24391\n'}, {'number': 4, 'created': '2019-02-01 05:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/77b90d556db6a2adc2b3937f4370e200e485a4b9', 'message': '[docs] OOB RAID implementation for ilo5 based HPE Proliant servers\n\nAdds documentation for OOB RAID implementation using new hardware\ntype ``ilo5``.\n\nChange-Id: Iafda73900b9ebca34642e6340a114f1fa7aff86d\nStory: 2003349\nTask: 24391\n'}, {'number': 5, 'created': '2019-02-01 08:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b3bcabfc88e3bb814c57d03985e8b2857e2efec5', 'message': '[docs] OOB RAID implementation for ilo5 based HPE Proliant servers\n\nAdds documentation for OOB RAID implementation using new hardware\ntype ``ilo5``.\n\nChange-Id: Iafda73900b9ebca34642e6340a114f1fa7aff86d\nStory: 2003349\nTask: 24391\n'}, {'number': 6, 'created': '2019-02-01 08:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/54b175c35e0f2292d231c1fbd5ce95ad0fac1130', 'message': '[docs] OOB RAID implementation for ilo5 based HPE Proliant servers\n\nAdds documentation for OOB RAID implementation using new hardware\ntype ``ilo5``.\n\nChange-Id: Iafda73900b9ebca34642e6340a114f1fa7aff86d\nStory: 2003349\nTask: 24391\n'}, {'number': 7, 'created': '2019-02-05 06:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/92c1a8a98b81c33dba2d6bda0c985c0f1568718d', 'message': '[docs] OOB RAID implementation for ilo5 based HPE Proliant servers\n\nAdds documentation for OOB RAID implementation using new hardware\ntype ``ilo5``.\n\nChange-Id: Iafda73900b9ebca34642e6340a114f1fa7aff86d\nStory: 2003349\nTask: 24391\n'}, {'number': 8, 'created': '2019-02-05 10:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6d12ffacdafeed6bdbd20659cbf2c1faa4a3b621', 'message': '[docs] OOB RAID implementation for ilo5 based HPE Proliant servers\n\nAdds documentation for OOB RAID implementation using new hardware\ntype ``ilo5``.\n\nChange-Id: Iafda73900b9ebca34642e6340a114f1fa7aff86d\nStory: 2003349\nTask: 24391\n'}, {'number': 9, 'created': '2019-02-06 09:29:38.000000000', 'files': ['doc/source/admin/drivers/ilo.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/903f796c98327e1882032d68376298288dabd6c9', 'message': '[docs] OOB RAID implementation for ilo5 based HPE Proliant servers\n\nAdds documentation for OOB RAID implementation using new hardware\ntype ``ilo5``.\n\nChange-Id: Iafda73900b9ebca34642e6340a114f1fa7aff86d\nStory: 2003349\nTask: 24391\n'}]",50,631458,903f796c98327e1882032d68376298288dabd6c9,55,10,9,22271,,,0,"[docs] OOB RAID implementation for ilo5 based HPE Proliant servers

Adds documentation for OOB RAID implementation using new hardware
type ``ilo5``.

Change-Id: Iafda73900b9ebca34642e6340a114f1fa7aff86d
Story: 2003349
Task: 24391
",git fetch https://review.opendev.org/openstack/ironic refs/changes/58/631458/7 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/drivers/ilo.rst'],1,e9d704937e40435e8ebec1df3fecfa2fbdb10beb,,"ProLiant hardware is primarily supported by the ``ilo`` hardware type. ``ilo5`` hardware type is only supported on ProLiant Gen10 and greater systems. Bothto enable the ``ilo`` and ``ilo5`` hardware type, see :ref:`enable-hardware-types`.The hardware type ``ilo5`` supports following HPE server features: * `Out of Band RAID Support`_ The ``ilo5`` hardware type apart from ``ilo`` hardware type all supported interfaces supports following hardware interfaces more: * raid Supports ``ilo5`` and ``no-raid``. The default is ``ilo5``. They can be enabled by using the ``[DEFAULT]enabled_raid_interfaces`` option in ``ironic.conf`` as given below: .. code-block:: ini [DEFAULT] enabled_hardware_types = ilo5 enabled_raid_interfaces = ilo5,no-raid ``ilo`` and ``ilo5`` hardware type supports all standard ``deploy`` and ``network`` interface implementations, see :ref:`enable-hardware-interfaces` for details.The following command can be used to enroll a ProLiant node with ``ilo5`` hardware type: .. code-block:: console openstack baremetal node create --os-baremetal-api-version=1.38 \ --driver ilo5 \ --deploy-interface direct \ --raid-interface ilo5 \ --rescue-interface agent \ --driver-info ilo_address=<ilo-ip-address> \ --driver-info ilo_username=<ilo-username> \ --driver-info ilo_password=<ilo-password> \ --driver-info ilo_deploy_iso=<glance-uuid-of-deploy-iso> \ --driver-info ilo_rescue_iso=<glance-uuid-of-rescue-iso> * Each node is configured for ``ilo`` and ``ilo5`` hardware type by setting the following ironic node object's properties in ``driver_info``: version required is 2.7.0:: $ pip install ""proliantutils>=2.7.0""Out of Band RAID Support ^^^^^^^^^^^^^^^^^^^^^^^^ With Gen10 HPE Proliant servers and greater the driver supports firmware based RAID configuration as a clean step. This feature requires the node to be configured to ``ilo5`` hardware type and its raid interface to be ``ilo5``. Bare Metal service update node with following information after successful configuration of RAID: * Node ``properties/local_gb`` is set to the size of root volume. * Node ``properties/root_device`` is filled with ``wwn`` details of root volume. It is used by iLO driver as root device hint during provisioning. * The value of raid level of root volume is added as ``raid_level`` capability to the node's ``capabilities`` parameter within ``properties`` field. The operator can specify the ``raid_level`` capability in nova flavor for node to be selected for scheduling:: nova flavor-key ironic-test set capabilities:raid_level=""10"" nova boot --flavor ironic-test --image test-image instance-1 Supported raid level for ``ilo5`` hardware type are: * 0, 1, 5, 6, 10, 50, 60 ","ProLiant hardware is primarily supported by the ``ilo`` hardware type. Thisto enable the ``ilo`` hardware type, see :ref:`enable-hardware-types`.``ilo`` hardware type supports all standard ``deploy`` and ``network`` interface implementations, see :ref:`enable-hardware-interfaces` for details.* Each node is configured for ``ilo`` hardware type by setting the following ironic node object's properties in ``driver_info``: version required is 2.5.0:: $ pip install ""proliantutils>=2.5.0""",72,8
openstack%2Freleases~master~I8cdbd76b30876c5c993f0a2820398cb826230d54,openstack/releases,master,I8cdbd76b30876c5c993f0a2820398cb826230d54,Release python-cyborgclient 0.3.0,MERGED,2019-02-06 21:51:01.000000000,2019-02-07 05:27:34.000000000,2019-02-07 05:27:34.000000000,"[{'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-06 21:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/1d2341616a540afd309f0608a9ae46ca82d0918d', 'message': 'created milestone 1 for stein\n\nChange-Id: I8cdbd76b30876c5c993f0a2820398cb826230d54\n'}, {'number': 2, 'created': '2019-02-06 21:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b3b214b44e380e0eb8fc4297afb5cf12282d0d7c', 'message': 'Release python-cyborgclient 0.1.0\n\nChange-Id: I8cdbd76b30876c5c993f0a2820398cb826230d54\n'}, {'number': 3, 'created': '2019-02-06 22:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/bc2e394eb0893a02cca825746b1c6954d512dd24', 'message': 'created milestone 1 for stein\n\nChange-Id: I8cdbd76b30876c5c993f0a2820398cb826230d54\n'}, {'number': 4, 'created': '2019-02-06 22:38:10.000000000', 'files': ['deliverables/stein/python-cyborgclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d3b4b9051585bb6447010bcf072ff1146c7050ac', 'message': 'Release python-cyborgclient 0.3.0\n\nChange-Id: I8cdbd76b30876c5c993f0a2820398cb826230d54\n'}]",1,635322,d3b4b9051585bb6447010bcf072ff1146c7050ac,14,3,4,27458,,,0,"Release python-cyborgclient 0.3.0

Change-Id: I8cdbd76b30876c5c993f0a2820398cb826230d54
",git fetch https://review.opendev.org/openstack/releases refs/changes/22/635322/4 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/python-cyborgclient.yaml'],1,1d2341616a540afd309f0608a9ae46ca82d0918d,,releases: - projects: - hash: dfe15c51b7d1660b3bad055b067e4c2f4a1af2fe repo: openstack/python-cyborgclient version: 0.1.0,,5,0
openstack%2Ftripleo-common~master~I48e23c8078847c9d69eeda64fad3f76f9d02dc9d,openstack/tripleo-common,master,I48e23c8078847c9d69eeda64fad3f76f9d02dc9d,Export images to be served by httpd,MERGED,2018-12-05 00:44:23.000000000,2019-02-07 04:52:58.000000000,2019-02-07 04:52:57.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-05 00:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/10a765b54cf649100101a7ca13b46cd98755996f', 'message': 'WIP Export images to be served by httpd\n\nThis change detects whether a registry supports the push API, and if\nit does not then exports the images to /var/lib/tripleo-image-serve to\nbe served by Apache.\n\nThe httpd conf to replicate the push portion of the registry API is as\nfollows:\n\nListen 8787\n<VirtualHost *:8787>\n    DocumentRoot /var/lib/tripleo-image-serve\n\n    <Directory /var/lib/tripleo-image-serve>\n        # This assumes a file exists containing {} at\n        # /var/lib/tripleo-image-serve/index.json\n        DirectoryIndex index.json\n\n        Options +MultiViews\n        AllowOverride FileInfo\n        Require all granted\n\n        Header set Docker-Distribution-Api-Version registry/2.0\n    </Directory>\n\n    <LocationMatch ""^/v2/.*/.*/blobs/sha256:.*$"">\n        SetEnvIf Request_URI ""sha256:(.*)$"" digest=sha256:$1\n        Header set Docker-Content-Digest ""%{digest}e""\n        Header set ETag ""%{digest}e""\n        Header set Cache-Control ""max-age=31536000""\n        Header set Content-Type ""application/octet-stream""\n    </LocationMatch>\n</VirtualHost>\n\nTODO\n- unit tests\n- deploy and configure a container image running only httpd\n- cross-repo mount implementation\n\nChange-Id: I48e23c8078847c9d69eeda64fad3f76f9d02dc9d\n'}, {'number': 2, 'created': '2018-12-05 04:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ee09dfc48fb21275989d9c7dca0ee9562acf3be3', 'message': 'WIP Export images to be served by httpd\n\nThis change detects whether a registry supports the push API, and if\nit does not then exports the images to /var/lib/tripleo-image-serve to\nbe served by Apache.\n\nThe httpd conf to replicate the push portion of the registry API is as\nfollows:\n\nListen 8787\n<VirtualHost *:8787>\n    DocumentRoot /var/lib/tripleo-image-serve\n\n    <Directory /var/lib/tripleo-image-serve>\n        # This assumes a file exists containing {} at\n        # /var/lib/tripleo-image-serve/index.json\n        DirectoryIndex index.json\n\n        Options +MultiViews\n        AllowOverride FileInfo\n        Require all granted\n\n        Header set Docker-Distribution-Api-Version registry/2.0\n    </Directory>\n\n    <LocationMatch ""^/v2/.*/.*/blobs/sha256:.*$"">\n        SetEnvIf Request_URI ""sha256:(.*)$"" digest=sha256:$1\n        Header set Docker-Content-Digest ""%{digest}e""\n        Header set ETag ""%{digest}e""\n        Header set Cache-Control ""max-age=31536000""\n        Header set Content-Type ""application/octet-stream""\n    </LocationMatch>\n</VirtualHost>\n\nTODO\n- unit tests\n- deploy and configure a container image running only httpd\n\nChange-Id: I48e23c8078847c9d69eeda64fad3f76f9d02dc9d\n'}, {'number': 3, 'created': '2018-12-05 22:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e6c3f94e7dcd52ed46ab0d9f816e53fbc8c6b44c', 'message': 'WIP Export images to be served by httpd\n\nThis change detects whether a registry supports the push API, and if\nit does not then exports the images to /var/lib/tripleo-image-serve to\nbe served by Apache.\n\nThe httpd conf to replicate the push portion of the registry API is as\nfollows:\n\nListen 8787\n<VirtualHost *:8787>\n    DocumentRoot /var/lib/tripleo-image-serve\n\n    <Directory /var/lib/tripleo-image-serve>\n        # This assumes a file exists containing {} at\n        # /var/lib/tripleo-image-serve/index.json\n        DirectoryIndex index.json\n\n        Options +MultiViews\n        AllowOverride FileInfo\n        Require all granted\n\n        Header set Docker-Distribution-Api-Version registry/2.0\n    </Directory>\n\n    <LocationMatch ""^/v2/.*/.*/blobs/sha256:.*$"">\n        SetEnvIf Request_URI ""sha256:(.*)$"" digest=sha256:$1\n        Header set Docker-Content-Digest ""%{digest}e""\n        Header set ETag ""%{digest}e""\n        Header set Cache-Control ""max-age=31536000""\n        Header set Content-Type ""application/octet-stream""\n    </LocationMatch>\n</VirtualHost>\n\nTODO\n- unit tests\n- deploy and configure a container image running only httpd\n\nBlueprint: podman-support\nChange-Id: I48e23c8078847c9d69eeda64fad3f76f9d02dc9d\n'}, {'number': 4, 'created': '2018-12-10 02:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cd3cd956701715683690fbe8981d1920934d56b5', 'message': 'WIP Export images to be served by httpd\n\nThis change detects whether a registry supports the push API, and if\nit does not then exports the images to /var/lib/tripleo-image-serve to\nbe served by Apache.\n\nThe httpd conf to replicate the push portion of the registry API is as\nfollows:\n\nListen 8787\n<VirtualHost *:8787>\n    DocumentRoot /var/lib/tripleo-image-serve\n\n    <Directory /var/lib/tripleo-image-serve>\n        # This assumes a file exists containing {} at\n        # /var/lib/tripleo-image-serve/index.json\n        DirectoryIndex index.json\n\n        Options +MultiViews\n        AllowOverride FileInfo\n        Require all granted\n\n        Header set Docker-Distribution-Api-Version registry/2.0\n    </Directory>\n\n    <LocationMatch ""^/v2/.*/.*/blobs/sha256:.*$"">\n        SetEnvIf Request_URI ""sha256:(.*)$"" digest=sha256:$1\n        Header set Docker-Content-Digest ""%{digest}e""\n        Header set ETag ""%{digest}e""\n        Header set Cache-Control ""max-age=31536000""\n        Header set Content-Type ""application/octet-stream""\n    </LocationMatch>\n</VirtualHost>\n\nTODO\n- unit tests\n- deploy and configure a container image running only httpd\n\nBlueprint: podman-support\nChange-Id: I48e23c8078847c9d69eeda64fad3f76f9d02dc9d\n'}, {'number': 5, 'created': '2018-12-11 20:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/231b11bed20e328683f3ccae7aacd64c0d57b192', 'message': 'WIP Export images to be served by httpd\n\nThis change detects whether a registry supports the push API, and if\nit does not then exports the images to /var/lib/tripleo-image-serve to\nbe served by Apache.\n\nThe httpd conf to replicate the push portion of the registry API is as\nfollows:\n\nListen 8787\n<VirtualHost *:8787>\n    DocumentRoot /var/lib/tripleo-image-serve\n\n    <Directory /var/lib/tripleo-image-serve>\n        # This assumes a file exists containing {} at\n        # /var/lib/tripleo-image-serve/index.json\n        DirectoryIndex index.json\n\n        Options +MultiViews\n        AllowOverride FileInfo\n        Require all granted\n\n        Header set Docker-Distribution-Api-Version registry/2.0\n    </Directory>\n\n    <LocationMatch ""^/v2/.*/.*/blobs/sha256:.*$"">\n        SetEnvIf Request_URI ""sha256:(.*)$"" digest=sha256:$1\n        Header set Docker-Content-Digest ""%{digest}e""\n        Header set ETag ""%{digest}e""\n        Header set Cache-Control ""max-age=31536000""\n        Header set Content-Type ""application/octet-stream""\n    </LocationMatch>\n</VirtualHost>\n\nTODO\n- unit tests\n- deploy and configure a container image running only httpd\n\nBlueprint: podman-support\nChange-Id: I48e23c8078847c9d69eeda64fad3f76f9d02dc9d\n'}, {'number': 6, 'created': '2018-12-12 23:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b67072f3f1fa4d63e2103799af337be7763a5d38', 'message': 'WIP Export images to be served by httpd\n\nThis change detects whether a registry supports the push API, and if\nit does not then exports the images to /var/lib/tripleo-image-serve to\nbe served by Apache.\n\nThe httpd conf to replicate the push portion of the registry API is as\nfollows:\n\nListen 8787\n<VirtualHost *:8787>\n    DocumentRoot /var/lib/tripleo-image-serve\n\n    <Directory /var/lib/tripleo-image-serve>\n        # This assumes a file exists containing {} at\n        # /var/lib/tripleo-image-serve/index.json\n        DirectoryIndex index.json\n\n        Options +MultiViews\n        AllowOverride FileInfo\n        Require all granted\n\n        Header set Docker-Distribution-Api-Version registry/2.0\n    </Directory>\n\n    <LocationMatch ""^/v2/.*/.*/blobs/sha256:.*$"">\n        SetEnvIf Request_URI ""sha256:(.*)$"" digest=sha256:$1\n        Header set Docker-Content-Digest ""%{digest}e""\n        Header set ETag ""%{digest}e""\n        Header set Cache-Control ""max-age=31536000""\n        Header set Content-Type ""application/octet-stream""\n    </LocationMatch>\n</VirtualHost>\n\nTODO\n- unit tests\n- deploy and configure a container image running only httpd\n\nBlueprint: podman-support\nChange-Id: I48e23c8078847c9d69eeda64fad3f76f9d02dc9d\n'}, {'number': 7, 'created': '2018-12-14 01:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/43ee7733c29440a002573c380beec7187618fb70', 'message': 'WIP Export images to be served by httpd\n\nThis change detects whether a registry supports the push API, and if\nit does not then exports the images to /var/lib/tripleo-image-serve to\nbe served by Apache.\n\nThe httpd conf to replicate the push portion of the registry API is as\nfollows:\n\nListen 8787\n<VirtualHost *:8787>\n    DocumentRoot /var/lib/tripleo-image-serve\n\n    <Directory /var/lib/tripleo-image-serve>\n        # This assumes a file exists containing {} at\n        # /var/lib/tripleo-image-serve/index.json\n        DirectoryIndex index.json\n\n        Options +MultiViews\n        AllowOverride FileInfo\n        Require all granted\n\n        Header set Docker-Distribution-Api-Version registry/2.0\n    </Directory>\n\n    <LocationMatch ""^/v2/.*/.*/blobs/sha256:.*$"">\n        SetEnvIf Request_URI ""sha256:(.*)$"" digest=sha256:$1\n        Header set Docker-Content-Digest ""%{digest}e""\n        Header set ETag ""%{digest}e""\n        Header set Cache-Control ""max-age=31536000""\n        Header set Content-Type ""application/octet-stream""\n    </LocationMatch>\n</VirtualHost>\n\nTODO\n- unit tests\n- deploy and configure a container image running only httpd\n\nBlueprint: podman-support\nChange-Id: I48e23c8078847c9d69eeda64fad3f76f9d02dc9d\n'}, {'number': 8, 'created': '2018-12-14 03:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c29f950b2a22621a0dd8b8574021b095b7a40787', 'message': 'WIP Export images to be served by httpd\n\nThis change detects whether a registry supports the push API, and if\nit does not then exports the images to /var/lib/image-serve to\nbe served by Apache.\n\nTODO\n- unit tests\n\nBlueprint: podman-support\nChange-Id: I48e23c8078847c9d69eeda64fad3f76f9d02dc9d\n'}, {'number': 9, 'created': '2018-12-18 20:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/246070e73ae59d9ba7c0dfa3ab29b668fce0f9c7', 'message': 'Export images to be served by httpd\n\nThis change detects whether a registry supports the push API, and if\nit does not then exports the images to /var/lib/image-serve to\nbe served by Apache.\n\nBlueprint: podman-support\nChange-Id: I48e23c8078847c9d69eeda64fad3f76f9d02dc9d\n'}, {'number': 10, 'created': '2018-12-26 22:54:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/90488ac709eea23f7ae781caf9082bca82124293', 'message': 'Export images to be served by httpd\n\nThis change detects whether a registry supports the push API, and if\nit does not then exports the images to /var/lib/image-serve to\nbe served by Apache.\n\nBlueprint: podman-support\nChange-Id: I48e23c8078847c9d69eeda64fad3f76f9d02dc9d\n'}, {'number': 11, 'created': '2019-01-02 13:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ae69abb9adef873d5d44a1119e2a7f48e63881c7', 'message': 'Export images to be served by httpd\n\nThis change detects whether a registry supports the push API, and if\nit does not then exports the images to /var/lib/image-serve to\nbe served by Apache.\n\nBlueprint: podman-support\nChange-Id: I48e23c8078847c9d69eeda64fad3f76f9d02dc9d\n'}, {'number': 12, 'created': '2019-01-08 19:44:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/318f30d7dbbc91094f9ce2c3fd9e88961dee9e54', 'message': 'Export images to be served by httpd\n\nThis change detects whether a registry supports the push API, and if\nit does not then exports the images to /var/lib/image-serve to\nbe served by Apache.\n\nBlueprint: podman-support\nChange-Id: I48e23c8078847c9d69eeda64fad3f76f9d02dc9d\n'}, {'number': 13, 'created': '2019-01-09 20:58:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/696d239418c4861ec128c4a0b4744622c45a50e1', 'message': 'Export images to be served by httpd\n\nThis change detects whether a registry supports the push API, and if\nit does not then exports the images to /var/lib/image-serve to\nbe served by Apache.\n\nBlueprint: podman-support\nChange-Id: I48e23c8078847c9d69eeda64fad3f76f9d02dc9d\n'}, {'number': 14, 'created': '2019-01-10 01:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a35e7c7a541f5812aaab23256c5c39e2115deb74', 'message': 'Export images to be served by httpd\n\nThis change detects whether a registry supports the push API, and if\nit does not then exports the images to /var/lib/image-serve to\nbe served by Apache.\n\nBlueprint: podman-support\nChange-Id: I48e23c8078847c9d69eeda64fad3f76f9d02dc9d\n'}, {'number': 15, 'created': '2019-01-10 21:07:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5a4239df78951c669507f30f09093639796030c3', 'message': 'Export images to be served by httpd\n\nThis change detects whether a registry supports the push API, and if\nit does not then exports the images to /var/lib/image-serve to\nbe served by Apache.\n\nBlueprint: podman-support\nChange-Id: I48e23c8078847c9d69eeda64fad3f76f9d02dc9d\n'}, {'number': 16, 'created': '2019-01-17 07:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bdc719e1fc4ebf4f1b513d88ba78a10c3c6ef353', 'message': 'Export images to be served by httpd\n\nThis change detects whether a registry supports the push API, and if\nit does not then exports the images to /var/lib/image-serve to\nbe served by Apache.\n\nBlueprint: podman-support\nChange-Id: I48e23c8078847c9d69eeda64fad3f76f9d02dc9d\n'}, {'number': 17, 'created': '2019-01-18 12:01:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d938724e17ccdd4465190380362b886defbc1d58', 'message': 'Export images to be served by httpd\n\nThis change detects whether a registry supports the push API, and if\nit does not then exports the images to /var/lib/image-serve to\nbe served by Apache.\n\nBlueprint: podman-support\nChange-Id: I48e23c8078847c9d69eeda64fad3f76f9d02dc9d\n'}, {'number': 18, 'created': '2019-01-22 17:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7802b0d70f50d8d0fd4663b69bbd30ec47999b0a', 'message': 'Export images to be served by httpd\n\nThis change detects whether a registry supports the push API, and if\nit does not then exports the images to /var/lib/image-serve to\nbe served by Apache.\n\nBlueprint: podman-support\nChange-Id: I48e23c8078847c9d69eeda64fad3f76f9d02dc9d\n'}, {'number': 19, 'created': '2019-01-22 20:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8c01ad38e18e8f8d043946c23b0eb05729eca40f', 'message': 'Export images to be served by httpd\n\nThis change detects whether a registry supports the push API, and if\nit does not then exports the images to /var/lib/image-serve to\nbe served by Apache.\n\nBlueprint: podman-support\nChange-Id: I48e23c8078847c9d69eeda64fad3f76f9d02dc9d\n'}, {'number': 20, 'created': '2019-01-23 12:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6c9e2205712a145a798000fc0e8ca9681b7b522a', 'message': 'Export images to be served by httpd\n\nThis change detects whether a registry supports the push API, and if\nit does not then exports the images to /var/lib/image-serve to\nbe served by Apache.\n\nBlueprint: podman-support\nChange-Id: I48e23c8078847c9d69eeda64fad3f76f9d02dc9d\n'}, {'number': 21, 'created': '2019-01-23 16:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a3e0203f0f3e1e7bccba163f86cc60fd8950eac1', 'message': 'Export images to be served by httpd\n\nThis change detects whether a registry supports the push API, and if\nit does not then exports the images to /var/lib/image-serve to\nbe served by Apache.\n\nBlueprint: podman-support\nChange-Id: I48e23c8078847c9d69eeda64fad3f76f9d02dc9d\n'}, {'number': 22, 'created': '2019-02-01 02:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4557810628d4a5ab340b1f54bc2a270950a960b3', 'message': 'Export images to be served by httpd\n\nThis change detects whether a registry supports the push API, and if\nit does not then exports the images to /var/lib/image-serve to\nbe served by Apache.\n\nBlueprint: podman-support\nChange-Id: I48e23c8078847c9d69eeda64fad3f76f9d02dc9d\n'}, {'number': 23, 'created': '2019-02-03 22:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1b3034bba0a228502a17d7571d7e74b87ca832c3', 'message': 'Export images to be served by httpd\n\nThis change detects whether a registry supports the push API, and if\nit does not then exports the images to /var/lib/image-serve to\nbe served by Apache.\n\nBlueprint: podman-support\nChange-Id: I48e23c8078847c9d69eeda64fad3f76f9d02dc9d\n'}, {'number': 24, 'created': '2019-02-06 20:00:28.000000000', 'files': ['tripleo_common/image/image_export.py', 'tripleo_common/image/image_uploader.py', 'tripleo_common/tests/image/test_image_export.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0a745d596a65029f71755846c9dc7b2802a443c2', 'message': 'Export images to be served by httpd\n\nThis change detects whether a registry supports the push API, and if\nit does not then exports the images to /var/lib/image-serve to\nbe served by Apache.\n\nBlueprint: podman-support\nChange-Id: I48e23c8078847c9d69eeda64fad3f76f9d02dc9d\n'}]",0,622628,0a745d596a65029f71755846c9dc7b2802a443c2,76,4,24,4571,,,0,"Export images to be served by httpd

This change detects whether a registry supports the push API, and if
it does not then exports the images to /var/lib/image-serve to
be served by Apache.

Blueprint: podman-support
Change-Id: I48e23c8078847c9d69eeda64fad3f76f9d02dc9d
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/28/622628/13 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/image_export.py', 'tripleo_common/image/image_uploader.py']",2,10a765b54cf649100101a7ca13b46cd98755996f,bp/podman-support,"from tripleo_common.image import image_export export_registries = set() push_registries = set() cls.export_registries.clear() cls.push_registries.clear() export = netloc in cls.export_registries if export: image_export.cross_repo_mount( target_image_url, image_layers, source_layers) return self._detect_target_export(t.target_image_url, target_session) def _detect_target_export(cls, image_url, session): if image_url.netloc in cls.export_registries: return True if image_url.netloc in cls.push_registries: return False # detect if the registry is push-capable by requesting an upload URL. image, tag = cls._image_tag_from_url(image_url) upload_req_url = cls._build_url( image_url, path=CALL_UPLOAD % {'image': image}) r = session.post(upload_req_url, timeout=30) if r.status_code in (501, 404, 405): cls.export_registries.add(image_url.netloc) return True r.raise_for_status() cls.push_registries.add(image_url.netloc) return False @classmethod @tenacity.retry( # Retry up to 5 times with jittered exponential backoff reraise=True, retry=tenacity.retry_if_exception_type( requests.exceptions.RequestException ), wait=tenacity.wait_random_exponential(multiplier=1, max=10), stop=tenacity.stop_after_attempt(5) ) export = target_url.netloc in cls.export_registries if export: image_export.export_manifest_config( target_url, manifest_data, config_data, v1manifest=v1manifest) return export = target_url.netloc in cls.export_registries if export: return image_export.export_stream( target_url, layer, calc_digest, layer_stream) ",,210,0
openstack%2Ftripleo-common~master~I0da33a43935ec7559b6084a1ee9c75a785d9e5b1,openstack/tripleo-common,master,I0da33a43935ec7559b6084a1ee9c75a785d9e5b1,"Make transfer and persist modules, trailing slash insensitive.",MERGED,2019-01-22 15:56:14.000000000,2019-02-07 04:52:57.000000000,2019-02-07 04:52:57.000000000,"[{'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-22 15:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8f65580ae6c4c534e70d8e6bc36bc3b412843d92', 'message': 'Make transfer and persist modules, trailing slash insensitive.\n\nIn those modules adding a trailing slash to the src or dest directory\nwould cause tar to fails.  This cleanup the name by making sure we\nnever have a trailing ""/"".\n\nChange-Id: I0da33a43935ec7559b6084a1ee9c75a785d9e5b1\nImplements: blueprint upgrades-with-os\n'}, {'number': 2, 'created': '2019-01-22 16:07:50.000000000', 'files': ['roles/tripleo-transfer/tasks/main.yml', 'roles/tripleo-persist/tasks/persist.yml', 'roles/tripleo-persist/tasks/restore.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3006b53de8df44535f19392fd0200202e2c169d2', 'message': 'Make transfer and persist modules, trailing slash insensitive.\n\nIn those modules adding a trailing slash to the src or dest directory\nwould cause tar to fails.  This cleanup the name by making sure we\nnever have a trailing ""/"".\n\nChange-Id: I0da33a43935ec7559b6084a1ee9c75a785d9e5b1\nImplements: blueprint upgrades-with-os\n'}]",2,632492,3006b53de8df44535f19392fd0200202e2c169d2,13,6,2,8297,,,0,"Make transfer and persist modules, trailing slash insensitive.

In those modules adding a trailing slash to the src or dest directory
would cause tar to fails.  This cleanup the name by making sure we
never have a trailing ""/"".

Change-Id: I0da33a43935ec7559b6084a1ee9c75a785d9e5b1
Implements: blueprint upgrades-with-os
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/92/632492/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo-transfer/tasks/main.yml', 'roles/tripleo-persist/tasks/persist.yml', 'roles/tripleo-persist/tasks/restore.yml']",3,8f65580ae6c4c534e70d8e6bc36bc3b412843d92,bp/upgrades-with-os,"- name: make sure we don't have a trailing forward slash set_fact: tripleo_persist_dir_safe: ""{{tripleo_persist_dir|regex_replace('\\/$', '')}}"" cacheable: no path: ""{{tripleo_persist_dir_safe|dirname}}"" src: ""{{tripleo_persist_storage_root_dir}}/{{inventory_hostname}}{{tripleo_persist_dir_safe}}.tar.gz"" dest: ""{{tripleo_persist_dir_safe|dirname}}"""," path: ""{{tripleo_persist_dir|dirname}}"" src: ""{{tripleo_persist_storage_root_dir}}/{{inventory_hostname}}{{tripleo_persist_dir}}.tar.gz"" dest: ""{{tripleo_persist_dir|dirname}}""",33,13
openstack%2Fkolla-ansible~master~I4ed50b49aac1e9ab21957f4ec3da1b33883ad9b1,openstack/kolla-ansible,master,I4ed50b49aac1e9ab21957f4ec3da1b33883ad9b1,Add missing dirs,MERGED,2019-02-05 13:40:28.000000000,2019-02-07 04:52:54.000000000,2019-02-07 04:52:54.000000000,"[{'_account_id': 14826}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27781}]","[{'number': 1, 'created': '2019-02-05 13:40:28.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ae8d085ea723f4801f01d436ea7197818b18f378', 'message': 'Add missing dirs\n\nWe can see some contribution directory is missing which\nexist parallel to other directories. Adding this information\nto README is helpful for new contributors to understand\nhigh level directory structure.\n\nChange-Id: I4ed50b49aac1e9ab21957f4ec3da1b33883ad9b1\n'}]",0,634938,ae8d085ea723f4801f01d436ea7197818b18f378,10,6,1,23717,,,0,"Add missing dirs

We can see some contribution directory is missing which
exist parallel to other directories. Adding this information
to README is helpful for new contributors to understand
high level directory structure.

Change-Id: I4ed50b49aac1e9ab21957f4ec3da1b33883ad9b1
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/38/634938/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,ae8d085ea723f4801f01d436ea7197818b18f378,,- ``kolla_ansible`` - Contains password generation script. - ``releasenotes`` - Contains releasenote of all features added in Kolla-Ansible.- ``zuul.d`` - Contains project gate job definitions.,,4,0
openstack%2Fheat-translator~master~Ic322e57dd7dc7eb7b5cebdd572ab5b0217f2647b,openstack/heat-translator,master,Ic322e57dd7dc7eb7b5cebdd572ab5b0217f2647b,Use stestr instead of testr,NEW,2018-06-11 01:39:54.000000000,2019-02-07 03:49:10.000000000,,"[{'_account_id': 6456}, {'_account_id': 16511}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-06-11 01:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/fa26c4caf4b423a7fac172533cd927849a776c8f', 'message': 'Use stestr instead of testr\n\nChange-Id: Ic322e57dd7dc7eb7b5cebdd572ab5b0217f2647b\n'}, {'number': 2, 'created': '2018-06-11 01:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/2e5149a302388b717dd85f447322bdeca2ae36f5', 'message': 'Use stestr instead of testr\n\nChange-Id: Ic322e57dd7dc7eb7b5cebdd572ab5b0217f2647b\n'}, {'number': 3, 'created': '2018-11-14 16:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/fda8a0a364408f2849fa5d3a6ba745f8abf3714a', 'message': 'Use stestr instead of testr\n\nUpdated flavor and image retrieval to handle all OpenStack\nExceptions.\n\nChange-Id: Ic322e57dd7dc7eb7b5cebdd572ab5b0217f2647b\n'}, {'number': 4, 'created': '2018-11-14 16:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/722c4e44f03c4c683350de6ec09b9dc5a43e0659', 'message': 'Use stestr instead of testr\n\nUpdated flavor and image retrieval to handle all OpenStack\nExceptions.\n\nChange-Id: Ic322e57dd7dc7eb7b5cebdd572ab5b0217f2647b\n'}, {'number': 5, 'created': '2018-11-14 19:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/992467f7bf2c3b82674d73f504719d8572802fb0', 'message': 'Use stestr instead of testr\n\nUpdated flavor and image retrieval to handle all OpenStack\nExceptions.\n\nChange-Id: Ic322e57dd7dc7eb7b5cebdd572ab5b0217f2647b\n'}, {'number': 6, 'created': '2018-11-14 20:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/391703b81542906b6a54d453e668f1e86bf063fb', 'message': 'Use stestr instead of testr\n\nUpdated flavor and image retrieval to handle all OpenStack\nExceptions.\n\nChange-Id: Ic322e57dd7dc7eb7b5cebdd572ab5b0217f2647b\n'}, {'number': 7, 'created': '2018-11-14 20:57:52.000000000', 'files': ['translator/tests/hot/tosca/__init__.py', '.gitignore', 'test-requirements.txt', 'translator/osc/v1/tests/__init__.py', 'translator/tests/hot/tosca/test_tosca_autoscaling.py', 'translator/tests/hot/tosca/test_tosca_blockstorage.py', 'translator/common/flavors.py', 'translator/tests/hot/__init__.py', 'translator/tests/hot/test_translate_inputs.py', 'translator/tests/osc/v1/test_translate.py', 'translator/tests/hot/test_hot_parameter.py', 'translator/tests/hot/tosca/test_tosca_policies.py', 'translator/tests/hot/tosca/test_tosca_floatingip.py', '.stestr.conf', 'translator/tests/hot/tosca/test_tosca_objectstore.py', 'translator/tests/osc/__init__.py', 'translator/tests/hot/tosca/test_tosca_compute.py', 'lower-constraints.txt', 'translator/tests/osc/v1/fakes.py', 'translator/common/images.py', 'translator/tests/osc/v1/utils.py', 'translator/tests/osc/v1/__init__.py', '.testr.conf', 'tox.ini', 'translator/tests/hot/test_translate_outputs.py', 'translator/hot/tosca/tests/__init__.py'], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/4f0ddb927507044dfa97f4c54ca854d67634f4c5', 'message': 'Use stestr instead of testr\n\nMoved tests to where stestr can find them.\n\nUpdated flavor and image retrieval to handle all OpenStack\nExceptions.\n\nChange-Id: Ic322e57dd7dc7eb7b5cebdd572ab5b0217f2647b\n'}]",0,574111,4f0ddb927507044dfa97f4c54ca854d67634f4c5,17,5,7,16511,,,0,"Use stestr instead of testr

Moved tests to where stestr can find them.

Updated flavor and image retrieval to handle all OpenStack
Exceptions.

Change-Id: Ic322e57dd7dc7eb7b5cebdd572ab5b0217f2647b
",git fetch https://review.opendev.org/openstack/heat-translator refs/changes/11/574111/5 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', '.testr.conf', 'lower-constraints.txt', 'tox.ini']",5,fa26c4caf4b423a7fac172533cd927849a776c8f,stestr,commands = stestr run --slowest '{posargs}'setenv = PYTHON=coverage run --source $project --parallel-mode commands = stestr run '{posargs}' coverage combine coverage html -d cover coverage xml -o cover/coverage.xml stestr run --slowest '{posargs}',commands = python setup.py test --slowest --testr-args='{posargs}'commands = python setup.py test --coverage --coverage-package-name=translator --testr-args='{posargs}' python setup.py test --slowest --testr-args='{posargs}',17,12
openstack%2Ftripleo-common~stable%2Fqueens~I8db298e885e110f1b8852893b76b36d3465df6c2,openstack/tripleo-common,stable/queens,I8db298e885e110f1b8852893b76b36d3465df6c2,Publish error for package_update workflow,MERGED,2019-01-30 14:59:10.000000000,2019-02-07 03:30:26.000000000,2019-02-07 03:30:26.000000000,"[{'_account_id': 14985}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-01-30 14:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9019c431fe5dc221cc8156bf95e8b09672591c35', 'message': 'Publish error for package_update workflow\n\nThe package_update workbook need to publish the execption\nwhen something failed with heat stack update\n\nChange-Id: I8db298e885e110f1b8852893b76b36d3465df6c2\n'}, {'number': 2, 'created': '2019-01-30 15:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a069bc7c83a13b28a316dc378f6bca14bdc07d64', 'message': 'Publish error for package_update workflow\n\nThe package_update workbook need to publish the execption\nwhen something failed with heat stack update\n\nChange-Id: I8db298e885e110f1b8852893b76b36d3465df6c2\n'}, {'number': 3, 'created': '2019-01-30 15:02:21.000000000', 'files': ['workbooks/package_update.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bd9da1f1b082f5ac5b1f49b9d6c194551855e70d', 'message': 'Publish error for package_update workflow\n\nThe package_update workbook need to publish the execption\nwhen something failed with heat stack update\n\nManual Cherry pick from:\nI8db298e885e110f1b8852893b76b36d3465df6c2\n\nChange-Id: I8db298e885e110f1b8852893b76b36d3465df6c2\n'}]",0,633970,bd9da1f1b082f5ac5b1f49b9d6c194551855e70d,11,5,3,16515,,,0,"Publish error for package_update workflow

The package_update workbook need to publish the execption
when something failed with heat stack update

Manual Cherry pick from:
I8db298e885e110f1b8852893b76b36d3465df6c2

Change-Id: I8db298e885e110f1b8852893b76b36d3465df6c2
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/70/633970/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/package_update.yaml'],1,9019c431fe5dc221cc8156bf95e8b09672591c35,publish/heat/exception, publish-on-error: message: <% task().result %> update_status: UPDATE_FAILED set_update_success: on-success: send_message publish: status: SUCCESS update_status: UPDATE_SUCCESS, message: <% task(update).result %>,9,2
openstack%2Fpython-tripleoclient~master~Id99fe8b363d4c0ced4d595a9e60cc451f1923ec2,openstack/python-tripleoclient,master,Id99fe8b363d4c0ced4d595a9e60cc451f1923ec2,increasing the workflow timeout from 300 to 600 required in case of relatively large scale on physical servers https://bugs.launchpad.net/tripleo/+bug/1805725 resubmit,MERGED,2018-11-29 00:18:23.000000000,2019-02-07 03:30:25.000000000,2019-02-07 03:30:25.000000000,"[{'_account_id': 7144}, {'_account_id': 10857}, {'_account_id': 11082}, {'_account_id': 11444}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-11-29 00:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/95dfef3bcac9ba6aed06b3941ffa730711cb036d', 'message': 'increasing the workflow timeout from 300 to 600\nrequired in case of relatively large scale on physical servers\n\nChange-Id: Id99fe8b363d4c0ced4d595a9e60cc451f1923ec2\n'}, {'number': 2, 'created': '2018-11-29 16:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b9fbc7e9c489c28634439a13b1eabf516c4d35e4', 'message': 'increasing the workflow timeout from 300 to 600\nrequired in case of relatively large scale on physical servers\nresubmit\n\nChange-Id: Id99fe8b363d4c0ced4d595a9e60cc451f1923ec2\n'}, {'number': 3, 'created': '2018-12-04 16:12:23.000000000', 'files': ['tripleoclient/constants.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2d7a3e7c3523f852473eafe98c72ef6331ed7e13', 'message': 'increasing the workflow timeout from 300 to 600\nrequired in case of relatively large scale on physical servers\nhttps://bugs.launchpad.net/tripleo/+bug/1805725\nresubmit\n\nChange-Id: Id99fe8b363d4c0ced4d595a9e60cc451f1923ec2\n'}]",2,620754,2d7a3e7c3523f852473eafe98c72ef6331ed7e13,34,7,3,10857,,,0,"increasing the workflow timeout from 300 to 600
required in case of relatively large scale on physical servers
https://bugs.launchpad.net/tripleo/+bug/1805725
resubmit

Change-Id: Id99fe8b363d4c0ced4d595a9e60cc451f1923ec2
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/54/620754/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/constants.py'],1,95dfef3bcac9ba6aed06b3941ffa730711cb036d,bug/1805725,ENABLE_SSH_ADMIN_TIMEOUT = 600,ENABLE_SSH_ADMIN_TIMEOUT = 300,1,1
openstack%2Fpython-neutronclient~master~Ia5d093bab0c175b2693e7ae47a6bc29c1d44db36,openstack/python-neutronclient,master,Ia5d093bab0c175b2693e7ae47a6bc29c1d44db36,Remove basepython from [flake8] section,MERGED,2019-01-31 01:47:54.000000000,2019-02-07 03:30:01.000000000,2019-02-07 03:30:01.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-31 01:47:54.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/c2ac394a8880000bca2109985760347e8df7d76d', 'message': 'Remove basepython from [flake8] section\n\nbasepython is not a valid option for flake8 and\nit is complaned when running tox -e pep8.\nIt seems to have been added accidentally.\n\nChange-Id: Ia5d093bab0c175b2693e7ae47a6bc29c1d44db36\n'}]",0,634090,c2ac394a8880000bca2109985760347e8df7d76d,7,3,1,841,,,0,"Remove basepython from [flake8] section

basepython is not a valid option for flake8 and
it is complaned when running tox -e pep8.
It seems to have been added accidentally.

Change-Id: Ia5d093bab0c175b2693e7ae47a6bc29c1d44db36
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/90/634090/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c2ac394a8880000bca2109985760347e8df7d76d,,,basepython = python3,0,1
openstack%2Ftripleo-quickstart~master~I4c333395c7d468272b5258fedd6c847fa944ef65,openstack/tripleo-quickstart,master,I4c333395c7d468272b5258fedd6c847fa944ef65,curl install-deps if needed,MERGED,2019-02-05 20:03:09.000000000,2019-02-07 03:10:29.000000000,2019-02-07 03:10:29.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-05 20:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/99d37ae0fe4b1aec4a2ebc85d263badc29bc5c05', 'message': 'wget install-deps if needed\n\nIn order to not break the use case\nwhere quickstart.sh is downloaded as a standalone\nfile, install-deps must be downloaded.\n\nChange-Id: I4c333395c7d468272b5258fedd6c847fa944ef65\n'}, {'number': 2, 'created': '2019-02-05 20:41:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3c5ceace9cf5cf0afb561f079f69b32ac12a3d24', 'message': 'wget install-deps if needed\n\nIn order to not break the use case\nwhere quickstart.sh is downloaded as a standalone\nfile, install-deps must be downloaded.\n\nChange-Id: I4c333395c7d468272b5258fedd6c847fa944ef65\n'}, {'number': 3, 'created': '2019-02-06 13:59:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/18f330a1ec1917796f2c8c5001d05f3df66f6d76', 'message': 'curl install-deps if needed\n\nIn order to not break the use case\nwhere quickstart.sh is downloaded as a standalone\nfile, install-deps must be downloaded.\n\nChange-Id: I4c333395c7d468272b5258fedd6c847fa944ef65\n'}, {'number': 4, 'created': '2019-02-06 19:47:08.000000000', 'files': ['quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/85904bf8c70674af0fd7b4cba58bcbcba840640a', 'message': 'curl install-deps if needed\n\nIn order to not break the use case\nwhere quickstart.sh is downloaded as a standalone\nfile, install-deps must be downloaded.\n\nChange-Id: I4c333395c7d468272b5258fedd6c847fa944ef65\n'}]",3,635023,85904bf8c70674af0fd7b4cba58bcbcba840640a,23,6,4,9592,,,0,"curl install-deps if needed

In order to not break the use case
where quickstart.sh is downloaded as a standalone
file, install-deps must be downloaded.

Change-Id: I4c333395c7d468272b5258fedd6c847fa944ef65
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/23/635023/2 && git format-patch -1 --stdout FETCH_HEAD,['quickstart.sh'],1,99d37ae0fe4b1aec4a2ebc85d263badc29bc5c05,generate-zuul-based-reproducer,"# Our docs support running quickstart.sh as a standalone script. # We have to download install-deps.sh to support that use case. if [[ ! -e install-deps.sh ]]; then echo ""install-deps.sh was not found"" wget https://git.openstack.org/cgit/openstack/tripleo-quickstart/plain/install-deps.sh fi",,6,0
openstack%2Ftacker~master~Ib95ed31c70073cb732d41defe5bdc8027eadfeec,openstack/tacker,master,Ib95ed31c70073cb732d41defe5bdc8027eadfeec,Update from OS::Glance::Image to OS::Glance::WebImage,MERGED,2019-02-01 06:55:26.000000000,2019-02-07 03:01:13.000000000,2019-02-07 03:01:13.000000000,"[{'_account_id': 18955}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 26222}]","[{'number': 1, 'created': '2019-02-01 06:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/18a41ce40757105ef27479495a1c4a81997f387a', 'message': 'Update from OS::Glance::Image to OS::Glance::WebImage\n\nCurrently, OS::Glance::Image is deprecated in Heat [1]. Heat now\nsupports glance web-download [2].\n\nThis patch will add support glance web-download to fix issue for\nimage resource.\n\n[1] https://docs.openstack.org/heat/latest/template_guide/unsupported.html#OS::Glance::Image\n[2] https://review.openstack.org/#/c/617915\n\nChange-Id: Ib95ed31c70073cb732d41defe5bdc8027eadfeec\n'}, {'number': 2, 'created': '2019-02-01 19:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/8a0089e0270e11d1d010927b7ae5d25c8dfa1baf', 'message': 'Update from OS::Glance::Image to OS::Glance::WebImage\n\nCurrently, OS::Glance::Image is deprecated in Heat [1]. Heat now\nsupports glance web-download [2].\n\nThis patch will add support glance web-download to fix issue for\nimage resource.\n\n[1] https://docs.openstack.org/heat/latest/template_guide/unsupported.html#OS::Glance::Image\n[2] https://review.openstack.org/#/c/617915\n\nChange-Id: Ib95ed31c70073cb732d41defe5bdc8027eadfeec\n'}, {'number': 3, 'created': '2019-02-01 19:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/9dbf96ebeed7714251ab68b5772a7ab3741d4b82', 'message': 'Update from OS::Glance::Image to OS::Glance::WebImage\n\nCurrently, OS::Glance::Image is deprecated in Heat [1]. Heat now\nsupports glance web-download [2].\n\nThis patch will add support glance web-download to fix issue for\nimage resource.\n\n[1] https://docs.openstack.org/heat/latest/template_guide/unsupported.html#OS::Glance::Image\n[2] https://review.openstack.org/#/c/617915\n\nChange-Id: Ib95ed31c70073cb732d41defe5bdc8027eadfeec\n'}, {'number': 4, 'created': '2019-02-01 19:14:02.000000000', 'files': ['tacker/tests/unit/vnfm/infra_drivers/openstack/data/hot_image_after_processed_image.yaml', 'tacker/tests/unit/vnfm/infra_drivers/openstack/data/hot_tosca_allowed_address_pairs.yaml', 'tacker/tests/unit/vnfm/infra_drivers/openstack/data/hot_tosca_mac_ip.yaml', 'tacker/tests/unit/vnfm/infra_drivers/openstack/data/hot_tosca_image.yaml', 'tacker/tests/unit/vnfm/infra_drivers/openstack/data/hot_tosca_security_groups.yaml', 'tacker/tosca/utils.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/810355508c35eae098272134d9b3e6a8c4395790', 'message': 'Update from OS::Glance::Image to OS::Glance::WebImage\n\nCurrently, OS::Glance::Image is deprecated in Heat [1]. Heat now\nsupports glance web-download [2].\n\nThis patch will add support glance web-download to fix issue for\nimage resource.\n\n[1] https://docs.openstack.org/heat/latest/template_guide/unsupported.html#OS::Glance::Image\n[2] https://review.openstack.org/#/c/617915\n\nChange-Id: Ib95ed31c70073cb732d41defe5bdc8027eadfeec\n'}]",0,634372,810355508c35eae098272134d9b3e6a8c4395790,11,4,4,26222,,,0,"Update from OS::Glance::Image to OS::Glance::WebImage

Currently, OS::Glance::Image is deprecated in Heat [1]. Heat now
supports glance web-download [2].

This patch will add support glance web-download to fix issue for
image resource.

[1] https://docs.openstack.org/heat/latest/template_guide/unsupported.html#OS::Glance::Image
[2] https://review.openstack.org/#/c/617915

Change-Id: Ib95ed31c70073cb732d41defe5bdc8027eadfeec
",git fetch https://review.opendev.org/openstack/tacker refs/changes/72/634372/4 && git format-patch -1 --stdout FETCH_HEAD,['tacker/tosca/utils.py'],1,18a41ce40757105ef27479495a1c4a81997f387a,," ""image"": ""OS::Glance::WebImage"" # OS::Glance::WebImage is introduced with rocky heat template version if res == 'image': heat_dict['heat_template_version'] = 'rocky'"," ""image"": ""OS::Glance::Image""",4,1
openstack%2Fkuryr-libnetwork~stable%2Frocky~I1eaa9c87079f1c57babbe08ae52ed69a44cfa9aa,openstack/kuryr-libnetwork,stable/rocky,I1eaa9c87079f1c57babbe08ae52ed69a44cfa9aa,Search ports with matching subnet,MERGED,2019-02-01 02:13:04.000000000,2019-02-07 02:52:44.000000000,2019-02-07 02:52:44.000000000,"[{'_account_id': 6598}, {'_account_id': 9820}, {'_account_id': 11343}, {'_account_id': 11536}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-01 02:13:04.000000000', 'files': ['kuryr_libnetwork/tests/unit/test_kuryr_ipam.py', 'kuryr_libnetwork/controllers.py'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/4cc5bd8fe2aadd9e79fa0047189bb42a53a1c7c6', 'message': 'Search ports with matching subnet\n\nOn ipam_request_address, it will try to find existing Neutron\nports if any. If there is no existing Neutron ports, kuryr will\ncreate one. Kuryr will search ports with matching IP address first.\nIf the first search is not successful, it will do a second search\nto find ports with matching mac address.\nThis commit improve the second search by matching the subnet_id\nas well as the mac address. This is because things will go wrong\nif the port is in a different subnet (e.g. an ipv6 address is\nrequested while the port is in a v4 subnet).\n\nChange-Id: I1eaa9c87079f1c57babbe08ae52ed69a44cfa9aa\nRelated-Bug: #1800375\n(cherry picked from commit 542cb5aabd73a7bf9865dacd68f484aea49ae71e)\n'}]",0,634363,4cc5bd8fe2aadd9e79fa0047189bb42a53a1c7c6,18,7,1,11536,,,0,"Search ports with matching subnet

On ipam_request_address, it will try to find existing Neutron
ports if any. If there is no existing Neutron ports, kuryr will
create one. Kuryr will search ports with matching IP address first.
If the first search is not successful, it will do a second search
to find ports with matching mac address.
This commit improve the second search by matching the subnet_id
as well as the mac address. This is because things will go wrong
if the port is in a different subnet (e.g. an ipv6 address is
requested while the port is in a v4 subnet).

Change-Id: I1eaa9c87079f1c57babbe08ae52ed69a44cfa9aa
Related-Bug: #1800375
(cherry picked from commit 542cb5aabd73a7bf9865dacd68f484aea49ae71e)
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/63/634363/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_libnetwork/tests/unit/test_kuryr_ipam.py', 'kuryr_libnetwork/controllers.py']",2,4cc5bd8fe2aadd9e79fa0047189bb42a53a1c7c6,bug/1800375-stable/rocky," fixed_ips='subnet_id=%s' % subnet['id'],",,8,3
openstack%2Ftripleo-heat-templates~master~Ic802a2ca60ee26a805731a6a64df3c51cde44d6a,openstack/tripleo-heat-templates,master,Ic802a2ca60ee26a805731a6a64df3c51cde44d6a,Disable tacker for scenario007,MERGED,2019-02-06 07:28:07.000000000,2019-02-07 02:52:43.000000000,2019-02-07 02:52:43.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 27898}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-02-06 07:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6ce89b84ab57508da3dc1058a1b3548c4e55d337', 'message': 'Fixed the path of tacker service yaml file\n\nhttps://review.openstack.org/#/c/633546 changed the path of\ntacker service deployment from docker/services/tacker.yaml to\ndeployment/tacker/tacker-container-puppet.yaml but not updated\nin environments files, leading to failure during overcloud\ndeployment. Fixing the path fixes it.\n\nChange-Id: Ic802a2ca60ee26a805731a6a64df3c51cde44d6a\nCloses-Bug: #1814852\n'}, {'number': 2, 'created': '2019-02-06 13:31:55.000000000', 'files': ['ci/environments/scenario007-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/707dcf2b70381d91edf3eb1de6a67a8768adfa6d', 'message': 'Disable tacker for scenario007\n\nhttps://review.openstack.org/#/c/633546 changed the path of\ntacker service deployment from docker/services/tacker.yaml to\ndeployment/tacker/tacker-container-puppet.yaml but not updated\nin environments files, leading to failure during overcloud\ndeployment. Also now tacker is containerize by default but this is a wip\n[1] so we disable here for sceanrio007 while work is finished\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1714270\n\nChange-Id: Ic802a2ca60ee26a805731a6a64df3c51cde44d6a\nCloses-Bug: #1814852\n'}]",3,635105,707dcf2b70381d91edf3eb1de6a67a8768adfa6d,23,11,2,12393,,,0,"Disable tacker for scenario007

https://review.openstack.org/#/c/633546 changed the path of
tacker service deployment from docker/services/tacker.yaml to
deployment/tacker/tacker-container-puppet.yaml but not updated
in environments files, leading to failure during overcloud
deployment. Also now tacker is containerize by default but this is a wip
[1] so we disable here for sceanrio007 while work is finished

[1] https://bugs.launchpad.net/tripleo/+bug/1714270

Change-Id: Ic802a2ca60ee26a805731a6a64df3c51cde44d6a
Closes-Bug: #1814852
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/635105/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario007-multinode-containers.yaml'],1,6ce89b84ab57508da3dc1058a1b3548c4e55d337,bug/1814852, OS::TripleO::Services::Tacker: ../../deployment/tacker/tacker-container-puppet.yaml, OS::TripleO::Services::Tacker: ../../puppet/services/tacker.yaml,1,1
openstack%2Fnova~stable%2Frocky~I43401dc8368853654bf443273a0a1b5b9b63e3f0,openstack/nova,stable/rocky,I43401dc8368853654bf443273a0a1b5b9b63e3f0,Use X-Forwarded-Proto as origin protocol if present,MERGED,2019-02-04 21:31:25.000000000,2019-02-07 02:20:23.000000000,2019-02-07 02:20:23.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-02-04 21:31:25.000000000', 'files': ['nova/console/websocketproxy.py', 'nova/tests/unit/console/test_websocketproxy.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/218c0f5f974d5ffd646b6b816bfb3fc494829e7b', 'message': ""Use X-Forwarded-Proto as origin protocol if present\n\nWhen using a haproxy with SSL termination to provide secure console\nconnections, haproxy will change the Origin header scheme to 'http'\nand add the 'X-Forwarded-Proto: https' header. This causes a failure\nin the Nova console proxy code which verifies that the Origin header\nscheme matches the access_url scheme for the connection, because the\nOrigin header coming from haproxy is 'http' while the access_url\nscheme is 'https' or 'wss'.\n\nThis looks for the X-Forwarded-Proto header and uses its scheme for\nthe verification instead, if it is present.\n\nCloses-Bug: #1788180\n\nChange-Id: I43401dc8368853654bf443273a0a1b5b9b63e3f0\n(cherry picked from commit 890e2d320e8e8e7b501af8e21cc6b751fb204d04)\n""}]",0,634814,218c0f5f974d5ffd646b6b816bfb3fc494829e7b,13,8,1,9373,,,0,"Use X-Forwarded-Proto as origin protocol if present

When using a haproxy with SSL termination to provide secure console
connections, haproxy will change the Origin header scheme to 'http'
and add the 'X-Forwarded-Proto: https' header. This causes a failure
in the Nova console proxy code which verifies that the Origin header
scheme matches the access_url scheme for the connection, because the
Origin header coming from haproxy is 'http' while the access_url
scheme is 'https' or 'wss'.

This looks for the X-Forwarded-Proto header and uses its scheme for
the verification instead, if it is present.

Closes-Bug: #1788180

Change-Id: I43401dc8368853654bf443273a0a1b5b9b63e3f0
(cherry picked from commit 890e2d320e8e8e7b501af8e21cc6b751fb204d04)
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/634814/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/console/websocketproxy.py', 'nova/tests/unit/console/test_websocketproxy.py']",2,218c0f5f974d5ffd646b6b816bfb3fc494829e7b,bug/1788180," def test_new_websocket_client_http_forwarded_proto_https(self, validate, check_port): params = { 'id': 1, 'token': '123-456-789', 'instance_uuid': uuids.instance, 'host': 'node1', 'port': '10000', 'console_type': 'serial', 'access_url_base': 'wss://example.net:6080' } validate.return_value = objects.ConsoleAuthToken(**params) header = { 'cookie': 'token=""123-456-789""', 'Origin': 'http://example.net:6080', 'Host': 'example.net:6080', 'X-Forwarded-Proto': 'https' } self.wh.socket.return_value = '<socket>' self.wh.path = ""https://127.0.0.1/"" self.wh.headers = header self.wh.new_websocket_client() validate.assert_called_with(mock.ANY, ""123-456-789"") self.wh.socket.assert_called_with('node1', 10000, connect=True) self.wh.do_proxy.assert_called_with('<socket>') @mock.patch('nova.console.websocketproxy.NovaProxyRequestHandlerBase.' '_check_console_port') @mock.patch('nova.objects.ConsoleAuthToken.validate')",,39,0
openstack%2Fneutron~master~I4774772ec30611b0acd1ad2aadcf6a1a3f93938c,openstack/neutron,master,I4774772ec30611b0acd1ad2aadcf6a1a3f93938c,[Configuration] Clean up .gitignore references to personal tools,MERGED,2019-01-21 13:53:54.000000000,2019-02-07 02:09:33.000000000,2019-02-07 02:09:32.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 10980}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-01-21 13:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/faddb55b4c3f9f0583c6ce8e88ee005f1250b41b', 'message': '[Configuration] Clean up .gitignore references to personal tools\n\nDevelopers run all sorts of different tools within Git repositories,\nany of which can leave their own special trashfiles all over the\nplace. We can\'t every hope to catalog them all, so better to\nrecommend developers simply configure a global core.excludesfile to\nfilter the irrelevant files which tend to get created by their\npersonal choice of tools.\n\nTo this end, remove the long-standing sections for ""Mr Developer""\nand ""Editors"" since their mere existence here sends the signal that\nwe welcome (and have time to review) additions for any old tool\nsomeone ever might happen to try. Also add a comment block\nexplaining this, for clarity.\n\nWe can, and should of course, continue to list files created by the\ntools recommended by our workflow (test frameworks called from tox,\ndocumentation and packaging builds, et cetera).\n\nChange-Id: I4774772ec30611b0acd1ad2aadcf6a1a3f93938c\n'}, {'number': 2, 'created': '2019-01-21 13:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a2dedc25b22eaabd8134d34da6d1bd1c905bca86', 'message': '[Configuration] Clean up .gitignore references to personal tools\n\nDevelopers run all sorts of different tools within Git repositories,\nany of which can leave their own special trashfiles all over the\nplace. We can\'t every hope to catalog them all, so better to\nrecommend developers simply configure a global core.excludesfile to\nfilter the irrelevant files which tend to get created by their\npersonal choice of tools.\n\nTo this end, remove the long-standing sections for ""Mr Developer""\nand ""Editors"" since their mere existence here sends the signal that\nwe welcome (and have time to review) additions for any old tool\nsomeone ever might happen to try. Also add a comment block\nexplaining this, for clarity.\n\nWe can, and should of course, continue to list files created by the\ntools recommended by our workflow (test frameworks called from tox,\ndocumentation and packaging builds, et cetera).\n\nChange-Id: I4774772ec30611b0acd1ad2aadcf6a1a3f93938c\n'}, {'number': 3, 'created': '2019-01-25 09:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/de3971dfdd99ae9b27006d4eb7e80513219a8001', 'message': '[Configuration] Clean up .gitignore references to personal tools\n\nDevelopers run all sorts of different tools within Git repositories,\nany of which can leave their own special trashfiles all over the\nplace. We can\'t every hope to catalog them all, so better to\nrecommend developers simply configure a global core.excludesfile to\nfilter the irrelevant files which tend to get created by their\npersonal choice of tools.\n\nTo this end, remove the long-standing sections for ""Mr Developer""\nand ""Editors"" since their mere existence here sends the signal that\nwe welcome (and have time to review) additions for any old tool\nsomeone ever might happen to try. Also add a comment block\nexplaining this, for clarity.\n\nWe can, and should of course, continue to list files created by the\ntools recommended by our workflow (test frameworks called from tox,\ndocumentation and packaging builds, et cetera).\n\nChange-Id: I4774772ec30611b0acd1ad2aadcf6a1a3f93938c\n'}, {'number': 4, 'created': '2019-01-30 11:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/652248963195170cd4daf942aee92fbcbe7d60c8', 'message': '[Configuration] Clean up .gitignore references to personal tools\n\nDevelopers run all sorts of different tools within Git repositories,\nany of which can leave their own special trashfiles all over the\nplace. We can\'t every hope to catalog them all, so better to\nrecommend developers simply configure a global core.excludesfile to\nfilter the irrelevant files which tend to get created by their\npersonal choice of tools.\n\nTo this end, remove the long-standing sections for ""Mr Developer""\nand ""Editors"" since their mere existence here sends the signal that\nwe welcome (and have time to review) additions for any old tool\nsomeone ever might happen to try. Also add a comment block\nexplaining this, for clarity.\n\nWe can, and should of course, continue to list files created by the\ntools recommended by our workflow (test frameworks called from tox,\ndocumentation and packaging builds, et cetera).\n\nChange-Id: I4774772ec30611b0acd1ad2aadcf6a1a3f93938c\n'}, {'number': 5, 'created': '2019-01-31 15:17:57.000000000', 'files': ['.gitignore', 'doc/source/contributor/development_environment.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0239f163b1caa0e425e5d8608d721ec37b67e6ad', 'message': '[Configuration] Clean up .gitignore references to personal tools\n\nDevelopers run all sorts of different tools within Git repositories,\nany of which can leave their own special trashfiles all over the\nplace. We can\'t every hope to catalog them all, so better to\nrecommend developers simply configure a global core.excludesfile to\nfilter the irrelevant files which tend to get created by their\npersonal choice of tools.\n\nTo this end, remove the long-standing sections for ""Mr Developer""\nand ""Editors"" since their mere existence here sends the signal that\nwe welcome (and have time to review) additions for any old tool\nsomeone ever might happen to try. Also add a comment block\nexplaining this, for clarity.\n\nWe can, and should of course, continue to list files created by the\ntools recommended by our workflow (test frameworks called from tox,\ndocumentation and packaging builds, et cetera).\n\nChange-Id: I4774772ec30611b0acd1ad2aadcf6a1a3f93938c\n'}]",3,632094,0239f163b1caa0e425e5d8608d721ec37b67e6ad,31,9,5,29222,,,0,"[Configuration] Clean up .gitignore references to personal tools

Developers run all sorts of different tools within Git repositories,
any of which can leave their own special trashfiles all over the
place. We can't every hope to catalog them all, so better to
recommend developers simply configure a global core.excludesfile to
filter the irrelevant files which tend to get created by their
personal choice of tools.

To this end, remove the long-standing sections for ""Mr Developer""
and ""Editors"" since their mere existence here sends the signal that
we welcome (and have time to review) additions for any old tool
someone ever might happen to try. Also add a comment block
explaining this, for clarity.

We can, and should of course, continue to list files created by the
tools recommended by our workflow (test frameworks called from tox,
documentation and packaging builds, et cetera).

Change-Id: I4774772ec30611b0acd1ad2aadcf6a1a3f93938c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/632094/3 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,faddb55b4c3f9f0583c6ce8e88ee005f1250b41b,clean_up_gitignore,"# Add patterns in here to exclude files created by tools integrated with this # repository, such as test frameworks from the project's recommended workflow, # rendered documentation and package builds. # # Don't add patterns to exclude files created by preferred personal tools # (editors, IDEs, your operating system itself even). These should instead be # maintained outside the repository, for example in a ~/.gitignore file added # with: # # git config --global core.excludesfile '~/.gitignore' # Bytecompiled Python *.py[cod] # C extensions *.so # Packages *.egg* *.egg-info dist build eggs parts bin var sdist develop-eggs .installed.cfg lib lib64 # Installer logs pip-log.txt # Unit test / coverage reports.coverage* !.coveragerc .tox nosetests.xml .testrepository .stestr .venv # Translations *.mo # Complexity output/*.html output/*/index.html # Sphinx doc/build doc/source/ # pbr generates these AUTHORS ChangeLog",AUTHORS build/* build-stamp ChangeLogcovhtml/ dist/ doc/build doc/source/_static/config-samples/*.sample doc/source/_static/*.policy.yaml.sample*.DS_Store *.pyc neutron.egg-info/ neutron/vcsversion.py neutron/versioninfo pbr*.egg/ setuptools*.egg/ *.log *.mo *.sw? *~ /.* !/.coveragerc !/.gitignore !/.gitreview !/.mailmap !/.pylintrc !/.stestr.conf !/.zuul.yaml .stestr/,59,29
openstack%2Fneutron~master~Iee2f72acf6814a0f8f76d240862429a8b63c3b09,openstack/neutron,master,Iee2f72acf6814a0f8f76d240862429a8b63c3b09,Don't specify exactly IP in portforwarding functional test,MERGED,2019-02-01 13:53:32.000000000,2019-02-07 02:09:30.000000000,2019-02-07 02:09:30.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-02-01 13:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4cd08ec6c5c22a401d1cfd4ec61959887bd80ada', 'message': 'Don\'t specify exactly IP in portforwarding functional test\n\nIn Port Forwarding functional tests, port is created in setUp()\nmethod. This port had specified exactly IP address and subnet to use\nand sometimes that caused ""409 conflict"" response from Neutron.\n\nThis patch changes it and now only subnet id is specified. IP\naddress for port will be choosen by Neutron\'s IPAM driver.\n\nChange-Id: Iee2f72acf6814a0f8f76d240862429a8b63c3b09\nCloses-bug: #1813540\n'}, {'number': 2, 'created': '2019-02-04 05:34:39.000000000', 'files': ['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/tests/functional/services/portforwarding/test_port_forwarding.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/414bdd4c5997886c97d0e3a0b19c684dafeabb7a', 'message': 'Don\'t specify exactly IP in portforwarding functional test\n\nIn Port Forwarding functional tests, port is created in setUp()\nmethod. This port had specified exactly IP address and subnet to use.\nThis was proposed in [1] to fix issue when new port created in same\nsubnet got sometimes IP address outside of subnet range.\nUnfortunatelly that fix was not enough and caused other issues\nas sometimes this ""fixed"" IP address used for port might be\nused e.g. by router_interface port and that caused sometimes\n""409 conflict"" response from Neutron sometimes.\n\nThis patch adds additional method in\nneutron.tests.unit.db.test_db_base_plugin_v2 module to find first\nfree IP address from given subnet.\nThis method is now used in port forwarding tests module to choose\nIP address for second created port in the subnet so there should be\nno conflicts with IP addresses anymore.\n\n[1] https://review.openstack.org/#/c/631815\n\nChange-Id: Iee2f72acf6814a0f8f76d240862429a8b63c3b09\nCloses-bug: #1813540\n'}]",5,634412,414bdd4c5997886c97d0e3a0b19c684dafeabb7a,25,8,2,11975,,,0,"Don't specify exactly IP in portforwarding functional test

In Port Forwarding functional tests, port is created in setUp()
method. This port had specified exactly IP address and subnet to use.
This was proposed in [1] to fix issue when new port created in same
subnet got sometimes IP address outside of subnet range.
Unfortunatelly that fix was not enough and caused other issues
as sometimes this ""fixed"" IP address used for port might be
used e.g. by router_interface port and that caused sometimes
""409 conflict"" response from Neutron sometimes.

This patch adds additional method in
neutron.tests.unit.db.test_db_base_plugin_v2 module to find first
free IP address from given subnet.
This method is now used in port forwarding tests module to choose
IP address for second created port in the subnet so there should be
no conflicts with IP addresses anymore.

[1] https://review.openstack.org/#/c/631815

Change-Id: Iee2f72acf6814a0f8f76d240862429a8b63c3b09
Closes-bug: #1813540
",git fetch https://review.opendev.org/openstack/neutron refs/changes/12/634412/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/services/portforwarding/test_port_forwarding.py'],1,4cd08ec6c5c22a401d1cfd4ec61959887bd80ada,bug/1813540, fixed_ips=[{'subnet_id': self.subnet['id']}]).json['port']," fixed_ips=[{'subnet_id': self.subnet['id'], 'ip_address': '10.0.0.100'}]).json['port']",1,2
openstack%2Ftacker-specs~master~I41f7bad04a144cd16223c5ca7a02519dada16adf,openstack/tacker-specs,master,I41f7bad04a144cd16223c5ca7a02519dada16adf,Adds support to force-delete resources,MERGED,2018-09-14 05:34:20.000000000,2019-02-07 02:05:14.000000000,2019-02-07 02:05:14.000000000,"[{'_account_id': 18955}, {'_account_id': 19644}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 27068}]","[{'number': 1, 'created': '2018-09-14 05:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/e621bdee366720f20d951c0df56d498e4056ad88', 'message': 'Adds support to force-delete resources\n\nNew feature to supports force delete Tacker resources like VNF, NS, VNFFG.\n\nblueprint force-delete-resources\n\nChange-Id: I41f7bad04a144cd16223c5ca7a02519dada16adf\n'}, {'number': 2, 'created': '2018-12-17 12:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/07e1154d0c5e841ad94288717c6a6d63e073aca9', 'message': 'Adds support to force-delete resources\n\nNew feature to supports force delete Tacker resources like VNF, NS, VNFFG.\n\nblueprint force-delete-resources\n\nChange-Id: I41f7bad04a144cd16223c5ca7a02519dada16adf\n'}, {'number': 3, 'created': '2018-12-17 13:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/3e989c702de894b8b0214e7ef654e724dc9e3e94', 'message': 'Adds support to force-delete resources\n\nNew feature to supports force delete Tacker resources like VNF, NS, VNFFG.\n\nblueprint force-delete-resources\n\nChange-Id: I41f7bad04a144cd16223c5ca7a02519dada16adf\n'}, {'number': 4, 'created': '2018-12-19 06:13:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/911235548b22c3958a23cf5e41e52fd7f35d8bd6', 'message': 'Adds support to force-delete resources\n\nNew feature to supports force delete Tacker resources like VNF, NS, VNFFG.\n\nblueprint force-delete-resources\n\nChange-Id: I41f7bad04a144cd16223c5ca7a02519dada16adf\n'}, {'number': 5, 'created': '2019-01-24 09:25:51.000000000', 'files': ['specs/stein/support-force-delete.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/62e0610649a891de82bd48343d4e8c645d5e5f94', 'message': 'Adds support to force-delete resources\n\nNew feature to supports force delete Tacker resources like VNF, NS, VNFFG.\n\nblueprint force-delete-resources\n\nChange-Id: I41f7bad04a144cd16223c5ca7a02519dada16adf\n'}]",15,602528,62e0610649a891de82bd48343d4e8c645d5e5f94,22,6,5,18955,,,0,"Adds support to force-delete resources

New feature to supports force delete Tacker resources like VNF, NS, VNFFG.

blueprint force-delete-resources

Change-Id: I41f7bad04a144cd16223c5ca7a02519dada16adf
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/28/602528/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/support-force-delete.rst'],1,e621bdee366720f20d951c0df56d498e4056ad88,bp/force-delete-resources,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ====================== Force Delete resources ====================== https://blueprints.launchpad.net/tacker/+spec/force-delete-resources Provide support to force delete resources being stucked in some state like pending, error etc.. Problem description =================== In the current implementation, if resources(i.e. VNFs) stuck in some abnormal state, we don't have mechanism to clean them. It is required to clean those resource from database. Like, when VNF delete fails due to underlying system or software error, those VNFs goes into PENDING_DELETE state. Now, vnf-delete on these PENDING_DELETE VNFs doesn't work and these VNFs are stuck for ever. We need to provide some machanism for admin to ""force"" the deletion of VNFs in PENDING_DELETE state. Proposed change =============== New API for resources(i.e. VNF, NS & VNFFG) and corresponding support in command will be added to force delete these resources.. The purpose is to make admin capable to quickly delete the resources that are not furthor usable, and stuck in ERROR or PENDING_* state. * To avoid the chances of accesint, we will keep it as an admin-only operation. Alternatives ------------ Login to Tacker database, use the sql commands to list the resources those are in stuck in PENDING_* state, and then remove them manually from the database. Keep in mind to update other related tables too. Data model impact ----------------- None REST API impact --------------- TBD Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- None Work Items ---------- * Support REST API * Support in CLI * Support in GUI * Add Test cases * Update docs for these support. Dependencies ============ None Testing ======= None Documentation Impact ==================== Tacker documentation will need to be updated to reflect this new support. References ========== None ",,131,0
openstack%2Fneutron~stable%2Frocky~If98a82f8432b09a29f9d0cc6627e9649b43bc4a1,openstack/neutron,stable/rocky,If98a82f8432b09a29f9d0cc6627e9649b43bc4a1,Fix port update deferred IP allocation with host_id + new MAC,MERGED,2019-01-31 07:35:42.000000000,2019-02-07 01:16:34.000000000,2019-02-07 01:16:34.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-01-31 07:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/65d3fc0e02bc1b792a8bec9ef242792886adad04', 'message': ""Fix port update deferred IP allocation with host_id + new MAC\n\nIP allocation was initially deffered due to lack of binding\ninformation. On port update the with both `mac_address` and\n`binding_host_id`` in the request 'fixed_ips: []' was\nappended to the new_port data. This caused the check for\nfixed_ips_requested to return True, which in turn cause\ndeferred_ip_allocation to evaluates False.\n\nOnly set the new_port default fixed_ips to original_ips if\nthe original port had fixed_ips.\n\nCloses-Bug: #1811905\nChange-Id: If98a82f8432b09a29f9d0cc6627e9649b43bc4a1\n(cherry picked from commit b0d758e1b4af9aed8c2da6e0bac4723d8e4f5443)\n""}, {'number': 2, 'created': '2019-02-01 12:21:12.000000000', 'files': ['neutron/db/ipam_pluggable_backend.py', 'neutron/tests/unit/extensions/test_segment.py', 'releasenotes/notes/fix-deferred-alloction-when-new-mac-in-same-request-as-binding-data-2a01c1ed1a8eff66.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b3f32e190090dc7fa922ef4d7c88e3510c6b3c7b', 'message': ""Fix port update deferred IP allocation with host_id + new MAC\n\nIP allocation was initially deffered due to lack of binding\ninformation. On port update the with both `mac_address` and\n`binding_host_id`` in the request 'fixed_ips: []' was\nappended to the new_port data. This caused the check for\nfixed_ips_requested to return True, which in turn cause\ndeferred_ip_allocation to evaluates False.\n\nOnly set the new_port default fixed_ips to original_ips if\nthe original port had fixed_ips.\n\nCloses-Bug: #1811905\nChange-Id: If98a82f8432b09a29f9d0cc6627e9649b43bc4a1\n(cherry picked from commit b0d758e1b4af9aed8c2da6e0bac4723d8e4f5443)\n""}]",0,634111,b3f32e190090dc7fa922ef4d7c88e3510c6b3c7b,10,4,2,24245,,,0,"Fix port update deferred IP allocation with host_id + new MAC

IP allocation was initially deffered due to lack of binding
information. On port update the with both `mac_address` and
`binding_host_id`` in the request 'fixed_ips: []' was
appended to the new_port data. This caused the check for
fixed_ips_requested to return True, which in turn cause
deferred_ip_allocation to evaluates False.

Only set the new_port default fixed_ips to original_ips if
the original port had fixed_ips.

Closes-Bug: #1811905
Change-Id: If98a82f8432b09a29f9d0cc6627e9649b43bc4a1
(cherry picked from commit b0d758e1b4af9aed8c2da6e0bac4723d8e4f5443)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/11/634111/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/ipam_pluggable_backend.py', 'neutron/tests/unit/extensions/test_segment.py', 'releasenotes/notes/fix-deferred-alloction-when-new-mac-in-same-request-as-binding-data-2a01c1ed1a8eff66.yaml']",3,65d3fc0e02bc1b792a8bec9ef242792886adad04,bug/1811905-stable/rocky,"--- fixes: - | Fixes an issue causing IP allocation on port update to fail when the initial IP allocation was deferred due to lack of binding info. If both the port mac_address and binding info (binding_host_id) were updated in the same request, the fixed_ips field was added to the request internally. The code to complete the deferred allocation failed to execute in that case. (For more information see bug `1811905 <https://bugs.launchpad.net/neutron/+bug/1811905>`_.) ",,40,2
openstack%2Fneutron~stable%2Fqueens~I4a045e0dcfcbd3c7959a78f1460d5bf7da0252ff,openstack/neutron,stable/queens,I4a045e0dcfcbd3c7959a78f1460d5bf7da0252ff,Always fill UDP checksums in DHCPv6 replies,MERGED,2019-02-01 23:23:48.000000000,2019-02-07 01:16:25.000000000,2019-02-07 01:16:25.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-02-01 23:23:48.000000000', 'files': ['neutron/common/constants.py', 'neutron/tests/unit/agent/dhcp/test_agent.py', 'neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f920dfea8c3ab2dba3b455056336cd95bb3336c1', 'message': 'Always fill UDP checksums in DHCPv6 replies\n\nBug #1244589 re-appeared for IPv6.\n\nThis change adds an ip6tables rule to fix the checksum of DHCPv6\nresponse packets. Those checksums were left unfilled by virtio (as a\nhypervisor internal optimization), but some picky dhcp clients (AFAIU\nparticularly ISC dhclient) try verifying the checksums, so they fail\nto acquire an address if the checksums are left incorrect.\n\nChange-Id: I4a045e0dcfcbd3c7959a78f1460d5bf7da0252ff\nCloses-Bug: #1811639\nRelated-Bug: #1244589\n(cherry picked from commit 26eb2509fea632e67ffabcc15195cc13ee02bf68)\n'}]",0,634514,f920dfea8c3ab2dba3b455056336cd95bb3336c1,9,4,1,7016,,,0,"Always fill UDP checksums in DHCPv6 replies

Bug #1244589 re-appeared for IPv6.

This change adds an ip6tables rule to fix the checksum of DHCPv6
response packets. Those checksums were left unfilled by virtio (as a
hypervisor internal optimization), but some picky dhcp clients (AFAIU
particularly ISC dhclient) try verifying the checksums, so they fail
to acquire an address if the checksums are left incorrect.

Change-Id: I4a045e0dcfcbd3c7959a78f1460d5bf7da0252ff
Closes-Bug: #1811639
Related-Bug: #1244589
(cherry picked from commit 26eb2509fea632e67ffabcc15195cc13ee02bf68)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/14/634514/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/constants.py', 'neutron/tests/unit/agent/dhcp/test_agent.py', 'neutron/agent/linux/dhcp.py']",3,f920dfea8c3ab2dba3b455056336cd95bb3336c1,bug/1811639-stable/queens," iptables_mgr = iptables_manager.IptablesManager(use_ipv6=True, ipv6_rule = ('-p udp -m udp --dport %d -j CHECKSUM --checksum-fill' % n_const.DHCPV6_CLIENT_PORT) iptables_mgr.ipv6['mangle'].add_rule('POSTROUTING', ipv6_rule)"," iptables_mgr = iptables_manager.IptablesManager(use_ipv6=False,",21,5
openstack%2Fneutron~stable%2Frocky~I4a045e0dcfcbd3c7959a78f1460d5bf7da0252ff,openstack/neutron,stable/rocky,I4a045e0dcfcbd3c7959a78f1460d5bf7da0252ff,Always fill UDP checksums in DHCPv6 replies,MERGED,2019-02-01 23:23:06.000000000,2019-02-07 01:16:20.000000000,2019-02-07 01:16:20.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 10980}, {'_account_id': 15554}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-02-01 23:23:06.000000000', 'files': ['neutron/common/constants.py', 'neutron/tests/unit/agent/dhcp/test_agent.py', 'neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/50a7a74e97abe92430a835f7e440c50989c4e4df', 'message': 'Always fill UDP checksums in DHCPv6 replies\n\nBug #1244589 re-appeared for IPv6.\n\nThis change adds an ip6tables rule to fix the checksum of DHCPv6\nresponse packets. Those checksums were left unfilled by virtio (as a\nhypervisor internal optimization), but some picky dhcp clients (AFAIU\nparticularly ISC dhclient) try verifying the checksums, so they fail\nto acquire an address if the checksums are left incorrect.\n\nChange-Id: I4a045e0dcfcbd3c7959a78f1460d5bf7da0252ff\nCloses-Bug: #1811639\nRelated-Bug: #1244589\n(cherry picked from commit 26eb2509fea632e67ffabcc15195cc13ee02bf68)\n'}]",0,634512,50a7a74e97abe92430a835f7e440c50989c4e4df,11,7,1,7016,,,0,"Always fill UDP checksums in DHCPv6 replies

Bug #1244589 re-appeared for IPv6.

This change adds an ip6tables rule to fix the checksum of DHCPv6
response packets. Those checksums were left unfilled by virtio (as a
hypervisor internal optimization), but some picky dhcp clients (AFAIU
particularly ISC dhclient) try verifying the checksums, so they fail
to acquire an address if the checksums are left incorrect.

Change-Id: I4a045e0dcfcbd3c7959a78f1460d5bf7da0252ff
Closes-Bug: #1811639
Related-Bug: #1244589
(cherry picked from commit 26eb2509fea632e67ffabcc15195cc13ee02bf68)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/12/634512/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/constants.py', 'neutron/tests/unit/agent/dhcp/test_agent.py', 'neutron/agent/linux/dhcp.py']",3,50a7a74e97abe92430a835f7e440c50989c4e4df,bug/1811639-stable/rocky," iptables_mgr = iptables_manager.IptablesManager(use_ipv6=True, ipv6_rule = ('-p udp -m udp --dport %d -j CHECKSUM --checksum-fill' % n_const.DHCPV6_CLIENT_PORT) iptables_mgr.ipv6['mangle'].add_rule('POSTROUTING', ipv6_rule)"," iptables_mgr = iptables_manager.IptablesManager(use_ipv6=False,",21,5
openstack%2Fneutron~stable%2Fqueens~I594e2d1238f6ffa3c1039624e3b3ed6569485837,openstack/neutron,stable/queens,I594e2d1238f6ffa3c1039624e3b3ed6569485837,Update neutron files for new over-indentation hacking rule (E117),MERGED,2019-02-01 11:00:31.000000000,2019-02-07 01:16:17.000000000,2019-02-07 01:16:16.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 10980}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-02-01 11:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c2636ce279a4802327abc292a0e09735c77d3e2f', 'message': 'Update neutron files for new over-indentation hacking rule (E117)\n\nChange-Id: I594e2d1238f6ffa3c1039624e3b3ed6569485837\n(cherry picked from commit 8914f8247f052ff55836612a08dda8403e18ebc0)\n(cherry picked from commit b92ecfc61508c56fc7bea4f57409107a566fb154)\n'}, {'number': 2, 'created': '2019-02-02 10:49:01.000000000', 'files': ['neutron/objects/qos/qos_policy_validator.py', 'neutron/tests/unit/plugins/ml2/drivers/macvtap/agent/test_macvtap_neutron_agent.py', 'neutron/db/migration/alembic_migrations/versions/newton/contract/a8b517cff8ab_add_routerport_bindings_for_ha.py', 'neutron/tests/unit/extensions/test_securitygroup.py', 'neutron/tests/unit/extensions/test_l3_ext_gw_mode.py', 'neutron/tests/unit/api/test_extensions.py', 'neutron/tests/unit/services/trunk/test_plugin.py', 'neutron/tests/unit/objects/test_base.py', 'neutron/tests/functional/db/test_migrations.py', 'neutron/tests/unit/agent/linux/test_utils.py', 'neutron/tests/unit/db/quota/test_api.py', 'neutron/plugins/ml2/rpc.py', 'neutron/tests/unit/plugins/ml2/drivers/linuxbridge/agent/test_linuxbridge_neutron_agent.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/tests/unit/tests/test_post_mortem_debug.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/agent/l3/router_info.py', 'neutron/tests/unit/test_wsgi.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/tests/unit/db/test_agentschedulers_db.py', 'neutron/tests/unit/db/test_ipam_pluggable_backend.py', 'neutron/tests/unit/plugins/ml2/drivers/mech_sriov/mech_driver/test_mech_sriov_nic_switch.py', 'neutron/tests/unit/services/l3_router/service_providers/test_driver_controller.py', 'neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/tests/unit/db/test_l3_hamode_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3e0f090b5b4be3c595e50bc157a5ae3db26a7ee2', 'message': 'Update neutron files for new over-indentation hacking rule (E117)\n\nChange-Id: I594e2d1238f6ffa3c1039624e3b3ed6569485837\n(cherry picked from commit 8914f8247f052ff55836612a08dda8403e18ebc0)\n(cherry picked from commit b92ecfc61508c56fc7bea4f57409107a566fb154)\n'}]",1,634395,3e0f090b5b4be3c595e50bc157a5ae3db26a7ee2,15,9,2,16688,,,0,"Update neutron files for new over-indentation hacking rule (E117)

Change-Id: I594e2d1238f6ffa3c1039624e3b3ed6569485837
(cherry picked from commit 8914f8247f052ff55836612a08dda8403e18ebc0)
(cherry picked from commit b92ecfc61508c56fc7bea4f57409107a566fb154)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/634395/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/objects/qos/qos_policy_validator.py', 'neutron/tests/unit/plugins/ml2/drivers/macvtap/agent/test_macvtap_neutron_agent.py', 'neutron/db/migration/alembic_migrations/versions/newton/contract/a8b517cff8ab_add_routerport_bindings_for_ha.py', 'neutron/tests/unit/extensions/test_securitygroup.py', 'neutron/tests/unit/extensions/test_l3_ext_gw_mode.py', 'neutron/tests/unit/api/test_extensions.py', 'neutron/tests/unit/services/trunk/test_plugin.py', 'neutron/tests/unit/objects/test_base.py', 'neutron/tests/functional/db/test_migrations.py', 'neutron/tests/unit/agent/linux/test_utils.py', 'neutron/tests/unit/db/quota/test_api.py', 'neutron/plugins/ml2/rpc.py', 'neutron/tests/unit/plugins/ml2/drivers/linuxbridge/agent/test_linuxbridge_neutron_agent.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/tests/unit/tests/test_post_mortem_debug.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/agent/l3/router_info.py', 'neutron/tests/unit/test_wsgi.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/tests/unit/db/test_agentschedulers_db.py', 'neutron/tests/unit/db/test_ipam_pluggable_backend.py', 'neutron/tests/unit/plugins/ml2/drivers/mech_sriov/mech_driver/test_mech_sriov_nic_switch.py', 'neutron/tests/unit/services/l3_router/service_providers/test_driver_controller.py', 'neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/tests/unit/db/test_l3_hamode_db.py']",25,c2636ce279a4802327abc292a0e09735c77d3e2f,new-hacking," self.assertRaises(ValueError, self.plugin._create_ha_network, self.admin_ctx, _uuid())"," self.assertRaises(ValueError, self.plugin._create_ha_network, self.admin_ctx, _uuid())",280,277
openstack%2Fopenstack-ansible-os_tempest~master~Iad93fc19b8b0a2e857064f4c69f63b9aa2baba7a,openstack/openstack-ansible-os_tempest,master,Iad93fc19b8b0a2e857064f4c69f63b9aa2baba7a,venv: use inventory_hostname instead of ansible_hostname,MERGED,2019-02-06 15:18:05.000000000,2019-02-07 00:44:42.000000000,2019-02-07 00:44:41.000000000,"[{'_account_id': 1004}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-02-06 15:18:05.000000000', 'files': ['tasks/tempest_install_source.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/b195fbff39ca71598535badc8808717392a03cec', 'message': 'venv: use inventory_hostname instead of ansible_hostname\n\nIt is possible that the hostname of the system does not match the\none in the inventory which means that the delegate_to or the\ncomparision to inventory_hostname will fail in the tasks later.\n\nChange-Id: Iad93fc19b8b0a2e857064f4c69f63b9aa2baba7a\n'}]",0,635187,b195fbff39ca71598535badc8808717392a03cec,9,4,1,28521,,,0,"venv: use inventory_hostname instead of ansible_hostname

It is possible that the hostname of the system does not match the
one in the inventory which means that the delegate_to or the
comparision to inventory_hostname will fail in the tasks later.

Change-Id: Iad93fc19b8b0a2e857064f4c69f63b9aa2baba7a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/87/635187/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/tempest_install_source.yml'],1,b195fbff39ca71598535badc8808717392a03cec,," venv_build_host: ""{{ inventory_hostname }}"""," venv_build_host: ""{{ ansible_hostname }}""",1,1
openstack%2Foctavia~master~I4029f4fa2e28f4f50c1897b6216c0d8557b2a56b,openstack/octavia,master,I4029f4fa2e28f4f50c1897b6216c0d8557b2a56b,Improve local hacking checks test coverage,MERGED,2019-01-11 00:25:22.000000000,2019-02-06 23:28:26.000000000,2019-02-06 23:28:25.000000000,"[{'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-11 00:25:22.000000000', 'files': ['octavia/tests/unit/test_hacking.py', 'octavia/hacking/checks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/ff1e933eef6ef5c93978c1d0f99cb24ff009f26c', 'message': 'Improve local hacking checks test coverage\n\nThis patch improves the unit test coverage for the local hacking checks.\nIt also removes the ""no_author_tags"" check as it is now covered in the\nmain hacking rule H105.\n\nChange-Id: I4029f4fa2e28f4f50c1897b6216c0d8557b2a56b\n'}]",0,629955,ff1e933eef6ef5c93978c1d0f99cb24ff009f26c,23,5,1,11628,,,0,"Improve local hacking checks test coverage

This patch improves the unit test coverage for the local hacking checks.
It also removes the ""no_author_tags"" check as it is now covered in the
main hacking rule H105.

Change-Id: I4029f4fa2e28f4f50c1897b6216c0d8557b2a56b
",git fetch https://review.opendev.org/openstack/octavia refs/changes/55/629955/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/test_hacking.py', 'octavia/hacking/checks.py']",2,ff1e933eef6ef5c93978c1d0f99cb24ff009f26c,,,"author_tag_re = (re.compile(""^\s*#\s*@?(a|A)uthor""), re.compile(""^\.\.\s+moduleauthor::"")) def no_author_tags(physical_line): for regex in author_tag_re: if regex.match(physical_line): physical_line = physical_line.lower() pos = physical_line.find('moduleauthor') if pos < 0: pos = physical_line.find('author') return pos, ""O322: Don't use author tags"" return None register(no_author_tags)",96,15
openstack%2Fmanila-tempest-plugin~master~I4245cd202543cfefb0aa4e9c56ab949e2a9821f6,openstack/manila-tempest-plugin,master,I4245cd202543cfefb0aa4e9c56ab949e2a9821f6,Scenario test: Create/manage share and write data,MERGED,2018-02-18 15:06:08.000000000,2019-02-06 23:25:35.000000000,2019-02-06 23:25:35.000000000,"[{'_account_id': 8871}, {'_account_id': 9003}, {'_account_id': 14567}, {'_account_id': 16643}, {'_account_id': 17097}, {'_account_id': 17780}, {'_account_id': 18142}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26503}, {'_account_id': 26535}, {'_account_id': 26968}, {'_account_id': 27697}]","[{'number': 1, 'created': '2018-02-18 15:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/d2274f4045e2e1f0e683d9ffd47bf7b7da840408', 'message': '[ do not merge ] Scenario test: Create/manage share and write data\n\nChange-Id: I4245cd202543cfefb0aa4e9c56ab949e2a9821f6\n'}, {'number': 2, 'created': '2018-02-20 17:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/99edb2a9f7b36822ad56e93072b9b81dabab9e72', 'message': '[ do not merge ] Scenario test: Create/manage share and write data\n\nChange-Id: I4245cd202543cfefb0aa4e9c56ab949e2a9821f6\n'}, {'number': 3, 'created': '2018-02-20 19:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/554b55b470b2718ee0cba9122c604eb49b1d5bae', 'message': '[ do not merge ] Scenario test: Create/manage share and write data\n\nChange-Id: I4245cd202543cfefb0aa4e9c56ab949e2a9821f6\n'}, {'number': 4, 'created': '2018-06-30 19:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/430c54dfd02a462ba1605b703b8b7f4b0bd28c02', 'message': '[ do not merge ] Scenario test: Create/manage share and write data\n\nChange-Id: I4245cd202543cfefb0aa4e9c56ab949e2a9821f6\n'}, {'number': 5, 'created': '2018-06-30 19:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/9e5cf4a16bf51ca15e00a0346f067d712080331a', 'message': 'Scenario test: Create/manage share and write data\n\nImplements test #6 from:\nhttps://specs.openstack.org/openstack/manila-specs/specs/ocata/scenario-tests.html\n\nChange-Id: I4245cd202543cfefb0aa4e9c56ab949e2a9821f6\n'}, {'number': 6, 'created': '2018-07-05 07:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/2b7112c450e622cff72a700c6d5b00af49b72d4a', 'message': 'Scenario test: Create/manage share and write data\n\nImplements test #6 from:\nhttps://specs.openstack.org/openstack/manila-specs/specs/ocata/scenario-tests.html\n\nChange-Id: I4245cd202543cfefb0aa4e9c56ab949e2a9821f6\n'}, {'number': 7, 'created': '2018-07-05 10:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/9d99b6b3c1235e4599b20a42d93fe4b0255432bf', 'message': 'Scenario test: Create/manage share and write data\n\nImplements test #6 from:\nhttps://specs.openstack.org/openstack/manila-specs/specs/ocata/scenario-tests.html\n\nChange-Id: I4245cd202543cfefb0aa4e9c56ab949e2a9821f6\n'}, {'number': 8, 'created': '2018-07-05 13:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/c710dacf0232bdb1a8275ee96f560d97ac1e479d', 'message': 'Scenario test: Create/manage share and write data\n\nImplements test #6 from:\nhttps://specs.openstack.org/openstack/manila-specs/specs/ocata/scenario-tests.html\n\nChange-Id: I4245cd202543cfefb0aa4e9c56ab949e2a9821f6\n'}, {'number': 9, 'created': '2018-07-13 15:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/52dddae4db88519c6b7417d9f532b0ffa0406eff', 'message': 'Scenario test: Create/manage share and write data\n\nImplements test #6 from:\nhttps://specs.openstack.org/openstack/manila-specs/specs/ocata/scenario-tests.html\n\nChange-Id: I4245cd202543cfefb0aa4e9c56ab949e2a9821f6\n'}, {'number': 10, 'created': '2018-07-15 14:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/67693be235846c184a20f9679646962fd15842c4', 'message': 'Scenario test: Create/manage share and write data\n\nImplements test #6 from:\nhttps://specs.openstack.org/openstack/manila-specs/specs/ocata/scenario-tests.html\n\nChange-Id: I4245cd202543cfefb0aa4e9c56ab949e2a9821f6\n'}, {'number': 11, 'created': '2018-07-15 20:14:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/8f8fda75447ae43cea33d4dcc3853a2f4bcdc06a', 'message': 'Scenario test: Create/manage share and write data\n\nImplements test #6 from:\nhttps://specs.openstack.org/openstack/manila-specs/specs/ocata/scenario-tests.html\n\nChange-Id: I4245cd202543cfefb0aa4e9c56ab949e2a9821f6\n'}, {'number': 12, 'created': '2018-07-21 05:04:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/104c5803b463d73fd6e2bf47ce50e76a2725cc6e', 'message': 'Scenario test: Create/manage share and write data\n\nImplements test #6 from:\nhttps://specs.openstack.org/openstack/manila-specs/specs/ocata/scenario-tests.html\n\nChange-Id: I4245cd202543cfefb0aa4e9c56ab949e2a9821f6\n'}, {'number': 13, 'created': '2018-07-21 06:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/a64968c8d6afb363e1c1d3e2a580e224eb9ec010', 'message': 'Scenario test: Create/manage share and write data\n\nImplements test #6 from:\nhttps://specs.openstack.org/openstack/manila-specs/specs/ocata/scenario-tests.html\n\nChange-Id: I4245cd202543cfefb0aa4e9c56ab949e2a9821f6\n'}, {'number': 14, 'created': '2018-07-21 19:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/98b81ba3dbf83368cfb466e9b48f54a2f14e6574', 'message': 'Scenario test: Create/manage share and write data\n\nImplements test #6 from:\nhttps://specs.openstack.org/openstack/manila-specs/specs/ocata/scenario-tests.html\n\nChange-Id: I4245cd202543cfefb0aa4e9c56ab949e2a9821f6\n'}, {'number': 15, 'created': '2018-07-22 08:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/bf7605497d7e9a669c8168c5a2653719ae4e5dc8', 'message': 'Scenario test: Create/manage share and write data\n\nImplements test #6 from:\nhttps://specs.openstack.org/openstack/manila-specs/specs/ocata/scenario-tests.html\n\nChange-Id: I4245cd202543cfefb0aa4e9c56ab949e2a9821f6\n'}, {'number': 16, 'created': '2018-07-24 19:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/bbca39421896f7325f3fd3715876a829cbdd4305', 'message': 'Scenario test: Create/manage share and write data\n\nImplements test #6 from:\nhttps://specs.openstack.org/openstack/manila-specs/specs/ocata/scenario-tests.html\n\nChange-Id: I4245cd202543cfefb0aa4e9c56ab949e2a9821f6\n'}, {'number': 17, 'created': '2018-07-27 14:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/f1cb3a067432bee224020adf6dd60a66e18b0f61', 'message': 'Scenario test: Create/manage share and write data\n\nImplements test #6 from:\nhttps://specs.openstack.org/openstack/manila-specs/specs/ocata/scenario-tests.html\n\nChange-Id: I4245cd202543cfefb0aa4e9c56ab949e2a9821f6\n'}, {'number': 18, 'created': '2018-07-28 09:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/032a1fae6d429058257d66fb04975d8abfc30b71', 'message': 'Scenario test: Create/manage share and write data\n\nImplements test #6 from:\nhttps://specs.openstack.org/openstack/manila-specs/specs/ocata/scenario-tests.html\n\nChange-Id: I4245cd202543cfefb0aa4e9c56ab949e2a9821f6\n'}, {'number': 19, 'created': '2018-11-16 11:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/f192b70d734f51557ab1751673e493056555e572', 'message': 'Scenario test: Create/manage share and write data\n\nImplements test #6 from:\nhttps://specs.openstack.org/openstack/manila-specs/specs/ocata/scenario-tests.html\n\nChange-Id: I4245cd202543cfefb0aa4e9c56ab949e2a9821f6\n'}, {'number': 20, 'created': '2019-01-25 16:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/7a8b5e2d3d260c37ac37f7aa7a5e6cd72b78b990', 'message': 'Scenario test: Create/manage share and write data\n\nImplements test #6 from:\nhttps://specs.openstack.org/openstack/manila-specs/specs/ocata/scenario-tests.html\n\nChange-Id: I4245cd202543cfefb0aa4e9c56ab949e2a9821f6\n'}, {'number': 21, 'created': '2019-01-27 09:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/c1945d59a9002dc840104ec222a32b6b3aa206d5', 'message': 'Scenario test: Create/manage share and write data\n\nImplements test #6 from:\nhttps://specs.openstack.org/openstack/manila-specs/specs/ocata/scenario-tests.html\n\nChange-Id: I4245cd202543cfefb0aa4e9c56ab949e2a9821f6\n'}, {'number': 22, 'created': '2019-01-28 15:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/2629312e340eaa92df1feaba0d623fc5cb55af9f', 'message': 'Scenario test: Create/manage share and write data\n\nImplements test #6 from:\nhttps://specs.openstack.org/openstack/manila-specs/specs/ocata/scenario-tests.html\n\nChange-Id: I4245cd202543cfefb0aa4e9c56ab949e2a9821f6\n'}, {'number': 23, 'created': '2019-01-29 10:12:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/a700e3c4ac03c55f079cc5e044b8285743b6de90', 'message': 'Scenario test: Create/manage share and write data\n\nImplements test #6 from:\nhttps://specs.openstack.org/openstack/manila-specs/specs/ocata/scenario-tests.html\n\nChange-Id: I4245cd202543cfefb0aa4e9c56ab949e2a9821f6\n'}, {'number': 24, 'created': '2019-01-29 10:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/b463de555a849da383edeaf444b49d2448380ba5', 'message': 'Scenario test: Create/manage share and write data\n\nImplements test #6 from:\nhttps://specs.openstack.org/openstack/manila-specs/specs/ocata/scenario-tests.html\n\nChange-Id: I4245cd202543cfefb0aa4e9c56ab949e2a9821f6\n'}, {'number': 25, 'created': '2019-01-29 18:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/1b39478689c1bdf5c77836ebf594b88ab5f3b1a7', 'message': 'Scenario test: Create/manage share and write data\n\nImplements test #6 from:\nhttps://specs.openstack.org/openstack/manila-specs/specs/ocata/scenario-tests.html\n\nChange-Id: I4245cd202543cfefb0aa4e9c56ab949e2a9821f6\n'}, {'number': 26, 'created': '2019-01-29 19:27:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/8f3e1ce69232ce18662358ee32fc585fb3cd3331', 'message': 'Scenario test: Create/manage share and write data\n\nImplements test #6 from:\nhttps://specs.openstack.org/openstack/manila-specs/specs/ocata/scenario-tests.html\n\nChange-Id: I4245cd202543cfefb0aa4e9c56ab949e2a9821f6\n'}, {'number': 27, 'created': '2019-01-29 20:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/26a5610d0b89285b79ff7776e80dccca8ea587a5', 'message': 'Scenario test: Create/manage share and write data\n\nImplements test #6 from:\nhttps://specs.openstack.org/openstack/manila-specs/specs/ocata/scenario-tests.html\n\nChange-Id: I4245cd202543cfefb0aa4e9c56ab949e2a9821f6\n'}, {'number': 28, 'created': '2019-01-29 21:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/c403f256eec9ea60243005259bba00ecb110e250', 'message': 'Scenario test: Create/manage share and write data\n\nImplements test #6 from:\nhttps://specs.openstack.org/openstack/manila-specs/specs/ocata/scenario-tests.html\n\nChange-Id: I4245cd202543cfefb0aa4e9c56ab949e2a9821f6\n'}, {'number': 29, 'created': '2019-01-30 19:52:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/0b21fc9e74212ad8e7ad0241e4ca2a64cb9ee1a6', 'message': 'Scenario test: Create/manage share and write data\n\nImplements test #6 from:\nhttps://specs.openstack.org/openstack/manila-specs/specs/release_independent/scenario-tests.html\n\nChange-Id: I4245cd202543cfefb0aa4e9c56ab949e2a9821f6\n'}, {'number': 30, 'created': '2019-01-30 20:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/796bd4585a2d9c3d39d4d3826507c8a10b0590e5', 'message': 'Scenario test: Create/manage share and write data\n\nImplements test #6 from:\nhttps://specs.openstack.org/openstack/manila-specs/specs/release_independent/scenario-tests.html\n\nChange-Id: I4245cd202543cfefb0aa4e9c56ab949e2a9821f6\n'}, {'number': 31, 'created': '2019-02-03 16:06:49.000000000', 'files': ['manila_tempest_tests/tests/scenario/manager_share.py', 'manila_tempest_tests/tests/scenario/test_share_manage_unmanage.py', 'manila_tempest_tests/tests/scenario/test_share_basic_ops.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/6247e9ec61becd13ecf6b235e2931e5970b22e59', 'message': 'Scenario test: Create/manage share and write data\n\nImplements test #6 from:\nhttps://specs.openstack.org/openstack/manila-specs/specs/release_independent/scenario-tests.html\n\nChange-Id: I4245cd202543cfefb0aa4e9c56ab949e2a9821f6\n'}]",80,545695,6247e9ec61becd13ecf6b235e2931e5970b22e59,147,13,31,26535,,,0,"Scenario test: Create/manage share and write data

Implements test #6 from:
https://specs.openstack.org/openstack/manila-specs/specs/release_independent/scenario-tests.html

Change-Id: I4245cd202543cfefb0aa4e9c56ab949e2a9821f6
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/95/545695/16 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/tests/scenario/manager_share.py', 'manila_tempest_tests/tests/scenario/test_share_manage_unmanage.py']",2,d2274f4045e2e1f0e683d9ffd47bf7b7da840408,scenario-six,"# Copyright 2018 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import ddt from oslo_log import log as logging from tempest.common import waiters from tempest import config from tempest.lib.common.utils import data_utils from tempest.lib.common.utils import test_utils from tempest.lib import exceptions import testtools from testtools import testcase as tc from manila_tempest_tests.common import constants from manila_tempest_tests.tests.api import base from manila_tempest_tests.tests.scenario import manager_share as manager from manila_tempest_tests import utils CONF = config.CONF LOG = logging.getLogger(__name__) @ddt.ddt class ShareManageUnmanageBase(manager.ShareScenarioTest): """"""This test case uses the following flow: * Launch an instance * Create share (1GB) * Configure RW access to the share * Perform ssh to instance * Mount share * Write data in share * Unmount share * Unmanage share * Attempt to access share (fail expected) * Manage share * Configure RW access to the share * Mount share * Read data from share * Unmount share * Delete share * Attempt to manage share (fail expected) * Terminate the instance """""" protocol = None def mount_share(self, location, ssh_client, target_dir=None): raise NotImplementedError def umount_share(self, ssh_client, target_dir=None): target_dir = target_dir or ""/mnt"" ssh_client.exec_command(""sudo umount %s"" % target_dir) @tc.attr(base.TAG_POSITIVE, base.TAG_BACKEND) @testtools.skipUnless( CONF.share.run_manage_unmanage_tests, ""Manage/unmanage tests are disabled."") def test_create_manage_and_write(self): share_size = 1 LOG.debug('Step 1 - create instance') instance = self.boot_instance(wait_until=""BUILD"") LOG.debug('Step 2 - create share of size {} Gb'.format(share_size)) self.create_share(size=share_size, cleanup_in_class=False) LOG.debug('Step 3 - wait for active instance') instance = self.wait_for_active_instance(instance[""id""]) ssh_client = self.init_ssh(instance) LOG.debug('Step 4 - grant access') self.provide_access_to_auxiliary_instance(instance) if utils.is_microversion_lt(CONF.share.max_api_microversion, ""2.9""): locations = self.share['export_locations'] else: exports = self.shares_v2_client.list_share_export_locations( self.share['id']) locations = [x['path'] for x in exports] for location in locations: LOG.debug('Step 5 - mount') self.mount_share(location, ssh_client) LOG.debug('Step 6a - create file') ssh_client.exec_command(""sudo touch /mnt/t1"") LOG.debug('Step 6b - write data') LOG.debug('Step 6b - writing 640mb') self.write_data_with_dd(640000, ""t1"", ssh_client) ls_result = ssh_client.exec_command(""sudo ls -lA /mnt/"") LOG.debug(ls_result) LOG.debug('Step 7 - unmount share') self.umount_share(ssh_client) LOG.debug('Step 8 - unmanage share') self.shares_admin_v2_client.unmanage_share(self.share['id']) LOG.debug('Step 9 - get share, should fail') self.assertRaises( exceptions.NotFound, self.shares_admin_v2_client.get_share, self.share['id'] ) LOG.debug('Step 10 - manage share') share_type = self._get_share_type() managed_share = self.shares_admin_v2_client.manage_share( self.share['host'], self.share['share_proto'], location, share_type['id']) self.shares_admin_v2_client.wait_for_share_status( managed_share['id'], 'available') LOG.debug('Step 11 - grant access again') self.provide_access_to_auxiliary_instance(instance) LOG.debug('Step 12 - mount') self.mount_share(location, ssh_client) LOG.debug('Step 12 - verify data') ls_result = ssh_client.exec_command(""sudo ls -lA /mnt/"") LOG.debug(ls_result) LOG.debug('Step 13 - unmount share') self.umount_share(ssh_client) LOG.debug('Step 14 - delete share') self.shares_admin_v2_client.delete_share(self.share['id']) self.shares_admin_v2_client.wait_for_resource_deletion(self.share['id']) LOG.debug('Step 15 - manage share, should fail') self.assertRaises( exceptions.NotFound, self.shares_admin_v2_client.manage_share, self.share['host'], self.share['share_proto'], location, share_type['id'] ) LOG.debug('Step 16 - delete instance') self.servers_client.delete_server(instance['id']) class ShareManageUnmanageNFS(ShareManageUnmanageBase): protocol = ""nfs"" def mount_share(self, location, ssh_client, target_dir=None): target_dir = target_dir or ""/mnt"" ssh_client.exec_command( ""sudo mount -vt nfs \""%s\"" %s"" % (location, target_dir) ) class ShareManageUnmanageCIFS(ShareManageUnmanageBase): protocol = ""cifs"" def mount_share(self, location, ssh_client, target_dir=None): location = location.replace(""\\"", ""/"") target_dir = target_dir or ""/mnt"" ssh_client.exec_command( ""sudo mount.cifs \""%s\"" %s -o guest"" % (location, target_dir) ) def load_tests(loader, tests, _): result = [] for test_case in tests: if type(test_case._tests[0]) is ShareManageUnmanageBase: continue result.append(test_case) return loader.suiteClass(result) ",,195,4
openstack%2Fcinder~master~I36486724cc30389d371ec0b18b9b7f96883d193c,openstack/cinder,master,I36486724cc30389d371ec0b18b9b7f96883d193c,api-ref: Correct response body type for show host details,MERGED,2018-10-30 23:52:02.000000000,2019-02-06 23:25:01.000000000,2019-02-06 23:25:01.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 20190}, {'_account_id': 20284}, {'_account_id': 20722}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-10-30 23:52:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c625ae5a41c00d0416267b5c66092910a823f094', 'message': 'api-ref: Correct response body type for show host details\n\nCurrently [0] claims that ""total_volume_gb"" in the response body\nis of type int -- but it is actually a string, going off the example\nresponse body as well as the API code, which clearly casts the\nvalue to a str() [1].\n\n[0] https://developer.openstack.org/api-ref/block-storage/v3/index.html?expanded=show-host-details-for-a-project-detail#show-host-details-for-a-project\n[1] https://github.com/openstack/cinder/blob/95d6d49b01cfdd18505069098e1fa9e5763a99b5/cinder/api/contrib/hosts.py#L169\n\nChange-Id: I36486724cc30389d371ec0b18b9b7f96883d193c\n'}, {'number': 2, 'created': '2018-11-02 13:53:39.000000000', 'files': ['api-ref/source/v2/hosts.inc', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v3/hosts.inc', 'api-ref/source/v3/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cf80d437a881699bec5bfbc6254ae630a3ce7bae', 'message': 'api-ref: Correct response body type for show host details\n\nCurrently [0] claims that ""total_volume_gb"" in the response body\nis of type int -- but it is actually a string, going off the example\nresponse body as well as the API code, which clearly casts the\nvalue to a str() [1].\n\n[0] https://developer.openstack.org/api-ref/block-storage/v3/index.html?expanded=show-host-details-for-a-project-detail#show-host-details-for-a-project\n[1] https://github.com/openstack/cinder/blob/95d6d49b01cfdd18505069098e1fa9e5763a99b5/cinder/api/contrib/hosts.py#L169\n\nChange-Id: I36486724cc30389d371ec0b18b9b7f96883d193c\n'}]",6,614373,cf80d437a881699bec5bfbc6254ae630a3ce7bae,64,35,2,23186,,,0,"api-ref: Correct response body type for show host details

Currently [0] claims that ""total_volume_gb"" in the response body
is of type int -- but it is actually a string, going off the example
response body as well as the API code, which clearly casts the
value to a str() [1].

[0] https://developer.openstack.org/api-ref/block-storage/v3/index.html?expanded=show-host-details-for-a-project-detail#show-host-details-for-a-project
[1] https://github.com/openstack/cinder/blob/95d6d49b01cfdd18505069098e1fa9e5763a99b5/cinder/api/contrib/hosts.py#L169

Change-Id: I36486724cc30389d371ec0b18b9b7f96883d193c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/73/614373/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/hosts.inc', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v3/hosts.inc', 'api-ref/source/v3/parameters.yaml']",4,c625ae5a41c00d0416267b5c66092910a823f094,api-ref,totalGigabytesUsed_1: description: | The total number of gibibytes (GiB) used. in: body required: true type: string,,14,2
openstack%2Fcinder~master~I1c0b5d22258416b7cd2d84fafc339a1308ff34ab,openstack/cinder,master,I1c0b5d22258416b7cd2d84fafc339a1308ff34ab,Mask passwords in utils.trace for func params,MERGED,2019-01-02 09:27:09.000000000,2019-02-06 23:24:56.000000000,2019-02-06 23:24:56.000000000,"[{'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-01-02 09:27:09.000000000', 'files': ['cinder/tests/unit/test_utils.py', 'cinder/utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/52d0f8a6602fd933acefde48d65cf0a8caa3d3ea', 'message': 'Mask passwords in utils.trace for func params\n\nThe utils.trace helper is logging the args list to\nthe decorated function but is not masking passwords\nin those args. This change adds a call to mask passwords\nin the function args list.\n\nSynchronize from os_brick.utils.trace.\n\nChange-Id: I1c0b5d22258416b7cd2d84fafc339a1308ff34ab\n'}]",0,627947,52d0f8a6602fd933acefde48d65cf0a8caa3d3ea,36,29,1,25837,,,0,"Mask passwords in utils.trace for func params

The utils.trace helper is logging the args list to
the decorated function but is not masking passwords
in those args. This change adds a call to mask passwords
in the function args list.

Synchronize from os_brick.utils.trace.

Change-Id: I1c0b5d22258416b7cd2d84fafc339a1308ff34ab
",git fetch https://review.opendev.org/openstack/cinder refs/changes/47/627947/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/test_utils.py', 'cinder/utils.py']",2,52d0f8a6602fd933acefde48d65cf0a8caa3d3ea,add_mask_password," {'func': func_name, 'all_args': strutils.mask_password( six.text_type(all_args))})"," {'func': func_name, 'all_args': all_args})",26,1
openstack%2Fcinder~master~Ied9cf22adbe8f2cec20b02f4aa122a1f2ec35aae,openstack/cinder,master,Ied9cf22adbe8f2cec20b02f4aa122a1f2ec35aae,Remove 'lvrename' from rootwrap,MERGED,2019-01-15 16:00:38.000000000,2019-02-06 23:21:09.000000000,2019-02-06 23:21:09.000000000,"[{'_account_id': 24}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 20284}, {'_account_id': 20722}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-01-15 16:00:38.000000000', 'files': ['cinder/brick/local_dev/lvm.py', 'etc/cinder/rootwrap.d/volume.filters', 'cinder/privsep/lvm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/26ede03486a7da3ac515ffba9ab2e9a680c90774', 'message': ""Remove 'lvrename' from rootwrap\n\nUse oslo.privsep to use 'lvrename'.\n\nChange-Id: Ied9cf22adbe8f2cec20b02f4aa122a1f2ec35aae\nSigned-off-by: Charles Short <chucks@redhat.com>\n""}]",0,631013,26ede03486a7da3ac515ffba9ab2e9a680c90774,45,32,1,24,,,0,"Remove 'lvrename' from rootwrap

Use oslo.privsep to use 'lvrename'.

Change-Id: Ied9cf22adbe8f2cec20b02f4aa122a1f2ec35aae
Signed-off-by: Charles Short <chucks@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/13/631013/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/brick/local_dev/lvm.py', 'etc/cinder/rootwrap.d/volume.filters', 'cinder/privsep/lvm.py']",3,26ede03486a7da3ac515ffba9ab2e9a680c90774,," @cinder.privsep.sys_admin_pctxt.entrypoint def lvrename(vg_name, lv_name, new_name): processutils.execute( 'lvrename', vg_name, lv_name, new_name)",,7,6
openstack%2Ftripleo-heat-templates~master~Ica960b32b9b94e2513ca932949ca49cfcf89579b,openstack/tripleo-heat-templates,master,Ica960b32b9b94e2513ca932949ca49cfcf89579b,Fix a spelling mistake.,MERGED,2018-09-15 07:09:08.000000000,2019-02-06 23:19:07.000000000,2019-02-06 23:19:07.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-15 07:09:08.000000000', 'files': ['environments/compute-real-time-example.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/806cbd470f564c08284f897c125f62e600317e9b', 'message': 'Fix a spelling mistake.\n\nChange-Id: Ica960b32b9b94e2513ca932949ca49cfcf89579b\n'}]",0,602818,806cbd470f564c08284f897c125f62e600317e9b,9,3,1,28563,,,0,"Fix a spelling mistake.

Change-Id: Ica960b32b9b94e2513ca932949ca49cfcf89579b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/602818/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/compute-real-time-example.yaml'],1,806cbd470f564c08284f897c125f62e600317e9b,FixError2, # It is mandatory to provide isolated cpus for tuned to achieve optimal performance., # It is mandatory to provide isolated cpus for tuned to achive optimal performance.,1,1
openstack%2Fgovernance~master~Ib94d5f0c3df8538af753b3b46c6a11ceff8fef53,openstack/governance,master,Ib94d5f0c3df8538af753b3b46c6a11ceff8fef53,Allow obtaining specifically tagged governance data,MERGED,2018-12-07 03:18:28.000000000,2019-02-06 23:18:45.000000000,2019-02-06 23:18:45.000000000,"[{'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 5263}, {'_account_id': 11655}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-07 03:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/495b4a3faf3c3092e48ad763d0d62088080016b6', 'message': 'WiP: Allow obvtaining specifically tagged governance data\n\nChange-Id: Ib94d5f0c3df8538af753b3b46c6a11ceff8fef53\n'}, {'number': 2, 'created': '2018-12-19 07:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/0b29a938b04fd563ff2ede59c1fa2a0b63490b8e', 'message': 'WiP: Allow obvtaining specifically tagged governance data\n\nChange-Id: Ib94d5f0c3df8538af753b3b46c6a11ceff8fef53\n'}, {'number': 3, 'created': '2019-01-14 03:10:13.000000000', 'files': ['openstack_governance/governance.py', 'openstack_governance/tests/test_governance.py'], 'web_link': 'https://opendev.org/openstack/governance/commit/e4196ed6ea925e81763859536aa077e805ca7eb2', 'message': ""Allow obtaining specifically tagged governance data\n\nThe Election repo need to collect governance data at a specific tag.\nAllow this for remote (governance) repos.  We don't need to do this for\na local (governance) review as we can just ``git checkout`` the tag.\n\nChange-Id: Ib94d5f0c3df8538af753b3b46c6a11ceff8fef53\n""}]",6,623388,e4196ed6ea925e81763859536aa077e805ca7eb2,24,7,3,12898,,,0,"Allow obtaining specifically tagged governance data

The Election repo need to collect governance data at a specific tag.
Allow this for remote (governance) repos.  We don't need to do this for
a local (governance) review as we can just ``git checkout`` the tag.

Change-Id: Ib94d5f0c3df8538af753b3b46c6a11ceff8fef53
",git fetch https://review.opendev.org/openstack/governance refs/changes/88/623388/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_governance/governance.py'],1,495b4a3faf3c3092e48ad763d0d62088080016b6,code-change," try: team_data[wg_name] = { 'deliverables': { repo['repo'].partition('/')[-1]: {'repos': [repo['repo']]} for repo in wg_info } } except AttributeError: # For some period of time reference/foundation-board-repos.yaml # was the wrong data structure resulting in: # AttributeError: 'list' object has no attribute 'partition' tmp_list = [] for x in wg_info: for repo in x.get('repo', []): tmp_list.append({'repo': repo}) wg_info = tmp_list team_data[wg_name] = { 'deliverables': { repo['repo'].partition('/')[-1]: {'repos': [repo['repo']]} for repo in wg_info } } def from_remote_repo(cls, repo_url_base=REPO_URL_BASE, gittag=None): query_options = {} if gittag: query_options.update({'h': gittag}) r = requests.get(team_url, params=query_options) r = requests.get(tc_url, params=query_options) r = requests.get(sigs_url, params=query_options) r = requests.get(wgs_url, params=query_options)"," team_data[wg_name] = { 'deliverables': { repo['repo'].partition('/')[-1]: {'repos': [repo['repo']]} for repo in wg_info } } def from_remote_repo(cls, repo_url_base=REPO_URL_BASE): r = requests.get(team_url) r = requests.get(tc_url) r = requests.get(sigs_url) r = requests.get(wgs_url)",30,10
openstack%2Fopenstack-ansible-os_neutron~stable%2Frocky~I38bb573468dd4c57523cc1a5ff2448009ee2b216,openstack/openstack-ansible-os_neutron,stable/rocky,I38bb573468dd4c57523cc1a5ff2448009ee2b216,Fix the subprocess invocation of neutron-l3-agent,MERGED,2019-02-05 16:12:39.000000000,2019-02-06 23:12:31.000000000,2019-02-06 23:12:31.000000000,"[{'_account_id': 1004}, {'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28331}]","[{'number': 1, 'created': '2019-02-05 16:12:39.000000000', 'files': ['releasenotes/notes/fix-l3-agent-ha-keepalive-helper-5f1f82c437c8a430.yaml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/8acb54f92295bbd25faa472fc3143751b5080190', 'message': ""Fix the subprocess invocation of neutron-l3-agent\n\nneutron-l3-agent tries to invoke neutron-keepalived-state-change\nfrom it's PATH. The venv's bin directory is not part of the\ndefault PATH of the neutron-l3-agent, hence the invocation fails.\nThis change adds the venv's bin directory to the PATH of\nneutron-l3-agent.\n\nTo the best of my knowledge this is currently the only script\nwhich is invoked and shipped by neutron itself [1]. Neutron expects\nquite a few binaries in it's PATH, however other expected binaries\nare typically system packages (e.g. radvd) [2].\n\nSadly, the PATH can not easily be extended, hence all non venv-bin\ndirectories from the PATH are a 'one-time snapshot' from a quite\ncommon set of directories across all common linux distributions.\n\n[1]\nhttps://github.com/openstack/neutron/search?q=%22cmd+%3D+%27neutron-%22&unscoped_q=%22cmd+%3D+%27neutron-%22\n[2]\nhttps://github.com/openstack/neutron/search?q=external_process.ProcessManager&unscoped_q=external_process.ProcessManager\n\nDepends-On: I504a8270be1ddf2f24ab3ad3b4f2f4ca9c990470\nChange-Id: I38bb573468dd4c57523cc1a5ff2448009ee2b216\n(cherry picked from commit bf00f1d610cd3790ec32f2252e7bd2ecb4b10ed9)\n""}]",0,634968,8acb54f92295bbd25faa472fc3143751b5080190,15,5,1,16011,,,0,"Fix the subprocess invocation of neutron-l3-agent

neutron-l3-agent tries to invoke neutron-keepalived-state-change
from it's PATH. The venv's bin directory is not part of the
default PATH of the neutron-l3-agent, hence the invocation fails.
This change adds the venv's bin directory to the PATH of
neutron-l3-agent.

To the best of my knowledge this is currently the only script
which is invoked and shipped by neutron itself [1]. Neutron expects
quite a few binaries in it's PATH, however other expected binaries
are typically system packages (e.g. radvd) [2].

Sadly, the PATH can not easily be extended, hence all non venv-bin
directories from the PATH are a 'one-time snapshot' from a quite
common set of directories across all common linux distributions.

[1]
https://github.com/openstack/neutron/search?q=%22cmd+%3D+%27neutron-%22&unscoped_q=%22cmd+%3D+%27neutron-%22
[2]
https://github.com/openstack/neutron/search?q=external_process.ProcessManager&unscoped_q=external_process.ProcessManager

Depends-On: I504a8270be1ddf2f24ab3ad3b4f2f4ca9c990470
Change-Id: I38bb573468dd4c57523cc1a5ff2448009ee2b216
(cherry picked from commit bf00f1d610cd3790ec32f2252e7bd2ecb4b10ed9)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/68/634968/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-l3-agent-ha-keepalive-helper-5f1f82c437c8a430.yaml', 'vars/main.yml']",2,8acb54f92295bbd25faa472fc3143751b5080190,fix-l3-agent-ha-keepalive-helper-stable/rocky," environment: PATH: ""{{ neutron_bin }}:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin""",,5,0
openstack%2Fpaunch~master~I5d2ef49ec205b7a43c488d4ceef0724e5ef2b6cc,openstack/paunch,master,I5d2ef49ec205b7a43c488d4ceef0724e5ef2b6cc,Allow to pass some of systemd.exec flags,MERGED,2019-02-06 11:27:45.000000000,2019-02-06 23:08:43.000000000,2019-02-06 23:08:43.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-02-06 11:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/ce26481ba373151a23dcac06b9dec8be20bf6c37', 'message': ""Allow to pass some of systemd.exec flags\n\nIt may happen we have some shared directory mounted within\nthe container - if it is located in /run or in some other\ntmpfs location, it won't persist across reboots.\n\nSystemD provides the capability to create those directories, and\nthis patch allows to take advantage of this capacity.\n\nBasically, we might add as many flag as we want.\n\nCloses-Bug: #1814764\nChange-Id: I5d2ef49ec205b7a43c488d4ceef0724e5ef2b6cc\n""}, {'number': 2, 'created': '2019-02-06 15:47:58.000000000', 'files': ['releasenotes/notes/systemd-flags-1a8b3ade8a5c4615.yaml', 'paunch/tests/test_utils_systemd.py', 'paunch/utils/systemd.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/b452a33030a19c34fdc3dbf65f39aa5f511de1e3', 'message': ""Allow to pass some of systemd.exec flags\n\nIt may happen we have some shared directory mounted within\nthe container - if it is located in /run or in some other\ntmpfs location, it won't persist across reboots.\n\nSystemD provides the capability to create those directories, and\nthis patch allows to take advantage of this capacity.\n\nBasically, we might add as many flag as we want.\n\nCloses-Bug: #1814764\nChange-Id: I5d2ef49ec205b7a43c488d4ceef0724e5ef2b6cc\n""}]",2,635133,b452a33030a19c34fdc3dbf65f39aa5f511de1e3,15,7,2,28223,,,0,"Allow to pass some of systemd.exec flags

It may happen we have some shared directory mounted within
the container - if it is located in /run or in some other
tmpfs location, it won't persist across reboots.

SystemD provides the capability to create those directories, and
this patch allows to take advantage of this capacity.

Basically, we might add as many flag as we want.

Closes-Bug: #1814764
Change-Id: I5d2ef49ec205b7a43c488d4ceef0724e5ef2b6cc
",git fetch https://review.opendev.org/openstack/paunch refs/changes/33/635133/2 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/tests/test_utils_systemd.py', 'paunch/utils/systemd.py']",2,ce26481ba373151a23dcac06b9dec8be20bf6c37,bug/1814764," # Please refer to systemd.exec documentation for those entries # https://www.freedesktop.org/software/systemd/man/systemd.exec.html sys_exec = cconfig.get('systemd_exec_flags', {}) 'sys_exec': '\n'.join(['%s=%s' % (x, y) for x, y in sys_exec.items()]),%(sys_exec)s",,29,0
openstack%2Fproject-config~master~Id1efbde62e3e1e2ae4299f971d377c1c22989225,openstack/project-config,master,Id1efbde62e3e1e2ae4299f971d377c1c22989225,Add openstack-zuul-jobs to base-publish-tox-docs-static,MERGED,2019-02-06 22:27:51.000000000,2019-02-06 22:56:25.000000000,2019-02-06 22:56:25.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-06 22:27:51.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ffeabcecbf9c36908c89036ebe2a0ba4e9a67ac3', 'message': ""Add openstack-zuul-jobs to base-publish-tox-docs-static\n\nThis job uses a role in openstack-zuul-jobs, which is a repo that\nused to be included in openstack's base job, but is no longer\nnow that we switched to the opendev base job.  This adds the repo\nback to the role path for this job.\n\nChange-Id: Id1efbde62e3e1e2ae4299f971d377c1c22989225\n""}]",0,635347,ffeabcecbf9c36908c89036ebe2a0ba4e9a67ac3,9,4,1,1,,,0,"Add openstack-zuul-jobs to base-publish-tox-docs-static

This job uses a role in openstack-zuul-jobs, which is a repo that
used to be included in openstack's base job, but is no longer
now that we switched to the opendev base job.  This adds the repo
back to the role path for this job.

Change-Id: Id1efbde62e3e1e2ae4299f971d377c1c22989225
",git fetch https://review.opendev.org/openstack/project-config refs/changes/47/635347/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,ffeabcecbf9c36908c89036ebe2a0ba4e9a67ac3,, roles: - zuul: openstack-infra/openstack-zuul-jobs,,2,0
openstack%2Frequirements~stable%2Fpike~I7931aa14b58be99fa1b2cfe4293b0c20770b65f4,openstack/requirements,stable/pike,I7931aa14b58be99fa1b2cfe4293b0c20770b65f4,Update greenlet to 0.4.15,MERGED,2019-02-01 15:42:54.000000000,2019-02-06 22:50:13.000000000,2019-02-06 22:50:13.000000000,"[{'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-01 15:42:54.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0f7203533646bdf9e6c7e8a034e0f0dc58f62411', 'message': 'Update greenlet to 0.4.15\n\nOver the 0.4.12 this provides the following relevant fixes:\n\n- Workaround a gcc bug on ppc64\n- Fixed support for ppc64 ABI\n- Support for Python 3.7\n- Support for MinGW x64\n\nWhile there were also two new architectures added, no other architecture\nhad any code change.\n\nChange-Id: I7931aa14b58be99fa1b2cfe4293b0c20770b65f4\n(cherry picked from commit ec39ba394e19ac0e5aa917bf155ca91e51d5c7ac)\n'}]",0,634436,0f7203533646bdf9e6c7e8a034e0f0dc58f62411,7,3,1,6593,,,0,"Update greenlet to 0.4.15

Over the 0.4.12 this provides the following relevant fixes:

- Workaround a gcc bug on ppc64
- Fixed support for ppc64 ABI
- Support for Python 3.7
- Support for MinGW x64

While there were also two new architectures added, no other architecture
had any code change.

Change-Id: I7931aa14b58be99fa1b2cfe4293b0c20770b65f4
(cherry picked from commit ec39ba394e19ac0e5aa917bf155ca91e51d5c7ac)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/36/634436/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0f7203533646bdf9e6c7e8a034e0f0dc58f62411,,greenlet===0.4.15,greenlet===0.4.12,1,1
openstack%2Frequirements~stable%2Fqueens~I7931aa14b58be99fa1b2cfe4293b0c20770b65f4,openstack/requirements,stable/queens,I7931aa14b58be99fa1b2cfe4293b0c20770b65f4,Update greenlet to 0.4.15,MERGED,2019-02-01 15:39:43.000000000,2019-02-06 22:50:11.000000000,2019-02-06 22:50:11.000000000,"[{'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-01 15:39:43.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5f5f3c5498bbf743e0e0151b8d2219f227b0e286', 'message': 'Update greenlet to 0.4.15\n\nOver the 0.4.12 this provides the following relevant fixes:\n\n- Workaround a gcc bug on ppc64\n- Fixed support for ppc64 ABI\n- Support for Python 3.7\n- Support for MinGW x64\n\nWhile there were also two new architectures added, no other architecture\nhad any code change.\n\nChange-Id: I7931aa14b58be99fa1b2cfe4293b0c20770b65f4\n(cherry picked from commit ec39ba394e19ac0e5aa917bf155ca91e51d5c7ac)\n'}]",0,634435,5f5f3c5498bbf743e0e0151b8d2219f227b0e286,7,3,1,6593,,,0,"Update greenlet to 0.4.15

Over the 0.4.12 this provides the following relevant fixes:

- Workaround a gcc bug on ppc64
- Fixed support for ppc64 ABI
- Support for Python 3.7
- Support for MinGW x64

While there were also two new architectures added, no other architecture
had any code change.

Change-Id: I7931aa14b58be99fa1b2cfe4293b0c20770b65f4
(cherry picked from commit ec39ba394e19ac0e5aa917bf155ca91e51d5c7ac)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/35/634435/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5f5f3c5498bbf743e0e0151b8d2219f227b0e286,,greenlet===0.4.15,greenlet===0.4.12,1,1
openstack%2Fcinder~master~I2eb00fb1323d91d0834a222964b7db768207ba60,openstack/cinder,master,I2eb00fb1323d91d0834a222964b7db768207ba60,Cleanup rootwrap filters,MERGED,2019-01-21 17:54:29.000000000,2019-02-06 22:50:07.000000000,2019-02-06 22:50:07.000000000,"[{'_account_id': 24}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-01-21 17:54:29.000000000', 'files': ['etc/cinder/rootwrap.d/volume.filters'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4fc296370961c9bbfcc6b88e3bb17880b8db1df9', 'message': ""Cleanup rootwrap filters\n\nRemove 'mmcrsnapshot' and 'mmdelsnapshot' since\nthey are no longer being used.\n\nChange-Id: I2eb00fb1323d91d0834a222964b7db768207ba60\nSigned-off-by: Charles Short <chucks@redhat.com>\n""}]",0,632143,4fc296370961c9bbfcc6b88e3bb17880b8db1df9,59,36,1,24,,,0,"Cleanup rootwrap filters

Remove 'mmcrsnapshot' and 'mmdelsnapshot' since
they are no longer being used.

Change-Id: I2eb00fb1323d91d0834a222964b7db768207ba60
Signed-off-by: Charles Short <chucks@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/43/632143/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/cinder/rootwrap.d/volume.filters'],1,4fc296370961c9bbfcc6b88e3bb17880b8db1df9,,,"mmcrsnapshot: CommandFilter, mmcrsnapshot, root mmdelsnapshot: CommandFilter, mmdelsnapshot, root",0,2
openstack%2Fkeystone~master~I19bf5a562401100d9208f98515ce596f7ca20185,openstack/keystone,master,I19bf5a562401100d9208f98515ce596f7ca20185,Implement system admin role in users API,MERGED,2018-12-06 21:16:02.000000000,2019-02-06 22:50:04.000000000,2019-02-06 22:50:04.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-12-06 21:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/eea514c6002fc75aa8a64c97e759543165768708', 'message': 'Implement system admin role in users API\n\nThis commit introduces the system admin role to the users API,\nmaking it consistent with other system-admin policy definitions.\n\nSubsequent patches will build on this work to expose more\nfunctionality to domain and project users:\n\n - domain reader functionality\n - domain member test coverage\n - domain admin functionality\n - project user test coverage\n\nChange-Id: I19bf5a562401100d9208f98515ce596f7ca20185\nCloses-Bug: 1805406\nPartial-Bug: 1794376\nPartial-Bug: 968696\n'}, {'number': 2, 'created': '2018-12-07 03:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b43e5a7d81f54630035ae403e1076a2e77f11a05', 'message': 'Implement system admin role in users API\n\nThis commit introduces the system admin role to the users API,\nmaking it consistent with other system-admin policy definitions.\n\nSubsequent patches will build on this work to expose more\nfunctionality to domain and project users:\n\n - domain reader functionality\n - domain member test coverage\n - domain admin functionality\n - project user test coverage\n\nChange-Id: I19bf5a562401100d9208f98515ce596f7ca20185\nCloses-Bug: 1805406\nPartial-Bug: 1794376\nPartial-Bug: 968696\n'}, {'number': 3, 'created': '2018-12-07 23:42:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8169f04a4ce1e160dccb15b8647470226a73891e', 'message': 'Implement system admin role in users API\n\nThis commit introduces the system admin role to the users API,\nmaking it consistent with other system-admin policy definitions.\n\nSubsequent patches will build on this work to expose more\nfunctionality to domain and project users:\n\n - domain reader functionality\n - domain member test coverage\n - domain admin functionality\n - project user test coverage\n\nChange-Id: I19bf5a562401100d9208f98515ce596f7ca20185\nCloses-Bug: 1805406\nPartial-Bug: 1794376\nPartial-Bug: 968696\n'}, {'number': 4, 'created': '2018-12-17 19:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/294e7d63caf8187af27c62756ab71f565766f07d', 'message': 'Implement system admin role in users API\n\nThis commit introduces the system admin role to the users API,\nmaking it consistent with other system-admin policy definitions.\n\nSubsequent patches will build on this work to expose more\nfunctionality to domain and project users:\n\n - domain reader functionality\n - domain member test coverage\n - domain admin functionality\n - project user test coverage\n\nChange-Id: I19bf5a562401100d9208f98515ce596f7ca20185\nCloses-Bug: 1805406\nPartial-Bug: 1748027\nPartial-Bug: 968696\n'}, {'number': 5, 'created': '2019-01-09 20:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/638dcf498dbefca93dd629757cc0d88957d53a16', 'message': 'Implement system admin role in users API\n\nThis commit introduces the system admin role to the users API,\nmaking it consistent with other system-admin policy definitions.\n\nSubsequent patches will build on this work to expose more\nfunctionality to domain and project users:\n\n - domain reader functionality\n - domain member test coverage\n - domain admin functionality\n - project user test coverage\n\nChange-Id: I19bf5a562401100d9208f98515ce596f7ca20185\nCloses-Bug: 1805406\nPartial-Bug: 1748027\nPartial-Bug: 968696\n'}, {'number': 6, 'created': '2019-02-04 20:38:23.000000000', 'files': ['keystone/tests/unit/protection/v3/test_users.py', 'releasenotes/notes/bug-1805406-252b45d443af20b3.yaml', 'keystone/common/policies/user.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/29fb7ae3952138ec05fd2434fe9cf5eccc8205f0', 'message': 'Implement system admin role in users API\n\nThis commit introduces the system admin role to the users API,\nmaking it consistent with other system-admin policy definitions.\n\nSubsequent patches will build on this work to expose more\nfunctionality to domain and project users:\n\n - domain reader functionality\n - domain member test coverage\n - domain admin functionality\n - project user test coverage\n\nChange-Id: I19bf5a562401100d9208f98515ce596f7ca20185\nCloses-Bug: 1805406\nPartial-Bug: 1748027\nPartial-Bug: 968696\n'}]",5,623318,29fb7ae3952138ec05fd2434fe9cf5eccc8205f0,27,5,6,5046,,,0,"Implement system admin role in users API

This commit introduces the system admin role to the users API,
making it consistent with other system-admin policy definitions.

Subsequent patches will build on this work to expose more
functionality to domain and project users:

 - domain reader functionality
 - domain member test coverage
 - domain admin functionality
 - project user test coverage

Change-Id: I19bf5a562401100d9208f98515ce596f7ca20185
Closes-Bug: 1805406
Partial-Bug: 1748027
Partial-Bug: 968696
",git fetch https://review.opendev.org/openstack/keystone refs/changes/18/623318/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/protection/v3/test_users.py', 'releasenotes/notes/bug-1805406-252b45d443af20b3.yaml', 'keystone/common/policies/user.py']",3,eea514c6002fc75aa8a64c97e759543165768708,implement-default-roles,"deprecated_create_user = policy.DeprecatedRule( name=base.IDENTITY % 'create_user', check_str=base.RULE_ADMIN_REQUIRED ) deprecated_update_user = policy.DeprecatedRule( name=base.IDENTITY % 'update_user', check_str=base.RULE_ADMIN_REQUIRED ) deprecated_delete_user = policy.DeprecatedRule( name=base.IDENTITY % 'delete_user', check_str=base.RULE_ADMIN_REQUIRED ) check_str='role:admin', 'method': 'POST'}], deprecated_rule=deprecated_create_user, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.STEIN), check_str='role:admin', 'method': 'PATCH'}], deprecated_rule=deprecated_update_user, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.STEIN), check_str='role:admin', 'method': 'DELETE'}], deprecated_rule=deprecated_delete_user, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.STEIN)"," check_str=base.RULE_ADMIN_REQUIRED, 'method': 'POST'}]), check_str=base.RULE_ADMIN_REQUIRED, 'method': 'PATCH'}]), check_str=base.RULE_ADMIN_REQUIRED, 'method': 'DELETE'}])",124,6
openstack%2Fcinder~master~I107b0e2458bac5700e43e3740b6fc98ebac1f12e,openstack/cinder,master,I107b0e2458bac5700e43e3740b6fc98ebac1f12e,Return WWN for validation in Pure Storage drivers,MERGED,2019-01-29 09:07:23.000000000,2019-02-06 22:50:01.000000000,2019-02-06 22:50:01.000000000,"[{'_account_id': 4355}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12924}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29637}]","[{'number': 1, 'created': '2019-01-29 09:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4b6c2065cf2fac405c63fff57f49aac8ce4fbc6e', 'message': ""Return WWN for validation in Pure Storage drivers\n\nReturn the volume's WWN in initialize connection. This is used by\nos-brick for validating that the found devices have the expected WWN.\n\nChange-Id: I107b0e2458bac5700e43e3740b6fc98ebac1f12e\nPartially-Implements: blueprint validate-volume-wwn-upon-connect\n""}, {'number': 2, 'created': '2019-01-29 19:08:26.000000000', 'files': ['cinder/volume/drivers/pure.py', 'cinder/tests/unit/volume/drivers/test_pure.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/935bcdd8e10740577b2522cfc813b322b385411f', 'message': ""Return WWN for validation in Pure Storage drivers\n\nReturn the volume's WWN in initialize connection. This is used by\nos-brick for validating that the found devices have the expected WWN.\n\nChange-Id: I107b0e2458bac5700e43e3740b6fc98ebac1f12e\nPartially-Implements: blueprint validate-volume-wwn-upon-connect\n""}]",1,633680,935bcdd8e10740577b2522cfc813b322b385411f,62,34,2,4355,,,0,"Return WWN for validation in Pure Storage drivers

Return the volume's WWN in initialize connection. This is used by
os-brick for validating that the found devices have the expected WWN.

Change-Id: I107b0e2458bac5700e43e3740b6fc98ebac1f12e
Partially-Implements: blueprint validate-volume-wwn-upon-connect
",git fetch https://review.opendev.org/openstack/cinder refs/changes/80/633680/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/pure.py', 'cinder/tests/unit/volume/drivers/test_pure.py']",2,4b6c2065cf2fac405c63fff57f49aac8ce4fbc6e,bp/validate-volume-wwn-upon-connect," ""wwn"": ""3624a93709714b5cb91634c470002b2c8"", ""wwn"": ""3624a93709714b5cb91634c470002b2c8"", ""wwn"": ""3624a93709714b5cb91634c470002b2c8"", ""wwn"": ""3624a93709714b5cb91634c470002b2c8"", def test_get_wwn(self): vol_info = {'created': '2019-01-28T14:16:54Z', 'name': 'volume-fdc9892f-5af0-47c8-9d4a-5167ac29dc98-cinder', 'serial': '9714B5CB91634C470002B2C8', 'size': 3221225472, 'source': 'volume-a366b1ba-ec27-4ca3-9051-c301b75bc778-cinder'} self.array.get_volume.return_value = vol_info returned_wwn = self.driver._get_wwn(vol_info['name']) expected_wwn = '3624a93709714b5cb91634c470002b2c8' self.assertEqual(expected_wwn, returned_wwn) @mock.patch(ISCSI_DRIVER_OBJ + ""._get_wwn"") mock_connection, mock_get_wwn): mock_get_wwn.return_value = '3624a93709714b5cb91634c470002b2c8' @mock.patch(ISCSI_DRIVER_OBJ + ""._get_wwn"") mock_connection, mock_get_wwn): mock_get_wwn.return_value = '3624a93709714b5cb91634c470002b2c8' @mock.patch(ISCSI_DRIVER_OBJ + ""._get_wwn"") mock_get_chap_creds, mock_get_wwn): mock_get_wwn.return_value = '3624a93709714b5cb91634c470002b2c8' @mock.patch(ISCSI_DRIVER_OBJ + ""._get_wwn"") mock_connection, mock_get_wwn): mock_get_wwn.return_value = '3624a93709714b5cb91634c470002b2c8' @mock.patch(FC_DRIVER_OBJ + ""._get_wwn"") def test_initialize_connection(self, mock_connection, mock_get_wwn): mock_get_wwn.return_value = '3624a93709714b5cb91634c470002b2c8' @mock.patch(FC_DRIVER_OBJ + ""._get_wwn"") def test_initialize_connection_uniform_ac(self, mock_connection, mock_get_wwn): mock_get_wwn.return_value = '3624a93709714b5cb91634c470002b2c8'"," mock_connection): mock_connection): mock_get_chap_creds): mock_connection): def test_initialize_connection(self, mock_connection): def test_initialize_connection_uniform_ac(self, mock_connection):",47,6
openstack%2Fcinder~master~Id1452ed31d0b0ed3e60d81cad3228825cae64af1,openstack/cinder,master,Id1452ed31d0b0ed3e60d81cad3228825cae64af1,PowerMax driver -  code cleanup and minor improvements,MERGED,2018-12-17 12:24:26.000000000,2019-02-06 22:49:58.000000000,2019-02-06 22:49:58.000000000,"[{'_account_id': 1736}, {'_account_id': 6491}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15439}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18058}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23601}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 26561}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29705}, {'_account_id': 29716}]","[{'number': 1, 'created': '2018-12-17 12:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/313250b4c3bdb5510ebf49865e6dc0ce8446fe37', 'message': 'PowerMax driver -  code cleanup and minor improvements\n\n1. Refactoring of large methods\n2. Handling rare case of orphan shapshots\n3. Metadata label changes\n\nChange-Id: Id1452ed31d0b0ed3e60d81cad3228825cae64af1\n'}, {'number': 2, 'created': '2018-12-17 18:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9a65a3ae43e4d29ee76ac58fea972a344b3124d4', 'message': 'PowerMax driver -  code cleanup and minor improvements\n\n1. Refactoring of large methods\n2. Handling rare case of orphan shapshots\n3. Metadata label changes\n\nChange-Id: Id1452ed31d0b0ed3e60d81cad3228825cae64af1\n'}, {'number': 3, 'created': '2018-12-19 11:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2cff88c13e0fb8686c6078bb3ca232fe91c715c9', 'message': 'PowerMax driver -  code cleanup and minor improvements\n\n1. Refactoring of large methods\n2. Handling rare case of orphan shapshots\n3. Metadata label changes\n\nChange-Id: Id1452ed31d0b0ed3e60d81cad3228825cae64af1\n'}, {'number': 4, 'created': '2018-12-19 15:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/19fbdc04a96433334d0784824d7b30a48e1ec4f1', 'message': 'PowerMax driver -  code cleanup and minor improvements\n\n1. Refactoring of large methods\n2. Handling rare case of orphan shapshots\n3. Metadata label changes\n\nChange-Id: Id1452ed31d0b0ed3e60d81cad3228825cae64af1\n'}, {'number': 5, 'created': '2018-12-21 15:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1eb01827bcfac0ce8f6a09a85026f1a878e33158', 'message': 'PowerMax driver -  code cleanup and minor improvements\n\n1. Refactoring of large methods\n2. Handling rare case of orphan shapshots\n3. Metadata label changes\n\nChange-Id: Id1452ed31d0b0ed3e60d81cad3228825cae64af1\n'}, {'number': 6, 'created': '2019-01-07 11:36:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1faf80e9b344782b8d944f53bd58e06a4da43659', 'message': 'PowerMax driver -  code cleanup and minor improvements\n\n1. Refactoring of large methods\n2. Handling rare case of orphan shapshots\n3. Metadata label changes\n\nChange-Id: Id1452ed31d0b0ed3e60d81cad3228825cae64af1\n'}, {'number': 7, 'created': '2019-01-07 18:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a1db3e7c8d2973c1f13f21535c6aad8cd780ba0b', 'message': 'PowerMax driver -  code cleanup and minor improvements\n\n1. Refactoring of large methods\n2. Handling rare case of orphan shapshots\n3. Metadata label changes\n4. pylint fixes\n\nChange-Id: Id1452ed31d0b0ed3e60d81cad3228825cae64af1\n'}, {'number': 8, 'created': '2019-01-11 10:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e48976634ce8380a9f38a55eddb5247ce5a215dd', 'message': 'PowerMax driver -  code cleanup and minor improvements\n\n1. Refactoring of large methods\n2. Handling rare case of orphan shapshots\n3. Metadata label changes\n4. pylint fixes\n\nChange-Id: Id1452ed31d0b0ed3e60d81cad3228825cae64af1\n'}, {'number': 9, 'created': '2019-01-13 19:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c1148b446f34a24d504e24307c0aa02b4d23a1b2', 'message': 'PowerMax driver -  code cleanup and minor improvements\n\n1. Refactoring of large methods\n2. Handling rare case of orphan shapshots\n3. Metadata label changes\n4. pylint fixes\n\nChange-Id: Id1452ed31d0b0ed3e60d81cad3228825cae64af1\n'}, {'number': 10, 'created': '2019-01-20 19:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/598de42eeddd5482ae2d57cac8faf834b0e64845', 'message': 'PowerMax driver -  code cleanup and minor improvements\n\n1. Refactoring of large methods\n2. Handling rare case of orphan shapshots\n3. Metadata label changes\n4. pylint fixes\n\nChange-Id: Id1452ed31d0b0ed3e60d81cad3228825cae64af1\n'}, {'number': 11, 'created': '2019-01-28 14:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a83e4ecffa3e49f2c7a663381fe5861583cdba27', 'message': 'PowerMax driver -  code cleanup and minor improvements\n\n1. Refactoring of large methods\n2. Handling rare case of orphan shapshots\n3. Metadata label changes\n4. pylint fixes\n\nChange-Id: Id1452ed31d0b0ed3e60d81cad3228825cae64af1\n'}, {'number': 12, 'created': '2019-01-28 17:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8b3d2d1cfc35b4eb5d26d08e1a15cc6703104cb8', 'message': 'PowerMax driver -  code cleanup and minor improvements\n\n1. Refactoring of large methods\n2. Handling rare case of orphan shapshots\n3. Metadata label changes\n4. pylint fixes\n\nChange-Id: Id1452ed31d0b0ed3e60d81cad3228825cae64af1\n'}, {'number': 13, 'created': '2019-01-28 17:30:41.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/volume/drivers/dell_emc/powermax/metadata.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c41156434c87cd39545aba6f42dc9deacb27886d', 'message': 'PowerMax driver -  code cleanup and minor improvements\n\n1. Refactoring of large methods\n2. Metadata label changes\n3. pylint fixes\n\nChange-Id: Id1452ed31d0b0ed3e60d81cad3228825cae64af1\n'}]",16,625581,c41156434c87cd39545aba6f42dc9deacb27886d,360,50,13,12670,,,0,"PowerMax driver -  code cleanup and minor improvements

1. Refactoring of large methods
2. Metadata label changes
3. pylint fixes

Change-Id: Id1452ed31d0b0ed3e60d81cad3228825cae64af1
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/625581/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/volume/drivers/dell_emc/powermax/metadata.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py']",4,313250b4c3bdb5510ebf49865e6dc0ce8446fe37,bp/vmax-powermax-rebrand," 'Device id = %(di)s', 'di': device_id})"," 'Device id = %(di)s, vol details = %(vd)s', 'di': device_id, 'vd': vol_details})",598,400
openstack%2Fcinder~master~I6c05647f01151f19223d153deceb4db4a46e0f0b,openstack/cinder,master,I6c05647f01151f19223d153deceb4db4a46e0f0b,PowerMax driver -  changing from 8.4 to 9.0 REST endpoints,MERGED,2018-12-14 16:05:34.000000000,2019-02-06 22:35:20.000000000,2019-02-06 22:35:20.000000000,"[{'_account_id': 1736}, {'_account_id': 5997}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23601}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26402}, {'_account_id': 26537}, {'_account_id': 26561}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}]","[{'number': 1, 'created': '2018-12-14 16:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c6ea793b3b1bccf1680d18d7bfd4ab1e0c63870f', 'message': 'PowerMax driver -  changing from 8.4 to 9.0 REST endpoints\n\nChanging unisphere for powermax REST endpoint from 8.4 to 9.0.\n\nChange-Id: I6c05647f01151f19223d153deceb4db4a46e0f0b\nCloses-Bug: #1808539\n'}, {'number': 2, 'created': '2018-12-17 18:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/79bb8e4cf008d70f35e2027c638196d8a896ea98', 'message': 'PowerMax driver -  changing from 8.4 to 9.0 REST endpoints\n\nChanging unisphere for powermax REST endpoint from 8.4 to 9.0.\n\nChange-Id: I6c05647f01151f19223d153deceb4db4a46e0f0b\nCloses-Bug: #1808539\n'}, {'number': 3, 'created': '2018-12-19 11:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/14d88110c45c97914c46c719b3edd1edf702607c', 'message': 'PowerMax driver -  changing from 8.4 to 9.0 REST endpoints\n\nChanging unisphere for powermax REST endpoint from 8.4 to 9.0.\n\nChange-Id: I6c05647f01151f19223d153deceb4db4a46e0f0b\nCloses-Bug: #1808539\n'}, {'number': 4, 'created': '2018-12-19 15:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a61b9b7b0b4dda0e472956128d1a9849fac88946', 'message': 'PowerMax driver -  changing from 8.4 to 9.0 REST endpoints\n\nChanging unisphere for powermax REST endpoint from 8.4 to 9.0.\n\nChange-Id: I6c05647f01151f19223d153deceb4db4a46e0f0b\nCloses-Bug: #1808539\n'}, {'number': 5, 'created': '2018-12-21 15:32:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/efdbfeb5302cef24749bfa47319481eda1d352a2', 'message': 'PowerMax driver -  changing from 8.4 to 9.0 REST endpoints\n\nChanging unisphere for powermax REST endpoint from 8.4 to 9.0.\n\nChange-Id: I6c05647f01151f19223d153deceb4db4a46e0f0b\nCloses-Bug: #1808539\n'}, {'number': 6, 'created': '2019-01-11 10:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/858e682e8064d766204636481a976421d199d836', 'message': 'PowerMax driver -  changing from 8.4 to 9.0 REST endpoints\n\nChanging unisphere for powermax REST endpoint from 8.4 to 9.0.\n\nChange-Id: I6c05647f01151f19223d153deceb4db4a46e0f0b\nCloses-Bug: #1808539\n'}, {'number': 7, 'created': '2019-01-13 19:20:07.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/volume/drivers/dell_emc/powermax/provision.py', 'releasenotes/notes/84-to-90-endpoints-831c28423d32cac5.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax.py', 'cinder/volume/drivers/dell_emc/powermax/fc.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c71fb7839c0e640a5201900509c1f955710a117d', 'message': 'PowerMax driver -  changing from 8.4 to 9.0 REST endpoints\n\nChanging unisphere for powermax REST endpoint from 8.4 to 9.0.\n\nChange-Id: I6c05647f01151f19223d153deceb4db4a46e0f0b\nCloses-Bug: #1808539\n'}]",6,625297,c71fb7839c0e640a5201900509c1f955710a117d,256,47,7,12670,,,0,"PowerMax driver -  changing from 8.4 to 9.0 REST endpoints

Changing unisphere for powermax REST endpoint from 8.4 to 9.0.

Change-Id: I6c05647f01151f19223d153deceb4db4a46e0f0b
Closes-Bug: #1808539
",git fetch https://review.opendev.org/openstack/cinder refs/changes/97/625297/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/volume/drivers/dell_emc/powermax/provision.py', 'releasenotes/notes/84-to-90-endpoints-831c28423d32cac5.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax.py', 'cinder/volume/drivers/dell_emc/powermax/fc.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py']",6,c6ea793b3b1bccf1680d18d7bfd4ab1e0c63870f,bp/vmax-powermax-rebrand,"U4V_VERSION = '90' ""expandStorageGroupParam"": { ""addExistingStorageGroupParam"": { ""storageGroupId"": [child_sg]}}}} sc, job = self.modify_storage_group(array, parent_sg, payload) return self.get_resource(array, SYSTEM, 'director', params=params) if (snap_info.get('snapshotSrc') and bool(snap_info['snapshotSrc'])): for snap in snap_info['snapshotSrc']: if bool(snap_info['snapshotSrc']): snapshot_list = snap_info['snapshotSrc'] try: if bool(snapshot['linkedDevices']): link_info = {'linked_vols': snapshot['linkedDevices'], 'snap_name': snapshot['snapshotName'], 'generation': snapshot['generation']} snap_dict_list.append(link_info) except KeyError: pass","U4V_VERSION = '84' ""addExistingStorageGroupParam"": { ""storageGroupId"": [child_sg]}}} sc, job = self.modify_storage_group(array, parent_sg, payload, version=""83"") return self.get_resource(array, SLOPROVISIONING, 'director', version = '90' if self.is_next_gen_array(array) else U4V_VERSION params=params, version=version) if (snap_info.get('snapshotSrcs') and bool(snap_info['snapshotSrcs'])): for snap in snap_info['snapshotSrcs']: if bool(snap_info['snapshotSrcs']): snapshot_list = snap_info['snapshotSrcs'] if bool(snapshot['linkedDevices']): link_info = {'linked_vols': snapshot['linkedDevices'], 'snap_name': snapshot['snapshotName'], 'generation': snapshot['generation']} snap_dict_list.append(link_info)",68,56
openstack%2Fswift~master~I3dd47c7c999c29d62075955301fd763ad0b2c602,openstack/swift,master,I3dd47c7c999c29d62075955301fd763ad0b2c602,Add content-encoding parameter to formpost middleware,MERGED,2016-06-13 10:07:53.000000000,2019-02-06 22:35:17.000000000,2019-02-06 22:35:17.000000000,"[{'_account_id': 3}, {'_account_id': 4608}, {'_account_id': 6889}, {'_account_id': 13052}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2016-06-13 10:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9624d2fceb7dcb610d1f2cdc9a83bac8e16e8e9d', 'message': 'Add content-encoding parameter to formpost middleware\n\nThe content-type parameter can already be set when uploading file\nobjects, for example as a hidden field in the form sent by the browser.\n\nSometimes it is also required to set the content-encoding of an object,\nfor example when uploading a gzipped logfile or html file; see [1] for\nfurther reference. This patch adds this option and tests existing and\nnew functionality for content-type and content-encoding.\n\n[1] https://tools.ietf.org/html/rfc2616#section-14.11\n\nChange-Id: I3dd47c7c999c29d62075955301fd763ad0b2c602\n'}, {'number': 2, 'created': '2019-02-06 00:08:41.000000000', 'files': ['test/unit/common/middleware/test_formpost.py', 'swift/common/middleware/formpost.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/90b161b74fdf75b063c1a8b703ab2f4fd78bc432', 'message': 'Add content-encoding parameter to formpost middleware\n\nThe content-type parameter can already be set when uploading file\nobjects, for example as a hidden field in the form sent by the browser.\n\nSometimes it is also required to set the content-encoding of an object,\nfor example when uploading a gzipped logfile or html file; see [1] for\nfurther reference. This patch adds this option and tests existing and\nnew functionality for content-type and content-encoding.\n\n[1] https://tools.ietf.org/html/rfc2616#section-14.11\n\nChange-Id: I3dd47c7c999c29d62075955301fd763ad0b2c602\n'}]",5,328937,90b161b74fdf75b063c1a8b703ab2f4fd78bc432,21,6,2,6968,,,0,"Add content-encoding parameter to formpost middleware

The content-type parameter can already be set when uploading file
objects, for example as a hidden field in the form sent by the browser.

Sometimes it is also required to set the content-encoding of an object,
for example when uploading a gzipped logfile or html file; see [1] for
further reference. This patch adds this option and tests existing and
new functionality for content-type and content-encoding.

[1] https://tools.ietf.org/html/rfc2616#section-14.11

Change-Id: I3dd47c7c999c29d62075955301fd763ad0b2c602
",git fetch https://review.opendev.org/openstack/swift refs/changes/37/328937/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/test_formpost.py', 'swift/common/middleware/formpost.py']",2,9624d2fceb7dcb610d1f2cdc9a83bac8e16e8e9d,formpost-encoding,"If you want to specify the content type or content encoding of the files you can set content-encoding or content-type by adding them to the form input:: <input type=""hidden"" name=""content-type"" value=""text/html"" /> <input type=""hidden"" name=""content-encoding"" value=""gzip"" /> The above example applies these parameters to all uploaded files. Cou can also set the content-type and content-encoding on a per-file basis by adding the parameters to each part of the upload. if 'content-encoding' not in attributes and \ 'content-encoding' in hdrs: attributes['content-encoding'] = \ hdrs['Content-Encoding'] if 'content-encoding' in attributes: subenv['HTTP_CONTENT_ENCODING'] = \ attributes['content-encoding']",,122,0
openstack%2Frequirements~master~Ic838ef692093c9b8059ddb7933dd700e1909d607,openstack/requirements,master,Ic838ef692093c9b8059ddb7933dd700e1909d607,exclude virtualenv version 16.3.0,MERGED,2019-02-04 23:36:30.000000000,2019-02-06 22:35:16.000000000,2019-02-06 22:35:16.000000000,"[{'_account_id': 1916}, {'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-04 23:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/733f2b1a40b3eeb55ecc85aeb821f452ac2685bd', 'message': 'downgrade virtualenv to 16.2.0\n\nChange-Id: Ic838ef692093c9b8059ddb7933dd700e1909d607\nStory: 29331\n'}, {'number': 2, 'created': '2019-02-04 23:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ad0c5bd3efc60b6734ae1f1884e10643a791eaa9', 'message': 'downgrade virtualenv to 16.2.0\n\nChange-Id: Ic838ef692093c9b8059ddb7933dd700e1909d607\nStory: 2004937\n'}, {'number': 3, 'created': '2019-02-05 02:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/9bb9ff23cd8f9ef1459cd4ae37f95625fb4acfef', 'message': ""exclude virtualenv version 16.3.0\n\nIt is breaking devstack because of\nhttps://github.com/pypa/virtualenv/issues/1301.\n\nThis is a temporary measure to unbreak devstack. In the long run,\nwe'll need to fix devstack to be able to use a more contemporary\nversion of pip.\n\nChange-Id: Ic838ef692093c9b8059ddb7933dd700e1909d607\nStory: 2004937\n""}, {'number': 4, 'created': '2019-02-05 06:13:44.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/cca006305b8d3d8190b900dfc2018f585eb6f5d2', 'message': ""exclude virtualenv version 16.3.0\n\nIt is breaking devstack because of\nhttps://github.com/pypa/virtualenv/issues/1301.\n\nThis is a temporary measure to unbreak devstack. In the long run,\nwe'll need to fix devstack to be able to use a more contemporary\nversion of pip.\n\nChange-Id: Ic838ef692093c9b8059ddb7933dd700e1909d607\nStory: 2004937\n""}]",0,634833,cca006305b8d3d8190b900dfc2018f585eb6f5d2,18,4,4,1916,,,0,"exclude virtualenv version 16.3.0

It is breaking devstack because of
https://github.com/pypa/virtualenv/issues/1301.

This is a temporary measure to unbreak devstack. In the long run,
we'll need to fix devstack to be able to use a more contemporary
version of pip.

Change-Id: Ic838ef692093c9b8059ddb7933dd700e1909d607
Story: 2004937
",git fetch https://review.opendev.org/openstack/requirements refs/changes/33/634833/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,733f2b1a40b3eeb55ecc85aeb821f452ac2685bd,story-29331,virtualenv===16.2.0,virtualenv===16.3.0,1,1
openstack%2Fdevstack~master~I4242584d13250872250689863d1b70c68594eefe,openstack/devstack,master,I4242584d13250872250689863d1b70c68594eefe,Remove hard-coded VOLUME_BACKING_FILE_SIZE from multinode docs,MERGED,2019-01-31 01:51:41.000000000,2019-02-06 22:32:39.000000000,2019-02-06 00:42:47.000000000,"[{'_account_id': 1653}, {'_account_id': 7118}, {'_account_id': 14595}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-31 01:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0d16acdf5d16be3aff09cfd9785fca39009f16ef', 'message': 'Remove hard-coded VOLUME_BACKING_FILE_SIZE from multinode docs\n\nThe default for VOLUME_BACKING_FILE_SIZE changes over time\nand the docs referencing it are clearly not keeping pace so\nrather than hard-code a default in the docs just remove it\nsince the doc already mentions the variable used to set that\nsize.\n\nChange-Id: I4242584d13250872250689863d1b70c68594eefe\n'}, {'number': 2, 'created': '2019-02-05 22:34:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/328573f2d79fb69806dd4d1c267dd0e842e08934', 'message': 'Remove hard-coded VOLUME_BACKING_FILE_SIZE from multinode docs\n\nThe default for VOLUME_BACKING_FILE_SIZE changes over time\nand the docs referencing it are clearly not keeping pace so\nrather than hard-code a default in the docs just remove it\nsince the doc already mentions the variable used to set that\nsize.\n\nChange-Id: I4242584d13250872250689863d1b70c68594eefe\n'}, {'number': 3, 'created': '2019-02-05 22:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/6face26187314841dba495e4ece20928683ae5c8', 'message': 'Remove hard-coded VOLUME_BACKING_FILE_SIZE from multinode docs\n\nThe default for VOLUME_BACKING_FILE_SIZE changes over time\nand the docs referencing it are clearly not keeping pace so\nrather than hard-code a default in the docs just remove it\nsince the doc already mentions the variable used to set that\nsize.\n\nChange-Id: I4242584d13250872250689863d1b70c68594eefe\n'}, {'number': 4, 'created': '2019-02-05 22:36:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ce20512e2988ff35a17092bef4597c46c1cec4df', 'message': 'Remove hard-coded VOLUME_BACKING_FILE_SIZE from multinode docs\n\nThe default for VOLUME_BACKING_FILE_SIZE changes over time\nand the docs referencing it are clearly not keeping pace so\nrather than hard-code a default in the docs just remove it\nsince the doc already mentions the variable used to set that\nsize.\n\nChange-Id: I4242584d13250872250689863d1b70c68594eefe\n'}, {'number': 5, 'created': '2019-02-05 22:36:51.000000000', 'files': ['doc/source/guides/multinode-lab.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/4a3cc1ce341eca821ddf004ca484bd827d060507', 'message': 'Remove hard-coded VOLUME_BACKING_FILE_SIZE from multinode docs\n\nThe default for VOLUME_BACKING_FILE_SIZE changes over time\nand the docs referencing it are clearly not keeping pace so\nrather than hard-code a default in the docs just remove it\nsince the doc already mentions the variable used to set that\nsize.\n\nChange-Id: I4242584d13250872250689863d1b70c68594eefe\n'}]",2,634093,4a3cc1ce341eca821ddf004ca484bd827d060507,15,4,5,6873,,,0,"Remove hard-coded VOLUME_BACKING_FILE_SIZE from multinode docs

The default for VOLUME_BACKING_FILE_SIZE changes over time
and the docs referencing it are clearly not keeping pace so
rather than hard-code a default in the docs just remove it
since the doc already mentions the variable used to set that
size.

Change-Id: I4242584d13250872250689863d1b70c68594eefe
",git fetch https://review.opendev.org/openstack/devstack refs/changes/93/634093/5 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/guides/multinode-lab.rst'],1,0d16acdf5d16be3aff09cfd9785fca39009f16ef,bug/1810317,"doesn't exist, DevStack will set up a loop-mounted file of size to containcreated inside OpenStack. The default size can be overridden by setting","doesn't exist, DevStack will set up a 10Gb loop-mounted file to containcreated inside OpenStack. The size can be overridden by setting",2,2
openstack%2Fcinder~master~I132b917e338d43da1e7b46127b1f228cefb1c16a,openstack/cinder,master,I132b917e338d43da1e7b46127b1f228cefb1c16a,Huawei driver refactor(2/10),MERGED,2019-02-02 03:29:24.000000000,2019-02-06 22:29:10.000000000,2019-02-06 22:29:10.000000000,"[{'_account_id': 5997}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16203}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-02-02 03:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/777bb46af4ab743d93309706ca5c24e5b3eeea2d', 'message': ""Huawei driver refactor(2/10)\n\nHuawei driver code is terribly decayed and hard to maintain.\nFrom this patch on, we'll try to progressively refactor total\nHuawei driver, make the code more clear, reliable and maintainable.\n\nThis patch mainly optimized the huawei_smartx.py and huawei_utils.py\nfiles and the logic that according to it.\n\nChange-Id: I132b917e338d43da1e7b46127b1f228cefb1c16a\n""}, {'number': 2, 'created': '2019-02-03 03:35:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2975538f2ba8ea9a73c7d94fbea2309672bed1de', 'message': ""Huawei driver refactor(2/10)\n\nHuawei driver code is terribly decayed and hard to maintain.\nFrom this patch on, we'll try to progressively refactor total\nHuawei driver, make the code more clear, reliable and maintainable.\n\nThis patch mainly optimized the huawei_smartx.py and huawei_utils.py\nfiles and the logic that according to it.\n\nChange-Id: I132b917e338d43da1e7b46127b1f228cefb1c16a\n""}, {'number': 3, 'created': '2019-02-03 03:37:07.000000000', 'files': ['cinder/volume/drivers/huawei/constants.py', 'cinder/volume/drivers/huawei/smartx.py', 'cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py', 'cinder/volume/drivers/huawei/common.py', 'cinder/volume/drivers/huawei/rest_client.py', 'cinder/volume/drivers/huawei/huawei_utils.py', 'cinder/volume/drivers/huawei/hypermetro.py', 'cinder/volume/drivers/huawei/replication.py', 'cinder/volume/drivers/huawei/huawei_driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ccffe1edf88a7dc6fe146841c3fa72bb5c522fab', 'message': ""Huawei driver refactor(2/10)\n\nHuawei driver code is terribly decayed and hard to maintain.\nFrom this patch on, we'll try to progressively refactor total\nHuawei driver, make the code more clear, reliable and maintainable.\n\nThis patch mainly optimized the huawei_smartx.py and huawei_utils.py\nfiles and the logic that according to it.\n\nChange-Id: I132b917e338d43da1e7b46127b1f228cefb1c16a\n""}]",6,634539,ccffe1edf88a7dc6fe146841c3fa72bb5c522fab,78,36,3,16203,,,0,"Huawei driver refactor(2/10)

Huawei driver code is terribly decayed and hard to maintain.
From this patch on, we'll try to progressively refactor total
Huawei driver, make the code more clear, reliable and maintainable.

This patch mainly optimized the huawei_smartx.py and huawei_utils.py
files and the logic that according to it.

Change-Id: I132b917e338d43da1e7b46127b1f228cefb1c16a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/39/634539/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/huawei/constants.py', 'cinder/volume/drivers/huawei/smartx.py', 'cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py', 'cinder/volume/drivers/huawei/common.py', 'cinder/volume/drivers/huawei/rest_client.py', 'cinder/volume/drivers/huawei/huawei_utils.py', 'cinder/volume/drivers/huawei/hypermetro.py', 'cinder/volume/drivers/huawei/replication.py', 'cinder/volume/drivers/huawei/huawei_driver.py']",9,777bb46af4ab743d93309706ca5c24e5b3eeea2d,huawei-driver-refactor-2, metadata = huawei_utils.get_volume_private_data(volume) metadata = huawei_utils.get_volume_private_data(volume), metadata = huawei_utils.get_lun_metadata(volume) metadata = huawei_utils.get_lun_metadata(volume),800,751
openstack%2Fkeystone~master~Ibc837225154ba7bcd2f93938565b41ff0e8f4803,openstack/keystone,master,Ibc837225154ba7bcd2f93938565b41ff0e8f4803,Implement system member role user test coverage,MERGED,2018-12-06 21:16:02.000000000,2019-02-06 22:29:03.000000000,2019-02-06 22:29:02.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-12-06 21:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7a6ab0576a180127151fbae1472ac446b0cbf752', 'message': 'Implement system member role user test coverage\n\nThis commit introduces explicit test coverage for system members,\nmaking sure they are allowed to do readable and not writable user\noperations.\n\nSubsequent patches will incorporate:\n\n  - system admin functionality\n  - domain reader functionality\n  - domain member test coverage\n  - domain admin functionality\n  - project user test coverage\n\nChange-Id: Ibc837225154ba7bcd2f93938565b41ff0e8f4803\nPartial-Bug: 1805406\nPartial-Bug: 1794376\nPartial-Bug: 968696\n'}, {'number': 2, 'created': '2018-12-07 03:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4ea3eb63f9359a05ae23a002b0bd76ab90d4233c', 'message': 'Implement system member role user test coverage\n\nThis commit introduces explicit test coverage for system members,\nmaking sure they are allowed to do readable and not writable user\noperations.\n\nSubsequent patches will incorporate:\n\n  - system admin functionality\n  - domain reader functionality\n  - domain member test coverage\n  - domain admin functionality\n  - project user test coverage\n\nChange-Id: Ibc837225154ba7bcd2f93938565b41ff0e8f4803\nPartial-Bug: 1805406\nPartial-Bug: 1794376\nPartial-Bug: 968696\n'}, {'number': 3, 'created': '2018-12-07 23:42:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6849c9d66de66c8bd7bab28e2313d1a4ae7cf899', 'message': 'Implement system member role user test coverage\n\nThis commit introduces explicit test coverage for system members,\nmaking sure they are allowed to do readable and not writable user\noperations.\n\nSubsequent patches will incorporate:\n\n  - system admin functionality\n  - domain reader functionality\n  - domain member test coverage\n  - domain admin functionality\n  - project user test coverage\n\nChange-Id: Ibc837225154ba7bcd2f93938565b41ff0e8f4803\nPartial-Bug: 1805406\nPartial-Bug: 1794376\nPartial-Bug: 968696\n'}, {'number': 4, 'created': '2018-12-17 19:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a972b58638c2253d5da2ed98628a3285c1599395', 'message': 'Implement system member role user test coverage\n\nThis commit introduces explicit test coverage for system members,\nmaking sure they are allowed to do readable and not writable user\noperations.\n\nSubsequent patches will incorporate:\n\n  - system admin functionality\n  - domain reader functionality\n  - domain member test coverage\n  - domain admin functionality\n  - project user test coverage\n\nChange-Id: Ibc837225154ba7bcd2f93938565b41ff0e8f4803\nPartial-Bug: 1805406\nPartial-Bug: 1748027\nPartial-Bug: 968696\n'}, {'number': 5, 'created': '2019-01-09 20:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ab2e1a818349fd31b99ff7c1c10031b483c56a77', 'message': 'Implement system member role user test coverage\n\nThis commit introduces explicit test coverage for system members,\nmaking sure they are allowed to do readable and not writable user\noperations.\n\nSubsequent patches will incorporate:\n\n  - system admin functionality\n  - domain reader functionality\n  - domain member test coverage\n  - domain admin functionality\n  - project user test coverage\n\nChange-Id: Ibc837225154ba7bcd2f93938565b41ff0e8f4803\nPartial-Bug: 1805406\nPartial-Bug: 1748027\nPartial-Bug: 968696\n'}, {'number': 6, 'created': '2019-02-04 20:38:23.000000000', 'files': ['keystone/tests/unit/protection/v3/test_users.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/4f724f2d9387dc83148dada41a0f9acb294026c2', 'message': 'Implement system member role user test coverage\n\nThis commit introduces explicit test coverage for system members,\nmaking sure they are allowed to do readable and not writable user\noperations.\n\nSubsequent patches will incorporate:\n\n  - system admin functionality\n  - domain reader functionality\n  - domain member test coverage\n  - domain admin functionality\n  - project user test coverage\n\nChange-Id: Ibc837225154ba7bcd2f93938565b41ff0e8f4803\nPartial-Bug: 1805406\nPartial-Bug: 1748027\nPartial-Bug: 968696\n'}]",4,623317,4f724f2d9387dc83148dada41a0f9acb294026c2,28,5,6,5046,,,0,"Implement system member role user test coverage

This commit introduces explicit test coverage for system members,
making sure they are allowed to do readable and not writable user
operations.

Subsequent patches will incorporate:

  - system admin functionality
  - domain reader functionality
  - domain member test coverage
  - domain admin functionality
  - project user test coverage

Change-Id: Ibc837225154ba7bcd2f93938565b41ff0e8f4803
Partial-Bug: 1805406
Partial-Bug: 1748027
Partial-Bug: 968696
",git fetch https://review.opendev.org/openstack/keystone refs/changes/17/623317/4 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/unit/protection/v3/test_users.py'],1,7a6ab0576a180127151fbae1472ac446b0cbf752,implement-default-roles,"class _SystemMemberAndReaderUserTests(object): """"""Common functionality for system readers and system members."""""" class SystemReaderTests(base_classes.TestCaseWithBootstrap, common_auth.AuthTestMixin, _CommonUserTests, _SystemUserTests, _SystemMemberAndReaderUserTests): def setUp(self): super(SystemReaderTests, self).setUp() self.loadapp() self.useFixture(ksfixtures.Policy(self.config_fixture)) self.config_fixture.config(group='oslo_policy', enforce_scope=True) system_reader = unit.new_user_ref( domain_id=CONF.identity.default_domain_id ) self.user_id = PROVIDERS.identity_api.create_user( system_reader )['id'] PROVIDERS.assignment_api.create_system_grant_for_user( self.user_id, self.bootstrapper.reader_role_id ) auth = self.build_authentication_request( user_id=self.user_id, password=system_reader['password'], system=True ) # Grab a token using the persona we're testing and prepare headers # for requests we'll be making in the tests. with self.test_client() as c: r = c.post('/v3/auth/tokens', json=auth) self.token_id = r.headers['X-Subject-Token'] self.headers = {'X-Auth-Token': self.token_id} class SystemMemberTests(base_classes.TestCaseWithBootstrap, common_auth.AuthTestMixin, _CommonUserTests, _SystemUserTests, _SystemMemberAndReaderUserTests): def setUp(self): super(SystemMemberTests, self).setUp() self.loadapp() self.useFixture(ksfixtures.Policy(self.config_fixture)) self.config_fixture.config(group='oslo_policy', enforce_scope=True) system_member = unit.new_user_ref( domain_id=CONF.identity.default_domain_id ) self.user_id = PROVIDERS.identity_api.create_user( system_member )['id'] PROVIDERS.assignment_api.create_system_grant_for_user( self.user_id, self.bootstrapper.member_role_id ) auth = self.build_authentication_request( user_id=self.user_id, password=system_member['password'], system=True ) # Grab a token using the persona we're testing and prepare headers # for requests we'll be making in the tests. with self.test_client() as c: r = c.post('/v3/auth/tokens', json=auth) self.token_id = r.headers['X-Subject-Token'] self.headers = {'X-Auth-Token': self.token_id}","class SystemReaderTests(base_classes.TestCaseWithBootstrap, common_auth.AuthTestMixin, _SystemUserTests): def setUp(self): super(SystemReaderTests, self).setUp() self.loadapp() self.useFixture(ksfixtures.Policy(self.config_fixture)) self.config_fixture.config(group='oslo_policy', enforce_scope=True) system_reader = unit.new_user_ref( domain_id=CONF.identity.default_domain_id ) self.user_id = PROVIDERS.identity_api.create_user( system_reader )['id'] PROVIDERS.assignment_api.create_system_grant_for_user( self.user_id, self.bootstrapper.reader_role_id ) auth = self.build_authentication_request( user_id=self.user_id, password=system_reader['password'], system=True ) # Grab a token using the persona we're testing and prepare headers # for requests we'll be making in the tests. with self.test_client() as c: r = c.post('/v3/auth/tokens', json=auth) self.token_id = r.headers['X-Subject-Token'] self.headers = {'X-Auth-Token': self.token_id}",72,31
openstack%2Fkeystone~master~I9c362e515772540dfa93d05781d955009b9a154d,openstack/keystone,master,I9c362e515772540dfa93d05781d955009b9a154d,Implement system reader role for users,MERGED,2018-09-26 16:49:56.000000000,2019-02-06 22:29:00.000000000,2019-02-06 22:29:00.000000000,"[{'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 8871}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-09-26 16:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/81e386332d31b4defdf5ec9fd190641811523618', 'message': 'Implement system reader role in domains API\n\nThe domains API already consumes system-scoped tokens is oslo.policy\nis set to ``enforce_scope=True``. This commit introduces the system\nreader role to the API, making it easier for administrators to\ndelegate subsets of responsibilities to the API by default.\n\nChange-Id: I9c362e515772540dfa93d05781d955009b9a154d\nPartial-Bug: 1794376\nPartial-Bug: 968696\n'}, {'number': 2, 'created': '2018-09-26 17:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7ecf4d347cbcb5aa0efd427844b3ee903ebe1f2d', 'message': 'Implement system reader role in domains API\n\nThe domains API already consumes system-scoped tokens is oslo.policy\nis set to ``enforce_scope=True``. This commit introduces the system\nreader role to the API, making it easier for administrators to\ndelegate subsets of responsibilities to the API by default.\n\nChange-Id: I9c362e515772540dfa93d05781d955009b9a154d\nPartial-Bug: 1794376\nPartial-Bug: 968696\n'}, {'number': 3, 'created': '2018-09-26 19:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/91ce56ca20bfd969f0eec6a3beede4123c622b56', 'message': 'Implement system reader role in domains API\n\nThe domains API already consumes system-scoped tokens is oslo.policy\nis set to ``enforce_scope=True``. This commit introduces the system\nreader role to the API, making it easier for administrators to\ndelegate subsets of responsibilities to the API by default.\n\nChange-Id: I9c362e515772540dfa93d05781d955009b9a154d\nPartial-Bug: 1794376\nPartial-Bug: 968696\n'}, {'number': 4, 'created': '2018-09-26 21:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/770019d416dd6ea30e966a29f5da48b7bb2ceb5a', 'message': 'Implement system reader role in domains API\n\nThe domains API already consumes system-scoped tokens is oslo.policy\nis set to ``enforce_scope=True``. This commit introduces the system\nreader role to the API, making it easier for administrators to\ndelegate subsets of responsibilities to the API by default.\n\nChange-Id: I9c362e515772540dfa93d05781d955009b9a154d\nPartial-Bug: 1794376\nPartial-Bug: 968696\n'}, {'number': 5, 'created': '2018-09-27 17:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1b13cfba884ac779ad319792ac24f034864a1675', 'message': 'Implement system reader role in domains API\n\nThe domains API already consumes system-scoped tokens is oslo.policy\nis set to ``enforce_scope=True``. This commit introduces the system\nreader role to the API, making it easier for administrators to\ndelegate subsets of responsibilities to the API by default.\n\nSubsequent patches will include domain support for:\n\n  - system members\n  - system admins\n  - project readers\n  - project members\n  - project admins\n\nChange-Id: I9c362e515772540dfa93d05781d955009b9a154d\nPartial-Bug: 1794376\nPartial-Bug: 968696\n'}, {'number': 6, 'created': '2018-09-27 19:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f904e325460b1caccd594e2f6d3ee7e25289f706', 'message': 'Implement system reader role in domains API\n\nThe domains API already consumes system-scoped tokens is oslo.policy\nis set to ``enforce_scope=True``. This commit introduces the system\nreader role to the API, making it easier for administrators to\ndelegate subsets of responsibilities to the API by default.\n\nSubsequent patches will include domain support for:\n\n  - system members\n  - system admins\n  - project readers\n  - project members\n  - project admins\n\nChange-Id: I9c362e515772540dfa93d05781d955009b9a154d\nPartial-Bug: 1794376\nPartial-Bug: 968696\n'}, {'number': 7, 'created': '2018-09-28 19:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b8e5b46a5b0acc88db62582429aa58f8d6318a75', 'message': 'Implement system reader role in domains API\n\nThe domains API already consumes system-scoped tokens is oslo.policy\nis set to ``enforce_scope=True``. This commit introduces the system\nreader role to the API, making it easier for administrators to\ndelegate subsets of responsibilities to the API by default.\n\nSubsequent patches will include domain support for:\n\n  - system members\n  - system admins\n  - project readers\n  - project members\n  - project admins\n\nChange-Id: I9c362e515772540dfa93d05781d955009b9a154d\nPartial-Bug: 1794376\nPartial-Bug: 968696\n'}, {'number': 8, 'created': '2018-10-12 19:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/af9081321d4ad6dc0bec5d07ee82cb2323b76b30', 'message': 'Implement system reader role in domains API\n\nThe domains API already consumes system-scoped tokens is oslo.policy\nis set to ``enforce_scope=True``. This commit introduces the system\nreader role to the API, making it easier for administrators to\ndelegate subsets of responsibilities to the API by default.\n\nSubsequent patches will include domain support for:\n\n  - system members\n  - system admins\n  - project readers\n  - project members\n  - project admins\n\nChange-Id: I9c362e515772540dfa93d05781d955009b9a154d\nPartial-Bug: 1794376\nPartial-Bug: 968696\n'}, {'number': 9, 'created': '2018-10-16 19:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/05d3da65de8ac0902e4180019cca7a9dd966ff4e', 'message': 'Implement system reader role in domains API\n\nThe domains API already consumes system-scoped tokens is oslo.policy\nis set to ``enforce_scope=True``. This commit introduces the system\nreader role to the API, making it easier for administrators to\ndelegate subsets of responsibilities to the API by default.\n\nSubsequent patches will include domain support for:\n\n  - system members\n  - system admins\n  - project readers\n  - project members\n  - project admins\n\nChange-Id: I9c362e515772540dfa93d05781d955009b9a154d\nPartial-Bug: 1794376\nPartial-Bug: 968696\n'}, {'number': 10, 'created': '2018-11-20 18:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/787d6f8cc0ee9865c1a738816d47e3f5d957acdf', 'message': 'Implement system reader role in domains API\n\nThe domains API already consumes system-scoped tokens is oslo.policy\nis set to ``enforce_scope=True``. This commit introduces the system\nreader role to the API, making it easier for administrators to\ndelegate subsets of responsibilities to the API by default.\n\nSubsequent patches will include domain support for:\n\n  - system members\n  - system admins\n  - project readers\n  - project members\n  - project admins\n\nChange-Id: I9c362e515772540dfa93d05781d955009b9a154d\nPartial-Bug: 1794376\nPartial-Bug: 968696\n'}, {'number': 11, 'created': '2018-11-28 15:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4337912182aba0292025c7916d47cc10936cfc49', 'message': 'Implement system reader role in domains API\n\nThe domains API already consumes system-scoped tokens is oslo.policy\nis set to ``enforce_scope=True``. This commit introduces the system\nreader role to the API, making it easier for administrators to\ndelegate subsets of responsibilities to the API by default.\n\nSubsequent patches will include domain support for:\n\n  - system members\n  - system admins\n  - project readers\n  - project members\n  - project admins\n\nChange-Id: I9c362e515772540dfa93d05781d955009b9a154d\nPartial-Bug: 1794376\nPartial-Bug: 968696\n'}, {'number': 12, 'created': '2018-12-05 22:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b0c781388835cec7562fa65a7a937d59e11fd3be', 'message': 'Implement system reader role in domains API\n\nThis commit introduces the system reader role to the API, making it\neasier for administrators to delegate subsets of responsibilities to\nthe API by default.\n\nSubsequent patches will include domain support for:\n\n  - system members test coverage\n  - system admins functionality\n  - domain user test coverage\n  - project user test coverage\n\nChange-Id: I9c362e515772540dfa93d05781d955009b9a154d\nPartial-Bug: 1794376\nPartial-Bug: 968696\n'}, {'number': 13, 'created': '2018-12-06 21:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b9f7382aa0f3497a750a30958d7c9b9659a1ae1f', 'message': 'Implement system reader role for users\n\nThis commit introduces the system reader role to the users API, making\nit easier for administrators to delegate subsets of responsibilities\nto the API by default. This commit also maintains the ability for\nany user to be able to fetch their own user reference.\n\nSubsequent patches will incorporate:\n\n  - system member test coverage\n  - system admin functionality\n  - domain reader functionality\n  - domain member test coverage\n  - domain admin functionality\n  - project user test coverage\n\nChange-Id: I9c362e515772540dfa93d05781d955009b9a154d\nPartial-Bug: 1805406\nPartial-Bug: 1794376\nPartial-Bug: 968696\n'}, {'number': 14, 'created': '2018-12-07 03:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c3afc6162d02f08a41f72d75d69ac2683cae91ab', 'message': 'Implement system reader role for users\n\nThis commit introduces the system reader role to the users API, making\nit easier for administrators to delegate subsets of responsibilities\nto the API by default. This commit also maintains the ability for\nany user to be able to fetch their own user reference.\n\nSubsequent patches will incorporate:\n\n  - system member test coverage\n  - system admin functionality\n  - domain reader functionality\n  - domain member test coverage\n  - domain admin functionality\n  - project user test coverage\n\nChange-Id: I9c362e515772540dfa93d05781d955009b9a154d\nPartial-Bug: 1805406\nPartial-Bug: 1794376\nPartial-Bug: 968696\n'}, {'number': 15, 'created': '2018-12-07 23:42:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3c9936b8da09c90c2b558f5739b8d1bc769b5570', 'message': 'Implement system reader role for users\n\nThis commit introduces the system reader role to the users API, making\nit easier for administrators to delegate subsets of responsibilities\nto the API by default. This commit also maintains the ability for\nany user to be able to fetch their own user reference.\n\nSubsequent patches will incorporate:\n\n  - system member test coverage\n  - system admin functionality\n  - domain reader functionality\n  - domain member test coverage\n  - domain admin functionality\n  - project user test coverage\n\nChange-Id: I9c362e515772540dfa93d05781d955009b9a154d\nPartial-Bug: 1805406\nPartial-Bug: 1794376\nPartial-Bug: 968696\n'}, {'number': 16, 'created': '2018-12-17 19:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3c450209ade5d4f3802526e3e7f4f695229be15e', 'message': 'Implement system reader role for users\n\nThis commit introduces the system reader role to the users API, making\nit easier for administrators to delegate subsets of responsibilities\nto the API by default. This commit also maintains the ability for\nany user to be able to fetch their own user reference.\n\nSubsequent patches will incorporate:\n\n  - system member test coverage\n  - system admin functionality\n  - domain reader functionality\n  - domain member test coverage\n  - domain admin functionality\n  - project user test coverage\n\nChange-Id: I9c362e515772540dfa93d05781d955009b9a154d\nPartial-Bug: 1805406\nPartial-Bug: 1748027\nPartial-Bug: 968696\n'}, {'number': 17, 'created': '2019-01-09 20:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d9d81485ef6c4c27b6d49e9e92afd9e418c75558', 'message': 'Implement system reader role for users\n\nThis commit introduces the system reader role to the users API, making\nit easier for administrators to delegate subsets of responsibilities\nto the API by default. This commit also maintains the ability for\nany user to be able to fetch their own user reference.\n\nSubsequent patches will incorporate:\n\n  - system member test coverage\n  - system admin functionality\n  - domain reader functionality\n  - domain member test coverage\n  - domain admin functionality\n  - project user test coverage\n\nChange-Id: I9c362e515772540dfa93d05781d955009b9a154d\nPartial-Bug: 1805406\nPartial-Bug: 1748027\nPartial-Bug: 968696\n'}, {'number': 18, 'created': '2019-02-04 20:38:23.000000000', 'files': ['keystone/tests/unit/protection/v3/test_users.py', 'keystone/api/users.py', 'keystone/tests/unit/test_v3_protection.py', 'releasenotes/notes/bug-1805406-252b45d443af20b3.yaml', 'keystone/common/policies/user.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/40d3458fcb29df1daefce9455d1778e800cac378', 'message': 'Implement system reader role for users\n\nThis commit introduces the system reader role to the users API, making\nit easier for administrators to delegate subsets of responsibilities\nto the API by default. This commit also maintains the ability for\nany user to be able to fetch their own user reference.\n\nSubsequent patches will incorporate:\n\n  - system member test coverage\n  - system admin functionality\n  - domain reader functionality\n  - domain member test coverage\n  - domain admin functionality\n  - project user test coverage\n\nChange-Id: I9c362e515772540dfa93d05781d955009b9a154d\nPartial-Bug: 1805406\nPartial-Bug: 1748027\nPartial-Bug: 968696\n'}]",26,605485,40d3458fcb29df1daefce9455d1778e800cac378,75,8,18,5046,,,0,"Implement system reader role for users

This commit introduces the system reader role to the users API, making
it easier for administrators to delegate subsets of responsibilities
to the API by default. This commit also maintains the ability for
any user to be able to fetch their own user reference.

Subsequent patches will incorporate:

  - system member test coverage
  - system admin functionality
  - domain reader functionality
  - domain member test coverage
  - domain admin functionality
  - project user test coverage

Change-Id: I9c362e515772540dfa93d05781d955009b9a154d
Partial-Bug: 1805406
Partial-Bug: 1748027
Partial-Bug: 968696
",git fetch https://review.opendev.org/openstack/keystone refs/changes/85/605485/16 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/policies/domain.py', 'keystone/tests/unit/protection/v3/test_domains.py', 'keystone/common/policies/base.py']",3,81e386332d31b4defdf5ec9fd190641811523618,implement-default-roles,SYSTEM_READER = 'role:reader and system_scope:all ',,237,2
openstack%2Fcinder~master~I0fe6d4682a16cbe30e563079964a5275bac728bb,openstack/cinder,master,I0fe6d4682a16cbe30e563079964a5275bac728bb,Fix gigabytes usage error when deleting snapshot group,MERGED,2018-12-21 10:25:39.000000000,2019-02-06 22:28:57.000000000,2019-02-06 22:28:57.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 8674}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21967}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29705}, {'_account_id': 29716}]","[{'number': 1, 'created': '2018-12-21 10:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4701f4aba435b2526e9e594cff0d0961b8883458', 'message': 'Fix quota error when deleting snapshot group\n\nWhen deleting snapshot group,  the number of snapshots\nis well decremented  with the number of snapshots present\nin the group. But not the number of gigabytes.\n\nChange-Id: I0fe6d4682a16cbe30e563079964a5275bac728bb\nCloses-Bug: #1809434\n'}, {'number': 2, 'created': '2018-12-21 14:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/28b6e9349465b28179491468f8891f7ad0698b8a', 'message': 'Fix quota error when deleting snapshot group\n\nWhen deleting snapshot group,  the number of snapshots\nis well decremented  with the number of snapshots present\nin the group. But not the number of gigabytes.\n\nChange-Id: I0fe6d4682a16cbe30e563079964a5275bac728bb\nCloses-Bug: #1809434\n'}, {'number': 3, 'created': '2019-01-16 15:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5827eee6cb384d1980ea81c707aa8be1ff56d048', 'message': 'Fix quota error when deleting snapshot group\n\nWhen deleting snapshot group,  the number of snapshots\nis well decremented  with the number of snapshots present\nin the group. But not the number of gigabytes.\n\nChange-Id: I0fe6d4682a16cbe30e563079964a5275bac728bb\nCloses-Bug: #1809434\n'}, {'number': 4, 'created': '2019-01-16 16:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ab05d6935650ee32bf753e4e2d8bb86e673e648f', 'message': 'Fix quota error when deleting snapshot group\n\nWhen deleting snapshot group,  the number of snapshots\nis well decremented  with the number of snapshots present\nin the group. But not the number of gigabytes.\n\nChange-Id: I0fe6d4682a16cbe30e563079964a5275bac728bb\nCloses-Bug: #1809434\n'}, {'number': 5, 'created': '2019-01-17 16:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/015529b76926927c488db8176b3eaf46b80330d2', 'message': 'Fix gigabytes usage error when deleting snapshot group\n\nWhen deleting snapshot group,  the number of snapshots\nis well decremented  with the number of snapshots present\nin the group. But not the number of gigabytes.\n\nChange-Id: I0fe6d4682a16cbe30e563079964a5275bac728bb\nCloses-Bug: #1809434\n'}, {'number': 6, 'created': '2019-01-17 16:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c1b5e7ed80ba6277e227d048d62ab1974e38673c', 'message': 'Fix gigabytes usage error when deleting snapshot group\n\nWhen deleting snapshot group,  the number of snapshots\nis well decremented  with the number of snapshots present\nin the group. But not the number of gigabytes.\n\nChange-Id: I0fe6d4682a16cbe30e563079964a5275bac728bb\nCloses-Bug: #1809434\n'}, {'number': 7, 'created': '2019-01-21 10:43:09.000000000', 'files': ['cinder/volume/manager.py', 'cinder/tests/unit/group/test_groups_manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e0048d4c99e8e6110ebd349c2065bf215653f880', 'message': 'Fix gigabytes usage error when deleting snapshot group\n\nWhen deleting snapshot group,  the number of snapshots\nis well decremented  with the number of snapshots present\nin the group. But not the number of gigabytes.\n\nChange-Id: I0fe6d4682a16cbe30e563079964a5275bac728bb\nCloses-Bug: #1809434\n'}]",4,626863,e0048d4c99e8e6110ebd349c2065bf215653f880,170,45,7,21987,,,0,"Fix gigabytes usage error when deleting snapshot group

When deleting snapshot group,  the number of snapshots
is well decremented  with the number of snapshots present
in the group. But not the number of gigabytes.

Change-Id: I0fe6d4682a16cbe30e563079964a5275bac728bb
Closes-Bug: #1809434
",git fetch https://review.opendev.org/openstack/cinder refs/changes/63/626863/3 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/manager.py'],1,4701f4aba435b2526e9e594cff0d0961b8883458,bug/1809434," if CONF.no_snapshot_gb_quota: reserve_opts = {'snapshots': -1} else: reserve_opts = { 'snapshots': -1, 'gigabytes': -snapshot.volume_size, }", reserve_opts = {'snapshots': -1},7,1
openstack%2Fopenstack-helm-infra~master~Ia0b679567161e91241250f0c250d24a45c5ebb92,openstack/openstack-helm-infra,master,Ia0b679567161e91241250f0c250d24a45c5ebb92,Ceph-RGW: Update storage-init job application labels,MERGED,2019-02-06 20:44:43.000000000,2019-02-06 22:21:27.000000000,2019-02-06 22:21:27.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-02-06 20:44:43.000000000', 'files': ['ceph-rgw/templates/job-rgw-storage-init.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f4aa5dc574c361d649263f933103556043225a36', 'message': ""Ceph-RGW: Update storage-init job application labels\n\nThis changes the application label for the ceph-rgw storage init\njob to 'ceph' to match the other jobs defined for the chart, rather\nthan use 'ceph-rgw'\n\nChange-Id: Ia0b679567161e91241250f0c250d24a45c5ebb92\n""}]",0,635279,f4aa5dc574c361d649263f933103556043225a36,7,3,1,17591,,,0,"Ceph-RGW: Update storage-init job application labels

This changes the application label for the ceph-rgw storage init
job to 'ceph' to match the other jobs defined for the chart, rather
than use 'ceph-rgw'

Change-Id: Ia0b679567161e91241250f0c250d24a45c5ebb92
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/79/635279/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph-rgw/templates/job-rgw-storage-init.yaml'],1,f4aa5dc574c361d649263f933103556043225a36,rgw/job-labels,"{{ tuple $envAll ""ceph"" ""rgw-storage-init"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 8 }}","{{ tuple $envAll ""ceph-rgw"" ""rgw-storage-init"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 8 }}",1,1
openstack%2Fironic~stable%2Fqueens~Id2a2e071026b86a6fd586a998bf865b1ddb960d7,openstack/ironic,stable/queens,Id2a2e071026b86a6fd586a998bf865b1ddb960d7,Provides mount point as cinder requires it to attach volume,MERGED,2019-02-05 22:18:42.000000000,2019-02-06 22:18:29.000000000,2019-02-06 22:18:29.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 22348}, {'_account_id': 28429}]","[{'number': 1, 'created': '2019-02-05 22:18:42.000000000', 'files': ['ironic/common/cinder.py', 'releasenotes/notes/provide_mountpoint-58cfd25b6dd4cfde.yaml', 'ironic/tests/unit/common/test_cinder.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8e0a3b1726223a294a49213e2caa3401b9c24872', 'message': 'Provides mount point as cinder requires it to attach volume\n\nThis patch provides a mount point which is required by cinder to\nattach the volume to the baremetal, when the volume targets are\ncreated for any node.\n\nStory: 2004864\nTask: 29107\n\nChange-Id: Id2a2e071026b86a6fd586a998bf865b1ddb960d7\n(cherry picked from commit 57037378bec5cd326f4d1efad5b0d4ba76322cc3)\n'}]",0,635062,8e0a3b1726223a294a49213e2caa3401b9c24872,12,5,1,11655,,,0,"Provides mount point as cinder requires it to attach volume

This patch provides a mount point which is required by cinder to
attach the volume to the baremetal, when the volume targets are
created for any node.

Story: 2004864
Task: 29107

Change-Id: Id2a2e071026b86a6fd586a998bf865b1ddb960d7
(cherry picked from commit 57037378bec5cd326f4d1efad5b0d4ba76322cc3)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/62/635062/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/cinder.py', 'releasenotes/notes/provide_mountpoint-58cfd25b6dd4cfde.yaml', 'ironic/tests/unit/common/test_cinder.py']",3,8e0a3b1726223a294a49213e2caa3401b9c24872,," self.mount_point = 'ironic_mountpoint' self.node.instance_uuid, self.mount_point) self.node.instance_uuid, self.mount_point) self.node.instance_uuid, self.mount_point) self.node.instance_uuid, self.mount_point) self.node.instance_uuid, self.mount_point)"," self.node.instance_uuid, None) self.node.instance_uuid, None) self.node.instance_uuid, None) self.node.instance_uuid, None) self.node.instance_uuid, None)",21,10
openstack%2Fironic~stable%2Frocky~Id2a2e071026b86a6fd586a998bf865b1ddb960d7,openstack/ironic,stable/rocky,Id2a2e071026b86a6fd586a998bf865b1ddb960d7,Provides mount point as cinder requires it to attach volume,MERGED,2019-02-05 09:04:38.000000000,2019-02-06 22:18:27.000000000,2019-02-06 22:18:26.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 20401}, {'_account_id': 22348}, {'_account_id': 28429}]","[{'number': 1, 'created': '2019-02-05 09:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/99668e6325cff5f9e6647ca1962ae74d99cc02c9', 'message': 'Provides mount point as cinder requires it to attach volume\n\nThis patch provides a mount point which is required by cinder to\nattach the volume to the baremetal, when the volume targets are\ncreated for any node.\n\nStory: 2004864\nTask: 29107\n\nChange-Id: Id2a2e071026b86a6fd586a998bf865b1ddb960d7\n(cherry picked from commit 57037378bec5cd326f4d1efad5b0d4ba76322cc3)\n'}, {'number': 2, 'created': '2019-02-05 22:17:48.000000000', 'files': ['ironic/common/cinder.py', 'releasenotes/notes/provide_mountpoint-58cfd25b6dd4cfde.yaml', 'ironic/tests/unit/common/test_cinder.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9c205d48a078e3856a535f4fa43892061545854d', 'message': 'Provides mount point as cinder requires it to attach volume\n\nThis patch provides a mount point which is required by cinder to\nattach the volume to the baremetal, when the volume targets are\ncreated for any node.\n\nStory: 2004864\nTask: 29107\n\nChange-Id: Id2a2e071026b86a6fd586a998bf865b1ddb960d7\n(cherry picked from commit 57037378bec5cd326f4d1efad5b0d4ba76322cc3)\n'}]",0,634889,9c205d48a078e3856a535f4fa43892061545854d,18,7,2,20401,,,0,"Provides mount point as cinder requires it to attach volume

This patch provides a mount point which is required by cinder to
attach the volume to the baremetal, when the volume targets are
created for any node.

Story: 2004864
Task: 29107

Change-Id: Id2a2e071026b86a6fd586a998bf865b1ddb960d7
(cherry picked from commit 57037378bec5cd326f4d1efad5b0d4ba76322cc3)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/89/634889/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/cinder.py', 'releasenotes/notes/provide_mountpoint-58cfd25b6dd4cfde.yaml', 'ironic/tests/unit/common/test_cinder.py']",3,99668e6325cff5f9e6647ca1962ae74d99cc02c9,," self.mount_point = 'ironic_mountpoint' self.node.instance_uuid, self.mount_point) self.node.instance_uuid, self.mount_point) self.node.instance_uuid, self.mount_point) self.node.instance_uuid, self.mount_point) self.node.instance_uuid, self.mount_point)"," self.node.instance_uuid, None) self.node.instance_uuid, None) self.node.instance_uuid, None) self.node.instance_uuid, None) self.node.instance_uuid, None)",21,10
openstack%2Fopenstack-ansible-os_designate~master~I8d4597c63eb6e1390b6f71630701fa74ae5cdef9,openstack/openstack-ansible-os_designate,master,I8d4597c63eb6e1390b6f71630701fa74ae5cdef9,venv: use inventory_hostname instead of ansible_hostname,MERGED,2019-02-06 14:52:57.000000000,2019-02-06 22:14:24.000000000,2019-02-06 22:14:24.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-02-06 14:52:57.000000000', 'files': ['tasks/designate_install_source.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/22b7a5b7ddd33696874e02aa1627f2d087e58f4e', 'message': 'venv: use inventory_hostname instead of ansible_hostname\n\nIt is possible that the hostname of the system does not match the\none in the inventory which means that the delegate_to or the\ncomparision to inventory_hostname will fail in the tasks later.\n\nChange-Id: I8d4597c63eb6e1390b6f71630701fa74ae5cdef9\n'}]",0,635173,22b7a5b7ddd33696874e02aa1627f2d087e58f4e,8,4,1,28521,,,0,"venv: use inventory_hostname instead of ansible_hostname

It is possible that the hostname of the system does not match the
one in the inventory which means that the delegate_to or the
comparision to inventory_hostname will fail in the tasks later.

Change-Id: I8d4597c63eb6e1390b6f71630701fa74ae5cdef9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/73/635173/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/designate_install_source.yml'],1,22b7a5b7ddd33696874e02aa1627f2d087e58f4e,," venv_build_host: ""{{ inventory_hostname }}"""," venv_build_host: ""{{ ansible_hostname }}""",1,1
openstack%2Freleases~master~I0e5eab7a2aeb3bd09acf7bf01356a9f664530b0f,openstack/releases,master,I0e5eab7a2aeb3bd09acf7bf01356a9f664530b0f,Skip repos if not handled by release management,MERGED,2019-01-31 13:26:57.000000000,2019-02-06 22:12:03.000000000,2019-02-06 22:12:03.000000000,"[{'_account_id': 2472}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-31 13:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/87a51aa6ab794268bb9ac2bd0651bcdccfb6b5b4', 'message': ""Skip repos if not handled by release management\n\nLeverage the newly-introduced 'release-management' key from\nprojects.yaml to skip repositories in deliverables that are\nnot handled by the release-management team.\n\nNo longer maintain a local list of repository exceptions.\n\nChange-Id: I0e5eab7a2aeb3bd09acf7bf01356a9f664530b0f\n""}, {'number': 2, 'created': '2019-01-31 15:44:49.000000000', 'files': ['tools/aclissues.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/c1b2b78b075640bfa041292eaa525b5b078f837c', 'message': ""Skip repos if not handled by release management\n\nLeverage the newly-introduced 'release-management' key from\nprojects.yaml to skip repositories in deliverables that are\nnot handled by the release-management team.\n\nNo longer maintain a local list of repository exceptions.\n\nChange-Id: I0e5eab7a2aeb3bd09acf7bf01356a9f664530b0f\n""}]",3,634226,c1b2b78b075640bfa041292eaa525b5b078f837c,12,4,2,308,,,0,"Skip repos if not handled by release management

Leverage the newly-introduced 'release-management' key from
projects.yaml to skip repositories in deliverables that are
not handled by the release-management team.

No longer maintain a local list of repository exceptions.

Change-Id: I0e5eab7a2aeb3bd09acf7bf01356a9f664530b0f
",git fetch https://review.opendev.org/openstack/releases refs/changes/26/634226/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/aclissues.py'],1,87a51aa6ab794268bb9ac2bd0651bcdccfb6b5b4,aclissues, if 'release-management' not in deliverable: for repo in deliverable.get('repos'):," 'RefStack', # Deployment tool teams with externally-released artifacts 'OpenStack Charms', 'Chef OpenStack', 'OpenStack-Helm',WILDCARD_REPO_EXCEPTIONS = [ ] REPO_EXCEPTIONS = [ ] def is_a_repo_exception(repo): for pattern in WILDCARD_REPO_EXCEPTIONS: if re.match(pattern, repo): return True return repo in REPO_EXCEPTIONS for repo in deliverable.get('repos'): if not is_a_repo_exception(repo):",2,21
openstack%2Ftripleo-quickstart~master~I5abea36a133bc8b181b315f34eb0338d0a32c44e,openstack/tripleo-quickstart,master,I5abea36a133bc8b181b315f34eb0338d0a32c44e,break out install-deps from quickstart.sh,MERGED,2019-01-31 20:00:45.000000000,2019-02-06 22:04:03.000000000,2019-02-06 22:04:03.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-01-31 20:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/55303217e1eafbb93aebcef155f6b909b373af9e', 'message': 'WIP: break out install-deps from quickstart.sh\n\nEnsure the functions used to install deps in quickstart.sh\nare reusuable by other scripts.\n\nChange-Id: I5abea36a133bc8b181b315f34eb0338d0a32c44e\n'}, {'number': 2, 'created': '2019-01-31 23:12:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0cf5c2b3265f6049cde32365256e24e9db8dec66', 'message': 'WIP: break out install-deps from quickstart.sh\n\nEnsure the functions used to install deps in quickstart.sh\nare reusuable by other scripts.\n\nChange-Id: I5abea36a133bc8b181b315f34eb0338d0a32c44e\n'}, {'number': 3, 'created': '2019-02-01 13:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2adff646dc7e3902fb34c4695dfbf6c9ff4b2ec5', 'message': 'WIP: break out install-deps from quickstart.sh\n\nEnsure the functions used to install deps in quickstart.sh\nare reusuable by other scripts.\n\nChange-Id: I5abea36a133bc8b181b315f34eb0338d0a32c44e\n'}, {'number': 4, 'created': '2019-02-01 20:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5511caa623df3b7c3b34736eed4e7ecc12562000', 'message': ""break out install-deps from quickstart.sh\n\nEnsure the functions used to install deps in quickstart.sh\nare reusuable by other scripts.\n\nIt's been well known that we want to break out and extend\nthe setup functions in quickstart.sh.  This takes a step\nforward in that direction.\n\nDetails:\nhttps://tree.taiga.io/project/tripleo-ci-board/us/571\n\nChange-Id: I5abea36a133bc8b181b315f34eb0338d0a32c44e\n""}, {'number': 5, 'created': '2019-02-04 21:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/039f294265f3b9643b2d71fa6efd1a01664f2088', 'message': ""break out install-deps from quickstart.sh\n\nEnsure the functions used to install deps in quickstart.sh\nare reusuable by other scripts.\n\nIt's been well known that we want to break out and extend\nthe setup functions in quickstart.sh.  This takes a step\nforward in that direction.\n\nDetails:\nhttps://tree.taiga.io/project/tripleo-ci-board/us/571\n\nChange-Id: I5abea36a133bc8b181b315f34eb0338d0a32c44e\n""}, {'number': 6, 'created': '2019-02-06 02:14:33.000000000', 'files': ['install-deps.sh', 'quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d40ef71eab06607d5aedb78abb4e5a337b5ede77', 'message': ""break out install-deps from quickstart.sh\n\nEnsure the functions used to install deps in quickstart.sh\nare reusuable by other scripts.\n\nIt's been well known that we want to break out and extend\nthe setup functions in quickstart.sh.  This takes a step\nforward in that direction.\n\nDetails:\nhttps://tree.taiga.io/project/tripleo-ci-board/us/571\n\nChange-Id: I5abea36a133bc8b181b315f34eb0338d0a32c44e\n""}]",4,634301,d40ef71eab06607d5aedb78abb4e5a337b5ede77,35,8,6,9592,,,0,"break out install-deps from quickstart.sh

Ensure the functions used to install deps in quickstart.sh
are reusuable by other scripts.

It's been well known that we want to break out and extend
the setup functions in quickstart.sh.  This takes a step
forward in that direction.

Details:
https://tree.taiga.io/project/tripleo-ci-board/us/571

Change-Id: I5abea36a133bc8b181b315f34eb0338d0a32c44e
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/01/634301/1 && git format-patch -1 --stdout FETCH_HEAD,"['install-deps.sh', 'quickstart.sh']",2,55303217e1eafbb93aebcef155f6b909b373af9e,generate-zuul-based-reproducer,source install-deps.sh,": ${OOOQ_BASE_REQUIREMENTS:=requirements.txt} : ${OOOQ_EXTRA_REQUIREMENTS:=quickstart-extras-requirements.txt} python_cmd() { distribution=unknown distribution_major_version=unknown # we prefer python2 because on few systems python->python3 python_cmd=python2 if [ -f /etc/os-release ]; then . /etc/os-release distribution_major_version=${VERSION_ID%.*} case $NAME in ""Red Hat""*) distribution=""RedHat"" if [ ""$distribution_major_version"" -ge ""8"" ]; then python_cmd=python3 fi ;; ""CentOS""*) distribution=""CentOS"" if [ ""$distribution_major_version"" -ge ""8"" ]; then python_cmd=python3 fi ;; ""Fedora""*) distribution=""Fedora"" if [ ""$distribution_major_version"" -ge ""28"" ]; then python_cmd=python3 fi ;; ""Ubuntu""*) distribution=""Ubuntu"" ;; ""Debian""*) distribution=""Debian"" ;; esac elif [ -f /etc/lsb-release ]; then . /etc/lsb-release distribution=${DISTRIB_ID}xx distribution_major_version=${DISTRIB_RELEASE%.*} elif [ -f /etc/debian_version ]; then distribution=""Debian"" distribution_major_version=$(cat /etc/debian_version | cut -d. -f1) else # Covers for FreeBSD and many others distribution=$(uname -s) if [ $distribution = Darwin ]; then distribution=""MacOSX"" distribution_major_version=$(sw_vers -productVersion | cut -d. -f1) fi which $python_cmd 2>&1 >/dev/null || { python_cmd=/usr/local/bin/python2.7 } fi echo $python_cmd } package_manager() { PKG=""$(command -v dnf || command -v yum)"" if [ ""$(python_cmd)"" == ""python3"" ]; then echo ""${PKG} -y --exclude='python2*' $*"" else echo ""${PKG} -y --exclude='python3*' $*"" fi } check_python_module () { # validate module import and print package versions on single final line $(python_cmd) -c ""from __future__ import print_function; import $1; print('$1:%s ' % $1.__version__, end='')"" } install_deps () { # If sudo isn't installed assume we already are a super user # install it anyways so that the install of the other deps succeeds PYTHON_PACKAGES=() MODULE_NAMES=""pip virtualenv setuptools"" rpm -q sudo || $(package_manager) install -y sudo sudo -n true && passwordless_sudo=""1"" || passwordless_sudo=""0"" if [[ ""$passwordless_sudo"" == ""1"" ]]; then if [ ""$(python_cmd)"" == ""python3"" ]; then # possible bug in ansible, f29 python 3 env fails # w/o both python-libselinux packages installed # https://bugs.launchpad.net/tripleo/+bug/1812324 PYTHON_PACKAGES+=(""python3-libselinux python2-libselinux"") PYTHON_PACKAGES+=(""python3-PyYAML"") SETUPTOOLS_PACKAGE=python3-setuptools VIRTUALENV_PACKAGE=python3-virtualenv PIP_PACKAGE=python3-pip else PYTHON_PACKAGES+=(""libselinux-python"") SETUPTOOLS_PACKAGE=python-setuptools VIRTUALENV_PACKAGE=python-virtualenv PIP_PACKAGE=python-pip fi check_python_module virtualenv &> /dev/null || \ PYTHON_PACKAGES+=($VIRTUALENV_PACKAGE) check_python_module setuptools &> /dev/null || \ PYTHON_PACKAGES+=($SETUPTOOLS_PACKAGE) sudo $(package_manager) install -y \ /usr/bin/git \ gcc \ iproute \ libyaml \ libffi-devel \ openssl-devel \ redhat-rpm-config \ ${PYTHON_PACKAGES[@]} else echo ""WARNING: SUDO is not passwordless, assuming all packages are installed!"" fi # pip is a special case because centos-7 repos do not have an rpm for # it but EPEL or OSP repos do, so we attempt to install the rpm and # fallback to easy_install before failing check_python_module pip &> /dev/null || { if yum provides pip 2>&1 | grep 'No matches found' >/dev/null; then sudo easy_install pip else sudo $(package_manager) install -y $PIP_PACKAGE fi } MISSING_MODULES=() for module_name in $MODULE_NAMES; do check_python_module $module_name || MISSING_MODULES+=(""$module_name"") done if [[ -n $MISSING_MODULES ]]; then echo ""ERROR: ${MISSING_MODULES[@]} not installed"" 1>&2 return 1 else echo ""install-deps succeeded."" fi }",141,137
openstack%2Freleases~master~Iad68aae777c734788ce7715dd38a1e5e4ac5f7b3,openstack/releases,master,Iad68aae777c734788ce7715dd38a1e5e4ac5f7b3,Release ovsdbapp 0.12.3,MERGED,2019-02-01 17:33:06.000000000,2019-02-06 22:02:48.000000000,2019-02-06 22:02:48.000000000,"[{'_account_id': 841}, {'_account_id': 5756}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-01 17:33:06.000000000', 'files': ['deliverables/rocky/ovsdbapp.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/84433c08419e3f6ced376a8a5a7785cf02f408cd', 'message': 'Release ovsdbapp 0.12.3\n\nChange-Id: Iad68aae777c734788ce7715dd38a1e5e4ac5f7b3\n'}]",0,634459,84433c08419e3f6ced376a8a5a7785cf02f408cd,12,6,1,5756,,,0,"Release ovsdbapp 0.12.3

Change-Id: Iad68aae777c734788ce7715dd38a1e5e4ac5f7b3
",git fetch https://review.opendev.org/openstack/releases refs/changes/59/634459/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/ovsdbapp.yaml'],1,84433c08419e3f6ced376a8a5a7785cf02f408cd,, - projects: - hash: 547777a9cfc6fd0be667bae17ab503b49b705116 repo: openstack/ovsdbapp version: 0.12.3,,4,0
openstack%2Freleases~master~I0dda714f5c7580b5617e12d838fe28f8343b4cd4,openstack/releases,master,I0dda714f5c7580b5617e12d838fe28f8343b4cd4,Release os-brick 1.15.7,MERGED,2019-02-05 21:02:53.000000000,2019-02-06 22:01:03.000000000,2019-02-06 22:01:03.000000000,"[{'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 14892}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-05 21:02:53.000000000', 'files': ['deliverables/pike/os-brick.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/dd934f72cef2ebc550973de469452cd6dc5e6c91', 'message': 'Release os-brick 1.15.7\n\nFixes a major bug in FibreChannel scanning that was fixed in master\nand backported for stable/pike\n\nChange-Id: I0dda714f5c7580b5617e12d838fe28f8343b4cd4\n'}]",0,635038,dd934f72cef2ebc550973de469452cd6dc5e6c91,11,6,1,5997,,,0,"Release os-brick 1.15.7

Fixes a major bug in FibreChannel scanning that was fixed in master
and backported for stable/pike

Change-Id: I0dda714f5c7580b5617e12d838fe28f8343b4cd4
",git fetch https://review.opendev.org/openstack/releases refs/changes/38/635038/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/os-brick.yaml'],1,dd934f72cef2ebc550973de469452cd6dc5e6c91,, - projects: - hash: f821a87ef0fd59cb1b48a85eed16b1f3f16e7467 repo: openstack/os-brick version: 1.15.7,,4,0
openstack%2Freleases~master~If00cd12bfff94407fa31bcc2e6296505b9432f6d,openstack/releases,master,If00cd12bfff94407fa31bcc2e6296505b9432f6d,Release Octavia stable/queens 2.0.4,MERGED,2019-02-06 10:28:41.000000000,2019-02-06 21:59:35.000000000,2019-02-06 21:59:35.000000000,"[{'_account_id': 6579}, {'_account_id': 11628}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-06 10:28:41.000000000', 'files': ['deliverables/queens/octavia.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b24bd62f92c6bf2865dbe49b0544bd2b0f983bc2', 'message': 'Release Octavia stable/queens 2.0.4\n\nChange-Id: If00cd12bfff94407fa31bcc2e6296505b9432f6d\n'}]",0,635122,b24bd62f92c6bf2865dbe49b0544bd2b0f983bc2,9,5,1,6469,,,0,"Release Octavia stable/queens 2.0.4

Change-Id: If00cd12bfff94407fa31bcc2e6296505b9432f6d
",git fetch https://review.opendev.org/openstack/releases refs/changes/22/635122/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/queens/octavia.yaml'],1,b24bd62f92c6bf2865dbe49b0544bd2b0f983bc2,, - projects: - hash: de64db8e7bcd32d6da550109798bba5cfe3dbe2f repo: openstack/octavia version: 2.0.4,,4,0
openstack%2Freleases~master~If13e1f7c63272a8a1669c14db0f4fde46a3ec279,openstack/releases,master,If13e1f7c63272a8a1669c14db0f4fde46a3ec279,Release cinder 13.0.3,MERGED,2019-02-06 20:29:48.000000000,2019-02-06 21:55:04.000000000,2019-02-06 21:55:04.000000000,"[{'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-06 20:29:48.000000000', 'files': ['deliverables/rocky/cinder.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/209fbbff3248546faa79f4c45453b8d5368ef574', 'message': 'Release cinder 13.0.3\n\nRelease from stable/rocky.\n\nChange-Id: If13e1f7c63272a8a1669c14db0f4fde46a3ec279\n'}]",0,635266,209fbbff3248546faa79f4c45453b8d5368ef574,7,4,1,5314,,,0,"Release cinder 13.0.3

Release from stable/rocky.

Change-Id: If13e1f7c63272a8a1669c14db0f4fde46a3ec279
",git fetch https://review.opendev.org/openstack/releases refs/changes/66/635266/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/cinder.yaml'],1,209fbbff3248546faa79f4c45453b8d5368ef574,cinder-13.0.3, - projects: - hash: 787aacb9095e77e2ad661a588baaba70be67e8ac repo: openstack/cinder version: 13.0.3,,4,0
openstack%2Freleases~master~I939db2fc7373873a4115dc422c2534593f50e498,openstack/releases,master,I939db2fc7373873a4115dc422c2534593f50e498,Release ovsdbapp 0.10.3,MERGED,2019-02-01 17:37:28.000000000,2019-02-06 21:55:03.000000000,2019-02-06 21:55:03.000000000,"[{'_account_id': 841}, {'_account_id': 5756}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-02-01 17:37:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/cd2f0f9d7467ab6c20c2c48549ec9f5918404d5f', 'message': 'Release ovsdbapp 0.10.3\n\nChange-Id: I939db2fc7373873a4115dc422c2534593f50e498\n'}, {'number': 2, 'created': '2019-02-01 23:08:02.000000000', 'files': ['deliverables/queens/ovsdbapp.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/63accbb92da3b1898e5780ee86cde2a8a4de37a2', 'message': 'Release ovsdbapp 0.10.3\n\nChange-Id: I939db2fc7373873a4115dc422c2534593f50e498\n'}]",0,634460,63accbb92da3b1898e5780ee86cde2a8a4de37a2,14,7,2,5756,,,0,"Release ovsdbapp 0.10.3

Change-Id: I939db2fc7373873a4115dc422c2534593f50e498
",git fetch https://review.opendev.org/openstack/releases refs/changes/60/634460/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/queens/ovsdbapp.yaml'],1,cd2f0f9d7467ab6c20c2c48549ec9f5918404d5f,, - version: 0.10.3 projects: - repo: openstack/ovsdbapp hash: 210be9fb1aafa85026e8c62f2a2bda2a97d00acb,,4,0
openstack%2Fproject-config~master~I912bf6ce941a92bdfc37f50f267fda892e2407de,openstack/project-config,master,I912bf6ce941a92bdfc37f50f267fda892e2407de,Remove fetch-zuul-cloner from base job,ABANDONED,2017-10-19 20:53:36.000000000,2019-02-06 21:38:59.000000000,,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 4162}, {'_account_id': 6547}, {'_account_id': 9061}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-19 20:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/fb32bcbab4f372b3d5ffe1f153e887f22ee7d240', 'message': 'Remove fetch-zuul-cloner from base job\n\nThis has been moved into legacy-base, as it represents zuulv2\nfunctionality.  By moving it into legacy-base, we discourage native\nzuulv3 jobs from using it, as it is not needed.\n\nThis promotes: If32a373cdb8a4899ccaa00d3c7df32fe76574f80\n\nChange-Id: I912bf6ce941a92bdfc37f50f267fda892e2407de\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 2, 'created': '2018-03-07 02:44:28.000000000', 'files': ['playbooks/base/pre.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3e82b5f13edcd1e787a9392286c1402dada675e7', 'message': 'Remove fetch-zuul-cloner from base job\n\nThis has been moved into legacy-base, as it represents zuulv2\nfunctionality.  By moving it into legacy-base, we discourage native\nzuulv3 jobs from using it, as it is not needed.\n\nThis promotes: If32a373cdb8a4899ccaa00d3c7df32fe76574f80\n\nChange-Id: I912bf6ce941a92bdfc37f50f267fda892e2407de\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",0,513506,3e82b5f13edcd1e787a9392286c1402dada675e7,17,6,2,4162,,,0,"Remove fetch-zuul-cloner from base job

This has been moved into legacy-base, as it represents zuulv2
functionality.  By moving it into legacy-base, we discourage native
zuulv3 jobs from using it, as it is not needed.

This promotes: If32a373cdb8a4899ccaa00d3c7df32fe76574f80

Change-Id: I912bf6ce941a92bdfc37f50f267fda892e2407de
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/06/513506/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/base/pre.yaml'],1,fb32bcbab4f372b3d5ffe1f153e887f22ee7d240,zuulv3-jobs,," - role: fetch-zuul-cloner destination: ""/usr/zuul-env/bin/zuul-cloner"" repo_src_dir: ""/home/zuul/src/git.openstack.org""",0,3
openstack%2Fnova~master~Ie8dde9dafa3937a147ca74b0812fce8f5918171a,openstack/nova,master,Ie8dde9dafa3937a147ca74b0812fce8f5918171a,WIP: Allow [pci]alias to take a list,ABANDONED,2019-02-06 15:37:32.000000000,2019-02-06 21:38:41.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-02-06 15:37:32.000000000', 'files': ['nova/pci/request.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a85cfe6fed50395fee383e7d18475a71a4b0d1d0', 'message': 'WIP: Allow [pci]alias to take a list\n\nPreviously in order to configure multiple PCI aliases, you had to repeat\nthe key:\n\n[pci]\nalias = {""name"": ""foo"", ...}\nalias = {""name"": ""bar"", ...}\n\nThis causes problems for YAML-based deployers such as helm, because YAML\ndoesn\'t have a way to repeat a dict key [1].\n\nThis patch adds a hack whereby multiple aliases can be specified in a\nlist in a single `alias` key:\n\n[pci]\nalias = [{""name"" : ""foo"", ...}, {""name"": ""bar"", ...}]\n\nThe existing behavior is preserved: the above syntax is recognized and\nproperly parsed if and only if:\n\n- The `alias` key is specified exactly once; and\n- Its value is a list.\n\nPreviously, specifying a list as any `alias` value would result in a\nJSON validation error.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-January/002224.html\n\nChange-Id: Ie8dde9dafa3937a147ca74b0812fce8f5918171a\n'}]",0,635191,a85cfe6fed50395fee383e7d18475a71a4b0d1d0,7,5,1,14070,,,0,"WIP: Allow [pci]alias to take a list

Previously in order to configure multiple PCI aliases, you had to repeat
the key:

[pci]
alias = {""name"": ""foo"", ...}
alias = {""name"": ""bar"", ...}

This causes problems for YAML-based deployers such as helm, because YAML
doesn't have a way to repeat a dict key [1].

This patch adds a hack whereby multiple aliases can be specified in a
list in a single `alias` key:

[pci]
alias = [{""name"" : ""foo"", ...}, {""name"": ""bar"", ...}]

The existing behavior is preserved: the above syntax is recognized and
properly parsed if and only if:

- The `alias` key is specified exactly once; and
- Its value is a list.

Previously, specifying a list as any `alias` value would result in a
JSON validation error.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-January/002224.html

Change-Id: Ie8dde9dafa3937a147ca74b0812fce8f5918171a
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/635191/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/pci/request.py'],1,a85cfe6fed50395fee383e7d18475a71a4b0d1d0,pci-alias-hack," decode_each = True if len(jaliases) == 1: maybe_list = jsonutils.loads(jaliases[0]) if isinstance(maybe_list, list): jaliases = maybe_list decode_each = False for jsonspecs in jaliases: if decode_each: spec = jsonutils.loads(jsonspecs) else: spec = jsonspecs", for jsonspecs in jaliases: spec = jsonutils.loads(jsonspecs),10,1
openstack%2Fopenstack-ansible-os_designate~master~I9ec04c1ceb1036fcf2b830a372d6fb927b3040ac,openstack/openstack-ansible-os_designate,master,I9ec04c1ceb1036fcf2b830a372d6fb927b3040ac,venv: use inventory_hostname instead of ansible_hostname,MERGED,2019-01-31 22:03:32.000000000,2019-02-06 21:38:10.000000000,2019-02-06 21:38:10.000000000,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-01-31 22:03:32.000000000', 'files': ['tasks/designate_install_source.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/4435615a43cb9c6d044c05813e8add8e25eda4d3', 'message': 'venv: use inventory_hostname instead of ansible_hostname\n\nIt is possible that the hostname of the system does not match the\none in the inventory which means that the delegate_to or the\ncomparision to inventory_hostname will fail in the tasks later.\n\nChange-Id: I9ec04c1ceb1036fcf2b830a372d6fb927b3040ac\n'}]",0,634324,4435615a43cb9c6d044c05813e8add8e25eda4d3,11,4,1,1004,,,0,"venv: use inventory_hostname instead of ansible_hostname

It is possible that the hostname of the system does not match the
one in the inventory which means that the delegate_to or the
comparision to inventory_hostname will fail in the tasks later.

Change-Id: I9ec04c1ceb1036fcf2b830a372d6fb927b3040ac
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/24/634324/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/designate_install_source.yml'],1,4435615a43cb9c6d044c05813e8add8e25eda4d3,," venv_build_host: ""{{ inventory_hostname }}"""," venv_build_host: ""{{ ansible_hostname }}""",1,1
openstack%2Ffreezer-api~master~I53961a751d6e735eaf5e007c8079448e669307e9,openstack/freezer-api,master,I53961a751d6e735eaf5e007c8079448e669307e9,Refactor freezer-api jobs,ABANDONED,2018-08-14 16:51:08.000000000,2019-02-06 21:37:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-08-14 16:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/54bca92372a17bede462d7f0789b63dba7d03a23', 'message': 'Refactor freezer-api jobs\n\nWe can remove some duplicate code and stop using legacy nodesets.\n\nChange-Id: I53961a751d6e735eaf5e007c8079448e669307e9\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 2, 'created': '2018-08-14 16:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/57a446fb1b213ec562e1a31191849483db541951', 'message': 'Refactor freezer-api jobs\n\nWe can remove some duplicate code and stop using legacy nodesets.\n\nChange-Id: I53961a751d6e735eaf5e007c8079448e669307e9\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 3, 'created': '2018-08-14 16:55:09.000000000', 'files': ['playbooks/legacy/freezer-api/run.yaml', 'playbooks/legacy/freezer-api-centos-7/run.yaml', 'playbooks/legacy/freezer-api-opensuse-423/post.yaml', 'playbooks/legacy/freezer-api-opensuse-423/run.yaml', 'playbooks/legacy/freezer-api/post.yaml', '.zuul.yaml', 'playbooks/legacy/freezer-api-ubuntu-xenial/post.yaml'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/0549538dfc4583d6fbbc096df6885223b0fdc7d8', 'message': 'Refactor freezer-api jobs\n\nWe can remove some duplicate code and stop using legacy nodesets.\n\nChange-Id: I53961a751d6e735eaf5e007c8079448e669307e9\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",0,591783,0549538dfc4583d6fbbc096df6885223b0fdc7d8,7,1,3,4162,,,0,"Refactor freezer-api jobs

We can remove some duplicate code and stop using legacy nodesets.

Change-Id: I53961a751d6e735eaf5e007c8079448e669307e9
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/83/591783/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/freezer-api-centos-7/run.yaml', 'playbooks/legacy/freezer-api-opensuse-423/post.yaml', 'playbooks/legacy/freezer-api/run.yaml', 'playbooks/legacy/freezer-api-opensuse-423/run.yaml', 'playbooks/legacy/freezer-api/post.yaml', '.zuul.yaml', 'playbooks/legacy/freezer-api-ubuntu-xenial/post.yaml']",7,54bca92372a17bede462d7f0789b63dba7d03a23,legacy-opensuse-423,,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*nose_results.html - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*testr_results.html.gz - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/.testrepository/tmp* - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*testrepository.subunit.gz - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}/tox' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/.tox/*/log/* - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,13,338
openstack%2Fswift~master~I52e96406c3c1f39b98c1d81bdc057805cd1a6278,openstack/swift,master,I52e96406c3c1f39b98c1d81bdc057805cd1a6278,py3: port object controller in proxy,MERGED,2019-02-06 07:19:11.000000000,2019-02-06 21:34:30.000000000,2019-02-06 21:09:06.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-06 07:19:11.000000000', 'files': ['test/unit/__init__.py', 'test/unit/proxy/controllers/test_obj.py', 'swift/proxy/controllers/obj.py', 'tox.ini', 'swift/proxy/server.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/988e719232681761dcbbef91733b91382ada58c4', 'message': 'py3: port object controller in proxy\n\nWhen looking at the tuple thing, remember that tuples are comparable\nwith ints in py2, but they do not compare like (100)[0]. Instead, they\nare always greater, acting almost like MAX_INT. No wonder py3 banned\nthat practice.\n\nWe had a much of other noncomparables, but we dealt with them in\nobvious ways, like adding key= to sorted().\n\nChange-Id: I52e96406c3c1f39b98c1d81bdc057805cd1a6278\n'}]",28,635103,988e719232681761dcbbef91733b91382ada58c4,7,2,1,597,,,0,"py3: port object controller in proxy

When looking at the tuple thing, remember that tuples are comparable
with ints in py2, but they do not compare like (100)[0]. Instead, they
are always greater, acting almost like MAX_INT. No wonder py3 banned
that practice.

We had a much of other noncomparables, but we dealt with them in
obvious ways, like adding key= to sorted().

Change-Id: I52e96406c3c1f39b98c1d81bdc057805cd1a6278
",git fetch https://review.opendev.org/openstack/swift refs/changes/03/635103/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/__init__.py', 'test/unit/proxy/controllers/test_obj.py', 'swift/proxy/controllers/obj.py', 'tox.ini', 'swift/proxy/server.py', 'swift/proxy/controllers/base.py']",6,988e719232681761dcbbef91733b91382ada58c4,py3/proxy-obj," response.append((HTTP_SERVICE_UNAVAILABLE, '', '', b''))"," response.append((HTTP_SERVICE_UNAVAILABLE, '', '', ''))",205,161
openstack%2Fpuppet-openstack-integration~master~I3ab8764e427bcd28d6ea5d158363235be09e994e,openstack/puppet-openstack-integration,master,I3ab8764e427bcd28d6ea5d158363235be09e994e,DNM: Test tempest changes,ABANDONED,2018-08-22 18:43:03.000000000,2019-02-06 21:30:15.000000000,,"[{'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-08-22 18:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/78553f819badcc569400e74c1c7dcc4b31ea6331', 'message': 'DNM: Test tempest changes\n\nHave proposed two changes [1] [2] to tempest and tempest-horizon\nbut need to test if these solve the issue.\n\n[1] https://review.openstack.org/#/c/590578/\n[2] https://review.openstack.org/#/c/590519/\n\nChange-Id: I3ab8764e427bcd28d6ea5d158363235be09e994e\n'}, {'number': 2, 'created': '2018-08-22 20:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7208499d131f123dbce5c5041a5abc804265fa8f', 'message': 'DNM: Test tempest changes\n\nHave proposed two changes [1] [2] to tempest and tempest-horizon\nbut need to test if these solve the issue.\n\n[1] https://review.openstack.org/#/c/590578/\n[2] https://review.openstack.org/#/c/590519/\n\nChange-Id: I3ab8764e427bcd28d6ea5d158363235be09e994e\n'}, {'number': 3, 'created': '2018-08-22 22:04:05.000000000', 'files': ['run_tests.sh', 'manifests/tempest.pp', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e387d42c248f48f5b62282e26d700a593c52f67a', 'message': 'DNM: Test tempest changes\n\nHave proposed two changes [1] [2] to tempest and tempest-horizon\nbut need to test if these solve the issue.\n\n[1] https://review.openstack.org/#/c/590578/\n[2] https://review.openstack.org/#/c/590519/\n\nChange-Id: I3ab8764e427bcd28d6ea5d158363235be09e994e\n'}]",0,595310,e387d42c248f48f5b62282e26d700a593c52f67a,29,3,3,16137,,,0,"DNM: Test tempest changes

Have proposed two changes [1] [2] to tempest and tempest-horizon
but need to test if these solve the issue.

[1] https://review.openstack.org/#/c/590578/
[2] https://review.openstack.org/#/c/590519/

Change-Id: I3ab8764e427bcd28d6ea5d158363235be09e994e
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/10/595310/2 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'manifests/tempest.pp']",2,78553f819badcc569400e74c1c7dcc4b31ea6331,horizon-tempest-bug-t," horizon_available => false, tempest_config { 'service_available/horizon': value => true } "," horizon_available => $horizon,",13,58
openstack%2Ftempest-horizon~master~I4c2e34e0634506de34ba13d4f4a25c21b7bf5f8e,openstack/tempest-horizon,master,I4c2e34e0634506de34ba13d4f4a25c21b7bf5f8e,Add retry decorator,ABANDONED,2018-08-09 21:26:07.000000000,2019-02-06 21:30:08.000000000,,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-09 21:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-horizon/commit/c51d72255105d4e2186328924de8711cc059fc4e', 'message': 'Add retry decorator\n\nAdds the retry decorator to the basic scenario\ntest.\n\nDepends-On: https://review.openstack.org/#/c/590517/\nChange-Id: I4c2e34e0634506de34ba13d4f4a25c21b7bf5f8e\n'}, {'number': 2, 'created': '2018-08-09 23:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-horizon/commit/6996345ec2d49c1b2977b84553ed85fc28365eab', 'message': 'Add retry decorator\n\nAdds the retry decorator to the basic scenario\ntest.\n\nDepends-On: https://review.openstack.org/#/c/590578/\nChange-Id: I4c2e34e0634506de34ba13d4f4a25c21b7bf5f8e\n'}, {'number': 3, 'created': '2018-08-12 15:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-horizon/commit/01342133420af64a90b58344c0b552ddce1eec79', 'message': 'Add retry decorator\n\nAdds the retry decorator to the basic scenario\ntest.\n\nDepends-On: https://review.openstack.org/#/c/590578/\nChange-Id: I4c2e34e0634506de34ba13d4f4a25c21b7bf5f8e\n'}, {'number': 4, 'created': '2018-08-20 12:37:17.000000000', 'files': ['tempest_horizon/tests/scenario/test_dashboard_basic_ops.py'], 'web_link': 'https://opendev.org/openstack/tempest-horizon/commit/877a0ce750275c990ad6b34f916fcba4b05435c8', 'message': 'Add retry decorator\n\nAdds the retry decorator to the basic scenario\ntest.\n\nDepends-On: https://review.openstack.org/#/c/590578/\nChange-Id: I4c2e34e0634506de34ba13d4f4a25c21b7bf5f8e\n'}]",2,590519,877a0ce750275c990ad6b34f916fcba4b05435c8,24,4,4,16137,,,0,"Add retry decorator

Adds the retry decorator to the basic scenario
test.

Depends-On: https://review.openstack.org/#/c/590578/
Change-Id: I4c2e34e0634506de34ba13d4f4a25c21b7bf5f8e
",git fetch https://review.opendev.org/openstack/tempest-horizon refs/changes/19/590519/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest_horizon/tests/scenario/test_dashboard_basic_ops.py'],1,c51d72255105d4e2186328924de8711cc059fc4e,horizon-tempest-bug-t," @decorators.retry(tries=3, delay=3)",,1,0
openstack%2Ftempest~master~I3a8a928320b8f95f326b39a5a8df1316adbcda14,openstack/tempest,master,I3a8a928320b8f95f326b39a5a8df1316adbcda14,Add retry decorator,ABANDONED,2018-08-09 23:00:56.000000000,2019-02-06 21:30:03.000000000,,"[{'_account_id': 841}, {'_account_id': 5689}, {'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 16137}, {'_account_id': 20190}, {'_account_id': 20378}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 27078}]","[{'number': 1, 'created': '2018-08-09 23:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/afe684fdc356775f8c1ab4d5a9a646c6e5606372', 'message': 'Add retry decorator\n\nAdds a retry decorator which can be used to\nretry tests if they fail because of assertion\nerrors.\n\nChange-Id: I3a8a928320b8f95f326b39a5a8df1316adbcda14\n'}, {'number': 2, 'created': '2018-08-10 08:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/94cc7e0dbb6c3b9692a45661f27caf2bdfc63732', 'message': 'Add retry decorator\n\nAdds a retry decorator which can be used to\nretry tests if they fail because of assertion\nerrors.\n\nChange-Id: I3a8a928320b8f95f326b39a5a8df1316adbcda14\n'}, {'number': 3, 'created': '2018-08-10 09:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7065f754fff979af6ce3277b4c6e93716efb5bde', 'message': 'Add retry decorator\n\nAdds a retry decorator which can be used to\nretry tests if they fail because of assertion\nerrors.\n\nChange-Id: I3a8a928320b8f95f326b39a5a8df1316adbcda14\n'}, {'number': 4, 'created': '2018-08-10 11:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b9d26252d468c0661b2b3c063143dcccc15f5b64', 'message': 'Add retry decorator\n\nAdds a retry decorator which can be used to\nretry tests if they fail because of assertion\nerrors.\n\nChange-Id: I3a8a928320b8f95f326b39a5a8df1316adbcda14\n'}, {'number': 5, 'created': '2018-08-10 14:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/86aefc5c9b423d648d8a4d4f60f15cd8b8ebe78d', 'message': 'Add retry decorator\n\nAdds a retry decorator which can be used to\nretry tests if they fail because of assertion\nerrors.\n\nChange-Id: I3a8a928320b8f95f326b39a5a8df1316adbcda14\n'}, {'number': 6, 'created': '2018-08-12 14:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1ca8475dabaa4ed2129abec90a81761505f63b2f', 'message': 'Add retry decorator\n\nAdds a retry decorator which can be used to\nretry tests if they fail because of assertion\nerrors.\n\nChange-Id: I3a8a928320b8f95f326b39a5a8df1316adbcda14\n'}, {'number': 7, 'created': '2018-08-12 15:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f9ac3d25b8713a6a9a4e784439b8f12c828d8b4d', 'message': 'Add retry decorator\n\nAdds a retry decorator which can be used to\nretry tests if they fail because of assertion\nerrors.\n\nChange-Id: I3a8a928320b8f95f326b39a5a8df1316adbcda14\n'}, {'number': 8, 'created': '2018-08-13 10:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f4cd5184445a1c8dc57982939cd4509728dde62b', 'message': 'Add retry decorator\n\nAdds a retry decorator which can be used to\nretry tests if they fail because of assertion\nerrors.\n\nChange-Id: I3a8a928320b8f95f326b39a5a8df1316adbcda14\n'}, {'number': 9, 'created': '2018-08-20 12:36:30.000000000', 'files': ['tempest/lib/decorators.py', 'tempest/tests/lib/test_decorators.py', 'releasenotes/notes/retry-decorator-7246be8f73d377ed.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c4d1cb2e8cf69c00a3b3d0e4dd348f8afab460ce', 'message': 'Add retry decorator\n\nAdds a retry decorator which can be used to\nretry tests if they fail because of assertion\nerrors.\n\nChange-Id: I3a8a928320b8f95f326b39a5a8df1316adbcda14\n'}]",25,590578,c4d1cb2e8cf69c00a3b3d0e4dd348f8afab460ce,58,11,9,16137,,,0,"Add retry decorator

Adds a retry decorator which can be used to
retry tests if they fail because of assertion
errors.

Change-Id: I3a8a928320b8f95f326b39a5a8df1316adbcda14
",git fetch https://review.opendev.org/openstack/tempest refs/changes/78/590578/8 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/decorators.py', 'tempest/tests/lib/test_decorators.py']",2,afe684fdc356775f8c1ab4d5a9a646c6e5606372,horizon-tempest-bug-t," class TestRetryDecorator(base.TestCase): def _test_retry(self, f, expected_to_fail=False): class TestFoo(test.BaseTestCase): @decorators.retry() def test_foo(self): f() t = TestFoo('test_foo') if expected_to_fail: self.assertRaises(testtools.matchers._impl.MismatchError, t.test_foo()) else: t.test_foo() def test_failure(self): def func(): self.assertEqual(False, True) self._test_retry(func, expected_to_fail=True) def test_success(self): def func(): self.assertEqual(True, True) self._test_retry(func, expected_to_fail=False)",,46,0
openstack%2Fswift~master~I02b062ccabba0dcc1542d063e0538f0b1bbbbca9,openstack/swift,master,I02b062ccabba0dcc1542d063e0538f0b1bbbbca9,Return 503 when account auto-create fails,MERGED,2019-02-06 00:00:53.000000000,2019-02-06 21:08:57.000000000,2019-02-06 21:08:56.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-06 00:00:53.000000000', 'files': ['test/unit/proxy/test_server.py', 'swift/proxy/controllers/container.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/3e2b8c95fdb962ff9c9db803bc180b0f4edb14e9', 'message': 'Return 503 when account auto-create fails\n\n...and save 500 for things that would actually leave tracebacks in logs.\n\nChange-Id: I02b062ccabba0dcc1542d063e0538f0b1bbbbca9\n'}]",0,635077,3e2b8c95fdb962ff9c9db803bc180b0f4edb14e9,6,2,1,15343,,,0,"Return 503 when account auto-create fails

...and save 500 for things that would actually leave tracebacks in logs.

Change-Id: I02b062ccabba0dcc1542d063e0538f0b1bbbbca9
",git fetch https://review.opendev.org/openstack/swift refs/changes/77/635077/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/test_server.py', 'swift/proxy/controllers/container.py']",2,3e2b8c95fdb962ff9c9db803bc180b0f4edb14e9,," HTTPNotFound, HTTPServiceUnavailable return HTTPServiceUnavailable(request=req)"," HTTPNotFound, HTTPServerError return HTTPServerError(request=req)",4,4
openstack%2Fnova~stable%2Fqueens~I35335b501f8961b9ac8e5f92e0686e402b78617b,openstack/nova,stable/queens,I35335b501f8961b9ac8e5f92e0686e402b78617b,Fix port dns_name reset,MERGED,2019-01-29 19:24:14.000000000,2019-02-06 21:08:53.000000000,2019-02-06 21:08:53.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 28159}]","[{'number': 1, 'created': '2019-01-29 19:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b120f3886883706a610f3373c4dca1a9d4bb4384', 'message': ""Fix port dns_name reset\n\nWhen external DNS service is enabled, use user's context to request\ndns_name reset instead of using admin context. The dns record need\nbe found in user's zone and recordset.\n\nChange-Id: I35335b501f8961b9ac8e5f92e0686e402b78617b\nCloses-Bug: #1812110\n""}, {'number': 2, 'created': '2019-01-31 00:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1cd245c74604f27d57c00256ba41532c1d6ef38a', 'message': ""Fix port dns_name reset\n\nWhen external DNS service is enabled, use user's context to request\ndns_name reset instead of using admin context. The dns record need\nbe found in user's zone and recordset.\n\nChange-Id: I35335b501f8961b9ac8e5f92e0686e402b78617b\nCloses-Bug: #1812110\n(cherry picked from commit 1b797f6f7e99fdef380340d6fe29e4004be48781)\n""}, {'number': 3, 'created': '2019-01-31 14:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df9f01c03ba73a6e2381ea4fb9ad6de9f322ae90', 'message': ""Fix port dns_name reset\n\nWhen external DNS service is enabled, use user's context to request\ndns_name reset instead of using admin context. The dns record need\nbe found in user's zone and recordset.\n\nChange-Id: I35335b501f8961b9ac8e5f92e0686e402b78617b\nCloses-Bug: #1812110\n(cherry picked from commit 1b797f6f7e99fdef380340d6fe29e4004be48781)\n(cherry picked from commit d2662df48526a2a4ddcd4a7bdbb6108102fe8321)\n""}, {'number': 4, 'created': '2019-01-31 20:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f600674659eb12f55cc6e6d2ac84d6146b9439ef', 'message': ""Fix port dns_name reset\n\nWhen external DNS service is enabled, use user's context to request\ndns_name reset instead of using admin context. The dns record need\nbe found in user's zone and recordset.\n\nChange-Id: I35335b501f8961b9ac8e5f92e0686e402b78617b\nCloses-Bug: #1812110\n(cherry picked from commit 1b797f6f7e99fdef380340d6fe29e4004be48781)\n(cherry picked from commit d2662df48526a2a4ddcd4a7bdbb6108102fe8321)\n""}, {'number': 5, 'created': '2019-01-31 20:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0cbe80ccbca953147a437b23ce742f240e7456af', 'message': ""Fix port dns_name reset\n\nWhen external DNS service is enabled, use user's context to request\ndns_name reset instead of using admin context. The dns record need\nbe found in user's zone and recordset.\n\nChange-Id: I35335b501f8961b9ac8e5f92e0686e402b78617b\nCloses-Bug: #1812110\n(cherry picked from commit 1b797f6f7e99fdef380340d6fe29e4004be48781)\n(cherry picked from commit d2662df48526a2a4ddcd4a7bdbb6108102fe8321)\n""}, {'number': 6, 'created': '2019-01-31 20:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/29f0ed17da735964714d294c7165619216ff7667', 'message': ""Fix port dns_name reset\n\nWhen external DNS service is enabled, use user's context to request\ndns_name reset instead of using admin context. The dns record need\nbe found in user's zone and recordset.\n\nChange-Id: I35335b501f8961b9ac8e5f92e0686e402b78617b\nCloses-Bug: #1812110\n(cherry picked from commit 1b797f6f7e99fdef380340d6fe29e4004be48781)\n(cherry picked from commit d2662df48526a2a4ddcd4a7bdbb6108102fe8321)\n""}, {'number': 7, 'created': '2019-02-01 18:00:38.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py', 'nova/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e5e929f019c05fa57f6b216855b9246b7a5f8d48', 'message': ""Fix port dns_name reset\n\nWhen external DNS service is enabled, use user's context to request\ndns_name reset instead of using admin context. The dns record need\nbe found in user's zone and recordset.\n\nAlso add show_network to NeutronFixture as needed in functional\ntest given I621f5111d1cccf3dc2c2ea6767ce879bc286e42b has not been\nbackported yet in stable/queens.\n\nChange-Id: I35335b501f8961b9ac8e5f92e0686e402b78617b\nCloses-Bug: #1812110\n(cherry picked from commit 1b797f6f7e99fdef380340d6fe29e4004be48781)\n(cherry picked from commit d2662df48526a2a4ddcd4a7bdbb6108102fe8321)\n""}]",4,633807,e5e929f019c05fa57f6b216855b9246b7a5f8d48,44,9,7,28159,,,0,"Fix port dns_name reset

When external DNS service is enabled, use user's context to request
dns_name reset instead of using admin context. The dns record need
be found in user's zone and recordset.

Also add show_network to NeutronFixture as needed in functional
test given I621f5111d1cccf3dc2c2ea6767ce879bc286e42b has not been
backported yet in stable/queens.

Change-Id: I35335b501f8961b9ac8e5f92e0686e402b78617b
Closes-Bug: #1812110
(cherry picked from commit 1b797f6f7e99fdef380340d6fe29e4004be48781)
(cherry picked from commit d2662df48526a2a4ddcd4a7bdbb6108102fe8321)
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/633807/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py']",2,b120f3886883706a610f3373c4dca1a9d4bb4384,bug/1812110," self.moxed_client.show_port(port, fields=[ 'binding:profile', 'network_id'] ).AndReturn({'port': ret_data[0]}) self.moxed_client.show_network( ret_data[0]['network_id'], fields=['dns_domain']).AndReturn( {'network': {'id': ret_data[0]['network_id']}}) def test_unbind_ports_reset_dns_name_by_admin(self, mock_show): neutron.show_network.return_value = { 'network': { 'id': 'net1', 'dns_domain': None } } neutron.update_port.assert_not_called() @mock.patch('nova.network.neutronv2.api.API._show_port') def test_unbind_ports_reset_dns_name_by_non_admin(self, mock_show): neutron = mock.Mock() neutron.show_network.return_value = { 'network': { 'id': 'net1', 'dns_domain': 'test.domain' } } port_client = mock.Mock() self.api.extensions = [constants.DNS_INTEGRATION] ports = [uuids.port_id] mock_show.return_value = {'id': uuids.port} self.api._unbind_ports(self.context, ports, neutron, port_client) admin_port_req_body = {'port': {'binding:host_id': None, 'binding:profile': {}, 'device_id': '', 'device_owner': ''}} non_admin_port_req_body = {'port': {'dns_name': ''}} port_client.update_port.assert_called_once_with( uuids.port_id, admin_port_req_body) neutron.update_port.assert_called_once_with( uuids.port_id, non_admin_port_req_body) fields=['binding:profile', 'network_id'],"," self.moxed_client.show_port(port, fields='binding:profile' ).AndReturn({'port': ret_data[0]}) def test_unbind_ports_reset_dns_name(self, mock_show): fields='binding:profile',",81,11
openstack%2Frally-openstack~master~I632837576b353a3bc014577ac102ef0dbcdb019c,openstack/rally-openstack,master,I632837576b353a3bc014577ac102ef0dbcdb019c,Add more trunk scenarios,MERGED,2019-01-02 19:18:41.000000000,2019-02-06 20:57:30.000000000,2019-02-06 20:57:30.000000000,"[{'_account_id': 9545}, {'_account_id': 16845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-02 19:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/6bff833393a633ac84f0acef78340c35e92f8df6', 'message': 'WIP: Add more trunk scenarios\n\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 2, 'created': '2019-01-02 19:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/b9c2419ce1d21475444eaa7ebcdfb6baccdca894', 'message': 'WIP: Add more trunk scenarios\n\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 3, 'created': '2019-01-02 20:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/443f1808e0759f6d4a1128489c02cf8ff4c72723', 'message': 'WIP: Add more trunk scenarios\n\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 4, 'created': '2019-01-04 14:07:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/4b97985b8e688a630f21bca9ac7f560bb799d33c', 'message': 'WIP: Add more trunk scenarios\n\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 5, 'created': '2019-01-07 18:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/cb9c91ddcc490f816c53f9c65f78ee5b36569280', 'message': 'WIP: Add more trunk scenarios\n\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 6, 'created': '2019-01-07 19:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/1a77b43bea318782563bb4e74b35384f6b20f178', 'message': 'WIP: Add more trunk scenarios\n\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 7, 'created': '2019-01-07 19:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/c42e3cf04f9e9b19bb77e6feb65fdd9c6fdd8a53', 'message': 'WIP: Add more trunk scenarios\n\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 8, 'created': '2019-01-07 20:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/828882cbbab3d77849c3cc5df0f56ee66b3c2f3a', 'message': 'WIP: Add more trunk scenarios\n\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 9, 'created': '2019-01-07 20:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/727ceb972086f19a2bdb856cd36a1e99108db97f', 'message': 'WIP: Add more trunk scenarios\n\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 10, 'created': '2019-01-07 21:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/0e24b4eb658d7b989cdae4c7bf2748aed38315d5', 'message': 'WIP: Add more trunk scenarios\n\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 11, 'created': '2019-01-08 19:34:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/6c4b5cb82633e78963a475604eddc3148b64a6a2', 'message': 'WIP: Add more trunk scenarios\n\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 12, 'created': '2019-01-08 19:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/2766ebc946cea5a8ae284102ec9556e4e85e28de', 'message': 'WIP: Add more trunk scenarios\n\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 13, 'created': '2019-01-08 21:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/c55baa3714a7785f58081bd3a84cba1625153d0a', 'message': 'WIP: Add more trunk scenarios\n\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 14, 'created': '2019-01-08 23:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/b97eed92668824b8216ce3809d73390c7af97ac7', 'message': 'WIP: Add more trunk scenarios\n\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 15, 'created': '2019-01-09 15:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/f501b490b84facc42572d3bf41c947e9a7f9249a', 'message': 'WIP: Add more trunk scenarios\n\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 16, 'created': '2019-01-09 17:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/19454c920daa1a847f73dbf75071a62c935cb8e1', 'message': 'WIP: Add more trunk scenarios\n\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 17, 'created': '2019-01-10 14:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/bff5d28e60d683e7bd077844201c0fd6e7ae7c0e', 'message': 'WIP: Add more trunk scenarios\n\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 18, 'created': '2019-01-10 16:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/4f6b5dbba1021e6f1835974ee6d4b85dac09bd05', 'message': 'WIP: Add more trunk scenarios\n\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 19, 'created': '2019-01-10 19:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/6b68cbac26bfd73319361e53d2b539385351c1b2', 'message': 'WIP: Add more trunk scenarios\n\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 20, 'created': '2019-01-10 21:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/c32427fdcf37633e613d7a06c2dd4fa617b92917', 'message': 'WIP: Add more trunk scenarios\n\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 21, 'created': '2019-01-22 14:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/245fd37fbf73b31021e94ac6f1ec0e2c67800dbc', 'message': 'WIP: Add more trunk scenarios\n\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 22, 'created': '2019-01-22 14:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/0428cabf443f192bdcf8f0df7bbea31eeabf5fb8', 'message': 'WIP: Add more trunk scenarios\n\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 23, 'created': '2019-01-22 14:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/eec9585ee4a784d29cf725eac0227857181a88b9', 'message': 'Add more trunk scenarios\n\nThis commit adds three new scenarios for neutron trunk port testing.\nAlso involves some minor refactor of existing\nNeutronTrunks.create_and_list_trunks scenario.\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 24, 'created': '2019-01-22 15:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/0c04935c6810b423fe809a032fd946c5dd9867d6', 'message': 'Add more trunk scenarios\n\nThis commit adds three new scenarios for neutron trunk port testing.\nAlso involves some minor refactor of existing\nNeutronTrunks.create_and_list_trunks scenario.\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 25, 'created': '2019-01-22 16:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/96995fd9f446407fc27db4071b44b2fa9509d297', 'message': 'Add more trunk scenarios\n\nThis commit adds three new scenarios for neutron trunk port testing.\nAlso involves some minor refactor of existing\nNeutronTrunks.create_and_list_trunks scenario.\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 26, 'created': '2019-01-22 21:00:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/9fce49235be4c516e1f4c7d0e7ec0b850725935d', 'message': 'Add more trunk scenarios\n\nThis commit adds three new scenarios for neutron trunk port testing.\nAlso involves some minor refactor of existing\nNeutronTrunks.create_and_list_trunks scenario.\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 27, 'created': '2019-01-22 21:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/0255a2b32510ec58b720371e00c4819f7fb1371a', 'message': 'Add more trunk scenarios\n\nThis commit adds three new scenarios for neutron trunk port testing.\nAlso involves some minor refactor of existing\nNeutronTrunks.create_and_list_trunks scenario.\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 28, 'created': '2019-01-22 21:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/e700d0858e324b9c87fa732daa8ae804c18cc9c8', 'message': 'Add more trunk scenarios\n\nThis commit adds three new scenarios for neutron trunk port testing.\nAlso involves some minor refactor of existing\nNeutronTrunks.create_and_list_trunks scenario.\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 29, 'created': '2019-01-22 23:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/238438ed65682b198f3728db23df607e76182167', 'message': 'Add more trunk scenarios\n\nThis commit adds three new scenarios for neutron trunk port testing.\nAlso involves some minor refactor of existing\nNeutronTrunks.create_and_list_trunks scenario.\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 30, 'created': '2019-01-23 02:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/6093a20e21b7fec2d1f946cfe9e3ea9405911113', 'message': 'Add more trunk scenarios\n\nThis commit adds three new scenarios for neutron trunk port testing.\nAlso involves some minor refactor of existing\nNeutronTrunks.create_and_list_trunks scenario.\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 31, 'created': '2019-01-25 15:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/291ff6794ada787b571ffcd47e5ae81e59d9b082', 'message': 'Add more trunk scenarios\n\nThis commit adds three new scenarios for neutron trunk port testing.\nAlso involves some minor refactor of existing\nNeutronTrunks.create_and_list_trunks scenario.\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 32, 'created': '2019-01-25 15:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/149bb39df02caa759855e696925c4618c36e1784', 'message': 'Add more trunk scenarios\n\nThis commit adds three new scenarios for neutron trunk port testing.\nAlso involves some minor refactor of existing\nNeutronTrunks.create_and_list_trunks scenario.\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 33, 'created': '2019-01-25 15:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/d8cb2862dacdd65df59ad69d2cf397110a9dee61', 'message': 'Add more trunk scenarios\n\nThis commit adds three new scenarios for neutron trunk port testing.\nAlso involves some minor refactor of existing\nNeutronTrunks.create_and_list_trunks scenario.\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 34, 'created': '2019-01-28 21:52:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/4742432f01c23cd9d90c471c9d168f89c90dd3a0', 'message': 'Add more trunk scenarios\n\nThis commit adds three new scenarios for neutron trunk port testing.\nAlso involves some minor refactor of existing\nNeutronTrunks.create_and_list_trunks scenario.\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 35, 'created': '2019-01-30 20:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/60d068f54d590169e300410938c471cc32af0be2', 'message': 'Add more trunk scenarios\n\nThis commit adds three new scenarios for neutron trunk port testing.\nAlso involves some minor refactor of existing\nNeutronTrunks.create_and_list_trunks scenario.\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 36, 'created': '2019-01-31 01:07:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/ba6d6dc767e0f536c7158252fdd61c020ef957e0', 'message': 'Add more trunk scenarios\n\nThis commit adds three new scenarios for neutron trunk port testing.\nAlso involves some minor refactor of existing\nNeutronTrunks.create_and_list_trunks scenario.\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 37, 'created': '2019-01-31 16:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/deccc1dd3f1b0bf024b76ae31bf875532cd57400', 'message': 'Add more trunk scenarios\n\nThis commit adds three new scenarios for neutron trunk port testing.\nAlso involves some minor refactor of existing\nNeutronTrunks.create_and_list_trunks scenario.\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 38, 'created': '2019-01-31 19:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/232b7a3103e778b094af7d6d1133f70913f67228', 'message': 'Add more trunk scenarios\n\nThis commit adds three new scenarios for neutron trunk port testing.\nAlso involves some minor refactor of existing\nNeutronTrunks.create_and_list_trunks scenario.\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 39, 'created': '2019-02-05 11:37:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/4fd60135f7ad86d77899509f96c67fa483c7598f', 'message': 'Add more trunk scenarios\n\nThis commit adds three new scenarios for neutron trunk port testing.\nAlso involves some minor refactor of existing\nNeutronTrunks.create_and_list_trunks scenario.\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}, {'number': 40, 'created': '2019-02-06 15:18:54.000000000', 'files': ['tests/unit/scenarios/neutron/test_network.py', 'rally-jobs/neutron-trunk.yaml', 'rally-jobs/neutron.yaml', '.zuul.d/rally-task-neutron-trunk.yaml', 'samples/tasks/scenarios/neutron/boot-server-and-batch-add-subports.json', 'rally_openstack/scenarios/neutron/trunk.py', 'samples/tasks/scenarios/neutron/boot-server-and-add-subports.yaml', 'samples/tasks/scenarios/neutron/create-and-list-trunks.json', 'samples/tasks/scenarios/neutron/boot-server-and-add-subports.json', 'samples/tasks/scenarios/neutron/boot-server-with-subports.json', 'samples/tasks/scenarios/neutron/create-and-list-trunks.yaml', '.zuul.d/rally-task-neutron.yaml', 'rally_openstack/scenarios/neutron/utils.py', 'rally_openstack/cleanup/resources.py', 'samples/tasks/scenarios/neutron/boot-server-with-subports.yaml', '.zuul.d/zuul.yaml', 'rally_openstack/scenarios/neutron/network.py', 'tasks/openstack/scenario/neutron.yaml', 'tests/unit/scenarios/neutron/test_trunk.py', 'samples/tasks/scenarios/neutron/boot-server-and-batch-add-subports.yaml', 'CHANGELOG.rst'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/ed524c07c1559a4ed45c5f7eee78c4cac8a3450b', 'message': 'Add more trunk scenarios\n\nThis commit adds three new scenarios for neutron trunk port testing.\nAlso involves some minor refactor of existing\nNeutronTrunks.create_and_list_trunks scenario.\nChange-Id: I632837576b353a3bc014577ac102ef0dbcdb019c\n'}]",4,628028,ed524c07c1559a4ed45c5f7eee78c4cac8a3450b,84,3,40,16845,,,0,"Add more trunk scenarios

This commit adds three new scenarios for neutron trunk port testing.
Also involves some minor refactor of existing
NeutronTrunks.create_and_list_trunks scenario.
Change-Id: I632837576b353a3bc014577ac102ef0dbcdb019c
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/28/628028/11 && git format-patch -1 --stdout FETCH_HEAD,"['rally_openstack/scenarios/neutron/network.py', 'rally_openstack/scenarios/neutron/trunk.py']",2,6bff833393a633ac84f0acef78340c35e92f8df6,new_trunk,"from rally.task import types from rally.task import utils from rally.task import validation from rally_openstack import consts from rally_openstack import scenario from rally_openstack.scenarios.neutron import utils as neutron_utils from rally_openstack.scenarios.nova import utils as nova_utils CONF = cfg.CONF """"""Scenarios for Neutron Trunk."""""" @validation.add(""number"", param_name=""subport_count"", minval=1, integer_only=True) @validation.add(""number"", param_name=""trunk_count"", minval=1, integer_only=True) @validation.add(""required_services"", services=[consts.Service.NEUTRON]) @validation.add(""required_platform"", platform=""openstack"", users=True) @scenario.configure(context={""cleanup@openstack"": [""neutron""]}, name=""NeutronTrunks.create_and_list_trunks"") class CreateAndListTrunks(utils.NeutronScenario): def run(self, network_create_args=None, trunk_count=1, subport_count=10): """"""Create given number of trunks with subports and list all trunks. :param network_create_args: dict, POST /v2.0/networks request options. Deprecated. :param trunk_count: int, number of trunk ports :param subport_count: int, number of subports per trunk """""" net = self._create_network(network_create_args or {}) ports = [self._create_port(net, {}) for _ in range( (trunk_count + trunk_count * subport_count))] parents, subports = ports[0:trunk_count], ports[trunk_count:] subport_payload = [{""port_id"": p[""port""][""id""], ""segmentation_type"": ""vlan"", ""segmentation_id"": seg_id} for seg_id, p in enumerate(subports, start=1)] subport_index = 0 for p in parents: trunk_payload = { ""port_id"": p[""port""][""id""], ""sub_ports"": subport_payload[slice( subport_index, subport_index + subport_count)] } trunk = self._create_trunk(trunk_payload) self._update_port(p, {""device_id"": ""sometrunk""}) self._list_subports_by_trunk(trunk[""trunk""][""id""]) subport_index += subport_count self._list_trunks() self._list_ports_by_device_id(""sometrunk"") @types.convert(image={""type"": ""glance_image""}, flavor={""type"": ""nova_flavor""}) @validation.add(""image_valid_on_flavor"", flavor_param=""flavor"", image_param=""image"") @validation.add(""required_services"", services=(consts.Service.NOVA, consts.Service.NEUTRON)) @validation.add(""required_platform"", platform=""openstack"", users=True) @scenario.configure(context={""cleanup@openstack"": [""nova"", ""neutron""]}, name=""NeutronTrunks.boot_server_with_subports"", platform=""openstack"") class BootServerWithSubports(nova_utils.NovaScenario, neutron_utils.NeutronScenario): def run(self, image, flavor, network_create_args=None, subport_count=10): """"""Boot a server with subports. Returns when the server is actually booted and in ""ACTIVE"" state. :param image: image ID or instance for server creation :param flavor: int, flavor ID or instance for server creation :param kwargs: other optional parameters to initialize the server :param subport_count: number of subports for the trunk port """""" kwargs = {} server_name = self.generate_random_name() net = self._create_network(network_create_args or {}) ports = [self._create_port(net, {}) for _ in range(subport_count + 1)] parent, subports = ports[0], ports[1:] subport_payload = [{""port_id"": p[""port""][""id""], ""segmentation_type"": ""vlan"", ""segmentation_id"": seg_id} for seg_id, p in enumerate(subports, start=1)] trunk_payload = {""port_id"": parent[""port""][""id""], ""sub_ports"": subport_payload} self._create_trunk(trunk_payload) kwargs[""networks""] = [{""port"": parent[""port""][""id""]}] server = self.clients(""nova"").servers.create( server_name, image, flavor, **kwargs) self.sleep_between(CONF.openstack.nova_server_boot_prepoll_delay) server = utils.wait_for_status( server, ready_statuses=[""ACTIVE""], update_resource=utils.get_from_manager(), timeout=CONF.openstack.nova_server_boot_timeout, check_interval=CONF.openstack.nova_server_boot_poll_interval ) @types.convert(image={""type"": ""glance_image""}, flavor={""type"": ""nova_flavor""}) @validation.add(""image_valid_on_flavor"", flavor_param=""flavor"", image_param=""image"") @validation.add(""required_services"", services=(consts.Service.NOVA, consts.Service.NEUTRON)) @validation.add(""required_platform"", platform=""openstack"", users=True) @scenario.configure(context={""cleanup@openstack"": [""nova"", ""neutron""]}, name=""NeutronTrunks.boot_server_and_add_subports"", platform=""openstack"") class BootServerAndAddSubports(nova_utils.NovaScenario, neutron_utils.NeutronScenario): def run(self, image, flavor, network_create_args=None, subport_count=10): """"""Boot a server and add subports. Returns when the server is actually booted and in ""ACTIVE"" state. :param image: image ID or instance for server creation :param flavor: int, flavor ID or instance for server creation :param kwargs: other optional parameters to initialize the server :param subport_count: number of subports for the trunk port """""" kwargs = {} server_name = self.generate_random_name() net = self._create_network(network_create_args or {}) ports = [self._create_port(net, {}) for _ in range(subport_count + 1)] parent, subports = ports[0], ports[1:] trunk_payload = {""port_id"": parent[""port""][""id""]} trunk = self._create_trunk(trunk_payload) kwargs[""networks""] = [{""port"": parent[""port""][""id""]}] server = self.clients(""nova"").servers.create( server_name, image, flavor, **kwargs) self.sleep_between(CONF.openstack.nova_server_boot_prepoll_delay) server = utils.wait_for_status( server, ready_statuses=[""ACTIVE""], update_resource=utils.get_from_manager(), timeout=CONF.openstack.nova_server_boot_timeout, check_interval=CONF.openstack.nova_server_boot_poll_interval ) for seg_id, p in enumerate(subports, start=1): subport_payload = [{""port_id"": p[""port""][""id""], ""segmentation_type"": ""vlan"", ""segmentation_id"": seg_id}] self._add_subports_to_trunk(trunk[""trunk""][""id""], subport_payload) @types.convert(image={""type"": ""glance_image""}, flavor={""type"": ""nova_flavor""}) @validation.add(""image_valid_on_flavor"", flavor_param=""flavor"", image_param=""image"") @validation.add(""required_services"", services=(consts.Service.NOVA, consts.Service.NEUTRON)) @validation.add(""required_platform"", platform=""openstack"", users=True) @scenario.configure(context={""cleanup@openstack"": [""nova"", ""neutron""]}, name=""NeutronTrunks.boot_server_and_batch_add_subports"", platform=""openstack"") class BootServerAndBatchAddSubports(nova_utils.NovaScenario, neutron_utils.NeutronScenario): def run(self, image, flavor, network_create_args=None, subports_per_batch=10, batches=5): """"""Boot a server and add subports. Returns when the server is actually booted and in ""ACTIVE"" state. :param image: image ID or instance for server creation :param flavor: int, flavor ID or instance for server creation :param kwargs: other optional parameters to initialize the server :param subport_count: number of subports for the trunk port """""" kwargs = {} server_name = self.generate_random_name() net = self._create_network(network_create_args or {}) ports = [self._create_port(net, {}) for _ in range( subports_per_batch * batches + 1)] parent, subports = ports[0], ports[1:] trunk_payload = {""port_id"": parent[""port""][""id""]} trunk = self._create_trunk(trunk_payload) kwargs[""networks""] = [{""port"": parent[""port""][""id""]}] server = self.clients(""nova"").servers.create( server_name, image, flavor, **kwargs) self.sleep_between(CONF.openstack.nova_server_boot_prepoll_delay) server = utils.wait_for_status( server, ready_statuses=[""ACTIVE""], update_resource=utils.get_from_manager(), timeout=CONF.openstack.nova_server_boot_timeout, check_interval=CONF.openstack.nova_server_boot_poll_interval ) begin = 0 for _ in batches: end = begin + subports_per_batch for seg_id, p in enumerate(subports[slice(begin, end)], start=begin + 1): subport_payload = [{""port_id"": p[""port""][""id""], ""segmentation_type"": ""vlan"", ""segmentation_id"": seg_id}] begin = begin + subports_per_batch self._add_subports_to_trunk(trunk[""trunk""][""id""], subport_payload) ",,197,40
openstack%2Fopenstack-ansible-os_cinder~stable%2Frocky~I583ad08feb2293b14da8d6ccd42f8809f1f45b8d,openstack/openstack-ansible-os_cinder,stable/rocky,I583ad08feb2293b14da8d6ccd42f8809f1f45b8d,Add possibility to have private cinder volume types,MERGED,2019-01-21 10:42:20.000000000,2019-02-06 20:55:30.000000000,2019-02-06 20:55:30.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 29514}]","[{'number': 1, 'created': '2019-01-21 10:42:20.000000000', 'files': ['doc/source/configure-cinder.rst', 'tasks/cinder_backends.yml', 'releasenotes/notes/os_cinder-private-volume-type-9b2cc92c6c74c277.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/1966ebc4ae777680ddcbb0bd8831901cd131582f', 'message': 'Add possibility to have private cinder volume types\n\nWhen declaring cinder_backends in user_variables.yml, it\nwill create public volume types.\n\nWe should be able to add an option to set the volume type\nas private. This commit add this possibility.\n\nNote that this backport combines the two related patches:\n- https://review.openstack.org/619264\n- https://review.openstack.org/629815\n\nChange-Id: I583ad08feb2293b14da8d6ccd42f8809f1f45b8d\nRelated-Bug: 1804438\n(cherry picked from commit a04b6cb15e5727a5ac34b1f7cc8213273c86d57b)\n'}]",0,632062,1966ebc4ae777680ddcbb0bd8831901cd131582f,9,5,1,6816,,,0,"Add possibility to have private cinder volume types

When declaring cinder_backends in user_variables.yml, it
will create public volume types.

We should be able to add an option to set the volume type
as private. This commit add this possibility.

Note that this backport combines the two related patches:
- https://review.openstack.org/619264
- https://review.openstack.org/629815

Change-Id: I583ad08feb2293b14da8d6ccd42f8809f1f45b8d
Related-Bug: 1804438
(cherry picked from commit a04b6cb15e5727a5ac34b1f7cc8213273c86d57b)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/62/632062/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configure-cinder.rst', 'tasks/cinder_backends.yml', 'releasenotes/notes/os_cinder-private-volume-type-9b2cc92c6c74c277.yaml']",3,1966ebc4ae777680ddcbb0bd8831901cd131582f,bug/1804438,--- features: - Deployers can now define a cinder-backend volume type explicitly private or public with option ``public`` set to true or false. ,,21,2
openstack%2Fopenstack-ansible-os_neutron~stable%2Fpike~I7764e0d6100a8327f84f78da64f10f8e1fa355b1,openstack/openstack-ansible-os_neutron,stable/pike,I7764e0d6100a8327f84f78da64f10f8e1fa355b1,Adds ability to set no-resolv for dnsmasq.,MERGED,2018-12-12 19:01:22.000000000,2019-02-06 20:54:53.000000000,2019-02-06 20:54:53.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2018-12-12 19:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/0e3b5c96f1235c953ffa6e03232b030ed98f69a3', 'message': ""Adds ability to set no-resolv for dnsmasq.\n\nIntroduces variable neutron_dnsmasq_noresolv. When it is set to true,\nno-resolv option will be placed in dnsmasq-neutron.conf.\n\nIf dnsmasq_dns_servers are not set, and neutron_dnsmasq_noresolv is True\ndnsmasq will reply with empty response on DNS requests,\nwhich may be used as a workaround of\nhttps://bugs.launchpad.net/neutron/+bug/1501206\nAs a con, resolver is actually won't work at all, so all networks w/o\nconfigured DNS will stop resolving DNS.\n\nChange-Id: I7764e0d6100a8327f84f78da64f10f8e1fa355b1\n""}, {'number': 2, 'created': '2018-12-18 14:06:02.000000000', 'files': ['templates/dnsmasq-neutron.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/5aa69064b50501d5b6604aeddcbb9f151b5503cd', 'message': ""Adds ability to set no-resolv for dnsmasq.\n\nIntroduces variable neutron_dnsmasq_noresolv. When it is set to true,\nno-resolv option will be placed in dnsmasq-neutron.conf.\n\nIf dnsmasq_dns_servers are not set, and neutron_dnsmasq_noresolv is True\ndnsmasq will reply with empty response on DNS requests,\nwhich may be used as a workaround of\nhttps://bugs.launchpad.net/neutron/+bug/1501206\nAs a con, resolver is actually won't work at all, so all networks w/o\nconfigured DNS will stop resolving DNS.\n\nChange-Id: I7764e0d6100a8327f84f78da64f10f8e1fa355b1\n(cherry picked from commit 1d2d3d086dbbdc8d7387b6f71c0780d6df85ecb9)\n""}]",1,624786,5aa69064b50501d5b6604aeddcbb9f151b5503cd,43,4,2,28619,,,0,"Adds ability to set no-resolv for dnsmasq.

Introduces variable neutron_dnsmasq_noresolv. When it is set to true,
no-resolv option will be placed in dnsmasq-neutron.conf.

If dnsmasq_dns_servers are not set, and neutron_dnsmasq_noresolv is True
dnsmasq will reply with empty response on DNS requests,
which may be used as a workaround of
https://bugs.launchpad.net/neutron/+bug/1501206
As a con, resolver is actually won't work at all, so all networks w/o
configured DNS will stop resolving DNS.

Change-Id: I7764e0d6100a8327f84f78da64f10f8e1fa355b1
(cherry picked from commit 1d2d3d086dbbdc8d7387b6f71c0780d6df85ecb9)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/86/624786/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/dnsmasq-neutron.conf.j2', 'defaults/main.yml']",2,0e3b5c96f1235c953ffa6e03232b030ed98f69a3,,"### DNSMasq configuration ### # Disable dnsmasq to resolve DNS via local resolv.conf. # When dnsmasq_dns_servers are not set, # and neutron_dnsmasq_noresolv is set to True, dnsmasq will reply with # empty respose on DNS requests. neutron_dnsmasq_noresolv: False ###",,12,0
openstack%2Fopenstack-ansible-plugins~master~Ia9093ebf23c4ec0209ada07e76048ecbadb9ee41,openstack/openstack-ansible-plugins,master,Ia9093ebf23c4ec0209ada07e76048ecbadb9ee41,Convert provider network network_mappings to unique list,MERGED,2019-02-06 19:40:18.000000000,2019-02-06 20:45:15.000000000,2019-02-06 20:45:15.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-02-06 19:40:18.000000000', 'files': ['library/provider_networks'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/152bae8b96c5d78193501b21fee84132dc4d7f12', 'message': ""Convert provider network network_mappings to unique list\n\nWhen users define multiple provider networks in openstack_user_config\nusing the same label<->interface mapping, as seen when defining both a\nflat and vlan-type network using the same host_bind_override, the\nnetwork_mappings list contains both (identical) mappings. This causes\nthe Neutron agent to bail with the following error:\n\nlinuxbridge_neutron_agent [-] Parsing physical_interface_mappings failed:\nKey vlan in mapping: 'vlan:ens1f0' not unique. Agent terminated!\n\nThis patch converts the list->set->list to ensure unique mappings.\n\nChange-Id: Ia9093ebf23c4ec0209ada07e76048ecbadb9ee41\n""}]",0,635250,152bae8b96c5d78193501b21fee84132dc4d7f12,7,3,1,16011,,,0,"Convert provider network network_mappings to unique list

When users define multiple provider networks in openstack_user_config
using the same label<->interface mapping, as seen when defining both a
flat and vlan-type network using the same host_bind_override, the
network_mappings list contains both (identical) mappings. This causes
the Neutron agent to bail with the following error:

linuxbridge_neutron_agent [-] Parsing physical_interface_mappings failed:
Key vlan in mapping: 'vlan:ens1f0' not unique. Agent terminated!

This patch converts the list->set->list to ensure unique mappings.

Change-Id: Ia9093ebf23c4ec0209ada07e76048ecbadb9ee41
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/50/635250/1 && git format-patch -1 --stdout FETCH_HEAD,['library/provider_networks'],1,152bae8b96c5d78193501b21fee84132dc4d7f12,," 'network_mappings': ','.join(list(set(pnp.network_mappings))),"," 'network_mappings': ','.join(pnp.network_mappings),",1,1
openstack%2Fopenstack-helm-infra~master~Ic695e9fb24a74088804cd50bc587638d9a7ee5df,openstack/openstack-helm-infra,master,Ic695e9fb24a74088804cd50bc587638d9a7ee5df,Ceph: Restore swift/keystone rgw test operation,ABANDONED,2019-02-06 14:53:36.000000000,2019-02-06 20:42:38.000000000,,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 26628}, {'_account_id': 28372}, {'_account_id': 29268}]","[{'number': 1, 'created': '2019-02-06 14:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f4ce7a86963c758cb9f26bd7e1d06957f483dcff', 'message': 'Ceph: Restore s3 rgw test operation\n\nThis PS fixes the erronious removal of the init containers from\nthe ceph rwg test pod, that was missed in code review.\n\nChange-Id: Ic695e9fb24a74088804cd50bc587638d9a7ee5df\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-02-06 15:49:24.000000000', 'files': ['ceph-rgw/templates/pod-helm-tests.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/74f178ecb17fe92d6f0f4a081ceea9e68e246ed0', 'message': 'Ceph: Restore swift/keystone rgw test operation\n\nThis PS fixes the erronious removal of the init containers from\nthe ceph rgw test pod, that was missed in code review.\n\nChange-Id: Ic695e9fb24a74088804cd50bc587638d9a7ee5df\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",1,635174,74f178ecb17fe92d6f0f4a081ceea9e68e246ed0,15,6,2,23928,,,0,"Ceph: Restore swift/keystone rgw test operation

This PS fixes the erronious removal of the init containers from
the ceph rgw test pod, that was missed in code review.

Change-Id: Ic695e9fb24a74088804cd50bc587638d9a7ee5df
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/74/635174/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph-rgw/templates/pod-helm-tests.yaml'],1,f4ce7a86963c758cb9f26bd7e1d06957f483dcff,rgw-test-restore," initContainers: {{ tuple $envAll ""tests"" list | include ""helm-toolkit.snippets.kubernetes_entrypoint_init_container"" | indent 4 }} - name: ceph-keyring-placement {{ tuple $envAll ""ceph_config_helper"" | include ""helm-toolkit.snippets.image"" | indent 6 }} securityContext: runAsUser: 0 command: - /tmp/ceph-admin-keyring.sh volumeMounts: - name: etcceph mountPath: /etc/ceph - name: ceph-rgw-bin mountPath: /tmp/ceph-admin-keyring.sh subPath: ceph-admin-keyring.sh readOnly: true - name: ceph-keyring mountPath: /tmp/client-keyring subPath: key readOnly: true",,19,0
openstack%2Fpython-cinderclient~master~I259787a40151e8c875ad87021f655a141e06b15e,openstack/python-cinderclient,master,I259787a40151e8c875ad87021f655a141e06b15e,Cleanup the home page,MERGED,2018-12-04 22:34:12.000000000,2019-02-06 20:33:28.000000000,2019-02-06 20:33:28.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-04 22:34:12.000000000', 'files': ['doc/source/contributor/functional_tests.rst', 'doc/source/index.rst', 'doc/source/user/cinder.rst', 'doc/source/contributor/unit_tests.rst', 'doc/source/user/no_auth.rst'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/85a3f0e30d7ac8532b86f359803eba341b9590d9', 'message': 'Cleanup the home page\n\nGood lord this thing needed some love. This change\ndoes a few things:\n\n* Remove the duplicate man page.\n* Rename some titles to drop the CINDERCLIENT yelling -\n  this is docs about cinderclient, I get it, no need to\n  repeat in all caps.\n* Fixed the sub-section title formatting in the home page.\n* Dropped the duplicate usage guide wording and simply linked\n  to the user docs from the home page.\n\nChange-Id: I259787a40151e8c875ad87021f655a141e06b15e\n'}]",0,622617,85a3f0e30d7ac8532b86f359803eba341b9590d9,9,4,1,6873,,,0,"Cleanup the home page

Good lord this thing needed some love. This change
does a few things:

* Remove the duplicate man page.
* Rename some titles to drop the CINDERCLIENT yelling -
  this is docs about cinderclient, I get it, no need to
  repeat in all caps.
* Fixed the sub-section title formatting in the home page.
* Dropped the duplicate usage guide wording and simply linked
  to the user docs from the home page.

Change-Id: I259787a40151e8c875ad87021f655a141e06b15e
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/17/622617/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/functional_tests.rst', 'doc/source/index.rst', 'doc/source/user/cinder.rst', 'doc/source/contributor/unit_tests.rst', 'doc/source/user/no_auth.rst']",5,85a3f0e30d7ac8532b86f359803eba341b9590d9,cleanup-home-page,============ Using noauth ============,========================= CINDERCLIENT Using noauth =========================,11,91
openstack%2Fpuppet-openstack_spec_helper~stable%2Fqueens~I521affb16d8d2312be3ff507a014adddacd6cb8b,openstack/puppet-openstack_spec_helper,stable/queens,I521affb16d8d2312be3ff507a014adddacd6cb8b,Workaround for installing correct version of ruby bundler,MERGED,2019-01-12 16:24:17.000000000,2019-02-06 20:29:35.000000000,2019-01-14 18:17:08.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28239}]","[{'number': 1, 'created': '2019-01-12 16:24:17.000000000', 'files': ['functions'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/c44a4bbc4b69b4f55cfc0b1aa0e26aadbfa238bc', 'message': 'Workaround for installing correct version of ruby bundler\n\nSee https://github.com/bundler/bundler/issues/6870\n\nBundler 2.x dropped support for Ruby < 2.3 so now we detect ruby\nversion and install last known to work version. This means that\nnewer OS will get newer versions of bundler.\n\nChange-Id: I521affb16d8d2312be3ff507a014adddacd6cb8b\nCloses-Bug: #1810401\n(cherry picked from commit 618537771344aa91cc12759dbab1b63acf55ec6d)\n(cherry picked from commit 9b6f1e1453dfc23eb4f0e21c5565612e014d4f01)\n'}]",0,630463,c44a4bbc4b69b4f55cfc0b1aa0e26aadbfa238bc,9,4,1,16137,,,0,"Workaround for installing correct version of ruby bundler

See https://github.com/bundler/bundler/issues/6870

Bundler 2.x dropped support for Ruby < 2.3 so now we detect ruby
version and install last known to work version. This means that
newer OS will get newer versions of bundler.

Change-Id: I521affb16d8d2312be3ff507a014adddacd6cb8b
Closes-Bug: #1810401
(cherry picked from commit 618537771344aa91cc12759dbab1b63acf55ec6d)
(cherry picked from commit 9b6f1e1453dfc23eb4f0e21c5565612e014d4f01)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/63/630463/1 && git format-patch -1 --stdout FETCH_HEAD,['functions'],1,c44a4bbc4b69b4f55cfc0b1aa0e26aadbfa238bc,bug/1810401-stable/rocky-stable/queens, ruby <<EOF cmd = 'gem install bundler --no-rdoc --no-ri --verbose' if Gem::Version.new(RUBY_VERSION) < Gem::Version.new('2.3.0') then cmd += ' -v 1.17.3' end system(cmd) EOF, gem install bundler --no-rdoc --no-ri --verbose,7,1
openstack%2Fcinder~master~Ic0d6b17ab66fd70f3fa46e7b845280273f9677dc,openstack/cinder,master,Ic0d6b17ab66fd70f3fa46e7b845280273f9677dc,relocate return of create_volume and _clone in rbd driver,ABANDONED,2018-08-08 09:50:10.000000000,2019-02-06 20:27:32.000000000,,"[{'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18598}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28706}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-08-08 09:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c84bc46417c6e1901800e461806b72be0279dc71', 'message': ""relocate the return of create_volume in rbd driver\n\nIf we put the return outside the structure 'with', we should\ndefine the variable in advance. So logically, putting the\n'volume_update' into structure 'with' makes person more understand.\nAnother reason is that the structure 'with' is the end of\nfunction 'create_volume'.\n\nChange-Id: Ic0d6b17ab66fd70f3fa46e7b845280273f9677dc\n""}, {'number': 2, 'created': '2018-08-10 09:27:20.000000000', 'files': ['cinder/volume/drivers/rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/72ec9e919dfe3c454087097b08ba8ce988ccf358', 'message': 'relocate return of create_volume and _clone in rbd driver\n\nPut return into try block because no return after except block.\n\nChange-Id: Ic0d6b17ab66fd70f3fa46e7b845280273f9677dc\n'}]",1,589820,72ec9e919dfe3c454087097b08ba8ce988ccf358,59,32,2,28706,,,0,"relocate return of create_volume and _clone in rbd driver

Put return into try block because no return after except block.

Change-Id: Ic0d6b17ab66fd70f3fa46e7b845280273f9677dc
",git fetch https://review.opendev.org/openstack/cinder refs/changes/20/589820/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/rbd.py'],1,c84bc46417c6e1901800e461806b72be0279dc71,relocate_return, return volume_update, return volume_update,1,1
openstack%2Ftripleo-common~master~I35cbde7e3d44ce071a962cea278680bd5e453ec2,openstack/tripleo-common,master,I35cbde7e3d44ce071a962cea278680bd5e453ec2,Append rabbitmq_packages_append contents,MERGED,2019-02-06 07:42:57.000000000,2019-02-06 20:22:08.000000000,2019-02-06 20:22:08.000000000,"[{'_account_id': 6926}, {'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9196}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13039}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16282}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-02-06 07:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d69837e3f26893cf80f6801c1f250a16d4ea6e5b', 'message': 'Append rabbitmq_packages_append contents\n\nThe review [1] override the fix later on the jinja template, this review\nreplace the override by an append, and also check if there is nothing to\nappend and add an empty list.\n\nCloses-Bug: #1814851\n\n[1] https://review.openstack.org/#/c/634405\n\nChange-Id: I35cbde7e3d44ce071a962cea278680bd5e453ec2\n'}, {'number': 2, 'created': '2019-02-06 08:34:59.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/72041379dbabd08f2f56895df165760d25d980dd', 'message': 'Append rabbitmq_packages_append contents\n\nThe review [1] override the fix later on the jinja template, this review\nreplace the override by an append, and also check if there is nothing to\nappend and add an empty list.\n\nCloses-Bug: #1814851\n\n[1] https://review.openstack.org/#/c/634405\n\nChange-Id: I35cbde7e3d44ce071a962cea278680bd5e453ec2\n'}]",2,635108,72041379dbabd08f2f56895df165760d25d980dd,20,18,2,27898,,,0,"Append rabbitmq_packages_append contents

The review [1] override the fix later on the jinja template, this review
replace the override by an append, and also check if there is nothing to
append and add an empty list.

Closes-Bug: #1814851

[1] https://review.openstack.org/#/c/634405

Change-Id: I35cbde7e3d44ce071a962cea278680bd5e453ec2
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/08/635108/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,d69837e3f26893cf80f6801c1f250a16d4ea6e5b,bug/1814851,{% set rabbitmq_packages_append = rabbitmq_packages_append | default([]) + [,{% set rabbitmq_packages_append = [,1,1
openstack%2Fnova~master~Icd227b807a78bd37a77fa547880780ff9edad1e8,openstack/nova,master,Icd227b807a78bd37a77fa547880780ff9edad1e8,AZ operations: check host has no instances,ABANDONED,2018-10-19 10:30:56.000000000,2019-02-06 19:59:20.000000000,,"[{'_account_id': 7}, {'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25562}, {'_account_id': 26286}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 27078}]","[{'number': 1, 'created': '2018-10-19 10:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5494beec9ccb210bc9f51612da6f1ef7ee1640bd', 'message': ""AZ operations: check host has no instances\n\nThis adds additional check to aggregate API calls: Update Aggregate,\nAdd Host. That check makes sure there are no instances in the targeted\nhost for adding and removing host to aggregate. Also with that change,\nit's not possible to rename AZ it the corresponding aggregate has\ninstances in any hosts.\n\nChange-Id: Icd227b807a78bd37a77fa547880780ff9edad1e8\nCloses-bug: #1782539\n""}, {'number': 2, 'created': '2018-10-19 10:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f308b3327786d8c8534802b27baa9768bb12841', 'message': ""AZ operations: check host has no instances\n\nThis adds additional check to aggregate API calls: Update Aggregate,\nAdd Host. That check makes sure there are no instances in the targeted\nhost for adding and removing host to aggregate. Also with that change,\nit's not possible to rename AZ it the corresponding aggregate has\ninstances in any hosts.\n\nReferences:\nhttps://review.openstack.org/#/c/509206\n\nChange-Id: Icd227b807a78bd37a77fa547880780ff9edad1e8\nCloses-bug: #1782539\n""}, {'number': 3, 'created': '2018-10-31 05:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/417a30529a8ef577f073adfa85063f52b9d3c3c7', 'message': ""AZ operations: check host has no instances\n\nThis adds additional check to aggregate API calls: Update Aggregate,\nAdd Host. That check makes sure there are no instances in the targeted\nhost for adding and removing host to aggregate. Also with that change,\nit's not possible to rename AZ it the corresponding aggregate has\ninstances in any hosts.\n\nReferences:\nhttps://review.openstack.org/#/c/509206\n\nChange-Id: Icd227b807a78bd37a77fa547880780ff9edad1e8\nCloses-bug: #1782539\n""}, {'number': 4, 'created': '2018-11-01 11:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7db7f4fea0992639e38428505d63941050f476ad', 'message': ""AZ operations: check host has no instances\n\nThis adds additional check to aggregate API calls: Update Aggregate,\nAdd Host, Remove Host. That check makes sure there are no instances\nin the targeted host for adding and removing host to aggregate. Also\nwith that change, it's not possible to rename AZ it the corresponding\naggregate has instances in any hosts.\n\nReferences:\nhttps://review.openstack.org/#/c/509206\n\nChange-Id: Icd227b807a78bd37a77fa547880780ff9edad1e8\nCloses-bug: #1782539\n""}, {'number': 5, 'created': '2018-11-02 03:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b02832ad2c76c41957a86f501e34f08f7e872084', 'message': ""AZ operations: check host has no instances\n\nThis adds additional check to aggregate API calls: Update Aggregate,\nAdd Host, Remove Host. That check makes sure there are no instances\nin the targeted host for adding and removing host to aggregate. Also\nwith that change, it's not possible to rename AZ it the corresponding\naggregate has instances in any hosts.\n\nReferences:\nhttps://review.openstack.org/#/c/509206\n\nChange-Id: Icd227b807a78bd37a77fa547880780ff9edad1e8\nCloses-bug: #1782539\n""}, {'number': 6, 'created': '2018-11-02 11:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6f59818f7c6d42b9851297137d4d099499eadad2', 'message': ""AZ operations: check host has no instances\n\nThis adds additional check to aggregate API calls: Update Aggregate,\nAdd Host, Remove Host. That check makes sure there are no instances\nin the targeted host for adding and removing host to aggregate. Also\nwith that change, it's not possible to rename AZ it the corresponding\naggregate has instances in any hosts.\n\nReferences:\nhttps://review.openstack.org/#/c/509206\n\nChange-Id: Icd227b807a78bd37a77fa547880780ff9edad1e8\nCloses-bug: #1782539\n""}, {'number': 7, 'created': '2018-11-02 12:14:12.000000000', 'files': ['nova/tests/unit/objects/test_objects.py', 'nova/tests/functional/db/test_instance.py', 'nova/tests/unit/compute/test_compute.py', 'nova/objects/instance.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/951172f5c78988e9de5ef92b982066c9c7202ff7', 'message': ""AZ operations: check host has no instances\n\nThis adds additional check to aggregate API calls: Update Aggregate,\nAdd Host, Remove Host. That check makes sure there are no instances\nin the targeted host for adding and removing host to aggregate. Also\nwith that change, it's not possible to rename AZ it the corresponding\naggregate has instances in any hosts.\n\nReferences:\nhttps://review.openstack.org/#/c/509206\n\nDepends-On: I19861b2832f140eac0ad5397091a6333e2f40618\nChange-Id: Icd227b807a78bd37a77fa547880780ff9edad1e8\nCloses-Bug: #1782539\n""}]",8,611833,951172f5c78988e9de5ef92b982066c9c7202ff7,76,28,7,26286,,,0,"AZ operations: check host has no instances

This adds additional check to aggregate API calls: Update Aggregate,
Add Host, Remove Host. That check makes sure there are no instances
in the targeted host for adding and removing host to aggregate. Also
with that change, it's not possible to rename AZ it the corresponding
aggregate has instances in any hosts.

References:
https://review.openstack.org/#/c/509206

Depends-On: I19861b2832f140eac0ad5397091a6333e2f40618
Change-Id: Icd227b807a78bd37a77fa547880780ff9edad1e8
Closes-Bug: #1782539
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/611833/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/db/test_instance.py', 'nova/tests/unit/compute/test_compute.py', 'nova/objects/instance.py', 'nova/compute/api.py']",4,5494beec9ccb210bc9f51612da6f1ef7ee1640bd,bug/1782539," instance_count_by_cell = nova_context.scatter_gather_skip_cell0( context, objects.InstanceList.get_count_by_hosts, _hosts) if any(cnt for cnt in instance_count_by_cell.values()): msg = _(""One or more host has instances"") self._raise_invalid_aggregate_exc(action_name, aggregate.id, msg) ",,58,0
openstack%2Fswift~master~I3c5935e2d5f1cd140cf52df779596ebd6442686c,openstack/swift,master,I3c5935e2d5f1cd140cf52df779596ebd6442686c,Cleanup EC and SSYNC frag index parameters,MERGED,2019-02-04 20:06:38.000000000,2019-02-06 19:59:09.000000000,2019-02-06 19:59:09.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-04 20:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/153407b983c16e377455e222e1fecc70eb797577', 'message': ""Cleanup EC and SSYNC frag index parameters\n\nAn object node should reject a PUT with 409 when the timestamp is less\nthan or equal to the timestamp of an existing version of the object.\n\nHowever, if the PUT is part of an SSYNC, and the fragment archive has a\ndifferent index than the one on disk we may store it.\n\nWe should store it we're the primary holder for that fragment index.\n\nBack before the related change we used to revert fragments to handoffs\nand it caused a lot of problems.  Mainly multiple frag indexes piling up\non one handoff node.  Eventually we settled on handoffs only reverting\nto primaries but there was some crufty flailing left over.\n\nWhen EC frag duplication (multi-region EC) came in we also added a new\ncomplexity because a node's primary index (the index in part_nodes list)\nwas no longer universially equal to the EC frag index (the storage\npolicy backend end index).  There was a few places we assumed\nnode_index == frag_index, some of which caused bugs which we've fixed.\n\nThis change tries to clean all that up.\n\nRelated-Change-Id: Ie351d8342fc8e589b143f981e95ce74e70e52784\n\nChange-Id: I3c5935e2d5f1cd140cf52df779596ebd6442686c\n""}, {'number': 2, 'created': '2019-02-04 21:54:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/950191564b21947f4177efd87f94bad722739831', 'message': ""Cleanup EC and SSYNC frag index parameters\n\nAn object node should reject a PUT with 409 when the timestamp is less\nthan or equal to the timestamp of an existing version of the object.\n\nHowever, if the PUT is part of an SSYNC, and the fragment archive has a\ndifferent index than the one on disk we may store it.\n\nWe should store it we're the primary holder for that fragment index.\n\nBack before the related change we used to revert fragments to handoffs\nand it caused a lot of problems.  Mainly multiple frag indexes piling up\non one handoff node.  Eventually we settled on handoffs only reverting\nto primaries but there was some crufty flailing left over.\n\nWhen EC frag duplication (multi-region EC) came in we also added a new\ncomplexity because a node's primary index (the index in part_nodes list)\nwas no longer universially equal to the EC frag index (the storage\npolicy backend end index).  There was a few places we assumed\nnode_index == frag_index, some of which caused bugs which we've fixed.\n\nThis change tries to clean all that up.\n\nRelated-Change-Id: Ie351d8342fc8e589b143f981e95ce74e70e52784\n\nChange-Id: I3c5935e2d5f1cd140cf52df779596ebd6442686c\n""}, {'number': 3, 'created': '2019-02-04 23:03:40.000000000', 'files': ['swift/obj/server.py', 'swift/obj/reconstructor.py', 'test/unit/obj/test_ssync_sender.py', 'swift/obj/ssync_sender.py', 'test/unit/obj/test_ssync.py', 'test/unit/obj/test_reconstructor.py', 'swift/obj/ssync_receiver.py', 'test/unit/obj/test_ssync_receiver.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/fb0e7837af119dfb6bd30627ac8f9f4eb5a3e890', 'message': ""Cleanup EC and SSYNC frag index parameters\n\nAn object node should reject a PUT with 409 when the timestamp is less\nthan or equal to the timestamp of an existing version of the object.\n\nHowever, if the PUT is part of an SSYNC, and the fragment archive has a\ndifferent index than the one on disk we may store it.\n\nWe should store it we're the primary holder for that fragment index.\n\nBack before the related change we used to revert fragments to handoffs\nand it caused a lot of problems.  Mainly multiple frag indexes piling up\non one handoff node.  Eventually we settled on handoffs only reverting\nto primaries but there was some crufty flailing left over.\n\nWhen EC frag duplication (multi-region EC) came in we also added a new\ncomplexity because a node's primary index (the index in part_nodes list)\nwas no longer universially equal to the EC frag index (the storage\npolicy backend end index).  There was a few places we assumed\nnode_index == frag_index, some of which caused bugs which we've fixed.\n\nThis change tries to clean all that up.\n\nRelated-Change-Id: Ie351d8342fc8e589b143f981e95ce74e70e52784\n\nChange-Id: I3c5935e2d5f1cd140cf52df779596ebd6442686c\n""}]",37,634797,fb0e7837af119dfb6bd30627ac8f9f4eb5a3e890,21,3,3,1179,,,0,"Cleanup EC and SSYNC frag index parameters

An object node should reject a PUT with 409 when the timestamp is less
than or equal to the timestamp of an existing version of the object.

However, if the PUT is part of an SSYNC, and the fragment archive has a
different index than the one on disk we may store it.

We should store it we're the primary holder for that fragment index.

Back before the related change we used to revert fragments to handoffs
and it caused a lot of problems.  Mainly multiple frag indexes piling up
on one handoff node.  Eventually we settled on handoffs only reverting
to primaries but there was some crufty flailing left over.

When EC frag duplication (multi-region EC) came in we also added a new
complexity because a node's primary index (the index in part_nodes list)
was no longer universially equal to the EC frag index (the storage
policy backend end index).  There was a few places we assumed
node_index == frag_index, some of which caused bugs which we've fixed.

This change tries to clean all that up.

Related-Change-Id: Ie351d8342fc8e589b143f981e95ce74e70e52784

Change-Id: I3c5935e2d5f1cd140cf52df779596ebd6442686c
",git fetch https://review.opendev.org/openstack/swift refs/changes/97/634797/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/server.py', 'swift/obj/reconstructor.py', 'test/unit/obj/test_ssync_sender.py', 'swift/obj/ssync_sender.py', 'test/unit/obj/test_ssync.py', 'swift/common/ring/ring.py', 'swift/obj/ssync_receiver.py', 'test/unit/obj/test_reconstructor.py', 'test/unit/obj/test_ssync_receiver.py']",9,153407b983c16e377455e222e1fecc70eb797577,bug/1510342," rcvr = ssync_receiver.Receiver(self.controller, req) body_lines = [chunk.strip() for chunk in rcvr() if chunk.strip()] self.assertEqual( body_lines, [':MISSING_CHECK: START', ':MISSING_CHECK: END', ':UPDATES: START', ':UPDATES: END']) self.assertEqual(rcvr.policy, POLICIES[1]) # no one ever did this and no one cares self.assertEqual(rcvr.frag_index, None) rcvr = ssync_receiver.Receiver(self.controller, req) body_lines = [chunk.strip() for chunk in rcvr() if chunk.strip()] self.assertEqual( body_lines, [':MISSING_CHECK: START', ':MISSING_CHECK: END', ':UPDATES: START', ':UPDATES: END']) self.assertEqual(rcvr.policy, POLICIES[1]) # no one ever did this and no one cares self.assertEqual(rcvr.frag_index, 7)"," self.assertIsNone(rcvr.node_index) with self.assertRaises(HTTPException) as e: ssync_receiver.Receiver(self.controller, req) self.assertEqual(e.exception.status_int, 400) # if a node index is included - it *must* be # the same value of frag index self.assertEqual(e.exception.body, 'Frag-Index (None) != Node-Index (7)') self.assertEqual(rcvr.node_index, 7) self.assertRaises(HTTPException, ssync_receiver.Receiver, self.controller, req)",197,86
openstack%2Fpaunch~master~Ib11b08b5d0dec03db9740520f05fe8f1ff962192,openstack/paunch,master,Ib11b08b5d0dec03db9740520f05fe8f1ff962192,Increase and randomize healthcheck interval to avoid cpu congestion.,MERGED,2019-02-06 11:07:09.000000000,2019-02-06 19:40:28.000000000,2019-02-06 19:40:28.000000000,"[{'_account_id': 3153}, {'_account_id': 8042}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-02-06 11:07:09.000000000', 'files': ['paunch/utils/systemd.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/074930f2a231ea3d9c49178a4acfa77a52bb7e42', 'message': 'Increase and randomize healthcheck interval to avoid cpu congestion.\n\nAll the healthcheck timers are triggered at the same time which causes\ncpu congestion.  With the default interval of 30s this cause\nunnecessary stress on the environment.\n\nWe increase the default interval and randomize the trigger to 3/4 of\nthe timer. Tasks, on average and by default, should thus still be\ntriggered every minute, but ranging from 15s to 1m45s.\n\nChange-Id: Ib11b08b5d0dec03db9740520f05fe8f1ff962192\nCloses-Bug: #1814870\n'}]",0,635129,074930f2a231ea3d9c49178a4acfa77a52bb7e42,10,10,1,8297,,,0,"Increase and randomize healthcheck interval to avoid cpu congestion.

All the healthcheck timers are triggered at the same time which causes
cpu congestion.  With the default interval of 30s this cause
unnecessary stress on the environment.

We increase the default interval and randomize the trigger to 3/4 of
the timer. Tasks, on average and by default, should thus still be
triggered every minute, but ranging from 15s to 1m45s.

Change-Id: Ib11b08b5d0dec03db9740520f05fe8f1ff962192
Closes-Bug: #1814870
",git fetch https://review.opendev.org/openstack/paunch refs/changes/29/635129/1 && git format-patch -1 --stdout FETCH_HEAD,['paunch/utils/systemd.py'],1,074930f2a231ea3d9c49178a4acfa77a52bb7e42,bug/1814870," interval = cconfig.get('check_interval', 60) 'interval': interval, 'randomize': int(interval) * 3 / 4RandomizedDelaySec=%(randomize)s"," interval = cconfig.get('check_interval', 30) 'interval': interval",4,2
openstack%2Ftripleo-common~master~Iec8651b005a01f8bfaf2a984c1b4629618a9fe10,openstack/tripleo-common,master,Iec8651b005a01f8bfaf2a984c1b4629618a9fe10,fix tox python3 overrides,MERGED,2018-10-05 11:28:55.000000000,2019-02-06 19:40:26.000000000,2019-02-06 19:40:26.000000000,"[{'_account_id': 7144}, {'_account_id': 10239}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26297}, {'_account_id': 27427}, {'_account_id': 27781}, {'_account_id': 28543}]","[{'number': 1, 'created': '2018-10-05 11:28:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f2bc8cac047c971aabd851d4fb344aed3f197e56', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: Iec8651b005a01f8bfaf2a984c1b4629618a9fe10\n'}, {'number': 2, 'created': '2018-11-06 02:28:33.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0f5247a247bd7bbf6073dd8119a68d66387e18f2', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: Iec8651b005a01f8bfaf2a984c1b4629618a9fe10\nCloses-Bug:  #1801657\n'}]",0,608237,0f5247a247bd7bbf6073dd8119a68d66387e18f2,17,9,2,28935,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Iec8651b005a01f8bfaf2a984c1b4629618a9fe10
Closes-Bug:  #1801657
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/37/608237/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f2bc8cac047c971aabd851d4fb344aed3f197e56,bug/1801657,basepython = python3,,1,0
openstack%2Fpython-tripleoclient~master~I21351251ba2bfc35ec7473ce36d8d40593ee41ef,openstack/python-tripleoclient,master,I21351251ba2bfc35ec7473ce36d8d40593ee41ef,Change openstack-dev to openstack-discuss,MERGED,2018-12-05 03:29:04.000000000,2019-02-06 19:40:25.000000000,2019-02-06 19:40:25.000000000,"[{'_account_id': 7144}, {'_account_id': 10239}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-12-05 03:29:04.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/150c8c3ddc523d0f78d8e7b8fffa564cead679d5', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: I21351251ba2bfc35ec7473ce36d8d40593ee41ef\n'}]",0,622755,150c8c3ddc523d0f78d8e7b8fffa564cead679d5,9,5,1,27781,,,0,"Change openstack-dev to openstack-discuss

Change-Id: I21351251ba2bfc35ec7473ce36d8d40593ee41ef
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/55/622755/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,150c8c3ddc523d0f78d8e7b8fffa564cead679d5,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Ftripleo-heat-templates~master~Ic665dd273aab37dbd689c0a51cb0c3e4f0bc1e56,openstack/tripleo-heat-templates,master,Ic665dd273aab37dbd689c0a51cb0c3e4f0bc1e56,Fix files conditions for scenario 007 and 008,MERGED,2018-09-12 22:58:15.000000000,2019-02-06 19:40:23.000000000,2019-02-06 19:40:23.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10873}, {'_account_id': 20866}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-12 22:58:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6fac263861c62552cced6a74ce7def7acd9c2ee6', 'message': '[DNM] trigger test\n\nChange-Id: Ic665dd273aab37dbd689c0a51cb0c3e4f0bc1e56\n'}, {'number': 2, 'created': '2018-09-12 23:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2b3a8c72da5f6067d3e5898a154ea9fefd2bbfc9', 'message': '[DNM] trigger test\n\nChange-Id: Ic665dd273aab37dbd689c0a51cb0c3e4f0bc1e56\n'}, {'number': 3, 'created': '2018-09-12 23:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0328957b3314d054938ddfa1318be71ba63cfe69', 'message': '[DNM] trigger test\n\nChange-Id: Ic665dd273aab37dbd689c0a51cb0c3e4f0bc1e56\n'}, {'number': 4, 'created': '2018-09-12 23:03:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/468152b320e333b6050d2124bd85b2735411142b', 'message': '[DNM] trigger test\n\nChange-Id: Ic665dd273aab37dbd689c0a51cb0c3e4f0bc1e56\n'}, {'number': 5, 'created': '2018-09-12 23:04:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/25fa8ec5f3d76b1fc044138b6390448c9aec6e07', 'message': '[DNM] trigger test\n\nChange-Id: Ic665dd273aab37dbd689c0a51cb0c3e4f0bc1e56\n'}, {'number': 6, 'created': '2018-09-12 23:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/10fbf4ffc05815613d7283d5d3f05e63a8bb4575', 'message': 'Fix files conditions for scenario 007 and 008\n\nAn incorrectly indented regexp was causing jobs not to be triggered\ncorrectly.\nfixing indentation make the jobs trigger correctly\n\nChange-Id: Ic665dd273aab37dbd689c0a51cb0c3e4f0bc1e56\n'}, {'number': 7, 'created': '2018-09-19 10:04:24.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/54b78df00331d0920f6c4ac2c6c46caa539a1fb3', 'message': 'Fix files conditions for scenario 007 and 008\n\nAn incorrectly indented regexp was causing jobs not to be triggered\ncorrectly.\nfixing indentation make the jobs trigger correctly\n\nChange-Id: Ic665dd273aab37dbd689c0a51cb0c3e4f0bc1e56\n'}]",0,602196,54b78df00331d0920f6c4ac2c6c46caa539a1fb3,23,9,7,10022,,,0,"Fix files conditions for scenario 007 and 008

An incorrectly indented regexp was causing jobs not to be triggered
correctly.
fixing indentation make the jobs trigger correctly

Change-Id: Ic665dd273aab37dbd689c0a51cb0c3e4f0bc1e56
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/96/602196/5 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/opendaylight'],1,6fac263861c62552cced6a74ce7def7acd9c2ee6,job-indentation,,,0,0
openstack%2Fpuppet-keystone~master~Ic4b17a2c750c3162cc609a9469d7422c2084b977,openstack/puppet-keystone,master,Ic4b17a2c750c3162cc609a9469d7422c2084b977,Keystone_user should not use disabled projects,MERGED,2019-02-06 14:11:08.000000000,2019-02-06 19:38:47.000000000,2019-02-06 19:13:43.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-06 14:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/f38553d67d652c805647fe1d322f3938c5c222f5', 'message': 'Keystone_user should not use disabled projects\n\nWhen testing the password for a keystone_user\nresource we need to ensure the project id that\nis used for testing auth is not disabled causing\nit to fail and puppet things the password should\nbe changed.\n\nChange-Id: Ic4b17a2c750c3162cc609a9469d7422c2084b977\nCloses-Bug: 1814906\n'}, {'number': 2, 'created': '2019-02-06 14:14:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/8138d24f1f8232e4875d43b1d58833a13653677e', 'message': 'Keystone_user should not use disabled projects\n\nWhen testing the password for a keystone_user\nresource we need to ensure the project id that\nis used for testing auth is not disabled causing\nit to fail and puppet things the password should\nbe changed.\n\nChange-Id: Ic4b17a2c750c3162cc609a9469d7422c2084b977\nCloses-Bug: 1814906\n'}, {'number': 3, 'created': '2019-02-06 14:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/03db1650e80b50dc7bf49b47487231ff07429ffc', 'message': 'Keystone_user should not use disabled projects\n\nWhen testing the password for a keystone_user\nresource we need to ensure the project id that\nis used for testing auth is not disabled causing\nit to fail and puppet things the password should\nbe changed.\n\nChange-Id: Ic4b17a2c750c3162cc609a9469d7422c2084b977\nCloses-Bug: 1814906\n'}, {'number': 4, 'created': '2019-02-06 14:23:22.000000000', 'files': ['spec/unit/provider/keystone_user/openstack_spec.rb', 'releasenotes/notes/keystone_user-bug-1814906-06781a797cd2e051.yaml', 'lib/puppet/provider/keystone_user/openstack.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/c2456fcaa849d16273f6d00cf8cf07d02b949272', 'message': 'Keystone_user should not use disabled projects\n\nWhen testing the password for a keystone_user\nresource we need to ensure the project id that\nis used for testing auth is not disabled causing\nit to fail and puppet things the password should\nbe changed.\n\nChange-Id: Ic4b17a2c750c3162cc609a9469d7422c2084b977\nCloses-Bug: 1814906\n'}]",0,635162,c2456fcaa849d16273f6d00cf8cf07d02b949272,12,4,4,16137,,,0,"Keystone_user should not use disabled projects

When testing the password for a keystone_user
resource we need to ensure the project id that
is used for testing auth is not disabled causing
it to fail and puppet things the password should
be changed.

Change-Id: Ic4b17a2c750c3162cc609a9469d7422c2084b977
Closes-Bug: 1814906
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/62/635162/4 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/provider/keystone_user/openstack_spec.rb', 'lib/puppet/provider/keystone_user/openstack.rb']",2,f38553d67d652c805647fe1d322f3938c5c222f5,bug/1814906," # all of the projects for the user, and use the id for the first one # that is enabled then fallback to domain id only. first_project=nil if projects first_project = projects.detect { |p| p && p[:id] && p[:enabled] == 'True' } end if not first_project.nil? credentials.project_id = first_project[:id]"," # all of the projects for the user, and use the id from the first one. if projects && projects[0] && projects[0][:id] credentials.project_id = projects[0][:id]",38,3
openstack%2Fswift~master~Iab1e07706193ddc86832fd2cff0d7c2cb6d79ad9,openstack/swift,master,Iab1e07706193ddc86832fd2cff0d7c2cb6d79ad9,Fix socket leak on object-server death,MERGED,2018-06-13 22:12:25.000000000,2019-02-06 19:28:34.000000000,2019-02-06 19:28:34.000000000,"[{'_account_id': 1179}, {'_account_id': 2622}, {'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-13 22:12:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/148a7058c1d45fedbe49ef1aac966c5971b801f0', 'message': ""Fix socket leak on object-server death\n\nConsider a client that's downloading a large replicated object of size\nN bytes. If the object server process dies (e.g. with a segfault)\npartway through the download, the proxy will have read fewer than N\nbytes, and then read(sockfd) will start returning 0 bytes. At this\npoint, the proxy believes the object download is complete, and so the\nWSGI server waits for a new request to come in. Meanwhile, the client\nis waiting for the rest of their bytes. Until the client times out,\nthat socket will be held open.\n\nThe fix is to look at the Content-Length and Content-Range headers in\nthe response from the object server, then count the bytes received and\nmake sure they match, raising an exception if they don't. The\nexception informs eventlet.wsgi to close the connection instead of\nre-using it.\n\nChange-Id: Iab1e07706193ddc86832fd2cff0d7c2cb6d79ad9\nCloses-Bug: 1568650\n""}, {'number': 2, 'created': '2018-06-15 18:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/18ad414b87670594475ad62a7309b25c0c59d03d', 'message': ""Fix socket leak on object-server death\n\nConsider a client that's downloading a large replicated object of size\nN bytes. If the object server process dies (e.g. with a segfault)\npartway through the download, the proxy will have read fewer than N\nbytes, and then read(sockfd) will start returning 0 bytes. At this\npoint, the proxy believes the object download is complete, and so the\nWSGI server waits for a new request to come in. Meanwhile, the client\nis waiting for the rest of their bytes. Until the client times out,\nthat socket will be held open.\n\nThe fix is to look at the Content-Length and Content-Range headers in\nthe response from the object server, then retry with another object\nserver in case the original GET is truncated. This way, the client\ngets all the bytes they should.\n\nChange-Id: Iab1e07706193ddc86832fd2cff0d7c2cb6d79ad9\nCloses-Bug: 1568650\n""}, {'number': 3, 'created': '2019-01-22 21:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c8e64aa2761f801ca53e0f45ec565c9d177cfff7', 'message': ""Fix socket leak on object-server death\n\nConsider a client that's downloading a large replicated object of size\nN bytes. If the object server process dies (e.g. with a segfault)\npartway through the download, the proxy will have read fewer than N\nbytes, and then read(sockfd) will start returning 0 bytes. At this\npoint, the proxy believes the object download is complete, and so the\nWSGI server waits for a new request to come in. Meanwhile, the client\nis waiting for the rest of their bytes. Until the client times out,\nthat socket will be held open.\n\nThe fix is to look at the Content-Length and Content-Range headers in\nthe response from the object server, then retry with another object\nserver in case the original GET is truncated. This way, the client\ngets all the bytes they should.\n\nChange-Id: Iab1e07706193ddc86832fd2cff0d7c2cb6d79ad9\nCloses-Bug: 1568650\n""}, {'number': 4, 'created': '2019-01-23 19:53:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f98990d9cf1af1383a091c9d8ee788f1b11ccb6b', 'message': ""Fix socket leak on object-server death\n\nConsider a client that's downloading a large replicated object of size\nN bytes. If the object server process dies (e.g. with a segfault)\npartway through the download, the proxy will have read fewer than N\nbytes, and then read(sockfd) will start returning 0 bytes. At this\npoint, the proxy believes the object download is complete, and so the\nWSGI server waits for a new request to come in. Meanwhile, the client\nis waiting for the rest of their bytes. Until the client times out,\nthat socket will be held open.\n\nThe fix is to look at the Content-Length and Content-Range headers in\nthe response from the object server, then retry with another object\nserver in case the original GET is truncated. This way, the client\ngets all the bytes they should.\n\nChange-Id: Iab1e07706193ddc86832fd2cff0d7c2cb6d79ad9\nCloses-Bug: 1568650\n""}, {'number': 5, 'created': '2019-01-23 23:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5f4dc2c9bbcf11de32849a840262995ab037150e', 'message': ""Fix socket leak on object-server death\n\nConsider a client that's downloading a large replicated object of size\nN bytes. If the object server process dies (e.g. with a segfault)\npartway through the download, the proxy will have read fewer than N\nbytes, and then read(sockfd) will start returning 0 bytes. At this\npoint, the proxy believes the object download is complete, and so the\nWSGI server waits for a new request to come in. Meanwhile, the client\nis waiting for the rest of their bytes. Until the client times out,\nthat socket will be held open.\n\nThe fix is to look at the Content-Length and Content-Range headers in\nthe response from the object server, then retry with another object\nserver in case the original GET is truncated. This way, the client\ngets all the bytes they should.\n\nChange-Id: Iab1e07706193ddc86832fd2cff0d7c2cb6d79ad9\nCloses-Bug: 1568650\n""}, {'number': 6, 'created': '2019-01-31 19:07:37.000000000', 'files': ['test/unit/proxy/test_mem_server.py', 'test/unit/proxy/test_server.py', 'test/unit/__init__.py', 'swift/common/exceptions.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/0e81ffd1e1481a73146fce17f61f2ab9e01eb684', 'message': ""Fix socket leak on object-server death\n\nConsider a client that's downloading a large replicated object of size\nN bytes. If the object server process dies (e.g. with a segfault)\npartway through the download, the proxy will have read fewer than N\nbytes, and then read(sockfd) will start returning 0 bytes. At this\npoint, the proxy believes the object download is complete, and so the\nWSGI server waits for a new request to come in. Meanwhile, the client\nis waiting for the rest of their bytes. Until the client times out,\nthat socket will be held open.\n\nThe fix is to look at the Content-Length and Content-Range headers in\nthe response from the object server, then retry with another object\nserver in case the original GET is truncated. This way, the client\ngets all the bytes they should.\n\nNote that ResumingGetter already had retry logic for when an\nobject-server is slow to send bytes -- this extends it to also cover\nunexpected disconnects.\n\nChange-Id: Iab1e07706193ddc86832fd2cff0d7c2cb6d79ad9\nRelated-Change: I74d8c13eba2a4917b5a116875b51a781b33a7abf\nCloses-Bug: 1568650\n""}]",10,575254,0e81ffd1e1481a73146fce17f61f2ab9e01eb684,66,5,6,2622,,,0,"Fix socket leak on object-server death

Consider a client that's downloading a large replicated object of size
N bytes. If the object server process dies (e.g. with a segfault)
partway through the download, the proxy will have read fewer than N
bytes, and then read(sockfd) will start returning 0 bytes. At this
point, the proxy believes the object download is complete, and so the
WSGI server waits for a new request to come in. Meanwhile, the client
is waiting for the rest of their bytes. Until the client times out,
that socket will be held open.

The fix is to look at the Content-Length and Content-Range headers in
the response from the object server, then retry with another object
server in case the original GET is truncated. This way, the client
gets all the bytes they should.

Note that ResumingGetter already had retry logic for when an
object-server is slow to send bytes -- this extends it to also cover
unexpected disconnects.

Change-Id: Iab1e07706193ddc86832fd2cff0d7c2cb6d79ad9
Related-Change: I74d8c13eba2a4917b5a116875b51a781b33a7abf
Closes-Bug: 1568650
",git fetch https://review.opendev.org/openstack/swift refs/changes/54/575254/3 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/test_mem_server.py', 'test/unit/proxy/test_server.py', 'test/unit/__init__.py', 'swift/proxy/controllers/base.py']",4,148a7058c1d45fedbe49ef1aac966c5971b801f0,bug/1568650," document_iters_to_http_response_body, ShardRange, close_if_possible ConnectionTimeout, RangeAlreadyComplete, ChunkReadErrordef enforce_byte_count(inner_iter, nbytes): """""" Enforces that inner_iter yields exactly <nbytes> bytes before exhaustion. If inner_iter fails to do so, a ChunkReadError is raised. :param inner_iter: iterable of bytestrings :param nbytes: number of bytes expected, or None if length is unknown. """""" try: bytes_left = nbytes for chunk in inner_iter: if bytes_left is None: yield chunk elif bytes_left >= len(chunk): yield chunk bytes_left -= len(chunk) else: yield chunk[:bytes_left] raise ChunkReadError( ""Too many bytes; truncating after %d bytes "" ""with at least %d surplus bytes remaining"" % ( nbytes, len(chunk) - bytes_left)) if bytes_left: raise ChunkReadError('Expected another %d bytes' % (bytes_left,)) finally: close_if_possible(inner_iter) # note: learn_size_from_content_range() sets # self.skip_bytes # not length; that refers to the whole object, so is the # wrong value to use for GET-range responses byte_count = ((end_byte - start_byte + 1) - self.skip_bytes if (end_byte is not None and start_byte is not None) else None) part_iter = enforce_byte_count( iter_bytes_from_response_part(part), byte_count)"," document_iters_to_http_response_body, ShardRange ConnectionTimeout, RangeAlreadyComplete part_iter = iter_bytes_from_response_part(part)",168,48
openstack%2Fironic-python-agent~master~I3448a5f41eff6736274308f924d9ad8f059e6c44,openstack/ironic-python-agent,master,I3448a5f41eff6736274308f924d9ad8f059e6c44,Build tinyipa with python3,MERGED,2019-01-31 13:47:01.000000000,2019-02-06 19:28:30.000000000,2019-02-06 19:28:30.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-01-31 13:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/730f8f01a639e03f163ac44df9e0859b7ad344c6', 'message': ""Build tinyipa with python3\n\nThis patch uses ``USE_PYTHON3`` variable to build\nIronic Python Agent with python 3 inside a tinycore\nimage.\nIt modifies the content of ``buildreqs.lst`` and\n``finalreqs.lst``, adding specific package files\nbased on the python version used to build IPA.\nSince we're using python 3.6, bytecode optimized\nfiles have .pyc extension and are located under a\n__pycache__ dir [1]; as an optimization option,to\nreduce the size of the final image, all bytecode\ngenerated files will be moved to the original\nsource location and the source code will be\nremoved.\n\n[1] https://www.python.org/dev/peps/pep-0488/\n\nChange-Id: I3448a5f41eff6736274308f924d9ad8f059e6c44\nStory: #2002598\nTask: #22210\n""}, {'number': 2, 'created': '2019-01-31 15:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/e16690ee790d66e56b83fc6536e26066adbb98dd', 'message': ""Build tinyipa with python3\n\nThis patch uses ``USE_PYTHON3`` variable to build\nIronic Python Agent with python 3 inside a tinycore\nimage.\nIt modifies the content of ``buildreqs.lst`` and\n``finalreqs.lst``, adding specific package files\nbased on the python version used to build IPA.\nSince we're using python 3.6, bytecode optimized\nfiles have .pyc extension and are located under a\n__pycache__ dir [1]; as an optimization option,to\nreduce the size of the final image, all bytecode\ngenerated files will be moved to the original\nsource location and the source code will be\nremoved.\n\n[1] https://www.python.org/dev/peps/pep-0488/\n\nChange-Id: I3448a5f41eff6736274308f924d9ad8f059e6c44\nStory: #2002598\nTask: #22210\n""}, {'number': 3, 'created': '2019-02-01 08:45:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/df7605fd73ae50067262de279d13225fb0abeaab', 'message': ""Build tinyipa with python3\n\nThis patch uses ``USE_PYTHON3`` variable to build\nIronic Python Agent with python 3 inside a tinycore\nimage.\nIt modifies the content of ``buildreqs.lst`` and\n``finalreqs.lst``, adding specific package files\nbased on the python version used to build IPA.\nSince we're using python 3.6, bytecode optimized\nfiles have .pyc extension and are located under a\n__pycache__ dir [1]; as an optimization option,to\nreduce the size of the final image, all bytecode\ngenerated files will be moved to the original\nsource location and the source code will be\nremoved.\n\n[1] https://www.python.org/dev/peps/pep-0488/\n\nChange-Id: I3448a5f41eff6736274308f924d9ad8f059e6c44\nStory: #2002598\nTask: #22210\n""}, {'number': 4, 'created': '2019-02-01 09:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ce28e4512fb98db08ae57efd90464a656e186bef', 'message': ""Build tinyipa with python3\n\nThis patch uses ``USE_PYTHON3`` variable to build\nIronic Python Agent with python 3 inside a tinycore\nimage.\nIt modifies the content of ``buildreqs.lst`` and\n``finalreqs.lst``, adding specific package files\nbased on the python version used to build IPA.\nSince we're using python 3.6, bytecode optimized\nfiles have .pyc extension and are located under a\n__pycache__ dir [1]; as an optimization option,to\nreduce the size of the final image, all bytecode\ngenerated files will be moved to the original\nsource location and the source code will be\nremoved.\n\n[1] https://www.python.org/dev/peps/pep-0488/\n\nChange-Id: I3448a5f41eff6736274308f924d9ad8f059e6c44\nStory: #2002598\nTask: #22210\n""}, {'number': 5, 'created': '2019-02-01 09:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d353baad75353dbe5fb6e869f2db546a7d2ea1be', 'message': ""Build tinyipa with python3\n\nThis patch uses ``USE_PYTHON3`` variable to build\nIronic Python Agent with python 3 inside a tinycore\nimage.\nIt modifies the content of ``buildreqs.lst`` and\n``finalreqs.lst``, adding specific package files\nbased on the python version used to build IPA.\nSince we're using python 3.6, bytecode optimized\nfiles have .pyc extension and are located under a\n__pycache__ dir [1]; as an optimization option,to\nreduce the size of the final image, all bytecode\ngenerated files will be moved to the original\nsource location and the source code will be\nremoved.\n\n[1] https://www.python.org/dev/peps/pep-0488/\n\nChange-Id: I3448a5f41eff6736274308f924d9ad8f059e6c44\nStory: #2002598\nTask: #22210\n""}, {'number': 6, 'created': '2019-02-01 11:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d9ccae9e592b3e7ce2308418b1831bf28338914e', 'message': ""Build tinyipa with python3\n\nThis patch uses ``USE_PYTHON3`` variable to build\nIronic Python Agent with python 3 inside a tinycore\nimage.\nIt modifies the content of ``buildreqs.lst`` and\n``finalreqs.lst``, adding specific package files\nbased on the python version used to build IPA.\nSince we're using python 3.6, bytecode optimized\nfiles have .pyc extension and are located under a\n__pycache__ dir [1]; as an optimization option,to\nreduce the size of the final image, all bytecode\ngenerated files will be moved to the original\nsource location and the source code will be\nremoved.\n\n[1] https://www.python.org/dev/peps/pep-0488/\n\nChange-Id: I3448a5f41eff6736274308f924d9ad8f059e6c44\nStory: #2002598\nTask: #22210\n""}, {'number': 7, 'created': '2019-02-01 14:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/5d95a7b3ca6577020d9cb64e7aafe3b8cc2dc196', 'message': ""Build tinyipa with python3\n\nThis patch uses ``USE_PYTHON3`` variable to build\nIronic Python Agent with python 3 inside a tinycore\nimage.\nIt modifies the content of ``buildreqs.lst`` and\n``finalreqs.lst``, adding specific package files\nbased on the python version used to build IPA.\nSince we're using python 3.6, bytecode optimized\nfiles have .pyc extension and are located under a\n__pycache__ dir [1]; as an optimization option,to\nreduce the size of the final image, all bytecode\ngenerated files will be moved to the original\nsource location and the source code will be\nremoved.\n\n[1] https://www.python.org/dev/peps/pep-0488/\n\nChange-Id: I3448a5f41eff6736274308f924d9ad8f059e6c44\nStory: #2002598\nTask: #22210\n""}, {'number': 8, 'created': '2019-02-01 16:54:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/8a7729c66ae424bffe5855f6ddbb59856a2ae6d7', 'message': ""Build tinyipa with python3\n\nThis patch uses ``USE_PYTHON3`` variable to build\nIronic Python Agent with python 3 inside a tinycore\nimage.\nIt modifies the content of ``buildreqs.lst`` and\n``finalreqs.lst``, adding specific package files\nbased on the python version used to build IPA.\nSince we're using python 3.6, bytecode optimized\nfiles have .pyc extension and are located under a\n__pycache__ dir [1]; as an optimization option,to\nreduce the size of the final image, all bytecode\ngenerated files will be moved to the original\nsource location and the source code will be\nremoved.\n\n[1] https://www.python.org/dev/peps/pep-0488/\n\nChange-Id: I3448a5f41eff6736274308f924d9ad8f059e6c44\nStory: #2002598\nTask: #22210\n""}, {'number': 9, 'created': '2019-02-04 09:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d8c3fe811f653225346146e40401d05d0d0cdda6', 'message': ""Build tinyipa with python3\n\nThis patch uses ``USE_PYTHON3`` variable to build\nIronic Python Agent with python 3 inside a tinycore\nimage.\nIt modifies the content of ``buildreqs.lst`` and\n``finalreqs.lst``, adding specific package files\nbased on the python version used to build IPA.\nSince we're using python 3.6, bytecode optimized\nfiles have .pyc extension and are located under a\n__pycache__ dir [1]; as an optimization option,to\nreduce the size of the final image, all bytecode\ngenerated files will be moved to the original\nsource location and the source code will be\nremoved.\n\n[1] https://www.python.org/dev/peps/pep-0488/\n\nChange-Id: I3448a5f41eff6736274308f924d9ad8f059e6c44\nStory: #2002598\nTask: #22210\nDepends-on: https://review.openstack.org/#/c/634646/\n""}, {'number': 10, 'created': '2019-02-04 09:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/edd19b3a4a5d48dc16ed3dee4f1c09b94f21eb7b', 'message': ""Build tinyipa with python3\n\nThis patch uses ``USE_PYTHON3`` variable to build\nIronic Python Agent with python 3 inside a tinycore\nimage.\nIt modifies the content of ``buildreqs.lst`` and\n``finalreqs.lst``, adding specific package files\nbased on the python version used to build IPA.\nSince we're using python 3.6, bytecode optimized\nfiles have .pyc extension and are located under a\n__pycache__ dir [1]; as an optimization option,to\nreduce the size of the final image, all bytecode\ngenerated files will be moved to the original\nsource location and the source code will be\nremoved.\n\n[1] https://www.python.org/dev/peps/pep-0488/\n\nChange-Id: I3448a5f41eff6736274308f924d9ad8f059e6c44\nStory: #2002598\nTask: #22210\nDepends-On: https://review.openstack.org/#/c/634646/\n""}, {'number': 11, 'created': '2019-02-04 09:06:44.000000000', 'files': ['imagebuild/tinyipa/build_files/bootlocal.sh', 'zuul.d/ironic-jobs.yaml', 'imagebuild/tinyipa/build_files/finalreqs.lst', 'imagebuild/tinyipa/build_files/finalreqs_python2.lst', 'imagebuild/tinyipa/build_files/buildreqs_python3.lst', 'releasenotes/notes/build-tinyipa-with-python3-d4a64aa18f970968.yaml', 'imagebuild/tinyipa/build_files/buildreqs_python2.lst', 'imagebuild/tinyipa/build-tinyipa.sh', 'imagebuild/tinyipa/build_files/finalreqs_python3.lst', 'imagebuild/tinyipa/finalise-tinyipa.sh', 'imagebuild/tinyipa/build_files/buildreqs.lst'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ec4a2611e771a3977ca870d9aae4f79982587b5f', 'message': ""Build tinyipa with python3\n\nThis patch uses ``USE_PYTHON3`` variable to build\nIronic Python Agent with python 3 inside a tinycore\nimage.\nIt modifies the content of ``buildreqs.lst`` and\n``finalreqs.lst``, adding specific package files\nbased on the python version used to build IPA.\nSince we're using python 3.6, bytecode optimized\nfiles have .pyc extension and are located under a\n__pycache__ dir [1]; as an optimization option,to\nreduce the size of the final image, all bytecode\ngenerated files will be moved to the original\nsource location and the source code will be\nremoved.\n\n[1] https://www.python.org/dev/peps/pep-0488/\n\nChange-Id: I3448a5f41eff6736274308f924d9ad8f059e6c44\nStory: #2002598\nTask: #22210\nDepends-On: https://review.openstack.org/634646\n""}]",9,634232,ec4a2611e771a3977ca870d9aae4f79982587b5f,26,4,11,23851,,,0,"Build tinyipa with python3

This patch uses ``USE_PYTHON3`` variable to build
Ironic Python Agent with python 3 inside a tinycore
image.
It modifies the content of ``buildreqs.lst`` and
``finalreqs.lst``, adding specific package files
based on the python version used to build IPA.
Since we're using python 3.6, bytecode optimized
files have .pyc extension and are located under a
__pycache__ dir [1]; as an optimization option,to
reduce the size of the final image, all bytecode
generated files will be moved to the original
source location and the source code will be
removed.

[1] https://www.python.org/dev/peps/pep-0488/

Change-Id: I3448a5f41eff6736274308f924d9ad8f059e6c44
Story: #2002598
Task: #22210
Depends-On: https://review.openstack.org/634646
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/32/634232/1 && git format-patch -1 --stdout FETCH_HEAD,"['imagebuild/tinyipa/build_files/bootlocal.sh', 'imagebuild/tinyipa/build_files/finalreqs.lst', 'imagebuild/tinyipa/build_files/finalreqs_python2.lst', 'imagebuild/tinyipa/build_files/buildreqs_python3.lst', 'releasenotes/notes/build-tinyipa-with-python3-d4a64aa18f970968.yaml', 'imagebuild/tinyipa/build_files/buildreqs_python2.lst', 'imagebuild/tinyipa/build-tinyipa.sh', 'imagebuild/tinyipa/build_files/finalreqs_python3.lst', 'imagebuild/tinyipa/finalise-tinyipa.sh', 'imagebuild/tinyipa/build_files/buildreqs.lst']",10,730f8f01a639e03f163ac44df9e0859b7ad344c6,tinyipa_python3,,python-dev.tcz python.tcz,69,15
openstack%2Fironic-inspector~master~I35be1034697a7d69ed30af9542d9711fb2f65bd0,openstack/ironic-inspector,master,I35be1034697a7d69ed30af9542d9711fb2f65bd0,Support latest as the microversion value,MERGED,2018-09-14 09:32:50.000000000,2019-02-06 19:28:27.000000000,2019-02-06 19:28:27.000000000,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2018-09-14 09:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/0cf5dc1f9fc4239a2a57fd25645862739e75dce1', 'message': 'Support latest as microversion\n\nAdds support to use latest as the microversion value. When set to\nlatest, the maximum version is assumed by ironic.\n\nStory: 1672400\nTask: 11363\n\nChange-Id: I35be1034697a7d69ed30af9542d9711fb2f65bd0\n'}, {'number': 2, 'created': '2018-09-14 09:34:10.000000000', 'files': ['ironic_inspector/main.py', 'releasenotes/notes/support-microversion-latest-dcf9598c5218e979.yaml', 'ironic_inspector/test/unit/test_main.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/04ee0bc031d4396baa24f068ee8f493bd18de979', 'message': 'Support latest as the microversion value\n\nAdds support to use latest as the microversion value. When set to\nlatest, the maximum version is assumed by ironic-inspector.\n\nStory: 1672400\nTask: 11363\n\nChange-Id: I35be1034697a7d69ed30af9542d9711fb2f65bd0\n'}]",0,602581,04ee0bc031d4396baa24f068ee8f493bd18de979,11,5,2,24828,,,0,"Support latest as the microversion value

Adds support to use latest as the microversion value. When set to
latest, the maximum version is assumed by ironic-inspector.

Story: 1672400
Task: 11363

Change-Id: I35be1034697a7d69ed30af9542d9711fb2f65bd0
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/81/602581/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/main.py', 'releasenotes/notes/support-microversion-latest-dcf9598c5218e979.yaml', 'ironic_inspector/test/unit/test_main.py']",3,0cf5dc1f9fc4239a2a57fd25645862739e75dce1,story/1672400," def test_request_latest_version(self): headers = {conf_opts.VERSION_HEADER: 'latest'} res = self.app.get('/', headers=headers) self.assertEqual(200, res.status_code) self._check_version_present(res) ",,16,2
openstack%2Ftripleo-quickstart-extras~master~I37810761c300430b4c4cd56940f84a7283d72cab,openstack/tripleo-quickstart-extras,master,I37810761c300430b4c4cd56940f84a7283d72cab,Use include_role for upgrade role,ABANDONED,2019-02-05 08:36:03.000000000,2019-02-06 19:22:59.000000000,,"[{'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-02-05 08:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1cfb5335ad90350aa684ed01beca108f54b85234', 'message': ""Use include_role for upgrade role\n\nLooks like ansible is trying expand stuff that we are not executing,\nlike upgrade role at non upgrade context, let's use include_role it only\nexpands at runtime, so it should not expand if conditions are not meet.\n\nChange-Id: I37810761c300430b4c4cd56940f84a7283d72cab\nCloses-Bug: #1814531\n""}, {'number': 2, 'created': '2019-02-05 09:59:18.000000000', 'files': ['playbooks/multinode-overcloud-upgrade.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e6f23af9c10363c37767aaad50f8adb6d15b816c', 'message': ""Use include_role for upgrade role\n\nLooks like ansible is trying expand stuff that we are not executing,\nlike upgrade role at non upgrade context, let's use include_role it only\nexpands at runtime, so it should not expand if conditions are not meet.\n\nChange-Id: I37810761c300430b4c4cd56940f84a7283d72cab\nCloses-Bug: #1814531\n""}]",0,634883,e6f23af9c10363c37767aaad50f8adb6d15b816c,8,4,2,27898,,,0,"Use include_role for upgrade role

Looks like ansible is trying expand stuff that we are not executing,
like upgrade role at non upgrade context, let's use include_role it only
expands at runtime, so it should not expand if conditions are not meet.

Change-Id: I37810761c300430b4c4cd56940f84a7283d72cab
Closes-Bug: #1814531
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/83/634883/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/multinode-overcloud-upgrade.yml'],1,1cfb5335ad90350aa684ed01beca108f54b85234,bug/1814531," tasks: - name: Include TripleO upgrade role include_role: name: tripleo-upgrade vars: upgrade_init_command: ""{{ (repo_setup_script|exists) | ternary(lookup('file', repo_setup_script), false) }}"""," roles: - role: tripleo-upgrade upgrade_init_command: ""{{ (repo_setup_script|exists) | ternary(lookup('file', repo_setup_script), false) }}""",6,3
openstack%2Ftripleo-ci~master~I2aff01f371d41b48b0f364ed91adf691a74bfc68,openstack/tripleo-ci,master,I2aff01f371d41b48b0f364ed91adf691a74bfc68,Use override-checkout for stable branch jobs,MERGED,2019-02-05 11:28:40.000000000,2019-02-06 18:37:52.000000000,2019-02-06 18:37:52.000000000,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9196}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 26343}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-02-05 11:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6cc3216fc12c67ab3431875ad0576bfc5a6cd91d', 'message': 'Use override-checkout for stable branch jobs\n\nNow that we have tripleo-upgrade as a required-project here [1] we where\nusing always branch cloned by zuul which is master for tq and friends.\nInstead of that we can use zuul override-checkout that checkouts a\nspecified branch of the cloned projects.\n\nChange-Id: I2aff01f371d41b48b0f364ed91adf691a74bfc68\n'}, {'number': 2, 'created': '2019-02-05 14:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/58f34122ee4baae0502e4a5bfa8a86f277c282de', 'message': 'Use override-checkout for stable branch jobs\n\nNow that we have tripleo-upgrade as a required-project here [1] we where\nusing always branch cloned by zuul which is master for tq and friends.\nInstead of that we can use zuul override-checkout that checkouts a\nspecified branch of the cloned projects.\n\nDepends-On: https://review.openstack.org/#/c/634724\n\nChange-Id: I2aff01f371d41b48b0f364ed91adf691a74bfc68\n'}, {'number': 3, 'created': '2019-02-06 08:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f8979bf3d148b1ff80ed72356852df0fb05d6158', 'message': 'Use override-checkout for stable branch jobs\n\nNow that we have tripleo-upgrade as a required-project here [1] we where\nusing always branch cloned by zuul which is master for tq and friends.\n\nInstead of that we can use zuul override-checkout [2] that checkouts a\nspecified branch of the cloned projects.\n\n[1] https://github.com/openstack-infra/tripleo-ci/blob/master/zuul.d/base.yaml#L26-L37a\n[2] https://www.zuul-ci.org/docs/zuul/user/config.html?highlight=override%20checkout\n\nDepends-On: https://review.openstack.org/#/c/634724\n\nRelated-Bug: #1814531\n\nChange-Id: I2aff01f371d41b48b0f364ed91adf691a74bfc68\n'}, {'number': 4, 'created': '2019-02-06 09:00:56.000000000', 'files': ['zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/47f0a2ec2578a03a35c33e94ffdfe95708fa1da8', 'message': 'Use override-checkout for stable branch jobs\n\nNow that we have tripleo-upgrade as a required-project [1] it is\nalways cloned by zuul, so toci old mechanism [2] to detect what to clone\nis obsolete.\n\nInstead of that we can use zuul override-checkout [3] that checkouts a\nspecified branch of the cloned projects, which is exactly the case of\nbranchful jobs (-rocky, -queens, -pike, etc...)\n\nNOTE: We have also to fix this at RDO branchful jobs.\n\n[1] https://github.com/openstack-infra/tripleo-ci/blob/master/zuul.d/base.yaml#L26-L37a\n[2] https://github.com/openstack-infra/tripleo-ci/blob/master/roles/run-test/templates/toci_gate_test.sh.j2#L155-L161\n[3] https://www.zuul-ci.org/docs/zuul/user/config.html?highlight=override%20checkout\n\nDepends-On: https://review.openstack.org/#/c/634724\n\nRelated-Bug: #1814531\n\nChange-Id: I2aff01f371d41b48b0f364ed91adf691a74bfc68\n'}]",10,634917,47f0a2ec2578a03a35c33e94ffdfe95708fa1da8,22,13,4,27898,,,0,"Use override-checkout for stable branch jobs

Now that we have tripleo-upgrade as a required-project [1] it is
always cloned by zuul, so toci old mechanism [2] to detect what to clone
is obsolete.

Instead of that we can use zuul override-checkout [3] that checkouts a
specified branch of the cloned projects, which is exactly the case of
branchful jobs (-rocky, -queens, -pike, etc...)

NOTE: We have also to fix this at RDO branchful jobs.

[1] https://github.com/openstack-infra/tripleo-ci/blob/master/zuul.d/base.yaml#L26-L37a
[2] https://github.com/openstack-infra/tripleo-ci/blob/master/roles/run-test/templates/toci_gate_test.sh.j2#L155-L161
[3] https://www.zuul-ci.org/docs/zuul/user/config.html?highlight=override%20checkout

Depends-On: https://review.openstack.org/#/c/634724

Related-Bug: #1814531

Change-Id: I2aff01f371d41b48b0f364ed91adf691a74bfc68
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/17/634917/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,6cc3216fc12c67ab3431875ad0576bfc5a6cd91d,634917, override-checkout: 'stable/rocky' override-checkout: 'stable/queens' override-checkout: 'stable/pike',,3,0
openstack%2Fgovernance~master~I9195626ea987606400f2e68bfe43ab917b4191dd,openstack/governance,master,I9195626ea987606400f2e68bfe43ab917b4191dd,Add Ansible roles for managing HSM software,MERGED,2019-01-16 20:03:46.000000000,2019-02-06 18:16:41.000000000,2019-02-06 18:16:41.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 11564}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-16 20:03:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/953395f6cca1875328a0556db2961b7e330ea497', 'message': 'Add Ansible roles for managing HSM software\n\nThis patch adds two Ansible roles used to manage client software for\nHardware Security Modules (HSMs).\n\nChange-Id: I9195626ea987606400f2e68bfe43ab917b4191dd\n'}, {'number': 2, 'created': '2019-01-16 20:08:24.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/ee2f98d31dd4a08e6ae7b0c7ecad297b6a51c1c4', 'message': 'Add Ansible roles for managing HSM software\n\nThis patch adds two Ansible roles used to manage client software for\nHardware Security Modules (HSMs).  These roles are used in TripleO\nto install HSM client software on controller nodes to enable the\nPKCS#11 backend for Barbican.\n\nChange-Id: I9195626ea987606400f2e68bfe43ab917b4191dd\nDepends-On: Ifd7a46da84fb81eeff7ce2e935cc39007dddbf76\n'}]",0,631324,ee2f98d31dd4a08e6ae7b0c7ecad297b6a51c1c4,25,11,2,7973,,,0,"Add Ansible roles for managing HSM software

This patch adds two Ansible roles used to manage client software for
Hardware Security Modules (HSMs).  These roles are used in TripleO
to install HSM client software on controller nodes to enable the
PKCS#11 backend for Barbican.

Change-Id: I9195626ea987606400f2e68bfe43ab917b4191dd
Depends-On: Ifd7a46da84fb81eeff7ce2e935cc39007dddbf76
",git fetch https://review.opendev.org/openstack/governance refs/changes/24/631324/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,953395f6cca1875328a0556db2961b7e330ea497,project-update, - openstack/ansible-role-atos-hsm - openstack/ansible-role-thales-hsm,,2,0
openstack%2Fpuppet-ironic~master~I230585a73f0c50ac1a3a14d678071e6088634f1b,openstack/puppet-ironic,master,I230585a73f0c50ac1a3a14d678071e6088634f1b,Expose the versioned_notifications_topics param,MERGED,2019-02-01 15:28:18.000000000,2019-02-06 18:04:21.000000000,2019-02-06 18:04:21.000000000,"[{'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-01 15:28:18.000000000', 'files': ['spec/classes/ironic_init_spec.rb', 'releasenotes/notes/add-versioned-notifications-topics-d3dc07b1338edd6a.yaml', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/b7d5ee6c784db7e4a5b203564a29c1bfa022cb6c', 'message': 'Expose the versioned_notifications_topics param\n\nAfter merging https://review.openstack.org/#/c/629818\nversioned_notifications_topics are unconfigurable. This\npatch exposes this parameter to allow its customization.\n\nChange-Id: I230585a73f0c50ac1a3a14d678071e6088634f1b\n'}]",0,634433,b7d5ee6c784db7e4a5b203564a29c1bfa022cb6c,8,4,1,27060,,,0,"Expose the versioned_notifications_topics param

After merging https://review.openstack.org/#/c/629818
versioned_notifications_topics are unconfigurable. This
patch exposes this parameter to allow its customization.

Change-Id: I230585a73f0c50ac1a3a14d678071e6088634f1b
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/33/634433/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ironic_init_spec.rb', 'releasenotes/notes/add-versioned-notifications-topics-d3dc07b1338edd6a.yaml', 'manifests/init.pp']",3,b7d5ee6c784db7e4a5b203564a29c1bfa022cb6c,add_versioned_notifications_topic,"# [*versioned_notifications_topics*] # (optional) Topics for the versioned notifications issued by Ironic # Defaults to $::os_service_default # $versioned_notifications_topics = $::os_service_default, 'DEFAULT/auth_strategy': value => $auth_strategy; 'DEFAULT/my_ip': value => $my_ip; 'DEFAULT/default_resource_class': value => $default_resource_class; 'DEFAULT/notification_level': value => $notification_level; 'DEFAULT/versioned_notifications_topics': value => $versioned_notifications_topics;", 'DEFAULT/auth_strategy': value => $auth_strategy; 'DEFAULT/my_ip': value => $my_ip; 'DEFAULT/default_resource_class': value => $default_resource_class; 'DEFAULT/notification_level': value => $notification_level;,15,4
openstack%2Fgovernance~master~I93cda21542b858f38702ad0efcc57f245e5eef01,openstack/governance,master,I93cda21542b858f38702ad0efcc57f245e5eef01,Adding - in OpenStack-Ansible,ABANDONED,2018-12-13 15:41:33.000000000,2019-02-06 18:02:59.000000000,,"[{'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 10278}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-13 15:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/ae17c93f0102aab5e311535136536a6d2589c53a', 'message': 'Adding - in OpenStack-Ansible\n* Trying to provide consistency w/ Docs\n* Stick with preferred naming convention\n\nChange-Id: I93cda21542b858f38702ad0efcc57f245e5eef01\nSigned-off-by: Jimmy McArthur <jimmy@tipit.net>\n'}, {'number': 2, 'created': '2018-12-13 21:00:20.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/19662b06b64e86c6174e1252d3bee680676908df', 'message': 'Adding - in OpenStack-Ansible\n\n* Trying to provide consistency w/ Docs\n* Stick with preferred naming convention\n\nChange-Id: I93cda21542b858f38702ad0efcc57f245e5eef01\nSigned-off-by: Jimmy McArthur <jimmy@tipit.net>\n'}]",2,625032,19662b06b64e86c6174e1252d3bee680676908df,17,5,2,10278,,,0,"Adding - in OpenStack-Ansible

* Trying to provide consistency w/ Docs
* Stick with preferred naming convention

Change-Id: I93cda21542b858f38702ad0efcc57f245e5eef01
Signed-off-by: Jimmy McArthur <jimmy@tipit.net>
",git fetch https://review.opendev.org/openstack/governance refs/changes/32/625032/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,ae17c93f0102aab5e311535136536a6d2589c53a,project-update,OpenStack-Ansible:,OpenStackAnsible:,1,1
openstack%2Fpython-octaviaclient~master~I0a4ad25870e9d4c37c8847a9a5d1c5f118a85d7e,openstack/python-octaviaclient,master,I0a4ad25870e9d4c37c8847a9a5d1c5f118a85d7e,Make the documentation reproducible,MERGED,2019-02-06 15:42:28.000000000,2019-02-06 17:48:57.000000000,2019-02-06 17:48:57.000000000,"[{'_account_id': 5263}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-06 15:42:28.000000000', 'files': ['octaviaclient/osc/v2/amphora.py'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/dfb5fadc50a163770c04fcffbd0c2f3e38ef360e', 'message': 'Make the documentation reproducible\n\nWhilst working on the Reproducible Builds effort [0], we noticed\nthat python-octaviaclient could not be built reproducibly.\n\nThis is because it iterates over a set in a nondeterminstic manner\nwhen generating its own documentation.\n\n [0] https://reproducible-builds.org/\n\nChange-Id: I0a4ad25870e9d4c37c8847a9a5d1c5f118a85d7e\n'}]",0,635194,dfb5fadc50a163770c04fcffbd0c2f3e38ef360e,11,4,1,1446,,,0,"Make the documentation reproducible

Whilst working on the Reproducible Builds effort [0], we noticed
that python-octaviaclient could not be built reproducibly.

This is because it iterates over a set in a nondeterminstic manner
when generating its own documentation.

 [0] https://reproducible-builds.org/

Change-Id: I0a4ad25870e9d4c37c8847a9a5d1c5f118a85d7e
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/94/635194/1 && git format-patch -1 --stdout FETCH_HEAD,['octaviaclient/osc/v2/amphora.py'],1,dfb5fadc50a163770c04fcffbd0c2f3e38ef360e,sort," metavar='{' + ','.join(sorted(role_choices)) + '}', metavar='{' + ','.join(sorted(status_choices)) + '}',"," metavar='{' + ','.join(role_choices) + '}', metavar='{' + ','.join(status_choices) + '}',",2,2
openstack%2Ftripleo-quickstart-extras~master~Ib35a971a4a4123933fb0d59c56655892fbd067a3,openstack/tripleo-quickstart-extras,master,Ib35a971a4a4123933fb0d59c56655892fbd067a3,Remove use of upgrade_init_command from multinode-overcloud-upgrade.yml.,MERGED,2019-02-04 15:50:21.000000000,2019-02-06 17:45:08.000000000,2019-02-06 17:45:08.000000000,"[{'_account_id': 3153}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-02-04 15:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/813c3262afaee5a8184a181d6777614f7b05cb32', 'message': ""Remove use of UpgradeInitCommand from multinode-overcloud-upgrade.yml.\n\nThe UpgradeInitCommand heat resource hasn't work for some releases, even\nthought it has been recovered in [0] it added some complexity to the way\nwe were invoking tripleo-upgrade role, as we needed to load into the\nupgrade_init_command variable the whole content of the script we wanted\nto run to switch repos. For that reason it's better to relay on repo-setup\nrole to leave the repositories switched (without packages update) prior to\ninvoking tripleo-upgrade as it is done in the undercloud upgrade playbook.\n\n[0] - 9164e6adbdce69a2b7c10e1aea6c5cb309b6754e\n\nChange-Id: Ib35a971a4a4123933fb0d59c56655892fbd067a3\nCloses-Bug: #1814531\n""}, {'number': 2, 'created': '2019-02-05 08:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a612111add3839bc1e0c3aef652b46ad40fb5136', 'message': ""Remove use of upgrade_init_command from multinode-overcloud-upgrade.yml.\n\nThe UpgradeInitCommand heat resource hasn't work for some releases, even\nthought it has been recovered in [0] it added some complexity to the way\nwe were invoking tripleo-upgrade role, as we needed to load into the\nupgrade_init_command variable the whole content of the script we wanted\nto run to switch repos. For that reason it's better to relay on repo-setup\nrole to leave the repositories switched (without packages update) prior to\ninvoking tripleo-upgrade as it is done in the undercloud upgrade playbook.\n\n[0] - 9164e6adbdce69a2b7c10e1aea6c5cb309b6754e\n\nChange-Id: Ib35a971a4a4123933fb0d59c56655892fbd067a3\nCloses-Bug: #1814531\n""}, {'number': 3, 'created': '2019-02-05 13:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6782b710258801adfb5a2826ed5dc69a0aea1422', 'message': ""Remove use of upgrade_init_command from multinode-overcloud-upgrade.yml.\n\nThe UpgradeInitCommand heat resource hasn't work for some releases, even\nthought it has been recovered in [0] it added some complexity to the way\nwe were invoking tripleo-upgrade role, as we needed to load into the\nupgrade_init_command variable the whole content of the script we wanted\nto run to switch repos. For that reason it's better to relay on repo-setup\nrole to leave the repositories switched (without packages update) prior to\ninvoking tripleo-upgrade as it is done in the undercloud upgrade playbook.\n\nAlso, as tripleo-upgrade is now being imported by zuul, there is no need\nto call dynamically to tripleo-upgrade as before, we can use include_role\ninstead.\n\nCo-Authored By: Quique Llorente <ellorent@redhat.com>\n[0] - 9164e6adbdce69a2b7c10e1aea6c5cb309b6754e\n\nChange-Id: Ib35a971a4a4123933fb0d59c56655892fbd067a3\nCloses-Bug: #1814531\n""}, {'number': 4, 'created': '2019-02-05 14:24:05.000000000', 'files': ['playbooks/multinode-overcloud-upgrade.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e6cfcb29f5087017f1c6e90daec62d80ed1991d3', 'message': ""Remove use of upgrade_init_command from multinode-overcloud-upgrade.yml.\n\nThe UpgradeInitCommand heat resource hasn't work for some releases, even\nthought it has been recovered in [0] it added some complexity to the way\nwe were invoking tripleo-upgrade role, as we needed to load into the\nupgrade_init_command variable the whole content of the script we wanted\nto run to switch repos. For that reason it's better to relay on repo-setup\nrole to leave the repositories switched (without packages update) prior to\ninvoking tripleo-upgrade as it is done in the undercloud upgrade playbook.\n\nAlso, as tripleo-upgrade is now being imported by zuul, there is no need\nto call dynamically to tripleo-upgrade as before, we can use include_role\ninstead.\n\nCo-Authored By: Quique Llorente <ellorent@redhat.com>\n[0] - 9164e6adbdce69a2b7c10e1aea6c5cb309b6754e\n\nChange-Id: Ib35a971a4a4123933fb0d59c56655892fbd067a3\nCloses-Bug: #1814531\n""}]",2,634724,e6cfcb29f5087017f1c6e90daec62d80ed1991d3,26,9,4,26343,,,0,"Remove use of upgrade_init_command from multinode-overcloud-upgrade.yml.

The UpgradeInitCommand heat resource hasn't work for some releases, even
thought it has been recovered in [0] it added some complexity to the way
we were invoking tripleo-upgrade role, as we needed to load into the
upgrade_init_command variable the whole content of the script we wanted
to run to switch repos. For that reason it's better to relay on repo-setup
role to leave the repositories switched (without packages update) prior to
invoking tripleo-upgrade as it is done in the undercloud upgrade playbook.

Also, as tripleo-upgrade is now being imported by zuul, there is no need
to call dynamically to tripleo-upgrade as before, we can use include_role
instead.

Co-Authored By: Quique Llorente <ellorent@redhat.com>
[0] - 9164e6adbdce69a2b7c10e1aea6c5cb309b6754e

Change-Id: Ib35a971a4a4123933fb0d59c56655892fbd067a3
Closes-Bug: #1814531
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/24/634724/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/multinode-overcloud-upgrade.yml'],1,813c3262afaee5a8184a181d6777614f7b05cb32,bug/1814531," repo_setup_log: ""repo-setup-{{ release }}.log"" repo_setup_run_update: false"," repo_run_live: false repo_setup_script: ""{{ working_dir }}/repo-setup-{{ release }}.sh"" upgrade_init_command: ""{{ (repo_setup_script|exists) | ternary(lookup('file', repo_setup_script), false) }}""",2,3
openstack%2Fopenstack-ansible-os_tempest~stable%2Frocky~I3cb3fd46b06aae23f37da14c9d37a00a9f1fdcd9,openstack/openstack-ansible-os_tempest,stable/rocky,I3cb3fd46b06aae23f37da14c9d37a00a9f1fdcd9,Update all plugin urls to use https rather than git,MERGED,2019-01-29 14:37:09.000000000,2019-02-06 17:44:06.000000000,2019-02-06 17:44:06.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 12393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-29 14:37:09.000000000', 'files': ['vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/7c6c019ff1135b1fee532abf10c0071b3053a4a7', 'message': 'Update all plugin urls to use https rather than git\n\nLimited connectivity environments will not be able to clone/install\nthese repos via an http proxy, so change the connection method\nto https.\n\nChange-Id: I3cb3fd46b06aae23f37da14c9d37a00a9f1fdcd9\n(cherry picked from commit 453a0e904f9581a8d4f130a7b8b5abebdb4532d4)\n'}]",0,633752,7c6c019ff1135b1fee532abf10c0071b3053a4a7,8,5,1,25023,,,0,"Update all plugin urls to use https rather than git

Limited connectivity environments will not be able to clone/install
these repos via an http proxy, so change the connection method
to https.

Change-Id: I3cb3fd46b06aae23f37da14c9d37a00a9f1fdcd9
(cherry picked from commit 453a0e904f9581a8d4f130a7b8b5abebdb4532d4)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/52/633752/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/main.yml'],1,7c6c019ff1135b1fee532abf10c0071b3053a4a7,, repo: https://git.openstack.org/openstack/barbican-tempest-plugin repo: https://git.openstack.org/openstack/cinder-tempest-plugin repo: https://git.openstack.org/openstack/cloudkitty-tempest-plugin repo: https://git.openstack.org/openstack/congress-tempest-plugin repo: https://git.openstack.org/openstack/designate-tempest-plugin repo: https://git.openstack.org/openstack/heat-tempest-plugin repo: https://git.openstack.org/openstack/ironic-tempest-plugin repo: https://git.openstack.org/openstack/keystone-tempest-plugin repo: https://git.openstack.org/openstack/magnum-tempest-plugin repo: https://git.openstack.org/openstack/networking-bgpvpn repo: https://git.openstack.org/openstack/neutron-fwaas repo: https://git.openstack.org/openstack/neutron-vpnaas repo: https://git.openstack.org/openstack/neutron-tempest-plugin repo: https://git.openstack.org/openstack/nova-lxd repo: https://git.openstack.org/openstack/octavia-tempest-plugin repo: https://git.openstack.org/openstack/octavia repo: https://git.openstack.org/openstack/telemetry-tempest-plugin, repo: git://git.openstack.org/openstack/barbican-tempest-plugin repo: git://git.openstack.org/openstack/cinder-tempest-plugin repo: git://git.openstack.org/openstack/cloudkitty-tempest-plugin repo: git://git.openstack.org/openstack/congress-tempest-plugin repo: git://git.openstack.org/openstack/designate-tempest-plugin repo: git://git.openstack.org/openstack/heat-tempest-plugin repo: git://git.openstack.org/openstack/ironic-tempest-plugin repo: git://git.openstack.org/openstack/keystone-tempest-plugin repo: git://git.openstack.org/openstack/magnum-tempest-plugin repo: git://git.openstack.org/openstack/networking-bgpvpn repo: git://git.openstack.org/openstack/neutron-fwaas repo: git://git.openstack.org/openstack/neutron-vpnaas repo: git://git.openstack.org/openstack/neutron-tempest-plugin repo: git://git.openstack.org/openstack/nova-lxd repo: git://git.openstack.org/openstack/octavia-tempest-plugin repo: git://git.openstack.org/openstack/octavia repo: git://git.openstack.org/openstack/telemetry-tempest-plugin,17,17
openstack%2Fopenstack-helm-infra~master~I2f51deda64b299fe980e1f191b860bfe173e6aca,openstack/openstack-helm-infra,master,I2f51deda64b299fe980e1f191b860bfe173e6aca,Ceph-OSD: Restore bootstrap job,MERGED,2019-02-06 03:55:55.000000000,2019-02-06 17:41:54.000000000,2019-02-06 17:41:54.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 28372}, {'_account_id': 29268}]","[{'number': 1, 'created': '2019-02-06 03:55:55.000000000', 'files': ['ceph-osd/templates/bin/_bootstrap.sh.tpl', 'ceph-osd/values.yaml', 'ceph-osd/templates/configmap-bin.yaml', 'tools/deployment/osh-infra-logging/020-ceph.sh', 'ceph-osd/templates/job-bootstrap.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/87de515727cf5da0e73dfb89c5f3f42d06675e92', 'message': 'Ceph-OSD: Restore bootstrap job\n\nAt some point the bootrap job was partially removed from the ceph\nosd chart, this PS resores it.\n\nChange-Id: I2f51deda64b299fe980e1f191b860bfe173e6aca\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",1,635088,87de515727cf5da0e73dfb89c5f3f42d06675e92,20,6,1,23928,,,0,"Ceph-OSD: Restore bootstrap job

At some point the bootrap job was partially removed from the ceph
osd chart, this PS resores it.

Change-Id: I2f51deda64b299fe980e1f191b860bfe173e6aca
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/88/635088/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-osd/templates/bin/_bootstrap.sh.tpl', 'ceph-osd/values.yaml', 'ceph-osd/templates/configmap-bin.yaml', 'tools/deployment/osh-infra-logging/020-ceph.sh', 'ceph-osd/templates/job-bootstrap.yaml']",5,87de515727cf5da0e73dfb89c5f3f42d06675e92,,"{{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if and .Values.manifests.job_bootstrap .Values.bootstrap.enabled }} {{- $envAll := . }} {{- $serviceAccountName := ""ceph-osd-bootstrap"" }} {{ tuple $envAll ""bootstrap"" $serviceAccountName | include ""helm-toolkit.snippets.kubernetes_pod_rbac_serviceaccount"" }} --- apiVersion: batch/v1 kind: Job metadata: name: ceph-osd-bootstrap annotations: {{ tuple $envAll | include ""helm-toolkit.snippets.release_uuid"" }} spec: template: metadata: labels: {{ tuple $envAll ""ceph"" ""bootstrap"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 8 }} spec: serviceAccountName: {{ $serviceAccountName }} restartPolicy: OnFailure nodeSelector: {{ .Values.labels.job.node_selector_key }}: {{ .Values.labels.job.node_selector_value }} initContainers: {{ tuple $envAll ""bootstrap"" list | include ""helm-toolkit.snippets.kubernetes_entrypoint_init_container"" | indent 8 }} containers: - name: ceph-osd-bootstrap {{ tuple $envAll ""ceph_bootstrap"" | include ""helm-toolkit.snippets.image"" | indent 10 }} {{ tuple $envAll $envAll.Values.pod.resources.jobs.bootstrap | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 10 }} command: - /tmp/bootstrap.sh volumeMounts: - name: ceph-osd-bin mountPath: /tmp/bootstrap.sh subPath: bootstrap.sh readOnly: true - name: ceph-osd-etc mountPath: /etc/ceph/ceph.conf subPath: ceph.conf readOnly: true - name: ceph-osd-admin-keyring mountPath: /etc/ceph/ceph.client.admin.keyring subPath: ceph.client.admin.keyring readOnly: true volumes: - name: ceph-osd-bin configMap: name: ceph-osd-bin defaultMode: 0555 - name: ceph-osd-etc configMap: name: ceph-osd-etc defaultMode: 0444 - name: ceph-osd-admin-keyring secret: secretName: {{ .Values.secrets.keyrings.admin }} {{- end }} ",,106,9
openstack%2Fcinder~master~Ie3fd02d7c9d2f6e70a13baf24473a2c1d561a1fd,openstack/cinder,master,Ie3fd02d7c9d2f6e70a13baf24473a2c1d561a1fd,Add Python 3.6 version in setup.cfg,MERGED,2019-02-05 21:40:37.000000000,2019-02-06 17:39:35.000000000,2019-02-06 17:39:35.000000000,"[{'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 15296}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24230}, {'_account_id': 24814}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-02-05 21:40:37.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7ad20622cee225ec3bd9822472f61bc8423a69aa', 'message': ""Add Python 3.6 version in setup.cfg\n\nTox has py36 env enabled but it isn't consistent with the setup.cfg.\nTo maintain consistency, this patch adds the entry for py36 in\nsetup.cfg metadata.\n\nChange-Id: Ie3fd02d7c9d2f6e70a13baf24473a2c1d561a1fd\n""}]",0,635049,7ad20622cee225ec3bd9822472f61bc8423a69aa,35,31,1,27615,,,0,"Add Python 3.6 version in setup.cfg

Tox has py36 env enabled but it isn't consistent with the setup.cfg.
To maintain consistency, this patch adds the entry for py36 in
setup.cfg metadata.

Change-Id: Ie3fd02d7c9d2f6e70a13baf24473a2c1d561a1fd
",git fetch https://review.opendev.org/openstack/cinder refs/changes/49/635049/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,7ad20622cee225ec3bd9822472f61bc8423a69aa,, Programming Language :: Python :: 3.6,,1,0
openstack%2Fcharm-ceph-proxy~master~I376bcfa0b37407876609f1183ecb72b614160457,openstack/charm-ceph-proxy,master,I376bcfa0b37407876609f1183ecb72b614160457,fix tox python3 overrides,MERGED,2018-09-29 15:02:47.000000000,2019-02-06 17:32:00.000000000,2019-02-06 17:32:00.000000000,"[{'_account_id': 6547}, {'_account_id': 13686}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-29 15:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/0b1b5186a949c1f00612a1b3530273ab62305450', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I376bcfa0b37407876609f1183ecb72b614160457\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-11-02 14:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/b3e752f0a560458856ec3dee049bb5356ec2de55', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I376bcfa0b37407876609f1183ecb72b614160457\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2019-01-07 12:43:04.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/fb73c72998c11d0b51c7e4be66002d1e8b8b4eb5', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I376bcfa0b37407876609f1183ecb72b614160457\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,606438,fb73c72998c11d0b51c7e4be66002d1e8b8b4eb5,30,5,3,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I376bcfa0b37407876609f1183ecb72b614160457
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/charm-ceph-proxy refs/changes/38/606438/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0b1b5186a949c1f00612a1b3530273ab62305450,python3-first,basepython = python3basepython = python3,basepython = python2.7,2,1
openstack%2Fnetworking-ovn~stable%2Frocky~Ia690c8d59003d29d7a29522d310d17b68dc63716,openstack/networking-ovn,stable/rocky,Ia690c8d59003d29d7a29522d310d17b68dc63716,ir plugin: Fix issues related to migration-tool package and OVN image preparation,MERGED,2019-01-30 10:42:22.000000000,2019-02-06 17:17:27.000000000,2019-02-06 17:17:26.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8788}, {'_account_id': 10237}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-01-30 10:42:22.000000000', 'files': ['migration/infrared/tripleo-ovn-migration/main.yml', 'migration/infrared/tripleo-ovn-migration/roles/prepare-migration/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c4142c136c024e771a06944cff5e863dbc14b878', 'message': ""ir plugin: Fix issues related to migration-tool package and OVN image preparation\n\nThis patch fixes couple of issues\n - The package ' python-networking-ovn-migration-tool' was earlier\n   installed from delorean repos. Now delorean repos are not used.\n   The undercloud should have proper repos configured which provide\n   this package.\n\n - Tripleo has changed the way in which container images are prepared.\n   This patch fixes the failures related pulling and preparing of\n   OVN container images.\n\n - Task to extract the local regisry is not working anymore with the\n   latest tripleo. So fixed it.\n\nChange-Id: Ia690c8d59003d29d7a29522d310d17b68dc63716\n(cherry picked from commit 599b6c54bc165e7d01ea16f8294dd24d281b1071)\n""}]",0,633908,c4142c136c024e771a06944cff5e863dbc14b878,17,6,1,8788,,,0,"ir plugin: Fix issues related to migration-tool package and OVN image preparation

This patch fixes couple of issues
 - The package ' python-networking-ovn-migration-tool' was earlier
   installed from delorean repos. Now delorean repos are not used.
   The undercloud should have proper repos configured which provide
   this package.

 - Tripleo has changed the way in which container images are prepared.
   This patch fixes the failures related pulling and preparing of
   OVN container images.

 - Task to extract the local regisry is not working anymore with the
   latest tripleo. So fixed it.

Change-Id: Ia690c8d59003d29d7a29522d310d17b68dc63716
(cherry picked from commit 599b6c54bc165e7d01ea16f8294dd24d281b1071)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/08/633908/1 && git format-patch -1 --stdout FETCH_HEAD,"['migration/infrared/tripleo-ovn-migration/main.yml', 'migration/infrared/tripleo-ovn-migration/roles/prepare-migration/tasks/main.yml']",2,c4142c136c024e771a06944cff5e863dbc14b878,rocky," shell: cat containers-prepare-parameter.yaml | grep -v _tag | grep tag | awk '{print $2}' docker_image_tag: ""{{ core_puddle_version.stdout }}"" - name: Get registry namespace shell: cat containers-prepare-parameter.yaml | grep -v _namespace | grep namespace | awk '{print $2}' ignore_error: True register: reg_ns - name: Set registry namespace set_fact: reg_namespace: ""{{ reg_ns.stdout }}"" - debug: msg: ""{{ reg_namespace }}"" line: ""- imagename: {{ reg_namespace }}/{{ image_prefix }}-{{ item }}:{{ docker_image_tag }}""- name: Generate docker images environment file shell: | echo ""parameter_defaults:"" > ~/docker-images-ovn.yaml reg=`cat /tmp/oc_plan/environments/containers-default-parameters.yaml | grep DockerNeutronApiImage | awk '{ split($2, image , ""/""); print image[1] }'` namespace=`cat /tmp/oc_plan/environments/containers-default-parameters.yaml | grep DockerNeutronApiImage | awk '{ split($2, image , ""/""); print image[2] }'`- name: Add ovn container images to docker images environment file lineinfile: dest: ~/docker-images-ovn.yaml line: "" {{ item.name }}: {{ local_registry }}/{{ image_prefix }}-{{ item.image_name }}:{{ docker_image_tag }}"" with_items: - { name: DockerNeutronApiImage, image_name: neutron-server-ovn} - { name: DockerNeutronConfigImage, image_name: neutron-server-ovn} - { name: DockerOvnMetadataImage, image_name: neutron-metadata-agent-ovn} - { name: DockerOvnControllerImage, image_name: ovn-controller} - { name: DockerOvnControllerConfigImage, image_name: ovn-controller} - { name: DockerOvnDbsImage, image_name: ovn-northd} - { name: DockerOvnDbsConfigImage, image_name: ovn-northd}"," shell: cat ~/core_puddle_version docker_image_tag: ""{{ (core_puddle_version.stdout != '') | ternary(core_puddle_version.stdout, image_tag) }}"" line: ""- imagename: {{ registry_namespace }}/{{ image_prefix }}-{{ item }}:{{ docker_image_tag }}"" reg=`cat /tmp/oc_plan/plan-environment.yaml | grep DockerNeutronApiImage | awk '{ split($2, image , ""/""); print image[1] }'` namespace=`cat /tmp/oc_plan/plan-environment.yaml | grep DockerNeutronApiImage | awk '{ split($2, image , ""/""); print image[2] }'` img=`cat plan-environment.yaml | grep DockerNeutronApiImage | awk '{ split($2, image, ""/""); print image[3] }'`- name: Generate docker images environment file shell: | set -exo pipefail openstack overcloud container image prepare \ --namespace={{ local_registry }} \ --tag={{ docker_image_tag }} \ --prefix={{ image_prefix }} \ --output-env-file={{ output_env_file }} \ -e /usr/share/openstack-tripleo-heat-templates/environments/docker.yaml \ -e /usr/share/openstack-tripleo-heat-templates/environments/docker-ha.yaml \ -e {{ neutron_ovn_env_path }}",32,54
openstack%2Fopenstack-ansible-os_keystone~master~Ie46b24519d9dcb5f168bde78c343ce146604526e,openstack/openstack-ansible-os_keystone,master,Ie46b24519d9dcb5f168bde78c343ce146604526e,venv: use inventory_hostname instead of ansible_hostname,MERGED,2019-02-06 15:05:36.000000000,2019-02-06 17:15:55.000000000,2019-02-06 17:15:54.000000000,"[{'_account_id': 1004}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-06 15:05:36.000000000', 'files': ['tasks/keystone_install_source.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/45fc484bd4b117726b60732d0211443b7181784e', 'message': 'venv: use inventory_hostname instead of ansible_hostname\n\nIt is possible that the hostname of the system does not match the\none in the inventory which means that the delegate_to or the\ncomparision to inventory_hostname will fail in the tasks later.\n\nChange-Id: Ie46b24519d9dcb5f168bde78c343ce146604526e\n'}]",0,635183,45fc484bd4b117726b60732d0211443b7181784e,7,3,1,28521,,,0,"venv: use inventory_hostname instead of ansible_hostname

It is possible that the hostname of the system does not match the
one in the inventory which means that the delegate_to or the
comparision to inventory_hostname will fail in the tasks later.

Change-Id: Ie46b24519d9dcb5f168bde78c343ce146604526e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/83/635183/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/keystone_install_source.yml'],1,45fc484bd4b117726b60732d0211443b7181784e,," venv_build_host: ""{{ inventory_hostname }}"""," venv_build_host: ""{{ ansible_hostname }}""",1,1
openstack%2Fironic-tempest-plugin~master~I94b29ee4a0fbd9bf87c6839d9d02cb2f545483b8,openstack/ironic-tempest-plugin,master,I94b29ee4a0fbd9bf87c6839d9d02cb2f545483b8,Fix for the Api discovery tests.,MERGED,2019-02-01 15:06:28.000000000,2019-02-06 17:14:43.000000000,2019-02-06 17:14:43.000000000,"[{'_account_id': 6618}, {'_account_id': 9542}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 11655}, {'_account_id': 12356}, {'_account_id': 17270}, {'_account_id': 18913}, {'_account_id': 18916}, {'_account_id': 19016}, {'_account_id': 20675}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-02-01 15:06:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/181ebd8eee37709625cc9e07a08e501c2a054ca1', 'message': 'Fix for the Api discovery tests.\n\nApi discovery tests are failed when provide min_microversion in the tempest.conf\nStory: #2004919\n\nChange-Id: I94b29ee4a0fbd9bf87c6839d9d02cb2f545483b8\n'}, {'number': 2, 'created': '2019-02-05 11:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/0ce6eccde9e9ff1973ebbc0788ff954178b8c9d3', 'message': 'Fix for the Api discovery tests.\n\nApi discovery tests are failed when provide min_microversion in the tempest.conf\nStory: #2004919\nTask: #29280\n\nChange-Id: I94b29ee4a0fbd9bf87c6839d9d02cb2f545483b8\n'}, {'number': 3, 'created': '2019-02-05 16:08:16.000000000', 'files': ['ironic_tempest_plugin/tests/api/admin/test_api_discovery.py'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/36960a98be47ae267a35e9d26052eebe5cf187fe', 'message': 'Fix for the Api discovery tests.\n\nApi discovery tests are failed when provide min_microversion in the tempest.conf\n\nStory: #2004919\nTask: #29280\n\nChange-Id: I94b29ee4a0fbd9bf87c6839d9d02cb2f545483b8\n'}]",0,634427,36960a98be47ae267a35e9d26052eebe5cf187fe,19,13,3,17270,,,0,"Fix for the Api discovery tests.

Api discovery tests are failed when provide min_microversion in the tempest.conf

Story: #2004919
Task: #29280

Change-Id: I94b29ee4a0fbd9bf87c6839d9d02cb2f545483b8
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/27/634427/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_tempest_plugin/tests/api/admin/test_api_discovery.py'],1,181ebd8eee37709625cc9e07a08e501c2a054ca1,,from ironic_tempest_plugin.tests.api.admin import api_microversion_fixture self.useFixture( api_microversion_fixture.APIMicroversionFixture(None)) self.useFixture( api_microversion_fixture.APIMicroversionFixture(None)),,5,0
openstack%2Fbifrost~master~I8741feb05a0a1cdd55f2e1f8d4cea8fcfefed192,openstack/bifrost,master,I8741feb05a0a1cdd55f2e1f8d4cea8fcfefed192,Allow Ironic URL to use env vars in bifrost_inventory.py,MERGED,2019-01-28 10:48:25.000000000,2019-02-06 17:14:20.000000000,2019-02-06 17:14:20.000000000,"[{'_account_id': 5805}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-28 10:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/2a451185d867e9fa2f2993134d14cf763ba7cf27', 'message': 'Allow Ironic URL to use env vars in bifrost_inventory.py\n\nCurrently the URL used in bifrost_inventory.py is hard-coded to\nhttp://localhost:6385, which might not be valid if we are accessing a remote\nAPI or the service is bound to a specific IP.\n\nThe URL can be specified using either OS_URL or IRONIC_URL, with the former\ntaking precedence.\n\nChange-Id: I8741feb05a0a1cdd55f2e1f8d4cea8fcfefed192\n'}, {'number': 2, 'created': '2019-01-28 13:09:39.000000000', 'files': ['bifrost/inventory.py'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/853c2520042243053c98aec8058e5d43ceb023fe', 'message': 'Allow Ironic URL to use env vars in bifrost_inventory.py\n\nCurrently the URL used in bifrost_inventory.py is hard-coded to\nhttp://localhost:6385, which might not be valid if we are accessing a remote\nAPI or the service is bound to a specific IP.\n\nThe URL can be specified using either OS_URL or IRONIC_URL, with the former\ntaking precedence.\n\nThis patch also adds support for using clouds.yaml with bifrost_inventory.py.\n\nChange-Id: I8741feb05a0a1cdd55f2e1f8d4cea8fcfefed192\n'}]",1,633476,853c2520042243053c98aec8058e5d43ceb023fe,9,4,2,14826,,,0,"Allow Ironic URL to use env vars in bifrost_inventory.py

Currently the URL used in bifrost_inventory.py is hard-coded to
http://localhost:6385, which might not be valid if we are accessing a remote
API or the service is bound to a specific IP.

The URL can be specified using either OS_URL or IRONIC_URL, with the former
taking precedence.

This patch also adds support for using clouds.yaml with bifrost_inventory.py.

Change-Id: I8741feb05a0a1cdd55f2e1f8d4cea8fcfefed192
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/76/633476/1 && git format-patch -1 --stdout FETCH_HEAD,['bifrost/inventory.py'],1,2a451185d867e9fa2f2993134d14cf763ba7cf27,," endpoint = os.getenv('OS_URL', os.getenv('IRONIC_URL', ""http://localhost:6385/"")) auth=dict(endpoint=endpoint,)"," auth=dict(endpoint=""http://localhost:6385/"",)",3,1
openstack%2Ftripleo-quickstart~master~I1347e70f548ee5b708fc6bbd0697cbab10fd2f65,openstack/tripleo-quickstart,master,I1347e70f548ee5b708fc6bbd0697cbab10fd2f65,Disable tripleo-upgrade launch_sanity_workload parameter.,MERGED,2019-02-06 11:12:18.000000000,2019-02-06 17:10:10.000000000,2019-02-06 17:10:10.000000000,"[{'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 10022}, {'_account_id': 18846}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-02-06 11:12:18.000000000', 'files': ['config/general_config/featureset040.yml', 'config/general_config/featureset051.yml', 'config/general_config/featureset036.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/04402d36b386a5e774c76d993e90bebada7edae8', 'message': ""Disable tripleo-upgrade launch_sanity_workload parameter.\n\nThe tripleo-upgrade sets by default to true the launch_sanity_workload parameter\nwhich runs a workload test after performing the overcloud upgrade. This check\ndoes not make sense in upstream CI as we don't have compute node.\n\nChange-Id: I1347e70f548ee5b708fc6bbd0697cbab10fd2f65\n""}]",0,635130,04402d36b386a5e774c76d993e90bebada7edae8,11,9,1,26343,,,0,"Disable tripleo-upgrade launch_sanity_workload parameter.

The tripleo-upgrade sets by default to true the launch_sanity_workload parameter
which runs a workload test after performing the overcloud upgrade. This check
does not make sense in upstream CI as we don't have compute node.

Change-Id: I1347e70f548ee5b708fc6bbd0697cbab10fd2f65
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/30/635130/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/general_config/featureset040.yml', 'config/general_config/featureset051.yml', 'config/general_config/featureset036.yml']",3,04402d36b386a5e774c76d993e90bebada7edae8,,# do not run workload test launch_sanity_workload: false ,,11,0
openstack%2Fopenstack-ansible-os_ceilometer~master~I9636d178d728a393dc6125d1021159cd41c68a28,openstack/openstack-ansible-os_ceilometer,master,I9636d178d728a393dc6125d1021159cd41c68a28,venv: use inventory_hostname instead of ansible_hostname,MERGED,2019-02-06 14:46:41.000000000,2019-02-06 17:01:33.000000000,2019-02-06 17:01:32.000000000,"[{'_account_id': 1004}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-02-06 14:46:41.000000000', 'files': ['tasks/ceilometer_install_source.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/05fae24e8137a94f1cb22338e6cda0d68ae95202', 'message': 'venv: use inventory_hostname instead of ansible_hostname\n\nIt is possible that the hostname of the system does not match the\none in the inventory which means that the delegate_to or the\ncomparision to inventory_hostname will fail in the tasks later.\n\nChange-Id: I9636d178d728a393dc6125d1021159cd41c68a28\n'}]",0,635171,05fae24e8137a94f1cb22338e6cda0d68ae95202,8,4,1,28521,,,0,"venv: use inventory_hostname instead of ansible_hostname

It is possible that the hostname of the system does not match the
one in the inventory which means that the delegate_to or the
comparision to inventory_hostname will fail in the tasks later.

Change-Id: I9636d178d728a393dc6125d1021159cd41c68a28
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/71/635171/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/ceilometer_install_source.yml'],1,05fae24e8137a94f1cb22338e6cda0d68ae95202,," venv_build_host: ""{{ inventory_hostname }}"""," venv_build_host: ""{{ ansible_hostname }}""",1,1
openstack%2Fopenstack-ansible-os_horizon~master~I524c717e25ad2b811371f287fefd62d10213ecfa,openstack/openstack-ansible-os_horizon,master,I524c717e25ad2b811371f287fefd62d10213ecfa,venv: use inventory_hostname instead of ansible_hostname,MERGED,2019-02-06 15:03:01.000000000,2019-02-06 16:56:07.000000000,2019-02-06 16:56:07.000000000,"[{'_account_id': 1004}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-06 15:03:01.000000000', 'files': ['tasks/horizon_install_source.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/46ce9ed9997b52d66880e0b7c54ef945071c266a', 'message': 'venv: use inventory_hostname instead of ansible_hostname\n\nIt is possible that the hostname of the system does not match the\none in the inventory which means that the delegate_to or the\ncomparision to inventory_hostname will fail in the tasks later.\n\nChange-Id: I524c717e25ad2b811371f287fefd62d10213ecfa\n'}]",0,635181,46ce9ed9997b52d66880e0b7c54ef945071c266a,7,3,1,28521,,,0,"venv: use inventory_hostname instead of ansible_hostname

It is possible that the hostname of the system does not match the
one in the inventory which means that the delegate_to or the
comparision to inventory_hostname will fail in the tasks later.

Change-Id: I524c717e25ad2b811371f287fefd62d10213ecfa
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/81/635181/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/horizon_install_source.yml'],1,46ce9ed9997b52d66880e0b7c54ef945071c266a,," venv_build_host: ""{{ inventory_hostname }}"""," venv_build_host: ""{{ ansible_hostname }}""",1,1
openstack%2Fopenstack-ansible-os_barbican~master~I5bb8d7e3e54f896c0685576516e4b08ca3e1e29d,openstack/openstack-ansible-os_barbican,master,I5bb8d7e3e54f896c0685576516e4b08ca3e1e29d,venv: use inventory_hostname instead of ansible_hostname,MERGED,2019-02-06 14:39:06.000000000,2019-02-06 16:55:47.000000000,2019-02-06 16:55:47.000000000,"[{'_account_id': 1004}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-02-06 14:39:06.000000000', 'files': ['tasks/barbican_install_source.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/00563670d32be1b8666d2e2aedb8ff3745c255f5', 'message': 'venv: use inventory_hostname instead of ansible_hostname\n\nIt is possible that the hostname of the system does not match the\none in the inventory which means that the delegate_to or the\ncomparision to inventory_hostname will fail in the tasks later.\n\nChange-Id: I5bb8d7e3e54f896c0685576516e4b08ca3e1e29d\n'}]",0,635169,00563670d32be1b8666d2e2aedb8ff3745c255f5,8,4,1,28521,,,0,"venv: use inventory_hostname instead of ansible_hostname

It is possible that the hostname of the system does not match the
one in the inventory which means that the delegate_to or the
comparision to inventory_hostname will fail in the tasks later.

Change-Id: I5bb8d7e3e54f896c0685576516e4b08ca3e1e29d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/69/635169/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/barbican_install_source.yml'],1,00563670d32be1b8666d2e2aedb8ff3745c255f5,," venv_build_host: ""{{ inventory_hostname }}"""," venv_build_host: ""{{ ansible_hostname }}""",1,1
openstack%2Fpuppet-tripleo~master~Ib16459b1f7c8ef2c0e6612c660e31bfb5f2c74fc,openstack/puppet-tripleo,master,Ib16459b1f7c8ef2c0e6612c660e31bfb5f2c74fc,Remove the duplicated word,MERGED,2018-06-19 03:32:43.000000000,2019-02-06 16:45:40.000000000,2019-02-06 16:45:40.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 17130}, {'_account_id': 19138}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-06-19 03:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/59c6bb7ef2a0741eb9efc2aad5a362346a1362cf', 'message': 'Remove the duplicated word\n\nChange-Id: Ib16459b1f7c8ef2c0e6612c660e31bfb5f2c74fc\n'}, {'number': 2, 'created': '2018-09-15 14:37:32.000000000', 'files': ['manifests/profile/pacemaker/database/redis_bundle.pp', 'manifests/profile/pacemaker/database/redis.pp', 'spec/classes/tripleo_profile_base_neutron_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/de01705140d1916632b6f02552a4331f7a5d37d1', 'message': 'Remove the duplicated word\n\nChange-Id: Ib16459b1f7c8ef2c0e6612c660e31bfb5f2c74fc\n'}]",0,576335,de01705140d1916632b6f02552a4331f7a5d37d1,18,9,2,27781,,,0,"Remove the duplicated word

Change-Id: Ib16459b1f7c8ef2c0e6612c660e31bfb5f2c74fc
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/35/576335/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/pacemaker/database/redis_bundle.pp', 'manifests/profile/pacemaker/database/redis.pp', 'spec/classes/tripleo_profile_base_neutron_spec.rb']",3,59c6bb7ef2a0741eb9efc2aad5a362346a1362cf,, it 'should set the value' do, it 'should set the the value' do,3,3
openstack%2Fpython-tripleoclient~stable%2Frocky~I5dc7d43d816d286b1d948fa512fe656f92f9d784,openstack/python-tripleoclient,stable/rocky,I5dc7d43d816d286b1d948fa512fe656f92f9d784,Add 2h timeout when waiting for websocket messages on package_update,ABANDONED,2018-11-23 10:38:04.000000000,2019-02-06 16:37:49.000000000,,"[{'_account_id': 7385}, {'_account_id': 8042}, {'_account_id': 11082}, {'_account_id': 11090}, {'_account_id': 16515}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-11-23 10:38:04.000000000', 'files': ['tripleoclient/workflows/package_update.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c23c5c4cd24462c0cd1bdc1be8333ada286ae7a5', 'message': ""Add 2h timeout when waiting for websocket messages on package_update\n\nThis patch adds a mechanism for setting a timeout when waiting for websocket\nmessages. The package_update workflow itself won't be interrupted. Exception\nwill indicate that it's still running, but websocket is dead.\n\nChange-Id: I5dc7d43d816d286b1d948fa512fe656f92f9d784\n(cherry picked from commit a5759bf4254264a6d5d5aac877205c9fc067b408)\n""}]",0,619717,c23c5c4cd24462c0cd1bdc1be8333ada286ae7a5,9,9,1,26343,,,0,"Add 2h timeout when waiting for websocket messages on package_update

This patch adds a mechanism for setting a timeout when waiting for websocket
messages. The package_update workflow itself won't be interrupted. Exception
will indicate that it's still running, but websocket is dead.

Change-Id: I5dc7d43d816d286b1d948fa512fe656f92f9d784
(cherry picked from commit a5759bf4254264a6d5d5aac877205c9fc067b408)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/17/619717/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/package_update.py'],1,c23c5c4cd24462c0cd1bdc1be8333ada286ae7a5,add_timeouts-stable/rocky,"_WORKFLOW_TIMEOUT = 120 * 60 # 2h for payload in base.wait_for_messages(workflow_client, ws, execution, _WORKFLOW_TIMEOUT): for payload in base.wait_for_messages(workflow_client, ws, execution, _WORKFLOW_TIMEOUT): execution, _WORKFLOW_TIMEOUT): for payload in base.wait_for_messages(workflow_client, ws, execution, _WORKFLOW_TIMEOUT): for payload in base.wait_for_messages(workflow_client, ws, execution, _WORKFLOW_TIMEOUT): for payload in base.wait_for_messages(workflow_client, ws, execution, _WORKFLOW_TIMEOUT): for payload in base.wait_for_messages(workflow_client, ws, execution, _WORKFLOW_TIMEOUT):"," for payload in base.wait_for_messages(workflow_client, ws, execution): for payload in base.wait_for_messages(workflow_client, ws, execution): execution): for payload in base.wait_for_messages(workflow_client, ws, execution): for payload in base.wait_for_messages(workflow_client, ws, execution): for payload in base.wait_for_messages(workflow_client, ws, execution): for payload in base.wait_for_messages(workflow_client, ws, execution):",16,7
openstack%2Ftripleo-quickstart-extras~master~Ic70020045cc1c3b2f38bf8488eaef30ff6a52145,openstack/tripleo-quickstart-extras,master,Ic70020045cc1c3b2f38bf8488eaef30ff6a52145,Use nodepool mirrors for centos7-rt repo,ABANDONED,2019-02-06 12:33:34.000000000,2019-02-06 16:36:51.000000000,,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9196}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-02-06 12:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/75c7849d53a7410f5f7b7f493b68ea4cabd95e96', 'message': 'Use nodepool mirrors for centos7-rt repo\n\nIf we are at CI we have to use those mirrors, it has already break jobs\nat RDO since centos mirros can return IPv6 ips for example.\n\nCloses-Bug: #1814872\n\nDepends-On: https://review.openstack.org/635135\n\nChange-Id: Ic70020045cc1c3b2f38bf8488eaef30ff6a52145\n'}, {'number': 2, 'created': '2019-02-06 12:36:34.000000000', 'files': ['roles/build-images/templates/overcloud-image-build.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5581655bb12c0f60ebd284c80f56749eb0a4545e', 'message': 'Use nodepool mirrors for centos7-rt repo\n\nIf we are at CI we have to use nodepool mirrors mirrors, not doing so has\nalready break jobs at RDO.\n\nCloses-Bug: #1814872\n\nDepends-On: https://review.openstack.org/635135\n\nChange-Id: Ic70020045cc1c3b2f38bf8488eaef30ff6a52145\n'}]",0,635144,5581655bb12c0f60ebd284c80f56749eb0a4545e,8,13,2,27898,,,0,"Use nodepool mirrors for centos7-rt repo

If we are at CI we have to use nodepool mirrors mirrors, not doing so has
already break jobs at RDO.

Closes-Bug: #1814872

Depends-On: https://review.openstack.org/635135

Change-Id: Ic70020045cc1c3b2f38bf8488eaef30ff6a52145
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/44/635144/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-images/templates/overcloud-image-build.sh.j2'],1,75c7849d53a7410f5f7b7f493b68ea4cabd95e96,bug/1814872,if [ -e /etc/ci/mirror_info.sh ]; then source /etc/ci/mirror_info.sh export DIB_CENTOSRT_REPO_URL=${NODEPOOL_CENTOS_MIRROR}/7/rt/x86_64/ else ,,5,0
openstack%2Fdevstack~master~I856f1f59fca49b6020920d8f859b797f3b904300,openstack/devstack,master,I856f1f59fca49b6020920d8f859b797f3b904300,Add options for development bindep install,MERGED,2018-12-13 03:06:15.000000000,2019-02-06 16:34:56.000000000,2019-02-06 16:34:56.000000000,"[{'_account_id': 2}, {'_account_id': 1653}, {'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-13 03:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7f4f1f479725d1e3030c28b4a6214e8f45a11084', 'message': '[wip] install bindep packages\n\nChange-Id: I856f1f59fca49b6020920d8f859b797f3b904300\n'}, {'number': 2, 'created': '2018-12-13 03:33:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/39bacfec368df3d852299d7ad8dcd2bfeb400331', 'message': '[wip] install bindep packages\n\nChange-Id: I856f1f59fca49b6020920d8f859b797f3b904300\n'}, {'number': 3, 'created': '2018-12-13 05:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/74a0806989979120eb7d3ee1809003a62344bea2', 'message': '[wip] install bindep packages\n\nChange-Id: I856f1f59fca49b6020920d8f859b797f3b904300\n'}, {'number': 4, 'created': '2018-12-17 05:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1a39f9303ea81de8e613e73299d3a25139f2a9e1', 'message': '[wip] install bindep packages\n\nChange-Id: I856f1f59fca49b6020920d8f859b797f3b904300\n'}, {'number': 5, 'created': '2018-12-17 10:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/abe357b2815a33735edf431c67f3ade9a0f1e73b', 'message': '[wip] install bindep packages\n\nChange-Id: I856f1f59fca49b6020920d8f859b797f3b904300\n'}, {'number': 6, 'created': '2018-12-19 06:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/6c789fb710a7205aa1f6ac96039f79da0e9d9d82', 'message': '[wip] install bindep packages\n\nChange-Id: I856f1f59fca49b6020920d8f859b797f3b904300\n'}, {'number': 7, 'created': '2019-01-13 23:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7404e17fd581169a38ae94296155f5d07816f7c7', 'message': '[wip] install bindep packages\n\nChange-Id: I856f1f59fca49b6020920d8f859b797f3b904300\n'}, {'number': 8, 'created': '2019-01-14 01:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9f298713ed870ebf2c50f5c3923c2bdd0f6d3204', 'message': '[wip] install bindep packages\n\nChange-Id: I856f1f59fca49b6020920d8f859b797f3b904300\n'}, {'number': 9, 'created': '2019-01-14 05:53:29.000000000', 'files': ['inc/python', 'functions-common', 'stackrc', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/58243f6203f3385039fe7124b037d5abf7e1d59e', 'message': 'Add options for development bindep install\n\nThis adds a -bindep option to the key development library install\nfunctions.  With this option the bindep.txt file will be referenced\nand the relevant packages installed.\n\nChange-Id: I856f1f59fca49b6020920d8f859b797f3b904300\n'}]",1,624852,58243f6203f3385039fe7124b037d5abf7e1d59e,57,10,9,7118,,,0,"Add options for development bindep install

This adds a -bindep option to the key development library install
functions.  With this option the bindep.txt file will be referenced
and the relevant packages installed.

Change-Id: I856f1f59fca49b6020920d8f859b797f3b904300
",git fetch https://review.opendev.org/openstack/devstack refs/changes/52/624852/9 && git format-patch -1 --stdout FETCH_HEAD,"['inc/python', 'functions-common', 'stackrc', 'stack.sh']",4,7f4f1f479725d1e3030c28b4a6214e8f45a11084,install_bindep,# Install bindep $VIRTUALENV_CMD $DEST/bindep-venv # TODO(ianw) : optionally install from zuul checkout? $DEST/bindep-venv pip install bindep ,,27,0
openstack%2Fopenstack-ansible~master~I436926e6688c253432830708801f782d218d7fb0,openstack/openstack-ansible,master,I436926e6688c253432830708801f782d218d7fb0,Remove the repetition words in  firewalls.rst,MERGED,2018-11-13 10:47:25.000000000,2019-02-06 16:27:49.000000000,2019-02-06 16:27:49.000000000,"[{'_account_id': 1004}, {'_account_id': 16011}, {'_account_id': 18279}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-11-13 10:47:25.000000000', 'files': ['doc/source/admin/maintenance-tasks/firewalls.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9380222d1987bd90e52dd7161cbed2cddee270c2', 'message': 'Remove the repetition words in  firewalls.rst\n\nChange-Id: I436926e6688c253432830708801f782d218d7fb0\n'}]",0,617567,9380222d1987bd90e52dd7161cbed2cddee270c2,9,5,1,27366,,,0,"Remove the repetition words in  firewalls.rst

Change-Id: I436926e6688c253432830708801f782d218d7fb0
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/67/617567/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/maintenance-tasks/firewalls.rst'],1,9380222d1987bd90e52dd7161cbed2cddee270c2,,"this example, it is equal to ``glance_service_port``, whose","this example, it is equal to to ``glance_service_port``, whose",1,1
openstack%2Ftripleo-docs~master~I55a9e063dca5d722e07e6e29eb8492b0c4f90ffb,openstack/tripleo-docs,master,I55a9e063dca5d722e07e6e29eb8492b0c4f90ffb,correct vlan example when setting up overcloud network,MERGED,2019-01-30 23:24:35.000000000,2019-02-06 16:25:43.000000000,2019-02-06 16:25:43.000000000,"[{'_account_id': 3153}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-30 23:24:35.000000000', 'files': ['doc/source/install/basic_deployment/basic_deployment_cli.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/5570e5a2237c9a8c09dd1fd2a780c7cef810af97', 'message': 'correct vlan example when setting up overcloud network\n\nexample contained an extra \\. This made two commands look like one.\n\n Please enter the commit message for your changes. Lines starting\n\nChange-Id: I55a9e063dca5d722e07e6e29eb8492b0c4f90ffb\n'}]",1,634065,5570e5a2237c9a8c09dd1fd2a780c7cef810af97,7,3,1,5805,,,0,"correct vlan example when setting up overcloud network

example contained an extra \. This made two commands look like one.

 Please enter the commit message for your changes. Lines starting

Change-Id: I55a9e063dca5d722e07e6e29eb8492b0c4f90ffb
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/65/634065/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/basic_deployment/basic_deployment_cli.rst'],1,5570e5a2237c9a8c09dd1fd2a780c7cef810af97,, --provider-physical-network datacentre --provider-segment 195, --provider-physical-network datacentre --provider-segment 195 \,1,1
openstack%2Fproject-config~master~If3d281c657f50b82ec57fe8649fef6653b7ceec5,openstack/project-config,master,If3d281c657f50b82ec57fe8649fef6653b7ceec5,Remove some base jobs,MERGED,2019-02-05 19:31:03.000000000,2019-02-06 16:23:24.000000000,2019-02-06 16:23:24.000000000,"[{'_account_id': 1004}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-05 19:31:03.000000000', 'files': ['zuul.d/secrets.yaml', 'playbooks/base/pre.yaml', 'playbooks/base/post.yaml', 'playbooks/base/post-logs.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/90f28117d3f2dc74f4df617d0918683a2bf38f3d', 'message': 'Remove some base jobs\n\nThese are now in opendev/base-jobs and can be removed from this repo.\n\nThe site_logs secret is defined in opendev/base-jobs, so for the cases\nwhere we are using it to publish things other than logs, duplicate it\nand rename it.  A couple of base jobs remain and use it as their logs\nsecret, so rename it for those cases, until we remove them to\nopendev/base-jobs as well.\n\nChange-Id: If3d281c657f50b82ec57fe8649fef6653b7ceec5\n'}]",0,635014,90f28117d3f2dc74f4df617d0918683a2bf38f3d,8,4,1,1,,,0,"Remove some base jobs

These are now in opendev/base-jobs and can be removed from this repo.

The site_logs secret is defined in opendev/base-jobs, so for the cases
where we are using it to publish things other than logs, duplicate it
and rename it.  A couple of base jobs remain and use it as their logs
secret, so rename it for those cases, until we remove them to
opendev/base-jobs as well.

Change-Id: If3d281c657f50b82ec57fe8649fef6653b7ceec5
",git fetch https://review.opendev.org/openstack/project-config refs/changes/14/635014/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/secrets.yaml', 'playbooks/base/pre.yaml', 'playbooks/base/post-logs.yaml', 'playbooks/base/post.yaml', 'zuul.d/jobs.yaml']",5,90f28117d3f2dc74f4df617d0918683a2bf38f3d,, - site_logs_project_config pre-run: playbooks/base-test/pre.yaml post-run: - playbooks/base-test/post-ssh.yaml - site_logs_project_config - site_specs - site_specs - site_specs," # Changes to this job require a special procedure, because they can # not be tested before landing, and if they are faulty, they will # break all jobs, meaning subsequent corrections will not be able to # land. To make a change: # # 1) Ensure that base-test and its playbooks are identical to base. # 2) Make the change to base-test and/or its playbooks. # 3) Merge the change from step 2. No jobs normally use base-test, so # this is safe. # 4) Propose a change to a job to reparent it to base-test. Choose a # job which will exercise whatever you are changing. The # ""unittests"" job in zuul-jobs is a good choice. Use [DNM] in the # commit subject so that people know not to merge the change. Set # it to ""Work in progress"" so people don't review it. # 5) Once test results arrive for the change in step 2, make a change # which copies the job and/or playbooks of base-test to base. In # the commit message, link to (without using Depends-On:) the # change from step 4 so reviewers can see the test results. # 6) Once the change in step 5 merges, abandon the change from step 4. - job: name: base parent: null abstract: true description: | The base job for OpenStack's installation of Zuul. All jobs ultimately inherit from this. It runs a pre-playbook which copies all of the job's prepared git repos on to all of the nodes in the nodeset. It runs a post-playbook which copies all of the files in the logs/ subdirectory of the executor work directory to the logserver. It also sets default timeout and nodeset values (which may be overidden). Responds to these variables: .. zuul:jobvar:: base_serial :default: Omitted This sets the serial keyword in the pre and post playbooks which can be an integer or percentage. See ansible documentation for more information: http://docs.ansible.com/ansible/latest/playbooks_delegation.html pre-run: playbooks/base/pre.yaml post-run: - playbooks/base/post.yaml - playbooks/base/post-logs.yaml roles: - zuul: openstack-infra/zuul-jobs - zuul: openstack-infra/openstack-zuul-jobs vars: ara_report_type: database ara_report_path: ara-report timeout: 1800 post-timeout: 1800 nodeset: nodes: - name: ubuntu-xenial label: ubuntu-xenial secrets: - site_logs - site_logs # See the procedure described above ""base"" before making changes to # this job. - job: name: base-test parent: null description: | A job to test changes to the base job without disturbing the main job in production. Not for general use. pre-run: playbooks/base-test/pre.yaml post-run: - playbooks/base-test/post.yaml - playbooks/base-test/post-logs.yaml roles: - zuul: openstack-infra/zuul-jobs - zuul: openstack-infra/openstack-zuul-jobs timeout: 1800 post-timeout: 1800 vars: ara_report_type: database ara_report_path: ara-report nodeset: nodes: - name: ubuntu-xenial label: ubuntu-xenial secrets: - site_logs - secret: site_tarballs name: fileserver pre-run: playbooks/base/pre.yaml post-run: - playbooks/base/post-ssh.yaml - site_logs - site_logs - site_logs - site_logs",59,173
openstack%2Fcontributor-guide~master~I6da20511eb51e082fd13a9ba3403da99da264bd3,openstack/contributor-guide,master,I6da20511eb51e082fd13a9ba3403da99da264bd3,Expand on culture around metrics,MERGED,2019-01-30 13:22:37.000000000,2019-02-06 16:21:22.000000000,2019-02-06 16:21:22.000000000,"[{'_account_id': 6547}, {'_account_id': 8482}, {'_account_id': 11564}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-30 13:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/25a8316f44da1445da3bfd1a1b0e864ecc0c9fc8', 'message': 'Expand on culture around metrics\n\nIn the First Contact SIG meeting we surmised that perhaps one reason we\nsee many low-value high-volume commits from some contributors was due to\npressure from their employer[1]. This rewording is an attempt to\nclarify to organizations what we expect and need from contributors and\ndiscouraging gaming the system.\n\n[1] http://eavesdrop.openstack.org/meetings/fc_sig/2019/fc_sig.2019-01-30-07.01.log.html#l-176\n\nChange-Id: I6da20511eb51e082fd13a9ba3403da99da264bd3\n'}, {'number': 2, 'created': '2019-01-30 13:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/eb607ab416cf4d6fa6f2d27cd8df139e2ab87d61', 'message': 'Expand on culture around metrics\n\nIn the First Contact SIG meeting we surmised that perhaps one reason we\nsee many low-value high-volume commits from some contributors was due to\npressure from their employer[1]. This rewording is an attempt to\nclarify to organizations what we expect and need from contributors and\ndiscouraging gaming the system.\n\n[1] http://eavesdrop.openstack.org/meetings/fc_sig/2019/fc_sig.2019-01-30-07.01.log.html#l-176\n\nChange-Id: I6da20511eb51e082fd13a9ba3403da99da264bd3\n'}, {'number': 3, 'created': '2019-01-30 14:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/c1f361f97a7b0022269e52600ac96cf2a9967a9c', 'message': 'Expand on culture around metrics\n\nIn the First Contact SIG meeting we surmised that perhaps one reason we\nsee many low-value high-volume commits from some contributors was due to\npressure from their employer[1]. This rewording is an attempt to\nclarify to organizations what we expect and need from contributors and\ndiscouraging gaming the system.\n\n[1] http://eavesdrop.openstack.org/meetings/fc_sig/2019/fc_sig.2019-01-30-07.01.log.html#l-176\n\nChange-Id: I6da20511eb51e082fd13a9ba3403da99da264bd3\n'}, {'number': 4, 'created': '2019-01-30 20:42:15.000000000', 'files': ['doc/source/organizations/index.rst'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/761a4ae47ca2f7c300a184ccf1c46f0591dc5c93', 'message': 'Expand on culture around metrics\n\nIn the First Contact SIG meeting we surmised that perhaps one reason we\nsee many low-value high-volume commits from some contributors was due to\npressure from their employer[1]. This rewording is an attempt to\nclarify to organizations what we expect and need from contributors and\ndiscouraging gaming the system.\n\n[1] http://eavesdrop.openstack.org/meetings/fc_sig/2019/fc_sig.2019-01-30-07.01.log.html#l-176\n\nChange-Id: I6da20511eb51e082fd13a9ba3403da99da264bd3\n'}]",2,633939,761a4ae47ca2f7c300a184ccf1c46f0591dc5c93,19,5,4,8482,,,0,"Expand on culture around metrics

In the First Contact SIG meeting we surmised that perhaps one reason we
see many low-value high-volume commits from some contributors was due to
pressure from their employer[1]. This rewording is an attempt to
clarify to organizations what we expect and need from contributors and
discouraging gaming the system.

[1] http://eavesdrop.openstack.org/meetings/fc_sig/2019/fc_sig.2019-01-30-07.01.log.html#l-176

Change-Id: I6da20511eb51e082fd13a9ba3403da99da264bd3
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/39/633939/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/organizations/index.rst'],1,25a8316f44da1445da3bfd1a1b0e864ecc0c9fc8,stop-gaming,"* The community does not officially endorse Stackalytics, a contribution statistics gathering service hosted by Mirantis. The community does not encourage attempting to boost one's contribution statistics by proposing large quantities of low-value commits or voting on large numbers of change proposals without providing thoughtful reviews. Activities like this appear to other members of the community as an attempt to game the system and contributors who engage in this will often lose credibility in the community. Instead, contributors should try to engage deeply with a single project or a small number of projects to gain understanding of the software component and build relationships with the other contributors for that project. ",* Good metrics are hard https://en.wikipedia.org/wiki/Goodhart%27s_law .,11,1
openstack%2Fcharm-ceph-osd~master~I27c2d7648a1add6528924724a03682060d2d6007,openstack/charm-ceph-osd,master,I27c2d7648a1add6528924724a03682060d2d6007,Update cloud-archive.list when upgrading from Pike to Queens,MERGED,2019-02-01 14:47:15.000000000,2019-02-06 16:20:04.000000000,2019-02-06 16:20:04.000000000,"[{'_account_id': 2424}, {'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-01 14:47:15.000000000', 'files': ['hooks/ceph_hooks.py', 'unit_tests/test_utils.py', 'lib/ceph/utils.py', 'unit_tests/test_upgrade.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/336581efeb9a1c5d363c5d3ce631d9bad1a8a337', 'message': ""Update cloud-archive.list when upgrading from Pike to Queens\n\nceph-osd charm only upgrades when the ceph version changes, for the\ncase of upgrading from Pike to Queens the charm is skipping any\nupgrades, because the Cloud Archive has Luminous for those 2 releases.\n\nThis patch checks if the requested ceph version is luminous and if the\n'source' changed from pike to queens to then upgrade\n/etc/apt/sources.list.d/cloud-archive.list via add_source()\n\nChange-Id: I27c2d7648a1add6528924724a03682060d2d6007\nCloses-Bug: 1778823\n""}]",0,634424,336581efeb9a1c5d363c5d3ce631d9bad1a8a337,17,4,1,2424,,,0,"Update cloud-archive.list when upgrading from Pike to Queens

ceph-osd charm only upgrades when the ceph version changes, for the
case of upgrading from Pike to Queens the charm is skipping any
upgrades, because the Cloud Archive has Luminous for those 2 releases.

This patch checks if the requested ceph version is luminous and if the
'source' changed from pike to queens to then upgrade
/etc/apt/sources.list.d/cloud-archive.list via add_source()

Change-Id: I27c2d7648a1add6528924724a03682060d2d6007
Closes-Bug: 1778823
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/24/634424/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/ceph_hooks.py', 'unit_tests/test_utils.py', 'lib/ceph/utils.py', 'unit_tests/test_upgrade.py']",4,336581efeb9a1c5d363c5d3ce631d9bad1a8a337,bug/1778823,"from mock import call, patch from test_utils import CharmTestCase__author__ = 'Chris Holcombe <chris.holcombe@canonical.com>' class UpgradeRollingTestCase(CharmTestCase): self.test_config.set_previous('source', ""cloud:trusty-juno"") self.test_config.set('source', 'cloud:trusty-kilo') self.test_config.set('key', 'key') hookenv.config.side_effect = self.test_config self.test_config.set_previous('source', ""cloud:trusty-juno"") self.test_config.set('source', 'cloud:trusty-kilo') self.test_config.set('key', 'key') hookenv.config.side_effect = self.test_config @patch('ceph_hooks.os.path.exists') @patch('ceph_hooks.ceph.dirs_need_ownership_update') @patch('ceph_hooks.add_source') @patch('ceph_hooks.ceph.is_bootstrapped') @patch('ceph_hooks.hookenv') @patch('ceph_hooks.ceph.roll_monitor_cluster') def test_check_for_upgrade_from_pike_to_queens(self, roll_monitor_cluster, hookenv, is_bootstrapped, add_source, dirs_need_ownership_update, exists): exists.return_value = True dirs_need_ownership_update.return_value = False is_bootstrapped.return_value = True hookenv.config.side_effect = self.test_config self.test_config.set('key', 'some-key') self.test_config.set_previous('source', 'cloud:xenial-pike') self.test_config.set('source', 'cloud:xenial-queens') check_for_upgrade() roll_monitor_cluster.assert_not_called() add_source.assert_called_with('cloud:xenial-queens', 'some-key') @patch('ceph_hooks.os.path.exists') @patch('ceph_hooks.ceph.dirs_need_ownership_update') @patch('ceph_hooks.add_source') @patch('ceph_hooks.ceph.is_bootstrapped') @patch('ceph_hooks.hookenv') @patch('ceph_hooks.ceph.roll_monitor_cluster') def test_check_for_upgrade_from_rocky_to_stein(self, roll_monitor_cluster, hookenv, is_bootstrapped, add_source, dirs_need_ownership_update, exists): exists.return_value = True dirs_need_ownership_update.return_value = False is_bootstrapped.return_value = True hookenv.config.side_effect = self.test_config self.test_config.set('key', 'some-key') self.test_config.set_previous('source', 'cloud:bionic-rocky') self.test_config.set('source', 'cloud:bionic-stein') check_for_upgrade() roll_monitor_cluster.assert_not_called() add_source.assert_called_with('cloud:bionic-stein', 'some-key')","import unittest __author__ = 'Chris Holcombe <chris.holcombe@canonical.com>' from mock import call, patch, MagicMock def config_side_effect(*args): if args[0] == 'source': return 'cloud:trusty-kilo' elif args[0] == 'key': return 'key' elif args[0] == 'release-version': return 'cloud:trusty-kilo' class UpgradeRollingTestCase(unittest.TestCase): previous_mock = MagicMock().return_value previous_mock.previous.return_value = ""cloud:trusty-juno"" hookenv.config.side_effect = [previous_mock, config_side_effect('source')] previous_mock = MagicMock().return_value previous_mock.previous.return_value = ""cloud:trusty-juno"" hookenv.config.side_effect = [previous_mock, config_side_effect('source')]",104,30
openstack%2Fcharms.openstack~master~I1ccc7080f54eda1c12b51a24a488666f793d038e,openstack/charms.openstack,master,I1ccc7080f54eda1c12b51a24a488666f793d038e,Explicitly use pymysql sqlalchemy driver for Stein+,MERGED,2019-02-05 20:48:38.000000000,2019-02-06 16:20:03.000000000,2019-02-06 16:20:03.000000000,"[{'_account_id': 11805}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-05 20:48:38.000000000', 'files': ['charms_openstack/adapters.py', 'unit_tests/test_charms_openstack_adapters.py', 'unit_tests/__init__.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/341b879cc19c4e382216fa0a86bef14775f6232c', 'message': ""Explicitly use pymysql sqlalchemy driver for Stein+\n\nThe sqlalchemy package has switched back to using mysqldb as the\ndefault driver for the mysql dialect in Ubuntu Disco (Stein). For\nIcehouse -> Rocky, OpenStack packages will successfully use the\ndefault sqlalchemy driver [1] when only 'mysql' is specified in the\nconnection string. For Stein, the mysqldb driver must be overridden\nwith 'mysql+pymysql' in connection strings.\n\n[1] Based on the OpenStack release, the sqlalchemy package defaults\nto the following drivers:\n  Stein+: mysqldb\n  Mitaka-Rocky: pymysql\n  Icehouse: mysqldb\n\nChange-Id: I1ccc7080f54eda1c12b51a24a488666f793d038e\n""}]",2,635033,341b879cc19c4e382216fa0a86bef14775f6232c,10,3,1,11805,,,0,"Explicitly use pymysql sqlalchemy driver for Stein+

The sqlalchemy package has switched back to using mysqldb as the
default driver for the mysql dialect in Ubuntu Disco (Stein). For
Icehouse -> Rocky, OpenStack packages will successfully use the
default sqlalchemy driver [1] when only 'mysql' is specified in the
connection string. For Stein, the mysqldb driver must be overridden
with 'mysql+pymysql' in connection strings.

[1] Based on the OpenStack release, the sqlalchemy package defaults
to the following drivers:
  Stein+: mysqldb
  Mitaka-Rocky: pymysql
  Icehouse: mysqldb

Change-Id: I1ccc7080f54eda1c12b51a24a488666f793d038e
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/33/635033/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms_openstack/adapters.py', 'unit_tests/test_charms_openstack_adapters.py', 'unit_tests/__init__.py']",3,341b879cc19c4e382216fa0a86bef14775f6232c,charms-stein," 'queens', 'rocky', 'stein',",,55,18
openstack%2Fcontributor-guide~master~I46f2ce67b029ffe44dd07ed331ffcf851691157b,openstack/contributor-guide,master,I46f2ce67b029ffe44dd07ed331ffcf851691157b,Fix link in RST,MERGED,2019-02-06 14:36:08.000000000,2019-02-06 16:15:57.000000000,2019-02-06 16:15:57.000000000,"[{'_account_id': 10607}, {'_account_id': 20156}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-06 14:36:08.000000000', 'files': ['doc/source/common/task-tracking.rst'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/1938a53787772793b0f23c599e8064a35b021824', 'message': 'Fix link in RST\n\nThe previous change https://review.openstack.org/634608 missed\nto change one link which results in broken link, fix this.\n\nChange-Id: I46f2ce67b029ffe44dd07ed331ffcf851691157b\n'}]",0,635168,1938a53787772793b0f23c599e8064a35b021824,7,3,1,6547,,,0,"Fix link in RST

The previous change https://review.openstack.org/634608 missed
to change one link which results in broken link, fix this.

Change-Id: I46f2ce67b029ffe44dd07ed331ffcf851691157b
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/68/635168/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/common/task-tracking.rst'],1,1938a53787772793b0f23c599e8064a35b021824,trasnlate, a project check the `project list <https://governance.openstack.org/tc/reference/projects/index.html>`_., a project check the `project list`_.,2,1
openstack%2Fkolla~master~I17f40db3aba70e03f62624287e81a3fdc4bbfba6,openstack/kolla,master,I17f40db3aba70e03f62624287e81a3fdc4bbfba6,Upgrade Prometheus Services,ABANDONED,2019-02-06 16:11:04.000000000,2019-02-06 16:13:35.000000000,,[{'_account_id': 17669}],"[{'number': 1, 'created': '2019-02-06 16:11:04.000000000', 'files': ['docker/prometheus/prometheus-memcached-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-server/Dockerfile.j2', 'docker/prometheus/prometheus-alertmanager/Dockerfile.j2', 'docker/prometheus/prometheus-cadvisor/Dockerfile.j2', 'docker/prometheus/prometheus-blackbox-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-haproxy-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-mysqld-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-node-exporter/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/198bb8398f96fbb88306437a3ba712e71f2d7cb4', 'message': 'Upgrade Prometheus Services\n\nThis change bumps the minor versions for Prometheus services. It avoids\nupgrading Prometheus server to 2.x because this will require an upgrade\nprocedure if the user wants to retain their old data. This can be\naddressed in a follow up commit.\n\nChange-Id: I17f40db3aba70e03f62624287e81a3fdc4bbfba6\n'}]",0,635202,198bb8398f96fbb88306437a3ba712e71f2d7cb4,3,1,1,17669,,,0,"Upgrade Prometheus Services

This change bumps the minor versions for Prometheus services. It avoids
upgrading Prometheus server to 2.x because this will require an upgrade
procedure if the user wants to retain their old data. This can be
addressed in a follow up commit.

Change-Id: I17f40db3aba70e03f62624287e81a3fdc4bbfba6
",git fetch https://review.opendev.org/openstack/kolla refs/changes/02/635202/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/prometheus/prometheus-memcached-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-server/Dockerfile.j2', 'docker/prometheus/prometheus-alertmanager/Dockerfile.j2', 'docker/prometheus/prometheus-cadvisor/Dockerfile.j2', 'docker/prometheus/prometheus-blackbox-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-haproxy-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-mysqld-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-node-exporter/Dockerfile.j2']",8,198bb8398f96fbb88306437a3ba712e71f2d7cb4,,ENV node_exporter_version=0.17.0,ENV node_exporter_version=0.14.0,8,8
openstack%2Fmagnum~master~Ie3ac66f45e27cc92993116c3df0b33873dc67e24,openstack/magnum,master,Ie3ac66f45e27cc92993116c3df0b33873dc67e24,Allow overwriting labels on swarm mode creation,MERGED,2019-02-01 21:59:21.000000000,2019-02-06 16:05:42.000000000,2019-02-06 16:05:42.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-02-01 21:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/d8f6912a11a5a9b3a1650d9280dc615cf6fde471', 'message': 'Allow overwriting labels on swarm mode creation\n\nAllow passing label values on cluster creation for swarm mode. This is\navailable in all kubernetes drivers as well as swarm, but somehow missed\non swarm mode.\n\nChange-Id: Ie3ac66f45e27cc92993116c3df0b33873dc67e24\n'}, {'number': 2, 'created': '2019-02-05 11:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/782bed376411f9b9849facbedb89b994236fe10d', 'message': 'Allow overwriting labels on swarm mode creation\n\nAllow passing label values on cluster creation for swarm mode. This is\navailable in all kubernetes drivers as well as swarm, but somehow missed\non swarm mode.\n\nChange-Id: Ie3ac66f45e27cc92993116c3df0b33873dc67e24\n'}, {'number': 3, 'created': '2019-02-05 11:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/78c67b0868cada21947ae7ac0b9ad41b9cb8846d', 'message': 'Allow overwriting labels on swarm mode creation\n\nAllow passing label values on cluster creation for swarm mode. This is\navailable in all kubernetes drivers as well as swarm, but somehow missed\non swarm mode.\n\nStory: 2004942\nTask: 29343\n\nChange-Id: Ie3ac66f45e27cc92993116c3df0b33873dc67e24\n'}, {'number': 4, 'created': '2019-02-06 13:29:01.000000000', 'files': ['magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/heat/swarm_mode_template_def.py', 'releasenotes/notes/bug-2004942-052321df27529562.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/b555f90c10df371275a709a98dbbcc28637493d5', 'message': 'Allow overwriting labels on swarm mode creation\n\nAllow passing label values on cluster creation for swarm mode. This is\navailable in all kubernetes drivers as well as swarm, but somehow missed\non swarm mode.\n\nStory: 2004942\nTask: 29343\n\nChange-Id: Ie3ac66f45e27cc92993116c3df0b33873dc67e24\n'}]",0,634501,b555f90c10df371275a709a98dbbcc28637493d5,16,3,4,9995,,,0,"Allow overwriting labels on swarm mode creation

Allow passing label values on cluster creation for swarm mode. This is
available in all kubernetes drivers as well as swarm, but somehow missed
on swarm mode.

Story: 2004942
Task: 29343

Change-Id: Ie3ac66f45e27cc92993116c3df0b33873dc67e24
",git fetch https://review.opendev.org/openstack/magnum refs/changes/01/634501/4 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/heat/swarm_mode_template_def.py'],1,d8f6912a11a5a9b3a1650d9280dc615cf6fde471,swarmmodelabels, extra_params[label] = cluster.labels.get(label) docker_volume_type = cluster.labels.get(, extra_params[label] = cluster_template.labels.get(label) docker_volume_type = cluster_template.labels.get(,2,2
openstack%2Fgovernance-uc~master~If022601940aa9410472baf23224f4580582edff5,openstack/governance-uc,master,If022601940aa9410472baf23224f4580582edff5,Fixed date issues in Feb 2019 Election Page,MERGED,2019-02-05 15:24:53.000000000,2019-02-06 16:05:41.000000000,2019-02-06 16:05:40.000000000,"[{'_account_id': 7160}, {'_account_id': 15993}, {'_account_id': 17556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-05 15:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance-uc/commit/e58db763a5724479b2ff762284e1394b45967319', 'message': 'Fixed date issues in Feb 2019 Election Page\n\nAfter updating the election dates, the\nelctorate and candidate sections still showed\nFeb 03 as the deadline.  This has been updated\n\nChange-Id: If022601940aa9410472baf23224f4580582edff5\n'}, {'number': 2, 'created': '2019-02-05 16:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance-uc/commit/1138053cc9461b8d4cd507a7a1a9c69868efa812', 'message': 'Fixed date issues in Feb 2019 Election Page\n\nAfter updating the election dates, the\nelctorate and candidate sections still showed\nFeb 03 as the deadline.  This has been updated\n\nChange-Id: If022601940aa9410472baf23224f4580582edff5\n'}, {'number': 3, 'created': '2019-02-05 17:41:55.000000000', 'files': ['reference/uc-election-feb2019.rst'], 'web_link': 'https://opendev.org/openstack/governance-uc/commit/ca4e47e2314dd04060a0c4ddc2c7c29f10ef5ae8', 'message': 'Fixed date issues in Feb 2019 Election Page\n\nAfter updating the election dates, the\nelectorate and candidate sections still showed\nFeb 03 as the deadline.  This has been updated\n\nChange-Id: If022601940aa9410472baf23224f4580582edff5\n'}]",1,634956,ca4e47e2314dd04060a0c4ddc2c7c29f10ef5ae8,14,4,3,7272,,,0,"Fixed date issues in Feb 2019 Election Page

After updating the election dates, the
electorate and candidate sections still showed
Feb 03 as the deadline.  This has been updated

Change-Id: If022601940aa9410472baf23224f4580582edff5
",git fetch https://review.opendev.org/openstack/governance-uc refs/changes/56/634956/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/uc-election-feb2019.rst'],1,e58db763a5724479b2ff762284e1394b45967319,,"prior to February 17, 2019 05:59 UTC so that the emailed ballots are mailed to thethe subject: ""UC Candidacy"" by February 17, 05:59 UTC. The email can include a","prior to February 03, 2019 05:59 UTC so that the emailed ballots are mailed to thethe subject: ""UC Candidacy"" by February 03, 05:59 UTC. The email can include a",2,2
openstack%2Fopenstack-ansible-galera_server~stable%2Frocky~Ia837837e76bb25cf6e5d48e4612128fc58668e62,openstack/openstack-ansible-galera_server,stable/rocky,Ia837837e76bb25cf6e5d48e4612128fc58668e62,Fix ansible deprecation warnings,MERGED,2019-02-05 09:45:43.000000000,2019-02-06 16:05:37.000000000,2019-02-06 16:05:37.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-02-05 09:45:43.000000000', 'files': ['tasks/galera_setup.yml', 'tasks/galera_install_apt.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/37f4b6d08b50445a23dfbbb6056e15a4af40c7bb', 'message': 'Fix ansible deprecation warnings\n\n===\n[DEPRECATION WARNING]: Using tests as filters is deprecated.\nInstead of using `result|search` use `result is search`. This\nfeature will be removed in version 2.9.\n===\n\nChange-Id: Ia837837e76bb25cf6e5d48e4612128fc58668e62\n(cherry picked from commit 0f23dc604af1440cb3e0157a348d9b1935b911c6)\n'}]",0,634893,37f4b6d08b50445a23dfbbb6056e15a4af40c7bb,7,3,1,25600,,,0,"Fix ansible deprecation warnings

===
[DEPRECATION WARNING]: Using tests as filters is deprecated.
Instead of using `result|search` use `result is search`. This
feature will be removed in version 2.9.
===

Change-Id: Ia837837e76bb25cf6e5d48e4612128fc58668e62
(cherry picked from commit 0f23dc604af1440cb3e0157a348d9b1935b911c6)
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/93/634893/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/galera_setup.yml', 'tasks/galera_install_apt.yml']",2,37f4b6d08b50445a23dfbbb6056e15a4af40c7bb,deprecate-filters-as-tests-stable/rocky, - add_galera_repo is changed or add_percona_repo is changed, - add_galera_repo | changed or add_percona_repo is changed,2,2
openstack%2Fplacement~master~I4da2703dc4e8b306d004ac092d436d85669caf0f,openstack/placement,master,I4da2703dc4e8b306d004ac092d436d85669caf0f,Also time placeload when doing perfload,MERGED,2019-01-02 18:35:28.000000000,2019-02-06 16:05:29.000000000,2019-02-06 16:05:29.000000000,"[{'_account_id': 1063}, {'_account_id': 7634}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-01-02 18:35:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/8008aaec45318365126a1adc9fa2dd0f95015089', 'message': ""Also time placeload when doing perfload\n\nThe previous iteration was only timing how long it took to GET some\nresource providers after we create 1000 of them.\n\nIt's also useful to know how long it takes to create them.\n\nNeither of these timings are robust because we do not have reliable\nsameness from virtual machine to virtual machine (especially between\ncloud providers) but they make it possible to become aware of\nunusual circumstances.\n\nChange-Id: I4da2703dc4e8b306d004ac092d436d85669caf0f\n""}, {'number': 2, 'created': '2019-01-02 18:52:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/d8c3f697d44a2a4211422aa4c6515de7345cb6ed', 'message': ""Also time placeload when doing perfload\n\nThe previous iteration was only timing how long it took to GET some\nresource providers after we create 1000 of them.\n\nIt's also useful to know how long it takes to create them.\n\nNeither of these timings are robust because we do not have reliable\nsameness from virtual machine to virtual machine (especially between\ncloud providers) but they make it possible to become aware of\nunusual circumstances.\n\nChange-Id: I4da2703dc4e8b306d004ac092d436d85669caf0f\n""}, {'number': 3, 'created': '2019-01-02 19:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/7336ec24f5f7270a154951331ad7216556c857be', 'message': ""Also time placeload when doing perfload\n\nThe previous iteration was only timing how long it took to GET some\nresource providers after we create 1000 of them.\n\nIt's also useful to know how long it takes to create them.\n\nNeither of these timings are robust because we do not have reliable\nsameness from virtual machine to virtual machine (especially between\ncloud providers) but they make it possible to become aware of\nunusual circumstances.\n\nChange-Id: I4da2703dc4e8b306d004ac092d436d85669caf0f\n""}, {'number': 4, 'created': '2019-01-02 19:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/ab5c26428ad18b04595cf5159d23cb50dcbf2967', 'message': ""Also time placeload when doing perfload\n\nThe previous iteration was only timing how long it took to GET some\nresource providers after we create 1000 of them.\n\nIt's also useful to know how long it takes to create them.\n\nNeither of these timings are robust because we do not have reliable\nsameness from virtual machine to virtual machine (especially between\ncloud providers) but they make it possible to become aware of\nunusual circumstances.\n\nTo avoid extraneous noise in the placement-perf.txt file, set +x\nand set -x surrounds the commands that create that output.\n\nChange-Id: I4da2703dc4e8b306d004ac092d436d85669caf0f\n""}, {'number': 5, 'created': '2019-01-02 20:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/291474e8f7a0a031b37c25118f7087426672e959', 'message': ""Also time placeload when doing perfload\n\nThe previous iteration was only timing how long it took to GET some\nresource providers after we create 1000 of them.\n\nIt's also useful to know how long it takes to create them.\n\nNeither of these timings are robust because we do not have reliable\nsameness from virtual machine to virtual machine (especially between\ncloud providers) but they make it possible to become aware of\nunusual circumstances.\n\nTo avoid extraneous noise in the placement-perf.txt file, set +x\nand set -x surrounds the commands that create that output.\n\nChange-Id: I4da2703dc4e8b306d004ac092d436d85669caf0f\n""}, {'number': 6, 'created': '2019-02-05 06:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/2e8d8f7f89dc4c2f8c8ed912bc4f3506e2ae97e3', 'message': ""Also time placeload when doing perfload\n\nThe previous iteration was only timing how long it took to GET some\nresource providers after we create 1000 of them.\n\nIt's also useful to know how long it takes to create them.\n\nNeither of these timings are robust because we do not have reliable\nsameness from virtual machine to virtual machine (especially between\ncloud providers) but they make it possible to become aware of\nunusual circumstances.\n\nTo avoid extraneous noise in the placement-perf.txt file, set +x\nand set -x surrounds the commands that create that output.\n\nChange-Id: I4da2703dc4e8b306d004ac092d436d85669caf0f\n""}, {'number': 7, 'created': '2019-02-05 11:21:24.000000000', 'files': ['playbooks/perfload.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/7d0a37dfb1f93ba49569610cabb583c3c47c3e09', 'message': ""Also time placeload when doing perfload\n\nThe previous iteration was only timing how long it took to GET some\nresource providers after we create 1000 of them.\n\nIt's also useful to know how long it takes to create them.\n\nNeither of these timings are robust because we do not have reliable\nsameness from virtual machine to virtual machine (especially between\ncloud providers) but they make it possible to become aware of\nunusual circumstances.\n\nTo avoid extraneous noise in the placement-perf.txt file, set +x\nand set -x surrounds the commands that create that output.\n\nChange-Id: I4da2703dc4e8b306d004ac092d436d85669caf0f\n""}]",5,628023,7d0a37dfb1f93ba49569610cabb583c3c47c3e09,20,6,7,11564,,,0,"Also time placeload when doing perfload

The previous iteration was only timing how long it took to GET some
resource providers after we create 1000 of them.

It's also useful to know how long it takes to create them.

Neither of these timings are robust because we do not have reliable
sameness from virtual machine to virtual machine (especially between
cloud providers) but they make it possible to become aware of
unusual circumstances.

To avoid extraneous noise in the placement-perf.txt file, set +x
and set -x surrounds the commands that create that output.

Change-Id: I4da2703dc4e8b306d004ac092d436d85669caf0f
",git fetch https://review.opendev.org/openstack/placement refs/changes/23/628023/6 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/perfload.yaml'],1,8008aaec45318365126a1adc9fa2dd0f95015089,bug/1804453, time placeload $placement_url $COUNT, placeload $placement_url $COUNT,1,1
openstack%2Ftripleo-heat-templates~stable%2Frocky~Iaaad2fe852533a076a101559456fad69d2e64072,openstack/tripleo-heat-templates,stable/rocky,Iaaad2fe852533a076a101559456fad69d2e64072,DNM - Example of PTP/NTP config for Real Time,ABANDONED,2019-02-06 16:03:13.000000000,2019-02-06 16:04:12.000000000,,[],"[{'number': 1, 'created': '2019-02-06 16:03:13.000000000', 'files': ['environments/services/ptp.yaml', 'roles/ComputeRealTime.yaml', 'roles/ControllerRealTime.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a79a228bf77228bcd5c430a5cedd407a316f61c9', 'message': ""DNM - Example of PTP/NTP config for Real Time\n\nDo not review, it's just sent for example.\n\nChange-Id: Iaaad2fe852533a076a101559456fad69d2e64072\n""}]",0,635199,a79a228bf77228bcd5c430a5cedd407a316f61c9,2,0,1,3153,,,0,"DNM - Example of PTP/NTP config for Real Time

Do not review, it's just sent for example.

Change-Id: Iaaad2fe852533a076a101559456fad69d2e64072
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/635199/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services/ptp.yaml', 'roles/ComputeRealTime.yaml', 'roles/ControllerRealTime.yaml']",3,a79a228bf77228bcd5c430a5cedd407a316f61c9,dnm-ptp,"############################################################################### # Role: ControllerRealTime # ############################################################################### - name: ControllerRealTime description: | Controller role that has all the controler services loaded and handles Database, Messaging and Network functions, without Ptp service. CountDefault: 1 tags: - primary - controller networks: - External - InternalApi - Storage - StorageMgmt - Tenant # For systems with both IPv4 and IPv6, you may specify a gateway network for # each, such as ['ControlPlane', 'External'] default_route_networks: ['External'] HostnameFormatDefault: '%stackname%-controller-%index%' # Deprecated & backward-compatible values (FIXME: Make parameters consistent) # Set uses_deprecated_params to True if any deprecated params are used. uses_deprecated_params: True deprecated_param_extraconfig: 'controllerExtraConfig' deprecated_param_flavor: 'OvercloudControlFlavor' deprecated_param_image: 'controllerImage' deprecated_nic_config_name: 'controller.yaml' ServicesDefault: - OS::TripleO::Services::Aide - OS::TripleO::Services::AodhApi - OS::TripleO::Services::AodhEvaluator - OS::TripleO::Services::AodhListener - OS::TripleO::Services::AodhNotifier - OS::TripleO::Services::AuditD - OS::TripleO::Services::BarbicanApi - OS::TripleO::Services::BarbicanBackendSimpleCrypto - OS::TripleO::Services::BarbicanBackendDogtag - OS::TripleO::Services::BarbicanBackendKmip - OS::TripleO::Services::BarbicanBackendPkcs11Crypto - OS::TripleO::Services::CACerts - OS::TripleO::Services::CeilometerAgentCentral - OS::TripleO::Services::CeilometerAgentNotification - OS::TripleO::Services::CephExternal - OS::TripleO::Services::CephMds - OS::TripleO::Services::CephMgr - OS::TripleO::Services::CephMon - OS::TripleO::Services::CephRbdMirror - OS::TripleO::Services::CephRgw - OS::TripleO::Services::CertmongerUser - OS::TripleO::Services::CinderApi - OS::TripleO::Services::CinderBackendDellPs - OS::TripleO::Services::CinderBackendDellSc - OS::TripleO::Services::CinderBackendDellEMCUnity - OS::TripleO::Services::CinderBackendDellEMCVMAXISCSI - OS::TripleO::Services::CinderBackendDellEMCVNX - OS::TripleO::Services::CinderBackendDellEMCXTREMIOISCSI - OS::TripleO::Services::CinderBackendNetApp - OS::TripleO::Services::CinderBackendScaleIO - OS::TripleO::Services::CinderBackendVRTSHyperScale - OS::TripleO::Services::CinderBackendNVMeOF - OS::TripleO::Services::CinderBackup - OS::TripleO::Services::CinderHPELeftHandISCSI - OS::TripleO::Services::CinderScheduler - OS::TripleO::Services::CinderVolume - OS::TripleO::Services::Clustercheck - OS::TripleO::Services::Collectd - OS::TripleO::Services::Congress - OS::TripleO::Services::ContainerImagePrepare - OS::TripleO::Services::DesignateApi - OS::TripleO::Services::DesignateCentral - OS::TripleO::Services::DesignateProducer - OS::TripleO::Services::DesignateWorker - OS::TripleO::Services::DesignateMDNS - OS::TripleO::Services::DesignateSink - OS::TripleO::Services::Docker - OS::TripleO::Services::Ec2Api - OS::TripleO::Services::Etcd - OS::TripleO::Services::ExternalSwiftProxy - OS::TripleO::Services::Fluentd - OS::TripleO::Services::GlanceApi - OS::TripleO::Services::GlanceRegistry - OS::TripleO::Services::GnocchiApi - OS::TripleO::Services::GnocchiMetricd - OS::TripleO::Services::GnocchiStatsd - OS::TripleO::Services::HAproxy - OS::TripleO::Services::HeatApi - OS::TripleO::Services::HeatApiCloudwatch - OS::TripleO::Services::HeatApiCfn - OS::TripleO::Services::HeatEngine - OS::TripleO::Services::Horizon - OS::TripleO::Services::Ipsec - OS::TripleO::Services::IronicApi - OS::TripleO::Services::IronicConductor - OS::TripleO::Services::IronicInspector - OS::TripleO::Services::IronicPxe - OS::TripleO::Services::IronicNeutronAgent - OS::TripleO::Services::Iscsid - OS::TripleO::Services::Keepalived - OS::TripleO::Services::Kernel - OS::TripleO::Services::Keystone - OS::TripleO::Services::LoginDefs - OS::TripleO::Services::ManilaApi - OS::TripleO::Services::ManilaBackendCephFs - OS::TripleO::Services::ManilaBackendIsilon - OS::TripleO::Services::ManilaBackendNetapp - OS::TripleO::Services::ManilaBackendUnity - OS::TripleO::Services::ManilaBackendVNX - OS::TripleO::Services::ManilaBackendVMAX - OS::TripleO::Services::ManilaScheduler - OS::TripleO::Services::ManilaShare - OS::TripleO::Services::Memcached - OS::TripleO::Services::MetricsQdr - OS::TripleO::Services::MistralApi - OS::TripleO::Services::MistralEngine - OS::TripleO::Services::MistralExecutor - OS::TripleO::Services::MistralEventEngine - OS::TripleO::Services::MongoDb - OS::TripleO::Services::MySQL - OS::TripleO::Services::MySQLClient - OS::TripleO::Services::NeutronApi - OS::TripleO::Services::NeutronBgpVpnApi - OS::TripleO::Services::NeutronSfcApi - OS::TripleO::Services::NeutronCorePlugin - OS::TripleO::Services::NeutronDhcpAgent - OS::TripleO::Services::NeutronL2gwAgent - OS::TripleO::Services::NeutronL2gwApi - OS::TripleO::Services::NeutronL3Agent - OS::TripleO::Services::NeutronLbaasv2Agent - OS::TripleO::Services::NeutronLbaasv2Api - OS::TripleO::Services::NeutronLinuxbridgeAgent - OS::TripleO::Services::NeutronMetadataAgent - OS::TripleO::Services::NeutronML2FujitsuCfab - OS::TripleO::Services::NeutronML2FujitsuFossw - OS::TripleO::Services::NeutronOvsAgent - OS::TripleO::Services::NeutronVppAgent - OS::TripleO::Services::NovaApi - OS::TripleO::Services::NovaConductor - OS::TripleO::Services::NovaConsoleauth - OS::TripleO::Services::NovaIronic - OS::TripleO::Services::NovaMetadata - OS::TripleO::Services::NovaPlacement - OS::TripleO::Services::NovaScheduler - OS::TripleO::Services::NovaVncProxy - OS::TripleO::Services::Ntp - OS::TripleO::Services::ContainersLogrotateCrond - OS::TripleO::Services::OctaviaApi - OS::TripleO::Services::OctaviaDeploymentConfig - OS::TripleO::Services::OctaviaHealthManager - OS::TripleO::Services::OctaviaHousekeeping - OS::TripleO::Services::OctaviaWorker - OS::TripleO::Services::OpenDaylightApi - OS::TripleO::Services::OpenDaylightOvs - OS::TripleO::Services::OVNDBs - OS::TripleO::Services::OVNController - OS::TripleO::Services::Pacemaker - OS::TripleO::Services::PankoApi - OS::TripleO::Services::OsloMessagingRpc - OS::TripleO::Services::OsloMessagingNotify - OS::TripleO::Services::Redis - OS::TripleO::Services::Rhsm - OS::TripleO::Services::RsyslogSidecar - OS::TripleO::Services::SaharaApi - OS::TripleO::Services::SaharaEngine - OS::TripleO::Services::Securetty - OS::TripleO::Services::SensuClient - OS::TripleO::Services::SkydiveAgent - OS::TripleO::Services::SkydiveAnalyzer - OS::TripleO::Services::Snmp - OS::TripleO::Services::Sshd - OS::TripleO::Services::SwiftProxy - OS::TripleO::Services::SwiftDispersion - OS::TripleO::Services::SwiftRingBuilder - OS::TripleO::Services::SwiftStorage - OS::TripleO::Services::Tacker - OS::TripleO::Services::Timezone - OS::TripleO::Services::TripleoFirewall - OS::TripleO::Services::TripleoPackages - OS::TripleO::Services::Tuned - OS::TripleO::Services::Vpp - OS::TripleO::Services::Zaqar - OS::TripleO::Services::Xinetd ",,182,2
openstack%2Fcharm-specs~master~I093bc94525fc1b17ae4e0b1771a2e54c702cedf2,openstack/charm-specs,master,I093bc94525fc1b17ae4e0b1771a2e54c702cedf2,Add the new nova-lxd charm spec,ABANDONED,2019-01-23 14:58:21.000000000,2019-02-06 15:55:35.000000000,,"[{'_account_id': 7730}, {'_account_id': 20634}, {'_account_id': 20635}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-23 14:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/fca26ee4382e3ee4e75d222c1d37addc5762de8a', 'message': 'Add the new nova-lxd charm spec\n\nThe new nova-lxd charm replaces the existing lxd charm, is reactive,\nsupports LXD storage and manages snap or apt installed LXD.\n\nChange-Id: I093bc94525fc1b17ae4e0b1771a2e54c702cedf2\n'}, {'number': 2, 'created': '2019-01-30 17:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/e37cfbee0594612b0ffdc25f645e42924d78453c', 'message': 'Add the new nova-lxd charm spec\n\nThe new nova-lxd charm replaces the existing lxd charm, is reactive,\nsupports LXD storage and manages snap or apt installed LXD.\n\nChange-Id: I093bc94525fc1b17ae4e0b1771a2e54c702cedf2\n'}, {'number': 3, 'created': '2019-02-04 13:10:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/3f14eb91b393cc7bc598e4f52cd8a0f2a9115028', 'message': 'Add the new nova-lxd charm spec\n\nThe new nova-lxd charm replaces the existing lxd charm, is reactive,\nsupports LXD storage and manages snap or apt installed LXD.\n\nChange-Id: I093bc94525fc1b17ae4e0b1771a2e54c702cedf2\n'}, {'number': 4, 'created': '2019-02-06 10:52:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/58def8d4ee9a21f654ca9c316042e6d5ba916224', 'message': ""Add the new nova-lxd charm spec\n\nThe spec covers:\n\n* renaming the lxd charm to nova-lxd\n* Making the existing lxd charm a 'no-op upgrade' that won't upgrade in\n  existing installations, and does nothing in new installations, except\n  block with an error message.\n* Adds snap lxd installation ability.\n* Switches to lxd storage.\n\nChange-Id: I093bc94525fc1b17ae4e0b1771a2e54c702cedf2\n""}, {'number': 5, 'created': '2019-02-06 14:57:54.000000000', 'files': ['specs/stein/approved/nova-lxd-charm.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/3d3df24c4ae92fbb05c730df7b3e27afe201f071', 'message': ""Add the new nova-lxd charm spec\n\nThe spec covers:\n\n* renaming the lxd charm to nova-lxd\n* Making the existing lxd charm a 'no-op upgrade' that won't upgrade in\n  existing installations, and does nothing in new installations, except\n  block with an error message.\n* Adds snap lxd installation ability.\n* Switches to lxd storage.\n\nChange-Id: I093bc94525fc1b17ae4e0b1771a2e54c702cedf2\n""}]",29,632743,3d3df24c4ae92fbb05c730df7b3e27afe201f071,20,5,5,20870,,,0,"Add the new nova-lxd charm spec

The spec covers:

* renaming the lxd charm to nova-lxd
* Making the existing lxd charm a 'no-op upgrade' that won't upgrade in
  existing installations, and does nothing in new installations, except
  block with an error message.
* Adds snap lxd installation ability.
* Switches to lxd storage.

Change-Id: I093bc94525fc1b17ae4e0b1771a2e54c702cedf2
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/43/632743/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/approved/nova-lxd-charm.rst'],1,fca26ee4382e3ee4e75d222c1d37addc5762de8a,add-nova-lxd-charm-spec,".. Copyright 2019 Canonical Limited This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. This template should be in ReSTructured text. Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: ""None"". For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, see http://www.tele3.cz/jbar/rest/rest.html ============================================================ Deprecating the lxd charm and introducing the nova-lxd charm ============================================================ The initial 'push' to re-write the charm is to rename the charm to *nova-lxd* for several reasons: 1. The name *nova-lxd* better reflects that the charm is used with nova. It is confusing for users that the (currently named) *lxd* charm must be used with the *nova-compute* charm, and can't be used in a different environment. 2. It releases the name *lxd* for use as a general purpose charm for LXD, that could be created to allow clusters of LXD machines to configured with Juju and MaaS. 3. As a side benefit, it provides an opportunity to upgrade the charm to the ``charms.reactive`` framework, which will aid in support an maintenance as part of the OpenStack charms ecosystem. 4. It will support the the snap-installed version of LXD which will become the default for LXD, and is retro-fittable to trusty. Problem Description =================== LXD is switching to a snap-only installation option from Ubuntu 19.04 onwards (April 2019). The current ``lxd`` charm does not support snap installs. The snap installation of ``lxd`` is back-portable to *trusty* although it is only suggested to go back to *xenial*. The name of the charm as ``lxd`` is causing some confusion in the community as potential users are unaware that it is an OpenStack specific charm for nova as a subordinate. Therefore, changing the name of the charm to ``nova-lxd`` will help mitigate this confusion. LXD now has a richer storage model that when the original ``lxd`` charm was written. This could be retrofitted to the existing charm, but it is proposed to *only* support LXD storage (and thus LXD charms versions > 3.x) which will simplify how the charm is written. Proposed Change =============== The new *nova-lxd* charm will be a subordinate, ``charms.openstack`` based charm to install and configure the snap *or* packaged version of LXD to work with the *nova-compute* charm and, therefore, OpenStack nova-compute. It will be LXD storage 'aware' in that the charm will support configuration of the storage that the will be used. The charm will *not* include actions for configuring storage in this release; that will be possible using ``juju run`` commands against the unit and then configuring the storage parameter. **For reviewers:** One issue is how to upgrade from the ``lxd`` charm to the ``nova-lxd`` charm. If the same subordinate interfaces are used (lxd-migration, lxd) are used (recommended) then the existing charm could be removed and then the new one added to ""take over"" the configuration. However, a sentinel of some kind (say an empty .touch-file) then it might be possible to migrate to the new charm. Implementation ============== Assignee(s) ----------- Primary assignee: ajkavanagh Gerrit Topic ------------ Use Gerrit topic ""nova-lxd-charm"" for all patches related to this spec. .. code-block:: bash git-review -t nova-lxd-charm Work Items ---------- 1. Create project for nova-lxd charm on OpenStack on gerrit 2. Create launchpad project for nova-lxd charm 3. Write nova-lxd charm 4. Write zaza tests for nova-lxd 5. **For reviewers** Test against xenial -> cosmic (don't support trusty?? -- trusty snap LXD is much harder! -- there's quite a lot of additional work to get the snap to run on trusty, so the question is: do we want to support it / the trusty package version (2.x) doesn't support LXD storage, and I'd like this charm to be LXD storage only. 6. Put a deprecation notice into the existing ``lxd`` charm, that it is to be removed and to replace it by ``nova-lxd``, Notice to go in the log and on the status line (perhaps that's too much!) Repositories ------------ New git repository: openstack/charm-nova-lxd Documentation ------------- Will this require a documentation change? If so, which documents? Will it impact developer workflow? Will additional communication need to be made? -- here 1. Add notes the the Charm Deployment Guide about the new charm. 2. Add notes to the upgrades section to discuss how to upgrade from ``lxd`` to ``nova-lxd``, what issues may occur, and how to recover the situation. Security -------- None noted. Testing ------- 1. The charm will have unit tests and pep8 conformance tests. 2. The charm will use the zaza testing framework with appropriate bundles to test on xenial-mitaka to bionic-rocky as a gate, and a cosmic-stein as a dev-test. No additional testing services other than UOSCI will be necessary. Dependencies ============ None noted. ",,146,0
openstack%2Fopenstack-ansible-os_ceilometer~master~I64d63352a7a8afab86deb86cd3e6d5e1f6387d08,openstack/openstack-ansible-os_ceilometer,master,I64d63352a7a8afab86deb86cd3e6d5e1f6387d08,Fixes gnocchi resource-type list being empty after setup,MERGED,2019-01-14 17:45:31.000000000,2019-02-06 15:23:14.000000000,2019-02-06 15:13:39.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-01-14 17:45:31.000000000', 'files': ['tasks/ceilometer_db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/31378141ab8cecc37624fe93d23eddc646f2f084', 'message': ""Fixes gnocchi resource-type list being empty after setup\n\nWe don't have /etc/ceilometer/gnocchi_resources.yaml by default,\nand this file is not currently distributed.\nSo after gnocchi and ceilometer setup, ceilometer-upgrade is not runned,\nwhich results in empty resource-type.\n\nThis patch checks gnocchi_resources.yaml in it's default location\nrather than in etc.\n\nChange-Id: I64d63352a7a8afab86deb86cd3e6d5e1f6387d08\n""}]",0,630747,31378141ab8cecc37624fe93d23eddc646f2f084,10,4,1,28619,,,0,"Fixes gnocchi resource-type list being empty after setup

We don't have /etc/ceilometer/gnocchi_resources.yaml by default,
and this file is not currently distributed.
So after gnocchi and ceilometer setup, ceilometer-upgrade is not runned,
which results in empty resource-type.

This patch checks gnocchi_resources.yaml in it's default location
rather than in etc.

Change-Id: I64d63352a7a8afab86deb86cd3e6d5e1f6387d08
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/47/630747/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/ceilometer_db_setup.yml'],1,31378141ab8cecc37624fe93d23eddc646f2f084,," path: ""{{ ceilometer_lib_dir }}/ceilometer/publisher/data/gnocchi_resources.yaml"""," path: ""/etc/ceilometer/gnocchi_resources.yaml""",1,1
openstack%2Fpuppet-barbican~stable%2Frocky~Ifb9104523f5f4c44bf14d150a7189ccfebafb6bf,openstack/puppet-barbican,stable/rocky,Ifb9104523f5f4c44bf14d150a7189ccfebafb6bf,Add barbican::worker class,MERGED,2019-02-05 08:40:57.000000000,2019-02-06 15:18:00.000000000,2019-02-06 15:18:00.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-05 08:40:57.000000000', 'files': ['manifests/worker.pp', 'spec/classes/barbican_worker_spec.rb', 'releasenotes/notes/worker-class-a35a35e71399695f.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/40e80e25f980746b3282c43e5dcb32ab192046e9', 'message': 'Add barbican::worker class\n\nAdds new barbican::worker class that can be used to manage\nthe package and service for barbican-worker.\n\nChange-Id: Ifb9104523f5f4c44bf14d150a7189ccfebafb6bf\n(cherry picked from commit 34e6f3a462484a9477950bace67cfc943ae7c07d)\n'}]",0,634886,40e80e25f980746b3282c43e5dcb32ab192046e9,7,3,1,20676,,,0,"Add barbican::worker class

Adds new barbican::worker class that can be used to manage
the package and service for barbican-worker.

Change-Id: Ifb9104523f5f4c44bf14d150a7189ccfebafb6bf
(cherry picked from commit 34e6f3a462484a9477950bace67cfc943ae7c07d)
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/86/634886/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/worker.pp', 'spec/classes/barbican_worker_spec.rb', 'releasenotes/notes/worker-class-a35a35e71399695f.yaml']",3,40e80e25f980746b3282c43e5dcb32ab192046e9,worker-stable/rocky,--- features: - | Added new class barbican::worker which can be used to manage the package and service for the barbican-worker. ,,170,0
openstack%2Ftripleo-heat-templates~master~Ie7284ffe0268ff6d76e72b74e4a88fa86000554a,openstack/tripleo-heat-templates,master,Ie7284ffe0268ff6d76e72b74e4a88fa86000554a,Remove unneeded iptables mount points,MERGED,2019-02-05 07:55:15.000000000,2019-02-06 15:06:53.000000000,2019-02-06 15:06:53.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-05 07:55:15.000000000', 'files': ['deployment/haproxy/haproxy-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1814b3032f25d722c460a030ced00a8ff7f8325f', 'message': 'Remove unneeded iptables mount points\n\nWith ca041e2c41e84 we moved the iptables rule creation to the host.\nWe can now remove the bind mounts that were needed to call iptables\nfrom inside a container.\n\nChange-Id: Ie7284ffe0268ff6d76e72b74e4a88fa86000554a\n'}]",0,634871,1814b3032f25d722c460a030ced00a8ff7f8325f,11,7,1,20172,,,0,"Remove unneeded iptables mount points

With ca041e2c41e84 we moved the iptables rule creation to the host.
We can now remove the bind mounts that were needed to call iptables
from inside a container.

Change-Id: Ie7284ffe0268ff6d76e72b74e4a88fa86000554a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/71/634871/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/haproxy/haproxy-pacemaker-puppet.yaml'],1,1814b3032f25d722c460a030ced00a8ff7f8325f,noiptablesmounts,," # puppet saves iptables rules in /etc/sysconfig - /etc/sysconfig:/etc/sysconfig:rw # saving rules require accessing /usr/libexec/iptables/iptables.init, just bind-mount # the necessary bit and prevent systemd to try to reload the service in the container - /usr/libexec/iptables:/usr/libexec/iptables:ro - /usr/libexec/initscripts/legacy-actions:/usr/libexec/initscripts/legacy-actions:ro # Needed in order to call system iptables in order to ensure # we have kernel compatible modules # See https://bugzilla.redhat.com/show_bug.cgi?id=1665598 - /lib/modules:/lib/modules:ro",0,10
openstack%2Fopenstack-ansible-tests~master~I38ad0cc974531075785e33f3946310f933a11d92,openstack/openstack-ansible-tests,master,I38ad0cc974531075785e33f3946310f933a11d92,Add tempest_service_available_mistral variable,ABANDONED,2019-02-06 14:55:04.000000000,2019-02-06 15:01:21.000000000,,[],"[{'number': 1, 'created': '2019-02-06 14:55:04.000000000', 'files': ['test-vars.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/c3f65968d6805f4c77062f641025914663fdc3fb', 'message': 'Add tempest_service_available_mistral variable\n\nThis patch adds tempest_service_available_mistral which will check\nfor the mistral_all group which is needed to install the needed\npackages for testing mistral under distribution.\n\nChange-Id: I38ad0cc974531075785e33f3946310f933a11d92\n'}]",0,635176,c3f65968d6805f4c77062f641025914663fdc3fb,2,0,1,1004,,,0,"Add tempest_service_available_mistral variable

This patch adds tempest_service_available_mistral which will check
for the mistral_all group which is needed to install the needed
packages for testing mistral under distribution.

Change-Id: I38ad0cc974531075785e33f3946310f933a11d92
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/76/635176/1 && git format-patch -1 --stdout FETCH_HEAD,['test-vars.yml'],1,c3f65968d6805f4c77062f641025914663fdc3fb,,"tempest_service_available_mistral: ""{{ ((groups['mistral_all'] is defined) and (groups['mistral_all'] | length > 0)) }}""",,1,0
openstack%2Fopenstack-helm-infra~master~I46dbb4c45b0b96f5cf555077e49d2e09a1171424,openstack/openstack-helm-infra,master,I46dbb4c45b0b96f5cf555077e49d2e09a1171424,[CEPH] Extend RadosGW S3 configuration support,MERGED,2019-02-02 14:24:32.000000000,2019-02-06 14:50:36.000000000,2019-02-04 22:27:13.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 24165}, {'_account_id': 28372}, {'_account_id': 29132}, {'_account_id': 29268}]","[{'number': 1, 'created': '2019-02-02 14:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/47bb61125c8139188916b88f639af14a27ee5eb0', 'message': '[WIP] [CEPH] Extend RadosGW S3 configuration support\n\n- Support using an overridable S3 configuration for RadosGW\n- Copy tuning params that are not specifc to Keystone to S3\n- Make sure an init script runs for both S3 and Keystone\n\nChange-Id: I46dbb4c45b0b96f5cf555077e49d2e09a1171424\n'}, {'number': 2, 'created': '2019-02-02 18:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0f7ebef87f04edf89d538a557834b29c06e7ce68', 'message': '[CEPH] Extend RadosGW S3 configuration support\n\n- Support using custom parms for S3 configurations\n- Copy tuning params that are not specifc to Keystone to S3\n- Cleanup the rgw helm tests, since copying the ceph admin key is\nno longer required\n- Add an rgw helm test check for the osh-infra-logging gates\n\nChange-Id: I46dbb4c45b0b96f5cf555077e49d2e09a1171424\n'}, {'number': 3, 'created': '2019-02-02 18:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d60405bf70c93970eb3164bf83874c44bf4b78d4', 'message': '[CEPH] Extend RadosGW S3 configuration support\n\n- Support using custom client params for S3 configurations\n- Copy tuned client params that are not specifc to Keystone to S3\n- Cleanup the rgw helm tests, since copying the ceph admin key is\nno longer required\n- Add an rgw helm test check for the osh-infra-logging gates\n\nChange-Id: I46dbb4c45b0b96f5cf555077e49d2e09a1171424\n'}, {'number': 4, 'created': '2019-02-04 14:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0c8cbf9b9980babda73f02839e89fa02f1524fc6', 'message': '[CEPH] Extend RadosGW S3 configuration support\n\n- Support using custom client params for S3 configurations\n- Copy tuned client params that are not specifc to Keystone to S3\n- Cleanup the rgw helm tests, since copying the ceph admin key is\nno longer required\n- Cleanup duplicate portions of the code for configuring the RGW\nbackend and frontend port\n- Add an rgw helm test check for the osh-infra-logging gates\n\nChange-Id: I46dbb4c45b0b96f5cf555077e49d2e09a1171424\n'}, {'number': 5, 'created': '2019-02-04 15:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/80538867a227b8262153c23367def03a410b9249', 'message': '[CEPH] Extend RadosGW S3 configuration support\n\n- Support using custom client params for S3 configurations\n- Move common tuning for S3 and Keystone into there own\nconfiguration option\n- Cleanup the rgw helm tests, since copying the ceph admin key is\nno longer required\n- Cleanup duplicate portions of the code for configuring the RGW\nbackend and frontend port\n- Add an rgw helm test check for the osh-infra-logging gates\n\nChange-Id: I46dbb4c45b0b96f5cf555077e49d2e09a1171424\n'}, {'number': 6, 'created': '2019-02-04 20:08:15.000000000', 'files': ['ceph-rgw/templates/configmap-bin.yaml', 'ceph-rgw/templates/bin/rgw/_init.sh.tpl', 'tools/deployment/osh-infra-logging/030-radosgw-osh-infra.sh', 'ceph-rgw/templates/bin/rgw/_start.sh.tpl', 'ceph-rgw/values.yaml', 'ceph-rgw/templates/pod-helm-tests.yaml', 'ceph-rgw/templates/deployment-rgw.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ff18dbe5fd67436e56e808b52f5345466d7d54b1', 'message': '[CEPH] Extend RadosGW S3 configuration support\n\n- Support using custom client params for S3 configurations\n- Move common tuning for S3 and Keystone into there own\nconfiguration option\n- Cleanup the rgw helm tests, since copying the ceph admin key is\nno longer required\n- Cleanup duplicate portions of the code for configuring the RGW\nbackend and frontend port\n- Add an rgw helm test check for the osh-infra-logging gates\n\nChange-Id: I46dbb4c45b0b96f5cf555077e49d2e09a1171424\n'}]",10,634562,ff18dbe5fd67436e56e808b52f5345466d7d54b1,30,10,6,29268,,,0,"[CEPH] Extend RadosGW S3 configuration support

- Support using custom client params for S3 configurations
- Move common tuning for S3 and Keystone into there own
configuration option
- Cleanup the rgw helm tests, since copying the ceph admin key is
no longer required
- Cleanup duplicate portions of the code for configuring the RGW
backend and frontend port
- Add an rgw helm test check for the osh-infra-logging gates

Change-Id: I46dbb4c45b0b96f5cf555077e49d2e09a1171424
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/62/634562/2 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-rgw/templates/configmap-bin.yaml', 'ceph-rgw/templates/bin/rgw/_init.sh.tpl', 'ceph-rgw/templates/bin/rgw/_start.sh.tpl', 'ceph-rgw/values.yaml', 'ceph-rgw/templates/deployment-rgw.yaml']",5,47bb61125c8139188916b88f639af14a27ee5eb0,rgw-s3-config, - name: ceph-rgw-init{{ if .Values.conf.rgw_ks.enabled }}{{ end }} - /tmp/rgw-init.sh mountPath: /tmp/rgw-init.sh subPath: rgw-init.sh mountPath: /etc/ceph/ceph.conf.template mountPath: /etc/ceph/ceph.conf.template,{{ if .Values.conf.rgw_ks.enabled }} - name: ceph-rgw-ks-init - /tmp/rgw-init-keystone.sh mountPath: /tmp/rgw-init-keystone.sh subPath: rgw-init-keystone.sh mountPath: /tmp/ceph.conf{{ end }}{{- if not .Values.conf.rgw_ks.enabled }} mountPath: /etc/ceph/ceph.conf{{- end }},34,15
openstack%2Ftelemetry-tempest-plugin~master~I5a24e91540d6e6cb25c230b1917a3036d8373321,openstack/telemetry-tempest-plugin,master,I5a24e91540d6e6cb25c230b1917a3036d8373321,Change openstack-dev to openstack-discuss,MERGED,2018-12-04 11:48:28.000000000,2019-02-06 14:40:39.000000000,2019-02-06 14:40:39.000000000,"[{'_account_id': 1669}, {'_account_id': 2813}, {'_account_id': 10311}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 27078}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-12-04 11:48:28.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/42444f46afe2bdefca59c2f0f42644575379d5a0', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: I5a24e91540d6e6cb25c230b1917a3036d8373321\n'}]",0,622249,42444f46afe2bdefca59c2f0f42644575379d5a0,10,7,1,26297,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: I5a24e91540d6e6cb25c230b1917a3036d8373321
",git fetch https://review.opendev.org/openstack/telemetry-tempest-plugin refs/changes/49/622249/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,42444f46afe2bdefca59c2f0f42644575379d5a0,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Frpm-packaging~stable%2Frocky~I17343b02b33cf9214f768c52b2c354bbbb2fbfcf,openstack/rpm-packaging,stable/rocky,I17343b02b33cf9214f768c52b2c354bbbb2fbfcf,Update rocky versions to u-c versions,MERGED,2019-02-06 05:32:39.000000000,2019-02-06 14:38:10.000000000,2019-02-06 14:38:10.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-06 05:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d89f0b0ca1ff953657c936a652b19f18f2d3d4a6', 'message': 'ironic-lib: Update to 2.14.1\n\nChange-Id: I17343b02b33cf9214f768c52b2c354bbbb2fbfcf\n'}, {'number': 2, 'created': '2019-02-06 05:39:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/dbef756cb17d79160ee3be53599a6f3cc25e89ff', 'message': 'Update rocky versions to u-c versions\n\nBring the package versions in sync with the upper-constraints versions\nfor stable/rocky .\n\nChange-Id: I17343b02b33cf9214f768c52b2c354bbbb2fbfcf\n'}, {'number': 3, 'created': '2019-02-06 09:02:37.000000000', 'files': ['openstack/ironic-lib/ironic-lib.spec.j2', 'openstack/oslo.cache/oslo.cache.spec.j2', 'openstack/python-barbicanclient/python-barbicanclient.spec.j2', 'openstack/os-brick/os-brick.spec.j2', 'openstack/python-glanceclient/python-glanceclient.spec.j2', 'openstack/oslo.service/oslo.service.spec.j2', 'openstack/oslo.config/oslo.config.spec.j2', 'openstack/python-ironicclient/python-ironicclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ff4c4cdfb6c9de157993740255693f8fa55c36ae', 'message': 'Update rocky versions to u-c versions\n\nBring the package versions in sync with the upper-constraints versions\nfor stable/rocky .\n\nChange-Id: I17343b02b33cf9214f768c52b2c354bbbb2fbfcf\n'}]",0,635091,ff4c4cdfb6c9de157993740255693f8fa55c36ae,17,6,3,7102,,,0,"Update rocky versions to u-c versions

Bring the package versions in sync with the upper-constraints versions
for stable/rocky .

Change-Id: I17343b02b33cf9214f768c52b2c354bbbb2fbfcf
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/91/635091/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/ironic-lib/ironic-lib.spec.j2'],1,d89f0b0ca1ff953657c936a652b19f18f2d3d4a6,stable-rocky,Version: 2.14.1,Version: 2.14.0,1,1
openstack%2Fneutron~master~Ie9ba2a8ffebfcc3bfb35f7a48f73a25352309b4e,openstack/neutron,master,Ie9ba2a8ffebfcc3bfb35f7a48f73a25352309b4e,Change log level for l3 agent router updates,MERGED,2019-01-22 12:47:21.000000000,2019-02-06 14:10:49.000000000,2019-02-06 14:10:49.000000000,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 6593}, {'_account_id': 7872}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 25618}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-01-22 12:47:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eb2a5656301851f881c2afa2e577af76a468a4f8', 'message': 'Change log level for l3 agent router updates\n\nIn case of a l3 agent sync it is important to understand when\na router is processing an update to identify when it applies\nchanges that can cause failovers or service interruptions.\n\nChange-Id: Ie9ba2a8ffebfcc3bfb35f7a48f73a25352309b4e\n'}, {'number': 2, 'created': '2019-01-22 15:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/316e00d7b1f6ec405f237a889da03e31b5115d8d', 'message': 'Raise log level for l3 agent router updates\n\nIn case of a l3 agent sync it is important to understand when\na router is processing an update to identify when it applies\nchanges that can cause failovers or service interruptions.\n\nChange-Id: Ie9ba2a8ffebfcc3bfb35f7a48f73a25352309b4e\n'}, {'number': 3, 'created': '2019-02-04 07:52:34.000000000', 'files': ['neutron/agent/l3/agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/64f2fe70600d95f9ddd178d166b5bab4184a9bbd', 'message': 'Change log level for l3 agent router updates\n\nIn case of an l3 agent sync it is important to understand when\na router is processing an update to identify when it applies\nchanges that can cause failovers.\n\nChange-Id: Ie9ba2a8ffebfcc3bfb35f7a48f73a25352309b4e\n'}]",1,632455,64f2fe70600d95f9ddd178d166b5bab4184a9bbd,52,12,3,7872,,,0,"Change log level for l3 agent router updates

In case of an l3 agent sync it is important to understand when
a router is processing an update to identify when it applies
changes that can cause failovers.

Change-Id: Ie9ba2a8ffebfcc3bfb35f7a48f73a25352309b4e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/55/632455/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/agent.py'],1,eb2a5656301851f881c2afa2e577af76a468a4f8,log_l3_agt," LOG.info(""Starting router update for %s, action %s, priority %s"", update.id, update.action, update.priority) LOG.info(""Finished a router update for %s"", update.id) LOG.info(""Finished a router update for %s"", update.id) LOG.info(""Finished a router update for %s"", update.id)"," LOG.debug(""Starting router update for %s, action %s, priority %s"", update.id, update.action, update.priority) LOG.debug(""Finished a router update for %s"", update.id) LOG.debug(""Finished a router update for %s"", update.id) LOG.debug(""Finished a router update for %s"", update.id)",5,5
openstack%2Ftripleo-common~stable%2Frocky~I3d9a79f252922daff566bac5ba3b42c0d0e1550c,openstack/tripleo-common,stable/rocky,I3d9a79f252922daff566bac5ba3b42c0d0e1550c,Bump the Ceph container image to 3.2.1,MERGED,2019-01-31 16:18:49.000000000,2019-02-06 14:10:08.000000000,2019-02-06 14:10:08.000000000,"[{'_account_id': 6796}, {'_account_id': 10873}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-31 16:18:49.000000000', 'files': ['container-images/container_image_prepare_defaults.yaml', 'container-images/overcloud_containers.yaml', 'tripleo_common/tests/image/test_kolla_builder.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/70a5be49b396964b6a053484b92a88343bf386af', 'message': 'Bump the Ceph container image to 3.2.1\n\nChange-Id: I3d9a79f252922daff566bac5ba3b42c0d0e1550c\n(cherry picked from commit ce3f4639a1b60aebf5025cc5f1d202cb0ea67841)\n'}]",0,634260,70a5be49b396964b6a053484b92a88343bf386af,9,5,1,6796,,,0,"Bump the Ceph container image to 3.2.1

Change-Id: I3d9a79f252922daff566bac5ba3b42c0d0e1550c
(cherry picked from commit ce3f4639a1b60aebf5025cc5f1d202cb0ea67841)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/60/634260/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/container_image_prepare_defaults.yaml', 'container-images/overcloud_containers.yaml', 'tripleo_common/tests/image/test_kolla_builder.py']",3,70a5be49b396964b6a053484b92a88343bf386af,," 'ceph_tag': 'v3.2.1-stable-3.2-luminous-centos-7-x86_64',"," 'ceph_tag': 'v3.2.0-stable-3.2-luminous-centos-7-x86_64',",3,3
openstack%2Fcinder~stable%2Fpike~I2a6643ab4827dae244212c90c73402ff6d61cf76,openstack/cinder,stable/pike,I2a6643ab4827dae244212c90c73402ff6d61cf76,Update unity tests to use our test base,MERGED,2018-12-14 08:41:16.000000000,2019-02-06 14:07:58.000000000,2019-01-07 22:26:37.000000000,"[{'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 15670}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 26077}, {'_account_id': 26458}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-12-14 08:41:16.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/unity/test_adapter.py', 'cinder/volume/drivers/dell_emc/unity/adapter.py', 'cinder/volume/drivers/dell_emc/unity/driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9bc2df409a25b0e209c79c065927a3d60f97b165', 'message': 'Update unity tests to use our test base\n\nDeprecation warnings were being emitted due to use of assertRaisesRegex,\neven though a py2/3 wrapper was created in\nI3cf8e29184a68a07d35fb121c816e40b89df393e. This was due to the Unity\ntests inheriting from unittest.TestCase instead of our own base TestCase.\n\nSwitched test cases over to use cinder.test.TestCase gets rid of the\ndeprecation warning for assertRaisesRegex.\n\nOur base test installs a logging fixture to make sure log messages are\nOK. This uncovered that the driver code was trying to pass an object in\nas if it were a dict of formatting values, resulting in an error. This\npatch fixes this my creating a dict of the needed values to pass in so\nthe tests will pass under the new inheritance.\n\nChange-Id: I2a6643ab4827dae244212c90c73402ff6d61cf76\n(cherry picked from commit 406959ad1c0e69e03df521ac3712c66fdbf61873)\n'}]",0,625181,9bc2df409a25b0e209c79c065927a3d60f97b165,21,18,1,26114,,,0,"Update unity tests to use our test base

Deprecation warnings were being emitted due to use of assertRaisesRegex,
even though a py2/3 wrapper was created in
I3cf8e29184a68a07d35fb121c816e40b89df393e. This was due to the Unity
tests inheriting from unittest.TestCase instead of our own base TestCase.

Switched test cases over to use cinder.test.TestCase gets rid of the
deprecation warning for assertRaisesRegex.

Our base test installs a logging fixture to make sure log messages are
OK. This uncovered that the driver code was trying to pass an object in
as if it were a dict of formatting values, resulting in an error. This
patch fixes this my creating a dict of the needed values to pass in so
the tests will pass under the new inheritance.

Change-Id: I2a6643ab4827dae244212c90c73402ff6d61cf76
(cherry picked from commit 406959ad1c0e69e03df521ac3712c66fdbf61873)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/625181/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/unity/test_adapter.py', 'cinder/volume/drivers/dell_emc/unity/adapter.py', 'cinder/volume/drivers/dell_emc/unity/driver.py']",3,9bc2df409a25b0e209c79c065927a3d60f97b165,, 2.0.5 - Update unity tests to use Unity test base. Fixes logging issue of volume creation. VERSION = '02.00.05', VERSION = '02.00.04',17,6
openstack%2Fpaunch~master~I22b065794665d936c28f50ec8cddc1cfc5068a34,openstack/paunch,master,I22b065794665d936c28f50ec8cddc1cfc5068a34,Fallback to force-stop of containers,ABANDONED,2019-02-04 15:33:40.000000000,2019-02-06 13:56:03.000000000,,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-02-04 15:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/4882e1d258af09adcf2a9bb620e5f4d4e58ddc31', 'message': 'Fallback to force-stop of containers\n\nWhen a container cannot be stopped gracefully,\nfallback to stopping it forcibly. If latter fails as well,\nraise an exception to fail the ongoing deployment early.\n\nChange-Id: I22b065794665d936c28f50ec8cddc1cfc5068a34\nCloses-Bug: #1814533\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2019-02-05 14:39:57.000000000', 'files': ['paunch/tests/test_runner.py', 'paunch/runner.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/e767e2aecb885256e35c0fcd24a849a5707b6934', 'message': 'Fallback to force-stop of containers\n\nWhen a container cannot be stopped gracefully,\nfallback to stopping it forcibly. If latter fails as well,\nraise an exception to fail the ongoing deployment early.\n\nChange-Id: I22b065794665d936c28f50ec8cddc1cfc5068a34\nCloses-Bug: #1814533\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",1,634720,e767e2aecb885256e35c0fcd24a849a5707b6934,9,7,2,6926,,,0,"Fallback to force-stop of containers

When a container cannot be stopped gracefully,
fallback to stopping it forcibly. If latter fails as well,
raise an exception to fail the ongoing deployment early.

Change-Id: I22b065794665d936c28f50ec8cddc1cfc5068a34
Closes-Bug: #1814533
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/paunch refs/changes/20/634720/2 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/tests/test_runner.py', 'paunch/runner.py', 'paunch/tests/test_builder_base.py']",3,4882e1d258af09adcf2a9bb620e5f4d4e58ddc31,bug/1814533," @mock.patch('paunch.runner.BaseRunner._create_container_stop_config') def test_apply_idempotency(self, genconf): genconf.return_value = { 'five': { 'stop_signal': 'SIGTERM', 'stop_grace_period': '10s', }, 'six': { 'stop_signal': 'SIGTERM', 'stop_grace_period': '10s', }, 'two-12345678': { 'stop_signal': 'SIGKILL', 'stop_grace_period': '1m2s', }, }", def test_apply_idempotency(self):,82,16
openstack%2Ftripleo-heat-templates~master~I388d99f5ec9235fd251da57f9a48ec064b7efac3,openstack/tripleo-heat-templates,master,I388d99f5ec9235fd251da57f9a48ec064b7efac3,Disable tacker for sceanrio007,ABANDONED,2019-02-06 13:28:34.000000000,2019-02-06 13:54:17.000000000,,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9196}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-02-06 13:28:34.000000000', 'files': ['ci/environments/scenario007-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4895a5a336bcdb723c4aa6aa6bce2a2b9826da47', 'message': ""Disable tacker for sceanrio007\n\nAfter flatten tacker it's containerize by default but this is a wip [1]\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1714270\n\nChange-Id: I388d99f5ec9235fd251da57f9a48ec064b7efac3\nCloses-Bug: 1814852\n""}]",2,635155,4895a5a336bcdb723c4aa6aa6bce2a2b9826da47,3,9,1,27898,,,0,"Disable tacker for sceanrio007

After flatten tacker it's containerize by default but this is a wip [1]

[1] https://bugs.launchpad.net/tripleo/+bug/1714270

Change-Id: I388d99f5ec9235fd251da57f9a48ec064b7efac3
Closes-Bug: 1814852
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/635155/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario007-multinode-containers.yaml'],1,4895a5a336bcdb723c4aa6aa6bce2a2b9826da47,bug/1814852, # TODO: takcer still wip https://bugs.launchpad.net/tripleo/+bug/1714270 # OS::TripleO::Services::Tacker: ../../puppet/services/tacker.yaml OS::TripleO::Services::Tacker: OS::Heat::None, OS::TripleO::Services::Tacker: ../../puppet/services/tacker.yaml,3,1
openstack%2Fproject-config~master~I8f3be57bb916dc42224cb1382a02b78f77d1b151,openstack/project-config,master,I8f3be57bb916dc42224cb1382a02b78f77d1b151,Remove legacy-tempest-dsvm-full-drbd-devstack,MERGED,2019-02-05 16:32:07.000000000,2019-02-06 13:52:43.000000000,2019-02-06 13:52:42.000000000,"[{'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-05 16:32:07.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a182892929671c8d5396da0302e57c45f3a5ad2e', 'message': 'Remove legacy-tempest-dsvm-full-drbd-devstack\n\nThe DRBD driver has been deprecated and replaced with the new LINSTOR\ndriver in Cinder. The drbd-devstack repo will be cleaned up later, but\nfor now we can get rid of the tempest job for this driver since it is no\nlonger supported.\n\nChange-Id: I8f3be57bb916dc42224cb1382a02b78f77d1b151\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,634972,a182892929671c8d5396da0302e57c45f3a5ad2e,9,4,1,11904,,,0,"Remove legacy-tempest-dsvm-full-drbd-devstack

The DRBD driver has been deprecated and replaced with the new LINSTOR
driver in Cinder. The drbd-devstack repo will be cleaned up later, but
for now we can get rid of the tempest job for this driver since it is no
longer supported.

Change-Id: I8f3be57bb916dc42224cb1382a02b78f77d1b151
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/72/634972/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,a182892929671c8d5396da0302e57c45f3a5ad2e,drdb_deprecated,, - legacy-tempest-dsvm-full-drbd-devstack: irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ voting: false,0,5
openstack%2Fcloudkitty~master~I66df3e180851e08e8c6acb1907028883b547d963,openstack/cloudkitty,master,I66df3e180851e08e8c6acb1907028883b547d963,Update the hashmap module documentation,MERGED,2019-01-04 10:36:40.000000000,2019-02-06 13:46:36.000000000,2019-02-06 13:46:36.000000000,"[{'_account_id': 9642}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-01-04 10:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/18aadcdfa2b09f0ad1eacd7585e8145757f0f1f4', 'message': 'Update the hashmap module documentation\n\nThis updates the following parts of the hashmap module documentation:\n\n* A few typos have been fixed and some weird sentences have been rephrased.\n\n* Some config examples have been added.\n\n* Obsolete information ahs been removed.\n\n* Details about how hashmap services should be called have been added.\n\nChange-Id: I66df3e180851e08e8c6acb1907028883b547d963\nStory: 2004179\nTask: 2004179\n'}, {'number': 2, 'created': '2019-01-04 10:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/97a526ff407e14d4f4507c9c51cd728be6fdcb7d', 'message': 'Update the hashmap module documentation\n\nThis updates the following parts of the hashmap module documentation:\n\n* A few typos have been fixed and some weird sentences have been rephrased.\n\n* Some config examples have been added.\n\n* Obsolete information ahs been removed.\n\n* Details about how hashmap services should be called have been added.\n\nChange-Id: I66df3e180851e08e8c6acb1907028883b547d963\nStory: 2004179\nTask: 28719\n'}, {'number': 3, 'created': '2019-02-04 12:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/a1a1fc79b2395ed5973de196417d76adfe1c6953', 'message': 'Update the hashmap module documentation\n\nThis updates the following parts of the hashmap module documentation:\n\n* A few typos have been fixed and some weird sentences have been rephrased.\n\n* Some config examples have been added.\n\n* Obsolete information has been removed.\n\n* Details about how hashmap services should be called have been added.\n\nChange-Id: I66df3e180851e08e8c6acb1907028883b547d963\nStory: 2004179\nTask: 28719\n'}, {'number': 4, 'created': '2019-02-05 15:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/e43acce61a1fe03535a2ba5b8ad2fc38cc2c43cb', 'message': 'Update the hashmap module documentation\n\nThis updates the following parts of the hashmap module documentation:\n\n* A few typos have been fixed and some weird sentences have been rephrased.\n\n* Some config examples have been added.\n\n* Obsolete information has been removed.\n\n* Details about how hashmap services should be called have been added.\n\nChange-Id: I66df3e180851e08e8c6acb1907028883b547d963\nStory: 2004179\nTask: 28719\n'}, {'number': 5, 'created': '2019-02-06 10:35:00.000000000', 'files': ['doc/source/index.rst', 'doc/source/user/rating/hashmap.rst'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/a9dbe07d4128b54169dbfa767b8530953af3ed59', 'message': 'Update the hashmap module documentation\n\nThis updates the following parts of the hashmap module documentation:\n\n* A few typos have been fixed and some weird sentences have been rephrased.\n\n* Some config examples have been added.\n\n* Obsolete information has been removed.\n\n* Details about how hashmap services should be called have been added.\n\nChange-Id: I66df3e180851e08e8c6acb1907028883b547d963\nStory: 2004179\nTask: 28719\n'}]",11,628393,a9dbe07d4128b54169dbfa767b8530953af3ed59,18,4,5,23060,,,0,"Update the hashmap module documentation

This updates the following parts of the hashmap module documentation:

* A few typos have been fixed and some weird sentences have been rephrased.

* Some config examples have been added.

* Obsolete information has been removed.

* Details about how hashmap services should be called have been added.

Change-Id: I66df3e180851e08e8c6acb1907028883b547d963
Story: 2004179
Task: 28719
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/93/628393/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/rating/hashmap.rst'],1,18aadcdfa2b09f0ad1eacd7585e8145757f0f1f4,,"to apply a set of rules to charge instance uptime and another set to blockSee **mappings** for information about how groups impact rating. A service is a way to map a rule to the type of data collected. One hashmap service must be created for each metric type you want to rate. If the metric has an ``alt_name``, the name of the hashmap service must match the ``alt_name``. If no ``alt_name`` is provided, use the name of the metric. Example with the default configuration: .. code-block:: yaml metrics: cpu: unit: instance alt_name: instance # [...] image.size: unit: MiB # [...] In this case, ``cpu`` has an alt_name and ``image.size`` hasn't. Thus, the hashmap service for the cpu metric must be called ``instance`` and the service for images must be called ``image.size``.instance object (in the ``instance`` service), you can use the flavor to define specific rules. Each ``groupby`` and ``metadata`` attribute specified in the configuration can be used for a field: .. code-block:: yaml metrics: cpu: unit: instance alt_name: instance groupby: - id - project_id metadata: - flavor_id # [...] volume.size: unit: GiB groupby: - id - project_id metadata: - volume_type # [...] With the configuration above, the ``instance`` service could have the following fields: * id * project_id * flavor_id The ``volume.size`` service could have the following fields: * id * project_id * volume_type In this case, ``flavor_id`` and ``volume_type`` can be used to apply a different pricing based on the flavor of an instance or the type of a volume. There are two kinds of mappings: **field** and **service** mappings. Field mappings ++++++++++++++ A field mapping is used to match a resource's attributes. For example, if you have three volume types on which you want to apply distinct rating rules, you must proceed in the following way: 1. Create a hashmap service matching the name or ``alt_name`` of the volume metric (``volume.size`` with default gnocchi). 2. In that service, create a field with the name of the volume type metadata (``volume_type`` with default gnocchi). 3. In that field, create one mapping per possible value of the ``volume_type`` metadata. Example: * ``SSD_gold``: 0.03 * ``SSD_silver``: 0.02 * ``HDD_bronze``: 0.01 Each element of the volume metric will now be based on its ``volume_type`` metadata. A 10GiB ``SSD_gold`` volume will be charged 0.3 per collect period, a 1GiB ``HDD_bronze`` volume will be charged 0.01, a 0.5GiB ``SSD_silver`` will be 0.01... Service mappings ++++++++++++++++ A service mapping is not associated with a field, but directly with a service. If a mapping is created directly on the ``volume.size`` service, each volume will be rated based on this mapping, with no metadata-based distinction. Flat and Rate +++++++++++++ A mapping can have two types: ``flat`` or ``rate``. A flat mapping is simply added to the total for a given item, whereas a rate multiplies the total. See the examples below use cases. .. note:: If several flat mappings of the same group match, only the most expensive one is applied. Scope +++++ It is possible to tie a mapping to a specific scope/tenant_id.A threshold entry is used to apply rating rules only after a specific level. Appart from that, it works the same way as a mapping. As for mappings, a threshold can be tied to a specific scope/project. Examples ======== Instance uptime --------------- Apply rating rules to charge instances based on their flavor_id and uptime: Create an ``instance_uptime_flavor_id`` group: .. code-block:: console $ cloudkitty hashmap group create instance_uptime_flavor_id +---------------------------+--------------------------------------+ | Name | Group ID | +---------------------------+--------------------------------------+ | instance_uptime_flavor_id | 9a2ff37d-be86-4642-8b7d-567bace61f06 | +---------------------------+--------------------------------------+ +---------------------------+--------------------------------------+ | Name | Group ID | +---------------------------+--------------------------------------+ | instance_uptime_flavor_id | 9a2ff37d-be86-4642-8b7d-567bace61f06 | +---------------------------+--------------------------------------+.. code-block:: console $ cloudkitty hashmap service create instance +----------+--------------------------------------+ | Name | Service ID | +----------+--------------------------------------+ | instance | b19d801d-e7d4-46f9-970b-3e6d60fc07b5 | +----------+--------------------------------------+.. code-block:: console $ cloudkitty hashmap field create b19d801d-e7d4-46f9-970b-3e6d60fc07b5 flavor_id +-----------+--------------------------------------+--------------------------------------+ | Name | Field ID | Service ID | +-----------+--------------------------------------+--------------------------------------+ | flavor_id | 18aa50b6-6da8-4c47-8a1f-43236b971625 | b19d801d-e7d4-46f9-970b-3e6d60fc07b5 | +-----------+--------------------------------------+--------------------------------------+ Create a mapping in the ``instance_uptime_flavor`` group that will map m1.tiny.. code-block:: console $ openstack flavor show m1.tiny +----------------------------+----------------------------------------+ | Field | Value | +----------------------------+----------------------------------------+ | OS-FLV-DISABLED:disabled | False | | OS-FLV-EXT-DATA:ephemeral | 0 | | access_project_ids | None | | disk | 20 | | id | 93195dd4-bbf3-4b13-929d-8293ae72e056 | | name | m1.tiny | | os-flavor-access:is_public | True | | properties | baremetal='false', flavor-type='small' | | ram | 512 | | rxtx_factor | 1.0 | | swap | | | vcpus | 1 | +----------------------------+----------------------------------------+ --value 93195dd4-bbf3-4b13-929d-8293ae72e056 \ -g 9a2ff37d-be86-4642-8b7d-567bace61f06 \ -t flat +--------------------------------------+--------------------------------------+------------+------+--------------------------------------+------------+--------------------------------------+------------+ | Mapping ID | Value | Cost | Type | Field ID | Service ID | Group ID | Project ID | +--------------------------------------+--------------------------------------+------------+------+--------------------------------------+------------+--------------------------------------+------------+ | 9c2418dc-99d3-44b6-8fdf-e9fa02f3ceb5 | 93195dd4-bbf3-4b13-929d-8293ae72e056 | 0.01000000 | flat | 18aa50b6-6da8-4c47-8a1f-43236b971625 | None | 9a2ff37d-be86-4642-8b7d-567bace61f06 | None | +--------------------------------------+--------------------------------------+------------+------+--------------------------------------+------------+--------------------------------------+------------+Create a group ``volume_thresholds``: .. code-block:: console +-------------------+--------------------------------------+ | Name | Group ID | +-------------------+--------------------------------------+ | volume_thresholds | 9736bbc0-8888-4700-96fc-58db5fded493 | +-------------------+--------------------------------------+.. code-block:: console $ cloudkitty hashmap service create volume.size +-------------+--------------------------------------+ | Name | Service ID | +-------------+--------------------------------------+ | volume.size | 74ad7e4e-9cae-45a8-884b-368a92803afe | +-------------+--------------------------------------+.. code-block:: consolemap different volume quantities to costs:.. code-block:: console.. code-block:: console.. code-block:: console","to apply a set of rules to charge instance_uptime and another set to blockA service is a way to map the rule to the type of data collected. Currently, the following services are available: * compute * image * volume * network.bw.in * network.bw.out * network.floating * radosgw.usage Enabled services are defined in the configuration file. By default, only the compute service is enabled.instance object (**compute**), you can use the flavor to define specific rules. With Gnocchi as collector, the following fields are available for each service: * Compute: flavor_id, vcpus, image_id, memory (MB) * Image: container_format, disk_formatIt maps cost to a value of metadata in case of field mapping. And directly a cost in case of service mapping. A mapping can be project specific by providing a project id at creation and supports overloading, i.e. you can specify multiple mappings for the same value with different project ids and costs.A threshold entry is used to apply rating rules base on level. Its behaviour is similar to a mapping except that it applies the cost base on the level. As for mapping, a threshold can be project specific by providing a project id at creation. HashMap formula =============== Based on all the previous objects here's the calculation formula : :math:`\sum_{n=1}^N G_n(qty.(T_{rate}\prod(M_{rate})(T_{flat}+M_{flat})))` :G: Group :qty: Quantity of resource :T: Threshold :M: Mapping For an active resource on a collection period, quantity is defined as follow: * compute: 1 (unit: instance) * image: upload image size (unit: MB) * volume: volume size (unit: GB) * network.bw.in: ingoing network usage (unit: MB) * network.bw.out: outgoing network usage (unit: MB) * network.floating: 1 (unit: ip) * radosgw.usage: Ceph object storage usage (unit: GB) Example ======= Compute uptime -------------- Apply rating rule on the compute service to charge the instance based on it's flavor and uptime: Create a group *instance_uptime_flavor*: .. code:: raw $ cloudkitty hashmap group create instance_uptime_flavor +------------------------+--------------------------------------+ | Name | Group ID | +------------------------+--------------------------------------+ | instance_uptime_flavor | 9a2ff37d-be86-4642-8b7d-567bace61f06 | +------------------------+--------------------------------------+ +------------------------+--------------------------------------+ | Name | Group ID | +------------------------+--------------------------------------+ | instance_uptime_flavor | 9a2ff37d-be86-4642-8b7d-567bace61f06 | +------------------------+--------------------------------------+.. code:: raw $ cloudkitty hashmap service create compute +---------+--------------------------------------+ | Name | Service ID | +---------+--------------------------------------+ | compute | b19d801d-e7d4-46f9-970b-3e6d60fc07b5 | +---------+--------------------------------------+.. code:: raw $ cloudkitty hashmap field create b19d801d-e7d4-46f9-970b-3e6d60fc07b5 flavor +--------+--------------------------------------+--------------------------------------+ | Name | Field ID | Service ID | +--------+--------------------------------------+--------------------------------------+ | flavor | 18aa50b6-6da8-4c47-8a1f-43236b971625 | b19d801d-e7d4-46f9-970b-3e6d60fc07b5 | +--------+--------------------------------------+--------------------------------------+ Create a mapping in the group *instance_uptime_flavor* that will map m1.tiny.. code:: raw --value m1.tiny -t flat -g 9a2ff37d-be86-4642-8b7d-567bace61f06 +--------------------------------------+---------+------------+------+--------------------------------------+------------+--------------------------------------+------------+ | Mapping ID | Value | Cost | Type | Field ID | Service ID | Group ID | Project ID | +--------------------------------------+---------+------------+------+--------------------------------------+------------+--------------------------------------+------------+ | 9c2418dc-99d3-44b6-8fdf-e9fa02f3ceb5 | m1.tiny | 0.01000000 | flat | 18aa50b6-6da8-4c47-8a1f-43236b971625 | None | 9a2ff37d-be86-4642-8b7d-567bace61f06 | None | +--------------------------------------+---------+------------+------+--------------------------------------+------------+--------------------------------------+------------+Create a group *volume_thresholds*: .. code:: raw +------------------------+--------------------------------------+ | Name | Group ID | +------------------------+--------------------------------------+ | volume_thresholds | 9736bbc0-8888-4700-96fc-58db5fded493 | +------------------------+--------------------------------------+ .. code:: raw $ cloudkitty hashmap service create volume +--------+--------------------------------------+ | Name | Service ID | +--------+--------------------------------------+ | volume | 74ad7e4e-9cae-45a8-884b-368a92803afe | +--------+--------------------------------------+.. code:: rawmap different volume quantity to costs:.. code:: raw.. code:: raw.. code:: raw",195,109
openstack%2Fpython-tripleoclient~master~I4d33e7e5bd4b892219cfc2067e81938e0f6a8668,openstack/python-tripleoclient,master,I4d33e7e5bd4b892219cfc2067e81938e0f6a8668,[Core] Add limit option to manage nodes.,MERGED,2019-01-31 13:57:53.000000000,2019-02-06 13:45:59.000000000,2019-02-06 13:45:59.000000000,"[{'_account_id': 8042}, {'_account_id': 11082}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 28522}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-01-31 13:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d904860ccd9e77760dc7b84111f9d5b6bd32d845', 'message': ""[Core] Add limit option to manage nodes.\n\nCurrently we have nodes and roles options for upgrade run and update run\nbut it's a bit confusing. This both options it's same. Depecrated nodes\nand roles and a new option limit. The options nodes and roles will be\nremove in the future version.\n\nChange-Id: I4d33e7e5bd4b892219cfc2067e81938e0f6a8668\n""}, {'number': 2, 'created': '2019-01-31 14:00:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d3800d36ae8a563ffd0bcb9304d3f10458e23605', 'message': ""[Core] Add limit option to manage nodes.\n\nCurrently we have nodes and roles options for upgrade run and update run\nbut it's a bit confusing. This both options it's same. Depecrated nodes\nand roles and a new option limit. The options nodes and roles will be\nremove in the future version.\n\nCloses-Bug: #1803549\nChange-Id: I4d33e7e5bd4b892219cfc2067e81938e0f6a8668\n""}, {'number': 3, 'created': '2019-01-31 14:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3e18e6d67cb5d52b360d00c1c97c1a3c6b92949c', 'message': ""[Core] Add limit option to manage nodes.\n\nCurrently we have nodes and roles options for upgrade run and update run\nbut it's a bit confusing. This both options it's same. Depecrated nodes\nand roles and a new option limit. The options nodes and roles will be\nremove in the future version.\n\nCloses-Bug: #1813810\nChange-Id: I4d33e7e5bd4b892219cfc2067e81938e0f6a8668\n""}, {'number': 4, 'created': '2019-01-31 15:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/df7a9d30a97ea7dcd8d4c2c3b2b8effd5068d029', 'message': ""[Core] Add limit option to manage nodes.\n\nCurrently we have nodes and roles options for upgrade run and update run\nbut it's a bit confusing. This both options it's same. Depecrated nodes\nand roles and a new option limit. The options nodes and roles will be\nremove in the future version.\n\nCloses-Bug: #1813810\nChange-Id: I4d33e7e5bd4b892219cfc2067e81938e0f6a8668\n""}, {'number': 5, 'created': '2019-02-01 16:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/eef3c9096878b392a53efcfd2abf0ebcc78af109', 'message': ""[Core] Add limit option to manage nodes.\n\nCurrently we have nodes and roles options for upgrade run and update run\nbut it's a bit confusing. This both options it's same. Depecrated nodes\nand roles and a new option limit. The options nodes and roles will be\nremove in the future version.\n\nCloses-Bug: #1813810\nChange-Id: I4d33e7e5bd4b892219cfc2067e81938e0f6a8668\n""}, {'number': 6, 'created': '2019-02-04 15:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7d4d96cde971c4846a7d50c9fe27d7e0bf82c233', 'message': ""[Core] Add limit option to manage nodes.\n\nCurrently we have nodes and roles options for upgrade run and update run\nbut it's a bit confusing. This both options it's same. Depecrated nodes\nand roles and a new option limit. The options nodes and roles will be\nremove in the future version.\n\nCloses-Bug: #1813810\nChange-Id: I4d33e7e5bd4b892219cfc2067e81938e0f6a8668\n""}, {'number': 7, 'created': '2019-02-04 15:53:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/14bdff44f26098909c4f9be787cf4c0b7876097f', 'message': ""[Core] Add limit option to manage nodes.\n\nCurrently we have nodes and roles options for upgrade run and update run\nbut it's a bit confusing. This both options it's same. Depecrated nodes\nand roles and a new option limit. The options nodes and roles will be\nremove in the future version.\n\nCloses-Bug: #1813810\nChange-Id: I4d33e7e5bd4b892219cfc2067e81938e0f6a8668\n""}, {'number': 8, 'created': '2019-02-05 09:53:24.000000000', 'files': ['tripleoclient/command.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'tripleoclient/v1/overcloud_update.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/73631dfbcf8d26063485da8f7e8925ec6ff8b884', 'message': ""[Core] Add limit option to manage nodes.\n\nCurrently we have nodes and roles options for upgrade run and update run\nbut it's a bit confusing. This both options it's same. Depecrated nodes\nand roles and a new option limit. The options nodes and roles will be\nremove in the future version.\n\nCloses-Bug: #1813810\nChange-Id: I4d33e7e5bd4b892219cfc2067e81938e0f6a8668\n""}]",17,634234,73631dfbcf8d26063485da8f7e8925ec6ff8b884,43,7,8,29222,,,0,"[Core] Add limit option to manage nodes.

Currently we have nodes and roles options for upgrade run and update run
but it's a bit confusing. This both options it's same. Depecrated nodes
and roles and a new option limit. The options nodes and roles will be
remove in the future version.

Closes-Bug: #1813810
Change-Id: I4d33e7e5bd4b892219cfc2067e81938e0f6a8668
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/34/634234/8 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'tripleoclient/v1/overcloud_update.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py']",4,d904860ccd9e77760dc7b84111f9d5b6bd32d845,bug/1813810,," def test_update_with_no_nodes_or_roles(self, mock_open, mock_execute, mock_expanduser, update_ansible): mock_expanduser.return_value = '/home/fake/' argslist = [] verifylist = [ ('static_inventory', None), ('playbook', 'all') ] self.assertRaises(ParserException, lambda: self.check_parser( self.cmd, argslist, verifylist)) @mock.patch('tripleoclient.workflows.package_update.update_ansible', autospec=True) @mock.patch('os.path.expanduser') @mock.patch('oslo_concurrency.processutils.execute') @mock.patch('six.moves.builtins.open')",68,62
openstack%2Fpaunch~master~I7c72ea055984bb5ff3ea7cea019693d61245212f,openstack/paunch,master,I7c72ea055984bb5ff3ea7cea019693d61245212f,Always attempt a graceful container stop/remove,MERGED,2019-01-11 13:18:41.000000000,2019-02-06 13:43:46.000000000,2019-01-25 18:00:14.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 18851}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-01-11 13:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/46a8affd5175ad20467f9eedb4f83254afc6ffb1', 'message': ""Always attempt a graceful container stop/remove\n\nWhen paunch removes a container, like applying a container's config\nchanges, it does that not gracefully. That poses an issue for some\ncases, like stateful services. To mitigate that, attempt stopping the\ncontainer prior to removing it. And use the defined stop signal and\ntimeout settings for such a container, when stopping it. If there is no\nsignal/timeout in the config, fallback to deaults of SIGTERM and a 10s.\n\nRelated-bug: #1810690\nChange-Id: I7c72ea055984bb5ff3ea7cea019693d61245212f\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 2, 'created': '2019-01-17 11:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/b3b5dc3036a9ab4d8a3a0d6ef6968454251e0acc', 'message': ""Always attempt a graceful container stop/remove\n\nWhen paunch removes a container, like applying a container's config\nchanges, it does that not gracefully. That poses an issue for some\ncases, like stateful services. To mitigate that, attempt stopping the\ncontainer prior to removing it. And use the defined stop signal and\ntimeout settings for such a container, when stopping it. If there is no\nsignal/timeout in the config, fallback to deaults of SIGTERM and a 10s.\n\nRelated-bug: #1810690\nChange-Id: I7c72ea055984bb5ff3ea7cea019693d61245212f\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 3, 'created': '2019-01-21 14:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/c2ad6461455dfc23fe722cbe51667fa9bbc295c0', 'message': ""Always attempt a graceful container stop/remove\n\nWhen paunch removes a container, like applying a container's config\nchanges, it does that not gracefully. That poses an issue for some\ncases, like stateful services. To mitigate that, attempt stopping the\ncontainer prior to removing it. And use the defined stop signal and\ntimeout settings for such a container, when stopping it. If there is no\nsignal/timeout in the config, fallback to deaults of SIGTERM and a 10s.\n\nRelated-bug: #1810690\nChange-Id: I7c72ea055984bb5ff3ea7cea019693d61245212f\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 4, 'created': '2019-01-22 15:43:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/f3771789c4b3bc523a06ade8bc2689ff382b5dc6', 'message': ""Always attempt a graceful container stop/remove\n\nWhen paunch removes a container, like applying a container's config\nchanges, it does that not gracefully. That poses an issue for some\ncases, like stateful services. To mitigate that, attempt stopping the\ncontainer prior to removing it. And use the defined stop signal and\ntimeout settings for such a container, when stopping it. If there is no\nsignal/timeout in the config, fallback to deaults of SIGTERM and a 10s.\n\nRelated-bug: #1810690\nChange-Id: I7c72ea055984bb5ff3ea7cea019693d61245212f\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 5, 'created': '2019-01-23 11:46:05.000000000', 'files': ['paunch/tests/test_runner.py', 'paunch/runner.py', 'paunch/tests/test_builder_base.py', 'paunch/builder/base.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/b5a14c6cd0be76156852afdc8c664e37e88bc7b3', 'message': ""Always attempt a graceful container stop/remove\n\nWhen paunch removes a container, like applying a container's config\nchanges, it does that not gracefully. That poses an issue for some\ncases, like stateful services. To mitigate that, attempt stopping the\ncontainer prior to removing it. And use the defined stop signal and\ntimeout settings for such a container, when stopping it. If there is no\nsignal/timeout in the config, fallback to deaults of SIGTERM and a 10s.\n\nRelated-bug: #1810690\nChange-Id: I7c72ea055984bb5ff3ea7cea019693d61245212f\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",2,630219,b5a14c6cd0be76156852afdc8c664e37e88bc7b3,27,11,5,6926,,,0,"Always attempt a graceful container stop/remove

When paunch removes a container, like applying a container's config
changes, it does that not gracefully. That poses an issue for some
cases, like stateful services. To mitigate that, attempt stopping the
container prior to removing it. And use the defined stop signal and
timeout settings for such a container, when stopping it. If there is no
signal/timeout in the config, fallback to deaults of SIGTERM and a 10s.

Related-bug: #1810690
Change-Id: I7c72ea055984bb5ff3ea7cea019693d61245212f
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/paunch refs/changes/19/630219/4 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/tests/test_runner.py', 'paunch/runner.py', 'paunch/builder/base.py', 'paunch/tests/test_builder_base.py']",4,46a8affd5175ad20467f9eedb4f83254afc6ffb1,bug/1810690," 'stop_signal': 'SIGKILL', 'stop_grace_period': '1m2s', # stop five ('', '', 0), # stop six ('', '', 0), # stop two, changed config data ('', '', 0), mock.call(['docker', 'stop', '--stop-signal=SIGTERM', '--stop-timeout=10.0','five'], quiet=True), mock.call(['docker', 'stop', '--stop-signal=SIGTERM', '--stop-timeout=10.0','six'], quiet=True), mock.call(['docker', 'stop', '--stop-signal=SIGKILL', '--stop-timeout=62.0','two-12345678'], quiet=True), '--detach=true', '--stop-signal=SIGKILL', '--stop-timeout=62.0', 'centos:7'], mock.ANY"," '--detach=true', 'centos:7'], mock.ANY",107,16
openstack%2Ftripleo-heat-templates~stable%2Frocky~I844a2f7660dff5feda8397706671ac0efd37949f,openstack/tripleo-heat-templates,stable/rocky,I844a2f7660dff5feda8397706671ac0efd37949f,Handle case change for dmidecode >= 3.1 in Ceph templates,MERGED,2019-02-06 07:40:18.000000000,2019-02-06 13:35:28.000000000,2019-02-06 13:35:28.000000000,"[{'_account_id': 6796}, {'_account_id': 20172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-06 07:40:18.000000000', 'files': ['docker/services/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e9c6cf1004424b71371989b9eb75c9bf1ae5e048', 'message': 'Handle case change for dmidecode >= 3.1 in Ceph templates\n\nForces lowercase matching of user provided node data with dmidecode\noutput.\n\nChange-Id: I844a2f7660dff5feda8397706671ac0efd37949f\nCo-Authored-By: Francesco Pantano <fpantano@redhat.com>\nCloses-Bug: 1814070\n(cherry picked from commit c01d9d8475d7b256fed944227a06f028e8d487f8)\n'}]",0,635107,e9c6cf1004424b71371989b9eb75c9bf1ae5e048,7,3,1,6796,,,0,"Handle case change for dmidecode >= 3.1 in Ceph templates

Forces lowercase matching of user provided node data with dmidecode
output.

Change-Id: I844a2f7660dff5feda8397706671ac0efd37949f
Co-Authored-By: Francesco Pantano <fpantano@redhat.com>
Closes-Bug: 1814070
(cherry picked from commit c01d9d8475d7b256fed944227a06f028e8d487f8)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/635107/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/ceph-ansible/ceph-base.yaml'],1,e9c6cf1004424b71371989b9eb75c9bf1ae5e048,bug/1814070-stable/rocky, content: yaql: expression: dict($.data.keys().select($.toLower()).zip($.data.values())) data: {get_param: NodeDataLookup} command: dmidecode -s system-uuid | tr A-F a-f, content: {get_param: NodeDataLookup} command: dmidecode -s system-uuid,5,2
openstack%2Fnetworking-baremetal~master~Ie51d0a0b02ed5ea336f3280d84d77cf8fec90ccb,openstack/networking-baremetal,master,Ie51d0a0b02ed5ea336f3280d84d77cf8fec90ccb,Set amqp_auto_delete=true for notifications transport.,MERGED,2019-02-05 13:18:18.000000000,2019-02-06 13:34:01.000000000,2019-02-06 13:34:01.000000000,"[{'_account_id': 2271}, {'_account_id': 10343}, {'_account_id': 11655}, {'_account_id': 21909}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-05 13:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/f3f056615a44a306ce39157f3199b348d61f7e7a', 'message': 'Set amqp_auto_delete=true for notifications transport.\n\nironic-neutron-agent uses oslo.messaing notifications\nto manage the hash ring members. Each listener uses a\npool, to ensure all instances of the agent recived\nnotifications from all other isntances of the agent.\n\nThe pool used is a random uuid that is generated on\nstartup, and on restart a new uuid is generated.\n\nIn the messaging backend each pool creates a separate\nqueue. When the agent is restarted this queue is not\nremoved, and since the uuid is regenerated for the\nrestarted agent the messaging backend keep publishing\nmessages to the ""old-uuid"" queue as well as the\n""new-uuid"" queue. The problem is that the ""old-uuid""\nqueue is no longer consumed, so it continues to grow\nand cause high RAM usage in the message broker\nback-end.\n\nTo fix this set the queues to auto_delete so that\nthey are deleted automatically when no consumers are\nactive.\n\nStory: 2004933\nTask: 29322\nChange-Id: Ie51d0a0b02ed5ea336f3280d84d77cf8fec90ccb\n'}, {'number': 2, 'created': '2019-02-05 14:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/76d083c3289e5c7f0b1e8cefba03e0d4332525a9', 'message': 'Set amqp_auto_delete=true for notifications transport.\n\nironic-neutron-agent uses oslo.messaing notifications\nto manage the hash ring members. Each listener uses a\npool, to ensure all instances of the agent recived\nnotifications from all other isntances of the agent.\n\nThe pool used is a random uuid that is generated on\nstartup, and on restart a new uuid is generated.\n\nIn the messaging backend each pool creates a separate\nqueue. When the agent is restarted this queue is not\nremoved, and since the uuid is regenerated for the\nrestarted agent the messaging backend keep publishing\nmessages to the ""old-uuid"" queue as well as the\n""new-uuid"" queue. The problem is that the ""old-uuid""\nqueue is no longer consumed, so it continues to grow\nand cause high RAM usage in the message broker\nback-end.\n\nTo fix this set the queues to auto_delete so that\nthey are deleted automatically when no consumers are\nactive.\n\nStory: 2004933\nTask: 29322\nChange-Id: Ie51d0a0b02ed5ea336f3280d84d77cf8fec90ccb\n'}, {'number': 3, 'created': '2019-02-05 19:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/34f471332ff0c131395be23ee672b85afe340497', 'message': 'Set amqp_auto_delete=true for notifications transport.\n\nironic-neutron-agent uses oslo.messaing notifications\nto manage the hash ring members. Each listener uses a\npool, to ensure all instances of the agent recived\nnotifications from all other isntances of the agent.\n\nThe pool used is a random uuid that is generated on\nstartup, and on restart a new uuid is generated.\n\nIn the messaging backend each pool creates a separate\nqueue. When the agent is restarted this queue is not\nremoved, and since the uuid is regenerated for the\nrestarted agent the messaging backend keep publishing\nmessages to the ""old-uuid"" queue as well as the\n""new-uuid"" queue. The problem is that the ""old-uuid""\nqueue is no longer consumed, so it continues to grow\nand cause high RAM usage in the message broker\nback-end.\n\nTo fix this set the queues to auto_delete so that\nthey are deleted automatically when no consumers are\nactive.\n\nStory: 2004933\nTask: 29322\nChange-Id: Ie51d0a0b02ed5ea336f3280d84d77cf8fec90ccb\n'}, {'number': 4, 'created': '2019-02-05 19:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/af72449f969bbfeec1c436a63d6f24d80573a008', 'message': 'Set amqp_auto_delete=true for notifications transport.\n\nironic-neutron-agent uses oslo.messaing notifications\nto manage the hash ring members. Each listener uses a\npool, to ensure all instances of the agent recived\nnotifications from all other isntances of the agent.\n\nThe pool used is a random uuid that is generated on\nstartup, and on restart a new uuid is generated.\n\nIn the messaging backend each pool creates a separate\nqueue. When the agent is restarted this queue is not\nremoved, and since the uuid is regenerated for the\nrestarted agent the messaging backend keep publishing\nmessages to the ""old-uuid"" queue as well as the\n""new-uuid"" queue. The problem is that the ""old-uuid""\nqueue is no longer consumed, so it continues to grow\nand cause high RAM usage in the message broker\nback-end.\n\nTo fix this set the queues to auto_delete so that\nthey are deleted automatically when no consumers are\nactive.\n\nStory: 2004933\nTask: 29322\nChange-Id: Ie51d0a0b02ed5ea336f3280d84d77cf8fec90ccb\n'}, {'number': 5, 'created': '2019-02-05 22:12:46.000000000', 'files': ['networking_baremetal/agent/ironic_neutron_agent.py', 'networking_baremetal/tests/unit/ironic_agent/test_ironic_agent.py', 'releasenotes/notes/agent-notification-auto-delete-queues-a3782fbeea2b57b1.yaml'], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/00c2f2346ad1bcf7179ce1bc304b764f4ebc4cdf', 'message': 'Set amqp_auto_delete=true for notifications transport.\n\nironic-neutron-agent uses oslo.messaing notifications\nto manage the hash ring members. Each listener uses a\npool, to ensure all instances of the agent recived\nnotifications from all other isntances of the agent.\n\nThe pool used is a random uuid that is generated on\nstartup, and on restart a new uuid is generated.\n\nIn the messaging backend each pool creates a separate\nqueue. When the agent is restarted this queue is not\nremoved, and since the uuid is regenerated for the\nrestarted agent the messaging backend keep publishing\nmessages to the ""old-uuid"" queue as well as the\n""new-uuid"" queue. The problem is that the ""old-uuid""\nqueue is no longer consumed, so it continues to grow\nand cause high RAM usage in the message broker\nback-end.\n\nTo fix this set the queues to auto_delete so that\nthey are deleted automatically when no consumers are\nactive.\n\nStory: 2004933\nTask: 29322\nChange-Id: Ie51d0a0b02ed5ea336f3280d84d77cf8fec90ccb\n'}]",8,634932,00c2f2346ad1bcf7179ce1bc304b764f4ebc4cdf,17,5,5,24245,,,0,"Set amqp_auto_delete=true for notifications transport.

ironic-neutron-agent uses oslo.messaing notifications
to manage the hash ring members. Each listener uses a
pool, to ensure all instances of the agent recived
notifications from all other isntances of the agent.

The pool used is a random uuid that is generated on
startup, and on restart a new uuid is generated.

In the messaging backend each pool creates a separate
queue. When the agent is restarted this queue is not
removed, and since the uuid is regenerated for the
restarted agent the messaging backend keep publishing
messages to the ""old-uuid"" queue as well as the
""new-uuid"" queue. The problem is that the ""old-uuid""
queue is no longer consumed, so it continues to grow
and cause high RAM usage in the message broker
back-end.

To fix this set the queues to auto_delete so that
they are deleted automatically when no consumers are
active.

Story: 2004933
Task: 29322
Change-Id: Ie51d0a0b02ed5ea336f3280d84d77cf8fec90ccb
",git fetch https://review.opendev.org/openstack/networking-baremetal refs/changes/32/634932/4 && git format-patch -1 --stdout FETCH_HEAD,"['networking_baremetal/agent/ironic_neutron_agent.py', 'releasenotes/notes/agent-notification-auto-delete-queues-a3782fbeea2b57b1.yaml']",2,f3f056615a44a306ce39157f3199b348d61f7e7a,story/2004933,"--- upgrade: - | To fix `bug: 2004933 <https://storyboard.openstack.org/#!/story/2004933>`_ oslo.messaging notification queues are now created with ``amqp_auto_delete=true``. When upgrading the agent old queues must be deleted prior to starting the ``ironic-neutron-agent`` service again after the update. _(If the old queues where created with ``amqp_auto_delete=false``, the agent will not be able to start when the old queues still exist.)_ On rabbitmq queues can be deleted via the web console. For example with curl:: curl -i -u username:password \ -H ""content-type:application/json"" -XDELETE \ http://<host>:<web-port>/api/queues/<vhost>/<queue-name> Another example with vhost: '/' deleting the ironic-neutron-agent-heartbeat.info queue:: curl -i -u username:password \ -H ""content-type:application/json"" \ -XDELETE \ http://172.20.0.1:15672/api/queues/%2F/ironic-neutron-agent-heartbeat.info .. Note:: In the example above the vhost is ``/``. To ensure the vhost is correctly encoded the use of ``%2F``, instead of ``/`` is required. fixes: - | Fixes an issue where old oslo.messaging notification pool queues remained in the broker without any consumer after agent restart. The notofication queues will now be created with ``amqp_auto_delete=true``. See `bug: 2004933 <https://storyboard.openstack.org/#!/story/2004933>`_. .. Warning:: Old queues must be deleted when updating to a version with this fix. Please refer to the upgrade section of the releasenotes for details. ",,56,1
openstack%2Fcinder~master~If235bd67b42c08d948d90cbbaa74d94856f53fda,openstack/cinder,master,If235bd67b42c08d948d90cbbaa74d94856f53fda,Fix keystone auth config in install doc,MERGED,2019-01-11 09:10:28.000000000,2019-02-06 13:28:09.000000000,2019-02-05 23:17:51.000000000,"[{'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15054}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25111}, {'_account_id': 25678}, {'_account_id': 26458}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-01-11 09:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/82a35a02ee0e70593b8fab89b14fd5dfd9b31c49', 'message': 'Fix keystone auth config in install doc\n\nChange-Id: If235bd67b42c08d948d90cbbaa74d94856f53fda\nCloses-Bug: #1811119\n'}, {'number': 2, 'created': '2019-01-24 02:45:30.000000000', 'files': ['doc/source/install/cinder-controller-install-rdo.rst', 'doc/source/install/cinder-storage-install-obs.rst', 'doc/source/install/cinder-storage-install-ubuntu.rst', 'doc/source/install/cinder-storage-install-rdo.rst', 'doc/source/install/cinder-controller-install-obs.rst', 'doc/source/install/cinder-controller-install-ubuntu.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a67f714b459263c8b5ea009cbbb069cf05c66946', 'message': 'Fix keystone auth config in install doc\n\nChange-Id: If235bd67b42c08d948d90cbbaa74d94856f53fda\nCloses-Bug: #1811119\n'}]",7,630081,a67f714b459263c8b5ea009cbbb069cf05c66946,58,34,2,25111,,,0,"Fix keystone auth config in install doc

Change-Id: If235bd67b42c08d948d90cbbaa74d94856f53fda
Closes-Bug: #1811119
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/630081/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/cinder-controller-install-rdo.rst', 'doc/source/install/cinder-storage-install-rdo.rst']",2,82a35a02ee0e70593b8fab89b14fd5dfd9b31c49,bug/1811119, project_domain_name = default user_domain_name = default, project_domain_id = default user_domain_id = default,4,4
openstack%2Fcinder~master~I5373425348b0e406e11f1d8b131fc6e3b78177a9,openstack/cinder,master,I5373425348b0e406e11f1d8b131fc6e3b78177a9,DNM: Demonstrate driver sorting in support matrix,ABANDONED,2019-02-05 21:46:26.000000000,2019-02-06 13:08:43.000000000,,"[{'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 15296}, {'_account_id': 20284}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 29637}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-02-05 21:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/659574c2ba528d68f80fb638c88daeff70a9466d', 'message': 'DNM: Demonstrate driver sorting in support matrix\n\nTesting the dependency:\nDepends-On: https://review.openstack.org/635012\n\nChange-Id: I5373425348b0e406e11f1d8b131fc6e3b78177a9\n'}, {'number': 2, 'created': '2019-02-05 22:32:10.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ff9f560269e10a49941b91ce2e3689452797b7ea', 'message': 'DNM: Demonstrate driver sorting in support matrix\n\nTesting the dependency:\nDepends-On: https://review.openstack.org/635064\n\nChange-Id: I5373425348b0e406e11f1d8b131fc6e3b78177a9\n'}]",0,635051,ff9f560269e10a49941b91ce2e3689452797b7ea,23,12,2,14070,,,0,"DNM: Demonstrate driver sorting in support matrix

Testing the dependency:
Depends-On: https://review.openstack.org/635064

Change-Id: I5373425348b0e406e11f1d8b131fc6e3b78177a9
",git fetch https://review.opendev.org/openstack/cinder refs/changes/51/635051/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,659574c2ba528d68f80fb638c88daeff70a9466d,dnm_support_matrix_check,"A wicked cool project? Yes, and... ",,2,0
openstack%2Fos-vif~master~Id097a74eb5cf379695421445753c106af7df308e,openstack/os-vif,master,Id097a74eb5cf379695421445753c106af7df308e,Enable generic datapath offloads in the ovs plugin,ABANDONED,2019-02-04 12:39:21.000000000,2019-02-06 13:07:13.000000000,,"[{'_account_id': 9732}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 25733}]","[{'number': 1, 'created': '2019-02-04 12:39:21.000000000', 'files': ['vif_plug_ovs/tests/unit/test_plugin.py', 'vif_plug_ovs/ovs.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/5ca1500e1ea62fba0302150202dc36e22ac5576f', 'message': ""Enable generic datapath offloads in the ovs plugin\n\nThe plugin now checks the os-vif object for offload metadata in the new\ncomposition-based interfaces (released in os-vif 1.14.0), falling back\nto the original interface if it's not available. Nova should be\npopulating both paths for the Stein cycle.\n\nUnit tests have been updated to test the new code path.\n\nDepends-On: I1cb58292896642e557e8257c42b2713aed06fc37\nChange-Id: Id097a74eb5cf379695421445753c106af7df308e\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\nblueprint: generic-os-vif-offloads\n""}]",3,634679,5ca1500e1ea62fba0302150202dc36e22ac5576f,9,4,1,25733,,,0,"Enable generic datapath offloads in the ovs plugin

The plugin now checks the os-vif object for offload metadata in the new
composition-based interfaces (released in os-vif 1.14.0), falling back
to the original interface if it's not available. Nova should be
populating both paths for the Stein cycle.

Unit tests have been updated to test the new code path.

Depends-On: I1cb58292896642e557e8257c42b2713aed06fc37
Change-Id: Id097a74eb5cf379695421445753c106af7df308e
Signed-off-by: Jan Gutter <jan.gutter@netronome.com>
blueprint: generic-os-vif-offloads
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/79/634679/1 && git format-patch -1 --stdout FETCH_HEAD,"['vif_plug_ovs/tests/unit/test_plugin.py', 'vif_plug_ovs/ovs.py']",2,5ca1500e1ea62fba0302150202dc36e22ac5576f,bp/generic-os-vif-offloads," max_version=""1.2"", max_version=""1.2"", if ('datapath_offload' in vif.port_profile and hasattr(vif.port_profile, 'datapath_offload') and isinstance(vif.port_profile.datapath_offload, objects.vif.DatapathOffloadRepresentor)): pci_slot = vif.port_profile.datapath_offload.representor_address else: pci_slot = vif.dev_address if ('datapath_offload' in vif.port_profile and hasattr(vif.port_profile, 'datapath_offload') and isinstance(vif.port_profile.datapath_offload, objects.vif.DatapathOffloadRepresentor)): pci_slot = vif.port_profile.datapath_offload.representor_address else: pci_slot = vif.dev_address"," max_version=""1.0"", max_version=""1.0"", pci_slot = vif.dev_address pci_slot = vif.dev_address",116,8
openstack%2Fnetworking-ovn~master~If9ecf21ec178a1e73eda5684a6b41ded8e3db8b3,openstack/networking-ovn,master,If9ecf21ec178a1e73eda5684a6b41ded8e3db8b3,Make sure all mapped bridges are properly cleaned up,MERGED,2019-02-05 20:09:45.000000000,2019-02-06 13:05:31.000000000,2019-02-06 13:05:31.000000000,"[{'_account_id': 6773}, {'_account_id': 10237}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-02-05 20:09:45.000000000', 'files': ['migration/tripleo_environment/playbooks/roles/migration/templates/activate-ovn.sh.j2'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8bc54e2765d2d3252517f7dd8941b54001958793', 'message': 'Make sure all mapped bridges are properly cleaned up\n\nWe need to configure them in standalone mode (to let traffic going\naround in the absence of controller), and clean up the controller.\n\nChange-Id: If9ecf21ec178a1e73eda5684a6b41ded8e3db8b3\nCloses-Bug: 1814817\n'}]",0,635024,8bc54e2765d2d3252517f7dd8941b54001958793,7,4,1,8788,,,0,"Make sure all mapped bridges are properly cleaned up

We need to configure them in standalone mode (to let traffic going
around in the absence of controller), and clean up the controller.

Change-Id: If9ecf21ec178a1e73eda5684a6b41ded8e3db8b3
Closes-Bug: 1814817
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/24/635024/1 && git format-patch -1 --stdout FETCH_HEAD,['migration/tripleo_environment/playbooks/roles/migration/templates/activate-ovn.sh.j2'],1,8bc54e2765d2d3252517f7dd8941b54001958793,bug/1814817, ovs-vsctl set-fail-mode $bridge standalone ovs-vsctl del-controller $bridge,,2,0
openstack%2Fmanila~stable%2Frocky~I0e4baaaca5046f9c0ee32cf3de78133f743fd66d,openstack/manila,stable/rocky,I0e4baaaca5046f9c0ee32cf3de78133f743fd66d,Run ubuntu xenial ceph jobs,MERGED,2019-01-30 18:46:19.000000000,2019-02-06 12:13:29.000000000,2019-02-06 07:40:44.000000000,"[{'_account_id': 7102}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 25243}]","[{'number': 1, 'created': '2019-01-30 18:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7fe095499bbc1c59109740d145d3e9431f456c01', 'message': 'Add Ubuntu Bionic CephFS jobs\n\nWe need these for python3 support since the CentOS\njobs will not run correctly under python3.\n\nDepends-on: https://review.openstack.org/#/c/627037/\nChange-Id: I0e4baaaca5046f9c0ee32cf3de78133f743fd66d\n(cherry picked from commit 859d5ed80d26ea356af7d2d7545b273f212aa1e4)\n'}, {'number': 2, 'created': '2019-01-31 11:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8a57aaef01ce8951b9ef49856b1f7cdde2d29702', 'message': ""Add Ubuntu Bionic CephFS jobs\n\nEnables us to use the upstream shaman ceph luminous\nrepos.\n\nNot an exact cherry-pick since we haven't converted\nrocky jobs in general to bionic.\n\nChange-Id: I0e4baaaca5046f9c0ee32cf3de78133f743fd66d\n(cherry picked from commit 859d5ed80d26ea356af7d2d7545b273f212aa1e4)\n""}, {'number': 3, 'created': '2019-01-31 20:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/180719d37e84fe2efc41595cbc708d99d3345ae0', 'message': 'Run ubuntu xenial ceph jobs\n\nMatch our other jobs on stable/rocky and pick up the\nshaman repos we need for required ceph_volume library\nchanges.\n\nDepends-on: https://review.openstack.org/#/c/634299\nChange-Id: I0e4baaaca5046f9c0ee32cf3de78133f743fd66d\n'}, {'number': 4, 'created': '2019-01-31 20:20:57.000000000', 'files': ['playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-native/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-nfs/post.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-native/post.yaml', '.zuul.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-nfs/run.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/095a542f92f8d0ba46e62b51ef073e3e0d6b09ea', 'message': 'Run ubuntu xenial ceph jobs\n\nMatch our other jobs on stable/rocky and pick up the\nshaman repos we need for required ceph_volume library\nchanges.\n\nDepends-on: https://review.openstack.org/#/c/634299\nChange-Id: I0e4baaaca5046f9c0ee32cf3de78133f743fd66d\n'}]",9,634028,095a542f92f8d0ba46e62b51ef073e3e0d6b09ea,35,7,4,9003,,,0,"Run ubuntu xenial ceph jobs

Match our other jobs on stable/rocky and pick up the
shaman repos we need for required ceph_volume library
changes.

Depends-on: https://review.openstack.org/#/c/634299
Change-Id: I0e4baaaca5046f9c0ee32cf3de78133f743fd66d
",git fetch https://review.opendev.org/openstack/manila refs/changes/28/634028/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-native/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-nfs/post.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-native/post.yaml', '.zuul.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-nfs/run.yaml']",5,7fe095499bbc1c59109740d145d3e9431f456c01,,"- hosts: all name: legacy-manila-tempest-minimal-dsvm-cephfs-nfs-ubuntu-bionic tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x cat > clonemap.yaml << EOF clonemap: - name: openstack-infra/devstack-gate dest: devstack-gate EOF /usr/zuul-env/bin/zuul-cloner -m clonemap.yaml --cache-dir /opt/git \ git://git.openstack.org \ openstack-infra/devstack-gate executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x cat << 'EOF' >>""/tmp/dg-local.conf"" [[local|localrc]] enable_plugin manila git://git.openstack.org/openstack/manila enable_plugin devstack-plugin-ceph git://git.openstack.org/openstack/devstack-plugin-ceph # Enable CephFS as the backend for Manila. ENABLE_CEPH_MANILA=True # Disable Ceph as the storage backend for Nova. ENABLE_CEPH_NOVA=False # Disable Ceph as the storage backend for Glance. ENABLE_CEPH_GLANCE=False # Disable Ceph as the storage backend for Cinder. ENABLE_CEPH_CINDER=False # Disable Ceph as the storage backend for Cinder backup. ENABLE_CEPH_C_BAK=False # Set native or NFS variant of ceph driver MANILA_CEPH_DRIVER=cephfsnfs EOF executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x export PYTHONUNBUFFERED=true export DEVSTACK_GATE_NEUTRON=1 export ENABLED_SERVICES=tempest export PROJECTS=""openstack/devstack-plugin-ceph $PROJECTS"" export DEVSTACK_PROJECT_FROM_GIT=""python-manilaclient"" export KEEP_LOCALRC=1 export PROJECTS=""openstack/manila-tempest-plugin $PROJECTS"" OVERRIDE_ENABLED_SERVICES=key,mysql,rabbit,tempest export OVERRIDE_ENABLED_SERVICES function pre_test_hook { # Configure Manila with a CephFS Native or NFS driver backend. # Refer to job-template pre_test_hook for more details on the # arguments. source $BASE/new/devstack-plugin-ceph/manila/pre_test_hook.sh \ false cephfsnfs singlebackend } export -f pre_test_hook function post_test_hook { # Configure and run Tempest API tests on Manila with a # CephFSNative driver backend. # Refer to job-template post_test_hook for more details on the # arguments. source $BASE/new/devstack-plugin-ceph/manila/post_test_hook.sh \ singlebackend cephfsnfs api } export -f post_test_hook cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",,255,2
openstack%2Fnetworking-ovn~stable%2Frocky~I450482c542f10c21f210be570df9ec7c9a617c94,openstack/networking-ovn,stable/rocky,I450482c542f10c21f210be570df9ec7c9a617c94,Extend ml2 plugin to notify nova of port status,MERGED,2018-11-30 10:45:34.000000000,2019-02-06 12:08:07.000000000,2018-12-17 15:50:20.000000000,"[{'_account_id': 6773}, {'_account_id': 11604}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-30 10:45:34.000000000', 'files': ['networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ml2/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/424c6a6c0bee404ee55ca0ae53c131a64170ded3', 'message': 'Extend ml2 plugin to notify nova of port status\n\n- This change modifies the ovn ml2 driver to notify\n  nova on port status changes.\n\n- This will help enable faster migration when using\n  ml2/ovn in the future by notifying nova once ovn\n  has completed wireing up the interface.\n\nCloses-Bug: #1804407\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I450482c542f10c21f210be570df9ec7c9a617c94\n(cherry picked from commit 9fc6b5d205b1ccf24541e64042af63bb993afd0e)\n'}]",0,621139,424c6a6c0bee404ee55ca0ae53c131a64170ded3,25,4,1,6773,,,0,"Extend ml2 plugin to notify nova of port status

- This change modifies the ovn ml2 driver to notify
  nova on port status changes.

- This will help enable faster migration when using
  ml2/ovn in the future by notifying nova once ovn
  has completed wireing up the interface.

Closes-Bug: #1804407
Co-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: I450482c542f10c21f210be570df9ec7c9a617c94
(cherry picked from commit 9fc6b5d205b1ccf24541e64042af63bb993afd0e)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/39/621139/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ml2/mech_driver.py']",2,424c6a6c0bee404ee55ca0ae53c131a64170ded3,bug/1804407,"from neutron.plugins.ml2 import db as ml2_db self._insert_port_provisioning_block(context._plugin_context, port['id']) def _insert_port_provisioning_block(self, context, port_id): context, port_id, resources.PORT, self._insert_port_provisioning_block(context._plugin_context, port['id']) db_port = ml2_db.get_port(admin_context, port_id) if not db_port: return if db_port.device_owner in (const.DEVICE_OWNER_ROUTER_INTF, const.DEVICE_OWNER_DVR_INTERFACE, const.DEVICE_OWNER_ROUTER_HA_INTF): elif db_port.device_owner.startswith( const.DEVICE_OWNER_COMPUTE_PREFIX): self._plugin.nova_notifier.notify_port_active_direct(db_port) db_port = ml2_db.get_port(admin_context, port_id) if not db_port: return self._insert_port_provisioning_block(admin_context, port_id) self._plugin.update_port_status(admin_context, port_id, if db_port.device_owner.startswith( const.DEVICE_OWNER_COMPUTE_PREFIX): self._plugin.nova_notifier.record_port_status_changed( db_port, const.PORT_STATUS_ACTIVE, const.PORT_STATUS_DOWN, None) self._plugin.nova_notifier.send_port_status( None, None, db_port)"," self._insert_port_provisioning_block(context._plugin_context, port) def _insert_port_provisioning_block(self, context, port): context, port['id'], resources.PORT, self._insert_port_provisioning_block(context._plugin_context, port) port = self._plugin.get_port(admin_context, port_id) if port.get('device_owner') in (const.DEVICE_OWNER_ROUTER_INTF, const.DEVICE_OWNER_DVR_INTERFACE, const.DEVICE_OWNER_ROUTER_HA_INTF): port = self._plugin.get_port(admin_context, port_id) self._insert_port_provisioning_block(admin_context, port) self._plugin.update_port_status(admin_context, port['id'],",79,17
openstack%2Ftripleo-quickstart-extras~master~If7ae3f575238e69bfc8858dd968cf3c69af512ca,openstack/tripleo-quickstart-extras,master,If7ae3f575238e69bfc8858dd968cf3c69af512ca,Specify hostname for standalone,MERGED,2019-02-05 00:15:01.000000000,2019-02-06 11:46:08.000000000,2019-02-06 11:46:08.000000000,"[{'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-05 00:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/51f61835e366c7bbf3e30e2c547ce9bb3a1e3615', 'message': 'WIP Specify hostname for standalone\n\nChange-Id: If7ae3f575238e69bfc8858dd968cf3c69af512ca\nRelated-Bug: #1814564\n'}, {'number': 2, 'created': '2019-02-05 01:06:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/729c9117c0f12c55819202c97161600e399538ff', 'message': 'WIP Specify hostname for standalone\n\nChange-Id: If7ae3f575238e69bfc8858dd968cf3c69af512ca\nRelated-Bug: #1814564\n'}, {'number': 3, 'created': '2019-02-05 16:27:16.000000000', 'files': ['roles/standalone/tasks/main.yml', 'roles/standalone/README.md', 'roles/standalone/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fc07a263170329370476abf2a5a18f5fab177d76', 'message': 'Specify hostname for standalone\n\nThe standalone must have a fully qualified hostname configured as it can\nhave issues when deploying with pacemaker managed services.\n\nChange-Id: If7ae3f575238e69bfc8858dd968cf3c69af512ca\nRelated-Bug: #1814564\n'}]",0,634836,fc07a263170329370476abf2a5a18f5fab177d76,14,5,3,14985,,,0,"Specify hostname for standalone

The standalone must have a fully qualified hostname configured as it can
have issues when deploying with pacemaker managed services.

Change-Id: If7ae3f575238e69bfc8858dd968cf3c69af512ca
Related-Bug: #1814564
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/36/634836/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/standalone/tasks/main.yml'],1,51f61835e366c7bbf3e30e2c547ce9bb3a1e3615,bug/1814564,"- name: Set hostname hostname: name: ""{{ standalone_hostname | default('standalone.localdomain') }}"" ",,4,0
openstack%2Ftripleo-heat-templates~master~I15f9c286798b74529a7b4b09d7e9353eb715f5b1,openstack/tripleo-heat-templates,master,I15f9c286798b74529a7b4b09d7e9353eb715f5b1,Adding support of glance cinder store settings,MERGED,2019-01-23 09:39:42.000000000,2019-02-06 11:46:07.000000000,2019-02-06 11:46:07.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 19138}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-23 09:39:42.000000000', 'files': ['deployment/glance/glance-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d9a43277e5266e9d25061a4c16f0384529b46da4', 'message': 'Adding support of glance cinder store settings\n\nCurrently TripleO is completely unaware of the 4 glance\nsettings when cinder backend of glance is enabled.\n\nTo make the Image-Volume in the internal project accessible from\nthe Image service, the below parameters need to be set.\n\n- cinder_store_auth_address\n- cinder_store_project_name\n- cinder_store_user_name\n- cinder_store_password\n\nCloses-Bug: #1809104\nDepends-on: Ib19958577cdc4b829601018114ee0f564778c4da\nChange-Id: I15f9c286798b74529a7b4b09d7e9353eb715f5b1\n'}]",1,632671,d9a43277e5266e9d25061a4c16f0384529b46da4,17,5,1,19138,,,0,"Adding support of glance cinder store settings

Currently TripleO is completely unaware of the 4 glance
settings when cinder backend of glance is enabled.

To make the Image-Volume in the internal project accessible from
the Image service, the below parameters need to be set.

- cinder_store_auth_address
- cinder_store_project_name
- cinder_store_user_name
- cinder_store_password

Closes-Bug: #1809104
Depends-on: Ib19958577cdc4b829601018114ee0f564778c4da
Change-Id: I15f9c286798b74529a7b4b09d7e9353eb715f5b1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/71/632671/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/glance/glance-api-container-puppet.yaml'],1,d9a43277e5266e9d25061a4c16f0384529b46da4,bug/1809104," - cinder_backend_enabled - glance::backend::cinder::cinder_store_auth_address: {get_param: [EndpointMap, KeystoneV3Internal, uri]} glance::backend::cinder::cinder_store_project_name: 'service' glance::backend::cinder::cinder_store_user_name: service:glance glance::backend::cinder::cinder_store_password: {get_param: GlancePassword} - {} - if:",,8,0
openstack%2Ftripleo-common~stable%2Fqueens~I3d9a79f252922daff566bac5ba3b42c0d0e1550c,openstack/tripleo-common,stable/queens,I3d9a79f252922daff566bac5ba3b42c0d0e1550c,Bump the Ceph container image to 3.2.1,MERGED,2019-01-31 16:22:37.000000000,2019-02-06 11:46:05.000000000,2019-02-06 11:46:05.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-31 16:22:37.000000000', 'files': ['tripleo_common/image/kolla_builder.py', 'container-images/overcloud_containers.yaml', 'tripleo_common/tests/image/test_kolla_builder.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8a34366b250811f8973a3a07b7671387e80f8871', 'message': 'Bump the Ceph container image to 3.2.1\n\nChange-Id: I3d9a79f252922daff566bac5ba3b42c0d0e1550c\n(cherry picked from commit ce3f4639a1b60aebf5025cc5f1d202cb0ea67841)\n'}]",0,634261,8a34366b250811f8973a3a07b7671387e80f8871,8,4,1,6796,,,0,"Bump the Ceph container image to 3.2.1

Change-Id: I3d9a79f252922daff566bac5ba3b42c0d0e1550c
(cherry picked from commit ce3f4639a1b60aebf5025cc5f1d202cb0ea67841)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/61/634261/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/kolla_builder.py', 'container-images/overcloud_containers.yaml', 'tripleo_common/tests/image/test_kolla_builder.py']",3,8a34366b250811f8973a3a07b7671387e80f8871,," 'ceph_tag': 'v3.2.1-stable-3.2-luminous-centos-7-x86_64',"," 'ceph_tag': 'v3.2.0-stable-3.2-luminous-centos-7-x86_64',",3,3
openstack%2Ftripleo-heat-templates~master~I30f0802770d86d64e2ec6fa93dc9a608d4b15d69,openstack/tripleo-heat-templates,master,I30f0802770d86d64e2ec6fa93dc9a608d4b15d69,Flatten rabbitmq service - step 1,MERGED,2019-01-08 09:56:05.000000000,2019-02-06 11:46:04.000000000,2019-02-06 11:46:04.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-01-08 09:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8a5431ed5184f8da67645afe55fb9c1e4a2503d7', 'message': ""Flatten rabbitmq service - step 1\n\nThis flattens rabbitmq and removes puppet parts. The next step will\nmove the flattened templates to their final location.\n\nIt's split in two steps in order to make reviews easier on that big change.\n\nChange-Id: I30f0802770d86d64e2ec6fa93dc9a608d4b15d69\n""}, {'number': 2, 'created': '2019-01-08 12:39:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bc375e2dd70fdc36685ca3b2fbc956619f1bf457', 'message': ""Flatten rabbitmq service - step 1\n\nThis flattens rabbitmq and removes puppet parts. The next step will\nmove the flattened templates to their final location.\n\nIt's split in two steps in order to make reviews easier on that big change.\n\nChange-Id: I30f0802770d86d64e2ec6fa93dc9a608d4b15d69\n""}, {'number': 3, 'created': '2019-01-10 15:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d97edff403cc72759f7fe778c367384a0de1ec08', 'message': ""Flatten rabbitmq service - step 1\n\nThis flattens rabbitmq and removes puppet parts. The next step will\nmove the flattened templates to their final location.\n\nIt's split in two steps in order to make reviews easier on that big change.\n\nChange-Id: I30f0802770d86d64e2ec6fa93dc9a608d4b15d69\n""}, {'number': 4, 'created': '2019-01-28 06:35:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/13e60898176f4af769aa91c830f2edf42afa402d', 'message': ""Flatten rabbitmq service - step 1\n\nThis flattens rabbitmq and removes puppet parts. The next step will\nmove the flattened templates to their final location.\n\nIt's split in two steps in order to make reviews easier on that big change.\n\nChange-Id: I30f0802770d86d64e2ec6fa93dc9a608d4b15d69\n""}, {'number': 5, 'created': '2019-02-05 06:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/48eef833ab466fde18f05793c4903d0425beade6', 'message': ""Flatten rabbitmq service - step 1\n\nThis flattens rabbitmq and removes puppet parts. The next step will\nmove the flattened templates to their final location.\n\nIt's split in two steps in order to make reviews easier on that big change.\n\nChange-Id: I30f0802770d86d64e2ec6fa93dc9a608d4b15d69\n""}, {'number': 6, 'created': '2019-02-05 11:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/123ee8ec3f73f38b3dec843e1568b1d762da837a', 'message': ""Flatten rabbitmq service - step 1\n\nThis flattens rabbitmq and removes puppet parts. The next step will\nmove the flattened templates to their final location.\n\nIt's split in two steps in order to make reviews easier on that big change.\n\nChange-Id: I30f0802770d86d64e2ec6fa93dc9a608d4b15d69\n""}, {'number': 7, 'created': '2019-02-05 12:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eeddd9797eb016f347b1823cb6a88180760f9eaf', 'message': ""Flatten rabbitmq service - step 1\n\nThis flattens rabbitmq and removes puppet parts. The next step will\nmove the flattened templates to their final location.\n\nIt's split in two steps in order to make reviews easier on that big change.\n\nChange-Id: I30f0802770d86d64e2ec6fa93dc9a608d4b15d69\n""}, {'number': 8, 'created': '2019-02-05 14:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f4af68c412ef17f79ecc55ba37519e78ccdec791', 'message': ""Flatten rabbitmq service - step 1\n\nThis flattens rabbitmq and removes puppet parts. The next step will\nmove the flattened templates to their final location.\n\nIt's split in two steps in order to make reviews easier on that big change.\n\nChange-Id: I30f0802770d86d64e2ec6fa93dc9a608d4b15d69\n""}, {'number': 9, 'created': '2019-02-05 14:44:49.000000000', 'files': ['puppet/services/messaging/notify-rabbitmq.yaml', 'docker/services/messaging/rpc-rabbitmq.yaml', 'puppet/services/pacemaker/rabbitmq.yaml', 'environments/baremetal-services.yaml', 'puppet/services/messaging/notify-rabbitmq-shared.yaml', 'docker/services/messaging/notify-rabbitmq.yaml', 'docker/services/pacemaker/rabbitmq.yaml', 'sample-env-generator/ssl.yaml', 'puppet/services/rabbitmq.yaml', 'docker/services/pacemaker/rpc-rabbitmq.yaml', 'docker/services/pacemaker/notify-rabbitmq.yaml', 'sample-env-generator/messaging.yaml', 'docker/services/messaging/notify-rabbitmq-shared.yaml', 'tools/yaml-validate.py', 'puppet/services/messaging/rpc-rabbitmq.yaml', 'docker/services/rabbitmq.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fb7ea6734e241da655d436ddf9906e4c886ffa5d', 'message': ""Flatten rabbitmq service - step 1\n\nThis flattens rabbitmq and removes puppet parts. The next step will\nmove the flattened templates to their final location.\n\nIt's split in two steps in order to make reviews easier on that big change.\n\nChange-Id: I30f0802770d86d64e2ec6fa93dc9a608d4b15d69\n""}]",5,629120,fb7ea6734e241da655d436ddf9906e4c886ffa5d,40,9,9,28223,,,0,"Flatten rabbitmq service - step 1

This flattens rabbitmq and removes puppet parts. The next step will
move the flattened templates to their final location.

It's split in two steps in order to make reviews easier on that big change.

Change-Id: I30f0802770d86d64e2ec6fa93dc9a608d4b15d69
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/20/629120/6 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/messaging/notify-rabbitmq.yaml', 'docker/services/messaging/rpc-rabbitmq.yaml', 'puppet/services/pacemaker/rabbitmq.yaml', 'environments/baremetal-services.yaml', 'puppet/services/messaging/notify-rabbitmq-shared.yaml', 'docker/services/messaging/notify-rabbitmq.yaml', 'docker/services/pacemaker/rabbitmq.yaml', 'sample-env-generator/ssl.yaml', 'puppet/services/rabbitmq.yaml', 'docker/services/pacemaker/rpc-rabbitmq.yaml', 'docker/services/pacemaker/notify-rabbitmq.yaml', 'sample-env-generator/messaging.yaml', 'docker/services/messaging/notify-rabbitmq-shared.yaml', 'tools/yaml-validate.py', 'puppet/services/messaging/rpc-rabbitmq.yaml', 'docker/services/rabbitmq.yaml']",16,8a5431ed5184f8da67645afe55fb9c1e4a2503d7,bp/services-yaml-flattening/rabbitmq-step1," RabbitUserName: default: guest description: The username for RabbitMQ type: string RabbitPassword: description: The password for RabbitMQ type: string hidden: true RabbitFDLimit: default: 65536 description: Configures RabbitMQ FD limit type: number RabbitIPv6: default: false description: Enable IPv6 in RabbitMQ type: boolean RabbitCookie: type: string default: '' hidden: true RabbitHAQueues: description: The number of HA queues to be configured in rabbit. The default is -1 which translates to ""ha-mode all"". The special value 0 will be automatically overridden to CEIL(N/2) where N is the number of nodes running rabbitmq. default: 0 type: number RabbitNetTickTime: description: The number of seconds to configure the value of the erlang net_ticktime kernel variable. default: 15 type: number RabbitAdditionalErlArgs: description: Additional parameters passed to the Erlang subsystem. The string needs to be enclosed in quotes twice. We default to +sbwt none in order to have the erlang vm be less busy on spinlocks, but we allow a simple way of overriding it. default: ""'+sbwt none'"" type: string MonitoringSubscriptionRabbitmq: default: 'overcloud-rabbitmq' type: string service_name: rabbitmq - rabbitmq::file_limit: {get_param: RabbitFDLimit} rabbitmq::default_user: {get_param: RabbitUserName} rabbitmq::default_pass: {get_param: RabbitPassword} rabbit_ipv6: {get_param: RabbitIPv6} tripleo::rabbitmq::firewall_rules: '109 rabbitmq': dport: - 4369 - 5672 - 25672 rabbitmq::delete_guest_user: false rabbitmq::wipe_db_on_cookie_change: true rabbitmq::port: 5672 rabbitmq::package_provider: yum rabbitmq::package_source: undef rabbitmq::repos_ensure: false rabbitmq::tcp_keepalive: true rabbitmq_environment: NODE_PORT: '' NODE_IP_ADDRESS: '' RABBITMQ_NODENAME: ""rabbit@%{::hostname}"" RABBITMQ_SERVER_ERL_ARGS: '""+K true +P 1048576 -kernel inet_default_connect_options [{nodelay,true}]""' RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS: {get_param: RabbitAdditionalErlArgs} 'export ERL_EPMD_ADDRESS': ""%{hiera('rabbitmq::interface')}"" rabbitmq_kernel_variables: inet_dist_listen_min: '25672' inet_dist_listen_max: '25672' net_ticktime: {get_param: RabbitNetTickTime} rabbitmq_config_variables: cluster_partition_handling: 'ignore' queue_master_locator: '<<""min-masters"">>' loopback_users: '[]' rabbitmq::erlang_cookie: yaql: expression: $.data.passwords.where($ != '').first() data: passwords: - {get_param: RabbitCookie} - {get_param: [DefaultPasswords, rabbit_cookie]} # NOTE: bind IP is found in hiera replacing the network name with the # local node IP for the given network; replacement examples # (eg. for internal_api): # internal_api -> IP # internal_api_uri -> [IP] # internal_api_subnet - > IP/CIDR rabbitmq::interface: str_replace: template: ""%{hiera('$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, RabbitmqNetwork]} rabbitmq::nr_ha_queues: {get_param: RabbitHAQueues} rabbitmq::ssl: {get_param: EnableInternalTLS} rabbitmq::ssl_erl_dist: {get_param: EnableInternalTLS} rabbitmq::ssl_port: 5672 rabbitmq::ssl_depth: 1 rabbitmq::ssl_only: {get_param: EnableInternalTLS} rabbitmq::ssl_interface: str_replace: template: ""%{hiera('$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, RabbitmqNetwork]} # TODO(jaosorior): Remove this once we set a proper default in # puppet-tripleo tripleo::profile::base::rabbitmq::enable_internal_tls: {get_param: EnableInternalTLS} - if: - internal_tls_enabled - generate_service_certificates: true tripleo::profile::base::rabbitmq::certificate_specs: service_certificate: '/etc/pki/tls/certs/rabbitmq.crt' service_key: '/etc/pki/tls/private/rabbitmq.key' hostname: str_replace: template: ""%{hiera('fqdn_NETWORK')}"" params: NETWORK: {get_param: [ServiceNetMap, RabbitmqNetwork]} principal: str_replace: template: ""rabbitmq/%{hiera('fqdn_NETWORK')}"" params: NETWORK: {get_param: [ServiceNetMap, RabbitmqNetwork]} - {} - ""include ::tripleo::profile::base::rabbitmq"" if: - internal_tls_enabled - - service: rabbitmq network: {get_param: [ServiceNetMap, RabbitmqNetwork]} type: node - null"," RabbitmqBase: type: ../../puppet/services/rabbitmq.yaml properties: EndpointMap: {get_param: EndpointMap} ServiceData: {get_param: ServiceData} ServiceNetMap: {get_param: ServiceNetMap} DefaultPasswords: {get_param: DefaultPasswords} RoleName: {get_param: RoleName} RoleParameters: {get_param: RoleParameters} service_name: {get_attr: [RabbitmqBase, role_data, service_name]} - {get_attr: [RabbitmqBase, role_data, config_settings]} service_config_settings: {get_attr: [RabbitmqBase, role_data, service_config_settings]} - get_attr: [RabbitmqBase, role_data, step_config] get_attr: [RabbitmqBase, role_data, metadata_settings]",344,667
openstack%2Ftacker-horizon~master~I27506d9c007b500fd97fd88f145e215885a44606,openstack/tacker-horizon,master,I27506d9c007b500fd97fd88f145e215885a44606,fix tox python3 overrides,MERGED,2018-09-29 23:54:06.000000000,2019-02-06 11:19:57.000000000,2019-02-06 11:19:57.000000000,"[{'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 27153}]","[{'number': 1, 'created': '2018-09-29 23:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/dfd28b276a679a7fc6ef72175c5804e7ec79346b', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I27506d9c007b500fd97fd88f145e215885a44606\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2019-01-15 10:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/1d24021fbf030c425090b6afbea2281f62eb776c', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I27506d9c007b500fd97fd88f145e215885a44606\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2019-01-31 13:02:23.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/3c4238fbf6331535ef005e2b68ab1ec66ba64f00', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I27506d9c007b500fd97fd88f145e215885a44606\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,606727,3c4238fbf6331535ef005e2b68ab1ec66ba64f00,12,3,3,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I27506d9c007b500fd97fd88f145e215885a44606
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/tacker-horizon refs/changes/27/606727/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,dfd28b276a679a7fc6ef72175c5804e7ec79346b,python3-first,basepython = python3basepython = python3basepython = python3basepython = python3,,4,0
openstack%2Fdragonflow~master~I0aae2a01ca5fd67bd828bb8daf6df466c60acff2,openstack/dragonflow,master,I0aae2a01ca5fd67bd828bb8daf6df466c60acff2,Stop using a hardcoded cirros image name,MERGED,2019-02-05 13:11:59.000000000,2019-02-06 11:18:34.000000000,2019-02-06 11:18:34.000000000,"[{'_account_id': 6598}, {'_account_id': 17880}, {'_account_id': 20229}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-05 13:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/371be9e6ad077a690728be5d356104ab9b2d95f8', 'message': ""Stop using a hardcoded cirros image name\n\nIn the tests we have the cirros image name hard-coded.\nThis reuqires us to update it every time the test image is updated.\nInstead, now we list the images and take the first one (which is safe enough for\nthe circumstances).\nAnyway, if a specific image is required, it may still be requested in the\n'vm_image' argument.\n\nChange-Id: I0aae2a01ca5fd67bd828bb8daf6df466c60acff2\n""}, {'number': 2, 'created': '2019-02-05 13:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/c7249486804f2e2611d2fe52300d39b579eedc3f', 'message': ""Stop using a hardcoded cirros image name\n\nIn the tests we have the cirros image name hard-coded.\nThis reuqires us to update it every time the test image is updated.\nInstead, now we list the images and take the first one (which is safe enough for\nthe circumstances).\nAnyway, if a specific image is required, it may still be requested in the\n'vm_image' argument.\n\nChange-Id: I0aae2a01ca5fd67bd828bb8daf6df466c60acff2\n""}, {'number': 3, 'created': '2019-02-06 06:33:49.000000000', 'files': ['dragonflow/tests/fullstack/test_objects.py'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/8f0e67da2e8ec7d145ba8c09e7f5ceb33677d46a', 'message': ""Stop using a hardcoded cirros image name\n\nIn the tests we have the cirros image name hard-coded.\nThis requires us to update it every time the test image is updated.\nInstead, now we list the images and take the first one (which is safe enough for\nthe circumstances).\nAnyway, if a specific image is required, it may still be requested in the\n'vm_image' argument.\n\nChange-Id: I0aae2a01ca5fd67bd828bb8daf6df466c60acff2\n""}]",2,634931,8f0e67da2e8ec7d145ba8c09e7f5ceb33677d46a,16,4,3,17880,,,0,"Stop using a hardcoded cirros image name

In the tests we have the cirros image name hard-coded.
This requires us to update it every time the test image is updated.
Instead, now we list the images and take the first one (which is safe enough for
the circumstances).
Anyway, if a specific image is required, it may still be requested in the
'vm_image' argument.

Change-Id: I0aae2a01ca5fd67bd828bb8daf6df466c60acff2
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/31/634931/2 && git format-patch -1 --stdout FETCH_HEAD,['dragonflow/tests/fullstack/test_objects.py'],1,371be9e6ad077a690728be5d356104ab9b2d95f8,cirros_handling," net_address=None, vm_image=None): if vm_image: image = self.nova.glance.find_image(vm_image) else: # As we are running in test environment, it would be safe to assume # we only have one image, which is the image we want to use. # Taking the first image is safe enough in this case images = self.nova.glance.list() self.assertNotEqual(len(images), 0) image = images[0]"," net_address=None): image = self.nova.glance.find_image(""cirros-0.4.0-x86_64-disk"")",10,2
openstack%2Ftripleo-upgrade~master~Id3a7bd3943fa534f1d3b5a898aeae8f28f4830d0,openstack/tripleo-upgrade,master,Id3a7bd3943fa534f1d3b5a898aeae8f28f4830d0,Default launch_sanity_workload to false.,ABANDONED,2019-02-05 15:41:32.000000000,2019-02-06 11:13:51.000000000,,"[{'_account_id': 8042}, {'_account_id': 20775}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 22895}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-02-05 15:41:32.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7e2859657aeaa3de4b9d15223651ecdebf8a07a5', 'message': ""Default launch_sanity_workload to false.\n\nAs an additional check to the upgrade process itself, it's recommended\nto default this parameter to false, otherwise it will fail in some scenarios\nwhere no compute nodes are not deployed, like is the case of the upgrades\nupstream CI job.\n\nChange-Id: Id3a7bd3943fa534f1d3b5a898aeae8f28f4830d0\n""}]",0,634961,7e2859657aeaa3de4b9d15223651ecdebf8a07a5,6,6,1,26343,,,0,"Default launch_sanity_workload to false.

As an additional check to the upgrade process itself, it's recommended
to default this parameter to false, otherwise it will fail in some scenarios
where no compute nodes are not deployed, like is the case of the upgrades
upstream CI job.

Change-Id: Id3a7bd3943fa534f1d3b5a898aeae8f28f4830d0
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/61/634961/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,7e2859657aeaa3de4b9d15223651ecdebf8a07a5,,launch_sanity_workload: false,launch_sanity_workload: true,1,1
openstack%2Fpuppet-openstack-integration~master~I4bc71fb66e2760088fba2fefa34794e2e865bb74,openstack/puppet-openstack-integration,master,I4bc71fb66e2760088fba2fefa34794e2e865bb74,Fix neutron fwaas driver configuration,MERGED,2019-02-06 06:08:30.000000000,2019-02-06 11:05:43.000000000,2019-02-06 11:05:43.000000000,"[{'_account_id': 1131}, {'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-06 06:08:30.000000000', 'files': ['manifests/neutron.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/11c86ee3137baca59a8be98277a45d82f7aefbef', 'message': 'Fix neutron fwaas driver configuration\n\nhttps://review.openstack.org/#/c/634862/ switched to\nfwaas v2, but l3 agent is not able to load fwaas_v2 extension\ndue to wrong Driver, this patch fixes it.\n\nChange-Id: I4bc71fb66e2760088fba2fefa34794e2e865bb74\n'}]",0,635095,11c86ee3137baca59a8be98277a45d82f7aefbef,8,7,1,13861,,,0,"Fix neutron fwaas driver configuration

https://review.openstack.org/#/c/634862/ switched to
fwaas v2, but l3 agent is not able to load fwaas_v2 extension
due to wrong Driver, this patch fixes it.

Change-Id: I4bc71fb66e2760088fba2fefa34794e2e865bb74
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/95/635095/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/neutron.pp'],1,11c86ee3137baca59a8be98277a45d82f7aefbef,remove_fwaas_v1," driver => 'neutron_fwaas.services.firewall.service_drivers.agents.drivers.linux.iptables_fwaas_v2.IptablesFwaasDriver',"," driver => 'neutron_fwaas.services.firewall.drivers.linux.iptables_fwaas_v2.IptablesFwaasDriver',",1,1
openstack%2Fpuppet-openstack-integration~master~I2c860de8669b6d64fb00410238b004543441da12,openstack/puppet-openstack-integration,master,I2c860de8669b6d64fb00410238b004543441da12,Set DEBIAN_FRONTEND with export,MERGED,2019-02-04 14:41:52.000000000,2019-02-06 10:58:09.000000000,2019-02-06 10:58:09.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-04 14:41:52.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/80f456ff08b63c104002c9705dcff27cd821d45a', 'message': 'Set DEBIAN_FRONTEND with export\n\nWhen setting DEBIAN_FRONTEND on command line with sudo\ninside a Ubuntu Bionic vagrant vm it fails.\n\nInstead set this variable with export since we use $SUDO\nwhich executed ""sudo -e"" we will get set variables pushed\nthrough.\n\nChange-Id: I2c860de8669b6d64fb00410238b004543441da12\n'}]",0,634701,80f456ff08b63c104002c9705dcff27cd821d45a,8,4,1,16137,,,0,"Set DEBIAN_FRONTEND with export

When setting DEBIAN_FRONTEND on command line with sudo
inside a Ubuntu Bionic vagrant vm it fails.

Instead set this variable with export since we use $SUDO
which executed ""sudo -e"" we will get set variables pushed
through.

Change-Id: I2c860de8669b6d64fb00410238b004543441da12
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/01/634701/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,80f456ff08b63c104002c9705dcff27cd821d45a,," export DEBIAN_FRONTEND=noninteractive $SUDO apt-get -y -o Dpkg::Options::=""--force-confnew"" upgrade"," $SUDO DEBIAN_FRONTEND=noninteractive apt-get -y -o Dpkg::Options::=""--force-confnew"" upgrade",2,1
openstack%2Fmonasca-persister~master~I86a730d49e1018620105e4e2d2e7ecb05026de1e,openstack/monasca-persister,master,I86a730d49e1018620105e4e2d2e7ecb05026de1e,Add tempest tests jobs,MERGED,2019-01-31 18:12:53.000000000,2019-02-06 10:51:34.000000000,2019-02-06 10:51:33.000000000,"[{'_account_id': 14123}, {'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2019-01-31 18:12:53.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/8e76d4648d2c2014776a1ae6d2db6e2e7b766ba1', 'message': 'Add tempest tests jobs\n\nChange-Id: I86a730d49e1018620105e4e2d2e7ecb05026de1e\n'}]",0,634289,8e76d4648d2c2014776a1ae6d2db6e2e7b766ba1,10,4,1,16222,,,0,"Add tempest tests jobs

Change-Id: I86a730d49e1018620105e4e2d2e7ecb05026de1e
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/89/634289/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8e76d4648d2c2014776a1ae6d2db6e2e7b766ba1,tempest, - monasca-tempest-python2-influxdb - monasca-tempest-python3-influxdb - monasca-tempest-python2-cassandra - monasca-tempest-python2-influxdb - monasca-tempest-python3-influxdb - monasca-tempest-python2-cassandra, - monasca-tempest-python-influxdb - monasca-tempest-python-cassandra - monasca-tempest-python-influxdb - monasca-tempest-python-cassandra,6,4
openstack%2Fpuppet-openstack-integration~master~If406d07d5f204c4b04bd3b85e76e03fc55af8536,openstack/puppet-openstack-integration,master,If406d07d5f204c4b04bd3b85e76e03fc55af8536,Make sure libapache2-mod-wsgi-py3 is used for Ubuntu,MERGED,2019-02-04 15:15:36.000000000,2019-02-06 10:48:15.000000000,2019-02-06 10:48:15.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-04 15:15:36.000000000', 'files': ['fixtures/scenario001.pp', 'fixtures/scenario002.pp', 'fixtures/scenario003.pp', 'fixtures/scenario004.pp', 'fixtures/scenario-py3.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/4159e236d9dbdd83ca2d29baad9d5768e196b8be', 'message': 'Make sure libapache2-mod-wsgi-py3 is used for Ubuntu\n\nForgot to change the second if statement, this is\nrequired to make sure mod_wsgi py2 is not installed\nwhich overwrites the py3 version and makes thing fail.\n\nChange-Id: If406d07d5f204c4b04bd3b85e76e03fc55af8536\n'}]",0,634715,4159e236d9dbdd83ca2d29baad9d5768e196b8be,8,4,1,16137,,,0,"Make sure libapache2-mod-wsgi-py3 is used for Ubuntu

Forgot to change the second if statement, this is
required to make sure mod_wsgi py2 is not installed
which overwrites the py3 version and makes thing fail.

Change-Id: If406d07d5f204c4b04bd3b85e76e03fc55af8536
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/15/634715/1 && git format-patch -1 --stdout FETCH_HEAD,"['fixtures/scenario001.pp', 'fixtures/scenario002.pp', 'fixtures/scenario003.pp', 'fixtures/scenario004.pp', 'fixtures/scenario-py3.pp']",5,4159e236d9dbdd83ca2d29baad9d5768e196b8be,mod-wsgi,if ($::os['family'] == 'Debian') or ($::os['name'] == 'Fedora') or,if ($::os_package_type == 'debian') or ($::os['name'] == 'Fedora') or,5,5
openstack%2Fmasakari~stable%2Fqueens~I9792d972e04ca28133fd0cd4c5d5fcf12ad17ca6,openstack/masakari,stable/queens,I9792d972e04ca28133fd0cd4c5d5fcf12ad17ca6,Add masakari-systemfault-integration-ci to .zuul.yaml,MERGED,2019-02-06 02:24:08.000000000,2019-02-06 10:39:56.000000000,2019-02-06 10:39:55.000000000,"[{'_account_id': 8716}, {'_account_id': 22348}, {'_account_id': 25267}]","[{'number': 1, 'created': '2019-02-06 02:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/34830bf2e191c14271ebe4b66e59210b0ed8bbe7', 'message': '[WIP]Add masakari-systemfault-integration-ci to .zuul.yaml\n\nThis patch modifies .zuul.yaml to run masakari-systemfault-integration-ci.\n\nChange-Id: I9792d972e04ca28133fd0cd4c5d5fcf12ad17ca6\n'}, {'number': 2, 'created': '2019-02-06 04:36:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/masakari/commit/33a81c5c471b4c1fff2609441f3f821f2af16ee8', 'message': 'Add masakari-systemfault-integration-ci to .zuul.yaml\n\nThis patch modifies .zuul.yaml to run masakari-systemfault-integration-ci.\n\nChange-Id: I9792d972e04ca28133fd0cd4c5d5fcf12ad17ca6\n'}]",0,635086,33a81c5c471b4c1fff2609441f3f821f2af16ee8,12,3,2,8988,,,0,"Add masakari-systemfault-integration-ci to .zuul.yaml

This patch modifies .zuul.yaml to run masakari-systemfault-integration-ci.

Change-Id: I9792d972e04ca28133fd0cd4c5d5fcf12ad17ca6
",git fetch https://review.opendev.org/openstack/masakari refs/changes/86/635086/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,34830bf2e191c14271ebe4b66e59210b0ed8bbe7,add-3rd-party-ci-to-queens, - project: masakari-systemfault-integration-ci: jobs: - masakari-build-test - job: name: masakari-build-test parent: base,,9,0
openstack%2Fmasakari~stable%2Frocky~Ib28c572534af335c2809c1f91c37f445da3907f4,openstack/masakari,stable/rocky,Ib28c572534af335c2809c1f91c37f445da3907f4,Add masakari-systemfault-integration-ci to .zuul.yaml,MERGED,2019-02-06 02:22:33.000000000,2019-02-06 10:39:55.000000000,2019-02-06 10:39:55.000000000,"[{'_account_id': 8716}, {'_account_id': 22348}, {'_account_id': 25267}]","[{'number': 1, 'created': '2019-02-06 02:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/68c6b3b5d020424b83672328ddcf579f16c46cf0', 'message': '[WIP]Add masakari-systemfault-integration-ci to .zuul.yaml\n\nThis patch modifies .zuul.yaml to run masakari-systemfault-integration-ci.\n\nChange-Id: Ib28c572534af335c2809c1f91c37f445da3907f4\n'}, {'number': 2, 'created': '2019-02-06 04:36:26.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/masakari/commit/a48607af76744eb542b1f04aa2417e0bb76d4bd0', 'message': 'Add masakari-systemfault-integration-ci to .zuul.yaml\n\nThis patch modifies .zuul.yaml to run masakari-systemfault-integration-ci.\n\nChange-Id: Ib28c572534af335c2809c1f91c37f445da3907f4\n'}]",0,635085,a48607af76744eb542b1f04aa2417e0bb76d4bd0,12,3,2,8988,,,0,"Add masakari-systemfault-integration-ci to .zuul.yaml

This patch modifies .zuul.yaml to run masakari-systemfault-integration-ci.

Change-Id: Ib28c572534af335c2809c1f91c37f445da3907f4
",git fetch https://review.opendev.org/openstack/masakari refs/changes/85/635085/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,68c6b3b5d020424b83672328ddcf579f16c46cf0,add-3rd-party-ci-to-rocky, - project: masakari-systemfault-integration-ci: jobs: - masakari-build-test - job: name: masakari-build-test parent: base,,9,0
openstack%2Fmasakari~master~Ib28c572534af335c2809c1f91c37f445da3907f4,openstack/masakari,master,Ib28c572534af335c2809c1f91c37f445da3907f4,Add masakari-systemfault-integration-ci to .zuul.yaml,MERGED,2019-02-05 09:03:29.000000000,2019-02-06 10:39:54.000000000,2019-02-06 10:39:54.000000000,"[{'_account_id': 8716}, {'_account_id': 8988}, {'_account_id': 22348}, {'_account_id': 25267}]","[{'number': 1, 'created': '2019-02-05 09:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/229f97860f53ae713df9332a5a096480a4748bb9', 'message': '[WIP]Add masakari-systemfault-integration-ci to .zuul.yaml\n\nThis patch modifies .zuul.yaml to run masakari-systemfault-integration-ci.\n\nChange-Id: Ib28c572534af335c2809c1f91c37f445da3907f4\n'}, {'number': 2, 'created': '2019-02-06 04:34:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/masakari/commit/1a18e940a00429405cec1e52608da0d51903e206', 'message': 'Add masakari-systemfault-integration-ci to .zuul.yaml\n\nThis patch modifies .zuul.yaml to run masakari-systemfault-integration-ci.\n\nChange-Id: Ib28c572534af335c2809c1f91c37f445da3907f4\n'}]",0,634888,1a18e940a00429405cec1e52608da0d51903e206,23,4,2,8988,,,0,"Add masakari-systemfault-integration-ci to .zuul.yaml

This patch modifies .zuul.yaml to run masakari-systemfault-integration-ci.

Change-Id: Ib28c572534af335c2809c1f91c37f445da3907f4
",git fetch https://review.opendev.org/openstack/masakari refs/changes/88/634888/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,229f97860f53ae713df9332a5a096480a4748bb9,add-3rd-party-ci, - project: masakari-systemfault-integration-ci: jobs: - masakari-build-test - job: name: masakari-build-test parent: base,,9,0
openstack%2Fcloudkitty~master~I9fa330524160d8bc4ab33047c360ce8120ee3a3d,openstack/cloudkitty,master,I9fa330524160d8bc4ab33047c360ce8120ee3a3d,Add collector documentation,MERGED,2019-01-24 16:45:07.000000000,2019-02-06 10:33:22.000000000,2019-02-06 10:33:22.000000000,"[{'_account_id': 9642}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-01-24 16:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/fca90ca8da8aaf1a0e1123a09185ea12d88f0f5b', 'message': 'Add collector documentation\n\nThis adds some documentation about collectors and metric collection.\n\nWork items:\n\n* Detail common and collector-specific options in cloudkitty.conf\n\n* Detail common and collector-specific options in metrics.yml\n\n* Explain how data is collected\n\nChange-Id: I9fa330524160d8bc4ab33047c360ce8120ee3a3d\nStory: 2004179\nTask: 29064\n'}, {'number': 2, 'created': '2019-01-24 16:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/2561d670b5ea7a105f307d99b8acac481afab132', 'message': 'Add collector documentation\n\nThis adds some documentation about collectors and metric collection.\n\nWork items:\n\n* Detail common and collector-specific options in cloudkitty.conf\n\n* Detail common and collector-specific options in metrics.yml\n\n* Explain how data is collected\n\nChange-Id: I9fa330524160d8bc4ab33047c360ce8120ee3a3d\nStory: 2004179\nTask: 29064\n'}, {'number': 3, 'created': '2019-02-05 15:48:13.000000000', 'files': ['doc/source/admin/configuration/index.rst', 'doc/source/admin/configuration/collector.rst'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/347992d8e9e7de9582fd834f1cd6d12da710412f', 'message': 'Add collector documentation\n\nThis adds some documentation about collectors and metric collection.\n\nWork items:\n\n* Detail common and collector-specific options in cloudkitty.conf\n\n* Detail common and collector-specific options in metrics.yml\n\n* Explain how data is collected\n\nChange-Id: I9fa330524160d8bc4ab33047c360ce8120ee3a3d\nStory: 2004179\nTask: 29064\n'}]",0,633035,347992d8e9e7de9582fd834f1cd6d12da710412f,12,4,3,23060,,,0,"Add collector documentation

This adds some documentation about collectors and metric collection.

Work items:

* Detail common and collector-specific options in cloudkitty.conf

* Detail common and collector-specific options in metrics.yml

* Explain how data is collected

Change-Id: I9fa330524160d8bc4ab33047c360ce8120ee3a3d
Story: 2004179
Task: 29064
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/35/633035/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/configuration/index.rst', 'doc/source/admin/configuration/collector.rst']",2,fca90ca8da8aaf1a0e1123a09185ea12d88f0f5b,,"========================= Collector configuration ========================= Common options ============== Options common to all collectors are specified in the ``[collect]`` section of the configuration file. The following options are available: * ``collector``: Defaults to ``gnocchi``. The name of the collector to load. Must be one of [``gnocchi``, ``monasca``, ``prometheus``]. * ``period``: Default to 3600. Duration (in seconds) of the collect period. * ``wait_periods``: Defaults to 2. Periods to wait before the current timestamp. This is done to avoid missing some data that hasn't been retrieved by the data source yet. * ``metrics_conf``: Defaults to ``/etc/cloudkitty/metrics.yml``. Path of the metric collection configuration file. See ""Metric collection"" section below for details. * ``scope_key``: Defaults to ``project_id``. Key at which the scope can be found. The scope defines how data collection is split between the processors. Collector-specific options ========================== Collector-specific options must be specified in the ``collector_{collector_name}`` section of ``cloudkitty.conf``. Gnocchi ------- Section: ``collector_gnocchi``. * ``gnocchi_auth_type``: Defaults to ``keystone``. Defines what authentication method should be used by the gnocchi collector. Must be one of ``basic`` (for gnocchi basic authentication) or ``keystone`` (for classic keystone authentication). If ``keystone`` is chosen, credentials can be specified in a section pointed at by the ``auth_section`` parameter. * ``gnocchi_user``: For gnocchi basic authentication only. The gnocchi user. * ``gnocchi_endpoint``: For gnocchi basic authentication only. The gnocchi endpoint. * ``interface``: Defaults to ``internalURL``. For keystone authentication only. The interface to use for keystone URL discovery. * ``region_name``: Defaults to ``RegionOne``. For keystone authentication only. Region name. Monasca ------- Section: ``collector_monasca``. * ``interface``: Defaults to ``internal``. The interface to use for keystone URL discovery. * ``monasca_service_name``: Defaults to ``monasca``. Name of the Monasca service in Keystone. Metric collection ================= Metric collection is highly configurable in cloudkitty. In order to keep the main configuration file as clean as possible, metric collection is configured in a yaml file. The path to this file defaults to ``/etc/cloudkitty/metrics.yml``, but can be configured: .. code-block:: ini [collect] metrics_conf = /my/custom/path.yml Minimal Configuration --------------------- This config file has the following format: .. code-block:: yaml metrics: # top-level key metric_one: # metric name unit: squirrel groupby: # attributes by which metrics should be grouped - id metadata: # additional attributes to retrieve - color At the top level of the file, a ``metrics`` key is required. It contains a dict of metrics to collect, each key of the dict being the name of a metric as it is called in the datasource (``volume.size`` or ``image.size`` for example). For each metric, the following attributes are required: * ``unit``: the unit in which the metric will be stored after conversion. This is just an indication for humans and has absolutely no impact on metric collection, conversion or rating. * ``groupby``: A list of attributes by which metrics should be grouped on collection. These will allow to re-group data when it is retrieved through the v2 API. A typical usecase would be to group data by ID, project ID, domain ID and user ID on collection, but only by user ID on retrieval. * ``metadata``: A list of additional attributes that should be collected for the given metric. These can be used for rating rules and will appear in monthly reports. However, it is not possible to group on these attributes. If you need to group on a ``metadata`` attribute, move it to the ``groupby`` list. .. note:: The ``scope_key`` is automatically added to ``groupby``. Optional parameters ------------------- Unit conversion ~~~~~~~~~~~~~~~ If you need to convert the collected qty (from MiB to GiB for example), it can be done with the ``factor`` and ``offset`` options. ``factor`` defaults to 1 and ``offset`` to 0. These options are used to calculate the final result with the following formula: ``qty = collected_qty * factor + offset``. .. note:: ``factor`` and ``offset`` can be floats, integers or fractions. Example from the default configuration file, conversion from B to MiB for the ``image.size`` metric: .. code-block:: yaml metrics: image.size: groupby: - id metadata: - disk_format unit: MiB # Final unit factor: 1/1048576 # Dividing by 1024 * 1024 .. note:: Here we don't add anything, so there is no need to specify ``offset``. Quantity mutation ~~~~~~~~~~~~~~~~~ It is also possible to mutate the collected qty with the ``mutate`` option. Four values are accepted for this parameter: * ``NONE``: This is the default. The collected data is not modifed. * ``CEIL``: The qty is rounded up to the closest integer. * ``FLOOR``: The qty is rounded down to the closest integer. * ``NUMBOOL``: If the collected qty equals 0, leave it at 0. Else, set it to 1. .. warning:: Quantity mutation is done **after** conversion. Example:: factor: 10 mutate: CEIL In consequence, the configuration above will convert 9.9 to 99 (9.9 -> 99 -> 99) and not to 100 (9.9 -> 10 -> 100) A typical usecase for the ``NUMBOOL`` conversion would be instance uptime collection with the gnocchi collector: In order to know if an instance is running or paused, you can use the ``cpu`` metric. This metric is at 0 when the instance is paused. Thus, the qty is mutated to a ``NUMBOOL`` because the ``cpu`` metric always represents one instance. Rating rules are then defined based on the instance metadata. Example: .. code-block:: yaml metrics: cpu: unit: instance mutate: NUMBOOL groupby: - id metadata: - flavor_id Display name ~~~~~~~~~~~~ Sometimes, you'll want to use another name for a metric, either to shorten it a bit or to make it more explicit. For example, the ``cpu`` metric from the previous section could be called ``instance``. That's what the ``alt_name`` option does: .. code-block:: yaml metrics: cpu: unit: instance alt_name: instance mutate: NUMBOOL groupby: - id metadata: - flavor_id Collector-specific configuration -------------------------------- Some collectors require extra options. These must be specified through the ``extra_args`` option. Some options have defaults, other must be systematically specified. The extra args for each collector are detailed below. Gnocchi ~~~~~~~ * ``resource_type``: No default value. The resource type the current metric is bound to. * ``resource_key``: Defaults to ``id``. The attribute containing the unique resource identifier. This is an advanced option, do not modify it unless you know what you're doing. * ``aggregation_method``: Defaults to ``max``. The aggregation method to use when retrieving measures in gnocchi. Must be one of ``min``, ``max``, ``mean``. Monasca ~~~~~~~ * ``resource_key``: Defaults to ``resource_id``. The attribute containing the unique resource identifier. This is an advanced option, do not modify it unless you know what you're doing. * ``aggregation_method``: Defaults to ``max``. The aggregation method to use when retrieving measures in gnocchi. Must be one of ``min``, ``max``, ``mean``. ",,244,0
openstack%2Fcloudkitty~master~I2423761b9f7a672fe837d5d5954473301d936ba3,openstack/cloudkitty,master,I2423761b9f7a672fe837d5d5954473301d936ba3,Add some developer documentation for collectors,MERGED,2018-12-18 14:15:09.000000000,2019-02-06 10:33:15.000000000,2019-02-06 10:33:15.000000000,"[{'_account_id': 9642}, {'_account_id': 12015}, {'_account_id': 22348}, {'_account_id': 23060}]","[{'number': 1, 'created': '2018-12-18 14:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/63cf71e48b0337dca45e45856d3c9e32a31a4aab', 'message': 'Add some developer documentation for collectors\n\nThis adds an entry about collectors to the developer documentation.\nSome information about collectors has been moved from the admin to the\ndeveloper documentation.\n\nChange-Id: I2423761b9f7a672fe837d5d5954473301d936ba3\nStory: 2004179\nTask: 28514\n'}, {'number': 2, 'created': '2019-01-09 15:43:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/0b52a04604de4b848d798b85867a005e6f7f0282', 'message': 'Add some developer documentation for collectors\n\nThis adds an entry about collectors to the developer documentation.\nSome information about collectors has been moved from the admin to the\ndeveloper documentation.\n\nChange-Id: I2423761b9f7a672fe837d5d5954473301d936ba3\nStory: 2004179\nTask: 28514\n'}, {'number': 3, 'created': '2019-02-05 15:48:07.000000000', 'files': ['doc/source/admin/architecture.rst', 'doc/source/developer/collector.rst', 'doc/source/developer/index.rst'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/e3171f869e7ec33335d084aacf7c66901478a40e', 'message': 'Add some developer documentation for collectors\n\nThis adds an entry about collectors to the developer documentation.\nSome information about collectors has been moved from the admin to the\ndeveloper documentation.\n\nChange-Id: I2423761b9f7a672fe837d5d5954473301d936ba3\nStory: 2004179\nTask: 28514\n'}]",2,625924,e3171f869e7ec33335d084aacf7c66901478a40e,13,4,3,23060,,,0,"Add some developer documentation for collectors

This adds an entry about collectors to the developer documentation.
Some information about collectors has been moved from the admin to the
developer documentation.

Change-Id: I2423761b9f7a672fe837d5d5954473301d936ba3
Story: 2004179
Task: 28514
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/24/625924/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/architecture.rst', 'doc/source/developer/collector.rst', 'doc/source/developer/index.rst']",3,63cf71e48b0337dca45e45856d3c9e32a31a4aab,, collector,,181,30
openstack%2Fcharm-percona-cluster~master~I06d36c13ecc48a942e559d09d94e7813a2254479,openstack/charm-percona-cluster,master,I06d36c13ecc48a942e559d09d94e7813a2254479,Use correct SST password in backup action,MERGED,2018-06-22 04:58:15.000000000,2019-02-06 10:29:46.000000000,2018-07-12 16:05:22.000000000,"[{'_account_id': 935}, {'_account_id': 2711}, {'_account_id': 21107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-22 04:58:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/0097db8fb0a75c020c60bd914cc6d24e2bc3f44f', 'message': 'Use correct SST password in backup action\n\nThe backup action currently retrieves the sst-password from the charm\nconfiguration exclusively, instead of the leader settings where it is\nusually stored when auto-generated.\n\nAlways retrieve the correct SST password using the\npercona_utils._get_password function.\n\nChange-Id: I06d36c13ecc48a942e559d09d94e7813a2254479\n'}, {'number': 2, 'created': '2018-06-22 05:15:58.000000000', 'files': ['actions/actions.py'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/f19a766d430101f68b1b7ed31a8c1c64293afaa7', 'message': 'Use correct SST password in backup action\n\nThe backup action currently retrieves the sst-password from the charm\nconfiguration exclusively, instead of the leader settings where it is\nusually stored when auto-generated.\n\nAlways retrieve the correct SST password using the\npercona_utils._get_password function.\n\nChange-Id: I06d36c13ecc48a942e559d09d94e7813a2254479\n'}]",0,577346,f19a766d430101f68b1b7ed31a8c1c64293afaa7,11,4,2,21107,,,0,"Use correct SST password in backup action

The backup action currently retrieves the sst-password from the charm
configuration exclusively, instead of the leader settings where it is
usually stored when auto-generated.

Always retrieve the correct SST password using the
percona_utils._get_password function.

Change-Id: I06d36c13ecc48a942e559d09d94e7813a2254479
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/46/577346/1 && git format-patch -1 --stdout FETCH_HEAD,['actions/actions.py'],1,0097db8fb0a75c020c60bd914cc6d24e2bc3f44f,," _get_password, sstpw = _get_password(""sst-password"")"," sstpw = config(""sst-password"")",2,1
openstack%2Fsahara-plugin-cdh~master~I3573523a67d7b77cd2fce8746c334fc5b04f898f,openstack/sahara-plugin-cdh,master,I3573523a67d7b77cd2fce8746c334fc5b04f898f,archive-primary.cloudera.com -> archive.cloudera.com,MERGED,2019-02-04 21:05:23.000000000,2019-02-06 10:24:37.000000000,2019-02-06 10:24:37.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-02-04 21:05:23.000000000', 'files': ['sahara_plugin_cdh/plugins/cdh/v5_11_0/resources/images/ubuntu/wget_repo', 'sahara_plugin_cdh/plugins/cdh/v5_7_0/resources/images/ubuntu/wget_repo', 'sahara_plugin_cdh/plugins/cdh/v5_9_0/resources/images/ubuntu/wget_repo', 'sahara_plugin_cdh/plugins/cdh/v5_13_0/resources/images/ubuntu/wget_repo'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-cdh/commit/98480c8e740acc830dcde78318ee2169bfc1ec3c', 'message': 'archive-primary.cloudera.com -> archive.cloudera.com\n\nThe former is no more active.\n\nStory: 2004936\nTask: 29330\nChange-Id: I3573523a67d7b77cd2fce8746c334fc5b04f898f\n'}]",0,634809,98480c8e740acc830dcde78318ee2169bfc1ec3c,8,4,1,10459,,,0,"archive-primary.cloudera.com -> archive.cloudera.com

The former is no more active.

Story: 2004936
Task: 29330
Change-Id: I3573523a67d7b77cd2fce8746c334fc5b04f898f
",git fetch https://review.opendev.org/openstack/sahara-plugin-cdh refs/changes/09/634809/1 && git format-patch -1 --stdout FETCH_HEAD,"['sahara_plugin_cdh/plugins/cdh/v5_11_0/resources/images/ubuntu/wget_repo', 'sahara_plugin_cdh/plugins/cdh/v5_7_0/resources/images/ubuntu/wget_repo', 'sahara_plugin_cdh/plugins/cdh/v5_9_0/resources/images/ubuntu/wget_repo', 'sahara_plugin_cdh/plugins/cdh/v5_13_0/resources/images/ubuntu/wget_repo']",4,98480c8e740acc830dcde78318ee2169bfc1ec3c,fix-archive-cloudera, wget -qO - http://archive.cloudera.com/cdh5/ubuntu/xenial/amd64/cdh/archive.key | apt-key add - wget -qO - http://archive.cloudera.com/cm5/ubuntu/xenial/amd64/cm/archive.key | apt-key add -, wget -qO - http://archive-primary.cloudera.com/cdh5/ubuntu/xenial/amd64/cdh/archive.key | apt-key add - wget -qO - http://archive-primary.cloudera.com/cm5/ubuntu/xenial/amd64/cm/archive.key | apt-key add -,8,8
openstack%2Fsahara-plugin-vanilla~master~I370490435d40a4a53e70d32a7a08e551a2c1ad54,openstack/sahara-plugin-vanilla,master,I370490435d40a4a53e70d32a7a08e551a2c1ad54,"Reduce the dependencies, add more common Zuul jobs",MERGED,2019-02-05 17:16:14.000000000,2019-02-06 10:24:36.000000000,2019-02-06 10:24:36.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-05 17:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-vanilla/commit/5231caf55fa7a1f94c79310f21e1286206dc4977', 'message': 'Reduce the dependencies, add more common Zuul jobs\n\nThe requirements and constraints files have been mostly\ncopied from sahara.git, but most of the dependencies\nare not needed.\n\nExplicitly depend on the pre-release of Sahara for Stein.\n\nAdd few more jobs to avoid breakages, namely:\n- add check-requirements and openstack-lower-constraints-jobs;\n- replace tempest-plugin-jobs with openstack-python-jobs,\n  openstack-python35-jobs and openstack-python36-jobs\n  now that it is possible to depend on sahara.\n\nChange-Id: I370490435d40a4a53e70d32a7a08e551a2c1ad54\n'}, {'number': 2, 'created': '2019-02-05 18:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-vanilla/commit/20f6c2d09fd769a354e75cdd5fe36ebc3a5aeb45', 'message': 'Reduce the dependencies, add more common Zuul jobs\n\nThe requirements files have been mostly copied from\nsahara.git, but most of the dependencies are not needed.\n\nRefresh the content of lower-constraints.txt and ensure\nthat the tox environment consider also doc dependencies.\n\nExplicitly depend on the pre-release of Sahara for Stein.\n\nAdd few more jobs to avoid breakages, namely:\n- add check-requirements and openstack-lower-constraints-jobs;\n- replace tempest-plugin-jobs with openstack-python-jobs,\n  openstack-python35-jobs and openstack-python36-jobs\n  now that it is possible to depend on sahara.\n\nChange-Id: I370490435d40a4a53e70d32a7a08e551a2c1ad54\n'}, {'number': 3, 'created': '2019-02-05 18:57:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-vanilla/commit/7e2d5ba984f78fac2e8d85d647a8d0e11db8651c', 'message': 'Reduce the dependencies, add more common Zuul jobs\n\nThe requirements files have been mostly copied from\nsahara.git, but most of the dependencies are not needed.\n\nRefresh the content of lower-constraints.txt and ensure\nthat the lower-constraints tox environment considers also\nthe doc dependencies.\n\nExplicitly depend on the pre-release of Sahara for Stein.\n\nAdd few more jobs to avoid breakages, namely:\n- add check-requirements and openstack-lower-constraints-jobs;\n- replace tempest-plugin-jobs with openstack-python-jobs,\n  openstack-python35-jobs and openstack-python36-jobs\n  now that it is possible to depend on sahara.\n\nChange-Id: I370490435d40a4a53e70d32a7a08e551a2c1ad54\n'}, {'number': 4, 'created': '2019-02-05 18:59:09.000000000', 'files': ['requirements.txt', 'test-requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-vanilla/commit/a24c7744ad7149f8f29c6be1111f16d42623c50e', 'message': 'Reduce the dependencies, add more common Zuul jobs\n\nThe requirements files have been mostly copied from sahara.git,\nbut most of the dependencies are not needed.\n\nRefresh the content of lower-constraints.txt and ensure\nthat the lower-constraints tox environment considers also\nthe doc dependencies.\n\nExplicitly depend on the pre-release of Sahara for Stein.\n\nAdd few more jobs to avoid breakages, namely:\n- add check-requirements and openstack-lower-constraints-jobs;\n- replace tempest-plugin-jobs with openstack-python-jobs,\n  openstack-python35-jobs and openstack-python36-jobs\n  now that it is possible to depend on sahara.\n\nChange-Id: I370490435d40a4a53e70d32a7a08e551a2c1ad54\n'}]",0,634985,a24c7744ad7149f8f29c6be1111f16d42623c50e,11,2,4,10459,,,0,"Reduce the dependencies, add more common Zuul jobs

The requirements files have been mostly copied from sahara.git,
but most of the dependencies are not needed.

Refresh the content of lower-constraints.txt and ensure
that the lower-constraints tox environment considers also
the doc dependencies.

Explicitly depend on the pre-release of Sahara for Stein.

Add few more jobs to avoid breakages, namely:
- add check-requirements and openstack-lower-constraints-jobs;
- replace tempest-plugin-jobs with openstack-python-jobs,
  openstack-python35-jobs and openstack-python36-jobs
  now that it is possible to depend on sahara.

Change-Id: I370490435d40a4a53e70d32a7a08e551a2c1ad54
",git fetch https://review.opendev.org/openstack/sahara-plugin-vanilla refs/changes/85/634985/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', '.zuul.yaml', 'lower-constraints.txt']",4,5231caf55fa7a1f94c79310f21e1286206dc4977,clean-deps,,alabaster==0.7.10 alembic==0.8.10 amqp==2.2.2 appdirs==1.4.3 asn1crypto==0.24.0 astroid==1.3.8bandit==1.1.0bcrypt==3.1.4 botocore==1.5.1 cachetools==2.0.1 castellan==0.16.0 certifi==2018.1.18 cffi==1.11.5 chardet==3.0.4 click==6.7 cliff==2.11.0 cmd2==0.8.1 contextlib2==0.5.5cryptography==2.1.4 debtcollector==1.19.0 decorator==4.2.1 deprecation==2.0docutils==0.14 dogpile.cache==0.6.5 dulwich==0.19.0 enum-compat==0.0.2extras==1.0.0 fasteners==0.14.1Flask==1.0.2futurist==1.6.0 gitdb2==2.0.3 GitPython==2.1.8 greenlet==0.4.13idna==2.6 imagesize==1.0.0 iso8601==0.1.11 itsdangerous==0.24 Jinja2==2.10 jmespath==0.9.3 jsonpatch==1.21 jsonpointer==2.0 jsonschema==2.6.0 keystoneauth1==3.4.0 keystonemiddleware==4.17.0 kombu==4.1.0 linecache2==1.0.0 logilab-common==1.4.1 Mako==1.0.7 MarkupSafe==1.0 mccabe==0.2.1monotonic==1.4 mox3==0.25.0 msgpack==0.5.6 munch==2.2.0 netaddr==0.7.19 netifaces==0.10.6openstacksdk==0.12.0os-client-config==1.29.0 os-service-types==1.2.0 osc-lib==1.10.0 oslo.cache==1.29.0 oslo.concurrency==3.26.0 oslo.config==5.2.0 oslo.context==2.19.2 oslo.db==4.27.0oslo.messaging==5.29.0 oslo.middleware==3.31.0 oslo.policy==1.30.0 oslo.rootwrap==5.8.0oslo.service==1.24.0 oslo.upgradecheck==0.1.0packaging==17.1 paramiko==2.0.0 Paste==2.0.3 PasteDeploy==1.5.2pika-pool==0.1.3 pika==0.10.0 prettytable==0.7.2 psycopg2==2.6.2 pyasn1==0.4.2 pycadf==2.7.0 pycparser==2.18 pycodestyle==2.4.0 pyflakes==0.8.1 Pygments==2.2.0 pyinotify==0.9.6PyMySQL==0.7.6 PyNaCl==1.2.1 pyOpenSSL==17.5.0 pyparsing==2.2.0 pyperclip==1.6.0 python-barbicanclient==4.6.0 python-cinderclient==3.3.0 python-dateutil==2.7.0 python-editor==1.0.3 python-glanceclient==2.8.0 python-heatclient==1.10.0 python-keystoneclient==3.8.0 python-manilaclient==1.16.0 python-mimeparse==1.6.0 python-neutronclient==6.7.0 python-novaclient==9.1.0 python-openstackclient==3.14.0 python-saharaclient==1.4.0 python-subunit==1.2.0 python-swiftclient==3.2.0 pytz==2018.3 PyYAML==3.12repoze.lru==0.7requestsexceptions==1.4.0 restructuredtext-lint==1.1.3 rfc3986==1.1.0 Routes==2.4.1 simplejson==3.13.2smmap2==2.0.3 snowballstemmer==1.2.1sphinxcontrib-websupport==1.0.1 sqlalchemy-migrate==0.11.0 SQLAlchemy==1.0.10 sqlparse==0.2.4 statsd==3.2.2stevedore==1.20.0 Tempita==0.5.2 tenacity==4.9.0 testresources==2.0.0tooz==1.58.0 traceback2==1.4.0 unittest2==1.1.0 urllib3==1.22 vine==1.1.4 voluptuous==0.11.1 warlock==1.3.0 WebOb==1.7.1 Werkzeug==0.14.1 wrapt==1.10.11,6,173
